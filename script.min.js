const _0x1f917e=_0x36ac;(function(_0x568499,_0x5aff24){const _0x3c1af6=_0x36ac,_0x44c136=_0x568499();while(!![]){try{const _0xbdc4bd=-parseInt(_0x3c1af6(0x7ef))/0x1+parseInt(_0x3c1af6(0xc71))/0x2*(-parseInt(_0x3c1af6(0x648))/0x3)+parseInt(_0x3c1af6(0x525))/0x4+parseInt(_0x3c1af6(0x1b8))/0x5+parseInt(_0x3c1af6(0xabd))/0x6+-parseInt(_0x3c1af6(0x7eb))/0x7*(-parseInt(_0x3c1af6(0x4e9))/0x8)+-parseInt(_0x3c1af6(0x77f))/0x9;if(_0xbdc4bd===_0x5aff24)break;else _0x44c136['push'](_0x44c136['shift']());}catch(_0x5c64e3){_0x44c136['push'](_0x44c136['shift']());}}}(_0x242f,0xa4b53));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1f917e(0x8bd),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x1f917e(0x8bd),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x1f917e(0x8bd),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x16ed27=_0x1f917e;if(_0x16ed27(0x7e0)in navigator)try{wakeLock=await navigator[_0x16ed27(0x7e0)][_0x16ed27(0x1cd)](_0x16ed27(0x25c)),console[_0x16ed27(0x16e)](_0x16ed27(0xc50)),wakeLock[_0x16ed27(0x8de)]('release',()=>{const _0x320855=_0x16ed27;console[_0x320855(0x16e)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x4018dd){console[_0x16ed27(0x512)](_0x16ed27(0x190)+_0x4018dd[_0x16ed27(0xc85)]+',\x20'+_0x4018dd['message']);}else console[_0x16ed27(0x452)](_0x16ed27(0x98e));},releaseWakeLock=async()=>{const _0x536a7f=_0x1f917e;wakeLock!==null&&(await wakeLock[_0x536a7f(0x8c0)](),wakeLock=null,console[_0x536a7f(0x16e)](_0x536a7f(0x976)));};let dimTimer=null;const ANONYMOUS_NAMES=[_0x1f917e(0x787),_0x1f917e(0x271),_0x1f917e(0x1e5),_0x1f917e(0x4e4),_0x1f917e(0xaa4),'เต่าสายฟ้า','โลมาบิน',_0x1f917e(0x716),_0x1f917e(0x769),'จิงโจ้สโลว์ไลฟ์','ผู้พิชิตดาว',_0x1f917e(0x808),_0x1f917e(0x33a),_0x1f917e(0x80f),_0x1f917e(0x6f0),_0x1f917e(0x9ce),'นินจาชาเขียว','ซามูไรสายเดี่ยว',_0x1f917e(0x5f7),_0x1f917e(0x3e7),_0x1f917e(0xa4a),_0x1f917e(0xaac),_0x1f917e(0xb58),_0x1f917e(0xb89),'กุ้งเต้นแร้งกา',_0x1f917e(0x694),_0x1f917e(0x2e0),_0x1f917e(0x7b1),_0x1f917e(0x9f7),_0x1f917e(0xcf8),_0x1f917e(0x4ed),_0x1f917e(0x709),_0x1f917e(0xb42),_0x1f917e(0xcb6),_0x1f917e(0x909),_0x1f917e(0x408),_0x1f917e(0xa30),'อินฟลูเอนเซอร์',_0x1f917e(0x74f),_0x1f917e(0x3d5),_0x1f917e(0xa94),_0x1f917e(0x731),_0x1f917e(0x8a9),'พิซซ่าหน้าทุเรียน',_0x1f917e(0x22c),'ข้าวมันไก่พิเศษ',_0x1f917e(0x350),_0x1f917e(0xcdd),_0x1f917e(0xae5),_0x1f917e(0x416),_0x1f917e(0x957),'ปวดหลัง',_0x1f917e(0x666),_0x1f917e(0x9c4),'ติดซีรีส์',_0x1f917e(0xb96),_0x1f917e(0x498),_0x1f917e(0x3cd),'404\x20Not\x20Found',_0x1f917e(0x568),_0x1f917e(0x4e0),'ตะวันฉาย',_0x1f917e(0x8d0),'ก้อนเมฆ','ดวงดาว',_0x1f917e(0xa13),_0x1f917e(0x767),'ภูเขา','ป่าไม้',_0x1f917e(0x3ed),_0x1f917e(0x67c),_0x1f917e(0x71d),_0x1f917e(0x592),_0x1f917e(0x7a0),_0x1f917e(0xbae),'นักเขียน',_0x1f917e(0x328),_0x1f917e(0x329),_0x1f917e(0x572),_0x1f917e(0x7cd),_0x1f917e(0xc2b),'ปล่อยพลัง',_0x1f917e(0xb5c),_0x1f917e(0x9aa),_0x1f917e(0x9af),'คาถาแยกเงาพันร่าง',_0x1f917e(0xd16),_0x1f917e(0x6ab),_0x1f917e(0xc66),'ฮัลค์','รักแรกพบ','คนโสด',_0x1f917e(0x94e),_0x1f917e(0x5b6),_0x1f917e(0x869),_0x1f917e(0x564),'แฟนทิพย์',_0x1f917e(0x516),_0x1f917e(0xbd5),_0x1f917e(0x2c1)],inactivityTime=0xea60;function resetDimTimer(){const _0x74c07d=_0x1f917e;if(!document['body'][_0x74c07d(0x517)][_0x74c07d(0x7ab)](_0x74c07d(0x6b1))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x21b90f=_0x74c07d;document[_0x21b90f(0x667)][_0x21b90f(0x517)][_0x21b90f(0x546)]('dimmed'),console[_0x21b90f(0x16e)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x4fc3bc){const _0x546819=_0x1f917e;_0x4fc3bc&&(_0x4fc3bc[_0x546819(0x71b)](),_0x4fc3bc[_0x546819(0x9f2)]());document[_0x546819(0x667)][_0x546819(0x517)]['remove']('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5b0322=_0x546819;document['body'][_0x5b0322(0x517)][_0x5b0322(0x546)](_0x5b0322(0x6b1));},inactivityTime);}function stopDimTimer(){const _0x23efa7=_0x1f917e;if(dimTimer)clearTimeout(dimTimer);document[_0x23efa7(0x667)][_0x23efa7(0x517)][_0x23efa7(0x1b5)](_0x23efa7(0x6b1)),window['removeEventListener'](_0x23efa7(0x53e),resetDimTimer),window[_0x23efa7(0xcab)](_0x23efa7(0xd0f),resetDimTimer),window[_0x23efa7(0xcab)](_0x23efa7(0x486),resetDimTimer),window[_0x23efa7(0xcab)](_0x23efa7(0xa65),resetDimTimer),console[_0x23efa7(0x16e)](_0x23efa7(0x929));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x14109e,_0x4faee5=![]){const _0x17144e=_0x1f917e,_0x9a4bb6=allQuizzes['find'](_0x54af5a=>_0x54af5a['id']===_0x14109e)||allQuizzesGlobal[_0x17144e(0xaa2)](_0x36e271=>_0x36e271['id']===_0x14109e);if(!_0x9a4bb6){showMessage(_0x17144e(0x827));return;}currentQuizData=getShuffledQuiz(_0x9a4bb6);const _0x5f504f=Math[_0x17144e(0x854)](0x3e8+Math[_0x17144e(0xca7)]()*0x2328)['toString']();try{const _0x337d42=await addDoc(collection(db,_0x17144e(0x366)+appId+_0x17144e(0x2f3)),{'quizId':_0x9a4bb6['id'],'projectId':_0x9a4bb6[_0x17144e(0x7f9)],'status':_0x17144e(0xaec),'pin':_0x5f504f,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4faee5});currentTeamQuizId=_0x337d42['id'],showView(_0x17144e(0x5ea)),renderAdminTeamQuizDashboard(_0x5f504f,_0x9a4bb6[_0x17144e(0x533)]),listenForTeamQuizUpdates();}catch(_0xd28271){console[_0x17144e(0x512)](_0x17144e(0x1c7),_0xd28271),showMessage(_0x17144e(0x90f));}}function renderAdminTeamQuizDashboard(_0x324b95,_0x416e2f,_0x11c862=_0x1f917e(0xad6)){const _0x3fb9d0=_0x1f917e,_0x1f25ad=_0x11c862===_0x3fb9d0(0x6a0)?_0x3fb9d0(0x645):_0x3fb9d0(0xacb);liveGameView[_0x3fb9d0(0xcd8)]=_0x3fb9d0(0x5c9)+_0x1f25ad+':\x20'+_0x416e2f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x324b95+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x3fb9d0(0x2bc)]('end-team-quiz-btn')[_0x3fb9d0(0x8de)](_0x3fb9d0(0xc20),async()=>{const _0x431fdd=_0x3fb9d0;showConfirmation(_0x431fdd(0xaaa),async()=>{const _0x4b8c19=_0x431fdd;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x4b8c19(0x366)+appId+_0x4b8c19(0x2f3),currentTeamQuizId)),showView(_0x4b8c19(0x682));});});}function listenForTeamQuizUpdates(){const _0x1b3f64=_0x1f917e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x42eca3=doc(db,_0x1b3f64(0x366)+appId+_0x1b3f64(0x2f3),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x42eca3,_0x164166=>{const _0x597eee=_0x1b3f64;if(!_0x164166['exists']()){sessionStorage[_0x597eee(0x3c9)](_0x597eee(0x191));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x597eee(0x8f9)?showView(_0x597eee(0x682)):showView(_0x597eee(0x8fb));return;}const _0x4a9557=_0x164166['data']();if(currentMode==='admin'){if(_0x4a9557[_0x597eee(0xbe2)]===_0x597eee(0x6a0)&&_0x4a9557[_0x597eee(0x845)]!==_0x597eee(0x985)&&_0x4a9557[_0x597eee(0x845)]!=='finished'){const _0x3d1f89=Object[_0x597eee(0x631)](_0x4a9557[_0x597eee(0x764)]||{});if(_0x3d1f89[_0x597eee(0xab1)]>0x0){const _0x4f8833=_0x3d1f89[_0x597eee(0x680)](_0x48b604=>_0x48b604[_0x597eee(0x212)]===!![]);_0x4f8833&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4a9557);}else{if(_0x4a9557['status']==='podium'||_0x4a9557[_0x597eee(0x845)]===_0x597eee(0x3b5)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4a9557['mode']==='group'){const _0x107fd2=_0x4a9557[_0x597eee(0x764)][userId];(!_0x107fd2||!_0x107fd2[_0x597eee(0x212)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x546ff1){const _0x3ad6d6=_0x1f917e;console[_0x3ad6d6(0x16e)](_0x3ad6d6(0x3be));const _0xe0f953=doc(db,_0x3ad6d6(0x366)+appId+_0x3ad6d6(0x2f3),_0x546ff1);try{const _0x148044=await getDoc(_0xe0f953);if(_0x148044[_0x3ad6d6(0x485)]()){const _0x4589b3=_0x148044[_0x3ad6d6(0x923)]();_0x4589b3[_0x3ad6d6(0x395)]&&await saveGameResultsAsSubmissions(_0x4589b3);}await updateDoc(_0xe0f953,{'status':'podium'});}catch(_0x29237e){console[_0x3ad6d6(0x512)](_0x3ad6d6(0xb32),_0x29237e);}}function updateAdminTeamDashboard(_0x1addbb){const _0x1147fe=_0x1f917e,_0x48bf3b=document['getElementById']('team-player-status-grid');if(!_0x48bf3b)return;const _0x30a031=_0x1addbb['mode']||_0x1147fe(0xad6),_0xe55ea8=currentQuizData[_0x1147fe(0x320)][_0x1147fe(0xab1)];if(_0x30a031===_0x1147fe(0x6a0)){const _0xb9c24b=Object['values'](_0x1addbb[_0x1147fe(0x764)]||{});if(_0xb9c24b[_0x1147fe(0xab1)]===0x0){_0x48bf3b['innerHTML']=_0x1147fe(0x872);return;}const _0x1c5ca9=[..._0xb9c24b][_0x1147fe(0x817)]((_0x356c46,_0x108f50)=>_0x108f50['score']-_0x356c46[_0x1147fe(0xa20)]),_0x149aa3=_0x1c5ca9[_0x1147fe(0x618)]((_0x263094,_0x44374b)=>{const _0x198997=_0x1147fe,_0xd080e2=_0x263094[_0x198997(0x5b7)]?.['length']||0x0;return _0x198997(0x48b)+(_0x44374b+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x263094[_0x198997(0x28b)][_0x198997(0xd29)](',\x20')+_0x198997(0x9bb)+_0xd080e2+'/'+_0xe55ea8+_0x198997(0x548)+_0x263094[_0x198997(0xa20)]+_0x198997(0x83d);})['join'](''),_0x1b80fa=currentQuizData[_0x1147fe(0x320)][_0x1147fe(0x618)]((_0x3fc665,_0x4faf81)=>{const _0x4e340d=_0x1147fe;let _0x561a8a=0x0,_0x4cb6aa=0x0;_0xb9c24b[_0x4e340d(0x229)](_0x1c092f=>{const _0xa18554=_0x4e340d,_0x116ac6=_0x1c092f[_0xa18554(0x5b7)]?.['find'](_0x367fa3=>_0x367fa3['questionIndex']===_0x4faf81);if(_0x116ac6){_0x4cb6aa++;if(_0x116ac6[_0xa18554(0x2a1)])_0x561a8a++;}});const _0x55f1f5=_0x4cb6aa>0x0&&_0x4cb6aa===_0xb9c24b[_0x4e340d(0xab1)],_0x4a10e1=_0x55f1f5?_0x4e340d(0x4b5):'bg-black/10',_0x50fbe2=_0x55f1f5?_0x4e340d(0xc11):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x4a10e1+_0x4e340d(0x370)+(_0x4faf81+0x1)+':</span><span>'+_0x50fbe2+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x561a8a+'/'+_0xb9c24b[_0x4e340d(0xab1)]+_0x4e340d(0x681);})[_0x1147fe(0xd29)]('');_0x48bf3b[_0x1147fe(0xcd8)]=_0x1147fe(0x9ac)+_0x149aa3+_0x1147fe(0xb31)+_0x1b80fa+'</div></div></div>';return;}const _0x530d73=_0x1addbb[_0x1147fe(0xb0c)]||{},_0x1625c2=Object[_0x1147fe(0x420)](_0x530d73);if(_0x1625c2[_0x1147fe(0xab1)]===0x0){_0x48bf3b[_0x1147fe(0xcd8)]=_0x1147fe(0xa73);return;}const _0xfffdec=_0x1625c2[_0x1147fe(0x618)](_0x352e65=>({'name':_0x352e65,'score':_0x530d73[_0x352e65][_0x1147fe(0xa20)]||0x0}))[_0x1147fe(0x817)]((_0x488ec7,_0x5ae7f3)=>_0x5ae7f3[_0x1147fe(0xa20)]-_0x488ec7['score']),_0x40ff4f=_0xfffdec[_0x1147fe(0x618)](_0x19dc14=>{const _0x29b04a=_0x1147fe,_0x472df9=_0x530d73[_0x19dc14[_0x29b04a(0xc85)]]?.[_0x29b04a(0x5b7)]?.['length']||0x0,_0x1088b1=Math['ceil'](_0xe55ea8/_0x1625c2[_0x29b04a(0xab1)]);return _0x29b04a(0x46f)+_0x19dc14['name']+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x472df9+'/'+_0x1088b1+_0x29b04a(0x4f0)+_0x19dc14[_0x29b04a(0xa20)]+_0x29b04a(0xd30);})['join'](''),_0x44afb2=_0x1625c2[_0x1147fe(0x5e7)]((_0x275d17,_0x4030dd)=>_0x275d17+(_0x530d73[_0x4030dd]['answers']?.[_0x1147fe(0xab1)]||0x0),0x0),_0x328a3a=currentQuizData[_0x1147fe(0x320)][_0x1147fe(0x618)]((_0x2070ae,_0x2a2ab5)=>{const _0xd4efd8=_0x1147fe;let _0x211a8f=null,_0x8b605f=null;for(const _0x41bc81 of _0x1625c2){const _0x44c06b=_0x530d73[_0x41bc81][_0xd4efd8(0x5b7)]?.[_0xd4efd8(0xaa2)](_0xbb734c=>_0xbb734c[_0xd4efd8(0x3f9)]===_0x2a2ab5);if(_0x44c06b){_0x211a8f=_0x44c06b,_0x8b605f=_0x41bc81;break;}}const _0x4b233d=!!_0x211a8f,_0x17e5c4=_0x4b233d&&_0x211a8f[_0xd4efd8(0x2a1)],_0x277ed3=(Math[_0xd4efd8(0x854)](_0x2a2ab5/_0x1625c2[_0xd4efd8(0xab1)])+0x1)*_0x1625c2['length'],_0x168e8a=_0x44afb2>=_0x277ed3,_0x2b9208=_0x168e8a?_0xd4efd8(0x887):_0xd4efd8(0x7a3),_0x5cf785=_0x168e8a?_0xd4efd8(0xc11):'';let _0xc09c2a='รอ...';return _0x4b233d&&(_0xc09c2a=_0x8b605f+_0xd4efd8(0xa16)+(_0x17e5c4?_0xd4efd8(0xc99):_0xd4efd8(0x34d))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x2b9208+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x2a2ab5+0x1)+_0xd4efd8(0x41b)+_0x5cf785+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0xc09c2a+_0xd4efd8(0x611);})[_0x1147fe(0xd29)]('');_0x48bf3b[_0x1147fe(0xcd8)]=_0x1147fe(0x96e)+_0x40ff4f+_0x1147fe(0x90b)+_0x328a3a+_0x1147fe(0x4d7);}async function handleJoinTeamQuiz(){const _0x5be5c1=_0x1f917e,_0x53cae8=prompt(_0x5be5c1(0x5b5));if(!_0x53cae8||_0x53cae8[_0x5be5c1(0x1df)]()['length']!==0x4){showMessage(_0x5be5c1(0x380));return;}try{const _0x239e4c=collection(db,_0x5be5c1(0x366)+appId+'/public/data/teamQuizzes'),_0x4ff377=query(_0x239e4c,where(_0x5be5c1(0x499),'==',_0x53cae8[_0x5be5c1(0x1df)]()),where(_0x5be5c1(0x845),'==',_0x5be5c1(0xaec))),_0x4117ea=await getDocs(_0x4ff377);if(_0x4117ea[_0x5be5c1(0x24d)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x589a94=_0x4117ea[_0x5be5c1(0xac3)][0x0];currentTeamQuizId=_0x589a94['id'];const _0x4f5fca=_0x589a94[_0x5be5c1(0x923)](),_0x4e2400=doc(db,_0x5be5c1(0x366)+appId+_0x5be5c1(0x7ad),_0x4f5fca[_0x5be5c1(0x7f9)]),_0x5ae704=doc(db,_0x5be5c1(0x366)+appId+_0x5be5c1(0xcbc),_0x4f5fca[_0x5be5c1(0x1c3)]),[_0x34bd99,_0x2a2d13]=await Promise[_0x5be5c1(0x8bd)]([getDoc(_0x4e2400),getDoc(_0x5ae704)]);if(!_0x34bd99['exists']()||!_0x2a2d13[_0x5be5c1(0x485)]())throw new Error(_0x5be5c1(0x197));currentQuizData=getShuffledQuiz({'id':_0x2a2d13['id'],..._0x2a2d13['data']()});const _0x1eaa57=_0x34bd99[_0x5be5c1(0x923)]();showTeamPlayerSelection(_0x1eaa57[_0x5be5c1(0x456)],currentQuizData[_0x5be5c1(0x533)]);}catch(_0x394438){console[_0x5be5c1(0x512)](_0x5be5c1(0x4dc),_0x394438),showMessage('เกิดข้อผิดพลาด:\x20'+_0x394438['message']);}}async function handleJoinGroupActivity(){const _0x2df0fa=_0x1f917e,_0x513f07=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x513f07||_0x513f07[_0x2df0fa(0x1df)]()[_0x2df0fa(0xab1)]!==0x4){showMessage(_0x2df0fa(0xcb5));return;}const _0x4629dc=_0x513f07[_0x2df0fa(0x1df)]();showMessage(_0x2df0fa(0x639));try{const _0x2df90d=collection(db,_0x2df0fa(0x366)+appId+_0x2df0fa(0x2f3)),_0x2ec833=query(_0x2df90d,where(_0x2df0fa(0x499),'==',_0x4629dc),where('status','==',_0x2df0fa(0xaec))),_0x27d79f=await getDocs(_0x2ec833);if(!_0x27d79f[_0x2df0fa(0x24d)]){console[_0x2df0fa(0x16e)](_0x2df0fa(0x187)),await proceedWithTeamQuizJoin(_0x27d79f[_0x2df0fa(0xac3)][0x0]);return;}const _0x2bbb48=collection(db,_0x2df0fa(0x366)+appId+_0x2df0fa(0xa36)),_0x2472eb=query(_0x2bbb48,where(_0x2df0fa(0x499),'==',_0x4629dc),where(_0x2df0fa(0x845),'==',_0x2df0fa(0xaec))),_0x2b99c2=await getDocs(_0x2472eb);if(!_0x2b99c2['empty']){console[_0x2df0fa(0x16e)](_0x2df0fa(0x675)),await proceedWithSyncQuizJoin(_0x2b99c2[_0x2df0fa(0xac3)][0x0]);return;}showMessage(_0x2df0fa(0x5c2));}catch(_0x49dbd1){console[_0x2df0fa(0x512)](_0x2df0fa(0x2c9),_0x49dbd1),showMessage(_0x2df0fa(0xa6f)+_0x49dbd1[_0x2df0fa(0xaf3)]);}}async function proceedWithTeamQuizJoin(_0x2648c6){const _0x5ae485=_0x1f917e;currentTeamQuizId=_0x2648c6['id'];const _0x8cd469=_0x2648c6[_0x5ae485(0x923)](),_0x36b178=doc(db,_0x5ae485(0x366)+appId+'/public/data/projects',_0x8cd469['projectId']),_0x198ef8=doc(db,_0x5ae485(0x366)+appId+'/public/data/quizzes',_0x8cd469['quizId']),[_0x1a9280,_0x10ec13]=await Promise[_0x5ae485(0x8bd)]([getDoc(_0x36b178),getDoc(_0x198ef8)]);if(!_0x1a9280[_0x5ae485(0x485)]()||!_0x10ec13[_0x5ae485(0x485)]())throw new Error(_0x5ae485(0x197));currentQuizData=getShuffledQuiz({'id':_0x10ec13['id'],..._0x10ec13[_0x5ae485(0x923)]()}),showTeamPlayerSelection(_0x1a9280[_0x5ae485(0x923)]()['students'],currentQuizData[_0x5ae485(0x533)],_0x8cd469['mode']||'team'),messageModal[_0x5ae485(0x517)][_0x5ae485(0x546)](_0x5ae485(0x44c));}async function proceedWithSyncQuizJoin(_0x4f3066){const _0xd62f24=_0x1f917e;currentLiveGameId=_0x4f3066['id'];const _0x2dffa2=_0x4f3066[_0xd62f24(0x923)](),_0x172590=doc(db,_0xd62f24(0x366)+appId+_0xd62f24(0xcbc),_0x2dffa2[_0xd62f24(0x1c3)]),_0x2c29ae=await getDoc(_0x172590);if(!_0x2c29ae[_0xd62f24(0x485)]())throw new Error(_0xd62f24(0x827));const _0xfc4e9=_0x2c29ae['data'](),_0x175b6c=doc(db,_0xd62f24(0x366)+appId+_0xd62f24(0x7ad),_0xfc4e9[_0xd62f24(0x7f9)]),_0x228313=await getDoc(_0x175b6c);if(!_0x228313[_0xd62f24(0x485)]())throw new Error(_0xd62f24(0x30e));currentQuizData=_0x2dffa2[_0xd62f24(0xa40)],showView(_0xd62f24(0x2ce)),showTeamPlayerSelection(_0x228313[_0xd62f24(0x923)]()['students'],_0xfc4e9[_0xd62f24(0x533)],_0xd62f24(0x899)),document[_0xd62f24(0x2bc)]('confirm-team-players-btn')[_0xd62f24(0x7aa)]=confirmAndJoinSyncGame,messageModal[_0xd62f24(0x517)][_0xd62f24(0x546)](_0xd62f24(0x44c));}function getCleanApplicationHTML(){const _0x3efd33=_0x1f917e,_0x21a704=document[_0x3efd33(0x2bc)](_0x3efd33(0xc6f));if(!_0x21a704)return'';const _0x1e131d=_0x21a704[_0x3efd33(0x2af)](!![]);return _0x1e131d[_0x3efd33(0x362)](_0x3efd33(0x5c4))[_0x3efd33(0x229)](_0x31c452=>{const _0x4806e5=_0x3efd33;_0x31c452[_0x4806e5(0x517)][_0x4806e5(0x1b5)](_0x4806e5(0xd09),_0x4806e5(0xb34)),_0x31c452[_0x4806e5(0x8ab)]=![];}),_0x1e131d['innerHTML'];}function showTeamPlayerSelection(_0x381569,_0x3f9338,_0x521d87=_0x1f917e(0xad6)){const _0x19c7cd=_0x1f917e;studentInitialView['classList'][_0x19c7cd(0x546)]('hidden'),studentJoinGameView[_0x19c7cd(0x517)][_0x19c7cd(0x546)](_0x19c7cd(0x44c)),document[_0x19c7cd(0x2bc)](_0x19c7cd(0xcaa))['classList'][_0x19c7cd(0x1b5)](_0x19c7cd(0x44c));let _0x5d0ea1=_0x19c7cd(0xacb);if(_0x521d87===_0x19c7cd(0x6a0))_0x5d0ea1=_0x19c7cd(0x645);else _0x521d87==='sync'&&(_0x5d0ea1=_0x19c7cd(0x1f7));document['getElementById'](_0x19c7cd(0x165))[_0x19c7cd(0x806)]=_0x5d0ea1+':\x20'+_0x3f9338;const _0x2e1e25=document[_0x19c7cd(0x2bc)](_0x19c7cd(0x1f5));if(!_0x381569||_0x381569[_0x19c7cd(0xab1)]===0x0){_0x2e1e25[_0x19c7cd(0xcd8)]=_0x19c7cd(0xcef),document[_0x19c7cd(0x2bc)]('confirm-team-players-btn')[_0x19c7cd(0x8ab)]=!![];return;}_0x2e1e25[_0x19c7cd(0xcd8)]=_0x381569[_0x19c7cd(0x618)](_0x32b76b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x32b76b+_0x19c7cd(0xb15)+_0x32b76b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x19c7cd(0xd29)](''),document[_0x19c7cd(0x2bc)](_0x19c7cd(0x1bf))[_0x19c7cd(0x8ab)]=![];}async function confirmAndStartTeamQuiz(){const _0x4bfe6b=_0x1f917e,_0x3afa55=Array[_0x4bfe6b(0xaf4)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x4bfe6b(0x618)](_0x447b8d=>_0x447b8d[_0x4bfe6b(0xa21)]);if(_0x3afa55[_0x4bfe6b(0xab1)]===0x0){showMessage(_0x4bfe6b(0x8c3));return;}localTeamPlayers=_0x3afa55,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x276dbe=doc(db,_0x4bfe6b(0x366)+appId+_0x4bfe6b(0x2f3),currentTeamQuizId);try{const _0x1a073c=await getDoc(_0x276dbe);if(!_0x1a073c[_0x4bfe6b(0x485)]())throw new Error(_0x4bfe6b(0x9df));const _0x264dbe=_0x1a073c['data']();if(_0x264dbe[_0x4bfe6b(0xbe2)]==='group'){const _0x5ffffa={[_0x4bfe6b(0x8d7)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x276dbe,_0x5ffffa);}else{const _0x3e89e8=_0x264dbe['responses']||{};localTeamPlayers[_0x4bfe6b(0x229)](_0x2a994e=>{!_0x3e89e8[_0x2a994e]&&(_0x3e89e8[_0x2a994e]={'score':0x0,'answers':[]});}),await updateDoc(_0x276dbe,{'responses':_0x3e89e8});}document['getElementById'](_0x4bfe6b(0xcaa))['classList'][_0x4bfe6b(0x546)]('hidden'),renderTeamQuizQuestion();const _0x325723={'gameId':currentTeamQuizId,'mode':_0x264dbe[_0x4bfe6b(0xbe2)]||_0x4bfe6b(0xad6),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4bfe6b(0xa67)](_0x4bfe6b(0x191),JSON[_0x4bfe6b(0x4e2)](_0x325723)),listenForTeamQuizUpdates();}catch(_0x3c53f6){console[_0x4bfe6b(0x512)](_0x4bfe6b(0xbaf),_0x3c53f6),showMessage(_0x4bfe6b(0x5c3));}}async function renderTeamQuizQuestion(){const _0xb69fd1=_0x1f917e;if(localQuestionIndex>=currentQuizData[_0xb69fd1(0x320)][_0xb69fd1(0xab1)]){displayTeamQuizFinalResults();return;}const _0x2f647c=currentQuizData[_0xb69fd1(0x320)][localQuestionIndex],_0x1e925f=localTeamPlayers[localPlayerIndex],_0x33195a=_0x2f647c['questionType']||currentQuizData[_0xb69fd1(0x13d)];let _0x516afb=_0x2f647c[_0xb69fd1(0x629)]||_0x2f647c[_0xb69fd1(0x551)],_0x78b6b8='';switch(_0x33195a){case'multiple_choice':case'fill_in_with_choices':_0x78b6b8=_0x2f647c['options'][_0xb69fd1(0x618)]((_0x1eab9b,_0x5c4a29)=>_0xb69fd1(0x18e)+_0x5c4a29+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x5c4a29+_0xb69fd1(0x4c0)+_0x5c4a29+'\x22>'+_0x1eab9b+'</label></div>')['join']('');break;case'true_false':_0x78b6b8=_0xb69fd1(0xb00);break;case'short_answer':case'fill_in_no_choices':_0x78b6b8=_0xb69fd1(0xa34);break;case'matching_item':_0x78b6b8=_0xb69fd1(0xc67)+_0x2f647c['allResponses'][_0xb69fd1(0x618)](_0x439cf2=>_0xb69fd1(0x9dd)+_0x439cf2+'\x22>'+_0x439cf2+_0xb69fd1(0xba6))[_0xb69fd1(0xd29)]('')+'</select>';break;default:_0x78b6b8=_0xb69fd1(0xbf7);break;}studentQuizArea[_0xb69fd1(0xcd8)]=_0xb69fd1(0x5d1)+(localQuestionIndex+0x1)+_0xb69fd1(0x4b8)+currentQuizData['questions'][_0xb69fd1(0xab1)]+_0xb69fd1(0x216)+_0x1e925f+_0xb69fd1(0x323)+(localQuestionIndex+0x1)+'.\x20'+_0x516afb+_0xb69fd1(0xc04)+(_0x2f647c[_0xb69fd1(0x679)]?_0xb69fd1(0x689)+_0x2f647c['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x78b6b8+_0xb69fd1(0x7f7),studentQuizArea[_0xb69fd1(0x517)][_0xb69fd1(0x1b5)](_0xb69fd1(0x44c));if(window[_0xb69fd1(0x13e)])MathJax['typesetPromise']([studentQuizArea]);document[_0xb69fd1(0x2bc)](_0xb69fd1(0x84d))[_0xb69fd1(0x8de)](_0xb69fd1(0xc20),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x5cd88f=_0x1f917e,_0x1b7c5f=currentQuizData['questions'][localQuestionIndex],_0x4ecf83=_0x1b7c5f[_0x5cd88f(0x789)]||currentQuizData[_0x5cd88f(0x13d)];let _0x3acaf7=null,_0x9248fb=![];if(_0x4ecf83===_0x5cd88f(0x48c)||_0x4ecf83===_0x5cd88f(0x6f2)){const _0x104ef2=document[_0x5cd88f(0x22d)](_0x5cd88f(0x3fd));if(!_0x104ef2||!_0x104ef2[_0x5cd88f(0xa21)][_0x5cd88f(0x1df)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x3acaf7=_0x104ef2[_0x5cd88f(0xa21)][_0x5cd88f(0x1df)](),_0x9248fb=await gradeShortAnswer(_0x3acaf7,_0x1b7c5f);}else{const _0x54b3f2=document[_0x5cd88f(0x22d)](_0x5cd88f(0x535));if(!_0x54b3f2||_0x54b3f2[_0x5cd88f(0xa21)]===''){showMessage(_0x5cd88f(0x53d));return;}_0x3acaf7=_0x54b3f2[_0x5cd88f(0xa21)];switch(_0x4ecf83){case'true_false':_0x9248fb=_0x3acaf7===_0x5cd88f(0xbf6)===_0x1b7c5f[_0x5cd88f(0x9fa)];break;case'matching_item':_0x9248fb=_0x3acaf7===_0x1b7c5f[_0x5cd88f(0xb73)];break;default:_0x9248fb=parseInt(_0x3acaf7)===_0x1b7c5f[_0x5cd88f(0x16b)];break;}}const _0x3e7ec2={'questionIndex':localQuestionIndex,'isCorrect':_0x9248fb},_0x559041=userId,_0x275ee0={[_0x5cd88f(0x8d7)+_0x559041+_0x5cd88f(0x7e8)]:arrayUnion(_0x3e7ec2)};_0x9248fb&&(_0x275ee0['groups.'+_0x559041+_0x5cd88f(0xbf4)]=increment(0x1));try{await updateDoc(doc(db,_0x5cd88f(0x366)+appId+_0x5cd88f(0x2f3),currentTeamQuizId),_0x275ee0),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x5cd88f(0x320)][_0x5cd88f(0xab1)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x25d548){console[_0x5cd88f(0x512)](_0x5cd88f(0x1fa),_0x25d548),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x3f57c3=_0x1f917e,_0x332393=await getDoc(doc(db,_0x3f57c3(0x366)+appId+_0x3f57c3(0x2f3),currentTeamQuizId));if(!_0x332393['exists']())return;const _0x5d72cc=_0x332393[_0x3f57c3(0x923)]();if(_0x5d72cc[_0x3f57c3(0xbe2)]===_0x3f57c3(0x6a0)){handleGroupAnswerSubmit();return;}const _0xd4662=localTeamPlayers[localPlayerIndex],_0x4ab2d4=currentQuizData[_0x3f57c3(0x320)][localQuestionIndex],_0x11c71b=_0x4ab2d4[_0x3f57c3(0x789)]||currentQuizData[_0x3f57c3(0x13d)];let _0x35790f=null,_0x14d0fa=![];if(_0x11c71b===_0x3f57c3(0x48c)||_0x11c71b==='fill_in_no_choices'){const _0x22e5ae=document[_0x3f57c3(0x22d)](_0x3f57c3(0x3fd));if(!_0x22e5ae||!_0x22e5ae[_0x3f57c3(0xa21)][_0x3f57c3(0x1df)]()){showMessage(_0x3f57c3(0x780));return;}_0x35790f=_0x22e5ae[_0x3f57c3(0xa21)][_0x3f57c3(0x1df)](),_0x14d0fa=await gradeShortAnswer(_0x35790f,_0x4ab2d4);}else{const _0x37bad2=document[_0x3f57c3(0x22d)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x37bad2||_0x37bad2['value']===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x35790f=_0x37bad2['value'];switch(_0x11c71b){case _0x3f57c3(0x475):_0x14d0fa=_0x35790f==='true'===_0x4ab2d4[_0x3f57c3(0x9fa)];break;case _0x3f57c3(0x4c9):_0x14d0fa=_0x35790f===_0x4ab2d4[_0x3f57c3(0xb73)];break;default:_0x14d0fa=parseInt(_0x35790f)===_0x4ab2d4[_0x3f57c3(0x16b)];break;}}const _0x2bbc3a={'questionIndex':localQuestionIndex,'isCorrect':_0x14d0fa,'answerValue':_0x35790f},_0x3a7580={[_0x3f57c3(0xaea)+_0xd4662+_0x3f57c3(0x7e8)]:arrayUnion(_0x2bbc3a)};_0x14d0fa&&(_0x3a7580[_0x3f57c3(0xaea)+_0xd4662+_0x3f57c3(0xbf4)]=increment(0x1));try{await updateDoc(doc(db,_0x3f57c3(0x366)+appId+_0x3f57c3(0x2f3),currentTeamQuizId),_0x3a7580),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x3f57c3(0xab1)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x1bdd1c){console[_0x3f57c3(0x512)](_0x3f57c3(0x2f1),_0x1bdd1c),showMessage(_0x3f57c3(0xbca));}}async function displayTeamQuizFinalResults(){const _0x413fe5=_0x1f917e;studentQuizArea[_0x413fe5(0x517)][_0x413fe5(0x546)]('hidden'),studentResultArea['classList'][_0x413fe5(0x1b5)](_0x413fe5(0x44c));const _0x471855=doc(db,_0x413fe5(0x366)+appId+_0x413fe5(0x2f3),currentTeamQuizId),_0x40c527=await getDoc(_0x471855);if(!_0x40c527[_0x413fe5(0x485)]()){studentResultArea['innerHTML']=_0x413fe5(0x653);return;}const _0x47dc95=_0x40c527[_0x413fe5(0x923)]();let _0xfcfb90=[];const _0x414f04=_0x47dc95[_0x413fe5(0xbe2)]||_0x413fe5(0xad6);if(_0x414f04===_0x413fe5(0x6a0)){const _0x73fbc6=_0x47dc95['groups'][userId];_0x73fbc6?_0xfcfb90=[{'name':_0x413fe5(0xd19)+localTeamPlayers[_0x413fe5(0xd29)](',\x20'),'score':_0x73fbc6['score']||0x0}]:_0xfcfb90=[{'name':_0x413fe5(0x9bf),'score':_0x413fe5(0x95a)}];}else _0xfcfb90=localTeamPlayers[_0x413fe5(0x618)](_0x4d8b20=>({'name':_0x4d8b20,'score':_0x47dc95[_0x413fe5(0xb0c)][_0x4d8b20]?.[_0x413fe5(0xa20)]||0x0}))[_0x413fe5(0x817)]((_0x1fb02f,_0x42d632)=>_0x42d632['score']-_0x1fb02f[_0x413fe5(0xa20)]);studentResultArea[_0x413fe5(0xcd8)]=_0x413fe5(0xa81)+_0xfcfb90[_0x413fe5(0x618)](_0x3f4688=>_0x413fe5(0x261)+_0x3f4688[_0x413fe5(0xc85)]+_0x413fe5(0xb2f)+_0x3f4688[_0x413fe5(0xa20)]+_0x413fe5(0x820))['join']('')+_0x413fe5(0xaff),sessionStorage[_0x413fe5(0x3c9)]('activeGameSession'),currentMode===_0x413fe5(0x8f9)&&currentTeamQuizId&&setTimeout(()=>{const _0xe24f33=_0x413fe5;deleteDoc(doc(db,_0xe24f33(0x366)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1f917e(0x5fa),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x1f917e(0x904),'name':'การนับ'},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xb81)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0x721)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0x762)},{'category':_0x1f917e(0x904),'name':'การบวก'},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x470)},{'category':_0x1f917e(0x904),'name':'การคูณ'},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x7f6)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xd22)},{'category':_0x1f917e(0x904),'name':'จำนวนเต็มลบ'},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xb3a)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xce6)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x3fb)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xbe4)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x149)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xc2c)},{'category':_0x1f917e(0x904),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0x305)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x718)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0xb84)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0xc7c)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0x63a)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x582)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0xa18)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x8d8)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xaf5)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x5c7)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x569)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xbfc)},{'category':_0x1f917e(0x904),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x1f917e(0x904),'name':_0x1f917e(0xcc2)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0x2de)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0x83b)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x97a)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x228)},{'category':_0x1f917e(0x904),'name':_0x1f917e(0x19e)},{'category':'จำนวนและการดำเนินการ','name':_0x1f917e(0x671)},{'category':_0x1f917e(0x590),'name':_0x1f917e(0x80a)},{'category':_0x1f917e(0x590),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x1f917e(0x590),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x1f917e(0x590),'name':_0x1f917e(0xccb)},{'category':_0x1f917e(0x590),'name':_0x1f917e(0x53a)},{'category':_0x1f917e(0x590),'name':_0x1f917e(0x970)},{'category':_0x1f917e(0x590),'name':_0x1f917e(0xabb)},{'category':_0x1f917e(0x590),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x1f917e(0x590),'name':_0x1f917e(0x7b3)},{'category':'การวัด','name':_0x1f917e(0x9ca)},{'category':'การวัด','name':_0x1f917e(0x477)},{'category':'การวัด','name':_0x1f917e(0x5aa)},{'category':_0x1f917e(0x590),'name':_0x1f917e(0x46b)},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x3f1)},{'category':'เรขาคณิต','name':_0x1f917e(0x4fb)},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x278)},{'category':'เรขาคณิต','name':_0x1f917e(0x35b)},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x9b7)},{'category':_0x1f917e(0x841),'name':'ความคล้ายของรูป'},{'category':_0x1f917e(0x841),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x9ec)},{'category':'เรขาคณิต','name':_0x1f917e(0x2f0)},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x897)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x933)},{'category':'เรขาคณิต','name':_0x1f917e(0x9c1)},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x317)},{'category':_0x1f917e(0x841),'name':_0x1f917e(0x6ed)},{'category':_0x1f917e(0x321),'name':'ตัวแปรและนิพจน์'},{'category':_0x1f917e(0x321),'name':'การกระจายและการจัดหมู่'},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x21b)},{'category':_0x1f917e(0x321),'name':'การแยกตัวประกอบ'},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x21c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1f917e(0x6d0)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x99a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1f917e(0x55f)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x3ea)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0xb11)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x462)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x61f)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x3bf)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1f917e(0xa9b)},{'category':_0x1f917e(0x321),'name':'ระบบอสมการ'},{'category':_0x1f917e(0x321),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x1f917e(0x321),'name':'โดเมนและเรนจ์'},{'category':_0x1f917e(0x321),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x48a)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x1af)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0xa88)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x1a9)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x6f1)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x714)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1f917e(0x9b8)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x331)},{'category':_0x1f917e(0x321),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x1f917e(0x321),'name':_0x1f917e(0xb35)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1f917e(0x409)},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x336)},{'category':_0x1f917e(0x321),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x1f917e(0x321),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x1f917e(0x321),'name':_0x1f917e(0x3c4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1f917e(0xa43)},{'category':_0x1f917e(0xc72),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x1f917e(0xc72),'name':_0x1f917e(0x555)},{'category':_0x1f917e(0xc72),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x1f917e(0xc72),'name':_0x1f917e(0xa24)},{'category':_0x1f917e(0xc72),'name':_0x1f917e(0xb78)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1f917e(0x92f)},{'category':_0x1f917e(0xc72),'name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':_0x1f917e(0x508)},{'category':_0x1f917e(0x55a),'name':_0x1f917e(0xa83)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':_0x1f917e(0x55a),'name':_0x1f917e(0x56b)},{'category':_0x1f917e(0x55a),'name':_0x1f917e(0x663)},{'category':_0x1f917e(0x55a),'name':_0x1f917e(0xad3)},{'category':_0x1f917e(0x55a),'name':_0x1f917e(0x4c6)},{'category':'ตรีโกณมิติ','name':_0x1f917e(0x1bc)},{'category':_0x1f917e(0x55a),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x1f917e(0x55a),'name':_0x1f917e(0xb74)},{'category':_0x1f917e(0x612),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x1f917e(0x612),'name':_0x1f917e(0xab4)},{'category':_0x1f917e(0x612),'name':_0x1f917e(0x924)},{'category':_0x1f917e(0x612),'name':_0x1f917e(0xd0e)},{'category':_0x1f917e(0x612),'name':'ฮิสโตแกรม'},{'category':_0x1f917e(0x612),'name':_0x1f917e(0x4af)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x1f917e(0x612),'name':'มัธยฐาน'},{'category':_0x1f917e(0x612),'name':_0x1f917e(0xa49)},{'category':'สถิติและความน่าจะเป็น','name':_0x1f917e(0x9a5)},{'category':_0x1f917e(0x612),'name':_0x1f917e(0x339)},{'category':_0x1f917e(0x612),'name':'ความแปรปรวน'},{'category':_0x1f917e(0x612),'name':_0x1f917e(0x7c9)},{'category':'สถิติและความน่าจะเป็น','name':_0x1f917e(0x916)},{'category':'สถิติและความน่าจะเป็น','name':_0x1f917e(0x2ed)},{'category':_0x1f917e(0x612),'name':_0x1f917e(0xcc0)},{'category':'สถิติและความน่าจะเป็น','name':_0x1f917e(0x793)},{'category':_0x1f917e(0x612),'name':_0x1f917e(0x637)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x1f917e(0x68a)},{'category':'สถิติและความน่าจะเป็น','name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x1f917e(0x612),'name':_0x1f917e(0x855)},{'category':'สถิติและความน่าจะเป็น','name':_0x1f917e(0xadc)},{'category':_0x1f917e(0x612),'name':_0x1f917e(0x76c)},{'category':_0x1f917e(0x8df),'name':_0x1f917e(0x93a)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1f917e(0xaa3)},{'category':_0x1f917e(0x8df),'name':_0x1f917e(0xb7d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1f917e(0x398)},{'category':_0x1f917e(0x8df),'name':_0x1f917e(0x48f)},{'category':_0x1f917e(0x8df),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x1f917e(0x8df),'name':'ความชันเส้นสัมผัส'},{'category':_0x1f917e(0x8df),'name':_0x1f917e(0x971)},{'category':_0x1f917e(0x8df),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x1f917e(0x8df),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':_0x1f917e(0x8df),'name':_0x1f917e(0x1f2)},{'category':_0x1f917e(0x8df),'name':_0x1f917e(0x785)},{'category':_0x1f917e(0x392),'name':_0x1f917e(0x3a1)},{'category':_0x1f917e(0x392),'name':_0x1f917e(0xd0a)},{'category':_0x1f917e(0x392),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1f917e(0x552)},{'category':_0x1f917e(0x392),'name':'ดีเทอร์มิแนนต์'},{'category':_0x1f917e(0x392),'name':_0x1f917e(0xc92)},{'category':_0x1f917e(0x1d7),'name':_0x1f917e(0x296)},{'category':_0x1f917e(0x1d7),'name':_0x1f917e(0x8aa)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':'คณิตการเงิน/บูรณาการ','name':'ค่าเสื่อมราคา'},{'category':_0x1f917e(0x1d7),'name':'ร้อยละประยุกต์'},{'category':_0x1f917e(0x754),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x1f917e(0x754),'name':_0x1f917e(0x87b)},{'category':_0x1f917e(0x754),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x6d53c6=_0x1f917e,_0x294aad=document[_0x6d53c6(0x2bc)](_0x6d53c6(0x6a5));if(!_0x294aad)return;const _0x2b4cf9=allMathTopics,_0x2c76f3=customMathTopics[_0x6d53c6(0x618)](_0x2f3836=>({'id':_0x2f3836['id'],'category':_0x6d53c6(0x3cf),'name':_0x2f3836[_0x6d53c6(0xc85)]})),_0x35fd66=[..._0x2b4cf9,..._0x2c76f3],_0x211aa=_0x35fd66['reduce']((_0x509c64,_0x4fa217)=>{const _0x2f7fb8=_0x6d53c6;return!_0x509c64[_0x4fa217[_0x2f7fb8(0x487)]]&&(_0x509c64[_0x4fa217[_0x2f7fb8(0x487)]]=[]),_0x509c64[_0x4fa217['category']][_0x2f7fb8(0xad2)](_0x4fa217),_0x509c64;},{});let _0x2c4f03='';const _0x488777=[_0x6d53c6(0x3cf),...Object['keys'](_0x211aa)[_0x6d53c6(0xa7a)](_0x25fec2=>_0x25fec2!==_0x6d53c6(0x3cf))];for(const _0x467c1b of _0x488777){if(_0x211aa[_0x467c1b]){const _0xe634be=_0x467c1b===_0x6d53c6(0x3cf),_0x39a34e=_0xe634be?'fas\x20fa-user-edit':_0x6d53c6(0x428),_0xa9cde7=_0xe634be?_0x6d53c6(0x94a):'text-indigo-700';_0x2c4f03+=_0x6d53c6(0xcf1),_0x2c4f03+=_0x6d53c6(0x84c)+_0xa9cde7+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x39a34e+'\x20mr-2\x22></i>'+_0x467c1b+'</p>',_0x211aa[_0x467c1b]['forEach'](_0x260b0f=>{const _0x295bee=_0x6d53c6,_0x6ec41=!!_0x260b0f['id'],_0x3b15da=_0x6ec41?_0x295bee(0x1d3)+_0x260b0f['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x260b0f['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x260b0f['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x260b0f['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x2c4f03+=_0x295bee(0xcce)+(_0x260b0f['id']||'')+_0x295bee(0x70d)+_0x260b0f[_0x295bee(0xc85)]+_0x295bee(0xb43)+_0x260b0f[_0x295bee(0xc85)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x6ec41?_0x295bee(0x9b2)+_0x260b0f[_0x295bee(0xc85)]+'\x22>':'')+_0x295bee(0x7dc)+_0x3b15da+_0x295bee(0x720);}),_0x2c4f03+='</div>';}}_0x294aad[_0x6d53c6(0xcd8)]=_0x2c4f03||_0x6d53c6(0xa68),_0x294aad[_0x6d53c6(0xcab)](_0x6d53c6(0x18d),updateSelectedTopicsCount),_0x294aad[_0x6d53c6(0x8de)](_0x6d53c6(0x18d),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x32bbd2,_0xb7bf2c){const _0x47f5b4=_0x1f917e;if(!_0x32bbd2||!_0xb7bf2c[_0x47f5b4(0x1df)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x13558d=doc(db,_0x47f5b4(0x366)+appId+_0x47f5b4(0xc7f),_0x32bbd2);await updateDoc(_0x13558d,{'name':_0xb7bf2c[_0x47f5b4(0x1df)]()}),showMessage(_0x47f5b4(0x3ce));}catch(_0x24cc0a){console[_0x47f5b4(0x512)](_0x47f5b4(0x3c0),_0x24cc0a),showMessage(_0x47f5b4(0x86a));}}function toggleTopicEditMode(_0x4b6bcd,_0xf8d752){const _0x2109c0=_0x1f917e;if(!_0x4b6bcd)return;const _0x210760=_0x4b6bcd['querySelector']('.topic-name-display'),_0x3b7afd=_0x4b6bcd['querySelector'](_0x2109c0(0x5fc)),_0x41bdec=_0x4b6bcd[_0x2109c0(0x22d)](_0x2109c0(0x8ed)),_0x3cee2d=_0x4b6bcd['querySelector'](_0x2109c0(0x9e4));_0x210760[_0x2109c0(0x517)][_0x2109c0(0xb29)](_0x2109c0(0x44c),_0xf8d752),_0x3b7afd[_0x2109c0(0x517)][_0x2109c0(0xb29)]('hidden',!_0xf8d752),_0x41bdec[_0x2109c0(0x517)][_0x2109c0(0xb29)](_0x2109c0(0x44c),_0xf8d752),_0x3cee2d[_0x2109c0(0x517)]['toggle']('hidden',!_0xf8d752),_0xf8d752&&(_0x3b7afd[_0x2109c0(0x274)](),_0x3b7afd[_0x2109c0(0x397)]());}async function handleStartLiveRace(_0x86de7){const _0x23b439=_0x1f917e;let _0x24d9e4=allQuizzes[_0x23b439(0xaa2)](_0x5c7ff1=>_0x5c7ff1['id']===_0x86de7);if(!_0x24d9e4){const _0x5c53da=doc(db,'artifacts/'+appId+_0x23b439(0xcbc),_0x86de7),_0x223d0d=await getDoc(_0x5c53da);if(!_0x223d0d[_0x23b439(0x485)]()){showMessage(_0x23b439(0x827));return;}_0x24d9e4={'id':_0x223d0d['id'],..._0x223d0d['data']()};}const _0x3fa68c=getShuffledQuiz(_0x24d9e4);currentQuizData=_0x3fa68c;const _0x232b6f=_0x24d9e4[_0x23b439(0x7f9)]||currentProjectId||null,_0x1c711e=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x23b439(0x24a)]();currentLiveGamePin=_0x1c711e;try{const _0x559b1d=await addDoc(collection(db,_0x23b439(0x366)+appId+_0x23b439(0x447)),{'quizId':_0x86de7,'projectId':_0x232b6f,'status':_0x23b439(0xaec),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1c711e,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3fa68c});currentLiveGameId=_0x559b1d['id'],showAdminLobbyView(_0x1c711e,_0x24d9e4[_0x23b439(0x533)]),listenForLiveGameUpdates();}catch(_0x5e4432){console['error'](_0x23b439(0xae2),_0x5e4432),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0xc712a2=_0x1f917e,_0x2a75e9=document[_0xc712a2(0x2bc)]('math-topics-checkbox-container'),_0x450286=_0x2a75e9['querySelectorAll'](_0xc712a2(0x3f7))[_0xc712a2(0xab1)],_0x26188a=document[_0xc712a2(0x2bc)](_0xc712a2(0xae4));_0x450286>0x0?_0x26188a['textContent']=_0xc712a2(0x188)+_0x450286+_0xc712a2(0x74a):_0x26188a[_0xc712a2(0x806)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1f917e(0x8fb),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1f917e(0x8ad),quizLeaderboardSortOrder=_0x1f917e(0xbc6),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1f917e(0x708),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0xd5e98d,_0x3c9041){const _0x3d2b7b=_0x1f917e;return Math[_0x3d2b7b(0x3dd)](Math[_0x3d2b7b(0xa98)](_0xd5e98d['x']-_0x3c9041['x'],0x2)+Math[_0x3d2b7b(0xa98)](_0xd5e98d['y']-_0x3c9041['y'],0x2));}function getMidpoint(_0x234223,_0x35e358){return{'x':(_0x234223['x']+_0x35e358['x'])/0x2,'y':(_0x234223['y']+_0x35e358['y'])/0x2};}function getTransformedPoint(_0x43d9aa,_0x566c59){return{'x':(_0x43d9aa-scratchpadOffset['x'])/scratchpadScale,'y':(_0x566c59-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x43177a=_0x1f917e;if(!scratchpadCtx)return;const _0x29243c=scratchpadCtx[_0x43177a(0x822)],_0x5a61bd=window['devicePixelRatio']||0x1,_0x5ed6ae=document[_0x43177a(0x2bc)](_0x43177a(0x886));_0x5ed6ae&&(_0x5ed6ae['style'][_0x43177a(0x951)]='0\x200',_0x5ed6ae[_0x43177a(0x60e)][_0x43177a(0x419)]=_0x43177a(0x8a8)+scratchpadOffset['x']+_0x43177a(0x2b7)+scratchpadOffset['y']+_0x43177a(0xa58)+scratchpadScale+')'),scratchpadCtx[_0x43177a(0xa3d)](),scratchpadCtx[_0x43177a(0xb6e)](_0x5a61bd,0x0,0x0,_0x5a61bd,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x29243c['width'],_0x29243c[_0x43177a(0x8e4)]),scratchpadCtx[_0x43177a(0x983)](),scratchpadCtx[_0x43177a(0xa3d)](),scratchpadCtx[_0x43177a(0x722)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x43177a(0xc88)](scratchpadScale,scratchpadScale),strokes[_0x43177a(0x229)](_0x33918b=>{drawStroke(_0x33918b);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x43177a(0x983)]();}function renderGroupModeQuestion(){const _0x25260d=_0x1f917e;if(localQuestionIndex>=currentQuizData['questions'][_0x25260d(0xab1)]){displayTeamQuizFinalResults();return;}const _0x142418=currentQuizData[_0x25260d(0x320)][localQuestionIndex],_0x5bdb7b=_0x142418['questionType']||currentQuizData[_0x25260d(0x13d)];let _0x21ef1f=_0x142418['stem']||_0x142418['questionText'],_0xaed48f='';switch(_0x5bdb7b){case _0x25260d(0x29d):case _0x25260d(0x5f6):_0xaed48f=_0x142418[_0x25260d(0xae7)]['map']((_0x594a34,_0x1d0391)=>_0x25260d(0x18e)+_0x1d0391+_0x25260d(0xd31)+_0x1d0391+_0x25260d(0x4c0)+_0x1d0391+'\x22>'+_0x594a34+'</label></div>')[_0x25260d(0xd29)]('');break;case _0x25260d(0x475):_0xaed48f=_0x25260d(0xb00);break;case _0x25260d(0x48c):case _0x25260d(0x6f2):_0xaed48f=_0x25260d(0x29a);break;case _0x25260d(0x4c9):_0xaed48f=_0x25260d(0xc67)+_0x142418[_0x25260d(0x607)][_0x25260d(0x618)](_0xf14935=>_0x25260d(0x9dd)+_0xf14935+'\x22>'+_0xf14935+_0x25260d(0xba6))[_0x25260d(0xd29)]('')+_0x25260d(0x418);break;default:_0xaed48f=_0x25260d(0xbf7);break;}studentQuizArea[_0x25260d(0xcd8)]=_0x25260d(0x5d1)+(localQuestionIndex+0x1)+_0x25260d(0x4b8)+currentQuizData[_0x25260d(0x320)][_0x25260d(0xab1)]+_0x25260d(0xae1)+localTeamPlayers[_0x25260d(0xd29)](',\x20')+_0x25260d(0x323)+(localQuestionIndex+0x1)+'.\x20'+_0x21ef1f+_0x25260d(0xc04)+(_0x142418['imageCode']?_0x25260d(0x689)+_0x142418[_0x25260d(0x679)]+'</div>':'')+_0x25260d(0xcda)+_0xaed48f+_0x25260d(0x9b4),studentQuizArea[_0x25260d(0x517)]['remove']('hidden');if(window[_0x25260d(0x13e)])MathJax[_0x25260d(0xbc4)]([studentQuizArea]);document['getElementById'](_0x25260d(0xa84))[_0x25260d(0x8de)](_0x25260d(0xc20),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x57093a,_0x56d3c7=null,_0x3684ee,_0x3dfeb3=null,_0x5bb4ae=![],_0x3e7838=null){const _0x494775=_0x1f917e,_0x53ac9d=document[_0x494775(0x2bc)](_0x494775(0x83c));_0x53ac9d&&_0x53ac9d['scrollIntoView']({'behavior':'smooth','block':'center'}),generateQuiz(_0x57093a,_0x56d3c7,null,_0x3e7838,!![],_0x3684ee,_0x3dfeb3,_0x5bb4ae);}function handleGenerateAndShowLesson(_0x213515,_0x11431a){const _0x4cb259=_0x1f917e,_0x94a5dc=document['getElementById'](_0x4cb259(0x28a)),_0x2070b8=document[_0x4cb259(0x2bc)](_0x4cb259(0x7df)),_0x2a1138=document[_0x4cb259(0x2bc)](_0x4cb259(0xca5)),_0x156622=document['getElementById'](_0x4cb259(0x6d3));['pointContent',_0x4cb259(0x164),_0x4cb259(0xc6f),_0x4cb259(0x541)][_0x4cb259(0x229)](_0x43adda=>{const _0xe64f26=_0x4cb259,_0xeb4d01=document[_0xe64f26(0x2bc)](_0x43adda)[_0xe64f26(0x1d6)];_0xeb4d01&&(_0xeb4d01['style'][_0xe64f26(0x9b9)]=_0xe64f26(0x26f));}),_0x2070b8['textContent']=_0x4cb259(0x865)+_0x213515,_0x156622[_0x4cb259(0x517)][_0x4cb259(0x546)]('hidden'),_0x2a1138[_0x4cb259(0x517)][_0x4cb259(0x1b5)](_0x4cb259(0x44c)),_0x94a5dc[_0x4cb259(0x517)][_0x4cb259(0x1b5)](_0x4cb259(0x44c)),generateLesson(_0x213515,_0x11431a)['catch'](_0x432594=>{const _0x404bca=_0x4cb259;console['error']('Failed\x20to\x20generate\x20lesson:',_0x432594),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x94a5dc['classList'][_0x404bca(0x546)](_0x404bca(0x44c));});}function handlePointerDown(_0x2d95cf){const _0x6c095c=_0x1f917e;_0x2d95cf['preventDefault']();const _0x3a6734=scratchpadCtx[_0x6c095c(0x822)],_0x1543f1=_0x3a6734[_0x6c095c(0x263)](),_0x3326a8=_0x2d95cf[_0x6c095c(0xa8d)]||(_0x2d95cf['touches']?_0x6c095c(0xa5c):'mouse');if(_0x3326a8===_0x6c095c(0x708)||_0x3326a8===_0x6c095c(0x298)){if(_0x2d95cf['pointerType']===_0x6c095c(0x298)&&_0x2d95cf[_0x6c095c(0x3c8)]!==0x0){_0x2d95cf[_0x6c095c(0x3c8)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2d95cf[_0x6c095c(0x88b)],'y':_0x2d95cf[_0x6c095c(0xb68)]},_0x3a6734[_0x6c095c(0x60e)]['cursor']='grabbing');return;}activeTool===_0x6c095c(0x162)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x5d0746=getTransformedPoint(_0x2d95cf[_0x6c095c(0x88b)]-_0x1543f1['left'],_0x2d95cf[_0x6c095c(0xb68)]-_0x1543f1['top']);let _0x5551c9={'tool':activeTool,'points':[_0x5d0746]};if(activeTool===_0x6c095c(0x708))_0x5551c9[_0x6c095c(0x922)]=scratchpadPenColor,_0x5551c9[_0x6c095c(0xc1b)]=scratchpadPenSize;else{if(activeTool===_0x6c095c(0x703))_0x5551c9[_0x6c095c(0x922)]=scratchpadPenColor,_0x5551c9[_0x6c095c(0xc1b)]=scratchpadEraserSize;else{if(activeTool==='highlighter')_0x5551c9['color']=scratchpadHighlighterColor,_0x5551c9[_0x6c095c(0xc1b)]=scratchpadHighlighterSize;else activeTool===_0x6c095c(0x162)&&(_0x5551c9['color']=scratchpadPenColor,_0x5551c9[_0x6c095c(0xc1b)]=scratchpadPenSize);}}currentStroke=_0x5551c9;}else _0x2d95cf['touches']&&(_0x2d95cf[_0x6c095c(0x584)][_0x6c095c(0xab1)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2d95cf[_0x6c095c(0x584)][0x0][_0x6c095c(0x88b)],'y':_0x2d95cf[_0x6c095c(0x584)][0x0][_0x6c095c(0xb68)]},{'x':_0x2d95cf[_0x6c095c(0x584)][0x1]['clientX'],'y':_0x2d95cf[_0x6c095c(0x584)][0x1][_0x6c095c(0xb68)]}),initialPinchDistance=getDistance({'x':_0x2d95cf[_0x6c095c(0x584)][0x0][_0x6c095c(0x88b)],'y':_0x2d95cf[_0x6c095c(0x584)][0x0][_0x6c095c(0xb68)]},{'x':_0x2d95cf[_0x6c095c(0x584)][0x1][_0x6c095c(0x88b)],'y':_0x2d95cf[_0x6c095c(0x584)][0x1][_0x6c095c(0xb68)]})));}function animateTrail(){const _0x4ad41a=_0x1f917e,_0xebe0cb=Date[_0x4ad41a(0x58e)]();let _0x471798=![];for(let _0x283c8f=strokes[_0x4ad41a(0xab1)]-0x1;_0x283c8f>=0x0;_0x283c8f--){const _0x58e0b5=strokes[_0x283c8f];if(_0x58e0b5[_0x4ad41a(0xcd4)]===_0x4ad41a(0x162)&&_0x58e0b5[_0x4ad41a(0xc65)]){const _0x4904c4=_0xebe0cb-_0x58e0b5[_0x4ad41a(0xc65)];_0x4904c4>=TRAIL_DURATION?strokes[_0x4ad41a(0x638)](_0x283c8f,0x1):(_0x58e0b5[_0x4ad41a(0x299)]=0x1-_0x4904c4/TRAIL_DURATION,_0x471798=!![]);}}redrawScratchpad(),_0x471798?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x3857f9){const _0x1c98b5=_0x1f917e;if(!_0x3857f9||_0x3857f9['points'][_0x1c98b5(0xab1)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x1c98b5(0x562),scratchpadCtx[_0x1c98b5(0xbbf)]='round';if(_0x3857f9[_0x1c98b5(0xcd4)]===_0x1c98b5(0x162)){const _0x329b9f=_0x3857f9['size']/scratchpadScale;scratchpadCtx[_0x1c98b5(0xaeb)]=_0x3857f9[_0x1c98b5(0x299)]??0x1,scratchpadCtx[_0x1c98b5(0x430)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x1c98b5(0x13f)]=_0x329b9f*0x3,scratchpadCtx[_0x1c98b5(0x7c5)]=_0x1c98b5(0xbb3),scratchpadCtx['lineWidth']=_0x329b9f*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x1c98b5(0xbf9)](_0x3857f9[_0x1c98b5(0x245)][0x0]['x'],_0x3857f9[_0x1c98b5(0x245)][0x0]['y']);for(let _0x5bbf0d=0x1;_0x5bbf0d<_0x3857f9[_0x1c98b5(0x245)][_0x1c98b5(0xab1)]-0x1;_0x5bbf0d++){const _0x1f7ed8=getMidpoint(_0x3857f9['points'][_0x5bbf0d],_0x3857f9[_0x1c98b5(0x245)][_0x5bbf0d+0x1]);scratchpadCtx['quadraticCurveTo'](_0x3857f9['points'][_0x5bbf0d]['x'],_0x3857f9[_0x1c98b5(0x245)][_0x5bbf0d]['y'],_0x1f7ed8['x'],_0x1f7ed8['y']);}scratchpadCtx[_0x1c98b5(0xd00)](),scratchpadCtx['shadowColor']=_0x1c98b5(0x852),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x1c98b5(0x7c5)]=_0x1c98b5(0xbbd),scratchpadCtx[_0x1c98b5(0x843)]=_0x329b9f,scratchpadCtx['stroke'](),scratchpadCtx[_0x1c98b5(0xa01)]();}else{if(_0x3857f9[_0x1c98b5(0xcd4)]===_0x1c98b5(0x393)){scratchpadCtx[_0x1c98b5(0xb16)]='multiply',scratchpadCtx[_0x1c98b5(0x7c5)]=_0x3857f9[_0x1c98b5(0x922)],scratchpadCtx[_0x1c98b5(0x843)]=_0x3857f9[_0x1c98b5(0xc1b)],scratchpadCtx[_0x1c98b5(0x4c1)](),scratchpadCtx[_0x1c98b5(0xbf9)](_0x3857f9[_0x1c98b5(0x245)][0x0]['x'],_0x3857f9[_0x1c98b5(0x245)][0x0]['y']);for(let _0x180a0a=0x1;_0x180a0a<_0x3857f9[_0x1c98b5(0x245)][_0x1c98b5(0xab1)]-0x1;_0x180a0a++){const _0x34015e=getMidpoint(_0x3857f9['points'][_0x180a0a],_0x3857f9['points'][_0x180a0a+0x1]);scratchpadCtx[_0x1c98b5(0x44a)](_0x3857f9['points'][_0x180a0a]['x'],_0x3857f9[_0x1c98b5(0x245)][_0x180a0a]['y'],_0x34015e['x'],_0x34015e['y']);}scratchpadCtx[_0x1c98b5(0xd00)](),scratchpadCtx[_0x1c98b5(0xa01)]();}else{scratchpadCtx[_0x1c98b5(0xb16)]=_0x3857f9[_0x1c98b5(0xcd4)]==='eraser'?_0x1c98b5(0xb6a):_0x1c98b5(0xd06),scratchpadCtx[_0x1c98b5(0x7c5)]=_0x3857f9[_0x1c98b5(0x922)],scratchpadCtx['lineWidth']=_0x3857f9[_0x1c98b5(0xc1b)],scratchpadCtx[_0x1c98b5(0x4c1)](),scratchpadCtx[_0x1c98b5(0xbf9)](_0x3857f9[_0x1c98b5(0x245)][0x0]['x'],_0x3857f9[_0x1c98b5(0x245)][0x0]['y']);for(let _0x41387b=0x1;_0x41387b<_0x3857f9['points'][_0x1c98b5(0xab1)]-0x1;_0x41387b++){const _0x3f8c7b=getMidpoint(_0x3857f9[_0x1c98b5(0x245)][_0x41387b],_0x3857f9[_0x1c98b5(0x245)][_0x41387b+0x1]);scratchpadCtx['quadraticCurveTo'](_0x3857f9[_0x1c98b5(0x245)][_0x41387b]['x'],_0x3857f9[_0x1c98b5(0x245)][_0x41387b]['y'],_0x3f8c7b['x'],_0x3f8c7b['y']);}scratchpadCtx[_0x1c98b5(0xd00)](),scratchpadCtx[_0x1c98b5(0xa01)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x375458){const _0x1b16a3=_0x1f917e;_0x375458[_0x1b16a3(0x9f2)]();const _0x5ada58=scratchpadCtx[_0x1b16a3(0x822)],_0x3f0ed5=_0x5ada58[_0x1b16a3(0x263)]();if(_0x375458['touches']){if(_0x375458[_0x1b16a3(0x584)]['length']===0x1&&isDrawingOnScratchpad){const _0x4725f2=getTransformedPoint(_0x375458[_0x1b16a3(0x584)][0x0][_0x1b16a3(0x88b)]-_0x3f0ed5[_0x1b16a3(0x37c)],_0x375458[_0x1b16a3(0x584)][0x0][_0x1b16a3(0xb68)]-_0x3f0ed5[_0x1b16a3(0x151)]);currentStroke[_0x1b16a3(0x245)][_0x1b16a3(0xad2)](_0x4725f2),redrawScratchpad();}else{if(_0x375458[_0x1b16a3(0x584)][_0x1b16a3(0xab1)]===0x2&&isPanning){const _0x11473a=getDistance({'x':_0x375458[_0x1b16a3(0x584)][0x0]['clientX'],'y':_0x375458[_0x1b16a3(0x584)][0x0][_0x1b16a3(0xb68)]},{'x':_0x375458[_0x1b16a3(0x584)][0x1][_0x1b16a3(0x88b)],'y':_0x375458['touches'][0x1][_0x1b16a3(0xb68)]}),_0x21ded3=getMidpoint({'x':_0x375458[_0x1b16a3(0x584)][0x0][_0x1b16a3(0x88b)],'y':_0x375458[_0x1b16a3(0x584)][0x0][_0x1b16a3(0xb68)]},{'x':_0x375458['touches'][0x1][_0x1b16a3(0x88b)],'y':_0x375458[_0x1b16a3(0x584)][0x1][_0x1b16a3(0xb68)]}),_0x1c5900=_0x11473a/ initialPinchDistance,_0x439520=Math[_0x1b16a3(0xc5b)](Math[_0x1b16a3(0x20e)](scratchpadScale*_0x1c5900,MIN_SCALE),MAX_SCALE),_0x529b84=_0x21ded3['x']-panStart['x'],_0xccfafe=_0x21ded3['y']-panStart['y'];scratchpadOffset['x']=_0x21ded3['x']-(_0x21ded3['x']-scratchpadOffset['x'])*(_0x439520/scratchpadScale),scratchpadOffset['y']=_0x21ded3['y']-(_0x21ded3['y']-scratchpadOffset['y'])*(_0x439520/scratchpadScale),scratchpadOffset['x']+=_0x529b84,scratchpadOffset['y']+=_0xccfafe,scratchpadScale=_0x439520,initialPinchDistance=_0x11473a,panStart=_0x21ded3,redrawScratchpad();}}}else{if(isMousePanning){const _0x190b8e=_0x375458[_0x1b16a3(0x88b)]-panStart['x'],_0x7c5338=_0x375458[_0x1b16a3(0xb68)]-panStart['y'];scratchpadOffset['x']+=_0x190b8e,scratchpadOffset['y']+=_0x7c5338,panStart={'x':_0x375458[_0x1b16a3(0x88b)],'y':_0x375458[_0x1b16a3(0xb68)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4519a0=getTransformedPoint(_0x375458[_0x1b16a3(0x88b)]-_0x3f0ed5[_0x1b16a3(0x37c)],_0x375458['clientY']-_0x3f0ed5[_0x1b16a3(0x151)]);currentStroke[_0x1b16a3(0x245)][_0x1b16a3(0xad2)](_0x4519a0),redrawScratchpad();}}}}function handlePointerUp(_0x284213){const _0x4c40e6=_0x1f917e;_0x284213[_0x4c40e6(0x9f2)]();const _0x460072=scratchpadCtx[_0x4c40e6(0x822)];isMousePanning&&(isMousePanning=![],_0x460072['style']['cursor']=_0x4c40e6(0x158)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4c40e6(0x245)][_0x4c40e6(0xab1)]>0x1&&(strokes[_0x4c40e6(0xad2)](currentStroke),currentStroke[_0x4c40e6(0xcd4)]===_0x4c40e6(0x162)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3c42fe=_0x4c40e6,_0x7b4fa2=strokes[_0x3c42fe(0xa7a)](_0x3062ed=>_0x3062ed[_0x3c42fe(0xcd4)]===_0x3c42fe(0x162)&&!_0x3062ed['fadeStartTime']);if(_0x7b4fa2['length']>0x0){const _0x622c2a=Date[_0x3c42fe(0x58e)]();_0x7b4fa2[_0x3c42fe(0x229)](_0x419a7c=>_0x419a7c['fadeStartTime']=_0x622c2a),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x675451){const _0x553f03=_0x1f917e;_0x675451[_0x553f03(0x9f2)]();const _0x467136=_0x675451[_0x553f03(0x98c)]*-0.005,_0x2f090d=Math[_0x553f03(0xc5b)](Math[_0x553f03(0x20e)](scratchpadScale+_0x467136,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x675451[_0x553f03(0x88b)]-(_0x675451[_0x553f03(0x88b)]-scratchpadOffset['x'])*(_0x2f090d/scratchpadScale),scratchpadOffset['y']=_0x675451[_0x553f03(0xb68)]-(_0x675451[_0x553f03(0xb68)]-scratchpadOffset['y'])*(_0x2f090d/scratchpadScale),scratchpadScale=_0x2f090d,redrawScratchpad();}function undo(){const _0x18cbea=_0x1f917e;strokes[_0x18cbea(0xab1)]>0x0&&(redoStrokes[_0x18cbea(0xad2)](strokes[_0x18cbea(0x8e0)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0xb8192b=_0x1f917e;redoStrokes[_0xb8192b(0xab1)]>0x0&&(strokes[_0xb8192b(0xad2)](redoStrokes[_0xb8192b(0x8e0)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3438fc=_0x1f917e;document['getElementById'](_0x3438fc(0x405))['disabled']=strokes['length']===0x0,document[_0x3438fc(0x2bc)]('redo-btn')[_0x3438fc(0x8ab)]=redoStrokes[_0x3438fc(0xab1)]===0x0;}function openScratchpad(_0x5979ac,_0x5eb82b){const _0x423b69=_0x1f917e,_0x27e1bf=document[_0x423b69(0x2bc)](_0x423b69(0x4e1)),_0x24caf9=document[_0x423b69(0x2bc)](_0x423b69(0x542)),_0x4f4e28=document[_0x423b69(0x2bc)]('scratchpad-options'),_0x36d1a2=document[_0x423b69(0x2bc)](_0x423b69(0x43c));_0x24caf9['innerHTML']=_0x5979ac[_0x423b69(0x629)]||_0x5979ac['questionText'],_0x4f4e28[_0x423b69(0xcd8)]=_0x5eb82b[_0x423b69(0x618)]((_0x491565,_0x5dd7a4)=>'<div>'+String[_0x423b69(0x77b)](0x41+_0x5dd7a4)+'.\x20'+_0x491565+_0x423b69(0xa8a))[_0x423b69(0xd29)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x27e1bf['classList'][_0x423b69(0x1b5)](_0x423b69(0x44c)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x423b69(0x13e)])MathJax[_0x423b69(0xbc4)]([_0x24caf9,_0x4f4e28]);}function openBlueprintQuizSettings(){const _0x5153ca=_0x1f917e,_0x15b074=document[_0x5153ca(0x2bc)]('blueprint-settings-modal'),_0x4b61d3=blueprintPageSettings||(currentProjectData?currentProjectData[_0x5153ca(0x327)]:{})||{};document['getElementById'](_0x5153ca(0x547))[_0x5153ca(0xa21)]=_0x4b61d3[_0x5153ca(0x13d)]||document[_0x5153ca(0x2bc)](_0x5153ca(0x5fd))[_0x5153ca(0xa21)],document[_0x5153ca(0x2bc)](_0x5153ca(0x87a))[_0x5153ca(0xcd8)]=document[_0x5153ca(0x2bc)](_0x5153ca(0x1eb))['innerHTML'],document[_0x5153ca(0x2bc)](_0x5153ca(0x87a))[_0x5153ca(0xa21)]=_0x4b61d3[_0x5153ca(0x238)]||document[_0x5153ca(0x2bc)]('difficulty-level-select')[_0x5153ca(0xa21)],document[_0x5153ca(0x2bc)]('bp-modal-question-complexity-select')[_0x5153ca(0xcd8)]=document[_0x5153ca(0x2bc)](_0x5153ca(0xd2d))[_0x5153ca(0xcd8)],document[_0x5153ca(0x2bc)](_0x5153ca(0x33b))[_0x5153ca(0xa21)]=_0x4b61d3[_0x5153ca(0x70c)]||document[_0x5153ca(0x2bc)](_0x5153ca(0xd2d))[_0x5153ca(0xa21)],document[_0x5153ca(0x2bc)](_0x5153ca(0x4a2))[_0x5153ca(0xa21)]=_0x4b61d3[_0x5153ca(0x306)]||document[_0x5153ca(0x2bc)](_0x5153ca(0x22e))[_0x5153ca(0xa21)],document[_0x5153ca(0x2bc)]('bp-modal-passing-score-input')['value']=_0x4b61d3[_0x5153ca(0x619)]||document['getElementById'](_0x5153ca(0xd2c))['value'],document[_0x5153ca(0x2bc)](_0x5153ca(0x99e))[_0x5153ca(0xa21)]=_0x4b61d3['numChoices']||document[_0x5153ca(0x2bc)]('num-choices')[_0x5153ca(0xa21)],document['getElementById'](_0x5153ca(0x4d4))['value']=_0x4b61d3[_0x5153ca(0x642)]||document['getElementById']('shuffle-setting-select')[_0x5153ca(0xa21)],document[_0x5153ca(0x2bc)]('bp-modal-include-images-checkbox')[_0x5153ca(0x6b7)]=_0x4b61d3[_0x5153ca(0x4fc)]||document[_0x5153ca(0x2bc)]('include-images-checkbox')[_0x5153ca(0x6b7)],_0x15b074[_0x5153ca(0x517)]['remove'](_0x5153ca(0x44c));}function handleSaveBlueprintPageSettings(){const _0x4a900d=_0x1f917e;blueprintPageSettings={'quizType':document[_0x4a900d(0x2bc)]('bp-modal-quiz-type-select')[_0x4a900d(0xa21)],'difficultyValue':document[_0x4a900d(0x2bc)](_0x4a900d(0x87a))['value'],'complexityValue':document[_0x4a900d(0x2bc)](_0x4a900d(0x33b))[_0x4a900d(0xa21)],'numQuestions':document[_0x4a900d(0x2bc)](_0x4a900d(0x4a2))[_0x4a900d(0xa21)],'passingScore':document[_0x4a900d(0x2bc)](_0x4a900d(0x905))[_0x4a900d(0xa21)],'numChoices':document[_0x4a900d(0x2bc)](_0x4a900d(0x99e))[_0x4a900d(0xa21)],'shuffle':document['getElementById'](_0x4a900d(0x4d4))[_0x4a900d(0xa21)],'includeImages':document[_0x4a900d(0x2bc)]('bp-modal-include-images-checkbox')[_0x4a900d(0x6b7)]},showMessage(_0x4a900d(0x8cc)),document['getElementById'](_0x4a900d(0xc62))['classList'][_0x4a900d(0x546)](_0x4a900d(0x44c));}function listenForParallelTestShortcuts(){const _0x448875=_0x1f917e,_0x5af0fe=doc(db,_0x448875(0x214),_0x448875(0x37a));onSnapshot(_0x5af0fe,_0x278faa=>{const _0x3218af=_0x448875;let _0x2fa671=[],_0x344f60=[],_0x1bb12f={};if(_0x278faa['exists']()){const _0x50b8eb=_0x278faa[_0x3218af(0x923)]();_0x2fa671=_0x50b8eb[_0x3218af(0x3d0)]||[],_0x344f60=_0x50b8eb[_0x3218af(0xc09)]||[],_0x1bb12f=_0x50b8eb['parallelShortcutOrder']||{};}!_0x344f60[_0x3218af(0xaa2)](_0x19ea3d=>_0x19ea3d['id']==='all')&&_0x344f60[_0x3218af(0xb94)]({'id':'all','name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x2fa671[_0x3218af(0xaa2)](_0x5ca682=>_0x5ca682['id']==='parallel-default-1')&&_0x2fa671['unshift']({'id':_0x3218af(0x92d),'name':_0x3218af(0xbfd),'url':'','isDefault':!![]}),!_0x2fa671[_0x3218af(0xaa2)](_0x1270d7=>_0x1270d7['id']===_0x3218af(0x7d4))&&_0x2fa671['unshift']({'id':_0x3218af(0x7d4),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x2fa671,parallelShortcutTabs=_0x344f60,parallelShortcutOrder=_0x1bb12f,renderParallelTestShortcuts(),!document['getElementById'](_0x3218af(0xb6f))['classList'][_0x3218af(0x7ab)](_0x3218af(0x44c))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x458900=_0x1f917e,_0x30b5de=doc(db,_0x458900(0x214),_0x458900(0x37a));try{await setDoc(_0x30b5de,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x2324a8){console[_0x458900(0x512)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x2324a8);}}function renderAdditionalParallelShortcutsModal(){const _0x49e416=_0x1f917e,_0x4ddb0e=document[_0x49e416(0x2bc)](_0x49e416(0xcaf)),_0x31aa2b=document['getElementById'](_0x49e416(0x686));if(!_0x4ddb0e||!_0x31aa2b)return;_0x4ddb0e[_0x49e416(0xcd8)]=parallelShortcutTabs[_0x49e416(0x618)](_0x30c860=>{const _0x5a73f8=_0x49e416,_0x1722fd=_0x30c860['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x30c860['id']+_0x5a73f8(0xac7)+(_0x1722fd?'border-indigo-500\x20text-indigo-600':_0x5a73f8(0x784))+_0x5a73f8(0x411)+_0x30c860[_0x5a73f8(0xc85)]+_0x5a73f8(0x4cc)+_0x30c860['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x30c860[_0x5a73f8(0x157)]?_0x5a73f8(0x7a5)+_0x30c860['id']+_0x5a73f8(0x9fe):'')+_0x5a73f8(0xcb7);})[_0x49e416(0xd29)]('');const _0x4fb999=parallelShortcutTabs[_0x49e416(0xaa2)](_0x51aa98=>_0x51aa98['id']===activeParallelShortcutTabId);let _0x3a62f1=_0x4fb999?.[_0x49e416(0x157)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x4fcd56=>(_0x4fb999?.[_0x49e416(0x920)]||[])['includes'](_0x4fcd56['id']));const _0x48c90d=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x3a62f1[_0x49e416(0x817)]((_0x3ddeb0,_0x245b1c)=>{const _0x5a39bb=_0x49e416,_0x3aeef5=_0x48c90d[_0x5a39bb(0xb3b)](_0x3ddeb0['id']),_0x5c425c=_0x48c90d[_0x5a39bb(0xb3b)](_0x245b1c['id']);return(_0x3aeef5===-0x1?Infinity:_0x3aeef5)-(_0x5c425c===-0x1?Infinity:_0x5c425c);}),_0x31aa2b['innerHTML']=_0x3a62f1[_0x49e416(0x618)](_0x58858e=>{const _0x2a25fd=_0x49e416,_0x4ee1c0=_0x58858e[_0x2a25fd(0x506)]?'🔁':'🔗',_0xa33c95=parallelShortcutTabs[_0x2a25fd(0xa7a)](_0x3b5e80=>!_0x3b5e80[_0x2a25fd(0x157)]),_0x1b4c8d=_0x4fb999[_0x2a25fd(0x157)]&&_0xa33c95[_0x2a25fd(0xab1)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa33c95[_0x2a25fd(0x618)](_0x43d8ca=>_0x2a25fd(0x1c8)+_0x58858e['id']+'\x22\x20data-target-tab-id=\x22'+_0x43d8ca['id']+'\x22>'+_0x43d8ca['name']+_0x2a25fd(0xa6d))[_0x2a25fd(0xd29)]('')+_0x2a25fd(0x7fe):'';return _0x2a25fd(0x388)+_0x58858e['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x4ee1c0+'\x20'+_0x58858e[_0x2a25fd(0xc85)]+_0x2a25fd(0x1dc)+_0x58858e['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x58858e['id']+_0x2a25fd(0x82d)+(!_0x58858e[_0x2a25fd(0x157)]?_0x2a25fd(0x64c)+_0x58858e['id']+_0x2a25fd(0xbfa):'')+_0x2a25fd(0x5b2)+(!_0x4fb999[_0x2a25fd(0x157)]?_0x2a25fd(0x8c7)+_0x58858e['id']+_0x2a25fd(0xa63):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b4c8d+_0x2a25fd(0x3e8);})[_0x49e416(0xd29)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4c3baf=_0x1f917e;document[_0x4c3baf(0x362)]('.parallel-shortcut-tab-btn')['forEach'](_0x27acaf=>{const _0x4e48e3=_0x4c3baf;_0x27acaf[_0x4e48e3(0x7aa)]=_0x5a0d03=>{const _0x3d7054=_0x4e48e3;activeParallelShortcutTabId=_0x5a0d03['currentTarget'][_0x3d7054(0x4e3)][_0x3d7054(0xc69)],renderAdditionalParallelShortcutsModal();},_0x27acaf[_0x4e48e3(0xc05)]=_0x2948d0=>{const _0x32643f=_0x4e48e3,_0x9ac5cd=_0x2948d0[_0x32643f(0xa9d)][_0x32643f(0x22d)]('.tab-name-input');_0x2948d0[_0x32643f(0xa9d)][_0x32643f(0x22d)](_0x32643f(0xb3e))['classList']['add'](_0x32643f(0x44c)),_0x9ac5cd['classList'][_0x32643f(0x1b5)](_0x32643f(0x44c)),_0x9ac5cd['focus'](),_0x9ac5cd[_0x32643f(0x397)]();};}),document[_0x4c3baf(0x362)](_0x4c3baf(0xac2))['forEach'](_0x1a93a1=>{const _0x204876=_0x4c3baf,_0x3dde53=()=>{const _0x4c4605=_0x36ac,_0x173187=_0x1a93a1[_0x4c4605(0x634)](_0x4c4605(0x86b))[_0x4c4605(0x4e3)][_0x4c4605(0xc69)],_0x6d1bc0=parallelShortcutTabs[_0x4c4605(0xaa2)](_0x544431=>_0x544431['id']===_0x173187);_0x6d1bc0&&(_0x6d1bc0[_0x4c4605(0xc85)]=_0x1a93a1[_0x4c4605(0xa21)][_0x4c4605(0x1df)]()||_0x6d1bc0[_0x4c4605(0xc85)],saveParallelShortcutConfig());};_0x1a93a1[_0x204876(0x57b)]=_0x3dde53,_0x1a93a1[_0x204876(0x337)]=_0x4f09de=>{const _0x45bc9f=_0x204876;if(_0x4f09de[_0x45bc9f(0x745)]===_0x45bc9f(0x457))_0x1a93a1[_0x45bc9f(0x466)]();};}),document[_0x4c3baf(0x362)](_0x4c3baf(0x438))[_0x4c3baf(0x229)](_0x3a250f=>_0x3a250f[_0x4c3baf(0x7aa)]=_0x3b64a0=>{const _0x121490=_0x4c3baf,_0x3da8ff=_0x3b64a0[_0x121490(0xa9d)][_0x121490(0x4e3)]['tabId'];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x5a6f2e=_0x121490;parallelShortcutTabs=parallelShortcutTabs[_0x5a6f2e(0xa7a)](_0x52eea9=>_0x52eea9['id']!==_0x3da8ff),delete parallelShortcutOrder[_0x3da8ff];if(activeParallelShortcutTabId===_0x3da8ff)activeParallelShortcutTabId=_0x5a6f2e(0x8bd);saveParallelShortcutConfig();});}),document['querySelectorAll']('.move-parallel-shortcut-item')[_0x4c3baf(0x229)](_0x1e3a17=>_0x1e3a17[_0x4c3baf(0x7aa)]=_0x4c8388=>{const _0x4d01e6=_0x4c3baf;_0x4c8388[_0x4d01e6(0x9f2)]();const {shortcutId:_0x55694a,targetTabId:_0x2fd548}=_0x4c8388[_0x4d01e6(0xa9d)][_0x4d01e6(0x4e3)],_0x20b993=parallelShortcutTabs[_0x4d01e6(0xaa2)](_0x10b946=>_0x10b946['id']===_0x2fd548);_0x20b993&&!_0x20b993[_0x4d01e6(0x920)][_0x4d01e6(0x42a)](_0x55694a)&&(_0x20b993['shortcutIds'][_0x4d01e6(0xad2)](_0x55694a),saveParallelShortcutConfig());}),document[_0x4c3baf(0x362)]('.remove-parallel-shortcut-from-tab-btn')[_0x4c3baf(0x229)](_0x2fa28f=>_0x2fa28f[_0x4c3baf(0x7aa)]=_0x4bb318=>{const _0x393b69=_0x4c3baf,_0x24b8bc=_0x4bb318[_0x393b69(0xa9d)][_0x393b69(0x4e3)][_0x393b69(0x515)],_0xdcb11f=parallelShortcutTabs[_0x393b69(0xaa2)](_0x1fe78f=>_0x1fe78f['id']===activeParallelShortcutTabId);_0xdcb11f&&!_0xdcb11f['isDefault']&&(_0xdcb11f[_0x393b69(0x920)]=_0xdcb11f['shortcutIds'][_0x393b69(0xa7a)](_0x4d4d69=>_0x4d4d69!==_0x24b8bc),saveParallelShortcutConfig());}),document[_0x4c3baf(0x362)]('.move-parallel-shortcut-menu-btn')[_0x4c3baf(0x229)](_0x48a418=>_0x48a418[_0x4c3baf(0x7aa)]=_0x347135=>{const _0x37f30d=_0x4c3baf;_0x347135[_0x37f30d(0x71b)]();const _0x5682f0=_0x347135['currentTarget']['nextElementSibling'];document[_0x37f30d(0x362)](_0x37f30d(0x7a9))[_0x37f30d(0x229)](_0x32e9ad=>_0x32e9ad[_0x37f30d(0x517)][_0x37f30d(0x546)]('hidden')),_0x5682f0['classList']['remove'](_0x37f30d(0x44c));});const _0x49925f=document[_0x4c3baf(0x2bc)]('additional-parallel-shortcuts-list');let _0x2aa947=null;_0x49925f[_0x4c3baf(0x2a6)]=_0x347987=>{const _0x3c8960=_0x4c3baf;_0x2aa947=_0x347987[_0x3c8960(0x97d)][_0x3c8960(0x634)](_0x3c8960(0xa53));if(_0x2aa947)setTimeout(()=>_0x2aa947[_0x3c8960(0x517)][_0x3c8960(0x546)](_0x3c8960(0x1b3)),0x0);},_0x49925f[_0x4c3baf(0x40e)]=()=>{const _0x260933=_0x4c3baf;_0x2aa947&&(_0x2aa947[_0x260933(0x517)][_0x260933(0x1b5)]('opacity-50'),_0x2aa947=null);},_0x49925f[_0x4c3baf(0xba0)]=_0x54034d=>{_0x54034d['preventDefault']();},_0x49925f[_0x4c3baf(0x676)]=_0x2e3731=>{const _0x29ed17=_0x4c3baf;_0x2e3731['preventDefault']();if(_0x2aa947){const _0x5c18a2=[..._0x49925f[_0x29ed17(0x362)](_0x29ed17(0x96b))][_0x29ed17(0x5e7)]((_0x51de04,_0x18a513)=>{const _0x259ea2=_0x29ed17,_0x4686d0=_0x18a513[_0x259ea2(0x263)](),_0x17c7ca=_0x2e3731[_0x259ea2(0xb68)]-_0x4686d0[_0x259ea2(0x151)]-_0x4686d0[_0x259ea2(0x8e4)]/0x2;return _0x17c7ca<0x0&&_0x17c7ca>_0x51de04['offset']?{'offset':_0x17c7ca,'element':_0x18a513}:_0x51de04;},{'offset':Number[_0x29ed17(0x92a)]})['element'];_0x5c18a2==null?_0x49925f[_0x29ed17(0x289)](_0x2aa947):_0x49925f['insertBefore'](_0x2aa947,_0x5c18a2);const _0x547205=[..._0x49925f[_0x29ed17(0x362)](_0x29ed17(0xa53))][_0x29ed17(0x618)](_0x281632=>_0x281632['dataset'][_0x29ed17(0x515)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x547205,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x5990a7=_0x1f917e,_0x196814=prompt(_0x5990a7(0xc42),_0x5990a7(0x463));_0x196814&&_0x196814[_0x5990a7(0x1df)]()&&(parallelShortcutTabs[_0x5990a7(0xad2)]({'id':'tab_'+Date['now'](),'name':_0x196814['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x5a4cf3=_0x1f917e,_0x1d61f6=document['getElementById'](_0x5a4cf3(0x717)),_0x524981=document[_0x5a4cf3(0x2bc)]('additional-parallel-shortcuts-list'),_0x2b7351=document[_0x5a4cf3(0x2bc)](_0x5a4cf3(0x6bc));if(_0x2b7351)_0x2b7351[_0x5a4cf3(0x517)][_0x5a4cf3(0x546)](_0x5a4cf3(0x44c));if(!_0x1d61f6||!_0x524981)return;const _0x423bfd=parallelTestShortcuts['slice'](0x0,0x4),_0x19816d=parallelTestShortcuts[_0x5a4cf3(0x52a)](0x4);_0x1d61f6[_0x5a4cf3(0xcd8)]=_0x423bfd[_0x5a4cf3(0x618)](_0x2f2104=>{const _0x8b467a=_0x5a4cf3,_0x1e266c=_0x2f2104[_0x8b467a(0x506)]&&_0x2f2104['url'][_0x8b467a(0x1df)]()!=='',_0x527e80=_0x1e266c?_0x8b467a(0x7fc):_0x8b467a(0x19b),_0x567b4a=_0x1e266c?'🔁':'🔗',_0x3e8a83=!_0x2f2104[_0x8b467a(0x157)]?'<button\x20data-id=\x22'+_0x2f2104['id']+_0x8b467a(0x406):'';return _0x8b467a(0x734)+_0x2f2104['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x527e80+_0x8b467a(0x87f)+_0x567b4a+'\x20'+_0x2f2104[_0x8b467a(0xc85)]+_0x8b467a(0x2a5)+_0x2f2104['id']+_0x8b467a(0xcb1)+_0x3e8a83+_0x8b467a(0x3a4);})['join'](''),_0x19816d[_0x5a4cf3(0xab1)]>0x0&&(_0x1d61f6[_0x5a4cf3(0xcd8)]+=_0x5a4cf3(0xa2d)),_0x19816d[_0x5a4cf3(0xab1)]>0x0?_0x524981[_0x5a4cf3(0xcd8)]=_0x19816d[_0x5a4cf3(0x618)](_0x37d4f6=>_0x5a4cf3(0x2be)+(_0x37d4f6['url']?'🔁':'🔗')+'\x20'+_0x37d4f6[_0x5a4cf3(0xc85)]+_0x5a4cf3(0x83f)+_0x37d4f6['id']+_0x5a4cf3(0x9bd)+_0x37d4f6['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x37d4f6[_0x5a4cf3(0x157)]?'<button\x20data-id=\x22'+_0x37d4f6['id']+_0x5a4cf3(0xbfa):'')+_0x5a4cf3(0x251))[_0x5a4cf3(0xd29)](''):_0x524981[_0x5a4cf3(0xcd8)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x148829=null){const _0x2ae8a6=_0x1f917e,_0x39a2f7=document['getElementById'](_0x2ae8a6(0x45e)),_0xf9a0f4=document[_0x2ae8a6(0x2bc)](_0x2ae8a6(0x5ca)),_0xbf2ee2=document[_0x2ae8a6(0x2bc)](_0x2ae8a6(0xb14)),_0x3fc766=document[_0x2ae8a6(0x2bc)](_0x2ae8a6(0xb7e)),_0x117372=document['getElementById'](_0x2ae8a6(0x4be));if(_0x148829){const _0x2636ec=parallelTestShortcuts[_0x2ae8a6(0xaa2)](_0x4cd936=>_0x4cd936['id']===_0x148829);if(!_0x2636ec)return;_0xf9a0f4['textContent']=_0x2ae8a6(0x5cf),_0xbf2ee2[_0x2ae8a6(0xa21)]=_0x2636ec['id'],_0x3fc766[_0x2ae8a6(0xa21)]=_0x2636ec[_0x2ae8a6(0xc85)],_0x117372['value']=_0x2636ec['url']||'';}else _0xf9a0f4[_0x2ae8a6(0x806)]=_0x2ae8a6(0x2e6),_0xbf2ee2['value']='',_0x3fc766[_0x2ae8a6(0xa21)]='',_0x117372['value']='';_0x39a2f7[_0x2ae8a6(0x517)]['remove']('hidden');}async function saveParallelTestShortcutChanges(){const _0x4f3303=_0x1f917e,_0x204bf5=document[_0x4f3303(0x2bc)](_0x4f3303(0xb14))['value'],_0x5f4fbc=document[_0x4f3303(0x2bc)](_0x4f3303(0xb7e))[_0x4f3303(0xa21)]['trim'](),_0xd74dad=document[_0x4f3303(0x2bc)](_0x4f3303(0x4be))['value'][_0x4f3303(0x1df)]();if(!_0x5f4fbc){showMessage(_0x4f3303(0x363));return;}const _0x5ccedc={'id':_0x204bf5||_0x4f3303(0x6fa)+Date[_0x4f3303(0x58e)](),'name':_0x5f4fbc,'url':_0xd74dad,'isDefault':_0x204bf5[_0x4f3303(0x88f)](_0x4f3303(0x496))};let _0x3403ca;_0x204bf5?_0x3403ca=parallelTestShortcuts[_0x4f3303(0x618)](_0x505093=>_0x505093['id']===_0x204bf5?_0x5ccedc:_0x505093):_0x3403ca=[...parallelTestShortcuts,_0x5ccedc];try{const _0x96e524=doc(db,_0x4f3303(0x214),_0x4f3303(0x37a));await setDoc(_0x96e524,{'shortcuts':_0x3403ca},{'merge':!![]}),document[_0x4f3303(0x2bc)](_0x4f3303(0x45e))[_0x4f3303(0x517)][_0x4f3303(0x546)]('hidden');}catch(_0x25df76){console[_0x4f3303(0x512)](_0x4f3303(0x255),_0x25df76),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0xb5f87d){const _0x16829f=_0x1f917e,_0x22c138=parallelTestShortcuts['find'](_0xecb9ad=>_0xecb9ad['id']===_0xb5f87d);if(!_0x22c138)return;if(!_0x22c138[_0x16829f(0x506)]||_0x22c138['url'][_0x16829f(0x1df)]()===''){openParallelTestShortcutEditor(_0xb5f87d);return;}const _0x1cdc0f=document[_0x16829f(0x2bc)](_0x16829f(0x70f)),_0x11f896=document[_0x16829f(0x2bc)](_0x16829f(0x626));document[_0x16829f(0x2bc)]('quiz-generation-area')['classList'][_0x16829f(0x1b5)](_0x16829f(0x44c)),document[_0x16829f(0x2bc)](_0x16829f(0x613))['innerHTML']='',_0x1cdc0f[_0x16829f(0x517)][_0x16829f(0x1b5)](_0x16829f(0x44c)),_0x11f896[_0x16829f(0x806)]='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x12eaa5;_0x22c138[_0x16829f(0x506)][_0x16829f(0x281)]()['includes']('.txt')?_0x12eaa5=_0x16829f(0x6f9):_0x12eaa5=_0x16829f(0x990);const _0x5dbfaa=await fetchFileFromUrl(_0x22c138[_0x16829f(0x506)],_0x12eaa5);await handleGenerateParallelTest(_0x5dbfaa);}catch(_0x1bd5a2){console['error'](_0x16829f(0x9ba),_0x1bd5a2),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1bd5a2[_0x16829f(0xaf3)]),_0x1cdc0f[_0x16829f(0x517)][_0x16829f(0x546)](_0x16829f(0x44c));}}function initializeScratchpadCanvas(){const _0x13ab00=_0x1f917e,_0x18cbf1=document[_0x13ab00(0x2bc)](_0x13ab00(0xb62)),_0x325468=document['querySelector'](_0x13ab00(0x2f9));if(!_0x18cbf1||!_0x325468)return;scratchpadCtx=_0x18cbf1['getContext']('2d',{'willReadFrequently':!![]});const _0x408281=window[_0x13ab00(0x73c)]||0x1,_0x21ab72=_0x325468['getBoundingClientRect']();_0x18cbf1[_0x13ab00(0x966)]=_0x21ab72[_0x13ab00(0x966)]*_0x408281,_0x18cbf1[_0x13ab00(0x8e4)]=_0x21ab72[_0x13ab00(0x8e4)]*_0x408281,_0x18cbf1[_0x13ab00(0x60e)]['width']=_0x21ab72[_0x13ab00(0x966)]+'px',_0x18cbf1[_0x13ab00(0x60e)][_0x13ab00(0x8e4)]=_0x21ab72[_0x13ab00(0x8e4)]+'px',scratchpadCtx[_0x13ab00(0xc88)](_0x408281,_0x408281),scratchpadCtx[_0x13ab00(0x3eb)]=_0x13ab00(0x562),scratchpadCtx[_0x13ab00(0xbbf)]=_0x13ab00(0x562),_0x18cbf1[_0x13ab00(0xcab)](_0x13ab00(0x67d),handlePointerDown),_0x18cbf1[_0x13ab00(0xcab)]('pointermove',handlePointerMove),_0x18cbf1[_0x13ab00(0xcab)]('pointerup',handlePointerUp),_0x18cbf1['removeEventListener'](_0x13ab00(0xcf2),handlePointerUp),_0x18cbf1[_0x13ab00(0xcab)](_0x13ab00(0x500),handleWheel),_0x18cbf1['removeEventListener'](_0x13ab00(0x486),handlePointerDown),_0x18cbf1[_0x13ab00(0xcab)](_0x13ab00(0x5ec),handlePointerMove),_0x18cbf1['removeEventListener']('touchend',handlePointerUp),_0x18cbf1[_0x13ab00(0x8de)](_0x13ab00(0x67d),handlePointerDown),_0x18cbf1['addEventListener'](_0x13ab00(0x9ee),handlePointerMove),_0x18cbf1[_0x13ab00(0x8de)](_0x13ab00(0xa8b),handlePointerUp),_0x18cbf1[_0x13ab00(0x8de)]('pointercancel',handlePointerUp),_0x18cbf1[_0x13ab00(0x8de)](_0x13ab00(0x500),handleWheel,{'passive':![]}),_0x18cbf1[_0x13ab00(0x8de)](_0x13ab00(0x486),handlePointerDown,{'passive':![]}),_0x18cbf1[_0x13ab00(0x8de)]('touchmove',handlePointerMove,{'passive':![]}),_0x18cbf1[_0x13ab00(0x8de)](_0x13ab00(0x891),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4bf975=_0x1f917e,_0x1c9b29=document[_0x4bf975(0x2bc)](_0x4bf975(0x4e1)),_0x59e000=document[_0x4bf975(0x2bc)]('scratchpad-controls');_0x59e000[_0x4bf975(0xcd8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1fc1a7=document[_0x4bf975(0x2bc)](_0x4bf975(0x52e)),_0x5c87df=document[_0x4bf975(0x2bc)](_0x4bf975(0x49e)),_0x2b61b5=document['getElementById'](_0x4bf975(0x964)),_0x70d5db=document[_0x4bf975(0x2bc)](_0x4bf975(0xcff)),_0x22cfec=document[_0x4bf975(0x2bc)](_0x4bf975(0x78d)),_0x1eea63=document['getElementById'](_0x4bf975(0x209)),_0x819d25=document[_0x4bf975(0x2bc)](_0x4bf975(0xc93)),_0x4dce24=[_0x1fc1a7,_0x5c87df,_0x2b61b5,_0x70d5db];document[_0x4bf975(0x2bc)](_0x4bf975(0x1e3))[_0x4bf975(0x8de)](_0x4bf975(0xc20),()=>_0x1c9b29[_0x4bf975(0x517)][_0x4bf975(0x546)](_0x4bf975(0x44c))),document['getElementById'](_0x4bf975(0xa05))['addEventListener'](_0x4bf975(0xc20),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x4bf975(0x2bc)](_0x4bf975(0x79d))[_0x4bf975(0x8de)](_0x4bf975(0xc20),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x4bf975(0x405))['addEventListener'](_0x4bf975(0xc20),undo),document['getElementById'](_0x4bf975(0x867))[_0x4bf975(0x8de)]('click',redo);const _0x58d672=_0x113935=>{const _0x418e1e=_0x4bf975;_0x4dce24[_0x418e1e(0x229)](_0x51375f=>_0x51375f[_0x418e1e(0x517)][_0x418e1e(0x1b5)](_0x418e1e(0x50f))),_0x113935[_0x418e1e(0x517)][_0x418e1e(0x546)](_0x418e1e(0x50f)),_0x22cfec[_0x418e1e(0x517)]['add']('hidden'),_0x1eea63[_0x418e1e(0x517)][_0x418e1e(0x546)]('hidden'),_0x819d25[_0x418e1e(0x517)][_0x418e1e(0x546)](_0x418e1e(0x44c));if(activeTool==='pen'||activeTool==='trail')_0x22cfec['classList'][_0x418e1e(0x1b5)](_0x418e1e(0x44c));else{if(activeTool===_0x418e1e(0x393))_0x1eea63[_0x418e1e(0x517)][_0x418e1e(0x1b5)](_0x418e1e(0x44c));else activeTool===_0x418e1e(0x703)&&_0x819d25[_0x418e1e(0x517)][_0x418e1e(0x1b5)](_0x418e1e(0x44c));}};_0x1fc1a7[_0x4bf975(0x8de)](_0x4bf975(0xc20),()=>{const _0x27e050=_0x4bf975;activeTool=_0x27e050(0x708),_0x58d672(_0x1fc1a7);}),_0x5c87df[_0x4bf975(0x8de)](_0x4bf975(0xc20),()=>{activeTool='eraser',_0x58d672(_0x5c87df);}),_0x2b61b5[_0x4bf975(0x8de)](_0x4bf975(0xc20),()=>{const _0x28cf76=_0x4bf975;activeTool=_0x28cf76(0x162),_0x58d672(_0x2b61b5);}),_0x70d5db[_0x4bf975(0x8de)](_0x4bf975(0xc20),()=>{const _0x39a81d=_0x4bf975;activeTool=_0x39a81d(0x393),_0x58d672(_0x70d5db);}),_0x22cfec['querySelectorAll'](_0x4bf975(0x803))[_0x4bf975(0x229)](_0xb7cb04=>{const _0x32433d=_0x4bf975;_0xb7cb04[_0x32433d(0x8de)](_0x32433d(0xc20),_0x4e3e36=>{const _0x250211=_0x32433d;scratchpadPenSize=parseInt(_0x4e3e36[_0x250211(0x97d)][_0x250211(0x4e3)][_0x250211(0xc1b)],0xa),_0x22cfec['querySelectorAll'](_0x250211(0x803))[_0x250211(0x229)](_0x50164c=>_0x50164c[_0x250211(0x517)][_0x250211(0x1b5)]('active')),_0x4e3e36[_0x250211(0x97d)][_0x250211(0x517)][_0x250211(0x546)](_0x250211(0x50f));});}),_0x819d25[_0x4bf975(0x362)](_0x4bf975(0xb66))[_0x4bf975(0x229)](_0x56d45d=>{const _0x3f61e4=_0x4bf975;_0x56d45d['addEventListener'](_0x3f61e4(0xc20),_0x16ba59=>{const _0x14acc5=_0x3f61e4,_0x9e155=_0x16ba59[_0x14acc5(0xa9d)];scratchpadEraserSize=parseInt(_0x9e155[_0x14acc5(0x4e3)][_0x14acc5(0xc1b)],0xa),_0x819d25[_0x14acc5(0x362)](_0x14acc5(0xb66))['forEach'](_0x4e44d3=>_0x4e44d3[_0x14acc5(0x517)][_0x14acc5(0x1b5)]('active')),_0x9e155['classList'][_0x14acc5(0x546)]('active');});}),_0x22cfec[_0x4bf975(0x362)](_0x4bf975(0x9d0))[_0x4bf975(0x229)](_0x403f21=>{const _0x47d2a5=_0x4bf975;_0x403f21[_0x47d2a5(0x8de)]('click',_0x4aac7e=>{const _0xf89c5a=_0x47d2a5;scratchpadPenColor=_0x4aac7e[_0xf89c5a(0x97d)]['dataset']['color'],_0x22cfec[_0xf89c5a(0x362)]('.pen-color-btn')[_0xf89c5a(0x229)](_0x4bcae8=>_0x4bcae8['classList'][_0xf89c5a(0x1b5)](_0xf89c5a(0x50f))),_0x4aac7e[_0xf89c5a(0x97d)]['classList']['add'](_0xf89c5a(0x50f));});}),_0x1eea63[_0x4bf975(0x362)](_0x4bf975(0xa90))[_0x4bf975(0x229)](_0x55958e=>{const _0x43db99=_0x4bf975;_0x55958e[_0x43db99(0x8de)](_0x43db99(0xc20),_0x5794a0=>{const _0x171f9b=_0x43db99;scratchpadHighlighterColor=_0x5794a0[_0x171f9b(0x97d)][_0x171f9b(0x4e3)]['color'],_0x1eea63['querySelectorAll']('.highlighter-color-btn')[_0x171f9b(0x229)](_0x26b656=>_0x26b656[_0x171f9b(0x517)][_0x171f9b(0x1b5)](_0x171f9b(0x50f))),_0x5794a0[_0x171f9b(0x97d)][_0x171f9b(0x517)]['add'](_0x171f9b(0x50f));});});const _0x223301=document[_0x4bf975(0x2bc)](_0x4bf975(0xb9d)),_0xa01a78=document[_0x4bf975(0x2bc)](_0x4bf975(0x3e5));_0x223301[_0x4bf975(0x8de)]('input',_0x2f485d=>{const _0xa7baf5=_0x4bf975,_0x598a0d=parseInt(_0x2f485d[_0xa7baf5(0x97d)][_0xa7baf5(0xa21)],0xa);scratchpadHighlighterSize=_0x598a0d,_0xa01a78['textContent']=_0x598a0d;}),window[_0x4bf975(0x8de)](_0x4bf975(0x262),()=>{const _0x2aa606=_0x4bf975;!_0x1c9b29[_0x2aa606(0x517)][_0x2aa606(0x7ab)](_0x2aa606(0x44c))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1f917e(0x601),'name':_0x1f917e(0x684),'description':_0x1f917e(0x20a),'icon':_0x1f917e(0x343)},'QUICK_THINKER':{'id':_0x1f917e(0x3d3),'name':_0x1f917e(0x712),'description':_0x1f917e(0xc1d),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x1f917e(0x95f),'name':_0x1f917e(0xa3b),'description':_0x1f917e(0x250),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x1f917e(0x3db),'name':_0x1f917e(0xc8e),'description':_0x1f917e(0x6c9),'icon':_0x1f917e(0x944)},'COMEBACK_KING':{'id':'comeback_king','name':_0x1f917e(0xb09),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x1f917e(0xb7b),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x1f917e(0xbed)},'PERSEVERANCE':{'id':'perseverance','name':_0x1f917e(0xb4a),'description':_0x1f917e(0xa22),'icon':_0x1f917e(0x839)}},firebaseConfig={'apiKey':_0x1f917e(0x701),'authDomain':_0x1f917e(0x39f),'projectId':_0x1f917e(0x8b0),'storageBucket':_0x1f917e(0x2c2),'messagingSenderId':_0x1f917e(0x9eb),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x1f917e(0x5d9)},appId=typeof __app_id!==_0x1f917e(0x587)?__app_id:_0x1f917e(0x3e0),adminView=document[_0x1f917e(0x2bc)](_0x1f917e(0x5dd)),studentView=document[_0x1f917e(0x2bc)](_0x1f917e(0x583)),projectDashboardView=document['getElementById'](_0x1f917e(0x586)),projectDetailView=document['getElementById'](_0x1f917e(0xd27)),quizResultsView=document[_0x1f917e(0x2bc)](_0x1f917e(0xaba)),projectList=document[_0x1f917e(0x2bc)](_0x1f917e(0x147)),noProjectsMsg=document[_0x1f917e(0x2bc)](_0x1f917e(0x8fd)),projectTitle=document['getElementById'](_0x1f917e(0x6af)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x1f917e(0x2bc)]('student-list'),messageModal=document['getElementById']('message-modal'),modalMessage=document['getElementById'](_0x1f917e(0x95b)),createProjectModal=document[_0x1f917e(0x2bc)]('create-project-modal'),adminPasswordModal=document[_0x1f917e(0x2bc)](_0x1f917e(0xc60)),confirmationModal=document[_0x1f917e(0x2bc)](_0x1f917e(0x79a)),userIdDisplay=document['getElementById'](_0x1f917e(0x67a)),topicTab=document['getElementById'](_0x1f917e(0xba7)),textTab=document[_0x1f917e(0x2bc)](_0x1f917e(0x65e)),topicInputArea=document[_0x1f917e(0x2bc)](_0x1f917e(0x9ab)),textInputArea=document[_0x1f917e(0x2bc)](_0x1f917e(0xa0c)),manageTab=document['getElementById']('manage-tab'),resultsTab=document[_0x1f917e(0x2bc)](_0x1f917e(0x310)),leaderboardTab=document[_0x1f917e(0x2bc)](_0x1f917e(0x818)),manageTabContent=document[_0x1f917e(0x2bc)](_0x1f917e(0xc8c)),resultsTabContent=document[_0x1f917e(0x2bc)](_0x1f917e(0x965)),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0x1f917e(0x3bc)),fileTab=document[_0x1f917e(0x2bc)](_0x1f917e(0x6dc)),fileInputArea=document[_0x1f917e(0x2bc)]('file-input-area'),fileUploadInput=document[_0x1f917e(0x2bc)](_0x1f917e(0x692)),worksheetTab=document['getElementById']('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x1f917e(0xacc)),generateWorksheetBtn=document['getElementById'](_0x1f917e(0xb90)),studentInitialView=document[_0x1f917e(0x2bc)]('student-initial-view'),studentNameSelectionView=document[_0x1f917e(0x2bc)](_0x1f917e(0x48d)),studentQuizArea=document[_0x1f917e(0x2bc)](_0x1f917e(0x4b3)),studentResultArea=document[_0x1f917e(0x2bc)](_0x1f917e(0xd1d)),studentReadingArea=document[_0x1f917e(0x2bc)](_0x1f917e(0xce8)),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x1f917e(0x2bc)](_0x1f917e(0x609)),studentJoinGameView=document[_0x1f917e(0x2bc)](_0x1f917e(0x29e)),presentationModal=document['getElementById'](_0x1f917e(0x7f2)),renameQuizModal=document[_0x1f917e(0x2bc)](_0x1f917e(0x76a)),moveQuizModal=document[_0x1f917e(0x2bc)](_0x1f917e(0x436)),quizSettingsModal=document[_0x1f917e(0x2bc)](_0x1f917e(0x478)),quizStatusModal=document[_0x1f917e(0x2bc)]('quiz-status-modal'),liveGameView=document['getElementById'](_0x1f917e(0xc4d));function handleFixLessonLatex(){const _0x5723d6=_0x1f917e,_0x2f4d93=document[_0x5723d6(0x2bc)]('lesson-view-content');if(!_0x2f4d93){showMessage(_0x5723d6(0x59f));return;}const _0x35b3d1=_0x2f4d93[_0x5723d6(0x362)]([_0x5723d6(0x1ee),_0x5723d6(0x243),_0x5723d6(0x55b),_0x5723d6(0x2a8),_0x5723d6(0x743)][_0x5723d6(0xd29)](','));let _0x1877ba=0x0;const _0x307476=_0x21a1d4=>_0x21a1d4[_0x5723d6(0x806)]||'',_0x26511a=(_0x56838a,_0x4d4e9f)=>{const _0x2bab24=_0x5723d6;if(_0x56838a[_0x2bab24(0x22d)]&&_0x56838a['querySelector']('mjx-container'))return;_0x56838a[_0x2bab24(0x806)]=_0x4d4e9f;},_0x29066c=_0x3bbee7=>_0x3bbee7[_0x5723d6(0x794)](/\u00A0/g,'\x20')[_0x5723d6(0x794)](/\u200B/g,'')[_0x5723d6(0x794)](/\r\n?/g,'\x0a'),_0x5295e0=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4f5b9e=_0x247e5f=>{const _0x43f97b=_0x5723d6;let _0xff719d=_0x247e5f[_0x43f97b(0x1df)]();const _0x5b27de=[_0x43f97b(0x21d),_0x43f97b(0x949),_0x43f97b(0x509),'sqrt',_0x43f97b(0xbaa),_0x43f97b(0xc00),'cdot',_0x43f97b(0xb25),_0x43f97b(0x928),_0x43f97b(0x312),'le','ge',_0x43f97b(0x4ea),'pm',_0x43f97b(0xa0d),'sin','cos',_0x43f97b(0xbe6),_0x43f97b(0x16e),'ln','sum',_0x43f97b(0xc4b),'binom',_0x43f97b(0x37c),_0x43f97b(0x39a),_0x43f97b(0x4ca),'underline',_0x43f97b(0x9e1),_0x43f97b(0x476)];_0x5b27de[_0x43f97b(0x229)](_0xefa064=>{const _0x168d0a=_0x43f97b;_0xff719d=_0xff719d[_0x168d0a(0x794)](new RegExp(_0x168d0a(0x6ba)+_0xefa064+'\x5cb','g'),(_0xaf1e7e,_0x4ce23e)=>_0x4ce23e+'\x5c'+_0xefa064);});const _0x344ac3=[[/×/g,_0x43f97b(0xc13)],[/·/g,_0x43f97b(0x2f7)],[/÷/g,'\x5cdiv'],[/≤/g,_0x43f97b(0x801)],[/≥/g,_0x43f97b(0xa5a)],[/≠/g,_0x43f97b(0x219)],[/±/g,_0x43f97b(0x7fd)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x344ac3[_0x43f97b(0x229)](([_0x459bc8,_0x51bbe5])=>{const _0x58676a=_0x43f97b;_0xff719d=_0xff719d[_0x58676a(0x794)](_0x459bc8,_0x51bbe5);}),_0xff719d=_0xff719d[_0x43f97b(0x794)](/√\s*([A-Za-z0-9]+)/g,_0x43f97b(0x77a)),_0xff719d=_0xff719d[_0x43f97b(0x794)](/(\d+)\s*%/g,_0x43f97b(0x4d8)),_0xff719d;},_0x8b151f=_0x3cebdb=>{const _0x12a480=_0x5723d6;if(/\$|\\\(|\\\[/[_0x12a480(0xd1b)](_0x3cebdb))return _0x3cebdb;if(!_0x5295e0[_0x12a480(0xd1b)](_0x3cebdb))return _0x3cebdb;const _0x250a88=_0x3cebdb['match'](/^\s*/)[0x0],_0x3702e7=_0x3cebdb[_0x12a480(0x7d2)](/\s*$/)[0x0],_0x15eec2=_0x3cebdb['trim']();return _0x250a88+'$'+_0x4f5b9e(_0x15eec2)+'$'+_0x3702e7;};_0x35b3d1['forEach'](_0x9970aa=>{const _0x4fc497=_0x5723d6,_0x4fb92f=_0x307476(_0x9970aa);let _0x2a1251=_0x29066c(_0x4fb92f);_0x2a1251=_0x2a1251[_0x4fc497(0x794)](/\$([^$]*?)\$/g,(_0x34ecfb,_0x3daea9)=>'$'+_0x4f5b9e(_0x3daea9)+'$');const _0x3e5578=_0x2a1251['split'](/(\s+)/),_0x599a8b=_0x3e5578[_0x4fc497(0x618)](_0x1604a3=>{if(/\s+/['test'](_0x1604a3))return _0x1604a3;return _0x8b151f(_0x1604a3);});_0x2a1251=_0x599a8b[_0x4fc497(0xd29)](''),_0x2a1251!==_0x4fb92f&&(_0x26511a(_0x9970aa,_0x2a1251),_0x1877ba++);});if(_0x1877ba>0x0){showMessage(_0x5723d6(0x69e)+_0x1877ba+_0x5723d6(0xa3e));try{window[_0x5723d6(0x13e)]&&MathJax[_0x5723d6(0xbc4)]&&MathJax[_0x5723d6(0xbc4)]([_0x2f4d93]);}catch(_0x568b83){console[_0x5723d6(0x512)](_0x5723d6(0x544),_0x568b83);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x384239=_0x1f917e,_0x4150ad=document[_0x384239(0x2bc)]('quiz-editor-questions-container')||document,_0x5a4bd8=_0x4150ad[_0x384239(0x362)](_0x384239(0x902));let _0x57a3c9=0x0;const _0x152bef=_0x50589f=>_0x384239(0xa21)in _0x50589f?String(_0x50589f['value']):_0x50589f[_0x384239(0x35f)]!==undefined?_0x50589f['innerText']:_0x50589f[_0x384239(0x806)]||'',_0x3723ca=(_0x398e02,_0x220750)=>{const _0x54c6fc=_0x384239;if(_0x54c6fc(0xa21)in _0x398e02){_0x398e02[_0x54c6fc(0xa21)]=_0x220750;return;}if(_0x398e02[_0x54c6fc(0x22d)]&&_0x398e02[_0x54c6fc(0x22d)](_0x54c6fc(0x44f)))return;if(_0x398e02[_0x54c6fc(0x35f)]!==undefined)_0x398e02[_0x54c6fc(0x35f)]=_0x220750;else _0x398e02['textContent']=_0x220750;},_0x5ce633=_0x39e1bc=>_0x39e1bc[_0x384239(0x794)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x16bbf1=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x25e09a=_0x441f1e=>{const _0x4bc0c2=_0x384239;let _0x3b9816=_0x441f1e['trim']();_0x3b9816=_0x3b9816[_0x4bc0c2(0x794)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x3b9816=_0x3b9816['replace'](/\bfrac(\d)(\d)/g,_0x4bc0c2(0xb77));const _0x8bf29e=[_0x4bc0c2(0x21d),_0x4bc0c2(0x3dd),_0x4bc0c2(0xc00),'cdot',_0x4bc0c2(0xb25),_0x4bc0c2(0x928),_0x4bc0c2(0x312),_0x4bc0c2(0x4ea),'pm','sin',_0x4bc0c2(0xc30),_0x4bc0c2(0xbe6),_0x4bc0c2(0x16e),'ln'];_0x8bf29e[_0x4bc0c2(0x229)](_0x35f351=>{const _0x373d1a=_0x4bc0c2;_0x3b9816=_0x3b9816[_0x373d1a(0x794)](new RegExp(_0x373d1a(0x6ba)+_0x35f351+'\x5cb','g'),(_0x1040ee,_0x2247cf)=>_0x2247cf+'\x5c'+_0x35f351);});const _0x30b599=[[/×/g,'\x5ctimes'],[/·/g,_0x4bc0c2(0x2f7)],[/÷/g,_0x4bc0c2(0x8e5)],[/≤/g,_0x4bc0c2(0x801)],[/≥/g,_0x4bc0c2(0xa5a)],[/≠/g,'\x5cneq'],[/±/g,_0x4bc0c2(0x7fd)]];return _0x30b599['forEach'](([_0x345e9c,_0x2882f7])=>{const _0x104012=_0x4bc0c2;_0x3b9816=_0x3b9816[_0x104012(0x794)](_0x345e9c,_0x2882f7);}),_0x3b9816;},_0x5185d0=_0x198554=>{const _0x40d50f=_0x384239;if(/\$|\\\(|\\\[/[_0x40d50f(0xd1b)](_0x198554))return _0x198554;if(!_0x16bbf1[_0x40d50f(0xd1b)](_0x198554))return _0x198554;const _0x2db363=_0x198554[_0x40d50f(0x7d2)](/^\s*/)[0x0],_0x5091aa=_0x198554[_0x40d50f(0x7d2)](/\s*$/)[0x0],_0x2855fd=_0x198554[_0x40d50f(0x1df)]();return _0x2db363+'$'+_0x25e09a(_0x2855fd)+'$'+_0x5091aa;};_0x5a4bd8[_0x384239(0x229)](_0x3f144b=>{const _0x280dd7=_0x384239,_0x1e4622=_0x152bef(_0x3f144b);let _0x2115ef=_0x5ce633(_0x1e4622);_0x2115ef=_0x2115ef['replace'](/\$([^$]*?)\$/g,(_0x49a775,_0x29cf1e)=>'$'+_0x25e09a(_0x29cf1e)+'$');const _0x5809a6=_0x2115ef[_0x280dd7(0x9b1)](/(\s+)/),_0x26b98a=_0x5809a6[_0x280dd7(0x618)](_0x1571c2=>/\s+/[_0x280dd7(0xd1b)](_0x1571c2)?_0x1571c2:_0x5185d0(_0x1571c2));_0x2115ef=_0x26b98a[_0x280dd7(0xd29)](''),_0x2115ef!==_0x1e4622&&(_0x3723ca(_0x3f144b,_0x2115ef),_0x57a3c9++);});if(_0x57a3c9>0x0){showMessage(_0x384239(0x183)+_0x57a3c9+_0x384239(0x6c7));try{if(window[_0x384239(0x13e)]&&MathJax[_0x384239(0xbc4)])MathJax['typesetPromise']();}catch(_0x9015b){}}else showMessage(_0x384239(0x37e));}async function listenForCustomMathTopics(){const _0x530ff6=_0x1f917e,_0x1b0e02=collection(db,_0x530ff6(0x366)+appId+_0x530ff6(0xc7f));onSnapshot(_0x1b0e02,_0x4d0ed5=>{const _0x240502=_0x530ff6;customMathTopics=_0x4d0ed5[_0x240502(0xac3)]['map'](_0x3c5770=>({'id':_0x3c5770['id'],..._0x3c5770[_0x240502(0x923)]()})),renderTopicCheckboxes();},_0x91612b=>{const _0x4e467f=_0x530ff6;console[_0x4e467f(0x512)](_0x4e467f(0x6c2),_0x91612b);});}function handleSelectAllTopics(){const _0x279703=_0x1f917e,_0x3ef46e=document[_0x279703(0x2bc)](_0x279703(0x6a5)),_0x11e216=_0x3ef46e['querySelectorAll'](_0x279703(0x301));_0x11e216['forEach'](_0x27e779=>{const _0x3a4bd2=_0x279703;_0x27e779[_0x3a4bd2(0x6b7)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x29962a=_0x1f917e,_0x3d7729=document['getElementById'](_0x29962a(0x6a5)),_0x486e4b=_0x3d7729[_0x29962a(0x362)](_0x29962a(0x301));_0x486e4b[_0x29962a(0x229)](_0x1fb4c7=>{const _0x4f8033=_0x29962a;_0x1fb4c7[_0x4f8033(0x6b7)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3053e2){const _0x540282=_0x1f917e;if(!_0x3053e2)return;try{const _0x45bae9=doc(db,_0x540282(0x366)+appId+'/public/data/customMathTopics',_0x3053e2);await deleteDoc(_0x45bae9),showMessage(_0x540282(0x37b));}catch(_0x3b0e19){console['error'](_0x540282(0xa42),_0x3b0e19),showMessage(_0x540282(0xaef));}}async function handleAddCustomMathTopic(){const _0x4a2367=_0x1f917e,_0x4b83a9=document['getElementById']('custom-math-topic-input'),_0x54d017=_0x4b83a9[_0x4a2367(0xa21)][_0x4a2367(0x1df)]();if(!_0x54d017){showMessage(_0x4a2367(0x577));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x10d459=collection(db,_0x4a2367(0x366)+appId+_0x4a2367(0xc7f));await addDoc(_0x10d459,{'name':_0x54d017,'createdAt':serverTimestamp()}),_0x4b83a9['value']='',showMessage(_0x4a2367(0x54b)+_0x54d017+_0x4a2367(0x2f2));}catch(_0x38f278){console[_0x4a2367(0x512)](_0x4a2367(0x658),_0x38f278),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x9681aa=_0x1f917e;showConfirmation(_0x9681aa(0x16a),async()=>{const _0x4b9d65=_0x9681aa,_0x3c5191=document['getElementById']('loader'),_0x16ed9c=document['getElementById'](_0x4b9d65(0x626)),_0x485bfe=_0x16ed9c[_0x4b9d65(0x806)];_0x3c5191['classList'][_0x4b9d65(0x1b5)](_0x4b9d65(0x44c)),_0x16ed9c[_0x4b9d65(0x806)]=_0x4b9d65(0xaae);try{const _0x2727b7=collection(db,_0x4b9d65(0x366)+appId+_0x4b9d65(0xcbc)),_0x4a92df=await getDocs(_0x2727b7);if(_0x4a92df['empty']){showMessage(_0x4b9d65(0xafe));return;}const _0x4f9441=writeBatch(db);let _0x46368c=0x0;_0x4a92df[_0x4b9d65(0x229)](_0x268fdd=>{const _0x233b3f=_0x4b9d65,_0x53283d=_0x268fdd[_0x233b3f(0x923)](),_0x2fbe5c=_0x268fdd['id'];if(_0x53283d[_0x233b3f(0x320)]&&_0x53283d[_0x233b3f(0x320)][_0x233b3f(0xab1)]>0x0&&!_0x53283d[_0x233b3f(0x320)][0x0][_0x233b3f(0x62c)]('id')){console[_0x233b3f(0x16e)](_0x233b3f(0x2d0)+_0x2fbe5c+'\x20('+_0x53283d[_0x233b3f(0x533)]+')'),_0x46368c++;const _0x117180=_0x53283d[_0x233b3f(0x320)][_0x233b3f(0x618)]((_0xb09399,_0x59e33d)=>{const _0x3ca5be=_0x233b3f;return{..._0xb09399,'id':_0xb09399['id']||'q_'+Date[_0x3ca5be(0x58e)]()+'_'+_0x2fbe5c+'_'+_0x59e33d};}),_0x32ec16=doc(db,_0x233b3f(0x366)+appId+_0x233b3f(0xcbc),_0x2fbe5c);_0x4f9441[_0x233b3f(0x72f)](_0x32ec16,{'questions':_0x117180});}}),_0x46368c>0x0?(_0x16ed9c['textContent']=_0x4b9d65(0x4c5)+_0x46368c+'\x20รายการ...',await _0x4f9441[_0x4b9d65(0xa07)](),showMessage(_0x4b9d65(0xc74)+_0x46368c+_0x4b9d65(0x26d))):showMessage(_0x4b9d65(0x5f5));}catch(_0x15aa2f){console['error'](_0x4b9d65(0x728),_0x15aa2f),showMessage(_0x4b9d65(0x8b5)+_0x15aa2f[_0x4b9d65(0xaf3)]);}finally{_0x3c5191[_0x4b9d65(0x517)][_0x4b9d65(0x546)]('hidden'),_0x16ed9c['textContent']=_0x485bfe;}});}async function handleBulkUpdateQuizSettings(){const _0x34de66=_0x1f917e,_0x1c396e={'shuffle':document[_0x34de66(0x2bc)]('bulk-shuffle-select')[_0x34de66(0xa21)],'resultsDisplay':document[_0x34de66(0x2bc)](_0x34de66(0x45c))['value'],'loopUntilPass':document['getElementById'](_0x34de66(0x954))[_0x34de66(0x6b7)],'isConfidenceScoringEnabled':document[_0x34de66(0x2bc)](_0x34de66(0x945))['checked'],'confidenceMode':document['getElementById'](_0x34de66(0x1f6))[_0x34de66(0xa21)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x3b761f=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes')),_0x10482e=_0x3b761f[_0x34de66(0xac3)][_0x34de66(0x618)](_0x2b930b=>({'id':_0x2b930b['id'],'data':_0x2b930b[_0x34de66(0x923)]()})),_0x1d5ad7=_0x10482e[_0x34de66(0xab1)];showConfirmation(_0x34de66(0x449)+_0x1d5ad7+_0x34de66(0xc5a),async()=>{const _0x4c73b1=_0x34de66,_0x353262=document[_0x4c73b1(0x2bc)](_0x4c73b1(0x840));_0x353262['disabled']=!![],_0x353262['innerHTML']=_0x4c73b1(0xad5);try{const _0x1f8b21=writeBatch(db);_0x10482e['forEach'](_0x53a82c=>{const _0x755ec8=_0x4c73b1,_0x4cd328=doc(db,'artifacts/'+appId+_0x755ec8(0xcbc),_0x53a82c['id']),_0x57b3a5={..._0x53a82c[_0x755ec8(0x923)][_0x755ec8(0x327)]||{},..._0x1c396e};_0x1f8b21[_0x755ec8(0x72f)](_0x4cd328,{'settings':_0x57b3a5});}),await _0x1f8b21[_0x4c73b1(0xa07)](),document[_0x4c73b1(0x2bc)](_0x4c73b1(0xc68))['classList'][_0x4c73b1(0x546)](_0x4c73b1(0x44c)),showMessage(_0x4c73b1(0x804)+_0x1d5ad7+_0x4c73b1(0x961));}catch(_0x25ed7d){console[_0x4c73b1(0x512)](_0x4c73b1(0x28c),_0x25ed7d),showMessage(_0x4c73b1(0xb60));}finally{_0x353262[_0x4c73b1(0x8ab)]=![],_0x353262[_0x4c73b1(0xcd8)]=_0x4c73b1(0x83e);}});}catch(_0xdf7b7a){console[_0x34de66(0x512)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0xdf7b7a),showMessage(_0x34de66(0x5a9));}}async function handleSaveProjectName(){const _0x5382a8=_0x1f917e,_0x44455d=document[_0x5382a8(0x2bc)]('project-title'),_0x25a64f=document[_0x5382a8(0x2bc)](_0x5382a8(0x42d)),_0x5a5398=_0x44455d[_0x5382a8(0x806)][_0x5382a8(0x1df)]();if(!_0x5a5398||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x44455d[_0x5382a8(0x806)]=currentProjectData[_0x5382a8(0x30b)];return;}_0x25a64f[_0x5382a8(0x8ab)]=!![],_0x25a64f[_0x5382a8(0xcd8)]=_0x5382a8(0xa41);try{const _0x4abf99=doc(db,_0x5382a8(0x366)+appId+_0x5382a8(0x7ad),currentProjectId);await updateDoc(_0x4abf99,{'projectName':_0x5a5398}),currentProjectData&&(currentProjectData[_0x5382a8(0x30b)]=_0x5a5398),showMessage(_0x5382a8(0x8ef));}catch(_0x3653db){console['error'](_0x5382a8(0x6c3),_0x3653db),showMessage(_0x5382a8(0x503)),_0x44455d[_0x5382a8(0x806)]=currentProjectData[_0x5382a8(0x30b)];}finally{_0x25a64f[_0x5382a8(0x517)]['add'](_0x5382a8(0x44c)),_0x25a64f[_0x5382a8(0x8ab)]=![],_0x25a64f[_0x5382a8(0xcd8)]=_0x5382a8(0x978);}}function handleGeneratePracticeTest(_0x32017d,_0x28e42f){const _0x3e39d7=_0x1f917e,_0x3263b2=document[_0x3e39d7(0x2bc)](_0x3e39d7(0x28a)),_0x2b8465=document[_0x3e39d7(0x2bc)](_0x3e39d7(0x7df)),_0x3e480d=document[_0x3e39d7(0x2bc)]('lesson-loader'),_0x1ab3f8=document[_0x3e39d7(0x2bc)](_0x3e39d7(0x6d3));_0x2b8465[_0x3e39d7(0x806)]=_0x3e39d7(0x6e5)+_0x32017d,_0x1ab3f8['classList'][_0x3e39d7(0x546)](_0x3e39d7(0x44c)),_0x3e480d[_0x3e39d7(0x517)]['remove'](_0x3e39d7(0x44c)),_0x3263b2['classList']['remove'](_0x3e39d7(0x44c)),generatePracticeTest(_0x32017d,_0x28e42f)[_0x3e39d7(0x9e5)](_0x420387=>{const _0xe8ea9e=_0x3e39d7;console[_0xe8ea9e(0x512)](_0xe8ea9e(0x5eb),_0x420387),showMessage(_0xe8ea9e(0x8eb)),_0x3263b2['classList']['add'](_0xe8ea9e(0x44c));});}async function generatePracticeTest(_0x1070be,_0x305d6a){const _0x10e120=_0x1f917e;[_0x10e120(0x338),_0x10e120(0x164),_0x10e120(0xc6f),'summaryContent'][_0x10e120(0x229)](_0x276a67=>{const _0x4756fe=_0x10e120,_0x348217=document['getElementById'](_0x276a67)[_0x4756fe(0x1d6)];_0x348217&&(_0x348217[_0x4756fe(0x60e)]['display']=_0x4756fe(0x1d8));});try{const _0x36a026=_0x10e120(0x844),_0x570ff1=_0x10e120(0x1da)+_0x305d6a+_0x10e120(0x72d)+_0x1070be+_0x10e120(0x8c8),_0x4f3c08=await callGemini(_0x570ff1,!![]),_0x387d88=document[_0x10e120(0x2bc)](_0x10e120(0x7df)),_0x33da6e=document[_0x10e120(0x2bc)]('lesson-loader'),_0x4d031d=document['getElementById'](_0x10e120(0x6d3)),_0x21190e=document['getElementById'](_0x10e120(0xc6f))[_0x10e120(0x1d6)];_0x387d88[_0x10e120(0x35f)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x1070be['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x305d6a+')',currentApplicationData=JSON['parse'](_0x4f3c08);const _0x35cdbf=document[_0x10e120(0x2bc)]('applicationContent');_0x35cdbf[_0x10e120(0xcd8)]=currentApplicationData['map']((_0x508acc,_0x4c2e97)=>_0x10e120(0xb98)+(_0x4c2e97+0x1)+'.\x20'+marked[_0x10e120(0x3b3)](_0x508acc['question'])+_0x10e120(0xc2e)+_0x4c2e97+_0x10e120(0x7cc)+_0x508acc[_0x10e120(0xae7)]['map']((_0x57a693,_0x420808)=>_0x10e120(0x755)+_0x4c2e97+',\x20'+_0x420808+')\x22>'+String[_0x10e120(0x77b)](0x61+_0x420808)+'.\x20'+marked[_0x10e120(0x3b3)](_0x57a693)+_0x10e120(0x2d9))[_0x10e120(0xd29)]('')+_0x10e120(0x251))['join'](''),window[_0x10e120(0x13e)]&&MathJax[_0x10e120(0xbc4)]([_0x35cdbf]),_0x21190e&&(_0x21190e['style'][_0x10e120(0x9b9)]=_0x10e120(0x26f)),_0x33da6e['classList'][_0x10e120(0x546)](_0x10e120(0x44c)),_0x4d031d[_0x10e120(0x517)][_0x10e120(0x1b5)]('hidden');}catch(_0x26f5a3){console['error'](_0x26f5a3);throw _0x26f5a3;}}async function callGemini(_0x15eb49,_0x50e378=![]){const _0xe97803=_0x1f917e,_0x3cc0c4=_0xe97803(0x9e7),_0xa5a4a='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3cc0c4,_0x17adf6={'contents':[{'parts':[{'text':_0x15eb49}]}]};_0x50e378&&(_0x17adf6[_0xe97803(0x4f1)]={'responseMimeType':_0xe97803(0x63d)},_0x15eb49[_0xe97803(0x42a)](_0xe97803(0xa44))?_0x17adf6['generationConfig'][_0xe97803(0x253)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0xe97803(0xab8)},'curriculum':{'type':_0xe97803(0x5b8),'items':{'type':_0xe97803(0x60a),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0xe97803(0x5b8),'items':{'type':_0xe97803(0x60a),'properties':{'topicName':{'type':_0xe97803(0xab8)},'subTopics':{'type':_0xe97803(0x5b8),'items':{'type':_0xe97803(0xab8)}}},'required':['topicName',_0xe97803(0x828)]}}},'required':[_0xe97803(0xc24),'mainTopics']}}},'required':[_0xe97803(0xbd1),_0xe97803(0xb56)]}:_0x17adf6[_0xe97803(0x4f1)][_0xe97803(0x253)]={'type':_0xe97803(0x5b8),'items':{'type':_0xe97803(0x60a),'properties':{'question':{'type':_0xe97803(0xab8)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':_0xe97803(0x16d)}},'required':[_0xe97803(0xaa7),_0xe97803(0xae7),_0xe97803(0x389)]}});try{const _0x5d79a4=await fetch(_0xa5a4a,{'method':_0xe97803(0x3b4),'headers':{'Content-Type':_0xe97803(0x63d)},'body':JSON[_0xe97803(0x4e2)](_0x17adf6)});if(!_0x5d79a4['ok']){const _0x5beda2=await _0x5d79a4['text']();console['error']('API\x20Error\x20Body:',_0x5beda2);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5d79a4[_0xe97803(0x845)]);}const _0x33c169=await _0x5d79a4[_0xe97803(0x8a7)]();if(_0x33c169['candidates']&&_0x33c169[_0xe97803(0x746)][0x0]['content']&&_0x33c169[_0xe97803(0x746)][0x0]['content'][_0xe97803(0x770)][0x0])return _0x33c169[_0xe97803(0x746)][0x0][_0xe97803(0xc75)]['parts'][0x0][_0xe97803(0xbaa)];else{console[_0xe97803(0x512)](_0xe97803(0x171),_0x33c169);if(_0x33c169[_0xe97803(0x746)]&&_0x33c169[_0xe97803(0x746)][0x0][_0xe97803(0x99b)]===_0xe97803(0x649))return JSON[_0xe97803(0x4e2)]({'error':_0xe97803(0x678)});throw new Error(_0xe97803(0x423));}}catch(_0x44556a){console[_0xe97803(0x512)](_0xe97803(0xaa6),_0x44556a);throw _0x44556a;}}async function generateLesson(_0x28931c=null,_0x486de5=null){const _0x544b19=_0x1f917e,_0x16301d=_0x28931c,_0x3203e8=_0x486de5||'ไม่ระบุ',_0x3d653f=document[_0x544b19(0x2bc)](_0x544b19(0xca5)),_0x252177=document[_0x544b19(0x2bc)](_0x544b19(0xa60));_0x252177[_0x544b19(0x806)]=_0x544b19(0xd04)+_0x16301d+'\x22...';try{let _0x3662c5=[];const _0x54b612=document['getElementById'](_0x544b19(0x9b5))?.[_0x544b19(0xa21)]['trim']();if(_0x54b612)try{_0x252177['textContent']='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x56670d=await fetchFileFromUrl(_0x54b612,_0x544b19(0x786)),_0x217ef4=await new Promise((_0x2a66da,_0x545321)=>{const _0x30c724=_0x544b19,_0x27b918=new FileReader();_0x27b918[_0x30c724(0x981)](_0x56670d),_0x27b918[_0x30c724(0x384)]=()=>_0x2a66da(_0x27b918[_0x30c724(0x4c8)][_0x30c724(0x9b1)](',')[0x1]),_0x27b918['onerror']=_0x545321;});_0x3662c5[_0x544b19(0xad2)]({'inlineData':{'mimeType':_0x56670d[_0x544b19(0x903)],'data':_0x217ef4}});}catch(_0x3caf7f){console[_0x544b19(0x512)](_0x544b19(0x61d),_0x3caf7f),showMessage(_0x544b19(0x6cc));}const _0x1b536b=_0x544b19(0x7ba)+_0x16301d+_0x544b19(0xa7c)+_0x16301d+_0x544b19(0xbce);_0x252177['textContent']=_0x544b19(0xd04)+_0x16301d+_0x544b19(0x52b);const _0x278120=_0x544b19(0x192)+_0x3203e8+_0x544b19(0x72d)+_0x16301d+_0x544b19(0x38b)+_0x1b536b+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x1b8c89=_0x544b19(0x1e2)+_0x16301d+_0x544b19(0x906)+_0x3203e8+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x1b536b+_0x544b19(0x5f0),_0x24bfa6=_0x544b19(0x1da)+_0x3203e8+_0x544b19(0x72d)+_0x16301d+_0x544b19(0xa7d)+_0x1b536b+_0x544b19(0x7f0),_0x5a255a=_0x544b19(0x9cd)+_0x16301d+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x3203e8+_0x544b19(0x3b8)+_0x1b536b+_0x544b19(0x71e),_0xb2414f={'type':_0x544b19(0x5b8),'items':{'type':_0x544b19(0x60a),'properties':{'question':{'type':_0x544b19(0xab8)},'options':{'type':'ARRAY','items':{'type':_0x544b19(0xab8)}},'answer':{'type':_0x544b19(0x16d)}},'required':[_0x544b19(0xaa7),_0x544b19(0xae7),_0x544b19(0x389)]}},[_0x1457d3,_0x40ea60,_0x4a1f65,_0x2e46cb]=await Promise[_0x544b19(0x8bd)]([handleApiCall([{'text':_0x278120},..._0x3662c5],'...',null,null,![]),handleApiCall([{'text':_0x1b8c89},..._0x3662c5],'...',null,null,![]),handleApiCall([{'text':_0x24bfa6},..._0x3662c5],'...',_0xb2414f,null,![]),handleApiCall([{'text':_0x5a255a},..._0x3662c5],_0x544b19(0xada),null,null,![])]),_0x597d4c=JSON[_0x544b19(0x4e2)](_0x4a1f65||[]),_0x485fc5=document[_0x544b19(0x2bc)](_0x544b19(0x7df)),_0x2c7034=document[_0x544b19(0x2bc)](_0x544b19(0x6d3));_0x485fc5[_0x544b19(0x35f)]=_0x544b19(0xced)+_0x16301d[_0x544b19(0x794)](/•\\s/g,'')+_0x544b19(0x519)+_0x3203e8+')',[_0x544b19(0x338),_0x544b19(0x164),_0x544b19(0x541)][_0x544b19(0x229)](_0x273fd0=>{const _0x3b48a4=_0x544b19;document[_0x3b48a4(0x2bc)](_0x273fd0)[_0x3b48a4(0xcd8)]='';}),document['getElementById'](_0x544b19(0x338))['innerHTML']=_0x1457d3?marked[_0x544b19(0x195)](_0x1457d3):_0x544b19(0xc08),document['getElementById'](_0x544b19(0x164))[_0x544b19(0xcd8)]=_0x40ea60?marked['parse'](_0x40ea60):_0x544b19(0xc08),document[_0x544b19(0x2bc)](_0x544b19(0x541))['innerHTML']=_0x2e46cb?marked[_0x544b19(0x195)](_0x2e46cb):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x544b19(0x195)](_0x597d4c);const _0x52a204=document[_0x544b19(0x2bc)]('applicationContent');_0x52a204['innerHTML']=(currentApplicationData||[])['map']((_0x247c84,_0x54d3ed)=>_0x544b19(0xb98)+(_0x54d3ed+0x1)+'.\x20'+marked[_0x544b19(0x3b3)](_0x247c84[_0x544b19(0xaa7)]||'')+_0x544b19(0xc2e)+_0x54d3ed+_0x544b19(0x7cc)+(_0x247c84[_0x544b19(0xae7)]||[])[_0x544b19(0x618)]((_0xdc5602,_0x52f848)=>_0x544b19(0x755)+_0x54d3ed+',\x20'+_0x52f848+_0x544b19(0x3f5)+String['fromCharCode'](0x61+_0x52f848)+'.\x20'+marked[_0x544b19(0x3b3)](_0xdc5602||'')+_0x544b19(0x2d9))[_0x544b19(0xd29)]('')+_0x544b19(0x251))[_0x544b19(0xd29)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window['MathJax']&&MathJax[_0x544b19(0xbc4)]([_0x2c7034]),_0x3d653f['classList'][_0x544b19(0x546)](_0x544b19(0x44c)),_0x2c7034['classList'][_0x544b19(0x1b5)]('hidden');}catch(_0x1b0d60){console[_0x544b19(0x512)](_0x1b0d60);throw _0x1b0d60;}}function checkAnswer(_0x4ebf4f,_0x2920a3){const _0x3a1b83=_0x1f917e,_0x578563=currentApplicationData[_0x4ebf4f],_0x505fa8=document[_0x3a1b83(0x2bc)]('q'+_0x4ebf4f+_0x3a1b83(0xcc3)),_0x1cc27f=_0x505fa8[_0x3a1b83(0x8b3)](_0x3a1b83(0x3c8));for(let _0x340820 of _0x1cc27f){_0x340820['disabled']=!![];}_0x2920a3===_0x578563[_0x3a1b83(0x389)]?_0x1cc27f[_0x2920a3][_0x3a1b83(0x517)][_0x3a1b83(0x546)](_0x3a1b83(0xd09)):(_0x1cc27f[_0x2920a3][_0x3a1b83(0x517)]['add'](_0x3a1b83(0xb34)),_0x1cc27f[_0x578563['answer']]['classList'][_0x3a1b83(0x546)]('correct'));}window[_0x1f917e(0xc41)]=handleGenerateAndShowLesson,window[_0x1f917e(0x142)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x294c49=_0x1f917e;try{const _0x4a3b93=initializeApp(firebaseConfig);db=getFirestore(_0x4a3b93),auth=getAuth(_0x4a3b93),setupAuthListener(),setupEventListeners(),showView(_0x294c49(0x8fb)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x585d8b){console[_0x294c49(0x512)]('Firebase\x20initialization\x20failed:',_0x585d8b),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x383cef=_0x1f917e,_0x50ad3b=document[_0x383cef(0x2bc)](_0x383cef(0x5a7));if(!_0x50ad3b)return;const _0x63aaec=document[_0x383cef(0x2bc)](_0x383cef(0x54e));_0x63aaec[_0x383cef(0x8ab)]=!![],_0x63aaec[_0x383cef(0xcd8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x403c8b=_0x50ad3b[_0x383cef(0x362)](_0x383cef(0x7d6)),_0x216098=Array[_0x383cef(0xaf4)](_0x403c8b)['map']((_0x5a1079,_0x5bafba)=>{const _0x5f095c=_0x383cef,_0x274d62=_0x5a1079[_0x5f095c(0x4e3)][_0x5f095c(0x599)],_0x2a474c=_0x5a1079[_0x5f095c(0x22d)](_0x5f095c(0x93c))['value'];let _0x367160=null,_0xbe988c='';switch(_0x274d62){case _0x5f095c(0x29d):const _0x5e07c9=_0x5a1079['querySelectorAll'](_0x5f095c(0x6e1));_0x367160=Array[_0x5f095c(0xaf4)](_0x5e07c9)[_0x5f095c(0x618)](_0x95b4f7=>_0x95b4f7['value']);const _0x2d4c3a=_0x5a1079[_0x5f095c(0x22d)](_0x5f095c(0x8e3));_0x2d4c3a&&(_0xbe988c=_0x367160[parseInt(_0x2d4c3a['value'])]);break;case _0x5f095c(0x48c):_0x367160=[],_0xbe988c=_0x5a1079[_0x5f095c(0x22d)](_0x5f095c(0xa37))[_0x5f095c(0xa21)];break;case _0x5f095c(0x475):_0x367160=[_0x5f095c(0xbf6),_0x5f095c(0xa70)];const _0x409896=_0x5a1079[_0x5f095c(0x22d)](_0x5f095c(0x8e3));_0xbe988c=_0x409896?_0x409896[_0x5f095c(0xa21)]:'';break;case'matching_item':_0x367160=[],_0xbe988c=_0x5a1079[_0x5f095c(0x22d)]('.correct-response-input')[_0x5f095c(0xa21)];break;}return{'question':_0x2a474c,'options':_0x367160,'proposedAnswer':_0xbe988c};}),_0x10c0e7=_0x383cef(0x864)+JSON['stringify'](_0x216098)+_0x383cef(0x25a),_0xc51ddb={'type':_0x383cef(0x5b8),'items':{'type':_0x383cef(0x60a),'properties':{'questionIndex':{'type':_0x383cef(0x16d)},'isCorrect':{'type':_0x383cef(0xd15)},'justification':{'type':_0x383cef(0xab8)},'correctOptionExists':{'type':_0x383cef(0xd15)},'suggestedAnswer':{'type':_0x383cef(0xab8)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x383cef(0x5b8),'items':{'type':_0x383cef(0xab8)}},'newCorrectIndex':{'type':_0x383cef(0x16d)}}}},'required':[_0x383cef(0x3f9),_0x383cef(0x2a1),_0x383cef(0x444)]}},_0x36a671=await callAnalysisApi(_0x10c0e7,{'type':'OBJECT','properties':{'result':_0xc51ddb},'required':[_0x383cef(0x4c8)]});displayVerificationResultsInEditor(_0x36a671[_0x383cef(0x4c8)]);}catch(_0x6a46fd){console['error'](_0x383cef(0x912),_0x6a46fd),showMessage(_0x383cef(0xab3));}finally{_0x63aaec[_0x383cef(0x8ab)]=![],_0x63aaec['innerHTML']=_0x383cef(0x811);}}function displayVerificationResultsInEditor(_0x5a82ab){const _0x327644=_0x1f917e;_0x5a82ab[_0x327644(0x229)](_0xd1694f=>{const _0x54432a=_0x327644,_0xf63c2=document[_0x54432a(0x22d)](_0x54432a(0x39b)+_0xd1694f[_0x54432a(0x3f9)]+'\x22]');if(!_0xf63c2)return;const _0x3a15b8=_0xf63c2[_0x54432a(0x22d)](_0x54432a(0x7da));if(_0x3a15b8)_0x3a15b8[_0x54432a(0x1b5)]();let _0x34edaa='';if(_0xd1694f[_0x54432a(0xce0)]&&_0xd1694f[_0x54432a(0xce0)]['newOptions']){const _0x576bcb=_0xd1694f[_0x54432a(0xce0)][_0x54432a(0x7e1)],_0x28d318=_0xd1694f['newOptionsPayload']['newCorrectIndex'],_0x4c80a7=_0xf63c2[_0x54432a(0x4e3)][_0x54432a(0x599)];if(_0x4c80a7===_0x54432a(0x29d)){const _0x35c371=_0xf63c2[_0x54432a(0x362)]('input[type=\x22text\x22]');_0x35c371[_0x54432a(0x229)]((_0xf63b9f,_0x3719a9)=>{const _0x458d47=_0x54432a;_0x576bcb[_0x3719a9]?_0xf63b9f['value']=_0x576bcb[_0x3719a9]:_0xf63b9f[_0x458d47(0xa21)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0x32ae2e=_0xf63c2[_0x54432a(0x22d)]('input[type=\x22radio\x22][value=\x22'+_0x28d318+'\x22]');_0x32ae2e&&(_0x32ae2e[_0x54432a(0x6b7)]=!![]),_0x34edaa=_0x54432a(0x617),_0xf63c2[_0x54432a(0x517)]['add'](_0x54432a(0x7c1),_0x54432a(0x749),_0x54432a(0xcd7)),setTimeout(()=>{const _0x1b980d=_0x54432a;_0xf63c2[_0x1b980d(0x517)][_0x1b980d(0x1b5)](_0x1b980d(0x7c1));},0x9c4);}}else{if(!_0xd1694f[_0x54432a(0x2a1)]&&_0xd1694f[_0x54432a(0x29b)]){const _0x152b09=_0xd1694f[_0x54432a(0x29b)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x34edaa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x152b09+_0x54432a(0x2df)+_0xd1694f[_0x54432a(0x444)]+_0x54432a(0xadb)+(_0xd1694f[_0x54432a(0x29b)]?_0x54432a(0x67f)+_0xd1694f['suggestedAnswer']+_0x54432a(0x51d):'')+_0x54432a(0x5c8);const _0x3463c3=_0xf63c2[_0x54432a(0x4e3)]['qType'],_0xa3f435=_0x19a4fd=>{const _0x19d3b7=_0x54432a;if(!_0x19a4fd)return;_0x19a4fd[_0x19d3b7(0x517)]['add'](_0x19d3b7(0xa32),_0x19d3b7(0x749),_0x19d3b7(0xcd7)),setTimeout(()=>{const _0x187fb6=_0x19d3b7;_0x19a4fd[_0x187fb6(0x517)][_0x187fb6(0x1b5)]('bg-green-200');},0x9c4);};if(_0x3463c3===_0x54432a(0x29d)){const _0x1c32f5=Array['from'](_0xf63c2[_0x54432a(0x362)](_0x54432a(0x6e1))),_0x450d8d=_0x1c32f5['findIndex'](_0x1f8391=>_0x1f8391[_0x54432a(0xa21)][_0x54432a(0x1df)]()[_0x54432a(0x281)]()===_0xd1694f[_0x54432a(0x29b)][_0x54432a(0x1df)]()['toLowerCase']());if(_0x450d8d!==-0x1){const _0x5a9f8c=_0xf63c2[_0x54432a(0x22d)](_0x54432a(0x819)+_0x450d8d+'\x22]');_0x5a9f8c&&(_0x5a9f8c[_0x54432a(0x6b7)]=!![],_0xa3f435(_0x5a9f8c[_0x54432a(0x634)]('div')));}}else{if(_0x3463c3===_0x54432a(0x48c)||_0x3463c3===_0x54432a(0x4c9)){const _0x56fb74=_0xf63c2['querySelector']('.ideal-answer-input,\x20.correct-response-input');_0x56fb74&&(_0x56fb74[_0x54432a(0xa21)]=_0xd1694f['suggestedAnswer'],_0xa3f435(_0x56fb74));}else{if(_0x3463c3===_0x54432a(0x475)){const _0x78284c=_0xd1694f[_0x54432a(0x29b)][_0x54432a(0x1df)]()[_0x54432a(0x281)](),_0x2ca9f9=_0xf63c2[_0x54432a(0x22d)]('input[type=\x22radio\x22][value=\x22'+_0x78284c+'\x22]');_0x2ca9f9&&(_0x2ca9f9['checked']=!![],_0xa3f435(_0x2ca9f9['closest'](_0x54432a(0xb25))));}}}}else _0xd1694f[_0x54432a(0x2a1)]&&(_0x34edaa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0xf63c2['insertAdjacentHTML'](_0x54432a(0x77d),_0x34edaa);}),showMessage(_0x327644(0x1cc));}async function handleVerifyAnswers(){const _0x153415=_0x1f917e;if(!currentQuizData||!currentQuizData[_0x153415(0x320)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x58b79d=document[_0x153415(0x2bc)](_0x153415(0xb07));_0x58b79d[_0x153415(0x8ab)]=!![],_0x58b79d[_0x153415(0xcd8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x308c62=currentQuizData[_0x153415(0x320)]['map']((_0x113a58,_0x118b95)=>{const _0x1e83ee=_0x153415;let _0x3f2bb0='';const _0x49f582=_0x113a58[_0x1e83ee(0x789)]||currentQuizData[_0x1e83ee(0x13d)];switch(_0x49f582){case'multiple_choice':_0x3f2bb0=_0x113a58[_0x1e83ee(0xae7)][_0x113a58[_0x1e83ee(0x16b)]];break;case'short_answer':_0x3f2bb0=_0x113a58[_0x1e83ee(0x740)];break;case _0x1e83ee(0x475):_0x3f2bb0=_0x113a58['correctAnswer']['toString']();break;case'matching_item':_0x3f2bb0=_0x113a58[_0x1e83ee(0xb73)];break;}return{'question':_0x113a58[_0x1e83ee(0x629)]||_0x113a58[_0x1e83ee(0x551)],'options':_0x113a58['options']||null,'proposedAnswer':_0x3f2bb0};}),_0x39f47c=_0x153415(0xcde)+JSON['stringify'](_0x308c62)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xd7e7af={'type':_0x153415(0x5b8),'items':{'type':_0x153415(0x60a),'properties':{'questionIndex':{'type':_0x153415(0x16d)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x153415(0xab8)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex','isCorrect',_0x153415(0x444)]}},_0xc61c51=await callAnalysisApi(_0x39f47c,{'type':_0x153415(0x60a),'properties':{'result':_0xd7e7af},'required':['result']});displayVerificationResults(_0xc61c51[_0x153415(0x4c8)]);}catch(_0x1efaf4){console['error'](_0x153415(0x9b0),_0x1efaf4),showMessage(_0x153415(0xab3));}finally{_0x58b79d['disabled']=![],_0x58b79d[_0x153415(0xcd8)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x3cad5f){const _0x4280c9=_0x1f917e;_0x3cad5f[_0x4280c9(0x229)](_0x109b91=>{const _0x33b577=_0x4280c9,_0x50c1aa=document[_0x33b577(0x22d)](_0x33b577(0xce4)+_0x109b91[_0x33b577(0x3f9)]+'\x22]');if(_0x50c1aa){const _0x308be8=_0x50c1aa[_0x33b577(0x22d)](_0x33b577(0x57e));if(_0x308be8)_0x308be8[_0x33b577(0x1b5)]();let _0x1f5541='';_0x109b91[_0x33b577(0x2a1)]?_0x1f5541='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1f5541=_0x33b577(0x5cb)+_0x109b91[_0x33b577(0x444)]+_0x33b577(0x5ab)+(_0x109b91[_0x33b577(0x29b)]?_0x33b577(0x67f)+_0x109b91[_0x33b577(0x29b)]+_0x33b577(0x51d):'')+_0x33b577(0x575),_0x50c1aa[_0x33b577(0x3f4)]('beforeend',_0x1f5541);}}),showMessage(_0x4280c9(0x1cc));}function compareNumericalAnswers(_0x55275e,_0x9d96a7){const _0x4439c5=_0x1f917e,_0x54b643=String(_0x55275e)[_0x4439c5(0x794)](',','.')[_0x4439c5(0x794)](/[^\d.-]/g,'')[_0x4439c5(0x1df)](),_0x362cff=String(_0x9d96a7)[_0x4439c5(0x794)](',','.')[_0x4439c5(0x794)](/[^\d.-]/g,'')[_0x4439c5(0x1df)]();if(_0x54b643===''||_0x362cff==='')return![];const _0x12b724=parseFloat(_0x54b643),_0x4cc56f=parseFloat(_0x362cff);if(isNaN(_0x12b724)||isNaN(_0x4cc56f))return![];return Math[_0x4439c5(0x9ff)](_0x12b724-_0x4cc56f)<0.001;}function isPotentiallyNumeric(_0x37f292){const _0x1360e1=_0x1f917e;if(typeof _0x37f292!==_0x1360e1(0x99f)&&typeof _0x37f292!==_0x1360e1(0x201))return![];const _0x5c2197=String(_0x37f292)[_0x1360e1(0x794)](',','.')[_0x1360e1(0x1df)]();return _0x5c2197!==''&&!isNaN(parseFloat(_0x5c2197))&&isFinite(_0x5c2197);}async function gradeShortAnswer(_0x2ad22c,_0x325f44){const _0x7beabf=_0x1f917e,_0x24dc50=_0x325f44[_0x7beabf(0x740)],_0x17f8de=String(_0x2ad22c)['replace'](/\$/g,'')[_0x7beabf(0x1df)](),_0x2517fe=String(_0x24dc50)['replace'](/\$/g,'')[_0x7beabf(0x1df)]();if(_0x17f8de['toLowerCase']()===_0x2517fe[_0x7beabf(0x281)]())return!![];if(isPotentiallyNumeric(_0x17f8de)&&isPotentiallyNumeric(_0x2517fe)){if(compareNumericalAnswers(_0x17f8de,_0x2517fe))return!![];}return console[_0x7beabf(0x16e)](_0x7beabf(0xcb9)),await gradeShortAnswerWithAI(_0x2ad22c,_0x24dc50);}async function revealAnswerForAdmin(_0x10ee25,_0x5782fe){const _0xd224bf=_0x1f917e,_0x22f4c5=doc(db,_0xd224bf(0x366)+appId+_0xd224bf(0x447),currentLiveGameId);await updateDoc(_0x22f4c5,{'questionStatus':_0xd224bf(0xad7)});}function showTop5LeaderboardView(_0x5ed56c){const _0x3a4814=_0x1f917e,_0x448456=Object[_0x3a4814(0x631)](_0x5ed56c[_0x3a4814(0x81b)]||{})['filter'](_0x5520d8=>_0x5520d8['status']===_0x3a4814(0x50f));_0x448456[_0x3a4814(0x817)]((_0x11f287,_0x1693b3)=>_0x1693b3[_0x3a4814(0xa20)]-_0x11f287['score']);const _0x13c552=_0x448456['slice'](0x0,0x5),_0x1b2f0d=_0x3a4814(0xad0)+_0x13c552['map']((_0x3544f2,_0x421c80)=>_0x3a4814(0xbcb)+(_0x421c80+0x1)+'.\x20'+(_0x3544f2[_0x3a4814(0xc85)]||Object[_0x3a4814(0x420)](_0x5ed56c['players'])['find'](_0x14051e=>_0x5ed56c[_0x3a4814(0x81b)][_0x14051e]===_0x3544f2))+_0x3a4814(0x948)+_0x3544f2[_0x3a4814(0xa20)]+_0x3a4814(0x316))[_0x3a4814(0xd29)]('')+_0x3a4814(0xb8f)+(_0x5ed56c[_0x3a4814(0x896)]+0x1===currentQuizData[_0x3a4814(0x320)][_0x3a4814(0xab1)]?_0x3a4814(0x210):_0x3a4814(0x340))+_0x3a4814(0x50e);liveGameView[_0x3a4814(0xcd8)]=_0x1b2f0d,document[_0x3a4814(0x2bc)](_0x3a4814(0x1a8))[_0x3a4814(0x8de)](_0x3a4814(0xc20),async()=>{const _0xf40cf8=_0x3a4814,_0x242cc6=doc(db,_0xf40cf8(0x366)+appId+'/public/data/liveGames',currentLiveGameId),_0x4f8c4c=_0x5ed56c[_0xf40cf8(0x896)]+0x1;if(_0x4f8c4c<currentQuizData[_0xf40cf8(0x320)][_0xf40cf8(0xab1)]){const _0x352801={'currentQuestionIndex':_0x4f8c4c,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0xf40cf8(0x5bd)};Object[_0xf40cf8(0x420)](_0x5ed56c['players'])[_0xf40cf8(0x229)](_0x321a44=>{const _0xb6e521=_0xf40cf8;_0x352801[_0xb6e521(0xbad)+_0x321a44+_0xb6e521(0xab6)]=![];}),await updateDoc(_0x242cc6,_0x352801);}else await updateDoc(_0x242cc6,{'status':_0xf40cf8(0x985)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xc92575=>{const _0x4dd604=_0x36ac;if(_0xc92575){userId=_0xc92575[_0x4dd604(0x7e7)],userIdDisplay[_0x4dd604(0x806)]=userId;const _0x5ccc84=await loadUserPreferences();_0x5ccc84['projectSortOrder']&&(document[_0x4dd604(0x2bc)](_0x4dd604(0x3ee))[_0x4dd604(0xa21)]=_0x5ccc84[_0x4dd604(0xc55)]);globalDashboardSettings[_0x4dd604(0x232)]=_0x5ccc84[_0x4dd604(0x232)]||_0x4dd604(0x3ba);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x442120,_0x423f78){const _0x1c7544=_0x1f917e;if(!userId)return;try{const _0x45f6c0=doc(db,_0x1c7544(0x366)+appId+_0x1c7544(0x4ae)+userId+_0x1c7544(0x830)),_0x41a307={};_0x41a307[_0x442120]=_0x423f78,await setDoc(_0x45f6c0,_0x41a307,{'merge':!![]});}catch(_0x5d0bdd){console[_0x1c7544(0x512)](_0x1c7544(0x390),_0x5d0bdd);}}async function loadUserPreferences(){const _0x511872=_0x1f917e;if(!userId)return{};try{const _0x584e58=doc(db,_0x511872(0x366)+appId+_0x511872(0x4ae)+userId+_0x511872(0x830)),_0x36829e=await getDoc(_0x584e58);if(_0x36829e['exists']())return _0x36829e[_0x511872(0x923)]();return{};}catch(_0xe6b2d0){return console['error'](_0x511872(0x16c),_0xe6b2d0),{};}}function parseIndentedBlueprint(_0x35f251){const _0x5614b1=_0x1f917e,_0xc6b9f=_0x35f251[_0x5614b1(0x9b1)]('\x0a')[_0x5614b1(0xa7a)](_0x1e973b=>_0x1e973b[_0x5614b1(0x1df)]()!==''),_0x420529=[];let _0x4aab40=null,_0x316798=null;return _0xc6b9f[_0x5614b1(0x229)](_0x211691=>{const _0x21a795=_0x5614b1,_0x28b476=_0x211691[_0x21a795(0x7d2)](/^\s*/)[0x0][_0x21a795(0xab1)],_0x1922d3=_0x211691[_0x21a795(0x1df)]();if(_0x28b476===0x0)_0x4aab40={'sara':_0x1922d3,'mainTopics':[]},_0x420529[_0x21a795(0xad2)](_0x4aab40),_0x316798=null;else{if(_0x28b476>0x0&&_0x28b476<0x8&&_0x4aab40)_0x316798={'topicName':_0x1922d3,'subTopics':[]},_0x4aab40[_0x21a795(0x783)]['push'](_0x316798);else _0x28b476>=0x8&&_0x316798&&_0x316798[_0x21a795(0x828)][_0x21a795(0xad2)](_0x1922d3);}}),{'curriculum':_0x420529};}async function handleManualBlueprintSave(){const _0xf9407d=_0x1f917e,_0x7acd20=document[_0xf9407d(0x2bc)](_0xf9407d(0x665))[_0xf9407d(0xa21)][_0xf9407d(0x1df)](),_0x52d973=document[_0xf9407d(0x2bc)]('manual-bp-grade-level')[_0xf9407d(0xa21)]['trim'](),_0x2d9174=document[_0xf9407d(0x2bc)]('manual-bp-content')[_0xf9407d(0xa21)];if(!_0x7acd20||!_0x52d973||!_0x2d9174){showMessage(_0xf9407d(0xa0e));return;}const _0x35e6b5=parseIndentedBlueprint(_0x2d9174);if(!_0x35e6b5[_0xf9407d(0xb56)]||_0x35e6b5['curriculum'][_0xf9407d(0xab1)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x2c1be1={};let _0x101d2f=0x0;_0x35e6b5['curriculum'][_0xf9407d(0x229)](_0x25b330=>{const _0x55a32e=_0xf9407d;_0x25b330[_0x55a32e(0x783)][_0x55a32e(0x229)](_0x241ca1=>{const _0x2b4e31=_0x55a32e;_0x241ca1[_0x2b4e31(0x828)][_0x2b4e31(0x229)](_0x3ba6a6=>{const _0x3cc3ab=_0x2b4e31,_0x202dc2=_0x3cc3ab(0x474)+Date[_0x3cc3ab(0x58e)]()+Math['random']()[_0x3cc3ab(0x24a)](0x24)['substr'](0x2,0x9);_0x2c1be1[_0x202dc2]={'sara':_0x25b330[_0x3cc3ab(0xc24)],'mainTopic':_0x241ca1[_0x3cc3ab(0x526)],'subTopic':_0x3ba6a6,'status':_0x3cc3ab(0xcc8),'lessonContent':null,'order':_0x101d2f++};});});});try{const _0x42fb5e=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x42fb5e,{'projectName':_0x7acd20,'gradeLevel':_0x52d973,'topics':_0x2c1be1,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x7acd20+'\x22\x20สำเร็จ!'),document[_0xf9407d(0x2bc)](_0xf9407d(0x460))[_0xf9407d(0x517)][_0xf9407d(0x546)](_0xf9407d(0x44c));}catch(_0x5b7a7b){console[_0xf9407d(0x512)](_0xf9407d(0x2e8),_0x5b7a7b),showMessage(_0xf9407d(0x84a));}}function handleClearAllLinksForTopic(_0x4a3946){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x5b1580=_0x36ac;try{const _0x955e74=doc(db,_0x5b1580(0x366)+appId+_0x5b1580(0x204),currentBlueprintProjectId);await updateDoc(_0x955e74,{[_0x5b1580(0x939)+_0x4a3946+_0x5b1580(0xa3a)]:[]}),showMessage(_0x5b1580(0xb7a)),openTopicQuizBank(_0x4a3946),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x233b33){console['error'](_0x5b1580(0x434),_0x233b33),showMessage(_0x5b1580(0x606));}});}function showPodiumView(_0x386a22,_0x534304=_0x1f917e(0x442)){const _0x44b8d2=_0x1f917e,_0x36995b=Object[_0x44b8d2(0x9c8)](_0x386a22)[_0x44b8d2(0x618)](([_0x3180cf,_0x4639cd])=>({'name':_0x3180cf,'score':_0x4639cd['score']||0x0,'badges':_0x4639cd[_0x44b8d2(0x22a)]||[],'hasPerfectScoreBonus':_0x4639cd[_0x44b8d2(0x908)]||![]}));_0x36995b[_0x44b8d2(0x817)]((_0xfc5195,_0x108389)=>{const _0x42e77c=_0x44b8d2,_0x6d363d=_0x108389[_0x42e77c(0xa20)]-_0xfc5195[_0x42e77c(0xa20)];if(_0x6d363d!==0x0)return _0x6d363d;return(_0x108389[_0x42e77c(0x22a)][_0x42e77c(0xab1)]||0x0)-(_0xfc5195[_0x42e77c(0x22a)][_0x42e77c(0xab1)]||0x0);});const _0x4ceda0=_0x2f97e4=>{const _0x5dd1f2=_0x44b8d2;if(!_0x2f97e4||_0x2f97e4[_0x5dd1f2(0xab1)]===0x0)return'';const _0x10d389={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x5dd1f2(0x203)+_0x2f97e4[_0x5dd1f2(0x618)](_0x4090e7=>_0x10d389[_0x4090e7]||'')['join']('')+'</div>';},_0x4a4c4c=_0x36995b[_0x44b8d2(0x52a)](0x3),_0x2f1e0f=_0x4a4c4c[_0x44b8d2(0xab1)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a4c4c[_0x44b8d2(0x618)]((_0x48cbeb,_0x1adc30)=>{const _0x2a89da=_0x44b8d2,_0x1277b4=_0x48cbeb[_0x2a89da(0x908)]?_0x2a89da(0x34c):'';return _0x2a89da(0x9d9)+(_0x1adc30+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x48cbeb['name']+_0x2a89da(0x3fc)+_0x48cbeb['score']+'\x20คะแนน\x20'+_0x1277b4+_0x2a89da(0x802);})[_0x44b8d2(0xd29)]('')+_0x44b8d2(0x293):'',_0x2cc2a6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x36995b[0x1]?_0x44b8d2(0x549)+_0x36995b[0x1]['name']+_0x44b8d2(0x51d)+_0x4ceda0(_0x36995b[0x1]['badges'])+_0x44b8d2(0x59d)+_0x36995b[0x1][_0x44b8d2(0xa20)]+_0x44b8d2(0xbe9)+(_0x36995b[0x1][_0x44b8d2(0x908)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x44b8d2(0x537):_0x44b8d2(0x1c6))+_0x44b8d2(0x25a)+(_0x36995b[0x0]?_0x44b8d2(0x6b8)+_0x36995b[0x0][_0x44b8d2(0xc85)]+'</p>'+_0x4ceda0(_0x36995b[0x0][_0x44b8d2(0x22a)])+_0x44b8d2(0x2c0)+_0x36995b[0x0]['score']+_0x44b8d2(0xbe9)+(_0x36995b[0x0]['hasPerfectScoreBonus']?_0x44b8d2(0x687):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x44b8d2(0x1c6))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x36995b[0x2]?_0x44b8d2(0x429)+_0x36995b[0x2][_0x44b8d2(0xc85)]+_0x44b8d2(0x51d)+_0x4ceda0(_0x36995b[0x2][_0x44b8d2(0x22a)])+_0x44b8d2(0x59d)+_0x36995b[0x2][_0x44b8d2(0xa20)]+_0x44b8d2(0xbe9)+(_0x36995b[0x2][_0x44b8d2(0x908)]?_0x44b8d2(0x687):'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x44b8d2(0x1c6))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f1e0f+_0x44b8d2(0x821)+(currentMode===_0x44b8d2(0x8f9)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x44b8d2(0xc9a))+_0x44b8d2(0x35c);liveGameView[_0x44b8d2(0xcd8)]=_0x2cc2a6,currentMode==='admin'&&document['getElementById'](_0x44b8d2(0x6b2))[_0x44b8d2(0x8de)](_0x44b8d2(0xc20),async()=>{const _0x3872b2=_0x44b8d2;let _0xca229e;_0x534304==='sync'?_0xca229e=doc(db,_0x3872b2(0x366)+appId+_0x3872b2(0xa36),currentLiveGameId):_0xca229e=doc(db,_0x3872b2(0x366)+appId+_0x3872b2(0x447),currentLiveGameId),await deleteDoc(_0xca229e);});}function renderSyncSummaryView(_0x2ea8f8,_0x34a587,_0x4af028){const _0x2b86f2=_0x1f917e,_0x2d09ab=_0xef8ffa===_0x2b86f2(0xa35)&&_0x2ea8f8[_0x2b86f2(0x6db)]===![],_0x5a3311=Object[_0x2b86f2(0x631)](_0x2ea8f8[_0x2b86f2(0x81b)]||{}),_0x2be42a=_0x2ea8f8['shuffledQuiz'][_0x2b86f2(0x320)],_0x100ba3=_0x34a587[_0x2b86f2(0x789)]||_0x2ea8f8['shuffledQuiz'][_0x2b86f2(0x13d)];let _0x165dc7=[];_0x100ba3==='true_false'?_0x165dc7=[_0x2b86f2(0x5e8),_0x2b86f2(0x91b)]:_0x165dc7=_0x34a587[_0x2b86f2(0xae7)]||[];const _0x9e5c9b=new Array(_0x165dc7[_0x2b86f2(0xab1)])[_0x2b86f2(0x1d4)](0x0),_0x237056={};_0x165dc7[_0x2b86f2(0x229)]((_0x5522de,_0x39e288)=>{_0x237056[_0x39e288]=[];}),Object['entries'](_0x2ea8f8[_0x2b86f2(0x81b)]||{})[_0x2b86f2(0x229)](([_0xc368b1,_0x42be29])=>{const _0x1314c8=_0x2b86f2;if(_0x42be29[_0x1314c8(0x845)]!=='inactive'&&_0x42be29[_0x1314c8(0xa9f)]!==undefined&&_0x42be29['lastAnswerIndex']!==null){const _0x38497d=_0x42be29['lastAnswerIndex'];if(_0x237056[_0x38497d]!==undefined){const _0x36cecb=_0x2d09ab?_0x2ea8f8[_0x1314c8(0x417)][_0xc368b1]||_0x1314c8(0x8a4):_0xc368b1;_0x237056[_0x38497d][_0x1314c8(0xad2)](_0x36cecb),_0x9e5c9b[_0x38497d]++;}}});let _0x2693d9='';const _0xef8ffa=_0x2ea8f8[_0x2b86f2(0x57c)]||_0x2b86f2(0xcb8),_0x25db25=_0x2ea8f8[_0x2b86f2(0x896)]>=_0x2be42a[_0x2b86f2(0xab1)]-0x1;_0x4af028?_0xef8ffa===_0x2b86f2(0x9d5)?_0x25db25?_0x2693d9=_0x2b86f2(0x426):_0x2693d9=_0x2b86f2(0x25f):_0x2693d9=_0x2b86f2(0xc4c):_0xef8ffa===_0x2b86f2(0x9d5)?_0x2693d9=_0x2b86f2(0x5e9):_0x2693d9='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0xca998d=_0x2b86f2(0x97c)+_0x34a587[_0x2b86f2(0x551)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9e5c9b[_0x2b86f2(0x618)]((_0xd53fd9,_0x58147c)=>{const _0x264867=_0x2b86f2,_0x50ae63=_0x237056[_0x58147c][_0x264867(0xab1)]>0x0?_0x237056[_0x58147c][_0x264867(0xd29)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x84e627='#6366F1';return _0x264867(0xa2e)+_0xd53fd9+_0x264867(0x8f8)+_0x84e627+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x58147c+_0x264867(0x5f3)+_0x165dc7[_0x58147c]+_0x264867(0xc10)+_0x58147c+_0x264867(0x491)+_0x50ae63+_0x264867(0xac9);})['join']('')+_0x2b86f2(0x67e)+_0x2693d9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2b86f2(0xcd8)]=_0xca998d;if(window['MathJax'])MathJax[_0x2b86f2(0xbc4)]();if(_0x4af028){const _0x1fe708=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);document[_0x2b86f2(0x2bc)]('show-results-btn')?.[_0x2b86f2(0x8de)]('click',async()=>{const _0x2c6451=_0x2b86f2;await updateDoc(_0x1fe708,{'status':_0x2c6451(0x59b)});}),document['getElementById']('open-sync-scratchpad-btn')?.[_0x2b86f2(0x8de)](_0x2b86f2(0xc20),()=>{openScratchpad(_0x34a587,_0x165dc7);}),document[_0x2b86f2(0x2bc)]('next-sync-question-btn')?.[_0x2b86f2(0x8de)]('click',async()=>{const _0x19823b=_0x2b86f2,_0x5058b1=_0x2ea8f8[_0x19823b(0x896)]+0x1,_0xbd28fc={};Object[_0x19823b(0x420)](_0x2ea8f8['players'])[_0x19823b(0x229)](_0x488eb2=>{const _0x53af88=_0x19823b;_0xbd28fc[_0x53af88(0xbad)+_0x488eb2+_0x53af88(0xba9)]=![],_0xbd28fc['players.'+_0x488eb2+_0x53af88(0xc46)]=null;}),await updateDoc(_0x1fe708,{..._0xbd28fc,'status':_0x19823b(0xaa7),'currentQuestionIndex':_0x5058b1,'questionDisplayedAt':serverTimestamp()});}),document['getElementById'](_0x2b86f2(0x57a))?.['addEventListener']('click',async()=>{await updateDoc(_0x1fe708,{'status':'results','reviewQuestionIndex':0x0});});}}async function handleShowStudentRankings(){const _0x5788e6=_0x1f917e,_0x4d1558=document[_0x5788e6(0x22d)](_0x5788e6(0x4a1));_0x4d1558&&(_0x4d1558[_0x5788e6(0xcd8)]=_0x5788e6(0xba3));const _0x2f892f=document[_0x5788e6(0x22d)](_0x5788e6(0x1b1));_0x2f892f&&(_0x2f892f[_0x5788e6(0xcd8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x36d1a5=document[_0x5788e6(0x2bc)]('student-rankings-modal');_0x36d1a5['classList']['remove'](_0x5788e6(0x44c)),document['getElementById'](_0x5788e6(0x710))[_0x5788e6(0x7aa)]=()=>_0x36d1a5[_0x5788e6(0x517)][_0x5788e6(0x546)](_0x5788e6(0x44c));const _0x2b2ba2=document[_0x5788e6(0x2bc)]('student-quiz-leaderboard-tab'),_0x32d371=document[_0x5788e6(0x2bc)]('student-project-leaderboard-tab'),_0x1bf778=document['getElementById'](_0x5788e6(0x244)),_0x34f774=document['getElementById']('student-project-leaderboard-content');_0x2b2ba2[_0x5788e6(0x7aa)]=()=>{const _0x383331=_0x5788e6;_0x2b2ba2['classList'][_0x383331(0x546)](_0x383331(0x50f)),_0x32d371[_0x383331(0x517)][_0x383331(0x1b5)](_0x383331(0x50f)),_0x1bf778['classList']['remove'](_0x383331(0x44c)),_0x34f774[_0x383331(0x517)][_0x383331(0x546)](_0x383331(0x44c));},_0x32d371[_0x5788e6(0x7aa)]=()=>{const _0x81cd69=_0x5788e6;_0x32d371[_0x81cd69(0x517)]['add']('active'),_0x2b2ba2[_0x81cd69(0x517)][_0x81cd69(0x1b5)]('active'),_0x34f774[_0x81cd69(0x517)][_0x81cd69(0x1b5)](_0x81cd69(0x44c)),_0x1bf778['classList'][_0x81cd69(0x546)](_0x81cd69(0x44c));};try{const _0x123643=collection(db,'artifacts/'+appId+_0x5788e6(0x9ef)+currentQuizData['id']+'/submissions'),_0x3ac370=await getDocs(_0x123643),_0x57ff15=_0x3ac370[_0x5788e6(0xac3)]['map'](_0x340d39=>_0x340d39[_0x5788e6(0x923)]());renderQuizLeaderboard(_0x57ff15,currentQuizData,_0x5788e6(0x399));const _0x4cdf7e=collection(db,_0x5788e6(0x366)+appId+'/public/data/projects/'+currentQuizData[_0x5788e6(0x7f9)]+_0x5788e6(0x677)),_0x1f15ba=await getDocs(_0x4cdf7e),_0xa4fcb2=_0x1f15ba[_0x5788e6(0xac3)][_0x5788e6(0x618)](_0x5e05b7=>_0x5e05b7[_0x5788e6(0x923)]());renderLeaderboard(_0xa4fcb2,_0x5788e6(0x367));}catch(_0x40150c){console[_0x5788e6(0x512)]('Error\x20fetching\x20student\x20rankings:',_0x40150c),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x341145){const _0x1ae70c=_0x1f917e,_0x3a6ca9=_0x341145[_0x1ae70c(0xa9d)],_0x89e202=_0x3a6ca9[_0x1ae70c(0x4e3)][_0x1ae70c(0x8b1)],_0x532d89=currentQuizData[_0x1ae70c(0x320)][_0x89e202];if(!userId){showMessage(_0x1ae70c(0xc38));return;}try{const _0x4c34ea={..._0x532d89,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0xbbbadb=collection(db,_0x1ae70c(0x366)+appId+_0x1ae70c(0x4ae)+userId+_0x1ae70c(0xd14));await addDoc(_0xbbbadb,_0x4c34ea),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x3a6ca9['classList']['remove'](_0x1ae70c(0x65f)),_0x3a6ca9['classList'][_0x1ae70c(0x546)](_0x1ae70c(0x74d)),_0x3a6ca9['disabled']=!![];}catch(_0x33035c){console['error'](_0x1ae70c(0xb83),_0x33035c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x379fe4,_0xa1c615=null,_0x56715f=null,_0x399ba3=![]){const _0x4f8bff=_0x1f917e;cameFromBlueprint=!![];const _0x1118f6=document[_0x4f8bff(0x2bc)]('bp-reference-file-url')?.[_0x4f8bff(0xa21)]['trim']();let _0x406496=null;if(_0x1118f6){showMessage(_0x4f8bff(0x234));try{const _0x195988=await fetchFileFromUrl(_0x1118f6,_0x4f8bff(0x786)),_0x475b41=await new Promise((_0x1a8123,_0x421c96)=>{const _0x24537e=_0x4f8bff,_0x477597=new FileReader();_0x477597['readAsDataURL'](_0x195988),_0x477597[_0x24537e(0x384)]=()=>_0x1a8123(_0x477597[_0x24537e(0x4c8)][_0x24537e(0x9b1)](',')[0x1]),_0x477597[_0x24537e(0x8f2)]=_0x421c96;});_0x406496=[{'inlineData':{'mimeType':_0x195988[_0x4f8bff(0x903)],'data':_0x475b41}}],messageModal['classList'][_0x4f8bff(0x546)](_0x4f8bff(0x44c));}catch(_0x3d0a4f){console['error']('Could\x20not\x20fetch\x20reference\x20file:',_0x3d0a4f),showMessage(_0x4f8bff(0x5dc));}}const _0x466ccc=document['getElementById'](_0x4f8bff(0x436)),_0x4551bd=document[_0x4f8bff(0x2bc)](_0x4f8bff(0x580)),_0x431a0c=_0x466ccc['querySelector']('h3'),_0xd5e376=document[_0x4f8bff(0x2bc)](_0x4f8bff(0x54f)),_0x50c986=document[_0x4f8bff(0x2bc)](_0x4f8bff(0x1c1));_0x431a0c[_0x4f8bff(0x806)]=_0x4f8bff(0x1bb),_0xd5e376[_0x4f8bff(0x806)]=_0x4f8bff(0xcf9),_0xd5e376[_0x4f8bff(0x8ab)]=!![];allProjects[_0x4f8bff(0xab1)]===0x0?_0x4551bd[_0x4f8bff(0xcd8)]=_0x4f8bff(0x946):(_0x4551bd[_0x4f8bff(0xcd8)]=_0x4f8bff(0x2aa)+allProjects[_0x4f8bff(0x618)](_0x469635=>_0x4f8bff(0x9dd)+_0x469635['id']+'\x22>'+_0x469635[_0x4f8bff(0x30b)]+'</option>')['join'](''),_0xd5e376[_0x4f8bff(0x8ab)]=![]);_0x466ccc[_0x4f8bff(0x517)]['remove'](_0x4f8bff(0x44c));const _0x337be6=async()=>{const _0x3aeb59=_0x4f8bff,_0x3cc035=_0x4551bd[_0x3aeb59(0xa21)];if(!_0x3cc035){showMessage(_0x3aeb59(0x998));return;}_0x466ccc['classList'][_0x3aeb59(0x546)]('hidden'),document[_0x3aeb59(0x2bc)](_0x3aeb59(0x330))[_0x3aeb59(0x517)]['add']('hidden'),await loadProjectDetails(_0x3cc035),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x379fe4,_0xa1c615,_0x3cc035,_0x56715f,_0x399ba3,_0x406496),_0x19bcd7();},_0x19bcd7=()=>{const _0x319723=_0x4f8bff;_0x431a0c[_0x319723(0x806)]=_0x319723(0x6e0),_0xd5e376['textContent']='ย้าย',_0xd5e376[_0x319723(0xcab)]('click',_0x337be6),_0x50c986['removeEventListener'](_0x319723(0xc20),_0x19bcd7),_0xd5e376[_0x319723(0x8de)]('click',confirmMoveQuiz);};_0xd5e376[_0x4f8bff(0xcab)](_0x4f8bff(0xc20),confirmMoveQuiz),_0xd5e376['addEventListener']('click',_0x337be6),_0x50c986[_0x4f8bff(0x8de)](_0x4f8bff(0xc20),_0x19bcd7);}function listenForStarredQuizzes(){const _0x393dfa=_0x1f917e;if(!userId)return;const _0x17216f=collection(db,_0x393dfa(0x366)+appId+_0x393dfa(0xcbc)),_0x2668e7=query(_0x17216f,where(_0x393dfa(0x753),'==',!![]));onSnapshot(_0x2668e7,_0x5cdc5c=>{const _0x1d1e7a=_0x393dfa;starredQuizzes=_0x5cdc5c[_0x1d1e7a(0xac3)][_0x1d1e7a(0x618)](_0x504d77=>({'id':_0x504d77['id'],..._0x504d77[_0x1d1e7a(0x923)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x49cd9f=>{const _0x43fae4=_0x393dfa;console[_0x43fae4(0x512)](_0x43fae4(0x901),_0x49cd9f);});}function listenForFileShortcuts(){const _0xb2a86e=_0x1f917e,_0x571367=doc(db,_0xb2a86e(0x214),_0xb2a86e(0x834));onSnapshot(_0x571367,_0x2ce99e=>{const _0x4d1b26=_0xb2a86e;let _0x55051a=[],_0x164b00=[],_0x5478a0={};if(_0x2ce99e[_0x4d1b26(0x485)]()){const _0x2037c1=_0x2ce99e[_0x4d1b26(0x923)]();_0x55051a=_0x2037c1[_0x4d1b26(0x3d0)]||[],_0x164b00=_0x2037c1['fileShortcutTabs']||[],_0x5478a0=_0x2037c1[_0x4d1b26(0x1d0)]||{};}!_0x164b00[_0x4d1b26(0xaa2)](_0x5a24c8=>_0x5a24c8['id']==='all')&&_0x164b00[_0x4d1b26(0xb94)]({'id':'all','name':_0x4d1b26(0x5e5),'isDefault':!![]}),!_0x55051a[_0x4d1b26(0xaa2)](_0x187349=>_0x187349['id']===_0x4d1b26(0x15f))&&_0x55051a[_0x4d1b26(0xb94)]({'id':_0x4d1b26(0x15f),'name':_0x4d1b26(0xb5b),'url':'','isDefault':!![]}),!_0x55051a[_0x4d1b26(0xaa2)](_0x427cc4=>_0x427cc4['id']===_0x4d1b26(0x9d8))&&_0x55051a['unshift']({'id':_0x4d1b26(0x9d8),'name':_0x4d1b26(0xa5e),'url':'','isDefault':!![]}),fileShortcuts=_0x55051a,fileShortcutTabs=_0x164b00,fileShortcutOrder=_0x5478a0,renderFileShortcuts(),!document[_0x4d1b26(0x2bc)](_0x4d1b26(0x554))[_0x4d1b26(0x517)][_0x4d1b26(0x7ab)](_0x4d1b26(0x44c))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x2e43a7=_0x1f917e,_0x27c147=doc(db,_0x2e43a7(0x214),_0x2e43a7(0x834));try{await setDoc(_0x27c147,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0xb55d2a){console[_0x2e43a7(0x512)](_0x2e43a7(0x79b),_0xb55d2a);}}function renderAdditionalFileShortcutsModal(){const _0x51cd30=_0x1f917e,_0x2c5892=document['getElementById'](_0x51cd30(0xaa0)),_0x36b3be=document[_0x51cd30(0x2bc)](_0x51cd30(0x531));if(!_0x2c5892||!_0x36b3be)return;_0x2c5892[_0x51cd30(0xcd8)]=fileShortcutTabs[_0x51cd30(0x618)](_0x23749e=>{const _0x14142b=_0x51cd30,_0x546f5d=_0x23749e['id']===activeFileShortcutTabId;return _0x14142b(0x1e1)+_0x23749e['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x546f5d?_0x14142b(0x860):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x14142b(0x411)+_0x23749e[_0x14142b(0xc85)]+_0x14142b(0x4cc)+_0x23749e['name']+_0x14142b(0x3fe)+(!_0x23749e['isDefault']?_0x14142b(0x7a5)+_0x23749e['id']+_0x14142b(0xc44):'')+_0x14142b(0xcb7);})[_0x51cd30(0xd29)]('');const _0x230eb0=fileShortcutTabs[_0x51cd30(0xaa2)](_0x17b805=>_0x17b805['id']===activeFileShortcutTabId);let _0x139bd0=_0x230eb0?.[_0x51cd30(0x157)]?[...fileShortcuts]:fileShortcuts[_0x51cd30(0xa7a)](_0x38e63c=>(_0x230eb0?.['shortcutIds']||[])[_0x51cd30(0x42a)](_0x38e63c['id']));const _0x380d7c=fileShortcutOrder[activeFileShortcutTabId]||[];_0x139bd0[_0x51cd30(0x817)]((_0x1dcb22,_0x313a46)=>{const _0x3d632c=_0x51cd30,_0x4ace6a=_0x380d7c[_0x3d632c(0xb3b)](_0x1dcb22['id']),_0x2bd0f6=_0x380d7c[_0x3d632c(0xb3b)](_0x313a46['id']);return(_0x4ace6a===-0x1?Infinity:_0x4ace6a)-(_0x2bd0f6===-0x1?Infinity:_0x2bd0f6);}),_0x36b3be[_0x51cd30(0xcd8)]=_0x139bd0['map'](_0x4161eb=>{const _0x3c496a=_0x51cd30,_0x2618d9=_0x4161eb[_0x3c496a(0x506)]?'📄':'🔗',_0x166f6f=fileShortcutTabs[_0x3c496a(0xa7a)](_0x322ed5=>!_0x322ed5[_0x3c496a(0x157)]),_0x3127e4=_0x230eb0[_0x3c496a(0x157)]&&_0x166f6f['length']>0x0?_0x3c496a(0x782)+_0x166f6f[_0x3c496a(0x618)](_0x2a15c4=>'<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x4161eb['id']+_0x3c496a(0xa4b)+_0x2a15c4['id']+'\x22>'+_0x2a15c4[_0x3c496a(0xc85)]+_0x3c496a(0xa6d))[_0x3c496a(0xd29)]('')+_0x3c496a(0x7fe):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x4161eb['id']+_0x3c496a(0x809)+_0x2618d9+'\x20'+_0x4161eb[_0x3c496a(0xc85)]+_0x3c496a(0x1dc)+_0x4161eb['id']+_0x3c496a(0x8fc)+_0x4161eb['id']+_0x3c496a(0x62a)+(!_0x4161eb['isDefault']?_0x3c496a(0x64c)+_0x4161eb['id']+_0x3c496a(0x3af):'')+_0x3c496a(0x5b2)+(!_0x230eb0['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x4161eb['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3127e4+_0x3c496a(0x3e8);})['join']('')||_0x51cd30(0x8e9),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0xa18082=_0x1f917e;document[_0xa18082(0x362)]('.file-shortcut-tab-btn')['forEach'](_0xa3c4b=>{_0xa3c4b['onclick']=_0x540239=>{const _0x6c9eec=_0x36ac;activeFileShortcutTabId=_0x540239[_0x6c9eec(0xa9d)]['dataset']['tabId'],renderAdditionalFileShortcutsModal();},_0xa3c4b['ondblclick']=_0x353458=>{const _0x193272=_0x36ac,_0xb867c9=_0x353458[_0x193272(0xa9d)]['querySelector']('.tab-name-input');_0x353458[_0x193272(0xa9d)]['querySelector'](_0x193272(0xb3e))[_0x193272(0x517)]['add'](_0x193272(0x44c)),_0xb867c9[_0x193272(0x517)][_0x193272(0x1b5)](_0x193272(0x44c)),_0xb867c9[_0x193272(0x274)](),_0xb867c9['select']();};}),document[_0xa18082(0x362)](_0xa18082(0x608))[_0xa18082(0x229)](_0x9fa115=>{const _0x5e5338=_0xa18082,_0x1524d0=()=>{const _0x43c65b=_0x36ac,_0x12bb66=_0x9fa115[_0x43c65b(0x634)](_0x43c65b(0x931))[_0x43c65b(0x4e3)][_0x43c65b(0xc69)],_0x2ac98c=fileShortcutTabs[_0x43c65b(0xaa2)](_0xae15db=>_0xae15db['id']===_0x12bb66);_0x2ac98c&&(_0x2ac98c[_0x43c65b(0xc85)]=_0x9fa115[_0x43c65b(0xa21)][_0x43c65b(0x1df)]()||_0x2ac98c[_0x43c65b(0xc85)],saveFileShortcutConfig());};_0x9fa115['onblur']=_0x1524d0,_0x9fa115[_0x5e5338(0x337)]=_0x186b8e=>{const _0x4f8319=_0x5e5338;if(_0x186b8e['key']===_0x4f8319(0x457))_0x9fa115[_0x4f8319(0x466)]();};}),document[_0xa18082(0x362)](_0xa18082(0x86d))[_0xa18082(0x229)](_0xf1827=>_0xf1827[_0xa18082(0x7aa)]=_0x6d7a90=>{const _0x1ed11b=_0xa18082,_0x216438=_0x6d7a90[_0x1ed11b(0xa9d)][_0x1ed11b(0x4e3)]['tabId'];showConfirmation(_0x1ed11b(0x360),()=>{const _0x4c4f7d=_0x1ed11b;fileShortcutTabs=fileShortcutTabs['filter'](_0x27a895=>_0x27a895['id']!==_0x216438),delete fileShortcutOrder[_0x216438];if(activeFileShortcutTabId===_0x216438)activeFileShortcutTabId=_0x4c4f7d(0x8bd);saveFileShortcutConfig();});}),document[_0xa18082(0x362)]('.move-file-shortcut-item')[_0xa18082(0x229)](_0x1b310f=>_0x1b310f[_0xa18082(0x7aa)]=_0x4783bd=>{const _0x4ceedd=_0xa18082;_0x4783bd['preventDefault']();const {shortcutId:_0x1664ce,targetTabId:_0x16b65e}=_0x4783bd[_0x4ceedd(0xa9d)][_0x4ceedd(0x4e3)],_0x10b684=fileShortcutTabs['find'](_0x2886ea=>_0x2886ea['id']===_0x16b65e);_0x10b684&&!_0x10b684['shortcutIds'][_0x4ceedd(0x42a)](_0x1664ce)&&(_0x10b684[_0x4ceedd(0x920)][_0x4ceedd(0xad2)](_0x1664ce),saveFileShortcutConfig());}),document[_0xa18082(0x362)](_0xa18082(0x952))['forEach'](_0x436a0d=>_0x436a0d[_0xa18082(0x7aa)]=_0x2a7686=>{const _0x2b7202=_0xa18082,_0x739a0c=_0x2a7686[_0x2b7202(0xa9d)][_0x2b7202(0x4e3)][_0x2b7202(0x515)],_0x2d6538=fileShortcutTabs[_0x2b7202(0xaa2)](_0x38c498=>_0x38c498['id']===activeFileShortcutTabId);_0x2d6538&&!_0x2d6538[_0x2b7202(0x157)]&&(_0x2d6538['shortcutIds']=_0x2d6538[_0x2b7202(0x920)][_0x2b7202(0xa7a)](_0x5a4392=>_0x5a4392!==_0x739a0c),saveFileShortcutConfig());}),document[_0xa18082(0x362)](_0xa18082(0x636))[_0xa18082(0x229)](_0x100c2c=>_0x100c2c[_0xa18082(0x7aa)]=_0x4a9615=>{const _0x3ec06c=_0xa18082;_0x4a9615[_0x3ec06c(0x71b)]();const _0x2c4dd5=_0x4a9615[_0x3ec06c(0xa9d)][_0x3ec06c(0xbe5)];document[_0x3ec06c(0x362)](_0x3ec06c(0x987))[_0x3ec06c(0x229)](_0x563b79=>_0x563b79[_0x3ec06c(0x517)][_0x3ec06c(0x546)](_0x3ec06c(0x44c))),_0x2c4dd5[_0x3ec06c(0x517)][_0x3ec06c(0x1b5)]('hidden');});const _0x2fe81b=document['getElementById']('additional-file-shortcuts-list');let _0x3f797e=null;_0x2fe81b['ondragstart']=_0x5ad2aa=>{const _0x3194da=_0xa18082;_0x3f797e=_0x5ad2aa[_0x3194da(0x97d)][_0x3194da(0x634)](_0x3194da(0xa53));if(_0x3f797e)setTimeout(()=>_0x3f797e[_0x3194da(0x517)][_0x3194da(0x546)](_0x3194da(0x1b3)),0x0);},_0x2fe81b['ondragend']=()=>{const _0x561db6=_0xa18082;_0x3f797e&&(_0x3f797e['classList'][_0x561db6(0x1b5)]('opacity-50'),_0x3f797e=null);},_0x2fe81b[_0xa18082(0xba0)]=_0x6e6f79=>{const _0x2e5e27=_0xa18082;_0x6e6f79[_0x2e5e27(0x9f2)]();},_0x2fe81b[_0xa18082(0x676)]=_0x4f0ec1=>{const _0x237083=_0xa18082;_0x4f0ec1[_0x237083(0x9f2)]();if(_0x3f797e){const _0x3c4fdb=[..._0x2fe81b[_0x237083(0x362)](_0x237083(0x96b))][_0x237083(0x5e7)]((_0x33e0d8,_0x3b5a72)=>{const _0x2739f4=_0x237083,_0x58881e=_0x3b5a72[_0x2739f4(0x263)](),_0xa45f7d=_0x4f0ec1['clientY']-_0x58881e['top']-_0x58881e['height']/0x2;return _0xa45f7d<0x0&&_0xa45f7d>_0x33e0d8['offset']?{'offset':_0xa45f7d,'element':_0x3b5a72}:_0x33e0d8;},{'offset':Number[_0x237083(0x92a)]})[_0x237083(0x93d)];_0x3c4fdb==null?_0x2fe81b[_0x237083(0x289)](_0x3f797e):_0x2fe81b['insertBefore'](_0x3f797e,_0x3c4fdb);const _0x3805d3=[..._0x2fe81b[_0x237083(0x362)](_0x237083(0xa53))][_0x237083(0x618)](_0x368bf3=>_0x368bf3[_0x237083(0x4e3)][_0x237083(0x515)]);fileShortcutOrder[activeFileShortcutTabId]=_0x3805d3,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x3de563=_0x1f917e,_0x37dc81=prompt(_0x3de563(0xc42),'แท็บใหม่');_0x37dc81&&_0x37dc81[_0x3de563(0x1df)]()&&(fileShortcutTabs['push']({'id':_0x3de563(0x578)+Date[_0x3de563(0x58e)](),'name':_0x37dc81[_0x3de563(0x1df)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3f4a27=_0x1f917e,_0x2998b=document[_0x3f4a27(0x2bc)](_0x3f4a27(0x73a)),_0x46e989=document['getElementById']('additional-file-shortcuts-list'),_0x56b98b=document[_0x3f4a27(0x2bc)](_0x3f4a27(0x41f));if(_0x56b98b)_0x56b98b['classList'][_0x3f4a27(0x546)]('hidden');if(!_0x2998b||!_0x46e989)return;const _0x4be403=fileShortcuts[_0x3f4a27(0x52a)](0x0,0x4),_0x3a3502=fileShortcuts[_0x3f4a27(0x52a)](0x4);_0x2998b[_0x3f4a27(0xcd8)]=_0x4be403[_0x3f4a27(0x618)](_0x76603b=>{const _0x3a2e1c=_0x3f4a27,_0xfc27d2=_0x76603b[_0x3a2e1c(0x506)]&&_0x76603b[_0x3a2e1c(0x506)][_0x3a2e1c(0x1df)]()!=='',_0x5381c1=selectedFile&&selectedFile['shortcutId']===_0x76603b['id'];let _0x400621=_0x3a2e1c(0x19b),_0x1ddf88='🔗';if(_0x5381c1)_0x400621=_0x3a2e1c(0x5da),_0x1ddf88=_0x3a2e1c(0xaf6);else _0xfc27d2&&(_0x400621=_0x3a2e1c(0x835),_0x1ddf88='📄');const _0x3c1500=!_0x76603b['isDefault']?_0x3a2e1c(0x64c)+_0x76603b['id']+_0x3a2e1c(0xc6e):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x76603b['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x400621+_0x3a2e1c(0x602)+_0x1ddf88+_0x3a2e1c(0x919)+_0x76603b[_0x3a2e1c(0xc85)]+_0x3a2e1c(0xab7)+_0x76603b['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c1500+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x3a3502[_0x3f4a27(0xab1)]>0x0&&(_0x2998b[_0x3f4a27(0xcd8)]+=_0x3f4a27(0x4c2)),_0x3a3502[_0x3f4a27(0xab1)]>0x0?_0x46e989[_0x3f4a27(0xcd8)]=_0x3a3502[_0x3f4a27(0x618)](_0x2d9a90=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x2d9a90[_0x3f4a27(0x506)]?'📄':'🔗')+'\x20'+_0x2d9a90['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2d9a90['id']+_0x3f4a27(0xa93)+_0x2d9a90['id']+_0x3f4a27(0x45a)+(!_0x2d9a90['isDefault']?_0x3f4a27(0x64c)+_0x2d9a90['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x3f4a27(0x251))[_0x3f4a27(0xd29)](''):_0x46e989[_0x3f4a27(0xcd8)]=_0x3f4a27(0x17c);}function openFileShortcutEditor(_0x285eb5=null){const _0x15ba3b=_0x1f917e,_0x2b1692=document[_0x15ba3b(0x2bc)](_0x15ba3b(0xd07)),_0x2677ad=document[_0x15ba3b(0x2bc)](_0x15ba3b(0xad4)),_0x103803=document['getElementById']('file-shortcut-id-input'),_0xca78c7=document['getElementById'](_0x15ba3b(0x43b)),_0x14b006=document['getElementById'](_0x15ba3b(0x800));if(_0x285eb5){const _0x2b3c67=fileShortcuts[_0x15ba3b(0xaa2)](_0x1ea60d=>_0x1ea60d['id']===_0x285eb5);if(!_0x2b3c67)return;_0x2677ad[_0x15ba3b(0x806)]=_0x15ba3b(0xb6c),_0x103803[_0x15ba3b(0xa21)]=_0x2b3c67['id'],_0xca78c7[_0x15ba3b(0xa21)]=_0x2b3c67[_0x15ba3b(0xc85)],_0x14b006['value']=_0x2b3c67['url']||'';}else _0x2677ad[_0x15ba3b(0x806)]=_0x15ba3b(0x7c2),_0x103803[_0x15ba3b(0xa21)]='',_0xca78c7[_0x15ba3b(0xa21)]='',_0x14b006[_0x15ba3b(0xa21)]='';_0x2b1692[_0x15ba3b(0x517)]['remove'](_0x15ba3b(0x44c));}async function saveFileShortcutChanges(){const _0x50b639=_0x1f917e,_0x34dfc8=document['getElementById'](_0x50b639(0x664))[_0x50b639(0xa21)],_0x1525ac=document[_0x50b639(0x2bc)]('file-shortcut-name-input')['value']['trim'](),_0x32d220=document[_0x50b639(0x2bc)](_0x50b639(0x800))['value'][_0x50b639(0x1df)]();if(!_0x1525ac){showMessage(_0x50b639(0x363));return;}const _0x3a1b3a={'id':_0x34dfc8||_0x50b639(0x539)+Date['now'](),'name':_0x1525ac,'url':_0x32d220,'isDefault':_0x34dfc8['startsWith']('file-default-')};let _0x105a08;_0x34dfc8?_0x105a08=fileShortcuts[_0x50b639(0x618)](_0x4e560c=>_0x4e560c['id']===_0x34dfc8?_0x3a1b3a:_0x4e560c):_0x105a08=[...fileShortcuts,_0x3a1b3a];try{const _0x42066f=doc(db,_0x50b639(0x214),'fileShortcutsConfig');await setDoc(_0x42066f,{'shortcuts':_0x105a08},{'merge':!![]}),document[_0x50b639(0x2bc)](_0x50b639(0xd07))[_0x50b639(0x517)][_0x50b639(0x546)](_0x50b639(0x44c));}catch(_0x37f486){console[_0x50b639(0x512)](_0x50b639(0x5f8),_0x37f486),showMessage(_0x50b639(0x503));}}async function handleFileShortcutClick(_0x156261){const _0x3681b2=_0x1f917e,_0x59a95f=fileShortcuts[_0x3681b2(0xaa2)](_0x43a4da=>_0x43a4da['id']===_0x156261);if(!_0x59a95f)return;if(!_0x59a95f['url']||_0x59a95f[_0x3681b2(0x506)][_0x3681b2(0x1df)]()===''){openFileShortcutEditor(_0x156261);return;}const _0x20d6c0=document['querySelector'](_0x3681b2(0x883)+_0x156261+'\x22]');if(_0x20d6c0){const _0x902420=_0x20d6c0['innerHTML'];_0x20d6c0['innerHTML']='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x20d6c0['disabled']=!![];}document[_0x3681b2(0x362)](_0x3681b2(0x695))[_0x3681b2(0x229)](_0x2d6691=>{const _0x58b1ed=_0x3681b2;if(_0x2d6691[_0x58b1ed(0x4e3)]['id']!==_0x156261)_0x2d6691[_0x58b1ed(0x517)][_0x58b1ed(0x546)](_0x58b1ed(0x1b3),_0x58b1ed(0x9de));});try{const _0x5699e1=new URL(_0x59a95f[_0x3681b2(0x506)])[_0x3681b2(0x2d2)],_0x114027=_0x5699e1[_0x3681b2(0xbb5)](_0x5699e1[_0x3681b2(0x6cd)]('/')+0x1)||(_0x59a95f['url'][_0x3681b2(0x42a)](_0x3681b2(0x856))?_0x3681b2(0x9d1):_0x3681b2(0x27a)),_0x38f269=await fetchFileFromUrl(_0x59a95f[_0x3681b2(0x506)],_0x114027);_0x38f269[_0x3681b2(0x515)]=_0x156261,selectedFile=_0x38f269,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x3681b2(0x2bc)](_0x3681b2(0x2dc))['scrollIntoView']({'behavior':_0x3681b2(0x172),'block':_0x3681b2(0x148)});}catch(_0x4c3701){console['error'](_0x3681b2(0x15e),_0x4c3701),showMessage(_0x3681b2(0x4bb)+_0x4c3701[_0x3681b2(0xaf3)]),renderFileShortcuts();}finally{document[_0x3681b2(0x362)](_0x3681b2(0x695))['forEach'](_0x2e0a11=>{const _0x58b23d=_0x3681b2;_0x2e0a11[_0x58b23d(0x517)][_0x58b23d(0x1b5)](_0x58b23d(0x1b3),_0x58b23d(0x9de)),_0x2e0a11[_0x58b23d(0x8ab)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x12f6bc=_0x1f917e;if(allQuizzesGlobal['length']>0x0)return;console[_0x12f6bc(0x16e)](_0x12f6bc(0xa4f)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x44af34=await getDocs(collection(db,'artifacts/'+appId+_0x12f6bc(0xcbc)));allQuizzesGlobal=_0x44af34['docs'][_0x12f6bc(0x618)](_0x5c2796=>({'id':_0x5c2796['id'],..._0x5c2796[_0x12f6bc(0x923)]()})),console[_0x12f6bc(0x16e)](_0x12f6bc(0x2db)+allQuizzesGlobal[_0x12f6bc(0xab1)]+_0x12f6bc(0x89c)),messageModal['classList'][_0x12f6bc(0x546)](_0x12f6bc(0x44c));}catch(_0x2d1576){console[_0x12f6bc(0x512)](_0x12f6bc(0x42e),_0x2d1576),messageModal['classList']['add'](_0x12f6bc(0x44c));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x305fb5=_0x1f917e;if(!currentQuizData||!currentQuizData[_0x305fb5(0x320)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x15ad8f=currentQuizData,_0x1b69e6=window[_0x305fb5(0x3c5)]('','_blank'),_0x452cd2=_0x2f77af=>String[_0x305fb5(0x77b)](0x41+_0x2f77af),_0x22f316='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x15ad8f[_0x305fb5(0x533)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x15ad8f[_0x305fb5(0x533)]+_0x305fb5(0xca0)+_0x15ad8f['questions'][_0x305fb5(0x618)]((_0x5cac60,_0x55ecba)=>{const _0x4949d3=_0x305fb5;let _0x51311a='';const _0x114ed9=_0x5cac60[_0x4949d3(0x789)]||_0x15ad8f[_0x4949d3(0x13d)];switch(_0x114ed9){case _0x4949d3(0x29d):case _0x4949d3(0x5f6):_0x51311a=_0x4949d3(0x64f)+_0x5cac60[_0x4949d3(0xae7)]['map']((_0x3d6db5,_0x47fab5)=>_0x4949d3(0x959)+_0x452cd2(_0x47fab5)+'.\x20'+_0x3d6db5+_0x4949d3(0xa64))['join']('<br>')+_0x4949d3(0xa8a);break;case _0x4949d3(0x475):_0x51311a=_0x4949d3(0x89e);break;default:_0x51311a=_0x4949d3(0x9c6);break;}return _0x4949d3(0xc96)+(_0x55ecba+0x1)+_0x4949d3(0x3b9)+(_0x5cac60[_0x4949d3(0x629)]||_0x5cac60[_0x4949d3(0x551)])+_0x4949d3(0xc22)+(_0x5cac60[_0x4949d3(0x679)]?'<div\x20class=\x22my-2\x22>'+_0x5cac60['imageCode']+_0x4949d3(0xa8a):'')+_0x4949d3(0x556)+_0x51311a+_0x4949d3(0x913);})[_0x305fb5(0xd29)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1b69e6['document'][_0x305fb5(0x5f1)](_0x22f316),_0x1b69e6['document']['close'](),_0x1b69e6[_0x305fb5(0x384)]=function(){setTimeout(()=>{_0x1b69e6['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x42d4c2=_0x1f917e;if(!currentQuizData||!currentQuizData[_0x42d4c2(0x320)]){showMessage(_0x42d4c2(0x199));return;}const _0x1ab0d2=currentQuizData,_0x4c776d=window[_0x42d4c2(0x3c5)]('',_0x42d4c2(0x62b)),_0x3fa0d9=_0x145bea=>String[_0x42d4c2(0x77b)](0x41+_0x145bea),_0x3454f8=_0x42d4c2(0x871)+_0x1ab0d2[_0x42d4c2(0x533)]+_0x42d4c2(0x41a)+_0x1ab0d2['questions']['map']((_0x2e04bd,_0x5a432d)=>{const _0x3b9a0b=_0x42d4c2;let _0x1559d9='';const _0x176d71=_0x2e04bd[_0x3b9a0b(0x789)]||_0x1ab0d2[_0x3b9a0b(0x13d)];switch(_0x176d71){case _0x3b9a0b(0x29d):case _0x3b9a0b(0x5f6):_0x1559d9=_0x3b9a0b(0x733)+_0x2e04bd['options'][_0x3b9a0b(0x618)]((_0x5f327e,_0x5b80ee)=>_0x3b9a0b(0x2d3)+_0x3fa0d9(_0x5b80ee)+'.\x20'+_0x5f327e+'</span>')[_0x3b9a0b(0xd29)](_0x3b9a0b(0x6d1))+_0x3b9a0b(0x5c8);break;case _0x3b9a0b(0x475):_0x1559d9='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x1559d9='';break;}return _0x3b9a0b(0xa33)+_0x1ab0d2[_0x3b9a0b(0x533)]+_0x3b9a0b(0x6ec)+(_0x5a432d+0x1)+_0x3b9a0b(0x792)+(_0x2e04bd[_0x3b9a0b(0x629)]||_0x2e04bd[_0x3b9a0b(0x551)])+_0x3b9a0b(0xc22)+(_0x2e04bd[_0x3b9a0b(0x679)]?_0x3b9a0b(0x468)+_0x2e04bd[_0x3b9a0b(0x679)]+_0x3b9a0b(0xa8a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1559d9+_0x3b9a0b(0xb7c);})[_0x42d4c2(0xd29)]('')+_0x42d4c2(0x1e7);_0x4c776d[_0x42d4c2(0x91d)][_0x42d4c2(0x5f1)](_0x3454f8),_0x4c776d[_0x42d4c2(0x91d)][_0x42d4c2(0x797)](),_0x4c776d['onload']=function(){setTimeout(()=>{const _0x453128=_0x36ac;_0x4c776d[_0x453128(0x7ca)]();},0x5dc);};}async function handleToggleStarQuiz(_0xe92bcb){const _0x258047=_0x1f917e,_0x72d8d7=doc(db,_0x258047(0x366)+appId+_0x258047(0xcbc),_0xe92bcb);try{const _0x12c565=await getDoc(_0x72d8d7);if(_0x12c565[_0x258047(0x485)]()){const _0x13bc3c=_0x12c565[_0x258047(0x923)]()['isStarred']||![];await updateDoc(_0x72d8d7,{'isStarred':!_0x13bc3c});}}catch(_0xe23e56){console[_0x258047(0x512)](_0x258047(0x64d),_0xe23e56),showMessage(_0x258047(0x2b1));}}async function displayQuestionBank(){const _0x42d041=_0x1f917e,_0x41fa36=document[_0x42d041(0x2bc)](_0x42d041(0x479));_0x41fa36['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x3d5010=collection(db,_0x42d041(0x366)+appId+'/users/'+userId+_0x42d041(0xd14)),_0x42dd4d=query(_0x3d5010),_0x5d936b=await getDocs(_0x42dd4d);if(_0x5d936b['empty']){_0x41fa36[_0x42d041(0xcd8)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x39d1bd=_0x5d936b[_0x42d041(0xac3)][_0x42d041(0x618)](_0x295f9b=>{const _0x25942a=_0x42d041,_0x2c7c63=_0x295f9b[_0x25942a(0x923)](),_0x6b54f4=_0x295f9b['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x25942a(0x4e2)](_0x2c7c63)+_0x25942a(0x13b)+(_0x2c7c63[_0x25942a(0x551)]||_0x2c7c63[_0x25942a(0x629)])+_0x25942a(0x66d)+_0x2c7c63['originalTopic']+_0x25942a(0x6df);})['join']('');_0x41fa36[_0x42d041(0xcd8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x39d1bd+_0x42d041(0x76b),document['getElementById'](_0x42d041(0x9da))[_0x42d041(0x8de)](_0x42d041(0xc20),createQuizFromBank);}catch(_0x34249e){console[_0x42d041(0x512)](_0x42d041(0xa45),_0x34249e),_0x41fa36[_0x42d041(0xcd8)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x2c4fdf=_0x1f917e,_0x17f01a=document[_0x2c4fdf(0x2bc)](_0x2c4fdf(0x6d3)),_0x3b736c=document[_0x2c4fdf(0x2bc)](_0x2c4fdf(0x7df))[_0x2c4fdf(0x806)]||_0x2c4fdf(0xa89);if(!_0x17f01a){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x32106d=window[_0x2c4fdf(0x3c5)]('',_0x2c4fdf(0x62b)),_0xd47a29='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x3b736c+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x3b736c+_0x2c4fdf(0x84b)+_0x17f01a[_0x2c4fdf(0xcd8)]+_0x2c4fdf(0x38d);_0x32106d['document'][_0x2c4fdf(0x5f1)](_0xd47a29),_0x32106d['document'][_0x2c4fdf(0x797)](),_0x32106d[_0x2c4fdf(0x384)]=function(){setTimeout(()=>{const _0x4db5e6=_0x36ac;_0x32106d[_0x4db5e6(0x7ca)]();},0x7d0);};}function showAdminLiveQuestionView(_0x2af08d,_0x21db71,_0x560664){const _0x2b7fa6=_0x1f917e,_0x240b9e=_0x2af08d[_0x2b7fa6(0x789)]||currentQuizData['quizType'];let _0x39a29a='';if(_0x240b9e===_0x2b7fa6(0x29d)||_0x240b9e===_0x2b7fa6(0x475)){const _0x1eba42=_0x240b9e===_0x2b7fa6(0x475)?[_0x2b7fa6(0xab0),_0x2b7fa6(0x538)]:_0x2af08d[_0x2b7fa6(0xae7)],_0x59ae7=_0x240b9e===_0x2b7fa6(0x475)?_0x2af08d[_0x2b7fa6(0x9fa)]?0x0:0x1:_0x2af08d[_0x2b7fa6(0x16b)];_0x39a29a=_0x1eba42[_0x2b7fa6(0x618)]((_0x92057b,_0x4367b5)=>_0x2b7fa6(0xc4a)+(_0x4367b5===_0x59ae7)+_0x2b7fa6(0x9f0)+_0x92057b+_0x2b7fa6(0x3a4))[_0x2b7fa6(0xd29)]('');}else{if(_0x240b9e===_0x2b7fa6(0x4c9)){const _0x1bc53d=_0x2af08d[_0x2b7fa6(0x607)]||[];_0x39a29a=_0x1bc53d[_0x2b7fa6(0x618)](_0x860b81=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x860b81===_0x2af08d[_0x2b7fa6(0xb73)])+_0x2b7fa6(0x9f0)+_0x860b81+_0x2b7fa6(0x3a4))['join']('');}}const _0x28e729=_0x2af08d['stem']||_0x2af08d['questionText'],_0x510082=_0x2b7fa6(0x4ef)+(_0x21db71+0x1)+'\x20/\x20'+_0x560664+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x28e729+_0x2b7fa6(0xc17)+_0x39a29a+_0x2b7fa6(0x8d2);liveGameView['innerHTML']=_0x510082,window[_0x2b7fa6(0x13e)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]),document['getElementById'](_0x2b7fa6(0x358))[_0x2b7fa6(0x8de)](_0x2b7fa6(0xc20),()=>revealAnswerForAdmin(_0x21db71,_0x560664)),document[_0x2b7fa6(0x2bc)](_0x2b7fa6(0x6b3))['addEventListener'](_0x2b7fa6(0xc20),async()=>{const _0x5e5cc1=_0x2b7fa6;showConfirmation(_0x5e5cc1(0x194),async()=>{const _0x730860=_0x5e5cc1,_0xddac4f=doc(db,'artifacts/'+appId+_0x730860(0x447),currentLiveGameId);await updateDoc(_0xddac4f,{'status':_0x730860(0x985)});});}),document[_0x2b7fa6(0x2bc)](_0x2b7fa6(0x31f))[_0x2b7fa6(0x8de)](_0x2b7fa6(0xc20),()=>{const _0x2617c5=_0x2b7fa6;document[_0x2617c5(0x2bc)](_0x2617c5(0x19d))[_0x2617c5(0x517)]['toggle'](_0x2617c5(0x44c));});}function promptForProjectBeforeGenerating(_0x28986e){const _0x37ff1d=_0x1f917e,_0x44683e=document[_0x37ff1d(0x2bc)](_0x37ff1d(0x436)),_0x218d87=document[_0x37ff1d(0x2bc)]('move-quiz-project-select'),_0x314b70=_0x44683e[_0x37ff1d(0x22d)]('h3'),_0xd73f89=document[_0x37ff1d(0x2bc)](_0x37ff1d(0x54f)),_0x56509c=document[_0x37ff1d(0x2bc)](_0x37ff1d(0x1c1));_0x314b70[_0x37ff1d(0x806)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0xd73f89[_0x37ff1d(0x806)]=_0x37ff1d(0xcf9),_0xd73f89[_0x37ff1d(0x8ab)]=!![];allProjects[_0x37ff1d(0xab1)]===0x0?_0x218d87[_0x37ff1d(0xcd8)]=_0x37ff1d(0x946):(_0x218d87[_0x37ff1d(0xcd8)]=_0x37ff1d(0x2aa)+allProjects[_0x37ff1d(0x618)](_0x18e194=>_0x37ff1d(0x9dd)+_0x18e194['id']+'\x22>'+_0x18e194[_0x37ff1d(0x30b)]+_0x37ff1d(0xba6))[_0x37ff1d(0xd29)](''),_0xd73f89['disabled']=![]);_0x44683e[_0x37ff1d(0x517)][_0x37ff1d(0x1b5)](_0x37ff1d(0x44c));const _0x50c7c3=async()=>{const _0x15c8e0=_0x37ff1d,_0x1866df=_0x218d87[_0x15c8e0(0xa21)];if(!_0x1866df){showMessage(_0x15c8e0(0x998));return;}_0x44683e[_0x15c8e0(0x517)][_0x15c8e0(0x546)](_0x15c8e0(0x44c)),await loadProjectDetails(_0x1866df),showView(_0x15c8e0(0x682)),handleGenerateQuizFromBlueprintTopic(_0x28986e),_0x4fc415();},_0x4fc415=()=>{const _0x548587=_0x37ff1d;_0x314b70['textContent']=_0x548587(0x6e0),_0xd73f89[_0x548587(0x806)]=_0x548587(0x205),_0xd73f89[_0x548587(0xcab)](_0x548587(0xc20),_0x50c7c3),_0x56509c[_0x548587(0xcab)]('click',_0x4fc415),_0xd73f89['addEventListener'](_0x548587(0xc20),confirmMoveQuiz);};_0xd73f89[_0x37ff1d(0xcab)](_0x37ff1d(0xc20),confirmMoveQuiz),_0xd73f89[_0x37ff1d(0x8de)](_0x37ff1d(0xc20),_0x50c7c3),_0x56509c[_0x37ff1d(0x8de)](_0x37ff1d(0xc20),_0x4fc415);}function showStudentLiveQuestionView(_0x314975,_0x4b9ce9,_0x186089){const _0x1e041a=_0x1f917e,_0x239d0d=_0x314975[_0x1e041a(0x789)]||currentQuizData[_0x1e041a(0x13d)];let _0x591e5c='';if(_0x239d0d===_0x1e041a(0x29d)||_0x239d0d===_0x1e041a(0x475)){const _0x252467=_0x239d0d===_0x1e041a(0x475)?['ใช่',_0x1e041a(0x538)]:_0x314975[_0x1e041a(0xae7)];_0x591e5c=_0x252467['map']((_0x5d0d3e,_0x8936db)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x8936db+_0x1e041a(0xd21)+_0x5d0d3e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1e041a(0xd29)]('');}else{if(_0x239d0d===_0x1e041a(0x4c9)){const _0x37cedc=_0x314975['allResponses']||[];_0x591e5c=_0x37cedc['map']((_0x32e14f,_0x2cbb7e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2cbb7e+_0x1e041a(0xd21)+_0x32e14f+_0x1e041a(0x2cc))[_0x1e041a(0xd29)]('');}else _0x239d0d===_0x1e041a(0x48c)&&(_0x591e5c=_0x1e041a(0x58d));}const _0x1c5a3c=_0x314975[_0x1e041a(0x629)]||_0x314975[_0x1e041a(0x551)],_0x564007=_0x1e041a(0x635)+(_0x4b9ce9+0x1)+_0x1e041a(0x4b8)+_0x186089+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1c5a3c+_0x1e041a(0xa25)+_0x591e5c+_0x1e041a(0xb51);liveGameView[_0x1e041a(0xcd8)]=_0x564007;window[_0x1e041a(0x13e)]&&MathJax[_0x1e041a(0xbc4)]&&MathJax[_0x1e041a(0xbc4)]([liveGameView]);const _0x24478c=document[_0x1e041a(0x2bc)](_0x1e041a(0x364));_0x24478c&&_0x24478c[_0x1e041a(0x8de)]('click',()=>{const _0x2ca538=_0x1e041a,_0x2c2c05=document[_0x2ca538(0x2bc)](_0x2ca538(0x76e))[_0x2ca538(0xa21)];handleLiveAnswer(_0x2c2c05,_0x314975);}),document[_0x1e041a(0x2bc)](_0x1e041a(0x7a7))['addEventListener']('click',_0x57d884=>{const _0x4a9c0b=_0x1e041a,_0x4fea12=_0x57d884[_0x4a9c0b(0x97d)][_0x4a9c0b(0x634)]('.live-answer-btn');if(_0x4fea12){const _0x2e0986=parseInt(_0x4fea12[_0x4a9c0b(0x4e3)]['index']);handleLiveAnswer(_0x2e0986,_0x314975);}});}function listenForBlueprintShortcuts(){const _0x4f6869=_0x1f917e,_0x393b9b=doc(db,_0x4f6869(0x214),_0x4f6869(0x6b4));onSnapshot(_0x393b9b,_0x3e6f70=>{const _0x5378b6=_0x4f6869;let _0x322673=[],_0x13d76c=[],_0x331be5={};if(_0x3e6f70[_0x5378b6(0x485)]()){const _0x70edc0=_0x3e6f70[_0x5378b6(0x923)]();_0x322673=_0x70edc0['blueprintShortcuts']||[],_0x13d76c=_0x70edc0[_0x5378b6(0x8ac)]||[],_0x331be5=_0x70edc0[_0x5378b6(0x824)]||{};}!_0x13d76c[_0x5378b6(0xaa2)](_0x4a89d3=>_0x4a89d3['id']===_0x5378b6(0x8bd))&&_0x13d76c['unshift']({'id':_0x5378b6(0x8bd),'name':_0x5378b6(0x9f9),'isDefault':!![]}),!_0x322673['find'](_0x5a91ce=>_0x5a91ce['id']===_0x5378b6(0x7d9))&&_0x322673[_0x5378b6(0xb94)]({'id':_0x5378b6(0x7d9),'name':_0x5378b6(0xa66),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x322673['find'](_0xb49cee=>_0xb49cee['id']===_0x5378b6(0x915))&&_0x322673[_0x5378b6(0xb94)]({'id':_0x5378b6(0x915),'name':_0x5378b6(0x893),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x322673,shortcutTabs=_0x13d76c,shortcutOrder=_0x331be5,renderBlueprintShortcuts(),!document[_0x5378b6(0x2bc)](_0x5378b6(0x43d))['classList'][_0x5378b6(0x7ab)](_0x5378b6(0x44c))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x55efbb=_0x1f917e,_0x387030=document[_0x55efbb(0x2bc)](_0x55efbb(0x3fa)),_0x12470b=document['getElementById'](_0x55efbb(0x995));if(!_0x387030||!_0x12470b)return;_0x387030[_0x55efbb(0xcd8)]=shortcutTabs[_0x55efbb(0x618)](_0x308303=>{const _0x1169aa=_0x55efbb,_0x38f41e=_0x308303['id']===activeShortcutTabId,_0x5b7cec=_0x1169aa(0x860),_0x3306eb=_0x1169aa(0x784);return _0x1169aa(0x81d)+_0x308303['id']+_0x1169aa(0x5a1)+(_0x38f41e?_0x5b7cec:_0x3306eb)+_0x1169aa(0x2d5)+_0x308303[_0x1169aa(0xc85)]+_0x1169aa(0xafa)+_0x308303[_0x1169aa(0xc85)]+_0x1169aa(0x605)+(!_0x308303[_0x1169aa(0x157)]?_0x1169aa(0xc16)+_0x308303['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x1169aa(0x3a4);})[_0x55efbb(0xd29)]('');const _0x4adb0c=shortcutTabs[_0x55efbb(0xaa2)](_0x167c9b=>_0x167c9b['id']===activeShortcutTabId);let _0x4627f0=[];if(_0x4adb0c){if(_0x4adb0c[_0x55efbb(0x157)])_0x4627f0=[...blueprintShortcuts];else{const _0x3951a9=_0x4adb0c[_0x55efbb(0x920)]||[];_0x4627f0=blueprintShortcuts[_0x55efbb(0xa7a)](_0x1166fd=>_0x3951a9['includes'](_0x1166fd['id']));}}const _0x24ecb1=shortcutOrder[activeShortcutTabId]||[];_0x4627f0[_0x55efbb(0x817)]((_0x3d30fc,_0x4eab01)=>{const _0x3fd99e=_0x55efbb,_0x1ae5ba=_0x24ecb1['indexOf'](_0x3d30fc['id']),_0x4e78cb=_0x24ecb1[_0x3fd99e(0xb3b)](_0x4eab01['id']);if(_0x1ae5ba===-0x1)return 0x1;if(_0x4e78cb===-0x1)return-0x1;return _0x1ae5ba-_0x4e78cb;}),_0x12470b[_0x55efbb(0xcd8)]=_0x4627f0[_0x55efbb(0xab1)]>0x0?_0x4627f0[_0x55efbb(0x618)](_0x4c380b=>{const _0x3ded60=_0x55efbb;let _0xc4558d='🧩';if(_0x4c380b[_0x3ded60(0x9f4)]&&_0x4c380b[_0x3ded60(0x56c)])_0xc4558d='📗';else{if(_0x4c380b[_0x3ded60(0x9f4)])_0xc4558d='📘';}const _0x2341b1=shortcutTabs[_0x3ded60(0xa7a)](_0xcd5d9=>!_0xcd5d9[_0x3ded60(0x157)]),_0x18f695=_0x4adb0c[_0x3ded60(0x157)]&&_0x2341b1[_0x3ded60(0xab1)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2341b1[_0x3ded60(0x618)](_0x5e45a8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x4c380b['id']+'\x22\x20data-target-tab-id=\x22'+_0x5e45a8['id']+'\x22>'+_0x5e45a8[_0x3ded60(0xc85)]+_0x3ded60(0x3da))[_0x3ded60(0xd29)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x3ded60(0x986)+_0x4c380b['id']+_0x3ded60(0x57f)+_0xc4558d+'\x20'+_0x4c380b[_0x3ded60(0xc85)]+_0x3ded60(0x42b)+_0x4c380b['id']+_0x3ded60(0x5b1)+_0x4c380b['id']+_0x3ded60(0xb17)+(!_0x4c380b['isDefault']?_0x3ded60(0x64c)+_0x4c380b['id']+_0x3ded60(0x1bd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4adb0c['isDefault']?_0x3ded60(0x8c7)+_0x4c380b['id']+_0x3ded60(0x937):'')+_0x3ded60(0x2c7)+_0x18f695+_0x3ded60(0x5de);})[_0x55efbb(0xd29)](''):_0x55efbb(0x8e9),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x53440b=_0x1f917e;document['querySelectorAll'](_0x53440b(0x26c))[_0x53440b(0x229)](_0x238690=>{const _0x2474a0=_0x53440b;_0x238690[_0x2474a0(0x8de)](_0x2474a0(0xc20),_0x140ef1=>{const _0xa6ad57=_0x2474a0;activeShortcutTabId=_0x140ef1[_0xa6ad57(0xa9d)][_0xa6ad57(0x4e3)][_0xa6ad57(0xc69)],renderAdditionalShortcutsModal();}),_0x238690[_0x2474a0(0x8de)](_0x2474a0(0x81e),_0x588d1d=>{const _0x1eda92=_0x2474a0,_0x22b586=_0x588d1d[_0x1eda92(0xa9d)];_0x22b586[_0x1eda92(0x22d)](_0x1eda92(0xb3e))['classList'][_0x1eda92(0x546)](_0x1eda92(0x44c));const _0xd16ab=_0x22b586[_0x1eda92(0x22d)](_0x1eda92(0xc27));_0xd16ab[_0x1eda92(0x517)][_0x1eda92(0x1b5)](_0x1eda92(0x44c)),_0xd16ab[_0x1eda92(0x274)](),_0xd16ab['select']();});}),document[_0x53440b(0x362)]('.tab-name-input')['forEach'](_0x7a0abd=>{const _0x5b58ef=_0x53440b,_0x4f0d97=()=>{const _0x1d16be=_0x36ac,_0x67f8f6=_0x7a0abd[_0x1d16be(0x634)](_0x1d16be(0x26c))[_0x1d16be(0x4e3)][_0x1d16be(0xc69)];handleRenameShortcutTab(_0x67f8f6,_0x7a0abd[_0x1d16be(0xa21)]);};_0x7a0abd[_0x5b58ef(0x8de)](_0x5b58ef(0x466),_0x4f0d97),_0x7a0abd[_0x5b58ef(0x8de)](_0x5b58ef(0xa65),_0x2dce27=>{const _0x2fc5a7=_0x5b58ef;if(_0x2dce27[_0x2fc5a7(0x745)]===_0x2fc5a7(0x457))_0x7a0abd[_0x2fc5a7(0x466)]();});}),document[_0x53440b(0x362)]('.delete-shortcut-tab-btn')[_0x53440b(0x229)](_0x669091=>{const _0x43cb1a=_0x53440b;_0x669091[_0x43cb1a(0x8de)](_0x43cb1a(0xc20),_0x104cbf=>handleDeleteShortcutTab(_0x104cbf[_0x43cb1a(0xa9d)]['dataset'][_0x43cb1a(0xc69)]));}),document[_0x53440b(0x362)](_0x53440b(0x184))[_0x53440b(0x229)](_0x52f313=>{const _0x3f97df=_0x53440b;_0x52f313[_0x3f97df(0x8de)]('click',_0x181a23=>{const _0x3af5f6=_0x3f97df;_0x181a23[_0x3af5f6(0x9f2)]();const {shortcutId:_0x367992,targetTabId:_0x2cd9f8}=_0x181a23['currentTarget']['dataset'];handleMoveShortcutToTab(_0x367992,_0x2cd9f8);});}),document[_0x53440b(0x362)]('.remove-shortcut-from-tab-btn')[_0x53440b(0x229)](_0x3ab6f7=>{const _0x29322e=_0x53440b;_0x3ab6f7['addEventListener'](_0x29322e(0xc20),_0x1fd0f6=>{const _0x4b72bf=_0x29322e;handleRemoveShortcutFromTab(_0x1fd0f6['currentTarget'][_0x4b72bf(0x4e3)][_0x4b72bf(0x515)],activeShortcutTabId);});});const _0x97d9fc=document[_0x53440b(0x2bc)]('additional-shortcuts-list');_0x97d9fc[_0x53440b(0x362)]('.use-hidden-shortcut-btn')['forEach'](_0x4bc314=>{const _0x36b521=_0x53440b;_0x4bc314[_0x36b521(0x8de)](_0x36b521(0xc20),()=>{const _0x18c093=_0x36b521;document[_0x18c093(0x2bc)]('additional-shortcuts-modal')[_0x18c093(0x517)][_0x18c093(0x546)](_0x18c093(0x44c)),handleShortcutClick(_0x4bc314['dataset']['id']);});});let _0x29b2d5=null;_0x97d9fc['addEventListener']('dragstart',_0x35ddf7=>{const _0x5f2b12=_0x53440b;_0x29b2d5=_0x35ddf7[_0x5f2b12(0x97d)][_0x5f2b12(0x634)](_0x5f2b12(0xa53)),_0x29b2d5&&setTimeout(()=>_0x29b2d5['classList'][_0x5f2b12(0x546)](_0x5f2b12(0x1b3)),0x0);}),_0x97d9fc[_0x53440b(0x8de)](_0x53440b(0x60b),()=>{const _0x3afa36=_0x53440b;_0x29b2d5&&(_0x29b2d5[_0x3afa36(0x517)][_0x3afa36(0x1b5)]('opacity-50'),_0x29b2d5=null);}),_0x97d9fc[_0x53440b(0x8de)](_0x53440b(0xbf5),_0x531883=>{const _0x4c96ae=_0x53440b;_0x531883[_0x4c96ae(0x9f2)]();const _0xf2ccbb=[..._0x97d9fc[_0x4c96ae(0x362)](_0x4c96ae(0x96b))]['reduce']((_0x350c1a,_0x3cd3b0)=>{const _0x170d2d=_0x4c96ae,_0x641052=_0x3cd3b0[_0x170d2d(0x263)](),_0x2e4d3c=_0x531883[_0x170d2d(0xb68)]-_0x641052['top']-_0x641052[_0x170d2d(0x8e4)]/0x2;return _0x2e4d3c<0x0&&_0x2e4d3c>_0x350c1a[_0x170d2d(0xd0d)]?{'offset':_0x2e4d3c,'element':_0x3cd3b0}:_0x350c1a;},{'offset':Number[_0x4c96ae(0x92a)]})['element'];_0xf2ccbb==null?_0x97d9fc[_0x4c96ae(0x289)](_0x29b2d5):_0x97d9fc[_0x4c96ae(0x98d)](_0x29b2d5,_0xf2ccbb);}),_0x97d9fc[_0x53440b(0x8de)](_0x53440b(0xc90),_0x59edfd=>{const _0x32c3cd=_0x53440b;_0x59edfd[_0x32c3cd(0x9f2)]();if(_0x29b2d5){const _0x3a37e5=[..._0x97d9fc[_0x32c3cd(0x362)](_0x32c3cd(0xa53))][_0x32c3cd(0x618)](_0xbd31e9=>_0xbd31e9[_0x32c3cd(0x4e3)][_0x32c3cd(0x515)]);handleShortcutOrderChange(activeShortcutTabId,_0x3a37e5);}}),document[_0x53440b(0x362)](_0x53440b(0x7b5))['forEach'](_0xd85f18=>{const _0x427987=_0x53440b;_0xd85f18[_0x427987(0x8de)](_0x427987(0xc20),_0xec0685=>{const _0x482961=_0x427987;_0xec0685[_0x482961(0x71b)]();const _0x173bcf=_0xec0685[_0x482961(0xa9d)][_0x482961(0xbe5)],_0xd1ac9f=_0x173bcf['classList'][_0x482961(0x7ab)](_0x482961(0x44c));document[_0x482961(0x362)](_0x482961(0x727))[_0x482961(0x229)](_0x49083f=>_0x49083f[_0x482961(0x517)][_0x482961(0x546)](_0x482961(0x44c))),_0xd1ac9f&&_0x173bcf[_0x482961(0x517)]['remove'](_0x482961(0x44c));});});}document[_0x1f917e(0x8de)](_0x1f917e(0xc20),_0x95a03f=>{const _0x2ae3e4=_0x1f917e;!_0x95a03f[_0x2ae3e4(0x97d)][_0x2ae3e4(0x634)](_0x2ae3e4(0x14f))&&document[_0x2ae3e4(0x362)](_0x2ae3e4(0x727))[_0x2ae3e4(0x229)](_0x557189=>_0x557189[_0x2ae3e4(0x517)][_0x2ae3e4(0x546)](_0x2ae3e4(0x44c)));});async function saveShortcutConfig(){const _0x2b8d51=_0x1f917e,_0x29724a=doc(db,_0x2b8d51(0x214),'dashboardConfig');try{await setDoc(_0x29724a,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x339da6){console[_0x2b8d51(0x512)]('Error\x20saving\x20shortcut\x20config:',_0x339da6);}}async function handleAddShortcutTab(){const _0x50c1ce=_0x1f917e,_0x53a7a3=prompt(_0x50c1ce(0xc42),_0x50c1ce(0x463));if(!_0x53a7a3||_0x53a7a3[_0x50c1ce(0x1df)]()==='')return;shortcutTabs['push']({'id':'tab_'+Date[_0x50c1ce(0x58e)](),'name':_0x53a7a3['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x3f6713,_0x25a3e8){const _0x380323=_0x1f917e,_0x171696=shortcutTabs[_0x380323(0xaa2)](_0x289d7b=>_0x289d7b['id']===_0x3f6713);_0x171696&&_0x25a3e8['trim']()!==''&&(_0x171696[_0x380323(0xc85)]=_0x25a3e8['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x5b2eef){const _0x3a99d5=_0x1f917e,_0x24009b=shortcutTabs[_0x3a99d5(0xaa2)](_0x2943b3=>_0x2943b3['id']===_0x5b2eef);_0x24009b&&!_0x24009b['isDefault']&&showConfirmation(_0x3a99d5(0x4d9)+_0x24009b[_0x3a99d5(0xc85)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x4a5fbe=_0x3a99d5;shortcutTabs=shortcutTabs[_0x4a5fbe(0xa7a)](_0x5977c2=>_0x5977c2['id']!==_0x5b2eef),delete shortcutOrder[_0x5b2eef];if(activeShortcutTabId===_0x5b2eef)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1b261a,_0x583fe0){const _0x2577ec=_0x1f917e,_0x531dd3=shortcutTabs[_0x2577ec(0xaa2)](_0x4d79d8=>_0x4d79d8['id']===_0x583fe0);_0x531dd3&&!_0x531dd3[_0x2577ec(0x920)][_0x2577ec(0x42a)](_0x1b261a)&&(_0x531dd3[_0x2577ec(0x920)][_0x2577ec(0xad2)](_0x1b261a),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x3ea065,_0x41f842){const _0x408cd5=_0x1f917e,_0x47de41=shortcutTabs['find'](_0x2edd34=>_0x2edd34['id']===_0x41f842);_0x47de41&&!_0x47de41['isDefault']&&(_0x47de41[_0x408cd5(0x920)]=_0x47de41[_0x408cd5(0x920)][_0x408cd5(0xa7a)](_0x41888f=>_0x41888f!==_0x3ea065),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x16a029,_0x5b2fc8){shortcutOrder[_0x16a029]=_0x5b2fc8,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x4a9a4e=_0x1f917e,_0x134433=document[_0x4a9a4e(0x2bc)](_0x4a9a4e(0xb41)),_0x4cc806=document['getElementById'](_0x4a9a4e(0x995)),_0x11bdfe=document[_0x4a9a4e(0x2bc)]('shortcuts-loading-msg');_0x11bdfe&&_0x11bdfe['classList'][_0x4a9a4e(0x546)]('hidden');if(!_0x134433||!_0x4cc806)return;const _0x1f8343=blueprintShortcuts[_0x4a9a4e(0x52a)](0x0,0x4),_0x4eba8c=blueprintShortcuts['slice'](0x4);_0x134433[_0x4a9a4e(0xcd8)]=_0x1f8343[_0x4a9a4e(0x618)](_0x1f614a=>{const _0x49c0f0=_0x4a9a4e;let _0x187618='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x502e68='🧩';if(_0x1f614a[_0x49c0f0(0x9f4)]&&_0x1f614a['referenceUrl'])_0x187618=_0x49c0f0(0x143),_0x502e68='📗';else _0x1f614a['blueprintUrl']&&(_0x187618=_0x49c0f0(0x835),_0x502e68='📘');const _0x528c6b=!_0x1f614a['isDefault']?_0x49c0f0(0x64c)+_0x1f614a['id']+_0x49c0f0(0x6a2):'';return _0x49c0f0(0x734)+_0x1f614a['id']+_0x49c0f0(0x497)+_0x187618+_0x49c0f0(0x87f)+_0x502e68+'\x20'+_0x1f614a[_0x49c0f0(0xc85)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1f614a['id']+_0x49c0f0(0x8a2)+_0x528c6b+_0x49c0f0(0x3a4);})['join'](''),_0x4eba8c[_0x4a9a4e(0xab1)]>0x0&&(_0x134433[_0x4a9a4e(0xcd8)]+=_0x4a9a4e(0x890)),_0x4eba8c[_0x4a9a4e(0xab1)]>0x0?_0x4cc806[_0x4a9a4e(0xcd8)]=_0x4eba8c['map'](_0x24e31a=>{const _0x32d4cb=_0x4a9a4e;let _0x26ea40='🧩';if(_0x24e31a[_0x32d4cb(0x9f4)]&&_0x24e31a['referenceUrl'])_0x26ea40='📗';else _0x24e31a['blueprintUrl']&&(_0x26ea40='📘');return _0x32d4cb(0xccc)+_0x26ea40+'\x20'+_0x24e31a[_0x32d4cb(0xc85)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24e31a['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24e31a['id']+_0x32d4cb(0xb17)+(!_0x24e31a[_0x32d4cb(0x157)]?'<button\x20data-id=\x22'+_0x24e31a['id']+_0x32d4cb(0x1bd):'')+_0x32d4cb(0xa12);})[_0x4a9a4e(0xd29)](''):_0x4cc806[_0x4a9a4e(0xcd8)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x229545){const _0x4f47bc=_0x1f917e,_0x4b4216=_0x229545[_0x4f47bc(0x9b1)]('.')['pop']()['toLowerCase']();switch(_0x4b4216){case _0x4f47bc(0x152):return _0x4f47bc(0x453);case'txt':return _0x4f47bc(0xd20);default:return _0x4f47bc(0x453);}}function openShortcutEditor(_0x55810d=null){const _0x39dc5f=_0x1f917e,_0xbda088=document['getElementById'](_0x39dc5f(0xb65)),_0x272b4a=document[_0x39dc5f(0x2bc)](_0x39dc5f(0x9c3)),_0x3a2af2=document[_0x39dc5f(0x2bc)](_0x39dc5f(0x47e)),_0x92cea9=document[_0x39dc5f(0x2bc)](_0x39dc5f(0x9a4)),_0x2c0744=document['getElementById'](_0x39dc5f(0x36d)),_0x203195=document[_0x39dc5f(0x2bc)](_0x39dc5f(0x17f));if(_0x55810d){const _0x96e7a9=blueprintShortcuts[_0x39dc5f(0xaa2)](_0x1a47eb=>_0x1a47eb['id']===_0x55810d);if(!_0x96e7a9)return;_0x272b4a[_0x39dc5f(0x806)]='แก้ไขปุ่มลัด',_0x3a2af2['value']=_0x96e7a9['id'],_0x92cea9['value']=_0x96e7a9[_0x39dc5f(0xc85)],_0x2c0744[_0x39dc5f(0xa21)]=_0x96e7a9[_0x39dc5f(0x9f4)]||'',_0x203195[_0x39dc5f(0xa21)]=_0x96e7a9['referenceUrl']||'';}else _0x272b4a[_0x39dc5f(0x806)]=_0x39dc5f(0x94b),_0x3a2af2[_0x39dc5f(0xa21)]='',_0x92cea9['value']='',_0x2c0744[_0x39dc5f(0xa21)]='',_0x203195[_0x39dc5f(0xa21)]='';_0xbda088[_0x39dc5f(0x517)][_0x39dc5f(0x1b5)](_0x39dc5f(0x44c));}async function saveShortcutChanges(){const _0x58efba=_0x1f917e,_0x3e2d31=document['getElementById'](_0x58efba(0x47e))[_0x58efba(0xa21)],_0x572dd1=document[_0x58efba(0x2bc)]('shortcut-name-input')[_0x58efba(0xa21)][_0x58efba(0x1df)](),_0x22bbd6=document['getElementById'](_0x58efba(0x36d))[_0x58efba(0xa21)][_0x58efba(0x1df)]();if(!_0x572dd1||!_0x22bbd6){showMessage(_0x58efba(0x1c4));return;}const _0x139632={'id':_0x3e2d31||_0x58efba(0x72a)+Date[_0x58efba(0x58e)](),'name':_0x572dd1,'blueprintUrl':_0x22bbd6,'referenceUrl':document['getElementById'](_0x58efba(0x17f))[_0x58efba(0xa21)][_0x58efba(0x1df)](),'isDefault':_0x3e2d31[_0x58efba(0x88f)](_0x58efba(0x30c))};let _0x485aef;_0x3e2d31?_0x485aef=blueprintShortcuts['map'](_0x308578=>_0x308578['id']===_0x3e2d31?_0x139632:_0x308578):_0x485aef=[...blueprintShortcuts,_0x139632];try{const _0x4d6d81=doc(db,_0x58efba(0x214),'dashboardConfig');await setDoc(_0x4d6d81,{'blueprintShortcuts':_0x485aef},{'merge':!![]}),document[_0x58efba(0x2bc)](_0x58efba(0xb65))[_0x58efba(0x517)]['add']('hidden');}catch(_0x578e47){console[_0x58efba(0x512)](_0x58efba(0x90c),_0x578e47),showMessage(_0x58efba(0x503));}}async function handleShortcutClick(_0x291e3c){const _0x244736=_0x1f917e,_0x1a0e78=blueprintShortcuts[_0x244736(0xaa2)](_0x4d46f9=>_0x4d46f9['id']===_0x291e3c);if(!_0x1a0e78||!_0x1a0e78['blueprintUrl'])return;document['getElementById'](_0x244736(0x268))[_0x244736(0x517)][_0x244736(0x546)](_0x244736(0x44c)),document[_0x244736(0x2bc)](_0x244736(0xb44))[_0x244736(0x8ab)]=!![];const _0x51b1d1=document[_0x244736(0x2bc)](_0x244736(0x70f)),_0x48eeab=document[_0x244736(0x2bc)](_0x244736(0x626));document[_0x244736(0x2bc)](_0x244736(0x83c))[_0x244736(0x517)][_0x244736(0x1b5)](_0x244736(0x44c)),document['getElementById'](_0x244736(0x613))[_0x244736(0xcd8)]='',_0x51b1d1[_0x244736(0x517)][_0x244736(0x1b5)]('hidden');try{_0x48eeab[_0x244736(0x806)]=_0x244736(0x196);const _0x2868f8=await fetchFileFromUrl(_0x1a0e78[_0x244736(0x9f4)],_0x244736(0x8b2));let _0x1b6fca=null;if(_0x1a0e78[_0x244736(0x56c)]){_0x48eeab['textContent']='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x2ca02f=_0x1a0e78[_0x244736(0x56c)][_0x244736(0x281)]()[_0x244736(0xa99)](_0x244736(0x856))?_0x244736(0xa1e):_0x244736(0x7ff);_0x1b6fca=await fetchFileFromUrl(_0x1a0e78[_0x244736(0x56c)],_0x2ca02f);}await handleGenerateFromBlueprintWithFiles(_0x2868f8,_0x1b6fca);}catch(_0x162e38){console['error'](_0x244736(0x6a1),_0x162e38),showMessage(_0x244736(0xade)+_0x162e38[_0x244736(0xaf3)]),_0x51b1d1[_0x244736(0x517)]['add'](_0x244736(0x44c));}}function getDirectDownloadUrl(_0x18921e){const _0x2aaa38=_0x1f917e,_0x29ad0e=_0x18921e[_0x2aaa38(0x7d2)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x29ad0e&&_0x29ad0e[0x1])return _0x2aaa38(0xa71)+_0x29ad0e[0x1];return _0x18921e;}async function fetchFileFromUrl(_0x309ec9,_0x54b299){const _0x554ab4=_0x1f917e,_0x5cc341=getDirectDownloadUrl(_0x309ec9),_0x467f48=_0x554ab4(0x99c)+encodeURIComponent(_0x5cc341),_0x1e6a16=await fetch(_0x467f48);if(!_0x1e6a16['ok'])throw new Error(_0x554ab4(0x4bf)+_0x1e6a16[_0x554ab4(0x845)]+')');const _0x495f80=await _0x1e6a16[_0x554ab4(0x3a7)](),_0x57deb0=await new Promise((_0x3f4737,_0x3b2ede)=>{const _0x166064=_0x554ab4,_0x2a7778=new FileReader();_0x2a7778[_0x166064(0xc1a)]=()=>_0x3f4737(new Uint8Array(_0x2a7778[_0x166064(0x4c8)])),_0x2a7778[_0x166064(0x8f2)]=_0x3b2ede,_0x2a7778[_0x166064(0x5fe)](_0x495f80['slice'](0x0,0x4));});let _0x383660='';const _0x28443c=new TextDecoder()[_0x554ab4(0xa2a)](_0x57deb0);return _0x28443c===_0x554ab4(0x6ee)?(_0x383660=_0x554ab4(0x453),console[_0x554ab4(0x16e)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x383660=_0x554ab4(0xd20),console[_0x554ab4(0x16e)](_0x554ab4(0x176))),new File([_0x495f80],_0x54b299,{'type':_0x383660});}async function handleGenerateFromBlueprintWithFiles(_0x4056f0,_0x16d7d9=null){const _0x1e1ecb=_0x1f917e;if(!_0x4056f0){showMessage(_0x1e1ecb(0xa08));return;}const _0x13846c=document[_0x1e1ecb(0x2bc)]('loader'),_0x32df5c=document['getElementById'](_0x1e1ecb(0x626));_0x13846c[_0x1e1ecb(0x517)][_0x1e1ecb(0x1b5)](_0x1e1ecb(0x44c)),document['getElementById']('quiz-generation-area')['classList'][_0x1e1ecb(0x1b5)]('hidden'),document[_0x1e1ecb(0x2bc)](_0x1e1ecb(0x613))[_0x1e1ecb(0xcd8)]='';try{_0x32df5c[_0x1e1ecb(0x806)]='กำลังอ่านไฟล์\x20Test\x20Blueprint...';const _0x1ba518=await new Promise((_0x18e58f,_0x4f4707)=>{const _0x199f11=_0x1e1ecb,_0x3f725d=new FileReader();_0x3f725d[_0x199f11(0x981)](_0x4056f0),_0x3f725d['onload']=()=>_0x18e58f(_0x3f725d[_0x199f11(0x4c8)]['split'](',')[0x1]),_0x3f725d[_0x199f11(0x8f2)]=_0x4f4707;}),_0x53fee0=[];if(_0x16d7d9){_0x32df5c[_0x1e1ecb(0x806)]=_0x1e1ecb(0x36b);const _0x2657a9=await _0x16d7d9[_0x1e1ecb(0xbaa)]();_0x53fee0[_0x1e1ecb(0xad2)]({'text':_0x1e1ecb(0xb2e)+_0x2657a9});}const _0x5389c5=[{'text':_0x1e1ecb(0xada)},{'inlineData':{'mimeType':_0x4056f0[_0x1e1ecb(0x903)],'data':_0x1ba518}},..._0x53fee0];await handleGenerateFromBlueprint(_0x5389c5);}catch(_0x5e3a94){console[_0x1e1ecb(0x512)](_0x1e1ecb(0xca3),_0x5e3a94),showMessage(_0x1e1ecb(0xade)+_0x5e3a94[_0x1e1ecb(0xaf3)]),_0x13846c[_0x1e1ecb(0x517)][_0x1e1ecb(0x546)](_0x1e1ecb(0x44c));}}async function handleLiveAnswer(_0x246c8c,_0x3b3395){const _0x39a0ac=_0x1f917e;document[_0x39a0ac(0x362)](_0x39a0ac(0x3e4))[_0x39a0ac(0x229)](_0x3ce596=>_0x3ce596['disabled']=!![]);const _0x10577a=_0x3b3395[_0x39a0ac(0x789)]||currentQuizData[_0x39a0ac(0x13d)];let _0x552f4b=![],_0x3a3cac=_0x246c8c;if(_0x10577a===_0x39a0ac(0x48c)){const _0x12ffa0=(_0x246c8c||'')[_0x39a0ac(0x24a)]();_0x552f4b=await gradeShortAnswer(_0x12ffa0,_0x3b3395);}else{if(_0x10577a==='multiple_choice')_0x552f4b=_0x246c8c===_0x3b3395[_0x39a0ac(0x16b)];else{if(_0x10577a===_0x39a0ac(0x475)){const _0x2c1048=_0x3b3395['correctAnswer'];_0x552f4b=_0x246c8c===0x0&&_0x2c1048||_0x246c8c===0x1&&!_0x2c1048;}else{if(_0x10577a===_0x39a0ac(0x4c9)){const _0x1363dc=_0x3b3395['allResponses'][_0x246c8c];_0x552f4b=_0x1363dc===_0x3b3395['correctResponse'],_0x3a3cac=_0x1363dc;}}}}const _0x1f26a1=doc(db,_0x39a0ac(0x366)+appId+_0x39a0ac(0x447),currentLiveGameId),_0x5719fc={};_0x5719fc[_0x39a0ac(0xbad)+currentStudentName+_0x39a0ac(0xab6)]=!![],_0x5719fc[_0x39a0ac(0xbad)+currentStudentName+_0x39a0ac(0x23b)]=_0x552f4b,_0x5719fc[_0x39a0ac(0xbad)+currentStudentName+_0x39a0ac(0xc46)]=_0x10577a==='short_answer'||_0x10577a===_0x39a0ac(0x4c9)?null:_0x246c8c,_0x5719fc[_0x39a0ac(0xbad)+currentStudentName+_0x39a0ac(0x8f4)]=_0x3a3cac,_0x5719fc[_0x39a0ac(0xbad)+currentStudentName+_0x39a0ac(0xbef)]=serverTimestamp(),_0x5719fc[_0x39a0ac(0xbad)+currentStudentName+_0x39a0ac(0x22f)]=![],await updateDoc(_0x1f26a1,_0x5719fc),liveGameView['innerHTML']=_0x39a0ac(0x884);}function showAdminSummaryView(_0x7b7ba8,_0x48d372){const _0x1da26c=_0x1f917e,_0x51a404=Object['values'](_0x7b7ba8[_0x1da26c(0x81b)]||{}),_0x5784d1=_0x48d372['questionType']||currentQuizData['quizType'],_0x52ce6c=_0x5784d1==='true_false'?[_0x1da26c(0xab0),'ไม่ใช่']:_0x48d372[_0x1da26c(0xae7)]||_0x48d372['allResponses']||[],_0xc5bd75={},_0x35bde2=new Array(_0x52ce6c[_0x1da26c(0xab1)])[_0x1da26c(0x1d4)](0x0);_0x52ce6c['forEach']((_0x2adf6b,_0x9e4caa)=>{_0xc5bd75[_0x9e4caa]=[];}),Object[_0x1da26c(0x9c8)](_0x7b7ba8[_0x1da26c(0x81b)]||{})[_0x1da26c(0x229)](([_0x3de911,_0x2efe7d])=>{const _0x273149=_0x1da26c;if(_0x2efe7d[_0x273149(0x845)]===_0x273149(0x50f)&&_0x2efe7d[_0x273149(0xa9f)]!==undefined){const _0xc1cbe0=_0x2efe7d[_0x273149(0xa9f)];_0xc5bd75[_0xc1cbe0]&&(_0xc5bd75[_0xc1cbe0][_0x273149(0xad2)](_0x3de911),_0x35bde2[_0xc1cbe0]++);}});const _0x5ada0e=Math['max'](..._0x35bde2,0x1),_0x28f1ce=_0x1da26c(0x304)+(_0x48d372['stem']||_0x48d372['questionText'])+_0x1da26c(0x28f)+_0x35bde2[_0x1da26c(0x618)]((_0x21e057,_0x45c013)=>{const _0x7c15d2=_0x1da26c,_0x43eb5c=_0xc5bd75[_0x45c013][_0x7c15d2(0xab1)]>0x0?_0xc5bd75[_0x45c013][_0x7c15d2(0xd29)](',\x20'):_0x7c15d2(0x8f0);let _0xe8db8a=![];if(_0x5784d1===_0x7c15d2(0x29d))_0xe8db8a=_0x45c013===_0x48d372[_0x7c15d2(0x16b)];else{if(_0x5784d1==='true_false'){const _0xce264a=_0x48d372['correctAnswer'];_0xe8db8a=_0xce264a&&_0x45c013===0x0||!_0xce264a&&_0x45c013===0x1;}else _0x5784d1==='matching_item'&&(_0xe8db8a=_0x52ce6c[_0x45c013]===_0x48d372['correctResponse']);}const _0x1be483=_0xe8db8a?_0x7c15d2(0x1b9):'#e21b3c';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x21e057+_0x7c15d2(0x615)+_0x1be483+_0x7c15d2(0xccd)+_0x45c013+_0x7c15d2(0xbee)+_0x52ce6c[_0x45c013]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x45c013+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43eb5c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1da26c(0xcd8)]=_0x28f1ce;if(window['MathJax'])MathJax[_0x1da26c(0xbc4)]();document[_0x1da26c(0x2bc)](_0x1da26c(0xc47))[_0x1da26c(0x8de)]('click',async()=>{const _0x3e7cfb=_0x1da26c,_0x52fbe0=doc(db,_0x3e7cfb(0x366)+appId+_0x3e7cfb(0x447),currentLiveGameId);await updateDoc(_0x52fbe0,{'questionStatus':_0x3e7cfb(0xa8c)});}),document[_0x1da26c(0x2bc)](_0x1da26c(0x153))[_0x1da26c(0x8de)](_0x1da26c(0xc20),()=>{openScratchpad(_0x48d372,_0x52ce6c);});}function showPlayerSummaryView(_0x4b7705,_0x469c98){const _0x36ed6c=_0x1f917e,_0x30aaa3=Object[_0x36ed6c(0x631)](_0x4b7705[_0x36ed6c(0x81b)]||{}),_0x51a5a5=_0x4b7705['players'][_0x469c98],_0x3a1a6e=_0x30aaa3[_0x36ed6c(0xa7a)](_0x4e0e54=>_0x4e0e54[_0x36ed6c(0x845)]==='active')['sort']((_0x59f9e0,_0x5dbfd1)=>_0x5dbfd1['score']-_0x59f9e0[_0x36ed6c(0xa20)]),_0x59f708=_0x3a1a6e['findIndex'](_0x382b44=>_0x382b44===_0x51a5a5)+0x1,_0x35647c=_0x51a5a5[_0x36ed6c(0x7d5)]?_0x36ed6c(0x5b9):_0x36ed6c(0x34d),_0x28931f=_0x51a5a5[_0x36ed6c(0x7d5)]?_0x36ed6c(0x52c):_0x36ed6c(0x2ca),_0x41d102=_0x51a5a5[_0x36ed6c(0x95c)]||0x0,_0x5d3948=_0x36ed6c(0xb91),_0x5a7644=_0x36ed6c(0x467)+_0x5d3948+_0x36ed6c(0x4a7)+_0x28931f+_0x36ed6c(0x69a)+_0x35647c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x41d102+_0x36ed6c(0x735)+(_0x59f708>0x0?_0x59f708:'-')+_0x36ed6c(0x173);liveGameView[_0x36ed6c(0xcd8)]=_0x5a7644;}function createQuizFromBank(){const _0x7fbd1c=_0x1f917e,_0x55945c=document['querySelectorAll'](_0x7fbd1c(0xc39));if(_0x55945c[_0x7fbd1c(0xab1)]===0x0){showMessage(_0x7fbd1c(0x332));return;}const _0x3e14d7=[];_0x55945c[_0x7fbd1c(0x229)](_0xa34c21=>{const _0x5e46e0=_0x7fbd1c;_0x3e14d7[_0x5e46e0(0xad2)](JSON[_0x5e46e0(0x195)](_0xa34c21[_0x5e46e0(0xa21)]));});const _0x2f5998={'topic':_0x7fbd1c(0x979),'questions':_0x3e14d7};displayGeneratedQuiz(_0x2f5998);}function showAdminLobbyView(_0x5c1f5e,_0x33e28d){const _0xe74c96=_0x1f917e;showView('live-game');const _0x44ae68=_0xe74c96(0x62d)+_0x33e28d+_0xe74c96(0xb5f)+_0x5c1f5e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xe74c96(0xcd8)]=_0x44ae68,document[_0xe74c96(0x2bc)](_0xe74c96(0x96d))[_0xe74c96(0x8de)](_0xe74c96(0xc20),async()=>{const _0x59fdd3=_0xe74c96;if(!currentQuizData||!currentQuizData[_0x59fdd3(0x320)]||currentQuizData[_0x59fdd3(0x320)][_0x59fdd3(0xab1)]===0x0){showMessage(_0x59fdd3(0x383));return;}try{const _0x39215d=doc(db,_0x59fdd3(0x366)+appId+_0x59fdd3(0x447),currentLiveGameId);await updateDoc(_0x39215d,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x22bbdd=currentQuizData[_0x59fdd3(0x320)][0x0],_0x51fcaf=currentQuizData[_0x59fdd3(0x320)]['length'];showAdminLiveQuestionView(_0x22bbdd,0x0,_0x51fcaf);}catch(_0x35581c){console[_0x59fdd3(0x512)]('Error\x20starting\x20game:',_0x35581c),showMessage(_0x59fdd3(0xaee));}});}async function openQuizBankModal(){const _0x111cee=_0x1f917e;if(allQuizzesGlobal[_0x111cee(0xab1)]===0x0){const _0x33093=await getDocs(collection(db,_0x111cee(0x366)+appId+_0x111cee(0xcbc)));allQuizzesGlobal=_0x33093[_0x111cee(0xac3)][_0x111cee(0x618)](_0xf99eff=>({'id':_0xf99eff['id'],..._0xf99eff[_0x111cee(0x923)]()}));}renderQuizBankList(''),document[_0x111cee(0x2bc)](_0x111cee(0xb48))[_0x111cee(0x517)][_0x111cee(0x1b5)](_0x111cee(0x44c));}function renderQuizBankList(_0x469a03='',_0x16d578=![]){const _0x2e90d5=_0x1f917e,_0x555655=document['getElementById'](_0x2e90d5(0xc84)),_0x2574ae=_0x469a03[_0x2e90d5(0x281)]()['trim'](),_0x4adae3=allQuizzesGlobal[_0x2e90d5(0x618)](_0x2bab4b=>({..._0x2bab4b,'projectName':allProjects[_0x2e90d5(0xaa2)](_0x354579=>_0x354579['id']===_0x2bab4b[_0x2e90d5(0x7f9)])?.[_0x2e90d5(0x30b)]||_0x2e90d5(0x95a)}))[_0x2e90d5(0xa7a)](_0x44e7b4=>(_0x44e7b4[_0x2e90d5(0x533)]||'')[_0x2e90d5(0x281)]()[_0x2e90d5(0x42a)](_0x2574ae)||(_0x44e7b4[_0x2e90d5(0x30b)]||'')[_0x2e90d5(0x281)]()['includes'](_0x2574ae)||_0x44e7b4['id'][_0x2e90d5(0x24a)]()[_0x2e90d5(0x42a)](_0x2574ae));document['getElementById']('quiz-bank-count')['textContent']='('+_0x4adae3[_0x2e90d5(0xab1)]+_0x2e90d5(0x3dc),_0x555655[_0x2e90d5(0xcd8)]=_0x4adae3[_0x2e90d5(0xab1)]?_0x4adae3[_0x2e90d5(0x618)](_0x2a36b9=>{const _0x538920=_0x2e90d5,_0x426c5a=!_0x16d578?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a36b9['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a36b9['id']+_0x538920(0x34e)+_0x2a36b9['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a36b9['id']+_0x538920(0x4ec)+_0x2a36b9['id']+_0x538920(0x7c8)+_0x2a36b9['id']+_0x538920(0x277)+_0x2a36b9[_0x538920(0x533)]+_0x538920(0xc8a):'';return _0x538920(0x97e)+_0x2a36b9['id']+_0x538920(0x20d)+(_0x2a36b9['topic']||_0x538920(0xc82))+_0x538920(0x34f)+(_0x2a36b9[_0x538920(0x320)]?.[_0x538920(0xab1)]||0x0)+_0x538920(0x1c0)+_0x2a36b9['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x2a36b9['id']+_0x538920(0x623)+_0x426c5a+_0x538920(0x52f);})[_0x2e90d5(0xd29)](''):_0x2e90d5(0x51f),!_0x16d578&&(_0x555655[_0x2e90d5(0x362)](_0x2e90d5(0xb9e))[_0x2e90d5(0x229)](_0x3a3a8e=>{const _0x3c61fc=_0x2e90d5;_0x3a3a8e['addEventListener'](_0x3c61fc(0xc20),()=>{const _0x8a9443=_0x3c61fc,_0x643a09=_0x3a3a8e['dataset']['id'];document[_0x8a9443(0x2bc)](_0x8a9443(0xb48))['classList']['add'](_0x8a9443(0x44c)),showQuizDetailView(_0x643a09);});}),_0x555655[_0x2e90d5(0x362)](_0x2e90d5(0x335))[_0x2e90d5(0x229)](_0x4278d5=>{const _0x46ebd9=_0x2e90d5;_0x4278d5['addEventListener'](_0x46ebd9(0xc20),_0x1ebc33=>{const _0x530c57=_0x46ebd9;_0x1ebc33[_0x530c57(0x71b)]();const _0x191284=_0x4278d5[_0x530c57(0x4e3)]['id'],_0x2be57a=allQuizzesGlobal[_0x530c57(0xaa2)](_0x12790b=>_0x12790b['id']===_0x191284);_0x2be57a?(currentQuizData=_0x2be57a,document[_0x530c57(0x2bc)]('quiz-bank-modal')[_0x530c57(0x517)][_0x530c57(0x546)]('hidden'),startAdminTest()):showMessage(_0x530c57(0x827));});}),_0x555655[_0x2e90d5(0x362)](_0x2e90d5(0xa75))[_0x2e90d5(0x229)](_0x54a080=>{const _0x1bfe26=_0x2e90d5;_0x54a080[_0x1bfe26(0x8de)]('click',_0x10e1eb=>{const _0x16aa74=_0x1bfe26;_0x10e1eb[_0x16aa74(0x71b)]();const _0x3c2ff7=_0x54a080[_0x16aa74(0x4e3)]['id'],_0x419a6e=allQuizzesGlobal[_0x16aa74(0xaa2)](_0x55c2e4=>_0x55c2e4['id']===_0x3c2ff7);_0x419a6e?(document[_0x16aa74(0x2bc)](_0x16aa74(0xb48))[_0x16aa74(0x517)][_0x16aa74(0x546)]('hidden'),handleGenerateParallelFromBank(_0x419a6e)):showMessage(_0x16aa74(0x827));});}),_0x555655[_0x2e90d5(0x362)]('.quiz-bank-present-btn')[_0x2e90d5(0x229)](_0x323f19=>{const _0x3ffd18=_0x2e90d5;_0x323f19[_0x3ffd18(0x8de)](_0x3ffd18(0xc20),_0x2a969b=>{const _0x3e152a=_0x3ffd18;_0x2a969b['stopPropagation']();const _0x10c903=_0x323f19[_0x3e152a(0x4e3)]['id'],_0x59673f=allQuizzesGlobal[_0x3e152a(0xaa2)](_0x1e605b=>_0x1e605b['id']===_0x10c903);_0x59673f?(document[_0x3e152a(0x2bc)](_0x3e152a(0xb48))[_0x3e152a(0x517)][_0x3e152a(0x546)](_0x3e152a(0x44c)),startPresentation(_0x59673f)):showMessage(_0x3e152a(0x827));});}),_0x555655[_0x2e90d5(0x362)](_0x2e90d5(0xb13))[_0x2e90d5(0x229)](_0xa270b5=>{const _0x47665d=_0x2e90d5;_0xa270b5[_0x47665d(0x8de)](_0x47665d(0xc20),_0x14b12d=>{const _0x16f700=_0x47665d;_0x14b12d['stopPropagation']();const _0x26bfdc=_0xa270b5['dataset']['id'];document[_0x16f700(0x2bc)](_0x16f700(0xb48))[_0x16f700(0x517)][_0x16f700(0x546)]('hidden'),handleMoveQuiz(_0x26bfdc);});}),_0x555655[_0x2e90d5(0x362)](_0x2e90d5(0xc02))[_0x2e90d5(0x229)](_0x5dd322=>{const _0x229096=_0x2e90d5;_0x5dd322[_0x229096(0x8de)](_0x229096(0xc20),_0x2861c5=>{const _0x4ef5ea=_0x229096;_0x2861c5[_0x4ef5ea(0x71b)]();const _0x3efe95=_0x5dd322[_0x4ef5ea(0x4e3)]['id'];document['getElementById']('quiz-bank-modal')['classList'][_0x4ef5ea(0x546)](_0x4ef5ea(0x44c)),handleQuizSettings(_0x3efe95);});}),_0x555655['querySelectorAll'](_0x2e90d5(0xb20))[_0x2e90d5(0x229)](_0x2585bd=>{const _0x18c095=_0x2e90d5;_0x2585bd[_0x18c095(0x8de)](_0x18c095(0xc20),_0x364d63=>{const _0x91914e=_0x18c095;_0x364d63[_0x91914e(0x71b)]();const _0x15b09f=_0x2585bd['dataset']['id'],_0x491338=_0x2585bd[_0x91914e(0x4e3)][_0x91914e(0x533)];showConfirmation(_0x91914e(0x7b7)+_0x491338+_0x91914e(0x78c),()=>handleDeleteQuiz(_0x15b09f));});}));}async function handleCompareResults(_0x3fba2e,_0x4dcf4c){const _0x59bb7b=_0x1f917e,_0x5ead0c=document[_0x59bb7b(0x2bc)](_0x59bb7b(0x4fa)),_0x5b8b87=document[_0x59bb7b(0x2bc)](_0x59bb7b(0x33d)),_0x2af804=document[_0x59bb7b(0x2bc)]('comparison-individual-content');document[_0x59bb7b(0x2bc)](_0x59bb7b(0x6e2))[_0x59bb7b(0x517)][_0x59bb7b(0x546)]('active'),document[_0x59bb7b(0x2bc)]('comparison-individual-tab')[_0x59bb7b(0x517)][_0x59bb7b(0x1b5)]('active'),_0x5b8b87[_0x59bb7b(0x517)][_0x59bb7b(0x1b5)](_0x59bb7b(0x44c)),_0x2af804['classList'][_0x59bb7b(0x546)]('hidden'),_0x5b8b87['innerHTML']=_0x59bb7b(0x415),_0x2af804[_0x59bb7b(0xcd8)]='',_0x5ead0c[_0x59bb7b(0x517)][_0x59bb7b(0x1b5)](_0x59bb7b(0x44c));try{const _0x2d7ee2=doc(db,_0x59bb7b(0x366)+appId+_0x59bb7b(0xcbc),_0x3fba2e),_0x50163a=await getDoc(_0x2d7ee2);if(!_0x50163a[_0x59bb7b(0x485)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x47246a=_0x50163a[_0x59bb7b(0x923)](),_0xe7fe49=_0x47246a['questions']['length'],_0x12c1b2=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4dcf4c+_0x59bb7b(0x9a3)),_0x1fac7b=collection(db,_0x59bb7b(0x366)+appId+_0x59bb7b(0x9ef)+_0x3fba2e+_0x59bb7b(0x9a3)),[_0x3dd0f8,_0x5e6e9c]=await Promise[_0x59bb7b(0x8bd)]([getDocs(_0x12c1b2),getDocs(_0x1fac7b)]),_0x18935f=_0x3dd0f8[_0x59bb7b(0xac3)][_0x59bb7b(0x618)](_0xb1dd80=>_0xb1dd80[_0x59bb7b(0x923)]()),_0xe88ae0=_0x5e6e9c[_0x59bb7b(0xac3)]['map'](_0x1ba539=>_0x1ba539[_0x59bb7b(0x923)]()),_0x3b6308=_0x18935f[_0x59bb7b(0x618)](_0x5b67b0=>_0x5b67b0[_0x59bb7b(0x2b2)]),_0x1500f6=_0xe88ae0[_0x59bb7b(0x618)](_0x35e865=>_0x35e865[_0x59bb7b(0x2b2)]),_0xb32365=calculateMeanAndStdDev(_0x3b6308),_0x5cf0eb=calculateMeanAndStdDev(_0x1500f6),_0x12e3d4=_0xb32365[_0x59bb7b(0x5bb)],_0x15181a=_0x5cf0eb[_0x59bb7b(0x5bb)],_0x1ca39d=_0x15181a-_0x12e3d4;let _0x1188fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x12e3d4[_0x59bb7b(0x65c)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x15181a[_0x59bb7b(0x65c)](0x2)+_0x59bb7b(0xcdc)+(_0x1ca39d>=0x0?_0x59bb7b(0xa10):_0x59bb7b(0x7c6))+_0x59bb7b(0xac6)+(_0x1ca39d>=0x0?_0x59bb7b(0x4e6):_0x59bb7b(0x55d))+_0x59bb7b(0x40c)+(_0x1ca39d>=0x0?_0x59bb7b(0x455):_0x59bb7b(0x386))+'\x22>'+(_0x1ca39d>=0x0?'+':'')+_0x1ca39d['toFixed'](0x2)+_0x59bb7b(0x28e);_0x5b8b87['innerHTML']=_0x1188fe;const _0x28be9e=document[_0x59bb7b(0x2bc)](_0x59bb7b(0x5e4))[_0x59bb7b(0x7ae)]('2d');if(chartInstances[_0x59bb7b(0xc91)])chartInstances['comparison'][_0x59bb7b(0x9dc)]();chartInstances[_0x59bb7b(0xc91)]=new Chart(_0x28be9e,{'type':_0x59bb7b(0xa9c),'data':{'labels':[_0x59bb7b(0x732)],'datasets':[{'label':'ก่อนเรียน','data':[_0x12e3d4],'backgroundColor':_0x59bb7b(0xc3f)},{'label':'หลังเรียน','data':[_0x15181a],'backgroundColor':_0x59bb7b(0x230)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xe7fe49}}}});const _0x14f659=currentProjectData[_0x59bb7b(0x456)]||[],_0x1b7cac=_0x14f659[_0x59bb7b(0x618)](_0x16b53c=>{const _0x243e34=_0x59bb7b,_0x45e048=_0x18935f[_0x243e34(0xaa2)](_0x47271c=>_0x47271c[_0x243e34(0xbcf)]===_0x16b53c),_0xdb47fd=_0xe88ae0['find'](_0x1413c8=>_0x1413c8[_0x243e34(0xbcf)]===_0x16b53c),_0x61b076=_0x45e048?_0x45e048[_0x243e34(0x2b2)]:null,_0x3a3fa0=_0xdb47fd?_0xdb47fd[_0x243e34(0x2b2)]:null,_0x25634d=_0x61b076!==null&&_0x3a3fa0!==null?_0x3a3fa0-_0x61b076:null,_0x2b5549=_0x61b076!==null?calculateZScore(_0x61b076,_0xb32365[_0x243e34(0x5bb)],_0xb32365[_0x243e34(0x1ba)]):null,_0x2316e3=_0x3a3fa0!==null?calculateZScore(_0x3a3fa0,_0x5cf0eb[_0x243e34(0x5bb)],_0x5cf0eb[_0x243e34(0x1ba)]):null,_0x43b89d=_0x2b5549!==null?calculateTScore(_0x2b5549):null,_0x4f2942=_0x2316e3!==null?calculateTScore(_0x2316e3):null,_0x19934c=_0x43b89d!==null&&_0x4f2942!==null?_0x4f2942-_0x43b89d:null;return{'name':_0x16b53c,'preScore':_0x61b076,'postScore':_0x3a3fa0,'gain':_0x25634d,'preTScore':_0x43b89d,'postTScore':_0x4f2942,'tGain':_0x19934c};});renderIndividualComparisonTable(_0x1b7cac,_0x2af804);}catch(_0xd08e2f){console[_0x59bb7b(0x512)]('Error\x20comparing\x20results:',_0xd08e2f),_0x5b8b87[_0x59bb7b(0xcd8)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x5524ad=_0x1f917e;if(!extractedBlueprintData||!extractedBlueprintData[_0x5524ad(0xb56)]){showMessage(_0x5524ad(0x451));return;}const _0x3c3b9a=prompt(_0x5524ad(0x5a5),'Blueprint\x20O-NET\x20ป.6');if(!_0x3c3b9a||_0x3c3b9a['trim']()==='')return;const _0x148bfd={};extractedBlueprintData[_0x5524ad(0xb56)][_0x5524ad(0x229)](_0x5a32ec=>{const _0x1b444c=_0x5524ad;_0x5a32ec[_0x1b444c(0x783)][_0x1b444c(0x229)](_0x4b18a0=>{const _0xb93aae=_0x1b444c;_0x4b18a0[_0xb93aae(0x828)][_0xb93aae(0x229)](_0x51d9c3=>{const _0x421327=_0xb93aae,_0xdc7d2e=_0x421327(0x474)+Date[_0x421327(0x58e)]()+Math[_0x421327(0xca7)]()['toString'](0x24)[_0x421327(0xb0e)](0x2,0x9);_0x148bfd[_0xdc7d2e]={'sara':_0x5a32ec[_0x421327(0xc24)],'mainTopic':_0x4b18a0[_0x421327(0x526)],'subTopic':_0x51d9c3,'status':_0x421327(0xcc8),'lessonContent':null};});});});try{const _0x420093=collection(db,_0x5524ad(0x366)+appId+'/public/data/blueprintProjects');await addDoc(_0x420093,{'projectName':_0x3c3b9a['trim'](),'gradeLevel':extractedBlueprintData[_0x5524ad(0xbd1)],'topics':_0x148bfd,'createdAt':serverTimestamp()}),showMessage(_0x5524ad(0xc1c)+_0x3c3b9a[_0x5524ad(0x1df)]()+_0x5524ad(0x2e5)),document[_0x5524ad(0x2bc)](_0x5524ad(0x7b2))['classList'][_0x5524ad(0x546)](_0x5524ad(0x44c));}catch(_0x2b2522){console['error'](_0x5524ad(0x529),_0x2b2522),showMessage(_0x5524ad(0x84a));}}async function showBlueprintProjects(){const _0xbefdc2=_0x1f917e,_0x2c701d=document['getElementById'](_0xbefdc2(0x52d)),_0x10c8bc=document[_0xbefdc2(0x2bc)](_0xbefdc2(0xc94));_0x10c8bc[_0xbefdc2(0xcd8)]=_0xbefdc2(0xabf),_0x2c701d['classList'][_0xbefdc2(0x1b5)]('hidden');try{const _0x29ad65=collection(db,_0xbefdc2(0x366)+appId+_0xbefdc2(0x204)),_0x502400=await getDocs(_0x29ad65);if(_0x502400[_0xbefdc2(0x24d)]){_0x10c8bc[_0xbefdc2(0xcd8)]=_0xbefdc2(0x588);return;}const _0x4cd076=_0x502400[_0xbefdc2(0xac3)][_0xbefdc2(0x618)](_0x231cbf=>({'id':_0x231cbf['id'],..._0x231cbf['data']()}));_0x4cd076[_0xbefdc2(0x817)]((_0x2f7f13,_0x4d787e)=>_0x2f7f13['projectName'][_0xbefdc2(0x6e3)](_0x4d787e['projectName'],'th')),_0x10c8bc[_0xbefdc2(0xcd8)]=_0x4cd076['map'](_0x5a2b04=>_0xbefdc2(0x3f0)+_0x5a2b04[_0xbefdc2(0x30b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x5a2b04[_0xbefdc2(0xbd1)]+_0xbefdc2(0x7b8)+Object[_0xbefdc2(0x420)](_0x5a2b04[_0xbefdc2(0xad8)])[_0xbefdc2(0xab1)]+_0xbefdc2(0x621)+_0x5a2b04['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5a2b04['id']+_0xbefdc2(0xb5a))[_0xbefdc2(0xd29)]('');}catch(_0x5ee17b){console['error'](_0xbefdc2(0xa0a),_0x5ee17b),_0x10c8bc['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x140b7c){const _0x5b9fe8=_0x1f917e;currentBlueprintProjectId=_0x140b7c,document[_0x5b9fe8(0x2bc)](_0x5b9fe8(0x52d))[_0x5b9fe8(0x517)][_0x5b9fe8(0x546)](_0x5b9fe8(0x44c)),showView('admin-dashboard'),projectDashboardView[_0x5b9fe8(0x517)][_0x5b9fe8(0x546)](_0x5b9fe8(0x44c));const _0x115a2e=document[_0x5b9fe8(0x2bc)](_0x5b9fe8(0x330));_0x115a2e['classList'][_0x5b9fe8(0x1b5)](_0x5b9fe8(0x44c)),document[_0x5b9fe8(0x2bc)]('bp-topic-list-container')['innerHTML']=_0x5b9fe8(0x415);try{const _0x32efff=doc(db,_0x5b9fe8(0x366)+appId+_0x5b9fe8(0x204),_0x140b7c),_0x985bc=await getDoc(_0x32efff);if(!_0x985bc['exists']())throw new Error(_0x5b9fe8(0xbdb));const _0x5b114a={'id':_0x985bc['id'],..._0x985bc[_0x5b9fe8(0x923)]()};document[_0x5b9fe8(0x2bc)](_0x5b9fe8(0x7d1))[_0x5b9fe8(0x806)]=_0x5b114a[_0x5b9fe8(0x30b)],document[_0x5b9fe8(0x2bc)](_0x5b9fe8(0x9b5))[_0x5b9fe8(0xa21)]=_0x5b114a[_0x5b9fe8(0x372)]||'',renderBlueprintTopicManager(_0x5b114a);}catch(_0x79668b){console[_0x5b9fe8(0x512)](_0x5b9fe8(0x3d2),_0x79668b),showMessage(_0x79668b['message']),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x430050){const _0x4746f1=_0x1f917e,_0x5e39a3=document[_0x4746f1(0x2bc)](_0x4746f1(0x26e)),_0xcc6970=_0x430050[_0x4746f1(0xad8)]||{};if(Object[_0x4746f1(0x420)](_0xcc6970)['length']===0x0){_0x5e39a3[_0x4746f1(0xcd8)]=_0x4746f1(0xc54);return;}const _0x31f0d0=Object[_0x4746f1(0x9c8)](_0xcc6970)['map'](([_0x24b802,_0xb82a2f])=>({'id':_0x24b802,..._0xb82a2f}))[_0x4746f1(0x817)]((_0x1b8d5d,_0x1c119b)=>(_0x1b8d5d['order']??Infinity)-(_0x1c119b['order']??Infinity)),_0x6d700a={};_0x31f0d0['forEach'](_0x237549=>{const _0x24be8e=_0x4746f1,{sara:_0x41b158,mainTopic:_0x3fdd74}=_0x237549;!_0x6d700a[_0x41b158]&&(_0x6d700a[_0x41b158]={}),!_0x6d700a[_0x41b158][_0x3fdd74]&&(_0x6d700a[_0x41b158][_0x3fdd74]=[]),_0x6d700a[_0x41b158][_0x3fdd74][_0x24be8e(0xad2)](_0x237549);});let _0x363620='';for(const _0x2c02a8 in _0x6d700a){_0x363620+=_0x4746f1(0x4e7)+_0x2c02a8+'</h4>';for(const _0x3df1ff in _0x6d700a[_0x2c02a8]){_0x363620+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x3df1ff+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x6d700a[_0x2c02a8][_0x3df1ff]['forEach'](_0x7d0f40=>{const _0x27c1c8=_0x4746f1,_0x3dd5c=_0x7d0f40['id'],_0x5af33c=_0x7d0f40[_0x27c1c8(0x8c9)]||[],_0x80284c=_0x5af33c[_0x27c1c8(0xab1)]>0x0,_0x206688=_0x7d0f40[_0x27c1c8(0x845)]===_0x27c1c8(0xd0c);let _0x3125a5='';_0x80284c?_0x3125a5=_0x27c1c8(0x9b6)+_0x5af33c['length']+'\x20ชุด)</span>':_0x3125a5=_0x27c1c8(0x9d6)+(_0x206688?_0x27c1c8(0x910):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x206688?'สร้างแล้ว':'ยังไม่สร้าง')+'</span>';const _0x2d1a90=!_0x206688?_0x27c1c8(0x7b6):'',_0x2f6687=!_0x206688?_0x27c1c8(0x2c5):'';let _0x29eaff=_0x206688?_0x27c1c8(0x3bb):_0x27c1c8(0x3f3);_0x363620+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x3dd5c+_0x27c1c8(0x911)+_0x7d0f40[_0x27c1c8(0x1ec)]+_0x27c1c8(0x369)+_0x3125a5+_0x27c1c8(0x4f3)+_0x2d1a90+_0x27c1c8(0x3df)+_0x2f6687+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29eaff+_0x27c1c8(0x3de);}),_0x363620+=_0x4746f1(0x227);}_0x363620+=_0x4746f1(0xa8a);}_0x5e39a3['innerHTML']=_0x363620;}async function handleDeepDeleteBlueprintProject(_0xd3fc06){const _0x1207b4=_0x1f917e,_0x468738=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0xd3fc06),_0x7d7ebd=await getDoc(_0x468738);if(!_0x7d7ebd[_0x1207b4(0x485)]()){showMessage(_0x1207b4(0x5df));return;}const _0x3401b7=_0x7d7ebd['data']()[_0x1207b4(0x30b)];showConfirmation(_0x1207b4(0x3d4)+_0x3401b7+_0x1207b4(0x760),async()=>{const _0x584473=_0x1207b4;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x1aa70f=writeBatch(db),_0x38bbd0=_0x7d7ebd['data'](),_0x5d523e=_0x38bbd0[_0x584473(0xad8)]||{};for(const _0x88f2df in _0x5d523e){const _0x4b404e=doc(db,'artifacts/'+appId+_0x584473(0x36e)+_0xd3fc06+_0x584473(0xba8),_0x88f2df);_0x1aa70f['delete'](_0x4b404e);}const _0x3f0ec8=new Set();for(const _0x13d70f in _0x5d523e){_0x5d523e[_0x13d70f][_0x584473(0x8c9)]&&_0x5d523e[_0x13d70f][_0x584473(0x8c9)][_0x584473(0x229)](_0x122c83=>_0x3f0ec8[_0x584473(0x546)](_0x122c83));}for(const _0x23d371 of _0x3f0ec8){await handleDeleteQuiz(_0x23d371,![]);}_0x1aa70f[_0x584473(0x730)](_0x468738),await _0x1aa70f[_0x584473(0xa07)](),showMessage('ลบโปรเจค\x20\x22'+_0x3401b7+_0x584473(0x233)),showBlueprintProjects();}catch(_0x45cc58){console[_0x584473(0x512)](_0x584473(0x756),_0x45cc58),showMessage(_0x584473(0x27b));}});}async function openTopicQuizBank(_0x4f9cca){const _0x5ed7fe=_0x1f917e,_0x27e8b7=document['getElementById'](_0x5ed7fe(0xa2b)),_0x624739=document['getElementById'](_0x5ed7fe(0x5e0)),_0x568888=document['getElementById'](_0x5ed7fe(0xc12));try{await ensureGlobalQuizzesLoaded();const _0x3fb2fc=doc(db,'artifacts/'+appId+_0x5ed7fe(0x204),currentBlueprintProjectId),_0x1ebace=await getDoc(_0x3fb2fc);if(!_0x1ebace['exists']())return;const _0xb0b41c=_0x1ebace[_0x5ed7fe(0x923)](),_0x2d94d9=_0xb0b41c['topics'][_0x4f9cca];document[_0x5ed7fe(0x2bc)](_0x5ed7fe(0xb5d))[_0x5ed7fe(0x806)]=_0x2d94d9['subTopic'];const _0x199c95=_0x2d94d9[_0x5ed7fe(0x8c9)]||[];_0x568888['classList']['toggle'](_0x5ed7fe(0x44c),_0x199c95[_0x5ed7fe(0xab1)]===0x0),_0x568888[_0x5ed7fe(0x7aa)]=()=>handleClearAllLinksForTopic(_0x4f9cca);if(_0x199c95['length']===0x0)_0x624739[_0x5ed7fe(0xcd8)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x29267e=allQuizzesGlobal[_0x5ed7fe(0xa7a)](_0x6b8f85=>_0x199c95[_0x5ed7fe(0x42a)](_0x6b8f85['id']));_0x624739[_0x5ed7fe(0xcd8)]=_0x29267e[_0x5ed7fe(0x618)](_0x2979f2=>_0x5ed7fe(0x4e5)+_0x2979f2['id']+_0x5ed7fe(0x3a9)+_0x2979f2['topic']+_0x5ed7fe(0x237)+_0x2979f2['id']+_0x5ed7fe(0x7b8)+_0x2979f2['questions'][_0x5ed7fe(0xab1)]+_0x5ed7fe(0x7c4)+_0x2979f2['id']+_0x5ed7fe(0x9fb)+_0x2979f2['id']+_0x5ed7fe(0x414)+_0x2979f2['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2979f2['id']+_0x5ed7fe(0x826)+_0x2979f2['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2979f2['id']+_0x5ed7fe(0x483)+_0x4f9cca+'\x22\x20data-quiz-id=\x22'+_0x2979f2['id']+_0x5ed7fe(0x518))['join']('');}document['getElementById'](_0x5ed7fe(0x9e2))[_0x5ed7fe(0x7aa)]=()=>{openQuizSelectorForBlueprint(_0x4f9cca);},document[_0x5ed7fe(0x2bc)](_0x5ed7fe(0xbe3))[_0x5ed7fe(0x7aa)]=()=>_0x27e8b7[_0x5ed7fe(0x517)][_0x5ed7fe(0x546)](_0x5ed7fe(0x44c)),_0x27e8b7[_0x5ed7fe(0x517)]['remove'](_0x5ed7fe(0x44c));}catch(_0x4b68c0){showMessage(_0x4b68c0[_0x5ed7fe(0xaf3)]);}}async function openQuizSelectorForBlueprint(_0x240e6b){const _0x37bcea=_0x1f917e,_0x367eec=document[_0x37bcea(0x2bc)](_0x37bcea(0xb48)),_0x2eea07=document[_0x37bcea(0x2bc)](_0x37bcea(0xa2b));_0x2eea07[_0x37bcea(0x517)][_0x37bcea(0x546)](_0x37bcea(0x44c)),document[_0x37bcea(0x2bc)](_0x37bcea(0x699))?.[_0x37bcea(0x1b5)]();const _0x135a90=document[_0x37bcea(0x3ff)](_0x37bcea(0x3c8));_0x135a90['id']=_0x37bcea(0x699),_0x135a90[_0x37bcea(0x6de)]=_0x37bcea(0xc2f),_0x135a90['textContent']='เพิ่มรายการที่เลือก',_0x135a90['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x367eec[_0x37bcea(0x517)]['remove'](_0x37bcea(0x44c)),renderQuizBankListForMultiSelect(''),document[_0x37bcea(0x2bc)](_0x37bcea(0x6d8))[_0x37bcea(0x60e)]['display']=_0x37bcea(0x1d8),_0x367eec[_0x37bcea(0x22d)](_0x37bcea(0x4e8))[_0x37bcea(0x289)](_0x135a90);const _0x31ea8d=(_0x53681e=![])=>{const _0x12e32c=_0x37bcea;_0x367eec[_0x12e32c(0x517)][_0x12e32c(0x546)](_0x12e32c(0x44c)),document[_0x12e32c(0x2bc)](_0x12e32c(0x6d8))['style'][_0x12e32c(0x9b9)]='flex',_0x135a90['remove'](),_0x53681e&&openTopicQuizBank(_0x240e6b);};_0x135a90['onclick']=async()=>{const _0x5a7482=_0x37bcea,_0x7f9f77=Array[_0x5a7482(0xaf4)](document[_0x5a7482(0x362)](_0x5a7482(0xa4e)))[_0x5a7482(0x618)](_0x1eedc5=>_0x1eedc5[_0x5a7482(0xa21)]);if(_0x7f9f77[_0x5a7482(0xab1)]===0x0)return;try{const _0x1859c6=doc(db,_0x5a7482(0x366)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x5b9b89=(await getDoc(_0x1859c6))['data'](),_0x598cc4=_0x5b9b89['topics'][_0x240e6b]['linkedQuizIds']||[],_0x3851c1=[...new Set([..._0x598cc4,..._0x7f9f77])];await updateDoc(_0x1859c6,{['topics.'+_0x240e6b+'.linkedQuizIds']:_0x3851c1}),showMessage('เพิ่ม\x20'+_0x7f9f77[_0x5a7482(0xab1)]+_0x5a7482(0x92b)),_0x31ea8d(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4a92b3){console[_0x5a7482(0x512)]('Error\x20linking\x20quizzes:',_0x4a92b3);}},document['getElementById']('cancel-quiz-bank-btn')['onclick']=()=>_0x31ea8d(!![]);}catch(_0x4bfc26){showMessage(_0x4bfc26['message']),_0x2eea07[_0x37bcea(0x517)][_0x37bcea(0x1b5)]('hidden');}}function handleClearLinkedQuiz(_0x2557c1){const _0x20f16c=_0x1f917e;showConfirmation(_0x20f16c(0x2ac),async()=>{const _0x1ee97b=_0x20f16c;try{const _0x552586=doc(db,_0x1ee97b(0x366)+appId+_0x1ee97b(0x204),currentBlueprintProjectId);await updateDoc(_0x552586,{[_0x1ee97b(0x939)+_0x2557c1+_0x1ee97b(0xcb4)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xbffed5){console[_0x1ee97b(0x512)]('Error\x20clearing\x20linked\x20quiz:',_0xbffed5),showMessage(_0x1ee97b(0x8b6));}});}async function addTopicToProject(){const _0x367ff3=_0x1f917e,_0x53cd53=prompt(_0x367ff3(0x1f0));if(!_0x53cd53||_0x53cd53['trim']()==='')return;const _0x3c23b6=prompt('อยู่ในสาระการเรียนรู้ใด:','สาระที่\x201'),_0x532223=prompt(_0x367ff3(0xb1e),_0x367ff3(0x222)),_0xf47dc3=_0x367ff3(0x474)+Date['now']()+Math[_0x367ff3(0xca7)]()['toString'](0x24)[_0x367ff3(0xb0e)](0x2,0x9),_0x19c340={'sara':_0x3c23b6,'mainTopic':_0x532223,'subTopic':_0x53cd53[_0x367ff3(0x1df)](),'status':_0x367ff3(0xcc8),'lessonContent':null};try{const _0x4d06c3=doc(db,_0x367ff3(0x366)+appId+_0x367ff3(0x204),currentBlueprintProjectId);await updateDoc(_0x4d06c3,{[_0x367ff3(0x939)+_0xf47dc3]:_0x19c340}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x49dac6){console[_0x367ff3(0x512)](_0x367ff3(0xb99),_0x49dac6),showMessage(_0x367ff3(0x4df));}}function _0x36ac(_0x306ee4,_0x40b1ea){const _0x242f9e=_0x242f();return _0x36ac=function(_0x36ac93,_0x4929a7){_0x36ac93=_0x36ac93-0x139;let _0x5922e1=_0x242f9e[_0x36ac93];return _0x5922e1;},_0x36ac(_0x306ee4,_0x40b1ea);}async function editTopicInProject(_0x50d24f){const _0x5dcefb=_0x1f917e,_0x4f7c5d=document[_0x5dcefb(0x22d)](_0x5dcefb(0x895)+_0x50d24f+'\x22]'),_0x54bde6=_0x4f7c5d[_0x5dcefb(0x22d)](_0x5dcefb(0xd1a)),_0x23537e=_0x54bde6[_0x5dcefb(0x806)],_0x30b911=prompt(_0x5dcefb(0x969),_0x23537e);if(!_0x30b911||_0x30b911[_0x5dcefb(0x1df)]()===''||_0x30b911[_0x5dcefb(0x1df)]()===_0x23537e)return;try{const _0x2a37c4=doc(db,_0x5dcefb(0x366)+appId+_0x5dcefb(0x204),currentBlueprintProjectId);await updateDoc(_0x2a37c4,{[_0x5dcefb(0x939)+_0x50d24f+_0x5dcefb(0xaa9)]:_0x30b911['trim']()}),_0x54bde6[_0x5dcefb(0x806)]=_0x30b911[_0x5dcefb(0x1df)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x5d44c9){console[_0x5dcefb(0x512)](_0x5dcefb(0x18f),_0x5d44c9),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x24f552){const _0x1a39b7=_0x1f917e;if(!confirm(_0x1a39b7(0x6fb)))return;try{const _0x472f61=doc(db,_0x1a39b7(0x366)+appId+_0x1a39b7(0x204),currentBlueprintProjectId);await updateDoc(_0x472f61,{['topics.'+_0x24f552]:deleteField()}),document['querySelector']('[data-topic-id=\x22'+_0x24f552+'\x22]')[_0x1a39b7(0x1b5)](),showMessage(_0x1a39b7(0x37b));}catch(_0x4bbedb){console[_0x1a39b7(0x512)](_0x1a39b7(0x31b),_0x4bbedb),showMessage(_0x1a39b7(0xa69));}}async function generateAndSaveLessonForBlueprint(_0x2e1e1c,_0x5b263b,_0x29b629){handleGenerateAndShowLesson(_0x5b263b,_0x29b629);const _0x1b18d0=setInterval(async()=>{const _0x107ea4=_0x36ac,_0x5a1eba=document[_0x107ea4(0x2bc)](_0x107ea4(0x28a)),_0x4d5c3f=_0x5a1eba['classList'][_0x107ea4(0x7ab)]('hidden');if(_0x4d5c3f){clearInterval(_0x1b18d0);if(currentApplicationData&&currentApplicationData[_0x107ea4(0xab1)]>0x0){const _0x41d39d={'point':document[_0x107ea4(0x2bc)](_0x107ea4(0x338))[_0x107ea4(0xcd8)],'memory':document[_0x107ea4(0x2bc)](_0x107ea4(0x164))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x107ea4(0x2bc)]('summaryContent')[_0x107ea4(0xcd8)]};try{const _0x58dfa5=doc(db,_0x107ea4(0x366)+appId+_0x107ea4(0x204),currentBlueprintProjectId),_0x41bf18=doc(db,_0x107ea4(0x366)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x107ea4(0xba8),_0x2e1e1c),_0xa1eee0=writeBatch(db);_0xa1eee0['set'](_0x41bf18,{'content':_0x41d39d}),_0xa1eee0[_0x107ea4(0x72f)](_0x58dfa5,{[_0x107ea4(0x939)+_0x2e1e1c+_0x107ea4(0x750)]:_0x107ea4(0xd0c)}),await _0xa1eee0['commit'](),console[_0x107ea4(0x16e)](_0x107ea4(0x5bf)+_0x2e1e1c+_0x107ea4(0xc31)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2a0019){console[_0x107ea4(0x512)](_0x107ea4(0x4da),_0x2a0019);}}}},0x3e8);}function displayHalfMarkResult(_0x51f48c,_0x40959c){const _0x33c909=_0x1f917e,_0x583882=_0x51f48c>=_0x40959c/0x2,_0xd0e3b1=_0x583882?_0x33c909(0x848):_0x33c909(0x7c6),_0x328269=_0x583882?_0x33c909(0xc01):_0x33c909(0x1ad),_0x86d412=_0x583882?'text-green-800':'text-red-800',_0x16cf56=_0x583882?_0x33c909(0x704):_0x33c909(0x53b),_0x28fdd4=_0x583882?_0x33c909(0x150):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x47c47c=_0x33c909(0x297)+_0xd0e3b1+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x328269+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x86d412+'\x20mb-2\x22>'+_0x16cf56+_0x33c909(0x96a)+_0x28fdd4+_0x33c909(0x49b);studentResultArea['innerHTML']=_0x47c47c,studentResultArea[_0x33c909(0x517)][_0x33c909(0x1b5)](_0x33c909(0x44c)),studentQuizArea[_0x33c909(0x517)][_0x33c909(0x546)](_0x33c909(0x44c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x583882});}function displayPerfectScoreResult(_0x3816c1,_0x3a028f){const _0x2b702a=_0x1f917e,_0x1e2f60=_0x3816c1===_0x3a028f,_0x4db599=_0x1e2f60?'bg-yellow-100':_0x2b702a(0xa1b),_0xe30b87=_0x1e2f60?_0x2b702a(0xd0b):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x2bc784=_0x1e2f60?'text-yellow-800':_0x2b702a(0x889),_0x371bd4=_0x1e2f60?'คะแนนเต็ม!':_0x2b702a(0x7a4),_0x2c6657=_0x1e2f60?_0x2b702a(0xa9e):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x44aece=_0x2b702a(0x297)+_0x4db599+_0x2b702a(0x758)+_0xe30b87+_0x2b702a(0xb45)+_0x2bc784+_0x2b702a(0x729)+_0x371bd4+_0x2b702a(0x96a)+_0x2c6657+_0x2b702a(0x49b);studentResultArea[_0x2b702a(0xcd8)]=_0x44aece,studentResultArea[_0x2b702a(0x517)]['remove']('hidden'),studentQuizArea[_0x2b702a(0x517)][_0x2b702a(0x546)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x3816c1,'totalQuestions':_0x3a028f});}function renderIndividualComparisonTable(_0x29ba6a,_0x547bba){const _0x40e21a=_0x1f917e;_0x29ba6a[_0x40e21a(0x817)]((_0x3af811,_0xe19a1b)=>(_0xe19a1b['tGain']??-Infinity)-(_0x3af811['tGain']??-Infinity));let _0xa8b09b=_0x40e21a(0x223);_0x29ba6a[_0x40e21a(0xab1)]===0x0?_0xa8b09b+=_0x40e21a(0x963):_0x29ba6a[_0x40e21a(0x229)]((_0x482fc,_0x8421ec)=>{const _0x439129=_0x40e21a;let _0x2714d7='-',_0x23899a='';if(_0x482fc['gain']!==null){const _0xf84eeb=_0x482fc['gain']>0x0?_0x439129(0x74d):_0x482fc[_0x439129(0x2da)]<0x0?_0x439129(0xd18):_0x439129(0xbe0),_0x514060=_0x482fc[_0x439129(0x2da)]>0x0?'+':'';_0x2714d7=_0x439129(0x264)+_0xf84eeb+'\x22>'+_0x514060+_0x482fc[_0x439129(0x2da)]+_0x439129(0x5ad);if(_0x482fc[_0x439129(0x2da)]>0x0)_0x23899a=_0x439129(0x7ea);else _0x482fc[_0x439129(0x2da)]<0x0?_0x23899a=_0x439129(0x47c):_0x23899a=_0x439129(0x4ad);}let _0x1b9e56='-';if(_0x482fc[_0x439129(0x302)]!==null){const _0x2ba45f=_0x482fc[_0x439129(0x302)]>0x0?'text-green-600':_0x482fc[_0x439129(0x302)]<0x0?_0x439129(0xd18):_0x439129(0xbe0),_0x53c9ba=_0x482fc[_0x439129(0x302)]>0x0?'+':'';_0x1b9e56='<span\x20class=\x22font-bold\x20'+_0x2ba45f+'\x22>'+_0x53c9ba+_0x482fc['tGain'][_0x439129(0x65c)](0x2)+_0x439129(0x5ad);}_0xa8b09b+=_0x439129(0x589)+(_0x8421ec+0x1)+_0x439129(0x6e8)+_0x482fc[_0x439129(0xc85)]+_0x439129(0x68c)+(_0x482fc[_0x439129(0x314)]??'-')+_0x439129(0x9c0)+(_0x482fc[_0x439129(0xacd)]??'-')+_0x439129(0x68c)+_0x2714d7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x23899a+_0x439129(0xc80)+(_0x482fc[_0x439129(0xa4d)]?.[_0x439129(0x65c)](0x2)??'-')+_0x439129(0xcbe)+(_0x482fc[_0x439129(0x62e)]?.['toFixed'](0x2)??'-')+_0x439129(0x68c)+_0x1b9e56+_0x439129(0x4f2);}),_0xa8b09b+=_0x40e21a(0xb19),_0x547bba['innerHTML']=_0xa8b09b;}function handleRenameQuiz(_0x5abf30,_0x2dc3eb){const _0xd7ce4a=_0x1f917e;actionTargetId=_0x5abf30,document[_0xd7ce4a(0x2bc)](_0xd7ce4a(0x7bc))[_0xd7ce4a(0xa21)]=_0x2dc3eb,renameQuizModal[_0xd7ce4a(0x517)]['remove'](_0xd7ce4a(0x44c));}function setupComparisonModalTabs(){const _0x4d40bf=_0x1f917e,_0x22d799=document['getElementById'](_0x4d40bf(0x6e2)),_0x110a92=document[_0x4d40bf(0x2bc)]('comparison-individual-tab'),_0x25fe58=document[_0x4d40bf(0x2bc)](_0x4d40bf(0x33d)),_0x359b79=document['getElementById'](_0x4d40bf(0xbfb));_0x22d799['addEventListener'](_0x4d40bf(0xc20),()=>{const _0x323dc4=_0x4d40bf;_0x22d799[_0x323dc4(0x517)][_0x323dc4(0x546)](_0x323dc4(0x50f)),_0x110a92['classList'][_0x323dc4(0x1b5)](_0x323dc4(0x50f)),_0x25fe58[_0x323dc4(0x517)]['remove'](_0x323dc4(0x44c)),_0x359b79[_0x323dc4(0x517)]['add'](_0x323dc4(0x44c));}),_0x110a92[_0x4d40bf(0x8de)](_0x4d40bf(0xc20),()=>{const _0xbce89=_0x4d40bf;_0x110a92['classList'][_0xbce89(0x546)](_0xbce89(0x50f)),_0x22d799[_0xbce89(0x517)][_0xbce89(0x1b5)](_0xbce89(0x50f)),_0x359b79['classList'][_0xbce89(0x1b5)]('hidden'),_0x25fe58[_0xbce89(0x517)]['add'](_0xbce89(0x44c));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x1011fd=_0x1f917e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x84cb1=doc(db,_0x1011fd(0x366)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x84cb1,_0xf14ade=>{const _0x20687b=_0x1011fd;if(!_0xf14ade[_0x20687b(0x485)]()){showMessage(_0x20687b(0x239));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x20687b(0x682)):showView('student');return;}const _0x30eec6=_0xf14ade['data']();_0x30eec6['shuffledQuiz']&&(currentQuizData=_0x30eec6[_0x20687b(0xa40)]);!currentQuizData&&_0x30eec6[_0x20687b(0x1c3)]&&((async()=>{const _0x4b9570=_0x20687b;try{const _0x41064d=doc(db,_0x4b9570(0x366)+appId+_0x4b9570(0xcbc),_0x30eec6[_0x4b9570(0x1c3)]),_0x4956a8=await getDoc(_0x41064d);_0x4956a8[_0x4b9570(0x485)]()&&(currentQuizData={'id':_0x4956a8['id'],..._0x4956a8[_0x4b9570(0x923)]()});}catch(_0x102351){console[_0x4b9570(0x512)](_0x4b9570(0x1e9),_0x102351);}})());switch(_0x30eec6['status']){case _0x20687b(0xaec):if(currentMode===_0x20687b(0x8f9)){const _0x370774=_0x30eec6[_0x20687b(0x81b)]?Object['entries'](_0x30eec6[_0x20687b(0x81b)]):[],_0x449e0a=_0x370774[_0x20687b(0xa7a)](([_0x51476e,_0x514cf1])=>_0x514cf1['status']==='active'),_0x227176=document['getElementById'](_0x20687b(0x74b));if(_0x227176)_0x227176[_0x20687b(0x806)]=_0x449e0a[_0x20687b(0xab1)];const _0x3e5a8b=document[_0x20687b(0x2bc)](_0x20687b(0x641));_0x3e5a8b&&(_0x3e5a8b['innerHTML']=_0x449e0a['map'](([_0x2b47aa,_0x2d2d4a])=>_0x20687b(0xae3)+_0x2b47aa+_0x20687b(0x81f)+_0x2b47aa+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x20687b(0xd29)](''));const _0x488acb=document[_0x20687b(0x2bc)](_0x20687b(0x96d));_0x488acb&&(_0x488acb[_0x20687b(0x8ab)]=_0x449e0a[_0x20687b(0xab1)]===0x0);}else showView(_0x20687b(0x5ea)),liveGameView['innerHTML']=_0x20687b(0xac0)+currentStudentName+_0x20687b(0x8d9);break;case _0x20687b(0xaa7):const _0x115c26=_0x30eec6[_0x20687b(0x896)];if(currentQuizData&&currentQuizData['questions'][_0x115c26]){const _0x4ee147=currentQuizData[_0x20687b(0x320)][_0x115c26],_0xa0334e=_0x30eec6[_0x20687b(0x44e)]||_0x20687b(0x5bd);switch(_0xa0334e){case _0x20687b(0xad7):currentMode==='admin'?showAdminSummaryView(_0x30eec6,_0x4ee147):showPlayerSummaryView(_0x30eec6,currentStudentName);break;case _0x20687b(0xa8c):currentMode===_0x20687b(0x8f9)&&showTop5LeaderboardView(_0x30eec6);break;case'answering':default:if(currentMode===_0x20687b(0x8f9)){const _0x3ea738=writeBatch(db);let _0xee06cd=![];Object[_0x20687b(0x9c8)](_0x30eec6['players'])[_0x20687b(0x229)](([_0x434329,_0x4eae0f])=>{const _0x3f4e58=_0x20687b;if(_0x4eae0f[_0x3f4e58(0x845)]==='active'&&_0x4eae0f[_0x3f4e58(0x2e7)]&&!_0x4eae0f['isScored']){_0xee06cd=!![];const _0x3eb39b=_0x4eae0f[_0x3f4e58(0x2e7)][_0x3f4e58(0x379)]()-_0x30eec6[_0x3f4e58(0x849)][_0x3f4e58(0x379)]();let _0xd99a44=0x0;if(_0x4eae0f['lastAnswerCorrect']){const _0x11a9af=0x3e8,_0x1e0104=0x1f4,_0x33e61e=0x4e20;let _0x3b1739=_0x3eb39b/_0x33e61e;if(_0x3b1739>0x1)_0x3b1739=0x1;const _0x1d9387=Math[_0x3f4e58(0x562)](_0x3b1739*_0x1e0104);_0xd99a44=_0x11a9af-_0x1d9387;}const _0x5f3ee5=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);_0x3ea738[_0x3f4e58(0x72f)](_0x5f3ee5,{[_0x3f4e58(0xbad)+_0x434329+_0x3f4e58(0xbf4)]:increment(_0xd99a44),[_0x3f4e58(0xbad)+_0x434329+'.pointsLastQuestion']:_0xd99a44,['players.'+_0x434329+_0x3f4e58(0x22f)]:!![]});}});_0xee06cd&&_0x3ea738[_0x20687b(0xa07)]()[_0x20687b(0x9e5)](_0x4fbe96=>console[_0x20687b(0x512)](_0x20687b(0xb08),_0x4fbe96));lastRenderedAdminQuestionIndex!==_0x115c26&&(showAdminLiveQuestionView(_0x4ee147,_0x115c26,currentQuizData[_0x20687b(0x320)][_0x20687b(0xab1)]),lastRenderedAdminQuestionIndex=_0x115c26);const _0x3f9606=_0x30eec6[_0x20687b(0x81b)]||{},_0x132798=Object['values'](_0x3f9606)[_0x20687b(0xa7a)](_0x4941b3=>_0x4941b3[_0x20687b(0x845)]===_0x20687b(0x50f)),_0x4f733d=_0x132798[_0x20687b(0xab1)],_0x5260ab=_0x132798[_0x20687b(0xa7a)](_0x550416=>_0x550416[_0x20687b(0x96f)]===!![])[_0x20687b(0xab1)],_0x1caa29=document['getElementById'](_0x20687b(0x92c));if(_0x1caa29)_0x1caa29[_0x20687b(0x806)]=_0x5260ab+'/'+_0x4f733d;const _0x25ce03=document[_0x20687b(0x2bc)](_0x20687b(0x932));if(_0x25ce03){let _0x2e4d72=Object[_0x20687b(0x9c8)](_0x3f9606)[_0x20687b(0xa7a)](([_0x30487c,_0x4b5c93])=>_0x4b5c93[_0x20687b(0x845)]==='active')[_0x20687b(0x618)](([_0x5b91b5,_0x3b1b39])=>{const _0x2a3369=_0x20687b,_0xd2885a=_0x3b1b39[_0x2a3369(0x96f)]===!![],_0x57ebeb=_0xd2885a?_0x2a3369(0x52c):_0x2a3369(0x2a4),_0x439db7=_0xd2885a?_0x2a3369(0xaf6):_0x2a3369(0x24f);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x57ebeb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x439db7+_0x2a3369(0x739)+_0x5b91b5+_0x2a3369(0xb8a)+_0x5b91b5+_0x2a3369(0x994);})[_0x20687b(0xd29)]('');_0x25ce03[_0x20687b(0xcd8)]=_0x2e4d72||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x4f733d>0x0&&_0x5260ab===_0x4f733d&&revealAnswerForAdmin(_0x115c26,currentQuizData[_0x20687b(0x320)][_0x20687b(0xab1)]);}else{const _0x5b412a=_0x30eec6['players'][currentStudentName];_0x5b412a&&!_0x5b412a[_0x20687b(0x96f)]&&showStudentLiveQuestionView(_0x4ee147,_0x115c26,currentQuizData['questions'][_0x20687b(0xab1)]);}break;}}break;case'podium':showPodiumView(_0x30eec6[_0x20687b(0x81b)],_0x20687b(0x442));break;}});}async function openGlobalActivityModal(){const _0x3ba05d=_0x1f917e;if(allQuizzesGlobal[_0x3ba05d(0xab1)]===0x0){const _0x5822e7=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5822e7[_0x3ba05d(0xac3)]['map'](_0x1a9955=>({'id':_0x1a9955['id'],..._0x1a9955[_0x3ba05d(0x923)]()}));}renderGlobalActivityList(''),document[_0x3ba05d(0x2bc)](_0x3ba05d(0x254))[_0x3ba05d(0x517)][_0x3ba05d(0x1b5)](_0x3ba05d(0x44c));}function renderGlobalActivityList(_0x39db23=''){const _0x41e0ec=_0x1f917e,_0x5787ef=document[_0x41e0ec(0x2bc)]('global-activity-quiz-list'),_0x22fff1=_0x39db23[_0x41e0ec(0x281)]()[_0x41e0ec(0x1df)](),_0x423bb1=allQuizzesGlobal[_0x41e0ec(0x618)](_0x261506=>({..._0x261506,'projectName':allProjects['find'](_0x204016=>_0x204016['id']===_0x261506['projectId'])?.[_0x41e0ec(0x30b)]||_0x41e0ec(0x95a)}))[_0x41e0ec(0xa7a)](_0x333731=>(_0x333731[_0x41e0ec(0x533)]||'')[_0x41e0ec(0x281)]()[_0x41e0ec(0x42a)](_0x22fff1)||(_0x333731[_0x41e0ec(0x30b)]||'')[_0x41e0ec(0x281)]()[_0x41e0ec(0x42a)](_0x22fff1));document[_0x41e0ec(0x2bc)](_0x41e0ec(0x381))[_0x41e0ec(0x806)]='('+_0x423bb1[_0x41e0ec(0xab1)]+_0x41e0ec(0x3dc),_0x5787ef['innerHTML']=_0x423bb1[_0x41e0ec(0xab1)]?_0x423bb1['map'](_0x5acd5f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x5acd5f[_0x41e0ec(0x533)]||_0x41e0ec(0xc82))+_0x41e0ec(0x4d6)+(_0x5acd5f[_0x41e0ec(0x320)]?.[_0x41e0ec(0xab1)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x5acd5f[_0x41e0ec(0x30b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5acd5f['id']+_0x41e0ec(0x38f)+_0x5acd5f['id']+_0x41e0ec(0x5ce)+_0x5acd5f['id']+_0x41e0ec(0x697)+_0x5acd5f['id']+_0x41e0ec(0xa5d))[_0x41e0ec(0xd29)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x1d3fa1){const _0x40324b=_0x1f917e;if(!currentLiveGameId||!_0x1d3fa1)return;const _0x457d15=doc(db,_0x40324b(0x366)+appId+_0x40324b(0x447),currentLiveGameId),_0xe0dacc={};_0xe0dacc['players.'+_0x1d3fa1+_0x40324b(0x750)]=_0x40324b(0xae6);try{await updateDoc(_0x457d15,_0xe0dacc);}catch(_0x105754){console[_0x40324b(0x512)](_0x40324b(0x9a7)+_0x1d3fa1+':',_0x105754),showMessage(_0x40324b(0x2e1));}}async function authenticateUser(){const _0x33dce7=_0x1f917e;try{typeof __initial_auth_token!==_0x33dce7(0x587)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x372e1a){console['error'](_0x33dce7(0x2c3),_0x372e1a),showMessage(_0x33dce7(0x4d3));}}function showView(_0x429fb9){const _0x74c914=_0x1f917e;adminView[_0x74c914(0x517)][_0x74c914(0x546)]('hidden'),studentView[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c)),projectDashboardView[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c)),projectDetailView[_0x74c914(0x517)]['add'](_0x74c914(0x44c)),quizResultsView[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c)),liveGameView['classList'][_0x74c914(0x546)]('hidden'),document[_0x74c914(0x2bc)](_0x74c914(0x330))[_0x74c914(0x517)][_0x74c914(0x546)]('hidden'),studentInitialView[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c)),studentJoinGameView[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c)),studentNameSelectionView[_0x74c914(0x517)]['add'](_0x74c914(0x44c)),studentQuizArea[_0x74c914(0x517)]['add'](_0x74c914(0x44c)),studentResultArea[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c)),studentReadingArea[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c));const _0x110493=document[_0x74c914(0x2bc)](_0x74c914(0xcaa)),_0x5494e6=document[_0x74c914(0x2bc)](_0x74c914(0xac8));if(_0x110493)_0x110493['classList'][_0x74c914(0x546)](_0x74c914(0x44c));if(_0x5494e6)_0x5494e6[_0x74c914(0x517)][_0x74c914(0x546)](_0x74c914(0x44c));switch(_0x429fb9){case _0x74c914(0x4f5):adminView[_0x74c914(0x517)][_0x74c914(0x1b5)](_0x74c914(0x44c)),projectDashboardView[_0x74c914(0x517)][_0x74c914(0x1b5)]('hidden');break;case _0x74c914(0x682):adminView[_0x74c914(0x517)][_0x74c914(0x1b5)](_0x74c914(0x44c)),projectDetailView[_0x74c914(0x517)]['remove'](_0x74c914(0x44c));break;case _0x74c914(0x757):adminView['classList'][_0x74c914(0x1b5)]('hidden'),quizResultsView['classList']['remove']('hidden');break;case _0x74c914(0x8fb):studentView[_0x74c914(0x517)][_0x74c914(0x1b5)]('hidden'),studentInitialView[_0x74c914(0x517)][_0x74c914(0x1b5)](_0x74c914(0x44c));break;case _0x74c914(0x5ea):liveGameView[_0x74c914(0x517)][_0x74c914(0x1b5)](_0x74c914(0x44c));break;case'student-team-join':studentView[_0x74c914(0x517)]['remove'](_0x74c914(0x44c));if(_0x110493)_0x110493[_0x74c914(0x517)]['remove'](_0x74c914(0x44c));break;case _0x74c914(0x766):studentView[_0x74c914(0x517)]['remove'](_0x74c914(0x44c));if(_0x5494e6)_0x5494e6[_0x74c914(0x517)][_0x74c914(0x1b5)]('hidden');break;default:studentView['classList'][_0x74c914(0x1b5)](_0x74c914(0x44c)),studentInitialView['classList'][_0x74c914(0x1b5)](_0x74c914(0x44c));break;}}function showJoinGameView(){const _0x9c430f=_0x1f917e;studentInitialView['classList'][_0x9c430f(0x546)]('hidden'),studentJoinGameView['classList'][_0x9c430f(0x1b5)](_0x9c430f(0x44c));}async function handleSaveVisibilitySettings(){const _0x463bf1=_0x1f917e;if(!currentProjectId)return;const _0x9ca456=doc(db,'artifacts/'+appId+_0x463bf1(0x7ad),currentProjectId);try{await updateDoc(_0x9ca456,{'settings.showInStudentDashboard':document[_0x463bf1(0x2bc)](_0x463bf1(0x625))[_0x463bf1(0x6b7)],'settings.isPasscodeEnabled':document[_0x463bf1(0x2bc)](_0x463bf1(0xd1c))[_0x463bf1(0x6b7)],'settings.passcode':document[_0x463bf1(0x2bc)](_0x463bf1(0x7f3))[_0x463bf1(0xa21)][_0x463bf1(0x1df)]()}),showMessage(_0x463bf1(0xabe));}catch(_0x1ee65a){console[_0x463bf1(0x512)]('Error\x20saving\x20visibility\x20settings:',_0x1ee65a),showMessage(_0x463bf1(0x503));}}function setupEventListeners(){const _0x37852b=_0x1f917e,_0x447969=document[_0x37852b(0x2bc)]('dim-overlay');_0x447969&&(_0x447969[_0x37852b(0x8de)](_0x37852b(0xd0f),wakeUpScreen),_0x447969[_0x37852b(0x8de)](_0x37852b(0x486),wakeUpScreen));document[_0x37852b(0x2bc)](_0x37852b(0x14a))[_0x37852b(0x8de)](_0x37852b(0xc20),async()=>{const _0x294b29=_0x37852b;if(!currentBlueprintProjectId)return;const _0x3e113f=document[_0x294b29(0x2bc)](_0x294b29(0x9b5))[_0x294b29(0xa21)][_0x294b29(0x1df)](),_0xb13858=doc(db,'artifacts/'+appId+_0x294b29(0x204),currentBlueprintProjectId);try{await updateDoc(_0xb13858,{'referenceFileUrl':_0x3e113f}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x3bccba){console[_0x294b29(0x512)]('Error\x20saving\x20reference\x20URL:',_0x3bccba),showMessage(_0x294b29(0x503));}}),document['getElementById']('add-parallel-shortcut-tab-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),handleAddParallelShortcutTab),document[_0x37852b(0x2bc)](_0x37852b(0xb75))[_0x37852b(0x8de)](_0x37852b(0xc20),_0x2fcd92=>{const _0x1ac1b4=_0x37852b;_0x2fcd92['target'][_0x1ac1b4(0x634)](_0x1ac1b4(0x308))&&(activeParallelShortcutTabId=_0x1ac1b4(0x8bd),renderAdditionalParallelShortcutsModal(),document[_0x1ac1b4(0x2bc)](_0x1ac1b4(0xb6f))['classList']['remove'](_0x1ac1b4(0x44c)));}),document[_0x37852b(0x2bc)](_0x37852b(0x28d))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x1615fb=_0x37852b;document[_0x1615fb(0x2bc)]('additional-parallel-shortcuts-modal')[_0x1615fb(0x517)][_0x1615fb(0x546)](_0x1615fb(0x44c));}),document[_0x37852b(0x8de)](_0x37852b(0xc20),_0x6a5c4f=>{const _0x387825=_0x37852b;!_0x6a5c4f[_0x387825(0x97d)][_0x387825(0x634)](_0x387825(0x25d))&&document['querySelectorAll']('.move-parallel-shortcut-dropdown')[_0x387825(0x229)](_0x3e02c4=>_0x3e02c4[_0x387825(0x517)]['add'](_0x387825(0x44c)));}),document[_0x37852b(0x2bc)](_0x37852b(0x9c5))['addEventListener'](_0x37852b(0xc20),handleAddFileShortcutTab),document['getElementById'](_0x37852b(0x2dc))[_0x37852b(0x8de)](_0x37852b(0xc20),_0x3c40cb=>{const _0xdaeaac=_0x37852b;_0x3c40cb['target'][_0xdaeaac(0x634)](_0xdaeaac(0x8d1))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document['getElementById'](_0xdaeaac(0x554))[_0xdaeaac(0x517)][_0xdaeaac(0x1b5)](_0xdaeaac(0x44c)));}),document[_0x37852b(0x2bc)](_0x37852b(0x177))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x47cf19=_0x37852b;document[_0x47cf19(0x2bc)](_0x47cf19(0x554))['classList'][_0x47cf19(0x546)]('hidden');}),document[_0x37852b(0x8de)]('click',_0x2756bc=>{const _0x1f102f=_0x37852b;!_0x2756bc['target']['closest'](_0x1f102f(0x89f))&&document['querySelectorAll'](_0x1f102f(0x987))['forEach'](_0x8fd122=>_0x8fd122[_0x1f102f(0x517)][_0x1f102f(0x546)](_0x1f102f(0x44c)));}),document[_0x37852b(0x2bc)](_0x37852b(0x2f8))['addEventListener'](_0x37852b(0xc20),handleAddShortcutTab),document[_0x37852b(0x2bc)]('parallel-shortcut-container')['addEventListener']('click',_0x585bbb=>{const _0x3c41db=_0x37852b,_0x576a41=_0x585bbb[_0x3c41db(0x97d)][_0x3c41db(0x634)](_0x3c41db(0xd01)),_0xa293c4=_0x585bbb[_0x3c41db(0x97d)]['closest'](_0x3c41db(0x4bd)),_0x20cada=_0x585bbb[_0x3c41db(0x97d)][_0x3c41db(0x634)](_0x3c41db(0x6a7));if(_0xa293c4)openParallelTestShortcutEditor(_0xa293c4['dataset']['id']);else{if(_0x20cada){const _0x162b05=_0x20cada['dataset']['id'];showConfirmation(_0x3c41db(0x1a3),async()=>{const _0x45a84c=_0x3c41db,_0x4c191d=parallelTestShortcuts['filter'](_0x1ea4d3=>_0x1ea4d3['id']!==_0x162b05),_0xae523c=doc(db,_0x45a84c(0x214),_0x45a84c(0x37a));await setDoc(_0xae523c,{'shortcuts':_0x4c191d},{'merge':!![]});});}else _0x576a41&&handleParallelTestShortcutClick(_0x576a41['dataset']['id']);}}),document[_0x37852b(0x2bc)](_0x37852b(0x240))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>openParallelTestShortcutEditor(null)),document[_0x37852b(0x2bc)](_0x37852b(0x265))['addEventListener']('click',()=>{const _0x254c22=_0x37852b;document[_0x254c22(0x2bc)](_0x254c22(0x45e))[_0x254c22(0x517)][_0x254c22(0x546)](_0x254c22(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0xd2e))[_0x37852b(0x8de)](_0x37852b(0xc20),saveParallelTestShortcutChanges),document[_0x37852b(0x2bc)](_0x37852b(0xb75))['addEventListener'](_0x37852b(0xc20),_0x4b0d73=>{const _0x51a626=_0x37852b;_0x4b0d73[_0x51a626(0x97d)][_0x51a626(0x634)](_0x51a626(0x308))&&document[_0x51a626(0x2bc)](_0x51a626(0xb6f))[_0x51a626(0x517)][_0x51a626(0x1b5)]('hidden');}),document[_0x37852b(0x2bc)](_0x37852b(0x28d))[_0x37852b(0x8de)]('click',()=>{const _0x3a42fe=_0x37852b;document[_0x3a42fe(0x2bc)](_0x3a42fe(0xb6f))['classList'][_0x3a42fe(0x546)](_0x3a42fe(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x686))[_0x37852b(0x8de)](_0x37852b(0xc20),_0x391ade=>{const _0x321d98=_0x37852b,_0x4fe81d=document[_0x321d98(0x2bc)](_0x321d98(0xb6f)),_0x199d50=_0x391ade[_0x321d98(0x97d)]['closest'](_0x321d98(0xc63)),_0x16c68d=_0x391ade['target'][_0x321d98(0x634)](_0x321d98(0x8ba)),_0xc8916f=_0x391ade['target'][_0x321d98(0x634)](_0x321d98(0x439));if(_0x199d50)_0x4fe81d[_0x321d98(0x517)]['add'](_0x321d98(0x44c)),handleParallelTestShortcutClick(_0x199d50[_0x321d98(0x4e3)]['id']);else{if(_0x16c68d)_0x4fe81d[_0x321d98(0x517)]['add'](_0x321d98(0x44c)),openParallelTestShortcutEditor(_0x16c68d[_0x321d98(0x4e3)]['id']);else{if(_0xc8916f){const _0x131fd7=_0xc8916f[_0x321d98(0x4e3)]['id'];showConfirmation(_0x321d98(0x1a3),async()=>{const _0x17cd02=_0x321d98,_0x309da9=parallelTestShortcuts[_0x17cd02(0xa7a)](_0x3e2cb9=>_0x3e2cb9['id']!==_0x131fd7),_0x344521=doc(db,_0x17cd02(0x214),'parallelTestShortcutsConfig');await setDoc(_0x344521,{'shortcuts':_0x309da9},{'merge':!![]});});}}}}),document[_0x37852b(0x2bc)](_0x37852b(0x73a))[_0x37852b(0x8de)](_0x37852b(0xc20),_0x34deec=>{const _0x269ff5=_0x37852b,_0x22f1bb=_0x34deec[_0x269ff5(0x97d)][_0x269ff5(0x634)]('.file-shortcut-btn'),_0xe603d4=_0x34deec[_0x269ff5(0x97d)]['closest'](_0x269ff5(0x2d6)),_0x5da097=_0x34deec[_0x269ff5(0x97d)]['closest'](_0x269ff5(0x752));if(_0xe603d4)openFileShortcutEditor(_0xe603d4[_0x269ff5(0x4e3)]['id']);else{if(_0x5da097){const _0x4a630c=_0x5da097[_0x269ff5(0x4e3)]['id'];showConfirmation(_0x269ff5(0x1a3),async()=>{const _0x179994=_0x269ff5,_0x3a8018=fileShortcuts[_0x179994(0xa7a)](_0x4aac03=>_0x4aac03['id']!==_0x4a630c),_0x273ac8=doc(db,'globalSettings',_0x179994(0x834));await setDoc(_0x273ac8,{'shortcuts':_0x3a8018},{'merge':!![]});});}else _0x22f1bb&&handleFileShortcutClick(_0x22f1bb[_0x269ff5(0x4e3)]['id']);}}),document[_0x37852b(0x2bc)]('add-file-shortcut-btn')['addEventListener'](_0x37852b(0xc20),()=>openFileShortcutEditor(null)),document[_0x37852b(0x2bc)](_0x37852b(0x4d5))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x5c1c1d=_0x37852b;document['getElementById'](_0x5c1c1d(0xd07))[_0x5c1c1d(0x517)][_0x5c1c1d(0x546)](_0x5c1c1d(0x44c));}),document['getElementById'](_0x37852b(0x46a))[_0x37852b(0x8de)]('click',saveFileShortcutChanges),document[_0x37852b(0x2bc)](_0x37852b(0x2dc))[_0x37852b(0x8de)](_0x37852b(0xc20),_0xc8fea7=>{const _0x59f413=_0x37852b;_0xc8fea7[_0x59f413(0x97d)][_0x59f413(0x634)](_0x59f413(0x8d1))&&document[_0x59f413(0x2bc)](_0x59f413(0x554))['classList'][_0x59f413(0x1b5)](_0x59f413(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x177))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x165c36=_0x37852b;document[_0x165c36(0x2bc)](_0x165c36(0x554))[_0x165c36(0x517)][_0x165c36(0x546)](_0x165c36(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x531))[_0x37852b(0x8de)](_0x37852b(0xc20),_0x5939a5=>{const _0x509cec=_0x37852b,_0x569831=document['getElementById']('additional-file-shortcuts-modal'),_0x3a7a86=_0x5939a5[_0x509cec(0x97d)][_0x509cec(0x634)](_0x509cec(0xa50)),_0x593d2b=_0x5939a5[_0x509cec(0x97d)][_0x509cec(0x634)](_0x509cec(0xbd8)),_0x2a4f22=_0x5939a5['target'][_0x509cec(0x634)](_0x509cec(0x876));if(_0x3a7a86)_0x569831[_0x509cec(0x517)][_0x509cec(0x546)](_0x509cec(0x44c)),handleFileShortcutClick(_0x3a7a86[_0x509cec(0x4e3)]['id']);else{if(_0x593d2b)_0x569831[_0x509cec(0x517)]['add'](_0x509cec(0x44c)),openFileShortcutEditor(_0x593d2b['dataset']['id']);else{if(_0x2a4f22){const _0x1719fa=_0x2a4f22[_0x509cec(0x4e3)]['id'];showConfirmation(_0x509cec(0x1a3),async()=>{const _0xf586b=_0x509cec,_0x304d03=fileShortcuts[_0xf586b(0xa7a)](_0x349eb8=>_0x349eb8['id']!==_0x1719fa),_0x2b5401=doc(db,_0xf586b(0x214),_0xf586b(0x834));await setDoc(_0x2b5401,{'shortcuts':_0x304d03},{'merge':!![]});});}}}}),document[_0x37852b(0x2bc)]('blueprint-input-area')[_0x37852b(0x8de)]('click',_0x160397=>{const _0x11ac36=_0x37852b;_0x160397[_0x11ac36(0x97d)][_0x11ac36(0x634)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x11ac36(0x8bd),renderAdditionalShortcutsModal(),document[_0x11ac36(0x2bc)](_0x11ac36(0x43d))[_0x11ac36(0x517)][_0x11ac36(0x1b5)](_0x11ac36(0x44c)));}),document['getElementById'](_0x37852b(0x504))['addEventListener'](_0x37852b(0xc20),()=>{const _0x1d06df=_0x37852b;document[_0x1d06df(0x2bc)](_0x1d06df(0x43d))['classList'][_0x1d06df(0x546)](_0x1d06df(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x995))[_0x37852b(0x8de)](_0x37852b(0xc20),_0x2978c3=>{const _0x2188b1=_0x37852b,_0x3e4c7e=_0x2978c3[_0x2188b1(0x97d)]['closest']('.use-hidden-shortcut-btn'),_0x23d4e9=_0x2978c3['target']['closest'](_0x2188b1(0x650)),_0x400d51=_0x2978c3[_0x2188b1(0x97d)]['closest'](_0x2188b1(0xc5e)),_0x1fad69=document[_0x2188b1(0x2bc)](_0x2188b1(0x43d));if(_0x3e4c7e)_0x1fad69['classList'][_0x2188b1(0x546)]('hidden'),handleShortcutClick(_0x3e4c7e['dataset']['id']);else{if(_0x23d4e9)_0x1fad69[_0x2188b1(0x517)][_0x2188b1(0x546)](_0x2188b1(0x44c)),openShortcutEditor(_0x23d4e9[_0x2188b1(0x4e3)]['id']);else{if(_0x400d51){const _0x5361eb=_0x400d51['dataset']['id'],_0x367c27=blueprintShortcuts['find'](_0x576514=>_0x576514['id']===_0x5361eb)?.[_0x2188b1(0xc85)];showConfirmation(_0x2188b1(0x4a3)+_0x367c27+'\x22?',async()=>{const _0x5a77f4=_0x2188b1,_0x5ceb79=blueprintShortcuts[_0x5a77f4(0xa7a)](_0x3f2a63=>_0x3f2a63['id']!==_0x5361eb);try{const _0x346bd4=doc(db,_0x5a77f4(0x214),_0x5a77f4(0x6b4));await setDoc(_0x346bd4,{'blueprintShortcuts':_0x5ceb79},{'merge':!![]});}catch(_0x11d4c2){console[_0x5a77f4(0x512)](_0x5a77f4(0x145),_0x11d4c2);}});}}}}),document[_0x37852b(0x2bc)](_0x37852b(0xb41))['addEventListener'](_0x37852b(0xc20),_0x2a2a94=>{const _0xc5930e=_0x37852b,_0x59d746=_0x2a2a94['target'][_0xc5930e(0x634)](_0xc5930e(0x4d2)),_0x4d1b9b=_0x2a2a94['target'][_0xc5930e(0x634)](_0xc5930e(0xc97)),_0x16cb30=_0x2a2a94[_0xc5930e(0x97d)]['closest'](_0xc5930e(0x799));if(_0x4d1b9b)openShortcutEditor(_0x4d1b9b[_0xc5930e(0x4e3)]['id']);else{if(_0x16cb30){const _0x2623e4=_0x16cb30[_0xc5930e(0x4e3)]['id'],_0x54eda8=blueprintShortcuts[_0xc5930e(0xaa2)](_0x4812cc=>_0x4812cc['id']===_0x2623e4)?.[_0xc5930e(0xc85)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x54eda8+'\x22?',async()=>{const _0x27cc2a=_0xc5930e,_0x179234=blueprintShortcuts['filter'](_0x22dfd6=>_0x22dfd6['id']!==_0x2623e4);try{const _0x10ebef=doc(db,_0x27cc2a(0x214),_0x27cc2a(0x6b4));await setDoc(_0x10ebef,{'blueprintShortcuts':_0x179234},{'merge':!![]});}catch(_0x5ca444){console[_0x27cc2a(0x512)](_0x27cc2a(0x145),_0x5ca444);}});}else _0x59d746&&handleShortcutClick(_0x59d746[_0xc5930e(0x4e3)]['id']);}}),document['getElementById'](_0x37852b(0xb4c))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>openShortcutEditor(null)),document[_0x37852b(0x2bc)](_0x37852b(0x640))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x3ebce0=_0x37852b;document['getElementById'](_0x3ebce0(0xb65))['classList'][_0x3ebce0(0x546)](_0x3ebce0(0x44c));}),document['getElementById'](_0x37852b(0x92e))[_0x37852b(0x8de)](_0x37852b(0xc20),saveShortcutChanges),document[_0x37852b(0x2bc)](_0x37852b(0xb44))[_0x37852b(0x8de)](_0x37852b(0xc20),async()=>{const _0x3f326b=_0x37852b,_0x3740d6=document['getElementById']('blueprint-upload-input'),_0x30598c=document[_0x3f326b(0x2bc)](_0x3f326b(0x33e));_0x3740d6[_0x3f326b(0x9ad)][_0x3f326b(0xab1)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x3740d6[_0x3f326b(0x9ad)][0x0],_0x30598c['files'][0x0]||null):showMessage(_0x3f326b(0xbbe));}),document[_0x37852b(0x2bc)](_0x37852b(0xa2b))[_0x37852b(0x8de)](_0x37852b(0xc20),async _0x10fa75=>{const _0x38d51c=_0x37852b,_0x55556a=document[_0x38d51c(0x2bc)]('topic-quiz-bank-modal'),_0x36fb9f=_0x10fa75[_0x38d51c(0x97d)]['closest']('.bp-view-analysis-btn'),_0x2c3647=_0x10fa75['target'][_0x38d51c(0x634)]('.bp-unlink-quiz-btn'),_0x192db4=_0x10fa75['target'][_0x38d51c(0x634)](_0x38d51c(0xaaf)),_0x8299c6=_0x10fa75[_0x38d51c(0x97d)]['closest'](_0x38d51c(0x431)),_0x20e461=_0x10fa75[_0x38d51c(0x97d)][_0x38d51c(0x634)]('.bp-live-btn'),_0x2a984d=_0x10fa75[_0x38d51c(0x97d)][_0x38d51c(0x634)](_0x38d51c(0xaad));if(_0x36fb9f){cameFromBlueprint=!![];const _0x154e95=_0x36fb9f[_0x38d51c(0x4e3)][_0x38d51c(0x1c3)];showQuizDetailView(_0x154e95),_0x55556a[_0x38d51c(0x517)][_0x38d51c(0x546)](_0x38d51c(0x44c));}else{if(_0x2c3647){const _0x3d1833=_0x2c3647[_0x38d51c(0x4e3)][_0x38d51c(0xad1)],_0x320d03=_0x2c3647[_0x38d51c(0x4e3)][_0x38d51c(0x1c3)],_0x24b92e=allQuizzesGlobal[_0x38d51c(0xaa2)](_0x49fdfc=>_0x49fdfc['id']===_0x320d03),_0xcd1a82=_0x24b92e?_0x24b92e[_0x38d51c(0x533)]:'รายการนี้';showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0xcd1a82+_0x38d51c(0x31d),async()=>{const _0x27b06c=_0x38d51c;try{const _0x15adb4=doc(db,_0x27b06c(0x366)+appId+_0x27b06c(0x204),currentBlueprintProjectId);await updateDoc(_0x15adb4,{[_0x27b06c(0x939)+_0x3d1833+_0x27b06c(0xa3a)]:arrayRemove(_0x320d03)}),showMessage(_0x27b06c(0x94f)),openTopicQuizBank(_0x3d1833),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2b4a8c){console[_0x27b06c(0x512)](_0x27b06c(0x29f),_0x2b4a8c),showMessage(_0x27b06c(0x99d));}});}else{if(_0x192db4){cameFromBlueprint=!![];const _0x46a927=_0x192db4[_0x38d51c(0x4e3)][_0x38d51c(0x1c3)],_0x5206da=allQuizzesGlobal[_0x38d51c(0xaa2)](_0x5d361c=>_0x5d361c['id']===_0x46a927);_0x5206da&&(startPresentation(_0x5206da),_0x55556a[_0x38d51c(0x517)][_0x38d51c(0x546)](_0x38d51c(0x44c)));}else{if(_0x8299c6){cameFromBlueprint=!![];const _0xeec248=_0x8299c6[_0x38d51c(0x4e3)][_0x38d51c(0x1c3)],_0x487cff=allQuizzesGlobal[_0x38d51c(0xaa2)](_0x44f66f=>_0x44f66f['id']===_0xeec248);_0x487cff&&(currentQuizData=_0x487cff,startAdminTest(),_0x55556a['classList'][_0x38d51c(0x546)](_0x38d51c(0x44c)));}else{if(_0x20e461)cameFromBlueprint=!![],handleStartLiveRace(_0x20e461['dataset'][_0x38d51c(0x1c3)]),_0x55556a[_0x38d51c(0x517)][_0x38d51c(0x546)](_0x38d51c(0x44c));else{if(_0x2a984d){cameFromBlueprint=!![];const _0xc73438=_0x2a984d['dataset'][_0x38d51c(0x1c3)],_0x1da066=_0x2a984d[_0x38d51c(0x4e3)][_0x38d51c(0xbe2)],_0x538d78=allQuizzesGlobal['find'](_0x26758e=>_0x26758e['id']===_0xc73438);_0x538d78&&(showGameStartConfirmationModal(_0xc73438,_0x1da066,_0x538d78[_0x38d51c(0x533)]),_0x55556a['classList']['add'](_0x38d51c(0x44c)));}}}}}}}),document['getElementById'](_0x37852b(0x402))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x67dd93=_0x37852b;document[_0x67dd93(0x2bc)](_0x67dd93(0x460))['classList']['remove'](_0x67dd93(0x44c)),document[_0x67dd93(0x2bc)](_0x67dd93(0x665))[_0x67dd93(0xa21)]='',document[_0x67dd93(0x2bc)](_0x67dd93(0xc70))[_0x67dd93(0xa21)]='',document[_0x67dd93(0x2bc)](_0x67dd93(0x72e))['value']='';}),document[_0x37852b(0x2bc)](_0x37852b(0xa97))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x1ae7d6=_0x37852b;document[_0x1ae7d6(0x2bc)](_0x1ae7d6(0x460))['classList'][_0x1ae7d6(0x546)](_0x1ae7d6(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x674))['addEventListener'](_0x37852b(0xc20),handleManualBlueprintSave),document[_0x37852b(0x2bc)](_0x37852b(0x267))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>document[_0x37852b(0x2bc)](_0x37852b(0xc62))[_0x37852b(0x517)][_0x37852b(0x546)](_0x37852b(0x44c))),document[_0x37852b(0x2bc)](_0x37852b(0xa6a))[_0x37852b(0x8de)](_0x37852b(0xc20),handleSaveBlueprintPageSettings),document['getElementById'](_0x37852b(0x40d))[_0x37852b(0x8de)]('click',openBlueprintQuizSettings),document[_0x37852b(0x2bc)](_0x37852b(0x7b2))[_0x37852b(0x8de)](_0x37852b(0xc20),saveBlueprintProject),document[_0x37852b(0x2bc)](_0x37852b(0x6e6))[_0x37852b(0x8de)](_0x37852b(0xc20),showBlueprintProjects),document[_0x37852b(0x2bc)](_0x37852b(0xb87))['addEventListener'](_0x37852b(0xc20),()=>{const _0x2a8b98=_0x37852b;document[_0x2a8b98(0x2bc)](_0x2a8b98(0x52d))[_0x2a8b98(0x517)]['add'](_0x2a8b98(0x44c));}),document['getElementById']('blueprint-project-list')['addEventListener'](_0x37852b(0xc20),_0x433d7d=>{const _0x25a192=_0x37852b,_0x1b3e2a=_0x433d7d[_0x25a192(0x97d)][_0x25a192(0x634)](_0x25a192(0x2ba)),_0x5e1c0b=_0x433d7d[_0x25a192(0x97d)][_0x25a192(0x634)](_0x25a192(0x651));if(_0x1b3e2a)displayBlueprintProjectManager(_0x1b3e2a['dataset']['id']);else _0x5e1c0b&&handleDeepDeleteBlueprintProject(_0x5e1c0b['dataset']['id']);}),document[_0x37852b(0x2bc)](_0x37852b(0x93b))['addEventListener']('click',()=>{const _0x30d752=_0x37852b;currentBlueprintProjectId=null,currentProjectId=null,document[_0x30d752(0x2bc)]('blueprint-project-manager-view')['classList']['add'](_0x30d752(0x44c)),showView('admin-dashboard');}),document['getElementById'](_0x37852b(0xb2c))['addEventListener'](_0x37852b(0xc20),addTopicToProject),document[_0x37852b(0x2bc)](_0x37852b(0x26e))[_0x37852b(0x8de)](_0x37852b(0xc20),async _0x510bad=>{const _0x43b872=_0x37852b,_0x1b362c=_0x510bad[_0x43b872(0x97d)]['closest'](_0x43b872(0xb33));if(!_0x1b362c)return;const _0x5deef2=_0x1b362c[_0x43b872(0x4e3)]['topicId'],_0x29cbc5=_0x510bad[_0x43b872(0x97d)]['closest']('.bp-create-onet-quiz-btn'),_0x2fe26f=_0x510bad['target']['closest'](_0x43b872(0xa48)),_0x408573=_0x510bad['target'][_0x43b872(0x634)](_0x43b872(0x493)),_0xdfb2b2=_0x510bad[_0x43b872(0x97d)][_0x43b872(0x634)]('.bp-open-topic-bank-btn'),_0x43dc95=_0x510bad[_0x43b872(0x97d)]['closest'](_0x43b872(0x64a)),_0x2ab9ca=_0x510bad['target'][_0x43b872(0x634)]('.bp-generate-lesson-btn'),_0x92d6a0=_0x510bad[_0x43b872(0x97d)][_0x43b872(0x634)]('.bp-edit-topic-btn'),_0x5d3018=_0x510bad[_0x43b872(0x97d)][_0x43b872(0x634)]('.bp-delete-topic-btn'),_0x24637e=_0x59e585=>{const _0x47dd17=_0x43b872,_0x3c0ce8=_0x59e585[_0x47dd17(0x22d)]('[data-field=\x22subTopic\x22]')['textContent'][_0x47dd17(0x1df)](),_0x1673c3=_0x59e585['closest']('.space-y-1.pl-4')[_0x47dd17(0x433)],_0x4c2f94=_0x1673c3?_0x1673c3[_0x47dd17(0x806)][_0x47dd17(0x1df)]():'';return _0x4c2f94+':\x20'+_0x3c0ce8;};if(_0xdfb2b2)openTopicQuizBank(_0x5deef2);else{if(_0x29cbc5){const _0x509da7=_0x24637e(_0x1b362c);selectProjectAndGenerateBlueprintQuiz(_0x509da7,null,_0x5deef2,!![]);}else{if(_0x2fe26f){const _0x2b089a=_0x24637e(_0x1b362c);try{const _0x52dd68=doc(db,_0x43b872(0x366)+appId+_0x43b872(0x36e)+currentBlueprintProjectId+_0x43b872(0xba8),_0x5deef2),_0x14bbe4=await getDoc(_0x52dd68);if(_0x14bbe4[_0x43b872(0x485)]()){const _0x5780ec=_0x14bbe4[_0x43b872(0x923)]()[_0x43b872(0xc75)],_0xb5011f=document[_0x43b872(0x3ff)](_0x43b872(0xb25)),_0x541349=_0x1191b2=>{const _0x5116c3=_0x43b872;if(!_0x1191b2)return'';return _0xb5011f[_0x5116c3(0xcd8)]=_0x1191b2,_0xb5011f[_0x5116c3(0x806)]||_0xb5011f[_0x5116c3(0x35f)]||'';},_0x196072=(_0x541349(_0x5780ec[_0x43b872(0x5c0)])+'\x20'+_0x541349(_0x5780ec[_0x43b872(0xb1b)])+'\x20'+_0x541349(_0x5780ec[_0x43b872(0x7cb)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x2b089a,_0x196072,_0x5deef2,![]);}else showMessage(_0x43b872(0x1d5));}catch(_0x114a27){console['error'](_0x43b872(0x3ab),_0x114a27),showMessage(_0x43b872(0x333));}}else{if(_0x408573){const _0x5a65ae=_0x24637e(_0x1b362c);selectProjectAndGenerateBlueprintQuiz(_0x5a65ae,null,_0x5deef2,![]);}else{if(_0x43dc95){const _0x3b9ef8=doc(db,_0x43b872(0x366)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x53ea84=await getDoc(_0x3b9ef8);if(_0x53ea84[_0x43b872(0x485)]()){const _0x5dc165=_0x53ea84[_0x43b872(0x923)](),_0x27a54d=_0x5dc165[_0x43b872(0xad8)][_0x5deef2];if(_0x27a54d&&_0x27a54d[_0x43b872(0x845)]===_0x43b872(0xd0c))try{const _0x27cf4e=doc(db,'artifacts/'+appId+_0x43b872(0x36e)+currentBlueprintProjectId+_0x43b872(0xba8),_0x5deef2),_0xdeb0dc=await getDoc(_0x27cf4e);if(_0xdeb0dc[_0x43b872(0x485)]()){const _0x48f469=_0xdeb0dc[_0x43b872(0x923)]()[_0x43b872(0xc75)];document['getElementById'](_0x43b872(0x7df))['textContent']='บทเรียนเรื่อง:\x20'+_0x24637e(_0x1b362c),document[_0x43b872(0x2bc)](_0x43b872(0x338))[_0x43b872(0xcd8)]=_0x48f469[_0x43b872(0x5c0)],document[_0x43b872(0x2bc)]('memoryContent')[_0x43b872(0xcd8)]=_0x48f469[_0x43b872(0xb1b)],document[_0x43b872(0x2bc)](_0x43b872(0x541))['innerHTML']=_0x48f469[_0x43b872(0x7cb)];const _0xcf5bd6=document[_0x43b872(0x2bc)]('applicationContent');_0x48f469[_0x43b872(0x585)]?(currentApplicationData=_0x48f469[_0x43b872(0x585)],_0xcf5bd6[_0x43b872(0xcd8)]=currentApplicationData[_0x43b872(0x618)]((_0x4e380f,_0x145bd2)=>_0x43b872(0x27e)+(_0x145bd2+0x1)+'.\x20'+marked[_0x43b872(0x3b3)](_0x4e380f['question'])+_0x43b872(0x349)+_0x145bd2+'-options\x22>'+_0x4e380f[_0x43b872(0xae7)][_0x43b872(0x618)]((_0x574884,_0x35d587)=>_0x43b872(0x688)+_0x145bd2+',\x20'+_0x35d587+_0x43b872(0x3f5)+String['fromCharCode'](0x61+_0x35d587)+'.\x20'+marked[_0x43b872(0x3b3)](_0x574884)+_0x43b872(0x833))[_0x43b872(0xd29)]('')+_0x43b872(0x227))['join']('')):(currentApplicationData=[],_0xcf5bd6[_0x43b872(0xcd8)]=_0x48f469[_0x43b872(0x225)]||_0x48f469[_0x43b872(0x422)]),document['getElementById'](_0x43b872(0xca5))['classList']['add'](_0x43b872(0x44c)),document[_0x43b872(0x2bc)](_0x43b872(0x6d3))[_0x43b872(0x517)][_0x43b872(0x1b5)](_0x43b872(0x44c)),document['getElementById'](_0x43b872(0x28a))['classList'][_0x43b872(0x1b5)](_0x43b872(0x44c)),window[_0x43b872(0x13e)]&&MathJax['typesetPromise']([document[_0x43b872(0x2bc)](_0x43b872(0x6f8))]);}else showMessage(_0x43b872(0x69c));}catch(_0x43d608){console[_0x43b872(0x512)]('Error\x20fetching\x20lesson\x20content:',_0x43d608),showMessage(_0x43b872(0xa3f));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x2ab9ca){const _0x2e7017=_0x24637e(_0x1b362c),_0x565ed7=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x44604a=await getDoc(_0x565ed7);if(_0x44604a[_0x43b872(0x485)]()){const _0x15b6ac=_0x44604a[_0x43b872(0x923)]();generateAndSaveLessonForBlueprint(_0x5deef2,_0x2e7017,_0x15b6ac[_0x43b872(0xbd1)]);}}else{if(_0x92d6a0)editTopicInProject(_0x5deef2);else _0x5d3018&&deleteTopicFromProject(_0x5deef2);}}}}}}}),document[_0x37852b(0x2bc)](_0x37852b(0xc0a))[_0x37852b(0x8de)](_0x37852b(0xc20),handleFixLessonLatex),document[_0x37852b(0x2bc)](_0x37852b(0x3d9))['addEventListener']('click',handleExportLessonToPDF),document['getElementById'](_0x37852b(0xcca))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x30beb2=_0x37852b;document[_0x30beb2(0x2bc)](_0x30beb2(0x28a))['classList'][_0x30beb2(0x546)](_0x30beb2(0x44c));});const _0x27172b=document[_0x37852b(0x2bc)](_0x37852b(0x945)),_0x1a8aa6=document[_0x37852b(0x2bc)](_0x37852b(0x8f3));_0x27172b[_0x37852b(0x8de)](_0x37852b(0x18d),()=>{const _0x59face=_0x37852b;_0x1a8aa6[_0x59face(0x517)][_0x59face(0xb29)]('hidden',!_0x27172b[_0x59face(0x6b7)]);});const _0x5cae40=document[_0x37852b(0x2bc)](_0x37852b(0x441)),_0x131759=document[_0x37852b(0x2bc)](_0x37852b(0x8a3));_0x5cae40[_0x37852b(0x8de)]('change',()=>{const _0x255b2f=_0x37852b;_0x131759[_0x255b2f(0x517)][_0x255b2f(0xb29)]('hidden',!_0x5cae40[_0x255b2f(0x6b7)]);});const _0x58cb08=document[_0x37852b(0x2bc)](_0x37852b(0x353)),_0x252c9a=document[_0x37852b(0x2bc)](_0x37852b(0x3c3));_0x58cb08[_0x37852b(0x8de)](_0x37852b(0x18d),()=>{const _0x439d82=_0x37852b;_0x252c9a[_0x439d82(0x517)]['toggle'](_0x439d82(0x44c),!_0x58cb08['checked']);});const _0x35f403=document[_0x37852b(0x2bc)]('confidence-modal'),_0x414b46=async _0x349ac3=>{const _0x3853ce=_0x37852b,_0x646bec=document[_0x3853ce(0x2bc)](_0x3853ce(0xb54)),_0x6a9d8a=_0x646bec[_0x3853ce(0x4e3)][_0x3853ce(0x672)],_0x581aa5=document['getElementById'](_0x3853ce(0x992));_0x646bec[_0x3853ce(0x517)]['add'](_0x3853ce(0x44c));if(_0x6a9d8a==='timed'){const _0x30c74f=_0x581aa5[_0x3853ce(0xa21)],_0x5361f6={'answer':_0x30c74f,'wasConfident':_0x349ac3};proceedToNextQuestion(_0x5361f6);}else{if(_0x6a9d8a===_0x3853ce(0x899)){const _0x273305=_0x581aa5['dataset'][_0x3853ce(0x257)],_0x225464=JSON['parse'](_0x581aa5[_0x3853ce(0x4e3)][_0x3853ce(0xaa7)]),_0x3bf797=JSON['parse'](_0x581aa5[_0x3853ce(0x4e3)][_0x3853ce(0x351)]),_0x5a9543=_0x581aa5[_0x3853ce(0x4e3)][_0x3853ce(0x628)];handleSyncAnswerSubmit(_0x273305,_0x225464,_0x3bf797,_0x5a9543,_0x349ac3);}}_0x646bec['dataset'][_0x3853ce(0x672)]='';};document[_0x37852b(0x2bc)](_0x37852b(0x50a))[_0x37852b(0x8de)]('click',()=>_0x414b46(!![])),document[_0x37852b(0x2bc)]('confirm-not-confident')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>_0x414b46(![])),liveGameView[_0x37852b(0x8de)]('click',_0x272971=>{const _0x599901=_0x37852b,_0x3db760=_0x272971[_0x599901(0x97d)]['closest'](_0x599901(0xc87));if(_0x3db760){const _0x4ba482=_0x3db760['dataset']['playerName'];_0x4ba482&&handleKickPlayerSync(_0x4ba482);}});const _0x15329b=document[_0x37852b(0x2bc)]('confirm-game-start-btn'),_0x3b52d0=document[_0x37852b(0x2bc)](_0x37852b(0x6a3));_0x3b52d0['addEventListener'](_0x37852b(0xc20),()=>{const _0x56d501=_0x37852b;document[_0x56d501(0x2bc)]('confirm-game-start-modal')['classList'][_0x56d501(0x546)](_0x56d501(0x44c));}),_0x15329b[_0x37852b(0x8de)]('click',()=>{const _0x5a720e=_0x37852b,_0x27eb0c=document[_0x5a720e(0x2bc)](_0x5a720e(0x341))['value'],_0x44a5ea=document[_0x5a720e(0x2bc)](_0x5a720e(0x882))[_0x5a720e(0xa21)],_0x15a25b=document[_0x5a720e(0x2bc)](_0x5a720e(0x75d))[_0x5a720e(0x6b7)];document['getElementById']('confirm-game-start-modal')['classList']['add']('hidden');switch(_0x44a5ea){case'live-race':handleStartLiveRace(_0x27eb0c,_0x15a25b);break;case'team':handleStartTeamQuiz(_0x27eb0c,_0x15a25b);break;case _0x5a720e(0x6a0):handleStartGroupMode(_0x27eb0c,_0x15a25b);break;case _0x5a720e(0x899):const _0x1d722a=document[_0x5a720e(0x22d)]('input[name=\x22syncVariant\x22]:checked')[_0x5a720e(0xa21)]||'classic';handleStartSyncMode(_0x27eb0c,_0x15a25b,_0x1d722a);break;}}),document[_0x37852b(0x2bc)]('join-group-activity-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),handleJoinGroupActivity),liveGameView[_0x37852b(0x8de)](_0x37852b(0xc20),_0x361ae3=>{const _0x4d5adb=_0x37852b,_0x47a7b9=_0x361ae3[_0x4d5adb(0x97d)][_0x4d5adb(0x634)](_0x4d5adb(0xc14));document[_0x4d5adb(0x362)]('.live-summary-tooltip.visible')[_0x4d5adb(0x229)](_0x1d2e42=>{const _0xd057cf=_0x4d5adb;(!_0x47a7b9||_0x1d2e42['id']!==_0x47a7b9[_0xd057cf(0x4e3)]['tooltipTarget'])&&_0x1d2e42[_0xd057cf(0x517)][_0xd057cf(0x1b5)](_0xd057cf(0x50b));});if(!_0x47a7b9)return;const _0x47940a=_0x47a7b9[_0x4d5adb(0x4e3)]['tooltipTarget'],_0x1daf09=document[_0x4d5adb(0x2bc)](_0x47940a);_0x1daf09&&_0x1daf09[_0x4d5adb(0x517)]['toggle'](_0x4d5adb(0x50b));}),liveGameView[_0x37852b(0x8de)](_0x37852b(0xc20),_0x390955=>{const _0x1fbd67=_0x37852b;if(_0x390955[_0x1fbd67(0x97d)][_0x1fbd67(0x517)][_0x1fbd67(0x7ab)](_0x1fbd67(0x79c))){const _0x1c4657=_0x390955['target'][_0x1fbd67(0x4e3)][_0x1fbd67(0x628)];_0x1c4657&&handleKickPlayer(_0x1c4657);}}),document[_0x37852b(0x2bc)](_0x37852b(0x6af))[_0x37852b(0x8de)]('focus',()=>document[_0x37852b(0x2bc)](_0x37852b(0x42d))['classList'][_0x37852b(0x1b5)]('hidden')),document[_0x37852b(0x2bc)](_0x37852b(0x42d))[_0x37852b(0x8de)](_0x37852b(0xc20),handleSaveProjectName),document[_0x37852b(0x2bc)](_0x37852b(0x6af))[_0x37852b(0x8de)](_0x37852b(0xa65),_0x30800f=>{const _0xc57a87=_0x37852b;_0x30800f[_0xc57a87(0x745)]===_0xc57a87(0x457)&&(_0x30800f['preventDefault'](),_0x30800f[_0xc57a87(0x97d)][_0xc57a87(0x466)](),handleSaveProjectName());}),document[_0x37852b(0x2bc)](_0x37852b(0x6d8))[_0x37852b(0x8de)]('click',()=>{const _0x25d2b5=_0x37852b;document[_0x25d2b5(0x2bc)](_0x25d2b5(0xc68))[_0x25d2b5(0x517)][_0x25d2b5(0x1b5)](_0x25d2b5(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0xa52))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x5c896c=_0x37852b;document[_0x5c896c(0x2bc)]('bulk-quiz-settings-modal')[_0x5c896c(0x517)][_0x5c896c(0x546)](_0x5c896c(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x840))[_0x37852b(0x8de)](_0x37852b(0xc20),handleBulkUpdateQuizSettings),document[_0x37852b(0x2bc)](_0x37852b(0x859))[_0x37852b(0x8de)](_0x37852b(0xc20),handleModeSwitch),document[_0x37852b(0x2bc)](_0x37852b(0x5a4))[_0x37852b(0x8de)](_0x37852b(0xc20),handleUpdateOldQuizzes),document['getElementById'](_0x37852b(0xc5d))['addEventListener'](_0x37852b(0xc20),handleResetProjectOrder),document[_0x37852b(0x2bc)]('save-visibility-settings-btn')['addEventListener']('click',handleSaveVisibilitySettings),document[_0x37852b(0x2bc)](_0x37852b(0x3d7))['addEventListener'](_0x37852b(0xc20),handleAddCustomMathTopic),document[_0x37852b(0x2bc)](_0x37852b(0xc51))[_0x37852b(0x8de)](_0x37852b(0xc20),handleSelectAllTopics),document[_0x37852b(0x2bc)](_0x37852b(0xb64))[_0x37852b(0x8de)](_0x37852b(0xc20),handleDeselectAllTopics),document[_0x37852b(0x2bc)]('back-to-dashboard-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x1f53f8=_0x37852b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x1f53f8(0x4f5));}}),document[_0x37852b(0x2bc)](_0x37852b(0x377))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x37d022=_0x37852b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x37d022(0x682));}}),document[_0x37852b(0x2bc)]('back-to-dashboard-from-results-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{showView('admin-dashboard');}),document[_0x37852b(0x2bc)](_0x37852b(0xd05))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x4f4234=_0x37852b;messageModal[_0x4f4234(0x517)][_0x4f4234(0x546)](_0x4f4234(0x44c)),typeof modalConfirmAction===_0x4f4234(0x2e2)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x37852b(0x2bc)](_0x37852b(0x6e4))['addEventListener']('click',()=>createProjectModal[_0x37852b(0x517)]['remove'](_0x37852b(0x44c))),document['getElementById']('cancel-create-project-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>createProjectModal[_0x37852b(0x517)][_0x37852b(0x546)](_0x37852b(0x44c))),document['getElementById']('cancel-admin-login-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>adminPasswordModal[_0x37852b(0x517)][_0x37852b(0x546)](_0x37852b(0x44c))),document['getElementById'](_0x37852b(0xc9b))[_0x37852b(0x8de)]('click',handleAdminLogin),document[_0x37852b(0x2bc)](_0x37852b(0x1f1))['addEventListener'](_0x37852b(0x1ce),_0x5a2694=>{const _0x4feb32=_0x37852b;if(_0x5a2694[_0x4feb32(0x745)]===_0x4feb32(0x457))handleAdminLogin();}),document[_0x37852b(0x2bc)](_0x37852b(0x814))[_0x37852b(0x8de)]('click',()=>{const _0x599d58=_0x37852b;confirmationModal['classList'][_0x599d58(0x546)](_0x599d58(0x44c)),confirmAction=null;}),document[_0x37852b(0x2bc)]('confirm-delete-btn')['addEventListener'](_0x37852b(0xc20),()=>{const _0x4edd56=_0x37852b;confirmAction&&confirmAction(),confirmationModal[_0x4edd56(0x517)][_0x4edd56(0x546)]('hidden'),confirmAction=null;}),document[_0x37852b(0x2bc)](_0x37852b(0x560))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>renameQuizModal[_0x37852b(0x517)]['add']('hidden')),document['getElementById']('confirm-rename-quiz-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),confirmRenameQuiz),document[_0x37852b(0x2bc)](_0x37852b(0x1c1))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>moveQuizModal[_0x37852b(0x517)][_0x37852b(0x546)](_0x37852b(0x44c))),document[_0x37852b(0x2bc)]('confirm-move-quiz-btn')[_0x37852b(0x8de)]('click',confirmMoveQuiz),document[_0x37852b(0x2bc)](_0x37852b(0x57d))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>quizSettingsModal[_0x37852b(0x517)][_0x37852b(0x546)](_0x37852b(0x44c))),document['getElementById'](_0x37852b(0xb72))[_0x37852b(0x8de)](_0x37852b(0xc20),confirmQuizSettings),document[_0x37852b(0x2bc)](_0x37852b(0x4cd))[_0x37852b(0x8de)]('click',()=>quizStatusModal[_0x37852b(0x517)][_0x37852b(0x546)]('hidden')),document[_0x37852b(0x2bc)](_0x37852b(0x472))[_0x37852b(0x8de)](_0x37852b(0xc20),confirmQuizStatus);const _0x31d599=document['getElementById'](_0x37852b(0xcfe));document['getElementById']('cancel-export-pdf-btn')['addEventListener']('click',()=>{const _0x4b7568=_0x37852b;_0x31d599[_0x4b7568(0x517)][_0x4b7568(0x546)](_0x4b7568(0x44c));}),document['getElementById'](_0x37852b(0x2a3))[_0x37852b(0x8de)](_0x37852b(0xc20),async()=>{const _0x91d1d4=_0x37852b,_0x563378=allQuizzes[_0x91d1d4(0xaa2)](_0x41cd20=>_0x41cd20['id']===actionTargetId);_0x563378?(currentQuizData=_0x563378,exportQuizAsWorksheetPDF()):showMessage(_0x91d1d4(0x827)),_0x31d599[_0x91d1d4(0x517)][_0x91d1d4(0x546)]('hidden');}),document[_0x37852b(0x2bc)](_0x37852b(0x200))[_0x37852b(0x8de)](_0x37852b(0xc20),async()=>{const _0xdb3beb=_0x37852b,_0x425af9=allQuizzes[_0xdb3beb(0xaa2)](_0xda75c9=>_0xda75c9['id']===actionTargetId);_0x425af9?(currentQuizData=_0x425af9,exportQuizAsTutorPDF()):showMessage(_0xdb3beb(0x827)),_0x31d599[_0xdb3beb(0x517)]['add'](_0xdb3beb(0x44c));});const _0x2a8b16=document['getElementById'](_0x37852b(0x59c));_0x2a8b16['innerHTML']='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x2a8b16['addEventListener']('click',openGlobalActivityModal),document[_0x37852b(0x2bc)](_0x37852b(0xa02))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x56e197=_0x37852b;document[_0x56e197(0x2bc)]('global-activity-modal')[_0x56e197(0x517)][_0x56e197(0x546)]('hidden');}),document[_0x37852b(0x2bc)](_0x37852b(0xc64))['addEventListener']('input',_0xcfd3e5=>{const _0x239993=_0x37852b;renderGlobalActivityList(_0xcfd3e5[_0x239993(0x97d)][_0x239993(0xa21)]);}),document[_0x37852b(0x2bc)](_0x37852b(0xb24))[_0x37852b(0x8de)]('click',_0x5c4949=>{const _0x5f30b6=_0x37852b,_0x3b41f8=_0x5c4949[_0x5f30b6(0x97d)][_0x5f30b6(0x634)](_0x5f30b6(0x566));if(!_0x3b41f8)return;const _0x3f5a9f=_0x3b41f8[_0x5f30b6(0x4e3)]['id'],_0x1a64f5=_0x3b41f8[_0x5f30b6(0x4e3)][_0x5f30b6(0xbe2)],_0xec3255=allQuizzesGlobal[_0x5f30b6(0xaa2)](_0x2ad772=>_0x2ad772['id']===_0x3f5a9f);_0xec3255&&(document[_0x5f30b6(0x2bc)](_0x5f30b6(0x254))[_0x5f30b6(0x517)][_0x5f30b6(0x546)](_0x5f30b6(0x44c)),_0x1a64f5===_0x5f30b6(0x442)?handleStartLiveRace(_0x3f5a9f):showGameStartConfirmationModal(_0x3f5a9f,_0x1a64f5,_0xec3255[_0x5f30b6(0x533)]));}),document['getElementById'](_0x37852b(0x69b))[_0x37852b(0x8de)](_0x37852b(0xbf1),renderProjects),document[_0x37852b(0x2bc)](_0x37852b(0x3ee))[_0x37852b(0x8de)](_0x37852b(0x18d),async()=>{const _0x35d34d=_0x37852b,_0x313803=document[_0x35d34d(0x2bc)](_0x35d34d(0x3ee))['value'],_0x279812=doc(db,_0x35d34d(0x214),_0x35d34d(0x6b4));try{await setDoc(_0x279812,{'projectSort':_0x313803},{'merge':!![]});}catch(_0x2aa54e){console['error'](_0x35d34d(0xcf5),_0x2aa54e),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x37852b(0x2bc)](_0x37852b(0x170))[_0x37852b(0x8de)]('input',renderQuizzes),document[_0x37852b(0x2bc)](_0x37852b(0x993))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x5012ce=_0x37852b;globalDashboardSettings[_0x5012ce(0x232)]=_0x5012ce(0x3ba),saveUserPreference(_0x5012ce(0x232),_0x5012ce(0x3ba)),renderProjects();}),document[_0x37852b(0x2bc)](_0x37852b(0xb06))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x1ee0e7=_0x37852b;globalDashboardSettings[_0x1ee0e7(0x232)]=_0x1ee0e7(0x1a1),saveUserPreference(_0x1ee0e7(0x232),'list'),renderProjects();}),manageTab['addEventListener']('click',()=>switchProjectTab('manage')),resultsTab[_0x37852b(0x8de)](_0x37852b(0xc20),()=>switchProjectTab('results')),leaderboardTab[_0x37852b(0x8de)](_0x37852b(0xc20),()=>switchProjectTab(_0x37852b(0xa8c))),document[_0x37852b(0x2bc)](_0x37852b(0xa31))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>switchQuizDetailTab('analytics')),document[_0x37852b(0x2bc)](_0x37852b(0x60c))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>switchQuizDetailTab(_0x37852b(0x286))),document[_0x37852b(0x2bc)](_0x37852b(0x4f8))['addEventListener']('click',()=>switchQuizDetailTab(_0x37852b(0x8b9))),document[_0x37852b(0x2bc)]('behavior-log-tab-btn')[_0x37852b(0x8de)]('click',()=>switchQuizDetailTab(_0x37852b(0xa11))),document[_0x37852b(0x2bc)](_0x37852b(0x836))['addEventListener'](_0x37852b(0xc20),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x2f23d8=document[_0x37852b(0x2bc)](_0x37852b(0x8a6)),_0x32efd8=document[_0x37852b(0x2bc)](_0x37852b(0x292)),_0x47a8b4=document[_0x37852b(0x2bc)](_0x37852b(0x7ec)),_0x11795c=document[_0x37852b(0x2bc)](_0x37852b(0x47b)),_0x4d3c8a=document[_0x37852b(0x2bc)](_0x37852b(0x6e9)),_0x3ffef5=document[_0x37852b(0x2bc)](_0x37852b(0xb75));topicTab[_0x37852b(0x8de)]('click',()=>{const _0x3f801b=_0x37852b;topicTab[_0x3f801b(0x517)][_0x3f801b(0x546)]('active'),textTab[_0x3f801b(0x517)]['remove'](_0x3f801b(0x50f)),fileTab[_0x3f801b(0x517)][_0x3f801b(0x1b5)](_0x3f801b(0x50f)),worksheetTab[_0x3f801b(0x517)][_0x3f801b(0x1b5)](_0x3f801b(0x50f));if(_0x2f23d8)_0x2f23d8[_0x3f801b(0x517)][_0x3f801b(0x1b5)](_0x3f801b(0x50f));if(_0x47a8b4)_0x47a8b4['classList']['remove'](_0x3f801b(0x50f));if(_0x4d3c8a)_0x4d3c8a[_0x3f801b(0x517)][_0x3f801b(0x1b5)](_0x3f801b(0x50f));topicInputArea[_0x3f801b(0x517)][_0x3f801b(0x1b5)](_0x3f801b(0x44c)),textInputArea['classList'][_0x3f801b(0x546)](_0x3f801b(0x44c)),fileInputArea[_0x3f801b(0x517)][_0x3f801b(0x546)](_0x3f801b(0x44c)),worksheetInputArea['classList'][_0x3f801b(0x546)](_0x3f801b(0x44c));if(_0x32efd8)_0x32efd8['classList'][_0x3f801b(0x546)](_0x3f801b(0x44c));if(_0x11795c)_0x11795c[_0x3f801b(0x517)][_0x3f801b(0x546)](_0x3f801b(0x44c));if(_0x3ffef5)_0x3ffef5[_0x3f801b(0x517)][_0x3f801b(0x546)](_0x3f801b(0x44c));}),textTab['addEventListener'](_0x37852b(0xc20),()=>{const _0x472f6a=_0x37852b;textTab['classList'][_0x472f6a(0x546)]('active'),topicTab['classList'][_0x472f6a(0x1b5)](_0x472f6a(0x50f)),fileTab[_0x472f6a(0x517)][_0x472f6a(0x1b5)](_0x472f6a(0x50f)),worksheetTab['classList']['remove'](_0x472f6a(0x50f));if(_0x2f23d8)_0x2f23d8[_0x472f6a(0x517)][_0x472f6a(0x1b5)]('active');if(_0x47a8b4)_0x47a8b4['classList']['remove']('active');if(_0x4d3c8a)_0x4d3c8a['classList']['remove'](_0x472f6a(0x50f));textInputArea[_0x472f6a(0x517)][_0x472f6a(0x1b5)](_0x472f6a(0x44c)),topicInputArea[_0x472f6a(0x517)]['add'](_0x472f6a(0x44c)),fileInputArea[_0x472f6a(0x517)][_0x472f6a(0x546)]('hidden'),worksheetInputArea['classList'][_0x472f6a(0x546)](_0x472f6a(0x44c));if(_0x32efd8)_0x32efd8[_0x472f6a(0x517)]['add'](_0x472f6a(0x44c));if(_0x11795c)_0x11795c[_0x472f6a(0x517)]['add'](_0x472f6a(0x44c));if(_0x3ffef5)_0x3ffef5['classList'][_0x472f6a(0x546)](_0x472f6a(0x44c));}),fileTab[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x3bb14=_0x37852b;fileTab[_0x3bb14(0x517)][_0x3bb14(0x546)](_0x3bb14(0x50f)),topicTab[_0x3bb14(0x517)][_0x3bb14(0x1b5)](_0x3bb14(0x50f)),textTab[_0x3bb14(0x517)][_0x3bb14(0x1b5)](_0x3bb14(0x50f)),worksheetTab[_0x3bb14(0x517)][_0x3bb14(0x1b5)](_0x3bb14(0x50f));if(_0x2f23d8)_0x2f23d8['classList']['remove']('active');if(_0x47a8b4)_0x47a8b4[_0x3bb14(0x517)]['remove'](_0x3bb14(0x50f));if(_0x4d3c8a)_0x4d3c8a[_0x3bb14(0x517)][_0x3bb14(0x1b5)]('active');fileInputArea[_0x3bb14(0x517)][_0x3bb14(0x1b5)](_0x3bb14(0x44c)),topicInputArea[_0x3bb14(0x517)]['add'](_0x3bb14(0x44c)),textInputArea[_0x3bb14(0x517)][_0x3bb14(0x546)](_0x3bb14(0x44c)),worksheetInputArea['classList'][_0x3bb14(0x546)](_0x3bb14(0x44c));if(_0x32efd8)_0x32efd8[_0x3bb14(0x517)][_0x3bb14(0x546)]('hidden');if(_0x11795c)_0x11795c['classList'][_0x3bb14(0x546)](_0x3bb14(0x44c));if(_0x3ffef5)_0x3ffef5[_0x3bb14(0x517)][_0x3bb14(0x546)](_0x3bb14(0x44c));}),worksheetTab['addEventListener'](_0x37852b(0xc20),()=>{const _0x3f00eb=_0x37852b;worksheetTab[_0x3f00eb(0x517)][_0x3f00eb(0x546)](_0x3f00eb(0x50f)),topicTab['classList']['remove'](_0x3f00eb(0x50f)),textTab[_0x3f00eb(0x517)]['remove']('active'),fileTab[_0x3f00eb(0x517)][_0x3f00eb(0x1b5)](_0x3f00eb(0x50f));if(_0x2f23d8)_0x2f23d8['classList'][_0x3f00eb(0x1b5)]('active');if(_0x47a8b4)_0x47a8b4[_0x3f00eb(0x517)][_0x3f00eb(0x1b5)](_0x3f00eb(0x50f));if(_0x4d3c8a)_0x4d3c8a[_0x3f00eb(0x517)][_0x3f00eb(0x1b5)](_0x3f00eb(0x50f));worksheetInputArea[_0x3f00eb(0x517)][_0x3f00eb(0x1b5)](_0x3f00eb(0x44c)),topicInputArea[_0x3f00eb(0x517)][_0x3f00eb(0x546)]('hidden'),textInputArea['classList'][_0x3f00eb(0x546)](_0x3f00eb(0x44c)),fileInputArea[_0x3f00eb(0x517)][_0x3f00eb(0x546)](_0x3f00eb(0x44c));if(_0x32efd8)_0x32efd8['classList'][_0x3f00eb(0x546)](_0x3f00eb(0x44c));if(_0x11795c)_0x11795c[_0x3f00eb(0x517)]['add'](_0x3f00eb(0x44c));if(_0x3ffef5)_0x3ffef5[_0x3f00eb(0x517)][_0x3f00eb(0x546)](_0x3f00eb(0x44c));});const _0xd60d5b=document[_0x37852b(0x2bc)](_0x37852b(0x307)),_0x1e9cf8=document[_0x37852b(0x2bc)](_0x37852b(0x479));_0xd60d5b&&_0xd60d5b[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x21adfd=_0x37852b;topicTab[_0x21adfd(0x517)][_0x21adfd(0x1b5)](_0x21adfd(0x50f)),textTab[_0x21adfd(0x517)]['remove'](_0x21adfd(0x50f)),fileTab[_0x21adfd(0x517)][_0x21adfd(0x1b5)](_0x21adfd(0x50f)),worksheetTab[_0x21adfd(0x517)][_0x21adfd(0x1b5)]('active');if(_0x2f23d8)_0x2f23d8[_0x21adfd(0x517)][_0x21adfd(0x1b5)](_0x21adfd(0x50f));if(_0x47a8b4)_0x47a8b4[_0x21adfd(0x517)]['remove'](_0x21adfd(0x50f));if(_0x4d3c8a)_0x4d3c8a[_0x21adfd(0x517)][_0x21adfd(0x1b5)](_0x21adfd(0x50f));_0xd60d5b[_0x21adfd(0x517)][_0x21adfd(0x546)](_0x21adfd(0x50f)),topicInputArea[_0x21adfd(0x517)][_0x21adfd(0x546)](_0x21adfd(0x44c)),textInputArea[_0x21adfd(0x517)]['add'](_0x21adfd(0x44c)),fileInputArea[_0x21adfd(0x517)][_0x21adfd(0x546)](_0x21adfd(0x44c)),worksheetInputArea[_0x21adfd(0x517)]['add']('hidden');if(_0x32efd8)_0x32efd8[_0x21adfd(0x517)]['add'](_0x21adfd(0x44c));if(_0x11795c)_0x11795c[_0x21adfd(0x517)][_0x21adfd(0x546)](_0x21adfd(0x44c));if(_0x3ffef5)_0x3ffef5[_0x21adfd(0x517)]['add'](_0x21adfd(0x44c));_0x1e9cf8[_0x21adfd(0x517)][_0x21adfd(0x1b5)]('hidden'),displayQuestionBank();});_0x2f23d8&&(_0x2f23d8['addEventListener'](_0x37852b(0xc20),()=>{const _0x4249d6=_0x37852b;_0x2f23d8['classList']['add'](_0x4249d6(0x50f)),topicTab['classList'][_0x4249d6(0x1b5)](_0x4249d6(0x50f)),textTab[_0x4249d6(0x517)][_0x4249d6(0x1b5)](_0x4249d6(0x50f)),fileTab['classList'][_0x4249d6(0x1b5)]('active'),worksheetTab[_0x4249d6(0x517)][_0x4249d6(0x1b5)]('active');if(_0x47a8b4)_0x47a8b4['classList'][_0x4249d6(0x1b5)](_0x4249d6(0x50f));if(_0x4d3c8a)_0x4d3c8a[_0x4249d6(0x517)]['remove']('active');_0x32efd8[_0x4249d6(0x517)][_0x4249d6(0x1b5)](_0x4249d6(0x44c)),topicInputArea[_0x4249d6(0x517)][_0x4249d6(0x546)]('hidden'),textInputArea['classList'][_0x4249d6(0x546)](_0x4249d6(0x44c)),fileInputArea[_0x4249d6(0x517)][_0x4249d6(0x546)](_0x4249d6(0x44c)),worksheetInputArea[_0x4249d6(0x517)][_0x4249d6(0x546)]('hidden');if(_0x11795c)_0x11795c[_0x4249d6(0x517)]['add']('hidden');if(_0x3ffef5)_0x3ffef5[_0x4249d6(0x517)][_0x4249d6(0x546)](_0x4249d6(0x44c));}),document[_0x37852b(0x2bc)]('generate-from-link-btn')[_0x37852b(0x8de)]('click',handleGenerateFromLink));_0x47a8b4&&_0x47a8b4[_0x37852b(0x8de)]('click',()=>{const _0x94cc34=_0x37852b;_0x47a8b4['classList'][_0x94cc34(0x546)](_0x94cc34(0x50f)),topicTab['classList']['remove'](_0x94cc34(0x50f)),textTab[_0x94cc34(0x517)]['remove']('active'),fileTab[_0x94cc34(0x517)][_0x94cc34(0x1b5)](_0x94cc34(0x50f)),worksheetTab['classList'][_0x94cc34(0x1b5)](_0x94cc34(0x50f));if(_0x2f23d8)_0x2f23d8[_0x94cc34(0x517)][_0x94cc34(0x1b5)](_0x94cc34(0x50f));if(_0xd60d5b)_0xd60d5b[_0x94cc34(0x517)][_0x94cc34(0x1b5)](_0x94cc34(0x50f));if(_0x4d3c8a)_0x4d3c8a[_0x94cc34(0x517)][_0x94cc34(0x1b5)](_0x94cc34(0x50f));_0x11795c[_0x94cc34(0x517)][_0x94cc34(0x1b5)](_0x94cc34(0x44c)),topicInputArea[_0x94cc34(0x517)]['add'](_0x94cc34(0x44c)),textInputArea['classList'][_0x94cc34(0x546)]('hidden'),fileInputArea[_0x94cc34(0x517)]['add'](_0x94cc34(0x44c)),worksheetInputArea['classList'][_0x94cc34(0x546)](_0x94cc34(0x44c));if(_0x32efd8)_0x32efd8[_0x94cc34(0x517)][_0x94cc34(0x546)](_0x94cc34(0x44c));if(_0x1e9cf8)_0x1e9cf8[_0x94cc34(0x517)][_0x94cc34(0x546)](_0x94cc34(0x44c));if(_0x3ffef5)_0x3ffef5['classList']['add'](_0x94cc34(0x44c));});_0x4d3c8a&&_0x4d3c8a[_0x37852b(0x8de)]('click',()=>{const _0x23594f=_0x37852b;_0x4d3c8a['classList'][_0x23594f(0x546)](_0x23594f(0x50f)),topicTab[_0x23594f(0x517)][_0x23594f(0x1b5)]('active'),textTab[_0x23594f(0x517)][_0x23594f(0x1b5)](_0x23594f(0x50f)),fileTab[_0x23594f(0x517)]['remove'](_0x23594f(0x50f)),worksheetTab[_0x23594f(0x517)]['remove'](_0x23594f(0x50f));if(_0x2f23d8)_0x2f23d8['classList'][_0x23594f(0x1b5)](_0x23594f(0x50f));if(_0x47a8b4)_0x47a8b4[_0x23594f(0x517)]['remove']('active');if(_0xd60d5b)_0xd60d5b['classList']['remove'](_0x23594f(0x50f));_0x3ffef5[_0x23594f(0x517)][_0x23594f(0x1b5)]('hidden'),topicInputArea[_0x23594f(0x517)][_0x23594f(0x546)]('hidden'),textInputArea[_0x23594f(0x517)][_0x23594f(0x546)](_0x23594f(0x44c)),fileInputArea[_0x23594f(0x517)]['add'](_0x23594f(0x44c)),worksheetInputArea[_0x23594f(0x517)]['add']('hidden');if(_0x32efd8)_0x32efd8[_0x23594f(0x517)][_0x23594f(0x546)](_0x23594f(0x44c));if(_0x11795c)_0x11795c['classList'][_0x23594f(0x546)]('hidden');if(_0x1e9cf8)_0x1e9cf8[_0x23594f(0x517)][_0x23594f(0x546)](_0x23594f(0x44c));});const _0x2b1483=document['getElementById'](_0x37852b(0x5bc)),_0x3ed30c=document['getElementById']('generate-from-blueprint-btn');if(_0x2b1483){const _0x2400ba=document[_0x37852b(0x2bc)](_0x37852b(0x5bc)),_0x4b3422=document[_0x37852b(0x2bc)](_0x37852b(0xb44)),_0x45c109=document[_0x37852b(0x2bc)](_0x37852b(0x268)),_0x352a10=document[_0x37852b(0x2bc)](_0x37852b(0x23a)),_0x4f54e0=document[_0x37852b(0x2bc)]('blueprint-topics-list-container'),_0x5f029c=document['getElementById'](_0x37852b(0x4b7));_0x2400ba&&_0x2400ba[_0x37852b(0x8de)](_0x37852b(0x18d),async _0xaf2e8d=>{const _0x48777c=_0x37852b;_0x45c109[_0x48777c(0x517)][_0x48777c(0x546)](_0x48777c(0x44c)),_0x4f54e0[_0x48777c(0x517)]['add']('hidden'),_0x352a10[_0x48777c(0x6b7)]=![],_0x4b3422[_0x48777c(0x8ab)]=!![];const _0x5e9cad=_0xaf2e8d[_0x48777c(0x97d)]['files'][0x0];if(_0x5e9cad){_0x4b3422[_0x48777c(0x8ab)]=![];try{const _0x3921c0=await extractTextFromPdf(_0x5e9cad);await analyzeBlueprintForTopics(_0x3921c0);}catch(_0x1f1148){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x45c109[_0x48777c(0x517)][_0x48777c(0x546)]('hidden');}}}),_0x352a10&&_0x352a10[_0x37852b(0x8de)](_0x37852b(0x18d),_0x158119=>{const _0x4d276a=_0x37852b,_0x5a2e89=_0x158119['target'][_0x4d276a(0x6b7)];_0x4f54e0[_0x4d276a(0x517)][_0x4d276a(0xb29)]('hidden',!_0x5a2e89),_0x4b3422[_0x4d276a(0x8ab)]=_0x5a2e89;}),_0x5f029c&&(_0x5f029c&&_0x5f029c[_0x37852b(0x8de)](_0x37852b(0xc20),_0x5a3f55=>{const _0x3ca119=_0x37852b,_0x1704d2=_0x5a3f55[_0x3ca119(0x97d)][_0x3ca119(0x634)](_0x3ca119(0xc0e)),_0x4fbb3b=_0x5a3f55[_0x3ca119(0x97d)][_0x3ca119(0x634)]('.generate-content-btn');if(_0x1704d2){const _0x58dae8=unescape(_0x1704d2[_0x3ca119(0x4e3)]['topic']);generateQuizForSingleTopic(_0x58dae8);}else{if(_0x4fbb3b){const _0x1d3def=unescape(_0x4fbb3b[_0x3ca119(0x4e3)][_0x3ca119(0x533)]);handleGenerateTeachingContent(_0x1d3def);}}}));}_0x3ed30c&&_0x3ed30c[_0x37852b(0x8de)](_0x37852b(0xc20),handleGenerateFromBlueprint);const _0x58e68c=document[_0x37852b(0x2bc)](_0x37852b(0x2a2)),_0x5b027a=document[_0x37852b(0x2bc)]('generate-from-parallel-test-btn');_0x58e68c&&_0x58e68c[_0x37852b(0x8de)](_0x37852b(0x18d),_0x46e268=>{const _0x225e40=_0x37852b;_0x5b027a[_0x225e40(0x8ab)]=_0x46e268[_0x225e40(0x97d)][_0x225e40(0x9ad)]['length']===0x0;});_0x5b027a&&_0x5b027a['addEventListener']('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0x37852b(0x8de)](_0x37852b(0xc20),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x434c48=_0x37852b,_0x3f1b5c=document[_0x434c48(0x2bc)](_0x434c48(0xb1f));currentStudentName=_0x3f1b5c[_0x434c48(0xa21)];if(!currentStudentName){showMessage(_0x434c48(0x75e));return;}try{const _0x5f1188=currentQuizData['id'],_0x2f7bee=doc(db,_0x434c48(0x366)+appId+_0x434c48(0x9ef)+_0x5f1188+'/submissions',currentStudentName),_0x401154=await getDoc(_0x2f7bee);!_0x401154[_0x434c48(0x485)]()?await setDoc(_0x2f7bee,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2f7bee,{'startedAt':new Date()[_0x434c48(0x597)]()});}catch(_0x1911d6){console[_0x434c48(0x512)](_0x434c48(0x4f7),_0x1911d6),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x434c48(0x517)][_0x434c48(0x546)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x37852b(0xb0b))['addEventListener'](_0x37852b(0xc20),showJoinGameView),document[_0x37852b(0x2bc)](_0x37852b(0x1f8))[_0x37852b(0x8de)]('click',handleJoinLiveGame),document[_0x37852b(0x2bc)](_0x37852b(0x571))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>showView(_0x37852b(0x8fb)));const _0xeda46c=()=>{const _0x240c31=_0x37852b,_0x247e48=document[_0x240c31(0x2bc)](_0x240c31(0xc33))[_0x240c31(0x806)][_0x240c31(0x794)](/[^a-z0-9]/gi,'_')[_0x240c31(0x281)]();return _0x240c31(0x9b3)+(_0x247e48||'quiz');},_0x5d7c58=document['getElementById'](_0x37852b(0xcb2));_0x5d7c58&&_0x5d7c58['addEventListener'](_0x37852b(0xbf1),_0x5434ab=>{const _0x50f98c=_0x37852b,_0x5ce499=_0x5434ab[_0x50f98c(0x97d)]['value'][_0x50f98c(0x281)]()[_0x50f98c(0x1df)](),_0x34648f=document[_0x50f98c(0x2bc)](_0x50f98c(0x6a5)),_0x1fe928=_0x34648f['querySelectorAll'](_0x50f98c(0xa39));_0x1fe928['forEach'](_0x391fa2=>{const _0x740d70=_0x50f98c;let _0x2f45d9=![];const _0x4bca93=_0x391fa2[_0x740d70(0x362)](_0x740d70(0x4a8));_0x4bca93[_0x740d70(0x229)](_0x2d8299=>{const _0x48a52=_0x740d70,_0x28dfe3=_0x2d8299[_0x48a52(0x22d)](_0x48a52(0x534))[_0x48a52(0x806)][_0x48a52(0x281)]();_0x28dfe3['includes'](_0x5ce499)?(_0x2d8299[_0x48a52(0x60e)][_0x48a52(0x9b9)]=_0x48a52(0x8fa),_0x2f45d9=!![]):_0x2d8299[_0x48a52(0x60e)][_0x48a52(0x9b9)]='none';}),_0x2f45d9?_0x391fa2[_0x740d70(0x60e)][_0x740d70(0x9b9)]=_0x740d70(0x26f):_0x391fa2[_0x740d70(0x60e)]['display']=_0x740d70(0x1d8);});});document[_0x37852b(0x2bc)]('export-image-btn')['addEventListener']('click',()=>exportTableAsImage(_0x37852b(0x78b),_0xeda46c())),document[_0x37852b(0x2bc)]('export-pdf-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>exportTableAsPDF('results-table',_0xeda46c())),document['getElementById']('export-word-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>exportTableAsWord(_0x37852b(0x78b),_0xeda46c())),document[_0x37852b(0x2bc)](_0x37852b(0x581))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>exportTableAsExcel(_0x37852b(0xc37),_0xeda46c()));const _0x48479d=()=>{const _0x3ea00d=_0x37852b,_0x5b969d=document[_0x3ea00d(0x2bc)](_0x3ea00d(0xc33))[_0x3ea00d(0x806)]['replace'](/[^a-z0-9]/gi,'_')[_0x3ea00d(0x281)]();return _0x3ea00d(0xcd1)+(_0x5b969d||'quiz');};document[_0x37852b(0x2bc)](_0x37852b(0x8d5))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x48479d())),document[_0x37852b(0x2bc)]('export-leaderboard-pdf-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),()=>exportTableAsPDF('quiz-leaderboard-table',_0x48479d())),document[_0x37852b(0x2bc)](_0x37852b(0x85f))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>exportTableAsWord(_0x37852b(0xbb8),_0x48479d())),document[_0x37852b(0x2bc)](_0x37852b(0x7af))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>exportTableAsExcel(_0x37852b(0x4bc),_0x48479d())),projectQuizzesList['addEventListener'](_0x37852b(0xc20),async _0x1a07ef=>{const _0x574352=_0x37852b,_0x536bb8=_0x1a07ef['target'][_0x574352(0x634)](_0x574352(0x87c)),_0x137526=_0x1a07ef[_0x574352(0x97d)]['closest'](_0x574352(0x91a)),_0x151edb=_0x1a07ef['target'][_0x574352(0x634)](_0x574352(0x213)),_0x98767=_0x1a07ef['target']['closest'](_0x574352(0xbc0)),_0x2195c6=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x5d0)),_0x5f1d3a=_0x1a07ef[_0x574352(0x97d)]['closest']('.copy-quiz-id-list-btn'),_0x4c05c8=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x5c6)),_0x110ff9=_0x1a07ef['target']['closest'](_0x574352(0x8dc)),_0x860fc6=_0x1a07ef[_0x574352(0x97d)]['closest'](_0x574352(0x71a)),_0x40941b=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)]('.rename-quiz-btn'),_0x40576f=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x458)),_0x176f71=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)]('.move-quiz-btn'),_0xdf1a3c=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x6eb)),_0x4ca0c5=_0x1a07ef['target'][_0x574352(0x634)]('.unpair-quiz-btn'),_0x2a5fa2=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x38c)),_0x1f5ecb=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x9cf)),_0x1d7244=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x65a)),_0x7c03c2=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)]('.delete-quiz-btn'),_0x2cda28=_0x1a07ef[_0x574352(0x97d)]['closest'](_0x574352(0xa1d)),_0x18ed91=_0x1a07ef[_0x574352(0x97d)]['closest']('.toggle-actions-btn'),_0x2b1211=_0x1a07ef[_0x574352(0x97d)]['closest']('.generate-easy-version-btn'),_0x284e49=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x668)),_0x244c5b=_0x1a07ef[_0x574352(0x97d)][_0x574352(0x634)](_0x574352(0x91f));if(_0x284e49){const _0x2470a8=_0x284e49[_0x574352(0x4e3)][_0x574352(0x1c3)],_0x280155=_0x284e49['dataset'][_0x574352(0xbe2)],_0x2408a1=allQuizzes[_0x574352(0xaa2)](_0x290e40=>_0x290e40['id']===_0x2470a8);_0x2408a1&&showGameStartConfirmationModal(_0x2470a8,_0x280155,_0x2408a1[_0x574352(0x533)]);}else{if(_0x244c5b){const _0x3b34c2=_0x244c5b[_0x574352(0x4e3)][_0x574352(0x1c3)];handleStartLiveRace(_0x3b34c2);}else{if(_0x18ed91){const _0x5c50c7=_0x18ed91['dataset']['quizId'],_0x337831=document['getElementById'](_0x574352(0x37f)+_0x5c50c7);_0x337831&&_0x337831[_0x574352(0x517)]['toggle']('hidden');}else{if(_0x137526){const _0x2fa340=_0x137526[_0x574352(0x4e3)]['quizId'],_0x3136c7=allQuizzes[_0x574352(0xaa2)](_0xcd466f=>_0xcd466f['id']===_0x2fa340);_0x3136c7&&handleGenerateParallelPostTest(_0x3136c7);}else{if(_0x151edb)handleCompareResults(_0x151edb[_0x574352(0x4e3)][_0x574352(0x1c3)],_0x151edb['dataset'][_0x574352(0xc7b)]);else{if(_0x98767){const _0x32b069=_0x98767[_0x574352(0x4e3)][_0x574352(0x1c3)],_0x51e80c=allQuizzes['find'](_0x78766f=>_0x78766f['id']===_0x32b069);_0x51e80c&&_0x51e80c[_0x574352(0x2c4)]?(displayLessonPlan(_0x51e80c[_0x574352(0x2c4)],_0x51e80c),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x32b069)),document[_0x574352(0x2bc)](_0x574352(0x79a))['querySelector']('h3')[_0x574352(0x806)]=_0x574352(0x311),document[_0x574352(0x2bc)]('confirm-delete-btn')[_0x574352(0x806)]=_0x574352(0x737)):handleGenerateLessonPlan(_0x32b069);}else{if(_0x2195c6)handleToggleStarQuiz(_0x2195c6['dataset'][_0x574352(0x1c3)]);else{if(_0x5f1d3a)copyTextToClipboard(_0x5f1d3a['dataset'][_0x574352(0x1c3)],_0x574352(0x7f5));else{if(_0x4c05c8)handleOpenQuizEditor(_0x4c05c8[_0x574352(0x4e3)]['quizId']);else{if(_0x110ff9)handleQuizSettings(_0x110ff9[_0x574352(0x4e3)]['quizId']);else{if(_0x860fc6)handleDuplicateQuiz(_0x860fc6[_0x574352(0x4e3)][_0x574352(0x1c3)]);else{if(_0x40941b)handleRenameQuiz(_0x40941b[_0x574352(0x4e3)][_0x574352(0x1c3)],_0x40941b[_0x574352(0x4e3)][_0x574352(0x533)]);else{if(_0x40576f){const _0x4ff97c=_0x40576f[_0x574352(0x4e3)][_0x574352(0x1c3)],_0x3f6c0b=allQuizzes[_0x574352(0xaa2)](_0x46d6fc=>_0x46d6fc['id']===_0x4ff97c);_0x3f6c0b&&handleGenerateParallelFromBank(_0x3f6c0b);}else{if(_0x176f71)handleMoveQuiz(_0x176f71[_0x574352(0x4e3)][_0x574352(0x1c3)]);else{if(_0xdf1a3c)handleManualQuizPairing(_0xdf1a3c[_0x574352(0x4e3)][_0x574352(0x1c3)]);else{if(_0x4ca0c5)handleUnpairQuiz(_0x4ca0c5[_0x574352(0x4e3)][_0x574352(0x1c3)]);else{if(_0x2a5fa2){const _0x15a3cf=_0x2a5fa2[_0x574352(0x4e3)][_0x574352(0x1c3)],_0x184e82=allQuizzes[_0x574352(0xaa2)](_0x78a621=>_0x78a621['id']===_0x15a3cf);if(_0x184e82)startPresentation(_0x184e82);}else{if(_0x1f5ecb){const _0x22cffc=_0x1f5ecb[_0x574352(0x4e3)]['quizId'],_0x5ed0bf=allQuizzes[_0x574352(0xaa2)](_0x2acff3=>_0x2acff3['id']===_0x22cffc);_0x5ed0bf&&(currentQuizData=_0x5ed0bf,startAdminTest());}else{if(_0x1d7244)actionTargetId=_0x1d7244['dataset'][_0x574352(0x1c3)],document[_0x574352(0x2bc)](_0x574352(0xcfe))[_0x574352(0x517)][_0x574352(0x1b5)](_0x574352(0x44c));else{if(_0x7c03c2)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x7c03c2[_0x574352(0x4e3)][_0x574352(0x533)]+_0x574352(0xa15),()=>handleDeleteQuiz(_0x7c03c2[_0x574352(0x4e3)][_0x574352(0x1c3)]));else{if(_0x2cda28)handleQuizStatus(_0x2cda28[_0x574352(0x4e3)][_0x574352(0x1c3)]);else{if(_0x2b1211)handleGenerateEasyVersionQuiz(_0x2b1211[_0x574352(0x4e3)]['quizId']);else _0x536bb8&&showQuizDetailView(_0x536bb8[_0x574352(0x4e3)][_0x574352(0x1c3)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x37852b(0x2bc)](_0x37852b(0x5e3))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>showView(_0x37852b(0x8fb))),document[_0x37852b(0x2bc)](_0x37852b(0x1bf))[_0x37852b(0x8de)]('click',confirmAndStartTeamQuiz),document['getElementById'](_0x37852b(0x4bc))[_0x37852b(0x22d)](_0x37852b(0xa1a))[_0x37852b(0x8de)](_0x37852b(0xc20),_0x827991=>{const _0x319cf1=_0x37852b,_0x1aea77=_0x827991[_0x319cf1(0x97d)][_0x319cf1(0x634)](_0x319cf1(0x61b));if(!_0x1aea77||!_0x1aea77[_0x319cf1(0x4e3)][_0x319cf1(0x817)])return;const _0x53b843=_0x1aea77[_0x319cf1(0x4e3)][_0x319cf1(0x817)];if(quizLeaderboardSortBy===_0x53b843)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x319cf1(0x690)?_0x319cf1(0xbc6):'asc';else{quizLeaderboardSortBy=_0x53b843;const _0x16f709=['studentName'];quizLeaderboardSortOrder=_0x16f709[_0x319cf1(0x42a)](_0x53b843)?'asc':_0x319cf1(0xbc6);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x319cf1(0xa27));}),document[_0x37852b(0x2bc)]('close-presentation-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),closePresentation),document[_0x37852b(0x2bc)]('prev-question-btn')[_0x37852b(0x8de)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x37852b(0x2bc)](_0x37852b(0x620))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x4d3ae4=_0x37852b;currentQuizData['questions']&&currentPresentationSlide<currentQuizData['questions'][_0x4d3ae4(0xab1)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x37852b(0x8de)](_0x37852b(0x1d1),()=>{const _0x310841=_0x37852b;!document['fullscreenElement']&&(presentationModal[_0x310841(0x60e)][_0x310841(0x9b9)]=_0x310841(0x1d8));}),document[_0x37852b(0x2bc)](_0x37852b(0x940))['addEventListener'](_0x37852b(0xc20),handleDeleteAllStudents),studentList[_0x37852b(0x8de)]('click',_0x497443=>{const _0x4f3ea3=_0x37852b,_0x29a5fe=_0x497443[_0x4f3ea3(0x97d)][_0x4f3ea3(0x634)]('.delete-student-btn');if(_0x29a5fe){const _0x472049=_0x29a5fe[_0x4f3ea3(0x4e3)]['studentName'];handleDeleteStudent(_0x472049);}}),document[_0x37852b(0x2bc)]('generate-from-file-btn')[_0x37852b(0x8de)](_0x37852b(0xc20),handleGenerateFromFileClick),fileUploadInput[_0x37852b(0x8de)](_0x37852b(0x18d),_0x29c04d=>{const _0x1ed07f=_0x37852b,_0x27e041=_0x29c04d[_0x1ed07f(0x97d)][_0x1ed07f(0x9ad)][0x0],_0x21b825=document[_0x1ed07f(0x2bc)]('generate-from-file-btn'),_0x5548b0=document[_0x1ed07f(0x2bc)](_0x1ed07f(0x6dd)),_0x28189c=document[_0x1ed07f(0x2bc)](_0x1ed07f(0xa76));_0x27e041?(selectedFile=_0x27e041,_0x28189c[_0x1ed07f(0x6b7)]?(_0x21b825[_0x1ed07f(0x8ab)]=!![],analyzeFileForTopics(_0x27e041)):(_0x21b825[_0x1ed07f(0x8ab)]=![],_0x5548b0[_0x1ed07f(0x517)][_0x1ed07f(0x546)](_0x1ed07f(0x44c)))):(selectedFile=null,_0x21b825[_0x1ed07f(0x8ab)]=!![],_0x5548b0[_0x1ed07f(0x517)][_0x1ed07f(0x546)](_0x1ed07f(0x44c)));}),document['getElementById'](_0x37852b(0xa76))['addEventListener'](_0x37852b(0x18d),_0x5e7fbb=>{const _0x3cba7a=_0x37852b,_0x63f809=_0x5e7fbb[_0x3cba7a(0x97d)][_0x3cba7a(0x6b7)],_0x79902d=document[_0x3cba7a(0x2bc)](_0x3cba7a(0xab9)),_0x4b550e=document['getElementById'](_0x3cba7a(0x6dd));_0x63f809?(_0x79902d[_0x3cba7a(0x8ab)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x4b550e['classList'][_0x3cba7a(0x1b5)](_0x3cba7a(0x44c)),document['getElementById']('file-topics-list')[_0x3cba7a(0xcd8)]=_0x3cba7a(0x5ee))):(_0x4b550e[_0x3cba7a(0x517)][_0x3cba7a(0x546)](_0x3cba7a(0x44c)),_0x79902d[_0x3cba7a(0x8ab)]=!selectedFile);}),document['getElementById'](_0x37852b(0x6dd))[_0x37852b(0x8de)]('click',_0xe33be6=>{const _0x2845e0=_0x37852b,_0x42cf5d=_0xe33be6['target'][_0x2845e0(0x634)](_0x2845e0(0x356)),_0x18e406=_0xe33be6[_0x2845e0(0x97d)]['closest'](_0x2845e0(0x2e4));if(_0x42cf5d){const _0x4eae77=unescape(_0x42cf5d[_0x2845e0(0x4e3)][_0x2845e0(0x533)]);generateHybridQuizForTopic(_0x4eae77);}else{if(_0x18e406){const _0x25d41b=unescape(_0x18e406[_0x2845e0(0x4e3)]['topic']),_0x5c9a33=document[_0x2845e0(0x2bc)](_0x2845e0(0x1eb))[_0x2845e0(0xa21)];handleGenerateAndShowLesson(_0x25d41b,_0x5c9a33);}}}),document[_0x37852b(0x2bc)](_0x37852b(0x346))[_0x37852b(0x8de)](_0x37852b(0x18d),_0x207df5=>{const _0x2e1c75=_0x37852b,_0x57487f=document['getElementById']('timer-duration-container'),_0x2375c9=document[_0x2e1c75(0x2bc)]('timer-duration-label'),_0x269aca=document['getElementById'](_0x2e1c75(0xc9f));_0x207df5[_0x2e1c75(0x97d)][_0x2e1c75(0xa21)]===_0x2e1c75(0x1d8)?_0x57487f[_0x2e1c75(0x517)]['add']('hidden'):(_0x57487f[_0x2e1c75(0x517)][_0x2e1c75(0x1b5)]('hidden'),_0x207df5[_0x2e1c75(0x97d)]['value']===_0x2e1c75(0x8a0)?(_0x2375c9[_0x2e1c75(0x806)]='ระยะเวลา\x20(นาที):',_0x269aca['value']='10'):(_0x2375c9[_0x2e1c75(0x806)]=_0x2e1c75(0x37d),_0x269aca[_0x2e1c75(0xa21)]='30'));}),document[_0x37852b(0x2bc)](_0x37852b(0x5fd))[_0x37852b(0x8de)](_0x37852b(0x18d),_0xb21f04=>{const _0x1b0c8c=_0x37852b,_0x4dce36=document['getElementById']('num-choices-container'),_0x5cbc38=_0xb21f04['target'][_0x1b0c8c(0xa21)],_0x1d325d=document[_0x1b0c8c(0x22d)](_0x1b0c8c(0x26b)),_0x237582=document[_0x1b0c8c(0x2bc)](_0x1b0c8c(0xd2c)),_0x28014b=document[_0x1b0c8c(0x2bc)]('num-questions');_0x5cbc38===_0x1b0c8c(0x3a6)?_0x1d325d[_0x1b0c8c(0x806)]=_0x1b0c8c(0x23c):_0x1d325d[_0x1b0c8c(0x806)]=_0x1b0c8c(0xa14),_0x5cbc38===_0x1b0c8c(0x29d)||_0x5cbc38===_0x1b0c8c(0x5f6)||_0x5cbc38==='mixed'?_0x4dce36[_0x1b0c8c(0x517)][_0x1b0c8c(0x1b5)](_0x1b0c8c(0x44c)):_0x4dce36[_0x1b0c8c(0x517)][_0x1b0c8c(0x546)](_0x1b0c8c(0x44c)),_0x237582['max']=_0x28014b[_0x1b0c8c(0xa21)];}),document[_0x37852b(0x2bc)]('num-questions')['addEventListener'](_0x37852b(0xbf1),_0x45f875=>{const _0x589207=_0x37852b;document[_0x589207(0x2bc)](_0x589207(0xd2c))[_0x589207(0x20e)]=_0x45f875[_0x589207(0x97d)][_0x589207(0xa21)];}),document[_0x37852b(0x2bc)](_0x37852b(0x1c2))[_0x37852b(0x8de)](_0x37852b(0x18d),_0x3e9ed1=>{const _0x324b23=_0x37852b,_0x4c648a=document['getElementById']('modal-timer-duration-container'),_0x2cadd5=document[_0x324b23(0x2bc)](_0x324b23(0x14c)),_0x43adf4=document[_0x324b23(0x2bc)]('modal-timer-duration-input');_0x3e9ed1['target'][_0x324b23(0xa21)]==='none'?_0x4c648a[_0x324b23(0x517)][_0x324b23(0x546)](_0x324b23(0x44c)):(_0x4c648a[_0x324b23(0x517)][_0x324b23(0x1b5)]('hidden'),_0x3e9ed1[_0x324b23(0x97d)]['value']===_0x324b23(0x8a0)?_0x2cadd5[_0x324b23(0x806)]='ระยะเวลา\x20(นาที):':_0x2cadd5[_0x324b23(0x806)]=_0x324b23(0x37d));}),document[_0x37852b(0x2bc)](_0x37852b(0x2fc))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x3ca5da=_0x37852b;document[_0x3ca5da(0x2bc)](_0x3ca5da(0x5a7))[_0x3ca5da(0x517)]['add']('hidden');}),document[_0x37852b(0x2bc)](_0x37852b(0xc23))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0xe20bf8=_0x37852b;document[_0xe20bf8(0x2bc)](_0xe20bf8(0x5a7))[_0xe20bf8(0x517)][_0xe20bf8(0x546)](_0xe20bf8(0x44c));}),document['getElementById'](_0x37852b(0x54e))[_0x37852b(0x8de)]('click',handleVerifyAnswersInEditor),document[_0x37852b(0x2bc)](_0x37852b(0x291))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x3f7530=_0x37852b;document[_0x3f7530(0x2bc)](_0x3f7530(0x5a7))[_0x3f7530(0x517)][_0x3f7530(0x546)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x37852b(0x2bc)](_0x37852b(0x45f))['addEventListener']('click',handleAutoFixLatex);const _0x2656ff=document[_0x37852b(0x2bc)](_0x37852b(0xbec));_0x2656ff&&_0x2656ff['addEventListener'](_0x37852b(0xc20),_0x472354=>{const _0x230bb0=_0x37852b,_0x1653ac=_0x472354[_0x230bb0(0x97d)]['closest'](_0x230bb0(0x259));if(_0x1653ac){const _0x35f772=_0x1653ac['closest'](_0x230bb0(0x7d6)),_0x48912f=parseInt(_0x35f772[_0x230bb0(0x4e3)][_0x230bb0(0xbeb)],0xa);handleRegenerateQuestionInEditor(_0x48912f);return;}const _0x5d43b9=_0x472354[_0x230bb0(0x97d)][_0x230bb0(0x634)](_0x230bb0(0x5db));if(_0x5d43b9){const _0x15d01b=_0x5d43b9[_0x230bb0(0x634)](_0x230bb0(0x7d6)),_0x3665d3=parseInt(_0x15d01b[_0x230bb0(0x4e3)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x3665d3);return;}const _0x230ed4=_0x472354[_0x230bb0(0x97d)][_0x230bb0(0x634)]('#add-question-editor-btn');if(_0x230ed4){handleAddQuestionInEditor();return;}});document[_0x37852b(0x2bc)](_0x37852b(0x167))['addEventListener'](_0x37852b(0xc20),openQuizBankModal),document[_0x37852b(0x2bc)]('cancel-quiz-bank-btn')['addEventListener'](_0x37852b(0xc20),()=>{const _0x36d8b2=_0x37852b;document[_0x36d8b2(0x2bc)](_0x36d8b2(0xb48))[_0x36d8b2(0x517)][_0x36d8b2(0x546)]('hidden');}),document[_0x37852b(0x2bc)](_0x37852b(0x6c1))['addEventListener']('input',_0x1c9d8f=>renderQuizBankList(_0x1c9d8f[_0x37852b(0x97d)]['value']));const _0x1e0c16=document[_0x37852b(0x2bc)](_0x37852b(0x6a5));if(_0x1e0c16){let _0x27dd4c=null;_0x1e0c16['addEventListener'](_0x37852b(0xc20),_0x5798ff=>{const _0x129d2b=_0x37852b,_0x386b51=_0x5798ff['target'],_0x13d579=_0x386b51[_0x129d2b(0x634)](_0x129d2b(0x79e)),_0xa6fd9c=_0x386b51[_0x129d2b(0x634)](_0x129d2b(0x241)),_0xe6cf2b=_0x386b51['closest']('.save-custom-topic-btn'),_0x169417=_0x386b51[_0x129d2b(0x634)]('.cancel-edit-topic-btn');if(_0xa6fd9c){_0x5798ff[_0x129d2b(0x9f2)]();const _0x2ed027=_0xa6fd9c[_0x129d2b(0x4e3)]['id'],_0x35bbdd=_0xa6fd9c[_0x129d2b(0x634)](_0x129d2b(0xabc))[_0x129d2b(0x22d)](_0x129d2b(0x534))['textContent'];showConfirmation(_0x129d2b(0x6fd)+_0x35bbdd+'\x22?',()=>handleDeleteCustomTopic(_0x2ed027));}else{if(_0x13d579){_0x5798ff[_0x129d2b(0x9f2)]();_0x27dd4c&&toggleTopicEditMode(_0x27dd4c,![]);const _0x303dd9=_0x13d579[_0x129d2b(0x634)](_0x129d2b(0x49c));_0x27dd4c=_0x303dd9,toggleTopicEditMode(_0x303dd9,!![]);}else{if(_0xe6cf2b){_0x5798ff['preventDefault']();const _0x26a924=_0xe6cf2b[_0x129d2b(0x4e3)]['id'],_0x5ed318=_0xe6cf2b['closest'](_0x129d2b(0x49c)),_0x2dc3c6=_0x5ed318[_0x129d2b(0x22d)](_0x129d2b(0x5fc))[_0x129d2b(0xa21)];handleUpdateCustomTopic(_0x26a924,_0x2dc3c6),_0x27dd4c=null;}else{if(_0x169417){_0x5798ff[_0x129d2b(0x9f2)]();const _0x45d075=_0x169417[_0x129d2b(0x634)](_0x129d2b(0x49c));toggleTopicEditMode(_0x45d075,![]),_0x27dd4c=null;}}}}}),document[_0x37852b(0x2bc)](_0x37852b(0x7e5))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x2f4275=_0x37852b;document[_0x2f4275(0x2bc)](_0x2f4275(0x719))[_0x2f4275(0x517)][_0x2f4275(0x546)](_0x2f4275(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x813))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x30e66b=_0x37852b;document['getElementById'](_0x30e66b(0x719))['classList'][_0x30e66b(0x546)]('hidden');}),document[_0x37852b(0x2bc)]('export-lesson-pdf-btn')[_0x37852b(0x8de)]('click',handleExportLessonPDF);}document[_0x37852b(0x2bc)](_0x37852b(0x33c))['addEventListener'](_0x37852b(0xc20),()=>{const _0x2a7365=_0x37852b;document['getElementById'](_0x2a7365(0x4fa))[_0x2a7365(0x517)]['add'](_0x2a7365(0x44c));}),document[_0x37852b(0x2bc)](_0x37852b(0x805))[_0x37852b(0x8de)](_0x37852b(0xc20),()=>{const _0x3ca4e0=_0x37852b;document[_0x3ca4e0(0x2bc)](_0x3ca4e0(0x4fa))[_0x3ca4e0(0x517)][_0x3ca4e0(0x546)]('hidden');}),setupComparisonModalTabs(),document[_0x37852b(0x667)][_0x37852b(0x8de)](_0x37852b(0xc20),function(_0x59403b){const _0x80ba1c=_0x37852b;if(_0x59403b[_0x80ba1c(0x97d)][_0x80ba1c(0x517)][_0x80ba1c(0x7ab)]('practice-topic-btn')){const _0x115dc9=unescape(_0x59403b['target']['dataset'][_0x80ba1c(0x533)]);startSkillPractice(_0x115dc9);}}),document[_0x37852b(0x2bc)](_0x37852b(0x41d))['addEventListener'](_0x37852b(0xc20),_0x318a35=>{const _0x59f226=_0x37852b,_0x472a76=_0x318a35['target'][_0x59f226(0x634)](_0x59f226(0x1ff));if(_0x472a76){const _0x4cefdb=_0x472a76[_0x59f226(0x4e3)][_0x59f226(0xbcf)];handleDeleteSubmission(_0x4cefdb);}});}async function handleStartGroupMode(_0x286172,_0x2acb39=![]){const _0x3d25fe=_0x1f917e,_0xbd80b=allQuizzes[_0x3d25fe(0xaa2)](_0x1265d9=>_0x1265d9['id']===_0x286172)||allQuizzesGlobal[_0x3d25fe(0xaa2)](_0x5336c8=>_0x5336c8['id']===_0x286172);if(!_0xbd80b){showMessage(_0x3d25fe(0x827));return;}currentQuizData=getShuffledQuiz(_0xbd80b);const _0x1d5622=Math[_0x3d25fe(0x854)](0x3e8+Math[_0x3d25fe(0xca7)]()*0x2328)[_0x3d25fe(0x24a)]();try{const _0x614124=await addDoc(collection(db,_0x3d25fe(0x366)+appId+_0x3d25fe(0x2f3)),{'quizId':_0xbd80b['id'],'projectId':_0xbd80b[_0x3d25fe(0x7f9)],'status':_0x3d25fe(0xaec),'pin':_0x1d5622,'mode':_0x3d25fe(0x6a0),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2acb39});currentTeamQuizId=_0x614124['id'],showView(_0x3d25fe(0x5ea)),renderAdminTeamQuizDashboard(_0x1d5622,_0xbd80b[_0x3d25fe(0x533)],_0x3d25fe(0x6a0)),listenForTeamQuizUpdates();}catch(_0x1c7eaa){console[_0x3d25fe(0x512)]('Error\x20starting\x20group\x20quiz:',_0x1c7eaa),showMessage(_0x3d25fe(0xca6));}}async function showStudentProgressView(){const _0x25286b=_0x1f917e;studentInitialView['classList'][_0x25286b(0x546)](_0x25286b(0x44c)),document[_0x25286b(0x2bc)](_0x25286b(0xac8))['classList'][_0x25286b(0x1b5)]('hidden');const _0xdadb73=document['getElementById'](_0x25286b(0xb55)),_0x27982d=document[_0x25286b(0x2bc)](_0x25286b(0x44d)),_0x4b684c=document[_0x25286b(0x2bc)](_0x25286b(0x3aa));_0x4b684c['innerHTML']=_0x25286b(0xc8b),_0x27982d[_0x25286b(0xcd8)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x27982d['disabled']=!![],_0xdadb73['innerHTML']=_0x25286b(0x6c5);if(allProjects[_0x25286b(0xab1)]===0x0){const _0xf96d5f=collection(db,_0x25286b(0x366)+appId+_0x25286b(0x7ad)),_0x33a0b9=await getDocs(_0xf96d5f);allProjects=_0x33a0b9[_0x25286b(0xac3)][_0x25286b(0x618)](_0x11b448=>({'id':_0x11b448['id'],..._0x11b448[_0x25286b(0x923)]()}));}const _0x4b2d69=allProjects['filter'](_0xf2b561=>_0xf2b561['settings']?.['showInStudentDashboard']!==![]);_0x4b2d69[_0x25286b(0x817)]((_0x366fc4,_0xc3cae1)=>_0x366fc4[_0x25286b(0x30b)]['localeCompare'](_0xc3cae1[_0x25286b(0x30b)],'th')),_0xdadb73[_0x25286b(0xcd8)]=_0x25286b(0x2aa)+_0x4b2d69[_0x25286b(0x618)](_0x50cd7f=>_0x25286b(0x9dd)+_0x50cd7f['id']+'\x22>'+_0x50cd7f[_0x25286b(0x30b)]+_0x25286b(0xba6))[_0x25286b(0xd29)](''),_0xdadb73[_0x25286b(0x185)]=()=>{const _0x19f77c=_0x25286b,_0x2387f8=_0x27982d[_0x19f77c(0xa21)],_0x9d67f8=_0xdadb73[_0x19f77c(0xa21)];_0x27982d[_0x19f77c(0x8ab)]=!![],_0x27982d[_0x19f77c(0xcd8)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x4b684c[_0x19f77c(0xcd8)]=_0x19f77c(0x50d);if(!_0x9d67f8)return;const _0xc2c027=allProjects[_0x19f77c(0xaa2)](_0x37828a=>_0x37828a['id']===_0x9d67f8);if(!_0xc2c027||!_0xc2c027[_0x19f77c(0x456)])return;const _0x9a88a7=()=>{const _0xec94b8=_0x19f77c;_0x27982d[_0xec94b8(0xcd8)]=_0xec94b8(0x873)+_0xc2c027[_0xec94b8(0x456)][_0xec94b8(0x618)](_0x4fb0c1=>'<option\x20value=\x22'+_0x4fb0c1+'\x22>'+_0x4fb0c1+_0xec94b8(0xba6))[_0xec94b8(0xd29)](''),_0x27982d[_0xec94b8(0x8ab)]=![];const _0x5bb061=Array[_0xec94b8(0xaf4)](_0x27982d['options'])[_0xec94b8(0x618)](_0x5cf8f5=>_0x5cf8f5[_0xec94b8(0xa21)]);if(_0x2387f8&&_0x5bb061[_0xec94b8(0x42a)](_0x2387f8))_0x27982d[_0xec94b8(0xa21)]=_0x2387f8,_0x27982d[_0xec94b8(0x8ec)](new Event(_0xec94b8(0x18d)));else _0xc2c027[_0xec94b8(0x456)]['length']===0x1&&(_0x27982d[_0xec94b8(0xa21)]=_0xc2c027[_0xec94b8(0x456)][0x0],_0x27982d[_0xec94b8(0x8ec)](new Event(_0xec94b8(0x18d))));};if(_0xc2c027[_0x19f77c(0x327)]?.[_0x19f77c(0xcc6)]){if(sessionStorage['getItem']('authed_project_'+_0x9d67f8)===_0x19f77c(0xbf6)){_0x9a88a7();return;}const _0x19bdf7=document[_0x19f77c(0x2bc)]('project-passcode-modal'),_0x233961=document[_0x19f77c(0x2bc)](_0x19f77c(0x20f)),_0x463600=document['getElementById'](_0x19f77c(0xce2)),_0x4df6b3=document['getElementById'](_0x19f77c(0x670)),_0x505b3b=document['getElementById'](_0x19f77c(0x324));document[_0x19f77c(0x2bc)](_0x19f77c(0x161))[_0x19f77c(0x806)]=_0x19f77c(0xc56)+_0xc2c027[_0x19f77c(0x30b)],_0x4df6b3[_0x19f77c(0xa21)]='',_0x505b3b[_0x19f77c(0x517)][_0x19f77c(0x546)](_0x19f77c(0x44c)),_0x19bdf7[_0x19f77c(0x517)][_0x19f77c(0x1b5)](_0x19f77c(0x44c));const _0x49163c=()=>{const _0x173895=_0x19f77c,_0x5af090=_0x4df6b3[_0x173895(0xa21)][_0x173895(0x1df)]();_0x5af090===_0xc2c027[_0x173895(0x327)][_0x173895(0x14e)]?(sessionStorage[_0x173895(0xa67)](_0x173895(0xca8)+_0x9d67f8,_0x173895(0xbf6)),_0x19bdf7[_0x173895(0x517)][_0x173895(0x546)](_0x173895(0x44c)),_0x9a88a7(),_0x233961[_0x173895(0xcab)]('click',_0x49163c)):_0x505b3b[_0x173895(0x517)][_0x173895(0x1b5)](_0x173895(0x44c));};_0x233961[_0x19f77c(0x7aa)]=_0x49163c,_0x463600['onclick']=()=>{const _0x54bb91=_0x19f77c;_0x19bdf7[_0x54bb91(0x517)]['add'](_0x54bb91(0x44c)),_0xdadb73['value']='',_0x233961[_0x54bb91(0xcab)]('click',_0x49163c);};}else _0x9a88a7();},_0x27982d[_0x25286b(0x185)]=()=>{const _0xdffa7c=_0x25286b,_0x5422c4=_0xdadb73['value'],_0x1953f0=_0x27982d[_0xdffa7c(0xa21)];_0x5422c4&&_0x1953f0&&renderStudentProgressDashboard(_0x5422c4,_0x1953f0);};}async function confirmAndJoinSyncGame(){const _0x4b5a04=_0x1f917e,_0x2c47a3=Array[_0x4b5a04(0xaf4)](document['querySelectorAll'](_0x4b5a04(0x521)))['map'](_0x3387d3=>_0x3387d3['value']);if(_0x2c47a3['length']===0x0){showMessage(_0x4b5a04(0x8c3));return;}localTeamPlayers=_0x2c47a3,localPlayerTurnIndex=0x0;const _0xc9376f=doc(db,_0x4b5a04(0x366)+appId+_0x4b5a04(0xa36),currentLiveGameId);try{const _0x371941={};_0x2c47a3[_0x4b5a04(0x229)](_0x796be5=>{const _0x1880fb=_0x4b5a04;_0x371941['players.'+_0x796be5]={'name':_0x796be5,'score':0x0,'answered':![],'status':_0x1880fb(0x50f)};}),await updateDoc(_0xc9376f,_0x371941),document[_0x4b5a04(0x2bc)]('student-team-selection-view')['classList'][_0x4b5a04(0x546)](_0x4b5a04(0x44c)),currentStudentName=_0x2c47a3[0x0],listenForSyncGameUpdates();const _0x43a5a6={'gameId':currentLiveGameId,'mode':_0x4b5a04(0x899),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4b5a04(0xa67)](_0x4b5a04(0x191),JSON['stringify'](_0x43a5a6)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4b5a04(0x8de)](_0x4b5a04(0x1d1),handleFullscreenChange),document[_0x4b5a04(0x8de)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x4b5a04(0x8de)](_0x4b5a04(0x53e),resetDimTimer),window[_0x4b5a04(0x8de)](_0x4b5a04(0xd0f),resetDimTimer),window[_0x4b5a04(0x8de)](_0x4b5a04(0x486),resetDimTimer),window[_0x4b5a04(0x8de)](_0x4b5a04(0xa65),resetDimTimer),resetDimTimer());}catch(_0x150cee){console[_0x4b5a04(0x512)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x150cee),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x14a08c=_0x1f917e,_0x1c5b82=sessionStorage[_0x14a08c(0xce1)](_0x14a08c(0x191));if(!_0x1c5b82)return;const _0x590c03=JSON['parse'](_0x1c5b82),{gameId:_0x2e2000,mode:_0x2c5763,players:_0x2710c7,turnIndex:_0x5b85d2}=_0x590c03;try{let _0x1d5408,_0x520b05;_0x2c5763===_0x14a08c(0x899)?_0x1d5408=doc(db,_0x14a08c(0x366)+appId+_0x14a08c(0xa36),_0x2e2000):_0x1d5408=doc(db,_0x14a08c(0x366)+appId+_0x14a08c(0x2f3),_0x2e2000);_0x520b05=await getDoc(_0x1d5408);if(!_0x520b05[_0x14a08c(0x485)]()||_0x520b05[_0x14a08c(0x923)]()[_0x14a08c(0x845)]==='finished'||_0x520b05[_0x14a08c(0x923)]()['status']===_0x14a08c(0x985)){sessionStorage[_0x14a08c(0x3c9)](_0x14a08c(0x191));return;}console[_0x14a08c(0x16e)](_0x14a08c(0x357)+_0x2c5763+_0x14a08c(0x7bf)+_0x2e2000+')'),localTeamPlayers=_0x2710c7,localPlayerTurnIndex=_0x5b85d2;if(_0x2c5763===_0x14a08c(0x899))currentLiveGameId=_0x2e2000,currentStudentName=_0x2710c7[0x0],showView(_0x14a08c(0x5ea)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x2e2000;const _0x14b4e4=_0x520b05[_0x14a08c(0x923)](),_0x1186af=doc(db,_0x14a08c(0x366)+appId+'/public/data/quizzes',_0x14b4e4[_0x14a08c(0x1c3)]),_0xa567f0=await getDoc(_0x1186af);_0xa567f0['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0xa567f0['id'],..._0xa567f0[_0x14a08c(0x923)]()}),showView(_0x14a08c(0x8fb)),studentInitialView[_0x14a08c(0x517)][_0x14a08c(0x546)](_0x14a08c(0x44c)),renderTeamQuizQuestion());}}catch(_0x5b43e4){console[_0x14a08c(0x512)]('Failed\x20to\x20resume\x20game\x20session:',_0x5b43e4),sessionStorage[_0x14a08c(0x3c9)](_0x14a08c(0x191));}}function activateFileInputAreaWithLoadedFile(){const _0xaed591=_0x1f917e,_0x51d816=document[_0xaed591(0x2bc)](_0xaed591(0xab9)),_0x3c7da3=document[_0xaed591(0x2bc)](_0xaed591(0x6dd)),_0x2fe763=document[_0xaed591(0x2bc)](_0xaed591(0xa76));selectedFile?_0x2fe763[_0xaed591(0x6b7)]?(_0x51d816[_0xaed591(0x8ab)]=!![],analyzeFileForTopics(selectedFile)):(_0x51d816[_0xaed591(0x8ab)]=![],_0x3c7da3['classList'][_0xaed591(0x546)](_0xaed591(0x44c))):(_0x51d816[_0xaed591(0x8ab)]=!![],_0x3c7da3[_0xaed591(0x517)]['add']('hidden'));}async function handleKickPlayerSync(_0x5ab4da){const _0x1db8f6=_0x1f917e;if(!currentLiveGameId||!_0x5ab4da)return;const _0x360cbc=doc(db,_0x1db8f6(0x366)+appId+_0x1db8f6(0xa36),currentLiveGameId),_0x2fa8ae={};_0x2fa8ae['players.'+_0x5ab4da+'.status']='inactive';try{await updateDoc(_0x360cbc,_0x2fa8ae);}catch(_0x2438f1){console[_0x1db8f6(0x512)](_0x1db8f6(0x9a7)+_0x5ab4da+_0x1db8f6(0x1ab),_0x2438f1),showMessage(_0x1db8f6(0x2e1));}}async function renderStudentProgressDashboard(_0x50c9b7,_0x12d17f){const _0x567f23=_0x1f917e,_0xf56a5f=document[_0x567f23(0x2bc)](_0x567f23(0x3aa));_0xf56a5f[_0x567f23(0xcd8)]=_0x567f23(0x415);try{const _0x4e57aa=collection(db,_0x567f23(0x366)+appId+_0x567f23(0xcbc)),_0x4bdf69=query(_0x4e57aa,where(_0x567f23(0x7f9),'==',_0x50c9b7)),_0x51b75e=await getDocs(_0x4bdf69),_0x1553ee=_0x51b75e[_0x567f23(0xac3)][_0x567f23(0x618)](_0x40be11=>({'id':_0x40be11['id'],..._0x40be11[_0x567f23(0x923)]()})),_0xa1bb8a=_0x1553ee[_0x567f23(0x618)](_0x18576c=>getDoc(doc(db,_0x567f23(0x366)+appId+'/public/data/quizzes/'+_0x18576c['id']+_0x567f23(0x9a3),_0x12d17f))),_0x31ad7a=await Promise[_0x567f23(0x8bd)](_0xa1bb8a),_0x8fba44=_0x31ad7a['filter'](_0x31012a=>_0x31012a[_0x567f23(0x485)]())[_0x567f23(0x618)](_0x5ebf0f=>({'quizId':_0x5ebf0f[_0x567f23(0x9fd)][_0x567f23(0x691)][_0x567f23(0x691)]['id'],..._0x5ebf0f['data']()}));if(_0x8fba44[_0x567f23(0xab1)]===0x0){_0xf56a5f[_0x567f23(0xcd8)]=_0x567f23(0xa00);return;}let _0x4f9082=_0x567f23(0xb57);_0x8fba44[_0x567f23(0x229)](_0x49455b=>{const _0x2f1675=_0x567f23,_0x4b50d2=_0x1553ee['find'](_0x4ce95c=>_0x4ce95c['id']===_0x49455b[_0x2f1675(0x1c3)]),_0x32258b=_0x4b50d2[_0x2f1675(0x327)]?.[_0x2f1675(0x182)]||_0x2f1675(0xc3b),_0x89bbe7=_0x4b50d2[_0x2f1675(0x327)]?.[_0x2f1675(0x619)]??0x0,_0x29a077=_0x49455b[_0x2f1675(0x8ad)]>=_0x89bbe7;let _0x393ccb='',_0x1cebb6=_0x2f1675(0xb70);switch(_0x32258b){case _0x2f1675(0xc3b):case'show_results_only':_0x1cebb6=_0x29a077?_0x2f1675(0xaa5):_0x2f1675(0x5ff),_0x393ccb=_0x2f1675(0x5e1)+(_0x29a077?_0x2f1675(0x82e):'text-red-700')+'\x22>'+_0x49455b['bestScore']+_0x2f1675(0x4b8)+_0x49455b[_0x2f1675(0x25e)]+_0x2f1675(0xa5f)+(_0x29a077?'bg-green-200\x20text-green-800':_0x2f1675(0x7ac))+'\x22>'+(_0x29a077?_0x2f1675(0x579):_0x2f1675(0x20c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x1cebb6=_0x29a077?'bg-green-50':_0x2f1675(0x5ff),_0x393ccb=_0x2f1675(0x32d)+(_0x29a077?_0x2f1675(0x910):_0x2f1675(0x7ac))+'\x22>'+(_0x29a077?_0x2f1675(0x579):_0x2f1675(0x20c))+_0x2f1675(0xc04);break;case _0x2f1675(0xa2c):_0x1cebb6='bg-yellow-50',_0x393ccb=_0x2f1675(0x1fe);break;}_0x4f9082+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x1cebb6+_0x2f1675(0x61a)+_0x4b50d2[_0x2f1675(0x533)]+_0x2f1675(0x17d)+_0x49455b[_0x2f1675(0xb4e)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x49455b[_0x2f1675(0xc5f)])[_0x2f1675(0x2bb)](_0x2f1675(0x2bf))+_0x2f1675(0x29c)+_0x393ccb+_0x2f1675(0x465);}),_0x4f9082+=_0x567f23(0xa8a),_0xf56a5f['innerHTML']=_0x4f9082;}catch(_0x2f61c6){console[_0x567f23(0x512)]('Error\x20rendering\x20student\x20progress:',_0x2f61c6),_0xf56a5f[_0x567f23(0xcd8)]=_0x567f23(0xb3d);}}function renderQuizBankListForMultiSelect(_0x30d101=''){const _0x5bc5a1=_0x1f917e,_0x5df90c=document[_0x5bc5a1(0x2bc)](_0x5bc5a1(0xc84)),_0x31b308=_0x30d101[_0x5bc5a1(0x281)]()[_0x5bc5a1(0x1df)](),_0x47f5ca=allQuizzesGlobal[_0x5bc5a1(0x618)](_0x5ec15b=>({..._0x5ec15b,'projectName':allProjects['find'](_0x101b1c=>_0x101b1c['id']===_0x5ec15b[_0x5bc5a1(0x7f9)])?.['projectName']||_0x5bc5a1(0x95a)}))['filter'](_0x3ee41b=>(_0x3ee41b[_0x5bc5a1(0x533)]||'')[_0x5bc5a1(0x281)]()[_0x5bc5a1(0x42a)](_0x31b308)||(_0x3ee41b[_0x5bc5a1(0x30b)]||'')[_0x5bc5a1(0x281)]()['includes'](_0x31b308)||_0x3ee41b['id'][_0x5bc5a1(0x24a)]()[_0x5bc5a1(0x42a)](_0x31b308));_0x5df90c[_0x5bc5a1(0xcd8)]=_0x47f5ca[_0x5bc5a1(0xab1)]?_0x47f5ca[_0x5bc5a1(0x618)](_0x50ff0f=>_0x5bc5a1(0x56a)+_0x50ff0f['id']+_0x5bc5a1(0xa59)+(_0x50ff0f['topic']||_0x5bc5a1(0xc82))+_0x5bc5a1(0x73f)+_0x50ff0f[_0x5bc5a1(0x30b)]+_0x5bc5a1(0x6f4)+_0x50ff0f['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x5bc5a1(0xd29)](''):_0x5bc5a1(0x51f),_0x5df90c[_0x5bc5a1(0x185)]=()=>{const _0x5c4677=_0x5bc5a1,_0x5eaa72=document['querySelector'](_0x5c4677(0xa4e));document['getElementById'](_0x5c4677(0x699))[_0x5c4677(0x8ab)]=!_0x5eaa72;};}function setupStudentProgressListeners(){const _0x4b2c93=_0x1f917e;document[_0x4b2c93(0x2bc)]('view-my-progress-btn')[_0x4b2c93(0x8de)](_0x4b2c93(0xc20),showStudentProgressView),document[_0x4b2c93(0x2bc)](_0x4b2c93(0x4cb))[_0x4b2c93(0x8de)](_0x4b2c93(0xc20),()=>{const _0x3788d8=_0x4b2c93;document[_0x3788d8(0x2bc)](_0x3788d8(0xac8))['classList'][_0x3788d8(0x546)](_0x3788d8(0x44c)),document[_0x3788d8(0x2bc)]('student-initial-view')[_0x3788d8(0x517)]['remove'](_0x3788d8(0x44c));});}async function startSkillPractice(_0x55374e){const _0x50363a=_0x1f917e;studentResultArea[_0x50363a(0x517)][_0x50363a(0x546)](_0x50363a(0x44c)),studentQuizArea[_0x50363a(0xcd8)]=_0x50363a(0xcf3),studentQuizArea['classList']['remove']('hidden');try{const _0x4aa21c=await getStandardizedTopic(_0x55374e);console['log'](_0x50363a(0x30d)+_0x55374e+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x4aa21c+'\x22'),studentQuizArea['querySelector']('p')[_0x50363a(0x806)]=_0x50363a(0x726)+_0x4aa21c+_0x50363a(0x52b);const _0xcad9a3=collection(db,_0x50363a(0x366)+appId+'/public/data/practiceBank'),_0x5a582f=query(_0xcad9a3,where('topic','==',_0x4aa21c)),_0x2e4164=await getDocs(_0x5a582f);if(_0x2e4164[_0x50363a(0xac3)][_0x50363a(0xab1)]>=0x3){console[_0x50363a(0x16e)](_0x50363a(0x1dd)+_0x2e4164[_0x50363a(0xac3)][_0x50363a(0xab1)]+_0x50363a(0xca9)+_0x4aa21c+_0x50363a(0xb9a));let _0x5ab970=_0x2e4164[_0x50363a(0xac3)][_0x50363a(0x618)](_0x77ae3c=>_0x77ae3c[_0x50363a(0x923)]());shuffleArray(_0x5ab970);const _0x9b5ba9={'topic':_0x4aa21c,'questions':_0x5ab970[_0x50363a(0x52a)](0x0,0x3)};displaySkillPracticeDrill(_0x9b5ba9);}else{console[_0x50363a(0x16e)](_0x50363a(0x567)+_0x4aa21c+_0x50363a(0x2c8));const _0x5f5211=await generatePracticeQuestions(_0x4aa21c);await saveDrillToPracticeBank(_0x5f5211,_0x4aa21c),displaySkillPracticeDrill(_0x5f5211);}}catch(_0x41ae6d){console[_0x50363a(0x512)](_0x50363a(0x999),_0x41ae6d),showMessage(_0x50363a(0x34b)),studentQuizArea['classList'][_0x50363a(0x546)](_0x50363a(0x44c)),studentResultArea[_0x50363a(0x517)][_0x50363a(0x1b5)](_0x50363a(0x44c));}}async function saveDrillToPracticeBank(_0x84b1ee,_0x839a7a){const _0x477fe1=_0x1f917e,_0x36e5fa=collection(db,_0x477fe1(0x366)+appId+_0x477fe1(0x2fa)),_0x3bb6c5=writeBatch(db);_0x84b1ee['questions']['forEach'](_0x48bd44=>{const _0x5382e0=_0x477fe1,_0x2da977=doc(_0x36e5fa);_0x3bb6c5[_0x5382e0(0xb9b)](_0x2da977,{'topic':_0x839a7a,'questionText':_0x48bd44[_0x5382e0(0x551)],'options':_0x48bd44[_0x5382e0(0xae7)],'correctAnswerIndex':_0x48bd44['correctAnswerIndex'],'explanation':_0x48bd44[_0x5382e0(0x557)],'createdAt':serverTimestamp()});});try{await _0x3bb6c5[_0x477fe1(0xa07)](),console[_0x477fe1(0x16e)](_0x477fe1(0x3cc)+_0x84b1ee[_0x477fe1(0x320)][_0x477fe1(0xab1)]+_0x477fe1(0x962));}catch(_0x2fd4f7){console[_0x477fe1(0x512)](_0x477fe1(0x878),_0x2fd4f7);}}async function getStandardizedTopic(_0x372240){const _0x3a1d4f=_0x1f917e,_0x393204=_0x3a1d4f(0x394)+_0x372240+_0x3a1d4f(0xd1f),_0x1f7244={'type':_0x3a1d4f(0x60a),'properties':{'standardTopic':{'type':_0x3a1d4f(0xab8)}},'required':[_0x3a1d4f(0xb22)]};try{const _0x316178=await callAnalysisApi(_0x393204,_0x1f7244);return _0x316178[_0x3a1d4f(0xb22)];}catch(_0x41ae26){return console[_0x3a1d4f(0x512)](_0x3a1d4f(0xb1d),_0x41ae26),_0x372240;}}async function handleGenerateEasyVersionQuiz(_0x19cb37){const _0x56413d=_0x1f917e,_0x3b586a=document[_0x56413d(0x2bc)](_0x56413d(0x965)),_0x5b17ca=document['getElementById'](_0x56413d(0x3bc));_0x5b17ca[_0x56413d(0x517)][_0x56413d(0x546)](_0x56413d(0x44c));const _0x1fed58=_0x56413d(0x440);_0x3b586a[_0x56413d(0x3f4)](_0x56413d(0x77d),_0x1fed58);try{const _0x19b6f4=allQuizzes[_0x56413d(0xaa2)](_0x4541c4=>_0x4541c4['id']===_0x19cb37);if(!_0x19b6f4)throw new Error(_0x56413d(0xa09));const _0x3992cd=_0x56413d(0x1ae)+JSON[_0x56413d(0x4e2)](_0x19b6f4[_0x56413d(0x320)])+_0x56413d(0x32a),_0x2a72a2={'type':'OBJECT','properties':{'questionText':{'type':_0x56413d(0xab8)},'questionType':{'type':_0x56413d(0xab8)},'options':{'type':_0x56413d(0x5b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x56413d(0x16d)},'idealAnswer':{'type':_0x56413d(0xab8)},'explanation':{'type':_0x56413d(0xab8)},'imageCode':{'type':_0x56413d(0xab8)}},'required':[_0x56413d(0x551),_0x56413d(0x789),_0x56413d(0x557)]},_0x2b0cd4={'type':_0x56413d(0x60a),'properties':{'questions':{'type':_0x56413d(0x5b8),'items':_0x2a72a2}},'required':[_0x56413d(0x320)]},_0x3dbb2c=await callAnalysisApi(_0x3992cd,_0x2b0cd4);_0x3dbb2c&&_0x3dbb2c[_0x56413d(0x320)]&&_0x3dbb2c[_0x56413d(0x320)]['forEach'](_0x18ce83=>{const _0x1dfe70=_0x56413d;if(_0x18ce83[_0x1dfe70(0x62c)](_0x1dfe70(0x679))){const _0x3a3b92=String(_0x18ce83[_0x1dfe70(0x679)])[_0x1dfe70(0x1df)]();(_0x3a3b92===''||_0x3a3b92[_0x1dfe70(0x281)]()===_0x1dfe70(0x9c9)||!_0x3a3b92['startsWith']('<svg'))&&delete _0x18ce83[_0x1dfe70(0x679)];}});if(!_0x3dbb2c||!_0x3dbb2c[_0x56413d(0x320)]||_0x3dbb2c[_0x56413d(0x320)][_0x56413d(0xab1)]===0x0)throw new Error(_0x56413d(0x6bf));const _0x1915bc=_0x3dbb2c[_0x56413d(0x320)][_0x56413d(0x618)]((_0x4f913e,_0x5cde02)=>({..._0x4f913e,'id':'q_'+Date[_0x56413d(0x58e)]()+'_'+_0x5cde02})),_0x51587f={'projectId':_0x19b6f4['projectId'],'quizType':_0x19b6f4[_0x56413d(0x13d)],'settings':_0x19b6f4['settings'],'createdBy':_0x19b6f4[_0x56413d(0x846)],'status':_0x56413d(0x50f),'topic':_0x56413d(0x788)+_0x19b6f4['topic'],'questions':_0x1915bc,'createdAt':new Date()[_0x56413d(0x597)](),'quizMode':_0x56413d(0x226),'pairedQuizId':null};let _0x3c7c62;while(!![]){_0x3c7c62=Math[_0x56413d(0x854)](0x3e8+Math[_0x56413d(0xca7)]()*0x2328)['toString']();const _0x10d13e=await getDoc(doc(db,_0x56413d(0x366)+appId+_0x56413d(0xcbc),_0x3c7c62));if(!_0x10d13e[_0x56413d(0x485)]())break;}await setDoc(doc(db,_0x56413d(0x366)+appId+_0x56413d(0xcbc),_0x3c7c62),_0x51587f),showMessage(_0x56413d(0x9a8));}catch(_0x20d8d7){console[_0x56413d(0x512)](_0x56413d(0x7bd),_0x20d8d7),showMessage('เกิดข้อผิดพลาด:\x20'+_0x20d8d7[_0x56413d(0xaf3)]);}finally{const _0xdf82b8=document[_0x56413d(0x2bc)]('temp-loader-results');_0xdf82b8&&_0xdf82b8[_0x56413d(0x1b5)](),_0x5b17ca[_0x56413d(0x517)][_0x56413d(0x1b5)](_0x56413d(0x44c));}}async function generatePracticeQuestions(_0x29a687){const _0x43a60e=_0x1f917e,_0xf2f733=_0x43a60e(0x772)+_0x29a687+_0x43a60e(0xcd3)+simpleMathPrompt+_0x43a60e(0x4ab),_0x5b631d={'type':_0x43a60e(0x60a),'properties':{'questionText':{'type':_0x43a60e(0xab8)},'options':{'type':'ARRAY','items':{'type':_0x43a60e(0xab8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x43a60e(0xab8)}},'required':[_0x43a60e(0x551),_0x43a60e(0xae7),_0x43a60e(0x16b),_0x43a60e(0x557)]},_0x188f8c={'type':_0x43a60e(0x60a),'properties':{'topic':{'type':_0x43a60e(0xab8)},'questions':{'type':'ARRAY','items':_0x5b631d}},'required':['topic',_0x43a60e(0x320)]};return await callAnalysisApi(_0xf2f733,_0x188f8c);}function displayLessonPlan(_0x569fb5,_0x125329){const _0x21e222=_0x1f917e,_0x46cc8a=_0x21e222(0xb2b)+_0x125329[_0x21e222(0x533)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x569fb5[_0x21e222(0x73e)][_0x21e222(0x618)](_0x4025a1=>_0x21e222(0x934)+_0x4025a1+_0x21e222(0x8b4))[_0x21e222(0xd29)]('')+_0x21e222(0x207)+_0x569fb5[_0x21e222(0x2b0)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x569fb5[_0x21e222(0x5b4)][_0x21e222(0x618)](_0x5aa8ef=>_0x21e222(0xa5b)+_0x5aa8ef['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x5aa8ef[_0x21e222(0xd1e)]+_0x21e222(0x611))[_0x21e222(0xd29)]('')+_0x21e222(0xc53);document['getElementById'](_0x21e222(0xaa8))['textContent']=_0x21e222(0xa03)+_0x125329[_0x21e222(0x533)],document[_0x21e222(0x2bc)](_0x21e222(0x22b))[_0x21e222(0xcd8)]=_0x46cc8a,document['getElementById'](_0x21e222(0x719))[_0x21e222(0x517)][_0x21e222(0x1b5)](_0x21e222(0x44c));if(window[_0x21e222(0x13e)])MathJax[_0x21e222(0xbc4)]();}function displaySkillPracticeDrill(_0x19b218){const _0x169b51=_0x1f917e;let _0x3db0a6=0x0;const _0x53e1f5=_0x19b218[_0x169b51(0x320)],_0x102a45=()=>{const _0x51ae31=_0x169b51,_0xee8d41=_0x53e1f5[_0x3db0a6],_0x109670='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x3db0a6+0x1)+_0x51ae31(0x4b8)+_0x53e1f5[_0x51ae31(0xab1)]+_0x51ae31(0xa92)+_0xee8d41['questionText']+_0x51ae31(0x284)+_0xee8d41['options']['map']((_0x5205fe,_0x62e2cc)=>_0x51ae31(0xd12)+_0x62e2cc+_0x51ae31(0x5d8)+_0x62e2cc+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x62e2cc+'\x22>'+_0x5205fe+_0x51ae31(0x7e3))[_0x51ae31(0xd29)]('')+_0x51ae31(0x738);studentQuizArea[_0x51ae31(0xcd8)]=_0x109670;if(window['MathJax'])MathJax[_0x51ae31(0xbc4)]([studentQuizArea]);document[_0x51ae31(0x2bc)](_0x51ae31(0xcea))[_0x51ae31(0x8de)](_0x51ae31(0xc20),async()=>{const _0x40170d=_0x51ae31,_0xa779a=await getHintForQuestion(_0xee8d41[_0x40170d(0x551)]);showMessage(_0xa779a);}),document[_0x51ae31(0x2bc)]('check-answer-btn')[_0x51ae31(0x8de)]('click',()=>{const _0x454006=_0x51ae31,_0x5a4acf=document['querySelector'](_0x454006(0x880));if(!_0x5a4acf){showMessage(_0x454006(0x9d7));return;}const _0x539632=document['getElementById'](_0x454006(0x1a5)),_0x52493e=parseInt(_0x5a4acf[_0x454006(0xa21)])===_0xee8d41['correctAnswerIndex'];_0x52493e?(_0x539632[_0x454006(0x6de)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x539632[_0x454006(0xcd8)]=_0x454006(0x31e)+_0xee8d41[_0x454006(0x557)]):(_0x539632[_0x454006(0x6de)]=_0x454006(0xc06),_0x539632['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0xee8d41[_0x454006(0x557)]);_0x539632[_0x454006(0x517)]['remove']('hidden');if(window['MathJax'])MathJax['typesetPromise']([_0x539632]);document[_0x454006(0x2bc)](_0x454006(0xb4d))[_0x454006(0x517)][_0x454006(0x546)](_0x454006(0x44c)),document[_0x454006(0x2bc)](_0x454006(0xcea))[_0x454006(0x517)][_0x454006(0x546)](_0x454006(0x44c)),document[_0x454006(0x2bc)](_0x454006(0x7d0))[_0x454006(0x517)]['remove'](_0x454006(0x44c));}),document[_0x51ae31(0x2bc)](_0x51ae31(0x7d0))[_0x51ae31(0x8de)](_0x51ae31(0xc20),()=>{const _0x5f41aa=_0x51ae31;_0x3db0a6++,_0x3db0a6<_0x53e1f5[_0x5f41aa(0xab1)]?_0x102a45():(studentQuizArea[_0x5f41aa(0xcd8)]=_0x5f41aa(0x347),document['getElementById'](_0x5f41aa(0xb79))[_0x5f41aa(0x8de)]('click',()=>{const _0x245f6c=_0x5f41aa;studentQuizArea[_0x245f6c(0x517)][_0x245f6c(0x546)](_0x245f6c(0x44c)),studentResultArea['classList']['remove'](_0x245f6c(0x44c));}));});};_0x102a45();}async function getHintForQuestion(_0x550c97){const _0x2d4c8e=_0x1f917e,_0x49922b=_0x2d4c8e(0x1fc)+_0x550c97+_0x2d4c8e(0x54d),_0x2764a7={'type':_0x2d4c8e(0x60a),'properties':{'hint':{'type':_0x2d4c8e(0xab8)}},'required':[_0x2d4c8e(0x82b)]};try{const _0x53907b=await callAnalysisApi(_0x49922b,_0x2764a7);return _0x53907b['hint'];}catch(_0x224bdd){return console[_0x2d4c8e(0x512)](_0x2d4c8e(0xb02),_0x224bdd),_0x2d4c8e(0x950);}}async function extractTextFromPdf(_0xfbb1d3){const _0x1b5503=_0x1f917e;pdfjsLib[_0x1b5503(0x1ca)]['workerSrc']=_0x1b5503(0x9db);const _0x4baaa7=await _0xfbb1d3['arrayBuffer'](),_0x218712=await pdfjsLib[_0x1b5503(0x6ac)](_0x4baaa7)[_0x1b5503(0x2ad)],_0x3a564b=_0x218712['numPages'];let _0x439494='';for(let _0x4743c9=0x1;_0x4743c9<=_0x3a564b;_0x4743c9++){const _0x37954d=await _0x218712[_0x1b5503(0xc77)](_0x4743c9),_0x8765d3=await _0x37954d[_0x1b5503(0xcf4)](),_0x4f1c21=_0x8765d3[_0x1b5503(0x322)][_0x1b5503(0x618)](_0x29c561=>_0x29c561['str'])[_0x1b5503(0xd29)]('\x20');_0x439494+=_0x4f1c21+'\x0a\x0a';}return _0x439494;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x151711){const _0xf64428=_0x1f917e,_0xff674f=document[_0xf64428(0x2bc)](_0xf64428(0x268)),_0x10dc56=document['getElementById'](_0xf64428(0x4b7)),_0x3576b0=document[_0xf64428(0x2bc)](_0xf64428(0x7b2));_0xff674f[_0xf64428(0x517)][_0xf64428(0x1b5)](_0xf64428(0x44c)),_0x10dc56[_0xf64428(0xcd8)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x3576b0[_0xf64428(0x517)]['add']('hidden');try{const _0x1c8f1c=_0xf64428(0x2b3)+_0x151711+_0xf64428(0xae0),_0x1bfec4={'type':_0xf64428(0x60a),'properties':{'gradeLevel':{'type':_0xf64428(0xab8)},'curriculum':{'type':_0xf64428(0x5b8),'items':{'type':_0xf64428(0x60a),'properties':{'sara':{'type':_0xf64428(0xab8)},'mainTopics':{'type':'ARRAY','items':{'type':_0xf64428(0x60a),'properties':{'topicName':{'type':_0xf64428(0xab8)},'subTopics':{'type':_0xf64428(0x5b8),'items':{'type':_0xf64428(0xab8)}}},'required':['topicName',_0xf64428(0x828)]}}},'required':['sara','mainTopics']}}},'required':[_0xf64428(0xbd1),_0xf64428(0xb56)]},_0x422367=await callAnalysisApi(_0x1c8f1c,_0x1bfec4);if(_0x422367&&_0x422367[_0xf64428(0xb56)])extractedBlueprintData=_0x422367,renderBlueprintTopics(_0x422367),_0x3576b0[_0xf64428(0x517)]['remove'](_0xf64428(0x44c));else throw new Error(_0xf64428(0xa79));}catch(_0x492356){console['error'](_0xf64428(0xb3c),_0x492356),_0x10dc56[_0xf64428(0xcd8)]=_0xf64428(0xa0b);}}function renderBlueprintTopics(_0x4a7878){const _0x3794cf=_0x1f917e,_0x11585c=document[_0x3794cf(0x2bc)](_0x3794cf(0x4b7)),_0x51c36b=_0x4a7878[_0x3794cf(0xbd1)],_0x5068a0=_0x3794cf(0x64e)+_0x51c36b+'</h3>';let _0x4b5ac8='';_0x4a7878[_0x3794cf(0xb56)][_0x3794cf(0x229)](_0x50b1d4=>{const _0x4be037=_0x3794cf;_0x4b5ac8+=_0x4be037(0x1ac)+_0x50b1d4['sara']+_0x4be037(0x206),_0x50b1d4[_0x4be037(0x783)][_0x4be037(0x229)](_0x36b745=>{const _0x364a9b=_0x4be037;_0x4b5ac8+=_0x364a9b(0x66e)+_0x36b745[_0x364a9b(0x526)]+_0x364a9b(0xc98),_0x36b745['subTopics'][_0x364a9b(0x229)](_0xb27fab=>{const _0x4fe225=_0x364a9b;_0x4b5ac8+=_0x4fe225(0xa3c)+_0xb27fab[_0x4fe225(0x794)](/'/g,'\x5c\x27')+_0x4fe225(0x863)+_0x51c36b['replace'](/'/g,'\x5c\x27')+_0x4fe225(0x6d4)+_0xb27fab+_0x4fe225(0x513)+_0xb27fab[_0x4fe225(0x794)](/'/g,'\x5c\x27')+_0x4fe225(0x2ae);}),_0x4b5ac8+='</div></div>';}),_0x4b5ac8+=_0x4be037(0xa8a);}),_0x11585c[_0x3794cf(0xcd8)]=_0x5068a0+_0x4b5ac8;}async function handleGenerateTeachingContent(_0x739c57){const _0x546d8f=_0x1f917e,_0x2be94e=document[_0x546d8f(0x2bc)](_0x546d8f(0x719)),_0x1ce479=document[_0x546d8f(0x2bc)](_0x546d8f(0x22b));document['getElementById'](_0x546d8f(0xaa8))[_0x546d8f(0x806)]=_0x546d8f(0x8bf)+_0x739c57,_0x1ce479['innerHTML']=_0x546d8f(0x319),_0x2be94e[_0x546d8f(0x517)][_0x546d8f(0x1b5)](_0x546d8f(0x44c));try{const _0x328902=_0x546d8f(0x776)+_0x739c57+_0x546d8f(0xa85),_0x4c98cf={'type':_0x546d8f(0x60a),'properties':{'keyConcepts':{'type':_0x546d8f(0x5b8),'items':{'type':_0x546d8f(0xab8)}},'commonMistakes':{'type':_0x546d8f(0x5b8),'items':{'type':_0x546d8f(0xab8)}},'stepByStepExamples':{'type':_0x546d8f(0x5b8),'items':{'type':'OBJECT','properties':{'question':{'type':_0x546d8f(0xab8)},'solution':{'type':'STRING'}},'required':['question',_0x546d8f(0xd1e)]}},'teacherTips':{'type':_0x546d8f(0x5b8),'items':{'type':'STRING'}}},'required':[_0x546d8f(0xc49),_0x546d8f(0x78f),_0x546d8f(0x565),_0x546d8f(0xd11)]},_0x304e69=await callAnalysisApi(_0x328902,_0x4c98cf);displayTeachingContent(_0x304e69,_0x739c57);}catch(_0x33a351){console[_0x546d8f(0x512)]('Error\x20generating\x20teaching\x20content:',_0x33a351),_0x1ce479[_0x546d8f(0xcd8)]=_0x546d8f(0x723)+_0x33a351[_0x546d8f(0xaf3)]+'</p>';}}function displayTeachingContent(_0x1c8301,_0x1120fc){const _0x400bb8=_0x1f917e,_0xa9a325=document[_0x400bb8(0x2bc)](_0x400bb8(0x22b));document[_0x400bb8(0x2bc)](_0x400bb8(0xaa8))[_0x400bb8(0x806)]='เนื้อหาสำหรับสอน:\x20'+_0x1120fc;const _0x16a50c=_0x400bb8(0x5c1)+_0x1c8301[_0x400bb8(0xc49)]['map'](_0x4cfdcb=>_0x400bb8(0x934)+_0x4cfdcb+_0x400bb8(0x8b4))[_0x400bb8(0xd29)]('')+_0x400bb8(0x63f)+_0x1c8301[_0x400bb8(0x78f)]['map'](_0x369f5c=>'<li>'+_0x369f5c+_0x400bb8(0x8b4))[_0x400bb8(0xd29)]('')+_0x400bb8(0xbdd)+_0x1c8301[_0x400bb8(0x565)][_0x400bb8(0x618)](_0x1afcf2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x1afcf2[_0x400bb8(0xaa7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x1afcf2['solution']+_0x400bb8(0x4fe))[_0x400bb8(0xd29)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1c8301[_0x400bb8(0xd11)][_0x400bb8(0x618)](_0x43ee8c=>'<li>'+_0x43ee8c+'</li>')[_0x400bb8(0xd29)]('')+_0x400bb8(0x16f);_0xa9a325['innerHTML']=_0x16a50c;if(window[_0x400bb8(0x13e)])MathJax['typesetPromise']([_0xa9a325]);}async function generateQuizForSingleTopic(_0x1aeefe){const _0x154324=_0x1f917e;console['log'](_0x154324(0x1ef)+_0x1aeefe+'\x22');const _0x727fbe=document[_0x154324(0x2bc)](_0x154324(0x33e)),_0x196ecb=_0x727fbe['files']['length']>0x0?_0x727fbe[_0x154324(0x9ad)][0x0]:null;let _0x16db45=null;if(_0x196ecb)try{const _0x46ae7d=new FileReader();_0x46ae7d[_0x154324(0x981)](_0x196ecb);const _0x188013=await new Promise((_0x39f375,_0x3a4557)=>{const _0x7acd9e=_0x154324;_0x46ae7d['onload']=()=>_0x39f375(_0x46ae7d[_0x7acd9e(0x4c8)][_0x7acd9e(0x9b1)](',')[0x1]),_0x46ae7d[_0x7acd9e(0x8f2)]=_0x1d290f=>_0x3a4557(_0x1d290f);});_0x16db45=[{'inlineData':{'mimeType':_0x196ecb[_0x154324(0x903)],'data':_0x188013}}];}catch(_0x1f7c99){console[_0x154324(0x512)](_0x154324(0x9f6),_0x1f7c99),showMessage(_0x154324(0x6bd));return;}generateQuiz(_0x1aeefe,null,null,_0x16db45,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x20234a=null){const _0x563106=_0x1f917e,_0x467e29=document[_0x563106(0x2bc)]('loader'),_0x45eff6=document[_0x563106(0x2bc)]('loader-text');let _0x139934,_0x787e7=[];if(_0x20234a)_0x139934=_0x20234a,_0x787e7=_0x139934['slice'](0x2);else{const _0x23d65b=document[_0x563106(0x2bc)](_0x563106(0x5bc)),_0x21d783=document[_0x563106(0x2bc)]('reference-pdf-upload'),_0x22186a=_0x23d65b[_0x563106(0x9ad)][0x0];if(!_0x22186a){showMessage(_0x563106(0x2ff));return;}_0x45eff6[_0x563106(0x806)]=_0x563106(0xcb3);const _0x2abe1d=await new Promise((_0x60ffdf,_0x55fd0e)=>{const _0x410de9=_0x563106,_0x2d62f5=new FileReader();_0x2d62f5[_0x410de9(0x981)](_0x22186a),_0x2d62f5[_0x410de9(0x384)]=()=>_0x60ffdf(_0x2d62f5[_0x410de9(0x4c8)][_0x410de9(0x9b1)](',')[0x1]),_0x2d62f5[_0x410de9(0x8f2)]=_0x55fd0e;});_0x139934=[{'text':_0x563106(0x8e8)},{'inlineData':{'mimeType':_0x22186a[_0x563106(0x903)],'data':_0x2abe1d}}];if(_0x21d783[_0x563106(0x9ad)][_0x563106(0xab1)]>0x0){const _0x11de6d=_0x21d783[_0x563106(0x9ad)][0x0];_0x45eff6[_0x563106(0x806)]=_0x563106(0x18a);const _0x4256c2=await new Promise((_0x187279,_0x1fb944)=>{const _0x241036=_0x563106,_0x73912=new FileReader();_0x73912[_0x241036(0x981)](_0x11de6d),_0x73912[_0x241036(0x384)]=()=>_0x187279(_0x73912[_0x241036(0x4c8)]['split'](',')[0x1]),_0x73912['onerror']=_0x1fb944;}),_0x209b4f={'inlineData':{'mimeType':_0x11de6d[_0x563106(0x903)],'data':_0x4256c2}};_0x139934[_0x563106(0xad2)](_0x209b4f),_0x787e7['push'](_0x209b4f);}}const _0x41759b=_0x563106(0x781),_0x448c15='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x322cf5='';_0x787e7&&_0x787e7[_0x563106(0xab1)]>0x0?_0x322cf5=_0x41759b:_0x322cf5=_0x448c15;const _0x1614bf='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x322cf5+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x57cb5c={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x563106(0xab8),'enum':['multiple_choice',_0x563106(0x48c),_0x563106(0x475),_0x563106(0x4c9)]},'options':{'type':_0x563106(0x5b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x563106(0x16d)},'idealAnswer':{'type':_0x563106(0xab8)},'correctAnswer':{'type':_0x563106(0xd15)},'explanation':{'type':_0x563106(0xab8)},'imageCode':{'type':_0x563106(0xab8)}},'required':[_0x563106(0x789),_0x563106(0x557)]},_0x5ac431={'type':_0x563106(0x60a),'properties':{'topic':{'type':_0x563106(0xab8)},'questions':{'type':_0x563106(0x5b8),'items':_0x57cb5c}},'required':[_0x563106(0x533),'questions']};_0x139934[0x0][_0x563106(0xbaa)]=_0x1614bf,await handleApiCall(_0x139934,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x5ac431);}function proceedToNextQuestion(_0x5dbbdb){const _0x64d515=_0x1f917e;studentAnswersPerQuestion[_0x64d515(0xad2)](_0x5dbbdb),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x64d515(0x320)][_0x64d515(0xab1)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1502e8,_0x59471c,_0x273baf){const _0x51cfb5=_0x1f917e,_0x1dc754=Object[_0x51cfb5(0x631)](_0x1502e8[_0x51cfb5(0x81b)]||{}),_0xe9611a=_0x1dc754['length'],_0x4ac575=[..._0x1dc754][_0x51cfb5(0x817)]((_0x38be7a,_0xf12cc1)=>_0xf12cc1[_0x51cfb5(0xa20)]-_0x38be7a[_0x51cfb5(0xa20)]),_0x4c5832=_0x273baf,_0x5e9ed7=_0x1502e8['gameVariant']||'classic',_0x676306=!_0x59471c&&_0x5e9ed7==='anonymous'&&_0x1502e8[_0x51cfb5(0x6db)]===![];let _0x4911df='';const _0x245980=_0x1502e8['shuffledQuiz'][_0x51cfb5(0x320)],_0x33a6eb=_0x245980[_0x4c5832],_0x4dd679=_0x1d46df=>String['fromCharCode'](0x41+_0x1d46df);let _0x2a90f3='',_0x9c7536='';if(_0x33a6eb){const _0x4b8577=_0x33a6eb[_0x51cfb5(0x789)]||_0x1502e8[_0x51cfb5(0xa40)]['quizType'];if(_0x4b8577===_0x51cfb5(0x29d)&&_0x33a6eb[_0x51cfb5(0xae7)]&&_0x33a6eb['correctAnswerIndex']!==undefined){const _0x42ceff=_0x33a6eb[_0x51cfb5(0x16b)];_0x2a90f3=_0x33a6eb[_0x51cfb5(0xae7)][_0x42ceff],_0x9c7536=_0x4dd679(_0x42ceff)+'.';}else{if(_0x4b8577===_0x51cfb5(0x475)){const _0x43f0e4=_0x33a6eb[_0x51cfb5(0x9fa)]===!![]||String(_0x33a6eb[_0x51cfb5(0x9fa)])[_0x51cfb5(0x281)]()===_0x51cfb5(0xbf6);_0x43f0e4?(_0x2a90f3=_0x51cfb5(0x5e8),_0x9c7536='ก.'):(_0x2a90f3='ไม่ใช่\x20/\x20ผิด',_0x9c7536='ข.');}else{if(_0x4b8577===_0x51cfb5(0x4c9))_0x2a90f3=_0x33a6eb[_0x51cfb5(0xb73)]||'-',_0x9c7536='';else _0x4b8577===_0x51cfb5(0x48c)&&(_0x2a90f3=_0x33a6eb[_0x51cfb5(0x740)]||'-',_0x9c7536='');}}}_0x2a90f3&&(_0x4911df='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x4c5832+0x1)+_0x51cfb5(0x4f4)+_0x9c7536+'\x20'+_0x2a90f3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x57a1df=_0x4ac575[_0x51cfb5(0x618)](_0x1bd399=>{const _0x3326b7=_0x51cfb5,_0x566ad2=(_0x1bd399[_0x3326b7(0x5b7)]||[])[_0x3326b7(0xa7a)](_0x5162eb=>_0x5162eb[_0x3326b7(0x3f9)]<=_0x4c5832),_0x14d00c=_0x566ad2[_0x3326b7(0xa7a)](_0xdacd68=>_0xdacd68[_0x3326b7(0x2a1)])[_0x3326b7(0xab1)];let _0x1e1e36=![];const _0x4db343=(_0x1bd399[_0x3326b7(0x5b7)]||[])[_0x3326b7(0xaa2)](_0x15b069=>_0x15b069[_0x3326b7(0x3f9)]===_0x4c5832);_0x4db343&&_0x4db343[_0x3326b7(0x2a1)]&&(_0x1e1e36=!![]);const _0x2aaa3f=_0x1e1e36?_0x3326b7(0x574):_0x3326b7(0xbb2),_0x4de636=_0x676306?_0x1502e8[_0x3326b7(0x417)][_0x1bd399[_0x3326b7(0xc85)]]||'???':_0x1bd399[_0x3326b7(0xc85)];return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x2aaa3f+_0x3326b7(0x401)+_0x4de636+_0x3326b7(0x58b)+_0x14d00c+'\x20คะแนน</span></div>';})[_0x51cfb5(0xd29)](''),_0x1598e8=_0x245980['map']((_0x23fe81,_0x411906)=>{const _0x43993a=_0x51cfb5;if(_0x411906>_0x4c5832)return'';const _0x7a1e92=_0x1dc754[_0x43993a(0xa7a)](_0x25e3ce=>_0x25e3ce[_0x43993a(0x5b7)]&&_0x25e3ce[_0x43993a(0x5b7)]['find'](_0x40b86f=>_0x40b86f['questionIndex']===_0x411906&&_0x40b86f[_0x43993a(0x2a1)]))[_0x43993a(0xab1)],_0x2adb11=_0x411906===_0x4c5832,_0x2a1ff1=_0x2adb11?_0x43993a(0xa04):'p-2\x20bg-black/10\x20rounded-md';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x2a1ff1+_0x43993a(0x5d6)+(_0x411906+0x1)+_0x43993a(0xb50)+_0x7a1e92+'\x20/\x20'+_0xe9611a+_0x43993a(0x550);})[_0x51cfb5(0xd29)]('');let _0x309997='',_0xfbe28c='';if(_0x59471c){const _0xb8a180=_0x5e9ed7==='classic'&&_0x1502e8[_0x51cfb5(0x896)]>=_0x245980[_0x51cfb5(0xab1)]-0x1,_0xf7256c=_0x5e9ed7===_0x51cfb5(0x9d5)&&_0x1502e8['reviewQuestionIndex']>=_0x245980[_0x51cfb5(0xab1)]-0x1,_0x4de4a2=_0x5e9ed7==='anonymous'&&_0x1502e8[_0x51cfb5(0x647)]>=_0x245980[_0x51cfb5(0xab1)]-0x1;_0xb8a180||_0xf7256c||_0x4de4a2?_0x5e9ed7==='anonymous'&&_0x1502e8['isAnonymousRevealed']===![]?_0x309997='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x309997=_0x51cfb5(0xba4):_0x309997='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0xfbe28c=_0x51cfb5(0x484);}const _0x337416=_0x51cfb5(0xc83)+_0x1502e8[_0x51cfb5(0xa40)]['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfbe28c+_0x51cfb5(0x1f9)+_0x4911df+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x57a1df||_0x51cfb5(0xc7d))+_0x51cfb5(0x2f4)+_0x1598e8+_0x51cfb5(0x65b)+(_0x59471c?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x309997+_0x51cfb5(0xa8a):'')+_0x51cfb5(0xbac);liveGameView['innerHTML']=_0x337416;if(window[_0x51cfb5(0x13e)]){const _0x211b18=document[_0x51cfb5(0x2bc)](_0x51cfb5(0x98f));_0x211b18&&MathJax['typesetPromise']([_0x211b18]);}if(_0x59471c){document[_0x51cfb5(0x2bc)]('next-sync-question-btn')[_0x51cfb5(0x7aa)]=async()=>{const _0x1cf42c=_0x51cfb5,_0x4214fa=doc(db,_0x1cf42c(0x366)+appId+'/public/data/syncGames',currentLiveGameId),_0x1e7ca3=_0x5e9ed7===_0x1cf42c(0xcb8)&&_0x1502e8['currentQuestionIndex']>=_0x245980['length']-0x1,_0xd02ce7=_0x5e9ed7==='reveal_at_end'&&_0x1502e8[_0x1cf42c(0x647)]>=_0x245980[_0x1cf42c(0xab1)]-0x1,_0x4ca0a6=_0x5e9ed7==='anonymous'&&_0x1502e8[_0x1cf42c(0x647)]>=_0x245980[_0x1cf42c(0xab1)]-0x1;if(_0x5e9ed7==='classic'){if(!_0x1e7ca3){const _0x48a411=_0x1502e8[_0x1cf42c(0x896)]+0x1,_0x4d70c8={};Object[_0x1cf42c(0x420)](_0x1502e8['players'])[_0x1cf42c(0x229)](_0x213198=>{const _0x25d2fd=_0x1cf42c;_0x4d70c8[_0x25d2fd(0xbad)+_0x213198+_0x25d2fd(0xba9)]=![],_0x4d70c8[_0x25d2fd(0xbad)+_0x213198+'.lastAnswerIndex']=null;}),await updateDoc(_0x4214fa,{..._0x4d70c8,'status':'question','currentQuestionIndex':_0x48a411,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4214fa,{'status':'podium'});}else!_0xd02ce7&&!_0x4ca0a6?await updateDoc(_0x4214fa,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x4214fa,{'status':_0x1cf42c(0x985)});},document[_0x51cfb5(0x2bc)](_0x51cfb5(0xc9e))?.[_0x51cfb5(0x8de)](_0x51cfb5(0xc20),async()=>{const _0x305114=_0x51cfb5,_0x8f75d3=doc(db,_0x305114(0x366)+appId+_0x305114(0xa36),currentLiveGameId);await updateDoc(_0x8f75d3,{'isAnonymousRevealed':!![]});});const _0x4e0a86=document[_0x51cfb5(0x2bc)](_0x51cfb5(0xc2d));_0x4e0a86&&(_0x4e0a86[_0x51cfb5(0x7aa)]=()=>{const _0x570543=_0x51cfb5;showConfirmation(_0x570543(0x194),async()=>{const _0x5673b8=_0x570543,_0x52523b=doc(db,'artifacts/'+appId+_0x5673b8(0xa36),currentLiveGameId);await updateDoc(_0x52523b,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0xca88ae){const _0x540ca3=_0x1f917e,_0x398752=document[_0x540ca3(0x2bc)](_0x540ca3(0x965)),_0x5a6e1e=document['getElementById'](_0x540ca3(0x3bc));_0x5a6e1e[_0x540ca3(0x517)]['add'](_0x540ca3(0x44c));const _0x1a6b3f=_0x540ca3(0x35a)+_0xca88ae[_0x540ca3(0x533)]+_0x540ca3(0xb26);_0x398752[_0x540ca3(0x3f4)](_0x540ca3(0x77d),_0x1a6b3f);const _0x4f6649=document['getElementById'](_0x540ca3(0x5ed));try{const _0x5e267e=_0xca88ae[_0x540ca3(0x320)][_0x540ca3(0x618)]((_0x351706,_0xa43158)=>{const _0x1416e2=_0x540ca3;let _0x24bb0d=_0xa43158+0x1+'.\x20'+(_0x351706['questionText']||_0x351706[_0x1416e2(0x629)])+'\x0a';if(_0x351706[_0x1416e2(0xae7)])_0x24bb0d+=_0x351706[_0x1416e2(0xae7)][_0x1416e2(0x618)]((_0x2ebec0,_0x4d9047)=>_0x1416e2(0x290)+(_0x4d9047===_0x351706[_0x1416e2(0x16b)]?_0x1416e2(0xbf2):'')+'\x20'+_0x2ebec0)[_0x1416e2(0xd29)]('\x0a');else _0x351706[_0x1416e2(0x740)]&&(_0x24bb0d+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x351706[_0x1416e2(0x740)]);return _0x24bb0d;})[_0x540ca3(0xd29)]('\x0a\x0a');_0x4f6649[_0x540ca3(0x806)]=_0x540ca3(0xc48);const _0x537648=_0x540ca3(0xcf0)+_0xca88ae[_0x540ca3(0x533)]+_0x540ca3(0x410)+_0x5e267e+_0x540ca3(0x43f)+simpleMathPrompt+_0x540ca3(0xb38),_0x11f463={'type':_0x540ca3(0x60a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x540ca3(0xab8),'enum':['multiple_choice',_0x540ca3(0x48c),'true_false',_0x540ca3(0x4c9)]},'options':{'type':_0x540ca3(0x5b8),'items':{'type':_0x540ca3(0xab8)}},'correctAnswerIndex':{'type':_0x540ca3(0x16d)},'idealAnswer':{'type':_0x540ca3(0xab8)},'correctAnswer':{'type':_0x540ca3(0xd15)},'stem':{'type':_0x540ca3(0xab8)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x540ca3(0x5b8),'items':{'type':_0x540ca3(0xab8)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x540ca3(0x789),_0x540ca3(0x557)]},_0x44ce3a={'type':_0x540ca3(0x60a),'properties':{'topic':{'type':_0x540ca3(0xab8)},'questions':{'type':'ARRAY','items':_0x11f463}},'required':[_0x540ca3(0x533),_0x540ca3(0x320)]},_0x22f45c=await callAnalysisApi(_0x537648,_0x44ce3a),_0x2b916c=_0x22f45c[_0x540ca3(0x320)][_0x540ca3(0x618)]((_0x65acd8,_0x22f276)=>({..._0x65acd8,'id':'q_'+Date[_0x540ca3(0x58e)]()+'_'+_0x22f276})),_0x46f28b=_0x540ca3(0x9c2)+_0xca88ae[_0x540ca3(0x533)],_0x1b3c7a={'topic':_0x46f28b,'questions':_0x2b916c,'quizType':_0xca88ae[_0x540ca3(0x13d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x540ca3(0x597)](),'status':_0x540ca3(0x50f),'settings':_0xca88ae['settings'],'quizMode':_0x540ca3(0x226),'pairedQuizId':null,'lessonPlan':null};let _0x33a7ed;while(!![]){_0x33a7ed=Math[_0x540ca3(0x854)](0x3e8+Math['random']()*0x2328)[_0x540ca3(0x24a)]();const _0x4af39f=await getDoc(doc(db,_0x540ca3(0x366)+appId+_0x540ca3(0xcbc),_0x33a7ed));if(!_0x4af39f[_0x540ca3(0x485)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x540ca3(0xcbc),_0x33a7ed),_0x1b3c7a),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x2f1e27){console[_0x540ca3(0x512)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x2f1e27),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2f1e27[_0x540ca3(0xaf3)]);}finally{const _0x4995af=document[_0x540ca3(0x2bc)](_0x540ca3(0x75f));_0x4995af&&_0x4995af[_0x540ca3(0x1b5)](),_0x5a6e1e[_0x540ca3(0x517)][_0x540ca3(0x1b5)](_0x540ca3(0x44c));}}async function handleGenerateParallelPostTest(_0x458332){const _0x365a1e=_0x1f917e,_0x1e92f4=document[_0x365a1e(0x2bc)](_0x365a1e(0x965)),_0x2976bb=document['getElementById'](_0x365a1e(0x3bc));_0x2976bb[_0x365a1e(0x517)][_0x365a1e(0x546)]('hidden');const _0xf573b9=_0x365a1e(0x3ae);_0x1e92f4['insertAdjacentHTML'](_0x365a1e(0x77d),_0xf573b9);try{const _0x10a20f=_0x458332[_0x365a1e(0x320)][_0x365a1e(0x618)]((_0x14fbe0,_0x4cf666)=>{const _0x8ad48f=_0x365a1e;let _0x3f7b78=_0x4cf666+0x1+'.\x20'+(_0x14fbe0['questionText']||_0x14fbe0['stem']);if(_0x14fbe0[_0x8ad48f(0xae7)])_0x3f7b78+=_0x8ad48f(0xafd)+_0x14fbe0[_0x8ad48f(0xae7)]['join'](',\x20');return _0x3f7b78;})[_0x365a1e(0xd29)]('\x0a\x0a'),_0x49d925=_0x365a1e(0xbd7)+_0x458332[_0x365a1e(0x533)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10a20f+_0x365a1e(0xbb9)+simpleMathPrompt+_0x365a1e(0xb38),_0x15e3ea={'type':_0x365a1e(0x60a),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x365a1e(0x5b8),'items':{'type':_0x365a1e(0xab8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x365a1e(0xab8)},'explanation':{'type':_0x365a1e(0xab8)}},'required':[_0x365a1e(0x551),_0x365a1e(0x557)]}}},'required':[_0x365a1e(0x533),'questions']},_0x320c7e=await callAnalysisApi(_0x49d925,_0x15e3ea),_0x434564=_0x458332[_0x365a1e(0x533)][_0x365a1e(0x794)](_0x365a1e(0x70a),'')[_0x365a1e(0x1df)](),_0xb06e00=_0x365a1e(0x7fb)+_0x434564,_0x46beae={..._0x320c7e,'topic':_0xb06e00,'quizType':_0x458332[_0x365a1e(0x13d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x365a1e(0x597)](),'status':_0x365a1e(0x50f),'settings':_0x458332[_0x365a1e(0x327)],'quizMode':_0x365a1e(0x9a2),'pairedQuizId':_0x458332['id']};let _0x4ac960;while(!![]){_0x4ac960=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x18c480=await getDoc(doc(db,_0x365a1e(0x366)+appId+_0x365a1e(0xcbc),_0x4ac960));if(!_0x18c480[_0x365a1e(0x485)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4ac960),_0x46beae);const _0x36201f=doc(db,_0x365a1e(0x366)+appId+_0x365a1e(0xcbc),_0x458332['id']);await updateDoc(_0x36201f,{'pairedQuizId':_0x4ac960}),showMessage(_0x365a1e(0xceb));}catch(_0x3dff99){console[_0x365a1e(0x512)](_0x365a1e(0x558),_0x3dff99),showMessage(_0x365a1e(0xade)+_0x3dff99[_0x365a1e(0xaf3)]);}finally{const _0x5655ca=document[_0x365a1e(0x2bc)](_0x365a1e(0x75f));if(_0x5655ca)_0x5655ca[_0x365a1e(0x1b5)]();_0x2976bb[_0x365a1e(0x517)][_0x365a1e(0x1b5)]('hidden');}}async function handleGenerateParallelTest(_0x1b9957=null){const _0x5f24a2=_0x1f917e;let _0x484d4e=_0x1b9957;if(!_0x484d4e){const _0x1a28aa=document[_0x5f24a2(0x2bc)](_0x5f24a2(0x2a2));_0x1a28aa[_0x5f24a2(0x9ad)]['length']>0x0&&(_0x484d4e=_0x1a28aa[_0x5f24a2(0x9ad)][0x0]);}if(!_0x484d4e){showMessage(_0x5f24a2(0x956));return;}const _0x105d14=document['getElementById'](_0x5f24a2(0x70f)),_0x2cf03f=document[_0x5f24a2(0x2bc)](_0x5f24a2(0x626)),_0x268004=document[_0x5f24a2(0x2bc)](_0x5f24a2(0x613)),_0x2e4160=document[_0x5f24a2(0x2bc)](_0x5f24a2(0x3e2));_0x2e4160[_0x5f24a2(0x8ab)]=!![],document['getElementById'](_0x5f24a2(0x83c))[_0x5f24a2(0x517)][_0x5f24a2(0x1b5)](_0x5f24a2(0x44c)),_0x268004['innerHTML']='',_0x105d14[_0x5f24a2(0x517)][_0x5f24a2(0x1b5)]('hidden'),_0x2cf03f[_0x5f24a2(0x806)]=_0x5f24a2(0x600);const _0x381bfe=new FileReader();_0x381bfe[_0x5f24a2(0x981)](_0x484d4e),_0x381bfe[_0x5f24a2(0x384)]=async()=>{const _0x18a2ab=_0x5f24a2;try{const _0x1cd6cd=_0x381bfe['result']['split'](',')[0x1],_0xe196c=_0x484d4e[_0x18a2ab(0x903)];_0x2cf03f[_0x18a2ab(0x806)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x590368=document['getElementById'](_0x18a2ab(0xba5))[_0x18a2ab(0x6b7)],_0x9c7af8=_0x590368?_0x18a2ab(0x67b):'',_0x392b95=_0x18a2ab(0x747),_0x56e6f3={'type':_0x18a2ab(0x60a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x18a2ab(0xab8),'enum':[_0x18a2ab(0x29d),_0x18a2ab(0x48c)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x18a2ab(0x16d)},'idealAnswer':{'type':_0x18a2ab(0xab8)},'explanation':{'type':_0x18a2ab(0xab8)},'imageCode':{'type':_0x18a2ab(0xab8)}},'required':['questionText','questionType','explanation']},_0x215e84={'type':_0x18a2ab(0x60a),'properties':{'topic':{'type':_0x18a2ab(0xab8)},'questions':{'type':_0x18a2ab(0x5b8),'items':_0x56e6f3}},'required':[_0x18a2ab(0x533),_0x18a2ab(0x320)]},_0x4a2b27=[{'text':_0x392b95},{'inlineData':{'mimeType':_0xe196c,'data':_0x1cd6cd}}];await handleApiCall(_0x4a2b27,_0x18a2ab(0x807),_0x215e84);}catch(_0x320511){console[_0x18a2ab(0x512)](_0x18a2ab(0xbc1),_0x320511),showMessage(_0x18a2ab(0xade)+_0x320511['message']),_0x268004[_0x18a2ab(0xcd8)]=_0x18a2ab(0xa28);}finally{_0x105d14['classList'][_0x18a2ab(0x546)](_0x18a2ab(0x44c)),_0x2e4160[_0x18a2ab(0x8ab)]=![];}},_0x381bfe[_0x5f24a2(0x8f2)]=_0x45cf40=>{const _0x3fca27=_0x5f24a2;console[_0x3fca27(0x512)](_0x3fca27(0x435),_0x45cf40),showMessage(_0x3fca27(0x89d)),_0x105d14[_0x3fca27(0x517)][_0x3fca27(0x546)](_0x3fca27(0x44c)),_0x2e4160[_0x3fca27(0x8ab)]=![];};}async function handleRegenerateQuestionInEditor(_0x4173ba){const _0x44d379=_0x1f917e;if(currentEditingQuizData===null)return;const _0x55619d=document['querySelector'](_0x44d379(0x39b)+_0x4173ba+'\x22]');_0x55619d&&(_0x55619d[_0x44d379(0xcd8)]=_0x44d379(0x8e1));const _0x5619a6=currentEditingQuizData[_0x44d379(0x320)][_0x4173ba],_0x52bcb3=currentEditingQuizData[_0x44d379(0x533)],_0x5aa961=_0x5619a6[_0x44d379(0x789)],_0xeb7f51={'type':_0x44d379(0x60a),'properties':{'questionText':{'type':_0x44d379(0xab8)},'options':{'type':_0x44d379(0x5b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x44d379(0x16d)},'explanation':{'type':_0x44d379(0xab8)}},'required':[_0x44d379(0x551),_0x44d379(0xae7),_0x44d379(0x16b),_0x44d379(0x557)]},_0x20b2d3={'type':_0x44d379(0x60a),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x44d379(0xab8)},'explanation':{'type':_0x44d379(0xab8)}},'required':[_0x44d379(0x551),_0x44d379(0x740),'explanation']};let _0x3c8e1b,_0x47be25='';_0x5aa961===_0x44d379(0x29d)?(_0x3c8e1b=_0xeb7f51,_0x47be25='แบบปรนัย\x204\x20ตัวเลือก'):(_0x3c8e1b=_0x20b2d3,_0x47be25=_0x44d379(0x654));const _0x123347=_0x44d379(0xbb7)+_0x52bcb3+_0x44d379(0x935)+_0x47be25+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x5619a6[_0x44d379(0x551)]||_0x5619a6[_0x44d379(0x629)])+_0x44d379(0x46c)+simpleMathPrompt;try{const _0x49de83=await callAnalysisApi(_0x123347,_0x3c8e1b);currentEditingQuizData['questions'][_0x4173ba]={..._0x5619a6,..._0x49de83},renderQuizEditor(currentEditingQuizData);}catch(_0x4f007d){console[_0x44d379(0x512)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x4f007d),showMessage(_0x44d379(0x591)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x1b9600=_0x1f917e,_0x1e781a=document[_0x1b9600(0x2bc)](_0x1b9600(0x859));currentMode==='student'?(currentMode=_0x1b9600(0x8f9),_0x1e781a[_0x1b9600(0xcd8)]=_0x1b9600(0x926),_0x1e781a[_0x1b9600(0x5d3)]=_0x1b9600(0xc9d),showView(_0x1b9600(0x4f5))):(currentMode=_0x1b9600(0x8fb),_0x1e781a[_0x1b9600(0xcd8)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x1e781a['title']='สลับไปโหมดผู้ควบคุม',showView(_0x1b9600(0x8fb)));}function handleAdminLogin(){const _0x59d993=_0x1f917e,_0x1c93af=document[_0x59d993(0x2bc)]('admin-password-input'),_0x2a8cf4=document[_0x59d993(0x2bc)](_0x59d993(0x1b4));if(_0x1c93af[_0x59d993(0xa21)]==='27411472'){adminPasswordModal['classList'][_0x59d993(0x546)](_0x59d993(0x44c)),_0x1c93af[_0x59d993(0xa21)]='',_0x2a8cf4[_0x59d993(0x517)]['add'](_0x59d993(0x44c)),currentMode='admin';const _0x2dfc60=document[_0x59d993(0x2bc)]('mode-switcher-btn');_0x2dfc60[_0x59d993(0xcd8)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x2dfc60[_0x59d993(0x5d3)]='สลับไปโหมดนักเรียน',showView(_0x59d993(0x4f5));}else _0x2a8cf4[_0x59d993(0x517)][_0x59d993(0x1b5)]('hidden'),_0x1c93af[_0x59d993(0xa21)]='';}function switchProjectTab(_0x52c1c8){const _0x39add3=_0x1f917e;[_0x39add3(0x707),_0x39add3(0x59b),_0x39add3(0xa8c)][_0x39add3(0x229)](_0x19b008=>{const _0x162413=_0x39add3;document['getElementById'](_0x19b008+'-tab')[_0x162413(0x517)][_0x162413(0x1b5)](_0x162413(0x50f)),document[_0x162413(0x2bc)](_0x19b008+_0x162413(0xcfa))[_0x162413(0x517)][_0x162413(0x546)](_0x162413(0x44c));}),document[_0x39add3(0x2bc)](_0x52c1c8+'-tab')[_0x39add3(0x517)][_0x39add3(0x546)](_0x39add3(0x50f)),document[_0x39add3(0x2bc)](_0x52c1c8+_0x39add3(0xcfa))[_0x39add3(0x517)][_0x39add3(0x1b5)](_0x39add3(0x44c));}function switchQuizDetailTab(_0x3e5cad){const _0x305915=_0x1f917e,_0x43ea6f={'analytics':{'btn':_0x305915(0xa31),'content':_0x305915(0xcc4)},'scores':{'btn':_0x305915(0x60c),'content':_0x305915(0x41d)},'leaderboard-quiz':{'btn':_0x305915(0x4f8),'content':_0x305915(0xce7)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x305915(0x3e1)}};for(const _0x31d77e in _0x43ea6f){document[_0x305915(0x2bc)](_0x43ea6f[_0x31d77e][_0x305915(0x19a)])['classList']['remove'](_0x305915(0x50f)),document['getElementById'](_0x43ea6f[_0x31d77e][_0x305915(0xc75)])[_0x305915(0x517)][_0x305915(0x546)](_0x305915(0x44c));}document[_0x305915(0x2bc)](_0x43ea6f[_0x3e5cad]['btn'])['classList'][_0x305915(0x546)](_0x305915(0x50f)),document[_0x305915(0x2bc)](_0x43ea6f[_0x3e5cad][_0x305915(0xc75)])['classList']['remove']('hidden');}function showMessage(_0x4ed112,_0x104af4=null){const _0x2c79b2=_0x1f917e;modalMessage[_0x2c79b2(0x806)]=_0x4ed112,modalConfirmAction=_0x104af4,messageModal['classList'][_0x2c79b2(0x1b5)](_0x2c79b2(0x44c));}function showConfirmation(_0x40630b,_0x3759ae){const _0x5bcf86=_0x1f917e;document[_0x5bcf86(0x2bc)]('confirmation-message')[_0x5bcf86(0x806)]=_0x40630b,document[_0x5bcf86(0x2bc)]('confirmation-modal')[_0x5bcf86(0x22d)]('h3')[_0x5bcf86(0x806)]='ยืนยันการกระทำ',confirmAction=_0x3759ae,confirmationModal[_0x5bcf86(0x517)][_0x5bcf86(0x1b5)](_0x5bcf86(0x44c));}function listenForProjects(){const _0x775c3d=_0x1f917e,_0x2bf123=doc(db,_0x775c3d(0x214),_0x775c3d(0x6b4));onSnapshot(_0x2bf123,_0x1e0764=>{const _0x28a645=_0x775c3d;if(_0x1e0764[_0x28a645(0x485)]()){const _0x21b4d3=_0x1e0764['data']();globalDashboardSettings[_0x28a645(0x522)]=_0x21b4d3[_0x28a645(0x522)]||_0x28a645(0x5fa),globalDashboardSettings[_0x28a645(0x832)]=_0x21b4d3[_0x28a645(0x832)]||[],globalDashboardSettings[_0x28a645(0x9f8)]=_0x21b4d3['projectOrder']||[];}allProjects[_0x28a645(0xab1)]>0x0&&renderProjects();});const _0x3fd23b=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x3fd23b,_0x591f38=>{const _0x42ca67=_0x775c3d;allProjects=_0x591f38[_0x42ca67(0xac3)][_0x42ca67(0x618)](_0x265216=>({'id':_0x265216['id'],..._0x265216['data']()})),renderProjects();},_0x5d464f=>{const _0x566c83=_0x775c3d;console[_0x566c83(0x512)]('Error\x20listening\x20for\x20projects:',_0x5d464f),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x3dd2e7,_0x30f4f2){const _0x5d3129=_0x1f917e;document['querySelectorAll']('.color-palette-popup')[_0x5d3129(0x229)](_0x3a4b04=>_0x3a4b04[_0x5d3129(0x1b5)]());const _0x5ceff3=[_0x5d3129(0xbbd),'#FEE2E2',_0x5d3129(0xafc),_0x5d3129(0xb71),_0x5d3129(0x3d1),_0x5d3129(0x303),_0x5d3129(0x3b7),_0x5d3129(0xce9),_0x5d3129(0x48e)],_0x3af50e=document[_0x5d3129(0x3ff)]('div');_0x3af50e[_0x5d3129(0x6de)]=_0x5d3129(0x146),_0x5ceff3[_0x5d3129(0x229)](_0x147852=>{const _0x272fd9=_0x5d3129,_0x454afc=document['createElement'](_0x272fd9(0xb25));_0x454afc['className']=_0x272fd9(0xb49),_0x454afc[_0x272fd9(0x60e)]['backgroundColor']=_0x147852,_0x454afc[_0x272fd9(0x8de)](_0x272fd9(0xc20),()=>{const _0x25c1ec=_0x272fd9;handleProjectColorChange(_0x30f4f2,_0x147852),_0x3af50e[_0x25c1ec(0x1b5)]();}),_0x3af50e[_0x272fd9(0x289)](_0x454afc);}),document[_0x5d3129(0x667)][_0x5d3129(0x289)](_0x3af50e);const _0x38365f=_0x3dd2e7[_0x5d3129(0x263)]();_0x3af50e[_0x5d3129(0x60e)][_0x5d3129(0x151)]=_0x38365f['bottom']+window[_0x5d3129(0x7dd)]+'px',_0x3af50e['style']['left']=_0x38365f['left']+window[_0x5d3129(0xcc5)]-_0x3af50e[_0x5d3129(0x1a0)]/0x2+'px';}async function handleProjectColorChange(_0x16ab32,_0x204cc0){const _0x1b7106=_0x1f917e,_0x25c311=doc(db,_0x1b7106(0x366)+appId+_0x1b7106(0x7ad),_0x16ab32);try{await updateDoc(_0x25c311,{'color':_0x204cc0});}catch(_0x11ee8f){console[_0x1b7106(0x512)](_0x1b7106(0x6b0),_0x11ee8f),showMessage(_0x1b7106(0xb92));}}async function renderProjects(){const _0x176f0f=_0x1f917e,_0x222cb1=globalDashboardSettings[_0x176f0f(0x522)]||_0x176f0f(0x5fa),_0x49b178=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x5616e9=globalDashboardSettings[_0x176f0f(0x232)]||_0x176f0f(0x3ba),_0xd60c13=document['getElementById'](_0x176f0f(0x993)),_0x5fe875=document['getElementById'](_0x176f0f(0xb06));_0xd60c13['classList']['toggle'](_0x176f0f(0x50f),_0x5616e9===_0x176f0f(0x3ba)),_0x5fe875['classList'][_0x176f0f(0xb29)]('active',_0x5616e9===_0x176f0f(0x1a1)),document[_0x176f0f(0x2bc)](_0x176f0f(0x3ee))[_0x176f0f(0xa21)]=_0x222cb1;const _0x607601=document[_0x176f0f(0x2bc)](_0x176f0f(0x69b))['value'][_0x176f0f(0x281)]();let _0x45907e=allProjects[_0x176f0f(0xa7a)](_0x389d20=>_0x389d20[_0x176f0f(0x30b)][_0x176f0f(0x281)]()[_0x176f0f(0x42a)](_0x607601));const _0x36e899=_0x45907e[_0x176f0f(0xa7a)](_0x21ada4=>_0x49b178['has'](_0x21ada4['id'])),_0x2c36b4=_0x45907e[_0x176f0f(0xa7a)](_0x21227a=>!_0x49b178[_0x176f0f(0x646)](_0x21227a['id'])),_0x4e2499=(_0x25305d,_0x59f714)=>{const _0x262567=_0x176f0f;switch(_0x222cb1){case _0x262567(0xb8b):return _0x25305d['projectName'][_0x262567(0x6e3)](_0x59f714['projectName'],'th');case _0x262567(0x4a9):return _0x59f714[_0x262567(0x30b)][_0x262567(0x6e3)](_0x25305d[_0x262567(0x30b)],'th');case _0x262567(0x3e6):return new Date(_0x25305d[_0x262567(0x91e)])-new Date(_0x59f714[_0x262567(0x91e)]);default:return new Date(_0x59f714[_0x262567(0x91e)])-new Date(_0x25305d[_0x262567(0x91e)]);}};_0x36e899['sort'](_0x4e2499),_0x2c36b4[_0x176f0f(0x817)](_0x4e2499);const _0x2ccef2=[..._0x36e899,..._0x2c36b4],_0x5df7aa=globalDashboardSettings['projectOrder']||[];_0x5df7aa[_0x176f0f(0xab1)]>0x0&&_0x5616e9===_0x176f0f(0x3ba)&&_0x2ccef2[_0x176f0f(0x817)]((_0x55835d,_0x120482)=>{const _0x452b15=_0x176f0f,_0x378490=_0x5df7aa[_0x452b15(0xb3b)](_0x55835d['id']),_0x148cd2=_0x5df7aa[_0x452b15(0xb3b)](_0x120482['id']);if(_0x378490===-0x1)return 0x1;if(_0x148cd2===-0x1)return-0x1;return _0x378490-_0x148cd2;});const _0xeb4156={};await Promise[_0x176f0f(0x8bd)](_0x2ccef2[_0x176f0f(0x618)](async _0x1e0235=>{const _0x3648c1=_0x176f0f,_0x368510=query(collection(db,'artifacts/'+appId+_0x3648c1(0xcbc)),where(_0x3648c1(0x7f9),'==',_0x1e0235['id'])),_0x3a3552=await getDocs(_0x368510);_0xeb4156[_0x1e0235['id']]=_0x3a3552[_0x3648c1(0xc1b)];}));const _0x301784=document[_0x176f0f(0x2bc)](_0x176f0f(0x147));let _0x1caf57='';if(_0x5616e9==='grid'){_0x301784['className']=_0x176f0f(0x4aa);if(starredQuizzes['length']>0x0&&_0x607601===''){const _0x38c85a=starredQuizzes[_0x176f0f(0x618)](_0x7dda5f=>{const _0x23f5ac=_0x176f0f,_0x95ed71=allProjects['find'](_0x15bea9=>_0x15bea9['id']===_0x7dda5f[_0x23f5ac(0x7f9)]);return{..._0x7dda5f,'projectName':_0x95ed71?_0x95ed71['projectName']:_0x23f5ac(0x95a)};});_0x1caf57+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38c85a[_0x176f0f(0x618)](_0x134b1e=>_0x176f0f(0xa38)+_0x134b1e[_0x176f0f(0x533)]+'\x22>'+_0x134b1e[_0x176f0f(0x533)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x134b1e[_0x176f0f(0x30b)]+_0x176f0f(0xb40)+_0x134b1e[_0x176f0f(0x30b)]+_0x176f0f(0x4ff))[_0x176f0f(0xd29)]('')+_0x176f0f(0x80c)+starredQuizzes[_0x176f0f(0xab1)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x2ccef2[_0x176f0f(0x229)](_0x25717d=>{const _0x721c5d=_0x176f0f,_0x550767=_0xeb4156[_0x25717d['id']]??0x0,_0x4c06ec=_0x49b178[_0x721c5d(0x646)](_0x25717d['id']),_0x235f76=_0x25717d[_0x721c5d(0x922)]||_0x721c5d(0xbbd),_0x28a55e=parseInt(_0x235f76[_0x721c5d(0xbb5)](0x1,0x3),0x10)*0.299+parseInt(_0x235f76[_0x721c5d(0xbb5)](0x3,0x5),0x10)*0.587+parseInt(_0x235f76[_0x721c5d(0xbb5)](0x5,0x7),0x10)*0.114<0xba,_0x45514f=_0x28a55e?'text-white':_0x721c5d(0x4a0),_0x39c0a1=_0x28a55e?_0x721c5d(0xb10):_0x721c5d(0xbe0);_0x1caf57+=_0x721c5d(0xc86)+(_0x4c06ec?_0x721c5d(0x9e6):_0x721c5d(0x941))+_0x721c5d(0x81a)+_0x235f76+_0x721c5d(0x359)+_0x25717d['id']+_0x721c5d(0xc95)+_0x25717d['id']+_0x721c5d(0x842)+(_0x28a55e?_0x721c5d(0x685):_0x721c5d(0x355))+_0x721c5d(0x1c9)+_0x25717d['id']+_0x721c5d(0x43e)+(_0x28a55e?_0x721c5d(0x685):_0x721c5d(0x355))+_0x721c5d(0x768)+(_0x4c06ec?_0x28a55e?_0x721c5d(0x86f):_0x721c5d(0xc76):'')+_0x721c5d(0x6cb)+_0x25717d['id']+_0x721c5d(0xcb0)+_0x45514f+_0x721c5d(0x63c)+_0x25717d[_0x721c5d(0x30b)]+_0x721c5d(0x93f)+_0x39c0a1+_0x721c5d(0x861)+new Date(_0x25717d[_0x721c5d(0x91e)])[_0x721c5d(0x2bb)]('th-TH')+_0x721c5d(0x4b0)+(_0x28a55e?_0x721c5d(0x391):'text-gray-700')+_0x721c5d(0xaed)+_0x550767+_0x721c5d(0x7c7)+_0x25717d['id']+'\x22\x20data-name=\x22'+_0x25717d['projectName']+_0x721c5d(0x7db)+(_0x28a55e?_0x721c5d(0x870):_0x721c5d(0x6ff))+_0x721c5d(0x925);});}else _0x301784[_0x176f0f(0x6de)]=_0x176f0f(0xaa1),starredQuizzes[_0x176f0f(0xab1)]>0x0&&_0x607601===''&&(_0x1caf57+=_0x176f0f(0x211)+starredQuizzes[_0x176f0f(0xab1)]+_0x176f0f(0x528)),_0x1caf57+=_0x176f0f(0x266),_0x2ccef2['forEach'](_0x39a232=>{const _0x4972dd=_0x176f0f,_0x45964c=_0xeb4156[_0x39a232['id']]??0x0,_0x5db252=_0x49b178[_0x4972dd(0x646)](_0x39a232['id']);_0x1caf57+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x39a232[_0x4972dd(0x922)]||_0x4972dd(0x48e))+_0x4972dd(0x5a2)+_0x39a232['id']+_0x4972dd(0x400)+_0x39a232[_0x4972dd(0x30b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x45964c+_0x4972dd(0x49a)+new Date(_0x39a232[_0x4972dd(0x91e)])[_0x4972dd(0x698)](_0x4972dd(0x2bf))+_0x4972dd(0xc9c)+_0x39a232['id']+_0x4972dd(0x5cc)+(_0x5db252?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x39a232['id']+_0x4972dd(0x6bb)+_0x39a232[_0x4972dd(0x30b)]+_0x4972dd(0xb88);});projectList['innerHTML']=_0x1caf57,noProjectsMsg[_0x176f0f(0x517)][_0x176f0f(0xb29)](_0x176f0f(0x44c),_0x1caf57[_0x176f0f(0xab1)]>0x0);}document[_0x1f917e(0x2bc)](_0x1f917e(0x82a))[_0x1f917e(0x8de)](_0x1f917e(0xc20),async()=>{const _0x326a8e=_0x1f917e,_0x313098=document[_0x326a8e(0x2bc)](_0x326a8e(0x8cd)),_0x265323=_0x313098[_0x326a8e(0xa21)][_0x326a8e(0x1df)]();if(!_0x265323){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x140e1b=doc(collection(db,_0x326a8e(0x366)+appId+'/public/data/projects'));await setDoc(_0x140e1b,{'projectName':_0x265323,'students':[],'settings':{'resultsDisplay':_0x326a8e(0xc3b),'shuffleSetting':_0x326a8e(0x1d8),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x326a8e(0x1d8),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x326a8e(0x597)]()}),_0x313098[_0x326a8e(0xa21)]='',createProjectModal['classList'][_0x326a8e(0x546)](_0x326a8e(0x44c)),showMessage(_0x326a8e(0x7e9));}catch(_0x13e259){console[_0x326a8e(0x512)]('Error\x20creating\x20project:',_0x13e259),showMessage(_0x326a8e(0xbf0));}}),projectList[_0x1f917e(0x8de)](_0x1f917e(0xc20),async _0x36838e=>{const _0x1c576f=_0x1f917e,_0x593853=_0x36838e[_0x1c576f(0x97d)][_0x1c576f(0x634)]('.project-card-content'),_0x4a16b0=_0x36838e[_0x1c576f(0x97d)]['closest'](_0x1c576f(0xcfb)),_0x125321=_0x36838e[_0x1c576f(0x97d)][_0x1c576f(0x634)](_0x1c576f(0x8ce)),_0x50e165=_0x36838e[_0x1c576f(0x97d)][_0x1c576f(0x634)]('.color-palette-btn');if(_0x125321){const _0xedf5d2=_0x125321[_0x1c576f(0x4e3)]['id'],_0x2273be=doc(db,_0x1c576f(0x214),_0x1c576f(0x6b4)),_0x246e25=globalDashboardSettings[_0x1c576f(0x832)];let _0x386915;_0x246e25['includes'](_0xedf5d2)?_0x386915=_0x246e25[_0x1c576f(0xa7a)](_0x102378=>_0x102378!==_0xedf5d2):_0x386915=[..._0x246e25,_0xedf5d2];try{await setDoc(_0x2273be,{'pinnedProjects':_0x386915},{'merge':!![]});}catch(_0x1b7b6b){console[_0x1c576f(0x512)]('Error\x20updating\x20pin\x20status:',_0x1b7b6b),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x50e165){const _0x5e1e17=_0x50e165[_0x1c576f(0x4e3)]['id'];showColorPalette(_0x50e165,_0x5e1e17);}else{if(_0x593853){const _0x3d29ab=_0x593853[_0x1c576f(0x4e3)]['id'];_0x3d29ab===_0x1c576f(0x1a7)?showStarredProjectView():(currentProjectId=_0x3d29ab,await loadProjectDetails(currentProjectId),showView(_0x1c576f(0x682)));}else{if(_0x4a16b0){const _0xa9395c=_0x4a16b0[_0x1c576f(0x4e3)]['id'],_0x33cf50=_0x4a16b0[_0x1c576f(0x4e3)]['name'];showConfirmation(_0x1c576f(0x644)+_0x33cf50+_0x1c576f(0xa15),()=>handleDeleteProject(_0xa9395c));}}}}}),projectList[_0x1f917e(0x8de)]('dragstart',_0x47d7f0=>{const _0xb8023a=_0x1f917e,_0x166987=_0x47d7f0[_0xb8023a(0x97d)]['closest'](_0xb8023a(0x71f));_0x166987&&_0x166987[_0xb8023a(0x517)][_0xb8023a(0x546)]('opacity-50');}),projectList[_0x1f917e(0x8de)](_0x1f917e(0x60b),_0x110bcf=>{const _0xfbcff6=_0x1f917e,_0x100ec8=_0x110bcf[_0xfbcff6(0x97d)][_0xfbcff6(0x634)](_0xfbcff6(0x71f));_0x100ec8&&_0x100ec8[_0xfbcff6(0x517)][_0xfbcff6(0x1b5)](_0xfbcff6(0x1b3));}),projectList['addEventListener'](_0x1f917e(0xbf5),_0xff95b9=>{const _0xc06252=_0x1f917e;_0xff95b9['preventDefault']();const _0x468a97=document[_0xc06252(0x22d)](_0xc06252(0x8a5));if(!_0x468a97)return;const _0x427436=getDragAfterElement(projectList,_0xff95b9['clientY']);_0x427436==null?projectList[_0xc06252(0x289)](_0x468a97):projectList[_0xc06252(0x98d)](_0x468a97,_0x427436);}),projectList['addEventListener'](_0x1f917e(0xc90),_0x1f1f2d=>{const _0x3036d2=_0x1f917e;_0x1f1f2d[_0x3036d2(0x9f2)]();const _0x2cd8ac=[...projectList[_0x3036d2(0x362)](_0x3036d2(0x248))][_0x3036d2(0x618)](_0x3d0d2f=>_0x3d0d2f[_0x3036d2(0x4e3)]['id']);saveProjectOrder(_0x2cd8ac);});function renderBehaviorLog(_0x3b3241){const _0x2ab872=_0x1f917e,_0x4bba82=document[_0x2ab872(0x2bc)]('behavior-log-container');if(!_0x4bba82)return;const _0x5c5193=_0x3b3241[_0x2ab872(0xa7a)](_0x348ddc=>_0x348ddc[_0x2ab872(0x594)]&&_0x348ddc['behaviorLog']['length']>0x0);if(_0x5c5193[_0x2ab872(0xab1)]===0x0){_0x4bba82[_0x2ab872(0xcd8)]=_0x2ab872(0x1cb);return;}let _0x52d5c9='';_0x5c5193[_0x2ab872(0x229)](_0x1b4728=>{const _0x374c0f=_0x2ab872;_0x52d5c9+=_0x374c0f(0x385)+_0x1b4728[_0x374c0f(0xbcf)]+_0x374c0f(0x413),_0x1b4728[_0x374c0f(0x594)][_0x374c0f(0x817)]((_0x3d94f7,_0x39953e)=>new Date(_0x39953e[_0x374c0f(0x7b4)])-new Date(_0x3d94f7[_0x374c0f(0x7b4)]))[_0x374c0f(0x229)](_0x328eaf=>{const _0x1d22fe=_0x374c0f,_0x2bf614=new Date(_0x328eaf['timestamp'])[_0x1d22fe(0x698)](_0x1d22fe(0x2bf),{'dateStyle':_0x1d22fe(0x632),'timeStyle':_0x1d22fe(0x94c)});_0x52d5c9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x328eaf[_0x1d22fe(0x851)]+_0x1d22fe(0x39e)+_0x2bf614+_0x1d22fe(0x3c1);}),_0x52d5c9+=_0x374c0f(0x251);}),_0x4bba82['innerHTML']=_0x52d5c9;}function getDragAfterElement(_0x47e460,_0x430527){const _0x4bc5e3=_0x1f917e,_0x9f243d=[..._0x47e460[_0x4bc5e3(0x362)](_0x4bc5e3(0x86c))];return _0x9f243d[_0x4bc5e3(0x5e7)]((_0x12301d,_0xa57939)=>{const _0x614f58=_0x4bc5e3,_0x2b063b=_0xa57939[_0x614f58(0x263)](),_0x3cb5a5=_0x430527-_0x2b063b[_0x614f58(0x151)]-_0x2b063b['height']/0x2;return _0x3cb5a5<0x0&&_0x3cb5a5>_0x12301d[_0x614f58(0xd0d)]?{'offset':_0x3cb5a5,'element':_0xa57939}:_0x12301d;},{'offset':Number[_0x4bc5e3(0x92a)]})[_0x4bc5e3(0x93d)];}async function saveProjectOrder(_0xa1daba){const _0x179200=_0x1f917e,_0x4daa9a=doc(db,'globalSettings',_0x179200(0x6b4));try{await setDoc(_0x4daa9a,{'projectOrder':_0xa1daba},{'merge':!![]});}catch(_0x51e183){console[_0x179200(0x512)]('Error\x20saving\x20project\x20order:',_0x51e183),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x15e7dc,_0x56afaa={}){const _0x6f1330=_0x1f917e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x19f84d=doc(db,_0x6f1330(0x366)+appId+_0x6f1330(0x9ef)+currentQuizData['id']+_0x6f1330(0x9a3),currentStudentName),_0x52838e={'event':_0x15e7dc,'timestamp':new Date()['toISOString'](),..._0x56afaa};try{await updateDoc(_0x19f84d,{'behaviorLog':arrayUnion(_0x52838e)}),console[_0x6f1330(0x16e)](_0x6f1330(0x181)+currentStudentName+_0x6f1330(0xc31));}catch(_0x2457bb){_0x2457bb['code']===_0x6f1330(0x374)?console[_0x6f1330(0x452)](_0x6f1330(0xd03)+currentStudentName+_0x6f1330(0x837)):console[_0x6f1330(0x512)](_0x6f1330(0x5fb),_0x2457bb);}}function calculateMeanAndStdDev(_0x490f87){const _0xeae44b=_0x1f917e;if(_0x490f87[_0xeae44b(0xab1)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x51f100=_0x490f87[_0xeae44b(0x5e7)]((_0x2d87a1,_0x470a24)=>_0x2d87a1+_0x470a24,0x0)/_0x490f87[_0xeae44b(0xab1)];if(_0x490f87['length']===0x1)return{'mean':_0x51f100,'stdDev':0x0};const _0x4cba26=Math[_0xeae44b(0x3dd)](_0x490f87[_0xeae44b(0x618)](_0x330108=>Math[_0xeae44b(0xa98)](_0x330108-_0x51f100,0x2))['reduce']((_0x23eebf,_0x484d79)=>_0x23eebf+_0x484d79,0x0)/(_0x490f87[_0xeae44b(0xab1)]-0x1));return{'mean':_0x51f100,'stdDev':_0x4cba26};}function calculateZScore(_0x1417c6,_0x37ea25,_0x15ba1c){if(_0x15ba1c===0x0)return 0x0;return(_0x1417c6-_0x37ea25)/_0x15ba1c;}function calculateTScore(_0x2ae4ca){return 0xa*_0x2ae4ca+0x32;}function showStarredProjectView(){const _0x4e1f94=_0x1f917e;currentProjectId=_0x4e1f94(0x559),currentProjectData=null,projectTitle[_0x4e1f94(0x806)]=_0x4e1f94(0x242),projectIdDisplay[_0x4e1f94(0x806)]=_0x4e1f94(0xbf8),showView(_0x4e1f94(0x682)),manageTab[_0x4e1f94(0x517)][_0x4e1f94(0x546)]('hidden'),leaderboardTab['classList'][_0x4e1f94(0x546)](_0x4e1f94(0x44c)),switchProjectTab(_0x4e1f94(0x59b)),renderQuizzes();}async function loadProjectDetails(_0x19cbca){const _0x1201af=_0x1f917e,_0xaf313=doc(db,_0x1201af(0x366)+appId+_0x1201af(0x7ad),_0x19cbca),_0x32ae5b=await getDoc(_0xaf313);if(_0x32ae5b[_0x1201af(0x485)]()){manageTab[_0x1201af(0x517)]['remove'](_0x1201af(0x44c)),leaderboardTab['classList'][_0x1201af(0x1b5)](_0x1201af(0x44c)),currentProjectData=_0x32ae5b[_0x1201af(0x923)](),projectTitle[_0x1201af(0x806)]=currentProjectData[_0x1201af(0x30b)],projectIdDisplay[_0x1201af(0x806)]=_0x19cbca;const _0x13446e=currentProjectData[_0x1201af(0x327)]||{};document[_0x1201af(0x2bc)](_0x1201af(0xca4))['value']=_0x13446e[_0x1201af(0x942)]||_0x1201af(0x1d8);const _0x393b6b=document['getElementById'](_0x1201af(0x625));_0x393b6b[_0x1201af(0x6b7)]=_0x13446e[_0x1201af(0x991)]!==![];const _0x29ac8d=document['getElementById'](_0x1201af(0xd1c)),_0x33ee20=document['getElementById'](_0x1201af(0x858)),_0x1752e7=document[_0x1201af(0x2bc)](_0x1201af(0x7f3)),_0x432bca=_0x13446e['isPasscodeEnabled']||![];_0x29ac8d[_0x1201af(0x6b7)]=_0x432bca,_0x1752e7[_0x1201af(0xa21)]=_0x13446e[_0x1201af(0x14e)]||'',_0x33ee20['classList'][_0x1201af(0xb29)](_0x1201af(0x44c),!_0x432bca),_0x29ac8d[_0x1201af(0x185)]=()=>{const _0x3c0fd8=_0x1201af;_0x33ee20[_0x3c0fd8(0x517)][_0x3c0fd8(0xb29)](_0x3c0fd8(0x44c),!_0x29ac8d[_0x3c0fd8(0x6b7)]);},document[_0x1201af(0x2bc)](_0x1201af(0x441))[_0x1201af(0x6b7)]=_0x13446e[_0x1201af(0x563)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x19cbca),listenForProjectQuizzes(_0x19cbca),listenForStudentProfiles(_0x19cbca);}else showMessage(_0x1201af(0xbdb)),showView(_0x1201af(0x4f5));}async function handleResetProjectOrder(){const _0x56d0cc=_0x1f917e,_0x486015=doc(db,'globalSettings',_0x56d0cc(0x6b4));try{await setDoc(_0x486015,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x56d0cc(0x174));}catch(_0x1a6562){console[_0x56d0cc(0x512)](_0x56d0cc(0xaf7),_0x1a6562),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x3506d4){const _0x2aebcc=_0x1f917e;if(!_0x3506d4)return;const _0x180367=doc(db,_0x2aebcc(0x366)+appId+_0x2aebcc(0x7ad),_0x3506d4);try{const _0x554a50=await getDoc(_0x180367);if(_0x554a50[_0x2aebcc(0x485)]()){const _0x26cc07=_0x554a50[_0x2aebcc(0x923)]()['isPinned']||![];await updateDoc(_0x180367,{'isPinned':!_0x26cc07});}}catch(_0x4f60a3){console[_0x2aebcc(0x512)](_0x2aebcc(0x4db),_0x4f60a3),showMessage(_0x2aebcc(0x36f));}}async function handleDeleteProject(_0x48fce8){const _0x52f628=_0x1f917e;try{const _0xff855b=writeBatch(db),_0x594f5d=collection(db,_0x52f628(0x366)+appId+_0x52f628(0xcbc)),_0x4aae2f=query(_0x594f5d,where(_0x52f628(0x7f9),'==',_0x48fce8)),_0x463bd1=await getDocs(_0x4aae2f);for(const _0x52c4cc of _0x463bd1[_0x52f628(0xac3)]){const _0x4b855d=collection(db,_0x52f628(0x366)+appId+_0x52f628(0x9ef)+_0x52c4cc['id']+_0x52f628(0x9a3)),_0x305c4f=await getDocs(_0x4b855d);_0x305c4f['forEach'](_0x26275a=>{const _0x38f807=_0x52f628;_0xff855b['delete'](_0x26275a[_0x38f807(0x9fd)]);}),_0xff855b[_0x52f628(0x730)](_0x52c4cc[_0x52f628(0x9fd)]);}const _0x4e5bbe=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x48fce8+_0x52f628(0x677)),_0x342efb=await getDocs(_0x4e5bbe);_0x342efb[_0x52f628(0x229)](_0x13fdc8=>{const _0xa64cc9=_0x52f628;_0xff855b['delete'](_0x13fdc8[_0xa64cc9(0x9fd)]);});const _0x3f9ee1=doc(db,_0x52f628(0x366)+appId+_0x52f628(0x7ad),_0x48fce8);_0xff855b['delete'](_0x3f9ee1),await _0xff855b[_0x52f628(0xa07)](),showMessage(_0x52f628(0x5a6)),showView(_0x52f628(0x4f5));}catch(_0xb90d){console['error'](_0x52f628(0xcfc),_0xb90d),showMessage(_0x52f628(0xcae));}}document[_0x1f917e(0x2bc)](_0x1f917e(0x9f5))['addEventListener'](_0x1f917e(0xc20),async()=>{const _0x35ccec=_0x1f917e;if(!currentProjectId)return;const _0x56f875={'defaultNumQuestions':parseInt(document[_0x35ccec(0x2bc)]('num-questions')[_0x35ccec(0xa21)]),'defaultNumChoices':parseInt(document['getElementById'](_0x35ccec(0xbbb))['value']),'defaultPassingScore':parseInt(document[_0x35ccec(0x2bc)](_0x35ccec(0xd2c))[_0x35ccec(0xa21)]),'resultsDisplay':document['getElementById'](_0x35ccec(0x61c))[_0x35ccec(0xa21)],'shuffleSetting':document[_0x35ccec(0x2bc)](_0x35ccec(0xca4))[_0x35ccec(0xa21)],'timerMode':document['getElementById'](_0x35ccec(0x346))[_0x35ccec(0xa21)],'timerDuration':parseInt(document[_0x35ccec(0x2bc)](_0x35ccec(0xc9f))[_0x35ccec(0xa21)]),'isConfidenceScoringEnabled':document[_0x35ccec(0x2bc)](_0x35ccec(0x441))[_0x35ccec(0x6b7)],'confidenceMode':document[_0x35ccec(0x2bc)](_0x35ccec(0x469))[_0x35ccec(0xa21)]};try{const _0x324ba1=doc(db,_0x35ccec(0x366)+appId+_0x35ccec(0x7ad),currentProjectId);await updateDoc(_0x324ba1,{'settings':_0x56f875}),showMessage(_0x35ccec(0x139));}catch(_0x33493f){console['error'](_0x35ccec(0x84f),_0x33493f),showMessage(_0x35ccec(0xa72));}});function listenForStudents(_0x51b1ce){const _0x135e34=_0x1f917e,_0x43bf92=doc(db,_0x135e34(0x366)+appId+'/public/data/projects',_0x51b1ce);unsubscribeStudentsListener=onSnapshot(_0x43bf92,_0x1a9886=>{const _0x43d437=_0x135e34;if(_0x1a9886[_0x43d437(0x485)]()){const _0x16730d=_0x1a9886[_0x43d437(0x923)]();currentProjectData=_0x16730d,renderStudentList(_0x16730d['students']||[]);}});}function renderStudentList(_0x52844a){const _0x1d6de7=_0x1f917e,_0xb735bb=document['getElementById'](_0x1d6de7(0x940));_0x52844a[_0x1d6de7(0xab1)]===0x0?(studentList[_0x1d6de7(0xcd8)]=_0x1d6de7(0x989),_0xb735bb[_0x1d6de7(0x517)]['add'](_0x1d6de7(0x44c))):(studentList[_0x1d6de7(0xcd8)]=_0x52844a[_0x1d6de7(0x618)](_0x49bf44=>_0x1d6de7(0xb85)+_0x49bf44+_0x1d6de7(0xc1e)+_0x49bf44+_0x1d6de7(0xc52))[_0x1d6de7(0xd29)](''),_0xb735bb[_0x1d6de7(0x517)]['remove']('hidden'));}document[_0x1f917e(0x2bc)](_0x1f917e(0x693))[_0x1f917e(0x8de)](_0x1f917e(0xc20),async()=>{const _0xdc434=_0x1f917e;if(!currentProjectId)return;const _0xee8f15=document[_0xdc434(0x2bc)]('student-name-input'),_0x36531d=_0xee8f15[_0xdc434(0xa21)][_0xdc434(0x1df)]();if(!_0x36531d){showMessage(_0xdc434(0x97b));return;}const _0x3551e9=_0x36531d[_0xdc434(0x9b1)]('\x0a')['map'](_0x3f4879=>_0x3f4879[_0xdc434(0x1df)]())['filter'](_0x43c91d=>_0x43c91d);if(_0x3551e9[_0xdc434(0xab1)]===0x0)return;try{const _0x494d8d=doc(db,_0xdc434(0x366)+appId+'/public/data/projects',currentProjectId),_0x3a42f7=await getDoc(_0x494d8d);if(_0x3a42f7[_0xdc434(0x485)]()){const _0xc66f4d=_0x3a42f7[_0xdc434(0x923)]()[_0xdc434(0x456)]||[],_0x3bd5bc=[...new Set([..._0xc66f4d,..._0x3551e9])];await updateDoc(_0x494d8d,{'students':_0x3bd5bc}),_0xee8f15[_0xdc434(0xa21)]='';}}catch(_0x1ee312){console[_0xdc434(0x512)]('Error\x20adding\x20students:',_0x1ee312),showMessage(_0xdc434(0x96c));}});async function handleManualQuizPairing(_0x11f0ab){const _0x3bd4bf=_0x1f917e,_0x337741=document['getElementById'](_0x3bd4bf(0x436)),_0x44f9b6=document['getElementById']('move-quiz-project-select'),_0x267538=_0x337741[_0x3bd4bf(0x22d)]('h3'),_0x5b24bd=document[_0x3bd4bf(0x2bc)]('confirm-move-quiz-btn'),_0x1a6012=document[_0x3bd4bf(0x2bc)](_0x3bd4bf(0x1c1));_0x267538[_0x3bd4bf(0x806)]=_0x3bd4bf(0xb6d),_0x44f9b6['innerHTML']=_0x3bd4bf(0x507),_0x5b24bd['textContent']=_0x3bd4bf(0xd2b),_0x337741[_0x3bd4bf(0x517)]['remove'](_0x3bd4bf(0x44c));const _0x5266fd=allQuizzes[_0x3bd4bf(0xa7a)](_0x1faad9=>_0x1faad9['id']!==_0x11f0ab);_0x5266fd[_0x3bd4bf(0xab1)]===0x0?(_0x44f9b6[_0x3bd4bf(0xcd8)]=_0x3bd4bf(0x953),_0x5b24bd[_0x3bd4bf(0x8ab)]=!![]):(_0x44f9b6[_0x3bd4bf(0xcd8)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x5266fd[_0x3bd4bf(0x618)](_0x29c60d=>_0x3bd4bf(0x9dd)+_0x29c60d['id']+'\x22>'+_0x29c60d['topic']+_0x3bd4bf(0xba6))['join'](''),_0x5b24bd[_0x3bd4bf(0x8ab)]=![]);const _0x1ac3a7=async()=>{const _0x591398=_0x3bd4bf,_0x100e31=_0x44f9b6[_0x591398(0xa21)];if(!_0x100e31){showMessage(_0x591398(0x68f));return;}_0x5b24bd['disabled']=!![],_0x5b24bd[_0x591398(0x806)]='กำลังจับคู่...';try{const _0x15551a=doc(db,_0x591398(0x366)+appId+_0x591398(0xcbc),_0x11f0ab),_0x34f805=doc(db,'artifacts/'+appId+_0x591398(0xcbc),_0x100e31),_0x1ff025=writeBatch(db);_0x1ff025[_0x591398(0x72f)](_0x15551a,{'pairedQuizId':_0x100e31}),_0x1ff025[_0x591398(0x72f)](_0x34f805,{'pairedQuizId':_0x11f0ab}),await _0x1ff025[_0x591398(0xa07)](),showMessage(_0x591398(0xbdf)),_0x337741[_0x591398(0x517)]['add'](_0x591398(0x44c));}catch(_0x612ec9){console[_0x591398(0x512)](_0x591398(0x2cb),_0x612ec9),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x267538[_0x591398(0x806)]=_0x591398(0x6e0),_0x5b24bd[_0x591398(0x806)]=_0x591398(0x205),_0x5b24bd[_0x591398(0x8ab)]=![],_0x5b24bd[_0x591398(0xcab)]('click',_0x1ac3a7),_0x1a6012['removeEventListener']('click',_0x3980fb);}},_0x3980fb=()=>{const _0x36dded=_0x3bd4bf;_0x337741['classList'][_0x36dded(0x546)](_0x36dded(0x44c)),_0x267538[_0x36dded(0x806)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5b24bd[_0x36dded(0x806)]=_0x36dded(0x205),_0x5b24bd[_0x36dded(0xcab)]('click',_0x1ac3a7),_0x1a6012[_0x36dded(0xcab)]('click',_0x3980fb);};_0x5b24bd[_0x3bd4bf(0x8de)](_0x3bd4bf(0xc20),_0x1ac3a7),_0x1a6012[_0x3bd4bf(0x8de)](_0x3bd4bf(0xc20),_0x3980fb);}function handleDeleteStudent(_0xea485c){const _0x3ba201=_0x1f917e;showConfirmation(_0x3ba201(0x9e8)+_0xea485c+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x4b07d9=_0x3ba201;if(!currentProjectId||!currentProjectData)return;const _0x403b3d=currentProjectData[_0x4b07d9(0x456)][_0x4b07d9(0xa7a)](_0x51a8d3=>_0x51a8d3!==_0xea485c);try{const _0x10bfac=doc(db,_0x4b07d9(0x366)+appId+'/public/data/projects',currentProjectId),_0x24f34c=doc(db,'artifacts/'+appId+_0x4b07d9(0x84e)+currentProjectId+'/studentProfiles',_0xea485c),_0x28cb5f=writeBatch(db);_0x28cb5f['update'](_0x10bfac,{'students':_0x403b3d}),_0x28cb5f[_0x4b07d9(0x730)](_0x24f34c),await _0x28cb5f['commit']();}catch(_0x3c70b6){console[_0x4b07d9(0x512)]('Error\x20deleting\x20student:',_0x3c70b6),showMessage(_0x4b07d9(0x1fb));}});}function handleDeleteAllStudents(){const _0xe48680=_0x1f917e;showConfirmation(_0xe48680(0x7b9),async()=>{const _0x529636=_0xe48680;if(!currentProjectId)return;try{const _0x7b01e=doc(db,_0x529636(0x366)+appId+'/public/data/projects',currentProjectId),_0x21d8f6=collection(db,_0x529636(0x366)+appId+_0x529636(0x84e)+currentProjectId+_0x529636(0x677)),_0xdc85dd=await getDocs(_0x21d8f6),_0x461371=writeBatch(db);_0x461371['update'](_0x7b01e,{'students':[]}),_0xdc85dd[_0x529636(0x229)](_0x515e58=>_0x461371['delete'](_0x515e58[_0x529636(0x9fd)])),await _0x461371[_0x529636(0xa07)]();}catch(_0x420e76){console['error'](_0x529636(0xd25),_0x420e76),showMessage(_0x529636(0x8e6));}});}function _0x242f(){const _0x39474f=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','results-table','ไม่พบข้อมูลผู้ใช้','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','<textarea\x20name=\x22question','show_results_and_answers','font-bold\x20text-red-700\x20line-through','pre-test','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(59,\x20130,\x20246,\x200.7)','strength-weakness-analysis-container','handleGenerateAndShowLesson','กรุณาตั้งชื่อแท็บใหม่:','ตรวจพบการออกจากหน้าจอครบ\x20','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','delete-svg-btn','.lastAnswerIndex','show-leaderboard-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','keyConcepts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','prod','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game-view','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตัวเลือก\x20ง','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','select-all-topics-btn','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','projectSortOrder','สำหรับโปรเจค:\x20','after','ข้อที่\x20','text-blue-700\x20bg-blue-100','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','min','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','reset-project-order-btn','.delete-hidden-shortcut-btn','latestSubmittedAt','admin-password-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-settings-modal','.use-hidden-parallel-shortcut-btn','global-quiz-search-input','fadeStartTime','กัปตัน','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','bulk-quiz-settings-modal','tabId','ลบผลสอบของ\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','analytics','border-red-700','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','applicationContent','manual-bp-grade-level','2YbUXwh','เรขาคณิตวิเคราะห์','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','อัปเดตแบบทดสอบเก่า\x20','content','text-indigo-600','getPage','per-q-countdown','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','preTestId','การลบเศษส่วน','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','selectedTopicNames','/public/data/customMathTopics','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','AI\x20grading\x20failed:','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','bank-quiz-list','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','.kick-player-btn-sync','scale','getAttributeNS','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','manage-tab-content','isLooping','ผ่านฉลุย','Error\x20during\x20class\x20analysis:','drop','comparison','แก้ระบบสมการด้วยเมทริกซ์','eraser-tools-group','blueprint-project-list','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','.edit-shortcut-btn','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','ถูก','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','confirm-admin-login-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สลับไปโหมดนักเรียน','reveal-names-btn','timer-duration-input','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F59E0B','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','Error\x20in\x20generating\x20from\x20files:','shuffle-setting-select','lesson-loader','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','random','authed_project_','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','student-team-selection-view','removeEventListener','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','perfect_score_status','เกิดข้อผิดพลาดในการลบโปรเจค','parallel-shortcut-tabs-nav','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topic-search-input','กำลังเตรียมไฟล์...','.linkedQuizId','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','ดาวTikTok','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','classic','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','):\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','/public/data/quizzes','quiz-id-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</p><p><strong>เฉลย:</strong>\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','screen_exit','ร้อยละพื้นฐาน','-options','analytics-tab-content','scrollX','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','not_generated','q-explanation-','close-lesson-view-btn','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','leaderboard_','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tool','next-question-timed-btn','button[type=\x22submit\x22]','duration-300','innerHTML','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','export-worksheet-pdf-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','ครัวซองต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','newOptionsPayload','getItem','cancel-passcode-btn','text/csv;charset=utf-8;','div[data-question-index=\x22','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ค่าสัมบูรณ์','leaderboard-quiz-tab-content','student-reading-area','#FCE7F3','hint-btn','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','Error\x20generating\x20worksheet:','บทเรียนเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','<div\x20class=\x22mb-3\x20topic-category\x22>','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getTextContent','Error\x20updating\x20sort\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','หนอนหนังสือ','เลือกและเริ่มสร้าง','-tab-content','.delete-project-btn','Error\x20deleting\x20project:','กำลังสร้างรูปภาพ...','export-pdf-modal','highlighter-tool-btn','stroke','.parallel-shortcut-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ไม่พบเอกสารการส่งงานของ\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','modal-close-btn','source-over','file-shortcut-editor-modal','touchcancel','correct','ดอทโปรดักต์\x20(dot)','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','generated','offset','กราฟแท่ง\x20กราฟเส้น','mousedown','presentation-slide-container','teacherTips','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','get','/questionBank','BOOLEAN','ธอร์ค้อนบิน','admin-testing','text-red-600','กลุ่ม:\x20','[data-field=\x22subTopic\x22]','test','enable-passcode-checkbox','student-result-area','solution','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','text/plain','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มบวก','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','Error\x20deleting\x20all\x20students:','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','project-detail-view','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ยืนยันการจับคู่','passing-score-input','question-complexity-select','save-parallel-shortcut-btn','ไม่สามารถโหลดรายการโปรเจคได้','\x20คะแนน</span></div>','\x22\x20name=\x22team_answer\x22\x20value=\x22','คำถามถัดไป','exitFullscreen','บันทึกการตั้งค่าแล้ว','removeChild','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.csv','quizType','MathJax','shadowBlur','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','---\x20[คำถามใหม่]\x20---','checkAnswer','bg-green-500\x20hover:bg-green-600\x20text-white','bg-green-400\x20text-white\x20font-bold','Error\x20deleting\x20shortcut:','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','project-list','center','ห.ร.ม.\x20(GCD)','save-bp-reference-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','passcode','.group\x5c/dropdown','ยอดเยี่ยม!','top','pdf','open-scratchpad-btn','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สอบซ่อม','isDefault','default','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ไม่พบข้อมูลการจับคู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','%</span>','Error\x20processing\x20file\x20shortcut\x20click:','file-default-1','sync-player-list','passcode-prompt-message','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','memoryContent','team-quiz-topic','.question-editor-item:last-of-type','open-quiz-bank-btn','</td></tr>','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','correctAnswerIndex','Error\x20loading\x20user\x20preferences:','NUMBER','log','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-search-input','Unexpected\x20API\x20response\x20structure:','smooth','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รีเซ็ตลำดับโปรเจคแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','close-additional-file-shortcuts-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-form','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','wasConfident','shortcut-reference-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','resultsDisplay','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','.move-shortcut-item','onchange','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','พบ\x20Team\x20Quiz!','(เลือกแล้ว\x20','not_confident','กำลังเตรียมไฟล์อ้างอิง...','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','change','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','Error\x20editing\x20topic:','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','activeGameSession','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','ตัวเลือก\x20ก','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','parse','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','ตัวเลือก\x20ข','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','btn','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','live-player-management','รูปสแควร์รูท\x20(surd)','Original\x20quiz\x20not\x20found','offsetWidth','list','AI\x20แก้ไขคำถามสำเร็จ!','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','drill-feedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','starred-project','goto-next-question-btn','ฟังก์ชันกำลังสองและกราฟ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20from\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','#student-project-leaderboard-content\x20thead','ตั้งเวลา\x20(เปิด)','opacity-50','password-error-msg','remove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','5935990vSJxUL','#26890c','stdDev','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','สมการตรีโกณมิติ','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-team-players-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','cancel-move-quiz-btn','modal-timer-mode-select','quizId','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','Error\x20renaming\x20quiz:','<div\x20class=\x22flex-1\x22></div>','Error\x20starting\x20team\x20quiz:','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','GlobalWorkerOptions','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ตรวจทานเฉลยเสร็จสิ้น!','request','keyup','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutOrder','fullscreenchange','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fill','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','parentElement','คณิตการเงิน/บูรณาการ','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','start-presentation-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พบข้อสอบ\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','trim','คณิตศาสตร์','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','สำหรับหัวข้อ\x20\x27','scratchpad-close-btn','</form>','เทพทรู','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20ข้อ\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','answer-grid-container','difficulty-level-select','subTopic','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ai-content\x20p','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','admin-password-input','ทฤษฎีบทพื้นฐานของแคลคูลัส','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','team-student-list','bulk-confidence-mode-select','Sync\x20Mode','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20group\x20answer:','เกิดข้อผิดพลาดในการลบนักเรียน','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-submission-btn','export-tutor-pdf-btn','number','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','/public/data/blueprintProjects','ย้าย','</h4>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x22.\x20Ideal\x20Answer:\x20\x22','highlighter-tools-group','ตอบถูกทุกข้อในแบบทดสอบนี้','modal-passing-score-input','ไม่ผ่าน','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','max','confirm-passcode-btn','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','isFinished','.compare-results-btn','globalSettings','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','next-sync-question-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x5cneq','some','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','สมการเชิงเส้นตัวแปรเดียว','frac','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<option>กำลังโหลดโปรเจค...</option>','PERSEVERANCE','หัวข้อหลักใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','applicationHTML','standard','</div></div>','รากที่สองและที่สาม','forEach','badges','lesson-plan-content','ไอติมทอด','querySelector','num-questions','.isScored','rgba(16,\x20185,\x20129,\x200.7)','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','projectView','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','.confidence-choice-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','difficultyValue','เกมสิ้นสุดลงแล้ว','separate-by-content-checkbox','.lastAnswerCorrect','จำนวนคู่:','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','startedAt','add-parallel-shortcut-btn','.delete-custom-topic-btn','แบบทดสอบที่ติดดาว','.ai-content\x20li','student-quiz-leaderboard-content','points','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','hover:bg-indigo-100','.project-card-container[data-id]','setAttribute','toString','total','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','responseSchema','global-activity-modal','Error\x20saving\x20parallel\x20shortcut:','_opt1\x22\x20name=\x22question','answerValue','สร้างคำถามแบบเติมคำในช่องว่าง','.regenerate-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','screen','.group\x5c/dropdown-parallel','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','resize','getBoundingClientRect','<span\x20class=\x22font-bold\x20','cancel-parallel-shortcut-edit-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-bp-settings-btn','blueprint-options-container','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','.ai-fix-question-btn','label[for=\x22num-questions\x22]','.shortcut-tab-btn','\x20รายการสำเร็จ!','bp-topic-list-container','block','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','บักแตงโม','AI\x20Fix\x20Error:','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','focus','Error\x20opening\x20quiz\x20editor:','.presentation-option','\x22\x20data-topic=\x22','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20','file.pdf','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','กำลังสร้างคำถามข้อ\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','toLowerCase','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','scores','quiz-results-table-body',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','appendChild','lesson-view-modal','members','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','close-additional-parallel-shortcuts-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20','save-quiz-edits-btn','link-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','generate-from-link-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','mouse','opacity','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','suggestedAnswer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','student-join-game-view','Error\x20unlinking\x20quiz:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','isCorrect','parallel-test-upload-input','export-compact-pdf-btn','bg-gray-500','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ondragstart','_opt0\x22>ใช่</label></div>','.ai-content\x20td','_new','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','line-through\x20text-red-700','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','promise','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','cloneNode','teachingContent','เกิดข้อผิดพลาดในการติดดาว','latestScore','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','gamePin','sync-variant-selector','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','px,\x20','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','.open-bp-project-btn','toLocaleDateString','getElementById','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','th-TH','<p\x20class=\x22text-2xl\x22>','มูเตลู','ai-quiz-app-aefee.firebasestorage.app','Authentication\x20failed:','lessonPlan','กรุณาสร้างบทเรียนก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','Error\x20joining\x20activity:','bg-red-500','Error\x20pairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-team-join','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','พิมพ์ตอบ','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.edit-file-shortcut-btn','pairedQuizId','จำนวนนักเรียน','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gain','Loaded\x20','file-input-area','สอบปกติ','ปรับเพิ่ม/ลดเป็นร้อยละ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','กระต่ายตื่นตูม','เกิดข้อผิดพลาดในการนำผู้เล่นออก','function','<i\x20class=\x22fas\x20fa-pen\x22></i>','.generate-content-btn','\x22\x20สำเร็จ!','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','submittedAt','Error\x20saving\x20manual\x20blueprint\x20project:','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','</strong></p>','results-quiz-id-display','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<tr><td\x20colspan=\x22','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','วงกลม:\x20คอร์ดและเส้นสัมผัส','Error\x20submitting\x20team\x20answer:','\x22\x20สำเร็จ','/public/data/teamQuizzes','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','submit','\x5ccdot','add-shortcut-tab-btn','.scratchpad-content-wrapper','/public/data/practiceBank','.doc','cancel-quiz-edits-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','sync-short-answer-input','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','half_mark_status','input[type=\x22checkbox\x22]','tGain','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','อัตราและอัตราหน่วย','numQuestions','bank-tab','#open-additional-parallel-shortcuts-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','projectName','default-','คำถามดิบ:\x20\x22','ไม่พบข้อมูลโปรเจค','<i\x20class=\x22fas\x20fa-save\x22></i>','results-tab','แผนการสอน','geq','answerText','preScore','teacherSuggestions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การสร้างรูปด้วยวงเวียน–สันตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','textarea[name=\x22question_single\x22]','Error\x20deleting\x20topic:','Error\x20generating\x20from\x20link:','\x22\x20ออกจากคลังนี้?','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','manage-players-btn','questions','พีชคณิตและฟังก์ชัน','items','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','passcode-error-msg','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','per-question-text','settings','นักวิทยาศาสตร์','นักประดิษฐ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','sync-player-management','blueprint-project-manager-view','ฟังก์ชันค่าสัมบูรณ์','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','q-image-container-','.quiz-bank-try-btn','ลำดับเลขคณิต\x20(AP)','onkeydown','pointContent','ส่วนเบี่ยงเบนเฉลี่ย','เงาปริศนา','bp-modal-question-complexity-select','close-comparison-modal-btn','comparison-overall-content','reference-pdf-upload','border-green-700','ข้อต่อไป','game-start-quiz-id','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','fa-crown\x20text-yellow-500','</span></p>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-analytics-container','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','ผิด','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','หมูกระทะจะเยียวยาทุกสิ่ง','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','modal-confidence-scoring-checkbox','เกิดข้อผิดพลาดในการสร้างใบงาน','text-gray-400\x20hover:text-indigo-600','.file-topic-selection-btn','กำลังกลับเข้าสู่เกม\x20','reveal-answer-btn',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','innerText','คุณแน่ใจว่าต้องการลบแท็บนี้?','choices_only','querySelectorAll','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','live-submit-short-answer-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','student-project-leaderboard-table-body','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','กำลังอ่านไฟล์อ้างอิง...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','shortcut-blueprint-url-input','/public/data/blueprintProjects/','เกิดข้อผิดพลาดในการปักหมุด','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','(ก่อนเรียน)\x20','referenceFileUrl','\x20link(s)\x20for\x20quiz\x20ID:\x20','not-found','image/png','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','back-to-project-btn','```json','toDate','parallelTestShortcutsConfig','ลบหัวข้อสำเร็จ','left','ระยะเวลา\x20(วินาที):','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','actions-container-','รหัสไม่ถูกต้อง','global-quiz-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','text-red-900','original-mode-checkbox','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20user\x20preference:','text-gray-100','เวกเตอร์และเมทริกซ์\x20(เสริม)','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','shouldSaveResults','\x20ข้อ...','select','อนุพันธ์:\x20กฎลูกโซ่','student-quiz-leaderboard-table-body','right','.question-editor-item[data-q-index=\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ai-quiz-app-aefee.firebaseapp.com','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','matching','blob','showImproveButton','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','student-progress-content','Error\x20preparing\x20content\x20quiz:','generate-from-text-btn','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','viewBox','MathJax\x20typeset\x20error\x20(analytics):','baseVal','parseInline','POST','finished','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','#F3E8FF','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','grid','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','project-quizzes-list','setAttributeNS','All\x20groups\x20have\x20finished.\x20Ending\x20game.','อสมการเชิงเส้น','Error\x20updating\x20custom\x20topic:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-container','ทฤษฎีทวินาม\x20(เบื้องต้น)','open','modal-timer-duration-input','.draggable-text','button','removeItem','createElementNS','</tbody></table>','บันทึกคำถามใหม่\x20','โหลดนาน','แก้ไขหัวข้อสำเร็จ','หัวข้อที่สร้างเอง','shortcuts','#DBEAFE','Error\x20displaying\x20blueprint\x20project:','quick_thinker','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','ดาวสภา','(คัดลอก)\x20','add-custom-math-topic-btn','answered','export-lesson-to-pdf-btn','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','first_try_ace','\x20ชุด)','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','ai-quiz-generator-v3','behavior-log-tab-content','generate-from-parallel-test-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','.live-answer-btn,\x20#live-submit-short-answer-btn','highlighter-size-value','date_asc','มังกรกินจุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ส่งแล้ว','สมการค่าสัมบูรณ์','lineJoin','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','แม่น้ำ','project-sort-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','จุด\x20เส้น\x20ระนาบ','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','insertAdjacentHTML',')\x22>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','input[type=\x22checkbox\x22]:checked','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','questionIndex','shortcut-tabs-nav','เส้นจำนวน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','textarea[name=\x22team_answer\x22]','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x22><span>','manual-create-blueprint-btn','mixed','topic-input','undo-btn','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<li\x20class=\x22','CEOพันล้าน','ฟังก์ชันลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','bp-quiz-settings-btn','ondragend','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22loader\x20mx-auto\x22></div>','ลาเต้ไม่หวาน','playerNicknames','</select>','transform','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':</span><span>','contentEditable','scores-tab-content','sync-submit-btn','file-shortcuts-loading-msg','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','application','Invalid\x20response\x20structure\x20from\x20API.','msExitFullscreen','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','fas\x20fa-bookmark','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','includes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','show-results-btn','shadowColor','.bp-try-btn','badgesCount','previousElementSibling','Error\x20clearing\x20all\x20links:','FileReader\x20error:','move-quiz-modal','copy-quiz-id-btn','.delete-parallel-shortcut-tab-btn','.delete-hidden-parallel-shortcut-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','file-shortcut-name-input','scratchpad-controls','additional-shortcuts-modal','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-scoring-checkbox','live-race',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','justification','$$$1$','toDataURL','/public/data/liveGames','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','quadraticCurveTo','COMEBACK_KING','hidden','progress-student-select','questionStatus','mjx-container','\x20\x0a\x20\x20\x20\x20','ไม่พบข้อมูลหัวข้อที่จะบันทึก','warn','application/pdf','lower_group_count','text-emerald-900','students','Enter','.parallel-quiz-btn','sync-matching-select','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','bulk-results-display-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-shortcut-editor-modal','auto-fix-latex-btn','manual-blueprint-modal','dataIndex','สมการราก\x20(radical)','แท็บใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','<div\x20class=\x22my-6\x22>','confidence-mode-select','save-file-shortcut-btn','ค่าคลาดเคลื่อนของการวัด','\x22.\x20','fullscreenElement','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','การลบ','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','confirm-quiz-status-btn','100px','topic_','true_false','deg','มุมและการวัดมุม','quiz-settings-modal','bank-input-area','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','blueprint-input-area','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22\x20value=\x22','shortcut-id-input','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','exists','touchstart','category','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','short_answer','student-name-selection-view','#E5E7EB','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBBox','.bp-create-topic-quiz-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','เน็ตช้า','pin','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[data-topic-container-id]','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','eraser-tool-btn','AI\x20Formula\x20Fix\x20Error:','text-indigo-800','#student-quiz-leaderboard-content\x20thead','bp-modal-num-questions','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','.topic-row','name_desc','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','adaptive-quiz-checkbox','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','/users/','แผนภาพกล่อง\x20(box\x20plot)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','student-quiz-area','helvetica','bg-green-200\x20text-green-900\x20font-bold','per_question','blueprint-topics-list','\x20/\x20','input[name=\x22syncVariant\x22][value=\x22classic\x22]','คัดลอกไม่สำเร็จ','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','quiz-leaderboard-table','.edit-parallel-shortcut-btn','parallel-shortcut-url-input','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอัปเดตแบบทดสอบ\x20','การแปลงรูปอัตลักษณ์','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','result','matching_item','overline','back-to-student-home-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','cancel-quiz-status-btn','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.correct-response-input','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','.shortcut-btn','การยืนยันตัวตนล้มเหลว','bp-modal-shuffle-setting-select','cancel-file-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</div></div></div>','$1\x5c%','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','Error\x20saving\x20lesson\x20to\x20project:','Error\x20toggling\x20pin\x20status:','Error\x20joining\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','webkitExitFullscreen','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','จันทร์เจ้า','scratchpad-modal','stringify','dataset','เหมียวขี้เซา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','text-emerald-800','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','.flex.justify-between.items-center','5376IOLtIl','neq','PERFECT_SCORE','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ยอดนักสืบ','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','generationConfig','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','admin-dashboard','draggable-text','Failed\x20to\x20create/update\x20submission\x20record:','leaderboard-quiz-tab-btn','start-live-race-generated-btn','comparison-modal','ความสัมพันธ์ของมุม','includeImages','setFont','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wheel','ควรปรับปรุง','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาดในการบันทึก','close-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','url','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ไฮเพอร์โบลา','tfrac','confirm-confident','visible','\x20รายการ\x20สำเร็จ!','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','</p><div>','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','Error\x20analyzing\x20file\x20for\x20topics:','shortcutId','คนคุย','classList','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(สำหรับ\x20','.mb-6.p-4','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','input[name=\x22team_player\x22]:checked','projectSort','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1395592lgtXdC','topicName','circle','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20blueprint\x20project:','slice','\x22...','bg-green-500','blueprint-projects-modal','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20</div>','Error\x20generating\x20lesson\x20plan:','additional-file-shortcuts-list','\x22\x20data-q-type=\x22','topic','.topic-name-display','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','<span\x20title=\x22','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','ไม่ใช่','file-shortcut_','อุณหภูมิและการแปลง','คะแนนยังไม่ถึงครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบของกลุ่ม','mousemove','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','createObjectURL','summaryContent','scratchpad-question','lowerGroupNames','MathJax\x20re-render\x20failed:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','add','bp-modal-quiz-type-select','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','show_pass_fail_only','เพิ่มหัวข้อ\x20\x22','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','verify-answers-editor-btn','confirm-move-quiz-btn','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionText','อินเวอร์สของเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','additional-file-shortcuts-modal','ความชันและเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','explanation','Error\x20generating\x20parallel\x20post-test:','starred','ตรีโกณมิติ','.ai-content\x20blockquote','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','text-red-800','Error\x20joining\x20live\x20game:','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','cancel-rename-quiz-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','round','isConfidenceScoringEnabled','คู่จิ้น','stepByStepExamples','.game-start-btn','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','กองดอง','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','กฎของไซน์','referenceUrl','\x20(p=','worksheet-topic-input','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','back-to-student-initial-btn','นักกีฬา','\x22>ไม่ใช่</p>','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-explanation','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','tab_','ผ่าน','show-final-results-btn','onblur','gameVariant','cancel-quiz-settings-btn','.verification-result','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','move-quiz-project-select','export-excel-btn','การหารเศษส่วน','student-view','touches','applicationData','project-dashboard-view','undefined','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x20</div>\x0a\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การวัด','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','เกมเมอร์','instructions','behaviorLog','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','toISOString','_opt','qType','overallGroups','results','open-global-live-btn','<p\x20class=\x22text-xl\x22>','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','update-old-quizzes-btn','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','ลบโปรเจคสำเร็จแล้ว','quiz-editor-modal','กรุณาเลือกไฟล์ก่อน','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','สเกลและแผนที่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','</span>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','back-to-home-manual-release','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-pin-input','practiceProblems','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','อกหัก','answers','ARRAY','ถูกต้อง!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','mean','blueprint-upload-input','answering','bg-blue-100\x20text-blue-800','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','point','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','.application-options\x20button','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','.edit-quiz-btn','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','parallel-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','title','timer-container','ยังไม่มีนักเรียนส่งงาน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','copy','\x22\x20name=\x22drill_answer\x22\x20value=\x22','G-V90KRM0L63','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','.delete-question-editor-btn','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','admin-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบโปรเจคที่ต้องการลบ','topic-bank-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','cancel-team-selection-btn','comparison-chart','ไฟล์ทั้งหมด','Error\x20updating\x20quiz\x20settings:','reduce','ใช่\x20/\x20ถูก','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','live-game','Failed\x20to\x20generate\x20practice\x20test:','touchmove','temp-loader-text-results','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','#10B981','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','fill_in_with_choices','โจรสลัดอวกาศ','Error\x20saving\x20file\x20shortcut:','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_desc','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','.topic-name-input','quiz-type-select','readAsArrayBuffer','bg-red-50','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','perfect_score','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','numChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','allResponses','#file-shortcut-tabs-nav\x20.tab-name-input','start-quiz-btn','OBJECT','dragend','scores-tab-btn','timerMode','style','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','text/html','</p></div>','สถิติและความน่าจะเป็น','generated-quiz-container','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','map','passingScore','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.sortable-header','results-display-select','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x20ตัวเลือก.\x20','สมการลอการิทึม','next-question-btn','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','show-in-student-dashboard-checkbox','loader-text','Error\x20deleting\x20submission:','playerName','stem','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','postTScore','Error\x20joining\x20sync\x20game:','admin-try-quiz-btn','values','short','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','.move-file-shortcut-menu-btn','แผนภาพเวนน์','splice','กำลังค้นหากิจกรรม...','การคูณเศษส่วน','classStrengths','\x20pointer-events-none\x22>','application/json','พอใช้','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','cancel-shortcut-edit-btn','player-list-lobby','shuffle','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','Group\x20Mode','has','reviewQuestionIndex','310899LWEVJT','SAFETY','.view-bp-lesson-btn','\x22><p\x20class=\x22font-semibold\x22>','<button\x20data-id=\x22','Error\x20toggling\x20star\x20status:','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','.edit-hidden-shortcut-btn','.delete-bp-project-btn','#results-table\x20thead\x20tr','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','startTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Error\x20adding\x20custom\x20topic:','Error\x20fetching\x20project\x20quizzes:','.export-pdf-list-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','overflowY','text-tab','text-purple-600','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','กฎของโคไซน์','file-shortcut-id-input','manual-bp-project-name','ออฟฟิศซินโดรม','body','.start-game-btn','No\x20player\x20data\x20to\x20save.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','file-topics-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','แก้ไขข้อนี้','student-passcode-input','สัญกรณ์วิทยาศาสตร์','currentMode','href','confirm-manual-bp-btn','พบ\x20Sync\x20Game!','ondrop','/studentProfiles','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','imageCode','user-id-display','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','นักเดินทาง','pointerdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','every','\x20กลุ่ม</p></div>','project-detail','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','คะแนนเต็ม','text-gray-300\x20hover:text-white','additional-parallel-shortcuts-list','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ความเป็นอิสระของเหตุการณ์','ไม่มีคำอธิบาย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','asc','parent','file-upload-input','add-student-btn','หมาป่าเดียวดาย','.file-shortcut-btn',',\x20r=','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','toLocaleString','confirm-link-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','project-search-input','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','.regenerate-question-btn','แก้ไขสูตรคณิตศาสตร์\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','group','Error\x20processing\x20shortcut\x20click:','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','cancel-game-start-btn','Error\x20deleting\x20quiz:','math-topics-checkbox-container','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','.delete-parallel-shortcut-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Error\x20unpairing\x20quizzes:','ไอรอนแมน','getDocument','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','project-title','Error\x20updating\x20project\x20color:','dimmed','close-game-final-btn','end-game-btn','dashboardConfig','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','auto','checked','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','(^|[^\x5c\x5c])\x5cb','\x22\x20data-name=\x22','parallel-shortcuts-loading-msg','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x20คู่\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','removeAttribute','bank-quiz-search-input','Error\x20listening\x20for\x20custom\x20math\x20topics:','Error\x20updating\x20project\x20name:','กำลังสร้างแบบทดสอบ\x20\x22','<option\x20value=\x22\x22>กำลังโหลด...</option>','API\x20call\x20failed\x20with\x20status:\x20','\x20จุด','modal-loop-until-pass-checkbox','ทำคะแนนเต็มในการทำครั้งแรก','originalQuestionText','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','lastIndexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20','ระบบสมการเชิงเส้นสองตัวแปร','<br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lesson-sections-container','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','Invalid\x20response\x20structure\x20from\x20AI.','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','แบบทดสอบ:\x20','bulk-quiz-settings-btn','move','confidence_single','isAnonymousRevealed','file-tab','file-topics-list-container','className','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','input[type=\x22text\x22]','comparison-overall-tab','localeCompare','create-project-btn','กำลังสร้างแบบทดสอบ:\x20','open-blueprint-projects-btn','endTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','parallel-test-tab','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','.pair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','%PDF','download','อัศวินรัตติกาล','ฟังก์ชันพหุนาม','fill_in_no_choices','lowerGroupResponders','\x20|\x20ID:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','AI\x20did\x20not\x20return\x20any\x20content.','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-content','source_document.txt','parallel-shortcut_','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','option','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','fixed','text-red-500\x20hover:text-red-700','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','eraser','ทำคะแนนได้เกินครึ่ง','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','manage','pen','สายลับจับบ้านเล็ก','(ก่อนเรียน)','thead\x20.sortable-header','complexityValue','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','.pdf','loader','close-student-rankings-btn','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','เซียนสมองไว','ไม่ได้ตอบ','ฟังก์ชันสัมพัทธ์\x20(rational)','submission-status-chart','สิงโตยิ้ม','parallel-shortcut-container','เศษส่วน\x20(ย่อ/ขยาย)','lesson-plan-modal','.duplicate-quiz-btn','stopPropagation','</span></div>','ช่างภาพ','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','translate','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.move-shortcut-dropdown','Error\x20updating\x20old\x20quizzes:','\x20mb-2\x22>','shortcut_','.auto-resize-textarea','Auto-linking\x20new\x20quiz\x20','\x27\x20ในหัวข้อ\x20\x27','manual-bp-content','update','delete','ชาไข่มุก','คะแนนเฉลี่ย','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','file-shortcut-container','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','devicePixelRatio','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','learningGaps','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','idealAnswer','file-topic-input','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','.ai-content\x20h3','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','key','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transition-all','\x20หัวข้อ)','player-count','Attempting\x20to\x20save\x20game\x20results...','text-green-600','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','เน็ตไอดอล','.status','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','.delete-file-shortcut-btn','isStarred','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','Error\x20during\x20deep\x20delete:','quiz-results','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseFromString','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x20to\x20blueprint\x20topic\x20','save-game-results-checkbox','กรุณาเลือกชื่อของคุณ','temp-loader-results','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','classWeaknesses','groups','สร้างคำถามใหม่\x201\x20ข้อ\x20','student-progress','ทะเล','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','เพนกวินไฟ','rename-quiz-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความคาดหมาย\x20(Expected\x20value)','<p>','live-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','parts','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','2-digit','presentation-ai-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','interesting-stats-wrapper','\x5csqrt{$1}','fromCharCode','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','beforeend','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','3342330Vyplcx','กรุณาพิมพ์คำตอบ','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mainTopics','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','พื้นที่ใต้กราฟ/ระหว่างกราฟ','reference_onet.pdf','นักล่าฝัน','(ฉบับง่าย)\x20','questionType','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','results-table-container','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','pen-tools-group','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','commonMistakes','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','สร้างชุดคำถามจับคู่','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','กฎบวกและกฎคูณ','replace','bg-green-100\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','close','$1\x20\x5cfrac','.delete-shortcut-btn','confirmation-modal','Error\x20saving\x20file\x20shortcut\x20config:','kick-player-btn','scratchpad-clear-btn','.edit-custom-topic-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ศิลปิน','retake-quiz-loop-btn','ปิดใช้งาน','bg-black/10','ยังไม่เต็มนะ','<button\x20data-tab-id=\x22','countdown-display','live-options-container','Error\x20generating\x20hybrid\x20quiz:','.move-parallel-shortcut-dropdown','onclick','contains','bg-red-200\x20text-red-800','/public/data/projects','getContext','export-leaderboard-excel-btn','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เสือซ่อนเล็บ','save-blueprint-as-project-btn','พื้นที่ผิวรูปทรงสามมิติ','timestamp','.move-shortcut-menu-btn','disabled\x20bg-gray-400\x20cursor-not-allowed','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x20|\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','confident','rename-quiz-input','Error\x20generating\x20easy\x20version\x20quiz:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20(ID:\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','bg-yellow-200','เพิ่มปุ่มลัดจากไฟล์ใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','strokeStyle','bg-red-100','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ส่วนเบี่ยงเบนมาตรฐาน','print','summary','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ครูใหญ่','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','confidence-choice-btn','next-drill-btn','bp-project-title','match','modal-shuffle-select','parallel-default-2','lastAnswerCorrect','.question-editor-item','.sort-indicator','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-1','.verification-result-editor','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','confidence','lesson-view-title','wakeLock','newOptions','...\x22)?','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกผลการเล่นเกมของ\x20','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','uid','.answers','สร้างโปรเจคสำเร็จ!','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','7112yqLvQw','blueprint-tab','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','upperGroupResponders','1154284eOFVjk','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','_opt0\x22\x20name=\x22question','presentation-modal','project-passcode-input','editor-quiz-topic','คัดลอกรหัสแล้ว!','การหาร','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','projectId','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','(หลังเรียน)\x20','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','reference.pdf','file-shortcut-url-input','\x5cle','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-size-btn','อัปเดตการตั้งค่าของแบบทดสอบ\x20','close-comparison-modal-footer-btn','textContent','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','มือปราบสายรุ้ง','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','หน่วยความยาวและการแปลง','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','สายลมแห่งโชคชะตา','\x22\x20จำนวน\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','presentation-short-answer-input','close-lesson-plan-modal-footer-btn','cancel-delete-btn','editable-quiz-topic','padStart','sort','leaderboard-tab','input[type=\x22radio\x22][value=\x22','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','players','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','dblclick','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','canvas','class','shortcutOrder','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลแบบทดสอบ','subTopics','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','confirm-create-project-btn','hint','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-700','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','/preferences/main','สร้างแบบทดสอบปรนัย','pinnedProjects','</button>','fileShortcutsConfig','bg-blue-500\x20hover:bg-blue-600\x20text-white','analyze-strengths-btn','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<div\x20class=\x22','fa-dumbbell\x20text-gray-700','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','quiz-generation-area','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันและอัปเดตทั้งหมด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-bulk-quiz-settings-btn','เรขาคณิต','\x22\x20class=\x22color-palette-btn\x20','lineWidth','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','status','createdBy','Error\x20moving\x20quiz:','bg-green-100','questionDisplayedAt','เกิดข้อผิดพลาดในการบันทึกโปรเจค','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','submit-team-answer-btn','/public/data/projects/','Error\x20saving\x20settings:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','transparent','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','floor','การจัดหมู่\x20(Combination)','.txt','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','passcode-input-container','mode-switcher-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20sync\x20game:','prev-question-btn','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','export-leaderboard-word-btn','border-indigo-500\x20text-indigo-600','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','force-math-checkbox','\x27,\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','กำลังสร้างบทเรียน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','redo-btn','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','เพื่อนสนิท','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','.parallel-shortcut-tab-btn','.project-card-container:not(.opacity-50)','.delete-file-shortcut-tab-btn','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','text-yellow-300','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','generate-from-topic-btn','requestFullscreen','.delete-hidden-file-shortcut-btn','contents','Error\x20saving\x20questions\x20to\x20practice\x20bank:','สร้างแบบทดสอบ','bp-modal-difficulty-level-select','รูปแบบการให้เหตุผล','.quiz-result-card','\x20in\x20all\x20blueprint\x20projects.','student-quiz-topic','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','input[name=\x22drill_answer\x22]:checked','isNormalTopic','game-start-mode','.file-shortcut-btn[data-id=\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','scratchpad-header','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','text-blue-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','clientX','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการสร้าง:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','touchend','isAdaptive','Blueprint\x202','s;\x22\x20title=\x22','[data-topic-id=\x22','currentQuestionIndex','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','คัดลอกแบบทดสอบสำเร็จ','sync','Error\x20updating\x20quiz\x20status:','จากเนื้อหาต่อไปนี้:\x20\x22','\x20quizzes\x20into\x20global\x20cache.','เกิดข้อผิดพลาดในการอ่านไฟล์','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.group\x5c/dropdown-file','whole_quiz','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-mode-container','???','.project-card-container.opacity-50','link-tab','json','translate(','ส้มตำปูปลาร้า','ดอกเบี้ยทบต้น','disabled','shortcutTabs','bestScore','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','checkbox','ai-quiz-app-aefee','index','blueprint.pdf','getElementsByTagName','</li>','เกิดข้อผิดพลาดในการอัปเดต:\x20','เกิดข้อผิดพลาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','leaderboard-quiz','.edit-hidden-parallel-shortcut-btn','กรุณาเลือกโปรเจคที่ต้องการบันทึก','scheduled_pending','all','isRemedial','กำลังสร้างเนื้อหา:\x20','release','generated-quiz-actions','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','</tr>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','<button\x20data-shortcut-id=\x22','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','linkedQuizIds','raw','modal-confidence-mode-select','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','project-name-input','.pin-project-btn','กรุณาเลือกสถานะ','สายหมอก','#open-additional-file-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','export-leaderboard-image-btn','-\x20ข้อ\x20','groups.','ทศนิยม\x20(ค่าประจำหลัก)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','เปลี่ยนชื่อแบบทดสอบสำเร็จ','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','addEventListener','แคลคูลัสเบื้องต้น','pop','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','หมดเวลาสำหรับข้อนี้!','input[type=\x22radio\x22]:checked','height','\x5cdiv','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PROMPT_PLACEHOLDER','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','dispatchEvent','.topic-actions-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เปลี่ยนชื่อโปรเจคสำเร็จ','ไม่มีผู้ตอบตัวเลือกนี้','เกิดข้อผิดพลาดในการลบผลสอบ','onerror','bulk-confidence-mode-container','.lastAnswerValue','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','admin','flex','student','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','no-projects-msg','icon','td,\x20th','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','Error\x20listening\x20for\x20starred\x20quizzes:','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','type','จำนวนและการดำเนินการ','bp-modal-passing-score-input','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','confidence-input-','hasPerfectScoreBonus','ยูทูปเบอร์ฝึกหัด','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','Error\x20saving\x20shortcut:','questions_only','quiz-start-time','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','bg-green-200\x20text-green-800','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','Error\x20verifying\x20answers\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','default-2','การแจกแจงปกติและ\x20z-score','ข้อ\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','.generate-post-test-btn','ไม่ใช่\x20/\x20ผิด','totalPoints','document','createdAt','.start-live-race-btn','shortcutIds','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','color','data','ตารางความถี่','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','leq','หยุดระบบจับเวลาหรี่หน้าจอ','NEGATIVE_INFINITY','\x20แบบทดสอบลงในคลังสำเร็จ!','answer-counter','parallel-default-1','save-shortcut-btn','พาราโบลา','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','.file-shortcut-tab-btn','live-player-list','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<li>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','modal-results-display-select','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','topics.','ลิมิต','back-to-dashboard-from-bp-btn','textarea','element','promptFeedback','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','delete-all-students-btn','border-gray-200','shuffleSetting','00:00','fa-rocket\x20text-purple-500','bulk-confidence-scoring-checkbox','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','อัปเดตสถานะสำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','dfrac','text-blue-700','เพิ่มปุ่มลัดใหม่','medium','pre-test-checkbox','แอบชอบ','นำแบบทดสอบออกจากคลังนี้แล้ว','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','transformOrigin','.remove-file-shortcut-from-tab-btn','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','bulk-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','สายตาสั้น','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','N/A','modal-message','pointsLastQuestion','\x22\x5cn','Successfully\x20removed\x20','on_fire','เลือกและบันทึก','\x20ชุดสำเร็จ!','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','trail-tool-btn','results-tab-content','width','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','แก้ไขชื่อหัวข้อย่อย:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','.shortcut-list-item:not(.opacity-50)','ไม่สามารถเพิ่มนักเรียนได้','start-game-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','answeredCurrentQuestion','เส้นรอบรูป','อัตราการเปลี่ยนแปลงทันที','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x20(\x22','กรุณาใส่ชื่อใหม่','sync-manage-players-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','ON_FIRE','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','แบบทดสอบจากคลังส่วนตัว','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','target','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำอธิบาย...','readAsDataURL','scheduled','restore','ยอดเยี่ยม','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','.move-file-shortcut-dropdown','font-bold\x20text-green-700','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20','deltaY','insertBefore','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','main-correct-answer-display','source_document.pdf','showInStudentDashboard','selected-answer-index-hidden','grid-view-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-shortcuts-list','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Error\x20showing\x20quiz\x20detail\x20view:','กรุณาเลือกโปรเจคก่อน','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','finishReason','https://corsproxy.io/?','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','bp-modal-num-choices','string','ที่พิมพ์ได้\x20จำนวน\x20','per-question-options','post-test','/submissions','shortcut-name-input','พิสัย','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','Failed\x20to\x20kick\x20player\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','ตัวแทนแห่งดวงจันทร์','topic-input-area','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','files','.live-answer-btn,\x20#sync-submit-btn','ดาบพิฆาตอสูร','Error\x20verifying\x20answers:','split','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','results_','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bp-reference-file-url','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','ความเท่ากันทุกประการของสามเหลี่ยม','ฟังก์ชันราก\x20(root)','display','Error\x20processing\x20parallel\x20shortcut\x20click:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','cancel-test-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20quiz:','กลุ่มของคุณ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','สมมาตร\x20(แกน/จุด)','(คู่ขนาน)\x20','shortcut-modal-title','นอนไม่พอ','add-file-shortcut-tab-btn','<div\x20class=\x22answer-space\x22></div>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','entries','null','ปริมาตรรูปทรงสามมิติ','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','จอมเวทย์ขนมหวาน','.admin-try-quiz-list-btn','.pen-color-btn','file.txt','getScreenCTM','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STOP','reveal_at_end','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','กรุณาเลือกคำตอบก่อนครับ','file-default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','create-from-bank-btn','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','destroy','<option\x20value=\x22','pointer-events-none','ไม่พบข้อมูลเกม','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','circ','add-from-global-bank-btn','minHeight','.topic-actions-edit','catch','border-indigo-400\x20ring-2\x20ring-indigo-200','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','274192258111','รูปหลายเหลี่ยมและมุมภายใน','ownerSVGElement','pointermove','/public/data/quizzes/','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','preventDefault','Error\x20during\x20blueprint\x20link\x20cleanup:','blueprintUrl','save-settings-btn','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','ม้าดีดกะโหลก','projectOrder','ปุ่มลัดทั้งหมด','correctAnswer','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','ref','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','abs','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','closePath','cancel-global-activity-btn','แผนการสอน:\x20','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','reset-view-btn','border-green-300\x20bg-green-50','commit','ไม่พบไฟล์\x20Test\x20Blueprint','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','Error\x20loading\x20blueprint\x20projects:','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','text-input-area','approx','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','bg-emerald-100','behavior-log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท้องฟ้า','จำนวนข้อ:','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x20ตอบ','<div\x20id=\x22q-image-container-','จำนวนคละ','svg','thead','bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-status-btn','reference.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','value','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','ผู้ควบคุม\x20(ทดสอบ)','ระยะจากจุดถึงเส้นตรง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','quiz-leaderboard-table-body','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','decode','topic-quiz-bank-modal','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','เศรษฐีดูไบ','analytics-tab-btn','bg-green-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','anonymous','/public/data/syncGames','.ideal-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','.topic-category','.linkedQuizIds','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','save','\x20จุดเรียบร้อยแล้ว','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','shuffledQuiz','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','Error\x20deleting\x20custom\x20topic:','จำนวนเชิงซ้อน\x20(เสริม)','Test\x20Blueprint','Error\x20displaying\x20question\x20bank:','start-sync-game-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.bp-create-content-quiz-btn','ฐานนิยม','หมีขั้วโลกใต้','\x22\x20data-target-tab-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','preTScore','.quiz-bank-checkbox:checked','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','.use-hidden-file-shortcut-btn','data:application/vnd.ms-word;charset=utf-8,','cancel-bulk-quiz-settings-btn','.shortcut-list-item','afterend','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','px)\x20scale(','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x5cge','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','touch','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x202','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','lesson-loader-text','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','Blueprint\x201','setItem','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','เกิดข้อผิดพลาดในการลบ','save-bp-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','</a>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','false','https://drive.google.com/uc?export=download&id=','ไม่สามารถบันทึกการตั้งค่าได้','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','.png','.quiz-bank-parallel-btn','separate-by-content-from-file-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20Error\x20Response:','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','submit-group-answer-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันเชิงเส้นและกราฟ','บทเรียน','</div>','pointerup','leaderboard','pointerType','.\x20แต่ละข้อมี\x20','rgba(79,\x2070,\x20229,\x201)','.highlighter-color-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กาแฟขม','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','<tr\x20class=\x22','cancel-manual-bp-btn','pow','endsWith','quiz-end-time','อสมการค่าสัมบูรณ์','bar','currentTarget','สุดยอด!\x20ตอบถูกทุกข้อ','lastAnswerIndex','file-shortcut-tabs-nav','flex\x20flex-col\x20gap-2','find','ความต่อเนื่อง','นกฮูกกลางวัน','bg-green-50','Error\x20calling\x20Gemini\x20API:','question','lesson-plan-title','.subTopic','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','แมวเก้าชีวิต','.bp-game-btn','กำลังสแกนหาแบบทดสอบเก่า...','.bp-present-btn','ใช่','length','submissions','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','.answeredCurrentQuestion','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','STRING','generate-from-file-btn','quiz-results-view','พื้นที่สี่เหลี่ยม','.group','510492dkPOyp','บันทึกการตั้งค่าการแสดงผลสำเร็จ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','text-white','#parallel-shortcut-tabs-nav\x20.tab-name-input','docs','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','leaderboard-table-body','Team\x20Quiz','worksheet-input-area','postScore','Copy\x20command\x20failed','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topicId','push','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','file-shortcut-modal-title','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','team','summary_chart','topics','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','</div><div\x20class=\x22space-y-2\x22>','เกิดข้อผิดพลาด:\x20','confidence-scoring-toggle','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','Error\x20starting\x20live\x20race:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','selected-topics-count','ชีสเค้ก','inactive','options','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','select[name=\x22question_single\x22]','responses.','globalAlpha','lobby','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ไม่สามารถเริ่มเกมได้','เกิดข้อผิดพลาดในการลบหัวข้อ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','message','from','การบวกทศนิยม','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','Error\x20resetting\x20project\x20order:','fas\x20fa-star\x20text-yellow-500','กรุณาวาง\x20URL\x20ของบทความก่อน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','label','#FEF3C7','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','http://www.w3.org/2000/svg','Failed\x20to\x20get\x20hint:','perQuestionStats','visibilityState','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','list-view-btn','verify-answers-btn','Error\x20committing\x20score\x20updates:','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','join-live-game-btn','responses','QUICK_THINKER','substr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-200','สมการเหตุผล\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','.quiz-bank-move-btn','parallel-shortcut-id-input','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','globalCompositeOperation','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</tbody></table></div>','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','memory','ลบแบบทดสอบสำเร็จแล้ว','Failed\x20to\x20get\x20standardized\x20topic:','อยู่ในหัวข้อหลักใด:','student-name-select','.quiz-bank-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','standardTopic','\x22\x20data-pre-test-id=\x22','global-activity-quiz-list','div','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','bg-red-100\x20text-red-800','toggle','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','bp-add-topic-btn','targetId','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กำลังวิเคราะห์หัวข้อ...','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','Failed\x20to\x20end\x20group\x20mode\x20game:','[data-topic-id]','incorrect','ฟังก์ชันยกกำลัง','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-pen','ศูนย์','indexOf','Error\x20analyzing\x20blueprint\x20topics:','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','.tab-name-display','bg-amber-100\x20text-amber-800','\x22>จาก:\x20','blueprint-shortcut-container','คนดีศรีสยาม','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','user','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','quiz-bank-modal','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','ผู้ไม่ยอมแพ้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','add-shortcut-btn','check-answer-btn','attempts','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-modal','progress-project-select','curriculum','<div\x20class=\x22space-y-4\x22>','ปลาทูคะนอง','normal','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x201','แปลงร่าง','topic-bank-subtopic-name','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','scratchpad-canvas','</span></td>','deselect-all-topics-btn','shortcut-editor-modal','.eraser-size-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','clientY','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','destination-out','text-green-600\x20font-bold','แก้ไขปุ่มลัดจากไฟล์','จับคู่เพื่อเปรียบเทียบผล','setTransform','additional-parallel-shortcuts-modal','bg-gray-50','#D1FAE5','confirm-quiz-settings-btn','correctResponse','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','parallel-test-input-area','mandatory','\x5cfrac{$1}{$2}','วงกลม:\x20สมการและสมบัติ','back-to-results-btn','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎพื้นฐาน','parallel-shortcut-name-input','isArray','จากไฟล์ที่แนบมานี้,\x20','ระบบเลขและค่าประจำหลัก','questionId','Error\x20saving\x20to\x20question\x20bank:','การบวกเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','cancel-blueprint-projects-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไก่ฟ้าพญาลอ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','name_asc','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-worksheet-btn','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','เกิดข้อผิดพลาดในการเปลี่ยนสี','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','unshift','red','แบตหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20adding\x20topic:','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','set','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','highlighter-size-slider','.quiz-bank-item','.edit-question-btn','ondragover','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','include-images-checkbox','</option>','topic-tab','/lessons','.answered','text','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','players.','นักดนตรี','Error\x20confirming\x20players:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','upperGroupNames','bg-black/20','rgba(239,\x2068,\x2068,\x200.7)','ดูผลสรุปสุดท้าย','substring','score-distribution-chart','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x22','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#FFFFFF','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','lineCap','.generate-lesson-btn','Error\x20generating\x20from\x20parallel\x20test\x20file:','Error\x20fetching\x20quiz\x20settings:','\x22><i\x20class=\x22fas\x20','typesetPromise','\x20ตัวเลือก)','desc','</body></html>','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','text-content-input','เกิดข้อผิดพลาดในการส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','studentName','confidenceMode','gradeLevel','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','loopUntilPass','สถานะไม่ชัดเจน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','.edit-hidden-file-shortcut-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','ย้ายแบบทดสอบสำเร็จ','ไม่พบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','จับคู่แบบทดสอบสำเร็จ!','text-gray-500','quizMode','mode','close-topic-bank-btn','ตัวประกอบและตัวประกอบเฉพาะ','nextElementSibling','tan','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','qIndex','quiz-editor-questions-container','fa-user-astronaut\x20text-blue-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.submittedAt','ไม่สามารถสร้างโปรเจคได้','input','[*]','.live-answer-btn','.score','dragover','true','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','pinned-items','moveTo','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','comparison-individual-content','การหารทศนิยม','ต้นฉบับ\x201','#view-rankings-btn','timed','times','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','.quiz-bank-settings-btn','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondblclick','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','slide-counter','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','parallelShortcutTabs','fix-lesson-latex-btn','Error\x20in\x20handleApiCall:','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','clear-all-links-btn','\x5ctimes','.summary-bar-item','game-start-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','then','onloadend','size','บันทึกโปรเจค\x20\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','click','upper_group_count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','sara','#ffffff','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','.tab-name-input','สร้างคำถามแบบใช่/ไม่ใช่','Error\x20loading\x20quiz\x20for\x20student:','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','พลังคลื่นเต่า','ค.ร.น.\x20(LCM)','end-sync-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','cos','\x20สำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','results-quiz-title','visibilitychange'];_0x242f=function(){return _0x39474f;};return _0x242f();}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x477c91){const _0x595951=_0x1f917e,_0x18814c=document['getElementById']('file-topics-list-container'),_0x3391b1=document[_0x595951(0x2bc)]('file-topics-list');_0x18814c['classList'][_0x595951(0x1b5)](_0x595951(0x44c)),_0x3391b1[_0x595951(0xcd8)]=_0x595951(0xb1a);try{const _0x189ff5=new FileReader();_0x189ff5[_0x595951(0x981)](_0x477c91),await new Promise((_0x26806a,_0x19bbde)=>{const _0x3dff28=_0x595951;_0x189ff5[_0x3dff28(0x384)]=()=>{const _0x337a2f=_0x3dff28;fileDataBase64=_0x189ff5[_0x337a2f(0x4c8)][_0x337a2f(0x9b1)](',')[0x1],fileMimeType=_0x477c91[_0x337a2f(0x903)],_0x26806a();},_0x189ff5[_0x3dff28(0x8f2)]=_0x4ac40e=>_0x19bbde(_0x4ac40e);});if(!fileDataBase64)throw new Error(_0x595951(0x30a));const _0x1622bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a8f85={'type':'OBJECT','properties':{'topics':{'type':_0x595951(0x5b8),'items':{'type':_0x595951(0xab8)}}},'required':[_0x595951(0xad8)]},_0x556a14=[{'text':_0x1622bf},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0xdda89d=await handleApiCall(_0x556a14,_0x595951(0xb30),_0x2a8f85,null,![]);if(_0xdda89d&&_0xdda89d[_0x595951(0xad8)])extractedFileTopics=_0xdda89d['topics'],renderFileTopics();else throw new Error(_0x595951(0x790));}catch(_0x1bb371){console[_0x595951(0x512)](_0x595951(0x514),_0x1bb371),_0x3391b1[_0x595951(0xcd8)]=_0x595951(0x5a3)+_0x1bb371['message']+_0x595951(0x51d);}}function renderFileTopics(){const _0x156b08=_0x1f917e,_0x323986=document['getElementById'](_0x156b08(0x66c));if(extractedFileTopics['length']===0x0){_0x323986[_0x156b08(0xcd8)]=_0x156b08(0x36a);return;}_0x323986[_0x156b08(0xcd8)]=extractedFileTopics[_0x156b08(0x618)](_0x445117=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x445117+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x445117)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x445117)+_0x156b08(0xb2a))[_0x156b08(0xd29)]('');}async function generateHybridQuizForTopic(_0x227fb7){const _0x1e0f23=_0x1f917e,_0x457ce3=parseInt(document[_0x1e0f23(0x2bc)](_0x1e0f23(0x22e))[_0x1e0f23(0xa21)],0xa),_0xe9ac51=document['getElementById'](_0x1e0f23(0x5fd))[_0x1e0f23(0xa21)],_0x440214=document[_0x1e0f23(0x2bc)](_0x1e0f23(0xbbb))['value'],_0x2d5f5a=document[_0x1e0f23(0x2bc)](_0x1e0f23(0xba5))[_0x1e0f23(0x6b7)],_0x56d17a=_0x2d5f5a?_0x1e0f23(0x3ec):_0x1e0f23(0x2e9);let _0x4a9b53='',_0x480308;const _0x4c4f38={'type':'OBJECT','properties':{'questionText':{'type':_0x1e0f23(0xab8)},'options':{'type':_0x1e0f23(0x5b8),'items':{'type':_0x1e0f23(0xab8)}},'correctAnswerIndex':{'type':_0x1e0f23(0x16d)},'explanation':{'type':_0x1e0f23(0xab8)},'imageCode':{'type':_0x1e0f23(0xab8)}},'required':['questionText',_0x1e0f23(0xae7),'correctAnswerIndex',_0x1e0f23(0x557)]},_0x2fb0fa={'type':_0x1e0f23(0x60a),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x1e0f23(0xab8)},'imageCode':{'type':_0x1e0f23(0xab8)}},'required':[_0x1e0f23(0x551),_0x1e0f23(0x9fa),_0x1e0f23(0x557)]},_0x2feb68={'type':_0x1e0f23(0x60a),'properties':{'questionText':{'type':_0x1e0f23(0xab8)},'idealAnswer':{'type':_0x1e0f23(0xab8)},'explanation':{'type':_0x1e0f23(0xab8)},'imageCode':{'type':_0x1e0f23(0xab8)}},'required':[_0x1e0f23(0x551),_0x1e0f23(0x740),_0x1e0f23(0x557)]},_0x18f349={'type':_0x1e0f23(0x60a),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x1e0f23(0xab8)},'correctResponse':{'type':_0x1e0f23(0xab8)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x1e0f23(0xab8)},'imageCode':{'type':'STRING'}},'required':[_0x1e0f23(0x789),_0x1e0f23(0x629),_0x1e0f23(0xb73),_0x1e0f23(0x607),_0x1e0f23(0x557)]};switch(_0xe9ac51){case'multiple_choice':_0x4a9b53=_0x1e0f23(0x235)+_0x440214+_0x1e0f23(0xbc5),_0x480308=_0x4c4f38;break;case _0x1e0f23(0x475):_0x4a9b53=_0x1e0f23(0xcd2),_0x480308=_0x2fb0fa;break;case _0x1e0f23(0x6f2):_0x4a9b53='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x480308=_0x2feb68;break;case _0x1e0f23(0x3a6):_0x4a9b53=_0x1e0f23(0x885),_0x480308=_0x18f349;break;case _0x1e0f23(0x5f6):_0x4a9b53=_0x1e0f23(0xb61)+_0x440214+_0x1e0f23(0xbc5),_0x480308=_0x4c4f38;break;default:_0x4a9b53=_0x1e0f23(0x235)+_0x440214+'\x20ตัวเลือก)',_0x480308=_0x4c4f38;break;}const _0x13a148=_0x1e0f23(0x169),_0x3dfffb=document[_0x1e0f23(0x2bc)](_0x1e0f23(0x70f)),_0x38b90d=document[_0x1e0f23(0x2bc)](_0x1e0f23(0x626)),_0x52313b=document[_0x1e0f23(0x2bc)](_0x1e0f23(0x613));document[_0x1e0f23(0x2bc)]('quiz-generation-area')[_0x1e0f23(0x517)][_0x1e0f23(0x1b5)]('hidden'),_0x52313b[_0x1e0f23(0xcd8)]='',_0x3dfffb[_0x1e0f23(0x517)][_0x1e0f23(0x1b5)](_0x1e0f23(0x44c)),_0x38b90d['textContent']=_0x1e0f23(0x4c7)+_0x227fb7+_0x1e0f23(0x810)+_0x457ce3+_0x1e0f23(0x396);try{const _0x2f203f=_0x1e0f23(0x523),_0x2a7835=_0x1e0f23(0xc1f)+_0x227fb7+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x457ce3+_0x1e0f23(0x46e)+_0x227fb7+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x457ce3+_0x1e0f23(0x744)+_0x56d17a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x4a9b53+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x13a148+_0x1e0f23(0x643)+_0x2f203f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1e0f23(0xb38),_0x2bcf53={'type':_0x1e0f23(0x60a),'properties':{'topic':{'type':_0x1e0f23(0xab8)},'questions':{'type':_0x1e0f23(0x5b8),'items':_0x480308}},'required':[_0x1e0f23(0x533),_0x1e0f23(0x320)]},_0x1258a0=[{'text':_0x2a7835},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x1258a0,_0x1e0f23(0x6c4)+_0x227fb7+_0x1e0f23(0x52b),_0x2bcf53);}catch(_0x5eb601){console['error'](_0x1e0f23(0x7a8),_0x5eb601),showMessage(_0x1e0f23(0xade)+_0x5eb601[_0x1e0f23(0xaf3)]),_0x52313b[_0x1e0f23(0xcd8)]=_0x1e0f23(0x520);}finally{_0x3dfffb[_0x1e0f23(0x517)][_0x1e0f23(0x546)]('hidden');}}async function handleGenerateFromFileClick(){const _0x673780=_0x1f917e;if(!selectedFile){showMessage(_0x673780(0x5a8));return;}const _0x442836=document[_0x673780(0x2bc)](_0x673780(0x70f)),_0x304233=document[_0x673780(0x2bc)](_0x673780(0x626)),_0x32dc9d=document[_0x673780(0x2bc)](_0x673780(0x613)),_0x52deac=document[_0x673780(0x2bc)](_0x673780(0xab9));_0x52deac['disabled']=!![],document[_0x673780(0x2bc)](_0x673780(0x83c))[_0x673780(0x517)][_0x673780(0x1b5)](_0x673780(0x44c)),_0x32dc9d[_0x673780(0xcd8)]='',_0x442836['classList'][_0x673780(0x1b5)](_0x673780(0x44c)),_0x304233[_0x673780(0x806)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x184d0b=await new Promise((_0x4a8177,_0x3a5315)=>{const _0x5dd5c7=_0x673780,_0x5ec8e3=new FileReader();_0x5ec8e3['readAsDataURL'](selectedFile),_0x5ec8e3['onload']=()=>_0x4a8177(_0x5ec8e3['result'][_0x5dd5c7(0x9b1)](',')[0x1]),_0x5ec8e3[_0x5dd5c7(0x8f2)]=_0x28a3c1=>_0x3a5315(_0x28a3c1);});await generateQuizFromFile(selectedFile[_0x673780(0x903)],_0x184d0b);}catch(_0x2632e2){console['error']('Error\x20processing\x20file\x20for\x20AI:',_0x2632e2),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x2632e2['message']),_0x442836['classList'][_0x673780(0x546)](_0x673780(0x44c)),_0x52deac[_0x673780(0x8ab)]=![];}}function autoFormatMath(_0x2cf5cf){const _0x286aa9=_0x1f917e;if(typeof _0x2cf5cf!==_0x286aa9(0x99f)||!_0x2cf5cf)return _0x2cf5cf;const _0x4d9014=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x12b77f=_0x2cf5cf[_0x286aa9(0x794)](_0x4d9014,_0xc82d79=>{const _0x2396d6=_0x286aa9;return'$'+_0xc82d79[_0x2396d6(0x1df)]()+'$';});return _0x12b77f;}function sanitizeQuizData(_0x565057){const _0x491f8a=_0x1f917e;if(!_0x565057||!_0x565057['questions'])return _0x565057;const _0x1c4c46={'imes':_0x491f8a(0xc13),'div':_0x491f8a(0x8e5)},_0x493731=_0x213eb=>{const _0xd06e50=_0x491f8a;if(typeof _0x213eb!==_0xd06e50(0x99f))return _0x213eb;let _0x48efe6=_0x213eb;for(const [_0x46d920,_0x2744b8]of Object[_0xd06e50(0x9c8)](_0x1c4c46)){const _0x26453e=new RegExp('\x5cb'+_0x46d920+'\x5cb','g');_0x48efe6=_0x48efe6['replace'](_0x26453e,_0x2744b8);}return _0x48efe6=_0x48efe6[_0xd06e50(0x794)](/\\\//g,'\x5cdiv'),_0x48efe6=_0x48efe6[_0xd06e50(0x794)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0xd06e50(0x794)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xd06e50(0xc13))[_0xd06e50(0x794)](/÷/g,_0xd06e50(0x8e5))[_0xd06e50(0x794)](/×/g,_0xd06e50(0xc13)),_0x48efe6=_0x48efe6['replace'](/(\d)(\\frac)/g,_0xd06e50(0x798)),_0x48efe6=autoFormatMath(_0x48efe6),_0x48efe6;};return _0x565057[_0x491f8a(0x533)]&&(_0x565057[_0x491f8a(0x533)]=_0x493731(_0x565057['topic'])),_0x565057['questions'][_0x491f8a(0x229)](_0x439e6b=>{const _0x99825d=_0x491f8a;_0x439e6b['questionText']=_0x493731(_0x439e6b[_0x99825d(0x551)]),_0x439e6b[_0x99825d(0xae7)]&&(_0x439e6b[_0x99825d(0xae7)]=_0x439e6b['options'][_0x99825d(0x618)](_0x493731)),_0x439e6b['explanation']&&(_0x439e6b['explanation']=_0x493731(_0x439e6b[_0x99825d(0x557)])),_0x439e6b[_0x99825d(0x629)]&&(_0x439e6b['stem']=_0x493731(_0x439e6b[_0x99825d(0x629)])),_0x439e6b[_0x99825d(0xb73)]&&(_0x439e6b['correctResponse']=_0x493731(_0x439e6b[_0x99825d(0xb73)])),_0x439e6b[_0x99825d(0x607)]&&(_0x439e6b[_0x99825d(0x607)]=_0x439e6b['allResponses'][_0x99825d(0x618)](_0x493731));}),_0x565057;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x8da002=_0x1f917e,_0x5578a2=document['getElementById']('link-url-input'),_0x3c78a2=document[_0x8da002(0x2bc)]('link-topic-input'),_0x5e506d=_0x5578a2[_0x8da002(0xa21)][_0x8da002(0x1df)](),_0x205e3d=_0x3c78a2['value']['trim']();if(!_0x5e506d){showMessage(_0x8da002(0xaf9));return;}const _0x535ee9=document['getElementById'](_0x8da002(0x70f)),_0x26712d=document[_0x8da002(0x2bc)](_0x8da002(0x626)),_0x750f69=document['getElementById'](_0x8da002(0x613)),_0x4fbd83=document[_0x8da002(0x2bc)](_0x8da002(0x294));document[_0x8da002(0x2bc)](_0x8da002(0x83c))[_0x8da002(0x517)]['remove'](_0x8da002(0x44c)),_0x750f69['innerHTML']='',_0x535ee9[_0x8da002(0x517)][_0x8da002(0x1b5)](_0x8da002(0x44c)),_0x26712d['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x4fbd83['disabled']=!![];try{const _0x15894c=_0x8da002(0x99c)+encodeURIComponent(_0x5e506d),_0xa249ba=await fetch(_0x15894c);if(!_0xa249ba['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0xa249ba[_0x8da002(0x845)]+')');const _0x1dafb5=await _0xa249ba[_0x8da002(0xbaa)](),_0x3b709b=extractTextFromHtml(_0x1dafb5);if(!_0x3b709b||_0x3b709b[_0x8da002(0xab1)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x205e3d,_0x3b709b);}catch(_0x208356){console[_0x8da002(0x512)](_0x8da002(0x31c),_0x208356),showMessage(_0x8da002(0xade)+_0x208356[_0x8da002(0xaf3)]),_0x750f69[_0x8da002(0xcd8)]=_0x8da002(0x510);}finally{_0x535ee9['classList'][_0x8da002(0x546)](_0x8da002(0x44c)),_0x4fbd83[_0x8da002(0x8ab)]=![];}}function extractTextFromHtml(_0x833e13){const _0x55370e=_0x1f917e,_0x13b234=new DOMParser()[_0x55370e(0x75a)](_0x833e13,_0x55370e(0x610));return _0x13b234['querySelectorAll'](_0x55370e(0x5ac))[_0x55370e(0x229)](_0x96428e=>_0x96428e[_0x55370e(0x1b5)]()),_0x13b234['body'][_0x55370e(0x806)]||'';}document[_0x1f917e(0x2bc)](_0x1f917e(0x874))[_0x1f917e(0x8de)]('click',()=>{const _0xc8f057=_0x1f917e,_0x2973f9=document[_0xc8f057(0x2bc)](_0xc8f057(0x404))[_0xc8f057(0xa21)]['trim']();generateQuiz(_0x2973f9,null);}),document[_0x1f917e(0x2bc)]('generate-from-text-btn')[_0x1f917e(0x8de)](_0x1f917e(0xc20),()=>{const _0x215d88=_0x1f917e,_0x22d5e8=document[_0x215d88(0x2bc)](_0x215d88(0xbc9))[_0x215d88(0xa21)][_0x215d88(0x1df)]();if(!_0x22d5e8){showMessage(_0x215d88(0xc6b));return;}const _0x27d2a1=document[_0x215d88(0x2bc)](_0x215d88(0x404))['value']['trim']();generateQuiz(_0x27d2a1,_0x22d5e8);});async function generateQuiz(_0x2e96db,_0x492d60,_0x465e11=null,_0x2dcd40=null,_0x3d14b4=![],_0x73488e=null,_0x4dc81b=null,_0x205166=![]){const _0x4db5df=_0x1f917e;let _0x659595={};if(_0x3d14b4&&blueprintPageSettings)_0x659595=blueprintPageSettings;else{const _0xbccd2=document[_0x4db5df(0x362)]('#math-topics-checkbox-container\x20input:checked');_0x659595={'quizType':document[_0x4db5df(0x2bc)](_0x4db5df(0x5fd))['value'],'numQuestions':document[_0x4db5df(0x2bc)](_0x4db5df(0x22e))[_0x4db5df(0xa21)],'numChoices':document[_0x4db5df(0x2bc)](_0x4db5df(0xbbb))[_0x4db5df(0xa21)],'includeImages':document[_0x4db5df(0x2bc)](_0x4db5df(0xba5))['checked'],'isNormalTopic':document[_0x4db5df(0x2bc)]('force-math-checkbox')[_0x4db5df(0x6b7)],'difficultyValue':document[_0x4db5df(0x2bc)](_0x4db5df(0x1eb))['value'],'complexityValue':document[_0x4db5df(0x2bc)](_0x4db5df(0xd2d))[_0x4db5df(0xa21)],'selectedTopicNames':Array[_0x4db5df(0xaf4)](_0xbccd2)[_0x4db5df(0x618)](_0x49658e=>_0x49658e[_0x4db5df(0xa21)])};}const _0x56a0fb=_0x659595[_0x4db5df(0x881)]?'':_0x4db5df(0x1e0),_0x49d480=_0x659595[_0x4db5df(0x238)]!==_0x4db5df(0x6b6)?_0x4db5df(0xcd9)+_0x659595[_0x4db5df(0x238)]+'\x22':'',_0x1d4c50=_0x659595[_0x4db5df(0x70c)]!=='mixed'?_0x4db5df(0x218)+_0x659595[_0x4db5df(0x70c)]+_0x4db5df(0x49d):'';let _0xafa53d='';_0x659595['selectedTopicNames']&&_0x659595[_0x4db5df(0xc7e)]['length']>0x0&&(_0xafa53d=_0x4db5df(0x2bd)+_0x659595['selectedTopicNames'][_0x4db5df(0xd29)](',\x20')+'.');let _0x10a4e0='';_0x2dcd40&&(_0x10a4e0=_0x4db5df(0xcc7));let _0x41eba3='',_0x3f64c8='',_0x27836d,_0x4c1a7d=_0x4db5df(0xbba)+_0x2e96db+'\x22';if(!_0x2e96db&&_0x492d60)_0x4c1a7d=_0x4db5df(0x8c2);else!_0x2e96db&&!_0x492d60&&(_0x4c1a7d=_0x4db5df(0xa7f));const _0x5af1dd={'type':_0x4db5df(0x60a),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4db5df(0xab8)}},'correctAnswerIndex':{'type':_0x4db5df(0x16d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4db5df(0xab8)}},'required':['questionText',_0x4db5df(0xae7),'correctAnswerIndex',_0x4db5df(0x557)]},_0x3ff40b={'type':_0x4db5df(0x60a),'properties':{'questionText':{'type':_0x4db5df(0xab8)},'idealAnswer':{'type':_0x4db5df(0xab8)},'explanation':{'type':_0x4db5df(0xab8)},'imageCode':{'type':_0x4db5df(0xab8)}},'required':[_0x4db5df(0x551),_0x4db5df(0x740),_0x4db5df(0x557)]},_0x2d68bf={'type':_0x4db5df(0x60a),'properties':{'questionText':{'type':_0x4db5df(0xab8)},'questionType':{'type':_0x4db5df(0xab8),'enum':[_0x4db5df(0x29d),_0x4db5df(0x48c)]},'options':{'type':_0x4db5df(0x5b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4db5df(0xab8)},'explanation':{'type':_0x4db5df(0xab8)},'imageCode':{'type':_0x4db5df(0xab8)}},'required':[_0x4db5df(0x551),'questionType',_0x4db5df(0x557)]},_0x19769f={'type':_0x4db5df(0x60a),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x4db5df(0xd15)},'explanation':{'type':_0x4db5df(0xab8)},'imageCode':{'type':_0x4db5df(0xab8)}},'required':[_0x4db5df(0x551),_0x4db5df(0x9fa),'explanation']},_0x45fc61={'type':_0x4db5df(0x60a),'properties':{'questionType':{'type':_0x4db5df(0xab8),'enum':['matching_item']},'stem':{'type':_0x4db5df(0xab8)},'correctResponse':{'type':_0x4db5df(0xab8)},'allResponses':{'type':_0x4db5df(0x5b8),'items':{'type':_0x4db5df(0xab8)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4db5df(0xab8)}},'required':['questionType',_0x4db5df(0x629),_0x4db5df(0xb73),_0x4db5df(0x607),_0x4db5df(0x557)]};let _0x467c2c;if(_0x465e11!==null){const _0x4c0cbe=currentQuizData[_0x4db5df(0x320)][_0x465e11][_0x4db5df(0x789)],_0x1ca99f=_0x659595['includeImages']?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x41eba3=_0x4db5df(0x765)+_0x4c1a7d+'\x20'+_0xafa53d+'\x20'+_0x49d480+_0x4db5df(0x18b)+_0x1ca99f+'\x20'+simpleMathPrompt;if(_0x4c0cbe===_0x4db5df(0x29d))_0x27836d=_0x5af1dd;else{if(_0x4c0cbe===_0x4db5df(0x4c9))_0x27836d={'type':_0x4db5df(0x60a),'properties':{'questionType':{'type':_0x4db5df(0xab8),'enum':[_0x4db5df(0x4c9)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4db5df(0xab8)},'explanation':{'type':_0x4db5df(0xab8)},'imageCode':{'type':_0x4db5df(0xab8)}},'required':[_0x4db5df(0x789),_0x4db5df(0x629),_0x4db5df(0xb73),_0x4db5df(0x557)]};else _0x27836d=_0x3ff40b;}_0x467c2c=_0x27836d;}else{const _0x2d5d92=_0x659595['includeImages']?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x659595['quizType']){case _0x4db5df(0x29d):_0x41eba3=_0x4db5df(0x831)+_0x56a0fb+'\x20'+_0x659595[_0x4db5df(0x306)]+_0x4db5df(0x1e8)+_0x4c1a7d+'\x20'+_0xafa53d+'\x20'+_0x49d480+'\x20'+_0x1d4c50+'\x20'+_0x10a4e0+'.\x20แต่ละข้อมี\x20'+_0x659595[_0x4db5df(0x603)]+_0x4db5df(0x74e)+_0x2d5d92+'\x20'+simpleMathPrompt,_0x27836d=_0x5af1dd;break;case'fill_in_with_choices':_0x41eba3='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x56a0fb+'\x20'+_0x659595[_0x4db5df(0x306)]+_0x4db5df(0x1e8)+_0x4c1a7d+'\x20'+_0xafa53d+'\x20'+_0x49d480+'\x20'+_0x1d4c50+'\x20'+_0x10a4e0+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x659595['numChoices']+_0x4db5df(0x159)+_0x2d5d92+'\x20'+simpleMathPrompt,_0x27836d=_0x5af1dd;break;case _0x4db5df(0x6f2):_0x41eba3=_0x4db5df(0x258)+_0x56a0fb+'\x20'+_0x659595[_0x4db5df(0x306)]+_0x4db5df(0x1e8)+_0x4c1a7d+'\x20'+_0xafa53d+'\x20'+_0x49d480+'\x20'+_0x1d4c50+'\x20'+_0x10a4e0+_0x4db5df(0x488)+_0x2d5d92+'\x20'+simpleMathPrompt,_0x27836d=_0x3ff40b;break;case'mixed':_0x41eba3=_0x4db5df(0x879)+_0x56a0fb+'\x20'+_0x659595[_0x4db5df(0x306)]+_0x4db5df(0x1e8)+_0x4c1a7d+'\x20'+_0xafa53d+'\x20'+_0x49d480+'\x20'+_0x1d4c50+'\x20'+_0x10a4e0+_0x4db5df(0x443)+_0x659595['numChoices']+_0x4db5df(0x61e)+_0x2d5d92+'\x20'+simpleMathPrompt+'.',_0x27836d=_0x2d68bf;break;case _0x4db5df(0x475):_0x41eba3=_0x4db5df(0xc28)+_0x56a0fb+'\x20'+_0x659595['numQuestions']+_0x4db5df(0x1e8)+_0x4c1a7d+'\x20'+_0xafa53d+'\x20'+_0x49d480+'\x20'+_0x1d4c50+'\x20'+_0x10a4e0+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x2d5d92+'\x20'+simpleMathPrompt,_0x27836d=_0x19769f;break;case _0x4db5df(0x3a6):_0x41eba3=_0x4db5df(0x791)+_0x56a0fb+'\x20'+_0x659595[_0x4db5df(0x306)]+'\x20คู่\x20'+_0x4c1a7d+'\x20'+_0xafa53d+'\x20'+_0x49d480+'\x20'+_0x1d4c50+'\x20'+_0x10a4e0+_0x4db5df(0xbab)+_0x2d5d92+'\x20'+simpleMathPrompt,_0x27836d=_0x45fc61;break;}_0x467c2c={'type':_0x4db5df(0x60a),'properties':{'topic':{'type':_0x4db5df(0xab8)},'questions':{'type':_0x4db5df(0x5b8),'items':_0x27836d}},'required':[_0x4db5df(0x533),_0x4db5df(0x320)]};}const _0x3a52c8='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x492d60?(_0x205166?_0x41eba3=_0x4db5df(0x89b)+_0x492d60+_0x4db5df(0x98b)+_0x41eba3+_0x3a52c8:_0x41eba3=_0x4db5df(0x89b)+_0x492d60+_0x4db5df(0x98b)+_0x41eba3,_0x3f64c8=_0x4db5df(0xc79)):(_0x205166&&(_0x41eba3+=_0x3a52c8),_0x3f64c8='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x3541da;return _0x2dcd40?(_0x3541da=[{'text':_0x41eba3},..._0x2dcd40],_0x3f64c8=_0x4db5df(0x4d1)):_0x3541da=_0x41eba3,handleApiCall(_0x3541da,_0x3f64c8,_0x467c2c,_0x465e11,!![],_0x73488e,_0x4dc81b);}async function generateQuizFromFile(_0x4df8fe,_0x13adf7){const _0xee90bf=_0x1f917e,_0x3def9d=document[_0xee90bf(0x2bc)](_0xee90bf(0x741))[_0xee90bf(0xa21)][_0xee90bf(0x1df)](),_0x4fa61f=document[_0xee90bf(0x2bc)](_0xee90bf(0x5fd))[_0xee90bf(0xa21)],_0x1f361a=document[_0xee90bf(0x2bc)]('num-questions')[_0xee90bf(0xa21)],_0x331858=document[_0xee90bf(0x2bc)](_0xee90bf(0xbbb))['value'],_0x32553c=document[_0xee90bf(0x2bc)](_0xee90bf(0xba5))[_0xee90bf(0x6b7)],_0x40b91d=document[_0xee90bf(0x2bc)](_0xee90bf(0x862))[_0xee90bf(0x6b7)],_0x3e99c8=_0x40b91d?'':_0xee90bf(0x1e0),_0x1c00f5=document[_0xee90bf(0x2bc)](_0xee90bf(0x387))[_0xee90bf(0x6b7)];let _0x3db9d8='',_0x1579ca;const _0x463cd8=_0x32553c?_0xee90bf(0xd02):'';if(_0x1c00f5)_0x3db9d8=_0xee90bf(0xa95)+_0x463cd8+'\x0a'+simpleMathPrompt+'\x0a',_0x1579ca={'type':_0xee90bf(0x60a),'properties':{'questionText':{'type':_0xee90bf(0xab8)},'questionType':{'type':_0xee90bf(0xab8),'enum':['multiple_choice',_0xee90bf(0x48c),_0xee90bf(0x475),_0xee90bf(0x4c9)]},'options':{'type':_0xee90bf(0x5b8),'items':{'type':_0xee90bf(0xab8)}},'correctAnswerIndex':{'type':_0xee90bf(0x16d)},'idealAnswer':{'type':_0xee90bf(0xab8)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0xee90bf(0xab8)},'allResponses':{'type':_0xee90bf(0x5b8),'items':{'type':'STRING'}},'explanation':{'type':_0xee90bf(0xab8)},'imageCode':{'type':_0xee90bf(0xab8)}},'required':['questionType','explanation']};else{let _0x173d77='เกี่ยวกับหัวข้อ\x20\x22'+_0x3def9d+'\x22';!_0x3def9d&&(_0x173d77=_0xee90bf(0x8da));switch(_0x4fa61f){case _0xee90bf(0x29d):_0x3db9d8=_0xee90bf(0x831)+_0x3e99c8+'\x20'+_0x1f361a+'\x20ข้อ\x20'+_0x173d77+_0xee90bf(0xa8e)+_0x331858+_0xee90bf(0x74e)+_0x463cd8+'\x20'+simpleMathPrompt,_0x1579ca={'type':_0xee90bf(0x60a),'properties':{'questionText':{'type':_0xee90bf(0xab8)},'options':{'type':'ARRAY','items':{'type':_0xee90bf(0xab8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0xee90bf(0xab8)}},'required':[_0xee90bf(0x551),_0xee90bf(0xae7),'correctAnswerIndex',_0xee90bf(0x557)]};break;case _0xee90bf(0x5f6):_0x3db9d8=_0xee90bf(0x258)+_0x3e99c8+'\x20'+_0x1f361a+_0xee90bf(0x1e8)+_0x173d77+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x331858+_0xee90bf(0x159)+_0x463cd8+'\x20'+simpleMathPrompt,_0x1579ca={'type':_0xee90bf(0x60a),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xee90bf(0x5b8),'items':{'type':_0xee90bf(0xab8)}},'correctAnswerIndex':{'type':_0xee90bf(0x16d)},'explanation':{'type':_0xee90bf(0xab8)},'imageCode':{'type':_0xee90bf(0xab8)}},'required':[_0xee90bf(0x551),_0xee90bf(0xae7),_0xee90bf(0x16b),_0xee90bf(0x557)]};break;case _0xee90bf(0x6f2):_0x3db9d8=_0xee90bf(0x258)+_0x3e99c8+'\x20'+_0x1f361a+'\x20ข้อ\x20'+_0x173d77+_0xee90bf(0x6a6)+_0x463cd8+'\x20'+simpleMathPrompt,_0x1579ca={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0xee90bf(0xab8)},'explanation':{'type':_0xee90bf(0xab8)},'imageCode':{'type':_0xee90bf(0xab8)}},'required':[_0xee90bf(0x551),'idealAnswer',_0xee90bf(0x557)]};break;case _0xee90bf(0x403):_0x3db9d8=_0xee90bf(0x879)+_0x3e99c8+'\x20'+_0x1f361a+_0xee90bf(0x1e8)+_0x173d77+_0xee90bf(0x288)+_0x331858+_0xee90bf(0x683)+_0x463cd8+'\x20'+simpleMathPrompt+_0xee90bf(0x77e),_0x1579ca={'type':_0xee90bf(0x60a),'properties':{'questionText':{'type':_0xee90bf(0xab8)},'questionType':{'type':_0xee90bf(0xab8),'enum':['multiple_choice',_0xee90bf(0x48c)]},'options':{'type':_0xee90bf(0x5b8),'items':{'type':_0xee90bf(0xab8)}},'correctAnswerIndex':{'type':_0xee90bf(0x16d)},'idealAnswer':{'type':_0xee90bf(0xab8)},'explanation':{'type':_0xee90bf(0xab8)},'imageCode':{'type':'STRING'}},'required':['questionText',_0xee90bf(0x789),_0xee90bf(0x557)]};break;case'true_false':_0x3db9d8=_0xee90bf(0xc28)+_0x3e99c8+'\x20'+_0x1f361a+_0xee90bf(0x1e8)+_0x173d77+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x463cd8+'\x20'+simpleMathPrompt,_0x1579ca={'type':_0xee90bf(0x60a),'properties':{'questionText':{'type':_0xee90bf(0xab8)},'correctAnswer':{'type':_0xee90bf(0xd15)},'explanation':{'type':_0xee90bf(0xab8)},'imageCode':{'type':_0xee90bf(0xab8)}},'required':[_0xee90bf(0x551),_0xee90bf(0x9fa),_0xee90bf(0x557)]};break;case _0xee90bf(0x3a6):_0x3db9d8='สร้างชุดคำถามจับคู่'+_0x3e99c8+'\x20'+_0x1f361a+_0xee90bf(0x6be)+_0x173d77+_0xee90bf(0x9e9)+_0x1f361a+_0xee90bf(0x82c)+_0x463cd8+'\x20'+simpleMathPrompt,_0x1579ca={'type':_0xee90bf(0x60a),'properties':{'questionType':{'type':'STRING','enum':[_0xee90bf(0x4c9)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xee90bf(0x5b8),'items':{'type':_0xee90bf(0xab8)}},'explanation':{'type':_0xee90bf(0xab8)},'imageCode':{'type':_0xee90bf(0xab8)}},'required':[_0xee90bf(0x789),'stem','correctResponse',_0xee90bf(0x607),_0xee90bf(0x557)]};break;}}const _0x1ab6c0={'type':_0xee90bf(0x60a),'properties':{'topic':{'type':_0xee90bf(0xab8)},'questions':{'type':_0xee90bf(0x5b8),'items':_0x1579ca}},'required':[_0xee90bf(0x533),'questions']},_0x5e9cda=_0xee90bf(0xb80)+_0x3db9d8,_0x47e8bc={'contents':[{'parts':[{'text':_0x5e9cda},{'inlineData':{'mimeType':_0x4df8fe,'data':_0x13adf7}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1ab6c0}};return handleApiCall(_0x47e8bc[_0xee90bf(0x877)][0x0]['parts'],_0xee90bf(0x5c5),_0x1ab6c0);}async function handleApiCall(_0x31e7bd,_0xbef3bf,_0xbcac72,_0x2a17d8=null,_0x38f89d=!![],_0x5c0e23=null,_0x4f5785=null){const _0x41a744=_0x1f917e,_0x22a373=document['getElementById']('quiz-generation-area'),_0x965166=document[_0x41a744(0x2bc)](_0x41a744(0x70f)),_0x1fba8d=document[_0x41a744(0x2bc)](_0x41a744(0x626)),_0x41b321=document['getElementById'](_0x41a744(0x613));_0x22a373[_0x41a744(0x517)][_0x41a744(0x1b5)]('hidden');_0x2a17d8===null&&_0x38f89d&&(_0x41b321['innerHTML']='');_0x965166[_0x41a744(0x517)][_0x41a744(0x1b5)]('hidden'),_0x1fba8d['textContent']=_0xbef3bf,document[_0x41a744(0x2bc)](_0x41a744(0x874))['disabled']=!![],document['getElementById'](_0x41a744(0x3ac))['disabled']=!![],document[_0x41a744(0x2bc)]('generate-from-link-btn')[_0x41a744(0x8ab)]=!![];const _0x2c8248=document['getElementById'](_0x41a744(0xab9));if(_0x2c8248)_0x2c8248[_0x41a744(0x8ab)]=!![];const _0x4a2151=document[_0x41a744(0x2bc)](_0x41a744(0xb44));if(_0x4a2151)_0x4a2151[_0x41a744(0x8ab)]=!![];const _0x257dc3=document[_0x41a744(0x2bc)](_0x41a744(0x3e2));if(_0x257dc3)_0x257dc3[_0x41a744(0x8ab)]=!![];try{const _0x4835a3=Array[_0x41a744(0xb7f)](_0x31e7bd)?_0x31e7bd:[{'text':_0x31e7bd}],_0xec4359={'contents':[{'role':_0x41a744(0xb46),'parts':_0x4835a3}]};_0xbcac72&&(_0xec4359['generationConfig']={'responseMimeType':_0x41a744(0x63d),'responseSchema':_0xbcac72});const _0x5668cf=_0x41a744(0x9e7),_0x537bf8=_0x41a744(0xb5e)+_0x5668cf,_0x3ae8eb=await fetch(_0x537bf8,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x41a744(0x4e2)](_0xec4359)});if(!_0x3ae8eb['ok']){const _0x13b9ab=await _0x3ae8eb[_0x41a744(0xbaa)]();console[_0x41a744(0x512)](_0x41a744(0xa82),_0x13b9ab);throw new Error(_0x41a744(0x6c6)+_0x3ae8eb[_0x41a744(0x845)]);}const _0x81b19a=await _0x3ae8eb[_0x41a744(0x8a7)]();if(!_0x81b19a[_0x41a744(0x746)]||_0x81b19a[_0x41a744(0x746)][_0x41a744(0xab1)]===0x0){let _0x4bb688=_0x41a744(0x6f6);return _0x81b19a[_0x41a744(0x93e)]?.[_0x41a744(0x260)]&&(_0x4bb688=_0x41a744(0xbc8)+_0x81b19a['promptFeedback']['blockReason']+'.'),console['error'](_0x4bb688,JSON[_0x41a744(0x4e2)](_0x81b19a)),null;}const _0x2b2625=_0x81b19a[_0x41a744(0x746)][0x0][_0x41a744(0xc75)][_0x41a744(0x770)][0x0][_0x41a744(0xbaa)];if(_0xbcac72){let _0x3434f6=_0x2b2625;if(_0x3434f6['startsWith'](_0x41a744(0x378)))_0x3434f6=_0x3434f6['substring'](0x7,_0x3434f6[_0x41a744(0xab1)]-0x3)[_0x41a744(0x1df)]();else _0x3434f6[_0x41a744(0x88f)](_0x41a744(0x9cb))&&(_0x3434f6=_0x3434f6['substring'](0x3,_0x3434f6[_0x41a744(0xab1)]-0x3)[_0x41a744(0x1df)]());let _0x5d1391=JSON[_0x41a744(0x195)](_0x3434f6);if(_0x38f89d){if(_0x2a17d8!==null){}else currentQuizData=_0x5d1391,displayGeneratedQuiz(currentQuizData,_0x5c0e23,_0x4f5785);}return _0x5d1391;}else return _0x2b2625;}catch(_0x327ed6){console['error'](_0x41a744(0xc0b),_0x327ed6),showMessage(_0x41a744(0x88d)+_0x327ed6['message']);_0x38f89d&&(_0x41b321[_0x41a744(0xcd8)]=_0x41a744(0xccf));throw _0x327ed6;}finally{_0x965166[_0x41a744(0x517)]['add'](_0x41a744(0x44c)),document[_0x41a744(0x2bc)](_0x41a744(0x874))[_0x41a744(0x8ab)]=![],document[_0x41a744(0x2bc)](_0x41a744(0x3ac))[_0x41a744(0x8ab)]=![],document[_0x41a744(0x2bc)](_0x41a744(0x294))[_0x41a744(0x8ab)]=![];if(_0x2c8248)_0x2c8248[_0x41a744(0x8ab)]=![];if(_0x4a2151)_0x4a2151[_0x41a744(0x8ab)]=![];if(_0x257dc3)_0x257dc3[_0x41a744(0x8ab)]=![];}}function exitFullscreen(){const _0x56c44d=_0x1f917e;if(document[_0x56c44d(0xd33)])document[_0x56c44d(0xd33)]()[_0x56c44d(0x9e5)](_0x22775e=>console[_0x56c44d(0x512)](_0x22775e));else{if(document[_0x56c44d(0x4de)])document[_0x56c44d(0x4de)]();else document[_0x56c44d(0x424)]&&document[_0x56c44d(0x424)]();}}function enterFullscreen(){const _0x53aee7=_0x1f917e,_0x2aa695=document['documentElement'];if(_0x2aa695[_0x53aee7(0x875)])_0x2aa695['requestFullscreen']()['catch'](_0xb59f90=>{const _0x253dae=_0x53aee7;console[_0x253dae(0x512)](_0x253dae(0x47f)+_0xb59f90[_0x253dae(0xaf3)]+'\x20('+_0xb59f90['name']+')');});else{if(_0x2aa695['webkitRequestFullscreen'])_0x2aa695[_0x53aee7(0x4a5)]();else _0x2aa695['msRequestFullscreen']&&_0x2aa695['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x44c801=_0x1f917e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x44c801(0xcc1),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x44c801(0xc43)+maxCheatAttempts+_0x44c801(0xd26)),document[_0x44c801(0x2bc)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x44c801(0xc34),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x1ba8ae=_0x1f917e;if(currentMode===_0x1ba8ae(0xd17)||!isQuizActive)return;if(document[_0x1ba8ae(0xb04)]===_0x1ba8ae(0x44c))handleCheatingEvent();else document[_0x1ba8ae(0xb04)]==='visible'&&(console[_0x1ba8ae(0x16e)](_0x1ba8ae(0xc0c)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3aba05=_0x1f917e;if(currentMode===_0x3aba05(0xd17)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x1a5738,_0x194c45=null,_0x131e4c=null){const _0x221394=_0x1f917e,_0x4a3103=document[_0x221394(0x2bc)](_0x221394(0x613));let _0x2abf01=_0x221394(0x2b6)+_0x1a5738[_0x221394(0x533)]+'</h3>';_0x1a5738[_0x221394(0x320)][_0x221394(0x229)]((_0x2cb626,_0x969d86)=>{const _0x34ee6e=_0x221394;!_0x2cb626['id']&&(_0x2cb626['id']='q_'+Date[_0x34ee6e(0x58e)]()+'_'+_0x969d86);const _0x15be29=_0x2cb626[_0x34ee6e(0x789)]||_0x1a5738[_0x34ee6e(0x13d)];_0x2abf01+=_0x34ee6e(0xb4b)+_0x969d86+_0x34ee6e(0xcf7)+_0x969d86+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x969d86+_0x34ee6e(0x9e0);switch(_0x15be29){case _0x34ee6e(0x4c9):_0x2abf01+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x969d86+'\x22>'+(_0x969d86+0x1)+'.\x20'+_0x2cb626[_0x34ee6e(0x629)]+_0x34ee6e(0x51d);_0x2cb626[_0x34ee6e(0x679)]&&(_0x2abf01+='<div\x20id=\x22q-image-container-'+_0x969d86+_0x34ee6e(0x9a9)+_0x2cb626[_0x34ee6e(0x679)]+_0x34ee6e(0xa8a));_0x2abf01+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x969d86+'\x22>'+_0x2cb626[_0x34ee6e(0xb73)]+_0x34ee6e(0x71c),_0x2abf01+=_0x34ee6e(0x77c)+_0x969d86+'\x22>'+_0x2cb626[_0x34ee6e(0x557)]+_0x34ee6e(0x71c);break;case _0x34ee6e(0x48c):_0x2abf01+=_0x34ee6e(0xc5c)+_0x969d86+'\x22>'+(_0x969d86+0x1)+'.\x20'+_0x2cb626['questionText']+'</p>';_0x2cb626[_0x34ee6e(0x679)]&&(_0x2abf01+='<div\x20id=\x22q-image-container-'+_0x969d86+_0x34ee6e(0x9a9)+_0x2cb626[_0x34ee6e(0x679)]+'</div>');_0x2abf01+=_0x34ee6e(0x32c)+_0x969d86+'\x22>'+_0x2cb626['idealAnswer']+_0x34ee6e(0x71c),_0x2abf01+=_0x34ee6e(0x77c)+_0x969d86+'\x22>'+_0x2cb626['explanation']+_0x34ee6e(0x71c);break;case'true_false':_0x2abf01+=_0x34ee6e(0xc5c)+_0x969d86+'\x22>'+(_0x969d86+0x1)+'.\x20'+_0x2cb626['questionText']+'</p>';_0x2cb626[_0x34ee6e(0x679)]&&(_0x2abf01+=_0x34ee6e(0xa17)+_0x969d86+_0x34ee6e(0x9a9)+_0x2cb626['imageCode']+'</div>');_0x2abf01+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2cb626[_0x34ee6e(0x9fa)]===!![]?_0x34ee6e(0xb6b):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2cb626[_0x34ee6e(0x9fa)]===![]?_0x34ee6e(0xb6b):'')+_0x34ee6e(0xc4e),_0x2abf01+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x969d86+'\x22>'+_0x2cb626[_0x34ee6e(0x557)]+_0x34ee6e(0x71c);break;case'fill_in_the_blank':case _0x34ee6e(0x29d):default:_0x2abf01+=_0x34ee6e(0xc5c)+_0x969d86+'\x22>'+(_0x969d86+0x1)+'.\x20'+_0x2cb626[_0x34ee6e(0x551)]+'</p>';_0x2cb626[_0x34ee6e(0x679)]&&(_0x2abf01+=_0x34ee6e(0xa17)+_0x969d86+_0x34ee6e(0x9a9)+_0x2cb626[_0x34ee6e(0x679)]+'</div>');_0x2abf01+=_0x34ee6e(0x8c5)+_0x969d86+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2cb626[_0x34ee6e(0xae7)]||[])[_0x34ee6e(0x618)]((_0x4e53b5,_0x2b2c50)=>_0x34ee6e(0x407)+(_0x2b2c50===_0x2cb626[_0x34ee6e(0x16b)]?_0x34ee6e(0xb6b):'')+'\x22>'+_0x4e53b5+_0x34ee6e(0x8b4))[_0x34ee6e(0xd29)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x2abf01+=_0x34ee6e(0x77c)+_0x969d86+'\x22>'+_0x2cb626['explanation']+_0x34ee6e(0x71c);break;}_0x2abf01+=_0x34ee6e(0xa8a);}),_0x2abf01+=_0x221394(0xd24),_0x4a3103['innerHTML']=_0x2abf01,document[_0x221394(0x362)](_0x221394(0xb9f))['forEach'](_0x522698=>_0x522698[_0x221394(0x8de)](_0x221394(0xc20),handleEditQuestion)),document['querySelectorAll'](_0x221394(0x69d))[_0x221394(0x229)](_0x178748=>_0x178748['addEventListener'](_0x221394(0xc20),handleRegenerateQuestion)),document[_0x221394(0x2bc)](_0x221394(0xcdb))['addEventListener'](_0x221394(0xc20),exportQuizAsWorksheetPDF),document[_0x221394(0x2bc)](_0x221394(0xb07))[_0x221394(0x8de)]('click',handleVerifyAnswers);const _0x473b2d=document[_0x221394(0x2bc)]('save-quiz-btn');if(_0x473b2d){const _0xdc1613=_0x194c45||currentProjectId;_0x473b2d[_0x221394(0x8de)](_0x221394(0xc20),()=>saveQuiz(_0xdc1613,_0x131e4c));}if(window[_0x221394(0x13e)])window['MathJax']['typesetPromise']([_0x4a3103]);}function handleRegenerateQuestion(_0x229e9e){const _0x3ea098=_0x1f917e,_0x293475=_0x229e9e['currentTarget'][_0x3ea098(0x4e3)][_0x3ea098(0x8b1)],_0x3c3c36=currentQuizData[_0x3ea098(0x533)];showMessage(_0x3ea098(0x27f)+(parseInt(_0x293475)+0x1)+'\x20ใหม่...'),generateQuiz(_0x3c3c36,null,parseInt(_0x293475));}function getPointerPosition(_0x1f5caf,_0x5f33b1){const _0x7d82c8=_0x1f917e,_0x2124cf=_0x1f5caf[_0x7d82c8(0x9d2)]();let _0x101648,_0x570d2f;return _0x5f33b1[_0x7d82c8(0x584)]&&_0x5f33b1[_0x7d82c8(0x584)][_0x7d82c8(0xab1)]>0x0?(_0x101648=_0x5f33b1[_0x7d82c8(0x584)][0x0][_0x7d82c8(0x88b)],_0x570d2f=_0x5f33b1['touches'][0x0]['clientY']):(_0x101648=_0x5f33b1[_0x7d82c8(0x88b)],_0x570d2f=_0x5f33b1['clientY']),{'x':(_0x101648-_0x2124cf['e'])/_0x2124cf['a'],'y':(_0x570d2f-_0x2124cf['f'])/_0x2124cf['d']};}function startDrag(_0x3c8825){const _0xcab1a9=_0x1f917e;_0x3c8825['type']===_0xcab1a9(0x486)&&_0x3c8825[_0xcab1a9(0x9f2)]();const _0x1dddf5=_0x3c8825[_0xcab1a9(0x97d)][_0xcab1a9(0x634)](_0xcab1a9(0x3c7));if(_0x1dddf5){draggedSvgElement=_0x1dddf5;const _0x31bfa2=draggedSvgElement['ownerSVGElement'],_0x173831=getPointerPosition(_0x31bfa2,_0x3c8825);svgOffset['x']=_0x173831['x']-parseFloat(draggedSvgElement[_0xcab1a9(0xc89)](null,'x')),svgOffset['y']=_0x173831['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x3e5b42,_0x13021f){const _0x4747c4=_0x1f917e,_0x3476f0={};if(_0x13021f[_0x4747c4(0xab1)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2b1bab=[..._0x13021f][_0x4747c4(0x817)]((_0x16cf6f,_0x57a905)=>{const _0x187d2b=_0x4747c4,_0x39581d=_0x57a905[_0x187d2b(0x2b2)]-_0x16cf6f[_0x187d2b(0x2b2)];if(_0x39581d!==0x0)return _0x39581d;const _0x5039c7=_0x16cf6f[_0x187d2b(0xb4e)]?.[_0x187d2b(0xab1)]||0x1,_0x21e507=_0x57a905[_0x187d2b(0xb4e)]?.[_0x187d2b(0xab1)]||0x1,_0x38d641=_0x5039c7-_0x21e507;if(_0x38d641!==0x0)return _0x38d641;const _0x49a92c=new Date(_0x16cf6f[_0x187d2b(0xc5f)]),_0x36c89b=new Date(_0x57a905['latestSubmittedAt']),_0x36b37d=_0x49a92c-_0x36c89b;if(_0x36b37d!==0x0)return _0x36b37d;return _0x16cf6f[_0x187d2b(0xbcf)][_0x187d2b(0x6e3)](_0x57a905['studentName'],'th');}),_0x47b6d0=_0x2b1bab[_0x4747c4(0xab1)],_0x51d9a4=Math[_0x4747c4(0x20e)](0x1,Math['floor'](_0x47b6d0*0.33));if(_0x51d9a4===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xc27db1=_0x2b1bab['slice'](0x0,_0x51d9a4),_0x3770d8=_0x2b1bab['slice'](-_0x51d9a4),_0xe1fd40=_0xc27db1[_0x4747c4(0x618)](_0x4311be=>_0x4311be[_0x4747c4(0xbcf)]),_0x11c816=_0x3770d8[_0x4747c4(0x618)](_0x681c13=>_0x681c13[_0x4747c4(0xbcf)]);return _0x3e5b42['questions'][_0x4747c4(0x229)]((_0x2e12cc,_0x4e0937)=>{const _0x215aee=_0x4747c4,_0x24c4ab=_0x2e12cc[_0x215aee(0x629)]||_0x2e12cc[_0x215aee(0x551)];let _0x4610a1=0x0,_0x4d19d0=0x0,_0xc2e975=0x0;const _0x2fb40b=[],_0x4bd6fd=[];_0xc27db1[_0x215aee(0x229)](_0x392f21=>{const _0xeb7cfd=_0x215aee,_0x18e445=_0x392f21['attempts'][_0x392f21[_0xeb7cfd(0xb4e)][_0xeb7cfd(0xab1)]-0x1],_0x4c3d54=_0x18e445['answers'][_0xeb7cfd(0xaa2)](_0x472960=>_0x472960[_0xeb7cfd(0x6ca)]===_0x24c4ab);_0x2fb40b[_0xeb7cfd(0xad2)]({'name':_0x392f21[_0xeb7cfd(0xbcf)],'isCorrect':_0x4c3d54?_0x4c3d54['isCorrect']:![]}),_0x4c3d54&&_0x4c3d54[_0xeb7cfd(0x2a1)]&&_0x4d19d0++;}),_0x3770d8['forEach'](_0x22fd6c=>{const _0x1978ce=_0x215aee,_0x3de976=_0x22fd6c[_0x1978ce(0xb4e)][_0x22fd6c[_0x1978ce(0xb4e)][_0x1978ce(0xab1)]-0x1],_0x4a23f3=_0x3de976[_0x1978ce(0x5b7)][_0x1978ce(0xaa2)](_0xec84b7=>_0xec84b7[_0x1978ce(0x6ca)]===_0x24c4ab);_0x4bd6fd['push']({'name':_0x22fd6c[_0x1978ce(0xbcf)],'isCorrect':_0x4a23f3?_0x4a23f3[_0x1978ce(0x2a1)]:![]}),_0x4a23f3&&_0x4a23f3[_0x1978ce(0x2a1)]&&_0xc2e975++;}),_0x13021f[_0x215aee(0x229)](_0x573187=>{const _0x35af91=_0x215aee,_0x23232d=_0x573187[_0x35af91(0xb4e)][_0x573187[_0x35af91(0xb4e)][_0x35af91(0xab1)]-0x1],_0x171c0b=_0x23232d[_0x35af91(0x5b7)][_0x35af91(0xaa2)](_0x154227=>_0x154227['originalQuestionText']===_0x24c4ab);_0x171c0b&&_0x171c0b[_0x35af91(0x2a1)]&&_0x4610a1++;});const _0x23a648=_0x47b6d0>0x0?_0x4610a1/_0x47b6d0:0x0,_0x4ecdd4=_0x51d9a4>0x0?_0x4d19d0/_0x51d9a4-_0xc2e975/_0x51d9a4:0x0;_0x3476f0[_0x4e0937]={'p':_0x23a648,'r':_0x4ecdd4,'upperGroupResponders':_0x2fb40b,'lowerGroupResponders':_0x4bd6fd};}),{'perQuestionStats':_0x3476f0,'overallGroups':{'upperGroupNames':_0xe1fd40,'lowerGroupNames':_0x11c816}};}function drag(_0x3fac73){const _0x21840c=_0x1f917e;if(draggedSvgElement){_0x3fac73[_0x21840c(0x9f2)]();const _0x27ff29=draggedSvgElement[_0x21840c(0x9ed)],_0x2dc316=getPointerPosition(_0x27ff29,_0x3fac73),_0x14fa5d=_0x27ff29[_0x21840c(0x3b0)][_0x21840c(0x3b2)];let _0x1d989c=_0x2dc316['x']-svgOffset['x'],_0x7ab094=_0x2dc316['y']-svgOffset['y'];const _0x51b391=draggedSvgElement[_0x21840c(0x492)]();_0x1d989c=Math[_0x21840c(0x20e)](_0x14fa5d['x'],Math[_0x21840c(0xc5b)](_0x1d989c,_0x14fa5d['x']+_0x14fa5d[_0x21840c(0x966)]-_0x51b391['width'])),_0x7ab094=Math['max'](_0x14fa5d['y'],Math[_0x21840c(0xc5b)](_0x7ab094,_0x14fa5d['y']+_0x14fa5d[_0x21840c(0x8e4)]-_0x51b391[_0x21840c(0x8e4)])),draggedSvgElement[_0x21840c(0x3bd)](null,'x',_0x1d989c),draggedSvgElement[_0x21840c(0x3bd)](null,'y',_0x7ab094);}}function endDrag(_0x12773a){draggedSvgElement=null;}function handleSvgEditClick(_0x51d545){const _0x1f22e6=_0x1f917e;if(_0x51d545[_0x1f22e6(0x97d)][_0x1f22e6(0x517)][_0x1f22e6(0x7ab)](_0x1f22e6(0xc45))){const _0x20756d=_0x51d545[_0x1f22e6(0x97d)]['dataset'][_0x1f22e6(0xb2d)],_0x27663b=_0x51d545['currentTarget'],_0x56f959=_0x27663b[_0x1f22e6(0x22d)]('#'+_0x20756d);_0x56f959&&_0x56f959['remove'](),_0x51d545[_0x1f22e6(0x97d)][_0x1f22e6(0x1b5)]();}}function handleEditQuestion(_0xeb6b63){const _0x4dc857=_0x1f917e,_0x286f7e=_0xeb6b63[_0x4dc857(0xa9d)],_0x3a85da=_0x286f7e['dataset'][_0x4dc857(0x8b1)],_0x19fa2f=currentQuizData[_0x4dc857(0x320)][_0x3a85da],_0x3eb8d2=document['getElementById']('q-text-'+_0x3a85da),_0x3eccc1=document[_0x4dc857(0x2bc)](_0x4dc857(0xcc9)+_0x3a85da),_0x57b4de=document[_0x4dc857(0x2bc)](_0x4dc857(0x334)+_0x3a85da);if(_0x286f7e['innerHTML'][_0x4dc857(0x42a)](_0x4dc857(0xb39))){_0x286f7e['innerHTML']=_0x4dc857(0x30f),_0x286f7e[_0x4dc857(0x5d3)]='บันทึกการแก้ไข';if(_0x3eb8d2)_0x3eb8d2[_0x4dc857(0x41c)]=!![];if(_0x3eccc1)_0x3eccc1['contentEditable']=!![];if(_0x57b4de){const _0x530453=_0x57b4de['querySelector']('svg');if(_0x530453){const _0x51b44e=_0x530453['querySelectorAll'](_0x4dc857(0xbaa));_0x51b44e[_0x4dc857(0x229)]((_0x583707,_0x58284b)=>{const _0x1b36a2=_0x4dc857,_0x47cba5='editable-text-'+_0x3a85da+'-'+_0x58284b;_0x583707['id']=_0x47cba5,_0x583707[_0x1b36a2(0x517)][_0x1b36a2(0x546)](_0x1b36a2(0x4f6)),_0x583707['style']['cursor']=_0x1b36a2(0x6d9);const _0x2a992a=document[_0x1b36a2(0x3ca)](_0x1b36a2(0xb01),_0x1b36a2(0x527)),_0x1f7779=_0x583707[_0x1b36a2(0x492)]();_0x2a992a[_0x1b36a2(0x249)]('cx',String(_0x1f7779['x']+_0x1f7779[_0x1b36a2(0x966)]+0x5)),_0x2a992a['setAttribute']('cy',String(_0x1f7779['y']+_0x1f7779[_0x1b36a2(0x8e4)]/0x2-0x5)),_0x2a992a[_0x1b36a2(0x249)]('r','5'),_0x2a992a[_0x1b36a2(0x249)](_0x1b36a2(0x1d4),_0x1b36a2(0xb95)),_0x2a992a[_0x1b36a2(0x249)](_0x1b36a2(0x823),'delete-svg-btn'),_0x2a992a['dataset'][_0x1b36a2(0xb2d)]=_0x47cba5,_0x583707[_0x1b36a2(0xc57)](_0x2a992a);}),_0x530453[_0x4dc857(0x8de)](_0x4dc857(0xd0f),startDrag),_0x530453[_0x4dc857(0x8de)]('mousemove',drag),_0x530453[_0x4dc857(0x8de)](_0x4dc857(0xc18),endDrag),_0x530453['addEventListener'](_0x4dc857(0x3ad),endDrag),_0x530453[_0x4dc857(0x8de)](_0x4dc857(0x486),startDrag,{'passive':![]}),_0x530453[_0x4dc857(0x8de)](_0x4dc857(0x5ec),drag,{'passive':![]}),_0x530453[_0x4dc857(0x8de)]('touchend',endDrag),_0x530453['addEventListener'](_0x4dc857(0xd08),endDrag),_0x530453[_0x4dc857(0x8de)]('click',handleSvgEditClick);}}if(_0x3eb8d2)_0x3eb8d2[_0x4dc857(0x274)]();}else{_0x286f7e[_0x4dc857(0xcd8)]=_0x4dc857(0x2e3),_0x286f7e[_0x4dc857(0x5d3)]=_0x4dc857(0x66f);if(_0x3eb8d2){_0x3eb8d2[_0x4dc857(0x41c)]=![];const _0x3432cb=_0x19fa2f[_0x4dc857(0x789)]||currentQuizData['quizType'];_0x3432cb===_0x4dc857(0x4c9)?_0x19fa2f['stem']=_0x3eb8d2[_0x4dc857(0x35f)]['substring'](_0x3eb8d2['innerText'][_0x4dc857(0xb3b)]('.')+0x2)[_0x4dc857(0x1df)]():_0x19fa2f['questionText']=_0x3eb8d2[_0x4dc857(0x35f)]['substring'](_0x3eb8d2[_0x4dc857(0x35f)][_0x4dc857(0xb3b)]('.')+0x2)[_0x4dc857(0x1df)]();}_0x3eccc1&&(_0x3eccc1['contentEditable']=![],_0x19fa2f['explanation']=_0x3eccc1['innerText']);if(_0x57b4de){const _0x125ae9=_0x57b4de[_0x4dc857(0x22d)](_0x4dc857(0xa19));if(_0x125ae9){const _0x529f9f=_0x125ae9['cloneNode'](!![]);_0x529f9f[_0x4dc857(0x362)]('.delete-svg-btn')[_0x4dc857(0x229)](_0x30fc55=>_0x30fc55[_0x4dc857(0x1b5)]()),_0x529f9f[_0x4dc857(0x362)](_0x4dc857(0x3c7))[_0x4dc857(0x229)](_0xe3f3a=>{const _0x13f143=_0x4dc857;_0xe3f3a[_0x13f143(0x517)][_0x13f143(0x1b5)](_0x13f143(0x4f6)),_0xe3f3a['style'][_0x13f143(0x616)]='default',_0xe3f3a[_0x13f143(0x6c0)]('id');}),_0x19fa2f[_0x4dc857(0x679)]=_0x529f9f['outerHTML'],_0x125ae9[_0x4dc857(0xcab)](_0x4dc857(0xd0f),startDrag),_0x125ae9[_0x4dc857(0xcab)](_0x4dc857(0x53e),drag),_0x125ae9[_0x4dc857(0xcab)](_0x4dc857(0xc18),endDrag),_0x125ae9[_0x4dc857(0xcab)]('mouseleave',endDrag),_0x125ae9['removeEventListener'](_0x4dc857(0x486),startDrag),_0x125ae9['removeEventListener'](_0x4dc857(0x5ec),drag),_0x125ae9['removeEventListener']('touchend',endDrag),_0x125ae9[_0x4dc857(0xcab)](_0x4dc857(0xd08),endDrag),_0x125ae9[_0x4dc857(0xcab)](_0x4dc857(0xc20),handleSvgEditClick),_0x125ae9[_0x4dc857(0x362)](_0x4dc857(0x4ce))[_0x4dc857(0x229)](_0x131014=>_0x131014[_0x4dc857(0x1b5)]()),_0x125ae9[_0x4dc857(0x362)](_0x4dc857(0x3c7))[_0x4dc857(0x229)](_0x565da7=>{const _0x29e797=_0x4dc857;_0x565da7[_0x29e797(0x517)][_0x29e797(0x1b5)](_0x29e797(0x4f6)),_0x565da7[_0x29e797(0x60e)][_0x29e797(0x616)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1aef6d){const _0x8d4b1a=_0x1f917e,_0x9041ec=document[_0x8d4b1a(0x2bc)](_0x8d4b1a(0x5a7)),_0x4d06fd=document['getElementById'](_0x8d4b1a(0xbec));_0x4d06fd[_0x8d4b1a(0xcd8)]=_0x8d4b1a(0x415),_0x9041ec[_0x8d4b1a(0x517)][_0x8d4b1a(0x1b5)](_0x8d4b1a(0x44c));try{const _0x1f5f01=doc(db,'artifacts/'+appId+_0x8d4b1a(0xcbc),_0x1aef6d),_0x43c2b9=await getDoc(_0x1f5f01);if(!_0x43c2b9[_0x8d4b1a(0x485)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x1aef6d,..._0x43c2b9[_0x8d4b1a(0x923)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3a8c5e){console['error'](_0x8d4b1a(0x275),_0x3a8c5e),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x9041ec[_0x8d4b1a(0x517)][_0x8d4b1a(0x546)](_0x8d4b1a(0x44c));}}function renderQuizEditor(_0x57309e){const _0x3c3150=_0x1f917e;document[_0x3c3150(0x2bc)]('editor-quiz-topic')[_0x3c3150(0xa21)]=_0x57309e[_0x3c3150(0x533)];const _0x592910=document[_0x3c3150(0x2bc)](_0x3c3150(0xbec));let _0x3872e6=_0x57309e[_0x3c3150(0x320)]['map']((_0x56c18a,_0x17786c)=>{const _0x498eb=_0x3c3150;let _0x52f398='';const _0x5677ce=_0x56c18a[_0x498eb(0x789)]||_0x57309e[_0x498eb(0x13d)];switch(_0x5677ce){case _0x498eb(0x29d):const _0x5bc7e7=(_0x56c18a['options']||[])['map']((_0x3b2bb1,_0x53863f)=>_0x498eb(0x888)+_0x17786c+'\x22\x20value=\x22'+_0x53863f+'\x22\x20'+(_0x53863f===_0x56c18a[_0x498eb(0x16b)]?_0x498eb(0x6b7):'')+_0x498eb(0xb8e)+_0x3b2bb1+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x52f398='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x5bc7e7+_0x498eb(0xa87);break;case _0x498eb(0x48c):_0x52f398=_0x498eb(0x706)+(_0x56c18a[_0x498eb(0x740)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x498eb(0x475):_0x52f398=_0x498eb(0x6a9)+_0x17786c+'\x22\x20value=\x22true\x22\x20'+(_0x56c18a['correctAnswer']===!![]?_0x498eb(0x6b7):'')+_0x498eb(0xb37)+_0x17786c+'\x22\x20value=\x22false\x22\x20'+(_0x56c18a[_0x498eb(0x9fa)]===![]?_0x498eb(0x6b7):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x498eb(0x4c9):_0x52f398=_0x498eb(0x202)+(_0x56c18a['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x5d572d=_0x56c18a[_0x498eb(0x551)]||_0x56c18a[_0x498eb(0x629)]||'';return _0x5d572d=_0x5d572d[_0x498eb(0x794)](/<br\s*\/?>/gi,'\x0a'),_0x498eb(0x14d)+_0x17786c+_0x498eb(0x532)+_0x5677ce+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x17786c+0x1)+'\x20('+_0x5677ce+_0x498eb(0x2cf)+_0x5d572d+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x52f398+'</div>\x0a</div>\x0a';})[_0x3c3150(0xd29)]('');_0x592910[_0x3c3150(0xcd8)]=_0x3872e6;const _0x1f2661=_0x3c3150(0x464);_0x592910[_0x3c3150(0x3f4)](_0x3c3150(0x77d),_0x1f2661),_0x592910[_0x3c3150(0x362)](_0x3c3150(0x72b))[_0x3c3150(0x229)](_0x70d441=>{const _0x1bc6c5=_0x3c3150;_0x70d441[_0x1bc6c5(0x60e)][_0x1bc6c5(0x65d)]=_0x1bc6c5(0x44c),_0x70d441[_0x1bc6c5(0x60e)][_0x1bc6c5(0x9e3)]=_0x1bc6c5(0x473),_0x70d441[_0x1bc6c5(0x27c)]=0x4;const _0x3f5aa8=()=>{const _0x1c3f2f=_0x1bc6c5;_0x70d441[_0x1c3f2f(0x60e)][_0x1c3f2f(0x8e4)]=_0x1c3f2f(0x6b6),_0x70d441[_0x1c3f2f(0x60e)]['height']=_0x70d441['scrollHeight']+'px';};_0x70d441[_0x1bc6c5(0x8de)](_0x1bc6c5(0xbf1),_0x3f5aa8),_0x3f5aa8();}),_0x592910[_0x3c3150(0x362)](_0x3c3150(0x26a))[_0x3c3150(0x229)](_0x21521c=>{const _0x3e0c04=_0x3c3150;_0x21521c[_0x3e0c04(0x8de)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x15ee15){const _0x143652=_0x1f917e;if(!currentEditingQuizData||!currentEditingQuizData[_0x143652(0x320)][_0x15ee15])return;const _0x46ecfc=currentEditingQuizData[_0x143652(0x320)][_0x15ee15]['questionText']||currentEditingQuizData[_0x143652(0x320)][_0x15ee15][_0x143652(0x629)];showConfirmation(_0x143652(0x868)+(_0x15ee15+0x1)+_0x143652(0x973)+_0x46ecfc[_0x143652(0xbb5)](0x0,0x14)+_0x143652(0x7e2),()=>{const _0x212eca=_0x143652;currentEditingQuizData[_0x212eca(0x320)]['splice'](_0x15ee15,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x212eca(0x51b));});}function handleAddQuestionInEditor(){const _0x3b34a6=_0x1f917e;if(!currentEditingQuizData)return;const _0x1cd129={'id':'q_'+Date['now']()+_0x3b34a6(0x2a9),'questionType':_0x3b34a6(0x29d),'questionText':_0x3b34a6(0x141),'options':[_0x3b34a6(0x193),_0x3b34a6(0x198),'ตัวเลือก\x20ค',_0x3b34a6(0xc4f)],'correctAnswerIndex':0x0,'explanation':_0x3b34a6(0x980)};currentEditingQuizData[_0x3b34a6(0x320)][_0x3b34a6(0xad2)](_0x1cd129),renderQuizEditor(currentEditingQuizData);const _0x53f4c7=document[_0x3b34a6(0x22d)](_0x3b34a6(0x166));_0x53f4c7&&(_0x53f4c7['scrollIntoView']({'behavior':_0x3b34a6(0x172),'block':'center'}),_0x53f4c7[_0x3b34a6(0x22d)](_0x3b34a6(0x93c))[_0x3b34a6(0x274)]());}async function handleAiFixQuestion(_0xa251e3){const _0x5f2425=_0x1f917e,_0x503e21=_0xa251e3[_0x5f2425(0xa9d)],_0x4e07a9=_0x503e21['closest']('.question-editor-item');if(!_0x4e07a9)return;const _0x34bf57=parseInt(_0x4e07a9[_0x5f2425(0x4e3)]['qIndex'],0xa);if(isNaN(_0x34bf57)||!currentEditingQuizData['questions'][_0x34bf57]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x5927ce=currentEditingQuizData[_0x5f2425(0x320)][_0x34bf57];_0x503e21[_0x5f2425(0xcd8)]=_0x5f2425(0xa41),_0x503e21[_0x5f2425(0x8ab)]=!![];const _0x41d746=_0x5f2425(0x40a)+JSON[_0x5f2425(0x4e2)](_0x5927ce)+_0x5f2425(0x702);let _0x14171a;const _0x31e07b=_0x5927ce[_0x5f2425(0x789)]||currentEditingQuizData[_0x5f2425(0x13d)];switch(_0x31e07b){case _0x5f2425(0x48c):_0x14171a={'type':_0x5f2425(0x60a),'properties':{'questionText':{'type':_0x5f2425(0xab8)},'idealAnswer':{'type':_0x5f2425(0xab8)},'explanation':{'type':_0x5f2425(0xab8)},'imageCode':{'type':'STRING'}},'required':[_0x5f2425(0x551),_0x5f2425(0x740),_0x5f2425(0x557)]};break;case _0x5f2425(0x29d):default:_0x14171a={'type':_0x5f2425(0x60a),'properties':{'questionText':{'type':_0x5f2425(0xab8)},'options':{'type':'ARRAY','items':{'type':_0x5f2425(0xab8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5f2425(0xab8)},'imageCode':{'type':_0x5f2425(0xab8)}},'required':[_0x5f2425(0x551),_0x5f2425(0xae7),_0x5f2425(0x16b),'explanation']};break;}try{let _0x15a5df=await callAnalysisApi(_0x41d746,_0x14171a);_0x15a5df['options']&&Array[_0x5f2425(0xb7f)](_0x15a5df[_0x5f2425(0xae7)])&&(_0x15a5df[_0x5f2425(0xae7)]=_0x15a5df[_0x5f2425(0xae7)][_0x5f2425(0x618)](_0x318b3a=>typeof _0x318b3a==='string'?_0x318b3a['replace'](/S(\s*[\d_]+?\s*)S/g,_0x5f2425(0x445)):_0x318b3a)),_0x5927ce['imageCode']&&_0x5927ce['imageCode'][_0x5f2425(0x42a)]('fix\x20the\x20option')&&(_0x15a5df[_0x5f2425(0x679)]=''),currentEditingQuizData[_0x5f2425(0x320)][_0x34bf57]={..._0x5927ce,..._0x15a5df},renderQuizEditor(currentEditingQuizData),showMessage(_0x5f2425(0x1a2));}catch(_0xe86efc){console[_0x5f2425(0x512)](_0x5f2425(0x272),_0xe86efc),showMessage(_0x5f2425(0x270)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x518495=_0x1f917e,_0x3acdac=document[_0x518495(0x2bc)](_0x518495(0x291));_0x3acdac[_0x518495(0x8ab)]=!![],_0x3acdac[_0x518495(0xcd8)]=_0x518495(0x8b8);try{const _0x2fbdc5=document[_0x518495(0x2bc)](_0x518495(0x7f4))['value'],_0x10c15e=document[_0x518495(0x362)](_0x518495(0x7d6));let _0x4c5142=[];const _0x538ea7=Array['from'](_0x10c15e)[_0x518495(0x618)]((_0x3f9a3c,_0x279080)=>{const _0x286f5b=_0x518495,_0x1a9262=_0x3f9a3c[_0x286f5b(0x4e3)][_0x286f5b(0x599)],_0x51cacd=_0x3f9a3c[_0x286f5b(0x22d)](_0x286f5b(0x93c))[_0x286f5b(0xa21)][_0x286f5b(0x794)](/\n/g,_0x286f5b(0x6d1));let _0xf92c38={'questionType':_0x1a9262};const _0x5d1991=currentEditingQuizData[_0x286f5b(0x320)][_0x279080];switch(_0x1a9262){case _0x286f5b(0x29d):_0xf92c38['questionText']=_0x51cacd;const _0x4f8caa=_0x3f9a3c[_0x286f5b(0x362)](_0x286f5b(0x6e1));_0xf92c38[_0x286f5b(0xae7)]=Array[_0x286f5b(0xaf4)](_0x4f8caa)[_0x286f5b(0x618)](_0x17a425=>_0x17a425['value']);const _0x3a247d=_0x3f9a3c[_0x286f5b(0x22d)](_0x286f5b(0x8e3));_0xf92c38['correctAnswerIndex']=_0x3a247d?parseInt(_0x3a247d[_0x286f5b(0xa21)]):0x0;break;case _0x286f5b(0x48c):_0xf92c38[_0x286f5b(0x551)]=_0x51cacd,_0xf92c38['idealAnswer']=_0x3f9a3c['querySelector'](_0x286f5b(0xa37))[_0x286f5b(0xa21)];break;case _0x286f5b(0x475):_0xf92c38['questionText']=_0x51cacd;const _0xc8048f=_0x3f9a3c[_0x286f5b(0x22d)](_0x286f5b(0x8e3));_0xf92c38[_0x286f5b(0x9fa)]=_0xc8048f?_0xc8048f[_0x286f5b(0xa21)]===_0x286f5b(0xbf6):!![];break;case _0x286f5b(0x4c9):_0xf92c38[_0x286f5b(0x629)]=_0x51cacd;const _0x317a=_0x3f9a3c[_0x286f5b(0x22d)](_0x286f5b(0x4d0));_0xf92c38['correctResponse']=_0x317a?_0x317a['value']:'',_0x4c5142[_0x286f5b(0xad2)](_0xf92c38[_0x286f5b(0xb73)]);break;default:_0xf92c38[_0x286f5b(0x551)]=_0x51cacd;break;}return{..._0x5d1991,..._0xf92c38};});_0x4c5142[_0x518495(0xab1)]>0x0&&_0x538ea7[_0x518495(0x229)](_0x560ada=>{const _0x1a4ca0=_0x518495;_0x560ada[_0x1a4ca0(0x789)]==='matching_item'&&(_0x560ada[_0x1a4ca0(0x607)]=_0x4c5142);});const _0x516405=currentEditingQuizData['id'],_0x26044c=doc(db,_0x518495(0x366)+appId+_0x518495(0xcbc),_0x516405);await updateDoc(_0x26044c,{'topic':_0x2fbdc5,'questions':_0x538ea7}),document['getElementById'](_0x518495(0x5a7))[_0x518495(0x517)][_0x518495(0x546)]('hidden'),showMessage(_0x518495(0xce5),()=>initiateReGradeProcess(_0x516405));}catch(_0x494330){console[_0x518495(0x512)]('Error\x20saving\x20quiz\x20edits:',_0x494330),showMessage(_0x518495(0x503));}finally{_0x3acdac[_0x518495(0x8ab)]=![],_0x3acdac['innerHTML']=_0x518495(0x376);}}async function initiateReGradeProcess(_0x5f28f6){const _0x2fc2a5=_0x1f917e;showMessage(_0x2fc2a5(0xa6c));try{const _0x5afc88=doc(db,_0x2fc2a5(0x366)+appId+_0x2fc2a5(0xcbc),_0x5f28f6),_0x1910bb=await getDoc(_0x5afc88);if(!_0x1910bb[_0x2fc2a5(0x485)]())throw new Error(_0x2fc2a5(0x827));const _0x39f7e1={'id':_0x5f28f6,..._0x1910bb[_0x2fc2a5(0x923)]()},_0x36430c=collection(db,_0x2fc2a5(0x366)+appId+_0x2fc2a5(0xcbc),_0x5f28f6,_0x2fc2a5(0xab2)),_0x3b124a=await getDocs(_0x36430c);if(_0x3b124a[_0x2fc2a5(0x24d)]){showMessage(_0x2fc2a5(0x1e6));return;}const _0x4d162d=_0x3b124a[_0x2fc2a5(0xac3)][_0x2fc2a5(0x618)](_0x5bcc8b=>reGradeSingleSubmission(_0x5bcc8b,_0x39f7e1));await Promise[_0x2fc2a5(0x8bd)](_0x4d162d);if(_0x39f7e1['projectId']){const _0x20ef52=doc(db,_0x2fc2a5(0x366)+appId+_0x2fc2a5(0x7ad),_0x39f7e1[_0x2fc2a5(0x7f9)]),_0x4db572=await getDoc(_0x20ef52);if(_0x4db572[_0x2fc2a5(0x485)]()&&_0x4db572[_0x2fc2a5(0x923)]()[_0x2fc2a5(0x456)]){const _0x85d518=_0x4db572[_0x2fc2a5(0x923)]()[_0x2fc2a5(0x456)][_0x2fc2a5(0x618)](_0x44228c=>updateStudentProfile(_0x39f7e1['projectId'],_0x44228c));await Promise[_0x2fc2a5(0x8bd)](_0x85d518);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x3b124a[_0x2fc2a5(0xc1b)]+_0x2fc2a5(0x705));}catch(_0x139506){console[_0x2fc2a5(0x512)]('Re-grade\x20process\x20failed:',_0x139506),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x139506[_0x2fc2a5(0xaf3)]);}}async function reGradeSingleSubmission(_0x9ae65,_0x490839){const _0x455105=_0x1f917e,_0x369242=_0x9ae65[_0x455105(0x923)](),_0x5dbf15=_0x369242['studentName'],_0x3448e8=_0x369242[_0x455105(0xb4e)]||[],_0x3de668=[];for(const _0x349c9f of _0x3448e8){let _0x4b9f28=0x0,_0x180ac3=[],_0x42a6f6=0x0;const _0x55a09c=[];for(const _0x4bca34 of _0x349c9f['answers']){let _0xca62ce;_0x4bca34[_0x455105(0xb82)]&&(_0xca62ce=_0x490839['questions'][_0x455105(0xaa2)](_0x2f3f92=>_0x2f3f92['id']===_0x4bca34['questionId']));!_0xca62ce&&_0x4bca34[_0x455105(0x6ca)]&&(_0xca62ce=_0x490839['questions'][_0x455105(0xaa2)](_0x316693=>(_0x316693[_0x455105(0x629)]||_0x316693[_0x455105(0x551)])===_0x4bca34[_0x455105(0x6ca)]));let _0x113b2f=![];if(_0xca62ce){const _0x71e71c=_0xca62ce[_0x455105(0x789)]||_0x490839[_0x455105(0x13d)];switch(_0x71e71c){case _0x455105(0x29d):if(_0xca62ce[_0x455105(0xae7)]&&_0xca62ce[_0x455105(0x16b)]<_0xca62ce['options'][_0x455105(0xab1)]){const _0x543d7b=_0xca62ce['options'][_0xca62ce[_0x455105(0x16b)]];_0x113b2f=_0x4bca34[_0x455105(0x313)]===_0x543d7b;}break;case _0x455105(0x475):const _0x1f79f1=_0x4bca34[_0x455105(0x389)]===!![]||_0x4bca34['answer']===_0x455105(0xbf6);_0x113b2f=_0x1f79f1===_0xca62ce[_0x455105(0x9fa)];break;case _0x455105(0x4c9):_0x113b2f=_0x4bca34[_0x455105(0x389)]===_0xca62ce[_0x455105(0xb73)];break;case _0x455105(0x48c):_0x113b2f=await gradeShortAnswer(_0x4bca34[_0x455105(0x389)],_0xca62ce);break;default:_0x113b2f=_0x4bca34[_0x455105(0x2a1)];break;}}if(_0x113b2f){_0x4b9f28++,_0x42a6f6++;if(_0x42a6f6===0x3)_0x180ac3[_0x455105(0xad2)](BADGES[_0x455105(0x977)]['id']);}else _0x42a6f6=0x0;_0x55a09c[_0x455105(0xad2)]({..._0x4bca34,'isCorrect':_0x113b2f});}let _0x3153bc=_0x4b9f28*0xa;_0x4b9f28===_0x490839[_0x455105(0x320)]['length']&&(_0x3153bc+=0x32,_0x180ac3[_0x455105(0xad2)](BADGES[_0x455105(0x4eb)]['id'])),_0x3de668[_0x455105(0xad2)]({..._0x349c9f,'score':_0x4b9f28,'points':_0x3153bc,'badges':Array[_0x455105(0xaf4)](new Set(_0x180ac3)),'answers':_0x55a09c});}const _0xc0f6b2=_0x3de668[_0x455105(0xab1)]>0x0?_0x3de668[0x0][_0x455105(0xa20)]:0x0,_0x4b4a2a=Math['max'](..._0x3de668[_0x455105(0x618)](_0xc5dd2b=>_0xc5dd2b[_0x455105(0xa20)])),_0xea2176=_0x3de668[_0x455105(0xab1)]>0x0?_0x3de668[_0x3de668['length']-0x1]['score']:0x0,_0x3163b3=_0x3de668[_0x455105(0xab1)]>0x0?_0x3de668[_0x3de668[_0x455105(0xab1)]-0x1]['points']:0x0,_0x553488=doc(db,_0x455105(0x366)+appId+_0x455105(0x9ef)+_0x490839['id']+_0x455105(0x9a3),_0x5dbf15);await updateDoc(_0x553488,{'attempts':_0x3de668,'firstScore':_0xc0f6b2,'bestScore':_0x4b4a2a,'latestScore':_0xea2176,'points':_0x3163b3});}function cleanupQuizOptions(_0x18daa2){const _0x185938=_0x1f917e,_0x472b37=(_0x5e5ee1,_0x2ef23d)=>_0x2ef23d===0x0?_0x5e5ee1:_0x472b37(_0x2ef23d,_0x5e5ee1%_0x2ef23d),_0x40d658=_0x8b376e=>{const _0x30ab57=_0x36ac;if(typeof _0x8b376e!==_0x30ab57(0x99f))return null;_0x8b376e=_0x8b376e[_0x30ab57(0x1df)]();const _0x4bd5c9=_0x8b376e[_0x30ab57(0x9b1)](/[ /]/)['filter'](_0x24ac51=>_0x24ac51!=='');if(_0x4bd5c9[_0x30ab57(0xab1)]===0x3)return parseInt(_0x4bd5c9[0x0])+parseInt(_0x4bd5c9[0x1])/parseInt(_0x4bd5c9[0x2]);else{if(_0x4bd5c9[_0x30ab57(0xab1)]===0x2)return parseInt(_0x4bd5c9[0x0])/parseInt(_0x4bd5c9[0x1]);else{if(_0x4bd5c9[_0x30ab57(0xab1)]===0x1&&!isNaN(_0x4bd5c9[0x0]))return parseFloat(_0x4bd5c9[0x0]);}}return null;},_0x122b1b=_0x100901=>{const _0x51d20b=_0x36ac;if(typeof _0x100901!==_0x51d20b(0x99f))return _0x100901;const _0x2c3801=_0x100901['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2c3801){const _0x8e36b6=parseInt(_0x2c3801[0x1]);let _0x49fc8d=parseInt(_0x2c3801[0x2]),_0x8849a1=parseInt(_0x2c3801[0x3]);const _0x3e72f2=_0x472b37(_0x49fc8d,_0x8849a1);_0x49fc8d/=_0x3e72f2,_0x8849a1/=_0x3e72f2;if(_0x8849a1===0x1)return(_0x8e36b6+_0x49fc8d)['toString']();return _0x8e36b6+'\x20'+_0x49fc8d+'/'+_0x8849a1;}return _0x100901;};return _0x18daa2&&_0x18daa2[_0x185938(0x320)]&&_0x18daa2[_0x185938(0x320)]['forEach'](_0x26cceb=>{const _0x1ce941=_0x185938;if(_0x26cceb['questionType']===_0x1ce941(0x29d)&&_0x26cceb[_0x1ce941(0xae7)]){const _0x4bfcaa=new Map(),_0x4842a2=_0x26cceb['options'][_0x26cceb[_0x1ce941(0x16b)]];_0x26cceb[_0x1ce941(0xae7)][_0x1ce941(0x229)](_0x4b0e12=>{const _0x1c1313=_0x1ce941,_0x46e86c=_0x122b1b(_0x4b0e12),_0x4448ff=_0x40d658(_0x46e86c);_0x4448ff!==null&&!_0x4bfcaa[_0x1c1313(0x646)](_0x4448ff)&&_0x4bfcaa[_0x1c1313(0xb9b)](_0x4448ff,_0x46e86c);}),_0x26cceb[_0x1ce941(0xae7)]=Array[_0x1ce941(0xaf4)](_0x4bfcaa[_0x1ce941(0x631)]());const _0x2bf9d8=_0x26cceb['options'][_0x1ce941(0x17a)](_0x20fad7=>_0x20fad7===_0x122b1b(_0x4842a2));_0x26cceb[_0x1ce941(0x16b)]=_0x2bf9d8!==-0x1?_0x2bf9d8:0x0;}}),_0x18daa2;}function showGameStartConfirmationModal(_0x399bab,_0x46f4d0,_0x6adb2){const _0x342940=_0x1f917e,_0xb8b1b7=document['getElementById']('confirm-game-start-modal');document['getElementById'](_0x342940(0xc15))[_0x342940(0x806)]='เริ่มกิจกรรม:\x20'+_0x6adb2,document['getElementById'](_0x342940(0x341))['value']=_0x399bab,document['getElementById']('game-start-mode')[_0x342940(0xa21)]=_0x46f4d0,document['getElementById'](_0x342940(0x75d))[_0x342940(0x6b7)]=!![];const _0x146862=document[_0x342940(0x2bc)](_0x342940(0x2b5));_0x46f4d0===_0x342940(0x899)?(_0x146862[_0x342940(0x517)][_0x342940(0x1b5)](_0x342940(0x44c)),document[_0x342940(0x22d)](_0x342940(0x4b9))[_0x342940(0x6b7)]=!![]):_0x146862['classList'][_0x342940(0x546)](_0x342940(0x44c)),_0xb8b1b7[_0x342940(0x517)]['remove']('hidden');}async function saveGameResultsAsSubmissions(_0x5cfcd4){const _0x530a11=_0x1f917e;console[_0x530a11(0x16e)](_0x530a11(0x74c),_0x5cfcd4);const _0x33645d=_0x5cfcd4[_0x530a11(0x1c3)];let _0x36fdce=[];if(_0x5cfcd4[_0x530a11(0x81b)])_0x36fdce=Object[_0x530a11(0x9c8)](_0x5cfcd4['players'])[_0x530a11(0x618)](([_0x331037,_0x5b3561])=>({'name':_0x331037,..._0x5b3561}));else{if(_0x5cfcd4[_0x530a11(0x764)])Object[_0x530a11(0x631)](_0x5cfcd4[_0x530a11(0x764)])[_0x530a11(0x229)](_0x278368=>{_0x278368['members']['forEach'](_0x284742=>{const _0xbfcd5a=_0x36ac;_0x36fdce[_0xbfcd5a(0xad2)]({'name':_0x284742,'score':_0x278368['score'],'answers':_0x278368[_0xbfcd5a(0x5b7)]});});});else _0x5cfcd4['responses']&&Object[_0x530a11(0x9c8)](_0x5cfcd4[_0x530a11(0xb0c)])[_0x530a11(0x229)](([_0x43375a,_0x833c6f])=>{const _0x373601=_0x530a11;_0x36fdce[_0x373601(0xad2)]({'name':_0x43375a,..._0x833c6f});});}if(_0x36fdce['length']===0x0){console['log'](_0x530a11(0x669));return;}const _0x3547bf=_0x5cfcd4[_0x530a11(0xa40)]?.[_0x530a11(0x320)][_0x530a11(0xab1)]||currentQuizData['questions'][_0x530a11(0xab1)],_0x709fff=writeBatch(db);for(const _0x1efaa4 of _0x36fdce){const _0x242259=doc(db,'artifacts/'+appId+_0x530a11(0x9ef)+_0x33645d+_0x530a11(0x9a3),_0x1efaa4[_0x530a11(0xc85)]),_0x245cf2=(_0x1efaa4[_0x530a11(0x5b7)]||[])[_0x530a11(0xa7a)](_0x8f0be7=>_0x8f0be7['isCorrect'])[_0x530a11(0xab1)];let _0x33082f=_0x245cf2;_0x5cfcd4['isConfidenceScoringEnabled']&&_0x1efaa4[_0x530a11(0x5b7)]&&_0x1efaa4[_0x530a11(0x5b7)][_0x530a11(0x229)](_0x21d4c4=>{const _0x1dc125=_0x530a11;if(_0x21d4c4[_0x1dc125(0x2a1)]&&(_0x21d4c4[_0x1dc125(0x17e)]===!![]||_0x21d4c4[_0x1dc125(0x17e)]===_0x1dc125(0x7bb)))_0x33082f+=0x1;else!_0x21d4c4[_0x1dc125(0x2a1)]&&(_0x21d4c4['wasConfident']===!![]||_0x21d4c4[_0x1dc125(0x17e)]==='confident')&&(_0x33082f-=0x1);});_0x3547bf>0x0&&_0x245cf2===_0x3547bf&&(_0x33082f+=0x1);const _0x56f249={'score':_0x245cf2,'points':_0x33082f,'badges':_0x1efaa4[_0x530a11(0x22a)]||[],'submittedAt':new Date()[_0x530a11(0x597)](),'answers':(_0x1efaa4[_0x530a11(0x5b7)]||[])[_0x530a11(0x618)](_0x54f3a7=>({'questionId':_0x54f3a7[_0x530a11(0xb82)],'answer':_0x54f3a7[_0x530a11(0x389)],'answerText':_0x54f3a7[_0x530a11(0x313)],'isCorrect':_0x54f3a7[_0x530a11(0x2a1)],'originalQuestionText':_0x54f3a7['originalQuestionText'],'wasConfident':_0x54f3a7[_0x530a11(0x17e)]}))},_0x3a675f=await getDoc(_0x242259),_0x549d31=_0x3a675f[_0x530a11(0x485)]()?_0x3a675f[_0x530a11(0x923)]():{},_0x5afae2=_0x549d31[_0x530a11(0x8ad)]||0x0,_0x1b0974=_0x549d31[_0x530a11(0xb4e)]||[],_0xfa0fec={'studentName':_0x1efaa4[_0x530a11(0xc85)],'totalQuestions':_0x3547bf,'attempts':arrayUnion(_0x56f249),'latestScore':_0x245cf2,'points':_0x33082f,'latestSubmittedAt':_0x56f249['submittedAt'],'bestScore':Math[_0x530a11(0x20e)](_0x5afae2,_0x245cf2),'firstScore':_0x1b0974['length']===0x0?_0x245cf2:_0x549d31[_0x530a11(0x624)]||0x0};_0x709fff[_0x530a11(0xb9b)](_0x242259,_0xfa0fec,{'merge':!![]});}try{await _0x709fff[_0x530a11(0xa07)](),showMessage(_0x530a11(0x7e4)+_0x36fdce[_0x530a11(0xab1)]+_0x530a11(0x50c));const _0x195e1a=_0x5cfcd4[_0x530a11(0xa40)]?.[_0x530a11(0x7f9)]||currentQuizData?.[_0x530a11(0x7f9)]||currentProjectId;if(_0x195e1a){const _0x4520ff=[...new Set(_0x36fdce[_0x530a11(0x618)](_0x2904b3=>_0x2904b3[_0x530a11(0xc85)]))];for(const _0xeea63b of _0x4520ff){await updateStudentProfile(_0x195e1a,_0xeea63b);}}}catch(_0x480b96){console['error']('Error\x20saving\x20game\x20results:',_0x480b96),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(_0x4841b6=null,_0x55d3e8=null){const _0x2cad9f=_0x1f917e,_0x40c9b4=_0x4841b6||currentProjectId;if(!_0x40c9b4){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2cad9f(0x320)]||!userId){showMessage(_0x2cad9f(0x8ea));return;}const _0x169815=document[_0x2cad9f(0x2bc)]('save-quiz-btn');_0x169815[_0x2cad9f(0x8ab)]=!![],_0x169815[_0x2cad9f(0xcd8)]=_0x2cad9f(0x8b8);const _0x2f14f4=document[_0x2cad9f(0x2bc)](_0x2cad9f(0x94d))[_0x2cad9f(0x6b7)];let _0x3ba8d9=document[_0x2cad9f(0x2bc)](_0x2cad9f(0x815))[_0x2cad9f(0x35f)][_0x2cad9f(0x1df)]();_0x2f14f4&&!_0x3ba8d9['startsWith'](_0x2cad9f(0x70a))&&(_0x3ba8d9=_0x2cad9f(0x371)+_0x3ba8d9);try{const _0x3f8f03={'resultsDisplay':document[_0x2cad9f(0x2bc)]('results-display-select')['value'],'shuffle':document['getElementById'](_0x2cad9f(0xca4))[_0x2cad9f(0xa21)],'timerMode':document['getElementById']('timer-mode-select')[_0x2cad9f(0xa21)],'timerDuration':parseInt(document[_0x2cad9f(0x2bc)]('timer-duration-input')[_0x2cad9f(0xa21)])||0xa,'passingScore':parseInt(document[_0x2cad9f(0x2bc)]('passing-score-input')['value'])||0x0,'isAdaptive':document['getElementById'](_0x2cad9f(0x4ac))[_0x2cad9f(0x6b7)],'loopUntilPass':document['getElementById'](_0x2cad9f(0xacf))[_0x2cad9f(0x6b7)]},_0x634752=(currentQuizData['questions']||[])[_0x2cad9f(0x618)]((_0x4cb2c7,_0x236257)=>{const _0x3b5e20=_0x2cad9f,_0x10b882=document[_0x3b5e20(0x2bc)](_0x3b5e20(0x5fd))['value'],_0xde96ab={'id':'q_'+Date[_0x3b5e20(0x58e)]()+'_'+_0x236257,'questionText':_0x4cb2c7[_0x3b5e20(0x551)]||'','explanation':_0x4cb2c7[_0x3b5e20(0x557)]||_0x3b5e20(0x68b),'questionType':_0x4cb2c7['questionType']||_0x10b882,'imageCode':_0x4cb2c7[_0x3b5e20(0x679)]||null};return(_0xde96ab[_0x3b5e20(0x789)]===_0x3b5e20(0x29d)||_0xde96ab[_0x3b5e20(0x789)]==='fill_in_with_choices'||_0xde96ab[_0x3b5e20(0x789)]===_0x3b5e20(0x403)&&_0x4cb2c7[_0x3b5e20(0xae7)])&&(_0xde96ab['options']=_0x4cb2c7['options']||[],_0xde96ab[_0x3b5e20(0x16b)]=_0x4cb2c7['correctAnswerIndex']!==undefined?_0x4cb2c7['correctAnswerIndex']:0x0),(_0xde96ab['questionType']==='short_answer'||_0xde96ab[_0x3b5e20(0x789)]===_0x3b5e20(0x6f2)||_0xde96ab['questionType']==='mixed'&&_0x4cb2c7['idealAnswer'])&&(_0xde96ab['idealAnswer']=_0x4cb2c7[_0x3b5e20(0x740)]||''),_0xde96ab['questionType']===_0x3b5e20(0x475)&&(_0xde96ab[_0x3b5e20(0x9fa)]=_0x4cb2c7[_0x3b5e20(0x9fa)]===!![]),_0xde96ab[_0x3b5e20(0x789)]===_0x3b5e20(0x4c9)&&(_0xde96ab[_0x3b5e20(0x629)]=_0x4cb2c7[_0x3b5e20(0x629)]||'',_0xde96ab[_0x3b5e20(0xb73)]=_0x4cb2c7[_0x3b5e20(0xb73)]||'',_0xde96ab[_0x3b5e20(0x607)]=_0x4cb2c7[_0x3b5e20(0x607)]||[]),_0xde96ab;}),_0x28b358={'topic':_0x3ba8d9,'quizType':currentQuizData[_0x2cad9f(0x13d)]||_0x2cad9f(0x29d),'questions':_0x634752,'projectId':_0x40c9b4,'createdBy':userId,'createdAt':new Date()[_0x2cad9f(0x597)](),'status':_0x2cad9f(0x50f),'settings':_0x3f8f03,'quizMode':_0x2f14f4?_0x2cad9f(0xc3d):_0x2cad9f(0x226),'pairedQuizId':null,'lessonPlan':null};let _0x54f5ba;while(!![]){_0x54f5ba=Math[_0x2cad9f(0x854)](0x3e8+Math['random']()*0x2328)['toString']();const _0x293b3e=await getDoc(doc(db,'artifacts/'+appId+_0x2cad9f(0xcbc),_0x54f5ba));if(!_0x293b3e[_0x2cad9f(0x485)]())break;}await setDoc(doc(db,_0x2cad9f(0x366)+appId+'/public/data/quizzes',_0x54f5ba),_0x28b358);if(_0x55d3e8&&currentBlueprintProjectId){console[_0x2cad9f(0x16e)](_0x2cad9f(0x72c)+_0x54f5ba+_0x2cad9f(0x75c)+_0x55d3e8);try{const _0x13007a=doc(db,_0x2cad9f(0x366)+appId+_0x2cad9f(0x204),currentBlueprintProjectId);await updateDoc(_0x13007a,{[_0x2cad9f(0x939)+_0x55d3e8+_0x2cad9f(0xa3a)]:arrayUnion(_0x54f5ba)});}catch(_0x171ad9){console[_0x2cad9f(0x512)](_0x2cad9f(0x56f),_0x171ad9);}}currentQuizData[_0x2cad9f(0x327)]=_0x3f8f03,currentQuizData['id']=_0x54f5ba;const _0x37ad87=document[_0x2cad9f(0x2bc)](_0x2cad9f(0x8c1));_0x37ad87[_0x2cad9f(0xcd8)]=_0x2cad9f(0xc35)+_0x54f5ba+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x2cad9f(0x2bc)](_0x2cad9f(0x437))['addEventListener'](_0x2cad9f(0xc20),()=>copyTextToClipboard(_0x54f5ba,'คัดลอกรหัสแล้ว!')),document[_0x2cad9f(0x2bc)](_0x2cad9f(0x4f9))[_0x2cad9f(0x8de)](_0x2cad9f(0xc20),()=>handleStartLiveRace(_0x54f5ba)),document[_0x2cad9f(0x2bc)](_0x2cad9f(0x1db))[_0x2cad9f(0x8de)](_0x2cad9f(0xc20),()=>startPresentation(currentQuizData)),document[_0x2cad9f(0x2bc)](_0x2cad9f(0x630))[_0x2cad9f(0x8de)](_0x2cad9f(0xc20),startAdminTest),showMessage(_0x2cad9f(0x35e));}catch(_0x125c35){console['error'](_0x2cad9f(0x9be),_0x125c35),showMessage(_0x2cad9f(0x930));}finally{_0x169815[_0x2cad9f(0x8ab)]=![],_0x169815[_0x2cad9f(0xcd8)]=_0x2cad9f(0x4b1);}}function promptForProjectAndSave(){const _0x18528e=_0x1f917e,_0x11eee6=document[_0x18528e(0x2bc)](_0x18528e(0x436)),_0x46434b=document[_0x18528e(0x2bc)]('move-quiz-project-select'),_0x4053a=_0x11eee6[_0x18528e(0x22d)]('h3'),_0x246444=document[_0x18528e(0x2bc)](_0x18528e(0x54f));_0x4053a['textContent']='เลือกโปรเจคเพื่อบันทึก',_0x246444[_0x18528e(0x806)]=_0x18528e(0x960);allProjects[_0x18528e(0xab1)]===0x0?(_0x46434b['innerHTML']=_0x18528e(0x2fd),_0x246444[_0x18528e(0x8ab)]=!![]):(_0x46434b[_0x18528e(0xcd8)]=allProjects[_0x18528e(0x618)](_0x525ef2=>_0x18528e(0x9dd)+_0x525ef2['id']+'\x22>'+_0x525ef2['projectName']+_0x18528e(0xba6))['join'](''),_0x246444[_0x18528e(0x8ab)]=![]);_0x11eee6[_0x18528e(0x517)]['remove'](_0x18528e(0x44c));const _0x50e487=()=>{const _0x45aa9a=_0x18528e,_0x3ec227=_0x46434b[_0x45aa9a(0xa21)];_0x3ec227?(currentProjectId=_0x3ec227,_0x11eee6['classList'][_0x45aa9a(0x546)](_0x45aa9a(0x44c)),saveQuiz(),_0x4053a[_0x45aa9a(0x806)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x246444[_0x45aa9a(0x806)]=_0x45aa9a(0x205),_0x246444[_0x45aa9a(0xcab)](_0x45aa9a(0xc20),_0x50e487),_0x246444[_0x45aa9a(0x8de)](_0x45aa9a(0xc20),confirmMoveQuiz)):showMessage(_0x45aa9a(0x8bb));};_0x246444['removeEventListener'](_0x18528e(0xc20),confirmMoveQuiz),_0x246444[_0x18528e(0x8de)](_0x18528e(0xc20),_0x50e487);}function copyTextToClipboard(_0x411614,_0x1a9988){const _0x13059a=_0x1f917e,_0x2343d3=document['createElement'](_0x13059a(0x93c));_0x2343d3[_0x13059a(0xa21)]=_0x411614,_0x2343d3[_0x13059a(0x60e)]['position']=_0x13059a(0x6fe),_0x2343d3[_0x13059a(0x60e)][_0x13059a(0x299)]='0',document[_0x13059a(0x667)]['appendChild'](_0x2343d3),_0x2343d3[_0x13059a(0x274)](),_0x2343d3[_0x13059a(0x397)]();try{const _0x1cd5d5=document['execCommand'](_0x13059a(0x5d7));showMessage(_0x1cd5d5?_0x1a9988:_0x13059a(0x4ba));}catch(_0x48899b){showMessage(_0x13059a(0x4ba)),console[_0x13059a(0x512)](_0x13059a(0xace),_0x48899b);}document[_0x13059a(0x667)][_0x13059a(0x13a)](_0x2343d3);}function listenForProjectQuizzes(_0x4911fa){const _0x44f0e3=_0x1f917e,_0x33c9a5=collection(db,'artifacts/'+appId+_0x44f0e3(0xcbc)),_0x2945e3=query(_0x33c9a5,where(_0x44f0e3(0x7f9),'==',_0x4911fa));unsubscribeQuizzesListener=onSnapshot(_0x2945e3,async _0x28a732=>{const _0x2941ca=_0x44f0e3;allQuizzes=_0x28a732[_0x2941ca(0xac3)][_0x2941ca(0x618)](_0x21e366=>({'id':_0x21e366['id'],..._0x21e366[_0x2941ca(0x923)]()})),renderQuizzes();},_0x74b7cd=>{const _0x36e6ca=_0x44f0e3;console['error'](_0x36e6ca(0x659),_0x74b7cd),document[_0x36e6ca(0x2bc)](_0x36e6ca(0x3bc))['innerHTML']=_0x36e6ca(0x4b2);});}async function renderQuizzes(){const _0x22ce8d=_0x1f917e,_0x1845eb=document[_0x22ce8d(0x2bc)]('project-quizzes-list'),_0x498350=document[_0x22ce8d(0x2bc)](_0x22ce8d(0x170))[_0x22ce8d(0xa21)]['toLowerCase']();let _0x145887;currentProjectId===_0x22ce8d(0x559)?_0x145887=starredQuizzes:_0x145887=allQuizzes;let _0x377f2d=_0x145887[_0x22ce8d(0xa7a)](_0x3878b0=>_0x3878b0[_0x22ce8d(0x533)][_0x22ce8d(0x281)]()[_0x22ce8d(0x42a)](_0x498350));_0x377f2d['sort']((_0x5d1003,_0x276cd5)=>new Date(_0x276cd5[_0x22ce8d(0x91e)])-new Date(_0x5d1003[_0x22ce8d(0x91e)]));if(_0x377f2d[_0x22ce8d(0xab1)]===0x0){_0x1845eb[_0x22ce8d(0xcd8)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x3aaa50={},_0x31cfe6=_0x377f2d[_0x22ce8d(0x618)](async _0x5ba28d=>{const _0x34a3df=_0x22ce8d,_0x2e99a8=collection(db,'artifacts/'+appId+_0x34a3df(0x9ef)+_0x5ba28d['id']+_0x34a3df(0x9a3)),_0x5e10dd=await getDocs(_0x2e99a8);_0x3aaa50[_0x5ba28d['id']]=_0x5e10dd['size'];});await Promise[_0x22ce8d(0x8bd)](_0x31cfe6);let _0xecb03f='';_0x377f2d[_0x22ce8d(0x229)](_0x3af0d2=>{const _0x45570a=_0x22ce8d,_0x1dbfc9=_0x3aaa50[_0x3af0d2['id']]||0x0,_0x538a3c=_0x3af0d2[_0x45570a(0x845)]||_0x45570a(0x50f),_0x316b35=_0x3af0d2[_0x45570a(0x327)]?.[_0x45570a(0x60d)]||'none';let _0x6d870a='',_0x2d9d3f='';const _0x13acd9=new Date();let _0x4d5bf7=_0x538a3c;if(_0x538a3c===_0x45570a(0x982)){const _0x4624e1=_0x3af0d2[_0x45570a(0x656)]?new Date(_0x3af0d2[_0x45570a(0x656)]):null,_0x157298=_0x3af0d2['endTime']?new Date(_0x3af0d2['endTime']):null;if(_0x157298&&_0x13acd9>_0x157298)_0x4d5bf7='inactive';else _0x4624e1&&_0x13acd9<_0x4624e1?_0x4d5bf7=_0x45570a(0x8bc):_0x4d5bf7=_0x45570a(0x50f);}switch(_0x4d5bf7){case _0x45570a(0xae6):_0x6d870a=_0x45570a(0x7a2),_0x2d9d3f='text-red-700\x20bg-red-100';break;case _0x45570a(0x8bc):_0x6d870a=_0x45570a(0xbe7),_0x2d9d3f=_0x45570a(0xc59);break;case _0x45570a(0x50f):_0x6d870a=_0x316b35!==_0x45570a(0x1d8)?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x2d9d3f='text-green-700\x20bg-green-100';break;default:_0x6d870a=_0x45570a(0x1b2),_0x2d9d3f='text-green-700\x20bg-green-100';break;}let _0x44a89f='';const _0x123c05={'day':_0x45570a(0x773),'month':_0x45570a(0x773),'year':'numeric','hour':'2-digit','minute':'2-digit','hour12':![]};if(_0x538a3c===_0x45570a(0x982)){if(_0x3af0d2[_0x45570a(0x656)])_0x44a89f+=_0x45570a(0x231)+new Date(_0x3af0d2[_0x45570a(0x656)])[_0x45570a(0x698)]('th-TH',_0x123c05)+_0x45570a(0x51d);if(_0x3af0d2[_0x45570a(0x6e7)])_0x44a89f+=_0x45570a(0x6b5)+new Date(_0x3af0d2[_0x45570a(0x6e7)])[_0x45570a(0x698)]('th-TH',_0x123c05)+_0x45570a(0x51d);}let _0x464661='';if(_0x3af0d2[_0x45570a(0x2d7)]){const _0x14a3c2=allQuizzes[_0x45570a(0xaa2)](_0x4a185b=>_0x4a185b['id']===_0x3af0d2[_0x45570a(0x2d7)]);if(_0x14a3c2){let _0x444a1c,_0x3273a5;new Date(_0x3af0d2[_0x45570a(0x91e)])<new Date(_0x14a3c2[_0x45570a(0x91e)])?(_0x444a1c=_0x3af0d2['id'],_0x3273a5=_0x14a3c2['id']):(_0x444a1c=_0x14a3c2['id'],_0x3273a5=_0x3af0d2['id']),_0x464661+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3273a5+_0x45570a(0xb23)+_0x444a1c+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x3af0d2[_0x45570a(0xbe1)]==='pre-test'&&(_0x464661+=_0x45570a(0x6d2)+_0x3af0d2['id']+_0x45570a(0x4c4));if(_0x3af0d2['quizMode']===_0x45570a(0xc3d)&&_0x1dbfc9>0x0)_0x464661+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3af0d2['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x3af0d2[_0x45570a(0x2d7)]&&_0x3af0d2[_0x45570a(0xbe1)]!==_0x45570a(0xc3d)&&_0x1dbfc9>0x0&&(_0x464661+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3af0d2['id']+_0x45570a(0xb69));let _0x4eb38a='';_0x3af0d2[_0x45570a(0x2d7)]?_0x4eb38a=_0x45570a(0x80b)+_0x3af0d2['id']+_0x45570a(0x69f):_0x4eb38a=_0x45570a(0x80b)+_0x3af0d2['id']+_0x45570a(0x480),_0xecb03f+=_0x45570a(0x2f5)+_0x3af0d2['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x3af0d2['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x3af0d2[_0x45570a(0x320)][_0x45570a(0xab1)]+_0x45570a(0x81c)+new Date(_0x3af0d2[_0x45570a(0x91e)])['toLocaleString'](_0x45570a(0x2bf))+_0x45570a(0x15b)+_0x1dbfc9+_0x45570a(0x5f9)+_0x44a89f+_0x45570a(0x4a6)+_0x2d9d3f+'\x22>'+_0x6d870a+_0x45570a(0x45d)+_0x3af0d2['id']+_0x45570a(0x40b)+_0x3af0d2['id']+_0x45570a(0x7ed)+(_0x3af0d2['isStarred']?_0x45570a(0xaf8):'far\x20fa-star')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x464661+_0x45570a(0x224)+_0x3af0d2['id']+_0x45570a(0x8c6)+_0x3af0d2['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3af0d2['id']+_0x45570a(0x83a)+_0x3af0d2['id']+_0x45570a(0x778)+_0x3af0d2['id']+_0x45570a(0x1ed)+_0x3af0d2['id']+_0x45570a(0x51c)+_0x3af0d2['id']+_0x45570a(0x277)+_0x3af0d2[_0x45570a(0x533)]+_0x45570a(0x412)+_0x3af0d2['id']+_0x45570a(0xa91)+_0x3af0d2['id']+_0x45570a(0x1be)+_0x4eb38a+_0x45570a(0x421)+_0x3af0d2['id']+_0x45570a(0x88c)+_0x3af0d2['id']+_0x45570a(0x155)+_0x3af0d2['id']+_0x45570a(0x2cd)+_0x3af0d2['id']+_0x45570a(0xad9)+_0x3af0d2['id']+_0x45570a(0x6a8)+_0x3af0d2['id']+_0x45570a(0x448)+_0x3af0d2['id']+_0x45570a(0x6ad)+_0x3af0d2['id']+_0x45570a(0x277)+_0x3af0d2['topic']+_0x45570a(0x662)+_0x3af0d2['id']+_0x45570a(0x178);}),_0x1845eb[_0x22ce8d(0xcd8)]=_0xecb03f,document[_0x22ce8d(0x362)](_0x22ce8d(0x87c))[_0x22ce8d(0x229)](_0x58a33f=>{const _0x472697=_0x22ce8d;_0x58a33f['addEventListener'](_0x472697(0xc20),()=>{const _0x4a7e1a=_0x472697,_0x5aa012=_0x58a33f[_0x4a7e1a(0x4e3)][_0x4a7e1a(0x1c3)];showQuizDetailView(_0x5aa012);});});}async function handleUnpairQuiz(_0x24bae3){const _0xa16fd=_0x1f917e,_0x2e747e=allQuizzes[_0xa16fd(0xaa2)](_0x107d33=>_0x107d33['id']===_0x24bae3);if(!_0x2e747e||!_0x2e747e['pairedQuizId']){showMessage(_0xa16fd(0x15a));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x48d79d=_0xa16fd;try{const _0x1f0bdd=doc(db,_0x48d79d(0x366)+appId+_0x48d79d(0xcbc),_0x24bae3),_0x13f01=doc(db,_0x48d79d(0x366)+appId+'/public/data/quizzes',_0x2e747e['pairedQuizId']),_0x5aa3a9=writeBatch(db);_0x5aa3a9['update'](_0x1f0bdd,{'pairedQuizId':null}),_0x5aa3a9[_0x48d79d(0x72f)](_0x13f01,{'pairedQuizId':null}),await _0x5aa3a9[_0x48d79d(0xa07)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x366242){console[_0x48d79d(0x512)](_0x48d79d(0x6aa),_0x366242),showMessage(_0x48d79d(0xbde));}});}function formatAndPrintLessonPlan(_0x5edf37,_0x114ecd){const _0x16d482=_0x1f917e,_0x38953b=window[_0x16d482(0x3c5)]('',_0x16d482(0x62b)),_0x1f2332=_0x16d482(0x9cc)+_0x114ecd[_0x16d482(0x533)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x114ecd[_0x16d482(0x533)]+_0x16d482(0x7d8)+_0x5edf37[_0x16d482(0x73e)][_0x16d482(0x618)](_0x2e5918=>_0x16d482(0x934)+_0x2e5918+_0x16d482(0x8b4))[_0x16d482(0xd29)]('')+_0x16d482(0x482)+_0x5edf37[_0x16d482(0x2b0)]+_0x16d482(0x175)+_0x5edf37['practiceProblems'][_0x16d482(0x618)](_0x40d868=>_0x16d482(0xb21)+_0x40d868['question']+_0x16d482(0x900)+_0x40d868[_0x16d482(0xd1e)]+_0x16d482(0x759))[_0x16d482(0xd29)]('')+_0x16d482(0x725);_0x38953b[_0x16d482(0x91d)][_0x16d482(0x5f1)](_0x1f2332),_0x38953b[_0x16d482(0x91d)][_0x16d482(0x797)](),_0x38953b['onload']=function(){setTimeout(()=>{const _0x22a081=_0x36ac;_0x38953b[_0x22a081(0x7ca)]();},0x3e8);};}async function handleAiFixFormula(_0x548d0a){const _0x1a0ffb=_0x1f917e,_0x50d259=document['querySelector'](_0x1a0ffb(0x39b)+_0x548d0a+'\x22]');if(!_0x50d259)return;const _0x8d4d0d=_0x50d259[_0x1a0ffb(0x4e3)][_0x1a0ffb(0x599)],_0x2eb6c3=_0x50d259['querySelector']('.ai-fix-formula-btn');let _0x3bae81={'question':_0x50d259[_0x1a0ffb(0x22d)]('textarea')[_0x1a0ffb(0xa21)]};switch(_0x8d4d0d){case _0x1a0ffb(0x29d):_0x3bae81[_0x1a0ffb(0xae7)]=Array[_0x1a0ffb(0xaf4)](_0x50d259[_0x1a0ffb(0x362)]('input[type=\x22text\x22]'))[_0x1a0ffb(0x618)](_0x1b97e2=>_0x1b97e2[_0x1a0ffb(0xa21)]);break;case _0x1a0ffb(0x48c):_0x3bae81['idealAnswer']=_0x50d259[_0x1a0ffb(0x22d)](_0x1a0ffb(0xa37))[_0x1a0ffb(0xa21)];break;case _0x1a0ffb(0x4c9):_0x3bae81[_0x1a0ffb(0xb73)]=_0x50d259[_0x1a0ffb(0x22d)](_0x1a0ffb(0x4d0))[_0x1a0ffb(0xa21)];break;}_0x2eb6c3[_0x1a0ffb(0xcd8)]=_0x1a0ffb(0xa41),_0x2eb6c3[_0x1a0ffb(0x8ab)]=!![];try{const _0x27dc9c=_0x1a0ffb(0x76f)+JSON[_0x1a0ffb(0x4e2)](_0x3bae81)+_0x1a0ffb(0x495),_0x1d20d1={'type':_0x1a0ffb(0x60a),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x1a0ffb(0xab8)},'options':{'type':_0x1a0ffb(0x5b8),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':'STRING'}},'required':[_0x1a0ffb(0xaa7)]}},'required':[_0x1a0ffb(0x1d2)]},_0x2e1563=await callAnalysisApi(_0x27dc9c,_0x1d20d1);if(_0x2e1563&&_0x2e1563[_0x1a0ffb(0x1d2)]){const _0x1e3fea=_0x2e1563['fixedData'];_0x50d259[_0x1a0ffb(0x22d)](_0x1a0ffb(0x93c))[_0x1a0ffb(0xa21)]=_0x1e3fea[_0x1a0ffb(0xaa7)]||_0x3bae81[_0x1a0ffb(0xaa7)];switch(_0x8d4d0d){case _0x1a0ffb(0x29d):_0x1e3fea[_0x1a0ffb(0xae7)]&&_0x1e3fea[_0x1a0ffb(0xae7)][_0x1a0ffb(0xab1)]>0x0&&_0x50d259[_0x1a0ffb(0x362)](_0x1a0ffb(0x6e1))['forEach']((_0x236ec4,_0x3c1e24)=>{const _0x593020=_0x1a0ffb;_0x236ec4['value']=_0x1e3fea[_0x593020(0xae7)][_0x3c1e24]||_0x3bae81[_0x593020(0xae7)][_0x3c1e24];});break;case _0x1a0ffb(0x48c):_0x50d259[_0x1a0ffb(0x22d)](_0x1a0ffb(0xa37))[_0x1a0ffb(0xa21)]=_0x1e3fea['idealAnswer']||_0x3bae81[_0x1a0ffb(0x740)];break;case _0x1a0ffb(0x4c9):_0x50d259['querySelector']('.correct-response-input')[_0x1a0ffb(0xa21)]=_0x1e3fea[_0x1a0ffb(0xb73)]||_0x3bae81[_0x1a0ffb(0xb73)];break;}if(_0x3bae81['question']!==_0x1e3fea[_0x1a0ffb(0xaa7)])try{const _0x7d9662=collection(db,_0x1a0ffb(0x366)+appId+'/public/data/learnedFixes');await addDoc(_0x7d9662,{'broken':_0x3bae81[_0x1a0ffb(0xaa7)],'fixed':_0x1e3fea[_0x1a0ffb(0xaa7)],'createdAt':serverTimestamp()});}catch(_0x466113){console[_0x1a0ffb(0x512)](_0x1a0ffb(0x4a4),_0x466113);}showMessage(_0x1a0ffb(0x7fa));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x59340b){console[_0x1a0ffb(0x512)](_0x1a0ffb(0x49f),_0x59340b),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x2eb6c3[_0x1a0ffb(0xcd8)]=_0x1a0ffb(0x660),_0x2eb6c3[_0x1a0ffb(0x8ab)]=![];}}async function handleGenerateLessonPlan(_0x5d1cd5){const _0x36e3e6=_0x1f917e;showMessage(_0x36e3e6(0x927));try{const _0x27d8bf=doc(db,'artifacts/'+appId+_0x36e3e6(0xcbc),_0x5d1cd5),_0x4e88bf=await getDoc(_0x27d8bf);if(!_0x4e88bf['exists']())throw new Error(_0x36e3e6(0x827));const _0x1de734={'id':_0x5d1cd5,..._0x4e88bf['data']()},_0x3af832=collection(db,_0x36e3e6(0x366)+appId+_0x36e3e6(0xcbc),_0x5d1cd5,_0x36e3e6(0xab2)),_0x4a5bb0=await getDocs(_0x3af832),_0x633997=_0x4a5bb0[_0x36e3e6(0xac3)][_0x36e3e6(0x618)](_0xcd2b44=>_0xcd2b44['data']());if(_0x633997[_0x36e3e6(0xab1)]===0x0)throw new Error(_0x36e3e6(0x5d5));const _0x1e5637=calculateItemAnalysis(_0x1de734,_0x633997)[_0x36e3e6(0xb03)],_0x177c42=calculateDistractorAnalysis(_0x1de734,_0x633997),_0x3ceee9=_0xbe6a27=>{const _0x13008f=_0x36e3e6;if(!_0xbe6a27)return'';return _0xbe6a27[_0x13008f(0x794)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x13008f(0x794)](/\n/g,'\x5cn');};let _0x44c292='สรุปผลการวิเคราะห์:\x5cn';_0x1de734[_0x36e3e6(0x320)][_0x36e3e6(0x229)]((_0x3ee804,_0x16e8df)=>{const _0x1d6471=_0x36e3e6,_0x4948f2=_0x1e5637[_0x16e8df]?.['p']['toFixed'](0x2)||_0x1d6471(0x95a),_0x19aaca=_0x1e5637[_0x16e8df]?.['r']['toFixed'](0x2)||_0x1d6471(0x95a),_0xad3d34=_0x3ceee9(_0x3ee804['questionText']||_0x3ee804[_0x1d6471(0x629)]);_0x44c292+=_0x1d6471(0x8d6)+(_0x16e8df+0x1)+_0x1d6471(0x56d)+_0x4948f2+_0x1d6471(0x696)+_0x19aaca+_0x1d6471(0xcba)+_0xad3d34+'\x5cn';if(_0x3ee804[_0x1d6471(0x789)]===_0x1d6471(0x29d)&&_0x177c42[_0x16e8df]){const _0x62a338=_0x177c42[_0x16e8df],_0x476af8=Object[_0x1d6471(0x420)](_0x62a338)['filter'](_0x53351d=>parseInt(_0x53351d)!==_0x3ee804[_0x1d6471(0x16b)])[_0x1d6471(0x817)]((_0x698f91,_0x290d4e)=>_0x62a338[_0x290d4e][_0x1d6471(0x24b)]-_0x62a338[_0x698f91][_0x1d6471(0x24b)])[0x0];if(_0x476af8&&_0x62a338[_0x476af8][_0x1d6471(0x24b)]>0x0){const _0x3fe32f=_0x3ceee9(_0x62a338[_0x476af8][_0x1d6471(0xbaa)]);_0x44c292+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x3fe32f+_0x1d6471(0x95d);}}});const _0x59d64d=_0x36e3e6(0xcee)+_0x1de734[_0x36e3e6(0x533)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44c292+_0x36e3e6(0xa6b),_0x44c42d={'type':_0x36e3e6(0x60a),'properties':{'learningGaps':{'type':_0x36e3e6(0x5b8),'items':{'type':_0x36e3e6(0xab8)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x36e3e6(0x5b8),'items':{'type':_0x36e3e6(0x60a),'properties':{'question':{'type':_0x36e3e6(0xab8)},'solution':{'type':_0x36e3e6(0xab8)}}}}},'required':['learningGaps',_0x36e3e6(0x2b0),_0x36e3e6(0x5b4)]},_0x4e4a73=await callAnalysisApi(_0x59d64d,_0x44c42d);await updateDoc(_0x27d8bf,{'lessonPlan':_0x4e4a73});const _0xac87b5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x1de734[_0x36e3e6(0x533)]+_0x36e3e6(0xa4c)+_0x4e4a73[_0x36e3e6(0x73e)][_0x36e3e6(0x618)](_0x19ba1f=>_0x36e3e6(0x934)+_0x19ba1f+_0x36e3e6(0x8b4))[_0x36e3e6(0xd29)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x4e4a73[_0x36e3e6(0x2b0)]+_0x36e3e6(0xa47)+_0x4e4a73['practiceProblems']['map'](_0x5921d1=>_0x36e3e6(0xa5b)+_0x5921d1[_0x36e3e6(0xaa7)]+_0x36e3e6(0xcbf)+_0x5921d1[_0x36e3e6(0xd1e)]+_0x36e3e6(0x611))[_0x36e3e6(0xd29)]('')+_0x36e3e6(0x7f8);document[_0x36e3e6(0x2bc)](_0x36e3e6(0xaa8))[_0x36e3e6(0x806)]=_0x36e3e6(0xa03)+_0x1de734[_0x36e3e6(0x533)],document[_0x36e3e6(0x2bc)](_0x36e3e6(0x22b))[_0x36e3e6(0xcd8)]=_0xac87b5,document[_0x36e3e6(0x2bc)]('lesson-plan-modal')[_0x36e3e6(0x517)][_0x36e3e6(0x1b5)](_0x36e3e6(0x44c));if(window[_0x36e3e6(0x13e)])MathJax[_0x36e3e6(0xbc4)]();messageModal[_0x36e3e6(0x517)][_0x36e3e6(0x546)](_0x36e3e6(0x44c));}catch(_0x55c8df){console[_0x36e3e6(0x512)](_0x36e3e6(0x530),_0x55c8df),showMessage(_0x36e3e6(0xade)+_0x55c8df[_0x36e3e6(0xaf3)]);}}async function handleDuplicateQuiz(_0xab83d5){const _0x95bd2a=_0x1f917e;try{const _0x344bda=doc(db,_0x95bd2a(0x366)+appId+_0x95bd2a(0xcbc),_0xab83d5),_0x431181=await getDoc(_0x344bda);if(_0x431181['exists']()){const _0x368334=_0x431181['data']();let _0x22b0cf='',_0x546faa=_0x95bd2a(0x226),_0x1b5611=null;if(_0x368334[_0x95bd2a(0xbe1)]===_0x95bd2a(0xc3d)){let _0x323f8f=_0x368334['topic'][_0x95bd2a(0x794)](_0x95bd2a(0x70a),'')[_0x95bd2a(0x1df)]();_0x22b0cf=_0x95bd2a(0x7fb)+_0x323f8f,_0x546faa=_0x95bd2a(0x9a2),_0x1b5611=_0xab83d5;}else _0x22b0cf=_0x95bd2a(0x3d6)+_0x368334[_0x95bd2a(0x533)];const _0x222186={..._0x368334,'topic':_0x22b0cf,'createdAt':new Date()[_0x95bd2a(0x597)](),'quizMode':_0x546faa,'pairedQuizId':_0x1b5611};let _0x607125;while(!![]){_0x607125=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x60b92b=await getDoc(doc(db,_0x95bd2a(0x366)+appId+'/public/data/quizzes',_0x607125));if(!_0x60b92b[_0x95bd2a(0x485)]())break;}const _0x20c2df=doc(db,_0x95bd2a(0x366)+appId+_0x95bd2a(0xcbc),_0x607125);await setDoc(_0x20c2df,_0x222186),_0x222186[_0x95bd2a(0xbe1)]==='post-test'&&await updateDoc(_0x344bda,{'pairedQuizId':_0x607125}),showMessage(_0x95bd2a(0x898));}else throw new Error(_0x95bd2a(0x19f));}catch(_0xbd9be2){console[_0x95bd2a(0x512)]('Error\x20duplicating\x20quiz:',_0xbd9be2),showMessage(_0x95bd2a(0x342));}}async function handleDeleteQuiz(_0x574a41,_0x53dd24=!![]){const _0x343882=_0x1f917e;try{const _0x11ccdc=writeBatch(db),_0x3de387=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x574a41+'/submissions'),_0x2d108d=await getDocs(_0x3de387);_0x2d108d[_0x343882(0x229)](_0x45e553=>{_0x11ccdc['delete'](doc(_0x3de387,_0x45e553['id']));});const _0x243fc9=doc(db,_0x343882(0x366)+appId+'/public/data/quizzes',_0x574a41);_0x11ccdc[_0x343882(0x730)](_0x243fc9),await _0x11ccdc[_0x343882(0xa07)]();try{console[_0x343882(0x16e)](_0x343882(0x471)+_0x574a41+_0x343882(0x87d));const _0xd94a90=collection(db,_0x343882(0x366)+appId+_0x343882(0x204)),_0x384afb=await getDocs(_0xd94a90),_0x4c72aa=[];_0x384afb[_0x343882(0x229)](_0x5ce451=>{const _0x451d45=_0x343882,_0x185808=_0x5ce451[_0x451d45(0x923)](),_0x1c0f8f=_0x185808[_0x451d45(0xad8)]||{};let _0x1aeb5f=![];for(const _0x2bff26 in _0x1c0f8f){const _0x2e9a30=_0x1c0f8f[_0x2bff26];if(_0x2e9a30[_0x451d45(0x8c9)]&&_0x2e9a30['linkedQuizIds'][_0x451d45(0x42a)](_0x574a41)){_0x1aeb5f=!![];const _0x5d594f=doc(db,_0x451d45(0x366)+appId+_0x451d45(0x204),_0x5ce451['id']),_0x1e2cd1=updateDoc(_0x5d594f,{[_0x451d45(0x939)+_0x2bff26+_0x451d45(0xa3a)]:arrayRemove(_0x574a41)});_0x4c72aa[_0x451d45(0xad2)](_0x1e2cd1);}}}),_0x4c72aa[_0x343882(0xab1)]>0x0&&(await Promise[_0x343882(0x8bd)](_0x4c72aa),console[_0x343882(0x16e)](_0x343882(0x95e)+_0x4c72aa['length']+_0x343882(0x373)+_0x574a41+'.'));}catch(_0x3b6cea){console['error'](_0x343882(0x9f3),_0x3b6cea);}_0x53dd24&&showMessage(_0x343882(0xb1c));}catch(_0x38a003){console['error'](_0x343882(0x6a4),_0x38a003),_0x53dd24&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x40c17f){const _0x1fa556=_0x1f917e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1fa556(0xc6c));try{const _0x4b03d6=doc(db,_0x1fa556(0x366)+appId+_0x1fa556(0xcbc),_0x40c17f),_0x34a4b7=await getDoc(_0x4b03d6);if(!_0x34a4b7[_0x1fa556(0x485)]()){showMessage(_0x1fa556(0x827));return;}const _0x2e47da={'id':_0x34a4b7['id'],..._0x34a4b7['data']()};currentQuizData=_0x2e47da;const _0x7d699a=doc(db,_0x1fa556(0x366)+appId+_0x1fa556(0x7ad),_0x2e47da[_0x1fa556(0x7f9)]),_0x38c77a=await getDoc(_0x7d699a);_0x38c77a[_0x1fa556(0x485)]()?(currentProjectData=_0x38c77a[_0x1fa556(0x923)](),currentProjectId=_0x2e47da[_0x1fa556(0x7f9)]):(currentProjectData={'students':[]},currentProjectId=_0x2e47da[_0x1fa556(0x7f9)]);document[_0x1fa556(0x2bc)](_0x1fa556(0xc33))[_0x1fa556(0x806)]=_0x2e47da['topic'],document[_0x1fa556(0x2bc)](_0x1fa556(0x2ec))[_0x1fa556(0x806)]=_0x40c17f;const _0x4296ea=collection(db,_0x1fa556(0x366)+appId+'/public/data/quizzes',_0x40c17f,_0x1fa556(0xab2));unsubscribeSubmissionsListener=onSnapshot(_0x4296ea,_0x57da29=>{const _0x479509=_0x1fa556,_0x211328=_0x57da29[_0x479509(0xac3)][_0x479509(0x618)](_0x53f49e=>({'id':_0x53f49e['id'],..._0x53f49e[_0x479509(0x923)]()}));currentSubmissions=_0x211328;const _0x3f658a=_0x211328['filter'](_0x2c8595=>_0x2c8595[_0x479509(0xb4e)]&&_0x2c8595[_0x479509(0xb4e)][_0x479509(0xab1)]>0x0);renderBehaviorLog(_0x211328),renderAnswerGrid(currentProjectData['students'],_0x3f658a,_0x2e47da),renderAnalytics(_0x2e47da,_0x3f658a),renderQuizResultsTable(currentProjectData[_0x479509(0x456)],_0x211328,_0x2e47da),renderQuizLeaderboard(_0x3f658a,_0x2e47da,_0x479509(0xa27));}),showView(_0x1fa556(0x757));}catch(_0x5b94f4){console[_0x1fa556(0x512)](_0x1fa556(0x997),_0x5b94f4),showMessage(_0x1fa556(0x711));}}function renderAnswerGrid(_0x1470a9,_0x4cf0d2,_0x82c2a2){const _0x42ee4d=_0x1f917e,_0x41238c=document[_0x42ee4d(0x2bc)](_0x42ee4d(0x1ea));if(!_0x41238c)return;if(!_0x1470a9||_0x1470a9[_0x42ee4d(0xab1)]===0x0){_0x41238c[_0x42ee4d(0xcd8)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x47b317=_0x82c2a2['questions'],_0x3d0ffd=_0x4cf0d2[_0x42ee4d(0x5e7)]((_0x23093a,_0x1b8af6)=>{const _0x5768f8=_0x42ee4d;return _0x23093a[_0x1b8af6[_0x5768f8(0xbcf)]]=_0x1b8af6,_0x23093a;},{}),_0x4f3f3d=_0xf069bc=>String['fromCharCode'](0x41+_0xf069bc),_0x243b1f=_0x393a03=>{const _0x3ad437=_0x42ee4d,_0x3ce7c5=_0x393a03[_0x3ad437(0x789)]||_0x82c2a2['quizType'];switch(_0x3ce7c5){case _0x3ad437(0x29d):return _0x393a03[_0x3ad437(0xae7)]&&_0x393a03[_0x3ad437(0xae7)]['length']>_0x393a03[_0x3ad437(0x16b)]?_0x4f3f3d(_0x393a03[_0x3ad437(0x16b)]):'-';case _0x3ad437(0x475):const _0x3c75a7=_0x393a03[_0x3ad437(0x9fa)]===!![]||String(_0x393a03[_0x3ad437(0x9fa)])[_0x3ad437(0x281)]()===_0x3ad437(0xbf6);return _0x3c75a7?_0x3ad437(0xab0):_0x3ad437(0x538);case'matching_item':return _0x393a03[_0x3ad437(0xb73)]||'-';case'short_answer':return _0x3ad437(0x2d1);default:return'-';}},_0x21d83e=(_0x4b0f60,_0x510c8c)=>{const _0x578ca3=_0x42ee4d;if(_0x510c8c[_0x578ca3(0x389)]===null||_0x510c8c[_0x578ca3(0x389)]===undefined)return'-';const _0x4afcb0=_0x4b0f60[_0x578ca3(0x789)]||_0x82c2a2[_0x578ca3(0x13d)];switch(_0x4afcb0){case _0x578ca3(0x29d):const _0x1e8a16=_0x4b0f60['options'][_0x578ca3(0x17a)](_0x1111b6=>_0x1111b6===_0x510c8c[_0x578ca3(0x313)]);return _0x1e8a16!==-0x1?_0x4f3f3d(_0x1e8a16):_0x510c8c['answerText']||'-';case _0x578ca3(0x475):if(_0x510c8c[_0x578ca3(0x389)]=='0'||_0x510c8c[_0x578ca3(0x389)]===!![]||_0x510c8c['answer']==='true')return _0x578ca3(0xab0);return _0x578ca3(0x538);default:return _0x510c8c[_0x578ca3(0x389)];}};let _0x5536e2=_0x42ee4d(0x505)+_0x47b317[_0x42ee4d(0x618)]((_0x4d9ec7,_0x5ef7a9)=>_0x42ee4d(0xc03)+(_0x5ef7a9+0x1)+'</th>')[_0x42ee4d(0xd29)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47b317[_0x42ee4d(0x618)](_0x4b21e3=>_0x42ee4d(0xb86)+_0x243b1f(_0x4b21e3)+'</td>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x1470a9[_0x42ee4d(0x229)](_0x809294=>{const _0x12bae3=_0x42ee4d;_0x5536e2+='<tr>',_0x5536e2+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x809294+_0x12bae3(0x622);const _0xe03e33=_0x3d0ffd[_0x809294];if(_0xe03e33){const _0x41570a=_0xe03e33[_0x12bae3(0xb4e)][_0xe03e33[_0x12bae3(0xb4e)][_0x12bae3(0xab1)]-0x1];_0x47b317[_0x12bae3(0x229)]((_0xc6813a,_0x3093a7)=>{const _0xc0001e=_0x12bae3,_0xb63b6c=_0x41570a['answers']['find'](_0x2e2c23=>_0x2e2c23[_0xc0001e(0xb82)]===_0xc6813a['id']);if(_0xb63b6c){let _0x52c9cb='';const _0x30af8a=_0xb63b6c[_0xc0001e(0x2a1)]===!![],_0x12ac73=_0xb63b6c['wasConfident']===!![]||_0xb63b6c['wasConfident']===_0xc0001e(0x7bb);_0x12ac73?_0x52c9cb=_0x30af8a?_0xc0001e(0x144):'bg-red-500\x20text-white\x20font-bold':_0x52c9cb=_0x30af8a?'bg-green-100':'bg-red-100',_0x5536e2+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x52c9cb+'\x22>'+_0x21d83e(_0xc6813a,_0xb63b6c)+_0xc0001e(0x622);}else _0x5536e2+=_0xc0001e(0x24c);});}else _0x5536e2+=_0x47b317[_0x12bae3(0x618)](()=>_0x12bae3(0xb36))[_0x12bae3(0xd29)]('');_0x5536e2+=_0x12bae3(0x8c4);}),_0x5536e2+=_0x42ee4d(0x3cb),_0x41238c['innerHTML']=_0x5536e2;}function renderQuizResultsTable(_0x202782,_0x597cad,_0x24c669){const _0x226c25=_0x1f917e,_0x116388=_0x597cad['reduce']((_0x3fcdea,_0x42c88e)=>{const _0x3e9cd3=_0x36ac;return _0x3fcdea[_0x42c88e[_0x3e9cd3(0xbcf)]]=_0x42c88e,_0x3fcdea;},{}),_0x11265e=document[_0x226c25(0x22d)](_0x226c25(0x652));_0x11265e&&!_0x11265e[_0x226c25(0xcd8)][_0x226c25(0x42a)]('จัดการ')&&(_0x11265e[_0x226c25(0xcd8)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x4a128e=document[_0x226c25(0x2bc)](_0x226c25(0x287));if(!_0x202782||_0x202782[_0x226c25(0xab1)]===0x0){_0x4a128e['innerHTML']=_0x226c25(0x23d);return;}const _0x4d701f=_0x24c669['isRemedial']===!![],_0x4804ae=_0x24c669[_0x226c25(0x327)]?.[_0x226c25(0x619)]??-0x1;let _0x3a44c7='';_0x202782[_0x226c25(0x229)](_0x320a20=>{const _0x190526=_0x226c25,_0x2797b8=_0x116388[_0x320a20];let _0x28009c=_0x190526(0x2d4)+(_0x4d701f?_0x190526(0xb3f):_0x190526(0x5be))+'\x22>'+(_0x4d701f?_0x190526(0x156):_0x190526(0x2dd))+_0x190526(0xb63);if(_0x2797b8){if(_0x2797b8['attempts']&&_0x2797b8[_0x190526(0xb4e)][_0x190526(0xab1)]>0x0){let _0x2768e3=_0x4d701f?_0x2797b8[_0x190526(0x8ad)]===_0x2797b8[_0x190526(0x25e)]:_0x4804ae!==-0x1&&_0x2797b8['bestScore']>=_0x4804ae;const _0x2d54a7=_0x2768e3?_0x190526(0x795):_0x190526(0xb28),_0x41d7e7=_0x2768e3?_0x190526(0x579):_0x190526(0x20c),_0x531011=_0x190526(0x7be)+_0x2d54a7+'\x22>'+_0x41d7e7+_0x190526(0xb63),_0x5ee138=_0x190526(0xbd9)+(_0x2797b8[_0x190526(0xb4e)]?.[_0x190526(0xab1)]||0x1)+'\x20ครั้ง)</span></td>';_0x3a44c7+=_0x190526(0x21f)+_0x320a20+_0x190526(0x657)+_0x2797b8[_0x190526(0x8ad)]+_0x190526(0x4b8)+_0x2797b8[_0x190526(0x25e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x531011+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28009c+_0x190526(0x163)+_0x2797b8[_0x190526(0x624)]+_0x190526(0x4b8)+_0x2797b8[_0x190526(0x25e)]+_0x190526(0x996)+_0x2797b8['latestScore']+_0x190526(0x4b8)+_0x2797b8['totalQuestions']+_0x190526(0x9ea)+(_0x2797b8['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ee138+_0x190526(0x24e)+new Date(_0x2797b8[_0x190526(0xc5f)])[_0x190526(0x698)](_0x190526(0x2bf))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x320a20+_0x190526(0x8d3);}else{const _0x29d953='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x3a44c7+=_0x190526(0x8f6)+_0x320a20+_0x190526(0x1cf)+_0x28009c+_0x190526(0xb53)+_0x29d953+_0x190526(0x24e)+new Date(_0x2797b8[_0x190526(0x23f)])[_0x190526(0x698)]('th-TH')+_0x190526(0xc32)+_0x320a20+_0x190526(0x8d3);}}else{const _0x421f65=_0x190526(0x8a1);_0x3a44c7+=_0x190526(0x1fd)+_0x320a20+_0x190526(0xc61)+_0x28009c+_0x190526(0xbe8)+_0x421f65+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x4a128e[_0x226c25(0xcd8)]=_0x3a44c7;}async function confirmRenameQuiz(){const _0x51e488=_0x1f917e,_0x43602b=document[_0x51e488(0x2bc)](_0x51e488(0x7bc))[_0x51e488(0xa21)][_0x51e488(0x1df)]();if(!_0x43602b){showMessage(_0x51e488(0x974));return;}if(!actionTargetId)return;const _0x3cad1a=doc(db,_0x51e488(0x366)+appId+_0x51e488(0xcbc),actionTargetId);try{await updateDoc(_0x3cad1a,{'topic':_0x43602b}),showMessage(_0x51e488(0x8db)),renameQuizModal[_0x51e488(0x517)][_0x51e488(0x546)](_0x51e488(0x44c)),actionTargetId=null;}catch(_0x36373a){console[_0x51e488(0x512)](_0x51e488(0x1c5),_0x36373a),showMessage(_0x51e488(0x3f6));}}async function handleMoveQuiz(_0x573684){const _0x47b218=_0x1f917e;actionTargetId=_0x573684;const _0x207f50=document[_0x47b218(0x2bc)](_0x47b218(0x580));_0x207f50[_0x47b218(0xcd8)]=_0x47b218(0x220),moveQuizModal['classList'][_0x47b218(0x1b5)](_0x47b218(0x44c));try{const _0x5494bf=collection(db,'artifacts/'+appId+_0x47b218(0x7ad)),_0x5e8862=await getDocs(_0x5494bf),_0xa693b1=_0x5e8862[_0x47b218(0xac3)]['map'](_0x3bbdcb=>({'id':_0x3bbdcb['id'],..._0x3bbdcb[_0x47b218(0x923)]()})),_0x3350b6=_0xa693b1['filter'](_0x2c1219=>_0x2c1219['id']!==currentProjectId);if(_0x3350b6[_0x47b218(0xab1)]===0x0){_0x207f50[_0x47b218(0xcd8)]=_0x47b218(0x82f),document['getElementById'](_0x47b218(0x54f))[_0x47b218(0x8ab)]=!![];return;}_0x207f50[_0x47b218(0xcd8)]=_0x3350b6['map'](_0x178d9c=>_0x47b218(0x9dd)+_0x178d9c['id']+'\x22>'+_0x178d9c[_0x47b218(0x30b)]+_0x47b218(0xba6))['join'](''),document[_0x47b218(0x2bc)](_0x47b218(0x54f))[_0x47b218(0x8ab)]=![];}catch(_0xd9e016){console[_0x47b218(0x512)]('Error\x20fetching\x20projects\x20for\x20move:',_0xd9e016),showMessage(_0x47b218(0xd2f)),moveQuizModal[_0x47b218(0x517)][_0x47b218(0x546)](_0x47b218(0x44c));}}async function confirmMoveQuiz(){const _0x424019=_0x1f917e,_0x39c24f=document[_0x424019(0x2bc)](_0x424019(0x580))[_0x424019(0xa21)];if(!_0x39c24f){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x130479=doc(db,_0x424019(0x366)+appId+_0x424019(0xcbc),actionTargetId);try{await updateDoc(_0x130479,{'projectId':_0x39c24f}),showMessage(_0x424019(0xbda)),moveQuizModal[_0x424019(0x517)][_0x424019(0x546)](_0x424019(0x44c)),actionTargetId=null;}catch(_0xfd092f){console[_0x424019(0x512)](_0x424019(0x847),_0xfd092f),showMessage(_0x424019(0xb9c));}}async function handleQuizSettings(_0x5e23e4){const _0x559ead=_0x1f917e;actionTargetId=_0x5e23e4;const _0x4b7f8c=doc(db,_0x559ead(0x366)+appId+'/public/data/quizzes',_0x5e23e4);try{const _0x569c66=await getDoc(_0x4b7f8c);if(_0x569c66['exists']()){const _0x45c97a=_0x569c66[_0x559ead(0x923)](),_0x1bc3f0=_0x45c97a['settings']||{},_0x5313aa=_0x45c97a[_0x559ead(0x320)][_0x559ead(0xab1)];document[_0x559ead(0x2bc)](_0x559ead(0x7d3))[_0x559ead(0xa21)]=_0x1bc3f0['shuffle']||'none',document['getElementById']('modal-results-display-select')[_0x559ead(0xa21)]=_0x1bc3f0['resultsDisplay']||_0x559ead(0xc3b),document[_0x559ead(0x2bc)]('modal-timer-mode-select')[_0x559ead(0xa21)]=_0x1bc3f0[_0x559ead(0x60d)]||_0x559ead(0x1d8),document[_0x559ead(0x2bc)](_0x559ead(0x3c6))['value']=_0x1bc3f0[_0x559ead(0x724)]||0xa,document[_0x559ead(0x2bc)](_0x559ead(0x20b))[_0x559ead(0xa21)]=_0x1bc3f0[_0x559ead(0x619)]||Math[_0x559ead(0x854)](_0x5313aa/0x2),document[_0x559ead(0x2bc)](_0x559ead(0x20b))['max']=_0x5313aa,document['getElementById'](_0x559ead(0x1b7))[_0x559ead(0x6b7)]=_0x1bc3f0[_0x559ead(0x892)]||![],document['getElementById'](_0x559ead(0x6c8))[_0x559ead(0x6b7)]=_0x1bc3f0[_0x559ead(0xbd4)]||![];const _0xc1f6c5=_0x1bc3f0['isConfidenceScoringEnabled']||![];document[_0x559ead(0x2bc)]('modal-confidence-scoring-checkbox')['checked']=_0xc1f6c5,document[_0x559ead(0x2bc)](_0x559ead(0x8cb))[_0x559ead(0xa21)]=_0x1bc3f0[_0x559ead(0xbd0)]||'checkbox';const _0x2cd61d=document[_0x559ead(0x2bc)](_0x559ead(0x3c3));_0x2cd61d[_0x559ead(0x517)]['toggle'](_0x559ead(0x44c),!_0xc1f6c5),document['getElementById'](_0x559ead(0x1c2))[_0x559ead(0x8ec)](new Event(_0x559ead(0x18d))),quizSettingsModal[_0x559ead(0x517)][_0x559ead(0x1b5)]('hidden');}else showMessage(_0x559ead(0x827));}catch(_0x262254){console['error'](_0x559ead(0xbc2),_0x262254),showMessage(_0x559ead(0x3f2));}}async function confirmQuizSettings(){const _0x2eea4f=_0x1f917e;if(!actionTargetId)return;const _0x3b0148=doc(db,'artifacts/'+appId+_0x2eea4f(0xcbc),actionTargetId),_0x161d71={'shuffle':document[_0x2eea4f(0x2bc)]('modal-shuffle-select')[_0x2eea4f(0xa21)],'resultsDisplay':document[_0x2eea4f(0x2bc)](_0x2eea4f(0x936))[_0x2eea4f(0xa21)],'timerMode':document[_0x2eea4f(0x2bc)](_0x2eea4f(0x1c2))['value'],'timerDuration':parseInt(document[_0x2eea4f(0x2bc)](_0x2eea4f(0x3c6))[_0x2eea4f(0xa21)])||0xa,'passingScore':parseInt(document['getElementById'](_0x2eea4f(0x20b))['value'])||0x0,'isAdaptive':document[_0x2eea4f(0x2bc)](_0x2eea4f(0x1b7))[_0x2eea4f(0x6b7)],'loopUntilPass':document[_0x2eea4f(0x2bc)](_0x2eea4f(0x6c8))[_0x2eea4f(0x6b7)],'isConfidenceScoringEnabled':document[_0x2eea4f(0x2bc)](_0x2eea4f(0x353))[_0x2eea4f(0x6b7)],'confidenceMode':document[_0x2eea4f(0x2bc)](_0x2eea4f(0x8cb))[_0x2eea4f(0xa21)]};try{await updateDoc(_0x3b0148,{'settings':_0x161d71}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x2eea4f(0x517)][_0x2eea4f(0x546)]('hidden'),actionTargetId=null;}catch(_0x8b0865){console[_0x2eea4f(0x512)](_0x2eea4f(0x5e6),_0x8b0865),showMessage(_0x2eea4f(0x503));}}async function confirmQuizStatus(){const _0x5c9cea=_0x1f917e;if(!actionTargetId)return;const _0x441e14=doc(db,'artifacts/'+appId+_0x5c9cea(0xcbc),actionTargetId),_0x2b61d6=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x2b61d6){showMessage(_0x5c9cea(0x8cf));return;}const _0x387998=_0x2b61d6[_0x5c9cea(0xa21)];let _0x25652e={};if(_0x387998===_0x5c9cea(0x50f)||_0x387998===_0x5c9cea(0xae6))_0x25652e={'status':_0x387998,'startTime':null,'endTime':null};else{if(_0x387998==='schedule'){const _0x40efd0=document[_0x5c9cea(0x2bc)](_0x5c9cea(0x90e))[_0x5c9cea(0xa21)],_0x4b77f0=document[_0x5c9cea(0x2bc)](_0x5c9cea(0xa9a))[_0x5c9cea(0xa21)];if(!_0x40efd0&&!_0x4b77f0){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x25652e={'status':_0x5c9cea(0x982),'startTime':_0x40efd0?new Date(_0x40efd0)[_0x5c9cea(0x597)]():null,'endTime':_0x4b77f0?new Date(_0x4b77f0)['toISOString']():null};}}try{await updateDoc(_0x441e14,_0x25652e),showMessage(_0x5c9cea(0x947)),quizStatusModal['classList'][_0x5c9cea(0x546)](_0x5c9cea(0x44c)),actionTargetId=null;}catch(_0x401ff4){console[_0x5c9cea(0x512)](_0x5c9cea(0x89a),_0x401ff4),showMessage(_0x5c9cea(0x481));}}function listenForStudentProfiles(_0x40968d){const _0xb5412b=_0x1f917e,_0x3862d4=collection(db,'artifacts/'+appId+_0xb5412b(0x84e)+_0x40968d+_0xb5412b(0x677));unsubscribeStudentProfilesListener=onSnapshot(_0x3862d4,_0x29fb4c=>{const _0x467bcc=_0xb5412b,_0x4fab86=_0x29fb4c[_0x467bcc(0xac3)][_0x467bcc(0x618)](_0x48d4ce=>_0x48d4ce[_0x467bcc(0x923)]());renderLeaderboard(_0x4fab86,_0x467bcc(0xaca));},_0x3c390a=>{const _0x1dc236=_0xb5412b;console[_0x1dc236(0x512)](_0x1dc236(0x38e),_0x3c390a),document[_0x1dc236(0x2bc)](_0x1dc236(0xaca))[_0x1dc236(0xcd8)]=_0x1dc236(0x7c0);});}function renderLeaderboard(_0x4391d6,_0x272c89){const _0x59def4=_0x1f917e,_0x114988=document[_0x59def4(0x2bc)](_0x272c89);if(!_0x4391d6||_0x4391d6[_0x59def4(0xab1)]===0x0){_0x114988[_0x59def4(0xcd8)]=_0x59def4(0x5ef);return;}_0x4391d6[_0x59def4(0x817)]((_0x2fdf6b,_0x32d30f)=>{const _0x4cb751=_0x59def4,_0x162a0e=(_0x32d30f[_0x4cb751(0x91c)]||0x0)-(_0x2fdf6b[_0x4cb751(0x91c)]||0x0);if(_0x162a0e!==0x0)return _0x162a0e;const _0x1d78af=(_0x32d30f[_0x4cb751(0x432)]?.['specialist']||0x0)-(_0x2fdf6b[_0x4cb751(0x432)]?.[_0x4cb751(0xb7b)]||0x0);if(_0x1d78af!==0x0)return _0x1d78af;const _0x38835e=(_0x32d30f['badgesCount']?.['first_try_ace']||0x0)-(_0x2fdf6b[_0x4cb751(0x432)]?.['first_try_ace']||0x0);if(_0x38835e!==0x0)return _0x38835e;const _0x34cf5d=(_0x32d30f[_0x4cb751(0x432)]?.['perfect_score']||0x0)-(_0x2fdf6b[_0x4cb751(0x432)]?.['perfect_score']||0x0);if(_0x34cf5d!==0x0)return _0x34cf5d;const _0x441c67=(_0x32d30f[_0x4cb751(0x432)]?.[_0x4cb751(0x3d3)]||0x0)-(_0x2fdf6b[_0x4cb751(0x432)]?.[_0x4cb751(0x3d3)]||0x0);if(_0x441c67!==0x0)return _0x441c67;return _0x2fdf6b[_0x4cb751(0xbcf)][_0x4cb751(0x6e3)](_0x32d30f[_0x4cb751(0xbcf)],'th');});let _0x39f3e5='';_0x4391d6['forEach']((_0x48ab73,_0x5bbc17)=>{const _0x1bddeb=_0x59def4,_0x13d0bb=_0x5bbc17+0x1,_0x5f2951=_0x48ab73[_0x1bddeb(0x432)]||{};let _0x1da811='';const _0x24fb46=['specialist',_0x1bddeb(0x601),_0x1bddeb(0x3db),'quick_thinker'];_0x24fb46['forEach'](_0x1c9376=>{const _0x1e5674=_0x1bddeb;if(_0x5f2951[_0x1c9376]>0x0){const _0x4fbe7d=Object[_0x1e5674(0x631)](BADGES)['find'](_0xfbb9f4=>_0xfbb9f4['id']===_0x1c9376);_0x4fbe7d&&(_0x1c9376==='specialist'?_0x1da811+=_0x1e5674(0xc7a)+_0x4fbe7d[_0x1e5674(0xc85)]+_0x1e5674(0x2a0)+_0x4fbe7d['icon']+_0x1e5674(0x6f7):_0x1da811+=_0x1e5674(0xc7a)+_0x4fbe7d['name']+'\x20('+_0x5f2951[_0x1c9376]+_0x1e5674(0x66b)+_0x4fbe7d[_0x1e5674(0x8fe)]+_0x1e5674(0x34a)+_0x5f2951[_0x1c9376]+_0x1e5674(0x524));}}),_0x39f3e5+=_0x1bddeb(0x490)+_0x13d0bb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x48ab73[_0x1bddeb(0xbcf)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x48ab73[_0x1bddeb(0x91c)]||0x0)+_0x1bddeb(0x8ee)+(_0x1da811||'-')+_0x1bddeb(0xa77);}),_0x114988[_0x59def4(0xcd8)]=_0x39f3e5;}function displayLoopScreen(_0x1cb2ca,_0x136ec3,_0x410eb0){const _0x3059fc=_0x1f917e;let _0x258122='';_0x410eb0!==_0x3059fc(0x54a)&&(_0x258122=_0x3059fc(0xc26)+_0x1cb2ca+_0x3059fc(0x4b8)+_0x136ec3+_0x3059fc(0x2eb));const _0x337875='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x258122+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3059fc(0xcd8)]=_0x337875,studentResultArea[_0x3059fc(0x517)][_0x3059fc(0x1b5)](_0x3059fc(0x44c)),studentQuizArea[_0x3059fc(0x517)][_0x3059fc(0x546)]('hidden'),document['getElementById'](_0x3059fc(0x7a1))[_0x3059fc(0x8de)](_0x3059fc(0xc20),()=>{const _0x1c2970=_0x3059fc;studentResultArea[_0x1c2970(0x517)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x34d533,_0x2ef0fe,_0x153a08){const _0x51de7d=_0x1f917e,_0x5a77f6=document[_0x51de7d(0x2bc)](_0x153a08),_0x61fee0=_0x153a08===_0x51de7d(0x399),_0x371042=_0x2ef0fe[_0x51de7d(0x320)][_0x51de7d(0xab1)],_0x2bbe35=document['getElementById'](_0x153a08)[_0x51de7d(0x634)]('table');if(_0x2bbe35&&!_0x61fee0){const _0x44fb57=_0x2bbe35[_0x51de7d(0x22d)]('thead');_0x44fb57[_0x51de7d(0xcd8)]=_0x51de7d(0x42c);}if(!_0x34d533||_0x34d533[_0x51de7d(0xab1)]===0x0){_0x5a77f6[_0x51de7d(0xcd8)]=_0x51de7d(0x2ee)+(_0x61fee0?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x198e0d=[..._0x34d533];_0x198e0d[_0x51de7d(0x817)]((_0x2dd85f,_0x3cf658)=>{const _0x431b46=_0x51de7d;let _0x54906c,_0x5103b1;switch(quizLeaderboardSortBy){case _0x431b46(0xbcf):_0x54906c=_0x2dd85f['studentName']||'',_0x5103b1=_0x3cf658[_0x431b46(0xbcf)]||'';return quizLeaderboardSortOrder===_0x431b46(0x690)?_0x54906c[_0x431b46(0x6e3)](_0x5103b1,'th'):_0x5103b1[_0x431b46(0x6e3)](_0x54906c,'th');case _0x431b46(0x245):_0x54906c=_0x2dd85f[_0x431b46(0x245)]||0x0,_0x5103b1=_0x3cf658[_0x431b46(0x245)]||0x0;break;case _0x431b46(0xb4e):_0x54906c=_0x2dd85f[_0x431b46(0xb4e)]?.[_0x431b46(0xab1)]||0x1,_0x5103b1=_0x3cf658[_0x431b46(0xb4e)]?.[_0x431b46(0xab1)]||0x1;break;case _0x431b46(0xc5f):_0x54906c=new Date(_0x2dd85f[_0x431b46(0xc5f)]),_0x5103b1=new Date(_0x3cf658[_0x431b46(0xc5f)]);break;case _0x431b46(0x8ad):default:_0x54906c=_0x2dd85f[_0x431b46(0x8ad)],_0x5103b1=_0x3cf658['bestScore'];break;}if(_0x54906c<_0x5103b1)return quizLeaderboardSortOrder===_0x431b46(0x690)?-0x1:0x1;if(_0x54906c>_0x5103b1)return quizLeaderboardSortOrder===_0x431b46(0x690)?0x1:-0x1;return 0x0;});const _0x44d163=_0x2ef0fe['isRemedial']===!![],_0x3bb291=_0x2ef0fe[_0x51de7d(0x327)]?.[_0x51de7d(0x619)]??-0x1;let _0x525e29='';_0x198e0d[_0x51de7d(0x229)]((_0x264550,_0x1e71eb)=>{const _0x3d783d=_0x51de7d,_0x35fe47=_0x1e71eb+0x1;let _0x162740=_0x3d783d(0x215);if(_0x44d163||_0x3bb291!==-0x1){let _0x1aad2a=_0x44d163?_0x264550[_0x3d783d(0x8ad)]===_0x371042:_0x264550[_0x3d783d(0x8ad)]>=_0x3bb291;const _0x788473=_0x1aad2a?_0x3d783d(0x795):_0x3d783d(0xb28),_0xb13ded=_0x1aad2a?'ผ่าน':'ไม่ผ่าน';_0x162740=_0x3d783d(0x79f)+_0x788473+'\x22>'+_0xb13ded+_0x3d783d(0xb63);}const _0x515f2c=_0x264550[_0x3d783d(0xb4e)][_0x264550[_0x3d783d(0xb4e)][_0x3d783d(0xab1)]-0x1],_0x402cae=(_0x515f2c['badges']||[])['map'](_0x135214=>{const _0x30a5ce=_0x3d783d,_0x270b1f=Object[_0x30a5ce(0x631)](BADGES)[_0x30a5ce(0xaa2)](_0x1a7139=>_0x1a7139['id']===_0x135214);return _0x270b1f?_0x30a5ce(0x536)+_0x270b1f[_0x30a5ce(0xc85)]+_0x30a5ce(0xbc3)+_0x270b1f[_0x30a5ce(0x8fe)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x525e29+=_0x3d783d(0x775)+_0x35fe47+_0x3d783d(0x7c3)+_0x264550[_0x3d783d(0xbcf)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x264550[_0x3d783d(0x8ad)]+_0x3d783d(0x4b8)+_0x371042+_0x3d783d(0x748)+_0x162740+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x264550['points']||0x0)+_0x3d783d(0x748)+(_0x61fee0?'':_0x3d783d(0x425)+(_0x264550['attempts']?.[_0x3d783d(0xab1)]||0x1)+_0x3d783d(0x622))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x61fee0?'':_0x3d783d(0x502)+new Date(_0x264550[_0x3d783d(0xc5f)])[_0x3d783d(0x698)]('th-TH')+_0x3d783d(0x622))+_0x3d783d(0x1d9)+(_0x402cae||'-')+_0x3d783d(0x295);}),_0x5a77f6['innerHTML']=_0x525e29,_0x2bbe35&&!_0x61fee0&&_0x2bbe35[_0x51de7d(0x362)](_0x51de7d(0x70b))['forEach'](_0x2042b2=>{const _0x33563d=_0x51de7d,_0x22061c=_0x2042b2[_0x33563d(0x22d)](_0x33563d(0x7d7));if(_0x22061c)_0x22061c['remove']();_0x2042b2[_0x33563d(0x4e3)][_0x33563d(0x817)]===quizLeaderboardSortBy&&(_0x2042b2[_0x33563d(0xcd8)]+=_0x33563d(0x596)+(quizLeaderboardSortOrder===_0x33563d(0x690)?'▲':'▼')+_0x33563d(0x5ad));});}async function handleDeleteSubmission(_0x2d7de4){const _0x8864f8=_0x1f917e;if(!currentQuizData||!currentQuizData['id']||!_0x2d7de4){showMessage(_0x8864f8(0x3a0));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x2d7de4+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x4f26dc=_0x8864f8,_0xac2f9a=currentQuizData['id'],_0x14af44=doc(db,_0x4f26dc(0x366)+appId+_0x4f26dc(0x9ef)+_0xac2f9a+_0x4f26dc(0x9a3),_0x2d7de4);try{await deleteDoc(_0x14af44),showMessage(_0x4f26dc(0xc6a)+_0x2d7de4+_0x4f26dc(0xc31));}catch(_0x30e0fb){console[_0x4f26dc(0x512)](_0x4f26dc(0x627),_0x30e0fb),showMessage(_0x4f26dc(0x8f1));}});}async function handleLoadQuiz(){const _0x5f0962=_0x1f917e,_0x4df42c=document['getElementById'](_0x5f0962(0xcbd)),_0x58e864=_0x4df42c[_0x5f0962(0xa21)]['trim']();if(!_0x58e864){showMessage(_0x5f0962(0xb52));return;}loadQuizBtn[_0x5f0962(0x8ab)]=!![],loadQuizBtn[_0x5f0962(0xcd8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x931181=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x58e864),_0x3f84da=await getDoc(_0x931181);if(!_0x3f84da[_0x5f0962(0x485)]()){showMessage(_0x5f0962(0x309));return;}currentQuizData={'id':_0x3f84da['id'],..._0x3f84da[_0x5f0962(0x923)]()};const _0x14e4bb=currentQuizData[_0x5f0962(0x845)]||_0x5f0962(0x50f),_0x35e747=new Date();if(_0x14e4bb==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x14e4bb===_0x5f0962(0x982)){const _0x2833e3=currentQuizData['startTime']?new Date(currentQuizData[_0x5f0962(0x656)]):null,_0x5807aa=currentQuizData[_0x5f0962(0x6e7)]?new Date(currentQuizData[_0x5f0962(0x6e7)]):null;if(_0x2833e3&&_0x35e747<_0x2833e3){showMessage(_0x5f0962(0x595)+_0x2833e3[_0x5f0962(0x698)](_0x5f0962(0x2bf),{'hour12':![]}));return;}if(_0x5807aa&&_0x35e747>_0x5807aa){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x1810f9=currentQuizData[_0x5f0962(0x7f9)];currentProjectId=_0x1810f9;const _0x7cde1c=doc(db,_0x5f0962(0x366)+appId+'/public/data/projects',_0x1810f9),_0x107ded=await getDoc(_0x7cde1c);if(!_0x107ded[_0x5f0962(0x485)]()){showMessage(_0x5f0962(0x742));return;}const _0x3da193=_0x107ded[_0x5f0962(0x923)]();currentStudentProjectData=_0x3da193,displayStudentNameSelector(_0x3da193[_0x5f0962(0x456)],currentQuizData[_0x5f0962(0x533)]);}catch(_0x2073f6){console[_0x5f0962(0x512)](_0x5f0962(0xc29),_0x2073f6),showMessage(_0x5f0962(0xd2a));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x5f0962(0xcd8)]=_0x5f0962(0xca2);}}async function handleJoinLiveGame(){const _0x5f2a54=_0x1f917e,_0x450b3f=document['getElementById'](_0x5f2a54(0x5b3)),_0x486494=document[_0x5f2a54(0x2bc)]('nickname-input'),_0x53b9e1=document['getElementById']('confirm-join-game-btn'),_0x44a204=_0x450b3f[_0x5f2a54(0xa21)]['trim'](),_0x26e53e=_0x486494[_0x5f2a54(0xa21)]['trim']();if(!_0x44a204||!_0x26e53e){showMessage(_0x5f2a54(0x3a5));return;}_0x53b9e1[_0x5f2a54(0x8ab)]=!![],_0x53b9e1[_0x5f2a54(0xcd8)]=_0x5f2a54(0x80e);try{const _0xe1fc0d=collection(db,_0x5f2a54(0x366)+appId+_0x5f2a54(0x447)),_0x304ce6=query(_0xe1fc0d,where(_0x5f2a54(0x2b4),'==',_0x44a204),where(_0x5f2a54(0x845),'in',[_0x5f2a54(0xaec),_0x5f2a54(0xaa7)])),_0x14f10b=await getDocs(_0x304ce6);if(_0x14f10b[_0x5f2a54(0x24d)]){showMessage(_0x5f2a54(0xc36));return;}const _0x50a4a4=_0x14f10b[_0x5f2a54(0xac3)][0x0],_0x37e5a4=_0x50a4a4[_0x5f2a54(0x923)]();currentLiveGameId=_0x50a4a4['id'];const _0x5e8a38=_0x37e5a4['quizId'],_0x5615bb=doc(db,_0x5f2a54(0x366)+appId+_0x5f2a54(0xcbc),_0x5e8a38),_0x35d6fa=await getDoc(_0x5615bb);if(!_0x35d6fa[_0x5f2a54(0x485)]()){showMessage(_0x5f2a54(0xcdf));return;}currentQuizData={'id':_0x35d6fa['id'],..._0x35d6fa[_0x5f2a54(0x923)]()};if(_0x37e5a4[_0x5f2a54(0x81b)]&&_0x37e5a4['players'][_0x26e53e]){const _0x1f2b97=_0x37e5a4[_0x5f2a54(0x81b)][_0x26e53e];if(_0x1f2b97[_0x5f2a54(0x845)]===_0x5f2a54(0xae6)){_0x53b9e1['innerHTML']=_0x5f2a54(0x36c);const _0x15924a={};_0x15924a[_0x5f2a54(0xbad)+_0x26e53e+'.status']=_0x5f2a54(0x50f),await updateDoc(doc(db,'artifacts/'+appId+_0x5f2a54(0x447),currentLiveGameId),_0x15924a),showView('live-game'),currentStudentName=_0x26e53e,listenForLiveGameUpdates();return;}else{showMessage(_0x5f2a54(0x736));return;}}if(_0x37e5a4[_0x5f2a54(0x845)]!==_0x5f2a54(0xaec)){showMessage(_0x5f2a54(0x54c));return;}_0x53b9e1[_0x5f2a54(0xcd8)]=_0x5f2a54(0x7ce);const _0x30d6dc={};_0x30d6dc[_0x5f2a54(0xbad)+_0x26e53e]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x5f2a54(0x50f)},await updateDoc(doc(db,_0x5f2a54(0x366)+appId+_0x5f2a54(0x447),currentLiveGameId),_0x30d6dc),currentStudentName=_0x26e53e,listenForLiveGameUpdates();}catch(_0x42a8b1){console['error'](_0x5f2a54(0x55e),_0x42a8b1),showMessage(_0x5f2a54(0xa29));}finally{_0x53b9e1[_0x5f2a54(0x8ab)]=![],_0x53b9e1['innerHTML']=_0x5f2a54(0x53f);}}function displayStudentNameSelector(_0x5700a0,_0x4dde34){const _0x457f1a=_0x1f917e,_0x3b9ade=document['getElementById'](_0x457f1a(0xb1f));document[_0x457f1a(0x2bc)](_0x457f1a(0x87e))[_0x457f1a(0x806)]=_0x457f1a(0x6d7)+_0x4dde34,!_0x5700a0||_0x5700a0['length']===0x0?(_0x3b9ade[_0x457f1a(0xcd8)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x457f1a(0x8ab)]=!![]):(_0x3b9ade['innerHTML']=_0x457f1a(0x2ef),_0x5700a0[_0x457f1a(0x229)](_0xda3c57=>{const _0x29875e=_0x457f1a,_0x15b8d1=document[_0x29875e(0x3ff)](_0x29875e(0x6fc));_0x15b8d1[_0x29875e(0xa21)]=_0xda3c57,_0x15b8d1[_0x29875e(0x806)]=_0xda3c57,_0x3b9ade[_0x29875e(0x289)](_0x15b8d1);}),startQuizBtn[_0x457f1a(0x8ab)]=![]),studentInitialView[_0x457f1a(0x517)][_0x457f1a(0x546)](_0x457f1a(0x44c)),studentNameSelectionView[_0x457f1a(0x517)]['remove']('hidden');}function shuffleArray(_0x100918){const _0x2a24d3=_0x1f917e;for(let _0x331f4c=_0x100918[_0x2a24d3(0xab1)]-0x1;_0x331f4c>0x0;_0x331f4c--){const _0x74f9f0=Math[_0x2a24d3(0x854)](Math[_0x2a24d3(0xca7)]()*(_0x331f4c+0x1));[_0x100918[_0x331f4c],_0x100918[_0x74f9f0]]=[_0x100918[_0x74f9f0],_0x100918[_0x331f4c]];}}function getShuffledQuiz(_0x1c04c7){const _0x41934c=_0x1f917e;let _0x5b5a16=JSON['parse'](JSON[_0x41934c(0x4e2)](_0x1c04c7));const _0x5361fc=_0x5b5a16[_0x41934c(0x327)]?.[_0x41934c(0x642)]||_0x41934c(0x1d8);if(_0x5361fc===_0x41934c(0x1d8))return _0x5b5a16;return(_0x5361fc===_0x41934c(0x90d)||_0x5361fc==='both')&&shuffleArray(_0x5b5a16['questions']),(_0x5361fc===_0x41934c(0x361)||_0x5361fc==='both')&&_0x5b5a16[_0x41934c(0x320)][_0x41934c(0x229)](_0x39a0e8=>{const _0x49e53c=_0x41934c,_0x44f57c=_0x39a0e8[_0x49e53c(0x789)]||_0x5b5a16['quizType'];if(_0x39a0e8['options']){let _0x585539=_0x39a0e8[_0x49e53c(0xae7)][_0x49e53c(0x618)]((_0x7be58e,_0x26a212)=>({'text':_0x7be58e,'isCorrect':_0x26a212===_0x39a0e8[_0x49e53c(0x16b)]}));shuffleArray(_0x585539),_0x39a0e8['options']=_0x585539['map'](_0x3ac257=>_0x3ac257[_0x49e53c(0xbaa)]),_0x39a0e8['correctAnswerIndex']=_0x585539[_0x49e53c(0x17a)](_0xec4bf8=>_0xec4bf8[_0x49e53c(0x2a1)]);}_0x44f57c===_0x49e53c(0x4c9)&&_0x39a0e8[_0x49e53c(0x607)]&&shuffleArray(_0x39a0e8[_0x49e53c(0x607)]);}),_0x5b5a16;}function displayQuizForStudent(_0x13d49a){const _0x3e93b5=_0x1f917e;studentQuizArea[_0x3e93b5(0x517)][_0x3e93b5(0x1b5)](_0x3e93b5(0x44c)),currentDisplayedQuiz=getShuffledQuiz(_0x13d49a);currentMode!==_0x3e93b5(0xd17)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3e93b5(0x8de)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x3e93b5(0xc34),handleVisibilityChange),enterFullscreen(),window[_0x3e93b5(0x8de)](_0x3e93b5(0x53e),resetDimTimer),window[_0x3e93b5(0x8de)]('mousedown',resetDimTimer),window[_0x3e93b5(0x8de)](_0x3e93b5(0x486),resetDimTimer),window[_0x3e93b5(0x8de)](_0x3e93b5(0xa65),resetDimTimer),resetDimTimer());const _0x4ec530=currentDisplayedQuiz[_0x3e93b5(0x327)]?.[_0x3e93b5(0x60d)]||_0x3e93b5(0x1d8);if(_0x4ec530===_0x3e93b5(0x8a0))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x3e93b5(0x327)]['timerDuration']);else _0x4ec530===_0x3e93b5(0x4b6)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x11590e=_0x1f917e,_0x4098b6=currentDisplayedQuiz[_0x11590e(0x327)]?.[_0x11590e(0x563)]===!![],_0x533a7a=currentDisplayedQuiz['settings']?.[_0x11590e(0xbd0)]||_0x11590e(0x8af);let _0x375ff4=_0x11590e(0x938)+currentDisplayedQuiz[_0x11590e(0x533)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x11590e(0xd17)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x11590e(0x320)][_0x11590e(0x229)]((_0xf6467e,_0x2610c0)=>{const _0x26267f=_0x11590e,_0x228c3c=_0xf6467e[_0x26267f(0x789)]||currentDisplayedQuiz[_0x26267f(0x13d)];_0x375ff4+=_0x26267f(0x6ce);if(_0x228c3c===_0x26267f(0x4c9)){}else _0x375ff4+=_0x26267f(0x76d)+(_0x2610c0+0x1)+'.\x20'+(_0xf6467e[_0x26267f(0x593)]||_0xf6467e['questionText'])+_0x26267f(0x51d),_0xf6467e[_0x26267f(0x679)]&&(_0x375ff4+=_0x26267f(0x689)+_0xf6467e['imageCode']+'</div>');_0x375ff4+=_0x26267f(0xadd);switch(_0x228c3c){case _0x26267f(0x48c):_0x375ff4+=_0x26267f(0xc3a)+_0x2610c0+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x375ff4+=_0x26267f(0x3e3)+_0x2610c0+_0x26267f(0x7f1)+_0x2610c0+_0x26267f(0x829)+_0x2610c0+_0x26267f(0x2a7),_0x375ff4+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2610c0+_0x26267f(0x256)+_0x2610c0+_0x26267f(0x19c)+_0x2610c0+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x26267f(0x4c9):_0x375ff4+=_0x26267f(0xc0f)+_0xf6467e['stem']+_0x26267f(0xb67)+_0x2610c0+_0x26267f(0x39c)+_0xf6467e[_0x26267f(0x607)][_0x26267f(0x618)](_0x36d02d=>_0x26267f(0x9dd)+_0x36d02d+'\x22>'+_0x36d02d+_0x26267f(0xba6))[_0x26267f(0xd29)]('')+_0x26267f(0x27d);break;default:_0x375ff4+=_0xf6467e[_0x26267f(0xae7)]['map']((_0x33a9e0,_0x26ca9a)=>_0x26267f(0x352)+_0x2610c0+'_opt'+_0x26ca9a+'\x22\x20name=\x22question'+_0x2610c0+_0x26267f(0x47d)+_0x26ca9a+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2610c0+_0x26267f(0x598)+_0x26ca9a+'\x22>'+_0x33a9e0+_0x26267f(0x97f))['join']('');break;}_0x375ff4+='</div>',_0x4098b6&&(_0x375ff4+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x533a7a===_0x26267f(0xb76)?_0x375ff4+=_0x26267f(0x5ba)+_0x2610c0+'\x22\x20name=\x22confidence'+_0x2610c0+_0x26267f(0x59e)+_0x2610c0+_0x26267f(0x633)+_0x2610c0+_0x26267f(0x7b0):_0x375ff4+=_0x26267f(0x38a)+_0x2610c0+_0x26267f(0x771)+_0x2610c0+_0x26267f(0x857)+_0x2610c0+_0x26267f(0x8e7),_0x375ff4+='</div>'),_0x375ff4+=_0x26267f(0xa8a);}),_0x375ff4+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x375ff4+=_0x11590e(0x1e4),studentQuizArea[_0x11590e(0xcd8)]=_0x375ff4;if(currentMode===_0x11590e(0xd17)){const _0x41baf0=document[_0x11590e(0x2bc)]('cancel-test-btn');if(_0x41baf0)_0x41baf0[_0x11590e(0x8de)](_0x11590e(0xc20),cancelAdminTest);}const _0x12ed08=document[_0x11590e(0x2bc)](_0x11590e(0x179));_0x12ed08&&(_0x12ed08['addEventListener'](_0x11590e(0x2f6),handleSubmitQuiz),_0x12ed08[_0x11590e(0x8de)](_0x11590e(0xc20),_0x5d0c74=>{const _0x2f25d2=_0x11590e;if(_0x5d0c74['target'][_0x2f25d2(0x517)]['contains'](_0x2f25d2(0x7cf))){const _0x458e0e=_0x5d0c74[_0x2f25d2(0x97d)],_0x236dd6=_0x458e0e['dataset']['questionIndex'],_0x24a8bc=_0x458e0e['dataset'][_0x2f25d2(0xa21)];document[_0x2f25d2(0x2bc)](_0x2f25d2(0x907)+_0x236dd6)[_0x2f25d2(0xa21)]=_0x24a8bc;const _0x557a6d=_0x458e0e[_0x2f25d2(0x1d6)];_0x557a6d[_0x2f25d2(0x362)](_0x2f25d2(0x236))['forEach'](_0x4787c2=>_0x4787c2[_0x2f25d2(0x517)]['remove'](_0x2f25d2(0x50f))),_0x458e0e[_0x2f25d2(0x517)]['add'](_0x2f25d2(0x50f));}}));if(window[_0x11590e(0x13e)])window[_0x11590e(0x13e)][_0x11590e(0xbc4)]([studentQuizArea]);}async function handleSubmitQuiz(_0x1fd030){const _0x1f2531=_0x1f917e;if(_0x1fd030)_0x1fd030[_0x1f2531(0x9f2)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x8fbb0d=document[_0x1f2531(0x2bc)](_0x1f2531(0x179));if(!_0x8fbb0d)return;const _0x147f26=currentDisplayedQuiz[_0x1f2531(0x327)]?.[_0x1f2531(0x563)]===!![],_0x3850f6=currentDisplayedQuiz[_0x1f2531(0x327)]?.['confidenceMode']||'checkbox';if(_0x147f26&&_0x3850f6===_0x1f2531(0xb76)){let _0x4e64b6=!![];for(let _0x5a0caf=0x0;_0x5a0caf<currentDisplayedQuiz['questions'][_0x1f2531(0xab1)];_0x5a0caf++){const _0xeeb004=_0x8fbb0d[_0x1f2531(0x22d)]('#confidence-input-'+_0x5a0caf);if(!_0xeeb004||_0xeeb004[_0x1f2531(0xa21)]===''){_0x4e64b6=![];break;}}if(!_0x4e64b6){showMessage(_0x1f2531(0xd23));return;}}const _0x4a4d68=_0x8fbb0d['querySelector'](_0x1f2531(0xcd6)),_0x29c609=currentDisplayedQuiz[_0x1f2531(0x320)]['some'](_0x586702=>_0x586702[_0x1f2531(0x789)]===_0x1f2531(0x48c));_0x4a4d68&&(_0x4a4d68[_0x1f2531(0x8ab)]=!![],_0x4a4d68['innerHTML']=_0x29c609?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x1f2531(0x88a));const _0x1db378=new FormData(_0x8fbb0d),_0x249ba4=currentDisplayedQuiz[_0x1f2531(0x320)][_0x1f2531(0x618)]((_0x2dd986,_0x55a7c9)=>{const _0x304e4e=_0x1f2531,_0xdb575=_0x1db378['get'](_0x304e4e(0xaa7)+_0x55a7c9);let _0x13ed4b;_0x3850f6===_0x304e4e(0xb76)?_0x13ed4b=_0x1db378[_0x304e4e(0xd13)](_0x304e4e(0x7de)+_0x55a7c9):_0x13ed4b=_0x1db378[_0x304e4e(0xd13)](_0x304e4e(0x7de)+_0x55a7c9)==='on';let _0x493a56=null;if(_0xdb575!==null&&_0xdb575!==undefined){const _0x4502d2=_0x2dd986[_0x304e4e(0x789)]||currentDisplayedQuiz[_0x304e4e(0x13d)];_0x4502d2===_0x304e4e(0x29d)||_0x4502d2===_0x304e4e(0x39d)?_0x493a56=parseInt(_0xdb575):_0x493a56=_0xdb575;}return{'answer':_0x493a56,'wasConfident':_0x13ed4b};}),_0x311ee5=currentQuizData['id'],_0x2cf0f5=doc(db,_0x1f2531(0x366)+appId+_0x1f2531(0x9ef)+_0x311ee5+_0x1f2531(0x9a3),currentStudentName),_0x4c63e=await getDoc(_0x2cf0f5),_0x1db80a=_0x4c63e[_0x1f2531(0x485)]()?_0x4c63e[_0x1f2531(0x923)]():{},_0x30532f=_0x1db80a[_0x1f2531(0xb4e)]||[];await processAndSubmitAnswers(_0x249ba4,_0x30532f);}async function gradeShortAnswerWithAI(_0xc1a894,_0x2a5a83){const _0xddc085=_0x1f917e;if(!_0xc1a894||!_0x2a5a83)return![];try{const _0x56ed04='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0xc1a894+_0xddc085(0x208)+_0x2a5a83+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x5b804d={'contents':[{'role':_0xddc085(0xb46),'parts':[{'text':_0x56ed04}]}]},_0x5644a3=_0xddc085(0x9e7),_0x31821e='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5644a3,_0x35fc25=await fetch(_0x31821e,{'method':_0xddc085(0x3b4),'headers':{'Content-Type':'application/json'},'body':JSON[_0xddc085(0x4e2)](_0x5b804d)});if(!_0x35fc25['ok'])throw new Error('API\x20call\x20failed');const _0x406b5b=await _0x35fc25[_0xddc085(0x8a7)](),_0x1c0dac=_0x406b5b['candidates'][0x0][_0xddc085(0xc75)][_0xddc085(0x770)][0x0][_0xddc085(0xbaa)][_0xddc085(0x1df)]()[_0xddc085(0x281)]();return _0x1c0dac===_0xddc085(0xbf6);}catch(_0x8c90f0){return console[_0xddc085(0x512)](_0xddc085(0xc81),_0x8c90f0),![];}}async function processAndSubmitAnswers(_0x1de44e,_0x5368a1){const _0x5d6785=_0x1f917e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5d6785(0xcab)]('fullscreenchange',handleFullscreenChange),document[_0x5d6785(0xcab)](_0x5d6785(0xc34),handleVisibilityChange);let _0x4036d1=0x0;const _0x36b387=[],_0x26ad51=currentDisplayedQuiz[_0x5d6785(0x320)][_0x5d6785(0xab1)];let _0x5bdfce=0x0,_0x5ee352=[];const _0x3d3dd2=currentDisplayedQuiz[_0x5d6785(0x320)];for(let _0x11b067=0x0;_0x11b067<_0x3d3dd2['length'];_0x11b067++){const _0x3093d2=_0x3d3dd2[_0x11b067],_0x48c7f8=_0x1de44e[_0x11b067],_0x3cc8d2=_0x48c7f8?_0x48c7f8[_0x5d6785(0x389)]:null,_0x467323=_0x48c7f8?_0x48c7f8['wasConfident']:null;let _0x300938=![],_0x64809a=0x0;if(_0x3cc8d2!==null&&_0x3cc8d2!==''){const _0x43eb95=_0x3093d2[_0x5d6785(0x789)]||currentDisplayedQuiz['quizType'];switch(_0x43eb95){case _0x5d6785(0x4c9):_0x300938=_0x3cc8d2===_0x3093d2[_0x5d6785(0xb73)];break;case _0x5d6785(0x475):const _0x66e8f4=_0x3cc8d2===!![]||_0x3cc8d2==='true';_0x300938=_0x66e8f4===_0x3093d2[_0x5d6785(0x9fa)];break;case'short_answer':_0x300938=await gradeShortAnswer(_0x3cc8d2,_0x3093d2);break;case'multiple_choice':default:_0x300938=Number(_0x3cc8d2)===_0x3093d2[_0x5d6785(0x16b)];break;}}if(currentDisplayedQuiz[_0x5d6785(0x327)]?.[_0x5d6785(0x563)]){const _0x4a3156=_0x48c7f8?_0x48c7f8['wasConfident']:null;if(_0x300938&&(_0x4a3156===!![]||_0x4a3156===_0x5d6785(0x7bb)))_0x64809a=0x2;else{if(_0x300938)_0x64809a=0x1;else{if(!_0x300938&&(_0x4a3156===![]||_0x4a3156===_0x5d6785(0x189)||_0x4a3156===null))_0x64809a=0x0;else!_0x300938&&(_0x4a3156===!![]||_0x4a3156===_0x5d6785(0x7bb))&&(_0x64809a=-0x1);}}}else _0x64809a=_0x300938?0x1:0x0;_0x4036d1+=_0x64809a;if(_0x300938){_0x5bdfce++;if(_0x5bdfce===0x3)_0x5ee352[_0x5d6785(0xad2)](BADGES[_0x5d6785(0x977)]['id']);}else _0x5bdfce=0x0;let _0x532a01=null;_0x3093d2[_0x5d6785(0xae7)]&&_0x3cc8d2!==null&&(_0x532a01=_0x3093d2['options'][_0x3cc8d2]),_0x36b387['push']({'questionId':_0x3093d2['id'],'answer':_0x3cc8d2,'answerText':_0x532a01,'isCorrect':_0x300938,'wasConfident':_0x467323,'pointsAwarded':_0x64809a,'originalQuestionText':_0x3093d2[_0x5d6785(0x629)]||_0x3093d2['questionText']});}const _0x2f605b=_0x36b387[_0x5d6785(0xa7a)](_0x1aa956=>_0x1aa956[_0x5d6785(0x2a1)])['length'],_0x3596cd=currentDisplayedQuiz[_0x5d6785(0x327)]?.[_0x5d6785(0x619)]??Math[_0x5d6785(0x854)](_0x26ad51/0x2);_0x2f605b===_0x26ad51&&_0x26ad51>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x5ee352[_0x5d6785(0xad2)](BADGES[_0x5d6785(0x4eb)]['id']);const _0x35359c=currentDisplayedQuiz['settings']?.[_0x5d6785(0x60d)];if(_0x35359c===_0x5d6785(0x8a0)&&quizStartTime){const _0x21c90d=(new Date()-quizStartTime)/0x3e8,_0x4483dc=currentDisplayedQuiz[_0x5d6785(0x327)][_0x5d6785(0x724)]*0x3c;_0x2f605b>=_0x3596cd&&_0x21c90d<_0x4483dc/0x2&&_0x5ee352[_0x5d6785(0xad2)](BADGES[_0x5d6785(0xb0d)]['id']);}_0x5368a1[_0x5d6785(0xab1)]===0x0&&_0x2f605b===_0x26ad51&&_0x26ad51>0x0&&_0x5ee352[_0x5d6785(0xad2)](BADGES['FIRST_TRY_ACE']['id']);if(_0x5368a1[_0x5d6785(0xab1)]>0x0){const _0x5dcdf9=_0x5368a1[0x0][_0x5d6785(0xa20)];if(_0x5dcdf9<_0x3596cd&&_0x2f605b>=_0x3596cd){const _0x5b90b5=_0x5368a1[_0x5d6785(0x21a)](_0x1a6e3f=>(_0x1a6e3f[_0x5d6785(0x22a)]||[])[_0x5d6785(0x42a)](BADGES[_0x5d6785(0x44b)]['id']));!_0x5b90b5&&_0x5ee352[_0x5d6785(0xad2)](BADGES[_0x5d6785(0x44b)]['id']);}}_0x5368a1[_0x5d6785(0xab1)]===0x4&&_0x5ee352[_0x5d6785(0xad2)](BADGES[_0x5d6785(0x221)]['id']);const _0x50aa3=currentDisplayedQuiz[_0x5d6785(0x327)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x50aa3,_0x2f605b,_0x4036d1,_0x5ee352,_0x36b387,_0x26ad51);return;}const _0x16e9fa=currentQuizData['id'],_0xb053dd=doc(db,_0x5d6785(0x366)+appId+_0x5d6785(0x9ef)+_0x16e9fa+'/submissions',currentStudentName);try{const _0x30b7a2=[..._0x5368a1],_0x548576={'score':_0x2f605b,'points':_0x4036d1,'badges':Array[_0x5d6785(0xaf4)](new Set(_0x5ee352)),'submittedAt':new Date()[_0x5d6785(0x597)](),'answers':_0x36b387};_0x30b7a2[_0x5d6785(0xad2)](_0x548576);const _0x3cb077=_0x5368a1[_0x5d6785(0xab1)]===0x0?_0x2f605b:_0x5368a1[0x0][_0x5d6785(0xa20)]||0x0,_0x5cc41b=Math[_0x5d6785(0x20e)](..._0x30b7a2[_0x5d6785(0x618)](_0xed294b=>_0xed294b['score']));await setDoc(_0xb053dd,{'studentName':currentStudentName,'totalQuestions':_0x26ad51,'attempts':_0x30b7a2,'firstScore':_0x3cb077,'bestScore':_0x5cc41b,'latestScore':_0x2f605b,'points':_0x4036d1,'latestSubmittedAt':_0x548576[_0x5d6785(0x2e7)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x5d6785(0x7f9)],currentStudentName),handleResultDisplay(_0x50aa3,_0x2f605b,_0x4036d1,_0x5ee352,_0x36b387,_0x26ad51);}catch(_0x5d6c20){console['error']('Error\x20saving\x20submission:',_0x5d6c20),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x293cfe,_0x16b3b3){const _0xfd4271=_0x1f917e,_0x5e231c=doc(db,_0xfd4271(0x366)+appId+_0xfd4271(0x84e)+_0x293cfe+_0xfd4271(0x677),_0x16b3b3);try{const _0xf696ec=query(collection(db,_0xfd4271(0x366)+appId+_0xfd4271(0xcbc)),where('projectId','==',_0x293cfe)),_0x4fc190=await getDocs(_0xf696ec),_0x394128=new Map(_0x4fc190[_0xfd4271(0xac3)]['map'](_0x45ab12=>[_0x45ab12['id'],_0x45ab12[_0xfd4271(0x923)]()])),_0x1ea8b5=Array[_0xfd4271(0xaf4)](_0x394128['keys']());await runTransaction(db,async _0x1ea1ce=>{const _0x21d5b3=_0xfd4271;let _0x36e7d1=0x0;const _0x17954a={};let _0xb53758=!![],_0x155bdb=0x0,_0x4a4ff3=0x0;for(const _0x52c0b4 of _0x1ea8b5){const _0x1b18f6=_0x394128[_0x21d5b3(0xd13)](_0x52c0b4),_0x2c3ec7=doc(db,'artifacts/'+appId+_0x21d5b3(0x9ef)+_0x52c0b4+_0x21d5b3(0x9a3),_0x16b3b3),_0x44b2b5=await _0x1ea1ce[_0x21d5b3(0xd13)](_0x2c3ec7);if(_0x44b2b5[_0x21d5b3(0x485)]()){const _0x2cbc4e=_0x44b2b5[_0x21d5b3(0x923)](),_0x2ce719=_0x2cbc4e[_0x21d5b3(0xb4e)]||[];if(_0x2ce719['length']>0x0){const _0x58c311=_0x2ce719[_0x21d5b3(0x5e7)]((_0x1bf695,_0x38851e)=>{const _0x59e360=_0x21d5b3;if(_0x38851e[_0x59e360(0xa20)]>_0x1bf695['score'])return _0x38851e;if(_0x38851e[_0x59e360(0xa20)]===_0x1bf695[_0x59e360(0xa20)])return(_0x38851e[_0x59e360(0x245)]||0x0)>(_0x1bf695[_0x59e360(0x245)]||0x0)?_0x38851e:_0x1bf695;return _0x1bf695;},{'score':-0x1,'points':-0x1});_0x58c311['score']>-0x1&&(_0x36e7d1+=_0x58c311['points']||0x0,(_0x58c311[_0x21d5b3(0x22a)]||[])[_0x21d5b3(0x229)](_0x5ed3db=>{_0x17954a[_0x5ed3db]=(_0x17954a[_0x5ed3db]||0x0)+0x1;}));}}if(_0x1b18f6[_0x21d5b3(0x533)]!=='แบบทดสอบซ่อมเสริม'){_0x4a4ff3++;if(_0x44b2b5[_0x21d5b3(0x485)]()){_0x155bdb++;const _0x52ac0d=_0x44b2b5[_0x21d5b3(0x923)]();_0x52ac0d['bestScore']!==_0x52ac0d[_0x21d5b3(0x25e)]&&(_0xb53758=![]);}else _0xb53758=![];}}_0x4a4ff3>0x0&&_0x155bdb===_0x4a4ff3&&_0xb53758?_0x17954a[_0x21d5b3(0xb7b)]=0x1:_0x17954a[_0x21d5b3(0xb7b)]=0x0,_0x1ea1ce[_0x21d5b3(0xb9b)](_0x5e231c,{'studentName':_0x16b3b3,'totalPoints':_0x36e7d1,'unlockedBadges':Object[_0x21d5b3(0x420)](_0x17954a)['filter'](_0x4377e4=>_0x17954a[_0x4377e4]>0x0),'badgesCount':_0x17954a},{'merge':!![]});});}catch(_0x310596){console[_0xfd4271(0x512)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x310596),showMessage(_0xfd4271(0xcbb));}}function startAdminTest(){const _0x1b409b=_0x1f917e;if(!currentQuizData){showMessage(_0x1b409b(0xbd2));return;}let _0x25c20e=JSON[_0x1b409b(0x195)](JSON['stringify'](currentQuizData));currentMode=_0x1b409b(0xd17),currentStudentName=_0x1b409b(0xa23),adminView[_0x1b409b(0x517)][_0x1b409b(0x546)](_0x1b409b(0x44c)),studentView[_0x1b409b(0x517)][_0x1b409b(0x1b5)](_0x1b409b(0x44c)),studentInitialView[_0x1b409b(0x517)][_0x1b409b(0x546)](_0x1b409b(0x44c)),studentNameSelectionView[_0x1b409b(0x517)]['add'](_0x1b409b(0x44c)),studentResultArea[_0x1b409b(0x517)]['add'](_0x1b409b(0x44c)),studentQuizArea[_0x1b409b(0x517)]['remove'](_0x1b409b(0x44c)),quizStartTime=new Date(),displayQuizForStudent(_0x25c20e);}function handleResultDisplay(_0xc223f5,_0x358078,_0x3653b2,_0x3bcaa7,_0x57ae10,_0x5187e8){const _0x19fffe=_0x1f917e;if(_0xc223f5===_0x19fffe(0xa2c)){displaySubmissionConfirmation();return;}const _0x22fe05=currentDisplayedQuiz['settings']?.[_0x19fffe(0x619)]??Math[_0x19fffe(0x854)](_0x5187e8/0x2),_0x5b7bb6=currentDisplayedQuiz[_0x19fffe(0x327)]?.[_0x19fffe(0x892)]??![],_0x4c40a7=currentDisplayedQuiz[_0x19fffe(0x327)]?.[_0x19fffe(0xbd4)]===!![],_0x411ebd=_0x358078<_0x22fe05,_0x3c90bd=_0xc223f5===_0x19fffe(0x300)||_0xc223f5===_0x19fffe(0xcad);if(_0x4c40a7&&_0x411ebd&&!_0x3c90bd){_0xc223f5==='show_results_and_answers'?displayResultsWithAnswers(_0x358078,_0x3653b2,_0x3bcaa7,_0x57ae10,_0x5187e8,!![]):displayLoopScreen(_0x358078,_0x5187e8,_0xc223f5);return;}if(_0x5b7bb6&&_0x411ebd){startAdaptiveFlow(_0x57ae10,_0x358078,_0x5187e8);return;}switch(_0xc223f5){case _0x19fffe(0xc3b):displayResultsWithAnswers(_0x358078,_0x3653b2,_0x3bcaa7,_0x57ae10,_0x5187e8);break;case'show_results_only':displayResultsScoreOnly(_0x358078,_0x3653b2,_0x3bcaa7,_0x5187e8);break;case _0x19fffe(0x54a):displayPassFailOnly(_0x358078,_0x5187e8);break;case _0x19fffe(0x300):displayHalfMarkResult(_0x358078,_0x5187e8);break;case'perfect_score_status':displayPerfectScoreResult(_0x358078,_0x5187e8);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x437648){const _0x5394cb=_0x1f917e;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x273f8c=_0x5394cb(0xcf6)+_0x437648+_0x5394cb(0x6f5)+simpleMathPrompt+_0x5394cb(0x279),_0x171010={'type':_0x5394cb(0x60a),'properties':{'questionText':{'type':_0x5394cb(0xab8)},'options':{'type':_0x5394cb(0x5b8),'items':{'type':_0x5394cb(0xab8)}},'correctAnswerIndex':{'type':_0x5394cb(0x16d)},'explanation':{'type':'STRING'}},'required':[_0x5394cb(0x551),'options',_0x5394cb(0x16b),'explanation']},_0x415b52={'type':_0x5394cb(0x60a),'properties':{'topic':{'type':_0x5394cb(0xab8)},'questions':{'type':_0x5394cb(0x5b8),'items':_0x171010}},'required':['topic','questions']};try{const _0x49295e=await callAnalysisApi(_0x273f8c,_0x415b52);_0x49295e[_0x5394cb(0x8be)]=!![],studentReadingArea['classList']['add'](_0x5394cb(0x44c));const _0x5e18a1={...currentDisplayedQuiz[_0x5394cb(0x327)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x49295e[_0x5394cb(0x327)]=_0x5e18a1,displayQuizForStudent(_0x49295e);}catch(_0x48c47c){console[_0x5394cb(0x512)](_0x5394cb(0x25b),_0x48c47c),showMessage(_0x5394cb(0x9c7)),showView(_0x5394cb(0x8fb));}}function displayPassFailOnly(_0x1631e8,_0x1ae816){const _0x5700c9=_0x1f917e,_0x1bf9d0=currentDisplayedQuiz['settings']?.[_0x5700c9(0x619)]??-0x1,_0x2f7b70=currentDisplayedQuiz['isRemedial']===!![];let _0x125d99='',_0x5044d2=![];if(_0x2f7b70||_0x1bf9d0!==-0x1){_0x5044d2=_0x2f7b70?_0x1631e8===_0x1ae816:_0x1631e8>=_0x1bf9d0;const _0x5384f0=_0x5044d2?'bg-green-100\x20text-green-800':_0x5700c9(0xb28),_0x4970b9=_0x5044d2?_0x5700c9(0x579):_0x5700c9(0x20c);_0x125d99=_0x5700c9(0x80d)+_0x5384f0+'\x22>'+_0x4970b9+_0x5700c9(0x71c);}else _0x125d99=_0x5700c9(0x5ae);let _0xe042c2=_0x5700c9(0x6ae)+currentStudentName+_0x5700c9(0x918)+_0x125d99+_0x5700c9(0xbac);studentResultArea[_0x5700c9(0xcd8)]=_0xe042c2,studentResultArea['classList'][_0x5700c9(0x1b5)](_0x5700c9(0x44c)),studentQuizArea[_0x5700c9(0x517)]['add']('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5044d2});}function cancelAdminTest(){const _0x2de660=_0x1f917e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x2de660(0xcab)](_0x2de660(0xc34),handleVisibilityChange),currentMode=_0x2de660(0x8f9),studentView['classList'][_0x2de660(0x546)](_0x2de660(0x44c)),adminView[_0x2de660(0x517)][_0x2de660(0x1b5)](_0x2de660(0x44c)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x2de660(0x682));}function setupResultScreenBackButton(_0x41efee){const _0x5b6740=_0x1f917e,_0x3737d5={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x41efee};if(_0x3737d5[_0x5b6740(0xc8d)]){const _0x46ae6d=_0x5b6740(0x4cf);studentResultArea[_0x5b6740(0x3f4)](_0x5b6740(0x77d),_0x46ae6d),document['getElementById']('retake-quiz-loop-btn')[_0x5b6740(0x8de)](_0x5b6740(0xc20),()=>{const _0x4fc7e6=_0x5b6740;studentResultArea['classList'][_0x4fc7e6(0x546)](_0x4fc7e6(0x44c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2ca715='back-from-results-btn',_0x1429e8=currentMode==='admin-testing',_0x133d15=_0x1429e8?_0x5b6740(0x2ea):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x23a59d='';_0x3737d5['showRankings']&&(_0x23a59d+=_0x5b6740(0x1de));let _0x16c791=_0x3737d5[_0x5b6740(0x3a8)];_0x16c791===undefined&&(_0x16c791=_0x3737d5['score']<_0x3737d5[_0x5b6740(0x25e)]);_0x16c791&&(_0x23a59d+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x23a59d+='<button\x20id=\x22'+_0x2ca715+_0x5b6740(0x325)+_0x133d15+'</button>';const _0x174099=_0x5b6740(0x18c)+_0x23a59d+_0x5b6740(0xa8a);studentResultArea[_0x5b6740(0x3f4)](_0x5b6740(0x77d),_0x174099),studentResultArea['querySelector'](_0x5b6740(0xbfe))?.[_0x5b6740(0x8de)](_0x5b6740(0xc20),handleShowStudentRankings);const _0x290781=studentResultArea[_0x5b6740(0x22d)]('#retake-for-improvement-btn');_0x290781&&_0x290781[_0x5b6740(0x8de)](_0x5b6740(0xc20),()=>{const _0x5a5309=_0x5b6740;studentResultArea['classList'][_0x5a5309(0x546)](_0x5a5309(0x44c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5b6740(0x2bc)](_0x2ca715)[_0x5b6740(0x8de)]('click',()=>{const _0x322a1d=_0x5b6740;_0x1429e8?(currentMode=_0x322a1d(0x8f9),studentView[_0x322a1d(0x517)][_0x322a1d(0x546)](_0x322a1d(0x44c)),adminView['classList']['remove'](_0x322a1d(0x44c)),showView(_0x322a1d(0x682))):(showView('student'),document[_0x322a1d(0x2bc)](_0x322a1d(0xcbd))[_0x322a1d(0xa21)]='');});}function displayResultsWithAnswers(_0x488505,_0x47cd38,_0x10ee35,_0x4e6282,_0x383643,_0x1d84f5=![]){const _0xa8d547=_0x1f917e,_0x5ccd45=_0x383643>0x0?_0x488505/_0x383643*0x64:0x0,_0x331ae4=currentDisplayedQuiz[_0xa8d547(0x327)]?.[_0xa8d547(0x619)]??-0x1,_0x816ea7=currentDisplayedQuiz[_0xa8d547(0x8be)]===!![];let _0x797301='';if(_0x816ea7||_0x331ae4!==-0x1){let _0x1b326d=_0x816ea7?_0x488505===_0x383643:_0x488505>=_0x331ae4;const _0x3a3bac=_0x1b326d?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x80a3fa=_0x1b326d?_0xa8d547(0x579):'ไม่ผ่าน';_0x797301=_0xa8d547(0x1f3)+_0x3a3bac+'\x22>'+_0x80a3fa+_0xa8d547(0x51d);}let _0x4c17dd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x488505+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x383643+_0xa8d547(0xc3e)+_0x797301+_0xa8d547(0x17b)+_0x47cd38+_0xa8d547(0x1b0)+_0x5ccd45[_0xa8d547(0x65c)](0x0)+_0xa8d547(0x35d);currentDisplayedQuiz[_0xa8d547(0x320)][_0xa8d547(0x229)]((_0x4dcf3d,_0x55b370)=>{const _0x194833=_0xa8d547,_0x2393b2=_0x4e6282[_0x55b370],_0x10378=_0x2393b2[_0x194833(0x389)],_0x5cf59e=_0x2393b2[_0x194833(0x2a1)],_0x388794=_0x4dcf3d[_0x194833(0x789)]||currentDisplayedQuiz[_0x194833(0x13d)];_0x4c17dd+=_0x194833(0x9a6)+(_0x5cf59e?_0x194833(0xa06):'border-red-300\x20bg-red-50')+_0x194833(0x64b)+(_0x55b370+0x1)+'.\x20'+(_0x4dcf3d[_0x194833(0x629)]||_0x4dcf3d[_0x194833(0x551)])+_0x194833(0x280);switch(_0x388794){case _0x194833(0x4c9):const _0x5862a6=_0x10378||_0x194833(0x713),_0x16eb45=_0x4dcf3d[_0x194833(0xb73)];_0x4c17dd+=_0x194833(0x751)+(!_0x5cf59e?_0x194833(0x2ab):'')+'\x22>'+_0x5862a6+_0x194833(0x344);!_0x5cf59e&&(_0x4c17dd+=_0x194833(0xa61)+_0x16eb45+'</p>');break;case _0x194833(0x48c):_0x4c17dd+=_0x194833(0x6cf)+(_0x10378||_0x194833(0x713))+_0x194833(0x51d),_0x4c17dd+=_0x194833(0xa7e)+_0x4dcf3d['idealAnswer']+_0x194833(0x51d);break;case _0x194833(0x475):_0x4c17dd+='<p\x20class=\x22'+(_0x4dcf3d[_0x194833(0x9fa)]===!![]?_0x194833(0x988):'')+'\x20'+(_0x10378===_0x194833(0xbf6)&&!_0x5cf59e?_0x194833(0x2ab):'')+'\x22>ใช่</p>',_0x4c17dd+=_0x194833(0x967)+(_0x4dcf3d[_0x194833(0x9fa)]===![]?_0x194833(0x988):'')+'\x20'+(_0x10378==='false'&&!_0x5cf59e?_0x194833(0x2ab):'')+_0x194833(0x573);break;default:_0x4c17dd+=_0x4dcf3d['options'][_0x194833(0x618)]((_0x108c2d,_0x55d4b8)=>{const _0x3c649a=_0x194833;let _0x6e93e9='',_0x1d1856='';if(_0x55d4b8===_0x4dcf3d[_0x3c649a(0x16b)])_0x6e93e9='font-bold\x20text-green-700',_0x1d1856=_0x3c649a(0x6d6);else _0x55d4b8===_0x10378&&(_0x6e93e9=_0x3c649a(0xc3c),_0x1d1856='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x3c649a(0x838)+_0x6e93e9+'\x22>'+_0x1d1856+_0x108c2d+_0x3c649a(0xa8a);})[_0x194833(0xd29)]('');break;}_0x4c17dd+=_0x194833(0x60f)+(_0x4dcf3d[_0x194833(0x557)]||_0x194833(0x68b))+_0x194833(0xa8a);if(!_0x5cf59e){const _0x414a08=_0x4dcf3d[_0x194833(0x629)]||_0x4dcf3d[_0x194833(0x551)];_0x4c17dd+=_0x194833(0x75b)+escape(_0x414a08)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x4c17dd+='</div>';}),studentResultArea[_0xa8d547(0xcd8)]=_0x4c17dd,renderEarnedBadges(_0x10ee35,_0xa8d547(0xa86)),studentResultArea[_0xa8d547(0x517)][_0xa8d547(0x1b5)](_0xa8d547(0x44c)),studentQuizArea['classList'][_0xa8d547(0x546)](_0xa8d547(0x44c)),setupResultScreenBackButton({'isLooping':_0x1d84f5,'score':_0x488505,'totalQuestions':_0x383643,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0xa8d547(0xbc4)]([studentResultArea]);}function displayResultsScoreOnly(_0x1779e1,_0x53e7ba,_0x5064e4,_0x1e18a1){const _0x2e5c61=_0x1f917e,_0x1f9103=_0x1e18a1>0x0?_0x1779e1/_0x1e18a1*0x64:0x0,_0x4dd17a=currentDisplayedQuiz[_0x2e5c61(0x327)]?.[_0x2e5c61(0x619)]??-0x1,_0x46a3d5=currentDisplayedQuiz[_0x2e5c61(0x8be)]===!![];let _0x217e39='';if(_0x46a3d5||_0x4dd17a!==-0x1){let _0x49592a=_0x46a3d5?_0x1779e1===_0x1e18a1:_0x1779e1>=_0x4dd17a;const _0x3ae36b=_0x49592a?_0x2e5c61(0x795):'bg-red-100\x20text-red-800',_0x4e2a88=_0x49592a?_0x2e5c61(0x579):_0x2e5c61(0x20c);_0x217e39=_0x2e5c61(0x1f3)+_0x3ae36b+'\x22>'+_0x4e2a88+_0x2e5c61(0x51d);}let _0x263e2f=_0x2e5c61(0x6ae)+currentStudentName+_0x2e5c61(0x4c3)+_0x1779e1+_0x2e5c61(0x43a)+_0x1e18a1+_0x2e5c61(0xc3e)+_0x217e39+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x53e7ba+_0x2e5c61(0xa2f)+_0x1f9103['toFixed'](0x0)+_0x2e5c61(0x489);studentResultArea[_0x2e5c61(0xcd8)]=_0x263e2f,renderEarnedBadges(_0x5064e4,_0x2e5c61(0xa86)),studentResultArea[_0x2e5c61(0x517)][_0x2e5c61(0x1b5)](_0x2e5c61(0x44c)),studentQuizArea['classList'][_0x2e5c61(0x546)](_0x2e5c61(0x44c)),setupResultScreenBackButton({'score':_0x1779e1,'totalQuestions':_0x1e18a1,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x250699=_0x1f917e;let _0x2a21e7=_0x250699(0x655)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x2a21e7,studentResultArea[_0x250699(0x517)][_0x250699(0x1b5)](_0x250699(0x44c)),studentQuizArea[_0x250699(0x517)][_0x250699(0x546)]('hidden'),document['getElementById'](_0x250699(0x5af))[_0x250699(0x8de)](_0x250699(0xc20),()=>{const _0x1b0205=_0x250699;showView('student'),document[_0x1b0205(0x2bc)](_0x1b0205(0xcbd))[_0x1b0205(0xa21)]='';});}function renderEarnedBadges(_0x439372,_0xdb75f1){const _0x33d66e=_0x1f917e,_0x40a35b=document[_0x33d66e(0x2bc)](_0xdb75f1);if(!_0x40a35b||!_0x439372||_0x439372[_0x33d66e(0xab1)]===0x0)return;let _0x18d489='';_0x439372[_0x33d66e(0x229)]((_0xb87d1c,_0x4a2577)=>{const _0x5705d0=_0x33d66e,_0x3ec3c3=Object[_0x5705d0(0x631)](BADGES)[_0x5705d0(0xaa2)](_0x128059=>_0x128059['id']===_0xb87d1c);_0x3ec3c3&&(_0x18d489+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x4a2577*0.2+_0x5705d0(0x894)+_0x3ec3c3['description']+_0x5705d0(0x32e)+_0x3ec3c3['icon']+_0x5705d0(0x68d)+_0x3ec3c3[_0x5705d0(0xc85)]+_0x5705d0(0x850));}),_0x40a35b['innerHTML']=_0x18d489;}function startPresentation(_0x371f87){const _0x5096e5=_0x1f917e;currentQuizData=getShuffledQuiz(_0x371f87),currentPresentationSlide=0x0,presentationModal[_0x5096e5(0x60e)][_0x5096e5(0x9b9)]=_0x5096e5(0x8fa),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x54a623=_0x1f917e;document[_0x54a623(0x46d)]&&document[_0x54a623(0xd33)](),presentationModal[_0x54a623(0x60e)][_0x54a623(0x9b9)]=_0x54a623(0x1d8);}function renderPresentationSlide(_0x2f53a5){const _0x327f50=_0x1f917e,_0x4899b5=document[_0x327f50(0x2bc)](_0x327f50(0xd10));if(!currentQuizData||!currentQuizData[_0x327f50(0x320)]||!currentQuizData[_0x327f50(0x320)][_0x2f53a5]){_0x4899b5['innerHTML']=_0x327f50(0x345);return;}const _0x1b5ee2=currentQuizData['questions'][_0x2f53a5],_0x340272=_0x1b5ee2[_0x327f50(0x789)]||currentQuizData[_0x327f50(0x13d)];_0x4899b5[_0x327f50(0xcd8)]='';let _0x2767a9=_0x327f50(0x604)+(_0x1b5ee2[_0x327f50(0x679)]?_0x327f50(0x689)+_0x1b5ee2['imageCode']+'</div>':'')+_0x327f50(0xbd3)+(_0x2f53a5+0x1)+'.\x20'+(_0x1b5ee2['stem']||_0x1b5ee2['questionText'])+_0x327f50(0x3c2);switch(_0x340272){case'matching_item':_0x2767a9+=_0x1b5ee2[_0x327f50(0x607)]['map'](_0x5c9ac0=>_0x327f50(0x5a0)+_0x5c9ac0+_0x327f50(0x51e))[_0x327f50(0xd29)]('');break;case _0x327f50(0x475):_0x2767a9+=_0x327f50(0x45b),_0x2767a9+=_0x327f50(0x853);break;case _0x327f50(0x6f2):case _0x327f50(0x48c):_0x2767a9+=_0x327f50(0xa56);break;case _0x327f50(0x39d):case'multiple_choice':default:_0x2767a9+=_0x1b5ee2['options']['map']((_0x517afd,_0x83d9e6)=>_0x327f50(0x866)+_0x83d9e6+_0x327f50(0x68e)+_0x517afd+_0x327f50(0x51e))[_0x327f50(0xd29)]('');break;}_0x2767a9+=_0x327f50(0xa0f)+(_0x1b5ee2[_0x327f50(0x557)]||'ไม่มีคำอธิบาย')+_0x327f50(0x465),_0x4899b5[_0x327f50(0xcd8)]=_0x2767a9;if(window[_0x327f50(0x13e)])window[_0x327f50(0x13e)][_0x327f50(0xbc4)]([_0x4899b5]);let _0x40525e=[];switch(_0x340272){case _0x327f50(0x4c9):_0x40525e=_0x1b5ee2[_0x327f50(0x607)]||[];break;case _0x327f50(0x475):_0x40525e=['ใช่',_0x327f50(0x538)];break;default:_0x40525e=_0x1b5ee2[_0x327f50(0xae7)]||[];break;}const _0x1f0c34=document['getElementById']('presentation-scratchpad-btn');_0x1f0c34&&(_0x1f0c34[_0x327f50(0x7aa)]=()=>{openScratchpad(_0x1b5ee2,_0x40525e);});document[_0x327f50(0x362)](_0x327f50(0x276))['forEach'](_0x36af0e=>{const _0x4351a8=_0x327f50;_0x36af0e[_0x4351a8(0x8de)](_0x4351a8(0xc20),_0x753930=>revealAnswerForPresentation(_0x2f53a5,_0x753930[_0x4351a8(0xa9d)]));});const _0x405c92=document[_0x327f50(0x2bc)]('check-presentation-answer-btn');_0x405c92&&_0x405c92['addEventListener']('click',()=>checkShortAnswerForPresentation(_0x2f53a5)),document[_0x327f50(0x2bc)](_0x327f50(0xc07))[_0x327f50(0x806)]=_0x327f50(0xc58)+(_0x2f53a5+0x1)+'\x20/\x20'+currentQuizData[_0x327f50(0x320)][_0x327f50(0xab1)],document['getElementById'](_0x327f50(0x85c))[_0x327f50(0x8ab)]=_0x2f53a5===0x0,document[_0x327f50(0x2bc)](_0x327f50(0x620))[_0x327f50(0x8ab)]=_0x2f53a5===currentQuizData[_0x327f50(0x320)][_0x327f50(0xab1)]-0x1;}async function checkShortAnswerForPresentation(_0x4c2b95){const _0x1b4112=_0x1f917e,_0x4c935a=currentQuizData[_0x1b4112(0x320)][_0x4c2b95],_0x4e25a5=document[_0x1b4112(0x2bc)](_0x1b4112(0x812)),_0x4f4daa=document[_0x1b4112(0x2bc)](_0x1b4112(0x32b)),_0x30d4fb=document['getElementById'](_0x1b4112(0x774)),_0x533eda=document[_0x1b4112(0x2bc)](_0x1b4112(0x576));if(!_0x4e25a5||!_0x4f4daa||!_0x30d4fb||!_0x533eda)return;const _0x296e75=_0x4e25a5[_0x1b4112(0xa21)]['trim']();if(_0x296e75==='')return;_0x4f4daa[_0x1b4112(0x8ab)]=!![],_0x4f4daa['innerHTML']=_0x1b4112(0x6b9),_0x4e25a5[_0x1b4112(0x8ab)]=!![];const _0x2d6631=await gradeShortAnswer(_0x296e75,_0x4c935a);_0x2d6631?_0x30d4fb[_0x1b4112(0xcd8)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x30d4fb[_0x1b4112(0xcd8)]=_0x1b4112(0x78a)+_0x4c935a['idealAnswer']+')',_0x30d4fb[_0x1b4112(0x517)][_0x1b4112(0x1b5)]('hidden'),_0x533eda['classList'][_0x1b4112(0x1b5)](_0x1b4112(0x44c)),_0x4f4daa[_0x1b4112(0x517)][_0x1b4112(0x546)](_0x1b4112(0x44c));}function revealAnswerForPresentation(_0x266730,_0x3da9d8){const _0x4ed3aa=_0x1f917e,_0x23b2a4=currentQuizData[_0x4ed3aa(0x320)][_0x266730],_0x591fff=_0x23b2a4['questionType']||currentQuizData[_0x4ed3aa(0x13d)];document[_0x4ed3aa(0x362)](_0x4ed3aa(0x276))[_0x4ed3aa(0x229)](_0x1254cd=>{const _0x351b3f=_0x4ed3aa;_0x1254cd['disabled']=!![],_0x1254cd[_0x351b3f(0x517)][_0x351b3f(0x1b5)](_0x351b3f(0x247));let _0x2aac12=![];if(_0x591fff===_0x351b3f(0x29d)||_0x591fff===_0x351b3f(0x39d)){const _0x336d73=parseInt(_0x1254cd[_0x351b3f(0x4e3)]['index']);_0x2aac12=_0x336d73===_0x23b2a4[_0x351b3f(0x16b)];}else{if(_0x591fff===_0x351b3f(0x475)){const _0x4a85d9=_0x1254cd[_0x351b3f(0x4e3)]['answer']===_0x351b3f(0xbf6);_0x2aac12=_0x4a85d9===_0x23b2a4[_0x351b3f(0x9fa)];}else _0x591fff==='matching_item'&&(_0x2aac12=_0x1254cd['textContent']['trim']()===_0x23b2a4[_0x351b3f(0xb73)]);}_0x2aac12?_0x1254cd['classList'][_0x351b3f(0x546)](_0x351b3f(0x52c),_0x351b3f(0xac1),_0x351b3f(0x33f)):_0x1254cd[_0x351b3f(0x517)][_0x351b3f(0x546)](_0x351b3f(0x1b3));}),_0x3da9d8['classList']['remove']('opacity-50');let _0xfa16f3=![];if(_0x591fff===_0x4ed3aa(0x29d))_0xfa16f3=parseInt(_0x3da9d8[_0x4ed3aa(0x4e3)]['index'])===_0x23b2a4['correctAnswerIndex'];else{if(_0x591fff==='true_false')_0xfa16f3=_0x3da9d8['dataset'][_0x4ed3aa(0x389)]==='true'===_0x23b2a4[_0x4ed3aa(0x9fa)];else _0x591fff===_0x4ed3aa(0x4c9)&&(_0xfa16f3=_0x3da9d8[_0x4ed3aa(0x806)][_0x4ed3aa(0x1df)]()===_0x23b2a4[_0x4ed3aa(0xb73)]);}!_0xfa16f3&&_0x3da9d8[_0x4ed3aa(0x517)][_0x4ed3aa(0x546)]('bg-red-500',_0x4ed3aa(0xac1),_0x4ed3aa(0xc6d)),document[_0x4ed3aa(0x2bc)](_0x4ed3aa(0x576))['classList'][_0x4ed3aa(0x1b5)]('hidden');}function startWholeQuizTimer(_0x38a4c9){const _0x4bd527=_0x1f917e,_0x4caa3f=document[_0x4bd527(0x2bc)](_0x4bd527(0x5d4));if(!_0x4caa3f)return;const _0x58c74c=Date[_0x4bd527(0x58e)]()+_0x38a4c9*0x3c*0x3e8;_0x4caa3f[_0x4bd527(0xcd8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0xce9c2e=document['getElementById'](_0x4bd527(0x7a6));quizTimerInterval=setInterval(()=>{const _0x4d57ac=_0x4bd527,_0x1b7c69=_0x58c74c-Date[_0x4d57ac(0x58e)]();if(_0x1b7c69<=0x0)clearInterval(quizTimerInterval),_0xce9c2e[_0x4d57ac(0x806)]=_0x4d57ac(0x943),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x5ca442=Math[_0x4d57ac(0x854)](_0x1b7c69/0x3e8/0x3c%0x3c)[_0x4d57ac(0x24a)]()[_0x4d57ac(0x816)](0x2,'0'),_0x112cb7=Math['floor'](_0x1b7c69/0x3e8%0x3c)[_0x4d57ac(0x24a)]()['padStart'](0x2,'0');_0xce9c2e[_0x4d57ac(0x806)]=_0x5ca442+':'+_0x112cb7;}},0x3e8);}function renderPerQuestionView(){const _0x22b423=_0x1f917e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5b1dd2=currentDisplayedQuiz[_0x22b423(0x320)][currentQuestionIndex],_0x1f39f0=_0x5b1dd2[_0x22b423(0x789)]||currentDisplayedQuiz['quizType'],_0x23f4a8=currentDisplayedQuiz[_0x22b423(0x327)]?.[_0x22b423(0x563)]===!![];let _0x1dd1ea=_0x22b423(0x85e)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x22b423(0x320)][_0x22b423(0xab1)]+_0x22b423(0x9d3)+(currentMode===_0x22b423(0xd17)?_0x22b423(0xaf1):'')+_0x22b423(0xb27)+currentDisplayedQuiz[_0x22b423(0x533)]+_0x22b423(0x140);studentQuizArea[_0x22b423(0xcd8)]=_0x1dd1ea;let _0x45e1af=_0x5b1dd2[_0x22b423(0x629)]||_0x5b1dd2[_0x22b423(0x551)];_0x5b1dd2[_0x22b423(0x679)]&&(_0x45e1af+=_0x22b423(0x689)+_0x5b1dd2[_0x22b423(0x679)]+_0x22b423(0xa8a));let _0x21d661='';switch(_0x1f39f0){case _0x22b423(0x48c):case _0x22b423(0x6f2):_0x21d661=_0x22b423(0x90a);break;case _0x22b423(0x475):_0x21d661='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x22b423(0x4c9):_0x21d661=_0x22b423(0xba2)+(_0x5b1dd2[_0x22b423(0x607)]||[])[_0x22b423(0x618)](_0xf3904a=>_0x22b423(0x9dd)+_0xf3904a+'\x22>'+_0xf3904a+_0x22b423(0xba6))['join']('')+_0x22b423(0x5e2);break;default:_0x5b1dd2['options']&&(_0x21d661=_0x5b1dd2[_0x22b423(0xae7)][_0x22b423(0x618)]((_0x344178,_0x5b5a2e)=>_0x22b423(0x561)+_0x5b5a2e+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x5b5a2e+_0x22b423(0x73b)+_0x5b5a2e+'\x22>'+_0x344178+'</label></div>')[_0x22b423(0xd29)](''));break;}document[_0x22b423(0x2bc)](_0x22b423(0x326))['innerHTML']=_0x45e1af,document['getElementById'](_0x22b423(0x9a1))[_0x22b423(0xcd8)]=_0x21d661;const _0x3ecad5=currentDisplayedQuiz[_0x22b423(0x327)]?.[_0x22b423(0x563)]===!![],_0x124f22=currentDisplayedQuiz[_0x22b423(0x327)]?.[_0x22b423(0xbd0)]||'checkbox';if(_0x3ecad5&&_0x124f22==='checkbox'){const _0x252b52=_0x22b423(0xb0a);studentQuizArea[_0x22b423(0x22d)](_0x22b423(0x51a))[_0x22b423(0x3f4)](_0x22b423(0x77d),_0x252b52);}studentQuizArea[_0x22b423(0x3f4)](_0x22b423(0x77d),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x22b423(0x320)][_0x22b423(0xab1)]-0x1?'ส่งคำตอบ':_0x22b423(0xd32))+_0x22b423(0x955));currentMode===_0x22b423(0xd17)&&document['getElementById'](_0x22b423(0x9bc))?.[_0x22b423(0x8de)]('click',cancelAdminTest);document[_0x22b423(0x2bc)](_0x22b423(0xcd5))['addEventListener'](_0x22b423(0xc20),()=>handleNextQuestionInTimedMode(![]));if(window[_0x22b423(0x13e)])window[_0x22b423(0x13e)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x22b423(0x327)]?.[_0x22b423(0x60d)]===_0x22b423(0x4b6)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x4fc338=_0x1f917e,_0x25689c=currentDisplayedQuiz[_0x4fc338(0x327)][_0x4fc338(0x724)],_0x2794a1=document[_0x4fc338(0x2bc)](_0x4fc338(0xac4));if(!_0x2794a1)return;let _0x34a64d=_0x25689c;_0x2794a1['innerHTML']=_0x4fc338(0x5d2)+_0x34a64d+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3ef391=document[_0x4fc338(0x2bc)]('timer-bar'),_0x53a4c8=document['getElementById'](_0x4fc338(0xc78));perQuestionTimerInterval=setInterval(()=>{const _0x5a8296=_0x4fc338;_0x34a64d--;const _0xe03cc9=_0x34a64d/_0x25689c*0x64;_0x3ef391['style'][_0x5a8296(0x966)]=_0xe03cc9+'%',_0x53a4c8[_0x5a8296(0x806)]=_0x34a64d,_0x34a64d<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x5a8296(0x8e2)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1b8158=![]){const _0x4012cf=_0x1f917e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2cfe52=null,_0xc9077=![];if(!_0x1b8158){const _0x5b72ad=currentDisplayedQuiz[_0x4012cf(0x320)][currentQuestionIndex],_0x142302=_0x5b72ad[_0x4012cf(0x789)]||currentDisplayedQuiz[_0x4012cf(0x13d)];if(_0x142302==='short_answer'||_0x142302===_0x4012cf(0x6f2))_0x2cfe52=document['querySelector'](_0x4012cf(0x31a))?.[_0x4012cf(0xa21)]['trim']()??'';else{if(_0x142302==='matching_item')_0x2cfe52=document[_0x4012cf(0x22d)](_0x4012cf(0xae9))?.['value']??'';else{const _0x56f354=document[_0x4012cf(0x22d)]('input[name=\x22question_single\x22]:checked');_0x56f354&&(_0x2cfe52=_0x56f354['value']);}}if(_0x2cfe52===null||_0x2cfe52===''){showMessage(_0x4012cf(0xa55)),startPerQuestionTimer();return;}const _0x4781e0=currentDisplayedQuiz[_0x4012cf(0x327)]?.['isConfidenceScoringEnabled']===!![],_0x116d42=currentDisplayedQuiz[_0x4012cf(0x327)]?.[_0x4012cf(0xbd0)]||_0x4012cf(0x8af);if(_0x4781e0&&_0x116d42===_0x4012cf(0xb76)){document[_0x4012cf(0x2bc)](_0x4012cf(0xb54))['dataset'][_0x4012cf(0x672)]=_0x4012cf(0xbff),document['getElementById'](_0x4012cf(0x992))[_0x4012cf(0xa21)]=_0x2cfe52,document[_0x4012cf(0x2bc)]('confidence-modal')[_0x4012cf(0x517)][_0x4012cf(0x1b5)](_0x4012cf(0x44c));return;}const _0x2b98e5=document['getElementById'](_0x4012cf(0x6da));_0x2b98e5&&(_0xc9077=_0x2b98e5[_0x4012cf(0x6b7)]);}const _0x29ed1f={'answer':_0x2cfe52,'wasConfident':_0xc9077};proceedToNextQuestion(_0x29ed1f);}async function finalizePerQuestionQuiz(){const _0x201cbf=_0x1f917e,_0x1a0a7a=currentDisplayedQuiz[_0x201cbf(0x320)][_0x201cbf(0x21a)](_0x427a6a=>_0x427a6a[_0x201cbf(0x789)]===_0x201cbf(0x48c));_0x1a0a7a?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x37c375=currentQuizData['id'],_0x1917c9=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x37c375+_0x201cbf(0x9a3),currentStudentName),_0x523cab=await getDoc(_0x1917c9),_0x216e1f=_0x523cab[_0x201cbf(0x485)]()?_0x523cab['data']():{},_0x20d1ff=_0x216e1f[_0x201cbf(0xb4e)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x20d1ff);}function getResultsFilename(){const _0x1f8695=_0x1f917e,_0x6d8289=document[_0x1f8695(0x2bc)](_0x1f8695(0xc33))[_0x1f8695(0x806)][_0x1f8695(0x794)](/[^a-z0-9]/gi,'_')[_0x1f8695(0x281)]();return _0x1f8695(0x9b3)+(_0x6d8289||'quiz');}function exportResultsAsImage(){const _0x554059=_0x1f917e,_0x55e31b=document['getElementById'](_0x554059(0x78b));showMessage(_0x554059(0xcfd)),html2canvas(_0x55e31b)[_0x554059(0xc19)](_0x372e77=>{const _0x5a7549=_0x554059,_0x880499=document['createElement']('a');_0x880499['download']=getResultsFilename()+_0x5a7549(0xa74),_0x880499['href']=_0x372e77['toDataURL'](_0x5a7549(0x375)),_0x880499[_0x5a7549(0xc20)](),messageModal['classList'][_0x5a7549(0x546)](_0x5a7549(0x44c));});}function exportResultsAsPDF(){const _0x19a0c=_0x1f917e,{jsPDF:_0x3bf54d}=window[_0x19a0c(0x9f1)],_0x4812bf=new _0x3bf54d();_0x4812bf[_0x19a0c(0x4fd)](_0x19a0c(0x4b4),_0x19a0c(0xb59)),_0x4812bf['autoTable']({'html':'#results-table'}),_0x4812bf[_0x19a0c(0xa3d)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x373517=_0x1f917e,_0xbf1b0c=_0x373517(0x8ae)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x373517(0xb47),_0x1dd328=_0x373517(0xbc7),_0x53b674=_0xbf1b0c+document[_0x373517(0x2bc)](_0x373517(0x78b))['innerHTML']+_0x1dd328,_0x5e54ce='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x53b674),_0x89261f=document[_0x373517(0x3ff)]('a');document['body'][_0x373517(0x289)](_0x89261f),_0x89261f[_0x373517(0x673)]=_0x5e54ce,_0x89261f[_0x373517(0x6ef)]=getResultsFilename()+'.doc',_0x89261f[_0x373517(0xc20)](),document[_0x373517(0x667)][_0x373517(0x13a)](_0x89261f);}function exportResultsAsExcel(){const _0x25f99b=_0x1f917e,_0x2586da=document[_0x25f99b(0x2bc)](_0x25f99b(0xc37));let _0x123ec1=[];for(let _0x5c6f4c=0x0;_0x5c6f4c<_0x2586da[_0x25f99b(0x27c)][_0x25f99b(0xab1)];_0x5c6f4c++){let _0x271575=[],_0x3899eb=_0x2586da['rows'][_0x5c6f4c][_0x25f99b(0x362)](_0x25f99b(0x8ff));for(let _0x3805ec=0x0;_0x3805ec<_0x3899eb[_0x25f99b(0xab1)];_0x3805ec++){_0x271575['push']('\x22'+_0x3899eb[_0x3805ec]['innerText'][_0x25f99b(0x794)](/"/g,'\x22\x22')+'\x22');}_0x123ec1[_0x25f99b(0xad2)](_0x271575[_0x25f99b(0xd29)](','));}const _0xc86df4=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x123ec1[_0x25f99b(0xd29)]('\x0a')],{'type':_0x25f99b(0xce3)}),_0x42626d=document[_0x25f99b(0x3ff)]('a');_0x42626d[_0x25f99b(0x673)]=URL[_0x25f99b(0x540)](_0xc86df4),_0x42626d[_0x25f99b(0x6ef)]=getResultsFilename()+_0x25f99b(0x13c),_0x42626d['click']();}function exportTableAsImage(_0x39c70b,_0x57a997){const _0x47b5b7=_0x1f917e,_0x3f9d1e=document[_0x47b5b7(0x2bc)](_0x39c70b);if(!_0x3f9d1e){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x47b5b7(0xcfd)),html2canvas(_0x3f9d1e)[_0x47b5b7(0xc19)](_0x363202=>{const _0xdd3202=_0x47b5b7,_0x3e7423=document['createElement']('a');_0x3e7423[_0xdd3202(0x6ef)]=_0x57a997+'.png',_0x3e7423[_0xdd3202(0x673)]=_0x363202[_0xdd3202(0x446)](_0xdd3202(0x375)),_0x3e7423[_0xdd3202(0xc20)](),messageModal[_0xdd3202(0x517)][_0xdd3202(0x546)](_0xdd3202(0x44c));});}function exportTableAsPDF(_0x274f58,_0x12fd9d){const _0x4f6f12=_0x1f917e,{jsPDF:_0x2c0e58}=window[_0x4f6f12(0x9f1)],_0x43e81e=new _0x2c0e58();_0x43e81e['setFont'](_0x4f6f12(0x4b4),_0x4f6f12(0xb59)),_0x43e81e['autoTable']({'html':'#'+_0x274f58}),_0x43e81e[_0x4f6f12(0xa3d)](_0x12fd9d+_0x4f6f12(0x70e));}function exportTableAsWord(_0x123682,_0x5b4792){const _0x49f39f=_0x1f917e,_0x3a41d9=document['getElementById'](_0x123682);if(!_0x3a41d9){showMessage(_0x49f39f(0xa26));return;}const _0x5ceedb='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x49f39f(0x285)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2c6076=_0x49f39f(0xbc7),_0x56e44d=_0x5ceedb+_0x3a41d9[_0x49f39f(0xcd8)]+_0x2c6076,_0x427a71=_0x49f39f(0xa51)+encodeURIComponent(_0x56e44d),_0x5bfda9=document['createElement']('a');document[_0x49f39f(0x667)][_0x49f39f(0x289)](_0x5bfda9),_0x5bfda9[_0x49f39f(0x673)]=_0x427a71,_0x5bfda9[_0x49f39f(0x6ef)]=_0x5b4792+_0x49f39f(0x2fb),_0x5bfda9[_0x49f39f(0xc20)](),document[_0x49f39f(0x667)][_0x49f39f(0x13a)](_0x5bfda9);}function exportTableAsExcel(_0x58517a,_0x4976d8){const _0x13bb7b=_0x1f917e,_0x48e24f=document['getElementById'](_0x58517a);if(!_0x48e24f){showMessage(_0x13bb7b(0xa26));return;}let _0x4d9f3b=[];for(let _0x5b132b=0x0;_0x5b132b<_0x48e24f['rows'][_0x13bb7b(0xab1)];_0x5b132b++){let _0x20ba6a=[],_0x404831=_0x48e24f[_0x13bb7b(0x27c)][_0x5b132b][_0x13bb7b(0x362)](_0x13bb7b(0x8ff));for(let _0x2b7b16=0x0;_0x2b7b16<_0x404831[_0x13bb7b(0xab1)];_0x2b7b16++){_0x20ba6a[_0x13bb7b(0xad2)]('\x22'+_0x404831[_0x2b7b16]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x4d9f3b[_0x13bb7b(0xad2)](_0x20ba6a[_0x13bb7b(0xd29)](','));}const _0xca6ba=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4d9f3b[_0x13bb7b(0xd29)]('\x0a')],{'type':_0x13bb7b(0xce3)}),_0x3f93c1=document[_0x13bb7b(0x3ff)]('a');_0x3f93c1['href']=URL[_0x13bb7b(0x540)](_0xca6ba),_0x3f93c1[_0x13bb7b(0x6ef)]=_0x4976d8+'.csv',_0x3f93c1[_0x13bb7b(0xc20)]();}function renderAnalytics(_0x3dca76,_0x1b8bb8){const _0x1b993a=_0x1f917e,_0x328526=_0x1b8bb8['filter'](_0x360236=>_0x360236['latestScore']!==undefined),_0x11b402=currentProjectData[_0x1b993a(0x456)][_0x1b993a(0xab1)],_0x44f497=_0x328526[_0x1b993a(0xab1)],_0x327bd3=_0x11b402-_0x44f497,_0x2fc89=_0x11b402>0x0?_0x44f497/_0x11b402*0x64:0x0,_0x5dd9e1=_0x328526[_0x1b993a(0x618)](_0x2a55f8=>_0x2a55f8['latestScore']),_0x2b6ce9=_0x5dd9e1[_0x1b993a(0xab1)]>0x0?_0x5dd9e1[_0x1b993a(0x5e7)]((_0x5a12ee,_0x32c273)=>_0x5a12ee+_0x32c273,0x0)/_0x5dd9e1[_0x1b993a(0xab1)]:0x0,_0x5af4c5=_0x3dca76[_0x1b993a(0x320)][_0x1b993a(0xab1)],_0x3498c9=_0x5af4c5>0x0?_0x2b6ce9/_0x5af4c5*0x64:0x0,_0x2bd413=calculateItemAnalysis(_0x3dca76,_0x328526),_0x4a9897=calculateReliabilityKR20(_0x3dca76,_0x328526,_0x2bd413[_0x1b993a(0xb03)]);let _0x2718c6='';if(_0x4a9897!==null){let _0x1762d6='';if(_0x4a9897>=0.9)_0x1762d6=_0x1b993a(0x984);else{if(_0x4a9897>=0.8)_0x1762d6='ดีมาก';else{if(_0x4a9897>=0.7)_0x1762d6='ดี';else{if(_0x4a9897>=0.6)_0x1762d6=_0x1b993a(0x63e);else _0x1762d6=_0x1b993a(0x501);}}}_0x2718c6=_0x1b993a(0x5cd)+_0x4a9897[_0x1b993a(0x65c)](0x2)+_0x1b993a(0x23e)+_0x1762d6+_0x1b993a(0xa57);}const _0x43e314=document[_0x1b993a(0x2bc)]('analytics-summary-cards');_0x43e314[_0x1b993a(0xcd8)]=_0x1b993a(0x7e6)+_0x2fc89[_0x1b993a(0x65c)](0x0)+_0x1b993a(0xbea)+_0x44f497+'/'+_0x11b402+_0x1b993a(0xb18)+_0x2b6ce9[_0x1b993a(0x65c)](0x2)+_0x1b993a(0x66a)+_0x3498c9[_0x1b993a(0x65c)](0x0)+_0x1b993a(0xa80)+(_0x5dd9e1[_0x1b993a(0xab1)]>0x0?Math[_0x1b993a(0x20e)](..._0x5dd9e1):_0x1b993a(0x95a))+_0x1b993a(0x2c6)+(_0x5dd9e1[_0x1b993a(0xab1)]>0x0?Math[_0x1b993a(0xc5b)](..._0x5dd9e1):_0x1b993a(0x95a))+_0x1b993a(0x623)+_0x2718c6+_0x1b993a(0x279);const _0x1e50e4=document['getElementById'](_0x1b993a(0x779));_0x1e50e4&&_0x1e50e4[_0x1b993a(0x1b5)]();const _0x57e33f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x43e314['insertAdjacentHTML'](_0x1b993a(0xa54),_0x57e33f);const _0x18b0c3=currentProjectData['students']||[];renderSubmissionChart(_0x44f497,_0x327bd3,_0x328526,_0x18b0c3),renderScoreDistributionChart(_0x328526,_0x5af4c5),renderQuestionAnalytics(_0x3dca76,_0x328526,_0x18b0c3),renderInterestingStats(_0x3dca76,_0x328526);}async function handleExportLessonPDF(){const _0x116a53=_0x1f917e,_0x154ee0=document[_0x116a53(0x2bc)](_0x116a53(0x22b)),_0x31956f=document[_0x116a53(0x2bc)](_0x116a53(0xaa8))[_0x116a53(0x806)],_0x39cf3d=window['open']('',_0x116a53(0x62b)),_0x13a4e0=_0x116a53(0x4dd)+_0x31956f+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x154ee0[_0x116a53(0xcd8)]+_0x116a53(0xcd0);_0x39cf3d[_0x116a53(0x91d)][_0x116a53(0x5f1)](_0x13a4e0),_0x39cf3d['document'][_0x116a53(0x797)](),_0x39cf3d[_0x116a53(0x384)]=function(){setTimeout(()=>{const _0x543dcf=_0x36ac;_0x39cf3d[_0x543dcf(0x7ca)]();},0x5dc);};}function renderInterestingStats(_0x32e068,_0x451325){const _0x215e2d=_0x1f917e,_0x46ae71=document[_0x215e2d(0x2bc)]('interesting-stats-container');if(!_0x46ae71)return;if(_0x451325['length']===0x0){_0x46ae71['innerHTML']=_0x215e2d(0x40f);return;}const _0x1f10aa=_0x32e068[_0x215e2d(0x320)][_0x215e2d(0x618)]((_0x267f61,_0xc89479)=>({'index':_0xc89479+0x1,'text':_0x267f61['questionText']||_0x267f61[_0x215e2d(0x629)],'correct':0x0}));_0x451325[_0x215e2d(0x229)](_0x1ccf83=>{const _0xe6be95=_0x215e2d,_0x54f107=_0x1ccf83[_0xe6be95(0xb4e)][_0x1ccf83['attempts']['length']-0x1];_0x54f107&&_0x54f107['answers']&&_0x54f107[_0xe6be95(0x5b7)][_0xe6be95(0x229)](_0x4d5ba6=>{const _0x3146ff=_0xe6be95,_0x20ef27=_0x1f10aa[_0x3146ff(0xaa2)](_0x1a7727=>_0x1a7727[_0x3146ff(0xbaa)]===_0x4d5ba6[_0x3146ff(0x6ca)]);_0x4d5ba6[_0x3146ff(0x2a1)]&&_0x20ef27&&_0x20ef27[_0x3146ff(0xd09)]++;});});const _0xd95c=_0x451325[_0x215e2d(0xab1)],_0x20d5bc=Math[_0x215e2d(0x20e)](..._0x1f10aa[_0x215e2d(0x618)](_0x523caa=>_0x523caa['correct'])),_0x40b9d4=Math[_0x215e2d(0xc5b)](..._0x1f10aa[_0x215e2d(0x618)](_0x524006=>_0x524006[_0x215e2d(0xd09)])),_0x37642a=_0x1f10aa[_0x215e2d(0xa7a)](_0x2f51df=>_0x2f51df['correct']===_0x20d5bc)[_0x215e2d(0x618)](_0x53b266=>_0x215e2d(0x917)+_0x53b266[_0x215e2d(0x8b1)]),_0xcd4fed=_0x1f10aa[_0x215e2d(0xa7a)](_0x7ec393=>_0x7ec393[_0x215e2d(0xd09)]===_0x40b9d4)[_0x215e2d(0x618)](_0x1fdd8e=>_0x215e2d(0x917)+_0x1fdd8e[_0x215e2d(0x8b1)]),_0xc69fc3=_0x451325[_0x215e2d(0x817)]((_0xf79661,_0x31cc30)=>_0x31cc30[_0x215e2d(0x2b2)]-_0xf79661[_0x215e2d(0x2b2)])[_0x215e2d(0xa7a)]((_0x58341c,_0x238518,_0x47ca48)=>_0x58341c[_0x215e2d(0x2b2)]===_0x47ca48[0x0][_0x215e2d(0x2b2)]),_0x4a9b81=_0x451325[_0x215e2d(0x817)]((_0x643b58,_0xff52d1)=>_0x643b58[_0x215e2d(0x2b2)]-_0xff52d1[_0x215e2d(0x2b2)])[_0x215e2d(0xa7a)]((_0x1810d1,_0x39023c,_0x579180)=>_0x1810d1['latestScore']===_0x579180[0x0][_0x215e2d(0x2b2)]),_0x2c28a9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x37642a[_0x215e2d(0xd29)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x20d5bc+_0x215e2d(0x4b8)+_0xd95c+_0x215e2d(0x186)+_0xcd4fed[_0x215e2d(0xd29)](',\x20')+_0x215e2d(0x15c)+(_0xd95c-_0x40b9d4)+'\x20/\x20'+_0xd95c+_0x215e2d(0x761)+_0xc69fc3[_0x215e2d(0x618)](_0x4a2974=>_0x4a2974['studentName'])['join'](',\x20')+_0x215e2d(0xba1)+_0xc69fc3[0x0][_0x215e2d(0x2b2)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x4a9b81[_0x215e2d(0x618)](_0x23a6ff=>_0x23a6ff[_0x215e2d(0xbcf)])[_0x215e2d(0xd29)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x4a9b81[0x0][_0x215e2d(0x2b2)]+_0x215e2d(0x282);_0x46ae71[_0x215e2d(0xcd8)]=_0x2c28a9;}function renderSubmissionChart(_0x12a7f3,_0x3aa892,_0x32886f,_0x15c754){const _0x587121=_0x1f917e,_0x7f9693=document[_0x587121(0x2bc)](_0x587121(0x715))[_0x587121(0x7ae)]('2d'),_0x13e9e7=_0x32886f[_0x587121(0x618)](_0x15dc73=>_0x15dc73['studentName']),_0x561409=_0x15c754[_0x587121(0xa7a)](_0x5ba3ce=>!_0x13e9e7['includes'](_0x5ba3ce));chartInstances[_0x587121(0x85d)]&&chartInstances[_0x587121(0x85d)][_0x587121(0x9dc)](),chartInstances[_0x587121(0x85d)]=new Chart(_0x7f9693,{'type':'doughnut','data':{'labels':[_0x587121(0x3e9),'ยังไม่ส่ง'],'datasets':[{'data':[_0x12a7f3,_0x3aa892],'backgroundColor':[_0x587121(0x5f4),_0x587121(0xca1)],'borderColor':['#ffffff',_0x587121(0xc25)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x783ee7){const _0x4f5c38=_0x587121;let _0x40f290=_0x783ee7[_0x4f5c38(0xafb)]||'';return _0x40f290&&(_0x40f290+=':\x20'),_0x40f290+=_0x783ee7[_0x4f5c38(0x8ca)],_0x40f290;},'afterLabel':function(_0x3fd56b){const _0x2d4241=_0x587121;let _0x3c9f54;return _0x3fd56b[_0x2d4241(0x461)]===0x0?_0x3c9f54=_0x13e9e7:_0x3c9f54=_0x561409,_0x3c9f54[_0x2d4241(0xab1)]>0x0?_0x3c9f54['join']('\x0a'):_0x2d4241(0xb8c);}}}}}});}function renderScoreDistributionChart(_0x6900,_0xdb4ccb){const _0xb6683e=_0x1f917e,_0x4963ec=document[_0xb6683e(0x2bc)](_0xb6683e(0xbb6))[_0xb6683e(0x7ae)]('2d'),_0x2d4902={};for(let _0x3ee99a=0x0;_0x3ee99a<=_0xdb4ccb;_0x3ee99a++){_0x2d4902[_0x3ee99a]=0x0;}_0x6900[_0xb6683e(0x229)](_0x113b88=>{const _0x3e6418=_0xb6683e;_0x2d4902[_0x113b88[_0x3e6418(0x2b2)]]!==undefined&&_0x2d4902[_0x113b88[_0x3e6418(0x2b2)]]++;}),chartInstances['score']&&chartInstances['score'][_0xb6683e(0x9dc)](),chartInstances[_0xb6683e(0xa20)]=new Chart(_0x4963ec,{'type':_0xb6683e(0xa9c),'data':{'labels':Object['keys'](_0x2d4902),'datasets':[{'label':_0xb6683e(0x2d8),'data':Object[_0xb6683e(0x631)](_0x2d4902),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0xb6683e(0xa8f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x8edd5b){const _0x288764=_0xb6683e,_0x18aeb0=_0x8edd5b['label'],_0x13d862=_0x6900[_0x288764(0xa7a)](_0xdaf527=>_0xdaf527[_0x288764(0x2b2)]==_0x18aeb0)['map'](_0x2d8dfe=>_0x2d8dfe[_0x288764(0xbcf)]);return _0x13d862[_0x288764(0xab1)]>0x0?_0x13d862[_0x288764(0xd29)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x47068e,_0x1b75e3,_0x5b8f81){const _0x3193db=_0x1f917e,_0x3b3d80=document[_0x3193db(0x2bc)](_0x3193db(0x348));if(_0x5b8f81[_0x3193db(0xab1)]===0x0){_0x3b3d80[_0x3193db(0xcd8)]=_0x3193db(0x47a);return;}const _0x538e2c=calculateItemAnalysis(_0x47068e,_0x1b75e3),_0x5a679c=calculateDistractorAnalysis(_0x47068e,_0x1b75e3);let _0x5bdafa='';_0x538e2c[_0x3193db(0x59a)]&&(_0x5bdafa=_0x3193db(0x8b7)+_0x538e2c[_0x3193db(0x59a)][_0x3193db(0xbb1)][_0x3193db(0xab1)]+_0x3193db(0x14b)+_0x538e2c[_0x3193db(0x59a)][_0x3193db(0xbb1)][_0x3193db(0x618)](_0xbfea49=>_0x3193db(0x934)+_0xbfea49+'</li>')[_0x3193db(0xd29)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x538e2c[_0x3193db(0x59a)][_0x3193db(0x543)][_0x3193db(0xab1)]+_0x3193db(0x14b)+_0x538e2c[_0x3193db(0x59a)][_0x3193db(0x543)][_0x3193db(0x618)](_0x44aab4=>'<li>'+_0x44aab4+_0x3193db(0x8b4))[_0x3193db(0xd29)]('')+_0x3193db(0x98a));let _0x5114af='';const _0x2a6348=_0x1b75e3[_0x3193db(0x618)](_0xf1e01d=>_0xf1e01d['studentName']),_0x1cd7f4=_0x369e08=>{const _0xc91bf1=_0x3193db;if(_0x369e08>=0.8)return _0xc91bf1(0x252);if(_0x369e08>=0.6)return _0xc91bf1(0x3a3);if(_0x369e08>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x369e08>=0.2)return _0xc91bf1(0x570);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x10e932=_0x14856d=>{const _0x20c711=_0x3193db;if(_0x14856d<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x14856d>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x14856d>=0.3)return _0x20c711(0x9fc);if(_0x14856d>=0.2)return _0x20c711(0x8d4);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x417209=_0x5a7286=>{const _0x3b590a=_0x3193db,_0x176d42=_0x5a7286[_0x3b590a(0x65c)](0x0);if(parseFloat(_0x176d42)===0x64)return _0x3b590a(0x3b6)+_0x176d42+_0x3b590a(0x15d);if(_0x5a7286>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x176d42+_0x3b590a(0x15d);return _0x3b590a(0xa78)+_0x176d42+_0x3b590a(0x15d);};_0x47068e[_0x3193db(0x320)][_0x3193db(0x229)]((_0x412947,_0x5e9c35)=>{const _0x45f7b0=_0x3193db,_0x3aa3ab=_0x538e2c[_0x45f7b0(0xb03)][_0x5e9c35],_0x8770c7=_0x5a679c[_0x5e9c35],_0x421bb1=_0x412947['stem']||_0x412947['questionText']||_0x412947[_0x45f7b0(0x593)];let _0x81b028=0x0;const _0x4a975b=[],_0x1263de=[];_0x1b75e3['forEach'](_0x3c61c4=>{const _0x355b3a=_0x45f7b0,_0x40d34a=_0x3c61c4[_0x355b3a(0xb4e)][_0x3c61c4[_0x355b3a(0xb4e)][_0x355b3a(0xab1)]-0x1];if(_0x40d34a&&_0x40d34a[_0x355b3a(0x5b7)]){const _0x461c21=_0x40d34a['answers'][_0x355b3a(0xaa2)](_0x56075d=>_0x56075d['originalQuestionText']===_0x421bb1)??_0x40d34a['answers'][_0x5e9c35]??null;_0x461c21&&(_0x461c21[_0x355b3a(0x2a1)]?(_0x81b028++,_0x4a975b[_0x355b3a(0xad2)](_0x3c61c4['studentName'])):_0x1263de['push'](_0x3c61c4['studentName']));}});const _0x19fb7d=_0x1b75e3['length']>0x0?_0x81b028/_0x1b75e3['length']*0x64:0x0,_0x2b912c=_0x5b8f81[_0x45f7b0(0xa7a)](_0x1ee75e=>!_0x2a6348[_0x45f7b0(0x42a)](_0x1ee75e)),_0x1adbdc=_0x3aa3ab?_0x45f7b0(0xb12)+_0x3aa3ab['p']['toFixed'](0x2)+_0x45f7b0(0x511)+_0x1cd7f4(_0x3aa3ab['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x3aa3ab['r'][_0x45f7b0(0x65c)](0x2)+'</p><div>'+_0x10e932(_0x3aa3ab['r'])+_0x45f7b0(0x365)+_0x417209(_0x19fb7d)+_0x45f7b0(0x968):'';let _0x16d7c0='';_0x8770c7&&(_0x16d7c0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object['keys'](_0x8770c7)['map'](_0x282d7e=>{const _0x16b5c4=_0x45f7b0,_0x476041=_0x8770c7[_0x282d7e],_0x922586=parseInt(_0x282d7e)===_0x412947[_0x16b5c4(0x16b)],_0x5e6a9a=!_0x922586&&_0x476041['lower_group_count']>_0x476041[_0x16b5c4(0xc21)];return _0x16b5c4(0xa96)+(_0x922586?'bg-green-100\x20font-bold':'')+_0x16b5c4(0xa62)+(_0x922586?'✔\x20':'')+_0x476041[_0x16b5c4(0xbaa)]+_0x16b5c4(0x1f4)+_0x476041[_0x16b5c4(0xc21)]+_0x16b5c4(0x1f4)+_0x476041[_0x16b5c4(0x454)]+'\x20'+(_0x5e6a9a?'👍':'')+_0x16b5c4(0x1f4)+_0x476041[_0x16b5c4(0x24b)]+_0x16b5c4(0x168);})[_0x45f7b0(0xd29)]('')+_0x45f7b0(0xab5));let _0x14d09b='';_0x3aa3ab&&_0x3aa3ab[_0x45f7b0(0x7ee)]&&(_0x14d09b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x3aa3ab['upperGroupResponders'][_0x45f7b0(0xab1)]+_0x45f7b0(0xaab)+_0x3aa3ab[_0x45f7b0(0x7ee)][_0x45f7b0(0x618)](_0x1e738a=>'<li>'+(_0x1e738a[_0x45f7b0(0x2a1)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x45f7b0(0x4ee))+'\x20'+_0x1e738a[_0x45f7b0(0xc85)]+'</li>')[_0x45f7b0(0xd29)]('')+_0x45f7b0(0x1aa)+_0x3aa3ab[_0x45f7b0(0x6f3)][_0x45f7b0(0xab1)]+_0x45f7b0(0xaab)+_0x3aa3ab[_0x45f7b0(0x6f3)]['map'](_0x136397=>_0x45f7b0(0x934)+(_0x136397[_0x45f7b0(0x2a1)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x136397['name']+_0x45f7b0(0x8b4))[_0x45f7b0(0xd29)]('')+_0x45f7b0(0x58f)),_0x5114af+=_0x45f7b0(0x972)+(_0x5e9c35+0x1)+':\x20'+_0x421bb1+_0x45f7b0(0xaf0)+_0x1adbdc+_0x45f7b0(0xc2a)+_0x421bb1+_0x45f7b0(0x796)+_0x81b028+_0x45f7b0(0x958)+_0x1b75e3['length']+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x19fb7d[_0x45f7b0(0x65c)](0x0)+_0x45f7b0(0x3a2)+_0x4a975b[_0x45f7b0(0xab1)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4a975b[_0x45f7b0(0xab1)]>0x0?_0x4a975b[_0x45f7b0(0xd29)](',\x20'):_0x45f7b0(0xb8c))+_0x45f7b0(0xb05)+_0x1263de[_0x45f7b0(0xab1)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x1263de[_0x45f7b0(0xab1)]>0x0?_0x1263de[_0x45f7b0(0xd29)](',\x20'):_0x45f7b0(0xb8c))+_0x45f7b0(0x427)+_0x2b912c['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x2b912c[_0x45f7b0(0xab1)]>0x0?_0x2b912c[_0x45f7b0(0xd29)](',\x20'):_0x45f7b0(0xb8c))+_0x45f7b0(0x614)+_0x16d7c0+_0x45f7b0(0x2c7)+_0x14d09b+_0x45f7b0(0x53c);}),_0x3b3d80[_0x3193db(0xcd8)]=_0x5bdafa+_0x5114af;try{window[_0x3193db(0x13e)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x3b3d80]);}catch(_0x32545e){console['error'](_0x3193db(0x3b1),_0x32545e);}}function calculateDistractorAnalysis(_0x56eb3a,_0x537b84){const _0x44a938=_0x1f917e,_0x47bf6d={};if(_0x537b84[_0x44a938(0xab1)]<0x2)return _0x47bf6d;const _0x561da2=[..._0x537b84][_0x44a938(0x817)]((_0x1af3b4,_0x586905)=>{const _0x84a76a=_0x44a938,_0x70af18=_0x586905[_0x84a76a(0x2b2)]-_0x1af3b4[_0x84a76a(0x2b2)];if(_0x70af18!==0x0)return _0x70af18;const _0x3537b8=_0x1af3b4['attempts']?.['length']||0x1,_0x163024=_0x586905[_0x84a76a(0xb4e)]?.[_0x84a76a(0xab1)]||0x1,_0x3b3505=_0x3537b8-_0x163024;if(_0x3b3505!==0x0)return _0x3b3505;const _0x3de885=new Date(_0x1af3b4[_0x84a76a(0xc5f)]),_0x1009a1=new Date(_0x586905[_0x84a76a(0xc5f)]),_0x488e61=_0x3de885-_0x1009a1;if(_0x488e61!==0x0)return _0x488e61;return _0x1af3b4[_0x84a76a(0xbcf)]['localeCompare'](_0x586905['studentName'],'th');}),_0x384626=_0x561da2[_0x44a938(0xab1)],_0x3faf15=Math[_0x44a938(0x20e)](0x1,Math[_0x44a938(0x854)](_0x384626*0.33)),_0x16c744=_0x561da2['slice'](0x0,_0x3faf15),_0x12d02f=_0x561da2[_0x44a938(0x52a)](-_0x3faf15);return _0x56eb3a[_0x44a938(0x320)][_0x44a938(0x229)]((_0x375524,_0x52db65)=>{const _0xa5e285=_0x44a938;if(_0x375524[_0xa5e285(0x789)]!=='multiple_choice'||!_0x375524[_0xa5e285(0xae7)])return;const _0x2ace24=_0x375524['questionText'],_0xd8e14a={};_0x375524[_0xa5e285(0xae7)][_0xa5e285(0x229)]((_0x276402,_0x2bc934)=>{_0xd8e14a[_0x2bc934]={'text':_0x276402,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x561da2['forEach'](_0x1cd4cd=>{const _0x267c4d=_0xa5e285,_0x1e2647=_0x1cd4cd['attempts'][_0x1cd4cd[_0x267c4d(0xb4e)]['length']-0x1],_0x13f237=_0x1e2647[_0x267c4d(0x5b7)][_0x267c4d(0xaa2)](_0x5968e5=>_0x5968e5['originalQuestionText']===_0x2ace24);if(_0x13f237&&_0x13f237['answer']!==null){const _0x19bba3=_0x375524[_0x267c4d(0xae7)][_0x267c4d(0x17a)](_0x25fbc1=>_0x25fbc1===_0x13f237[_0x267c4d(0x313)]);_0x19bba3!==-0x1&&_0xd8e14a[_0x19bba3]&&(_0xd8e14a[_0x19bba3][_0x267c4d(0x24b)]++,_0x16c744[_0x267c4d(0x42a)](_0x1cd4cd)&&_0xd8e14a[_0x19bba3][_0x267c4d(0xc21)]++,_0x12d02f[_0x267c4d(0x42a)](_0x1cd4cd)&&_0xd8e14a[_0x19bba3][_0x267c4d(0x454)]++);}}),_0x47bf6d[_0x52db65]=_0xd8e14a;}),_0x47bf6d;}function calculateReliabilityKR20(_0x26ca11,_0x51196b,_0x326b08){const _0xc7171b=_0x1f917e,_0x23db62=_0x26ca11['questions']['length'];if(_0x23db62<0x2||_0x51196b[_0xc7171b(0xab1)]<0x2)return null;const _0xedaafd=_0x51196b[_0xc7171b(0x618)](_0x24f606=>_0x24f606[_0xc7171b(0x2b2)]),_0x5cca7d=_0xedaafd['reduce']((_0x3dbc74,_0x2dc1f9)=>_0x3dbc74+_0x2dc1f9,0x0)/_0xedaafd[_0xc7171b(0xab1)],_0x557c95=_0xedaafd[_0xc7171b(0x618)](_0x14d52c=>Math[_0xc7171b(0xa98)](_0x14d52c-_0x5cca7d,0x2))[_0xc7171b(0x5e7)]((_0x24feb0,_0x2a8d68)=>_0x24feb0+_0x2a8d68,0x0)/_0xedaafd[_0xc7171b(0xab1)];if(_0x557c95===0x0)return null;let _0x3c4021=0x0;for(let _0x2eb471=0x0;_0x2eb471<_0x23db62;_0x2eb471++){const _0x2e7740=_0x326b08[_0x2eb471]?.['p'];if(_0x2e7740===undefined)continue;const _0x34d461=0x1-_0x2e7740;_0x3c4021+=_0x2e7740*_0x34d461;}if(_0x3c4021===0x0)return null;const _0x9fe03c=_0x23db62/(_0x23db62-0x1)*(0x1-_0x3c4021/_0x557c95);if(_0x9fe03c>0x1)return null;return _0x9fe03c;}async function handleAnalyzeClass(){const _0x3ee205=_0x1f917e;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x50c3c9=collection(db,'artifacts/'+appId+_0x3ee205(0x9ef)+currentQuizData['id']+_0x3ee205(0x9a3)),_0x2fdb49=await getDocs(_0x50c3c9),_0x2b96c9=_0x2fdb49[_0x3ee205(0xac3)][_0x3ee205(0x618)](_0x19e676=>_0x19e676[_0x3ee205(0x923)]());if(_0x2b96c9[_0x3ee205(0xab1)]<0x2){showMessage(_0x3ee205(0x55c));return;}const _0x546ff4=document['getElementById'](_0x3ee205(0xc40));_0x546ff4['innerHTML']=_0x3ee205(0xb97),document[_0x3ee205(0x2bc)](_0x3ee205(0x836))[_0x3ee205(0x8ab)]=!![];const _0x522f9f=_0x2b96c9[_0x3ee205(0x618)]((_0x4ae2e7,_0x3fd841)=>{const _0x1c8206=_0x3ee205,_0x425645=_0x4ae2e7['attempts'][_0x4ae2e7[_0x1c8206(0xb4e)][_0x1c8206(0xab1)]-0x1];if(!_0x425645)return'';return _0x1c8206(0xbdc)+(_0x3fd841+0x1)+'\x20('+_0x4ae2e7[_0x1c8206(0xbcf)]+_0x1c8206(0xc73)+_0x425645['score']+'/'+_0x4ae2e7[_0x1c8206(0x25e)]+_0x1c8206(0x8dd)+JSON['stringify'](_0x425645[_0x1c8206(0x5b7)])+_0x1c8206(0xb38);})[_0x3ee205(0xd29)]('\x0a---\x0a'),_0xb6e678=_0x3ee205(0x553)+currentQuizData[_0x3ee205(0x533)]+_0x3ee205(0x6ea)+JSON[_0x3ee205(0x4e2)](currentQuizData[_0x3ee205(0x320)])+_0x3ee205(0x368)+_0x522f9f+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x39b4a9={'type':_0x3ee205(0x60a),'properties':{'classStrengths':{'type':_0x3ee205(0x5b8),'items':{'type':'STRING'}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x3ee205(0xab8)}},'teacherSuggestions':{'type':_0x3ee205(0x5b8),'items':{'type':_0x3ee205(0xab8)}}},'required':[_0x3ee205(0x63b),_0x3ee205(0x763),'teacherSuggestions']};try{const _0x4d35b9=await callAnalysisApi(_0xb6e678,_0x39b4a9);displayClassAnalysis(_0x4d35b9);}catch(_0xc08b64){console['error'](_0x3ee205(0xc8f),_0xc08b64),_0x546ff4['innerHTML']=_0x3ee205(0x700)+_0xc08b64['message']+_0x3ee205(0x611);}finally{document[_0x3ee205(0x2bc)](_0x3ee205(0x836))[_0x3ee205(0x8ab)]=![];}}function displayClassAnalysis(_0x5baddc){const _0x4d4382=_0x1f917e,_0x5207b9=document[_0x4d4382(0x2bc)](_0x4d4382(0xc40));if(!_0x5baddc){_0x5207b9[_0x4d4382(0xcd8)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x5207b9[_0x4d4382(0xcd8)]=_0x4d4382(0x5f2)+_0x5baddc[_0x4d4382(0x63b)][_0x4d4382(0x618)](_0xfd8852=>'<li>'+_0xfd8852+_0x4d4382(0x8b4))['join']('')+_0x4d4382(0x382)+_0x5baddc[_0x4d4382(0x763)][_0x4d4382(0x618)](_0x23952c=>'<li>'+_0x23952c+_0x4d4382(0x8b4))[_0x4d4382(0xd29)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5baddc[_0x4d4382(0x315)][_0x4d4382(0x618)](_0x5b5d38=>_0x4d4382(0x934)+_0x5b5d38+_0x4d4382(0x8b4))[_0x4d4382(0xd29)]('')+_0x4d4382(0xbbc);}function formatAndPrintWorksheet(_0x280e79,_0x58df4b){const _0x3c33a0=_0x1f917e,_0xdac8b4=_0x3c33a0(0x777)+_0x280e79['topic']+_0x3c33a0(0x246)+_0x280e79[_0x3c33a0(0x533)]+_0x3c33a0(0x8f7)+_0x280e79['questions'][_0x3c33a0(0x618)]((_0x233b7d,_0x172a2d)=>_0x3c33a0(0x283)+(_0x172a2d+0x1)+'.\x20'+_0x233b7d['questionText']+_0x3c33a0(0x1b6)+(_0x233b7d[_0x3c33a0(0x679)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x233b7d[_0x3c33a0(0x679)]+_0x3c33a0(0xa8a):'')+_0x3c33a0(0x180))[_0x3c33a0(0xd29)]('')+_0x3c33a0(0x38d);_0x58df4b['document']['write'](_0xdac8b4),_0x58df4b[_0x3c33a0(0x91d)][_0x3c33a0(0x797)](),_0x58df4b[_0x3c33a0(0x384)]=function(){setTimeout(()=>{_0x58df4b['print']();},0x3e8);};}async function generateWorksheet(){const _0x47b5e8=_0x1f917e,_0x295359=document[_0x47b5e8(0x2bc)](_0x47b5e8(0x56e))['value']['trim']();if(!_0x295359){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x39460e=document['getElementById']('force-math-checkbox')[_0x47b5e8(0x6b7)],_0x31f1d5=_0x39460e?'':_0x47b5e8(0x1e0),_0x53956e=window[_0x47b5e8(0x3c5)]('',_0x47b5e8(0x62b));_0x53956e[_0x47b5e8(0x91d)][_0x47b5e8(0x5f1)]('<h1></h1>');const _0x4ad561=parseInt(document[_0x47b5e8(0x2bc)]('num-questions')[_0x47b5e8(0xa21)]),_0xbccc8f=document[_0x47b5e8(0x2bc)](_0x47b5e8(0xba5))[_0x47b5e8(0x6b7)],_0x4fe483=_0xbccc8f?_0x47b5e8(0xb4f):'',_0x1d9029=_0x47b5e8(0x318)+_0x31f1d5+_0x47b5e8(0x9a0)+_0x4ad561+_0x47b5e8(0x273)+_0x295359+_0x47b5e8(0x8f5)+_0x4fe483+_0x47b5e8(0xbd6)+simpleMathPrompt+_0x47b5e8(0x450),_0x4e25e2={'type':_0x47b5e8(0x60a),'properties':{'topic':{'type':_0x47b5e8(0xab8)},'questions':{'type':'ARRAY','items':{'type':_0x47b5e8(0x60a),'properties':{'questionText':{'type':_0x47b5e8(0xab8)},'imageCode':{'type':_0x47b5e8(0xab8)}},'required':[_0x47b5e8(0x551)]}}},'required':['topic',_0x47b5e8(0x320)]};document[_0x47b5e8(0x2bc)](_0x47b5e8(0x626))[_0x47b5e8(0x806)]='',document[_0x47b5e8(0x2bc)](_0x47b5e8(0x70f))['classList']['remove'](_0x47b5e8(0x44c)),document['getElementById']('quiz-generation-area')[_0x47b5e8(0x517)][_0x47b5e8(0x1b5)](_0x47b5e8(0x44c)),generateWorksheetBtn[_0x47b5e8(0x8ab)]=!![];try{const _0x51660b=await callAnalysisApi(_0x1d9029,_0x4e25e2);formatAndPrintWorksheet(_0x51660b,_0x53956e);}catch(_0x35c226){console[_0x47b5e8(0x512)](_0x47b5e8(0xcec),_0x35c226);if(_0x53956e)_0x53956e['close']();showMessage(_0x47b5e8(0x354));}finally{document[_0x47b5e8(0x2bc)](_0x47b5e8(0x70f))[_0x47b5e8(0x517)][_0x47b5e8(0x546)](_0x47b5e8(0x44c)),document[_0x47b5e8(0x2bc)](_0x47b5e8(0x83c))['classList'][_0x47b5e8(0x546)](_0x47b5e8(0x44c)),generateWorksheetBtn[_0x47b5e8(0x8ab)]=![];}}async function callAnalysisApi(_0x466f45,_0x57b755){const _0x26eb71=_0x1f917e,_0x57d8e8={'contents':[{'role':_0x26eb71(0xb46),'parts':[{'text':_0x466f45}]}],'generationConfig':{'responseMimeType':_0x26eb71(0x63d),'responseSchema':_0x57b755}},_0x4137ec='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x2f9539=_0x26eb71(0xb5e)+_0x4137ec,_0x14a9ea=await fetch(_0x2f9539,{'method':_0x26eb71(0x3b4),'headers':{'Content-Type':_0x26eb71(0x63d)},'body':JSON[_0x26eb71(0x4e2)](_0x57d8e8)});if(!_0x14a9ea['ok'])throw new Error(_0x26eb71(0x6c6)+_0x14a9ea[_0x26eb71(0x845)]);const _0x146cb4=await _0x14a9ea[_0x26eb71(0x8a7)]();if(_0x146cb4['candidates']?.[0x0]?.[_0x26eb71(0xc75)]?.['parts']?.[0x0])return JSON['parse'](_0x146cb4[_0x26eb71(0x746)][0x0][_0x26eb71(0xc75)][_0x26eb71(0x770)][0x0]['text']);else{let _0x1b4fd4=_0x26eb71(0x6d5);if(_0x146cb4[_0x26eb71(0x93e)]?.['blockReason'])_0x1b4fd4='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x146cb4['promptFeedback'][_0x26eb71(0x260)]+'.';else _0x146cb4[_0x26eb71(0x746)]?.[0x0]?.[_0x26eb71(0x99b)]&&_0x146cb4[_0x26eb71(0x746)][0x0][_0x26eb71(0x99b)]!==_0x26eb71(0x9d4)&&(_0x1b4fd4=_0x26eb71(0xcac)+_0x146cb4[_0x26eb71(0x746)][0x0][_0x26eb71(0x99b)]+'.');console[_0x26eb71(0x512)](_0x1b4fd4,JSON[_0x26eb71(0x4e2)](_0x146cb4));throw new Error(_0x1b4fd4);}}async function handleStartSyncMode(_0x494652,_0x44a657=![],_0x1b58f7=_0x1f917e(0xcb8)){const _0x2a8340=_0x1f917e,_0x560814=allQuizzes[_0x2a8340(0xaa2)](_0x469334=>_0x469334['id']===_0x494652)||allQuizzesGlobal[_0x2a8340(0xaa2)](_0x3ed4ad=>_0x3ed4ad['id']===_0x494652);if(!_0x560814){showMessage(_0x2a8340(0x827));return;}currentQuizData=getShuffledQuiz(_0x560814);const _0x3d68cb=Math[_0x2a8340(0x854)](0x3e8+Math[_0x2a8340(0xca7)]()*0x2328)[_0x2a8340(0x24a)](),_0x4d5e98=doc(db,_0x2a8340(0x366)+appId+_0x2a8340(0x7ad),_0x560814[_0x2a8340(0x7f9)]),_0xa381f8=await getDoc(_0x4d5e98);if(!_0xa381f8[_0x2a8340(0x485)]()){showMessage(_0x2a8340(0xc0d));return;}const _0x2c874e=_0xa381f8[_0x2a8340(0x923)]()[_0x2a8340(0x456)]||[],_0x18007a={};if(_0x1b58f7===_0x2a8340(0xa35)){const _0x4452be=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x2a8340(0xca7)]());_0x2c874e[_0x2a8340(0x229)]((_0x2e8a03,_0x2b4d96)=>{_0x18007a[_0x2e8a03]=_0x4452be[_0x2b4d96]||'ผู้เล่น\x20'+(_0x2b4d96+0x1);});}try{const _0x71900d=await addDoc(collection(db,'artifacts/'+appId+'/public/data/syncGames'),{'quizId':_0x560814['id'],'pin':_0x3d68cb,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x44a657,'players':{},'gameVariant':_0x1b58f7,'reviewQuestionIndex':0x0,'playerNicknames':_0x18007a,'isAnonymousRevealed':![]});currentLiveGameId=_0x71900d['id'],showView(_0x2a8340(0x5ea)),renderSyncLobbyView(_0x3d68cb,_0x560814['topic']),listenForSyncGameUpdates();}catch(_0x2289f1){console['error'](_0x2a8340(0x85b),_0x2289f1),showMessage(_0x2a8340(0x545));}}function calculateFinalPodiumScores(_0x13aa60){const _0x13349b=_0x1f917e;if(!_0x13aa60||!_0x13aa60[_0x13349b(0xa40)]||!_0x13aa60[_0x13349b(0x81b)])return _0x13aa60[_0x13349b(0x81b)]||{};const _0x55d3c=_0x13aa60['shuffledQuiz']['questions'][_0x13349b(0xab1)],_0x26ec90=JSON['parse'](JSON[_0x13349b(0x4e2)](_0x13aa60[_0x13349b(0x81b)]));return Object[_0x13349b(0x631)](_0x26ec90)['forEach'](_0x84c950=>{const _0x442fbd=_0x13349b,_0x517499=_0x84c950[_0x442fbd(0xa20)];let _0x2a6802=_0x517499,_0x25cc2b=0x0;_0x13aa60[_0x442fbd(0x563)]&&_0x84c950[_0x442fbd(0x5b7)]&&_0x84c950[_0x442fbd(0x5b7)]['forEach'](_0xc777a1=>{const _0x4c8b8e=_0x442fbd;if(_0xc777a1[_0x4c8b8e(0x2a1)]&&(_0xc777a1[_0x4c8b8e(0x17e)]===!![]||_0xc777a1[_0x4c8b8e(0x17e)]===_0x4c8b8e(0x7bb)))_0x25cc2b+=0x1;else!_0xc777a1['isCorrect']&&(_0xc777a1['wasConfident']===!![]||_0xc777a1['wasConfident']==='confident')&&(_0x25cc2b-=0x1);}),_0x2a6802+=_0x25cc2b,_0x55d3c>0x0&&_0x517499===_0x55d3c&&(_0x2a6802+=0x1,_0x84c950[_0x442fbd(0x908)]=!![]),_0x84c950['score']=_0x2a6802;}),_0x26ec90;}function listenForSyncGameUpdates(){const _0x4de387=_0x1f917e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x49e3b0=doc(db,_0x4de387(0x366)+appId+_0x4de387(0xa36),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x49e3b0,_0x3c4f29=>{const _0x498612=_0x4de387;if(!_0x3c4f29[_0x498612(0x485)]()){sessionStorage['removeItem']('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x498612(0x8f9)?showView(_0x498612(0x682)):showView('student');return;}const _0x4f85fc=_0x3c4f29[_0x498612(0x923)]();currentMode===_0x498612(0x8f9)?updateAdminSyncView(_0x4f85fc):updateStudentSyncView(_0x4f85fc);});}function renderSyncLobbyView(_0x34b05c,_0x7f05f3){const _0x44e964=_0x1f917e;liveGameView[_0x44e964(0xcd8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x7f05f3+_0x44e964(0xb5f)+_0x34b05c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x545897=document[_0x44e964(0x2bc)]('confidence-scoring-toggle'),_0x148e20=document['getElementById']('confidence-scoring-description');_0x545897[_0x44e964(0x8de)](_0x44e964(0x18d),()=>{const _0x450a47=_0x44e964;_0x148e20[_0x450a47(0x60e)][_0x450a47(0x9b9)]=_0x545897[_0x450a47(0x6b7)]?_0x450a47(0x26f):_0x450a47(0x1d8);}),document[_0x44e964(0x2bc)]('start-sync-game-btn')[_0x44e964(0x8de)](_0x44e964(0xc20),async()=>{const _0x474176=_0x44e964,_0x46b5d3=doc(db,_0x474176(0x366)+appId+_0x474176(0xa36),currentLiveGameId),_0x5d3d51=document['getElementById'](_0x474176(0xadf))['checked'];await updateDoc(_0x46b5d3,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x5d3d51});});}function updateAdminSyncView(_0xb1cd6a){const _0x25df77=_0x1f917e;switch(_0xb1cd6a[_0x25df77(0x845)]){case _0x25df77(0xaec):renderSyncLobbyView(_0xb1cd6a[_0x25df77(0x499)],_0xb1cd6a[_0x25df77(0xa40)][_0x25df77(0x533)]);const _0x3fa8f3=Object[_0x25df77(0x9c8)](_0xb1cd6a[_0x25df77(0x81b)]||{})[_0x25df77(0xa7a)](([_0x4cbd02,_0x4fe71d])=>_0x4fe71d[_0x25df77(0x845)]!==_0x25df77(0xae6));document['getElementById'](_0x25df77(0x74b))[_0x25df77(0x806)]=_0x3fa8f3['length'],document[_0x25df77(0x2bc)](_0x25df77(0x641))[_0x25df77(0xcd8)]=_0x3fa8f3[_0x25df77(0x618)](([_0xc22024,_0x1fabda])=>_0x25df77(0xac5)+_0xc22024+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0xc22024+_0x25df77(0xbcd))[_0x25df77(0xd29)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x25df77(0x2bc)](_0x25df77(0xa46))[_0x25df77(0x8ab)]=_0x3fa8f3['length']===0x0;break;case _0x25df77(0xaa7):const _0x4350c6=Object[_0x25df77(0x631)](_0xb1cd6a[_0x25df77(0x81b)]||{})[_0x25df77(0xa7a)](_0x2ee53c=>_0x2ee53c[_0x25df77(0x845)]!==_0x25df77(0xae6)),_0x242633=_0x4350c6[_0x25df77(0xa7a)](_0x1a9666=>_0x1a9666['answered'])['length'],_0x595820=_0x242633===_0x4350c6['length']&&_0x4350c6[_0x25df77(0xab1)]>0x0;if(_0x595820&&_0xb1cd6a[_0x25df77(0x845)]==='question'){const _0x3623ba=doc(db,_0x25df77(0x366)+appId+_0x25df77(0xa36),currentLiveGameId);updateDoc(_0x3623ba,{'status':_0x25df77(0x7cb)});}else{if(document[_0x25df77(0x2bc)](_0x25df77(0x32f))===null)renderAdminSyncQuestionView(_0xb1cd6a);else{const _0x33e034=document[_0x25df77(0x2bc)](_0x25df77(0x92c));_0x33e034&&(_0x33e034[_0x25df77(0x806)]=_0x242633+'/'+_0x4350c6[_0x25df77(0xab1)]);const _0x70bf76=document[_0x25df77(0x2bc)](_0x25df77(0x160));_0x70bf76&&(_0x70bf76['innerHTML']=_0x4350c6[_0x25df77(0x618)](_0x53fad9=>{const _0x1e4fc0=_0x25df77,_0x2b1a03=_0x53fad9[_0x1e4fc0(0x3d8)]?_0x1e4fc0(0x52c):_0x1e4fc0(0x2a4),_0x1643ce=_0x53fad9[_0x1e4fc0(0x3d8)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1e4fc0(0x24f);return _0x1e4fc0(0xa6e)+_0x2b1a03+_0x1e4fc0(0x85a)+_0x1643ce+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x53fad9[_0x1e4fc0(0xc85)]+_0x1e4fc0(0xb93)+_0x53fad9[_0x1e4fc0(0xc85)]+_0x1e4fc0(0xd28);})[_0x25df77(0xd29)](''));}}break;case'summary':const _0x2fa256=_0xb1cd6a[_0x25df77(0x896)],_0x415780=_0xb1cd6a[_0x25df77(0xa40)]['questions'][_0x2fa256];renderSyncSummaryView(_0xb1cd6a,_0x415780,!![]);break;case _0x25df77(0x59b):const _0x499789=_0xb1cd6a[_0x25df77(0x57c)]||_0x25df77(0xcb8);_0x499789===_0x25df77(0x9d5)?renderAdminSyncDashboard(_0xb1cd6a,!![],_0xb1cd6a[_0x25df77(0x647)]):renderAdminSyncDashboard(_0xb1cd6a,!![],_0xb1cd6a[_0x25df77(0x896)]);break;case _0x25df77(0x985):_0xb1cd6a[_0x25df77(0x395)]&&saveGameResultsAsSubmissions(_0xb1cd6a);sessionStorage['removeItem'](_0x25df77(0x191));const _0x57d167=calculateFinalPodiumScores(_0xb1cd6a);showPodiumView(_0x57d167,'sync');break;}}function renderAdminSyncQuestionView(_0x1a6c11){const _0x3dfecd=_0x1f917e,_0x2971ab=_0x1a6c11[_0x3dfecd(0x896)],_0x5cd637=_0x1a6c11['shuffledQuiz']['questions'][_0x2971ab],_0x4b052e=_0x1a6c11[_0x3dfecd(0xa40)][_0x3dfecd(0x320)][_0x3dfecd(0xab1)],_0x1be55a=Object[_0x3dfecd(0x631)](_0x1a6c11[_0x3dfecd(0x81b)]||{})['filter'](_0xf3c620=>_0xf3c620[_0x3dfecd(0x845)]!==_0x3dfecd(0xae6)),_0x18ec3c=_0x1be55a[_0x3dfecd(0xa7a)](_0x37239c=>_0x37239c[_0x3dfecd(0x3d8)])['length'],_0x2dc3e5=_0x18ec3c===_0x1be55a['length']&&_0x1be55a['length']>0x0,_0x17d089=(_0x5cd637[_0x3dfecd(0xae7)]||[])[_0x3dfecd(0x618)](_0x151a5f=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x151a5f+_0x3dfecd(0xa8a))[_0x3dfecd(0xd29)]('');liveGameView[_0x3dfecd(0xcd8)]=_0x3dfecd(0xaf2)+(_0x2971ab+0x1)+_0x3dfecd(0x4b8)+_0x4b052e+_0x3dfecd(0x5b0)+_0x18ec3c+'/'+_0x1be55a['length']+_0x3dfecd(0x1a4)+_0x5cd637[_0x3dfecd(0x551)]+_0x3dfecd(0xae8)+_0x17d089+_0x3dfecd(0x78e)+(!_0x2dc3e5?'disabled':'')+_0x3dfecd(0x58c);if(window['MathJax'])MathJax[_0x3dfecd(0xbc4)]();document[_0x3dfecd(0x2bc)](_0x3dfecd(0x42f))[_0x3dfecd(0x8de)](_0x3dfecd(0xc20),async()=>{const _0x34a5b7=_0x3dfecd,_0x35dabb=doc(db,_0x34a5b7(0x366)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x35dabb,{'status':'results'});}),document[_0x3dfecd(0x2bc)]('open-sync-scratchpad-btn')[_0x3dfecd(0x7aa)]=()=>{const _0x3683d4=_0x3dfecd;openScratchpad(_0x5cd637,_0x5cd637[_0x3683d4(0xae7)]||[]);},document[_0x3dfecd(0x2bc)](_0x3dfecd(0x975))['addEventListener'](_0x3dfecd(0xc20),()=>{const _0x17bf7c=_0x3dfecd;document[_0x17bf7c(0x2bc)](_0x17bf7c(0x32f))[_0x17bf7c(0x517)][_0x17bf7c(0xb29)]('hidden');});}function renderSyncLeaderboardView(_0x138672,_0x2bbf5b){const _0x1caf48=_0x1f917e,_0x206513=Object[_0x1caf48(0x631)](_0x138672[_0x1caf48(0x81b)]||{});_0x206513['sort']((_0x397545,_0x394403)=>_0x394403['score']-_0x397545[_0x1caf48(0xa20)]);const _0x2f31ba=_0x206513[_0x1caf48(0x52a)](0x0,0x5);let _0x268d29='';if(_0x2bbf5b){const _0x517581=_0x138672[_0x1caf48(0x896)]>=_0x138672['shuffledQuiz'][_0x1caf48(0x320)][_0x1caf48(0xab1)]-0x1;_0x268d29=_0x1caf48(0x825)+(_0x517581?_0x1caf48(0xbb4):_0x1caf48(0x340))+_0x1caf48(0x494);}else _0x268d29=_0x1caf48(0x269);liveGameView['innerHTML']=_0x1caf48(0x1a6)+_0x2f31ba['map']((_0x2b0df1,_0x347ff3)=>_0x1caf48(0x2b8)+(_0x347ff3+0x1)+'.\x20'+_0x2b0df1[_0x1caf48(0xc85)]+_0x1caf48(0x58b)+_0x2b0df1[_0x1caf48(0xa20)]+_0x1caf48(0x71c))[_0x1caf48(0xd29)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x268d29+_0x1caf48(0xbac),_0x2bbf5b&&document[_0x1caf48(0x2bc)](_0x1caf48(0x217))['addEventListener']('click',async()=>{const _0x4d8698=_0x1caf48,_0x164183=doc(db,_0x4d8698(0x366)+appId+'/public/data/syncGames',currentLiveGameId),_0x4210ec=_0x138672[_0x4d8698(0x896)]+0x1;if(_0x4210ec<_0x138672['shuffledQuiz'][_0x4d8698(0x320)][_0x4d8698(0xab1)]){const _0x34270b={};Object[_0x4d8698(0x420)](_0x138672[_0x4d8698(0x81b)])[_0x4d8698(0x229)](_0x14a61c=>{const _0x439b8a=_0x4d8698;_0x34270b[_0x439b8a(0xbad)+_0x14a61c+'.answered']=![];}),await updateDoc(_0x164183,{..._0x34270b,'status':'question','currentQuestionIndex':_0x4210ec,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x164183,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x102c8d=_0x1f917e,_0x3a49f7=prompt(_0x102c8d(0x2b9));if(!_0x3a49f7||_0x3a49f7['trim']()[_0x102c8d(0xab1)]!==0x2){showMessage(_0x102c8d(0x380));return;}try{const _0x4d0d98=collection(db,_0x102c8d(0x366)+appId+'/public/data/syncGames'),_0x1b4be5=query(_0x4d0d98,where(_0x102c8d(0x499),'==',_0x3a49f7[_0x102c8d(0x1df)]()),where(_0x102c8d(0x845),'==',_0x102c8d(0xaec))),_0x51319b=await getDocs(_0x1b4be5);if(_0x51319b['empty']){showMessage(_0x102c8d(0x914));return;}const _0x12eddf=_0x51319b[_0x102c8d(0xac3)][0x0];currentLiveGameId=_0x12eddf['id'];const _0x3588fb=_0x12eddf[_0x102c8d(0x923)](),_0x235354=doc(db,_0x102c8d(0x366)+appId+_0x102c8d(0xcbc),_0x3588fb[_0x102c8d(0x1c3)]),_0xd6e2a3=await getDoc(_0x235354);if(!_0xd6e2a3[_0x102c8d(0x485)]())throw new Error(_0x102c8d(0x86e));const _0x4b4af9=_0xd6e2a3[_0x102c8d(0x923)](),_0x48eaa1=doc(db,_0x102c8d(0x366)+appId+_0x102c8d(0x7ad),_0x4b4af9[_0x102c8d(0x7f9)]),_0x1f6f4b=await getDoc(_0x48eaa1);if(!_0x1f6f4b['exists']())throw new Error(_0x102c8d(0x30e));currentQuizData=_0x3588fb[_0x102c8d(0xa40)];const _0x1cf51d=_0x1f6f4b[_0x102c8d(0x923)]();showView('student-team-join'),showTeamPlayerSelection(_0x1cf51d[_0x102c8d(0x456)],_0x4b4af9[_0x102c8d(0x533)]);const _0x49a110=document[_0x102c8d(0x2bc)](_0x102c8d(0x1bf));_0x49a110[_0x102c8d(0x7aa)]=confirmAndJoinSyncGame;}catch(_0x1e7d22){console[_0x102c8d(0x512)](_0x102c8d(0x62f),_0x1e7d22),showMessage(_0x102c8d(0xade)+_0x1e7d22['message']);}}function updateStudentSyncView(_0x462a87){const _0x2ca72d=_0x1f917e,_0x118d12=_0x462a87[_0x2ca72d(0x81b)][localTeamPlayers[0x0]];switch(_0x462a87[_0x2ca72d(0x845)]){case'lobby':showView('live-game'),liveGameView['innerHTML']=_0x2ca72d(0x3f8);break;case _0x2ca72d(0xaa7):const _0x525b05=localTeamPlayers[_0x2ca72d(0x680)](_0x4cdd78=>_0x462a87[_0x2ca72d(0x81b)][_0x4cdd78]?.['answered']===!![]);_0x525b05?liveGameView[_0x2ca72d(0xcd8)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x462a87);break;case _0x2ca72d(0x7cb):liveGameView[_0x2ca72d(0xcd8)]=_0x2ca72d(0xb0f);break;case _0x2ca72d(0x59b):localPlayerTurnIndex=0x0;const _0x5dc5bc=_0x462a87[_0x2ca72d(0x57c)]||'classic';_0x5dc5bc===_0x2ca72d(0x9d5)?renderAdminSyncDashboard(_0x462a87,![],_0x462a87[_0x2ca72d(0x647)]):renderStudentSyncResultsView(_0x462a87);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x2ca72d(0xc34),handleVisibilityChange),sessionStorage[_0x2ca72d(0x3c9)](_0x2ca72d(0x191));const _0x453dd=calculateFinalPodiumScores(_0x462a87);showPodiumView(_0x453dd,_0x2ca72d(0x899));break;}}function renderStudentSyncResultsView(_0xc549f4){const _0x176ba4=_0x1f917e,_0x1e814b=localTeamPlayers[_0x176ba4(0x618)](_0x5a3079=>_0xc549f4[_0x176ba4(0x81b)][_0x5a3079])[_0x176ba4(0xa7a)](Boolean);_0x1e814b[_0x176ba4(0x817)]((_0x59cdf0,_0x40aa3e)=>(_0x40aa3e[_0x176ba4(0xa20)]||0x0)-(_0x59cdf0['score']||0x0));const _0x4b841d=_0xc549f4[_0x176ba4(0x57c)]||'classic',_0x5ddc49=_0xc549f4[_0x176ba4(0xa40)][_0x176ba4(0x320)];let _0x43934b='';if(_0x4b841d==='reveal_at_end'){const _0x47716e=_0xc549f4[_0x176ba4(0x647)]>=_0x5ddc49[_0x176ba4(0xab1)]-0x1;_0x47716e?_0x43934b=_0x176ba4(0x21e):_0x43934b=_0x176ba4(0x921);}else{const _0xc7b394=_0xc549f4[_0x176ba4(0x896)]>=_0x5ddc49[_0x176ba4(0xab1)]-0x1;_0xc7b394?_0x43934b=_0x176ba4(0x21e):_0x43934b=_0x176ba4(0x5e9);}const _0x46519f=_0x176ba4(0x661)+_0x1e814b[_0x176ba4(0x618)]((_0x19bb63,_0x5b0e2c)=>_0x176ba4(0x73d)+(_0x5b0e2c+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x19bb63[_0x176ba4(0xc85)]+_0x176ba4(0x3fc)+_0x19bb63['score']+_0x176ba4(0x820))[_0x176ba4(0xd29)]('')+_0x176ba4(0x1f9)+_0x43934b+_0x176ba4(0x58a);liveGameView[_0x176ba4(0xcd8)]=_0x46519f;}function renderStudentSyncQuestionView(_0x48a736){const _0x48d979=_0x1f917e;while(localPlayerTurnIndex<localTeamPlayers[_0x48d979(0xab1)]&&_0x48a736[_0x48d979(0x81b)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x48d979(0x3d8)]===!![]){localPlayerTurnIndex++;}const _0x582530=localTeamPlayers[localPlayerTurnIndex];if(!_0x582530)return;const _0x2a486c=_0x48a736[_0x48d979(0x896)],_0x659503=_0x48a736[_0x48d979(0xa40)][_0x48d979(0x320)][_0x48d979(0xab1)],_0x12c31c=_0x48a736[_0x48d979(0xa40)][_0x48d979(0x320)][_0x2a486c],_0x3a20a9=_0x12c31c[_0x48d979(0x789)]||_0x48a736['shuffledQuiz']['quizType'];let _0x5a1e30='',_0x1bf5fc=![];switch(_0x3a20a9){case'true_false':_0x5a1e30=_0x48d979(0xa7b);break;case _0x48d979(0x48c):case _0x48d979(0x6f2):_0x1bf5fc=!![],_0x5a1e30=_0x48d979(0xb8d);break;case _0x48d979(0x4c9):_0x1bf5fc=!![],_0x5a1e30=_0x48d979(0xa1c)+(_0x12c31c[_0x48d979(0x607)]||[])[_0x48d979(0x618)](_0x40929a=>_0x48d979(0x9dd)+_0x40929a+'\x22>'+_0x40929a+_0x48d979(0xba6))[_0x48d979(0xd29)]('')+_0x48d979(0xa1f);break;case _0x48d979(0x29d):default:_0x5a1e30=(_0x12c31c[_0x48d979(0xae7)]||[])[_0x48d979(0x618)]((_0x40619,_0x1c0b52)=>'<button\x20data-value=\x22'+_0x1c0b52+_0x48d979(0xbb0)+_0x40619+_0x48d979(0x833))['join']('');break;}liveGameView[_0x48d979(0xcd8)]=_0x48d979(0xbcc)+(_0x2a486c+0x1)+_0x48d979(0x4b8)+_0x659503+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x582530+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x12c31c['questionText']||_0x12c31c[_0x48d979(0x629)])+_0x48d979(0x88e)+_0x5a1e30+_0x48d979(0x3ef);if(window[_0x48d979(0x13e)])MathJax['typesetPromise']();function _0x5d2941(_0x14b996,_0x465e5d,_0xf2b369,_0x1eb375){const _0x1d32a3=_0x48d979,_0x2c096d=_0xf2b369[_0x1d32a3(0x563)]===!![];if(_0x2c096d){document[_0x1d32a3(0x2bc)](_0x1d32a3(0xb54))[_0x1d32a3(0x4e3)][_0x1d32a3(0x672)]=_0x1d32a3(0x899);const _0x1f813d=document['getElementById']('selected-answer-index-hidden');_0x1f813d['dataset'][_0x1d32a3(0x257)]=_0x14b996,_0x1f813d['dataset'][_0x1d32a3(0xaa7)]=JSON[_0x1d32a3(0x4e2)](_0x465e5d),_0x1f813d[_0x1d32a3(0x4e3)][_0x1d32a3(0x351)]=JSON[_0x1d32a3(0x4e2)](_0xf2b369),_0x1f813d[_0x1d32a3(0x4e3)][_0x1d32a3(0x628)]=_0x1eb375,document[_0x1d32a3(0x2bc)]('confidence-modal')[_0x1d32a3(0x517)]['remove'](_0x1d32a3(0x44c));}else handleSyncAnswerSubmit(_0x14b996,_0x465e5d,_0xf2b369,_0x1eb375,![]);}_0x1bf5fc?document['getElementById'](_0x48d979(0x41e))['addEventListener']('click',()=>{const _0x5db585=_0x48d979,_0x141b03=document[_0x5db585(0x2bc)](_0x5db585(0x2fe))||document[_0x5db585(0x2bc)](_0x5db585(0x459));if(_0x141b03[_0x5db585(0xa21)][_0x5db585(0x1df)]()===''){showMessage(_0x5db585(0x154));return;}_0x5d2941(_0x141b03[_0x5db585(0xa21)],_0x12c31c,_0x48a736,_0x582530);}):document[_0x48d979(0x362)](_0x48d979(0xbf3))[_0x48d979(0x229)](_0x561fd7=>{const _0x14cff6=_0x48d979;_0x561fd7['addEventListener'](_0x14cff6(0xc20),()=>{const _0x57cce9=_0x14cff6;_0x5d2941(_0x561fd7[_0x57cce9(0x4e3)][_0x57cce9(0xa21)],_0x12c31c,_0x48a736,_0x582530);});});}async function handleSyncAnswerSubmit(_0x36d300,_0x202e53,_0x456a97,_0x27f1af,_0x462278){const _0x444c95=_0x1f917e;document['querySelectorAll'](_0x444c95(0x9ae))[_0x444c95(0x229)](_0x18d38a=>_0x18d38a[_0x444c95(0x8ab)]=!![]);const _0x4870f8=_0x202e53[_0x444c95(0x789)]||_0x456a97['shuffledQuiz'][_0x444c95(0x13d)];let _0x3c2892=![],_0xe9903e=_0x36d300;switch(_0x4870f8){case _0x444c95(0x475):const _0x9b59ec=parseInt(_0x36d300),_0x28ad5c=_0x202e53[_0x444c95(0x9fa)]===!![]||String(_0x202e53[_0x444c95(0x9fa)])['toLowerCase']()===_0x444c95(0xbf6);_0x3c2892=_0x9b59ec===0x0&&_0x28ad5c||_0x9b59ec===0x1&&!_0x28ad5c,_0xe9903e=_0x9b59ec===0x0?_0x444c95(0x5e8):'ไม่ใช่\x20/\x20ผิด';break;case _0x444c95(0x48c):case _0x444c95(0x6f2):_0x3c2892=await gradeShortAnswer(_0x36d300,_0x202e53);break;case _0x444c95(0x4c9):_0x3c2892=_0x36d300===_0x202e53['correctResponse'];break;case'multiple_choice':default:const _0x4e1fd0=parseInt(_0x36d300);_0x3c2892=_0x4e1fd0===_0x202e53[_0x444c95(0x16b)];_0x202e53['options']&&_0x202e53[_0x444c95(0xae7)][_0x4e1fd0]&&(_0xe9903e=_0x202e53[_0x444c95(0xae7)][_0x4e1fd0]);break;}const _0xa7cb23=_0x3c2892?0x1:0x0,_0x411205=doc(db,_0x444c95(0x366)+appId+_0x444c95(0xa36),currentLiveGameId),_0x1cac15={};_0x1cac15[_0x444c95(0xbad)+_0x27f1af+_0x444c95(0xbf4)]=increment(_0xa7cb23),_0x1cac15[_0x444c95(0xbad)+_0x27f1af+_0x444c95(0xba9)]=!![];let _0x3f8cdc=null;(_0x4870f8===_0x444c95(0x29d)||_0x4870f8===_0x444c95(0x475)||_0x4870f8===_0x444c95(0x5f6))&&(_0x3f8cdc=parseInt(_0x36d300));_0x1cac15['players.'+_0x27f1af+_0x444c95(0xc46)]=_0x3f8cdc;const _0x5ec90c={'questionIndex':_0x456a97[_0x444c95(0x896)],'questionId':_0x202e53['id'],'answer':_0x36d300,'answerText':_0xe9903e,'isCorrect':_0x3c2892,'originalQuestionText':_0x202e53[_0x444c95(0x551)]||_0x202e53[_0x444c95(0x629)],'wasConfident':_0x462278};_0x1cac15[_0x444c95(0xbad)+_0x27f1af+_0x444c95(0x7e8)]=arrayUnion(_0x5ec90c),await updateDoc(_0x411205,_0x1cac15);}initialize();
