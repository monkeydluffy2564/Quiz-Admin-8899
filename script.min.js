const _0x389ace=_0x51de;(function(_0x5d265a,_0x3ffdb3){const _0x59493f=_0x51de,_0x39b560=_0x5d265a();while(!![]){try{const _0x41c861=parseInt(_0x59493f(0x4ce))/0x1+-parseInt(_0x59493f(0x7f4))/0x2+parseInt(_0x59493f(0x239))/0x3*(-parseInt(_0x59493f(0xa0f))/0x4)+-parseInt(_0x59493f(0x87d))/0x5*(-parseInt(_0x59493f(0x10a))/0x6)+-parseInt(_0x59493f(0x9b0))/0x7+parseInt(_0x59493f(0x781))/0x8*(-parseInt(_0x59493f(0x73a))/0x9)+parseInt(_0x59493f(0x8c4))/0xa;if(_0x41c861===_0x3ffdb3)break;else _0x39b560['push'](_0x39b560['shift']());}catch(_0x1ed5c4){_0x39b560['push'](_0x39b560['shift']());}}}(_0x3fef,0x1c8eb));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x84caa0=_0x51de;if(_0x84caa0(0x54b)in navigator)try{wakeLock=await navigator[_0x84caa0(0x54b)][_0x84caa0(0x1cc)](_0x84caa0(0x503)),console[_0x84caa0(0x361)](_0x84caa0(0x26b)),wakeLock['addEventListener'](_0x84caa0(0x22b),()=>{const _0xb9f306=_0x84caa0;console[_0xb9f306(0x361)](_0xb9f306(0x4c4));});}catch(_0x567f79){console[_0x84caa0(0x316)](_0x84caa0(0x531)+_0x567f79[_0x84caa0(0x37b)]+',\x20'+_0x567f79['message']);}else console[_0x84caa0(0x91a)](_0x84caa0(0x2c1));},releaseWakeLock=async()=>{const _0x4007b1=_0x51de;wakeLock!==null&&(await wakeLock[_0x4007b1(0x22b)](),wakeLock=null,console[_0x4007b1(0x361)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4e79ca=_0x51de;if(dimTimer)clearTimeout(dimTimer);document[_0x4e79ca(0x13c)][_0x4e79ca(0x469)]['remove'](_0x4e79ca(0x7b7)),dimTimer=setTimeout(()=>{const _0x333d27=_0x4e79ca;document['body'][_0x333d27(0x469)][_0x333d27(0x711)](_0x333d27(0x7b7)),console[_0x333d27(0x361)](_0x333d27(0x496));},inactivityTime);}function stopDimTimer(){const _0x222dae=_0x51de;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x222dae(0x469)]['remove'](_0x222dae(0x7b7)),window[_0x222dae(0x293)](_0x222dae(0x943),resetDimTimer),window[_0x222dae(0x293)](_0x222dae(0x4bf),resetDimTimer),window[_0x222dae(0x293)](_0x222dae(0x3be),resetDimTimer),window['removeEventListener'](_0x222dae(0x566),resetDimTimer),console[_0x222dae(0x361)](_0x222dae(0x8d4));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x4cbd5d,_0x1e93b2=![]){const _0x503875=_0x51de,_0x24464c=allQuizzes['find'](_0x34e89e=>_0x34e89e['id']===_0x4cbd5d)||allQuizzesGlobal['find'](_0xfc07cb=>_0xfc07cb['id']===_0x4cbd5d);if(!_0x24464c){showMessage(_0x503875(0x75b));return;}currentQuizData=getShuffledQuiz(_0x24464c);const _0x2a9ea6=Math[_0x503875(0x6bc)](0x3e8+Math[_0x503875(0xa27)]()*0x2328)[_0x503875(0x1fe)]();try{const _0x5e6f08=await addDoc(collection(db,_0x503875(0x5a5)+appId+'/public/data/teamQuizzes'),{'quizId':_0x24464c['id'],'projectId':_0x24464c['projectId'],'status':_0x503875(0x9d9),'pin':_0x2a9ea6,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1e93b2});currentTeamQuizId=_0x5e6f08['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x2a9ea6,_0x24464c[_0x503875(0x3d0)]),listenForTeamQuizUpdates();}catch(_0x2c29cc){console['error'](_0x503875(0x50a),_0x2c29cc),showMessage(_0x503875(0x893));}}function renderAdminTeamQuizDashboard(_0x845332,_0x49a0ed,_0x25c7b3=_0x389ace(0x438)){const _0x1ade5b=_0x389ace,_0x5ea0b4=_0x25c7b3===_0x1ade5b(0x592)?_0x1ade5b(0x85f):_0x1ade5b(0x200);liveGameView['innerHTML']=_0x1ade5b(0x88e)+_0x5ea0b4+':\x20'+_0x49a0ed+_0x1ade5b(0x160)+_0x845332+_0x1ade5b(0x99a),document[_0x1ade5b(0x3c4)](_0x1ade5b(0x64f))[_0x1ade5b(0x199)](_0x1ade5b(0x548),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0xb3fd39=_0x51de;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xb3fd39(0x5a5)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x278492=_0x389ace;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5e3638=doc(db,_0x278492(0x5a5)+appId+_0x278492(0x7be),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5e3638,_0x165a46=>{const _0x58668c=_0x278492;if(!_0x165a46[_0x58668c(0x446)]()){sessionStorage[_0x58668c(0x833)](_0x58668c(0x8f5));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x58668c(0x622))showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x58668c(0x622)?_0x58668c(0x9e8):_0x58668c(0x287));return;}const _0x4ee39a=_0x165a46[_0x58668c(0x47e)]();if(currentMode===_0x58668c(0x622)){if(_0x4ee39a[_0x58668c(0x284)]==='group'&&_0x4ee39a[_0x58668c(0x933)]!=='podium'&&_0x4ee39a['status']!==_0x58668c(0x445)){const _0x32d7fb=Object['values'](_0x4ee39a[_0x58668c(0x456)]||{});if(_0x32d7fb['length']>0x0){const _0x559e7f=_0x32d7fb['every'](_0x1cbbf8=>_0x1cbbf8['isFinished']===!![]);_0x559e7f&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4ee39a);}else{if(_0x4ee39a['status']===_0x58668c(0x430)||_0x4ee39a['status']===_0x58668c(0x445)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4ee39a[_0x58668c(0x284)]==='group'){const _0x12e4b3=_0x4ee39a[_0x58668c(0x456)][userId];(!_0x12e4b3||!_0x12e4b3['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1f8627){const _0x607548=_0x389ace;console[_0x607548(0x361)](_0x607548(0x16a));const _0xc8fc71=doc(db,_0x607548(0x5a5)+appId+_0x607548(0x7be),_0x1f8627);try{const _0xef4fde=await getDoc(_0xc8fc71);if(_0xef4fde[_0x607548(0x446)]()){const _0x329efb=_0xef4fde[_0x607548(0x47e)]();_0x329efb[_0x607548(0x799)]&&await saveGameResultsAsSubmissions(_0x329efb);}await updateDoc(_0xc8fc71,{'status':'podium'});}catch(_0x10e950){console['error'](_0x607548(0x6f2),_0x10e950);}}function updateAdminTeamDashboard(_0xb818a7){const _0x2cfc13=_0x389ace,_0x2ca214=document[_0x2cfc13(0x3c4)]('team-player-status-grid');if(!_0x2ca214)return;const _0x38a004=_0xb818a7['mode']||_0x2cfc13(0x438);if(_0x38a004===_0x2cfc13(0x592)){const _0x34bb07=Object[_0x2cfc13(0x2da)](_0xb818a7[_0x2cfc13(0x456)]||{});if(_0x34bb07[_0x2cfc13(0x6e5)]===0x0){_0x2ca214['innerHTML']=_0x2cfc13(0x427);return;}const _0x55b176=[..._0x34bb07][_0x2cfc13(0x91f)]((_0x57d63d,_0x135294)=>_0x135294['score']-_0x57d63d[_0x2cfc13(0x84d)]),_0x5c84a0=_0x55b176[_0x2cfc13(0x749)]((_0x4ae2a7,_0xcb9c0a)=>_0x2cfc13(0x997)+(_0xcb9c0a+0x1)+_0x2cfc13(0x465)+_0x4ae2a7[_0x2cfc13(0x5b9)][_0x2cfc13(0x25a)](',\x20')+_0x2cfc13(0x97f)+_0x4ae2a7['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2cfc13(0x25a)]('');let _0x4e5529='';currentQuizData&&currentQuizData[_0x2cfc13(0x47a)]&&(_0x4e5529=currentQuizData[_0x2cfc13(0x47a)][_0x2cfc13(0x749)]((_0x39f1ea,_0x49df90)=>{const _0x1e22c6=_0x2cfc13;let _0xa1d238=0x0;return _0x34bb07['forEach'](_0x4dd640=>{const _0x2b9373=_0x51de,_0x2f335d=_0x4dd640[_0x2b9373(0x54e)]||[],_0x5c4597=_0x2f335d['find'](_0x28a09b=>_0x28a09b['questionIndex']===_0x49df90);_0x5c4597&&_0x5c4597[_0x2b9373(0x988)]&&_0xa1d238++;}),_0x1e22c6(0x2eb)+(_0x49df90+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0xa1d238+'\x20/\x20'+_0x34bb07['length']+'\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')),_0x2ca214[_0x2cfc13(0x368)]=_0x2cfc13(0x151)+_0x5c84a0+_0x2cfc13(0x55d)+_0x4e5529+_0x2cfc13(0x74c);}else{const _0x32c2e8=_0xb818a7[_0x2cfc13(0x177)]||{},_0x443abd=Object[_0x2cfc13(0x45d)](_0x32c2e8);if(_0x443abd[_0x2cfc13(0x6e5)]===0x0){_0x2ca214[_0x2cfc13(0x368)]=_0x2cfc13(0x7c7);return;}const _0x5ad971=_0x443abd[_0x2cfc13(0x749)](_0x5665c9=>({'name':_0x5665c9,'score':_0x32c2e8[_0x5665c9]['score']||0x0}))[_0x2cfc13(0x91f)]((_0x47c3bc,_0x4e17b8)=>_0x4e17b8[_0x2cfc13(0x84d)]-_0x47c3bc[_0x2cfc13(0x84d)]);let _0x1a6c6b='';currentQuizData&&currentQuizData['questions']&&(_0x1a6c6b=currentQuizData[_0x2cfc13(0x47a)][_0x2cfc13(0x749)]((_0x1f21d7,_0x591e06)=>{const _0x3b7831=_0x2cfc13;let _0x572dc1=0x0;return _0x443abd[_0x3b7831(0x502)](_0x4526e2=>{const _0xf6f9c4=_0x3b7831,_0x22e247=_0x32c2e8[_0x4526e2]['answers']||[],_0x548305=_0x22e247[_0xf6f9c4(0x304)](_0x23826b=>_0x23826b[_0xf6f9c4(0x98a)]===_0x591e06);if(_0x548305&&_0x548305[_0xf6f9c4(0x988)])_0x572dc1++;}),_0x3b7831(0x90f)+(_0x591e06+0x1)+_0x3b7831(0x5cf)+_0x572dc1+'\x20/\x20'+_0x443abd[_0x3b7831(0x6e5)]+_0x3b7831(0xa0a);})[_0x2cfc13(0x25a)]('')),_0x2ca214[_0x2cfc13(0x368)]=_0x2cfc13(0x78e)+_0x5ad971[_0x2cfc13(0x749)](_0x3c0e55=>_0x2cfc13(0x165)+_0x3c0e55['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x3c0e55[_0x2cfc13(0x84d)]+'\x20คะแนน</span></div>')[_0x2cfc13(0x25a)]('')+_0x2cfc13(0x55d)+_0x1a6c6b+_0x2cfc13(0x2d8);}}async function handleJoinTeamQuiz(){const _0x1782d6=_0x389ace,_0x1de91c=prompt(_0x1782d6(0x5e5));if(!_0x1de91c||_0x1de91c['trim']()[_0x1782d6(0x6e5)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x46e29e=collection(db,_0x1782d6(0x5a5)+appId+_0x1782d6(0x7be)),_0xfce535=query(_0x46e29e,where(_0x1782d6(0x33e),'==',_0x1de91c[_0x1782d6(0x7f5)]()),where(_0x1782d6(0x933),'==','lobby')),_0x103568=await getDocs(_0xfce535);if(_0x103568['empty']){showMessage(_0x1782d6(0x55f));return;}const _0x43a217=_0x103568[_0x1782d6(0x768)][0x0];currentTeamQuizId=_0x43a217['id'];const _0x2b07=_0x43a217['data'](),_0x48a21e=doc(db,_0x1782d6(0x5a5)+appId+'/public/data/projects',_0x2b07[_0x1782d6(0x7a0)]),_0x2f2140=doc(db,_0x1782d6(0x5a5)+appId+_0x1782d6(0x405),_0x2b07[_0x1782d6(0x21c)]),[_0x57f8cc,_0x9516f2]=await Promise[_0x1782d6(0x9e1)]([getDoc(_0x48a21e),getDoc(_0x2f2140)]);if(!_0x57f8cc[_0x1782d6(0x446)]()||!_0x9516f2[_0x1782d6(0x446)]())throw new Error(_0x1782d6(0x139));currentQuizData=getShuffledQuiz({'id':_0x9516f2['id'],..._0x9516f2[_0x1782d6(0x47e)]()});const _0x494e8b=_0x57f8cc[_0x1782d6(0x47e)]();showTeamPlayerSelection(_0x494e8b[_0x1782d6(0x2ec)],currentQuizData['topic']);}catch(_0x1932c8){console[_0x1782d6(0x316)](_0x1782d6(0xfa),_0x1932c8),showMessage(_0x1782d6(0x26f)+_0x1932c8[_0x1782d6(0x4a8)]);}}async function handleJoinGroupActivity(){const _0x5b465f=_0x389ace,_0x5c2771=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x5c2771||_0x5c2771['trim']()['length']!==0x4){showMessage(_0x5b465f(0x3e6));return;}const _0x146fb3=_0x5c2771['trim']();showMessage(_0x5b465f(0x81d));try{const _0x1595b1=collection(db,'artifacts/'+appId+_0x5b465f(0x7be)),_0x121674=query(_0x1595b1,where(_0x5b465f(0x33e),'==',_0x146fb3),where(_0x5b465f(0x933),'==','lobby')),_0x5634b2=await getDocs(_0x121674);if(!_0x5634b2['empty']){console[_0x5b465f(0x361)](_0x5b465f(0x4c7)),await proceedWithTeamQuizJoin(_0x5634b2[_0x5b465f(0x768)][0x0]);return;}const _0x13813d=collection(db,_0x5b465f(0x5a5)+appId+_0x5b465f(0x29e)),_0x55212c=query(_0x13813d,where(_0x5b465f(0x33e),'==',_0x146fb3),where(_0x5b465f(0x933),'==',_0x5b465f(0x9d9))),_0x259c04=await getDocs(_0x55212c);if(!_0x259c04['empty']){console['log'](_0x5b465f(0x874)),await proceedWithSyncQuizJoin(_0x259c04[_0x5b465f(0x768)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x5a553c){console['error'](_0x5b465f(0x53b),_0x5a553c),showMessage(_0x5b465f(0x303)+_0x5a553c[_0x5b465f(0x4a8)]);}}async function proceedWithTeamQuizJoin(_0x5dba2c){const _0x46528d=_0x389ace;currentTeamQuizId=_0x5dba2c['id'];const _0x481059=_0x5dba2c[_0x46528d(0x47e)](),_0xe8021e=doc(db,'artifacts/'+appId+_0x46528d(0x42b),_0x481059[_0x46528d(0x7a0)]),_0x292688=doc(db,_0x46528d(0x5a5)+appId+_0x46528d(0x405),_0x481059[_0x46528d(0x21c)]),[_0x945e1d,_0x303b73]=await Promise[_0x46528d(0x9e1)]([getDoc(_0xe8021e),getDoc(_0x292688)]);if(!_0x945e1d[_0x46528d(0x446)]()||!_0x303b73[_0x46528d(0x446)]())throw new Error(_0x46528d(0x139));currentQuizData=getShuffledQuiz({'id':_0x303b73['id'],..._0x303b73[_0x46528d(0x47e)]()}),showTeamPlayerSelection(_0x945e1d[_0x46528d(0x47e)]()['students'],currentQuizData['topic'],_0x481059['mode']||_0x46528d(0x438)),messageModal[_0x46528d(0x469)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x7d5070){const _0x5c47b7=_0x389ace;currentLiveGameId=_0x7d5070['id'];const _0x28da23=_0x7d5070['data'](),_0x4262a4=doc(db,_0x5c47b7(0x5a5)+appId+_0x5c47b7(0x405),_0x28da23['quizId']),_0x3b6921=await getDoc(_0x4262a4);if(!_0x3b6921['exists']())throw new Error(_0x5c47b7(0x75b));const _0x43a4b6=_0x3b6921[_0x5c47b7(0x47e)](),_0x1c83fa=doc(db,_0x5c47b7(0x5a5)+appId+_0x5c47b7(0x42b),_0x43a4b6[_0x5c47b7(0x7a0)]),_0x39dbcf=await getDoc(_0x1c83fa);if(!_0x39dbcf[_0x5c47b7(0x446)]())throw new Error(_0x5c47b7(0x898));currentQuizData=_0x28da23[_0x5c47b7(0x1df)],showView(_0x5c47b7(0x1ca)),showTeamPlayerSelection(_0x39dbcf['data']()[_0x5c47b7(0x2ec)],_0x43a4b6['topic'],'sync'),document[_0x5c47b7(0x3c4)]('confirm-team-players-btn')[_0x5c47b7(0x39d)]=confirmAndJoinSyncGame,messageModal[_0x5c47b7(0x469)][_0x5c47b7(0x711)](_0x5c47b7(0x5ec));}function showTeamPlayerSelection(_0x24b7fb,_0x13dfc0,_0x2e4de0='team'){const _0x3cf01e=_0x389ace;studentInitialView[_0x3cf01e(0x469)]['add']('hidden'),studentJoinGameView[_0x3cf01e(0x469)]['add'](_0x3cf01e(0x5ec)),document[_0x3cf01e(0x3c4)]('student-team-selection-view')['classList'][_0x3cf01e(0x182)](_0x3cf01e(0x5ec));let _0x1723c5=_0x3cf01e(0x200);if(_0x2e4de0==='group')_0x1723c5=_0x3cf01e(0x85f);else _0x2e4de0==='sync'&&(_0x1723c5=_0x3cf01e(0x83e));document[_0x3cf01e(0x3c4)](_0x3cf01e(0x3a4))[_0x3cf01e(0x60f)]=_0x1723c5+':\x20'+_0x13dfc0;const _0x351629=document[_0x3cf01e(0x3c4)]('team-student-list');if(!_0x24b7fb||_0x24b7fb[_0x3cf01e(0x6e5)]===0x0){_0x351629[_0x3cf01e(0x368)]=_0x3cf01e(0x34c),document[_0x3cf01e(0x3c4)](_0x3cf01e(0x7ad))['disabled']=!![];return;}_0x351629[_0x3cf01e(0x368)]=_0x24b7fb[_0x3cf01e(0x749)](_0x401951=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x401951+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x401951+_0x3cf01e(0x514))[_0x3cf01e(0x25a)](''),document['getElementById'](_0x3cf01e(0x7ad))[_0x3cf01e(0x2d5)]=![];}async function confirmAndStartTeamQuiz(){const _0x200ae5=_0x389ace,_0x4e684c=Array[_0x200ae5(0x194)](document[_0x200ae5(0x85d)](_0x200ae5(0x60a)))['map'](_0x4f5e5c=>_0x4f5e5c[_0x200ae5(0x213)]);if(_0x4e684c['length']===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x4e684c,localPlayerTurnIndex=0x0;const _0x571839=doc(db,'artifacts/'+appId+_0x200ae5(0x7be),currentTeamQuizId),_0x5c4c52=await getDoc(_0x571839);if(!_0x5c4c52['exists']()){showMessage(_0x200ae5(0x71d));return;}const _0x5287d0=_0x5c4c52[_0x200ae5(0x47e)]();_0x5287d0[_0x200ae5(0x284)]===_0x200ae5(0x592)&&(localGroupQuestionIndex=0x0);try{if(_0x5287d0[_0x200ae5(0x284)]===_0x200ae5(0x592)){const _0x4de103=userId,_0x4a7069={};_0x4a7069['groups.'+_0x4de103]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x571839,_0x4a7069);}else{const _0x1225de={};localTeamPlayers[_0x200ae5(0x502)](_0x5c7fd9=>{const _0x4ab800=_0x200ae5;_0x1225de[_0x4ab800(0x793)+_0x5c7fd9]={'score':0x0,'answers':[]};}),await updateDoc(_0x571839,_0x1225de);}document[_0x200ae5(0x3c4)](_0x200ae5(0x277))[_0x200ae5(0x469)][_0x200ae5(0x711)](_0x200ae5(0x5ec)),renderTeamQuizQuestion();const _0x1bd579={'gameId':currentTeamQuizId,'mode':_0x5287d0[_0x200ae5(0x284)]||_0x200ae5(0x438),'players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x200ae5(0x7f9)]('activeGameSession',JSON[_0x200ae5(0x2ce)](_0x1bd579)),listenForTeamQuizUpdates();}catch(_0x4d3b92){console['error'](_0x200ae5(0x2b9),_0x4d3b92),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x48f9f0=_0x389ace,_0x45922b=doc(db,_0x48f9f0(0x5a5)+appId+_0x48f9f0(0x7be),currentTeamQuizId),_0x5ab6a2=await getDoc(_0x45922b);if(!_0x5ab6a2[_0x48f9f0(0x446)]())return;const _0x279c19=_0x5ab6a2['data'](),_0x36f68e=_0x279c19[_0x48f9f0(0x284)]||_0x48f9f0(0x438);let _0x97928f,_0x2c6720;_0x36f68e===_0x48f9f0(0x592)?(_0x97928f=localGroupQuestionIndex,_0x2c6720=_0x48f9f0(0xa22)+localTeamPlayers[_0x48f9f0(0x25a)](',\x20')):(_0x97928f=Math[_0x48f9f0(0x6bc)](localPlayerTurnIndex/localTeamPlayers[_0x48f9f0(0x6e5)]),_0x2c6720=_0x48f9f0(0x949)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x48f9f0(0x6e5)]]);if(_0x97928f>=currentQuizData[_0x48f9f0(0x47a)][_0x48f9f0(0x6e5)]){displayTeamQuizFinalResults();return;}const _0x467ad5=currentQuizData[_0x48f9f0(0x47a)][_0x97928f],_0x5a850e=_0x467ad5[_0x48f9f0(0x651)]||currentQuizData[_0x48f9f0(0x8f1)];let _0x5ab873=_0x467ad5['stem']||_0x467ad5[_0x48f9f0(0x47b)],_0x176435='';switch(_0x5a850e){case _0x48f9f0(0x961):case _0x48f9f0(0x67f):_0x176435=_0x467ad5['options'][_0x48f9f0(0x749)]((_0x2c8b1f,_0x2baafe)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x2baafe+_0x48f9f0(0x114)+_0x2baafe+_0x48f9f0(0x51c)+_0x2baafe+'\x22>'+_0x2c8b1f+'</label></div>')[_0x48f9f0(0x25a)]('');break;case _0x48f9f0(0x327):_0x176435=_0x48f9f0(0x7de);break;case _0x48f9f0(0x8a8):case _0x48f9f0(0x66b):_0x176435=_0x48f9f0(0x255);break;case'matching_item':_0x176435='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x467ad5[_0x48f9f0(0x341)][_0x48f9f0(0x749)](_0x150de3=>_0x48f9f0(0x5d5)+_0x150de3+'\x22>'+_0x150de3+_0x48f9f0(0x95d))[_0x48f9f0(0x25a)]('')+'</select>';break;default:_0x176435=_0x48f9f0(0x9da);break;}studentQuizArea[_0x48f9f0(0x368)]=_0x48f9f0(0x70f)+(_0x97928f+0x1)+_0x48f9f0(0x3ff)+currentQuizData[_0x48f9f0(0x47a)]['length']+_0x48f9f0(0x1e8)+_0x2c6720+_0x48f9f0(0x2c3)+(_0x97928f+0x1)+'.\x20'+_0x5ab873+_0x48f9f0(0xa06)+(_0x467ad5[_0x48f9f0(0x7fd)]?_0x48f9f0(0x33c)+_0x467ad5['imageCode']+_0x48f9f0(0x58d):'')+_0x48f9f0(0x959)+_0x176435+_0x48f9f0(0x238),studentQuizArea['classList'][_0x48f9f0(0x182)]('hidden');if(window[_0x48f9f0(0x8cc)])MathJax[_0x48f9f0(0x4c3)]([studentQuizArea]);const _0x135490=document[_0x48f9f0(0x3c4)](_0x48f9f0(0x75a));_0x36f68e===_0x48f9f0(0x592)?_0x135490['addEventListener'](_0x48f9f0(0x548),handleGroupAnswerSubmit):_0x135490[_0x48f9f0(0x199)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x51b3a2=_0x389ace,_0xf89977=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x38414d=localGroupQuestionIndex,_0x4315f2=currentQuizData[_0x51b3a2(0x47a)][_0x38414d],_0x34b1f4=_0x4315f2[_0x51b3a2(0x651)]||currentQuizData[_0x51b3a2(0x8f1)];let _0x21ab42=null,_0x50976e=![];if(_0x34b1f4===_0x51b3a2(0x8a8)||_0x34b1f4==='fill_in_no_choices'){const _0x4bbc55=document[_0x51b3a2(0x674)](_0x51b3a2(0x5b5));if(!_0x4bbc55||!_0x4bbc55[_0x51b3a2(0x213)][_0x51b3a2(0x7f5)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x21ab42=_0x4bbc55[_0x51b3a2(0x213)][_0x51b3a2(0x7f5)](),_0x50976e=await gradeShortAnswer(_0x21ab42,_0x4315f2);}else{const _0x52a468=document[_0x51b3a2(0x674)](_0x51b3a2(0x8a1));if(!_0x52a468||_0x52a468[_0x51b3a2(0x213)]===''){showMessage(_0x51b3a2(0x35e));return;}_0x21ab42=_0x52a468[_0x51b3a2(0x213)];switch(_0x34b1f4){case _0x51b3a2(0x327):_0x50976e=_0x21ab42==='true'===_0x4315f2[_0x51b3a2(0x9f4)];break;case _0x51b3a2(0x5a6):_0x50976e=_0x21ab42===_0x4315f2[_0x51b3a2(0x740)];break;default:_0x50976e=parseInt(_0x21ab42)===_0x4315f2[_0x51b3a2(0x58a)];break;}}const _0x5cac4a={'questionIndex':_0x38414d,'isCorrect':_0x50976e},_0x4101fd=userId,_0x5b2dbb={};_0x5b2dbb[_0x51b3a2(0x2bf)+_0x4101fd+_0x51b3a2(0x331)]=arrayUnion(_0x5cac4a);_0x50976e&&(_0x5b2dbb[_0x51b3a2(0x2bf)+_0x4101fd+'.score']=increment(0x1));try{await updateDoc(_0xf89977,_0x5b2dbb),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x150acd){console[_0x51b3a2(0x316)](_0x51b3a2(0x856),_0x150acd),showMessage(_0x51b3a2(0x68f));}}async function handleTeamAnswerSubmit(){const _0x500138=_0x389ace,_0x5b1eaa=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x500138(0x6e5)]],_0x58c50c=Math[_0x500138(0x6bc)](localPlayerTurnIndex/localTeamPlayers[_0x500138(0x6e5)]),_0x20c59e=currentQuizData[_0x500138(0x47a)][_0x58c50c],_0x697477=_0x20c59e[_0x500138(0x651)]||currentQuizData[_0x500138(0x8f1)];let _0x4be0b9=null,_0x38fd12=![];if(_0x697477===_0x500138(0x8a8)||_0x697477===_0x500138(0x66b)){const _0x27f681=document['querySelector']('textarea[name=\x22team_answer\x22]');if(!_0x27f681||!_0x27f681[_0x500138(0x213)][_0x500138(0x7f5)]()){showMessage(_0x500138(0x23a));return;}_0x4be0b9=_0x27f681['value'][_0x500138(0x7f5)](),_0x38fd12=await gradeShortAnswer(_0x4be0b9,_0x20c59e);}else{const _0x2fc9dc=document[_0x500138(0x674)](_0x500138(0x8a1));if(!_0x2fc9dc||_0x2fc9dc[_0x500138(0x213)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x4be0b9=_0x2fc9dc[_0x500138(0x213)];switch(_0x697477){case _0x500138(0x327):const _0xf259b1=_0x4be0b9===_0x500138(0x407);_0x38fd12=_0xf259b1===_0x20c59e[_0x500138(0x9f4)];break;case _0x500138(0x5a6):_0x38fd12=_0x4be0b9===_0x20c59e[_0x500138(0x740)];break;default:const _0x3fd07a=parseInt(_0x4be0b9);_0x38fd12=_0x3fd07a===_0x20c59e[_0x500138(0x58a)];break;}}const _0x2df798={'questionIndex':_0x58c50c,'isCorrect':_0x38fd12,'answerValue':_0x4be0b9},_0x2e3eb4=doc(db,'artifacts/'+appId+_0x500138(0x7be),currentTeamQuizId),_0x2081ae={};_0x2081ae[_0x500138(0x793)+_0x5b1eaa+'.answers']=arrayUnion(_0x2df798);_0x38fd12&&(_0x2081ae['responses.'+_0x5b1eaa+'.score']=increment(0x1));try{await updateDoc(_0x2e3eb4,_0x2081ae),localPlayerTurnIndex++;const _0x3c5ce9=JSON['parse'](sessionStorage[_0x500138(0x5bf)]('activeGameSession')||'{}');_0x3c5ce9['turnIndex']=localPlayerTurnIndex,sessionStorage[_0x500138(0x7f9)](_0x500138(0x8f5),JSON['stringify'](_0x3c5ce9)),renderTeamQuizQuestion();}catch(_0x422a94){console[_0x500138(0x316)](_0x500138(0x5a1),_0x422a94),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x2ef18f=_0x389ace;studentQuizArea[_0x2ef18f(0x469)][_0x2ef18f(0x711)](_0x2ef18f(0x5ec)),studentResultArea[_0x2ef18f(0x469)][_0x2ef18f(0x182)](_0x2ef18f(0x5ec));const _0x158b39=doc(db,_0x2ef18f(0x5a5)+appId+_0x2ef18f(0x7be),currentTeamQuizId),_0xeead87=await getDoc(_0x158b39);if(!_0xeead87[_0x2ef18f(0x446)]()){studentResultArea[_0x2ef18f(0x368)]=_0x2ef18f(0x9ea);return;}const _0x40220d=_0xeead87[_0x2ef18f(0x47e)]();let _0x29e7f5=[];const _0x49ad62=_0x40220d['mode']||_0x2ef18f(0x438);if(_0x49ad62===_0x2ef18f(0x592)){const _0x444240=_0x40220d['groups'][userId];_0x444240?_0x29e7f5=[{'name':_0x2ef18f(0xa22)+localTeamPlayers[_0x2ef18f(0x25a)](',\x20'),'score':_0x444240[_0x2ef18f(0x84d)]||0x0}]:_0x29e7f5=[{'name':'กลุ่มของคุณ','score':_0x2ef18f(0x1e7)}];}else _0x29e7f5=localTeamPlayers[_0x2ef18f(0x749)](_0x261b74=>({'name':_0x261b74,'score':_0x40220d['responses'][_0x261b74]?.[_0x2ef18f(0x84d)]||0x0}))[_0x2ef18f(0x91f)]((_0x146949,_0x136d4b)=>_0x136d4b[_0x2ef18f(0x84d)]-_0x146949[_0x2ef18f(0x84d)]);studentResultArea[_0x2ef18f(0x368)]=_0x2ef18f(0x632)+_0x29e7f5[_0x2ef18f(0x749)](_0x5df33a=>_0x2ef18f(0x5c0)+_0x5df33a[_0x2ef18f(0x37b)]+_0x2ef18f(0x3c2)+_0x5df33a[_0x2ef18f(0x84d)]+_0x2ef18f(0x905))[_0x2ef18f(0x25a)]('')+_0x2ef18f(0x103),sessionStorage[_0x2ef18f(0x833)](_0x2ef18f(0x8f5)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x28ad4a=_0x2ef18f;deleteDoc(doc(db,'artifacts/'+appId+_0x28ad4a(0x7be),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x389ace(0x78d)};const allMathTopics=[{'category':_0x389ace(0x119),'name':'การนับ'},{'category':_0x389ace(0x119),'name':_0x389ace(0x879)},{'category':_0x389ace(0x119),'name':_0x389ace(0x211)},{'category':'จำนวนและการดำเนินการ','name':_0x389ace(0x40c)},{'category':_0x389ace(0x119),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x389ace(0x76e)},{'category':'จำนวนและการดำเนินการ','name':_0x389ace(0x94c)},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':_0x389ace(0x119),'name':_0x389ace(0xa15)},{'category':_0x389ace(0x119),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':_0x389ace(0x119),'name':_0x389ace(0x2b7)},{'category':_0x389ace(0x119),'name':'เส้นจำนวน'},{'category':_0x389ace(0x119),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x389ace(0x119),'name':_0x389ace(0x3b8)},{'category':_0x389ace(0x119),'name':_0x389ace(0x945)},{'category':_0x389ace(0x119),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x389ace(0x119),'name':_0x389ace(0x867)},{'category':_0x389ace(0x119),'name':_0x389ace(0x87b)},{'category':_0x389ace(0x119),'name':_0x389ace(0xa1d)},{'category':_0x389ace(0x119),'name':'การลบเศษส่วน'},{'category':_0x389ace(0x119),'name':'การคูณเศษส่วน'},{'category':_0x389ace(0x119),'name':_0x389ace(0x6a8)},{'category':_0x389ace(0x119),'name':'จำนวนคละ'},{'category':_0x389ace(0x119),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x389ace(0x119),'name':'การบวกทศนิยม'},{'category':_0x389ace(0x119),'name':_0x389ace(0x778)},{'category':_0x389ace(0x119),'name':_0x389ace(0x2ee)},{'category':'จำนวนและการดำเนินการ','name':_0x389ace(0x832)},{'category':'จำนวนและการดำเนินการ','name':_0x389ace(0x9e6)},{'category':_0x389ace(0x119),'name':_0x389ace(0x4fa)},{'category':'จำนวนและการดำเนินการ','name':_0x389ace(0x294)},{'category':_0x389ace(0x119),'name':_0x389ace(0xa1e)},{'category':_0x389ace(0x119),'name':_0x389ace(0x398)},{'category':_0x389ace(0x119),'name':_0x389ace(0x5f9)},{'category':_0x389ace(0x119),'name':_0x389ace(0x3f4)},{'category':_0x389ace(0x119),'name':_0x389ace(0x9d3)},{'category':_0x389ace(0x94f),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x389ace(0x94f),'name':_0x389ace(0x90e)},{'category':_0x389ace(0x94f),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':'อุณหภูมิและการแปลง'},{'category':'การวัด','name':_0x389ace(0x836)},{'category':_0x389ace(0x94f),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x389ace(0x94f),'name':_0x389ace(0x171)},{'category':_0x389ace(0x94f),'name':_0x389ace(0xa46)},{'category':'การวัด','name':_0x389ace(0x3da)},{'category':_0x389ace(0x94f),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0x389ace(0x9b1)},{'category':'การวัด','name':_0x389ace(0x1fc)},{'category':'การวัด','name':_0x389ace(0xa02)},{'category':_0x389ace(0x397),'name':_0x389ace(0x540)},{'category':_0x389ace(0x397),'name':_0x389ace(0x614)},{'category':'เรขาคณิต','name':_0x389ace(0x439)},{'category':_0x389ace(0x397),'name':_0x389ace(0x171)},{'category':_0x389ace(0x397),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x389ace(0x397),'name':'ความคล้ายของรูป'},{'category':'เรขาคณิต','name':_0x389ace(0xa40)},{'category':_0x389ace(0x397),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x389ace(0x397),'name':_0x389ace(0x2b0)},{'category':_0x389ace(0x397),'name':_0x389ace(0x75f)},{'category':'เรขาคณิต','name':_0x389ace(0x95c)},{'category':_0x389ace(0x397),'name':_0x389ace(0x295)},{'category':'เรขาคณิต','name':_0x389ace(0x7b0)},{'category':_0x389ace(0x397),'name':_0x389ace(0x1ed)},{'category':_0x389ace(0x397),'name':_0x389ace(0xa12)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x6a4)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x970)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x6e8)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแยกตัวประกอบ'},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x643)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x301)},{'category':_0x389ace(0x9e9),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x40f)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x221)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x258)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x72b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x389ace(0x2df)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x1b7)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x9eb)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x1cd)},{'category':_0x389ace(0x9e9),'name':'ระบบอสมการ'},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x33f)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0xa26)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x389ace(0x4fd)},{'category':_0x389ace(0x9e9),'name':'ฟังก์ชันผกผัน'},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x55a)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x1a4)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x411)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x178)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x6f0)},{'category':_0x389ace(0x9e9),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x389ace(0x5ac)},{'category':_0x389ace(0x9e9),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x98e)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x212)},{'category':_0x389ace(0x9e9),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x33a)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x86f)},{'category':_0x389ace(0x9e9),'name':_0x389ace(0x669)},{'category':_0x389ace(0x1f0),'name':_0x389ace(0x148)},{'category':_0x389ace(0x1f0),'name':_0x389ace(0x4e2)},{'category':_0x389ace(0x1f0),'name':_0x389ace(0x11b)},{'category':'เรขาคณิตวิเคราะห์','name':_0x389ace(0x309)},{'category':_0x389ace(0x1f0),'name':_0x389ace(0x96f)},{'category':_0x389ace(0x1f0),'name':_0x389ace(0x1ad)},{'category':'เรขาคณิตวิเคราะห์','name':'พาราโบลา'},{'category':_0x389ace(0x1f0),'name':_0x389ace(0x646)},{'category':_0x389ace(0x1f0),'name':_0x389ace(0x8c2)},{'category':_0x389ace(0x625),'name':_0x389ace(0xa54)},{'category':_0x389ace(0x625),'name':_0x389ace(0x544)},{'category':_0x389ace(0x625),'name':_0x389ace(0x5f6)},{'category':'ตรีโกณมิติ','name':_0x389ace(0x5b7)},{'category':_0x389ace(0x625),'name':_0x389ace(0x84c)},{'category':_0x389ace(0x625),'name':_0x389ace(0x1f3)},{'category':'ตรีโกณมิติ','name':_0x389ace(0x878)},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x389ace(0x625),'name':_0x389ace(0x80c)},{'category':_0x389ace(0x625),'name':_0x389ace(0x34b)},{'category':_0x389ace(0x625),'name':_0x389ace(0x184)},{'category':_0x389ace(0x89f),'name':_0x389ace(0xa0d)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x5ba)},{'category':'สถิติและความน่าจะเป็น','name':_0x389ace(0x44e)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x98f)},{'category':_0x389ace(0x89f),'name':_0x389ace(0xa0b)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x771)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x9de)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x681)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x84a)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x443)},{'category':_0x389ace(0x89f),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x389ace(0x89f),'name':_0x389ace(0x536)},{'category':'สถิติและความน่าจะเป็น','name':_0x389ace(0x455)},{'category':'สถิติและความน่าจะเป็น','name':_0x389ace(0x146)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x824)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x18f)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x22a)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x928)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x899)},{'category':'สถิติและความน่าจะเป็น','name':_0x389ace(0x2e8)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x2de)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x440)},{'category':_0x389ace(0x89f),'name':_0x389ace(0x6c0)},{'category':'สถิติและความน่าจะเป็น','name':_0x389ace(0x686)},{'category':'แคลคูลัสเบื้องต้น','name':_0x389ace(0x22f)},{'category':'แคลคูลัสเบื้องต้น','name':_0x389ace(0x591)},{'category':_0x389ace(0x6ac),'name':_0x389ace(0x170)},{'category':'แคลคูลัสเบื้องต้น','name':_0x389ace(0x441)},{'category':_0x389ace(0x6ac),'name':_0x389ace(0x626)},{'category':_0x389ace(0x6ac),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x389ace(0x6ac),'name':_0x389ace(0x593)},{'category':'แคลคูลัสเบื้องต้น','name':_0x389ace(0x559)},{'category':_0x389ace(0x6ac),'name':_0x389ace(0x6fe)},{'category':_0x389ace(0x6ac),'name':_0x389ace(0x618)},{'category':_0x389ace(0x6ac),'name':_0x389ace(0x7af)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x389ace(0x6ac),'name':_0x389ace(0x89c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x389ace(0x4f6)},{'category':_0x389ace(0x209),'name':_0x389ace(0x617)},{'category':_0x389ace(0x209),'name':_0x389ace(0x246)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x389ace(0x43b)},{'category':_0x389ace(0x209),'name':_0x389ace(0x4c0)},{'category':_0x389ace(0x209),'name':_0x389ace(0x133)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x389ace(0x6d2)},{'category':_0x389ace(0x72a),'name':_0x389ace(0x956)},{'category':_0x389ace(0x72a),'name':'ดอกเบี้ยทบต้น'},{'category':_0x389ace(0x72a),'name':_0x389ace(0x50d)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x389ace(0x10e)},{'category':_0x389ace(0x72a),'name':'ร้อยละประยุกต์'},{'category':_0x389ace(0x8eb),'name':_0x389ace(0x1f2)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x389ace(0x575)}];function renderTopicCheckboxes(){const _0x134b0e=_0x389ace,_0xf1f5d5=document[_0x134b0e(0x3c4)](_0x134b0e(0x9c0));if(!_0xf1f5d5)return;const _0x2107b3=allMathTopics,_0x426c40=customMathTopics['map'](_0x2fd34a=>({'id':_0x2fd34a['id'],'category':'หัวข้อที่สร้างเอง','name':_0x2fd34a[_0x134b0e(0x37b)]})),_0x5b27ad=[..._0x2107b3,..._0x426c40],_0x51f66b=_0x5b27ad[_0x134b0e(0x7e8)]((_0x31fbf6,_0x17ca94)=>{const _0x41fe39=_0x134b0e;return!_0x31fbf6[_0x17ca94['category']]&&(_0x31fbf6[_0x17ca94['category']]=[]),_0x31fbf6[_0x17ca94[_0x41fe39(0x8f4)]]['push'](_0x17ca94),_0x31fbf6;},{});let _0x1fbe32='';const _0x53b95b=['หัวข้อที่สร้างเอง',...Object[_0x134b0e(0x45d)](_0x51f66b)[_0x134b0e(0x573)](_0x58b5bc=>_0x58b5bc!==_0x134b0e(0x859))];for(const _0x138620 of _0x53b95b){if(_0x51f66b[_0x138620]){const _0x303496=_0x138620===_0x134b0e(0x859),_0x420873=_0x303496?_0x134b0e(0x955):_0x134b0e(0x273),_0x267a86=_0x303496?_0x134b0e(0x71e):'text-indigo-700';_0x1fbe32+=_0x134b0e(0x32b),_0x1fbe32+=_0x134b0e(0x319)+_0x267a86+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x420873+'\x20mr-2\x22></i>'+_0x138620+_0x134b0e(0x1b5),_0x51f66b[_0x138620][_0x134b0e(0x502)](_0x15fdbd=>{const _0x69951d=_0x134b0e,_0x4a4597=!!_0x15fdbd['id'],_0x5c97d6=_0x4a4597?_0x69951d(0x782)+_0x15fdbd['id']+_0x69951d(0x7d9)+_0x15fdbd['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x15fdbd['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x15fdbd['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x1fbe32+=_0x69951d(0x97d)+(_0x15fdbd['id']||'')+_0x69951d(0x155)+_0x15fdbd[_0x69951d(0x37b)]+_0x69951d(0x2d4)+_0x15fdbd[_0x69951d(0x37b)]+_0x69951d(0x410)+(_0x4a4597?_0x69951d(0x930)+_0x15fdbd['name']+'\x22>':'')+_0x69951d(0x2c9)+_0x5c97d6+_0x69951d(0x4bc);}),_0x1fbe32+=_0x134b0e(0x58d);}}_0xf1f5d5['innerHTML']=_0x1fbe32||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0xf1f5d5[_0x134b0e(0x293)](_0x134b0e(0x88b),updateSelectedTopicsCount),_0xf1f5d5['addEventListener'](_0x134b0e(0x88b),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x13b115,_0x13e7e4){const _0x4f8579=_0x389ace;if(!_0x13b115||!_0x13e7e4[_0x4f8579(0x7f5)]()){showMessage(_0x4f8579(0x6f4));return;}try{const _0x4c6de0=doc(db,_0x4f8579(0x5a5)+appId+_0x4f8579(0x437),_0x13b115);await updateDoc(_0x4c6de0,{'name':_0x13e7e4[_0x4f8579(0x7f5)]()}),showMessage(_0x4f8579(0x8f9));}catch(_0x34e598){console[_0x4f8579(0x316)](_0x4f8579(0x419),_0x34e598),showMessage(_0x4f8579(0x745));}}function toggleTopicEditMode(_0x470c01,_0x57bdff){const _0x1991f2=_0x389ace;if(!_0x470c01)return;const _0x49413f=_0x470c01[_0x1991f2(0x674)](_0x1991f2(0x61d)),_0x4cc212=_0x470c01[_0x1991f2(0x674)](_0x1991f2(0xa1c)),_0x3e766f=_0x470c01['querySelector']('.topic-actions-view'),_0x223de2=_0x470c01[_0x1991f2(0x674)](_0x1991f2(0x409));_0x49413f[_0x1991f2(0x469)]['toggle'](_0x1991f2(0x5ec),_0x57bdff),_0x4cc212[_0x1991f2(0x469)]['toggle']('hidden',!_0x57bdff),_0x3e766f[_0x1991f2(0x469)][_0x1991f2(0xa13)](_0x1991f2(0x5ec),_0x57bdff),_0x223de2['classList']['toggle'](_0x1991f2(0x5ec),!_0x57bdff),_0x57bdff&&(_0x4cc212[_0x1991f2(0x786)](),_0x4cc212['select']());}async function handleStartLiveRace(_0x28d7f0){const _0x169b53=_0x389ace;let _0x395865=allQuizzes[_0x169b53(0x304)](_0x1ad94f=>_0x1ad94f['id']===_0x28d7f0);if(!_0x395865){const _0x7ae4ad=doc(db,_0x169b53(0x5a5)+appId+'/public/data/quizzes',_0x28d7f0),_0x4e0237=await getDoc(_0x7ae4ad);if(!_0x4e0237[_0x169b53(0x446)]()){showMessage(_0x169b53(0x75b));return;}_0x395865={'id':_0x4e0237['id'],..._0x4e0237[_0x169b53(0x47e)]()};}const _0x35d29c=getShuffledQuiz(_0x395865);currentQuizData=_0x35d29c;const _0x1d6569=_0x395865[_0x169b53(0x7a0)]||currentProjectId||null,_0x4152c9=Math[_0x169b53(0x6bc)](0x3e8+Math[_0x169b53(0xa27)]()*0x2328)[_0x169b53(0x1fe)]();currentLiveGamePin=_0x4152c9;try{const _0x33174b=await addDoc(collection(db,_0x169b53(0x5a5)+appId+'/public/data/liveGames'),{'quizId':_0x28d7f0,'projectId':_0x1d6569,'status':_0x169b53(0x9d9),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4152c9,'createdAt':serverTimestamp(),'shuffledQuiz':_0x35d29c});currentLiveGameId=_0x33174b['id'],showAdminLobbyView(_0x4152c9,_0x395865[_0x169b53(0x3d0)]),listenForLiveGameUpdates();}catch(_0x12ab10){console[_0x169b53(0x316)]('Error\x20starting\x20live\x20race:',_0x12ab10),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x2bbe8c=_0x389ace,_0x58de66=document[_0x2bbe8c(0x3c4)](_0x2bbe8c(0x9c0)),_0x1b9d23=_0x58de66[_0x2bbe8c(0x85d)](_0x2bbe8c(0x1b4))[_0x2bbe8c(0x6e5)],_0x48af6e=document[_0x2bbe8c(0x3c4)]('selected-topics-count');_0x1b9d23>0x0?_0x48af6e[_0x2bbe8c(0x60f)]='(เลือกแล้ว\x20'+_0x1b9d23+_0x2bbe8c(0x12a):_0x48af6e['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x389ace(0x25c),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x389ace(0x619),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x389ace(0x399),scratchpadPenColor=_0x389ace(0x2cf),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x396e53,_0x2c9256){const _0x1af889=_0x389ace;return Math['sqrt'](Math['pow'](_0x396e53['x']-_0x2c9256['x'],0x2)+Math[_0x1af889(0x497)](_0x396e53['y']-_0x2c9256['y'],0x2));}function getMidpoint(_0x6d1d53,_0x3f7afb){return{'x':(_0x6d1d53['x']+_0x3f7afb['x'])/0x2,'y':(_0x6d1d53['y']+_0x3f7afb['y'])/0x2};}function getTransformedPoint(_0x21a8d3,_0x5f5990){return{'x':(_0x21a8d3-scratchpadOffset['x'])/scratchpadScale,'y':(_0x5f5990-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1f149a=_0x389ace;if(!scratchpadCtx)return;const _0x5f3623=scratchpadCtx['canvas'],_0x38ef56=window[_0x1f149a(0x2c5)]||0x1,_0x5aafcb=document['getElementById'](_0x1f149a(0x189));_0x5aafcb&&(_0x5aafcb['style'][_0x1f149a(0x6cd)]=_0x1f149a(0x4b9),_0x5aafcb[_0x1f149a(0x527)][_0x1f149a(0x11a)]=_0x1f149a(0x356)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x1f149a(0x16c)+scratchpadScale+')'),scratchpadCtx[_0x1f149a(0x3b7)](),scratchpadCtx[_0x1f149a(0x4d5)](_0x38ef56,0x0,0x0,_0x38ef56,0x0,0x0),scratchpadCtx[_0x1f149a(0x310)](0x0,0x0,_0x5f3623[_0x1f149a(0x4b8)],_0x5f3623[_0x1f149a(0x5bb)]),scratchpadCtx[_0x1f149a(0x675)](),scratchpadCtx[_0x1f149a(0x3b7)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x1f149a(0x6a2)](scratchpadScale,scratchpadScale),strokes[_0x1f149a(0x502)](_0x5ce01d=>{drawStroke(_0x5ce01d);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x56b815){const _0x53639b=_0x389ace;_0x56b815[_0x53639b(0xa30)]();const _0x262568=scratchpadCtx[_0x53639b(0x1ab)],_0x55fd83=_0x262568[_0x53639b(0x89b)](),_0x5e8f7a=_0x56b815[_0x53639b(0x320)]||(_0x56b815[_0x53639b(0x46f)]?_0x53639b(0x117):'mouse');if(_0x5e8f7a===_0x53639b(0x399)||_0x5e8f7a==='mouse'){if(_0x56b815[_0x53639b(0x320)]===_0x53639b(0x563)&&_0x56b815[_0x53639b(0x886)]!==0x0){_0x56b815['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x56b815[_0x53639b(0x6cb)],'y':_0x56b815[_0x53639b(0x2c2)]},_0x262568[_0x53639b(0x527)]['cursor']='grabbing');return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1d188a=getTransformedPoint(_0x56b815[_0x53639b(0x6cb)]-_0x55fd83[_0x53639b(0x4be)],_0x56b815[_0x53639b(0x2c2)]-_0x55fd83[_0x53639b(0x53e)]);let _0x23b7e7={'tool':activeTool,'points':[_0x1d188a]};if(activeTool===_0x53639b(0x8aa))_0x23b7e7[_0x53639b(0x6fb)]=scratchpadHighlighterColor,_0x23b7e7[_0x53639b(0x42d)]=scratchpadHighlighterSize;else activeTool===_0x53639b(0x444)?(_0x23b7e7[_0x53639b(0x6fb)]=scratchpadPenColor,_0x23b7e7[_0x53639b(0x42d)]=scratchpadPenSize):(_0x23b7e7[_0x53639b(0x6fb)]=scratchpadPenColor,_0x23b7e7[_0x53639b(0x42d)]=scratchpadPenSize);currentStroke=_0x23b7e7;}else _0x56b815[_0x53639b(0x46f)]&&(_0x56b815[_0x53639b(0x46f)][_0x53639b(0x6e5)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x56b815[_0x53639b(0x46f)][0x0]['clientX'],'y':_0x56b815[_0x53639b(0x46f)][0x0][_0x53639b(0x2c2)]},{'x':_0x56b815[_0x53639b(0x46f)][0x1][_0x53639b(0x6cb)],'y':_0x56b815['touches'][0x1][_0x53639b(0x2c2)]}),initialPinchDistance=getDistance({'x':_0x56b815[_0x53639b(0x46f)][0x0][_0x53639b(0x6cb)],'y':_0x56b815[_0x53639b(0x46f)][0x0][_0x53639b(0x2c2)]},{'x':_0x56b815[_0x53639b(0x46f)][0x1]['clientX'],'y':_0x56b815[_0x53639b(0x46f)][0x1][_0x53639b(0x2c2)]})));}function animateTrail(){const _0x3f7429=_0x389ace,_0x2a67c0=Date[_0x3f7429(0x2d0)]();let _0x10d34d=![];for(let _0x541c96=strokes[_0x3f7429(0x6e5)]-0x1;_0x541c96>=0x0;_0x541c96--){const _0x114a78=strokes[_0x541c96];if(_0x114a78[_0x3f7429(0x701)]==='trail'&&_0x114a78[_0x3f7429(0x9cb)]){const _0x1030ba=_0x2a67c0-_0x114a78[_0x3f7429(0x9cb)];_0x1030ba>=TRAIL_DURATION?strokes[_0x3f7429(0x6dc)](_0x541c96,0x1):(_0x114a78[_0x3f7429(0x648)]=0x1-_0x1030ba/TRAIL_DURATION,_0x10d34d=!![]);}}redrawScratchpad(),_0x10d34d?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x1f2071){const _0x16e0f9=_0x389ace;if(!_0x1f2071||_0x1f2071[_0x16e0f9(0x8b4)][_0x16e0f9(0x6e5)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x16e0f9(0x8db)]=_0x16e0f9(0x3b3),scratchpadCtx[_0x16e0f9(0x52d)]=_0x16e0f9(0x3b3);if(_0x1f2071[_0x16e0f9(0x701)]===_0x16e0f9(0x444)){const _0x18ed65=_0x1f2071[_0x16e0f9(0x42d)]/scratchpadScale;scratchpadCtx[_0x16e0f9(0x9ad)]=_0x1f2071[_0x16e0f9(0x648)]??0x1,scratchpadCtx[_0x16e0f9(0x57d)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x16e0f9(0x668)]=_0x18ed65*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x16e0f9(0x262)]=_0x18ed65*2.5,scratchpadCtx[_0x16e0f9(0x24e)](),scratchpadCtx[_0x16e0f9(0x108)](_0x1f2071[_0x16e0f9(0x8b4)][0x0]['x'],_0x1f2071[_0x16e0f9(0x8b4)][0x0]['y']);for(let _0x502cc1=0x1;_0x502cc1<_0x1f2071['points'][_0x16e0f9(0x6e5)]-0x1;_0x502cc1++){const _0x12b4c9=getMidpoint(_0x1f2071[_0x16e0f9(0x8b4)][_0x502cc1],_0x1f2071[_0x16e0f9(0x8b4)][_0x502cc1+0x1]);scratchpadCtx[_0x16e0f9(0x1aa)](_0x1f2071[_0x16e0f9(0x8b4)][_0x502cc1]['x'],_0x1f2071[_0x16e0f9(0x8b4)][_0x502cc1]['y'],_0x12b4c9['x'],_0x12b4c9['y']);}scratchpadCtx[_0x16e0f9(0xfc)](),scratchpadCtx['shadowColor']=_0x16e0f9(0x92c),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x16e0f9(0x61a)]=_0x16e0f9(0x4a2),scratchpadCtx[_0x16e0f9(0x262)]=_0x18ed65,scratchpadCtx[_0x16e0f9(0xfc)](),scratchpadCtx[_0x16e0f9(0x6de)]();}else{if(_0x1f2071[_0x16e0f9(0x701)]===_0x16e0f9(0x8aa)){scratchpadCtx[_0x16e0f9(0x48a)]=_0x16e0f9(0x598),scratchpadCtx['strokeStyle']=_0x1f2071[_0x16e0f9(0x6fb)],scratchpadCtx['lineWidth']=_0x1f2071['size'],scratchpadCtx[_0x16e0f9(0x24e)](),scratchpadCtx[_0x16e0f9(0x108)](_0x1f2071[_0x16e0f9(0x8b4)][0x0]['x'],_0x1f2071[_0x16e0f9(0x8b4)][0x0]['y']);for(let _0xcf62f5=0x1;_0xcf62f5<_0x1f2071['points'][_0x16e0f9(0x6e5)]-0x1;_0xcf62f5++){const _0x4328b0=getMidpoint(_0x1f2071[_0x16e0f9(0x8b4)][_0xcf62f5],_0x1f2071[_0x16e0f9(0x8b4)][_0xcf62f5+0x1]);scratchpadCtx[_0x16e0f9(0x1aa)](_0x1f2071[_0x16e0f9(0x8b4)][_0xcf62f5]['x'],_0x1f2071[_0x16e0f9(0x8b4)][_0xcf62f5]['y'],_0x4328b0['x'],_0x4328b0['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x16e0f9(0x6de)]();}else{scratchpadCtx[_0x16e0f9(0x48a)]=_0x1f2071[_0x16e0f9(0x701)]==='eraser'?_0x16e0f9(0x45c):_0x16e0f9(0x7ec),scratchpadCtx[_0x16e0f9(0x61a)]=_0x1f2071[_0x16e0f9(0x6fb)],scratchpadCtx['lineWidth']=_0x1f2071[_0x16e0f9(0x42d)],scratchpadCtx[_0x16e0f9(0x24e)](),scratchpadCtx[_0x16e0f9(0x108)](_0x1f2071[_0x16e0f9(0x8b4)][0x0]['x'],_0x1f2071[_0x16e0f9(0x8b4)][0x0]['y']);for(let _0x264fc3=0x1;_0x264fc3<_0x1f2071[_0x16e0f9(0x8b4)][_0x16e0f9(0x6e5)]-0x1;_0x264fc3++){const _0x4989d5=getMidpoint(_0x1f2071['points'][_0x264fc3],_0x1f2071[_0x16e0f9(0x8b4)][_0x264fc3+0x1]);scratchpadCtx[_0x16e0f9(0x1aa)](_0x1f2071['points'][_0x264fc3]['x'],_0x1f2071[_0x16e0f9(0x8b4)][_0x264fc3]['y'],_0x4989d5['x'],_0x4989d5['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x16e0f9(0x6de)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x580687){const _0x345a19=_0x389ace;_0x580687[_0x345a19(0xa30)]();const _0x20594e=scratchpadCtx[_0x345a19(0x1ab)],_0x4ce166=_0x20594e[_0x345a19(0x89b)]();if(_0x580687['touches']){if(_0x580687[_0x345a19(0x46f)][_0x345a19(0x6e5)]===0x1&&isDrawingOnScratchpad){const _0x14c380=getTransformedPoint(_0x580687[_0x345a19(0x46f)][0x0]['clientX']-_0x4ce166[_0x345a19(0x4be)],_0x580687[_0x345a19(0x46f)][0x0]['clientY']-_0x4ce166['top']);currentStroke[_0x345a19(0x8b4)][_0x345a19(0x2af)](_0x14c380),redrawScratchpad();}else{if(_0x580687[_0x345a19(0x46f)]['length']===0x2&&isPanning){const _0x54bbfb=getDistance({'x':_0x580687[_0x345a19(0x46f)][0x0][_0x345a19(0x6cb)],'y':_0x580687['touches'][0x0][_0x345a19(0x2c2)]},{'x':_0x580687[_0x345a19(0x46f)][0x1][_0x345a19(0x6cb)],'y':_0x580687[_0x345a19(0x46f)][0x1][_0x345a19(0x2c2)]}),_0x3518af=getMidpoint({'x':_0x580687[_0x345a19(0x46f)][0x0]['clientX'],'y':_0x580687[_0x345a19(0x46f)][0x0]['clientY']},{'x':_0x580687[_0x345a19(0x46f)][0x1]['clientX'],'y':_0x580687[_0x345a19(0x46f)][0x1]['clientY']}),_0x2fbac8=_0x54bbfb/ initialPinchDistance,_0x6ebda1=Math['min'](Math[_0x345a19(0x364)](scratchpadScale*_0x2fbac8,MIN_SCALE),MAX_SCALE),_0x46e967=_0x3518af['x']-panStart['x'],_0x340c54=_0x3518af['y']-panStart['y'];scratchpadOffset['x']=_0x3518af['x']-(_0x3518af['x']-scratchpadOffset['x'])*(_0x6ebda1/scratchpadScale),scratchpadOffset['y']=_0x3518af['y']-(_0x3518af['y']-scratchpadOffset['y'])*(_0x6ebda1/scratchpadScale),scratchpadOffset['x']+=_0x46e967,scratchpadOffset['y']+=_0x340c54,scratchpadScale=_0x6ebda1,initialPinchDistance=_0x54bbfb,panStart=_0x3518af,redrawScratchpad();}}}else{if(isMousePanning){const _0x41a5be=_0x580687[_0x345a19(0x6cb)]-panStart['x'],_0x2d3be9=_0x580687[_0x345a19(0x2c2)]-panStart['y'];scratchpadOffset['x']+=_0x41a5be,scratchpadOffset['y']+=_0x2d3be9,panStart={'x':_0x580687[_0x345a19(0x6cb)],'y':_0x580687[_0x345a19(0x2c2)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x292702=getTransformedPoint(_0x580687[_0x345a19(0x6cb)]-_0x4ce166[_0x345a19(0x4be)],_0x580687['clientY']-_0x4ce166['top']);currentStroke[_0x345a19(0x8b4)][_0x345a19(0x2af)](_0x292702),redrawScratchpad();}}}}function handlePointerUp(_0x228f7a){const _0xe3b6bf=_0x389ace;_0x228f7a[_0xe3b6bf(0xa30)]();const _0x3668e2=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x3668e2[_0xe3b6bf(0x527)]['cursor']=_0xe3b6bf(0x20f)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0xe3b6bf(0x8b4)][_0xe3b6bf(0x6e5)]>0x1&&(strokes[_0xe3b6bf(0x2af)](currentStroke),currentStroke[_0xe3b6bf(0x701)]===_0xe3b6bf(0x444)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5c0158=_0xe3b6bf,_0xe3aeca=strokes[_0x5c0158(0x573)](_0x418168=>_0x418168[_0x5c0158(0x701)]==='trail'&&!_0x418168['fadeStartTime']);if(_0xe3aeca[_0x5c0158(0x6e5)]>0x0){const _0x3b8bca=Date[_0x5c0158(0x2d0)]();_0xe3aeca[_0x5c0158(0x502)](_0x8cb5dc=>_0x8cb5dc[_0x5c0158(0x9cb)]=_0x3b8bca),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1f311d){const _0x3a028f=_0x389ace;_0x1f311d['preventDefault']();const _0x276e1d=_0x1f311d[_0x3a028f(0x9aa)]*-0.005,_0x1e09ee=Math[_0x3a028f(0x366)](Math[_0x3a028f(0x364)](scratchpadScale+_0x276e1d,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1f311d['clientX']-(_0x1f311d[_0x3a028f(0x6cb)]-scratchpadOffset['x'])*(_0x1e09ee/scratchpadScale),scratchpadOffset['y']=_0x1f311d[_0x3a028f(0x2c2)]-(_0x1f311d[_0x3a028f(0x2c2)]-scratchpadOffset['y'])*(_0x1e09ee/scratchpadScale),scratchpadScale=_0x1e09ee,redrawScratchpad();}function undo(){const _0x72cfdd=_0x389ace;strokes['length']>0x0&&(redoStrokes[_0x72cfdd(0x2af)](strokes[_0x72cfdd(0x16f)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x142a99=_0x389ace;redoStrokes[_0x142a99(0x6e5)]>0x0&&(strokes[_0x142a99(0x2af)](redoStrokes[_0x142a99(0x16f)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1fa86d=_0x389ace;document[_0x1fa86d(0x3c4)](_0x1fa86d(0xa05))['disabled']=strokes['length']===0x0,document['getElementById'](_0x1fa86d(0x396))['disabled']=redoStrokes['length']===0x0;}function openScratchpad(_0x4a079d,_0x11dfdf){const _0x1c26be=_0x389ace,_0x7764c4=document[_0x1c26be(0x3c4)](_0x1c26be(0x23c)),_0x52888a=document[_0x1c26be(0x3c4)]('scratchpad-question'),_0x4bc86c=document[_0x1c26be(0x3c4)](_0x1c26be(0x408)),_0x2f9034=document[_0x1c26be(0x3c4)]('scratchpad-controls');_0x52888a[_0x1c26be(0x60f)]=_0x4a079d[_0x1c26be(0x101)]||_0x4a079d[_0x1c26be(0x47b)],_0x4bc86c[_0x1c26be(0x368)]=_0x11dfdf['map']((_0x573809,_0x5d7b68)=>'<div>'+String[_0x1c26be(0x120)](0x41+_0x5d7b68)+'.\x20'+_0x573809+_0x1c26be(0x58d))[_0x1c26be(0x25a)](''),_0x2f9034[_0x1c26be(0x368)]=_0x1c26be(0x1b6),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x7764c4['classList'][_0x1c26be(0x182)](_0x1c26be(0x5ec)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1c26be(0x8cc)])MathJax[_0x1c26be(0x4c3)]([_0x52888a,_0x4bc86c]);}function initializeScratchpadCanvas(){const _0x3ff9cb=_0x389ace,_0x2751c3=document[_0x3ff9cb(0x3c4)]('scratchpad-canvas'),_0x21846c=document[_0x3ff9cb(0x674)]('.scratchpad-content-wrapper');if(!_0x2751c3||!_0x21846c)return;scratchpadCtx=_0x2751c3['getContext']('2d',{'willReadFrequently':!![]});const _0x10144d=window['devicePixelRatio']||0x1,_0x30fef2=_0x21846c[_0x3ff9cb(0x89b)]();_0x2751c3[_0x3ff9cb(0x4b8)]=_0x30fef2['width']*_0x10144d,_0x2751c3[_0x3ff9cb(0x5bb)]=_0x30fef2[_0x3ff9cb(0x5bb)]*_0x10144d,_0x2751c3[_0x3ff9cb(0x527)][_0x3ff9cb(0x4b8)]=_0x30fef2[_0x3ff9cb(0x4b8)]+'px',_0x2751c3[_0x3ff9cb(0x527)][_0x3ff9cb(0x5bb)]=_0x30fef2['height']+'px',scratchpadCtx[_0x3ff9cb(0x6a2)](_0x10144d,_0x10144d),scratchpadCtx[_0x3ff9cb(0x8db)]=_0x3ff9cb(0x3b3),scratchpadCtx[_0x3ff9cb(0x52d)]='round',_0x2751c3[_0x3ff9cb(0x293)](_0x3ff9cb(0x36e),handlePointerDown),_0x2751c3['removeEventListener']('pointermove',handlePointerMove),_0x2751c3['removeEventListener'](_0x3ff9cb(0x820),handlePointerUp),_0x2751c3['removeEventListener'](_0x3ff9cb(0x5f7),handlePointerUp),_0x2751c3['removeEventListener']('wheel',handleWheel),_0x2751c3['removeEventListener'](_0x3ff9cb(0x3be),handlePointerDown),_0x2751c3['removeEventListener'](_0x3ff9cb(0x658),handlePointerMove),_0x2751c3[_0x3ff9cb(0x293)]('touchend',handlePointerUp),_0x2751c3[_0x3ff9cb(0x199)](_0x3ff9cb(0x36e),handlePointerDown),_0x2751c3['addEventListener'](_0x3ff9cb(0x9f1),handlePointerMove),_0x2751c3[_0x3ff9cb(0x199)](_0x3ff9cb(0x820),handlePointerUp),_0x2751c3[_0x3ff9cb(0x199)](_0x3ff9cb(0x5f7),handlePointerUp),_0x2751c3[_0x3ff9cb(0x199)](_0x3ff9cb(0x46e),handleWheel,{'passive':![]}),_0x2751c3[_0x3ff9cb(0x199)]('touchstart',handlePointerDown,{'passive':![]}),_0x2751c3[_0x3ff9cb(0x199)](_0x3ff9cb(0x658),handlePointerMove,{'passive':![]}),_0x2751c3['addEventListener'](_0x3ff9cb(0x47d),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x37394c=_0x389ace,_0x1e1fb1=document['getElementById'](_0x37394c(0x23c)),_0x14641a=document['getElementById'](_0x37394c(0x931));_0x14641a[_0x37394c(0x368)]=_0x37394c(0xa1b)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x45f6f2=document[_0x37394c(0x3c4)](_0x37394c(0x13b)),_0x57304c=document[_0x37394c(0x3c4)](_0x37394c(0x664)),_0x4c1518=document[_0x37394c(0x3c4)](_0x37394c(0x73b)),_0x2dae92=document[_0x37394c(0x3c4)](_0x37394c(0x924)),_0x4ebe7d=document[_0x37394c(0x3c4)](_0x37394c(0x650)),_0x59d95c=document['getElementById'](_0x37394c(0x1f5)),_0x3ab760=[_0x45f6f2,_0x57304c,_0x4c1518,_0x2dae92];document['getElementById'](_0x37394c(0x392))[_0x37394c(0x199)](_0x37394c(0x548),()=>_0x1e1fb1[_0x37394c(0x469)][_0x37394c(0x711)]('hidden')),document[_0x37394c(0x3c4)](_0x37394c(0x1bd))[_0x37394c(0x199)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x37394c(0x3c4)]('scratchpad-clear-btn')[_0x37394c(0x199)](_0x37394c(0x548),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x37394c(0x3c4)]('undo-btn')[_0x37394c(0x199)](_0x37394c(0x548),undo),document['getElementById'](_0x37394c(0x396))['addEventListener'](_0x37394c(0x548),redo);const _0x3137ad=_0x47c44e=>{const _0x957579=_0x37394c;_0x3ab760[_0x957579(0x502)](_0x25a1f4=>_0x25a1f4[_0x957579(0x469)][_0x957579(0x182)](_0x957579(0x134))),_0x47c44e['classList']['add'](_0x957579(0x134));const _0x160b75=_0x47c44e===_0x2dae92;_0x4ebe7d['classList'][_0x957579(0xa13)](_0x957579(0x5ec),_0x160b75),_0x59d95c[_0x957579(0x469)]['toggle'](_0x957579(0x5ec),!_0x160b75);};_0x45f6f2[_0x37394c(0x199)](_0x37394c(0x548),()=>{const _0x238c43=_0x37394c;activeTool=_0x238c43(0x399),_0x3137ad(_0x45f6f2);}),_0x57304c['addEventListener']('click',()=>{const _0x5ef720=_0x37394c;activeTool=_0x5ef720(0x3fb),_0x3137ad(_0x57304c);}),_0x4c1518[_0x37394c(0x199)](_0x37394c(0x548),()=>{const _0x1885c5=_0x37394c;activeTool=_0x1885c5(0x444),_0x3137ad(_0x4c1518);}),_0x2dae92[_0x37394c(0x199)](_0x37394c(0x548),()=>{const _0x3cf6c6=_0x37394c;activeTool=_0x3cf6c6(0x8aa),_0x3137ad(_0x2dae92);}),_0x4ebe7d['querySelectorAll']('.pen-size-btn')[_0x37394c(0x502)](_0x11ffef=>{const _0x2c39c4=_0x37394c;_0x11ffef[_0x2c39c4(0x199)](_0x2c39c4(0x548),_0x20ca66=>{const _0x20105e=_0x2c39c4;scratchpadPenSize=parseInt(_0x20ca66['target'][_0x20105e(0x5d9)]['size'],0xa),_0x4ebe7d[_0x20105e(0x85d)]('.pen-size-btn')['forEach'](_0x4f0549=>_0x4f0549[_0x20105e(0x469)][_0x20105e(0x182)](_0x20105e(0x134))),_0x20ca66[_0x20105e(0x3e4)][_0x20105e(0x469)][_0x20105e(0x711)](_0x20105e(0x134));});}),_0x4ebe7d['querySelectorAll'](_0x37394c(0x8bd))[_0x37394c(0x502)](_0x3f1337=>{const _0x3b82c1=_0x37394c;_0x3f1337['addEventListener'](_0x3b82c1(0x548),_0x34421e=>{const _0x3ae60c=_0x3b82c1;scratchpadPenColor=_0x34421e['target'][_0x3ae60c(0x5d9)][_0x3ae60c(0x6fb)],_0x4ebe7d[_0x3ae60c(0x85d)](_0x3ae60c(0x8bd))[_0x3ae60c(0x502)](_0x1c6679=>_0x1c6679[_0x3ae60c(0x469)]['remove'](_0x3ae60c(0x134))),_0x34421e['target']['classList'][_0x3ae60c(0x711)](_0x3ae60c(0x134));});}),_0x59d95c[_0x37394c(0x85d)]('.highlighter-color-btn')[_0x37394c(0x502)](_0x1ed15b=>{const _0x124e7e=_0x37394c;_0x1ed15b[_0x124e7e(0x199)]('click',_0x55e26a=>{const _0xad57d8=_0x124e7e;scratchpadHighlighterColor=_0x55e26a[_0xad57d8(0x3e4)][_0xad57d8(0x5d9)][_0xad57d8(0x6fb)],_0x59d95c[_0xad57d8(0x85d)](_0xad57d8(0x9a4))['forEach'](_0x49add7=>_0x49add7[_0xad57d8(0x469)][_0xad57d8(0x182)](_0xad57d8(0x134))),_0x55e26a[_0xad57d8(0x3e4)]['classList']['add'](_0xad57d8(0x134));});});const _0x5a9bf9=document['getElementById']('highlighter-size-slider'),_0x1ea47c=document[_0x37394c(0x3c4)]('highlighter-size-value');_0x5a9bf9['addEventListener'](_0x37394c(0x718),_0x3f4ac4=>{const _0x43dc43=_0x37394c,_0x23ec03=parseInt(_0x3f4ac4[_0x43dc43(0x3e4)][_0x43dc43(0x213)],0xa);scratchpadHighlighterSize=_0x23ec03,_0x1ea47c[_0x43dc43(0x60f)]=_0x23ec03;}),window[_0x37394c(0x199)](_0x37394c(0x66e),()=>{const _0x44c6fd=_0x37394c;!_0x1e1fb1[_0x44c6fd(0x469)][_0x44c6fd(0x4f2)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':'คะแนนเต็ม','description':_0x389ace(0x518),'icon':_0x389ace(0x1c1)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x389ace(0x3e8),'description':_0x389ace(0x938),'icon':_0x389ace(0x3d7)},'ON_FIRE':{'id':_0x389ace(0x7b9),'name':_0x389ace(0x1dd),'description':_0x389ace(0x690),'icon':_0x389ace(0x2a7)},'FIRST_TRY_ACE':{'id':_0x389ace(0x520),'name':_0x389ace(0x37d),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x389ace(0x2a2)},'COMEBACK_KING':{'id':_0x389ace(0x7ed),'name':_0x389ace(0x174),'description':_0x389ace(0x473),'icon':_0x389ace(0x1a6)},'SPECIALIST':{'id':'specialist','name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x389ace(0x7e0)},'PERSEVERANCE':{'id':_0x389ace(0x23f),'name':'ผู้ไม่ยอมแพ้','description':_0x389ace(0x530),'icon':_0x389ace(0x744)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x389ace(0x378),'projectId':_0x389ace(0x78f),'storageBucket':_0x389ace(0x6f7),'messagingSenderId':_0x389ace(0x144),'appId':_0x389ace(0x696),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:_0x389ace(0x76c),adminView=document[_0x389ace(0x3c4)](_0x389ace(0x76a)),studentView=document[_0x389ace(0x3c4)](_0x389ace(0x236)),projectDashboardView=document['getElementById'](_0x389ace(0xa48)),projectDetailView=document[_0x389ace(0x3c4)](_0x389ace(0x323)),quizResultsView=document[_0x389ace(0x3c4)]('quiz-results-view'),projectList=document[_0x389ace(0x3c4)](_0x389ace(0x587)),noProjectsMsg=document[_0x389ace(0x3c4)](_0x389ace(0x2f7)),projectTitle=document[_0x389ace(0x3c4)]('project-title'),projectIdDisplay=document[_0x389ace(0x3c4)](_0x389ace(0x37a)),studentList=document[_0x389ace(0x3c4)](_0x389ace(0x7ab)),messageModal=document[_0x389ace(0x3c4)](_0x389ace(0x3ee)),modalMessage=document[_0x389ace(0x3c4)](_0x389ace(0x8fc)),createProjectModal=document[_0x389ace(0x3c4)](_0x389ace(0x5e7)),adminPasswordModal=document[_0x389ace(0x3c4)](_0x389ace(0x479)),confirmationModal=document[_0x389ace(0x3c4)](_0x389ace(0x3ef)),userIdDisplay=document[_0x389ace(0x3c4)](_0x389ace(0x52a)),topicTab=document['getElementById'](_0x389ace(0x7c1)),textTab=document[_0x389ace(0x3c4)](_0x389ace(0x124)),topicInputArea=document[_0x389ace(0x3c4)](_0x389ace(0x720)),textInputArea=document['getElementById'](_0x389ace(0x9d2)),manageTab=document['getElementById'](_0x389ace(0x4cb)),resultsTab=document['getElementById'](_0x389ace(0x948)),leaderboardTab=document[_0x389ace(0x3c4)]('leaderboard-tab'),manageTabContent=document[_0x389ace(0x3c4)](_0x389ace(0x115)),resultsTabContent=document[_0x389ace(0x3c4)]('results-tab-content'),leaderboardTabContent=document[_0x389ace(0x3c4)](_0x389ace(0x87e)),projectQuizzesList=document[_0x389ace(0x3c4)](_0x389ace(0x3dc)),fileTab=document[_0x389ace(0x3c4)](_0x389ace(0x29b)),fileInputArea=document[_0x389ace(0x3c4)](_0x389ace(0x9f6)),fileUploadInput=document['getElementById'](_0x389ace(0x72e)),worksheetTab=document[_0x389ace(0x3c4)](_0x389ace(0x977)),worksheetInputArea=document['getElementById'](_0x389ace(0x4ac)),generateWorksheetBtn=document[_0x389ace(0x3c4)](_0x389ace(0x1d3)),studentInitialView=document['getElementById'](_0x389ace(0x83b)),studentNameSelectionView=document[_0x389ace(0x3c4)]('student-name-selection-view'),studentQuizArea=document[_0x389ace(0x3c4)](_0x389ace(0x9f7)),studentResultArea=document[_0x389ace(0x3c4)](_0x389ace(0x9a6)),studentReadingArea=document[_0x389ace(0x3c4)](_0x389ace(0x914)),loadQuizBtn=document['getElementById'](_0x389ace(0x1c8)),startQuizBtn=document[_0x389ace(0x3c4)](_0x389ace(0x849)),studentJoinGameView=document[_0x389ace(0x3c4)](_0x389ace(0x6c7)),presentationModal=document['getElementById'](_0x389ace(0x555)),renameQuizModal=document[_0x389ace(0x3c4)]('rename-quiz-modal'),moveQuizModal=document[_0x389ace(0x3c4)]('move-quiz-modal'),quizSettingsModal=document['getElementById'](_0x389ace(0x15c)),quizStatusModal=document[_0x389ace(0x3c4)]('quiz-status-modal'),liveGameView=document[_0x389ace(0x3c4)]('live-game-view');function handleAutoFixLatex(){const _0x46792a=_0x389ace,_0x3e808c=document[_0x46792a(0x3c4)](_0x46792a(0x861))||document,_0x56fbb=_0x3e808c[_0x46792a(0x85d)]([_0x46792a(0x241),_0x46792a(0x1b9),_0x46792a(0x2c7),_0x46792a(0x8ab),'.ql-editor',_0x46792a(0x960),_0x46792a(0x4ad),'.option-text',_0x46792a(0x3b5)][_0x46792a(0x25a)](','));let _0x1e769f=0x0;const _0x5e46fd=_0x4b5296=>_0x46792a(0x213)in _0x4b5296?String(_0x4b5296[_0x46792a(0x213)]):_0x4b5296[_0x46792a(0x9c4)]!==undefined?_0x4b5296[_0x46792a(0x9c4)]:_0x4b5296[_0x46792a(0x60f)]||'',_0x3b373f=(_0x3643fe,_0x2af4e9)=>{const _0x30d938=_0x46792a;if(_0x30d938(0x213)in _0x3643fe){_0x3643fe[_0x30d938(0x213)]=_0x2af4e9;return;}if(_0x3643fe[_0x30d938(0x674)]&&_0x3643fe[_0x30d938(0x674)](_0x30d938(0x50f)))return;if(_0x3643fe[_0x30d938(0x9c4)]!==undefined)_0x3643fe[_0x30d938(0x9c4)]=_0x2af4e9;else _0x3643fe[_0x30d938(0x60f)]=_0x2af4e9;},_0x2845d7=_0x5e15d1=>_0x5e15d1[_0x46792a(0x98c)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x46792a(0x98c)](/\r\n?/g,'\x0a'),_0xabf675=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x577811=_0x260a7e=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x46792a(0x7b8)](_0x260a7e),_0x5381ed=_0x587766=>{const _0x8fe85a=_0x46792a,_0x33b8a6=(_0x587766[_0x8fe85a(0x44b)](/\{/g)||[])['length'],_0x282495=(_0x587766[_0x8fe85a(0x44b)](/\}/g)||[])[_0x8fe85a(0x6e5)];if(_0x33b8a6>_0x282495)_0x587766=_0x587766+'}'[_0x8fe85a(0x245)](_0x33b8a6-_0x282495);return _0x587766;},_0x3e86b3=_0x1871a2=>{const _0x523beb=_0x46792a;let _0x24230c=_0x1871a2['trim']();const _0x1f58ea=[_0x523beb(0xa50),_0x523beb(0x5a7),'tfrac',_0x523beb(0x38d),_0x523beb(0x770),_0x523beb(0x8be),_0x523beb(0x86d),_0x523beb(0x847),_0x523beb(0x6b5),_0x523beb(0x543),'le','ge',_0x523beb(0x661),'pm',_0x523beb(0x4e4),'sin',_0x523beb(0x1f8),'tan',_0x523beb(0x361),'ln','sum',_0x523beb(0x2f3),'binom',_0x523beb(0x4be),_0x523beb(0x2c0),_0x523beb(0x976),_0x523beb(0x21a),_0x523beb(0x377),'deg'];_0x24230c=_0x24230c['replace'](new RegExp(_0x523beb(0x8a9)+_0x1f58ea['join']('|')+_0x523beb(0x20e),'g'),'\x5c'),_0x1f58ea[_0x523beb(0x502)](_0xa3a265=>{_0x24230c=_0x24230c['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0xa3a265+'\x5cb','g'),(_0x5e21f4,_0x362e84)=>_0x362e84+'\x5c'+_0xa3a265);});const _0x3934e3=[[/×/g,'\x5ctimes'],[/·/g,_0x523beb(0x3e2)],[/÷/g,_0x523beb(0x339)],[/≤/g,_0x523beb(0x529)],[/≥/g,_0x523beb(0x862)],[/≠/g,_0x523beb(0x6ab)],[/±/g,_0x523beb(0x256)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x3934e3['forEach'](([_0x48c1d7,_0x1dcfa5])=>{_0x24230c=_0x24230c['replace'](_0x48c1d7,_0x1dcfa5);}),_0x24230c=_0x24230c[_0x523beb(0x98c)](/√\s*\(([^)]*)\)/g,_0x523beb(0x2d7)),_0x24230c=_0x24230c['replace'](/√\s*([A-Za-z0-9]+)/g,_0x523beb(0x2d7)),_0x24230c=_0x24230c[_0x523beb(0x98c)](/(^|[^\\])\bimes\b/g,_0x523beb(0x3ea))[_0x523beb(0x98c)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x523beb(0x869))[_0x523beb(0x98c)](/(^|[^\\])ext\{/g,_0x523beb(0x281))[_0x523beb(0x98c)](/(^|[^\\])ext\(/g,_0x523beb(0x264))[_0x523beb(0x98c)](/\\text\(([^)]*)\)/g,_0x523beb(0x25d))[_0x523beb(0x98c)](/\s\\frac/g,_0x523beb(0x105)),_0x24230c=_0x24230c[_0x523beb(0x98c)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x1c28f4,_0x1c784a,_0x2fee5c,_0x3fdb88)=>_0x1c784a+_0x523beb(0x727)+_0x2fee5c+'}{'+_0x3fdb88+'}'),_0x24230c=_0x24230c[_0x523beb(0x98c)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x523beb(0x95f))[_0x523beb(0x98c)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x523beb(0x95f))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x523beb(0x95f)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x523beb(0x2a4)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x523beb(0x2a4)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x523beb(0x2a4)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x523beb(0x2a4)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x523beb(0x2a4)],[/(\d+)\s*°\s*C/g,_0x523beb(0x2a4)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x523beb(0x7b2)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x523beb(0x2a4)]][_0x523beb(0x502)](([_0x6b2f06,_0x5368e9])=>{const _0x1ce47e=_0x523beb;_0x24230c=_0x24230c[_0x1ce47e(0x98c)](_0x6b2f06,_0x5368e9);}),_0x24230c=_0x24230c[_0x523beb(0x98c)](/(\d+)\s*%/g,_0x523beb(0x892)),_0x24230c=_0x24230c[_0x523beb(0x98c)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x523beb(0x599))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x523beb(0x72c))[_0x523beb(0x98c)](/\{\{([^\{\}]+)\}\}/g,_0x523beb(0x7fa)),[_0x523beb(0x76f),_0x523beb(0x1f8),_0x523beb(0x884),_0x523beb(0x361),'ln'][_0x523beb(0x502)](_0x390767=>{const _0x834bd4=_0x523beb;_0x24230c=_0x24230c[_0x834bd4(0x98c)](new RegExp(_0x834bd4(0x522)+_0x390767+_0x834bd4(0xa03),'g'),(_0x409184,_0x588797)=>_0x588797+'\x5c'+_0x390767+'(');});const _0x346ef3=(_0x24230c[_0x523beb(0x44b)](/\\left\b/g)||[])[_0x523beb(0x6e5)],_0x28fa32=(_0x24230c[_0x523beb(0x44b)](/\\right\b/g)||[])[_0x523beb(0x6e5)];if(_0x346ef3!==_0x28fa32)_0x24230c=_0x24230c[_0x523beb(0x98c)](/\\left\b/g,'')[_0x523beb(0x98c)](/\\right\b/g,'');return _0x24230c=_0x5381ed(_0x24230c),_0x24230c;},_0x5bb0a0=_0x13666d=>{const _0x472491=_0x46792a;if(/\$|\\\(|\\\[/[_0x472491(0x7b8)](_0x13666d))return _0x13666d;if(!_0xabf675[_0x472491(0x7b8)](_0x13666d))return _0x13666d;const _0x1352b1=_0x13666d[_0x472491(0x44b)](/^\s*/)[0x0],_0x2dac73=_0x13666d[_0x472491(0x44b)](/\s*$/)[0x0],_0x59906e=_0x13666d[_0x472491(0x7f5)]();return _0x1352b1+'$'+_0x3e86b3(_0x59906e)+'$'+_0x2dac73;},_0x4821cb=_0x36f04e=>_0x36f04e[_0x46792a(0x1c9)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x56fbb[_0x46792a(0x502)](_0x460eb7=>{const _0x3de22b=_0x46792a;if(_0x460eb7[_0x3de22b(0x674)]&&_0x460eb7[_0x3de22b(0x674)](_0x3de22b(0x50f)))return;const _0x2b1580=_0x5e46fd(_0x460eb7);let _0x57bab4=_0x2845d7(_0x2b1580);_0x57bab4=_0x57bab4[_0x3de22b(0x98c)](/\$\$([\s\S]*?)\$\$/g,(_0x1e1e1b,_0x33c8e8)=>'$$'+_0x3e86b3(_0x33c8e8)+'$$')[_0x3de22b(0x98c)](/\$([^$]*?)\$/g,(_0x16a7dc,_0x474634)=>'$'+_0x3e86b3(_0x474634)+'$')[_0x3de22b(0x98c)](/\\\(([\s\S]*?)\\\)/g,(_0x5654d6,_0x18b37a)=>'\x5c('+_0x3e86b3(_0x18b37a)+'\x5c)')[_0x3de22b(0x98c)](/\\\[([\s\S]*?)\\\]/g,(_0x5dab54,_0x2ec641)=>'\x5c['+_0x3e86b3(_0x2ec641)+'\x5c]');let _0x49de15=_0x57bab4,_0x220dfe=0x0;const _0x5ed2aa=_0x4d74fc=>_0x4d74fc[_0x3de22b(0x98c)](/S([^S]{0,2000}?)S/g,(_0x31ae6d,_0x180219)=>_0xabf675['test'](_0x180219)?'$'+_0x3e86b3(_0x180219)+'$':_0x31ae6d);while(_0x220dfe++<0x14){const _0x2279e9=_0x5ed2aa(_0x49de15);if(_0x2279e9===_0x49de15)break;_0x49de15=_0x2279e9;}_0x57bab4=_0x49de15,_0x57bab4=_0x57bab4['split']('\x0a')[_0x3de22b(0x749)](_0x4106f5=>{const _0xbaecf4=_0x3de22b;if(!(/[,\u3001，;；]/[_0xbaecf4(0x7b8)](_0x4106f5)||/\s(?:และ|หรือ)\s/['test'](_0x4106f5))||!_0xabf675[_0xbaecf4(0x7b8)](_0x4106f5))return _0x4106f5;return _0x4821cb(_0x4106f5)[_0xbaecf4(0x749)](_0xf49c46=>{const _0x1f13f7=_0xbaecf4;if(/^\s(?:และ|หรือ)\s$/['test'](_0xf49c46)||/^[,\u3001，;；]$/[_0x1f13f7(0x7b8)](_0xf49c46))return _0xf49c46;return _0x5bb0a0(_0xf49c46);})[_0xbaecf4(0x25a)]('');})[_0x3de22b(0x25a)]('\x0a'),_0x57bab4=_0x57bab4[_0x3de22b(0x1c9)]('\x0a')['map'](_0x18ee92=>{const _0xda234b=_0x3de22b,_0x58f3c4=_0x18ee92[_0xda234b(0x7f5)]();if(!_0x58f3c4)return _0x18ee92;const _0x4ed5cb=/\$|\\\(|\\\[/['test'](_0x58f3c4),_0xfa2b1=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0xda234b(0x7b8)](_0x58f3c4);if(_0x4ed5cb||!_0xfa2b1||_0x577811(_0x58f3c4))return _0x18ee92;return _0x18ee92[_0xda234b(0x98c)](_0x58f3c4,'$'+_0x3e86b3(_0x58f3c4)+'$');})[_0x3de22b(0x25a)]('\x0a'),_0x57bab4=_0x57bab4[_0x3de22b(0x98c)](/(\d+)\s*°\s*C\b/g,(_0x2814e3,_0x1ad127,_0x5f4b68,_0x1211f1)=>{const _0x4b1cf9=_0x3de22b,_0x301a38=_0x1211f1[_0x5f4b68-0x1];if(_0x301a38==='$'||_0x301a38==='S'||_0x301a38==='\x5c')return _0x2814e3;return'$'+_0x1ad127+_0x4b1cf9(0x231);})[_0x3de22b(0x98c)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x3ef8ae,_0x161cca,_0x38c32a,_0x44fed3)=>{const _0x3e87e1=_0x44fed3[_0x38c32a-0x1];if(_0x3e87e1==='$'||_0x3e87e1==='S'||_0x3e87e1==='\x5c')return _0x3ef8ae;return'$'+_0x161cca+'^{\x5ccirc}\x5ctext{C}$';})[_0x3de22b(0x98c)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x32f9d1,_0x36b014,_0x7d5d96,_0x13c8de)=>{const _0x50cecb=_0x3de22b,_0x4b6b14=_0x13c8de[_0x7d5d96-0x1];if(_0x4b6b14==='$'||_0x4b6b14==='S'||_0x4b6b14==='\x5c')return _0x32f9d1;return'$'+_0x36b014+_0x50cecb(0x231);}),_0x57bab4=_0x57bab4['replace'](/\$\s*\$/g,'$$'),_0x57bab4!==_0x2b1580&&(_0x3b373f(_0x460eb7,_0x57bab4),_0x1e769f++);});if(_0x1e769f>0x0){showMessage(_0x46792a(0x52f)+_0x1e769f+'\x20ช่อง');try{if(window['MathJax']&&MathJax[_0x46792a(0x4c3)])MathJax[_0x46792a(0x4c3)]();window[_0x46792a(0x3a5)]&&typeof renderMathInElement===_0x46792a(0x4fc)&&renderMathInElement(_0x3e808c,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x4a93ee){}}else showMessage(_0x46792a(0x939));}async function listenForCustomMathTopics(){const _0x1cb7b8=_0x389ace,_0x1d079b=collection(db,_0x1cb7b8(0x5a5)+appId+_0x1cb7b8(0x437));onSnapshot(_0x1d079b,_0x632d6=>{const _0xde322e=_0x1cb7b8;customMathTopics=_0x632d6[_0xde322e(0x768)][_0xde322e(0x749)](_0x41a2f2=>({'id':_0x41a2f2['id'],..._0x41a2f2[_0xde322e(0x47e)]()})),renderTopicCheckboxes();},_0x25a5c9=>{const _0x504f38=_0x1cb7b8;console['error'](_0x504f38(0x34d),_0x25a5c9);});}function handleSelectAllTopics(){const _0x216474=_0x389ace,_0x14d268=document[_0x216474(0x3c4)](_0x216474(0x9c0)),_0x2bbfd2=_0x14d268[_0x216474(0x85d)](_0x216474(0x5ed));_0x2bbfd2[_0x216474(0x502)](_0x67943c=>{const _0x11417d=_0x216474;_0x67943c[_0x11417d(0x2cd)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x20a336=_0x389ace,_0x255b78=document[_0x20a336(0x3c4)](_0x20a336(0x9c0)),_0x395128=_0x255b78['querySelectorAll'](_0x20a336(0x5ed));_0x395128[_0x20a336(0x502)](_0x4fc0b8=>{const _0x3f1b9c=_0x20a336;_0x4fc0b8[_0x3f1b9c(0x2cd)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x360fa3){const _0x540c51=_0x389ace;if(!_0x360fa3)return;try{const _0x1a67dd=doc(db,'artifacts/'+appId+_0x540c51(0x437),_0x360fa3);await deleteDoc(_0x1a67dd),showMessage(_0x540c51(0x215));}catch(_0x52bd2a){console[_0x540c51(0x316)](_0x540c51(0x974),_0x52bd2a),showMessage(_0x540c51(0xa10));}}async function handleAddCustomMathTopic(){const _0xbe9da2=_0x389ace,_0x301bd6=document['getElementById']('custom-math-topic-input'),_0x4fb0cb=_0x301bd6[_0xbe9da2(0x213)][_0xbe9da2(0x7f5)]();if(!_0x4fb0cb){showMessage(_0xbe9da2(0x5e9));return;}if(!userId){showMessage(_0xbe9da2(0x800));return;}try{const _0x468264=collection(db,_0xbe9da2(0x5a5)+appId+_0xbe9da2(0x437));await addDoc(_0x468264,{'name':_0x4fb0cb,'createdAt':serverTimestamp()}),_0x301bd6[_0xbe9da2(0x213)]='',showMessage(_0xbe9da2(0x97b)+_0x4fb0cb+_0xbe9da2(0x9e4));}catch(_0x49374b){console['error'](_0xbe9da2(0x921),_0x49374b),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x1a0d18=_0x389ace;showConfirmation(_0x1a0d18(0x818),async()=>{const _0x36c139=_0x1a0d18,_0x1f0208=document[_0x36c139(0x3c4)](_0x36c139(0x432)),_0x38572f=document[_0x36c139(0x3c4)](_0x36c139(0x59a)),_0x22452d=_0x38572f[_0x36c139(0x60f)];_0x1f0208[_0x36c139(0x469)][_0x36c139(0x182)]('hidden'),_0x38572f[_0x36c139(0x60f)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x3d3c7f=collection(db,_0x36c139(0x5a5)+appId+_0x36c139(0x405)),_0x292e63=await getDocs(_0x3d3c7f);if(_0x292e63[_0x36c139(0x8c5)]){showMessage(_0x36c139(0x7e5));return;}const _0x5c08ed=writeBatch(db);let _0x4cb78a=0x0;_0x292e63['forEach'](_0x260d82=>{const _0x17f2c7=_0x36c139,_0x1c3583=_0x260d82['data'](),_0x28d5af=_0x260d82['id'];if(_0x1c3583[_0x17f2c7(0x47a)]&&_0x1c3583[_0x17f2c7(0x47a)][_0x17f2c7(0x6e5)]>0x0&&!_0x1c3583[_0x17f2c7(0x47a)][0x0][_0x17f2c7(0x167)]('id')){console[_0x17f2c7(0x361)](_0x17f2c7(0x15f)+_0x28d5af+'\x20('+_0x1c3583['topic']+')'),_0x4cb78a++;const _0x2a1576=_0x1c3583[_0x17f2c7(0x47a)][_0x17f2c7(0x749)]((_0x14afe8,_0x6ec90)=>{const _0x1fc57f=_0x17f2c7;return{..._0x14afe8,'id':_0x14afe8['id']||'q_'+Date[_0x1fc57f(0x2d0)]()+'_'+_0x28d5af+'_'+_0x6ec90};}),_0x38d868=doc(db,_0x17f2c7(0x5a5)+appId+_0x17f2c7(0x405),_0x28d5af);_0x5c08ed[_0x17f2c7(0x27f)](_0x38d868,{'questions':_0x2a1576});}}),_0x4cb78a>0x0?(_0x38572f[_0x36c139(0x60f)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x4cb78a+_0x36c139(0x4d7),await _0x5c08ed['commit'](),showMessage(_0x36c139(0x8cf)+_0x4cb78a+_0x36c139(0x521))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x3c39db){console['error']('Error\x20updating\x20old\x20quizzes:',_0x3c39db),showMessage(_0x36c139(0x578)+_0x3c39db[_0x36c139(0x4a8)]);}finally{_0x1f0208['classList'][_0x36c139(0x711)](_0x36c139(0x5ec)),_0x38572f['textContent']=_0x22452d;}});}async function handleBulkUpdateQuizSettings(){const _0xca53fc=_0x389ace,_0x271a32={'shuffle':document[_0xca53fc(0x3c4)]('bulk-shuffle-select')[_0xca53fc(0x213)],'resultsDisplay':document[_0xca53fc(0x3c4)](_0xca53fc(0x644))[_0xca53fc(0x213)],'loopUntilPass':document['getElementById'](_0xca53fc(0x113))[_0xca53fc(0x2cd)]},_0x2f6c1f=allQuizzesGlobal[_0xca53fc(0x6e5)];showConfirmation(_0xca53fc(0x741)+_0x2f6c1f+_0xca53fc(0x3f9),async()=>{const _0x39c07b=_0xca53fc,_0x16ce26=document[_0x39c07b(0x3c4)](_0x39c07b(0x93b));_0x16ce26['disabled']=!![],_0x16ce26[_0x39c07b(0x368)]=_0x39c07b(0x5af);try{const _0xa5662a=writeBatch(db);allQuizzesGlobal[_0x39c07b(0x502)](_0x299a8c=>{const _0x15e66c=_0x39c07b,_0xdbc5f9=doc(db,_0x15e66c(0x5a5)+appId+_0x15e66c(0x405),_0x299a8c['id']),_0x3f347b={..._0x299a8c['settings']||{},..._0x271a32};_0xa5662a[_0x15e66c(0x27f)](_0xdbc5f9,{'settings':_0x3f347b});}),await _0xa5662a['commit'](),document[_0x39c07b(0x3c4)](_0x39c07b(0x860))['classList'][_0x39c07b(0x711)](_0x39c07b(0x5ec)),showMessage(_0x39c07b(0x865)+_0x2f6c1f+_0x39c07b(0x580));}catch(_0x846494){console[_0x39c07b(0x316)](_0x39c07b(0x268),_0x846494),showMessage(_0x39c07b(0x65a));}finally{_0x16ce26[_0x39c07b(0x2d5)]=![],_0x16ce26[_0x39c07b(0x368)]='ยืนยันและอัปเดตทั้งหมด';}});}async function handleSaveProjectName(){const _0x16e5b2=_0x389ace,_0x42e4ba=document[_0x16e5b2(0x3c4)]('project-title'),_0x41d93d=document[_0x16e5b2(0x3c4)]('save-project-name-btn'),_0x25a917=_0x42e4ba[_0x16e5b2(0x60f)]['trim']();if(!_0x25a917||!currentProjectId){showMessage(_0x16e5b2(0x927)),_0x42e4ba['textContent']=currentProjectData[_0x16e5b2(0x3a1)];return;}_0x41d93d[_0x16e5b2(0x2d5)]=!![],_0x41d93d['innerHTML']=_0x16e5b2(0x4b5);try{const _0x17a086=doc(db,_0x16e5b2(0x5a5)+appId+_0x16e5b2(0x42b),currentProjectId);await updateDoc(_0x17a086,{'projectName':_0x25a917}),currentProjectData&&(currentProjectData[_0x16e5b2(0x3a1)]=_0x25a917),showMessage(_0x16e5b2(0x36d));}catch(_0x261447){console['error'](_0x16e5b2(0x7ff),_0x261447),showMessage(_0x16e5b2(0x926)),_0x42e4ba[_0x16e5b2(0x60f)]=currentProjectData['projectName'];}finally{_0x41d93d[_0x16e5b2(0x469)][_0x16e5b2(0x711)](_0x16e5b2(0x5ec)),_0x41d93d[_0x16e5b2(0x2d5)]=![],_0x41d93d['innerHTML']=_0x16e5b2(0xa04);}}async function initialize(){const _0x41ed1f=_0x389ace;try{const _0x1404f2=initializeApp(firebaseConfig);db=getFirestore(_0x1404f2),auth=getAuth(_0x1404f2),setupAuthListener(),setupEventListeners(),showView(_0x41ed1f(0x287)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x428eda){console[_0x41ed1f(0x316)](_0x41ed1f(0x34e),_0x428eda),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x1fc727=_0x389ace,_0x32a3af=document[_0x1fc727(0x3c4)](_0x1fc727(0x61f));if(!_0x32a3af)return;const _0x102635=document[_0x1fc727(0x3c4)]('verify-answers-editor-btn');_0x102635[_0x1fc727(0x2d5)]=!![],_0x102635[_0x1fc727(0x368)]=_0x1fc727(0x8c6);try{const _0x1b8d55=_0x32a3af[_0x1fc727(0x85d)](_0x1fc727(0x815)),_0x31b1fc=Array[_0x1fc727(0x194)](_0x1b8d55)[_0x1fc727(0x749)]((_0x5325d6,_0x5f2988)=>{const _0x57d7c3=_0x1fc727,_0x4f324e=_0x5325d6['dataset'][_0x57d7c3(0x6af)],_0x5d55a8=_0x5325d6[_0x57d7c3(0x674)](_0x57d7c3(0x241))[_0x57d7c3(0x213)];let _0x1043e5=null,_0x12b950='';switch(_0x4f324e){case _0x57d7c3(0x961):const _0x2e8500=_0x5325d6[_0x57d7c3(0x85d)](_0x57d7c3(0x1b9));_0x1043e5=Array[_0x57d7c3(0x194)](_0x2e8500)[_0x57d7c3(0x749)](_0x1bf58f=>_0x1bf58f[_0x57d7c3(0x213)]);const _0x36da1f=_0x5325d6[_0x57d7c3(0x674)]('input[type=\x22radio\x22]:checked');_0x36da1f&&(_0x12b950=_0x1043e5[parseInt(_0x36da1f['value'])]);break;case _0x57d7c3(0x8a8):_0x12b950=_0x5325d6[_0x57d7c3(0x674)](_0x57d7c3(0x314))[_0x57d7c3(0x213)];break;case _0x57d7c3(0x327):const _0x2716be=_0x5325d6['querySelector'](_0x57d7c3(0x2f4));_0x12b950=_0x2716be?_0x2716be[_0x57d7c3(0x213)]:'';break;case _0x57d7c3(0x5a6):_0x12b950=_0x5325d6[_0x57d7c3(0x674)]('.correct-response-input')[_0x57d7c3(0x213)];break;}return{'question':_0x5d55a8,'options':_0x1043e5,'proposedAnswer':_0x12b950};}),_0x313570=_0x1fc727(0x64b)+JSON[_0x1fc727(0x2ce)](_0x31b1fc)+_0x1fc727(0x75d),_0xfddeb={'type':_0x1fc727(0x127),'items':{'type':_0x1fc727(0xa07),'properties':{'questionIndex':{'type':_0x1fc727(0x894)},'isCorrect':{'type':_0x1fc727(0x2ab)},'justification':{'type':_0x1fc727(0x966)},'suggestedAnswer':{'type':_0x1fc727(0x966)}},'required':[_0x1fc727(0x98a),'isCorrect',_0x1fc727(0x683)]}},_0x3b27f2=await callAnalysisApi(_0x313570,{'type':_0x1fc727(0xa07),'properties':{'result':_0xfddeb},'required':['result']});displayVerificationResultsInEditor(_0x3b27f2[_0x1fc727(0x4aa)]);}catch(_0x384cf9){console[_0x1fc727(0x316)](_0x1fc727(0x780),_0x384cf9),showMessage(_0x1fc727(0x764));}finally{_0x102635[_0x1fc727(0x2d5)]=![],_0x102635[_0x1fc727(0x368)]=_0x1fc727(0x4a0);}}function displayVerificationResultsInEditor(_0x323b51){const _0xc4f42b=_0x389ace;_0x323b51[_0xc4f42b(0x502)](_0x3e2a3e=>{const _0x130e93=_0xc4f42b,_0x4f7d01=document[_0x130e93(0x674)](_0x130e93(0x8bf)+_0x3e2a3e['questionIndex']+'\x22]');if(!_0x4f7d01)return;const _0x2bbb9d=_0x4f7d01[_0x130e93(0x674)](_0x130e93(0x4e0));if(_0x2bbb9d)_0x2bbb9d['remove']();let _0xfcce79='';if(_0x3e2a3e['isCorrect'])_0xfcce79='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x16540b=_0x3e2a3e[_0x130e93(0x6c4)]?_0x130e93(0x748):'';_0xfcce79=_0x130e93(0x142)+_0x16540b+_0x130e93(0x10d)+_0x3e2a3e[_0x130e93(0x683)]+_0x130e93(0x346)+(_0x3e2a3e[_0x130e93(0x6c4)]?_0x130e93(0x70e)+_0x3e2a3e['suggestedAnswer']+_0x130e93(0x1b5):'')+_0x130e93(0x352);}_0x4f7d01[_0x130e93(0x1b0)](_0x130e93(0x8e3),_0xfcce79);if(!_0x3e2a3e[_0x130e93(0x988)]&&_0x3e2a3e[_0x130e93(0x6c4)]){const _0x2d8109=_0x4f7d01[_0x130e93(0x5d9)][_0x130e93(0x6af)],_0x348c44=_0x3cc15d=>{const _0x30c941=_0x130e93;if(!_0x3cc15d)return;_0x3cc15d['classList'][_0x30c941(0x711)]('bg-green-200',_0x30c941(0x9c7),'duration-300'),setTimeout(()=>{const _0x1d39fa=_0x30c941;_0x3cc15d[_0x1d39fa(0x469)]['remove'](_0x1d39fa(0x492));},0x9c4);};if(_0x2d8109==='multiple_choice'){const _0x32f6ef=Array[_0x130e93(0x194)](_0x4f7d01['querySelectorAll'](_0x130e93(0x1b9))),_0x128a82=_0x32f6ef['findIndex'](_0x221ec7=>_0x221ec7[_0x130e93(0x213)][_0x130e93(0x7f5)]()[_0x130e93(0x8f8)]()===_0x3e2a3e[_0x130e93(0x6c4)]['trim']()[_0x130e93(0x8f8)]());if(_0x128a82!==-0x1){const _0x39af91=_0x4f7d01[_0x130e93(0x674)](_0x130e93(0xa33)+_0x128a82+'\x22]');_0x39af91&&(_0x39af91[_0x130e93(0x2cd)]=!![],_0x348c44(_0x39af91[_0x130e93(0x552)](_0x130e93(0x847))));}}else{if(_0x2d8109===_0x130e93(0x8a8)||_0x2d8109===_0x130e93(0x5a6)){const _0x325859=_0x4f7d01[_0x130e93(0x674)](_0x130e93(0x290));_0x325859&&(_0x325859[_0x130e93(0x213)]=_0x3e2a3e[_0x130e93(0x6c4)],_0x348c44(_0x325859));}else{if(_0x2d8109===_0x130e93(0x327)){const _0x332082=_0x3e2a3e[_0x130e93(0x6c4)][_0x130e93(0x7f5)]()['toLowerCase'](),_0x243877=_0x4f7d01['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x332082+'\x22]');_0x243877&&(_0x243877[_0x130e93(0x2cd)]=!![],_0x348c44(_0x243877['closest']('div')));}}}}}),showMessage(_0xc4f42b(0x4ea));}async function handleVerifyAnswers(){const _0xd5710d=_0x389ace;if(!currentQuizData||!currentQuizData[_0xd5710d(0x47a)]){showMessage(_0xd5710d(0x8fe));return;}const _0x4c50ba=document[_0xd5710d(0x3c4)](_0xd5710d(0x8d2));_0x4c50ba[_0xd5710d(0x2d5)]=!![],_0x4c50ba[_0xd5710d(0x368)]=_0xd5710d(0x8c6);try{const _0x4c5da9=currentQuizData['questions'][_0xd5710d(0x749)]((_0x563f8b,_0x1a5652)=>{const _0x114fe1=_0xd5710d;let _0x412461='';const _0x3d1e16=_0x563f8b['questionType']||currentQuizData[_0x114fe1(0x8f1)];switch(_0x3d1e16){case'multiple_choice':_0x412461=_0x563f8b['options'][_0x563f8b['correctAnswerIndex']];break;case _0x114fe1(0x8a8):_0x412461=_0x563f8b['idealAnswer'];break;case _0x114fe1(0x327):_0x412461=_0x563f8b[_0x114fe1(0x9f4)]['toString']();break;case _0x114fe1(0x5a6):_0x412461=_0x563f8b[_0x114fe1(0x740)];break;}return{'question':_0x563f8b[_0x114fe1(0x101)]||_0x563f8b['questionText'],'options':_0x563f8b[_0x114fe1(0x237)]||null,'proposedAnswer':_0x412461};}),_0x4983cd=_0xd5710d(0x391)+JSON[_0xd5710d(0x2ce)](_0x4c5da9)+_0xd5710d(0x9cc),_0x10852a={'type':_0xd5710d(0x127),'items':{'type':_0xd5710d(0xa07),'properties':{'questionIndex':{'type':_0xd5710d(0x894)},'isCorrect':{'type':_0xd5710d(0x2ab)},'justification':{'type':_0xd5710d(0x966)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0xd5710d(0x988),'justification']}},_0x309385=await callAnalysisApi(_0x4983cd,{'type':_0xd5710d(0xa07),'properties':{'result':_0x10852a},'required':['result']});displayVerificationResults(_0x309385[_0xd5710d(0x4aa)]);}catch(_0x263e48){console['error'](_0xd5710d(0x112),_0x263e48),showMessage(_0xd5710d(0x764));}finally{_0x4c50ba['disabled']=![],_0x4c50ba[_0xd5710d(0x368)]=_0xd5710d(0x803);}}function displayVerificationResults(_0x4e3c35){const _0x1bbe85=_0x389ace;_0x4e3c35['forEach'](_0x5199a7=>{const _0x425a12=_0x51de,_0x2a4f69=document[_0x425a12(0x674)](_0x425a12(0x279)+_0x5199a7[_0x425a12(0x98a)]+'\x22]');if(_0x2a4f69){const _0x26f69f=_0x2a4f69[_0x425a12(0x674)](_0x425a12(0x767));if(_0x26f69f)_0x26f69f[_0x425a12(0x182)]();let _0x1372ff='';_0x5199a7[_0x425a12(0x988)]?_0x1372ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1372ff=_0x425a12(0x1d1)+_0x5199a7[_0x425a12(0x683)]+_0x425a12(0x208)+(_0x5199a7[_0x425a12(0x6c4)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x5199a7['suggestedAnswer']+'</p>':'')+_0x425a12(0x880),_0x2a4f69['insertAdjacentHTML'](_0x425a12(0x8e3),_0x1372ff);}}),showMessage(_0x1bbe85(0x4ea));}function compareNumericalAnswers(_0x1f9250,_0x1d00eb){const _0xf7cf6=_0x389ace,_0x45906e=String(_0x1f9250)[_0xf7cf6(0x98c)](',','.')[_0xf7cf6(0x98c)](/[^\d.-]/g,'')[_0xf7cf6(0x7f5)](),_0x29f6e9=String(_0x1d00eb)['replace'](',','.')[_0xf7cf6(0x98c)](/[^\d.-]/g,'')[_0xf7cf6(0x7f5)]();if(_0x45906e===''||_0x29f6e9==='')return![];const _0x4fb952=parseFloat(_0x45906e),_0x583875=parseFloat(_0x29f6e9);if(isNaN(_0x4fb952)||isNaN(_0x583875))return![];return Math[_0xf7cf6(0x62c)](_0x4fb952-_0x583875)<0.001;}async function gradeShortAnswer(_0x37336d,_0x3239ec){const _0x13c4b9=_0x389ace,_0x4aafb0=_0x3239ec['idealAnswer'];if(String(_0x37336d)['trim']()['toLowerCase']()===String(_0x4aafb0)['trim']()[_0x13c4b9(0x8f8)]())return!![];if(compareNumericalAnswers(_0x37336d,_0x4aafb0))return!![];return console[_0x13c4b9(0x361)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x37336d,_0x4aafb0);}async function revealAnswerForAdmin(_0x2e6933,_0x2b689e){const _0x5408ae=_0x389ace,_0x317fc3=doc(db,_0x5408ae(0x5a5)+appId+_0x5408ae(0x31e),currentLiveGameId);await updateDoc(_0x317fc3,{'questionStatus':_0x5408ae(0x2a5)});}function showTop5LeaderboardView(_0x485c32){const _0x104bb5=_0x389ace,_0x5a4938=Object['values'](_0x485c32['players']||{})[_0x104bb5(0x573)](_0x36fc61=>_0x36fc61['status']==='active');_0x5a4938[_0x104bb5(0x91f)]((_0x47ae69,_0x47d9ed)=>_0x47d9ed[_0x104bb5(0x84d)]-_0x47ae69[_0x104bb5(0x84d)]);const _0x3a6cf5=_0x5a4938[_0x104bb5(0x41d)](0x0,0x5),_0x4c8469=_0x104bb5(0x7bd)+_0x3a6cf5[_0x104bb5(0x749)]((_0x5a6e7f,_0x1172f2)=>_0x104bb5(0x93d)+(_0x1172f2+0x1)+'.\x20'+(_0x5a6e7f[_0x104bb5(0x37b)]||Object[_0x104bb5(0x45d)](_0x485c32[_0x104bb5(0x511)])[_0x104bb5(0x304)](_0x2a65bc=>_0x485c32['players'][_0x2a65bc]===_0x5a6e7f))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x5a6e7f[_0x104bb5(0x84d)]+_0x104bb5(0x6d6))[_0x104bb5(0x25a)]('')+_0x104bb5(0x822)+(_0x485c32[_0x104bb5(0x169)]+0x1===currentQuizData['questions']['length']?'สรุปผลสุดท้าย':'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x104bb5(0x368)]=_0x4c8469,document[_0x104bb5(0x3c4)]('goto-next-question-btn')['addEventListener'](_0x104bb5(0x548),async()=>{const _0x3c3767=_0x104bb5,_0x2bec02=doc(db,_0x3c3767(0x5a5)+appId+_0x3c3767(0x31e),currentLiveGameId),_0x1065d4=_0x485c32[_0x3c3767(0x169)]+0x1;if(_0x1065d4<currentQuizData['questions'][_0x3c3767(0x6e5)]){const _0x17cd09={'currentQuestionIndex':_0x1065d4,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x3c3767(0x45d)](_0x485c32['players'])[_0x3c3767(0x502)](_0x4759e8=>{const _0x4b6f63=_0x3c3767;_0x17cd09[_0x4b6f63(0x562)+_0x4759e8+_0x4b6f63(0x41a)]=![];}),await updateDoc(_0x2bec02,_0x17cd09);}else await updateDoc(_0x2bec02,{'status':_0x3c3767(0x430)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3b370a=>{const _0x321ca1=_0x51de;if(_0x3b370a){userId=_0x3b370a[_0x321ca1(0x887)],userIdDisplay[_0x321ca1(0x60f)]=userId;const _0x1e1fd8=await loadUserPreferences();_0x1e1fd8['projectSortOrder']&&(document[_0x321ca1(0x3c4)](_0x321ca1(0x941))['value']=_0x1e1fd8[_0x321ca1(0x12d)]);globalDashboardSettings[_0x321ca1(0x93e)]=_0x1e1fd8[_0x321ca1(0x93e)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x2ae5e2,_0x1cb0cd){const _0x3b068d=_0x389ace;if(!userId)return;try{const _0x1153ec=doc(db,'artifacts/'+appId+_0x3b068d(0x712)+userId+_0x3b068d(0x7c8)),_0x5a1a2c={};_0x5a1a2c[_0x2ae5e2]=_0x1cb0cd,await setDoc(_0x1153ec,_0x5a1a2c,{'merge':!![]});}catch(_0x511ca4){console[_0x3b068d(0x316)](_0x3b068d(0x402),_0x511ca4);}}async function loadUserPreferences(){const _0x390323=_0x389ace;if(!userId)return{};try{const _0x210094=doc(db,_0x390323(0x5a5)+appId+_0x390323(0x712)+userId+_0x390323(0x7c8)),_0x2b7500=await getDoc(_0x210094);if(_0x2b7500['exists']())return _0x2b7500[_0x390323(0x47e)]();return{};}catch(_0x55cf82){return console['error'](_0x390323(0x228),_0x55cf82),{};}}function showPodiumView(_0x726333,_0x392b6a=_0x389ace(0x373)){const _0x9f0b53=_0x389ace,_0x513e91=Object[_0x9f0b53(0x94d)](_0x726333)['map'](([_0x3e74b1,_0x2eef2e])=>({'name':_0x3e74b1,'score':_0x2eef2e[_0x9f0b53(0x84d)]||0x0,'badges':_0x2eef2e[_0x9f0b53(0x1e3)]||[],'hasPerfectScoreBonus':_0x2eef2e[_0x9f0b53(0x43e)]||![]}));_0x513e91[_0x9f0b53(0x91f)]((_0x57cbab,_0x1acaaa)=>{const _0xdc90dd=_0x9f0b53,_0x3d0591=_0x1acaaa[_0xdc90dd(0x84d)]-_0x57cbab[_0xdc90dd(0x84d)];if(_0x3d0591!==0x0)return _0x3d0591;return(_0x1acaaa[_0xdc90dd(0x1e3)][_0xdc90dd(0x6e5)]||0x0)-(_0x57cbab['badges'][_0xdc90dd(0x6e5)]||0x0);});const _0x317b89=_0x20dc03=>{const _0x4bbe8f=_0x9f0b53;if(!_0x20dc03||_0x20dc03[_0x4bbe8f(0x6e5)]===0x0)return'';const _0x1439a0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4bbe8f(0x2d2)+_0x20dc03[_0x4bbe8f(0x749)](_0x3fed46=>_0x1439a0[_0x3fed46]||'')[_0x4bbe8f(0x25a)]('')+_0x4bbe8f(0x58d);},_0x21aa18=_0x513e91[_0x9f0b53(0x41d)](0x3),_0x16134e=_0x21aa18[_0x9f0b53(0x6e5)]>0x0?_0x9f0b53(0x98b)+_0x21aa18[_0x9f0b53(0x749)]((_0x4e5a05,_0x4cb127)=>{const _0x306072=_0x9f0b53,_0x4ca18d=_0x4e5a05[_0x306072(0x43e)]?_0x306072(0x4d1):'';return _0x306072(0x16b)+(_0x4cb127+0x4)+_0x306072(0x980)+_0x4e5a05[_0x306072(0x37b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x4e5a05[_0x306072(0x84d)]+_0x306072(0x6d9)+_0x4ca18d+_0x306072(0x731);})[_0x9f0b53(0x25a)]('')+_0x9f0b53(0x1af):'',_0x34e19a=_0x9f0b53(0x57b)+(_0x513e91[0x1]?_0x9f0b53(0xa11)+_0x513e91[0x1][_0x9f0b53(0x37b)]+_0x9f0b53(0x1b5)+_0x317b89(_0x513e91[0x1][_0x9f0b53(0x1e3)])+_0x9f0b53(0x8b2)+_0x513e91[0x1]['score']+_0x9f0b53(0x6d9)+(_0x513e91[0x1]['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x9f0b53(0x418))+_0x9f0b53(0x558)+(_0x513e91[0x0]?_0x9f0b53(0x383)+_0x513e91[0x0][_0x9f0b53(0x37b)]+_0x9f0b53(0x1b5)+_0x317b89(_0x513e91[0x0][_0x9f0b53(0x1e3)])+_0x9f0b53(0x6da)+_0x513e91[0x0][_0x9f0b53(0x84d)]+_0x9f0b53(0x6d9)+(_0x513e91[0x0][_0x9f0b53(0x43e)]?_0x9f0b53(0x5d1):'')+_0x9f0b53(0xa3e):_0x9f0b53(0x418))+_0x9f0b53(0x558)+(_0x513e91[0x2]?_0x9f0b53(0x560)+_0x513e91[0x2][_0x9f0b53(0x37b)]+_0x9f0b53(0x1b5)+_0x317b89(_0x513e91[0x2][_0x9f0b53(0x1e3)])+_0x9f0b53(0x8b2)+_0x513e91[0x2][_0x9f0b53(0x84d)]+_0x9f0b53(0x6d9)+(_0x513e91[0x2][_0x9f0b53(0x43e)]?_0x9f0b53(0x5d1):'')+_0x9f0b53(0x747):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16134e+_0x9f0b53(0x280)+(currentMode===_0x9f0b53(0x622)?_0x9f0b53(0x5d4):_0x9f0b53(0xa43))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x9f0b53(0x368)]=_0x34e19a,currentMode===_0x9f0b53(0x622)&&document[_0x9f0b53(0x3c4)](_0x9f0b53(0x17e))[_0x9f0b53(0x199)]('click',async()=>{const _0x56348e=_0x9f0b53;let _0x5700b9;_0x392b6a==='sync'?_0x5700b9=doc(db,_0x56348e(0x5a5)+appId+_0x56348e(0x29e),currentLiveGameId):_0x5700b9=doc(db,_0x56348e(0x5a5)+appId+_0x56348e(0x31e),currentLiveGameId),await deleteDoc(_0x5700b9);});}function renderSyncSummaryView(_0x4367a8,_0x21593f,_0x29baf4){const _0x161158=_0x389ace,_0x476dbb=Object[_0x161158(0x2da)](_0x4367a8[_0x161158(0x511)]||{}),_0x129b0e=_0x21593f[_0x161158(0x237)]||[],_0x378b33=new Array(_0x129b0e[_0x161158(0x6e5)])[_0x161158(0x4ee)](0x0),_0x1299fa={};_0x129b0e['forEach']((_0x3e56e0,_0x1ad33c)=>{_0x1299fa[_0x1ad33c]=[];}),Object[_0x161158(0x94d)](_0x4367a8[_0x161158(0x511)]||{})[_0x161158(0x502)](([_0x359c4f,_0x1d89dc])=>{const _0x26ca27=_0x161158;if(_0x1d89dc[_0x26ca27(0x933)]!==_0x26ca27(0x2c6)&&_0x1d89dc[_0x26ca27(0x1a3)]!==undefined&&_0x1d89dc[_0x26ca27(0x1a3)]!==null){const _0x5ce619=_0x1d89dc[_0x26ca27(0x1a3)];_0x1299fa[_0x5ce619]!==undefined&&(_0x1299fa[_0x5ce619][_0x26ca27(0x2af)](_0x359c4f),_0x378b33[_0x5ce619]++);}});let _0x597551='';_0x29baf4?_0x597551='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x597551=_0x161158(0x615);const _0x5a9460=_0x161158(0x754)+_0x21593f[_0x161158(0x47b)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x378b33[_0x161158(0x749)]((_0x277e6f,_0x1e6045)=>{const _0x138151=_0x161158,_0x1ce8d1=_0x1299fa[_0x1e6045]['length']>0x0?_0x1299fa[_0x1e6045][_0x138151(0x25a)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x325696=_0x138151(0x2bd);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x277e6f+_0x138151(0x532)+_0x325696+_0x138151(0x3e5)+_0x1e6045+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x129b0e[_0x1e6045]+_0x138151(0x6aa)+_0x1e6045+_0x138151(0x63f)+_0x1ce8d1+_0x138151(0x442);})[_0x161158(0x25a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x597551+_0x161158(0x870);liveGameView[_0x161158(0x368)]=_0x5a9460;if(window['MathJax'])MathJax[_0x161158(0x4c3)]();_0x29baf4&&(document['getElementById'](_0x161158(0x2d1))['addEventListener'](_0x161158(0x548),async()=>{const _0x435ecd=_0x161158,_0x2c0161=doc(db,_0x435ecd(0x5a5)+appId+_0x435ecd(0x29e),currentLiveGameId);await updateDoc(_0x2c0161,{'status':'results'});}),document[_0x161158(0x3c4)](_0x161158(0x8d0))[_0x161158(0x39d)]=()=>{openScratchpad(_0x21593f,_0x129b0e);});}async function handleShowStudentRankings(){const _0x18e125=_0x389ace,_0x588141=document[_0x18e125(0x674)](_0x18e125(0x415));_0x588141&&(_0x588141[_0x18e125(0x368)]=_0x18e125(0x420));const _0x5407cd=document[_0x18e125(0x674)](_0x18e125(0x6e2));_0x5407cd&&(_0x5407cd[_0x18e125(0x368)]=_0x18e125(0x3e1));const _0x1e2448=document[_0x18e125(0x3c4)](_0x18e125(0x349));_0x1e2448['classList'][_0x18e125(0x182)](_0x18e125(0x5ec)),document[_0x18e125(0x3c4)](_0x18e125(0x77d))[_0x18e125(0x39d)]=()=>_0x1e2448[_0x18e125(0x469)]['add'](_0x18e125(0x5ec));const _0x7188e8=document[_0x18e125(0x3c4)](_0x18e125(0x8d5)),_0x1c41d1=document[_0x18e125(0x3c4)](_0x18e125(0x40b)),_0x36583b=document[_0x18e125(0x3c4)]('student-quiz-leaderboard-content'),_0x31437a=document[_0x18e125(0x3c4)]('student-project-leaderboard-content');_0x7188e8[_0x18e125(0x39d)]=()=>{const _0x3cdaef=_0x18e125;_0x7188e8['classList']['add'](_0x3cdaef(0x134)),_0x1c41d1[_0x3cdaef(0x469)][_0x3cdaef(0x182)]('active'),_0x36583b[_0x3cdaef(0x469)][_0x3cdaef(0x182)]('hidden'),_0x31437a['classList']['add'](_0x3cdaef(0x5ec));},_0x1c41d1[_0x18e125(0x39d)]=()=>{const _0x1f28e7=_0x18e125;_0x1c41d1[_0x1f28e7(0x469)]['add'](_0x1f28e7(0x134)),_0x7188e8[_0x1f28e7(0x469)]['remove'](_0x1f28e7(0x134)),_0x31437a[_0x1f28e7(0x469)][_0x1f28e7(0x182)](_0x1f28e7(0x5ec)),_0x36583b[_0x1f28e7(0x469)][_0x1f28e7(0x711)](_0x1f28e7(0x5ec));};try{const _0x3d3d69=collection(db,'artifacts/'+appId+_0x18e125(0x758)+currentQuizData['id']+_0x18e125(0x929)),_0x5cc7e2=await getDocs(_0x3d3d69),_0x161cbd=_0x5cc7e2[_0x18e125(0x768)][_0x18e125(0x749)](_0x47b0b8=>_0x47b0b8[_0x18e125(0x47e)]());renderQuizLeaderboard(_0x161cbd,currentQuizData,_0x18e125(0x161));const _0x48feaf=collection(db,_0x18e125(0x5a5)+appId+_0x18e125(0x541)+currentQuizData[_0x18e125(0x7a0)]+'/studentProfiles'),_0x5d8eda=await getDocs(_0x48feaf),_0x4a4568=_0x5d8eda[_0x18e125(0x768)][_0x18e125(0x749)](_0x5f33c9=>_0x5f33c9['data']());renderLeaderboard(_0x4a4568,'student-project-leaderboard-table-body');}catch(_0xccce29){console[_0x18e125(0x316)](_0x18e125(0x69a),_0xccce29),showMessage(_0x18e125(0x7ef));}}async function handleSaveToBank(_0x3ae051){const _0x409ada=_0x389ace,_0x24fb78=_0x3ae051['currentTarget'],_0x1f4848=_0x24fb78[_0x409ada(0x5d9)]['index'],_0x565ea5=currentQuizData[_0x409ada(0x47a)][_0x1f4848];if(!userId){showMessage(_0x409ada(0x412));return;}try{const _0x26d4be={..._0x565ea5,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x46db85=collection(db,_0x409ada(0x5a5)+appId+_0x409ada(0x712)+userId+_0x409ada(0x4f9));await addDoc(_0x46db85,_0x26d4be),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x24fb78[_0x409ada(0x469)][_0x409ada(0x182)]('text-purple-600'),_0x24fb78[_0x409ada(0x469)][_0x409ada(0x711)](_0x409ada(0x5d8)),_0x24fb78[_0x409ada(0x2d5)]=!![];}catch(_0x5c9940){console[_0x409ada(0x316)](_0x409ada(0x897),_0x5c9940),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x1ef80c=_0x389ace;if(!userId)return;const _0x454c94=collection(db,_0x1ef80c(0x5a5)+appId+'/public/data/quizzes'),_0x245b73=query(_0x454c94,where('isStarred','==',!![]));onSnapshot(_0x245b73,_0x14b393=>{const _0x4654f5=_0x1ef80c;starredQuizzes=_0x14b393[_0x4654f5(0x768)]['map'](_0x68eea5=>({'id':_0x68eea5['id'],..._0x68eea5[_0x4654f5(0x47e)]()})),currentProjectId===_0x4654f5(0x3ec)?renderQuizzes():renderProjects();},_0x3f236a=>{const _0x58d8c5=_0x1ef80c;console[_0x58d8c5(0x316)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x3f236a);});}function exportQuizAsWorksheetPDF(){const _0x4a35c0=_0x389ace;if(!currentQuizData||!currentQuizData[_0x4a35c0(0x47a)]){showMessage(_0x4a35c0(0x984));return;}const _0x2fcad6=currentQuizData,_0x295f28=window[_0x4a35c0(0x1c2)]('',_0x4a35c0(0x16d)),_0x1a1f2f=_0x3d924e=>String[_0x4a35c0(0x120)](0x41+_0x3d924e),_0x1ee534=_0x4a35c0(0x8fa)+_0x2fcad6[_0x4a35c0(0x3d0)]+_0x4a35c0(0x5f5)+_0x2fcad6[_0x4a35c0(0x3d0)]+_0x4a35c0(0x2b3)+_0x2fcad6[_0x4a35c0(0x47a)][_0x4a35c0(0x749)]((_0x42a9d5,_0x525d46)=>{const _0x1a462c=_0x4a35c0;let _0x43e0f2='';const _0x47c525=_0x42a9d5[_0x1a462c(0x651)]||_0x2fcad6['quizType'];switch(_0x47c525){case'multiple_choice':case _0x1a462c(0x67f):_0x43e0f2=_0x1a462c(0x9cf)+_0x42a9d5[_0x1a462c(0x237)][_0x1a462c(0x749)]((_0x51e8f6,_0x545533)=>_0x1a462c(0x247)+_0x1a1f2f(_0x545533)+'.\x20'+_0x51e8f6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1a462c(0x25a)](_0x1a462c(0xa3f))+_0x1a462c(0x58d);break;case _0x1a462c(0x327):_0x43e0f2=_0x1a462c(0x5dc);break;default:_0x43e0f2=_0x1a462c(0x11c);break;}return _0x1a462c(0x3fe)+(_0x525d46+0x1)+_0x1a462c(0x753)+(_0x42a9d5['stem']||_0x42a9d5[_0x1a462c(0x47b)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42a9d5[_0x1a462c(0x7fd)]?_0x1a462c(0x59c)+_0x42a9d5[_0x1a462c(0x7fd)]+_0x1a462c(0x58d):'')+_0x1a462c(0x1cb)+_0x43e0f2+_0x1a462c(0x380);})[_0x4a35c0(0x25a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x295f28['document'][_0x4a35c0(0x825)](_0x1ee534),_0x295f28[_0x4a35c0(0x9f8)][_0x4a35c0(0x6f6)](),_0x295f28[_0x4a35c0(0x950)]=function(){setTimeout(()=>{const _0x3391df=_0x51de;_0x295f28[_0x3391df(0x90b)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x207d85=_0x389ace;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x207d85(0x984));return;}const _0x36d04a=currentQuizData,_0x517301=window[_0x207d85(0x1c2)]('',_0x207d85(0x16d)),_0x3772d4=_0x48ace8=>String[_0x207d85(0x120)](0x41+_0x48ace8),_0x21f8bd=_0x207d85(0x582)+_0x36d04a[_0x207d85(0x3d0)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36d04a['questions'][_0x207d85(0x749)]((_0x1ba448,_0x339b17)=>{const _0x1a1e1=_0x207d85;let _0xf588b4='';const _0xb483d0=_0x1ba448[_0x1a1e1(0x651)]||_0x36d04a['quizType'];switch(_0xb483d0){case _0x1a1e1(0x961):case'fill_in_with_choices':_0xf588b4='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x1ba448[_0x1a1e1(0x237)]['map']((_0x2e005f,_0x57b4f3)=>_0x1a1e1(0x145)+_0x3772d4(_0x57b4f3)+'.\x20'+_0x2e005f+'</span>')['join']('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0xf588b4='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0xf588b4='';break;}return _0x1a1e1(0x992)+_0x36d04a[_0x1a1e1(0x3d0)]+_0x1a1e1(0x553)+(_0x339b17+0x1)+_0x1a1e1(0x9cd)+(_0x1ba448['stem']||_0x1ba448[_0x1a1e1(0x47b)])+_0x1a1e1(0x7f3)+(_0x1ba448[_0x1a1e1(0x7fd)]?_0x1a1e1(0x334)+_0x1ba448[_0x1a1e1(0x7fd)]+_0x1a1e1(0x58d):'')+_0x1a1e1(0x1cb)+_0xf588b4+_0x1a1e1(0x330);})[_0x207d85(0x25a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x517301['document'][_0x207d85(0x825)](_0x21f8bd),_0x517301[_0x207d85(0x9f8)]['close'](),_0x517301[_0x207d85(0x950)]=function(){setTimeout(()=>{_0x517301['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x47d9c6){const _0x394b29=_0x389ace,_0x1517f7=doc(db,_0x394b29(0x5a5)+appId+_0x394b29(0x405),_0x47d9c6);try{const _0x3d3a7d=await getDoc(_0x1517f7);if(_0x3d3a7d[_0x394b29(0x446)]()){const _0x1e449e=_0x3d3a7d[_0x394b29(0x47e)]()['isStarred']||![];await updateDoc(_0x1517f7,{'isStarred':!_0x1e449e});}}catch(_0x1b993b){console['error'](_0x394b29(0x7e6),_0x1b993b),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x22e190=_0x389ace,_0x178c94=document[_0x22e190(0x3c4)](_0x22e190(0x639));_0x178c94[_0x22e190(0x368)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x85b8af=collection(db,_0x22e190(0x5a5)+appId+'/users/'+userId+_0x22e190(0x4f9)),_0x462b8a=query(_0x85b8af),_0x45642f=await getDocs(_0x462b8a);if(_0x45642f[_0x22e190(0x8c5)]){_0x178c94['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x59d016=_0x45642f[_0x22e190(0x768)][_0x22e190(0x749)](_0x415eca=>{const _0x258c5c=_0x22e190,_0x336013=_0x415eca['data'](),_0x559afe=_0x415eca['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x258c5c(0x2ce)](_0x336013)+_0x258c5c(0x8ea)+(_0x336013[_0x258c5c(0x47b)]||_0x336013[_0x258c5c(0x101)])+_0x258c5c(0x9ae)+_0x336013['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x22e190(0x25a)]('');_0x178c94[_0x22e190(0x368)]=_0x22e190(0x738)+_0x59d016+_0x22e190(0x482),document[_0x22e190(0x3c4)](_0x22e190(0x505))[_0x22e190(0x199)](_0x22e190(0x548),createQuizFromBank);}catch(_0x310a2f){console[_0x22e190(0x316)](_0x22e190(0xa49),_0x310a2f),_0x178c94[_0x22e190(0x368)]=_0x22e190(0x1ba);}}function showAdminLiveQuestionView(_0x2422a2,_0x9713c,_0x79d950){const _0x1f141f=_0x389ace,_0x239aac=_0x2422a2['questionType']||currentQuizData[_0x1f141f(0x8f1)];let _0x4b48af='';if(_0x239aac==='multiple_choice'||_0x239aac===_0x1f141f(0x327)){const _0x3c34a1=_0x239aac===_0x1f141f(0x327)?[_0x1f141f(0x6dd),_0x1f141f(0x3af)]:_0x2422a2['options'],_0x253bed=_0x239aac===_0x1f141f(0x327)?_0x2422a2[_0x1f141f(0x9f4)]?0x0:0x1:_0x2422a2[_0x1f141f(0x58a)];_0x4b48af=_0x3c34a1['map']((_0x3c1696,_0x25d25a)=>_0x1f141f(0x68c)+(_0x25d25a===_0x253bed)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c1696+_0x1f141f(0x26e))[_0x1f141f(0x25a)]('');}else{if(_0x239aac===_0x1f141f(0x5a6)){const _0x41ee28=_0x2422a2[_0x1f141f(0x341)]||[];_0x4b48af=_0x41ee28['map'](_0x1458ea=>_0x1f141f(0x68c)+(_0x1458ea===_0x2422a2[_0x1f141f(0x740)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1458ea+_0x1f141f(0x26e))['join']('');}}const _0xd7749=_0x2422a2['stem']||_0x2422a2[_0x1f141f(0x47b)],_0x321308=_0x1f141f(0x7f8)+(_0x9713c+0x1)+_0x1f141f(0x3ff)+_0x79d950+_0x1f141f(0x69d)+currentLiveGamePin+_0x1f141f(0xa24)+_0xd7749+_0x1f141f(0x1e2)+_0x4b48af+_0x1f141f(0x159);liveGameView[_0x1f141f(0x368)]=_0x321308,window[_0x1f141f(0x8cc)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]),document['getElementById'](_0x1f141f(0x965))[_0x1f141f(0x199)](_0x1f141f(0x548),()=>revealAnswerForAdmin(_0x9713c,_0x79d950)),document[_0x1f141f(0x3c4)](_0x1f141f(0x802))[_0x1f141f(0x199)](_0x1f141f(0x548),async()=>{const _0x7075d1=_0x1f141f;showConfirmation(_0x7075d1(0x404),async()=>{const _0x4e8a23=_0x7075d1,_0x4f5244=doc(db,'artifacts/'+appId+_0x4e8a23(0x31e),currentLiveGameId);await updateDoc(_0x4f5244,{'status':_0x4e8a23(0x430)});});}),document['getElementById']('manage-players-btn')[_0x1f141f(0x199)](_0x1f141f(0x548),()=>{const _0x5d51fa=_0x1f141f;document[_0x5d51fa(0x3c4)]('live-player-management')[_0x5d51fa(0x469)][_0x5d51fa(0xa13)](_0x5d51fa(0x5ec));});}function showStudentLiveQuestionView(_0x568198,_0x5d6b52,_0x3ce376){const _0x107c02=_0x389ace,_0x384a91=_0x568198[_0x107c02(0x651)]||currentQuizData[_0x107c02(0x8f1)];let _0x5ca14a='';if(_0x384a91===_0x107c02(0x961)||_0x384a91===_0x107c02(0x327)){const _0x32a548=_0x384a91===_0x107c02(0x327)?[_0x107c02(0x6dd),'ไม่ใช่']:_0x568198[_0x107c02(0x237)];_0x5ca14a=_0x32a548['map']((_0xfaae67,_0x288da3)=>_0x107c02(0x259)+_0x288da3+_0x107c02(0x757)+_0xfaae67+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x384a91==='matching_item'){const _0x5e92c9=_0x568198['allResponses']||[];_0x5ca14a=_0x5e92c9[_0x107c02(0x749)]((_0xb5a816,_0x48590a)=>_0x107c02(0x259)+_0x48590a+_0x107c02(0x757)+_0xb5a816+_0x107c02(0x9ec))[_0x107c02(0x25a)]('');}else _0x384a91===_0x107c02(0x8a8)&&(_0x5ca14a=_0x107c02(0x8b1));}const _0x419c55=_0x568198[_0x107c02(0x101)]||_0x568198[_0x107c02(0x47b)],_0x2faecd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x5d6b52+0x1)+_0x107c02(0x3ff)+_0x3ce376+_0x107c02(0x429)+_0x419c55+_0x107c02(0x48f)+_0x5ca14a+_0x107c02(0x206);liveGameView['innerHTML']=_0x2faecd;window[_0x107c02(0x8cc)]&&MathJax[_0x107c02(0x4c3)]&&MathJax[_0x107c02(0x4c3)]([liveGameView]);const _0x5c8905=document[_0x107c02(0x3c4)](_0x107c02(0x6c5));_0x5c8905&&_0x5c8905[_0x107c02(0x199)](_0x107c02(0x548),()=>{const _0x339c31=_0x107c02,_0xe18ac5=document[_0x339c31(0x3c4)](_0x339c31(0x52b))[_0x339c31(0x213)];handleLiveAnswer(_0xe18ac5,_0x568198);}),document[_0x107c02(0x3c4)](_0x107c02(0x1f7))[_0x107c02(0x199)](_0x107c02(0x548),_0x414ff9=>{const _0x1899e=_0x107c02,_0x18fd4c=_0x414ff9[_0x1899e(0x3e4)][_0x1899e(0x552)]('.live-answer-btn');if(_0x18fd4c){const _0x2ab5ab=parseInt(_0x18fd4c[_0x1899e(0x5d9)]['index']);handleLiveAnswer(_0x2ab5ab,_0x568198);}});}async function handleLiveAnswer(_0x474d0f,_0x1730e8){const _0x2b52ac=_0x389ace;document[_0x2b52ac(0x85d)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x2b52ac(0x502)](_0x321ca8=>_0x321ca8[_0x2b52ac(0x2d5)]=!![]);const _0xeb54c5=_0x1730e8[_0x2b52ac(0x651)]||currentQuizData[_0x2b52ac(0x8f1)];let _0x1ff451=![],_0x12bfc6=_0x474d0f;if(_0xeb54c5===_0x2b52ac(0x8a8)){const _0x10ab5a=(_0x474d0f||'')[_0x2b52ac(0x1fe)]();_0x1ff451=await gradeShortAnswer(_0x10ab5a,_0x1730e8);}else{if(_0xeb54c5==='multiple_choice')_0x1ff451=_0x474d0f===_0x1730e8[_0x2b52ac(0x58a)];else{if(_0xeb54c5==='true_false'){const _0x59c56b=_0x1730e8['correctAnswer'];_0x1ff451=_0x474d0f===0x0&&_0x59c56b||_0x474d0f===0x1&&!_0x59c56b;}else{if(_0xeb54c5===_0x2b52ac(0x5a6)){const _0x2d9193=_0x1730e8['allResponses'][_0x474d0f];_0x1ff451=_0x2d9193===_0x1730e8[_0x2b52ac(0x740)],_0x12bfc6=_0x2d9193;}}}}const _0x8c57de=doc(db,_0x2b52ac(0x5a5)+appId+_0x2b52ac(0x31e),currentLiveGameId),_0x2457aa={};_0x2457aa['players.'+currentStudentName+_0x2b52ac(0x41a)]=!![],_0x2457aa[_0x2b52ac(0x562)+currentStudentName+_0x2b52ac(0x692)]=_0x1ff451,_0x2457aa[_0x2b52ac(0x562)+currentStudentName+_0x2b52ac(0x494)]=_0xeb54c5===_0x2b52ac(0x8a8)||_0xeb54c5===_0x2b52ac(0x5a6)?null:_0x474d0f,_0x2457aa[_0x2b52ac(0x562)+currentStudentName+_0x2b52ac(0x9bc)]=_0x12bfc6,_0x2457aa[_0x2b52ac(0x562)+currentStudentName+_0x2b52ac(0x82d)]=serverTimestamp(),_0x2457aa[_0x2b52ac(0x562)+currentStudentName+_0x2b52ac(0x95e)]=![],await updateDoc(_0x8c57de,_0x2457aa),liveGameView['innerHTML']=_0x2b52ac(0x406);}function showAdminSummaryView(_0x132a5f,_0x4e6106){const _0x182507=_0x389ace,_0x18867e=Object[_0x182507(0x2da)](_0x132a5f[_0x182507(0x511)]||{}),_0x3ee1c1=_0x4e6106[_0x182507(0x651)]||currentQuizData[_0x182507(0x8f1)],_0x125f4e=_0x3ee1c1==='true_false'?[_0x182507(0x6dd),'ไม่ใช่']:_0x4e6106[_0x182507(0x237)]||_0x4e6106[_0x182507(0x341)]||[],_0x42f6dd={},_0x27b414=new Array(_0x125f4e[_0x182507(0x6e5)])['fill'](0x0);_0x125f4e[_0x182507(0x502)]((_0x1fcfc0,_0x335a89)=>{_0x42f6dd[_0x335a89]=[];}),Object[_0x182507(0x94d)](_0x132a5f[_0x182507(0x511)]||{})['forEach'](([_0x48e600,_0x11d0b8])=>{const _0xd5ffe1=_0x182507;if(_0x11d0b8[_0xd5ffe1(0x933)]===_0xd5ffe1(0x134)&&_0x11d0b8[_0xd5ffe1(0x1a3)]!==undefined){const _0x350b76=_0x11d0b8[_0xd5ffe1(0x1a3)];_0x42f6dd[_0x350b76]&&(_0x42f6dd[_0x350b76][_0xd5ffe1(0x2af)](_0x48e600),_0x27b414[_0x350b76]++);}});const _0x165427=Math['max'](..._0x27b414,0x1),_0x4fc208='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x4e6106[_0x182507(0x101)]||_0x4e6106[_0x182507(0x47b)])+_0x182507(0x9a7)+_0x27b414[_0x182507(0x749)]((_0x2b2401,_0x3ec8c0)=>{const _0xe631b6=_0x182507,_0x4036de=_0x42f6dd[_0x3ec8c0][_0xe631b6(0x6e5)]>0x0?_0x42f6dd[_0x3ec8c0]['join'](',\x20'):_0xe631b6(0x12b);let _0x1f8389=![];if(_0x3ee1c1===_0xe631b6(0x961))_0x1f8389=_0x3ec8c0===_0x4e6106[_0xe631b6(0x58a)];else{if(_0x3ee1c1===_0xe631b6(0x327)){const _0x12c2aa=_0x4e6106[_0xe631b6(0x9f4)];_0x1f8389=_0x12c2aa&&_0x3ec8c0===0x0||!_0x12c2aa&&_0x3ec8c0===0x1;}else _0x3ee1c1==='matching_item'&&(_0x1f8389=_0x125f4e[_0x3ec8c0]===_0x4e6106['correctResponse']);}const _0x53db23=_0x1f8389?_0xe631b6(0x62d):_0xe631b6(0x6b0);return _0xe631b6(0x756)+_0x2b2401+_0xe631b6(0x616)+_0x53db23+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x3ec8c0+_0xe631b6(0x55e)+_0x125f4e[_0x3ec8c0]+_0xe631b6(0x6aa)+_0x3ec8c0+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4036de+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x182507(0x25a)]('')+_0x182507(0x322);liveGameView['innerHTML']=_0x4fc208;if(window[_0x182507(0x8cc)])MathJax['typesetPromise']();document['getElementById'](_0x182507(0x374))[_0x182507(0x199)]('click',async()=>{const _0x7a8400=_0x182507,_0x5f77da=doc(db,_0x7a8400(0x5a5)+appId+_0x7a8400(0x31e),currentLiveGameId);await updateDoc(_0x5f77da,{'questionStatus':'leaderboard'});}),document['getElementById'](_0x182507(0x891))['addEventListener'](_0x182507(0x548),()=>{openScratchpad(_0x4e6106,_0x125f4e);});}function showPlayerSummaryView(_0x311780,_0x3d4d94){const _0x1ac2cb=_0x389ace,_0x319d9c=Object[_0x1ac2cb(0x2da)](_0x311780['players']||{}),_0x1cb736=_0x311780['players'][_0x3d4d94],_0x2b86cc=_0x319d9c[_0x1ac2cb(0x573)](_0xf42625=>_0xf42625[_0x1ac2cb(0x933)]===_0x1ac2cb(0x134))[_0x1ac2cb(0x91f)]((_0x453c7a,_0x7b2930)=>_0x7b2930[_0x1ac2cb(0x84d)]-_0x453c7a[_0x1ac2cb(0x84d)]),_0x1ebe61=_0x2b86cc[_0x1ac2cb(0x834)](_0x2aba08=>_0x2aba08===_0x1cb736)+0x1,_0x4648e6=_0x1cb736[_0x1ac2cb(0x59e)]?_0x1ac2cb(0x9a3):_0x1ac2cb(0x132),_0x234a72=_0x1cb736[_0x1ac2cb(0x59e)]?_0x1ac2cb(0x1a2):'bg-red-500',_0xe02b84=_0x1cb736[_0x1ac2cb(0x86c)]||0x0,_0x26b996='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x545feb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x26b996+_0x1ac2cb(0x5e0)+_0x234a72+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x4648e6+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0xe02b84+_0x1ac2cb(0x81f)+(_0x1ebe61>0x0?_0x1ebe61:'-')+_0x1ac2cb(0x158);liveGameView[_0x1ac2cb(0x368)]=_0x545feb;}function createQuizFromBank(){const _0x29a98b=_0x389ace,_0x193398=document[_0x29a98b(0x85d)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x193398[_0x29a98b(0x6e5)]===0x0){showMessage(_0x29a98b(0x220));return;}const _0x219a48=[];_0x193398[_0x29a98b(0x502)](_0x5e13c5=>{const _0x179758=_0x29a98b;_0x219a48['push'](JSON['parse'](_0x5e13c5[_0x179758(0x213)]));});const _0x369ebc={'topic':_0x29a98b(0x8df),'questions':_0x219a48};displayGeneratedQuiz(_0x369ebc);}function showAdminLobbyView(_0x46a6a5,_0x29200a){const _0x3d2f08=_0x389ace;showView(_0x3d2f08(0x831));const _0x58c232=_0x3d2f08(0x9ca)+_0x29200a+_0x3d2f08(0x160)+_0x46a6a5+_0x3d2f08(0x2ff);liveGameView[_0x3d2f08(0x368)]=_0x58c232,document['getElementById'](_0x3d2f08(0x501))[_0x3d2f08(0x199)](_0x3d2f08(0x548),async()=>{const _0x542a4d=_0x3d2f08;if(!currentQuizData||!currentQuizData[_0x542a4d(0x47a)]||currentQuizData[_0x542a4d(0x47a)][_0x542a4d(0x6e5)]===0x0){showMessage(_0x542a4d(0x5ea));return;}try{const _0x18da73=doc(db,'artifacts/'+appId+_0x542a4d(0x31e),currentLiveGameId);await updateDoc(_0x18da73,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2142c1=currentQuizData[_0x542a4d(0x47a)][0x0],_0x55b257=currentQuizData[_0x542a4d(0x47a)]['length'];showAdminLiveQuestionView(_0x2142c1,0x0,_0x55b257);}catch(_0x354226){console[_0x542a4d(0x316)]('Error\x20starting\x20game:',_0x354226),showMessage(_0x542a4d(0x53a));}});}async function openGlobalLiveModal(){const _0x131e1f=_0x389ace;if(allQuizzesGlobal['length']===0x0){const _0x326b4a=await getDocs(collection(db,_0x131e1f(0x5a5)+appId+_0x131e1f(0x405)));allQuizzesGlobal=_0x326b4a['docs'][_0x131e1f(0x749)](_0x428b9f=>({'id':_0x428b9f['id'],..._0x428b9f[_0x131e1f(0x47e)]()}));}renderGlobalQuizList(''),document['getElementById']('global-live-game-modal')[_0x131e1f(0x469)][_0x131e1f(0x182)]('hidden');}async function openQuizBankModal(){const _0x1ea3fb=_0x389ace;if(allQuizzesGlobal['length']===0x0){const _0x4f35ac=await getDocs(collection(db,_0x1ea3fb(0x5a5)+appId+_0x1ea3fb(0x405)));allQuizzesGlobal=_0x4f35ac[_0x1ea3fb(0x768)][_0x1ea3fb(0x749)](_0xe5672=>({'id':_0xe5672['id'],..._0xe5672[_0x1ea3fb(0x47e)]()}));}renderQuizBankList(''),document[_0x1ea3fb(0x3c4)](_0x1ea3fb(0x138))[_0x1ea3fb(0x469)][_0x1ea3fb(0x182)](_0x1ea3fb(0x5ec));}function renderQuizBankList(_0xa78290=''){const _0x15e8db=_0x389ace,_0x30ac2d=document[_0x15e8db(0x3c4)]('bank-quiz-list'),_0x1f1d18=_0xa78290[_0x15e8db(0x8f8)]()[_0x15e8db(0x7f5)](),_0x3e5e0e=allQuizzesGlobal['map'](_0x584781=>({..._0x584781,'projectName':allProjects[_0x15e8db(0x304)](_0x1fc828=>_0x1fc828['id']===_0x584781[_0x15e8db(0x7a0)])?.[_0x15e8db(0x3a1)]||'N/A'}))[_0x15e8db(0x573)](_0x4a2ede=>(_0x4a2ede['topic']||'')[_0x15e8db(0x8f8)]()[_0x15e8db(0x821)](_0x1f1d18)||(_0x4a2ede[_0x15e8db(0x3a1)]||'')[_0x15e8db(0x8f8)]()[_0x15e8db(0x821)](_0x1f1d18)||_0x4a2ede['id'][_0x15e8db(0x1fe)]()[_0x15e8db(0x821)](_0x1f1d18));document[_0x15e8db(0x3c4)](_0x15e8db(0x968))[_0x15e8db(0x60f)]='('+_0x3e5e0e['length']+_0x15e8db(0x27c),_0x30ac2d[_0x15e8db(0x368)]=_0x3e5e0e['length']?_0x3e5e0e[_0x15e8db(0x749)](_0x491afa=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x491afa['id']+_0x15e8db(0x292)+(_0x491afa[_0x15e8db(0x3d0)]||_0x15e8db(0x1d6))+_0x15e8db(0x4ef)+(_0x491afa[_0x15e8db(0x47a)]?.[_0x15e8db(0x6e5)]||0x0)+_0x15e8db(0xa2e)+_0x491afa[_0x15e8db(0x3a1)]+_0x15e8db(0x4ba)+_0x491afa['id']+_0x15e8db(0x901)+_0x491afa['id']+_0x15e8db(0x298)+_0x491afa['id']+_0x15e8db(0x8dd)+_0x491afa['id']+_0x15e8db(0x254)+_0x491afa['id']+_0x15e8db(0x571)+_0x491afa['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x491afa['id']+_0x15e8db(0x8de)+_0x491afa['topic']+_0x15e8db(0xa29))[_0x15e8db(0x25a)](''):_0x15e8db(0x7c0),_0x30ac2d[_0x15e8db(0x85d)](_0x15e8db(0x269))['forEach'](_0x5cafd3=>{const _0x504219=_0x15e8db;_0x5cafd3[_0x504219(0x199)]('click',()=>{const _0x2206f0=_0x504219,_0x8bb030=_0x5cafd3[_0x2206f0(0x5d9)]['id'];document[_0x2206f0(0x3c4)](_0x2206f0(0x138))[_0x2206f0(0x469)][_0x2206f0(0x711)]('hidden'),showQuizDetailView(_0x8bb030);});}),_0x30ac2d[_0x15e8db(0x85d)](_0x15e8db(0x2f5))[_0x15e8db(0x502)](_0x43ebd4=>{const _0x5347c8=_0x15e8db;_0x43ebd4[_0x5347c8(0x199)](_0x5347c8(0x548),_0x447a19=>{const _0x5a77e5=_0x5347c8;_0x447a19[_0x5a77e5(0x5fd)]();const _0x2e5dbd=_0x43ebd4[_0x5a77e5(0x5d9)]['id'],_0x2303bd=allQuizzesGlobal[_0x5a77e5(0x304)](_0x29c635=>_0x29c635['id']===_0x2e5dbd);_0x2303bd?(currentQuizData=_0x2303bd,document[_0x5a77e5(0x3c4)](_0x5a77e5(0x138))['classList'][_0x5a77e5(0x711)]('hidden'),startAdminTest()):showMessage(_0x5a77e5(0x75b));});}),_0x30ac2d[_0x15e8db(0x85d)](_0x15e8db(0x8dc))[_0x15e8db(0x502)](_0x5d203f=>{const _0x59b53d=_0x15e8db;_0x5d203f[_0x59b53d(0x199)](_0x59b53d(0x548),_0x2ae956=>{const _0x1dc643=_0x59b53d;_0x2ae956[_0x1dc643(0x5fd)]();const _0x39eba3=_0x5d203f[_0x1dc643(0x5d9)]['id'],_0x1b929e=allQuizzesGlobal[_0x1dc643(0x304)](_0x41be8d=>_0x41be8d['id']===_0x39eba3);_0x1b929e?(document[_0x1dc643(0x3c4)]('quiz-bank-modal')['classList'][_0x1dc643(0x711)](_0x1dc643(0x5ec)),handleGenerateParallelFromBank(_0x1b929e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x30ac2d[_0x15e8db(0x85d)]('.quiz-bank-present-btn')[_0x15e8db(0x502)](_0x6ce491=>{const _0x48746a=_0x15e8db;_0x6ce491['addEventListener'](_0x48746a(0x548),_0x229d04=>{const _0x453fd9=_0x48746a;_0x229d04['stopPropagation']();const _0x13ef8e=_0x6ce491[_0x453fd9(0x5d9)]['id'],_0x495f70=allQuizzesGlobal[_0x453fd9(0x304)](_0x25c85d=>_0x25c85d['id']===_0x13ef8e);_0x495f70?(document[_0x453fd9(0x3c4)]('quiz-bank-modal')[_0x453fd9(0x469)][_0x453fd9(0x711)](_0x453fd9(0x5ec)),startPresentation(_0x495f70)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x30ac2d[_0x15e8db(0x85d)]('.quiz-bank-move-btn')[_0x15e8db(0x502)](_0x56a31e=>{const _0x21a69b=_0x15e8db;_0x56a31e[_0x21a69b(0x199)]('click',_0x3982c0=>{const _0x36f8cc=_0x21a69b;_0x3982c0[_0x36f8cc(0x5fd)]();const _0x2e809a=_0x56a31e[_0x36f8cc(0x5d9)]['id'];document[_0x36f8cc(0x3c4)](_0x36f8cc(0x138))['classList'][_0x36f8cc(0x711)](_0x36f8cc(0x5ec)),handleMoveQuiz(_0x2e809a);});}),_0x30ac2d['querySelectorAll'](_0x15e8db(0x922))['forEach'](_0x39d27c=>{_0x39d27c['addEventListener']('click',_0x48f3b6=>{const _0x3edc89=_0x51de;_0x48f3b6[_0x3edc89(0x5fd)]();const _0x1e96b6=_0x39d27c[_0x3edc89(0x5d9)]['id'];document[_0x3edc89(0x3c4)](_0x3edc89(0x138))[_0x3edc89(0x469)]['add'](_0x3edc89(0x5ec)),handleQuizSettings(_0x1e96b6);});}),_0x30ac2d['querySelectorAll']('.quiz-bank-delete-btn')[_0x15e8db(0x502)](_0x20fa1d=>{const _0x3148a5=_0x15e8db;_0x20fa1d[_0x3148a5(0x199)](_0x3148a5(0x548),_0x5076d0=>{const _0x360c41=_0x3148a5;_0x5076d0['stopPropagation']();const _0x5b7470=_0x20fa1d[_0x360c41(0x5d9)]['id'],_0x41e8c3=_0x20fa1d['dataset'][_0x360c41(0x3d0)];showConfirmation(_0x360c41(0x266)+_0x41e8c3+_0x360c41(0x9bd),()=>handleDeleteQuiz(_0x5b7470));});});}async function handleCompareResults(_0xdf0d05,_0x26d9dd){const _0x1f8241=_0x389ace,_0x2156c2=document[_0x1f8241(0x3c4)]('comparison-modal'),_0x8b8941=document[_0x1f8241(0x3c4)](_0x1f8241(0x7d5)),_0x5880e0=document[_0x1f8241(0x3c4)](_0x1f8241(0x449));document['getElementById'](_0x1f8241(0x535))[_0x1f8241(0x469)][_0x1f8241(0x711)]('active'),document[_0x1f8241(0x3c4)](_0x1f8241(0x6be))[_0x1f8241(0x469)][_0x1f8241(0x182)](_0x1f8241(0x134)),_0x8b8941[_0x1f8241(0x469)][_0x1f8241(0x182)]('hidden'),_0x5880e0[_0x1f8241(0x469)][_0x1f8241(0x711)](_0x1f8241(0x5ec)),_0x8b8941['innerHTML']=_0x1f8241(0x58e),_0x5880e0[_0x1f8241(0x368)]='',_0x2156c2[_0x1f8241(0x469)][_0x1f8241(0x182)](_0x1f8241(0x5ec));try{const _0xc43f6f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xdf0d05),_0x561e56=await getDoc(_0xc43f6f);if(!_0x561e56['exists']())throw new Error(_0x1f8241(0x324));const _0x2feb07=_0x561e56[_0x1f8241(0x47e)](),_0x495d7f=_0x2feb07['questions'][_0x1f8241(0x6e5)],_0x3823ac=collection(db,_0x1f8241(0x5a5)+appId+'/public/data/quizzes/'+_0x26d9dd+_0x1f8241(0x929)),_0x442104=collection(db,_0x1f8241(0x5a5)+appId+'/public/data/quizzes/'+_0xdf0d05+'/submissions'),[_0x3871e4,_0x8ac7db]=await Promise['all']([getDocs(_0x3823ac),getDocs(_0x442104)]),_0x84ad80=_0x3871e4[_0x1f8241(0x768)]['map'](_0x301756=>_0x301756['data']()),_0x8a87ff=_0x8ac7db['docs'][_0x1f8241(0x749)](_0x38c68a=>_0x38c68a[_0x1f8241(0x47e)]()),_0x5e6130=_0x84ad80[_0x1f8241(0x749)](_0x462bb8=>_0x462bb8[_0x1f8241(0x2ac)]),_0x109f36=_0x8a87ff[_0x1f8241(0x749)](_0x23163d=>_0x23163d[_0x1f8241(0x2ac)]),_0x403b4d=calculateMeanAndStdDev(_0x5e6130),_0x485f9f=calculateMeanAndStdDev(_0x109f36),_0x5ac83a=_0x403b4d[_0x1f8241(0x8e1)],_0x2f1b8f=_0x485f9f[_0x1f8241(0x8e1)],_0x58b91d=_0x2f1b8f-_0x5ac83a;let _0x47a215=_0x1f8241(0x9f5)+_0x5ac83a[_0x1f8241(0x790)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x2f1b8f[_0x1f8241(0x790)](0x2)+_0x1f8241(0x283)+(_0x58b91d>=0x0?_0x1f8241(0x4f8):_0x1f8241(0x1a0))+_0x1f8241(0x590)+(_0x58b91d>=0x0?_0x1f8241(0x50e):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x58b91d>=0x0?_0x1f8241(0x900):_0x1f8241(0x3a2))+'\x22>'+(_0x58b91d>=0x0?'+':'')+_0x58b91d[_0x1f8241(0x790)](0x2)+_0x1f8241(0x576);_0x8b8941['innerHTML']=_0x47a215;const _0x2c17c8=document[_0x1f8241(0x3c4)]('comparison-chart')['getContext']('2d');if(chartInstances[_0x1f8241(0x7f7)])chartInstances[_0x1f8241(0x7f7)][_0x1f8241(0x12f)]();chartInstances[_0x1f8241(0x7f7)]=new Chart(_0x2c17c8,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x1f8241(0x252),'data':[_0x5ac83a],'backgroundColor':_0x1f8241(0x26c)},{'label':_0x1f8241(0x6f9),'data':[_0x2f1b8f],'backgroundColor':_0x1f8241(0x149)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x495d7f}}}});const _0x1bab3b=currentProjectData[_0x1f8241(0x2ec)]||[],_0x2a0453=_0x1bab3b['map'](_0x27f5fb=>{const _0x4dc8c8=_0x1f8241,_0x1de178=_0x84ad80[_0x4dc8c8(0x304)](_0x479ab3=>_0x479ab3[_0x4dc8c8(0x3c0)]===_0x27f5fb),_0x2135b6=_0x8a87ff['find'](_0x6174d2=>_0x6174d2['studentName']===_0x27f5fb),_0x44310a=_0x1de178?_0x1de178['latestScore']:null,_0x7bdc34=_0x2135b6?_0x2135b6[_0x4dc8c8(0x2ac)]:null,_0x189c91=_0x44310a!==null&&_0x7bdc34!==null?_0x7bdc34-_0x44310a:null,_0x1e2eaf=_0x44310a!==null?calculateZScore(_0x44310a,_0x403b4d[_0x4dc8c8(0x8e1)],_0x403b4d[_0x4dc8c8(0x75e)]):null,_0x11baaa=_0x7bdc34!==null?calculateZScore(_0x7bdc34,_0x485f9f['mean'],_0x485f9f['stdDev']):null,_0x47a1ce=_0x1e2eaf!==null?calculateTScore(_0x1e2eaf):null,_0x4aac98=_0x11baaa!==null?calculateTScore(_0x11baaa):null,_0x1d7c3a=_0x47a1ce!==null&&_0x4aac98!==null?_0x4aac98-_0x47a1ce:null;return{'name':_0x27f5fb,'preScore':_0x44310a,'postScore':_0x7bdc34,'gain':_0x189c91,'preTScore':_0x47a1ce,'postTScore':_0x4aac98,'tGain':_0x1d7c3a};});renderIndividualComparisonTable(_0x2a0453,_0x5880e0);}catch(_0x1610b7){console[_0x1f8241(0x316)](_0x1f8241(0x811),_0x1610b7),_0x8b8941[_0x1f8241(0x368)]=_0x1f8241(0x28b);}}function displayHalfMarkResult(_0xbde88e,_0x5230f3){const _0x41f308=_0x389ace,_0x37e290=_0xbde88e>=_0x5230f3/0x2,_0x1c5a19=_0x37e290?'bg-green-100':_0x41f308(0x1a0),_0x341a51=_0x37e290?_0x41f308(0x9f2):_0x41f308(0xa47),_0x281a33=_0x37e290?_0x41f308(0x4a5):_0x41f308(0x904),_0x4f6c86=_0x37e290?_0x41f308(0x150):_0x41f308(0x7d8),_0x31fa20=_0x37e290?_0x41f308(0x94a):_0x41f308(0x919);let _0x445b6e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1c5a19+_0x41f308(0xa2d)+_0x341a51+_0x41f308(0x550)+_0x281a33+_0x41f308(0x783)+_0x4f6c86+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x31fa20+_0x41f308(0x630);studentResultArea[_0x41f308(0x368)]=_0x445b6e,studentResultArea[_0x41f308(0x469)][_0x41f308(0x182)](_0x41f308(0x5ec)),studentQuizArea['classList'][_0x41f308(0x711)](_0x41f308(0x5ec)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x37e290});}function displayPerfectScoreResult(_0x4e9cdb,_0x17b486){const _0x5811dd=_0x389ace,_0x341cf2=_0x4e9cdb===_0x17b486,_0x3cebec=_0x341cf2?_0x5811dd(0x1fd):'bg-blue-100',_0x35ad2a=_0x341cf2?_0x5811dd(0x2f6):_0x5811dd(0x288),_0x271059=_0x341cf2?_0x5811dd(0x551):_0x5811dd(0x216),_0x399581=_0x341cf2?_0x5811dd(0x7b6):_0x5811dd(0x491),_0x4b305a=_0x341cf2?_0x5811dd(0x351):_0x5811dd(0x4b4);let _0x7abf55=_0x5811dd(0x951)+_0x3cebec+_0x5811dd(0xa2d)+_0x35ad2a+_0x5811dd(0x550)+_0x271059+_0x5811dd(0x783)+_0x399581+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x4b305a+_0x5811dd(0x630);studentResultArea[_0x5811dd(0x368)]=_0x7abf55,studentResultArea[_0x5811dd(0x469)][_0x5811dd(0x182)](_0x5811dd(0x5ec)),studentQuizArea[_0x5811dd(0x469)][_0x5811dd(0x711)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x4e9cdb,'totalQuestions':_0x17b486});}function renderIndividualComparisonTable(_0x41d91b,_0x13ac40){const _0xd86219=_0x389ace;_0x41d91b[_0xd86219(0x91f)]((_0x42a815,_0x1c01da)=>(_0x1c01da['tGain']??-Infinity)-(_0x42a815[_0xd86219(0x972)]??-Infinity));let _0x483c69=_0xd86219(0x60e);_0x41d91b[_0xd86219(0x6e5)]===0x0?_0x483c69+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x41d91b[_0xd86219(0x502)]((_0x52508a,_0x1a98b3)=>{const _0x373462=_0xd86219;let _0x4f17c3='-',_0x48bd1f='';if(_0x52508a['gain']!==null){const _0x5c3f0a=_0x52508a[_0x373462(0x10f)]>0x0?_0x373462(0x5d8):_0x52508a[_0x373462(0x10f)]<0x0?'text-red-600':_0x373462(0x464),_0x4b46de=_0x52508a[_0x373462(0x10f)]>0x0?'+':'';_0x4f17c3=_0x373462(0x362)+_0x5c3f0a+'\x22>'+_0x4b46de+_0x52508a[_0x373462(0x10f)]+_0x373462(0x426);if(_0x52508a[_0x373462(0x10f)]>0x0)_0x48bd1f=_0x373462(0x4eb);else _0x52508a['gain']<0x0?_0x48bd1f=_0x373462(0x561):_0x48bd1f=_0x373462(0x1e6);}let _0x34ad1f='-';if(_0x52508a['tGain']!==null){const _0x537af7=_0x52508a[_0x373462(0x972)]>0x0?_0x373462(0x5d8):_0x52508a[_0x373462(0x972)]<0x0?_0x373462(0x5de):_0x373462(0x464),_0x1756af=_0x52508a[_0x373462(0x972)]>0x0?'+':'';_0x34ad1f=_0x373462(0x362)+_0x537af7+'\x22>'+_0x1756af+_0x52508a[_0x373462(0x972)]['toFixed'](0x2)+_0x373462(0x426);}_0x483c69+=_0x373462(0x250)+(_0x1a98b3+0x1)+_0x373462(0x474)+_0x52508a[_0x373462(0x37b)]+_0x373462(0x328)+(_0x52508a[_0x373462(0x717)]??'-')+_0x373462(0x7a1)+(_0x52508a[_0x373462(0x7f2)]??'-')+_0x373462(0x328)+_0x4f17c3+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x48bd1f+_0x373462(0x2e3)+(_0x52508a[_0x373462(0x483)]?.[_0x373462(0x790)](0x2)??'-')+_0x373462(0x183)+(_0x52508a[_0x373462(0x22d)]?.['toFixed'](0x2)??'-')+_0x373462(0x328)+_0x34ad1f+_0x373462(0x214);}),_0x483c69+=_0xd86219(0x272),_0x13ac40[_0xd86219(0x368)]=_0x483c69;}function handleRenameQuiz(_0x3539a9,_0x381c5d){const _0x397841=_0x389ace;actionTargetId=_0x3539a9,document[_0x397841(0x3c4)](_0x397841(0x425))[_0x397841(0x213)]=_0x381c5d,renameQuizModal['classList'][_0x397841(0x182)]('hidden');}function setupComparisonModalTabs(){const _0x335c75=_0x389ace,_0x3f5a46=document[_0x335c75(0x3c4)]('comparison-overall-tab'),_0x4ace77=document[_0x335c75(0x3c4)]('comparison-individual-tab'),_0x1ab7d1=document[_0x335c75(0x3c4)](_0x335c75(0x7d5)),_0x4f0cb8=document[_0x335c75(0x3c4)](_0x335c75(0x449));_0x3f5a46[_0x335c75(0x199)](_0x335c75(0x548),()=>{const _0x547c1d=_0x335c75;_0x3f5a46[_0x547c1d(0x469)]['add'](_0x547c1d(0x134)),_0x4ace77['classList'][_0x547c1d(0x182)](_0x547c1d(0x134)),_0x1ab7d1['classList']['remove'](_0x547c1d(0x5ec)),_0x4f0cb8[_0x547c1d(0x469)][_0x547c1d(0x711)](_0x547c1d(0x5ec));}),_0x4ace77['addEventListener']('click',()=>{const _0x275425=_0x335c75;_0x4ace77['classList']['add'](_0x275425(0x134)),_0x3f5a46[_0x275425(0x469)]['remove'](_0x275425(0x134)),_0x4f0cb8[_0x275425(0x469)][_0x275425(0x182)]('hidden'),_0x1ab7d1['classList'][_0x275425(0x711)](_0x275425(0x5ec));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x25d575=''){const _0x2c1d9d=_0x389ace,_0x1284ed=document[_0x2c1d9d(0x3c4)](_0x2c1d9d(0x6f8)),_0x20afb1=_0x25d575['toLowerCase']()[_0x2c1d9d(0x7f5)](),_0x280ec7=allQuizzesGlobal[_0x2c1d9d(0x749)](_0x4f4296=>({..._0x4f4296,'projectName':allProjects['find'](_0xc67b21=>_0xc67b21['id']===_0x4f4296[_0x2c1d9d(0x7a0)])?.[_0x2c1d9d(0x3a1)]||_0x4f4296[_0x2c1d9d(0x7a0)]}))[_0x2c1d9d(0x573)](_0x489253=>(_0x489253['topic']||'')['toLowerCase']()[_0x2c1d9d(0x821)](_0x20afb1)||(_0x489253[_0x2c1d9d(0x3a1)]||'')[_0x2c1d9d(0x8f8)]()[_0x2c1d9d(0x821)](_0x20afb1));document[_0x2c1d9d(0x3c4)]('global-live-game-count')[_0x2c1d9d(0x60f)]='('+_0x280ec7[_0x2c1d9d(0x6e5)]+_0x2c1d9d(0x27c),_0x1284ed['innerHTML']=_0x280ec7['length']?_0x280ec7[_0x2c1d9d(0x749)](_0x59c7cb=>_0x2c1d9d(0x823)+_0x59c7cb['id']+_0x2c1d9d(0x5a0)+(_0x59c7cb[_0x2c1d9d(0x3d0)]||_0x2c1d9d(0x1d6))+_0x2c1d9d(0x61e)+(_0x59c7cb[_0x2c1d9d(0x47a)]?.[_0x2c1d9d(0x6e5)]||0x0)+_0x2c1d9d(0x7ee)+_0x59c7cb[_0x2c1d9d(0x3a1)]+_0x2c1d9d(0x896))[_0x2c1d9d(0x25a)](''):_0x2c1d9d(0x95a),selectedGlobalQuizId=null,document['getElementById'](_0x2c1d9d(0x1a5))['disabled']=!![],_0x1284ed[_0x2c1d9d(0x85d)](_0x2c1d9d(0x336))['forEach'](_0x5d36b6=>{_0x5d36b6['addEventListener']('click',()=>{const _0x2f628f=_0x51de;selectedGlobalQuizId=_0x5d36b6[_0x2f628f(0x5d9)]['id'],_0x1284ed[_0x2f628f(0x85d)](_0x2f628f(0x886))['forEach'](_0x240234=>_0x240234['classList'][_0x2f628f(0x182)](_0x2f628f(0x6a0),_0x2f628f(0x746),'ring-purple-400')),_0x5d36b6[_0x2f628f(0x469)][_0x2f628f(0x711)](_0x2f628f(0x6a0),_0x2f628f(0x746),_0x2f628f(0x36b)),document[_0x2f628f(0x3c4)]('confirm-global-live-btn')[_0x2f628f(0x2d5)]=![];});});}function listenForLiveGameUpdates(){const _0x4d0240=_0x389ace;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1882c8=doc(db,_0x4d0240(0x5a5)+appId+_0x4d0240(0x31e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1882c8,_0x580286=>{const _0x447958=_0x4d0240;if(!_0x580286[_0x447958(0x446)]()){showMessage(_0x447958(0x6a1)),showView(currentMode);return;}const _0x1cf2fe=_0x580286[_0x447958(0x47e)]();_0x1cf2fe[_0x447958(0x1df)]&&(currentQuizData=_0x1cf2fe[_0x447958(0x1df)]);!currentQuizData&&_0x1cf2fe[_0x447958(0x21c)]&&((async()=>{const _0x458921=_0x447958;try{const _0x2f61f6=doc(db,_0x458921(0x5a5)+appId+_0x458921(0x405),_0x1cf2fe['quizId']),_0x13a212=await getDoc(_0x2f61f6);_0x13a212['exists']()&&(currentQuizData={'id':_0x13a212['id'],..._0x13a212['data']()});}catch(_0x2514f2){console['error'](_0x458921(0x545),_0x2514f2);}})());switch(_0x1cf2fe[_0x447958(0x933)]){case _0x447958(0x9d9):if(currentMode===_0x447958(0x622)){const _0xbead2=_0x1cf2fe[_0x447958(0x511)]?Object[_0x447958(0x94d)](_0x1cf2fe[_0x447958(0x511)]):[],_0x495cf7=_0xbead2[_0x447958(0x573)](([_0x5df2b9,_0x485316])=>_0x485316[_0x447958(0x933)]===_0x447958(0x134)),_0x441690=document[_0x447958(0x3c4)](_0x447958(0x17b));if(_0x441690)_0x441690[_0x447958(0x60f)]=_0x495cf7[_0x447958(0x6e5)];const _0x1d561f=document[_0x447958(0x3c4)](_0x447958(0x340));_0x1d561f&&(_0x1d561f[_0x447958(0x368)]=_0x495cf7[_0x447958(0x749)](([_0x57b673,_0x51b252])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x57b673+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x57b673+_0x447958(0x14b))[_0x447958(0x25a)](''));const _0x467348=document[_0x447958(0x3c4)]('start-game-btn');_0x467348&&(_0x467348['disabled']=_0x495cf7['length']===0x0);}else showView('live-game'),liveGameView[_0x447958(0x368)]=_0x447958(0x6b1)+currentStudentName+_0x447958(0x1bb);break;case'question':const _0x59eab9=_0x1cf2fe[_0x447958(0x169)];if(currentQuizData&&currentQuizData['questions'][_0x59eab9]){const _0x5d7a47=currentQuizData[_0x447958(0x47a)][_0x59eab9],_0x514987=_0x1cf2fe[_0x447958(0x77f)]||_0x447958(0x605);switch(_0x514987){case _0x447958(0x2a5):currentMode===_0x447958(0x622)?showAdminSummaryView(_0x1cf2fe,_0x5d7a47):showPlayerSummaryView(_0x1cf2fe,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x1cf2fe);break;case _0x447958(0x605):default:if(currentMode===_0x447958(0x622)){const _0x221b65=writeBatch(db);let _0x4bf96b=![];Object[_0x447958(0x94d)](_0x1cf2fe['players'])['forEach'](([_0x39e0e4,_0x402c55])=>{const _0x403571=_0x447958;if(_0x402c55['status']===_0x403571(0x134)&&_0x402c55['submittedAt']&&!_0x402c55[_0x403571(0x32e)]){_0x4bf96b=!![];const _0x4eefef=_0x402c55[_0x403571(0x5c1)][_0x403571(0x8c7)]()-_0x1cf2fe['questionDisplayedAt'][_0x403571(0x8c7)]();let _0x1e3541=0x0;if(_0x402c55['lastAnswerCorrect']){const _0x134693=0x3e8,_0xd44a3c=0x1f4,_0x2fd327=0x4e20;let _0x276873=_0x4eefef/_0x2fd327;if(_0x276873>0x1)_0x276873=0x1;const _0x5f4b61=Math[_0x403571(0x3b3)](_0x276873*_0xd44a3c);_0x1e3541=_0x134693-_0x5f4b61;}const _0x11682c=doc(db,_0x403571(0x5a5)+appId+_0x403571(0x31e),currentLiveGameId);_0x221b65[_0x403571(0x27f)](_0x11682c,{[_0x403571(0x562)+_0x39e0e4+'.score']:increment(_0x1e3541),[_0x403571(0x562)+_0x39e0e4+_0x403571(0x958)]:_0x1e3541,[_0x403571(0x562)+_0x39e0e4+_0x403571(0x95e)]:!![]});}});_0x4bf96b&&_0x221b65[_0x447958(0xa09)]()[_0x447958(0x766)](_0x4f12b3=>console[_0x447958(0x316)]('Error\x20committing\x20score\x20updates:',_0x4f12b3));lastRenderedAdminQuestionIndex!==_0x59eab9&&(showAdminLiveQuestionView(_0x5d7a47,_0x59eab9,currentQuizData[_0x447958(0x47a)][_0x447958(0x6e5)]),lastRenderedAdminQuestionIndex=_0x59eab9);const _0x405b86=_0x1cf2fe[_0x447958(0x511)]||{},_0x4148ad=Object[_0x447958(0x2da)](_0x405b86)[_0x447958(0x573)](_0x3c4227=>_0x3c4227[_0x447958(0x933)]===_0x447958(0x134)),_0x13c646=_0x4148ad['length'],_0x16b161=_0x4148ad[_0x447958(0x573)](_0x28ba87=>_0x28ba87[_0x447958(0x70d)]===!![])[_0x447958(0x6e5)],_0x46960c=document[_0x447958(0x3c4)](_0x447958(0x97e));if(_0x46960c)_0x46960c[_0x447958(0x60f)]=_0x16b161+'/'+_0x13c646;const _0xd2d22c=document[_0x447958(0x3c4)](_0x447958(0x986));if(_0xd2d22c){let _0x3acb71=Object[_0x447958(0x94d)](_0x405b86)[_0x447958(0x573)](([_0x374344,_0x3cbe4c])=>_0x3cbe4c[_0x447958(0x933)]===_0x447958(0x134))[_0x447958(0x749)](([_0x1d693b,_0x35c5fd])=>{const _0x20f9cf=_0x447958,_0x3b6224=_0x35c5fd[_0x20f9cf(0x70d)]===!![],_0x56b9aa=_0x3b6224?_0x20f9cf(0x1a2):'bg-gray-500',_0x3c183f=_0x3b6224?_0x20f9cf(0x8c0):_0x20f9cf(0x235);return _0x20f9cf(0x2b8)+_0x56b9aa+_0x20f9cf(0x7dc)+_0x3c183f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1d693b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x1d693b+_0x20f9cf(0x436);})[_0x447958(0x25a)]('');_0xd2d22c[_0x447958(0x368)]=_0x3acb71||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x13c646>0x0&&_0x16b161===_0x13c646&&revealAnswerForAdmin(_0x59eab9,currentQuizData[_0x447958(0x47a)]['length']);}else{const _0x48d981=_0x1cf2fe['players'][currentStudentName];_0x48d981&&!_0x48d981['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x5d7a47,_0x59eab9,currentQuizData[_0x447958(0x47a)][_0x447958(0x6e5)]);}break;}}break;case _0x447958(0x430):showPodiumView(_0x1cf2fe['players'],_0x447958(0x373));break;}});}async function handleKickPlayer(_0x3691ac){const _0x49e4ca=_0x389ace;if(!currentLiveGameId||!_0x3691ac)return;const _0x150bd7=doc(db,_0x49e4ca(0x5a5)+appId+_0x49e4ca(0x31e),currentLiveGameId),_0x16aecc={};_0x16aecc[_0x49e4ca(0x562)+_0x3691ac+'.status']=_0x49e4ca(0x2c6);try{await updateDoc(_0x150bd7,_0x16aecc);}catch(_0x5368e1){console[_0x49e4ca(0x316)]('Failed\x20to\x20kick\x20player\x20'+_0x3691ac+':',_0x5368e1),showMessage(_0x49e4ca(0x318));}}function _0x51de(_0xf42dc8,_0x3abfbb){const _0x3fef74=_0x3fef();return _0x51de=function(_0x51de61,_0x18fdc1){_0x51de61=_0x51de61-0xfa;let _0x2039a0=_0x3fef74[_0x51de61];return _0x2039a0;},_0x51de(_0xf42dc8,_0x3abfbb);}async function authenticateUser(){const _0x31605f=_0x389ace;try{typeof __initial_auth_token!==_0x31605f(0x7fb)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x598090){console[_0x31605f(0x316)]('Authentication\x20failed:',_0x598090),showMessage(_0x31605f(0x8a6));}}function showView(_0x16021f){const _0x34ae76=_0x389ace;adminView[_0x34ae76(0x469)][_0x34ae76(0x711)]('hidden'),studentView[_0x34ae76(0x469)][_0x34ae76(0x711)]('hidden'),projectDashboardView[_0x34ae76(0x469)][_0x34ae76(0x711)]('hidden'),projectDetailView[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec)),quizResultsView[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec)),liveGameView[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec)),studentInitialView[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec)),studentJoinGameView[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec)),studentNameSelectionView[_0x34ae76(0x469)][_0x34ae76(0x711)]('hidden'),studentQuizArea[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec)),studentResultArea['classList'][_0x34ae76(0x711)](_0x34ae76(0x5ec)),studentReadingArea[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec));const _0x35c5f8=document[_0x34ae76(0x3c4)](_0x34ae76(0x277)),_0x2b2f9e=document['getElementById']('student-progress-view');if(_0x35c5f8)_0x35c5f8[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec));if(_0x2b2f9e)_0x2b2f9e[_0x34ae76(0x469)][_0x34ae76(0x711)](_0x34ae76(0x5ec));switch(_0x16021f){case'admin-dashboard':adminView[_0x34ae76(0x469)]['remove'](_0x34ae76(0x5ec)),projectDashboardView[_0x34ae76(0x469)][_0x34ae76(0x182)](_0x34ae76(0x5ec));break;case _0x34ae76(0x9e8):adminView[_0x34ae76(0x469)][_0x34ae76(0x182)](_0x34ae76(0x5ec)),projectDetailView[_0x34ae76(0x469)][_0x34ae76(0x182)]('hidden');break;case _0x34ae76(0x6e4):adminView['classList'][_0x34ae76(0x182)]('hidden'),quizResultsView[_0x34ae76(0x469)]['remove']('hidden');break;case'student':studentView['classList'][_0x34ae76(0x182)](_0x34ae76(0x5ec)),studentInitialView[_0x34ae76(0x469)]['remove'](_0x34ae76(0x5ec));break;case'live-game':liveGameView[_0x34ae76(0x469)][_0x34ae76(0x182)](_0x34ae76(0x5ec));break;case _0x34ae76(0x1ca):studentView[_0x34ae76(0x469)][_0x34ae76(0x182)](_0x34ae76(0x5ec));if(_0x35c5f8)_0x35c5f8[_0x34ae76(0x469)][_0x34ae76(0x182)](_0x34ae76(0x5ec));break;case _0x34ae76(0x4a3):studentView['classList'][_0x34ae76(0x182)](_0x34ae76(0x5ec));if(_0x2b2f9e)_0x2b2f9e[_0x34ae76(0x469)]['remove'](_0x34ae76(0x5ec));break;default:studentView[_0x34ae76(0x469)][_0x34ae76(0x182)](_0x34ae76(0x5ec)),studentInitialView[_0x34ae76(0x469)][_0x34ae76(0x182)](_0x34ae76(0x5ec));break;}}function showJoinGameView(){const _0x4648fd=_0x389ace;studentInitialView['classList'][_0x4648fd(0x711)](_0x4648fd(0x5ec)),studentJoinGameView['classList'][_0x4648fd(0x182)](_0x4648fd(0x5ec));}async function handleSaveVisibilitySettings(){const _0x1d57cd=_0x389ace;if(!currentProjectId)return;const _0x5965e8=doc(db,_0x1d57cd(0x5a5)+appId+_0x1d57cd(0x42b),currentProjectId);try{await updateDoc(_0x5965e8,{'settings.showInStudentDashboard':document['getElementById']('show-in-student-dashboard-checkbox')[_0x1d57cd(0x2cd)],'settings.isPasscodeEnabled':document[_0x1d57cd(0x3c4)](_0x1d57cd(0x3b6))[_0x1d57cd(0x2cd)],'settings.passcode':document[_0x1d57cd(0x3c4)]('project-passcode-input')['value'][_0x1d57cd(0x7f5)]()}),showMessage(_0x1d57cd(0x703));}catch(_0x4170ea){console['error'](_0x1d57cd(0x1ff),_0x4170ea),showMessage(_0x1d57cd(0x926));}}function setupEventListeners(){const _0x42dd0b=_0x389ace,_0x2e54cf=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x223)),_0x178cb8=async _0x5f2ff3=>{const _0x4207f6=_0x42dd0b;_0x2e54cf[_0x4207f6(0x469)][_0x4207f6(0x711)]('hidden');const _0x52faab=parseInt(document[_0x4207f6(0x3c4)](_0x4207f6(0x883))[_0x4207f6(0x213)]),_0x45a9fb=doc(db,_0x4207f6(0x5a5)+appId+_0x4207f6(0x29e),currentLiveGameId),_0x487404=await getDoc(_0x45a9fb);if(!_0x487404[_0x4207f6(0x446)]())return;const _0x290380=_0x487404['data'](),_0x3a9db4=_0x290380[_0x4207f6(0x169)],_0x4049e6=_0x290380[_0x4207f6(0x1df)][_0x4207f6(0x47a)][_0x3a9db4],_0x4a40d3=localTeamPlayers[localPlayerTurnIndex];handleSyncAnswerSubmit(_0x52faab,_0x4049e6,_0x290380,_0x4a40d3,_0x5f2ff3);};document[_0x42dd0b(0x3c4)]('confirm-confident')[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>_0x178cb8(!![])),document[_0x42dd0b(0x3c4)]('confirm-not-confident')[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>_0x178cb8(![])),liveGameView[_0x42dd0b(0x199)]('click',_0x33e5c6=>{const _0xae4733=_0x42dd0b,_0x445c7a=_0x33e5c6[_0xae4733(0x3e4)]['closest'](_0xae4733(0x5c4));if(_0x445c7a){const _0x17f1a2=_0x445c7a[_0xae4733(0x5d9)][_0xae4733(0x3ce)];_0x17f1a2&&handleKickPlayerSync(_0x17f1a2);}});const _0x299e88=document[_0x42dd0b(0x3c4)]('confirm-game-start-btn'),_0x58fed1=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x32a));_0x58fed1['addEventListener']('click',()=>{const _0x1f621b=_0x42dd0b;document[_0x1f621b(0x3c4)](_0x1f621b(0x5cb))[_0x1f621b(0x469)][_0x1f621b(0x711)]('hidden');}),_0x299e88[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x31cc54=_0x42dd0b,_0x4cf4dc=document[_0x31cc54(0x3c4)](_0x31cc54(0x413))['value'],_0x58018d=document[_0x31cc54(0x3c4)](_0x31cc54(0x3b2))[_0x31cc54(0x213)],_0x2c558b=document[_0x31cc54(0x3c4)](_0x31cc54(0x762))[_0x31cc54(0x2cd)];document[_0x31cc54(0x3c4)](_0x31cc54(0x5cb))[_0x31cc54(0x469)][_0x31cc54(0x711)](_0x31cc54(0x5ec));switch(_0x58018d){case'live-race':handleStartLiveRace(_0x4cf4dc,_0x2c558b);break;case _0x31cc54(0x438):handleStartTeamQuiz(_0x4cf4dc,_0x2c558b);break;case _0x31cc54(0x592):handleStartGroupMode(_0x4cf4dc,_0x2c558b);break;case _0x31cc54(0x631):handleStartSyncMode(_0x4cf4dc,_0x2c558b);break;}}),document['getElementById']('join-group-activity-btn')['addEventListener'](_0x42dd0b(0x548),handleJoinGroupActivity),liveGameView[_0x42dd0b(0x199)](_0x42dd0b(0x548),_0x1165a8=>{const _0x5c40b3=_0x42dd0b,_0x52d177=_0x1165a8[_0x5c40b3(0x3e4)][_0x5c40b3(0x552)]('.summary-bar-item');document[_0x5c40b3(0x85d)](_0x5c40b3(0x29f))[_0x5c40b3(0x502)](_0x4653ae=>{const _0x519489=_0x5c40b3;(!_0x52d177||_0x4653ae['id']!==_0x52d177[_0x519489(0x5d9)]['tooltipTarget'])&&_0x4653ae[_0x519489(0x469)][_0x519489(0x182)](_0x519489(0x4fb));});if(!_0x52d177)return;const _0x1f8ba9=_0x52d177[_0x5c40b3(0x5d9)]['tooltipTarget'],_0x3739a6=document[_0x5c40b3(0x3c4)](_0x1f8ba9);_0x3739a6&&_0x3739a6[_0x5c40b3(0x469)][_0x5c40b3(0xa13)](_0x5c40b3(0x4fb));}),liveGameView['addEventListener'](_0x42dd0b(0x548),_0x1d3e22=>{const _0x238824=_0x42dd0b;if(_0x1d3e22['target'][_0x238824(0x469)]['contains'](_0x238824(0x98d))){const _0x28cc07=_0x1d3e22[_0x238824(0x3e4)][_0x238824(0x5d9)]['playerName'];_0x28cc07&&handleKickPlayer(_0x28cc07);}}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x809))[_0x42dd0b(0x199)](_0x42dd0b(0x786),()=>document['getElementById'](_0x42dd0b(0x4c5))['classList']['remove'](_0x42dd0b(0x5ec))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x4c5))['addEventListener'](_0x42dd0b(0x548),handleSaveProjectName),document[_0x42dd0b(0x3c4)]('project-title')[_0x42dd0b(0x199)](_0x42dd0b(0x566),_0xf01b06=>{const _0x2cc77d=_0x42dd0b;_0xf01b06['key']===_0x2cc77d(0x271)&&(_0xf01b06['preventDefault'](),_0xf01b06['target'][_0x2cc77d(0x8a2)](),handleSaveProjectName());}),document['getElementById']('bulk-quiz-settings-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x10aea7=_0x42dd0b;document[_0x10aea7(0x3c4)](_0x10aea7(0x860))[_0x10aea7(0x469)]['remove'](_0x10aea7(0x5ec));}),document['getElementById'](_0x42dd0b(0x594))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x1bcacd=_0x42dd0b;document[_0x1bcacd(0x3c4)]('bulk-quiz-settings-modal')[_0x1bcacd(0x469)][_0x1bcacd(0x711)](_0x1bcacd(0x5ec));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x93b))[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleBulkUpdateQuizSettings),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x30e))[_0x42dd0b(0x199)]('click',handleModeSwitch),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x839))[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleUpdateOldQuizzes),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x4ed))[_0x42dd0b(0x199)]('click',handleResetProjectOrder),document[_0x42dd0b(0x3c4)]('save-visibility-settings-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleSaveVisibilitySettings),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x688))[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleAddCustomMathTopic),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x48e))['addEventListener'](_0x42dd0b(0x548),handleSelectAllTopics),document['getElementById'](_0x42dd0b(0x52c))[_0x42dd0b(0x199)]('click',handleDeselectAllTopics),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x90c))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x673))[_0x42dd0b(0x199)]('click',()=>{const _0x573e86=_0x42dd0b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x573e86(0x9e8));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0xa35))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x33a08f=_0x42dd0b;showView(_0x33a08f(0x472));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x63d))[_0x42dd0b(0x199)]('click',()=>{const _0x5694e0=_0x42dd0b;messageModal[_0x5694e0(0x469)][_0x5694e0(0x711)]('hidden'),typeof modalConfirmAction===_0x5694e0(0x4fc)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x42dd0b(0x842))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>createProjectModal[_0x42dd0b(0x469)][_0x42dd0b(0x182)]('hidden')),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x2fd))['addEventListener'](_0x42dd0b(0x548),()=>createProjectModal['classList'][_0x42dd0b(0x711)](_0x42dd0b(0x5ec))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x2e9))['addEventListener'](_0x42dd0b(0x548),()=>adminPasswordModal[_0x42dd0b(0x469)][_0x42dd0b(0x711)]('hidden')),document['getElementById'](_0x42dd0b(0x45f))['addEventListener'](_0x42dd0b(0x548),handleAdminLogin),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x152))[_0x42dd0b(0x199)](_0x42dd0b(0x1be),_0xc81f62=>{const _0x466466=_0x42dd0b;if(_0xc81f62[_0x466466(0x1b8)]===_0x466466(0x271))handleAdminLogin();}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x217))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x277bac=_0x42dd0b;confirmationModal[_0x277bac(0x469)][_0x277bac(0x711)](_0x277bac(0x5ec)),confirmAction=null;}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x515))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x1f4b91=_0x42dd0b;confirmAction&&confirmAction(),confirmationModal[_0x1f4b91(0x469)]['add'](_0x1f4b91(0x5ec)),confirmAction=null;}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x100))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>renameQuizModal[_0x42dd0b(0x469)][_0x42dd0b(0x711)](_0x42dd0b(0x5ec))),document['getElementById']('confirm-rename-quiz-btn')[_0x42dd0b(0x199)]('click',confirmRenameQuiz),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x801))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>moveQuizModal[_0x42dd0b(0x469)][_0x42dd0b(0x711)](_0x42dd0b(0x5ec))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x752))['addEventListener'](_0x42dd0b(0x548),confirmMoveQuiz),document['getElementById'](_0x42dd0b(0x30a))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>quizSettingsModal['classList'][_0x42dd0b(0x711)](_0x42dd0b(0x5ec))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x315))[_0x42dd0b(0x199)]('click',confirmQuizSettings),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x6ed))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>quizStatusModal[_0x42dd0b(0x469)][_0x42dd0b(0x711)](_0x42dd0b(0x5ec))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x877))[_0x42dd0b(0x199)](_0x42dd0b(0x548),confirmQuizStatus);const _0x370f83=document['getElementById'](_0x42dd0b(0x785));document['getElementById']('cancel-export-pdf-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0xb459cd=_0x42dd0b;_0x370f83[_0xb459cd(0x469)][_0xb459cd(0x711)](_0xb459cd(0x5ec));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x633))[_0x42dd0b(0x199)]('click',async()=>{const _0x92078=_0x42dd0b,_0x1dc44f=allQuizzes[_0x92078(0x304)](_0x4d4d9c=>_0x4d4d9c['id']===actionTargetId);_0x1dc44f?(currentQuizData=_0x1dc44f,exportQuizAsWorksheetPDF()):showMessage(_0x92078(0x75b)),_0x370f83[_0x92078(0x469)][_0x92078(0x711)](_0x92078(0x5ec));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0xa38))[_0x42dd0b(0x199)](_0x42dd0b(0x548),async()=>{const _0x5082b8=_0x42dd0b,_0x2722dd=allQuizzes['find'](_0x33dbbe=>_0x33dbbe['id']===actionTargetId);_0x2722dd?(currentQuizData=_0x2722dd,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x370f83['classList'][_0x5082b8(0x711)](_0x5082b8(0x5ec));}),document[_0x42dd0b(0x3c4)]('open-global-live-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),openGlobalLiveModal),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x73d))['addEventListener'](_0x42dd0b(0x548),()=>{const _0x518371=_0x42dd0b;document[_0x518371(0x3c4)](_0x518371(0x251))[_0x518371(0x469)][_0x518371(0x711)](_0x518371(0x5ec)),selectedGlobalQuizId=null;}),document['getElementById'](_0x42dd0b(0x41b))['addEventListener'](_0x42dd0b(0x718),_0x693824=>renderGlobalQuizList(_0x693824['target']['value'])),document['getElementById'](_0x42dd0b(0x1a5))[_0x42dd0b(0x199)]('click',()=>{const _0x58e043=_0x42dd0b,_0x3c39ab=selectedGlobalQuizId;if(!_0x3c39ab)return;document[_0x58e043(0x3c4)](_0x58e043(0x251))['classList'][_0x58e043(0x711)](_0x58e043(0x5ec)),handleStartLiveRace(_0x3c39ab);}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x337))[_0x42dd0b(0x199)](_0x42dd0b(0x718),renderProjects),document[_0x42dd0b(0x3c4)]('project-sort-select')[_0x42dd0b(0x199)]('change',async()=>{const _0x3d43f0=_0x42dd0b,_0x2e7f47=document[_0x3d43f0(0x3c4)]('project-sort-select')[_0x3d43f0(0x213)],_0x5341e1=doc(db,'globalSettings',_0x3d43f0(0xa19));try{await setDoc(_0x5341e1,{'projectSort':_0x2e7f47},{'merge':!![]});}catch(_0x48f3e1){console['error'](_0x3d43f0(0x7a6),_0x48f3e1),showMessage(_0x3d43f0(0x8d9));}}),document[_0x42dd0b(0x3c4)]('quiz-search-input')[_0x42dd0b(0x199)](_0x42dd0b(0x718),renderQuizzes),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x71a))['addEventListener'](_0x42dd0b(0x548),()=>{const _0x1d4d89=_0x42dd0b;globalDashboardSettings['projectView']=_0x1d4d89(0x78d),saveUserPreference(_0x1d4d89(0x93e),_0x1d4d89(0x78d)),renderProjects();}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x9fd))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0xbdabf4=_0x42dd0b;globalDashboardSettings['projectView']=_0xbdabf4(0x74b),saveUserPreference(_0xbdabf4(0x93e),_0xbdabf4(0x74b)),renderProjects();}),manageTab[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>switchProjectTab(_0x42dd0b(0x38f))),resultsTab[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>switchProjectTab(_0x42dd0b(0xa16))),leaderboardTab[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>switchProjectTab(_0x42dd0b(0x659))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x3d9))[_0x42dd0b(0x199)]('click',()=>switchQuizDetailTab(_0x42dd0b(0x253))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x157))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>switchQuizDetailTab('scores')),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x66f))[_0x42dd0b(0x199)]('click',()=>switchQuizDetailTab(_0x42dd0b(0x5ae))),document[_0x42dd0b(0x3c4)]('behavior-log-tab-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>switchQuizDetailTab('behavior-log')),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x8b7))['addEventListener'](_0x42dd0b(0x548),handleAnalyzeClass),generateWorksheetBtn[_0x42dd0b(0x199)]('click',generateWorksheet);const _0x5750c2=document['getElementById'](_0x42dd0b(0x93a)),_0x2c603b=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x819)),_0xc0d422=document['getElementById'](_0x42dd0b(0x3cf)),_0x16fa4f=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x358)),_0xc69c61=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x28e)),_0x77d52e=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x6b4));topicTab[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x9fdd9f=_0x42dd0b;topicTab['classList'][_0x9fdd9f(0x711)]('active'),textTab['classList']['remove'](_0x9fdd9f(0x134)),fileTab[_0x9fdd9f(0x469)][_0x9fdd9f(0x182)](_0x9fdd9f(0x134)),worksheetTab[_0x9fdd9f(0x469)][_0x9fdd9f(0x182)]('active');if(_0x5750c2)_0x5750c2[_0x9fdd9f(0x469)][_0x9fdd9f(0x182)]('active');if(_0xc0d422)_0xc0d422[_0x9fdd9f(0x469)]['remove'](_0x9fdd9f(0x134));if(_0xc69c61)_0xc69c61['classList'][_0x9fdd9f(0x182)](_0x9fdd9f(0x134));topicInputArea['classList'][_0x9fdd9f(0x182)](_0x9fdd9f(0x5ec)),textInputArea[_0x9fdd9f(0x469)][_0x9fdd9f(0x711)](_0x9fdd9f(0x5ec)),fileInputArea['classList'][_0x9fdd9f(0x711)](_0x9fdd9f(0x5ec)),worksheetInputArea['classList'][_0x9fdd9f(0x711)](_0x9fdd9f(0x5ec));if(_0x2c603b)_0x2c603b[_0x9fdd9f(0x469)][_0x9fdd9f(0x711)](_0x9fdd9f(0x5ec));if(_0x16fa4f)_0x16fa4f['classList']['add'](_0x9fdd9f(0x5ec));if(_0x77d52e)_0x77d52e[_0x9fdd9f(0x469)]['add'](_0x9fdd9f(0x5ec));}),textTab[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x585f0f=_0x42dd0b;textTab[_0x585f0f(0x469)][_0x585f0f(0x711)](_0x585f0f(0x134)),topicTab[_0x585f0f(0x469)][_0x585f0f(0x182)]('active'),fileTab[_0x585f0f(0x469)][_0x585f0f(0x182)](_0x585f0f(0x134)),worksheetTab[_0x585f0f(0x469)][_0x585f0f(0x182)]('active');if(_0x5750c2)_0x5750c2[_0x585f0f(0x469)][_0x585f0f(0x182)](_0x585f0f(0x134));if(_0xc0d422)_0xc0d422['classList'][_0x585f0f(0x182)]('active');if(_0xc69c61)_0xc69c61[_0x585f0f(0x469)][_0x585f0f(0x182)]('active');textInputArea['classList'][_0x585f0f(0x182)]('hidden'),topicInputArea['classList']['add'](_0x585f0f(0x5ec)),fileInputArea[_0x585f0f(0x469)][_0x585f0f(0x711)]('hidden'),worksheetInputArea[_0x585f0f(0x469)][_0x585f0f(0x711)](_0x585f0f(0x5ec));if(_0x2c603b)_0x2c603b['classList']['add']('hidden');if(_0x16fa4f)_0x16fa4f[_0x585f0f(0x469)][_0x585f0f(0x711)](_0x585f0f(0x5ec));if(_0x77d52e)_0x77d52e[_0x585f0f(0x469)]['add'](_0x585f0f(0x5ec));}),fileTab[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x33e8e5=_0x42dd0b;fileTab[_0x33e8e5(0x469)][_0x33e8e5(0x711)]('active'),topicTab['classList']['remove'](_0x33e8e5(0x134)),textTab['classList'][_0x33e8e5(0x182)]('active'),worksheetTab['classList']['remove'](_0x33e8e5(0x134));if(_0x5750c2)_0x5750c2[_0x33e8e5(0x469)][_0x33e8e5(0x182)](_0x33e8e5(0x134));if(_0xc0d422)_0xc0d422[_0x33e8e5(0x469)][_0x33e8e5(0x182)](_0x33e8e5(0x134));if(_0xc69c61)_0xc69c61[_0x33e8e5(0x469)]['remove'](_0x33e8e5(0x134));fileInputArea['classList'][_0x33e8e5(0x182)](_0x33e8e5(0x5ec)),topicInputArea[_0x33e8e5(0x469)][_0x33e8e5(0x711)](_0x33e8e5(0x5ec)),textInputArea['classList'][_0x33e8e5(0x711)](_0x33e8e5(0x5ec)),worksheetInputArea[_0x33e8e5(0x469)]['add'](_0x33e8e5(0x5ec));if(_0x2c603b)_0x2c603b['classList']['add'](_0x33e8e5(0x5ec));if(_0x16fa4f)_0x16fa4f['classList'][_0x33e8e5(0x711)]('hidden');if(_0x77d52e)_0x77d52e[_0x33e8e5(0x469)][_0x33e8e5(0x711)]('hidden');}),worksheetTab[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x3af267=_0x42dd0b;worksheetTab['classList'][_0x3af267(0x711)](_0x3af267(0x134)),topicTab[_0x3af267(0x469)][_0x3af267(0x182)](_0x3af267(0x134)),textTab[_0x3af267(0x469)][_0x3af267(0x182)](_0x3af267(0x134)),fileTab[_0x3af267(0x469)]['remove']('active');if(_0x5750c2)_0x5750c2[_0x3af267(0x469)]['remove']('active');if(_0xc0d422)_0xc0d422['classList'][_0x3af267(0x182)](_0x3af267(0x134));if(_0xc69c61)_0xc69c61[_0x3af267(0x469)]['remove'](_0x3af267(0x134));worksheetInputArea[_0x3af267(0x469)][_0x3af267(0x182)](_0x3af267(0x5ec)),topicInputArea[_0x3af267(0x469)][_0x3af267(0x711)](_0x3af267(0x5ec)),textInputArea[_0x3af267(0x469)][_0x3af267(0x711)](_0x3af267(0x5ec)),fileInputArea[_0x3af267(0x469)]['add']('hidden');if(_0x2c603b)_0x2c603b[_0x3af267(0x469)]['add'](_0x3af267(0x5ec));if(_0x16fa4f)_0x16fa4f['classList'][_0x3af267(0x711)](_0x3af267(0x5ec));if(_0x77d52e)_0x77d52e[_0x3af267(0x469)][_0x3af267(0x711)](_0x3af267(0x5ec));});const _0x41764a=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x586)),_0x6fb095=document['getElementById'](_0x42dd0b(0x639));_0x41764a&&_0x41764a['addEventListener'](_0x42dd0b(0x548),()=>{const _0x20742f=_0x42dd0b;topicTab[_0x20742f(0x469)][_0x20742f(0x182)](_0x20742f(0x134)),textTab[_0x20742f(0x469)]['remove']('active'),fileTab['classList'][_0x20742f(0x182)](_0x20742f(0x134)),worksheetTab[_0x20742f(0x469)][_0x20742f(0x182)](_0x20742f(0x134));if(_0x5750c2)_0x5750c2[_0x20742f(0x469)][_0x20742f(0x182)]('active');if(_0xc0d422)_0xc0d422[_0x20742f(0x469)]['remove'](_0x20742f(0x134));if(_0xc69c61)_0xc69c61[_0x20742f(0x469)]['remove'](_0x20742f(0x134));_0x41764a[_0x20742f(0x469)]['add']('active'),topicInputArea['classList'][_0x20742f(0x711)](_0x20742f(0x5ec)),textInputArea['classList'][_0x20742f(0x711)]('hidden'),fileInputArea[_0x20742f(0x469)][_0x20742f(0x711)](_0x20742f(0x5ec)),worksheetInputArea[_0x20742f(0x469)][_0x20742f(0x711)](_0x20742f(0x5ec));if(_0x2c603b)_0x2c603b[_0x20742f(0x469)]['add'](_0x20742f(0x5ec));if(_0x16fa4f)_0x16fa4f[_0x20742f(0x469)][_0x20742f(0x711)](_0x20742f(0x5ec));if(_0x77d52e)_0x77d52e[_0x20742f(0x469)][_0x20742f(0x711)](_0x20742f(0x5ec));_0x6fb095[_0x20742f(0x469)][_0x20742f(0x182)](_0x20742f(0x5ec)),displayQuestionBank();});_0x5750c2&&(_0x5750c2[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x555df2=_0x42dd0b;_0x5750c2[_0x555df2(0x469)][_0x555df2(0x711)](_0x555df2(0x134)),topicTab[_0x555df2(0x469)][_0x555df2(0x182)]('active'),textTab[_0x555df2(0x469)][_0x555df2(0x182)](_0x555df2(0x134)),fileTab['classList']['remove'](_0x555df2(0x134)),worksheetTab[_0x555df2(0x469)][_0x555df2(0x182)](_0x555df2(0x134));if(_0xc0d422)_0xc0d422[_0x555df2(0x469)][_0x555df2(0x182)](_0x555df2(0x134));if(_0xc69c61)_0xc69c61[_0x555df2(0x469)][_0x555df2(0x182)](_0x555df2(0x134));_0x2c603b[_0x555df2(0x469)][_0x555df2(0x182)]('hidden'),topicInputArea['classList'][_0x555df2(0x711)](_0x555df2(0x5ec)),textInputArea[_0x555df2(0x469)][_0x555df2(0x711)](_0x555df2(0x5ec)),fileInputArea[_0x555df2(0x469)][_0x555df2(0x711)](_0x555df2(0x5ec)),worksheetInputArea[_0x555df2(0x469)][_0x555df2(0x711)](_0x555df2(0x5ec));if(_0x16fa4f)_0x16fa4f[_0x555df2(0x469)]['add'](_0x555df2(0x5ec));if(_0x77d52e)_0x77d52e[_0x555df2(0x469)]['add'](_0x555df2(0x5ec));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x640))['addEventListener']('click',handleGenerateFromLink));_0xc0d422&&_0xc0d422[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x218ba8=_0x42dd0b;_0xc0d422[_0x218ba8(0x469)][_0x218ba8(0x711)]('active'),topicTab['classList'][_0x218ba8(0x182)](_0x218ba8(0x134)),textTab[_0x218ba8(0x469)][_0x218ba8(0x182)](_0x218ba8(0x134)),fileTab[_0x218ba8(0x469)][_0x218ba8(0x182)](_0x218ba8(0x134)),worksheetTab[_0x218ba8(0x469)][_0x218ba8(0x182)](_0x218ba8(0x134));if(_0x5750c2)_0x5750c2[_0x218ba8(0x469)]['remove'](_0x218ba8(0x134));if(_0x41764a)_0x41764a[_0x218ba8(0x469)][_0x218ba8(0x182)](_0x218ba8(0x134));if(_0xc69c61)_0xc69c61[_0x218ba8(0x469)]['remove'](_0x218ba8(0x134));_0x16fa4f[_0x218ba8(0x469)][_0x218ba8(0x182)](_0x218ba8(0x5ec)),topicInputArea[_0x218ba8(0x469)][_0x218ba8(0x711)](_0x218ba8(0x5ec)),textInputArea[_0x218ba8(0x469)][_0x218ba8(0x711)](_0x218ba8(0x5ec)),fileInputArea[_0x218ba8(0x469)][_0x218ba8(0x711)](_0x218ba8(0x5ec)),worksheetInputArea['classList'][_0x218ba8(0x711)](_0x218ba8(0x5ec));if(_0x2c603b)_0x2c603b[_0x218ba8(0x469)][_0x218ba8(0x711)](_0x218ba8(0x5ec));if(_0x6fb095)_0x6fb095[_0x218ba8(0x469)][_0x218ba8(0x711)]('hidden');if(_0x77d52e)_0x77d52e['classList'][_0x218ba8(0x711)]('hidden');});_0xc69c61&&_0xc69c61[_0x42dd0b(0x199)]('click',()=>{const _0x180f35=_0x42dd0b;_0xc69c61[_0x180f35(0x469)][_0x180f35(0x711)](_0x180f35(0x134)),topicTab[_0x180f35(0x469)][_0x180f35(0x182)](_0x180f35(0x134)),textTab[_0x180f35(0x469)][_0x180f35(0x182)](_0x180f35(0x134)),fileTab['classList'][_0x180f35(0x182)](_0x180f35(0x134)),worksheetTab['classList'][_0x180f35(0x182)](_0x180f35(0x134));if(_0x5750c2)_0x5750c2[_0x180f35(0x469)][_0x180f35(0x182)](_0x180f35(0x134));if(_0xc0d422)_0xc0d422[_0x180f35(0x469)][_0x180f35(0x182)]('active');if(_0x41764a)_0x41764a['classList']['remove'](_0x180f35(0x134));_0x77d52e[_0x180f35(0x469)]['remove']('hidden'),topicInputArea['classList']['add'](_0x180f35(0x5ec)),textInputArea['classList']['add'](_0x180f35(0x5ec)),fileInputArea[_0x180f35(0x469)][_0x180f35(0x711)](_0x180f35(0x5ec)),worksheetInputArea[_0x180f35(0x469)]['add']('hidden');if(_0x2c603b)_0x2c603b[_0x180f35(0x469)][_0x180f35(0x711)]('hidden');if(_0x16fa4f)_0x16fa4f[_0x180f35(0x469)][_0x180f35(0x711)](_0x180f35(0x5ec));if(_0x6fb095)_0x6fb095[_0x180f35(0x469)][_0x180f35(0x711)](_0x180f35(0x5ec));});const _0x230dd2=document[_0x42dd0b(0x3c4)]('blueprint-upload-input'),_0x2e7eae=document['getElementById'](_0x42dd0b(0x17f));_0x230dd2&&_0x230dd2[_0x42dd0b(0x199)](_0x42dd0b(0x88b),_0x2bb141=>{const _0x2c49e2=_0x42dd0b;_0x2bb141[_0x2c49e2(0x3e4)][_0x2c49e2(0x916)][_0x2c49e2(0x6e5)]>0x0?_0x2e7eae[_0x2c49e2(0x2d5)]=![]:_0x2e7eae[_0x2c49e2(0x2d5)]=!![];});_0x2e7eae&&_0x2e7eae['addEventListener'](_0x42dd0b(0x548),handleGenerateFromBlueprint);const _0x1a469f=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x110)),_0x888f28=document[_0x42dd0b(0x3c4)](_0x42dd0b(0x1ac));_0x1a469f&&_0x1a469f[_0x42dd0b(0x199)]('change',_0x3f96a6=>{const _0x3d5c4e=_0x42dd0b;_0x888f28[_0x3d5c4e(0x2d5)]=_0x3f96a6[_0x3d5c4e(0x3e4)][_0x3d5c4e(0x916)]['length']===0x0;});_0x888f28&&_0x888f28['addEventListener'](_0x42dd0b(0x548),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x42dd0b(0x548),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x2095b6=_0x42dd0b,_0x47116d=document['getElementById']('student-name-select');currentStudentName=_0x47116d['value'];if(!currentStudentName){showMessage(_0x2095b6(0x3fc));return;}try{const _0x2606ab=currentQuizData['id'],_0x13e560=doc(db,_0x2095b6(0x5a5)+appId+_0x2095b6(0x758)+_0x2606ab+_0x2095b6(0x929),currentStudentName);await setDoc(_0x13e560,{'studentName':currentStudentName,'startedAt':new Date()[_0x2095b6(0x92e)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x397bc2){console[_0x2095b6(0x316)](_0x2095b6(0x4bb),_0x397bc2),showMessage(_0x2095b6(0xa4a));return;}studentNameSelectionView[_0x2095b6(0x469)][_0x2095b6(0x711)](_0x2095b6(0x5ec)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x74f))[_0x42dd0b(0x199)](_0x42dd0b(0x548),showJoinGameView),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x510))[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleJoinLiveGame),document['getElementById'](_0x42dd0b(0x9bf))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>showView('student'));const _0x67cf8d=()=>{const _0x239213=_0x42dd0b,_0x38d9d5=document[_0x239213(0x3c4)](_0x239213(0x48b))['textContent'][_0x239213(0x98c)](/[^a-z0-9]/gi,'_')[_0x239213(0x8f8)]();return _0x239213(0x59d)+(_0x38d9d5||'quiz');},_0x2e49b4=document['getElementById'](_0x42dd0b(0x488));_0x2e49b4&&_0x2e49b4[_0x42dd0b(0x199)]('input',_0x5c0854=>{const _0x4c2549=_0x42dd0b,_0x3960cf=_0x5c0854[_0x4c2549(0x3e4)]['value']['toLowerCase']()['trim'](),_0x1117ad=document[_0x4c2549(0x3c4)]('math-topics-checkbox-container'),_0x250cfc=_0x1117ad[_0x4c2549(0x85d)](_0x4c2549(0x1da));_0x250cfc['forEach'](_0x54652f=>{const _0x5f3c55=_0x4c2549;let _0x48a0ae=![];const _0x50b30d=_0x54652f[_0x5f3c55(0x85d)]('.topic-row');_0x50b30d[_0x5f3c55(0x502)](_0x5cca4b=>{const _0x477e12=_0x5f3c55,_0x3bdef5=_0x5cca4b[_0x477e12(0x674)](_0x477e12(0x61d))['textContent'][_0x477e12(0x8f8)]();_0x3bdef5['includes'](_0x3960cf)?(_0x5cca4b[_0x477e12(0x527)][_0x477e12(0xa23)]=_0x477e12(0x3ed),_0x48a0ae=!![]):_0x5cca4b[_0x477e12(0x527)][_0x477e12(0xa23)]=_0x477e12(0x2f0);}),_0x48a0ae?_0x54652f['style'][_0x5f3c55(0xa23)]=_0x5f3c55(0x24b):_0x54652f[_0x5f3c55(0x527)][_0x5f3c55(0xa23)]=_0x5f3c55(0x2f0);});});document[_0x42dd0b(0x3c4)](_0x42dd0b(0x739))['addEventListener']('click',()=>exportTableAsImage(_0x42dd0b(0x8ba),_0x67cf8d())),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x841))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>exportTableAsPDF(_0x42dd0b(0x1de),_0x67cf8d())),document[_0x42dd0b(0x3c4)]('export-word-btn')['addEventListener'](_0x42dd0b(0x548),()=>exportTableAsWord('results-table-container',_0x67cf8d())),document['getElementById'](_0x42dd0b(0x154))[_0x42dd0b(0x199)]('click',()=>exportTableAsExcel('results-table',_0x67cf8d()));const _0xadf81c=()=>{const _0x4cdf1e=_0x42dd0b,_0x58a4bf=document['getElementById'](_0x4cdf1e(0x48b))[_0x4cdf1e(0x60f)][_0x4cdf1e(0x98c)](/[^a-z0-9]/gi,'_')[_0x4cdf1e(0x8f8)]();return _0x4cdf1e(0x7b5)+(_0x58a4bf||'quiz');};document[_0x42dd0b(0x3c4)](_0x42dd0b(0x31f))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>exportTableAsImage(_0x42dd0b(0x375),_0xadf81c())),document[_0x42dd0b(0x3c4)]('export-leaderboard-pdf-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>exportTableAsPDF(_0x42dd0b(0x485),_0xadf81c())),document[_0x42dd0b(0x3c4)]('export-leaderboard-word-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>exportTableAsWord(_0x42dd0b(0x375),_0xadf81c())),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x694))['addEventListener']('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0xadf81c())),projectQuizzesList[_0x42dd0b(0x199)](_0x42dd0b(0x548),async _0x4ad3ff=>{const _0x2102e7=_0x42dd0b,_0x5aec5f=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)](_0x2102e7(0x69b)),_0x292eeb=_0x4ad3ff['target'][_0x2102e7(0x552)](_0x2102e7(0x25b)),_0x1efd72=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)]('.compare-results-btn'),_0x155f41=_0x4ad3ff[_0x2102e7(0x3e4)]['closest'](_0x2102e7(0x918)),_0x2beee0=_0x4ad3ff['target'][_0x2102e7(0x552)](_0x2102e7(0x203)),_0x2de881=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)](_0x2102e7(0x1ea)),_0x51e693=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)](_0x2102e7(0x45e)),_0x41b35d=_0x4ad3ff[_0x2102e7(0x3e4)]['closest'](_0x2102e7(0x3b0)),_0x2a05bd=_0x4ad3ff[_0x2102e7(0x3e4)]['closest'](_0x2102e7(0x3ab)),_0x4f34e9=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)]('.rename-quiz-btn'),_0x1549da=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)](_0x2102e7(0x306)),_0x80aee3=_0x4ad3ff['target'][_0x2102e7(0x552)](_0x2102e7(0x9a9)),_0x1b2b71=_0x4ad3ff['target'][_0x2102e7(0x552)](_0x2102e7(0x3bf)),_0x5e775a=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)](_0x2102e7(0xa31)),_0x4d1c1e=_0x4ad3ff['target'][_0x2102e7(0x552)](_0x2102e7(0x38a)),_0x19e767=_0x4ad3ff[_0x2102e7(0x3e4)]['closest'](_0x2102e7(0x175)),_0x57a723=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)](_0x2102e7(0x6ba)),_0x45827f=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)](_0x2102e7(0x7a3)),_0x3f323a=_0x4ad3ff[_0x2102e7(0x3e4)]['closest'](_0x2102e7(0x91e)),_0x23b571=_0x4ad3ff[_0x2102e7(0x3e4)]['closest']('.toggle-actions-btn'),_0x496095=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)]('.generate-easy-version-btn'),_0x54e168=_0x4ad3ff['target'][_0x2102e7(0x552)](_0x2102e7(0x369)),_0x364ba0=_0x4ad3ff[_0x2102e7(0x3e4)][_0x2102e7(0x552)]('.start-live-race-btn');if(_0x54e168){const _0x56cea4=_0x54e168['dataset'][_0x2102e7(0x21c)],_0x32da33=_0x54e168[_0x2102e7(0x5d9)][_0x2102e7(0x284)],_0x55ebfb=allQuizzes[_0x2102e7(0x304)](_0x2d6a4f=>_0x2d6a4f['id']===_0x56cea4);_0x55ebfb&&showGameStartConfirmationModal(_0x56cea4,_0x32da33,_0x55ebfb[_0x2102e7(0x3d0)]);}else{if(_0x364ba0){const _0x4b2141=_0x364ba0[_0x2102e7(0x5d9)]['quizId'];handleStartLiveRace(_0x4b2141);}else{if(_0x23b571){const _0x3c2b21=_0x23b571[_0x2102e7(0x5d9)][_0x2102e7(0x21c)],_0x3ff7ec=document[_0x2102e7(0x3c4)](_0x2102e7(0x261)+_0x3c2b21);_0x3ff7ec&&_0x3ff7ec[_0x2102e7(0x469)][_0x2102e7(0xa13)]('hidden');}else{if(_0x292eeb){const _0x37d66=_0x292eeb[_0x2102e7(0x5d9)][_0x2102e7(0x21c)],_0x10fa1c=allQuizzes['find'](_0x582255=>_0x582255['id']===_0x37d66);_0x10fa1c&&handleGenerateParallelPostTest(_0x10fa1c);}else{if(_0x1efd72)handleCompareResults(_0x1efd72['dataset']['quizId'],_0x1efd72['dataset'][_0x2102e7(0x153)]);else{if(_0x155f41){const _0x41f087=_0x155f41[_0x2102e7(0x5d9)][_0x2102e7(0x21c)],_0x46add2=allQuizzes[_0x2102e7(0x304)](_0x3f77ae=>_0x3f77ae['id']===_0x41f087);_0x46add2&&_0x46add2['lessonPlan']?(displayLessonPlan(_0x46add2[_0x2102e7(0x722)],_0x46add2),showConfirmation(_0x2102e7(0x93f),()=>handleGenerateLessonPlan(_0x41f087)),document[_0x2102e7(0x3c4)](_0x2102e7(0x3ef))[_0x2102e7(0x674)]('h3')['textContent']=_0x2102e7(0x4a4),document['getElementById'](_0x2102e7(0x515))[_0x2102e7(0x60f)]='สร้างใหม่'):handleGenerateLessonPlan(_0x41f087);}else{if(_0x2beee0)handleToggleStarQuiz(_0x2beee0[_0x2102e7(0x5d9)][_0x2102e7(0x21c)]);else{if(_0x2de881)copyTextToClipboard(_0x2de881[_0x2102e7(0x5d9)][_0x2102e7(0x21c)],_0x2102e7(0x348));else{if(_0x51e693)handleOpenQuizEditor(_0x51e693[_0x2102e7(0x5d9)]['quizId']);else{if(_0x41b35d)handleQuizSettings(_0x41b35d['dataset'][_0x2102e7(0x21c)]);else{if(_0x2a05bd)handleDuplicateQuiz(_0x2a05bd['dataset'][_0x2102e7(0x21c)]);else{if(_0x4f34e9)handleRenameQuiz(_0x4f34e9[_0x2102e7(0x5d9)]['quizId'],_0x4f34e9[_0x2102e7(0x5d9)][_0x2102e7(0x3d0)]);else{if(_0x1549da){const _0x18e30a=_0x1549da[_0x2102e7(0x5d9)]['quizId'],_0x929a8a=allQuizzes[_0x2102e7(0x304)](_0x28b6d9=>_0x28b6d9['id']===_0x18e30a);_0x929a8a&&handleGenerateParallelFromBank(_0x929a8a);}else{if(_0x80aee3)handleMoveQuiz(_0x80aee3[_0x2102e7(0x5d9)][_0x2102e7(0x21c)]);else{if(_0x1b2b71)handleManualQuizPairing(_0x1b2b71[_0x2102e7(0x5d9)][_0x2102e7(0x21c)]);else{if(_0x5e775a)handleUnpairQuiz(_0x5e775a[_0x2102e7(0x5d9)][_0x2102e7(0x21c)]);else{if(_0x4d1c1e){const _0x34f442=_0x4d1c1e[_0x2102e7(0x5d9)]['quizId'],_0x2e1e53=allQuizzes[_0x2102e7(0x304)](_0xb94443=>_0xb94443['id']===_0x34f442);if(_0x2e1e53)startPresentation(_0x2e1e53);}else{if(_0x19e767){const _0x1583cf=_0x19e767['dataset'][_0x2102e7(0x21c)],_0x3ab9e0=allQuizzes[_0x2102e7(0x304)](_0x804e92=>_0x804e92['id']===_0x1583cf);_0x3ab9e0&&(currentQuizData=_0x3ab9e0,startAdminTest());}else{if(_0x57a723)actionTargetId=_0x57a723[_0x2102e7(0x5d9)][_0x2102e7(0x21c)],document[_0x2102e7(0x3c4)]('export-pdf-modal')[_0x2102e7(0x469)][_0x2102e7(0x182)](_0x2102e7(0x5ec));else{if(_0x45827f)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x45827f[_0x2102e7(0x5d9)]['topic']+_0x2102e7(0x5bd),()=>handleDeleteQuiz(_0x45827f['dataset'][_0x2102e7(0x21c)]));else{if(_0x3f323a)handleQuizStatus(_0x3f323a[_0x2102e7(0x5d9)][_0x2102e7(0x21c)]);else{if(_0x496095)handleGenerateEasyVersionQuiz(_0x496095[_0x2102e7(0x5d9)][_0x2102e7(0x21c)]);else _0x5aec5f&&showQuizDetailView(_0x5aec5f[_0x2102e7(0x5d9)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x9fe))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>showView(_0x42dd0b(0x287))),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x7ad))[_0x42dd0b(0x199)](_0x42dd0b(0x548),confirmAndStartTeamQuiz),document[_0x42dd0b(0x3c4)]('quiz-leaderboard-table')['querySelector'](_0x42dd0b(0x29c))[_0x42dd0b(0x199)](_0x42dd0b(0x548),_0xcbf2a7=>{const _0x29966c=_0x42dd0b,_0x3e87f4=_0xcbf2a7['target'][_0x29966c(0x552)](_0x29966c(0x687));if(!_0x3e87f4||!_0x3e87f4[_0x29966c(0x5d9)][_0x29966c(0x91f)])return;const _0x4cc7b7=_0x3e87f4[_0x29966c(0x5d9)]['sort'];if(quizLeaderboardSortBy===_0x4cc7b7)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x29966c(0x452)?_0x29966c(0x201):_0x29966c(0x452);else{quizLeaderboardSortBy=_0x4cc7b7;const _0x7ed6e5=[_0x29966c(0x3c0)];quizLeaderboardSortOrder=_0x7ed6e5[_0x29966c(0x821)](_0x4cc7b7)?'asc':_0x29966c(0x201);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x29966c(0x3a9));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x4cd))[_0x42dd0b(0x199)](_0x42dd0b(0x548),closePresentation),document['getElementById'](_0x42dd0b(0x509))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x42dd0b(0x371))[_0x42dd0b(0x199)]('click',()=>{const _0x3b604b=_0x42dd0b;currentQuizData[_0x3b604b(0x47a)]&&currentPresentationSlide<currentQuizData[_0x3b604b(0x47a)][_0x3b604b(0x6e5)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x42dd0b(0x199)](_0x42dd0b(0x1fa),()=>{const _0x20681d=_0x42dd0b;!document[_0x20681d(0x64c)]&&(presentationModal[_0x20681d(0x527)][_0x20681d(0xa23)]=_0x20681d(0x2f0));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x76d))[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleDeleteAllStudents),studentList[_0x42dd0b(0x199)]('click',_0x5c947f=>{const _0x19ec3f=_0x42dd0b,_0x3b5fb6=_0x5c947f['target'][_0x19ec3f(0x552)](_0x19ec3f(0x5ce));if(_0x3b5fb6){const _0x53ee2c=_0x3b5fb6[_0x19ec3f(0x5d9)][_0x19ec3f(0x3c0)];handleDeleteStudent(_0x53ee2c);}}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x55c))[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleGenerateFromFileClick),fileUploadInput[_0x42dd0b(0x199)](_0x42dd0b(0x88b),_0x2eaa51=>{const _0x4fb9f5=_0x42dd0b,_0x552c8d=_0x2eaa51[_0x4fb9f5(0x3e4)]['files'][0x0],_0x50fb8d=document[_0x4fb9f5(0x3c4)]('generate-from-file-btn');_0x552c8d?(selectedFile=_0x552c8d,_0x50fb8d[_0x4fb9f5(0x2d5)]=![]):(selectedFile=null,_0x50fb8d[_0x4fb9f5(0x2d5)]=!![]);}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x828))[_0x42dd0b(0x199)](_0x42dd0b(0x88b),_0x2cb74b=>{const _0x103f18=_0x42dd0b,_0x3cbcfd=document[_0x103f18(0x3c4)](_0x103f18(0x1c4)),_0x21fd86=document['getElementById']('timer-duration-label'),_0x5c059b=document['getElementById']('timer-duration-input');_0x2cb74b[_0x103f18(0x3e4)][_0x103f18(0x213)]===_0x103f18(0x2f0)?_0x3cbcfd[_0x103f18(0x469)]['add'](_0x103f18(0x5ec)):(_0x3cbcfd['classList']['remove'](_0x103f18(0x5ec)),_0x2cb74b[_0x103f18(0x3e4)]['value']===_0x103f18(0x9b7)?(_0x21fd86[_0x103f18(0x60f)]=_0x103f18(0x5c5),_0x5c059b[_0x103f18(0x213)]='10'):(_0x21fd86['textContent']=_0x103f18(0x920),_0x5c059b[_0x103f18(0x213)]='30'));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x5fa))[_0x42dd0b(0x199)](_0x42dd0b(0x88b),_0x10bcac=>{const _0x1f5c90=_0x42dd0b,_0xcdfdd6=document['getElementById'](_0x1f5c90(0x737)),_0x5642f6=_0x10bcac[_0x1f5c90(0x3e4)]['value'],_0x48b3b2=document['querySelector'](_0x1f5c90(0xa34)),_0x210957=document['getElementById'](_0x1f5c90(0x49f)),_0x23bab2=document[_0x1f5c90(0x3c4)](_0x1f5c90(0x830));_0x5642f6===_0x1f5c90(0x460)?_0x48b3b2[_0x1f5c90(0x60f)]=_0x1f5c90(0x99b):_0x48b3b2[_0x1f5c90(0x60f)]=_0x1f5c90(0x289),_0x5642f6===_0x1f5c90(0x961)||_0x5642f6===_0x1f5c90(0x67f)||_0x5642f6===_0x1f5c90(0x484)?_0xcdfdd6[_0x1f5c90(0x469)]['remove'](_0x1f5c90(0x5ec)):_0xcdfdd6[_0x1f5c90(0x469)][_0x1f5c90(0x711)](_0x1f5c90(0x5ec)),_0x210957[_0x1f5c90(0x364)]=_0x23bab2[_0x1f5c90(0x213)];}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x830))['addEventListener'](_0x42dd0b(0x718),_0x12d514=>{const _0x75513=_0x42dd0b;document[_0x75513(0x3c4)](_0x75513(0x49f))[_0x75513(0x364)]=_0x12d514['target'][_0x75513(0x213)];}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x18d))[_0x42dd0b(0x199)](_0x42dd0b(0x88b),_0x168401=>{const _0x13f811=_0x42dd0b,_0x139c01=document[_0x13f811(0x3c4)](_0x13f811(0x80a)),_0x1d166a=document[_0x13f811(0x3c4)](_0x13f811(0x355)),_0x47b7b5=document['getElementById'](_0x13f811(0x4ae));_0x168401[_0x13f811(0x3e4)][_0x13f811(0x213)]===_0x13f811(0x2f0)?_0x139c01[_0x13f811(0x469)][_0x13f811(0x711)](_0x13f811(0x5ec)):(_0x139c01[_0x13f811(0x469)]['remove'](_0x13f811(0x5ec)),_0x168401['target'][_0x13f811(0x213)]===_0x13f811(0x9b7)?_0x1d166a['textContent']=_0x13f811(0x5c5):_0x1d166a['textContent']=_0x13f811(0x920));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x365))['addEventListener']('click',()=>{const _0x71a3ce=_0x42dd0b;document[_0x71a3ce(0x3c4)](_0x71a3ce(0x61f))[_0x71a3ce(0x469)][_0x71a3ce(0x711)]('hidden');}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x5b1))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x205080=_0x42dd0b;document[_0x205080(0x3c4)](_0x205080(0x61f))[_0x205080(0x469)][_0x205080(0x711)](_0x205080(0x5ec));}),document['getElementById']('verify-answers-editor-btn')[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleVerifyAnswersInEditor),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x7a4))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0xdc6481=_0x42dd0b;document[_0xdc6481(0x3c4)](_0xdc6481(0x61f))[_0xdc6481(0x469)][_0xdc6481(0x711)](_0xdc6481(0x5ec)),showConfirmation(_0xdc6481(0x791),handleSaveChanges);}),document[_0x42dd0b(0x3c4)]('auto-fix-latex-btn')[_0x42dd0b(0x199)]('click',handleAutoFixLatex);const _0x162c0c=document[_0x42dd0b(0x3c4)]('quiz-editor-questions-container');_0x162c0c&&_0x162c0c[_0x42dd0b(0x199)](_0x42dd0b(0x548),_0x23e8d9=>{const _0x32925d=_0x42dd0b,_0x4d9d27=_0x23e8d9[_0x32925d(0x3e4)][_0x32925d(0x552)](_0x32925d(0x846)),_0x794cbe=_0x23e8d9[_0x32925d(0x3e4)][_0x32925d(0x552)](_0x32925d(0x662));if(_0x4d9d27){const _0x2c69ca=_0x4d9d27[_0x32925d(0x552)](_0x32925d(0x815)),_0xc46d0f=parseInt(_0x2c69ca[_0x32925d(0x5d9)][_0x32925d(0x775)],0xa);handleRegenerateQuestionInEditor(_0xc46d0f);}else{if(_0x794cbe){const _0x189c16=_0x794cbe['closest']('.question-editor-item'),_0x48176c=parseInt(_0x189c16[_0x32925d(0x5d9)][_0x32925d(0x775)],0xa);handleAiFixFormula(_0x48176c);}}});document[_0x42dd0b(0x3c4)](_0x42dd0b(0x29a))[_0x42dd0b(0x199)](_0x42dd0b(0x548),openQuizBankModal),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x797))[_0x42dd0b(0x199)]('click',()=>{const _0x25e3b4=_0x42dd0b;document[_0x25e3b4(0x3c4)](_0x25e3b4(0x138))['classList'][_0x25e3b4(0x711)](_0x25e3b4(0x5ec));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x20a))[_0x42dd0b(0x199)]('input',_0x54b43e=>renderQuizBankList(_0x54b43e['target'][_0x42dd0b(0x213)]));const _0x115056=document[_0x42dd0b(0x3c4)]('math-topics-checkbox-container');if(_0x115056){let _0x5312b6=null;_0x115056[_0x42dd0b(0x199)](_0x42dd0b(0x548),_0xebb180=>{const _0x3b390c=_0x42dd0b,_0x410175=_0xebb180[_0x3b390c(0x3e4)],_0x54441b=_0x410175['closest'](_0x3b390c(0x6ee)),_0x3d7c73=_0x410175[_0x3b390c(0x552)](_0x3b390c(0x5a9)),_0x59a466=_0x410175[_0x3b390c(0x552)]('.save-custom-topic-btn'),_0xfd0c56=_0x410175[_0x3b390c(0x552)](_0x3b390c(0x665));if(_0x3d7c73){_0xebb180[_0x3b390c(0xa30)]();const _0x90c457=_0x3d7c73['dataset']['id'],_0x3d3497=_0x3d7c73[_0x3b390c(0x552)](_0x3b390c(0x38c))['querySelector']('.topic-name-display')[_0x3b390c(0x60f)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x3d3497+'\x22?',()=>handleDeleteCustomTopic(_0x90c457));}else{if(_0x54441b){_0xebb180[_0x3b390c(0xa30)]();_0x5312b6&&toggleTopicEditMode(_0x5312b6,![]);const _0x2bc97c=_0x54441b[_0x3b390c(0x552)](_0x3b390c(0x18c));_0x5312b6=_0x2bc97c,toggleTopicEditMode(_0x2bc97c,!![]);}else{if(_0x59a466){_0xebb180['preventDefault']();const _0x427335=_0x59a466[_0x3b390c(0x5d9)]['id'],_0xd54df6=_0x59a466['closest']('[data-topic-container-id]'),_0x502bfd=_0xd54df6[_0x3b390c(0x674)](_0x3b390c(0xa1c))[_0x3b390c(0x213)];handleUpdateCustomTopic(_0x427335,_0x502bfd),_0x5312b6=null;}else{if(_0xfd0c56){_0xebb180[_0x3b390c(0xa30)]();const _0x54886f=_0xfd0c56[_0x3b390c(0x552)](_0x3b390c(0x18c));toggleTopicEditMode(_0x54886f,![]),_0x5312b6=null;}}}}}),document[_0x42dd0b(0x3c4)]('close-lesson-plan-modal-btn')[_0x42dd0b(0x199)]('click',()=>{const _0x38c1e2=_0x42dd0b;document[_0x38c1e2(0x3c4)]('lesson-plan-modal')['classList']['add'](_0x38c1e2(0x5ec));}),document['getElementById'](_0x42dd0b(0x8b5))['addEventListener'](_0x42dd0b(0x548),()=>{const _0x19a118=_0x42dd0b;document[_0x19a118(0x3c4)](_0x19a118(0x57e))[_0x19a118(0x469)][_0x19a118(0x711)](_0x19a118(0x5ec));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x9e5))[_0x42dd0b(0x199)](_0x42dd0b(0x548),handleExportLessonPDF);}document[_0x42dd0b(0x3c4)]('close-comparison-modal-btn')['addEventListener'](_0x42dd0b(0x548),()=>{const _0x180a9b=_0x42dd0b;document[_0x180a9b(0x3c4)](_0x180a9b(0xa4b))['classList'][_0x180a9b(0x711)](_0x180a9b(0x5ec));}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0x567))[_0x42dd0b(0x199)](_0x42dd0b(0x548),()=>{const _0x948f5e=_0x42dd0b;document[_0x948f5e(0x3c4)](_0x948f5e(0xa4b))[_0x948f5e(0x469)][_0x948f5e(0x711)](_0x948f5e(0x5ec));}),setupComparisonModalTabs(),document[_0x42dd0b(0x13c)][_0x42dd0b(0x199)](_0x42dd0b(0x548),function(_0x16befe){const _0x26db5f=_0x42dd0b;if(_0x16befe[_0x26db5f(0x3e4)][_0x26db5f(0x469)][_0x26db5f(0x4f2)](_0x26db5f(0x79e))){const _0x246a45=unescape(_0x16befe[_0x26db5f(0x3e4)][_0x26db5f(0x5d9)][_0x26db5f(0x3d0)]);startSkillPractice(_0x246a45);}}),document[_0x42dd0b(0x3c4)](_0x42dd0b(0xa53))['addEventListener'](_0x42dd0b(0x548),_0x2ae1ce=>{const _0x617cfd=_0x42dd0b,_0x42acb7=_0x2ae1ce[_0x617cfd(0x3e4)]['closest'](_0x617cfd(0x5dd));if(_0x42acb7){const _0x5d859e=_0x42acb7[_0x617cfd(0x5d9)][_0x617cfd(0x3c0)];handleDeleteSubmission(_0x5d859e);}});}async function handleStartGroupMode(_0x10f913,_0x6579b2=![]){const _0x42c718=_0x389ace,_0x1b0bec=allQuizzes[_0x42c718(0x304)](_0x2597fc=>_0x2597fc['id']===_0x10f913)||allQuizzesGlobal['find'](_0x24ef04=>_0x24ef04['id']===_0x10f913);if(!_0x1b0bec){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1b0bec);const _0x1d3a7b=Math[_0x42c718(0x6bc)](0x3e8+Math[_0x42c718(0xa27)]()*0x2328)['toString']();try{const _0x403126=await addDoc(collection(db,'artifacts/'+appId+_0x42c718(0x7be)),{'quizId':_0x1b0bec['id'],'projectId':_0x1b0bec[_0x42c718(0x7a0)],'status':_0x42c718(0x9d9),'pin':_0x1d3a7b,'mode':_0x42c718(0x592),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x6579b2});currentTeamQuizId=_0x403126['id'],showView(_0x42c718(0x831)),renderAdminTeamQuizDashboard(_0x1d3a7b,_0x1b0bec[_0x42c718(0x3d0)],_0x42c718(0x592)),listenForTeamQuizUpdates();}catch(_0x476e71){console[_0x42c718(0x316)](_0x42c718(0x8c8),_0x476e71),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0xa5d45b=_0x389ace;studentInitialView[_0xa5d45b(0x469)][_0xa5d45b(0x711)](_0xa5d45b(0x5ec)),document[_0xa5d45b(0x3c4)](_0xa5d45b(0x176))['classList'][_0xa5d45b(0x182)](_0xa5d45b(0x5ec));const _0x3d7f67=document[_0xa5d45b(0x3c4)]('progress-project-select'),_0x1e8468=document[_0xa5d45b(0x3c4)](_0xa5d45b(0x191)),_0x3cb960=document[_0xa5d45b(0x3c4)]('student-progress-content');_0x3cb960[_0xa5d45b(0x368)]=_0xa5d45b(0x6d5),_0x1e8468[_0xa5d45b(0x368)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1e8468[_0xa5d45b(0x2d5)]=!![],_0x3d7f67[_0xa5d45b(0x368)]=_0xa5d45b(0x493);if(allProjects[_0xa5d45b(0x6e5)]===0x0){const _0x3a1d51=collection(db,_0xa5d45b(0x5a5)+appId+'/public/data/projects'),_0x375d92=await getDocs(_0x3a1d51);allProjects=_0x375d92[_0xa5d45b(0x768)][_0xa5d45b(0x749)](_0x229205=>({'id':_0x229205['id'],..._0x229205['data']()}));}const _0x54e458=allProjects['filter'](_0x2a1046=>_0x2a1046[_0xa5d45b(0x4a1)]?.[_0xa5d45b(0x3ae)]!==![]);_0x54e458['sort']((_0x24e592,_0x2e407a)=>_0x24e592[_0xa5d45b(0x3a1)][_0xa5d45b(0x3c6)](_0x2e407a[_0xa5d45b(0x3a1)],'th')),_0x3d7f67[_0xa5d45b(0x368)]=_0xa5d45b(0x6ae)+_0x54e458[_0xa5d45b(0x749)](_0xf3ba29=>_0xa5d45b(0x5d5)+_0xf3ba29['id']+'\x22>'+_0xf3ba29[_0xa5d45b(0x3a1)]+'</option>')[_0xa5d45b(0x25a)](''),_0x3d7f67[_0xa5d45b(0x390)]=()=>{const _0x1168af=_0xa5d45b,_0xfbdff6=_0x1e8468[_0x1168af(0x213)],_0x237dd1=_0x3d7f67[_0x1168af(0x213)];_0x1e8468[_0x1168af(0x2d5)]=!![],_0x1e8468['innerHTML']=_0x1168af(0x895),_0x3cb960[_0x1168af(0x368)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x237dd1)return;const _0x1e8a2d=allProjects[_0x1168af(0x304)](_0x70315=>_0x70315['id']===_0x237dd1);if(!_0x1e8a2d||!_0x1e8a2d['students'])return;const _0x12f428=()=>{const _0x7c76d8=_0x1168af;_0x1e8468['innerHTML']=_0x7c76d8(0x895)+_0x1e8a2d['students'][_0x7c76d8(0x749)](_0x42bc3a=>_0x7c76d8(0x5d5)+_0x42bc3a+'\x22>'+_0x42bc3a+_0x7c76d8(0x95d))[_0x7c76d8(0x25a)](''),_0x1e8468[_0x7c76d8(0x2d5)]=![];const _0x65106=Array[_0x7c76d8(0x194)](_0x1e8468[_0x7c76d8(0x237)])['map'](_0x467b52=>_0x467b52[_0x7c76d8(0x213)]);if(_0xfbdff6&&_0x65106[_0x7c76d8(0x821)](_0xfbdff6))_0x1e8468[_0x7c76d8(0x213)]=_0xfbdff6,_0x1e8468['dispatchEvent'](new Event(_0x7c76d8(0x88b)));else _0x1e8a2d[_0x7c76d8(0x2ec)]['length']===0x1&&(_0x1e8468['value']=_0x1e8a2d['students'][0x0],_0x1e8468[_0x7c76d8(0x20b)](new Event(_0x7c76d8(0x88b))));};if(_0x1e8a2d[_0x1168af(0x4a1)]?.['isPasscodeEnabled']){if(sessionStorage[_0x1168af(0x5bf)](_0x1168af(0x7f0)+_0x237dd1)===_0x1168af(0x407)){_0x12f428();return;}const _0x39a2af=document['getElementById'](_0x1168af(0x428)),_0x23c4d8=document[_0x1168af(0x3c4)](_0x1168af(0x274)),_0x2b9bd2=document[_0x1168af(0x3c4)]('cancel-passcode-btn'),_0x4a621a=document[_0x1168af(0x3c4)](_0x1168af(0x326)),_0x357a40=document[_0x1168af(0x3c4)](_0x1168af(0x39a));document[_0x1168af(0x3c4)](_0x1168af(0x3cc))[_0x1168af(0x60f)]=_0x1168af(0x31b)+_0x1e8a2d[_0x1168af(0x3a1)],_0x4a621a['value']='',_0x357a40[_0x1168af(0x469)][_0x1168af(0x711)]('hidden'),_0x39a2af['classList'][_0x1168af(0x182)]('hidden');const _0x19178d=()=>{const _0x5d887d=_0x1168af,_0x251a14=_0x4a621a[_0x5d887d(0x213)]['trim']();_0x251a14===_0x1e8a2d['settings']['passcode']?(sessionStorage[_0x5d887d(0x7f9)](_0x5d887d(0x7f0)+_0x237dd1,_0x5d887d(0x407)),_0x39a2af[_0x5d887d(0x469)][_0x5d887d(0x711)](_0x5d887d(0x5ec)),_0x12f428(),_0x23c4d8[_0x5d887d(0x293)]('click',_0x19178d)):_0x357a40[_0x5d887d(0x469)][_0x5d887d(0x182)](_0x5d887d(0x5ec));};_0x23c4d8[_0x1168af(0x39d)]=_0x19178d,_0x2b9bd2[_0x1168af(0x39d)]=()=>{const _0x214b64=_0x1168af;_0x39a2af['classList'][_0x214b64(0x711)](_0x214b64(0x5ec)),_0x3d7f67[_0x214b64(0x213)]='',_0x23c4d8['removeEventListener']('click',_0x19178d);};}else _0x12f428();},_0x1e8468['onchange']=()=>{const _0x2131ac=_0x3d7f67['value'],_0x694779=_0x1e8468['value'];_0x2131ac&&_0x694779&&renderStudentProgressDashboard(_0x2131ac,_0x694779);};}async function confirmAndJoinSyncGame(){const _0x5bd017=_0x389ace,_0x332d43=Array[_0x5bd017(0x194)](document[_0x5bd017(0x85d)]('input[name=\x22team_player\x22]:checked'))[_0x5bd017(0x749)](_0x12e7a0=>_0x12e7a0['value']);if(_0x332d43[_0x5bd017(0x6e5)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x332d43,localPlayerTurnIndex=0x0;const _0x4ee528=doc(db,'artifacts/'+appId+_0x5bd017(0x29e),currentLiveGameId),_0x15212a={};_0x332d43[_0x5bd017(0x502)](_0x273331=>{const _0x2d20fa=_0x5bd017;_0x15212a[_0x2d20fa(0x562)+_0x273331]={'name':_0x273331,'score':0x0,'answered':![]};});try{await updateDoc(_0x4ee528,_0x15212a),document[_0x5bd017(0x3c4)]('student-team-selection-view')['classList']['add']('hidden'),currentStudentName=_0x332d43[0x0],listenForSyncGameUpdates();const _0x25bd8c={'gameId':currentLiveGameId,'mode':_0x5bd017(0x631),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x5bd017(0x8f5),JSON['stringify'](_0x25bd8c));}catch(_0xe96822){console[_0x5bd017(0x316)](_0x5bd017(0x49d),_0xe96822),showMessage(_0x5bd017(0x249));}}async function resumeActiveGameSession(){const _0x5451e7=_0x389ace,_0x382c7c=sessionStorage['getItem'](_0x5451e7(0x8f5));if(!_0x382c7c)return;const _0x3c0402=JSON['parse'](_0x382c7c),{gameId:_0x25ccb0,mode:_0x524e94,players:_0x12d89e,turnIndex:_0x587ab5}=_0x3c0402;try{let _0xe0015c,_0x51b05f;_0x524e94===_0x5451e7(0x631)?_0xe0015c=doc(db,_0x5451e7(0x5a5)+appId+_0x5451e7(0x29e),_0x25ccb0):_0xe0015c=doc(db,_0x5451e7(0x5a5)+appId+_0x5451e7(0x7be),_0x25ccb0);_0x51b05f=await getDoc(_0xe0015c);if(!_0x51b05f[_0x5451e7(0x446)]()||_0x51b05f[_0x5451e7(0x47e)]()['status']===_0x5451e7(0x445)||_0x51b05f[_0x5451e7(0x47e)]()[_0x5451e7(0x933)]===_0x5451e7(0x430)){sessionStorage[_0x5451e7(0x833)](_0x5451e7(0x8f5));return;}console[_0x5451e7(0x361)]('กำลังกลับเข้าสู่เกม\x20'+_0x524e94+_0x5451e7(0x670)+_0x25ccb0+')'),localTeamPlayers=_0x12d89e,localPlayerTurnIndex=_0x587ab5;if(_0x524e94===_0x5451e7(0x631))currentLiveGameId=_0x25ccb0,currentStudentName=_0x12d89e[0x0],showView(_0x5451e7(0x831)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x25ccb0;const _0x15ae57=_0x51b05f[_0x5451e7(0x47e)](),_0x4a0a8f=doc(db,'artifacts/'+appId+_0x5451e7(0x405),_0x15ae57[_0x5451e7(0x21c)]),_0x1f31ec=await getDoc(_0x4a0a8f);_0x1f31ec[_0x5451e7(0x446)]()&&(currentQuizData=getShuffledQuiz({'id':_0x1f31ec['id'],..._0x1f31ec['data']()}),showView(_0x5451e7(0x287)),studentInitialView[_0x5451e7(0x469)][_0x5451e7(0x711)](_0x5451e7(0x5ec)),renderTeamQuizQuestion());}}catch(_0x590df6){console[_0x5451e7(0x316)](_0x5451e7(0x1a8),_0x590df6),sessionStorage[_0x5451e7(0x833)](_0x5451e7(0x8f5));}}async function handleKickPlayerSync(_0x15ccdd){const _0x9b76a1=_0x389ace;if(!currentLiveGameId||!_0x15ccdd)return;const _0x1ffdf0=doc(db,_0x9b76a1(0x5a5)+appId+'/public/data/syncGames',currentLiveGameId),_0x47a0b3={};_0x47a0b3['players.'+_0x15ccdd+_0x9b76a1(0x667)]=_0x9b76a1(0x2c6);try{await updateDoc(_0x1ffdf0,_0x47a0b3);}catch(_0x3ee839){console[_0x9b76a1(0x316)](_0x9b76a1(0x8ff)+_0x15ccdd+_0x9b76a1(0x461),_0x3ee839),showMessage(_0x9b76a1(0x318));}}async function renderStudentProgressDashboard(_0x1fd528,_0x2f35e1){const _0x27fe47=_0x389ace,_0x5ca986=document[_0x27fe47(0x3c4)](_0x27fe47(0x84b));_0x5ca986[_0x27fe47(0x368)]=_0x27fe47(0x58e);try{const _0x3b5c11=collection(db,_0x27fe47(0x5a5)+appId+_0x27fe47(0x405)),_0x562291=query(_0x3b5c11,where(_0x27fe47(0x7a0),'==',_0x1fd528)),_0x4b59ec=await getDocs(_0x562291),_0x18f7ca=_0x4b59ec[_0x27fe47(0x768)]['map'](_0x4ebe47=>({'id':_0x4ebe47['id'],..._0x4ebe47[_0x27fe47(0x47e)]()})),_0x523189=_0x18f7ca[_0x27fe47(0x749)](_0x6f63cd=>getDoc(doc(db,'artifacts/'+appId+_0x27fe47(0x758)+_0x6f63cd['id']+'/submissions',_0x2f35e1))),_0x215203=await Promise['all'](_0x523189),_0x42c1fe=_0x215203[_0x27fe47(0x573)](_0x140abd=>_0x140abd[_0x27fe47(0x446)]())['map'](_0x1b4403=>({'quizId':_0x1b4403[_0x27fe47(0x53d)][_0x27fe47(0x1bc)][_0x27fe47(0x1bc)]['id'],..._0x1b4403[_0x27fe47(0x47e)]()}));if(_0x42c1fe['length']===0x0){_0x5ca986[_0x27fe47(0x368)]=_0x27fe47(0x506);return;}let _0x462d63=_0x27fe47(0x5f3);_0x42c1fe[_0x27fe47(0x502)](_0x13d147=>{const _0x535800=_0x27fe47,_0x45d54f=_0x18f7ca['find'](_0x16f2ef=>_0x16f2ef['id']===_0x13d147[_0x535800(0x21c)]),_0x341d6a=_0x45d54f['settings']?.[_0x535800(0x671)]||_0x535800(0x382),_0x520c1c=_0x45d54f[_0x535800(0x4a1)]?.['passingScore']??0x0,_0x17316d=_0x13d147['bestScore']>=_0x520c1c;let _0x39122b='',_0x39b01f=_0x535800(0xfd);switch(_0x341d6a){case _0x535800(0x382):case _0x535800(0x546):_0x39b01f=_0x17316d?_0x535800(0x8f3):_0x535800(0x6c2),_0x39122b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x17316d?_0x535800(0x70b):_0x535800(0x24d))+'\x22>'+_0x13d147[_0x535800(0x25c)]+_0x535800(0x3ff)+_0x13d147[_0x535800(0x8ec)]+_0x535800(0x735)+(_0x17316d?_0x535800(0x84f):'bg-red-200\x20text-red-800')+'\x22>'+(_0x17316d?_0x535800(0x6cc):_0x535800(0xa4e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x535800(0x35c):_0x39b01f=_0x17316d?_0x535800(0x8f3):_0x535800(0x6c2),_0x39122b=_0x535800(0xa39)+(_0x17316d?_0x535800(0x84f):_0x535800(0x8ef))+'\x22>'+(_0x17316d?'ผ่าน':_0x535800(0xa4e))+_0x535800(0xa06);break;case _0x535800(0x679):_0x39b01f=_0x535800(0x851),_0x39122b=_0x535800(0x28c);break;}_0x462d63+=_0x535800(0x204)+_0x39b01f+_0x535800(0x7eb)+_0x45d54f[_0x535800(0x3d0)]+_0x535800(0x85a)+_0x13d147['attempts'][_0x535800(0x6e5)]+_0x535800(0x12c)+new Date(_0x13d147['latestSubmittedAt'])[_0x535800(0x9dc)]('th-TH')+_0x535800(0x6a6)+_0x39122b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x462d63+='</div>',_0x5ca986[_0x27fe47(0x368)]=_0x462d63;}catch(_0x489681){console[_0x27fe47(0x316)]('Error\x20rendering\x20student\x20progress:',_0x489681),_0x5ca986[_0x27fe47(0x368)]=_0x27fe47(0x218);}}function setupStudentProgressListeners(){const _0x1a64ae=_0x389ace;document['getElementById'](_0x1a64ae(0x88c))[_0x1a64ae(0x199)]('click',showStudentProgressView),document[_0x1a64ae(0x3c4)]('back-to-student-home-btn')[_0x1a64ae(0x199)](_0x1a64ae(0x548),()=>{const _0x8a2b1=_0x1a64ae;document[_0x8a2b1(0x3c4)](_0x8a2b1(0x176))[_0x8a2b1(0x469)][_0x8a2b1(0x711)](_0x8a2b1(0x5ec)),document[_0x8a2b1(0x3c4)]('student-initial-view')[_0x8a2b1(0x469)]['remove'](_0x8a2b1(0x5ec));});}async function startSkillPractice(_0x2cde95){const _0x2f41e4=_0x389ace;studentResultArea['classList'][_0x2f41e4(0x711)]('hidden'),studentQuizArea['innerHTML']=_0x2f41e4(0x4d8),studentQuizArea[_0x2f41e4(0x469)]['remove'](_0x2f41e4(0x5ec));try{const _0x58c2a3=await getStandardizedTopic(_0x2cde95);console[_0x2f41e4(0x361)](_0x2f41e4(0x6e0)+_0x2cde95+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x58c2a3+'\x22'),studentQuizArea[_0x2f41e4(0x674)]('p')['textContent']=_0x2f41e4(0x480)+_0x58c2a3+_0x2f41e4(0x971);const _0xfabcd0=collection(db,_0x2f41e4(0x5a5)+appId+_0x2f41e4(0x9a2)),_0x41f758=query(_0xfabcd0,where(_0x2f41e4(0x3d0),'==',_0x58c2a3)),_0x2c8091=await getDocs(_0x41f758);if(_0x2c8091[_0x2f41e4(0x768)][_0x2f41e4(0x6e5)]>=0x3){console['log'](_0x2f41e4(0x6e6)+_0x2c8091[_0x2f41e4(0x768)][_0x2f41e4(0x6e5)]+_0x2f41e4(0x697)+_0x58c2a3+_0x2f41e4(0x389));let _0x5175a0=_0x2c8091[_0x2f41e4(0x768)][_0x2f41e4(0x749)](_0x4f2109=>_0x4f2109[_0x2f41e4(0x47e)]());shuffleArray(_0x5175a0);const _0x257390={'topic':_0x58c2a3,'questions':_0x5175a0[_0x2f41e4(0x41d)](0x0,0x3)};displaySkillPracticeDrill(_0x257390);}else{console[_0x2f41e4(0x361)](_0x2f41e4(0x554)+_0x58c2a3+_0x2f41e4(0x385));const _0x5ea7e6=await generatePracticeQuestions(_0x58c2a3);await saveDrillToPracticeBank(_0x5ea7e6,_0x58c2a3),displaySkillPracticeDrill(_0x5ea7e6);}}catch(_0x35a0a3){console[_0x2f41e4(0x316)](_0x2f41e4(0x8c3),_0x35a0a3),showMessage(_0x2f41e4(0xa44)),studentQuizArea[_0x2f41e4(0x469)][_0x2f41e4(0x711)]('hidden'),studentResultArea['classList'][_0x2f41e4(0x182)]('hidden');}}async function saveDrillToPracticeBank(_0x3da952,_0x5d2137){const _0x1de19e=_0x389ace,_0x219ca6=collection(db,_0x1de19e(0x5a5)+appId+_0x1de19e(0x9a2)),_0x4cbe5b=writeBatch(db);_0x3da952[_0x1de19e(0x47a)]['forEach'](_0x55a281=>{const _0x2eaa7c=_0x1de19e,_0xe3f0f3=doc(_0x219ca6);_0x4cbe5b['set'](_0xe3f0f3,{'topic':_0x5d2137,'questionText':_0x55a281[_0x2eaa7c(0x47b)],'options':_0x55a281[_0x2eaa7c(0x237)],'correctAnswerIndex':_0x55a281['correctAnswerIndex'],'explanation':_0x55a281[_0x2eaa7c(0x655)],'createdAt':serverTimestamp()});});try{await _0x4cbe5b[_0x1de19e(0xa09)](),console[_0x1de19e(0x361)](_0x1de19e(0x989)+_0x3da952[_0x1de19e(0x47a)][_0x1de19e(0x6e5)]+_0x1de19e(0x4d9));}catch(_0x4895ec){console[_0x1de19e(0x316)](_0x1de19e(0x3db),_0x4895ec);}}async function getStandardizedTopic(_0x489e71){const _0x4acd96=_0x389ace,_0xe07908=_0x4acd96(0x4d4)+_0x489e71+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x25f3e7={'type':_0x4acd96(0xa07),'properties':{'standardTopic':{'type':_0x4acd96(0x966)}},'required':[_0x4acd96(0x848)]};try{const _0x362271=await callAnalysisApi(_0xe07908,_0x25f3e7);return _0x362271['standardTopic'];}catch(_0x547f9c){return console[_0x4acd96(0x316)](_0x4acd96(0xa36),_0x547f9c),_0x489e71;}}async function handleGenerateEasyVersionQuiz(_0x29e4dd){const _0x153338=_0x389ace,_0x106e61=document[_0x153338(0x3c4)]('results-tab-content'),_0x1ec022=document[_0x153338(0x3c4)]('project-quizzes-list');_0x1ec022[_0x153338(0x469)][_0x153338(0x711)](_0x153338(0x5ec));const _0x240eed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x106e61[_0x153338(0x1b0)](_0x153338(0x8e3),_0x240eed);try{const _0x383a6c=allQuizzes[_0x153338(0x304)](_0x308450=>_0x308450['id']===_0x29e4dd);if(!_0x383a6c)throw new Error(_0x153338(0x995));const _0x53d0c3=_0x153338(0x8f2)+JSON[_0x153338(0x2ce)](_0x383a6c[_0x153338(0x47a)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x16a506={'type':'OBJECT','properties':{'questionText':{'type':_0x153338(0x966)},'questionType':{'type':_0x153338(0x966)},'options':{'type':_0x153338(0x127),'items':{'type':_0x153338(0x966)}},'correctAnswerIndex':{'type':_0x153338(0x894)},'idealAnswer':{'type':_0x153338(0x966)},'explanation':{'type':_0x153338(0x966)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x153338(0x651),_0x153338(0x655)]},_0x34ab4b={'type':_0x153338(0xa07),'properties':{'questions':{'type':_0x153338(0x127),'items':_0x16a506}},'required':[_0x153338(0x47a)]},_0x53cc2b=await callAnalysisApi(_0x53d0c3,_0x34ab4b);if(!_0x53cc2b||!_0x53cc2b[_0x153338(0x47a)]||_0x53cc2b[_0x153338(0x47a)][_0x153338(0x6e5)]===0x0)throw new Error(_0x153338(0x63a));const _0x5f264e=_0x53cc2b['questions'][_0x153338(0x749)]((_0x3d5ec5,_0x320091)=>({..._0x3d5ec5,'id':'q_'+Date[_0x153338(0x2d0)]()+'_'+_0x320091})),_0x55cd77={'projectId':_0x383a6c[_0x153338(0x7a0)],'quizType':_0x383a6c[_0x153338(0x8f1)],'settings':_0x383a6c[_0x153338(0x4a1)],'createdBy':_0x383a6c[_0x153338(0x776)],'status':_0x153338(0x134),'topic':'(ฉบับง่าย)\x20'+_0x383a6c['topic'],'questions':_0x5f264e,'createdAt':new Date()['toISOString'](),'quizMode':_0x153338(0x7d4),'pairedQuizId':null};let _0x2515d7;while(!![]){_0x2515d7=Math[_0x153338(0x6bc)](0x3e8+Math[_0x153338(0xa27)]()*0x2328)[_0x153338(0x1fe)]();const _0x175fc6=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2515d7));if(!_0x175fc6[_0x153338(0x446)]())break;}await setDoc(doc(db,_0x153338(0x5a5)+appId+_0x153338(0x405),_0x2515d7),_0x55cd77),showMessage(_0x153338(0x2e4));}catch(_0x43af08){console[_0x153338(0x316)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x43af08),showMessage('เกิดข้อผิดพลาด:\x20'+_0x43af08[_0x153338(0x4a8)]);}finally{const _0x40c8d6=document[_0x153338(0x3c4)]('temp-loader-results');_0x40c8d6&&_0x40c8d6[_0x153338(0x182)](),_0x1ec022[_0x153338(0x469)][_0x153338(0x182)]('hidden');}}async function generatePracticeQuestions(_0x40ceec){const _0x1d108d=_0x389ace,_0x249236=_0x1d108d(0x42f)+_0x40ceec+_0x1d108d(0x3d3)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x1d06bb={'type':_0x1d108d(0xa07),'properties':{'questionText':{'type':_0x1d108d(0x966)},'options':{'type':_0x1d108d(0x127),'items':{'type':_0x1d108d(0x966)}},'correctAnswerIndex':{'type':_0x1d108d(0x894)},'explanation':{'type':_0x1d108d(0x966)}},'required':[_0x1d108d(0x47b),_0x1d108d(0x237),_0x1d108d(0x58a),_0x1d108d(0x655)]},_0x112c01={'type':_0x1d108d(0xa07),'properties':{'topic':{'type':_0x1d108d(0x966)},'questions':{'type':'ARRAY','items':_0x1d06bb}},'required':[_0x1d108d(0x3d0),_0x1d108d(0x47a)]};return await callAnalysisApi(_0x249236,_0x112c01);}function displayLessonPlan(_0x50ede9,_0x405fd7){const _0x756baf=_0x389ace,_0x3e6c70='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x405fd7[_0x756baf(0x3d0)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x50ede9['learningGaps'][_0x756baf(0x749)](_0x589d4d=>'<li>'+_0x589d4d+_0x756baf(0x4b7))[_0x756baf(0x25a)]('')+_0x756baf(0x726)+_0x50ede9[_0x756baf(0x695)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x50ede9[_0x756baf(0x6db)]['map'](_0x393b55=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x393b55['question']+_0x756baf(0x9ab)+_0x393b55['solution']+_0x756baf(0x719))['join']('')+_0x756baf(0x2b2);document[_0x756baf(0x3c4)](_0x756baf(0x46c))[_0x756baf(0x60f)]='แผนการสอน:\x20'+_0x405fd7[_0x756baf(0x3d0)],document[_0x756baf(0x3c4)]('lesson-plan-content')['innerHTML']=_0x3e6c70,document[_0x756baf(0x3c4)](_0x756baf(0x57e))[_0x756baf(0x469)][_0x756baf(0x182)](_0x756baf(0x5ec));if(window['MathJax'])MathJax[_0x756baf(0x4c3)]();}function displaySkillPracticeDrill(_0x5988ed){const _0x11777a=_0x389ace;let _0x129e76=0x0;const _0x5d38e6=_0x5988ed[_0x11777a(0x47a)],_0x39bc67=()=>{const _0x28ab40=_0x11777a,_0x113f44=_0x5d38e6[_0x129e76],_0x27f106=_0x28ab40(0x79a)+(_0x129e76+0x1)+_0x28ab40(0x3ff)+_0x5d38e6[_0x28ab40(0x6e5)]+_0x28ab40(0x95b)+_0x113f44[_0x28ab40(0x47b)]+_0x28ab40(0x65e)+_0x113f44[_0x28ab40(0x237)][_0x28ab40(0x749)]((_0x154e06,_0x18b091)=>_0x28ab40(0x868)+_0x18b091+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x18b091+_0x28ab40(0xa01)+_0x18b091+'\x22>'+_0x154e06+_0x28ab40(0x983))[_0x28ab40(0x25a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x28ab40(0x368)]=_0x27f106;if(window['MathJax'])MathJax[_0x28ab40(0x4c3)]([studentQuizArea]);document[_0x28ab40(0x3c4)]('hint-btn')[_0x28ab40(0x199)](_0x28ab40(0x548),async()=>{const _0xa01141=await getHintForQuestion(_0x113f44['questionText']);showMessage(_0xa01141);}),document[_0x28ab40(0x3c4)](_0x28ab40(0x49b))[_0x28ab40(0x199)](_0x28ab40(0x548),()=>{const _0x43ea5b=_0x28ab40,_0x10a507=document[_0x43ea5b(0x674)](_0x43ea5b(0x19c));if(!_0x10a507){showMessage(_0x43ea5b(0x56c));return;}const _0x1caddc=document[_0x43ea5b(0x3c4)](_0x43ea5b(0x222)),_0xbd1f21=parseInt(_0x10a507[_0x43ea5b(0x213)])===_0x113f44[_0x43ea5b(0x58a)];_0xbd1f21?(_0x1caddc[_0x43ea5b(0x827)]=_0x43ea5b(0x8b9),_0x1caddc[_0x43ea5b(0x368)]=_0x43ea5b(0x87a)+_0x113f44[_0x43ea5b(0x655)]):(_0x1caddc[_0x43ea5b(0x827)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x1caddc[_0x43ea5b(0x368)]=_0x43ea5b(0x202)+_0x113f44[_0x43ea5b(0x655)]);_0x1caddc[_0x43ea5b(0x469)][_0x43ea5b(0x182)]('hidden');if(window['MathJax'])MathJax[_0x43ea5b(0x4c3)]([_0x1caddc]);document[_0x43ea5b(0x3c4)](_0x43ea5b(0x49b))[_0x43ea5b(0x469)]['add'](_0x43ea5b(0x5ec)),document['getElementById'](_0x43ea5b(0x481))[_0x43ea5b(0x469)][_0x43ea5b(0x711)](_0x43ea5b(0x5ec)),document[_0x43ea5b(0x3c4)](_0x43ea5b(0x9d5))['classList'][_0x43ea5b(0x182)](_0x43ea5b(0x5ec));}),document[_0x28ab40(0x3c4)](_0x28ab40(0x9d5))[_0x28ab40(0x199)](_0x28ab40(0x548),()=>{const _0x6e0cb1=_0x28ab40;_0x129e76++,_0x129e76<_0x5d38e6['length']?_0x39bc67():(studentQuizArea[_0x6e0cb1(0x368)]=_0x6e0cb1(0x513),document['getElementById'](_0x6e0cb1(0x810))[_0x6e0cb1(0x199)]('click',()=>{const _0x108d0d=_0x6e0cb1;studentQuizArea[_0x108d0d(0x469)][_0x108d0d(0x711)](_0x108d0d(0x5ec)),studentResultArea[_0x108d0d(0x469)]['remove'](_0x108d0d(0x5ec));}));});};_0x39bc67();}async function getHintForQuestion(_0x5c4690){const _0x4bb911=_0x389ace,_0x55a375='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x5c4690+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x33cb18={'type':'OBJECT','properties':{'hint':{'type':_0x4bb911(0x966)}},'required':[_0x4bb911(0x588)]};try{const _0x18b094=await callAnalysisApi(_0x55a375,_0x33cb18);return _0x18b094[_0x4bb911(0x588)];}catch(_0x486407){return console['error']('Failed\x20to\x20get\x20hint:',_0x486407),_0x4bb911(0x7e7);}}async function extractTextFromPdf(_0x5a7655){const _0x48d5d0=_0x389ace;pdfjsLib[_0x48d5d0(0x162)]['workerSrc']=_0x48d5d0(0x1a1);const _0x22eae6=await _0x5a7655[_0x48d5d0(0x18e)](),_0x37a19f=await pdfjsLib[_0x48d5d0(0x3c9)](_0x22eae6)[_0x48d5d0(0x8e8)],_0x411c9a=_0x37a19f['numPages'];let _0x538861='';for(let _0x13f585=0x1;_0x13f585<=_0x411c9a;_0x13f585++){const _0x7be1a0=await _0x37a19f['getPage'](_0x13f585),_0x1202a0=await _0x7be1a0[_0x48d5d0(0x940)](),_0x4c1dcc=_0x1202a0['items']['map'](_0x319c42=>_0x319c42[_0x48d5d0(0x5b6)])[_0x48d5d0(0x25a)]('\x20');_0x538861+=_0x4c1dcc+'\x0a\x0a';}return _0x538861;}async function handleGenerateFromBlueprint(){const _0x2839cf=_0x389ace,_0x43d308=document[_0x2839cf(0x3c4)]('blueprint-upload-input'),_0x40f21c=document['getElementById'](_0x2839cf(0x736)),_0x4ccbc4=_0x43d308[_0x2839cf(0x916)][0x0],_0x494811=_0x40f21c[_0x2839cf(0x916)][_0x2839cf(0x6e5)]>0x0?_0x40f21c['files'][0x0]:null;if(!_0x4ccbc4){showMessage(_0x2839cf(0x500));return;}const _0x198bfe=document['getElementById'](_0x2839cf(0x432)),_0x32650d=document['getElementById'](_0x2839cf(0x59a)),_0x131950=document['getElementById'](_0x2839cf(0x6bd)),_0xa8a6bc=document['getElementById'](_0x2839cf(0x17f));_0xa8a6bc['disabled']=!![],document['getElementById'](_0x2839cf(0x431))['classList'][_0x2839cf(0x182)](_0x2839cf(0x5ec)),_0x131950[_0x2839cf(0x368)]='',_0x198bfe[_0x2839cf(0x469)][_0x2839cf(0x182)](_0x2839cf(0x5ec));try{_0x32650d[_0x2839cf(0x60f)]=_0x2839cf(0x925);const _0x568061=await extractTextFromPdf(_0x4ccbc4);if(!_0x568061[_0x2839cf(0x7f5)]())throw new Error(_0x2839cf(0x3d4));let _0x1e3408='';_0x494811&&(_0x32650d[_0x2839cf(0x60f)]=_0x2839cf(0x68e),_0x1e3408=await extractTextFromPdf(_0x494811));_0x32650d[_0x2839cf(0x60f)]=_0x2839cf(0x6b2);const _0x1b348f=document['getElementById'](_0x2839cf(0x2ba))[_0x2839cf(0x2cd)],_0x1ed6af=_0x1b348f?_0x2839cf(0x1c6):'',_0x15fd2c=_0x1e3408?_0x2839cf(0x26d)+_0x1e3408+_0x2839cf(0x6df):'',_0x220dbb=_0x2839cf(0x1e0)+(_0x1e3408?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0x2839cf(0x2b5)+_0x568061+_0x2839cf(0x6df)+_0x15fd2c+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ed6af+_0x2839cf(0x24c)+simpleMathPrompt+_0x2839cf(0x1dc),_0x4cc78a={'type':_0x2839cf(0xa07),'properties':{'questionText':{'type':_0x2839cf(0x966)},'questionType':{'type':'STRING','enum':['multiple_choice','short_answer']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2839cf(0x894)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2839cf(0x966)},'imageCode':{'type':_0x2839cf(0x966)}},'required':[_0x2839cf(0x47b),'questionType',_0x2839cf(0x655)]},_0x10a87e={'type':_0x2839cf(0xa07),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2839cf(0x127),'items':_0x4cc78a}},'required':['topic',_0x2839cf(0x47a)]};await handleApiCall(_0x220dbb,_0x2839cf(0x39f),_0x10a87e);}catch(_0x472082){console[_0x2839cf(0x316)]('Error\x20generating\x20from\x20blueprint:',_0x472082),showMessage(_0x2839cf(0x26f)+_0x472082[_0x2839cf(0x4a8)]),_0x131950[_0x2839cf(0x368)]=_0x2839cf(0x69e);}finally{_0x198bfe[_0x2839cf(0x469)][_0x2839cf(0x711)](_0x2839cf(0x5ec)),_0xa8a6bc[_0x2839cf(0x2d5)]=![];}}function renderAdminSyncDashboard(_0x3bee4,_0x342cd7){const _0x486ba4=_0x389ace,_0x135955=Object[_0x486ba4(0x2da)](_0x3bee4[_0x486ba4(0x511)]||{}),_0x3624be=_0x135955[_0x486ba4(0x6e5)],_0x34065a=[..._0x135955][_0x486ba4(0x91f)]((_0x1209d8,_0x5f4146)=>_0x5f4146['score']-_0x1209d8[_0x486ba4(0x84d)]),_0x5229b4=_0x3bee4[_0x486ba4(0x169)];let _0x3d29c2='';const _0x52becd=_0x3bee4['shuffledQuiz'][_0x486ba4(0x47a)],_0x803c91=_0x52becd[_0x5229b4],_0x1fbfc4=_0x36d243=>String[_0x486ba4(0x120)](0x41+_0x36d243);if(_0x803c91&&_0x803c91[_0x486ba4(0x237)]&&_0x803c91[_0x486ba4(0x58a)]!==undefined){const _0x1966b4=_0x803c91[_0x486ba4(0x237)][_0x803c91[_0x486ba4(0x58a)]];_0x3d29c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x5229b4+0x1)+_0x486ba4(0x8b0)+_0x1fbfc4(_0x803c91['correctAnswerIndex'])+'.\x20'+_0x1966b4+_0x486ba4(0x3de);}const _0x53e72c=_0x34065a['map'](_0x335e1f=>{const _0x1f2d23=_0x486ba4;let _0x2a030b=![];if(_0x335e1f[_0x1f2d23(0x54e)]&&_0x5229b4!==-0x1){const _0x5a2c7a=_0x335e1f[_0x1f2d23(0x54e)][_0x1f2d23(0x304)](_0x3b17ec=>_0x3b17ec[_0x1f2d23(0x98a)]===_0x5229b4);_0x5a2c7a&&_0x5a2c7a[_0x1f2d23(0x988)]&&(_0x2a030b=!![]);}const _0x227059=_0x2a030b?_0x1f2d23(0x585):_0x1f2d23(0x1c5);return _0x1f2d23(0x3df)+_0x227059+_0x1f2d23(0x8f6)+_0x335e1f[_0x1f2d23(0x37b)]+_0x1f2d23(0x890)+_0x335e1f[_0x1f2d23(0x84d)]+'\x20คะแนน</span></div>';})['join'](''),_0x4273f0=_0x52becd[_0x486ba4(0x749)]((_0x405d0a,_0x43b994)=>{const _0x437df5=_0x486ba4,_0x396a40=_0x135955[_0x437df5(0x573)](_0x41b900=>_0x41b900['answers']&&_0x41b900['answers']['find'](_0x32a4f0=>_0x32a4f0['questionIndex']===_0x43b994&&_0x32a4f0[_0x437df5(0x988)]))[_0x437df5(0x6e5)],_0xda429d=_0x43b994===_0x5229b4,_0x5e27cd=_0xda429d?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x437df5(0x526);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x5e27cd+_0x437df5(0x23e)+(_0x43b994+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x396a40+_0x437df5(0x3ff)+_0x3624be+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x3836eb='',_0x359dfc='';if(_0x342cd7){const _0x27145a=_0x3bee4['currentQuestionIndex']>=_0x52becd['length']-0x1;_0x3836eb=_0x486ba4(0x57c)+(_0x27145a?_0x486ba4(0x1ec):_0x486ba4(0x729))+_0x486ba4(0x86a),_0x359dfc=_0x486ba4(0x63b);}const _0x3aaee0=_0x486ba4(0x30b)+_0x3bee4[_0x486ba4(0x1df)][_0x486ba4(0x3d0)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x359dfc+_0x486ba4(0x487)+_0x3d29c2+_0x486ba4(0x5c3)+(_0x53e72c||_0x486ba4(0x784))+_0x486ba4(0x4e8)+_0x4273f0+_0x486ba4(0x27b)+(_0x342cd7?_0x486ba4(0x4dc)+_0x3836eb+_0x486ba4(0x58d):'')+_0x486ba4(0x82a);liveGameView[_0x486ba4(0x368)]=_0x3aaee0;if(window[_0x486ba4(0x8cc)]){const _0x30f956=document[_0x486ba4(0x3c4)](_0x486ba4(0x5e3));_0x30f956&&MathJax[_0x486ba4(0x4c3)]([_0x30f956]);}if(_0x342cd7){document[_0x486ba4(0x3c4)](_0x486ba4(0x3c8))[_0x486ba4(0x39d)]=async()=>{const _0x2db2fa=_0x486ba4,_0x54ea0b=doc(db,_0x2db2fa(0x5a5)+appId+_0x2db2fa(0x29e),currentLiveGameId),_0x29dcfa=_0x3bee4['currentQuestionIndex']+0x1;if(_0x29dcfa<_0x52becd[_0x2db2fa(0x6e5)]){const _0x2b05ab={};Object[_0x2db2fa(0x45d)](_0x3bee4['players'])[_0x2db2fa(0x502)](_0x1665ea=>{const _0x412182=_0x2db2fa;_0x2b05ab['players.'+_0x1665ea+_0x412182(0x1ef)]=![],_0x2b05ab[_0x412182(0x562)+_0x1665ea+_0x412182(0x494)]=null;}),await updateDoc(_0x54ea0b,{..._0x2b05ab,'status':_0x2db2fa(0xa08),'currentQuestionIndex':_0x29dcfa,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x54ea0b,{'status':_0x2db2fa(0x430)});};const _0x1ba8dd=document['getElementById'](_0x486ba4(0x64a));_0x1ba8dd&&(_0x1ba8dd['onclick']=()=>{const _0x19e79a=_0x486ba4;showConfirmation(_0x19e79a(0x404),async()=>{const _0x5ad87c=_0x19e79a,_0x181bf9=doc(db,_0x5ad87c(0x5a5)+appId+_0x5ad87c(0x29e),currentLiveGameId);await updateDoc(_0x181bf9,{'status':_0x5ad87c(0x430)});});});}}async function handleGenerateParallelFromBank(_0xb35e41){const _0x2846e9=_0x389ace,_0x4e86a2=document[_0x2846e9(0x3c4)](_0x2846e9(0x837)),_0x352e39=document[_0x2846e9(0x3c4)](_0x2846e9(0x3dc));_0x352e39[_0x2846e9(0x469)][_0x2846e9(0x711)](_0x2846e9(0x5ec));const _0x19281f=_0x2846e9(0x417)+_0xb35e41[_0x2846e9(0x3d0)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4e86a2[_0x2846e9(0x1b0)](_0x2846e9(0x8e3),_0x19281f);const _0x597460=document['getElementById'](_0x2846e9(0x7df));try{const _0xc61790=_0xb35e41[_0x2846e9(0x47a)][_0x2846e9(0x749)]((_0x319eb0,_0x26a3a4)=>{const _0x34f0e4=_0x2846e9;let _0xca582b=_0x26a3a4+0x1+'.\x20'+(_0x319eb0['questionText']||_0x319eb0[_0x34f0e4(0x101)])+'\x0a';if(_0x319eb0[_0x34f0e4(0x237)])_0xca582b+=_0x319eb0[_0x34f0e4(0x237)]['map']((_0x4ac032,_0x65b1a5)=>_0x34f0e4(0x86e)+(_0x65b1a5===_0x319eb0[_0x34f0e4(0x58a)]?_0x34f0e4(0x577):'')+'\x20'+_0x4ac032)['join']('\x0a');else _0x319eb0[_0x34f0e4(0x379)]&&(_0xca582b+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x319eb0['idealAnswer']);return _0xca582b;})['join']('\x0a\x0a');_0x597460[_0x2846e9(0x60f)]=_0x2846e9(0xa4f);const _0x3496c8=_0x2846e9(0x769)+_0xb35e41[_0x2846e9(0x3d0)]+_0x2846e9(0x83d)+_0xc61790+_0x2846e9(0x468)+simpleMathPrompt+_0x2846e9(0x1dc),_0x9cffb4={'type':_0x2846e9(0xa07),'properties':{'questionText':{'type':_0x2846e9(0x966)},'questionType':{'type':_0x2846e9(0x966),'enum':[_0x2846e9(0x961),_0x2846e9(0x8a8),_0x2846e9(0x327),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x2846e9(0x966)}},'correctAnswerIndex':{'type':_0x2846e9(0x894)},'idealAnswer':{'type':_0x2846e9(0x966)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2846e9(0x966)},'allResponses':{'type':_0x2846e9(0x127),'items':{'type':_0x2846e9(0x966)}},'explanation':{'type':_0x2846e9(0x966)},'imageCode':{'type':_0x2846e9(0x966)}},'required':['questionType',_0x2846e9(0x655)]},_0x592c7c={'type':_0x2846e9(0xa07),'properties':{'topic':{'type':_0x2846e9(0x966)},'questions':{'type':'ARRAY','items':_0x9cffb4}},'required':[_0x2846e9(0x3d0),_0x2846e9(0x47a)]},_0x248bb5=await callAnalysisApi(_0x3496c8,_0x592c7c),_0x24c052=_0x248bb5[_0x2846e9(0x47a)][_0x2846e9(0x749)]((_0x26a9be,_0x1eca92)=>({..._0x26a9be,'id':'q_'+Date[_0x2846e9(0x2d0)]()+'_'+_0x1eca92})),_0x3afe56='(คู่ขนาน)\x20'+_0xb35e41[_0x2846e9(0x3d0)],_0x265e02={'topic':_0x3afe56,'questions':_0x24c052,'quizType':_0xb35e41[_0x2846e9(0x8f1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2846e9(0x92e)](),'status':_0x2846e9(0x134),'settings':_0xb35e41[_0x2846e9(0x4a1)],'quizMode':_0x2846e9(0x7d4),'pairedQuizId':null,'lessonPlan':null};await addDoc(collection(db,_0x2846e9(0x5a5)+appId+_0x2846e9(0x405)),_0x265e02),showMessage(_0x2846e9(0x882));}catch(_0x53d5e1){console[_0x2846e9(0x316)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x53d5e1),showMessage(_0x2846e9(0x26f)+_0x53d5e1[_0x2846e9(0x4a8)]);}finally{const _0x2cdbf5=document[_0x2846e9(0x3c4)](_0x2846e9(0x23b));_0x2cdbf5&&_0x2cdbf5[_0x2846e9(0x182)](),_0x352e39[_0x2846e9(0x469)]['remove'](_0x2846e9(0x5ec));}}async function handleGenerateParallelPostTest(_0x27dd73){const _0x288eb0=_0x389ace,_0x394f7c=document['getElementById']('results-tab-content'),_0x412361=document['getElementById'](_0x288eb0(0x3dc));_0x412361['classList']['add'](_0x288eb0(0x5ec));const _0x190b85=_0x288eb0(0x345);_0x394f7c[_0x288eb0(0x1b0)](_0x288eb0(0x8e3),_0x190b85);try{const _0x32a817=_0x27dd73[_0x288eb0(0x47a)][_0x288eb0(0x749)]((_0x1e0cb3,_0x2f395c)=>{const _0x280325=_0x288eb0;let _0x1f16eb=_0x2f395c+0x1+'.\x20'+(_0x1e0cb3[_0x280325(0x47b)]||_0x1e0cb3[_0x280325(0x101)]);if(_0x1e0cb3[_0x280325(0x237)])_0x1f16eb+=_0x280325(0x969)+_0x1e0cb3[_0x280325(0x237)][_0x280325(0x25a)](',\x20');return _0x1f16eb;})[_0x288eb0(0x25a)]('\x0a\x0a'),_0x289069=_0x288eb0(0x3eb)+_0x27dd73[_0x288eb0(0x3d0)]+_0x288eb0(0x4e9)+_0x32a817+_0x288eb0(0x13d)+simpleMathPrompt+_0x288eb0(0x1dc),_0x5bf464={'type':_0x288eb0(0xa07),'properties':{'topic':{'type':_0x288eb0(0x966)},'questions':{'type':_0x288eb0(0x127),'items':{'type':_0x288eb0(0xa07),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x288eb0(0x966)},'options':{'type':_0x288eb0(0x127),'items':{'type':_0x288eb0(0x966)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x288eb0(0x966)},'explanation':{'type':_0x288eb0(0x966)}},'required':[_0x288eb0(0x47b),_0x288eb0(0x655)]}}},'required':[_0x288eb0(0x3d0),_0x288eb0(0x47a)]},_0x4d40f4=await callAnalysisApi(_0x289069,_0x5bf464),_0x1ae21f=_0x27dd73[_0x288eb0(0x3d0)]['replace'](_0x288eb0(0x4db),'')['trim'](),_0x5a2a30=_0x288eb0(0x387)+_0x1ae21f,_0x1a8a91={..._0x4d40f4,'topic':_0x5a2a30,'quizType':_0x27dd73[_0x288eb0(0x8f1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x288eb0(0x92e)](),'status':_0x288eb0(0x134),'settings':_0x27dd73[_0x288eb0(0x4a1)],'quizMode':'post-test','pairedQuizId':_0x27dd73['id']};let _0x5309ef;while(!![]){_0x5309ef=Math[_0x288eb0(0x6bc)](0x3e8+Math[_0x288eb0(0xa27)]()*0x2328)[_0x288eb0(0x1fe)]();const _0x3162cc=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5309ef));if(!_0x3162cc[_0x288eb0(0x446)]())break;}await setDoc(doc(db,_0x288eb0(0x5a5)+appId+_0x288eb0(0x405),_0x5309ef),_0x1a8a91);const _0x1a64de=doc(db,_0x288eb0(0x5a5)+appId+_0x288eb0(0x405),_0x27dd73['id']);await updateDoc(_0x1a64de,{'pairedQuizId':_0x5309ef}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x573f18){console[_0x288eb0(0x316)](_0x288eb0(0x4c1),_0x573f18),showMessage(_0x288eb0(0x26f)+_0x573f18[_0x288eb0(0x4a8)]);}finally{const _0x4bc22b=document[_0x288eb0(0x3c4)]('temp-loader-results');if(_0x4bc22b)_0x4bc22b[_0x288eb0(0x182)]();_0x412361[_0x288eb0(0x469)][_0x288eb0(0x182)]('hidden');}}async function handleGenerateParallelTest(){const _0x1298dd=_0x389ace,_0x78843a=document[_0x1298dd(0x3c4)](_0x1298dd(0x110)),_0x5df47f=_0x78843a['files'][0x0];if(!_0x5df47f){showMessage(_0x1298dd(0x2a0));return;}const _0x479257=document['getElementById']('loader'),_0x336983=document[_0x1298dd(0x3c4)](_0x1298dd(0x59a)),_0x98d3b7=document[_0x1298dd(0x3c4)](_0x1298dd(0x6bd)),_0x1293f2=document[_0x1298dd(0x3c4)](_0x1298dd(0x1ac));_0x1293f2['disabled']=!![],document['getElementById'](_0x1298dd(0x431))[_0x1298dd(0x469)][_0x1298dd(0x182)](_0x1298dd(0x5ec)),_0x98d3b7[_0x1298dd(0x368)]='',_0x479257['classList']['remove'](_0x1298dd(0x5ec)),_0x336983[_0x1298dd(0x60f)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x16c23e=await extractTextFromPdf(_0x5df47f);if(!_0x16c23e[_0x1298dd(0x7f5)]())throw new Error(_0x1298dd(0x73f));_0x336983[_0x1298dd(0x60f)]=_0x1298dd(0xa4f);const _0x3712c6=document[_0x1298dd(0x3c4)]('include-images-checkbox')['checked'],_0x593b51=_0x3712c6?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x33bc56='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16c23e+_0x1298dd(0x508)+_0x593b51+_0x1298dd(0x24c)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x361ad4={'type':_0x1298dd(0xa07),'properties':{'questionText':{'type':_0x1298dd(0x966)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x1298dd(0x8a8)]},'options':{'type':_0x1298dd(0x127),'items':{'type':_0x1298dd(0x966)}},'correctAnswerIndex':{'type':_0x1298dd(0x894)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1298dd(0x966)}},'required':[_0x1298dd(0x47b),_0x1298dd(0x651),_0x1298dd(0x655)]},_0x5e0313={'type':_0x1298dd(0xa07),'properties':{'topic':{'type':_0x1298dd(0x966)},'questions':{'type':'ARRAY','items':_0x361ad4}},'required':[_0x1298dd(0x3d0),'questions']};await handleApiCall(_0x33bc56,_0x1298dd(0x2dd),_0x5e0313);}catch(_0x5d251d){console[_0x1298dd(0x316)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x5d251d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5d251d[_0x1298dd(0x4a8)]),_0x98d3b7['innerHTML']=_0x1298dd(0x684);}finally{_0x479257[_0x1298dd(0x469)][_0x1298dd(0x711)](_0x1298dd(0x5ec)),_0x1293f2[_0x1298dd(0x2d5)]=![];}}async function handleRegenerateQuestionInEditor(_0x429e4a){const _0x5a673d=_0x389ace;if(currentEditingQuizData===null)return;const _0x426ac0=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x429e4a+'\x22]');_0x426ac0&&(_0x426ac0[_0x5a673d(0x368)]=_0x5a673d(0x22c));const _0x1973cc=currentEditingQuizData[_0x5a673d(0x47a)][_0x429e4a],_0xb18719=currentEditingQuizData['topic'],_0x51338d=_0x1973cc['questionType'],_0x32ee4c={'type':_0x5a673d(0xa07),'properties':{'questionText':{'type':_0x5a673d(0x966)},'options':{'type':_0x5a673d(0x127),'items':{'type':_0x5a673d(0x966)}},'correctAnswerIndex':{'type':_0x5a673d(0x894)},'explanation':{'type':_0x5a673d(0x966)}},'required':[_0x5a673d(0x47b),_0x5a673d(0x237),_0x5a673d(0x58a),_0x5a673d(0x655)]},_0x16a88d={'type':_0x5a673d(0xa07),'properties':{'questionText':{'type':_0x5a673d(0x966)},'idealAnswer':{'type':_0x5a673d(0x966)},'explanation':{'type':_0x5a673d(0x966)}},'required':['questionText',_0x5a673d(0x379),_0x5a673d(0x655)]};let _0x103a48,_0x268ffd='';_0x51338d==='multiple_choice'?(_0x103a48=_0x32ee4c,_0x268ffd='แบบปรนัย\x204\x20ตัวเลือก'):(_0x103a48=_0x16a88d,_0x268ffd=_0x5a673d(0x207));const _0x227d91=_0x5a673d(0x568)+_0xb18719+_0x5a673d(0x38e)+_0x268ffd+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x1973cc[_0x5a673d(0x47b)]||_0x1973cc[_0x5a673d(0x101)])+_0x5a673d(0x1c3)+simpleMathPrompt;try{const _0x1c8c77=await callAnalysisApi(_0x227d91,_0x103a48);currentEditingQuizData[_0x5a673d(0x47a)][_0x429e4a]={..._0x1973cc,..._0x1c8c77},renderQuizEditor(currentEditingQuizData);}catch(_0x55106d){console[_0x5a673d(0x316)](_0x5a673d(0x645),_0x55106d),showMessage(_0x5a673d(0x61b)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x293af2=_0x389ace,_0x55a605=document[_0x293af2(0x3c4)]('mode-switcher-btn');currentMode===_0x293af2(0x287)?(currentMode=_0x293af2(0x622),_0x55a605[_0x293af2(0x368)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x55a605[_0x293af2(0x5c6)]='สลับไปโหมดนักเรียน',showView(_0x293af2(0x472))):(currentMode='student',_0x55a605['innerHTML']=_0x293af2(0x6fa),_0x55a605[_0x293af2(0x5c6)]=_0x293af2(0x17d),showView(_0x293af2(0x287)));}function handleAdminLogin(){const _0x4c0dbf=_0x389ace,_0xbf51f=document[_0x4c0dbf(0x3c4)](_0x4c0dbf(0x152)),_0x2f6a21=document[_0x4c0dbf(0x3c4)](_0x4c0dbf(0x538));if(_0xbf51f['value']===_0x4c0dbf(0x18b)){adminPasswordModal[_0x4c0dbf(0x469)]['add'](_0x4c0dbf(0x5ec)),_0xbf51f[_0x4c0dbf(0x213)]='',_0x2f6a21[_0x4c0dbf(0x469)][_0x4c0dbf(0x711)](_0x4c0dbf(0x5ec)),currentMode=_0x4c0dbf(0x622);const _0x3636fd=document[_0x4c0dbf(0x3c4)](_0x4c0dbf(0x30e));_0x3636fd[_0x4c0dbf(0x368)]=_0x4c0dbf(0x1fb),_0x3636fd[_0x4c0dbf(0x5c6)]=_0x4c0dbf(0x5a8),showView(_0x4c0dbf(0x472));}else _0x2f6a21[_0x4c0dbf(0x469)][_0x4c0dbf(0x182)](_0x4c0dbf(0x5ec)),_0xbf51f['value']='';}function switchProjectTab(_0x16ffa1){const _0x4ff7c7=_0x389ace;[_0x4ff7c7(0x38f),_0x4ff7c7(0xa16),'leaderboard'][_0x4ff7c7(0x502)](_0x51b132=>{const _0x547be0=_0x4ff7c7;document['getElementById'](_0x51b132+_0x547be0(0x19e))[_0x547be0(0x469)][_0x547be0(0x182)](_0x547be0(0x134)),document[_0x547be0(0x3c4)](_0x51b132+'-tab-content')[_0x547be0(0x469)][_0x547be0(0x711)](_0x547be0(0x5ec));}),document[_0x4ff7c7(0x3c4)](_0x16ffa1+_0x4ff7c7(0x19e))[_0x4ff7c7(0x469)]['add']('active'),document[_0x4ff7c7(0x3c4)](_0x16ffa1+_0x4ff7c7(0x5ff))['classList'][_0x4ff7c7(0x182)](_0x4ff7c7(0x5ec));}function switchQuizDetailTab(_0xcbb892){const _0x29657d=_0x389ace,_0x5a4d01={'analytics':{'btn':_0x29657d(0x3d9),'content':_0x29657d(0x43d)},'scores':{'btn':_0x29657d(0x157),'content':_0x29657d(0xa53)},'leaderboard-quiz':{'btn':_0x29657d(0x66f),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x29657d(0x549),'content':'behavior-log-tab-content'}};for(const _0x157747 in _0x5a4d01){document[_0x29657d(0x3c4)](_0x5a4d01[_0x157747][_0x29657d(0x2ad)])[_0x29657d(0x469)]['remove'](_0x29657d(0x134)),document[_0x29657d(0x3c4)](_0x5a4d01[_0x157747][_0x29657d(0x537)])['classList'][_0x29657d(0x711)](_0x29657d(0x5ec));}document[_0x29657d(0x3c4)](_0x5a4d01[_0xcbb892]['btn'])['classList'][_0x29657d(0x711)](_0x29657d(0x134)),document['getElementById'](_0x5a4d01[_0xcbb892]['content'])[_0x29657d(0x469)][_0x29657d(0x182)](_0x29657d(0x5ec));}function showMessage(_0x124d2e,_0x543d6e=null){const _0x45e475=_0x389ace;modalMessage[_0x45e475(0x60f)]=_0x124d2e,modalConfirmAction=_0x543d6e,messageModal[_0x45e475(0x469)][_0x45e475(0x182)]('hidden');}function showConfirmation(_0x424ead,_0x296835){const _0x4a4644=_0x389ace;document['getElementById'](_0x4a4644(0x66a))[_0x4a4644(0x60f)]=_0x424ead,document[_0x4a4644(0x3c4)](_0x4a4644(0x3ef))[_0x4a4644(0x674)]('h3')[_0x4a4644(0x60f)]=_0x4a4644(0x840),confirmAction=_0x296835,confirmationModal['classList'][_0x4a4644(0x182)](_0x4a4644(0x5ec));}function listenForProjects(){const _0x249e71=_0x389ace,_0x525e41=doc(db,_0x249e71(0x198),_0x249e71(0xa19));onSnapshot(_0x525e41,_0x9c15d4=>{const _0x4e65c4=_0x249e71;if(_0x9c15d4[_0x4e65c4(0x446)]()){const _0x3caa80=_0x9c15d4['data']();globalDashboardSettings[_0x4e65c4(0x226)]=_0x3caa80[_0x4e65c4(0x226)]||_0x4e65c4(0x229),globalDashboardSettings[_0x4e65c4(0x779)]=_0x3caa80[_0x4e65c4(0x779)]||[],globalDashboardSettings[_0x4e65c4(0x234)]=_0x3caa80['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x5a5015=collection(db,'artifacts/'+appId+_0x249e71(0x42b));unsubscribeProjectsListener=onSnapshot(_0x5a5015,_0xfea4e0=>{const _0x1c116d=_0x249e71;allProjects=_0xfea4e0[_0x1c116d(0x768)][_0x1c116d(0x749)](_0x219049=>({'id':_0x219049['id'],..._0x219049['data']()})),renderProjects();},_0x2175c7=>{const _0x12dd5f=_0x249e71;console['error'](_0x12dd5f(0x2fc),_0x2175c7),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x61ccb9,_0x3d4ab9){const _0x5cff82=_0x389ace;document['querySelectorAll'](_0x5cff82(0x9e3))['forEach'](_0x2cc3f3=>_0x2cc3f3['remove']());const _0x46cd12=[_0x5cff82(0x4a2),_0x5cff82(0x54f),'#FEF3C7',_0x5cff82(0x5d2),_0x5cff82(0x4df),'#E0E7FF',_0x5cff82(0x603),_0x5cff82(0x11e),'#E5E7EB'],_0x8449c7=document[_0x5cff82(0x54c)](_0x5cff82(0x847));_0x8449c7[_0x5cff82(0x827)]=_0x5cff82(0x163),_0x46cd12['forEach'](_0x468038=>{const _0x592487=_0x5cff82,_0x8c965b=document['createElement'](_0x592487(0x847));_0x8c965b[_0x592487(0x827)]=_0x592487(0x85b),_0x8c965b[_0x592487(0x527)][_0x592487(0x623)]=_0x468038,_0x8c965b[_0x592487(0x199)](_0x592487(0x548),()=>{const _0x30cd9d=_0x592487;handleProjectColorChange(_0x3d4ab9,_0x468038),_0x8449c7[_0x30cd9d(0x182)]();}),_0x8449c7[_0x592487(0x889)](_0x8c965b);}),document[_0x5cff82(0x13c)]['appendChild'](_0x8449c7);const _0x410143=_0x61ccb9[_0x5cff82(0x89b)]();_0x8449c7['style'][_0x5cff82(0x53e)]=_0x410143[_0x5cff82(0x709)]+window[_0x5cff82(0x62b)]+'px',_0x8449c7[_0x5cff82(0x527)][_0x5cff82(0x4be)]=_0x410143[_0x5cff82(0x4be)]+window[_0x5cff82(0x9c3)]-_0x8449c7[_0x5cff82(0x58c)]/0x2+'px';}async function handleProjectColorChange(_0x530ca7,_0x2838e3){const _0x5202d6=_0x389ace,_0x56cced=doc(db,_0x5202d6(0x5a5)+appId+_0x5202d6(0x42b),_0x530ca7);try{await updateDoc(_0x56cced,{'color':_0x2838e3});}catch(_0x34eca6){console[_0x5202d6(0x316)](_0x5202d6(0x637),_0x34eca6),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x59c409=_0x389ace,_0xda8912=globalDashboardSettings[_0x59c409(0x226)]||_0x59c409(0x229),_0x2b8c55=new Set(globalDashboardSettings[_0x59c409(0x779)]||[]),_0x2c30aa=globalDashboardSettings[_0x59c409(0x93e)]||_0x59c409(0x78d),_0xc57340=document[_0x59c409(0x3c4)](_0x59c409(0x71a)),_0x104101=document[_0x59c409(0x3c4)](_0x59c409(0x9fd));_0xc57340[_0x59c409(0x469)][_0x59c409(0xa13)](_0x59c409(0x134),_0x2c30aa===_0x59c409(0x78d)),_0x104101[_0x59c409(0x469)][_0x59c409(0xa13)](_0x59c409(0x134),_0x2c30aa===_0x59c409(0x74b)),document['getElementById'](_0x59c409(0x941))[_0x59c409(0x213)]=_0xda8912;const _0xb10a07=document[_0x59c409(0x3c4)](_0x59c409(0x337))['value']['toLowerCase']();let _0x4e0b57=allProjects['filter'](_0x2cb9e5=>_0x2cb9e5['projectName'][_0x59c409(0x8f8)]()[_0x59c409(0x821)](_0xb10a07));const _0x340487=_0x4e0b57[_0x59c409(0x573)](_0x175d51=>_0x2b8c55[_0x59c409(0x477)](_0x175d51['id'])),_0x9a90a7=_0x4e0b57[_0x59c409(0x573)](_0x939600=>!_0x2b8c55['has'](_0x939600['id'])),_0xab015d=(_0x50f5ce,_0x407c35)=>{const _0x5467c3=_0x59c409;switch(_0xda8912){case'name_asc':return _0x50f5ce['projectName'][_0x5467c3(0x3c6)](_0x407c35['projectName'],'th');case _0x5467c3(0x13a):return _0x407c35['projectName'][_0x5467c3(0x3c6)](_0x50f5ce[_0x5467c3(0x3a1)],'th');case'date_asc':return new Date(_0x50f5ce[_0x5467c3(0x66d)])-new Date(_0x407c35[_0x5467c3(0x66d)]);default:return new Date(_0x407c35['createdAt'])-new Date(_0x50f5ce['createdAt']);}};_0x340487[_0x59c409(0x91f)](_0xab015d),_0x9a90a7[_0x59c409(0x91f)](_0xab015d);const _0x296c18=[..._0x340487,..._0x9a90a7],_0x27e4b4=globalDashboardSettings[_0x59c409(0x234)]||[];_0x27e4b4[_0x59c409(0x6e5)]>0x0&&_0x2c30aa===_0x59c409(0x78d)&&_0x296c18[_0x59c409(0x91f)]((_0x3dbd1e,_0x2ce30d)=>{const _0x7426cb=_0x59c409,_0xf29ec9=_0x27e4b4[_0x7426cb(0x9c5)](_0x3dbd1e['id']),_0x2635e5=_0x27e4b4[_0x7426cb(0x9c5)](_0x2ce30d['id']);if(_0xf29ec9===-0x1)return 0x1;if(_0x2635e5===-0x1)return-0x1;return _0xf29ec9-_0x2635e5;});const _0x3afc2c={};await Promise[_0x59c409(0x9e1)](_0x296c18[_0x59c409(0x749)](async _0x5a090e=>{const _0x52da91=_0x59c409,_0x55e26f=query(collection(db,_0x52da91(0x5a5)+appId+_0x52da91(0x405)),where(_0x52da91(0x7a0),'==',_0x5a090e['id'])),_0x330cd9=await getDocs(_0x55e26f);_0x3afc2c[_0x5a090e['id']]=_0x330cd9[_0x52da91(0x42d)];}));const _0x3639b3=document[_0x59c409(0x3c4)](_0x59c409(0x587));let _0x2f5bbe='';if(_0x2c30aa==='grid'){_0x3639b3[_0x59c409(0x827)]=_0x59c409(0x1d0);if(starredQuizzes[_0x59c409(0x6e5)]>0x0&&_0xb10a07===''){const _0xc52fd5=starredQuizzes[_0x59c409(0x749)](_0x1438e6=>{const _0x1c881c=_0x59c409,_0xc56b98=allProjects['find'](_0x1484f7=>_0x1484f7['id']===_0x1438e6[_0x1c881c(0x7a0)]);return{..._0x1438e6,'projectName':_0xc56b98?_0xc56b98['projectName']:_0x1c881c(0x1e7)};});_0x2f5bbe+=_0x59c409(0x2dc)+_0xc52fd5[_0x59c409(0x749)](_0x197b6b=>_0x59c409(0x21d)+_0x197b6b['topic']+'\x22>'+_0x197b6b[_0x59c409(0x3d0)]+_0x59c409(0x179)+_0x197b6b['projectName']+_0x59c409(0x9df)+_0x197b6b[_0x59c409(0x3a1)]+_0x59c409(0x987))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes['length']+_0x59c409(0x6ec);}_0x296c18['forEach'](_0x58cd6c=>{const _0x31ab9e=_0x59c409,_0x5dd5ad=_0x3afc2c[_0x58cd6c['id']]??0x0,_0x324f45=_0x2b8c55[_0x31ab9e(0x477)](_0x58cd6c['id']),_0x5f1981=_0x58cd6c[_0x31ab9e(0x6fb)]||'#FFFFFF',_0x1b01a3=parseInt(_0x5f1981[_0x31ab9e(0x18a)](0x1,0x3),0x10)*0.299+parseInt(_0x5f1981[_0x31ab9e(0x18a)](0x3,0x5),0x10)*0.587+parseInt(_0x5f1981[_0x31ab9e(0x18a)](0x5,0x7),0x10)*0.114<0xba,_0x4971bb=_0x1b01a3?_0x31ab9e(0x466):_0x31ab9e(0x73e),_0x1b3b5e=_0x1b01a3?'text-gray-200':_0x31ab9e(0x464);_0x2f5bbe+=_0x31ab9e(0x937)+(_0x324f45?_0x31ab9e(0x5f2):_0x31ab9e(0x210))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x5f1981+_0x31ab9e(0x495)+_0x58cd6c['id']+_0x31ab9e(0x66c)+_0x58cd6c['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x1b01a3?'text-gray-300\x20hover:text-white':_0x31ab9e(0x196))+_0x31ab9e(0x524)+_0x58cd6c['id']+_0x31ab9e(0x9ba)+(_0x1b01a3?_0x31ab9e(0x24f):_0x31ab9e(0x196))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x324f45?_0x1b01a3?'text-yellow-300':_0x31ab9e(0x14c):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x58cd6c['id']+_0x31ab9e(0x489)+_0x4971bb+'\x20pointer-events-none\x22>'+_0x58cd6c[_0x31ab9e(0x3a1)]+_0x31ab9e(0x475)+_0x1b3b5e+_0x31ab9e(0x168)+new Date(_0x58cd6c['createdAt'])[_0x31ab9e(0x9dc)](_0x31ab9e(0xa20))+_0x31ab9e(0x297)+(_0x1b01a3?_0x31ab9e(0x27e):_0x31ab9e(0x7fe))+_0x31ab9e(0x706)+_0x5dd5ad+_0x31ab9e(0x499)+_0x58cd6c['id']+_0x31ab9e(0x3f0)+_0x58cd6c['projectName']+_0x31ab9e(0x84e)+(_0x1b01a3?_0x31ab9e(0x636):_0x31ab9e(0x5b4))+_0x31ab9e(0x72d);});}else _0x3639b3['className']=_0x59c409(0x3d5),starredQuizzes[_0x59c409(0x6e5)]>0x0&&_0xb10a07===''&&(_0x2f5bbe+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x59c409(0x742)),_0x2f5bbe+=_0x59c409(0xa0e),_0x296c18[_0x59c409(0x502)](_0x13be3b=>{const _0x38b83b=_0x59c409,_0x4ecd76=_0x3afc2c[_0x13be3b['id']]??0x0,_0x499347=_0x2b8c55[_0x38b83b(0x477)](_0x13be3b['id']);_0x2f5bbe+=_0x38b83b(0x7e3)+(_0x13be3b['color']||_0x38b83b(0x9c9))+_0x38b83b(0x4b2)+_0x13be3b['id']+_0x38b83b(0x43c)+_0x13be3b[_0x38b83b(0x3a1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x4ecd76+_0x38b83b(0x486)+new Date(_0x13be3b[_0x38b83b(0x66d)])[_0x38b83b(0x6fd)](_0x38b83b(0xa20))+_0x38b83b(0x243)+_0x13be3b['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x499347?_0x38b83b(0x14c):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x13be3b['id']+_0x38b83b(0x3f0)+_0x13be3b[_0x38b83b(0x3a1)]+_0x38b83b(0x93c);});projectList[_0x59c409(0x368)]=_0x2f5bbe,noProjectsMsg[_0x59c409(0x469)][_0x59c409(0xa13)](_0x59c409(0x5ec),_0x2f5bbe[_0x59c409(0x6e5)]>0x0);}document[_0x389ace(0x3c4)]('confirm-create-project-btn')[_0x389ace(0x199)](_0x389ace(0x548),async()=>{const _0x115f3e=_0x389ace,_0x135c8c=document[_0x115f3e(0x3c4)](_0x115f3e(0x657)),_0x8b83e=_0x135c8c[_0x115f3e(0x213)][_0x115f3e(0x7f5)]();if(!_0x8b83e){showMessage(_0x115f3e(0x7cd));return;}try{const _0x37a3b1=doc(collection(db,_0x115f3e(0x5a5)+appId+_0x115f3e(0x42b)));await setDoc(_0x37a3b1,{'projectName':_0x8b83e,'students':[],'settings':{'resultsDisplay':_0x115f3e(0x382),'shuffleSetting':_0x115f3e(0x2f0),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x115f3e(0x2f0),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x115f3e(0x92e)]()}),_0x135c8c[_0x115f3e(0x213)]='',createProjectModal[_0x115f3e(0x469)][_0x115f3e(0x711)]('hidden'),showMessage(_0x115f3e(0x478));}catch(_0x1e1872){console[_0x115f3e(0x316)](_0x115f3e(0x24a),_0x1e1872),showMessage(_0x115f3e(0x470));}}),projectList[_0x389ace(0x199)](_0x389ace(0x548),async _0x315768=>{const _0x509dd7=_0x389ace,_0x3448ac=_0x315768['target'][_0x509dd7(0x552)]('.project-card-content'),_0x175289=_0x315768[_0x509dd7(0x3e4)][_0x509dd7(0x552)]('.delete-project-btn'),_0x2766f0=_0x315768[_0x509dd7(0x3e4)][_0x509dd7(0x552)](_0x509dd7(0x7ae)),_0x4a2ca6=_0x315768[_0x509dd7(0x3e4)]['closest']('.color-palette-btn');if(_0x2766f0){const _0x5530b2=_0x2766f0[_0x509dd7(0x5d9)]['id'],_0x383b4e=doc(db,_0x509dd7(0x198),_0x509dd7(0xa19)),_0x2a07b4=globalDashboardSettings['pinnedProjects'];let _0x494fe1;_0x2a07b4[_0x509dd7(0x821)](_0x5530b2)?_0x494fe1=_0x2a07b4['filter'](_0x5800ef=>_0x5800ef!==_0x5530b2):_0x494fe1=[..._0x2a07b4,_0x5530b2];try{await setDoc(_0x383b4e,{'pinnedProjects':_0x494fe1},{'merge':!![]});}catch(_0x4bac65){console[_0x509dd7(0x316)]('Error\x20updating\x20pin\x20status:',_0x4bac65),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x4a2ca6){const _0x4e6099=_0x4a2ca6[_0x509dd7(0x5d9)]['id'];showColorPalette(_0x4a2ca6,_0x4e6099);}else{if(_0x3448ac){const _0x1fe43d=_0x3448ac[_0x509dd7(0x5d9)]['id'];_0x1fe43d==='starred-project'?showStarredProjectView():(currentProjectId=_0x1fe43d,await loadProjectDetails(currentProjectId),showView(_0x509dd7(0x9e8)));}else{if(_0x175289){const _0x2b2489=_0x175289[_0x509dd7(0x5d9)]['id'],_0x3fdc8c=_0x175289['dataset'][_0x509dd7(0x37b)];showConfirmation(_0x509dd7(0xa51)+_0x3fdc8c+_0x509dd7(0x5bd),()=>handleDeleteProject(_0x2b2489));}}}}}),projectList[_0x389ace(0x199)](_0x389ace(0x612),_0x432e3a=>{const _0x1fb7dd=_0x389ace,_0x2f1f80=_0x432e3a[_0x1fb7dd(0x3e4)][_0x1fb7dd(0x552)](_0x1fb7dd(0x602));_0x2f1f80&&_0x2f1f80[_0x1fb7dd(0x469)][_0x1fb7dd(0x711)](_0x1fb7dd(0x649));}),projectList[_0x389ace(0x199)](_0x389ace(0x421),_0x838dfd=>{const _0x20bed0=_0x389ace,_0x49428a=_0x838dfd[_0x20bed0(0x3e4)][_0x20bed0(0x552)](_0x20bed0(0x602));_0x49428a&&_0x49428a['classList'][_0x20bed0(0x182)](_0x20bed0(0x649));}),projectList[_0x389ace(0x199)]('dragover',_0x44b0cd=>{const _0x3effc1=_0x389ace;_0x44b0cd[_0x3effc1(0xa30)]();const _0x1a5b62=document[_0x3effc1(0x674)](_0x3effc1(0x6c3));if(!_0x1a5b62)return;const _0x38ba67=getDragAfterElement(projectList,_0x44b0cd[_0x3effc1(0x2c2)]);_0x38ba67==null?projectList[_0x3effc1(0x889)](_0x1a5b62):projectList[_0x3effc1(0x79d)](_0x1a5b62,_0x38ba67);}),projectList[_0x389ace(0x199)](_0x389ace(0x50b),_0x52cc34=>{const _0x3359b8=_0x389ace;_0x52cc34['preventDefault']();const _0x19d2ad=[...projectList[_0x3359b8(0x85d)](_0x3359b8(0x857))][_0x3359b8(0x749)](_0x5b4c21=>_0x5b4c21['dataset']['id']);saveProjectOrder(_0x19d2ad);});function renderBehaviorLog(_0x3d212c){const _0x52e8f6=_0x389ace,_0x33ec9a=document['getElementById'](_0x52e8f6(0x2b1));if(!_0x33ec9a)return;const _0x4afa62=_0x3d212c['filter'](_0x5d3ee8=>_0x5d3ee8[_0x52e8f6(0x403)]&&_0x5d3ee8[_0x52e8f6(0x403)]['length']>0x0);if(_0x4afa62['length']===0x0){_0x33ec9a[_0x52e8f6(0x368)]=_0x52e8f6(0x92a);return;}let _0x588923='';_0x4afa62[_0x52e8f6(0x502)](_0x4ba9cd=>{const _0x17bd1a=_0x52e8f6;_0x588923+=_0x17bd1a(0x2d3)+_0x4ba9cd[_0x17bd1a(0x3c0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4ba9cd[_0x17bd1a(0x403)][_0x17bd1a(0x91f)]((_0x3bdf4e,_0x1014ef)=>new Date(_0x1014ef[_0x17bd1a(0x3ba)])-new Date(_0x3bdf4e['timestamp']))[_0x17bd1a(0x502)](_0x9b8126=>{const _0x64edb0=_0x17bd1a,_0x9c29ef=new Date(_0x9b8126[_0x64edb0(0x3ba)])[_0x64edb0(0x6fd)](_0x64edb0(0xa20),{'dateStyle':_0x64edb0(0x944),'timeStyle':_0x64edb0(0x65d)});_0x588923+=_0x64edb0(0x353)+_0x9b8126[_0x64edb0(0x7a2)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x9c29ef+_0x64edb0(0x3e3);}),_0x588923+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x33ec9a[_0x52e8f6(0x368)]=_0x588923;}function getDragAfterElement(_0x4caeea,_0x5eafdd){const _0x1f1452=_0x389ace,_0x54f3b3=[..._0x4caeea[_0x1f1452(0x85d)](_0x1f1452(0x282))];return _0x54f3b3[_0x1f1452(0x7e8)]((_0x41410a,_0x12b376)=>{const _0x1bf2d0=_0x1f1452,_0x5006d6=_0x12b376[_0x1bf2d0(0x89b)](),_0x423210=_0x5eafdd-_0x5006d6['top']-_0x5006d6['height']/0x2;return _0x423210<0x0&&_0x423210>_0x41410a['offset']?{'offset':_0x423210,'element':_0x12b376}:_0x41410a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x1f1452(0x51e)];}async function saveProjectOrder(_0x44fd80){const _0x1d906d=_0x389ace,_0x1142ea=doc(db,_0x1d906d(0x198),'dashboardConfig');try{await setDoc(_0x1142ea,{'projectOrder':_0x44fd80},{'merge':!![]});}catch(_0x410265){console['error'](_0x1d906d(0x5ef),_0x410265),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x2cbcec,_0x2f1472={}){const _0xc303fc=_0x389ace;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0xc303fc(0x91a)](_0xc303fc(0x188));return;}const _0x4f219e=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0xc303fc(0x929),currentStudentName),_0x5eabc6={'event':_0x2cbcec,'timestamp':new Date()[_0xc303fc(0x92e)](),..._0x2f1472};try{await updateDoc(_0x4f219e,{'behaviorLog':arrayUnion(_0x5eabc6)}),console['log'](_0xc303fc(0x728)+currentStudentName+'\x20สำเร็จ');}catch(_0x2ccf78){_0x2ccf78[_0xc303fc(0x44f)]===_0xc303fc(0x78c)?console[_0xc303fc(0x91a)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console['error']('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x2ccf78);}}function calculateMeanAndStdDev(_0x3c34f4){const _0x5e0011=_0x389ace;if(_0x3c34f4[_0x5e0011(0x6e5)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1f1715=_0x3c34f4[_0x5e0011(0x7e8)]((_0x8fcdd,_0xcaf773)=>_0x8fcdd+_0xcaf773,0x0)/_0x3c34f4[_0x5e0011(0x6e5)];if(_0x3c34f4[_0x5e0011(0x6e5)]===0x1)return{'mean':_0x1f1715,'stdDev':0x0};const _0x3561d6=Math[_0x5e0011(0x38d)](_0x3c34f4[_0x5e0011(0x749)](_0x4a39e0=>Math[_0x5e0011(0x497)](_0x4a39e0-_0x1f1715,0x2))[_0x5e0011(0x7e8)]((_0x116ed3,_0x2865f9)=>_0x116ed3+_0x2865f9,0x0)/(_0x3c34f4[_0x5e0011(0x6e5)]-0x1));return{'mean':_0x1f1715,'stdDev':_0x3561d6};}function calculateZScore(_0x5ae185,_0x55f814,_0x5b434e){if(_0x5b434e===0x0)return 0x0;return(_0x5ae185-_0x55f814)/_0x5b434e;}function calculateTScore(_0x24bc86){return 0xa*_0x24bc86+0x32;}function showStarredProjectView(){const _0x5dbb63=_0x389ace;currentProjectId=_0x5dbb63(0x3ec),currentProjectData=null,projectTitle[_0x5dbb63(0x60f)]=_0x5dbb63(0x826),projectIdDisplay[_0x5dbb63(0x60f)]=_0x5dbb63(0xa21),showView(_0x5dbb63(0x9e8)),manageTab[_0x5dbb63(0x469)]['add'](_0x5dbb63(0x5ec)),leaderboardTab['classList'][_0x5dbb63(0x711)](_0x5dbb63(0x5ec)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x309c08){const _0x8ca54a=_0x389ace,_0x55f3d0=doc(db,'artifacts/'+appId+'/public/data/projects',_0x309c08),_0x4babee=await getDoc(_0x55f3d0);if(_0x4babee[_0x8ca54a(0x446)]()){manageTab['classList'][_0x8ca54a(0x182)](_0x8ca54a(0x5ec)),leaderboardTab[_0x8ca54a(0x469)][_0x8ca54a(0x182)]('hidden'),currentProjectData=_0x4babee[_0x8ca54a(0x47e)](),projectTitle[_0x8ca54a(0x60f)]=currentProjectData[_0x8ca54a(0x3a1)],projectIdDisplay[_0x8ca54a(0x60f)]=_0x309c08;const _0x51740f=currentProjectData[_0x8ca54a(0x4a1)]||{};document[_0x8ca54a(0x3c4)]('shuffle-setting-select')[_0x8ca54a(0x213)]=_0x51740f[_0x8ca54a(0x9c8)]||'none';const _0x392b49=document['getElementById'](_0x8ca54a(0x9c6));_0x392b49['checked']=_0x51740f['showInStudentDashboard']!==![];const _0x37f0ef=document['getElementById'](_0x8ca54a(0x3b6)),_0x49d3be=document[_0x8ca54a(0x3c4)](_0x8ca54a(0x923)),_0xe94503=document[_0x8ca54a(0x3c4)](_0x8ca54a(0x3f1)),_0x480291=_0x51740f[_0x8ca54a(0x3c7)]||![];_0x37f0ef[_0x8ca54a(0x2cd)]=_0x480291,_0xe94503[_0x8ca54a(0x213)]=_0x51740f[_0x8ca54a(0x451)]||'',_0x49d3be[_0x8ca54a(0x469)]['toggle']('hidden',!_0x480291),_0x37f0ef[_0x8ca54a(0x390)]=()=>{const _0x1fbea4=_0x8ca54a;_0x49d3be[_0x1fbea4(0x469)][_0x1fbea4(0xa13)](_0x1fbea4(0x5ec),!_0x37f0ef[_0x1fbea4(0x2cd)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x309c08),listenForProjectQuizzes(_0x309c08),listenForStudentProfiles(_0x309c08);}else showMessage('ไม่พบโปรเจค'),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x4f4ca4=_0x389ace,_0xf736f7=doc(db,_0x4f4ca4(0x198),'dashboardConfig');try{await setDoc(_0xf736f7,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4f4ca4(0x534));}catch(_0x4ccfa5){console[_0x4f4ca4(0x316)](_0x4f4ca4(0x8fb),_0x4ccfa5),showMessage(_0x4f4ca4(0x608));}}async function handleTogglePinProject(_0x36a4c8){const _0x39f069=_0x389ace;if(!_0x36a4c8)return;const _0x1e17f0=doc(db,_0x39f069(0x5a5)+appId+_0x39f069(0x42b),_0x36a4c8);try{const _0x3a784a=await getDoc(_0x1e17f0);if(_0x3a784a[_0x39f069(0x446)]()){const _0x2fc93e=_0x3a784a[_0x39f069(0x47e)]()[_0x39f069(0x453)]||![];await updateDoc(_0x1e17f0,{'isPinned':!_0x2fc93e});}}catch(_0x47dbe7){console[_0x39f069(0x316)]('Error\x20toggling\x20pin\x20status:',_0x47dbe7),showMessage(_0x39f069(0x907));}}async function handleDeleteProject(_0x3f5ca7){const _0x2809ae=_0x389ace;try{const _0x449062=writeBatch(db),_0x326a6b=collection(db,_0x2809ae(0x5a5)+appId+'/public/data/quizzes'),_0x53bbc6=query(_0x326a6b,where(_0x2809ae(0x7a0),'==',_0x3f5ca7)),_0x2cc20f=await getDocs(_0x53bbc6);for(const _0x2d828b of _0x2cc20f[_0x2809ae(0x768)]){const _0x22a949=collection(db,'artifacts/'+appId+_0x2809ae(0x758)+_0x2d828b['id']+_0x2809ae(0x929)),_0x55a508=await getDocs(_0x22a949);_0x55a508[_0x2809ae(0x502)](_0x4dabd3=>{const _0x3c2055=_0x2809ae;_0x449062[_0x3c2055(0x36a)](_0x4dabd3['ref']);}),_0x449062['delete'](_0x2d828b['ref']);}const _0x1d6056=collection(db,'artifacts/'+appId+_0x2809ae(0x541)+_0x3f5ca7+_0x2809ae(0x354)),_0x455563=await getDocs(_0x1d6056);_0x455563[_0x2809ae(0x502)](_0x31ba56=>{_0x449062['delete'](_0x31ba56['ref']);});const _0x3dd968=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3f5ca7);_0x449062[_0x2809ae(0x36a)](_0x3dd968),await _0x449062[_0x2809ae(0xa09)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x2809ae(0x472));}catch(_0x1411fd){console[_0x2809ae(0x316)](_0x2809ae(0x1b1),_0x1411fd),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}function _0x3fef(){const _0x59b7f4=['text-red-800','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการปักหมุด','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','<tr\x20class=\x22','promptFeedback','print','back-to-dashboard-btn','</div>\x0a</div>\x0a','หน่วยเวลาและการคำนวณเวลา','<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','Remedial\x20quiz\x20generation\x20failed:','ON_FIRE','\x0a---\x0a','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-reading-area','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','files','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','.generate-lesson-btn','สู้ๆ\x20ลองอีกครั้งนะ','warn','Re-grade\x20process\x20failed:','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','half_mark_status','.quiz-status-btn','sort','ระยะเวลา\x20(วินาที):','Error\x20adding\x20custom\x20topic:','.quiz-bank-settings-btn','passcode-input-container','highlighter-tool-btn','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','เกิดข้อผิดพลาดในการบันทึก','ชื่อโปรเจคห้ามว่าง','แผนภาพเวนน์','/submissions','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','#ffffff','transparent','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','toISOString','สรุปผลการวิเคราะห์:\x5cn','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','scratchpad-controls','svg','status','แบบทดสอบซ่อมเสริม','generate-from-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','link-tab','confirm-bulk-quiz-settings-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','projectView','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','getTextContent','project-sort-select','summary','mousemove','short','ค.ร.น.\x20(LCM)','</td></tr>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','results-tab','ตาของ:\x20','ยอดเยี่ยม!','Error\x20adding\x20students:','การคูณ','entries','submit','การวัด','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','bg-red-500','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','fas\x20fa-user-edit','ดอกเบี้ยอย่างง่าย','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</option>','.isScored','\x5cfrac{$1}{$2}','label','multiple_choice','font-bold\x20text-red-700\x20line-through','jspdf','numeric','reveal-answer-btn','STRING','\x22>ไม่ใช่</p>','quiz-bank-count','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','isConfidenceScoringEnabled','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Attempting\x20to\x20save\x20game\x20results...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ระยะจากจุดถึงเส้นตรง','การกระจายและการจัดหมู่','\x22...','tGain','Error\x20starting\x20sync\x20game:','Error\x20deleting\x20custom\x20topic:','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','overline','worksheet-tab','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','Invalid\x20response\x20structure\x20from\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','answer-counter','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','analytics-summary-cards','สร้างชุดคำถามจับคู่','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','modal-results-display-select','live-player-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','บันทึกคำถามใหม่\x20','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replace','kick-player-btn','ฟังก์ชันลอการิทึม','กราฟแท่ง\x20กราฟเส้น','.live-answer-btn,\x20#sync-submit-btn','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนคู่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','leaderboard-table-body','sync-submit-btn','/public/data/practiceBank','ถูกต้อง!','.highlighter-color-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','student-result-area','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22','.move-quiz-btn','deltaY','</p><p><strong>เฉลย:</strong>\x20','getAttributeNS','globalAlpha','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','1396115GIkJAq','มุมและการวัดมุม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','ควรปรับปรุง','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','scheduled','\x22\x20class=\x22pin-project-btn\x20','setAttribute','.lastAnswerValue','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','back-to-student-initial-btn','math-topics-checkbox-container','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','scrollX','innerText','indexOf','show-in-student-dashboard-checkbox','transition-all','shuffleSetting','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','fadeStartTime','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','isRemedial','text-input-area','สัญกรณ์วิทยาศาสตร์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','next-drill-btn','link-topic-input','learningGaps','submission','lobby','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','toLocaleDateString','https://corsproxy.io/?','ค่าเฉลี่ย','\x22>จาก:\x20','far\x20fa-star','all','กรุณาเลือกโปรเจคที่ต้องการบันทึก','.color-palette-popup','\x22\x20สำเร็จ','export-lesson-pdf-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','presentation-short-answer-input','project-detail','พีชคณิตและฟังก์ชัน','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','อสมการเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบ:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','จำนวนนักเรียน','pointermove','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','draggable-text','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','file-input-area','student-quiz-area','document','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','กรุณาใส่ชื่อนักเรียน','add-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','list-view-btn','cancel-team-selection-btn','ลบแบบทดสอบสำเร็จแล้ว','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','ค่าคลาดเคลื่อนของการวัด','\x5cs*\x5c(','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','undo-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','question','commit','\x20คน\x20ตอบถูก</p></div>','ฮิสโตแกรม','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','155684FAiRUI','เกิดข้อผิดพลาดในการลบหัวข้อ','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','toggle','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มบวก','results','Invalid\x20response\x20structure\x20from\x20AI.','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','dashboardConfig','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','.topic-name-input','การบวกเศษส่วน','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','pinned-items','กลุ่ม:\x20','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','get','โดเมนและเรนจ์','random','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','บันทึกผลการเล่นเกมของ\x20','readAsDataURL','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x20mx-1\x20text-lg\x22></i></span>','preventDefault','.unpair-quiz-btn','เกิดข้อผิดพลาดในการลบนักเรียน','input[type=\x22radio\x22][value=\x22','label[for=\x22num-questions\x22]','back-to-dashboard-from-results-btn','Failed\x20to\x20get\x20standardized\x20topic:','fixedData','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','interesting-stats-container','startedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','move-quiz-modal','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','<br>','รูปสี่เหลี่ยมและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','ผู้ควบคุม\x20(ทดสอบ)','พื้นที่วงกลม/ส่วนของวงกลม','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','project-dashboard-view','Error\x20displaying\x20question\x20bank:','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','comparison-modal','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</body></html>','ไม่ผ่าน','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','frac','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scores-tab-content','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','Error\x20joining\x20team\x20quiz:','move-quiz-project-select','stroke','bg-gray-50','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่มีคำอธิบาย','cancel-rename-quiz-btn','stem','cloneNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','COMEBACK_KING','\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีมาก','moveTo','save-quiz-btn','701370FIulwW','เกิดข้อผิดพลาดในการลบผลสอบ','กำลังจับคู่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ค่าเสื่อมราคา','gain','parallel-test-upload-input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','Error\x20verifying\x20answers:','bulk-loop-until-pass-checkbox','\x22\x20name=\x22team_answer\x22\x20value=\x22','manage-tab-content','setFont','touch','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','จำนวนและการดำเนินการ','transform','เส้นตรง:\x20รูปแบบสมการ','<div\x20class=\x22answer-space\x22></div>','wasConfident','#FCE7F3','bg-green-100\x20font-bold','fromCharCode','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-tab','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','FIRST_TRY_ACE','ARRAY','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20หัวข้อ)','ไม่มีผู้ตอบตัวเลือกนี้','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','projectSortOrder','pre-test-checkbox','destroy','.draggable-text','FileReader\x20error:','ผิด','ดีเทอร์มิแนนต์','active','ไม่สามารถเพิ่มนักเรียนได้','border-green-700','<h1></h1>','quiz-bank-modal','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','name_desc','pen-tool-btn','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบสำเร็จ','rows','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.presentation-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','การแจกแจงปกติและ\x20z-score','startTime','ระยะทางและจุดกึ่งกลาง','rgba(16,\x20185,\x20129,\x200.7)','%</span>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ทำคะแนนได้เกินครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','admin-password-input','preTestId','export-excel-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','hover:bg-indigo-100','scores-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','per-question-options','quiz-settings-modal','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','student-quiz-leaderboard-table-body','GlobalWorkerOptions','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','hasOwnProperty','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','currentQuestionIndex','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','px)\x20scale(','_blank','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','pop','อนุพันธ์:\x20กฎพื้นฐาน','พื้นที่สามเหลี่ยม','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','</span></div>','ราชาคัมแบ็ก','.admin-try-quiz-list-btn','student-progress-view','responses','ฟังก์ชันพหุนาม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','firstScore','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สลับไปโหมดผู้ควบคุม','close-game-final-btn','generate-from-blueprint-btn','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','remove','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','interesting-stats-wrapper','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','scratchpad-header','substring','27411472','[data-topic-container-id]','modal-timer-mode-select','arrayBuffer','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','progress-student-select','ตรวจพบการออกจากหน้าจอครบ\x20','thead\x20.sortable-header','from','scheduled_pending','text-gray-400\x20hover:text-indigo-600','fixed','globalSettings','addEventListener','string','Error\x20saving\x20submission:','input[name=\x22drill_answer\x22]:checked','both','-tab','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','bg-red-100','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','bg-green-500','lastAnswerIndex','ฟังก์ชันเชิงเส้นและกราฟ','confirm-global-live-btn','fa-shield-alt\x20text-gray-600','สร้างคำถามแบบใช่/ไม่ใช่','Failed\x20to\x20resume\x20game\x20session:','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quadraticCurveTo','canvas','generate-from-parallel-test-btn','วงกลม:\x20สมการและสมบัติ','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','insertAdjacentHTML','Error\x20deleting\x20project:','Error\x20deleting\x20student:','padStart','input[type=\x22checkbox\x22]:checked','</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการลอการิทึม','key','input[type=\x22text\x22]','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parent','reset-view-btn','keyup','lower_group_count','cancel-test-btn','fa-crown\x20text-yellow-500','open','\x22.\x20','timer-duration-container','bg-black/20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.sort-indicator','load-quiz-btn','split','student-team-join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','request','อสมการค่าสัมบูรณ์','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','generate-worksheet-btn','webkitRequestFullscreen','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','(ไม่มีชื่อ)','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','getBBox','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-category','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ท็อปฟอร์ม','results-table','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','คะแนน','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','N/A','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','.copy-quiz-id-list-btn','copy','ดูผลสรุปสุดท้าย','การสร้างรูปด้วยวงเวียน–สันตรง','<p>','.answered','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','ค่าความจริง/ตารางค่าความจริง','กฎของโคไซน์','Error\x20deleting\x20all\x20students:','highlighter-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','live-options-container','cos','finishReason','fullscreenchange','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','สเกลและแผนที่','bg-yellow-100','toString','Error\x20saving\x20visibility\x20settings:','Team\x20Quiz','desc','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แบบเติมคำตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','bank-quiz-search-input','dispatchEvent','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคปลายทาง',')\x5cb)','default','border-gray-200','การปัดเศษและประมาณค่า','ลำดับเลขคณิต\x20(AP)','value','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','text-blue-800','cancel-delete-btn','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','border-green-300\x20bg-green-50','underline','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','quizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','json','onerror','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','สมการค่าสัมบูรณ์','drill-feedback','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','set','projectSort','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','Error\x20loading\x20user\x20preferences:','date_desc','กฎบวกและกฎคูณ','release','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','postTScore','requestFullscreen','ลิมิต','score-distribution-chart','^{\x5ccirc}\x5ctext{C}$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','projectOrder','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','student-view','options','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','15bzLRzR','กรุณาพิมพ์คำตอบของคุณ','temp-loader-results','scratchpad-modal','quiz-results-table-body','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','perseverance','Failed\x20to\x20parse\x20JSON\x20from\x20AI','textarea','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','select','repeat','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','start-live-race-generated-btn','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','Error\x20creating\x20project:','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700','beginPath','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','global-live-game-modal','ก่อนเรียน','analytics','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการเหตุผล\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','join','.generate-post-test-btn','bestScore','\x5ctext{$1}','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','ไม่ใช่\x20/\x20ผิด','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','actions-container-','lineWidth','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','$1\x5ctext(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','cursor','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','.quiz-bank-item','table','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','Enter','</tbody></table></div>','fas\x20fa-bookmark','confirm-passcode-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','touchcancel','student-team-selection-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div[data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','text-gray-100','update','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctext{','.project-card-container:not(.opacity-50)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','mode','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','student','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','จำนวนข้อ:','helvetica','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-content','parallel-test-tab','ยังไม่มีนักเรียนส่งงาน','.ideal-answer-input,\x20.correct-response-input','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','removeEventListener','ปรับเพิ่ม/ลดเป็นร้อยละ','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','</tbody></table>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','open-quiz-bank-btn','file-tab','thead','AI\x20Formula\x20Fix\x20Error:','/public/data/syncGames','.live-summary-tooltip.visible','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','fa-pen','fa-rocket\x20text-purple-500','move','$1^{\x5ccirc}\x5ctext{C}','summary_chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','loop-until-pass-checkbox','.save-to-bank-btn','totalPoints','BOOLEAN','latestScore','btn','<span\x20class=\x22sort-indicator\x20ml-2\x22>','push','วงกลม:\x20คอร์ดและเส้นสัมผัส','behavior-log-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','Error\x20confirming\x20players:','include-images-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctimes','#6366F1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','groups.','right','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','clientY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','presentation-explanation','devicePixelRatio','inactive','[contenteditable=\x22true\x22]','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','solution','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','checked','stringify','#000000','now','show-results-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','disabled','input[name=\x22question_single\x22]:checked','\x5csqrt{$1}','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','values','ยังไม่ส่ง','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','การเรียงสับเปลี่ยน\x20(Permutation)','สมการยกกำลัง','quiz-start-time','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','กรุณาป้อนหัวข้อสำหรับใบงาน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','classStrengths','ความเป็นอิสระของเหตุการณ์','cancel-admin-login-btn','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','students','เกี่ยวกับหัวข้อ\x20\x22','การคูณทศนิยม','href','none','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','.csv','prod','input[type=\x22radio\x22]:checked','.quiz-bank-try-btn','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','no-projects-msg','quiz-id-input','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คำถามถัดไป','autoTable','Error\x20listening\x20for\x20projects:','cancel-create-project-btn','PERSEVERANCE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ระบบสมการเชิงเส้นสองตัวแปร','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','find','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-quiz-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เส้นตรง:\x20ขนาน/ตั้งฉาก','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','_opt1\x22\x20name=\x22question','</label>\x0a\x20\x20\x20\x20</div>\x0a','mode-switcher-btn','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','clearRect','<li>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','Error\x20generating\x20worksheet:','.ideal-answer-input','confirm-quiz-settings-btn','error','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','<p\x20class=\x22font-bold\x20text-sm\x20','ข้อที่\x20','สำหรับโปรเจค:\x20','bg-gray-500','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','/public/data/liveGames','export-leaderboard-image-btn','pointerType','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-detail-view','ไม่พบข้อมูลข้อสอบหลังเรียน','ไม่พบข้อมูลการจับคู่','student-passcode-input','true_false','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','admin-testing','cancel-game-start-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','isLooping','isScored','Error\x20loading\x20quiz\x20for\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answers','adaptive-quiz-checkbox','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','<div\x20class=\x22my-6\x22>','Error\x20joining\x20sync\x20game:','button[data-id]','project-search-input','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cdiv','ผลรวมอนุกรม\x20(Σ)','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','schedule','pin','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','player-list-lobby','allResponses','POST','normal','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','red','คัดลอกรหัสแล้ว!','student-rankings-modal','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','กราฟฟังก์ชันตรีโกณ','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','Error\x20listening\x20for\x20custom\x20math\x20topics:','Firebase\x20initialization\x20failed:','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สุดยอด!\x20ตอบถูกทุกข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','/studentProfiles','modal-timer-duration-label','translate(','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','blueprint-input-area','<button\x20id=\x22','text/csv;charset=utf-8;','submissions','show_pass_fail_only','ยกเลิกการจับคู่สำเร็จ','กรุณาเลือกคำตอบของกลุ่ม','line-through\x20text-red-700','จัดการ','log','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','max','cancel-quiz-edits-btn','min','Leaderboard\x20update\x20transaction\x20failed:\x20','innerHTML','.start-game-btn','delete','ring-purple-400','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','เปลี่ยนชื่อโปรเจคสำเร็จ','pointerdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupResponders','next-question-btn','bg-red-100\x20text-red-800','live-race','show-leaderboard-btn','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','circ','ai-quiz-app-aefee.firebaseapp.com','idealAnswer','project-id-display','name','link-url-input','ผ่านฉลุย','perfect_score','start-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','show_results_and_answers','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','answered','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','Error\x20processing\x20file\x20for\x20AI:','(หลังเรียน)\x20','icon','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.start-presentation-list-btn','เลือกโปรเจคเพื่อบันทึก','.group','sqrt','\x22\x20ให้เป็นคำถามประเภท\x20\x22','manage','onchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','scratchpad-close-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','quiz-search-input','redo-btn','เรขาคณิต','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','pen','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onclick','shuffle','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','QUICK_THINKER','projectName','text-red-900','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','team-quiz-topic','katex','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','upper_group_count','quiz-leaderboard-table-body','presentation-ai-result','.duplicate-quiz-btn','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','#math-topics-checkbox-container\x20input:checked','showInStudentDashboard','ไม่ใช่','.quiz-settings-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-mode','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','.answer-text','enable-passcode-checkbox','save','ห.ร.ม.\x20(GCD)','.ai-fix-question-btn','timestamp','เกิดข้อผิดพลาดในการจับคู่','Error\x20saving\x20settings:','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','touchstart','.pair-quiz-btn','studentName','quick_thinker','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','getElementById','difficulty-level-select','localeCompare','isPasscodeEnabled','next-sync-question-btn','getDocument','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','passcode-prompt-message','เริ่มกิจกรรม:\x20','playerName','blueprint-tab','topic','แบบทดสอบนี้หมดเวลาแล้ว','.score','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','flex\x20flex-col\x20gap-2','</button>','fa-bolt\x20text-blue-500','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','analytics-tab-btn','พื้นที่ผิวรูปทรงสามมิติ','Error\x20saving\x20questions\x20to\x20practice\x20bank:','project-quizzes-list','dataIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Error\x20deleting\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x5ccdot','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','target',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เซียนสมองไว','แบบทดสอบนี้ปิดใช้งานอยู่','$1\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','starred','flex','message-modal','confirmation-modal','\x22\x20data-name=\x22','project-passcode-input','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20(p=','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','eraser','กรุณาเลือกชื่อของคุณ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x20/\x20','latestSubmittedAt','modal-passing-score-input','Error\x20saving\x20user\x20preference:','behaviorLog','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','/public/data/quizzes','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','true','scratchpad-options','.topic-actions-edit','generate-from-text-btn','student-project-leaderboard-tab','ลำดับการดำเนินการ\x20(PEMDAS)','ลบผลสอบของ\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','ไม่พบข้อมูลผู้ใช้','game-start-quiz-id','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','<div\x20class=\x22flex-1\x22></div>','Error\x20updating\x20custom\x20topic:','.answeredCurrentQuestion','global-quiz-search-input','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','slice','</td>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','dragend','\x20คู่\x20','circle','quiz-schedule-end-container','rename-quiz-input','</span>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','project-passcode-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','/public/data/projects','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','size','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','podium','quiz-generation-area','loader','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','team','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','เมทริกซ์:\x20บวก/คูณ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','analytics-tab-content','hasPerfectScoreBonus','raw','การจัดหมู่\x20(Combination)','อนุพันธ์:\x20กฎลูกโซ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','พิสัย','trail','finished','exists','#results-table\x20thead\x20tr','ส่งคำตอบ','comparison-individual-content','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','match','correct','originalQuestionText','ตารางความถี่','code','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','passcode','asc','isPinned','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','ส่วนเบี่ยงเบนมาตรฐาน','groups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','Error\x20fetching\x20projects\x20for\x20move:','AI\x20request\x20was\x20blocked.\x20Reason:\x20','per-question-text','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','destination-out','keys','.edit-quiz-btn','confirm-admin-login-btn','matching','\x20from\x20sync\x20game:','check-presentation-answer-btn','.pdf','text-gray-500','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','text-white','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','lesson-plan-title','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','wheel','touches','ไม่สามารถสร้างโปรเจคได้','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','admin-dashboard','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','quizMode','has','สร้างโปรเจคสำเร็จ!','admin-password-modal','questions','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','touchend','data','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','hint-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','mixed','quiz-leaderboard-table','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topic-search-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','globalCompositeOperation','results-quiz-title','AI\x20แก้ไขคำถามสำเร็จ!','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่เต็มนะ','bg-green-200','<option\x20value=\x22\x22>กำลังโหลด...</option>','.lastAnswerIndex',';\x22\x20data-id=\x22','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','pow','msExitFullscreen','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','contentEditable','check-answer-btn','00:00','Error\x20confirming\x20players\x20for\x20sync\x20game:','ย้ายแบบทดสอบไปโปรเจคอื่น','passing-score-input','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','settings','#FFFFFF','student-progress','แผนการสอน','text-green-800','บันทึกการตั้งค่าสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','message','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','result','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','worksheet-input-area','.choice-text','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','Error\x20moving\x20quiz:','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','specialist','</li>','width','0\x200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','Failed\x20to\x20create\x20initial\x20submission\x20record:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-presentation-btn','left','mousedown','อินเวอร์สของเมทริกซ์','Error\x20generating\x20parallel\x20post-test:','text-blue-700\x20bg-blue-100','typesetPromise','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','save-project-name-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','พบ\x20Team\x20Quiz!','data:application/vnd.ms-word;charset=utf-8,','<i\x20class=\x22fas\x20fa-save\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','manage-tab','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-presentation-btn','166481XvdcxI','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','input[name=\x22status-option\x22]','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','q-explanation-','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','setTransform','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','2-digit','(ก่อนเรียน)','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','student-name-input','timer-duration-input','#DBEAFE','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','ความชันและเส้นตรง','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','approx','showImproveButton','ไม่สามารถบันทึกการตั้งค่าได้','passingScore','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจทานเฉลยเสร็จสิ้น!','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','upperGroupResponders','reset-project-order-btn','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','/questionBank','ร้อยละพื้นฐาน','visible','function','องค์ประกอบของฟังก์ชัน','#10B981','exitFullscreen','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','start-game-btn','forEach','screen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','create-from-bank-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prev-question-btn','Error\x20starting\x20team\x20quiz:','drop','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','เงินงวด\x20(อนุกรมเงินงวด)','text-emerald-800','mjx-container','confirm-join-game-btn','players','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','confirm-delete-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','quiz-form','modal-loop-until-pass-checkbox','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','</span></p>','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','first_try_ace','\x20รายการสำเร็จ!','(^|[^\x5c\x5c])\x5cb','attempts','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','p-2\x20bg-black/10\x20rounded-md','style','timerDuration','\x5cle','user-id-display','live-short-answer-input','deselect-all-topics-btn','lineCap','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','รีเซ็ตลำดับโปรเจคแล้ว','comparison-overall-tab','ความแปรปรวน','content','password-error-msg','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ไม่สามารถเริ่มเกมได้','Error\x20joining\x20activity:','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ref','top','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','จุด\x20เส้น\x20ระนาบ','/public/data/projects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','geq','มุมพิเศษ\x2030°-60°-90°','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','show_results_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','behavior-log-tab-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','wakeLock','createElement','quiz-end-time','answers','#FEE2E2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','text-yellow-800','closest','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','presentation-modal','false','after','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราการเปลี่ยนแปลงทันที','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','back-to-home-manual-release','generate-from-file-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','players.','mouse','setAttributeNS','sync-manage-players-btn','keydown','close-comparison-modal-footer-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','#per-question-options\x20select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','กรุณาเลือกคำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบ','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','game-pin-input','filter','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','[*]','เกิดข้อผิดพลาดในการอัปเดต:\x20','presentation-scratchpad-btn','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','shadowColor','lesson-plan-modal','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x20ชุดสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','removeChild','</h3>','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','bank-tab','project-list','hint','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','offsetWidth','</div>','<div\x20class=\x22loader\x20mx-auto\x22></div>','createObjectURL','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ความต่อเนื่อง','group','ความชันเส้นสัมผัส','cancel-bulk-quiz-settings-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','กำลังอ่านและเตรียมไฟล์...','multiply','$1^{$2}','loader-text','q-image-container-','<div\x20class=\x22my-2\x22>','results_','lastAnswerCorrect','ใช่\x20/\x20ถูก','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','Error\x20submitting\x20team\x20answer:','text/html','quiz-status-options','modal-shuffle-select','artifacts/','matching_item','dfrac','สลับไปโหมดนักเรียน','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','กรุณาป้อนรหัสแบบทดสอบ','ฟังก์ชันแบบชิ้นส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','leaderboard-quiz','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','confidence-scoring-toggle','cancel-quiz-edits-btn-footer','sync-matching-select','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','textarea[name=\x22team_answer\x22]','str','เรเดียนและการแปลงหน่วย','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','members','การจัดกลุ่มข้อมูล','height','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','submittedAt','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','.kick-player-btn-sync','ระยะเวลา\x20(นาที):','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','slide-counter','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn',':</p><p\x20class=\x22text-xs\x22>','editable-text-','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','application/json','text-green-600','dataset','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','No\x20player\x20data\x20to\x20save.','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.delete-submission-btn','text-red-600','_opt0\x22>ใช่</label></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','Error\x20renaming\x20quiz:','กำลังสร้างแบบทดสอบจากหัวข้อ...','main-correct-answer-display','\x20ข้อ\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','Error\x20listening\x20for\x20student\x20profiles:','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','hidden','input[type=\x22checkbox\x22]','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','Error\x20saving\x20project\x20order:','isArray','doughnut','border-indigo-400\x20ring-2\x20ring-indigo-200','<div\x20class=\x22space-y-4\x22>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','มุมพิเศษ\x2045°-45°-90°','pointercancel','\x22\x5cn','รากที่สองและที่สาม','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','stopPropagation','Error\x20deleting\x20submission:','-tab-content','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','candidates','.project-card-container','#F3E8FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','answering','สร้างคำถามใหม่\x201\x20ข้อ\x20','Error\x20generating\x20lesson\x20plan:','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x22\x20name=\x22question_single\x22\x20value=\x22','input[name=\x22team_player\x22]:checked','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','student-name-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','textContent','สอบซ่อม','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','dragstart','results-display-select','ความสัมพันธ์ของมุม','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ดอทโปรดักต์\x20(dot)','ปริพันธ์ไม่จำกัด','rgba(255,\x20255,\x200,\x200.5)','strokeStyle','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','เกิดข้อผิดพลาดในการเข้าร่วมเกม','.topic-name-display','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','quiz-editor-modal','currentTarget','\x22.\x20Ideal\x20Answer:\x20\x22','admin','backgroundColor','.correct-response-input','ตรีโกณมิติ','อนุพันธ์:\x20ผลคูณ/ผลหาร','<option>กำลังโหลดโปรเจค...</option>','Error\x20showing\x20quiz\x20detail\x20view:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','scrollY','abs','#26890c','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','กำลังสร้างรูปภาพ...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-300\x20hover:text-red-100','Error\x20updating\x20project\x20color:','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','bank-input-area','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','modal-close-btn','choices_only','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-link-btn','Error\x20during\x20class\x20analysis:','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','สมการเชิงเส้นตัวแปรเดียว','bulk-results-display-select','Error\x20regenerating\x20question\x20in\x20editor:','วงรี','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','opacity','opacity-50','end-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','fullscreenElement','user','contents','end-team-quiz-btn','pen-tools-group','questionType','visibilityState','\x22><p\x20class=\x22font-semibold\x22>','file-topic-input','explanation','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-name-input','touchmove','leaderboard','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','classWeaknesses','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','medium','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test','perQuestionStats','neq','.ai-fix-formula-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','eraser-tool-btn','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.status','shadowBlur','จำนวนเชิงซ้อน\x20(เสริม)','confirmation-message','fill_in_no_choices','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','createdAt','resize','leaderboard-quiz-tab-btn','\x20(ID:\x20','resultsDisplay','save-settings-btn','back-to-project-btn','querySelector','restore','\x22><i\x20class=\x22fas\x20','<textarea\x20name=\x22question','generated-quiz-actions','manual_release','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','targetId','toDataURL','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','.doc','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มัธยฐาน','<p\x20class=\x22','justification','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Error\x20generating\x20quiz:','ความคาดหมาย\x20(Expected\x20value)','.sortable-header','add-custom-math-topic-btn','submission-status-chart','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','timerMode','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','เกิดข้อผิดพลาดในการส่งคำตอบ','ตอบถูก\x203\x20ข้อติดต่อกัน','Error\x20updating\x20quiz\x20status:','.lastAnswerCorrect','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','export-leaderboard-excel-btn','teachingContent','1:274192258111:web:4120c9118229b5644dd48a','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','mouseup','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','Error\x20fetching\x20student\x20rankings:','.quiz-result-card','แผนการสอน:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','รหัสไม่ถูกต้อง','bg-purple-50','เกมสิ้นสุดลงแล้ว','scale','editor-quiz-topic','ตัวแปรและนิพจน์','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```','การหารเศษส่วน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x5cneq','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','qType','#e21b3c','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','แก้ไขข้อนี้','parallel-test-input-area','leq','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','parse','.export-pdf-list-btn','upperGroupNames','floor','generated-quiz-container','comparison-individual-tab','results-quiz-id-display','การแจกแจงทวินาม\x20(พื้นฐาน)','คัดลอกแบบทดสอบสำเร็จ','bg-red-50','.project-card-container.opacity-50','suggestedAnswer','live-submit-short-answer-btn','fill_in_the_blank','student-join-game-view','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','clientX','ผ่าน','transformOrigin','every','<tr>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','แก้ระบบสมการด้วยเมทริกซ์','กรุณาวาง\x20URL\x20ของบทความก่อน','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20project\x20quizzes:','\x20คะแนน\x20','<p\x20class=\x22text-2xl\x22>','practiceProblems','splice','ใช่','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามดิบ:\x20\x22','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','#student-project-leaderboard-content\x20thead','</th>','quiz-results','length','พบข้อสอบ\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','index','position','some','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-status-btn','.edit-custom-topic-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','ฟังก์ชันราก\x20(root)','ไม่ได้ตอบ','Failed\x20to\x20end\x20group\x20mode\x20game:','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','ชื่อหัวข้อห้ามว่าง','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','close','ai-quiz-app-aefee.firebasestorage.app','global-quiz-list','หลังเรียน','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','color','per-question-timer-container','toLocaleString','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','กรุณาเลือกไฟล์ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tool','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','input[name=\x22status-option\x22]:checked','bottom','):\x20','text-green-700','removeAttribute','answeredCurrentQuestion','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','answer','add','/users/','Error\x20duplicating\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22>ไม่ใช่</label></div>','nickname-input','preScore','input','</p></div>','grid-view-btn','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</div><div\x20class=\x22space-y-2\x22>','ไม่พบข้อมูลเกม','text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','topic-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','lessonPlan','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','questionId','$$$1$','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x5cfrac{','อัปเดตพฤติกรรมสำหรับ\x20','ข้อต่อไป','คณิตการเงิน/บูรณาการ','สมการราก\x20(radical)','$1_{$2}','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','file-upload-input','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','สร้างคำถามแบบเติมคำในช่องว่าง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-short-answer-input','คณิตศาสตร์','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','reference-pdf-upload','num-choices-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','export-image-btn','26766dBYjEd','trail-tool-btn','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','cancel-global-live-btn','text-indigo-800','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','correctResponse','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','editable-quiz-topic','fa-dumbbell\x20text-gray-700','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','ring-2','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','map','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','กิจกรรมสิ้นสุดลงแล้ว','join-live-game-btn','text-red-700\x20bg-red-100','<button\x20data-value=\x22','confirm-move-quiz-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit-team-answer-btn','ไม่พบข้อมูลแบบทดสอบ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ตรวจคะแนนใหม่\x20','save-game-results-checkbox','modal-adaptive-quiz-checkbox','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x20ครั้ง)</span></td>','catch','.verification-result','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','admin-view','ownerSVGElement','ai-quiz-generator-v3','delete-all-students-btn','การลบ','sin','text','แผนภาพกล่อง\x20(box\x20plot)','\x22>ใช่</p>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','startsWith','qIndex','createdBy','.png','การลบทศนิยม','pinnedProjects','\x20ตัวเลือก.\x20','question-analytics-container','API\x20call\x20failed\x20with\x20status:\x20','close-student-rankings-btn','timer-bar','questionStatus','Error\x20verifying\x20answers\x20in\x20editor:','560fTUXck','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20mb-2\x22>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','export-pdf-modal','focus','mouseleave','(ก่อนเรียน)\x20','Error\x20pairing\x20quizzes:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','answerText','not-found','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','ai-quiz-app-aefee','toFixed','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','responses.','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','td,\x20th','cancel-quiz-bank-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','shouldSaveResults','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','back-from-results-btn','insertBefore','practice-topic-btn','<button\x20data-quiz-id=\x22','projectId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','attemptNumber','.delete-quiz-btn','save-quiz-edits-btn','image/png','Error\x20updating\x20sort\x20preference:','type','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','font-bold\x20text-green-700','student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-team-players-btn','.pin-project-btn','ปริพันธ์จำกัด','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1^{\x5ccirc}','อัปเดตสถานะสำเร็จ','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','leaderboard_','คะแนนเต็ม!','dimmed','test','on_fire','admin-try-quiz-btn','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/teamQuizzes','border-red-300\x20bg-red-50','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','topic-tab','\x0a\x20\x20\x20\x20','earned-badges-container','total','answer-grid-container','_opt0\x22\x20name=\x22question','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','/preferences/main','download','<p><strong>คำตอบของคุณ:</strong>\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','กรุณาใส่ชื่อโปรเจค','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x22\x20value=\x22true\x22\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','confidence-scoring-description','```json','description','standard','comparison-overall-content','text-green-700\x20bg-green-100','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<tr><td\x20colspan=\x22','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','temp-loader-text-results','fa-user-astronaut\x20text-blue-700','ข้อ\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบในระบบเลย','Error\x20toggling\x20star\x20status:','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','reduce','#F59E0B','\x20รายการ\x20สำเร็จ!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','source-over','comeback_king','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','ไม่สามารถโหลดข้อมูลอันดับได้','authed_project_','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','postScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','131366FFmkTO','trim','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','setItem','{$1}','undefined','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','imageCode','text-gray-700','Error\x20updating\x20project\x20name:','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','cancel-move-quiz-btn','end-game-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','visibilitychange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เปิด\x20(จับเวลา)','project-title','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการตรีโกณมิติ','sync-player-management','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','instructions','back-to-results-btn','Error\x20comparing\x20results:','</form>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างแบบทดสอบ','.question-editor-item','perfect_score_status','strength-weakness-analysis-container','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','link-input-area','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','pairedQuizId','กำลังค้นหากิจกรรม...','export-worksheet-pdf-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','pointerup','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','write','แบบทดสอบที่ติดดาว','className','timer-mode-select','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','.submittedAt','force-math-checkbox','\x22,\x20','num-questions','live-game','การหารทศนิยม','removeItem','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','เส้นรอบรูป','results-tab-content','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','update-old-quizzes-btn','game-start-modal-title','student-initial-view','คัดลอกไม่สำเร็จ','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sync\x20Mode','PERFECT_SCORE','ยืนยันการกระทำ','export-pdf-btn','create-project-btn','blockReason','outerHTML','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-editor-btn','div','standardTopic','start-quiz-btn','ฐานนิยม','student-progress-content','กฎของไซน์','score','\x22\x20class=\x22delete-project-btn\x20','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-50','สร้างแบบทดสอบปรนัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','then','bg-green-100\x20text-green-800','Error\x20submitting\x20group\x20answer:','.project-card-container[data-id]','กรุณาใส่ชื่อใหม่','หัวข้อที่สร้างเอง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','<div\x20id=\x22q-image-container-','querySelectorAll','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Group\x20Mode','bulk-quiz-settings-modal','quiz-editor-questions-container','\x5cge','#per-question-options\x20textarea','สอบปกติ','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','อัตราและอัตราหน่วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','$1\x5cfrac','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','pointsLastQuestion','cdot','\x20\x20\x20-\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ไม่มี','พบ\x20Sync\x20Game!','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','confirm-quiz-status-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','ระบบเลขและค่าประจำหลัก','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','เศษส่วน\x20(ย่อ/ขยาย)','_opt','5WQQdoG','leaderboard-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','selected-answer-index-hidden','tan','msRequestFullscreen','button','uid','จากไฟล์ที่แนบมานี้,\x20','appendChild','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','change','view-my-progress-btn','isAdaptive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','.edit-question-btn','</span><span\x20class=\x22font-bold\x22>','open-scratchpad-btn','$1\x5c%','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','NUMBER','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','Error\x20saving\x20to\x20question\x20bank:','ไม่พบข้อมูลโปรเจค','ความน่าจะเป็นแบบมีเงื่อนไข','\x22\x20name=\x22question','getBoundingClientRect','พื้นที่ใต้กราฟ/ระหว่างกราฟ','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','สถิติและความน่าจะเป็น','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','loopUntilPass','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','การยืนยันตัวตนล้มเหลว','เกิดข้อผิดพลาดในการอ่านไฟล์','short_answer','\x5c\x5c\x5c\x5c(?=(','highlighter','[role=\x22textbox\x22]','num-choices','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20game\x20results:','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xl\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','points','close-lesson-plan-modal-footer-btn','AI\x20grading\x20failed:','analyze-strengths-btn','question-complexity-select','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','results-table-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','กำลังดึงข้อมูลจากลิงก์...','.pen-color-btn','times','.question-editor-item[data-q-index=\x22','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','post-test','ไฮเพอร์โบลา','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','5015080yxRzFE','empty','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','toDate','Error\x20starting\x20group\x20quiz:','bg-blue-100\x20text-blue-800','ส่งแล้ว','overallGroups','MathJax','คำเตือน\x20(','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','อัปเดตแบบทดสอบเก่า\x20','open-sync-scratchpad-btn','endTime','verify-answers-btn','copy-quiz-id-btn','หยุดระบบจับเวลาหรี่หน้าจอ','student-quiz-leaderboard-tab','bg-amber-100\x20text-amber-800','หมดเวลาสำหรับข้อนี้!','text-green-600\x20font-bold','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','lineJoin','.quiz-bank-parallel-btn','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-topic=\x22','แบบทดสอบจากคลังส่วนตัว','countdown-display','mean','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','badgesCount','\x20ใหม่...','-\x20ข้อ\x20','promise','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','totalQuestions','</strong></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','bg-green-50','category','activeGameSession','\x22><span>','/public/data/learnedFixes','toLowerCase','แก้ไขหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','Error\x20resetting\x20project\x20order:','modal-message','Error\x20joining\x20live\x20game:','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','Failed\x20to\x20kick\x20player\x20','text-emerald-900','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ยืนยันการจับคู่','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20'];_0x3fef=function(){return _0x59b7f4;};return _0x3fef();}document[_0x389ace(0x3c4)](_0x389ace(0x672))[_0x389ace(0x199)](_0x389ace(0x548),async()=>{const _0x48be2b=_0x389ace;if(!currentProjectId)return;const _0x2dda84={'defaultNumQuestions':parseInt(document['getElementById'](_0x48be2b(0x830))[_0x48be2b(0x213)]),'defaultNumChoices':parseInt(document[_0x48be2b(0x3c4)](_0x48be2b(0x8ac))[_0x48be2b(0x213)]),'defaultPassingScore':parseInt(document['getElementById'](_0x48be2b(0x49f))['value']),'resultsDisplay':document[_0x48be2b(0x3c4)](_0x48be2b(0x613))[_0x48be2b(0x213)],'shuffleSetting':document[_0x48be2b(0x3c4)]('shuffle-setting-select')['value'],'timerMode':document[_0x48be2b(0x3c4)](_0x48be2b(0x828))[_0x48be2b(0x213)],'timerDuration':parseInt(document[_0x48be2b(0x3c4)](_0x48be2b(0x4de))['value'])};try{const _0x1944f0=doc(db,_0x48be2b(0x5a5)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x1944f0,{'settings':_0x2dda84}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x53ba00){console[_0x48be2b(0x316)](_0x48be2b(0x3bc),_0x53ba00),showMessage(_0x48be2b(0x4e6));}});function listenForStudents(_0x15fbc0){const _0x35cb86=_0x389ace,_0x593261=doc(db,_0x35cb86(0x5a5)+appId+_0x35cb86(0x42b),_0x15fbc0);unsubscribeStudentsListener=onSnapshot(_0x593261,_0x2f93dd=>{const _0x2fcb39=_0x35cb86;if(_0x2f93dd[_0x2fcb39(0x446)]()){const _0x2c27c3=_0x2f93dd[_0x2fcb39(0x47e)]();currentProjectData=_0x2c27c3,renderStudentList(_0x2c27c3['students']||[]);}});}function renderStudentList(_0xe9fe23){const _0x3d14e8=_0x389ace,_0x55d7c7=document[_0x3d14e8(0x3c4)]('delete-all-students-btn');_0xe9fe23['length']===0x0?(studentList['innerHTML']=_0x3d14e8(0x516),_0x55d7c7['classList'][_0x3d14e8(0x711)](_0x3d14e8(0x5ec))):(studentList[_0x3d14e8(0x368)]=_0xe9fe23[_0x3d14e8(0x749)](_0x4e6376=>_0x3d14e8(0x224)+_0x4e6376+_0x3d14e8(0x15a)+_0x4e6376+_0x3d14e8(0x9c1))[_0x3d14e8(0x25a)](''),_0x55d7c7[_0x3d14e8(0x469)][_0x3d14e8(0x182)](_0x3d14e8(0x5ec)));}document[_0x389ace(0x3c4)](_0x389ace(0x9fb))[_0x389ace(0x199)]('click',async()=>{const _0x127c64=_0x389ace;if(!currentProjectId)return;const _0x4f65d3=document[_0x127c64(0x3c4)](_0x127c64(0x4dd)),_0x729e64=_0x4f65d3[_0x127c64(0x213)][_0x127c64(0x7f5)]();if(!_0x729e64){showMessage(_0x127c64(0x9fa));return;}const _0x1cbd5b=_0x729e64[_0x127c64(0x1c9)]('\x0a')[_0x127c64(0x749)](_0x28c3e5=>_0x28c3e5[_0x127c64(0x7f5)]())[_0x127c64(0x573)](_0x52605f=>_0x52605f);if(_0x1cbd5b[_0x127c64(0x6e5)]===0x0)return;try{const _0x4c0841=doc(db,_0x127c64(0x5a5)+appId+_0x127c64(0x42b),currentProjectId),_0x26ad4b=await getDoc(_0x4c0841);if(_0x26ad4b[_0x127c64(0x446)]()){const _0xcb9bb9=_0x26ad4b[_0x127c64(0x47e)]()['students']||[],_0x54719f=[...new Set([..._0xcb9bb9,..._0x1cbd5b])];await updateDoc(_0x4c0841,{'students':_0x54719f}),_0x4f65d3['value']='';}}catch(_0x44e944){console[_0x127c64(0x316)](_0x127c64(0x94b),_0x44e944),showMessage(_0x127c64(0x135));}});async function handleManualQuizPairing(_0x3ef068){const _0x10e45c=_0x389ace,_0x1a5eeb=document[_0x10e45c(0x3c4)](_0x10e45c(0xa3d)),_0x12f968=document['getElementById'](_0x10e45c(0xfb)),_0x375e7d=_0x1a5eeb[_0x10e45c(0x674)]('h3'),_0x12806c=document[_0x10e45c(0x3c4)](_0x10e45c(0x752)),_0x4b6977=document['getElementById'](_0x10e45c(0x801));_0x375e7d[_0x10e45c(0x60f)]='จับคู่เพื่อเปรียบเทียบผล',_0x12f968[_0x10e45c(0x368)]=_0x10e45c(0x760),_0x12806c[_0x10e45c(0x60f)]=_0x10e45c(0x902),_0x1a5eeb['classList'][_0x10e45c(0x182)](_0x10e45c(0x5ec));const _0x5a74db=allQuizzes[_0x10e45c(0x573)](_0x50f7e9=>_0x50f7e9['id']!==_0x3ef068);_0x5a74db[_0x10e45c(0x6e5)]===0x0?(_0x12f968['innerHTML']=_0x10e45c(0x3ac),_0x12806c[_0x10e45c(0x2d5)]=!![]):(_0x12f968['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x5a74db[_0x10e45c(0x749)](_0x2f57f6=>_0x10e45c(0x5d5)+_0x2f57f6['id']+'\x22>'+_0x2f57f6[_0x10e45c(0x3d0)]+_0x10e45c(0x95d))['join'](''),_0x12806c[_0x10e45c(0x2d5)]=![]);const _0x1f210e=async()=>{const _0x460fe3=_0x10e45c,_0x1a1c54=_0x12f968['value'];if(!_0x1a1c54){showMessage(_0x460fe3(0x471));return;}_0x12806c[_0x460fe3(0x2d5)]=!![],_0x12806c[_0x460fe3(0x60f)]=_0x460fe3(0x10c);try{const _0x47b062=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3ef068),_0x5d714c=doc(db,_0x460fe3(0x5a5)+appId+'/public/data/quizzes',_0x1a1c54),_0x2ce870=writeBatch(db);_0x2ce870['update'](_0x47b062,{'pairedQuizId':_0x1a1c54}),_0x2ce870[_0x460fe3(0x27f)](_0x5d714c,{'pairedQuizId':_0x3ef068}),await _0x2ce870[_0x460fe3(0xa09)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x1a5eeb['classList'][_0x460fe3(0x711)](_0x460fe3(0x5ec));}catch(_0x146a27){console[_0x460fe3(0x316)](_0x460fe3(0x789),_0x146a27),showMessage(_0x460fe3(0x3bb));}finally{_0x375e7d[_0x460fe3(0x60f)]=_0x460fe3(0x49e),_0x12806c[_0x460fe3(0x60f)]=_0x460fe3(0x1db),_0x12806c[_0x460fe3(0x2d5)]=![],_0x12806c[_0x460fe3(0x293)]('click',_0x1f210e),_0x4b6977[_0x460fe3(0x293)]('click',_0x5832bc);}},_0x5832bc=()=>{const _0x1fb9cc=_0x10e45c;_0x1a5eeb['classList'][_0x1fb9cc(0x711)]('hidden'),_0x375e7d['textContent']=_0x1fb9cc(0x49e),_0x12806c['textContent']='ย้าย',_0x12806c[_0x1fb9cc(0x293)](_0x1fb9cc(0x548),_0x1f210e),_0x4b6977[_0x1fb9cc(0x293)](_0x1fb9cc(0x548),_0x5832bc);};_0x12806c[_0x10e45c(0x199)](_0x10e45c(0x548),_0x1f210e),_0x4b6977['addEventListener'](_0x10e45c(0x548),_0x5832bc);}function handleDeleteStudent(_0x3777b4){const _0x3bfaad=_0x389ace;showConfirmation(_0x3bfaad(0x31d)+_0x3777b4+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0xf612f6=_0x3bfaad;if(!currentProjectId||!currentProjectData)return;const _0x38a083=currentProjectData[_0xf612f6(0x2ec)][_0xf612f6(0x573)](_0xf29cfd=>_0xf29cfd!==_0x3777b4);try{const _0x1a8246=doc(db,'artifacts/'+appId+_0xf612f6(0x42b),currentProjectId),_0x3dc0e5=doc(db,_0xf612f6(0x5a5)+appId+_0xf612f6(0x541)+currentProjectId+_0xf612f6(0x354),_0x3777b4),_0x458668=writeBatch(db);_0x458668[_0xf612f6(0x27f)](_0x1a8246,{'students':_0x38a083}),_0x458668[_0xf612f6(0x36a)](_0x3dc0e5),await _0x458668[_0xf612f6(0xa09)]();}catch(_0x3244d4){console[_0xf612f6(0x316)](_0xf612f6(0x1b2),_0x3244d4),showMessage(_0xf612f6(0xa32));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x419731=_0x51de;if(!currentProjectId)return;try{const _0x101f41=doc(db,_0x419731(0x5a5)+appId+'/public/data/projects',currentProjectId),_0x504fd1=collection(db,_0x419731(0x5a5)+appId+_0x419731(0x541)+currentProjectId+_0x419731(0x354)),_0x56193e=await getDocs(_0x504fd1),_0x4a49b7=writeBatch(db);_0x4a49b7['update'](_0x101f41,{'students':[]}),_0x56193e[_0x419731(0x502)](_0x1cc5c0=>_0x4a49b7[_0x419731(0x36a)](_0x1cc5c0[_0x419731(0x53d)])),await _0x4a49b7[_0x419731(0xa09)]();}catch(_0x9a10){console[_0x419731(0x316)](_0x419731(0x1f4),_0x9a10),showMessage(_0x419731(0x954));}});}async function handleGenerateFromFileClick(){const _0x105264=_0x389ace;if(!selectedFile){showMessage(_0x105264(0x6ff));return;}const _0x3b4e2a=document[_0x105264(0x3c4)](_0x105264(0x432)),_0x26bf79=document['getElementById'](_0x105264(0x59a)),_0x3f87df=document[_0x105264(0x3c4)](_0x105264(0x6bd)),_0xd86b8a=document[_0x105264(0x3c4)](_0x105264(0x55c));_0xd86b8a[_0x105264(0x2d5)]=!![],document[_0x105264(0x3c4)](_0x105264(0x431))['classList'][_0x105264(0x182)](_0x105264(0x5ec)),_0x3f87df[_0x105264(0x368)]='',_0x3b4e2a[_0x105264(0x469)][_0x105264(0x182)](_0x105264(0x5ec)),_0x26bf79[_0x105264(0x60f)]=_0x105264(0x597);const _0x1ee185=new FileReader();_0x1ee185[_0x105264(0xa2c)](selectedFile),_0x1ee185[_0x105264(0x950)]=async()=>{const _0x301601=_0x105264;try{const _0x58c3f4=_0x1ee185['result'][_0x301601(0x1c9)](',')[0x1],_0x3614a7=selectedFile[_0x301601(0x7a7)];await generateQuizFromFile(_0x3614a7,_0x58c3f4);}catch(_0x47728e){console[_0x301601(0x316)](_0x301601(0x386),_0x47728e),showMessage(_0x301601(0x6ca)+_0x47728e['message']),_0x3b4e2a[_0x301601(0x469)][_0x301601(0x711)](_0x301601(0x5ec));}finally{}},_0x1ee185[_0x105264(0x21f)]=_0x4bc870=>{const _0x4705d4=_0x105264;console[_0x4705d4(0x316)](_0x4705d4(0x131),_0x4bc870),showMessage(_0x4705d4(0x8a7)),_0x3b4e2a[_0x4705d4(0x469)][_0x4705d4(0x711)]('hidden'),_0xd86b8a[_0x4705d4(0x2d5)]=![];};}function autoFormatMath(_0x34d80d){const _0x16a84e=_0x389ace;if(typeof _0x34d80d!==_0x16a84e(0x19a)||!_0x34d80d)return _0x34d80d;const _0x14a2dc=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x575a57=_0x34d80d['replace'](_0x14a2dc,_0x11c880=>{const _0x115d1b=_0x16a84e;return'$'+_0x11c880[_0x115d1b(0x7f5)]()+'$';});return _0x575a57;}function sanitizeQuizData(_0x18c765){const _0x57ff7d=_0x389ace;if(!_0x18c765||!_0x18c765[_0x57ff7d(0x47a)])return _0x18c765;const _0x6ac38e={'imes':_0x57ff7d(0x2bc),'div':_0x57ff7d(0x339)},_0x3758a4=_0x58499b=>{const _0x42663d=_0x57ff7d;if(typeof _0x58499b!=='string')return _0x58499b;let _0x17506e=_0x58499b;for(const [_0x15a1a0,_0x3e4e38]of Object[_0x42663d(0x94d)](_0x6ac38e)){const _0x1f21a7=new RegExp('\x5cb'+_0x15a1a0+'\x5cb','g');_0x17506e=_0x17506e[_0x42663d(0x98c)](_0x1f21a7,_0x3e4e38);}return _0x17506e=_0x17506e[_0x42663d(0x98c)](/\\\//g,_0x42663d(0x339)),_0x17506e=_0x17506e[_0x42663d(0x98c)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x42663d(0x339))[_0x42663d(0x98c)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x42663d(0x2bc))[_0x42663d(0x98c)](/÷/g,'\x5cdiv')[_0x42663d(0x98c)](/×/g,_0x42663d(0x2bc)),_0x17506e=_0x17506e['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x17506e=autoFormatMath(_0x17506e),_0x17506e;};return _0x18c765[_0x57ff7d(0x3d0)]&&(_0x18c765[_0x57ff7d(0x3d0)]=_0x3758a4(_0x18c765['topic'])),_0x18c765[_0x57ff7d(0x47a)][_0x57ff7d(0x502)](_0x514db5=>{const _0x4e65b2=_0x57ff7d;_0x514db5[_0x4e65b2(0x47b)]=_0x3758a4(_0x514db5[_0x4e65b2(0x47b)]),_0x514db5[_0x4e65b2(0x237)]&&(_0x514db5[_0x4e65b2(0x237)]=_0x514db5[_0x4e65b2(0x237)][_0x4e65b2(0x749)](_0x3758a4)),_0x514db5['explanation']&&(_0x514db5[_0x4e65b2(0x655)]=_0x3758a4(_0x514db5['explanation'])),_0x514db5[_0x4e65b2(0x101)]&&(_0x514db5['stem']=_0x3758a4(_0x514db5[_0x4e65b2(0x101)])),_0x514db5[_0x4e65b2(0x740)]&&(_0x514db5[_0x4e65b2(0x740)]=_0x3758a4(_0x514db5['correctResponse'])),_0x514db5['allResponses']&&(_0x514db5[_0x4e65b2(0x341)]=_0x514db5[_0x4e65b2(0x341)][_0x4e65b2(0x749)](_0x3758a4));}),_0x18c765;}const simpleMathPrompt=_0x389ace(0x302);async function handleGenerateFromLink(){const _0x552080=_0x389ace,_0x5805ee=document[_0x552080(0x3c4)](_0x552080(0x37c)),_0x1bfc3d=document[_0x552080(0x3c4)](_0x552080(0x9d6)),_0x308b52=_0x5805ee[_0x552080(0x213)][_0x552080(0x7f5)](),_0x4f7d99=_0x1bfc3d[_0x552080(0x213)][_0x552080(0x7f5)]();if(!_0x308b52){showMessage(_0x552080(0x6d3));return;}const _0x6624cd=document['getElementById'](_0x552080(0x432)),_0x5972e9=document[_0x552080(0x3c4)]('loader-text'),_0x374d0e=document['getElementById']('generated-quiz-container'),_0x1d298a=document[_0x552080(0x3c4)](_0x552080(0x640));document[_0x552080(0x3c4)](_0x552080(0x431))[_0x552080(0x469)][_0x552080(0x182)](_0x552080(0x5ec)),_0x374d0e['innerHTML']='',_0x6624cd[_0x552080(0x469)][_0x552080(0x182)](_0x552080(0x5ec)),_0x5972e9[_0x552080(0x60f)]=_0x552080(0x8bc),_0x1d298a[_0x552080(0x2d5)]=!![];try{const _0xecb066=_0x552080(0x9dd)+encodeURIComponent(_0x308b52),_0xcb895d=await fetch(_0xecb066);if(!_0xcb895d['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0xcb895d[_0x552080(0x933)]+')');const _0x4ae2f2=await _0xcb895d[_0x552080(0x770)](),_0x55346d=extractTextFromHtml(_0x4ae2f2);if(!_0x55346d||_0x55346d[_0x552080(0x6e5)]<0x64)throw new Error(_0x552080(0x5c2));await generateQuiz(_0x4f7d99,_0x55346d);}catch(_0x53acc9){console[_0x552080(0x316)]('Error\x20generating\x20from\x20link:',_0x53acc9),showMessage(_0x552080(0x26f)+_0x53acc9['message']),_0x374d0e[_0x552080(0x368)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x6624cd[_0x552080(0x469)][_0x552080(0x711)](_0x552080(0x5ec)),_0x1d298a['disabled']=![];}}function extractTextFromHtml(_0x103155){const _0x108cb1=_0x389ace,_0x1b6010=new DOMParser()['parseFromString'](_0x103155,_0x108cb1(0x5a2));return _0x1b6010[_0x108cb1(0x85d)](_0x108cb1(0x1ce))[_0x108cb1(0x502)](_0x383b27=>_0x383b27[_0x108cb1(0x182)]()),_0x1b6010[_0x108cb1(0x13c)][_0x108cb1(0x60f)]||'';}document[_0x389ace(0x3c4)]('generate-from-topic-btn')[_0x389ace(0x199)](_0x389ace(0x548),()=>{const _0xade5bf=_0x389ace,_0xcfae47=document['getElementById'](_0xade5bf(0x794))['value'][_0xade5bf(0x7f5)]();generateQuiz(_0xcfae47,null);}),document[_0x389ace(0x3c4)](_0x389ace(0x40a))[_0x389ace(0x199)](_0x389ace(0x548),()=>{const _0xa1a0c0=_0x389ace,_0x1110c9=document[_0xa1a0c0(0x3c4)]('text-content-input')['value'][_0xa1a0c0(0x7f5)]();if(!_0x1110c9){showMessage(_0xa1a0c0(0x4f1));return;}const _0x647aa6=document['getElementById'](_0xa1a0c0(0x794))[_0xa1a0c0(0x213)][_0xa1a0c0(0x7f5)]();generateQuiz(_0x647aa6,_0x1110c9);});async function generateQuiz(_0x2bf30a,_0xb8a54f,_0x4815ab=null){const _0x58b55f=_0x389ace,_0x35213=document[_0x58b55f(0x3c4)]('include-images-checkbox')[_0x58b55f(0x2cd)],_0x480acc=document[_0x58b55f(0x3c4)](_0x58b55f(0x5fa))[_0x58b55f(0x213)],_0x3ba7d3=document['getElementById'](_0x58b55f(0x830))[_0x58b55f(0x213)],_0x22743f=document[_0x58b55f(0x3c4)](_0x58b55f(0x8ac))['value'],_0x41b329=document['getElementById'](_0x58b55f(0x82e))[_0x58b55f(0x2cd)],_0x2fe84b=_0x41b329?'':_0x58b55f(0x733),_0x2d345a=document['getElementById'](_0x58b55f(0x3c5)),_0x2237d0=_0x2d345a[_0x58b55f(0x213)];let _0xb54a99='';_0x2237d0!=='auto'&&(_0xb54a99=_0x58b55f(0x72f)+_0x2237d0+'\x22');const _0x4ce89d=document[_0x58b55f(0x3c4)](_0x58b55f(0x8b8)),_0x487202=_0x4ce89d[_0x58b55f(0x213)];let _0x4ee575='';_0x487202!==_0x58b55f(0x484)&&(_0x4ee575=_0x58b55f(0x9f9)+_0x487202+_0x58b55f(0x872));const _0x5a81f3=document[_0x58b55f(0x85d)](_0x58b55f(0x3ad)),_0x1bbf11=Array[_0x58b55f(0x194)](_0x5a81f3)[_0x58b55f(0x749)](_0x2f6636=>_0x2f6636[_0x58b55f(0x213)]);let _0x339f4e='';_0x1bbf11[_0x58b55f(0x6e5)]>0x0&&(_0x339f4e=_0x58b55f(0x32c)+_0x1bbf11[_0x58b55f(0x25a)](',\x20')+_0x58b55f(0x56f));let _0x705a5e='',_0x133e62='',_0x54fab7,_0x46ebaf=_0x58b55f(0x2ed)+_0x2bf30a+'\x22';if(!_0x2bf30a&&_0xb8a54f)_0x46ebaf='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x2bf30a&&!_0xb8a54f&&(_0x46ebaf=_0x58b55f(0xa4c));const _0x1dd2e3={'type':'OBJECT','properties':{'questionText':{'type':_0x58b55f(0x966)},'options':{'type':_0x58b55f(0x127),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x58b55f(0x894)},'explanation':{'type':_0x58b55f(0x966)},'imageCode':{'type':_0x58b55f(0x966)}},'required':[_0x58b55f(0x47b),_0x58b55f(0x237),_0x58b55f(0x58a),'explanation']},_0x3c4d58={'type':_0x58b55f(0xa07),'properties':{'questionText':{'type':_0x58b55f(0x966)},'idealAnswer':{'type':_0x58b55f(0x966)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x58b55f(0x47b),_0x58b55f(0x379),_0x58b55f(0x655)]},_0x20f08d={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x58b55f(0x961),_0x58b55f(0x8a8)]},'options':{'type':_0x58b55f(0x127),'items':{'type':_0x58b55f(0x966)}},'correctAnswerIndex':{'type':_0x58b55f(0x894)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x58b55f(0x966)},'imageCode':{'type':_0x58b55f(0x966)}},'required':[_0x58b55f(0x47b),_0x58b55f(0x651),_0x58b55f(0x655)]},_0x5b5dbe={'type':_0x58b55f(0xa07),'properties':{'questionText':{'type':_0x58b55f(0x966)},'correctAnswer':{'type':_0x58b55f(0x2ab)},'explanation':{'type':_0x58b55f(0x966)},'imageCode':{'type':_0x58b55f(0x966)}},'required':[_0x58b55f(0x47b),_0x58b55f(0x9f4),_0x58b55f(0x655)]},_0x3335eb={'type':'OBJECT','properties':{'questionType':{'type':_0x58b55f(0x966),'enum':[_0x58b55f(0x5a6)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x58b55f(0x127),'items':{'type':_0x58b55f(0x966)}},'explanation':{'type':_0x58b55f(0x966)},'imageCode':{'type':_0x58b55f(0x966)}},'required':[_0x58b55f(0x651),'stem',_0x58b55f(0x740),_0x58b55f(0x341),_0x58b55f(0x655)]};let _0x4218e3;if(_0x4815ab!==null){const _0x15bf41=currentQuizData['questions'][_0x4815ab][_0x58b55f(0x651)],_0x331230=_0x35213?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x705a5e=_0x58b55f(0x606)+_0x46ebaf+'\x20'+_0x339f4e+'\x20'+_0xb54a99+_0x58b55f(0x46d)+_0x331230+'\x20'+simpleMathPrompt;if(_0x15bf41===_0x58b55f(0x961))_0x54fab7=_0x1dd2e3;else{if(_0x15bf41==='matching_item')_0x54fab7={'type':'OBJECT','properties':{'questionType':{'type':_0x58b55f(0x966),'enum':[_0x58b55f(0x5a6)]},'stem':{'type':_0x58b55f(0x966)},'correctResponse':{'type':_0x58b55f(0x966)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x58b55f(0x966)}},'required':[_0x58b55f(0x651),_0x58b55f(0x101),_0x58b55f(0x740),'explanation']};else _0x54fab7=_0x3c4d58;}_0x4218e3=_0x54fab7;}else{const _0xc5f89a=_0x35213?_0x58b55f(0x539):'',_0x5e754d=_0x58b55f(0x4f5);switch(_0x480acc){case _0x58b55f(0x961):_0x705a5e=_0x58b55f(0x852)+_0x2fe84b+'\x20'+_0x3ba7d3+_0x58b55f(0x5e4)+_0x46ebaf+'\x20'+_0x339f4e+'\x20'+_0xb54a99+'\x20'+_0x4ee575+'.\x20แต่ละข้อมี\x20'+_0x22743f+_0x58b55f(0x166)+_0xc5f89a+'\x20'+simpleMathPrompt,_0x54fab7=_0x1dd2e3;break;case _0x58b55f(0x67f):_0x705a5e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2fe84b+'\x20'+_0x3ba7d3+'\x20ข้อ\x20'+_0x46ebaf+'\x20'+_0x339f4e+'\x20'+_0xb54a99+'\x20'+_0x4ee575+_0x58b55f(0x6d0)+_0x22743f+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0xc5f89a+'\x20'+simpleMathPrompt,_0x54fab7=_0x1dd2e3;break;case _0x58b55f(0x66b):_0x705a5e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2fe84b+'\x20'+_0x3ba7d3+_0x58b55f(0x5e4)+_0x46ebaf+'\x20'+_0x339f4e+'\x20'+_0xb54a99+'\x20'+_0x4ee575+_0x58b55f(0xa00)+_0xc5f89a+'\x20'+simpleMathPrompt,_0x54fab7=_0x3c4d58;break;case'mixed':_0x705a5e=_0x58b55f(0x814)+_0x2fe84b+'\x20'+_0x3ba7d3+_0x58b55f(0x5e4)+_0x46ebaf+'\x20'+_0x339f4e+'\x20'+_0xb54a99+'\x20'+_0x4ee575+_0x58b55f(0x54a)+_0x22743f+'\x20ตัวเลือก.\x20'+_0xc5f89a+'\x20'+simpleMathPrompt+'.',_0x54fab7=_0x20f08d;break;case'true_false':_0x705a5e=_0x58b55f(0x1a7)+_0x2fe84b+'\x20'+_0x3ba7d3+_0x58b55f(0x5e4)+_0x46ebaf+'\x20'+_0x339f4e+'\x20'+_0xb54a99+'\x20'+_0x4ee575+_0x58b55f(0x570)+_0xc5f89a+'\x20'+simpleMathPrompt,_0x54fab7=_0x5b5dbe;break;case _0x58b55f(0x460):_0x705a5e=_0x58b55f(0x982)+_0x2fe84b+'\x20'+_0x3ba7d3+'\x20คู่\x20'+_0x46ebaf+'\x20'+_0x339f4e+'\x20'+_0xb54a99+'\x20'+_0x4ee575+_0x58b55f(0x450)+_0xc5f89a+'\x20'+simpleMathPrompt,_0x54fab7=_0x3335eb;break;}_0x4218e3={'type':_0x58b55f(0xa07),'properties':{'topic':{'type':_0x58b55f(0x966)},'questions':{'type':_0x58b55f(0x127),'items':_0x54fab7}},'required':[_0x58b55f(0x3d0),_0x58b55f(0x47a)]};}return _0xb8a54f?(_0x705a5e='จากเนื้อหาต่อไปนี้:\x20\x22'+_0xb8a54f+_0x58b55f(0x82f)+_0x705a5e,_0x133e62=_0x58b55f(0x85e)):_0x133e62=_0x58b55f(0x5e2),handleApiCall(_0x705a5e,_0x133e62,_0x4218e3,_0x4815ab);}async function generateQuizFromFile(_0x2ccb7c,_0x1cc80d){const _0x2dab6c=_0x389ace,_0x2c176e=document[_0x2dab6c(0x3c4)](_0x2dab6c(0x654))['value']['trim'](),_0x107b54=document[_0x2dab6c(0x3c4)](_0x2dab6c(0x5fa))[_0x2dab6c(0x213)],_0x42434e=document[_0x2dab6c(0x3c4)](_0x2dab6c(0x830))['value'],_0x4a1c9a=document[_0x2dab6c(0x3c4)](_0x2dab6c(0x8ac))[_0x2dab6c(0x213)],_0xc1227e=document[_0x2dab6c(0x3c4)](_0x2dab6c(0x2ba))[_0x2dab6c(0x2cd)],_0x40ba8f=document[_0x2dab6c(0x3c4)]('force-math-checkbox')[_0x2dab6c(0x2cd)],_0x51999f=_0x40ba8f?'':'คณิตศาสตร์';let _0x269e8c='',_0x3b7b6d,_0x512ae2='เกี่ยวกับหัวข้อ\x20\x22'+_0x2c176e+'\x22';!_0x2c176e&&(_0x512ae2='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x143dcd=_0xc1227e?_0x2dab6c(0x539):'';switch(_0x107b54){case _0x2dab6c(0x961):_0x269e8c=_0x2dab6c(0x852)+_0x51999f+'\x20'+_0x42434e+_0x2dab6c(0x5e4)+_0x512ae2+'.\x20แต่ละข้อมี\x20'+_0x4a1c9a+_0x2dab6c(0x166)+_0x143dcd+'\x20'+simpleMathPrompt,_0x3b7b6d={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2dab6c(0x127),'items':{'type':_0x2dab6c(0x966)}},'correctAnswerIndex':{'type':_0x2dab6c(0x894)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2dab6c(0x966)}},'required':[_0x2dab6c(0x47b),_0x2dab6c(0x237),_0x2dab6c(0x58a),_0x2dab6c(0x655)]};break;case _0x2dab6c(0x67f):_0x269e8c=_0x2dab6c(0x730)+_0x51999f+'\x20'+_0x42434e+_0x2dab6c(0x5e4)+_0x512ae2+_0x2dab6c(0x6d0)+_0x4a1c9a+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x143dcd+'\x20'+simpleMathPrompt,_0x3b7b6d={'type':_0x2dab6c(0xa07),'properties':{'questionText':{'type':_0x2dab6c(0x966)},'options':{'type':'ARRAY','items':{'type':_0x2dab6c(0x966)}},'correctAnswerIndex':{'type':_0x2dab6c(0x894)},'explanation':{'type':_0x2dab6c(0x966)},'imageCode':{'type':_0x2dab6c(0x966)}},'required':[_0x2dab6c(0x47b),'options',_0x2dab6c(0x58a),_0x2dab6c(0x655)]};break;case _0x2dab6c(0x66b):_0x269e8c=_0x2dab6c(0x730)+_0x51999f+'\x20'+_0x42434e+_0x2dab6c(0x5e4)+_0x512ae2+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x143dcd+'\x20'+simpleMathPrompt,_0x3b7b6d={'type':_0x2dab6c(0xa07),'properties':{'questionText':{'type':_0x2dab6c(0x966)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2dab6c(0x966)},'imageCode':{'type':_0x2dab6c(0x966)}},'required':[_0x2dab6c(0x47b),'idealAnswer',_0x2dab6c(0x655)]};break;case _0x2dab6c(0x484):_0x269e8c=_0x2dab6c(0x814)+_0x51999f+'\x20'+_0x42434e+_0x2dab6c(0x5e4)+_0x512ae2+_0x2dab6c(0x9be)+_0x4a1c9a+_0x2dab6c(0x77a)+_0x143dcd+'\x20'+simpleMathPrompt+_0x2dab6c(0x15e),_0x3b7b6d={'type':_0x2dab6c(0xa07),'properties':{'questionText':{'type':_0x2dab6c(0x966)},'questionType':{'type':_0x2dab6c(0x966),'enum':['multiple_choice',_0x2dab6c(0x8a8)]},'options':{'type':_0x2dab6c(0x127),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2dab6c(0x894)},'idealAnswer':{'type':_0x2dab6c(0x966)},'explanation':{'type':_0x2dab6c(0x966)},'imageCode':{'type':'STRING'}},'required':[_0x2dab6c(0x47b),_0x2dab6c(0x651),'explanation']};break;case'true_false':_0x269e8c=_0x2dab6c(0x1a7)+_0x51999f+'\x20'+_0x42434e+'\x20ข้อ\x20'+_0x512ae2+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x143dcd+'\x20'+simpleMathPrompt,_0x3b7b6d={'type':_0x2dab6c(0xa07),'properties':{'questionText':{'type':_0x2dab6c(0x966)},'correctAnswer':{'type':_0x2dab6c(0x2ab)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2dab6c(0x9f4),_0x2dab6c(0x655)]};break;case _0x2dab6c(0x460):_0x269e8c=_0x2dab6c(0x982)+_0x51999f+'\x20'+_0x42434e+_0x2dab6c(0x422)+_0x512ae2+_0x2dab6c(0x233)+_0x42434e+_0x2dab6c(0x50c)+_0x143dcd+'\x20'+simpleMathPrompt,_0x3b7b6d={'type':_0x2dab6c(0xa07),'properties':{'questionType':{'type':_0x2dab6c(0x966),'enum':[_0x2dab6c(0x5a6)]},'stem':{'type':_0x2dab6c(0x966)},'correctResponse':{'type':_0x2dab6c(0x966)},'allResponses':{'type':_0x2dab6c(0x127),'items':{'type':_0x2dab6c(0x966)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2dab6c(0x651),_0x2dab6c(0x101),_0x2dab6c(0x740),_0x2dab6c(0x341),_0x2dab6c(0x655)]};break;}const _0x37bccf={'type':_0x2dab6c(0xa07),'properties':{'topic':{'type':_0x2dab6c(0x966)},'questions':{'type':'ARRAY','items':_0x3b7b6d}},'required':[_0x2dab6c(0x3d0),'questions']},_0x324645=_0x2dab6c(0x888)+_0x269e8c,_0x50afd0={'contents':[{'parts':[{'text':_0x324645},{'inlineData':{'mimeType':_0x2ccb7c,'data':_0x1cc80d}}]}],'generationConfig':{'responseMimeType':_0x2dab6c(0x5d7),'responseSchema':_0x37bccf}};return handleApiCall(_0x50afd0[_0x2dab6c(0x64e)][0x0][_0x2dab6c(0x416)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x37bccf);}async function handleApiCall(_0x505744,_0x5d249b,_0x178f82,_0x31bd15=null){const _0xf70aa7=_0x389ace,_0xa9eefc=document[_0xf70aa7(0x3c4)](_0xf70aa7(0x431)),_0x4f1568=document[_0xf70aa7(0x3c4)]('loader'),_0x4d3628=document[_0xf70aa7(0x3c4)](_0xf70aa7(0x59a)),_0x43e06e=document[_0xf70aa7(0x3c4)](_0xf70aa7(0x6bd));_0xa9eefc[_0xf70aa7(0x469)][_0xf70aa7(0x182)]('hidden');_0x31bd15===null&&(_0x43e06e[_0xf70aa7(0x368)]='');_0x4f1568['classList'][_0xf70aa7(0x182)]('hidden'),_0x4d3628['textContent']=_0x5d249b,document[_0xf70aa7(0x3c4)](_0xf70aa7(0x935))[_0xf70aa7(0x2d5)]=!![],document['getElementById']('generate-from-text-btn')[_0xf70aa7(0x2d5)]=!![],document['getElementById'](_0xf70aa7(0x640))[_0xf70aa7(0x2d5)]=!![];try{const _0x28695e={'responseMimeType':'application/json','responseSchema':_0x178f82},_0x444737=Array[_0xf70aa7(0x5f0)](_0x505744)?_0x505744:[{'text':_0x505744}],_0x1ab084={'contents':[{'role':_0xf70aa7(0x64d),'parts':_0x444737}],'generationConfig':_0x28695e},_0x3150e4=_0xf70aa7(0x6b8),_0x20270b='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3150e4,_0xc8830b=await fetch(_0x20270b,{'method':_0xf70aa7(0x342),'headers':{'Content-Type':'application/json'},'body':JSON[_0xf70aa7(0x2ce)](_0x1ab084)});if(!_0xc8830b['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0xc8830b['status']);const _0x31b08e=await _0xc8830b[_0xf70aa7(0x21e)]();if(_0x31b08e[_0xf70aa7(0x601)]?.[0x0]?.[_0xf70aa7(0x537)]?.[_0xf70aa7(0x416)]?.[0x0]){let _0x2711d3=_0x31b08e[_0xf70aa7(0x601)][0x0][_0xf70aa7(0x537)][_0xf70aa7(0x416)][0x0][_0xf70aa7(0x770)],_0x3bd8ea;try{if(_0x2711d3['startsWith'](_0xf70aa7(0x7d2)))_0x2711d3=_0x2711d3[_0xf70aa7(0x18a)](0x7,_0x2711d3[_0xf70aa7(0x6e5)]-0x3)['trim']();else _0x2711d3[_0xf70aa7(0x774)](_0xf70aa7(0x6a7))&&(_0x2711d3=_0x2711d3[_0xf70aa7(0x18a)](0x3,_0x2711d3[_0xf70aa7(0x6e5)]-0x3)[_0xf70aa7(0x7f5)]());_0x3bd8ea=JSON[_0xf70aa7(0x6b9)](_0x2711d3);}catch(_0x3c9643){console[_0xf70aa7(0x316)](_0xf70aa7(0x240),_0x3c9643,_0x2711d3);throw new Error(_0xf70aa7(0xa17));}if(_0x31bd15!==null){if(_0x3bd8ea[_0xf70aa7(0x651)]===_0xf70aa7(0x5a6)){const _0xf578ff=currentQuizData['questions'][_0xf70aa7(0x749)](_0x4b5517=>_0x4b5517[_0xf70aa7(0x740)]);_0x3bd8ea[_0xf70aa7(0x341)]=_0xf578ff;const _0x1dd81d=currentQuizData[_0xf70aa7(0x47a)][_0x31bd15][_0xf70aa7(0x740)],_0xdfb035=_0xf578ff[_0xf70aa7(0x9c5)](_0x1dd81d);_0xdfb035>-0x1&&(_0xf578ff[_0xdfb035]=_0x3bd8ea[_0xf70aa7(0x740)]),currentQuizData[_0xf70aa7(0x47a)]['forEach'](_0x3030b0=>{const _0x1900b1=_0xf70aa7;if(_0x3030b0[_0x1900b1(0x651)]===_0x1900b1(0x5a6))_0x3030b0['allResponses']=_0xf578ff;});}currentQuizData[_0xf70aa7(0x47a)][_0x31bd15]=_0x3bd8ea,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x3bd8ea;const _0x118ff4=document[_0xf70aa7(0x3c4)]('quiz-type-select')[_0xf70aa7(0x213)];currentQuizData['quizType']=_0x118ff4,currentQuizData[_0xf70aa7(0x47a)]&&currentQuizData[_0xf70aa7(0x47a)]['forEach'](_0x427435=>{const _0x223682=_0xf70aa7;if(!_0x427435['questionType']){if(_0x118ff4===_0x223682(0x67f))_0x427435[_0x223682(0x651)]=_0x223682(0x961);else _0x118ff4===_0x223682(0x66b)?_0x427435['questionType']=_0x223682(0x8a8):_0x427435[_0x223682(0x651)]=_0x118ff4;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0xf70aa7(0x316)](_0xf70aa7(0x97c),JSON[_0xf70aa7(0x2ce)](_0x31b08e));throw new Error(_0xf70aa7(0xa17));}}catch(_0x2ae369){console[_0xf70aa7(0x316)](_0xf70aa7(0x685),_0x2ae369),showMessage(_0xf70aa7(0x595)),_0x31bd15===null&&(_0x43e06e[_0xf70aa7(0x368)]=_0xf70aa7(0x1e9));}finally{_0x4f1568[_0xf70aa7(0x469)][_0xf70aa7(0x711)](_0xf70aa7(0x5ec)),document[_0xf70aa7(0x3c4)](_0xf70aa7(0x935))[_0xf70aa7(0x2d5)]=![],document['getElementById'](_0xf70aa7(0x40a))[_0xf70aa7(0x2d5)]=![],document[_0xf70aa7(0x3c4)](_0xf70aa7(0x640))[_0xf70aa7(0x2d5)]=![];const _0x685f86=document[_0xf70aa7(0x3c4)](_0xf70aa7(0x55c));_0x685f86&&(_0x685f86[_0xf70aa7(0x2d5)]=![]);}}function exitFullscreen(){const _0x5d31e0=_0x389ace;if(document[_0x5d31e0(0x4ff)])document['exitFullscreen']()['catch'](_0x5b3c83=>console[_0x5d31e0(0x316)](_0x5b3c83));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document[_0x5d31e0(0x498)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x2a4bf8=_0x389ace,_0x1c4348=document['documentElement'];if(_0x1c4348[_0x2a4bf8(0x22e)])_0x1c4348[_0x2a4bf8(0x22e)]()['catch'](_0x1965b3=>{const _0x665131=_0x2a4bf8;console['error'](_0x665131(0x838)+_0x1965b3[_0x665131(0x4a8)]+'\x20('+_0x1965b3[_0x665131(0x37b)]+')');});else{if(_0x1c4348[_0x2a4bf8(0x1d4)])_0x1c4348[_0x2a4bf8(0x1d4)]();else _0x1c4348[_0x2a4bf8(0x885)]&&_0x1c4348['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x5b6c6f=_0x389ace;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5b6c6f(0x192)+maxCheatAttempts+_0x5b6c6f(0x3d8)),document[_0x5b6c6f(0x3c4)](_0x5b6c6f(0x51a))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5b6c6f(0x293)]('visibilitychange',handleVisibilityChange),document[_0x5b6c6f(0x293)](_0x5b6c6f(0x1fa),handleFullscreenChange)):showMessage(_0x5b6c6f(0x8cd)+cheatAttempts+'/'+maxCheatAttempts+_0x5b6c6f(0x121),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x37bca2=_0x389ace;if(currentMode===_0x37bca2(0x329)||!isQuizActive)return;if(document[_0x37bca2(0x652)]===_0x37bca2(0x5ec))handleCheatingEvent();else document['visibilityState']===_0x37bca2(0x4fb)&&(console[_0x37bca2(0x361)](_0x37bca2(0x60b)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x42f6b0=_0x389ace;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x42f6b0(0x64c)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4836b8){const _0xc0698d=_0x389ace,_0xcc2df8=document[_0xc0698d(0x3c4)](_0xc0698d(0x6bd));let _0x34e77e=_0xc0698d(0x978)+_0x4836b8['topic']+_0xc0698d(0x584);_0x4836b8['questions'][_0xc0698d(0x502)]((_0x4e0bff,_0x3583db)=>{const _0x418543=_0xc0698d;!_0x4e0bff['id']&&(_0x4e0bff['id']='q_'+Date[_0x418543(0x2d0)]()+'_'+_0x3583db);const _0x593094=_0x4e0bff[_0x418543(0x651)]||_0x4836b8[_0x418543(0x8f1)];_0x34e77e+=_0x418543(0x3b4)+_0x3583db+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3583db+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3583db+_0x418543(0x866)+_0x3583db+_0x418543(0x906);switch(_0x593094){case _0x418543(0x5a6):_0x34e77e+=_0x418543(0x5f4)+_0x3583db+'\x22>'+(_0x3583db+0x1)+'.\x20'+_0x4e0bff[_0x418543(0x101)]+_0x418543(0x1b5);_0x4e0bff[_0x418543(0x7fd)]&&(_0x34e77e+=_0x418543(0x85c)+_0x3583db+_0x418543(0x82c)+_0x4e0bff['imageCode']+_0x418543(0x58d));_0x34e77e+=_0x418543(0x62a)+_0x3583db+'\x22>'+_0x4e0bff['correctResponse']+'</span></div>',_0x34e77e+=_0x418543(0x2d9)+_0x3583db+'\x22>'+_0x4e0bff[_0x418543(0x655)]+_0x418543(0x173);break;case'short_answer':_0x34e77e+=_0x418543(0x5f4)+_0x3583db+'\x22>'+(_0x3583db+0x1)+'.\x20'+_0x4e0bff['questionText']+'</p>';_0x4e0bff[_0x418543(0x7fd)]&&(_0x34e77e+='<div\x20id=\x22q-image-container-'+_0x3583db+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4e0bff['imageCode']+_0x418543(0x58d));_0x34e77e+=_0x418543(0x205)+_0x3583db+'\x22>'+_0x4e0bff[_0x418543(0x379)]+'</span></div>',_0x34e77e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3583db+'\x22>'+_0x4e0bff['explanation']+_0x418543(0x173);break;case _0x418543(0x327):_0x34e77e+=_0x418543(0x5f4)+_0x3583db+'\x22>'+(_0x3583db+0x1)+'.\x20'+_0x4e0bff['questionText']+'</p>';_0x4e0bff[_0x418543(0x7fd)]&&(_0x34e77e+='<div\x20id=\x22q-image-container-'+_0x3583db+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4e0bff[_0x418543(0x7fd)]+'</div>');_0x34e77e+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x4e0bff[_0x418543(0x9f4)]===!![]?'text-green-600\x20font-bold':'')+_0x418543(0x996)+(_0x4e0bff[_0x418543(0x9f4)]===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x34e77e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3583db+'\x22>'+_0x4e0bff[_0x418543(0x655)]+_0x418543(0x173);break;case _0x418543(0x6c6):case _0x418543(0x961):default:_0x34e77e+=_0x418543(0x5f4)+_0x3583db+'\x22>'+(_0x3583db+0x1)+'.\x20'+_0x4e0bff['questionText']+_0x418543(0x1b5);_0x4e0bff[_0x418543(0x7fd)]&&(_0x34e77e+=_0x418543(0x85c)+_0x3583db+_0x418543(0x82c)+_0x4e0bff[_0x418543(0x7fd)]+'</div>');_0x34e77e+=_0x418543(0x21b)+_0x3583db+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e0bff['options']['map']((_0x572957,_0x498b11)=>'<li\x20class=\x22'+(_0x498b11===_0x4e0bff['correctAnswerIndex']?_0x418543(0x8d8):'')+'\x22>'+_0x572957+_0x418543(0x4b7))[_0x418543(0x25a)]('')+_0x418543(0x876),_0x34e77e+=_0x418543(0x2d9)+_0x3583db+'\x22>'+_0x4e0bff[_0x418543(0x655)]+_0x418543(0x173);break;}_0x34e77e+=_0x418543(0x58d);}),_0x34e77e+=_0xc0698d(0x164),_0xcc2df8[_0xc0698d(0x368)]=_0x34e77e,document['querySelectorAll'](_0xc0698d(0x88f))[_0xc0698d(0x502)](_0x4bce54=>_0x4bce54['addEventListener']('click',handleEditQuestion)),document[_0xc0698d(0x85d)]('.regenerate-question-btn')[_0xc0698d(0x502)](_0xa64e67=>_0xa64e67[_0xc0698d(0x199)](_0xc0698d(0x548),handleRegenerateQuestion)),document['querySelectorAll'](_0xc0698d(0x2a9))[_0xc0698d(0x502)](_0x1250ad=>_0x1250ad[_0xc0698d(0x199)](_0xc0698d(0x548),handleSaveToBank)),document[_0xc0698d(0x3c4)](_0xc0698d(0x81e))[_0xc0698d(0x199)](_0xc0698d(0x548),exportQuizAsWorksheetPDF),document['getElementById'](_0xc0698d(0x109))[_0xc0698d(0x199)](_0xc0698d(0x548),saveQuiz),document[_0xc0698d(0x3c4)]('verify-answers-btn')['addEventListener'](_0xc0698d(0x548),handleVerifyAnswers);if(window[_0xc0698d(0x8cc)])window['MathJax'][_0xc0698d(0x4c3)]([_0xcc2df8]);}function handleRegenerateQuestion(_0x3c34ca){const _0x32f435=_0x389ace,_0x1b7e2a=_0x3c34ca[_0x32f435(0x620)][_0x32f435(0x5d9)][_0x32f435(0x6e9)],_0x340c29=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x1b7e2a)+0x1)+_0x32f435(0x8e6)),generateQuiz(_0x340c29,null,parseInt(_0x1b7e2a));}function getPointerPosition(_0x5ae9c7,_0x21c5bb){const _0x49ff32=_0x389ace,_0x40340f=_0x5ae9c7['getScreenCTM']();let _0xef904e,_0xe47d9;return _0x21c5bb[_0x49ff32(0x46f)]&&_0x21c5bb['touches'][_0x49ff32(0x6e5)]>0x0?(_0xef904e=_0x21c5bb[_0x49ff32(0x46f)][0x0][_0x49ff32(0x6cb)],_0xe47d9=_0x21c5bb[_0x49ff32(0x46f)][0x0][_0x49ff32(0x2c2)]):(_0xef904e=_0x21c5bb[_0x49ff32(0x6cb)],_0xe47d9=_0x21c5bb[_0x49ff32(0x2c2)]),{'x':(_0xef904e-_0x40340f['e'])/_0x40340f['a'],'y':(_0xe47d9-_0x40340f['f'])/_0x40340f['d']};}function startDrag(_0x49d181){const _0x5c3350=_0x389ace;_0x49d181[_0x5c3350(0x7a7)]===_0x5c3350(0x3be)&&_0x49d181[_0x5c3350(0xa30)]();const _0x3174fe=_0x49d181['target'][_0x5c3350(0x552)]('.draggable-text');if(_0x3174fe){draggedSvgElement=_0x3174fe;const _0x5d9482=draggedSvgElement[_0x5c3350(0x76b)],_0x480b3d=getPointerPosition(_0x5d9482,_0x49d181);svgOffset['x']=_0x480b3d['x']-parseFloat(draggedSvgElement[_0x5c3350(0x9ac)](null,'x')),svgOffset['y']=_0x480b3d['y']-parseFloat(draggedSvgElement[_0x5c3350(0x9ac)](null,'y'));}}function calculateItemAnalysis(_0x1d35c0,_0x1c114b){const _0x351811=_0x389ace,_0x45d89d={};if(_0x1c114b[_0x351811(0x6e5)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x447789=[..._0x1c114b]['sort']((_0x3902b2,_0x5965a2)=>{const _0x59a933=_0x351811,_0xf17b94=_0x5965a2['latestScore']-_0x3902b2[_0x59a933(0x2ac)];if(_0xf17b94!==0x0)return _0xf17b94;const _0x46a004=_0x3902b2['attempts']?.[_0x59a933(0x6e5)]||0x1,_0x2f8901=_0x5965a2['attempts']?.['length']||0x1,_0x594611=_0x46a004-_0x2f8901;if(_0x594611!==0x0)return _0x594611;const _0x530c3c=new Date(_0x3902b2[_0x59a933(0x400)]),_0x4bbf5c=new Date(_0x5965a2['latestSubmittedAt']),_0x268c6e=_0x530c3c-_0x4bbf5c;if(_0x268c6e!==0x0)return _0x268c6e;return _0x3902b2[_0x59a933(0x3c0)][_0x59a933(0x3c6)](_0x5965a2[_0x59a933(0x3c0)],'th');}),_0x17f616=_0x447789[_0x351811(0x6e5)],_0x4fa7b1=Math[_0x351811(0x364)](0x1,Math[_0x351811(0x6bc)](_0x17f616*0.33));if(_0x4fa7b1===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x51c7a8=_0x447789[_0x351811(0x41d)](0x0,_0x4fa7b1),_0x289627=_0x447789['slice'](-_0x4fa7b1),_0x2be722=_0x51c7a8[_0x351811(0x749)](_0x3305e0=>_0x3305e0[_0x351811(0x3c0)]),_0x7eb12f=_0x289627['map'](_0x8137b2=>_0x8137b2['studentName']);return _0x1d35c0['questions'][_0x351811(0x502)]((_0x19e980,_0x5bb55d)=>{const _0x405dd1=_0x351811,_0x400ceb=_0x19e980[_0x405dd1(0x101)]||_0x19e980[_0x405dd1(0x47b)];let _0xf3b008=0x0,_0x13b2b0=0x0,_0x43d50b=0x0;const _0xf9a45a=[],_0x1f8a98=[];_0x51c7a8[_0x405dd1(0x502)](_0x39a963=>{const _0x53a6b8=_0x405dd1,_0x418b4d=_0x39a963[_0x53a6b8(0x523)][_0x39a963[_0x53a6b8(0x523)]['length']-0x1],_0x21b5d9=_0x418b4d[_0x53a6b8(0x54e)][_0x53a6b8(0x304)](_0x15f9bd=>_0x15f9bd[_0x53a6b8(0x44d)]===_0x400ceb);_0xf9a45a[_0x53a6b8(0x2af)]({'name':_0x39a963[_0x53a6b8(0x3c0)],'isCorrect':_0x21b5d9?_0x21b5d9['isCorrect']:![]}),_0x21b5d9&&_0x21b5d9[_0x53a6b8(0x988)]&&_0x13b2b0++;}),_0x289627[_0x405dd1(0x502)](_0x4d8326=>{const _0x571332=_0x405dd1,_0x20d8f2=_0x4d8326[_0x571332(0x523)][_0x4d8326[_0x571332(0x523)][_0x571332(0x6e5)]-0x1],_0x26e90b=_0x20d8f2['answers'][_0x571332(0x304)](_0x50b1df=>_0x50b1df[_0x571332(0x44d)]===_0x400ceb);_0x1f8a98['push']({'name':_0x4d8326[_0x571332(0x3c0)],'isCorrect':_0x26e90b?_0x26e90b[_0x571332(0x988)]:![]}),_0x26e90b&&_0x26e90b[_0x571332(0x988)]&&_0x43d50b++;}),_0x1c114b['forEach'](_0x5873a4=>{const _0x1224d6=_0x405dd1,_0x3b2332=_0x5873a4[_0x1224d6(0x523)][_0x5873a4[_0x1224d6(0x523)][_0x1224d6(0x6e5)]-0x1],_0x5f0297=_0x3b2332[_0x1224d6(0x54e)][_0x1224d6(0x304)](_0x5c3d32=>_0x5c3d32['originalQuestionText']===_0x400ceb);_0x5f0297&&_0x5f0297[_0x1224d6(0x988)]&&_0xf3b008++;});const _0x1bfa27=_0x17f616>0x0?_0xf3b008/_0x17f616:0x0,_0x1b4d48=_0x4fa7b1>0x0?_0x13b2b0/_0x4fa7b1-_0x43d50b/_0x4fa7b1:0x0;_0x45d89d[_0x5bb55d]={'p':_0x1bfa27,'r':_0x1b4d48,'upperGroupResponders':_0xf9a45a,'lowerGroupResponders':_0x1f8a98};}),{'perQuestionStats':_0x45d89d,'overallGroups':{'upperGroupNames':_0x2be722,'lowerGroupNames':_0x7eb12f}};}function drag(_0x12525e){const _0xa44bd3=_0x389ace;if(draggedSvgElement){_0x12525e[_0xa44bd3(0xa30)]();const _0x65a5d0=draggedSvgElement[_0xa44bd3(0x76b)],_0x4b29e6=getPointerPosition(_0x65a5d0,_0x12525e),_0x1c42a5=_0x65a5d0['viewBox']['baseVal'];let _0x507fbc=_0x4b29e6['x']-svgOffset['x'],_0x509c33=_0x4b29e6['y']-svgOffset['y'];const _0x3813bd=draggedSvgElement[_0xa44bd3(0x1d8)]();_0x507fbc=Math['max'](_0x1c42a5['x'],Math[_0xa44bd3(0x366)](_0x507fbc,_0x1c42a5['x']+_0x1c42a5[_0xa44bd3(0x4b8)]-_0x3813bd[_0xa44bd3(0x4b8)])),_0x509c33=Math['max'](_0x1c42a5['y'],Math[_0xa44bd3(0x366)](_0x509c33,_0x1c42a5['y']+_0x1c42a5[_0xa44bd3(0x5bb)]-_0x3813bd[_0xa44bd3(0x5bb)])),draggedSvgElement[_0xa44bd3(0x564)](null,'x',_0x507fbc),draggedSvgElement['setAttributeNS'](null,'y',_0x509c33);}}function endDrag(_0x279e5a){draggedSvgElement=null;}function handleSvgEditClick(_0xa02ae6){const _0x259c95=_0x389ace;if(_0xa02ae6[_0x259c95(0x3e4)][_0x259c95(0x469)]['contains']('delete-svg-btn')){const _0x17d7a7=_0xa02ae6[_0x259c95(0x3e4)][_0x259c95(0x5d9)]['targetId'],_0x1ca39a=_0xa02ae6[_0x259c95(0x620)],_0x162cc6=_0x1ca39a[_0x259c95(0x674)]('#'+_0x17d7a7);_0x162cc6&&_0x162cc6[_0x259c95(0x182)](),_0xa02ae6[_0x259c95(0x3e4)]['remove']();}}function handleEditQuestion(_0xe68d78){const _0x55d24e=_0x389ace,_0x53c100=_0xe68d78[_0x55d24e(0x620)],_0x1bb0fc=_0x53c100[_0x55d24e(0x5d9)][_0x55d24e(0x6e9)],_0x5ddd0d=currentQuizData[_0x55d24e(0x47a)][_0x1bb0fc],_0x405490=document['getElementById']('q-text-'+_0x1bb0fc),_0xb41ec6=document[_0x55d24e(0x3c4)](_0x55d24e(0x4d2)+_0x1bb0fc),_0x228506=document[_0x55d24e(0x3c4)](_0x55d24e(0x59b)+_0x1bb0fc);if(_0x53c100[_0x55d24e(0x368)]['includes'](_0x55d24e(0x2a1))){_0x53c100[_0x55d24e(0x368)]=_0x55d24e(0x4c9),_0x53c100[_0x55d24e(0x5c6)]='บันทึกการแก้ไข';if(_0x405490)_0x405490['contentEditable']=!![];if(_0xb41ec6)_0xb41ec6[_0x55d24e(0x49a)]=!![];if(_0x228506){const _0x204973=_0x228506['querySelector'](_0x55d24e(0x932));if(_0x204973){const _0x54f7ce=_0x204973['querySelectorAll']('text');_0x54f7ce[_0x55d24e(0x502)]((_0x5de643,_0x4bab43)=>{const _0x2974f4=_0x55d24e,_0x1dc005=_0x2974f4(0x5d0)+_0x1bb0fc+'-'+_0x4bab43;_0x5de643['id']=_0x1dc005,_0x5de643['classList'][_0x2974f4(0x711)]('draggable-text'),_0x5de643[_0x2974f4(0x527)][_0x2974f4(0x267)]=_0x2974f4(0x2a3);const _0x162b56=document[_0x2974f4(0x991)]('http://www.w3.org/2000/svg',_0x2974f4(0x423)),_0x30379c=_0x5de643[_0x2974f4(0x1d8)]();_0x162b56[_0x2974f4(0x9bb)]('cx',String(_0x30379c['x']+_0x30379c['width']+0x5)),_0x162b56[_0x2974f4(0x9bb)]('cy',String(_0x30379c['y']+_0x30379c['height']/0x2-0x5)),_0x162b56[_0x2974f4(0x9bb)]('r','5'),_0x162b56[_0x2974f4(0x9bb)](_0x2974f4(0x4ee),_0x2974f4(0x347)),_0x162b56[_0x2974f4(0x9bb)]('class','delete-svg-btn'),_0x162b56[_0x2974f4(0x5d9)][_0x2974f4(0x67b)]=_0x1dc005,_0x5de643[_0x2974f4(0x557)](_0x162b56);}),_0x204973[_0x55d24e(0x199)](_0x55d24e(0x4bf),startDrag),_0x204973[_0x55d24e(0x199)](_0x55d24e(0x943),drag),_0x204973['addEventListener'](_0x55d24e(0x698),endDrag),_0x204973['addEventListener'](_0x55d24e(0x787),endDrag),_0x204973[_0x55d24e(0x199)](_0x55d24e(0x3be),startDrag,{'passive':![]}),_0x204973[_0x55d24e(0x199)](_0x55d24e(0x658),drag,{'passive':![]}),_0x204973['addEventListener'](_0x55d24e(0x47d),endDrag),_0x204973[_0x55d24e(0x199)](_0x55d24e(0x276),endDrag),_0x204973[_0x55d24e(0x199)](_0x55d24e(0x548),handleSvgEditClick);}}if(_0x405490)_0x405490[_0x55d24e(0x786)]();}else{_0x53c100[_0x55d24e(0x368)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x53c100['title']=_0x55d24e(0x6b3);if(_0x405490){_0x405490[_0x55d24e(0x49a)]=![];const _0x2cc2c1=_0x5ddd0d['questionType']||currentQuizData[_0x55d24e(0x8f1)];_0x2cc2c1===_0x55d24e(0x5a6)?_0x5ddd0d['stem']=_0x405490['innerText'][_0x55d24e(0x18a)](_0x405490[_0x55d24e(0x9c4)][_0x55d24e(0x9c5)]('.')+0x2)['trim']():_0x5ddd0d[_0x55d24e(0x47b)]=_0x405490[_0x55d24e(0x9c4)][_0x55d24e(0x18a)](_0x405490[_0x55d24e(0x9c4)][_0x55d24e(0x9c5)]('.')+0x2)[_0x55d24e(0x7f5)]();}_0xb41ec6&&(_0xb41ec6[_0x55d24e(0x49a)]=![],_0x5ddd0d[_0x55d24e(0x655)]=_0xb41ec6['innerText']);if(_0x228506){const _0x29933f=_0x228506[_0x55d24e(0x674)](_0x55d24e(0x932));if(_0x29933f){const _0x5ce004=_0x29933f[_0x55d24e(0x102)](!![]);_0x5ce004[_0x55d24e(0x85d)](_0x55d24e(0x7bc))[_0x55d24e(0x502)](_0x26363c=>_0x26363c[_0x55d24e(0x182)]()),_0x5ce004[_0x55d24e(0x85d)](_0x55d24e(0x130))[_0x55d24e(0x502)](_0x4cf579=>{const _0x519d39=_0x55d24e;_0x4cf579['classList'][_0x519d39(0x182)](_0x519d39(0x9f3)),_0x4cf579[_0x519d39(0x527)][_0x519d39(0x267)]=_0x519d39(0x20f),_0x4cf579[_0x519d39(0x70c)]('id');}),_0x5ddd0d['imageCode']=_0x5ce004[_0x55d24e(0x844)],_0x29933f[_0x55d24e(0x293)](_0x55d24e(0x4bf),startDrag),_0x29933f[_0x55d24e(0x293)]('mousemove',drag),_0x29933f[_0x55d24e(0x293)](_0x55d24e(0x698),endDrag),_0x29933f[_0x55d24e(0x293)](_0x55d24e(0x787),endDrag),_0x29933f['removeEventListener'](_0x55d24e(0x3be),startDrag),_0x29933f[_0x55d24e(0x293)](_0x55d24e(0x658),drag),_0x29933f[_0x55d24e(0x293)](_0x55d24e(0x47d),endDrag),_0x29933f['removeEventListener'](_0x55d24e(0x276),endDrag),_0x29933f['removeEventListener'](_0x55d24e(0x548),handleSvgEditClick),_0x29933f[_0x55d24e(0x85d)](_0x55d24e(0x7bc))[_0x55d24e(0x502)](_0x47ec3a=>_0x47ec3a[_0x55d24e(0x182)]()),_0x29933f[_0x55d24e(0x85d)](_0x55d24e(0x130))[_0x55d24e(0x502)](_0x31a9f0=>{const _0x3fd82f=_0x55d24e;_0x31a9f0['classList'][_0x3fd82f(0x182)](_0x3fd82f(0x9f3)),_0x31a9f0['style'][_0x3fd82f(0x267)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4814ed){const _0x35433f=_0x389ace,_0x2efc58=document['getElementById']('quiz-editor-modal'),_0x1b969d=document[_0x35433f(0x3c4)](_0x35433f(0x861));_0x1b969d[_0x35433f(0x368)]=_0x35433f(0x58e),_0x2efc58[_0x35433f(0x469)][_0x35433f(0x182)]('hidden');try{const _0x24eefe=doc(db,_0x35433f(0x5a5)+appId+_0x35433f(0x405),_0x4814ed),_0x21985b=await getDoc(_0x24eefe);if(!_0x21985b[_0x35433f(0x446)]())throw new Error(_0x35433f(0x56e));currentEditingQuizData={'id':_0x4814ed,..._0x21985b[_0x35433f(0x47e)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x2bf14b){console[_0x35433f(0x316)]('Error\x20opening\x20quiz\x20editor:',_0x2bf14b),showMessage(_0x35433f(0x71b)),_0x2efc58['classList'][_0x35433f(0x711)]('hidden');}}function renderQuizEditor(_0x22a106){const _0x4be967=_0x389ace;document['getElementById']('editor-quiz-topic')['value']=_0x22a106[_0x4be967(0x3d0)];const _0xf56741=document['getElementById'](_0x4be967(0x861));let _0x578829=_0x22a106[_0x4be967(0x47a)]['map']((_0x27c0fd,_0x43da52)=>{const _0x21db4c=_0x4be967;let _0x23f2e9='';const _0x1f2e32=_0x27c0fd[_0x21db4c(0x651)]||_0x22a106[_0x21db4c(0x8f1)];switch(_0x1f2e32){case _0x21db4c(0x961):const _0x514fe0=(_0x27c0fd[_0x21db4c(0x237)]||[])[_0x21db4c(0x749)]((_0x29d201,_0x46288a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x43da52+_0x21db4c(0x9a8)+_0x46288a+'\x22\x20'+(_0x46288a===_0x27c0fd['correctAnswerIndex']?_0x21db4c(0x2cd):'')+_0x21db4c(0x6a5)+_0x29d201+_0x21db4c(0x96c))[_0x21db4c(0x25a)]('');_0x23f2e9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x514fe0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x21db4c(0x8a8):_0x23f2e9=_0x21db4c(0x5e8)+(_0x27c0fd[_0x21db4c(0x379)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x21db4c(0x327):_0x23f2e9=_0x21db4c(0x71f)+_0x43da52+_0x21db4c(0x7cf)+(_0x27c0fd['correctAnswer']===!![]?_0x21db4c(0x2cd):'')+_0x21db4c(0x4f4)+_0x43da52+_0x21db4c(0x881)+(_0x27c0fd[_0x21db4c(0x9f4)]===![]?_0x21db4c(0x2cd):'')+_0x21db4c(0x804);break;case _0x21db4c(0x5a6):_0x23f2e9=_0x21db4c(0x666)+(_0x27c0fd[_0x21db4c(0x740)]||'')+_0x21db4c(0x845);break;}const _0x568f0f=_0x27c0fd['questionText']||_0x27c0fd[_0x21db4c(0x101)]||'';return _0x21db4c(0x829)+_0x43da52+_0x21db4c(0x5c8)+_0x1f2e32+_0x21db4c(0x15d)+(_0x43da52+0x1)+'\x20('+_0x1f2e32+_0x21db4c(0x4cf)+_0x568f0f+_0x21db4c(0x53c)+_0x23f2e9+_0x21db4c(0x90d);})['join']('');_0xf56741[_0x4be967(0x368)]=_0x578829,_0xf56741[_0x4be967(0x85d)](_0x4be967(0x3b9))[_0x4be967(0x502)](_0xef847f=>{const _0xfbb1d1=_0x4be967;_0xef847f[_0xfbb1d1(0x199)](_0xfbb1d1(0x548),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3e8579){const _0x21c5b7=_0x389ace,_0x4e4ce8=_0x3e8579[_0x21c5b7(0x620)],_0xfb1f91=_0x4e4ce8['closest'](_0x21c5b7(0x815));if(!_0xfb1f91)return;const _0x394cf9=parseInt(_0xfb1f91[_0x21c5b7(0x5d9)][_0x21c5b7(0x775)],0xa);if(isNaN(_0x394cf9)||!currentEditingQuizData[_0x21c5b7(0x47a)][_0x394cf9]){showMessage(_0x21c5b7(0x62e));return;}const _0x38a059=currentEditingQuizData[_0x21c5b7(0x47a)][_0x394cf9];_0x4e4ce8[_0x21c5b7(0x368)]=_0x21c5b7(0x4b5),_0x4e4ce8[_0x21c5b7(0x2d5)]=!![];const _0x47fa3e=_0x21c5b7(0x89e)+JSON[_0x21c5b7(0x2ce)](_0x38a059)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x26bd68;const _0x19ef25=_0x38a059[_0x21c5b7(0x651)]||currentEditingQuizData[_0x21c5b7(0x8f1)];switch(_0x19ef25){case _0x21c5b7(0x8a8):_0x26bd68={'type':_0x21c5b7(0xa07),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x21c5b7(0x966)},'explanation':{'type':_0x21c5b7(0x966)},'imageCode':{'type':_0x21c5b7(0x966)}},'required':[_0x21c5b7(0x47b),_0x21c5b7(0x379),'explanation']};break;case _0x21c5b7(0x961):default:_0x26bd68={'type':'OBJECT','properties':{'questionText':{'type':_0x21c5b7(0x966)},'options':{'type':_0x21c5b7(0x127),'items':{'type':_0x21c5b7(0x966)}},'correctAnswerIndex':{'type':_0x21c5b7(0x894)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x21c5b7(0x47b),_0x21c5b7(0x237),'correctAnswerIndex',_0x21c5b7(0x655)]};break;}try{let _0x76845a=await callAnalysisApi(_0x47fa3e,_0x26bd68);_0x76845a[_0x21c5b7(0x237)]&&Array[_0x21c5b7(0x5f0)](_0x76845a['options'])&&(_0x76845a[_0x21c5b7(0x237)]=_0x76845a['options']['map'](_0x4e3763=>typeof _0x4e3763===_0x21c5b7(0x19a)?_0x4e3763['replace'](/S(\s*[\d_]+?\s*)S/g,_0x21c5b7(0x725)):_0x4e3763)),_0x38a059['imageCode']&&_0x38a059[_0x21c5b7(0x7fd)][_0x21c5b7(0x821)]('fix\x20the\x20option')&&(_0x76845a[_0x21c5b7(0x7fd)]=''),currentEditingQuizData['questions'][_0x394cf9]={..._0x38a059,..._0x76845a},renderQuizEditor(currentEditingQuizData),showMessage(_0x21c5b7(0x48c));}catch(_0x303aeb){console[_0x21c5b7(0x316)]('AI\x20Fix\x20Error:',_0x303aeb),showMessage(_0x21c5b7(0x574)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x40ba0b=_0x389ace,_0x1b37ac=document[_0x40ba0b(0x3c4)](_0x40ba0b(0x7a4));_0x1b37ac['disabled']=!![],_0x1b37ac[_0x40ba0b(0x368)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3799c5=document[_0x40ba0b(0x3c4)](_0x40ba0b(0x6a3))[_0x40ba0b(0x213)],_0x2ffe9e=document['querySelectorAll'](_0x40ba0b(0x815));let _0x2d125c=[];const _0x2ffad4=Array[_0x40ba0b(0x194)](_0x2ffe9e)['map']((_0x18ba43,_0x4ab896)=>{const _0x71a5c=_0x40ba0b,_0x2f8b38=_0x18ba43[_0x71a5c(0x5d9)][_0x71a5c(0x6af)],_0x484dfb=_0x18ba43[_0x71a5c(0x674)](_0x71a5c(0x241))['value'];let _0x19fcb0={'questionType':_0x2f8b38};const _0x577417=currentEditingQuizData[_0x71a5c(0x47a)][_0x4ab896];switch(_0x2f8b38){case _0x71a5c(0x961):_0x19fcb0['questionText']=_0x484dfb;const _0x31c643=_0x18ba43[_0x71a5c(0x85d)]('input[type=\x22text\x22]');_0x19fcb0[_0x71a5c(0x237)]=Array[_0x71a5c(0x194)](_0x31c643)[_0x71a5c(0x749)](_0x1fcb77=>_0x1fcb77[_0x71a5c(0x213)]);const _0x284b20=_0x18ba43[_0x71a5c(0x674)](_0x71a5c(0x2f4));_0x19fcb0[_0x71a5c(0x58a)]=_0x284b20?parseInt(_0x284b20[_0x71a5c(0x213)]):0x0;break;case _0x71a5c(0x8a8):_0x19fcb0[_0x71a5c(0x47b)]=_0x484dfb,_0x19fcb0['idealAnswer']=_0x18ba43['querySelector'](_0x71a5c(0x314))[_0x71a5c(0x213)];break;case _0x71a5c(0x327):_0x19fcb0[_0x71a5c(0x47b)]=_0x484dfb;const _0x24344c=_0x18ba43[_0x71a5c(0x674)](_0x71a5c(0x2f4));_0x19fcb0[_0x71a5c(0x9f4)]=_0x24344c?_0x24344c[_0x71a5c(0x213)]===_0x71a5c(0x407):!![];break;case _0x71a5c(0x5a6):_0x19fcb0[_0x71a5c(0x101)]=_0x484dfb;const _0xc74f8d=_0x18ba43[_0x71a5c(0x674)]('.correct-response-input');_0x19fcb0[_0x71a5c(0x740)]=_0xc74f8d?_0xc74f8d[_0x71a5c(0x213)]:'',_0x2d125c[_0x71a5c(0x2af)](_0x19fcb0[_0x71a5c(0x740)]);break;default:_0x19fcb0[_0x71a5c(0x47b)]=_0x484dfb;break;}return{..._0x577417,..._0x19fcb0};});_0x2d125c[_0x40ba0b(0x6e5)]>0x0&&_0x2ffad4['forEach'](_0x69f3cf=>{const _0x50d389=_0x40ba0b;_0x69f3cf[_0x50d389(0x651)]===_0x50d389(0x5a6)&&(_0x69f3cf['allResponses']=_0x2d125c);});const _0x496df3=currentEditingQuizData['id'],_0x3517ac=doc(db,_0x40ba0b(0x5a5)+appId+'/public/data/quizzes',_0x496df3);await updateDoc(_0x3517ac,{'topic':_0x3799c5,'questions':_0x2ffad4}),document[_0x40ba0b(0x3c4)](_0x40ba0b(0x61f))[_0x40ba0b(0x469)][_0x40ba0b(0x711)](_0x40ba0b(0x5ec)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x496df3));}catch(_0x4c83c7){console[_0x40ba0b(0x316)]('Error\x20saving\x20quiz\x20edits:',_0x4c83c7),showMessage(_0x40ba0b(0x926));}finally{_0x1b37ac[_0x40ba0b(0x2d5)]=![],_0x1b37ac[_0x40ba0b(0x368)]=_0x40ba0b(0x41c);}}async function initiateReGradeProcess(_0x17c90e){const _0x134b87=_0x389ace;showMessage(_0x134b87(0x65c));try{const _0x3bb412=doc(db,'artifacts/'+appId+_0x134b87(0x405),_0x17c90e),_0xd98e9e=await getDoc(_0x3bb412);if(!_0xd98e9e['exists']())throw new Error(_0x134b87(0x75b));const _0x5ba8dd={'id':_0x17c90e,..._0xd98e9e[_0x134b87(0x47e)]()},_0x49a4b3=collection(db,'artifacts/'+appId+_0x134b87(0x405),_0x17c90e,_0x134b87(0x35b)),_0x4799cc=await getDocs(_0x49a4b3);if(_0x4799cc[_0x134b87(0x8c5)]){showMessage(_0x134b87(0x9b5));return;}const _0x594d7d=_0x4799cc['docs'][_0x134b87(0x749)](_0x1470da=>reGradeSingleSubmission(_0x1470da,_0x5ba8dd));await Promise['all'](_0x594d7d);if(_0x5ba8dd[_0x134b87(0x7a0)]){const _0x176516=doc(db,'artifacts/'+appId+'/public/data/projects',_0x5ba8dd['projectId']),_0x4bb125=await getDoc(_0x176516);if(_0x4bb125['exists']()&&_0x4bb125['data']()['students']){const _0x3e3cdb=_0x4bb125[_0x134b87(0x47e)]()['students']['map'](_0x35a4f0=>updateStudentProfile(_0x5ba8dd[_0x134b87(0x7a0)],_0x35a4f0));await Promise['all'](_0x3e3cdb);}}showMessage(_0x134b87(0x761)+_0x4799cc['size']+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0xf0479c){console[_0x134b87(0x316)](_0x134b87(0x91b),_0xf0479c),showMessage(_0x134b87(0x140)+_0xf0479c[_0x134b87(0x4a8)]);}}async function reGradeSingleSubmission(_0x3bb90c,_0x46069a){const _0x176693=_0x389ace,_0x5b502b=_0x3bb90c[_0x176693(0x47e)](),_0x3753d8=_0x5b502b['studentName'],_0x44065c=_0x5b502b[_0x176693(0x523)]||[],_0x230cf8=[];for(const _0x429708 of _0x44065c){let _0x5a4b46=0x0,_0x5a5339=[],_0x28de80=0x0;const _0x1a909e=[];for(const _0x44bc74 of _0x429708[_0x176693(0x54e)]){let _0x2d08e7;_0x44bc74['questionId']&&(_0x2d08e7=_0x46069a[_0x176693(0x47a)]['find'](_0x188c9a=>_0x188c9a['id']===_0x44bc74[_0x176693(0x724)]));!_0x2d08e7&&_0x44bc74[_0x176693(0x44d)]&&(_0x2d08e7=_0x46069a[_0x176693(0x47a)][_0x176693(0x304)](_0x53ff16=>(_0x53ff16[_0x176693(0x101)]||_0x53ff16[_0x176693(0x47b)])===_0x44bc74[_0x176693(0x44d)]));let _0x43610b=![];if(_0x2d08e7){const _0x185629=_0x2d08e7[_0x176693(0x651)]||_0x46069a[_0x176693(0x8f1)];switch(_0x185629){case _0x176693(0x961):if(_0x2d08e7[_0x176693(0x237)]&&_0x2d08e7['correctAnswerIndex']<_0x2d08e7['options'][_0x176693(0x6e5)]){const _0x4a7e32=_0x2d08e7['options'][_0x2d08e7[_0x176693(0x58a)]];_0x43610b=_0x44bc74[_0x176693(0x78b)]===_0x4a7e32;}break;case _0x176693(0x327):const _0x1cc714=_0x44bc74[_0x176693(0x710)]===!![]||_0x44bc74[_0x176693(0x710)]===_0x176693(0x407);_0x43610b=_0x1cc714===_0x2d08e7[_0x176693(0x9f4)];break;case'matching_item':_0x43610b=_0x44bc74[_0x176693(0x710)]===_0x2d08e7[_0x176693(0x740)];break;case'short_answer':_0x43610b=await gradeShortAnswer(_0x44bc74[_0x176693(0x710)],_0x2d08e7);break;default:_0x43610b=_0x44bc74['isCorrect'];break;}}if(_0x43610b){_0x5a4b46++,_0x28de80++;if(_0x28de80===0x3)_0x5a5339['push'](BADGES[_0x176693(0x911)]['id']);}else _0x28de80=0x0;_0x1a909e[_0x176693(0x2af)]({..._0x44bc74,'isCorrect':_0x43610b});}let _0x52c6e5=_0x5a4b46*0xa;_0x5a4b46===_0x46069a[_0x176693(0x47a)]['length']&&(_0x52c6e5+=0x32,_0x5a5339['push'](BADGES['PERFECT_SCORE']['id'])),_0x230cf8[_0x176693(0x2af)]({..._0x429708,'score':_0x5a4b46,'points':_0x52c6e5,'badges':Array['from'](new Set(_0x5a5339)),'answers':_0x1a909e});}const _0x2a8093=_0x230cf8[_0x176693(0x6e5)]>0x0?_0x230cf8[0x0][_0x176693(0x84d)]:0x0,_0x5675af=Math[_0x176693(0x364)](..._0x230cf8[_0x176693(0x749)](_0x197c60=>_0x197c60[_0x176693(0x84d)])),_0x1a2d57=_0x230cf8['length']>0x0?_0x230cf8[_0x230cf8[_0x176693(0x6e5)]-0x1][_0x176693(0x84d)]:0x0,_0x27b42c=_0x230cf8['length']>0x0?_0x230cf8[_0x230cf8['length']-0x1][_0x176693(0x8b4)]:0x0,_0x3a12d6=doc(db,_0x176693(0x5a5)+appId+_0x176693(0x758)+_0x46069a['id']+_0x176693(0x929),_0x3753d8);await updateDoc(_0x3a12d6,{'attempts':_0x230cf8,'firstScore':_0x2a8093,'bestScore':_0x5675af,'latestScore':_0x1a2d57,'points':_0x27b42c});}function cleanupQuizOptions(_0x1b5acb){const _0x12424e=_0x389ace,_0x484743=(_0x27a570,_0x3c7bac)=>_0x3c7bac===0x0?_0x27a570:_0x484743(_0x3c7bac,_0x27a570%_0x3c7bac),_0x48619b=_0x104dd6=>{const _0x27c000=_0x51de;if(typeof _0x104dd6!==_0x27c000(0x19a))return null;_0x104dd6=_0x104dd6['trim']();const _0x4992c7=_0x104dd6[_0x27c000(0x1c9)](/[ /]/)[_0x27c000(0x573)](_0x132963=>_0x132963!=='');if(_0x4992c7['length']===0x3)return parseInt(_0x4992c7[0x0])+parseInt(_0x4992c7[0x1])/parseInt(_0x4992c7[0x2]);else{if(_0x4992c7[_0x27c000(0x6e5)]===0x2)return parseInt(_0x4992c7[0x0])/parseInt(_0x4992c7[0x1]);else{if(_0x4992c7[_0x27c000(0x6e5)]===0x1&&!isNaN(_0x4992c7[0x0]))return parseFloat(_0x4992c7[0x0]);}}return null;},_0x7df001=_0x41dc9b=>{const _0x5a17e5=_0x51de;if(typeof _0x41dc9b!==_0x5a17e5(0x19a))return _0x41dc9b;const _0xd4bc17=_0x41dc9b[_0x5a17e5(0x44b)](/(\d+)\s+(\d+)\/(\d+)/);if(_0xd4bc17){const _0x57796e=parseInt(_0xd4bc17[0x1]);let _0x49d894=parseInt(_0xd4bc17[0x2]),_0x19ba7f=parseInt(_0xd4bc17[0x3]);const _0x51540a=_0x484743(_0x49d894,_0x19ba7f);_0x49d894/=_0x51540a,_0x19ba7f/=_0x51540a;if(_0x19ba7f===0x1)return(_0x57796e+_0x49d894)['toString']();return _0x57796e+'\x20'+_0x49d894+'/'+_0x19ba7f;}return _0x41dc9b;};return _0x1b5acb&&_0x1b5acb['questions']&&_0x1b5acb[_0x12424e(0x47a)][_0x12424e(0x502)](_0x1e4468=>{const _0x56bc0d=_0x12424e;if(_0x1e4468[_0x56bc0d(0x651)]==='multiple_choice'&&_0x1e4468[_0x56bc0d(0x237)]){const _0x377768=new Map(),_0x285dbc=_0x1e4468[_0x56bc0d(0x237)][_0x1e4468[_0x56bc0d(0x58a)]];_0x1e4468[_0x56bc0d(0x237)][_0x56bc0d(0x502)](_0x1d8643=>{const _0x172e01=_0x56bc0d,_0x2c1f7e=_0x7df001(_0x1d8643),_0x1d2fbb=_0x48619b(_0x2c1f7e);_0x1d2fbb!==null&&!_0x377768[_0x172e01(0x477)](_0x1d2fbb)&&_0x377768[_0x172e01(0x225)](_0x1d2fbb,_0x2c1f7e);}),_0x1e4468[_0x56bc0d(0x237)]=Array[_0x56bc0d(0x194)](_0x377768[_0x56bc0d(0x2da)]());const _0x18b68b=_0x1e4468[_0x56bc0d(0x237)]['findIndex'](_0x5d687a=>_0x5d687a===_0x7df001(_0x285dbc));_0x1e4468['correctAnswerIndex']=_0x18b68b!==-0x1?_0x18b68b:0x0;}}),_0x1b5acb;}function showGameStartConfirmationModal(_0x2797b4,_0x4211d7,_0x407309){const _0xd96d84=_0x389ace,_0x223f06=document['getElementById'](_0xd96d84(0x5cb));document[_0xd96d84(0x3c4)](_0xd96d84(0x83a))['textContent']=_0xd96d84(0x3cd)+_0x407309,document[_0xd96d84(0x3c4)](_0xd96d84(0x413))[_0xd96d84(0x213)]=_0x2797b4,document[_0xd96d84(0x3c4)](_0xd96d84(0x3b2))[_0xd96d84(0x213)]=_0x4211d7,document[_0xd96d84(0x3c4)]('save-game-results-checkbox')[_0xd96d84(0x2cd)]=!![],_0x223f06[_0xd96d84(0x469)][_0xd96d84(0x182)](_0xd96d84(0x5ec));}async function saveGameResultsAsSubmissions(_0x14488c){const _0x52a533=_0x389ace;console['log'](_0x52a533(0x96d),_0x14488c);const _0x2ba14b=_0x14488c[_0x52a533(0x21c)];let _0x3af5d5=[];if(_0x14488c[_0x52a533(0x511)])_0x3af5d5=Object['entries'](_0x14488c[_0x52a533(0x511)])[_0x52a533(0x749)](([_0x5b4c1a,_0x41b80e])=>({'name':_0x5b4c1a,..._0x41b80e}));else{if(_0x14488c[_0x52a533(0x456)])Object['values'](_0x14488c[_0x52a533(0x456)])[_0x52a533(0x502)](_0x596699=>{const _0x1cf739=_0x52a533;_0x596699[_0x1cf739(0x5b9)][_0x1cf739(0x502)](_0x5ca0f4=>{const _0x9dd6b8=_0x1cf739;_0x3af5d5[_0x9dd6b8(0x2af)]({'name':_0x5ca0f4,'score':_0x596699['score']});});});else _0x14488c[_0x52a533(0x177)]&&Object[_0x52a533(0x94d)](_0x14488c[_0x52a533(0x177)])[_0x52a533(0x502)](([_0x2dfe35,_0x18cd78])=>{const _0xe8bbb5=_0x52a533;_0x3af5d5[_0xe8bbb5(0x2af)]({'name':_0x2dfe35,..._0x18cd78});});}if(_0x3af5d5[_0x52a533(0x6e5)]===0x0){console[_0x52a533(0x361)](_0x52a533(0x5db));return;}const _0x54d726=_0x14488c['shuffledQuiz']?.[_0x52a533(0x47a)]['length']||currentQuizData[_0x52a533(0x47a)][_0x52a533(0x6e5)],_0x21d717=writeBatch(db);for(const _0x3a3f3c of _0x3af5d5){const _0x3daeec=_0x3a3f3c[_0x52a533(0x84d)]||0x0,_0x3d0dd7=doc(db,_0x52a533(0x5a5)+appId+_0x52a533(0x758)+_0x2ba14b+'/submissions',_0x3a3f3c[_0x52a533(0x37b)]),_0xef9c6d={'score':_0x3daeec,'points':_0x3daeec*0xa,'badges':_0x3a3f3c[_0x52a533(0x1e3)]||[],'submittedAt':new Date()[_0x52a533(0x92e)](),'answers':(_0x3a3f3c[_0x52a533(0x54e)]||[])[_0x52a533(0x749)](_0x5df3ff=>({'questionId':_0x5df3ff['questionId'],'answer':_0x5df3ff[_0x52a533(0x710)],'answerText':_0x5df3ff[_0x52a533(0x78b)],'isCorrect':_0x5df3ff[_0x52a533(0x988)],'originalQuestionText':_0x5df3ff[_0x52a533(0x44d)]}))},_0x40222b=await getDoc(_0x3d0dd7),_0x5640b5=_0x40222b['exists']()?_0x40222b['data']():{},_0x419b84=_0x5640b5['bestScore']||0x0,_0x4ec8df=_0x5640b5['attempts']||[],_0x5103f7={'studentName':_0x3a3f3c[_0x52a533(0x37b)],'totalQuestions':_0x54d726,'attempts':arrayUnion(_0xef9c6d),'latestScore':_0x3daeec,'latestSubmittedAt':_0xef9c6d[_0x52a533(0x5c1)],'bestScore':Math['max'](_0x419b84,_0x3daeec),'firstScore':_0x4ec8df[_0x52a533(0x6e5)]===0x0?_0x3daeec:_0x5640b5[_0x52a533(0x17a)]||0x0};_0x21d717['set'](_0x3d0dd7,_0x5103f7,{'merge':!![]});}try{await _0x21d717[_0x52a533(0xa09)](),showMessage(_0x52a533(0xa2b)+_0x3af5d5[_0x52a533(0x6e5)]+_0x52a533(0x7ea));const _0x322203=_0x14488c[_0x52a533(0x1df)]?.[_0x52a533(0x7a0)]||currentQuizData?.[_0x52a533(0x7a0)]||currentProjectId;if(_0x322203){const _0x4291fe=[...new Set(_0x3af5d5['map'](_0x4f5b7e=>_0x4f5b7e[_0x52a533(0x37b)]))];for(const _0x24f183 of _0x4291fe){await updateStudentProfile(_0x322203,_0x24f183);}}}catch(_0x2edb36){console[_0x52a533(0x316)](_0x52a533(0x8af),_0x2edb36),showMessage(_0x52a533(0x707));}}async function saveQuiz(){const _0x4c7caf=_0x389ace;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x4c7caf(0x47a)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x367a03=document[_0x4c7caf(0x3c4)](_0x4c7caf(0x109));_0x367a03[_0x4c7caf(0x2d5)]=!![],_0x367a03[_0x4c7caf(0x368)]=_0x4c7caf(0x143);const _0x14aa64=document[_0x4c7caf(0x3c4)](_0x4c7caf(0x12e))[_0x4c7caf(0x2cd)];let _0xc9da90=document[_0x4c7caf(0x3c4)](_0x4c7caf(0x743))[_0x4c7caf(0x9c4)][_0x4c7caf(0x7f5)]();_0x14aa64&&!_0xc9da90[_0x4c7caf(0x774)](_0x4c7caf(0x4db))&&(_0xc9da90=_0x4c7caf(0x788)+_0xc9da90);try{const _0x26d432={'resultsDisplay':document[_0x4c7caf(0x3c4)](_0x4c7caf(0x613))[_0x4c7caf(0x213)],'shuffle':document[_0x4c7caf(0x3c4)](_0x4c7caf(0x805))['value'],'timerMode':document[_0x4c7caf(0x3c4)]('timer-mode-select')[_0x4c7caf(0x213)],'timerDuration':parseInt(document[_0x4c7caf(0x3c4)](_0x4c7caf(0x4de))[_0x4c7caf(0x213)])||0xa,'passingScore':parseInt(document[_0x4c7caf(0x3c4)](_0x4c7caf(0x49f))['value'])||0x0,'isAdaptive':document['getElementById'](_0x4c7caf(0x332))[_0x4c7caf(0x2cd)],'loopUntilPass':document[_0x4c7caf(0x3c4)](_0x4c7caf(0x2a8))[_0x4c7caf(0x2cd)]},_0x4f5810=(currentQuizData['questions']||[])[_0x4c7caf(0x749)]((_0x8b0bcd,_0x2f12f)=>{const _0x1b3ad6=_0x4c7caf,_0x13edff=document['getElementById'](_0x1b3ad6(0x5fa))[_0x1b3ad6(0x213)],_0x3f2fd4={'id':'q_'+Date[_0x1b3ad6(0x2d0)]()+'_'+_0x2f12f,'questionText':_0x8b0bcd[_0x1b3ad6(0x47b)]||'','explanation':_0x8b0bcd[_0x1b3ad6(0x655)]||'ไม่มีคำอธิบาย','questionType':_0x8b0bcd[_0x1b3ad6(0x651)]||_0x13edff,'imageCode':_0x8b0bcd['imageCode']||null};return(_0x3f2fd4[_0x1b3ad6(0x651)]===_0x1b3ad6(0x961)||_0x3f2fd4['questionType']==='fill_in_with_choices'||_0x3f2fd4['questionType']===_0x1b3ad6(0x484)&&_0x8b0bcd[_0x1b3ad6(0x237)])&&(_0x3f2fd4['options']=_0x8b0bcd[_0x1b3ad6(0x237)]||[],_0x3f2fd4['correctAnswerIndex']=_0x8b0bcd[_0x1b3ad6(0x58a)]!==undefined?_0x8b0bcd['correctAnswerIndex']:0x0),(_0x3f2fd4[_0x1b3ad6(0x651)]==='short_answer'||_0x3f2fd4[_0x1b3ad6(0x651)]===_0x1b3ad6(0x66b)||_0x3f2fd4[_0x1b3ad6(0x651)]===_0x1b3ad6(0x484)&&_0x8b0bcd['idealAnswer'])&&(_0x3f2fd4[_0x1b3ad6(0x379)]=_0x8b0bcd[_0x1b3ad6(0x379)]||''),_0x3f2fd4[_0x1b3ad6(0x651)]===_0x1b3ad6(0x327)&&(_0x3f2fd4['correctAnswer']=_0x8b0bcd[_0x1b3ad6(0x9f4)]===!![]),_0x3f2fd4['questionType']===_0x1b3ad6(0x5a6)&&(_0x3f2fd4[_0x1b3ad6(0x101)]=_0x8b0bcd['stem']||'',_0x3f2fd4[_0x1b3ad6(0x740)]=_0x8b0bcd['correctResponse']||'',_0x3f2fd4[_0x1b3ad6(0x341)]=_0x8b0bcd['allResponses']||[]),_0x3f2fd4;}),_0x350d97={'topic':_0xc9da90,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0x4f5810,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4c7caf(0x92e)](),'status':_0x4c7caf(0x134),'settings':_0x26d432,'quizMode':_0x14aa64?_0x4c7caf(0x65f):_0x4c7caf(0x7d4),'pairedQuizId':null,'lessonPlan':null};let _0xca317b;while(!![]){_0xca317b=Math[_0x4c7caf(0x6bc)](0x3e8+Math[_0x4c7caf(0xa27)]()*0x2328)['toString']();const _0x382e32=await getDoc(doc(db,_0x4c7caf(0x5a5)+appId+_0x4c7caf(0x405),_0xca317b));if(!_0x382e32[_0x4c7caf(0x446)]())break;}await setDoc(doc(db,_0x4c7caf(0x5a5)+appId+_0x4c7caf(0x405),_0xca317b),_0x350d97),currentQuizData[_0x4c7caf(0x4a1)]=_0x26d432,currentQuizData['id']=_0xca317b;const _0x21b3f0=document['getElementById'](_0x4c7caf(0x678));_0x21b3f0[_0x4c7caf(0x368)]=_0x4c7caf(0x999)+_0xca317b+_0x4c7caf(0x3a3),document[_0x4c7caf(0x3c4)](_0x4c7caf(0x8d3))[_0x4c7caf(0x199)](_0x4c7caf(0x548),()=>copyTextToClipboard(_0xca317b,_0x4c7caf(0x348))),document[_0x4c7caf(0x3c4)](_0x4c7caf(0x248))['addEventListener'](_0x4c7caf(0x548),()=>handleStartLiveRace(_0xca317b)),document[_0x4c7caf(0x3c4)](_0x4c7caf(0x4bd))[_0x4c7caf(0x199)](_0x4c7caf(0x548),()=>startPresentation(currentQuizData)),document[_0x4c7caf(0x3c4)](_0x4c7caf(0x7ba))[_0x4c7caf(0x199)](_0x4c7caf(0x548),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x316056){console[_0x4c7caf(0x316)](_0x4c7caf(0x2ea),_0x316056),showMessage(_0x4c7caf(0x260)),_0x367a03[_0x4c7caf(0x2d5)]=![],_0x367a03[_0x4c7caf(0x368)]=_0x4c7caf(0x6d4);}}function promptForProjectAndSave(){const _0xb53651=_0x389ace,_0x1cff17=document['getElementById'](_0xb53651(0xa3d)),_0x5b6482=document[_0xb53651(0x3c4)](_0xb53651(0xfb)),_0x1f5e4a=_0x1cff17[_0xb53651(0x674)]('h3'),_0x4aa358=document[_0xb53651(0x3c4)](_0xb53651(0x752));_0x1f5e4a[_0xb53651(0x60f)]=_0xb53651(0x38b),_0x4aa358[_0xb53651(0x60f)]='เลือกและบันทึก';allProjects[_0xb53651(0x6e5)]===0x0?(_0x5b6482['innerHTML']=_0xb53651(0x2e1),_0x4aa358['disabled']=!![]):(_0x5b6482[_0xb53651(0x368)]=allProjects[_0xb53651(0x749)](_0x161cd3=>_0xb53651(0x5d5)+_0x161cd3['id']+'\x22>'+_0x161cd3[_0xb53651(0x3a1)]+_0xb53651(0x95d))[_0xb53651(0x25a)](''),_0x4aa358[_0xb53651(0x2d5)]=![]);_0x1cff17[_0xb53651(0x469)][_0xb53651(0x182)]('hidden');const _0x5d6d8f=()=>{const _0x2e2377=_0xb53651,_0x50768a=_0x5b6482['value'];_0x50768a?(currentProjectId=_0x50768a,_0x1cff17[_0x2e2377(0x469)][_0x2e2377(0x711)]('hidden'),saveQuiz(),_0x1f5e4a[_0x2e2377(0x60f)]=_0x2e2377(0x49e),_0x4aa358[_0x2e2377(0x60f)]=_0x2e2377(0x1db),_0x4aa358['removeEventListener'](_0x2e2377(0x548),_0x5d6d8f),_0x4aa358[_0x2e2377(0x199)](_0x2e2377(0x548),confirmMoveQuiz)):showMessage(_0x2e2377(0x9e2));};_0x4aa358[_0xb53651(0x293)](_0xb53651(0x548),confirmMoveQuiz),_0x4aa358[_0xb53651(0x199)](_0xb53651(0x548),_0x5d6d8f);}function copyTextToClipboard(_0x1a44a2,_0x3fa395){const _0x35a2c9=_0x389ace,_0x49d7be=document[_0x35a2c9(0x54c)](_0x35a2c9(0x241));_0x49d7be[_0x35a2c9(0x213)]=_0x1a44a2,_0x49d7be[_0x35a2c9(0x527)][_0x35a2c9(0x6ea)]=_0x35a2c9(0x197),_0x49d7be['style'][_0x35a2c9(0x648)]='0',document[_0x35a2c9(0x13c)]['appendChild'](_0x49d7be),_0x49d7be[_0x35a2c9(0x786)](),_0x49d7be[_0x35a2c9(0x244)]();try{const _0x58e45d=document['execCommand'](_0x35a2c9(0x1eb));showMessage(_0x58e45d?_0x3fa395:_0x35a2c9(0x83c));}catch(_0x11fab7){showMessage(_0x35a2c9(0x83c)),console[_0x35a2c9(0x316)]('Copy\x20command\x20failed',_0x11fab7);}document[_0x35a2c9(0x13c)][_0x35a2c9(0x583)](_0x49d7be);}function listenForProjectQuizzes(_0x14959a){const _0x184332=_0x389ace,_0x191d76=collection(db,_0x184332(0x5a5)+appId+'/public/data/quizzes'),_0x4343c6=query(_0x191d76,where(_0x184332(0x7a0),'==',_0x14959a));unsubscribeQuizzesListener=onSnapshot(_0x4343c6,async _0x1390f7=>{const _0x4c9657=_0x184332;allQuizzes=_0x1390f7[_0x4c9657(0x768)][_0x4c9657(0x749)](_0x78fba2=>({'id':_0x78fba2['id'],..._0x78fba2[_0x4c9657(0x47e)]()})),renderQuizzes();},_0x40fe55=>{const _0x199322=_0x184332;console['error'](_0x199322(0x6d8),_0x40fe55),document[_0x199322(0x3c4)]('project-quizzes-list')[_0x199322(0x368)]=_0x199322(0x307);});}async function renderQuizzes(){const _0x42b5cf=_0x389ace,_0x15428e=document[_0x42b5cf(0x3c4)]('project-quizzes-list'),_0xf9058e=document[_0x42b5cf(0x3c4)](_0x42b5cf(0x395))[_0x42b5cf(0x213)]['toLowerCase']();let _0x28c9e2;currentProjectId===_0x42b5cf(0x3ec)?_0x28c9e2=starredQuizzes:_0x28c9e2=allQuizzes;let _0x1adc3f=_0x28c9e2[_0x42b5cf(0x573)](_0x2141e1=>_0x2141e1[_0x42b5cf(0x3d0)][_0x42b5cf(0x8f8)]()[_0x42b5cf(0x821)](_0xf9058e));_0x1adc3f['sort']((_0x164b3d,_0x256623)=>new Date(_0x256623[_0x42b5cf(0x66d)])-new Date(_0x164b3d[_0x42b5cf(0x66d)]));if(_0x1adc3f[_0x42b5cf(0x6e5)]===0x0){_0x15428e['innerHTML']=_0x42b5cf(0x9a5);return;}const _0x1bafd2={},_0x3db757=_0x1adc3f[_0x42b5cf(0x749)](async _0x20b656=>{const _0x391e8e=_0x42b5cf,_0x252746=collection(db,_0x391e8e(0x5a5)+appId+'/public/data/quizzes/'+_0x20b656['id']+'/submissions'),_0x591213=await getDocs(_0x252746);_0x1bafd2[_0x20b656['id']]=_0x591213['size'];});await Promise[_0x42b5cf(0x9e1)](_0x3db757);let _0x5743e1='';_0x1adc3f[_0x42b5cf(0x502)](_0x462a97=>{const _0x521ff5=_0x42b5cf,_0x1d0ba2=_0x1bafd2[_0x462a97['id']]||0x0,_0x284af1=_0x462a97[_0x521ff5(0x933)]||_0x521ff5(0x134),_0x286f74=_0x462a97['settings']?.['timerMode']||_0x521ff5(0x2f0);let _0x2b35a8='',_0xea765a='';const _0x1d047b=new Date();let _0x527703=_0x284af1;if(_0x284af1===_0x521ff5(0x9b9)){const _0x49e955=_0x462a97[_0x521ff5(0x147)]?new Date(_0x462a97[_0x521ff5(0x147)]):null,_0x154e6a=_0x462a97[_0x521ff5(0x8d1)]?new Date(_0x462a97[_0x521ff5(0x8d1)]):null;if(_0x154e6a&&_0x1d047b>_0x154e6a)_0x527703='inactive';else _0x49e955&&_0x1d047b<_0x49e955?_0x527703=_0x521ff5(0x195):_0x527703=_0x521ff5(0x134);}switch(_0x527703){case _0x521ff5(0x2c6):_0x2b35a8='ปิดใช้งาน',_0xea765a=_0x521ff5(0x750);break;case _0x521ff5(0x195):_0x2b35a8='รอเปิด',_0xea765a=_0x521ff5(0x4c2);break;case _0x521ff5(0x134):_0x2b35a8=_0x286f74!==_0x521ff5(0x2f0)?_0x521ff5(0x808):'เปิดใช้งาน',_0xea765a=_0x521ff5(0x7d6);break;default:_0x2b35a8='ตั้งเวลา\x20(เปิด)',_0xea765a='text-green-700\x20bg-green-100';break;}let _0xd6c522='';const _0x1ce2f4={'day':'2-digit','month':_0x521ff5(0x4da),'year':_0x521ff5(0x964),'hour':'2-digit','minute':_0x521ff5(0x4da),'hour12':![]};if(_0x284af1==='scheduled'){if(_0x462a97[_0x521ff5(0x147)])_0xd6c522+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x462a97[_0x521ff5(0x147)])['toLocaleString'](_0x521ff5(0xa20),_0x1ce2f4)+_0x521ff5(0x1b5);if(_0x462a97['endTime'])_0xd6c522+=_0x521ff5(0x47f)+new Date(_0x462a97[_0x521ff5(0x8d1)])[_0x521ff5(0x6fd)](_0x521ff5(0xa20),_0x1ce2f4)+_0x521ff5(0x1b5);}let _0x30dbec='';if(_0x462a97[_0x521ff5(0x81c)]){const _0xe0d8f0=allQuizzes[_0x521ff5(0x304)](_0x398dda=>_0x398dda['id']===_0x462a97[_0x521ff5(0x81c)]);if(_0xe0d8f0){let _0x3adb49,_0x4aa20b;new Date(_0x462a97['createdAt'])<new Date(_0xe0d8f0[_0x521ff5(0x66d)])?(_0x3adb49=_0x462a97['id'],_0x4aa20b=_0xe0d8f0['id']):(_0x3adb49=_0xe0d8f0['id'],_0x4aa20b=_0x462a97['id']),_0x30dbec+=_0x521ff5(0x257)+_0x4aa20b+'\x22\x20data-pre-test-id=\x22'+_0x3adb49+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x462a97[_0x521ff5(0x476)]==='pre-test'&&(_0x30dbec+=_0x521ff5(0x8ee)+_0x462a97['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x462a97[_0x521ff5(0x476)]==='pre-test'&&_0x1d0ba2>0x0)_0x30dbec+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x462a97['id']+_0x521ff5(0x1d9);else!_0x462a97[_0x521ff5(0x81c)]&&_0x462a97['quizMode']!==_0x521ff5(0x65f)&&_0x1d0ba2>0x0&&(_0x30dbec+=_0x521ff5(0x8ee)+_0x462a97['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x57d208='';_0x462a97[_0x521ff5(0x81c)]?_0x57d208=_0x521ff5(0x79f)+_0x462a97['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x57d208='<button\x20data-quiz-id=\x22'+_0x462a97['id']+_0x521ff5(0x2b6),_0x5743e1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x462a97['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x462a97[_0x521ff5(0x3d0)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x462a97[_0x521ff5(0x47a)][_0x521ff5(0x6e5)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x462a97[_0x521ff5(0x66d)])[_0x521ff5(0x6fd)]('th-TH')+_0x521ff5(0x82b)+_0x1d0ba2+_0x521ff5(0x8ae)+_0xd6c522+_0x521ff5(0x270)+_0xea765a+'\x22>'+_0x2b35a8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x462a97['id']+_0x521ff5(0x915)+_0x462a97['id']+_0x521ff5(0x41f)+(_0x462a97['isStarred']?'fas\x20fa-star\x20text-yellow-500':_0x521ff5(0x9e0))+_0x521ff5(0x4d6)+_0x30dbec+_0x521ff5(0x4f3)+_0x462a97['id']+_0x521ff5(0x642)+_0x462a97['id']+_0x521ff5(0x663)+_0x462a97['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x462a97['id']+_0x521ff5(0x4cc)+_0x462a97['id']+_0x521ff5(0x7f6)+_0x462a97['id']+_0x521ff5(0xfe)+_0x462a97['id']+_0x521ff5(0x8de)+_0x462a97[_0x521ff5(0x3d0)]+_0x521ff5(0x3bd)+_0x462a97['id']+_0x521ff5(0x181)+_0x462a97['id']+_0x521ff5(0xa0c)+_0x57d208+_0x521ff5(0x581)+_0x462a97['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x462a97['id']+_0x521ff5(0xa52)+_0x462a97['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x462a97['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x462a97['id']+_0x521ff5(0x1a9)+_0x462a97['id']+_0x521ff5(0x4ab)+_0x462a97['id']+_0x521ff5(0x68a)+_0x462a97['id']+'\x22\x20data-topic=\x22'+_0x462a97[_0x521ff5(0x3d0)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x462a97['id']+_0x521ff5(0x2f9);}),_0x15428e[_0x42b5cf(0x368)]=_0x5743e1,document['querySelectorAll'](_0x42b5cf(0x69b))[_0x42b5cf(0x502)](_0x406654=>{const _0x4cc081=_0x42b5cf;_0x406654[_0x4cc081(0x199)]('click',()=>{const _0x18a35d=_0x4cc081,_0x1fd358=_0x406654[_0x18a35d(0x5d9)][_0x18a35d(0x21c)];showQuizDetailView(_0x1fd358);});});}async function handleUnpairQuiz(_0xc61942){const _0x106038=_0x389ace,_0x509277=allQuizzes[_0x106038(0x304)](_0x494890=>_0x494890['id']===_0xc61942);if(!_0x509277||!_0x509277[_0x106038(0x81c)]){showMessage(_0x106038(0x325));return;}showConfirmation(_0x106038(0x46a),async()=>{const _0x248347=_0x106038;try{const _0x295adb=doc(db,_0x248347(0x5a5)+appId+'/public/data/quizzes',_0xc61942),_0x5f118c=doc(db,_0x248347(0x5a5)+appId+'/public/data/quizzes',_0x509277[_0x248347(0x81c)]),_0x44c937=writeBatch(db);_0x44c937['update'](_0x295adb,{'pairedQuizId':null}),_0x44c937[_0x248347(0x27f)](_0x5f118c,{'pairedQuizId':null}),await _0x44c937[_0x248347(0xa09)](),showMessage(_0x248347(0x35d));}catch(_0x168a13){console['error'](_0x248347(0x74d),_0x168a13),showMessage(_0x248347(0x6f3));}});}function formatAndPrintLessonPlan(_0x4ac904,_0x5a2974){const _0x197017=_0x389ace,_0x1efa01=window[_0x197017(0x1c2)]('',_0x197017(0x16d)),_0x5a4b3b=_0x197017(0x8f0)+_0x5a2974['topic']+_0x197017(0x275)+_0x5a2974['topic']+_0x197017(0x656)+_0x4ac904[_0x197017(0x9d7)][_0x197017(0x749)](_0x4a71d6=>_0x197017(0x311)+_0x4a71d6+_0x197017(0x4b7))[_0x197017(0x25a)]('')+_0x197017(0x87f)+_0x4ac904['teachingContent']+_0x197017(0x278)+_0x4ac904[_0x197017(0x6db)][_0x197017(0x749)](_0x1b7e04=>_0x197017(0x795)+_0x1b7e04['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x1b7e04[_0x197017(0x2cb)]+_0x197017(0x2bb))['join']('')+_0x197017(0x9af);_0x1efa01[_0x197017(0x9f8)][_0x197017(0x825)](_0x5a4b3b),_0x1efa01['document'][_0x197017(0x6f6)](),_0x1efa01['onload']=function(){setTimeout(()=>{_0x1efa01['print']();},0x3e8);};}async function handleAiFixFormula(_0x45c1e2){const _0x4033c1=_0x389ace,_0x13b0d5=document[_0x4033c1(0x674)](_0x4033c1(0x8bf)+_0x45c1e2+'\x22]');if(!_0x13b0d5)return;const _0x937015=_0x13b0d5[_0x4033c1(0x5d9)][_0x4033c1(0x6af)],_0x527e50=_0x13b0d5[_0x4033c1(0x674)](_0x4033c1(0x662));let _0x3b080d={'question':_0x13b0d5['querySelector'](_0x4033c1(0x241))[_0x4033c1(0x213)]};switch(_0x937015){case _0x4033c1(0x961):_0x3b080d['options']=Array[_0x4033c1(0x194)](_0x13b0d5[_0x4033c1(0x85d)](_0x4033c1(0x1b9)))[_0x4033c1(0x749)](_0x24ee78=>_0x24ee78['value']);break;case _0x4033c1(0x8a8):_0x3b080d[_0x4033c1(0x379)]=_0x13b0d5[_0x4033c1(0x674)](_0x4033c1(0x314))['value'];break;case _0x4033c1(0x5a6):_0x3b080d[_0x4033c1(0x740)]=_0x13b0d5[_0x4033c1(0x674)](_0x4033c1(0x624))['value'];break;}_0x527e50[_0x4033c1(0x368)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x527e50[_0x4033c1(0x2d5)]=!![];try{const _0x2d80c2=_0x4033c1(0x596)+JSON['stringify'](_0x3b080d)+_0x4033c1(0x9b4),_0x1c885a={'type':_0x4033c1(0xa07),'properties':{'fixedData':{'type':_0x4033c1(0xa07),'properties':{'question':{'type':_0x4033c1(0x966)},'options':{'type':'ARRAY','items':{'type':_0x4033c1(0x966)}},'idealAnswer':{'type':_0x4033c1(0x966)},'correctResponse':{'type':_0x4033c1(0x966)}},'required':[_0x4033c1(0xa08)]}},'required':[_0x4033c1(0xa37)]},_0x340548=await callAnalysisApi(_0x2d80c2,_0x1c885a);if(_0x340548&&_0x340548['fixedData']){const _0x5c6708=_0x340548[_0x4033c1(0xa37)];_0x13b0d5[_0x4033c1(0x674)](_0x4033c1(0x241))['value']=_0x5c6708['question']||_0x3b080d['question'];switch(_0x937015){case _0x4033c1(0x961):_0x5c6708['options']&&_0x5c6708[_0x4033c1(0x237)]['length']>0x0&&_0x13b0d5[_0x4033c1(0x85d)](_0x4033c1(0x1b9))[_0x4033c1(0x502)]((_0x304bfa,_0x48837b)=>{const _0x59f1c5=_0x4033c1;_0x304bfa[_0x59f1c5(0x213)]=_0x5c6708[_0x59f1c5(0x237)][_0x48837b]||_0x3b080d['options'][_0x48837b];});break;case _0x4033c1(0x8a8):_0x13b0d5['querySelector'](_0x4033c1(0x314))[_0x4033c1(0x213)]=_0x5c6708[_0x4033c1(0x379)]||_0x3b080d[_0x4033c1(0x379)];break;case _0x4033c1(0x5a6):_0x13b0d5[_0x4033c1(0x674)]('.correct-response-input')['value']=_0x5c6708[_0x4033c1(0x740)]||_0x3b080d[_0x4033c1(0x740)];break;}if(_0x3b080d[_0x4033c1(0xa08)]!==_0x5c6708[_0x4033c1(0xa08)])try{const _0x2ecd42=collection(db,_0x4033c1(0x5a5)+appId+_0x4033c1(0x8f7));await addDoc(_0x2ecd42,{'broken':_0x3b080d[_0x4033c1(0xa08)],'fixed':_0x5c6708[_0x4033c1(0xa08)],'createdAt':serverTimestamp()});}catch(_0x5c7712){console[_0x4033c1(0x316)](_0x4033c1(0x394),_0x5c7712);}showMessage(_0x4033c1(0x299));}else throw new Error(_0x4033c1(0x7cb));}catch(_0x56962e){console[_0x4033c1(0x316)](_0x4033c1(0x29d),_0x56962e),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x527e50[_0x4033c1(0x368)]=_0x4033c1(0x180),_0x527e50[_0x4033c1(0x2d5)]=![];}}async function handleGenerateLessonPlan(_0x4e5d3a){const _0x405e7f=_0x389ace;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x157b8a=doc(db,_0x405e7f(0x5a5)+appId+'/public/data/quizzes',_0x4e5d3a),_0x28f7b0=await getDoc(_0x157b8a);if(!_0x28f7b0['exists']())throw new Error(_0x405e7f(0x75b));const _0x17c581={'id':_0x4e5d3a,..._0x28f7b0[_0x405e7f(0x47e)]()},_0x3b3aa3=collection(db,_0x405e7f(0x5a5)+appId+_0x405e7f(0x405),_0x4e5d3a,'submissions'),_0x15230b=await getDocs(_0x3b3aa3),_0x5ec66d=_0x15230b['docs'][_0x405e7f(0x749)](_0x9a2d7e=>_0x9a2d7e[_0x405e7f(0x47e)]());if(_0x5ec66d[_0x405e7f(0x6e5)]===0x0)throw new Error(_0x405e7f(0x28f));const _0x3a808c=calculateItemAnalysis(_0x17c581,_0x5ec66d)[_0x405e7f(0x660)],_0x14a1ab=calculateDistractorAnalysis(_0x17c581,_0x5ec66d),_0xfab172=_0xc7d028=>{const _0x279678=_0x405e7f;if(!_0xc7d028)return'';return _0xc7d028['replace'](/\\/g,'\x5c\x5c')[_0x279678(0x98c)](/"/g,'\x5c\x22')[_0x279678(0x98c)](/\n/g,'\x5cn');};let _0x3094b5=_0x405e7f(0x92f);_0x17c581[_0x405e7f(0x47a)][_0x405e7f(0x502)]((_0x440508,_0x1e3e7b)=>{const _0x3ef415=_0x405e7f,_0x270077=_0x3a808c[_0x1e3e7b]?.['p']['toFixed'](0x2)||_0x3ef415(0x1e7),_0x5f3012=_0x3a808c[_0x1e3e7b]?.['r']['toFixed'](0x2)||'N/A',_0x25807a=_0xfab172(_0x440508[_0x3ef415(0x47b)]||_0x440508[_0x3ef415(0x101)]);_0x3094b5+=_0x3ef415(0x8e7)+(_0x1e3e7b+0x1)+_0x3ef415(0x3f7)+_0x270077+',\x20r='+_0x5f3012+_0x3ef415(0x70a)+_0x25807a+'\x5cn';if(_0x440508[_0x3ef415(0x651)]===_0x3ef415(0x961)&&_0x14a1ab[_0x1e3e7b]){const _0x429a63=_0x14a1ab[_0x1e3e7b],_0x4c748b=Object[_0x3ef415(0x45d)](_0x429a63)['filter'](_0x1bc0bf=>parseInt(_0x1bc0bf)!==_0x440508[_0x3ef415(0x58a)])['sort']((_0x44761a,_0x1a9977)=>_0x429a63[_0x1a9977][_0x3ef415(0x7c4)]-_0x429a63[_0x44761a][_0x3ef415(0x7c4)])[0x0];if(_0x4c748b&&_0x429a63[_0x4c748b]['total']>0x0){const _0x243af7=_0xfab172(_0x429a63[_0x4c748b]['text']);_0x3094b5+=_0x3ef415(0x67a)+_0x243af7+_0x3ef415(0x5f8);}}});const _0x38ce96=_0x405e7f(0x525)+_0x17c581[_0x405e7f(0x3d0)]+_0x405e7f(0x512)+_0x3094b5+_0x405e7f(0x56d),_0x210f8e={'type':_0x405e7f(0xa07),'properties':{'learningGaps':{'type':_0x405e7f(0x127),'items':{'type':'STRING'}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x405e7f(0x127),'items':{'type':_0x405e7f(0xa07),'properties':{'question':{'type':_0x405e7f(0x966)},'solution':{'type':_0x405e7f(0x966)}}}}},'required':[_0x405e7f(0x9d7),'teachingContent',_0x405e7f(0x6db)]},_0x1145a8=await callAnalysisApi(_0x38ce96,_0x210f8e);await updateDoc(_0x157b8a,{'lessonPlan':_0x1145a8});const _0x335f59='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x17c581['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x1145a8[_0x405e7f(0x9d7)][_0x405e7f(0x749)](_0x2cd8ce=>'<li>'+_0x2cd8ce+'</li>')['join']('')+_0x405e7f(0x3f6)+_0x1145a8['teachingContent']+_0x405e7f(0x96e)+_0x1145a8[_0x405e7f(0x6db)]['map'](_0x3b8e75=>_0x405e7f(0x7cc)+_0x3b8e75[_0x405e7f(0xa08)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x3b8e75[_0x405e7f(0x2cb)]+_0x405e7f(0x719))['join']('')+_0x405e7f(0x647);document[_0x405e7f(0x3c4)](_0x405e7f(0x46c))[_0x405e7f(0x60f)]=_0x405e7f(0x69c)+_0x17c581[_0x405e7f(0x3d0)],document[_0x405e7f(0x3c4)](_0x405e7f(0x28d))[_0x405e7f(0x368)]=_0x335f59,document[_0x405e7f(0x3c4)](_0x405e7f(0x57e))[_0x405e7f(0x469)][_0x405e7f(0x182)](_0x405e7f(0x5ec));if(window[_0x405e7f(0x8cc)])MathJax[_0x405e7f(0x4c3)]();messageModal[_0x405e7f(0x469)][_0x405e7f(0x711)](_0x405e7f(0x5ec));}catch(_0x4faf88){console[_0x405e7f(0x316)](_0x405e7f(0x607),_0x4faf88),showMessage(_0x405e7f(0x26f)+_0x4faf88[_0x405e7f(0x4a8)]);}}async function handleDuplicateQuiz(_0x4c7870){const _0x49fd7e=_0x389ace;try{const _0x19bdc8=doc(db,'artifacts/'+appId+_0x49fd7e(0x405),_0x4c7870),_0x40d584=await getDoc(_0x19bdc8);if(_0x40d584[_0x49fd7e(0x446)]()){const _0x4156f9=_0x40d584[_0x49fd7e(0x47e)]();let _0x3d0ba3='',_0x1af8f0=_0x49fd7e(0x7d4),_0x5a5403=null;if(_0x4156f9['quizMode']==='pre-test'){let _0x358259=_0x4156f9[_0x49fd7e(0x3d0)][_0x49fd7e(0x98c)](_0x49fd7e(0x4db),'')['trim']();_0x3d0ba3=_0x49fd7e(0x387)+_0x358259,_0x1af8f0=_0x49fd7e(0x8c1),_0x5a5403=_0x4c7870;}else _0x3d0ba3='(คัดลอก)\x20'+_0x4156f9[_0x49fd7e(0x3d0)];const _0x13b4f9={..._0x4156f9,'topic':_0x3d0ba3,'createdAt':new Date()[_0x49fd7e(0x92e)](),'quizMode':_0x1af8f0,'pairedQuizId':_0x5a5403};let _0x61cea7;while(!![]){_0x61cea7=Math['floor'](0x3e8+Math[_0x49fd7e(0xa27)]()*0x2328)[_0x49fd7e(0x1fe)]();const _0x25cca1=await getDoc(doc(db,_0x49fd7e(0x5a5)+appId+_0x49fd7e(0x405),_0x61cea7));if(!_0x25cca1[_0x49fd7e(0x446)]())break;}const _0x18b657=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x61cea7);await setDoc(_0x18b657,_0x13b4f9),_0x13b4f9['quizMode']==='post-test'&&await updateDoc(_0x19bdc8,{'pairedQuizId':_0x61cea7}),showMessage(_0x49fd7e(0x6c1));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x571a69){console[_0x49fd7e(0x316)](_0x49fd7e(0x713),_0x571a69),showMessage(_0x49fd7e(0x34a));}}async function handleDeleteQuiz(_0x18cf47,_0x324fc5=!![]){const _0x10a640=_0x389ace;try{const _0x2668f0=writeBatch(db),_0x21ac63=collection(db,_0x10a640(0x5a5)+appId+_0x10a640(0x758)+_0x18cf47+_0x10a640(0x929)),_0x2b6a63=await getDocs(_0x21ac63);_0x2b6a63[_0x10a640(0x502)](_0xf55eff=>{const _0x323b62=_0x10a640;_0x2668f0[_0x323b62(0x36a)](doc(_0x21ac63,_0xf55eff['id']));});const _0x5a335f=doc(db,_0x10a640(0x5a5)+appId+_0x10a640(0x405),_0x18cf47);_0x2668f0[_0x10a640(0x36a)](_0x5a335f),await _0x2668f0[_0x10a640(0xa09)](),_0x324fc5&&showMessage(_0x10a640(0x9ff));}catch(_0x1f7e9b){console['error'](_0x10a640(0x3e0),_0x1f7e9b),_0x324fc5&&showMessage(_0x10a640(0x40e));}}async function showQuizDetailView(_0x5da836){const _0x1de801=_0x389ace;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x3f2a8f=doc(db,_0x1de801(0x5a5)+appId+_0x1de801(0x405),_0x5da836),_0x401149=await getDoc(_0x3f2a8f);if(!_0x401149[_0x1de801(0x446)]()){showMessage(_0x1de801(0x75b));return;}const _0x5a3c73={'id':_0x401149['id'],..._0x401149['data']()};currentQuizData=_0x5a3c73;const _0x3af867=doc(db,_0x1de801(0x5a5)+appId+_0x1de801(0x42b),_0x5a3c73[_0x1de801(0x7a0)]),_0x45f096=await getDoc(_0x3af867);_0x45f096[_0x1de801(0x446)]()?(currentProjectData=_0x45f096['data'](),currentProjectId=_0x5a3c73['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x5a3c73[_0x1de801(0x7a0)]);document[_0x1de801(0x3c4)](_0x1de801(0x48b))['textContent']=_0x5a3c73[_0x1de801(0x3d0)],document[_0x1de801(0x3c4)](_0x1de801(0x6bf))[_0x1de801(0x60f)]=_0x5da836;const _0x109309=collection(db,_0x1de801(0x5a5)+appId+_0x1de801(0x405),_0x5da836,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x109309,_0x28a7df=>{const _0x27e095=_0x1de801,_0x2a5f9b=_0x28a7df['docs']['map'](_0x2c4a06=>({'id':_0x2c4a06['id'],..._0x2c4a06[_0x27e095(0x47e)]()}));currentSubmissions=_0x2a5f9b;const _0xdbdbd5=_0x2a5f9b[_0x27e095(0x573)](_0x4dc3b0=>_0x4dc3b0['attempts']&&_0x4dc3b0[_0x27e095(0x523)]['length']>0x0);renderBehaviorLog(_0x2a5f9b),renderAnswerGrid(currentProjectData[_0x27e095(0x2ec)],_0xdbdbd5,_0x5a3c73),renderAnalytics(_0x5a3c73,_0xdbdbd5),renderQuizResultsTable(currentProjectData[_0x27e095(0x2ec)],_0x2a5f9b,_0x5a3c73),renderQuizLeaderboard(_0xdbdbd5,_0x5a3c73,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x5297e0){console['error'](_0x1de801(0x628),_0x5297e0),showMessage(_0x1de801(0x875));}}function renderAnswerGrid(_0x2ab9a7,_0x314dc3,_0x23783f){const _0x42ce59=_0x389ace,_0x2ddce9=document[_0x42ce59(0x3c4)](_0x42ce59(0x7c5));if(!_0x2ddce9)return;if(!_0x2ab9a7||_0x2ab9a7[_0x42ce59(0x6e5)]===0x0){_0x2ddce9['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x5b1501=_0x23783f[_0x42ce59(0x47a)],_0x18ab75=_0x314dc3[_0x42ce59(0x7e8)]((_0x2b4ed3,_0x40cd96)=>{const _0xeaed1f=_0x42ce59;return _0x2b4ed3[_0x40cd96[_0xeaed1f(0x3c0)]]=_0x40cd96,_0x2b4ed3;},{}),_0x2ca8ff=_0x19cf0b=>String[_0x42ce59(0x120)](0x41+_0x19cf0b),_0x238cdd=_0x4b574e=>{const _0x46784e=_0x42ce59,_0x5c9359=_0x4b574e['questionType']||_0x23783f['quizType'];switch(_0x5c9359){case'multiple_choice':return _0x4b574e[_0x46784e(0x237)]&&_0x4b574e[_0x46784e(0x237)]['length']>_0x4b574e[_0x46784e(0x58a)]?_0x2ca8ff(_0x4b574e['correctAnswerIndex']):'-';case'true_false':return _0x4b574e['correctAnswer']?_0x46784e(0x6dd):'ไม่ใช่';case'matching_item':return _0x4b574e[_0x46784e(0x740)]||'-';case _0x46784e(0x8a8):return'พิมพ์ตอบ';default:return'-';}},_0x5008e4=(_0x512c5e,_0x2e68b6)=>{const _0x49b409=_0x42ce59;if(_0x2e68b6['answer']===null||_0x2e68b6[_0x49b409(0x710)]===undefined)return'-';const _0x333ddc=_0x512c5e[_0x49b409(0x651)]||_0x23783f[_0x49b409(0x8f1)];switch(_0x333ddc){case'multiple_choice':const _0x114995=_0x512c5e['options'][_0x49b409(0x834)](_0x336916=>_0x336916===_0x2e68b6[_0x49b409(0x78b)]);return _0x114995!==-0x1?_0x2ca8ff(_0x114995):_0x2e68b6[_0x49b409(0x78b)]||'-';case _0x49b409(0x327):return _0x2e68b6[_0x49b409(0x710)]===_0x49b409(0x407)||_0x2e68b6['answer']===!![]?_0x49b409(0x6dd):'ไม่ใช่';default:return _0x2e68b6[_0x49b409(0x710)];}};let _0x521227=_0x42ce59(0x490)+_0x5b1501[_0x42ce59(0x749)]((_0x2af02c,_0x611997)=>_0x42ce59(0x8e9)+(_0x611997+0x1)+_0x42ce59(0x6e3))[_0x42ce59(0x25a)]('')+_0x42ce59(0x80b)+_0x5b1501[_0x42ce59(0x749)](_0x54ea00=>_0x42ce59(0x6ef)+_0x238cdd(_0x54ea00)+'</td>')['join']('')+_0x42ce59(0x853);_0x2ab9a7[_0x42ce59(0x502)](_0x527f3e=>{const _0x2a5700=_0x42ce59;_0x521227+=_0x2a5700(0x6cf),_0x521227+=_0x2a5700(0x3fa)+_0x527f3e+_0x2a5700(0x41e);const _0x564c72=_0x18ab75[_0x527f3e];if(_0x564c72){const _0x27ed9a=_0x564c72['attempts'][_0x564c72[_0x2a5700(0x523)][_0x2a5700(0x6e5)]-0x1];_0x5b1501[_0x2a5700(0x502)]((_0x4c1cb8,_0x13cb9f)=>{const _0x576b93=_0x2a5700,_0x11ac0d=_0x27ed9a[_0x576b93(0x54e)][_0x576b93(0x304)](_0x1c283d=>_0x1c283d[_0x576b93(0x724)]===_0x4c1cb8['id']);if(_0x11ac0d){let _0x16e9c2=![];const _0x2b1acd=_0x4c1cb8[_0x576b93(0x651)]||_0x23783f[_0x576b93(0x8f1)];if(_0x11ac0d[_0x576b93(0x710)]!==null&&_0x11ac0d['answer']!==undefined)switch(_0x2b1acd){case _0x576b93(0x961):const _0x43cfff=_0x4c1cb8['options'][_0x4c1cb8[_0x576b93(0x58a)]];_0x16e9c2=_0x11ac0d['answerText']===_0x43cfff;break;case _0x576b93(0x327):const _0x4aba16=_0x11ac0d[_0x576b93(0x710)]===!![]||_0x11ac0d['answer']===_0x576b93(0x407);_0x16e9c2=_0x4aba16===_0x4c1cb8[_0x576b93(0x9f4)];break;case _0x576b93(0x5a6):_0x16e9c2=_0x11ac0d[_0x576b93(0x710)]===_0x4c1cb8[_0x576b93(0x740)];break;default:_0x16e9c2=_0x11ac0d[_0x576b93(0x988)];break;}const _0x58e1b0=_0x16e9c2?'bg-green-100':_0x576b93(0x1a0);_0x521227+=_0x576b93(0x9ee)+_0x58e1b0+'\x22>'+_0x5008e4(_0x4c1cb8,_0x11ac0d)+_0x576b93(0x41e);}else _0x521227+=_0x576b93(0x589);});}else _0x521227+=_0x5b1501['map'](()=>_0x2a5700(0xa42))[_0x2a5700(0x25a)]('');_0x521227+='</tr>';}),_0x521227+=_0x42ce59(0x296),_0x2ddce9[_0x42ce59(0x368)]=_0x521227;}function renderQuizResultsTable(_0x5eacdb,_0x14028a,_0xc4bb91){const _0xe4b836=_0x389ace,_0x312385=_0x14028a['reduce']((_0x4382b4,_0x32d0b7)=>{const _0x3d9d4e=_0x51de;return _0x4382b4[_0x32d0b7[_0x3d9d4e(0x3c0)]]=_0x32d0b7,_0x4382b4;},{}),_0x27d146=document[_0xe4b836(0x674)](_0xe4b836(0x447));_0x27d146&&!_0x27d146['innerHTML'][_0xe4b836(0x821)](_0xe4b836(0x360))&&(_0x27d146[_0xe4b836(0x368)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x4fe84d=document[_0xe4b836(0x3c4)](_0xe4b836(0x23d));if(!_0x5eacdb||_0x5eacdb[_0xe4b836(0x6e5)]===0x0){_0x4fe84d['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x526bf2=_0xc4bb91[_0xe4b836(0x9d1)]===!![],_0x19851e=_0xc4bb91[_0xe4b836(0x4a1)]?.[_0xe4b836(0x4e7)]??-0x1;let _0x96858f='';_0x5eacdb[_0xe4b836(0x502)](_0xceff39=>{const _0x178fed=_0xe4b836,_0x6e6690=_0x312385[_0xceff39];let _0x395642=_0x178fed(0x44a)+(_0x526bf2?_0x178fed(0x8d6):_0x178fed(0x8c9))+'\x22>'+(_0x526bf2?_0x178fed(0x610):_0x178fed(0x864))+_0x178fed(0x2c8);if(_0x6e6690){if(_0x6e6690[_0x178fed(0x523)]&&_0x6e6690[_0x178fed(0x523)][_0x178fed(0x6e5)]>0x0){let _0x24f4d3=_0x526bf2?_0x6e6690[_0x178fed(0x25c)]===_0x6e6690['totalQuestions']:_0x19851e!==-0x1&&_0x6e6690['bestScore']>=_0x19851e;const _0x1be80b=_0x24f4d3?_0x178fed(0x855):_0x178fed(0x372),_0x1986b2=_0x24f4d3?_0x178fed(0x6cc):_0x178fed(0xa4e),_0x256351=_0x178fed(0x6a9)+_0x1be80b+'\x22>'+_0x1986b2+'</span></td>',_0xa7fc4d=_0x178fed(0x699)+(_0x6e6690[_0x178fed(0x523)]?.['length']||0x1)+_0x178fed(0x765);_0x96858f+=_0x178fed(0x8a3)+_0xceff39+_0x178fed(0x67d)+_0x6e6690[_0x178fed(0x25c)]+'\x20/\x20'+_0x6e6690[_0x178fed(0x8ec)]+_0x178fed(0x3e7)+_0x256351+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x395642+_0x178fed(0x835)+_0x6e6690[_0x178fed(0x17a)]+'\x20/\x20'+_0x6e6690[_0x178fed(0x8ec)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x6e6690[_0x178fed(0x2ac)]+_0x178fed(0x3ff)+_0x6e6690['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x6e6690[_0x178fed(0x8b4)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa7fc4d+_0x178fed(0x807)+new Date(_0x6e6690[_0x178fed(0x400)])[_0x178fed(0x6fd)]('th-TH')+_0x178fed(0x4ca)+_0xceff39+_0x178fed(0x2ca);}else{const _0x31f78c=_0x178fed(0x1e4);_0x96858f+=_0x178fed(0x17c)+_0xceff39+_0x178fed(0x8b3)+_0x395642+_0x178fed(0x4f7)+_0x31f78c+_0x178fed(0x807)+new Date(_0x6e6690[_0x178fed(0xa3b)])[_0x178fed(0x6fd)](_0x178fed(0xa20))+_0x178fed(0x723)+_0xceff39+_0x178fed(0x2ca);}}else{const _0x4baa47=_0x178fed(0x507);_0x96858f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xceff39+_0x178fed(0x5ca)+_0x395642+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4baa47+_0x178fed(0x7ac);}}),_0x4fe84d[_0xe4b836(0x368)]=_0x96858f;}async function confirmRenameQuiz(){const _0x10c91d=_0x389ace,_0x2a6e43=document[_0x10c91d(0x3c4)](_0x10c91d(0x425))[_0x10c91d(0x213)][_0x10c91d(0x7f5)]();if(!_0x2a6e43){showMessage(_0x10c91d(0x858));return;}if(!actionTargetId)return;const _0x844b5a=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x844b5a,{'topic':_0x2a6e43}),showMessage(_0x10c91d(0x9db)),renameQuizModal['classList'][_0x10c91d(0x711)]('hidden'),actionTargetId=null;}catch(_0x415229){console[_0x10c91d(0x316)](_0x10c91d(0x5e1),_0x415229),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x56a9e4){const _0x26269a=_0x389ace;actionTargetId=_0x56a9e4;const _0x429caf=document[_0x26269a(0x3c4)](_0x26269a(0xfb));_0x429caf[_0x26269a(0x368)]=_0x26269a(0x627),moveQuizModal[_0x26269a(0x469)]['remove']('hidden');try{const _0x40f258=collection(db,_0x26269a(0x5a5)+appId+_0x26269a(0x42b)),_0x964058=await getDocs(_0x40f258),_0x285452=_0x964058['docs']['map'](_0x60bace=>({'id':_0x60bace['id'],..._0x60bace['data']()})),_0x429648=_0x285452[_0x26269a(0x573)](_0x4fb6c7=>_0x4fb6c7['id']!==currentProjectId);if(_0x429648[_0x26269a(0x6e5)]===0x0){_0x429caf[_0x26269a(0x368)]=_0x26269a(0x96b),document[_0x26269a(0x3c4)](_0x26269a(0x752))[_0x26269a(0x2d5)]=!![];return;}_0x429caf[_0x26269a(0x368)]=_0x429648[_0x26269a(0x749)](_0x4fe2bb=>_0x26269a(0x5d5)+_0x4fe2bb['id']+'\x22>'+_0x4fe2bb[_0x26269a(0x3a1)]+_0x26269a(0x95d))['join'](''),document[_0x26269a(0x3c4)]('confirm-move-quiz-btn')[_0x26269a(0x2d5)]=![];}catch(_0x190632){console['error'](_0x26269a(0x458),_0x190632),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x26269a(0x469)][_0x26269a(0x711)]('hidden');}}async function confirmMoveQuiz(){const _0x42805d=_0x389ace,_0x45c0de=document[_0x42805d(0x3c4)](_0x42805d(0xfb))[_0x42805d(0x213)];if(!_0x45c0de){showMessage(_0x42805d(0x20d));return;}if(!actionTargetId)return;const _0x215c1f=doc(db,_0x42805d(0x5a5)+appId+_0x42805d(0x405),actionTargetId);try{await updateDoc(_0x215c1f,{'projectId':_0x45c0de}),showMessage(_0x42805d(0x13e)),moveQuizModal['classList'][_0x42805d(0x711)](_0x42805d(0x5ec)),actionTargetId=null;}catch(_0x498db6){console[_0x42805d(0x316)](_0x42805d(0x4b1),_0x498db6),showMessage(_0x42805d(0x4c6));}}async function handleQuizSettings(_0x1090bb){const _0x27614e=_0x389ace;actionTargetId=_0x1090bb;const _0x6ee06=doc(db,'artifacts/'+appId+_0x27614e(0x405),_0x1090bb);try{const _0x505dc8=await getDoc(_0x6ee06);if(_0x505dc8['exists']()){const _0x79b5fe=_0x505dc8['data'](),_0x45c816=_0x79b5fe[_0x27614e(0x4a1)]||{},_0x27ef11=_0x79b5fe['questions'][_0x27614e(0x6e5)];document[_0x27614e(0x3c4)](_0x27614e(0x5a4))[_0x27614e(0x213)]=_0x45c816[_0x27614e(0x39e)]||'none',document[_0x27614e(0x3c4)](_0x27614e(0x985))['value']=_0x45c816[_0x27614e(0x671)]||_0x27614e(0x382),document[_0x27614e(0x3c4)](_0x27614e(0x18d))['value']=_0x45c816[_0x27614e(0x68d)]||_0x27614e(0x2f0),document[_0x27614e(0x3c4)](_0x27614e(0x4ae))['value']=_0x45c816[_0x27614e(0x528)]||0xa,document[_0x27614e(0x3c4)](_0x27614e(0x401))[_0x27614e(0x213)]=_0x45c816[_0x27614e(0x4e7)]||Math[_0x27614e(0x6bc)](_0x27ef11/0x2),document[_0x27614e(0x3c4)](_0x27614e(0x401))[_0x27614e(0x364)]=_0x27ef11,document[_0x27614e(0x3c4)](_0x27614e(0x763))['checked']=_0x45c816[_0x27614e(0x88d)]||![],document[_0x27614e(0x3c4)](_0x27614e(0x51b))[_0x27614e(0x2cd)]=_0x45c816['loopUntilPass']||![],document[_0x27614e(0x3c4)](_0x27614e(0x18d))[_0x27614e(0x20b)](new Event('change')),quizSettingsModal[_0x27614e(0x469)][_0x27614e(0x182)](_0x27614e(0x5ec));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x221227){console[_0x27614e(0x316)]('Error\x20fetching\x20quiz\x20settings:',_0x221227),showMessage(_0x27614e(0x798));}}async function confirmQuizSettings(){const _0x48167c=_0x389ace;if(!actionTargetId)return;const _0x3991b0=doc(db,_0x48167c(0x5a5)+appId+_0x48167c(0x405),actionTargetId),_0x57559c={'shuffle':document[_0x48167c(0x3c4)](_0x48167c(0x5a4))[_0x48167c(0x213)],'resultsDisplay':document['getElementById'](_0x48167c(0x985))[_0x48167c(0x213)],'timerMode':document[_0x48167c(0x3c4)]('modal-timer-mode-select')[_0x48167c(0x213)],'timerDuration':parseInt(document[_0x48167c(0x3c4)](_0x48167c(0x4ae))[_0x48167c(0x213)])||0xa,'passingScore':parseInt(document['getElementById'](_0x48167c(0x401))['value'])||0x0,'passingScore':parseInt(document[_0x48167c(0x3c4)]('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x48167c(0x3c4)]('modal-adaptive-quiz-checkbox')[_0x48167c(0x2cd)],'loopUntilPass':document['getElementById'](_0x48167c(0x51b))[_0x48167c(0x2cd)]};try{await updateDoc(_0x3991b0,{'settings':_0x57559c}),showMessage(_0x48167c(0x4a6)),quizSettingsModal[_0x48167c(0x469)][_0x48167c(0x711)](_0x48167c(0x5ec)),actionTargetId=null;}catch(_0x343a33){console[_0x48167c(0x316)]('Error\x20updating\x20quiz\x20settings:',_0x343a33),showMessage(_0x48167c(0x926));}}async function handleQuizStatus(_0x293d9b){const _0x330c37=_0x389ace;actionTargetId=_0x293d9b;const _0x47f149=doc(db,_0x330c37(0x5a5)+appId+_0x330c37(0x405),_0x293d9b);try{const _0x1ca6d3=await getDoc(_0x47f149);if(_0x1ca6d3['exists']()){const _0x23a811=_0x1ca6d3[_0x330c37(0x47e)](),_0x5f3baa=_0x23a811[_0x330c37(0x933)]||_0x330c37(0x134),_0x5a93e9=document['getElementById'](_0x330c37(0x5a3)),_0x2201d8=document[_0x330c37(0x3c4)]('quiz-schedule-start-container'),_0x4cdb0a=document['getElementById'](_0x330c37(0x424));let _0x4a1ee2=_0x330c37(0x39b)+(_0x5f3baa===_0x330c37(0x134)?_0x330c37(0x2cd):'')+_0x330c37(0x57f)+(_0x5f3baa===_0x330c37(0x2c6)?_0x330c37(0x2cd):'')+_0x330c37(0x7b4)+(_0x5f3baa==='scheduled'?_0x330c37(0x2cd):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x5a93e9[_0x330c37(0x368)]=_0x4a1ee2;const _0x35060b=_0x5f3baa==='scheduled';_0x2201d8[_0x330c37(0x469)][_0x330c37(0xa13)]('hidden',!_0x35060b),_0x4cdb0a[_0x330c37(0x469)][_0x330c37(0xa13)](_0x330c37(0x5ec),!_0x35060b),document[_0x330c37(0x3c4)](_0x330c37(0x2e0))['value']=_0x23a811[_0x330c37(0x147)]?_0x23a811['startTime']['substring'](0x0,0x10):'',document[_0x330c37(0x3c4)](_0x330c37(0x54d))['value']=_0x23a811['endTime']?_0x23a811['endTime'][_0x330c37(0x18a)](0x0,0x10):'',_0x5a93e9[_0x330c37(0x85d)](_0x330c37(0x4d0))[_0x330c37(0x502)](_0x4b30a2=>{const _0x53afa4=_0x330c37;_0x4b30a2['addEventListener'](_0x53afa4(0x88b),_0x26efba=>{const _0x85c6ca=_0x53afa4,_0x39a4e1=_0x26efba['target'][_0x85c6ca(0x213)]==='schedule';_0x2201d8[_0x85c6ca(0x469)][_0x85c6ca(0xa13)](_0x85c6ca(0x5ec),!_0x39a4e1),_0x4cdb0a[_0x85c6ca(0x469)][_0x85c6ca(0xa13)]('hidden',!_0x39a4e1);});}),quizStatusModal[_0x330c37(0x469)][_0x330c37(0x182)](_0x330c37(0x5ec));}}catch(_0x5dc45b){console['error']('Error\x20fetching\x20quiz\x20status:',_0x5dc45b),showMessage(_0x330c37(0x1d2));}}async function confirmQuizStatus(){const _0x5c1f43=_0x389ace;if(!actionTargetId)return;const _0x3e0c5a=doc(db,_0x5c1f43(0x5a5)+appId+_0x5c1f43(0x405),actionTargetId),_0x17ceed=document[_0x5c1f43(0x674)](_0x5c1f43(0x708));if(!_0x17ceed){showMessage('กรุณาเลือกสถานะ');return;}const _0x4448b0=_0x17ceed[_0x5c1f43(0x213)];let _0x453363={};if(_0x4448b0===_0x5c1f43(0x134)||_0x4448b0===_0x5c1f43(0x2c6))_0x453363={'status':_0x4448b0,'startTime':null,'endTime':null};else{if(_0x4448b0===_0x5c1f43(0x33d)){const _0x48515f=document[_0x5c1f43(0x3c4)](_0x5c1f43(0x2e0))[_0x5c1f43(0x213)],_0x4ef59f=document['getElementById'](_0x5c1f43(0x54d))[_0x5c1f43(0x213)];if(!_0x48515f&&!_0x4ef59f){showMessage(_0x5c1f43(0xa28));return;}_0x453363={'status':_0x5c1f43(0x9b9),'startTime':_0x48515f?new Date(_0x48515f)[_0x5c1f43(0x92e)]():null,'endTime':_0x4ef59f?new Date(_0x4ef59f)[_0x5c1f43(0x92e)]():null};}}try{await updateDoc(_0x3e0c5a,_0x453363),showMessage(_0x5c1f43(0x7b3)),quizStatusModal['classList'][_0x5c1f43(0x711)](_0x5c1f43(0x5ec)),actionTargetId=null;}catch(_0x62968c){console[_0x5c1f43(0x316)](_0x5c1f43(0x691),_0x62968c),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x33cbd1){const _0x47a074=_0x389ace,_0x6cde01=collection(db,'artifacts/'+appId+_0x47a074(0x541)+_0x33cbd1+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x6cde01,_0x2d854a=>{const _0x4305f1=_0x47a074,_0x1ee0db=_0x2d854a[_0x4305f1(0x768)][_0x4305f1(0x749)](_0x5c8459=>_0x5c8459[_0x4305f1(0x47e)]());renderLeaderboard(_0x1ee0db,_0x4305f1(0x9a0));},_0x5d882f=>{const _0x3ba1eb=_0x47a074;console[_0x3ba1eb(0x316)](_0x3ba1eb(0x5e6),_0x5d882f),document['getElementById'](_0x3ba1eb(0x9a0))[_0x3ba1eb(0x368)]=_0x3ba1eb(0xa2a);});}function renderLeaderboard(_0x2e6bd6,_0x679d4){const _0x3031d5=_0x389ace,_0x44cd26=document[_0x3031d5(0x3c4)](_0x679d4);if(!_0x2e6bd6||_0x2e6bd6[_0x3031d5(0x6e5)]===0x0){_0x44cd26['innerHTML']=_0x3031d5(0x1d5);return;}_0x2e6bd6['sort']((_0xb4ca,_0x4b4a73)=>{const _0x5ee071=_0x3031d5,_0xfba47a=(_0x4b4a73[_0x5ee071(0x2aa)]||0x0)-(_0xb4ca[_0x5ee071(0x2aa)]||0x0);if(_0xfba47a!==0x0)return _0xfba47a;const _0x468994=(_0x4b4a73[_0x5ee071(0x8e5)]?.[_0x5ee071(0x4b6)]||0x0)-(_0xb4ca[_0x5ee071(0x8e5)]?.[_0x5ee071(0x4b6)]||0x0);if(_0x468994!==0x0)return _0x468994;const _0x3d7270=(_0x4b4a73['badgesCount']?.[_0x5ee071(0x520)]||0x0)-(_0xb4ca['badgesCount']?.[_0x5ee071(0x520)]||0x0);if(_0x3d7270!==0x0)return _0x3d7270;const _0x37d3ec=(_0x4b4a73[_0x5ee071(0x8e5)]?.[_0x5ee071(0x37e)]||0x0)-(_0xb4ca[_0x5ee071(0x8e5)]?.[_0x5ee071(0x37e)]||0x0);if(_0x37d3ec!==0x0)return _0x37d3ec;const _0x2baf89=(_0x4b4a73[_0x5ee071(0x8e5)]?.['quick_thinker']||0x0)-(_0xb4ca[_0x5ee071(0x8e5)]?.[_0x5ee071(0x3c1)]||0x0);if(_0x2baf89!==0x0)return _0x2baf89;return _0xb4ca[_0x5ee071(0x3c0)][_0x5ee071(0x3c6)](_0x4b4a73['studentName'],'th');});let _0x20e9d9='';_0x2e6bd6[_0x3031d5(0x502)]((_0x37846b,_0x1c60d8)=>{const _0x2a7346=_0x3031d5,_0x39ccfd=_0x1c60d8+0x1,_0x3a80f7=_0x37846b['badgesCount']||{};let _0x3f6b2a='';const _0x18cce4=['specialist','perfect_score',_0x2a7346(0x520),_0x2a7346(0x3c1)];_0x18cce4[_0x2a7346(0x502)](_0x337c0d=>{const _0x436dd3=_0x2a7346;if(_0x3a80f7[_0x337c0d]>0x0){const _0x27e724=Object['values'](BADGES)[_0x436dd3(0x304)](_0x16b11a=>_0x16b11a['id']===_0x337c0d);_0x27e724&&(_0x337c0d===_0x436dd3(0x4b6)?_0x3f6b2a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x27e724[_0x436dd3(0x37b)]+_0x436dd3(0x702)+_0x27e724[_0x436dd3(0x388)]+_0x436dd3(0x913):_0x3f6b2a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x27e724['name']+'\x20('+_0x3a80f7[_0x337c0d]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x27e724[_0x436dd3(0x388)]+_0x436dd3(0x42c)+_0x3a80f7[_0x337c0d]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x20e9d9+=_0x2a7346(0x376)+_0x39ccfd+_0x2a7346(0x8da)+_0x37846b[_0x2a7346(0x3c0)]+_0x2a7346(0x979)+(_0x37846b[_0x2a7346(0x2aa)]||0x0)+_0x2a7346(0x8da)+(_0x3f6b2a||'-')+_0x2a7346(0x39c);}),_0x44cd26['innerHTML']=_0x20e9d9;}function displayLoopScreen(_0x13d737,_0x16b59b,_0x42aa3f){const _0x4a2ffd=_0x389ace;let _0x425a8a='';_0x42aa3f!==_0x4a2ffd(0x35c)&&(_0x425a8a=_0x4a2ffd(0x6e1)+_0x13d737+_0x4a2ffd(0x3ff)+_0x16b59b+_0x4a2ffd(0x8ed));const _0x45e79b=_0x4a2ffd(0x5cc)+_0x425a8a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4a2ffd(0x368)]=_0x45e79b,studentResultArea[_0x4a2ffd(0x469)]['remove'](_0x4a2ffd(0x5ec)),studentQuizArea['classList'][_0x4a2ffd(0x711)]('hidden'),document[_0x4a2ffd(0x3c4)](_0x4a2ffd(0x6c8))[_0x4a2ffd(0x199)](_0x4a2ffd(0x548),()=>{const _0x3638c2=_0x4a2ffd;studentResultArea['classList']['add'](_0x3638c2(0x5ec)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x26de47,_0x45f05e,_0x4a71c0){const _0x1b994d=_0x389ace,_0x3ae656=document[_0x1b994d(0x3c4)](_0x4a71c0),_0x2512fc=_0x4a71c0===_0x1b994d(0x161),_0x21599a=_0x45f05e['questions'][_0x1b994d(0x6e5)],_0x3c71e2=document['getElementById'](_0x4a71c0)['closest'](_0x1b994d(0x26a));if(_0x3c71e2&&!_0x2512fc){const _0x328a63=_0x3c71e2[_0x1b994d(0x674)](_0x1b994d(0x29c));_0x328a63[_0x1b994d(0x368)]=_0x1b994d(0x5d3);}if(!_0x26de47||_0x26de47[_0x1b994d(0x6e5)]===0x0){_0x3ae656[_0x1b994d(0x368)]=_0x1b994d(0x7da)+(_0x2512fc?0x6:0x8)+_0x1b994d(0x81a);return;}const _0x3230a7=[..._0x26de47];_0x3230a7['sort']((_0x25b21c,_0x4309fb)=>{const _0x2e8f55=_0x1b994d;let _0xa54a84,_0x71489f;switch(quizLeaderboardSortBy){case _0x2e8f55(0x3c0):_0xa54a84=_0x25b21c[_0x2e8f55(0x3c0)]||'',_0x71489f=_0x4309fb[_0x2e8f55(0x3c0)]||'';return quizLeaderboardSortOrder==='asc'?_0xa54a84[_0x2e8f55(0x3c6)](_0x71489f,'th'):_0x71489f[_0x2e8f55(0x3c6)](_0xa54a84,'th');case _0x2e8f55(0x8b4):_0xa54a84=_0x25b21c[_0x2e8f55(0x8b4)]||0x0,_0x71489f=_0x4309fb[_0x2e8f55(0x8b4)]||0x0;break;case _0x2e8f55(0x523):_0xa54a84=_0x25b21c[_0x2e8f55(0x523)]?.[_0x2e8f55(0x6e5)]||0x1,_0x71489f=_0x4309fb[_0x2e8f55(0x523)]?.[_0x2e8f55(0x6e5)]||0x1;break;case _0x2e8f55(0x400):_0xa54a84=new Date(_0x25b21c['latestSubmittedAt']),_0x71489f=new Date(_0x4309fb[_0x2e8f55(0x400)]);break;case _0x2e8f55(0x25c):default:_0xa54a84=_0x25b21c['bestScore'],_0x71489f=_0x4309fb[_0x2e8f55(0x25c)];break;}if(_0xa54a84<_0x71489f)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0xa54a84>_0x71489f)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x413476=_0x45f05e[_0x1b994d(0x9d1)]===!![],_0x1e686b=_0x45f05e[_0x1b994d(0x4a1)]?.[_0x1b994d(0x4e7)]??-0x1;let _0x41e367='';_0x3230a7['forEach']((_0xc5518d,_0x6874c6)=>{const _0xd61894=_0x1b994d,_0x3d514a=_0x6874c6+0x1;let _0x34cf58=_0xd61894(0x312);if(_0x413476||_0x1e686b!==-0x1){let _0xc764d4=_0x413476?_0xc5518d[_0xd61894(0x25c)]===_0x21599a:_0xc5518d[_0xd61894(0x25c)]>=_0x1e686b;const _0x4f99e7=_0xc764d4?_0xd61894(0x855):'bg-red-100\x20text-red-800',_0x28d46c=_0xc764d4?_0xd61894(0x6cc):_0xd61894(0xa4e);_0x34cf58=_0xd61894(0x190)+_0x4f99e7+'\x22>'+_0x28d46c+_0xd61894(0x2c8);}const _0x337a93=_0xc5518d[_0xd61894(0x523)][_0xc5518d[_0xd61894(0x523)][_0xd61894(0x6e5)]-0x1],_0x22590c=(_0x337a93[_0xd61894(0x1e3)]||[])['map'](_0x1b9b66=>{const _0x4ddf42=_0xd61894,_0x2fbd96=Object[_0x4ddf42(0x2da)](BADGES)[_0x4ddf42(0x304)](_0x166e38=>_0x166e38['id']===_0x1b9b66);return _0x2fbd96?_0x4ddf42(0x68b)+_0x2fbd96[_0x4ddf42(0x37b)]+_0x4ddf42(0x676)+_0x2fbd96['icon']+_0x4ddf42(0xa2f):'';})[_0xd61894(0x25a)]('');_0x41e367+=_0xd61894(0x952)+_0x3d514a+_0xd61894(0x27d)+_0xc5518d[_0xd61894(0x3c0)]+_0xd61894(0x74a)+_0xc5518d[_0xd61894(0x25c)]+_0xd61894(0x3ff)+_0x21599a+_0xd61894(0x305)+_0x34cf58+_0xd61894(0x27a)+(_0xc5518d[_0xd61894(0x8b4)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2512fc?'':_0xd61894(0x3fd)+(_0xc5518d[_0xd61894(0x523)]?.[_0xd61894(0x6e5)]||0x1)+_0xd61894(0x41e))+_0xd61894(0x558)+(_0x2512fc?'':_0xd61894(0x45b)+new Date(_0xc5518d[_0xd61894(0x400)])[_0xd61894(0x6fd)](_0xd61894(0xa20))+'</td>')+_0xd61894(0x4a7)+(_0x22590c||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3ae656[_0x1b994d(0x368)]=_0x41e367,_0x3c71e2&&!_0x2512fc&&_0x3c71e2['querySelectorAll'](_0x1b994d(0x193))[_0x1b994d(0x502)](_0x54cb38=>{const _0x393a02=_0x1b994d,_0xf9cd37=_0x54cb38[_0x393a02(0x674)](_0x393a02(0x1c7));if(_0xf9cd37)_0xf9cd37[_0x393a02(0x182)]();_0x54cb38[_0x393a02(0x5d9)][_0x393a02(0x91f)]===quizLeaderboardSortBy&&(_0x54cb38[_0x393a02(0x368)]+=_0x393a02(0x2ae)+(quizLeaderboardSortOrder===_0x393a02(0x452)?'▲':'▼')+_0x393a02(0x426));});}async function handleDeleteSubmission(_0x22399a){const _0x1759a8=_0x389ace;if(!currentQuizData||!currentQuizData['id']||!_0x22399a){showMessage(_0x1759a8(0x4b0));return;}showConfirmation(_0x1759a8(0x908)+_0x22399a+_0x1759a8(0x638),async()=>{const _0x27af51=_0x1759a8,_0x5f3fde=currentQuizData['id'],_0x3004b0=doc(db,'artifacts/'+appId+_0x27af51(0x758)+_0x5f3fde+_0x27af51(0x929),_0x22399a);try{await deleteDoc(_0x3004b0),showMessage(_0x27af51(0x40d)+_0x22399a+_0x27af51(0x128));}catch(_0xd6f924){console['error'](_0x27af51(0x5fe),_0xd6f924),showMessage(_0x27af51(0x10b));}});}async function handleLoadQuiz(){const _0x10f445=_0x389ace,_0x282e15=document[_0x10f445(0x3c4)](_0x10f445(0x2f8)),_0x4292c9=_0x282e15[_0x10f445(0x213)][_0x10f445(0x7f5)]();if(!_0x4292c9){showMessage(_0x10f445(0x5ab));return;}loadQuizBtn[_0x10f445(0x2d5)]=!![],loadQuizBtn[_0x10f445(0x368)]=_0x10f445(0x6b6);try{const _0xf33b63=doc(db,_0x10f445(0x5a5)+appId+'/public/data/quizzes',_0x4292c9),_0x1263bb=await getDoc(_0xf33b63);if(!_0x1263bb[_0x10f445(0x446)]()){showMessage(_0x10f445(0x998));return;}currentQuizData={'id':_0x1263bb['id'],..._0x1263bb[_0x10f445(0x47e)]()};const _0x4a9007=currentQuizData[_0x10f445(0x933)]||'active',_0x4f2df4=new Date();if(_0x4a9007===_0x10f445(0x2c6)){showMessage(_0x10f445(0x3e9));return;}if(_0x4a9007===_0x10f445(0x9b9)){const _0x414f00=currentQuizData[_0x10f445(0x147)]?new Date(currentQuizData[_0x10f445(0x147)]):null,_0x30d0e2=currentQuizData[_0x10f445(0x8d1)]?new Date(currentQuizData['endTime']):null;if(_0x414f00&&_0x4f2df4<_0x414f00){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x414f00[_0x10f445(0x6fd)](_0x10f445(0xa20),{'hour12':![]}));return;}if(_0x30d0e2&&_0x4f2df4>_0x30d0e2){showMessage(_0x10f445(0x3d1));return;}}const _0x19db14=currentQuizData[_0x10f445(0x7a0)];currentProjectId=_0x19db14;const _0x32d6f7=doc(db,'artifacts/'+appId+_0x10f445(0x42b),_0x19db14),_0x560795=await getDoc(_0x32d6f7);if(!_0x560795['exists']()){showMessage(_0x10f445(0x1ae));return;}const _0x549716=_0x560795['data']();currentStudentProjectData=_0x549716,displayStudentNameSelector(_0x549716[_0x10f445(0x2ec)],currentQuizData[_0x10f445(0x3d0)]);}catch(_0x3cc6f9){console[_0x10f445(0x316)](_0x10f445(0x32f),_0x3cc6f9),showMessage(_0x10f445(0x99f));}finally{loadQuizBtn[_0x10f445(0x2d5)]=![],loadQuizBtn[_0x10f445(0x368)]=_0x10f445(0x53f);}}async function handleJoinLiveGame(){const _0x244935=_0x389ace,_0x143519=document[_0x244935(0x3c4)](_0x244935(0x572)),_0x59577e=document['getElementById'](_0x244935(0x716)),_0x49e80b=document[_0x244935(0x3c4)](_0x244935(0x510)),_0x5962e9=_0x143519[_0x244935(0x213)]['trim'](),_0x4c5b77=_0x59577e[_0x244935(0x213)][_0x244935(0x7f5)]();if(!_0x5962e9||!_0x4c5b77){showMessage(_0x244935(0x25e));return;}_0x49e80b['disabled']=!![],_0x49e80b['innerHTML']=_0x244935(0x75c);try{const _0x598df0=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x132151=query(_0x598df0,where(_0x244935(0x755),'==',_0x5962e9),where(_0x244935(0x933),'in',['lobby',_0x244935(0xa08)])),_0x276658=await getDocs(_0x132151);if(_0x276658['empty']){showMessage(_0x244935(0x36c));return;}const _0x3e5e06=_0x276658[_0x244935(0x768)][0x0],_0x1553ac=_0x3e5e06[_0x244935(0x47e)]();currentLiveGameId=_0x3e5e06['id'];const _0x51c2bb=_0x1553ac[_0x244935(0x21c)],_0x585cb8=doc(db,_0x244935(0x5a5)+appId+_0x244935(0x405),_0x51c2bb),_0x15a39e=await getDoc(_0x585cb8);if(!_0x15a39e['exists']()){showMessage(_0x244935(0x975));return;}currentQuizData={'id':_0x15a39e['id'],..._0x15a39e[_0x244935(0x47e)]()};if(_0x1553ac['players']&&_0x1553ac[_0x244935(0x511)][_0x4c5b77]){const _0x309e0c=_0x1553ac[_0x244935(0x511)][_0x4c5b77];if(_0x309e0c[_0x244935(0x933)]===_0x244935(0x2c6)){_0x49e80b[_0x244935(0x368)]=_0x244935(0x333);const _0x828a89={};_0x828a89['players.'+_0x4c5b77+_0x244935(0x667)]=_0x244935(0x134),await updateDoc(doc(db,_0x244935(0x5a5)+appId+_0x244935(0x31e),currentLiveGameId),_0x828a89),showView(_0x244935(0x831)),currentStudentName=_0x4c5b77,listenForLiveGameUpdates();return;}else{showMessage(_0x244935(0x73c));return;}}if(_0x1553ac[_0x244935(0x933)]!=='lobby'){showMessage(_0x244935(0x91c));return;}_0x49e80b['innerHTML']=_0x244935(0x3f8);const _0x35d30d={};_0x35d30d[_0x244935(0x562)+_0x4c5b77]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x244935(0x134)},await updateDoc(doc(db,_0x244935(0x5a5)+appId+_0x244935(0x31e),currentLiveGameId),_0x35d30d),currentStudentName=_0x4c5b77,listenForLiveGameUpdates();}catch(_0x48799c){console['error'](_0x244935(0x8fd),_0x48799c),showMessage(_0x244935(0x61c));}finally{_0x49e80b[_0x244935(0x2d5)]=![],_0x49e80b['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x36e90e,_0x24e3eb){const _0x5e7f63=_0x389ace,_0x266221=document['getElementById'](_0x5e7f63(0x60d));document[_0x5e7f63(0x3c4)]('student-quiz-topic')[_0x5e7f63(0x60f)]=_0x5e7f63(0x9ed)+_0x24e3eb,!_0x36e90e||_0x36e90e['length']===0x0?(_0x266221[_0x5e7f63(0x368)]=_0x5e7f63(0x5fc),startQuizBtn[_0x5e7f63(0x2d5)]=!![]):(_0x266221[_0x5e7f63(0x368)]=_0x5e7f63(0x14d),_0x36e90e[_0x5e7f63(0x502)](_0x4b230b=>{const _0x4a9cd=_0x5e7f63,_0x658859=document['createElement']('option');_0x658859[_0x4a9cd(0x213)]=_0x4b230b,_0x658859[_0x4a9cd(0x60f)]=_0x4b230b,_0x266221['appendChild'](_0x658859);}),startQuizBtn['disabled']=![]),studentInitialView[_0x5e7f63(0x469)][_0x5e7f63(0x711)](_0x5e7f63(0x5ec)),studentNameSelectionView[_0x5e7f63(0x469)]['remove'](_0x5e7f63(0x5ec));}function shuffleArray(_0x41a76a){const _0x1003dd=_0x389ace;for(let _0x151f6f=_0x41a76a[_0x1003dd(0x6e5)]-0x1;_0x151f6f>0x0;_0x151f6f--){const _0x68de09=Math['floor'](Math[_0x1003dd(0xa27)]()*(_0x151f6f+0x1));[_0x41a76a[_0x151f6f],_0x41a76a[_0x68de09]]=[_0x41a76a[_0x68de09],_0x41a76a[_0x151f6f]];}}function getShuffledQuiz(_0x45afab){const _0x5138af=_0x389ace;let _0x5dac85=JSON[_0x5138af(0x6b9)](JSON[_0x5138af(0x2ce)](_0x45afab));const _0x2b57ac=_0x5dac85['settings']?.['shuffle']||_0x5138af(0x2f0);if(_0x2b57ac==='none')return _0x5dac85;return(_0x2b57ac===_0x5138af(0x89d)||_0x2b57ac===_0x5138af(0x19d))&&shuffleArray(_0x5dac85[_0x5138af(0x47a)]),(_0x2b57ac===_0x5138af(0x63e)||_0x2b57ac===_0x5138af(0x19d))&&_0x5dac85[_0x5138af(0x47a)][_0x5138af(0x502)](_0x9d6b90=>{const _0x1e9161=_0x5138af,_0x51b9d9=_0x9d6b90[_0x1e9161(0x651)]||_0x5dac85[_0x1e9161(0x8f1)];if(_0x9d6b90[_0x1e9161(0x237)]){let _0x1d774f=_0x9d6b90['options'][_0x1e9161(0x749)]((_0x2af631,_0x26ac93)=>({'text':_0x2af631,'isCorrect':_0x26ac93===_0x9d6b90[_0x1e9161(0x58a)]}));shuffleArray(_0x1d774f),_0x9d6b90['options']=_0x1d774f[_0x1e9161(0x749)](_0x255645=>_0x255645[_0x1e9161(0x770)]),_0x9d6b90['correctAnswerIndex']=_0x1d774f['findIndex'](_0x5decc7=>_0x5decc7[_0x1e9161(0x988)]);}_0x51b9d9==='matching_item'&&_0x9d6b90[_0x1e9161(0x341)]&&shuffleArray(_0x9d6b90[_0x1e9161(0x341)]);}),_0x5dac85;}function displayQuizForStudent(_0x233aed){const _0x6e9228=_0x389ace;studentQuizArea[_0x6e9228(0x469)][_0x6e9228(0x182)](_0x6e9228(0x5ec)),currentDisplayedQuiz=getShuffledQuiz(_0x233aed);currentMode!==_0x6e9228(0x329)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x6e9228(0x199)](_0x6e9228(0x1fa),handleFullscreenChange),document[_0x6e9228(0x199)](_0x6e9228(0x806),handleVisibilityChange),enterFullscreen(),window[_0x6e9228(0x199)](_0x6e9228(0x943),resetDimTimer),window[_0x6e9228(0x199)](_0x6e9228(0x4bf),resetDimTimer),window['addEventListener'](_0x6e9228(0x3be),resetDimTimer),window[_0x6e9228(0x199)](_0x6e9228(0x566),resetDimTimer),resetDimTimer());const _0x27ea39=currentDisplayedQuiz[_0x6e9228(0x4a1)]?.['timerMode']||_0x6e9228(0x2f0);if(_0x27ea39==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x6e9228(0x4a1)][_0x6e9228(0x528)]);else _0x27ea39===_0x6e9228(0x4d3)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x4fbf2a=_0x389ace;let _0x10396c=_0x4fbf2a(0x2e6)+currentDisplayedQuiz[_0x4fbf2a(0x3d0)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x4fbf2a(0x329)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x4fbf2a(0x9b3);currentDisplayedQuiz[_0x4fbf2a(0x47a)][_0x4fbf2a(0x502)]((_0x2daf9d,_0x1d5889)=>{const _0x4327ca=_0x4fbf2a,_0x4b9582=_0x2daf9d[_0x4327ca(0x651)]||currentDisplayedQuiz['quizType'];_0x10396c+=_0x4327ca(0x680);_0x4b9582==='matching_item'?_0x10396c+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x1d5889+0x1)+'.\x20'+_0x2daf9d[_0x4327ca(0x101)]+_0x4327ca(0x3cb)+_0x1d5889+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2daf9d[_0x4327ca(0x341)]['map'](_0x5d6eb=>_0x4327ca(0x5d5)+_0x5d6eb+'\x22>'+_0x5d6eb+_0x4327ca(0x95d))[_0x4327ca(0x25a)]('')+_0x4327ca(0x504):(_0x10396c+=_0x4327ca(0x1ee)+(_0x1d5889+0x1)+'.\x20'+(_0x2daf9d[_0x4327ca(0x80f)]||_0x2daf9d['questionText'])+_0x4327ca(0x1b5),_0x2daf9d[_0x4327ca(0x7fd)]&&(_0x10396c+=_0x4327ca(0x33c)+_0x2daf9d[_0x4327ca(0x7fd)]+_0x4327ca(0x58d)));_0x10396c+=_0x4327ca(0x71c);switch(_0x4b9582){case _0x4327ca(0x8a8):_0x10396c+=_0x4327ca(0x677)+_0x1d5889+_0x4327ca(0x1d7);break;case'true_false':_0x10396c+=_0x4327ca(0x381)+_0x1d5889+_0x4327ca(0x7c6)+_0x1d5889+_0x4327ca(0x308)+_0x1d5889+_0x4327ca(0x5df),_0x10396c+=_0x4327ca(0x381)+_0x1d5889+_0x4327ca(0x30c)+_0x1d5889+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1d5889+_0x4327ca(0x715);break;case'matching_item':break;case'fill_in_the_blank':case'multiple_choice':default:_0x10396c+=_0x2daf9d[_0x4327ca(0x237)][_0x4327ca(0x749)]((_0x2147c0,_0x2977f0)=>_0x4327ca(0x792)+_0x1d5889+_0x4327ca(0x87c)+_0x2977f0+_0x4327ca(0x89a)+_0x1d5889+'\x22\x20value=\x22'+_0x2977f0+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x1d5889+_0x4327ca(0x87c)+_0x2977f0+'\x22>'+_0x2147c0+_0x4327ca(0x30d))['join']('');break;}_0x10396c+=_0x4327ca(0x350);}),_0x10396c+=_0x4fbf2a(0x393),_0x10396c+=_0x4fbf2a(0x812),studentQuizArea['innerHTML']=_0x10396c;if(currentMode===_0x4fbf2a(0x329)){const _0x26a6f7=document[_0x4fbf2a(0x3c4)](_0x4fbf2a(0x1c0));if(_0x26a6f7)_0x26a6f7[_0x4fbf2a(0x199)](_0x4fbf2a(0x548),cancelAdminTest);}document[_0x4fbf2a(0x3c4)](_0x4fbf2a(0x51a))['addEventListener'](_0x4fbf2a(0x94e),handleSubmitQuiz);if(window[_0x4fbf2a(0x8cc)])window['MathJax'][_0x4fbf2a(0x4c3)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4f1768){const _0x2fbec3=_0x389ace;if(_0x4f1768)_0x4f1768[_0x2fbec3(0xa30)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5792db=document[_0x2fbec3(0x3c4)](_0x2fbec3(0x51a));if(!_0x5792db)return;const _0x4a9734=_0x5792db[_0x2fbec3(0x674)]('button[type=\x22submit\x22]'),_0x5d4cfb=currentDisplayedQuiz[_0x2fbec3(0x47a)]['some'](_0x1af36e=>_0x1af36e[_0x2fbec3(0x651)]===_0x2fbec3(0x8a8));_0x4a9734&&(_0x4a9734[_0x2fbec3(0x2d5)]=!![],_0x5d4cfb?_0x4a9734[_0x2fbec3(0x368)]=_0x2fbec3(0x957):_0x4a9734[_0x2fbec3(0x368)]=_0x2fbec3(0x227));const _0x25d8e9=new FormData(_0x5792db),_0x5aeab0=currentDisplayedQuiz[_0x2fbec3(0x47a)]['map']((_0x3df3e2,_0x3ac751)=>{const _0x5da863=_0x2fbec3,_0x5552c0=_0x3df3e2[_0x5da863(0x651)]||currentDisplayedQuiz[_0x5da863(0x8f1)],_0x402c58=_0x25d8e9['get'](_0x5da863(0xa08)+_0x3ac751);if(_0x402c58!==null&&_0x402c58!==undefined){if(_0x5552c0===_0x5da863(0x961)||_0x5552c0==='fill_in_the_blank')return parseInt(_0x402c58);return _0x402c58;}return null;}),_0x13ecbf=currentQuizData['id'],_0x5e593f=doc(db,_0x2fbec3(0x5a5)+appId+_0x2fbec3(0x758)+_0x13ecbf+'/submissions',currentStudentName),_0x1baa16=await getDoc(_0x5e593f),_0x3ffaa7=_0x1baa16[_0x2fbec3(0x446)]()?_0x1baa16['data']():{},_0x348e80=_0x3ffaa7['attempts']||[];await processAndSubmitAnswers(_0x5aeab0,_0x348e80);}async function gradeShortAnswerWithAI(_0x464367,_0x106e1){const _0x4792d0=_0x389ace;if(!_0x464367||!_0x106e1)return![];try{const _0x20b2df=_0x4792d0(0x6f5)+_0x464367+_0x4792d0(0x621)+_0x106e1+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x3a9997={'contents':[{'role':_0x4792d0(0x64d),'parts':[{'text':_0x20b2df}]}]},_0x34a857=_0x4792d0(0x6b8),_0x4f152e=_0x4792d0(0x52e)+_0x34a857,_0x6eea0c=await fetch(_0x4f152e,{'method':_0x4792d0(0x342),'headers':{'Content-Type':_0x4792d0(0x5d7)},'body':JSON[_0x4792d0(0x2ce)](_0x3a9997)});if(!_0x6eea0c['ok'])throw new Error('API\x20call\x20failed');const _0xfdd796=await _0x6eea0c[_0x4792d0(0x21e)](),_0x416077=_0xfdd796[_0x4792d0(0x601)][0x0][_0x4792d0(0x537)][_0x4792d0(0x416)][0x0][_0x4792d0(0x770)]['trim']()['toLowerCase']();return _0x416077===_0x4792d0(0x407);}catch(_0x454618){return console['error'](_0x4792d0(0x8b6),_0x454618),![];}}async function processAndSubmitAnswers(_0x938e3d,_0x39b0c6){const _0x187a2a=_0x389ace;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x187a2a(0x1fa),handleFullscreenChange),document['removeEventListener'](_0x187a2a(0x806),handleVisibilityChange);let _0x1c9739=0x0,_0x23dbcc=0x0,_0x5b630d=[];const _0x152476=[],_0x444375=currentDisplayedQuiz[_0x187a2a(0x47a)][_0x187a2a(0x6e5)];let _0x39d362=0x0;const _0x16b94d=currentDisplayedQuiz[_0x187a2a(0x47a)];for(let _0x3ac204=0x0;_0x3ac204<_0x16b94d[_0x187a2a(0x6e5)];_0x3ac204++){const _0x23a9a6=_0x16b94d[_0x3ac204],_0x39f233=_0x938e3d[_0x3ac204],_0x2b0bd6=_0x23a9a6[_0x187a2a(0x651)]||currentDisplayedQuiz[_0x187a2a(0x8f1)];let _0x568988=![];if(_0x39f233!==null&&_0x39f233!=='')switch(_0x2b0bd6){case _0x187a2a(0x5a6):_0x568988=_0x39f233===_0x23a9a6[_0x187a2a(0x740)];break;case _0x187a2a(0x327):const _0xc5028b=_0x39f233===!![]||_0x39f233===_0x187a2a(0x407);_0x568988=_0xc5028b===_0x23a9a6[_0x187a2a(0x9f4)];break;case _0x187a2a(0x8a8):_0x568988=await gradeShortAnswer(_0x39f233,_0x23a9a6);break;case _0x187a2a(0x961):default:_0x568988=Number(_0x39f233)===_0x23a9a6[_0x187a2a(0x58a)];break;}_0x568988?(_0x1c9739++,_0x39d362++,_0x39d362===0x3&&(_0x5b630d[_0x187a2a(0x2af)](BADGES[_0x187a2a(0x911)]['id']),_0x39d362=0x0)):_0x39d362=0x0;let _0x473777=null;_0x23a9a6['options']&&_0x39f233!==null&&(_0x473777=_0x23a9a6[_0x187a2a(0x237)][_0x39f233]),_0x152476[_0x187a2a(0x2af)]({'questionId':_0x23a9a6['id'],'answer':_0x39f233,'answerText':_0x473777,'isCorrect':_0x568988,'originalQuestionText':_0x23a9a6[_0x187a2a(0x101)]||_0x23a9a6['questionText']});}_0x23dbcc=_0x1c9739*0xa;_0x1c9739===_0x444375&&_0x444375>0x0&&!currentDisplayedQuiz[_0x187a2a(0x9d1)]&&(_0x23dbcc+=0x32,_0x5b630d['push'](BADGES[_0x187a2a(0x83f)]['id']));const _0x428d08=currentDisplayedQuiz[_0x187a2a(0x4a1)]?.['passingScore']??Math['floor'](_0x444375/0x2),_0xf6a7cd=currentDisplayedQuiz[_0x187a2a(0x4a1)]?.[_0x187a2a(0x68d)];if(_0xf6a7cd===_0x187a2a(0x9b7)&&quizStartTime){const _0x142f39=(new Date()-quizStartTime)/0x3e8,_0x415c88=currentDisplayedQuiz['settings'][_0x187a2a(0x528)]*0x3c;_0x1c9739>=_0x428d08&&_0x142f39<_0x415c88/0x2&&(_0x23dbcc+=0x14,_0x5b630d['push'](BADGES[_0x187a2a(0x3a0)]['id']));}_0x39b0c6[_0x187a2a(0x6e5)]===0x0&&_0x1c9739===_0x444375&&_0x444375>0x0&&_0x5b630d[_0x187a2a(0x2af)](BADGES[_0x187a2a(0x126)]['id']);if(_0x39b0c6['length']>0x0){const _0x3a6fc2=_0x39b0c6[0x0][_0x187a2a(0x84d)];if(_0x3a6fc2<_0x428d08&&_0x1c9739>=_0x428d08){const _0x54ca4d=_0x39b0c6[_0x187a2a(0x6eb)](_0x57d340=>(_0x57d340[_0x187a2a(0x1e3)]||[])[_0x187a2a(0x821)](BADGES[_0x187a2a(0x104)]['id']));!_0x54ca4d&&_0x5b630d['push'](BADGES[_0x187a2a(0x104)]['id']);}}_0x39b0c6[_0x187a2a(0x6e5)]===0x4&&_0x5b630d[_0x187a2a(0x2af)](BADGES[_0x187a2a(0x2fe)]['id']);const _0x23b669=currentDisplayedQuiz[_0x187a2a(0x4a1)][_0x187a2a(0x671)];if(currentMode===_0x187a2a(0x329)){handleResultDisplay(_0x23b669,_0x1c9739,_0x23dbcc,_0x5b630d,_0x152476,_0x444375);return;}const _0x31e455=currentQuizData['id'],_0x297714=doc(db,_0x187a2a(0x5a5)+appId+'/public/data/quizzes/'+_0x31e455+_0x187a2a(0x929),currentStudentName);try{const _0x15a92d=[..._0x39b0c6],_0xa754eb={'score':_0x1c9739,'points':_0x23dbcc,'badges':_0x5b630d,'submittedAt':new Date()[_0x187a2a(0x92e)](),'answers':_0x152476};_0x15a92d[_0x187a2a(0x2af)](_0xa754eb);const _0x47a36a=_0x39b0c6[_0x187a2a(0x6e5)]===0x0?_0x1c9739:_0x39b0c6[0x0][_0x187a2a(0x84d)]||0x0,_0x17b133=Math[_0x187a2a(0x364)](..._0x15a92d[_0x187a2a(0x749)](_0x13e078=>_0x13e078['score'])),_0x362be2=_0x1c9739,_0x50137b=_0xa754eb[_0x187a2a(0x5c1)];await setDoc(_0x297714,{'studentName':currentStudentName,'totalQuestions':_0x444375,'attempts':_0x15a92d,'firstScore':_0x47a36a,'bestScore':_0x17b133,'latestScore':_0x362be2,'points':_0x23dbcc,'latestSubmittedAt':_0x50137b},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x187a2a(0x7a0)],currentStudentName),handleResultDisplay(_0x23b669,_0x1c9739,_0x23dbcc,_0x5b630d,_0x152476,_0x444375);}catch(_0x254de3){console[_0x187a2a(0x316)](_0x187a2a(0x19b),_0x254de3),showMessage(_0x187a2a(0x242));}}async function updateStudentProfile(_0x134876,_0x38405b){const _0xf9916d=_0x389ace,_0x15ba31=doc(db,'artifacts/'+appId+_0xf9916d(0x541)+_0x134876+_0xf9916d(0x354),_0x38405b);try{const _0x4267be=query(collection(db,'artifacts/'+appId+_0xf9916d(0x405)),where(_0xf9916d(0x7a0),'==',_0x134876)),_0x1f4f84=await getDocs(_0x4267be),_0x34d182=new Map(_0x1f4f84[_0xf9916d(0x768)][_0xf9916d(0x749)](_0x31e59e=>[_0x31e59e['id'],_0x31e59e[_0xf9916d(0x47e)]()])),_0xa12d9e=Array[_0xf9916d(0x194)](_0x34d182[_0xf9916d(0x45d)]());await runTransaction(db,async _0x262875=>{const _0x285332=_0xf9916d;let _0x19007b=0x0;const _0x1748d1={};let _0x562adf=!![],_0x336a09=0x0,_0x3a4d7d=0x0;for(const _0x3d8514 of _0xa12d9e){const _0x19ca11=_0x34d182[_0x285332(0xa25)](_0x3d8514),_0x272bd7=doc(db,_0x285332(0x5a5)+appId+_0x285332(0x758)+_0x3d8514+_0x285332(0x929),_0x38405b),_0x202bf9=await _0x262875[_0x285332(0xa25)](_0x272bd7);if(_0x202bf9[_0x285332(0x446)]()){const _0x40f2ea=_0x202bf9[_0x285332(0x47e)](),_0x4106d0=_0x40f2ea['attempts']||[];if(_0x4106d0[_0x285332(0x6e5)]>0x0){const _0x483db4=_0x4106d0[_0x285332(0x7e8)]((_0x2e997a,_0x307d15)=>{const _0xe8f432=_0x285332;if(_0x307d15['score']>_0x2e997a[_0xe8f432(0x84d)])return _0x307d15;if(_0x307d15[_0xe8f432(0x84d)]===_0x2e997a[_0xe8f432(0x84d)])return(_0x307d15[_0xe8f432(0x8b4)]||0x0)>(_0x2e997a[_0xe8f432(0x8b4)]||0x0)?_0x307d15:_0x2e997a;return _0x2e997a;},{'score':-0x1,'points':-0x1});_0x483db4['score']>-0x1&&(_0x19007b+=_0x483db4[_0x285332(0x8b4)]||0x0,(_0x483db4[_0x285332(0x1e3)]||[])[_0x285332(0x502)](_0x3377f4=>{_0x1748d1[_0x3377f4]=(_0x1748d1[_0x3377f4]||0x0)+0x1;}));}}if(_0x19ca11[_0x285332(0x3d0)]!==_0x285332(0x934)){_0x3a4d7d++;if(_0x202bf9[_0x285332(0x446)]()){_0x336a09++;const _0x131d39=_0x202bf9[_0x285332(0x47e)]();_0x131d39['bestScore']!==_0x131d39['totalQuestions']&&(_0x562adf=![]);}else _0x562adf=![];}}_0x3a4d7d>0x0&&_0x336a09===_0x3a4d7d&&_0x562adf?_0x1748d1['specialist']=0x1:_0x1748d1[_0x285332(0x4b6)]=0x0,_0x262875['set'](_0x15ba31,{'studentName':_0x38405b,'totalPoints':_0x19007b,'unlockedBadges':Object[_0x285332(0x45d)](_0x1748d1)['filter'](_0x46c866=>_0x1748d1[_0x46c866]>0x0),'badgesCount':_0x1748d1},{'merge':!![]});});}catch(_0x53c5fd){console[_0xf9916d(0x316)](_0xf9916d(0x367),_0x53c5fd),showMessage(_0xf9916d(0x125));}}function startAdminTest(){const _0x4f1285=_0x389ace;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x52e5bc=JSON[_0x4f1285(0x6b9)](JSON[_0x4f1285(0x2ce)](currentQuizData));currentMode=_0x4f1285(0x329),currentStudentName=_0x4f1285(0xa45),adminView[_0x4f1285(0x469)][_0x4f1285(0x711)]('hidden'),studentView[_0x4f1285(0x469)][_0x4f1285(0x182)](_0x4f1285(0x5ec)),studentInitialView['classList']['add'](_0x4f1285(0x5ec)),studentNameSelectionView[_0x4f1285(0x469)][_0x4f1285(0x711)](_0x4f1285(0x5ec)),studentResultArea[_0x4f1285(0x469)]['add'](_0x4f1285(0x5ec)),studentQuizArea[_0x4f1285(0x469)]['remove'](_0x4f1285(0x5ec)),quizStartTime=new Date(),displayQuizForStudent(_0x52e5bc);}function handleResultDisplay(_0x587516,_0x23e7fe,_0x5ba001,_0x2f391d,_0x22dd8e,_0x4d1a92){const _0x5d2faf=_0x389ace;if(_0x587516==='manual_release'){displaySubmissionConfirmation();return;}const _0x12986f=currentDisplayedQuiz['settings']?.[_0x5d2faf(0x4e7)]??Math[_0x5d2faf(0x6bc)](_0x4d1a92/0x2),_0x415085=currentDisplayedQuiz['settings']?.[_0x5d2faf(0x88d)]??![],_0x263f12=currentDisplayedQuiz['settings']?.[_0x5d2faf(0x8a4)]===!![],_0x5d40dd=_0x23e7fe<_0x12986f,_0xaf2316=_0x587516===_0x5d2faf(0x91d)||_0x587516===_0x5d2faf(0x816);if(_0x263f12&&_0x5d40dd&&!_0xaf2316){_0x587516==='show_results_and_answers'?displayResultsWithAnswers(_0x23e7fe,_0x5ba001,_0x2f391d,_0x22dd8e,_0x4d1a92,!![]):displayLoopScreen(_0x23e7fe,_0x4d1a92,_0x587516);return;}if(_0x415085&&_0x5d40dd){startAdaptiveFlow(_0x22dd8e,_0x23e7fe,_0x4d1a92);return;}switch(_0x587516){case _0x5d2faf(0x382):displayResultsWithAnswers(_0x23e7fe,_0x5ba001,_0x2f391d,_0x22dd8e,_0x4d1a92);break;case'show_results_only':displayResultsScoreOnly(_0x23e7fe,_0x5ba001,_0x2f391d,_0x4d1a92);break;case'show_pass_fail_only':displayPassFailOnly(_0x23e7fe,_0x4d1a92);break;case'half_mark_status':displayHalfMarkResult(_0x23e7fe,_0x4d1a92);break;case'perfect_score_status':displayPerfectScoreResult(_0x23e7fe,_0x4d1a92);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x156640){const _0x30444c=_0x389ace;studentReadingArea[_0x30444c(0x368)]=_0x30444c(0x700);const _0x1f7aaf=_0x30444c(0x97a)+_0x156640+_0x30444c(0x43a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x54d991={'type':'OBJECT','properties':{'questionText':{'type':_0x30444c(0x966)},'options':{'type':'ARRAY','items':{'type':_0x30444c(0x966)}},'correctAnswerIndex':{'type':_0x30444c(0x894)},'explanation':{'type':'STRING'}},'required':[_0x30444c(0x47b),'options',_0x30444c(0x58a),_0x30444c(0x655)]},_0x3712e5={'type':'OBJECT','properties':{'topic':{'type':_0x30444c(0x966)},'questions':{'type':_0x30444c(0x127),'items':_0x54d991}},'required':['topic','questions']};try{const _0x3eb958=await callAnalysisApi(_0x1f7aaf,_0x3712e5);_0x3eb958[_0x30444c(0x9d1)]=!![],studentReadingArea[_0x30444c(0x469)][_0x30444c(0x711)]('hidden');const _0x4ce2bb={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x30444c(0x382)};_0x3eb958[_0x30444c(0x4a1)]=_0x4ce2bb,displayQuizForStudent(_0x3eb958);}catch(_0x116819){console['error'](_0x30444c(0x910),_0x116819),showMessage(_0x30444c(0x5eb)),showView(_0x30444c(0x287));}}function displayPassFailOnly(_0x5eb534,_0xf3d4a0){const _0x61c4c4=_0x389ace,_0x2346d3=currentDisplayedQuiz[_0x61c4c4(0x4a1)]?.[_0x61c4c4(0x4e7)]??-0x1,_0x28050e=currentDisplayedQuiz[_0x61c4c4(0x9d1)]===!![];let _0x32d22b='',_0x29b711=![];if(_0x28050e||_0x2346d3!==-0x1){_0x29b711=_0x28050e?_0x5eb534===_0xf3d4a0:_0x5eb534>=_0x2346d3;const _0x3dc12a=_0x29b711?_0x61c4c4(0x855):_0x61c4c4(0x372),_0x43e5f6=_0x29b711?'ผ่าน':_0x61c4c4(0xa4e);_0x32d22b=_0x61c4c4(0x533)+_0x3dc12a+'\x22>'+_0x43e5f6+'</span></div>';}else _0x32d22b='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x390074=_0x61c4c4(0x721)+currentStudentName+_0x61c4c4(0x1cf)+_0x32d22b+_0x61c4c4(0x82a);studentResultArea[_0x61c4c4(0x368)]=_0x390074,studentResultArea['classList'][_0x61c4c4(0x182)]('hidden'),studentQuizArea[_0x61c4c4(0x469)][_0x61c4c4(0x711)](_0x61c4c4(0x5ec)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x29b711});}function cancelAdminTest(){const _0x387b33=_0x389ace;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x387b33(0x293)](_0x387b33(0x1fa),handleFullscreenChange),document[_0x387b33(0x293)]('visibilitychange',handleVisibilityChange),currentMode=_0x387b33(0x622),studentView[_0x387b33(0x469)][_0x387b33(0x711)](_0x387b33(0x5ec)),adminView['classList'][_0x387b33(0x182)]('hidden'),showView(_0x387b33(0x9e8));}function setupResultScreenBackButton(_0x5be1a8){const _0x3b30df=_0x389ace,_0x4935ab={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x5be1a8};if(_0x4935ab[_0x3b30df(0x32d)]){const _0x2dd36d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x3b30df(0x1b0)](_0x3b30df(0x8e3),_0x2dd36d),document['getElementById']('retake-quiz-loop-btn')[_0x3b30df(0x199)](_0x3b30df(0x548),()=>{const _0x53e004=_0x3b30df;studentResultArea[_0x53e004(0x469)][_0x53e004(0x711)](_0x53e004(0x5ec)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x466633=_0x3b30df(0x79c),_0x3b46ee=currentMode===_0x3b30df(0x329),_0x5a5d4c=_0x3b46ee?_0x3b30df(0x19f):_0x3b30df(0x3f2);let _0x1d52e8='';_0x4935ab['showRankings']&&(_0x1d52e8+=_0x3b30df(0x57a));let _0x5e067e=_0x4935ab[_0x3b30df(0x4e5)];_0x5e067e===undefined&&(_0x5e067e=_0x4935ab[_0x3b30df(0x84d)]<_0x4935ab[_0x3b30df(0x8ec)]);_0x5e067e&&(_0x1d52e8+=_0x3b30df(0x7dd));_0x1d52e8+=_0x3b30df(0x359)+_0x466633+_0x3b30df(0x611)+_0x5a5d4c+_0x3b30df(0x3d6);const _0x4251e5=_0x3b30df(0x172)+_0x1d52e8+_0x3b30df(0x58d);studentResultArea[_0x3b30df(0x1b0)](_0x3b30df(0x8e3),_0x4251e5),studentResultArea['querySelector']('#view-rankings-btn')?.[_0x3b30df(0x199)](_0x3b30df(0x548),handleShowStudentRankings);const _0x425965=studentResultArea[_0x3b30df(0x674)]('#retake-for-improvement-btn');_0x425965&&_0x425965['addEventListener']('click',()=>{const _0x7123af=_0x3b30df;studentResultArea[_0x7123af(0x469)][_0x7123af(0x711)](_0x7123af(0x5ec)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3b30df(0x3c4)](_0x466633)['addEventListener']('click',()=>{const _0x1c15f1=_0x3b30df;_0x3b46ee?(currentMode=_0x1c15f1(0x622),studentView[_0x1c15f1(0x469)]['add'](_0x1c15f1(0x5ec)),adminView[_0x1c15f1(0x469)][_0x1c15f1(0x182)]('hidden'),showView(_0x1c15f1(0x9e8))):(showView(_0x1c15f1(0x287)),document[_0x1c15f1(0x3c4)](_0x1c15f1(0x2f8))[_0x1c15f1(0x213)]='');});}function displayResultsWithAnswers(_0x32fabc,_0x1c0533,_0x5e3cf2,_0x5d2044,_0x39b5c5,_0x25ac3e=![]){const _0x52d70b=_0x389ace,_0x5835b7=_0x39b5c5>0x0?_0x32fabc/_0x39b5c5*0x64:0x0,_0x2ae333=currentDisplayedQuiz[_0x52d70b(0x4a1)]?.[_0x52d70b(0x4e7)]??-0x1,_0x9d4861=currentDisplayedQuiz['isRemedial']===!![];let _0x2659c1='';if(_0x9d4861||_0x2ae333!==-0x1){let _0x550d68=_0x9d4861?_0x32fabc===_0x39b5c5:_0x32fabc>=_0x2ae333;const _0x10b209=_0x550d68?_0x52d70b(0x855):_0x52d70b(0x372),_0x4bb042=_0x550d68?'ผ่าน':_0x52d70b(0xa4e);_0x2659c1=_0x52d70b(0x6d1)+_0x10b209+'\x22>'+_0x4bb042+_0x52d70b(0x1b5);}let _0x4868d9=_0x52d70b(0x4af)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x32fabc+_0x52d70b(0x467)+_0x39b5c5+_0x52d70b(0x5b8)+_0x2659c1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x1c0533+_0x52d70b(0x16e)+_0x5835b7[_0x52d70b(0x790)](0x0)+_0x52d70b(0x7d7);currentDisplayedQuiz['questions']['forEach']((_0x4a21cc,_0x1de1cd)=>{const _0x70870b=_0x52d70b,_0x3c0907=_0x5d2044[_0x1de1cd],_0x1bf512=_0x3c0907[_0x70870b(0x710)],_0x37d5c8=_0x3c0907[_0x70870b(0x988)],_0x2a55a8=_0x4a21cc['questionType']||currentDisplayedQuiz[_0x70870b(0x8f1)];_0x4868d9+=_0x70870b(0x4e3)+(_0x37d5c8?_0x70870b(0x219):_0x70870b(0x7bf))+_0x70870b(0x653)+(_0x1de1cd+0x1)+'.\x20'+(_0x4a21cc[_0x70870b(0x101)]||_0x4a21cc[_0x70870b(0x47b)])+_0x70870b(0x4a9);switch(_0x2a55a8){case _0x70870b(0x5a6):const _0x1396a5=_0x1bf512||_0x70870b(0x6f1),_0x23777a=_0x4a21cc['correctResponse'];_0x4868d9+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x37d5c8?_0x70870b(0x35f):'')+'\x22>'+_0x1396a5+_0x70870b(0x51d);!_0x37d5c8&&(_0x4868d9+=_0x70870b(0x78a)+_0x23777a+_0x70870b(0x1b5));break;case _0x70870b(0x8a8):_0x4868d9+=_0x70870b(0x7ca)+(_0x1bf512||_0x70870b(0x6f1))+_0x70870b(0x1b5),_0x4868d9+=_0x70870b(0x4b3)+_0x4a21cc[_0x70870b(0x379)]+_0x70870b(0x1b5);break;case _0x70870b(0x327):_0x4868d9+=_0x70870b(0x682)+(_0x4a21cc[_0x70870b(0x9f4)]===!![]?_0x70870b(0x7aa):'')+'\x20'+(_0x1bf512===_0x70870b(0x407)&&!_0x37d5c8?_0x70870b(0x35f):'')+_0x70870b(0x772),_0x4868d9+='<p\x20class=\x22'+(_0x4a21cc['correctAnswer']===![]?_0x70870b(0x7aa):'')+'\x20'+(_0x1bf512===_0x70870b(0x556)&&!_0x37d5c8?_0x70870b(0x35f):'')+_0x70870b(0x967);break;default:_0x4868d9+=_0x4a21cc[_0x70870b(0x237)][_0x70870b(0x749)]((_0x576fbf,_0x2f35cf)=>{const _0x456a90=_0x70870b;let _0x1952fd='',_0x16b7ee='';if(_0x2f35cf===_0x4a21cc[_0x456a90(0x58a)])_0x1952fd=_0x456a90(0x7aa),_0x16b7ee='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x2f35cf===_0x1bf512&&(_0x1952fd=_0x456a90(0x962),_0x16b7ee=_0x456a90(0xa18));return'<div\x20class=\x22'+_0x1952fd+'\x22>'+_0x16b7ee+_0x576fbf+_0x456a90(0x58d);})['join']('');break;}_0x4868d9+=_0x70870b(0x2f1)+(_0x4a21cc[_0x70870b(0x655)]||'ไม่มีคำอธิบาย')+_0x70870b(0x58d);if(!_0x37d5c8){const _0x5b44f8=_0x4a21cc[_0x70870b(0x101)]||_0x4a21cc[_0x70870b(0x47b)];_0x4868d9+=_0x70870b(0x92d)+escape(_0x5b44f8)+_0x70870b(0x7e2);}_0x4868d9+=_0x70870b(0x58d);}),studentResultArea[_0x52d70b(0x368)]=_0x4868d9,renderEarnedBadges(_0x5e3cf2,_0x52d70b(0x7c3)),studentResultArea[_0x52d70b(0x469)][_0x52d70b(0x182)](_0x52d70b(0x5ec)),studentQuizArea[_0x52d70b(0x469)][_0x52d70b(0x711)](_0x52d70b(0x5ec)),setupResultScreenBackButton({'isLooping':_0x25ac3e,'score':_0x32fabc,'totalQuestions':_0x39b5c5,'showRankings':!![]});if(window['MathJax'])window[_0x52d70b(0x8cc)][_0x52d70b(0x4c3)]([studentResultArea]);}function displayResultsScoreOnly(_0x7004b,_0x4a68c5,_0x1884c0,_0xedbe2a){const _0xd75210=_0x389ace,_0x1340e0=_0xedbe2a>0x0?_0x7004b/_0xedbe2a*0x64:0x0,_0x2f9e08=currentDisplayedQuiz[_0xd75210(0x4a1)]?.['passingScore']??-0x1,_0x1c0b96=currentDisplayedQuiz[_0xd75210(0x9d1)]===!![];let _0x2be529='';if(_0x1c0b96||_0x2f9e08!==-0x1){let _0x474441=_0x1c0b96?_0x7004b===_0xedbe2a:_0x7004b>=_0x2f9e08;const _0x2ac9fb=_0x474441?_0xd75210(0x855):_0xd75210(0x372),_0x29544a=_0x474441?_0xd75210(0x6cc):'ไม่ผ่าน';_0x2be529=_0xd75210(0x6d1)+_0x2ac9fb+'\x22>'+_0x29544a+_0xd75210(0x1b5);}let _0x38655e=_0xd75210(0x721)+currentStudentName+_0xd75210(0x454)+_0x7004b+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xedbe2a+_0xd75210(0x5b8)+_0x2be529+_0xd75210(0xa3c)+_0x4a68c5+_0xd75210(0x33b)+_0x1340e0['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x38655e,renderEarnedBadges(_0x1884c0,_0xd75210(0x7c3)),studentResultArea[_0xd75210(0x469)]['remove'](_0xd75210(0x5ec)),studentQuizArea[_0xd75210(0x469)]['add'](_0xd75210(0x5ec)),setupResultScreenBackButton({'score':_0x7004b,'totalQuestions':_0xedbe2a,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x5a1f9d=_0x389ace;let _0x4fcd00='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x5a1f9d(0xa1a);studentResultArea[_0x5a1f9d(0x368)]=_0x4fcd00,studentResultArea[_0x5a1f9d(0x469)][_0x5a1f9d(0x182)](_0x5a1f9d(0x5ec)),studentQuizArea[_0x5a1f9d(0x469)][_0x5a1f9d(0x711)]('hidden'),document['getElementById'](_0x5a1f9d(0x55b))[_0x5a1f9d(0x199)]('click',()=>{const _0x2e50bb=_0x5a1f9d;showView(_0x2e50bb(0x287)),document['getElementById'](_0x2e50bb(0x2f8))[_0x2e50bb(0x213)]='';});}function renderEarnedBadges(_0x5d9545,_0x3bf929){const _0x545742=_0x389ace,_0x2605a0=document['getElementById'](_0x3bf929);if(!_0x2605a0||!_0x5d9545||_0x5d9545[_0x545742(0x6e5)]===0x0)return;let _0x1c9861='';_0x5d9545[_0x545742(0x502)]((_0xd8fa1c,_0x53e5d2)=>{const _0x2d3950=_0x545742,_0x56e8db=Object[_0x2d3950(0x2da)](BADGES)['find'](_0x2c38d0=>_0x2c38d0['id']===_0xd8fa1c);_0x56e8db&&(_0x1c9861+=_0x2d3950(0x42e)+_0x53e5d2*0.2+'s;\x22\x20title=\x22'+_0x56e8db[_0x2d3950(0x7d3)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x56e8db[_0x2d3950(0x388)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x56e8db[_0x2d3950(0x37b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x2605a0[_0x545742(0x368)]=_0x1c9861;}function startPresentation(_0x4f0fff){const _0x11d874=_0x389ace;currentQuizData=getShuffledQuiz(_0x4f0fff),currentPresentationSlide=0x0,presentationModal['style'][_0x11d874(0xa23)]=_0x11d874(0x3ed),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4c3932=_0x389ace;document[_0x4c3932(0x64c)]&&document[_0x4c3932(0x4ff)](),presentationModal[_0x4c3932(0x527)][_0x4c3932(0xa23)]='none';}function renderPresentationSlide(_0x21ceaa){const _0x5ebb24=_0x389ace,_0x2fcb79=document[_0x5ebb24(0x3c4)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x5ebb24(0x47a)]||!currentQuizData['questions'][_0x21ceaa]){_0x2fcb79[_0x5ebb24(0x368)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0xe4be9e=currentQuizData[_0x5ebb24(0x47a)][_0x21ceaa],_0x32f275=_0xe4be9e[_0x5ebb24(0x651)]||currentQuizData['quizType'];_0x2fcb79[_0x5ebb24(0x368)]='';let _0x59a910=_0x5ebb24(0x106)+(_0xe4be9e[_0x5ebb24(0x7fd)]?_0x5ebb24(0x33c)+_0xe4be9e[_0x5ebb24(0x7fd)]+'</div>':'')+_0x5ebb24(0x51f)+(_0x21ceaa+0x1)+'.\x20'+(_0xe4be9e['stem']||_0xe4be9e['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x32f275){case _0x5ebb24(0x5a6):_0x59a910+=_0xe4be9e[_0x5ebb24(0x341)][_0x5ebb24(0x749)](_0xb57060=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb57060+_0x5ebb24(0x4f0))[_0x5ebb24(0x25a)]('');break;case'true_false':_0x59a910+=_0x5ebb24(0x88a),_0x59a910+=_0x5ebb24(0x62f);break;case _0x5ebb24(0x66b):case _0x5ebb24(0x8a8):_0x59a910+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x5ebb24(0x961):default:_0x59a910+=_0xe4be9e[_0x5ebb24(0x237)][_0x5ebb24(0x749)]((_0x2bf11e,_0x6c193e)=>_0x5ebb24(0x8e2)+_0x6c193e+_0x5ebb24(0x80e)+_0x2bf11e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x59a910+=_0x5ebb24(0x2e5)+(_0xe4be9e[_0x5ebb24(0x655)]||_0x5ebb24(0xff))+_0x5ebb24(0x850),_0x2fcb79[_0x5ebb24(0x368)]=_0x59a910;if(window[_0x5ebb24(0x8cc)])window[_0x5ebb24(0x8cc)][_0x5ebb24(0x4c3)]([_0x2fcb79]);let _0x11bb6f=[];switch(_0x32f275){case _0x5ebb24(0x5a6):_0x11bb6f=_0xe4be9e['allResponses']||[];break;case _0x5ebb24(0x327):_0x11bb6f=[_0x5ebb24(0x6dd),_0x5ebb24(0x3af)];break;default:_0x11bb6f=_0xe4be9e[_0x5ebb24(0x237)]||[];break;}const _0x34262d=document[_0x5ebb24(0x3c4)](_0x5ebb24(0x579));_0x34262d&&(_0x34262d[_0x5ebb24(0x39d)]=()=>{openScratchpad(_0xe4be9e,_0x11bb6f);});document[_0x5ebb24(0x85d)](_0x5ebb24(0x141))[_0x5ebb24(0x502)](_0x3a53ed=>{const _0x5bc25a=_0x5ebb24;_0x3a53ed[_0x5bc25a(0x199)](_0x5bc25a(0x548),_0x76e309=>revealAnswerForPresentation(_0x21ceaa,_0x76e309[_0x5bc25a(0x620)]));});const _0x56bd10=document[_0x5ebb24(0x3c4)](_0x5ebb24(0x462));_0x56bd10&&_0x56bd10[_0x5ebb24(0x199)]('click',()=>checkShortAnswerForPresentation(_0x21ceaa)),document['getElementById'](_0x5ebb24(0x5c9))[_0x5ebb24(0x60f)]=_0x5ebb24(0x31a)+(_0x21ceaa+0x1)+'\x20/\x20'+currentQuizData[_0x5ebb24(0x47a)][_0x5ebb24(0x6e5)],document[_0x5ebb24(0x3c4)]('prev-question-btn')[_0x5ebb24(0x2d5)]=_0x21ceaa===0x0,document[_0x5ebb24(0x3c4)](_0x5ebb24(0x371))[_0x5ebb24(0x2d5)]=_0x21ceaa===currentQuizData[_0x5ebb24(0x47a)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x5735d5){const _0x50e680=_0x389ace,_0x5a6bd2=currentQuizData['questions'][_0x5735d5],_0x20ff4f=document['getElementById'](_0x50e680(0x9e7)),_0x320ed7=document[_0x50e680(0x3c4)](_0x50e680(0x462)),_0x538c57=document[_0x50e680(0x3c4)](_0x50e680(0x3aa)),_0xa2344e=document['getElementById'](_0x50e680(0x2c4));if(!_0x20ff4f||!_0x320ed7||!_0x538c57||!_0xa2344e)return;const _0x26e8d6=_0x20ff4f[_0x50e680(0x213)][_0x50e680(0x7f5)]();if(_0x26e8d6==='')return;_0x320ed7[_0x50e680(0x2d5)]=!![],_0x320ed7[_0x50e680(0x368)]=_0x50e680(0x99e),_0x20ff4f[_0x50e680(0x2d5)]=!![];const _0x500fb0=await gradeShortAnswer(_0x26e8d6,_0x5a6bd2);_0x500fb0?_0x538c57['innerHTML']=_0x50e680(0x86b):_0x538c57[_0x50e680(0x368)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x5a6bd2[_0x50e680(0x379)]+')',_0x538c57[_0x50e680(0x469)][_0x50e680(0x182)](_0x50e680(0x5ec)),_0xa2344e['classList']['remove']('hidden'),_0x320ed7[_0x50e680(0x469)][_0x50e680(0x711)](_0x50e680(0x5ec));}function revealAnswerForPresentation(_0x3f622f,_0xf04ec2){const _0x351a2=_0x389ace,_0xa428f1=currentQuizData[_0x351a2(0x47a)][_0x3f622f],_0xd34233=_0xa428f1[_0x351a2(0x651)]||currentQuizData[_0x351a2(0x8f1)];document[_0x351a2(0x85d)]('.presentation-option')[_0x351a2(0x502)](_0xa4c249=>{const _0x21593a=_0x351a2;_0xa4c249[_0x21593a(0x2d5)]=!![],_0xa4c249[_0x21593a(0x469)][_0x21593a(0x182)](_0x21593a(0x156));let _0x3a5800=![];if(_0xd34233===_0x21593a(0x961)||_0xd34233===_0x21593a(0x6c6)){const _0x7217d1=parseInt(_0xa4c249[_0x21593a(0x5d9)][_0x21593a(0x6e9)]);_0x3a5800=_0x7217d1===_0xa428f1[_0x21593a(0x58a)];}else{if(_0xd34233===_0x21593a(0x327)){const _0x504140=_0xa4c249[_0x21593a(0x5d9)][_0x21593a(0x710)]===_0x21593a(0x407);_0x3a5800=_0x504140===_0xa428f1[_0x21593a(0x9f4)];}else _0xd34233===_0x21593a(0x5a6)&&(_0x3a5800=_0xa4c249[_0x21593a(0x60f)][_0x21593a(0x7f5)]()===_0xa428f1[_0x21593a(0x740)]);}_0x3a5800?_0xa4c249[_0x21593a(0x469)][_0x21593a(0x711)]('bg-green-500','text-white',_0x21593a(0x136)):_0xa4c249[_0x21593a(0x469)]['add'](_0x21593a(0x649));}),_0xf04ec2['classList'][_0x351a2(0x182)](_0x351a2(0x649));let _0x4b7215=![];if(_0xd34233===_0x351a2(0x961))_0x4b7215=parseInt(_0xf04ec2[_0x351a2(0x5d9)][_0x351a2(0x6e9)])===_0xa428f1['correctAnswerIndex'];else{if(_0xd34233===_0x351a2(0x327))_0x4b7215=_0xf04ec2[_0x351a2(0x5d9)][_0x351a2(0x710)]===_0x351a2(0x407)===_0xa428f1['correctAnswer'];else _0xd34233===_0x351a2(0x5a6)&&(_0x4b7215=_0xf04ec2[_0x351a2(0x60f)][_0x351a2(0x7f5)]()===_0xa428f1[_0x351a2(0x740)]);}!_0x4b7215&&_0xf04ec2[_0x351a2(0x469)][_0x351a2(0x711)](_0x351a2(0x953),_0x351a2(0x466),'border-red-700'),document['getElementById'](_0x351a2(0x2c4))['classList'][_0x351a2(0x182)](_0x351a2(0x5ec));}function startWholeQuizTimer(_0x140de5){const _0x442505=_0x389ace,_0x30341f=document['getElementById'](_0x442505(0x993));if(!_0x30341f)return;const _0x2f2444=Date[_0x442505(0x2d0)]()+_0x140de5*0x3c*0x3e8;_0x30341f[_0x442505(0x368)]=_0x442505(0x36f);const _0x96308=document['getElementById'](_0x442505(0x8e0));quizTimerInterval=setInterval(()=>{const _0x2b19fe=_0x442505,_0x2b6bb1=_0x2f2444-Date[_0x2b19fe(0x2d0)]();if(_0x2b6bb1<=0x0)clearInterval(quizTimerInterval),_0x96308[_0x2b19fe(0x60f)]=_0x2b19fe(0x49c),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x5cbcd2=Math[_0x2b19fe(0x6bc)](_0x2b6bb1/0x3e8/0x3c%0x3c)[_0x2b19fe(0x1fe)]()['padStart'](0x2,'0'),_0x335a36=Math[_0x2b19fe(0x6bc)](_0x2b6bb1/0x3e8%0x3c)['toString']()[_0x2b19fe(0x1b3)](0x2,'0');_0x96308[_0x2b19fe(0x60f)]=_0x5cbcd2+':'+_0x335a36;}},0x3e8);}function renderPerQuestionView(){const _0x1f6d9f=_0x389ace;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x29b927=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x9008cb=_0x29b927['questionType']||currentDisplayedQuiz[_0x1f6d9f(0x8f1)];let _0x111441=_0x1f6d9f(0x5aa)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x1f6d9f(0x6e5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x1f6d9f(0x329)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x1f6d9f(0x5d6)+currentDisplayedQuiz[_0x1f6d9f(0x3d0)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x1f6d9f(0x47a)][_0x1f6d9f(0x6e5)]-0x1?_0x1f6d9f(0x448):_0x1f6d9f(0x2fa))+_0x1f6d9f(0x9b8);studentQuizArea['innerHTML']=_0x111441;let _0x221655='',_0x557578='';switch(_0x9008cb){case'matching_item':_0x221655=currentQuestionIndex+0x1+'.\x20'+_0x29b927[_0x1f6d9f(0x101)],_0x557578=_0x1f6d9f(0xa1f)+_0x29b927[_0x1f6d9f(0x341)]['map'](_0xbf900d=>_0x1f6d9f(0x5d5)+_0xbf900d+'\x22>'+_0xbf900d+_0x1f6d9f(0x95d))['join']('')+_0x1f6d9f(0x7e4);break;case'true_false':_0x221655=currentQuestionIndex+0x1+'.\x20'+_0x29b927[_0x1f6d9f(0x47b)],_0x557578='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x1f6d9f(0x66b):_0x221655=currentQuestionIndex+0x1+'.\x20'+_0x29b927[_0x1f6d9f(0x47b)],_0x557578=_0x1f6d9f(0x30f);break;case _0x1f6d9f(0x961):case _0x1f6d9f(0x67f):default:_0x221655=currentQuestionIndex+0x1+'.\x20'+_0x29b927[_0x1f6d9f(0x47b)],_0x557578=_0x29b927[_0x1f6d9f(0x237)][_0x1f6d9f(0x749)]((_0x461db2,_0xa2939d)=>_0x1f6d9f(0x3f5)+_0xa2939d+_0x1f6d9f(0x609)+_0xa2939d+_0x1f6d9f(0x3f3)+_0xa2939d+'\x22>'+_0x461db2+_0x1f6d9f(0x414))[_0x1f6d9f(0x25a)]('');break;}_0x29b927[_0x1f6d9f(0x7fd)]&&(_0x221655+=_0x1f6d9f(0x33c)+_0x29b927[_0x1f6d9f(0x7fd)]+_0x1f6d9f(0x58d));document[_0x1f6d9f(0x3c4)](_0x1f6d9f(0x45a))[_0x1f6d9f(0x368)]=_0x221655,document[_0x1f6d9f(0x3c4)](_0x1f6d9f(0x15b))[_0x1f6d9f(0x368)]=_0x557578;if(currentMode===_0x1f6d9f(0x329)){const _0x4f2550=document[_0x1f6d9f(0x3c4)](_0x1f6d9f(0x1c0));if(_0x4f2550)_0x4f2550['addEventListener']('click',cancelAdminTest);}document[_0x1f6d9f(0x3c4)]('next-question-timed-btn')[_0x1f6d9f(0x199)](_0x1f6d9f(0x548),()=>handleNextQuestionInTimedMode(![]));if(window[_0x1f6d9f(0x8cc)])window['MathJax'][_0x1f6d9f(0x4c3)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x51d164=_0x389ace,_0x5cd56d=currentDisplayedQuiz[_0x51d164(0x4a1)]['timerDuration'],_0x21155b=document['getElementById'](_0x51d164(0x6fc));if(!_0x21155b)return;let _0x4c28cf=_0x5cd56d;_0x21155b['innerHTML']=_0x51d164(0x81b)+_0x4c28cf+_0x51d164(0x48d);const _0x588780=document[_0x51d164(0x3c4)](_0x51d164(0x77e)),_0x3fc929=document[_0x51d164(0x3c4)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x52a78f=_0x51d164;_0x4c28cf--;const _0x1ae758=_0x4c28cf/_0x5cd56d*0x64;_0x588780[_0x52a78f(0x527)]['width']=_0x1ae758+'%',_0x3fc929[_0x52a78f(0x60f)]=_0x4c28cf,_0x4c28cf<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x52a78f(0x8d7)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xa18f8e=![]){const _0x1af846=_0x389ace;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x115802=null;if(!_0xa18f8e){const _0x54708c=currentDisplayedQuiz[_0x1af846(0x47a)][currentQuestionIndex],_0x2a554d=_0x54708c['questionType']||currentDisplayedQuiz[_0x1af846(0x8f1)];if(_0x2a554d===_0x1af846(0x8a8)||_0x2a554d==='fill_in_no_choices'){const _0x12b3b5=document[_0x1af846(0x674)](_0x1af846(0x863));_0x115802=_0x12b3b5?_0x12b3b5['value'][_0x1af846(0x7f5)]():'';}else{if(_0x2a554d==='matching_item'){const _0x3c71a2=document[_0x1af846(0x674)](_0x1af846(0x56a));_0x115802=_0x3c71a2?_0x3c71a2[_0x1af846(0x213)]:'';}else{const _0x222e6f=document[_0x1af846(0x674)](_0x1af846(0x2d6));if(_0x222e6f){const _0x86e6b5=_0x222e6f[_0x1af846(0x213)];_0x115802=!isNaN(parseInt(_0x86e6b5,0xa))&&_0x86e6b5['trim']()!==''?parseInt(_0x86e6b5,0xa):_0x86e6b5;}}}}studentAnswersPerQuestion[_0x1af846(0x2af)](_0x115802),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x43cdb9=_0x389ace,_0x1503f4=currentDisplayedQuiz[_0x43cdb9(0x47a)][_0x43cdb9(0x6eb)](_0x400485=>_0x400485[_0x43cdb9(0x651)]===_0x43cdb9(0x8a8));_0x1503f4?showMessage(_0x43cdb9(0x46b)):showMessage(_0x43cdb9(0x8a0));const _0x488587=currentQuizData['id'],_0x4044a2=doc(db,'artifacts/'+appId+_0x43cdb9(0x758)+_0x488587+_0x43cdb9(0x929),currentStudentName),_0x33c3f8=await getDoc(_0x4044a2),_0x511291=_0x33c3f8[_0x43cdb9(0x446)]()?_0x33c3f8['data']():{},_0x33824a=_0x511291[_0x43cdb9(0x523)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x33824a);}function getResultsFilename(){const _0x2f8654=_0x389ace,_0x4c6d7e=document[_0x2f8654(0x3c4)](_0x2f8654(0x48b))[_0x2f8654(0x60f)]['replace'](/[^a-z0-9]/gi,'_')[_0x2f8654(0x8f8)]();return'results_'+(_0x4c6d7e||'quiz');}function exportResultsAsImage(){const _0x64be07=_0x389ace,_0x3b1063=document[_0x64be07(0x3c4)](_0x64be07(0x8ba));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x3b1063)[_0x64be07(0x854)](_0x26c1b3=>{const _0xf2647d=_0x64be07,_0xdb2adf=document[_0xf2647d(0x54c)]('a');_0xdb2adf[_0xf2647d(0x7c9)]=getResultsFilename()+'.png',_0xdb2adf['href']=_0x26c1b3[_0xf2647d(0x67c)](_0xf2647d(0x7a5)),_0xdb2adf[_0xf2647d(0x548)](),messageModal[_0xf2647d(0x469)]['add']('hidden');});}function exportResultsAsPDF(){const _0xbca06b=_0x389ace,{jsPDF:_0xc2a625}=window[_0xbca06b(0x963)],_0x5d77d1=new _0xc2a625();_0x5d77d1[_0xbca06b(0x116)]('helvetica',_0xbca06b(0x343)),_0x5d77d1['autoTable']({'html':'#results-table'}),_0x5d77d1[_0xbca06b(0x3b7)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0xfec420=_0x389ace,_0x4402cc=_0xfec420(0x2cc)+_0xfec420(0x7f1)+_0xfec420(0x7fc)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xbe1e3e=_0xfec420(0xa4d),_0x5e7b95=_0x4402cc+document[_0xfec420(0x3c4)](_0xfec420(0x8ba))[_0xfec420(0x368)]+_0xbe1e3e,_0x1da625=_0xfec420(0x4c8)+encodeURIComponent(_0x5e7b95),_0x38cb61=document[_0xfec420(0x54c)]('a');document[_0xfec420(0x13c)][_0xfec420(0x889)](_0x38cb61),_0x38cb61[_0xfec420(0x2ef)]=_0x1da625,_0x38cb61[_0xfec420(0x7c9)]=getResultsFilename()+_0xfec420(0x67e),_0x38cb61[_0xfec420(0x548)](),document[_0xfec420(0x13c)][_0xfec420(0x583)](_0x38cb61);}function exportResultsAsExcel(){const _0x5050d1=_0x389ace,_0x3a4ab3=document[_0x5050d1(0x3c4)](_0x5050d1(0x1de));let _0xd1bc8e=[];for(let _0x2272a2=0x0;_0x2272a2<_0x3a4ab3['rows'][_0x5050d1(0x6e5)];_0x2272a2++){let _0x294da8=[],_0x5707f0=_0x3a4ab3[_0x5050d1(0x13f)][_0x2272a2][_0x5050d1(0x85d)](_0x5050d1(0x796));for(let _0x3de58f=0x0;_0x3de58f<_0x5707f0['length'];_0x3de58f++){_0x294da8['push']('\x22'+_0x5707f0[_0x3de58f][_0x5050d1(0x9c4)][_0x5050d1(0x98c)](/"/g,'\x22\x22')+'\x22');}_0xd1bc8e[_0x5050d1(0x2af)](_0x294da8[_0x5050d1(0x25a)](','));}const _0x22ff61=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xd1bc8e[_0x5050d1(0x25a)]('\x0a')],{'type':_0x5050d1(0x35a)}),_0x420849=document[_0x5050d1(0x54c)]('a');_0x420849['href']=URL[_0x5050d1(0x58f)](_0x22ff61),_0x420849[_0x5050d1(0x7c9)]=getResultsFilename()+_0x5050d1(0x2f2),_0x420849['click']();}function exportTableAsImage(_0x4848fa,_0x3afe72){const _0x23b83c=_0x389ace,_0x30b00e=document[_0x23b83c(0x3c4)](_0x4848fa);if(!_0x30b00e){showMessage(_0x23b83c(0x1e1));return;}showMessage(_0x23b83c(0x634)),html2canvas(_0x30b00e)['then'](_0x66531e=>{const _0x17a93a=_0x23b83c,_0x29a0ba=document[_0x17a93a(0x54c)]('a');_0x29a0ba['download']=_0x3afe72+_0x17a93a(0x777),_0x29a0ba[_0x17a93a(0x2ef)]=_0x66531e['toDataURL']('image/png'),_0x29a0ba[_0x17a93a(0x548)](),messageModal[_0x17a93a(0x469)][_0x17a93a(0x711)](_0x17a93a(0x5ec));});}function exportTableAsPDF(_0x854828,_0x4bbcc2){const _0x5667c5=_0x389ace,{jsPDF:_0x5f21a9}=window['jspdf'],_0x176fa5=new _0x5f21a9();_0x176fa5[_0x5667c5(0x116)](_0x5667c5(0x28a),_0x5667c5(0x343)),_0x176fa5[_0x5667c5(0x2fb)]({'html':'#'+_0x854828}),_0x176fa5['save'](_0x4bbcc2+_0x5667c5(0x463));}function exportTableAsWord(_0x42d03c,_0x197c54){const _0x1a4362=_0x389ace,_0x1b58bd=document[_0x1a4362(0x3c4)](_0x42d03c);if(!_0x1b58bd){showMessage(_0x1a4362(0x1e1));return;}const _0x479f0e=_0x1a4362(0x2cc)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x1a4362(0x7fc)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x208190=_0x1a4362(0xa4d),_0x2866ce=_0x479f0e+_0x1b58bd[_0x1a4362(0x368)]+_0x208190,_0x2edd55=_0x1a4362(0x4c8)+encodeURIComponent(_0x2866ce),_0x53c2cd=document[_0x1a4362(0x54c)]('a');document[_0x1a4362(0x13c)][_0x1a4362(0x889)](_0x53c2cd),_0x53c2cd['href']=_0x2edd55,_0x53c2cd[_0x1a4362(0x7c9)]=_0x197c54+_0x1a4362(0x67e),_0x53c2cd[_0x1a4362(0x548)](),document[_0x1a4362(0x13c)]['removeChild'](_0x53c2cd);}function exportTableAsExcel(_0x15e8b4,_0x58a1ca){const _0x16518e=_0x389ace,_0x36c06b=document[_0x16518e(0x3c4)](_0x15e8b4);if(!_0x36c06b){showMessage(_0x16518e(0x1e1));return;}let _0x1737c0=[];for(let _0x22c459=0x0;_0x22c459<_0x36c06b['rows'][_0x16518e(0x6e5)];_0x22c459++){let _0x5a5ab0=[],_0x104590=_0x36c06b[_0x16518e(0x13f)][_0x22c459][_0x16518e(0x85d)](_0x16518e(0x796));for(let _0x7d9bfb=0x0;_0x7d9bfb<_0x104590[_0x16518e(0x6e5)];_0x7d9bfb++){_0x5a5ab0[_0x16518e(0x2af)]('\x22'+_0x104590[_0x7d9bfb][_0x16518e(0x9c4)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x1737c0[_0x16518e(0x2af)](_0x5a5ab0[_0x16518e(0x25a)](','));}const _0x4c6d60=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1737c0[_0x16518e(0x25a)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x1b9e9c=document[_0x16518e(0x54c)]('a');_0x1b9e9c[_0x16518e(0x2ef)]=URL[_0x16518e(0x58f)](_0x4c6d60),_0x1b9e9c['download']=_0x58a1ca+_0x16518e(0x2f2),_0x1b9e9c[_0x16518e(0x548)]();}function renderAnalytics(_0x55f8b4,_0x4b7a0e){const _0x59ef2e=_0x389ace,_0x29e97d=_0x4b7a0e[_0x59ef2e(0x573)](_0x471762=>_0x471762['latestScore']!==undefined),_0x186be6=currentProjectData[_0x59ef2e(0x2ec)][_0x59ef2e(0x6e5)],_0xc474d9=_0x29e97d[_0x59ef2e(0x6e5)],_0x5bccee=_0x186be6-_0xc474d9,_0xffa9d4=_0x186be6>0x0?_0xc474d9/_0x186be6*0x64:0x0,_0x5e7a3e=_0x29e97d[_0x59ef2e(0x749)](_0x3534ea=>_0x3534ea[_0x59ef2e(0x2ac)]),_0x558566=_0x5e7a3e['length']>0x0?_0x5e7a3e['reduce']((_0x32a365,_0x51da23)=>_0x32a365+_0x51da23,0x0)/_0x5e7a3e['length']:0x0,_0x3fed04=_0x55f8b4[_0x59ef2e(0x47a)][_0x59ef2e(0x6e5)],_0x20c489=_0x3fed04>0x0?_0x558566/_0x3fed04*0x64:0x0,_0x47f197=calculateItemAnalysis(_0x55f8b4,_0x29e97d),_0x2a5842=calculateReliabilityKR20(_0x55f8b4,_0x29e97d,_0x47f197[_0x59ef2e(0x660)]);let _0x42aa7c='';if(_0x2a5842!==null){let _0x39971b='';if(_0x2a5842>=0.9)_0x39971b='ยอดเยี่ยม';else{if(_0x2a5842>=0.8)_0x39971b=_0x59ef2e(0x107);else{if(_0x2a5842>=0.7)_0x39971b='ดี';else{if(_0x2a5842>=0.6)_0x39971b='พอใช้';else _0x39971b=_0x59ef2e(0x9b6);}}}_0x42aa7c=_0x59ef2e(0x56b)+_0x2a5842[_0x59ef2e(0x790)](0x2)+_0x59ef2e(0x936)+_0x39971b+_0x59ef2e(0x517);}const _0x285389=document[_0x59ef2e(0x3c4)](_0x59ef2e(0x981));_0x285389[_0x59ef2e(0x368)]=_0x59ef2e(0x705)+_0xffa9d4[_0x59ef2e(0x790)](0x0)+_0x59ef2e(0x99d)+_0xc474d9+'/'+_0x186be6+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x558566['toFixed'](0x2)+_0x59ef2e(0x871)+_0x20c489[_0x59ef2e(0x790)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x5e7a3e[_0x59ef2e(0x6e5)]>0x0?Math['max'](..._0x5e7a3e):_0x59ef2e(0x1e7))+_0x59ef2e(0x5da)+(_0x5e7a3e[_0x59ef2e(0x6e5)]>0x0?Math['min'](..._0x5e7a3e):_0x59ef2e(0x1e7))+_0x59ef2e(0x629)+_0x42aa7c+_0x59ef2e(0x7c2);const _0x553304=document[_0x59ef2e(0x3c4)](_0x59ef2e(0x187));_0x553304&&_0x553304[_0x59ef2e(0x182)]();const _0x4f1f36=_0x59ef2e(0x129);_0x285389['insertAdjacentHTML']('afterend',_0x4f1f36);const _0x4caf4d=currentProjectData[_0x59ef2e(0x2ec)]||[];renderSubmissionChart(_0xc474d9,_0x5bccee,_0x29e97d,_0x4caf4d),renderScoreDistributionChart(_0x29e97d,_0x3fed04),renderQuestionAnalytics(_0x55f8b4,_0x29e97d,_0x4caf4d),renderInterestingStats(_0x55f8b4,_0x29e97d);}async function handleExportLessonPDF(){const _0x5dc29c=_0x389ace,_0x3ec4b3=document[_0x5dc29c(0x3c4)]('lesson-plan-content'),_0x378b7f=document[_0x5dc29c(0x3c4)](_0x5dc29c(0x46c))[_0x5dc29c(0x60f)],_0x166ec5=window[_0x5dc29c(0x1c2)]('',_0x5dc29c(0x16d)),_0x520429=_0x5dc29c(0x4e1)+_0x378b7f+_0x5dc29c(0x5b3)+_0x3ec4b3[_0x5dc29c(0x368)]+_0x5dc29c(0x704);_0x166ec5['document']['write'](_0x520429),_0x166ec5[_0x5dc29c(0x9f8)][_0x5dc29c(0x6f6)](),_0x166ec5[_0x5dc29c(0x950)]=function(){setTimeout(()=>{const _0x13c387=_0x51de;_0x166ec5[_0x13c387(0x90b)]();},0x5dc);};}function renderInterestingStats(_0x60156d,_0x1380e5){const _0x283a9d=_0x389ace,_0x1a6ddc=document['getElementById'](_0x283a9d(0xa3a));if(!_0x1a6ddc)return;if(_0x1380e5[_0x283a9d(0x6e5)]===0x0){_0x1a6ddc[_0x283a9d(0x368)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x586bc9=_0x60156d[_0x283a9d(0x47a)][_0x283a9d(0x749)]((_0x253533,_0x3ed539)=>({'index':_0x3ed539+0x1,'text':_0x253533['questionText']||_0x253533['stem'],'correct':0x0}));_0x1380e5[_0x283a9d(0x502)](_0x21aa5b=>{const _0x4da75d=_0x283a9d,_0x210441=_0x21aa5b['attempts'][_0x21aa5b[_0x4da75d(0x523)][_0x4da75d(0x6e5)]-0x1];_0x210441&&_0x210441['answers']&&_0x210441['answers'][_0x4da75d(0x502)](_0x59acb2=>{const _0x554903=_0x4da75d,_0x2302e4=_0x586bc9[_0x554903(0x304)](_0x323088=>_0x323088[_0x554903(0x770)]===_0x59acb2[_0x554903(0x44d)]);_0x59acb2[_0x554903(0x988)]&&_0x2302e4&&_0x2302e4['correct']++;});});const _0x4c5d7a=_0x1380e5[_0x283a9d(0x6e5)],_0x2f85b6=Math[_0x283a9d(0x364)](..._0x586bc9[_0x283a9d(0x749)](_0x1812c7=>_0x1812c7['correct'])),_0x64be37=Math[_0x283a9d(0x366)](..._0x586bc9[_0x283a9d(0x749)](_0x3504f1=>_0x3504f1['correct'])),_0x30bc9f=_0x586bc9[_0x283a9d(0x573)](_0x202cc5=>_0x202cc5[_0x283a9d(0x44c)]===_0x2f85b6)[_0x283a9d(0x749)](_0x2ef5ef=>_0x283a9d(0x7e1)+_0x2ef5ef[_0x283a9d(0x6e9)]),_0x5b453f=_0x586bc9[_0x283a9d(0x573)](_0x3133f8=>_0x3133f8['correct']===_0x64be37)[_0x283a9d(0x749)](_0x177b81=>_0x283a9d(0x7e1)+_0x177b81[_0x283a9d(0x6e9)]),_0x54b6ab=_0x1380e5[_0x283a9d(0x91f)]((_0x5f09e4,_0x2fb7c0)=>_0x2fb7c0[_0x283a9d(0x2ac)]-_0x5f09e4[_0x283a9d(0x2ac)])['filter']((_0x32270d,_0x64a893,_0x25b592)=>_0x32270d[_0x283a9d(0x2ac)]===_0x25b592[0x0]['latestScore']),_0x1f15b7=_0x1380e5[_0x283a9d(0x91f)]((_0x72a01b,_0x5b0822)=>_0x72a01b['latestScore']-_0x5b0822[_0x283a9d(0x2ac)])[_0x283a9d(0x573)]((_0x42c21c,_0x3ed359,_0x24240c)=>_0x42c21c[_0x283a9d(0x2ac)]===_0x24240c[0x0][_0x283a9d(0x2ac)]),_0x11525d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x30bc9f['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x2f85b6+_0x283a9d(0x3ff)+_0x4c5d7a+_0x283a9d(0x8a5)+_0x5b453f['join'](',\x20')+_0x283a9d(0x9d0)+(_0x4c5d7a-_0x64be37)+'\x20/\x20'+_0x4c5d7a+_0x283a9d(0x3ca)+_0x54b6ab['map'](_0x3546e5=>_0x3546e5[_0x283a9d(0x3c0)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x54b6ab[0x0][_0x283a9d(0x2ac)]+_0x283a9d(0x344)+_0x1f15b7[_0x283a9d(0x749)](_0x2a1248=>_0x2a1248[_0x283a9d(0x3c0)])[_0x283a9d(0x25a)](',\x20')+_0x283a9d(0x9ef)+_0x1f15b7[0x0]['latestScore']+_0x283a9d(0x6e7);_0x1a6ddc[_0x283a9d(0x368)]=_0x11525d;}function renderSubmissionChart(_0xac9a5f,_0x2d623d,_0x776f81,_0x2f6223){const _0x5a97f1=_0x389ace,_0xced0a6=document[_0x5a97f1(0x3c4)](_0x5a97f1(0x689))['getContext']('2d'),_0xa99b62=_0x776f81[_0x5a97f1(0x749)](_0x1a7859=>_0x1a7859[_0x5a97f1(0x3c0)]),_0x9f7b22=_0x2f6223['filter'](_0x32d3e2=>!_0xa99b62[_0x5a97f1(0x821)](_0x32d3e2));chartInstances[_0x5a97f1(0x9d8)]&&chartInstances[_0x5a97f1(0x9d8)][_0x5a97f1(0x12f)](),chartInstances[_0x5a97f1(0x9d8)]=new Chart(_0xced0a6,{'type':_0x5a97f1(0x5f1),'data':{'labels':[_0x5a97f1(0x8ca),_0x5a97f1(0x2db)],'datasets':[{'data':[_0xac9a5f,_0x2d623d],'backgroundColor':[_0x5a97f1(0x4fe),_0x5a97f1(0x7e9)],'borderColor':['#ffffff',_0x5a97f1(0x92b)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5a97f1(0x709)},'tooltip':{'callbacks':{'label':function(_0x19cc2e){const _0xc5824=_0x5a97f1;let _0x3b28e4=_0x19cc2e[_0xc5824(0x960)]||'';return _0x3b28e4&&(_0x3b28e4+=':\x20'),_0x3b28e4+=_0x19cc2e[_0xc5824(0x43f)],_0x3b28e4;},'afterLabel':function(_0x23d80d){const _0x361257=_0x5a97f1;let _0x1ed04d;return _0x23d80d[_0x361257(0x3dd)]===0x0?_0x1ed04d=_0xa99b62:_0x1ed04d=_0x9f7b22,_0x1ed04d[_0x361257(0x6e5)]>0x0?_0x1ed04d[_0x361257(0x25a)]('\x0a'):_0x361257(0x873);}}}}}});}function renderScoreDistributionChart(_0x409e09,_0x1c70f3){const _0x1c87dd=_0x389ace,_0x163ae0=document[_0x1c87dd(0x3c4)](_0x1c87dd(0x230))[_0x1c87dd(0x2b4)]('2d'),_0x3316f8={};for(let _0x47231c=0x0;_0x47231c<=_0x1c70f3;_0x47231c++){_0x3316f8[_0x47231c]=0x0;}_0x409e09[_0x1c87dd(0x502)](_0x30ccca=>{const _0x3d8cca=_0x1c87dd;_0x3316f8[_0x30ccca[_0x3d8cca(0x2ac)]]!==undefined&&_0x3316f8[_0x30ccca[_0x3d8cca(0x2ac)]]++;}),chartInstances[_0x1c87dd(0x84d)]&&chartInstances['score']['destroy'](),chartInstances[_0x1c87dd(0x84d)]=new Chart(_0x163ae0,{'type':'bar','data':{'labels':Object['keys'](_0x3316f8),'datasets':[{'label':_0x1c87dd(0x9f0),'data':Object[_0x1c87dd(0x2da)](_0x3316f8),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1c87dd(0x1e5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xd24626){const _0x3add99=_0x1c87dd,_0x294456=_0xd24626[_0x3add99(0x960)],_0x77f9c3=_0x409e09[_0x3add99(0x573)](_0x23c85f=>_0x23c85f[_0x3add99(0x2ac)]==_0x294456)[_0x3add99(0x749)](_0x16d165=>_0x16d165[_0x3add99(0x3c0)]);return _0x77f9c3[_0x3add99(0x6e5)]>0x0?_0x77f9c3[_0x3add99(0x25a)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x499c5e,_0x2090fa,_0x180eac){const _0xdcc9ee=_0x389ace,_0x72c098=document[_0xdcc9ee(0x3c4)](_0xdcc9ee(0x77b));if(_0x180eac[_0xdcc9ee(0x6e5)]===0x0){_0x72c098['innerHTML']=_0xdcc9ee(0xa55);return;}const _0x267a7d=calculateItemAnalysis(_0x499c5e,_0x2090fa),_0x109e7d=calculateDistractorAnalysis(_0x499c5e,_0x2090fa);let _0x43347c='';_0x267a7d['overallGroups']&&(_0x43347c=_0xdcc9ee(0x1f6)+_0x267a7d[_0xdcc9ee(0x8cb)][_0xdcc9ee(0x6bb)][_0xdcc9ee(0x6e5)]+_0xdcc9ee(0x5bc)+_0x267a7d[_0xdcc9ee(0x8cb)][_0xdcc9ee(0x6bb)][_0xdcc9ee(0x749)](_0x3a3595=>_0xdcc9ee(0x311)+_0x3a3595+'</li>')['join']('')+_0xdcc9ee(0x519)+_0x267a7d[_0xdcc9ee(0x8cb)][_0xdcc9ee(0x34f)][_0xdcc9ee(0x6e5)]+_0xdcc9ee(0x5bc)+_0x267a7d[_0xdcc9ee(0x8cb)][_0xdcc9ee(0x34f)]['map'](_0x5b8cae=>_0xdcc9ee(0x311)+_0x5b8cae+_0xdcc9ee(0x4b7))[_0xdcc9ee(0x25a)]('')+_0xdcc9ee(0xa41));let _0x32bc70='';const _0x3ad191=_0x2090fa[_0xdcc9ee(0x749)](_0x56a9ff=>_0x56a9ff['studentName']),_0x1c98ac=_0xe6b176=>{const _0x29688e=_0xdcc9ee;if(_0xe6b176>=0.8)return _0x29688e(0x8ce);if(_0xe6b176>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0xe6b176>=0.4)return _0x29688e(0x600);if(_0xe6b176>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x29688e(0x286);},_0x49313c=_0x3e430d=>{const _0xe9af14=_0xdcc9ee;if(_0x3e430d<0x0)return _0xe9af14(0x9c2);if(_0x3e430d>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x3e430d>=0.3)return _0xe9af14(0x917);if(_0x3e430d>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0xe9af14(0x7a9);},_0x3683d0=_0x42c7df=>{const _0x4326ed=_0xdcc9ee,_0x50044f=_0x42c7df[_0x4326ed(0x790)](0x0);if(parseFloat(_0x50044f)===0x64)return _0x4326ed(0x317)+_0x50044f+_0x4326ed(0x14a);if(_0x42c7df>=0x32)return _0x4326ed(0x7bb)+_0x50044f+'%</span>';return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x50044f+_0x4326ed(0x14a);};_0x499c5e[_0xdcc9ee(0x47a)][_0xdcc9ee(0x502)]((_0x56b08c,_0x3babaa)=>{const _0x905cdb=_0xdcc9ee,_0x5e7918=_0x267a7d['perQuestionStats'][_0x3babaa],_0x571d61=_0x109e7d[_0x3babaa],_0x40fdcd=_0x56b08c[_0x905cdb(0x101)]||_0x56b08c[_0x905cdb(0x47b)]||_0x56b08c[_0x905cdb(0x80f)];let _0x320624=0x0;const _0x4f12aa=[],_0x3fa624=[];_0x2090fa[_0x905cdb(0x502)](_0x1a78f2=>{const _0x5ef5ca=_0x905cdb,_0x35a1d0=_0x1a78f2[_0x5ef5ca(0x523)][_0x1a78f2[_0x5ef5ca(0x523)][_0x5ef5ca(0x6e5)]-0x1];if(_0x35a1d0&&_0x35a1d0['answers']){const _0x5605a3=_0x35a1d0[_0x5ef5ca(0x54e)][_0x5ef5ca(0x304)](_0x58b6d8=>_0x58b6d8[_0x5ef5ca(0x44d)]===_0x40fdcd)??_0x35a1d0[_0x5ef5ca(0x54e)][_0x3babaa]??null;_0x5605a3&&(_0x5605a3[_0x5ef5ca(0x988)]?(_0x320624++,_0x4f12aa[_0x5ef5ca(0x2af)](_0x1a78f2[_0x5ef5ca(0x3c0)])):_0x3fa624[_0x5ef5ca(0x2af)](_0x1a78f2[_0x5ef5ca(0x3c0)]));}});const _0x379704=_0x2090fa[_0x905cdb(0x6e5)]>0x0?_0x320624/_0x2090fa['length']*0x64:0x0,_0x5960a2=_0x180eac[_0x905cdb(0x573)](_0x2fe992=>!_0x3ad191[_0x905cdb(0x821)](_0x2fe992)),_0x2f6e7b=_0x5e7918?_0x905cdb(0x6ad)+_0x5e7918['p'][_0x905cdb(0x790)](0x2)+'</p><div>'+_0x1c98ac(_0x5e7918['p'])+_0x905cdb(0x8bb)+_0x5e7918['r'][_0x905cdb(0x790)](0x2)+'</p><div>'+_0x49313c(_0x5e7918['r'])+_0x905cdb(0x185)+_0x3683d0(_0x379704)+_0x905cdb(0x434):'';let _0x3c2f45='';_0x571d61&&(_0x3c2f45=_0x905cdb(0x9fc)+Object['keys'](_0x571d61)[_0x905cdb(0x749)](_0x5d3f09=>{const _0x5dad2c=_0x905cdb,_0x10b0d1=_0x571d61[_0x5d3f09],_0x212675=parseInt(_0x5d3f09)===_0x56b08c[_0x5dad2c(0x58a)],_0x43bb60=!_0x212675&&_0x10b0d1[_0x5dad2c(0x1bf)]>_0x10b0d1[_0x5dad2c(0x3a8)];return _0x5dad2c(0x909)+(_0x212675?_0x5dad2c(0x11f):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x212675?'✔\x20':'')+_0x10b0d1['text']+_0x5dad2c(0x734)+_0x10b0d1['upper_group_count']+_0x5dad2c(0x734)+_0x10b0d1[_0x5dad2c(0x1bf)]+'\x20'+(_0x43bb60?'👍':'')+_0x5dad2c(0x734)+_0x10b0d1['total']+_0x5dad2c(0x946);})[_0x905cdb(0x25a)]('')+_0x905cdb(0x994));let _0xcf93c9='';_0x5e7918&&_0x5e7918[_0x905cdb(0x4ec)]&&(_0xcf93c9=_0x905cdb(0x47c)+_0x5e7918[_0x905cdb(0x4ec)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x5e7918[_0x905cdb(0x4ec)][_0x905cdb(0x749)](_0x70363e=>'<li>'+(_0x70363e['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x70363e[_0x905cdb(0x37b)]+_0x905cdb(0x4b7))[_0x905cdb(0x25a)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x5e7918[_0x905cdb(0x370)]['length']+_0x905cdb(0x8ad)+_0x5e7918[_0x905cdb(0x370)]['map'](_0x4ed0ad=>_0x905cdb(0x311)+(_0x4ed0ad[_0x905cdb(0x988)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4ed0ad[_0x905cdb(0x37b)]+_0x905cdb(0x4b7))['join']('')+_0x905cdb(0x3a6)),_0x32bc70+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x3babaa+0x1)+':\x20'+_0x40fdcd+_0x905cdb(0x7ce)+_0x2f6e7b+_0x905cdb(0x5ee)+_0x40fdcd+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x320624+'\x20จาก\x20'+_0x2090fa[_0x905cdb(0x6e5)]+_0x905cdb(0x291)+_0x379704[_0x905cdb(0x790)](0x0)+_0x905cdb(0x60c)+_0x4f12aa[_0x905cdb(0x6e5)]+_0x905cdb(0x321)+(_0x4f12aa[_0x905cdb(0x6e5)]>0x0?_0x4f12aa[_0x905cdb(0x25a)](',\x20'):_0x905cdb(0x873))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x3fa624[_0x905cdb(0x6e5)]+_0x905cdb(0x321)+(_0x3fa624[_0x905cdb(0x6e5)]>0x0?_0x3fa624[_0x905cdb(0x25a)](',\x20'):_0x905cdb(0x873))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x5960a2[_0x905cdb(0x6e5)]+_0x905cdb(0x321)+(_0x5960a2[_0x905cdb(0x6e5)]>0x0?_0x5960a2[_0x905cdb(0x25a)](',\x20'):'ไม่มี')+_0x905cdb(0x5be)+_0x3c2f45+_0x905cdb(0x5c7)+_0xcf93c9+_0x905cdb(0x2a6);}),_0x72c098[_0xdcc9ee(0x368)]=_0x43347c+_0x32bc70;try{window[_0xdcc9ee(0x8cc)]&&MathJax[_0xdcc9ee(0x4c3)]&&MathJax[_0xdcc9ee(0x4c3)]([_0x72c098]);}catch(_0x3c2176){console[_0xdcc9ee(0x316)]('MathJax\x20typeset\x20error\x20(analytics):',_0x3c2176);}}function calculateDistractorAnalysis(_0x440482,_0x2c8051){const _0x32291b=_0x389ace,_0x18685a={};if(_0x2c8051[_0x32291b(0x6e5)]<0x2)return _0x18685a;const _0x34c27f=[..._0x2c8051][_0x32291b(0x91f)]((_0x5492a8,_0x35ab5d)=>{const _0x324535=_0x32291b,_0x41b8d9=_0x35ab5d[_0x324535(0x2ac)]-_0x5492a8[_0x324535(0x2ac)];if(_0x41b8d9!==0x0)return _0x41b8d9;const _0x43b1de=_0x5492a8[_0x324535(0x523)]?.[_0x324535(0x6e5)]||0x1,_0x3bdd73=_0x35ab5d[_0x324535(0x523)]?.['length']||0x1,_0x3fa7d8=_0x43b1de-_0x3bdd73;if(_0x3fa7d8!==0x0)return _0x3fa7d8;const _0x35e858=new Date(_0x5492a8[_0x324535(0x400)]),_0x16d5c2=new Date(_0x35ab5d[_0x324535(0x400)]),_0x48aa6b=_0x35e858-_0x16d5c2;if(_0x48aa6b!==0x0)return _0x48aa6b;return _0x5492a8[_0x324535(0x3c0)][_0x324535(0x3c6)](_0x35ab5d[_0x324535(0x3c0)],'th');}),_0x7aeefd=_0x34c27f[_0x32291b(0x6e5)],_0xa1325a=Math['max'](0x1,Math['floor'](_0x7aeefd*0.33)),_0x378f61=_0x34c27f[_0x32291b(0x41d)](0x0,_0xa1325a),_0x59faea=_0x34c27f[_0x32291b(0x41d)](-_0xa1325a);return _0x440482['questions'][_0x32291b(0x502)]((_0x4c008c,_0x374d77)=>{const _0x3c829b=_0x32291b;if(_0x4c008c[_0x3c829b(0x651)]!=='multiple_choice'||!_0x4c008c['options'])return;const _0x50e6f0=_0x4c008c['questionText'],_0xa079f4={};_0x4c008c[_0x3c829b(0x237)]['forEach']((_0x3d8df9,_0x10fdff)=>{_0xa079f4[_0x10fdff]={'text':_0x3d8df9,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x34c27f[_0x3c829b(0x502)](_0x3fc832=>{const _0x1dc9a2=_0x3c829b,_0x5218e3=_0x3fc832[_0x1dc9a2(0x523)][_0x3fc832[_0x1dc9a2(0x523)][_0x1dc9a2(0x6e5)]-0x1],_0xc0ded1=_0x5218e3[_0x1dc9a2(0x54e)][_0x1dc9a2(0x304)](_0x23030f=>_0x23030f[_0x1dc9a2(0x44d)]===_0x50e6f0);if(_0xc0ded1&&_0xc0ded1['answer']!==null){const _0x2a9dd8=_0x4c008c[_0x1dc9a2(0x237)][_0x1dc9a2(0x834)](_0x1f0d2a=>_0x1f0d2a===_0xc0ded1[_0x1dc9a2(0x78b)]);_0x2a9dd8!==-0x1&&_0xa079f4[_0x2a9dd8]&&(_0xa079f4[_0x2a9dd8][_0x1dc9a2(0x7c4)]++,_0x378f61[_0x1dc9a2(0x821)](_0x3fc832)&&_0xa079f4[_0x2a9dd8]['upper_group_count']++,_0x59faea['includes'](_0x3fc832)&&_0xa079f4[_0x2a9dd8][_0x1dc9a2(0x1bf)]++);}}),_0x18685a[_0x374d77]=_0xa079f4;}),_0x18685a;}function calculateReliabilityKR20(_0x1c9d6e,_0x4e491a,_0x123344){const _0x4977e5=_0x389ace,_0x546d40=_0x1c9d6e[_0x4977e5(0x47a)][_0x4977e5(0x6e5)];if(_0x546d40<0x2||_0x4e491a['length']<0x2)return null;const _0x4d7c8c=_0x4e491a[_0x4977e5(0x749)](_0x178a6f=>_0x178a6f[_0x4977e5(0x2ac)]),_0x5a8750=_0x4d7c8c[_0x4977e5(0x7e8)]((_0x221d93,_0x19b18e)=>_0x221d93+_0x19b18e,0x0)/_0x4d7c8c['length'],_0x2d1477=_0x4d7c8c['map'](_0x3e7cdd=>Math[_0x4977e5(0x497)](_0x3e7cdd-_0x5a8750,0x2))[_0x4977e5(0x7e8)]((_0x2a08af,_0x172408)=>_0x2a08af+_0x172408,0x0)/_0x4d7c8c[_0x4977e5(0x6e5)];if(_0x2d1477===0x0)return null;let _0x278c98=0x0;for(let _0x239b85=0x0;_0x239b85<_0x546d40;_0x239b85++){const _0x1359dc=_0x123344[_0x239b85]?.['p'];if(_0x1359dc===undefined)continue;const _0x409d6d=0x1-_0x1359dc;_0x278c98+=_0x1359dc*_0x409d6d;}if(_0x278c98===0x0)return null;const _0x53d15e=_0x546d40/(_0x546d40-0x1)*(0x1-_0x278c98/_0x2d1477);if(_0x53d15e>0x1)return null;return _0x53d15e;}async function handleAnalyzeClass(){const _0x19c7a7=_0x389ace;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x19c7a7(0x63c));return;}const _0x2a7572=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x19c7a7(0x929)),_0x4ac0d5=await getDocs(_0x2a7572),_0x188e72=_0x4ac0d5[_0x19c7a7(0x768)]['map'](_0x1ab55f=>_0x1ab55f[_0x19c7a7(0x47e)]());if(_0x188e72[_0x19c7a7(0x6e5)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x4b0045=document['getElementById'](_0x19c7a7(0x817));_0x4b0045[_0x19c7a7(0x368)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x19c7a7(0x3c4)](_0x19c7a7(0x8b7))[_0x19c7a7(0x2d5)]=!![];const _0x293970=_0x188e72[_0x19c7a7(0x749)]((_0x31458d,_0x4d9b74)=>{const _0x5d08e5=_0x19c7a7,_0x4fc08c=_0x31458d[_0x5d08e5(0x523)][_0x31458d['attempts'][_0x5d08e5(0x6e5)]-0x1];if(!_0x4fc08c)return'';return _0x5d08e5(0x2be)+(_0x4d9b74+0x1)+'\x20('+_0x31458d[_0x5d08e5(0x3c0)]+_0x5d08e5(0x6b7)+_0x4fc08c[_0x5d08e5(0x84d)]+'/'+_0x31458d[_0x5d08e5(0x8ec)]+_0x5d08e5(0x542)+JSON['stringify'](_0x4fc08c[_0x5d08e5(0x54e)])+_0x5d08e5(0x1dc);})[_0x19c7a7(0x25a)](_0x19c7a7(0x912)),_0x1ba307=_0x19c7a7(0x363)+currentQuizData[_0x19c7a7(0x3d0)]+_0x19c7a7(0x111)+JSON['stringify'](currentQuizData[_0x19c7a7(0x47a)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x293970+_0x19c7a7(0x903),_0x487135={'type':_0x19c7a7(0xa07),'properties':{'classStrengths':{'type':_0x19c7a7(0x127),'items':{'type':_0x19c7a7(0x966)}},'classWeaknesses':{'type':_0x19c7a7(0x127),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x19c7a7(0x127),'items':{'type':_0x19c7a7(0x966)}}},'required':[_0x19c7a7(0x2e7),_0x19c7a7(0x65b),'teacherSuggestions']};try{const _0x52ab1c=await callAnalysisApi(_0x1ba307,_0x487135);displayClassAnalysis(_0x52ab1c);}catch(_0x104bbd){console[_0x19c7a7(0x316)](_0x19c7a7(0x641),_0x104bbd),_0x4b0045[_0x19c7a7(0x368)]=_0x19c7a7(0x7db)+_0x104bbd['message']+_0x19c7a7(0x719);}finally{document['getElementById'](_0x19c7a7(0x8b7))[_0x19c7a7(0x2d5)]=![];}}function displayClassAnalysis(_0x3c654f){const _0x4d0892=_0x389ace,_0xc5d75=document['getElementById'](_0x4d0892(0x817));if(!_0x3c654f){_0xc5d75[_0x4d0892(0x368)]=_0x4d0892(0x285);return;}_0xc5d75[_0x4d0892(0x368)]=_0x4d0892(0x759)+_0x3c654f[_0x4d0892(0x2e7)][_0x4d0892(0x749)](_0x16970c=>_0x4d0892(0x311)+_0x16970c+_0x4d0892(0x4b7))[_0x4d0892(0x25a)]('')+_0x4d0892(0x5cd)+_0x3c654f['classWeaknesses'][_0x4d0892(0x749)](_0x3812e2=>'<li>'+_0x3812e2+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c654f['teacherSuggestions']['map'](_0x3e9069=>'<li>'+_0x3e9069+_0x4d0892(0x4b7))[_0x4d0892(0x25a)]('')+_0x4d0892(0x232);}function formatAndPrintWorksheet(_0x51a729,_0x53f815){const _0x3d2aab=_0x389ace,_0x5868f4=_0x3d2aab(0x5ad)+_0x51a729[_0x3d2aab(0x3d0)]+_0x3d2aab(0x433)+_0x51a729[_0x3d2aab(0x3d0)]+_0x3d2aab(0x3b1)+_0x51a729[_0x3d2aab(0x47a)][_0x3d2aab(0x749)]((_0x1d2b79,_0x276736)=>_0x3d2aab(0x300)+(_0x276736+0x1)+'.\x20'+_0x1d2b79[_0x3d2aab(0x47b)]+_0x3d2aab(0x714)+(_0x1d2b79[_0x3d2aab(0x7fd)]?_0x3d2aab(0x186)+_0x1d2b79['imageCode']+_0x3d2aab(0x58d):'')+_0x3d2aab(0x5fb))[_0x3d2aab(0x25a)]('')+_0x3d2aab(0x8e4);_0x53f815[_0x3d2aab(0x9f8)][_0x3d2aab(0x825)](_0x5868f4),_0x53f815['document'][_0x3d2aab(0x6f6)](),_0x53f815['onload']=function(){setTimeout(()=>{const _0x23fb0d=_0x51de;_0x53f815[_0x23fb0d(0x90b)]();},0x3e8);};}async function generateWorksheet(){const _0x219ca1=_0x389ace,_0x5b4a4f=document[_0x219ca1(0x3c4)]('worksheet-topic-input')[_0x219ca1(0x213)]['trim']();if(!_0x5b4a4f){showMessage(_0x219ca1(0x2e2));return;}const _0x1988fb=document[_0x219ca1(0x3c4)](_0x219ca1(0x82e))[_0x219ca1(0x2cd)],_0x444c76=_0x1988fb?'':_0x219ca1(0x733),_0x315f3f=window[_0x219ca1(0x1c2)]('',_0x219ca1(0x16d));_0x315f3f[_0x219ca1(0x9f8)]['write'](_0x219ca1(0x137));const _0x3d4d08=parseInt(document[_0x219ca1(0x3c4)]('num-questions')[_0x219ca1(0x213)]),_0x5233f5=document[_0x219ca1(0x3c4)](_0x219ca1(0x2ba))[_0x219ca1(0x2cd)],_0x555d87=_0x5233f5?_0x219ca1(0x3a7):'',_0x5e2eaf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x444c76+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x3d4d08+_0x219ca1(0x263)+_0x5b4a4f+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x555d87+_0x219ca1(0xa14)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x4e0508={'type':'OBJECT','properties':{'topic':{'type':_0x219ca1(0x966)},'questions':{'type':_0x219ca1(0x127),'items':{'type':_0x219ca1(0xa07),'properties':{'questionText':{'type':_0x219ca1(0x966)},'imageCode':{'type':_0x219ca1(0x966)}},'required':[_0x219ca1(0x47b)]}}},'required':[_0x219ca1(0x3d0),_0x219ca1(0x47a)]};document['getElementById'](_0x219ca1(0x59a))['textContent']='',document[_0x219ca1(0x3c4)](_0x219ca1(0x432))[_0x219ca1(0x469)]['remove'](_0x219ca1(0x5ec)),document[_0x219ca1(0x3c4)](_0x219ca1(0x431))[_0x219ca1(0x469)]['remove'](_0x219ca1(0x5ec)),generateWorksheetBtn[_0x219ca1(0x2d5)]=!![];try{const _0x48f9a8=await callAnalysisApi(_0x5e2eaf,_0x4e0508);formatAndPrintWorksheet(_0x48f9a8,_0x315f3f);}catch(_0x166a33){console[_0x219ca1(0x316)](_0x219ca1(0x313),_0x166a33);if(_0x315f3f)_0x315f3f[_0x219ca1(0x6f6)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById'](_0x219ca1(0x432))[_0x219ca1(0x469)][_0x219ca1(0x711)]('hidden'),document['getElementById'](_0x219ca1(0x431))[_0x219ca1(0x469)][_0x219ca1(0x711)](_0x219ca1(0x5ec)),generateWorksheetBtn[_0x219ca1(0x2d5)]=![];}}async function callAnalysisApi(_0x188f07,_0x2aae05){const _0x48cdbb=_0x389ace,_0x20908a={'contents':[{'role':_0x48cdbb(0x64d),'parts':[{'text':_0x188f07}]}],'generationConfig':{'responseMimeType':_0x48cdbb(0x5d7),'responseSchema':_0x2aae05}},_0x2231eb='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x547d21=_0x48cdbb(0x52e)+_0x2231eb,_0x4182e2=await fetch(_0x547d21,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x48cdbb(0x2ce)](_0x20908a)});if(!_0x4182e2['ok'])throw new Error(_0x48cdbb(0x77c)+_0x4182e2['status']);const _0x56acc6=await _0x4182e2[_0x48cdbb(0x21e)]();if(_0x56acc6[_0x48cdbb(0x601)]?.[0x0]?.[_0x48cdbb(0x537)]?.[_0x48cdbb(0x416)]?.[0x0])return JSON[_0x48cdbb(0x6b9)](_0x56acc6[_0x48cdbb(0x601)][0x0][_0x48cdbb(0x537)]['parts'][0x0][_0x48cdbb(0x770)]);else{let _0x9456ad='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x56acc6[_0x48cdbb(0x90a)]?.[_0x48cdbb(0x843)])_0x9456ad=_0x48cdbb(0x459)+_0x56acc6[_0x48cdbb(0x90a)][_0x48cdbb(0x843)]+'.';else _0x56acc6['candidates']?.[0x0]?.[_0x48cdbb(0x1f9)]&&_0x56acc6[_0x48cdbb(0x601)][0x0][_0x48cdbb(0x1f9)]!=='STOP'&&(_0x9456ad=_0x48cdbb(0x7d0)+_0x56acc6[_0x48cdbb(0x601)][0x0][_0x48cdbb(0x1f9)]+'.');console[_0x48cdbb(0x316)](_0x9456ad,JSON['stringify'](_0x56acc6));throw new Error(_0x9456ad);}}async function handleStartSyncMode(_0x583d51,_0x559feb=![]){const _0x57bb88=_0x389ace,_0x4d27ea=allQuizzes[_0x57bb88(0x304)](_0x3d0731=>_0x3d0731['id']===_0x583d51)||allQuizzesGlobal['find'](_0x36687f=>_0x36687f['id']===_0x583d51);if(!_0x4d27ea){showMessage(_0x57bb88(0x75b));return;}currentQuizData=getShuffledQuiz(_0x4d27ea);const _0x1706c0=Math['floor'](0x3e8+Math[_0x57bb88(0xa27)]()*0x2328)[_0x57bb88(0x1fe)]();try{const _0x18ef7a=await addDoc(collection(db,_0x57bb88(0x5a5)+appId+'/public/data/syncGames'),{'quizId':_0x4d27ea['id'],'pin':_0x1706c0,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x559feb,'players':{}});currentLiveGameId=_0x18ef7a['id'],showView(_0x57bb88(0x831)),renderSyncLobbyView(_0x1706c0,_0x4d27ea['topic']),listenForSyncGameUpdates();}catch(_0x2502a5){console[_0x57bb88(0x316)](_0x57bb88(0x973),_0x2502a5),showMessage(_0x57bb88(0x693));}}function calculateFinalPodiumScores(_0x2a0cc4){const _0x26b607=_0x389ace;if(!_0x2a0cc4||!_0x2a0cc4['shuffledQuiz']||!_0x2a0cc4[_0x26b607(0x511)])return _0x2a0cc4[_0x26b607(0x511)]||{};const _0x4b151c=_0x2a0cc4[_0x26b607(0x1df)]['questions']['length'],_0x3d97a8=JSON[_0x26b607(0x6b9)](JSON[_0x26b607(0x2ce)](_0x2a0cc4[_0x26b607(0x511)]));return Object[_0x26b607(0x2da)](_0x3d97a8)[_0x26b607(0x502)](_0x1ce894=>{const _0x3aa1ce=_0x26b607,_0x50251e=_0x1ce894[_0x3aa1ce(0x84d)];let _0x1c5f89=0x0;_0x2a0cc4[_0x3aa1ce(0x96a)]&&_0x1ce894[_0x3aa1ce(0x54e)]&&_0x1ce894[_0x3aa1ce(0x54e)][_0x3aa1ce(0x502)](_0xd3ce9c=>{const _0x10cce1=_0x3aa1ce;if(_0xd3ce9c[_0x10cce1(0x988)]&&_0xd3ce9c[_0x10cce1(0x11d)])_0x1c5f89+=0x1;else!_0xd3ce9c[_0x10cce1(0x988)]&&_0xd3ce9c['wasConfident']&&(_0x1c5f89-=0x1);}),_0x1ce894['score']=_0x50251e+_0x1c5f89,_0x4b151c>0x0&&_0x50251e===_0x4b151c&&(_0x1ce894[_0x3aa1ce(0x84d)]+=0x1,_0x1ce894[_0x3aa1ce(0x43e)]=!![]);}),_0x3d97a8;}function listenForSyncGameUpdates(){const _0x1fd6ce=_0x389ace;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1cc2cd=doc(db,_0x1fd6ce(0x5a5)+appId+_0x1fd6ce(0x29e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1cc2cd,_0x3d7fa6=>{const _0x3262aa=_0x1fd6ce;if(!_0x3d7fa6[_0x3262aa(0x446)]()){sessionStorage[_0x3262aa(0x833)](_0x3262aa(0x8f5));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x3262aa(0x74e)),showView(currentMode==='admin'?_0x3262aa(0x9e8):_0x3262aa(0x287));return;}const _0x49bcb2=_0x3d7fa6[_0x3262aa(0x47e)]();currentMode===_0x3262aa(0x622)?updateAdminSyncView(_0x49bcb2):updateStudentSyncView(_0x49bcb2);});}function renderSyncLobbyView(_0x3c26f7,_0x4e6442){const _0x162655=_0x389ace;liveGameView['innerHTML']=_0x162655(0x604)+_0x4e6442+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3c26f7+_0x162655(0x813);const _0x2d63bd=document[_0x162655(0x3c4)]('confidence-scoring-toggle'),_0x51cc8c=document[_0x162655(0x3c4)](_0x162655(0x7d1));_0x2d63bd[_0x162655(0x199)](_0x162655(0x88b),()=>{const _0x397283=_0x162655;_0x51cc8c[_0x397283(0x527)][_0x397283(0xa23)]=_0x2d63bd[_0x397283(0x2cd)]?'block':_0x397283(0x2f0);}),document['getElementById']('start-sync-game-btn')[_0x162655(0x199)](_0x162655(0x548),async()=>{const _0x3d1c2a=_0x162655,_0x39b4f1=doc(db,'artifacts/'+appId+_0x3d1c2a(0x29e),currentLiveGameId),_0x132d4f=document[_0x3d1c2a(0x3c4)](_0x3d1c2a(0x5b0))['checked'];await updateDoc(_0x39b4f1,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x132d4f});});}function updateAdminSyncView(_0x6bd7f1){const _0x8de16f=_0x389ace;switch(_0x6bd7f1[_0x8de16f(0x933)]){case _0x8de16f(0x9d9):renderSyncLobbyView(_0x6bd7f1[_0x8de16f(0x33e)],_0x6bd7f1[_0x8de16f(0x1df)][_0x8de16f(0x3d0)]);const _0x33a18f=Object[_0x8de16f(0x94d)](_0x6bd7f1[_0x8de16f(0x511)]||{})['filter'](([_0x48e029,_0x306b40])=>_0x306b40[_0x8de16f(0x933)]!==_0x8de16f(0x2c6));document['getElementById'](_0x8de16f(0x17b))['textContent']=_0x33a18f[_0x8de16f(0x6e5)],document[_0x8de16f(0x3c4)](_0x8de16f(0x340))[_0x8de16f(0x368)]=_0x33a18f[_0x8de16f(0x749)](([_0x4fddca,_0x14d32d])=>_0x8de16f(0x14f)+_0x4fddca+_0x8de16f(0x9b2)+_0x4fddca+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x8de16f(0x25a)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x8de16f(0x3c4)](_0x8de16f(0x37f))[_0x8de16f(0x2d5)]=_0x33a18f[_0x8de16f(0x6e5)]===0x0;break;case _0x8de16f(0xa08):const _0x219feb=Object[_0x8de16f(0x2da)](_0x6bd7f1[_0x8de16f(0x511)]||{})[_0x8de16f(0x573)](_0x443554=>_0x443554[_0x8de16f(0x933)]!==_0x8de16f(0x2c6)),_0x1300b8=_0x219feb[_0x8de16f(0x573)](_0x3d6d5d=>_0x3d6d5d[_0x8de16f(0x384)])[_0x8de16f(0x6e5)],_0x3015cd=_0x1300b8===_0x219feb['length']&&_0x219feb[_0x8de16f(0x6e5)]>0x0;if(_0x3015cd&&_0x6bd7f1[_0x8de16f(0x933)]===_0x8de16f(0xa08)){const _0x1f1332=doc(db,_0x8de16f(0x5a5)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x1f1332,{'status':'summary'});}else{if(document[_0x8de16f(0x3c4)](_0x8de16f(0x80d))===null)renderAdminSyncQuestionView(_0x6bd7f1);else{const _0x2e62ec=document[_0x8de16f(0x3c4)](_0x8de16f(0x97e));_0x2e62ec&&(_0x2e62ec[_0x8de16f(0x60f)]=_0x1300b8+'/'+_0x219feb['length']);const _0x4528a5=document['getElementById']('sync-player-list');_0x4528a5&&(_0x4528a5['innerHTML']=_0x219feb[_0x8de16f(0x749)](_0x555c56=>{const _0xe4ee88=_0x8de16f,_0x3ecaee=_0x555c56[_0xe4ee88(0x384)]?_0xe4ee88(0x1a2):_0xe4ee88(0x31c),_0x5425e1=_0x555c56[_0xe4ee88(0x384)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0xe4ee88(0x235);return _0xe4ee88(0x99c)+_0x3ecaee+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5425e1+_0xe4ee88(0x265)+_0x555c56[_0xe4ee88(0x37b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x555c56['name']+_0xe4ee88(0x20c);})['join'](''));}}break;case _0x8de16f(0x942):const _0x3ac467=_0x6bd7f1['currentQuestionIndex'],_0x476042=_0x6bd7f1[_0x8de16f(0x1df)][_0x8de16f(0x47a)][_0x3ac467];renderSyncSummaryView(_0x6bd7f1,_0x476042,!![]);break;case _0x8de16f(0xa16):renderAdminSyncDashboard(_0x6bd7f1,!![]);break;case'podium':_0x6bd7f1[_0x8de16f(0x799)]&&saveGameResultsAsSubmissions(_0x6bd7f1);sessionStorage[_0x8de16f(0x833)](_0x8de16f(0x8f5));const _0x2538f2=calculateFinalPodiumScores(_0x6bd7f1);showPodiumView(_0x2538f2,_0x8de16f(0x631));break;}}function renderAdminSyncQuestionView(_0x205182){const _0x5b9aca=_0x389ace,_0x52c5b7=_0x205182['currentQuestionIndex'],_0x1d6581=_0x205182['shuffledQuiz'][_0x5b9aca(0x47a)][_0x52c5b7],_0x345661=_0x205182[_0x5b9aca(0x1df)]['questions'][_0x5b9aca(0x6e5)],_0x16466a=Object[_0x5b9aca(0x2da)](_0x205182['players']||{})[_0x5b9aca(0x573)](_0x4994f3=>_0x4994f3[_0x5b9aca(0x933)]!==_0x5b9aca(0x2c6)),_0x490792=_0x16466a[_0x5b9aca(0x573)](_0xb348b5=>_0xb348b5[_0x5b9aca(0x384)])['length'],_0x5962a5=_0x490792===_0x16466a[_0x5b9aca(0x6e5)]&&_0x16466a[_0x5b9aca(0x6e5)]>0x0,_0x566660=(_0x1d6581['options']||[])['map'](_0x134c8b=>_0x5b9aca(0x3c3)+_0x134c8b+_0x5b9aca(0x58d))[_0x5b9aca(0x25a)]('');liveGameView['innerHTML']=_0x5b9aca(0x58b)+(_0x52c5b7+0x1)+_0x5b9aca(0x3ff)+_0x345661+_0x5b9aca(0x7a8)+_0x490792+'/'+_0x16466a[_0x5b9aca(0x6e5)]+_0x5b9aca(0x569)+_0x1d6581[_0x5b9aca(0x47b)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x566660+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x5962a5?'disabled':'')+_0x5b9aca(0x338);if(window[_0x5b9aca(0x8cc)])MathJax[_0x5b9aca(0x4c3)]();document[_0x5b9aca(0x3c4)](_0x5b9aca(0x2d1))[_0x5b9aca(0x199)]('click',async()=>{const _0x42886=_0x5b9aca,_0x95dbbf=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x95dbbf,{'status':_0x42886(0xa16)});}),document['getElementById'](_0x5b9aca(0x8d0))[_0x5b9aca(0x39d)]=()=>{const _0x54186c=_0x5b9aca;openScratchpad(_0x1d6581,_0x1d6581[_0x54186c(0x237)]||[]);},document[_0x5b9aca(0x3c4)](_0x5b9aca(0x565))[_0x5b9aca(0x199)](_0x5b9aca(0x548),()=>{const _0x1f698e=_0x5b9aca;document['getElementById'](_0x1f698e(0x80d))[_0x1f698e(0x469)]['toggle']('hidden');});}function renderSyncLeaderboardView(_0x113b74,_0x2d0627){const _0x150a5b=_0x389ace,_0x3a8547=Object[_0x150a5b(0x2da)](_0x113b74[_0x150a5b(0x511)]||{});_0x3a8547[_0x150a5b(0x91f)]((_0x24f60c,_0xa54860)=>_0xa54860['score']-_0x24f60c['score']);const _0x363b2=_0x3a8547[_0x150a5b(0x41d)](0x0,0x5);let _0x965d78='';if(_0x2d0627){const _0x4d168d=_0x113b74['currentQuestionIndex']>=_0x113b74[_0x150a5b(0x1df)][_0x150a5b(0x47a)][_0x150a5b(0x6e5)]-0x1;_0x965d78=_0x150a5b(0x947)+(_0x4d168d?_0x150a5b(0x1ec):_0x150a5b(0x729))+_0x150a5b(0x86a);}else _0x965d78=_0x150a5b(0x79b);liveGameView[_0x150a5b(0x368)]=_0x150a5b(0x435)+_0x363b2[_0x150a5b(0x749)]((_0x46fbe4,_0x69de88)=>_0x150a5b(0x14e)+(_0x69de88+0x1)+'.\x20'+_0x46fbe4['name']+_0x150a5b(0x890)+_0x46fbe4[_0x150a5b(0x84d)]+'</span></div>')[_0x150a5b(0x25a)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x965d78+_0x150a5b(0x82a),_0x2d0627&&document[_0x150a5b(0x3c4)](_0x150a5b(0x3c8))[_0x150a5b(0x199)](_0x150a5b(0x548),async()=>{const _0x835366=_0x150a5b,_0x3630c5=doc(db,_0x835366(0x5a5)+appId+_0x835366(0x29e),currentLiveGameId),_0x5326dd=_0x113b74[_0x835366(0x169)]+0x1;if(_0x5326dd<_0x113b74[_0x835366(0x1df)][_0x835366(0x47a)][_0x835366(0x6e5)]){const _0x3231ef={};Object['keys'](_0x113b74[_0x835366(0x511)])[_0x835366(0x502)](_0x114941=>{const _0x3af74e=_0x835366;_0x3231ef[_0x3af74e(0x562)+_0x114941+_0x3af74e(0x1ef)]=![];}),await updateDoc(_0x3630c5,{..._0x3231ef,'status':'question','currentQuestionIndex':_0x5326dd,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3630c5,{'status':_0x835366(0x430)});});}async function handleJoinSyncGame(){const _0x358bfc=_0x389ace,_0x2a5d34=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x2a5d34||_0x2a5d34[_0x358bfc(0x7f5)]()['length']!==0x2){showMessage(_0x358bfc(0x69f));return;}try{const _0x4a734a=collection(db,'artifacts/'+appId+_0x358bfc(0x29e)),_0x95277c=query(_0x4a734a,where(_0x358bfc(0x33e),'==',_0x2a5d34[_0x358bfc(0x7f5)]()),where('status','==',_0x358bfc(0x9d9))),_0x73245e=await getDocs(_0x95277c);if(_0x73245e[_0x358bfc(0x8c5)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x71f700=_0x73245e['docs'][0x0];currentLiveGameId=_0x71f700['id'];const _0x1499e3=_0x71f700[_0x358bfc(0x47e)](),_0x170ed8=doc(db,'artifacts/'+appId+_0x358bfc(0x405),_0x1499e3[_0x358bfc(0x21c)]),_0x4dc766=await getDoc(_0x170ed8);if(!_0x4dc766[_0x358bfc(0x446)]())throw new Error(_0x358bfc(0x42a));const _0x1f574b=_0x4dc766['data'](),_0x5c1f73=doc(db,_0x358bfc(0x5a5)+appId+_0x358bfc(0x42b),_0x1f574b[_0x358bfc(0x7a0)]),_0xf3dcaf=await getDoc(_0x5c1f73);if(!_0xf3dcaf[_0x358bfc(0x446)]())throw new Error(_0x358bfc(0x898));currentQuizData=_0x1499e3[_0x358bfc(0x1df)];const _0x28f0b2=_0xf3dcaf[_0x358bfc(0x47e)]();showView(_0x358bfc(0x1ca)),showTeamPlayerSelection(_0x28f0b2['students'],_0x1f574b[_0x358bfc(0x3d0)]);const _0x14f58d=document[_0x358bfc(0x3c4)](_0x358bfc(0x7ad));_0x14f58d['onclick']=confirmAndJoinSyncGame;}catch(_0xd44dd3){console['error'](_0x358bfc(0x335),_0xd44dd3),showMessage(_0x358bfc(0x26f)+_0xd44dd3['message']);}}function updateStudentSyncView(_0x4d228d){const _0x2fbfa8=_0x389ace,_0xcde56c=_0x4d228d[_0x2fbfa8(0x511)][localTeamPlayers[0x0]];switch(_0x4d228d[_0x2fbfa8(0x933)]){case'lobby':showView(_0x2fbfa8(0x831)),liveGameView['innerHTML']=_0x2fbfa8(0x357);break;case _0x2fbfa8(0xa08):const _0x2d89e4=localTeamPlayers[_0x2fbfa8(0x6ce)](_0xa12ba6=>_0x4d228d[_0x2fbfa8(0x511)][_0xa12ba6]?.['answered']===!![]);_0x2d89e4?liveGameView[_0x2fbfa8(0x368)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x4d228d);break;case _0x2fbfa8(0x942):liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2fbfa8(0xa16):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x4d228d);break;case _0x2fbfa8(0x430):sessionStorage[_0x2fbfa8(0x833)](_0x2fbfa8(0x8f5));const _0x464307=calculateFinalPodiumScores(_0x4d228d);showPodiumView(_0x464307,_0x2fbfa8(0x631));break;}}function renderStudentSyncResultsView(_0x57a33a){const _0x3aa05a=_0x389ace,_0x2cd802=localTeamPlayers[_0x3aa05a(0x749)](_0x5940d7=>_0x57a33a[_0x3aa05a(0x511)][_0x5940d7])[_0x3aa05a(0x573)](Boolean);_0x2cd802[_0x3aa05a(0x91f)]((_0xf952ed,_0x5adc50)=>(_0x5adc50[_0x3aa05a(0x84d)]||0x0)-(_0xf952ed[_0x3aa05a(0x84d)]||0x0));const _0x4c7bc4=_0x57a33a[_0x3aa05a(0x169)]>=_0x57a33a[_0x3aa05a(0x1df)][_0x3aa05a(0x47a)][_0x3aa05a(0x6e5)]-0x1;let _0x2d99f1='';_0x4c7bc4?_0x2d99f1='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x2d99f1=_0x3aa05a(0x773);const _0x2b7b84=_0x3aa05a(0x123)+_0x2cd802[_0x3aa05a(0x749)]((_0x11bba4,_0x350693)=>_0x3aa05a(0x1f1)+(_0x350693+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x11bba4[_0x3aa05a(0x37b)]+_0x3aa05a(0x9ce)+_0x11bba4[_0x3aa05a(0x84d)]+_0x3aa05a(0x905))[_0x3aa05a(0x25a)]('')+_0x3aa05a(0x547)+_0x2d99f1+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3aa05a(0x368)]=_0x2b7b84;}function renderStudentSyncQuestionView(_0x1e49ca){const _0x115098=_0x389ace;while(localPlayerTurnIndex<localTeamPlayers[_0x115098(0x6e5)]&&_0x1e49ca[_0x115098(0x511)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x115098(0x384)]===!![]){localPlayerTurnIndex++;}const _0x47922c=localTeamPlayers[localPlayerTurnIndex];if(!_0x47922c)return;const _0x415e18=_0x1e49ca[_0x115098(0x169)],_0x545b20=_0x1e49ca[_0x115098(0x1df)][_0x115098(0x47a)][_0x115098(0x6e5)],_0x2e9fc7=_0x1e49ca['shuffledQuiz'][_0x115098(0x47a)][_0x415e18],_0xed0f3f=_0x2e9fc7[_0x115098(0x651)]||_0x1e49ca[_0x115098(0x1df)][_0x115098(0x8f1)];let _0x4f56f1='',_0x5e26d1=![];switch(_0xed0f3f){case _0x115098(0x327):_0x4f56f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22true\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22false\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x115098(0x8a8):case _0x115098(0x66b):_0x5e26d1=!![],_0x4f56f1=_0x115098(0x6d7);break;case _0x115098(0x5a6):_0x5e26d1=!![],_0x4f56f1=_0x115098(0x6c9)+(_0x2e9fc7[_0x115098(0x341)]||[])['map'](_0x39e411=>_0x115098(0x5d5)+_0x39e411+'\x22>'+_0x39e411+_0x115098(0x95d))['join']('')+_0x115098(0x7b1);break;case'multiple_choice':default:_0x4f56f1=(_0x2e9fc7['options']||[])[_0x115098(0x749)]((_0x562b11,_0x7aef92)=>_0x115098(0x751)+_0x7aef92+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x562b11+'</button>')['join']('');break;}liveGameView[_0x115098(0x368)]=_0x115098(0x457)+(_0x415e18+0x1)+_0x115098(0x3ff)+_0x545b20+_0x115098(0x9d4)+_0x47922c+_0x115098(0x429)+(_0x2e9fc7[_0x115098(0x47b)]||_0x2e9fc7['stem'])+_0x115098(0x122)+_0x4f56f1+_0x115098(0x635);if(window[_0x115098(0x8cc)])MathJax[_0x115098(0x4c3)]();const _0x4fba3d=_0x1e202c=>{const _0x38af6a=_0x115098;_0x1e49ca[_0x38af6a(0x96a)]?(document['getElementById'](_0x38af6a(0x883))['value']=_0x1e202c,document[_0x38af6a(0x3c4)](_0x38af6a(0x223))[_0x38af6a(0x469)][_0x38af6a(0x182)](_0x38af6a(0x5ec))):handleSyncAnswerSubmit(_0x1e202c,_0x2e9fc7,_0x1e49ca,_0x47922c,![]);};_0x5e26d1?document[_0x115098(0x3c4)](_0x115098(0x9a1))[_0x115098(0x199)](_0x115098(0x548),()=>{const _0x588721=_0x115098,_0x21c920=document[_0x588721(0x3c4)](_0x588721(0x732))||document['getElementById'](_0x588721(0x5b2));if(_0x21c920[_0x588721(0x213)][_0x588721(0x7f5)]()===''){showMessage(_0x588721(0x118));return;}_0x4fba3d(_0x21c920[_0x588721(0x213)]);}):document['querySelectorAll']('.live-answer-btn')[_0x115098(0x502)](_0x5bb17e=>{const _0x113113=_0x115098;_0x5bb17e['addEventListener'](_0x113113(0x548),()=>{const _0x21823e=_0x113113;_0x4fba3d(_0x5bb17e[_0x21823e(0x5d9)][_0x21823e(0x213)]);});});}async function handleSyncAnswerSubmit(_0x35b3f9,_0x542368,_0x50f0fc,_0x15a23c,_0xbcab9c){const _0x19e4e3=_0x389ace;document[_0x19e4e3(0x85d)](_0x19e4e3(0x990))[_0x19e4e3(0x502)](_0x65c4bc=>_0x65c4bc[_0x19e4e3(0x2d5)]=!![]);const _0x5912ee=_0x542368[_0x19e4e3(0x651)]||_0x50f0fc[_0x19e4e3(0x1df)][_0x19e4e3(0x8f1)];let _0x21f7bc=![],_0x236358=_0x35b3f9;switch(_0x5912ee){case _0x19e4e3(0x327):const _0x323494=_0x35b3f9===_0x19e4e3(0x407);_0x21f7bc=_0x323494===_0x542368[_0x19e4e3(0x9f4)],_0x236358=_0x323494?_0x19e4e3(0x59f):_0x19e4e3(0x25f);break;case _0x19e4e3(0x8a8):case _0x19e4e3(0x66b):_0x21f7bc=await gradeShortAnswer(_0x35b3f9,_0x542368);break;case _0x19e4e3(0x5a6):_0x21f7bc=_0x35b3f9===_0x542368[_0x19e4e3(0x740)];break;case _0x19e4e3(0x961):default:const _0x1fad2a=parseInt(_0x35b3f9);_0x21f7bc=_0x1fad2a===_0x542368[_0x19e4e3(0x58a)];_0x542368[_0x19e4e3(0x237)]&&_0x542368[_0x19e4e3(0x237)][_0x1fad2a]&&(_0x236358=_0x542368['options'][_0x1fad2a]);break;}const _0x2d0ce3=_0x21f7bc?0x1:0x0,_0x4ecd0b=doc(db,_0x19e4e3(0x5a5)+appId+_0x19e4e3(0x29e),currentLiveGameId),_0x387b15={};_0x387b15['players.'+_0x15a23c+_0x19e4e3(0x3d2)]=increment(_0x2d0ce3),_0x387b15['players.'+_0x15a23c+_0x19e4e3(0x1ef)]=!![],_0x387b15[_0x19e4e3(0x562)+_0x15a23c+_0x19e4e3(0x494)]=_0x5912ee===_0x19e4e3(0x961)?parseInt(_0x35b3f9):null;const _0x4b0884={'questionIndex':_0x50f0fc[_0x19e4e3(0x169)],'questionId':_0x542368['id'],'answer':_0x35b3f9,'answerText':_0x236358,'isCorrect':_0x21f7bc,'originalQuestionText':_0x542368['questionText']||_0x542368[_0x19e4e3(0x101)],'wasConfident':_0xbcab9c};_0x387b15[_0x19e4e3(0x562)+_0x15a23c+_0x19e4e3(0x331)]=arrayUnion(_0x4b0884),await updateDoc(_0x4ecd0b,_0x387b15);}initialize();
