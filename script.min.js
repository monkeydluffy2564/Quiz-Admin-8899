const _0x5319e2=_0x4aab;(function(_0x18f306,_0x487542){const _0x255b23=_0x4aab,_0x5c3099=_0x18f306();while(!![]){try{const _0xf3e0e8=parseInt(_0x255b23(0x9a9))/0x1*(parseInt(_0x255b23(0x188))/0x2)+-parseInt(_0x255b23(0x801))/0x3+parseInt(_0x255b23(0x6b6))/0x4+parseInt(_0x255b23(0x1e9))/0x5*(-parseInt(_0x255b23(0x79a))/0x6)+-parseInt(_0x255b23(0x78c))/0x7*(-parseInt(_0x255b23(0x5ef))/0x8)+-parseInt(_0x255b23(0x5b2))/0x9*(-parseInt(_0x255b23(0x7ab))/0xa)+-parseInt(_0x255b23(0x742))/0xb*(parseInt(_0x255b23(0x1ed))/0xc);if(_0xf3e0e8===_0x487542)break;else _0x5c3099['push'](_0x5c3099['shift']());}catch(_0x4f2b8e){_0x5c3099['push'](_0x5c3099['shift']());}}}(_0x21f8,0xbafe2));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x5319e2(0x9b4),_0x5319e2(0x619),_0x5319e2(0x85b),'เหมียวขี้เซา',_0x5319e2(0x7dd),_0x5319e2(0xb97),'โลมาบิน',_0x5319e2(0xd14),_0x5319e2(0x2ac),_0x5319e2(0x8cf),_0x5319e2(0x577),_0x5319e2(0xca9),_0x5319e2(0xe2d),_0x5319e2(0x2d9),_0x5319e2(0x7a3),_0x5319e2(0xaec),_0x5319e2(0x6da),_0x5319e2(0x911),_0x5319e2(0x3d5),'มังกรกินจุ',_0x5319e2(0x6f6),_0x5319e2(0x138),_0x5319e2(0xc26),'ไก่ฟ้าพญาลอ',_0x5319e2(0xbca),_0x5319e2(0x82c),'กระต่ายตื่นตูม',_0x5319e2(0x33f),_0x5319e2(0xcfc),_0x5319e2(0x424),_0x5319e2(0x215),_0x5319e2(0x7d8),'คนดีศรีสยาม','ดาวTikTok',_0x5319e2(0x18c),_0x5319e2(0x596),_0x5319e2(0xe52),'อินฟลูเอนเซอร์',_0x5319e2(0xd68),_0x5319e2(0x1b4),'กาแฟขม',_0x5319e2(0xd26),_0x5319e2(0x5aa),_0x5319e2(0x7ea),_0x5319e2(0xb83),'ข้าวมันไก่พิเศษ',_0x5319e2(0xb76),_0x5319e2(0x344),_0x5319e2(0x825),_0x5319e2(0x8b8),'สายตาสั้น',_0x5319e2(0x3d2),_0x5319e2(0xd33),_0x5319e2(0x668),_0x5319e2(0x7eb),_0x5319e2(0x875),_0x5319e2(0xb33),_0x5319e2(0xba8),_0x5319e2(0x1d6),_0x5319e2(0xa2c),_0x5319e2(0x9aa),_0x5319e2(0x3f6),'สายหมอก','ก้อนเมฆ',_0x5319e2(0x87f),_0x5319e2(0x31a),_0x5319e2(0xe33),_0x5319e2(0x29c),'ป่าไม้',_0x5319e2(0x535),'นักเดินทาง',_0x5319e2(0xcdf),'เกมเมอร์',_0x5319e2(0xcd0),'นักดนตรี',_0x5319e2(0x937),_0x5319e2(0x460),_0x5319e2(0xc89),_0x5319e2(0x225),_0x5319e2(0x791),'พลังคลื่นเต่า',_0x5319e2(0xcb1),'แปลงร่าง',_0x5319e2(0x68f),'ดาบพิฆาตอสูร','คาถาแยกเงาพันร่าง','ธอร์ค้อนบิน',_0x5319e2(0x1fb),_0x5319e2(0xd4f),_0x5319e2(0x960),_0x5319e2(0x406),_0x5319e2(0x1ca),_0x5319e2(0xe0f),'อกหัก','เพื่อนสนิท','คู่จิ้น','แฟนทิพย์','คนคุย',_0x5319e2(0xbe6),_0x5319e2(0xdd5)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x5319e2(0x8bd),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x5319e2(0x8bd),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x57a316=_0x5319e2;if(_0x57a316(0xca6)in navigator)try{wakeLock=await navigator['wakeLock'][_0x57a316(0xc1f)](_0x57a316(0xbea)),console[_0x57a316(0x8b1)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x57a316(0x49d)]('release',()=>{const _0x4b03f2=_0x57a316;console[_0x4b03f2(0x8b1)](_0x4b03f2(0xa3f));});}catch(_0x463e70){console[_0x57a316(0x3f8)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x463e70[_0x57a316(0x1dc)]+',\x20'+_0x463e70['message']);}else console['warn']('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x2a7b68=_0x5319e2;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x2a7b68(0xccf)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4264ec=_0x5319e2;if(!document[_0x4264ec(0x60c)][_0x4264ec(0x3d9)][_0x4264ec(0x124)](_0x4264ec(0x89b))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1b47a2=_0x4264ec;document[_0x1b47a2(0x60c)][_0x1b47a2(0x3d9)][_0x1b47a2(0x831)](_0x1b47a2(0x89b)),console[_0x1b47a2(0x8b1)](_0x1b47a2(0x1ba));},inactivityTime);}}function wakeUpScreen(_0x368859){const _0x12840e=_0x5319e2;_0x368859&&(_0x368859[_0x12840e(0x394)](),_0x368859['preventDefault']());document['body'][_0x12840e(0x3d9)][_0x12840e(0xb00)](_0x12840e(0x89b));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x594d31=_0x12840e;document[_0x594d31(0x60c)]['classList'][_0x594d31(0x831)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x10a847=_0x5319e2;if(dimTimer)clearTimeout(dimTimer);document[_0x10a847(0x60c)][_0x10a847(0x3d9)][_0x10a847(0xb00)](_0x10a847(0x89b)),window[_0x10a847(0x60a)](_0x10a847(0xa79),resetDimTimer),window[_0x10a847(0x60a)](_0x10a847(0x79e),resetDimTimer),window[_0x10a847(0x60a)](_0x10a847(0xddc),resetDimTimer),window['removeEventListener'](_0x10a847(0x345),resetDimTimer),console[_0x10a847(0x8b1)](_0x10a847(0x719));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x474e4c,_0x4b396d=![]){const _0x2729ef=_0x5319e2,_0x514f95=allQuizzes['find'](_0x149e8e=>_0x149e8e['id']===_0x474e4c)||allQuizzesGlobal[_0x2729ef(0x8af)](_0x3375f1=>_0x3375f1['id']===_0x474e4c);if(!_0x514f95){showMessage(_0x2729ef(0x76c));return;}currentQuizData=getShuffledQuiz(_0x514f95);const _0x265e32=Math[_0x2729ef(0x5d2)](0x3e8+Math[_0x2729ef(0x46d)]()*0x2328)[_0x2729ef(0xdd7)]();try{const _0x2c9d14=await addDoc(collection(db,_0x2729ef(0x555)+appId+_0x2729ef(0x39c)),{'quizId':_0x514f95['id'],'projectId':_0x514f95[_0x2729ef(0x19e)],'status':_0x2729ef(0x7c5),'pin':_0x265e32,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4b396d});currentTeamQuizId=_0x2c9d14['id'],showView(_0x2729ef(0x3fa)),renderAdminTeamQuizDashboard(_0x265e32,_0x514f95['topic']),listenForTeamQuizUpdates();}catch(_0x2a9c43){console['error'](_0x2729ef(0x3b9),_0x2a9c43),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x2c1d0e,_0x3f3e9d,_0x20aad6=_0x5319e2(0x788)){const _0x30db16=_0x5319e2,_0x2db7a1=_0x20aad6==='group'?_0x30db16(0x5ad):_0x30db16(0x2dc);liveGameView[_0x30db16(0xa19)]=_0x30db16(0x6f9)+_0x2db7a1+':\x20'+_0x3f3e9d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2c1d0e+_0x30db16(0x296),document[_0x30db16(0x6e6)]('end-team-quiz-btn')[_0x30db16(0x49d)](_0x30db16(0xa6e),async()=>{const _0x5da9c7=_0x30db16;showConfirmation(_0x5da9c7(0x318),async()=>{const _0x39a178=_0x5da9c7;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x39a178(0x555)+appId+_0x39a178(0x39c),currentTeamQuizId)),showView(_0x39a178(0x356));});});}function listenForTeamQuizUpdates(){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2fce58=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2fce58,_0x65a6=>{const _0x48b30d=_0x4aab;if(!_0x65a6['exists']()){sessionStorage[_0x48b30d(0x685)](_0x48b30d(0x909));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x48b30d(0x356)):showView('student');return;}const _0x531f75=_0x65a6[_0x48b30d(0x9cb)]();if(currentMode==='admin'){if(_0x531f75[_0x48b30d(0x9d8)]==='group'&&_0x531f75[_0x48b30d(0x626)]!==_0x48b30d(0x636)&&_0x531f75['status']!==_0x48b30d(0x796)){const _0x5088c0=Object['values'](_0x531f75[_0x48b30d(0x7e6)]||{});if(_0x5088c0[_0x48b30d(0x4f1)]>0x0){const _0x247833=_0x5088c0[_0x48b30d(0x280)](_0xd314c3=>_0xd314c3['isFinished']===!![]);_0x247833&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x531f75);}else{if(_0x531f75[_0x48b30d(0x626)]===_0x48b30d(0x636)||_0x531f75[_0x48b30d(0x626)]===_0x48b30d(0x796)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x531f75[_0x48b30d(0x9d8)]===_0x48b30d(0x664)){const _0x268c96=_0x531f75[_0x48b30d(0x7e6)][userId];(!_0x268c96||!_0x268c96[_0x48b30d(0x382)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x150241){const _0x1444f5=_0x5319e2;console[_0x1444f5(0x8b1)](_0x1444f5(0xc9d));const _0x1a7b44=doc(db,_0x1444f5(0x555)+appId+_0x1444f5(0x39c),_0x150241);try{const _0x41eeaf=await getDoc(_0x1a7b44);if(_0x41eeaf['exists']()){const _0x1fa963=_0x41eeaf[_0x1444f5(0x9cb)]();_0x1fa963[_0x1444f5(0x2fe)]&&await saveGameResultsAsSubmissions(_0x1fa963);}await updateDoc(_0x1a7b44,{'status':_0x1444f5(0x636)});}catch(_0x5b09d9){console['error'](_0x1444f5(0xae9),_0x5b09d9);}}function updateAdminTeamDashboard(_0x3b99da){const _0x5f5722=_0x5319e2,_0x595e22=document[_0x5f5722(0x6e6)](_0x5f5722(0x8c2));if(!_0x595e22)return;const _0x23f8a0=_0x3b99da['mode']||_0x5f5722(0x788),_0x3a4c5f=currentQuizData[_0x5f5722(0x521)][_0x5f5722(0x4f1)];if(_0x23f8a0===_0x5f5722(0x664)){const _0x4dedf8=Object[_0x5f5722(0x129)](_0x3b99da[_0x5f5722(0x7e6)]||{});if(_0x4dedf8[_0x5f5722(0x4f1)]===0x0){_0x595e22[_0x5f5722(0xa19)]=_0x5f5722(0x6f2);return;}const _0x47cfb1=[..._0x4dedf8]['sort']((_0xa1afbf,_0x156577)=>_0x156577[_0x5f5722(0x473)]-_0xa1afbf[_0x5f5722(0x473)]),_0x5c8916=_0x47cfb1[_0x5f5722(0x23a)]((_0x448851,_0x1bafbc)=>{const _0x2be58c=_0x5f5722,_0x1419de=_0x448851['answers']?.['length']||0x0;return _0x2be58c(0x6d2)+(_0x1bafbc+0x1)+_0x2be58c(0xd9f)+_0x448851[_0x2be58c(0xace)]['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x1419de+'/'+_0x3a4c5f+_0x2be58c(0x327)+_0x448851[_0x2be58c(0x473)]+_0x2be58c(0xc11);})[_0x5f5722(0x975)](''),_0x2f9cfe=currentQuizData[_0x5f5722(0x521)][_0x5f5722(0x23a)]((_0xe3b168,_0x5307c7)=>{const _0x12e7cf=_0x5f5722;let _0x3d24b6=0x0,_0xe33ab9=0x0;_0x4dedf8[_0x12e7cf(0xbf2)](_0x243f0e=>{const _0x4a1dc9=_0x12e7cf,_0x45c03c=_0x243f0e[_0x4a1dc9(0xa77)]?.[_0x4a1dc9(0x8af)](_0xbe09b1=>_0xbe09b1[_0x4a1dc9(0x737)]===_0x5307c7);if(_0x45c03c){_0xe33ab9++;if(_0x45c03c['isCorrect'])_0x3d24b6++;}});const _0x36788c=_0xe33ab9>0x0&&_0xe33ab9===_0x4dedf8['length'],_0x458530=_0x36788c?_0x12e7cf(0xc31):_0x12e7cf(0x56c),_0x1c178b=_0x36788c?_0x12e7cf(0x9f7):'';return _0x12e7cf(0xcf2)+_0x458530+_0x12e7cf(0x35f)+(_0x5307c7+0x1)+_0x12e7cf(0xd45)+_0x1c178b+_0x12e7cf(0x677)+_0x3d24b6+'/'+_0x4dedf8[_0x12e7cf(0x4f1)]+_0x12e7cf(0x770);})[_0x5f5722(0x975)]('');_0x595e22[_0x5f5722(0xa19)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x5c8916+_0x5f5722(0x1a7)+_0x2f9cfe+_0x5f5722(0x292);return;}const _0x3d6c86=_0x3b99da[_0x5f5722(0x57c)]||{},_0x399e67=Object[_0x5f5722(0xa7d)](_0x3d6c86);if(_0x399e67['length']===0x0){_0x595e22[_0x5f5722(0xa19)]=_0x5f5722(0x514);return;}const _0x57e0b5=_0x399e67[_0x5f5722(0x23a)](_0x2549cd=>({'name':_0x2549cd,'score':_0x3d6c86[_0x2549cd][_0x5f5722(0x473)]||0x0}))['sort']((_0x5a1118,_0x5776a0)=>_0x5776a0[_0x5f5722(0x473)]-_0x5a1118[_0x5f5722(0x473)]),_0x4f49d6=_0x57e0b5[_0x5f5722(0x23a)](_0x8c04ac=>{const _0x1b9fb1=_0x5f5722,_0x431970=_0x3d6c86[_0x8c04ac[_0x1b9fb1(0x1dc)]]?.[_0x1b9fb1(0xa77)]?.[_0x1b9fb1(0x4f1)]||0x0,_0xeaf71c=Math['ceil'](_0x3a4c5f/_0x399e67[_0x1b9fb1(0x4f1)]);return _0x1b9fb1(0x4cd)+_0x8c04ac[_0x1b9fb1(0x1dc)]+_0x1b9fb1(0x8f7)+_0x431970+'/'+_0xeaf71c+_0x1b9fb1(0x353)+_0x8c04ac[_0x1b9fb1(0x473)]+_0x1b9fb1(0xb72);})[_0x5f5722(0x975)](''),_0x444a7a=_0x399e67[_0x5f5722(0xe69)]((_0x31b25f,_0x3fbb80)=>_0x31b25f+(_0x3d6c86[_0x3fbb80][_0x5f5722(0xa77)]?.[_0x5f5722(0x4f1)]||0x0),0x0),_0x49a979=currentQuizData[_0x5f5722(0x521)][_0x5f5722(0x23a)]((_0x584226,_0x11743c)=>{const _0x1b27d4=_0x5f5722;let _0x530981=null,_0x2c2144=null;for(const _0x591358 of _0x399e67){const _0x196ae4=_0x3d6c86[_0x591358][_0x1b27d4(0xa77)]?.[_0x1b27d4(0x8af)](_0x244fb1=>_0x244fb1[_0x1b27d4(0x737)]===_0x11743c);if(_0x196ae4){_0x530981=_0x196ae4,_0x2c2144=_0x591358;break;}}const _0x59f4d5=!!_0x530981,_0x3dabd4=_0x59f4d5&&_0x530981[_0x1b27d4(0x1a1)],_0x182697=(Math[_0x1b27d4(0x5d2)](_0x11743c/_0x399e67['length'])+0x1)*_0x399e67['length'],_0x6dfb99=_0x444a7a>=_0x182697,_0xd3d83d=_0x6dfb99?_0x1b27d4(0x4d2):_0x1b27d4(0x56c),_0x57b9c9=_0x6dfb99?_0x1b27d4(0x9f7):'';let _0x3e6a04=_0x1b27d4(0x87c);return _0x59f4d5&&(_0x3e6a04=_0x2c2144+_0x1b27d4(0x818)+(_0x3dabd4?_0x1b27d4(0x59d):'ผิด')),_0x1b27d4(0xcf2)+_0xd3d83d+_0x1b27d4(0x35f)+(_0x11743c+0x1)+_0x1b27d4(0xd45)+_0x57b9c9+_0x1b27d4(0xd1e)+_0x3e6a04+_0x1b27d4(0x632);})[_0x5f5722(0x975)]('');_0x595e22[_0x5f5722(0xa19)]=_0x5f5722(0x9ca)+_0x4f49d6+_0x5f5722(0xa47)+_0x49a979+_0x5f5722(0x292);}async function handleJoinTeamQuiz(){const _0x47c8a8=_0x5319e2,_0x15d015=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x15d015||_0x15d015[_0x47c8a8(0xc3f)]()[_0x47c8a8(0x4f1)]!==0x4){showMessage(_0x47c8a8(0x7cf));return;}try{const _0xfaf962=collection(db,_0x47c8a8(0x555)+appId+_0x47c8a8(0x39c)),_0x169320=query(_0xfaf962,where('pin','==',_0x15d015[_0x47c8a8(0xc3f)]()),where(_0x47c8a8(0x626),'==',_0x47c8a8(0x7c5))),_0x474b16=await getDocs(_0x169320);if(_0x474b16['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x142b64=_0x474b16[_0x47c8a8(0x6e9)][0x0];currentTeamQuizId=_0x142b64['id'];const _0x533d3b=_0x142b64[_0x47c8a8(0x9cb)](),_0x1beb6e=doc(db,_0x47c8a8(0x555)+appId+_0x47c8a8(0x92e),_0x533d3b['projectId']),_0x43f38e=doc(db,_0x47c8a8(0x555)+appId+_0x47c8a8(0x935),_0x533d3b[_0x47c8a8(0x769)]),[_0x311605,_0x4af72b]=await Promise[_0x47c8a8(0x8bd)]([getDoc(_0x1beb6e),getDoc(_0x43f38e)]);if(!_0x311605[_0x47c8a8(0x958)]()||!_0x4af72b['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x4af72b['id'],..._0x4af72b[_0x47c8a8(0x9cb)]()});const _0x4d4885=_0x311605[_0x47c8a8(0x9cb)]();showTeamPlayerSelection(_0x4d4885[_0x47c8a8(0x38b)],currentQuizData['topic']);}catch(_0x590379){console[_0x47c8a8(0x3f8)]('Error\x20joining\x20team\x20quiz:',_0x590379),showMessage(_0x47c8a8(0x1f5)+_0x590379[_0x47c8a8(0xa6b)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x173099=_0x5319e2;currentInputPin='',updatePinDisplay(),document[_0x173099(0x6e6)](_0x173099(0xe8c))[_0x173099(0x3d9)]['remove'](_0x173099(0xd60));}function updatePinDisplay(){const _0x3a091a=_0x5319e2,_0x209a06=document['querySelectorAll'](_0x3a091a(0xbef));_0x209a06[_0x3a091a(0xbf2)]((_0x52c579,_0xac53e8)=>{const _0x76599b=_0x3a091a;_0xac53e8<currentInputPin[_0x76599b(0x4f1)]?(_0x52c579[_0x76599b(0xb7b)]=currentInputPin[_0xac53e8],_0x52c579[_0x76599b(0x3d9)]['add'](_0x76599b(0x563),'bg-white'),_0x52c579[_0x76599b(0x3d9)][_0x76599b(0xb00)](_0x76599b(0xd12),'bg-gray-50')):(_0x52c579[_0x76599b(0xb7b)]='',_0x52c579[_0x76599b(0x3d9)][_0x76599b(0xb00)]('border-indigo-500','bg-white'),_0x52c579[_0x76599b(0x3d9)][_0x76599b(0x831)]('border-gray-300','bg-gray-50'));});}async function handlePinKeyPress(_0x13880b){const _0x35ac57=_0x5319e2;if(_0x13880b===_0x35ac57(0x637))currentInputPin=currentInputPin[_0x35ac57(0x1e1)](0x0,-0x1);else currentInputPin[_0x35ac57(0x4f1)]<0x4&&(currentInputPin+=_0x13880b);updatePinDisplay(),currentInputPin[_0x35ac57(0x4f1)]===0x4&&setTimeout(async()=>{const _0x20e3e2=_0x35ac57;document[_0x20e3e2(0x6e6)]('pin-entry-modal')[_0x20e3e2(0x3d9)][_0x20e3e2(0x831)](_0x20e3e2(0xd60)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x5f2b82){const _0x3cb08f=_0x5319e2,_0x3b76ce=_0x5f2b82[_0x3cb08f(0xc3f)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x527f84=collection(db,'artifacts/'+appId+_0x3cb08f(0x39c)),_0x1e4c2d=query(_0x527f84,where(_0x3cb08f(0x373),'==',_0x3b76ce),where(_0x3cb08f(0x626),'==',_0x3cb08f(0x7c5))),_0x497d6b=await getDocs(_0x1e4c2d);if(!_0x497d6b[_0x3cb08f(0x530)]){console[_0x3cb08f(0x8b1)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x497d6b[_0x3cb08f(0x6e9)][0x0]);return;}const _0x2f0224=collection(db,_0x3cb08f(0x555)+appId+_0x3cb08f(0x6ba)),_0x296030=query(_0x2f0224,where(_0x3cb08f(0x373),'==',_0x3b76ce),where(_0x3cb08f(0x626),'in',[_0x3cb08f(0x7c5),_0x3cb08f(0x195),'summary','results'])),_0x57bc12=await getDocs(_0x296030);if(!_0x57bc12[_0x3cb08f(0x530)]){console['log'](_0x3cb08f(0x7b2)),await proceedWithSyncQuizJoin(_0x57bc12[_0x3cb08f(0x6e9)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0xb57053){console[_0x3cb08f(0x3f8)](_0x3cb08f(0x268),_0xb57053),showMessage(_0x3cb08f(0x450)+_0xb57053[_0x3cb08f(0xa6b)]);}}async function proceedWithTeamQuizJoin(_0x44b9c9){const _0x202ce4=_0x5319e2;currentTeamQuizId=_0x44b9c9['id'];const _0xaa2fca=_0x44b9c9[_0x202ce4(0x9cb)](),_0x475009=doc(db,_0x202ce4(0x555)+appId+'/public/data/projects',_0xaa2fca[_0x202ce4(0x19e)]),_0x111442=doc(db,_0x202ce4(0x555)+appId+_0x202ce4(0x935),_0xaa2fca[_0x202ce4(0x769)]),[_0x4bb934,_0x97a959]=await Promise['all']([getDoc(_0x475009),getDoc(_0x111442)]);if(!_0x4bb934['exists']()||!_0x97a959['exists']())throw new Error(_0x202ce4(0x3e1));currentQuizData=getShuffledQuiz({'id':_0x97a959['id'],..._0x97a959['data']()}),showTeamPlayerSelection(_0x4bb934['data']()['students'],currentQuizData[_0x202ce4(0x9ec)],_0xaa2fca[_0x202ce4(0x9d8)]||_0x202ce4(0x788)),messageModal[_0x202ce4(0x3d9)][_0x202ce4(0x831)](_0x202ce4(0xd60));}async function proceedWithSyncQuizJoin(_0x553c41){const _0x21df46=_0x5319e2;currentLiveGameId=_0x553c41['id'];const _0x13088a=_0x553c41[_0x21df46(0x9cb)](),_0x8c4361=doc(db,_0x21df46(0x555)+appId+_0x21df46(0x935),_0x13088a[_0x21df46(0x769)]),_0x2fc85c=await getDoc(_0x8c4361);if(!_0x2fc85c['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x5cd97d=_0x2fc85c[_0x21df46(0x9cb)](),_0x25d7bb=doc(db,_0x21df46(0x555)+appId+_0x21df46(0x92e),_0x5cd97d[_0x21df46(0x19e)]),_0xd6ddb9=await getDoc(_0x25d7bb);if(!_0xd6ddb9[_0x21df46(0x958)]())throw new Error(_0x21df46(0x605));currentQuizData=_0x13088a[_0x21df46(0x320)],showView(_0x21df46(0x25e)),showTeamPlayerSelection(_0xd6ddb9[_0x21df46(0x9cb)]()[_0x21df46(0x38b)],_0x5cd97d[_0x21df46(0x9ec)],_0x21df46(0x6d3));const _0x4687c4=document[_0x21df46(0x6e6)]('confirm-team-players-btn'),_0x14581b=_0x4687c4[_0x21df46(0x2d8)](!![]);_0x4687c4['parentNode'][_0x21df46(0x5a7)](_0x14581b,_0x4687c4),_0x14581b[_0x21df46(0x4aa)]=confirmAndJoinSyncGame,messageModal[_0x21df46(0x3d9)][_0x21df46(0x831)]('hidden');}function getCleanApplicationHTML(){const _0x5a9601=_0x5319e2,_0x5da939=document[_0x5a9601(0x6e6)](_0x5a9601(0x872));if(!_0x5da939)return'';const _0x35a385=_0x5da939['cloneNode'](!![]);return _0x35a385[_0x5a9601(0x2c3)](_0x5a9601(0xba0))[_0x5a9601(0xbf2)](_0x475b64=>{const _0x4f2853=_0x5a9601;_0x475b64[_0x4f2853(0x3d9)][_0x4f2853(0xb00)](_0x4f2853(0xcc5),_0x4f2853(0x854)),_0x475b64[_0x4f2853(0xe9a)]=![];}),_0x35a385[_0x5a9601(0xa19)];}function showTeamPlayerSelection(_0x3e64d4,_0xfe9ba3,_0x75b55c='team'){const _0x431917=_0x5319e2;studentInitialView['classList']['add'](_0x431917(0xd60)),studentJoinGameView[_0x431917(0x3d9)]['add'](_0x431917(0xd60)),document['getElementById']('student-team-selection-view')[_0x431917(0x3d9)]['remove']('hidden');let _0x4c1c78=_0x431917(0x2dc);if(_0x75b55c===_0x431917(0x664))_0x4c1c78=_0x431917(0x5ad);else _0x75b55c===_0x431917(0x6d3)&&(_0x4c1c78='Sync\x20Mode');document[_0x431917(0x6e6)]('team-quiz-topic')[_0x431917(0xb7b)]=_0x4c1c78+':\x20'+_0xfe9ba3;const _0x3c0f5c=document['getElementById'](_0x431917(0x928));if(!_0x3e64d4||_0x3e64d4['length']===0x0){_0x3c0f5c[_0x431917(0xa19)]=_0x431917(0xe0b),document[_0x431917(0x6e6)](_0x431917(0xdc2))[_0x431917(0xe9a)]=!![];return;}_0x3c0f5c['innerHTML']=_0x3e64d4[_0x431917(0x23a)](_0x4a9421=>_0x431917(0x3dc)+_0x4a9421+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x4a9421+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''),document[_0x431917(0x6e6)](_0x431917(0xdc2))[_0x431917(0xe9a)]=![];}async function confirmAndStartTeamQuiz(){const _0x158afa=_0x5319e2,_0x4243d6=Array[_0x158afa(0x693)](document[_0x158afa(0x2c3)](_0x158afa(0xdd2)))[_0x158afa(0x23a)](_0x2ac5ae=>_0x2ac5ae['value']);if(_0x4243d6[_0x158afa(0x4f1)]===0x0){showMessage(_0x158afa(0xb1c));return;}localTeamPlayers=_0x4243d6,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x1017bd=doc(db,_0x158afa(0x555)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x54a25d=await getDoc(_0x1017bd);if(!_0x54a25d[_0x158afa(0x958)]())throw new Error(_0x158afa(0x32d));const _0x2c0dfd=_0x54a25d[_0x158afa(0x9cb)]();if(_0x2c0dfd['mode']===_0x158afa(0x664)){const _0x4cf599={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x1017bd,_0x4cf599);}else{const _0x548647=_0x2c0dfd[_0x158afa(0x57c)]||{};localTeamPlayers[_0x158afa(0xbf2)](_0x57eeaa=>{!_0x548647[_0x57eeaa]&&(_0x548647[_0x57eeaa]={'score':0x0,'answers':[]});}),await updateDoc(_0x1017bd,{'responses':_0x548647});}document[_0x158afa(0x6e6)](_0x158afa(0xb24))[_0x158afa(0x3d9)]['add'](_0x158afa(0xd60)),renderTeamQuizQuestion();const _0xa5bad9={'gameId':currentTeamQuizId,'mode':_0x2c0dfd[_0x158afa(0x9d8)]||_0x158afa(0x788),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x158afa(0xe35)]('activeGameSession',JSON[_0x158afa(0x338)](_0xa5bad9)),listenForTeamQuizUpdates();}catch(_0x3e26db){console[_0x158afa(0x3f8)](_0x158afa(0x168),_0x3e26db),showMessage(_0x158afa(0x56b));}}async function renderTeamQuizQuestion(){const _0x342424=_0x5319e2;if(localQuestionIndex>=currentQuizData[_0x342424(0x521)][_0x342424(0x4f1)]){displayTeamQuizFinalResults();return;}const _0x161366=currentQuizData[_0x342424(0x521)][localQuestionIndex],_0x29bcd3=localTeamPlayers[localPlayerIndex],_0x43ff7a=_0x161366[_0x342424(0x823)]||currentQuizData[_0x342424(0xd29)];let _0x36fd8d=_0x161366[_0x342424(0x2f8)]||_0x161366[_0x342424(0x14e)],_0x462506='';switch(_0x43ff7a){case _0x342424(0x2d2):case _0x342424(0xa61):_0x462506=_0x161366['options'][_0x342424(0x23a)]((_0x1841f3,_0x396f6f)=>_0x342424(0x863)+_0x396f6f+_0x342424(0xade)+_0x396f6f+_0x342424(0x7f7)+_0x396f6f+'\x22>'+_0x1841f3+_0x342424(0x762))[_0x342424(0x975)]('');break;case'true_false':_0x462506=_0x342424(0x59e);break;case _0x342424(0xcea):case _0x342424(0x603):_0x462506=_0x342424(0x435);break;case _0x342424(0x1f6):_0x462506=_0x342424(0x442)+_0x161366['allResponses']['map'](_0xdebba8=>'<option\x20value=\x22'+_0xdebba8+'\x22>'+_0xdebba8+_0x342424(0x3e5))['join']('')+'</select>';break;default:_0x462506=_0x342424(0x62c);break;}studentQuizArea[_0x342424(0xa19)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x342424(0xd2d)+currentQuizData['questions'][_0x342424(0x4f1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x29bcd3+_0x342424(0x5f9)+(localQuestionIndex+0x1)+'.\x20'+_0x36fd8d+_0x342424(0x887)+(_0x161366[_0x342424(0xc44)]?_0x342424(0xda6)+_0x161366[_0x342424(0xc44)]+_0x342424(0xa5a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x462506+_0x342424(0x4a8),studentQuizArea['classList'][_0x342424(0xb00)]('hidden');if(window[_0x342424(0x19c)])MathJax[_0x342424(0xc6e)]([studentQuizArea]);document[_0x342424(0x6e6)](_0x342424(0x9ac))[_0x342424(0x49d)](_0x342424(0xa6e),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x52f6d0=_0x5319e2,_0x415168=currentQuizData[_0x52f6d0(0x521)][localQuestionIndex],_0x124e25=_0x415168[_0x52f6d0(0x823)]||currentQuizData[_0x52f6d0(0xd29)];let _0x5dc39b=null,_0x475549=![];if(_0x124e25===_0x52f6d0(0xcea)||_0x124e25===_0x52f6d0(0x603)){const _0x3cb6fe=document[_0x52f6d0(0x86d)](_0x52f6d0(0xaa4));if(!_0x3cb6fe||!_0x3cb6fe[_0x52f6d0(0xb2d)][_0x52f6d0(0xc3f)]()){showMessage(_0x52f6d0(0x7f1));return;}_0x5dc39b=_0x3cb6fe['value'][_0x52f6d0(0xc3f)](),_0x475549=await gradeShortAnswer(_0x5dc39b,_0x415168);}else{const _0x4ad5de=document[_0x52f6d0(0x86d)](_0x52f6d0(0x6ae));if(!_0x4ad5de||_0x4ad5de[_0x52f6d0(0xb2d)]===''){showMessage(_0x52f6d0(0xbfa));return;}_0x5dc39b=_0x4ad5de[_0x52f6d0(0xb2d)];switch(_0x124e25){case _0x52f6d0(0x1cc):_0x475549=_0x5dc39b===_0x52f6d0(0x92c)===_0x415168[_0x52f6d0(0x8aa)];break;case _0x52f6d0(0x1f6):_0x475549=_0x5dc39b===_0x415168['correctResponse'];break;default:_0x475549=parseInt(_0x5dc39b)===_0x415168[_0x52f6d0(0x9be)];break;}}const _0xda6ca5={'questionIndex':localQuestionIndex,'isCorrect':_0x475549},_0x344955=userId,_0x143d38={['groups.'+_0x344955+'.answers']:arrayUnion(_0xda6ca5)};_0x475549&&(_0x143d38['groups.'+_0x344955+_0x52f6d0(0x239)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x52f6d0(0x39c),currentTeamQuizId),_0x143d38),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions']['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x4ee5f0){console['error'](_0x52f6d0(0xc17),_0x4ee5f0),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x592a7d=_0x5319e2,_0x48c3c1=await getDoc(doc(db,_0x592a7d(0x555)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x48c3c1[_0x592a7d(0x958)]())return;const _0x140560=_0x48c3c1['data']();if(_0x140560[_0x592a7d(0x9d8)]===_0x592a7d(0x664)){handleGroupAnswerSubmit();return;}const _0x5af437=localTeamPlayers[localPlayerIndex],_0x21068c=currentQuizData[_0x592a7d(0x521)][localQuestionIndex],_0x54e89e=_0x21068c[_0x592a7d(0x823)]||currentQuizData['quizType'];let _0x2f77db=null,_0x13bb2f=![];if(_0x54e89e==='short_answer'||_0x54e89e===_0x592a7d(0x603)){const _0x48cc30=document[_0x592a7d(0x86d)](_0x592a7d(0xaa4));if(!_0x48cc30||!_0x48cc30['value'][_0x592a7d(0xc3f)]()){showMessage(_0x592a7d(0x658));return;}_0x2f77db=_0x48cc30[_0x592a7d(0xb2d)]['trim'](),_0x13bb2f=await gradeShortAnswer(_0x2f77db,_0x21068c);}else{const _0x4853cd=document[_0x592a7d(0x86d)](_0x592a7d(0x6ae));if(!_0x4853cd||_0x4853cd[_0x592a7d(0xb2d)]===''){showMessage(_0x592a7d(0xd8d));return;}_0x2f77db=_0x4853cd[_0x592a7d(0xb2d)];switch(_0x54e89e){case _0x592a7d(0x1cc):_0x13bb2f=_0x2f77db===_0x592a7d(0x92c)===_0x21068c[_0x592a7d(0x8aa)];break;case _0x592a7d(0x1f6):_0x13bb2f=_0x2f77db===_0x21068c[_0x592a7d(0x5d8)];break;default:_0x13bb2f=parseInt(_0x2f77db)===_0x21068c[_0x592a7d(0x9be)];break;}}const _0x249b47={'questionIndex':localQuestionIndex,'isCorrect':_0x13bb2f,'answerValue':_0x2f77db},_0x276886={[_0x592a7d(0xa15)+_0x5af437+_0x592a7d(0xa23)]:arrayUnion(_0x249b47)};_0x13bb2f&&(_0x276886[_0x592a7d(0xa15)+_0x5af437+_0x592a7d(0x239)]=increment(0x1));try{await updateDoc(doc(db,_0x592a7d(0x555)+appId+_0x592a7d(0x39c),currentTeamQuizId),_0x276886),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x1c0a3a){console[_0x592a7d(0x3f8)]('Error\x20submitting\x20team\x20answer:',_0x1c0a3a),showMessage(_0x592a7d(0xc47));}}async function displayTeamQuizFinalResults(){const _0x45176a=_0x5319e2;studentQuizArea[_0x45176a(0x3d9)][_0x45176a(0x831)](_0x45176a(0xd60)),studentResultArea['classList']['remove'](_0x45176a(0xd60));const _0x58c42e=doc(db,_0x45176a(0x555)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x324f01=await getDoc(_0x58c42e);if(!_0x324f01[_0x45176a(0x958)]()){studentResultArea[_0x45176a(0xa19)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x32b3fa=_0x324f01[_0x45176a(0x9cb)]();let _0x53239c=[];const _0x4142f2=_0x32b3fa[_0x45176a(0x9d8)]||_0x45176a(0x788);if(_0x4142f2===_0x45176a(0x664)){const _0x3ffa19=_0x32b3fa['groups'][userId];_0x3ffa19?_0x53239c=[{'name':_0x45176a(0x8bf)+localTeamPlayers['join'](',\x20'),'score':_0x3ffa19['score']||0x0}]:_0x53239c=[{'name':_0x45176a(0x75d),'score':'N/A'}];}else _0x53239c=localTeamPlayers[_0x45176a(0x23a)](_0x2a6e89=>({'name':_0x2a6e89,'score':_0x32b3fa[_0x45176a(0x57c)][_0x2a6e89]?.[_0x45176a(0x473)]||0x0}))['sort']((_0x410ff3,_0x770397)=>_0x770397['score']-_0x410ff3['score']);studentResultArea[_0x45176a(0xa19)]=_0x45176a(0x53b)+_0x53239c[_0x45176a(0x23a)](_0x4f0e22=>_0x45176a(0x492)+_0x4f0e22['name']+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4f0e22['score']+_0x45176a(0x5c6))[_0x45176a(0x975)]('')+_0x45176a(0x3b5),sessionStorage[_0x45176a(0x685)]('activeGameSession'),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x457ec5=_0x45176a;deleteDoc(doc(db,_0x457ec5(0x555)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x5319e2(0x6c5)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0xbed)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xdfd)},{'category':'จำนวนและการดำเนินการ','name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0x946)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xb4d)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x5cf)},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0x421)},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0x1a4)},{'category':_0x5319e2(0x47a),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x730)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xcc7)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x235)},{'category':_0x5319e2(0x47a),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0x379)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x54a)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xe59)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xc09)},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0xdd3)},{'category':_0x5319e2(0x47a),'name':'การบวกเศษส่วน'},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xb86)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x5ed)},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0x759)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xa52)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x526)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xab6)},{'category':'จำนวนและการดำเนินการ','name':'การลบทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0x3fe)},{'category':_0x5319e2(0x47a),'name':'การหารทศนิยม'},{'category':_0x5319e2(0x47a),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xd78)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x298)},{'category':'จำนวนและการดำเนินการ','name':_0x5319e2(0xbf7)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xb6e)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xb3f)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0xe83)},{'category':_0x5319e2(0x47a),'name':_0x5319e2(0x24a)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0x237)},{'category':_0x5319e2(0x22b),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0xb19)},{'category':_0x5319e2(0x22b),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':_0x5319e2(0x2aa)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0x357)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0xb9c)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0x827)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0xc71)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0xb4f)},{'category':_0x5319e2(0x22b),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0x5319e2(0x20a)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0x767)},{'category':_0x5319e2(0x22b),'name':_0x5319e2(0xe58)},{'category':'เรขาคณิต','name':_0x5319e2(0xe50)},{'category':_0x5319e2(0x95d),'name':'ความสัมพันธ์ของมุม'},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0xd52)},{'category':'เรขาคณิต','name':_0x5319e2(0x827)},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0x9c4)},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0xbc2)},{'category':'เรขาคณิต','name':_0x5319e2(0x86a)},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0x957)},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0x90f)},{'category':'เรขาคณิต','name':_0x5319e2(0x58b)},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0x96c)},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0x9fb)},{'category':_0x5319e2(0x95d),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x5319e2(0x95d),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x5319e2(0x95d),'name':_0x5319e2(0x44f)},{'category':_0x5319e2(0x3b6),'name':'ตัวแปรและนิพจน์'},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x721)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0xbb7)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x313)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x648)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0xe36)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0xa9d)},{'category':_0x5319e2(0x3b6),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0x323)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0x8fb)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0xd99)},{'category':_0x5319e2(0x3b6),'name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0x75f)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x4e3)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0xa58)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0xe6c)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x1ab)},{'category':_0x5319e2(0x3b6),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x288)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0x496)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0xb40)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x885)},{'category':_0x5319e2(0x3b6),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0x7aa)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0xae3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0x22e)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x416)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x94f)},{'category':_0x5319e2(0x3b6),'name':_0x5319e2(0x360)},{'category':_0x5319e2(0x3b6),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5319e2(0x15d)},{'category':_0x5319e2(0x3b6),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x5319e2(0x3b6),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x5319e2(0xca4),'name':_0x5319e2(0x9f3)},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':_0x5319e2(0xca4),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x5319e2(0xca4),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x5319e2(0x49b)},{'category':_0x5319e2(0xca4),'name':_0x5319e2(0x97f)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5319e2(0xaaf)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5319e2(0x713)},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x5319e2(0xadf),'name':_0x5319e2(0x1e2)},{'category':'ตรีโกณมิติ','name':_0x5319e2(0xaf5)},{'category':_0x5319e2(0xadf),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x5319e2(0xadf),'name':_0x5319e2(0x720)},{'category':'ตรีโกณมิติ','name':_0x5319e2(0xc73)},{'category':_0x5319e2(0xadf),'name':'กฎของโคไซน์'},{'category':_0x5319e2(0xadf),'name':_0x5319e2(0x763)},{'category':'ตรีโกณมิติ','name':_0x5319e2(0x64e)},{'category':_0x5319e2(0xadf),'name':_0x5319e2(0x7de)},{'category':_0x5319e2(0xadf),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':_0x5319e2(0x5f2)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x64d)},{'category':_0x5319e2(0xadd),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x5319e2(0xadd),'name':'ตารางความถี่'},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x16f)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0xd06)},{'category':_0x5319e2(0xadd),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x5319e2(0xadd),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x5319e2(0x75e)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0xd7e)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x411)},{'category':'สถิติและความน่าจะเป็น','name':_0x5319e2(0xbd2)},{'category':'สถิติและความน่าจะเป็น','name':_0x5319e2(0xbe8)},{'category':'สถิติและความน่าจะเป็น','name':_0x5319e2(0x6a4)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x2bc)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x436)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0xa7e)},{'category':'สถิติและความน่าจะเป็น','name':_0x5319e2(0x8d0)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x7e4)},{'category':_0x5319e2(0xadd),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x5319e2(0xc97)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x604)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0xa20)},{'category':_0x5319e2(0xadd),'name':_0x5319e2(0x123)},{'category':_0x5319e2(0x36d),'name':'ลิมิต'},{'category':_0x5319e2(0x36d),'name':_0x5319e2(0x88c)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x5319e2(0x157)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5319e2(0xc08)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5319e2(0x774)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5319e2(0x959)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5319e2(0x902)},{'category':_0x5319e2(0x36d),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x5319e2(0x36d),'name':_0x5319e2(0xbdd)},{'category':_0x5319e2(0x36d),'name':_0x5319e2(0x143)},{'category':_0x5319e2(0x36d),'name':_0x5319e2(0x321)},{'category':_0x5319e2(0x36d),'name':_0x5319e2(0xd57)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5319e2(0x63f)},{'category':_0x5319e2(0xe6d),'name':_0x5319e2(0xa07)},{'category':_0x5319e2(0xe6d),'name':_0x5319e2(0xd9d)},{'category':_0x5319e2(0xe6d),'name':_0x5319e2(0xada)},{'category':_0x5319e2(0xe6d),'name':_0x5319e2(0x161)},{'category':_0x5319e2(0xe6d),'name':'ดีเทอร์มิแนนต์'},{'category':_0x5319e2(0xe6d),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x5319e2(0x3a1),'name':_0x5319e2(0x350)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5319e2(0xb38)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5319e2(0x18e)},{'category':_0x5319e2(0x3a1),'name':_0x5319e2(0x4ae)},{'category':_0x5319e2(0x3a1),'name':'ร้อยละประยุกต์'},{'category':_0x5319e2(0x8c8),'name':_0x5319e2(0x59b)},{'category':_0x5319e2(0x8c8),'name':'รูปแบบการให้เหตุผล'},{'category':_0x5319e2(0x8c8),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x5d073b=_0x5319e2,_0x4bebb9=document[_0x5d073b(0x6e6)]('math-topics-checkbox-container');if(!_0x4bebb9)return;const _0x30455b=allMathTopics,_0x429b07=customMathTopics[_0x5d073b(0x23a)](_0x325232=>({'id':_0x325232['id'],'category':_0x5d073b(0xcd7),'name':_0x325232[_0x5d073b(0x1dc)]})),_0x28e67b=[..._0x30455b,..._0x429b07],_0x4e65e3=_0x28e67b['reduce']((_0x4d459c,_0x17423a)=>{const _0x4b7e12=_0x5d073b;return!_0x4d459c[_0x17423a[_0x4b7e12(0xdb5)]]&&(_0x4d459c[_0x17423a['category']]=[]),_0x4d459c[_0x17423a[_0x4b7e12(0xdb5)]][_0x4b7e12(0xbda)](_0x17423a),_0x4d459c;},{});let _0x1ea054='';const _0x1981f5=[_0x5d073b(0xcd7),...Object[_0x5d073b(0xa7d)](_0x4e65e3)[_0x5d073b(0xbdf)](_0x9a0262=>_0x9a0262!==_0x5d073b(0xcd7))];for(const _0x4da4e7 of _0x1981f5){if(_0x4e65e3[_0x4da4e7]){const _0x3f2d76=_0x4da4e7===_0x5d073b(0xcd7),_0x405f14=_0x3f2d76?_0x5d073b(0xdb8):'fas\x20fa-bookmark',_0x1c7289=_0x3f2d76?'text-blue-700':'text-indigo-700';_0x1ea054+=_0x5d073b(0x4b2),_0x1ea054+=_0x5d073b(0x2b8)+_0x1c7289+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x405f14+_0x5d073b(0x78b)+_0x4da4e7+_0x5d073b(0xc37),_0x4e65e3[_0x4da4e7]['forEach'](_0x2d592b=>{const _0x42c89d=_0x5d073b,_0x3e5225=!!_0x2d592b['id'],_0x132f6d=_0x3e5225?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2d592b['id']+_0x42c89d(0x824)+_0x2d592b['id']+_0x42c89d(0x589)+_0x2d592b['id']+_0x42c89d(0x48a)+_0x2d592b['id']+_0x42c89d(0x276):'';_0x1ea054+=_0x42c89d(0x23f)+(_0x2d592b['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x2d592b[_0x42c89d(0x1dc)]+_0x42c89d(0x73d)+_0x2d592b[_0x42c89d(0x1dc)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3e5225?_0x42c89d(0xe11)+_0x2d592b[_0x42c89d(0x1dc)]+'\x22>':'')+_0x42c89d(0x5d6)+_0x132f6d+_0x42c89d(0x500);}),_0x1ea054+=_0x5d073b(0xa5a);}}_0x4bebb9['innerHTML']=_0x1ea054||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x4bebb9[_0x5d073b(0x60a)](_0x5d073b(0x538),updateSelectedTopicsCount),_0x4bebb9[_0x5d073b(0x49d)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x366ea3,_0x1c1bd6){const _0x4ce751=_0x5319e2;if(!_0x366ea3||!_0x1c1bd6['trim']()){showMessage(_0x4ce751(0x68c));return;}try{const _0x5b00fa=doc(db,_0x4ce751(0x555)+appId+_0x4ce751(0xe5b),_0x366ea3);await updateDoc(_0x5b00fa,{'name':_0x1c1bd6['trim']()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0xe1a4d7){console[_0x4ce751(0x3f8)](_0x4ce751(0xc9a),_0xe1a4d7),showMessage(_0x4ce751(0xe5e));}}function toggleTopicEditMode(_0x5b0a58,_0x41994b){const _0x56ea5a=_0x5319e2;if(!_0x5b0a58)return;const _0x1f4975=_0x5b0a58['querySelector']('.topic-name-display'),_0x54b2ca=_0x5b0a58['querySelector'](_0x56ea5a(0x6cb)),_0xe8793e=_0x5b0a58[_0x56ea5a(0x86d)]('.topic-actions-view'),_0x2c5566=_0x5b0a58[_0x56ea5a(0x86d)](_0x56ea5a(0x608));_0x1f4975[_0x56ea5a(0x3d9)]['toggle']('hidden',_0x41994b),_0x54b2ca[_0x56ea5a(0x3d9)][_0x56ea5a(0x117)](_0x56ea5a(0xd60),!_0x41994b),_0xe8793e[_0x56ea5a(0x3d9)][_0x56ea5a(0x117)](_0x56ea5a(0xd60),_0x41994b),_0x2c5566[_0x56ea5a(0x3d9)][_0x56ea5a(0x117)](_0x56ea5a(0xd60),!_0x41994b),_0x41994b&&(_0x54b2ca[_0x56ea5a(0xbb9)](),_0x54b2ca[_0x56ea5a(0x905)]());}async function handleStartLiveRace(_0x1fb08b){const _0x107e0d=_0x5319e2;let _0x5bff59=allQuizzes[_0x107e0d(0x8af)](_0x3a5b0f=>_0x3a5b0f['id']===_0x1fb08b);if(!_0x5bff59){const _0x332bde=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1fb08b),_0x2497d4=await getDoc(_0x332bde);if(!_0x2497d4[_0x107e0d(0x958)]()){showMessage(_0x107e0d(0x76c));return;}_0x5bff59={'id':_0x2497d4['id'],..._0x2497d4[_0x107e0d(0x9cb)]()};}const _0x4c77b9=getShuffledQuiz(_0x5bff59);currentQuizData=_0x4c77b9;const _0x4fa63c=_0x5bff59['projectId']||currentProjectId||null,_0x53585f=Math[_0x107e0d(0x5d2)](0x3e8+Math[_0x107e0d(0x46d)]()*0x2328)[_0x107e0d(0xdd7)]();currentLiveGamePin=_0x53585f;try{const _0xb130c0=await addDoc(collection(db,'artifacts/'+appId+_0x107e0d(0x700)),{'quizId':_0x1fb08b,'projectId':_0x4fa63c,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x53585f,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4c77b9});currentLiveGameId=_0xb130c0['id'],showAdminLobbyView(_0x53585f,_0x5bff59[_0x107e0d(0x9ec)]),listenForLiveGameUpdates();}catch(_0x3bbecd){console[_0x107e0d(0x3f8)](_0x107e0d(0xddd),_0x3bbecd),showMessage(_0x107e0d(0x162));}}function updateSelectedTopicsCount(){const _0x3e16b2=_0x5319e2,_0x3ae29e=document[_0x3e16b2(0x6e6)]('math-topics-checkbox-container'),_0xbac8f2=_0x3ae29e[_0x3e16b2(0x2c3)](_0x3e16b2(0x554))[_0x3e16b2(0x4f1)],_0x5a7c9c=document[_0x3e16b2(0x6e6)](_0x3e16b2(0xa1a));_0xbac8f2>0x0?_0x5a7c9c[_0x3e16b2(0xb7b)]=_0x3e16b2(0xa5f)+_0xbac8f2+_0x3e16b2(0x30a):_0x5a7c9c[_0x3e16b2(0xb7b)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x5319e2(0x6ca),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x5319e2(0xac3),quizLeaderboardSortOrder=_0x5319e2(0xcbc),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x5319e2(0x6cf),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x5319e2(0x77e),scratchpadPenColor=_0x5319e2(0xa53),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2d4c3f,_0x234b81){const _0x3416c3=_0x5319e2;return Math[_0x3416c3(0x2f1)](Math[_0x3416c3(0xdcc)](_0x2d4c3f['x']-_0x234b81['x'],0x2)+Math[_0x3416c3(0xdcc)](_0x2d4c3f['y']-_0x234b81['y'],0x2));}function getMidpoint(_0xdc43c5,_0x526009){return{'x':(_0xdc43c5['x']+_0x526009['x'])/0x2,'y':(_0xdc43c5['y']+_0x526009['y'])/0x2};}function getTransformedPoint(_0x44f48c,_0x23c4ff){return{'x':(_0x44f48c-scratchpadOffset['x'])/scratchpadScale,'y':(_0x23c4ff-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x319770=_0x5319e2;if(!scratchpadCtx)return;const _0xaace48=scratchpadCtx[_0x319770(0x361)],_0x3b0281=window['devicePixelRatio']||0x1,_0x18c1b8=document[_0x319770(0x6e6)](_0x319770(0xb70));_0x18c1b8&&(_0x18c1b8[_0x319770(0xaed)][_0x319770(0x1f0)]=_0x319770(0xa2e),_0x18c1b8[_0x319770(0xaed)][_0x319770(0xcae)]=_0x319770(0x2b4)+scratchpadOffset['x']+_0x319770(0x52a)+scratchpadOffset['y']+_0x319770(0x2fb)+scratchpadScale+')'),scratchpadCtx[_0x319770(0xb60)](),scratchpadCtx[_0x319770(0xdf2)](_0x3b0281,0x0,0x0,_0x3b0281,0x0,0x0),scratchpadCtx[_0x319770(0xbb6)](0x0,0x0,_0xaace48[_0x319770(0x96d)],_0xaace48[_0x319770(0x210)]),scratchpadCtx[_0x319770(0x766)](),scratchpadCtx[_0x319770(0xb60)](),scratchpadCtx[_0x319770(0x559)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x319770(0x30f)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x286373=>{drawStroke(_0x286373);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x319770(0x766)]();}function renderGroupModeQuestion(){const _0x1bd31d=_0x5319e2;if(localQuestionIndex>=currentQuizData['questions'][_0x1bd31d(0x4f1)]){displayTeamQuizFinalResults();return;}const _0x344edc=currentQuizData['questions'][localQuestionIndex],_0x228e12=_0x344edc[_0x1bd31d(0x823)]||currentQuizData[_0x1bd31d(0xd29)];let _0x1375bc=_0x344edc['stem']||_0x344edc[_0x1bd31d(0x14e)],_0x3a7db9='';switch(_0x228e12){case'multiple_choice':case'fill_in_with_choices':_0x3a7db9=_0x344edc[_0x1bd31d(0x4ff)][_0x1bd31d(0x23a)]((_0x34a8ae,_0x208974)=>_0x1bd31d(0x863)+_0x208974+_0x1bd31d(0xade)+_0x208974+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x208974+'\x22>'+_0x34a8ae+_0x1bd31d(0x762))[_0x1bd31d(0x975)]('');break;case _0x1bd31d(0x1cc):_0x3a7db9=_0x1bd31d(0x59e);break;case'short_answer':case _0x1bd31d(0x603):_0x3a7db9=_0x1bd31d(0xb3e);break;case'matching_item':_0x3a7db9=_0x1bd31d(0x442)+_0x344edc['allResponses'][_0x1bd31d(0x23a)](_0x2a9b7f=>'<option\x20value=\x22'+_0x2a9b7f+'\x22>'+_0x2a9b7f+_0x1bd31d(0x3e5))[_0x1bd31d(0x975)]('')+_0x1bd31d(0x47b);break;default:_0x3a7db9=_0x1bd31d(0x62c);break;}studentQuizArea['innerHTML']=_0x1bd31d(0x86e)+(localQuestionIndex+0x1)+_0x1bd31d(0xd2d)+currentQuizData['questions']['length']+_0x1bd31d(0x3ee)+localTeamPlayers[_0x1bd31d(0x975)](',\x20')+_0x1bd31d(0x5f9)+(localQuestionIndex+0x1)+'.\x20'+_0x1375bc+_0x1bd31d(0x887)+(_0x344edc['imageCode']?_0x1bd31d(0xda6)+_0x344edc[_0x1bd31d(0xc44)]+_0x1bd31d(0xa5a):'')+_0x1bd31d(0x91c)+_0x3a7db9+_0x1bd31d(0x211),studentQuizArea['classList'][_0x1bd31d(0xb00)](_0x1bd31d(0xd60));if(window[_0x1bd31d(0x19c)])MathJax[_0x1bd31d(0xc6e)]([studentQuizArea]);document[_0x1bd31d(0x6e6)](_0x1bd31d(0x1b0))[_0x1bd31d(0x49d)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x50f2ef,_0x2e408c=null,_0x1003ee,_0x4a5978=null,_0x503d7c=![],_0x466c35=null){const _0x5e32da=_0x5319e2,_0x1ee8fa=document[_0x5e32da(0x6e6)](_0x5e32da(0x9f5));_0x1ee8fa&&_0x1ee8fa[_0x5e32da(0x9b8)]({'behavior':_0x5e32da(0xc3d),'block':_0x5e32da(0x754)}),generateQuiz(_0x50f2ef,_0x2e408c,null,_0x466c35,!![],_0x1003ee,_0x4a5978,_0x503d7c);}function handleGenerateAndShowLesson(_0x4c5b5d,_0x2f559b){const _0x4e27cd=_0x5319e2,_0x39ed41=document[_0x4e27cd(0x6e6)](_0x4e27cd(0xa68)),_0x595dc1=document['getElementById'](_0x4e27cd(0x4df)),_0x46e97e=document[_0x4e27cd(0x6e6)](_0x4e27cd(0x192)),_0x783568=document['getElementById'](_0x4e27cd(0x20f));['pointContent','memoryContent',_0x4e27cd(0x872),'summaryContent']['forEach'](_0x25502b=>{const _0x144de1=_0x4e27cd,_0xd8431b=document[_0x144de1(0x6e6)](_0x25502b)[_0x144de1(0xb68)];_0xd8431b&&(_0xd8431b[_0x144de1(0xaed)][_0x144de1(0x91a)]=_0x144de1(0x9f4));}),_0x595dc1[_0x4e27cd(0xb7b)]=_0x4e27cd(0xc8d)+_0x4c5b5d,_0x783568[_0x4e27cd(0x3d9)][_0x4e27cd(0x831)](_0x4e27cd(0xd60)),_0x46e97e[_0x4e27cd(0x3d9)][_0x4e27cd(0xb00)](_0x4e27cd(0xd60)),_0x39ed41[_0x4e27cd(0x3d9)]['remove'](_0x4e27cd(0xd60)),generateLesson(_0x4c5b5d,_0x2f559b)[_0x4e27cd(0x2c7)](_0x783d66=>{const _0x293637=_0x4e27cd;console[_0x293637(0x3f8)](_0x293637(0x695),_0x783d66),showMessage(_0x293637(0x65b)),_0x39ed41[_0x293637(0x3d9)][_0x293637(0x831)](_0x293637(0xd60));});}function handlePointerDown(_0x46aeaf){const _0x2a50fc=_0x5319e2;_0x46aeaf[_0x2a50fc(0x266)]();const _0x5708d8=scratchpadCtx['canvas'],_0x29a068=_0x5708d8[_0x2a50fc(0x82f)](),_0x5c4b4f=_0x46aeaf['pointerType']||(_0x46aeaf['touches']?_0x2a50fc(0x3d3):_0x2a50fc(0x627));if(_0x5c4b4f===_0x2a50fc(0x77e)||_0x5c4b4f===_0x2a50fc(0x627)){if(_0x46aeaf[_0x2a50fc(0x811)]===_0x2a50fc(0x627)&&_0x46aeaf[_0x2a50fc(0x523)]!==0x0){_0x46aeaf[_0x2a50fc(0x523)]===0x1&&(isMousePanning=!![],panStart={'x':_0x46aeaf['clientX'],'y':_0x46aeaf['clientY']},_0x5708d8[_0x2a50fc(0xaed)]['cursor']=_0x2a50fc(0x7a1));return;}activeTool===_0x2a50fc(0x8a1)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x33c6b9=getTransformedPoint(_0x46aeaf['clientX']-_0x29a068[_0x2a50fc(0xb31)],_0x46aeaf[_0x2a50fc(0xc1d)]-_0x29a068[_0x2a50fc(0xb25)]);let _0x483e6f={'tool':activeTool,'points':[_0x33c6b9]};if(activeTool==='pen')_0x483e6f[_0x2a50fc(0x630)]=scratchpadPenColor,_0x483e6f['size']=scratchpadPenSize;else{if(activeTool===_0x2a50fc(0x3dd))_0x483e6f[_0x2a50fc(0x630)]=scratchpadPenColor,_0x483e6f[_0x2a50fc(0x9e2)]=scratchpadEraserSize;else{if(activeTool===_0x2a50fc(0xb80))_0x483e6f[_0x2a50fc(0x630)]=scratchpadHighlighterColor,_0x483e6f['size']=scratchpadHighlighterSize;else activeTool===_0x2a50fc(0x8a1)&&(_0x483e6f[_0x2a50fc(0x630)]=scratchpadPenColor,_0x483e6f[_0x2a50fc(0x9e2)]=scratchpadPenSize);}}currentStroke=_0x483e6f;}else _0x46aeaf[_0x2a50fc(0x7a4)]&&(_0x46aeaf[_0x2a50fc(0x7a4)][_0x2a50fc(0x4f1)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x46aeaf[_0x2a50fc(0x7a4)][0x0]['clientX'],'y':_0x46aeaf['touches'][0x0][_0x2a50fc(0xc1d)]},{'x':_0x46aeaf['touches'][0x1][_0x2a50fc(0x238)],'y':_0x46aeaf[_0x2a50fc(0x7a4)][0x1][_0x2a50fc(0xc1d)]}),initialPinchDistance=getDistance({'x':_0x46aeaf[_0x2a50fc(0x7a4)][0x0]['clientX'],'y':_0x46aeaf['touches'][0x0][_0x2a50fc(0xc1d)]},{'x':_0x46aeaf['touches'][0x1][_0x2a50fc(0x238)],'y':_0x46aeaf['touches'][0x1][_0x2a50fc(0xc1d)]})));}function animateTrail(){const _0x10df65=_0x5319e2,_0x5e66ac=Date[_0x10df65(0xc35)]();let _0x1aeb57=![];for(let _0x4241e6=strokes[_0x10df65(0x4f1)]-0x1;_0x4241e6>=0x0;_0x4241e6--){const _0x47b1e9=strokes[_0x4241e6];if(_0x47b1e9['tool']==='trail'&&_0x47b1e9[_0x10df65(0x939)]){const _0x4cb27d=_0x5e66ac-_0x47b1e9['fadeStartTime'];_0x4cb27d>=TRAIL_DURATION?strokes[_0x10df65(0x121)](_0x4241e6,0x1):(_0x47b1e9[_0x10df65(0x748)]=0x1-_0x4cb27d/TRAIL_DURATION,_0x1aeb57=!![]);}}redrawScratchpad(),_0x1aeb57?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x18928b){const _0x5b360e=_0x5319e2;if(!_0x18928b||_0x18928b[_0x5b360e(0x31d)][_0x5b360e(0x4f1)]<0x1)return;scratchpadCtx[_0x5b360e(0xb60)](),scratchpadCtx[_0x5b360e(0x35d)]=_0x5b360e(0x37d),scratchpadCtx[_0x5b360e(0xd5c)]=_0x5b360e(0x37d);if(_0x18928b['tool']==='trail'){const _0x1f074a=_0x18928b[_0x5b360e(0x9e2)]/scratchpadScale;scratchpadCtx[_0x5b360e(0x9ad)]=_0x18928b['opacity']??0x1,scratchpadCtx[_0x5b360e(0x2e1)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx['shadowBlur']=_0x1f074a*0x3,scratchpadCtx[_0x5b360e(0x743)]=_0x5b360e(0x324),scratchpadCtx['lineWidth']=_0x1f074a*2.5,scratchpadCtx[_0x5b360e(0xb3b)](),scratchpadCtx[_0x5b360e(0x7db)](_0x18928b[_0x5b360e(0x31d)][0x0]['x'],_0x18928b[_0x5b360e(0x31d)][0x0]['y']);for(let _0x256485=0x1;_0x256485<_0x18928b[_0x5b360e(0x31d)][_0x5b360e(0x4f1)]-0x1;_0x256485++){const _0x3f568e=getMidpoint(_0x18928b[_0x5b360e(0x31d)][_0x256485],_0x18928b[_0x5b360e(0x31d)][_0x256485+0x1]);scratchpadCtx[_0x5b360e(0xbf9)](_0x18928b[_0x5b360e(0x31d)][_0x256485]['x'],_0x18928b[_0x5b360e(0x31d)][_0x256485]['y'],_0x3f568e['x'],_0x3f568e['y']);}scratchpadCtx[_0x5b360e(0x993)](),scratchpadCtx[_0x5b360e(0x2e1)]=_0x5b360e(0xe3c),scratchpadCtx[_0x5b360e(0x3d8)]=0x0,scratchpadCtx['strokeStyle']='#FFFFFF',scratchpadCtx[_0x5b360e(0xa76)]=_0x1f074a,scratchpadCtx[_0x5b360e(0x993)](),scratchpadCtx[_0x5b360e(0xd35)]();}else{if(_0x18928b[_0x5b360e(0x9c9)]==='highlighter'){scratchpadCtx[_0x5b360e(0xd37)]='multiply',scratchpadCtx[_0x5b360e(0x743)]=_0x18928b[_0x5b360e(0x630)],scratchpadCtx[_0x5b360e(0xa76)]=_0x18928b[_0x5b360e(0x9e2)],scratchpadCtx[_0x5b360e(0xb3b)](),scratchpadCtx[_0x5b360e(0x7db)](_0x18928b['points'][0x0]['x'],_0x18928b[_0x5b360e(0x31d)][0x0]['y']);for(let _0xef837a=0x1;_0xef837a<_0x18928b[_0x5b360e(0x31d)][_0x5b360e(0x4f1)]-0x1;_0xef837a++){const _0x4d39e8=getMidpoint(_0x18928b['points'][_0xef837a],_0x18928b[_0x5b360e(0x31d)][_0xef837a+0x1]);scratchpadCtx['quadraticCurveTo'](_0x18928b[_0x5b360e(0x31d)][_0xef837a]['x'],_0x18928b['points'][_0xef837a]['y'],_0x4d39e8['x'],_0x4d39e8['y']);}scratchpadCtx[_0x5b360e(0x993)](),scratchpadCtx[_0x5b360e(0xd35)]();}else{scratchpadCtx['globalCompositeOperation']=_0x18928b[_0x5b360e(0x9c9)]===_0x5b360e(0x3dd)?_0x5b360e(0x5b8):_0x5b360e(0xbec),scratchpadCtx[_0x5b360e(0x743)]=_0x18928b[_0x5b360e(0x630)],scratchpadCtx[_0x5b360e(0xa76)]=_0x18928b[_0x5b360e(0x9e2)],scratchpadCtx[_0x5b360e(0xb3b)](),scratchpadCtx[_0x5b360e(0x7db)](_0x18928b[_0x5b360e(0x31d)][0x0]['x'],_0x18928b[_0x5b360e(0x31d)][0x0]['y']);for(let _0x20539d=0x1;_0x20539d<_0x18928b[_0x5b360e(0x31d)][_0x5b360e(0x4f1)]-0x1;_0x20539d++){const _0x35318f=getMidpoint(_0x18928b['points'][_0x20539d],_0x18928b[_0x5b360e(0x31d)][_0x20539d+0x1]);scratchpadCtx[_0x5b360e(0xbf9)](_0x18928b[_0x5b360e(0x31d)][_0x20539d]['x'],_0x18928b[_0x5b360e(0x31d)][_0x20539d]['y'],_0x35318f['x'],_0x35318f['y']);}scratchpadCtx[_0x5b360e(0x993)](),scratchpadCtx[_0x5b360e(0xd35)]();}}scratchpadCtx[_0x5b360e(0x766)]();}function handlePointerMove(_0x3f9201){const _0x3aa818=_0x5319e2;_0x3f9201[_0x3aa818(0x266)]();const _0x3b3cf1=scratchpadCtx[_0x3aa818(0x361)],_0x280abd=_0x3b3cf1[_0x3aa818(0x82f)]();if(_0x3f9201[_0x3aa818(0x7a4)]){if(_0x3f9201['touches']['length']===0x1&&isDrawingOnScratchpad){const _0x83f41=getTransformedPoint(_0x3f9201[_0x3aa818(0x7a4)][0x0][_0x3aa818(0x238)]-_0x280abd[_0x3aa818(0xb31)],_0x3f9201['touches'][0x0][_0x3aa818(0xc1d)]-_0x280abd[_0x3aa818(0xb25)]);currentStroke[_0x3aa818(0x31d)]['push'](_0x83f41),redrawScratchpad();}else{if(_0x3f9201[_0x3aa818(0x7a4)][_0x3aa818(0x4f1)]===0x2&&isPanning){const _0x46e521=getDistance({'x':_0x3f9201[_0x3aa818(0x7a4)][0x0][_0x3aa818(0x238)],'y':_0x3f9201[_0x3aa818(0x7a4)][0x0][_0x3aa818(0xc1d)]},{'x':_0x3f9201[_0x3aa818(0x7a4)][0x1][_0x3aa818(0x238)],'y':_0x3f9201['touches'][0x1]['clientY']}),_0x15813d=getMidpoint({'x':_0x3f9201[_0x3aa818(0x7a4)][0x0][_0x3aa818(0x238)],'y':_0x3f9201[_0x3aa818(0x7a4)][0x0]['clientY']},{'x':_0x3f9201[_0x3aa818(0x7a4)][0x1]['clientX'],'y':_0x3f9201[_0x3aa818(0x7a4)][0x1][_0x3aa818(0xc1d)]}),_0x5f5549=_0x46e521/ initialPinchDistance,_0x5f0c8e=Math[_0x3aa818(0xd39)](Math['max'](scratchpadScale*_0x5f5549,MIN_SCALE),MAX_SCALE),_0x448717=_0x15813d['x']-panStart['x'],_0x1c1aa8=_0x15813d['y']-panStart['y'];scratchpadOffset['x']=_0x15813d['x']-(_0x15813d['x']-scratchpadOffset['x'])*(_0x5f0c8e/scratchpadScale),scratchpadOffset['y']=_0x15813d['y']-(_0x15813d['y']-scratchpadOffset['y'])*(_0x5f0c8e/scratchpadScale),scratchpadOffset['x']+=_0x448717,scratchpadOffset['y']+=_0x1c1aa8,scratchpadScale=_0x5f0c8e,initialPinchDistance=_0x46e521,panStart=_0x15813d,redrawScratchpad();}}}else{if(isMousePanning){const _0x5e22a4=_0x3f9201[_0x3aa818(0x238)]-panStart['x'],_0x4696a2=_0x3f9201[_0x3aa818(0xc1d)]-panStart['y'];scratchpadOffset['x']+=_0x5e22a4,scratchpadOffset['y']+=_0x4696a2,panStart={'x':_0x3f9201[_0x3aa818(0x238)],'y':_0x3f9201['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x51ef4c=getTransformedPoint(_0x3f9201[_0x3aa818(0x238)]-_0x280abd[_0x3aa818(0xb31)],_0x3f9201[_0x3aa818(0xc1d)]-_0x280abd[_0x3aa818(0xb25)]);currentStroke[_0x3aa818(0x31d)]['push'](_0x51ef4c),redrawScratchpad();}}}}function handlePointerUp(_0x361f9b){const _0x354ffb=_0x5319e2;_0x361f9b[_0x354ffb(0x266)]();const _0x235ca5=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x235ca5[_0x354ffb(0xaed)][_0x354ffb(0x7e7)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x354ffb(0x31d)][_0x354ffb(0x4f1)]>0x1&&(strokes[_0x354ffb(0xbda)](currentStroke),currentStroke[_0x354ffb(0x9c9)]===_0x354ffb(0x8a1)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5868f6=_0x354ffb,_0x14c656=strokes[_0x5868f6(0xbdf)](_0x1f21ef=>_0x1f21ef[_0x5868f6(0x9c9)]===_0x5868f6(0x8a1)&&!_0x1f21ef[_0x5868f6(0x939)]);if(_0x14c656['length']>0x0){const _0x4c10d5=Date[_0x5868f6(0xc35)]();_0x14c656[_0x5868f6(0xbf2)](_0x5a400b=>_0x5a400b['fadeStartTime']=_0x4c10d5),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x44033b){const _0x1eb382=_0x5319e2;_0x44033b[_0x1eb382(0x266)]();const _0x226a2b=_0x44033b[_0x1eb382(0x50b)]*-0.005,_0x3409cd=Math[_0x1eb382(0xd39)](Math['max'](scratchpadScale+_0x226a2b,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x44033b[_0x1eb382(0x238)]-(_0x44033b['clientX']-scratchpadOffset['x'])*(_0x3409cd/scratchpadScale),scratchpadOffset['y']=_0x44033b['clientY']-(_0x44033b[_0x1eb382(0xc1d)]-scratchpadOffset['y'])*(_0x3409cd/scratchpadScale),scratchpadScale=_0x3409cd,redrawScratchpad();}function undo(){const _0x10b45b=_0x5319e2;strokes['length']>0x0&&(redoStrokes[_0x10b45b(0xbda)](strokes[_0x10b45b(0x6c3)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x217093=_0x5319e2;redoStrokes[_0x217093(0x4f1)]>0x0&&(strokes[_0x217093(0xbda)](redoStrokes[_0x217093(0x6c3)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x32b3eb=_0x5319e2;document[_0x32b3eb(0x6e6)](_0x32b3eb(0x2c8))[_0x32b3eb(0xe9a)]=strokes[_0x32b3eb(0x4f1)]===0x0,document['getElementById'](_0x32b3eb(0x635))[_0x32b3eb(0xe9a)]=redoStrokes[_0x32b3eb(0x4f1)]===0x0;}function openScratchpad(_0x5b7311,_0x3fd07c){const _0x445c9a=_0x5319e2,_0x47ca69=document['getElementById']('scratchpad-modal'),_0x5d42a8=document[_0x445c9a(0x6e6)]('scratchpad-question'),_0x5b0068=document[_0x445c9a(0x6e6)](_0x445c9a(0xd65)),_0x2bd4f7=document[_0x445c9a(0x6e6)](_0x445c9a(0x432));_0x5d42a8[_0x445c9a(0xa19)]=_0x5b7311[_0x445c9a(0x2f8)]||_0x5b7311[_0x445c9a(0x14e)],_0x5b0068[_0x445c9a(0xa19)]=_0x3fd07c[_0x445c9a(0x23a)]((_0x56d1fc,_0x6a8d15)=>'<div>'+String['fromCharCode'](0x41+_0x6a8d15)+'.\x20'+_0x56d1fc+'</div>')[_0x445c9a(0x975)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x47ca69[_0x445c9a(0x3d9)]['remove'](_0x445c9a(0xd60)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x445c9a(0x19c)])MathJax['typesetPromise']([_0x5d42a8,_0x5b0068]);}function openBlueprintQuizSettings(){const _0x4dcd79=_0x5319e2,_0x16adbf=document[_0x4dcd79(0x6e6)](_0x4dcd79(0xc4d)),_0x34d5b7=blueprintPageSettings||(currentProjectData?currentProjectData[_0x4dcd79(0x531)]:{})||{};document['getElementById']('bp-modal-quiz-type-select')[_0x4dcd79(0xb2d)]=_0x34d5b7[_0x4dcd79(0xd29)]||document['getElementById'](_0x4dcd79(0xb2e))['value'],document[_0x4dcd79(0x6e6)](_0x4dcd79(0xd32))[_0x4dcd79(0xa19)]=document[_0x4dcd79(0x6e6)](_0x4dcd79(0x5bf))[_0x4dcd79(0xa19)],document[_0x4dcd79(0x6e6)]('bp-modal-difficulty-level-select')[_0x4dcd79(0xb2d)]=_0x34d5b7['difficultyValue']||document['getElementById'](_0x4dcd79(0x5bf))[_0x4dcd79(0xb2d)],document['getElementById'](_0x4dcd79(0xd9b))['innerHTML']=document[_0x4dcd79(0x6e6)](_0x4dcd79(0xe24))[_0x4dcd79(0xa19)],document[_0x4dcd79(0x6e6)](_0x4dcd79(0xd9b))['value']=_0x34d5b7['complexityValue']||document[_0x4dcd79(0x6e6)](_0x4dcd79(0xe24))[_0x4dcd79(0xb2d)],document['getElementById'](_0x4dcd79(0x2ef))['value']=_0x34d5b7[_0x4dcd79(0x2e7)]||document['getElementById'](_0x4dcd79(0x922))[_0x4dcd79(0xb2d)],document[_0x4dcd79(0x6e6)](_0x4dcd79(0x11d))[_0x4dcd79(0xb2d)]=_0x34d5b7[_0x4dcd79(0xe4b)]||document[_0x4dcd79(0x6e6)]('passing-score-input')[_0x4dcd79(0xb2d)],document[_0x4dcd79(0x6e6)]('bp-modal-num-choices')[_0x4dcd79(0xb2d)]=_0x34d5b7[_0x4dcd79(0xe16)]||document[_0x4dcd79(0x6e6)]('num-choices')[_0x4dcd79(0xb2d)],document[_0x4dcd79(0x6e6)](_0x4dcd79(0x680))['value']=_0x34d5b7['shuffle']||document[_0x4dcd79(0x6e6)](_0x4dcd79(0x55b))[_0x4dcd79(0xb2d)],document[_0x4dcd79(0x6e6)](_0x4dcd79(0x1e5))[_0x4dcd79(0x3a6)]=_0x34d5b7[_0x4dcd79(0xd15)]||document['getElementById'](_0x4dcd79(0x279))[_0x4dcd79(0x3a6)],_0x16adbf[_0x4dcd79(0x3d9)][_0x4dcd79(0xb00)](_0x4dcd79(0xd60));}function handleSaveBlueprintPageSettings(){const _0x370e90=_0x5319e2;blueprintPageSettings={'quizType':document[_0x370e90(0x6e6)](_0x370e90(0x63a))[_0x370e90(0xb2d)],'difficultyValue':document[_0x370e90(0x6e6)](_0x370e90(0xd32))[_0x370e90(0xb2d)],'complexityValue':document[_0x370e90(0x6e6)](_0x370e90(0xd9b))[_0x370e90(0xb2d)],'numQuestions':document['getElementById'](_0x370e90(0x2ef))[_0x370e90(0xb2d)],'passingScore':document[_0x370e90(0x6e6)](_0x370e90(0x11d))[_0x370e90(0xb2d)],'numChoices':document[_0x370e90(0x6e6)](_0x370e90(0x183))['value'],'shuffle':document[_0x370e90(0x6e6)](_0x370e90(0x680))['value'],'includeImages':document[_0x370e90(0x6e6)](_0x370e90(0x1e5))['checked']},showMessage(_0x370e90(0xb1d)),document[_0x370e90(0x6e6)](_0x370e90(0xc4d))[_0x370e90(0x3d9)]['add']('hidden');}function listenForParallelTestShortcuts(){const _0x2648b5=_0x5319e2,_0x3844a8=doc(db,'globalSettings',_0x2648b5(0xa50));onSnapshot(_0x3844a8,_0x18723d=>{const _0x5d399e=_0x2648b5;let _0x203b36=[],_0x5da00a=[],_0x4328af={};if(_0x18723d[_0x5d399e(0x958)]()){const _0x423ea3=_0x18723d[_0x5d399e(0x9cb)]();_0x203b36=_0x423ea3[_0x5d399e(0x971)]||[],_0x5da00a=_0x423ea3[_0x5d399e(0xe22)]||[],_0x4328af=_0x423ea3['parallelShortcutOrder']||{};}!_0x5da00a[_0x5d399e(0x8af)](_0x5318a6=>_0x5318a6['id']===_0x5d399e(0x8bd))&&_0x5da00a[_0x5d399e(0xa72)]({'id':_0x5d399e(0x8bd),'name':_0x5d399e(0xb48),'isDefault':!![]}),!_0x203b36[_0x5d399e(0x8af)](_0x192f38=>_0x192f38['id']===_0x5d399e(0xbeb))&&_0x203b36[_0x5d399e(0xa72)]({'id':_0x5d399e(0xbeb),'name':_0x5d399e(0x9e4),'url':'','isDefault':!![]}),!_0x203b36[_0x5d399e(0x8af)](_0x58b8dc=>_0x58b8dc['id']===_0x5d399e(0xccb))&&_0x203b36[_0x5d399e(0xa72)]({'id':'parallel-default-2','name':_0x5d399e(0x37a),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x203b36,parallelShortcutTabs=_0x5da00a,parallelShortcutOrder=_0x4328af,renderParallelTestShortcuts(),!document[_0x5d399e(0x6e6)](_0x5d399e(0x6a8))['classList']['contains']('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x23ebf2=_0x5319e2,_0x593c42=doc(db,_0x23ebf2(0xe25),_0x23ebf2(0xa50));try{await setDoc(_0x593c42,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x382a44){console[_0x23ebf2(0x3f8)](_0x23ebf2(0xc1b),_0x382a44);}}function renderAdditionalParallelShortcutsModal(){const _0x36c66c=_0x5319e2,_0x252070=document['getElementById'](_0x36c66c(0x149)),_0x1daabc=document[_0x36c66c(0x6e6)](_0x36c66c(0x67a));if(!_0x252070||!_0x1daabc)return;_0x252070[_0x36c66c(0xa19)]=parallelShortcutTabs[_0x36c66c(0x23a)](_0x26ca74=>{const _0xef5c81=_0x36c66c,_0x54c6ae=_0x26ca74['id']===activeParallelShortcutTabId;return _0xef5c81(0x467)+_0x26ca74['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x54c6ae?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0xef5c81(0xbf1)+_0x26ca74[_0xef5c81(0x1dc)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x26ca74[_0xef5c81(0x1dc)]+_0xef5c81(0xcf3)+(!_0x26ca74[_0xef5c81(0xa63)]?_0xef5c81(0xe9c)+_0x26ca74['id']+_0xef5c81(0x8b7):'')+_0xef5c81(0x478);})[_0x36c66c(0x975)]('');const _0x41e02e=parallelShortcutTabs['find'](_0x25db67=>_0x25db67['id']===activeParallelShortcutTabId);let _0x4887bc=_0x41e02e?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x300645=>(_0x41e02e?.[_0x36c66c(0x271)]||[])['includes'](_0x300645['id']));const _0x4d2cb9=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x4887bc[_0x36c66c(0x602)]((_0x300ae1,_0x17c0f7)=>{const _0x4c82db=_0x36c66c,_0x168ac9=_0x4d2cb9['indexOf'](_0x300ae1['id']),_0x22ec94=_0x4d2cb9[_0x4c82db(0x9de)](_0x17c0f7['id']);return(_0x168ac9===-0x1?Infinity:_0x168ac9)-(_0x22ec94===-0x1?Infinity:_0x22ec94);}),_0x1daabc[_0x36c66c(0xa19)]=_0x4887bc[_0x36c66c(0x23a)](_0x4d32b7=>{const _0xd01062=_0x36c66c,_0x102e00=_0x4d32b7[_0xd01062(0xbc3)]?'🔁':'🔗',_0x5b04ee=parallelShortcutTabs['filter'](_0x114532=>!_0x114532[_0xd01062(0xa63)]),_0x3ca982=_0x41e02e[_0xd01062(0xa63)]&&_0x5b04ee[_0xd01062(0x4f1)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b04ee[_0xd01062(0x23a)](_0x52ba97=>_0xd01062(0x4e4)+_0x4d32b7['id']+_0xd01062(0x3e4)+_0x52ba97['id']+'\x22>'+_0x52ba97['name']+_0xd01062(0x862))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0xd01062(0x92d)+_0x4d32b7['id']+_0xd01062(0xbe4)+_0x102e00+'\x20'+_0x4d32b7[_0xd01062(0x1dc)]+_0xd01062(0xc81)+_0x4d32b7['id']+_0xd01062(0xa28)+_0x4d32b7['id']+_0xd01062(0x3f3)+(!_0x4d32b7[_0xd01062(0xa63)]?_0xd01062(0x29f)+_0x4d32b7['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0xd01062(0x319)+(!_0x41e02e[_0xd01062(0xa63)]?_0xd01062(0x5a4)+_0x4d32b7['id']+_0xd01062(0x5b6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ca982+_0xd01062(0xcba);})['join']('')||_0x36c66c(0x39f),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x43aab7=_0x5319e2;document[_0x43aab7(0x2c3)](_0x43aab7(0x9a0))['forEach'](_0x4818bc=>{_0x4818bc['onclick']=_0x4fe1e8=>{const _0x4a7630=_0x4aab;activeParallelShortcutTabId=_0x4fe1e8[_0x4a7630(0x453)][_0x4a7630(0x9ff)][_0x4a7630(0x277)],renderAdditionalParallelShortcutsModal();},_0x4818bc['ondblclick']=_0x1426cc=>{const _0x1ba7b6=_0x4aab,_0x42fed4=_0x1426cc[_0x1ba7b6(0x453)][_0x1ba7b6(0x86d)](_0x1ba7b6(0x3e9));_0x1426cc[_0x1ba7b6(0x453)][_0x1ba7b6(0x86d)](_0x1ba7b6(0x43c))['classList']['add'](_0x1ba7b6(0xd60)),_0x42fed4[_0x1ba7b6(0x3d9)][_0x1ba7b6(0xb00)](_0x1ba7b6(0xd60)),_0x42fed4['focus'](),_0x42fed4[_0x1ba7b6(0x905)]();};}),document['querySelectorAll'](_0x43aab7(0x884))[_0x43aab7(0xbf2)](_0x10cce2=>{const _0x21823b=_0x43aab7,_0x20c9f2=()=>{const _0x42f896=_0x4aab,_0x3e01ef=_0x10cce2['closest'](_0x42f896(0x9a0))[_0x42f896(0x9ff)][_0x42f896(0x277)],_0x4ae8fa=parallelShortcutTabs[_0x42f896(0x8af)](_0x287900=>_0x287900['id']===_0x3e01ef);_0x4ae8fa&&(_0x4ae8fa[_0x42f896(0x1dc)]=_0x10cce2[_0x42f896(0xb2d)][_0x42f896(0xc3f)]()||_0x4ae8fa[_0x42f896(0x1dc)],saveParallelShortcutConfig());};_0x10cce2[_0x21823b(0x933)]=_0x20c9f2,_0x10cce2[_0x21823b(0xdee)]=_0x3eae86=>{const _0x177d4a=_0x21823b;if(_0x3eae86[_0x177d4a(0x624)]===_0x177d4a(0x2be))_0x10cce2[_0x177d4a(0x261)]();};}),document[_0x43aab7(0x2c3)](_0x43aab7(0xb18))[_0x43aab7(0xbf2)](_0x3a0a8a=>_0x3a0a8a[_0x43aab7(0x4aa)]=_0x3804a0=>{const _0x3a929f=_0x43aab7,_0x49ac39=_0x3804a0[_0x3a929f(0x453)][_0x3a929f(0x9ff)][_0x3a929f(0x277)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0xddef43=_0x3a929f;parallelShortcutTabs=parallelShortcutTabs[_0xddef43(0xbdf)](_0x1b065e=>_0x1b065e['id']!==_0x49ac39),delete parallelShortcutOrder[_0x49ac39];if(activeParallelShortcutTabId===_0x49ac39)activeParallelShortcutTabId=_0xddef43(0x8bd);saveParallelShortcutConfig();});}),document[_0x43aab7(0x2c3)](_0x43aab7(0x128))[_0x43aab7(0xbf2)](_0x433d33=>_0x433d33[_0x43aab7(0x4aa)]=_0x246b92=>{const _0x7095f2=_0x43aab7;_0x246b92['preventDefault']();const {shortcutId:_0x57d99b,targetTabId:_0x29060f}=_0x246b92[_0x7095f2(0x453)][_0x7095f2(0x9ff)],_0x3cc867=parallelShortcutTabs[_0x7095f2(0x8af)](_0x91f355=>_0x91f355['id']===_0x29060f);_0x3cc867&&!_0x3cc867['shortcutIds'][_0x7095f2(0x676)](_0x57d99b)&&(_0x3cc867[_0x7095f2(0x271)][_0x7095f2(0xbda)](_0x57d99b),saveParallelShortcutConfig());}),document[_0x43aab7(0x2c3)](_0x43aab7(0x968))[_0x43aab7(0xbf2)](_0xb54d4b=>_0xb54d4b[_0x43aab7(0x4aa)]=_0x1ad571=>{const _0x5812df=_0x43aab7,_0x1edce7=_0x1ad571[_0x5812df(0x453)][_0x5812df(0x9ff)][_0x5812df(0xd93)],_0x4d29c5=parallelShortcutTabs[_0x5812df(0x8af)](_0x435a5a=>_0x435a5a['id']===activeParallelShortcutTabId);_0x4d29c5&&!_0x4d29c5[_0x5812df(0xa63)]&&(_0x4d29c5[_0x5812df(0x271)]=_0x4d29c5['shortcutIds']['filter'](_0xc42372=>_0xc42372!==_0x1edce7),saveParallelShortcutConfig());}),document[_0x43aab7(0x2c3)]('.move-parallel-shortcut-menu-btn')[_0x43aab7(0xbf2)](_0x55bbb8=>_0x55bbb8[_0x43aab7(0x4aa)]=_0x42d022=>{const _0x35fe61=_0x43aab7;_0x42d022[_0x35fe61(0x394)]();const _0x2d40b7=_0x42d022[_0x35fe61(0x453)][_0x35fe61(0x63b)];document[_0x35fe61(0x2c3)](_0x35fe61(0x4e9))['forEach'](_0xc6a82c=>_0xc6a82c['classList']['add'](_0x35fe61(0xd60))),_0x2d40b7['classList'][_0x35fe61(0xb00)](_0x35fe61(0xd60));});const _0x160464=document[_0x43aab7(0x6e6)]('additional-parallel-shortcuts-list');let _0x5d7773=null;_0x160464[_0x43aab7(0x833)]=_0x24ea9b=>{const _0x5af878=_0x43aab7;_0x5d7773=_0x24ea9b[_0x5af878(0x8ce)]['closest'](_0x5af878(0x914));if(_0x5d7773)setTimeout(()=>_0x5d7773[_0x5af878(0x3d9)]['add'](_0x5af878(0xc9b)),0x0);},_0x160464[_0x43aab7(0xafb)]=()=>{const _0x496d90=_0x43aab7;_0x5d7773&&(_0x5d7773[_0x496d90(0x3d9)][_0x496d90(0xb00)](_0x496d90(0xc9b)),_0x5d7773=null);},_0x160464[_0x43aab7(0x497)]=_0x9b4947=>{_0x9b4947['preventDefault']();},_0x160464['ondrop']=_0x27f8bf=>{const _0x53fbf8=_0x43aab7;_0x27f8bf[_0x53fbf8(0x266)]();if(_0x5d7773){const _0x30385e=[..._0x160464[_0x53fbf8(0x2c3)](_0x53fbf8(0x2a4))][_0x53fbf8(0xe69)]((_0x1e4c27,_0x3969a2)=>{const _0x49f2f6=_0x53fbf8,_0x27099f=_0x3969a2['getBoundingClientRect'](),_0x1f8785=_0x27f8bf[_0x49f2f6(0xc1d)]-_0x27099f[_0x49f2f6(0xb25)]-_0x27099f[_0x49f2f6(0x210)]/0x2;return _0x1f8785<0x0&&_0x1f8785>_0x1e4c27[_0x49f2f6(0x179)]?{'offset':_0x1f8785,'element':_0x3969a2}:_0x1e4c27;},{'offset':Number[_0x53fbf8(0xafa)]})[_0x53fbf8(0xc45)];_0x30385e==null?_0x160464[_0x53fbf8(0xab8)](_0x5d7773):_0x160464[_0x53fbf8(0xdbb)](_0x5d7773,_0x30385e);const _0xef3e3a=[..._0x160464['querySelectorAll']('.shortcut-list-item')]['map'](_0x14517c=>_0x14517c['dataset']['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0xef3e3a,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x2ec5a9=_0x5319e2,_0x389d8e=prompt(_0x2ec5a9(0x69e),_0x2ec5a9(0xdbf));_0x389d8e&&_0x389d8e[_0x2ec5a9(0xc3f)]()&&(parallelShortcutTabs['push']({'id':'tab_'+Date[_0x2ec5a9(0xc35)](),'name':_0x389d8e[_0x2ec5a9(0xc3f)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x39e718=_0x5319e2,_0x1d310e=document[_0x39e718(0x6e6)]('parallel-shortcut-container'),_0x2de5ef=document[_0x39e718(0x6e6)](_0x39e718(0x67a)),_0x9a7718=document['getElementById'](_0x39e718(0xc61));if(_0x9a7718)_0x9a7718[_0x39e718(0x3d9)][_0x39e718(0x831)](_0x39e718(0xd60));if(!_0x1d310e||!_0x2de5ef)return;const _0x1d9fa8=parallelTestShortcuts['slice'](0x0,0x4),_0x21e8d6=parallelTestShortcuts[_0x39e718(0x1e1)](0x4);_0x1d310e[_0x39e718(0xa19)]=_0x1d9fa8[_0x39e718(0x23a)](_0xa655ff=>{const _0x194218=_0x39e718,_0x456c49=_0xa655ff[_0x194218(0xbc3)]&&_0xa655ff[_0x194218(0xbc3)]['trim']()!=='',_0x38f206=_0x456c49?_0x194218(0x91f):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x28f5ce=_0x456c49?'🔁':'🔗',_0x1ee154=!_0xa655ff[_0x194218(0xa63)]?_0x194218(0x29f)+_0xa655ff['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0xa655ff['id']+_0x194218(0xc69)+_0x38f206+_0x194218(0x70e)+_0x28f5ce+'\x20'+_0xa655ff[_0x194218(0x1dc)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa655ff['id']+_0x194218(0xb10)+_0x1ee154+_0x194218(0x777);})[_0x39e718(0x975)](''),_0x21e8d6['length']>0x0&&(_0x1d310e[_0x39e718(0xa19)]+=_0x39e718(0x670)),_0x21e8d6[_0x39e718(0x4f1)]>0x0?_0x2de5ef[_0x39e718(0xa19)]=_0x21e8d6[_0x39e718(0x23a)](_0xfb9ac1=>_0x39e718(0x8cd)+(_0xfb9ac1[_0x39e718(0xbc3)]?'🔁':'🔗')+'\x20'+_0xfb9ac1[_0x39e718(0x1dc)]+_0x39e718(0x1c5)+_0xfb9ac1['id']+_0x39e718(0xb81)+_0xfb9ac1['id']+_0x39e718(0x921)+(!_0xfb9ac1[_0x39e718(0xa63)]?_0x39e718(0x29f)+_0xfb9ac1['id']+_0x39e718(0xce6):'')+_0x39e718(0x566))[_0x39e718(0x975)](''):_0x2de5ef[_0x39e718(0xa19)]=_0x39e718(0x72e);}function openParallelTestShortcutEditor(_0x230909=null){const _0x416783=_0x5319e2,_0x37908e=document[_0x416783(0x6e6)]('parallel-shortcut-editor-modal'),_0x19c1be=document[_0x416783(0x6e6)]('parallel-shortcut-modal-title'),_0x38df7e=document[_0x416783(0x6e6)]('parallel-shortcut-id-input'),_0x5e52ef=document[_0x416783(0x6e6)](_0x416783(0x76b)),_0x2d09e1=document[_0x416783(0x6e6)]('parallel-shortcut-url-input');if(_0x230909){const _0x642d8a=parallelTestShortcuts['find'](_0x58ee33=>_0x58ee33['id']===_0x230909);if(!_0x642d8a)return;_0x19c1be[_0x416783(0xb7b)]=_0x416783(0xbbe),_0x38df7e[_0x416783(0xb2d)]=_0x642d8a['id'],_0x5e52ef[_0x416783(0xb2d)]=_0x642d8a[_0x416783(0x1dc)],_0x2d09e1['value']=_0x642d8a[_0x416783(0xbc3)]||'';}else _0x19c1be[_0x416783(0xb7b)]=_0x416783(0xc7f),_0x38df7e[_0x416783(0xb2d)]='',_0x5e52ef[_0x416783(0xb2d)]='',_0x2d09e1[_0x416783(0xb2d)]='';_0x37908e['classList'][_0x416783(0xb00)](_0x416783(0xd60));}async function saveParallelTestShortcutChanges(){const _0x11dca6=_0x5319e2,_0x10ff76=document[_0x11dca6(0x6e6)](_0x11dca6(0x701))[_0x11dca6(0xb2d)],_0x542c4b=document[_0x11dca6(0x6e6)]('parallel-shortcut-name-input')[_0x11dca6(0xb2d)]['trim'](),_0x4dfb38=document['getElementById'](_0x11dca6(0x420))['value'][_0x11dca6(0xc3f)]();if(!_0x542c4b){showMessage(_0x11dca6(0x734));return;}const _0x506c65={'id':_0x10ff76||_0x11dca6(0x7c4)+Date['now'](),'name':_0x542c4b,'url':_0x4dfb38,'isDefault':_0x10ff76['startsWith'](_0x11dca6(0xdff))};let _0x2920ab;_0x10ff76?_0x2920ab=parallelTestShortcuts[_0x11dca6(0x23a)](_0x5952e4=>_0x5952e4['id']===_0x10ff76?_0x506c65:_0x5952e4):_0x2920ab=[...parallelTestShortcuts,_0x506c65];try{const _0x31c7c0=doc(db,_0x11dca6(0xe25),'parallelTestShortcutsConfig');await setDoc(_0x31c7c0,{'shortcuts':_0x2920ab},{'merge':!![]}),document[_0x11dca6(0x6e6)](_0x11dca6(0x708))[_0x11dca6(0x3d9)][_0x11dca6(0x831)]('hidden');}catch(_0x4e241f){console[_0x11dca6(0x3f8)](_0x11dca6(0x880),_0x4e241f),showMessage(_0x11dca6(0xc39));}}async function handleParallelTestShortcutClick(_0x4e265c){const _0x3b2977=_0x5319e2,_0x487f92=parallelTestShortcuts['find'](_0x1ba35a=>_0x1ba35a['id']===_0x4e265c);if(!_0x487f92)return;if(!_0x487f92[_0x3b2977(0xbc3)]||_0x487f92['url'][_0x3b2977(0xc3f)]()===''){openParallelTestShortcutEditor(_0x4e265c);return;}const _0x5574a6=document['getElementById'](_0x3b2977(0x6f0)),_0x2e986d=document[_0x3b2977(0x6e6)](_0x3b2977(0x4a5));document[_0x3b2977(0x6e6)]('quiz-generation-area')[_0x3b2977(0x3d9)][_0x3b2977(0xb00)](_0x3b2977(0xd60)),document[_0x3b2977(0x6e6)](_0x3b2977(0x5b5))[_0x3b2977(0xa19)]='',_0x5574a6['classList'][_0x3b2977(0xb00)](_0x3b2977(0xd60)),_0x2e986d[_0x3b2977(0xb7b)]='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x34c6db;_0x487f92[_0x3b2977(0xbc3)][_0x3b2977(0x3a8)]()[_0x3b2977(0x676)](_0x3b2977(0x294))?_0x34c6db='source_document.txt':_0x34c6db=_0x3b2977(0x1cb);const _0x1731bc=await fetchFileFromUrl(_0x487f92[_0x3b2977(0xbc3)],_0x34c6db);await handleGenerateParallelTest(_0x1731bc);}catch(_0x175c51){console['error'](_0x3b2977(0x8fc),_0x175c51),showMessage(_0x3b2977(0x1f5)+_0x175c51[_0x3b2977(0xa6b)]),_0x5574a6[_0x3b2977(0x3d9)][_0x3b2977(0x831)](_0x3b2977(0xd60));}}function initializeScratchpadCanvas(){const _0xcfd1b3=_0x5319e2,_0x1550fa=document[_0xcfd1b3(0x6e6)](_0xcfd1b3(0x63c)),_0x2ccab2=document[_0xcfd1b3(0x86d)](_0xcfd1b3(0xb63));if(!_0x1550fa||!_0x2ccab2)return;scratchpadCtx=_0x1550fa[_0xcfd1b3(0x73a)]('2d',{'willReadFrequently':!![]});const _0x2d01a6=window[_0xcfd1b3(0x65f)]||0x1,_0x89d5f=_0x2ccab2[_0xcfd1b3(0x82f)]();_0x1550fa['width']=_0x89d5f[_0xcfd1b3(0x96d)]*_0x2d01a6,_0x1550fa[_0xcfd1b3(0x210)]=_0x89d5f['height']*_0x2d01a6,_0x1550fa[_0xcfd1b3(0xaed)][_0xcfd1b3(0x96d)]=_0x89d5f[_0xcfd1b3(0x96d)]+'px',_0x1550fa[_0xcfd1b3(0xaed)][_0xcfd1b3(0x210)]=_0x89d5f[_0xcfd1b3(0x210)]+'px',scratchpadCtx[_0xcfd1b3(0x30f)](_0x2d01a6,_0x2d01a6),scratchpadCtx[_0xcfd1b3(0x35d)]='round',scratchpadCtx[_0xcfd1b3(0xd5c)]=_0xcfd1b3(0x37d),_0x1550fa[_0xcfd1b3(0x60a)](_0xcfd1b3(0xd77),handlePointerDown),_0x1550fa[_0xcfd1b3(0x60a)]('pointermove',handlePointerMove),_0x1550fa['removeEventListener'](_0xcfd1b3(0xd27),handlePointerUp),_0x1550fa[_0xcfd1b3(0x60a)]('pointercancel',handlePointerUp),_0x1550fa[_0xcfd1b3(0x60a)]('wheel',handleWheel),_0x1550fa[_0xcfd1b3(0x60a)](_0xcfd1b3(0xddc),handlePointerDown),_0x1550fa[_0xcfd1b3(0x60a)](_0xcfd1b3(0x694),handlePointerMove),_0x1550fa[_0xcfd1b3(0x60a)]('touchend',handlePointerUp),_0x1550fa[_0xcfd1b3(0x49d)](_0xcfd1b3(0xd77),handlePointerDown),_0x1550fa[_0xcfd1b3(0x49d)](_0xcfd1b3(0x8a6),handlePointerMove),_0x1550fa['addEventListener']('pointerup',handlePointerUp),_0x1550fa[_0xcfd1b3(0x49d)](_0xcfd1b3(0xa04),handlePointerUp),_0x1550fa['addEventListener'](_0xcfd1b3(0x6d6),handleWheel,{'passive':![]}),_0x1550fa[_0xcfd1b3(0x49d)](_0xcfd1b3(0xddc),handlePointerDown,{'passive':![]}),_0x1550fa[_0xcfd1b3(0x49d)]('touchmove',handlePointerMove,{'passive':![]}),_0x1550fa[_0xcfd1b3(0x49d)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x55f3aa=_0x5319e2,_0x1a7240=document[_0x55f3aa(0x6e6)](_0x55f3aa(0x9ab)),_0xbfb8aa=document[_0x55f3aa(0x6e6)](_0x55f3aa(0x432));_0xbfb8aa['innerHTML']=_0x55f3aa(0x534)+scratchpadHighlighterSize+_0x55f3aa(0x844);const _0x34a47c=document[_0x55f3aa(0x6e6)]('pen-tool-btn'),_0x57f0b2=document[_0x55f3aa(0x6e6)]('eraser-tool-btn'),_0xfa439f=document[_0x55f3aa(0x6e6)](_0x55f3aa(0x1be)),_0x1ba13d=document['getElementById'](_0x55f3aa(0xbd8)),_0x4f0d17=document['getElementById'](_0x55f3aa(0xd51)),_0x383f6a=document['getElementById'](_0x55f3aa(0x1bf)),_0x208d86=document['getElementById']('eraser-tools-group'),_0x464f64=[_0x34a47c,_0x57f0b2,_0xfa439f,_0x1ba13d];document[_0x55f3aa(0x6e6)](_0x55f3aa(0x33a))[_0x55f3aa(0x49d)]('click',()=>_0x1a7240[_0x55f3aa(0x3d9)][_0x55f3aa(0x831)](_0x55f3aa(0xd60))),document['getElementById'](_0x55f3aa(0x4b9))[_0x55f3aa(0x49d)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x55f3aa(0x6e6)](_0x55f3aa(0x21f))['addEventListener']('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x55f3aa(0x6e6)]('undo-btn')[_0x55f3aa(0x49d)](_0x55f3aa(0xa6e),undo),document[_0x55f3aa(0x6e6)](_0x55f3aa(0x635))['addEventListener'](_0x55f3aa(0xa6e),redo);const _0x17c793=_0x3dd589=>{const _0x58992a=_0x55f3aa;_0x464f64[_0x58992a(0xbf2)](_0x3afe53=>_0x3afe53[_0x58992a(0x3d9)][_0x58992a(0xb00)]('active')),_0x3dd589[_0x58992a(0x3d9)][_0x58992a(0x831)](_0x58992a(0x797)),_0x4f0d17['classList'][_0x58992a(0x831)](_0x58992a(0xd60)),_0x383f6a[_0x58992a(0x3d9)][_0x58992a(0x831)](_0x58992a(0xd60)),_0x208d86[_0x58992a(0x3d9)]['add'](_0x58992a(0xd60));if(activeTool==='pen'||activeTool===_0x58992a(0x8a1))_0x4f0d17['classList'][_0x58992a(0xb00)](_0x58992a(0xd60));else{if(activeTool===_0x58992a(0xb80))_0x383f6a[_0x58992a(0x3d9)]['remove'](_0x58992a(0xd60));else activeTool===_0x58992a(0x3dd)&&_0x208d86[_0x58992a(0x3d9)]['remove'](_0x58992a(0xd60));}};_0x34a47c[_0x55f3aa(0x49d)]('click',()=>{const _0x3dae91=_0x55f3aa;activeTool=_0x3dae91(0x77e),_0x17c793(_0x34a47c);}),_0x57f0b2[_0x55f3aa(0x49d)](_0x55f3aa(0xa6e),()=>{activeTool='eraser',_0x17c793(_0x57f0b2);}),_0xfa439f[_0x55f3aa(0x49d)]('click',()=>{const _0x1c5252=_0x55f3aa;activeTool=_0x1c5252(0x8a1),_0x17c793(_0xfa439f);}),_0x1ba13d[_0x55f3aa(0x49d)](_0x55f3aa(0xa6e),()=>{const _0x51c199=_0x55f3aa;activeTool=_0x51c199(0xb80),_0x17c793(_0x1ba13d);}),_0x4f0d17['querySelectorAll'](_0x55f3aa(0x27b))[_0x55f3aa(0xbf2)](_0x4a20d7=>{const _0x485620=_0x55f3aa;_0x4a20d7[_0x485620(0x49d)](_0x485620(0xa6e),_0x39a500=>{const _0x5dd41=_0x485620;scratchpadPenSize=parseInt(_0x39a500[_0x5dd41(0x8ce)]['dataset']['size'],0xa),_0x4f0d17['querySelectorAll'](_0x5dd41(0x27b))[_0x5dd41(0xbf2)](_0x4b9b22=>_0x4b9b22['classList']['remove'](_0x5dd41(0x797))),_0x39a500['target'][_0x5dd41(0x3d9)][_0x5dd41(0x831)]('active');});}),_0x208d86['querySelectorAll'](_0x55f3aa(0xc8b))[_0x55f3aa(0xbf2)](_0x57ccd4=>{const _0x3c9662=_0x55f3aa;_0x57ccd4[_0x3c9662(0x49d)](_0x3c9662(0xa6e),_0x4370a9=>{const _0x174c25=_0x3c9662,_0x19f43c=_0x4370a9[_0x174c25(0x453)];scratchpadEraserSize=parseInt(_0x19f43c[_0x174c25(0x9ff)][_0x174c25(0x9e2)],0xa),_0x208d86[_0x174c25(0x2c3)](_0x174c25(0xc8b))[_0x174c25(0xbf2)](_0x30f67c=>_0x30f67c[_0x174c25(0x3d9)][_0x174c25(0xb00)](_0x174c25(0x797))),_0x19f43c[_0x174c25(0x3d9)][_0x174c25(0x831)](_0x174c25(0x797));});}),_0x4f0d17[_0x55f3aa(0x2c3)](_0x55f3aa(0x28e))[_0x55f3aa(0xbf2)](_0x2d0bc3=>{const _0x51c302=_0x55f3aa;_0x2d0bc3[_0x51c302(0x49d)]('click',_0x536e89=>{const _0x3f2f68=_0x51c302;scratchpadPenColor=_0x536e89[_0x3f2f68(0x8ce)][_0x3f2f68(0x9ff)][_0x3f2f68(0x630)],_0x4f0d17['querySelectorAll'](_0x3f2f68(0x28e))['forEach'](_0x42cb6a=>_0x42cb6a[_0x3f2f68(0x3d9)][_0x3f2f68(0xb00)](_0x3f2f68(0x797))),_0x536e89[_0x3f2f68(0x8ce)][_0x3f2f68(0x3d9)][_0x3f2f68(0x831)](_0x3f2f68(0x797));});}),_0x383f6a[_0x55f3aa(0x2c3)](_0x55f3aa(0xe8f))[_0x55f3aa(0xbf2)](_0x346afa=>{const _0x49c522=_0x55f3aa;_0x346afa[_0x49c522(0x49d)](_0x49c522(0xa6e),_0x5c1ec9=>{const _0x177295=_0x49c522;scratchpadHighlighterColor=_0x5c1ec9[_0x177295(0x8ce)][_0x177295(0x9ff)][_0x177295(0x630)],_0x383f6a[_0x177295(0x2c3)](_0x177295(0xe8f))['forEach'](_0x542af7=>_0x542af7['classList'][_0x177295(0xb00)](_0x177295(0x797))),_0x5c1ec9[_0x177295(0x8ce)][_0x177295(0x3d9)][_0x177295(0x831)](_0x177295(0x797));});});const _0x2d31a8=document[_0x55f3aa(0x6e6)](_0x55f3aa(0xb5b)),_0x4a3b1a=document[_0x55f3aa(0x6e6)](_0x55f3aa(0x537));_0x2d31a8[_0x55f3aa(0x49d)](_0x55f3aa(0x2e8),_0x321fe8=>{const _0x50dd6b=_0x55f3aa,_0x3d27b1=parseInt(_0x321fe8[_0x50dd6b(0x8ce)][_0x50dd6b(0xb2d)],0xa);scratchpadHighlighterSize=_0x3d27b1,_0x4a3b1a['textContent']=_0x3d27b1;}),window[_0x55f3aa(0x49d)](_0x55f3aa(0xc68),()=>{const _0x577b6e=_0x55f3aa;!_0x1a7240['classList'][_0x577b6e(0x124)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x5319e2(0x6e0),'name':_0x5319e2(0x43e),'description':_0x5319e2(0x7f8),'icon':_0x5319e2(0xa5c)},'QUICK_THINKER':{'id':_0x5319e2(0x32f),'name':'เซียนสมองไว','description':_0x5319e2(0x3cc),'icon':_0x5319e2(0x772)},'ON_FIRE':{'id':'on_fire','name':_0x5319e2(0x8c0),'description':_0x5319e2(0xbe0),'icon':_0x5319e2(0x92f)},'FIRST_TRY_ACE':{'id':_0x5319e2(0x8cb),'name':_0x5319e2(0x99f),'description':_0x5319e2(0x2ad),'icon':_0x5319e2(0xda9)},'COMEBACK_KING':{'id':_0x5319e2(0x476),'name':_0x5319e2(0x4a1),'description':_0x5319e2(0xb8e),'icon':_0x5319e2(0x639)},'SPECIALIST':{'id':_0x5319e2(0x61c),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x5319e2(0xb4e)},'PERSEVERANCE':{'id':_0x5319e2(0xe60),'name':_0x5319e2(0xdb6),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x5319e2(0x293)}},firebaseConfig={'apiKey':_0x5319e2(0xb39),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':_0x5319e2(0x29e),'messagingSenderId':_0x5319e2(0x2a8),'appId':_0x5319e2(0x852),'measurementId':_0x5319e2(0x733)},appId=typeof __app_id!=='undefined'?__app_id:_0x5319e2(0x705),adminView=document[_0x5319e2(0x6e6)](_0x5319e2(0x7c8)),studentView=document[_0x5319e2(0x6e6)](_0x5319e2(0x18d)),projectDashboardView=document[_0x5319e2(0x6e6)]('project-dashboard-view'),projectDetailView=document[_0x5319e2(0x6e6)](_0x5319e2(0x7d1)),quizResultsView=document['getElementById'](_0x5319e2(0xab5)),projectList=document['getElementById'](_0x5319e2(0x1b6)),noProjectsMsg=document['getElementById'](_0x5319e2(0xcc0)),projectTitle=document['getElementById'](_0x5319e2(0xa82)),projectIdDisplay=document[_0x5319e2(0x6e6)](_0x5319e2(0xaf7)),studentList=document[_0x5319e2(0x6e6)](_0x5319e2(0x601)),messageModal=document[_0x5319e2(0x6e6)](_0x5319e2(0xa74)),modalMessage=document[_0x5319e2(0x6e6)]('modal-message'),createProjectModal=document[_0x5319e2(0x6e6)](_0x5319e2(0x6f4)),adminPasswordModal=document[_0x5319e2(0x6e6)](_0x5319e2(0x12c)),confirmationModal=document[_0x5319e2(0x6e6)](_0x5319e2(0x257)),userIdDisplay=document['getElementById'](_0x5319e2(0x8eb)),topicTab=document[_0x5319e2(0x6e6)]('topic-tab'),textTab=document[_0x5319e2(0x6e6)](_0x5319e2(0x218)),topicInputArea=document['getElementById'](_0x5319e2(0xd24)),textInputArea=document[_0x5319e2(0x6e6)](_0x5319e2(0xe74)),manageTab=document[_0x5319e2(0x6e6)](_0x5319e2(0x308)),resultsTab=document[_0x5319e2(0x6e6)]('results-tab'),leaderboardTab=document[_0x5319e2(0x6e6)](_0x5319e2(0xb32)),manageTabContent=document[_0x5319e2(0x6e6)](_0x5319e2(0x532)),resultsTabContent=document['getElementById'](_0x5319e2(0xb20)),leaderboardTabContent=document[_0x5319e2(0x6e6)](_0x5319e2(0xb34)),projectQuizzesList=document[_0x5319e2(0x6e6)]('project-quizzes-list'),fileTab=document[_0x5319e2(0x6e6)]('file-tab'),fileInputArea=document[_0x5319e2(0x6e6)](_0x5319e2(0x71d)),fileUploadInput=document[_0x5319e2(0x6e6)](_0x5319e2(0x793)),worksheetTab=document[_0x5319e2(0x6e6)](_0x5319e2(0xd6e)),worksheetInputArea=document[_0x5319e2(0x6e6)](_0x5319e2(0x8d3)),generateWorksheetBtn=document[_0x5319e2(0x6e6)](_0x5319e2(0xc2b)),studentInitialView=document['getElementById'](_0x5319e2(0xa7b)),studentNameSelectionView=document[_0x5319e2(0x6e6)](_0x5319e2(0x656)),studentQuizArea=document[_0x5319e2(0x6e6)](_0x5319e2(0xe7e)),studentResultArea=document[_0x5319e2(0x6e6)]('student-result-area'),studentReadingArea=document[_0x5319e2(0x6e6)](_0x5319e2(0x490)),loadQuizBtn=document['getElementById'](_0x5319e2(0x612)),startQuizBtn=document[_0x5319e2(0x6e6)]('start-quiz-btn'),studentJoinGameView=document[_0x5319e2(0x6e6)](_0x5319e2(0x1fa)),presentationModal=document[_0x5319e2(0x6e6)](_0x5319e2(0xcda)),renameQuizModal=document[_0x5319e2(0x6e6)](_0x5319e2(0x6a1)),moveQuizModal=document['getElementById'](_0x5319e2(0x52c)),quizSettingsModal=document[_0x5319e2(0x6e6)](_0x5319e2(0x66b)),quizStatusModal=document['getElementById'](_0x5319e2(0x6d7)),liveGameView=document[_0x5319e2(0x6e6)](_0x5319e2(0x79f));function handleFixLessonLatex(){const _0x2d8f98=_0x5319e2,_0x3dd35b=document[_0x2d8f98(0x6e6)](_0x2d8f98(0x7bf));if(!_0x3dd35b){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0xf48a12=_0x3dd35b[_0x2d8f98(0x2c3)]([_0x2d8f98(0x74b),_0x2d8f98(0x369),_0x2d8f98(0xe26),_0x2d8f98(0xb27),'.ai-content\x20h3'][_0x2d8f98(0x975)](','));let _0x978864=0x0;const _0x5270af=_0x4a695e=>_0x4a695e[_0x2d8f98(0xb7b)]||'',_0x559106=(_0x121e3e,_0x5e0ae9)=>{const _0x259f71=_0x2d8f98;if(_0x121e3e['querySelector']&&_0x121e3e[_0x259f71(0x86d)]('mjx-container'))return;_0x121e3e[_0x259f71(0xb7b)]=_0x5e0ae9;},_0x4c159f=_0x54dd60=>_0x54dd60['replace'](/\u00A0/g,'\x20')[_0x2d8f98(0xa31)](/\u200B/g,'')[_0x2d8f98(0xa31)](/\r\n?/g,'\x0a'),_0x500e1b=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x75df17=_0x58bdee=>{const _0x1ad283=_0x2d8f98;let _0x3b3c19=_0x58bdee[_0x1ad283(0xc3f)]();const _0x2d4258=[_0x1ad283(0xe38),_0x1ad283(0x1f4),_0x1ad283(0x4bd),'sqrt',_0x1ad283(0x135),_0x1ad283(0xb8a),_0x1ad283(0x2ea),_0x1ad283(0xbbc),'leq',_0x1ad283(0x70c),'le','ge',_0x1ad283(0x159),'pm',_0x1ad283(0x620),_0x1ad283(0x260),_0x1ad283(0xe54),_0x1ad283(0xae0),_0x1ad283(0x8b1),'ln',_0x1ad283(0x551),'prod','binom',_0x1ad283(0xb31),_0x1ad283(0xb26),_0x1ad283(0x3f5),_0x1ad283(0x6c9),_0x1ad283(0x8e6),_0x1ad283(0xe21)];_0x2d4258[_0x1ad283(0xbf2)](_0x5b0a53=>{_0x3b3c19=_0x3b3c19['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x5b0a53+'\x5cb','g'),(_0x5a1df9,_0x2aa37d)=>_0x2aa37d+'\x5c'+_0x5b0a53);});const _0xc8d02a=[[/×/g,_0x1ad283(0xd64)],[/·/g,'\x5ccdot'],[/÷/g,_0x1ad283(0x4b1)],[/≤/g,_0x1ad283(0x41f)],[/≥/g,_0x1ad283(0xa3a)],[/≠/g,_0x1ad283(0x799)],[/±/g,'\x5cpm'],[/∑/g,_0x1ad283(0xa7a)],[/−/g,'-']];return _0xc8d02a[_0x1ad283(0xbf2)](([_0xc594ef,_0x4f1e01])=>{const _0x209214=_0x1ad283;_0x3b3c19=_0x3b3c19[_0x209214(0xa31)](_0xc594ef,_0x4f1e01);}),_0x3b3c19=_0x3b3c19['replace'](/√\s*([A-Za-z0-9]+)/g,_0x1ad283(0x21a)),_0x3b3c19=_0x3b3c19[_0x1ad283(0xa31)](/(\d+)\s*%/g,_0x1ad283(0xc20)),_0x3b3c19;},_0x31169a=_0x3a4037=>{const _0x4b2d79=_0x2d8f98;if(/\$|\\\(|\\\[/['test'](_0x3a4037))return _0x3a4037;if(!_0x500e1b[_0x4b2d79(0x5cc)](_0x3a4037))return _0x3a4037;const _0x9577be=_0x3a4037[_0x4b2d79(0xaeb)](/^\s*/)[0x0],_0x3daa76=_0x3a4037[_0x4b2d79(0xaeb)](/\s*$/)[0x0],_0x2a68f6=_0x3a4037[_0x4b2d79(0xc3f)]();return _0x9577be+'$'+_0x75df17(_0x2a68f6)+'$'+_0x3daa76;};_0xf48a12[_0x2d8f98(0xbf2)](_0x38fcf9=>{const _0x31767f=_0x2d8f98,_0x195dd8=_0x5270af(_0x38fcf9);let _0xc47c65=_0x4c159f(_0x195dd8);_0xc47c65=_0xc47c65[_0x31767f(0xa31)](/\$([^$]*?)\$/g,(_0xff9001,_0x34eaf5)=>'$'+_0x75df17(_0x34eaf5)+'$');const _0x5c7f54=_0xc47c65[_0x31767f(0x3ba)](/(\s+)/),_0x1523f7=_0x5c7f54[_0x31767f(0x23a)](_0x26da3e=>{const _0x27e161=_0x31767f;if(/\s+/[_0x27e161(0x5cc)](_0x26da3e))return _0x26da3e;return _0x31169a(_0x26da3e);});_0xc47c65=_0x1523f7['join'](''),_0xc47c65!==_0x195dd8&&(_0x559106(_0x38fcf9,_0xc47c65),_0x978864++);});if(_0x978864>0x0){showMessage(_0x2d8f98(0x131)+_0x978864+_0x2d8f98(0xbcd));try{window[_0x2d8f98(0x19c)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x3dd35b]);}catch(_0x66df4b){console[_0x2d8f98(0x3f8)](_0x2d8f98(0xb0a),_0x66df4b);}}else showMessage(_0x2d8f98(0x146));}function handleAutoFixLatex(){const _0x38668c=_0x5319e2,_0x535a2a=document[_0x38668c(0x6e6)](_0x38668c(0x1b9))||document,_0x2350c8=_0x535a2a[_0x38668c(0x2c3)](_0x38668c(0x28a));let _0x6f58d=0x0;const _0x293db3=_0x530861=>_0x38668c(0xb2d)in _0x530861?String(_0x530861[_0x38668c(0xb2d)]):_0x530861[_0x38668c(0x87a)]!==undefined?_0x530861['innerText']:_0x530861[_0x38668c(0xb7b)]||'',_0x4f9c7a=(_0x56ccb0,_0x1257d4)=>{const _0x43f14b=_0x38668c;if(_0x43f14b(0xb2d)in _0x56ccb0){_0x56ccb0['value']=_0x1257d4;return;}if(_0x56ccb0[_0x43f14b(0x86d)]&&_0x56ccb0[_0x43f14b(0x86d)](_0x43f14b(0xe7c)))return;if(_0x56ccb0[_0x43f14b(0x87a)]!==undefined)_0x56ccb0['innerText']=_0x1257d4;else _0x56ccb0['textContent']=_0x1257d4;},_0x2a453c=_0x5ab679=>_0x5ab679[_0x38668c(0xa31)](/\u00A0/g,'\x20')[_0x38668c(0xa31)](/\u200B/g,'')[_0x38668c(0xa31)](/\r\n?/g,'\x0a'),_0x588376=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x43dba7=_0x336c73=>{const _0x340d9a=_0x38668c;let _0x56a77c=_0x336c73[_0x340d9a(0xc3f)]();_0x56a77c=_0x56a77c[_0x340d9a(0xa31)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x340d9a(0xa4d)),_0x56a77c=_0x56a77c[_0x340d9a(0xa31)](/\bfrac(\d)(\d)/g,_0x340d9a(0xa4d));const _0x5e4005=[_0x340d9a(0xe38),_0x340d9a(0x2f1),_0x340d9a(0xb8a),'cdot','div',_0x340d9a(0xbd0),_0x340d9a(0x70c),_0x340d9a(0x159),'pm',_0x340d9a(0x260),_0x340d9a(0xe54),_0x340d9a(0xae0),'log','ln'];_0x5e4005[_0x340d9a(0xbf2)](_0x476f63=>{const _0x3496d0=_0x340d9a;_0x56a77c=_0x56a77c['replace'](new RegExp(_0x3496d0(0x4b6)+_0x476f63+'\x5cb','g'),(_0x29f1af,_0x1020c6)=>_0x1020c6+'\x5c'+_0x476f63);});const _0x58fa8d=[[/×/g,_0x340d9a(0xd64)],[/·/g,'\x5ccdot'],[/÷/g,_0x340d9a(0x4b1)],[/≤/g,_0x340d9a(0x41f)],[/≥/g,'\x5cge'],[/≠/g,_0x340d9a(0x799)],[/±/g,_0x340d9a(0x397)]];return _0x58fa8d[_0x340d9a(0xbf2)](([_0x5eda2e,_0x11b000])=>{const _0x2b8a10=_0x340d9a;_0x56a77c=_0x56a77c[_0x2b8a10(0xa31)](_0x5eda2e,_0x11b000);}),_0x56a77c;},_0x364e82=_0x5e14a6=>{const _0x5d438e=_0x38668c;if(/\$|\\\(|\\\[/['test'](_0x5e14a6))return _0x5e14a6;if(!_0x588376['test'](_0x5e14a6))return _0x5e14a6;const _0x362578=_0x5e14a6['match'](/^\s*/)[0x0],_0x5f5511=_0x5e14a6['match'](/\s*$/)[0x0],_0x1a448f=_0x5e14a6[_0x5d438e(0xc3f)]();return _0x362578+'$'+_0x43dba7(_0x1a448f)+'$'+_0x5f5511;};_0x2350c8['forEach'](_0x146d6d=>{const _0x187458=_0x38668c,_0x52248b=_0x293db3(_0x146d6d);let _0x43d953=_0x2a453c(_0x52248b);_0x43d953=_0x43d953['replace'](/\$([^$]*?)\$/g,(_0x15ce15,_0x12bcdf)=>'$'+_0x43dba7(_0x12bcdf)+'$');const _0x3a41ea=_0x43d953[_0x187458(0x3ba)](/(\s+)/),_0x4a7d35=_0x3a41ea[_0x187458(0x23a)](_0x26c77e=>/\s+/[_0x187458(0x5cc)](_0x26c77e)?_0x26c77e:_0x364e82(_0x26c77e));_0x43d953=_0x4a7d35[_0x187458(0x975)](''),_0x43d953!==_0x52248b&&(_0x4f9c7a(_0x146d6d,_0x43d953),_0x6f58d++);});if(_0x6f58d>0x0){showMessage(_0x38668c(0xd5f)+_0x6f58d+_0x38668c(0xa26));try{if(window['MathJax']&&MathJax[_0x38668c(0xc6e)])MathJax[_0x38668c(0xc6e)]();}catch(_0x234050){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x20cf69=_0x5319e2,_0x4cc711=collection(db,_0x20cf69(0x555)+appId+_0x20cf69(0xe5b));onSnapshot(_0x4cc711,_0x550162=>{const _0x3f7670=_0x20cf69;customMathTopics=_0x550162[_0x3f7670(0x6e9)][_0x3f7670(0x23a)](_0xfc8e07=>({'id':_0xfc8e07['id'],..._0xfc8e07[_0x3f7670(0x9cb)]()})),renderTopicCheckboxes();},_0xfaa1d5=>{const _0x3df2e8=_0x20cf69;console[_0x3df2e8(0x3f8)](_0x3df2e8(0x4da),_0xfaa1d5);});}function handleSelectAllTopics(){const _0x374a56=_0x5319e2,_0x6ab024=document[_0x374a56(0x6e6)]('math-topics-checkbox-container'),_0x14ef00=_0x6ab024[_0x374a56(0x2c3)](_0x374a56(0x4dd));_0x14ef00[_0x374a56(0xbf2)](_0x4ca50b=>{const _0x1be775=_0x374a56;_0x4ca50b[_0x1be775(0x3a6)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4fc9eb=_0x5319e2,_0x1bd91d=document[_0x4fc9eb(0x6e6)](_0x4fc9eb(0x194)),_0x533737=_0x1bd91d['querySelectorAll'](_0x4fc9eb(0x4dd));_0x533737[_0x4fc9eb(0xbf2)](_0x1c81af=>{const _0x4dc855=_0x4fc9eb;_0x1c81af[_0x4dc855(0x3a6)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x534da0){const _0x4860ca=_0x5319e2;if(!_0x534da0)return;try{const _0x4c9ee6=doc(db,'artifacts/'+appId+_0x4860ca(0xe5b),_0x534da0);await deleteDoc(_0x4c9ee6),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x36f588){console[_0x4860ca(0x3f8)](_0x4860ca(0x5b4),_0x36f588),showMessage(_0x4860ca(0x284));}}async function handleAddCustomMathTopic(){const _0x1a6251=_0x5319e2,_0x1debd2=document[_0x1a6251(0x6e6)](_0x1a6251(0xa88)),_0x30617a=_0x1debd2['value'][_0x1a6251(0xc3f)]();if(!_0x30617a){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x1a6251(0xe32));return;}try{const _0x341641=collection(db,_0x1a6251(0x555)+appId+'/public/data/customMathTopics');await addDoc(_0x341641,{'name':_0x30617a,'createdAt':serverTimestamp()}),_0x1debd2[_0x1a6251(0xb2d)]='',showMessage(_0x1a6251(0x8be)+_0x30617a+_0x1a6251(0x4b5));}catch(_0x3b9949){console['error'](_0x1a6251(0x7b1),_0x3b9949),showMessage(_0x1a6251(0x158));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x462a57=_0x4aab,_0x1af400=document[_0x462a57(0x6e6)]('loader'),_0x3f0473=document[_0x462a57(0x6e6)]('loader-text'),_0x31d129=_0x3f0473['textContent'];_0x1af400['classList']['remove'](_0x462a57(0xd60)),_0x3f0473[_0x462a57(0xb7b)]=_0x462a57(0x80d);try{const _0x2d8ce7=collection(db,_0x462a57(0x555)+appId+_0x462a57(0x935)),_0x115676=await getDocs(_0x2d8ce7);if(_0x115676[_0x462a57(0x530)]){showMessage(_0x462a57(0x9ce));return;}const _0x24ef01=writeBatch(db);let _0x230b32=0x0;_0x115676[_0x462a57(0xbf2)](_0x106d4b=>{const _0x27165f=_0x462a57,_0x23c752=_0x106d4b['data'](),_0x3d12f2=_0x106d4b['id'];if(_0x23c752[_0x27165f(0x521)]&&_0x23c752[_0x27165f(0x521)][_0x27165f(0x4f1)]>0x0&&!_0x23c752[_0x27165f(0x521)][0x0]['hasOwnProperty']('id')){console[_0x27165f(0x8b1)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x3d12f2+'\x20('+_0x23c752[_0x27165f(0x9ec)]+')'),_0x230b32++;const _0x1defdd=_0x23c752[_0x27165f(0x521)][_0x27165f(0x23a)]((_0x46ab52,_0x2a75c1)=>{const _0x34a6f6=_0x27165f;return{..._0x46ab52,'id':_0x46ab52['id']||'q_'+Date[_0x34a6f6(0xc35)]()+'_'+_0x3d12f2+'_'+_0x2a75c1};}),_0x390064=doc(db,_0x27165f(0x555)+appId+'/public/data/quizzes',_0x3d12f2);_0x24ef01['update'](_0x390064,{'questions':_0x1defdd});}}),_0x230b32>0x0?(_0x3f0473[_0x462a57(0xb7b)]=_0x462a57(0x6bf)+_0x230b32+_0x462a57(0x651),await _0x24ef01[_0x462a57(0xa1b)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x230b32+_0x462a57(0x569))):showMessage(_0x462a57(0x6e7));}catch(_0x508cc1){console['error'](_0x462a57(0x1bc),_0x508cc1),showMessage(_0x462a57(0x4ba)+_0x508cc1[_0x462a57(0xa6b)]);}finally{_0x1af400[_0x462a57(0x3d9)]['add']('hidden'),_0x3f0473['textContent']=_0x31d129;}});}async function handleBulkUpdateQuizSettings(){const _0x597a65=_0x5319e2,_0x53e923={'shuffle':document[_0x597a65(0x6e6)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x597a65(0x6e6)](_0x597a65(0x6bd))[_0x597a65(0xb2d)],'loopUntilPass':document[_0x597a65(0x6e6)](_0x597a65(0xe5a))[_0x597a65(0x3a6)],'isConfidenceScoringEnabled':document[_0x597a65(0x6e6)](_0x597a65(0xe89))[_0x597a65(0x3a6)],'confidenceMode':document[_0x597a65(0x6e6)]('bulk-confidence-mode-select')[_0x597a65(0xb2d)]};try{showMessage(_0x597a65(0xa1e));const _0x3c27ee=await getDocs(collection(db,_0x597a65(0x555)+appId+_0x597a65(0x935))),_0x513d5b=_0x3c27ee['docs'][_0x597a65(0x23a)](_0x557a6b=>({'id':_0x557a6b['id'],'data':_0x557a6b[_0x597a65(0x9cb)]()})),_0x217d7f=_0x513d5b[_0x597a65(0x4f1)];showConfirmation(_0x597a65(0x7c2)+_0x217d7f+_0x597a65(0x222),async()=>{const _0x40d06d=_0x597a65,_0x42fca3=document['getElementById'](_0x40d06d(0x393));_0x42fca3['disabled']=!![],_0x42fca3[_0x40d06d(0xa19)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x3dc176=writeBatch(db);_0x513d5b['forEach'](_0x129c05=>{const _0x3fec9e=_0x40d06d,_0x113982=doc(db,_0x3fec9e(0x555)+appId+'/public/data/quizzes',_0x129c05['id']),_0x158142={..._0x129c05[_0x3fec9e(0x9cb)][_0x3fec9e(0x531)]||{},..._0x53e923};_0x3dc176[_0x3fec9e(0x5a6)](_0x113982,{'settings':_0x158142});}),await _0x3dc176[_0x40d06d(0xa1b)](),document[_0x40d06d(0x6e6)](_0x40d06d(0xb6f))[_0x40d06d(0x3d9)][_0x40d06d(0x831)]('hidden'),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x217d7f+'\x20ชุดสำเร็จ!');}catch(_0x3d58ab){console['error'](_0x40d06d(0x9ea),_0x3d58ab),showMessage(_0x40d06d(0xb89));}finally{_0x42fca3[_0x40d06d(0xe9a)]=![],_0x42fca3[_0x40d06d(0xa19)]=_0x40d06d(0xa90);}});}catch(_0x305ee5){console[_0x597a65(0x3f8)](_0x597a65(0xa83),_0x305ee5),showMessage(_0x597a65(0xea6));}}async function handleSaveProjectName(){const _0x390a52=_0x5319e2,_0x5b2273=document[_0x390a52(0x6e6)](_0x390a52(0xa82)),_0x1bac0e=document[_0x390a52(0x6e6)]('save-project-name-btn'),_0x396846=_0x5b2273[_0x390a52(0xb7b)]['trim']();if(!_0x396846||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x5b2273[_0x390a52(0xb7b)]=currentProjectData[_0x390a52(0x4de)];return;}_0x1bac0e[_0x390a52(0xe9a)]=!![],_0x1bac0e[_0x390a52(0xa19)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x2c48bb=doc(db,_0x390a52(0x555)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x2c48bb,{'projectName':_0x396846}),currentProjectData&&(currentProjectData[_0x390a52(0x4de)]=_0x396846),showMessage(_0x390a52(0x4c9));}catch(_0x4440c3){console[_0x390a52(0x3f8)](_0x390a52(0x13a),_0x4440c3),showMessage(_0x390a52(0xc39)),_0x5b2273[_0x390a52(0xb7b)]=currentProjectData['projectName'];}finally{_0x1bac0e['classList']['add'](_0x390a52(0xd60)),_0x1bac0e['disabled']=![],_0x1bac0e['innerHTML']=_0x390a52(0xae5);}}function handleGeneratePracticeTest(_0x289b45,_0x1960e4){const _0x72bf47=_0x5319e2,_0x5ba12c=document['getElementById'](_0x72bf47(0xa68)),_0x7b9f46=document['getElementById'](_0x72bf47(0x4df)),_0x2255cf=document[_0x72bf47(0x6e6)](_0x72bf47(0x192)),_0x3ecf3d=document['getElementById'](_0x72bf47(0x20f));_0x7b9f46['textContent']=_0x72bf47(0x37c)+_0x289b45,_0x3ecf3d[_0x72bf47(0x3d9)]['add'](_0x72bf47(0xd60)),_0x2255cf[_0x72bf47(0x3d9)][_0x72bf47(0xb00)](_0x72bf47(0xd60)),_0x5ba12c[_0x72bf47(0x3d9)][_0x72bf47(0xb00)]('hidden'),generatePracticeTest(_0x289b45,_0x1960e4)['catch'](_0x244678=>{const _0x271dd8=_0x72bf47;console[_0x271dd8(0x3f8)](_0x271dd8(0xaa1),_0x244678),showMessage(_0x271dd8(0x1d0)),_0x5ba12c['classList'][_0x271dd8(0x831)](_0x271dd8(0xd60));});}async function generatePracticeTest(_0x4e21f3,_0x3f7c17){const _0xb86f5f=_0x5319e2;[_0xb86f5f(0x813),'memoryContent',_0xb86f5f(0x872),_0xb86f5f(0x89c)]['forEach'](_0x2a7d82=>{const _0x56628d=_0xb86f5f,_0x53ca68=document[_0x56628d(0x6e6)](_0x2a7d82)[_0x56628d(0xb68)];_0x53ca68&&(_0x53ca68[_0x56628d(0xaed)][_0x56628d(0x91a)]=_0x56628d(0x877));});try{const _0xbd6c=_0xb86f5f(0x209),_0x29b7ca=_0xb86f5f(0x5ec)+_0x3f7c17+_0xb86f5f(0x687)+_0x4e21f3+_0xb86f5f(0x407),_0x27bc36=await callGemini(_0x29b7ca,!![]),_0x2e5f4a=document[_0xb86f5f(0x6e6)](_0xb86f5f(0x4df)),_0x1413d0=document['getElementById'](_0xb86f5f(0x192)),_0x45ada2=document[_0xb86f5f(0x6e6)]('lesson-sections-container'),_0x23f284=document['getElementById']('applicationContent')[_0xb86f5f(0xb68)];_0x2e5f4a[_0xb86f5f(0x87a)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x4e21f3[_0xb86f5f(0xa31)](/•\s/g,'')+_0xb86f5f(0xb28)+_0x3f7c17+')',currentApplicationData=JSON['parse'](_0x27bc36);const _0x51f8b6=document[_0xb86f5f(0x6e6)](_0xb86f5f(0x872));_0x51f8b6[_0xb86f5f(0xa19)]=currentApplicationData[_0xb86f5f(0x23a)]((_0xdbaff4,_0x44758a)=>_0xb86f5f(0x920)+(_0x44758a+0x1)+'.\x20'+marked['parseInline'](_0xdbaff4['question'])+_0xb86f5f(0x3b7)+_0x44758a+_0xb86f5f(0x75c)+_0xdbaff4['options'][_0xb86f5f(0x23a)]((_0x1da50e,_0x212460)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x44758a+',\x20'+_0x212460+_0xb86f5f(0xd73)+String[_0xb86f5f(0xe2c)](0x61+_0x212460)+'.\x20'+marked[_0xb86f5f(0x8e9)](_0x1da50e)+_0xb86f5f(0xde2))[_0xb86f5f(0x975)]('')+_0xb86f5f(0x566))[_0xb86f5f(0x975)](''),window[_0xb86f5f(0x19c)]&&MathJax[_0xb86f5f(0xc6e)]([_0x51f8b6]),_0x23f284&&(_0x23f284[_0xb86f5f(0xaed)][_0xb86f5f(0x91a)]=_0xb86f5f(0x9f4)),_0x1413d0['classList'][_0xb86f5f(0x831)](_0xb86f5f(0xd60)),_0x45ada2[_0xb86f5f(0x3d9)][_0xb86f5f(0xb00)](_0xb86f5f(0xd60));}catch(_0x841660){console[_0xb86f5f(0x3f8)](_0x841660);throw _0x841660;}}async function callGemini(_0x655899,_0x2acfe0=![]){const _0x510f79=_0x5319e2,_0x5c5bdf='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x167d70='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x5c5bdf,_0x36e455={'contents':[{'parts':[{'text':_0x655899}]}]};_0x2acfe0&&(_0x36e455[_0x510f79(0x212)]={'responseMimeType':_0x510f79(0xbbd)},_0x655899['includes']('Test\x20Blueprint')?_0x36e455[_0x510f79(0x212)][_0x510f79(0x618)]={'type':_0x510f79(0xce9),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x510f79(0x433),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x510f79(0x433),'items':{'type':_0x510f79(0xce9),'properties':{'topicName':{'type':_0x510f79(0x69c)},'subTopics':{'type':_0x510f79(0x433),'items':{'type':_0x510f79(0x69c)}}},'required':['topicName',_0x510f79(0x12e)]}}},'required':[_0x510f79(0xbc7),'mainTopics']}}},'required':[_0x510f79(0x405),_0x510f79(0xc2a)]}:_0x36e455['generationConfig'][_0x510f79(0x618)]={'type':_0x510f79(0x433),'items':{'type':_0x510f79(0xce9),'properties':{'question':{'type':'STRING'},'options':{'type':_0x510f79(0x433),'items':{'type':_0x510f79(0x69c)}},'answer':{'type':'NUMBER'}},'required':['question',_0x510f79(0x4ff),'answer']}});try{const _0x2f79ae=await fetch(_0x167d70,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x510f79(0x338)](_0x36e455)});if(!_0x2f79ae['ok']){const _0x1c456f=await _0x2f79ae[_0x510f79(0x135)]();console[_0x510f79(0x3f8)](_0x510f79(0x8b0),_0x1c456f);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x2f79ae['status']);}const _0x1da2f5=await _0x2f79ae[_0x510f79(0xdf4)]();if(_0x1da2f5[_0x510f79(0x4b8)]&&_0x1da2f5[_0x510f79(0x4b8)][0x0][_0x510f79(0x23e)]&&_0x1da2f5[_0x510f79(0x4b8)][0x0][_0x510f79(0x23e)][_0x510f79(0xe9f)][0x0])return _0x1da2f5[_0x510f79(0x4b8)][0x0][_0x510f79(0x23e)][_0x510f79(0xe9f)][0x0][_0x510f79(0x135)];else{console[_0x510f79(0x3f8)]('Unexpected\x20API\x20response\x20structure:',_0x1da2f5);if(_0x1da2f5[_0x510f79(0x4b8)]&&_0x1da2f5[_0x510f79(0x4b8)][0x0][_0x510f79(0x71f)]===_0x510f79(0x8d4))return JSON[_0x510f79(0x338)]({'error':_0x510f79(0xb7f)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x15017c){console[_0x510f79(0x3f8)]('Error\x20calling\x20Gemini\x20API:',_0x15017c);throw _0x15017c;}}async function generateLesson(_0x164832=null,_0x20ddb1=null){const _0xd24929=_0x5319e2,_0x5a5c53=_0x164832,_0x39d650=_0x20ddb1||_0xd24929(0x1a6),_0x3cf743=document[_0xd24929(0x6e6)]('lesson-loader'),_0x1079f1=document[_0xd24929(0x6e6)](_0xd24929(0x6be));_0x1079f1[_0xd24929(0xb7b)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x5a5c53+_0xd24929(0xab2);try{let _0xa7fa01=[];const _0x33a6b3=document[_0xd24929(0x6e6)](_0xd24929(0xa35))?.[_0xd24929(0xb2d)][_0xd24929(0xc3f)]();if(_0x33a6b3)try{_0x1079f1[_0xd24929(0xb7b)]=_0xd24929(0x916);const _0x4b0b04=await fetchFileFromUrl(_0x33a6b3,_0xd24929(0xa67)),_0x416215=await new Promise((_0x477935,_0xe92f54)=>{const _0x53b2a7=_0xd24929,_0x3d3304=new FileReader();_0x3d3304[_0x53b2a7(0x326)](_0x4b0b04),_0x3d3304['onload']=()=>_0x477935(_0x3d3304[_0x53b2a7(0xcb3)]['split'](',')[0x1]),_0x3d3304[_0x53b2a7(0x66e)]=_0xe92f54;});_0xa7fa01[_0xd24929(0xbda)]({'inlineData':{'mimeType':_0x4b0b04[_0xd24929(0xe5f)],'data':_0x416215}});}catch(_0x136afe){console[_0xd24929(0x3f8)](_0xd24929(0x5ee),_0x136afe),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x407a0f=_0xd24929(0xb93)+_0x5a5c53+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x5a5c53+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x1079f1[_0xd24929(0xb7b)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x5a5c53+_0xd24929(0xab2);const _0x156934=_0xd24929(0x495)+_0x39d650+_0xd24929(0x687)+_0x5a5c53+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x407a0f+_0xd24929(0x67d),_0x297c5b=_0xd24929(0x6b5)+_0x5a5c53+_0xd24929(0x690)+_0x39d650+_0xd24929(0x19a)+_0x407a0f+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x4ef541='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x22f1b0=_0xd24929(0x5ec)+_0x39d650+_0xd24929(0x687)+_0x5a5c53+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x407a0f+_0xd24929(0x325)+_0x4ef541+_0xd24929(0x93c),_0x40b8b1='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x5a5c53+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x39d650+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x407a0f+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x4b9d08={'type':_0xd24929(0x433),'items':{'type':_0xd24929(0xce9),'properties':{'question':{'type':'STRING'},'options':{'type':_0xd24929(0x433),'items':{'type':_0xd24929(0x69c)}},'answer':{'type':_0xd24929(0xe0e)}},'required':[_0xd24929(0x195),'options','answer']}},[_0x14267d,_0x1a4336,_0x2df963,_0x35c32c]=await Promise['all']([handleApiCall([{'text':_0x156934},..._0xa7fa01],'...',null,null,![]),handleApiCall([{'text':_0x297c5b},..._0xa7fa01],_0xd24929(0x26d),null,null,![]),handleApiCall([{'text':_0x22f1b0},..._0xa7fa01],_0xd24929(0x26d),_0x4b9d08,null,![]),handleApiCall([{'text':_0x40b8b1},..._0xa7fa01],'...',null,null,![])]),_0x3d1c3a=JSON[_0xd24929(0x338)](_0x2df963||[]),_0x4c8544=document[_0xd24929(0x6e6)](_0xd24929(0x4df)),_0x4f57ad=document[_0xd24929(0x6e6)](_0xd24929(0x20f));_0x4c8544[_0xd24929(0x87a)]='บทเรียนเรื่อง:\x20'+_0x5a5c53['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x39d650+')',[_0xd24929(0x813),'memoryContent',_0xd24929(0x89c)][_0xd24929(0xbf2)](_0x2b84bd=>{const _0x2940c7=_0xd24929;document[_0x2940c7(0x6e6)](_0x2b84bd)['innerHTML']='';}),document['getElementById'](_0xd24929(0x813))['innerHTML']=_0x14267d?marked[_0xd24929(0x110)](_0x14267d):_0xd24929(0x77d),document[_0xd24929(0x6e6)](_0xd24929(0x371))[_0xd24929(0xa19)]=_0x1a4336?marked[_0xd24929(0x110)](_0x1a4336):_0xd24929(0x77d),document[_0xd24929(0x6e6)](_0xd24929(0x89c))['innerHTML']=_0x35c32c?marked[_0xd24929(0x110)](_0x35c32c):_0xd24929(0x77d),currentApplicationData=JSON[_0xd24929(0x110)](_0x3d1c3a);const _0x4277db=document[_0xd24929(0x6e6)](_0xd24929(0x872));_0x4277db[_0xd24929(0xa19)]=(currentApplicationData||[])[_0xd24929(0x23a)]((_0x5dc7a7,_0x212be6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x212be6+0x1)+'.\x20'+marked[_0xd24929(0x8e9)](_0x5dc7a7['question']||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x212be6+_0xd24929(0x75c)+(_0x5dc7a7[_0xd24929(0x4ff)]||[])[_0xd24929(0x23a)]((_0x1620cc,_0x3bee22)=>_0xd24929(0x62d)+_0x212be6+',\x20'+_0x3bee22+_0xd24929(0xd73)+String['fromCharCode'](0x61+_0x3bee22)+'.\x20'+marked[_0xd24929(0x8e9)](_0x1620cc||'')+_0xd24929(0xde2))['join']('')+_0xd24929(0x566))[_0xd24929(0x975)]('')||_0xd24929(0x3b3),window[_0xd24929(0x19c)]&&MathJax[_0xd24929(0xc6e)]([_0x4f57ad]),_0x3cf743[_0xd24929(0x3d9)]['add'](_0xd24929(0xd60)),_0x4f57ad['classList'][_0xd24929(0xb00)](_0xd24929(0xd60));}catch(_0x508632){console[_0xd24929(0x3f8)](_0x508632);throw _0x508632;}}function checkAnswer(_0x5cfca8,_0x3a20c2){const _0x2398ef=_0x5319e2,_0x230c03=currentApplicationData[_0x5cfca8],_0x46997a=document[_0x2398ef(0x6e6)]('q'+_0x5cfca8+_0x2398ef(0xb14)),_0x1b04cf=_0x46997a[_0x2398ef(0xd8b)](_0x2398ef(0x523));for(let _0x290d6f of _0x1b04cf){_0x290d6f['disabled']=!![];}_0x3a20c2===_0x230c03[_0x2398ef(0x4b0)]?_0x1b04cf[_0x3a20c2][_0x2398ef(0x3d9)][_0x2398ef(0x831)](_0x2398ef(0xcc5)):(_0x1b04cf[_0x3a20c2][_0x2398ef(0x3d9)][_0x2398ef(0x831)](_0x2398ef(0x854)),_0x1b04cf[_0x230c03[_0x2398ef(0x4b0)]][_0x2398ef(0x3d9)]['add']('correct'));}window[_0x5319e2(0x27c)]=handleGenerateAndShowLesson,window[_0x5319e2(0x17c)]=checkAnswer,window[_0x5319e2(0xdb2)]=handleGeneratePracticeTest,window[_0x5319e2(0xb2f)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x2bec0=_0x5319e2;if(document['getElementById'](_0x2bec0(0xe07)))return;const _0xf5dce4=_0x2bec0(0xa95);document['body'][_0x2bec0(0xabb)](_0x2bec0(0x1c3),_0xf5dce4),setupCropperButtons();}function setupCropperButtons(){const _0x25d377=_0x5319e2;document[_0x25d377(0x6e6)](_0x25d377(0xd6a))[_0x25d377(0x49d)](_0x25d377(0xa6e),()=>{const _0x4b821a=_0x25d377;document[_0x4b821a(0x6e6)](_0x4b821a(0xe07))[_0x4b821a(0x3d9)][_0x4b821a(0x831)](_0x4b821a(0xd60)),cropperInstance&&(cropperInstance['destroy'](),cropperInstance=null),document['getElementById']('camera-input')[_0x4b821a(0xb2d)]='';}),document[_0x25d377(0x6e6)](_0x25d377(0x4a0))[_0x25d377(0x49d)](_0x25d377(0xa6e),()=>{const _0x3b2252=_0x25d377;if(!cropperInstance)return;const _0x2f9d9c=document['getElementById'](_0x3b2252(0x4a0)),_0x4b7d88=_0x2f9d9c[_0x3b2252(0xa19)];_0x2f9d9c['innerHTML']=_0x3b2252(0xd53),_0x2f9d9c['disabled']=!![],cropperInstance['getCroppedCanvas']()[_0x3b2252(0x5cd)](async _0x3a4f3d=>{const _0x383a0d=_0x3b2252;document['getElementById']('cropper-modal')[_0x383a0d(0x3d9)][_0x383a0d(0x831)](_0x383a0d(0xd60));const _0x3314e2=new File([_0x3a4f3d],'cropped_image.png',{'type':'image/png'});await handleScanImageForText(_0x3314e2),_0x2f9d9c[_0x383a0d(0xa19)]=_0x4b7d88,_0x2f9d9c[_0x383a0d(0xe9a)]=![],cropperInstance['destroy'](),cropperInstance=null;},_0x3b2252(0xc04));});}function startCropper(_0x2cfec7){const _0x3914f9=_0x5319e2;ensureCropperModalExists();const _0x4fd027=document[_0x3914f9(0x6e6)](_0x3914f9(0xe07)),_0x3fc60b=document[_0x3914f9(0x6e6)](_0x3914f9(0x1dd)),_0x263bf7=new FileReader();_0x263bf7[_0x3914f9(0x904)]=_0x7c3a38=>{const _0x21685a=_0x3914f9;_0x3fc60b[_0x21685a(0x78e)]=_0x7c3a38['target'][_0x21685a(0xcb3)],_0x4fd027[_0x21685a(0x3d9)]['remove']('hidden');if(cropperInstance)cropperInstance[_0x21685a(0x7b4)]();cropperInstance=new Cropper(_0x3fc60b,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x263bf7[_0x3914f9(0x326)](_0x2cfec7);}document['addEventListener']('DOMContentLoaded',()=>{const _0x2c7205=_0x5319e2,_0x77a668=document['getElementById'](_0x2c7205(0x17f)),_0x119772=document[_0x2c7205(0x6e6)]('camera-crop-btn');_0x119772&&_0x77a668&&(_0x119772[_0x2c7205(0x49d)](_0x2c7205(0xa6e),()=>{const _0x22b326=_0x2c7205;_0x77a668['value']='',_0x77a668[_0x22b326(0xa6e)]();}),_0x77a668[_0x2c7205(0x49d)](_0x2c7205(0x538),_0x57e43b=>{const _0x4a09b3=_0x2c7205;_0x57e43b[_0x4a09b3(0x8ce)][_0x4a09b3(0x7ed)]&&_0x57e43b[_0x4a09b3(0x8ce)][_0x4a09b3(0x7ed)][_0x4a09b3(0x4f1)]>0x0&&startCropper(_0x57e43b[_0x4a09b3(0x8ce)][_0x4a09b3(0x7ed)][0x0]);}));});async function handleScanImageForText(_0x1abcbb){const _0x992863=_0x5319e2,_0x389ffb=document[_0x992863(0x6e6)](_0x992863(0x2c9)),_0x50d1ec=document['getElementById']('scan-text-image-btn');if(!_0x1abcbb)return;_0x50d1ec[_0x992863(0xe9a)]=!![],_0x50d1ec[_0x992863(0xa19)]=_0x992863(0x6e3),_0x389ffb['placeholder']=_0x992863(0x11f);try{const _0x33f877=await new Promise((_0x1608fa,_0x2f047d)=>{const _0x567a58=_0x992863,_0x3398e4=new FileReader();_0x3398e4[_0x567a58(0x326)](_0x1abcbb),_0x3398e4[_0x567a58(0x904)]=()=>_0x1608fa(_0x3398e4[_0x567a58(0xcb3)][_0x567a58(0x3ba)](',')[0x1]),_0x3398e4[_0x567a58(0x66e)]=_0x2f047d;}),_0x15d7e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x582eae=[{'text':_0x15d7e6},{'inlineData':{'mimeType':_0x1abcbb[_0x992863(0xe5f)],'data':_0x33f877}}],_0x3554ce=await handleApiCall(_0x582eae,_0x992863(0xb1b),null,null,![]);if(_0x3554ce){const _0x31cacf=_0x389ffb[_0x992863(0xb2d)][_0x992863(0xc3f)]();_0x389ffb[_0x992863(0xb2d)]=_0x31cacf?_0x31cacf+'\x0a\x0a'+_0x3554ce:_0x3554ce,showMessage(_0x992863(0x894));}else throw new Error('AI\x20ไม่สามารถอ่านข้อความได้');}catch(_0x42bd93){console[_0x992863(0x3f8)](_0x992863(0x5f3),_0x42bd93),showMessage(_0x992863(0xa08)+_0x42bd93[_0x992863(0xa6b)]);}finally{_0x50d1ec['disabled']=![],_0x50d1ec[_0x992863(0xa19)]='<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ',document['getElementById'](_0x992863(0xd22))[_0x992863(0xb2d)]='';}}async function initialize(){const _0x5a03a0=_0x5319e2;try{const _0x302430=initializeApp(firebaseConfig);db=getFirestore(_0x302430),auth=getAuth(_0x302430),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x145216){console['error'](_0x5a03a0(0x61a),_0x145216),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x4e7712=_0x5319e2,_0xd5c7e2=document[_0x4e7712(0x6e6)]('quiz-editor-modal');if(!_0xd5c7e2)return;const _0x1cd803=document[_0x4e7712(0x6e6)]('verify-answers-editor-btn');_0x1cd803[_0x4e7712(0xe9a)]=!![],_0x1cd803[_0x4e7712(0xa19)]=_0x4e7712(0xcb0);try{const _0x5495d9=_0xd5c7e2['querySelectorAll']('.question-editor-item'),_0x3a4e1e=Array['from'](_0x5495d9)[_0x4e7712(0x23a)]((_0x1be86d,_0x3fcb9c)=>{const _0x21dc45=_0x4e7712,_0x2187a2=_0x1be86d['dataset'][_0x21dc45(0xc8e)],_0x527f9b=_0x1be86d[_0x21dc45(0x86d)]('textarea')[_0x21dc45(0xb2d)];let _0x9ab49b=null,_0x1a4077='';switch(_0x2187a2){case _0x21dc45(0x2d2):const _0x94bc5c=_0x1be86d[_0x21dc45(0x2c3)]('input[type=\x22text\x22]');_0x9ab49b=Array[_0x21dc45(0x693)](_0x94bc5c)[_0x21dc45(0x23a)](_0x1d4c9c=>_0x1d4c9c[_0x21dc45(0xb2d)]);const _0x4a9c90=_0x1be86d[_0x21dc45(0x86d)](_0x21dc45(0x224));_0x4a9c90&&(_0x1a4077=_0x9ab49b[parseInt(_0x4a9c90[_0x21dc45(0xb2d)])]||'');break;case'short_answer':case _0x21dc45(0x603):_0x9ab49b=[],_0x1a4077=_0x1be86d[_0x21dc45(0x86d)]('.ideal-answer-input')[_0x21dc45(0xb2d)];break;case _0x21dc45(0x1cc):_0x9ab49b=[_0x21dc45(0x92c),'false'];const _0x5cdf7e=_0x1be86d[_0x21dc45(0x86d)](_0x21dc45(0x224));_0x1a4077=_0x5cdf7e?_0x5cdf7e['value']:'';break;case _0x21dc45(0x1f6):_0x9ab49b=[],_0x1a4077=_0x1be86d[_0x21dc45(0x86d)](_0x21dc45(0x21d))[_0x21dc45(0xb2d)];break;}return{'questionIndex':_0x3fcb9c,'questionType':_0x2187a2,'question':_0x527f9b,'options':_0x9ab49b,'proposedAnswer':_0x1a4077};}),_0x29e0de='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20'+JSON['stringify'](_0x3a4e1e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x39f8de={'type':_0x4e7712(0x433),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x4e7712(0xe0e)},'isCorrect':{'type':_0x4e7712(0x480)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x4e7712(0x480)},'suggestedAnswer':{'type':_0x4e7712(0x69c)},'newOptionsPayload':{'type':_0x4e7712(0xce9),'properties':{'newOptions':{'type':_0x4e7712(0x433),'items':{'type':_0x4e7712(0x69c)}},'newCorrectIndex':{'type':_0x4e7712(0xe0e)}},'required':[_0x4e7712(0xe00),'newCorrectIndex']}},'required':['questionIndex',_0x4e7712(0x1a1),_0x4e7712(0x9f0)]}},_0x517270=await callAnalysisApi(_0x29e0de,{'type':_0x4e7712(0xce9),'properties':{'result':_0x39f8de},'required':[_0x4e7712(0xcb3)]});if(_0x517270&&_0x517270[_0x4e7712(0xcb3)])displayVerificationResultsInEditor(_0x517270[_0x4e7712(0xcb3)]);else throw new Error(_0x4e7712(0x35c));}catch(_0x1c2f11){console[_0x4e7712(0x3f8)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x1c2f11),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20'+_0x1c2f11[_0x4e7712(0xa6b)]);}finally{_0x1cd803[_0x4e7712(0xe9a)]=![],_0x1cd803['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x8e22c5){const _0x147189=_0x5319e2;_0x8e22c5[_0x147189(0xbf2)](_0x2b7b3=>{const _0x30037f=_0x147189,_0x162152=document[_0x30037f(0x86d)]('.question-editor-item[data-q-index=\x22'+_0x2b7b3[_0x30037f(0x737)]+'\x22]');if(!_0x162152)return;const _0x42602e=_0x162152['querySelector'](_0x30037f(0x6db));if(_0x42602e)_0x42602e[_0x30037f(0xb00)]();let _0x10bbd7='';if(_0x2b7b3[_0x30037f(0xc7b)]&&_0x2b7b3[_0x30037f(0xc7b)][_0x30037f(0xe00)]){const _0x396c4b=_0x2b7b3[_0x30037f(0xc7b)][_0x30037f(0xe00)],_0x333324=_0x2b7b3[_0x30037f(0xc7b)][_0x30037f(0x4e0)],_0x1e9539=_0x162152['dataset'][_0x30037f(0xc8e)];if(_0x1e9539===_0x30037f(0x2d2)){const _0x1cd7aa=_0x162152[_0x30037f(0x2c3)](_0x30037f(0x45a));_0x1cd7aa[_0x30037f(0xbf2)]((_0x539f46,_0x895a86)=>{const _0x5d1978=_0x30037f;_0x396c4b[_0x895a86]?_0x539f46['value']=_0x396c4b[_0x895a86]:_0x539f46[_0x5d1978(0xb2d)]=_0x5d1978(0xd81);});const _0x3fc63c=_0x162152['querySelector'](_0x30037f(0xa57)+_0x333324+'\x22]');_0x3fc63c&&(_0x3fc63c[_0x30037f(0x3a6)]=!![]),_0x10bbd7=_0x30037f(0x9b6),_0x162152[_0x30037f(0x3d9)][_0x30037f(0x831)](_0x30037f(0x895),'transition-all',_0x30037f(0x4ab)),setTimeout(()=>{const _0x4d6b07=_0x30037f;_0x162152['classList'][_0x4d6b07(0xb00)](_0x4d6b07(0x895));},0x9c4);}}else{if(!_0x2b7b3['isCorrect']&&_0x2b7b3[_0x30037f(0xea2)]){const _0x185343=_0x2b7b3[_0x30037f(0xea2)]?_0x30037f(0xa7f):'';_0x10bbd7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x185343+_0x30037f(0x896)+_0x2b7b3[_0x30037f(0x9f0)]+_0x30037f(0xac5)+(_0x2b7b3['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x2b7b3[_0x30037f(0xea2)]+_0x30037f(0xc37):'')+_0x30037f(0xb46);const _0x710c31=_0x162152[_0x30037f(0x9ff)][_0x30037f(0xc8e)],_0x1efb09=_0x502f3d=>{const _0x3190b8=_0x30037f;if(!_0x502f3d)return;_0x502f3d[_0x3190b8(0x3d9)][_0x3190b8(0x831)](_0x3190b8(0x709),_0x3190b8(0x4d5),_0x3190b8(0x4ab)),setTimeout(()=>{const _0x47051c=_0x3190b8;_0x502f3d[_0x47051c(0x3d9)]['remove'](_0x47051c(0x709));},0x9c4);};if(_0x710c31===_0x30037f(0x2d2)){const _0x571bab=Array[_0x30037f(0x693)](_0x162152[_0x30037f(0x2c3)]('input[type=\x22text\x22]')),_0x1e0b6a=_0x571bab[_0x30037f(0x475)](_0x5d997f=>_0x5d997f[_0x30037f(0xb2d)][_0x30037f(0xc3f)]()[_0x30037f(0x3a8)]()===_0x2b7b3['suggestedAnswer'][_0x30037f(0xc3f)]()[_0x30037f(0x3a8)]());if(_0x1e0b6a!==-0x1){const _0x41232a=_0x162152[_0x30037f(0x86d)](_0x30037f(0xa57)+_0x1e0b6a+'\x22]');_0x41232a&&(_0x41232a['checked']=!![],_0x1efb09(_0x41232a[_0x30037f(0x8ec)](_0x30037f(0xbbc))));}}else{if(_0x710c31==='short_answer'||_0x710c31===_0x30037f(0x1f6)){const _0x156df7=_0x162152[_0x30037f(0x86d)](_0x30037f(0x4f3));_0x156df7&&(_0x156df7[_0x30037f(0xb2d)]=_0x2b7b3[_0x30037f(0xea2)],_0x1efb09(_0x156df7));}else{if(_0x710c31===_0x30037f(0x1cc)){const _0x3474a7=_0x2b7b3['suggestedAnswer']['trim']()[_0x30037f(0x3a8)](),_0x4e12fa=_0x162152[_0x30037f(0x86d)](_0x30037f(0xa57)+_0x3474a7+'\x22]');_0x4e12fa&&(_0x4e12fa[_0x30037f(0x3a6)]=!![],_0x1efb09(_0x4e12fa[_0x30037f(0x8ec)](_0x30037f(0xbbc))));}}}}else _0x2b7b3[_0x30037f(0x1a1)]&&(_0x10bbd7=_0x30037f(0xa42));}_0x162152[_0x30037f(0xabb)](_0x30037f(0x1c3),_0x10bbd7);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x2e735d=_0x5319e2;if(!currentQuizData||!currentQuizData[_0x2e735d(0x521)]){showMessage(_0x2e735d(0x5f8));return;}const _0x32067a=document[_0x2e735d(0x6e6)](_0x2e735d(0x97a));_0x32067a[_0x2e735d(0xe9a)]=!![],_0x32067a[_0x2e735d(0xa19)]=_0x2e735d(0xcb0);try{const _0x1566f6=currentQuizData['questions'][_0x2e735d(0x23a)]((_0x8e2dff,_0x4838ee)=>{const _0x17b319=_0x2e735d;let _0x52822e='';const _0xa7566b=_0x8e2dff[_0x17b319(0x823)]||currentQuizData[_0x17b319(0xd29)];switch(_0xa7566b){case _0x17b319(0x2d2):_0x52822e=_0x8e2dff[_0x17b319(0x4ff)][_0x8e2dff['correctAnswerIndex']];break;case _0x17b319(0xcea):_0x52822e=_0x8e2dff[_0x17b319(0x2fc)];break;case _0x17b319(0x1cc):_0x52822e=_0x8e2dff['correctAnswer']['toString']();break;case _0x17b319(0x1f6):_0x52822e=_0x8e2dff[_0x17b319(0x5d8)];break;}return{'question':_0x8e2dff[_0x17b319(0x2f8)]||_0x8e2dff[_0x17b319(0x14e)],'options':_0x8e2dff[_0x17b319(0x4ff)]||null,'proposedAnswer':_0x52822e};}),_0x270da0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x1566f6)+_0x2e735d(0xba4),_0x1be151={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x2e735d(0xe0e)},'isCorrect':{'type':_0x2e735d(0x480)},'justification':{'type':_0x2e735d(0x69c)},'suggestedAnswer':{'type':_0x2e735d(0x69c)}},'required':[_0x2e735d(0x737),_0x2e735d(0x1a1),'justification']}},_0x4964f4=await callAnalysisApi(_0x270da0,{'type':_0x2e735d(0xce9),'properties':{'result':_0x1be151},'required':[_0x2e735d(0xcb3)]});displayVerificationResults(_0x4964f4['result']);}catch(_0x5239b7){console[_0x2e735d(0x3f8)](_0x2e735d(0xc43),_0x5239b7),showMessage(_0x2e735d(0xcdd));}finally{_0x32067a[_0x2e735d(0xe9a)]=![],_0x32067a['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x26f65b){const _0x2d4aa2=_0x5319e2;_0x26f65b[_0x2d4aa2(0xbf2)](_0x7a3daa=>{const _0x4cef54=_0x2d4aa2,_0x4fe11c=document[_0x4cef54(0x86d)](_0x4cef54(0x8f8)+_0x7a3daa[_0x4cef54(0x737)]+'\x22]');if(_0x4fe11c){const _0x5d40fa=_0x4fe11c[_0x4cef54(0x86d)](_0x4cef54(0xd00));if(_0x5d40fa)_0x5d40fa['remove']();let _0x3f699f='';_0x7a3daa[_0x4cef54(0x1a1)]?_0x3f699f=_0x4cef54(0x376):_0x3f699f=_0x4cef54(0x72d)+_0x7a3daa['justification']+_0x4cef54(0xb3a)+(_0x7a3daa[_0x4cef54(0xea2)]?_0x4cef54(0x6fc)+_0x7a3daa[_0x4cef54(0xea2)]+_0x4cef54(0xc37):'')+_0x4cef54(0x564),_0x4fe11c[_0x4cef54(0xabb)](_0x4cef54(0x1c3),_0x3f699f);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x5c63d2,_0x5a2a5d){const _0x115c4b=_0x5319e2,_0x5e9e0a=String(_0x5c63d2)['replace'](',','.')[_0x115c4b(0xa31)](/[^\d.-]/g,'')['trim'](),_0xe5fcdd=String(_0x5a2a5d)[_0x115c4b(0xa31)](',','.')[_0x115c4b(0xa31)](/[^\d.-]/g,'')[_0x115c4b(0xc3f)]();if(_0x5e9e0a===''||_0xe5fcdd==='')return![];const _0x34e92a=parseFloat(_0x5e9e0a),_0x234c5a=parseFloat(_0xe5fcdd);if(isNaN(_0x34e92a)||isNaN(_0x234c5a))return![];return Math['abs'](_0x34e92a-_0x234c5a)<0.001;}function isPotentiallyNumeric(_0x59e9f5){const _0xb040db=_0x5319e2;if(typeof _0x59e9f5!==_0xb040db(0x8a0)&&typeof _0x59e9f5!==_0xb040db(0xdba))return![];const _0x1327f4=String(_0x59e9f5)[_0xb040db(0xa31)](',','.')[_0xb040db(0xc3f)]();return _0x1327f4!==''&&!isNaN(parseFloat(_0x1327f4))&&isFinite(_0x1327f4);}async function gradeShortAnswer(_0x37f697,_0x2d3dc){const _0x565567=_0x5319e2,_0x568c3f=_0x2d3dc['idealAnswer'],_0x35c877=String(_0x37f697)['replace'](/\$/g,'')[_0x565567(0xc3f)](),_0x3e874e=String(_0x568c3f)[_0x565567(0xa31)](/\$/g,'')[_0x565567(0xc3f)]();if(_0x35c877[_0x565567(0x3a8)]()===_0x3e874e[_0x565567(0x3a8)]())return!![];if(isPotentiallyNumeric(_0x35c877)&&isPotentiallyNumeric(_0x3e874e)){if(compareNumericalAnswers(_0x35c877,_0x3e874e))return!![];}return console[_0x565567(0x8b1)](_0x565567(0x13b)),![];}async function revealAnswerForAdmin(_0xc8fec6,_0x170cda){const _0xaa014f=_0x5319e2,_0x334ec0=doc(db,_0xaa014f(0x555)+appId+_0xaa014f(0x700),currentLiveGameId);await updateDoc(_0x334ec0,{'questionStatus':_0xaa014f(0xea8)});}function showTop5LeaderboardView(_0x18869f){const _0x4d8aff=_0x5319e2,_0x2301dd=Object[_0x4d8aff(0x129)](_0x18869f[_0x4d8aff(0xdb1)]||{})['filter'](_0x5bea2d=>_0x5bea2d[_0x4d8aff(0x626)]==='active');_0x2301dd[_0x4d8aff(0x602)]((_0x1c2642,_0x4d84b0)=>_0x4d84b0['score']-_0x1c2642[_0x4d8aff(0x473)]);const _0xb15db1=_0x2301dd[_0x4d8aff(0x1e1)](0x0,0x5),_0x173f31=_0x4d8aff(0x5c0)+_0xb15db1[_0x4d8aff(0x23a)]((_0x100842,_0x112d23)=>_0x4d8aff(0xb0b)+(_0x112d23+0x1)+'.\x20'+(_0x100842[_0x4d8aff(0x1dc)]||Object['keys'](_0x18869f[_0x4d8aff(0xdb1)])[_0x4d8aff(0x8af)](_0x2955bc=>_0x18869f[_0x4d8aff(0xdb1)][_0x2955bc]===_0x100842))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x100842['score']+_0x4d8aff(0x22d))['join']('')+_0x4d8aff(0x4f2)+(_0x18869f['currentQuestionIndex']+0x1===currentQuizData[_0x4d8aff(0x521)][_0x4d8aff(0x4f1)]?_0x4d8aff(0xaab):_0x4d8aff(0xb94))+_0x4d8aff(0x42b);liveGameView['innerHTML']=_0x173f31,document[_0x4d8aff(0x6e6)](_0x4d8aff(0xcd4))['addEventListener'](_0x4d8aff(0xa6e),async()=>{const _0x27b39a=_0x4d8aff,_0x2de763=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x2856c1=_0x18869f[_0x27b39a(0x519)]+0x1;if(_0x2856c1<currentQuizData['questions'][_0x27b39a(0x4f1)]){const _0x3c79e7={'currentQuestionIndex':_0x2856c1,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x27b39a(0xa7d)](_0x18869f[_0x27b39a(0xdb1)])['forEach'](_0x7b2c0e=>{const _0x5c8356=_0x27b39a;_0x3c79e7[_0x5c8356(0xc7e)+_0x7b2c0e+_0x5c8356(0x3de)]=![];}),await updateDoc(_0x2de763,_0x3c79e7);}else await updateDoc(_0x2de763,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1f86d3=>{const _0x350ba1=_0x4aab;if(_0x1f86d3){userId=_0x1f86d3['uid'],userIdDisplay[_0x350ba1(0xb7b)]=userId;const _0x3ae182=await loadUserPreferences();_0x3ae182[_0x350ba1(0x34a)]&&(document[_0x350ba1(0x6e6)](_0x350ba1(0x440))['value']=_0x3ae182[_0x350ba1(0x34a)]);globalDashboardSettings[_0x350ba1(0x610)]=_0x3ae182[_0x350ba1(0x610)]||_0x350ba1(0x6c5);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x1b043e,_0x2ec1cc){const _0x49787a=_0x5319e2;if(!userId)return;try{const _0x39e8e6=doc(db,_0x49787a(0x555)+appId+_0x49787a(0x5c8)+userId+_0x49787a(0x4a2)),_0x4940ac={};_0x4940ac[_0x1b043e]=_0x2ec1cc,await setDoc(_0x39e8e6,_0x4940ac,{'merge':!![]});}catch(_0x5152e9){console[_0x49787a(0x3f8)](_0x49787a(0xcd6),_0x5152e9);}}async function loadUserPreferences(){const _0x4a7f3b=_0x5319e2;if(!userId)return{};try{const _0xb7be10=doc(db,'artifacts/'+appId+_0x4a7f3b(0x5c8)+userId+_0x4a7f3b(0x4a2)),_0x250697=await getDoc(_0xb7be10);if(_0x250697[_0x4a7f3b(0x958)]())return _0x250697[_0x4a7f3b(0x9cb)]();return{};}catch(_0x50a388){return console[_0x4a7f3b(0x3f8)]('Error\x20loading\x20user\x20preferences:',_0x50a388),{};}}function parseIndentedBlueprint(_0x26692a){const _0x24c8c8=_0x5319e2,_0x327f09=_0x26692a[_0x24c8c8(0x3ba)]('\x0a')[_0x24c8c8(0xbdf)](_0x2f4627=>_0x2f4627[_0x24c8c8(0xc3f)]()!==''),_0x4e6de=[];let _0x5bc93b=null,_0x272736=null;return _0x327f09['forEach'](_0x34ef34=>{const _0x6db9c3=_0x24c8c8,_0x5719c1=_0x34ef34['match'](/^\s*/)[0x0]['length'],_0x5470ce=_0x34ef34['trim']();if(_0x5719c1===0x0)_0x5bc93b={'sara':_0x5470ce,'mainTopics':[]},_0x4e6de[_0x6db9c3(0xbda)](_0x5bc93b),_0x272736=null;else{if(_0x5719c1>0x0&&_0x5719c1<0x8&&_0x5bc93b)_0x272736={'topicName':_0x5470ce,'subTopics':[]},_0x5bc93b[_0x6db9c3(0xa39)][_0x6db9c3(0xbda)](_0x272736);else _0x5719c1>=0x8&&_0x272736&&_0x272736['subTopics'][_0x6db9c3(0xbda)](_0x5470ce);}}),{'curriculum':_0x4e6de};}async function handleManualBlueprintSave(){const _0x2452ee=_0x5319e2,_0x1f55cb=document[_0x2452ee(0x6e6)]('manual-bp-project-name')[_0x2452ee(0xb2d)]['trim'](),_0x1900c8=document[_0x2452ee(0x6e6)](_0x2452ee(0x6d8))['value']['trim'](),_0x20f5a9=document[_0x2452ee(0x6e6)](_0x2452ee(0x6b3))[_0x2452ee(0xb2d)];if(!_0x1f55cb||!_0x1900c8||!_0x20f5a9){showMessage(_0x2452ee(0x9c8));return;}const _0x26aca6=parseIndentedBlueprint(_0x20f5a9);if(!_0x26aca6[_0x2452ee(0xc2a)]||_0x26aca6[_0x2452ee(0xc2a)][_0x2452ee(0x4f1)]===0x0){showMessage(_0x2452ee(0xb1f));return;}const _0x3e0133={};let _0x774ad8=0x0;_0x26aca6[_0x2452ee(0xc2a)][_0x2452ee(0xbf2)](_0x2fbf73=>{const _0x1bd715=_0x2452ee;_0x2fbf73[_0x1bd715(0xa39)]['forEach'](_0x2a8007=>{const _0x363406=_0x1bd715;_0x2a8007[_0x363406(0x12e)]['forEach'](_0x4817fa=>{const _0x4ea266=_0x363406,_0x5f0423=_0x4ea266(0x41a)+Date[_0x4ea266(0xc35)]()+Math['random']()['toString'](0x24)[_0x4ea266(0xae2)](0x2,0x9);_0x3e0133[_0x5f0423]={'sara':_0x2fbf73[_0x4ea266(0xbc7)],'mainTopic':_0x2a8007['topicName'],'subTopic':_0x4817fa,'status':_0x4ea266(0xc93),'lessonContent':null,'order':_0x774ad8++};});});});try{const _0x52f25e=collection(db,_0x2452ee(0x555)+appId+'/public/data/blueprintProjects');await addDoc(_0x52f25e,{'projectName':_0x1f55cb,'gradeLevel':_0x1900c8,'topics':_0x3e0133,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x1f55cb+'\x22\x20สำเร็จ!'),document[_0x2452ee(0x6e6)]('manual-blueprint-modal')['classList'][_0x2452ee(0x831)](_0x2452ee(0xd60));}catch(_0x4b6500){console[_0x2452ee(0x3f8)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x4b6500),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x1f2ec2){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x49ea29=_0x4aab;try{const _0x59a7bb=doc(db,_0x49ea29(0x555)+appId+_0x49ea29(0x804),currentBlueprintProjectId);await updateDoc(_0x59a7bb,{[_0x49ea29(0x691)+_0x1f2ec2+'.linkedQuizIds']:[]}),showMessage(_0x49ea29(0xd0f)),openTopicQuizBank(_0x1f2ec2),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x25d62d){console[_0x49ea29(0x3f8)](_0x49ea29(0xa41),_0x25d62d),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x1786f8,_0x44a617='live-race',_0x49584e=null){const _0x586934=_0x5319e2,_0x2a8260=_0x49584e?.['isBlackMarketEnabled']===!![],_0x2f0f5e=Object[_0x586934(0x6fa)](_0x1786f8)[_0x586934(0x23a)](([_0x379b6a,_0x355d45])=>({'name':_0x379b6a,'realScore':_0x355d45['realScore']||_0x355d45['score']||0x0,'totalPoints':_0x355d45[_0x586934(0x812)]||0x0,'badges':_0x355d45[_0x586934(0xba7)]||[],'hasPerfectScoreBonus':_0x355d45[_0x586934(0xb56)]||![],'correctStreak':_0x355d45[_0x586934(0xb98)]||0x0})),_0xba16a0=Math['max'](..._0x2f0f5e[_0x586934(0x23a)](_0x1f870c=>_0x1f870c[_0x586934(0x812)]),-Infinity),_0x416cbf=Math[_0x586934(0xd01)](..._0x2f0f5e[_0x586934(0x23a)](_0x222353=>_0x222353['realScore']),-Infinity);_0x2f0f5e[_0x586934(0x602)]((_0x205283,_0x265dc6)=>{const _0x6b0409=_0x586934;if(_0x2a8260){const _0x5beaa2=_0x265dc6[_0x6b0409(0x812)]-_0x205283[_0x6b0409(0x812)];if(_0x5beaa2!==0x0)return _0x5beaa2;const _0x21c389=_0x265dc6[_0x6b0409(0x163)]-_0x205283[_0x6b0409(0x163)];if(_0x21c389!==0x0)return _0x21c389;return _0x205283[_0x6b0409(0x1dc)][_0x6b0409(0x8ed)](_0x265dc6[_0x6b0409(0x1dc)],'th');}else{const _0x5f0deb=_0x265dc6[_0x6b0409(0x812)]-_0x205283[_0x6b0409(0x812)];if(_0x5f0deb!==0x0)return _0x5f0deb;const _0x4a586b=_0x265dc6[_0x6b0409(0x163)]-_0x205283[_0x6b0409(0x163)];if(_0x4a586b!==0x0)return _0x4a586b;return _0x205283[_0x6b0409(0x1dc)]['localeCompare'](_0x265dc6[_0x6b0409(0x1dc)],'th');}});let _0x53caf4=0x1;for(let _0x625ec3=0x0;_0x625ec3<_0x2f0f5e['length'];_0x625ec3++){if(_0x625ec3>0x0){const _0x54f234=_0x2f0f5e[_0x625ec3-0x1],_0x44e19c=_0x2f0f5e[_0x625ec3],_0x5356d2=_0x44e19c[_0x586934(0x812)]===_0x54f234[_0x586934(0x812)]&&_0x44e19c[_0x586934(0x163)]===_0x54f234['realScore'];!_0x5356d2&&(_0x53caf4=_0x625ec3+0x1);}_0x2f0f5e[_0x625ec3][_0x586934(0x4b7)]=_0x53caf4;}const _0x409294=_0x29c4fe=>{const _0xb0a235=_0x586934;if(!_0x29c4fe||_0x29c4fe['length']===0x0)return'';const _0x3ed46b={'quick_thinker':'⚡️','on_fire':'🔥'};return _0xb0a235(0xa69)+_0x29c4fe[_0xb0a235(0x23a)](_0x326474=>_0x3ed46b[_0x326474]||'')['join']('')+_0xb0a235(0xa5a);},_0x14213e=_0x319b8f=>{const _0x83110e=_0x586934;let _0x2b0330='';if(_0x2a8260){if(_0x319b8f[_0x83110e(0x812)]===_0xba16a0&&_0xba16a0>0x0)_0x2b0330+=_0x83110e(0x16c);if(_0x319b8f[_0x83110e(0x163)]===_0x416cbf&&_0x416cbf>0x0)_0x2b0330+=_0x83110e(0xb7a);}else{if(_0x319b8f['hasPerfectScoreBonus'])_0x2b0330=_0x83110e(0x5e0);}let _0x2b6f22='';_0x319b8f['correctStreak']>=0x3&&(_0x2b6f22=_0x83110e(0x2df)+_0x319b8f[_0x83110e(0xb98)]+_0x83110e(0x8d8));if(_0x2a8260){const _0x4a4f76=_0x319b8f[_0x83110e(0x812)]>=0x0?'(+'+_0x319b8f['totalPoints'][_0x83110e(0xe3a)]()+')':'('+_0x319b8f[_0x83110e(0x812)][_0x83110e(0xe3a)]()+')';return _0x83110e(0x196)+_0x319b8f[_0x83110e(0x163)]+_0x83110e(0x6b8)+_0x4a4f76+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>'+_0x2b0330+_0x2b6f22+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x319b8f[_0x83110e(0x812)][_0x83110e(0xe3a)]()+_0x83110e(0xaf4)+_0x2b0330+_0x2b6f22+_0x83110e(0xd02);},_0x31bd30=_0x18cf2b=>{const _0x438d26=_0x586934;if(_0x18cf2b>=0x3)return _0x438d26(0x67c)+_0x18cf2b+'</span>';return'';},_0x5a0e1c=_0x2f0f5e[_0x586934(0x1e1)](0x3),_0x1378e2=_0x5a0e1c[_0x586934(0x4f1)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a0e1c['map']((_0x35bbea,_0x5dccec)=>{const _0x5df83b=_0x586934;let _0x17708e='';if(_0x2a8260){if(_0x35bbea[_0x5df83b(0x812)]===_0xba16a0&&_0xba16a0>0x0)_0x17708e+=_0x5df83b(0x4e8);if(_0x35bbea[_0x5df83b(0x163)]===_0x416cbf&&_0x416cbf>0x0)_0x17708e+=_0x5df83b(0xb4c);}let _0x37db61='';return _0x2a8260?_0x37db61=_0x35bbea[_0x5df83b(0x163)]+_0x5df83b(0x98d)+_0x35bbea['totalPoints']['toLocaleString']()+')':_0x37db61=_0x35bbea[_0x5df83b(0x812)][_0x5df83b(0xe3a)]()+'\x20คะแนน',_0x5df83b(0x9f8)+_0x35bbea['displayRank']+_0x5df83b(0x9d6)+_0x35bbea[_0x5df83b(0x1dc)]+_0x5df83b(0xe4c)+_0x31bd30(_0x35bbea['correctStreak'])+_0x5df83b(0xb9e)+_0x37db61+'\x20'+_0x17708e+_0x5df83b(0x28b);})[_0x586934(0x975)]('')+_0x586934(0x6a0):'',_0x58dd93=_0x586934(0x167)+(_0x2f0f5e[0x1]?_0x586934(0x6de)+_0x2f0f5e[0x1][_0x586934(0x1dc)]+'</p>'+_0x14213e(_0x2f0f5e[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>'+_0x2f0f5e[0x1]['displayRank']+_0x586934(0x81d):_0x586934(0x838))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f0f5e[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>'+_0x2f0f5e[0x0][_0x586934(0x1dc)]+_0x586934(0xc37)+_0x14213e(_0x2f0f5e[0x0])+_0x586934(0x9db)+_0x2f0f5e[0x0][_0x586934(0x4b7)]+'</div></div>':_0x586934(0x838))+_0x586934(0x8ef)+(_0x2f0f5e[0x2]?_0x586934(0x4db)+_0x2f0f5e[0x2][_0x586934(0x1dc)]+_0x586934(0xc37)+_0x14213e(_0x2f0f5e[0x2])+_0x586934(0x3f2)+_0x2f0f5e[0x2][_0x586934(0x4b7)]+_0x586934(0x81d):'<div\x20class=\x22flex-1\x22></div>')+_0x586934(0x79c)+_0x1378e2+_0x586934(0x20b)+(currentMode===_0x586934(0x219)?_0x586934(0x2ec):'<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>')+_0x586934(0x3ec);liveGameView['innerHTML']=_0x58dd93,currentMode===_0x586934(0x219)?document[_0x586934(0x6e6)](_0x586934(0x3c4))[_0x586934(0x49d)](_0x586934(0xa6e),async()=>{const _0x3fb3d4=_0x586934;let _0x550a73;_0x44a617==='sync'?_0x550a73=doc(db,_0x3fb3d4(0x555)+appId+_0x3fb3d4(0x6ba),currentLiveGameId):_0x550a73=doc(db,'artifacts/'+appId+_0x3fb3d4(0x700),currentLiveGameId),await deleteDoc(_0x550a73);}):document[_0x586934(0x6e6)](_0x586934(0x3b2))?.[_0x586934(0x49d)](_0x586934(0xa6e),()=>{showView('student');});}function renderSyncSummaryView(_0x424ad5,_0x3794f0,_0x2187bc){const _0x562415=_0x5319e2,_0x34bed4=_0x424ad5[_0x562415(0xa30)]||'classic',_0x8c3349=(_0x34bed4===_0x562415(0x874)||_0x34bed4===_0x562415(0x1e6))&&_0x424ad5[_0x562415(0x359)]===![],_0x5725f1=_0x34bed4===_0x562415(0xaf6)||_0x34bed4===_0x562415(0x1e6),_0x45c1bf=_0x424ad5[_0x562415(0x320)][_0x562415(0x521)],_0x2fc943=_0x3794f0[_0x562415(0x823)]||_0x424ad5[_0x562415(0x320)]['quizType'],_0x82baa4=_0x2fc943==='short_answer'||_0x2fc943===_0x562415(0x603);let _0x154067='';if(_0x82baa4){let _0x587828=0x0,_0x3e599e=0x0;const _0x161f1b=[],_0x5bef0d=[];Object['entries'](_0x424ad5['players']||{})['forEach'](([_0x4d28a7,_0x10af8f])=>{const _0x2612ad=_0x562415,_0x40837f=(_0x10af8f[_0x2612ad(0xa77)]||[])[_0x2612ad(0x8af)](_0x543b00=>_0x543b00[_0x2612ad(0x737)]===_0x424ad5[_0x2612ad(0x519)]);if(_0x10af8f['status']!==_0x2612ad(0x8b2)&&_0x40837f){const _0x19f1c7=_0x40837f[_0x2612ad(0x3e8)],_0x4b8aad=_0x8c3349?_0x424ad5[_0x2612ad(0x24f)][_0x4d28a7]||_0x2612ad(0xbfc):_0x4d28a7;_0x40837f[_0x2612ad(0x1a1)]?(_0x587828++,_0x161f1b[_0x2612ad(0xbda)](_0x4b8aad)):(_0x3e599e++,_0x5bef0d[_0x2612ad(0xbda)]('<span\x20class=\x22text-yellow-200\x20font-bold\x22>'+_0x4b8aad+_0x2612ad(0x590)+(_0x19f1c7||_0x2612ad(0xca2))));}}),_0x154067=_0x562415(0x768)+_0x587828+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>'+(_0x161f1b[_0x562415(0x4f1)]>0x0?_0x161f1b[_0x562415(0x975)](',\x20'):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x3e599e+_0x562415(0xc0d)+(_0x5bef0d['length']>0x0?_0x5bef0d['join'](_0x562415(0xb2b)):'-')+_0x562415(0x20d);}else{let _0x3c6993=[];_0x2fc943===_0x562415(0x1cc)?_0x3c6993=['ใช่\x20/\x20ถูก',_0x562415(0xe4e)]:_0x3c6993=_0x3794f0[_0x562415(0x4ff)]||[];const _0x56310e=new Array(_0x3c6993['length'])['fill'](0x0),_0x4c09f6={};_0x3c6993[_0x562415(0xbf2)]((_0x500563,_0x14350d)=>{_0x4c09f6[_0x14350d]=[];}),Object['entries'](_0x424ad5[_0x562415(0xdb1)]||{})[_0x562415(0xbf2)](([_0x4aad53,_0x35a5c0])=>{const _0x38e7a0=_0x562415,_0x15386a=(_0x35a5c0[_0x38e7a0(0xa77)]||[])[_0x38e7a0(0x8af)](_0x16881b=>_0x16881b[_0x38e7a0(0x737)]===_0x424ad5[_0x38e7a0(0x519)]);if(_0x35a5c0['status']!==_0x38e7a0(0x8b2)&&_0x15386a&&_0x15386a[_0x38e7a0(0x4b0)]!==null){const _0x1b9edc=parseInt(_0x15386a[_0x38e7a0(0x4b0)]);if(!isNaN(_0x1b9edc)&&_0x4c09f6[_0x1b9edc]!==undefined){const _0x47c7c7=_0x8c3349?_0x424ad5[_0x38e7a0(0x24f)][_0x4aad53]||'???':_0x4aad53;_0x4c09f6[_0x1b9edc][_0x38e7a0(0xbda)](_0x47c7c7),_0x56310e[_0x1b9edc]++;}}}),_0x154067=_0x562415(0xe6e)+_0x56310e['map']((_0x54b02f,_0x4ea7e7)=>{const _0x1ae7cc=_0x562415,_0x1e3de0=_0x4c09f6[_0x4ea7e7][_0x1ae7cc(0x4f1)]>0x0?_0x4c09f6[_0x4ea7e7][_0x1ae7cc(0x975)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x378ffe='#6366F1';return _0x1ae7cc(0xb65)+_0x54b02f+_0x1ae7cc(0x7e2)+_0x378ffe+_0x1ae7cc(0x9b7)+_0x4ea7e7+_0x1ae7cc(0x6df)+_0x3c6993[_0x4ea7e7]+_0x1ae7cc(0xcf9)+_0x4ea7e7+_0x1ae7cc(0x2ca)+_0x1e3de0+_0x1ae7cc(0x412);})[_0x562415(0x975)]('')+_0x562415(0xa21);}let _0x132338='';const _0x5602c7=_0x424ad5[_0x562415(0x519)]>=_0x45c1bf['length']-0x1;_0x2187bc?_0x5725f1?_0x5602c7?_0x132338=_0x562415(0x3a2):_0x132338=_0x562415(0x9f6):_0x132338=_0x562415(0xc9c):_0x5725f1?_0x132338=_0x562415(0xe20):_0x132338=_0x562415(0x5ca);const _0x4e0ea9=_0x2187bc?_0x562415(0xcb6)+_0x424ad5['pin']+'</strong></div>':'',_0x1ff656=_0x562415(0x966)+_0x4e0ea9+_0x562415(0x59f)+(_0x3794f0['questionText']||_0x3794f0[_0x562415(0x2f8)]||'')+_0x562415(0x4f7)+_0x154067+_0x562415(0x73f)+_0x132338+_0x562415(0xd5e);liveGameView['innerHTML']=_0x1ff656;if(window[_0x562415(0x19c)])MathJax['typesetPromise']();if(_0x2187bc){const _0x14c150=doc(db,_0x562415(0x555)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x562415(0x6e6)]('show-results-btn')?.[_0x562415(0x49d)](_0x562415(0xa6e),async()=>{const _0x333974=_0x562415,_0x25fa2e=Object[_0x333974(0x129)](_0x424ad5[_0x333974(0xdb1)]||{})[_0x333974(0x23a)](_0x1d7d21=>({'name':_0x1d7d21[_0x333974(0x1dc)],'score':_0x1d7d21[_0x333974(0x473)]||0x0,'totalPoints':_0x1d7d21[_0x333974(0x812)]||0x0,'pointsLastRound':_0x1d7d21[_0x333974(0x18f)]||0x0,'answers':_0x1d7d21[_0x333974(0xa77)]||[],'correctStreak':_0x1d7d21['correctStreak']||0x0}));await updateDoc(_0x14c150,{'status':_0x333974(0x354),'publicLeaderboard':_0x25fa2e});}),document[_0x562415(0x6e6)](_0x562415(0xb66))?.[_0x562415(0x49d)](_0x562415(0xa6e),()=>{const _0x730508=_0x562415;openScratchpad(_0x3794f0,_0x3794f0[_0x730508(0x4ff)]||[]);}),document[_0x562415(0x6e6)]('next-sync-question-btn')?.['addEventListener']('click',async()=>{const _0x4f2688=_0x562415,_0x2a8b7f=_0x424ad5[_0x4f2688(0x519)]+0x1;await updateDoc(_0x14c150,{'status':'question','currentQuestionIndex':_0x2a8b7f,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x562415(0x6e6)](_0x562415(0x392))?.[_0x562415(0x49d)](_0x562415(0xa6e),async()=>{const _0x3488c5=_0x562415,_0x3608ed=Object[_0x3488c5(0x129)](_0x424ad5['players']||{})[_0x3488c5(0x23a)](_0x328f38=>({'name':_0x328f38[_0x3488c5(0x1dc)],'score':_0x328f38[_0x3488c5(0x473)]||0x0,'totalPoints':_0x328f38[_0x3488c5(0x812)]||0x0,'pointsLastRound':_0x328f38[_0x3488c5(0x18f)]||0x0,'answers':_0x328f38[_0x3488c5(0xa77)]||[],'correctStreak':_0x328f38['correctStreak']||0x0}));await updateDoc(_0x14c150,{'status':_0x3488c5(0x354),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x3608ed});});}}function renderAnonymousStudentResultsView(_0x555749){const _0x1b7de2=_0x5319e2,_0x5980aa=_0x555749[_0x1b7de2(0x519)]>=_0x555749[_0x1b7de2(0x320)]['questions'][_0x1b7de2(0x4f1)]-0x1;let _0x16c18a='';if(_0x555749[_0x1b7de2(0x359)]===!![]){const _0x3e2f23=_0x555749['players'][localTeamPlayers[0x0]],_0x272e49=_0x3e2f23[_0x1b7de2(0x1dc)],_0x42a34c=_0x3e2f23[_0x1b7de2(0x473)];_0x16c18a=_0x1b7de2(0x303)+_0x272e49+'\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>'+_0x42a34c+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x16c18a=_0x1b7de2(0x5d4)+(_0x5980aa?_0x1b7de2(0xddb):'รอผู้ควบคุมไปข้อต่อไป...')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0xb94bcb=_0x1b7de2(0x203)+_0x16c18a+_0x1b7de2(0x567);liveGameView['innerHTML']=_0xb94bcb;}async function handleShowStudentRankings(){const _0x57d405=_0x5319e2,_0x26194b=document[_0x57d405(0x86d)](_0x57d405(0x9e3));_0x26194b&&(_0x26194b[_0x57d405(0xa19)]=_0x57d405(0x973));const _0x2c3ea8=document[_0x57d405(0x86d)](_0x57d405(0x511));_0x2c3ea8&&(_0x2c3ea8['innerHTML']=_0x57d405(0x16d));const _0x1707d6=document[_0x57d405(0x6e6)](_0x57d405(0xad6));_0x1707d6['classList']['remove'](_0x57d405(0xd60)),document[_0x57d405(0x6e6)](_0x57d405(0xa1d))[_0x57d405(0x4aa)]=()=>_0x1707d6['classList']['add'](_0x57d405(0xd60));const _0x336250=document[_0x57d405(0x6e6)]('student-quiz-leaderboard-tab'),_0x52bb6e=document[_0x57d405(0x6e6)](_0x57d405(0x3f4)),_0x4b1ed0=document['getElementById']('student-quiz-leaderboard-content'),_0x45e43a=document['getElementById'](_0x57d405(0x560));_0x336250[_0x57d405(0x4aa)]=()=>{const _0x5e147a=_0x57d405;_0x336250['classList'][_0x5e147a(0x831)](_0x5e147a(0x797)),_0x52bb6e[_0x5e147a(0x3d9)][_0x5e147a(0xb00)](_0x5e147a(0x797)),_0x4b1ed0[_0x5e147a(0x3d9)]['remove'](_0x5e147a(0xd60)),_0x45e43a[_0x5e147a(0x3d9)]['add'](_0x5e147a(0xd60));},_0x52bb6e[_0x57d405(0x4aa)]=()=>{const _0x2f8738=_0x57d405;_0x52bb6e[_0x2f8738(0x3d9)][_0x2f8738(0x831)](_0x2f8738(0x797)),_0x336250[_0x2f8738(0x3d9)]['remove'](_0x2f8738(0x797)),_0x45e43a['classList'][_0x2f8738(0xb00)](_0x2f8738(0xd60)),_0x4b1ed0[_0x2f8738(0x3d9)][_0x2f8738(0x831)](_0x2f8738(0xd60));};try{const _0x5c97d2=collection(db,_0x57d405(0x555)+appId+_0x57d405(0xa62)+currentQuizData['id']+_0x57d405(0xe09)),_0x5e5e5c=await getDocs(_0x5c97d2),_0xbaea0b=_0x5e5e5c[_0x57d405(0x6e9)][_0x57d405(0x23a)](_0x9bc394=>_0x9bc394[_0x57d405(0x9cb)]());renderQuizLeaderboard(_0xbaea0b,currentQuizData,'student-quiz-leaderboard-table-body');const _0x55d892=collection(db,_0x57d405(0x555)+appId+_0x57d405(0xb15)+currentQuizData[_0x57d405(0x19e)]+_0x57d405(0x89a)),_0x2d7d01=await getDocs(_0x55d892),_0x1be5ae=_0x2d7d01[_0x57d405(0x6e9)][_0x57d405(0x23a)](_0x3d62d4=>_0x3d62d4[_0x57d405(0x9cb)]());renderLeaderboard(_0x1be5ae,_0x57d405(0x3e0));}catch(_0x1d93b2){console[_0x57d405(0x3f8)](_0x57d405(0x97e),_0x1d93b2),showMessage(_0x57d405(0xa03));}}async function handleSaveToBank(_0x79b198){const _0x452322=_0x5319e2,_0x18738c=_0x79b198[_0x452322(0x453)],_0x4d14d5=_0x18738c[_0x452322(0x9ff)][_0x452322(0x9c6)],_0x571881=currentQuizData[_0x452322(0x521)][_0x4d14d5];if(!userId){showMessage(_0x452322(0xce4));return;}try{const _0x17f549={..._0x571881,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x747eb3=collection(db,_0x452322(0x555)+appId+_0x452322(0x5c8)+userId+'/questionBank');await addDoc(_0x747eb3,_0x17f549),showMessage(_0x452322(0x92b)),_0x18738c['classList']['remove']('text-purple-600'),_0x18738c[_0x452322(0x3d9)][_0x452322(0x831)](_0x452322(0xe98)),_0x18738c[_0x452322(0xe9a)]=!![];}catch(_0x3ca236){console[_0x452322(0x3f8)](_0x452322(0x984),_0x3ca236),showMessage(_0x452322(0xc39));}}async function selectProjectAndGenerateBlueprintQuiz(_0x4181f2,_0x12f713=null,_0x173a2d=null,_0x1db26b=![]){const _0x2b84bf=_0x5319e2;cameFromBlueprint=!![];const _0x29921a=document[_0x2b84bf(0x6e6)](_0x2b84bf(0xa35))?.[_0x2b84bf(0xb2d)]['trim']();let _0x3b5ffa=null;if(_0x29921a){showMessage(_0x2b84bf(0x916));try{const _0x3339b0=await fetchFileFromUrl(_0x29921a,_0x2b84bf(0xa67)),_0x174e08=await new Promise((_0x2025a9,_0x3d0312)=>{const _0x103b93=_0x2b84bf,_0x257f57=new FileReader();_0x257f57[_0x103b93(0x326)](_0x3339b0),_0x257f57[_0x103b93(0x904)]=()=>_0x2025a9(_0x257f57[_0x103b93(0xcb3)][_0x103b93(0x3ba)](',')[0x1]),_0x257f57[_0x103b93(0x66e)]=_0x3d0312;});_0x3b5ffa=[{'inlineData':{'mimeType':_0x3339b0[_0x2b84bf(0xe5f)],'data':_0x174e08}}],messageModal[_0x2b84bf(0x3d9)][_0x2b84bf(0x831)](_0x2b84bf(0xd60));}catch(_0x4a970c){console[_0x2b84bf(0x3f8)]('Could\x20not\x20fetch\x20reference\x20file:',_0x4a970c),showMessage(_0x2b84bf(0x375));}}const _0x2a27f5=document[_0x2b84bf(0x6e6)](_0x2b84bf(0x52c)),_0x447cab=document['getElementById'](_0x2b84bf(0x832)),_0x504930=_0x2a27f5[_0x2b84bf(0x86d)]('h3'),_0x3d9611=document['getElementById'](_0x2b84bf(0xd40)),_0x16d4f7=document[_0x2b84bf(0x6e6)](_0x2b84bf(0x130));_0x504930[_0x2b84bf(0xb7b)]=_0x2b84bf(0x524),_0x3d9611['textContent']=_0x2b84bf(0xaff),_0x3d9611[_0x2b84bf(0xe9a)]=!![];allProjects['length']===0x0?_0x447cab[_0x2b84bf(0xa19)]=_0x2b84bf(0x3d6):(_0x447cab[_0x2b84bf(0xa19)]=_0x2b84bf(0x7ef)+allProjects['map'](_0x5ab0d0=>_0x2b84bf(0xdd4)+_0x5ab0d0['id']+'\x22>'+_0x5ab0d0[_0x2b84bf(0x4de)]+'</option>')[_0x2b84bf(0x975)](''),_0x3d9611[_0x2b84bf(0xe9a)]=![]);_0x2a27f5['classList'][_0x2b84bf(0xb00)](_0x2b84bf(0xd60));const _0x42c210=async()=>{const _0x79e07=_0x2b84bf,_0x4d35fe=_0x447cab[_0x79e07(0xb2d)];if(!_0x4d35fe){showMessage(_0x79e07(0x15b));return;}_0x2a27f5[_0x79e07(0x3d9)]['add'](_0x79e07(0xd60)),document[_0x79e07(0x6e6)]('blueprint-project-manager-view')[_0x79e07(0x3d9)][_0x79e07(0x831)]('hidden'),await loadProjectDetails(_0x4d35fe),showView(_0x79e07(0x356)),handleGenerateQuizFromBlueprintTopic(_0x4181f2,_0x12f713,_0x4d35fe,_0x173a2d,_0x1db26b,_0x3b5ffa),_0x30b8b4();},_0x30b8b4=()=>{const _0x3508a2=_0x2b84bf;_0x504930[_0x3508a2(0xb7b)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3d9611[_0x3508a2(0xb7b)]=_0x3508a2(0x8d6),_0x3d9611['removeEventListener'](_0x3508a2(0xa6e),_0x42c210),_0x16d4f7[_0x3508a2(0x60a)](_0x3508a2(0xa6e),_0x30b8b4),_0x3d9611[_0x3508a2(0x49d)]('click',confirmMoveQuiz);};_0x3d9611['removeEventListener'](_0x2b84bf(0xa6e),confirmMoveQuiz),_0x3d9611[_0x2b84bf(0x49d)](_0x2b84bf(0xa6e),_0x42c210),_0x16d4f7[_0x2b84bf(0x49d)](_0x2b84bf(0xa6e),_0x30b8b4);}function listenForStarredQuizzes(){const _0x37f434=_0x5319e2;if(!userId)return;const _0x6c6508=collection(db,_0x37f434(0x555)+appId+'/public/data/quizzes'),_0x6c20bd=query(_0x6c6508,where('isStarred','==',!![]));onSnapshot(_0x6c20bd,_0x2742ef=>{const _0x2ca8cb=_0x37f434;starredQuizzes=_0x2742ef[_0x2ca8cb(0x6e9)]['map'](_0x293378=>({'id':_0x293378['id'],..._0x293378['data']()})),currentProjectId===_0x2ca8cb(0x41d)?renderQuizzes():renderProjects();},_0x4a4d5e=>{const _0x56ea1b=_0x37f434;console[_0x56ea1b(0x3f8)](_0x56ea1b(0x125),_0x4a4d5e);});}function listenForFileShortcuts(){const _0x3ce2f6=_0x5319e2,_0x28a684=doc(db,_0x3ce2f6(0xe25),_0x3ce2f6(0xc80));onSnapshot(_0x28a684,_0x188a9d=>{const _0x2e1384=_0x3ce2f6;let _0x410848=[],_0x33678d=[],_0x2c4a21={};if(_0x188a9d[_0x2e1384(0x958)]()){const _0x42d244=_0x188a9d[_0x2e1384(0x9cb)]();_0x410848=_0x42d244[_0x2e1384(0x971)]||[],_0x33678d=_0x42d244[_0x2e1384(0x85d)]||[],_0x2c4a21=_0x42d244[_0x2e1384(0xc54)]||{};}!_0x33678d[_0x2e1384(0x8af)](_0x5d8467=>_0x5d8467['id']===_0x2e1384(0x8bd))&&_0x33678d[_0x2e1384(0xa72)]({'id':_0x2e1384(0x8bd),'name':_0x2e1384(0x4a3),'isDefault':!![]}),!_0x410848['find'](_0x4b69cc=>_0x4b69cc['id']===_0x2e1384(0x669))&&_0x410848[_0x2e1384(0xa72)]({'id':'file-default-1','name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x410848[_0x2e1384(0x8af)](_0x18ba8f=>_0x18ba8f['id']===_0x2e1384(0x6ee))&&_0x410848[_0x2e1384(0xa72)]({'id':_0x2e1384(0x6ee),'name':_0x2e1384(0x482),'url':'','isDefault':!![]}),fileShortcuts=_0x410848,fileShortcutTabs=_0x33678d,fileShortcutOrder=_0x2c4a21,renderFileShortcuts(),!document['getElementById'](_0x2e1384(0xe4f))[_0x2e1384(0x3d9)][_0x2e1384(0x124)](_0x2e1384(0xd60))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x7ca251=_0x5319e2,_0x5dff0a=doc(db,'globalSettings','fileShortcutsConfig');try{await setDoc(_0x5dff0a,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x52eff9){console[_0x7ca251(0x3f8)](_0x7ca251(0xe10),_0x52eff9);}}function renderAdditionalFileShortcutsModal(){const _0x566090=_0x5319e2,_0x1d5c43=document[_0x566090(0x6e6)](_0x566090(0x7d5)),_0x1144d3=document[_0x566090(0x6e6)](_0x566090(0x3be));if(!_0x1d5c43||!_0x1144d3)return;_0x1d5c43[_0x566090(0xa19)]=fileShortcutTabs['map'](_0x1fc511=>{const _0xb52abb=_0x566090,_0xad2bcb=_0x1fc511['id']===activeFileShortcutTabId;return _0xb52abb(0x467)+_0x1fc511['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0xad2bcb?_0xb52abb(0xc1c):_0xb52abb(0xbb5))+_0xb52abb(0xbf1)+_0x1fc511[_0xb52abb(0x1dc)]+_0xb52abb(0x1a8)+_0x1fc511[_0xb52abb(0x1dc)]+_0xb52abb(0xcf3)+(!_0x1fc511[_0xb52abb(0xa63)]?'<button\x20data-tab-id=\x22'+_0x1fc511['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0xb52abb(0x478);})['join']('');const _0x5df6f0=fileShortcutTabs['find'](_0xc2b988=>_0xc2b988['id']===activeFileShortcutTabId);let _0xf46440=_0x5df6f0?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0x566090(0xbdf)](_0x156c6f=>(_0x5df6f0?.[_0x566090(0x271)]||[])[_0x566090(0x676)](_0x156c6f['id']));const _0x214daa=fileShortcutOrder[activeFileShortcutTabId]||[];_0xf46440[_0x566090(0x602)]((_0x58f6e6,_0x5062c4)=>{const _0x2d10a7=_0x566090,_0xc8c1cf=_0x214daa[_0x2d10a7(0x9de)](_0x58f6e6['id']),_0x57967c=_0x214daa[_0x2d10a7(0x9de)](_0x5062c4['id']);return(_0xc8c1cf===-0x1?Infinity:_0xc8c1cf)-(_0x57967c===-0x1?Infinity:_0x57967c);}),_0x1144d3['innerHTML']=_0xf46440[_0x566090(0x23a)](_0x4c523c=>{const _0x103ab2=_0x566090,_0x2808bd=_0x4c523c[_0x103ab2(0xbc3)]?'📄':'🔗',_0x778445=fileShortcutTabs['filter'](_0x1a4e44=>!_0x1a4e44[_0x103ab2(0xa63)]),_0x524e8b=_0x5df6f0[_0x103ab2(0xa63)]&&_0x778445[_0x103ab2(0x4f1)]>0x0?_0x103ab2(0xdec)+_0x778445['map'](_0x1b77af=>_0x103ab2(0x571)+_0x4c523c['id']+_0x103ab2(0x3e4)+_0x1b77af['id']+'\x22>'+_0x1b77af[_0x103ab2(0x1dc)]+_0x103ab2(0x862))[_0x103ab2(0x975)]('')+_0x103ab2(0xdf6):'';return _0x103ab2(0x92d)+_0x4c523c['id']+_0x103ab2(0x9e0)+_0x2808bd+'\x20'+_0x4c523c[_0x103ab2(0x1dc)]+_0x103ab2(0xc81)+_0x4c523c['id']+_0x103ab2(0xdaa)+_0x4c523c['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4c523c[_0x103ab2(0xa63)]?_0x103ab2(0x29f)+_0x4c523c['id']+_0x103ab2(0xd7b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5df6f0[_0x103ab2(0xa63)]?_0x103ab2(0x5a4)+_0x4c523c['id']+_0x103ab2(0xd83):'')+_0x103ab2(0x319)+_0x524e8b+_0x103ab2(0xcba);})['join']('')||_0x566090(0x39f),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x19aa64=_0x5319e2;document[_0x19aa64(0x2c3)](_0x19aa64(0x40d))[_0x19aa64(0xbf2)](_0x46b510=>{_0x46b510['onclick']=_0x391e60=>{const _0x8c9b54=_0x4aab;activeFileShortcutTabId=_0x391e60['currentTarget'][_0x8c9b54(0x9ff)][_0x8c9b54(0x277)],renderAdditionalFileShortcutsModal();},_0x46b510['ondblclick']=_0xfaa500=>{const _0x480c91=_0x4aab,_0x13adc3=_0xfaa500[_0x480c91(0x453)][_0x480c91(0x86d)]('.tab-name-input');_0xfaa500[_0x480c91(0x453)][_0x480c91(0x86d)](_0x480c91(0x43c))['classList'][_0x480c91(0x831)]('hidden'),_0x13adc3[_0x480c91(0x3d9)][_0x480c91(0xb00)](_0x480c91(0xd60)),_0x13adc3['focus'](),_0x13adc3['select']();};}),document[_0x19aa64(0x2c3)](_0x19aa64(0x24d))[_0x19aa64(0xbf2)](_0x275c93=>{const _0x4e4bf5=()=>{const _0x299d93=_0x4aab,_0x359535=_0x275c93['closest'](_0x299d93(0x40d))['dataset'][_0x299d93(0x277)],_0x436719=fileShortcutTabs['find'](_0x80eb15=>_0x80eb15['id']===_0x359535);_0x436719&&(_0x436719[_0x299d93(0x1dc)]=_0x275c93[_0x299d93(0xb2d)]['trim']()||_0x436719[_0x299d93(0x1dc)],saveFileShortcutConfig());};_0x275c93['onblur']=_0x4e4bf5,_0x275c93['onkeydown']=_0x582012=>{const _0x18a440=_0x4aab;if(_0x582012['key']===_0x18a440(0x2be))_0x275c93[_0x18a440(0x261)]();};}),document[_0x19aa64(0x2c3)](_0x19aa64(0x578))[_0x19aa64(0xbf2)](_0x3f2e13=>_0x3f2e13['onclick']=_0x25705f=>{const _0x1ef5e8=_0x19aa64,_0x43bfb8=_0x25705f[_0x1ef5e8(0x453)][_0x1ef5e8(0x9ff)][_0x1ef5e8(0x277)];showConfirmation(_0x1ef5e8(0x50a),()=>{const _0x56f3b0=_0x1ef5e8;fileShortcutTabs=fileShortcutTabs[_0x56f3b0(0xbdf)](_0x482d3e=>_0x482d3e['id']!==_0x43bfb8),delete fileShortcutOrder[_0x43bfb8];if(activeFileShortcutTabId===_0x43bfb8)activeFileShortcutTabId=_0x56f3b0(0x8bd);saveFileShortcutConfig();});}),document[_0x19aa64(0x2c3)](_0x19aa64(0x4e1))['forEach'](_0x49d41a=>_0x49d41a[_0x19aa64(0x4aa)]=_0x218532=>{const _0x477c8a=_0x19aa64;_0x218532[_0x477c8a(0x266)]();const {shortcutId:_0x143c61,targetTabId:_0x370f9f}=_0x218532['currentTarget'][_0x477c8a(0x9ff)],_0x188795=fileShortcutTabs[_0x477c8a(0x8af)](_0x1e0a5c=>_0x1e0a5c['id']===_0x370f9f);_0x188795&&!_0x188795[_0x477c8a(0x271)][_0x477c8a(0x676)](_0x143c61)&&(_0x188795[_0x477c8a(0x271)]['push'](_0x143c61),saveFileShortcutConfig());}),document[_0x19aa64(0x2c3)](_0x19aa64(0x869))[_0x19aa64(0xbf2)](_0xfe232e=>_0xfe232e[_0x19aa64(0x4aa)]=_0x2f799a=>{const _0x3cc5f1=_0x19aa64,_0x40b843=_0x2f799a['currentTarget'][_0x3cc5f1(0x9ff)]['shortcutId'],_0x1bbc04=fileShortcutTabs[_0x3cc5f1(0x8af)](_0x4317d3=>_0x4317d3['id']===activeFileShortcutTabId);_0x1bbc04&&!_0x1bbc04[_0x3cc5f1(0xa63)]&&(_0x1bbc04[_0x3cc5f1(0x271)]=_0x1bbc04[_0x3cc5f1(0x271)]['filter'](_0x4f4f67=>_0x4f4f67!==_0x40b843),saveFileShortcutConfig());}),document[_0x19aa64(0x2c3)](_0x19aa64(0x118))[_0x19aa64(0xbf2)](_0x2c46e0=>_0x2c46e0[_0x19aa64(0x4aa)]=_0x3d8c7d=>{const _0x124174=_0x19aa64;_0x3d8c7d['stopPropagation']();const _0x308c5a=_0x3d8c7d[_0x124174(0x453)][_0x124174(0x63b)];document['querySelectorAll']('.move-file-shortcut-dropdown')[_0x124174(0xbf2)](_0x393e8b=>_0x393e8b[_0x124174(0x3d9)][_0x124174(0x831)](_0x124174(0xd60))),_0x308c5a[_0x124174(0x3d9)][_0x124174(0xb00)](_0x124174(0xd60));});const _0x41d0a7=document[_0x19aa64(0x6e6)]('additional-file-shortcuts-list');let _0x4abe7d=null;_0x41d0a7[_0x19aa64(0x833)]=_0x5d2846=>{const _0x1890be=_0x19aa64;_0x4abe7d=_0x5d2846[_0x1890be(0x8ce)]['closest'](_0x1890be(0x914));if(_0x4abe7d)setTimeout(()=>_0x4abe7d[_0x1890be(0x3d9)][_0x1890be(0x831)](_0x1890be(0xc9b)),0x0);},_0x41d0a7['ondragend']=()=>{const _0x2dcf0a=_0x19aa64;_0x4abe7d&&(_0x4abe7d[_0x2dcf0a(0x3d9)][_0x2dcf0a(0xb00)](_0x2dcf0a(0xc9b)),_0x4abe7d=null);},_0x41d0a7[_0x19aa64(0x497)]=_0x8c9136=>{const _0x4a079c=_0x19aa64;_0x8c9136[_0x4a079c(0x266)]();},_0x41d0a7[_0x19aa64(0xa12)]=_0x2c3efd=>{const _0x5ad731=_0x19aa64;_0x2c3efd[_0x5ad731(0x266)]();if(_0x4abe7d){const _0x456e76=[..._0x41d0a7['querySelectorAll'](_0x5ad731(0x2a4))][_0x5ad731(0xe69)]((_0x44df2f,_0x444cd6)=>{const _0x576525=_0x5ad731,_0xab67d7=_0x444cd6['getBoundingClientRect'](),_0xd52e1=_0x2c3efd[_0x576525(0xc1d)]-_0xab67d7[_0x576525(0xb25)]-_0xab67d7[_0x576525(0x210)]/0x2;return _0xd52e1<0x0&&_0xd52e1>_0x44df2f['offset']?{'offset':_0xd52e1,'element':_0x444cd6}:_0x44df2f;},{'offset':Number[_0x5ad731(0xafa)]})[_0x5ad731(0xc45)];_0x456e76==null?_0x41d0a7['appendChild'](_0x4abe7d):_0x41d0a7['insertBefore'](_0x4abe7d,_0x456e76);const _0x20ec60=[..._0x41d0a7[_0x5ad731(0x2c3)](_0x5ad731(0x914))][_0x5ad731(0x23a)](_0x497f5b=>_0x497f5b[_0x5ad731(0x9ff)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x20ec60,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x43a8fb=_0x5319e2,_0x50a162=prompt(_0x43a8fb(0x69e),_0x43a8fb(0xdbf));_0x50a162&&_0x50a162[_0x43a8fb(0xc3f)]()&&(fileShortcutTabs[_0x43a8fb(0xbda)]({'id':'tab_'+Date[_0x43a8fb(0xc35)](),'name':_0x50a162['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x54213f=_0x5319e2,_0x435dd1=document[_0x54213f(0x6e6)](_0x54213f(0x114)),_0x30e1ae=document['getElementById'](_0x54213f(0x3be)),_0x1f4c38=document[_0x54213f(0x6e6)]('file-shortcuts-loading-msg');if(_0x1f4c38)_0x1f4c38[_0x54213f(0x3d9)][_0x54213f(0x831)](_0x54213f(0xd60));if(!_0x435dd1||!_0x30e1ae)return;const _0x4b3ca6=fileShortcuts[_0x54213f(0x1e1)](0x0,0x4),_0x18a5a1=fileShortcuts['slice'](0x4);_0x435dd1['innerHTML']=_0x4b3ca6[_0x54213f(0x23a)](_0x31fef3=>{const _0x2f02ac=_0x54213f,_0x4af168=_0x31fef3[_0x2f02ac(0xbc3)]&&_0x31fef3[_0x2f02ac(0xbc3)][_0x2f02ac(0xc3f)]()!=='',_0x3d5a73=selectedFile&&selectedFile['shortcutId']===_0x31fef3['id'];let _0x13b468=_0x2f02ac(0x493),_0x4c8222='🔗';if(_0x3d5a73)_0x13b468=_0x2f02ac(0x166),_0x4c8222=_0x2f02ac(0xcc4);else _0x4af168&&(_0x13b468=_0x2f02ac(0xc34),_0x4c8222='📄');const _0x491ddf=!_0x31fef3['isDefault']?_0x2f02ac(0x29f)+_0x31fef3['id']+_0x2f02ac(0x88f):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x31fef3['id']+_0x2f02ac(0x20e)+_0x13b468+_0x2f02ac(0xb77)+_0x4c8222+_0x2f02ac(0x32e)+_0x31fef3['name']+_0x2f02ac(0xe55)+_0x31fef3['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x491ddf+_0x2f02ac(0x777);})['join'](''),_0x18a5a1['length']>0x0&&(_0x435dd1[_0x54213f(0xa19)]+=_0x54213f(0x122)),_0x18a5a1[_0x54213f(0x4f1)]>0x0?_0x30e1ae[_0x54213f(0xa19)]=_0x18a5a1['map'](_0x9ea7fd=>_0x54213f(0xc96)+(_0x9ea7fd[_0x54213f(0xbc3)]?'📄':'🔗')+'\x20'+_0x9ea7fd[_0x54213f(0x1dc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x9ea7fd['id']+_0x54213f(0x780)+_0x9ea7fd['id']+_0x54213f(0x598)+(!_0x9ea7fd[_0x54213f(0xa63)]?_0x54213f(0x29f)+_0x9ea7fd['id']+_0x54213f(0xd7b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x54213f(0x975)](''):_0x30e1ae[_0x54213f(0xa19)]=_0x54213f(0x72e);}function openFileShortcutEditor(_0x2a8eeb=null){const _0x2ea4b1=_0x5319e2,_0x3bd26f=document[_0x2ea4b1(0x6e6)](_0x2ea4b1(0xaf3)),_0x1fb045=document[_0x2ea4b1(0x6e6)](_0x2ea4b1(0xb43)),_0x4688d2=document['getElementById'](_0x2ea4b1(0x7e3)),_0x2f3c99=document['getElementById']('file-shortcut-name-input'),_0x278eac=document['getElementById'](_0x2ea4b1(0x5d7));if(_0x2a8eeb){const _0x2dc792=fileShortcuts[_0x2ea4b1(0x8af)](_0x43c059=>_0x43c059['id']===_0x2a8eeb);if(!_0x2dc792)return;_0x1fb045[_0x2ea4b1(0xb7b)]=_0x2ea4b1(0xafd),_0x4688d2[_0x2ea4b1(0xb2d)]=_0x2dc792['id'],_0x2f3c99[_0x2ea4b1(0xb2d)]=_0x2dc792['name'],_0x278eac[_0x2ea4b1(0xb2d)]=_0x2dc792[_0x2ea4b1(0xbc3)]||'';}else _0x1fb045[_0x2ea4b1(0xb7b)]=_0x2ea4b1(0x82b),_0x4688d2[_0x2ea4b1(0xb2d)]='',_0x2f3c99[_0x2ea4b1(0xb2d)]='',_0x278eac[_0x2ea4b1(0xb2d)]='';_0x3bd26f['classList'][_0x2ea4b1(0xb00)](_0x2ea4b1(0xd60));}async function saveFileShortcutChanges(){const _0x24bc64=_0x5319e2,_0x40715c=document[_0x24bc64(0x6e6)]('file-shortcut-id-input')['value'],_0x4e7cde=document[_0x24bc64(0x6e6)](_0x24bc64(0x965))[_0x24bc64(0xb2d)][_0x24bc64(0xc3f)](),_0x3eccfb=document['getElementById'](_0x24bc64(0x5d7))[_0x24bc64(0xb2d)]['trim']();if(!_0x4e7cde){showMessage(_0x24bc64(0x734));return;}const _0x10f28a={'id':_0x40715c||_0x24bc64(0xd44)+Date[_0x24bc64(0xc35)](),'name':_0x4e7cde,'url':_0x3eccfb,'isDefault':_0x40715c['startsWith']('file-default-')};let _0x39e651;_0x40715c?_0x39e651=fileShortcuts[_0x24bc64(0x23a)](_0x3f3895=>_0x3f3895['id']===_0x40715c?_0x10f28a:_0x3f3895):_0x39e651=[...fileShortcuts,_0x10f28a];try{const _0x262d6c=doc(db,_0x24bc64(0xe25),_0x24bc64(0xc80));await setDoc(_0x262d6c,{'shortcuts':_0x39e651},{'merge':!![]}),document[_0x24bc64(0x6e6)](_0x24bc64(0xaf3))['classList']['add'](_0x24bc64(0xd60));}catch(_0x37480b){console[_0x24bc64(0x3f8)](_0x24bc64(0xc33),_0x37480b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x449fbd){const _0x17e32d=_0x5319e2,_0x266850=fileShortcuts[_0x17e32d(0x8af)](_0xa693e0=>_0xa693e0['id']===_0x449fbd);if(!_0x266850)return;if(!_0x266850[_0x17e32d(0xbc3)]||_0x266850[_0x17e32d(0xbc3)][_0x17e32d(0xc3f)]()===''){openFileShortcutEditor(_0x449fbd);return;}const _0x45cbcd=document[_0x17e32d(0x86d)](_0x17e32d(0x439)+_0x449fbd+'\x22]');if(_0x45cbcd){const _0x2dd8d3=_0x45cbcd[_0x17e32d(0xa19)];_0x45cbcd[_0x17e32d(0xa19)]=_0x17e32d(0xe96),_0x45cbcd[_0x17e32d(0xe9a)]=!![];}document[_0x17e32d(0x2c3)](_0x17e32d(0x898))[_0x17e32d(0xbf2)](_0x4ecab7=>{const _0x1d0924=_0x17e32d;if(_0x4ecab7[_0x1d0924(0x9ff)]['id']!==_0x449fbd)_0x4ecab7[_0x1d0924(0x3d9)][_0x1d0924(0x831)](_0x1d0924(0xc9b),_0x1d0924(0x205));});try{const _0x16b339=new URL(_0x266850[_0x17e32d(0xbc3)])[_0x17e32d(0xa87)],_0x19be03=_0x16b339[_0x17e32d(0x98f)](_0x16b339[_0x17e32d(0x33e)]('/')+0x1)||(_0x266850[_0x17e32d(0xbc3)][_0x17e32d(0x676)](_0x17e32d(0x294))?'file.txt':_0x17e32d(0xc6d)),_0x2c86db=await fetchFileFromUrl(_0x266850[_0x17e32d(0xbc3)],_0x19be03);_0x2c86db[_0x17e32d(0xd93)]=_0x449fbd,selectedFile=_0x2c86db,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x17e32d(0x6e6)]('file-input-area')['scrollIntoView']({'behavior':_0x17e32d(0xc3d),'block':'center'});}catch(_0x292d55){console[_0x17e32d(0x3f8)](_0x17e32d(0x44e),_0x292d55),showMessage(_0x17e32d(0x557)+_0x292d55[_0x17e32d(0xa6b)]),renderFileShortcuts();}finally{document['querySelectorAll'](_0x17e32d(0x898))[_0x17e32d(0xbf2)](_0xa987a=>{const _0x47d5a0=_0x17e32d;_0xa987a[_0x47d5a0(0x3d9)]['remove'](_0x47d5a0(0xc9b),'pointer-events-none'),_0xa987a['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x46e761=_0x5319e2;if(allQuizzesGlobal[_0x46e761(0x4f1)]>0x0)return;console[_0x46e761(0x8b1)](_0x46e761(0x8e0)),showMessage(_0x46e761(0x616));try{const _0x677c29=await getDocs(collection(db,_0x46e761(0x555)+appId+_0x46e761(0x935)));allQuizzesGlobal=_0x677c29['docs'][_0x46e761(0x23a)](_0x2afa7b=>({'id':_0x2afa7b['id'],..._0x2afa7b[_0x46e761(0x9cb)]()})),console[_0x46e761(0x8b1)](_0x46e761(0x66a)+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x46e761(0x3d9)][_0x46e761(0x831)](_0x46e761(0xd60));}catch(_0x1e0b82){console['error'](_0x46e761(0x56a),_0x1e0b82),messageModal[_0x46e761(0x3d9)][_0x46e761(0x831)](_0x46e761(0xd60));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x28b4c0=_0x5319e2;if(!currentQuizData||!currentQuizData[_0x28b4c0(0x521)]){showMessage(_0x28b4c0(0x7b8));return;}const _0x17ca1e=currentQuizData,_0x5526c3=window['open']('',_0x28b4c0(0x7c9)),_0xeeb9ce=_0x26ca79=>String[_0x28b4c0(0xe2c)](0x41+_0x26ca79),_0x5709c9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x17ca1e[_0x28b4c0(0x9ec)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x17ca1e[_0x28b4c0(0x9ec)]+_0x28b4c0(0x7a5)+_0x17ca1e[_0x28b4c0(0x521)][_0x28b4c0(0x23a)]((_0x21ab6a,_0x1b489b)=>{const _0x270e2e=_0x28b4c0;let _0x2cbd09='';const _0x4eb7bf=_0x21ab6a[_0x270e2e(0x823)]||_0x17ca1e['quizType'];switch(_0x4eb7bf){case _0x270e2e(0x2d2):case _0x270e2e(0xa61):_0x2cbd09=_0x270e2e(0x2ab)+_0x21ab6a[_0x270e2e(0x4ff)][_0x270e2e(0x23a)]((_0x28afea,_0x4f6307)=>_0x270e2e(0x2b3)+_0xeeb9ce(_0x4f6307)+'.\x20'+_0x28afea+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x270e2e(0xb2b))+_0x270e2e(0xa5a);break;case _0x270e2e(0x1cc):_0x2cbd09=_0x270e2e(0x20c);break;default:_0x2cbd09=_0x270e2e(0x11e);break;}return _0x270e2e(0xe4a)+(_0x1b489b+0x1)+_0x270e2e(0xa75)+(_0x21ab6a[_0x270e2e(0x2f8)]||_0x21ab6a[_0x270e2e(0x14e)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x21ab6a[_0x270e2e(0xc44)]?_0x270e2e(0x3ff)+_0x21ab6a[_0x270e2e(0xc44)]+_0x270e2e(0xa5a):'')+_0x270e2e(0xd3c)+_0x2cbd09+_0x270e2e(0xcaa);})[_0x28b4c0(0x975)]('')+_0x28b4c0(0x7ee);_0x5526c3[_0x28b4c0(0x30b)][_0x28b4c0(0x704)](_0x5709c9),_0x5526c3[_0x28b4c0(0x30b)][_0x28b4c0(0x4ad)](),_0x5526c3['onload']=function(){setTimeout(()=>{const _0x220d35=_0x4aab;_0x5526c3[_0x220d35(0xe3f)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x21d500=_0x5319e2;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x21d500(0x7b8));return;}const _0x1b2c61=currentQuizData,_0x10bf16=window[_0x21d500(0x1a3)]('',_0x21d500(0x7c9)),_0x3ac4dc=_0xca950c=>String['fromCharCode'](0x41+_0xca950c),_0x151f9a=_0x21d500(0x145)+_0x1b2c61[_0x21d500(0x9ec)]+_0x21d500(0xb4b)+_0x1b2c61[_0x21d500(0x521)][_0x21d500(0x23a)]((_0x1778e3,_0x305069)=>{const _0x102a9d=_0x21d500;let _0x56d179='';const _0xafbe4a=_0x1778e3[_0x102a9d(0x823)]||_0x1b2c61['quizType'];switch(_0xafbe4a){case _0x102a9d(0x2d2):case'fill_in_with_choices':_0x56d179=_0x102a9d(0x541)+_0x1778e3[_0x102a9d(0x4ff)][_0x102a9d(0x23a)]((_0x21d3a0,_0x1f4471)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3ac4dc(_0x1f4471)+'.\x20'+_0x21d3a0+_0x102a9d(0x8d8))['join'](_0x102a9d(0xb2b))+_0x102a9d(0xb46);break;case _0x102a9d(0x1cc):_0x56d179=_0x102a9d(0xda4);break;default:_0x56d179='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x1b2c61[_0x102a9d(0x9ec)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x305069+0x1)+_0x102a9d(0x889)+(_0x1778e3[_0x102a9d(0x2f8)]||_0x1778e3[_0x102a9d(0x14e)])+_0x102a9d(0xbcf)+(_0x1778e3['imageCode']?_0x102a9d(0x682)+_0x1778e3[_0x102a9d(0xc44)]+_0x102a9d(0xa5a):'')+_0x102a9d(0xd3c)+_0x56d179+_0x102a9d(0x575);})['join']('')+_0x21d500(0xe7d);_0x10bf16[_0x21d500(0x30b)][_0x21d500(0x704)](_0x151f9a),_0x10bf16['document'][_0x21d500(0x4ad)](),_0x10bf16['onload']=function(){setTimeout(()=>{_0x10bf16['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x797be){const _0x3097ed=_0x5319e2,_0x12fda8=doc(db,'artifacts/'+appId+_0x3097ed(0x935),_0x797be);try{const _0x95ea58=await getDoc(_0x12fda8);if(_0x95ea58['exists']()){const _0x4aabe7=_0x95ea58[_0x3097ed(0x9cb)]()[_0x3097ed(0x977)]||![];await updateDoc(_0x12fda8,{'isStarred':!_0x4aabe7});}}catch(_0x53e2fd){console['error'](_0x3097ed(0xb17),_0x53e2fd),showMessage(_0x3097ed(0x408));}}async function displayQuestionBank(){const _0x4d7c78=_0x5319e2,_0x53467b=document[_0x4d7c78(0x6e6)](_0x4d7c78(0xe01));_0x53467b['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x997cf2=collection(db,_0x4d7c78(0x555)+appId+'/users/'+userId+_0x4d7c78(0xac0)),_0x16c025=query(_0x997cf2),_0x1f0bad=await getDocs(_0x16c025);if(_0x1f0bad['empty']){_0x53467b['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x28d38c=_0x1f0bad[_0x4d7c78(0x6e9)][_0x4d7c78(0x23a)](_0xcbb5d6=>{const _0x56d7ea=_0x4d7c78,_0x22d1a6=_0xcbb5d6[_0x56d7ea(0x9cb)](),_0x5c68ed=_0xcbb5d6['id'];return _0x56d7ea(0x243)+JSON[_0x56d7ea(0x338)](_0x22d1a6)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x22d1a6['questionText']||_0x22d1a6[_0x56d7ea(0x2f8)])+_0x56d7ea(0x4fc)+_0x22d1a6[_0x56d7ea(0xe95)]+_0x56d7ea(0xe78);})['join']('');_0x53467b[_0x4d7c78(0xa19)]=_0x4d7c78(0x9b5)+_0x28d38c+_0x4d7c78(0xc0e),document[_0x4d7c78(0x6e6)]('create-from-bank-btn')[_0x4d7c78(0x49d)](_0x4d7c78(0xa6e),createQuizFromBank);}catch(_0x42856d){console['error']('Error\x20displaying\x20question\x20bank:',_0x42856d),_0x53467b[_0x4d7c78(0xa19)]=_0x4d7c78(0xe99);}}async function handleExportLessonToPDF(){const _0x2065fc=_0x5319e2,_0x2f1bc6=document[_0x2065fc(0x6e6)](_0x2065fc(0x20f)),_0x5182e5=document['getElementById'](_0x2065fc(0x4df))[_0x2065fc(0xb7b)]||'บทเรียน';if(!_0x2f1bc6){showMessage(_0x2065fc(0xa2a));return;}const _0x506b72=window[_0x2065fc(0x1a3)]('',_0x2065fc(0x7c9)),_0xab400d=_0x2065fc(0xa91)+_0x5182e5+_0x2065fc(0xbce)+_0x5182e5+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f1bc6[_0x2065fc(0xa19)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x506b72[_0x2065fc(0x30b)]['write'](_0xab400d),_0x506b72[_0x2065fc(0x30b)][_0x2065fc(0x4ad)](),_0x506b72[_0x2065fc(0x904)]=function(){setTimeout(()=>{const _0x5423b9=_0x4aab;_0x506b72[_0x5423b9(0xe3f)]();},0x7d0);};}function showAdminLiveQuestionView(_0x1191b0,_0x3eb1b5,_0x1ad55c){const _0x3ca484=_0x5319e2,_0x238cee=_0x1191b0['questionType']||currentQuizData[_0x3ca484(0xd29)];let _0x4aac00='';if(_0x238cee===_0x3ca484(0x2d2)||_0x238cee===_0x3ca484(0x1cc)){const _0x3f9039=_0x238cee===_0x3ca484(0x1cc)?[_0x3ca484(0xd4a),_0x3ca484(0x51e)]:_0x1191b0['options'],_0x4ece15=_0x238cee===_0x3ca484(0x1cc)?_0x1191b0[_0x3ca484(0x8aa)]?0x0:0x1:_0x1191b0['correctAnswerIndex'];_0x4aac00=_0x3f9039[_0x3ca484(0x23a)]((_0xe6ddf7,_0x39ef4c)=>_0x3ca484(0xb45)+(_0x39ef4c===_0x4ece15)+_0x3ca484(0x252)+_0xe6ddf7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3ca484(0x975)]('');}else{if(_0x238cee==='matching_item'){const _0x5ea9d6=_0x1191b0[_0x3ca484(0x307)]||[];_0x4aac00=_0x5ea9d6[_0x3ca484(0x23a)](_0x276a42=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x276a42===_0x1191b0['correctResponse'])+_0x3ca484(0x252)+_0x276a42+_0x3ca484(0x777))[_0x3ca484(0x975)]('');}}const _0x144cec=_0x1191b0[_0x3ca484(0x2f8)]||_0x1191b0[_0x3ca484(0x14e)],_0x372c14=_0x3ca484(0x926)+(_0x3eb1b5+0x1)+_0x3ca484(0xd2d)+_0x1ad55c+_0x3ca484(0xe9e)+currentLiveGamePin+_0x3ca484(0xe64)+_0x144cec+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4aac00+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x372c14,window[_0x3ca484(0x19c)]&&MathJax[_0x3ca484(0xc6e)]&&MathJax[_0x3ca484(0xc6e)]([liveGameView]),document['getElementById'](_0x3ca484(0x3c6))[_0x3ca484(0x49d)]('click',()=>revealAnswerForAdmin(_0x3eb1b5,_0x1ad55c)),document[_0x3ca484(0x6e6)]('end-game-btn')[_0x3ca484(0x49d)]('click',async()=>{const _0x2da26e=_0x3ca484;showConfirmation(_0x2da26e(0xa09),async()=>{const _0x52b83c=_0x2da26e,_0x245aea=doc(db,_0x52b83c(0x555)+appId+_0x52b83c(0x700),currentLiveGameId);await updateDoc(_0x245aea,{'status':_0x52b83c(0x636)});});}),document[_0x3ca484(0x6e6)](_0x3ca484(0x57f))['addEventListener'](_0x3ca484(0xa6e),()=>{const _0x1dcf27=_0x3ca484;document[_0x1dcf27(0x6e6)](_0x1dcf27(0x87b))[_0x1dcf27(0x3d9)][_0x1dcf27(0x117)](_0x1dcf27(0xd60));});}function promptForProjectBeforeGenerating(_0x323e2c){const _0x4d1b58=_0x5319e2,_0x265188=document['getElementById'](_0x4d1b58(0x52c)),_0x411ede=document['getElementById'](_0x4d1b58(0x832)),_0xdfee65=_0x265188[_0x4d1b58(0x86d)]('h3'),_0x19dadd=document[_0x4d1b58(0x6e6)](_0x4d1b58(0xd40)),_0x193eb9=document[_0x4d1b58(0x6e6)](_0x4d1b58(0x130));_0xdfee65[_0x4d1b58(0xb7b)]=_0x4d1b58(0x524),_0x19dadd['textContent']=_0x4d1b58(0xaff),_0x19dadd['disabled']=!![];allProjects[_0x4d1b58(0x4f1)]===0x0?_0x411ede['innerHTML']=_0x4d1b58(0x3d6):(_0x411ede[_0x4d1b58(0xa19)]=_0x4d1b58(0x7ef)+allProjects[_0x4d1b58(0x23a)](_0x3c2911=>_0x4d1b58(0xdd4)+_0x3c2911['id']+'\x22>'+_0x3c2911[_0x4d1b58(0x4de)]+_0x4d1b58(0x3e5))[_0x4d1b58(0x975)](''),_0x19dadd[_0x4d1b58(0xe9a)]=![]);_0x265188[_0x4d1b58(0x3d9)]['remove']('hidden');const _0xe01bb6=async()=>{const _0x74f67=_0x4d1b58,_0x227510=_0x411ede[_0x74f67(0xb2d)];if(!_0x227510){showMessage(_0x74f67(0x15b));return;}_0x265188['classList'][_0x74f67(0x831)](_0x74f67(0xd60)),await loadProjectDetails(_0x227510),showView(_0x74f67(0x356)),handleGenerateQuizFromBlueprintTopic(_0x323e2c),_0x3bde0e();},_0x3bde0e=()=>{const _0x4a9ccb=_0x4d1b58;_0xdfee65['textContent']=_0x4a9ccb(0x6a5),_0x19dadd[_0x4a9ccb(0xb7b)]=_0x4a9ccb(0x8d6),_0x19dadd[_0x4a9ccb(0x60a)](_0x4a9ccb(0xa6e),_0xe01bb6),_0x193eb9[_0x4a9ccb(0x60a)](_0x4a9ccb(0xa6e),_0x3bde0e),_0x19dadd[_0x4a9ccb(0x49d)]('click',confirmMoveQuiz);};_0x19dadd[_0x4d1b58(0x60a)]('click',confirmMoveQuiz),_0x19dadd[_0x4d1b58(0x49d)](_0x4d1b58(0xa6e),_0xe01bb6),_0x193eb9[_0x4d1b58(0x49d)](_0x4d1b58(0xa6e),_0x3bde0e);}function showStudentLiveQuestionView(_0x1a66b3,_0x2f12a6,_0x321d98){const _0x3b367f=_0x5319e2,_0x356c5b=_0x1a66b3['questionType']||currentQuizData[_0x3b367f(0xd29)];let _0x78f838='';if(_0x356c5b==='multiple_choice'||_0x356c5b===_0x3b367f(0x1cc)){const _0x4a758a=_0x356c5b===_0x3b367f(0x1cc)?[_0x3b367f(0xd4a),_0x3b367f(0x51e)]:_0x1a66b3[_0x3b367f(0x4ff)];_0x78f838=_0x4a758a['map']((_0x40e6eb,_0x2c1c46)=>_0x3b367f(0x8e4)+_0x2c1c46+_0x3b367f(0xa7c)+_0x40e6eb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b367f(0x975)]('');}else{if(_0x356c5b===_0x3b367f(0x1f6)){const _0x296411=_0x1a66b3[_0x3b367f(0x307)]||[];_0x78f838=_0x296411[_0x3b367f(0x23a)]((_0x23be35,_0x27b943)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x27b943+_0x3b367f(0xa7c)+_0x23be35+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x356c5b==='short_answer'&&(_0x78f838=_0x3b367f(0x9df));}const _0xbf761d=_0x1a66b3[_0x3b367f(0x2f8)]||_0x1a66b3[_0x3b367f(0x14e)],_0xd9bba3=_0x3b367f(0xccd)+(_0x2f12a6+0x1)+'\x20/\x20'+_0x321d98+_0x3b367f(0xcd2)+_0xbf761d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x78f838+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3b367f(0xa19)]=_0xd9bba3;window[_0x3b367f(0x19c)]&&MathJax[_0x3b367f(0xc6e)]&&MathJax[_0x3b367f(0xc6e)]([liveGameView]);const _0xb08334=document['getElementById']('live-submit-short-answer-btn');_0xb08334&&_0xb08334[_0x3b367f(0x49d)]('click',()=>{const _0xff7103=_0x3b367f,_0x3061c1=document[_0xff7103(0x6e6)](_0xff7103(0x525))[_0xff7103(0xb2d)];handleLiveAnswer(_0x3061c1,_0x1a66b3);}),document[_0x3b367f(0x6e6)](_0x3b367f(0x51c))[_0x3b367f(0x49d)](_0x3b367f(0xa6e),_0x5252cd=>{const _0x432fff=_0x3b367f,_0x71e62f=_0x5252cd['target'][_0x432fff(0x8ec)](_0x432fff(0x9da));if(_0x71e62f){const _0x4dbd5f=parseInt(_0x71e62f[_0x432fff(0x9ff)][_0x432fff(0x9c6)]);handleLiveAnswer(_0x4dbd5f,_0x1a66b3);}});}function listenForBlueprintShortcuts(){const _0x39c61b=_0x5319e2,_0xc0f408=doc(db,_0x39c61b(0xe25),'dashboardConfig');onSnapshot(_0xc0f408,_0x4108ab=>{const _0xe54c3e=_0x39c61b;let _0x4e6c23=[],_0x39b0f1=[],_0x5ea7f1={};if(_0x4108ab[_0xe54c3e(0x958)]()){const _0x458ff0=_0x4108ab['data']();_0x4e6c23=_0x458ff0[_0xe54c3e(0x428)]||[],_0x39b0f1=_0x458ff0[_0xe54c3e(0x16e)]||[],_0x5ea7f1=_0x458ff0['shortcutOrder']||{};}!_0x39b0f1['find'](_0x4c52e8=>_0x4c52e8['id']==='all')&&_0x39b0f1[_0xe54c3e(0xa72)]({'id':_0xe54c3e(0x8bd),'name':_0xe54c3e(0x858),'isDefault':!![]}),!_0x4e6c23['find'](_0x5a451c=>_0x5a451c['id']===_0xe54c3e(0xa64))&&_0x4e6c23['unshift']({'id':'default-1','name':_0xe54c3e(0x9af),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x4e6c23[_0xe54c3e(0x8af)](_0x55c492=>_0x55c492['id']===_0xe54c3e(0x5b0))&&_0x4e6c23[_0xe54c3e(0xa72)]({'id':'default-2','name':_0xe54c3e(0xe6f),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x4e6c23,shortcutTabs=_0x39b0f1,shortcutOrder=_0x5ea7f1,renderBlueprintShortcuts(),!document[_0xe54c3e(0x6e6)](_0xe54c3e(0x925))[_0xe54c3e(0x3d9)][_0xe54c3e(0x124)](_0xe54c3e(0xd60))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x5de125=_0x5319e2,_0x565c32=document[_0x5de125(0x6e6)](_0x5de125(0x969)),_0x2ea406=document[_0x5de125(0x6e6)](_0x5de125(0xc12));if(!_0x565c32||!_0x2ea406)return;_0x565c32[_0x5de125(0xa19)]=shortcutTabs[_0x5de125(0x23a)](_0x3091ce=>{const _0x36537d=_0x5de125,_0x5336ae=_0x3091ce['id']===activeShortcutTabId,_0x2b36a0=_0x36537d(0xc1c),_0xeba3c8=_0x36537d(0xbb5);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3091ce['id']+_0x36537d(0x726)+(_0x5336ae?_0x2b36a0:_0xeba3c8)+_0x36537d(0xe49)+_0x3091ce[_0x36537d(0x1dc)]+_0x36537d(0x374)+_0x3091ce['name']+_0x36537d(0x281)+(!_0x3091ce[_0x36537d(0xa63)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3091ce['id']+_0x36537d(0xe17):'')+_0x36537d(0x777);})[_0x5de125(0x975)]('');const _0x463c04=shortcutTabs[_0x5de125(0x8af)](_0x1d5fbc=>_0x1d5fbc['id']===activeShortcutTabId);let _0x1727e9=[];if(_0x463c04){if(_0x463c04[_0x5de125(0xa63)])_0x1727e9=[...blueprintShortcuts];else{const _0x41b210=_0x463c04[_0x5de125(0x271)]||[];_0x1727e9=blueprintShortcuts[_0x5de125(0xbdf)](_0x14d7ef=>_0x41b210[_0x5de125(0x676)](_0x14d7ef['id']));}}const _0x1b0c63=shortcutOrder[activeShortcutTabId]||[];_0x1727e9[_0x5de125(0x602)]((_0x42ceb4,_0x5538c0)=>{const _0x435fb9=_0x5de125,_0x504370=_0x1b0c63['indexOf'](_0x42ceb4['id']),_0x2efe76=_0x1b0c63[_0x435fb9(0x9de)](_0x5538c0['id']);if(_0x504370===-0x1)return 0x1;if(_0x2efe76===-0x1)return-0x1;return _0x504370-_0x2efe76;}),_0x2ea406[_0x5de125(0xa19)]=_0x1727e9['length']>0x0?_0x1727e9['map'](_0xfd0cda=>{const _0x548f6b=_0x5de125;let _0x3e773e='🧩';if(_0xfd0cda[_0x548f6b(0xc30)]&&_0xfd0cda[_0x548f6b(0xa9c)])_0x3e773e='📗';else{if(_0xfd0cda[_0x548f6b(0xc30)])_0x3e773e='📘';}const _0x21417d=shortcutTabs[_0x548f6b(0xbdf)](_0x5ce39a=>!_0x5ce39a[_0x548f6b(0xa63)]),_0x39fba0=_0x463c04[_0x548f6b(0xa63)]&&_0x21417d[_0x548f6b(0x4f1)]>0x0?_0x548f6b(0x1ce)+_0x21417d[_0x548f6b(0x23a)](_0x57d4d0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0xfd0cda['id']+_0x548f6b(0x3e4)+_0x57d4d0['id']+'\x22>'+_0x57d4d0[_0x548f6b(0x1dc)]+_0x548f6b(0xbdc))[_0x548f6b(0x975)]('')+_0x548f6b(0x6d9):'';return _0x548f6b(0x510)+_0xfd0cda['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x3e773e+'\x20'+_0xfd0cda[_0x548f6b(0x1dc)]+_0x548f6b(0xba5)+_0xfd0cda['id']+_0x548f6b(0xa4a)+_0xfd0cda['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xfd0cda[_0x548f6b(0xa63)]?_0x548f6b(0x29f)+_0xfd0cda['id']+_0x548f6b(0xdd1):'')+_0x548f6b(0xc8a)+(!_0x463c04[_0x548f6b(0xa63)]?'<button\x20data-shortcut-id=\x22'+_0xfd0cda['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x548f6b(0xc8a)+_0x39fba0+_0x548f6b(0x53c);})['join'](''):_0x5de125(0x39f),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x4419ae=_0x5319e2;document[_0x4419ae(0x2c3)]('.shortcut-tab-btn')[_0x4419ae(0xbf2)](_0x3e7bb0=>{const _0x7ab4a6=_0x4419ae;_0x3e7bb0[_0x7ab4a6(0x49d)]('click',_0x3c4eb2=>{const _0x38b328=_0x7ab4a6;activeShortcutTabId=_0x3c4eb2[_0x38b328(0x453)][_0x38b328(0x9ff)][_0x38b328(0x277)],renderAdditionalShortcutsModal();}),_0x3e7bb0[_0x7ab4a6(0x49d)]('dblclick',_0x5df162=>{const _0x1dfec8=_0x7ab4a6,_0x359fac=_0x5df162['currentTarget'];_0x359fac[_0x1dfec8(0x86d)]('.tab-name-display')[_0x1dfec8(0x3d9)][_0x1dfec8(0x831)]('hidden');const _0x26e362=_0x359fac[_0x1dfec8(0x86d)](_0x1dfec8(0x3e9));_0x26e362[_0x1dfec8(0x3d9)][_0x1dfec8(0xb00)](_0x1dfec8(0xd60)),_0x26e362['focus'](),_0x26e362[_0x1dfec8(0x905)]();});}),document[_0x4419ae(0x2c3)](_0x4419ae(0x3e9))[_0x4419ae(0xbf2)](_0x24e4ad=>{const _0x463322=_0x4419ae,_0x1aafa8=()=>{const _0x45468b=_0x4aab,_0x54c21e=_0x24e4ad[_0x45468b(0x8ec)](_0x45468b(0x3b4))[_0x45468b(0x9ff)][_0x45468b(0x277)];handleRenameShortcutTab(_0x54c21e,_0x24e4ad[_0x45468b(0xb2d)]);};_0x24e4ad['addEventListener'](_0x463322(0x261),_0x1aafa8),_0x24e4ad[_0x463322(0x49d)](_0x463322(0x345),_0x43c6de=>{const _0x50294a=_0x463322;if(_0x43c6de[_0x50294a(0x624)]==='Enter')_0x24e4ad[_0x50294a(0x261)]();});}),document[_0x4419ae(0x2c3)](_0x4419ae(0xabe))['forEach'](_0x170973=>{const _0x21d8b9=_0x4419ae;_0x170973[_0x21d8b9(0x49d)]('click',_0x3fa0c0=>handleDeleteShortcutTab(_0x3fa0c0[_0x21d8b9(0x453)][_0x21d8b9(0x9ff)][_0x21d8b9(0x277)]));}),document[_0x4419ae(0x2c3)](_0x4419ae(0x6e5))[_0x4419ae(0xbf2)](_0x474ec0=>{const _0x26263b=_0x4419ae;_0x474ec0[_0x26263b(0x49d)]('click',_0x8f530e=>{const _0x2bb3c0=_0x26263b;_0x8f530e[_0x2bb3c0(0x266)]();const {shortcutId:_0x20d6eb,targetTabId:_0x29eef2}=_0x8f530e[_0x2bb3c0(0x453)][_0x2bb3c0(0x9ff)];handleMoveShortcutToTab(_0x20d6eb,_0x29eef2);});}),document[_0x4419ae(0x2c3)](_0x4419ae(0x837))['forEach'](_0x10a5e6=>{const _0x5359ad=_0x4419ae;_0x10a5e6[_0x5359ad(0x49d)](_0x5359ad(0xa6e),_0x555e5c=>{const _0x5851ec=_0x5359ad;handleRemoveShortcutFromTab(_0x555e5c[_0x5851ec(0x453)][_0x5851ec(0x9ff)][_0x5851ec(0xd93)],activeShortcutTabId);});});const _0xc458fc=document['getElementById'](_0x4419ae(0xc12));_0xc458fc[_0x4419ae(0x2c3)](_0x4419ae(0x37b))[_0x4419ae(0xbf2)](_0x18d099=>{const _0x5eb1f9=_0x4419ae;_0x18d099[_0x5eb1f9(0x49d)](_0x5eb1f9(0xa6e),()=>{const _0x58ae9b=_0x5eb1f9;document[_0x58ae9b(0x6e6)](_0x58ae9b(0x925))[_0x58ae9b(0x3d9)]['add'](_0x58ae9b(0xd60)),handleShortcutClick(_0x18d099['dataset']['id']);});});let _0x1ceec8=null;_0xc458fc[_0x4419ae(0x49d)](_0x4419ae(0x6fd),_0x518ab2=>{const _0x54add2=_0x4419ae;_0x1ceec8=_0x518ab2[_0x54add2(0x8ce)][_0x54add2(0x8ec)](_0x54add2(0x914)),_0x1ceec8&&setTimeout(()=>_0x1ceec8[_0x54add2(0x3d9)][_0x54add2(0x831)]('opacity-50'),0x0);}),_0xc458fc['addEventListener']('dragend',()=>{const _0x1b23c5=_0x4419ae;_0x1ceec8&&(_0x1ceec8['classList'][_0x1b23c5(0xb00)]('opacity-50'),_0x1ceec8=null);}),_0xc458fc[_0x4419ae(0x49d)]('dragover',_0x5e246f=>{const _0x4eccb2=_0x4419ae;_0x5e246f[_0x4eccb2(0x266)]();const _0x4353e0=[..._0xc458fc[_0x4eccb2(0x2c3)](_0x4eccb2(0x2a4))]['reduce']((_0x15ce84,_0x423564)=>{const _0x4abbb7=_0x4eccb2,_0x5868ac=_0x423564[_0x4abbb7(0x82f)](),_0x3cdbf5=_0x5e246f['clientY']-_0x5868ac[_0x4abbb7(0xb25)]-_0x5868ac['height']/0x2;return _0x3cdbf5<0x0&&_0x3cdbf5>_0x15ce84[_0x4abbb7(0x179)]?{'offset':_0x3cdbf5,'element':_0x423564}:_0x15ce84;},{'offset':Number['NEGATIVE_INFINITY']})[_0x4eccb2(0xc45)];_0x4353e0==null?_0xc458fc['appendChild'](_0x1ceec8):_0xc458fc['insertBefore'](_0x1ceec8,_0x4353e0);}),_0xc458fc['addEventListener'](_0x4419ae(0xdb9),_0x257c3a=>{const _0x353dcf=_0x4419ae;_0x257c3a['preventDefault']();if(_0x1ceec8){const _0x3e6193=[..._0xc458fc[_0x353dcf(0x2c3)]('.shortcut-list-item')][_0x353dcf(0x23a)](_0x4ea63f=>_0x4ea63f[_0x353dcf(0x9ff)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x3e6193);}}),document['querySelectorAll'](_0x4419ae(0x8c9))[_0x4419ae(0xbf2)](_0x4de92e=>{const _0x4fa0f5=_0x4419ae;_0x4de92e[_0x4fa0f5(0x49d)]('click',_0xb1fc63=>{const _0x4be7e0=_0x4fa0f5;_0xb1fc63[_0x4be7e0(0x394)]();const _0x19e173=_0xb1fc63[_0x4be7e0(0x453)]['nextElementSibling'],_0x4709cb=_0x19e173[_0x4be7e0(0x3d9)][_0x4be7e0(0x124)]('hidden');document[_0x4be7e0(0x2c3)]('.move-shortcut-dropdown')['forEach'](_0x266073=>_0x266073[_0x4be7e0(0x3d9)][_0x4be7e0(0x831)](_0x4be7e0(0xd60))),_0x4709cb&&_0x19e173[_0x4be7e0(0x3d9)][_0x4be7e0(0xb00)](_0x4be7e0(0xd60));});});}document[_0x5319e2(0x49d)](_0x5319e2(0xa6e),_0x5db8ce=>{const _0x2f1ef6=_0x5319e2;!_0x5db8ce['target'][_0x2f1ef6(0x8ec)]('.group\x5c/dropdown')&&document['querySelectorAll'](_0x2f1ef6(0x295))[_0x2f1ef6(0xbf2)](_0x4fd228=>_0x4fd228[_0x2f1ef6(0x3d9)][_0x2f1ef6(0x831)](_0x2f1ef6(0xd60)));});async function saveShortcutConfig(){const _0x2472ba=_0x5319e2,_0x17dbb8=doc(db,'globalSettings',_0x2472ba(0x8b5));try{await setDoc(_0x17dbb8,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x29b765){console[_0x2472ba(0x3f8)](_0x2472ba(0xacb),_0x29b765);}}async function handleAddShortcutTab(){const _0x5db6be=_0x5319e2,_0x4a9bf4=prompt(_0x5db6be(0x69e),_0x5db6be(0xdbf));if(!_0x4a9bf4||_0x4a9bf4['trim']()==='')return;shortcutTabs[_0x5db6be(0xbda)]({'id':_0x5db6be(0xb87)+Date[_0x5db6be(0xc35)](),'name':_0x4a9bf4[_0x5db6be(0xc3f)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x2b6093,_0x58ef97){const _0x40746d=_0x5319e2,_0x21d32a=shortcutTabs[_0x40746d(0x8af)](_0xfffe48=>_0xfffe48['id']===_0x2b6093);_0x21d32a&&_0x58ef97['trim']()!==''&&(_0x21d32a[_0x40746d(0x1dc)]=_0x58ef97[_0x40746d(0xc3f)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4743f8){const _0x24666c=_0x5319e2,_0x5e1b00=shortcutTabs[_0x24666c(0x8af)](_0x3e346f=>_0x3e346f['id']===_0x4743f8);_0x5e1b00&&!_0x5e1b00[_0x24666c(0xa63)]&&showConfirmation(_0x24666c(0x5f7)+_0x5e1b00[_0x24666c(0x1dc)]+_0x24666c(0x582),async()=>{const _0x983e92=_0x24666c;shortcutTabs=shortcutTabs[_0x983e92(0xbdf)](_0x106c0c=>_0x106c0c['id']!==_0x4743f8),delete shortcutOrder[_0x4743f8];if(activeShortcutTabId===_0x4743f8)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0xadeec6,_0x5cb29e){const _0x50d62b=_0x5319e2,_0x1707e=shortcutTabs[_0x50d62b(0x8af)](_0x31331e=>_0x31331e['id']===_0x5cb29e);_0x1707e&&!_0x1707e[_0x50d62b(0x271)]['includes'](_0xadeec6)&&(_0x1707e[_0x50d62b(0x271)][_0x50d62b(0xbda)](_0xadeec6),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x947ee9,_0x49d9b5){const _0x5c26b7=_0x5319e2,_0x400b74=shortcutTabs[_0x5c26b7(0x8af)](_0x2be8bf=>_0x2be8bf['id']===_0x49d9b5);_0x400b74&&!_0x400b74[_0x5c26b7(0xa63)]&&(_0x400b74[_0x5c26b7(0x271)]=_0x400b74[_0x5c26b7(0x271)]['filter'](_0x598be4=>_0x598be4!==_0x947ee9),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x189c05,_0x262117){shortcutOrder[_0x189c05]=_0x262117,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x417f5b=_0x5319e2,_0x34f876=document[_0x417f5b(0x6e6)](_0x417f5b(0xb9d)),_0x4a63ee=document['getElementById'](_0x417f5b(0xc12)),_0x553a7d=document[_0x417f5b(0x6e6)](_0x417f5b(0x6d0));_0x553a7d&&_0x553a7d[_0x417f5b(0x3d9)]['add'](_0x417f5b(0xd60));if(!_0x34f876||!_0x4a63ee)return;const _0x221c53=blueprintShortcuts[_0x417f5b(0x1e1)](0x0,0x4),_0x4617a6=blueprintShortcuts[_0x417f5b(0x1e1)](0x4);_0x34f876[_0x417f5b(0xa19)]=_0x221c53['map'](_0x3a545e=>{const _0x404611=_0x417f5b;let _0x193748=_0x404611(0x493),_0x72fc2d='🧩';if(_0x3a545e[_0x404611(0xc30)]&&_0x3a545e['referenceUrl'])_0x193748=_0x404611(0x7d4),_0x72fc2d='📗';else _0x3a545e['blueprintUrl']&&(_0x193748=_0x404611(0xc34),_0x72fc2d='📘');const _0x30ff80=!_0x3a545e[_0x404611(0xa63)]?_0x404611(0x29f)+_0x3a545e['id']+_0x404611(0x982):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x3a545e['id']+_0x404611(0x684)+_0x193748+_0x404611(0x70e)+_0x72fc2d+'\x20'+_0x3a545e[_0x404611(0x1dc)]+_0x404611(0x7c3)+_0x3a545e['id']+_0x404611(0x245)+_0x30ff80+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x417f5b(0x975)](''),_0x4617a6[_0x417f5b(0x4f1)]>0x0&&(_0x34f876[_0x417f5b(0xa19)]+=_0x417f5b(0x2f3)),_0x4617a6['length']>0x0?_0x4a63ee[_0x417f5b(0xa19)]=_0x4617a6[_0x417f5b(0x23a)](_0xdf5b1b=>{const _0x230f77=_0x417f5b;let _0x46d2c3='🧩';if(_0xdf5b1b[_0x230f77(0xc30)]&&_0xdf5b1b['referenceUrl'])_0x46d2c3='📗';else _0xdf5b1b[_0x230f77(0xc30)]&&(_0x46d2c3='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x46d2c3+'\x20'+_0xdf5b1b[_0x230f77(0x1dc)]+_0x230f77(0xba5)+_0xdf5b1b['id']+_0x230f77(0xa4a)+_0xdf5b1b['id']+_0x230f77(0x5e1)+(!_0xdf5b1b['isDefault']?_0x230f77(0x29f)+_0xdf5b1b['id']+_0x230f77(0xdd1):'')+_0x230f77(0xaa2);})[_0x417f5b(0x975)](''):_0x4a63ee[_0x417f5b(0xa19)]=_0x417f5b(0x72e);}function getMimeTypeFromFilename(_0x1be218){const _0x34509a=_0x5319e2,_0x1d92d2=_0x1be218[_0x34509a(0x3ba)]('.')[_0x34509a(0x6c3)]()[_0x34509a(0x3a8)]();switch(_0x1d92d2){case'pdf':return'application/pdf';case'txt':return _0x34509a(0xe51);default:return _0x34509a(0x731);}}function openShortcutEditor(_0x15884f=null){const _0x433de1=_0x5319e2,_0xb34375=document[_0x433de1(0x6e6)](_0x433de1(0xcfe)),_0x44198e=document['getElementById'](_0x433de1(0x41e)),_0x44cd7d=document[_0x433de1(0x6e6)](_0x433de1(0x843)),_0x348c18=document[_0x433de1(0x6e6)](_0x433de1(0x746)),_0x2762eb=document[_0x433de1(0x6e6)](_0x433de1(0x45d)),_0x50625a=document[_0x433de1(0x6e6)]('shortcut-reference-url-input');if(_0x15884f){const _0x493e65=blueprintShortcuts[_0x433de1(0x8af)](_0x80e085=>_0x80e085['id']===_0x15884f);if(!_0x493e65)return;_0x44198e[_0x433de1(0xb7b)]=_0x433de1(0x98e),_0x44cd7d['value']=_0x493e65['id'],_0x348c18['value']=_0x493e65['name'],_0x2762eb[_0x433de1(0xb2d)]=_0x493e65[_0x433de1(0xc30)]||'',_0x50625a[_0x433de1(0xb2d)]=_0x493e65[_0x433de1(0xa9c)]||'';}else _0x44198e[_0x433de1(0xb7b)]=_0x433de1(0x7ba),_0x44cd7d['value']='',_0x348c18[_0x433de1(0xb2d)]='',_0x2762eb['value']='',_0x50625a[_0x433de1(0xb2d)]='';_0xb34375[_0x433de1(0x3d9)][_0x433de1(0xb00)](_0x433de1(0xd60));}async function saveShortcutChanges(){const _0x52de93=_0x5319e2,_0x438894=document['getElementById'](_0x52de93(0x843))['value'],_0x34685d=document['getElementById'](_0x52de93(0x746))['value'][_0x52de93(0xc3f)](),_0x5c7a5f=document[_0x52de93(0x6e6)](_0x52de93(0x45d))[_0x52de93(0xb2d)][_0x52de93(0xc3f)]();if(!_0x34685d||!_0x5c7a5f){showMessage(_0x52de93(0x654));return;}const _0x3ef6be={'id':_0x438894||_0x52de93(0x923)+Date[_0x52de93(0xc35)](),'name':_0x34685d,'blueprintUrl':_0x5c7a5f,'referenceUrl':document[_0x52de93(0x6e6)](_0x52de93(0x448))[_0x52de93(0xb2d)][_0x52de93(0xc3f)](),'isDefault':_0x438894[_0x52de93(0x4be)]('default-')};let _0x3ee3c3;_0x438894?_0x3ee3c3=blueprintShortcuts[_0x52de93(0x23a)](_0xae9a01=>_0xae9a01['id']===_0x438894?_0x3ef6be:_0xae9a01):_0x3ee3c3=[...blueprintShortcuts,_0x3ef6be];try{const _0x191b00=doc(db,'globalSettings',_0x52de93(0x8b5));await setDoc(_0x191b00,{'blueprintShortcuts':_0x3ee3c3},{'merge':!![]}),document['getElementById'](_0x52de93(0xcfe))['classList'][_0x52de93(0x831)](_0x52de93(0xd60));}catch(_0x279786){console[_0x52de93(0x3f8)]('Error\x20saving\x20shortcut:',_0x279786),showMessage(_0x52de93(0xc39));}}async function handleShortcutClick(_0x4c32b2){const _0x2691bf=_0x5319e2,_0x21e6f4=blueprintShortcuts[_0x2691bf(0x8af)](_0x38ca59=>_0x38ca59['id']===_0x4c32b2);if(!_0x21e6f4||!_0x21e6f4[_0x2691bf(0xc30)])return;document['getElementById'](_0x2691bf(0x574))[_0x2691bf(0x3d9)][_0x2691bf(0x831)]('hidden'),document['getElementById'](_0x2691bf(0x5a8))[_0x2691bf(0xe9a)]=!![];const _0x47d75b=document['getElementById'](_0x2691bf(0x6f0)),_0x500708=document[_0x2691bf(0x6e6)]('loader-text');document[_0x2691bf(0x6e6)](_0x2691bf(0x9f5))['classList'][_0x2691bf(0xb00)](_0x2691bf(0xd60)),document[_0x2691bf(0x6e6)]('generated-quiz-container')[_0x2691bf(0xa19)]='',_0x47d75b['classList'][_0x2691bf(0xb00)](_0x2691bf(0xd60));try{_0x500708[_0x2691bf(0xb7b)]=_0x2691bf(0x6fb);const _0xf82818=await fetchFileFromUrl(_0x21e6f4['blueprintUrl'],_0x2691bf(0xbd3));let _0x84ff24=null;if(_0x21e6f4['referenceUrl']){_0x500708[_0x2691bf(0xb7b)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x154a09=_0x21e6f4[_0x2691bf(0xa9c)][_0x2691bf(0x3a8)]()[_0x2691bf(0xe9b)](_0x2691bf(0x294))?'reference.txt':_0x2691bf(0x12a);_0x84ff24=await fetchFileFromUrl(_0x21e6f4[_0x2691bf(0xa9c)],_0x154a09);}await handleGenerateFromBlueprintWithFiles(_0xf82818,_0x84ff24);}catch(_0x1d383d){console[_0x2691bf(0x3f8)](_0x2691bf(0x4e2),_0x1d383d),showMessage(_0x2691bf(0x1f5)+_0x1d383d['message']),_0x47d75b[_0x2691bf(0x3d9)][_0x2691bf(0x831)](_0x2691bf(0xd60));}}function getDirectDownloadUrl(_0x69e548){const _0x5ee5f9=_0x5319e2,_0x14d955=_0x69e548[_0x5ee5f9(0xaeb)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x14d955&&_0x14d955[0x1])return _0x5ee5f9(0x36e)+_0x14d955[0x1];return _0x69e548;}async function fetchFileFromUrl(_0x546528,_0x4d31c9){const _0x3d1f87=_0x5319e2,_0x5f50c1=getDirectDownloadUrl(_0x546528),_0x39093c=_0x3d1f87(0x7b7)+encodeURIComponent(_0x5f50c1),_0x3a76ab=await fetch(_0x39093c);if(!_0x3a76ab['ok'])throw new Error(_0x3d1f87(0xdce)+_0x3a76ab[_0x3d1f87(0x626)]+')');const _0x275576=await _0x3a76ab[_0x3d1f87(0x2a6)](),_0x417b6b=await new Promise((_0x1cdc3a,_0x2a7677)=>{const _0x2dd9e9=_0x3d1f87,_0x4467a5=new FileReader();_0x4467a5[_0x2dd9e9(0x3f7)]=()=>_0x1cdc3a(new Uint8Array(_0x4467a5['result'])),_0x4467a5[_0x2dd9e9(0x66e)]=_0x2a7677,_0x4467a5[_0x2dd9e9(0x2bb)](_0x275576[_0x2dd9e9(0x1e1)](0x0,0x4));});let _0x516b38='';const _0x1b76ec=new TextDecoder()['decode'](_0x417b6b);return _0x1b76ec==='%PDF'?(_0x516b38=_0x3d1f87(0x731),console['log'](_0x3d1f87(0xaca))):(_0x516b38=_0x3d1f87(0xe51),console['log'](_0x3d1f87(0x3eb))),new File([_0x275576],_0x4d31c9,{'type':_0x516b38});}async function handleGenerateFromBlueprintWithFiles(_0x550a8c,_0x1ce88b=null){const _0x9e98fb=_0x5319e2;if(!_0x550a8c){showMessage(_0x9e98fb(0x816));return;}const _0x540b45=document[_0x9e98fb(0x6e6)](_0x9e98fb(0x6f0)),_0x7e2a6a=document[_0x9e98fb(0x6e6)](_0x9e98fb(0x4a5));_0x540b45[_0x9e98fb(0x3d9)][_0x9e98fb(0xb00)](_0x9e98fb(0xd60)),document[_0x9e98fb(0x6e6)]('quiz-generation-area')[_0x9e98fb(0x3d9)][_0x9e98fb(0xb00)](_0x9e98fb(0xd60)),document[_0x9e98fb(0x6e6)](_0x9e98fb(0x5b5))[_0x9e98fb(0xa19)]='';try{_0x7e2a6a[_0x9e98fb(0xb7b)]=_0x9e98fb(0x7fe);const _0x11a558=await new Promise((_0x4cfc81,_0x230d95)=>{const _0x50d06e=_0x9e98fb,_0xdcb3c3=new FileReader();_0xdcb3c3[_0x50d06e(0x326)](_0x550a8c),_0xdcb3c3[_0x50d06e(0x904)]=()=>_0x4cfc81(_0xdcb3c3[_0x50d06e(0xcb3)][_0x50d06e(0x3ba)](',')[0x1]),_0xdcb3c3['onerror']=_0x230d95;}),_0x457f49=[];if(_0x1ce88b){_0x7e2a6a[_0x9e98fb(0xb7b)]=_0x9e98fb(0x9f1);const _0x5316af=await _0x1ce88b[_0x9e98fb(0x135)]();_0x457f49[_0x9e98fb(0xbda)]({'text':_0x9e98fb(0x714)+_0x5316af});}const _0x537eb4=[{'text':_0x9e98fb(0x26d)},{'inlineData':{'mimeType':_0x550a8c[_0x9e98fb(0xe5f)],'data':_0x11a558}},..._0x457f49];await handleGenerateFromBlueprint(_0x537eb4);}catch(_0x1d3654){console[_0x9e98fb(0x3f8)](_0x9e98fb(0x6d4),_0x1d3654),showMessage(_0x9e98fb(0x1f5)+_0x1d3654[_0x9e98fb(0xa6b)]),_0x540b45[_0x9e98fb(0x3d9)][_0x9e98fb(0x831)]('hidden');}}async function handleLiveAnswer(_0x3df179,_0x271a2c){const _0x3f955d=_0x5319e2;document[_0x3f955d(0x2c3)](_0x3f955d(0x947))['forEach'](_0x10724b=>_0x10724b[_0x3f955d(0xe9a)]=!![]);const _0x3a73e1=_0x271a2c['questionType']||currentQuizData[_0x3f955d(0xd29)];let _0x27eb43=![],_0x1d61a1=_0x3df179;if(_0x3a73e1===_0x3f955d(0xcea)){const _0x3de08f=(_0x3df179||'')['toString']();_0x27eb43=await gradeShortAnswer(_0x3de08f,_0x271a2c);}else{if(_0x3a73e1===_0x3f955d(0x2d2))_0x27eb43=_0x3df179===_0x271a2c[_0x3f955d(0x9be)];else{if(_0x3a73e1===_0x3f955d(0x1cc)){const _0x435901=_0x271a2c[_0x3f955d(0x8aa)];_0x27eb43=_0x3df179===0x0&&_0x435901||_0x3df179===0x1&&!_0x435901;}else{if(_0x3a73e1===_0x3f955d(0x1f6)){const _0x33c684=_0x271a2c[_0x3f955d(0x307)][_0x3df179];_0x27eb43=_0x33c684===_0x271a2c[_0x3f955d(0x5d8)],_0x1d61a1=_0x33c684;}}}}const _0x30c1af=doc(db,_0x3f955d(0x555)+appId+'/public/data/liveGames',currentLiveGameId),_0x44d5db={};_0x44d5db[_0x3f955d(0xc7e)+currentStudentName+_0x3f955d(0x3de)]=!![],_0x44d5db[_0x3f955d(0xc7e)+currentStudentName+_0x3f955d(0x220)]=_0x27eb43,_0x44d5db[_0x3f955d(0xc7e)+currentStudentName+_0x3f955d(0x90e)]=_0x3a73e1===_0x3f955d(0xcea)||_0x3a73e1===_0x3f955d(0x1f6)?null:_0x3df179,_0x44d5db[_0x3f955d(0xc7e)+currentStudentName+'.lastAnswerValue']=_0x1d61a1,_0x44d5db[_0x3f955d(0xc7e)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x44d5db['players.'+currentStudentName+_0x3f955d(0x7fd)]=![],await updateDoc(_0x30c1af,_0x44d5db),liveGameView[_0x3f955d(0xa19)]=_0x3f955d(0xa16);}function showAdminSummaryView(_0x93575b,_0x19cefb){const _0x483a20=_0x5319e2,_0x59c30d=Object[_0x483a20(0x129)](_0x93575b[_0x483a20(0xdb1)]||{}),_0x5dc26a=_0x19cefb[_0x483a20(0x823)]||currentQuizData[_0x483a20(0xd29)],_0xdeebcc=_0x5dc26a===_0x483a20(0x1cc)?[_0x483a20(0xd4a),_0x483a20(0x51e)]:_0x19cefb[_0x483a20(0x4ff)]||_0x19cefb[_0x483a20(0x307)]||[],_0x580a3f={},_0x39b54f=new Array(_0xdeebcc[_0x483a20(0x4f1)])[_0x483a20(0xe85)](0x0);_0xdeebcc[_0x483a20(0xbf2)]((_0x118793,_0xff7d12)=>{_0x580a3f[_0xff7d12]=[];}),Object[_0x483a20(0x6fa)](_0x93575b[_0x483a20(0xdb1)]||{})[_0x483a20(0xbf2)](([_0x28bdaa,_0x290468])=>{const _0x4bddfd=_0x483a20;if(_0x290468[_0x4bddfd(0x626)]==='active'&&_0x290468[_0x4bddfd(0x431)]!==undefined){const _0x2f2786=_0x290468[_0x4bddfd(0x431)];_0x580a3f[_0x2f2786]&&(_0x580a3f[_0x2f2786][_0x4bddfd(0xbda)](_0x28bdaa),_0x39b54f[_0x2f2786]++);}});const _0xd790cf=Math['max'](..._0x39b54f,0x1),_0x172848=_0x483a20(0x248)+(_0x19cefb[_0x483a20(0x2f8)]||_0x19cefb[_0x483a20(0x14e)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39b54f[_0x483a20(0x23a)]((_0x489bea,_0x568f40)=>{const _0x3c8064=_0x483a20,_0x1849d2=_0x580a3f[_0x568f40][_0x3c8064(0x4f1)]>0x0?_0x580a3f[_0x568f40][_0x3c8064(0x975)](',\x20'):_0x3c8064(0xb6d);let _0x3f6298=![];if(_0x5dc26a===_0x3c8064(0x2d2))_0x3f6298=_0x568f40===_0x19cefb[_0x3c8064(0x9be)];else{if(_0x5dc26a===_0x3c8064(0x1cc)){const _0x508186=_0x19cefb[_0x3c8064(0x8aa)];_0x3f6298=_0x508186&&_0x568f40===0x0||!_0x508186&&_0x568f40===0x1;}else _0x5dc26a===_0x3c8064(0x1f6)&&(_0x3f6298=_0xdeebcc[_0x568f40]===_0x19cefb[_0x3c8064(0x5d8)]);}const _0x3bc440=_0x3f6298?_0x3c8064(0xd92):'#e21b3c';return _0x3c8064(0x549)+_0x489bea+_0x3c8064(0x6b7)+_0x3bc440+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x568f40+_0x3c8064(0xd90)+_0xdeebcc[_0x568f40]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x568f40+_0x3c8064(0x665)+_0x1849d2+_0x3c8064(0x412);})[_0x483a20(0x975)]('')+_0x483a20(0x749);liveGameView['innerHTML']=_0x172848;if(window[_0x483a20(0x19c)])MathJax[_0x483a20(0xc6e)]();document[_0x483a20(0x6e6)]('show-leaderboard-btn')[_0x483a20(0x49d)](_0x483a20(0xa6e),async()=>{const _0x931c9=_0x483a20,_0x3248c7=doc(db,_0x931c9(0x555)+appId+_0x931c9(0x700),currentLiveGameId);await updateDoc(_0x3248c7,{'questionStatus':_0x931c9(0x8bb)});}),document[_0x483a20(0x6e6)]('open-scratchpad-btn')[_0x483a20(0x49d)]('click',()=>{openScratchpad(_0x19cefb,_0xdeebcc);});}function showPlayerSummaryView(_0x37e9c5,_0x1462bd){const _0x5601b6=_0x5319e2,_0x4ac279=Object[_0x5601b6(0x129)](_0x37e9c5['players']||{}),_0x151668=_0x37e9c5[_0x5601b6(0xdb1)][_0x1462bd],_0x2b61d0=_0x4ac279[_0x5601b6(0xbdf)](_0x321ea3=>_0x321ea3['status']===_0x5601b6(0x797))[_0x5601b6(0x602)]((_0x200f24,_0x49acbc)=>_0x49acbc['score']-_0x200f24[_0x5601b6(0x473)]),_0xa2e192=_0x2b61d0[_0x5601b6(0x475)](_0x1299d4=>_0x1299d4===_0x151668)+0x1,_0x7d7b90=_0x151668[_0x5601b6(0x42e)]?'ถูกต้อง!':_0x5601b6(0x83b),_0xf07aee=_0x151668[_0x5601b6(0x42e)]?_0x5601b6(0x84f):_0x5601b6(0x518),_0x1a4616=_0x151668[_0x5601b6(0x184)]||0x0,_0x131dcb='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x3ad0d5=_0x5601b6(0x232)+_0x131dcb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0xf07aee+_0x5601b6(0xe6b)+_0x7d7b90+_0x5601b6(0x81a)+_0x1a4616+_0x5601b6(0xe30)+(_0xa2e192>0x0?_0xa2e192:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3ad0d5;}function createQuizFromBank(){const _0x53ff05=_0x5319e2,_0xc011b8=document[_0x53ff05(0x2c3)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0xc011b8['length']===0x0){showMessage(_0x53ff05(0xbb1));return;}const _0x4bdfce=[];_0xc011b8[_0x53ff05(0xbf2)](_0x5530f5=>{const _0x50aeac=_0x53ff05;_0x4bdfce[_0x50aeac(0xbda)](JSON[_0x50aeac(0x110)](_0x5530f5[_0x50aeac(0xb2d)]));});const _0x3528a1={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x4bdfce};displayGeneratedQuiz(_0x3528a1);}function showAdminLobbyView(_0x35d30b,_0x14865d){const _0x11a422=_0x5319e2;showView(_0x11a422(0x3fa));const _0x5e8087=_0x11a422(0x15e)+_0x14865d+_0x11a422(0x683)+_0x35d30b+_0x11a422(0xe61);liveGameView[_0x11a422(0xa19)]=_0x5e8087,document[_0x11a422(0x6e6)]('start-game-btn')[_0x11a422(0x49d)](_0x11a422(0xa6e),async()=>{const _0x626cec=_0x11a422;if(!currentQuizData||!currentQuizData[_0x626cec(0x521)]||currentQuizData[_0x626cec(0x521)][_0x626cec(0x4f1)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x15d708=doc(db,_0x626cec(0x555)+appId+_0x626cec(0x700),currentLiveGameId);await updateDoc(_0x15d708,{'status':_0x626cec(0x195),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5ea2bd=currentQuizData[_0x626cec(0x521)][0x0],_0x3af5df=currentQuizData[_0x626cec(0x521)][_0x626cec(0x4f1)];showAdminLiveQuestionView(_0x5ea2bd,0x0,_0x3af5df);}catch(_0x8f8102){console[_0x626cec(0x3f8)](_0x626cec(0x86f),_0x8f8102),showMessage(_0x626cec(0x681));}});}async function openQuizBankModal(){const _0x45b51b=_0x5319e2;if(allQuizzesGlobal[_0x45b51b(0x4f1)]===0x0){const _0x371226=await getDocs(collection(db,_0x45b51b(0x555)+appId+_0x45b51b(0x935)));allQuizzesGlobal=_0x371226[_0x45b51b(0x6e9)][_0x45b51b(0x23a)](_0x18181e=>({'id':_0x18181e['id'],..._0x18181e[_0x45b51b(0x9cb)]()}));}renderQuizBankList(''),document['getElementById'](_0x45b51b(0xd9e))[_0x45b51b(0x3d9)]['remove']('hidden');}function renderQuizBankList(_0xa4faf0='',_0x4b1f62=![]){const _0x4dd4c3=_0x5319e2,_0x4f55ad=document[_0x4dd4c3(0x6e6)](_0x4dd4c3(0x2ce)),_0x53d323=_0xa4faf0['toLowerCase']()[_0x4dd4c3(0xc3f)](),_0x511caf=allQuizzesGlobal[_0x4dd4c3(0x23a)](_0x98cb07=>({..._0x98cb07,'projectName':allProjects[_0x4dd4c3(0x8af)](_0x67cc4a=>_0x67cc4a['id']===_0x98cb07[_0x4dd4c3(0x19e)])?.[_0x4dd4c3(0x4de)]||'N/A'}))[_0x4dd4c3(0xbdf)](_0x473442=>(_0x473442['topic']||'')[_0x4dd4c3(0x3a8)]()[_0x4dd4c3(0x676)](_0x53d323)||(_0x473442[_0x4dd4c3(0x4de)]||'')['toLowerCase']()[_0x4dd4c3(0x676)](_0x53d323)||_0x473442['id'][_0x4dd4c3(0xdd7)]()['includes'](_0x53d323));document[_0x4dd4c3(0x6e6)](_0x4dd4c3(0x42f))['textContent']='('+_0x511caf['length']+_0x4dd4c3(0x580),_0x4f55ad[_0x4dd4c3(0xa19)]=_0x511caf[_0x4dd4c3(0x4f1)]?_0x511caf[_0x4dd4c3(0x23a)](_0x414420=>{const _0x3bf43b=_0x4dd4c3,_0x54c335=!_0x4b1f62?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x414420['id']+_0x3bf43b(0x6c8)+_0x414420['id']+_0x3bf43b(0x584)+_0x414420['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x414420['id']+_0x3bf43b(0xd56)+_0x414420['id']+_0x3bf43b(0x27e)+_0x414420['id']+_0x3bf43b(0x89e)+_0x414420[_0x3bf43b(0x9ec)]+_0x3bf43b(0xc0b):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x414420['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x414420[_0x3bf43b(0x9ec)]||_0x3bf43b(0xc60))+_0x3bf43b(0x87e)+(_0x414420['questions']?.['length']||0x0)+_0x3bf43b(0x4fd)+_0x414420[_0x3bf43b(0x4de)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x414420['id']+_0x3bf43b(0x42d)+_0x54c335+_0x3bf43b(0x213);})['join'](''):_0x4dd4c3(0xc6a),!_0x4b1f62&&(_0x4f55ad[_0x4dd4c3(0x2c3)](_0x4dd4c3(0xc7a))['forEach'](_0x226c29=>{const _0x42c2f7=_0x4dd4c3;_0x226c29[_0x42c2f7(0x49d)](_0x42c2f7(0xa6e),()=>{const _0x3de019=_0x42c2f7,_0x34a819=_0x226c29[_0x3de019(0x9ff)]['id'];document[_0x3de019(0x6e6)](_0x3de019(0xd9e))['classList']['add'](_0x3de019(0xd60)),showQuizDetailView(_0x34a819);});}),_0x4f55ad[_0x4dd4c3(0x2c3)](_0x4dd4c3(0xc64))[_0x4dd4c3(0xbf2)](_0x3cfe83=>{const _0xb45624=_0x4dd4c3;_0x3cfe83[_0xb45624(0x49d)](_0xb45624(0xa6e),_0x50462d=>{const _0x46c3d5=_0xb45624;_0x50462d[_0x46c3d5(0x394)]();const _0xd2c19b=_0x3cfe83[_0x46c3d5(0x9ff)]['id'],_0xed11b8=allQuizzesGlobal[_0x46c3d5(0x8af)](_0x3e1656=>_0x3e1656['id']===_0xd2c19b);_0xed11b8?(currentQuizData=_0xed11b8,document[_0x46c3d5(0x6e6)](_0x46c3d5(0xd9e))[_0x46c3d5(0x3d9)]['add'](_0x46c3d5(0xd60)),startAdminTest()):showMessage(_0x46c3d5(0x76c));});}),_0x4f55ad[_0x4dd4c3(0x2c3)](_0x4dd4c3(0x5e7))[_0x4dd4c3(0xbf2)](_0x2fb77f=>{const _0x4428e7=_0x4dd4c3;_0x2fb77f[_0x4428e7(0x49d)](_0x4428e7(0xa6e),_0x2982e7=>{const _0x15f331=_0x4428e7;_0x2982e7[_0x15f331(0x394)]();const _0x5bbeea=_0x2fb77f['dataset']['id'],_0x1fe055=allQuizzesGlobal[_0x15f331(0x8af)](_0x4e746b=>_0x4e746b['id']===_0x5bbeea);_0x1fe055?(document[_0x15f331(0x6e6)](_0x15f331(0xd9e))['classList'][_0x15f331(0x831)](_0x15f331(0xd60)),handleGenerateParallelFromBank(_0x1fe055)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x4f55ad[_0x4dd4c3(0x2c3)](_0x4dd4c3(0x671))[_0x4dd4c3(0xbf2)](_0x2a1943=>{_0x2a1943['addEventListener']('click',_0x4590f0=>{const _0x406660=_0x4aab;_0x4590f0[_0x406660(0x394)]();const _0x4b3764=_0x2a1943[_0x406660(0x9ff)]['id'],_0x4e9c40=allQuizzesGlobal['find'](_0x4fa35c=>_0x4fa35c['id']===_0x4b3764);_0x4e9c40?(document['getElementById'](_0x406660(0xd9e))[_0x406660(0x3d9)][_0x406660(0x831)](_0x406660(0xd60)),startPresentation(_0x4e9c40)):showMessage(_0x406660(0x76c));});}),_0x4f55ad[_0x4dd4c3(0x2c3)]('.quiz-bank-move-btn')['forEach'](_0x29a426=>{const _0x12fbe0=_0x4dd4c3;_0x29a426['addEventListener'](_0x12fbe0(0xa6e),_0x553762=>{const _0x23ce74=_0x12fbe0;_0x553762[_0x23ce74(0x394)]();const _0x170fb5=_0x29a426[_0x23ce74(0x9ff)]['id'];document['getElementById'](_0x23ce74(0xd9e))[_0x23ce74(0x3d9)]['add']('hidden'),handleMoveQuiz(_0x170fb5);});}),_0x4f55ad['querySelectorAll'](_0x4dd4c3(0xb49))[_0x4dd4c3(0xbf2)](_0x18091e=>{const _0x44eed6=_0x4dd4c3;_0x18091e[_0x44eed6(0x49d)](_0x44eed6(0xa6e),_0x57aed8=>{const _0x5143b2=_0x44eed6;_0x57aed8['stopPropagation']();const _0x3cd6f9=_0x18091e[_0x5143b2(0x9ff)]['id'];document[_0x5143b2(0x6e6)](_0x5143b2(0xd9e))[_0x5143b2(0x3d9)][_0x5143b2(0x831)](_0x5143b2(0xd60)),handleQuizSettings(_0x3cd6f9);});}),_0x4f55ad['querySelectorAll'](_0x4dd4c3(0x7df))[_0x4dd4c3(0xbf2)](_0x4a15cb=>{const _0x340f42=_0x4dd4c3;_0x4a15cb[_0x340f42(0x49d)](_0x340f42(0xa6e),_0xc80bf6=>{const _0xe6a6b7=_0x340f42;_0xc80bf6[_0xe6a6b7(0x394)]();const _0x594282=_0x4a15cb[_0xe6a6b7(0x9ff)]['id'],_0x122b8a=_0x4a15cb[_0xe6a6b7(0x9ff)][_0xe6a6b7(0x9ec)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x122b8a+_0xe6a6b7(0x83f),()=>handleDeleteQuiz(_0x594282));});}));}async function handleCompareResults(_0x30a7f6,_0x4ed92f){const _0x1a8440=_0x5319e2,_0x18c856=document[_0x1a8440(0x6e6)](_0x1a8440(0x7a6)),_0x5f2cd0=document['getElementById'](_0x1a8440(0x9f2)),_0x46efe0=document[_0x1a8440(0x6e6)]('comparison-individual-content');document[_0x1a8440(0x6e6)](_0x1a8440(0x441))['classList']['add'](_0x1a8440(0x797)),document[_0x1a8440(0x6e6)]('comparison-individual-tab')[_0x1a8440(0x3d9)][_0x1a8440(0xb00)](_0x1a8440(0x797)),_0x5f2cd0[_0x1a8440(0x3d9)][_0x1a8440(0xb00)]('hidden'),_0x46efe0[_0x1a8440(0x3d9)]['add'](_0x1a8440(0xd60)),_0x5f2cd0['innerHTML']=_0x1a8440(0x4ca),_0x46efe0[_0x1a8440(0xa19)]='',_0x18c856[_0x1a8440(0x3d9)]['remove']('hidden');try{const _0x208e2f=doc(db,_0x1a8440(0x555)+appId+_0x1a8440(0x935),_0x30a7f6),_0x1dc30b=await getDoc(_0x208e2f);if(!_0x1dc30b[_0x1a8440(0x958)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x2df23e=_0x1dc30b[_0x1a8440(0x9cb)](),_0xa5a4f3=_0x2df23e[_0x1a8440(0x521)]['length'],_0x29cec4=collection(db,_0x1a8440(0x555)+appId+_0x1a8440(0xa62)+_0x4ed92f+'/submissions'),_0x2efc2d=collection(db,'artifacts/'+appId+_0x1a8440(0xa62)+_0x30a7f6+'/submissions'),[_0x147d95,_0x29985e]=await Promise[_0x1a8440(0x8bd)]([getDocs(_0x29cec4),getDocs(_0x2efc2d)]),_0x417283=_0x147d95['docs']['map'](_0x111567=>_0x111567['data']()),_0x3cfafc=_0x29985e['docs'][_0x1a8440(0x23a)](_0x58339e=>_0x58339e[_0x1a8440(0x9cb)]()),_0x5b2619=_0x417283[_0x1a8440(0x23a)](_0x4e17d4=>_0x4e17d4['latestScore']),_0x175315=_0x3cfafc[_0x1a8440(0x23a)](_0x56e037=>_0x56e037[_0x1a8440(0xd6b)]),_0x570d9b=calculateMeanAndStdDev(_0x5b2619),_0x5d91aa=calculateMeanAndStdDev(_0x175315),_0x1d08c8=_0x570d9b[_0x1a8440(0x16b)],_0x226965=_0x5d91aa[_0x1a8440(0x16b)],_0x1d77e3=_0x226965-_0x1d08c8;let _0x538cd7=_0x1a8440(0x778)+_0x1d08c8[_0x1a8440(0x8ba)](0x2)+_0x1a8440(0xc82)+_0x226965[_0x1a8440(0x8ba)](0x2)+_0x1a8440(0xc84)+(_0x1d77e3>=0x0?_0x1a8440(0x8ee):_0x1a8440(0x49e))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1d77e3>=0x0?_0x1a8440(0x383):_0x1a8440(0x897))+_0x1a8440(0x3fd)+(_0x1d77e3>=0x0?_0x1a8440(0x712):_0x1a8440(0x1fe))+'\x22>'+(_0x1d77e3>=0x0?'+':'')+_0x1d77e3[_0x1a8440(0x8ba)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x5f2cd0[_0x1a8440(0xa19)]=_0x538cd7;const _0x4e1549=document[_0x1a8440(0x6e6)]('comparison-chart')[_0x1a8440(0x73a)]('2d');if(chartInstances['comparison'])chartInstances[_0x1a8440(0x7b6)]['destroy']();chartInstances[_0x1a8440(0x7b6)]=new Chart(_0x4e1549,{'type':'bar','data':{'labels':[_0x1a8440(0xe8e)],'datasets':[{'label':_0x1a8440(0xc02),'data':[_0x1d08c8],'backgroundColor':_0x1a8440(0x91b)},{'label':_0x1a8440(0xbee),'data':[_0x226965],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xa5a4f3}}}});const _0xad5ad6=currentProjectData[_0x1a8440(0x38b)]||[],_0x48663c=_0xad5ad6[_0x1a8440(0x23a)](_0x26760d=>{const _0x2e6d5e=_0x1a8440,_0x187b67=_0x417283[_0x2e6d5e(0x8af)](_0x3bbd85=>_0x3bbd85[_0x2e6d5e(0xdea)]===_0x26760d),_0x583bc3=_0x3cfafc['find'](_0x59d117=>_0x59d117[_0x2e6d5e(0xdea)]===_0x26760d),_0xe76cc9=_0x187b67?_0x187b67[_0x2e6d5e(0xd6b)]:null,_0x36fa85=_0x583bc3?_0x583bc3[_0x2e6d5e(0xd6b)]:null,_0x6f5115=_0xe76cc9!==null&&_0x36fa85!==null?_0x36fa85-_0xe76cc9:null,_0xb0dd03=_0xe76cc9!==null?calculateZScore(_0xe76cc9,_0x570d9b[_0x2e6d5e(0x16b)],_0x570d9b['stdDev']):null,_0x553f46=_0x36fa85!==null?calculateZScore(_0x36fa85,_0x5d91aa['mean'],_0x5d91aa[_0x2e6d5e(0x5ce)]):null,_0x3f89a2=_0xb0dd03!==null?calculateTScore(_0xb0dd03):null,_0x29b1d4=_0x553f46!==null?calculateTScore(_0x553f46):null,_0x53423e=_0x3f89a2!==null&&_0x29b1d4!==null?_0x29b1d4-_0x3f89a2:null;return{'name':_0x26760d,'preScore':_0xe76cc9,'postScore':_0x36fa85,'gain':_0x6f5115,'preTScore':_0x3f89a2,'postTScore':_0x29b1d4,'tGain':_0x53423e};});renderIndividualComparisonTable(_0x48663c,_0x46efe0);}catch(_0xcabcc0){console[_0x1a8440(0x3f8)](_0x1a8440(0x362),_0xcabcc0),_0x5f2cd0['innerHTML']=_0x1a8440(0xd5b);}}async function saveBlueprintProject(){const _0x3040c1=_0x5319e2;if(!extractedBlueprintData||!extractedBlueprintData[_0x3040c1(0xc2a)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x239116=prompt(_0x3040c1(0xcc2),_0x3040c1(0xda3));if(!_0x239116||_0x239116[_0x3040c1(0xc3f)]()==='')return;const _0x4ab9a2={};extractedBlueprintData[_0x3040c1(0xc2a)][_0x3040c1(0xbf2)](_0x4b94d6=>{const _0x1367bf=_0x3040c1;_0x4b94d6[_0x1367bf(0xa39)][_0x1367bf(0xbf2)](_0x4304e3=>{const _0x31bde3=_0x1367bf;_0x4304e3[_0x31bde3(0x12e)][_0x31bde3(0xbf2)](_0x51d57a=>{const _0xa74c77=_0x31bde3,_0x55f0df=_0xa74c77(0x41a)+Date[_0xa74c77(0xc35)]()+Math[_0xa74c77(0x46d)]()[_0xa74c77(0xdd7)](0x24)[_0xa74c77(0xae2)](0x2,0x9);_0x4ab9a2[_0x55f0df]={'sara':_0x4b94d6[_0xa74c77(0xbc7)],'mainTopic':_0x4304e3[_0xa74c77(0x339)],'subTopic':_0x51d57a,'status':_0xa74c77(0xc93),'lessonContent':null};});});});try{const _0x5c213f=collection(db,_0x3040c1(0x555)+appId+_0x3040c1(0x804));await addDoc(_0x5c213f,{'projectName':_0x239116[_0x3040c1(0xc3f)](),'gradeLevel':extractedBlueprintData[_0x3040c1(0x405)],'topics':_0x4ab9a2,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x239116['trim']()+_0x3040c1(0x80b)),document[_0x3040c1(0x6e6)](_0x3040c1(0x8a8))[_0x3040c1(0x3d9)][_0x3040c1(0x831)](_0x3040c1(0xd60));}catch(_0x4b8c0f){console[_0x3040c1(0x3f8)]('Error\x20saving\x20blueprint\x20project:',_0x4b8c0f),showMessage(_0x3040c1(0x1eb));}}async function showBlueprintProjects(){const _0x2ac9eb=_0x5319e2,_0x34a9e0=document['getElementById'](_0x2ac9eb(0xab7)),_0x50bb8a=document[_0x2ac9eb(0x6e6)](_0x2ac9eb(0x1af));_0x50bb8a[_0x2ac9eb(0xa19)]=_0x2ac9eb(0x314),_0x34a9e0[_0x2ac9eb(0x3d9)][_0x2ac9eb(0xb00)]('hidden');try{const _0x43570d=collection(db,'artifacts/'+appId+_0x2ac9eb(0x804)),_0x15d2c1=await getDocs(_0x43570d);if(_0x15d2c1[_0x2ac9eb(0x530)]){_0x50bb8a[_0x2ac9eb(0xa19)]=_0x2ac9eb(0xaee);return;}const _0x2ce7cf=_0x15d2c1[_0x2ac9eb(0x6e9)][_0x2ac9eb(0x23a)](_0x1b6835=>({'id':_0x1b6835['id'],..._0x1b6835[_0x2ac9eb(0x9cb)]()}));_0x2ce7cf['sort']((_0xfc5297,_0x34d84d)=>_0xfc5297[_0x2ac9eb(0x4de)]['localeCompare'](_0x34d84d[_0x2ac9eb(0x4de)],'th')),_0x50bb8a['innerHTML']=_0x2ce7cf[_0x2ac9eb(0x23a)](_0x1fadee=>_0x2ac9eb(0x47f)+_0x1fadee['projectName']+_0x2ac9eb(0x24c)+_0x1fadee[_0x2ac9eb(0x405)]+_0x2ac9eb(0xea3)+Object[_0x2ac9eb(0xa7d)](_0x1fadee[_0x2ac9eb(0xcbb)])[_0x2ac9eb(0x4f1)]+_0x2ac9eb(0x64c)+_0x1fadee['id']+_0x2ac9eb(0xa22)+_0x1fadee['id']+_0x2ac9eb(0xa27))[_0x2ac9eb(0x975)]('');}catch(_0x2affee){console[_0x2ac9eb(0x3f8)](_0x2ac9eb(0xbc9),_0x2affee),_0x50bb8a[_0x2ac9eb(0xa19)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x5bf078){const _0x2c22ea=_0x5319e2;currentBlueprintProjectId=_0x5bf078,document['getElementById'](_0x2c22ea(0xab7))['classList']['add'](_0x2c22ea(0xd60)),showView(_0x2c22ea(0xdd6)),projectDashboardView[_0x2c22ea(0x3d9)][_0x2c22ea(0x831)](_0x2c22ea(0xd60));const _0x28a4e8=document[_0x2c22ea(0x6e6)](_0x2c22ea(0xd5a));_0x28a4e8[_0x2c22ea(0x3d9)][_0x2c22ea(0xb00)](_0x2c22ea(0xd60)),document['getElementById'](_0x2c22ea(0x5fe))[_0x2c22ea(0xa19)]=_0x2c22ea(0x4ca);try{const _0x5849c1=doc(db,_0x2c22ea(0x555)+appId+_0x2c22ea(0x804),_0x5bf078),_0x1976fc=await getDoc(_0x5849c1);if(!_0x1976fc['exists']())throw new Error(_0x2c22ea(0x7d3));const _0xe10f4c={'id':_0x1976fc['id'],..._0x1976fc[_0x2c22ea(0x9cb)]()};document['getElementById']('bp-project-title')['textContent']=_0xe10f4c['projectName'],document['getElementById'](_0x2c22ea(0xa35))[_0x2c22ea(0xb2d)]=_0xe10f4c['referenceFileUrl']||'',renderBlueprintTopicManager(_0xe10f4c);}catch(_0x3453eb){console[_0x2c22ea(0x3f8)](_0x2c22ea(0xc06),_0x3453eb),showMessage(_0x3453eb[_0x2c22ea(0xa6b)]),showView(_0x2c22ea(0xdd6));}}function renderBlueprintTopicManager(_0x5e5977){const _0x9639b0=_0x5319e2,_0x573c11=document['getElementById'](_0x9639b0(0x5fe)),_0x4f5887=_0x5e5977[_0x9639b0(0xcbb)]||{};if(Object[_0x9639b0(0xa7d)](_0x4f5887)[_0x9639b0(0x4f1)]===0x0){_0x573c11[_0x9639b0(0xa19)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x37a5a2=Object[_0x9639b0(0x6fa)](_0x4f5887)[_0x9639b0(0x23a)](([_0x518d6f,_0x321d00])=>({'id':_0x518d6f,..._0x321d00}))[_0x9639b0(0x602)]((_0xd6c5f3,_0x2088d4)=>(_0xd6c5f3[_0x9639b0(0xa0f)]??Infinity)-(_0x2088d4[_0x9639b0(0xa0f)]??Infinity)),_0x159bf4={};_0x37a5a2[_0x9639b0(0xbf2)](_0x2d7994=>{const _0x2d667f=_0x9639b0,{sara:_0x1ec5d5,mainTopic:_0x501726}=_0x2d7994;!_0x159bf4[_0x1ec5d5]&&(_0x159bf4[_0x1ec5d5]={}),!_0x159bf4[_0x1ec5d5][_0x501726]&&(_0x159bf4[_0x1ec5d5][_0x501726]=[]),_0x159bf4[_0x1ec5d5][_0x501726][_0x2d667f(0xbda)](_0x2d7994);});let _0x47dd51='';for(const _0x2d4257 in _0x159bf4){_0x47dd51+=_0x9639b0(0x7d9)+_0x2d4257+_0x9639b0(0xe37);for(const _0x545760 in _0x159bf4[_0x2d4257]){_0x47dd51+=_0x9639b0(0x94b)+_0x545760+_0x9639b0(0x881),_0x159bf4[_0x2d4257][_0x545760][_0x9639b0(0xbf2)](_0x15cc11=>{const _0x911f42=_0x9639b0,_0x2c2df8=_0x15cc11['id'],_0x4eaed5=_0x15cc11[_0x911f42(0xce2)]||[],_0x5e7003=_0x4eaed5['length']>0x0,_0x58d82a=_0x15cc11[_0x911f42(0x626)]===_0x911f42(0x716);let _0x12e484='';_0x5e7003?_0x12e484=_0x911f42(0xc36)+_0x4eaed5['length']+_0x911f42(0x2c6):_0x12e484=_0x911f42(0xd0b)+(_0x58d82a?_0x911f42(0x3df):_0x911f42(0x512))+'\x22>'+(_0x58d82a?'สร้างแล้ว':'ยังไม่สร้าง')+'</span>';const _0x54ba65=!_0x58d82a?_0x911f42(0x474):'',_0x485a5d=!_0x58d82a?_0x911f42(0x8ff):'';let _0x24c3ac=_0x58d82a?_0x911f42(0x83a):_0x911f42(0x95c);_0x47dd51+=_0x911f42(0xe19)+_0x2c2df8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x15cc11[_0x911f42(0x989)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12e484+_0x911f42(0x38e)+_0x54ba65+_0x911f42(0x35b)+_0x485a5d+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24c3ac+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x47dd51+=_0x9639b0(0x81d);}_0x47dd51+=_0x9639b0(0xa5a);}_0x573c11[_0x9639b0(0xa19)]=_0x47dd51;}async function handleDeepDeleteBlueprintProject(_0x13a94e){const _0x14243c=_0x5319e2,_0x27738e=doc(db,_0x14243c(0x555)+appId+'/public/data/blueprintProjects',_0x13a94e),_0xe9c14a=await getDoc(_0x27738e);if(!_0xe9c14a[_0x14243c(0x958)]()){showMessage(_0x14243c(0xcf8));return;}const _0x1c3167=_0xe9c14a['data']()[_0x14243c(0x4de)];showConfirmation(_0x14243c(0x5d0)+_0x1c3167+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x5bd300=_0x14243c;showMessage(_0x5bd300(0xccc));try{const _0x4d07c1=writeBatch(db),_0xfd80b5=_0xe9c14a[_0x5bd300(0x9cb)](),_0x4241a6=_0xfd80b5[_0x5bd300(0xcbb)]||{};for(const _0x372732 in _0x4241a6){const _0x5db235=doc(db,_0x5bd300(0x555)+appId+_0x5bd300(0x62e)+_0x13a94e+_0x5bd300(0xc2c),_0x372732);_0x4d07c1[_0x5bd300(0xc8c)](_0x5db235);}const _0x2a6697=new Set();for(const _0x3bb376 in _0x4241a6){_0x4241a6[_0x3bb376][_0x5bd300(0xce2)]&&_0x4241a6[_0x3bb376]['linkedQuizIds']['forEach'](_0x40135d=>_0x2a6697[_0x5bd300(0x831)](_0x40135d));}for(const _0x58ddbe of _0x2a6697){await handleDeleteQuiz(_0x58ddbe,![]);}_0x4d07c1['delete'](_0x27738e),await _0x4d07c1[_0x5bd300(0xa1b)](),showMessage(_0x5bd300(0x147)+_0x1c3167+_0x5bd300(0x3f9)),showBlueprintProjects();}catch(_0x2172e7){console[_0x5bd300(0x3f8)](_0x5bd300(0x34e),_0x2172e7),showMessage(_0x5bd300(0x964));}});}async function openTopicQuizBank(_0x1feade){const _0x501884=_0x5319e2,_0x139de6=document[_0x501884(0x6e6)](_0x501884(0x2b9)),_0x4fbf64=document[_0x501884(0x6e6)](_0x501884(0xb8b)),_0x47b407=document[_0x501884(0x6e6)](_0x501884(0x61e));try{await ensureGlobalQuizzesLoaded();const _0x52b902=doc(db,_0x501884(0x555)+appId+_0x501884(0x804),currentBlueprintProjectId),_0x44b32f=await getDoc(_0x52b902);if(!_0x44b32f[_0x501884(0x958)]())return;const _0xe40987=_0x44b32f[_0x501884(0x9cb)](),_0x5d187a=_0xe40987[_0x501884(0xcbb)][_0x1feade];document[_0x501884(0x6e6)](_0x501884(0xdd9))[_0x501884(0xb7b)]=_0x5d187a[_0x501884(0x989)];const _0x514338=_0x5d187a['linkedQuizIds']||[];_0x47b407[_0x501884(0x3d9)][_0x501884(0x117)](_0x501884(0xd60),_0x514338[_0x501884(0x4f1)]===0x0),_0x47b407[_0x501884(0x4aa)]=()=>handleClearAllLinksForTopic(_0x1feade);if(_0x514338[_0x501884(0x4f1)]===0x0)_0x4fbf64[_0x501884(0xa19)]=_0x501884(0x17d);else{const _0x4ec911=allQuizzesGlobal['filter'](_0x382976=>_0x514338[_0x501884(0x676)](_0x382976['id']));_0x4fbf64[_0x501884(0xa19)]=_0x4ec911[_0x501884(0x23a)](_0x2186c9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x2186c9['id']+_0x501884(0xc40)+_0x2186c9[_0x501884(0x9ec)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x2186c9['id']+_0x501884(0xea3)+_0x2186c9[_0x501884(0x521)][_0x501884(0x4f1)]+_0x501884(0x200)+_0x2186c9['id']+_0x501884(0xe71)+_0x2186c9['id']+_0x501884(0x72b)+_0x2186c9['id']+_0x501884(0xae6)+_0x2186c9['id']+_0x501884(0xd95)+_0x1feade+'\x22\x20data-quiz-id=\x22'+_0x2186c9['id']+_0x501884(0x9e6))['join']('');}document[_0x501884(0x6e6)](_0x501884(0x703))[_0x501884(0x4aa)]=()=>{openQuizSelectorForBlueprint(_0x1feade);},document[_0x501884(0x6e6)](_0x501884(0xe91))[_0x501884(0x4aa)]=()=>_0x139de6[_0x501884(0x3d9)]['add']('hidden'),_0x139de6[_0x501884(0x3d9)][_0x501884(0xb00)](_0x501884(0xd60));}catch(_0x4c3b50){showMessage(_0x4c3b50[_0x501884(0xa6b)]);}}async function openQuizSelectorForBlueprint(_0x27a51f){const _0xf7879d=_0x5319e2,_0x5be9be=document[_0xf7879d(0x6e6)](_0xf7879d(0xd9e)),_0x3b841d=document['getElementById']('topic-quiz-bank-modal');_0x3b841d['classList'][_0xf7879d(0x831)](_0xf7879d(0xd60)),document[_0xf7879d(0x6e6)](_0xf7879d(0x4d0))?.[_0xf7879d(0xb00)]();const _0x5f2004=document[_0xf7879d(0x631)](_0xf7879d(0x523));_0x5f2004['id']=_0xf7879d(0x4d0),_0x5f2004[_0xf7879d(0x513)]=_0xf7879d(0xde9),_0x5f2004['textContent']=_0xf7879d(0x9c3),_0x5f2004[_0xf7879d(0xe9a)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x5be9be[_0xf7879d(0x3d9)][_0xf7879d(0xb00)]('hidden'),renderQuizBankListForMultiSelect(''),document[_0xf7879d(0x6e6)](_0xf7879d(0xbd9))[_0xf7879d(0xaed)][_0xf7879d(0x91a)]=_0xf7879d(0x877),_0x5be9be['querySelector']('.flex.justify-between.items-center')['appendChild'](_0x5f2004);const _0x5490db=(_0x4dc3dd=![])=>{const _0x269f41=_0xf7879d;_0x5be9be[_0x269f41(0x3d9)]['add'](_0x269f41(0xd60)),document[_0x269f41(0x6e6)](_0x269f41(0xbd9))[_0x269f41(0xaed)][_0x269f41(0x91a)]=_0x269f41(0x5de),_0x5f2004[_0x269f41(0xb00)](),_0x4dc3dd&&openTopicQuizBank(_0x27a51f);};_0x5f2004[_0xf7879d(0x4aa)]=async()=>{const _0x264683=_0xf7879d,_0x5065b0=Array['from'](document['querySelectorAll']('.quiz-bank-checkbox:checked'))[_0x264683(0x23a)](_0x2453e4=>_0x2453e4[_0x264683(0xb2d)]);if(_0x5065b0[_0x264683(0x4f1)]===0x0)return;try{const _0x21d018=doc(db,_0x264683(0x555)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1fccef=(await getDoc(_0x21d018))[_0x264683(0x9cb)](),_0x5054b0=_0x1fccef['topics'][_0x27a51f]['linkedQuizIds']||[],_0x107a6d=[...new Set([..._0x5054b0,..._0x5065b0])];await updateDoc(_0x21d018,{[_0x264683(0x691)+_0x27a51f+_0x264683(0xd66)]:_0x107a6d}),showMessage(_0x264683(0xa8f)+_0x5065b0[_0x264683(0x4f1)]+_0x264683(0x349)),_0x5490db(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x7eca18){console[_0x264683(0x3f8)]('Error\x20linking\x20quizzes:',_0x7eca18);}},document[_0xf7879d(0x6e6)](_0xf7879d(0x488))[_0xf7879d(0x4aa)]=()=>_0x5490db(!![]);}catch(_0x34f48a){showMessage(_0x34f48a['message']),_0x3b841d['classList'][_0xf7879d(0xb00)](_0xf7879d(0xd60));}}function handleClearLinkedQuiz(_0x34902f){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x343c3e=_0x4aab;try{const _0x403ebd=doc(db,_0x343c3e(0x555)+appId+_0x343c3e(0x804),currentBlueprintProjectId);await updateDoc(_0x403ebd,{[_0x343c3e(0x691)+_0x34902f+_0x343c3e(0x459)]:deleteField()}),showMessage(_0x343c3e(0x410)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4b5580){console[_0x343c3e(0x3f8)]('Error\x20clearing\x20linked\x20quiz:',_0x4b5580),showMessage(_0x343c3e(0x99c));}});}async function addTopicToProject(){const _0x4f89d2=_0x5319e2,_0x56b6a7=prompt(_0x4f89d2(0xcbe));if(!_0x56b6a7||_0x56b6a7[_0x4f89d2(0xc3f)]()==='')return;const _0x11427a=prompt(_0x4f89d2(0x707),'สาระที่\x201'),_0xc53557=prompt(_0x4f89d2(0x388),_0x4f89d2(0x1df)),_0x216da8=_0x4f89d2(0x41a)+Date[_0x4f89d2(0xc35)]()+Math[_0x4f89d2(0x46d)]()[_0x4f89d2(0xdd7)](0x24)[_0x4f89d2(0xae2)](0x2,0x9),_0x46b10f={'sara':_0x11427a,'mainTopic':_0xc53557,'subTopic':_0x56b6a7[_0x4f89d2(0xc3f)](),'status':_0x4f89d2(0xc93),'lessonContent':null};try{const _0x17aefc=doc(db,_0x4f89d2(0x555)+appId+_0x4f89d2(0x804),currentBlueprintProjectId);await updateDoc(_0x17aefc,{[_0x4f89d2(0x691)+_0x216da8]:_0x46b10f}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x478e8f){console['error'](_0x4f89d2(0x1f1),_0x478e8f),showMessage(_0x4f89d2(0x6b2));}}async function editTopicInProject(_0x367480){const _0x5a280b=_0x5319e2,_0x56c2d7=document[_0x5a280b(0x86d)](_0x5a280b(0xc90)+_0x367480+'\x22]'),_0x314cef=_0x56c2d7[_0x5a280b(0x86d)](_0x5a280b(0xa44)),_0x250474=_0x314cef[_0x5a280b(0xb7b)],_0x577acb=prompt(_0x5a280b(0x834),_0x250474);if(!_0x577acb||_0x577acb['trim']()===''||_0x577acb['trim']()===_0x250474)return;try{const _0x2ef418=doc(db,'artifacts/'+appId+_0x5a280b(0x804),currentBlueprintProjectId);await updateDoc(_0x2ef418,{[_0x5a280b(0x691)+_0x367480+_0x5a280b(0x425)]:_0x577acb[_0x5a280b(0xc3f)]()}),_0x314cef[_0x5a280b(0xb7b)]=_0x577acb[_0x5a280b(0xc3f)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x167e06){console[_0x5a280b(0x3f8)](_0x5a280b(0x86c),_0x167e06),showMessage(_0x5a280b(0x27d));}}async function deleteTopicFromProject(_0x4feeca){const _0xe60efd=_0x5319e2;if(!confirm(_0xe60efd(0x193)))return;try{const _0xb6e957=doc(db,_0xe60efd(0x555)+appId+_0xe60efd(0x804),currentBlueprintProjectId);await updateDoc(_0xb6e957,{[_0xe60efd(0x691)+_0x4feeca]:deleteField()}),document[_0xe60efd(0x86d)](_0xe60efd(0xc90)+_0x4feeca+'\x22]')['remove'](),showMessage(_0xe60efd(0x76a));}catch(_0x4ae200){console[_0xe60efd(0x3f8)](_0xe60efd(0xbc4),_0x4ae200),showMessage(_0xe60efd(0x8f2));}}async function generateAndSaveLessonForBlueprint(_0x511ba7,_0x5a7657,_0x5940b5){handleGenerateAndShowLesson(_0x5a7657,_0x5940b5);const _0x353d12=setInterval(async()=>{const _0x2a8440=_0x4aab,_0x264f6e=document['getElementById'](_0x2a8440(0xa68)),_0xa2b9c0=_0x264f6e['classList'][_0x2a8440(0x124)]('hidden');if(_0xa2b9c0){clearInterval(_0x353d12);if(currentApplicationData&&currentApplicationData[_0x2a8440(0x4f1)]>0x0){const _0xc1ca92={'point':document[_0x2a8440(0x6e6)](_0x2a8440(0x813))[_0x2a8440(0xa19)],'memory':document['getElementById'](_0x2a8440(0x371))[_0x2a8440(0xa19)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x2a8440(0x6e6)](_0x2a8440(0x89c))[_0x2a8440(0xa19)]};try{const _0x5d07fe=doc(db,_0x2a8440(0x555)+appId+_0x2a8440(0x804),currentBlueprintProjectId),_0x2abb88=doc(db,_0x2a8440(0x555)+appId+_0x2a8440(0x62e)+currentBlueprintProjectId+'/lessons',_0x511ba7),_0x390e1f=writeBatch(db);_0x390e1f[_0x2a8440(0x6b0)](_0x2abb88,{'content':_0xc1ca92}),_0x390e1f['update'](_0x5d07fe,{[_0x2a8440(0x691)+_0x511ba7+'.status']:_0x2a8440(0x716)}),await _0x390e1f['commit'](),console[_0x2a8440(0x8b1)](_0x2a8440(0xdcd)+_0x511ba7+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x54e443){console['error'](_0x2a8440(0xaf0),_0x54e443);}}}},0x3e8);}function displayHalfMarkResult(_0x1c979f,_0xe608fe){const _0x2c8033=_0x5319e2,_0x3d9f91=_0x1c979f>=_0xe608fe/0x2,_0x1d4271=_0x3d9f91?_0x2c8033(0x4f0):_0x2c8033(0x49e),_0x495344=_0x3d9f91?_0x2c8033(0xd11):_0x2c8033(0x64a),_0x145c2b=_0x3d9f91?_0x2c8033(0xdbd):_0x2c8033(0x897),_0x5ba354=_0x3d9f91?'ทำคะแนนได้เกินครึ่ง':_0x2c8033(0x54f),_0x3dd2ad=_0x3d9f91?_0x2c8033(0xab9):_0x2c8033(0xbe9);let _0x460ad6=_0x2c8033(0x765)+_0x1d4271+_0x2c8033(0x660)+_0x495344+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x145c2b+_0x2c8033(0x223)+_0x5ba354+_0x2c8033(0x258)+_0x3dd2ad+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2c8033(0xa19)]=_0x460ad6,studentResultArea[_0x2c8033(0x3d9)][_0x2c8033(0xb00)](_0x2c8033(0xd60)),studentQuizArea[_0x2c8033(0x3d9)][_0x2c8033(0x831)](_0x2c8033(0xd60)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3d9f91});}function displayPerfectScoreResult(_0x2f5ec3,_0x223eeb){const _0x160129=_0x5319e2,_0x356bfa=_0x2f5ec3===_0x223eeb,_0x2db631=_0x356bfa?_0x160129(0x2d4):_0x160129(0xe0d),_0x278394=_0x356bfa?_0x160129(0xda0):_0x160129(0x40a),_0x32dbb2=_0x356bfa?'text-yellow-800':_0x160129(0xca0),_0x17ee2b=_0x356bfa?_0x160129(0xcf6):_0x160129(0x9d7),_0x4b8dcb=_0x356bfa?_0x160129(0xda2):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x49d17b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x2db631+_0x160129(0x660)+_0x278394+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x32dbb2+_0x160129(0x223)+_0x17ee2b+_0x160129(0x258)+_0x4b8dcb+_0x160129(0x983);studentResultArea['innerHTML']=_0x49d17b,studentResultArea[_0x160129(0x3d9)][_0x160129(0xb00)](_0x160129(0xd60)),studentQuizArea[_0x160129(0x3d9)][_0x160129(0x831)](_0x160129(0xd60)),setupResultScreenBackButton({'showRankings':![],'score':_0x2f5ec3,'totalQuestions':_0x223eeb});}function renderIndividualComparisonTable(_0x10c33e,_0xdd8996){const _0x3112bd=_0x5319e2;_0x10c33e['sort']((_0x5b9031,_0x32b9a4)=>(_0x32b9a4[_0x3112bd(0x2af)]??-Infinity)-(_0x5b9031[_0x3112bd(0x2af)]??-Infinity));let _0x442143=_0x3112bd(0x51d);_0x10c33e[_0x3112bd(0x4f1)]===0x0?_0x442143+=_0x3112bd(0x2a3):_0x10c33e[_0x3112bd(0xbf2)]((_0x32e66e,_0x4c69a2)=>{const _0x21cc19=_0x3112bd;let _0x49bc8e='-',_0x582c0e='';if(_0x32e66e[_0x21cc19(0x249)]!==null){const _0x53aa15=_0x32e66e[_0x21cc19(0x249)]>0x0?_0x21cc19(0xe98):_0x32e66e['gain']<0x0?_0x21cc19(0xd3d):_0x21cc19(0x82e),_0x3ea22c=_0x32e66e[_0x21cc19(0x249)]>0x0?'+':'';_0x49bc8e=_0x21cc19(0x1b5)+_0x53aa15+'\x22>'+_0x3ea22c+_0x32e66e[_0x21cc19(0x249)]+_0x21cc19(0x8d8);if(_0x32e66e['gain']>0x0)_0x582c0e=_0x21cc19(0x1d2);else _0x32e66e[_0x21cc19(0x249)]<0x0?_0x582c0e='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x582c0e='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x7e7f64='-';if(_0x32e66e['tGain']!==null){const _0x3f7285=_0x32e66e[_0x21cc19(0x2af)]>0x0?_0x21cc19(0xe98):_0x32e66e[_0x21cc19(0x2af)]<0x0?_0x21cc19(0xd3d):_0x21cc19(0x82e),_0x53a86d=_0x32e66e[_0x21cc19(0x2af)]>0x0?'+':'';_0x7e7f64=_0x21cc19(0x1b5)+_0x3f7285+'\x22>'+_0x53a86d+_0x32e66e['tGain']['toFixed'](0x2)+_0x21cc19(0x8d8);}_0x442143+=_0x21cc19(0xc76)+(_0x4c69a2+0x1)+_0x21cc19(0xb12)+_0x32e66e[_0x21cc19(0x1dc)]+_0x21cc19(0x5c4)+(_0x32e66e[_0x21cc19(0x470)]??'-')+_0x21cc19(0x372)+(_0x32e66e[_0x21cc19(0x857)]??'-')+_0x21cc19(0x5c4)+_0x49bc8e+_0x21cc19(0x69f)+_0x582c0e+_0x21cc19(0x96b)+(_0x32e66e['preTScore']?.['toFixed'](0x2)??'-')+_0x21cc19(0x33b)+(_0x32e66e[_0x21cc19(0x718)]?.[_0x21cc19(0x8ba)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x7e7f64+_0x21cc19(0x290);}),_0x442143+=_0x3112bd(0x528),_0xdd8996[_0x3112bd(0xa19)]=_0x442143;}function handleRenameQuiz(_0x1e6927,_0x52f9d9){const _0x1ed361=_0x5319e2;actionTargetId=_0x1e6927,document[_0x1ed361(0x6e6)]('rename-quiz-input')['value']=_0x52f9d9,renameQuizModal[_0x1ed361(0x3d9)][_0x1ed361(0xb00)]('hidden');}function setupComparisonModalTabs(){const _0x2dcbd=_0x5319e2,_0x118b3e=document['getElementById'](_0x2dcbd(0x441)),_0x50909b=document['getElementById']('comparison-individual-tab'),_0x59376c=document[_0x2dcbd(0x6e6)](_0x2dcbd(0x9f2)),_0x20aebc=document[_0x2dcbd(0x6e6)](_0x2dcbd(0xd0a));_0x118b3e[_0x2dcbd(0x49d)](_0x2dcbd(0xa6e),()=>{const _0x45e9f9=_0x2dcbd;_0x118b3e[_0x45e9f9(0x3d9)][_0x45e9f9(0x831)]('active'),_0x50909b['classList']['remove'](_0x45e9f9(0x797)),_0x59376c[_0x45e9f9(0x3d9)][_0x45e9f9(0xb00)](_0x45e9f9(0xd60)),_0x20aebc[_0x45e9f9(0x3d9)]['add'](_0x45e9f9(0xd60));}),_0x50909b['addEventListener'](_0x2dcbd(0xa6e),()=>{const _0x5b5a99=_0x2dcbd;_0x50909b[_0x5b5a99(0x3d9)]['add'](_0x5b5a99(0x797)),_0x118b3e['classList'][_0x5b5a99(0xb00)](_0x5b5a99(0x797)),_0x20aebc[_0x5b5a99(0x3d9)][_0x5b5a99(0xb00)]('hidden'),_0x59376c[_0x5b5a99(0x3d9)]['add'](_0x5b5a99(0xd60));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x521649=_0x5319e2;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x230b01=doc(db,_0x521649(0x555)+appId+_0x521649(0x700),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x230b01,_0x128a95=>{const _0x40fd02=_0x521649;if(!_0x128a95[_0x40fd02(0x958)]()){showMessage(_0x40fd02(0x7f2));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x40fd02(0x219)?showView('project-detail'):showView('student');return;}const _0x2a4014=_0x128a95[_0x40fd02(0x9cb)]();_0x2a4014[_0x40fd02(0x320)]&&(currentQuizData=_0x2a4014[_0x40fd02(0x320)]);!currentQuizData&&_0x2a4014['quizId']&&((async()=>{const _0x522245=_0x40fd02;try{const _0x3d26d5=doc(db,_0x522245(0x555)+appId+_0x522245(0x935),_0x2a4014[_0x522245(0x769)]),_0x4a483f=await getDoc(_0x3d26d5);_0x4a483f[_0x522245(0x958)]()&&(currentQuizData={'id':_0x4a483f['id'],..._0x4a483f['data']()});}catch(_0x51f6d3){console[_0x522245(0x3f8)](_0x522245(0x2a1),_0x51f6d3);}})());switch(_0x2a4014['status']){case _0x40fd02(0x7c5):if(currentMode===_0x40fd02(0x219)){const _0x260fd6=_0x2a4014['players']?Object[_0x40fd02(0x6fa)](_0x2a4014[_0x40fd02(0xdb1)]):[],_0x2a01a7=_0x260fd6[_0x40fd02(0xbdf)](([_0x3c5e47,_0x203fc9])=>_0x203fc9[_0x40fd02(0x626)]===_0x40fd02(0x797)),_0x12bfeb=document['getElementById'](_0x40fd02(0x581));if(_0x12bfeb)_0x12bfeb[_0x40fd02(0xb7b)]=_0x2a01a7[_0x40fd02(0x4f1)];const _0x56fc83=document['getElementById'](_0x40fd02(0xac9));_0x56fc83&&(_0x56fc83['innerHTML']=_0x2a01a7[_0x40fd02(0x23a)](([_0x533b8a,_0x1cde7d])=>_0x40fd02(0x5f0)+_0x533b8a+_0x40fd02(0x542)+_0x533b8a+_0x40fd02(0x5fc))[_0x40fd02(0x975)](''));const _0xa787ec=document[_0x40fd02(0x6e6)](_0x40fd02(0x1e7));_0xa787ec&&(_0xa787ec[_0x40fd02(0xe9a)]=_0x2a01a7[_0x40fd02(0x4f1)]===0x0);}else showView('live-game'),liveGameView[_0x40fd02(0xa19)]=_0x40fd02(0xea7)+currentStudentName+_0x40fd02(0xa73);break;case _0x40fd02(0x195):const _0xd26535=_0x2a4014[_0x40fd02(0x519)];if(currentQuizData&&currentQuizData['questions'][_0xd26535]){const _0x54a792=currentQuizData['questions'][_0xd26535],_0x17a0bb=_0x2a4014[_0x40fd02(0x217)]||_0x40fd02(0x286);switch(_0x17a0bb){case _0x40fd02(0xea8):currentMode===_0x40fd02(0x219)?showAdminSummaryView(_0x2a4014,_0x54a792):showPlayerSummaryView(_0x2a4014,currentStudentName);break;case _0x40fd02(0x8bb):currentMode==='admin'&&showTop5LeaderboardView(_0x2a4014);break;case'answering':default:if(currentMode===_0x40fd02(0x219)){const _0x4fe0b6=writeBatch(db);let _0xc38843=![];Object[_0x40fd02(0x6fa)](_0x2a4014[_0x40fd02(0xdb1)])[_0x40fd02(0xbf2)](([_0x10104b,_0x28693d])=>{const _0x316670=_0x40fd02;if(_0x28693d['status']===_0x316670(0x797)&&_0x28693d[_0x316670(0x1ae)]&&!_0x28693d['isScored']){_0xc38843=!![];const _0x244a10=_0x28693d[_0x316670(0x1ae)]['toDate']()-_0x2a4014[_0x316670(0x6f3)]['toDate']();let _0xa0791c=0x0;if(_0x28693d[_0x316670(0x42e)]){const _0x21b962=0x3e8,_0x4b827f=0x1f4,_0x78f82a=0x4e20;let _0x4e3270=_0x244a10/_0x78f82a;if(_0x4e3270>0x1)_0x4e3270=0x1;const _0x235800=Math['round'](_0x4e3270*_0x4b827f);_0xa0791c=_0x21b962-_0x235800;}const _0x387208=doc(db,_0x316670(0x555)+appId+_0x316670(0x700),currentLiveGameId);_0x4fe0b6['update'](_0x387208,{[_0x316670(0xc7e)+_0x10104b+_0x316670(0x239)]:increment(_0xa0791c),['players.'+_0x10104b+'.pointsLastQuestion']:_0xa0791c,['players.'+_0x10104b+_0x316670(0x7fd)]:!![]});}});_0xc38843&&_0x4fe0b6['commit']()['catch'](_0x488137=>console['error'](_0x40fd02(0xc66),_0x488137));lastRenderedAdminQuestionIndex!==_0xd26535&&(showAdminLiveQuestionView(_0x54a792,_0xd26535,currentQuizData['questions']['length']),lastRenderedAdminQuestionIndex=_0xd26535);const _0x47448b=_0x2a4014[_0x40fd02(0xdb1)]||{},_0xb391b9=Object[_0x40fd02(0x129)](_0x47448b)[_0x40fd02(0xbdf)](_0x22f302=>_0x22f302[_0x40fd02(0x626)]===_0x40fd02(0x797)),_0x558067=_0xb391b9[_0x40fd02(0x4f1)],_0x3f581e=_0xb391b9[_0x40fd02(0xbdf)](_0x4edc2e=>_0x4edc2e[_0x40fd02(0xe5c)]===!![])['length'],_0x49369c=document[_0x40fd02(0x6e6)](_0x40fd02(0xbc6));if(_0x49369c)_0x49369c['textContent']=_0x3f581e+'/'+_0x558067;const _0x11883b=document[_0x40fd02(0x6e6)](_0x40fd02(0x67e));if(_0x11883b){let _0x104c68=Object[_0x40fd02(0x6fa)](_0x47448b)[_0x40fd02(0xbdf)](([_0x427475,_0x2611d4])=>_0x2611d4[_0x40fd02(0x626)]===_0x40fd02(0x797))[_0x40fd02(0x23a)](([_0x59b39e,_0x48acb7])=>{const _0x35149c=_0x40fd02,_0x5949dd=_0x48acb7[_0x35149c(0xe5c)]===!![],_0x155468=_0x5949dd?_0x35149c(0x84f):_0x35149c(0x154),_0x2bc183=_0x5949dd?_0x35149c(0xcc4):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x35149c(0x891)+_0x155468+_0x35149c(0xbb3)+_0x2bc183+_0x35149c(0x4d3)+_0x59b39e+_0x35149c(0x423)+_0x59b39e+_0x35149c(0x47c);})['join']('');_0x11883b[_0x40fd02(0xa19)]=_0x104c68||_0x40fd02(0x8df);}_0x558067>0x0&&_0x3f581e===_0x558067&&revealAnswerForAdmin(_0xd26535,currentQuizData[_0x40fd02(0x521)]['length']);}else{const _0x102599=_0x2a4014[_0x40fd02(0xdb1)][currentStudentName];_0x102599&&!_0x102599[_0x40fd02(0xe5c)]&&showStudentLiveQuestionView(_0x54a792,_0xd26535,currentQuizData[_0x40fd02(0x521)][_0x40fd02(0x4f1)]);}break;}}break;case _0x40fd02(0x636):showPodiumView(_0x2a4014[_0x40fd02(0xdb1)],_0x40fd02(0x25b));break;}});}async function openGlobalActivityModal(){const _0xa1bc5=_0x5319e2;if(allQuizzesGlobal['length']===0x0){const _0x283eb9=await getDocs(collection(db,_0xa1bc5(0x555)+appId+_0xa1bc5(0x935)));allQuizzesGlobal=_0x283eb9[_0xa1bc5(0x6e9)][_0xa1bc5(0x23a)](_0x418e8e=>({'id':_0x418e8e['id'],..._0x418e8e[_0xa1bc5(0x9cb)]()}));}renderGlobalActivityList(''),document[_0xa1bc5(0x6e6)](_0xa1bc5(0x9dc))[_0xa1bc5(0x3d9)]['remove'](_0xa1bc5(0xd60));}function renderGlobalActivityList(_0x427416=''){const _0x2e6888=_0x5319e2,_0x4318f4=document[_0x2e6888(0x6e6)](_0x2e6888(0xe0c)),_0x27d713=_0x427416[_0x2e6888(0x3a8)]()[_0x2e6888(0xc3f)](),_0x330b9a=allQuizzesGlobal[_0x2e6888(0x23a)](_0x3340d5=>({..._0x3340d5,'projectName':allProjects[_0x2e6888(0x8af)](_0x38326f=>_0x38326f['id']===_0x3340d5['projectId'])?.[_0x2e6888(0x4de)]||'N/A'}))[_0x2e6888(0xbdf)](_0x34da4a=>(_0x34da4a[_0x2e6888(0x9ec)]||'')[_0x2e6888(0x3a8)]()[_0x2e6888(0x676)](_0x27d713)||(_0x34da4a['projectName']||'')['toLowerCase']()[_0x2e6888(0x676)](_0x27d713));document[_0x2e6888(0x6e6)]('global-quiz-count')[_0x2e6888(0xb7b)]='('+_0x330b9a[_0x2e6888(0x4f1)]+'\x20ชุด)',_0x4318f4['innerHTML']=_0x330b9a[_0x2e6888(0x4f1)]?_0x330b9a['map'](_0x187017=>_0x2e6888(0x8c5)+(_0x187017[_0x2e6888(0x9ec)]||_0x2e6888(0xc60))+_0x2e6888(0xdb0)+(_0x187017['questions']?.['length']||0x0)+_0x2e6888(0x7b5)+_0x187017['projectName']+_0x2e6888(0x8c7)+_0x187017['id']+_0x2e6888(0xe43)+_0x187017['id']+_0x2e6888(0xd9a))[_0x2e6888(0x975)](''):_0x2e6888(0xc6a);}async function handleKickPlayer(_0x309977){const _0x5d7909=_0x5319e2;if(!currentLiveGameId||!_0x309977)return;const _0x5ab8a1=doc(db,_0x5d7909(0x555)+appId+_0x5d7909(0x700),currentLiveGameId),_0x1c7b0c={};_0x1c7b0c[_0x5d7909(0xc7e)+_0x309977+_0x5d7909(0x38c)]=_0x5d7909(0x8b2);try{await updateDoc(_0x5ab8a1,_0x1c7b0c);}catch(_0x1f6893){console[_0x5d7909(0x3f8)]('Failed\x20to\x20kick\x20player\x20'+_0x309977+':',_0x1f6893),showMessage(_0x5d7909(0x8e8));}}async function authenticateUser(){const _0x542923=_0x5319e2;try{typeof __initial_auth_token!==_0x542923(0x7d7)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x281ab2){console[_0x542923(0x3f8)](_0x542923(0x678),_0x281ab2),showMessage(_0x542923(0x1d5));}}function showView(_0x5b8809){const _0x249f8c=_0x5319e2;adminView['classList'][_0x249f8c(0x831)]('hidden'),studentView[_0x249f8c(0x3d9)]['add']('hidden'),projectDashboardView[_0x249f8c(0x3d9)][_0x249f8c(0x831)](_0x249f8c(0xd60)),projectDetailView[_0x249f8c(0x3d9)][_0x249f8c(0x831)](_0x249f8c(0xd60)),quizResultsView[_0x249f8c(0x3d9)]['add'](_0x249f8c(0xd60)),liveGameView['classList'][_0x249f8c(0x831)]('hidden'),document[_0x249f8c(0x6e6)](_0x249f8c(0xd5a))[_0x249f8c(0x3d9)][_0x249f8c(0x831)]('hidden'),studentInitialView['classList'][_0x249f8c(0x831)](_0x249f8c(0xd60)),studentJoinGameView[_0x249f8c(0x3d9)]['add'](_0x249f8c(0xd60)),studentNameSelectionView[_0x249f8c(0x3d9)]['add'](_0x249f8c(0xd60)),studentQuizArea[_0x249f8c(0x3d9)][_0x249f8c(0x831)](_0x249f8c(0xd60)),studentResultArea[_0x249f8c(0x3d9)][_0x249f8c(0x831)]('hidden'),studentReadingArea[_0x249f8c(0x3d9)][_0x249f8c(0x831)]('hidden');const _0x36a0d7=document['getElementById'](_0x249f8c(0xb24)),_0x267e7b=document[_0x249f8c(0x6e6)](_0x249f8c(0x4f5));if(_0x36a0d7)_0x36a0d7[_0x249f8c(0x3d9)]['add']('hidden');if(_0x267e7b)_0x267e7b[_0x249f8c(0x3d9)]['add'](_0x249f8c(0xd60));switch(_0x5b8809){case'admin-dashboard':adminView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60)),projectDashboardView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60));break;case _0x249f8c(0x356):adminView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60)),projectDetailView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60));break;case _0x249f8c(0xd2f):adminView['classList'][_0x249f8c(0xb00)](_0x249f8c(0xd60)),quizResultsView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)]('hidden');break;case _0x249f8c(0x6ca):studentView[_0x249f8c(0x3d9)]['remove'](_0x249f8c(0xd60)),studentInitialView['classList'][_0x249f8c(0xb00)](_0x249f8c(0xd60));break;case _0x249f8c(0x3fa):liveGameView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)]('hidden');break;case _0x249f8c(0x25e):studentView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60));if(_0x36a0d7)_0x36a0d7[_0x249f8c(0x3d9)]['remove'](_0x249f8c(0xd60));break;case _0x249f8c(0xc78):studentView[_0x249f8c(0x3d9)]['remove'](_0x249f8c(0xd60));if(_0x267e7b)_0x267e7b[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60));break;default:studentView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60)),studentInitialView[_0x249f8c(0x3d9)][_0x249f8c(0xb00)](_0x249f8c(0xd60));break;}}function showJoinGameView(){const _0x38a275=_0x5319e2;studentInitialView['classList']['add'](_0x38a275(0xd60)),studentJoinGameView[_0x38a275(0x3d9)]['remove'](_0x38a275(0xd60));}async function handleSaveVisibilitySettings(){const _0x49cb8a=_0x5319e2;if(!currentProjectId)return;const _0x4181da=doc(db,'artifacts/'+appId+_0x49cb8a(0x92e),currentProjectId);try{await updateDoc(_0x4181da,{'settings.showInStudentDashboard':document[_0x49cb8a(0x6e6)](_0x49cb8a(0x234))['checked'],'settings.isPasscodeEnabled':document[_0x49cb8a(0x6e6)](_0x49cb8a(0x8ca))[_0x49cb8a(0x3a6)],'settings.passcode':document[_0x49cb8a(0x6e6)](_0x49cb8a(0xa17))[_0x49cb8a(0xb2d)][_0x49cb8a(0xc3f)]()}),showMessage(_0x49cb8a(0x80f));}catch(_0x898cb9){console[_0x49cb8a(0x3f8)]('Error\x20saving\x20visibility\x20settings:',_0x898cb9),showMessage(_0x49cb8a(0xc39));}}function setupEventListeners(){const _0x29b051=_0x5319e2,_0x3f5588=document[_0x29b051(0x6e6)]('scan-text-image-input'),_0x513f86=document[_0x29b051(0x6e6)]('scan-text-image-btn');_0x3f5588&&_0x513f86&&(_0x513f86[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>_0x3f5588[_0x29b051(0xa6e)]()),_0x3f5588[_0x29b051(0x49d)](_0x29b051(0x538),_0x40d32a=>{const _0x147656=_0x29b051;_0x40d32a[_0x147656(0x8ce)]['files'][_0x147656(0x4f1)]>0x0&&handleScanImageForText(_0x40d32a['target']['files'][0x0]);}));const _0x5cb068=document[_0x29b051(0x6e6)]('wager-all-in-btn');_0x5cb068&&_0x5cb068[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0xa3bae9=_0x29b051,_0x192fbf=document['getElementById'](_0xa3bae9(0xcb5)),_0x3640b0=document[_0xa3bae9(0x6e6)](_0xa3bae9(0x7c1));_0x192fbf&&(_0x192fbf['value']=_0x192fbf[_0xa3bae9(0xd01)],_0x3640b0&&(_0x3640b0[_0xa3bae9(0xb7b)]=_0x192fbf[_0xa3bae9(0xb2d)],_0x3640b0['classList'][_0xa3bae9(0xb00)](_0xa3bae9(0xb59)),void _0x3640b0[_0xa3bae9(0xa9e)],_0x3640b0[_0xa3bae9(0x3d9)][_0xa3bae9(0x831)]('transform',_0xa3bae9(0x732),_0xa3bae9(0xb59),_0xa3bae9(0xd3d)),setTimeout(()=>_0x3640b0[_0xa3bae9(0x3d9)]['remove'](_0xa3bae9(0xb59),_0xa3bae9(0xd3d)),0xc8)));});document['getElementById'](_0x29b051(0xd91))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x1cf8ef=_0x29b051;document[_0x1cf8ef(0x6e6)]('wager-modal')[_0x1cf8ef(0x3d9)][_0x1cf8ef(0x831)](_0x1cf8ef(0xd60));}),document['getElementById'](_0x29b051(0x64b))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x26fbff=_0x29b051,_0x27464f=document['getElementById'](_0x26fbff(0x311)),_0x50eda4=document[_0x26fbff(0x6e6)](_0x26fbff(0x829)),_0xe404a9=document[_0x26fbff(0x6e6)](_0x26fbff(0xcb5))[_0x26fbff(0xb2d)],_0x339f0b=_0x50eda4['dataset']['answerValue'],_0x2eeba7=JSON['parse'](_0x50eda4[_0x26fbff(0x9ff)][_0x26fbff(0x195)]),_0x38407d=JSON[_0x26fbff(0x110)](_0x50eda4[_0x26fbff(0x9ff)][_0x26fbff(0xb1a)]),_0x49c3a2=_0x50eda4[_0x26fbff(0x9ff)]['playerName'];_0x27464f[_0x26fbff(0x3d9)][_0x26fbff(0x831)](_0x26fbff(0xd60)),handleSyncAnswerSubmit(_0x339f0b,_0x2eeba7,_0x38407d,_0x49c3a2,![],_0xe404a9);}),document[_0x29b051(0x2c3)]('input[name=\x22syncVariant\x22]')[_0x29b051(0xbf2)](_0x5e5667=>{const _0x34d94b=_0x29b051;_0x5e5667[_0x34d94b(0x49d)](_0x34d94b(0x538),_0x42206f=>{const _0x1ebe68=_0x34d94b,_0x28f3e9=document[_0x1ebe68(0x6e6)](_0x1ebe68(0x599));_0x42206f[_0x1ebe68(0x8ce)][_0x1ebe68(0xb2d)]===_0x1ebe68(0x874)?_0x28f3e9[_0x1ebe68(0x3d9)][_0x1ebe68(0xb00)](_0x1ebe68(0xd60)):_0x28f3e9[_0x1ebe68(0x3d9)][_0x1ebe68(0x831)]('hidden');});}),document[_0x29b051(0x6e6)]('sync-timer-enable-checkbox')[_0x29b051(0x49d)]('change',_0x3ca199=>{const _0x34c9ed=_0x29b051;document[_0x34c9ed(0x6e6)]('sync-timer-duration-container')[_0x34c9ed(0x3d9)]['toggle'](_0x34c9ed(0xd60),!_0x3ca199[_0x34c9ed(0x8ce)][_0x34c9ed(0x3a6)]);});const _0x1a0025=document[_0x29b051(0x6e6)](_0x29b051(0x221)),_0x5b249b=document[_0x29b051(0x6e6)](_0x29b051(0xd7a));_0x1a0025&&_0x5b249b&&_0x1a0025[_0x29b051(0x49d)]('click',()=>{const _0x5ae3f8=_0x29b051;_0x5b249b[_0x5ae3f8(0x3d9)]['add'](_0x5ae3f8(0xd60)),_0x5b249b[_0x5ae3f8(0x9ff)]['currentMode']='';});const _0x31490f=document['getElementById'](_0x29b051(0x936));_0x31490f&&(_0x31490f[_0x29b051(0x49d)]('mousedown',wakeUpScreen),_0x31490f['addEventListener'](_0x29b051(0xddc),wakeUpScreen));document[_0x29b051(0x6e6)]('save-bp-reference-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),async()=>{const _0x2e0b60=_0x29b051;if(!currentBlueprintProjectId)return;const _0x38a80a=document['getElementById'](_0x2e0b60(0xa35))[_0x2e0b60(0xb2d)][_0x2e0b60(0xc3f)](),_0x5c224c=doc(db,_0x2e0b60(0x555)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x5c224c,{'referenceFileUrl':_0x38a80a}),showMessage(_0x2e0b60(0xe44));}catch(_0x32c8a0){console[_0x2e0b60(0x3f8)](_0x2e0b60(0x189),_0x32c8a0),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x29b051(0x6e6)](_0x29b051(0x3cf))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleAddParallelShortcutTab),document[_0x29b051(0x6e6)]('parallel-test-input-area')[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x24c986=>{const _0x1e1a91=_0x29b051;_0x24c986[_0x1e1a91(0x8ce)]['closest']('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x1e1a91(0x6e6)](_0x1e1a91(0x6a8))[_0x1e1a91(0x3d9)]['remove'](_0x1e1a91(0xd60)));}),document[_0x29b051(0x6e6)]('close-additional-parallel-shortcuts-btn')['addEventListener'](_0x29b051(0xa6e),()=>{const _0x5058ee=_0x29b051;document[_0x5058ee(0x6e6)](_0x5058ee(0x6a8))[_0x5058ee(0x3d9)][_0x5058ee(0x831)](_0x5058ee(0xd60));}),document[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x4da3bc=>{const _0x271cb7=_0x29b051;!_0x4da3bc['target'][_0x271cb7(0x8ec)]('.group\x5c/dropdown-parallel')&&document['querySelectorAll'](_0x271cb7(0x4e9))[_0x271cb7(0xbf2)](_0x46bdd3=>_0x46bdd3[_0x271cb7(0x3d9)]['add']('hidden'));}),document[_0x29b051(0x6e6)](_0x29b051(0x3af))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleAddFileShortcutTab),document[_0x29b051(0x6e6)](_0x29b051(0x71d))[_0x29b051(0x49d)](_0x29b051(0xa6e),_0xa020cc=>{const _0x151acd=_0x29b051;_0xa020cc['target'][_0x151acd(0x8ec)](_0x151acd(0x5af))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x151acd(0x6e6)](_0x151acd(0xe4f))[_0x151acd(0x3d9)][_0x151acd(0xb00)](_0x151acd(0xd60)));}),document[_0x29b051(0x6e6)]('close-additional-file-shortcuts-btn')[_0x29b051(0x49d)]('click',()=>{const _0x1b932c=_0x29b051;document[_0x1b932c(0x6e6)](_0x1b932c(0xe4f))['classList'][_0x1b932c(0x831)](_0x1b932c(0xd60));}),document[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x52dde7=>{const _0x1e60da=_0x29b051;!_0x52dde7[_0x1e60da(0x8ce)][_0x1e60da(0x8ec)](_0x1e60da(0xbb8))&&document[_0x1e60da(0x2c3)](_0x1e60da(0xa33))[_0x1e60da(0xbf2)](_0x1a447a=>_0x1a447a[_0x1e60da(0x3d9)][_0x1e60da(0x831)]('hidden'));}),document['getElementById'](_0x29b051(0x44c))['addEventListener'](_0x29b051(0xa6e),handleAddShortcutTab),document[_0x29b051(0x6e6)]('parallel-shortcut-container')[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x32f5de=>{const _0x4e53d6=_0x29b051,_0x3f2ac5=_0x32f5de[_0x4e53d6(0x8ce)][_0x4e53d6(0x8ec)]('.parallel-shortcut-btn'),_0x4b6fa7=_0x32f5de[_0x4e53d6(0x8ce)][_0x4e53d6(0x8ec)](_0x4e53d6(0x34f)),_0x23e244=_0x32f5de['target']['closest'](_0x4e53d6(0x427));if(_0x4b6fa7)openParallelTestShortcutEditor(_0x4b6fa7[_0x4e53d6(0x9ff)]['id']);else{if(_0x23e244){const _0xca14c4=_0x23e244[_0x4e53d6(0x9ff)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x52362f=_0x4e53d6,_0x2e5c25=parallelTestShortcuts[_0x52362f(0xbdf)](_0x56f118=>_0x56f118['id']!==_0xca14c4),_0x622f1=doc(db,'globalSettings',_0x52362f(0xa50));await setDoc(_0x622f1,{'shortcuts':_0x2e5c25},{'merge':!![]});});}else _0x3f2ac5&&handleParallelTestShortcutClick(_0x3f2ac5[_0x4e53d6(0x9ff)]['id']);}}),document['getElementById'](_0x29b051(0x570))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>openParallelTestShortcutEditor(null)),document[_0x29b051(0x6e6)]('cancel-parallel-shortcut-edit-btn')['addEventListener']('click',()=>{const _0x33d157=_0x29b051;document['getElementById']('parallel-shortcut-editor-modal')['classList'][_0x33d157(0x831)](_0x33d157(0xd60));}),document[_0x29b051(0x6e6)](_0x29b051(0x850))[_0x29b051(0x49d)](_0x29b051(0xa6e),saveParallelTestShortcutChanges),document[_0x29b051(0x6e6)]('parallel-test-input-area')[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x5ee213=>{const _0x5afb44=_0x29b051;_0x5ee213['target'][_0x5afb44(0x8ec)]('#open-additional-parallel-shortcuts-btn')&&document[_0x5afb44(0x6e6)](_0x5afb44(0x6a8))[_0x5afb44(0x3d9)]['remove'](_0x5afb44(0xd60));}),document['getElementById']('close-additional-parallel-shortcuts-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x541ef8=_0x29b051;document[_0x541ef8(0x6e6)](_0x541ef8(0x6a8))[_0x541ef8(0x3d9)][_0x541ef8(0x831)](_0x541ef8(0xd60));}),document[_0x29b051(0x6e6)](_0x29b051(0x67a))[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x1458ee=>{const _0x31adee=_0x29b051,_0x98d426=document['getElementById'](_0x31adee(0x6a8)),_0x3ff056=_0x1458ee['target']['closest'](_0x31adee(0xcff)),_0x49bc1a=_0x1458ee[_0x31adee(0x8ce)][_0x31adee(0x8ec)](_0x31adee(0x2d7)),_0x3f4c33=_0x1458ee[_0x31adee(0x8ce)][_0x31adee(0x8ec)](_0x31adee(0x565));if(_0x3ff056)_0x98d426['classList']['add']('hidden'),handleParallelTestShortcutClick(_0x3ff056[_0x31adee(0x9ff)]['id']);else{if(_0x49bc1a)_0x98d426['classList'][_0x31adee(0x831)](_0x31adee(0xd60)),openParallelTestShortcutEditor(_0x49bc1a[_0x31adee(0x9ff)]['id']);else{if(_0x3f4c33){const _0x1c8651=_0x3f4c33[_0x31adee(0x9ff)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x32cdb0=_0x31adee,_0x51f1cd=parallelTestShortcuts['filter'](_0x19f96c=>_0x19f96c['id']!==_0x1c8651),_0xf72513=doc(db,_0x32cdb0(0xe25),_0x32cdb0(0xa50));await setDoc(_0xf72513,{'shortcuts':_0x51f1cd},{'merge':!![]});});}}}}),document[_0x29b051(0x6e6)]('file-shortcut-container')[_0x29b051(0x49d)]('click',_0x10e9f0=>{const _0x4f1b55=_0x29b051,_0x252981=_0x10e9f0[_0x4f1b55(0x8ce)]['closest'](_0x4f1b55(0x898)),_0x36c2b9=_0x10e9f0['target'][_0x4f1b55(0x8ec)](_0x4f1b55(0xc88)),_0x2b81bc=_0x10e9f0[_0x4f1b55(0x8ce)][_0x4f1b55(0x8ec)](_0x4f1b55(0x27f));if(_0x36c2b9)openFileShortcutEditor(_0x36c2b9['dataset']['id']);else{if(_0x2b81bc){const _0x2f3ecb=_0x2b81bc[_0x4f1b55(0x9ff)]['id'];showConfirmation(_0x4f1b55(0x6e2),async()=>{const _0x46f698=_0x4f1b55,_0x1340b8=fileShortcuts[_0x46f698(0xbdf)](_0x3630a1=>_0x3630a1['id']!==_0x2f3ecb),_0x189e49=doc(db,_0x46f698(0xe25),'fileShortcutsConfig');await setDoc(_0x189e49,{'shortcuts':_0x1340b8},{'merge':!![]});});}else _0x252981&&handleFileShortcutClick(_0x252981[_0x4f1b55(0x9ff)]['id']);}}),document[_0x29b051(0x6e6)]('add-file-shortcut-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>openFileShortcutEditor(null)),document[_0x29b051(0x6e6)]('cancel-file-shortcut-edit-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x171ebf=_0x29b051;document[_0x171ebf(0x6e6)]('file-shortcut-editor-modal')['classList'][_0x171ebf(0x831)]('hidden');}),document[_0x29b051(0x6e6)]('save-file-shortcut-btn')['addEventListener'](_0x29b051(0xa6e),saveFileShortcutChanges),document['getElementById'](_0x29b051(0x71d))[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x4a6362=>{const _0x41a518=_0x29b051;_0x4a6362['target'][_0x41a518(0x8ec)](_0x41a518(0x5af))&&document[_0x41a518(0x6e6)]('additional-file-shortcuts-modal')[_0x41a518(0x3d9)][_0x41a518(0xb00)]('hidden');}),document[_0x29b051(0x6e6)](_0x29b051(0x34c))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x21d2a9=_0x29b051;document[_0x21d2a9(0x6e6)](_0x21d2a9(0xe4f))[_0x21d2a9(0x3d9)][_0x21d2a9(0x831)](_0x21d2a9(0xd60));}),document[_0x29b051(0x6e6)]('additional-file-shortcuts-list')['addEventListener'](_0x29b051(0xa6e),_0x1aea7f=>{const _0x29de83=_0x29b051,_0x5bc07a=document[_0x29de83(0x6e6)](_0x29de83(0xe4f)),_0x10438f=_0x1aea7f[_0x29de83(0x8ce)]['closest'](_0x29de83(0x4f8)),_0x49c88d=_0x1aea7f[_0x29de83(0x8ce)][_0x29de83(0x8ec)](_0x29de83(0xcde)),_0x2cdc2b=_0x1aea7f[_0x29de83(0x8ce)][_0x29de83(0x8ec)](_0x29de83(0x46f));if(_0x10438f)_0x5bc07a[_0x29de83(0x3d9)]['add'](_0x29de83(0xd60)),handleFileShortcutClick(_0x10438f['dataset']['id']);else{if(_0x49c88d)_0x5bc07a[_0x29de83(0x3d9)][_0x29de83(0x831)](_0x29de83(0xd60)),openFileShortcutEditor(_0x49c88d[_0x29de83(0x9ff)]['id']);else{if(_0x2cdc2b){const _0x163e46=_0x2cdc2b[_0x29de83(0x9ff)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xe7474c=_0x29de83,_0x4d6338=fileShortcuts['filter'](_0x1dc68f=>_0x1dc68f['id']!==_0x163e46),_0x4f98f0=doc(db,_0xe7474c(0xe25),_0xe7474c(0xc80));await setDoc(_0x4f98f0,{'shortcuts':_0x4d6338},{'merge':!![]});});}}}}),document[_0x29b051(0x6e6)](_0x29b051(0xd3f))[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x4a4a5a=>{const _0x14147a=_0x29b051;_0x4a4a5a[_0x14147a(0x8ce)][_0x14147a(0x8ec)](_0x14147a(0x5bd))&&(activeShortcutTabId=_0x14147a(0x8bd),renderAdditionalShortcutsModal(),document[_0x14147a(0x6e6)](_0x14147a(0x925))[_0x14147a(0x3d9)][_0x14147a(0xb00)](_0x14147a(0xd60)));}),document[_0x29b051(0x6e6)]('close-additional-shortcuts-btn')['addEventListener']('click',()=>{const _0x3614c3=_0x29b051;document['getElementById']('additional-shortcuts-modal')[_0x3614c3(0x3d9)]['add']('hidden');}),document[_0x29b051(0x6e6)]('additional-shortcuts-list')['addEventListener'](_0x29b051(0xa6e),_0x2e2faa=>{const _0x3cbf23=_0x29b051,_0x567bd2=_0x2e2faa[_0x3cbf23(0x8ce)][_0x3cbf23(0x8ec)](_0x3cbf23(0x37b)),_0x485112=_0x2e2faa[_0x3cbf23(0x8ce)][_0x3cbf23(0x8ec)](_0x3cbf23(0x533)),_0x504398=_0x2e2faa[_0x3cbf23(0x8ce)][_0x3cbf23(0x8ec)](_0x3cbf23(0x99d)),_0x25408c=document[_0x3cbf23(0x6e6)](_0x3cbf23(0x925));if(_0x567bd2)_0x25408c['classList'][_0x3cbf23(0x831)]('hidden'),handleShortcutClick(_0x567bd2[_0x3cbf23(0x9ff)]['id']);else{if(_0x485112)_0x25408c[_0x3cbf23(0x3d9)][_0x3cbf23(0x831)](_0x3cbf23(0xd60)),openShortcutEditor(_0x485112[_0x3cbf23(0x9ff)]['id']);else{if(_0x504398){const _0x355030=_0x504398[_0x3cbf23(0x9ff)]['id'],_0xf094b6=blueprintShortcuts[_0x3cbf23(0x8af)](_0x10d46f=>_0x10d46f['id']===_0x355030)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0xf094b6+'\x22?',async()=>{const _0x4fb94b=_0x3cbf23,_0x206d32=blueprintShortcuts[_0x4fb94b(0xbdf)](_0x3700b6=>_0x3700b6['id']!==_0x355030);try{const _0x38c3d5=doc(db,_0x4fb94b(0xe25),'dashboardConfig');await setDoc(_0x38c3d5,{'blueprintShortcuts':_0x206d32},{'merge':!![]});}catch(_0x227076){console[_0x4fb94b(0x3f8)](_0x4fb94b(0x155),_0x227076);}});}}}}),document['getElementById'](_0x29b051(0xb9d))[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x582936=>{const _0x25c1d6=_0x29b051,_0xb319ab=_0x582936[_0x25c1d6(0x8ce)][_0x25c1d6(0x8ec)](_0x25c1d6(0x848)),_0x1a85a5=_0x582936['target'][_0x25c1d6(0x8ec)]('.edit-shortcut-btn'),_0x5cb42c=_0x582936['target'][_0x25c1d6(0x8ec)](_0x25c1d6(0xcca));if(_0x1a85a5)openShortcutEditor(_0x1a85a5['dataset']['id']);else{if(_0x5cb42c){const _0x601629=_0x5cb42c['dataset']['id'],_0x52b8e5=blueprintShortcuts['find'](_0x1f8e72=>_0x1f8e72['id']===_0x601629)?.[_0x25c1d6(0x1dc)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x52b8e5+'\x22?',async()=>{const _0x4bda46=_0x25c1d6,_0x821d90=blueprintShortcuts[_0x4bda46(0xbdf)](_0x447e2c=>_0x447e2c['id']!==_0x601629);try{const _0x2cc2ad=doc(db,_0x4bda46(0xe25),_0x4bda46(0x8b5));await setDoc(_0x2cc2ad,{'blueprintShortcuts':_0x821d90},{'merge':!![]});}catch(_0x355efc){console[_0x4bda46(0x3f8)](_0x4bda46(0x155),_0x355efc);}});}else _0xb319ab&&handleShortcutClick(_0xb319ab[_0x25c1d6(0x9ff)]['id']);}}),document['getElementById'](_0x29b051(0xa59))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>openShortcutEditor(null)),document['getElementById'](_0x29b051(0xb96))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x35f734=_0x29b051;document[_0x35f734(0x6e6)](_0x35f734(0xcfe))['classList'][_0x35f734(0x831)](_0x35f734(0xd60));}),document['getElementById']('save-shortcut-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),saveShortcutChanges),document[_0x29b051(0x6e6)](_0x29b051(0x5a8))[_0x29b051(0x49d)]('click',async()=>{const _0x4b22e1=_0x29b051,_0x21fdd1=document[_0x4b22e1(0x6e6)]('blueprint-upload-input'),_0x5e8cd8=document[_0x4b22e1(0x6e6)](_0x4b22e1(0xbd7));_0x21fdd1[_0x4b22e1(0x7ed)][_0x4b22e1(0x4f1)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x21fdd1['files'][0x0],_0x5e8cd8[_0x4b22e1(0x7ed)][0x0]||null):showMessage(_0x4b22e1(0xc6f));}),document[_0x29b051(0x6e6)](_0x29b051(0x2b9))[_0x29b051(0x49d)](_0x29b051(0xa6e),async _0x40c14a=>{const _0x4704af=_0x29b051,_0x2e5759=document[_0x4704af(0x6e6)](_0x4704af(0x2b9)),_0x41d983=_0x40c14a[_0x4704af(0x8ce)][_0x4704af(0x8ec)](_0x4704af(0x79b)),_0x4caee=_0x40c14a[_0x4704af(0x8ce)][_0x4704af(0x8ec)](_0x4704af(0x4bb)),_0x21b108=_0x40c14a[_0x4704af(0x8ce)]['closest'](_0x4704af(0xb0d)),_0x1b183a=_0x40c14a[_0x4704af(0x8ce)][_0x4704af(0x8ec)](_0x4704af(0xd86)),_0x3c2311=_0x40c14a[_0x4704af(0x8ce)][_0x4704af(0x8ec)](_0x4704af(0xd70)),_0x42fad3=_0x40c14a['target'][_0x4704af(0x8ec)](_0x4704af(0x711));if(_0x41d983){cameFromBlueprint=!![];const _0x3eb7e7=_0x41d983['dataset'][_0x4704af(0x769)];showQuizDetailView(_0x3eb7e7),_0x2e5759['classList'][_0x4704af(0x831)]('hidden');}else{if(_0x4caee){const _0x2fab1d=_0x4caee[_0x4704af(0x9ff)][_0x4704af(0x2e6)],_0x7eef3d=_0x4caee['dataset'][_0x4704af(0x769)],_0x187563=allQuizzesGlobal['find'](_0x162e9b=>_0x162e9b['id']===_0x7eef3d),_0x451926=_0x187563?_0x187563[_0x4704af(0x9ec)]:_0x4704af(0xd1d);showConfirmation(_0x4704af(0xe79)+_0x451926+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x281438=_0x4704af;try{const _0x551e3c=doc(db,'artifacts/'+appId+_0x281438(0x804),currentBlueprintProjectId);await updateDoc(_0x551e3c,{[_0x281438(0x691)+_0x2fab1d+'.linkedQuizIds']:arrayRemove(_0x7eef3d)}),showMessage(_0x281438(0xc52)),openTopicQuizBank(_0x2fab1d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x28a705){console[_0x281438(0x3f8)]('Error\x20unlinking\x20quiz:',_0x28a705),showMessage(_0x281438(0x28c));}});}else{if(_0x21b108){cameFromBlueprint=!![];const _0x25faa3=_0x21b108['dataset'][_0x4704af(0x769)],_0x3d01be=allQuizzesGlobal['find'](_0x5a3079=>_0x5a3079['id']===_0x25faa3);_0x3d01be&&(startPresentation(_0x3d01be),_0x2e5759[_0x4704af(0x3d9)][_0x4704af(0x831)](_0x4704af(0xd60)));}else{if(_0x1b183a){cameFromBlueprint=!![];const _0x23c5e4=_0x1b183a['dataset'][_0x4704af(0x769)],_0x1a51ab=allQuizzesGlobal[_0x4704af(0x8af)](_0x514556=>_0x514556['id']===_0x23c5e4);_0x1a51ab&&(currentQuizData=_0x1a51ab,startAdminTest(),_0x2e5759[_0x4704af(0x3d9)][_0x4704af(0x831)]('hidden'));}else{if(_0x3c2311)cameFromBlueprint=!![],handleStartLiveRace(_0x3c2311[_0x4704af(0x9ff)][_0x4704af(0x769)]),_0x2e5759[_0x4704af(0x3d9)]['add'](_0x4704af(0xd60));else{if(_0x42fad3){cameFromBlueprint=!![];const _0x17e499=_0x42fad3['dataset'][_0x4704af(0x769)],_0xe00e4c=_0x42fad3[_0x4704af(0x9ff)]['mode'],_0x5df1c5=allQuizzesGlobal['find'](_0x48323d=>_0x48323d['id']===_0x17e499);_0x5df1c5&&(showGameStartConfirmationModal(_0x17e499,_0xe00e4c,_0x5df1c5[_0x4704af(0x9ec)]),_0x2e5759[_0x4704af(0x3d9)][_0x4704af(0x831)](_0x4704af(0xd60)));}}}}}}}),document[_0x29b051(0x6e6)](_0x29b051(0x663))['addEventListener']('click',()=>{const _0x5ae57a=_0x29b051;document[_0x5ae57a(0x6e6)](_0x5ae57a(0x5eb))[_0x5ae57a(0x3d9)][_0x5ae57a(0xb00)](_0x5ae57a(0xd60)),document['getElementById'](_0x5ae57a(0x7cb))[_0x5ae57a(0xb2d)]='',document[_0x5ae57a(0x6e6)](_0x5ae57a(0x6d8))[_0x5ae57a(0xb2d)]='',document[_0x5ae57a(0x6e6)]('manual-bp-content')[_0x5ae57a(0xb2d)]='';}),document[_0x29b051(0x6e6)](_0x29b051(0x744))[_0x29b051(0x49d)]('click',()=>{const _0x5c93ee=_0x29b051;document[_0x5c93ee(0x6e6)](_0x5c93ee(0x5eb))['classList']['add'](_0x5c93ee(0xd60));}),document[_0x29b051(0x6e6)](_0x29b051(0xd6f))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleManualBlueprintSave),document[_0x29b051(0x6e6)](_0x29b051(0xc85))['addEventListener']('click',()=>document[_0x29b051(0x6e6)](_0x29b051(0xc4d))[_0x29b051(0x3d9)][_0x29b051(0x831)](_0x29b051(0xd60))),document[_0x29b051(0x6e6)](_0x29b051(0x26f))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleSaveBlueprintPageSettings),document['getElementById']('bp-quiz-settings-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')['addEventListener'](_0x29b051(0xa6e),saveBlueprintProject),document[_0x29b051(0x6e6)](_0x29b051(0x71b))[_0x29b051(0x49d)](_0x29b051(0xa6e),showBlueprintProjects),document[_0x29b051(0x6e6)](_0x29b051(0x8a7))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x57e4fd=_0x29b051;document[_0x57e4fd(0x6e6)]('blueprint-projects-modal')[_0x57e4fd(0x3d9)][_0x57e4fd(0x831)](_0x57e4fd(0xd60));}),document['getElementById'](_0x29b051(0x1af))['addEventListener'](_0x29b051(0xa6e),_0x12af59=>{const _0x331992=_0x29b051,_0x507e56=_0x12af59['target']['closest'](_0x331992(0x2bf)),_0x57f407=_0x12af59[_0x331992(0x8ce)][_0x331992(0x8ec)](_0x331992(0xc22));if(_0x507e56)displayBlueprintProjectManager(_0x507e56[_0x331992(0x9ff)]['id']);else _0x57f407&&handleDeepDeleteBlueprintProject(_0x57f407['dataset']['id']);}),document[_0x29b051(0x6e6)]('back-to-dashboard-from-bp-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x58adf8=_0x29b051;currentBlueprintProjectId=null,currentProjectId=null,document[_0x58adf8(0x6e6)]('blueprint-project-manager-view')[_0x58adf8(0x3d9)]['add'](_0x58adf8(0xd60)),showView('admin-dashboard');}),document['getElementById'](_0x29b051(0xcf5))[_0x29b051(0x49d)](_0x29b051(0xa6e),addTopicToProject),document['getElementById']('bp-topic-list-container')['addEventListener'](_0x29b051(0xa6e),async _0x2eaa85=>{const _0x62cc9=_0x29b051,_0x1bd248=_0x2eaa85['target'][_0x62cc9(0x8ec)](_0x62cc9(0xca1));if(!_0x1bd248)return;const _0x3e2898=_0x1bd248[_0x62cc9(0x9ff)][_0x62cc9(0x2e6)],_0x14b913=_0x2eaa85[_0x62cc9(0x8ce)][_0x62cc9(0x8ec)](_0x62cc9(0x5ac)),_0x36190c=_0x2eaa85[_0x62cc9(0x8ce)]['closest']('.bp-create-content-quiz-btn'),_0x165a11=_0x2eaa85[_0x62cc9(0x8ce)]['closest'](_0x62cc9(0x363)),_0x488793=_0x2eaa85['target']['closest'](_0x62cc9(0x2ed)),_0x2672be=_0x2eaa85[_0x62cc9(0x8ce)][_0x62cc9(0x8ec)]('.view-bp-lesson-btn'),_0x2d41b9=_0x2eaa85[_0x62cc9(0x8ce)][_0x62cc9(0x8ec)](_0x62cc9(0x2dd)),_0xbf3745=_0x2eaa85[_0x62cc9(0x8ce)]['closest']('.bp-edit-topic-btn'),_0x55c8a3=_0x2eaa85['target'][_0x62cc9(0x8ec)](_0x62cc9(0x78d)),_0x40e0d3=_0x3bd29b=>{const _0x146426=_0x62cc9,_0x375d11=_0x3bd29b[_0x146426(0x86d)](_0x146426(0xa44))['textContent'][_0x146426(0xc3f)](),_0x4e4e71=_0x3bd29b['closest']('.space-y-1.pl-4')[_0x146426(0xe92)],_0x25737d=_0x4e4e71?_0x4e4e71[_0x146426(0xb7b)][_0x146426(0xc3f)]():'';return _0x25737d+':\x20'+_0x375d11;};if(_0x488793)openTopicQuizBank(_0x3e2898);else{if(_0x14b913){const _0x540070=_0x40e0d3(_0x1bd248);selectProjectAndGenerateBlueprintQuiz(_0x540070,null,_0x3e2898,!![]);}else{if(_0x36190c){const _0x192edf=_0x40e0d3(_0x1bd248);try{const _0x273765=doc(db,'artifacts/'+appId+_0x62cc9(0x62e)+currentBlueprintProjectId+'/lessons',_0x3e2898),_0x5917f7=await getDoc(_0x273765);if(_0x5917f7[_0x62cc9(0x958)]()){const _0x488ec5=_0x5917f7[_0x62cc9(0x9cb)]()[_0x62cc9(0x23e)],_0x2abc9b=document[_0x62cc9(0x631)](_0x62cc9(0xbbc)),_0x1e5143=_0x3b7116=>{const _0x2fad9d=_0x62cc9;if(!_0x3b7116)return'';return _0x2abc9b['innerHTML']=_0x3b7116,_0x2abc9b[_0x2fad9d(0xb7b)]||_0x2abc9b[_0x2fad9d(0x87a)]||'';},_0x197f7e=(_0x1e5143(_0x488ec5[_0x62cc9(0xcc1)])+'\x20'+_0x1e5143(_0x488ec5['memory'])+'\x20'+_0x1e5143(_0x488ec5[_0x62cc9(0xa0b)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x192edf,_0x197f7e,_0x3e2898,![]);}else showMessage(_0x62cc9(0x9d4));}catch(_0x4b1678){console['error']('Error\x20preparing\x20content\x20quiz:',_0x4b1678),showMessage(_0x62cc9(0xcad));}}else{if(_0x165a11){const _0xff2266=_0x40e0d3(_0x1bd248);selectProjectAndGenerateBlueprintQuiz(_0xff2266,null,_0x3e2898,![]);}else{if(_0x2672be){const _0x2fb499=doc(db,'artifacts/'+appId+_0x62cc9(0x804),currentBlueprintProjectId),_0x373942=await getDoc(_0x2fb499);if(_0x373942[_0x62cc9(0x958)]()){const _0x3ad309=_0x373942[_0x62cc9(0x9cb)](),_0x58287b=_0x3ad309[_0x62cc9(0xcbb)][_0x3e2898];if(_0x58287b&&_0x58287b[_0x62cc9(0x626)]===_0x62cc9(0x716))try{const _0x44f262=doc(db,_0x62cc9(0x555)+appId+_0x62cc9(0x62e)+currentBlueprintProjectId+'/lessons',_0x3e2898),_0x56cd8a=await getDoc(_0x44f262);if(_0x56cd8a[_0x62cc9(0x958)]()){const _0x13f07a=_0x56cd8a[_0x62cc9(0x9cb)]()['content'];document[_0x62cc9(0x6e6)](_0x62cc9(0x4df))[_0x62cc9(0xb7b)]='บทเรียนเรื่อง:\x20'+_0x40e0d3(_0x1bd248),document[_0x62cc9(0x6e6)](_0x62cc9(0x813))[_0x62cc9(0xa19)]=_0x13f07a[_0x62cc9(0xcc1)],document[_0x62cc9(0x6e6)](_0x62cc9(0x371))[_0x62cc9(0xa19)]=_0x13f07a['memory'],document['getElementById'](_0x62cc9(0x89c))['innerHTML']=_0x13f07a['summary'];const _0x2f1995=document['getElementById'](_0x62cc9(0x872));_0x13f07a[_0x62cc9(0x1c4)]?(currentApplicationData=_0x13f07a['applicationData'],_0x2f1995[_0x62cc9(0xa19)]=currentApplicationData['map']((_0x18df9d,_0x3e3af7)=>_0x62cc9(0xab1)+(_0x3e3af7+0x1)+'.\x20'+marked[_0x62cc9(0x8e9)](_0x18df9d[_0x62cc9(0x195)])+_0x62cc9(0xa49)+_0x3e3af7+_0x62cc9(0x56d)+_0x18df9d[_0x62cc9(0x4ff)][_0x62cc9(0x23a)]((_0xdf148d,_0x21a710)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x3e3af7+',\x20'+_0x21a710+_0x62cc9(0xd73)+String[_0x62cc9(0xe2c)](0x61+_0x21a710)+'.\x20'+marked[_0x62cc9(0x8e9)](_0xdf148d)+'</button>')[_0x62cc9(0x975)]('')+'</div></div>')['join']('')):(currentApplicationData=[],_0x2f1995[_0x62cc9(0xa19)]=_0x13f07a[_0x62cc9(0xaa7)]||_0x13f07a[_0x62cc9(0x233)]),document[_0x62cc9(0x6e6)](_0x62cc9(0x192))['classList'][_0x62cc9(0x831)](_0x62cc9(0xd60)),document['getElementById'](_0x62cc9(0x20f))[_0x62cc9(0x3d9)][_0x62cc9(0xb00)]('hidden'),document[_0x62cc9(0x6e6)](_0x62cc9(0xa68))[_0x62cc9(0x3d9)]['remove'](_0x62cc9(0xd60)),window[_0x62cc9(0x19c)]&&MathJax[_0x62cc9(0xc6e)]([document['getElementById'](_0x62cc9(0x7bf))]);}else showMessage(_0x62cc9(0x58a));}catch(_0x72910f){console[_0x62cc9(0x3f8)]('Error\x20fetching\x20lesson\x20content:',_0x72910f),showMessage(_0x62cc9(0x7ae));}else showMessage(_0x62cc9(0x840));}}else{if(_0x2d41b9){const _0x42be0f=_0x40e0d3(_0x1bd248),_0x282aa7=doc(db,_0x62cc9(0x555)+appId+_0x62cc9(0x804),currentBlueprintProjectId),_0x3e6440=await getDoc(_0x282aa7);if(_0x3e6440[_0x62cc9(0x958)]()){const _0x21e826=_0x3e6440[_0x62cc9(0x9cb)]();generateAndSaveLessonForBlueprint(_0x3e2898,_0x42be0f,_0x21e826[_0x62cc9(0x405)]);}}else{if(_0xbf3745)editTopicInProject(_0x3e2898);else _0x55c8a3&&deleteTopicFromProject(_0x3e2898);}}}}}}}),document[_0x29b051(0x6e6)](_0x29b051(0x44a))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleFixLessonLatex),document[_0x29b051(0x6e6)](_0x29b051(0x9c1))['addEventListener'](_0x29b051(0xa6e),handleExportLessonToPDF),document['getElementById'](_0x29b051(0xb90))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x343dd5=_0x29b051;document[_0x343dd5(0x6e6)](_0x343dd5(0xa68))[_0x343dd5(0x3d9)][_0x343dd5(0x831)](_0x343dd5(0xd60));});const _0x13fddc=document[_0x29b051(0x6e6)]('bulk-confidence-scoring-checkbox'),_0x438e86=document[_0x29b051(0x6e6)](_0x29b051(0x2c2));_0x13fddc[_0x29b051(0x49d)](_0x29b051(0x538),()=>{const _0x21c3f8=_0x29b051;_0x438e86[_0x21c3f8(0x3d9)][_0x21c3f8(0x117)](_0x21c3f8(0xd60),!_0x13fddc['checked']);});const _0x34c2b1=document[_0x29b051(0x6e6)]('confidence-scoring-checkbox'),_0x2cf022=document['getElementById'](_0x29b051(0x457));_0x34c2b1[_0x29b051(0x49d)]('change',()=>{const _0xf24903=_0x29b051;_0x2cf022[_0xf24903(0x3d9)][_0xf24903(0x117)](_0xf24903(0xd60),!_0x34c2b1[_0xf24903(0x3a6)]);});const _0x21c194=document[_0x29b051(0x6e6)](_0x29b051(0x48f)),_0x108df4=document[_0x29b051(0x6e6)](_0x29b051(0xacd));_0x21c194[_0x29b051(0x49d)](_0x29b051(0x538),()=>{const _0x406602=_0x29b051;_0x108df4[_0x406602(0x3d9)][_0x406602(0x117)](_0x406602(0xd60),!_0x21c194['checked']);});const _0x52b76c=document['getElementById']('confidence-modal'),_0x5eb7d1=async _0x2d2062=>{const _0x55e047=_0x29b051,_0x47c381=document[_0x55e047(0x6e6)]('confidence-modal'),_0x1732dc=_0x47c381['dataset'][_0x55e047(0x2de)],_0xa4c7d3=document[_0x55e047(0x6e6)]('selected-answer-index-hidden');_0x47c381[_0x55e047(0x3d9)][_0x55e047(0x831)](_0x55e047(0xd60));if(_0x1732dc===_0x55e047(0xe2e)){const _0x8a316d=_0xa4c7d3[_0x55e047(0xb2d)],_0x36ebdb={'answer':_0x8a316d,'wasConfident':_0x2d2062};proceedToNextQuestion(_0x36ebdb);}else{if(_0x1732dc===_0x55e047(0x6d3)){const _0x3787d3=_0xa4c7d3[_0x55e047(0x9ff)][_0x55e047(0x409)],_0x25093b=JSON[_0x55e047(0x110)](_0xa4c7d3[_0x55e047(0x9ff)][_0x55e047(0x195)]),_0x44adc7=JSON[_0x55e047(0x110)](_0xa4c7d3[_0x55e047(0x9ff)][_0x55e047(0xb1a)]),_0x589c2e=_0xa4c7d3[_0x55e047(0x9ff)][_0x55e047(0xcb8)];handleSyncAnswerSubmit(_0x3787d3,_0x25093b,_0x44adc7,_0x589c2e,_0x2d2062);}}_0x47c381[_0x55e047(0x9ff)][_0x55e047(0x2de)]='';};document[_0x29b051(0x6e6)](_0x29b051(0x527))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>_0x5eb7d1(!![])),document[_0x29b051(0x6e6)](_0x29b051(0xc83))['addEventListener'](_0x29b051(0xa6e),()=>_0x5eb7d1(![])),liveGameView[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x1c0f39=>{const _0x22f21e=_0x29b051,_0x25bcfb=_0x1c0f39[_0x22f21e(0x8ce)]['closest'](_0x22f21e(0x6dc));if(_0x25bcfb){const _0x30fdfb=_0x25bcfb[_0x22f21e(0x9ff)][_0x22f21e(0xcb8)];_0x30fdfb&&handleKickPlayerSync(_0x30fdfb);}});const _0x1c37d4=document[_0x29b051(0x6e6)](_0x29b051(0x1c6)),_0x149303=document['getElementById'](_0x29b051(0xb8d));_0x149303[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x5747e5=_0x29b051;document[_0x5747e5(0x6e6)](_0x5747e5(0x3c8))[_0x5747e5(0x3d9)][_0x5747e5(0x831)](_0x5747e5(0xd60));}),_0x1c37d4['addEventListener'](_0x29b051(0xa6e),()=>{const _0x45f158=_0x29b051,_0x22191a=document[_0x45f158(0x6e6)]('game-start-quiz-id')[_0x45f158(0xb2d)],_0x37485a=document[_0x45f158(0x6e6)](_0x45f158(0x5bc))['value'],_0x20fdad=document['getElementById']('save-game-results-checkbox')['checked'];document[_0x45f158(0x6e6)](_0x45f158(0x3c8))[_0x45f158(0x3d9)][_0x45f158(0x831)](_0x45f158(0xd60));switch(_0x37485a){case'live-race':handleStartLiveRace(_0x22191a,_0x20fdad);break;case _0x45f158(0x788):handleStartTeamQuiz(_0x22191a,_0x20fdad);break;case _0x45f158(0x664):handleStartGroupMode(_0x22191a,_0x20fdad);break;case'sync':const _0x164b53=document[_0x45f158(0x86d)]('input[name=\x22syncVariant\x22]:checked')[_0x45f158(0xb2d)]||_0x45f158(0xd75);handleStartSyncMode(_0x22191a,_0x20fdad,_0x164b53);break;}}),document[_0x29b051(0x6e6)]('join-group-activity-btn')['addEventListener']('click',handleJoinGroupActivity),liveGameView[_0x29b051(0x49d)]('click',_0x4c58c2=>{const _0x554f5a=_0x29b051,_0x4eba73=_0x4c58c2[_0x554f5a(0x8ce)]['closest'](_0x554f5a(0x8f5));document[_0x554f5a(0x2c3)](_0x554f5a(0x9b1))[_0x554f5a(0xbf2)](_0x16eaae=>{const _0x5c9039=_0x554f5a;(!_0x4eba73||_0x16eaae['id']!==_0x4eba73[_0x5c9039(0x9ff)][_0x5c9039(0x3d4)])&&_0x16eaae[_0x5c9039(0x3d9)][_0x5c9039(0xb00)]('visible');});if(!_0x4eba73)return;const _0x3a0239=_0x4eba73[_0x554f5a(0x9ff)]['tooltipTarget'],_0x5e76fe=document[_0x554f5a(0x6e6)](_0x3a0239);_0x5e76fe&&_0x5e76fe[_0x554f5a(0x3d9)][_0x554f5a(0x117)](_0x554f5a(0xd59));}),liveGameView[_0x29b051(0x49d)](_0x29b051(0xa6e),_0xd440c2=>{const _0x3ed2d8=_0x29b051;if(_0xd440c2[_0x3ed2d8(0x8ce)][_0x3ed2d8(0x3d9)][_0x3ed2d8(0x124)](_0x3ed2d8(0x659))){const _0x1af093=_0xd440c2[_0x3ed2d8(0x8ce)]['dataset'][_0x3ed2d8(0xcb8)];_0x1af093&&handleKickPlayer(_0x1af093);}}),document[_0x29b051(0x6e6)](_0x29b051(0xa82))[_0x29b051(0x49d)](_0x29b051(0xbb9),()=>document[_0x29b051(0x6e6)](_0x29b051(0x7a8))[_0x29b051(0x3d9)][_0x29b051(0xb00)]('hidden')),document[_0x29b051(0x6e6)](_0x29b051(0x7a8))['addEventListener'](_0x29b051(0xa6e),handleSaveProjectName),document[_0x29b051(0x6e6)](_0x29b051(0xa82))['addEventListener'](_0x29b051(0x345),_0x258a07=>{const _0x17788d=_0x29b051;_0x258a07[_0x17788d(0x624)]==='Enter'&&(_0x258a07[_0x17788d(0x266)](),_0x258a07['target'][_0x17788d(0x261)](),handleSaveProjectName());}),document[_0x29b051(0x6e6)]('bulk-quiz-settings-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0xb7d529=_0x29b051;document[_0xb7d529(0x6e6)](_0xb7d529(0xb6f))['classList'][_0xb7d529(0xb00)](_0xb7d529(0xd60));}),document['getElementById'](_0x29b051(0x9ae))[_0x29b051(0x49d)]('click',()=>{const _0x2ec0aa=_0x29b051;document[_0x2ec0aa(0x6e6)](_0x2ec0aa(0xb6f))[_0x2ec0aa(0x3d9)]['add'](_0x2ec0aa(0xd60));}),document[_0x29b051(0x6e6)](_0x29b051(0x393))['addEventListener'](_0x29b051(0xa6e),handleBulkUpdateQuizSettings),document['getElementById'](_0x29b051(0x99b))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleModeSwitch),document[_0x29b051(0x6e6)](_0x29b051(0xaa9))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleUpdateOldQuizzes),document[_0x29b051(0x6e6)](_0x29b051(0x644))['addEventListener'](_0x29b051(0xa6e),handleResetProjectOrder),document[_0x29b051(0x6e6)](_0x29b051(0xb92))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleSaveVisibilitySettings),document[_0x29b051(0x6e6)](_0x29b051(0x352))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleAddCustomMathTopic),document[_0x29b051(0x6e6)](_0x29b051(0xcc9))['addEventListener'](_0x29b051(0xa6e),handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),handleDeselectAllTopics),document[_0x29b051(0x6e6)](_0x29b051(0x22f))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x163f51=_0x29b051;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x163f51(0xdd6));}}),document[_0x29b051(0x6e6)](_0x29b051(0x9bd))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x22d1df=_0x29b051;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x22d1df(0x356));}}),document[_0x29b051(0x6e6)](_0x29b051(0xa92))[_0x29b051(0x49d)]('click',()=>{showView('admin-dashboard');}),document['getElementById'](_0x29b051(0xb7c))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x2c54fc=_0x29b051;messageModal[_0x2c54fc(0x3d9)][_0x2c54fc(0x831)](_0x2c54fc(0xd60)),typeof modalConfirmAction===_0x2c54fc(0xba1)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x29b051(0x6e6)](_0x29b051(0xa32))['addEventListener'](_0x29b051(0xa6e),()=>createProjectModal[_0x29b051(0x3d9)][_0x29b051(0xb00)](_0x29b051(0xd60))),document[_0x29b051(0x6e6)](_0x29b051(0x859))['addEventListener']('click',()=>createProjectModal[_0x29b051(0x3d9)][_0x29b051(0x831)](_0x29b051(0xd60))),document['getElementById'](_0x29b051(0x8fe))[_0x29b051(0x49d)]('click',()=>adminPasswordModal[_0x29b051(0x3d9)][_0x29b051(0x831)](_0x29b051(0xd60))),document[_0x29b051(0x6e6)](_0x29b051(0x46e))[_0x29b051(0x49d)]('click',handleAdminLogin),document[_0x29b051(0x6e6)](_0x29b051(0xc24))[_0x29b051(0x49d)](_0x29b051(0x822),_0x47e231=>{const _0x53ec90=_0x29b051;if(_0x47e231['key']===_0x53ec90(0x2be))handleAdminLogin();}),document[_0x29b051(0x6e6)](_0x29b051(0x19d))[_0x29b051(0x49d)]('click',()=>{const _0x3492c8=_0x29b051;confirmationModal[_0x3492c8(0x3d9)][_0x3492c8(0x831)](_0x3492c8(0xd60)),typeof cancelAction===_0x3492c8(0xba1)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x29b051(0x6a7))['addEventListener']('click',()=>{const _0x2896ab=_0x29b051;confirmAction&&confirmAction(),confirmationModal[_0x2896ab(0x3d9)][_0x2896ab(0x831)](_0x2896ab(0xd60)),confirmAction=null,cancelAction=null;}),document[_0x29b051(0x6e6)](_0x29b051(0xa99))[_0x29b051(0x49d)]('click',()=>renameQuizModal[_0x29b051(0x3d9)]['add'](_0x29b051(0xd60))),document[_0x29b051(0x6e6)](_0x29b051(0xbdb))[_0x29b051(0x49d)]('click',confirmRenameQuiz),document[_0x29b051(0x6e6)](_0x29b051(0x130))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>moveQuizModal[_0x29b051(0x3d9)][_0x29b051(0x831)](_0x29b051(0xd60))),document[_0x29b051(0x6e6)](_0x29b051(0xd40))[_0x29b051(0x49d)](_0x29b051(0xa6e),confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>quizSettingsModal[_0x29b051(0x3d9)][_0x29b051(0x831)]('hidden')),document[_0x29b051(0x6e6)](_0x29b051(0x36b))[_0x29b051(0x49d)](_0x29b051(0xa6e),confirmQuizSettings),document[_0x29b051(0x6e6)]('cancel-quiz-status-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>quizStatusModal[_0x29b051(0x3d9)][_0x29b051(0x831)](_0x29b051(0xd60))),document[_0x29b051(0x6e6)](_0x29b051(0xdc7))[_0x29b051(0x49d)]('click',confirmQuizStatus);const _0x100256=document[_0x29b051(0x6e6)]('export-pdf-modal');document['getElementById'](_0x29b051(0x917))[_0x29b051(0x49d)]('click',()=>{const _0x119e40=_0x29b051;_0x100256['classList'][_0x119e40(0x831)](_0x119e40(0xd60));}),document[_0x29b051(0x6e6)]('export-compact-pdf-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),async()=>{const _0x812efa=_0x29b051,_0x1a7b1e=allQuizzes[_0x812efa(0x8af)](_0x3510f3=>_0x3510f3['id']===actionTargetId);_0x1a7b1e?(currentQuizData=_0x1a7b1e,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x100256[_0x812efa(0x3d9)]['add'](_0x812efa(0xd60));}),document['getElementById'](_0x29b051(0x119))[_0x29b051(0x49d)](_0x29b051(0xa6e),async()=>{const _0x1197f5=_0x29b051,_0x49977b=allQuizzes[_0x1197f5(0x8af)](_0x3191e0=>_0x3191e0['id']===actionTargetId);_0x49977b?(currentQuizData=_0x49977b,exportQuizAsTutorPDF()):showMessage(_0x1197f5(0x76c)),_0x100256[_0x1197f5(0x3d9)][_0x1197f5(0x831)](_0x1197f5(0xd60));});const _0x553227=document[_0x29b051(0x6e6)](_0x29b051(0x26a));_0x553227[_0x29b051(0xa19)]=_0x29b051(0x187),_0x553227['addEventListener'](_0x29b051(0xa6e),openGlobalActivityModal),document[_0x29b051(0x6e6)](_0x29b051(0x2cf))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x3706a3=_0x29b051;document[_0x3706a3(0x6e6)]('global-activity-modal')[_0x3706a3(0x3d9)][_0x3706a3(0x831)](_0x3706a3(0xd60));}),document['getElementById'](_0x29b051(0xc92))['addEventListener'](_0x29b051(0x2e8),_0x159b73=>{const _0xffb4b1=_0x29b051;renderGlobalActivityList(_0x159b73['target'][_0xffb4b1(0xb2d)]);}),document[_0x29b051(0x6e6)](_0x29b051(0xe0c))['addEventListener']('click',_0x43214b=>{const _0x45c746=_0x29b051,_0x288f6c=_0x43214b['target'][_0x45c746(0x8ec)]('.game-start-btn');if(!_0x288f6c)return;const _0x3e0c58=_0x288f6c[_0x45c746(0x9ff)]['id'],_0x43d26e=_0x288f6c[_0x45c746(0x9ff)][_0x45c746(0x9d8)],_0x1e57fd=allQuizzesGlobal['find'](_0x56a022=>_0x56a022['id']===_0x3e0c58);_0x1e57fd&&(document[_0x45c746(0x6e6)](_0x45c746(0x9dc))[_0x45c746(0x3d9)][_0x45c746(0x831)](_0x45c746(0xd60)),_0x43d26e===_0x45c746(0x25b)?handleStartLiveRace(_0x3e0c58):showGameStartConfirmationModal(_0x3e0c58,_0x43d26e,_0x1e57fd[_0x45c746(0x9ec)]));}),document['getElementById']('project-search-input')[_0x29b051(0x49d)](_0x29b051(0x2e8),renderProjects),document[_0x29b051(0x6e6)](_0x29b051(0x440))[_0x29b051(0x49d)]('change',async()=>{const _0x5e52f4=_0x29b051,_0x281539=document[_0x5e52f4(0x6e6)](_0x5e52f4(0x440))[_0x5e52f4(0xb2d)],_0x3d0dce=doc(db,'globalSettings',_0x5e52f4(0x8b5));try{await setDoc(_0x3d0dce,{'projectSort':_0x281539},{'merge':!![]});}catch(_0x2162ed){console[_0x5e52f4(0x3f8)]('Error\x20updating\x20sort\x20preference:',_0x2162ed),showMessage(_0x5e52f4(0x2f9));}}),document[_0x29b051(0x6e6)](_0x29b051(0x115))[_0x29b051(0x49d)](_0x29b051(0x2e8),renderQuizzes),document[_0x29b051(0x6e6)]('grid-view-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x586932=_0x29b051;globalDashboardSettings[_0x586932(0x610)]='grid',saveUserPreference(_0x586932(0x610),_0x586932(0x6c5)),renderProjects();}),document[_0x29b051(0x6e6)](_0x29b051(0xdc9))[_0x29b051(0x49d)]('click',()=>{const _0x15d16f=_0x29b051;globalDashboardSettings[_0x15d16f(0x610)]='list',saveUserPreference('projectView',_0x15d16f(0xd36)),renderProjects();}),manageTab[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>switchProjectTab(_0x29b051(0x7f0))),resultsTab[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>switchProjectTab(_0x29b051(0x354))),leaderboardTab[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>switchProjectTab(_0x29b051(0x8bb))),document[_0x29b051(0x6e6)](_0x29b051(0x43f))[_0x29b051(0x49d)]('click',()=>switchQuizDetailTab(_0x29b051(0x2ee))),document[_0x29b051(0x6e6)](_0x29b051(0x35e))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>switchQuizDetailTab(_0x29b051(0xe1c))),document[_0x29b051(0x6e6)](_0x29b051(0x6cd))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>switchQuizDetailTab(_0x29b051(0xe7b))),document[_0x29b051(0x6e6)](_0x29b051(0x617))['addEventListener'](_0x29b051(0xa6e),()=>switchQuizDetailTab('behavior-log')),document[_0x29b051(0x6e6)](_0x29b051(0x3b0))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleAnalyzeClass),generateWorksheetBtn[_0x29b051(0x49d)]('click',generateWorksheet);const _0x3241ea=document[_0x29b051(0x6e6)](_0x29b051(0x9a7)),_0x4c8c83=document[_0x29b051(0x6e6)](_0x29b051(0xcab)),_0x5612f5=document[_0x29b051(0x6e6)](_0x29b051(0xc9e)),_0x26164d=document[_0x29b051(0x6e6)](_0x29b051(0xd3f)),_0xdec09a=document['getElementById'](_0x29b051(0xaae)),_0x4efb46=document[_0x29b051(0x6e6)](_0x29b051(0x387));topicTab[_0x29b051(0x49d)]('click',()=>{const _0xdf15df=_0x29b051;topicTab[_0xdf15df(0x3d9)][_0xdf15df(0x831)](_0xdf15df(0x797)),textTab[_0xdf15df(0x3d9)][_0xdf15df(0xb00)]('active'),fileTab[_0xdf15df(0x3d9)][_0xdf15df(0xb00)](_0xdf15df(0x797)),worksheetTab[_0xdf15df(0x3d9)][_0xdf15df(0xb00)]('active');if(_0x3241ea)_0x3241ea[_0xdf15df(0x3d9)][_0xdf15df(0xb00)](_0xdf15df(0x797));if(_0x5612f5)_0x5612f5[_0xdf15df(0x3d9)][_0xdf15df(0xb00)](_0xdf15df(0x797));if(_0xdec09a)_0xdec09a[_0xdf15df(0x3d9)]['remove'](_0xdf15df(0x797));topicInputArea['classList'][_0xdf15df(0xb00)](_0xdf15df(0xd60)),textInputArea['classList'][_0xdf15df(0x831)](_0xdf15df(0xd60)),fileInputArea[_0xdf15df(0x3d9)][_0xdf15df(0x831)](_0xdf15df(0xd60)),worksheetInputArea[_0xdf15df(0x3d9)][_0xdf15df(0x831)](_0xdf15df(0xd60));if(_0x4c8c83)_0x4c8c83[_0xdf15df(0x3d9)][_0xdf15df(0x831)](_0xdf15df(0xd60));if(_0x26164d)_0x26164d[_0xdf15df(0x3d9)][_0xdf15df(0x831)](_0xdf15df(0xd60));if(_0x4efb46)_0x4efb46[_0xdf15df(0x3d9)]['add'](_0xdf15df(0xd60));}),textTab['addEventListener']('click',()=>{const _0x13cdf7=_0x29b051;textTab[_0x13cdf7(0x3d9)][_0x13cdf7(0x831)]('active'),topicTab[_0x13cdf7(0x3d9)][_0x13cdf7(0xb00)](_0x13cdf7(0x797)),fileTab[_0x13cdf7(0x3d9)]['remove'](_0x13cdf7(0x797)),worksheetTab['classList'][_0x13cdf7(0xb00)](_0x13cdf7(0x797));if(_0x3241ea)_0x3241ea['classList']['remove'](_0x13cdf7(0x797));if(_0x5612f5)_0x5612f5[_0x13cdf7(0x3d9)][_0x13cdf7(0xb00)](_0x13cdf7(0x797));if(_0xdec09a)_0xdec09a[_0x13cdf7(0x3d9)][_0x13cdf7(0xb00)](_0x13cdf7(0x797));textInputArea['classList'][_0x13cdf7(0xb00)]('hidden'),topicInputArea[_0x13cdf7(0x3d9)][_0x13cdf7(0x831)](_0x13cdf7(0xd60)),fileInputArea[_0x13cdf7(0x3d9)][_0x13cdf7(0x831)](_0x13cdf7(0xd60)),worksheetInputArea['classList']['add'](_0x13cdf7(0xd60));if(_0x4c8c83)_0x4c8c83[_0x13cdf7(0x3d9)][_0x13cdf7(0x831)](_0x13cdf7(0xd60));if(_0x26164d)_0x26164d[_0x13cdf7(0x3d9)][_0x13cdf7(0x831)](_0x13cdf7(0xd60));if(_0x4efb46)_0x4efb46[_0x13cdf7(0x3d9)]['add'](_0x13cdf7(0xd60));}),fileTab[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x39b756=_0x29b051;fileTab[_0x39b756(0x3d9)][_0x39b756(0x831)](_0x39b756(0x797)),topicTab['classList'][_0x39b756(0xb00)](_0x39b756(0x797)),textTab[_0x39b756(0x3d9)][_0x39b756(0xb00)]('active'),worksheetTab[_0x39b756(0x3d9)][_0x39b756(0xb00)](_0x39b756(0x797));if(_0x3241ea)_0x3241ea[_0x39b756(0x3d9)][_0x39b756(0xb00)]('active');if(_0x5612f5)_0x5612f5['classList'][_0x39b756(0xb00)](_0x39b756(0x797));if(_0xdec09a)_0xdec09a['classList']['remove'](_0x39b756(0x797));fileInputArea[_0x39b756(0x3d9)][_0x39b756(0xb00)]('hidden'),topicInputArea[_0x39b756(0x3d9)]['add'](_0x39b756(0xd60)),textInputArea['classList'][_0x39b756(0x831)](_0x39b756(0xd60)),worksheetInputArea[_0x39b756(0x3d9)][_0x39b756(0x831)]('hidden');if(_0x4c8c83)_0x4c8c83['classList'][_0x39b756(0x831)](_0x39b756(0xd60));if(_0x26164d)_0x26164d[_0x39b756(0x3d9)][_0x39b756(0x831)](_0x39b756(0xd60));if(_0x4efb46)_0x4efb46[_0x39b756(0x3d9)][_0x39b756(0x831)](_0x39b756(0xd60));}),worksheetTab[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x31d63b=_0x29b051;worksheetTab[_0x31d63b(0x3d9)]['add']('active'),topicTab[_0x31d63b(0x3d9)][_0x31d63b(0xb00)]('active'),textTab[_0x31d63b(0x3d9)][_0x31d63b(0xb00)](_0x31d63b(0x797)),fileTab[_0x31d63b(0x3d9)][_0x31d63b(0xb00)](_0x31d63b(0x797));if(_0x3241ea)_0x3241ea[_0x31d63b(0x3d9)][_0x31d63b(0xb00)](_0x31d63b(0x797));if(_0x5612f5)_0x5612f5[_0x31d63b(0x3d9)][_0x31d63b(0xb00)](_0x31d63b(0x797));if(_0xdec09a)_0xdec09a[_0x31d63b(0x3d9)][_0x31d63b(0xb00)](_0x31d63b(0x797));worksheetInputArea[_0x31d63b(0x3d9)][_0x31d63b(0xb00)](_0x31d63b(0xd60)),topicInputArea[_0x31d63b(0x3d9)][_0x31d63b(0x831)](_0x31d63b(0xd60)),textInputArea['classList'][_0x31d63b(0x831)](_0x31d63b(0xd60)),fileInputArea[_0x31d63b(0x3d9)][_0x31d63b(0x831)](_0x31d63b(0xd60));if(_0x4c8c83)_0x4c8c83[_0x31d63b(0x3d9)][_0x31d63b(0x831)](_0x31d63b(0xd60));if(_0x26164d)_0x26164d[_0x31d63b(0x3d9)][_0x31d63b(0x831)]('hidden');if(_0x4efb46)_0x4efb46[_0x31d63b(0x3d9)][_0x31d63b(0x831)]('hidden');});const _0x4fab24=document[_0x29b051(0x6e6)](_0x29b051(0x753)),_0xf17353=document[_0x29b051(0x6e6)]('bank-input-area');_0x4fab24&&_0x4fab24[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x463cd3=_0x29b051;topicTab[_0x463cd3(0x3d9)][_0x463cd3(0xb00)]('active'),textTab[_0x463cd3(0x3d9)][_0x463cd3(0xb00)]('active'),fileTab[_0x463cd3(0x3d9)]['remove'](_0x463cd3(0x797)),worksheetTab[_0x463cd3(0x3d9)]['remove'](_0x463cd3(0x797));if(_0x3241ea)_0x3241ea[_0x463cd3(0x3d9)][_0x463cd3(0xb00)](_0x463cd3(0x797));if(_0x5612f5)_0x5612f5['classList'][_0x463cd3(0xb00)]('active');if(_0xdec09a)_0xdec09a[_0x463cd3(0x3d9)][_0x463cd3(0xb00)](_0x463cd3(0x797));_0x4fab24['classList'][_0x463cd3(0x831)](_0x463cd3(0x797)),topicInputArea[_0x463cd3(0x3d9)][_0x463cd3(0x831)](_0x463cd3(0xd60)),textInputArea[_0x463cd3(0x3d9)]['add']('hidden'),fileInputArea[_0x463cd3(0x3d9)]['add'](_0x463cd3(0xd60)),worksheetInputArea[_0x463cd3(0x3d9)][_0x463cd3(0x831)]('hidden');if(_0x4c8c83)_0x4c8c83[_0x463cd3(0x3d9)][_0x463cd3(0x831)]('hidden');if(_0x26164d)_0x26164d[_0x463cd3(0x3d9)][_0x463cd3(0x831)](_0x463cd3(0xd60));if(_0x4efb46)_0x4efb46[_0x463cd3(0x3d9)][_0x463cd3(0x831)](_0x463cd3(0xd60));_0xf17353[_0x463cd3(0x3d9)][_0x463cd3(0xb00)](_0x463cd3(0xd60)),displayQuestionBank();});_0x3241ea&&(_0x3241ea[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x4da415=_0x29b051;_0x3241ea['classList'][_0x4da415(0x831)](_0x4da415(0x797)),topicTab[_0x4da415(0x3d9)]['remove'](_0x4da415(0x797)),textTab[_0x4da415(0x3d9)]['remove'](_0x4da415(0x797)),fileTab[_0x4da415(0x3d9)]['remove'](_0x4da415(0x797)),worksheetTab[_0x4da415(0x3d9)][_0x4da415(0xb00)]('active');if(_0x5612f5)_0x5612f5[_0x4da415(0x3d9)]['remove'](_0x4da415(0x797));if(_0xdec09a)_0xdec09a[_0x4da415(0x3d9)][_0x4da415(0xb00)](_0x4da415(0x797));_0x4c8c83[_0x4da415(0x3d9)][_0x4da415(0xb00)]('hidden'),topicInputArea['classList'][_0x4da415(0x831)](_0x4da415(0xd60)),textInputArea['classList'][_0x4da415(0x831)](_0x4da415(0xd60)),fileInputArea[_0x4da415(0x3d9)][_0x4da415(0x831)](_0x4da415(0xd60)),worksheetInputArea['classList'][_0x4da415(0x831)](_0x4da415(0xd60));if(_0x26164d)_0x26164d['classList'][_0x4da415(0x831)](_0x4da415(0xd60));if(_0x4efb46)_0x4efb46[_0x4da415(0x3d9)][_0x4da415(0x831)](_0x4da415(0xd60));}),document['getElementById'](_0x29b051(0x1e4))['addEventListener'](_0x29b051(0xa6e),handleGenerateFromLink));_0x5612f5&&_0x5612f5[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x3a6017=_0x29b051;_0x5612f5[_0x3a6017(0x3d9)]['add']('active'),topicTab[_0x3a6017(0x3d9)][_0x3a6017(0xb00)](_0x3a6017(0x797)),textTab['classList'][_0x3a6017(0xb00)](_0x3a6017(0x797)),fileTab[_0x3a6017(0x3d9)][_0x3a6017(0xb00)](_0x3a6017(0x797)),worksheetTab[_0x3a6017(0x3d9)][_0x3a6017(0xb00)](_0x3a6017(0x797));if(_0x3241ea)_0x3241ea[_0x3a6017(0x3d9)][_0x3a6017(0xb00)](_0x3a6017(0x797));if(_0x4fab24)_0x4fab24[_0x3a6017(0x3d9)][_0x3a6017(0xb00)](_0x3a6017(0x797));if(_0xdec09a)_0xdec09a[_0x3a6017(0x3d9)][_0x3a6017(0xb00)]('active');_0x26164d[_0x3a6017(0x3d9)][_0x3a6017(0xb00)](_0x3a6017(0xd60)),topicInputArea[_0x3a6017(0x3d9)][_0x3a6017(0x831)](_0x3a6017(0xd60)),textInputArea[_0x3a6017(0x3d9)][_0x3a6017(0x831)](_0x3a6017(0xd60)),fileInputArea[_0x3a6017(0x3d9)][_0x3a6017(0x831)](_0x3a6017(0xd60)),worksheetInputArea[_0x3a6017(0x3d9)][_0x3a6017(0x831)](_0x3a6017(0xd60));if(_0x4c8c83)_0x4c8c83[_0x3a6017(0x3d9)][_0x3a6017(0x831)](_0x3a6017(0xd60));if(_0xf17353)_0xf17353[_0x3a6017(0x3d9)][_0x3a6017(0x831)](_0x3a6017(0xd60));if(_0x4efb46)_0x4efb46[_0x3a6017(0x3d9)][_0x3a6017(0x831)]('hidden');});_0xdec09a&&_0xdec09a[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x3d7ea7=_0x29b051;_0xdec09a[_0x3d7ea7(0x3d9)]['add'](_0x3d7ea7(0x797)),topicTab[_0x3d7ea7(0x3d9)][_0x3d7ea7(0xb00)](_0x3d7ea7(0x797)),textTab['classList']['remove']('active'),fileTab[_0x3d7ea7(0x3d9)]['remove'](_0x3d7ea7(0x797)),worksheetTab['classList'][_0x3d7ea7(0xb00)]('active');if(_0x3241ea)_0x3241ea[_0x3d7ea7(0x3d9)]['remove'](_0x3d7ea7(0x797));if(_0x5612f5)_0x5612f5['classList'][_0x3d7ea7(0xb00)](_0x3d7ea7(0x797));if(_0x4fab24)_0x4fab24[_0x3d7ea7(0x3d9)]['remove'](_0x3d7ea7(0x797));_0x4efb46[_0x3d7ea7(0x3d9)][_0x3d7ea7(0xb00)](_0x3d7ea7(0xd60)),topicInputArea[_0x3d7ea7(0x3d9)][_0x3d7ea7(0x831)]('hidden'),textInputArea[_0x3d7ea7(0x3d9)][_0x3d7ea7(0x831)](_0x3d7ea7(0xd60)),fileInputArea['classList'][_0x3d7ea7(0x831)](_0x3d7ea7(0xd60)),worksheetInputArea[_0x3d7ea7(0x3d9)][_0x3d7ea7(0x831)](_0x3d7ea7(0xd60));if(_0x4c8c83)_0x4c8c83[_0x3d7ea7(0x3d9)][_0x3d7ea7(0x831)](_0x3d7ea7(0xd60));if(_0x26164d)_0x26164d['classList'][_0x3d7ea7(0x831)](_0x3d7ea7(0xd60));if(_0xf17353)_0xf17353['classList'][_0x3d7ea7(0x831)](_0x3d7ea7(0xd60));});const _0x40e883=document[_0x29b051(0x6e6)](_0x29b051(0x465)),_0x3e44ba=document[_0x29b051(0x6e6)]('generate-from-blueprint-btn');if(_0x40e883){const _0x1e9e2f=document[_0x29b051(0x6e6)](_0x29b051(0x465)),_0x1ec2f0=document[_0x29b051(0x6e6)]('generate-from-blueprint-btn'),_0x493996=document['getElementById'](_0x29b051(0x574)),_0x190821=document['getElementById'](_0x29b051(0xb05)),_0x2a848f=document[_0x29b051(0x6e6)](_0x29b051(0x2da)),_0x4263a4=document[_0x29b051(0x6e6)]('blueprint-topics-list');_0x1e9e2f&&_0x1e9e2f['addEventListener'](_0x29b051(0x538),async _0x2658f1=>{const _0x52c2d0=_0x29b051;_0x493996[_0x52c2d0(0x3d9)][_0x52c2d0(0x831)](_0x52c2d0(0xd60)),_0x2a848f[_0x52c2d0(0x3d9)]['add'](_0x52c2d0(0xd60)),_0x190821[_0x52c2d0(0x3a6)]=![],_0x1ec2f0['disabled']=!![];const _0x57bfbf=_0x2658f1[_0x52c2d0(0x8ce)][_0x52c2d0(0x7ed)][0x0];if(_0x57bfbf){_0x1ec2f0[_0x52c2d0(0xe9a)]=![];try{const _0x1d8194=await extractTextFromPdf(_0x57bfbf);await analyzeBlueprintForTopics(_0x1d8194);}catch(_0x20c755){showMessage(_0x52c2d0(0xea0)),_0x493996[_0x52c2d0(0x3d9)][_0x52c2d0(0x831)](_0x52c2d0(0xd60));}}}),_0x190821&&_0x190821[_0x29b051(0x49d)](_0x29b051(0x538),_0x14881e=>{const _0x44b84f=_0x29b051,_0x24d877=_0x14881e[_0x44b84f(0x8ce)][_0x44b84f(0x3a6)];_0x2a848f[_0x44b84f(0x3d9)]['toggle'](_0x44b84f(0xd60),!_0x24d877),_0x1ec2f0[_0x44b84f(0xe9a)]=_0x24d877;}),_0x4263a4&&(_0x4263a4&&_0x4263a4['addEventListener'](_0x29b051(0xa6e),_0x430e56=>{const _0x341cd1=_0x29b051,_0x2efecb=_0x430e56[_0x341cd1(0x8ce)][_0x341cd1(0x8ec)](_0x341cd1(0x8cc)),_0x2a59b6=_0x430e56[_0x341cd1(0x8ce)][_0x341cd1(0x8ec)](_0x341cd1(0xb85));if(_0x2efecb){const _0x5a05f0=unescape(_0x2efecb[_0x341cd1(0x9ff)]['topic']);generateQuizForSingleTopic(_0x5a05f0);}else{if(_0x2a59b6){const _0x24da50=unescape(_0x2a59b6[_0x341cd1(0x9ff)]['topic']);handleGenerateTeachingContent(_0x24da50);}}}));}_0x3e44ba&&_0x3e44ba[_0x29b051(0x49d)](_0x29b051(0xa6e),handleGenerateFromBlueprint);const _0x1bf4a8=document[_0x29b051(0x6e6)](_0x29b051(0x67f)),_0x55b10d=document[_0x29b051(0x6e6)](_0x29b051(0x426));_0x1bf4a8&&_0x1bf4a8[_0x29b051(0x49d)]('change',_0x1f2ac5=>{const _0x1a2a05=_0x29b051;_0x55b10d[_0x1a2a05(0xe9a)]=_0x1f2ac5[_0x1a2a05(0x8ce)][_0x1a2a05(0x7ed)][_0x1a2a05(0x4f1)]===0x0;});_0x55b10d&&_0x55b10d[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x29b051(0x49d)](_0x29b051(0xa6e),handleLoadQuiz),startQuizBtn[_0x29b051(0x49d)]('click',async()=>{const _0xdb04f6=_0x29b051,_0x2076d6=document[_0xdb04f6(0x6e6)](_0xdb04f6(0x893));currentStudentName=_0x2076d6[_0xdb04f6(0xb2d)];if(!currentStudentName){showMessage(_0xdb04f6(0x7cc));return;}try{const _0x7810a1=currentQuizData['id'],_0x5961b3=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x7810a1+_0xdb04f6(0xe09),currentStudentName),_0x32ea5b=await getDoc(_0x5961b3);!_0x32ea5b[_0xdb04f6(0x958)]()?await setDoc(_0x5961b3,{'studentName':currentStudentName,'startedAt':new Date()[_0xdb04f6(0x5be)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5961b3,{'startedAt':new Date()[_0xdb04f6(0x5be)]()});}catch(_0x3af232){console[_0xdb04f6(0x3f8)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x3af232),showMessage(_0xdb04f6(0xaa5));return;}studentNameSelectionView[_0xdb04f6(0x3d9)][_0xdb04f6(0x831)](_0xdb04f6(0xd60)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x29b051(0x6e6)]('join-live-game-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),showJoinGameView),document[_0x29b051(0x6e6)](_0x29b051(0x269))['addEventListener']('click',handleJoinLiveGame),document[_0x29b051(0x6e6)](_0x29b051(0x126))['addEventListener'](_0x29b051(0xa6e),()=>showView(_0x29b051(0x6ca)));const _0x5b01e8=()=>{const _0x3b0893=_0x29b051,_0x2af08b=document[_0x3b0893(0x6e6)](_0x3b0893(0x7a9))[_0x3b0893(0xb7b)][_0x3b0893(0xa31)](/[^a-z0-9]/gi,'_')[_0x3b0893(0x3a8)]();return _0x3b0893(0x11c)+(_0x2af08b||_0x3b0893(0x156));},_0xa664f5=document[_0x29b051(0x6e6)](_0x29b051(0x37e));_0xa664f5&&_0xa664f5[_0x29b051(0x49d)]('input',_0x337604=>{const _0x160616=_0x29b051,_0x46ad42=_0x337604[_0x160616(0x8ce)][_0x160616(0xb2d)][_0x160616(0x3a8)]()[_0x160616(0xc3f)](),_0x13fabd=document[_0x160616(0x6e6)](_0x160616(0x194)),_0x3ead41=_0x13fabd[_0x160616(0x2c3)](_0x160616(0x399));_0x3ead41[_0x160616(0xbf2)](_0x2d9571=>{const _0x4f0973=_0x160616;let _0x260513=![];const _0x4de4bf=_0x2d9571[_0x4f0973(0x2c3)](_0x4f0973(0x728));_0x4de4bf[_0x4f0973(0xbf2)](_0x23a8fa=>{const _0x3d07e2=_0x4f0973,_0xd9711e=_0x23a8fa[_0x3d07e2(0x86d)](_0x3d07e2(0x6dd))['textContent'][_0x3d07e2(0x3a8)]();_0xd9711e[_0x3d07e2(0x676)](_0x46ad42)?(_0x23a8fa['style'][_0x3d07e2(0x91a)]=_0x3d07e2(0x5de),_0x260513=!![]):_0x23a8fa[_0x3d07e2(0xaed)][_0x3d07e2(0x91a)]=_0x3d07e2(0x877);}),_0x260513?_0x2d9571[_0x4f0973(0xaed)]['display']=_0x4f0973(0x9f4):_0x2d9571[_0x4f0973(0xaed)]['display']=_0x4f0973(0x877);});});document[_0x29b051(0x6e6)](_0x29b051(0x980))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>exportTableAsImage(_0x29b051(0x866),_0x5b01e8())),document['getElementById'](_0x29b051(0x8b4))[_0x29b051(0x49d)]('click',()=>exportTableAsPDF(_0x29b051(0x8b3),_0x5b01e8())),document[_0x29b051(0x6e6)](_0x29b051(0x918))['addEventListener'](_0x29b051(0xa6e),()=>exportTableAsWord('results-table-container',_0x5b01e8())),document['getElementById'](_0x29b051(0x267))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>exportTableAsExcel(_0x29b051(0x8b3),_0x5b01e8()));const _0x321d79=()=>{const _0x59242c=_0x29b051,_0xd86c2b=document[_0x59242c(0x6e6)](_0x59242c(0x7a9))[_0x59242c(0xb7b)]['replace'](/[^a-z0-9]/gi,'_')[_0x59242c(0x3a8)]();return _0x59242c(0x4a4)+(_0xd86c2b||'quiz');};document[_0x29b051(0x6e6)](_0x29b051(0x7cd))[_0x29b051(0x49d)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x321d79())),document[_0x29b051(0x6e6)]('export-leaderboard-pdf-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>exportTableAsPDF(_0x29b051(0x9fe),_0x321d79())),document[_0x29b051(0x6e6)](_0x29b051(0x751))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>exportTableAsWord(_0x29b051(0x3ac),_0x321d79())),document[_0x29b051(0x6e6)](_0x29b051(0x942))[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>exportTableAsExcel('quiz-leaderboard-table',_0x321d79())),projectQuizzesList[_0x29b051(0x49d)](_0x29b051(0xa6e),async _0x1f1a36=>{const _0x1fe464=_0x29b051,_0x6e41e0=_0x1f1a36[_0x1fe464(0x8ce)]['closest']('.quiz-result-card'),_0x106fb6=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x8dc)),_0x4d75e7=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0xb52)),_0x3ef348=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x3c3)),_0x4d9e1d=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x5f4)),_0x48dc90=_0x1f1a36[_0x1fe464(0x8ce)]['closest']('.copy-quiz-id-list-btn'),_0x524ac4=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)]('.edit-quiz-btn'),_0x570f4b=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0xb35)),_0x29ad7f=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x35a)),_0x31e98b=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x57e)),_0x44655e=_0x1f1a36['target'][_0x1fe464(0x8ec)](_0x1fe464(0x5ab)),_0x52e3db=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x991)),_0x30b9cf=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)]('.pair-quiz-btn'),_0x5123b7=_0x1f1a36['target'][_0x1fe464(0x8ec)](_0x1fe464(0x4c3)),_0x298182=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0xcb4)),_0xab7bc6=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x948)),_0x1eb61e=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0xb54)),_0xf8dffd=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x752)),_0x9f90d0=_0x1f1a36[_0x1fe464(0x8ce)]['closest'](_0x1fe464(0xbae)),_0x632987=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x899)),_0x45057f=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x289)),_0x58c1a0=_0x1f1a36[_0x1fe464(0x8ce)][_0x1fe464(0x8ec)](_0x1fe464(0x546)),_0x5991bb=_0x1f1a36['target'][_0x1fe464(0x8ec)]('.start-live-race-btn');if(_0x58c1a0){const _0x3edb94=_0x58c1a0['dataset']['quizId'],_0x32281d=_0x58c1a0['dataset'][_0x1fe464(0x9d8)],_0x522b96=allQuizzes[_0x1fe464(0x8af)](_0xcc2b2f=>_0xcc2b2f['id']===_0x3edb94);_0x522b96&&showGameStartConfirmationModal(_0x3edb94,_0x32281d,_0x522b96['topic']);}else{if(_0x5991bb){const _0x37966a=_0x5991bb[_0x1fe464(0x9ff)][_0x1fe464(0x769)];handleStartLiveRace(_0x37966a);}else{if(_0x632987){const _0x4da83c=_0x632987[_0x1fe464(0x9ff)][_0x1fe464(0x769)],_0x5a5419=document['getElementById']('actions-container-'+_0x4da83c);_0x5a5419&&_0x5a5419['classList']['toggle'](_0x1fe464(0xd60));}else{if(_0x106fb6){const _0x170475=_0x106fb6[_0x1fe464(0x9ff)][_0x1fe464(0x769)],_0x1a6a88=allQuizzes['find'](_0x58f374=>_0x58f374['id']===_0x170475);_0x1a6a88&&handleGenerateParallelPostTest(_0x1a6a88);}else{if(_0x4d75e7)handleCompareResults(_0x4d75e7[_0x1fe464(0x9ff)][_0x1fe464(0x769)],_0x4d75e7[_0x1fe464(0x9ff)][_0x1fe464(0x8b9)]);else{if(_0x3ef348){const _0x3f0eb2=_0x3ef348[_0x1fe464(0x9ff)][_0x1fe464(0x769)],_0x35461b=allQuizzes[_0x1fe464(0x8af)](_0xd6043f=>_0xd6043f['id']===_0x3f0eb2);_0x35461b&&_0x35461b['lessonPlan']?(displayLessonPlan(_0x35461b[_0x1fe464(0x437)],_0x35461b),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x3f0eb2)),document[_0x1fe464(0x6e6)](_0x1fe464(0x257))[_0x1fe464(0x86d)]('h3')[_0x1fe464(0xb7b)]='แผนการสอน',document[_0x1fe464(0x6e6)](_0x1fe464(0x6a7))[_0x1fe464(0xb7b)]='สร้างใหม่'):handleGenerateLessonPlan(_0x3f0eb2);}else{if(_0x4d9e1d)handleToggleStarQuiz(_0x4d9e1d[_0x1fe464(0x9ff)][_0x1fe464(0x769)]);else{if(_0x48dc90)copyTextToClipboard(_0x48dc90[_0x1fe464(0x9ff)][_0x1fe464(0x769)],_0x1fe464(0xe1d));else{if(_0x524ac4)handleOpenQuizEditor(_0x524ac4[_0x1fe464(0x9ff)][_0x1fe464(0x769)]);else{if(_0x570f4b)handleQuizSettings(_0x570f4b['dataset']['quizId']);else{if(_0x29ad7f)handleDuplicateQuiz(_0x29ad7f[_0x1fe464(0x9ff)]['quizId']);else{if(_0x31e98b)handleRenameQuiz(_0x31e98b['dataset'][_0x1fe464(0x769)],_0x31e98b[_0x1fe464(0x9ff)][_0x1fe464(0x9ec)]);else{if(_0x44655e){const _0x8ca7eb=_0x44655e['dataset']['quizId'],_0x3fe98a=allQuizzes[_0x1fe464(0x8af)](_0x2bd6c2=>_0x2bd6c2['id']===_0x8ca7eb);_0x3fe98a&&handleGenerateParallelFromBank(_0x3fe98a);}else{if(_0x52e3db)handleMoveQuiz(_0x52e3db['dataset'][_0x1fe464(0x769)]);else{if(_0x30b9cf)handleManualQuizPairing(_0x30b9cf[_0x1fe464(0x9ff)]['quizId']);else{if(_0x5123b7)handleUnpairQuiz(_0x5123b7[_0x1fe464(0x9ff)]['quizId']);else{if(_0x298182){const _0x2717f9=_0x298182[_0x1fe464(0x9ff)][_0x1fe464(0x769)],_0x5d2a7d=allQuizzes[_0x1fe464(0x8af)](_0x446a11=>_0x446a11['id']===_0x2717f9);if(_0x5d2a7d)startPresentation(_0x5d2a7d);}else{if(_0xab7bc6){const _0x335686=_0xab7bc6[_0x1fe464(0x9ff)][_0x1fe464(0x769)],_0xc806d6=allQuizzes[_0x1fe464(0x8af)](_0x5cd13d=>_0x5cd13d['id']===_0x335686);_0xc806d6&&(currentQuizData=_0xc806d6,startAdminTest());}else{if(_0x1eb61e)actionTargetId=_0x1eb61e[_0x1fe464(0x9ff)]['quizId'],document[_0x1fe464(0x6e6)]('export-pdf-modal')[_0x1fe464(0x3d9)][_0x1fe464(0xb00)](_0x1fe464(0xd60));else{if(_0xf8dffd)showConfirmation(_0x1fe464(0xea1)+_0xf8dffd[_0x1fe464(0x9ff)][_0x1fe464(0x9ec)]+_0x1fe464(0x140),()=>handleDeleteQuiz(_0xf8dffd[_0x1fe464(0x9ff)][_0x1fe464(0x769)]));else{if(_0x9f90d0)handleQuizStatus(_0x9f90d0[_0x1fe464(0x9ff)][_0x1fe464(0x769)]);else{if(_0x45057f)handleGenerateEasyVersionQuiz(_0x45057f['dataset'][_0x1fe464(0x769)]);else _0x6e41e0&&showQuizDetailView(_0x6e41e0[_0x1fe464(0x9ff)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x29b051(0x6e6)]('cancel-team-selection-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>showView(_0x29b051(0x6ca))),document['getElementById'](_0x29b051(0xdc2))['addEventListener'](_0x29b051(0xa6e),confirmAndStartTeamQuiz),document[_0x29b051(0x6e6)](_0x29b051(0x9fe))[_0x29b051(0x86d)](_0x29b051(0xac4))[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x38158a=>{const _0x3736a5=_0x29b051,_0x66d4e=_0x38158a[_0x3736a5(0x8ce)][_0x3736a5(0x8ec)](_0x3736a5(0xa40));if(!_0x66d4e||!_0x66d4e[_0x3736a5(0x9ff)][_0x3736a5(0x602)])return;const _0x61ad04=_0x66d4e[_0x3736a5(0x9ff)][_0x3736a5(0x602)];if(quizLeaderboardSortBy===_0x61ad04)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3736a5(0x197)?_0x3736a5(0xcbc):_0x3736a5(0x197);else{quizLeaderboardSortBy=_0x61ad04;const _0x9136fb=['studentName'];quizLeaderboardSortOrder=_0x9136fb['includes'](_0x61ad04)?_0x3736a5(0x197):_0x3736a5(0xcbc);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x29b051(0x6e6)](_0x29b051(0x878))[_0x29b051(0x49d)](_0x29b051(0xa6e),closePresentation),document[_0x29b051(0x6e6)](_0x29b051(0x653))['addEventListener']('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x29b051(0x6e6)]('next-question-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x20baae=_0x29b051;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x20baae(0x521)][_0x20baae(0x4f1)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x29b051(0x49d)]('fullscreenchange',()=>{const _0x2339ac=_0x29b051;!document['fullscreenElement']&&(presentationModal[_0x2339ac(0xaed)][_0x2339ac(0x91a)]=_0x2339ac(0x877));}),document[_0x29b051(0x6e6)](_0x29b051(0x8a2))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleDeleteAllStudents),studentList[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x2ee24d=>{const _0x2b5b07=_0x29b051,_0x4b2c8b=_0x2ee24d[_0x2b5b07(0x8ce)][_0x2b5b07(0x8ec)]('.delete-student-btn');if(_0x4b2c8b){const _0x2bd180=_0x4b2c8b[_0x2b5b07(0x9ff)][_0x2b5b07(0xdea)];handleDeleteStudent(_0x2bd180);}}),document[_0x29b051(0x6e6)](_0x29b051(0x5ea))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x29b051(0x49d)](_0x29b051(0x538),_0x33661b=>{const _0x1edaa4=_0x29b051,_0x31fe0e=_0x33661b[_0x1edaa4(0x8ce)]['files'][0x0],_0x537186=document['getElementById'](_0x1edaa4(0x5ea)),_0x143479=document[_0x1edaa4(0x6e6)](_0x1edaa4(0xc4f)),_0x4df51a=document[_0x1edaa4(0x6e6)](_0x1edaa4(0xa2f));_0x31fe0e?(selectedFile=_0x31fe0e,_0x4df51a['checked']?(_0x537186[_0x1edaa4(0xe9a)]=!![],analyzeFileForTopics(_0x31fe0e)):(_0x537186['disabled']=![],_0x143479[_0x1edaa4(0x3d9)][_0x1edaa4(0x831)](_0x1edaa4(0xd60)))):(selectedFile=null,_0x537186[_0x1edaa4(0xe9a)]=!![],_0x143479[_0x1edaa4(0x3d9)]['add'](_0x1edaa4(0xd60)));}),document['getElementById'](_0x29b051(0xa2f))['addEventListener'](_0x29b051(0x538),_0x162e54=>{const _0x1b2d64=_0x29b051,_0x5f4b07=_0x162e54[_0x1b2d64(0x8ce)][_0x1b2d64(0x3a6)],_0x29bfb9=document[_0x1b2d64(0x6e6)](_0x1b2d64(0x5ea)),_0x262c03=document[_0x1b2d64(0x6e6)](_0x1b2d64(0xc4f));_0x5f4b07?(_0x29bfb9['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x262c03['classList'][_0x1b2d64(0xb00)](_0x1b2d64(0xd60)),document['getElementById'](_0x1b2d64(0x3c5))[_0x1b2d64(0xa19)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x262c03[_0x1b2d64(0x3d9)][_0x1b2d64(0x831)](_0x1b2d64(0xd60)),_0x29bfb9['disabled']=!selectedFile);}),document[_0x29b051(0x6e6)](_0x29b051(0xc4f))[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x2ee984=>{const _0x2a00ea=_0x29b051,_0x37659b=_0x2ee984['target']['closest'](_0x2a00ea(0x686)),_0x39acb9=_0x2ee984['target'][_0x2a00ea(0x8ec)](_0x2a00ea(0xb85));if(_0x37659b){const _0x956bf6=unescape(_0x37659b['dataset']['topic']);generateHybridQuizForTopic(_0x956bf6);}else{if(_0x39acb9){const _0x361766=unescape(_0x39acb9['dataset'][_0x2a00ea(0x9ec)]),_0x13aaeb=document[_0x2a00ea(0x6e6)](_0x2a00ea(0x5bf))[_0x2a00ea(0xb2d)];handleGenerateAndShowLesson(_0x361766,_0x13aaeb);}}}),document['getElementById'](_0x29b051(0x783))[_0x29b051(0x49d)]('change',_0x3f14c1=>{const _0x125835=_0x29b051,_0x33c1ce=document[_0x125835(0x6e6)](_0x125835(0xe3e)),_0x43ac90=document[_0x125835(0x6e6)](_0x125835(0x647)),_0x47a92f=document[_0x125835(0x6e6)](_0x125835(0xa3c));_0x3f14c1[_0x125835(0x8ce)]['value']===_0x125835(0x877)?_0x33c1ce['classList'][_0x125835(0x831)]('hidden'):(_0x33c1ce[_0x125835(0x3d9)][_0x125835(0xb00)]('hidden'),_0x3f14c1[_0x125835(0x8ce)][_0x125835(0xb2d)]===_0x125835(0x1bb)?(_0x43ac90[_0x125835(0xb7b)]=_0x125835(0x49f),_0x47a92f[_0x125835(0xb2d)]='10'):(_0x43ac90[_0x125835(0xb7b)]='ระยะเวลา\x20(วินาที):',_0x47a92f['value']='30'));}),document['getElementById'](_0x29b051(0xb2e))[_0x29b051(0x49d)]('change',_0x1689e1=>{const _0x41d1bd=_0x29b051,_0x29337c=document[_0x41d1bd(0x6e6)](_0x41d1bd(0x790)),_0x40122d=_0x1689e1[_0x41d1bd(0x8ce)][_0x41d1bd(0xb2d)],_0x12423e=document[_0x41d1bd(0x86d)](_0x41d1bd(0xa0e)),_0x542f8f=document[_0x41d1bd(0x6e6)]('passing-score-input'),_0x5938e1=document[_0x41d1bd(0x6e6)](_0x41d1bd(0x922));_0x40122d===_0x41d1bd(0xa37)?_0x12423e['textContent']='จำนวนคู่:':_0x12423e['textContent']=_0x41d1bd(0x297),_0x40122d===_0x41d1bd(0x2d2)||_0x40122d===_0x41d1bd(0xa61)||_0x40122d===_0x41d1bd(0x134)?_0x29337c[_0x41d1bd(0x3d9)][_0x41d1bd(0xb00)](_0x41d1bd(0xd60)):_0x29337c['classList']['add'](_0x41d1bd(0xd60)),_0x542f8f[_0x41d1bd(0xd01)]=_0x5938e1[_0x41d1bd(0xb2d)];}),document[_0x29b051(0x6e6)](_0x29b051(0x922))['addEventListener'](_0x29b051(0x2e8),_0x22d18d=>{const _0x35a675=_0x29b051;document['getElementById'](_0x35a675(0x900))[_0x35a675(0xd01)]=_0x22d18d[_0x35a675(0x8ce)]['value'];}),document[_0x29b051(0x6e6)]('modal-timer-mode-select')[_0x29b051(0x49d)](_0x29b051(0x538),_0x41b0f0=>{const _0x1b9e49=_0x29b051,_0x45d27d=document['getElementById'](_0x1b9e49(0x477)),_0x1ade72=document[_0x1b9e49(0x6e6)]('modal-timer-duration-label'),_0x422d9d=document[_0x1b9e49(0x6e6)](_0x1b9e49(0x444));_0x41b0f0[_0x1b9e49(0x8ce)][_0x1b9e49(0xb2d)]===_0x1b9e49(0x877)?_0x45d27d[_0x1b9e49(0x3d9)][_0x1b9e49(0x831)]('hidden'):(_0x45d27d['classList'][_0x1b9e49(0xb00)]('hidden'),_0x41b0f0[_0x1b9e49(0x8ce)][_0x1b9e49(0xb2d)]===_0x1b9e49(0x1bb)?_0x1ade72['textContent']=_0x1b9e49(0x49f):_0x1ade72['textContent']=_0x1b9e49(0x4d6));}),document['getElementById'](_0x29b051(0x78f))['addEventListener'](_0x29b051(0xa6e),()=>{const _0x34d57b=_0x29b051;document[_0x34d57b(0x6e6)]('quiz-editor-modal')['classList'][_0x34d57b(0x831)]('hidden');}),document['getElementById'](_0x29b051(0xad3))['addEventListener'](_0x29b051(0xa6e),()=>{const _0x73c72d=_0x29b051;document[_0x73c72d(0x6e6)]('quiz-editor-modal')['classList']['add'](_0x73c72d(0xd60));}),document[_0x29b051(0x6e6)](_0x29b051(0xd98))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleVerifyAnswersInEditor),document[_0x29b051(0x6e6)](_0x29b051(0x785))['addEventListener'](_0x29b051(0xa6e),()=>{const _0x50a09a=_0x29b051;document[_0x50a09a(0x6e6)]('quiz-editor-modal')['classList']['add'](_0x50a09a(0xd60)),showConfirmation(_0x50a09a(0xae1),handleSaveChanges);}),document[_0x29b051(0x6e6)](_0x29b051(0x244))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleAutoFixLatex);const _0x884b5b=document[_0x29b051(0x6e6)]('quiz-editor-questions-container');_0x884b5b&&_0x884b5b['addEventListener'](_0x29b051(0xa6e),_0x41c544=>{const _0x586ccb=_0x29b051,_0x352d54=_0x41c544['target']['closest'](_0x586ccb(0x351));if(_0x352d54){const _0x1394cb=_0x352d54[_0x586ccb(0x8ec)](_0x586ccb(0x58d)),_0x215052=parseInt(_0x1394cb[_0x586ccb(0x9ff)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x215052);return;}const _0x79088=_0x41c544[_0x586ccb(0x8ce)]['closest'](_0x586ccb(0x1e0));if(_0x79088){const _0x4afe33=_0x79088['closest'](_0x586ccb(0x58d)),_0x59ba31=parseInt(_0x4afe33[_0x586ccb(0x9ff)][_0x586ccb(0xc0f)],0xa);handleDeleteQuestionInEditor(_0x59ba31);return;}const _0x1e4917=_0x41c544['target'][_0x586ccb(0x8ec)](_0x586ccb(0x779));if(_0x1e4917){handleAddQuestionInEditor();return;}});document[_0x29b051(0x6e6)](_0x29b051(0xb78))['addEventListener'](_0x29b051(0xa6e),openQuizBankModal),document[_0x29b051(0x6e6)](_0x29b051(0x488))['addEventListener'](_0x29b051(0xa6e),()=>{const _0x640f78=_0x29b051;document[_0x640f78(0x6e6)](_0x640f78(0xd9e))[_0x640f78(0x3d9)][_0x640f78(0x831)](_0x640f78(0xd60));}),document[_0x29b051(0x6e6)](_0x29b051(0x3ef))[_0x29b051(0x49d)](_0x29b051(0x2e8),_0x661e8b=>renderQuizBankList(_0x661e8b[_0x29b051(0x8ce)][_0x29b051(0xb2d)]));const _0x2ff69e=document[_0x29b051(0x6e6)](_0x29b051(0x194));if(_0x2ff69e){let _0x49977f=null;_0x2ff69e[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x5b9028=>{const _0x1bb08b=_0x29b051,_0x14f9aa=_0x5b9028[_0x1bb08b(0x8ce)],_0x45c803=_0x14f9aa[_0x1bb08b(0x8ec)]('.edit-custom-topic-btn'),_0x3ff16c=_0x14f9aa[_0x1bb08b(0x8ec)]('.delete-custom-topic-btn'),_0x9d31e7=_0x14f9aa[_0x1bb08b(0x8ec)](_0x1bb08b(0x675)),_0xc33376=_0x14f9aa[_0x1bb08b(0x8ec)]('.cancel-edit-topic-btn');if(_0x3ff16c){_0x5b9028[_0x1bb08b(0x266)]();const _0x534537=_0x3ff16c[_0x1bb08b(0x9ff)]['id'],_0x38e4b1=_0x3ff16c[_0x1bb08b(0x8ec)](_0x1bb08b(0x77b))[_0x1bb08b(0x86d)](_0x1bb08b(0x6dd))[_0x1bb08b(0xb7b)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x38e4b1+'\x22?',()=>handleDeleteCustomTopic(_0x534537));}else{if(_0x45c803){_0x5b9028[_0x1bb08b(0x266)]();_0x49977f&&toggleTopicEditMode(_0x49977f,![]);const _0x390f06=_0x45c803['closest'](_0x1bb08b(0x46a));_0x49977f=_0x390f06,toggleTopicEditMode(_0x390f06,!![]);}else{if(_0x9d31e7){_0x5b9028[_0x1bb08b(0x266)]();const _0x44aae8=_0x9d31e7[_0x1bb08b(0x9ff)]['id'],_0x45aad1=_0x9d31e7[_0x1bb08b(0x8ec)](_0x1bb08b(0x46a)),_0xe82cab=_0x45aad1[_0x1bb08b(0x86d)](_0x1bb08b(0x6cb))['value'];handleUpdateCustomTopic(_0x44aae8,_0xe82cab),_0x49977f=null;}else{if(_0xc33376){_0x5b9028[_0x1bb08b(0x266)]();const _0x5f13de=_0xc33376[_0x1bb08b(0x8ec)](_0x1bb08b(0x46a));toggleTopicEditMode(_0x5f13de,![]),_0x49977f=null;}}}}}),document[_0x29b051(0x6e6)](_0x29b051(0xd71))[_0x29b051(0x49d)]('click',()=>{const _0x2d5fc0=_0x29b051;document[_0x2d5fc0(0x6e6)](_0x2d5fc0(0xa4b))['classList'][_0x2d5fc0(0x831)](_0x2d5fc0(0xd60));}),document[_0x29b051(0x6e6)]('close-lesson-plan-modal-footer-btn')[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x252126=_0x29b051;document[_0x252126(0x6e6)](_0x252126(0xa4b))[_0x252126(0x3d9)][_0x252126(0x831)](_0x252126(0xd60));}),document[_0x29b051(0x6e6)](_0x29b051(0x657))[_0x29b051(0x49d)](_0x29b051(0xa6e),handleExportLessonPDF);}document['getElementById'](_0x29b051(0xb44))['addEventListener'](_0x29b051(0xa6e),()=>{const _0xa30be1=_0x29b051;document[_0xa30be1(0x6e6)](_0xa30be1(0x7a6))['classList'][_0xa30be1(0x831)]('hidden');}),document[_0x29b051(0x6e6)](_0x29b051(0xbc5))['addEventListener']('click',()=>{const _0x23c943=_0x29b051;document[_0x23c943(0x6e6)](_0x23c943(0x7a6))[_0x23c943(0x3d9)][_0x23c943(0x831)](_0x23c943(0xd60));}),setupComparisonModalTabs(),document[_0x29b051(0x60c)]['addEventListener'](_0x29b051(0xa6e),function(_0x137453){const _0x24584e=_0x29b051;if(_0x137453[_0x24584e(0x8ce)][_0x24584e(0x3d9)][_0x24584e(0x124)](_0x24584e(0x9ba))){const _0x3cd671=unescape(_0x137453[_0x24584e(0x8ce)][_0x24584e(0x9ff)][_0x24584e(0x9ec)]);startSkillPractice(_0x3cd671);}}),document['getElementById']('scores-tab-content')[_0x29b051(0x49d)](_0x29b051(0xa6e),_0x2fdaa8=>{const _0x43a8f2=_0x29b051,_0x39ceb2=_0x2fdaa8[_0x43a8f2(0x8ce)]['closest'](_0x43a8f2(0x7d2));if(_0x39ceb2){const _0xdff30=_0x39ceb2[_0x43a8f2(0x9ff)]['studentName'];handleDeleteSubmission(_0xdff30);return;}const _0x43908c=_0x2fdaa8[_0x43a8f2(0x8ce)][_0x43a8f2(0x8ec)]('.edit-points-btn');if(_0x43908c){const _0x81df68=_0x43908c[_0x43a8f2(0x9ff)]['studentName'],_0x32a7d2=_0x43908c[_0x43a8f2(0x9ff)]['currentPoints'],_0x2ddc75=prompt(_0x43a8f2(0x8f0)+_0x81df68+_0x43a8f2(0xe88),_0x32a7d2);if(_0x2ddc75!==null&&_0x2ddc75[_0x43a8f2(0xc3f)]()!==''){const _0x37cd7f=parseInt(_0x2ddc75,0xa);!isNaN(_0x37cd7f)?handleManualEditPoints(_0x81df68,_0x37cd7f):alert(_0x43a8f2(0x385));}}}),document['getElementById'](_0x29b051(0x390))?.[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x187950=_0x29b051;document[_0x187950(0x6e6)](_0x187950(0xe8c))[_0x187950(0x3d9)][_0x187950(0x831)](_0x187950(0xd60));}),document[_0x29b051(0x2c3)](_0x29b051(0x3ca))[_0x29b051(0xbf2)](_0x1a0271=>{const _0x2868ce=_0x29b051;_0x1a0271['addEventListener'](_0x2868ce(0xa6e),()=>{const _0x203827=_0x2868ce;handlePinKeyPress(_0x1a0271[_0x203827(0x9ff)][_0x203827(0x787)]);});}),document[_0x29b051(0x6e6)](_0x29b051(0x40f))?.[_0x29b051(0x49d)](_0x29b051(0xa6e),()=>{const _0x3c0c1b=_0x29b051;handlePinKeyPress(_0x3c0c1b(0x637));});}async function handleStartGroupMode(_0x281edf,_0x1e26ec=![]){const _0x9c7045=_0x5319e2,_0x2b46da=allQuizzes['find'](_0x206d4=>_0x206d4['id']===_0x281edf)||allQuizzesGlobal[_0x9c7045(0x8af)](_0xce5c10=>_0xce5c10['id']===_0x281edf);if(!_0x2b46da){showMessage(_0x9c7045(0x76c));return;}currentQuizData=getShuffledQuiz(_0x2b46da);const _0x32e135=Math['floor'](0x3e8+Math[_0x9c7045(0x46d)]()*0x2328)[_0x9c7045(0xdd7)]();try{const _0x3c3007=await addDoc(collection(db,_0x9c7045(0x555)+appId+_0x9c7045(0x39c)),{'quizId':_0x2b46da['id'],'projectId':_0x2b46da[_0x9c7045(0x19e)],'status':_0x9c7045(0x7c5),'pin':_0x32e135,'mode':_0x9c7045(0x664),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1e26ec});currentTeamQuizId=_0x3c3007['id'],showView(_0x9c7045(0x3fa)),renderAdminTeamQuizDashboard(_0x32e135,_0x2b46da[_0x9c7045(0x9ec)],_0x9c7045(0x664)),listenForTeamQuizUpdates();}catch(_0x5054c1){console['error'](_0x9c7045(0x38f),_0x5054c1),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x5948a4=_0x5319e2;studentInitialView[_0x5948a4(0x3d9)][_0x5948a4(0x831)](_0x5948a4(0xd60)),document['getElementById'](_0x5948a4(0x4f5))[_0x5948a4(0x3d9)]['remove'](_0x5948a4(0xd60));const _0xe0f875=document[_0x5948a4(0x6e6)](_0x5948a4(0x761)),_0x366abd=document[_0x5948a4(0x6e6)]('progress-student-select'),_0x2ffb92=document[_0x5948a4(0x6e6)]('student-progress-content');_0x2ffb92['innerHTML']=_0x5948a4(0xb04),_0x366abd[_0x5948a4(0xa19)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x366abd[_0x5948a4(0xe9a)]=!![],_0xe0f875[_0x5948a4(0xa19)]=_0x5948a4(0xaea);if(allProjects[_0x5948a4(0x4f1)]===0x0){const _0x11e5eb=collection(db,_0x5948a4(0x555)+appId+'/public/data/projects'),_0x46fde7=await getDocs(_0x11e5eb);allProjects=_0x46fde7[_0x5948a4(0x6e9)]['map'](_0x1a5b1b=>({'id':_0x1a5b1b['id'],..._0x1a5b1b['data']()}));}const _0x3e4755=allProjects[_0x5948a4(0xbdf)](_0x1ee5cc=>_0x1ee5cc['settings']?.['showInStudentDashboard']!==![]);_0x3e4755[_0x5948a4(0x602)]((_0x1b148c,_0x1663c5)=>_0x1b148c[_0x5948a4(0x4de)][_0x5948a4(0x8ed)](_0x1663c5[_0x5948a4(0x4de)],'th')),_0xe0f875['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x3e4755['map'](_0x11117c=>'<option\x20value=\x22'+_0x11117c['id']+'\x22>'+_0x11117c[_0x5948a4(0x4de)]+_0x5948a4(0x3e5))[_0x5948a4(0x975)](''),_0xe0f875[_0x5948a4(0xcbd)]=()=>{const _0x35047b=_0x5948a4,_0x3c909a=_0x366abd[_0x35047b(0xb2d)],_0xb2937a=_0xe0f875[_0x35047b(0xb2d)];_0x366abd[_0x35047b(0xe9a)]=!![],_0x366abd[_0x35047b(0xa19)]=_0x35047b(0x484),_0x2ffb92[_0x35047b(0xa19)]=_0x35047b(0x93e);if(!_0xb2937a)return;const _0x972f26=allProjects['find'](_0x35deaa=>_0x35deaa['id']===_0xb2937a);if(!_0x972f26||!_0x972f26['students'])return;const _0x55a19a=()=>{const _0xbd5e67=_0x35047b;_0x366abd[_0xbd5e67(0xa19)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x972f26['students'][_0xbd5e67(0x23a)](_0x38849a=>'<option\x20value=\x22'+_0x38849a+'\x22>'+_0x38849a+'</option>')['join'](''),_0x366abd[_0xbd5e67(0xe9a)]=![];const _0x18b2d8=Array[_0xbd5e67(0x693)](_0x366abd[_0xbd5e67(0x4ff)])[_0xbd5e67(0x23a)](_0x50030e=>_0x50030e[_0xbd5e67(0xb2d)]);if(_0x3c909a&&_0x18b2d8[_0xbd5e67(0x676)](_0x3c909a))_0x366abd[_0xbd5e67(0xb2d)]=_0x3c909a,_0x366abd['dispatchEvent'](new Event(_0xbd5e67(0x538)));else _0x972f26[_0xbd5e67(0x38b)][_0xbd5e67(0x4f1)]===0x1&&(_0x366abd[_0xbd5e67(0xb2d)]=_0x972f26[_0xbd5e67(0x38b)][0x0],_0x366abd[_0xbd5e67(0x9f9)](new Event(_0xbd5e67(0x538))));};if(_0x972f26[_0x35047b(0x531)]?.[_0x35047b(0xd54)]){if(sessionStorage[_0x35047b(0x944)](_0x35047b(0x366)+_0xb2937a)===_0x35047b(0x92c)){_0x55a19a();return;}const _0xe696a8=document['getElementById'](_0x35047b(0x614)),_0x425fbc=document[_0x35047b(0x6e6)](_0x35047b(0x6c6)),_0x377f34=document['getElementById'](_0x35047b(0xa0d)),_0x10c755=document['getElementById'](_0x35047b(0x5e9)),_0x29ce9b=document[_0x35047b(0x6e6)](_0x35047b(0x4ac));document[_0x35047b(0x6e6)](_0x35047b(0x882))[_0x35047b(0xb7b)]=_0x35047b(0xcbf)+_0x972f26[_0x35047b(0x4de)],_0x10c755[_0x35047b(0xb2d)]='',_0x29ce9b[_0x35047b(0x3d9)]['add'](_0x35047b(0xd60)),_0xe696a8[_0x35047b(0x3d9)][_0x35047b(0xb00)](_0x35047b(0xd60));const _0x51c250=()=>{const _0x4cfe19=_0x35047b,_0x1cae3e=_0x10c755['value'][_0x4cfe19(0xc3f)]();_0x1cae3e===_0x972f26[_0x4cfe19(0x531)]['passcode']?(sessionStorage['setItem'](_0x4cfe19(0x366)+_0xb2937a,'true'),_0xe696a8[_0x4cfe19(0x3d9)]['add'](_0x4cfe19(0xd60)),_0x55a19a(),_0x425fbc['removeEventListener'](_0x4cfe19(0xa6e),_0x51c250)):_0x29ce9b[_0x4cfe19(0x3d9)][_0x4cfe19(0xb00)](_0x4cfe19(0xd60));};_0x425fbc[_0x35047b(0x4aa)]=_0x51c250,_0x377f34[_0x35047b(0x4aa)]=()=>{const _0x1cb2a0=_0x35047b;_0xe696a8[_0x1cb2a0(0x3d9)][_0x1cb2a0(0x831)]('hidden'),_0xe0f875['value']='',_0x425fbc[_0x1cb2a0(0x60a)](_0x1cb2a0(0xa6e),_0x51c250);};}else _0x55a19a();},_0x366abd['onchange']=()=>{const _0x4494f0=_0x5948a4,_0x46a7e2=_0xe0f875['value'],_0x1ed8b2=_0x366abd[_0x4494f0(0xb2d)];_0x46a7e2&&_0x1ed8b2&&renderStudentProgressDashboard(_0x46a7e2,_0x1ed8b2);};}async function confirmAndJoinSyncGame(){const _0x53fde3=_0x5319e2;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0x53fde3(0x976)),sessionStorage['removeItem'](_0x53fde3(0x11a)),Object[_0x53fde3(0xa7d)](sessionStorage)[_0x53fde3(0xbf2)](_0x57ba89=>{const _0x364316=_0x53fde3;(_0x57ba89[_0x364316(0x4be)](_0x364316(0x8ad))||_0x57ba89[_0x364316(0x4be)](_0x364316(0x699))||_0x57ba89['startsWith'](_0x364316(0x640)))&&sessionStorage['removeItem'](_0x57ba89);});const _0xd273c5=Array[_0x53fde3(0x693)](document[_0x53fde3(0x2c3)](_0x53fde3(0xdd2)))[_0x53fde3(0x23a)](_0x4a049a=>_0x4a049a[_0x53fde3(0xb2d)]);if(_0xd273c5[_0x53fde3(0x4f1)]===0x0){showMessage(_0x53fde3(0xb1c));return;}localTeamPlayers=_0xd273c5,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x213d61=writeBatch(db),_0x6dec75=serverTimestamp();for(const _0x1c79de of _0xd273c5){const _0x148242=doc(db,_0x53fde3(0x555)+appId+_0x53fde3(0x42a)+currentLiveGameId+_0x53fde3(0xba2),_0x1c79de),_0x34d65e=await getDoc(_0x148242);if(_0x34d65e['exists']())_0x213d61[_0x53fde3(0x5a6)](_0x148242,{'status':_0x53fde3(0x797)}),console[_0x53fde3(0x8b1)](_0x53fde3(0x177)+_0x1c79de+_0x53fde3(0x42c));else{const _0x409815={'name':_0x1c79de,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':'active','answers':[],'joinedAt':_0x6dec75,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x213d61[_0x53fde3(0x6b0)](_0x148242,_0x409815);}}await _0x213d61[_0x53fde3(0xa1b)](),showView('live-game'),document[_0x53fde3(0x6e6)](_0x53fde3(0xb24))[_0x53fde3(0x3d9)]['add'](_0x53fde3(0xd60)),currentStudentName=_0xd273c5[0x0],listenForSyncGameUpdates();const _0x2ac387={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON[_0x53fde3(0x338)](_0x2ac387));}catch(_0x3ac95a){console[_0x53fde3(0x3f8)](_0x53fde3(0xe18),_0x3ac95a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วม:\x20'+_0x3ac95a['message']);}}async function resumeActiveGameSession(){const _0x59fdc4=_0x5319e2,_0x440f55=sessionStorage[_0x59fdc4(0x944)](_0x59fdc4(0x909));if(!_0x440f55)return;const _0x2a102a=JSON[_0x59fdc4(0x110)](_0x440f55),{gameId:_0xe5f67a,mode:_0x16088b,role:_0x185bfb,players:_0x4375b9,turnIndex:_0x25a688}=_0x2a102a;try{if(_0x185bfb===_0x59fdc4(0x219)&&_0x16088b===_0x59fdc4(0x6d3)){const _0x16c117=doc(db,_0x59fdc4(0x555)+appId+_0x59fdc4(0x6ba),_0xe5f67a),_0x575fc5=await getDoc(_0x16c117);if(!_0x575fc5[_0x59fdc4(0x958)]()||_0x575fc5[_0x59fdc4(0x9cb)]()[_0x59fdc4(0x626)]===_0x59fdc4(0x636)||_0x575fc5[_0x59fdc4(0x9cb)]()[_0x59fdc4(0x626)]===_0x59fdc4(0x796)){sessionStorage[_0x59fdc4(0x685)](_0x59fdc4(0x909));return;}console[_0x59fdc4(0x8b1)](_0x59fdc4(0xd46)+_0xe5f67a+')'),currentMode=_0x59fdc4(0x219),currentLiveGameId=_0xe5f67a,currentQuizData=_0x575fc5['data']()[_0x59fdc4(0x320)],showView(_0x59fdc4(0x3fa)),listenForSyncGameUpdates();}else{if(_0x16088b===_0x59fdc4(0x6d3)&&_0x4375b9){const _0x563b47=doc(db,_0x59fdc4(0x555)+appId+'/public/data/syncGames',_0xe5f67a),_0x546e74=await getDoc(_0x563b47);if(!_0x546e74['exists']()||_0x546e74[_0x59fdc4(0x9cb)]()[_0x59fdc4(0x626)]===_0x59fdc4(0x636)||_0x546e74[_0x59fdc4(0x9cb)]()[_0x59fdc4(0x626)]===_0x59fdc4(0x796)){sessionStorage['removeItem'](_0x59fdc4(0x909));return;}console[_0x59fdc4(0x8b1)]('กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20'+_0xe5f67a+')'),currentLiveGameId=_0xe5f67a,currentStudentName=_0x4375b9[0x0],localTeamPlayers=_0x4375b9,showView(_0x59fdc4(0x3fa)),listenForSyncGameUpdates();}else{if((_0x16088b===_0x59fdc4(0x788)||_0x16088b===_0x59fdc4(0x664))&&_0x4375b9){const _0xf0316b=doc(db,'artifacts/'+appId+_0x59fdc4(0x39c),_0xe5f67a),_0xb8d088=await getDoc(_0xf0316b);if(!_0xb8d088[_0x59fdc4(0x958)]()||_0xb8d088[_0x59fdc4(0x9cb)]()['status']===_0x59fdc4(0x636)||_0xb8d088[_0x59fdc4(0x9cb)]()[_0x59fdc4(0x626)]===_0x59fdc4(0x796)){sessionStorage[_0x59fdc4(0x685)](_0x59fdc4(0x909));return;}console[_0x59fdc4(0x8b1)](_0x59fdc4(0xb8f)+_0x16088b+_0x59fdc4(0xe1e)+_0xe5f67a+')'),currentTeamQuizId=_0xe5f67a,localTeamPlayers=_0x4375b9,localQuestionIndex=_0x2a102a[_0x59fdc4(0x737)]||0x0,localPlayerIndex=_0x2a102a[_0x59fdc4(0x9fc)]||0x0;const _0x1a6fec=_0xb8d088[_0x59fdc4(0x9cb)](),_0x593e4d=doc(db,_0x59fdc4(0x555)+appId+_0x59fdc4(0x935),_0x1a6fec['quizId']),_0x3e869a=await getDoc(_0x593e4d);_0x3e869a[_0x59fdc4(0x958)]()&&(currentQuizData=getShuffledQuiz({'id':_0x3e869a['id'],..._0x3e869a[_0x59fdc4(0x9cb)]()}),showView(_0x59fdc4(0x6ca)),studentInitialView['classList'][_0x59fdc4(0x831)](_0x59fdc4(0xd60)),_0x16088b===_0x59fdc4(0x664)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x4bd130){console[_0x59fdc4(0x3f8)](_0x59fdc4(0x4eb),_0x4bd130),sessionStorage[_0x59fdc4(0x685)]('activeGameSession');}}async function handleUsePowerup(_0x4661c4,_0x3d0540,_0x441c1b,_0x41ccfb,_0x2e2ed0){const _0x33f503=_0x5319e2,_0x15b49f=_0x41ccfb['currentQuestionIndex'],_0x5d4191=_0x33f503(0x699)+_0x15b49f+'_p'+_0x4661c4,_0x51c4ad=sessionStorage[_0x33f503(0x944)](_0x5d4191);if(_0x51c4ad&&_0x3d0540!==_0x33f503(0xb55)&&_0x3d0540!==_0x33f503(0x83d)){showMessage(_0x33f503(0x661));const _0x17574d=document[_0x33f503(0x6e6)](_0x33f503(0x6ce)+_0x3d0540);if(_0x17574d)_0x17574d[_0x33f503(0xe9a)]=![];return;}if(_0x3d0540===_0x33f503(0x990)){sessionStorage[_0x33f503(0xe35)](_0x5d4191,_0x3d0540),playSystemSound(_0x33f503(0x517)),renderStudentSyncQuestionView(_0x41ccfb);return;}const _0x507305=doc(db,_0x33f503(0x555)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x33f503(0xba2),_0x4661c4);try{await runTransaction(db,async _0x344262=>{const _0x58dcf2=_0x33f503,_0xdb782e=await _0x344262[_0x58dcf2(0x84b)](_0x507305);if(!_0xdb782e[_0x58dcf2(0x958)]())throw _0x58dcf2(0x782);const _0x45b2eb=_0xdb782e[_0x58dcf2(0x9cb)](),_0x4e8575=_0x45b2eb['powerups']||{},_0x3aa7f8=_0x4e8575[_0x3d0540]||0x0;if(_0x3aa7f8<=0x0)throw _0x58dcf2(0x9cf);const _0x356603={};_0x356603[_0x58dcf2(0x634)+_0x3d0540]=increment(-0x1);_0x3d0540!==_0x58dcf2(0x990)&&(_0x356603['correctStreak']=0x0);if(_0x3d0540===_0x58dcf2(0xb55)){const _0x2e2df3=(_0x41ccfb[_0x58dcf2(0x9c5)]||0xf0)*0x3e8,_0x3190e2=_0x2e2df3*0.25;_0x356603[_0x58dcf2(0x724)]=increment(_0x3190e2);}_0x344262[_0x58dcf2(0x5a6)](_0x507305,_0x356603);}),_0x3d0540===_0x33f503(0x745)&&sessionStorage['setItem'](_0x33f503(0x976),'true'),_0x3d0540!==_0x33f503(0xb55)&&_0x3d0540!=='strategyScan'&&sessionStorage[_0x33f503(0xe35)](_0x5d4191,_0x3d0540),playSystemSound(_0x33f503(0x517)),applyPowerupEffect(_0x4661c4,_0x3d0540,_0x441c1b,_0x41ccfb,_0x2e2ed0),(_0x3d0540==='cutOne'||_0x3d0540==='fiftyFifty'||_0x3d0540==='insurance'||_0x3d0540===_0x33f503(0x1f9))&&renderStudentSyncQuestionView(_0x41ccfb),_0x3d0540!==_0x33f503(0x990)&&_0x2e2ed0[_0x33f503(0xb98)]>0x0&&showMessage(_0x33f503(0x625)+_0x3d0540+_0x33f503(0xa6c));}catch(_0x1505d9){console['error'](_0x33f503(0x6ef),_0x1505d9),showMessage(typeof _0x1505d9===_0x33f503(0x8a0)?_0x1505d9:_0x33f503(0x386));const _0x5574c2=document[_0x33f503(0x6e6)](_0x33f503(0x6ce)+_0x3d0540);if(_0x5574c2)_0x5574c2[_0x33f503(0xe9a)]=![];}}async function getCachedOtherPlayers(_0x5d77c9,_0x579a53){const _0x4246ba=_0x5319e2,_0x1d5faf=_0x5d77c9['currentQuestionIndex'];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x1d5faf)return console[_0x4246ba(0x8b1)](_0x4246ba(0x5c7)),cachedOtherPlayersForQuestion;console['log'](_0x4246ba(0x3d0));const _0x404cb4=collection(db,_0x4246ba(0x555)+appId+_0x4246ba(0x42a)+currentLiveGameId+_0x4246ba(0xba2)),_0x393190=query(_0x404cb4,where(_0x4246ba(0x626),'==',_0x4246ba(0x797))),_0x349b77=await getDocs(_0x393190),_0x72e354=[];return _0x349b77['forEach'](_0x5b2eea=>{const _0x2e931f=_0x4246ba,_0x50572c=_0x5b2eea[_0x2e931f(0x9cb)]();_0x72e354[_0x2e931f(0xbda)](_0x50572c);}),cachedOtherPlayersForQuestion=_0x72e354,cachedQuestionIndexForPlayers=_0x1d5faf,_0x72e354;}async function applyPowerupEffect(_0x21c735,_0x4e5a50,_0x4b6857,_0x5b644d,_0x5684cf){const _0x2301cf=_0x5319e2,_0x79649e=_0x4b6857,_0x4cdcee=_0x5b644d[_0x2301cf(0x519)];switch(_0x4e5a50){case _0x2301cf(0x990):showMessage(_0x2301cf(0x41b));break;case _0x2301cf(0x469):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;case _0x2301cf(0xb55):const _0x85ea45=(_0x5b644d[_0x2301cf(0x9c5)]||0xf0)*0.25;showMessage(_0x2301cf(0x316)+_0x85ea45+_0x2301cf(0x396));break;case _0x2301cf(0x8e5):case'fiftyFifty':const _0x4f75d0=document[_0x2301cf(0x2c3)](_0x2301cf(0x9da));if(_0x4f75d0['length']===0x0){showMessage(_0x2301cf(0x6ff));return;}const _0x51bf07='hiddenOptions_q'+_0x4cdcee+'_p'+_0x21c735,_0x1cfcd8=JSON[_0x2301cf(0x110)](sessionStorage['getItem'](_0x51bf07)||'[]');let _0x3f15d8;const _0x219e52=_0x79649e[_0x2301cf(0x823)]||_0x5b644d[_0x2301cf(0x320)][_0x2301cf(0xd29)];_0x219e52===_0x2301cf(0x1cc)?_0x3f15d8=String(_0x79649e[_0x2301cf(0x8aa)])[_0x2301cf(0x3a8)]()===_0x2301cf(0x92c)?0x0:0x1:_0x3f15d8=_0x79649e[_0x2301cf(0x9be)];const _0x1c0f4b=Array[_0x2301cf(0x693)](_0x4f75d0)[_0x2301cf(0xbdf)](_0x24bd12=>parseInt(_0x24bd12[_0x2301cf(0x9ff)]['value'])!==_0x3f15d8&&!_0x1cfcd8[_0x2301cf(0x676)](_0x24bd12['dataset']['value']));if(_0x1c0f4b[_0x2301cf(0x4f1)]===0x0){showMessage(_0x2301cf(0xde7));return;}shuffleArray(_0x1c0f4b);const _0x824ab2=_0x4e5a50===_0x2301cf(0x8e5)?0x1:0x2,_0x338cb8=[];for(let _0x25cfcd=0x0;_0x25cfcd<_0x824ab2;_0x25cfcd++){_0x1c0f4b[_0x25cfcd]&&(_0x1c0f4b[_0x25cfcd][_0x2301cf(0x3d9)][_0x2301cf(0x831)](_0x2301cf(0xd60)),_0x338cb8[_0x2301cf(0xbda)](_0x1c0f4b[_0x25cfcd][_0x2301cf(0x9ff)][_0x2301cf(0xb2d)]));}const _0x3fe106=[..._0x1cfcd8,..._0x338cb8];sessionStorage[_0x2301cf(0xe35)](_0x51bf07,JSON[_0x2301cf(0x338)](_0x3fe106)),showMessage(_0x4e5a50==='cutOne'?'⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!':_0x2301cf(0x98c));break;default:showMessage(_0x2301cf(0xe5d)+_0x4e5a50+'\x20แล้ว!');}}async function handleForceConfident(_0x4e2c29,_0x2c6fea){const _0x501d17=_0x5319e2;if(!currentLiveGameId||!_0x4e2c29)return;const _0x11af7b=doc(db,_0x501d17(0x555)+appId+_0x501d17(0x42a)+currentLiveGameId+_0x501d17(0xba2),_0x4e2c29);try{await updateDoc(_0x11af7b,{'isForcedConfident':!![]}),showMessage(_0x501d17(0x7b0)+_0x2c6fea+'\x20สำเร็จ!');}catch(_0x46361f){console[_0x501d17(0x3f8)](_0x501d17(0x48c),_0x46361f),showMessage(_0x501d17(0xced));}}async function handleRefundPowerup(_0x343cc1,_0x2e3d19){const _0x193f48=_0x5319e2,_0x171577=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x193f48(0xba2),_0x343cc1);try{const _0x5e2848={};_0x5e2848[_0x193f48(0x634)+_0x2e3d19]=increment(0x1),await updateDoc(_0x171577,_0x5e2848),console[_0x193f48(0x8b1)]('Refunded\x20'+_0x2e3d19+_0x193f48(0x2bd)+_0x343cc1);}catch(_0x22d6dc){console[_0x193f48(0x3f8)]('Failed\x20to\x20refund\x20powerup:',_0x22d6dc);}}async function handleApplyJinx(_0xdcf2a4,_0x3886d8){const _0x3538df=_0x5319e2;if(!currentLiveGameId||!_0xdcf2a4)return;const _0x1db0d5=doc(db,_0x3538df(0x555)+appId+_0x3538df(0x42a)+currentLiveGameId+_0x3538df(0xba2),_0xdcf2a4);try{await updateDoc(_0x1db0d5,{'isJinxed':!![]}),showMessage(_0x3538df(0x28d)+_0x3886d8+_0x3538df(0x36f));}catch(_0x2569d7){console[_0x3538df(0x3f8)]('Failed\x20to\x20apply\x20jinx:',_0x2569d7),showMessage(_0x3538df(0xced));}}function activateFileInputAreaWithLoadedFile(){const _0x5e4d56=_0x5319e2,_0x6f7e77=document[_0x5e4d56(0x6e6)](_0x5e4d56(0x5ea)),_0xe29e93=document['getElementById'](_0x5e4d56(0xc4f)),_0x38d6a5=document[_0x5e4d56(0x6e6)]('separate-by-content-from-file-checkbox');selectedFile?_0x38d6a5[_0x5e4d56(0x3a6)]?(_0x6f7e77['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x6f7e77[_0x5e4d56(0xe9a)]=![],_0xe29e93[_0x5e4d56(0x3d9)][_0x5e4d56(0x831)](_0x5e4d56(0xd60))):(_0x6f7e77[_0x5e4d56(0xe9a)]=!![],_0xe29e93[_0x5e4d56(0x3d9)][_0x5e4d56(0x831)](_0x5e4d56(0xd60)));}async function handleKickPlayerSync(_0x597662){const _0x5dcb65=_0x5319e2;if(!currentLiveGameId||!_0x597662)return;const _0x42f3cf=doc(db,_0x5dcb65(0x555)+appId+_0x5dcb65(0x42a)+currentLiveGameId+_0x5dcb65(0xba2),_0x597662);try{await updateDoc(_0x42f3cf,{'status':_0x5dcb65(0x8b2)});}catch(_0x588345){console[_0x5dcb65(0x3f8)](_0x5dcb65(0x505)+_0x597662+':',_0x588345),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x1d4168,_0x37e2dc){const _0x3527f3=_0x5319e2,_0x5a8853=document[_0x3527f3(0x6e6)]('student-progress-content');_0x5a8853[_0x3527f3(0xa19)]=_0x3527f3(0x4ca);try{const _0x52567d=collection(db,_0x3527f3(0x555)+appId+_0x3527f3(0x935)),_0x117d28=query(_0x52567d,where(_0x3527f3(0x19e),'==',_0x1d4168)),_0x4bc407=await getDocs(_0x117d28),_0x5c39be=_0x4bc407['docs'][_0x3527f3(0x23a)](_0x28bcc5=>({'id':_0x28bcc5['id'],..._0x28bcc5[_0x3527f3(0x9cb)]()})),_0x3d6fe3=_0x5c39be[_0x3527f3(0x23a)](_0x5f4358=>getDoc(doc(db,_0x3527f3(0x555)+appId+_0x3527f3(0xa62)+_0x5f4358['id']+_0x3527f3(0xe09),_0x37e2dc))),_0x1cf06c=await Promise[_0x3527f3(0x8bd)](_0x3d6fe3),_0xd5a4ea=_0x1cf06c['filter'](_0x3027f2=>_0x3027f2[_0x3527f3(0x958)]())[_0x3527f3(0x23a)](_0x2765d6=>({'quizId':_0x2765d6['ref'][_0x3527f3(0x861)]['parent']['id'],..._0x2765d6[_0x3527f3(0x9cb)]()}));if(_0xd5a4ea['length']===0x0){_0x5a8853[_0x3527f3(0xa19)]=_0x3527f3(0xc8f);return;}let _0x45fe0a=_0x3527f3(0x9e5);_0xd5a4ea[_0x3527f3(0xbf2)](_0x2d52e1=>{const _0x39fa44=_0x3527f3,_0x10c3a2=_0x5c39be[_0x39fa44(0x8af)](_0x1dd69e=>_0x1dd69e['id']===_0x2d52e1[_0x39fa44(0x769)]),_0x1a799e=_0x10c3a2[_0x39fa44(0x531)]?.[_0x39fa44(0x981)]||'show_results_and_answers',_0xe0c871=_0x10c3a2['settings']?.[_0x39fa44(0xe4b)]??0x0,_0x1c75dd=_0x2d52e1[_0x39fa44(0xac3)]>=_0xe0c871;let _0x3371e8='',_0xd11c45=_0x39fa44(0x95b);switch(_0x1a799e){case _0x39fa44(0x14c):case'show_results_only':_0xd11c45=_0x1c75dd?'bg-green-50':'bg-red-50',_0x3371e8=_0x39fa44(0xcaf)+(_0x1c75dd?_0x39fa44(0xb5a):'text-red-700')+'\x22>'+_0x2d52e1[_0x39fa44(0xac3)]+'\x20/\x20'+_0x2d52e1[_0x39fa44(0xd05)]+_0x39fa44(0x18b)+(_0x1c75dd?_0x39fa44(0x3df):'bg-red-200\x20text-red-800')+'\x22>'+(_0x1c75dd?_0x39fa44(0xa55):_0x39fa44(0x5d9))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x39fa44(0x49c):_0xd11c45=_0x1c75dd?_0x39fa44(0xc19):_0x39fa44(0x84d),_0x3371e8=_0x39fa44(0x1c9)+(_0x1c75dd?_0x39fa44(0x3df):'bg-red-200\x20text-red-800')+'\x22>'+(_0x1c75dd?_0x39fa44(0xa55):_0x39fa44(0x5d9))+_0x39fa44(0x887);break;case _0x39fa44(0x706):_0xd11c45=_0x39fa44(0x40e),_0x3371e8=_0x39fa44(0x556);break;}_0x45fe0a+=_0x39fa44(0xcf4)+_0xd11c45+_0x39fa44(0x4e5)+_0x10c3a2['topic']+_0x39fa44(0x34d)+_0x2d52e1[_0x39fa44(0xca5)][_0x39fa44(0x4f1)]+_0x39fa44(0xc41)+new Date(_0x2d52e1[_0x39fa44(0x666)])['toLocaleDateString'](_0x39fa44(0x413))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3371e8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x45fe0a+=_0x3527f3(0xa5a),_0x5a8853[_0x3527f3(0xa19)]=_0x45fe0a;}catch(_0x5853f2){console[_0x3527f3(0x3f8)](_0x3527f3(0xa80),_0x5853f2),_0x5a8853['innerHTML']=_0x3527f3(0xc58);}}function renderQuizBankListForMultiSelect(_0x797305=''){const _0x487f76=_0x5319e2,_0x4893bf=document[_0x487f76(0x6e6)]('bank-quiz-list'),_0x28b243=_0x797305['toLowerCase']()[_0x487f76(0xc3f)](),_0x1393a0=allQuizzesGlobal[_0x487f76(0x23a)](_0x4107d2=>({..._0x4107d2,'projectName':allProjects[_0x487f76(0x8af)](_0x2bc9d0=>_0x2bc9d0['id']===_0x4107d2[_0x487f76(0x19e)])?.[_0x487f76(0x4de)]||_0x487f76(0x83e)}))['filter'](_0x2ca7d6=>(_0x2ca7d6['topic']||'')[_0x487f76(0x3a8)]()[_0x487f76(0x676)](_0x28b243)||(_0x2ca7d6[_0x487f76(0x4de)]||'')[_0x487f76(0x3a8)]()[_0x487f76(0x676)](_0x28b243)||_0x2ca7d6['id']['toString']()[_0x487f76(0x676)](_0x28b243));_0x4893bf[_0x487f76(0xa19)]=_0x1393a0['length']?_0x1393a0['map'](_0x49096b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x49096b['id']+_0x487f76(0x438)+(_0x49096b['topic']||_0x487f76(0xc60))+_0x487f76(0xdc4)+_0x49096b['projectName']+_0x487f76(0x5b9)+_0x49096b['id']+_0x487f76(0x929))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x4893bf[_0x487f76(0xcbd)]=()=>{const _0x122db2=_0x487f76,_0x328f17=document[_0x122db2(0x86d)](_0x122db2(0x65a));document[_0x122db2(0x6e6)](_0x122db2(0x4d0))[_0x122db2(0xe9a)]=!_0x328f17;};}function setupStudentProgressListeners(){const _0x5d9c35=_0x5319e2;document[_0x5d9c35(0x6e6)]('view-my-progress-btn')[_0x5d9c35(0x49d)]('click',showStudentProgressView),document[_0x5d9c35(0x6e6)](_0x5d9c35(0x908))[_0x5d9c35(0x49d)](_0x5d9c35(0xa6e),()=>{const _0x147cd9=_0x5d9c35;document[_0x147cd9(0x6e6)]('student-progress-view')[_0x147cd9(0x3d9)]['add'](_0x147cd9(0xd60)),document['getElementById'](_0x147cd9(0xa7b))['classList'][_0x147cd9(0xb00)](_0x147cd9(0xd60));});}async function startSkillPractice(_0x51da9c){const _0x4c5565=_0x5319e2;studentResultArea[_0x4c5565(0x3d9)][_0x4c5565(0x831)](_0x4c5565(0xd60)),studentQuizArea[_0x4c5565(0xa19)]=_0x4c5565(0x53e),studentQuizArea[_0x4c5565(0x3d9)][_0x4c5565(0xb00)](_0x4c5565(0xd60));try{const _0x5a9246=await getStandardizedTopic(_0x51da9c);console[_0x4c5565(0x8b1)](_0x4c5565(0x229)+_0x51da9c+_0x4c5565(0xba9)+_0x5a9246+'\x22'),studentQuizArea[_0x4c5565(0x86d)]('p')[_0x4c5565(0xb7b)]=_0x4c5565(0x18a)+_0x5a9246+_0x4c5565(0xab2);const _0x1fc4cd=collection(db,_0x4c5565(0x555)+appId+'/public/data/practiceBank'),_0x27b175=query(_0x1fc4cd,where(_0x4c5565(0x9ec),'==',_0x5a9246)),_0xc088e7=await getDocs(_0x27b175);if(_0xc088e7[_0x4c5565(0x6e9)]['length']>=0x3){console['log']('พบข้อสอบ\x20'+_0xc088e7['docs'][_0x4c5565(0x4f1)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x5a9246+_0x4c5565(0xbd5));let _0x5443f1=_0xc088e7[_0x4c5565(0x6e9)][_0x4c5565(0x23a)](_0x50a394=>_0x50a394[_0x4c5565(0x9cb)]());shuffleArray(_0x5443f1);const _0x1cc7fc={'topic':_0x5a9246,'questions':_0x5443f1[_0x4c5565(0x1e1)](0x0,0x3)};displaySkillPracticeDrill(_0x1cc7fc);}else{console[_0x4c5565(0x8b1)](_0x4c5565(0x176)+_0x5a9246+_0x4c5565(0xa4c));const _0x1f0f14=await generatePracticeQuestions(_0x5a9246);await saveDrillToPracticeBank(_0x1f0f14,_0x5a9246),displaySkillPracticeDrill(_0x1f0f14);}}catch(_0x47bdc5){console[_0x4c5565(0x3f8)](_0x4c5565(0x2fa),_0x47bdc5),showMessage(_0x4c5565(0x6f8)),studentQuizArea[_0x4c5565(0x3d9)][_0x4c5565(0x831)](_0x4c5565(0xd60)),studentResultArea['classList'][_0x4c5565(0xb00)](_0x4c5565(0xd60));}}async function saveDrillToPracticeBank(_0x107bab,_0x300cd6){const _0x8976ed=_0x5319e2,_0x444c62=collection(db,_0x8976ed(0x555)+appId+_0x8976ed(0xe3d)),_0x525f4a=writeBatch(db);_0x107bab[_0x8976ed(0x521)][_0x8976ed(0xbf2)](_0x2e621b=>{const _0x3ee009=_0x8976ed,_0x5b6f63=doc(_0x444c62);_0x525f4a[_0x3ee009(0x6b0)](_0x5b6f63,{'topic':_0x300cd6,'questionText':_0x2e621b[_0x3ee009(0x14e)],'options':_0x2e621b[_0x3ee009(0x4ff)],'correctAnswerIndex':_0x2e621b[_0x3ee009(0x9be)],'explanation':_0x2e621b[_0x3ee009(0x579)],'createdAt':serverTimestamp()});});try{await _0x525f4a['commit'](),console[_0x8976ed(0x8b1)]('บันทึกคำถามใหม่\x20'+_0x107bab['questions'][_0x8976ed(0x4f1)]+_0x8976ed(0x5c2));}catch(_0x59778c){console[_0x8976ed(0x3f8)](_0x8976ed(0x2d1),_0x59778c);}}async function getStandardizedTopic(_0x4d1682){const _0x510d88=_0x5319e2,_0x321b3f=_0x510d88(0x4ce)+_0x4d1682+_0x510d88(0x803),_0x335ed9={'type':_0x510d88(0xce9),'properties':{'standardTopic':{'type':'STRING'}},'required':[_0x510d88(0xad1)]};try{const _0x9e2bff=await callAnalysisApi(_0x321b3f,_0x335ed9);return _0x9e2bff['standardTopic'];}catch(_0x126a99){return console[_0x510d88(0x3f8)](_0x510d88(0x341),_0x126a99),_0x4d1682;}}async function handleGenerateEasyVersionQuiz(_0xf514ed){const _0x1668d3=_0x5319e2,_0x467b6f=document[_0x1668d3(0x6e6)]('results-tab-content'),_0x7c1ef7=document['getElementById'](_0x1668d3(0x8b6));_0x7c1ef7['classList']['add'](_0x1668d3(0xd60));const _0xedb8b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x467b6f['insertAdjacentHTML'](_0x1668d3(0x1c3),_0xedb8b6);try{const _0x34ef05=allQuizzes[_0x1668d3(0x8af)](_0x4b56d1=>_0x4b56d1['id']===_0xf514ed);if(!_0x34ef05)throw new Error(_0x1668d3(0x940));const _0x367473=_0x1668d3(0x185)+JSON[_0x1668d3(0x338)](_0x34ef05['questions'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4c2b33={'type':_0x1668d3(0xce9),'properties':{'questionText':{'type':_0x1668d3(0x69c)},'questionType':{'type':'STRING'},'options':{'type':_0x1668d3(0x433),'items':{'type':_0x1668d3(0x69c)}},'correctAnswerIndex':{'type':_0x1668d3(0xe0e)},'idealAnswer':{'type':_0x1668d3(0x69c)},'explanation':{'type':_0x1668d3(0x69c)},'imageCode':{'type':_0x1668d3(0x69c)}},'required':[_0x1668d3(0x14e),_0x1668d3(0x823),_0x1668d3(0x579)]},_0x598f1a={'type':'OBJECT','properties':{'questions':{'type':_0x1668d3(0x433),'items':_0x4c2b33}},'required':[_0x1668d3(0x521)]},_0x330b06=await callAnalysisApi(_0x367473,_0x598f1a);_0x330b06&&_0x330b06[_0x1668d3(0x521)]&&_0x330b06[_0x1668d3(0x521)][_0x1668d3(0xbf2)](_0x33bdf2=>{const _0x1ba224=_0x1668d3;if(_0x33bdf2[_0x1ba224(0x847)]('imageCode')){const _0x482766=String(_0x33bdf2['imageCode'])[_0x1ba224(0xc3f)]();(_0x482766===''||_0x482766[_0x1ba224(0x3a8)]()===_0x1ba224(0x871)||!_0x482766[_0x1ba224(0x4be)](_0x1ba224(0x2a0)))&&delete _0x33bdf2['imageCode'];}});if(!_0x330b06||!_0x330b06['questions']||_0x330b06['questions'][_0x1668d3(0x4f1)]===0x0)throw new Error(_0x1668d3(0x77a));const _0x2aa453=_0x330b06[_0x1668d3(0x521)]['map']((_0x5dcdab,_0x31ac0f)=>({..._0x5dcdab,'id':'q_'+Date[_0x1668d3(0xc35)]()+'_'+_0x31ac0f})),_0x3c4ad4={'projectId':_0x34ef05[_0x1668d3(0x19e)],'quizType':_0x34ef05['quizType'],'settings':_0x34ef05[_0x1668d3(0x531)],'createdBy':_0x34ef05['createdBy'],'status':'active','topic':_0x1668d3(0xb5c)+_0x34ef05[_0x1668d3(0x9ec)],'questions':_0x2aa453,'createdAt':new Date()[_0x1668d3(0x5be)](),'quizMode':_0x1668d3(0xc3c),'pairedQuizId':null};let _0x3514ca;while(!![]){_0x3514ca=Math[_0x1668d3(0x5d2)](0x3e8+Math['random']()*0x2328)[_0x1668d3(0xdd7)]();const _0x5ee04b=await getDoc(doc(db,_0x1668d3(0x555)+appId+'/public/data/quizzes',_0x3514ca));if(!_0x5ee04b[_0x1668d3(0x958)]())break;}await setDoc(doc(db,_0x1668d3(0x555)+appId+_0x1668d3(0x935),_0x3514ca),_0x3c4ad4),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x5e064a){console['error'](_0x1668d3(0xbe3),_0x5e064a),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5e064a['message']);}finally{const _0x474c76=document[_0x1668d3(0x6e6)](_0x1668d3(0xe1b));_0x474c76&&_0x474c76[_0x1668d3(0xb00)](),_0x7c1ef7[_0x1668d3(0x3d9)][_0x1668d3(0xb00)](_0x1668d3(0xd60));}}async function generatePracticeQuestions(_0x389d44){const _0x403ee3=_0x5319e2,_0x383ba2=_0x403ee3(0xc05)+_0x389d44+_0x403ee3(0x70b)+simpleMathPrompt+_0x403ee3(0x445),_0x217ee0={'type':'OBJECT','properties':{'questionText':{'type':_0x403ee3(0x69c)},'options':{'type':'ARRAY','items':{'type':_0x403ee3(0x69c)}},'correctAnswerIndex':{'type':_0x403ee3(0xe0e)},'explanation':{'type':_0x403ee3(0x69c)}},'required':[_0x403ee3(0x14e),_0x403ee3(0x4ff),_0x403ee3(0x9be),_0x403ee3(0x579)]},_0x59f853={'type':_0x403ee3(0xce9),'properties':{'topic':{'type':_0x403ee3(0x69c)},'questions':{'type':_0x403ee3(0x433),'items':_0x217ee0}},'required':[_0x403ee3(0x9ec),_0x403ee3(0x521)]};return await callAnalysisApi(_0x383ba2,_0x59f853);}function displayLessonPlan(_0x3087ae,_0x3430df){const _0x551754=_0x5319e2,_0x46cb60=_0x551754(0x1fc)+_0x3430df[_0x551754(0x9ec)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3087ae[_0x551754(0x515)][_0x551754(0x23a)](_0x501748=>_0x551754(0x688)+_0x501748+_0x551754(0xd2e))['join']('')+_0x551754(0xaa3)+_0x3087ae[_0x551754(0x77f)]+_0x551754(0x3c9)+_0x3087ae[_0x551754(0xc42)][_0x551754(0x23a)](_0x26e7e8=>_0x551754(0x3fc)+_0x26e7e8[_0x551754(0x195)]+_0x551754(0xdef)+_0x26e7e8[_0x551754(0xd3b)]+_0x551754(0x632))[_0x551754(0x975)]('')+_0x551754(0xdc0);document[_0x551754(0x6e6)](_0x551754(0x7af))[_0x551754(0xb7b)]=_0x551754(0x3fb)+_0x3430df[_0x551754(0x9ec)],document['getElementById'](_0x551754(0x6b4))['innerHTML']=_0x46cb60,document[_0x551754(0x6e6)](_0x551754(0xa4b))['classList'][_0x551754(0xb00)]('hidden');if(window[_0x551754(0x19c)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0xada89f){let _0x1de53d=0x0;const _0x220b5c=_0xada89f['questions'],_0x2849b=()=>{const _0x2a8675=_0x4aab,_0x2c08b1=_0x220b5c[_0x1de53d],_0x133c31=_0x2a8675(0xa8e)+(_0x1de53d+0x1)+_0x2a8675(0xd2d)+_0x220b5c[_0x2a8675(0x4f1)]+_0x2a8675(0x47e)+_0x2c08b1['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c08b1[_0x2a8675(0x4ff)]['map']((_0x459726,_0x17a9e1)=>_0x2a8675(0x4a7)+_0x17a9e1+_0x2a8675(0x4e6)+_0x17a9e1+_0x2a8675(0x970)+_0x17a9e1+'\x22>'+_0x459726+_0x2a8675(0x826))[_0x2a8675(0x975)]('')+_0x2a8675(0x550);studentQuizArea[_0x2a8675(0xa19)]=_0x133c31;if(window[_0x2a8675(0x19c)])MathJax['typesetPromise']([studentQuizArea]);document[_0x2a8675(0x6e6)]('hint-btn')['addEventListener']('click',async()=>{const _0x3af846=_0x2a8675,_0x2957a3=await getHintForQuestion(_0x2c08b1[_0x3af846(0x14e)]);showMessage(_0x2957a3);}),document['getElementById']('check-answer-btn')[_0x2a8675(0x49d)]('click',()=>{const _0x391aca=_0x2a8675,_0x50cd24=document[_0x391aca(0x86d)]('input[name=\x22drill_answer\x22]:checked');if(!_0x50cd24){showMessage(_0x391aca(0xda8));return;}const _0x14c214=document[_0x391aca(0x6e6)](_0x391aca(0xe80)),_0x4685eb=parseInt(_0x50cd24[_0x391aca(0xb2d)])===_0x2c08b1[_0x391aca(0x9be)];_0x4685eb?(_0x14c214['className']=_0x391aca(0xd08),_0x14c214[_0x391aca(0xa19)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x2c08b1['explanation']):(_0x14c214[_0x391aca(0x513)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x14c214['innerHTML']=_0x391aca(0xd1c)+_0x2c08b1['explanation']);_0x14c214[_0x391aca(0x3d9)][_0x391aca(0xb00)](_0x391aca(0xd60));if(window['MathJax'])MathJax[_0x391aca(0xc6e)]([_0x14c214]);document[_0x391aca(0x6e6)]('check-answer-btn')[_0x391aca(0x3d9)][_0x391aca(0x831)](_0x391aca(0xd60)),document['getElementById'](_0x391aca(0x2a9))['classList']['add'](_0x391aca(0xd60)),document[_0x391aca(0x6e6)](_0x391aca(0xb2a))[_0x391aca(0x3d9)]['remove'](_0x391aca(0xd60));}),document[_0x2a8675(0x6e6)]('next-drill-btn')[_0x2a8675(0x49d)]('click',()=>{const _0x47ac38=_0x2a8675;_0x1de53d++,_0x1de53d<_0x220b5c[_0x47ac38(0x4f1)]?_0x2849b():(studentQuizArea['innerHTML']=_0x47ac38(0x198),document[_0x47ac38(0x6e6)](_0x47ac38(0x930))[_0x47ac38(0x49d)]('click',()=>{const _0x2ff1fa=_0x47ac38;studentQuizArea[_0x2ff1fa(0x3d9)][_0x2ff1fa(0x831)]('hidden'),studentResultArea[_0x2ff1fa(0x3d9)][_0x2ff1fa(0xb00)](_0x2ff1fa(0xd60));}));});};_0x2849b();}async function getHintForQuestion(_0x25ee4c){const _0x506804=_0x5319e2,_0x27c891=_0x506804(0xabd)+_0x25ee4c+_0x506804(0xe03),_0x155ab5={'type':_0x506804(0xce9),'properties':{'hint':{'type':_0x506804(0x69c)}},'required':['hint']};try{const _0x3cda7d=await callAnalysisApi(_0x27c891,_0x155ab5);return _0x3cda7d[_0x506804(0x76d)];}catch(_0x3747fd){return console['error'](_0x506804(0xc13),_0x3747fd),_0x506804(0x9a2);}}async function extractTextFromPdf(_0x12e0fe){const _0x28e38c=_0x5319e2;pdfjsLib[_0x28e38c(0x8f3)][_0x28e38c(0xc0a)]=_0x28e38c(0xe06);const _0x50a1e4=await _0x12e0fe[_0x28e38c(0xad9)](),_0x3bf76f=await pdfjsLib[_0x28e38c(0x25a)](_0x50a1e4)[_0x28e38c(0xd80)],_0x31b2d9=_0x3bf76f[_0x28e38c(0x6c0)];let _0x4b24ea='';for(let _0x32f127=0x1;_0x32f127<=_0x31b2d9;_0x32f127++){const _0x4bf8ff=await _0x3bf76f[_0x28e38c(0x328)](_0x32f127),_0x5f1765=await _0x4bf8ff['getTextContent'](),_0x11ee93=_0x5f1765[_0x28e38c(0x27a)][_0x28e38c(0x23a)](_0x3dad50=>_0x3dad50[_0x28e38c(0x1ea)])['join']('\x20');_0x4b24ea+=_0x11ee93+'\x0a\x0a';}return _0x4b24ea;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x12b5ed){const _0x11827e=_0x5319e2,_0x436a6a=document[_0x11827e(0x6e6)]('blueprint-options-container'),_0xab81c9=document[_0x11827e(0x6e6)](_0x11827e(0x3a4)),_0x35bffd=document[_0x11827e(0x6e6)](_0x11827e(0x8a8));_0x436a6a[_0x11827e(0x3d9)]['remove'](_0x11827e(0xd60)),_0xab81c9[_0x11827e(0xa19)]=_0x11827e(0x5a5),_0x35bffd[_0x11827e(0x3d9)][_0x11827e(0x831)](_0x11827e(0xd60));try{const _0x3a14ba=_0x11827e(0xb51)+_0x12b5ed+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x4db67a={'type':_0x11827e(0xce9),'properties':{'gradeLevel':{'type':_0x11827e(0x69c)},'curriculum':{'type':_0x11827e(0x433),'items':{'type':_0x11827e(0xce9),'properties':{'sara':{'type':_0x11827e(0x69c)},'mainTopics':{'type':_0x11827e(0x433),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x11827e(0x69c)},'subTopics':{'type':'ARRAY','items':{'type':_0x11827e(0x69c)}}},'required':[_0x11827e(0x339),_0x11827e(0x12e)]}}},'required':[_0x11827e(0xbc7),_0x11827e(0xa39)]}}},'required':[_0x11827e(0x405),'curriculum']},_0x5ac682=await callAnalysisApi(_0x3a14ba,_0x4db67a);if(_0x5ac682&&_0x5ac682[_0x11827e(0xc2a)])extractedBlueprintData=_0x5ac682,renderBlueprintTopics(_0x5ac682),_0x35bffd[_0x11827e(0x3d9)][_0x11827e(0xb00)]('hidden');else throw new Error(_0x11827e(0x330));}catch(_0x2e2ba4){console[_0x11827e(0x3f8)](_0x11827e(0x938),_0x2e2ba4),_0xab81c9[_0x11827e(0xa19)]=_0x11827e(0x458);}}function renderBlueprintTopics(_0x2a4646){const _0x22a6f4=_0x5319e2,_0x23bbb0=document[_0x22a6f4(0x6e6)](_0x22a6f4(0x3a4)),_0x55cd8e=_0x2a4646[_0x22a6f4(0x405)],_0x35735a='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x55cd8e+_0x22a6f4(0x502);let _0x4028b0='';_0x2a4646[_0x22a6f4(0xc2a)]['forEach'](_0x15c959=>{const _0x5beca1=_0x22a6f4;_0x4028b0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x15c959['sara']+'</h4>',_0x15c959[_0x5beca1(0xa39)]['forEach'](_0x47fa53=>{const _0x5ce299=_0x5beca1;_0x4028b0+=_0x5ce299(0x31b)+_0x47fa53[_0x5ce299(0x339)]+_0x5ce299(0x673),_0x47fa53[_0x5ce299(0x12e)][_0x5ce299(0xbf2)](_0x557449=>{const _0x25c0dd=_0x5ce299;_0x4028b0+=_0x25c0dd(0x15f)+_0x557449[_0x25c0dd(0xa31)](/'/g,'\x5c\x27')+_0x25c0dd(0x23c)+_0x55cd8e[_0x25c0dd(0xa31)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x557449+_0x25c0dd(0x643)+_0x557449[_0x25c0dd(0xa31)](/'/g,'\x5c\x27')+_0x25c0dd(0x786);}),_0x4028b0+=_0x5ce299(0x81d);}),_0x4028b0+=_0x5beca1(0xa5a);}),_0x23bbb0['innerHTML']=_0x35735a+_0x4028b0;}async function handleGenerateTeachingContent(_0x38a709){const _0x1a2e0e=_0x5319e2,_0x21afcc=document[_0x1a2e0e(0x6e6)](_0x1a2e0e(0xa4b)),_0x32294b=document['getElementById'](_0x1a2e0e(0x6b4));document[_0x1a2e0e(0x6e6)](_0x1a2e0e(0x7af))[_0x1a2e0e(0xb7b)]=_0x1a2e0e(0x4f9)+_0x38a709,_0x32294b[_0x1a2e0e(0xa19)]=_0x1a2e0e(0x548),_0x21afcc['classList'][_0x1a2e0e(0xb00)](_0x1a2e0e(0xd60));try{const _0x33c42f=_0x1a2e0e(0xad8)+_0x38a709+_0x1a2e0e(0xb62),_0xe07c14={'type':_0x1a2e0e(0xce9),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x1a2e0e(0x69c)}},'commonMistakes':{'type':_0x1a2e0e(0x433),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x1a2e0e(0x433),'items':{'type':_0x1a2e0e(0xce9),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x1a2e0e(0x69c)}},'required':[_0x1a2e0e(0x195),'solution']}},'teacherTips':{'type':_0x1a2e0e(0x433),'items':{'type':_0x1a2e0e(0x69c)}}},'required':[_0x1a2e0e(0x69d),_0x1a2e0e(0x38a),_0x1a2e0e(0x236),_0x1a2e0e(0x1c2)]},_0x11728a=await callAnalysisApi(_0x33c42f,_0xe07c14);displayTeachingContent(_0x11728a,_0x38a709);}catch(_0xd572d7){console['error']('Error\x20generating\x20teaching\x20content:',_0xd572d7),_0x32294b[_0x1a2e0e(0xa19)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0xd572d7[_0x1a2e0e(0xa6b)]+'</p>';}}function displayTeachingContent(_0x123b26,_0x339706){const _0x3294e5=_0x5319e2,_0x58d983=document['getElementById']('lesson-plan-content');document[_0x3294e5(0x6e6)]('lesson-plan-title')['textContent']=_0x3294e5(0x764)+_0x339706;const _0x3d32e0=_0x3294e5(0xbc1)+_0x123b26[_0x3294e5(0x69d)][_0x3294e5(0x23a)](_0x588cff=>_0x3294e5(0x688)+_0x588cff+_0x3294e5(0xd2e))['join']('')+_0x3294e5(0x8ab)+_0x123b26[_0x3294e5(0x38a)][_0x3294e5(0x23a)](_0x618e0f=>_0x3294e5(0x688)+_0x618e0f+'</li>')['join']('')+_0x3294e5(0xc0c)+_0x123b26[_0x3294e5(0x236)][_0x3294e5(0x23a)](_0x205782=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x205782['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x205782['solution']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3294e5(0x975)]('')+_0x3294e5(0xd82)+_0x123b26[_0x3294e5(0x1c2)][_0x3294e5(0x23a)](_0x39f077=>_0x3294e5(0x688)+_0x39f077+'</li>')[_0x3294e5(0x975)]('')+_0x3294e5(0xb9a);_0x58d983['innerHTML']=_0x3d32e0;if(window[_0x3294e5(0x19c)])MathJax[_0x3294e5(0xc6e)]([_0x58d983]);}async function generateQuizForSingleTopic(_0x163318){const _0xabb1b1=_0x5319e2;console[_0xabb1b1(0x8b1)](_0xabb1b1(0x593)+_0x163318+'\x22');const _0x5e1597=document[_0xabb1b1(0x6e6)](_0xabb1b1(0xbd7)),_0x21dd61=_0x5e1597[_0xabb1b1(0x7ed)][_0xabb1b1(0x4f1)]>0x0?_0x5e1597[_0xabb1b1(0x7ed)][0x0]:null;let _0x284744=null;if(_0x21dd61)try{const _0x1c1e46=new FileReader();_0x1c1e46['readAsDataURL'](_0x21dd61);const _0x5f3329=await new Promise((_0x572575,_0x452751)=>{const _0x19906f=_0xabb1b1;_0x1c1e46[_0x19906f(0x904)]=()=>_0x572575(_0x1c1e46[_0x19906f(0xcb3)][_0x19906f(0x3ba)](',')[0x1]),_0x1c1e46[_0x19906f(0x66e)]=_0x32c23a=>_0x452751(_0x32c23a);});_0x284744=[{'inlineData':{'mimeType':_0x21dd61['type'],'data':_0x5f3329}}];}catch(_0x106d14){console['error'](_0xabb1b1(0x4bc),_0x106d14),showMessage(_0xabb1b1(0x5c1));return;}generateQuiz(_0x163318,null,null,_0x284744,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x33870=null){const _0xca11af=_0x5319e2,_0x132e30=document[_0xca11af(0x6e6)]('loader'),_0x442b0e=document[_0xca11af(0x6e6)]('loader-text');let _0xaba956,_0xc4bfc3=[];if(_0x33870)_0xaba956=_0x33870,_0xc4bfc3=_0xaba956[_0xca11af(0x1e1)](0x2);else{const _0x43fe43=document[_0xca11af(0x6e6)]('blueprint-upload-input'),_0x12a643=document[_0xca11af(0x6e6)](_0xca11af(0xbd7)),_0x39df0c=_0x43fe43[_0xca11af(0x7ed)][0x0];if(!_0x39df0c){showMessage(_0xca11af(0xd1f));return;}_0x442b0e[_0xca11af(0xb7b)]=_0xca11af(0x5fb);const _0x5aabdd=await new Promise((_0x346673,_0x480e8d)=>{const _0x59fad0=_0xca11af,_0x4b5ef3=new FileReader();_0x4b5ef3[_0x59fad0(0x326)](_0x39df0c),_0x4b5ef3['onload']=()=>_0x346673(_0x4b5ef3['result']['split'](',')[0x1]),_0x4b5ef3['onerror']=_0x480e8d;});_0xaba956=[{'text':_0xca11af(0x466)},{'inlineData':{'mimeType':_0x39df0c[_0xca11af(0xe5f)],'data':_0x5aabdd}}];if(_0x12a643[_0xca11af(0x7ed)][_0xca11af(0x4f1)]>0x0){const _0x16a30b=_0x12a643[_0xca11af(0x7ed)][0x0];_0x442b0e[_0xca11af(0xb7b)]=_0xca11af(0xde3);const _0x2ffa2c=await new Promise((_0x3a8604,_0x447ca9)=>{const _0x26e053=_0xca11af,_0x158b5a=new FileReader();_0x158b5a['readAsDataURL'](_0x16a30b),_0x158b5a['onload']=()=>_0x3a8604(_0x158b5a['result'][_0x26e053(0x3ba)](',')[0x1]),_0x158b5a['onerror']=_0x447ca9;}),_0x18fd3c={'inlineData':{'mimeType':_0x16a30b[_0xca11af(0xe5f)],'data':_0x2ffa2c}};_0xaba956[_0xca11af(0xbda)](_0x18fd3c),_0xc4bfc3[_0xca11af(0xbda)](_0x18fd3c);}}const _0x4b6683=_0xca11af(0xd4b),_0x54fce8='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x378fe5='';_0xc4bfc3&&_0xc4bfc3['length']>0x0?_0x378fe5=_0x4b6683:_0x378fe5=_0x54fce8;const _0x292999=_0xca11af(0xa5d)+_0x378fe5+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0xb1ae9d={'type':'OBJECT','properties':{'questionText':{'type':_0xca11af(0x69c)},'questionType':{'type':_0xca11af(0x69c),'enum':[_0xca11af(0x2d2),_0xca11af(0xcea),_0xca11af(0x1cc),_0xca11af(0x1f6)]},'options':{'type':_0xca11af(0x433),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xca11af(0xe0e)},'idealAnswer':{'type':_0xca11af(0x69c)},'correctAnswer':{'type':_0xca11af(0x480)},'explanation':{'type':_0xca11af(0x69c)},'imageCode':{'type':'STRING'}},'required':[_0xca11af(0x823),_0xca11af(0x579)]},_0x508860={'type':_0xca11af(0xce9),'properties':{'topic':{'type':_0xca11af(0x69c)},'questions':{'type':_0xca11af(0x433),'items':_0xb1ae9d}},'required':[_0xca11af(0x9ec),_0xca11af(0x521)]};_0xaba956[0x0]['text']=_0x292999,await handleApiCall(_0xaba956,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x508860);}function proceedToNextQuestion(_0x4311f7){const _0x2c8fb3=_0x5319e2;studentAnswersPerQuestion[_0x2c8fb3(0xbda)](_0x4311f7),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2c8fb3(0x521)][_0x2c8fb3(0x4f1)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x54bbc2,_0x3d773c,_0x192a3a){const _0x159336=_0x5319e2,_0x5132b6=Object[_0x159336(0x129)](_0x54bbc2['players']||{}),_0x585727=_0x5132b6['length'],_0x209058=_0x192a3a,_0x3a995f=_0x54bbc2[_0x159336(0xa30)]||_0x159336(0xd75),_0x5334ea=_0x3a995f===_0x159336(0x874)||_0x3a995f==='anonymous_reveal_end',_0x2da988=_0x3a995f===_0x159336(0xaf6)||_0x3a995f===_0x159336(0x1e6),_0x33ecc1=_0x54bbc2['isAnonymousRevealed']===!![],_0x22b2c0=_0x3a995f===_0x159336(0xbf8),_0x5e72e2=_0x54bbc2[_0x159336(0x320)][_0x159336(0x521)],_0x1c01a9=_0x5e72e2[_0x209058],_0x55b774=_0x36c12b=>String['fromCharCode'](0x41+_0x36c12b),_0x246b04=_0x5132b6['map'](_0x4b43f4=>{const _0x444dce=_0x159336,_0x57e965=(_0x4b43f4[_0x444dce(0xa77)]||[])[_0x444dce(0xbdf)](_0x5d3eda=>{const _0x44e69f=_0x444dce;if(_0x2da988)return _0x5d3eda[_0x44e69f(0x737)]<=_0x209058;return!![];});let _0x550c84=0x0,_0x1dfb45=0x0;_0x2da988?(_0x550c84=_0x57e965['filter'](_0x1cfb54=>_0x1cfb54['isCorrect'])[_0x444dce(0x4f1)],_0x1dfb45=_0x57e965[_0x444dce(0xe69)]((_0x23a7dd,_0x3fa5e4)=>_0x23a7dd+(_0x3fa5e4[_0x444dce(0x9d0)]||0x0),0x0)):(_0x550c84=_0x4b43f4['score']||0x0,_0x1dfb45=_0x4b43f4['totalPoints']||0x0);const _0x113dd6=[..._0x57e965]['sort']((_0x523997,_0x59cbdf)=>_0x523997[_0x444dce(0x737)]-_0x59cbdf['questionIndex']);let _0x2d8f75=0x0;return _0x113dd6[_0x444dce(0xbf2)](_0x4fa04d=>{const _0x1325eb=_0x444dce,_0x380879=_0x4fa04d[_0x1325eb(0xdae)]&&_0x4fa04d[_0x1325eb(0xdae)]!=='wagerMultiplier'||_0x4fa04d[_0x1325eb(0x2b0)];_0x4fa04d[_0x1325eb(0x1a1)]?_0x380879?_0x2d8f75=0x0:_0x2d8f75++:_0x2d8f75=0x0;}),{..._0x4b43f4,'realScore':_0x550c84,'totalPoints':_0x1dfb45,'answers':_0x57e965,'correctStreak':_0x2d8f75};}),_0x5f50aa=Math[_0x159336(0xd01)](..._0x246b04['map'](_0x10feed=>_0x10feed[_0x159336(0x812)]),-Infinity),_0x4fab5e=Math[_0x159336(0xd01)](..._0x246b04['map'](_0x2a1a4f=>_0x2a1a4f[_0x159336(0x163)]),-Infinity),_0x3c66b2=_0x54bbc2[_0x159336(0xc55)]===!![],_0x319e97=[..._0x246b04]['sort']((_0x1ae7ee,_0x3a84ca)=>{const _0x5ced85=_0x159336;if(_0x3c66b2){const _0x50d74b=_0x3a84ca[_0x5ced85(0x812)]-_0x1ae7ee[_0x5ced85(0x812)];if(_0x50d74b!==0x0)return _0x50d74b;const _0x571291=_0x3a84ca['realScore']-_0x1ae7ee[_0x5ced85(0x163)];if(_0x571291!==0x0)return _0x571291;return(_0x1ae7ee[_0x5ced85(0x1dc)]||'')[_0x5ced85(0x8ed)](_0x3a84ca[_0x5ced85(0x1dc)]||'','th');}else{const _0xda6c63=_0x3a84ca['totalPoints']-_0x1ae7ee[_0x5ced85(0x812)];if(_0xda6c63!==0x0)return _0xda6c63;const _0xb755d5=_0x3a84ca['realScore']-_0x1ae7ee[_0x5ced85(0x163)];if(_0xb755d5!==0x0)return _0xb755d5;return(_0x1ae7ee['name']||'')[_0x5ced85(0x8ed)](_0x3a84ca['name']||'','th');}});let _0x2bf394=0x1;for(let _0x36c1e2=0x0;_0x36c1e2<_0x319e97[_0x159336(0x4f1)];_0x36c1e2++){if(_0x36c1e2>0x0){const _0xb31b82=_0x319e97[_0x36c1e2-0x1],_0x265d4a=_0x319e97[_0x36c1e2];let _0xc9aa70=![];_0x3c66b2?_0xc9aa70=_0x265d4a[_0x159336(0x812)]===_0xb31b82['totalPoints']&&_0x265d4a[_0x159336(0x163)]===_0xb31b82[_0x159336(0x163)]:_0xc9aa70=_0x265d4a[_0x159336(0x812)]===_0xb31b82[_0x159336(0x812)]&&_0x265d4a[_0x159336(0x163)]===_0xb31b82[_0x159336(0x163)],!_0xc9aa70&&(_0x2bf394=_0x36c1e2+0x1);}_0x319e97[_0x36c1e2][_0x159336(0x4b7)]=_0x2bf394;}let _0x56882c='';const _0x17b6ab=!_0x22b2c0&&!(_0x5334ea&&_0x54bbc2[_0x159336(0x50c)]===![]);if(_0x1c01a9&&_0x17b6ab){let _0x10879e='',_0xe7e62c='';const _0x325d31=_0x1c01a9[_0x159336(0x823)]||_0x54bbc2[_0x159336(0x320)]['quizType'];if(_0x325d31===_0x159336(0x2d2)&&_0x1c01a9[_0x159336(0x4ff)]){const _0x9ab7c5=_0x1c01a9[_0x159336(0x9be)];_0x10879e=_0x1c01a9[_0x159336(0x4ff)][_0x9ab7c5],_0xe7e62c=_0x55b774(_0x9ab7c5)+'.';}else{if(_0x325d31===_0x159336(0x1cc)){const _0x33dac7=String(_0x1c01a9[_0x159336(0x8aa)])['toLowerCase']()==='true';_0x10879e=_0x33dac7?_0x159336(0x9d2):_0x159336(0xe4e),_0xe7e62c=_0x33dac7?'ก.':'ข.';}else{if(_0x325d31===_0x159336(0x1f6))_0x10879e=_0x1c01a9[_0x159336(0x5d8)]||'-';else(_0x325d31===_0x159336(0xcea)||_0x325d31==='fill_in_no_choices')&&(_0x10879e=_0x1c01a9[_0x159336(0x2fc)]||'-');}}_0x10879e&&(_0x56882c=_0x159336(0x5b1)+(_0x209058+0x1)+_0x159336(0x9b2)+_0xe7e62c+'\x20'+_0x10879e+_0x159336(0xde0));}const _0x3778d8=_0x319e97[_0x159336(0x23a)]((_0x17b9bf,_0xe75ce1)=>{const _0x29bc3d=_0x159336,_0x4477f0=_0x17b9bf[_0x29bc3d(0x163)],_0x1a31bc=_0x17b9bf[_0x29bc3d(0x812)],_0x2c2076=(_0x17b9bf[_0x29bc3d(0xa77)]||[])[_0x29bc3d(0x8af)](_0x27be56=>_0x27be56[_0x29bc3d(0x737)]===_0x192a3a),_0x30ba5a=_0x17b9bf[_0x29bc3d(0xa77)]['length'];let _0x33c3a9='';if(_0x2c2076){if(_0x2c2076[_0x29bc3d(0xcb7)])_0x33c3a9+=_0x29bc3d(0x1ff);if(_0x2c2076[_0x29bc3d(0xa4f)])_0x33c3a9+=_0x29bc3d(0x25c);if(_0x2c2076[_0x29bc3d(0x2b0)])_0x33c3a9+='<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>';const _0x5436fa=_0x2c2076[_0x29bc3d(0xdae)];if(_0x5436fa){const _0xb18de5={'poll':'📊','cutOne':'✂️','insurance':_0x29bc3d(0x5da),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0xb18de5[_0x5436fa])_0x33c3a9+=_0x29bc3d(0x9b9)+_0xb18de5[_0x5436fa]+_0x29bc3d(0x8d8);}}let _0x57f3a1='';const _0x4b7c13=_0x17b9bf[_0x29bc3d(0xb98)]||0x0,_0x264689=_0x2c2076&&_0x2c2076[_0x29bc3d(0x2b0)],_0x1ee41e=_0x2c2076&&_0x2c2076[_0x29bc3d(0xdae)]&&_0x2c2076[_0x29bc3d(0xdae)]!=='wagerMultiplier';!_0x22b2c0&&_0x4b7c13>=0x3&&!_0x264689&&!_0x1ee41e&&(_0x57f3a1+=_0x29bc3d(0x879)+_0x4b7c13+'</span>');if(!_0x22b2c0&&_0x30ba5a>0x0){if(_0x3c66b2){if(_0x1a31bc===_0x5f50aa&&_0x5f50aa>0x0)_0x57f3a1+=_0x29bc3d(0x6cc);if(_0x4477f0===_0x4fab5e&&_0x4fab5e>0x0)_0x57f3a1+=_0x29bc3d(0x1e8);}else{const _0x5ba64d=_0x17b9bf[_0x29bc3d(0x163)]===_0x192a3a+0x1;if(_0x5ba64d)_0x57f3a1+=_0x29bc3d(0x4e7);}if(_0x57f3a1===''&&_0x1a31bc<0x0)_0x57f3a1+='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x21367c='bg-black/20',_0x5b29cc=![],_0x47769d=![];if(!_0x22b2c0){const _0x39f69f=(_0x17b9bf[_0x29bc3d(0xa77)]||[])[_0x29bc3d(0x8af)](_0x1050c6=>_0x1050c6[_0x29bc3d(0x737)]===_0x209058);if(_0x39f69f){const _0x462247=_0x39f69f[_0x29bc3d(0x1a1)],_0x2b6d02=_0x39f69f[_0x29bc3d(0x7d6)]===!![]||_0x39f69f['wasConfident']==='confident',_0x35dcfc=_0x39f69f['powerupUsed'];if(_0x35dcfc===_0x29bc3d(0x990))_0x462247?(_0x21367c=_0x29bc3d(0xd3e),_0x5b29cc=!![]):(_0x21367c=_0x29bc3d(0xc59),_0x47769d=!![]);else{if(_0x2b6d02)_0x21367c=_0x462247?_0x29bc3d(0x1ef):_0x29bc3d(0x8a4);else _0x462247&&(_0x21367c=_0x29bc3d(0x1ee));}}}let _0x8b4969='';const _0x4c192b=_0x17b9bf[_0x29bc3d(0x1dc)],_0x590d4a=_0x54bbc2['playerNicknames'][_0x17b9bf['name']]||_0x29bc3d(0xbfc),_0x555003=_0x29bc3d(0x2cb),_0xdadf6f=_0x29bc3d(0x55e),_0x4c372f=_0x5b29cc?'text-yellow-800':_0x29bc3d(0xa43);let _0x218fcb='';const _0x308995=_0x1a31bc>=0x0?'(+'+_0x1a31bc[_0x29bc3d(0xe3a)]()+')':'('+_0x1a31bc[_0x29bc3d(0xe3a)]()+')',_0x53969b=_0x29bc3d(0x7b3)+_0x4477f0+_0x29bc3d(0x6b8)+_0x308995+_0x29bc3d(0x8d8);if(_0x3d773c){if(_0x5334ea&&!_0x33ecc1)_0x47769d?_0x8b4969=_0x29bc3d(0x6c4)+_0x555003+_0x29bc3d(0x447)+_0x4c192b+'\x20('+_0x590d4a+_0x29bc3d(0x94a)+_0xdadf6f+'\x22>'+_0x4c192b+_0x29bc3d(0x23d)+_0x33c3a9+'\x20'+_0x57f3a1+_0x29bc3d(0x165)+_0x4c372f+_0x29bc3d(0x2e4)+_0xdadf6f+_0x29bc3d(0x4d4)+_0x590d4a+_0x29bc3d(0xa6a):_0x8b4969=_0x29bc3d(0x6c4)+_0x555003+_0x29bc3d(0x447)+_0x590d4a+_0x29bc3d(0xd8c)+_0xdadf6f+'\x22>'+_0x590d4a+_0x29bc3d(0x23d)+_0x33c3a9+'\x20'+_0x57f3a1+_0x29bc3d(0xa5a),_0x218fcb=_0x53969b;else{if(_0x5334ea&&_0x33ecc1)_0x8b4969=_0x29bc3d(0x6c4)+_0x555003+_0x29bc3d(0x447)+_0x4c192b+_0x29bc3d(0xd8c)+_0xdadf6f+'\x22>'+_0x4c192b+'</span>\x20'+_0x33c3a9+'\x20'+_0x57f3a1+_0x29bc3d(0x165)+_0x4c372f+_0x29bc3d(0x2e4)+_0xdadf6f+_0x29bc3d(0x4d4)+_0x590d4a+_0x29bc3d(0xa6a),_0x218fcb=_0x53969b;else _0x22b2c0?(_0x8b4969=_0x29bc3d(0x6c4)+_0x555003+_0x29bc3d(0x447)+_0x4c192b+_0x29bc3d(0xd8c)+_0xdadf6f+'\x22>'+_0x4c192b+_0x29bc3d(0x23d)+_0x33c3a9+'\x20'+_0x57f3a1+_0x29bc3d(0xa5a),_0x218fcb=''):(_0x8b4969=_0x29bc3d(0x6c4)+_0x555003+_0x29bc3d(0x447)+_0x4c192b+'\x22><span\x20style=\x22'+_0xdadf6f+'\x22>'+_0x4c192b+'</span>\x20'+_0x33c3a9+'\x20'+_0x57f3a1+_0x29bc3d(0xa5a),_0x218fcb=_0x53969b);}}return _0x29bc3d(0x7ad)+_0x21367c+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+_0x17b9bf['displayRank']+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8b4969+_0x29bc3d(0x500)+_0x218fcb+_0x29bc3d(0xa21);})['join'](''),_0x3470f8=_0x5e72e2['map']((_0x164821,_0x59622b)=>{const _0x301d1a=_0x159336;if(_0x2da988&&_0x59622b>_0x209058||_0x22b2c0)return'';const _0x426334=_0x246b04[_0x301d1a(0xbdf)](_0x241a20=>_0x241a20[_0x301d1a(0xa77)]&&_0x241a20[_0x301d1a(0xa77)]['find'](_0x40d170=>_0x40d170['questionIndex']===_0x59622b&&_0x40d170['isCorrect']))[_0x301d1a(0x4f1)],_0x4fd93e=_0x59622b===_0x209058,_0x390816=_0x4fd93e?_0x301d1a(0x336):'p-2\x20bg-black/10\x20rounded-md';return _0x301d1a(0x33c)+_0x390816+_0x301d1a(0x5e5)+(_0x59622b+0x1)+_0x301d1a(0x6aa)+_0x426334+'\x20/\x20'+_0x585727+_0x301d1a(0x4af);})[_0x159336(0x975)]('');let _0x1dee89='',_0x3abf5d='';if(_0x3d773c){const _0x54f82d=_0x3a995f===_0x159336(0xd75)&&_0x54bbc2['currentQuestionIndex']>=_0x5e72e2[_0x159336(0x4f1)]-0x1,_0x363382=_0x2da988&&_0x54bbc2[_0x159336(0xe82)]>=_0x5e72e2[_0x159336(0x4f1)]-0x1,_0x17a8b0=_0x3a995f===_0x159336(0xbf8)&&_0x54bbc2[_0x159336(0x519)]>=_0x5e72e2[_0x159336(0x4f1)]-0x1,_0x17cfb6=_0x5334ea&&!_0x2da988&&_0x54bbc2[_0x159336(0x519)]>=_0x5e72e2['length']-0x1;if(_0x2da988)_0x363382?_0x5334ea&&!_0x33ecc1?_0x1dee89='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x1dee89=_0x159336(0x8f1):_0x1dee89=_0x159336(0x120);else _0x54f82d||_0x17a8b0||_0x17cfb6?_0x5334ea&&!_0x33ecc1?_0x1dee89=_0x159336(0x842):_0x1dee89=_0x159336(0x8f1):_0x1dee89=_0x159336(0x696);_0x3abf5d=_0x159336(0x9eb);}const _0x58eef6=_0x22b2c0||_0x5334ea&&!_0x54bbc2['showAnswerInAnonymous']?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x3470f8+_0x159336(0x81d),_0xf82f13=_0x22b2c0||_0x5334ea&&!_0x54bbc2[_0x159336(0x50c)]?_0x159336(0x74c):_0x159336(0xab0),_0x21abb1=_0x159336(0x758)+_0x54bbc2[_0x159336(0x320)][_0x159336(0x9ec)]+_0x159336(0x334)+_0x54bbc2['pin']+_0x159336(0x461)+_0x3abf5d+_0x159336(0x79c)+_0x56882c+_0x159336(0xe40)+_0xf82f13+_0x159336(0x70a)+(_0x3778d8||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x159336(0x1ad)+_0x58eef6+_0x159336(0xa5e)+(_0x3d773c?_0x159336(0xb3d)+_0x1dee89+_0x159336(0xa5a):'')+_0x159336(0x567);liveGameView['innerHTML']=_0x21abb1;if(window[_0x159336(0x19c)]){const _0x49c8a7=document[_0x159336(0x6e6)](_0x159336(0xdad));_0x49c8a7&&MathJax[_0x159336(0xc6e)]([_0x49c8a7]);}if(_0x3d773c){const _0x1d37eb=document[_0x159336(0x6e6)](_0x159336(0xdc1));_0x1d37eb&&(_0x1d37eb[_0x159336(0x4aa)]=async()=>{const _0x3fcdf8=_0x159336,_0x137ab1=doc(db,_0x3fcdf8(0x555)+appId+_0x3fcdf8(0x6ba),currentLiveGameId),_0x9c4b35=_0x54bbc2[_0x3fcdf8(0x519)]+0x1,_0x282141=_0x54bbc2[_0x3fcdf8(0x320)][_0x3fcdf8(0x521)][_0x3fcdf8(0x4f1)];!_0x2da988&&_0x9c4b35<_0x282141?await updateDoc(_0x137ab1,{'status':_0x3fcdf8(0x195),'currentQuestionIndex':_0x9c4b35,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x137ab1,{'status':_0x3fcdf8(0x636)});});const _0x273d5c=document[_0x159336(0x6e6)]('next-review-question-btn');_0x273d5c&&(_0x273d5c[_0x159336(0x4aa)]=async()=>{const _0x1cad6f=_0x159336,_0x4e271c=doc(db,_0x1cad6f(0x555)+appId+_0x1cad6f(0x6ba),currentLiveGameId);await updateDoc(_0x4e271c,{'reviewQuestionIndex':increment(0x1)});});document['getElementById'](_0x159336(0xa36))?.[_0x159336(0x49d)](_0x159336(0xa6e),async()=>{const _0x231729=_0x159336;await updateDoc(doc(db,_0x231729(0x555)+appId+_0x231729(0x6ba),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5c3172=document[_0x159336(0x6e6)](_0x159336(0x544));_0x5c3172&&(_0x5c3172['onclick']=()=>{const _0x36ea7c=_0x159336;showConfirmation(_0x36ea7c(0xa09),async()=>{const _0x5e2d3b=_0x36ea7c;await updateDoc(doc(db,_0x5e2d3b(0x555)+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x5e2d3b(0x636)});});});}}async function handleGenerateParallelFromBank(_0x2824e1){const _0x56a743=_0x5319e2,_0x4d67a6=document[_0x56a743(0x6e6)](_0x56a743(0xb20)),_0x105168=document[_0x56a743(0x6e6)](_0x56a743(0x8b6));_0x105168[_0x56a743(0x3d9)][_0x56a743(0x831)]('hidden');const _0x11af15=_0x56a743(0xd0c)+_0x2824e1[_0x56a743(0x9ec)]+_0x56a743(0x646);_0x4d67a6['insertAdjacentHTML'](_0x56a743(0x1c3),_0x11af15);const _0x2c1afc=document[_0x56a743(0x6e6)](_0x56a743(0x543));try{const _0x442308=_0x2824e1['questions'][_0x56a743(0x23a)]((_0x4dcfeb,_0x4d7180)=>{const _0x2b7700=_0x56a743;let _0x5da8d1=_0x4d7180+0x1+'.\x20'+(_0x4dcfeb[_0x2b7700(0x14e)]||_0x4dcfeb[_0x2b7700(0x2f8)])+'\x0a';if(_0x4dcfeb[_0x2b7700(0x4ff)])_0x5da8d1+=_0x4dcfeb[_0x2b7700(0x4ff)][_0x2b7700(0x23a)]((_0xa2dcf,_0x1d98b5)=>'\x20\x20\x20-\x20'+(_0x1d98b5===_0x4dcfeb['correctAnswerIndex']?_0x2b7700(0x81c):'')+'\x20'+_0xa2dcf)[_0x2b7700(0x975)]('\x0a');else _0x4dcfeb['idealAnswer']&&(_0x5da8d1+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x4dcfeb[_0x2b7700(0x2fc)]);return _0x5da8d1;})[_0x56a743(0x975)]('\x0a\x0a');_0x2c1afc[_0x56a743(0xb7b)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1c667c=_0x56a743(0x7ce)+_0x2824e1[_0x56a743(0x9ec)]+_0x56a743(0x8d1)+_0x442308+_0x56a743(0x9a1)+simpleMathPrompt+_0x56a743(0x8d5),_0xc38d6b={'type':_0x56a743(0xce9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x56a743(0x69c),'enum':['multiple_choice',_0x56a743(0xcea),'true_false',_0x56a743(0x1f6)]},'options':{'type':_0x56a743(0x433),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x56a743(0xe0e)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x56a743(0x69c)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x56a743(0x433),'items':{'type':'STRING'}},'explanation':{'type':_0x56a743(0x69c)},'imageCode':{'type':'STRING'}},'required':[_0x56a743(0x823),_0x56a743(0x579)]},_0x105369={'type':_0x56a743(0xce9),'properties':{'topic':{'type':_0x56a743(0x69c)},'questions':{'type':_0x56a743(0x433),'items':_0xc38d6b}},'required':[_0x56a743(0x9ec),_0x56a743(0x521)]},_0x69293e=await callAnalysisApi(_0x1c667c,_0x105369),_0x2ef044=_0x69293e[_0x56a743(0x521)][_0x56a743(0x23a)]((_0x36efe7,_0x42166b)=>({..._0x36efe7,'id':'q_'+Date[_0x56a743(0xc35)]()+'_'+_0x42166b})),_0x445811=_0x56a743(0x629)+_0x2824e1['topic'],_0x235f44={'topic':_0x445811,'questions':_0x2ef044,'quizType':_0x2824e1[_0x56a743(0xd29)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x56a743(0x5be)](),'status':_0x56a743(0x797),'settings':_0x2824e1[_0x56a743(0x531)],'quizMode':_0x56a743(0xc3c),'pairedQuizId':null,'lessonPlan':null};let _0x1728ec;while(!![]){_0x1728ec=Math[_0x56a743(0x5d2)](0x3e8+Math[_0x56a743(0x46d)]()*0x2328)[_0x56a743(0xdd7)]();const _0x68b73c=await getDoc(doc(db,_0x56a743(0x555)+appId+_0x56a743(0x935),_0x1728ec));if(!_0x68b73c[_0x56a743(0x958)]())break;}await setDoc(doc(db,_0x56a743(0x555)+appId+_0x56a743(0x935),_0x1728ec),_0x235f44),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x5c41ad){console['error'](_0x56a743(0xdf7),_0x5c41ad),showMessage(_0x56a743(0x1f5)+_0x5c41ad[_0x56a743(0xa6b)]);}finally{const _0x4eb605=document['getElementById'](_0x56a743(0xe1b));_0x4eb605&&_0x4eb605[_0x56a743(0xb00)](),_0x105168[_0x56a743(0x3d9)][_0x56a743(0xb00)](_0x56a743(0xd60));}}async function handleGenerateParallelPostTest(_0x4ad18f){const _0x5de4da=_0x5319e2,_0xa8ff26=document[_0x5de4da(0x6e6)](_0x5de4da(0xb20)),_0x8ab98d=document[_0x5de4da(0x6e6)](_0x5de4da(0x8b6));_0x8ab98d[_0x5de4da(0x3d9)][_0x5de4da(0x831)](_0x5de4da(0xd60));const _0x557bc6=_0x5de4da(0x62f);_0xa8ff26['insertAdjacentHTML'](_0x5de4da(0x1c3),_0x557bc6);try{const _0x4f0e12=_0x4ad18f[_0x5de4da(0x521)][_0x5de4da(0x23a)]((_0x233bf4,_0x1fb380)=>{const _0x400489=_0x5de4da;let _0x48900c=_0x1fb380+0x1+'.\x20'+(_0x233bf4['questionText']||_0x233bf4[_0x400489(0x2f8)]);if(_0x233bf4[_0x400489(0x4ff)])_0x48900c+=_0x400489(0xd50)+_0x233bf4[_0x400489(0x4ff)][_0x400489(0x975)](',\x20');return _0x48900c;})[_0x5de4da(0x975)]('\x0a\x0a'),_0x119b63=_0x5de4da(0xb0f)+_0x4ad18f[_0x5de4da(0x9ec)]+_0x5de4da(0x2db)+_0x4f0e12+_0x5de4da(0xd4d)+simpleMathPrompt+_0x5de4da(0x8d5),_0x445c81={'type':_0x5de4da(0xce9),'properties':{'topic':{'type':_0x5de4da(0x69c)},'questions':{'type':_0x5de4da(0x433),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x5de4da(0x69c)},'questionType':{'type':_0x5de4da(0x69c)},'options':{'type':_0x5de4da(0x433),'items':{'type':_0x5de4da(0x69c)}},'correctAnswerIndex':{'type':_0x5de4da(0xe0e)},'idealAnswer':{'type':_0x5de4da(0x69c)},'explanation':{'type':_0x5de4da(0x69c)}},'required':[_0x5de4da(0x14e),_0x5de4da(0x579)]}}},'required':[_0x5de4da(0x9ec),_0x5de4da(0x521)]},_0x5eab03=await callAnalysisApi(_0x119b63,_0x445c81),_0x2cfc36=_0x4ad18f[_0x5de4da(0x9ec)][_0x5de4da(0xa31)]('(ก่อนเรียน)','')[_0x5de4da(0xc3f)](),_0x1414b4=_0x5de4da(0x8a5)+_0x2cfc36,_0xe4fb18={..._0x5eab03,'topic':_0x1414b4,'quizType':_0x4ad18f[_0x5de4da(0xd29)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x5de4da(0x797),'settings':_0x4ad18f[_0x5de4da(0x531)],'quizMode':_0x5de4da(0x4a9),'pairedQuizId':_0x4ad18f['id']};let _0x29fdb2;while(!![]){_0x29fdb2=Math[_0x5de4da(0x5d2)](0x3e8+Math[_0x5de4da(0x46d)]()*0x2328)[_0x5de4da(0xdd7)]();const _0x2e52de=await getDoc(doc(db,'artifacts/'+appId+_0x5de4da(0x935),_0x29fdb2));if(!_0x2e52de[_0x5de4da(0x958)]())break;}await setDoc(doc(db,_0x5de4da(0x555)+appId+_0x5de4da(0x935),_0x29fdb2),_0xe4fb18);const _0x133c83=doc(db,'artifacts/'+appId+_0x5de4da(0x935),_0x4ad18f['id']);await updateDoc(_0x133c83,{'pairedQuizId':_0x29fdb2}),showMessage(_0x5de4da(0x278));}catch(_0x20eb9d){console['error'](_0x5de4da(0x142),_0x20eb9d),showMessage(_0x5de4da(0x1f5)+_0x20eb9d[_0x5de4da(0xa6b)]);}finally{const _0x75d3d1=document[_0x5de4da(0x6e6)](_0x5de4da(0xe1b));if(_0x75d3d1)_0x75d3d1['remove']();_0x8ab98d['classList'][_0x5de4da(0xb00)](_0x5de4da(0xd60));}}async function handleGenerateParallelTest(_0x41e3fe=null){const _0x210d65=_0x5319e2;let _0x331f1e=_0x41e3fe;if(!_0x331f1e){const _0x1ce994=document[_0x210d65(0x6e6)](_0x210d65(0x67f));_0x1ce994[_0x210d65(0x7ed)][_0x210d65(0x4f1)]>0x0&&(_0x331f1e=_0x1ce994[_0x210d65(0x7ed)][0x0]);}if(!_0x331f1e){showMessage(_0x210d65(0xc18));return;}const _0x4c0d50=document[_0x210d65(0x6e6)](_0x210d65(0x6f0)),_0x47fe8b=document[_0x210d65(0x6e6)](_0x210d65(0x4a5)),_0x1d7b1c=document[_0x210d65(0x6e6)](_0x210d65(0x5b5)),_0x2a46a9=document[_0x210d65(0x6e6)](_0x210d65(0x426));_0x2a46a9[_0x210d65(0xe9a)]=!![],document[_0x210d65(0x6e6)](_0x210d65(0x9f5))[_0x210d65(0x3d9)]['remove'](_0x210d65(0xd60)),_0x1d7b1c[_0x210d65(0xa19)]='',_0x4c0d50[_0x210d65(0x3d9)]['remove'](_0x210d65(0xd60)),_0x47fe8b[_0x210d65(0xb7b)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x4d62ca=new FileReader();_0x4d62ca[_0x210d65(0x326)](_0x331f1e),_0x4d62ca['onload']=async()=>{const _0x285d51=_0x210d65;try{const _0x25cbdf=_0x4d62ca[_0x285d51(0xcb3)][_0x285d51(0x3ba)](',')[0x1],_0x8ed4c1=_0x331f1e[_0x285d51(0xe5f)];_0x47fe8b[_0x285d51(0xb7b)]=_0x285d51(0xbbf);const _0x41ea5b=document['getElementById']('include-images-checkbox')[_0x285d51(0x3a6)],_0x4c5895=_0x41ea5b?_0x285d51(0xe41):'',_0x5cd5f2=_0x285d51(0xe6a),_0x18d472={'type':_0x285d51(0xce9),'properties':{'questionText':{'type':_0x285d51(0x69c)},'questionType':{'type':_0x285d51(0x69c),'enum':[_0x285d51(0x2d2),_0x285d51(0xcea)]},'options':{'type':_0x285d51(0x433),'items':{'type':_0x285d51(0x69c)}},'correctAnswerIndex':{'type':_0x285d51(0xe0e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x285d51(0x69c)},'imageCode':{'type':'STRING'}},'required':[_0x285d51(0x14e),_0x285d51(0x823),_0x285d51(0x579)]},_0x41714c={'type':_0x285d51(0xce9),'properties':{'topic':{'type':_0x285d51(0x69c)},'questions':{'type':_0x285d51(0x433),'items':_0x18d472}},'required':[_0x285d51(0x9ec),_0x285d51(0x521)]},_0x23ca69=[{'text':_0x5cd5f2},{'inlineData':{'mimeType':_0x8ed4c1,'data':_0x25cbdf}}];await handleApiCall(_0x23ca69,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x41714c);}catch(_0x574909){console[_0x285d51(0x3f8)](_0x285d51(0x773),_0x574909),showMessage(_0x285d51(0x1f5)+_0x574909[_0x285d51(0xa6b)]),_0x1d7b1c[_0x285d51(0xa19)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x4c0d50[_0x285d51(0x3d9)][_0x285d51(0x831)](_0x285d51(0xd60)),_0x2a46a9[_0x285d51(0xe9a)]=![];}},_0x4d62ca[_0x210d65(0x66e)]=_0x26ef41=>{const _0x554103=_0x210d65;console[_0x554103(0x3f8)](_0x554103(0x808),_0x26ef41),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x4c0d50['classList'][_0x554103(0x831)](_0x554103(0xd60)),_0x2a46a9[_0x554103(0xe9a)]=![];};}async function handleRegenerateQuestionInEditor(_0x647e57){const _0x25d9a2=_0x5319e2;if(currentEditingQuizData===null)return;const _0x20db8f=document[_0x25d9a2(0x86d)](_0x25d9a2(0x4fb)+_0x647e57+'\x22]');_0x20db8f&&(_0x20db8f[_0x25d9a2(0xa19)]=_0x25d9a2(0x14b));const _0x425c24=currentEditingQuizData[_0x25d9a2(0x521)][_0x647e57],_0x263a3d=currentEditingQuizData['topic'],_0x491f78=_0x425c24[_0x25d9a2(0x823)],_0x668401={'type':_0x25d9a2(0xce9),'properties':{'questionText':{'type':_0x25d9a2(0x69c)},'options':{'type':_0x25d9a2(0x433),'items':{'type':_0x25d9a2(0x69c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x25d9a2(0x69c)}},'required':[_0x25d9a2(0x14e),'options','correctAnswerIndex',_0x25d9a2(0x579)]},_0x30e451={'type':'OBJECT','properties':{'questionText':{'type':_0x25d9a2(0x69c)},'idealAnswer':{'type':_0x25d9a2(0x69c)},'explanation':{'type':'STRING'}},'required':[_0x25d9a2(0x14e),'idealAnswer','explanation']};let _0x47bb6e,_0x3910c2='';_0x491f78==='multiple_choice'?(_0x47bb6e=_0x668401,_0x3910c2=_0x25d9a2(0x6d5)):(_0x47bb6e=_0x30e451,_0x3910c2='แบบเติมคำตอบ');const _0x2c65d8=_0x25d9a2(0x1c0)+_0x263a3d+_0x25d9a2(0xb07)+_0x3910c2+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x425c24['questionText']||_0x425c24[_0x25d9a2(0x2f8)])+'\x22.\x20'+simpleMathPrompt;try{const _0x14751c=await callAnalysisApi(_0x2c65d8,_0x47bb6e);currentEditingQuizData[_0x25d9a2(0x521)][_0x647e57]={..._0x425c24,..._0x14751c},renderQuizEditor(currentEditingQuizData);}catch(_0x13b462){console[_0x25d9a2(0x3f8)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x13b462),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x49c938=_0x5319e2,_0x1dd017=document[_0x49c938(0x6e6)](_0x49c938(0x99b));currentMode===_0x49c938(0x6ca)?(currentMode=_0x49c938(0x219),_0x1dd017[_0x49c938(0xa19)]=_0x49c938(0x4c0),_0x1dd017[_0x49c938(0xa18)]='สลับไปโหมดนักเรียน',showView(_0x49c938(0xdd6))):(currentMode=_0x49c938(0x6ca),_0x1dd017[_0x49c938(0xa19)]=_0x49c938(0x6c7),_0x1dd017[_0x49c938(0xa18)]=_0x49c938(0xb5f),showView(_0x49c938(0x6ca)));}function handleAdminLogin(){const _0x1bd331=_0x5319e2,_0x2dce98=document[_0x1bd331(0x6e6)](_0x1bd331(0xc24)),_0x90bd72=document[_0x1bd331(0x6e6)](_0x1bd331(0xd43));if(_0x2dce98[_0x1bd331(0xb2d)]==='27411472'){adminPasswordModal[_0x1bd331(0x3d9)][_0x1bd331(0x831)](_0x1bd331(0xd60)),_0x2dce98[_0x1bd331(0xb2d)]='',_0x90bd72[_0x1bd331(0x3d9)][_0x1bd331(0x831)](_0x1bd331(0xd60)),currentMode=_0x1bd331(0x219);const _0x323574=document[_0x1bd331(0x6e6)](_0x1bd331(0x99b));_0x323574[_0x1bd331(0xa19)]=_0x1bd331(0x4c0),_0x323574['title']=_0x1bd331(0x144),showView(_0x1bd331(0xdd6));}else _0x90bd72[_0x1bd331(0x3d9)]['remove'](_0x1bd331(0xd60)),_0x2dce98[_0x1bd331(0xb2d)]='';}function switchProjectTab(_0x584607){const _0x3191ea=_0x5319e2;[_0x3191ea(0x7f0),'results',_0x3191ea(0x8bb)]['forEach'](_0xe9f53c=>{const _0x34ecc6=_0x3191ea;document[_0x34ecc6(0x6e6)](_0xe9f53c+'-tab')[_0x34ecc6(0x3d9)][_0x34ecc6(0xb00)](_0x34ecc6(0x797)),document[_0x34ecc6(0x6e6)](_0xe9f53c+'-tab-content')[_0x34ecc6(0x3d9)]['add'](_0x34ecc6(0xd60));}),document['getElementById'](_0x584607+_0x3191ea(0x85e))[_0x3191ea(0x3d9)][_0x3191ea(0x831)](_0x3191ea(0x797)),document[_0x3191ea(0x6e6)](_0x584607+_0x3191ea(0xdc6))[_0x3191ea(0x3d9)][_0x3191ea(0xb00)]('hidden');}function switchQuizDetailTab(_0xb905b4){const _0x5ee5c5=_0x5319e2,_0x1f2605={'analytics':{'btn':_0x5ee5c5(0x43f),'content':'analytics-tab-content'},'scores':{'btn':_0x5ee5c5(0x35e),'content':_0x5ee5c5(0x51f)},'leaderboard-quiz':{'btn':_0x5ee5c5(0x6cd),'content':_0x5ee5c5(0x247)},'behavior-log':{'btn':_0x5ee5c5(0x617),'content':_0x5ee5c5(0xa06)}};for(const _0xc0c69c in _0x1f2605){document[_0x5ee5c5(0x6e6)](_0x1f2605[_0xc0c69c]['btn'])['classList'][_0x5ee5c5(0xb00)](_0x5ee5c5(0x797)),document[_0x5ee5c5(0x6e6)](_0x1f2605[_0xc0c69c][_0x5ee5c5(0x23e)])[_0x5ee5c5(0x3d9)][_0x5ee5c5(0x831)]('hidden');}document['getElementById'](_0x1f2605[_0xb905b4]['btn'])[_0x5ee5c5(0x3d9)][_0x5ee5c5(0x831)](_0x5ee5c5(0x797)),document[_0x5ee5c5(0x6e6)](_0x1f2605[_0xb905b4][_0x5ee5c5(0x23e)])[_0x5ee5c5(0x3d9)]['remove'](_0x5ee5c5(0xd60));}function showMessage(_0x42f594,_0x2a2cec=null){const _0x1d17c9=_0x5319e2;modalMessage[_0x1d17c9(0xa19)]=_0x42f594[_0x1d17c9(0xa31)](/\n/g,_0x1d17c9(0xb2b)),modalConfirmAction=_0x2a2cec,messageModal[_0x1d17c9(0x3d9)][_0x1d17c9(0xb00)]('hidden');}function showConfirmation(_0x5c44c5,_0x354a51,_0x6b7d7=null){const _0x32264f=_0x5319e2;document[_0x32264f(0x6e6)](_0x32264f(0x69a))['textContent']=_0x5c44c5,document[_0x32264f(0x6e6)](_0x32264f(0x257))['querySelector']('h3')['textContent']=_0x32264f(0x1cd),confirmAction=_0x354a51,cancelAction=_0x6b7d7,confirmationModal['classList'][_0x32264f(0xb00)](_0x32264f(0xd60));}function listenForProjects(){const _0x327456=_0x5319e2,_0x19f456=doc(db,_0x327456(0xe25),_0x327456(0x8b5));onSnapshot(_0x19f456,_0x1349d6=>{const _0x2b683d=_0x327456;if(_0x1349d6[_0x2b683d(0x958)]()){const _0x2903ca=_0x1349d6['data']();globalDashboardSettings[_0x2b683d(0xe47)]=_0x2903ca[_0x2b683d(0xe47)]||_0x2b683d(0x342),globalDashboardSettings['pinnedProjects']=_0x2903ca[_0x2b683d(0xc3a)]||[],globalDashboardSettings[_0x2b683d(0xa13)]=_0x2903ca[_0x2b683d(0xa13)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x371cd5=collection(db,_0x327456(0x555)+appId+_0x327456(0x92e));unsubscribeProjectsListener=onSnapshot(_0x371cd5,_0x4c5479=>{const _0x14a927=_0x327456;allProjects=_0x4c5479['docs'][_0x14a927(0x23a)](_0x4491cb=>({'id':_0x4491cb['id'],..._0x4491cb['data']()})),renderProjects();},_0x2fb92c=>{const _0x4b6c7f=_0x327456;console[_0x4b6c7f(0x3f8)]('Error\x20listening\x20for\x20projects:',_0x2fb92c),showMessage(_0x4b6c7f(0x572));});}function showColorPalette(_0x27c521,_0x23ec77){const _0x5a36d9=_0x5319e2;document[_0x5a36d9(0x2c3)](_0x5a36d9(0xbac))['forEach'](_0x2232e=>_0x2232e['remove']());const _0x2e160a=[_0x5a36d9(0xca8),_0x5a36d9(0x8e3),_0x5a36d9(0xb47),_0x5a36d9(0xbe2),_0x5a36d9(0x2b1),_0x5a36d9(0x615),_0x5a36d9(0xdf3),_0x5a36d9(0x864),_0x5a36d9(0xb3c)],_0x3f514c=document[_0x5a36d9(0x631)](_0x5a36d9(0xbbc));_0x3f514c[_0x5a36d9(0x513)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x2e160a[_0x5a36d9(0xbf2)](_0x111af4=>{const _0x1b5c1f=_0x5a36d9,_0x3a9c49=document[_0x1b5c1f(0x631)](_0x1b5c1f(0xbbc));_0x3a9c49[_0x1b5c1f(0x513)]=_0x1b5c1f(0xc4b),_0x3a9c49[_0x1b5c1f(0xaed)][_0x1b5c1f(0x836)]=_0x111af4,_0x3a9c49['addEventListener'](_0x1b5c1f(0xa6e),()=>{handleProjectColorChange(_0x23ec77,_0x111af4),_0x3f514c['remove']();}),_0x3f514c[_0x1b5c1f(0xab8)](_0x3a9c49);}),document[_0x5a36d9(0x60c)]['appendChild'](_0x3f514c);const _0x3cecee=_0x27c521[_0x5a36d9(0x82f)]();_0x3f514c[_0x5a36d9(0xaed)][_0x5a36d9(0xb25)]=_0x3cecee[_0x5a36d9(0x7e1)]+window[_0x5a36d9(0xd09)]+'px',_0x3f514c['style'][_0x5a36d9(0xb31)]=_0x3cecee[_0x5a36d9(0xb31)]+window[_0x5a36d9(0x5cb)]-_0x3f514c[_0x5a36d9(0xa9e)]/0x2+'px';}async function handleProjectColorChange(_0x3273fa,_0x150f3a){const _0x4c7aac=_0x5319e2,_0x5a98c4=doc(db,_0x4c7aac(0x555)+appId+_0x4c7aac(0x92e),_0x3273fa);try{await updateDoc(_0x5a98c4,{'color':_0x150f3a});}catch(_0x10c2b6){console[_0x4c7aac(0x3f8)](_0x4c7aac(0x9c2),_0x10c2b6),showMessage(_0x4c7aac(0x88e));}}async function renderProjects(){const _0x2f77b5=_0x5319e2,_0x4ab1ed=globalDashboardSettings['projectSort']||'date_desc',_0x3b4e05=new Set(globalDashboardSettings[_0x2f77b5(0xc3a)]||[]),_0x192c43=globalDashboardSettings['projectView']||_0x2f77b5(0x6c5),_0x349ca7=document[_0x2f77b5(0x6e6)](_0x2f77b5(0x2f4)),_0x19bd9e=document[_0x2f77b5(0x6e6)](_0x2f77b5(0xdc9));_0x349ca7[_0x2f77b5(0x3d9)][_0x2f77b5(0x117)](_0x2f77b5(0x797),_0x192c43===_0x2f77b5(0x6c5)),_0x19bd9e['classList'][_0x2f77b5(0x117)](_0x2f77b5(0x797),_0x192c43===_0x2f77b5(0xd36)),document[_0x2f77b5(0x6e6)](_0x2f77b5(0x440))[_0x2f77b5(0xb2d)]=_0x4ab1ed;const _0xbbaade=document[_0x2f77b5(0x6e6)](_0x2f77b5(0xc14))[_0x2f77b5(0xb2d)][_0x2f77b5(0x3a8)]();let _0x575727=allProjects[_0x2f77b5(0xbdf)](_0x31db51=>_0x31db51[_0x2f77b5(0x4de)][_0x2f77b5(0x3a8)]()[_0x2f77b5(0x676)](_0xbbaade));const _0x4916f7=_0x575727[_0x2f77b5(0xbdf)](_0x2a6de7=>_0x3b4e05[_0x2f77b5(0x2ff)](_0x2a6de7['id'])),_0x3b59b6=_0x575727[_0x2f77b5(0xbdf)](_0x22d5b9=>!_0x3b4e05[_0x2f77b5(0x2ff)](_0x22d5b9['id'])),_0x305070=(_0x2cae28,_0x211b07)=>{const _0x3ae2e6=_0x2f77b5;switch(_0x4ab1ed){case _0x3ae2e6(0xd18):return _0x2cae28['projectName'][_0x3ae2e6(0x8ed)](_0x211b07[_0x3ae2e6(0x4de)],'th');case _0x3ae2e6(0xadc):return _0x211b07['projectName'][_0x3ae2e6(0x8ed)](_0x2cae28['projectName'],'th');case _0x3ae2e6(0xbe5):return new Date(_0x2cae28[_0x3ae2e6(0x97c)])-new Date(_0x211b07['createdAt']);default:return new Date(_0x211b07[_0x3ae2e6(0x97c)])-new Date(_0x2cae28['createdAt']);}};_0x4916f7[_0x2f77b5(0x602)](_0x305070),_0x3b59b6[_0x2f77b5(0x602)](_0x305070);const _0x29111a=[..._0x4916f7,..._0x3b59b6],_0x483d4b=globalDashboardSettings[_0x2f77b5(0xa13)]||[];_0x483d4b[_0x2f77b5(0x4f1)]>0x0&&_0x192c43===_0x2f77b5(0x6c5)&&_0x29111a[_0x2f77b5(0x602)]((_0x470c08,_0x270d82)=>{const _0x2ea8d0=_0x2f77b5,_0x439fd5=_0x483d4b[_0x2ea8d0(0x9de)](_0x470c08['id']),_0xca5e07=_0x483d4b['indexOf'](_0x270d82['id']);if(_0x439fd5===-0x1)return 0x1;if(_0xca5e07===-0x1)return-0x1;return _0x439fd5-_0xca5e07;});const _0x41df58={};await Promise[_0x2f77b5(0x8bd)](_0x29111a[_0x2f77b5(0x23a)](async _0x94ceca=>{const _0x16b534=_0x2f77b5,_0x3433bc=query(collection(db,_0x16b534(0x555)+appId+'/public/data/quizzes'),where(_0x16b534(0x19e),'==',_0x94ceca['id'])),_0x59e1d8=await getCountFromServer(_0x3433bc);_0x41df58[_0x94ceca['id']]=_0x59e1d8[_0x16b534(0x9cb)]()[_0x16b534(0xe29)];}));const _0x55657a=document[_0x2f77b5(0x6e6)](_0x2f77b5(0x1b6));let _0x5aaf80='';if(_0x192c43==='grid'){_0x55657a[_0x2f77b5(0x513)]=_0x2f77b5(0x997);if(starredQuizzes[_0x2f77b5(0x4f1)]>0x0&&_0xbbaade===''){const _0x24f287=starredQuizzes[_0x2f77b5(0x23a)](_0x4e8977=>{const _0x13330f=_0x2f77b5,_0x4bd710=allProjects[_0x13330f(0x8af)](_0x554e00=>_0x554e00['id']===_0x4e8977[_0x13330f(0x19e)]);return{..._0x4e8977,'projectName':_0x4bd710?_0x4bd710[_0x13330f(0x4de)]:_0x13330f(0x83e)};});_0x5aaf80+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24f287[_0x2f77b5(0x23a)](_0x5bd10f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x5bd10f[_0x2f77b5(0x9ec)]+'\x22>'+_0x5bd10f['topic']+_0x2f77b5(0x2b2)+_0x5bd10f[_0x2f77b5(0x4de)]+_0x2f77b5(0x23b)+_0x5bd10f[_0x2f77b5(0x4de)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2f77b5(0x975)]('')+_0x2f77b5(0x178)+starredQuizzes['length']+_0x2f77b5(0xd04);}_0x29111a['forEach'](_0x464ba6=>{const _0x17b01c=_0x2f77b5,_0x3eae1d=_0x41df58[_0x464ba6['id']]??0x0,_0x8f0895=_0x3b4e05[_0x17b01c(0x2ff)](_0x464ba6['id']),_0xebfe9f=_0x464ba6[_0x17b01c(0x630)]||_0x17b01c(0xca8),_0x4f83ee=parseInt(_0xebfe9f[_0x17b01c(0x98f)](0x1,0x3),0x10)*0.299+parseInt(_0xebfe9f[_0x17b01c(0x98f)](0x3,0x5),0x10)*0.587+parseInt(_0xebfe9f[_0x17b01c(0x98f)](0x5,0x7),0x10)*0.114<0xba,_0x203676=_0x4f83ee?_0x17b01c(0x95a):'text-indigo-800',_0x5b7985=_0x4f83ee?_0x17b01c(0x5e8):_0x17b01c(0x82e);_0x5aaf80+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x8f0895?_0x17b01c(0x747):_0x17b01c(0x841))+_0x17b01c(0xe7f)+_0xebfe9f+';\x22\x20data-id=\x22'+_0x464ba6['id']+_0x17b01c(0xc4a)+_0x464ba6['id']+_0x17b01c(0xd6d)+(_0x4f83ee?_0x17b01c(0xb99):'text-gray-400\x20hover:text-indigo-600')+_0x17b01c(0x999)+_0x464ba6['id']+_0x17b01c(0xd10)+(_0x4f83ee?_0x17b01c(0xb99):_0x17b01c(0xbf6))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x8f0895?_0x4f83ee?_0x17b01c(0xa6d):'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x464ba6['id']+_0x17b01c(0x623)+_0x203676+_0x17b01c(0xc50)+_0x464ba6[_0x17b01c(0x4de)]+_0x17b01c(0x57b)+_0x5b7985+_0x17b01c(0xb11)+new Date(_0x464ba6['createdAt'])[_0x17b01c(0x9b3)](_0x17b01c(0x413))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x4f83ee?'text-gray-100':_0x17b01c(0xd58))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x3eae1d+_0x17b01c(0xd4e)+_0x464ba6['id']+_0x17b01c(0x5b7)+_0x464ba6[_0x17b01c(0x4de)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x4f83ee?_0x17b01c(0x8c6):_0x17b01c(0xdc3))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x55657a['className']='flex\x20flex-col\x20gap-2',starredQuizzes[_0x2f77b5(0x4f1)]>0x0&&_0xbbaade===''&&(_0x5aaf80+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x2f77b5(0x4f1)]+_0x2f77b5(0x451)),_0x5aaf80+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x29111a[_0x2f77b5(0xbf2)](_0x44fc23=>{const _0x92978c=_0x2f77b5,_0xb29ff6=_0x41df58[_0x44fc23['id']]??0x0,_0x2730a2=_0x3b4e05[_0x92978c(0x2ff)](_0x44fc23['id']);_0x5aaf80+=_0x92978c(0xcac)+(_0x44fc23['color']||_0x92978c(0xb3c))+_0x92978c(0x94d)+_0x44fc23['id']+_0x92978c(0x609)+_0x44fc23[_0x92978c(0x4de)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0xb29ff6+_0x92978c(0xc7d)+new Date(_0x44fc23[_0x92978c(0x97c)])[_0x92978c(0xe3a)](_0x92978c(0x413))+_0x92978c(0xb8c)+_0x44fc23['id']+_0x92978c(0x4ec)+(_0x2730a2?_0x92978c(0xe62):'')+_0x92978c(0x44b)+_0x44fc23['id']+_0x92978c(0x5b7)+_0x44fc23[_0x92978c(0x4de)]+_0x92978c(0xc63);});_0x55657a[_0x2f77b5(0xa19)]=_0x5aaf80,noProjectsMsg['classList'][_0x2f77b5(0x117)]('hidden',_0x5aaf80['length']>0x0);}document[_0x5319e2(0x6e6)](_0x5319e2(0x6ab))[_0x5319e2(0x49d)](_0x5319e2(0xa6e),async()=>{const _0x1429ad=_0x5319e2,_0x31480a=document[_0x1429ad(0x6e6)](_0x1429ad(0x927)),_0x4bb0a1=_0x31480a[_0x1429ad(0xb2d)][_0x1429ad(0xc3f)]();if(!_0x4bb0a1){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x58af01=doc(collection(db,_0x1429ad(0x555)+appId+_0x1429ad(0x92e)));await setDoc(_0x58af01,{'projectName':_0x4bb0a1,'students':[],'settings':{'resultsDisplay':_0x1429ad(0x14c),'shuffleSetting':_0x1429ad(0x877),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x31480a[_0x1429ad(0xb2d)]='',createProjectModal['classList'][_0x1429ad(0x831)](_0x1429ad(0xd60)),showMessage(_0x1429ad(0x92a));}catch(_0x2ab489){console[_0x1429ad(0x3f8)](_0x1429ad(0x68e),_0x2ab489),showMessage(_0x1429ad(0x950));}}),projectList['addEventListener'](_0x5319e2(0xa6e),async _0x577f02=>{const _0x92eb04=_0x5319e2,_0x1509b9=_0x577f02[_0x92eb04(0x8ce)][_0x92eb04(0x8ec)](_0x92eb04(0x3b1)),_0x4b7d36=_0x577f02[_0x92eb04(0x8ce)][_0x92eb04(0x8ec)]('.delete-project-btn'),_0x1483bf=_0x577f02[_0x92eb04(0x8ce)][_0x92eb04(0x8ec)](_0x92eb04(0x33d)),_0x579b08=_0x577f02[_0x92eb04(0x8ce)][_0x92eb04(0x8ec)](_0x92eb04(0x4ee));if(_0x1483bf){const _0x2fd6c5=_0x1483bf[_0x92eb04(0x9ff)]['id'],_0x559a30=doc(db,_0x92eb04(0xe25),'dashboardConfig'),_0x5ee980=globalDashboardSettings[_0x92eb04(0xc3a)];let _0x3ec1d1;_0x5ee980[_0x92eb04(0x676)](_0x2fd6c5)?_0x3ec1d1=_0x5ee980[_0x92eb04(0xbdf)](_0x4e9648=>_0x4e9648!==_0x2fd6c5):_0x3ec1d1=[..._0x5ee980,_0x2fd6c5];try{await setDoc(_0x559a30,{'pinnedProjects':_0x3ec1d1},{'merge':!![]});}catch(_0x3c50a7){console[_0x92eb04(0x3f8)]('Error\x20updating\x20pin\x20status:',_0x3c50a7),showMessage(_0x92eb04(0x402));}}else{if(_0x579b08){const _0x35d0c8=_0x579b08[_0x92eb04(0x9ff)]['id'];showColorPalette(_0x579b08,_0x35d0c8);}else{if(_0x1509b9){const _0x35ad6e=_0x1509b9['dataset']['id'];_0x35ad6e===_0x92eb04(0x400)?showStarredProjectView():(currentProjectId=_0x35ad6e,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x4b7d36){const _0x23beb7=_0x4b7d36[_0x92eb04(0x9ff)]['id'],_0x261604=_0x4b7d36[_0x92eb04(0x9ff)][_0x92eb04(0x1dc)];showConfirmation(_0x92eb04(0x472)+_0x261604+_0x92eb04(0x140),()=>handleDeleteProject(_0x23beb7));}}}}}),projectList[_0x5319e2(0x49d)](_0x5319e2(0x6fd),_0x4528f9=>{const _0x441862=_0x5319e2,_0x520ca8=_0x4528f9[_0x441862(0x8ce)][_0x441862(0x8ec)](_0x441862(0x781));_0x520ca8&&_0x520ca8['classList'][_0x441862(0x831)]('opacity-50');}),projectList[_0x5319e2(0x49d)](_0x5319e2(0x45e),_0x9c875e=>{const _0x35fdc6=_0x5319e2,_0x5c1637=_0x9c875e[_0x35fdc6(0x8ce)][_0x35fdc6(0x8ec)]('.project-card-container');_0x5c1637&&_0x5c1637[_0x35fdc6(0x3d9)][_0x35fdc6(0xb00)](_0x35fdc6(0xc9b));}),projectList[_0x5319e2(0x49d)]('dragover',_0xff89a8=>{const _0x735c70=_0x5319e2;_0xff89a8[_0x735c70(0x266)]();const _0x3d0a32=document[_0x735c70(0x86d)]('.project-card-container.opacity-50');if(!_0x3d0a32)return;const _0x78a2a4=getDragAfterElement(projectList,_0xff89a8[_0x735c70(0xc1d)]);_0x78a2a4==null?projectList[_0x735c70(0xab8)](_0x3d0a32):projectList[_0x735c70(0xdbb)](_0x3d0a32,_0x78a2a4);}),projectList[_0x5319e2(0x49d)]('drop',_0x109a90=>{const _0xebdfc6=_0x5319e2;_0x109a90['preventDefault']();const _0x259086=[...projectList[_0xebdfc6(0x2c3)]('.project-card-container[data-id]')][_0xebdfc6(0x23a)](_0x2ed4b6=>_0x2ed4b6[_0xebdfc6(0x9ff)]['id']);saveProjectOrder(_0x259086);});function renderBehaviorLog(_0x183e52){const _0x4f7986=_0x5319e2,_0x224982=document[_0x4f7986(0x6e6)](_0x4f7986(0x273));if(!_0x224982)return;const _0x120373=_0x183e52[_0x4f7986(0xbdf)](_0x532db9=>_0x532db9['behaviorLog']&&_0x532db9[_0x4f7986(0x68d)][_0x4f7986(0x4f1)]>0x0);if(_0x120373[_0x4f7986(0x4f1)]===0x0){_0x224982['innerHTML']=_0x4f7986(0xa1c);return;}let _0x1b07d6='';_0x120373['forEach'](_0x501aec=>{const _0x2e4888=_0x4f7986;_0x1b07d6+=_0x2e4888(0x592)+_0x501aec[_0x2e4888(0xdea)]+_0x2e4888(0x45c),_0x501aec[_0x2e4888(0x68d)][_0x2e4888(0x602)]((_0x480e82,_0x3dd580)=>new Date(_0x3dd580['timestamp'])-new Date(_0x480e82[_0x2e4888(0x6f7)]))[_0x2e4888(0xbf2)](_0x2f8215=>{const _0x28150c=_0x2e4888,_0x3373b4=new Date(_0x2f8215[_0x28150c(0x6f7)])[_0x28150c(0xe3a)]('th-TH',{'dateStyle':_0x28150c(0xe13),'timeStyle':_0x28150c(0x607)});_0x1b07d6+=_0x28150c(0x88d)+_0x2f8215['attemptNumber']+_0x28150c(0xc65)+_0x3373b4+_0x28150c(0x1d9);}),_0x1b07d6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x224982[_0x4f7986(0xa19)]=_0x1b07d6;}function getDragAfterElement(_0x1b456b,_0x4eaa02){const _0x389abc=_0x5319e2,_0x84a99f=[..._0x1b456b[_0x389abc(0x2c3)]('.project-card-container:not(.opacity-50)')];return _0x84a99f['reduce']((_0x35a59e,_0x5157d9)=>{const _0x261dc9=_0x389abc,_0x143460=_0x5157d9[_0x261dc9(0x82f)](),_0x119faf=_0x4eaa02-_0x143460[_0x261dc9(0xb25)]-_0x143460[_0x261dc9(0x210)]/0x2;return _0x119faf<0x0&&_0x119faf>_0x35a59e[_0x261dc9(0x179)]?{'offset':_0x119faf,'element':_0x5157d9}:_0x35a59e;},{'offset':Number[_0x389abc(0xafa)]})['element'];}async function saveProjectOrder(_0x580462){const _0x511c54=_0x5319e2,_0x1cffad=doc(db,_0x511c54(0xe25),_0x511c54(0x8b5));try{await setDoc(_0x1cffad,{'projectOrder':_0x580462},{'merge':!![]});}catch(_0x4a1b42){console[_0x511c54(0x3f8)]('Error\x20saving\x20project\x20order:',_0x4a1b42),showMessage(_0x511c54(0x52f));}}async function logBehaviorEvent(_0x5c02b9,_0x3ef592={}){const _0x1b53db=_0x5319e2;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1b53db(0xe76)](_0x1b53db(0x430));return;}const _0x30c397=doc(db,_0x1b53db(0x555)+appId+_0x1b53db(0xa62)+currentQuizData['id']+_0x1b53db(0xe09),currentStudentName),_0x2598e1={'event':_0x5c02b9,'timestamp':new Date()[_0x1b53db(0x5be)](),..._0x3ef592};try{await updateDoc(_0x30c397,{'behaviorLog':arrayUnion(_0x2598e1)}),console[_0x1b53db(0x8b1)](_0x1b53db(0xbf3)+currentStudentName+'\x20สำเร็จ');}catch(_0x13f788){_0x13f788[_0x1b53db(0xaef)]==='not-found'?console['warn'](_0x1b53db(0x7e9)+currentStudentName+_0x1b53db(0x73c)):console[_0x1b53db(0x3f8)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x13f788);}}function getScoreTier(_0x22dace,_0x30c905){const _0x1f0e6a=_0x5319e2;if(_0x30c905===0x0){if(_0x22dace===0x0)return{'text':_0x1f0e6a(0x50d),'icon':'⏳'};return{'text':_0x1f0e6a(0xd48),'icon':'😥'};}const _0x486907=_0x22dace/(_0x30c905===0x0?0x1:_0x30c905);if(_0x486907===0x1)return{'text':_0x1f0e6a(0xa14),'icon':'👑'};if(_0x486907>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x486907>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':_0x1f0e6a(0xd48),'icon':'😥'};}function calculateMeanAndStdDev(_0x2c2d47){const _0x5ae019=_0x5319e2;if(_0x2c2d47[_0x5ae019(0x4f1)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2261d2=_0x2c2d47[_0x5ae019(0xe69)]((_0x1dcbac,_0x50607b)=>_0x1dcbac+_0x50607b,0x0)/_0x2c2d47[_0x5ae019(0x4f1)];if(_0x2c2d47[_0x5ae019(0x4f1)]===0x1)return{'mean':_0x2261d2,'stdDev':0x0};const _0x17a5e9=Math[_0x5ae019(0x2f1)](_0x2c2d47[_0x5ae019(0x23a)](_0x21a1db=>Math[_0x5ae019(0xdcc)](_0x21a1db-_0x2261d2,0x2))['reduce']((_0x895f49,_0x37390c)=>_0x895f49+_0x37390c,0x0)/(_0x2c2d47['length']-0x1));return{'mean':_0x2261d2,'stdDev':_0x17a5e9};}function calculateZScore(_0x13d4c5,_0x50c98c,_0x23ba0c){if(_0x23ba0c===0x0)return 0x0;return(_0x13d4c5-_0x50c98c)/_0x23ba0c;}function calculateTScore(_0xc28297){return 0xa*_0xc28297+0x32;}function showStarredProjectView(){const _0x42ebd7=_0x5319e2;currentProjectId=_0x42ebd7(0x41d),currentProjectData=null,projectTitle[_0x42ebd7(0xb7b)]=_0x42ebd7(0x331),projectIdDisplay[_0x42ebd7(0xb7b)]=_0x42ebd7(0x821),showView(_0x42ebd7(0x356)),manageTab[_0x42ebd7(0x3d9)]['add'](_0x42ebd7(0xd60)),leaderboardTab[_0x42ebd7(0x3d9)]['add']('hidden'),switchProjectTab(_0x42ebd7(0x354)),renderQuizzes();}async function loadProjectDetails(_0x5c47b){const _0x2344e5=_0x5319e2,_0x4d46a6=doc(db,_0x2344e5(0x555)+appId+_0x2344e5(0x92e),_0x5c47b),_0x5e57c8=await getDoc(_0x4d46a6);if(_0x5e57c8[_0x2344e5(0x958)]()){manageTab['classList']['remove'](_0x2344e5(0xd60)),leaderboardTab[_0x2344e5(0x3d9)]['remove'](_0x2344e5(0xd60)),currentProjectData=_0x5e57c8[_0x2344e5(0x9cb)](),projectTitle[_0x2344e5(0xb7b)]=currentProjectData['projectName'],projectIdDisplay[_0x2344e5(0xb7b)]=_0x5c47b;const _0x241309=currentProjectData[_0x2344e5(0x531)]||{};document[_0x2344e5(0x6e6)]('shuffle-setting-select')[_0x2344e5(0xb2d)]=_0x241309[_0x2344e5(0x25d)]||_0x2344e5(0x877);const _0x2fb96d=document['getElementById'](_0x2344e5(0x234));_0x2fb96d['checked']=_0x241309['showInStudentDashboard']!==![];const _0x4d5026=document[_0x2344e5(0x6e6)](_0x2344e5(0x8ca)),_0x26e970=document[_0x2344e5(0x6e6)]('passcode-input-container'),_0x4725df=document[_0x2344e5(0x6e6)]('project-passcode-input'),_0x3f135e=_0x241309[_0x2344e5(0xd54)]||![];_0x4d5026[_0x2344e5(0x3a6)]=_0x3f135e,_0x4725df[_0x2344e5(0xb2d)]=_0x241309[_0x2344e5(0x449)]||'',_0x26e970[_0x2344e5(0x3d9)][_0x2344e5(0x117)](_0x2344e5(0xd60),!_0x3f135e),_0x4d5026[_0x2344e5(0xcbd)]=()=>{const _0x4f6c75=_0x2344e5;_0x26e970['classList']['toggle'](_0x4f6c75(0xd60),!_0x4d5026[_0x4f6c75(0x3a6)]);},document[_0x2344e5(0x6e6)](_0x2344e5(0x776))[_0x2344e5(0x3a6)]=_0x241309[_0x2344e5(0xe45)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5c47b),listenForProjectQuizzes(_0x5c47b),listenForStudentProfiles(_0x5c47b);}else showMessage(_0x2344e5(0x7d3)),showView(_0x2344e5(0xdd6));}async function handleResetProjectOrder(){const _0x23735a=_0x5319e2,_0x6d5e4d=doc(db,_0x23735a(0xe25),_0x23735a(0x8b5));try{await setDoc(_0x6d5e4d,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x23735a(0x2d5));}catch(_0x45f89f){console[_0x23735a(0x3f8)](_0x23735a(0x1ac),_0x45f89f),showMessage(_0x23735a(0x29b));}}async function handleTogglePinProject(_0xb7048f){const _0x519766=_0x5319e2;if(!_0xb7048f)return;const _0x3afd11=doc(db,_0x519766(0x555)+appId+'/public/data/projects',_0xb7048f);try{const _0x4e3204=await getDoc(_0x3afd11);if(_0x4e3204[_0x519766(0x958)]()){const _0x2134dd=_0x4e3204[_0x519766(0x9cb)]()['isPinned']||![];await updateDoc(_0x3afd11,{'isPinned':!_0x2134dd});}}catch(_0x2ffce3){console[_0x519766(0x3f8)](_0x519766(0x2b7),_0x2ffce3),showMessage(_0x519766(0x402));}}async function handleDeleteProject(_0x173ff3){const _0x2289e5=_0x5319e2;try{const _0x15d411=writeBatch(db),_0x1ee5eb=collection(db,_0x2289e5(0x555)+appId+_0x2289e5(0x935)),_0x3aaf96=query(_0x1ee5eb,where('projectId','==',_0x173ff3)),_0x15f014=await getDocs(_0x3aaf96);for(const _0x3662ef of _0x15f014[_0x2289e5(0x6e9)]){const _0x47846c=collection(db,_0x2289e5(0x555)+appId+_0x2289e5(0xa62)+_0x3662ef['id']+'/submissions'),_0x35fd7f=await getDocs(_0x47846c);_0x35fd7f[_0x2289e5(0xbf2)](_0x23aaa1=>{const _0x5e6f1c=_0x2289e5;_0x15d411[_0x5e6f1c(0xc8c)](_0x23aaa1['ref']);}),_0x15d411[_0x2289e5(0xc8c)](_0x3662ef[_0x2289e5(0x3cd)]);}const _0x477f0c=collection(db,'artifacts/'+appId+_0x2289e5(0xb15)+_0x173ff3+_0x2289e5(0x89a)),_0x3f0903=await getDocs(_0x477f0c);_0x3f0903[_0x2289e5(0xbf2)](_0x3fd9b0=>{const _0x4b4e87=_0x2289e5;_0x15d411['delete'](_0x3fd9b0[_0x4b4e87(0x3cd)]);});const _0xd619f7=doc(db,'artifacts/'+appId+_0x2289e5(0x92e),_0x173ff3);_0x15d411[_0x2289e5(0xc8c)](_0xd619f7),await _0x15d411[_0x2289e5(0xa1b)](),showMessage(_0x2289e5(0xc10)),showView(_0x2289e5(0xdd6));}catch(_0x2b1ba3){console['error'](_0x2289e5(0x74e),_0x2b1ba3),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById']('save-settings-btn')['addEventListener'](_0x5319e2(0xa6e),async()=>{const _0x4fc4a0=_0x5319e2;if(!currentProjectId)return;const _0x4d6272={'defaultNumQuestions':parseInt(document[_0x4fc4a0(0x6e6)](_0x4fc4a0(0x922))['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x4fc4a0(0xd07))[_0x4fc4a0(0xb2d)]),'defaultPassingScore':parseInt(document['getElementById'](_0x4fc4a0(0x900))[_0x4fc4a0(0xb2d)]),'resultsDisplay':document[_0x4fc4a0(0x6e6)](_0x4fc4a0(0x945))[_0x4fc4a0(0xb2d)],'shuffleSetting':document['getElementById'](_0x4fc4a0(0x55b))[_0x4fc4a0(0xb2d)],'timerMode':document['getElementById'](_0x4fc4a0(0x783))[_0x4fc4a0(0xb2d)],'timerDuration':parseInt(document[_0x4fc4a0(0x6e6)](_0x4fc4a0(0xa3c))['value']),'isConfidenceScoringEnabled':document[_0x4fc4a0(0x6e6)](_0x4fc4a0(0x776))[_0x4fc4a0(0x3a6)],'confidenceMode':document[_0x4fc4a0(0x6e6)]('confidence-mode-select')[_0x4fc4a0(0xb2d)]};try{const _0x1d3089=doc(db,_0x4fc4a0(0x555)+appId+_0x4fc4a0(0x92e),currentProjectId);await updateDoc(_0x1d3089,{'settings':_0x4d6272}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x671f25){console[_0x4fc4a0(0x3f8)](_0x4fc4a0(0x85c),_0x671f25),showMessage(_0x4fc4a0(0x26e));}});function listenForStudents(_0xee11b2){const _0x358e1e=_0x5319e2,_0x3315d9=doc(db,_0x358e1e(0x555)+appId+_0x358e1e(0x92e),_0xee11b2);unsubscribeStudentsListener=onSnapshot(_0x3315d9,_0x119a8c=>{const _0x1ec1d3=_0x358e1e;if(_0x119a8c[_0x1ec1d3(0x958)]()){const _0x494142=_0x119a8c[_0x1ec1d3(0x9cb)]();currentProjectData=_0x494142,renderStudentList(_0x494142['students']||[]);}});}function renderStudentList(_0x1a775c){const _0x2cabaa=_0x5319e2,_0x270718=document[_0x2cabaa(0x6e6)](_0x2cabaa(0x8a2));_0x1a775c['length']===0x0?(studentList['innerHTML']=_0x2cabaa(0xc21),_0x270718[_0x2cabaa(0x3d9)][_0x2cabaa(0x831)]('hidden')):(studentList['innerHTML']=_0x1a775c[_0x2cabaa(0x23a)](_0x1af385=>_0x2cabaa(0x860)+_0x1af385+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1af385+_0x2cabaa(0x5c5))[_0x2cabaa(0x975)](''),_0x270718['classList'][_0x2cabaa(0xb00)]('hidden'));}document[_0x5319e2(0x6e6)](_0x5319e2(0x4bf))[_0x5319e2(0x49d)]('click',async()=>{const _0x2a99aa=_0x5319e2;if(!currentProjectId)return;const _0x12d7a1=document['getElementById'](_0x2a99aa(0x3e7)),_0x519ea3=_0x12d7a1[_0x2a99aa(0xb2d)][_0x2a99aa(0xc3f)]();if(!_0x519ea3){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x33d4ad=_0x519ea3[_0x2a99aa(0x3ba)]('\x0a')['map'](_0x2f262e=>_0x2f262e[_0x2a99aa(0xc3f)]())[_0x2a99aa(0xbdf)](_0xbc0faa=>_0xbc0faa);if(_0x33d4ad[_0x2a99aa(0x4f1)]===0x0)return;try{const _0x24a97f=doc(db,_0x2a99aa(0x555)+appId+'/public/data/projects',currentProjectId),_0x30f510=await getDoc(_0x24a97f);if(_0x30f510[_0x2a99aa(0x958)]()){const _0x149fe6=_0x30f510[_0x2a99aa(0x9cb)]()[_0x2a99aa(0x38b)]||[],_0x4d2f10=[...new Set([..._0x149fe6,..._0x33d4ad])];await updateDoc(_0x24a97f,{'students':_0x4d2f10}),_0x12d7a1[_0x2a99aa(0xb2d)]='';}}catch(_0x1a25fb){console[_0x2a99aa(0x3f8)]('Error\x20adding\x20students:',_0x1a25fb),showMessage(_0x2a99aa(0x226));}});async function handleManualQuizPairing(_0x27a773){const _0x5e2ed7=_0x5319e2,_0x50dabc=document[_0x5e2ed7(0x6e6)](_0x5e2ed7(0x52c)),_0x484554=document[_0x5e2ed7(0x6e6)]('move-quiz-project-select'),_0x421279=_0x50dabc[_0x5e2ed7(0x86d)]('h3'),_0x458d07=document[_0x5e2ed7(0x6e6)](_0x5e2ed7(0xd40)),_0x205d9b=document['getElementById'](_0x5e2ed7(0x130));_0x421279[_0x5e2ed7(0xb7b)]=_0x5e2ed7(0x6a3),_0x484554['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x458d07[_0x5e2ed7(0xb7b)]=_0x5e2ed7(0x70d),_0x50dabc[_0x5e2ed7(0x3d9)][_0x5e2ed7(0xb00)](_0x5e2ed7(0xd60));const _0x4af55b=allQuizzes[_0x5e2ed7(0xbdf)](_0x2ce5d4=>_0x2ce5d4['id']!==_0x27a773);_0x4af55b[_0x5e2ed7(0x4f1)]===0x0?(_0x484554[_0x5e2ed7(0xa19)]=_0x5e2ed7(0xa2b),_0x458d07[_0x5e2ed7(0xe9a)]=!![]):(_0x484554['innerHTML']=_0x5e2ed7(0x2f5)+_0x4af55b[_0x5e2ed7(0x23a)](_0x5a900d=>_0x5e2ed7(0xdd4)+_0x5a900d['id']+'\x22>'+_0x5a900d[_0x5e2ed7(0x9ec)]+_0x5e2ed7(0x3e5))['join'](''),_0x458d07['disabled']=![]);const _0x218be9=async()=>{const _0x38ac53=_0x5e2ed7,_0x14aa05=_0x484554['value'];if(!_0x14aa05){showMessage(_0x38ac53(0x136));return;}_0x458d07[_0x38ac53(0xe9a)]=!![],_0x458d07[_0x38ac53(0xb7b)]=_0x38ac53(0x230);try{const _0x3c8829=doc(db,_0x38ac53(0x555)+appId+_0x38ac53(0x935),_0x27a773),_0x1f7852=doc(db,_0x38ac53(0x555)+appId+_0x38ac53(0x935),_0x14aa05),_0x532578=writeBatch(db);_0x532578['update'](_0x3c8829,{'pairedQuizId':_0x14aa05}),_0x532578[_0x38ac53(0x5a6)](_0x1f7852,{'pairedQuizId':_0x27a773}),await _0x532578[_0x38ac53(0xa1b)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x50dabc['classList'][_0x38ac53(0x831)](_0x38ac53(0xd60));}catch(_0x5875c7){console[_0x38ac53(0x3f8)](_0x38ac53(0xac7),_0x5875c7),showMessage(_0x38ac53(0x784));}finally{_0x421279[_0x38ac53(0xb7b)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x458d07[_0x38ac53(0xb7b)]=_0x38ac53(0x8d6),_0x458d07[_0x38ac53(0xe9a)]=![],_0x458d07[_0x38ac53(0x60a)](_0x38ac53(0xa6e),_0x218be9),_0x205d9b[_0x38ac53(0x60a)](_0x38ac53(0xa6e),_0x209bd3);}},_0x209bd3=()=>{const _0x59e2d9=_0x5e2ed7;_0x50dabc[_0x59e2d9(0x3d9)][_0x59e2d9(0x831)]('hidden'),_0x421279[_0x59e2d9(0xb7b)]=_0x59e2d9(0x6a5),_0x458d07[_0x59e2d9(0xb7b)]=_0x59e2d9(0x8d6),_0x458d07['removeEventListener'](_0x59e2d9(0xa6e),_0x218be9),_0x205d9b[_0x59e2d9(0x60a)](_0x59e2d9(0xa6e),_0x209bd3);};_0x458d07[_0x5e2ed7(0x49d)](_0x5e2ed7(0xa6e),_0x218be9),_0x205d9b[_0x5e2ed7(0x49d)](_0x5e2ed7(0xa6e),_0x209bd3);}function handleDeleteStudent(_0x46e8f0){const _0x6c11aa=_0x5319e2;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x46e8f0+_0x6c11aa(0xbd4),async()=>{const _0x4c1e62=_0x6c11aa;if(!currentProjectId||!currentProjectData)return;const _0x2034cd=currentProjectData[_0x4c1e62(0x38b)][_0x4c1e62(0xbdf)](_0x206578=>_0x206578!==_0x46e8f0);try{const _0x3f757a=doc(db,_0x4c1e62(0x555)+appId+_0x4c1e62(0x92e),currentProjectId),_0x1f1d0d=doc(db,'artifacts/'+appId+_0x4c1e62(0xb15)+currentProjectId+_0x4c1e62(0x89a),_0x46e8f0),_0x3699e3=writeBatch(db);_0x3699e3[_0x4c1e62(0x5a6)](_0x3f757a,{'students':_0x2034cd}),_0x3699e3[_0x4c1e62(0xc8c)](_0x1f1d0d),await _0x3699e3[_0x4c1e62(0xa1b)]();}catch(_0x2d515b){console['error'](_0x4c1e62(0xcc6),_0x2d515b),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0xe00f46=_0x4aab;if(!currentProjectId)return;try{const _0x5016fe=doc(db,_0xe00f46(0x555)+appId+_0xe00f46(0x92e),currentProjectId),_0x4b402c=collection(db,'artifacts/'+appId+_0xe00f46(0xb15)+currentProjectId+_0xe00f46(0x89a)),_0x40cb76=await getDocs(_0x4b402c),_0x4895c2=writeBatch(db);_0x4895c2[_0xe00f46(0x5a6)](_0x5016fe,{'students':[]}),_0x40cb76[_0xe00f46(0xbf2)](_0x2d0d8e=>_0x4895c2['delete'](_0x2d0d8e[_0xe00f46(0x3cd)])),await _0x4895c2[_0xe00f46(0xa1b)]();}catch(_0x3139c8){console[_0xe00f46(0x3f8)](_0xe00f46(0xb57),_0x3139c8),showMessage(_0xe00f46(0x50e));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x786adb){const _0x35ac46=_0x5319e2,_0xe6543b=document[_0x35ac46(0x6e6)](_0x35ac46(0xc4f)),_0x29072f=document[_0x35ac46(0x6e6)](_0x35ac46(0x3c5));_0xe6543b[_0x35ac46(0x3d9)]['remove'](_0x35ac46(0xd60)),_0x29072f[_0x35ac46(0xa19)]=_0x35ac46(0x5ae);try{const _0x1a0f5f=new FileReader();_0x1a0f5f[_0x35ac46(0x326)](_0x786adb),await new Promise((_0x176d72,_0x17410b)=>{const _0x400515=_0x35ac46;_0x1a0f5f[_0x400515(0x904)]=()=>{const _0x43734a=_0x400515;fileDataBase64=_0x1a0f5f[_0x43734a(0xcb3)][_0x43734a(0x3ba)](',')[0x1],fileMimeType=_0x786adb[_0x43734a(0xe5f)],_0x176d72();},_0x1a0f5f[_0x400515(0x66e)]=_0x109e4b=>_0x17410b(_0x109e4b);});if(!fileDataBase64)throw new Error(_0x35ac46(0xa8d));const _0x258816=_0x35ac46(0xc67),_0x274589={'type':'OBJECT','properties':{'topics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x35ac46(0xcbb)]},_0x1e76aa=[{'text':_0x258816},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x2c14b8=await handleApiCall(_0x1e76aa,_0x35ac46(0xc27),_0x274589,null,![]);if(_0x2c14b8&&_0x2c14b8['topics'])extractedFileTopics=_0x2c14b8[_0x35ac46(0xcbb)],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x21e498){console[_0x35ac46(0x3f8)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x21e498),_0x29072f[_0x35ac46(0xa19)]=_0x35ac46(0xe53)+_0x21e498[_0x35ac46(0xa6b)]+_0x35ac46(0xc37);}}function renderFileTopics(){const _0xd61dab=_0x5319e2,_0x21be6f=document[_0xd61dab(0x6e6)](_0xd61dab(0x3c5));if(extractedFileTopics[_0xd61dab(0x4f1)]===0x0){_0x21be6f[_0xd61dab(0xa19)]=_0xd61dab(0x792);return;}_0x21be6f[_0xd61dab(0xa19)]=extractedFileTopics[_0xd61dab(0x23a)](_0x456301=>_0xd61dab(0xc94)+_0x456301+_0xd61dab(0x8f4)+escape(_0x456301)+_0xd61dab(0xc4e)+escape(_0x456301)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0x558dcb){const _0x4ad948=_0x5319e2,_0x21282a=parseInt(document[_0x4ad948(0x6e6)](_0x4ad948(0x922))[_0x4ad948(0xb2d)],0xa),_0x244dcf=document[_0x4ad948(0x6e6)]('quiz-type-select')[_0x4ad948(0xb2d)],_0xcce793=document[_0x4ad948(0x6e6)](_0x4ad948(0xd07))[_0x4ad948(0xb2d)],_0x26c9ce=document['getElementById'](_0x4ad948(0x279))[_0x4ad948(0x3a6)],_0x5d2328=_0x26c9ce?_0x4ad948(0xc03):_0x4ad948(0xd2c);let _0xc2e7cd='',_0x5d953d;const _0x3ca54a={'type':_0x4ad948(0xce9),'properties':{'questionText':{'type':_0x4ad948(0x69c)},'options':{'type':_0x4ad948(0x433),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4ad948(0x69c)},'imageCode':{'type':_0x4ad948(0x69c)}},'required':['questionText',_0x4ad948(0x4ff),_0x4ad948(0x9be),'explanation']},_0x583aac={'type':_0x4ad948(0xce9),'properties':{'questionText':{'type':_0x4ad948(0x69c)},'correctAnswer':{'type':_0x4ad948(0x480)},'explanation':{'type':_0x4ad948(0x69c)},'imageCode':{'type':_0x4ad948(0x69c)}},'required':['questionText','correctAnswer',_0x4ad948(0x579)]},_0x3d6687={'type':_0x4ad948(0xce9),'properties':{'questionText':{'type':_0x4ad948(0x69c)},'idealAnswer':{'type':_0x4ad948(0x69c)},'explanation':{'type':_0x4ad948(0x69c)},'imageCode':{'type':_0x4ad948(0x69c)}},'required':['questionText',_0x4ad948(0x2fc),_0x4ad948(0x579)]},_0x5235f9={'type':_0x4ad948(0xce9),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x4ad948(0x69c)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4ad948(0x433),'items':{'type':_0x4ad948(0x69c)}},'explanation':{'type':_0x4ad948(0x69c)},'imageCode':{'type':_0x4ad948(0x69c)}},'required':[_0x4ad948(0x823),_0x4ad948(0x2f8),_0x4ad948(0x5d8),_0x4ad948(0x307),'explanation']};switch(_0x244dcf){case _0x4ad948(0x2d2):const _0x1912eb=_0x4ad948(0x13f);prompt=_0x4ad948(0xa10)+subjectPrefix+'\x20'+settings['numQuestions']+_0x4ad948(0x1aa)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x4ad948(0x645)+settings[_0x4ad948(0xe16)]+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1912eb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5d2328+'\x20'+simpleMathPrompt,schema=_0x3ca54a;break;case _0x4ad948(0x1cc):_0xc2e7cd=_0x4ad948(0xad2),_0x5d953d=_0x583aac;break;case _0x4ad948(0x603):_0xc2e7cd=_0x4ad948(0xa70),_0x5d953d=_0x3d6687;break;case _0x4ad948(0xa37):_0xc2e7cd=_0x4ad948(0x99e),_0x5d953d=_0x5235f9;break;case _0x4ad948(0xa61):_0xc2e7cd='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0xcce793+_0x4ad948(0x45b),_0x5d953d=_0x3ca54a;break;default:_0xc2e7cd=_0x4ad948(0xcdb)+_0xcce793+'\x20ตัวเลือก)',_0x5d953d=_0x3ca54a;break;}const _0x2a067d='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x3ffb61=document[_0x4ad948(0x6e6)]('loader'),_0x158171=document['getElementById'](_0x4ad948(0x4a5)),_0x499729=document[_0x4ad948(0x6e6)]('generated-quiz-container');document[_0x4ad948(0x6e6)](_0x4ad948(0x9f5))[_0x4ad948(0x3d9)][_0x4ad948(0xb00)](_0x4ad948(0xd60)),_0x499729[_0x4ad948(0xa19)]='',_0x3ffb61[_0x4ad948(0x3d9)][_0x4ad948(0xb00)](_0x4ad948(0xd60)),_0x158171[_0x4ad948(0xb7b)]=_0x4ad948(0x31c)+_0x558dcb+'\x22\x20จำนวน\x20'+_0x21282a+_0x4ad948(0xa25);try{const _0x4d574f=_0x4ad948(0xb74),_0x81b9da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x558dcb+_0x4ad948(0x265)+_0x21282a+_0x4ad948(0x253)+_0x558dcb+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x21282a+_0x4ad948(0xca7)+_0x5d2328+_0x4ad948(0xd38)+_0xc2e7cd+_0x4ad948(0x84c)+_0x2a067d+_0x4ad948(0xa01)+_0x4d574f+_0x4ad948(0xc1a)+simpleMathPrompt+_0x4ad948(0x8d5),_0x15e4af={'type':'OBJECT','properties':{'topic':{'type':_0x4ad948(0x69c)},'questions':{'type':'ARRAY','items':_0x5d953d}},'required':[_0x4ad948(0x9ec),_0x4ad948(0x521)]},_0x4f6e36=[{'text':_0x81b9da},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4f6e36,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x558dcb+_0x4ad948(0xab2),_0x15e4af);}catch(_0x3c18a6){console[_0x4ad948(0x3f8)]('Error\x20generating\x20hybrid\x20quiz:',_0x3c18a6),showMessage(_0x4ad948(0x1f5)+_0x3c18a6[_0x4ad948(0xa6b)]),_0x499729[_0x4ad948(0xa19)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x3ffb61[_0x4ad948(0x3d9)][_0x4ad948(0x831)](_0x4ad948(0xd60));}}async function handleGenerateFromFileClick(){const _0x53dc24=_0x5319e2;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x57f6de=document[_0x53dc24(0x6e6)](_0x53dc24(0x6f0)),_0x3a0e92=document['getElementById'](_0x53dc24(0x4a5)),_0x9b3da2=document[_0x53dc24(0x6e6)](_0x53dc24(0x5b5)),_0x4dd2a8=document[_0x53dc24(0x6e6)](_0x53dc24(0x5ea));_0x4dd2a8[_0x53dc24(0xe9a)]=!![],document['getElementById'](_0x53dc24(0x9f5))[_0x53dc24(0x3d9)]['remove'](_0x53dc24(0xd60)),_0x9b3da2[_0x53dc24(0xa19)]='',_0x57f6de[_0x53dc24(0x3d9)][_0x53dc24(0xb00)](_0x53dc24(0xd60)),_0x3a0e92[_0x53dc24(0xb7b)]=_0x53dc24(0x481);try{const _0x21e8e2=await new Promise((_0x403b59,_0x549c3f)=>{const _0x5d7aa6=_0x53dc24,_0xe69f39=new FileReader();_0xe69f39[_0x5d7aa6(0x326)](selectedFile),_0xe69f39['onload']=()=>_0x403b59(_0xe69f39[_0x5d7aa6(0xcb3)][_0x5d7aa6(0x3ba)](',')[0x1]),_0xe69f39[_0x5d7aa6(0x66e)]=_0xaa273f=>_0x549c3f(_0xaa273f);});await generateQuizFromFile(selectedFile[_0x53dc24(0xe5f)],_0x21e8e2);}catch(_0x255163){console[_0x53dc24(0x3f8)](_0x53dc24(0x169),_0x255163),showMessage(_0x53dc24(0x30e)+_0x255163[_0x53dc24(0xa6b)]),_0x57f6de['classList']['add']('hidden'),_0x4dd2a8[_0x53dc24(0xe9a)]=![];}}function autoFormatMath(_0x22aeb0){const _0x63685e=_0x5319e2;if(typeof _0x22aeb0!==_0x63685e(0x8a0)||!_0x22aeb0)return _0x22aeb0;const _0x20efc3=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x518d5a=_0x22aeb0[_0x63685e(0xa31)](_0x20efc3,_0x3ac9c0=>{const _0x3cf4e9=_0x63685e;return'$'+_0x3ac9c0[_0x3cf4e9(0xc3f)]()+'$';});return _0x518d5a;}function sanitizeQuizData(_0x5b2eb1){const _0x4ed70f=_0x5319e2;if(!_0x5b2eb1||!_0x5b2eb1[_0x4ed70f(0x521)])return _0x5b2eb1;const _0x1e790e=_0x273a39=>{const _0x3459d4=_0x4ed70f;if(typeof _0x273a39!==_0x3459d4(0x8a0))return _0x273a39;let _0x5eea9c=_0x273a39;_0x5eea9c=_0x5eea9c['replace'](/\\\(/g,'$')['replace'](/\\\)/g,'$'),_0x5eea9c=_0x5eea9c[_0x3459d4(0xa31)](/\\\[/g,'$$')['replace'](/\\\]/g,'$$'),_0x5eea9c=_0x5eea9c[_0x3459d4(0xa31)](/\\?imes\b/g,_0x3459d4(0xd64));const _0x54298b=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x5eea9c=_0x5eea9c['replace'](_0x54298b,_0x4616f4=>{const _0x142945=_0x3459d4;return'$'+_0x4616f4[_0x142945(0xc3f)]()+'$';}),_0x5eea9c;};return _0x5b2eb1['topic']&&(_0x5b2eb1['topic']=_0x1e790e(_0x5b2eb1[_0x4ed70f(0x9ec)])),_0x5b2eb1[_0x4ed70f(0x521)][_0x4ed70f(0xbf2)](_0x10f98c=>{const _0x161001=_0x4ed70f;_0x10f98c[_0x161001(0x14e)]=_0x1e790e(_0x10f98c[_0x161001(0x14e)]),_0x10f98c[_0x161001(0x2f8)]=_0x1e790e(_0x10f98c['stem']),_0x10f98c[_0x161001(0x4ff)]&&(_0x10f98c[_0x161001(0x4ff)]=_0x10f98c[_0x161001(0x4ff)][_0x161001(0x23a)](_0x2e0a4a=>_0x1e790e(_0x2e0a4a))),_0x10f98c[_0x161001(0x579)]&&(_0x10f98c[_0x161001(0x579)]=_0x1e790e(_0x10f98c['explanation'])),_0x10f98c[_0x161001(0x5d8)]&&(_0x10f98c[_0x161001(0x5d8)]=_0x1e790e(_0x10f98c[_0x161001(0x5d8)])),_0x10f98c[_0x161001(0x307)]&&(_0x10f98c[_0x161001(0x307)]=_0x10f98c[_0x161001(0x307)][_0x161001(0x23a)](_0x421b70=>_0x1e790e(_0x421b70))),_0x10f98c[_0x161001(0x2fc)]&&(_0x10f98c[_0x161001(0x2fc)]=_0x1e790e(_0x10f98c[_0x161001(0x2fc)]));}),_0x5b2eb1;}const simpleMathPrompt=_0x5319e2(0x978);async function handleGenerateFromLink(){const _0x46cba7=_0x5319e2,_0x3f8dc4=document[_0x46cba7(0x6e6)](_0x46cba7(0x5d3)),_0xa4f13d=document[_0x46cba7(0x6e6)]('link-topic-input'),_0x55274c=_0x3f8dc4[_0x46cba7(0xb2d)][_0x46cba7(0xc3f)](),_0x51065e=_0xa4f13d[_0x46cba7(0xb2d)][_0x46cba7(0xc3f)]();if(!_0x55274c){showMessage(_0x46cba7(0xa5b));return;}const _0x345e7b=document[_0x46cba7(0x6e6)](_0x46cba7(0x6f0)),_0x331709=document['getElementById'](_0x46cba7(0x4a5)),_0x3d6f99=document['getElementById'](_0x46cba7(0x5b5)),_0x93f5e1=document[_0x46cba7(0x6e6)]('generate-from-link-btn');document['getElementById']('quiz-generation-area')[_0x46cba7(0x3d9)]['remove'](_0x46cba7(0xd60)),_0x3d6f99[_0x46cba7(0xa19)]='',_0x345e7b[_0x46cba7(0x3d9)]['remove']('hidden'),_0x331709[_0x46cba7(0xb7b)]=_0x46cba7(0xe34),_0x93f5e1[_0x46cba7(0xe9a)]=!![];try{const _0x5caaf5=_0x46cba7(0x7b7)+encodeURIComponent(_0x55274c),_0x4bef4f=await fetch(_0x5caaf5);if(!_0x4bef4f['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x4bef4f[_0x46cba7(0x626)]+')');const _0x39c52e=await _0x4bef4f['text'](),_0x206663=extractTextFromHtml(_0x39c52e);if(!_0x206663||_0x206663['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x51065e,_0x206663);}catch(_0x566240){console[_0x46cba7(0x3f8)]('Error\x20generating\x20from\x20link:',_0x566240),showMessage(_0x46cba7(0x1f5)+_0x566240['message']),_0x3d6f99[_0x46cba7(0xa19)]=_0x46cba7(0x282);}finally{_0x345e7b['classList']['add'](_0x46cba7(0xd60)),_0x93f5e1[_0x46cba7(0xe9a)]=![];}}function extractTextFromHtml(_0x568cd9){const _0x406d11=_0x5319e2,_0x280459=new DOMParser()[_0x406d11(0xc25)](_0x568cd9,_0x406d11(0x66f));return _0x280459[_0x406d11(0x2c3)](_0x406d11(0x725))[_0x406d11(0xbf2)](_0x43eba7=>_0x43eba7['remove']()),_0x280459['body'][_0x406d11(0xb7b)]||'';}document[_0x5319e2(0x6e6)](_0x5319e2(0xa97))[_0x5319e2(0x49d)](_0x5319e2(0xa6e),()=>{const _0x1bfaf5=_0x5319e2,_0x75427c=document[_0x1bfaf5(0x6e6)](_0x1bfaf5(0x3cb))[_0x1bfaf5(0xb2d)][_0x1bfaf5(0xc3f)]();generateQuiz(_0x75427c,null);}),document['getElementById'](_0x5319e2(0xd84))[_0x5319e2(0x49d)]('click',()=>{const _0x320b59=_0x5319e2,_0x321cd5=document[_0x320b59(0x6e6)](_0x320b59(0x2c9))[_0x320b59(0xb2d)][_0x320b59(0xc3f)]();if(!_0x321cd5){showMessage(_0x320b59(0x1db));return;}const _0x5dba07=document[_0x320b59(0x6e6)](_0x320b59(0x3cb))[_0x320b59(0xb2d)][_0x320b59(0xc3f)]();generateQuiz(_0x5dba07,_0x321cd5);});async function generateQuiz(_0x35cb42,_0x3455fa,_0x38cc01=null,_0x550067=null,_0x5ad6da=![],_0x29a55f=null,_0x16a6ad=null,_0x1baaef=![]){const _0x17d4e9=_0x5319e2;let _0x26be37={};if(_0x5ad6da&&blueprintPageSettings)_0x26be37=blueprintPageSettings;else{const _0x210104=document[_0x17d4e9(0x2c3)]('#math-topics-checkbox-container\x20input:checked');_0x26be37={'quizType':document['getElementById'](_0x17d4e9(0xb2e))[_0x17d4e9(0xb2d)],'numQuestions':document['getElementById']('num-questions')['value'],'numChoices':document['getElementById'](_0x17d4e9(0xd07))[_0x17d4e9(0xb2d)],'includeImages':document[_0x17d4e9(0x6e6)]('include-images-checkbox')['checked'],'isNormalTopic':document['getElementById']('force-math-checkbox')[_0x17d4e9(0x3a6)],'difficultyValue':document[_0x17d4e9(0x6e6)]('difficulty-level-select')[_0x17d4e9(0xb2d)],'complexityValue':document[_0x17d4e9(0x6e6)](_0x17d4e9(0xe24))['value'],'selectedTopicNames':Array[_0x17d4e9(0x693)](_0x210104)[_0x17d4e9(0x23a)](_0xf16ec8=>_0xf16ec8['value'])};}const _0x3a7c2c=_0x26be37[_0x17d4e9(0x96e)]?'':'คณิตศาสตร์',_0x45a6f5=_0x26be37[_0x17d4e9(0x31f)]!==_0x17d4e9(0x710)?_0x17d4e9(0x264)+_0x26be37[_0x17d4e9(0x31f)]+'\x22':'',_0x1b8c26=_0x26be37['complexityValue']!=='mixed'?_0x17d4e9(0x8f9)+_0x26be37[_0x17d4e9(0x28f)]+_0x17d4e9(0x907):'';let _0x98c367='';_0x26be37[_0x17d4e9(0xea4)]&&_0x26be37[_0x17d4e9(0xea4)][_0x17d4e9(0x4f1)]>0x0&&(_0x98c367=_0x17d4e9(0x853)+_0x26be37[_0x17d4e9(0xea4)][_0x17d4e9(0x975)](',\x20')+'.');let _0x125fc0='';_0x550067&&(_0x125fc0=_0x17d4e9(0x9ee));let _0x179193='',_0x5ea80b='',_0x29513d,_0x488790='เกี่ยวกับหัวข้อ\x20\x22'+_0x35cb42+'\x22';if(!_0x35cb42&&_0x3455fa)_0x488790=_0x17d4e9(0xd31);else!_0x35cb42&&!_0x3455fa&&(_0x488790=_0x17d4e9(0xafe));const _0x2fdf4a={'type':_0x17d4e9(0xce9),'properties':{'questionText':{'type':_0x17d4e9(0x69c)},'options':{'type':_0x17d4e9(0x433),'items':{'type':_0x17d4e9(0x69c)}},'correctAnswerIndex':{'type':_0x17d4e9(0xe0e)},'explanation':{'type':_0x17d4e9(0x69c)},'imageCode':{'type':_0x17d4e9(0x69c)}},'required':['questionText',_0x17d4e9(0x4ff),_0x17d4e9(0x9be),_0x17d4e9(0x579)]},_0x495028={'type':'OBJECT','properties':{'questionText':{'type':_0x17d4e9(0x69c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x17d4e9(0x69c)},'imageCode':{'type':_0x17d4e9(0x69c)}},'required':['questionText','idealAnswer',_0x17d4e9(0x579)]},_0x5a9d0b={'type':_0x17d4e9(0xce9),'properties':{'questionText':{'type':_0x17d4e9(0x69c)},'questionType':{'type':_0x17d4e9(0x69c),'enum':['multiple_choice',_0x17d4e9(0xcea)]},'options':{'type':_0x17d4e9(0x433),'items':{'type':_0x17d4e9(0x69c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x17d4e9(0x69c)},'imageCode':{'type':_0x17d4e9(0x69c)}},'required':[_0x17d4e9(0x14e),'questionType',_0x17d4e9(0x579)]},_0x19ff0d={'type':_0x17d4e9(0xce9),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x17d4e9(0x480)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x17d4e9(0x69c)}},'required':['questionText',_0x17d4e9(0x8aa),_0x17d4e9(0x579)]},_0x57810b={'type':_0x17d4e9(0xce9),'properties':{'questionType':{'type':_0x17d4e9(0x69c),'enum':[_0x17d4e9(0x1f6)]},'stem':{'type':_0x17d4e9(0x69c)},'correctResponse':{'type':_0x17d4e9(0x69c)},'allResponses':{'type':_0x17d4e9(0x433),'items':{'type':_0x17d4e9(0x69c)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x17d4e9(0x823),_0x17d4e9(0x2f8),_0x17d4e9(0x5d8),'allResponses',_0x17d4e9(0x579)]};let _0x29c76f;if(_0x38cc01!==null){const _0x39b365=currentQuizData[_0x17d4e9(0x521)][_0x38cc01][_0x17d4e9(0x823)],_0x345fe7=_0x26be37[_0x17d4e9(0xd15)]?_0x17d4e9(0xae4):'';_0x179193=_0x17d4e9(0xa24)+_0x488790+'\x20'+_0x98c367+'\x20'+_0x45a6f5+_0x17d4e9(0x91d)+_0x345fe7+'\x20'+simpleMathPrompt;if(_0x39b365===_0x17d4e9(0x2d2))_0x29513d=_0x2fdf4a;else{if(_0x39b365===_0x17d4e9(0x1f6))_0x29513d={'type':_0x17d4e9(0xce9),'properties':{'questionType':{'type':_0x17d4e9(0x69c),'enum':[_0x17d4e9(0x1f6)]},'stem':{'type':_0x17d4e9(0x69c)},'correctResponse':{'type':_0x17d4e9(0x69c)},'explanation':{'type':_0x17d4e9(0x69c)},'imageCode':{'type':_0x17d4e9(0x69c)}},'required':[_0x17d4e9(0x823),_0x17d4e9(0x2f8),'correctResponse',_0x17d4e9(0x579)]};else _0x29513d=_0x495028;}_0x29c76f=_0x29513d;}else{const _0x301fdd=_0x26be37[_0x17d4e9(0xd15)]?_0x17d4e9(0x43a):'';switch(_0x26be37[_0x17d4e9(0xd29)]){case _0x17d4e9(0x2d2):const _0x3cbba5=_0x17d4e9(0x13f);_0x179193=_0x17d4e9(0xa10)+_0x3a7c2c+'\x20'+_0x26be37[_0x17d4e9(0x2e7)]+'\x20ข้อ\x20'+_0x488790+'\x20'+_0x98c367+'\x20'+_0x45a6f5+'\x20'+_0x1b8c26+'\x20'+_0x125fc0+_0x17d4e9(0x645)+_0x26be37[_0x17d4e9(0xe16)]+_0x17d4e9(0x254)+_0x3cbba5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x301fdd+'\x20'+simpleMathPrompt,_0x29513d=_0x2fdf4a;break;case _0x17d4e9(0xa61):_0x179193=_0x17d4e9(0x9e1)+_0x3a7c2c+'\x20'+_0x26be37['numQuestions']+'\x20ข้อ\x20'+_0x488790+'\x20'+_0x98c367+'\x20'+_0x45a6f5+'\x20'+_0x1b8c26+'\x20'+_0x125fc0+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x26be37[_0x17d4e9(0xe16)]+_0x17d4e9(0x8fa)+_0x301fdd+'\x20'+simpleMathPrompt,_0x29513d=_0x2fdf4a;break;case'fill_in_no_choices':_0x179193=_0x17d4e9(0x9e1)+_0x3a7c2c+'\x20'+_0x26be37[_0x17d4e9(0x2e7)]+'\x20ข้อ\x20'+_0x488790+'\x20'+_0x98c367+'\x20'+_0x45a6f5+'\x20'+_0x1b8c26+'\x20'+_0x125fc0+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x301fdd+'\x20'+simpleMathPrompt,_0x29513d=_0x495028;break;case _0x17d4e9(0x134):_0x179193=_0x17d4e9(0x8ae)+_0x3a7c2c+'\x20'+_0x26be37['numQuestions']+'\x20ข้อ\x20'+_0x488790+'\x20'+_0x98c367+'\x20'+_0x45a6f5+'\x20'+_0x1b8c26+'\x20'+_0x125fc0+_0x17d4e9(0x7fc)+_0x26be37[_0x17d4e9(0xe16)]+_0x17d4e9(0xd42)+_0x301fdd+'\x20'+simpleMathPrompt+'.',_0x29513d=_0x5a9d0b;break;case _0x17d4e9(0x1cc):_0x179193=_0x17d4e9(0x384)+_0x3a7c2c+'\x20'+_0x26be37[_0x17d4e9(0x2e7)]+_0x17d4e9(0x1aa)+_0x488790+'\x20'+_0x98c367+'\x20'+_0x45a6f5+'\x20'+_0x1b8c26+'\x20'+_0x125fc0+_0x17d4e9(0x4cb)+_0x301fdd+'\x20'+simpleMathPrompt,_0x29513d=_0x19ff0d;break;case'matching':_0x179193=_0x17d4e9(0x256)+_0x3a7c2c+'\x20'+_0x26be37['numQuestions']+_0x17d4e9(0x377)+_0x488790+'\x20'+_0x98c367+'\x20'+_0x45a6f5+'\x20'+_0x1b8c26+'\x20'+_0x125fc0+_0x17d4e9(0xd7c)+_0x301fdd+'\x20'+simpleMathPrompt,_0x29513d=_0x57810b;break;}_0x29c76f={'type':_0x17d4e9(0xce9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x17d4e9(0x433),'items':_0x29513d}},'required':['topic',_0x17d4e9(0x521)]};}const _0x7c7c31=_0x17d4e9(0xc53);_0x3455fa?(_0x1baaef?_0x179193=_0x17d4e9(0x7ca)+_0x3455fa+_0x17d4e9(0x13c)+_0x179193+_0x7c7c31:_0x179193=_0x17d4e9(0x7ca)+_0x3455fa+_0x17d4e9(0x13c)+_0x179193,_0x5ea80b=_0x17d4e9(0xcd3)):(_0x1baaef&&(_0x179193+=_0x7c7c31),_0x5ea80b=_0x17d4e9(0x715));let _0x3300d4;return _0x550067?(_0x3300d4=[{'text':_0x179193},..._0x550067],_0x5ea80b=_0x17d4e9(0x75a)):_0x3300d4=_0x179193,handleApiCall(_0x3300d4,_0x5ea80b,_0x29c76f,_0x38cc01,!![],_0x29a55f,_0x16a6ad);}async function generateQuizFromFile(_0xc9a6c,_0x536f1f){const _0xf9697b=_0x5319e2,_0x3a8f8e=document[_0xf9697b(0x6e6)](_0xf9697b(0x86b))[_0xf9697b(0xb2d)]['trim'](),_0x26b705=document[_0xf9697b(0x6e6)]('quiz-type-select')[_0xf9697b(0xb2d)],_0x473a7c=document[_0xf9697b(0x6e6)](_0xf9697b(0x922))[_0xf9697b(0xb2d)],_0x3cb76a=document['getElementById'](_0xf9697b(0xd07))['value'],_0x3b69ed=document[_0xf9697b(0x6e6)]('include-images-checkbox')[_0xf9697b(0x3a6)],_0x2d6531=document[_0xf9697b(0x6e6)](_0xf9697b(0x7fb))[_0xf9697b(0x3a6)],_0x48cdb4=_0x2d6531?'':_0xf9697b(0x72c),_0x179edc=document[_0xf9697b(0x6e6)]('original-mode-checkbox')[_0xf9697b(0x3a6)];let _0x69eb3b='',_0x3646d1;const _0x46604a=_0x3b69ed?_0xf9697b(0x43a):'';if(_0x179edc)_0x69eb3b=_0xf9697b(0xd41)+_0x46604a+'\x0a'+simpleMathPrompt+'\x0a',_0x3646d1={'type':_0xf9697b(0xce9),'properties':{'questionText':{'type':_0xf9697b(0x69c)},'questionType':{'type':'STRING','enum':['multiple_choice','short_answer','true_false',_0xf9697b(0x1f6)]},'options':{'type':_0xf9697b(0x433),'items':{'type':_0xf9697b(0x69c)}},'correctAnswerIndex':{'type':_0xf9697b(0xe0e)},'idealAnswer':{'type':_0xf9697b(0x69c)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0xf9697b(0x69c)},'correctResponse':{'type':_0xf9697b(0x69c)},'allResponses':{'type':_0xf9697b(0x433),'items':{'type':_0xf9697b(0x69c)}},'explanation':{'type':_0xf9697b(0x69c)},'imageCode':{'type':_0xf9697b(0x69c)}},'required':[_0xf9697b(0x823),_0xf9697b(0x579)]};else{let _0x45cbd6=_0xf9697b(0x3ab)+_0x3a8f8e+'\x22';!_0x3a8f8e&&(_0x45cbd6=_0xf9697b(0x486));switch(_0x26b705){case'multiple_choice':const _0x1c46da=_0xf9697b(0x84e);_0x69eb3b=_0xf9697b(0xa10)+_0x48cdb4+'\x20'+_0x473a7c+'\x20ข้อ\x20'+_0x45cbd6+_0xf9697b(0xb79)+_0x3cb76a+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0x1c46da+'\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20'+_0x46604a+'\x20'+simpleMathPrompt,_0x3646d1={'type':_0xf9697b(0xce9),'properties':{'questionText':{'type':_0xf9697b(0x69c)},'options':{'type':_0xf9697b(0x433),'items':{'type':_0xf9697b(0x69c)}},'correctAnswerIndex':{'type':_0xf9697b(0xe0e)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0xf9697b(0x9be),_0xf9697b(0x579)]};break;case'fill_in_with_choices':_0x69eb3b=_0xf9697b(0x9e1)+_0x48cdb4+'\x20'+_0x473a7c+_0xf9697b(0x1aa)+_0x45cbd6+_0xf9697b(0xb08)+_0x3cb76a+_0xf9697b(0x8fa)+_0x46604a+'\x20'+simpleMathPrompt,_0x3646d1={'type':_0xf9697b(0xce9),'properties':{'questionText':{'type':_0xf9697b(0x69c)},'options':{'type':_0xf9697b(0x433),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xf9697b(0xe0e)},'explanation':{'type':_0xf9697b(0x69c)},'imageCode':{'type':_0xf9697b(0x69c)}},'required':[_0xf9697b(0x14e),'options',_0xf9697b(0x9be),'explanation']};break;case _0xf9697b(0x603):_0x69eb3b='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x48cdb4+'\x20'+_0x473a7c+_0xf9697b(0x1aa)+_0x45cbd6+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x46604a+'\x20'+simpleMathPrompt,_0x3646d1={'type':_0xf9697b(0xce9),'properties':{'questionText':{'type':_0xf9697b(0x69c)},'idealAnswer':{'type':_0xf9697b(0x69c)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xf9697b(0x69c)}},'required':[_0xf9697b(0x14e),_0xf9697b(0x2fc),_0xf9697b(0x579)]};break;case _0xf9697b(0x134):_0x69eb3b='สร้างแบบทดสอบ'+_0x48cdb4+'\x20'+_0x473a7c+'\x20ข้อ\x20'+_0x45cbd6+_0xf9697b(0xcee)+_0x3cb76a+_0xf9697b(0x870)+_0x46604a+'\x20'+simpleMathPrompt+_0xf9697b(0x507),_0x3646d1={'type':_0xf9697b(0xce9),'properties':{'questionText':{'type':_0xf9697b(0x69c)},'questionType':{'type':_0xf9697b(0x69c),'enum':[_0xf9697b(0x2d2),_0xf9697b(0xcea)]},'options':{'type':_0xf9697b(0x433),'items':{'type':_0xf9697b(0x69c)}},'correctAnswerIndex':{'type':_0xf9697b(0xe0e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xf9697b(0x69c)},'imageCode':{'type':_0xf9697b(0x69c)}},'required':[_0xf9697b(0x14e),'questionType',_0xf9697b(0x579)]};break;case'true_false':_0x69eb3b=_0xf9697b(0x384)+_0x48cdb4+'\x20'+_0x473a7c+'\x20ข้อ\x20'+_0x45cbd6+_0xf9697b(0x494)+_0x46604a+'\x20'+simpleMathPrompt,_0x3646d1={'type':_0xf9697b(0xce9),'properties':{'questionText':{'type':_0xf9697b(0x69c)},'correctAnswer':{'type':_0xf9697b(0x480)},'explanation':{'type':_0xf9697b(0x69c)},'imageCode':{'type':_0xf9697b(0x69c)}},'required':['questionText',_0xf9697b(0x8aa),_0xf9697b(0x579)]};break;case _0xf9697b(0xa37):_0x69eb3b=_0xf9697b(0x256)+_0x48cdb4+'\x20'+_0x473a7c+'\x20คู่\x20'+_0x45cbd6+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x473a7c+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x46604a+'\x20'+simpleMathPrompt,_0x3646d1={'type':_0xf9697b(0xce9),'properties':{'questionType':{'type':'STRING','enum':[_0xf9697b(0x1f6)]},'stem':{'type':_0xf9697b(0x69c)},'correctResponse':{'type':_0xf9697b(0x69c)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0xf9697b(0x69c)},'imageCode':{'type':'STRING'}},'required':[_0xf9697b(0x823),_0xf9697b(0x2f8),'correctResponse',_0xf9697b(0x307),_0xf9697b(0x579)]};break;}}const _0x4da889={'type':_0xf9697b(0xce9),'properties':{'topic':{'type':_0xf9697b(0x69c)},'questions':{'type':_0xf9697b(0x433),'items':_0x3646d1}},'required':[_0xf9697b(0x9ec),_0xf9697b(0x521)]},_0x41606f=_0xf9697b(0x207)+_0x69eb3b,_0x330af4={'contents':[{'parts':[{'text':_0x41606f},{'inlineData':{'mimeType':_0xc9a6c,'data':_0x536f1f}}]}],'generationConfig':{'responseMimeType':_0xf9697b(0xbbd),'responseSchema':_0x4da889}};return handleApiCall(_0x330af4[_0xf9697b(0x2d0)][0x0][_0xf9697b(0xe9f)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x4da889);}async function handleApiCall(_0x293c48,_0x1fc791,_0x1b69e4,_0x566c1e=null,_0x56fc3e=!![],_0x51116e=null,_0x56acb4=null){const _0x224206=_0x5319e2,_0x5aef67=document[_0x224206(0x6e6)](_0x224206(0x9f5)),_0x464aac=document[_0x224206(0x6e6)](_0x224206(0x6f0)),_0x3ff410=document[_0x224206(0x6e6)](_0x224206(0x4a5)),_0x4a5d2c=document[_0x224206(0x6e6)](_0x224206(0x5b5));_0x5aef67[_0x224206(0x3d9)][_0x224206(0xb00)](_0x224206(0xd60));_0x566c1e===null&&_0x56fc3e&&(_0x4a5d2c[_0x224206(0xa19)]='');_0x464aac[_0x224206(0x3d9)][_0x224206(0xb00)](_0x224206(0xd60)),_0x3ff410[_0x224206(0xb7b)]=_0x1fc791,document[_0x224206(0x6e6)](_0x224206(0xa97))['disabled']=!![],document[_0x224206(0x6e6)](_0x224206(0xd84))[_0x224206(0xe9a)]=!![],document[_0x224206(0x6e6)](_0x224206(0x1e4))[_0x224206(0xe9a)]=!![];const _0x45fc14=document[_0x224206(0x6e6)]('generate-from-file-btn');if(_0x45fc14)_0x45fc14['disabled']=!![];const _0x4c2559=document[_0x224206(0x6e6)](_0x224206(0x5a8));if(_0x4c2559)_0x4c2559[_0x224206(0xe9a)]=!![];const _0x157b56=document[_0x224206(0x6e6)](_0x224206(0x426));if(_0x157b56)_0x157b56[_0x224206(0xe9a)]=!![];try{const _0x2c10d4=Array[_0x224206(0x54d)](_0x293c48)?_0x293c48:[{'text':_0x293c48}],_0x3517af={'contents':[{'role':_0x224206(0xb42),'parts':_0x2c10d4}]};_0x1b69e4&&(_0x3517af[_0x224206(0x212)]={'responseMimeType':'application/json','responseSchema':_0x1b69e4});const _0x17a81c='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0xf4e1df='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x17a81c,_0x3bee63=await fetch(_0xf4e1df,{'method':_0x224206(0x932),'headers':{'Content-Type':_0x224206(0xbbd)},'body':JSON[_0x224206(0x338)](_0x3517af)});if(!_0x3bee63['ok']){const _0x848a6=await _0x3bee63['text']();console['error'](_0x224206(0x606),_0x848a6);throw new Error(_0x224206(0x241)+_0x3bee63[_0x224206(0x626)]);}const _0x36a027=await _0x3bee63[_0x224206(0xdf4)]();if(!_0x36a027[_0x224206(0x4b8)]||_0x36a027[_0x224206(0x4b8)][_0x224206(0x4f1)]===0x0){let _0x27ebdf=_0x224206(0xe2b);return _0x36a027[_0x224206(0xd47)]?.[_0x224206(0xe84)]&&(_0x27ebdf=_0x224206(0x13e)+_0x36a027['promptFeedback'][_0x224206(0xe84)]+'.'),console[_0x224206(0x3f8)](_0x27ebdf,JSON['stringify'](_0x36a027)),null;}const _0x5bdf03=_0x36a027[_0x224206(0x4b8)][0x0][_0x224206(0x23e)][_0x224206(0xe9f)][0x0][_0x224206(0x135)];if(_0x1b69e4){let _0x54c88d=_0x5bdf03;if(_0x54c88d[_0x224206(0x4be)](_0x224206(0xd6c)))_0x54c88d=_0x54c88d['substring'](0x7,_0x54c88d[_0x224206(0x4f1)]-0x3)[_0x224206(0xc3f)]();else _0x54c88d[_0x224206(0x4be)](_0x224206(0x364))&&(_0x54c88d=_0x54c88d[_0x224206(0x98f)](0x3,_0x54c88d['length']-0x3)['trim']());let _0x450e94=JSON[_0x224206(0x110)](_0x54c88d);if(_0x450e94[_0x224206(0x521)]&&Array['isArray'](_0x450e94[_0x224206(0x521)])){const _0x3b5c4e=_0x450e94[_0x224206(0x521)][_0x224206(0xbdf)](_0x14dc01=>_0x14dc01['questionType']==='matching_item');if(_0x3b5c4e['length']>0x1){const _0x33af20=_0x3b5c4e[_0x224206(0x23a)](_0x399dce=>_0x399dce[_0x224206(0x5d8)])[_0x224206(0xbdf)](_0x449935=>_0x449935&&_0x449935[_0x224206(0xc3f)]()!=='');shuffleArray(_0x33af20),_0x3b5c4e[_0x224206(0xbf2)](_0x470740=>{const _0x2e5a9a=_0x224206;_0x470740[_0x2e5a9a(0x307)]=[..._0x33af20];}),console[_0x224206(0x8b1)]('Matching\x20options\x20synced:',_0x33af20);}}if(_0x56fc3e){if(_0x566c1e!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x224206(0x521)]){}}else currentQuizData=_0x450e94,displayGeneratedQuiz(currentQuizData,_0x51116e,_0x56acb4);}return _0x450e94;}else return _0x5bdf03;}catch(_0x3b6c8d){console['error'](_0x224206(0x30c),_0x3b6c8d),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x3b6c8d[_0x224206(0xa6b)]);_0x56fc3e&&(_0x4a5d2c['innerHTML']=_0x224206(0x93a));throw _0x3b6c8d;}finally{_0x464aac['classList'][_0x224206(0x831)](_0x224206(0xd60)),document['getElementById'](_0x224206(0xa97))[_0x224206(0xe9a)]=![],document['getElementById'](_0x224206(0xd84))[_0x224206(0xe9a)]=![],document['getElementById'](_0x224206(0x1e4))['disabled']=![];if(_0x45fc14)_0x45fc14[_0x224206(0xe9a)]=![];if(_0x4c2559)_0x4c2559['disabled']=![];if(_0x157b56)_0x157b56['disabled']=![];}}function exitFullscreen(){const _0xad9230=_0x5319e2;if(document[_0xad9230(0x7bc)])document[_0xad9230(0x7bc)]()['catch'](_0x535c8c=>console['error'](_0x535c8c));else{if(document['webkitExitFullscreen'])document[_0xad9230(0xdbe)]();else document[_0xad9230(0x755)]&&document[_0xad9230(0x755)]();}}function enterFullscreen(){const _0x2d4e3b=_0x5319e2,_0x3cff07=document['documentElement'];if(_0x3cff07[_0x2d4e3b(0xb64)])_0x3cff07[_0x2d4e3b(0xb64)]()[_0x2d4e3b(0x2c7)](_0x1a7c68=>{const _0x525f3c=_0x2d4e3b;console[_0x525f3c(0x3f8)](_0x525f3c(0x7dc)+_0x1a7c68[_0x525f3c(0xa6b)]+'\x20('+_0x1a7c68[_0x525f3c(0x1dc)]+')');});else{if(_0x3cff07[_0x2d4e3b(0x809)])_0x3cff07[_0x2d4e3b(0x809)]();else _0x3cff07[_0x2d4e3b(0xb95)]&&_0x3cff07[_0x2d4e3b(0xb95)]();}}function handleCheatingEvent(){const _0x542831=_0x5319e2;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x542831(0x7c0),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x542831(0x61d)+maxCheatAttempts+_0x542831(0x137)),document[_0x542831(0x6e6)](_0x542831(0x3a3))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x542831(0x60a)]('visibilitychange',handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage(_0x542831(0x54e)+cheatAttempts+'/'+maxCheatAttempts+_0x542831(0xba6),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2b5e88=_0x5319e2;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x2b5e88(0x2a7)]===_0x2b5e88(0xd60))handleCheatingEvent();else document[_0x2b5e88(0x2a7)]==='visible'&&(console[_0x2b5e88(0x8b1)](_0x2b5e88(0xaf8)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4276c5,_0x246d13=null,_0x4a8b7d=null){const _0x31d525=_0x5319e2,_0xbb078b=document[_0x31d525(0x6e6)](_0x31d525(0x5b5));let _0x1daea4=_0x31d525(0x4f4)+_0x4276c5[_0x31d525(0x9ec)]+_0x31d525(0x502);_0x4276c5['questions'][_0x31d525(0xbf2)]((_0x40bbb5,_0x4aabbd)=>{const _0x1cf83c=_0x31d525;!_0x40bbb5['id']&&(_0x40bbb5['id']='q_'+Date[_0x1cf83c(0xc35)]()+'_'+_0x4aabbd);const _0x1790f8=_0x40bbb5[_0x1cf83c(0x823)]||_0x4276c5['quizType'];_0x1daea4+=_0x1cf83c(0x5a3)+_0x4aabbd+_0x1cf83c(0x6e8)+_0x4aabbd+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4aabbd+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x1790f8===_0x1cf83c(0x1f6)?_0x1daea4+=_0x1cf83c(0xb6a)+_0x4aabbd+'\x22>'+(_0x4aabbd+0x1)+'.\x20'+_0x40bbb5[_0x1cf83c(0x2f8)]+'</p>':_0x1daea4+=_0x1cf83c(0xb6a)+_0x4aabbd+'\x22>'+(_0x4aabbd+0x1)+'.\x20'+_0x40bbb5[_0x1cf83c(0x14e)]+_0x1cf83c(0xc37);_0x40bbb5[_0x1cf83c(0xc44)]&&(_0x1daea4+='<div\x20id=\x22q-image-container-'+_0x4aabbd+_0x1cf83c(0x73e)+_0x40bbb5[_0x1cf83c(0xc44)]+_0x1cf83c(0xa5a));if(_0x40bbb5[_0x1cf83c(0x4ff)]&&Array[_0x1cf83c(0x54d)](_0x40bbb5[_0x1cf83c(0x4ff)])&&_0x40bbb5[_0x1cf83c(0x4ff)]['length']>0x0)_0x1daea4+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x4aabbd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40bbb5[_0x1cf83c(0x4ff)][_0x1cf83c(0x23a)]((_0x89fb25,_0x3fd8d2)=>_0x1cf83c(0x153)+(_0x3fd8d2===_0x40bbb5['correctAnswerIndex']?_0x1cf83c(0xd5d):'')+'\x22>'+_0x89fb25+'</li>')[_0x1cf83c(0x975)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>';else{if(_0x1790f8===_0x1cf83c(0x1f6)||_0x40bbb5[_0x1cf83c(0x5d8)])_0x1daea4+=_0x1cf83c(0xbba)+_0x4aabbd+'\x22>'+_0x40bbb5[_0x1cf83c(0x5d8)]+_0x1cf83c(0x662);else{if(_0x1790f8==='true_false'||typeof _0x40bbb5[_0x1cf83c(0x8aa)]===_0x1cf83c(0x69b))_0x1daea4+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x40bbb5['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x1cf83c(0x3d7)+(_0x40bbb5[_0x1cf83c(0x8aa)]===![]?_0x1cf83c(0xd5d):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x40bbb5[_0x1cf83c(0x2fc)]?_0x1daea4+=_0x1cf83c(0x299)+_0x4aabbd+'\x22>'+_0x40bbb5['idealAnswer']+_0x1cf83c(0x662):_0x1daea4+=_0x1cf83c(0xd55);}}_0x1daea4+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x4aabbd+'\x22>'+_0x40bbb5[_0x1cf83c(0x579)]+_0x1cf83c(0x662),_0x1daea4+='</div>';}),_0x1daea4+=_0x31d525(0x422),_0xbb078b[_0x31d525(0xa19)]=_0x1daea4,document[_0x31d525(0x2c3)](_0x31d525(0xb21))[_0x31d525(0xbf2)](_0x42874d=>_0x42874d[_0x31d525(0x49d)](_0x31d525(0xa6e),handleEditQuestion)),document['querySelectorAll'](_0x31d525(0xba3))['forEach'](_0x19aa15=>_0x19aa15[_0x31d525(0x49d)]('click',handleRegenerateQuestion)),document['getElementById']('export-worksheet-pdf-btn')[_0x31d525(0x49d)](_0x31d525(0xa6e),exportQuizAsWorksheetPDF),document[_0x31d525(0x6e6)](_0x31d525(0x97a))[_0x31d525(0x49d)](_0x31d525(0xa6e),handleVerifyAnswers);const _0x3a74bd=document[_0x31d525(0x6e6)](_0x31d525(0x96a));if(_0x3a74bd){const _0x5c8c34=_0x246d13||currentProjectId;_0x3a74bd[_0x31d525(0x49d)](_0x31d525(0xa6e),()=>saveQuiz(_0x5c8c34,_0x4a8b7d));}if(window[_0x31d525(0x19c)])window[_0x31d525(0x19c)][_0x31d525(0xc6e)]([_0xbb078b]);}function handleRegenerateQuestion(_0x389949){const _0x27f5c3=_0x5319e2,_0x2eed93=_0x389949[_0x27f5c3(0x453)][_0x27f5c3(0x9ff)]['index'],_0x5a4ef6=currentQuizData[_0x27f5c3(0x9ec)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x2eed93)+0x1)+_0x27f5c3(0xd0e)),generateQuiz(_0x5a4ef6,null,parseInt(_0x2eed93));}function getPointerPosition(_0x11abda,_0x1d783d){const _0x50099f=_0x5319e2,_0x1721e9=_0x11abda['getScreenCTM']();let _0x52921a,_0x3ed413;return _0x1d783d[_0x50099f(0x7a4)]&&_0x1d783d[_0x50099f(0x7a4)]['length']>0x0?(_0x52921a=_0x1d783d['touches'][0x0][_0x50099f(0x238)],_0x3ed413=_0x1d783d[_0x50099f(0x7a4)][0x0][_0x50099f(0xc1d)]):(_0x52921a=_0x1d783d[_0x50099f(0x238)],_0x3ed413=_0x1d783d['clientY']),{'x':(_0x52921a-_0x1721e9['e'])/_0x1721e9['a'],'y':(_0x3ed413-_0x1721e9['f'])/_0x1721e9['d']};}function startDrag(_0x338b9d){const _0x62f245=_0x5319e2;_0x338b9d[_0x62f245(0xe5f)]==='touchstart'&&_0x338b9d['preventDefault']();const _0x388d80=_0x338b9d[_0x62f245(0x8ce)][_0x62f245(0x8ec)](_0x62f245(0x51a));if(_0x388d80){draggedSvgElement=_0x388d80;const _0x44acae=draggedSvgElement[_0x62f245(0xdb3)],_0x4497d9=getPointerPosition(_0x44acae,_0x338b9d);svgOffset['x']=_0x4497d9['x']-parseFloat(draggedSvgElement[_0x62f245(0x305)](null,'x')),svgOffset['y']=_0x4497d9['y']-parseFloat(draggedSvgElement[_0x62f245(0x305)](null,'y'));}}function calculateItemAnalysis(_0x4ea73a,_0x54b0c8){const _0x138171=_0x5319e2,_0x301342={};if(_0x54b0c8['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x535503=[..._0x54b0c8][_0x138171(0x602)]((_0x2e2277,_0x333ce2)=>{const _0x58693b=_0x138171,_0x34a77d=_0x333ce2[_0x58693b(0xd6b)]-_0x2e2277[_0x58693b(0xd6b)];if(_0x34a77d!==0x0)return _0x34a77d;const _0x322ede=_0x2e2277['attempts']?.['length']||0x1,_0x3e3080=_0x333ce2['attempts']?.[_0x58693b(0x4f1)]||0x1,_0x32ae80=_0x322ede-_0x3e3080;if(_0x32ae80!==0x0)return _0x32ae80;const _0x20ee91=new Date(_0x2e2277[_0x58693b(0x666)]),_0x33fb77=new Date(_0x333ce2[_0x58693b(0x666)]),_0x5b5843=_0x20ee91-_0x33fb77;if(_0x5b5843!==0x0)return _0x5b5843;return _0x2e2277[_0x58693b(0xdea)]['localeCompare'](_0x333ce2['studentName'],'th');}),_0x5ac20c=_0x535503[_0x138171(0x4f1)],_0x370bd4=Math[_0x138171(0xd01)](0x1,Math['floor'](_0x5ac20c*0.33));if(_0x370bd4===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x13f489=_0x535503[_0x138171(0x1e1)](0x0,_0x370bd4),_0x4451c9=_0x535503[_0x138171(0x1e1)](-_0x370bd4),_0xd99069=_0x13f489[_0x138171(0x23a)](_0xf76d22=>_0xf76d22[_0x138171(0xdea)]),_0x2c58b3=_0x4451c9[_0x138171(0x23a)](_0x5871ff=>_0x5871ff['studentName']);return _0x4ea73a[_0x138171(0x521)][_0x138171(0xbf2)]((_0xdb220b,_0x204748)=>{const _0x53fd08=_0x138171,_0x5438cb=_0xdb220b[_0x53fd08(0x2f8)]||_0xdb220b[_0x53fd08(0x14e)];let _0x3419b8=0x0,_0x19081f=0x0,_0x74b514=0x0;const _0x19c45b=[],_0x440af8=[];_0x13f489[_0x53fd08(0xbf2)](_0x4fc277=>{const _0x188d98=_0x53fd08,_0x4da2b7=_0x4fc277[_0x188d98(0xca5)][_0x4fc277[_0x188d98(0xca5)][_0x188d98(0x4f1)]-0x1],_0x188822=_0x4da2b7['answers'][_0x188d98(0x8af)](_0x972c14=>_0x972c14[_0x188d98(0x672)]===_0x5438cb);_0x19c45b[_0x188d98(0xbda)]({'name':_0x4fc277['studentName'],'isCorrect':_0x188822?_0x188822[_0x188d98(0x1a1)]:![]}),_0x188822&&_0x188822[_0x188d98(0x1a1)]&&_0x19081f++;}),_0x4451c9[_0x53fd08(0xbf2)](_0x50e2d9=>{const _0x1d264d=_0x53fd08,_0x4e7458=_0x50e2d9[_0x1d264d(0xca5)][_0x50e2d9[_0x1d264d(0xca5)][_0x1d264d(0x4f1)]-0x1],_0x3a1e28=_0x4e7458['answers'][_0x1d264d(0x8af)](_0x2ca08a=>_0x2ca08a['originalQuestionText']===_0x5438cb);_0x440af8[_0x1d264d(0xbda)]({'name':_0x50e2d9[_0x1d264d(0xdea)],'isCorrect':_0x3a1e28?_0x3a1e28[_0x1d264d(0x1a1)]:![]}),_0x3a1e28&&_0x3a1e28[_0x1d264d(0x1a1)]&&_0x74b514++;}),_0x54b0c8[_0x53fd08(0xbf2)](_0x65a59=>{const _0x1afb72=_0x53fd08,_0x2d3960=_0x65a59[_0x1afb72(0xca5)][_0x65a59[_0x1afb72(0xca5)]['length']-0x1],_0x35ff2f=_0x2d3960['answers'][_0x1afb72(0x8af)](_0x4728a4=>_0x4728a4[_0x1afb72(0x672)]===_0x5438cb);_0x35ff2f&&_0x35ff2f[_0x1afb72(0x1a1)]&&_0x3419b8++;});const _0x562e46=_0x5ac20c>0x0?_0x3419b8/_0x5ac20c:0x0,_0x38d8f8=_0x370bd4>0x0?_0x19081f/_0x370bd4-_0x74b514/_0x370bd4:0x0;_0x301342[_0x204748]={'p':_0x562e46,'r':_0x38d8f8,'upperGroupResponders':_0x19c45b,'lowerGroupResponders':_0x440af8};}),{'perQuestionStats':_0x301342,'overallGroups':{'upperGroupNames':_0xd99069,'lowerGroupNames':_0x2c58b3}};}function drag(_0x4df57a){const _0x14b5e6=_0x5319e2;if(draggedSvgElement){_0x4df57a[_0x14b5e6(0x266)]();const _0x4c7f90=draggedSvgElement[_0x14b5e6(0xdb3)],_0x406b37=getPointerPosition(_0x4c7f90,_0x4df57a),_0x4dd1f8=_0x4c7f90[_0x14b5e6(0x953)][_0x14b5e6(0x60f)];let _0x2e8b27=_0x406b37['x']-svgOffset['x'],_0xfd84ce=_0x406b37['y']-svgOffset['y'];const _0x2a2fab=draggedSvgElement[_0x14b5e6(0x21e)]();_0x2e8b27=Math['max'](_0x4dd1f8['x'],Math[_0x14b5e6(0xd39)](_0x2e8b27,_0x4dd1f8['x']+_0x4dd1f8[_0x14b5e6(0x96d)]-_0x2a2fab['width'])),_0xfd84ce=Math[_0x14b5e6(0xd01)](_0x4dd1f8['y'],Math[_0x14b5e6(0xd39)](_0xfd84ce,_0x4dd1f8['y']+_0x4dd1f8[_0x14b5e6(0x210)]-_0x2a2fab[_0x14b5e6(0x210)])),draggedSvgElement['setAttributeNS'](null,'x',_0x2e8b27),draggedSvgElement[_0x14b5e6(0xe87)](null,'y',_0xfd84ce);}}function endDrag(_0x2842c1){draggedSvgElement=null;}function handleSvgEditClick(_0x382015){const _0x4c9910=_0x5319e2;if(_0x382015[_0x4c9910(0x8ce)][_0x4c9910(0x3d9)][_0x4c9910(0x124)](_0x4c9910(0xb7d))){const _0x1e422f=_0x382015['target'][_0x4c9910(0x9ff)][_0x4c9910(0x150)],_0x3b65f5=_0x382015[_0x4c9910(0x453)],_0x299ee4=_0x3b65f5['querySelector']('#'+_0x1e422f);_0x299ee4&&_0x299ee4[_0x4c9910(0xb00)](),_0x382015[_0x4c9910(0x8ce)][_0x4c9910(0xb00)]();}}function handleEditQuestion(_0x937fb2){const _0x1def7a=_0x5319e2,_0x2853a9=_0x937fb2[_0x1def7a(0x453)],_0x14023b=_0x2853a9['dataset'][_0x1def7a(0x9c6)],_0x5ad6d3=currentQuizData[_0x1def7a(0x521)][_0x14023b],_0x300bbb=document[_0x1def7a(0x6e6)](_0x1def7a(0xe15)+_0x14023b),_0x4b1310=document[_0x1def7a(0x6e6)](_0x1def7a(0x611)+_0x14023b),_0x3c7abd=document[_0x1def7a(0x6e6)](_0x1def7a(0x346)+_0x14023b);if(_0x2853a9['innerHTML'][_0x1def7a(0x676)](_0x1def7a(0x95f))){_0x2853a9[_0x1def7a(0xa19)]=_0x1def7a(0xdab),_0x2853a9[_0x1def7a(0xa18)]=_0x1def7a(0xa9a);if(_0x300bbb)_0x300bbb[_0x1def7a(0xcd8)]=!![];if(_0x4b1310)_0x4b1310['contentEditable']=!![];if(_0x3c7abd){const _0x483f31=_0x3c7abd[_0x1def7a(0x86d)](_0x1def7a(0x39b));if(_0x483f31){const _0x58a15b=_0x483f31[_0x1def7a(0x2c3)](_0x1def7a(0x135));_0x58a15b[_0x1def7a(0xbf2)]((_0x3b2db3,_0x4bbde6)=>{const _0x25bd2a=_0x1def7a,_0x31a232=_0x25bd2a(0x49a)+_0x14023b+'-'+_0x4bbde6;_0x3b2db3['id']=_0x31a232,_0x3b2db3[_0x25bd2a(0x3d9)][_0x25bd2a(0x831)](_0x25bd2a(0x43d)),_0x3b2db3[_0x25bd2a(0xaed)][_0x25bd2a(0x7e7)]=_0x25bd2a(0xd4c);const _0x242d25=document['createElementNS'](_0x25bd2a(0x68b),_0x25bd2a(0x240)),_0x197765=_0x3b2db3[_0x25bd2a(0x21e)]();_0x242d25[_0x25bd2a(0x906)]('cx',String(_0x197765['x']+_0x197765[_0x25bd2a(0x96d)]+0x5)),_0x242d25['setAttribute']('cy',String(_0x197765['y']+_0x197765[_0x25bd2a(0x210)]/0x2-0x5)),_0x242d25[_0x25bd2a(0x906)]('r','5'),_0x242d25[_0x25bd2a(0x906)](_0x25bd2a(0xe85),_0x25bd2a(0x8a3)),_0x242d25[_0x25bd2a(0x906)](_0x25bd2a(0xc77),'delete-svg-btn'),_0x242d25[_0x25bd2a(0x9ff)][_0x25bd2a(0x150)]=_0x31a232,_0x3b2db3['after'](_0x242d25);}),_0x483f31[_0x1def7a(0x49d)](_0x1def7a(0x79e),startDrag),_0x483f31[_0x1def7a(0x49d)](_0x1def7a(0xa79),drag),_0x483f31[_0x1def7a(0x49d)]('mouseup',endDrag),_0x483f31['addEventListener']('mouseleave',endDrag),_0x483f31[_0x1def7a(0x49d)]('touchstart',startDrag,{'passive':![]}),_0x483f31['addEventListener'](_0x1def7a(0x694),drag,{'passive':![]}),_0x483f31[_0x1def7a(0x49d)]('touchend',endDrag),_0x483f31[_0x1def7a(0x49d)](_0x1def7a(0x739),endDrag),_0x483f31['addEventListener'](_0x1def7a(0xa6e),handleSvgEditClick);}}if(_0x300bbb)_0x300bbb[_0x1def7a(0xbb9)]();}else{_0x2853a9[_0x1def7a(0xa19)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x2853a9[_0x1def7a(0xa18)]=_0x1def7a(0xb50);if(_0x300bbb){_0x300bbb[_0x1def7a(0xcd8)]=![];const _0x4c8148=_0x5ad6d3[_0x1def7a(0x823)]||currentQuizData['quizType'];_0x4c8148===_0x1def7a(0x1f6)?_0x5ad6d3[_0x1def7a(0x2f8)]=_0x300bbb[_0x1def7a(0x87a)][_0x1def7a(0x98f)](_0x300bbb[_0x1def7a(0x87a)][_0x1def7a(0x9de)]('.')+0x2)[_0x1def7a(0xc3f)]():_0x5ad6d3[_0x1def7a(0x14e)]=_0x300bbb['innerText'][_0x1def7a(0x98f)](_0x300bbb[_0x1def7a(0x87a)][_0x1def7a(0x9de)]('.')+0x2)['trim']();}_0x4b1310&&(_0x4b1310[_0x1def7a(0xcd8)]=![],_0x5ad6d3[_0x1def7a(0x579)]=_0x4b1310[_0x1def7a(0x87a)]);if(_0x3c7abd){const _0x29bea5=_0x3c7abd[_0x1def7a(0x86d)](_0x1def7a(0x39b));if(_0x29bea5){const _0x537161=_0x29bea5[_0x1def7a(0x2d8)](!![]);_0x537161[_0x1def7a(0x2c3)]('.delete-svg-btn')[_0x1def7a(0xbf2)](_0x225565=>_0x225565[_0x1def7a(0xb00)]()),_0x537161['querySelectorAll'](_0x1def7a(0x51a))[_0x1def7a(0xbf2)](_0x2c1f9a=>{const _0x6c45c2=_0x1def7a;_0x2c1f9a['classList']['remove'](_0x6c45c2(0x43d)),_0x2c1f9a[_0x6c45c2(0xaed)]['cursor']=_0x6c45c2(0x2e3),_0x2c1f9a[_0x6c45c2(0x139)]('id');}),_0x5ad6d3[_0x1def7a(0xc44)]=_0x537161[_0x1def7a(0x152)],_0x29bea5[_0x1def7a(0x60a)](_0x1def7a(0x79e),startDrag),_0x29bea5[_0x1def7a(0x60a)]('mousemove',drag),_0x29bea5[_0x1def7a(0x60a)](_0x1def7a(0x9e9),endDrag),_0x29bea5[_0x1def7a(0x60a)]('mouseleave',endDrag),_0x29bea5[_0x1def7a(0x60a)](_0x1def7a(0xddc),startDrag),_0x29bea5[_0x1def7a(0x60a)](_0x1def7a(0x694),drag),_0x29bea5[_0x1def7a(0x60a)](_0x1def7a(0xa2d),endDrag),_0x29bea5[_0x1def7a(0x60a)](_0x1def7a(0x739),endDrag),_0x29bea5[_0x1def7a(0x60a)](_0x1def7a(0xa6e),handleSvgEditClick),_0x29bea5[_0x1def7a(0x2c3)]('.delete-svg-btn')['forEach'](_0x312b88=>_0x312b88[_0x1def7a(0xb00)]()),_0x29bea5['querySelectorAll'](_0x1def7a(0x51a))[_0x1def7a(0xbf2)](_0x1be397=>{const _0x549bcc=_0x1def7a;_0x1be397[_0x549bcc(0x3d9)]['remove'](_0x549bcc(0x43d)),_0x1be397[_0x549bcc(0xaed)][_0x549bcc(0x7e7)]=_0x549bcc(0x2e3);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x36ff57){const _0x1d20ef=_0x5319e2,_0x3dd7ba=document[_0x1d20ef(0x6e6)](_0x1d20ef(0x94e)),_0x2e2294=document[_0x1d20ef(0x6e6)](_0x1d20ef(0x1b9));_0x2e2294['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x3dd7ba[_0x1d20ef(0x3d9)][_0x1d20ef(0xb00)](_0x1d20ef(0xd60));try{const _0x23a83f=doc(db,_0x1d20ef(0x555)+appId+_0x1d20ef(0x935),_0x36ff57),_0x2807ce=await getDoc(_0x23a83f);if(!_0x2807ce['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x36ff57,..._0x2807ce[_0x1d20ef(0x9cb)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x9dba86){console[_0x1d20ef(0x3f8)](_0x1d20ef(0x58e),_0x9dba86),showMessage(_0x1d20ef(0xdde)),_0x3dd7ba[_0x1d20ef(0x3d9)][_0x1d20ef(0x831)](_0x1d20ef(0xd60));}}function renderQuizEditor(_0x568095){const _0x248a7b=_0x5319e2;document['getElementById'](_0x248a7b(0x9a5))['value']=_0x568095[_0x248a7b(0x9ec)];const _0x40bdfe=document[_0x248a7b(0x6e6)](_0x248a7b(0x1b9));let _0x9510cb=_0x568095[_0x248a7b(0x521)]['map']((_0xc4aebf,_0x30240d)=>{const _0x3ea565=_0x248a7b;let _0x448825='';const _0x1ea7d0=_0xc4aebf['questionType']||_0x568095[_0x3ea565(0xd29)],_0x5b05f5=(_0x1ea7d0==='short_answer'||_0x1ea7d0===_0x3ea565(0x603))&&_0xc4aebf['options']&&_0xc4aebf[_0x3ea565(0x4ff)][_0x3ea565(0x4f1)]>0x0;switch(_0x1ea7d0){case _0x3ea565(0x2d2):const _0x42cfda=(_0xc4aebf[_0x3ea565(0x4ff)]||[])[_0x3ea565(0x23a)]((_0x1074d7,_0x475d4e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x30240d+_0x3ea565(0xc29)+_0x475d4e+'\x22\x20'+(_0x475d4e===_0xc4aebf[_0x3ea565(0x9be)]?'checked':'')+_0x3ea565(0xe56)+_0x1074d7+_0x3ea565(0xbe7))[_0x3ea565(0x975)]('');_0x448825=_0x3ea565(0xcc3)+_0x42cfda+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3ea565(0x603):case _0x3ea565(0xcea):_0x448825=_0x3ea565(0xd21)+(_0xc4aebf[_0x3ea565(0x2fc)]||'')+_0x3ea565(0xbad);if(_0x5b05f5){const _0x372724=(_0xc4aebf[_0x3ea565(0x4ff)]||[])[_0x3ea565(0x23a)]((_0x3c9aa1,_0x3697b9)=>_0x3ea565(0x883)+_0x30240d+_0x3ea565(0xc29)+_0x3697b9+'\x22\x20'+(_0x3697b9===_0xc4aebf['correctAnswerIndex']?_0x3ea565(0x3a6):'')+_0x3ea565(0xc9f)+_0x3c9aa1+'\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3ea565(0x975)]('');_0x448825+=_0x3ea565(0xd19)+_0x372724+_0x3ea565(0x275);}break;case _0x3ea565(0x1cc):_0x448825=_0x3ea565(0x227)+_0x30240d+'\x22\x20value=\x22true\x22\x20'+(_0xc4aebf[_0x3ea565(0x8aa)]===!![]?_0x3ea565(0x3a6):'')+_0x3ea565(0xe77)+_0x30240d+_0x3ea565(0x4c8)+(_0xc4aebf[_0x3ea565(0x8aa)]===![]?'checked':'')+_0x3ea565(0x7bd);break;case _0x3ea565(0x1f6):_0x448825=_0x3ea565(0xc7c)+(_0xc4aebf[_0x3ea565(0x5d8)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x390eda=_0xc4aebf['questionText']||_0xc4aebf[_0x3ea565(0x2f8)]||'';_0x390eda=_0x390eda[_0x3ea565(0xa31)](/<br\s*\/?>/gi,'\x0a');let _0x352aa0='';if(_0x1ea7d0==='multiple_choice')_0x352aa0=_0x3ea565(0x9a3);else _0x5b05f5&&(_0x352aa0=_0x3ea565(0x1ec));return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x30240d+'\x22\x20data-q-type=\x22'+_0x1ea7d0+_0x3ea565(0xabc)+_0x352aa0+_0x3ea565(0x650)+(_0x30240d+0x1)+'\x20('+_0x1ea7d0+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x390eda+_0x3ea565(0x3bd)+_0x448825+_0x3ea565(0x6f1);})[_0x248a7b(0x975)]('');_0x40bdfe[_0x248a7b(0xa19)]=_0x9510cb;const _0x10a5d6=_0x248a7b(0xe75);_0x40bdfe[_0x248a7b(0xabb)](_0x248a7b(0x1c3),_0x10a5d6),_0x40bdfe[_0x248a7b(0x2c3)]('.auto-resize-textarea')[_0x248a7b(0xbf2)](_0x7848d=>{const _0x1130b6=_0x248a7b;_0x7848d[_0x1130b6(0xaed)][_0x1130b6(0x471)]=_0x1130b6(0xd60),_0x7848d[_0x1130b6(0xaed)][_0x1130b6(0x501)]=_0x1130b6(0x800),_0x7848d[_0x1130b6(0xd96)]=0x4;const _0x49b809=()=>{const _0x2056ca=_0x1130b6;_0x7848d['style'][_0x2056ca(0x210)]=_0x2056ca(0x710),_0x7848d[_0x2056ca(0xaed)][_0x2056ca(0x210)]=_0x7848d[_0x2056ca(0x585)]+'px';};_0x7848d[_0x1130b6(0x49d)](_0x1130b6(0x2e8),_0x49b809),_0x49b809();}),_0x40bdfe['querySelectorAll'](_0x248a7b(0xe04))['forEach'](_0x5b0779=>{const _0x2b851e=_0x248a7b;_0x5b0779['addEventListener'](_0x2b851e(0xa6e),handleAiFixQuestion);}),_0x40bdfe[_0x248a7b(0x2c3)](_0x248a7b(0xbab))[_0x248a7b(0xbf2)](_0x16a0c6=>{const _0x3f4ccc=_0x248a7b;_0x16a0c6[_0x3f4ccc(0x49d)](_0x3f4ccc(0xa6e),_0x20e8ce=>{const _0x233f73=_0x3f4ccc,_0x3b7209=parseInt(_0x20e8ce[_0x233f73(0x453)][_0x233f73(0x8ec)](_0x233f73(0x58d))[_0x233f73(0x9ff)][_0x233f73(0xc0f)],0xa);handleAiFixFormula(_0x3b7209);});}),_0x40bdfe[_0x248a7b(0x2c3)]('.toggle-hidden-options-btn')[_0x248a7b(0xbf2)](_0x5c6c02=>{const _0x2c92c4=_0x248a7b;_0x5c6c02[_0x2c92c4(0x49d)]('click',_0x4958bc=>{const _0x4f0fab=_0x2c92c4,_0x487de0=parseInt(_0x4958bc[_0x4f0fab(0x453)]['closest'](_0x4f0fab(0x58d))[_0x4f0fab(0x9ff)][_0x4f0fab(0xc0f)],0xa);handleToggleHiddenOptions(_0x487de0);});});}function handleToggleHiddenOptions(_0x65aab4){const _0x20788c=_0x5319e2;if(!currentEditingQuizData||!currentEditingQuizData[_0x20788c(0x521)][_0x65aab4])return;const _0xfef5cf=currentEditingQuizData[_0x20788c(0x521)][_0x65aab4],_0x9a5a43=_0xfef5cf[_0x20788c(0x823)]||_0x20788c(0x2d2),_0x4ba39c=document[_0x20788c(0x86d)](_0x20788c(0x4fb)+_0x65aab4+'\x22]');if(_0x4ba39c){_0xfef5cf[_0x20788c(0x14e)]=_0x4ba39c['querySelector'](_0x20788c(0x2ae))[_0x20788c(0xb2d)];if(_0x9a5a43===_0x20788c(0x2d2)){const _0x59b993=_0x4ba39c['querySelectorAll']('.option-input');_0xfef5cf[_0x20788c(0x4ff)]=Array[_0x20788c(0x693)](_0x59b993)[_0x20788c(0x23a)](_0x3519ae=>_0x3519ae[_0x20788c(0xb2d)]);const _0x3fe3d9=_0x4ba39c[_0x20788c(0x86d)](_0x20788c(0x224));if(_0x3fe3d9)_0xfef5cf[_0x20788c(0x9be)]=parseInt(_0x3fe3d9[_0x20788c(0xb2d)]);}else{if(_0x9a5a43===_0x20788c(0xcea)||_0x9a5a43===_0x20788c(0x603)){const _0x29f9db=_0x4ba39c[_0x20788c(0x86d)]('.ideal-answer-input');if(_0x29f9db)_0xfef5cf[_0x20788c(0x2fc)]=_0x29f9db[_0x20788c(0xb2d)];const _0x28d907=_0x4ba39c[_0x20788c(0x2c3)](_0x20788c(0x6bb));_0x28d907[_0x20788c(0x4f1)]>0x0&&(_0xfef5cf[_0x20788c(0x4ff)]=Array[_0x20788c(0x693)](_0x28d907)[_0x20788c(0x23a)](_0x3c2405=>_0x3c2405[_0x20788c(0xb2d)]));}}}_0x9a5a43===_0x20788c(0x2d2)?(_0xfef5cf[_0x20788c(0x823)]=_0x20788c(0xcea),_0xfef5cf[_0x20788c(0x4ff)]&&_0xfef5cf[_0x20788c(0x9be)]!==undefined&&(_0xfef5cf[_0x20788c(0x2fc)]=_0xfef5cf[_0x20788c(0x4ff)][_0xfef5cf[_0x20788c(0x9be)]]||'')):_0xfef5cf[_0x20788c(0x823)]=_0x20788c(0x2d2),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x26cbed){const _0x5e3071=_0x5319e2;if(!currentEditingQuizData||!currentEditingQuizData[_0x5e3071(0x521)][_0x26cbed])return;const _0x589685=currentEditingQuizData[_0x5e3071(0x521)][_0x26cbed]['questionText']||currentEditingQuizData[_0x5e3071(0x521)][_0x26cbed][_0x5e3071(0x2f8)];showConfirmation(_0x5e3071(0xdac)+(_0x26cbed+0x1)+'\x20(\x22'+_0x589685['substring'](0x0,0x14)+_0x5e3071(0x347),()=>{const _0x28135e=_0x5e3071;currentEditingQuizData[_0x28135e(0x521)][_0x28135e(0x121)](_0x26cbed,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x28135e(0x96f));});}function handleAddQuestionInEditor(){const _0x36c3b0=_0x5319e2;if(!currentEditingQuizData)return;const _0x51683c=document['getElementById']('new-question-type-select'),_0x245efd=_0x51683c?_0x51683c['value']:_0x36c3b0(0x2d2);let _0x6bff16={'id':'q_'+Date['now']()+_0x36c3b0(0xbaa),'questionType':_0x245efd,'questionText':_0x36c3b0(0x583),'explanation':_0x36c3b0(0xcd1)};switch(_0x245efd){case _0x36c3b0(0x2d2):_0x6bff16[_0x36c3b0(0x4ff)]=[_0x36c3b0(0x7e8),_0x36c3b0(0x8de),_0x36c3b0(0xbfb),_0x36c3b0(0x231)],_0x6bff16[_0x36c3b0(0x9be)]=0x0;break;case'short_answer':case _0x36c3b0(0x603):_0x6bff16[_0x36c3b0(0x2fc)]='คำตอบที่ถูกต้อง';break;case _0x36c3b0(0x1cc):_0x6bff16['correctAnswer']=!![];break;case _0x36c3b0(0x1f6):_0x6bff16[_0x36c3b0(0x2f8)]=_0x36c3b0(0x78a),_0x6bff16[_0x36c3b0(0x5d8)]=_0x36c3b0(0x7ec),_0x6bff16[_0x36c3b0(0x14e)]=_0x36c3b0(0x78a);break;}currentEditingQuizData['questions'][_0x36c3b0(0xbda)](_0x6bff16),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x3c60a6=_0x36c3b0,_0x4cf4ff=document[_0x3c60a6(0x86d)](_0x3c60a6(0x2cc));if(_0x4cf4ff){_0x4cf4ff['scrollIntoView']({'behavior':'smooth','block':'center'});const _0x3d6509=_0x4cf4ff[_0x3c60a6(0x86d)](_0x3c60a6(0x2ae));if(_0x3d6509)_0x3d6509[_0x3c60a6(0xbb9)]();}},0x64);}async function handleAiFixQuestion(_0x41b6c8){const _0x5337dc=_0x5319e2,_0x1fc45b=_0x41b6c8[_0x5337dc(0x453)],_0x448f3a=_0x1fc45b[_0x5337dc(0x8ec)](_0x5337dc(0x58d));if(!_0x448f3a)return;const _0x216a92=parseInt(_0x448f3a[_0x5337dc(0x9ff)][_0x5337dc(0xc0f)],0xa);if(isNaN(_0x216a92)||!currentEditingQuizData[_0x5337dc(0x521)][_0x216a92]){showMessage(_0x5337dc(0x4c4));return;}const _0x2b985a=currentEditingQuizData[_0x5337dc(0x521)][_0x216a92];_0x1fc45b[_0x5337dc(0xa19)]=_0x5337dc(0xde6),_0x1fc45b[_0x5337dc(0xe9a)]=!![];const _0x8f1529=_0x5337dc(0xb36)+JSON[_0x5337dc(0x338)](_0x2b985a)+_0x5337dc(0x9d5);let _0x1083a9;const _0x58ff4b=_0x2b985a['questionType']||currentEditingQuizData[_0x5337dc(0xd29)];switch(_0x58ff4b){case'short_answer':_0x1083a9={'type':_0x5337dc(0xce9),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5337dc(0x69c)},'imageCode':{'type':'STRING'}},'required':[_0x5337dc(0x14e),_0x5337dc(0x2fc),_0x5337dc(0x579)]};break;case _0x5337dc(0x2d2):default:_0x1083a9={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5337dc(0x433),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5337dc(0xe0e)},'explanation':{'type':_0x5337dc(0x69c)},'imageCode':{'type':_0x5337dc(0x69c)}},'required':['questionText',_0x5337dc(0x4ff),_0x5337dc(0x9be),'explanation']};break;}try{let _0x56c7df=await callAnalysisApi(_0x8f1529,_0x1083a9);_0x56c7df[_0x5337dc(0x4ff)]&&Array[_0x5337dc(0x54d)](_0x56c7df[_0x5337dc(0x4ff)])&&(_0x56c7df['options']=_0x56c7df[_0x5337dc(0x4ff)][_0x5337dc(0x23a)](_0x5b58c9=>typeof _0x5b58c9===_0x5337dc(0x8a0)?_0x5b58c9[_0x5337dc(0xa31)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x5b58c9)),_0x2b985a['imageCode']&&_0x2b985a[_0x5337dc(0xc44)][_0x5337dc(0x676)](_0x5337dc(0x702))&&(_0x56c7df[_0x5337dc(0xc44)]=''),currentEditingQuizData[_0x5337dc(0x521)][_0x216a92]={..._0x2b985a,..._0x56c7df},renderQuizEditor(currentEditingQuizData),showMessage(_0x5337dc(0x2ba));}catch(_0x227658){console[_0x5337dc(0x3f8)]('AI\x20Fix\x20Error:',_0x227658),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x193238=_0x5319e2,_0x1ecf33=document[_0x193238(0x6e6)](_0x193238(0x785));_0x1ecf33[_0x193238(0xe9a)]=!![],_0x1ecf33['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x215a84=document[_0x193238(0x6e6)]('editor-quiz-topic')[_0x193238(0xb2d)],_0x2021a4=document[_0x193238(0x2c3)]('.question-editor-item');let _0x7e4b90=[];const _0x22c921=Array['from'](_0x2021a4)[_0x193238(0x23a)]((_0x242b39,_0x450ff3)=>{const _0x113874=_0x193238,_0x2bea97=_0x242b39[_0x113874(0x9ff)]['qType'],_0x5a0060=_0x242b39[_0x113874(0x86d)](_0x113874(0x2ae))[_0x113874(0xb2d)][_0x113874(0xa31)](/\n/g,_0x113874(0xb2b));let _0x199f84={'questionType':_0x2bea97};const _0x993147=currentEditingQuizData[_0x113874(0x521)][_0x450ff3]||{};switch(_0x2bea97){case _0x113874(0x2d2):_0x199f84[_0x113874(0x14e)]=_0x5a0060;const _0x39a352=_0x242b39['querySelectorAll'](_0x113874(0xe08));_0x199f84[_0x113874(0x4ff)]=Array[_0x113874(0x693)](_0x39a352)[_0x113874(0x23a)](_0xc9e0d2=>_0xc9e0d2[_0x113874(0xb2d)]);const _0x48124d=_0x242b39[_0x113874(0x86d)](_0x113874(0x224));_0x199f84[_0x113874(0x9be)]=_0x48124d?parseInt(_0x48124d[_0x113874(0xb2d)]):0x0;break;case _0x113874(0x603):case _0x113874(0xcea):_0x199f84[_0x113874(0x14e)]=_0x5a0060,_0x199f84[_0x113874(0x2fc)]=_0x242b39[_0x113874(0x86d)](_0x113874(0xb7e))[_0x113874(0xb2d)];const _0x47fa77=_0x242b39[_0x113874(0x2c3)](_0x113874(0x6bb));_0x47fa77['length']>0x0?(_0x199f84[_0x113874(0x4ff)]=Array['from'](_0x47fa77)['map'](_0x86cde=>_0x86cde[_0x113874(0xb2d)]),_0x993147['correctAnswerIndex']!==undefined?_0x199f84['correctAnswerIndex']=_0x993147['correctAnswerIndex']:_0x199f84[_0x113874(0x9be)]=0x0):(delete _0x199f84[_0x113874(0x4ff)],delete _0x199f84[_0x113874(0x9be)]);break;case _0x113874(0x1cc):_0x199f84[_0x113874(0x14e)]=_0x5a0060;const _0x7e0f38=_0x242b39['querySelector'](_0x113874(0x224));_0x199f84[_0x113874(0x8aa)]=_0x7e0f38?_0x7e0f38['value']===_0x113874(0x92c):!![];break;case _0x113874(0x1f6):_0x199f84[_0x113874(0x2f8)]=_0x5a0060;const _0x5a8da4=_0x242b39[_0x113874(0x86d)]('.correct-response-input');_0x199f84[_0x113874(0x5d8)]=_0x5a8da4?_0x5a8da4['value']:'',_0x7e4b90['push'](_0x199f84[_0x113874(0x5d8)]);break;default:_0x199f84[_0x113874(0x14e)]=_0x5a0060;break;}return{..._0x993147,..._0x199f84};});_0x7e4b90['length']>0x0&&_0x22c921[_0x193238(0xbf2)](_0x3a187b=>{const _0x4ba875=_0x193238;_0x3a187b[_0x4ba875(0x823)]===_0x4ba875(0x1f6)&&(_0x3a187b[_0x4ba875(0x307)]=_0x7e4b90);});const _0xa3de79=currentEditingQuizData['id'],_0x3006d0=doc(db,_0x193238(0x555)+appId+_0x193238(0x935),_0xa3de79);await updateDoc(_0x3006d0,{'topic':_0x215a84,'questions':_0x22c921}),document[_0x193238(0x6e6)]('quiz-editor-modal')[_0x193238(0x3d9)]['add'](_0x193238(0xd60)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0xa3de79));}catch(_0x264663){console[_0x193238(0x3f8)](_0x193238(0x1c1),_0x264663),showMessage(_0x193238(0xc39));}finally{_0x1ecf33[_0x193238(0xe9a)]=![],_0x1ecf33[_0x193238(0xa19)]=_0x193238(0xd72);}}async function initiateReGradeProcess(_0x558c0c){const _0x476699=_0x5319e2;showMessage(_0x476699(0x9ef));try{const _0x3695bf=doc(db,_0x476699(0x555)+appId+_0x476699(0x935),_0x558c0c),_0x4272e3=await getDoc(_0x3695bf);if(!_0x4272e3[_0x476699(0x958)]())throw new Error(_0x476699(0x76c));const _0x564501={'id':_0x558c0c,..._0x4272e3[_0x476699(0x9cb)]()},_0x5901ce=collection(db,_0x476699(0x555)+appId+_0x476699(0x935),_0x558c0c,'submissions'),_0x3b5962=await getDocs(_0x5901ce);if(_0x3b5962[_0x476699(0x530)]){showMessage(_0x476699(0xaa8));return;}const _0x1f980f=_0x3b5962[_0x476699(0x6e9)][_0x476699(0x23a)](_0x544b13=>reGradeSingleSubmission(_0x544b13,_0x564501));await Promise['all'](_0x1f980f);if(_0x564501[_0x476699(0x19e)]){const _0x1c3d54=doc(db,_0x476699(0x555)+appId+_0x476699(0x92e),_0x564501[_0x476699(0x19e)]),_0x4064a1=await getDoc(_0x1c3d54);if(_0x4064a1[_0x476699(0x958)]()&&_0x4064a1[_0x476699(0x9cb)]()[_0x476699(0x38b)]){const _0x2705a7=_0x4064a1[_0x476699(0x9cb)]()[_0x476699(0x38b)][_0x476699(0x23a)](_0x2fd314=>updateStudentProfile(_0x564501[_0x476699(0x19e)],_0x2fd314));await Promise[_0x476699(0x8bd)](_0x2705a7);}}showMessage(_0x476699(0x6a6)+_0x3b5962[_0x476699(0x9e2)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x206352){console['error'](_0x476699(0x3db),_0x206352),showMessage(_0x476699(0x304)+_0x206352[_0x476699(0xa6b)]);}}async function reGradeSingleSubmission(_0x3db971,_0x20a509){const _0x334cd8=_0x5319e2,_0x1f0924=_0x3db971[_0x334cd8(0x9cb)](),_0x1ffc52=_0x1f0924[_0x334cd8(0xdea)],_0x9c23a6=_0x1f0924[_0x334cd8(0xca5)]||[],_0x5bb2e8=[];for(const _0xc08b88 of _0x9c23a6){let _0x5d6b50=0x0,_0x28592b=[],_0x38c25e=0x0;const _0x595bc1=[];for(const _0x3a8ca8 of _0xc08b88['answers']){let _0x502eda;_0x3a8ca8['questionId']&&(_0x502eda=_0x20a509['questions'][_0x334cd8(0x8af)](_0x13c187=>_0x13c187['id']===_0x3a8ca8[_0x334cd8(0xa3e)]));!_0x502eda&&_0x3a8ca8['originalQuestionText']&&(_0x502eda=_0x20a509[_0x334cd8(0x521)]['find'](_0x436e11=>(_0x436e11['stem']||_0x436e11['questionText'])===_0x3a8ca8[_0x334cd8(0x672)]));let _0x265182=![];if(_0x502eda){const _0x32ccf2=_0x502eda[_0x334cd8(0x823)]||_0x20a509[_0x334cd8(0xd29)];switch(_0x32ccf2){case _0x334cd8(0x2d2):if(_0x502eda[_0x334cd8(0x4ff)]&&_0x502eda[_0x334cd8(0x9be)]<_0x502eda['options'][_0x334cd8(0x4f1)]){const _0x7f834b=_0x502eda[_0x334cd8(0x4ff)][_0x502eda[_0x334cd8(0x9be)]];_0x265182=_0x3a8ca8[_0x334cd8(0x3e8)]===_0x7f834b;}break;case'true_false':const _0x16864d=_0x3a8ca8[_0x334cd8(0x4b0)]===!![]||_0x3a8ca8[_0x334cd8(0x4b0)]===_0x334cd8(0x92c);_0x265182=_0x16864d===_0x502eda[_0x334cd8(0x8aa)];break;case _0x334cd8(0x1f6):_0x265182=_0x3a8ca8['answer']===_0x502eda[_0x334cd8(0x5d8)];break;case _0x334cd8(0xcea):_0x265182=await gradeShortAnswer(_0x3a8ca8[_0x334cd8(0x4b0)],_0x502eda);break;default:_0x265182=_0x3a8ca8[_0x334cd8(0x1a1)];break;}}if(_0x265182){_0x5d6b50++,_0x38c25e++;if(_0x38c25e===0x3)_0x28592b[_0x334cd8(0xbda)](BADGES[_0x334cd8(0x810)]['id']);}else _0x38c25e=0x0;_0x595bc1[_0x334cd8(0xbda)]({..._0x3a8ca8,'isCorrect':_0x265182});}let _0x136df8=0x0;const _0x46450c=_0xc08b88[_0x334cd8(0x876)]===!![]||_0xc08b88[_0x334cd8(0x31d)]>_0x20a509[_0x334cd8(0x521)]['length']*0x14;_0x46450c?_0x136df8=_0xc08b88[_0x334cd8(0x31d)]:(_0x136df8=_0x5d6b50*0xa,_0x5d6b50===_0x20a509[_0x334cd8(0x521)][_0x334cd8(0x4f1)]&&(_0x136df8+=0x32,_0x28592b[_0x334cd8(0xbda)](BADGES[_0x334cd8(0x697)]['id']))),_0x5bb2e8[_0x334cd8(0xbda)]({..._0xc08b88,'score':_0x5d6b50,'points':_0x136df8,'badges':Array[_0x334cd8(0x693)](new Set(_0x28592b)),'answers':_0x595bc1});}const _0x308878=_0x5bb2e8[_0x334cd8(0x4f1)]>0x0?_0x5bb2e8[0x0][_0x334cd8(0x473)]:0x0,_0x32beab=Math['max'](..._0x5bb2e8['map'](_0x1bf77a=>_0x1bf77a['score'])),_0x388c03=_0x5bb2e8[_0x334cd8(0x4f1)]>0x0?_0x5bb2e8[_0x5bb2e8['length']-0x1][_0x334cd8(0x473)]:0x0,_0x9b4385=_0x5bb2e8[_0x334cd8(0x4f1)]>0x0?_0x5bb2e8[_0x5bb2e8[_0x334cd8(0x4f1)]-0x1][_0x334cd8(0x31d)]:0x0,_0x185af4=doc(db,_0x334cd8(0x555)+appId+_0x334cd8(0xa62)+_0x20a509['id']+_0x334cd8(0xe09),_0x1ffc52);await updateDoc(_0x185af4,{'attempts':_0x5bb2e8,'firstScore':_0x308878,'bestScore':_0x32beab,'latestScore':_0x388c03,'points':_0x9b4385});}function cleanupQuizOptions(_0x4d99dc){const _0x24b1aa=_0x5319e2,_0xa59b36=(_0x507b98,_0xcbecee)=>_0xcbecee===0x0?_0x507b98:_0xa59b36(_0xcbecee,_0x507b98%_0xcbecee),_0x4f58e8=_0x3165fc=>{const _0x439526=_0x4aab;if(typeof _0x3165fc!=='string')return null;_0x3165fc=_0x3165fc[_0x439526(0xc3f)]();const _0x2732e8=_0x3165fc[_0x439526(0x3ba)](/[ /]/)[_0x439526(0xbdf)](_0x3dc059=>_0x3dc059!=='');if(_0x2732e8[_0x439526(0x4f1)]===0x3)return parseInt(_0x2732e8[0x0])+parseInt(_0x2732e8[0x1])/parseInt(_0x2732e8[0x2]);else{if(_0x2732e8[_0x439526(0x4f1)]===0x2)return parseInt(_0x2732e8[0x0])/parseInt(_0x2732e8[0x1]);else{if(_0x2732e8[_0x439526(0x4f1)]===0x1&&!isNaN(_0x2732e8[0x0]))return parseFloat(_0x2732e8[0x0]);}}return null;},_0x39fb8f=_0x596fb2=>{const _0x53c02f=_0x4aab;if(typeof _0x596fb2!==_0x53c02f(0x8a0))return _0x596fb2;const _0x3f9752=_0x596fb2[_0x53c02f(0xaeb)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3f9752){const _0x5750a2=parseInt(_0x3f9752[0x1]);let _0x2c091f=parseInt(_0x3f9752[0x2]),_0x10336e=parseInt(_0x3f9752[0x3]);const _0x312cd0=_0xa59b36(_0x2c091f,_0x10336e);_0x2c091f/=_0x312cd0,_0x10336e/=_0x312cd0;if(_0x10336e===0x1)return(_0x5750a2+_0x2c091f)[_0x53c02f(0xdd7)]();return _0x5750a2+'\x20'+_0x2c091f+'/'+_0x10336e;}return _0x596fb2;};return _0x4d99dc&&_0x4d99dc['questions']&&_0x4d99dc[_0x24b1aa(0x521)][_0x24b1aa(0xbf2)](_0x5f4d61=>{const _0x4fc4b8=_0x24b1aa;if(_0x5f4d61[_0x4fc4b8(0x823)]===_0x4fc4b8(0x2d2)&&_0x5f4d61['options']){const _0x3b2c4b=new Map(),_0x52db2c=_0x5f4d61['options'][_0x5f4d61[_0x4fc4b8(0x9be)]];_0x5f4d61[_0x4fc4b8(0x4ff)]['forEach'](_0x359fcf=>{const _0x509eab=_0x4fc4b8,_0x20fa2c=_0x39fb8f(_0x359fcf),_0x289a72=_0x4f58e8(_0x20fa2c);_0x289a72!==null&&!_0x3b2c4b[_0x509eab(0x2ff)](_0x289a72)&&_0x3b2c4b[_0x509eab(0x6b0)](_0x289a72,_0x20fa2c);}),_0x5f4d61['options']=Array[_0x4fc4b8(0x693)](_0x3b2c4b[_0x4fc4b8(0x129)]());const _0x4b977f=_0x5f4d61[_0x4fc4b8(0x4ff)][_0x4fc4b8(0x475)](_0xdc0f6f=>_0xdc0f6f===_0x39fb8f(_0x52db2c));_0x5f4d61[_0x4fc4b8(0x9be)]=_0x4b977f!==-0x1?_0x4b977f:0x0;}}),_0x4d99dc;}function showGameStartConfirmationModal(_0x15de7c,_0x4449d5,_0x2ec977){const _0x2fd712=_0x5319e2,_0x2d870c=document['getElementById']('confirm-game-start-modal');document[_0x2fd712(0x6e6)](_0x2fd712(0x7c6))['textContent']=_0x2fd712(0xc5e)+_0x2ec977,document['getElementById'](_0x2fd712(0x4cf))['value']=_0x15de7c,document[_0x2fd712(0x6e6)](_0x2fd712(0x5bc))['value']=_0x4449d5,document[_0x2fd712(0x6e6)]('save-game-results-checkbox')[_0x2fd712(0x3a6)]=!![];const _0x860e5d=document[_0x2fd712(0x6e6)]('sync-variant-selector'),_0x4255b=document[_0x2fd712(0x6e6)]('sync-timer-enable-checkbox'),_0xdd4e6e=document[_0x2fd712(0x6e6)](_0x2fd712(0x381)),_0x2c4d0d=document[_0x2fd712(0x6e6)]('black-market-settings-container'),_0x1703b1=document['getElementById']('anon-settings-container');if(_0x4449d5===_0x2fd712(0x6d3)){_0x860e5d[_0x2fd712(0x3d9)]['remove'](_0x2fd712(0xd60));const _0x15c515=_0x2fd712(0x874);document[_0x2fd712(0x86d)](_0x2fd712(0xbfe)+_0x15c515+'\x22]')['checked']=!![];if(_0x1703b1)_0x1703b1[_0x2fd712(0x3d9)]['remove'](_0x2fd712(0xd60));_0x4255b[_0x2fd712(0x3a6)]=!![],_0xdd4e6e[_0x2fd712(0x3d9)]['remove'](_0x2fd712(0xd60)),document[_0x2fd712(0x6e6)](_0x2fd712(0x391))[_0x2fd712(0xb2d)]=_0x2fd712(0x4d7),_0x2c4d0d['classList']['remove']('hidden'),document[_0x2fd712(0x6e6)](_0x2fd712(0x985))[_0x2fd712(0x3a6)]=!![];}else{_0x860e5d[_0x2fd712(0x3d9)][_0x2fd712(0x831)](_0x2fd712(0xd60));if(_0x1703b1)_0x1703b1[_0x2fd712(0x3d9)][_0x2fd712(0x831)](_0x2fd712(0xd60));_0x4255b[_0x2fd712(0x3a6)]=![],_0xdd4e6e[_0x2fd712(0x3d9)]['add']('hidden'),_0x2c4d0d[_0x2fd712(0x3d9)][_0x2fd712(0x831)](_0x2fd712(0xd60));}_0x2d870c[_0x2fd712(0x3d9)][_0x2fd712(0xb00)](_0x2fd712(0xd60));}async function saveGameResultsAsSubmissions(_0x5c301){const _0x5c81ac=_0x5319e2;if(_0x5c301[_0x5c81ac(0x638)]){console['log'](_0x5c81ac(0xe39));return;}console[_0x5c81ac(0x8b1)](_0x5c81ac(0xd87),_0x5c301);const _0x1ab643=_0x5c301[_0x5c81ac(0x769)];let _0x559204=[];if(_0x5c301[_0x5c81ac(0xdb1)])_0x559204=Object[_0x5c81ac(0x6fa)](_0x5c301[_0x5c81ac(0xdb1)])[_0x5c81ac(0x23a)](([_0x34075f,_0x502fec])=>({'name':_0x34075f,..._0x502fec}));else _0x5c301['groups']&&Object[_0x5c81ac(0x129)](_0x5c301['groups'])['forEach'](_0x1bc0bc=>{const _0x39297f=_0x5c81ac;_0x1bc0bc['members'][_0x39297f(0xbf2)](_0xc79949=>{const _0x49c1e3=_0x39297f;_0x559204['push']({'name':_0xc79949,'score':_0x1bc0bc['score'],'answers':_0x1bc0bc[_0x49c1e3(0xa77)]});});});if(_0x559204[_0x5c81ac(0x4f1)]===0x0)return;const _0x589cbe=_0x5c301[_0x5c81ac(0x320)]?.['questions'][_0x5c81ac(0x4f1)]||currentQuizData[_0x5c81ac(0x521)][_0x5c81ac(0x4f1)],_0x11ddb8=writeBatch(db),_0x4a9a2a=_0x5c301[_0x5c81ac(0x320)]?.[_0x5c81ac(0x19e)]||currentQuizData?.[_0x5c81ac(0x19e)]||currentProjectId,_0x3a2135={};for(const _0x3e3b18 of _0x559204){const _0x448937=doc(db,_0x5c81ac(0x555)+appId+_0x5c81ac(0xa62)+_0x1ab643+_0x5c81ac(0xe09),_0x3e3b18[_0x5c81ac(0x1dc)]),_0x1046f8=(_0x3e3b18['answers']||[])[_0x5c81ac(0xbdf)](_0x1f5752=>_0x1f5752['isCorrect'])[_0x5c81ac(0x4f1)];let _0x469cbc=_0x3e3b18['totalPoints']!==undefined?_0x3e3b18['totalPoints']:_0x1046f8,_0x1468cf=_0x3e3b18[_0x5c81ac(0xba7)]||[];if(_0x1046f8===_0x589cbe&&_0x589cbe>0x0){if(!_0x1468cf[_0x5c81ac(0x676)](_0x5c81ac(0x6e0)))_0x1468cf[_0x5c81ac(0xbda)](_0x5c81ac(0x6e0));}const _0x786c8d={'score':_0x1046f8,'points':_0x469cbc,'badges':_0x1468cf,'submittedAt':new Date()['toISOString'](),'isSyncGame':!![],'answers':(_0x3e3b18[_0x5c81ac(0xa77)]||[])[_0x5c81ac(0x23a)](_0x591246=>({'questionId':_0x591246[_0x5c81ac(0xa3e)],'answer':_0x591246[_0x5c81ac(0x4b0)],'answerText':_0x591246[_0x5c81ac(0x3e8)],'isCorrect':_0x591246['isCorrect'],'originalQuestionText':_0x591246[_0x5c81ac(0x672)],'wasConfident':_0x591246[_0x5c81ac(0x7d6)],'powerupUsed':_0x591246[_0x5c81ac(0xdae)]||null}))},_0x188645=await getDoc(_0x448937),_0x5a3986=_0x188645[_0x5c81ac(0x958)]()?_0x188645['data']():{},_0x72dc03=_0x5a3986[_0x5c81ac(0x31d)]||0x0;let _0x40ad28=0x0;_0x469cbc>_0x72dc03&&(_0x40ad28=_0x469cbc-_0x72dc03);const _0x54c18d={'studentName':_0x3e3b18[_0x5c81ac(0x1dc)],'totalQuestions':_0x589cbe,'attempts':arrayUnion(_0x786c8d),'latestScore':_0x1046f8,'points':Math[_0x5c81ac(0xd01)](_0x72dc03,_0x469cbc),'latestSubmittedAt':_0x786c8d[_0x5c81ac(0x1ae)],'bestScore':Math[_0x5c81ac(0xd01)](_0x5a3986[_0x5c81ac(0xac3)]||0x0,_0x1046f8),'firstScore':_0x5a3986[_0x5c81ac(0x3ea)]!==undefined?_0x5a3986[_0x5c81ac(0x3ea)]:_0x1046f8};_0x11ddb8[_0x5c81ac(0x6b0)](_0x448937,_0x54c18d,{'merge':!![]}),_0x4a9a2a&&(!_0x3a2135[_0x3e3b18[_0x5c81ac(0x1dc)]]&&(_0x3a2135[_0x3e3b18[_0x5c81ac(0x1dc)]]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x3a2135[_0x3e3b18[_0x5c81ac(0x1dc)]][_0x5c81ac(0x51b)]+=_0x40ad28,_0x1468cf[_0x5c81ac(0xbf2)](_0x1dc91d=>{const _0x2e4547=_0x5c81ac;_0x3a2135[_0x3e3b18[_0x2e4547(0x1dc)]][_0x2e4547(0x19f)][_0x2e4547(0xbda)](_0x1dc91d);}));}if(_0x4a9a2a)for(const [_0x1526ca,_0x4cfbf7]of Object['entries'](_0x3a2135)){if(_0x4cfbf7[_0x5c81ac(0x51b)]>0x0||_0x4cfbf7[_0x5c81ac(0x19f)][_0x5c81ac(0x4f1)]>0x0){const _0x100a98=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x4a9a2a+'/studentProfiles',_0x1526ca),_0xe50647={'studentName':_0x1526ca,'totalPoints':increment(_0x4cfbf7[_0x5c81ac(0x51b)])};_0x4cfbf7['badgesToAdd'][_0x5c81ac(0xbf2)](_0x2025f6=>{const _0x3b8b03=_0x5c81ac;_0xe50647[_0x3b8b03(0x3c1)+_0x2025f6]=increment(0x1);}),_0x11ddb8[_0x5c81ac(0x6b0)](_0x100a98,_0xe50647,{'merge':!![]});}}try{if(currentLiveGameId){const _0x182e42=doc(db,_0x5c81ac(0x555)+appId+'/public/data/syncGames',currentLiveGameId);_0x11ddb8[_0x5c81ac(0x5a6)](_0x182e42,{'resultsSaved':!![]});}await _0x11ddb8['commit'](),console['log'](_0x5c81ac(0xa9f)),showMessage(_0x5c81ac(0xd61));}catch(_0x4e4853){console[_0x5c81ac(0x3f8)](_0x5c81ac(0xb4a),_0x4e4853),showMessage(_0x5c81ac(0x594));}}async function saveQuiz(_0x121809=null,_0x5b35d4=null){const _0x304a88=_0x5319e2,_0x548d0c=_0x121809||currentProjectId;if(!_0x548d0c){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x304a88(0x25f));return;}const _0x300e65=document[_0x304a88(0x6e6)](_0x304a88(0x96a));_0x300e65[_0x304a88(0xe9a)]=!![],_0x300e65[_0x304a88(0xa19)]=_0x304a88(0x717);const _0x3bb089=document['getElementById'](_0x304a88(0xce7))[_0x304a88(0x3a6)];let _0x5f236=document[_0x304a88(0x6e6)](_0x304a88(0x7e0))[_0x304a88(0x87a)][_0x304a88(0xc3f)]();_0x3bb089&&!_0x5f236[_0x304a88(0x4be)]('(ก่อนเรียน)')&&(_0x5f236='(ก่อนเรียน)\x20'+_0x5f236);try{const _0x1a87dc={'resultsDisplay':document[_0x304a88(0x6e6)]('results-display-select')[_0x304a88(0xb2d)],'shuffle':document['getElementById'](_0x304a88(0x55b))['value'],'timerMode':document[_0x304a88(0x6e6)](_0x304a88(0x783))['value'],'timerDuration':parseInt(document[_0x304a88(0x6e6)](_0x304a88(0xa3c))[_0x304a88(0xb2d)])||0xa,'passingScore':parseInt(document[_0x304a88(0x6e6)](_0x304a88(0x900))[_0x304a88(0xb2d)])||0x0,'isAdaptive':document[_0x304a88(0x6e6)](_0x304a88(0xc5d))['checked'],'loopUntilPass':document['getElementById'](_0x304a88(0xd74))[_0x304a88(0x3a6)]},_0x400c43=(currentQuizData[_0x304a88(0x521)]||[])['map']((_0x2f5dc8,_0x3b015b)=>{const _0x3c4253=_0x304a88,_0x1eb256=document[_0x3c4253(0x6e6)](_0x3c4253(0xb2e))['value'],_0x4f224f={'id':'q_'+Date[_0x3c4253(0xc35)]()+'_'+_0x3b015b,'questionText':_0x2f5dc8[_0x3c4253(0x14e)]||'','explanation':_0x2f5dc8[_0x3c4253(0x579)]||_0x3c4253(0xe3b),'questionType':_0x2f5dc8[_0x3c4253(0x823)]||_0x1eb256,'imageCode':_0x2f5dc8[_0x3c4253(0xc44)]||null};return(_0x4f224f['questionType']===_0x3c4253(0x2d2)||_0x4f224f[_0x3c4253(0x823)]===_0x3c4253(0xa61)||_0x4f224f['questionType']==='mixed'&&_0x2f5dc8[_0x3c4253(0x4ff)])&&(_0x4f224f[_0x3c4253(0x4ff)]=_0x2f5dc8[_0x3c4253(0x4ff)]||[],_0x4f224f[_0x3c4253(0x9be)]=_0x2f5dc8[_0x3c4253(0x9be)]!==undefined?_0x2f5dc8[_0x3c4253(0x9be)]:0x0),(_0x4f224f[_0x3c4253(0x823)]===_0x3c4253(0xcea)||_0x4f224f[_0x3c4253(0x823)]===_0x3c4253(0x603)||_0x4f224f[_0x3c4253(0x823)]===_0x3c4253(0x134)&&_0x2f5dc8[_0x3c4253(0x2fc)])&&(_0x4f224f[_0x3c4253(0x2fc)]=_0x2f5dc8[_0x3c4253(0x2fc)]||''),_0x4f224f[_0x3c4253(0x823)]==='true_false'&&(_0x4f224f['correctAnswer']=_0x2f5dc8[_0x3c4253(0x8aa)]===!![]),_0x4f224f['questionType']===_0x3c4253(0x1f6)&&(_0x4f224f['stem']=_0x2f5dc8[_0x3c4253(0x2f8)]||'',_0x4f224f[_0x3c4253(0x5d8)]=_0x2f5dc8['correctResponse']||'',_0x4f224f['allResponses']=_0x2f5dc8[_0x3c4253(0x307)]||[]),_0x4f224f;}),_0x2aac13={'topic':_0x5f236,'quizType':currentQuizData[_0x304a88(0xd29)]||'multiple_choice','questions':_0x400c43,'projectId':_0x548d0c,'createdBy':userId,'createdAt':new Date()[_0x304a88(0x5be)](),'status':_0x304a88(0x797),'settings':_0x1a87dc,'quizMode':_0x3bb089?_0x304a88(0x12f):_0x304a88(0xc3c),'pairedQuizId':null,'lessonPlan':null};let _0xa6a6d6;while(!![]){_0xa6a6d6=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x304a88(0xdd7)]();const _0x4ffbd9=await getDoc(doc(db,_0x304a88(0x555)+appId+_0x304a88(0x935),_0xa6a6d6));if(!_0x4ffbd9[_0x304a88(0x958)]())break;}await setDoc(doc(db,_0x304a88(0x555)+appId+'/public/data/quizzes',_0xa6a6d6),_0x2aac13);if(_0x5b35d4&&currentBlueprintProjectId){console['log']('Auto-linking\x20new\x20quiz\x20'+_0xa6a6d6+_0x304a88(0xda1)+_0x5b35d4);try{const _0x5d6386=doc(db,_0x304a88(0x555)+appId+_0x304a88(0x804),currentBlueprintProjectId);await updateDoc(_0x5d6386,{[_0x304a88(0x691)+_0x5b35d4+_0x304a88(0xd66)]:arrayUnion(_0xa6a6d6)});}catch(_0x12d7a2){console['error'](_0x304a88(0x46c),_0x12d7a2);}}currentQuizData['settings']=_0x1a87dc,currentQuizData['id']=_0xa6a6d6;const _0x22567f=document[_0x304a88(0x6e6)](_0x304a88(0x26b));_0x22567f[_0x304a88(0xa19)]=_0x304a88(0x38d)+_0xa6a6d6+_0x304a88(0x974),document[_0x304a88(0x6e6)]('copy-quiz-id-btn')[_0x304a88(0x49d)](_0x304a88(0xa6e),()=>copyTextToClipboard(_0xa6a6d6,_0x304a88(0xe1d))),document[_0x304a88(0x6e6)]('start-live-race-generated-btn')['addEventListener']('click',()=>handleStartLiveRace(_0xa6a6d6)),document[_0x304a88(0x6e6)](_0x304a88(0xe68))[_0x304a88(0x49d)](_0x304a88(0xa6e),()=>startPresentation(currentQuizData)),document[_0x304a88(0x6e6)](_0x304a88(0x9e8))[_0x304a88(0x49d)](_0x304a88(0xa6e),startAdminTest),showMessage(_0x304a88(0xbfd));}catch(_0x296cf1){console[_0x304a88(0x3f8)]('Error\x20saving\x20quiz:',_0x296cf1),showMessage(_0x304a88(0xd1b));}finally{_0x300e65['disabled']=![],_0x300e65['innerHTML']=_0x304a88(0xd63);}}function promptForProjectAndSave(){const _0x477e59=_0x5319e2,_0x4eab69=document[_0x477e59(0x6e6)]('move-quiz-modal'),_0x771fac=document[_0x477e59(0x6e6)]('move-quiz-project-select'),_0x4d6f2e=_0x4eab69[_0x477e59(0x86d)]('h3'),_0x5016a4=document[_0x477e59(0x6e6)](_0x477e59(0xd40));_0x4d6f2e[_0x477e59(0xb7b)]=_0x477e59(0x54b),_0x5016a4[_0x477e59(0xb7b)]=_0x477e59(0x418);allProjects[_0x477e59(0x4f1)]===0x0?(_0x771fac['innerHTML']=_0x477e59(0x506),_0x5016a4[_0x477e59(0xe9a)]=!![]):(_0x771fac['innerHTML']=allProjects['map'](_0x2546d2=>_0x477e59(0xdd4)+_0x2546d2['id']+'\x22>'+_0x2546d2['projectName']+_0x477e59(0x3e5))[_0x477e59(0x975)](''),_0x5016a4[_0x477e59(0xe9a)]=![]);_0x4eab69[_0x477e59(0x3d9)]['remove'](_0x477e59(0xd60));const _0x1cbc7b=()=>{const _0x4d6ff4=_0x477e59,_0x170d47=_0x771fac['value'];_0x170d47?(currentProjectId=_0x170d47,_0x4eab69[_0x4d6ff4(0x3d9)]['add'](_0x4d6ff4(0xd60)),saveQuiz(),_0x4d6f2e[_0x4d6ff4(0xb7b)]=_0x4d6ff4(0x6a5),_0x5016a4['textContent']='ย้าย',_0x5016a4[_0x4d6ff4(0x60a)](_0x4d6ff4(0xa6e),_0x1cbc7b),_0x5016a4[_0x4d6ff4(0x49d)]('click',confirmMoveQuiz)):showMessage(_0x4d6ff4(0xa3b));};_0x5016a4[_0x477e59(0x60a)](_0x477e59(0xa6e),confirmMoveQuiz),_0x5016a4[_0x477e59(0x49d)](_0x477e59(0xa6e),_0x1cbc7b);}function copyTextToClipboard(_0x54557f,_0x4b554d){const _0x5c11ad=_0x5319e2,_0x5df267=document[_0x5c11ad(0x631)](_0x5c11ad(0x2ae));_0x5df267[_0x5c11ad(0xb2d)]=_0x54557f,_0x5df267['style']['position']='fixed',_0x5df267['style'][_0x5c11ad(0x748)]='0',document[_0x5c11ad(0x60c)][_0x5c11ad(0xab8)](_0x5df267),_0x5df267[_0x5c11ad(0xbb9)](),_0x5df267[_0x5c11ad(0x905)]();try{const _0x59be29=document[_0x5c11ad(0xc1e)]('copy');showMessage(_0x59be29?_0x4b554d:'คัดลอกไม่สำเร็จ');}catch(_0x580f10){showMessage(_0x5c11ad(0x757)),console[_0x5c11ad(0x3f8)]('Copy\x20command\x20failed',_0x580f10);}document[_0x5c11ad(0x60c)][_0x5c11ad(0x446)](_0x5df267);}function listenForProjectQuizzes(_0x3fd50d){const _0x5a9796=_0x5319e2,_0x316411=collection(db,_0x5a9796(0x555)+appId+_0x5a9796(0x935)),_0x40540d=query(_0x316411,where(_0x5a9796(0x19e),'==',_0x3fd50d));unsubscribeQuizzesListener=onSnapshot(_0x40540d,async _0x4a484a=>{const _0x1c6b1f=_0x5a9796;allQuizzes=_0x4a484a[_0x1c6b1f(0x6e9)][_0x1c6b1f(0x23a)](_0x246b44=>({'id':_0x246b44['id'],..._0x246b44['data']()})),renderQuizzes();},_0x4aa0ea=>{const _0x3ab364=_0x5a9796;console[_0x3ab364(0x3f8)]('Error\x20fetching\x20project\x20quizzes:',_0x4aa0ea),document[_0x3ab364(0x6e6)](_0x3ab364(0x8b6))[_0x3ab364(0xa19)]=_0x3ab364(0x1a9);});}async function renderQuizzes(){const _0x2a9f49=_0x5319e2,_0x25fc27=document['getElementById'](_0x2a9f49(0x8b6)),_0x81a867=document['getElementById']('quiz-search-input')[_0x2a9f49(0xb2d)][_0x2a9f49(0x3a8)]();let _0x2b1e8a;currentProjectId===_0x2a9f49(0x41d)?_0x2b1e8a=starredQuizzes:_0x2b1e8a=allQuizzes;let _0x505676=_0x2b1e8a[_0x2a9f49(0xbdf)](_0x23b9bd=>_0x23b9bd[_0x2a9f49(0x9ec)][_0x2a9f49(0x3a8)]()[_0x2a9f49(0x676)](_0x81a867));_0x505676[_0x2a9f49(0x602)]((_0x2634e8,_0x3819c5)=>new Date(_0x3819c5['createdAt'])-new Date(_0x2634e8[_0x2a9f49(0x97c)]));if(_0x505676[_0x2a9f49(0x4f1)]===0x0){_0x25fc27['innerHTML']=_0x2a9f49(0xa4e);return;}const _0xa5f517={},_0x4bce77=_0x505676[_0x2a9f49(0x23a)](async _0x24e1fc=>{const _0x200692=_0x2a9f49,_0x18f016=collection(db,_0x200692(0x555)+appId+_0x200692(0xa62)+_0x24e1fc['id']+_0x200692(0xe09)),_0x2eda42=await getCountFromServer(_0x18f016);_0xa5f517[_0x24e1fc['id']]=_0x2eda42[_0x200692(0x9cb)]()[_0x200692(0xe29)];});await Promise[_0x2a9f49(0x8bd)](_0x4bce77);let _0x164ba7='';_0x505676[_0x2a9f49(0xbf2)](_0x534bf2=>{const _0x5b0a7f=_0x2a9f49,_0xfce0af=_0xa5f517[_0x534bf2['id']]||0x0,_0x40629b=_0x534bf2['status']||_0x5b0a7f(0x797),_0x30b49d=_0x534bf2[_0x5b0a7f(0x531)]?.[_0x5b0a7f(0x1d8)]||'none';let _0x501b38='',_0x588f3a='';const _0x16688a=new Date();let _0x37df93=_0x40629b;if(_0x40629b===_0x5b0a7f(0x741)){const _0x3666bf=_0x534bf2[_0x5b0a7f(0x81b)]?new Date(_0x534bf2[_0x5b0a7f(0x81b)]):null,_0x153e55=_0x534bf2[_0x5b0a7f(0xc3e)]?new Date(_0x534bf2['endTime']):null;if(_0x153e55&&_0x16688a>_0x153e55)_0x37df93='inactive';else _0x3666bf&&_0x16688a<_0x3666bf?_0x37df93='scheduled_pending':_0x37df93=_0x5b0a7f(0x797);}switch(_0x37df93){case _0x5b0a7f(0x8b2):_0x501b38=_0x5b0a7f(0xc74),_0x588f3a=_0x5b0a7f(0x132);break;case _0x5b0a7f(0xaac):_0x501b38=_0x5b0a7f(0x558),_0x588f3a='text-blue-700\x20bg-blue-100';break;case _0x5b0a7f(0x797):_0x501b38=_0x30b49d!==_0x5b0a7f(0x877)?_0x5b0a7f(0xacc):_0x5b0a7f(0x190),_0x588f3a=_0x5b0a7f(0x24b);break;default:_0x501b38=_0x5b0a7f(0x8bc),_0x588f3a=_0x5b0a7f(0x24b);break;}let _0x482365='';const _0x3460fe={'day':_0x5b0a7f(0xb22),'month':_0x5b0a7f(0xb22),'year':_0x5b0a7f(0x389),'hour':'2-digit','minute':'2-digit','hour12':![]};if(_0x40629b===_0x5b0a7f(0x741)){if(_0x534bf2[_0x5b0a7f(0x81b)])_0x482365+=_0x5b0a7f(0x2e9)+new Date(_0x534bf2[_0x5b0a7f(0x81b)])[_0x5b0a7f(0xe3a)](_0x5b0a7f(0x413),_0x3460fe)+_0x5b0a7f(0xc37);if(_0x534bf2[_0x5b0a7f(0xc3e)])_0x482365+=_0x5b0a7f(0xd3a)+new Date(_0x534bf2[_0x5b0a7f(0xc3e)])[_0x5b0a7f(0xe3a)](_0x5b0a7f(0x413),_0x3460fe)+_0x5b0a7f(0xc37);}let _0x1cc0f6='';if(_0x534bf2[_0x5b0a7f(0x6ea)]){const _0x350c32=allQuizzes[_0x5b0a7f(0x8af)](_0x1996e7=>_0x1996e7['id']===_0x534bf2['pairedQuizId']);if(_0x350c32){let _0x26fddf,_0x399f09;new Date(_0x534bf2[_0x5b0a7f(0x97c)])<new Date(_0x350c32[_0x5b0a7f(0x97c)])?(_0x26fddf=_0x534bf2['id'],_0x399f09=_0x350c32['id']):(_0x26fddf=_0x350c32['id'],_0x399f09=_0x534bf2['id']),_0x1cc0f6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x399f09+'\x22\x20data-pre-test-id=\x22'+_0x26fddf+_0x5b0a7f(0xa0c);}}else _0x534bf2[_0x5b0a7f(0x9d3)]===_0x5b0a7f(0x12f)&&(_0x1cc0f6+=_0x5b0a7f(0xbb2)+_0x534bf2['id']+_0x5b0a7f(0x468));if(_0x534bf2[_0x5b0a7f(0x9d3)]===_0x5b0a7f(0x12f)&&_0xfce0af>0x0)_0x1cc0f6+=_0x5b0a7f(0xbb2)+_0x534bf2['id']+_0x5b0a7f(0x71e);else!_0x534bf2['pairedQuizId']&&_0x534bf2[_0x5b0a7f(0x9d3)]!=='pre-test'&&_0xfce0af>0x0&&(_0x1cc0f6+=_0x5b0a7f(0xbb2)+_0x534bf2['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x546e43='';_0x534bf2[_0x5b0a7f(0x6ea)]?_0x546e43=_0x5b0a7f(0x6bc)+_0x534bf2['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x546e43=_0x5b0a7f(0x6bc)+_0x534bf2['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>';const _0x158cd0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+_0x5b0a7f(0x856);_0x164ba7+=_0x5b0a7f(0xdcb)+_0x534bf2['id']+_0x5b0a7f(0x9d9)+_0x534bf2['topic']+_0x5b0a7f(0x7f3)+_0x534bf2['questions'][_0x5b0a7f(0x4f1)]+_0x5b0a7f(0xda5)+new Date(_0x534bf2['createdAt'])[_0x5b0a7f(0xe3a)]('th-TH')+_0x5b0a7f(0x56f)+_0xfce0af+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x482365+_0x5b0a7f(0x15a)+_0x588f3a+'\x22>'+_0x501b38+_0x5b0a7f(0x760)+_0x534bf2['id']+_0x5b0a7f(0x1b3)+_0x534bf2['id']+_0x5b0a7f(0xb29)+(_0x534bf2[_0x5b0a7f(0x977)]?_0x5b0a7f(0x380):_0x5b0a7f(0x7d0))+_0x5b0a7f(0xe9d)+_0x1cc0f6+_0x5b0a7f(0x319)+_0x158cd0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+_0x5b0a7f(0x727)+_0x534bf2['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+_0x5b0a7f(0x994)+_0x534bf2['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+_0x5b0a7f(0xae8)+_0x534bf2['id']+'\x22\x20data-topic=\x22'+_0x534bf2[_0x5b0a7f(0x9ec)]+_0x5b0a7f(0x698)+_0x534bf2['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x546e43+_0x5b0a7f(0x43b)+_0x534bf2['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+_0x5b0a7f(0x201)+_0x534bf2['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x534bf2['id']+_0x5b0a7f(0xe31)+_0x534bf2['id']+_0x5b0a7f(0x89e)+_0x534bf2[_0x5b0a7f(0x9ec)]+_0x5b0a7f(0x300)+_0x534bf2['id']+_0x5b0a7f(0xc16);}),_0x25fc27[_0x2a9f49(0xa19)]=_0x164ba7,document[_0x2a9f49(0x2c3)](_0x2a9f49(0x949))[_0x2a9f49(0xbf2)](_0x5f53c7=>{const _0x1ecfaa=_0x2a9f49;_0x5f53c7['addEventListener'](_0x1ecfaa(0xa6e),()=>{const _0x21beb6=_0x1ecfaa,_0x2398e2=_0x5f53c7[_0x21beb6(0x9ff)][_0x21beb6(0x769)];showQuizDetailView(_0x2398e2);});});}async function handleUnpairQuiz(_0x4cae37){const _0x51cba5=_0x5319e2,_0x41a58f=allQuizzes[_0x51cba5(0x8af)](_0x422e2c=>_0x422e2c['id']===_0x4cae37);if(!_0x41a58f||!_0x41a58f[_0x51cba5(0x6ea)]){showMessage(_0x51cba5(0x504));return;}showConfirmation(_0x51cba5(0x3ad),async()=>{const _0x516ea4=_0x51cba5;try{const _0x2cb5e1=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4cae37),_0x78858d=doc(db,_0x516ea4(0x555)+appId+_0x516ea4(0x935),_0x41a58f[_0x516ea4(0x6ea)]),_0x55addb=writeBatch(db);_0x55addb['update'](_0x2cb5e1,{'pairedQuizId':null}),_0x55addb[_0x516ea4(0x5a6)](_0x78858d,{'pairedQuizId':null}),await _0x55addb[_0x516ea4(0xa1b)](),showMessage(_0x516ea4(0xb13));}catch(_0x7e8e59){console[_0x516ea4(0x3f8)](_0x516ea4(0xd17),_0x7e8e59),showMessage(_0x516ea4(0x540));}});}function formatAndPrintLessonPlan(_0xa91a7c,_0x38bbb9){const _0x1209e2=_0x5319e2,_0x4a1f3=window[_0x1209e2(0x1a3)]('',_0x1209e2(0x7c9)),_0x238f73='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x38bbb9['topic']+_0x1209e2(0x839)+_0x38bbb9[_0x1209e2(0x9ec)]+_0x1209e2(0x133)+_0xa91a7c[_0x1209e2(0x515)][_0x1209e2(0x23a)](_0x196d68=>_0x1209e2(0x688)+_0x196d68+_0x1209e2(0xd2e))[_0x1209e2(0x975)]('')+_0x1209e2(0xcdc)+_0xa91a7c['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa91a7c[_0x1209e2(0xc42)][_0x1209e2(0x23a)](_0x30b849=>_0x1209e2(0x4fa)+_0x30b849[_0x1209e2(0x195)]+_0x1209e2(0x182)+_0x30b849[_0x1209e2(0xd3b)]+_0x1209e2(0xe42))[_0x1209e2(0x975)]('')+_0x1209e2(0x317);_0x4a1f3['document']['write'](_0x238f73),_0x4a1f3['document'][_0x1209e2(0x4ad)](),_0x4a1f3['onload']=function(){setTimeout(()=>{_0x4a1f3['print']();},0x3e8);};}async function handleAiFixFormula(_0x1160ce){const _0x2e61db=_0x5319e2,_0x2d0f1c=document[_0x2e61db(0x86d)]('.question-editor-item[data-q-index=\x22'+_0x1160ce+'\x22]');if(!_0x2d0f1c)return;const _0x1810d6=_0x2d0f1c[_0x2e61db(0x9ff)][_0x2e61db(0xc8e)],_0x2825cd=_0x2d0f1c[_0x2e61db(0x86d)]('.ai-fix-formula-btn');let _0x519e2e={'question':_0x2d0f1c[_0x2e61db(0x86d)](_0x2e61db(0x2ae))[_0x2e61db(0xb2d)]};switch(_0x1810d6){case _0x2e61db(0x2d2):_0x519e2e['options']=Array[_0x2e61db(0x693)](_0x2d0f1c['querySelectorAll'](_0x2e61db(0x45a)))[_0x2e61db(0x23a)](_0x3b852e=>_0x3b852e[_0x2e61db(0xb2d)]);break;case _0x2e61db(0x603):case _0x2e61db(0xcea):_0x519e2e['idealAnswer']=_0x2d0f1c[_0x2e61db(0x86d)](_0x2e61db(0xb7e))['value'];break;case _0x2e61db(0x1f6):_0x519e2e['correctResponse']=_0x2d0f1c['querySelector'](_0x2e61db(0x21d))[_0x2e61db(0xb2d)];break;}_0x2825cd[_0x2e61db(0xa19)]=_0x2e61db(0xde6),_0x2825cd[_0x2e61db(0xe9a)]=!![];try{const _0x44e133=_0x2e61db(0xb82)+JSON[_0x2e61db(0x338)](_0x519e2e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1190a2={'type':_0x2e61db(0xce9),'properties':{'fixedData':{'type':_0x2e61db(0xce9),'properties':{'question':{'type':_0x2e61db(0x69c)},'options':{'type':_0x2e61db(0x433),'items':{'type':_0x2e61db(0x69c)}},'idealAnswer':{'type':_0x2e61db(0x69c)},'correctResponse':{'type':_0x2e61db(0x69c)}},'required':['question']}},'required':[_0x2e61db(0x66c)]},_0x52b004=await callAnalysisApi(_0x44e133,_0x1190a2);if(_0x52b004&&_0x52b004[_0x2e61db(0x66c)]){const _0x382b51=_0x52b004[_0x2e61db(0x66c)];_0x2d0f1c['querySelector'](_0x2e61db(0x2ae))[_0x2e61db(0xb2d)]=_0x382b51[_0x2e61db(0x195)]||_0x519e2e[_0x2e61db(0x195)];switch(_0x1810d6){case _0x2e61db(0x2d2):_0x382b51[_0x2e61db(0x4ff)]&&_0x382b51[_0x2e61db(0x4ff)][_0x2e61db(0x4f1)]>0x0&&_0x2d0f1c['querySelectorAll'](_0x2e61db(0x45a))['forEach']((_0x46903e,_0x4e720b)=>{const _0x381620=_0x2e61db;_0x46903e[_0x381620(0xb2d)]=_0x382b51[_0x381620(0x4ff)][_0x4e720b]||_0x519e2e['options'][_0x4e720b];});break;case _0x2e61db(0x603):case _0x2e61db(0xcea):_0x2d0f1c[_0x2e61db(0x86d)](_0x2e61db(0xb7e))[_0x2e61db(0xb2d)]=_0x382b51[_0x2e61db(0x2fc)]||_0x519e2e['idealAnswer'];break;case _0x2e61db(0x1f6):_0x2d0f1c[_0x2e61db(0x86d)]('.correct-response-input')['value']=_0x382b51[_0x2e61db(0x5d8)]||_0x519e2e['correctResponse'];break;}showMessage(_0x2e61db(0x756));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x4fd41e){console['error'](_0x2e61db(0xa89),_0x4fd41e),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x2825cd[_0x2e61db(0xa19)]=_0x2e61db(0x13d),_0x2825cd[_0x2e61db(0xe9a)]=![];}}async function handleGenerateLessonPlan(_0xf1d319){const _0x534c02=_0x5319e2;showMessage(_0x534c02(0x6e1));try{const _0x3f6405=doc(db,_0x534c02(0x555)+appId+'/public/data/quizzes',_0xf1d319),_0x8e5c86=await getDoc(_0x3f6405);if(!_0x8e5c86[_0x534c02(0x958)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x247f98={'id':_0xf1d319,..._0x8e5c86[_0x534c02(0x9cb)]()},_0x577e9a=collection(db,_0x534c02(0x555)+appId+_0x534c02(0x935),_0xf1d319,_0x534c02(0x9bb)),_0x3c7027=await getDocs(_0x577e9a),_0x1d4b3a=_0x3c7027['docs'][_0x534c02(0x23a)](_0x10008a=>_0x10008a[_0x534c02(0x9cb)]());if(_0x1d4b3a[_0x534c02(0x4f1)]===0x0)throw new Error(_0x534c02(0x456));const _0x45faea=calculateItemAnalysis(_0x247f98,_0x1d4b3a)[_0x534c02(0x865)],_0x2491cb=calculateDistractorAnalysis(_0x247f98,_0x1d4b3a),_0x746e36=_0x5047de=>{const _0x5c7388=_0x534c02;if(!_0x5047de)return'';return _0x5047de[_0x5c7388(0xa31)](/\\/g,'\x5c\x5c')[_0x5c7388(0xa31)](/"/g,'\x5c\x22')[_0x5c7388(0xa31)](/\n/g,'\x5cn');};let _0x1346cd=_0x534c02(0x924);_0x247f98[_0x534c02(0x521)][_0x534c02(0xbf2)]((_0x295bb4,_0x163e88)=>{const _0x260bad=_0x534c02,_0x2b2e14=_0x45faea[_0x163e88]?.['p']['toFixed'](0x2)||_0x260bad(0x83e),_0x1919ff=_0x45faea[_0x163e88]?.['r'][_0x260bad(0x8ba)](0x2)||_0x260bad(0x83e),_0x26dc3b=_0x746e36(_0x295bb4[_0x260bad(0x14e)]||_0x295bb4[_0x260bad(0x2f8)]);_0x1346cd+=_0x260bad(0x5d1)+(_0x163e88+0x1)+_0x260bad(0xc5a)+_0x2b2e14+_0x260bad(0x771)+_0x1919ff+_0x260bad(0x9fa)+_0x26dc3b+'\x5cn';if(_0x295bb4[_0x260bad(0x823)]==='multiple_choice'&&_0x2491cb[_0x163e88]){const _0x4e9c41=_0x2491cb[_0x163e88],_0x29c0e2=Object[_0x260bad(0xa7d)](_0x4e9c41)[_0x260bad(0xbdf)](_0x54cc43=>parseInt(_0x54cc43)!==_0x295bb4['correctAnswerIndex'])['sort']((_0x1bc0e6,_0x2be41b)=>_0x4e9c41[_0x2be41b][_0x260bad(0x208)]-_0x4e9c41[_0x1bc0e6][_0x260bad(0x208)])[0x0];if(_0x29c0e2&&_0x4e9c41[_0x29c0e2][_0x260bad(0x208)]>0x0){const _0x1ccf6d=_0x746e36(_0x4e9c41[_0x29c0e2][_0x260bad(0x135)]);_0x1346cd+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x1ccf6d+'\x22\x5cn';}}});const _0x355d65=_0x534c02(0xd8e)+_0x247f98[_0x534c02(0x9ec)]+_0x534c02(0x7ff)+_0x1346cd+_0x534c02(0xd7d),_0x36dd25={'type':_0x534c02(0xce9),'properties':{'learningGaps':{'type':_0x534c02(0x433),'items':{'type':_0x534c02(0x69c)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x534c02(0x433),'items':{'type':_0x534c02(0xce9),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x534c02(0x69c)}}}}},'required':[_0x534c02(0x515),'teachingContent','practiceProblems']},_0x3c07ee=await callAnalysisApi(_0x355d65,_0x36dd25);await updateDoc(_0x3f6405,{'lessonPlan':_0x3c07ee});const _0x208d8a=_0x534c02(0x3c2)+_0x247f98[_0x534c02(0x9ec)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3c07ee[_0x534c02(0x515)]['map'](_0x1b6290=>_0x534c02(0x688)+_0x1b6290+'</li>')[_0x534c02(0x975)]('')+_0x534c02(0x36c)+_0x3c07ee[_0x534c02(0x77f)]+_0x534c02(0xb9f)+_0x3c07ee[_0x534c02(0xc42)][_0x534c02(0x23a)](_0xeb8d70=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0xeb8d70['question']+_0x534c02(0xdef)+_0xeb8d70[_0x534c02(0xd3b)]+_0x534c02(0x632))['join']('')+_0x534c02(0xc48);document[_0x534c02(0x6e6)](_0x534c02(0x7af))[_0x534c02(0xb7b)]=_0x534c02(0x3fb)+_0x247f98['topic'],document[_0x534c02(0x6e6)](_0x534c02(0x6b4))[_0x534c02(0xa19)]=_0x208d8a,document[_0x534c02(0x6e6)]('lesson-plan-modal')[_0x534c02(0x3d9)]['remove']('hidden');if(window[_0x534c02(0x19c)])MathJax[_0x534c02(0xc6e)]();messageModal[_0x534c02(0x3d9)][_0x534c02(0x831)](_0x534c02(0xd60));}catch(_0x4175cd){console[_0x534c02(0x3f8)]('Error\x20generating\x20lesson\x20plan:',_0x4175cd),showMessage(_0x534c02(0x1f5)+_0x4175cd['message']);}}async function handleDuplicateQuiz(_0x3c4482){const _0x18f596=_0x5319e2;try{const _0x2d131d=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3c4482),_0x464df1=await getDoc(_0x2d131d);if(_0x464df1[_0x18f596(0x958)]()){const _0x1a0835=_0x464df1[_0x18f596(0x9cb)]();let _0x4016c2='',_0x438643='standard',_0xcfc9a0=null;if(_0x1a0835[_0x18f596(0x9d3)]===_0x18f596(0x12f)){let _0x534c90=_0x1a0835['topic'][_0x18f596(0xa31)](_0x18f596(0x8e7),'')['trim']();_0x4016c2='(หลังเรียน)\x20'+_0x534c90,_0x438643=_0x18f596(0x4a9),_0xcfc9a0=_0x3c4482;}else _0x4016c2='(คัดลอก)\x20'+_0x1a0835['topic'];const _0x361451={..._0x1a0835,'topic':_0x4016c2,'createdAt':new Date()[_0x18f596(0x5be)](),'quizMode':_0x438643,'pairedQuizId':_0xcfc9a0};let _0x5bc3aa;while(!![]){_0x5bc3aa=Math[_0x18f596(0x5d2)](0x3e8+Math[_0x18f596(0x46d)]()*0x2328)[_0x18f596(0xdd7)]();const _0x372475=await getDoc(doc(db,'artifacts/'+appId+_0x18f596(0x935),_0x5bc3aa));if(!_0x372475[_0x18f596(0x958)]())break;}const _0x37f20b=doc(db,_0x18f596(0x555)+appId+_0x18f596(0x935),_0x5bc3aa);await setDoc(_0x37f20b,_0x361451),_0x361451[_0x18f596(0x9d3)]===_0x18f596(0x4a9)&&await updateDoc(_0x2d131d,{'pairedQuizId':_0x5bc3aa}),showMessage(_0x18f596(0x806));}else throw new Error(_0x18f596(0xe73));}catch(_0x439997){console[_0x18f596(0x3f8)](_0x18f596(0xe66),_0x439997),showMessage(_0x18f596(0x9b0));}}async function handleDeleteQuiz(_0x527082,_0x116882=!![]){const _0x35f9ac=_0x5319e2;try{const _0x34d68b=writeBatch(db),_0x56502f=collection(db,_0x35f9ac(0x555)+appId+_0x35f9ac(0xa62)+_0x527082+'/submissions'),_0xa4738d=await getDocs(_0x56502f);_0xa4738d[_0x35f9ac(0xbf2)](_0x2b9394=>{const _0x59ec65=_0x35f9ac;_0x34d68b[_0x59ec65(0xc8c)](doc(_0x56502f,_0x2b9394['id']));});const _0xe1dd4c=doc(db,_0x35f9ac(0x555)+appId+'/public/data/quizzes',_0x527082);_0x34d68b[_0x35f9ac(0xc8c)](_0xe1dd4c),await _0x34d68b[_0x35f9ac(0xa1b)]();try{console[_0x35f9ac(0x8b1)](_0x35f9ac(0x335)+_0x527082+_0x35f9ac(0x562));const _0x1857ac=collection(db,_0x35f9ac(0x555)+appId+_0x35f9ac(0x804)),_0x918529=await getDocs(_0x1857ac),_0x34834a=[];_0x918529['forEach'](_0x289e70=>{const _0x16ac6b=_0x35f9ac,_0x16f344=_0x289e70['data'](),_0x4b2578=_0x16f344[_0x16ac6b(0xcbb)]||{};let _0x12ebe0=![];for(const _0x5df5a2 in _0x4b2578){const _0x133c37=_0x4b2578[_0x5df5a2];if(_0x133c37[_0x16ac6b(0xce2)]&&_0x133c37[_0x16ac6b(0xce2)][_0x16ac6b(0x676)](_0x527082)){_0x12ebe0=!![];const _0x421293=doc(db,_0x16ac6b(0x555)+appId+_0x16ac6b(0x804),_0x289e70['id']),_0xaf7a6f=updateDoc(_0x421293,{['topics.'+_0x5df5a2+'.linkedQuizIds']:arrayRemove(_0x527082)});_0x34834a[_0x16ac6b(0xbda)](_0xaf7a6f);}}}),_0x34834a[_0x35f9ac(0x4f1)]>0x0&&(await Promise[_0x35f9ac(0x8bd)](_0x34834a),console[_0x35f9ac(0x8b1)](_0x35f9ac(0x274)+_0x34834a['length']+_0x35f9ac(0x4c1)+_0x527082+'.'));}catch(_0xf8af6e){console[_0x35f9ac(0x3f8)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0xf8af6e);}_0x116882&&showMessage(_0x35f9ac(0x573));}catch(_0x279114){console[_0x35f9ac(0x3f8)](_0x35f9ac(0x44d),_0x279114),_0x116882&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x1a0395){const _0x3e3484=_0x5319e2;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3e3484(0x2ee));try{const _0x3ecd39=doc(db,'artifacts/'+appId+_0x3e3484(0x935),_0x1a0395),_0x32d44e=await getDoc(_0x3ecd39);if(!_0x32d44e[_0x3e3484(0x958)]()){showMessage(_0x3e3484(0x76c));return;}const _0x43056b={'id':_0x32d44e['id'],..._0x32d44e['data']()};currentQuizData=_0x43056b;const _0x283c4d=doc(db,_0x3e3484(0x555)+appId+_0x3e3484(0x92e),_0x43056b[_0x3e3484(0x19e)]),_0x127306=await getDoc(_0x283c4d);_0x127306['exists']()?(currentProjectData=_0x127306[_0x3e3484(0x9cb)](),currentProjectId=_0x43056b[_0x3e3484(0x19e)]):(currentProjectData={'students':[]},currentProjectId=_0x43056b[_0x3e3484(0x19e)]);document[_0x3e3484(0x6e6)](_0x3e3484(0x7a9))[_0x3e3484(0xb7b)]=_0x43056b['topic'],document[_0x3e3484(0x6e6)](_0x3e3484(0xe63))['textContent']=_0x1a0395;const _0x2e610a=collection(db,_0x3e3484(0x555)+appId+_0x3e3484(0x935),_0x1a0395,_0x3e3484(0x9bb));unsubscribeSubmissionsListener=onSnapshot(_0x2e610a,_0x17338f=>{const _0x4a9acd=_0x3e3484,_0x29a3bc=_0x17338f['docs']['map'](_0x56cced=>({'id':_0x56cced['id'],..._0x56cced[_0x4a9acd(0x9cb)]()}));currentSubmissions=_0x29a3bc;const _0x54b1f9=_0x29a3bc['filter'](_0x1f1ea6=>_0x1f1ea6[_0x4a9acd(0xca5)]&&_0x1f1ea6[_0x4a9acd(0xca5)][_0x4a9acd(0x4f1)]>0x0);renderBehaviorLog(_0x29a3bc),renderAnswerGrid(currentProjectData[_0x4a9acd(0x38b)],_0x54b1f9,_0x43056b),renderAnalytics(_0x43056b,_0x54b1f9),renderQuizResultsTable(currentProjectData['students'],_0x29a3bc,_0x43056b),renderQuizLeaderboard(_0x54b1f9,_0x43056b,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x46174a){console[_0x3e3484(0x3f8)](_0x3e3484(0x7ac),_0x46174a),showMessage(_0x3e3484(0xc28));}}function renderAnswerGrid(_0x5b63b0,_0x15ce13,_0xcd030a){const _0x1a84bf=_0x5319e2,_0x54fdaa=document[_0x1a84bf(0x6e6)](_0x1a84bf(0x58f));if(!_0x54fdaa)return;if(!_0x5b63b0||_0x5b63b0[_0x1a84bf(0x4f1)]===0x0){_0x54fdaa['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x2d2642=_0xcd030a[_0x1a84bf(0x521)],_0x3403cb=_0x15ce13[_0x1a84bf(0xe69)]((_0x5c36cb,_0xb4a635)=>{const _0x472dc2=_0x1a84bf;return _0x5c36cb[_0xb4a635[_0x472dc2(0xdea)]]=_0xb4a635,_0x5c36cb;},{}),_0x57e8e5=_0x17d0ed=>String[_0x1a84bf(0xe2c)](0x41+_0x17d0ed),_0x3abeaa=_0x19290e=>{const _0x4de190=_0x1a84bf,_0x23cfaa=_0x19290e[_0x4de190(0x823)]||_0xcd030a[_0x4de190(0xd29)];switch(_0x23cfaa){case _0x4de190(0x2d2):return _0x19290e[_0x4de190(0x4ff)]&&_0x19290e[_0x4de190(0x4ff)][_0x4de190(0x4f1)]>_0x19290e[_0x4de190(0x9be)]?_0x57e8e5(_0x19290e[_0x4de190(0x9be)]):'-';case _0x4de190(0x1cc):const _0x1144c4=_0x19290e[_0x4de190(0x8aa)]===!![]||String(_0x19290e[_0x4de190(0x8aa)])[_0x4de190(0x3a8)]()===_0x4de190(0x92c);return _0x1144c4?_0x4de190(0xd4a):_0x4de190(0x51e);case _0x4de190(0x1f6):return _0x19290e['correctResponse']||'-';case _0x4de190(0xcea):return _0x4de190(0xb88);default:return'-';}},_0x370aca=(_0x465773,_0x2aa81f)=>{const _0x4143b4=_0x1a84bf;if(_0x2aa81f[_0x4143b4(0x4b0)]===null||_0x2aa81f[_0x4143b4(0x4b0)]===undefined)return'-';const _0xb69209=_0x465773[_0x4143b4(0x823)]||_0xcd030a[_0x4143b4(0xd29)];switch(_0xb69209){case _0x4143b4(0x2d2):const _0x4accf2=_0x465773['options'][_0x4143b4(0x475)](_0xa5ae49=>_0xa5ae49===_0x2aa81f[_0x4143b4(0x3e8)]);return _0x4accf2!==-0x1?_0x57e8e5(_0x4accf2):_0x2aa81f[_0x4143b4(0x3e8)]||'-';case _0x4143b4(0x1cc):if(_0x2aa81f[_0x4143b4(0x4b0)]=='0'||_0x2aa81f[_0x4143b4(0x4b0)]===!![]||_0x2aa81f[_0x4143b4(0x4b0)]===_0x4143b4(0x92c))return _0x4143b4(0xd4a);return'ไม่ใช่';default:return _0x2aa81f[_0x4143b4(0x4b0)];}};let _0x2c3328='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d2642[_0x1a84bf(0x23a)]((_0xabdd85,_0x14c261)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x14c261+0x1)+'</th>')[_0x1a84bf(0x975)]('')+_0x1a84bf(0x1c8)+_0x2d2642[_0x1a84bf(0x23a)](_0x50ada8=>_0x1a84bf(0x95e)+_0x3abeaa(_0x50ada8)+_0x1a84bf(0x987))['join']('')+_0x1a84bf(0x57d);_0x5b63b0[_0x1a84bf(0xbf2)](_0x37c775=>{const _0x2d6d87=_0x1a84bf;_0x2c3328+=_0x2d6d87(0xd2b),_0x2c3328+=_0x2d6d87(0x186)+_0x37c775+_0x2d6d87(0x987);const _0x3c33ae=_0x3403cb[_0x37c775];if(_0x3c33ae){const _0x189c41=_0x3c33ae[_0x2d6d87(0xca5)][_0x3c33ae[_0x2d6d87(0xca5)][_0x2d6d87(0x4f1)]-0x1];_0x2d2642[_0x2d6d87(0xbf2)]((_0x3cf548,_0x4962b2)=>{const _0x13a467=_0x2d6d87,_0x9e5194=_0x189c41[_0x13a467(0xa77)][_0x13a467(0x8af)](_0x47728b=>_0x47728b[_0x13a467(0xa3e)]===_0x3cf548['id']);if(_0x9e5194){let _0x3cdf60='';const _0x4221af=_0x9e5194[_0x13a467(0x1a1)]===!![],_0x26426a=_0x9e5194[_0x13a467(0x7d6)]===!![]||_0x9e5194[_0x13a467(0x7d6)]==='confident',_0x1ed1a9=_0x9e5194[_0x13a467(0xdae)];if(_0x1ed1a9===_0x13a467(0x990))_0x4221af?_0x3cdf60='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x3cdf60=_0x13a467(0xc59);else _0x26426a?_0x3cdf60=_0x4221af?_0x13a467(0x4b3):_0x13a467(0xb41):_0x3cdf60=_0x4221af?_0x13a467(0x545):_0x13a467(0x90b);_0x2c3328+=_0x13a467(0xe02)+_0x3cdf60+'\x22>'+_0x370aca(_0x3cf548,_0x9e5194)+_0x13a467(0x987);}else _0x2c3328+=_0x13a467(0xcec);});}else _0x2c3328+=_0x2d2642[_0x2d6d87(0x23a)](()=>_0x2d6d87(0x503))[_0x2d6d87(0x975)]('');_0x2c3328+=_0x2d6d87(0x6c1);}),_0x2c3328+=_0x1a84bf(0x251),_0x54fdaa[_0x1a84bf(0xa19)]=_0x2c3328;}function renderQuizResultsTable(_0x24600e,_0x3c551f,_0x5dc2b9){const _0x1b8c2a=_0x5319e2,_0x4485cc=_0x3c551f[_0x1b8c2a(0xe69)]((_0x49d24a,_0x5dd971)=>{return _0x49d24a[_0x5dd971['studentName']]=_0x5dd971,_0x49d24a;},{}),_0x3b8127=document[_0x1b8c2a(0x86d)](_0x1b8c2a(0x509));_0x3b8127&&!_0x3b8127['innerHTML'][_0x1b8c2a(0x676)](_0x1b8c2a(0x93f))&&(_0x3b8127[_0x1b8c2a(0xa19)]+=_0x1b8c2a(0x61b));const _0x113c04=document[_0x1b8c2a(0x6e6)](_0x1b8c2a(0x90c));if(!_0x24600e||_0x24600e[_0x1b8c2a(0x4f1)]===0x0){_0x113c04['innerHTML']=_0x1b8c2a(0x52e);return;}const _0x55aa22=_0x5dc2b9[_0x1b8c2a(0x1da)]===!![],_0x79176b=_0x5dc2b9[_0x1b8c2a(0x531)]?.[_0x1b8c2a(0xe4b)]??-0x1;let _0x3f9fa0='';_0x24600e[_0x1b8c2a(0xbf2)](_0x20f909=>{const _0x2aa42d=_0x1b8c2a,_0x1fb9bd=_0x4485cc[_0x20f909];let _0x277ebf=_0x2aa42d(0x736)+(_0x55aa22?'bg-amber-100\x20text-amber-800':_0x2aa42d(0x62b))+'\x22>'+(_0x55aa22?_0x2aa42d(0xa94):_0x2aa42d(0x814))+_0x2aa42d(0xe57);if(_0x1fb9bd){if(_0x1fb9bd[_0x2aa42d(0xca5)]&&_0x1fb9bd[_0x2aa42d(0xca5)][_0x2aa42d(0x4f1)]>0x0){let _0x35ebcf=_0x55aa22?_0x1fb9bd[_0x2aa42d(0xac3)]===_0x1fb9bd[_0x2aa42d(0xd05)]:_0x79176b!==-0x1&&_0x1fb9bd[_0x2aa42d(0xac3)]>=_0x79176b;const _0xa8fcc4=_0x35ebcf?'bg-green-100\x20text-green-800':_0x2aa42d(0x90b),_0x2a1050=_0x35ebcf?_0x2aa42d(0xa55):_0x2aa42d(0x5d9),_0x509379=_0x2aa42d(0x8a9)+_0xa8fcc4+'\x22>'+_0x2a1050+_0x2aa42d(0xe57),_0x522545='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x1fb9bd['attempts']?.['length']||0x1)+'\x20ครั้ง)</span></td>',_0x192c1f=_0x2aa42d(0x32a)+(_0x1fb9bd['points']||0x0)[_0x2aa42d(0xe3a)]()+_0x2aa42d(0x7a0)+_0x20f909+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22'+(_0x1fb9bd['points']||0x0)+_0x2aa42d(0x2a2);_0x3f9fa0+=_0x2aa42d(0x3a9)+_0x20f909+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x1fb9bd[_0x2aa42d(0xac3)]+_0x2aa42d(0xd2d)+_0x1fb9bd['totalQuestions']+_0x2aa42d(0xa98)+_0x509379+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x277ebf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x1fb9bd[_0x2aa42d(0x3ea)]+'\x20/\x20'+_0x1fb9bd[_0x2aa42d(0xd05)]+_0x2aa42d(0x802)+_0x1fb9bd[_0x2aa42d(0xd6b)]+_0x2aa42d(0xd2d)+_0x1fb9bd['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x192c1f+_0x2aa42d(0xa98)+_0x522545+_0x2aa42d(0x901)+new Date(_0x1fb9bd['latestSubmittedAt'])[_0x2aa42d(0xe3a)](_0x2aa42d(0x413))+_0x2aa42d(0x738)+_0x20f909+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x474ebb=_0x2aa42d(0xa0a);_0x3f9fa0+=_0x2aa42d(0xea9)+_0x20f909+_0x2aa42d(0x2f6)+_0x277ebf+_0x2aa42d(0x348)+_0x474ebb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1fb9bd[_0x2aa42d(0xdda)])[_0x2aa42d(0xe3a)](_0x2aa42d(0x413))+_0x2aa42d(0x5df)+_0x20f909+_0x2aa42d(0x164);}}else{const _0x43aad5=_0x2aa42d(0xcfa);_0x3f9fa0+=_0x2aa42d(0x30d)+_0x20f909+_0x2aa42d(0xa11)+_0x277ebf+_0x2aa42d(0x73b)+_0x43aad5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x113c04['innerHTML']=_0x3f9fa0;}async function confirmRenameQuiz(){const _0x4ccde1=_0x5319e2,_0x2654ea=document[_0x4ccde1(0x6e6)]('rename-quiz-input')[_0x4ccde1(0xb2d)][_0x4ccde1(0xc3f)]();if(!_0x2654ea){showMessage(_0x4ccde1(0xc79));return;}if(!actionTargetId)return;const _0x49dd10=doc(db,_0x4ccde1(0x555)+appId+_0x4ccde1(0x935),actionTargetId);try{await updateDoc(_0x49dd10,{'topic':_0x2654ea}),showMessage(_0x4ccde1(0xa38)),renameQuizModal[_0x4ccde1(0x3d9)][_0x4ccde1(0x831)]('hidden'),actionTargetId=null;}catch(_0x2f8d95){console[_0x4ccde1(0x3f8)](_0x4ccde1(0x7e5),_0x2f8d95),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x4ae5ac){const _0x52425b=_0x5319e2;actionTargetId=_0x4ae5ac;const _0x2ec663=document[_0x52425b(0x6e6)](_0x52425b(0x832));_0x2ec663[_0x52425b(0xa19)]=_0x52425b(0x962),moveQuizModal['classList'][_0x52425b(0xb00)](_0x52425b(0xd60));try{const _0x3e14c7=collection(db,_0x52425b(0x555)+appId+_0x52425b(0x92e)),_0x5c1ac6=await getDocs(_0x3e14c7),_0x30e9d9=_0x5c1ac6[_0x52425b(0x6e9)][_0x52425b(0x23a)](_0x2ad370=>({'id':_0x2ad370['id'],..._0x2ad370['data']()})),_0x4d22c9=_0x30e9d9[_0x52425b(0xbdf)](_0x121a3b=>_0x121a3b['id']!==currentProjectId);if(_0x4d22c9[_0x52425b(0x4f1)]===0x0){_0x2ec663[_0x52425b(0xa19)]=_0x52425b(0x6a2),document[_0x52425b(0x6e6)]('confirm-move-quiz-btn')[_0x52425b(0xe9a)]=!![];return;}_0x2ec663[_0x52425b(0xa19)]=_0x4d22c9[_0x52425b(0x23a)](_0x3f07ab=>_0x52425b(0xdd4)+_0x3f07ab['id']+'\x22>'+_0x3f07ab[_0x52425b(0x4de)]+_0x52425b(0x3e5))[_0x52425b(0x975)](''),document['getElementById'](_0x52425b(0xd40))[_0x52425b(0xe9a)]=![];}catch(_0x12871d){console['error']('Error\x20fetching\x20projects\x20for\x20move:',_0x12871d),showMessage(_0x52425b(0xd2a)),moveQuizModal[_0x52425b(0x3d9)]['add'](_0x52425b(0xd60));}}async function confirmMoveQuiz(){const _0x53fb3e=_0x5319e2,_0x597866=document[_0x53fb3e(0x6e6)](_0x53fb3e(0x832))['value'];if(!_0x597866){showMessage(_0x53fb3e(0xb69));return;}if(!actionTargetId)return;const _0x1b005f=doc(db,_0x53fb3e(0x555)+appId+_0x53fb3e(0x935),actionTargetId);try{await updateDoc(_0x1b005f,{'projectId':_0x597866}),showMessage(_0x53fb3e(0xe1a)),moveQuizModal[_0x53fb3e(0x3d9)][_0x53fb3e(0x831)](_0x53fb3e(0xd60)),actionTargetId=null;}catch(_0x632841){console[_0x53fb3e(0x3f8)](_0x53fb3e(0x652),_0x632841),showMessage(_0x53fb3e(0xbcb));}}async function handleQuizSettings(_0x4d8f92){const _0x35bdd8=_0x5319e2;actionTargetId=_0x4d8f92;const _0x4b9481=doc(db,_0x35bdd8(0x555)+appId+_0x35bdd8(0x935),_0x4d8f92);try{const _0x55e7d2=await getDoc(_0x4b9481);if(_0x55e7d2[_0x35bdd8(0x958)]()){const _0x2373fe=_0x55e7d2[_0x35bdd8(0x9cb)](),_0x3afba5=_0x2373fe[_0x35bdd8(0x531)]||{},_0x7a47b2=_0x2373fe[_0x35bdd8(0x521)]['length'];document['getElementById'](_0x35bdd8(0x641))[_0x35bdd8(0xb2d)]=_0x3afba5['shuffle']||_0x35bdd8(0x877),document[_0x35bdd8(0x6e6)](_0x35bdd8(0x9c7))[_0x35bdd8(0xb2d)]=_0x3afba5[_0x35bdd8(0x981)]||_0x35bdd8(0x14c),document[_0x35bdd8(0x6e6)](_0x35bdd8(0xa3d))[_0x35bdd8(0xb2d)]=_0x3afba5[_0x35bdd8(0x1d8)]||_0x35bdd8(0x877),document[_0x35bdd8(0x6e6)](_0x35bdd8(0x444))[_0x35bdd8(0xb2d)]=_0x3afba5[_0x35bdd8(0x9c5)]||0xa,document[_0x35bdd8(0x6e6)]('modal-passing-score-input')[_0x35bdd8(0xb2d)]=_0x3afba5[_0x35bdd8(0xe4b)]||Math[_0x35bdd8(0x5d2)](_0x7a47b2/0x2),document['getElementById'](_0x35bdd8(0x807))[_0x35bdd8(0xd01)]=_0x7a47b2,document[_0x35bdd8(0x6e6)](_0x35bdd8(0xc32))['checked']=_0x3afba5['isAdaptive']||![],document[_0x35bdd8(0x6e6)](_0x35bdd8(0x4d8))[_0x35bdd8(0x3a6)]=_0x3afba5['loopUntilPass']||![];const _0x3d7350=_0x3afba5[_0x35bdd8(0xe45)]||![];document[_0x35bdd8(0x6e6)](_0x35bdd8(0x48f))[_0x35bdd8(0x3a6)]=_0x3d7350,document[_0x35bdd8(0x6e6)](_0x35bdd8(0x835))[_0x35bdd8(0xb2d)]=_0x3afba5[_0x35bdd8(0xe65)]||_0x35bdd8(0x180);const _0x3cd8f9=document[_0x35bdd8(0x6e6)](_0x35bdd8(0xacd));_0x3cd8f9[_0x35bdd8(0x3d9)][_0x35bdd8(0x117)]('hidden',!_0x3d7350),document[_0x35bdd8(0x6e6)](_0x35bdd8(0xa3d))[_0x35bdd8(0x9f9)](new Event('change')),quizSettingsModal[_0x35bdd8(0x3d9)][_0x35bdd8(0xb00)](_0x35bdd8(0xd60));}else showMessage(_0x35bdd8(0x76c));}catch(_0x2cfdcb){console['error'](_0x35bdd8(0x312),_0x2cfdcb),showMessage(_0x35bdd8(0xdbc));}}async function confirmQuizSettings(){const _0x49d308=_0x5319e2;if(!actionTargetId)return;const _0x2f5d72=doc(db,'artifacts/'+appId+_0x49d308(0x935),actionTargetId),_0x5a6866={'shuffle':document[_0x49d308(0x6e6)](_0x49d308(0x641))['value'],'resultsDisplay':document['getElementById'](_0x49d308(0x9c7))[_0x49d308(0xb2d)],'timerMode':document['getElementById'](_0x49d308(0xa3d))[_0x49d308(0xb2d)],'timerDuration':parseInt(document[_0x49d308(0x6e6)](_0x49d308(0x444))[_0x49d308(0xb2d)])||0xa,'passingScore':parseInt(document['getElementById'](_0x49d308(0x807))[_0x49d308(0xb2d)])||0x0,'isAdaptive':document[_0x49d308(0x6e6)](_0x49d308(0xc32))[_0x49d308(0x3a6)],'loopUntilPass':document[_0x49d308(0x6e6)](_0x49d308(0x4d8))[_0x49d308(0x3a6)],'isConfidenceScoringEnabled':document[_0x49d308(0x6e6)]('modal-confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x49d308(0x6e6)]('modal-confidence-mode-select')[_0x49d308(0xb2d)]};try{await updateDoc(_0x2f5d72,{'settings':_0x5a6866}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x49d308(0x3d9)][_0x49d308(0x831)](_0x49d308(0xd60)),actionTargetId=null;}catch(_0x26bf31){console[_0x49d308(0x3f8)](_0x49d308(0x65d),_0x26bf31),showMessage(_0x49d308(0xc39));}}async function confirmQuizStatus(){const _0x88a0fe=_0x5319e2;if(!actionTargetId)return;const _0x2ccf29=doc(db,_0x88a0fe(0x555)+appId+_0x88a0fe(0x935),actionTargetId),_0x9cf934=document['querySelector'](_0x88a0fe(0x3bb));if(!_0x9cf934){showMessage('กรุณาเลือกสถานะ');return;}const _0x2f9714=_0x9cf934[_0x88a0fe(0xb2d)];let _0x5ec81b={};if(_0x2f9714===_0x88a0fe(0x797)||_0x2f9714===_0x88a0fe(0x8b2))_0x5ec81b={'status':_0x2f9714,'startTime':null,'endTime':null};else{if(_0x2f9714===_0x88a0fe(0xb06)){const _0xe4303c=document[_0x88a0fe(0x6e6)](_0x88a0fe(0x306))[_0x88a0fe(0xb2d)],_0x38d883=document[_0x88a0fe(0x6e6)]('quiz-end-time')[_0x88a0fe(0xb2d)];if(!_0xe4303c&&!_0x38d883){showMessage(_0x88a0fe(0x53f));return;}_0x5ec81b={'status':_0x88a0fe(0x741),'startTime':_0xe4303c?new Date(_0xe4303c)[_0x88a0fe(0x5be)]():null,'endTime':_0x38d883?new Date(_0x38d883)[_0x88a0fe(0x5be)]():null};}}try{await updateDoc(_0x2ccf29,_0x5ec81b),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x88a0fe(0x3d9)][_0x88a0fe(0x831)](_0x88a0fe(0xd60)),actionTargetId=null;}catch(_0x279036){console[_0x88a0fe(0x3f8)](_0x88a0fe(0x171),_0x279036),showMessage(_0x88a0fe(0x454));}}function listenForStudentProfiles(_0x2de034){const _0x3921ab=_0x5319e2,_0x5ebb37=collection(db,_0x3921ab(0x555)+appId+_0x3921ab(0xb15)+_0x2de034+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x5ebb37,_0xe7d1e3=>{const _0x341758=_0x3921ab,_0x432c1e=_0xe7d1e3[_0x341758(0x6e9)]['map'](_0x1fe338=>_0x1fe338['data']());renderLeaderboard(_0x432c1e,_0x341758(0x170));},_0xb988aa=>{const _0x43943f=_0x3921ab;console['error'](_0x43943f(0x141),_0xb988aa),document[_0x43943f(0x6e6)]('leaderboard-table-body')[_0x43943f(0xa19)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x1350b9,_0x394105){const _0x420a87=_0x5319e2,_0x1638f9=document[_0x420a87(0x6e6)](_0x394105);if(!_0x1350b9||_0x1350b9[_0x420a87(0x4f1)]===0x0){_0x1638f9[_0x420a87(0xa19)]=_0x420a87(0x890);return;}_0x1350b9[_0x420a87(0x602)]((_0x5da5e3,_0x5ad730)=>{const _0x3160c4=_0x420a87,_0x1d0bea=(_0x5ad730['totalPoints']||0x0)-(_0x5da5e3[_0x3160c4(0x812)]||0x0);if(_0x1d0bea!==0x0)return _0x1d0bea;const _0x22dbe4=(_0x5ad730[_0x3160c4(0x7f5)]?.['specialist']||0x0)-(_0x5da5e3[_0x3160c4(0x7f5)]?.[_0x3160c4(0x61c)]||0x0);if(_0x22dbe4!==0x0)return _0x22dbe4;const _0x56c5a4=(_0x5ad730[_0x3160c4(0x7f5)]?.[_0x3160c4(0x8cb)]||0x0)-(_0x5da5e3['badgesCount']?.[_0x3160c4(0x8cb)]||0x0);if(_0x56c5a4!==0x0)return _0x56c5a4;const _0x378f36=(_0x5ad730[_0x3160c4(0x7f5)]?.['perfect_score']||0x0)-(_0x5da5e3[_0x3160c4(0x7f5)]?.[_0x3160c4(0x6e0)]||0x0);if(_0x378f36!==0x0)return _0x378f36;const _0x3b9b6e=(_0x5ad730[_0x3160c4(0x7f5)]?.['quick_thinker']||0x0)-(_0x5da5e3[_0x3160c4(0x7f5)]?.[_0x3160c4(0x32f)]||0x0);if(_0x3b9b6e!==0x0)return _0x3b9b6e;return _0x5da5e3[_0x3160c4(0xdea)][_0x3160c4(0x8ed)](_0x5ad730['studentName'],'th');});let _0x4dd545='';_0x1350b9['forEach']((_0x1dd27f,_0x4d2e57)=>{const _0x10dcdd=_0x420a87,_0x24989f=_0x4d2e57+0x1,_0x5da0c9=_0x1dd27f[_0x10dcdd(0x7f5)]||{};let _0x5c12f5='';const _0xf3b771=['specialist',_0x10dcdd(0x6e0),_0x10dcdd(0x8cb),_0x10dcdd(0x32f)];_0xf3b771[_0x10dcdd(0xbf2)](_0x10601c=>{const _0x2e3922=_0x10dcdd;if(_0x5da0c9[_0x10601c]>0x0){const _0x1aba9a=Object[_0x2e3922(0x129)](BADGES)[_0x2e3922(0x8af)](_0x3c4ba3=>_0x3c4ba3['id']===_0x10601c);_0x1aba9a&&(_0x10601c===_0x2e3922(0x61c)?_0x5c12f5+=_0x2e3922(0x94c)+_0x1aba9a[_0x2e3922(0x1dc)]+_0x2e3922(0xaaa)+_0x1aba9a['icon']+_0x2e3922(0x26c):_0x5c12f5+=_0x2e3922(0x94c)+_0x1aba9a[_0x2e3922(0x1dc)]+'\x20('+_0x5da0c9[_0x10601c]+_0x2e3922(0x60d)+_0x1aba9a['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x5da0c9[_0x10601c]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x4dd545+=_0x10dcdd(0x5c3)+_0x24989f+_0x10dcdd(0x365)+_0x1dd27f['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x1dd27f[_0x10dcdd(0x812)]||0x0)[_0x10dcdd(0xe3a)]()+_0x10dcdd(0x365)+(_0x5c12f5||'-')+_0x10dcdd(0x794);}),_0x1638f9[_0x420a87(0xa19)]=_0x4dd545;}function displayLoopScreen(_0x1597af,_0x480368,_0x4e0c7b){const _0x6505b7=_0x5319e2;let _0x120d0e='';_0x4e0c7b!==_0x6505b7(0x49c)&&(_0x120d0e=_0x6505b7(0xe94)+_0x1597af+_0x6505b7(0xd2d)+_0x480368+_0x6505b7(0xa54));const _0x5c7f17=_0x6505b7(0xd9c)+_0x120d0e+_0x6505b7(0x3b8);studentResultArea[_0x6505b7(0xa19)]=_0x5c7f17,studentResultArea['classList'][_0x6505b7(0xb00)](_0x6505b7(0xd60)),studentQuizArea[_0x6505b7(0x3d9)][_0x6505b7(0x831)](_0x6505b7(0xd60)),document[_0x6505b7(0x6e6)](_0x6505b7(0x5ff))[_0x6505b7(0x49d)]('click',()=>{const _0x2bca9f=_0x6505b7;studentResultArea[_0x2bca9f(0x3d9)][_0x2bca9f(0x831)](_0x2bca9f(0xd60)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x27deab,_0x24a7ba,_0x55c4b6){const _0x445d05=_0x5319e2,_0x142df7=document[_0x445d05(0x6e6)](_0x55c4b6),_0x5e6afd=_0x55c4b6===_0x445d05(0x591),_0x14998f=_0x24a7ba[_0x445d05(0x521)][_0x445d05(0x4f1)],_0x504c34=document[_0x445d05(0x6e6)](_0x55c4b6)[_0x445d05(0x8ec)](_0x445d05(0x1b8));if(_0x504c34&&!_0x5e6afd){const _0x3cbca1=_0x504c34[_0x445d05(0x86d)](_0x445d05(0xac4));_0x3cbca1['innerHTML']=_0x445d05(0x8db);}if(!_0x27deab||_0x27deab[_0x445d05(0x4f1)]===0x0){_0x142df7[_0x445d05(0xa19)]=_0x445d05(0xb61)+(_0x5e6afd?0x6:0x8)+_0x445d05(0xce5);return;}const _0x1a04b7=[..._0x27deab];_0x1a04b7[_0x445d05(0x602)]((_0x2d29f9,_0x3f670f)=>{const _0x328b21=_0x445d05;let _0x4c7618,_0x161722;switch(quizLeaderboardSortBy){case _0x328b21(0xdea):_0x4c7618=_0x2d29f9[_0x328b21(0xdea)]||'',_0x161722=_0x3f670f[_0x328b21(0xdea)]||'';return quizLeaderboardSortOrder===_0x328b21(0x197)?_0x4c7618[_0x328b21(0x8ed)](_0x161722,'th'):_0x161722['localeCompare'](_0x4c7618,'th');case _0x328b21(0x31d):_0x4c7618=_0x2d29f9[_0x328b21(0x31d)]||0x0,_0x161722=_0x3f670f[_0x328b21(0x31d)]||0x0;break;case _0x328b21(0xca5):_0x4c7618=_0x2d29f9['attempts']?.[_0x328b21(0x4f1)]||0x1,_0x161722=_0x3f670f[_0x328b21(0xca5)]?.[_0x328b21(0x4f1)]||0x1;break;case _0x328b21(0x666):_0x4c7618=new Date(_0x2d29f9[_0x328b21(0x666)]),_0x161722=new Date(_0x3f670f[_0x328b21(0x666)]);break;case'bestScore':default:_0x4c7618=_0x2d29f9[_0x328b21(0xac3)],_0x161722=_0x3f670f['bestScore'];break;}if(_0x4c7618<_0x161722)return quizLeaderboardSortOrder===_0x328b21(0x197)?-0x1:0x1;if(_0x4c7618>_0x161722)return quizLeaderboardSortOrder===_0x328b21(0x197)?0x1:-0x1;return 0x0;});const _0x2b6b29=_0x24a7ba[_0x445d05(0x1da)]===!![],_0x2607f0=_0x24a7ba[_0x445d05(0x531)]?.[_0x445d05(0xe4b)]??-0x1;let _0x146ae6='';_0x1a04b7[_0x445d05(0xbf2)]((_0x5c7e04,_0x24c7d1)=>{const _0x23a6e3=_0x445d05,_0xf8de39=_0x24c7d1+0x1;let _0x220d28=_0x23a6e3(0x370);if(_0x2b6b29||_0x2607f0!==-0x1){let _0x203c84=_0x2b6b29?_0x5c7e04[_0x23a6e3(0xac3)]===_0x14998f:_0x5c7e04[_0x23a6e3(0xac3)]>=_0x2607f0;const _0x4f092b=_0x203c84?_0x23a6e3(0x545):'bg-red-100\x20text-red-800',_0x256131=_0x203c84?_0x23a6e3(0xa55):_0x23a6e3(0x5d9);_0x220d28='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x4f092b+'\x22>'+_0x256131+_0x23a6e3(0xe57);}const _0x529f90=_0x5c7e04[_0x23a6e3(0xca5)][_0x5c7e04[_0x23a6e3(0xca5)][_0x23a6e3(0x4f1)]-0x1],_0xf342ed=(_0x529f90[_0x23a6e3(0xba7)]||[])['map'](_0x45c91a=>{const _0x4acd87=_0x23a6e3,_0x1f4a0c=Object[_0x4acd87(0x129)](BADGES)[_0x4acd87(0x8af)](_0x1e8b43=>_0x1e8b43['id']===_0x45c91a);return _0x1f4a0c?_0x4acd87(0x3da)+_0x1f4a0c[_0x4acd87(0x1dc)]+_0x4acd87(0xa02)+_0x1f4a0c['icon']+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x23a6e3(0x975)]('');_0x146ae6+=_0x23a6e3(0x6ad)+_0xf8de39+_0x23a6e3(0xe7a)+_0x5c7e04['studentName']+_0x23a6e3(0x9c0)+_0x5c7e04[_0x23a6e3(0xac3)]+_0x23a6e3(0xd2d)+_0x14998f+_0x23a6e3(0xceb)+_0x220d28+_0x23a6e3(0xb53)+(_0x5c7e04['points']||0x0)['toLocaleString']()+_0x23a6e3(0xceb)+(_0x5e6afd?'':_0x23a6e3(0xe72)+(_0x5c7e04['attempts']?.[_0x23a6e3(0x4f1)]||0x1)+'</td>')+_0x23a6e3(0x8ef)+(_0x5e6afd?'':_0x23a6e3(0xa78)+new Date(_0x5c7e04[_0x23a6e3(0x666)])[_0x23a6e3(0xe3a)]('th-TH')+_0x23a6e3(0x987))+_0x23a6e3(0x815)+(_0xf342ed||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x142df7[_0x445d05(0xa19)]=_0x146ae6,_0x504c34&&!_0x5e6afd&&_0x504c34[_0x445d05(0x2c3)]('thead\x20.sortable-header')[_0x445d05(0xbf2)](_0x10ad0b=>{const _0x3ffbfc=_0x445d05,_0xc8381e=_0x10ad0b['querySelector'](_0x3ffbfc(0x913));if(_0xc8381e)_0xc8381e[_0x3ffbfc(0xb00)]();_0x10ad0b[_0x3ffbfc(0x9ff)][_0x3ffbfc(0x602)]===quizLeaderboardSortBy&&(_0x10ad0b[_0x3ffbfc(0xa19)]+=_0x3ffbfc(0xb6b)+(quizLeaderboardSortOrder===_0x3ffbfc(0x197)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x43305f){const _0x22a701=_0x5319e2;if(!currentQuizData||!currentQuizData['id']||!_0x43305f){showMessage(_0x22a701(0x462));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x43305f+_0x22a701(0xc5f),async()=>{const _0x5c9baf=_0x22a701,_0x26bfbd=currentQuizData['id'],_0xd40506=doc(db,_0x5c9baf(0x555)+appId+'/public/data/quizzes/'+_0x26bfbd+_0x5c9baf(0xe09),_0x43305f);try{await deleteDoc(_0xd40506),showMessage('ลบผลสอบของ\x20'+_0x43305f+_0x5c9baf(0x55d));}catch(_0x402992){console[_0x5c9baf(0x3f8)](_0x5c9baf(0xbcc),_0x402992),showMessage(_0x5c9baf(0x919));}});}async function handleLoadQuiz(){const _0x4b76d3=_0x5319e2,_0x2ad75a=document[_0x4b76d3(0x6e6)](_0x4b76d3(0xce8)),_0x58dbb9=_0x2ad75a['value']['trim']();if(!_0x58dbb9){showMessage(_0x4b76d3(0xd03));return;}loadQuizBtn[_0x4b76d3(0xe9a)]=!![],loadQuizBtn[_0x4b76d3(0xa19)]=_0x4b76d3(0xa60);try{const _0x85dfa4=doc(db,_0x4b76d3(0x555)+appId+'/public/data/quizzes',_0x58dbb9),_0x57430=await getDoc(_0x85dfa4);if(!_0x57430[_0x4b76d3(0x958)]()){showMessage(_0x4b76d3(0x67b));return;}currentQuizData={'id':_0x57430['id'],..._0x57430['data']()};const _0x449c9a=currentQuizData['status']||'active',_0x56c4d0=new Date();if(_0x449c9a==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x449c9a===_0x4b76d3(0x741)){const _0x314732=currentQuizData[_0x4b76d3(0x81b)]?new Date(currentQuizData[_0x4b76d3(0x81b)]):null,_0x516cef=currentQuizData[_0x4b76d3(0xc3e)]?new Date(currentQuizData['endTime']):null;if(_0x314732&&_0x56c4d0<_0x314732){showMessage(_0x4b76d3(0x417)+_0x314732['toLocaleString'](_0x4b76d3(0x413),{'hour12':![]}));return;}if(_0x516cef&&_0x56c4d0>_0x516cef){showMessage(_0x4b76d3(0xab3));return;}}const _0x589746=currentQuizData[_0x4b76d3(0x19e)];currentProjectId=_0x589746;const _0x2a4115=doc(db,_0x4b76d3(0x555)+appId+_0x4b76d3(0x92e),_0x589746),_0x53eee5=await getDoc(_0x2a4115);if(!_0x53eee5[_0x4b76d3(0x958)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x416207=_0x53eee5[_0x4b76d3(0x9cb)]();currentStudentProjectData=_0x416207,displayStudentNameSelector(_0x416207['students'],currentQuizData[_0x4b76d3(0x9ec)]);}catch(_0x182650){console[_0x4b76d3(0x3f8)](_0x4b76d3(0x262),_0x182650),showMessage(_0x4b76d3(0x1f8));}finally{loadQuizBtn[_0x4b76d3(0xe9a)]=![],loadQuizBtn[_0x4b76d3(0xa19)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x17f4e5,_0x4180b2){const _0x25427e=_0x5319e2;if(!currentQuizData||!currentQuizData['id'])return;const _0x534626=currentQuizData['id'],_0x419575=doc(db,_0x25427e(0x555)+appId+'/public/data/quizzes/'+_0x534626+_0x25427e(0xe09),_0x17f4e5);try{const _0x3b0eae=await getDoc(_0x419575);if(!_0x3b0eae[_0x25427e(0x958)]())return;const _0x5bedc8=_0x3b0eae[_0x25427e(0x9cb)](),_0x446671=_0x5bedc8[_0x25427e(0xca5)]||[];_0x446671[_0x25427e(0x4f1)]>0x0&&(_0x446671[_0x446671[_0x25427e(0x4f1)]-0x1][_0x25427e(0x31d)]=_0x4180b2,_0x446671[_0x446671[_0x25427e(0x4f1)]-0x1][_0x25427e(0x876)]=!![]),await updateDoc(_0x419575,{'points':_0x4180b2,'attempts':_0x446671}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x17f4e5),showMessage(_0x25427e(0x9bf)+_0x17f4e5+_0x25427e(0x967)+_0x4180b2+'\x20สำเร็จ!');}catch(_0x2e32ba){console['error'](_0x25427e(0xe70),_0x2e32ba),showMessage(_0x25427e(0x246));}}async function handleJoinLiveGame(){const _0x5c54d9=_0x5319e2,_0x4aca7d=document[_0x5c54d9(0x6e6)](_0x5c54d9(0x80a)),_0x2d4eac=document[_0x5c54d9(0x6e6)](_0x5c54d9(0x7be)),_0x21bcbf=document['getElementById']('confirm-join-game-btn'),_0x5ab02b=_0x4aca7d[_0x5c54d9(0xb2d)][_0x5c54d9(0xc3f)](),_0x278ce5=_0x2d4eac[_0x5c54d9(0xb2d)][_0x5c54d9(0xc3f)]();if(!_0x5ab02b||!_0x278ce5){showMessage(_0x5c54d9(0x63d));return;}_0x21bcbf[_0x5c54d9(0xe9a)]=!![],_0x21bcbf[_0x5c54d9(0xa19)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0xea4499=collection(db,_0x5c54d9(0x555)+appId+_0x5c54d9(0x6ba)),_0x371cfb=query(_0xea4499,where(_0x5c54d9(0x373),'==',_0x5ab02b),where(_0x5c54d9(0x626),'in',[_0x5c54d9(0x7c5),_0x5c54d9(0x195),_0x5c54d9(0xa0b),_0x5c54d9(0x354)])),_0x3053f7=await getDocs(_0x371cfb);if(_0x3053f7[_0x5c54d9(0x530)]){const _0x24da02=collection(db,_0x5c54d9(0x555)+appId+'/public/data/liveGames'),_0x14d12a=query(_0x24da02,where(_0x5c54d9(0x5f1),'==',_0x5ab02b)),_0x39a521=await getDocs(_0x14d12a);if(!_0x39a521[_0x5c54d9(0x530)]){await proceedWithTeamQuizJoin(_0x39a521['docs'][0x0]);return;}showMessage(_0x5c54d9(0xd34));return;}const _0x59e8a5=_0x3053f7[_0x5c54d9(0x6e9)][0x0];currentLiveGameId=_0x59e8a5['id'];const _0xf297bf=_0x59e8a5['data'](),_0x1eba6d=doc(db,_0x5c54d9(0x555)+appId+'/public/data/quizzes',_0xf297bf[_0x5c54d9(0x769)]),_0x31bb0b=await getDoc(_0x1eba6d);_0x31bb0b['exists']()&&(currentQuizData=_0xf297bf['shuffledQuiz']);const _0x25e777=doc(db,_0x5c54d9(0x555)+appId+_0x5c54d9(0x42a)+currentLiveGameId+_0x5c54d9(0xba2),_0x278ce5),_0x2781a4=await getDoc(_0x25e777);if(_0x2781a4[_0x5c54d9(0x958)]())_0x21bcbf[_0x5c54d9(0xa19)]=_0x5c54d9(0x250),await updateDoc(_0x25e777,{'status':_0x5c54d9(0x797)}),showMessage(_0x5c54d9(0x87d)+_0x278ce5+_0x5c54d9(0x414));else{if(_0xf297bf[_0x5c54d9(0x626)]!==_0x5c54d9(0x7c5)){}_0x21bcbf[_0x5c54d9(0xa19)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x2add13={'name':_0x278ce5,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x5c54d9(0x797),'answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x25e777,_0x2add13);}currentStudentName=_0x278ce5,localTeamPlayers=[_0x278ce5],showView(_0x5c54d9(0x3fa)),listenForSyncGameUpdates();const _0x43447a={'gameId':currentLiveGameId,'mode':_0x5c54d9(0x6d3),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5c54d9(0xe35)]('activeGameSession',JSON[_0x5c54d9(0x338)](_0x43447a)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x5c54d9(0x508),handleFullscreenChange),document[_0x5c54d9(0x49d)](_0x5c54d9(0x903),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x5c54d9(0xa79),resetDimTimer),window[_0x5c54d9(0x49d)](_0x5c54d9(0x79e),resetDimTimer),window['addEventListener'](_0x5c54d9(0xddc),resetDimTimer),window[_0x5c54d9(0x49d)](_0x5c54d9(0x345),resetDimTimer),resetDimTimer());}catch(_0x3ce0af){console[_0x5c54d9(0x3f8)]('Error\x20joining\x20live\x20game:',_0x3ce0af),showMessage(_0x5c54d9(0x29d)+_0x3ce0af[_0x5c54d9(0xa6b)]);}finally{_0x21bcbf[_0x5c54d9(0xe9a)]=![];if(_0x21bcbf[_0x5c54d9(0xa19)][_0x5c54d9(0x676)](_0x5c54d9(0x2d6)))_0x21bcbf[_0x5c54d9(0xa19)]=_0x5c54d9(0x242);}}function displayStudentNameSelector(_0x6ac4fc,_0x27aa5e){const _0x560d3d=_0x5319e2,_0x31327f=document[_0x560d3d(0x6e6)](_0x560d3d(0x893));document[_0x560d3d(0x6e6)](_0x560d3d(0xe46))[_0x560d3d(0xb7b)]=_0x560d3d(0xdf1)+_0x27aa5e,!_0x6ac4fc||_0x6ac4fc[_0x560d3d(0x4f1)]===0x0?(_0x31327f[_0x560d3d(0xa19)]=_0x560d3d(0x37f),startQuizBtn[_0x560d3d(0xe9a)]=!![]):(_0x31327f[_0x560d3d(0xa19)]=_0x560d3d(0xbde),_0x6ac4fc[_0x560d3d(0xbf2)](_0x4a1d23=>{const _0x8b29db=_0x560d3d,_0x3fc063=document[_0x8b29db(0x631)](_0x8b29db(0x4d9));_0x3fc063[_0x8b29db(0xb2d)]=_0x4a1d23,_0x3fc063[_0x8b29db(0xb7b)]=_0x4a1d23,_0x31327f['appendChild'](_0x3fc063);}),startQuizBtn[_0x560d3d(0xe9a)]=![]),studentInitialView[_0x560d3d(0x3d9)][_0x560d3d(0x831)]('hidden'),studentNameSelectionView[_0x560d3d(0x3d9)][_0x560d3d(0xb00)](_0x560d3d(0xd60));}function shuffleArray(_0x40d233){const _0x3d2ef7=_0x5319e2;for(let _0x262131=_0x40d233[_0x3d2ef7(0x4f1)]-0x1;_0x262131>0x0;_0x262131--){const _0x4bb7c2=Math[_0x3d2ef7(0x5d2)](Math['random']()*(_0x262131+0x1));[_0x40d233[_0x262131],_0x40d233[_0x4bb7c2]]=[_0x40d233[_0x4bb7c2],_0x40d233[_0x262131]];}}function getShuffledQuiz(_0x13b158){const _0x2f40cf=_0x5319e2;let _0x2f781c=JSON[_0x2f40cf(0x110)](JSON['stringify'](_0x13b158));const _0x34077e=_0x2f781c[_0x2f40cf(0x531)]?.[_0x2f40cf(0x6af)]||_0x2f40cf(0x877);if(_0x34077e===_0x2f40cf(0x877))return _0x2f781c;return(_0x34077e===_0x2f40cf(0x112)||_0x34077e===_0x2f40cf(0xbff))&&shuffleArray(_0x2f781c[_0x2f40cf(0x521)]),(_0x34077e==='choices_only'||_0x34077e==='both')&&_0x2f781c[_0x2f40cf(0x521)]['forEach'](_0x2593e9=>{const _0x267e08=_0x2f40cf,_0x1e7708=_0x2593e9[_0x267e08(0x823)]||_0x2f781c[_0x267e08(0xd29)];if(_0x2593e9[_0x267e08(0x4ff)]){let _0x50d062=_0x2593e9[_0x267e08(0x4ff)][_0x267e08(0x23a)]((_0x487f9d,_0x4999c8)=>({'text':_0x487f9d,'isCorrect':_0x4999c8===_0x2593e9[_0x267e08(0x9be)]}));shuffleArray(_0x50d062),_0x2593e9[_0x267e08(0x4ff)]=_0x50d062[_0x267e08(0x23a)](_0x2ca973=>_0x2ca973[_0x267e08(0x135)]),_0x2593e9['correctAnswerIndex']=_0x50d062[_0x267e08(0x475)](_0x14defb=>_0x14defb[_0x267e08(0x1a1)]);}_0x1e7708===_0x267e08(0x1f6)&&_0x2593e9[_0x267e08(0x307)]&&shuffleArray(_0x2593e9[_0x267e08(0x307)]);}),_0x2f781c;}function displayQuizForStudent(_0x600296){const _0x2ad8ce=_0x5319e2;studentQuizArea[_0x2ad8ce(0x3d9)][_0x2ad8ce(0xb00)](_0x2ad8ce(0xd60)),currentDisplayedQuiz=getShuffledQuiz(_0x600296);currentMode!==_0x2ad8ce(0x395)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2ad8ce(0x49d)](_0x2ad8ce(0x508),handleFullscreenChange),document[_0x2ad8ce(0x49d)](_0x2ad8ce(0x903),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x2ad8ce(0xa79),resetDimTimer),window['addEventListener'](_0x2ad8ce(0x79e),resetDimTimer),window[_0x2ad8ce(0x49d)]('touchstart',resetDimTimer),window[_0x2ad8ce(0x49d)](_0x2ad8ce(0x345),resetDimTimer),resetDimTimer());const _0x3bbba1=currentDisplayedQuiz[_0x2ad8ce(0x531)]?.[_0x2ad8ce(0x1d8)]||_0x2ad8ce(0x877);if(_0x3bbba1===_0x2ad8ce(0x1bb))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x2ad8ce(0x9c5)]);else _0x3bbba1===_0x2ad8ce(0x14d)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x59d149){const _0x17f32b=_0x5319e2,_0x861ac=document[_0x17f32b(0x6e6)]('dropdown-list-'+_0x59d149),_0x42203e=document[_0x17f32b(0x2c3)](_0x17f32b(0x855));_0x42203e[_0x17f32b(0xbf2)](_0x238999=>{const _0x23fec0=_0x17f32b;if(_0x238999['id']!==_0x23fec0(0x53a)+_0x59d149)_0x238999[_0x23fec0(0x3d9)][_0x23fec0(0x831)](_0x23fec0(0xd60));});if(_0x861ac)_0x861ac['classList'][_0x17f32b(0x117)](_0x17f32b(0xd60));},window[_0x5319e2(0xa8c)]=function(_0x3c7cbf,_0x3d0222){const _0x1da6e9=_0x5319e2,_0x5037e1=currentDisplayedQuiz;if(!_0x5037e1)return;const _0x13830a=_0x5037e1[_0x1da6e9(0x521)][_0x3c7cbf],_0x2a29f8=_0x13830a[_0x1da6e9(0x307)][_0x3d0222],_0x556fc=document['getElementById']('input-'+_0x3c7cbf);if(_0x556fc)_0x556fc[_0x1da6e9(0xb2d)]=_0x2a29f8;const _0xae19f4=document['getElementById']('selected-text-'+_0x3c7cbf);if(_0xae19f4){_0xae19f4['innerHTML']=_0x2a29f8;if(window[_0x1da6e9(0x19c)])MathJax['typesetPromise']([_0xae19f4]);_0xae19f4['classList']['add'](_0x1da6e9(0x7f6),_0x1da6e9(0x5b3));}const _0x3d2f91=document[_0x1da6e9(0x6e6)](_0x1da6e9(0x53a)+_0x3c7cbf);if(_0x3d2f91)_0x3d2f91[_0x1da6e9(0x3d9)][_0x1da6e9(0x831)](_0x1da6e9(0xd60));},document['addEventListener'](_0x5319e2(0xa6e),_0x370b7d=>{const _0xef143a=_0x5319e2;!_0x370b7d['target'][_0xef143a(0x8ec)](_0xef143a(0x358))&&document[_0xef143a(0x2c3)](_0xef143a(0x855))[_0xef143a(0xbf2)](_0x23e695=>_0x23e695[_0xef143a(0x3d9)][_0xef143a(0x831)](_0xef143a(0xd60)));});function renderFullQuizForm(){const _0x198292=_0x5319e2,_0x45bda5=currentDisplayedQuiz[_0x198292(0x531)]?.[_0x198292(0xe45)]===!![],_0x280226=currentDisplayedQuiz[_0x198292(0x531)]?.[_0x198292(0xe65)]||_0x198292(0x180);let _0x2c5df8=![],_0x481f57='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x198292(0x48e)+(currentMode==='admin-testing'?_0x198292(0x633):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x198292(0x521)][_0x198292(0xbf2)]((_0x5dcdbe,_0x2a64a6)=>{const _0x1fcb5a=_0x198292,_0x1d137c=_0x5dcdbe[_0x1fcb5a(0x823)]||currentDisplayedQuiz[_0x1fcb5a(0xd29)],_0x58e4f4=_0x1fcb5a(0x3a0)+(0x64-_0x2a64a6)+';';_0x1d137c===_0x1fcb5a(0x1f6)&&!_0x2c5df8&&(_0x481f57+=_0x1fcb5a(0xdc8),_0x2c5df8=!![]);_0x481f57+=_0x1fcb5a(0x489)+_0x58e4f4+'\x22>';_0x1d137c!==_0x1fcb5a(0x1f6)&&(_0x481f57+=_0x1fcb5a(0x65c)+(_0x2a64a6+0x1)+'.\x20'+(_0x5dcdbe[_0x1fcb5a(0x2c4)]||_0x5dcdbe['questionText'])+_0x1fcb5a(0x887)+(_0x5dcdbe['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5dcdbe[_0x1fcb5a(0xc44)]+_0x1fcb5a(0xa5a):'')+_0x1fcb5a(0xd85));_0x481f57+=_0x1fcb5a(0xdd8);if(_0x1d137c==='matching_item'&&_0x5dcdbe[_0x1fcb5a(0x307)])_0x481f57+=_0x1fcb5a(0x52d)+(_0x2a64a6+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>'+_0x5dcdbe['stem']+_0x1fcb5a(0x941)+_0x2a64a6+_0x1fcb5a(0xb0e)+_0x2a64a6+_0x1fcb5a(0x21c)+_0x2a64a6+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-'+_0x2a64a6+_0x1fcb5a(0x97b)+_0x2a64a6+_0x1fcb5a(0x6fe)+_0x5dcdbe[_0x1fcb5a(0x307)]['map']((_0x1d0d87,_0xa00109)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption('+_0x2a64a6+',\x20'+_0xa00109+_0x1fcb5a(0xd88)+_0x1d0d87+_0x1fcb5a(0x60b))[_0x1fcb5a(0x975)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x1d137c==='true_false')_0x481f57+=_0x1fcb5a(0xdf5)+_0x2a64a6+_0x1fcb5a(0x378)+_0x2a64a6+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2a64a6+_0x1fcb5a(0x57a),_0x481f57+=_0x1fcb5a(0xdf5)+_0x2a64a6+_0x1fcb5a(0x2b5)+_0x2a64a6+_0x1fcb5a(0x4c6)+_0x2a64a6+_0x1fcb5a(0x285);else _0x5dcdbe[_0x1fcb5a(0x4ff)]&&Array['isArray'](_0x5dcdbe[_0x1fcb5a(0x4ff)])&&_0x5dcdbe[_0x1fcb5a(0x4ff)][_0x1fcb5a(0x4f1)]>0x0?_0x481f57+=_0x5dcdbe[_0x1fcb5a(0x4ff)][_0x1fcb5a(0x23a)]((_0x555fb9,_0x3abd31)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x2a64a6+_0x1fcb5a(0x642)+_0x3abd31+_0x1fcb5a(0xc2e)+_0x2a64a6+'\x22\x20value=\x22'+_0x3abd31+_0x1fcb5a(0xcf0)+_0x2a64a6+_0x1fcb5a(0x642)+_0x3abd31+'\x22>'+_0x555fb9+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1fcb5a(0x975)](''):_0x481f57+=_0x1fcb5a(0x1de)+_0x2a64a6+_0x1fcb5a(0x5e2);}_0x481f57+='</div>',_0x45bda5&&(_0x481f57+=_0x1fcb5a(0x529),_0x280226==='mandatory'?_0x481f57+=_0x1fcb5a(0xab4)+_0x2a64a6+'\x22\x20name=\x22confidence'+_0x2a64a6+_0x1fcb5a(0xe05)+_0x2a64a6+_0x1fcb5a(0xe90)+_0x2a64a6+_0x1fcb5a(0xb67):_0x481f57+=_0x1fcb5a(0xc91)+_0x2a64a6+'\x22\x20name=\x22confidence'+_0x2a64a6+_0x1fcb5a(0xb84)+_0x2a64a6+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x481f57+=_0x1fcb5a(0xa5a)),_0x481f57+='</div>';}),_0x481f57+=_0x198292(0x2eb),_0x481f57+='</form>',studentQuizArea['innerHTML']=_0x481f57;if(currentMode===_0x198292(0x395)){const _0x4391dc=document['getElementById'](_0x198292(0x479));if(_0x4391dc)_0x4391dc[_0x198292(0x49d)](_0x198292(0xa6e),cancelAdminTest);}const _0x5819e5=document[_0x198292(0x6e6)](_0x198292(0x3a3));_0x5819e5&&(_0x5819e5['addEventListener']('submit',handleSubmitQuiz),_0x5819e5[_0x198292(0x49d)](_0x198292(0xa6e),_0x9969de=>{const _0x538921=_0x198292;if(_0x9969de[_0x538921(0x8ce)][_0x538921(0x3d9)]['contains'](_0x538921(0x621))){const _0xe35a38=_0x9969de['target'],_0x5724fb=_0xe35a38['dataset'][_0x538921(0x737)],_0x230989=_0xe35a38[_0x538921(0x9ff)]['value'];document['getElementById'](_0x538921(0x3f1)+_0x5724fb)['value']=_0x230989;const _0x403f9c=_0xe35a38[_0x538921(0xb68)];_0x403f9c['querySelectorAll'](_0x538921(0x4d1))[_0x538921(0xbf2)](_0x1a74ed=>_0x1a74ed['classList'][_0x538921(0xb00)](_0x538921(0x797))),_0xe35a38[_0x538921(0x3d9)][_0x538921(0x831)](_0x538921(0x797));}})),window[_0x198292(0x19c)]&&setTimeout(()=>{const _0xde3ebc=_0x198292;window[_0xde3ebc(0x19c)][_0xde3ebc(0xc6e)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x4f3164){const _0x8b57f3=_0x5319e2;if(_0x4f3164)_0x4f3164[_0x8b57f3(0x266)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3ddeeb=document[_0x8b57f3(0x6e6)](_0x8b57f3(0x3a3));if(!_0x3ddeeb)return;const _0x46814d=currentDisplayedQuiz[_0x8b57f3(0x531)]?.[_0x8b57f3(0xe45)]===!![],_0xdd44f8=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x8b57f3(0x180);if(_0x46814d&&_0xdd44f8==='mandatory'){let _0xf0c724=!![];for(let _0x39a193=0x0;_0x39a193<currentDisplayedQuiz['questions'][_0x8b57f3(0x4f1)];_0x39a193++){const _0x392f8c=_0x3ddeeb['querySelector']('#confidence-input-'+_0x39a193);if(!_0x392f8c||_0x392f8c['value']===''){_0xf0c724=![];break;}}if(!_0xf0c724){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x5e2eda=_0x3ddeeb['querySelector'](_0x8b57f3(0x6a9)),_0x14495d=currentDisplayedQuiz[_0x8b57f3(0x521)][_0x8b57f3(0x401)](_0x1f1093=>_0x1f1093[_0x8b57f3(0x823)]===_0x8b57f3(0xcea));_0x5e2eda&&(_0x5e2eda[_0x8b57f3(0xe9a)]=!![],_0x5e2eda['innerHTML']=_0x14495d?_0x8b57f3(0xac2):_0x8b57f3(0x88a));const _0x516782=new FormData(_0x3ddeeb),_0x2060af=currentDisplayedQuiz[_0x8b57f3(0x521)]['map']((_0x5628f6,_0xdd4673)=>{const _0x236e13=_0x8b57f3,_0x3845e8=_0x516782[_0x236e13(0x84b)](_0x236e13(0x195)+_0xdd4673);let _0x2367e6;_0xdd44f8===_0x236e13(0x8d9)?_0x2367e6=_0x516782[_0x236e13(0x84b)]('confidence'+_0xdd4673):_0x2367e6=_0x516782[_0x236e13(0x84b)]('confidence'+_0xdd4673)==='on';let _0x3446c7=null;if(_0x3845e8!==null&&_0x3845e8!==undefined){const _0x31140b=_0x5628f6['questionType']||currentDisplayedQuiz[_0x236e13(0xd29)];_0x31140b===_0x236e13(0x2d2)||_0x31140b==='fill_in_the_blank'?_0x3446c7=parseInt(_0x3845e8):_0x3446c7=_0x3845e8;}return{'answer':_0x3446c7,'wasConfident':_0x2367e6};}),_0x4b846d=currentQuizData['id'],_0xa9ca5b=doc(db,_0x8b57f3(0x555)+appId+_0x8b57f3(0xa62)+_0x4b846d+_0x8b57f3(0xe09),currentStudentName),_0x67da53=await getDoc(_0xa9ca5b),_0x221ffa=_0x67da53[_0x8b57f3(0x958)]()?_0x67da53[_0x8b57f3(0x9cb)]():{},_0x2f27a9=_0x221ffa['attempts']||[];await processAndSubmitAnswers(_0x2060af,_0x2f27a9);}async function gradeShortAnswerWithAI(_0x5a7893,_0x428bab){const _0x3b0aa8=_0x5319e2;if(!_0x5a7893||!_0x428bab)return![];try{const _0x46fe99=_0x3b0aa8(0x15c)+_0x5a7893+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x428bab+_0x3b0aa8(0xd76),_0x3c2f9b={'contents':[{'role':_0x3b0aa8(0xb42),'parts':[{'text':_0x46fe99}]}]},_0x226d03=_0x3b0aa8(0x309),_0x4a941e=_0x3b0aa8(0x961)+_0x226d03,_0x450f22=await fetch(_0x4a941e,{'method':_0x3b0aa8(0x932),'headers':{'Content-Type':_0x3b0aa8(0xbbd)},'body':JSON[_0x3b0aa8(0x338)](_0x3c2f9b)});if(!_0x450f22['ok'])throw new Error('API\x20call\x20failed');const _0x5248e8=await _0x450f22[_0x3b0aa8(0xdf4)](),_0x59c613=_0x5248e8['candidates'][0x0][_0x3b0aa8(0x23e)][_0x3b0aa8(0xe9f)][0x0][_0x3b0aa8(0x135)][_0x3b0aa8(0xc3f)]()[_0x3b0aa8(0x3a8)]();return _0x59c613===_0x3b0aa8(0x92c);}catch(_0x1818da){return console['error'](_0x3b0aa8(0xc57),_0x1818da),![];}}async function processAndSubmitAnswers(_0x1cb9d8,_0x258715){const _0x212bdc=_0x5319e2;releaseWakeLock(),stopDimTimer();try{document[_0x212bdc(0xb1e)]&&await document[_0x212bdc(0x7bc)]();}catch(_0x415047){console[_0x212bdc(0xe76)](_0x212bdc(0xe93),_0x415047);}isQuizActive=![],document[_0x212bdc(0x60a)](_0x212bdc(0x508),handleFullscreenChange),document[_0x212bdc(0x60a)](_0x212bdc(0x903),handleVisibilityChange);let _0x1ff350=0x0;const _0x1757d5=[],_0x3355bc=currentDisplayedQuiz[_0x212bdc(0x521)][_0x212bdc(0x4f1)];let _0x4b76b1=0x0,_0x4a7398=[];const _0x22b636=currentDisplayedQuiz[_0x212bdc(0x521)];for(let _0x114444=0x0;_0x114444<_0x22b636[_0x212bdc(0x4f1)];_0x114444++){const _0x182be2=_0x22b636[_0x114444],_0x3399ad=_0x1cb9d8[_0x114444],_0xe66a48=_0x3399ad?_0x3399ad[_0x212bdc(0x4b0)]:null,_0x4ed2bc=_0x3399ad?_0x3399ad[_0x212bdc(0x7d6)]:null;let _0x235c7e=![],_0x3213d3=0x0;if(_0xe66a48!==null&&_0xe66a48!==''){const _0x2ad4f9=_0x182be2['questionType']||currentDisplayedQuiz['quizType'];switch(_0x2ad4f9){case _0x212bdc(0x1f6):_0x235c7e=_0xe66a48===_0x182be2[_0x212bdc(0x5d8)];break;case _0x212bdc(0x1cc):const _0x44923a=_0xe66a48===!![]||_0xe66a48==='true';_0x235c7e=_0x44923a===_0x182be2[_0x212bdc(0x8aa)];break;case _0x212bdc(0x603):case _0x212bdc(0xcea):_0x235c7e=await gradeShortAnswer(_0xe66a48,_0x182be2);break;case'multiple_choice':case _0x212bdc(0xa61):default:_0x235c7e=Number(_0xe66a48)===_0x182be2[_0x212bdc(0x9be)];break;}}if(currentDisplayedQuiz[_0x212bdc(0x531)]?.[_0x212bdc(0xe45)]){const _0x46b325=_0x3399ad?_0x3399ad['wasConfident']:null;if(_0x235c7e&&(_0x46b325===!![]||_0x46b325==='confident'))_0x3213d3=0x2;else{if(_0x235c7e)_0x3213d3=0x1;else{if(!_0x235c7e&&(_0x46b325===![]||_0x46b325==='not_confident'||_0x46b325===null))_0x3213d3=0x0;else!_0x235c7e&&(_0x46b325===!![]||_0x46b325===_0x212bdc(0x4ef))&&(_0x3213d3=-0x1);}}}else _0x3213d3=_0x235c7e?0x1:0x0;_0x1ff350+=_0x3213d3;if(_0x235c7e){_0x4b76b1++;if(_0x4b76b1===0x3)_0x4a7398[_0x212bdc(0xbda)](BADGES['ON_FIRE']['id']);}else _0x4b76b1=0x0;let _0x393a16=null;_0x182be2[_0x212bdc(0x4ff)]&&(_0x182be2[_0x212bdc(0x823)]==='multiple_choice'||_0x182be2[_0x212bdc(0x823)]===_0x212bdc(0xa61))&&_0xe66a48!==null?_0x393a16=_0x182be2['options'][_0xe66a48]:_0x393a16=_0xe66a48,_0x1757d5[_0x212bdc(0xbda)]({'questionId':_0x182be2['id'],'answer':_0xe66a48,'answerText':_0x393a16,'isCorrect':_0x235c7e,'wasConfident':_0x4ed2bc,'pointsAwarded':_0x3213d3,'originalQuestionText':_0x182be2[_0x212bdc(0x2f8)]||_0x182be2[_0x212bdc(0x14e)]});}const _0x2771a5=_0x1757d5[_0x212bdc(0xbdf)](_0x324a43=>_0x324a43['isCorrect'])[_0x212bdc(0x4f1)],_0x22eeb5=currentDisplayedQuiz['settings']?.[_0x212bdc(0xe4b)]??Math['floor'](_0x3355bc/0x2);_0x2771a5===_0x3355bc&&_0x3355bc>0x0&&!currentDisplayedQuiz[_0x212bdc(0x1da)]&&_0x4a7398[_0x212bdc(0xbda)](BADGES[_0x212bdc(0x697)]['id']);const _0x42f905=currentDisplayedQuiz[_0x212bdc(0x531)]?.[_0x212bdc(0x1d8)];if(_0x42f905==='whole_quiz'&&quizStartTime){const _0x566ea4=(new Date()-quizStartTime)/0x3e8,_0x2222b0=currentDisplayedQuiz[_0x212bdc(0x531)]['timerDuration']*0x3c;_0x2771a5>=_0x22eeb5&&_0x566ea4<_0x2222b0/0x2&&_0x4a7398[_0x212bdc(0xbda)](BADGES['QUICK_THINKER']['id']);}_0x258715[_0x212bdc(0x4f1)]===0x0&&_0x2771a5===_0x3355bc&&_0x3355bc>0x0&&_0x4a7398[_0x212bdc(0xbda)](BADGES[_0x212bdc(0x332)]['id']);if(_0x258715[_0x212bdc(0x4f1)]>0x0){const _0x2ba289=_0x258715[0x0][_0x212bdc(0x473)];if(_0x2ba289<_0x22eeb5&&_0x2771a5>=_0x22eeb5){const _0x432fc2=_0x258715[_0x212bdc(0x401)](_0x559934=>(_0x559934['badges']||[])[_0x212bdc(0x676)](BADGES['COMEBACK_KING']['id']));!_0x432fc2&&_0x4a7398[_0x212bdc(0xbda)](BADGES[_0x212bdc(0x820)]['id']);}}_0x258715[_0x212bdc(0x4f1)]===0x4&&_0x4a7398[_0x212bdc(0xbda)](BADGES[_0x212bdc(0xd67)]['id']);const _0x429c36=currentDisplayedQuiz[_0x212bdc(0x531)][_0x212bdc(0x981)];if(currentMode===_0x212bdc(0x395)){handleResultDisplay(_0x429c36,_0x2771a5,_0x1ff350,_0x4a7398,_0x1757d5,_0x3355bc);return;}const _0x40366e=currentQuizData['id'],_0x4d7d07=doc(db,_0x212bdc(0x555)+appId+_0x212bdc(0xa62)+_0x40366e+_0x212bdc(0xe09),currentStudentName);try{const _0x2acba1=[..._0x258715],_0x3b4750={'score':_0x2771a5,'points':_0x1ff350,'badges':Array['from'](new Set(_0x4a7398)),'submittedAt':new Date()[_0x212bdc(0x5be)](),'answers':_0x1757d5};_0x2acba1['push'](_0x3b4750);const _0x29e23e=_0x258715[_0x212bdc(0x4f1)]===0x0?_0x2771a5:_0x258715[0x0][_0x212bdc(0x473)]||0x0,_0x1da9b0=Math[_0x212bdc(0xd01)](..._0x2acba1['map'](_0x4cf9fd=>_0x4cf9fd[_0x212bdc(0x473)]));await setDoc(_0x4d7d07,{'studentName':currentStudentName,'totalQuestions':_0x3355bc,'attempts':_0x2acba1,'firstScore':_0x29e23e,'bestScore':_0x1da9b0,'latestScore':_0x2771a5,'points':_0x1ff350,'latestSubmittedAt':_0x3b4750[_0x212bdc(0x1ae)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x212bdc(0x19e)],currentStudentName),handleResultDisplay(_0x429c36,_0x2771a5,_0x1ff350,_0x4a7398,_0x1757d5,_0x3355bc);}catch(_0x8515c6){console[_0x212bdc(0x3f8)](_0x212bdc(0x819),_0x8515c6),showMessage(_0x212bdc(0x99a));}}async function updateStudentProfile(_0x1e0320,_0x57d452){const _0x88e263=_0x5319e2,_0x253236=doc(db,_0x88e263(0x555)+appId+_0x88e263(0xb15)+_0x1e0320+_0x88e263(0x89a),_0x57d452);try{const _0xf963ea=query(collection(db,_0x88e263(0x555)+appId+'/public/data/quizzes'),where('projectId','==',_0x1e0320)),_0x47268e=await getDocs(_0xf963ea),_0x4eb2c1=_0x47268e[_0x88e263(0x6e9)][_0x88e263(0x23a)](_0x4ee845=>_0x4ee845['id']);let _0x49fda5=0x0;const _0xe3cce2={},_0x40967f=_0x4eb2c1[_0x88e263(0x23a)](_0x3a2dfa=>getDoc(doc(db,'artifacts/'+appId+_0x88e263(0xa62)+_0x3a2dfa+'/submissions',_0x57d452))),_0x5a1420=await Promise[_0x88e263(0x8bd)](_0x40967f);_0x5a1420[_0x88e263(0xbf2)](_0x379f82=>{const _0x3e5ae6=_0x88e263;if(_0x379f82[_0x3e5ae6(0x958)]()){const _0x2d0f22=_0x379f82['data']();_0x49fda5+=_0x2d0f22[_0x3e5ae6(0x31d)]||0x0,_0x2d0f22['attempts']&&_0x2d0f22[_0x3e5ae6(0xca5)][_0x3e5ae6(0xbf2)](_0x2a217f=>{const _0x3a7ec7=_0x3e5ae6;_0x2a217f[_0x3a7ec7(0xba7)]&&_0x2a217f['badges'][_0x3a7ec7(0xbf2)](_0x1eb5c7=>{});});}}),await setDoc(_0x253236,{'studentName':_0x57d452,'totalPoints':_0x49fda5},{'merge':!![]});}catch(_0x53691d){console[_0x88e263(0x3f8)](_0x88e263(0x3e2),_0x53691d);}}function startAdminTest(){const _0x121e3a=_0x5319e2;if(!currentQuizData){showMessage(_0x121e3a(0xd13));return;}let _0x10bed2=JSON[_0x121e3a(0x110)](JSON[_0x121e3a(0x338)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x121e3a(0x485),adminView[_0x121e3a(0x3d9)]['add'](_0x121e3a(0xd60)),studentView[_0x121e3a(0x3d9)]['remove'](_0x121e3a(0xd60)),studentInitialView[_0x121e3a(0x3d9)][_0x121e3a(0x831)](_0x121e3a(0xd60)),studentNameSelectionView[_0x121e3a(0x3d9)]['add'](_0x121e3a(0xd60)),studentResultArea['classList']['add'](_0x121e3a(0xd60)),studentQuizArea[_0x121e3a(0x3d9)]['remove'](_0x121e3a(0xd60)),quizStartTime=new Date(),displayQuizForStudent(_0x10bed2);}function handleResultDisplay(_0x52c710,_0xa84f17,_0x2571ad,_0x2d215b,_0x1761e1,_0x58b437){const _0x18d7e7=_0x5319e2;if(_0x52c710==='manual_release'){displaySubmissionConfirmation();return;}const _0x131612=currentDisplayedQuiz['settings']?.[_0x18d7e7(0xe4b)]??Math[_0x18d7e7(0x5d2)](_0x58b437/0x2),_0x517245=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x45a112=currentDisplayedQuiz['settings']?.[_0x18d7e7(0x553)]===!![],_0x1e102d=_0xa84f17<_0x131612,_0x3d0e7a=_0x52c710==='half_mark_status'||_0x52c710==='perfect_score_status';if(_0x45a112&&_0x1e102d&&!_0x3d0e7a){_0x52c710===_0x18d7e7(0x14c)?displayResultsWithAnswers(_0xa84f17,_0x2571ad,_0x2d215b,_0x1761e1,_0x58b437,!![]):displayLoopScreen(_0xa84f17,_0x58b437,_0x52c710);return;}if(_0x517245&&_0x1e102d){startAdaptiveFlow(_0x1761e1,_0xa84f17,_0x58b437);return;}switch(_0x52c710){case _0x18d7e7(0x14c):displayResultsWithAnswers(_0xa84f17,_0x2571ad,_0x2d215b,_0x1761e1,_0x58b437);break;case'show_results_only':displayResultsScoreOnly(_0xa84f17,_0x2571ad,_0x2d215b,_0x58b437);break;case'show_pass_fail_only':displayPassFailOnly(_0xa84f17,_0x58b437);break;case'half_mark_status':displayHalfMarkResult(_0xa84f17,_0x58b437);break;case _0x18d7e7(0xbc0):displayPerfectScoreResult(_0xa84f17,_0x58b437);break;default:displaySubmissionConfirmation();break;}}function _0x21f8(){const _0x2eb9d8=['\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','bp-modal-question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การประยุกต์เวกเตอร์พื้นฐาน','quiz-bank-modal','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x20to\x20blueprint\x20topic\x20','สุดยอด!\x20ตอบถูกทุกข้อ','Blueprint\x20O-NET\x20ป.6','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','font-bold\x20text-green-700','กรุณาเลือกคำตอบก่อนครับ','fa-rocket\x20text-purple-500','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-save\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','main-correct-answer-display','powerupUsed','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','players','handleGeneratePracticeTest','ownerSVGElement','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','category','ผู้ไม่ยอมแพ้','triangle','fas\x20fa-user-edit','drop','number','insertBefore','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','text-green-800','webkitExitFullscreen','แท็บใหม่','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','next-sync-question-btn','confirm-team-players-btn','text-red-500\x20hover:text-red-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','-tab-content','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-view-btn','bg-gray-100\x20opacity-70','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','pow','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','input[name=\x22team_player\x22]:checked','เศษส่วน\x20(ย่อ/ขยาย)','<option\x20value=\x22','มูเตลู','admin-dashboard','toString','<div\x20class=\x22space-y-2\x22>','topic-bank-subtopic-name','startedAt','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','touchstart','Error\x20starting\x20live\x20race:','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมไฟล์อ้างอิง...','textarea[name=\x22question_single\x22]','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','back-from-results-btn','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','studentName','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','onkeydown','</p><p><strong>เฉลย:</strong>\x20','slide-counter','แบบทดสอบ:\x20','setTransform','#F3E8FF','json','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','showRankings','isJinxed','0\x20(รอโบนัส)','classWeaknesses','exponentialRampToValueAtTime','ระบบเลขและค่าประจำหลัก','ส่งคำตอบ','parallel-default-','newOptions','bank-input-area','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','.ai-fix-question-btn','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','cropper-modal','.option-input','/submissions','question-analytics-container','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','global-activity-quiz-list','bg-blue-100','NUMBER','แอบชอบ','Error\x20saving\x20file\x20shortcut\x20config:','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','bg-indigo-600\x20hover:bg-indigo-700','short','100%','q-text-','numChoices','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','ย้ายแบบทดสอบสำเร็จ','temp-loader-results','scores','คัดลอกรหัสแล้ว!','\x20(Player)\x20(ID:\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','deg','parallelShortcutTabs','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','question-complexity-select','globalSettings','.ai-content\x20blockquote','คะแนน','sync-timer-bar','count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','AI\x20did\x20not\x20return\x20any\x20content.','fromCharCode','เงาปริศนา','timed','20px','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ทะเล','กำลังดึงข้อมูลจากลิงก์...','setItem','ระบบสมการเชิงเส้นสองตัวแปร','</h4>','frac','Game\x20results\x20already\x20saved.\x20Skipping.','toLocaleString','ไม่มีคำอธิบาย','transparent','/public/data/practiceBank','timer-duration-container','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','isConfidenceScoringEnabled','student-quiz-topic','projectSort','use-powerup-wagerMultiplier-instant','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','passingScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','ไม่ใช่\x20/\x20ผิด','additional-file-shortcuts-modal','จุด\x20เส้น\x20ระนาบ','text/plain','เศรษฐีดูไบ','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','cos','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</span></td>','ค่าคลาดเคลื่อนของการวัด','อัตราส่วนและสัดส่วน','bulk-loop-until-pass-checkbox','/public/data/customMathTopics','answeredCurrentQuestion','ใช้ไอเทม\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','type','perseverance','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-indigo-600','results-quiz-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','confidenceMode','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-presentation-btn','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x202','Error\x20updating\x20points:','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','Original\x20quiz\x20not\x20found','text-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','warn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','leaderboard-quiz','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','student-quiz-area','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','drill-feedback','.live-answer-btn,\x20#sync-submit-btn','reviewQuestionIndex','รูปสแควร์รูท\x20(surd)','blockReason','fill','setFont','setAttributeNS','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','bulk-confidence-scoring-checkbox','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','docChanges','pin-entry-modal','<button\x20id=\x22','คะแนนเฉลี่ย','.highlighter-color-btn','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','close-topic-bank-btn','previousElementSibling','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','originalTopic','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','text-green-600','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','disabled','endsWith','<button\x20data-tab-id=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','parts','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','suggestedAnswer','\x20|\x20','selectedTopicNames','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','summary_chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','padding','parse','fiftyFifty','questions_only','presentation-short-answer-input','file-shortcut-container','quiz-search-input','scoresCalculated','toggle','.move-file-shortcut-menu-btn','export-tutor-pdf-btn','onSecondChance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results_','bp-modal-passing-score-input','<div\x20class=\x22answer-space\x22></div>','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความคาดหมาย\x20(Expected\x20value)','contains','Error\x20listening\x20for\x20starred\x20quizzes:','back-to-student-initial-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.move-parallel-shortcut-item','values','reference.pdf','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','admin-password-modal','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','subTopics','pre-test','cancel-move-quiz-btn','แก้ไขสูตรคณิตศาสตร์\x20','text-red-700\x20bg-red-100','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','text','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','แมวเก้าชีวิต','removeAttribute','Error\x20updating\x20project\x20name:','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','\x22,\x20','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','Error\x20listening\x20for\x20student\x20profiles:','Error\x20generating\x20parallel\x20post-test:','ปริพันธ์จำกัด','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','ลบโปรเจค\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','parallel-shortcut-tabs-nav','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','show_results_and_answers','per_question','questionText','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','targetId','currentTime','outerHTML','<li\x20class=\x22','bg-gray-500','Error\x20deleting\x20shortcut:','quiz','อนุพันธ์:\x20กฎลูกโซ่','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','กรุณาเลือกโปรเจคก่อน','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','ผลรวมอนุกรม\x20(Σ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','อินเวอร์สของเมทริกซ์','เกิดข้อผิดพลาดในการสร้างห้องเกม','realScore','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22block\x20text-sm\x20','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20confirming\x20players:','Error\x20processing\x20file\x20for\x20AI:','ตลาดมืด\x20(-1\x20P)','mean','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','shortcutTabs','กราฟแท่ง\x20กราฟเส้น','leaderboard-table-body','Error\x20updating\x20quiz\x20status:','AudioContext','.presentation-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','Welcome\x20back,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','offset','<p\x20class=\x22','ข้อ\x20','checkAnswer','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','camera-input','checkbox','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','bp-modal-num-choices','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','3702GYNhRX','Error\x20saving\x20reference\x20URL:','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','ยูทูปเบอร์ฝึกหัด','student-view','เงินงวด\x20(อนุกรมเงินงวด)','pointsLastRound','เปิดใช้งาน','\x20จาก\x20','lesson-loader','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','math-topics-checkbox-container','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>','MathJax','cancel-delete-btn','projectId','badgesToAdd','createOscillator','isCorrect','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','open','การหาร','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','ไม่ระบุ','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x20ข้อ\x20','โดเมนและเรนจ์','Error\x20resetting\x20project\x20order:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submittedAt','blueprint-project-list','submit-group-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ดาวสภา','<span\x20class=\x22font-bold\x20','project-list','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','table','quiz-editor-questions-container','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','whole_quiz','Error\x20updating\x20old\x20quizzes:','bg-white','trail-tool-btn','highlighter-tools-group','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','Error\x20saving\x20quiz\x20edits:','teacherTips','beforeend','applicationData','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-game-start-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','คนโสด','source_document.pdf','true_false','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','textAlign','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','การยืนยันตัวตนล้มเหลว','404\x20Not\x20Found','.png','timerMode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','name','image-to-crop','<textarea\x20name=\x22question','หัวข้อหลักใหม่','.delete-question-editor-btn','slice','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','lowerGroupResponders','generate-from-link-btn','bp-modal-include-images-checkbox','anonymous_reveal_end','start-game-btn','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','25305RHwQbj','str','เกิดข้อผิดพลาดในการบันทึกโปรเจค','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','108Lqixwj','bg-[#DCFCE7]\x20text-green-900','bg-[#4ADE80]\x20text-green-900\x20font-bold','transformOrigin','Error\x20adding\x20topic:','label','⏳\x20ซื้อเวลา','dfrac','เกิดข้อผิดพลาด:\x20','matching_item','คำถามถัดไป','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','revealOptions','student-join-game-view','ไอรอนแมน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','setValueAtTime','text-red-900','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','pointer-events-none','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','จากไฟล์ที่แนบมานี้,\x20','total','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','มุมและการวัดมุม','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','lesson-sections-container','height','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generationConfig','\x0a\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','ยอดนักสืบ','Auto-cleanup\x20failed:','questionStatus','text-tab','admin','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','.correct-response-input','getBBox','scratchpad-clear-btn','.lastAnswerCorrect','cancel-confidence-btn','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20mb-2\x22>','input[type=\x22radio\x22]:checked','นักกีฬา','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','คำถามดิบ:\x20\x22','#10B981','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','back-to-dashboard-btn','กำลังจับคู่...','ตัวเลือก\x20ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','application','show-in-student-dashboard-checkbox','เส้นจำนวน','stepByStepExamples','หน่วยความยาวและการแปลง','clientX','.score','map','\x22>จาก:\x20','\x27,\x20\x27','</span>\x20','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','circle','API\x20call\x20failed\x20with\x20status:\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','auto-fix-latex-btn','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคะแนน','leaderboard-quiz-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','gain','สัญกรณ์วิทยาศาสตร์','text-green-700\x20bg-green-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','#file-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','playerNicknames','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','</tbody></table>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','price','สร้างชุดคำถามจับคู่','confirmation-modal','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','fontWeight','getDocument','live-race','<span\x20title=\x22โดนคำสาป\x22>😈</span>','shuffleSetting','student-team-join','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','sin','blur','Error\x20loading\x20quiz\x20for\x20student:','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','preventDefault','export-excel-btn','Error\x20joining\x20activity:','confirm-join-game-btn','open-global-live-btn','generated-quiz-actions','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','...','ไม่สามารถบันทึกการตั้งค่าได้','save-bp-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shortcutIds','createGain','behavior-log-container','Successfully\x20removed\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tabId','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','include-images-checkbox','items','.pen-size-btn','handleGenerateAndShowLesson','เกิดข้อผิดพลาดในการแก้ไข','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-file-shortcut-btn','every','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการลบหัวข้อ','_opt1\x22>ไม่ใช่</label></div>','answering','insurance','ฟังก์ชันผกผัน','.generate-easy-version-btn','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','ใช้\x20\x22คำสาป\x22\x20กับ\x20','.pen-color-btn','complexityValue','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','</div></div></div>','fa-dumbbell\x20text-gray-700','.txt','.move-shortcut-dropdown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนข้อ:','ปรับเพิ่ม/ลดเป็นร้อยละ','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ภูเขา','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','ai-quiz-app-aefee.firebasestorage.app','<button\x20data-id=\x22','<svg','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','.shortcut-list-item:not(.opacity-50)','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','blob','visibilityState','274192258111','hint-btn','อุณหภูมิและการแปลง','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','เพนกวินไฟ','ทำคะแนนเต็มในการทำครั้งแรก','textarea','tGain','usedBuyTime','#DBEAFE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','translate(','_opt1\x22\x20name=\x22question','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','Error\x20toggling\x20pin\x20status:','<p\x20class=\x22font-bold\x20text-sm\x20','topic-quiz-bank-modal','AI\x20แก้ไขคำถามสำเร็จ!','readAsArrayBuffer','การแจกแจงปกติและ\x20z-score','\x20to\x20','Enter','.open-bp-project-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22>ใช่</p>','bulk-confidence-mode-container','querySelectorAll','instructions','data:application/vnd.ms-word;charset=utf-8,','\x20ชุด)</span>','catch','undo-btn','text-content-input','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','line-height:\x201.3;\x20min-width:\x200;','.question-editor-item:last-of-type','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','bank-quiz-list','cancel-global-activity-btn','contents','Error\x20saving\x20questions\x20to\x20practice\x20bank:','multiple_choice','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','รีเซ็ตลำดับโปรเจคแล้ว','spinner','.edit-hidden-parallel-shortcut-btn','cloneNode','สายลมแห่งโชคชะตา','blueprint-topics-list-container','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Team\x20Quiz','.bp-generate-lesson-btn','currentMode','\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x','fixed','shadowColor','strength-weakness-analysis-container','default','\x22\x20style=\x22','upper_group_count','topicId','numQuestions','input','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','cdot','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','.bp-open-topic-bank-btn','analytics','bp-modal-num-questions','\x22\x20name=\x22question_single\x22\x20value=\x22','sqrt','upperGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','grid-view-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','👁️','stem','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','px)\x20scale(','idealAnswer','fill_in_the_blank','shouldSaveResults','has','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','use-powerup-wagerMultiplier','use-powerup-revealOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','getAttributeNS','quiz-start-time','allResponses','manage-tab','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','\x20หัวข้อ)','document','Error\x20in\x20handleApiCall:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','scale','check-presentation-answer-btn','wager-modal','Error\x20fetching\x20quiz\x20settings:','การแยกตัวประกอบ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','.mb-6.p-4','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท้องฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','difficultyValue','shuffledQuiz','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','สมการค่าสัมบูรณ์','rgba(239,\x2068,\x2068,\x200.7)','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','readAsDataURL','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','getPage','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','isForcedConfident','ไม่พบข้อมูลเกม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','quick_thinker','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','แบบทดสอบที่ติดดาว','FIRST_TRY_ACE','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','bg-green-100\x20font-bold','stringify','topicName','scratchpad-close-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.pin-project-btn','lastIndexOf','เสือซ่อนเล็บ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20standardized\x20topic:','date_desc','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','ครัวซองต์','keydown','q-image-container-','...\x22)?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เวลาโบนัสทำงาน!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-additional-file-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','Error\x20during\x20deep\x20delete:','.edit-parallel-shortcut-btn','ดอกเบี้ยอย่างง่าย','.regenerate-question-editor-btn','add-custom-math-topic-btn','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','results','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','project-detail','เส้นรอบรูป','.custom-math-dropdown','isAnonymousRevealed','.duplicate-quiz-btn','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','AI\x20ไม่ส่งผลลัพธ์กลับมา','lineJoin','scores-tab-btn','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','ลำดับเลขคณิต\x20(AP)','canvas','Error\x20comparing\x20results:','.bp-create-topic-quiz-btn','```','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','authed_project_','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','จำนวนนักเรียน','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-quiz-settings-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','แคลคูลัสเบื้องต้น','https://drive.google.com/uc?export=download&id=','\x20สำเร็จ!','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','memoryContent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','pin','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','_opt0\x22\x20name=\x22question','ห.ร.ม.\x20(GCD)','ต้นฉบับ\x202','.use-hidden-shortcut-btn','กำลังสร้างแบบทดสอบ:\x20','round','math-topic-search-input','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','fas\x20fa-star\x20text-yellow-500','sync-timer-duration-container','isFinished','text-emerald-800','สร้างคำถามแบบใช่/ไม่ใช่','กรุณากรอกเป็นตัวเลขเท่านั้น','เกิดข้อผิดพลาดในการใช้ตัวช่วย','parallel-test-input-area','อยู่ในหัวข้อหลักใด:','numeric','commonMistakes','students','.status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','Error\x20starting\x20group\x20quiz:','close-pin-modal-btn','sync-timer-duration-input','show-final-results-btn','confirm-bulk-quiz-settings-btn','stopPropagation','admin-testing','\x20วินาที','\x5cpm','icon','.topic-category','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','svg','/public/data/teamQuizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','z-index:\x20','คณิตการเงิน/บูรณาการ','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','quiz-form','blueprint-topics-list','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','checked','presentation-explanation','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','เกี่ยวกับหัวข้อ\x20\x22','quiz-leaderboard-table-container','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-file-shortcut-tab-btn','analyze-strengths-btn','.project-card-content','student-back-to-home-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','.shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พีชคณิตและฟังก์ชัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20starting\x20team\x20quiz:','split','input[name=\x22status-option\x22]:checked','border-green-700','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','additional-file-shortcuts-list','lowerGroupNames','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','badgesCount.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.generate-lesson-btn','close-game-final-btn','file-topics-list','reveal-answer-btn','หมดเวลาสำหรับข้อนี้!','confirm-game-start-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.pin-key','topic-input','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ref','next-question-timed-btn','add-parallel-shortcut-tab-btn','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','marginBottom','ปวดหลัง','touch','tooltipTarget','โจรสลัดอวกาศ','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','shadowBlur','classList','<span\x20title=\x22','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','eraser','.answeredCurrentQuestion','bg-green-200\x20text-green-800','student-project-leaderboard-table-body','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','Profile\x20recalculation\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','\x22\x20data-target-tab-id=\x22','</option>','start','student-name-input','answerText','.tab-name-input','firstScore','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','bank-quiz-search-input','-9999px','confidence-input-','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-project-leaderboard-tab','overline','ตะวันฉาย','onloadend','error','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','live-game','แผนการสอน:\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','การคูณทศนิยม','<div\x20class=\x22my-2\x22>','starred-project','some','เกิดข้อผิดพลาดในการปักหมุด','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','destination','gradeLevel','รักแรกพบ','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','เกิดข้อผิดพลาดในการติดดาว','answerValue','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-tab-btn','bg-yellow-50','pin-backspace-btn','ยกเลิกการเชื่อมโยงสำเร็จ','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','th-TH','!\x20ข้อมูลของคุณถูกกู้คืนแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ฟังก์ชันยกกำลัง','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','เลือกและบันทึก','00:00','topic_','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','starred','shortcut-modal-title','\x5cle','parallel-shortcut-url-input','การคูณ','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','หนอนหนังสือ','.subTopic','generate-from-parallel-test-btn','.delete-parallel-shortcut-btn','blueprintShortcuts','Invalid\x20response\x20structure\x20from\x20AI.','/public/data/syncGames/','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','!\x20Restoring\x20stats...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerCorrect','quiz-bank-count','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','lastAnswerIndex','scratchpad-controls','ARRAY','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','lessonPlan','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.file-shortcut-btn[data-id=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.tab-name-display','draggable-text','คะแนนเต็ม','analytics-tab-btn','project-sort-select','comparison-overall-tab','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','zIndex','modal-timer-duration-input','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','removeChild','\x22\x20title=\x22','shortcut-reference-url-input','passcode','fix-lesson-latex-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add-shortcut-tab-btn','Error\x20deleting\x20quiz:','Error\x20processing\x20file\x20shortcut\x20click:','ทฤษฎีบทพีทาโกรัสและการประยุกต์','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ยังไม่มีนักเรียนส่งงาน','confidence-mode-container','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','.linkedQuizId','input[type=\x22text\x22]','\x20ตัวเลือก)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-blueprint-url-input','dragend','%</span>','นักวิทยาศาสตร์','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ทำงานอยู่!</div>','blueprint-upload-input','PROMPT_PLACEHOLDER','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','secondChance','[data-topic-container-id]','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','random','confirm-admin-login-btn','.delete-hidden-file-shortcut-btn','preScore','overflowY','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','score','disabled\x20bg-gray-400\x20cursor-not-allowed','findIndex','comeback_king','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-test-btn','จำนวนและการดำเนินการ','</select>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','connect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','BOOLEAN','กำลังอ่านและเตรียมไฟล์...','ไฟล์ลัด\x202','sawtooth','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','ผู้ควบคุม\x20(ทดสอบ)','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','input[name=\x22question_single\x22]:checked','cancel-quiz-bank-btn','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20worksheet:','Failed\x20to\x20apply\x20forceConfident:','oninput','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-scoring-checkbox','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','ondragover','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','sync-short-answer-input','editable-text-','ระยะจากจุดถึงเส้นตรง','show_pass_fail_only','addEventListener','bg-red-100','ระยะเวลา\x20(นาที):','confirm-crop-btn','ราชาคัมแบ็ก','/preferences/main','ไฟล์ทั้งหมด','leaderboard_','loader-text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','post-test','onclick','duration-300','passcode-error-msg','close','ค่าเสื่อมราคา','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','answer','\x5cdiv','<div\x20class=\x22mb-3\x20topic-category\x22>','bg-green-400\x20text-white\x20font-bold','submission-status-chart','\x22\x20สำเร็จ','(^|[^\x5c\x5c])\x5cb','displayRank','candidates','reset-view-btn','เกิดข้อผิดพลาดในการอัปเดต:\x20','.bp-unlink-quiz-btn','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','tfrac','startsWith','add-student-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x20link(s)\x20for\x20quiz\x20ID:\x20','toDataURL','.unpair-quiz-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','\x22\x20value=\x22false\x22\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','<div\x20class=\x22loader\x20mx-auto\x22></div>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','game-start-quiz-id','confirm-link-quiz-btn','.confidence-choice-btn','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>(','transition-all','ระยะเวลา\x20(วินาที):','300','modal-loop-until-pass-checkbox','option','Error\x20listening\x20for\x20custom\x20math\x20topics:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','input[type=\x22checkbox\x22]','projectName','lesson-view-title','newCorrectIndex','.move-file-shortcut-item','Error\x20processing\x20shortcut\x20click:','อสมการค่าสัมบูรณ์','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','👑\x20','.move-parallel-shortcut-dropdown','Buy\x20Item\x20failed:\x20','Failed\x20to\x20resume\x20game\x20session:','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','s;\x22\x20title=\x22','.color-palette-btn','confident','bg-green-100','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input,\x20.correct-response-input','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','student-progress-view','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.use-hidden-file-shortcut-btn','กำลังสร้างเนื้อหา:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','.question-editor-item[data-q-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','minHeight','</h3>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','ไม่พบข้อมูลการจับคู่','Failed\x20to\x20kick\x20player\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','fullscreenchange','#results-table\x20thead\x20tr','คุณแน่ใจว่าต้องการลบแท็บนี้?','deltaY','showAnswerInAnonymous','(รอคะแนน)','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','#student-project-leaderboard-content\x20thead','bg-gray-200\x20text-gray-700','className','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','learningGaps','text-yellow-800','powerup','bg-red-500','currentQuestionIndex','.draggable-text','pointsToAdd','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ไม่ใช่','scores-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','button','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','live-short-answer-input','ทศนิยม\x20(ค่าประจำหลัก)','confirm-confident','</tbody></table></div>','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','px,\x20','sync-timer-enable-checkbox','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','เกิดข้อผิดพลาดในการบันทึกลำดับ','empty','settings','manage-tab-content','.edit-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','แม่น้ำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','highlighter-size-value','change','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dropdown-list-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','temp-loader-text-results','end-sync-game-btn','bg-green-100\x20text-green-800','.start-game-btn','เกิดข้อผิดพลาดในการเข้าตลาดมืด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ค.ร.น.\x20(LCM)','เลือกโปรเจคเพื่อบันทึก','timer-bar','isArray','คำเตือน\x20(','คะแนนยังไม่ถึงครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sum','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','loopUntilPass','input[type=\x22checkbox\x22]:checked','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','รอเปิด','translate','\x0a---\x0a','shuffle-setting-select','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20สำเร็จ','word-break:\x20break-all;','\x20\x0a\x20\x20\x20\x20','student-project-leaderboard-content','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','\x20in\x20all\x20blueprint\x20projects.','border-indigo-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.animate-pulse','\x20รายการสำเร็จ!','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','bg-black/10','-options\x22>','30px','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','add-parallel-shortcut-btn','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','เกิดข้อผิดพลาดในการโหลดโปรเจค','ลบแบบทดสอบสำเร็จแล้ว','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ผู้พิชิตดาว','.delete-file-shortcut-tab-btn','explanation','_opt0\x22>ใช่</label></div>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.rename-quiz-btn','manage-players-btn','\x20ชุด)','player-count','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','---\x20[คำถามใหม่]\x20---','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scrollHeight','jspdf','bg-red-100\x20text-red-900','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item','Error\x20opening\x20quiz\x20editor:','answer-grid-container','</span>:\x20','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','CEOพันล้าน','overallGroups','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anon-settings-container','</button>','ค่าความจริง/ตารางค่าความจริง','presentation-scratchpad-btn','ถูก','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','resume','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<button\x20data-shortcut-id=\x22','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','update','replaceChild','generate-from-blueprint-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','ส้มตำปูปลาร้า','.parallel-quiz-btn','.bp-create-onet-quiz-btn','Group\x20Mode','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','#open-additional-file-shortcuts-btn','default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','136809qwCeaW','font-bold','Error\x20deleting\x20custom\x20topic:','generated-quiz-container','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x22\x20data-name=\x22','destination-out','\x20|\x20ID:\x20','market-timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','game-start-mode','#open-additional-shortcuts-btn','toISOString','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','/users/',')</button>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','scrollX','test','toBlob','stdDev','การลบ','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','-\x20ข้อ\x20','floor','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-url-input','correctResponse','ไม่ผ่าน','🛡️','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','modified','back-to-home-manual-release','flex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.doc','.quiz-bank-parallel-btn','text-gray-200','student-passcode-input','generate-from-file-btn','manual-blueprint-modal','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','การคูณเศษส่วน','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','16dWzIwP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','gamePin','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','OCR\x20Error:','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ส่งแล้ว','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','กำลังเตรียมไฟล์...','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','bp-topic-list-container','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-list','sort','fill_in_no_choices','การจัดหมู่\x20(Combination)','ไม่พบข้อมูลโปรเจค','API\x20Error\x20Response:','medium','.topic-actions-edit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','body','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','baseVal','projectView','q-explanation-','load-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20','project-passcode-modal','#E0E7FF','กำลังโหลดคลังข้อสอบทั้งหมด...','behavior-log-tab-btn','responseSchema','บักแตงโม','Firebase\x20initialization\x20failed:','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','specialist','ตรวจพบการออกจากหน้าจอครบ\x20','clear-all-links-btn','rgba(79,\x2070,\x20229,\x200.8)','approx','confidence-choice-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','key','คุณใช้ตัวช่วย\x20\x22','status','mouse','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','(คู่ขนาน)\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','bg-blue-100\x20text-blue-800','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','/public/data/blueprintProjects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','color','createElement','</p></div>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','powerups.','redo-btn','podium','backspace','resultsSaved','fa-shield-alt\x20text-gray-600','bp-modal-quiz-type-select','nextElementSibling','scratchpad-canvas','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','hiddenOptions_q','modal-shuffle-select','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','reset-project-order-btn','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-duration-label','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','confirm-wager-btn','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ชนิดของข้อมูลและการเก็บข้อมูล','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x20รายการ...','Error\x20moving\x20quiz:','prev-question-btn','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','student-name-selection-view','export-lesson-pdf-btn','กรุณาพิมพ์คำตอบ','kick-player-btn','.quiz-bank-checkbox:checked','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','Error\x20updating\x20quiz\x20settings:','💰\x20โหมดเดิมพันทำงานอยู่!','devicePixelRatio','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','</span></div>','manual-create-blueprint-btn','group','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','นอนไม่พอ','file-default-1','Loaded\x20','quiz-settings-modal','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onerror','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','originalQuestionText','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','start-sync-game-btn','.save-custom-topic-btn','includes','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','Authentication\x20failed:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','additional-parallel-shortcuts-list','ไม่พบแบบทดสอบสำหรับรหัสนี้','<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','live-player-list','parallel-test-upload-input','bp-modal-shuffle-setting-select','ไม่สามารถเริ่มเกมได้','<div\x20class=\x22my-6\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','removeItem','.file-topic-selection-btn','\x27\x20ในหัวข้อ\x20\x27','<li>','frequency','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','http://www.w3.org/2000/svg','ชื่อหัวข้อห้ามว่าง','behaviorLog','Error\x20creating\x20project:','ตัวแทนแห่งดวงจันทร์','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','topics.','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','from','touchmove','Failed\x20to\x20generate\x20lesson:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','PERFECT_SCORE','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','powerupUsed_q','confirmation-message','boolean','STRING','keyConcepts','กรุณาตั้งชื่อแท็บใหม่:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','rename-quiz-modal','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','จับคู่เพื่อเปรียบเทียบผล','ส่วนเบี่ยงเบนมาตรฐาน','ย้ายแบบทดสอบไปโปรเจคอื่น','ตรวจคะแนนใหม่\x20','confirm-delete-btn','additional-parallel-shortcuts-modal','button[type=\x22submit\x22]',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','confirm-create-project-btn','</span></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','shuffle','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','manual-bp-content','lesson-plan-content','สำหรับหัวข้อ\x20\x27','1710780RTYzds','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x20คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','/public/data/syncGames','.hidden-option-input','<button\x20data-quiz-id=\x22','bulk-results-display-select','lesson-loader-text','กำลังอัปเดตแบบทดสอบ\x20','numPages','</tr>','sync-player-list','pop','<div\x20style=\x22','grid','confirm-passcode-btn','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','underline','student','.topic-name-input','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','leaderboard-quiz-tab-btn','use-powerup-','rgba(255,\x20255,\x200,\x200.5)','shortcuts-loading-msg','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','sync','Error\x20in\x20generating\x20from\x20files:','แบบปรนัย\x204\x20ตัวเลือก','wheel','quiz-status-modal','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','นินจาชาเขียว','.verification-result-editor','.kick-player-btn-sync','.topic-name-display','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','perfect_score','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','upperGroupResponders','.move-shortcut-item','getElementById','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','docs','pairedQuizId','ceil','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','เกิดข้อผิดพลาดในการสร้างรูปภาพ','file-default-2','Powerup\x20use\x20failed:','loader','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','questionDisplayedAt','create-project-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','หมีขั้วโลกใต้','timestamp','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','entries','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','<p><strong>คำตอบที่แนะนำ:</strong>\x20','dragstart','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','/public/data/liveGames','parallel-shortcut-id-input','fix\x20the\x20option','add-from-global-bank-btn','write','ai-quiz-generator-v3','manual_release','อยู่ในสาระการเรียนรู้ใด:','parallel-shortcut-editor-modal','bg-green-200','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','geq','ยืนยันการจับคู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','auto','.bp-game-btn','text-emerald-900','วงรี','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','กำลังสร้างแบบทดสอบจากหัวข้อ...','generated','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','postTScore','หยุดระบบจับเวลาหรี่หน้าจอ','\x20ชิ้น)','open-blueprint-projects-btn','<h1></h1>','file-input-area','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','เรเดียนและการแปลงหน่วย','การกระจายและการจัดหมู่','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','removed','timeBonusThisQuestion','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','.topic-row','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.answered','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','ศูนย์','application/pdf','transition-transform','G-V90KRM0L63','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','questionIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','touchcancel','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','scheduled','356411MhpYXY','strokeStyle','cancel-manual-bp-btn','poll','shortcut-name-input','border-indigo-400\x20ring-2\x20ring-indigo-200','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','false','.ai-content\x20p','md:col-span-3','fontFamily','Error\x20deleting\x20project:','itemId','\x0a\x20\x20\x20\x20','export-leaderboard-word-btn','.delete-quiz-btn','bank-tab','center','msExitFullscreen','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','การหารเศษส่วน','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','<span>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่มของคุณ','มัธยฐาน','สมการลอการิทึม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','progress-project-select','</label></div>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','เนื้อหาสำหรับสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','restore','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','quizId','ลบหัวข้อสำเร็จ','parallel-shortcut-name-input','ไม่พบข้อมูลแบบทดสอบ','hint','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ซื้อ\x20(','\x20กลุ่ม</p></div>',',\x20r=','fa-bolt\x20text-blue-500','Error\x20generating\x20from\x20parallel\x20test\x20file:','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','buy-time-quantity-input','confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','#add-question-editor-btn','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','.group','ควรปรับปรุง','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','pen','teachingContent','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.project-card-container','ไม่พบข้อมูลผู้เล่น','timer-mode-select','เกิดข้อผิดพลาดในการจับคู่','save-quiz-edits-btn','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','val','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','คำถาม...','\x20mr-2\x22></i>','1796249eKSeim','.bp-delete-topic-btn','src','cancel-quiz-edits-btn','num-choices-container','ครูใหญ่','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','file-upload-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finished','active','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','\x5cneq','510VqVOvk','.bp-view-analysis-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','mousedown','live-game-view','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','grabbing','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','อัศวินรัตติกาล','touches','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','save-project-name-btn','results-quiz-title','ฟังก์ชันราก\x20(root)','400xtohOy','Error\x20showing\x20quiz\x20detail\x20view:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','lesson-plan-title','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','Error\x20adding\x20custom\x20topic:','พบ\x20Sync\x20Game!','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','destroy','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','comparison','https://corsproxy.io/?','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มปุ่มลัดใหม่','presentation-slide-container','exitFullscreen','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nickname-input','lesson-view-content','screen_exit','wager-amount-display','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-shortcut_','lobby','game-start-modal-title','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','admin-view','_blank','จากเนื้อหาต่อไปนี้:\x20\x22','manual-bp-project-name','กรุณาเลือกชื่อของคุณ','export-leaderboard-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','รหัสไม่ถูกต้อง','far\x20fa-star','project-detail-view','.delete-submission-btn','ไม่พบโปรเจค','bg-green-500\x20hover:bg-green-600\x20text-white','file-shortcut-tabs-nav','wasConfident','undefined','สายลับจับบ้านเล็ก','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','</span><span\x20class=\x22font-bold\x22>','moveTo','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','นกฮูกกลางวัน','สมการตรีโกณมิติ','.quiz-bank-delete-btn','editable-quiz-topic','bottom','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','file-shortcut-id-input','ความน่าจะเป็นแบบมีเงื่อนไข','Error\x20renaming\x20quiz:','groups','cursor','ตัวเลือก\x20ก','ไม่พบเอกสารการส่งงานของ\x20','พิซซ่าหน้าทุเรียน','ติดซีรีส์','คู่คำตอบ...','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','manage','กรุณาพิมพ์คำตอบของกลุ่ม','เกมสิ้นสุดลงแล้ว','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','use-powerup-insurance','badgesCount','text-indigo-700','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','ตอบถูกทุกข้อในแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','worksheet-topic-input','force-math-checkbox',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.isScored','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','100px','3776490opalxi','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','/public/data/blueprintProjects','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','คัดลอกแบบทดสอบสำเร็จ','modal-passing-score-input','FileReader\x20error:','webkitRequestFullscreen','game-pin-input','\x22\x20สำเร็จ!','padStart','กำลังสแกนหาแบบทดสอบเก่า...','score-distribution-chart','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ON_FIRE','pointerType','totalPoints','pointContent','สอบปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ไม่พบไฟล์\x20Test\x20Blueprint','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตอบ','Error\x20saving\x20submission:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','startTime','[*]','</div></div>','เกิดข้อผิดพลาดในการซื้อ','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','COMEBACK_KING','pinned-items','keyup','questionType','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ชีสเค้ก','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','selected-answer-index-hidden-wager','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','เพิ่มปุ่มลัดจากไฟล์ใหม่','หมาป่าเดียวดาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','text-gray-500','getBoundingClientRect','maxHeight','add','move-quiz-project-select','ondragstart','แก้ไขชื่อหัวข้อย่อย:','modal-confidence-mode-select','backgroundColor','.remove-shortcut-from-tab-btn','<div\x20class=\x22flex-1\x22></div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','ผิด','anon-show-answer-toggle','strategyScan','N/A','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','border-gray-200','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','shortcut-id-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','not_confident','hasOwnProperty','.shortcut-btn','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-toggle','get','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','bg-red-50','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','bg-green-500','save-parallel-shortcut-btn','Market\x20entry\x20payment\x20failed:','1:274192258111:web:4120c9118229b5644dd48a','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','incorrect','[id^=\x22dropdown-list-\x22]','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','postScore','ปุ่มลัดทั้งหมด','cancel-create-project-btn','classStrengths','เทพทรู','Error\x20saving\x20settings:','fileShortcutTabs','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','parent','</a>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','#FCE7F3','perQuestionStats','results-table-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','.remove-file-shortcut-from-tab-btn','รูปสี่เหลี่ยมและสมบัติ','file-topic-input','Error\x20editing\x20topic:','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','Error\x20starting\x20game:','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','null','applicationContent','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anonymous','แบตหมด','isSyncGame','none','close-presentation-btn','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','innerText','live-player-management','รอ...','ยินดีต้อนรับกลับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ดวงดาว','Error\x20saving\x20parallel\x20shortcut:','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','#parallel-shortcut-tabs-nav\x20.tab-name-input','ฟังก์ชันพหุนาม','bg-black/20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-text','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','student-name-select','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','bg-yellow-200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','text-red-800','.file-shortcut-btn','.toggle-actions-btn','/studentProfiles','dimmed','summaryContent','analytics-summary-cards','\x22\x20data-topic=\x22','submission','string','trail','delete-all-students-btn','red','bg-[#EF4444]\x20text-white\x20font-bold','(หลังเรียน)\x20','pointermove','cancel-blueprint-projects-btn','save-blueprint-as-project-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','correctAnswer','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','freeMarketEntryUsed_q','สร้างแบบทดสอบ','find','API\x20Error\x20Body:','log','inactive','results-table','export-pdf-btn','dashboardConfig','project-quizzes-list','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','ลาเต้ไม่หวาน','preTestId','toFixed','leaderboard','ตั้งเวลา\x20(เปิด)','all','เพิ่มหัวข้อ\x20\x22','กลุ่ม:\x20','ท็อปฟอร์ม','linearRampToValueAtTime','team-player-status-grid','✂️\x20ตัด\x201\x20ตัวเลือก','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','text-red-300\x20hover:text-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','.move-shortcut-menu-btn','enable-passcode-checkbox','first_try_ace','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','target','จิงโจ้สโลว์ไลฟ์','แผนภาพเวนน์','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','worksheet-input-area','SAFETY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>','mandatory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.generate-post-test-btn','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','ตัวเลือก\x20ข','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FEE2E2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','cutOne','circ','(ก่อนเรียน)','เกิดข้อผิดพลาดในการนำผู้เล่นออก','parseInline','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','closest','localeCompare','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','เกิดข้อผิดพลาดในการลบ','GlobalWorkerOptions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','.summary-bar-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','div[data-question-index=\x22','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','สมการเหตุผล\x20(rational)','Error\x20processing\x20parallel\x20shortcut\x20click:','มี\x20Points\x20ไม่เพียงพอ','cancel-admin-login-btn','กรุณาสร้างบทเรียนก่อน','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','อัตราการเปลี่ยนแปลงทันที','visibilitychange','onload','select','setAttribute','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','back-to-student-home-btn','activeGameSession','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','bg-red-100\x20text-red-800','quiz-results-table-body','webkitAudioContext','.lastAnswerIndex','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ซามูไรสายเดี่ยว','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','.sort-indicator','.shortcut-list-item','position','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','cancel-export-pdf-btn','export-word-btn','เกิดข้อผิดพลาดในการลบผลสอบ','display','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','suspended','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','shortcut_','สรุปผลการวิเคราะห์:\x5cn','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','project-name-input','team-student-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','true','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','/public/data/projects','fa-fire\x20text-orange-500','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','POST','onblur','bg-white\x20text-gray-800','/public/data/quizzes','dim-overlay','นักเขียน','Error\x20analyzing\x20blueprint\x20topics:','fadeStartTime','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','จัดการ','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','export-leaderboard-excel-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','getItem','results-display-select','ลำดับการดำเนินการ\x20(PEMDAS)','.live-answer-btn,\x20#live-submit-short-answer-btn','.admin-try-quiz-list-btn','.quiz-result-card',')\x22><span\x20style=\x22','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','quiz-editor-modal','ฟังก์ชันลอการิทึม','ไม่สามารถสร้างโปรเจคได้','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','viewBox','stop','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','รูปหลายเหลี่ยมและมุมภายใน','exists','ความชันเส้นสัมผัส','text-white','bg-gray-50','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','เรขาคณิต','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','fa-pen','ฮัลค์','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','<option>กำลังโหลดโปรเจค...</option>','firstElementChild','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','file-shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20เป็น\x20','.remove-parallel-shortcut-from-tab-btn','shortcut-tabs-nav','save-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','width','isNormalTopic','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','shortcuts','publicLeaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','join','pollUsedThisTurn','isStarred','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','powerupUsedThisTurn','verify-answers-btn','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','createdAt','per-q-countdown','Error\x20fetching\x20student\x20rankings:','วงกลม:\x20สมการและสมบัติ','export-image-btn','resultsDisplay','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20to\x20question\x20bank:','enable-black-market-checkbox','.pointsLastRound','</td>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','subTopic','doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','\x20คะแนน\x20(','แก้ไขปุ่มลัด','substring','wagerMultiplier','.move-quiz-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','stroke','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','select[name=\x22question_single\x22]','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','<span\x20title=\x22โดนบังคับ\x22>👻</span>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','mode-switcher-btn','เกิดข้อผิดพลาด','.delete-hidden-shortcut-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','ผ่านฉลุย','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','link-tab','timer-container','647hZnAqa','จันทร์เจ้า','scratchpad-modal','submit-team-answer-btn','globalAlpha','cancel-bulk-quiz-settings-btn','Blueprint\x201','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','.live-summary-tooltip.visible',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','toLocaleDateString','นักล่าฝัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',';\x22\x20data-tooltip-target=\x22tooltip-','scrollIntoView','<span\x20title=\x22ใช้ไอเทม\x22>','practice-topic-btn','submissions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','correctAnswerIndex','แก้ไข\x20Points\x20ของ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','export-lesson-to-pdf-btn','Error\x20updating\x20project\x20color:','เพิ่มรายการที่เลือก','ความเท่ากันทุกประการของสามเหลี่ยม','timerDuration','index','modal-results-display-select','กรุณากรอกข้อมูลให้ครบทุกช่อง','tool','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','data','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','Remedial\x20quiz\x20generation\x20failed:','ไม่พบแบบทดสอบในระบบเลย','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','pointsAwarded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','ใช่\x20/\x20ถูก','quizMode','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ยังไม่เต็มนะ','mode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','.live-answer-btn','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>','global-activity-modal','autoTable','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','สร้างคำถามแบบเติมคำในช่องว่าง','size','#student-quiz-leaderboard-content\x20thead','ต้นฉบับ\x201','<div\x20class=\x22space-y-4\x22>','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','admin-try-quiz-btn','mouseup','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','topic','.text-indigo-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','justification','กำลังอ่านไฟล์อ้างอิง...','comparison-overall-content','ระยะทางและจุดกึ่งกลาง','block','quiz-generation-area','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','dispatchEvent','):\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','playerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','quiz-leaderboard-table','dataset','เกิดข้อผิดพลาดในการสร้างใบงาน','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20','ไม่สามารถโหลดข้อมูลอันดับได้','pointercancel','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','behavior-log-tab-content','ดอทโปรดักต์\x20(dot)','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','summary','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','label[for=\x22num-questions\x22]','order','สร้างแบบทดสอบปรนัย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondrop','projectOrder','(นำโด่ง)','responses.','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','project-passcode-input','title','innerHTML','selected-topics-count','commit','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','close-student-rankings-btn','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','download','การแจกแจงทวินาม\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.answers','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x20ข้อ...','\x20จุด','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','กองดอง','touchend','0\x200','separate-by-content-from-file-checkbox','gameVariant','replace','create-project-btn','.move-file-shortcut-dropdown','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','bp-reference-file-url','reveal-names-btn','matching','เปลี่ยนชื่อแบบทดสอบสำเร็จ','mainTopics','\x5cge','กรุณาเลือกโปรเจคที่ต้องการบันทึก','timer-duration-input','modal-timer-mode-select','questionId','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.sortable-header','Error\x20clearing\x20all\x20links:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-gray-300','[data-field=\x22subTopic\x22]','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','getTime','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lesson-plan-modal','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x5cfrac{$1}{$2}','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','wasJinxed','parallelTestShortcutsConfig','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','จำนวนคละ','#000000','</strong></p>','ผ่าน','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22][value=\x22','ระบบอสมการ','add-shortcut-btn','</div>','กรุณาวาง\x20URL\x20ของบทความก่อน','fa-crown\x20text-yellow-500','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(เลือกแล้ว\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','fill_in_with_choices','/public/data/quizzes/','isDefault','default-1','answered','<tr\x20class=\x22','reference_onet.pdf','lesson-view-modal','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>',')</span></div>','message','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','text-yellow-300','click','Error\x20calculating\x20final\x20scores:','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','unshift','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','message-modal','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','lineWidth','answers','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','mousemove','\x5csum','student-initial-view','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keys','กฎบวกและกฎคูณ','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','Error\x20rendering\x20student\x20progress:','1000px','project-title','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-400','#ffffff','pathname','custom-math-topic-input','AI\x20Formula\x20Fix\x20Error:','Export\x20Image\x20Error:','then','selectMathOption','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','เพิ่ม\x20','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','back-to-dashboard-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','สอบซ่อม','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','powerups','generate-from-topic-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-rename-quiz-btn','บันทึกการแก้ไข','.buy-item-btn','referenceUrl','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','offsetWidth','Save\x20complete\x20(Optimized\x20Read)','sync-timer-countdown','Failed\x20to\x20generate\x20practice\x20test:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','textarea[name=\x22team_answer\x22]','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationHTML','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','update-old-quizzes-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','สรุปผลสุดท้าย','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','parallel-test-tab','พาราโบลา','md:col-span-1','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x22...','แบบทดสอบนี้หมดเวลาแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','quiz-results-view','การบวกทศนิยม','blueprint-projects-modal','appendChild','ยอดเยี่ยม!','กำลังสร้างรูปภาพ...','insertAdjacentHTML','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','.delete-shortcut-tab-btn','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/questionBank','countdown-display','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','bestScore','thead','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','Error\x20pairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','player-list-lobby','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','Error\x20saving\x20shortcut\x20config:','เปิด\x20(จับเวลา)','modal-confidence-mode-container','members','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','border-green-300\x20bg-green-50','standardTopic','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','cancel-quiz-edits-btn-footer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','arrayBuffer','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','name_desc','สถิติและความน่าจะเป็น','\x22\x20name=\x22team_answer\x22\x20value=\x22','ตรีโกณมิติ','tan','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','substr','ฟังก์ชันค่าสัมบูรณ์','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20end\x20group\x20mode\x20game:','<option\x20value=\x22\x22>กำลังโหลด...</option>','match','จอมเวทย์ขนมหวาน','style','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','code','Error\x20saving\x20lesson\x20to\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','black-market-modal','file-shortcut-editor-modal','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','มุมพิเศษ\x2030°-60°-90°','reveal_at_end','project-id-display','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','NEGATIVE_INFINITY','ondragend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','แก้ไขปุ่มลัดจากไฟล์','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','เลือกและเริ่มสร้าง','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<button\x20id=\x22open-market-btn\x22\x20class=\x22','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','separate-by-content-checkbox','schedule','\x22\x20ให้เป็นคำถามประเภท\x20\x22','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax\x20re-render\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','createObjectURL','.bp-present-btn','\x22\x20id=\x22input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','ยกเลิกการจับคู่สำเร็จ','-options','/public/data/projects/','</body></html>','Error\x20toggling\x20star\x20status:','.delete-parallel-shortcut-tab-btn','หน่วยเวลาและการคำนวณเวลา','gameData','AI\x20กำลังสแกนข้อความ...','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','fullscreenElement','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','results-tab-content','.edit-question-btn','2-digit','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','student-team-selection-view','top','right','.ai-content\x20td','\x20(สำหรับ\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','next-drill-btn','<br>','<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','value','quiz-type-select','handleGenerateQuizFromBlueprintTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','left','leaderboard-tab','เน็ตช้า','leaderboard-tab-content','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','sync-player-management','ดอกเบี้ยทบต้น','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beginPath','#E5E7EB','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','รากที่สองและที่สาม','ฟังก์ชันกำลังสองและกราฟ','bg-red-500\x20text-white\x20font-bold','user','file-shortcut-modal-title','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#FEF3C7','ต้นฉบับทั้งหมด','.quiz-bank-settings-btn','Error\x20saving\x20game\x20results:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','🎓\x20','การบวก','fa-user-astronaut\x20text-blue-700','พื้นที่ผิวรูปทรงสามมิติ','แก้ไขข้อนี้','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','.export-pdf-list-btn','buyTime','hasPerfectScoreBonus','Error\x20deleting\x20all\x20students:','</p><div>','scale-125','text-green-700','highlighter-size-slider','(ฉบับง่าย)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20','สลับไปโหมดผู้ควบคุม','save','<tr><td\x20colspan=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.scratchpad-content-wrapper','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','open-sync-scratchpad-btn','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parentElement','กรุณาเลือกโปรเจคปลายทาง','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','ไม่มีผู้ตอบตัวเลือกนี้','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','bulk-quiz-settings-modal','scratchpad-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x20คะแนน</span></div>','instantWager','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมูกระทะจะเยียวยาทุกสิ่ง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','open-quiz-bank-btn','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','textContent','modal-close-btn','delete-svg-btn','.ideal-answer-input','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','highlighter','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','ไอติมทอด','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','.generate-content-btn','การลบเศษส่วน','tab_','พิมพ์ตอบ','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','times','topic-bank-list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-game-start-btn','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','กำลังกลับเข้าสู่เกม\x20','close-lesson-view-btn','teacherSuggestions','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','ข้อต่อไป','msRequestFullscreen','cancel-shortcut-edit-btn','เต่าสายฟ้า','correctStreak','text-gray-300\x20hover:text-white','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตลาดมืด\x20(0\x20P)','พื้นที่สี่เหลี่ยม','blueprint-shortcut-container','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.application-options\x20button','function','/players','.regenerate-question-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','badges','โหลดนาน','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','_new','.ai-fix-formula-btn','.color-palette-popup','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-status-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','href','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><button\x20data-player-name=\x22','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','clearRect','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','.group\x5c/dropdown-file','focus','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','div','application/json','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','perfect_score_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ความคล้ายของรูป','url','Error\x20deleting\x20topic:','close-comparison-modal-footer-btn','answer-counter','sara','text/csv;charset=utf-8;','Error\x20loading\x20blueprint\x20projects:','กุ้งเต้นแร้งกา','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','Error\x20deleting\x20submission:','\x20จุดเรียบร้อยแล้ว','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leq','\x22\x20data-index=\x22','ส่วนเบี่ยงเบนเฉลี่ย','blueprint.pdf','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','highlighter-tool-btn','bulk-quiz-settings-btn','push','confirm-rename-quiz-btn','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์ไม่จำกัด','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','filter','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#D1FAE5','Error\x20generating\x20easy\x20version\x20quiz:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','date_asc','สถานะไม่ชัดเจน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','สู้ๆ\x20ลองอีกครั้งนะ','screen','parallel-default-1','source-over','การนับ','หลังเรียน','.pin-digit-box','\x20P)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','forEach','อัปเดตพฤติกรรมสำหรับ\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-gray-400\x20hover:text-indigo-600','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','competition','quadraticCurveTo','กรุณาเลือกคำตอบของกลุ่ม','ตัวเลือก\x20ค','???','บันทึกแบบทดสอบสำเร็จแล้ว!','input[name=\x22syncVariant\x22][value=\x22','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ก่อนเรียน','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','Error\x20displaying\x20blueprint\x20project:','transition','อนุพันธ์:\x20ผลคูณ/ผลหาร','อัตราและอัตราหน่วย','workerSrc','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','qIndex','ลบโปรเจคสำเร็จแล้ว','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-shortcuts-list','Failed\x20to\x20get\x20hint:','project-search-input','#view-rankings-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20group\x20answer:','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20parallel\x20shortcut\x20config:','border-indigo-500\x20text-indigo-600','clientY','execCommand','request','$1\x5c%','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','.delete-bp-project-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','parseFromString','ปลาทูคะนอง','กำลังวิเคราะห์หัวข้อ...','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x22\x20value=\x22','curriculum','generate-worksheet-btn','/lessons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x22\x20name=\x22question','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','blueprintUrl','bg-green-200\x20text-green-900\x20font-bold','modal-adaptive-quiz-checkbox','Error\x20saving\x20file\x20shortcut:','bg-blue-500\x20hover:bg-blue-600\x20text-white','now','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','</p>','ไม่ได้ตอบ','เกิดข้อผิดพลาดในการบันทึก','pinnedProjects','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','standard','smooth','endTime','trim','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','practiceProblems','Error\x20verifying\x20answers:','imageCode','element','line-through\x20text-red-700','เกิดข้อผิดพลาดในการส่งคำตอบ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','per-question-options','blueprint-settings-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','file-topics-list-container','\x20pointer-events-none\x22>','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','fileShortcutOrder','isBlackMarketEnabled','border-red-300\x20bg-red-50','AI\x20grading\x20failed:','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','bg-red-700\x20text-white\x20font-bold','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','adaptive-quiz-checkbox','เริ่มกิจกรรม:\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','(ไม่มีชื่อ)','parallel-shortcuts-loading-msg','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-try-btn',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','Error\x20committing\x20score\x20updates:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','resize','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รายงานผลคะแนน','file.pdf','typesetPromise','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','added','กฎของไซน์','ปิดใช้งาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','class','student-progress','กรุณาใส่ชื่อใหม่','.quiz-bank-item','newOptionsPayload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','players.','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','fileShortcutsConfig','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','confirm-not-confident','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','cancel-bp-settings-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','.edit-file-shortcut-btn','นักประดิษฐ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.eraser-size-btn','delete','กำลังสร้างบทเรียน:\x20','qType','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','global-quiz-search-input','not_generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','blueprint-tab','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','text-blue-800','[data-topic-id]','(ไม่ตอบ)','MathJax\x20typeset\x20error\x20(analytics):','เรขาคณิตวิเคราะห์','attempts','wakeLock','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','#FFFFFF','มือปราบสายรุ้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','transform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','ปล่อยพลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ON\x20FIRE!\x20คะแนน\x20x2</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','result','.start-presentation-list-btn','wager-slider','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','wasForced','playerName','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','topics','desc','onchange','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','สำหรับโปรเจค:\x20','no-projects-msg','point','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','correct','Error\x20deleting\x20student:','ค่าสัมบูรณ์','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','select-all-topics-btn','.delete-shortcut-btn','parallel-default-2','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','interesting-stats-container','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','ศิลปิน','คำอธิบาย...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','goto-next-question-btn','กิจกรรมสิ้นสุดลงแล้ว','Error\x20saving\x20user\x20preference:','หัวข้อที่สร้างเอง','contentEditable','confidence_single','presentation-modal','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.edit-hidden-file-shortcut-btn','ช่างภาพ','earned-badges-container','toDate','linkedQuizIds','interesting-stats-wrapper','ไม่พบข้อมูลผู้ใช้','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','pre-test-checkbox','quiz-id-input','OBJECT','short_answer','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','เกิดข้อผิดพลาดในการใช้ไอเทม',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','<div\x20class=\x22p-2\x20rounded-md\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','bp-add-topic-btn','คะแนนเต็ม!','ดีมาก','ไม่พบโปรเจคที่ต้องการลบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','open-market-btn','ม้าดีดกะโหลก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','shortcut-editor-modal','.use-hidden-parallel-shortcut-btn','.verification-result','max','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาป้อนรหัสแบบทดสอบ','\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','totalQuestions','ฮิสโตแกรม','num-choices','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','scrollY','comparison-individual-content','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x20ใหม่...','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x22\x20class=\x22pin-project-btn\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','border-gray-300','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','สิงโตยิ้ม','includeImages','confidence-scoring-description','Error\x20unpairing\x20quizzes:','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','รายการนี้','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scan-text-image-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topic-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','ชาไข่มุก','pointerup','.csv','quizType','ไม่สามารถโหลดรายการโปรเจคได้','<tr>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','\x20/\x20','</li>','quiz-results','width\x2060s\x20linear','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','bp-modal-difficulty-level-select','ออฟฟิศซินโดรม','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','closePath','list','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','min','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-600','bg-yellow-300\x20text-yellow-900\x20font-bold','blueprint-input-area','confirm-move-quiz-btn','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','\x20ตัวเลือก.\x20','password-error-msg','file-shortcut_',':</span><span>','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','promptFeedback','(พยายามอยู่)','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','ใช่','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กัปตัน','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','pen-tools-group','สามเหลี่ยม\x20(ชนิด/สมบัติ)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','isPasscodeEnabled','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พื้นที่ใต้กราฟ/ระหว่างกราฟ','text-gray-700','visible','blueprint-project-manager-view','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','lineCap','text-green-600\x20font-bold','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','hidden','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x5ctimes','scratchpad-options','.linkedQuizIds','PERSEVERANCE','เน็ตไอดอล','isLooping','cancel-crop-btn','latestScore','```json','\x22\x20class=\x22color-palette-btn\x20','worksheet-tab','confirm-manual-bp-btn','.bp-live-btn','close-lesson-plan-modal-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข',')\x22>','loop-until-pass-checkbox','classic','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','pointerdown','ร้อยละพื้นฐาน','sine','confidence-modal','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฐานนิยม','market-item-list','promise','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-try-btn','Saving\x20game\x20results\x20(Optimized)...',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20sync\x20game:','sync-manage-players-btn','getElementsByTagName','\x22><span\x20style=\x22','กรุณาเลือกคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','sync-submit-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','cancel-wager-btn','#26890c','shortcutId','👁️\x20เผยตัวเลือก','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','rows','normal','verify-answers-editor-btn','สมการราก\x20(radical)'];_0x21f8=function(){return _0x2eb9d8;};return _0x21f8();}async function generateRemedialQuiz(_0x19fdd2){const _0x47719f=_0x5319e2;studentReadingArea[_0x47719f(0xa19)]=_0x47719f(0xc5b);const _0xee898e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19fdd2+_0x47719f(0xc86)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x24c43c={'type':'OBJECT','properties':{'questionText':{'type':_0x47719f(0x69c)},'options':{'type':_0x47719f(0x433),'items':{'type':_0x47719f(0x69c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x47719f(0x69c)}},'required':[_0x47719f(0x14e),_0x47719f(0x4ff),_0x47719f(0x9be),'explanation']},_0x4d3da5={'type':_0x47719f(0xce9),'properties':{'topic':{'type':_0x47719f(0x69c)},'questions':{'type':'ARRAY','items':_0x24c43c}},'required':[_0x47719f(0x9ec),_0x47719f(0x521)]};try{const _0x49e7ff=await callAnalysisApi(_0xee898e,_0x4d3da5);_0x49e7ff[_0x47719f(0x1da)]=!![],studentReadingArea[_0x47719f(0x3d9)]['add']('hidden');const _0x23bf7f={...currentDisplayedQuiz[_0x47719f(0x531)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x49e7ff[_0x47719f(0x531)]=_0x23bf7f,displayQuizForStudent(_0x49e7ff);}catch(_0x2e101d){console[_0x47719f(0x3f8)](_0x47719f(0x9cd),_0x2e101d),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x52900f,_0x351617){const _0x2613cf=_0x5319e2,_0x1e3d4a=currentDisplayedQuiz[_0x2613cf(0x531)]?.[_0x2613cf(0xe4b)]??-0x1,_0x108e8e=currentDisplayedQuiz[_0x2613cf(0x1da)]===!![];let _0x5ed1a7='',_0x535cb1=![];if(_0x108e8e||_0x1e3d4a!==-0x1){_0x535cb1=_0x108e8e?_0x52900f===_0x351617:_0x52900f>=_0x1e3d4a;const _0x20a7fc=_0x535cb1?_0x2613cf(0x545):_0x2613cf(0x90b),_0x2227e4=_0x535cb1?_0x2613cf(0xa55):_0x2613cf(0x5d9);_0x5ed1a7=_0x2613cf(0xc95)+_0x20a7fc+'\x22>'+_0x2227e4+_0x2613cf(0x662);}else _0x5ed1a7=_0x2613cf(0x992);let _0x5786d7=_0x2613cf(0x127)+currentStudentName+_0x2613cf(0xb75)+_0x5ed1a7+_0x2613cf(0x567);studentResultArea[_0x2613cf(0xa19)]=_0x5786d7,studentResultArea[_0x2613cf(0x3d9)][_0x2613cf(0xb00)]('hidden'),studentQuizArea[_0x2613cf(0x3d9)][_0x2613cf(0x831)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x535cb1});}function cancelAdminTest(){const _0x56b25d=_0x5319e2;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x56b25d(0x508),handleFullscreenChange),document[_0x56b25d(0x60a)](_0x56b25d(0x903),handleVisibilityChange),currentMode=_0x56b25d(0x219),studentView[_0x56b25d(0x3d9)][_0x56b25d(0x831)](_0x56b25d(0xd60)),adminView[_0x56b25d(0x3d9)]['remove'](_0x56b25d(0xd60)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x56b25d(0x356));}function setupResultScreenBackButton(_0x40986a){const _0x55482f=_0x5319e2,_0x24aec2={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x40986a};if(_0x24aec2[_0x55482f(0xd69)]){const _0x102463=_0x55482f(0xc99);studentResultArea['insertAdjacentHTML'](_0x55482f(0x1c3),_0x102463),document['getElementById'](_0x55482f(0x5ff))[_0x55482f(0x49d)](_0x55482f(0xa6e),()=>{const _0x3032cd=_0x55482f;studentResultArea[_0x3032cd(0x3d9)]['add'](_0x3032cd(0xd60)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x593b00=_0x55482f(0xde8),_0x151650=currentMode==='admin-testing',_0xbae6b3=_0x151650?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x55482f(0x805);let _0x20eac6='';_0x24aec2[_0x55482f(0xdf8)]&&(_0x20eac6+=_0x55482f(0x181));let _0x5ca78d=_0x24aec2['showImproveButton'];_0x5ca78d===undefined&&(_0x5ca78d=_0x24aec2[_0x55482f(0x473)]<_0x24aec2[_0x55482f(0xd05)]);_0x5ca78d&&(_0x20eac6+=_0x55482f(0x160));_0x20eac6+=_0x55482f(0xe8d)+_0x593b00+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0xbae6b3+_0x55482f(0x59a);const _0x469cc9='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x20eac6+_0x55482f(0xa5a);studentResultArea[_0x55482f(0xabb)](_0x55482f(0x1c3),_0x469cc9),studentResultArea[_0x55482f(0x86d)](_0x55482f(0xc15))?.[_0x55482f(0x49d)](_0x55482f(0xa6e),handleShowStudentRankings);const _0x3c3573=studentResultArea[_0x55482f(0x86d)]('#retake-for-improvement-btn');_0x3c3573&&_0x3c3573[_0x55482f(0x49d)](_0x55482f(0xa6e),()=>{const _0x4b86d2=_0x55482f;studentResultArea[_0x4b86d2(0x3d9)][_0x4b86d2(0x831)](_0x4b86d2(0xd60)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x55482f(0x6e6)](_0x593b00)[_0x55482f(0x49d)](_0x55482f(0xa6e),()=>{const _0x288b78=_0x55482f;_0x151650?(currentMode='admin',studentView['classList']['add'](_0x288b78(0xd60)),adminView['classList'][_0x288b78(0xb00)](_0x288b78(0xd60)),showView(_0x288b78(0x356))):(showView('student'),document[_0x288b78(0x6e6)]('quiz-id-input')[_0x288b78(0xb2d)]='');});}function displayResultsWithAnswers(_0x5b02d2,_0x8ff5f3,_0x1d6a10,_0x720e9c,_0x45832f,_0x457e82=![]){const _0x5ccf89=_0x5319e2,_0x42efa3=_0x45832f>0x0?_0x5b02d2/_0x45832f*0x64:0x0,_0x1f07f8=currentDisplayedQuiz[_0x5ccf89(0x531)]?.[_0x5ccf89(0xe4b)]??-0x1,_0x30ee21=currentDisplayedQuiz[_0x5ccf89(0x1da)]===!![];let _0x5787a7='';if(_0x30ee21||_0x1f07f8!==-0x1){let _0xe4e03d=_0x30ee21?_0x5b02d2===_0x45832f:_0x5b02d2>=_0x1f07f8;const _0x34a68d=_0xe4e03d?_0x5ccf89(0x545):'bg-red-100\x20text-red-800',_0x26730e=_0xe4e03d?_0x5ccf89(0xa55):_0x5ccf89(0x5d9);_0x5787a7=_0x5ccf89(0x912)+_0x34a68d+'\x22>'+_0x26730e+'</p>';}let _0x342410=_0x5ccf89(0x789)+currentStudentName+_0x5ccf89(0xa05)+_0x5b02d2+_0x5ccf89(0x39a)+_0x45832f+_0x5ccf89(0x873)+_0x5787a7+_0x5ccf89(0xc87)+_0x8ff5f3+_0x5ccf89(0x175)+_0x42efa3['toFixed'](0x0)+_0x5ccf89(0xd0d);currentDisplayedQuiz[_0x5ccf89(0x521)][_0x5ccf89(0xbf2)]((_0x17acee,_0x37a05c)=>{const _0x28402a=_0x5ccf89,_0x5bca4f=_0x720e9c[_0x37a05c],_0x36aaf0=_0x5bca4f[_0x28402a(0x4b0)],_0x592009=_0x5bca4f[_0x28402a(0x1a1)],_0x4419de=_0x17acee[_0x28402a(0x823)]||currentDisplayedQuiz[_0x28402a(0xd29)];_0x342410+=_0x28402a(0x9e7)+(_0x592009?_0x28402a(0xad0):_0x28402a(0xc56))+_0x28402a(0x845)+(_0x37a05c+0x1)+'.\x20'+(_0x17acee['stem']||_0x17acee['questionText'])+_0x28402a(0x17e);switch(_0x4419de){case _0x28402a(0x1f6):const _0x5d5f28=_0x36aaf0||_0x28402a(0xc38),_0xebe54b=_0x17acee[_0x28402a(0x5d8)];_0x342410+=_0x28402a(0xdd0)+(!_0x592009?_0x28402a(0xc46):'')+'\x22>'+_0x5d5f28+_0x28402a(0x6ac);!_0x592009&&(_0x342410+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0xebe54b+_0x28402a(0xc37));break;case _0x28402a(0x603):case _0x28402a(0xcea):_0x342410+=_0x28402a(0xb5e)+(_0x36aaf0||'ไม่ได้ตอบ')+'</p>',_0x342410+=_0x28402a(0x46b)+_0x17acee[_0x28402a(0x2fc)]+'</p>';break;case'true_false':_0x342410+='<p\x20class=\x22'+(_0x17acee[_0x28402a(0x8aa)]===!![]?_0x28402a(0xda7):'')+'\x20'+(_0x36aaf0==='true'&&!_0x592009?_0x28402a(0xc46):'')+_0x28402a(0x2c1),_0x342410+=_0x28402a(0x17a)+(_0x17acee['correctAnswer']===![]?_0x28402a(0xda7):'')+'\x20'+(_0x36aaf0==='false'&&!_0x592009?_0x28402a(0xc46):'')+'\x22>ไม่ใช่</p>';break;case _0x28402a(0x2d2):case _0x28402a(0xa61):default:if(_0x17acee['options']&&Array['isArray'](_0x17acee[_0x28402a(0x4ff)]))_0x342410+=_0x17acee['options'][_0x28402a(0x23a)]((_0x3abf50,_0x2df585)=>{const _0x314d87=_0x28402a;let _0x5b2e5b='',_0x5b82f4='';if(_0x2df585===_0x17acee[_0x314d87(0x9be)])_0x5b2e5b=_0x314d87(0xda7),_0x5b82f4=_0x314d87(0x343);else _0x2df585===_0x36aaf0&&(_0x5b2e5b='font-bold\x20text-red-700\x20line-through',_0x5b82f4=_0x314d87(0x291));return'<div\x20class=\x22'+_0x5b2e5b+'\x22>'+_0x5b82f4+_0x3abf50+'</div>';})[_0x28402a(0x975)]('');else{_0x342410+=_0x28402a(0xb5e)+(_0x36aaf0||_0x28402a(0xc38))+_0x28402a(0xc37);if(!_0x592009)_0x342410+=_0x28402a(0xa46);}break;}_0x342410+=_0x28402a(0x5a0)+(_0x17acee[_0x28402a(0x579)]||'ไม่มีคำอธิบาย')+_0x28402a(0xa5a);if(!_0x592009){const _0x18a1e2=_0x17acee['stem']||_0x17acee[_0x28402a(0x14e)];_0x342410+=_0x28402a(0x5db)+escape(_0x18a1e2)+_0x28402a(0x988);}_0x342410+=_0x28402a(0xa5a);}),studentResultArea[_0x5ccf89(0xa19)]=_0x342410,renderEarnedBadges(_0x1d6a10,_0x5ccf89(0xce0)),studentResultArea['classList'][_0x5ccf89(0xb00)](_0x5ccf89(0xd60)),studentQuizArea[_0x5ccf89(0x3d9)]['add'](_0x5ccf89(0xd60)),setupResultScreenBackButton({'isLooping':_0x457e82,'score':_0x5b02d2,'totalQuestions':_0x45832f,'showRankings':!![]});if(window[_0x5ccf89(0x19c)])window['MathJax'][_0x5ccf89(0xc6e)]([studentResultArea]);}function displayResultsScoreOnly(_0x45a0a9,_0x35e321,_0x48f4e2,_0x1c405f){const _0x175dbf=_0x5319e2,_0x5d5ca3=_0x1c405f>0x0?_0x45a0a9/_0x1c405f*0x64:0x0,_0xdb986=currentDisplayedQuiz[_0x175dbf(0x531)]?.['passingScore']??-0x1,_0x1b219b=currentDisplayedQuiz[_0x175dbf(0x1da)]===!![];let _0x4392bb='';if(_0x1b219b||_0xdb986!==-0x1){let _0x28a112=_0x1b219b?_0x45a0a9===_0x1c405f:_0x45a0a9>=_0xdb986;const _0x4d0039=_0x28a112?_0x175dbf(0x545):_0x175dbf(0x90b),_0x165cbc=_0x28a112?'ผ่าน':_0x175dbf(0x5d9);_0x4392bb=_0x175dbf(0x912)+_0x4d0039+'\x22>'+_0x165cbc+_0x175dbf(0xc37);}let _0x47c932=_0x175dbf(0x127)+currentStudentName+_0x175dbf(0x1cf)+_0x45a0a9+_0x175dbf(0x667)+_0x1c405f+_0x175dbf(0x873)+_0x4392bb+_0x175dbf(0xc87)+_0x35e321+_0x175dbf(0x72f)+_0x5d5ca3[_0x175dbf(0x8ba)](0x0)+_0x175dbf(0xcc8);studentResultArea[_0x175dbf(0xa19)]=_0x47c932,renderEarnedBadges(_0x48f4e2,_0x175dbf(0xce0)),studentResultArea['classList'][_0x175dbf(0xb00)]('hidden'),studentQuizArea['classList'][_0x175dbf(0x831)]('hidden'),setupResultScreenBackButton({'score':_0x45a0a9,'totalQuestions':_0x1c405f,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x73e7e=_0x5319e2;let _0x163cd4=_0x73e7e(0xe2a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x163cd4,studentResultArea[_0x73e7e(0x3d9)][_0x73e7e(0xb00)](_0x73e7e(0xd60)),studentQuizArea[_0x73e7e(0x3d9)][_0x73e7e(0x831)](_0x73e7e(0xd60)),document[_0x73e7e(0x6e6)](_0x73e7e(0x5dd))[_0x73e7e(0x49d)](_0x73e7e(0xa6e),()=>{const _0x3a0fc2=_0x73e7e;showView(_0x3a0fc2(0x6ca)),document['getElementById'](_0x3a0fc2(0xce8))[_0x3a0fc2(0xb2d)]='';});}function renderEarnedBadges(_0xe0e2c6,_0x30a7d5){const _0x4b1716=_0x5319e2,_0x47de91=document[_0x4b1716(0x6e6)](_0x30a7d5);if(!_0x47de91||!_0xe0e2c6||_0xe0e2c6[_0x4b1716(0x4f1)]===0x0)return;let _0x470201='';_0xe0e2c6[_0x4b1716(0xbf2)]((_0x52b07a,_0x560c31)=>{const _0x50945b=_0x4b1716,_0x29cce2=Object['values'](BADGES)[_0x50945b(0x8af)](_0x43af69=>_0x43af69['id']===_0x52b07a);_0x29cce2&&(_0x470201+=_0x50945b(0x7f9)+_0x560c31*0.2+_0x50945b(0x4ed)+_0x29cce2[_0x50945b(0x6d1)]+_0x50945b(0x9a4)+_0x29cce2[_0x50945b(0x398)]+_0x50945b(0xdeb)+_0x29cce2[_0x50945b(0x1dc)]+_0x50945b(0x9bc));}),_0x47de91['innerHTML']=_0x470201;}function startPresentation(_0x40b928){const _0x2925d5=_0x5319e2;currentQuizData=getShuffledQuiz(_0x40b928),currentPresentationSlide=0x0,presentationModal[_0x2925d5(0xaed)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0xc43c05=_0x5319e2;document[_0xc43c05(0xb1e)]&&document[_0xc43c05(0x7bc)](),presentationModal[_0xc43c05(0xaed)][_0xc43c05(0x91a)]=_0xc43c05(0x877);}function renderPresentationSlide(_0x9f4ca4){const _0x388a9e=_0x5319e2,_0x5abb08=document[_0x388a9e(0x6e6)](_0x388a9e(0x7bb));if(!currentQuizData||!currentQuizData[_0x388a9e(0x521)]||!currentQuizData[_0x388a9e(0x521)][_0x9f4ca4]){_0x5abb08[_0x388a9e(0xa19)]=_0x388a9e(0x82a);return;}const _0x50507e=currentQuizData[_0x388a9e(0x521)][_0x9f4ca4],_0x4fc6c3=_0x50507e['questionType']||currentQuizData[_0x388a9e(0xd29)];_0x5abb08['innerHTML']='';let _0xa717a6=_0x388a9e(0x11b)+(_0x50507e[_0x388a9e(0xc44)]?_0x388a9e(0xda6)+_0x50507e[_0x388a9e(0xc44)]+_0x388a9e(0xa5a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x9f4ca4+0x1)+'.\x20'+(_0x50507e['stem']||_0x50507e['questionText'])+_0x388a9e(0x595);switch(_0x4fc6c3){case _0x388a9e(0x1f6):_0xa717a6+=_0x50507e[_0x388a9e(0x307)]['map'](_0x23cb2c=>_0x388a9e(0x452)+_0x23cb2c+_0x388a9e(0x36a))[_0x388a9e(0x975)]('');break;case _0x388a9e(0x1cc):_0xa717a6+=_0x388a9e(0x81f),_0xa717a6+=_0x388a9e(0x3c0);break;case _0x388a9e(0x603):case _0x388a9e(0xcea):_0xa717a6+=_0x388a9e(0x58c);break;case _0x388a9e(0x2fd):case _0x388a9e(0x2d2):default:_0xa717a6+=_0x50507e['options'][_0x388a9e(0x23a)]((_0x20c4fe,_0x2e2c92)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x2e2c92+_0x388a9e(0x539)+_0x20c4fe+_0x388a9e(0x36a))['join']('');break;}_0xa717a6+=_0x388a9e(0xadb)+(_0x50507e['explanation']||_0x388a9e(0xe3b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5abb08[_0x388a9e(0xa19)]=_0xa717a6;if(window[_0x388a9e(0x19c)])window[_0x388a9e(0x19c)][_0x388a9e(0xc6e)]([_0x5abb08]);let _0x520c7d=[];switch(_0x4fc6c3){case _0x388a9e(0x1f6):_0x520c7d=_0x50507e['allResponses']||[];break;case _0x388a9e(0x1cc):_0x520c7d=[_0x388a9e(0xd4a),_0x388a9e(0x51e)];break;default:_0x520c7d=_0x50507e[_0x388a9e(0x4ff)]||[];break;}const _0x5a1f3f=document[_0x388a9e(0x6e6)](_0x388a9e(0x59c));_0x5a1f3f&&(_0x5a1f3f[_0x388a9e(0x4aa)]=()=>{openScratchpad(_0x50507e,_0x520c7d);});document['querySelectorAll'](_0x388a9e(0x173))[_0x388a9e(0xbf2)](_0x247ed0=>{const _0x3fe4aa=_0x388a9e;_0x247ed0[_0x3fe4aa(0x49d)](_0x3fe4aa(0xa6e),_0x1d9401=>revealAnswerForPresentation(_0x9f4ca4,_0x1d9401[_0x3fe4aa(0x453)]));});const _0x5a63db=document['getElementById'](_0x388a9e(0x310));_0x5a63db&&_0x5a63db[_0x388a9e(0x49d)](_0x388a9e(0xa6e),()=>checkShortAnswerForPresentation(_0x9f4ca4)),document[_0x388a9e(0x6e6)](_0x388a9e(0xdf0))[_0x388a9e(0xb7b)]='ข้อที่\x20'+(_0x9f4ca4+0x1)+_0x388a9e(0xd2d)+currentQuizData[_0x388a9e(0x521)]['length'],document[_0x388a9e(0x6e6)](_0x388a9e(0x653))[_0x388a9e(0xe9a)]=_0x9f4ca4===0x0,document['getElementById'](_0x388a9e(0x79d))['disabled']=_0x9f4ca4===currentQuizData[_0x388a9e(0x521)][_0x388a9e(0x4f1)]-0x1;}async function checkShortAnswerForPresentation(_0x588cc8){const _0x40dc73=_0x5319e2,_0x59c39f=currentQuizData[_0x40dc73(0x521)][_0x588cc8],_0x386345=document[_0x40dc73(0x6e6)](_0x40dc73(0x113)),_0x52c923=document[_0x40dc73(0x6e6)](_0x40dc73(0x310)),_0x4a973c=document[_0x40dc73(0x6e6)]('presentation-ai-result'),_0x5a21b8=document[_0x40dc73(0x6e6)](_0x40dc73(0x3a7));if(!_0x386345||!_0x52c923||!_0x4a973c||!_0x5a21b8)return;const _0xa3c1d3=_0x386345[_0x40dc73(0xb2d)][_0x40dc73(0xc3f)]();if(_0xa3c1d3==='')return;_0x52c923[_0x40dc73(0xe9a)]=!![],_0x52c923['innerHTML']=_0x40dc73(0x32b),_0x386345[_0x40dc73(0xe9a)]=!![];const _0x102e1d=await gradeShortAnswer(_0xa3c1d3,_0x59c39f);_0x102e1d?_0x4a973c[_0x40dc73(0xa19)]=_0x40dc73(0xe23):_0x4a973c[_0x40dc73(0xa19)]=_0x40dc73(0x1b2)+_0x59c39f['idealAnswer']+')',_0x4a973c[_0x40dc73(0x3d9)][_0x40dc73(0xb00)](_0x40dc73(0xd60)),_0x5a21b8[_0x40dc73(0x3d9)][_0x40dc73(0xb00)]('hidden'),_0x52c923['classList']['add'](_0x40dc73(0xd60));}function revealAnswerForPresentation(_0x3abe90,_0x253ab1){const _0x1ec730=_0x5319e2,_0x2434f2=currentQuizData[_0x1ec730(0x521)][_0x3abe90],_0xff93fe=_0x2434f2[_0x1ec730(0x823)]||currentQuizData[_0x1ec730(0xd29)];document[_0x1ec730(0x2c3)](_0x1ec730(0x173))[_0x1ec730(0xbf2)](_0x4b39e4=>{const _0x54f281=_0x1ec730;_0x4b39e4[_0x54f281(0xe9a)]=!![],_0x4b39e4['classList'][_0x54f281(0xb00)](_0x54f281(0x8e1));let _0x3bd202=![];if(_0xff93fe==='multiple_choice'||_0xff93fe===_0x54f281(0x2fd)){const _0x2ff504=parseInt(_0x4b39e4[_0x54f281(0x9ff)][_0x54f281(0x9c6)]);_0x3bd202=_0x2ff504===_0x2434f2[_0x54f281(0x9be)];}else{if(_0xff93fe===_0x54f281(0x1cc)){const _0x2eca17=_0x4b39e4[_0x54f281(0x9ff)]['answer']===_0x54f281(0x92c);_0x3bd202=_0x2eca17===_0x2434f2[_0x54f281(0x8aa)];}else _0xff93fe==='matching_item'&&(_0x3bd202=_0x4b39e4['textContent'][_0x54f281(0xc3f)]()===_0x2434f2[_0x54f281(0x5d8)]);}_0x3bd202?_0x4b39e4[_0x54f281(0x3d9)][_0x54f281(0x831)](_0x54f281(0x84f),_0x54f281(0x95a),_0x54f281(0x3bc)):_0x4b39e4[_0x54f281(0x3d9)][_0x54f281(0x831)]('opacity-50');}),_0x253ab1[_0x1ec730(0x3d9)][_0x1ec730(0xb00)](_0x1ec730(0xc9b));let _0x3a070f=![];if(_0xff93fe===_0x1ec730(0x2d2))_0x3a070f=parseInt(_0x253ab1[_0x1ec730(0x9ff)][_0x1ec730(0x9c6)])===_0x2434f2[_0x1ec730(0x9be)];else{if(_0xff93fe==='true_false')_0x3a070f=_0x253ab1[_0x1ec730(0x9ff)]['answer']===_0x1ec730(0x92c)===_0x2434f2[_0x1ec730(0x8aa)];else _0xff93fe==='matching_item'&&(_0x3a070f=_0x253ab1[_0x1ec730(0xb7b)]['trim']()===_0x2434f2[_0x1ec730(0x5d8)]);}!_0x3a070f&&_0x253ab1[_0x1ec730(0x3d9)]['add'](_0x1ec730(0x518),_0x1ec730(0x95a),'border-red-700'),document[_0x1ec730(0x6e6)]('presentation-explanation')[_0x1ec730(0x3d9)][_0x1ec730(0xb00)]('hidden');}function startWholeQuizTimer(_0x2fe153){const _0x166a96=_0x5319e2,_0x181d02=document['getElementById'](_0x166a96(0x9a8));if(!_0x181d02)return;const _0xc246cb=Date['now']()+_0x2fe153*0x3c*0x3e8;_0x181d02[_0x166a96(0xa19)]=_0x166a96(0xe67);const _0x2b3647=document[_0x166a96(0x6e6)](_0x166a96(0xac1));quizTimerInterval=setInterval(()=>{const _0x259664=_0x166a96,_0x58ebff=_0xc246cb-Date[_0x259664(0xc35)]();if(_0x58ebff<=0x0)clearInterval(quizTimerInterval),_0x2b3647[_0x259664(0xb7b)]=_0x259664(0x419),showMessage(_0x259664(0xc5c)),handleSubmitQuiz(null);else{const _0xc2dfbc=Math[_0x259664(0x5d2)](_0x58ebff/0x3e8/0x3c%0x3c)[_0x259664(0xdd7)]()[_0x259664(0x80c)](0x2,'0'),_0x51fd76=Math[_0x259664(0x5d2)](_0x58ebff/0x3e8%0x3c)[_0x259664(0xdd7)]()[_0x259664(0x80c)](0x2,'0');_0x2b3647['textContent']=_0xc2dfbc+':'+_0x51fd76;}},0x3e8);}function renderPerQuestionView(){const _0x21523c=_0x5319e2;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4b1fb4=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x2edae8=_0x4b1fb4[_0x21523c(0x823)]||currentDisplayedQuiz[_0x21523c(0xd29)],_0x35d20e=currentDisplayedQuiz[_0x21523c(0x531)]?.[_0x21523c(0xe45)]===!![];let _0x173690=_0x21523c(0x576)+(currentQuestionIndex+0x1)+_0x21523c(0x191)+currentDisplayedQuiz[_0x21523c(0x521)][_0x21523c(0x4f1)]+_0x21523c(0x40c)+(currentMode===_0x21523c(0x395)?_0x21523c(0x633):'')+_0x21523c(0x9a6)+currentDisplayedQuiz[_0x21523c(0x9ec)]+_0x21523c(0x8d2);studentQuizArea[_0x21523c(0xa19)]=_0x173690;let _0x4cf940=_0x4b1fb4[_0x21523c(0x2f8)]||_0x4b1fb4[_0x21523c(0x14e)];_0x4b1fb4[_0x21523c(0xc44)]&&(_0x4cf940+=_0x21523c(0xda6)+_0x4b1fb4['imageCode']+_0x21523c(0xa5a));let _0x45b56e='';switch(_0x2edae8){case _0x21523c(0xcea):case _0x21523c(0x603):_0x45b56e=_0x21523c(0x14f);break;case _0x21523c(0x1cc):_0x45b56e='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x21523c(0x1f6):_0x45b56e=_0x21523c(0x403)+(_0x4b1fb4[_0x21523c(0x307)]||[])[_0x21523c(0x23a)](_0x42308d=>_0x21523c(0xdd4)+_0x42308d+'\x22>'+_0x42308d+_0x21523c(0x3e5))[_0x21523c(0x975)]('')+_0x21523c(0x85f);break;default:_0x4b1fb4[_0x21523c(0x4ff)]&&(_0x45b56e=_0x4b1fb4['options']['map']((_0x32f9d0,_0x55ff6)=>_0x21523c(0xb6c)+_0x55ff6+_0x21523c(0x2f0)+_0x55ff6+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x55ff6+'\x22>'+_0x32f9d0+_0x21523c(0x762))[_0x21523c(0x975)](''));break;}document[_0x21523c(0x6e6)](_0x21523c(0x888))[_0x21523c(0xa19)]=_0x4cf940,document[_0x21523c(0x6e6)](_0x21523c(0xc4c))[_0x21523c(0xa19)]=_0x45b56e;const _0x1685b9=currentDisplayedQuiz['settings']?.[_0x21523c(0xe45)]===!![],_0x90f836=currentDisplayedQuiz[_0x21523c(0x531)]?.[_0x21523c(0xe65)]||_0x21523c(0x180);if(_0x1685b9&&_0x90f836===_0x21523c(0x180)){const _0x59a76c=_0x21523c(0xbbb);studentQuizArea[_0x21523c(0x86d)](_0x21523c(0x315))[_0x21523c(0xabb)](_0x21523c(0x1c3),_0x59a76c);}studentQuizArea['insertAdjacentHTML']('beforeend',_0x21523c(0xa84)+(currentQuestionIndex===currentDisplayedQuiz[_0x21523c(0x521)]['length']-0x1?_0x21523c(0xdfe):_0x21523c(0x1f7))+_0x21523c(0x536));currentMode===_0x21523c(0x395)&&document[_0x21523c(0x6e6)](_0x21523c(0x479))?.['addEventListener'](_0x21523c(0xa6e),cancelAdminTest);document['getElementById'](_0x21523c(0x3ce))[_0x21523c(0x49d)](_0x21523c(0xa6e),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x21523c(0x19c)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x21523c(0x531)]?.['timerMode']==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5eb149=_0x5319e2,_0x458637=currentDisplayedQuiz[_0x5eb149(0x531)][_0x5eb149(0x9c5)],_0x53544a=document[_0x5eb149(0x6e6)]('per-question-timer-container');if(!_0x53544a)return;let _0x1cbfc1=_0x458637;_0x53544a['innerHTML']=_0x5eb149(0x39d)+_0x1cbfc1+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x480d28=document[_0x5eb149(0x6e6)](_0x5eb149(0x54c)),_0x33385b=document['getElementById'](_0x5eb149(0x97d));perQuestionTimerInterval=setInterval(()=>{const _0x3405ae=_0x5eb149;_0x1cbfc1--;const _0x52da9c=_0x1cbfc1/_0x458637*0x64;_0x480d28['style'][_0x3405ae(0x96d)]=_0x52da9c+'%',_0x33385b[_0x3405ae(0xb7b)]=_0x1cbfc1,_0x1cbfc1<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3405ae(0x3c7)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x13a370=![]){const _0x44646f=_0x5319e2;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x336373=null,_0x4549f7=![];if(!_0x13a370){const _0x2a0984=currentDisplayedQuiz[_0x44646f(0x521)][currentQuestionIndex],_0x4ac3dc=_0x2a0984[_0x44646f(0x823)]||currentDisplayedQuiz[_0x44646f(0xd29)];if(_0x4ac3dc===_0x44646f(0xcea)||_0x4ac3dc==='fill_in_no_choices')_0x336373=document[_0x44646f(0x86d)](_0x44646f(0xde4))?.[_0x44646f(0xb2d)][_0x44646f(0xc3f)]()??'';else{if(_0x4ac3dc===_0x44646f(0x1f6))_0x336373=document[_0x44646f(0x86d)](_0x44646f(0x996))?.['value']??'';else{const _0x45d599=document[_0x44646f(0x86d)](_0x44646f(0x487));_0x45d599&&(_0x336373=_0x45d599[_0x44646f(0xb2d)]);}}if(_0x336373===null||_0x336373===''){showMessage(_0x44646f(0x4dc)),startPerQuestionTimer();return;}const _0x583850=currentDisplayedQuiz['settings']?.[_0x44646f(0xe45)]===!![],_0x491b1d=currentDisplayedQuiz['settings']?.[_0x44646f(0xe65)]||_0x44646f(0x180);if(_0x583850&&_0x491b1d===_0x44646f(0x8d9)){document['getElementById'](_0x44646f(0xd7a))[_0x44646f(0x9ff)][_0x44646f(0x2de)]=_0x44646f(0xe2e),document[_0x44646f(0x6e6)]('selected-answer-index-hidden')['value']=_0x336373,document['getElementById']('confidence-modal')[_0x44646f(0x3d9)][_0x44646f(0xb00)](_0x44646f(0xd60));return;}const _0x4f5368=document[_0x44646f(0x6e6)](_0x44646f(0xcd9));_0x4f5368&&(_0x4549f7=_0x4f5368['checked']);}const _0x425613={'answer':_0x336373,'wasConfident':_0x4549f7};proceedToNextQuestion(_0x425613);}async function finalizePerQuestionQuiz(){const _0xa891ce=_0x5319e2,_0x3496a=currentDisplayedQuiz[_0xa891ce(0x521)][_0xa891ce(0x401)](_0x568823=>_0x568823[_0xa891ce(0x823)]===_0xa891ce(0xcea));_0x3496a?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0xa891ce(0xc62));const _0x1695b2=currentQuizData['id'],_0x5a2c64=doc(db,_0xa891ce(0x555)+appId+_0xa891ce(0xa62)+_0x1695b2+_0xa891ce(0xe09),currentStudentName),_0x42f971=await getDoc(_0x5a2c64),_0x3a0691=_0x42f971[_0xa891ce(0x958)]()?_0x42f971[_0xa891ce(0x9cb)]():{},_0x395790=_0x3a0691[_0xa891ce(0xca5)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x395790);}function getResultsFilename(){const _0x2cb814=_0x5319e2,_0x2aad3a=document['getElementById'](_0x2cb814(0x7a9))['textContent'][_0x2cb814(0xa31)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2cb814(0x11c)+(_0x2aad3a||_0x2cb814(0x156));}function exportResultsAsImage(){const _0x5ade75=_0x5319e2,_0x38626e=document['getElementById'](_0x5ade75(0x866));showMessage(_0x5ade75(0xaba)),html2canvas(_0x38626e)['then'](_0x54ccd5=>{const _0xfc3cab=_0x5ade75,_0x3ee0c8=document[_0xfc3cab(0x631)]('a');_0x3ee0c8['download']=getResultsFilename()+'.png',_0x3ee0c8[_0xfc3cab(0xbb0)]=_0x54ccd5[_0xfc3cab(0x4c2)]('image/png'),_0x3ee0c8[_0xfc3cab(0xa6e)](),messageModal[_0xfc3cab(0x3d9)]['add'](_0xfc3cab(0xd60));});}function exportResultsAsPDF(){const _0x1f8bdf=_0x5319e2,{jsPDF:_0x59be89}=window[_0x1f8bdf(0x586)],_0x2ce07b=new _0x59be89();_0x2ce07b[_0x1f8bdf(0xe86)]('helvetica',_0x1f8bdf(0xd97)),_0x2ce07b['autoTable']({'html':'#results-table'}),_0x2ce07b[_0x1f8bdf(0xb60)](getResultsFilename()+_0x1f8bdf(0x93b));}function exportResultsAsWord(){const _0x543636=_0x5319e2,_0x4c1f32='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x543636(0x952)+_0x543636(0x892)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x3682e2=_0x543636(0xb16),_0x548ba9=_0x4c1f32+document['getElementById'](_0x543636(0x866))[_0x543636(0xa19)]+_0x3682e2,_0x2e2ada=_0x543636(0x2c5)+encodeURIComponent(_0x548ba9),_0x228a5e=document['createElement']('a');document['body'][_0x543636(0xab8)](_0x228a5e),_0x228a5e['href']=_0x2e2ada,_0x228a5e[_0x543636(0xa1f)]=getResultsFilename()+'.doc',_0x228a5e[_0x543636(0xa6e)](),document[_0x543636(0x60c)][_0x543636(0x446)](_0x228a5e);}function exportResultsAsExcel(){const _0x37324e=_0x5319e2,_0x253b66=document['getElementById'](_0x37324e(0x8b3));let _0x1ebfa0=[];for(let _0x3c78f7=0x0;_0x3c78f7<_0x253b66[_0x37324e(0xd96)][_0x37324e(0x4f1)];_0x3c78f7++){let _0x5a8bea=[],_0x2a188e=_0x253b66['rows'][_0x3c78f7]['querySelectorAll'](_0x37324e(0xded));for(let _0x16cfa1=0x0;_0x16cfa1<_0x2a188e['length'];_0x16cfa1++){_0x5a8bea[_0x37324e(0xbda)]('\x22'+_0x2a188e[_0x16cfa1][_0x37324e(0x87a)][_0x37324e(0xa31)](/"/g,'\x22\x22')+'\x22');}_0x1ebfa0['push'](_0x5a8bea['join'](','));}const _0x4607c0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1ebfa0[_0x37324e(0x975)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x48b965=document[_0x37324e(0x631)]('a');_0x48b965[_0x37324e(0xbb0)]=URL['createObjectURL'](_0x4607c0),_0x48b965[_0x37324e(0xa1f)]=getResultsFilename()+'.csv',_0x48b965['click']();}function exportTableAsImage(_0x4322be,_0x2c09f1){const _0xece95e=_0x5319e2,_0x1084d0=document['getElementById'](_0x4322be),_0x5df2b2=document[_0xece95e(0x6e6)](_0xece95e(0x7a9));if(!_0x1084d0){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...');const _0x4ea7cc=document[_0xece95e(0x631)](_0xece95e(0xbbc));_0x4ea7cc[_0xece95e(0xaed)][_0xece95e(0x836)]=_0xece95e(0xa86),_0x4ea7cc['style'][_0xece95e(0xeaa)]=_0xece95e(0x56e),_0x4ea7cc[_0xece95e(0xaed)]['width']=_0xece95e(0xa81),_0x4ea7cc[_0xece95e(0xaed)][_0xece95e(0x915)]=_0xece95e(0x2e0),_0x4ea7cc[_0xece95e(0xaed)][_0xece95e(0xb31)]=_0xece95e(0x3f0),_0x4ea7cc['style'][_0xece95e(0xb25)]='0',_0x4ea7cc[_0xece95e(0xaed)][_0xece95e(0x443)]='-1';const _0x3f55c9=document['createElement']('h1');_0x3f55c9[_0xece95e(0x87a)]=_0x5df2b2?_0x5df2b2['innerText']:_0xece95e(0xc6c),_0x3f55c9[_0xece95e(0xaed)][_0xece95e(0x1d1)]=_0xece95e(0x754),_0x3f55c9[_0xece95e(0xaed)][_0xece95e(0x74d)]='\x27Sarabun\x27,\x20sans-serif',_0x3f55c9[_0xece95e(0xaed)]['fontSize']='28px',_0x3f55c9[_0xece95e(0xaed)][_0xece95e(0x259)]='bold',_0x3f55c9[_0xece95e(0xaed)][_0xece95e(0x630)]='#4338ca',_0x3f55c9[_0xece95e(0xaed)][_0xece95e(0x3d1)]=_0xece95e(0xe2f);const _0x18f366=_0x1084d0[_0xece95e(0x2d8)](!![]);_0x18f366[_0xece95e(0xaed)][_0xece95e(0x830)]='none',_0x18f366['style']['overflow']=_0xece95e(0xd59);const _0x52a2c0=_0x18f366[_0xece95e(0x2c3)]('th');let _0x1bf6c8=-0x1;_0x52a2c0['forEach']((_0x58a598,_0x1c4972)=>{const _0x588e25=_0xece95e;_0x58a598[_0x588e25(0xb7b)][_0x588e25(0xc3f)]()==='ผล'&&(_0x58a598['style'][_0x588e25(0x91a)]=_0x588e25(0x877),_0x1bf6c8=_0x1c4972);});if(_0x1bf6c8!==-0x1){const _0x2765da=_0x18f366[_0xece95e(0x2c3)]('tr');_0x2765da[_0xece95e(0xbf2)](_0xd5e4be=>{const _0x3480be=_0xece95e,_0x4345e0=_0xd5e4be[_0x3480be(0x2c3)]('td');_0x4345e0[_0x3480be(0x4f1)]>_0x1bf6c8&&(_0x4345e0[_0x1bf6c8][_0x3480be(0xaed)][_0x3480be(0x91a)]=_0x3480be(0x877));});}_0x4ea7cc[_0xece95e(0xab8)](_0x3f55c9),_0x4ea7cc[_0xece95e(0xab8)](_0x18f366),document[_0xece95e(0x60c)][_0xece95e(0xab8)](_0x4ea7cc),html2canvas(_0x4ea7cc,{'scale':0x2,'useCORS':!![],'backgroundColor':'#ffffff'})[_0xece95e(0xa8b)](_0x1b66de=>{const _0x19d172=_0xece95e,_0x495fbf=document[_0x19d172(0x631)]('a');_0x495fbf[_0x19d172(0xa1f)]=_0x2c09f1+_0x19d172(0x1d7),_0x495fbf[_0x19d172(0xbb0)]=_0x1b66de['toDataURL'](_0x19d172(0xc04)),_0x495fbf[_0x19d172(0xa6e)](),document[_0x19d172(0x60c)][_0x19d172(0x446)](_0x4ea7cc),messageModal[_0x19d172(0x3d9)][_0x19d172(0x831)](_0x19d172(0xd60));})[_0xece95e(0x2c7)](_0x5d2577=>{const _0x25c0e4=_0xece95e;console[_0x25c0e4(0x3f8)](_0x25c0e4(0xa8a),_0x5d2577),document[_0x25c0e4(0x60c)][_0x25c0e4(0x446)](_0x4ea7cc),showMessage(_0x25c0e4(0x6ed));});}function exportTableAsPDF(_0x4e469b,_0xb55262){const _0x2fc871=_0x5319e2,{jsPDF:_0x15d009}=window[_0x2fc871(0x586)],_0x5ac9ff=new _0x15d009();_0x5ac9ff[_0x2fc871(0xe86)]('helvetica','normal'),_0x5ac9ff[_0x2fc871(0x9dd)]({'html':'#'+_0x4e469b}),_0x5ac9ff[_0x2fc871(0xb60)](_0xb55262+_0x2fc871(0x93b));}function exportTableAsWord(_0x16eea1,_0x422b3a){const _0x7c8e14=_0x5319e2,_0x14bd93=document[_0x7c8e14(0x6e6)](_0x16eea1);if(!_0x14bd93){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x22b426=_0x7c8e14(0x455)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x7c8e14(0x892)+_0x7c8e14(0x41c),_0x2c3a8a='</body></html>',_0x50a6ce=_0x22b426+_0x14bd93[_0x7c8e14(0xa19)]+_0x2c3a8a,_0x50acff=_0x7c8e14(0x2c5)+encodeURIComponent(_0x50a6ce),_0x45ea95=document[_0x7c8e14(0x631)]('a');document[_0x7c8e14(0x60c)]['appendChild'](_0x45ea95),_0x45ea95[_0x7c8e14(0xbb0)]=_0x50acff,_0x45ea95[_0x7c8e14(0xa1f)]=_0x422b3a+_0x7c8e14(0x5e6),_0x45ea95[_0x7c8e14(0xa6e)](),document[_0x7c8e14(0x60c)][_0x7c8e14(0x446)](_0x45ea95);}function exportTableAsExcel(_0x12aeb2,_0x412d5c){const _0x4fa665=_0x5319e2,_0x5b7e97=document[_0x4fa665(0x6e6)](_0x12aeb2);if(!_0x5b7e97){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x429ecf=[];for(let _0x333fda=0x0;_0x333fda<_0x5b7e97[_0x4fa665(0xd96)][_0x4fa665(0x4f1)];_0x333fda++){let _0x9fee7e=[],_0x3cc955=_0x5b7e97[_0x4fa665(0xd96)][_0x333fda][_0x4fa665(0x2c3)](_0x4fa665(0xded));for(let _0x1f5f3e=0x0;_0x1f5f3e<_0x3cc955[_0x4fa665(0x4f1)];_0x1f5f3e++){_0x9fee7e[_0x4fa665(0xbda)]('\x22'+_0x3cc955[_0x1f5f3e]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x429ecf[_0x4fa665(0xbda)](_0x9fee7e[_0x4fa665(0x975)](','));}const _0x5a75fd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x429ecf[_0x4fa665(0x975)]('\x0a')],{'type':_0x4fa665(0xbc8)}),_0x578594=document[_0x4fa665(0x631)]('a');_0x578594[_0x4fa665(0xbb0)]=URL[_0x4fa665(0xb0c)](_0x5a75fd),_0x578594[_0x4fa665(0xa1f)]=_0x412d5c+_0x4fa665(0xd28),_0x578594['click']();}function renderAnalytics(_0x1f14b2,_0xb48b43){const _0x1f9e49=_0x5319e2,_0x3819ad=_0xb48b43[_0x1f9e49(0xbdf)](_0x97f00c=>_0x97f00c[_0x1f9e49(0xd6b)]!==undefined),_0x597113=currentProjectData[_0x1f9e49(0x38b)][_0x1f9e49(0x4f1)],_0xfe6c3d=_0x3819ad[_0x1f9e49(0x4f1)],_0x4f9265=_0x597113-_0xfe6c3d,_0x202c20=_0x597113>0x0?_0xfe6c3d/_0x597113*0x64:0x0,_0xdb5109=_0x3819ad[_0x1f9e49(0x23a)](_0x21c276=>_0x21c276[_0x1f9e49(0xd6b)]),_0x35ad16=_0xdb5109[_0x1f9e49(0x4f1)]>0x0?_0xdb5109[_0x1f9e49(0xe69)]((_0x4a4c7b,_0x3c8d9f)=>_0x4a4c7b+_0x3c8d9f,0x0)/_0xdb5109['length']:0x0,_0x5d6a52=_0x1f14b2[_0x1f9e49(0x521)][_0x1f9e49(0x4f1)],_0x47ebcf=_0x5d6a52>0x0?_0x35ad16/_0x5d6a52*0x64:0x0,_0x38e4ab=calculateItemAnalysis(_0x1f14b2,_0x3819ad),_0x2b3077=calculateReliabilityKR20(_0x1f14b2,_0x3819ad,_0x38e4ab[_0x1f9e49(0x865)]);let _0x4a8dcb='';if(_0x2b3077!==null){let _0x2b7935='';if(_0x2b3077>=0.9)_0x2b7935='ยอดเยี่ยม';else{if(_0x2b3077>=0.8)_0x2b7935=_0x1f9e49(0xcf7);else{if(_0x2b3077>=0.7)_0x2b7935='ดี';else{if(_0x2b3077>=0.6)_0x2b7935=_0x1f9e49(0x50f);else _0x2b7935=_0x1f9e49(0x77c);}}}_0x4a8dcb=_0x1f9e49(0x9d1)+_0x2b3077[_0x1f9e49(0x8ba)](0x2)+_0x1f9e49(0x88b)+_0x2b7935+_0x1f9e49(0x340);}const _0x1646bf=document[_0x1f9e49(0x6e6)](_0x1f9e49(0x89d));_0x1646bf[_0x1f9e49(0xa19)]=_0x1f9e49(0xd25)+_0x202c20[_0x1f9e49(0x8ba)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0xfe6c3d+'/'+_0x597113+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x35ad16[_0x1f9e49(0x8ba)](0x2)+_0x1f9e49(0x956)+_0x47ebcf[_0x1f9e49(0x8ba)](0x0)+_0x1f9e49(0x4fe)+(_0xdb5109['length']>0x0?Math[_0x1f9e49(0xd01)](..._0xdb5109):'N/A')+_0x1f9e49(0x4a6)+(_0xdb5109[_0x1f9e49(0x4f1)]>0x0?Math['min'](..._0xdb5109):_0x1f9e49(0x83e))+_0x1f9e49(0x42d)+_0x4a8dcb+_0x1f9e49(0x750);const _0x5e538d=document[_0x1f9e49(0x6e6)](_0x1f9e49(0xce3));_0x5e538d&&_0x5e538d[_0x1f9e49(0xb00)]();const _0x2eec5d=_0x1f9e49(0x24e);_0x1646bf['insertAdjacentHTML']('afterend',_0x2eec5d);const _0x1727a3=currentProjectData['students']||[];renderSubmissionChart(_0xfe6c3d,_0x4f9265,_0x3819ad,_0x1727a3),renderScoreDistributionChart(_0x3819ad,_0x5d6a52),renderQuestionAnalytics(_0x1f14b2,_0x3819ad,_0x1727a3),renderInterestingStats(_0x1f14b2,_0x3819ad);}async function handleExportLessonPDF(){const _0x10a60c=_0x5319e2,_0x16d06e=document[_0x10a60c(0x6e6)](_0x10a60c(0x6b4)),_0x8edaad=document[_0x10a60c(0x6e6)](_0x10a60c(0x7af))[_0x10a60c(0xb7b)],_0x3d3efe=window[_0x10a60c(0x1a3)]('',_0x10a60c(0x7c9)),_0x10c4a3=_0x10a60c(0xa91)+_0x8edaad+_0x10a60c(0xb09)+_0x16d06e[_0x10a60c(0xa19)]+_0x10a60c(0xdaf);_0x3d3efe[_0x10a60c(0x30b)][_0x10a60c(0x704)](_0x10c4a3),_0x3d3efe[_0x10a60c(0x30b)][_0x10a60c(0x4ad)](),_0x3d3efe[_0x10a60c(0x904)]=function(){setTimeout(()=>{const _0x391ab8=_0x4aab;_0x3d3efe[_0x391ab8(0xe3f)]();},0x5dc);};}function renderInterestingStats(_0x40c1fa,_0x546f77){const _0x58c929=_0x5319e2,_0x530224=document[_0x58c929(0x6e6)](_0x58c929(0xcce));if(!_0x530224)return;if(_0x546f77[_0x58c929(0x4f1)]===0x0){_0x530224[_0x58c929(0xa19)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x4d1866=_0x40c1fa[_0x58c929(0x521)][_0x58c929(0x23a)]((_0xfa8cbe,_0x497653)=>({'index':_0x497653+0x1,'text':_0xfa8cbe[_0x58c929(0x14e)]||_0xfa8cbe[_0x58c929(0x2f8)],'correct':0x0}));_0x546f77[_0x58c929(0xbf2)](_0x2f1682=>{const _0x29f018=_0x58c929,_0x1e0b8e=_0x2f1682[_0x29f018(0xca5)][_0x2f1682[_0x29f018(0xca5)][_0x29f018(0x4f1)]-0x1];_0x1e0b8e&&_0x1e0b8e[_0x29f018(0xa77)]&&_0x1e0b8e['answers']['forEach'](_0x2c855f=>{const _0x394fdf=_0x29f018,_0x97521e=_0x4d1866[_0x394fdf(0x8af)](_0x285f7a=>_0x285f7a[_0x394fdf(0x135)]===_0x2c855f[_0x394fdf(0x672)]);_0x2c855f[_0x394fdf(0x1a1)]&&_0x97521e&&_0x97521e[_0x394fdf(0xcc5)]++;});});const _0x5639d5=_0x546f77['length'],_0x2f7af9=Math['max'](..._0x4d1866[_0x58c929(0x23a)](_0x4611e2=>_0x4611e2[_0x58c929(0xcc5)])),_0x1c0b45=Math[_0x58c929(0xd39)](..._0x4d1866['map'](_0x2462b8=>_0x2462b8[_0x58c929(0xcc5)])),_0x1b28a1=_0x4d1866[_0x58c929(0xbdf)](_0x2b53ee=>_0x2b53ee[_0x58c929(0xcc5)]===_0x2f7af9)[_0x58c929(0x23a)](_0x1613d5=>'ข้อ\x20'+_0x1613d5[_0x58c929(0x9c6)]),_0x59b61c=_0x4d1866['filter'](_0x5f2d6c=>_0x5f2d6c[_0x58c929(0xcc5)]===_0x1c0b45)[_0x58c929(0x23a)](_0x1bc4a9=>_0x58c929(0x17b)+_0x1bc4a9[_0x58c929(0x9c6)]),_0x3d72d3=_0x546f77[_0x58c929(0x602)]((_0xae25b8,_0x47cb30)=>_0x47cb30[_0x58c929(0xd6b)]-_0xae25b8['latestScore'])['filter']((_0x414ef0,_0x58b5d0,_0x55aab0)=>_0x414ef0[_0x58c929(0xd6b)]===_0x55aab0[0x0][_0x58c929(0xd6b)]),_0x5e98b1=_0x546f77['sort']((_0x2d4d3b,_0x33251f)=>_0x2d4d3b[_0x58c929(0xd6b)]-_0x33251f['latestScore'])[_0x58c929(0xbdf)]((_0x45e43d,_0x317472,_0x4d5d15)=>_0x45e43d['latestScore']===_0x4d5d15[0x0][_0x58c929(0xd6b)]),_0x52dc8d=_0x58c929(0x7a7)+_0x1b28a1[_0x58c929(0x975)](',\x20')+_0x58c929(0x6f5)+_0x2f7af9+_0x58c929(0xd2d)+_0x5639d5+_0x58c929(0x2c0)+_0x59b61c[_0x58c929(0x975)](',\x20')+_0x58c929(0x6f5)+(_0x5639d5-_0x1c0b45)+_0x58c929(0xd2d)+_0x5639d5+_0x58c929(0x679)+_0x3d72d3[_0x58c929(0x23a)](_0x2b3c6e=>_0x2b3c6e[_0x58c929(0xdea)])[_0x58c929(0x975)](',\x20')+_0x58c929(0x588)+_0x3d72d3[0x0][_0x58c929(0xd6b)]+_0x58c929(0x7c7)+_0x5e98b1[_0x58c929(0x23a)](_0xf7a2dd=>_0xf7a2dd[_0x58c929(0xdea)])[_0x58c929(0x975)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x5e98b1[0x0][_0x58c929(0xd6b)]+_0x58c929(0x1b7);_0x530224[_0x58c929(0xa19)]=_0x52dc8d;}function renderSubmissionChart(_0x4de6cd,_0x3c29bb,_0x495dc2,_0x4bf606){const _0x702159=_0x5319e2,_0x39e078=document[_0x702159(0x6e6)](_0x702159(0x4b4))['getContext']('2d'),_0x5174cc=_0x495dc2[_0x702159(0x23a)](_0x423134=>_0x423134[_0x702159(0xdea)]),_0x1412a9=_0x4bf606['filter'](_0x5e8bea=>!_0x5174cc[_0x702159(0x676)](_0x5e8bea));chartInstances['submission']&&chartInstances[_0x702159(0x89f)]['destroy'](),chartInstances[_0x702159(0x89f)]=new Chart(_0x39e078,{'type':'doughnut','data':{'labels':[_0x702159(0x5f6),_0x702159(0x204)],'datasets':[{'data':[_0x4de6cd,_0x3c29bb],'backgroundColor':[_0x702159(0x22a),'#F59E0B'],'borderColor':['#ffffff',_0x702159(0xa86)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x702159(0x7e1)},'tooltip':{'callbacks':{'label':function(_0x227140){const _0x54f30d=_0x702159;let _0x2b90fc=_0x227140[_0x54f30d(0x1f2)]||'';return _0x2b90fc&&(_0x2b90fc+=':\x20'),_0x2b90fc+=_0x227140['raw'],_0x2b90fc;},'afterLabel':function(_0x17126c){const _0x33edf7=_0x702159;let _0x317c2e;return _0x17126c['dataIndex']===0x0?_0x317c2e=_0x5174cc:_0x317c2e=_0x1412a9,_0x317c2e[_0x33edf7(0x4f1)]>0x0?_0x317c2e[_0x33edf7(0x975)]('\x0a'):_0x33edf7(0x329);}}}}}});}function renderScoreDistributionChart(_0xf3766b,_0x6889d){const _0x1af273=_0x5319e2,_0x1b23a9=document[_0x1af273(0x6e6)](_0x1af273(0x80e))['getContext']('2d'),_0x40a59d={};for(let _0x5a47d1=0x0;_0x5a47d1<=_0x6889d;_0x5a47d1++){_0x40a59d[_0x5a47d1]=0x0;}_0xf3766b[_0x1af273(0xbf2)](_0x3808df=>{const _0x52655b=_0x1af273;_0x40a59d[_0x3808df[_0x52655b(0xd6b)]]!==undefined&&_0x40a59d[_0x3808df[_0x52655b(0xd6b)]]++;}),chartInstances[_0x1af273(0x473)]&&chartInstances[_0x1af273(0x473)][_0x1af273(0x7b4)](),chartInstances['score']=new Chart(_0x1b23a9,{'type':'bar','data':{'labels':Object['keys'](_0x40a59d),'datasets':[{'label':_0x1af273(0x368),'data':Object[_0x1af273(0x129)](_0x40a59d),'backgroundColor':_0x1af273(0x61f),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1af273(0xe27)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3043af){const _0x26aaac=_0x1af273,_0x364f08=_0x3043af[_0x26aaac(0x1f2)],_0x50a491=_0xf3766b[_0x26aaac(0xbdf)](_0x19e917=>_0x19e917[_0x26aaac(0xd6b)]==_0x364f08)[_0x26aaac(0x23a)](_0x150cbc=>_0x150cbc['studentName']);return _0x50a491['length']>0x0?_0x50a491['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5ea510,_0x2d45e8,_0x4f3416){const _0x5852ea=_0x5319e2,_0x2b0c70=document[_0x5852ea(0x6e6)](_0x5852ea(0xe0a));if(_0x4f3416[_0x5852ea(0x4f1)]===0x0){_0x2b0c70['innerHTML']=_0x5852ea(0x12b);return;}const _0x2bec96=calculateItemAnalysis(_0x5ea510,_0x2d45e8),_0x5e55d9=calculateDistractorAnalysis(_0x5ea510,_0x2d45e8);let _0x28d560='';_0x2bec96['overallGroups']&&(_0x28d560=_0x5852ea(0x5fa)+_0x2bec96['overallGroups'][_0x5852ea(0x2f2)][_0x5852ea(0x4f1)]+_0x5852ea(0xa45)+_0x2bec96[_0x5852ea(0x597)]['upperGroupNames']['map'](_0x2ddc88=>_0x5852ea(0x688)+_0x2ddc88+_0x5852ea(0xd2e))[_0x5852ea(0x975)]('')+_0x5852ea(0xb01)+_0x2bec96[_0x5852ea(0x597)][_0x5852ea(0x3bf)][_0x5852ea(0x4f1)]+_0x5852ea(0xa45)+_0x2bec96[_0x5852ea(0x597)][_0x5852ea(0x3bf)]['map'](_0x1434dd=>'<li>'+_0x1434dd+_0x5852ea(0xd2e))['join']('')+_0x5852ea(0xa71));let _0x429088='';const _0x22aa97=_0x2d45e8[_0x5852ea(0x23a)](_0x9224a7=>_0x9224a7[_0x5852ea(0xdea)]),_0x5cce70=_0x1b219d=>{const _0x2ed44d=_0x5852ea;if(_0x1b219d>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x1b219d>=0.6)return _0x2ed44d(0x4f6);if(_0x1b219d>=0.4)return _0x2ed44d(0x68a);if(_0x1b219d>=0.2)return _0x2ed44d(0x2a5);return _0x2ed44d(0xb03);},_0x53ebd9=_0x123a96=>{const _0x42b2d9=_0x5852ea;if(_0x123a96<0x0)return _0x42b2d9(0xbf4);if(_0x123a96>=0.4)return _0x42b2d9(0x3ed);if(_0x123a96>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x123a96>=0.2)return _0x42b2d9(0x5a1);return _0x42b2d9(0xacf);},_0x46d893=_0x1a7ce0=>{const _0x3b4a50=_0x5852ea,_0x479648=_0x1a7ce0[_0x3b4a50(0x8ba)](0x0);if(parseFloat(_0x479648)===0x64)return _0x3b4a50(0x1d4)+_0x479648+_0x3b4a50(0x45f);if(_0x1a7ce0>=0x32)return _0x3b4a50(0x40b)+_0x479648+'%</span>';return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x479648+'%</span>';};_0x5ea510['questions'][_0x5852ea(0xbf2)]((_0x4726e0,_0x440e97)=>{const _0x29ae88=_0x5852ea,_0x57220c=_0x2bec96[_0x29ae88(0x865)][_0x440e97],_0x48bc4c=_0x5e55d9[_0x440e97],_0x102099=_0x4726e0['stem']||_0x4726e0[_0x29ae88(0x14e)]||_0x4726e0['instructions'];let _0x1cfa4a=0x0;const _0x4d3242=[],_0x51c7e8=[];_0x2d45e8[_0x29ae88(0xbf2)](_0x4be7de=>{const _0x4071d4=_0x29ae88,_0x381764=_0x4be7de[_0x4071d4(0xca5)][_0x4be7de['attempts'][_0x4071d4(0x4f1)]-0x1];if(_0x381764&&_0x381764[_0x4071d4(0xa77)]){const _0x5f4640=_0x381764[_0x4071d4(0xa77)]['find'](_0x1c7380=>_0x1c7380[_0x4071d4(0x672)]===_0x102099)??_0x381764[_0x4071d4(0xa77)][_0x440e97]??null;_0x5f4640&&(_0x5f4640[_0x4071d4(0x1a1)]?(_0x1cfa4a++,_0x4d3242[_0x4071d4(0xbda)](_0x4be7de[_0x4071d4(0xdea)])):_0x51c7e8[_0x4071d4(0xbda)](_0x4be7de[_0x4071d4(0xdea)]));}});const _0x3642b7=_0x2d45e8[_0x29ae88(0x4f1)]>0x0?_0x1cfa4a/_0x2d45e8['length']*0x64:0x0,_0x379582=_0x4f3416[_0x29ae88(0xbdf)](_0x30a169=>!_0x22aa97[_0x29ae88(0x676)](_0x30a169)),_0x1accdc=_0x57220c?_0x29ae88(0x6b9)+_0x57220c['p'][_0x29ae88(0x8ba)](0x2)+_0x29ae88(0xb58)+_0x5cce70(_0x57220c['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x57220c['r'][_0x29ae88(0x8ba)](0x2)+_0x29ae88(0xb58)+_0x53ebd9(_0x57220c['r'])+_0x29ae88(0x8d7)+_0x46d893(_0x3642b7)+_0x29ae88(0x22c):'';let _0xff963e='';_0x48bc4c&&(_0xff963e=_0x29ae88(0xb71)+Object['keys'](_0x48bc4c)[_0x29ae88(0x23a)](_0x195871=>{const _0x340c46=_0x29ae88,_0x19ca06=_0x48bc4c[_0x195871],_0x2262d9=parseInt(_0x195871)===_0x4726e0[_0x340c46(0x9be)],_0x335b96=!_0x2262d9&&_0x19ca06[_0x340c46(0x202)]>_0x19ca06[_0x340c46(0x2e5)];return _0x340c46(0xa66)+(_0x2262d9?_0x340c46(0x337):'')+_0x340c46(0xb23)+(_0x2262d9?'✔\x20':'')+_0x19ca06['text']+_0x340c46(0x1a2)+_0x19ca06[_0x340c46(0x2e5)]+_0x340c46(0x1a2)+_0x19ca06['lower_group_count']+'\x20'+(_0x335b96?'👍':'')+_0x340c46(0x1a2)+_0x19ca06[_0x340c46(0x208)]+'</td></tr>';})[_0x29ae88(0x975)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x283791='';_0x57220c&&_0x57220c[_0x29ae88(0x6e4)]&&(_0x283791='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x57220c[_0x29ae88(0x6e4)][_0x29ae88(0x4f1)]+_0x29ae88(0x60e)+_0x57220c[_0x29ae88(0x6e4)][_0x29ae88(0x23a)](_0x475478=>'<li>'+(_0x475478[_0x29ae88(0x1a1)]?_0x29ae88(0x722):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x475478['name']+_0x29ae88(0xd2e))[_0x29ae88(0x975)]('')+_0x29ae88(0x55c)+_0x57220c[_0x29ae88(0x1e3)][_0x29ae88(0x4f1)]+_0x29ae88(0x60e)+_0x57220c['lowerGroupResponders'][_0x29ae88(0x23a)](_0x1bfad7=>_0x29ae88(0x688)+(_0x1bfad7[_0x29ae88(0x1a1)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x29ae88(0x206))+'\x20'+_0x1bfad7['name']+_0x29ae88(0xd2e))[_0x29ae88(0x975)]('')+_0x29ae88(0xa51)),_0x429088+=_0x29ae88(0x491)+(_0x440e97+0x1)+':\x20'+_0x102099+_0x29ae88(0x70f)+_0x1accdc+_0x29ae88(0x263)+_0x102099+_0x29ae88(0xc75)+_0x1cfa4a+_0x29ae88(0x191)+_0x2d45e8['length']+_0x29ae88(0xad5)+_0x3642b7[_0x29ae88(0x8ba)](0x0)+_0x29ae88(0x955)+_0x4d3242[_0x29ae88(0x4f1)]+_0x29ae88(0xdcf)+(_0x4d3242[_0x29ae88(0x4f1)]>0x0?_0x4d3242['join'](',\x20'):_0x29ae88(0x329))+_0x29ae88(0xc2f)+_0x51c7e8[_0x29ae88(0x4f1)]+_0x29ae88(0xdcf)+(_0x51c7e8[_0x29ae88(0x4f1)]>0x0?_0x51c7e8[_0x29ae88(0x975)](',\x20'):_0x29ae88(0x329))+_0x29ae88(0xcf1)+_0x379582['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x379582[_0x29ae88(0x4f1)]>0x0?_0x379582[_0x29ae88(0x975)](',\x20'):_0x29ae88(0x329))+_0x29ae88(0x795)+_0xff963e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x283791+_0x29ae88(0x931);}),_0x2b0c70[_0x5852ea(0xa19)]=_0x28d560+_0x429088;try{window[_0x5852ea(0x19c)]&&MathJax[_0x5852ea(0xc6e)]&&MathJax['typesetPromise']([_0x2b0c70]);}catch(_0x20fc4b){console[_0x5852ea(0x3f8)](_0x5852ea(0xca3),_0x20fc4b);}}function calculateDistractorAnalysis(_0x5ab107,_0x3fbad1){const _0x1f43e7=_0x5319e2,_0x1fdf76={};if(_0x3fbad1[_0x1f43e7(0x4f1)]<0x2)return _0x1fdf76;const _0x8e4aca=[..._0x3fbad1][_0x1f43e7(0x602)]((_0x4fa3ca,_0x47f1f5)=>{const _0x476157=_0x1f43e7,_0x497870=_0x47f1f5[_0x476157(0xd6b)]-_0x4fa3ca['latestScore'];if(_0x497870!==0x0)return _0x497870;const _0x313cbb=_0x4fa3ca[_0x476157(0xca5)]?.[_0x476157(0x4f1)]||0x1,_0x4f2242=_0x47f1f5['attempts']?.[_0x476157(0x4f1)]||0x1,_0x474973=_0x313cbb-_0x4f2242;if(_0x474973!==0x0)return _0x474973;const _0x485f93=new Date(_0x4fa3ca[_0x476157(0x666)]),_0x38cc28=new Date(_0x47f1f5['latestSubmittedAt']),_0x5b0dd9=_0x485f93-_0x38cc28;if(_0x5b0dd9!==0x0)return _0x5b0dd9;return _0x4fa3ca['studentName'][_0x476157(0x8ed)](_0x47f1f5[_0x476157(0xdea)],'th');}),_0x3b8a74=_0x8e4aca[_0x1f43e7(0x4f1)],_0x1cd790=Math['max'](0x1,Math[_0x1f43e7(0x5d2)](_0x3b8a74*0.33)),_0x39f65d=_0x8e4aca['slice'](0x0,_0x1cd790),_0x2246fe=_0x8e4aca[_0x1f43e7(0x1e1)](-_0x1cd790);return _0x5ab107['questions'][_0x1f43e7(0xbf2)]((_0x1ff567,_0x655825)=>{const _0x1d7804=_0x1f43e7;if(_0x1ff567[_0x1d7804(0x823)]!==_0x1d7804(0x2d2)||!_0x1ff567[_0x1d7804(0x4ff)])return;const _0x200ddc=_0x1ff567[_0x1d7804(0x14e)],_0x2c2d85={};_0x1ff567[_0x1d7804(0x4ff)][_0x1d7804(0xbf2)]((_0x53386b,_0x45c3cc)=>{_0x2c2d85[_0x45c3cc]={'text':_0x53386b,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x8e4aca['forEach'](_0x20d374=>{const _0x159f66=_0x1d7804,_0x1a30e4=_0x20d374[_0x159f66(0xca5)][_0x20d374['attempts'][_0x159f66(0x4f1)]-0x1],_0x3fab9b=_0x1a30e4[_0x159f66(0xa77)][_0x159f66(0x8af)](_0x24027a=>_0x24027a[_0x159f66(0x672)]===_0x200ddc);if(_0x3fab9b&&_0x3fab9b[_0x159f66(0x4b0)]!==null){const _0x379af8=_0x1ff567['options'][_0x159f66(0x475)](_0x2ab67b=>_0x2ab67b===_0x3fab9b[_0x159f66(0x3e8)]);_0x379af8!==-0x1&&_0x2c2d85[_0x379af8]&&(_0x2c2d85[_0x379af8][_0x159f66(0x208)]++,_0x39f65d['includes'](_0x20d374)&&_0x2c2d85[_0x379af8][_0x159f66(0x2e5)]++,_0x2246fe[_0x159f66(0x676)](_0x20d374)&&_0x2c2d85[_0x379af8][_0x159f66(0x202)]++);}}),_0x1fdf76[_0x655825]=_0x2c2d85;}),_0x1fdf76;}function calculateReliabilityKR20(_0x532d2c,_0x452901,_0x7ae452){const _0x58bb8c=_0x5319e2,_0x32239c=_0x532d2c[_0x58bb8c(0x521)]['length'];if(_0x32239c<0x2||_0x452901[_0x58bb8c(0x4f1)]<0x2)return null;const _0x4df095=_0x452901[_0x58bb8c(0x23a)](_0xbc4fc4=>_0xbc4fc4[_0x58bb8c(0xd6b)]),_0x3ba953=_0x4df095[_0x58bb8c(0xe69)]((_0x5a0e31,_0x236eb7)=>_0x5a0e31+_0x236eb7,0x0)/_0x4df095[_0x58bb8c(0x4f1)],_0x468eed=_0x4df095['map'](_0x2b9f72=>Math[_0x58bb8c(0xdcc)](_0x2b9f72-_0x3ba953,0x2))[_0x58bb8c(0xe69)]((_0x2624c7,_0x330560)=>_0x2624c7+_0x330560,0x0)/_0x4df095[_0x58bb8c(0x4f1)];if(_0x468eed===0x0)return null;let _0x4dac09=0x0;for(let _0x4a5fb1=0x0;_0x4a5fb1<_0x32239c;_0x4a5fb1++){const _0x221bc8=_0x7ae452[_0x4a5fb1]?.['p'];if(_0x221bc8===undefined)continue;const _0x47ce78=0x1-_0x221bc8;_0x4dac09+=_0x221bc8*_0x47ce78;}if(_0x4dac09===0x0)return null;const _0x5264e9=_0x32239c/(_0x32239c-0x1)*(0x1-_0x4dac09/_0x468eed);if(_0x5264e9>0x1)return null;return _0x5264e9;}async function handleAnalyzeClass(){const _0x253ada=_0x5319e2;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x253ada(0xd49));return;}const _0x2041bf=collection(db,'artifacts/'+appId+_0x253ada(0xa62)+currentQuizData['id']+_0x253ada(0xe09)),_0x9a4dd8=await getDocs(_0x2041bf),_0x3bfcea=_0x9a4dd8[_0x253ada(0x6e9)]['map'](_0x408703=>_0x408703[_0x253ada(0x9cb)]());if(_0x3bfcea['length']<0x2){showMessage(_0x253ada(0x552));return;}const _0x140019=document[_0x253ada(0x6e6)](_0x253ada(0x2e2));_0x140019[_0x253ada(0xa19)]=_0x253ada(0x1b1),document[_0x253ada(0x6e6)](_0x253ada(0x3b0))['disabled']=!![];const _0x391195=_0x3bfcea[_0x253ada(0x23a)]((_0x4c7043,_0x4ac2e0)=>{const _0x23fa00=_0x253ada,_0x30c81b=_0x4c7043[_0x23fa00(0xca5)][_0x4c7043[_0x23fa00(0xca5)][_0x23fa00(0x4f1)]-0x1];if(!_0x30c81b)return'';return _0x23fa00(0xc01)+(_0x4ac2e0+0x1)+'\x20('+_0x4c7043[_0x23fa00(0xdea)]+_0x23fa00(0xe1f)+_0x30c81b[_0x23fa00(0x473)]+'/'+_0x4c7043[_0x23fa00(0xd05)]+_0x23fa00(0x5bb)+JSON[_0x23fa00(0x338)](_0x30c81b['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x253ada(0x975)](_0x253ada(0x55a)),_0x38ebfe=_0x253ada(0xc2d)+currentQuizData[_0x253ada(0x9ec)]+_0x253ada(0x6ec)+JSON[_0x253ada(0x338)](currentQuizData['questions'])+_0x253ada(0x7b9)+_0x391195+_0x253ada(0xd62),_0xa8f4f0={'type':_0x253ada(0xce9),'properties':{'classStrengths':{'type':_0x253ada(0x433),'items':{'type':_0x253ada(0x69c)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x253ada(0x69c)}},'teacherSuggestions':{'type':_0x253ada(0x433),'items':{'type':'STRING'}}},'required':['classStrengths',_0x253ada(0xdfb),_0x253ada(0xb91)]};try{const _0x2a7a47=await callAnalysisApi(_0x38ebfe,_0xa8f4f0);displayClassAnalysis(_0x2a7a47);}catch(_0x3cadf2){console[_0x253ada(0x3f8)]('Error\x20during\x20class\x20analysis:',_0x3cadf2),_0x140019[_0x253ada(0xa19)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x3cadf2[_0x253ada(0xa6b)]+_0x253ada(0x632);}finally{document[_0x253ada(0x6e6)](_0x253ada(0x3b0))[_0x253ada(0xe9a)]=![];}}function displayClassAnalysis(_0x2ea691){const _0x1213c2=_0x5319e2,_0x55ebdc=document[_0x1213c2(0x6e6)]('strength-weakness-analysis-container');if(!_0x2ea691){_0x55ebdc[_0x1213c2(0xa19)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x55ebdc[_0x1213c2(0xa19)]=_0x1213c2(0x520)+_0x2ea691[_0x1213c2(0x85a)]['map'](_0x5f3dbe=>_0x1213c2(0x688)+_0x5f3dbe+'</li>')[_0x1213c2(0x975)]('')+_0x1213c2(0xad4)+_0x2ea691[_0x1213c2(0xdfb)][_0x1213c2(0x23a)](_0x52d845=>_0x1213c2(0x688)+_0x52d845+_0x1213c2(0xd2e))[_0x1213c2(0x975)]('')+_0x1213c2(0xaa6)+_0x2ea691[_0x1213c2(0xb91)][_0x1213c2(0x23a)](_0x1f8f66=>'<li>'+_0x1f8f66+_0x1213c2(0xd2e))[_0x1213c2(0x975)]('')+_0x1213c2(0xb5d);}function formatAndPrintWorksheet(_0x76628b,_0x2b8211){const _0x1cdf15=_0x5319e2,_0x40f5e2=_0x1cdf15(0x6b1)+_0x76628b[_0x1cdf15(0x9ec)]+_0x1cdf15(0xdc5)+_0x76628b['topic']+_0x1cdf15(0x1d3)+_0x76628b[_0x1cdf15(0x521)][_0x1cdf15(0x23a)]((_0x51723f,_0x19772b)=>_0x1cdf15(0xafc)+(_0x19772b+0x1)+'.\x20'+_0x51723f[_0x1cdf15(0x14e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x51723f['imageCode']?_0x1cdf15(0xe8a)+_0x51723f[_0x1cdf15(0xc44)]+'</div>':'')+_0x1cdf15(0x910))[_0x1cdf15(0x975)]('')+_0x1cdf15(0xaad);_0x2b8211[_0x1cdf15(0x30b)]['write'](_0x40f5e2),_0x2b8211['document']['close'](),_0x2b8211[_0x1cdf15(0x904)]=function(){setTimeout(()=>{const _0x58e763=_0x4aab;_0x2b8211[_0x58e763(0xe3f)]();},0x3e8);};}async function generateWorksheet(){const _0x36c2ad=_0x5319e2,_0x4bc39b=document[_0x36c2ad(0x6e6)](_0x36c2ad(0x7fa))['value'][_0x36c2ad(0xc3f)]();if(!_0x4bc39b){showMessage(_0x36c2ad(0xd20));return;}const _0xf33346=document['getElementById'](_0x36c2ad(0x7fb))[_0x36c2ad(0x3a6)],_0xfdbd01=_0xf33346?'':_0x36c2ad(0x72c),_0x3fc742=window['open']('',_0x36c2ad(0x7c9));_0x3fc742[_0x36c2ad(0x30b)][_0x36c2ad(0x704)](_0x36c2ad(0x71c));const _0x9f0ab2=parseInt(document['getElementById'](_0x36c2ad(0x922))[_0x36c2ad(0xb2d)]),_0x705576=document[_0x36c2ad(0x6e6)](_0x36c2ad(0x279))[_0x36c2ad(0x3a6)],_0x488453=_0x705576?_0x36c2ad(0xbaf):'',_0x110939=_0x36c2ad(0x174)+_0xfdbd01+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x9f0ab2+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x4bc39b+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x488453+_0x36c2ad(0xbe1)+simpleMathPrompt+_0x36c2ad(0x55f),_0x452e76={'type':_0x36c2ad(0xce9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x36c2ad(0x433),'items':{'type':_0x36c2ad(0xce9),'properties':{'questionText':{'type':_0x36c2ad(0x69c)},'imageCode':{'type':_0x36c2ad(0x69c)}},'required':['questionText']}}},'required':[_0x36c2ad(0x9ec),_0x36c2ad(0x521)]};document[_0x36c2ad(0x6e6)](_0x36c2ad(0x4a5))[_0x36c2ad(0xb7b)]='',document[_0x36c2ad(0x6e6)]('loader')['classList'][_0x36c2ad(0xb00)](_0x36c2ad(0xd60)),document[_0x36c2ad(0x6e6)](_0x36c2ad(0x9f5))[_0x36c2ad(0x3d9)]['remove'](_0x36c2ad(0xd60)),generateWorksheetBtn[_0x36c2ad(0xe9a)]=!![];try{const _0x566294=await callAnalysisApi(_0x110939,_0x452e76);formatAndPrintWorksheet(_0x566294,_0x3fc742);}catch(_0x5f57a9){console[_0x36c2ad(0x3f8)](_0x36c2ad(0x48b),_0x5f57a9);if(_0x3fc742)_0x3fc742[_0x36c2ad(0x4ad)]();showMessage(_0x36c2ad(0xa00));}finally{document[_0x36c2ad(0x6e6)](_0x36c2ad(0x6f0))['classList'][_0x36c2ad(0x831)](_0x36c2ad(0xd60)),document[_0x36c2ad(0x6e6)]('quiz-generation-area')['classList'][_0x36c2ad(0x831)](_0x36c2ad(0xd60)),generateWorksheetBtn[_0x36c2ad(0xe9a)]=![];}}async function callAnalysisApi(_0x13cb2d,_0x92804d){const _0x2afd03=_0x5319e2,_0x10475b={'contents':[{'role':'user','parts':[{'text':_0x13cb2d}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x92804d}},_0x49ece2=_0x2afd03(0x309),_0x422730='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x49ece2,_0x45a3b1=await fetch(_0x422730,{'method':_0x2afd03(0x932),'headers':{'Content-Type':_0x2afd03(0xbbd)},'body':JSON[_0x2afd03(0x338)](_0x10475b)});if(!_0x45a3b1['ok'])throw new Error(_0x2afd03(0x241)+_0x45a3b1[_0x2afd03(0x626)]);const _0x444a01=await _0x45a3b1[_0x2afd03(0xdf4)]();if(_0x444a01[_0x2afd03(0x4b8)]?.[0x0]?.[_0x2afd03(0x23e)]?.[_0x2afd03(0xe9f)]?.[0x0])return JSON[_0x2afd03(0x110)](_0x444a01[_0x2afd03(0x4b8)][0x0]['content']['parts'][0x0][_0x2afd03(0x135)]);else{let _0x50eff0=_0x2afd03(0x429);if(_0x444a01[_0x2afd03(0xd47)]?.['blockReason'])_0x50eff0=_0x2afd03(0x1c7)+_0x444a01[_0x2afd03(0xd47)][_0x2afd03(0xe84)]+'.';else _0x444a01[_0x2afd03(0x4b8)]?.[0x0]?.[_0x2afd03(0x71f)]&&_0x444a01['candidates'][0x0][_0x2afd03(0x71f)]!=='STOP'&&(_0x50eff0=_0x2afd03(0x8dd)+_0x444a01[_0x2afd03(0x4b8)][0x0]['finishReason']+'.');console[_0x2afd03(0x3f8)](_0x50eff0,JSON[_0x2afd03(0x338)](_0x444a01));throw new Error(_0x50eff0);}}async function handleStartSyncMode(_0x2a1273,_0x2745f9=![],_0x557f8a=_0x5319e2(0xd75)){const _0x19177f=_0x5319e2,_0x4e22d4=allQuizzes[_0x19177f(0x8af)](_0x3dc38b=>_0x3dc38b['id']===_0x2a1273)||allQuizzesGlobal[_0x19177f(0x8af)](_0x47a0e6=>_0x47a0e6['id']===_0x2a1273);if(!_0x4e22d4){showMessage(_0x19177f(0x76c));return;}currentQuizData=getShuffledQuiz(_0x4e22d4);const _0x45203c=Math[_0x19177f(0x5d2)](0x3e8+Math['random']()*0x2328)[_0x19177f(0xdd7)](),_0x34300d=doc(db,_0x19177f(0x555)+appId+'/public/data/projects',_0x4e22d4[_0x19177f(0x19e)]),_0x2b014a=await getDoc(_0x34300d);if(!_0x2b014a[_0x19177f(0x958)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x45627d=_0x2b014a[_0x19177f(0x9cb)]()['students']||[],_0x4fc535={};if(_0x557f8a==='anonymous'||_0x557f8a==='anonymous_reveal_end'){const _0xd3e075=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x19177f(0x46d)]());_0x45627d[_0x19177f(0xbf2)]((_0x16dcf5,_0x155a6a)=>{_0x4fc535[_0x16dcf5]=_0xd3e075[_0x155a6a]||'ผู้เล่น\x20'+(_0x155a6a+0x1);});}const _0x2910b2=document[_0x19177f(0x6e6)](_0x19177f(0x52b))[_0x19177f(0x3a6)],_0x5bae52=parseInt(document[_0x19177f(0x6e6)](_0x19177f(0x391))[_0x19177f(0xb2d)],0xa);let _0x311e4c={'timerMode':_0x19177f(0x877),'timerDuration':0x0};_0x2910b2&&(_0x311e4c[_0x19177f(0x1d8)]='per_question',_0x311e4c['timerDuration']=_0x5bae52||0xf0);const _0x14baf7=document['getElementById'](_0x19177f(0x83c))[_0x19177f(0x3a6)],_0x331661=document[_0x19177f(0x6e6)]('enable-black-market-checkbox')[_0x19177f(0x3a6)];try{const _0x165f63=await addDoc(collection(db,_0x19177f(0x555)+appId+_0x19177f(0x6ba)),{'quizId':_0x4e22d4['id'],'pin':_0x45203c,'status':_0x19177f(0x7c5),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2745f9,'players':{},'gameVariant':_0x557f8a,'reviewQuestionIndex':0x0,'playerNicknames':_0x4fc535,'isAnonymousRevealed':![],..._0x311e4c,'showAnswerInAnonymous':_0x14baf7,'isBlackMarketEnabled':_0x331661});currentLiveGameId=_0x165f63['id'],showView(_0x19177f(0x3fa)),renderSyncLobbyView(_0x45203c,_0x4e22d4[_0x19177f(0x9ec)]),listenForSyncGameUpdates();const _0x3ac4f1={'gameId':currentLiveGameId,'mode':_0x19177f(0x6d3),'role':_0x19177f(0x219)};sessionStorage['setItem'](_0x19177f(0x909),JSON['stringify'](_0x3ac4f1));}catch(_0xcee95b){console['error'](_0x19177f(0xd89),_0xcee95b),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x254ae8){const _0x4e043c=_0x5319e2;if(!_0x254ae8||!_0x254ae8['shuffledQuiz']||!_0x254ae8[_0x4e043c(0xdb1)])return _0x254ae8[_0x4e043c(0xdb1)]||{};const _0x56e594=_0x254ae8[_0x4e043c(0x320)]['questions'][_0x4e043c(0x4f1)],_0x4f8eed=JSON[_0x4e043c(0x110)](JSON[_0x4e043c(0x338)](_0x254ae8[_0x4e043c(0xdb1)]));return Object['values'](_0x4f8eed)[_0x4e043c(0xbf2)](_0x6b1ae8=>{const _0x10bea7=_0x4e043c,_0x4ef7c7=_0x6b1ae8[_0x10bea7(0x473)]||0x0,_0x184a46=_0x6b1ae8[_0x10bea7(0x812)]||0x0;_0x56e594>0x0&&_0x4ef7c7===_0x56e594?_0x6b1ae8[_0x10bea7(0xb56)]=!![]:_0x6b1ae8[_0x10bea7(0xb56)]=![],_0x6b1ae8[_0x10bea7(0x163)]=_0x4ef7c7,_0x6b1ae8[_0x10bea7(0x812)]=_0x184a46;}),_0x4f8eed;}function _0x4aab(_0x330fa9,_0x743c59){const _0x21f850=_0x21f8();return _0x4aab=function(_0x4aab5b,_0x183cea){_0x4aab5b=_0x4aab5b-0x110;let _0x17a483=_0x21f850[_0x4aab5b];return _0x17a483;},_0x4aab(_0x330fa9,_0x743c59);}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x65ec0d=_0x5319e2;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x3a7974=doc(db,_0x65ec0d(0x555)+appId+_0x65ec0d(0x6ba),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3a7974,_0x1b7068=>{const _0x2e6cc4=_0x65ec0d;if(!_0x1b7068[_0x2e6cc4(0x958)]()){sessionStorage[_0x2e6cc4(0x685)](_0x2e6cc4(0x909)),showMessage(_0x2e6cc4(0xcd5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2e6cc4(0x356)):showView(_0x2e6cc4(0x6ca));return;}cachedGameData=_0x1b7068[_0x2e6cc4(0x9cb)](),cachedGameData[_0x2e6cc4(0x320)]&&(currentQuizData=cachedGameData[_0x2e6cc4(0x320)]),syncDataAndRender();});const _0x2beef0=collection(db,'artifacts/'+appId+_0x65ec0d(0x42a)+currentLiveGameId+_0x65ec0d(0xba2));if(currentMode===_0x65ec0d(0x219))unsubscribePlayersCollectionListener=onSnapshot(_0x2beef0,_0x1c752c=>{const _0x47252b=_0x65ec0d;_0x1c752c[_0x47252b(0xe8b)]()['forEach'](_0xb4afbd=>{const _0x27a2fb=_0x47252b;if(_0xb4afbd['type']===_0x27a2fb(0xc72)||_0xb4afbd['type']===_0x27a2fb(0x5dc))cachedPlayerData[_0xb4afbd[_0x27a2fb(0x98a)]['id']]=_0xb4afbd[_0x27a2fb(0x98a)][_0x27a2fb(0x9cb)]();else _0xb4afbd[_0x27a2fb(0xe5f)]===_0x27a2fb(0x723)&&delete cachedPlayerData[_0xb4afbd['doc']['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x65ec0d(0x4f1)]>0x0){const _0xc2c247=query(_0x2beef0,where(_0x65ec0d(0x1dc),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0xc2c247,_0x3af62b=>{_0x3af62b['docChanges']()['forEach'](_0x3587a0=>{const _0x55e456=_0x4aab;(_0x3587a0[_0x55e456(0xe5f)]==='added'||_0x3587a0[_0x55e456(0xe5f)]===_0x55e456(0x5dc))&&(cachedPlayerData[_0x3587a0['doc']['id']]=_0x3587a0['doc'][_0x55e456(0x9cb)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x30149c=_0x5319e2;if(!cachedGameData)return;const _0x109573={},_0x58dab2=cachedGameData[_0x30149c(0x519)];Object['keys'](cachedPlayerData)[_0x30149c(0xbf2)](_0x392fc6=>{const _0x30bbf7=_0x30149c,_0x32721a=cachedPlayerData[_0x392fc6],_0x5d0b37=_0x32721a['answers']&&_0x32721a[_0x30bbf7(0xa77)][_0x30bbf7(0x401)](_0x1d828b=>_0x1d828b[_0x30bbf7(0x737)]===_0x58dab2);_0x109573[_0x392fc6]={..._0x32721a,'answered':_0x5d0b37};});const _0x366902={...cachedGameData,'players':_0x109573};currentMode==='admin'?updateAdminSyncView(_0x366902):updateStudentSyncView(_0x366902);}function renderSyncLobbyView(_0x259dc8,_0x378f04){const _0x377aef=_0x5319e2;liveGameView[_0x377aef(0xa19)]=_0x377aef(0xcef)+_0x378f04+_0x377aef(0x683)+_0x259dc8+_0x377aef(0x463);const _0x1f8118=document[_0x377aef(0x6e6)](_0x377aef(0x84a)),_0x1ba32d=document[_0x377aef(0x6e6)](_0x377aef(0xd16));_0x1f8118[_0x377aef(0x49d)]('change',()=>{const _0x5ddf16=_0x377aef;_0x1ba32d['style'][_0x5ddf16(0x91a)]=_0x1f8118[_0x5ddf16(0x3a6)]?_0x5ddf16(0x9f4):_0x5ddf16(0x877);}),document[_0x377aef(0x6e6)]('start-sync-game-btn')[_0x377aef(0x49d)](_0x377aef(0xa6e),async()=>{const _0x59c1fa=_0x377aef,_0x429a49=doc(db,_0x59c1fa(0x555)+appId+_0x59c1fa(0x6ba),currentLiveGameId),_0x4d5d7=document[_0x59c1fa(0x6e6)]('confidence-scoring-toggle')[_0x59c1fa(0x3a6)];await updateDoc(_0x429a49,{'status':_0x59c1fa(0x195),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x4d5d7});});}function updateAdminSyncView(_0x38616d){const _0x58a3fe=_0x5319e2;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x38616d[_0x58a3fe(0x626)]){case'lobby':renderSyncLobbyView(_0x38616d[_0x58a3fe(0x373)],_0x38616d[_0x58a3fe(0x320)][_0x58a3fe(0x9ec)]);const _0x11060d=Object[_0x58a3fe(0x6fa)](_0x38616d[_0x58a3fe(0xdb1)]||{})[_0x58a3fe(0xbdf)](([_0x197a34,_0x283c93])=>_0x283c93[_0x58a3fe(0x626)]!==_0x58a3fe(0x8b2));document[_0x58a3fe(0x6e6)](_0x58a3fe(0x581))[_0x58a3fe(0xb7b)]=_0x11060d[_0x58a3fe(0x4f1)],document['getElementById'](_0x58a3fe(0xac9))['innerHTML']=_0x11060d['map'](([_0x5341b3,_0x5ec993])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5341b3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x5341b3+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')||_0x58a3fe(0x628),document[_0x58a3fe(0x6e6)](_0x58a3fe(0x674))[_0x58a3fe(0xe9a)]=_0x11060d[_0x58a3fe(0x4f1)]===0x0;break;case _0x58a3fe(0x195):const _0x5018ee=Object[_0x58a3fe(0x129)](_0x38616d[_0x58a3fe(0xdb1)]||{})[_0x58a3fe(0xbdf)](_0x4caf21=>_0x4caf21[_0x58a3fe(0x626)]!==_0x58a3fe(0x8b2)),_0x367383=_0x5018ee[_0x58a3fe(0xbdf)](_0x3c1130=>_0x3c1130[_0x58a3fe(0xa65)])['length'],_0x1614ca=_0x367383===_0x5018ee['length']&&_0x5018ee[_0x58a3fe(0x4f1)]>0x0;if(_0x1614ca&&_0x38616d[_0x58a3fe(0x626)]===_0x58a3fe(0x195)){const _0x249302=doc(db,_0x58a3fe(0x555)+appId+_0x58a3fe(0x6ba),currentLiveGameId);updateDoc(_0x249302,{'status':_0x58a3fe(0xa0b)});return;}if(document[_0x58a3fe(0x6e6)](_0x58a3fe(0xb37))===null)renderAdminSyncQuestionView(_0x38616d);else{const _0x34722f=document[_0x58a3fe(0x6e6)](_0x58a3fe(0xbc6));_0x34722f&&(_0x34722f[_0x58a3fe(0xb7b)]=_0x367383+'/'+_0x5018ee[_0x58a3fe(0x4f1)]);const _0x84ef27=document['getElementById'](_0x58a3fe(0x6c2));_0x84ef27&&(_0x84ef27[_0x58a3fe(0xa19)]=_0x5018ee['map'](_0x157864=>{const _0x49502c=_0x58a3fe,_0x4bd5ff=_0x157864[_0x49502c(0xa65)]?'bg-green-500':'bg-gray-500',_0x373a6c=_0x157864['answered']?_0x49502c(0xcc4):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x49502c(0xaf9)+_0x4bd5ff+'\x22>'+_0x373a6c+_0x49502c(0x75b)+_0x157864[_0x49502c(0x1dc)]+_0x49502c(0xbb4)+_0x157864['name']+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})['join'](''));}const _0x3b6022=_0x38616d[_0x58a3fe(0x1d8)]===_0x58a3fe(0x14d)&&_0x38616d[_0x58a3fe(0x6f3)];if(_0x3b6022){const _0x13a785=_0x38616d[_0x58a3fe(0x6f3)][_0x58a3fe(0xce1)]()[_0x58a3fe(0xa48)](),_0x234d1b=_0x38616d[_0x58a3fe(0x9c5)]*0x3e8,_0x553f7b=_0x13a785+_0x234d1b,_0x2274cf=document[_0x58a3fe(0x6e6)](_0x58a3fe(0xe28)),_0x2d8203=document[_0x58a3fe(0x6e6)](_0x58a3fe(0xaa0));syncQuestionTimerInterval=setInterval(()=>{const _0x2d2390=_0x58a3fe,_0x2afa42=Date[_0x2d2390(0xc35)](),_0x152277=_0x5018ee[_0x2d2390(0x4f1)]>0x0&&_0x5018ee['every'](_0x4b608f=>{const _0x5d3d5d=_0x2d2390;if(_0x4b608f[_0x5d3d5d(0xa65)])return!![];const _0x41861d=_0x4b608f['timeBonusThisQuestion']||0x0;return _0x2afa42>=_0x13a785+_0x234d1b+_0x41861d;});if(_0x152277){clearInterval(syncQuestionTimerInterval);const _0x48f1ef=doc(db,_0x2d2390(0x555)+appId+_0x2d2390(0x6ba),currentLiveGameId);updateDoc(_0x48f1ef,{'status':'summary'});return;}const _0x3daca5=_0x553f7b-_0x2afa42;if(_0x3daca5<=0x0){if(_0x2274cf)_0x2274cf[_0x2d2390(0xaed)][_0x2d2390(0x96d)]='0%';if(_0x2d8203)_0x2d8203['textContent']=_0x2d2390(0xdfa);}else{if(_0x2274cf&&_0x2d8203){const _0x47de0a=_0x3daca5/_0x234d1b*0x64;_0x2274cf[_0x2d2390(0xaed)][_0x2d2390(0x96d)]=_0x47de0a+'%',_0x2d8203['textContent']=Math[_0x2d2390(0x6eb)](_0x3daca5/0x3e8);}}},0x1f4);}break;case _0x58a3fe(0xa0b):const _0x566a53=_0x38616d[_0x58a3fe(0x519)],_0x146bef=_0x38616d[_0x58a3fe(0x320)][_0x58a3fe(0x521)][_0x566a53];renderSyncSummaryView(_0x38616d,_0x146bef,!![]);break;case'results':const _0x39ab1d=_0x38616d[_0x58a3fe(0xa30)]||'classic';_0x39ab1d===_0x58a3fe(0xaf6)||_0x39ab1d===_0x58a3fe(0x1e6)?renderAdminSyncDashboard(_0x38616d,!![],_0x38616d['reviewQuestionIndex']):(_0x38616d[_0x58a3fe(0x626)]===_0x58a3fe(0x354)&&!_0x38616d[_0x58a3fe(0x116)]&&((async()=>{const _0x30c903=_0x58a3fe;try{const _0x196366=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x196366,{'scoresCalculated':!![]});const _0x2e9ccb=cachedPlayerData||{},_0x4ab76f=_0x38616d[_0x30c903(0x320)][_0x30c903(0x521)][_0x30c903(0x4f1)],_0x2d2722={};Object['values'](_0x2e9ccb)[_0x30c903(0xbf2)](_0x283e15=>{const _0x78ef22=_0x30c903;if(_0x283e15[_0x78ef22(0x626)]!==_0x78ef22(0x8b2)){const _0x175411=_0x283e15['name'],_0x3b3bee=_0x283e15['score']||0x0,_0x1d450e=_0x283e15[_0x78ef22(0x812)]||0x0;let _0x5d393f=_0x1d450e;_0x4ab76f>0x0&&_0x3b3bee===_0x4ab76f&&(_0x5d393f+=0x1),_0x2d2722['players.'+_0x175411+'.score']=_0x3b3bee,_0x2d2722['players.'+_0x175411+'.totalPoints']=_0x5d393f,_0x2d2722[_0x78ef22(0xc7e)+_0x175411+_0x78ef22(0x986)]=_0x5d393f;}}),await updateDoc(_0x196366,{..._0x2d2722});}catch(_0x1ac61b){console[_0x30c903(0x3f8)](_0x30c903(0xa6f),_0x1ac61b);}})()),renderAdminSyncDashboard(_0x38616d,!![],_0x38616d[_0x58a3fe(0x519)]));break;case _0x58a3fe(0x636):const _0x388d08=Object[_0x58a3fe(0xa7d)](_0x38616d[_0x58a3fe(0xdb1)]||{})[_0x58a3fe(0x4f1)]>0x0,_0x36088c=_0x38616d['resultsSaved']===!![],_0x1c5595=_0x38616d['shouldSaveResults']===!![];_0x1c5595&&!_0x36088c&&_0x388d08&&saveGameResultsAsSubmissions(_0x38616d);sessionStorage[_0x58a3fe(0x685)]('activeGameSession');const _0x467bbd=calculateFinalPodiumScores(_0x38616d);showPodiumView(_0x467bbd,'sync',_0x38616d);break;}}function renderAdminSyncQuestionView(_0x3ece58){const _0x4e7595=_0x5319e2,_0x8aed67=_0x3ece58[_0x4e7595(0x519)],_0x7130f6=_0x3ece58[_0x4e7595(0x320)][_0x4e7595(0x521)][_0x8aed67],_0x265c35=_0x3ece58[_0x4e7595(0x320)][_0x4e7595(0x521)][_0x4e7595(0x4f1)],_0x4bac85=Object[_0x4e7595(0x129)](_0x3ece58[_0x4e7595(0xdb1)]||{})['filter'](_0x2a0173=>_0x2a0173[_0x4e7595(0x626)]!=='inactive'),_0x44c092=_0x4bac85[_0x4e7595(0xbdf)](_0x3daa1d=>_0x3daa1d['answered'])[_0x4e7595(0x4f1)],_0x2a8a84=_0x44c092===_0x4bac85['length']&&_0x4bac85['length']>0x0,_0x37fdf7=_0x7130f6[_0x4e7595(0x823)]||_0x3ece58[_0x4e7595(0x320)][_0x4e7595(0xd29)],_0x59312b=(_0x37fdf7===_0x4e7595(0xcea)||_0x37fdf7===_0x4e7595(0x603))&&_0x7130f6[_0x4e7595(0x4ff)]&&_0x7130f6['options'][_0x4e7595(0x4f1)]>0x0;let _0x4d05b3='';_0x59312b?_0x4d05b3=_0x4e7595(0xd23):_0x4d05b3=(_0x7130f6[_0x4e7595(0x4ff)]||[])[_0x4e7595(0x23a)](_0x3af003=>_0x4e7595(0x692)+_0x3af003+_0x4e7595(0xa5a))[_0x4e7595(0x975)]('');let _0x364174='';_0x3ece58[_0x4e7595(0x1d8)]===_0x4e7595(0x14d)&&(_0x364174=_0x4e7595(0x21b)+_0x3ece58[_0x4e7595(0x9c5)]+_0x4e7595(0xc70));liveGameView[_0x4e7595(0xa19)]=_0x4e7595(0x31e)+(_0x8aed67+0x1)+_0x4e7595(0xd2d)+_0x265c35+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x3ece58['pin']+_0x4e7595(0x82d)+_0x44c092+'/'+_0x4bac85['length']+_0x4e7595(0xddf)+_0x364174+_0x4e7595(0x5e3)+(_0x7130f6[_0x4e7595(0x14e)]||_0x7130f6[_0x4e7595(0x2f8)])+_0x4e7595(0x729)+_0x4d05b3+_0x4e7595(0x8ac)+(!_0x2a8a84?_0x4e7595(0xe9a):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window['MathJax'])MathJax[_0x4e7595(0xc6e)]();const _0x5c6900=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);document[_0x4e7595(0x6e6)]('show-results-btn')['addEventListener'](_0x4e7595(0xa6e),async()=>{const _0x1d105b=_0x4e7595;await updateDoc(_0x5c6900,{'status':_0x1d105b(0xa0b)});}),document[_0x4e7595(0x6e6)]('open-sync-scratchpad-btn')[_0x4e7595(0x4aa)]=()=>{const _0x1ae67e=_0x4e7595;openScratchpad(_0x7130f6,_0x7130f6[_0x1ae67e(0x4ff)]||[]);},document['getElementById'](_0x4e7595(0xd8a))['addEventListener']('click',()=>{const _0x10fe64=_0x4e7595;document[_0x10fe64(0x6e6)](_0x10fe64(0xb37))[_0x10fe64(0x3d9)]['toggle'](_0x10fe64(0xd60));});const _0x5cc4c3=document['getElementById'](_0x4e7595(0x544));_0x5cc4c3&&(_0x5cc4c3[_0x4e7595(0x4aa)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0xe17291=_0x4aab;await updateDoc(_0x5c6900,{'status':_0xe17291(0x636)});});});}function renderSyncLeaderboardView(_0x98c8e,_0x1d5fc2){const _0x2e5f07=_0x5319e2,_0x3c0743=Object[_0x2e5f07(0x129)](_0x98c8e[_0x2e5f07(0xdb1)]||{});_0x3c0743[_0x2e5f07(0x602)]((_0x39de63,_0x52d0db)=>_0x52d0db['score']-_0x39de63['score']);const _0x7dafc0=_0x3c0743['slice'](0x0,0x5);let _0x1d1c58='';if(_0x1d5fc2){const _0x1e72d1=_0x98c8e['currentQuestionIndex']>=_0x98c8e[_0x2e5f07(0x320)]['questions'][_0x2e5f07(0x4f1)]-0x1;_0x1d1c58='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x1e72d1?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+_0x2e5f07(0x943);}else _0x1d1c58='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView['innerHTML']=_0x2e5f07(0x199)+_0x7dafc0[_0x2e5f07(0x23a)]((_0x25828f,_0x5879bc)=>_0x2e5f07(0x868)+(_0x5879bc+0x1)+'.\x20'+_0x25828f[_0x2e5f07(0x1dc)]+_0x2e5f07(0x7da)+_0x25828f[_0x2e5f07(0x473)]+_0x2e5f07(0x662))[_0x2e5f07(0x975)]('')+_0x2e5f07(0xc23)+_0x1d1c58+_0x2e5f07(0x567),_0x1d5fc2&&document[_0x2e5f07(0x6e6)](_0x2e5f07(0xdc1))[_0x2e5f07(0x49d)](_0x2e5f07(0xa6e),async()=>{const _0x5b2bf2=_0x2e5f07,_0x3a49c9=doc(db,_0x5b2bf2(0x555)+appId+_0x5b2bf2(0x6ba),currentLiveGameId),_0xfad436=_0x98c8e[_0x5b2bf2(0x519)]+0x1;if(_0xfad436<_0x98c8e[_0x5b2bf2(0x320)][_0x5b2bf2(0x521)][_0x5b2bf2(0x4f1)]){const _0x152489={};Object[_0x5b2bf2(0xa7d)](_0x98c8e['players'])['forEach'](_0x2ef3f5=>{const _0x1b28a7=_0x5b2bf2;_0x152489['players.'+_0x2ef3f5+_0x1b28a7(0x72a)]=![];}),await updateDoc(_0x3a49c9,{'status':_0x5b2bf2(0x195),'currentQuestionIndex':_0xfad436,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x3a49c9,{'status':_0x5b2bf2(0x636)});});}async function handleJoinSyncGame(){const _0xeecf74=_0x5319e2,_0x4a74fc=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x4a74fc||_0x4a74fc[_0xeecf74(0xc3f)]()['length']!==0x2){showMessage(_0xeecf74(0x7cf));return;}try{const _0x564be=collection(db,_0xeecf74(0x555)+appId+_0xeecf74(0x6ba)),_0x16a163=query(_0x564be,where(_0xeecf74(0x373),'==',_0x4a74fc['trim']()),where(_0xeecf74(0x626),'==',_0xeecf74(0x7c5))),_0x27bf28=await getDocs(_0x16a163);if(_0x27bf28['empty']){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x135381=_0x27bf28[_0xeecf74(0x6e9)][0x0];currentLiveGameId=_0x135381['id'];const _0x3e5abd=_0x135381[_0xeecf74(0x9cb)](),_0x94e18f=doc(db,_0xeecf74(0x555)+appId+'/public/data/quizzes',_0x3e5abd[_0xeecf74(0x769)]),_0x1ae13d=await getDoc(_0x94e18f);if(!_0x1ae13d['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x830b95=_0x1ae13d[_0xeecf74(0x9cb)](),_0x204506=doc(db,'artifacts/'+appId+_0xeecf74(0x92e),_0x830b95['projectId']),_0x1cf65b=await getDoc(_0x204506);if(!_0x1cf65b[_0xeecf74(0x958)]())throw new Error(_0xeecf74(0x605));currentQuizData=_0x3e5abd[_0xeecf74(0x320)];const _0x55b410=_0x1cf65b['data']();showView(_0xeecf74(0x25e)),showTeamPlayerSelection(_0x55b410[_0xeecf74(0x38b)],_0x830b95[_0xeecf74(0x9ec)]);const _0x421933=document[_0xeecf74(0x6e6)](_0xeecf74(0xdc2));_0x421933['onclick']=confirmAndJoinSyncGame;}catch(_0x213f1f){console['error'](_0xeecf74(0xe18),_0x213f1f),showMessage(_0xeecf74(0x1f5)+_0x213f1f['message']);}}function updateStudentSyncView(_0x719986){const _0x5f5c47=_0x5319e2,_0x49fdeb=localTeamPlayers[0x0],_0x138cc6=_0x719986[_0x5f5c47(0xdb1)][_0x49fdeb]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x719986[_0x5f5c47(0x626)]){case'lobby':showView('live-game'),liveGameView[_0x5f5c47(0xa19)]=_0x5f5c47(0x9cc);break;case _0x5f5c47(0x195):if(_0x719986[_0x5f5c47(0x519)]!==lastSeenQuestionIndex){console[_0x5f5c47(0x8b1)]('New\x20question\x20detected.\x20Cleaning\x20up.'),sessionStorage[_0x5f5c47(0x685)](_0x5f5c47(0x979)),sessionStorage[_0x5f5c47(0x685)](_0x5f5c47(0x11a)),sessionStorage['removeItem'](_0x5f5c47(0x976));const _0x38e0b9='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x2d8973=_0x5f5c47(0x699)+lastSeenQuestionIndex,_0x27684e='hiddenOptions_q'+lastSeenQuestionIndex;Object[_0x5f5c47(0xa7d)](sessionStorage)[_0x5f5c47(0xbf2)](_0xd60bff=>{const _0x2121b2=_0x5f5c47;(_0xd60bff[_0x2121b2(0x4be)](_0x38e0b9)||_0xd60bff[_0x2121b2(0x4be)](_0x2d8973)||_0xd60bff[_0x2121b2(0x4be)](_0x27684e))&&sessionStorage[_0x2121b2(0x685)](_0xd60bff);});if(_0x138cc6[_0x5f5c47(0xdf9)]||_0x138cc6[_0x5f5c47(0x32c)]||(_0x138cc6[_0x5f5c47(0x724)]||0x0)>0x0){const _0x3486d9=doc(db,_0x5f5c47(0x555)+appId+_0x5f5c47(0x42a)+currentLiveGameId+_0x5f5c47(0xba2),_0x49fdeb);updateDoc(_0x3486d9,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x5f5c47(0x2c7)](_0x148913=>console[_0x5f5c47(0x3f8)](_0x5f5c47(0x216),_0x148913));}lastSeenQuestionIndex=_0x719986[_0x5f5c47(0x519)];}localPlayerTurnIndex=0x0;const _0x164b86=localTeamPlayers[_0x5f5c47(0x280)](_0x7b0c1a=>_0x719986[_0x5f5c47(0xdb1)][_0x7b0c1a]?.[_0x5f5c47(0xa65)]===!![]);if(_0x164b86)liveGameView[_0x5f5c47(0xa19)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x719986);if(_0x719986[_0x5f5c47(0x1d8)]==='per_question'){if(!_0x719986['questionDisplayedAt']){console[_0x5f5c47(0x8b1)](_0x5f5c47(0x1a5));return;}const _0x5a68d3=_0x719986[_0x5f5c47(0x6f3)]['toDate']()['getTime'](),_0x8dbbbd=_0x719986['timerDuration']*0x3e8,_0x2689d7=localTeamPlayers[_0x5f5c47(0x23a)](_0x4c8e65=>_0x719986[_0x5f5c47(0xdb1)][_0x4c8e65]?.[_0x5f5c47(0x724)]||0x0),_0x3c4ab0=Math['max'](..._0x2689d7,0x0),_0x354ecb=_0x5a68d3+_0x8dbbbd+_0x3c4ab0;syncQuestionTimerInterval=setInterval(()=>{const _0x59e58f=_0x5f5c47,_0x6c65d=_0x354ecb-Date[_0x59e58f(0xc35)](),_0x259140=document[_0x59e58f(0x6e6)](_0x59e58f(0xe28)),_0x328a46=document[_0x59e58f(0x6e6)](_0x59e58f(0xaa0));if(_0x6c65d<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x259140)_0x259140[_0x59e58f(0xaed)]['width']='0%';if(_0x328a46)_0x328a46[_0x59e58f(0xb7b)]='0';liveGameView['innerHTML']=_0x59e58f(0x64f);}else{if(_0x259140&&_0x328a46){const _0x1ab311=_0x8dbbbd+_0x3c4ab0,_0x57feb4=_0x1ab311>0x0?_0x6c65d/_0x1ab311*0x64:0x0;_0x259140[_0x59e58f(0xaed)]['width']=_0x57feb4+'%',_0x328a46[_0x59e58f(0xb7b)]=Math[_0x59e58f(0x6eb)](_0x6c65d/0x3e8);}}},0x1f4);}}break;case _0x5f5c47(0xa0b):liveGameView[_0x5f5c47(0xa19)]=_0x5f5c47(0x39e);break;case _0x5f5c47(0x354):localPlayerTurnIndex=0x0;const _0x5d32bd=_0x719986[_0x5f5c47(0xa30)]||_0x5f5c47(0xd75);if(_0x5d32bd===_0x5f5c47(0x874)||_0x5d32bd===_0x5f5c47(0x1e6))renderStudentAnonymousResultsView(_0x719986,_0x719986['currentQuestionIndex']);else _0x5d32bd===_0x5f5c47(0xbf8)?renderStudentCompetitionResultsView(_0x719986,_0x719986[_0x5f5c47(0x519)]):renderStudentSyncResultsView(_0x719986);break;case _0x5f5c47(0x636):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5f5c47(0x60a)](_0x5f5c47(0x508),handleFullscreenChange),document['removeEventListener'](_0x5f5c47(0x903),handleVisibilityChange),sessionStorage[_0x5f5c47(0x685)]('activeGameSession');const _0x352a04=_0x719986['gameVariant']||_0x5f5c47(0xd75),_0x1b1543=_0x719986[_0x5f5c47(0x320)]['questions'][_0x5f5c47(0x4f1)]-0x1;if(_0x352a04===_0x5f5c47(0x874)||_0x352a04===_0x5f5c47(0x1e6))renderStudentAnonymousResultsView(_0x719986,_0x1b1543);else _0x352a04==='competition'?renderStudentCompetitionResultsView(_0x719986,_0x1b1543):renderStudentSyncResultsView(_0x719986);const _0x37d6a0=liveGameView[_0x5f5c47(0x86d)](_0x5f5c47(0x568));_0x37d6a0&&(_0x37d6a0[_0x5f5c47(0xaed)][_0x5f5c47(0x91a)]=_0x5f5c47(0x877));const _0x59da84=liveGameView['querySelector'](_0x5f5c47(0x9ed));_0x59da84&&(_0x59da84[_0x5f5c47(0xaed)][_0x5f5c47(0x91a)]=_0x5f5c47(0x877));const _0x361bde=_0x5f5c47(0x66d);liveGameView[_0x5f5c47(0x963)]?liveGameView[_0x5f5c47(0x963)]['insertAdjacentHTML'](_0x5f5c47(0x1c3),_0x361bde):liveGameView[_0x5f5c47(0xabb)](_0x5f5c47(0x1c3),_0x361bde);break;}}function renderStudentSyncResultsView(_0x382291){const _0x1b2aef=_0x5319e2;let _0x53020a=[];_0x382291[_0x1b2aef(0x972)]&&Array[_0x1b2aef(0x54d)](_0x382291['publicLeaderboard'])&&_0x382291[_0x1b2aef(0x972)][_0x1b2aef(0x4f1)]>0x0?_0x53020a=_0x382291[_0x1b2aef(0x972)]:_0x53020a=Object['values'](_0x382291[_0x1b2aef(0xdb1)]||{});const _0x346264=_0x382291['gameVariant']||'classic',_0xc37a7a=_0x346264===_0x1b2aef(0xaf6)||_0x346264===_0x1b2aef(0x1e6),_0x280df0=_0x382291[_0x1b2aef(0x320)][_0x1b2aef(0x521)],_0x5e2cd9=_0xc37a7a&&_0x382291[_0x1b2aef(0xe82)]!==undefined?_0x382291[_0x1b2aef(0xe82)]:_0x382291[_0x1b2aef(0x519)],_0x71c07b=_0xc37a7a?_0x382291['reviewQuestionIndex']:_0x382291['currentQuestionIndex'],_0x58d24c=_0x53020a['map'](_0x2febc0=>{const _0x1dead0=_0x1b2aef,_0x417bf0=(_0x2febc0[_0x1dead0(0xa77)]||[])[_0x1dead0(0xbdf)](_0x1d3b6b=>_0x1d3b6b[_0x1dead0(0x737)]<=_0x5e2cd9);let _0x109d88=0x0,_0x7946d3=0x0;_0xc37a7a?(_0x109d88=_0x417bf0[_0x1dead0(0xbdf)](_0x5cc231=>_0x5cc231['isCorrect'])[_0x1dead0(0x4f1)],_0x7946d3=_0x417bf0[_0x1dead0(0xe69)]((_0x15f5d0,_0x5bd1a8)=>_0x15f5d0+(_0x5bd1a8[_0x1dead0(0x9d0)]||0x0),0x0)):(_0x109d88=_0x2febc0[_0x1dead0(0x473)]||0x0,_0x7946d3=_0x2febc0[_0x1dead0(0x812)]||0x0);const _0x1818bf=[..._0x417bf0]['sort']((_0x3a7fa4,_0x4914fc)=>_0x3a7fa4['questionIndex']-_0x4914fc[_0x1dead0(0x737)]);let _0x3dcb6e=0x0;return _0x1818bf[_0x1dead0(0xbf2)](_0x5545ff=>{const _0x5ac6a5=_0x1dead0,_0x45f3b9=_0x5545ff['powerupUsed']&&_0x5545ff[_0x5ac6a5(0xdae)]!==_0x5ac6a5(0x990)||_0x5545ff['usedBuyTime'];_0x5545ff[_0x5ac6a5(0x1a1)]?_0x3dcb6e=_0x45f3b9?0x0:_0x3dcb6e+0x1:_0x3dcb6e=0x0;}),{..._0x2febc0,'realScore':_0x109d88,'totalPoints':_0x7946d3,'answers':_0x2febc0[_0x1dead0(0xa77)],'correctStreak':_0x3dcb6e};}),_0x5612de=Math[_0x1b2aef(0xd01)](..._0x58d24c[_0x1b2aef(0x23a)](_0x279109=>_0x279109[_0x1b2aef(0x812)]),-Infinity),_0xe63c7a=Math['max'](..._0x58d24c[_0x1b2aef(0x23a)](_0x41585e=>_0x41585e['realScore']),-Infinity),_0x80f041=_0x382291[_0x1b2aef(0xc55)]===!![],_0x4d7841=[..._0x58d24c][_0x1b2aef(0x602)]((_0x209dde,_0x222cc1)=>{const _0x528b71=_0x1b2aef;if(_0x80f041){const _0x185da4=_0x222cc1[_0x528b71(0x812)]-_0x209dde[_0x528b71(0x812)];if(_0x185da4!==0x0)return _0x185da4;const _0x4d3601=_0x222cc1['realScore']-_0x209dde['realScore'];if(_0x4d3601!==0x0)return _0x4d3601;return(_0x209dde[_0x528b71(0x1dc)]||'')[_0x528b71(0x8ed)](_0x222cc1['name']||'','th');}else{const _0xcf4387=_0x222cc1[_0x528b71(0x812)]-_0x209dde['totalPoints'];if(_0xcf4387!==0x0)return _0xcf4387;const _0x948b68=_0x222cc1[_0x528b71(0x163)]-_0x209dde['realScore'];if(_0x948b68!==0x0)return _0x948b68;return(_0x209dde[_0x528b71(0x1dc)]||'')[_0x528b71(0x8ed)](_0x222cc1[_0x528b71(0x1dc)]||'','th');}});let _0x4fddae=0x1;for(let _0x41a088=0x0;_0x41a088<_0x4d7841[_0x1b2aef(0x4f1)];_0x41a088++){if(_0x41a088>0x0){const _0x80b346=_0x4d7841[_0x41a088-0x1],_0x2cc276=_0x4d7841[_0x41a088];let _0x32a7fd=_0x2cc276[_0x1b2aef(0x812)]===_0x80b346['totalPoints']&&_0x2cc276[_0x1b2aef(0x163)]===_0x80b346['realScore'];!_0x32a7fd&&(_0x4fddae=_0x41a088+0x1);}_0x4d7841[_0x41a088]['displayRank']=_0x4fddae;}let _0x35fa48=_0x4d7841[_0x1b2aef(0xbdf)](_0x5901e5=>localTeamPlayers[_0x1b2aef(0x676)](_0x5901e5[_0x1b2aef(0x1dc)]));_0x35fa48[_0x1b2aef(0x602)]((_0x11f7a6,_0x59ed14)=>(_0x59ed14[_0x1b2aef(0x812)]||0x0)-(_0x11f7a6['totalPoints']||0x0));let _0xa0a0b1='';const _0x394a2d=_0xc37a7a?_0x5e2cd9>=_0x280df0[_0x1b2aef(0x4f1)]-0x1:_0x382291['currentQuestionIndex']>=_0x280df0[_0x1b2aef(0x4f1)]-0x1;if(_0x382291[_0x1b2aef(0x626)]==='podium')_0xa0a0b1='';else _0x394a2d?_0xa0a0b1='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0xa0a0b1=_0x1b2aef(0xe20);const _0x15463b=_0x1b2aef(0x98b)+_0x35fa48[_0x1b2aef(0x23a)]((_0x49e7f4,_0x2c1d96)=>{const _0x185135=_0x1b2aef;let _0x1ff059=_0x185135(0x934);const _0x49ab66=(_0x49e7f4['answers']||[])[_0x185135(0x8af)](_0x14287b=>_0x14287b[_0x185135(0x737)]===_0x71c07b);let _0x3571f5='';if(_0x49ab66){if(_0x49ab66['wasForced'])_0x3571f5+='<span\x20title=\x22โดนบังคับ\x22>👻</span>';if(_0x49ab66[_0x185135(0xa4f)])_0x3571f5+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x49ab66[_0x185135(0x2b0)])_0x3571f5+=_0x185135(0x2b6);const _0x16e216=_0x49ab66[_0x185135(0xdae)];if(_0x16e216){const _0x601fa0={'poll':'📊','cutOne':'✂️','insurance':_0x185135(0x5da),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x185135(0x2f7)};if(_0x601fa0[_0x16e216])_0x3571f5+='<span\x20title=\x22ใช้\x20'+_0x16e216+'\x22>'+_0x601fa0[_0x16e216]+_0x185135(0x8d8);}}if(_0x49ab66){const _0x590c95=_0x49ab66[_0x185135(0x1a1)],_0x47ea94=_0x49ab66[_0x185135(0x7d6)]===!![]||_0x49ab66[_0x185135(0x7d6)]===_0x185135(0x4ef),_0x42200a=_0x49ab66['powerupUsed'];if(_0x42200a===_0x185135(0x990))_0x1ff059=_0x590c95?'bg-yellow-300\x20text-yellow-900\x20font-bold':_0x185135(0xc59);else{if(_0x47ea94)_0x1ff059=_0x590c95?_0x185135(0x1ef):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x590c95?_0x1ff059=_0x185135(0x1ee):_0x1ff059=_0x185135(0x587);}}let _0x22bcf7='';_0x49ab66&&_0x49ab66[_0x185135(0xdae)]===_0x185135(0x990)&&!_0x49ab66[_0x185135(0x1a1)]&&(_0x22bcf7=_0x185135(0xd1a));const _0x2d12aa=_0x49e7f4[_0x185135(0x812)]>=0x0?'(+'+_0x49e7f4['totalPoints'][_0x185135(0xe3a)]()+')':'('+_0x49e7f4[_0x185135(0x812)]['toLocaleString']()+')';let _0x20a411='';const _0x1f4e61=_0x49e7f4[_0x185135(0xa77)]['length'],_0xea9991=_0x5e2cd9+0x1;if(_0x1f4e61>0x0){if(_0x80f041){if(_0x49e7f4[_0x185135(0x812)]===_0x5612de&&_0x5612de>0x0)_0x20a411+='<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>';if(_0x49e7f4[_0x185135(0x163)]===_0xe63c7a&&_0xe63c7a>0x0)_0x20a411+=_0x185135(0x214);}else{if(_0x49e7f4[_0x185135(0x163)]===_0xea9991)_0x20a411+=_0x185135(0x367);}const _0x47ddf9=_0x20a411['includes']('👑')||_0x20a411['includes']('🎓')||_0x20a411[_0x185135(0x676)]('⭐');if(!_0x47ddf9&&_0x49e7f4[_0x185135(0x812)]<0x0)_0x20a411+=_0x185135(0xe97);}let _0x29d854='';const _0x36042c=_0x49ab66&&_0x49ab66[_0x185135(0x2b0)],_0x143b6b=_0x49ab66&&_0x49ab66[_0x185135(0xdae)]&&_0x49ab66[_0x185135(0xdae)]!=='wagerMultiplier';if(!_0x36042c&&!_0x143b6b){const _0x24a056=_0x49e7f4['correctStreak']||0x0;_0x24a056>=0x3&&(_0x29d854='<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x'+_0x24a056+'</span>');}return _0x185135(0xcfd)+_0x1ff059+_0x185135(0x849)+_0x49e7f4[_0x185135(0x4b7)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49e7f4[_0x185135(0x1dc)]+_0x185135(0x8e2)+_0x3571f5+'\x20'+_0x20a411+'\x20'+_0x29d854+_0x185135(0x995)+_0x49e7f4[_0x185135(0x163)]+_0x185135(0x148)+_0x2d12aa+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22bcf7+_0x185135(0xbd6);})[_0x1b2aef(0x975)]('')+_0x1b2aef(0x79c)+_0xa0a0b1+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1b2aef(0xa19)]=_0x15463b;}function renderStudentAnonymousResultsView(_0x11359b,_0x4e4141){const _0x462d68=_0x5319e2;let _0x115c71=[];_0x11359b[_0x462d68(0x972)]?_0x115c71=_0x11359b['publicLeaderboard']:_0x115c71=Object[_0x462d68(0x129)](_0x11359b[_0x462d68(0xdb1)]||{});const _0x4ae051=_0x11359b[_0x462d68(0xa30)]||_0x462d68(0xd75),_0x24304f=_0x4ae051===_0x462d68(0xaf6)||_0x4ae051===_0x462d68(0x1e6),_0x39db75=_0x11359b[_0x462d68(0x359)]===!![],_0x6ae5b7=_0x11359b[_0x462d68(0x320)][_0x462d68(0x521)],_0x7ee16c=_0x24304f&&_0x11359b[_0x462d68(0xe82)]!==undefined?_0x11359b[_0x462d68(0xe82)]:_0x4e4141,_0x5c0825=_0x115c71['map'](_0x4f60b3=>{const _0x2b6b76=_0x462d68,_0x587ad5=(_0x4f60b3[_0x2b6b76(0xa77)]||[])['filter'](_0x2ab858=>_0x2ab858[_0x2b6b76(0x737)]<=_0x7ee16c);let _0x3c06a2=0x0,_0x2d534d=0x0;_0x24304f?(_0x3c06a2=_0x587ad5['filter'](_0x3fd4d1=>_0x3fd4d1[_0x2b6b76(0x1a1)])[_0x2b6b76(0x4f1)],_0x2d534d=_0x587ad5['reduce']((_0x1aac3c,_0x3947ae)=>_0x1aac3c+(_0x3947ae[_0x2b6b76(0x9d0)]||0x0),0x0)):(_0x3c06a2=_0x4f60b3['score']||0x0,_0x2d534d=_0x4f60b3[_0x2b6b76(0x812)]||0x0);const _0x2450a5=[..._0x587ad5]['sort']((_0x42d263,_0x918658)=>_0x42d263['questionIndex']-_0x918658[_0x2b6b76(0x737)]);let _0x39f5d4=0x0;return _0x2450a5[_0x2b6b76(0xbf2)](_0x2b4215=>{const _0x561c37=_0x2b6b76,_0x13680a=_0x2b4215['powerupUsed']&&_0x2b4215['powerupUsed']!=='wagerMultiplier'||_0x2b4215[_0x561c37(0x2b0)];_0x2b4215[_0x561c37(0x1a1)]?_0x39f5d4=_0x13680a?0x0:_0x39f5d4+0x1:_0x39f5d4=0x0;}),{..._0x4f60b3,'realScore':_0x3c06a2,'totalPoints':_0x2d534d,'answers':_0x587ad5,'correctStreak':_0x39f5d4};}),_0x1dfdb0=Math[_0x462d68(0xd01)](..._0x5c0825[_0x462d68(0x23a)](_0xe6db29=>_0xe6db29[_0x462d68(0x812)]),-Infinity),_0x2061eb=Math['max'](..._0x5c0825['map'](_0x16fe58=>_0x16fe58[_0x462d68(0x163)]),-Infinity),_0x5b8653=_0x11359b['isBlackMarketEnabled']===!![],_0x105129=[..._0x5c0825][_0x462d68(0x602)]((_0x35f334,_0x9755e1)=>{const _0x38b0dd=_0x462d68;if(_0x5b8653){if(_0x9755e1['totalPoints']!==_0x35f334[_0x38b0dd(0x812)])return _0x9755e1[_0x38b0dd(0x812)]-_0x35f334['totalPoints'];if(_0x9755e1[_0x38b0dd(0x163)]!==_0x35f334[_0x38b0dd(0x163)])return _0x9755e1[_0x38b0dd(0x163)]-_0x35f334[_0x38b0dd(0x163)];}else{if(_0x9755e1[_0x38b0dd(0x812)]!==_0x35f334[_0x38b0dd(0x812)])return _0x9755e1[_0x38b0dd(0x812)]-_0x35f334[_0x38b0dd(0x812)];if(_0x9755e1['realScore']!==_0x35f334[_0x38b0dd(0x163)])return _0x9755e1['realScore']-_0x35f334[_0x38b0dd(0x163)];}return(_0x35f334['name']||'')[_0x38b0dd(0x8ed)](_0x9755e1[_0x38b0dd(0x1dc)]||'','th');});let _0x20e160=0x1;for(let _0x499083=0x0;_0x499083<_0x105129[_0x462d68(0x4f1)];_0x499083++){if(_0x499083>0x0){const _0x4cce98=_0x105129[_0x499083-0x1],_0x199c00=_0x105129[_0x499083];let _0x1ff425=_0x199c00[_0x462d68(0x812)]===_0x4cce98[_0x462d68(0x812)]&&_0x199c00[_0x462d68(0x163)]===_0x4cce98['realScore'];!_0x1ff425&&(_0x20e160=_0x499083+0x1);}_0x105129[_0x499083][_0x462d68(0x4b7)]=_0x20e160;}let _0x153ace=null;const _0x18a66d=_0x5c0825[_0x462d68(0xbdf)](_0x58cac3=>localTeamPlayers[_0x462d68(0x676)](_0x58cac3['name']));_0x153ace=_0x18a66d[_0x462d68(0x4f1)]>0x0?_0x18a66d[_0x462d68(0x602)]((_0x312765,_0x595ba8)=>_0x595ba8['totalPoints']-_0x312765[_0x462d68(0x812)])[0x0]:null;if(!_0x153ace){liveGameView[_0x462d68(0xa19)]=_0x462d68(0x2cd);return;}const _0x5f3134=_0x5b8653?_0x153ace['totalPoints']:_0x153ace[_0x462d68(0x812)],_0x1f82f9=_0x7ee16c+0x1,_0x33b28b=_0x105129[_0x462d68(0x23a)]((_0x546bfc,_0x33cea3)=>{const _0x227bf1=_0x462d68,_0x3f56f2=_0x546bfc[_0x227bf1(0x163)],_0x1a1fe5=_0x546bfc['totalPoints'],_0x1f16fb=(_0x546bfc[_0x227bf1(0xa77)]||[])[_0x227bf1(0x8af)](_0x111a71=>_0x111a71['questionIndex']===_0x7ee16c);let _0x4bd762='';if(_0x1f16fb){if(_0x1f16fb[_0x227bf1(0xcb7)])_0x4bd762+=_0x227bf1(0x998);if(_0x1f16fb['wasJinxed'])_0x4bd762+=_0x227bf1(0x25c);if(_0x1f16fb['usedBuyTime'])_0x4bd762+=_0x227bf1(0x2b6);const _0x4cb0b5=_0x1f16fb[_0x227bf1(0xdae)];if(_0x4cb0b5){const _0xb68191={'poll':'📊','cutOne':'✂️','insurance':_0x227bf1(0x5da),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x227bf1(0x2f7)};if(_0xb68191[_0x4cb0b5])_0x4bd762+='<span\x20title=\x22ใช้\x20'+_0x4cb0b5+'\x22>'+_0xb68191[_0x4cb0b5]+_0x227bf1(0x8d8);}}let _0x4d1da2='';if(_0x1f82f9>0x0){if(_0x5b8653){if(_0x1a1fe5===_0x1dfdb0&&_0x1dfdb0>0x0)_0x4d1da2+=_0x227bf1(0xb2c);if(_0x3f56f2===_0x2061eb&&_0x2061eb>0x0)_0x4d1da2+=_0x227bf1(0x90a);}else{const _0x15a778=_0x546bfc[_0x227bf1(0x163)]===_0x1f82f9&&_0x1f82f9>0x0;if(_0x15a778)_0x4d1da2=_0x227bf1(0x4e7);}if(_0x4d1da2===''&&_0x1a1fe5<0x0)_0x4d1da2='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x4096de='';const _0x198fb4=_0x1f16fb&&_0x1f16fb[_0x227bf1(0x2b0)],_0x21a1fc=_0x1f16fb&&_0x1f16fb[_0x227bf1(0xdae)]&&_0x1f16fb[_0x227bf1(0xdae)]!==_0x227bf1(0x990);if(!_0x198fb4&&!_0x21a1fc){const _0x253b5b=_0x546bfc[_0x227bf1(0xb98)]||0x0;_0x253b5b>=0x3&&(_0x4096de=_0x227bf1(0xcb9)+_0x253b5b+'</span>');}let _0x3a65a8=_0x227bf1(0x886),_0x3d9bad=![];if(_0x1f16fb){const _0x5a192e=_0x1f16fb['isCorrect'],_0x3c4a8f=_0x1f16fb[_0x227bf1(0x7d6)]===!![]||_0x1f16fb[_0x227bf1(0x7d6)]===_0x227bf1(0x4ef),_0x55b174=_0x1f16fb[_0x227bf1(0xdae)];if(_0x55b174===_0x227bf1(0x990))_0x5a192e?(_0x3a65a8='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x3d9bad=!![]):_0x3a65a8=_0x227bf1(0xc59);else{if(_0x3c4a8f)_0x3a65a8=_0x5a192e?_0x227bf1(0x1ef):_0x227bf1(0x8a4);else _0x5a192e&&(_0x3a65a8=_0x227bf1(0x1ee));}}let _0x4b0436='';const _0x2fd0b3=_0x546bfc[_0x227bf1(0x1dc)],_0xa9db77=_0x11359b[_0x227bf1(0x24f)][_0x546bfc[_0x227bf1(0x1dc)]]||_0x227bf1(0xbfc),_0x2d74f6=localTeamPlayers[_0x227bf1(0x676)](_0x2fd0b3),_0x44bb79=_0x3d9bad?_0x227bf1(0x516):_0x227bf1(0xa43),_0x53afb6=_0x5b8653?_0x546bfc['totalPoints']:_0x546bfc['totalPoints'],_0x1aa403=_0x39db75||_0x2d74f6||_0x5f3134>_0x53afb6;_0x1aa403?_0x4b0436=_0x227bf1(0x415)+_0x2fd0b3+_0x227bf1(0x613)+_0x44bb79+'\x22>('+_0xa9db77+')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x4b0436='<span\x20class=\x22font-bold\x22>'+_0xa9db77+'</span>';_0x2d74f6&&(_0x4b0436='<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>'+_0x4b0436+'</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>');const _0x1d6f0b=_0x227bf1(0x19b)+_0x4bd762+'\x20'+_0x4d1da2+'\x20'+_0x4096de+_0x227bf1(0xa5a),_0x59a961=_0x1a1fe5>=0x0?'(+'+_0x1a1fe5['toLocaleString']()+')':'('+_0x1a1fe5['toLocaleString']()+')';return _0x227bf1(0xc00)+_0x3a65a8+_0x227bf1(0x2d3)+_0x546bfc['displayRank']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b0436+_0x227bf1(0x600)+_0x1d6f0b+_0x227bf1(0x3e3)+_0x3f56f2+_0x227bf1(0x655)+_0x59a961+_0x227bf1(0x5e4);})['join']('');let _0x4435d9='';const _0x47346b=_0x24304f?_0x7ee16c>=_0x6ae5b7[_0x462d68(0x4f1)]-0x1:_0x11359b[_0x462d68(0x519)]>=_0x6ae5b7['length']-0x1;if(_0x11359b[_0x462d68(0x626)]===_0x462d68(0x636))_0x4435d9='';else _0x47346b?_0x4435d9=_0x462d68(0x434):_0x4435d9=_0x462d68(0xe20);const _0xa043c1=_0x462d68(0xa93)+_0x33b28b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4435d9+_0x462d68(0x567);liveGameView[_0x462d68(0xa19)]=_0xa043c1;}function renderStudentCompetitionResultsView(_0x47339b,_0x27a381){const _0x178309=_0x5319e2,_0x129ff2=Object[_0x178309(0x129)](_0x47339b[_0x178309(0xdb1)]||{}),_0x3b8496=_0x27a381,_0x21d6c9=_0x47339b[_0x178309(0xa30)]||_0x178309(0xd75),_0x9f56e8=_0x47339b[_0x178309(0x320)][_0x178309(0x521)],_0x1221c4=_0x129ff2[_0x178309(0x23a)](_0x3a15ff=>{const _0x362302=_0x178309,_0x54a217=_0x3a15ff[_0x362302(0x473)]||0x0,_0x138ede=_0x3a15ff[_0x362302(0x812)]||0x0,_0x42e2ed=(_0x3a15ff[_0x362302(0xa77)]||[])[_0x362302(0xbdf)](_0x35081c=>_0x21d6c9==='reveal_at_end'?_0x35081c[_0x362302(0x737)]<=_0x3b8496:!![]);return{..._0x3a15ff,'realScore':_0x54a217,'totalPoints':_0x138ede,'answers':_0x42e2ed};}),_0x3ac664=_0x47339b['isBlackMarketEnabled']===!![],_0x2da998=[..._0x1221c4][_0x178309(0x602)]((_0x4b767d,_0x5053c3)=>{const _0x8961ea=_0x178309;if(_0x3ac664){const _0x57be58=_0x5053c3[_0x8961ea(0x163)]-_0x4b767d[_0x8961ea(0x163)];if(_0x57be58!==0x0)return _0x57be58;const _0x136740=_0x5053c3['totalPoints']-_0x4b767d[_0x8961ea(0x812)];if(_0x136740!==0x0)return _0x136740;return(_0x4b767d[_0x8961ea(0x1dc)]||'')['localeCompare'](_0x5053c3['name']||'','th');}else{const _0x306c73=_0x5053c3[_0x8961ea(0x812)]-_0x4b767d[_0x8961ea(0x812)];if(_0x306c73!==0x0)return _0x306c73;const _0x4adeef=_0x5053c3[_0x8961ea(0x163)]-_0x4b767d[_0x8961ea(0x163)];if(_0x4adeef!==0x0)return _0x4adeef;return(_0x4b767d[_0x8961ea(0x1dc)]||'')[_0x8961ea(0x8ed)](_0x5053c3[_0x8961ea(0x1dc)]||'','th');}});let _0x429ff9=0x1;for(let _0xa09e22=0x0;_0xa09e22<_0x2da998[_0x178309(0x4f1)];_0xa09e22++){if(_0xa09e22>0x0){const _0x229e0c=_0x2da998[_0xa09e22-0x1],_0x56c5bd=_0x2da998[_0xa09e22];let _0x2038f7=![];_0x3ac664?_0x2038f7=_0x56c5bd[_0x178309(0x163)]===_0x229e0c[_0x178309(0x163)]&&_0x56c5bd[_0x178309(0x812)]===_0x229e0c[_0x178309(0x812)]:_0x2038f7=_0x56c5bd['totalPoints']===_0x229e0c[_0x178309(0x812)]&&_0x56c5bd[_0x178309(0x163)]===_0x229e0c['realScore'],!_0x2038f7&&(_0x429ff9=_0xa09e22+0x1);}_0x2da998[_0xa09e22][_0x178309(0x4b7)]=_0x429ff9;}const _0x2a459f=_0x2da998[_0x178309(0x23a)]((_0x34c027,_0x2a5f72)=>{const _0x2d8321=_0x178309,_0x4b59cf='';let _0xb5d89=_0x2d8321(0x886);const _0xfff424=_0x34c027[_0x2d8321(0x1dc)],_0x5a0676=_0x2d8321(0x2cb),_0x145a12=_0x2d8321(0x55e),_0x49bf28='<div\x20style=\x22'+_0x5a0676+_0x2d8321(0x447)+_0xfff424+_0x2d8321(0xd8c)+_0x145a12+'\x22>'+_0xfff424+_0x2d8321(0x8d8)+_0x4b59cf+_0x2d8321(0xa5a),_0x259940='';return _0x2d8321(0xc00)+_0xb5d89+_0x2d8321(0x29a)+_0x34c027[_0x2d8321(0x4b7)]+_0x2d8321(0x740)+_0x49bf28+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x259940+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x178309(0x975)]('');let _0x189085='';const _0x56d2cf=_0x21d6c9===_0x178309(0xaf6)?_0x47339b['reviewQuestionIndex']>=_0x9f56e8['length']-0x1:_0x47339b['currentQuestionIndex']>=_0x9f56e8[_0x178309(0x4f1)]-0x1;_0x56d2cf?_0x189085=_0x178309(0x434):_0x189085=_0x178309(0xe20);const _0x25a803='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a459f+_0x178309(0xa5e)+_0x189085+_0x178309(0x567);liveGameView[_0x178309(0xa19)]=_0x25a803;}function renderStudentSyncQuestionView(_0xe177fd){const _0xa08e3f=_0x5319e2;while(localPlayerTurnIndex<localTeamPlayers[_0xa08e3f(0x4f1)]&&_0xe177fd[_0xa08e3f(0xdb1)][localTeamPlayers[localPlayerTurnIndex]]?.[_0xa08e3f(0xa65)]===!![]){localPlayerTurnIndex++;}const _0xffba01=localTeamPlayers[localPlayerTurnIndex];if(!_0xffba01)return;const _0x178359=_0xe177fd[_0xa08e3f(0xdb1)][_0xffba01],_0xba2d5d=_0xe177fd['currentQuestionIndex'],_0x437893=_0xe177fd[_0xa08e3f(0x320)][_0xa08e3f(0x521)][_0xa08e3f(0x4f1)],_0x12e048=_0xe177fd[_0xa08e3f(0x320)]['questions'][_0xba2d5d],_0x197815=_0x12e048[_0xa08e3f(0x823)]||_0xe177fd[_0xa08e3f(0x320)][_0xa08e3f(0xd29)];let _0x28f1ec='',_0x44781d=![];const _0x3c50f0=_0xa08e3f(0x699)+_0xba2d5d+'_p'+_0xffba01,_0x481415=sessionStorage[_0xa08e3f(0x944)](_0x3c50f0),_0x4b0684=_0x481415===_0xa08e3f(0x1f9),_0xca0771=_0xa08e3f(0x640)+_0xba2d5d+'_p'+_0xffba01,_0x3ab592=JSON[_0xa08e3f(0x110)](sessionStorage[_0xa08e3f(0x944)](_0xca0771)||'[]')[_0xa08e3f(0x23a)](String);if((_0x197815==='short_answer'||_0x197815===_0xa08e3f(0x603))&&_0x4b0684&&_0x12e048[_0xa08e3f(0x4ff)]&&_0x12e048['options'][_0xa08e3f(0x4f1)]>0x0)_0x28f1ec=_0x12e048[_0xa08e3f(0x4ff)][_0xa08e3f(0x23a)]((_0x2bb501,_0x558359)=>{const _0x1398ce=_0xa08e3f;if(_0x3ab592['includes'](String(_0x558359)))return'';return'<button\x20data-value=\x22'+_0x2bb501+_0x1398ce(0xbd1)+_0x558359+_0x1398ce(0xe4d)+_0x2bb501+_0x1398ce(0x59a);})[_0xa08e3f(0x975)]('');else{if(_0x197815===_0xa08e3f(0xcea)||_0x197815===_0xa08e3f(0x603)){_0x44781d=!![];const _0x54920f=_0x12e048[_0xa08e3f(0x2fc)]&&/^-?[\d.,]+$/['test'](String(_0x12e048['idealAnswer'])['trim']());let _0x127873='';_0x54920f?_0x127873='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x127873=_0xa08e3f(0xad7),_0x28f1ec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x127873+_0xa08e3f(0x270);}else switch(_0x197815){case _0xa08e3f(0x1cc):const _0x2c2e94=_0x3ab592[_0xa08e3f(0x676)]('0')?'':_0xa08e3f(0x63e),_0x3c05c0=_0x3ab592[_0xa08e3f(0x676)]('1')?'':_0xa08e3f(0x3a5);_0x28f1ec=_0x2c2e94+_0x3c05c0;break;case _0xa08e3f(0x1f6):_0x44781d=!![],_0x28f1ec=_0xa08e3f(0x8da)+(_0x12e048[_0xa08e3f(0x307)]||[])[_0xa08e3f(0x23a)](_0x816021=>'<option\x20value=\x22'+_0x816021+'\x22>'+_0x816021+'</option>')[_0xa08e3f(0x975)]('')+_0xa08e3f(0xc6b);break;case _0xa08e3f(0x2d2):default:_0x28f1ec=(_0x12e048[_0xa08e3f(0x4ff)]||[])[_0xa08e3f(0x23a)]((_0x5ebbc9,_0x4098c5)=>{const _0x1655b6=_0xa08e3f;if(_0x3ab592[_0x1655b6(0x676)](String(_0x4098c5)))return'';return'<button\x20data-value=\x22'+_0x4098c5+_0x1655b6(0xbd1)+_0x4098c5+_0x1655b6(0x93d)+_0x5ebbc9+_0x1655b6(0x59a);})[_0xa08e3f(0x975)]('');break;}}let _0x3f4a6b='';_0xe177fd[_0xa08e3f(0x1d8)]===_0xa08e3f(0x14d)&&(_0x3f4a6b=_0xa08e3f(0x283)+_0xe177fd[_0xa08e3f(0x9c5)]+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x5ef408='';const _0x2b91ba=_0xe177fd['gameVariant']||_0xa08e3f(0xd75),_0x547efd=[_0xa08e3f(0xaf6),'anonymous_reveal_end',_0xa08e3f(0xbf8)][_0xa08e3f(0x676)](_0x2b91ba);if(_0xe177fd['isBlackMarketEnabled']===!![]){if(_0x547efd)!_0x481415&&(_0x5ef408='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');else{const _0x524a94=_0x178359[_0xa08e3f(0x812)]||0x0,_0x4fb74e=_0x178359[_0xa08e3f(0xa96)]||{},_0x280dad=[_0x4fb74e[_0xa08e3f(0xb55)]>0x0?_0xa08e3f(0xea5)+_0x4fb74e[_0xa08e3f(0xb55)]+_0xa08e3f(0x5c9):'',_0x4fb74e[_0xa08e3f(0x1f9)]>0x0?_0xa08e3f(0xc51)+_0x4fb74e[_0xa08e3f(0x1f9)]+')</button>':'',_0x4fb74e[_0xa08e3f(0x8e5)]>0x0?_0xa08e3f(0xa29)+_0x4fb74e['cutOne']+')</button>':'',_0x4fb74e[_0xa08e3f(0x287)]>0x0?_0xa08e3f(0x522)+_0x4fb74e['insurance']+_0xa08e3f(0x5c9):'',_0x4fb74e[_0xa08e3f(0x111)]>0x0?_0xa08e3f(0xdb4)+_0x4fb74e[_0xa08e3f(0x111)]+_0xa08e3f(0x5c9):'',_0x4fb74e[_0xa08e3f(0x469)]>0x0?_0xa08e3f(0x14a)+_0x4fb74e[_0xa08e3f(0x469)]+_0xa08e3f(0x5c9):''][_0xa08e3f(0xbdf)](Boolean)[_0xa08e3f(0x975)]('\x20'),_0x3d4da8=_0xa08e3f(0x8ad)+_0xba2d5d+'_p'+_0xffba01,_0xfdbf8c=sessionStorage[_0xa08e3f(0x944)](_0x3d4da8)==='true',_0x29c5db=_0x524a94>0x0&&(!_0xfdbf8c||_0x524a94>=0x1),_0x4a25ab=_0x524a94===0x0?_0xa08e3f(0xb9b):_0xfdbf8c?_0xa08e3f(0x16a):'ตลาดมืด\x20('+_0x524a94+_0xa08e3f(0xbf0),_0x4fd208=_0x29c5db?_0xa08e3f(0x53d):'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70',_0x447cac=_0x29c5db?'':_0xa08e3f(0xe9a);let _0x120fb4=_0xa08e3f(0xb02)+_0x4fd208+_0xa08e3f(0x498)+_0x447cac+_0xa08e3f(0xc49)+_0x4a25ab+_0xa08e3f(0x59a);if(!_0x481415){const _0x2cb7ae=_0x524a94>0x0,_0x5de42d=_0x2cb7ae?_0xa08e3f(0xc98):_0xa08e3f(0x5fd),_0x4a8519=_0x2cb7ae?'bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1':'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0xc9be86=_0x2cb7ae?'':_0xa08e3f(0xe9a);_0x120fb4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22'+_0x5de42d+_0xa08e3f(0x951)+_0xc9be86+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22'+_0x4a8519+_0xa08e3f(0x951)+_0xc9be86+_0xa08e3f(0x817);}_0x5ef408=_0xa08e3f(0x7a2)+_0x120fb4+_0xa08e3f(0x828)+(_0x280dad||'')+_0xa08e3f(0x81d);}}let _0x86daa7='';_0x178359['isJinxed']&&(_0x86daa7+=_0xa08e3f(0x5f5));_0x178359['isForcedConfident']&&(_0x86daa7+=_0xa08e3f(0xaf1));(_0x178359[_0xa08e3f(0x724)]||0x0)>0x0&&(_0x86daa7+=_0xa08e3f(0x34b));if(_0x481415){if(_0x481415===_0xa08e3f(0x990)){const _0x5ee2e2=_0x547efd?'🚀\x20คุณเดิมพันหมดหน้าตัก!':_0xa08e3f(0x65e);_0x86daa7+=_0xa08e3f(0x4c5)+_0x5ee2e2+_0xa08e3f(0xabf);}else{if(_0x481415===_0xa08e3f(0x8e5))_0x86daa7+=_0xa08e3f(0xb30);else{if(_0x481415===_0xa08e3f(0x111))_0x86daa7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x481415===_0xa08e3f(0x469))_0x86daa7+=_0xa08e3f(0x8f6);else{if(_0x481415===_0xa08e3f(0x1f9))_0x86daa7+=_0xa08e3f(0xbf5);else _0x481415===_0xa08e3f(0x287)?_0x86daa7+=_0xa08e3f(0xae7):_0x86daa7+=_0xa08e3f(0x4cc)+_0x481415+_0xa08e3f(0x464);}}}}}let _0x83a0e0='';if(!_0x547efd){const _0x33b7e3=_0x178359[_0xa08e3f(0xb98)]||0x0;if(_0x33b7e3>=0x3)_0x83a0e0=_0xa08e3f(0xcb2)+_0x33b7e3+_0xa08e3f(0xde5);else _0x33b7e3>0x0&&(_0x83a0e0='<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20'+_0x33b7e3+'/3</span></div>');}liveGameView['innerHTML']=_0xa08e3f(0x322)+(_0xba2d5d+0x1)+_0xa08e3f(0xd2d)+_0x437893+_0xa08e3f(0x5a9)+_0xffba01+_0xa08e3f(0x622)+_0x83a0e0+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f4a6b+_0xa08e3f(0x20b)+_0x5ef408+_0xa08e3f(0x3ae)+_0x86daa7+_0xa08e3f(0x649)+(_0x12e048['questionText']||_0x12e048[_0xa08e3f(0x2f8)])+_0xa08e3f(0x729)+_0x28f1ec+_0xa08e3f(0x76e);if(window[_0xa08e3f(0x19c)])MathJax[_0xa08e3f(0xc6e)]();function _0x514ae7(_0x2756d7,_0x33d11a,_0x27b233,_0x2c7eb7){const _0x17edf4=_0xa08e3f,_0x1dad5c=_0x27b233[_0x17edf4(0xe45)]===!![],_0x25888d=_0x27b233[_0x17edf4(0x519)],_0x2f33ad='powerupUsed_q'+_0x25888d+'_p'+_0x2c7eb7,_0xd3865e=sessionStorage[_0x17edf4(0x944)](_0x2f33ad),_0x282fc0=_0xd3865e==='wagerMultiplier',_0x1054e1=_0x27b233[_0x17edf4(0xdb1)][_0x2c7eb7];if(_0x282fc0){const _0x5c6a8a=sessionStorage[_0x17edf4(0x944)](_0x17edf4(0xb73))==='true';if(_0x547efd||_0x5c6a8a){const _0x3b3bc1=_0x1054e1[_0x17edf4(0x812)]||0x0;sessionStorage[_0x17edf4(0x685)](_0x17edf4(0xb73)),handleSyncAnswerSubmit(_0x2756d7,_0x33d11a,_0x27b233,_0x2c7eb7,![],_0x3b3bc1);}else{const _0x126acf=document['getElementById'](_0x17edf4(0x311)),_0x459731=document[_0x17edf4(0x6e6)](_0x17edf4(0xcb5)),_0x25e661=document[_0x17edf4(0x6e6)](_0x17edf4(0x7c1)),_0x205af9=document[_0x17edf4(0x6e6)]('wager-max-points'),_0x56c30f=_0x1054e1[_0x17edf4(0x812)]||0x0;_0x459731[_0x17edf4(0xd01)]=_0x56c30f,_0x459731[_0x17edf4(0xb2d)]=_0x56c30f,_0x25e661[_0x17edf4(0xb7b)]=_0x56c30f,_0x205af9[_0x17edf4(0xb7b)]=_0x56c30f,_0x459731[_0x17edf4(0x48d)]=()=>{const _0x74e88e=_0x17edf4;_0x25e661['textContent']=_0x459731[_0x74e88e(0xb2d)];};const _0x36e0e7=document['getElementById']('selected-answer-index-hidden-wager');_0x36e0e7[_0x17edf4(0x9ff)][_0x17edf4(0x409)]=_0x2756d7,_0x36e0e7['dataset'][_0x17edf4(0x195)]=JSON[_0x17edf4(0x338)](_0x33d11a),_0x36e0e7[_0x17edf4(0x9ff)]['gameData']=JSON['stringify'](_0x27b233),_0x36e0e7['dataset'][_0x17edf4(0xcb8)]=_0x2c7eb7,_0x126acf['classList']['remove'](_0x17edf4(0xd60));}}else{if(_0x1dad5c){document['getElementById']('confidence-modal')[_0x17edf4(0x9ff)][_0x17edf4(0x2de)]=_0x17edf4(0x6d3);const _0x20231d=document['getElementById']('selected-answer-index-hidden');_0x20231d[_0x17edf4(0x9ff)][_0x17edf4(0x409)]=_0x2756d7,_0x20231d[_0x17edf4(0x9ff)][_0x17edf4(0x195)]=JSON[_0x17edf4(0x338)](_0x33d11a),_0x20231d[_0x17edf4(0x9ff)]['gameData']=JSON[_0x17edf4(0x338)](_0x27b233),_0x20231d['dataset'][_0x17edf4(0xcb8)]=_0x2c7eb7,document[_0x17edf4(0x6e6)](_0x17edf4(0xd7a))[_0x17edf4(0x3d9)][_0x17edf4(0xb00)](_0x17edf4(0xd60));}else handleSyncAnswerSubmit(_0x2756d7,_0x33d11a,_0x27b233,_0x2c7eb7,![],0x0);}}_0x44781d?document[_0xa08e3f(0x6e6)](_0xa08e3f(0xd8f))[_0xa08e3f(0x49d)](_0xa08e3f(0xa6e),()=>{const _0x5104de=_0xa08e3f,_0x4f2937=document[_0x5104de(0x6e6)](_0x5104de(0x499))||document[_0x5104de(0x6e6)]('sync-matching-select');if(_0x4f2937[_0x5104de(0xb2d)][_0x5104de(0xc3f)]()===''){showMessage(_0x5104de(0x62a));return;}_0x514ae7(_0x4f2937[_0x5104de(0xb2d)],_0x12e048,_0xe177fd,_0xffba01);}):document['querySelectorAll'](_0xa08e3f(0x9da))['forEach'](_0xce011c=>{const _0x4dfc06=_0xa08e3f;_0xce011c[_0x4dfc06(0x49d)]('click',()=>{const _0x80f7d9=_0x4dfc06;_0x514ae7(_0xce011c[_0x80f7d9(0x9ff)][_0x80f7d9(0xb2d)],_0x12e048,_0xe177fd,_0xffba01);});});if(_0xe177fd[_0xa08e3f(0xc55)]===!![]){if(!_0x547efd){const _0x1402a7=document[_0xa08e3f(0x6e6)](_0xa08e3f(0xcfb));_0x1402a7&&_0x1402a7[_0xa08e3f(0x49d)](_0xa08e3f(0xa6e),()=>{const _0x1ff8a5=_0xa08e3f,_0x40f5f0=_0x1ff8a5(0x8ad)+_0xba2d5d+'_p'+_0xffba01,_0x2ec1bb=sessionStorage[_0x1ff8a5(0x944)](_0x40f5f0)===_0x1ff8a5(0x92c);if(!_0x2ec1bb)openBlackMarket(_0xe177fd,_0x178359),sessionStorage[_0x1ff8a5(0xe35)](_0x40f5f0,'true'),renderStudentSyncQuestionView(_0xe177fd);else{if(_0x178359['totalPoints']<0x1){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)');return;}showConfirmation(_0x1ff8a5(0x561),()=>{handlePayForMarketEntry(_0xffba01,_0xe177fd,_0x178359);});}}),document[_0xa08e3f(0x6e6)]('use-powerup-buyTime')?.['addEventListener']('click',_0x3f488a=>{const _0x1c947a=_0xa08e3f;_0x3f488a['target'][_0x1c947a(0xe9a)]=!![],handleUsePowerup(_0xffba01,'buyTime',_0x12e048,_0xe177fd,_0x178359);}),document[_0xa08e3f(0x6e6)]('use-powerup-cutOne')?.[_0xa08e3f(0x49d)](_0xa08e3f(0xa6e),_0x34d8ea=>{const _0x226375=_0xa08e3f;_0x34d8ea[_0x226375(0x8ce)]['disabled']=!![],handleUsePowerup(_0xffba01,'cutOne',_0x12e048,_0xe177fd,_0x178359);}),document['getElementById'](_0xa08e3f(0x7f4))?.[_0xa08e3f(0x49d)](_0xa08e3f(0xa6e),_0x1199e6=>{const _0x49a06e=_0xa08e3f;_0x1199e6[_0x49a06e(0x8ce)]['disabled']=!![],handleUsePowerup(_0xffba01,_0x49a06e(0x287),_0x12e048,_0xe177fd,_0x178359);}),document[_0xa08e3f(0x6e6)]('use-powerup-fiftyFifty')?.[_0xa08e3f(0x49d)](_0xa08e3f(0xa6e),_0x302451=>{const _0xc82c8=_0xa08e3f;_0x302451[_0xc82c8(0x8ce)][_0xc82c8(0xe9a)]=!![],handleUsePowerup(_0xffba01,_0xc82c8(0x111),_0x12e048,_0xe177fd,_0x178359);}),document[_0xa08e3f(0x6e6)]('use-powerup-secondChance')?.[_0xa08e3f(0x49d)](_0xa08e3f(0xa6e),_0x4d2ee3=>{const _0x24e1d8=_0xa08e3f;_0x4d2ee3[_0x24e1d8(0x8ce)][_0x24e1d8(0xe9a)]=!![],handleUsePowerup(_0xffba01,_0x24e1d8(0x469),_0x12e048,_0xe177fd,_0x178359);}),document['getElementById'](_0xa08e3f(0x302))?.['addEventListener'](_0xa08e3f(0xa6e),_0x428841=>{const _0x35f9d2=_0xa08e3f;_0x428841['target']['disabled']=!![],handleUsePowerup(_0xffba01,_0x35f9d2(0x1f9),_0x12e048,_0xe177fd,_0x178359);}),document[_0xa08e3f(0x6e6)](_0xa08e3f(0x301))?.['addEventListener']('click',_0x786b08=>{const _0x447156=_0xa08e3f;_0x786b08[_0x447156(0x8ce)][_0x447156(0xe9a)]=!![],sessionStorage['setItem']('instantWager',_0x447156(0x74a)),handleUsePowerup(_0xffba01,_0x447156(0x990),_0x12e048,_0xe177fd,_0x178359);});}document['getElementById'](_0xa08e3f(0xe48))?.[_0xa08e3f(0x49d)]('click',_0x1c5e5d=>{const _0x2272c3=_0xa08e3f;_0x1c5e5d[_0x2272c3(0x8ce)][_0x2272c3(0xe9a)]=!![],sessionStorage[_0x2272c3(0xe35)](_0x2272c3(0xb73),_0x2272c3(0x92c)),handleUsePowerup(_0xffba01,_0x2272c3(0x990),_0x12e048,_0xe177fd,_0x178359);});}}async function handleSyncAnswerSubmit(_0x4611f1,_0x42c077,_0x1168d1,_0x5ea123,_0x525bc1,_0x2ebe4c=0x0){const _0x292520=_0x5319e2;document[_0x292520(0x2c3)]('.live-answer-btn,\x20#sync-submit-btn')[_0x292520(0xbf2)](_0x1dc660=>_0x1dc660[_0x292520(0xe9a)]=!![]);const _0x5498c1=_0x1168d1[_0x292520(0x519)],_0x5372fc='powerupUsed_q'+_0x5498c1+'_p'+_0x5ea123,_0x5a33ed=sessionStorage[_0x292520(0x944)](_0x5372fc),_0x49c3a6=_0x1168d1['players'][_0x5ea123]||{},_0x20738b=_0x49c3a6['isForcedConfident']===!![],_0x366216=sessionStorage[_0x292520(0x944)](_0x292520(0x11a))===_0x292520(0x92c);let _0x33f9b7=_0x49c3a6['correctStreak']||0x0;_0x5a33ed&&_0x5a33ed!==_0x292520(0x990)&&(_0x33f9b7=0x0);const _0x423bb3=_0x33f9b7>=0x3,_0x1c6b6a=_0x42c077[_0x292520(0x823)]||_0x1168d1[_0x292520(0x320)][_0x292520(0xd29)];let _0x543219=![],_0xab36a2=_0x4611f1;switch(_0x1c6b6a){case _0x292520(0x1cc):const _0x171bc6=parseInt(_0x4611f1),_0x64674c=_0x42c077[_0x292520(0x8aa)]===!![]||String(_0x42c077[_0x292520(0x8aa)])[_0x292520(0x3a8)]()===_0x292520(0x92c);_0x543219=_0x171bc6===0x0&&_0x64674c||_0x171bc6===0x1&&!_0x64674c,_0xab36a2=_0x171bc6===0x0?_0x292520(0x9d2):_0x292520(0xe4e);break;case'short_answer':case _0x292520(0x603):_0x543219=await gradeShortAnswer(_0x4611f1,_0x42c077);break;case _0x292520(0x1f6):_0x543219=_0x4611f1===_0x42c077[_0x292520(0x5d8)];break;case _0x292520(0x2d2):default:const _0x508135=parseInt(_0x4611f1);_0x543219=_0x508135===_0x42c077[_0x292520(0x9be)];_0x42c077['options']&&_0x42c077[_0x292520(0x4ff)][_0x508135]&&(_0xab36a2=_0x42c077[_0x292520(0x4ff)][_0x508135]);break;}if(!_0x543219&&_0x5a33ed===_0x292520(0x469)&&!_0x366216){sessionStorage[_0x292520(0x685)](_0x5372fc),sessionStorage[_0x292520(0xe35)](_0x292520(0x11a),_0x292520(0x92c)),showMessage(_0x292520(0xa34)),document[_0x292520(0x2c3)](_0x292520(0xe81))[_0x292520(0xbf2)](_0x2ca5b6=>{const _0x425ea7=_0x292520;if(!_0x2ca5b6[_0x425ea7(0x3d9)][_0x425ea7(0x124)](_0x425ea7(0xd60)))_0x2ca5b6[_0x425ea7(0xe9a)]=![];});return;}let _0x564afd=0x0;const _0x54ada9=_0x5a33ed===_0x292520(0x990),_0xa012af=_0x5a33ed===_0x292520(0x287),_0x3b57d7=sessionStorage[_0x292520(0x944)](_0x292520(0x976))===_0x292520(0x92c),_0x35145a=_0x49c3a6['isJinxed']===!![];if(_0x54ada9){const _0x486090=parseInt(_0x2ebe4c,0xa)||0x0;_0x564afd=_0x543219?_0x486090*0x2:-_0x486090;}else{if(_0x3b57d7&&!_0x543219)_0x564afd=_0x525bc1===!![]||_0x525bc1===_0x292520(0x4ef)||_0x20738b?-0x4:-0x2;else{if(_0x20738b)_0x564afd=_0x543219?0x2:-0x1;else{if(_0x1168d1['isConfidenceScoringEnabled']){if(_0x543219&&(_0x525bc1===!![]||_0x525bc1==='confident'))_0x564afd=0x2;else{if(_0x543219)_0x564afd=0x1;else{if(!_0x543219&&(_0x525bc1===![]||_0x525bc1===_0x292520(0x846)||_0x525bc1===null))_0x564afd=0x0;else{if(!_0x543219&&(_0x525bc1===!![]||_0x525bc1==='confident'))_0x564afd=-0x1;}}}}else _0x564afd=_0x543219?0x1:0x0;}}}_0x423bb3&&_0x564afd>0x0&&(_0x564afd*=0x2);if(_0x35145a&&!_0x543219&&_0x564afd<0x0)_0x564afd*=0x2;if(!_0x543219&&_0xa012af)_0x564afd=0x0;const _0x2f0091=(_0x49c3a6[_0x292520(0x724)]||0x0)>0x0,_0x63d27=_0x5a33ed&&_0x5a33ed!=='wagerMultiplier';let _0x508b2f=0x0;_0x543219&&(_0x508b2f=_0x63d27?0x0:_0x33f9b7+0x1);const _0x4fe26e={'questionIndex':_0x1168d1['currentQuestionIndex'],'questionId':_0x42c077['id'],'answer':_0x4611f1,'answerText':_0xab36a2,'isCorrect':_0x543219,'originalQuestionText':_0x42c077['questionText']||_0x42c077['stem'],'wasConfident':_0x20738b?_0x292520(0x4ef):_0x525bc1||![],'pointsAwarded':_0x564afd,'powerupUsed':_0x5a33ed||null,'wasJinxed':_0x35145a||![],'wasForced':_0x20738b||![],'usedPoll':_0x3b57d7||![],'usedBuyTime':_0x2f0091,'streakActive':_0x423bb3},_0x2a6227=doc(db,'artifacts/'+appId+_0x292520(0x42a)+currentLiveGameId+_0x292520(0xba2),_0x5ea123),_0x482da0=_0x49c3a6['answers']||[],_0x30b4b8=_0x482da0[_0x292520(0xbdf)](_0x8a86a0=>_0x8a86a0[_0x292520(0x737)]!==_0x1168d1[_0x292520(0x519)]),_0x2b0320=[..._0x30b4b8,_0x4fe26e],_0x1a1d9e=_0x2b0320[_0x292520(0xbdf)](_0x71bd83=>_0x71bd83['isCorrect'])['length'],_0x259f78={'answers':_0x2b0320,'score':_0x1a1d9e,'totalPoints':increment(_0x564afd),'answered':!![],'lastAnswerIndex':_0x1c6b6a===_0x292520(0x2d2)||_0x1c6b6a===_0x292520(0x1cc)?parseInt(_0x4611f1):null,'lastAnswerValue':_0xab36a2,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x508b2f};if(_0x366216)sessionStorage['removeItem'](_0x292520(0x11a));try{await updateDoc(_0x2a6227,_0x259f78);}catch(_0xd0bb9f){console[_0x292520(0x3f8)]('Error\x20submitting\x20answer:',_0xd0bb9f),showMessage('ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่'),document['querySelectorAll'](_0x292520(0xe81))[_0x292520(0xbf2)](_0x4315d5=>_0x4315d5[_0x292520(0xe9a)]=![]);}}const allMarketItems=[{'id':_0x5319e2(0xb55),'name':_0x5319e2(0x1f3),'price':0x1,'desc':_0x5319e2(0x735)},{'id':_0x5319e2(0x8e5),'name':_0x5319e2(0x8c3),'price':0x2,'desc':_0x5319e2(0x4c7)},{'id':_0x5319e2(0x111),'name':'🌗\x2050:50','price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':'secondChance','name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':_0x5319e2(0xde1)},{'id':_0x5319e2(0x1f9),'name':_0x5319e2(0xd94),'price':0xc,'desc':'เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)'}];function openBlackMarket(_0x4ad9e1,_0x7c8396){const _0x487ceb=_0x5319e2;let _0x573175=null;const _0x3558ba=document[_0x487ceb(0x6e6)](_0x487ceb(0xaf2)),_0x3ae06a=document[_0x487ceb(0x6e6)](_0x487ceb(0xd7f)),_0x3e1ae6=document[_0x487ceb(0x6e6)]('market-current-points'),_0x2730e3=document[_0x487ceb(0x6e6)](_0x487ceb(0x5ba)),_0x33b4ff=_0x7c8396[_0x487ceb(0x812)]||0x0;_0x3e1ae6[_0x487ceb(0xb7b)]=_0x33b4ff;const _0x32517f=_0x4ad9e1[_0x487ceb(0x519)],_0x3eaeb4=_0x4ad9e1[_0x487ceb(0x320)]['questions'][_0x32517f],_0x18f6b8=_0x3eaeb4[_0x487ceb(0x823)]||_0x4ad9e1[_0x487ceb(0x320)]['quizType'],_0x2cac33=_0x4ad9e1['timerMode']===_0x487ceb(0x14d),_0x49c42d=allMarketItems;_0x3ae06a[_0x487ceb(0xa19)]=_0x49c42d['map'](_0x503bb3=>{const _0x3b0f83=_0x487ceb,_0x232a29=_0x33b4ff>=_0x503bb3['price'];if(_0x503bb3['id']===_0x3b0f83(0xb55)){const _0x3720ee=_0x232a29?Math[_0x3b0f83(0x5d2)](_0x33b4ff/_0x503bb3[_0x3b0f83(0x255)]):0x0,_0x110ec8=_0x232a29&&_0x2cac33;let _0x3a5ddc=_0x3b0f83(0x76f)+_0x503bb3['price']+'P/อัน)',_0x3f1549=_0x110ec8?'bg-indigo-600\x20hover:bg-indigo-700':_0x3b0f83(0xa85);return!_0x2cac33&&(_0x3a5ddc=_0x3b0f83(0x228),_0x3f1549='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),_0x3b0f83(0x9fd)+(!_0x110ec8?_0x3b0f83(0xdca):_0x3b0f83(0x1bd))+_0x3b0f83(0x355)+_0x503bb3[_0x3b0f83(0x1dc)]+_0x3b0f83(0x24c)+_0x503bb3[_0x3b0f83(0xcbc)]+_0x3b0f83(0x867)+_0x3720ee+'\x22\x20'+(!_0x110ec8?_0x3b0f83(0xe9a):'')+_0x3b0f83(0xac6)+_0x3f1549+_0x3b0f83(0x333)+_0x503bb3['id']+_0x3b0f83(0x12d)+_0x503bb3['price']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x110ec8?_0x3b0f83(0xe9a):'')+_0x3b0f83(0x8ea)+_0x3a5ddc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{let _0x2042c5=!_0x232a29,_0x59d086=_0x232a29?_0x3b0f83(0xe12):_0x3b0f83(0xa85),_0x30d55f=_0x3b0f83(0x76f)+_0x503bb3[_0x3b0f83(0x255)]+'P)';if(_0x503bb3['id']===_0x3b0f83(0x1f9)){const _0x581190=_0x3eaeb4[_0x3b0f83(0x4ff)]&&_0x3eaeb4[_0x3b0f83(0x4ff)]['length']>0x0,_0x2e463e=_0x18f6b8===_0x3b0f83(0xcea)||_0x18f6b8===_0x3b0f83(0x603);(!_0x581190||!_0x2e463e)&&(_0x2042c5=!![],_0x59d086=_0x3b0f83(0x3aa),_0x30d55f='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้');}if(_0x503bb3['id']===_0x3b0f83(0x8e5)||_0x503bb3['id']===_0x3b0f83(0x111)){const _0x36b4d7=_0x18f6b8===_0x3b0f83(0xcea)||_0x18f6b8===_0x3b0f83(0x603),_0x24cef4=_0x3eaeb4[_0x3b0f83(0x4ff)]&&_0x3eaeb4[_0x3b0f83(0x4ff)][_0x3b0f83(0x4f1)]>0x0;(_0x36b4d7||!_0x24cef4)&&(_0x2042c5=!![],_0x59d086='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x30d55f=_0x3b0f83(0x798));}return _0x3b0f83(0x9fd)+(_0x2042c5?_0x3b0f83(0xdca):_0x3b0f83(0x1bd))+_0x3b0f83(0x355)+_0x503bb3[_0x3b0f83(0x1dc)]+_0x3b0f83(0x24c)+_0x503bb3['desc']+_0x3b0f83(0xac8)+_0x59d086+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x503bb3['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x503bb3[_0x3b0f83(0x255)]+_0x3b0f83(0xa56)+(_0x2042c5?'disabled':'')+_0x3b0f83(0x8c4)+_0x30d55f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}})['join'](''),_0x3558ba[_0x487ceb(0x3d9)][_0x487ceb(0xb00)](_0x487ceb(0xd60)),_0x2730e3[_0x487ceb(0xaed)][_0x487ceb(0xc07)]=_0x487ceb(0x877),_0x2730e3[_0x487ceb(0xaed)][_0x487ceb(0x96d)]=_0x487ceb(0xe14),setTimeout(()=>{const _0x4dfd52=_0x487ceb;_0x2730e3['style'][_0x4dfd52(0xc07)]=_0x4dfd52(0xd30),_0x2730e3[_0x4dfd52(0xaed)]['width']='0%';},0x32),_0x573175=setTimeout(()=>{const _0x2515c6=_0x487ceb;_0x3558ba[_0x2515c6(0x3d9)][_0x2515c6(0x831)](_0x2515c6(0xd60));},0xea60),document[_0x487ceb(0x6e6)]('close-market-btn')[_0x487ceb(0x4aa)]=()=>{const _0x3ad532=_0x487ceb;clearTimeout(_0x573175),_0x3558ba['classList']['add'](_0x3ad532(0xd60));},_0x3ae06a['querySelectorAll'](_0x487ceb(0xa9b))['forEach'](_0x112dd9=>{const _0x545fc6=_0x487ceb;_0x112dd9[_0x545fc6(0x4aa)]=_0x5d1d7b=>{const _0x524a83=_0x545fc6,_0x66cbfe=_0x5d1d7b[_0x524a83(0x8ce)]['dataset'][_0x524a83(0x74f)],_0x4baea6=parseInt(_0x5d1d7b[_0x524a83(0x8ce)]['dataset'][_0x524a83(0x255)],0xa);clearTimeout(_0x573175),_0x3558ba[_0x524a83(0x3d9)][_0x524a83(0x831)](_0x524a83(0xd60)),handleBuyItem(_0x7c8396[_0x524a83(0x1dc)],_0x66cbfe,_0x4baea6,0x1);};}),_0x3ae06a[_0x487ceb(0x2c3)]('.buy-time-confirm-btn')[_0x487ceb(0xbf2)](_0x17a3b9=>{const _0x42b29e=_0x487ceb;_0x17a3b9[_0x42b29e(0x4aa)]=_0x54585b=>{const _0x428c50=_0x42b29e,_0x118658=_0x54585b[_0x428c50(0x8ce)]['dataset'][_0x428c50(0x74f)],_0x55a5ab=parseInt(_0x54585b[_0x428c50(0x8ce)]['dataset'][_0x428c50(0x255)],0xa),_0x456827=document[_0x428c50(0x6e6)](_0x428c50(0x775)),_0x3037b9=parseInt(_0x456827[_0x428c50(0xb2d)],0xa),_0x4eb9b2=parseInt(_0x456827['max'],0xa);if(!_0x3037b9||_0x3037b9<0x1){showMessage(_0x428c50(0xc3b));return;}if(_0x3037b9>_0x4eb9b2){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x4eb9b2+_0x428c50(0x71a));return;}clearTimeout(_0x573175),_0x3558ba[_0x428c50(0x3d9)][_0x428c50(0x831)]('hidden'),handleBuyItem(_0x7c8396[_0x428c50(0x1dc)],_0x118658,_0x55a5ab,_0x3037b9);};});}async function handleBuyItem(_0x4c1c2f,_0x381ac8,_0x534da3,_0x47ba29=0x1){const _0x2a0cb2=_0x5319e2,_0x2dde2d=doc(db,_0x2a0cb2(0x555)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x2a0cb2(0xba2),_0x4c1c2f);try{await runTransaction(db,async _0x207774=>{const _0x30c5a5=_0x2a0cb2,_0x5a1d60=await _0x207774[_0x30c5a5(0x84b)](_0x2dde2d);if(!_0x5a1d60[_0x30c5a5(0x958)]())throw _0x30c5a5(0x782);const _0x21d5bc=_0x5a1d60['data']()[_0x30c5a5(0x812)]||0x0,_0x12b557=_0x534da3*_0x47ba29;if(_0x21d5bc<_0x12b557)throw _0x30c5a5(0x8fd);const _0x123ad4={};_0x123ad4[_0x30c5a5(0x812)]=increment(-_0x12b557),_0x123ad4['powerups.'+_0x381ac8]=increment(_0x47ba29),_0x207774['update'](_0x2dde2d,_0x123ad4);}),showMessage('ซื้อ\x20\x22'+_0x381ac8+_0x2a0cb2(0x5d5)+_0x47ba29+_0x2a0cb2(0x36f));}catch(_0x1419b1){console['error'](_0x2a0cb2(0x4ea),_0x1419b1),showMessage(typeof _0x1419b1==='string'?_0x1419b1:_0x2a0cb2(0x81e));}}async function handlePayForMarketEntry(_0x3e3a8b,_0x40de2,_0x28cff1){const _0xb0ef0b=_0x5319e2,_0x2eca45=doc(db,_0xb0ef0b(0x555)+appId+_0xb0ef0b(0x42a)+currentLiveGameId+_0xb0ef0b(0xba2),_0x3e3a8b);try{await runTransaction(db,async _0x7afccd=>{const _0x27697c=_0xb0ef0b,_0x17c163=await _0x7afccd[_0x27697c(0x84b)](_0x2eca45);if(!_0x17c163[_0x27697c(0x958)]())throw _0x27697c(0x782);const _0x5eabb0=_0x17c163[_0x27697c(0x9cb)]()[_0x27697c(0x812)]||0x0;if(_0x5eabb0<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x3ce566={};_0x3ce566[_0x27697c(0x812)]=increment(-0x1),_0x7afccd['update'](_0x2eca45,_0x3ce566);});const _0x204159={..._0x28cff1,'totalPoints':(_0x28cff1[_0xb0ef0b(0x812)]||0x0)-0x1};openBlackMarket(_0x40de2,_0x204159);}catch(_0x48277a){console[_0xb0ef0b(0x3f8)](_0xb0ef0b(0x851),_0x48277a),showMessage(typeof _0x48277a==='string'?_0x48277a:_0xb0ef0b(0x547));}}const audioCtx=new(window[(_0x5319e2(0x172))]||window[(_0x5319e2(0x90d))])();function playSystemSound(_0x3e8d9a){const _0x57163a=_0x5319e2;if(audioCtx['state']===_0x57163a(0x91e))audioCtx[_0x57163a(0x5a2)]();const _0xe8f965=audioCtx[_0x57163a(0x1a0)](),_0x235c4b=audioCtx[_0x57163a(0x272)]();_0xe8f965['connect'](_0x235c4b),_0x235c4b[_0x57163a(0x47d)](audioCtx[_0x57163a(0x404)]);const _0x3237a3=audioCtx[_0x57163a(0x151)];if(_0x3e8d9a===_0x57163a(0xcc5))_0xe8f965['type']=_0x57163a(0xd79),_0xe8f965[_0x57163a(0x689)][_0x57163a(0x1fd)](0x258,_0x3237a3),_0xe8f965['frequency'][_0x57163a(0xdfc)](0x4b0,_0x3237a3+0.1),_0x235c4b['gain']['setValueAtTime'](0.1,_0x3237a3),_0x235c4b[_0x57163a(0x249)][_0x57163a(0xdfc)](0.01,_0x3237a3+0.5),_0xe8f965[_0x57163a(0x3e6)](_0x3237a3),_0xe8f965[_0x57163a(0x954)](_0x3237a3+0.5);else{if(_0x3e8d9a===_0x57163a(0x854))_0xe8f965[_0x57163a(0xe5f)]=_0x57163a(0x483),_0xe8f965[_0x57163a(0x689)][_0x57163a(0x1fd)](0x96,_0x3237a3),_0xe8f965[_0x57163a(0x689)][_0x57163a(0xdfc)](0x64,_0x3237a3+0.2),_0x235c4b[_0x57163a(0x249)][_0x57163a(0x1fd)](0.1,_0x3237a3),_0x235c4b[_0x57163a(0x249)]['exponentialRampToValueAtTime'](0.01,_0x3237a3+0.3),_0xe8f965[_0x57163a(0x3e6)](_0x3237a3),_0xe8f965['stop'](_0x3237a3+0.3);else _0x3e8d9a===_0x57163a(0x517)&&(_0xe8f965[_0x57163a(0xe5f)]=_0x57163a(0xdb7),_0xe8f965[_0x57163a(0x689)][_0x57163a(0x1fd)](0x12c,_0x3237a3),_0xe8f965['frequency'][_0x57163a(0x8c1)](0x258,_0x3237a3+0.1),_0x235c4b['gain'][_0x57163a(0x1fd)](0.1,_0x3237a3),_0x235c4b[_0x57163a(0x249)][_0x57163a(0x8c1)](0.01,_0x3237a3+0.3),_0xe8f965[_0x57163a(0x3e6)](_0x3237a3),_0xe8f965[_0x57163a(0x954)](_0x3237a3+0.3));}}initialize();
