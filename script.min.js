const _0x5ddd37=_0x2785;(function(_0x7b772,_0x2661ad){const _0x1f3835=_0x2785,_0x30915e=_0x7b772();while(!![]){try{const _0x4d0e52=parseInt(_0x1f3835(0x530))/0x1+-parseInt(_0x1f3835(0x980))/0x2+parseInt(_0x1f3835(0xb1d))/0x3*(-parseInt(_0x1f3835(0x31e))/0x4)+parseInt(_0x1f3835(0xbfd))/0x5+parseInt(_0x1f3835(0xad3))/0x6+parseInt(_0x1f3835(0xd68))/0x7*(-parseInt(_0x1f3835(0xcf1))/0x8)+parseInt(_0x1f3835(0x6fc))/0x9*(-parseInt(_0x1f3835(0x3a4))/0xa);if(_0x4d0e52===_0x2661ad)break;else _0x30915e['push'](_0x30915e['shift']());}catch(_0x12d8df){_0x30915e['push'](_0x30915e['shift']());}}}(_0x3857,0xf04d8));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x5ddd37(0xbfe),_0x5ddd37(0xcd1),_0x5ddd37(0x457),_0x5ddd37(0xabf),_0x5ddd37(0xd6c),_0x5ddd37(0x5d1),'โลมาบิน',_0x5ddd37(0xe0a),'เพนกวินไฟ',_0x5ddd37(0xd1f),_0x5ddd37(0xa0f),'มือปราบสายรุ้ง',_0x5ddd37(0x5c6),_0x5ddd37(0xdd7),_0x5ddd37(0x4d9),_0x5ddd37(0x3e5),_0x5ddd37(0xae8),'ซามูไรสายเดี่ยว',_0x5ddd37(0x740),_0x5ddd37(0x7bc),_0x5ddd37(0x678),'แมวเก้าชีวิต',_0x5ddd37(0x5e1),_0x5ddd37(0x529),'กุ้งเต้นแร้งกา',_0x5ddd37(0x943),_0x5ddd37(0xafd),'เสือซ่อนเล็บ',_0x5ddd37(0x3fd),_0x5ddd37(0xd94),_0x5ddd37(0x327),_0x5ddd37(0x72d),_0x5ddd37(0x547),_0x5ddd37(0x7d4),_0x5ddd37(0xd2a),'CEOพันล้าน',_0x5ddd37(0x5a0),_0x5ddd37(0x31d),_0x5ddd37(0xaf6),_0x5ddd37(0xf11),_0x5ddd37(0xba4),_0x5ddd37(0x97a),'ส้มตำปูปลาร้า','พิซซ่าหน้าทุเรียน',_0x5ddd37(0xb97),'ข้าวมันไก่พิเศษ','หมูกระทะจะเยียวยาทุกสิ่ง',_0x5ddd37(0x8ba),_0x5ddd37(0x77f),_0x5ddd37(0x7ed),_0x5ddd37(0xd8b),_0x5ddd37(0xad1),_0x5ddd37(0x2ee),'นอนไม่พอ',_0x5ddd37(0x58f),_0x5ddd37(0xb95),_0x5ddd37(0x5bb),'โหลดนาน',_0x5ddd37(0x54b),_0x5ddd37(0x4fe),_0x5ddd37(0x7a3),'ตะวันฉาย','สายหมอก',_0x5ddd37(0xb50),_0x5ddd37(0xb1b),_0x5ddd37(0x927),_0x5ddd37(0x294),_0x5ddd37(0x427),_0x5ddd37(0xb73),'แม่น้ำ',_0x5ddd37(0x572),_0x5ddd37(0x5f2),_0x5ddd37(0xc1b),_0x5ddd37(0x3b3),_0x5ddd37(0x8f3),_0x5ddd37(0x30c),_0x5ddd37(0xa13),'นักประดิษฐ์',_0x5ddd37(0xc46),'ครูใหญ่',_0x5ddd37(0x38d),_0x5ddd37(0xba5),_0x5ddd37(0xad0),'ตัวแทนแห่งดวงจันทร์','ดาบพิฆาตอสูร',_0x5ddd37(0xa4e),'ธอร์ค้อนบิน',_0x5ddd37(0x504),_0x5ddd37(0x5e3),_0x5ddd37(0x648),_0x5ddd37(0x857),'คนโสด',_0x5ddd37(0xa3f),_0x5ddd37(0x418),'เพื่อนสนิท','คู่จิ้น','แฟนทิพย์','คนคุย',_0x5ddd37(0x4fa),_0x5ddd37(0x8fd)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x5ddd37(0xa6b),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x5ddd37(0xa6b),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x3912d3=_0x5ddd37;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x3912d3(0x683)][_0x3912d3(0x2b5)](_0x3912d3(0xcbb)),console[_0x3912d3(0x674)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x3912d3(0xbe5)](_0x3912d3(0x202),()=>{const _0x4e4213=_0x3912d3;console[_0x4e4213(0x674)](_0x4e4213(0x3c7));});}catch(_0x437cba){console[_0x3912d3(0x34c)](_0x3912d3(0xd7d)+_0x437cba[_0x3912d3(0xc44)]+',\x20'+_0x437cba[_0x3912d3(0x541)]);}else console[_0x3912d3(0x2ef)](_0x3912d3(0x5e8));},releaseWakeLock=async()=>{const _0x4d8712=_0x5ddd37;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x4d8712(0xecc)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x9c81d1=_0x5ddd37;if(!document[_0x9c81d1(0xe75)][_0x9c81d1(0xc2e)][_0x9c81d1(0x995)](_0x9c81d1(0x321))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4a9d5a=_0x9c81d1;document[_0x4a9d5a(0xe75)][_0x4a9d5a(0xc2e)]['add'](_0x4a9d5a(0x321)),console[_0x4a9d5a(0x674)](_0x4a9d5a(0xe8f));},inactivityTime);}}function wakeUpScreen(_0x14a238){const _0x17b150=_0x5ddd37;_0x14a238&&(_0x14a238[_0x17b150(0xf0a)](),_0x14a238[_0x17b150(0xcbd)]());document['body'][_0x17b150(0xc2e)][_0x17b150(0x716)](_0x17b150(0x321));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5975ad=_0x17b150;document[_0x5975ad(0xe75)][_0x5975ad(0xc2e)][_0x5975ad(0xee4)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x39538a=_0x5ddd37;if(dimTimer)clearTimeout(dimTimer);document[_0x39538a(0xe75)]['classList'][_0x39538a(0x716)](_0x39538a(0x321)),window['removeEventListener']('mousemove',resetDimTimer),window[_0x39538a(0x442)](_0x39538a(0xa24),resetDimTimer),window['removeEventListener']('touchstart',resetDimTimer),window[_0x39538a(0x442)](_0x39538a(0x56c),resetDimTimer),console[_0x39538a(0x674)](_0x39538a(0x8fa));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x16dcd6,_0x54ac99=![]){const _0x7dc333=_0x5ddd37,_0x400166=allQuizzes['find'](_0x57e22f=>_0x57e22f['id']===_0x16dcd6)||allQuizzesGlobal[_0x7dc333(0xe0f)](_0x382b02=>_0x382b02['id']===_0x16dcd6);if(!_0x400166){showMessage(_0x7dc333(0x907));return;}currentQuizData=getShuffledQuiz(_0x400166);const _0x179fd5=Math[_0x7dc333(0x9f5)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0xa580d4=await addDoc(collection(db,'artifacts/'+appId+_0x7dc333(0xd5c)),{'quizId':_0x400166['id'],'projectId':_0x400166[_0x7dc333(0x44e)],'status':_0x7dc333(0x356),'pin':_0x179fd5,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x54ac99});currentTeamQuizId=_0xa580d4['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x179fd5,_0x400166[_0x7dc333(0xe77)]),listenForTeamQuizUpdates();}catch(_0x438e4d){console[_0x7dc333(0x34c)](_0x7dc333(0x69e),_0x438e4d),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x1ac8d5,_0x4b2682,_0xe20b3f='team'){const _0x4f17b1=_0x5ddd37,_0x1768d9=_0xe20b3f==='group'?'Group\x20Mode':_0x4f17b1(0x83a);liveGameView[_0x4f17b1(0x1f9)]=_0x4f17b1(0x37b)+_0x1768d9+':\x20'+_0x4b2682+_0x4f17b1(0x364)+_0x1ac8d5+_0x4f17b1(0x6cd),document[_0x4f17b1(0x4ff)](_0x4f17b1(0x878))[_0x4f17b1(0xbe5)](_0x4f17b1(0xe61),async()=>{const _0x50d7b2=_0x4f17b1;showConfirmation(_0x50d7b2(0xdf2),async()=>{const _0xc93d52=_0x50d7b2;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xc93d52(0x8a6)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0xc93d52(0xdf0));});});}function listenForTeamQuizUpdates(){const _0x49efe2=_0x5ddd37;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x47e34c=doc(db,_0x49efe2(0x8a6)+appId+_0x49efe2(0xd5c),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x47e34c,_0x3d7ab6=>{const _0x567d25=_0x49efe2;if(!_0x3d7ab6[_0x567d25(0x8d2)]()){sessionStorage[_0x567d25(0x55c)](_0x567d25(0x466));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x567d25(0x513));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x567d25(0x420)?showView('project-detail'):showView(_0x567d25(0xa46));return;}const _0x3464b0=_0x3d7ab6[_0x567d25(0xef5)]();if(currentMode===_0x567d25(0x420)){if(_0x3464b0['mode']===_0x567d25(0x380)&&_0x3464b0[_0x567d25(0x361)]!==_0x567d25(0xd73)&&_0x3464b0[_0x567d25(0x361)]!==_0x567d25(0x98e)){const _0x1f9f13=Object[_0x567d25(0x7ee)](_0x3464b0[_0x567d25(0x58a)]||{});if(_0x1f9f13['length']>0x0){const _0x321b0b=_0x1f9f13[_0x567d25(0xceb)](_0x454e45=>_0x454e45[_0x567d25(0xeba)]===!![]);_0x321b0b&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3464b0);}else{if(_0x3464b0[_0x567d25(0x361)]==='podium'||_0x3464b0[_0x567d25(0x361)]===_0x567d25(0x98e)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3464b0[_0x567d25(0xd53)]==='group'){const _0x21e8b0=_0x3464b0[_0x567d25(0x58a)][userId];(!_0x21e8b0||!_0x21e8b0[_0x567d25(0xeba)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x169146){const _0x4fad1d=_0x5ddd37;console[_0x4fad1d(0x674)](_0x4fad1d(0xdab));const _0x59660c=doc(db,_0x4fad1d(0x8a6)+appId+_0x4fad1d(0xd5c),_0x169146);try{const _0x3fec1e=await getDoc(_0x59660c);if(_0x3fec1e['exists']()){const _0xee7d5c=_0x3fec1e['data']();_0xee7d5c['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0xee7d5c);}await updateDoc(_0x59660c,{'status':_0x4fad1d(0xd73)});}catch(_0x1c9d01){console[_0x4fad1d(0x34c)](_0x4fad1d(0x520),_0x1c9d01);}}function updateAdminTeamDashboard(_0x56cee0){const _0x151b32=_0x5ddd37,_0x12f965=document[_0x151b32(0x4ff)](_0x151b32(0xb35));if(!_0x12f965)return;const _0x20b8a4=_0x56cee0[_0x151b32(0xd53)]||_0x151b32(0xa03),_0x4a57a3=currentQuizData['questions']['length'];if(_0x20b8a4===_0x151b32(0x380)){const _0x48636c=Object[_0x151b32(0x7ee)](_0x56cee0[_0x151b32(0x58a)]||{});if(_0x48636c[_0x151b32(0x85b)]===0x0){_0x12f965[_0x151b32(0x1f9)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x38f3f1=[..._0x48636c][_0x151b32(0x23c)]((_0x2e847f,_0x1b06f2)=>_0x1b06f2[_0x151b32(0x6e9)]-_0x2e847f[_0x151b32(0x6e9)]),_0x27db27=_0x38f3f1[_0x151b32(0xa25)]((_0xa3ab74,_0x3223ab)=>{const _0x147d0d=_0x151b32,_0x4d291c=_0xa3ab74['answers']?.[_0x147d0d(0x85b)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x3223ab+0x1)+_0x147d0d(0xc5d)+_0xa3ab74[_0x147d0d(0x707)][_0x147d0d(0x40a)](',\x20')+_0x147d0d(0x2c5)+_0x4d291c+'/'+_0x4a57a3+_0x147d0d(0xd46)+_0xa3ab74['score']+_0x147d0d(0xc6d);})[_0x151b32(0x40a)](''),_0x46a903=currentQuizData['questions'][_0x151b32(0xa25)]((_0x211dfd,_0x2136a7)=>{const _0x577812=_0x151b32;let _0x41e085=0x0,_0x4c3961=0x0;_0x48636c[_0x577812(0x23a)](_0x4953ad=>{const _0x44fba0=_0x577812,_0x4f41cf=_0x4953ad[_0x44fba0(0xc7d)]?.[_0x44fba0(0xe0f)](_0x5943b4=>_0x5943b4[_0x44fba0(0xb48)]===_0x2136a7);if(_0x4f41cf){_0x4c3961++;if(_0x4f41cf[_0x44fba0(0x624)])_0x41e085++;}});const _0x56d7eb=_0x4c3961>0x0&&_0x4c3961===_0x48636c[_0x577812(0x85b)],_0x2e4748=_0x56d7eb?_0x577812(0x8af):_0x577812(0x841),_0x1b2c31=_0x56d7eb?_0x577812(0x3fe):'';return _0x577812(0x838)+_0x2e4748+_0x577812(0xd9e)+(_0x2136a7+0x1)+_0x577812(0xdb9)+_0x1b2c31+_0x577812(0x6e0)+_0x41e085+'/'+_0x48636c[_0x577812(0x85b)]+_0x577812(0x6c3);})[_0x151b32(0x40a)]('');_0x12f965[_0x151b32(0x1f9)]=_0x151b32(0xcfd)+_0x27db27+_0x151b32(0x229)+_0x46a903+'</div></div></div>';return;}const _0x101695=_0x56cee0['responses']||{},_0x324a2e=Object[_0x151b32(0x4cf)](_0x101695);if(_0x324a2e['length']===0x0){_0x12f965[_0x151b32(0x1f9)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x311040=_0x324a2e[_0x151b32(0xa25)](_0x1be386=>({'name':_0x1be386,'score':_0x101695[_0x1be386][_0x151b32(0x6e9)]||0x0}))['sort']((_0x2e7ba5,_0x427a85)=>_0x427a85[_0x151b32(0x6e9)]-_0x2e7ba5['score']),_0x40844d=_0x311040['map'](_0x31af9e=>{const _0x1c922a=_0x151b32,_0x1a1fac=_0x101695[_0x31af9e['name']]?.['answers']?.[_0x1c922a(0x85b)]||0x0,_0x4c02dd=Math['ceil'](_0x4a57a3/_0x324a2e[_0x1c922a(0x85b)]);return _0x1c922a(0x5ad)+_0x31af9e[_0x1c922a(0xc44)]+_0x1c922a(0xd15)+_0x1a1fac+'/'+_0x4c02dd+_0x1c922a(0x910)+_0x31af9e['score']+'\x20คะแนน</span></div>';})[_0x151b32(0x40a)](''),_0x73c2dc=_0x324a2e[_0x151b32(0xc2a)]((_0x254be8,_0x3c5bcc)=>_0x254be8+(_0x101695[_0x3c5bcc][_0x151b32(0xc7d)]?.[_0x151b32(0x85b)]||0x0),0x0),_0x3c8428=currentQuizData[_0x151b32(0x7f9)][_0x151b32(0xa25)]((_0x52793e,_0x30b226)=>{const _0xdb9897=_0x151b32;let _0x2a8806=null,_0x40e2bc=null;for(const _0x3ccb57 of _0x324a2e){const _0x4f083d=_0x101695[_0x3ccb57][_0xdb9897(0xc7d)]?.['find'](_0x13fa8d=>_0x13fa8d[_0xdb9897(0xb48)]===_0x30b226);if(_0x4f083d){_0x2a8806=_0x4f083d,_0x40e2bc=_0x3ccb57;break;}}const _0xeafdc0=!!_0x2a8806,_0x47d86a=_0xeafdc0&&_0x2a8806['isCorrect'],_0x5d86c7=(Math[_0xdb9897(0x9f5)](_0x30b226/_0x324a2e[_0xdb9897(0x85b)])+0x1)*_0x324a2e[_0xdb9897(0x85b)],_0x3d345e=_0x73c2dc>=_0x5d86c7,_0x44989b=_0x3d345e?_0xdb9897(0xe9f):_0xdb9897(0x841),_0x5bdde0=_0x3d345e?_0xdb9897(0x3fe):'';let _0x2417ab=_0xdb9897(0x969);return _0xeafdc0&&(_0x2417ab=_0x40e2bc+_0xdb9897(0xc1e)+(_0x47d86a?'ถูก':_0xdb9897(0xe0e))),_0xdb9897(0x838)+_0x44989b+_0xdb9897(0xd9e)+(_0x30b226+0x1)+_0xdb9897(0xdb9)+_0x5bdde0+_0xdb9897(0xf0c)+_0x2417ab+'</p></div>';})[_0x151b32(0x40a)]('');_0x12f965[_0x151b32(0x1f9)]=_0x151b32(0xdc3)+_0x40844d+_0x151b32(0x6ec)+_0x3c8428+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x2a2d8e=_0x5ddd37,_0x57669f=prompt(_0x2a2d8e(0x4b3));if(!_0x57669f||_0x57669f[_0x2a2d8e(0x26c)]()[_0x2a2d8e(0x85b)]!==0x4){showMessage(_0x2a2d8e(0xe0b));return;}try{const _0x39aba9=collection(db,'artifacts/'+appId+_0x2a2d8e(0xd5c)),_0xce5f74=query(_0x39aba9,where('pin','==',_0x57669f[_0x2a2d8e(0x26c)]()),where(_0x2a2d8e(0x361),'==',_0x2a2d8e(0x356))),_0x4c5dd6=await getDocs(_0xce5f74);if(_0x4c5dd6[_0x2a2d8e(0xb18)]){showMessage(_0x2a2d8e(0x549));return;}const _0x226520=_0x4c5dd6[_0x2a2d8e(0xb91)][0x0];currentTeamQuizId=_0x226520['id'];const _0x455e1b=_0x226520[_0x2a2d8e(0xef5)](),_0xff0990=doc(db,_0x2a2d8e(0x8a6)+appId+_0x2a2d8e(0x8c1),_0x455e1b[_0x2a2d8e(0x44e)]),_0x40a600=doc(db,_0x2a2d8e(0x8a6)+appId+_0x2a2d8e(0xad5),_0x455e1b[_0x2a2d8e(0x555)]),[_0x17075a,_0x3c3855]=await Promise[_0x2a2d8e(0xa6b)]([getDoc(_0xff0990),getDoc(_0x40a600)]);if(!_0x17075a['exists']()||!_0x3c3855[_0x2a2d8e(0x8d2)]())throw new Error(_0x2a2d8e(0xbd5));currentQuizData=getShuffledQuiz({'id':_0x3c3855['id'],..._0x3c3855[_0x2a2d8e(0xef5)]()});const _0x4e2afc=_0x17075a[_0x2a2d8e(0xef5)]();showTeamPlayerSelection(_0x4e2afc[_0x2a2d8e(0x28a)],currentQuizData[_0x2a2d8e(0xe77)]);}catch(_0x1920b7){console[_0x2a2d8e(0x34c)](_0x2a2d8e(0x217),_0x1920b7),showMessage(_0x2a2d8e(0x26e)+_0x1920b7['message']);}}async function handleJoinGroupActivity(){const _0x2dadad=_0x5ddd37,_0x47d6d5=prompt(_0x2dadad(0xab2));if(!_0x47d6d5||_0x47d6d5[_0x2dadad(0x26c)]()[_0x2dadad(0x85b)]!==0x4){showMessage(_0x2dadad(0x687));return;}const _0x1243f2=_0x47d6d5[_0x2dadad(0x26c)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x456916=collection(db,_0x2dadad(0x8a6)+appId+_0x2dadad(0xd5c)),_0x1c0525=query(_0x456916,where('pin','==',_0x1243f2),where(_0x2dadad(0x361),'==',_0x2dadad(0x356))),_0x22ab23=await getDocs(_0x1c0525);if(!_0x22ab23[_0x2dadad(0xb18)]){console[_0x2dadad(0x674)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x22ab23[_0x2dadad(0xb91)][0x0]);return;}const _0x16ded6=collection(db,'artifacts/'+appId+_0x2dadad(0x869)),_0x2d77ea=query(_0x16ded6,where('pin','==',_0x1243f2),where('status','in',[_0x2dadad(0x356),_0x2dadad(0xb0e),'summary',_0x2dadad(0x411)])),_0x45f430=await getDocs(_0x2d77ea);if(!_0x45f430[_0x2dadad(0xb18)]){console['log'](_0x2dadad(0x237)),await proceedWithSyncQuizJoin(_0x45f430[_0x2dadad(0xb91)][0x0]);return;}showMessage(_0x2dadad(0x4cb));}catch(_0x3697a5){console[_0x2dadad(0x34c)](_0x2dadad(0x676),_0x3697a5),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x3697a5[_0x2dadad(0x541)]);}}async function proceedWithTeamQuizJoin(_0x236de5){const _0x241cac=_0x5ddd37;currentTeamQuizId=_0x236de5['id'];const _0x1ea421=_0x236de5[_0x241cac(0xef5)](),_0x577d9d=doc(db,'artifacts/'+appId+_0x241cac(0x8c1),_0x1ea421[_0x241cac(0x44e)]),_0x2702fc=doc(db,'artifacts/'+appId+_0x241cac(0xad5),_0x1ea421[_0x241cac(0x555)]),[_0xe985ac,_0x158e2a]=await Promise[_0x241cac(0xa6b)]([getDoc(_0x577d9d),getDoc(_0x2702fc)]);if(!_0xe985ac[_0x241cac(0x8d2)]()||!_0x158e2a[_0x241cac(0x8d2)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x158e2a['id'],..._0x158e2a[_0x241cac(0xef5)]()}),showTeamPlayerSelection(_0xe985ac[_0x241cac(0xef5)]()[_0x241cac(0x28a)],currentQuizData[_0x241cac(0xe77)],_0x1ea421['mode']||_0x241cac(0xa03)),messageModal[_0x241cac(0xc2e)][_0x241cac(0xee4)](_0x241cac(0xc89));}async function proceedWithSyncQuizJoin(_0x249850){const _0x1a57ef=_0x5ddd37;currentLiveGameId=_0x249850['id'];const _0x371fa8=_0x249850[_0x1a57ef(0xef5)](),_0x1f0c0c=doc(db,_0x1a57ef(0x8a6)+appId+'/public/data/quizzes',_0x371fa8[_0x1a57ef(0x555)]),_0x147920=await getDoc(_0x1f0c0c);if(!_0x147920[_0x1a57ef(0x8d2)]())throw new Error(_0x1a57ef(0x907));const _0x1cc418=_0x147920[_0x1a57ef(0xef5)](),_0x3d7e7c=doc(db,'artifacts/'+appId+_0x1a57ef(0x8c1),_0x1cc418['projectId']),_0x3176be=await getDoc(_0x3d7e7c);if(!_0x3176be[_0x1a57ef(0x8d2)]())throw new Error(_0x1a57ef(0xe8e));currentQuizData=_0x371fa8[_0x1a57ef(0x230)],showView(_0x1a57ef(0xc8b)),showTeamPlayerSelection(_0x3176be[_0x1a57ef(0xef5)]()['students'],_0x1cc418[_0x1a57ef(0xe77)],'sync');const _0x1ded75=document[_0x1a57ef(0x4ff)]('confirm-team-players-btn'),_0x5470dd=_0x1ded75[_0x1a57ef(0xdc7)](!![]);_0x1ded75[_0x1a57ef(0xdbc)][_0x1a57ef(0x7ad)](_0x5470dd,_0x1ded75),_0x5470dd[_0x1a57ef(0x66e)]=confirmAndJoinSyncGame,messageModal['classList'][_0x1a57ef(0xee4)]('hidden');}function getCleanApplicationHTML(){const _0x55f82b=_0x5ddd37,_0x1c341a=document['getElementById']('applicationContent');if(!_0x1c341a)return'';const _0x3928b6=_0x1c341a[_0x55f82b(0xdc7)](!![]);return _0x3928b6['querySelectorAll']('.application-options\x20button')[_0x55f82b(0x23a)](_0x1c3f49=>{const _0x162579=_0x55f82b;_0x1c3f49[_0x162579(0xc2e)][_0x162579(0x716)](_0x162579(0x4ef),_0x162579(0xbad)),_0x1c3f49[_0x162579(0x206)]=![];}),_0x3928b6[_0x55f82b(0x1f9)];}function showTeamPlayerSelection(_0x17d771,_0x270e30,_0x59afdf='team'){const _0x309f49=_0x5ddd37;studentInitialView['classList'][_0x309f49(0xee4)]('hidden'),studentJoinGameView[_0x309f49(0xc2e)][_0x309f49(0xee4)](_0x309f49(0xc89)),document[_0x309f49(0x4ff)]('student-team-selection-view')[_0x309f49(0xc2e)][_0x309f49(0x716)](_0x309f49(0xc89));let _0x4042e2='Team\x20Quiz';if(_0x59afdf===_0x309f49(0x380))_0x4042e2=_0x309f49(0x9be);else _0x59afdf===_0x309f49(0x3b7)&&(_0x4042e2='Sync\x20Mode');document[_0x309f49(0x4ff)](_0x309f49(0xa09))['textContent']=_0x4042e2+':\x20'+_0x270e30;const _0x43ea31=document[_0x309f49(0x4ff)](_0x309f49(0x7d9));if(!_0x17d771||_0x17d771[_0x309f49(0x85b)]===0x0){_0x43ea31[_0x309f49(0x1f9)]=_0x309f49(0x417),document[_0x309f49(0x4ff)]('confirm-team-players-btn')[_0x309f49(0x206)]=!![];return;}_0x43ea31[_0x309f49(0x1f9)]=_0x17d771[_0x309f49(0xa25)](_0x3edef1=>_0x309f49(0xe86)+_0x3edef1+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x3edef1+_0x309f49(0x4d3))[_0x309f49(0x40a)](''),document[_0x309f49(0x4ff)]('confirm-team-players-btn')[_0x309f49(0x206)]=![];}async function confirmAndStartTeamQuiz(){const _0x4ad387=_0x5ddd37,_0x40924c=Array[_0x4ad387(0x8ed)](document['querySelectorAll'](_0x4ad387(0x5a7)))[_0x4ad387(0xa25)](_0x52f6ee=>_0x52f6ee['value']);if(_0x40924c[_0x4ad387(0x85b)]===0x0){showMessage(_0x4ad387(0x9a1));return;}localTeamPlayers=_0x40924c,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x6e721d=doc(db,_0x4ad387(0x8a6)+appId+_0x4ad387(0xd5c),currentTeamQuizId);try{const _0x35b9e5=await getDoc(_0x6e721d);if(!_0x35b9e5['exists']())throw new Error(_0x4ad387(0xc8c));const _0x2ae209=_0x35b9e5[_0x4ad387(0xef5)]();if(_0x2ae209[_0x4ad387(0xd53)]===_0x4ad387(0x380)){const _0x3596b5={[_0x4ad387(0x6f3)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x6e721d,_0x3596b5);}else{const _0xec1358=_0x2ae209[_0x4ad387(0xa14)]||{};localTeamPlayers['forEach'](_0x54fb20=>{!_0xec1358[_0x54fb20]&&(_0xec1358[_0x54fb20]={'score':0x0,'answers':[]});}),await updateDoc(_0x6e721d,{'responses':_0xec1358});}document[_0x4ad387(0x4ff)](_0x4ad387(0x398))[_0x4ad387(0xc2e)][_0x4ad387(0xee4)](_0x4ad387(0xc89)),renderTeamQuizQuestion();const _0x4997a0={'gameId':currentTeamQuizId,'mode':_0x2ae209[_0x4ad387(0xd53)]||_0x4ad387(0xa03),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x4ad387(0x466),JSON[_0x4ad387(0xe5a)](_0x4997a0)),listenForTeamQuizUpdates();}catch(_0x422060){console['error']('Error\x20confirming\x20players:',_0x422060),showMessage(_0x4ad387(0xd87));}}async function renderTeamQuizQuestion(){const _0x335fb0=_0x5ddd37;if(localQuestionIndex>=currentQuizData[_0x335fb0(0x7f9)][_0x335fb0(0x85b)]){displayTeamQuizFinalResults();return;}const _0x28c1c4=currentQuizData[_0x335fb0(0x7f9)][localQuestionIndex],_0xa737c3=localTeamPlayers[localPlayerIndex],_0x5312a4=_0x28c1c4['questionType']||currentQuizData[_0x335fb0(0xa9d)];let _0x5d804b=_0x28c1c4[_0x335fb0(0x692)]||_0x28c1c4[_0x335fb0(0xb93)],_0x2f817a='';switch(_0x5312a4){case'multiple_choice':case'fill_in_with_choices':_0x2f817a=_0x28c1c4[_0x335fb0(0x4ad)][_0x335fb0(0xa25)]((_0x1eef99,_0x4d108f)=>_0x335fb0(0xca7)+_0x4d108f+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x4d108f+_0x335fb0(0x973)+_0x4d108f+'\x22>'+_0x1eef99+_0x335fb0(0x7a6))[_0x335fb0(0x40a)]('');break;case _0x335fb0(0xed0):_0x2f817a=_0x335fb0(0x3e1);break;case _0x335fb0(0x3d7):case _0x335fb0(0x75f):_0x2f817a=_0x335fb0(0xcb8);break;case _0x335fb0(0x867):_0x2f817a=_0x335fb0(0xc0f)+_0x28c1c4['allResponses'][_0x335fb0(0xa25)](_0x3d9136=>_0x335fb0(0x33e)+_0x3d9136+'\x22>'+_0x3d9136+_0x335fb0(0x999))[_0x335fb0(0x40a)]('')+'</select>';break;default:_0x2f817a=_0x335fb0(0x353);break;}studentQuizArea[_0x335fb0(0x1f9)]=_0x335fb0(0x945)+(localQuestionIndex+0x1)+_0x335fb0(0xcc1)+currentQuizData[_0x335fb0(0x7f9)][_0x335fb0(0x85b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0xa737c3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x5d804b+_0x335fb0(0xcc4)+(_0x28c1c4[_0x335fb0(0xa18)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x28c1c4[_0x335fb0(0xa18)]+_0x335fb0(0x629):'')+_0x335fb0(0x307)+_0x2f817a+_0x335fb0(0xa6c),studentQuizArea[_0x335fb0(0xc2e)]['remove'](_0x335fb0(0xc89));if(window[_0x335fb0(0xb8c)])MathJax[_0x335fb0(0xe28)]([studentQuizArea]);document[_0x335fb0(0x4ff)](_0x335fb0(0x61c))[_0x335fb0(0xbe5)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x2ff874=_0x5ddd37,_0x2e9a32=currentQuizData['questions'][localQuestionIndex],_0x506119=_0x2e9a32[_0x2ff874(0x278)]||currentQuizData[_0x2ff874(0xa9d)];let _0x2d7c0e=null,_0x3a90af=![];if(_0x506119===_0x2ff874(0x3d7)||_0x506119===_0x2ff874(0x75f)){const _0x39ecbe=document[_0x2ff874(0xee9)](_0x2ff874(0x2ab));if(!_0x39ecbe||!_0x39ecbe[_0x2ff874(0x717)][_0x2ff874(0x26c)]()){showMessage(_0x2ff874(0x30f));return;}_0x2d7c0e=_0x39ecbe[_0x2ff874(0x717)]['trim'](),_0x3a90af=await gradeShortAnswer(_0x2d7c0e,_0x2e9a32);}else{const _0x13c931=document['querySelector'](_0x2ff874(0x8ad));if(!_0x13c931||_0x13c931[_0x2ff874(0x717)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x2d7c0e=_0x13c931[_0x2ff874(0x717)];switch(_0x506119){case _0x2ff874(0xed0):_0x3a90af=_0x2d7c0e===_0x2ff874(0x394)===_0x2e9a32[_0x2ff874(0x98f)];break;case _0x2ff874(0x867):_0x3a90af=_0x2d7c0e===_0x2e9a32[_0x2ff874(0xcd9)];break;default:_0x3a90af=parseInt(_0x2d7c0e)===_0x2e9a32[_0x2ff874(0x791)];break;}}const _0x1cd0e8={'questionIndex':localQuestionIndex,'isCorrect':_0x3a90af},_0x394112=userId,_0x2fe3aa={[_0x2ff874(0x6f3)+_0x394112+_0x2ff874(0x742)]:arrayUnion(_0x1cd0e8)};_0x3a90af&&(_0x2fe3aa[_0x2ff874(0x6f3)+_0x394112+_0x2ff874(0x570)]=increment(0x1));try{await updateDoc(doc(db,_0x2ff874(0x8a6)+appId+_0x2ff874(0xd5c),currentTeamQuizId),_0x2fe3aa),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x2ff874(0x7f9)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5bef45){console['error']('Error\x20submitting\x20group\x20answer:',_0x5bef45),showMessage(_0x2ff874(0x9f3));}}async function handleTeamAnswerSubmit(){const _0x4963a6=_0x5ddd37,_0x35ca8a=await getDoc(doc(db,_0x4963a6(0x8a6)+appId+_0x4963a6(0xd5c),currentTeamQuizId));if(!_0x35ca8a[_0x4963a6(0x8d2)]())return;const _0x3d8d79=_0x35ca8a[_0x4963a6(0xef5)]();if(_0x3d8d79['mode']===_0x4963a6(0x380)){handleGroupAnswerSubmit();return;}const _0x333591=localTeamPlayers[localPlayerIndex],_0x4fbb19=currentQuizData[_0x4963a6(0x7f9)][localQuestionIndex],_0x251888=_0x4fbb19[_0x4963a6(0x278)]||currentQuizData[_0x4963a6(0xa9d)];let _0x468245=null,_0x2ac341=![];if(_0x251888==='short_answer'||_0x251888===_0x4963a6(0x75f)){const _0x4cdf7f=document[_0x4963a6(0xee9)](_0x4963a6(0x2ab));if(!_0x4cdf7f||!_0x4cdf7f[_0x4963a6(0x717)][_0x4963a6(0x26c)]()){showMessage(_0x4963a6(0x51e));return;}_0x468245=_0x4cdf7f['value'][_0x4963a6(0x26c)](),_0x2ac341=await gradeShortAnswer(_0x468245,_0x4fbb19);}else{const _0x41f0b6=document[_0x4963a6(0xee9)](_0x4963a6(0x8ad));if(!_0x41f0b6||_0x41f0b6[_0x4963a6(0x717)]===''){showMessage(_0x4963a6(0x3b0));return;}_0x468245=_0x41f0b6['value'];switch(_0x251888){case _0x4963a6(0xed0):_0x2ac341=_0x468245==='true'===_0x4fbb19[_0x4963a6(0x98f)];break;case _0x4963a6(0x867):_0x2ac341=_0x468245===_0x4fbb19[_0x4963a6(0xcd9)];break;default:_0x2ac341=parseInt(_0x468245)===_0x4fbb19[_0x4963a6(0x791)];break;}}const _0x4f5c01={'questionIndex':localQuestionIndex,'isCorrect':_0x2ac341,'answerValue':_0x468245},_0xfb9c42={[_0x4963a6(0x5d3)+_0x333591+_0x4963a6(0x742)]:arrayUnion(_0x4f5c01)};_0x2ac341&&(_0xfb9c42['responses.'+_0x333591+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x4963a6(0x8a6)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0xfb9c42),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x4963a6(0x85b)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3e1a50){console[_0x4963a6(0x34c)]('Error\x20submitting\x20team\x20answer:',_0x3e1a50),showMessage(_0x4963a6(0x9f3));}}async function displayTeamQuizFinalResults(){const _0x2e115b=_0x5ddd37;studentQuizArea[_0x2e115b(0xc2e)][_0x2e115b(0xee4)](_0x2e115b(0xc89)),studentResultArea[_0x2e115b(0xc2e)][_0x2e115b(0x716)]('hidden');const _0x21531c=doc(db,_0x2e115b(0x8a6)+appId+_0x2e115b(0xd5c),currentTeamQuizId),_0x3a0094=await getDoc(_0x21531c);if(!_0x3a0094[_0x2e115b(0x8d2)]()){studentResultArea[_0x2e115b(0x1f9)]=_0x2e115b(0x6b7);return;}const _0x1f5347=_0x3a0094[_0x2e115b(0xef5)]();let _0x475122=[];const _0x201bd4=_0x1f5347[_0x2e115b(0xd53)]||'team';if(_0x201bd4===_0x2e115b(0x380)){const _0x1b9639=_0x1f5347[_0x2e115b(0x58a)][userId];_0x1b9639?_0x475122=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x2e115b(0x40a)](',\x20'),'score':_0x1b9639[_0x2e115b(0x6e9)]||0x0}]:_0x475122=[{'name':_0x2e115b(0xbdd),'score':_0x2e115b(0xc57)}];}else _0x475122=localTeamPlayers[_0x2e115b(0xa25)](_0x54efb8=>({'name':_0x54efb8,'score':_0x1f5347[_0x2e115b(0xa14)][_0x54efb8]?.[_0x2e115b(0x6e9)]||0x0}))[_0x2e115b(0x23c)]((_0x5eab60,_0x3f68b4)=>_0x3f68b4[_0x2e115b(0x6e9)]-_0x5eab60[_0x2e115b(0x6e9)]);studentResultArea['innerHTML']=_0x2e115b(0x6a4)+_0x475122[_0x2e115b(0xa25)](_0x2f0000=>_0x2e115b(0x480)+_0x2f0000['name']+_0x2e115b(0x340)+_0x2f0000[_0x2e115b(0x6e9)]+_0x2e115b(0x6e6))['join']('')+_0x2e115b(0x55a),sessionStorage[_0x2e115b(0x55c)](_0x2e115b(0x466)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x2b7923=_0x2e115b;deleteDoc(doc(db,_0x2b7923(0x8a6)+appId+_0x2b7923(0xd5c),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x5ddd37(0xb31),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x5ddd37(0xd37),'name':'การนับ'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x4d4)},{'category':_0x5ddd37(0xd37),'name':'การปัดเศษและประมาณค่า'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x397)},{'category':_0x5ddd37(0xd37),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x5ddd37(0xe30)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xced)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x2ac)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xa9f)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xc8d)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x236)},{'category':_0x5ddd37(0xd37),'name':'เส้นจำนวน'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xc70)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xabe)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xd8e)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x953)},{'category':_0x5ddd37(0xd37),'name':'อัตราและอัตราหน่วย'},{'category':_0x5ddd37(0xd37),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x9ff)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xb0f)},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x7fc)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x6cf)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x3e6)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xec5)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x7ea)},{'category':'จำนวนและการดำเนินการ','name':_0x5ddd37(0xc25)},{'category':_0x5ddd37(0xd37),'name':'การหารทศนิยม'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xefc)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xa65)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x919)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0xc50)},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x2ec)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':_0x5ddd37(0xd37),'name':_0x5ddd37(0x37c)},{'category':'จำนวนและการดำเนินการ','name':_0x5ddd37(0xed7)},{'category':_0x5ddd37(0xb41),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x5ddd37(0x4c4)},{'category':'การวัด','name':_0x5ddd37(0xc93)},{'category':_0x5ddd37(0xb41),'name':_0x5ddd37(0x53a)},{'category':_0x5ddd37(0xb41),'name':_0x5ddd37(0x99e)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':'การวัด','name':_0x5ddd37(0x2c9)},{'category':_0x5ddd37(0xb41),'name':_0x5ddd37(0x2a5)},{'category':'การวัด','name':_0x5ddd37(0x51d)},{'category':_0x5ddd37(0xb41),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x5ddd37(0xb41),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0x5ddd37(0x933)},{'category':_0x5ddd37(0xb41),'name':'สเกลและแผนที่'},{'category':_0x5ddd37(0xb41),'name':_0x5ddd37(0xdca)},{'category':'เรขาคณิต','name':_0x5ddd37(0x8fb)},{'category':'เรขาคณิต','name':_0x5ddd37(0x8aa)},{'category':'เรขาคณิต','name':_0x5ddd37(0x7e3)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0x2a5)},{'category':_0x5ddd37(0x80e),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0xaa7)},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0xd5a)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0x6fe)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0x942)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0x9d2)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0x355)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0xac0)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0xa40)},{'category':_0x5ddd37(0x80e),'name':_0x5ddd37(0x48f)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x6a6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0xd0c)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x85a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0xa05)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0x675)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0xe9b)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0xd72)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0xcfc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0xb61)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0x5ddd37(0x98c),'name':'สมการยกกำลัง'},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x598)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0x304)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x24d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0xaf0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0xe3b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0xb6a)},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0x2f8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0x63f)},{'category':_0x5ddd37(0x98c),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x5ddd37(0x98c),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x5ddd37(0x98c),'name':'ฟังก์ชันพหุนาม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0x6c9)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0xd86)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x262)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x486)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x606)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x9db)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x2dd)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0xbcf)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5ddd37(0xb98)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0x849)},{'category':_0x5ddd37(0x98c),'name':_0x5ddd37(0xb34)},{'category':_0x5ddd37(0xa7e),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x5ddd37(0xa7e),'name':_0x5ddd37(0x24e)},{'category':_0x5ddd37(0xa7e),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x5ddd37(0xa7e),'name':_0x5ddd37(0x46a)},{'category':_0x5ddd37(0xa7e),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x5ddd37(0xa7e),'name':_0x5ddd37(0xe1f)},{'category':_0x5ddd37(0xa7e),'name':_0x5ddd37(0x36d)},{'category':_0x5ddd37(0xa7e),'name':'วงรี'},{'category':_0x5ddd37(0xa7e),'name':_0x5ddd37(0x9ed)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0x2e0)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0x5b0)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0x400)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0x5ba)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0x656)},{'category':'ตรีโกณมิติ','name':_0x5ddd37(0x28c)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0x88c)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0xd0d)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0xccb)},{'category':_0x5ddd37(0x4ca),'name':_0x5ddd37(0xc4f)},{'category':_0x5ddd37(0x4ca),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0xe2c)},{'category':'สถิติและความน่าจะเป็น','name':_0x5ddd37(0xc0e)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x482)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x9fa)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x519)},{'category':_0x5ddd37(0xe3f),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x219)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0xea0)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x6e7)},{'category':'สถิติและความน่าจะเป็น','name':_0x5ddd37(0xecb)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x72a)},{'category':'สถิติและความน่าจะเป็น','name':_0x5ddd37(0x3fb)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x95f)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x2b2)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0xb1e)},{'category':'สถิติและความน่าจะเป็น','name':_0x5ddd37(0xa2b)},{'category':_0x5ddd37(0xe3f),'name':'แผนภาพเวนน์'},{'category':_0x5ddd37(0xe3f),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x5ddd37(0xdb8)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0xc01)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0xaae)},{'category':_0x5ddd37(0xe3f),'name':_0x5ddd37(0x36e)},{'category':'สถิติและความน่าจะเป็น','name':_0x5ddd37(0x557)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0xa0c)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0x7e6)},{'category':_0x5ddd37(0x39e),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0x87a)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0xb8f)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0x830)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0x89a)},{'category':_0x5ddd37(0x39e),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0x8bc)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0x3eb)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0xe62)},{'category':_0x5ddd37(0x39e),'name':_0x5ddd37(0x2f6)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5ddd37(0x24c)},{'category':_0x5ddd37(0x274),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x5ddd37(0x274),'name':_0x5ddd37(0x2cc)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x5ddd37(0x274),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x5ddd37(0x274),'name':_0x5ddd37(0x41e)},{'category':_0x5ddd37(0x274),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5ddd37(0xd43)},{'category':_0x5ddd37(0x9e1),'name':_0x5ddd37(0xd2f)},{'category':_0x5ddd37(0x9e1),'name':_0x5ddd37(0x9ce)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5ddd37(0xb87)},{'category':_0x5ddd37(0x9e1),'name':_0x5ddd37(0x3d6)},{'category':_0x5ddd37(0x6b5),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x5ddd37(0xc1a)},{'category':_0x5ddd37(0x6b5),'name':_0x5ddd37(0x251)}];function renderTopicCheckboxes(){const _0x1eace7=_0x5ddd37,_0xccb2b2=document[_0x1eace7(0x4ff)](_0x1eace7(0xe34));if(!_0xccb2b2)return;const _0x306afc=allMathTopics,_0x1aeb46=customMathTopics[_0x1eace7(0xa25)](_0x485f05=>({'id':_0x485f05['id'],'category':_0x1eace7(0x845),'name':_0x485f05[_0x1eace7(0xc44)]})),_0x4425ec=[..._0x306afc,..._0x1aeb46],_0x51f938=_0x4425ec[_0x1eace7(0xc2a)]((_0x1e86c8,_0x24f8cd)=>{const _0x183f5c=_0x1eace7;return!_0x1e86c8[_0x24f8cd[_0x183f5c(0x454)]]&&(_0x1e86c8[_0x24f8cd[_0x183f5c(0x454)]]=[]),_0x1e86c8[_0x24f8cd[_0x183f5c(0x454)]][_0x183f5c(0xb2a)](_0x24f8cd),_0x1e86c8;},{});let _0x4321d6='';const _0x55b819=[_0x1eace7(0x845),...Object['keys'](_0x51f938)['filter'](_0x4a37de=>_0x4a37de!=='หัวข้อที่สร้างเอง')];for(const _0x3b4486 of _0x55b819){if(_0x51f938[_0x3b4486]){const _0x266b4d=_0x3b4486===_0x1eace7(0x845),_0xf85689=_0x266b4d?_0x1eace7(0x799):_0x1eace7(0xdf6),_0x2ea124=_0x266b4d?_0x1eace7(0x885):_0x1eace7(0x50f);_0x4321d6+=_0x1eace7(0x697),_0x4321d6+=_0x1eace7(0x5f9)+_0x2ea124+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0xf85689+'\x20mr-2\x22></i>'+_0x3b4486+_0x1eace7(0x7d3),_0x51f938[_0x3b4486][_0x1eace7(0x23a)](_0xa4f3c9=>{const _0x5ef171=_0x1eace7,_0x416796=!!_0xa4f3c9['id'],_0x322e18=_0x416796?_0x5ef171(0xbd0)+_0xa4f3c9['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa4f3c9['id']+_0x5ef171(0x4f4)+_0xa4f3c9['id']+_0x5ef171(0x472)+_0xa4f3c9['id']+_0x5ef171(0x285):'';_0x4321d6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0xa4f3c9['id']||'')+_0x5ef171(0x579)+_0xa4f3c9['name']+_0x5ef171(0x9b6)+_0xa4f3c9[_0x5ef171(0xc44)]+_0x5ef171(0xd71)+(_0x416796?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0xa4f3c9[_0x5ef171(0xc44)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x322e18+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4321d6+=_0x1eace7(0x629);}}_0xccb2b2['innerHTML']=_0x4321d6||_0x1eace7(0xdcc),_0xccb2b2[_0x1eace7(0x442)](_0x1eace7(0xdd4),updateSelectedTopicsCount),_0xccb2b2[_0x1eace7(0xbe5)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5e208c,_0x191cf4){const _0x2be982=_0x5ddd37;if(!_0x5e208c||!_0x191cf4[_0x2be982(0x26c)]()){showMessage(_0x2be982(0x7b7));return;}try{const _0x53afd2=doc(db,_0x2be982(0x8a6)+appId+_0x2be982(0x5fd),_0x5e208c);await updateDoc(_0x53afd2,{'name':_0x191cf4[_0x2be982(0x26c)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x187459){console[_0x2be982(0x34c)]('Error\x20updating\x20custom\x20topic:',_0x187459),showMessage(_0x2be982(0xd51));}}function toggleTopicEditMode(_0x4ac605,_0x3469d8){const _0x112db2=_0x5ddd37;if(!_0x4ac605)return;const _0x5b150f=_0x4ac605['querySelector']('.topic-name-display'),_0x181750=_0x4ac605[_0x112db2(0xee9)](_0x112db2(0x489)),_0x4ba806=_0x4ac605[_0x112db2(0xee9)](_0x112db2(0x48e)),_0x4af638=_0x4ac605[_0x112db2(0xee9)](_0x112db2(0xe74));_0x5b150f['classList'][_0x112db2(0xe23)](_0x112db2(0xc89),_0x3469d8),_0x181750[_0x112db2(0xc2e)][_0x112db2(0xe23)](_0x112db2(0xc89),!_0x3469d8),_0x4ba806[_0x112db2(0xc2e)][_0x112db2(0xe23)](_0x112db2(0xc89),_0x3469d8),_0x4af638[_0x112db2(0xc2e)][_0x112db2(0xe23)](_0x112db2(0xc89),!_0x3469d8),_0x3469d8&&(_0x181750[_0x112db2(0x7ff)](),_0x181750[_0x112db2(0x700)]());}async function handleStartLiveRace(_0x502cd){const _0x123b90=_0x5ddd37;let _0x2af788=allQuizzes[_0x123b90(0xe0f)](_0x3f2f96=>_0x3f2f96['id']===_0x502cd);if(!_0x2af788){const _0x585e59=doc(db,_0x123b90(0x8a6)+appId+_0x123b90(0xad5),_0x502cd),_0x45e5c3=await getDoc(_0x585e59);if(!_0x45e5c3[_0x123b90(0x8d2)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x2af788={'id':_0x45e5c3['id'],..._0x45e5c3['data']()};}const _0x23707b=getShuffledQuiz(_0x2af788);currentQuizData=_0x23707b;const _0x4566f2=_0x2af788[_0x123b90(0x44e)]||currentProjectId||null,_0x1c251a=Math[_0x123b90(0x9f5)](0x3e8+Math['random']()*0x2328)[_0x123b90(0xe66)]();currentLiveGamePin=_0x1c251a;try{const _0x3fbb31=await addDoc(collection(db,_0x123b90(0x8a6)+appId+'/public/data/liveGames'),{'quizId':_0x502cd,'projectId':_0x4566f2,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1c251a,'createdAt':serverTimestamp(),'shuffledQuiz':_0x23707b});currentLiveGameId=_0x3fbb31['id'],showAdminLobbyView(_0x1c251a,_0x2af788[_0x123b90(0xe77)]),listenForLiveGameUpdates();}catch(_0x32f377){console[_0x123b90(0x34c)](_0x123b90(0x207),_0x32f377),showMessage(_0x123b90(0xee5));}}function updateSelectedTopicsCount(){const _0x33c2cd=_0x5ddd37,_0x2a2484=document[_0x33c2cd(0x4ff)](_0x33c2cd(0xe34)),_0x2aafeb=_0x2a2484[_0x33c2cd(0xe1c)](_0x33c2cd(0x5b6))[_0x33c2cd(0x85b)],_0x3ec799=document[_0x33c2cd(0x4ff)](_0x33c2cd(0x496));_0x2aafeb>0x0?_0x3ec799[_0x33c2cd(0x602)]='(เลือกแล้ว\x20'+_0x2aafeb+_0x33c2cd(0x3b6):_0x3ec799[_0x33c2cd(0x602)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x5ddd37(0xa46),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x5ddd37(0xa95),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;function _0x2785(_0x3518aa,_0x519317){const _0x385731=_0x3857();return _0x2785=function(_0x2785b2,_0x222522){_0x2785b2=_0x2785b2-0x1f1;let _0x5651f0=_0x385731[_0x2785b2];return _0x5651f0;},_0x2785(_0x3518aa,_0x519317);}let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x5ddd37(0x485),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x5ddd37(0xcb6),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4d1624,_0x2aa21e){const _0x413a12=_0x5ddd37;return Math[_0x413a12(0xc16)](Math[_0x413a12(0x86d)](_0x4d1624['x']-_0x2aa21e['x'],0x2)+Math[_0x413a12(0x86d)](_0x4d1624['y']-_0x2aa21e['y'],0x2));}function getMidpoint(_0xbfc158,_0x3fd038){return{'x':(_0xbfc158['x']+_0x3fd038['x'])/0x2,'y':(_0xbfc158['y']+_0x3fd038['y'])/0x2};}function getTransformedPoint(_0x5cd54c,_0x148995){return{'x':(_0x5cd54c-scratchpadOffset['x'])/scratchpadScale,'y':(_0x148995-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0xb92dc8=_0x5ddd37;if(!scratchpadCtx)return;const _0x357c99=scratchpadCtx['canvas'],_0x519e49=window['devicePixelRatio']||0x1,_0x3289ee=document['getElementById'](_0xb92dc8(0x895));_0x3289ee&&(_0x3289ee[_0xb92dc8(0x8c6)][_0xb92dc8(0x647)]=_0xb92dc8(0xb84),_0x3289ee['style'][_0xb92dc8(0x223)]='translate('+scratchpadOffset['x']+_0xb92dc8(0xdfb)+scratchpadOffset['y']+_0xb92dc8(0xd7c)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0xb92dc8(0xbcd)](_0x519e49,0x0,0x0,_0x519e49,0x0,0x0),scratchpadCtx[_0xb92dc8(0x2aa)](0x0,0x0,_0x357c99[_0xb92dc8(0x248)],_0x357c99[_0xb92dc8(0xd12)]),scratchpadCtx[_0xb92dc8(0xd78)](),scratchpadCtx['save'](),scratchpadCtx[_0xb92dc8(0xbea)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0xb92dc8(0xe51)](scratchpadScale,scratchpadScale),strokes[_0xb92dc8(0x23a)](_0x34c14f=>{drawStroke(_0x34c14f);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0xc51f38=_0x5ddd37;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0x18917a=currentQuizData[_0xc51f38(0x7f9)][localQuestionIndex],_0x32acf0=_0x18917a[_0xc51f38(0x278)]||currentQuizData[_0xc51f38(0xa9d)];let _0x565f09=_0x18917a[_0xc51f38(0x692)]||_0x18917a['questionText'],_0x236044='';switch(_0x32acf0){case _0xc51f38(0xf0e):case _0xc51f38(0x595):_0x236044=_0x18917a[_0xc51f38(0x4ad)][_0xc51f38(0xa25)]((_0x2bbcf4,_0x1e6ef9)=>_0xc51f38(0xca7)+_0x1e6ef9+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x1e6ef9+_0xc51f38(0x973)+_0x1e6ef9+'\x22>'+_0x2bbcf4+'</label></div>')[_0xc51f38(0x40a)]('');break;case _0xc51f38(0xed0):_0x236044='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0xc51f38(0x3d7):case _0xc51f38(0x75f):_0x236044=_0xc51f38(0xb07);break;case _0xc51f38(0x867):_0x236044=_0xc51f38(0xc0f)+_0x18917a[_0xc51f38(0x20b)][_0xc51f38(0xa25)](_0x2434ce=>_0xc51f38(0x33e)+_0x2434ce+'\x22>'+_0x2434ce+_0xc51f38(0x999))[_0xc51f38(0x40a)]('')+_0xc51f38(0xa2c);break;default:_0x236044='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0xc51f38(0x1f9)]=_0xc51f38(0x945)+(localQuestionIndex+0x1)+_0xc51f38(0xcc1)+currentQuizData[_0xc51f38(0x7f9)]['length']+_0xc51f38(0xe42)+localTeamPlayers[_0xc51f38(0x40a)](',\x20')+_0xc51f38(0xb25)+(localQuestionIndex+0x1)+'.\x20'+_0x565f09+_0xc51f38(0xcc4)+(_0x18917a[_0xc51f38(0xa18)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x18917a[_0xc51f38(0xa18)]+_0xc51f38(0x629):'')+_0xc51f38(0x307)+_0x236044+_0xc51f38(0xb0c),studentQuizArea[_0xc51f38(0xc2e)][_0xc51f38(0x716)]('hidden');if(window[_0xc51f38(0xb8c)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0xc51f38(0x3d5))[_0xc51f38(0xbe5)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x3b6a0b,_0x152f9d=null,_0x3f9fdd,_0x4464c0=null,_0x30ceff=![],_0x4954ae=null){const _0x3f8a1c=_0x5ddd37,_0x34ec4f=document['getElementById'](_0x3f8a1c(0x3ee));_0x34ec4f&&_0x34ec4f[_0x3f8a1c(0xa3a)]({'behavior':_0x3f8a1c(0x9b1),'block':_0x3f8a1c(0xc72)}),generateQuiz(_0x3b6a0b,_0x152f9d,null,_0x4954ae,!![],_0x3f9fdd,_0x4464c0,_0x30ceff);}function handleGenerateAndShowLesson(_0x44cbc3,_0x53952f){const _0x1590d4=_0x5ddd37,_0x404dcc=document[_0x1590d4(0x4ff)](_0x1590d4(0xc95)),_0x550cd5=document[_0x1590d4(0x4ff)]('lesson-view-title'),_0x5dfe14=document['getElementById'](_0x1590d4(0xe01)),_0x3db40c=document['getElementById'](_0x1590d4(0x2f1));[_0x1590d4(0x2ff),_0x1590d4(0xe6a),'applicationContent',_0x1590d4(0x9ca)][_0x1590d4(0x23a)](_0x439454=>{const _0x50142e=_0x1590d4,_0x171c84=document['getElementById'](_0x439454)[_0x50142e(0x97f)];_0x171c84&&(_0x171c84[_0x50142e(0x8c6)]['display']='block');}),_0x550cd5[_0x1590d4(0x602)]=_0x1590d4(0xcea)+_0x44cbc3,_0x3db40c[_0x1590d4(0xc2e)]['add'](_0x1590d4(0xc89)),_0x5dfe14[_0x1590d4(0xc2e)]['remove'](_0x1590d4(0xc89)),_0x404dcc[_0x1590d4(0xc2e)][_0x1590d4(0x716)](_0x1590d4(0xc89)),generateLesson(_0x44cbc3,_0x53952f)[_0x1590d4(0x53c)](_0x44732f=>{const _0x1d06c3=_0x1590d4;console['error'](_0x1d06c3(0xdaa),_0x44732f),showMessage(_0x1d06c3(0x643)),_0x404dcc[_0x1d06c3(0xc2e)]['add']('hidden');});}function handlePointerDown(_0x3bb8ab){const _0x2b64e8=_0x5ddd37;_0x3bb8ab['preventDefault']();const _0x37822a=scratchpadCtx[_0x2b64e8(0x54a)],_0x23aa56=_0x37822a[_0x2b64e8(0xb4a)](),_0x290c8a=_0x3bb8ab[_0x2b64e8(0xb64)]||(_0x3bb8ab[_0x2b64e8(0x4f1)]?_0x2b64e8(0x91e):_0x2b64e8(0x3ec));if(_0x290c8a===_0x2b64e8(0x7b6)||_0x290c8a===_0x2b64e8(0x3ec)){if(_0x3bb8ab[_0x2b64e8(0xb64)]===_0x2b64e8(0x3ec)&&_0x3bb8ab[_0x2b64e8(0x6db)]!==0x0){_0x3bb8ab[_0x2b64e8(0x6db)]===0x1&&(isMousePanning=!![],panStart={'x':_0x3bb8ab[_0x2b64e8(0x22e)],'y':_0x3bb8ab[_0x2b64e8(0xe8a)]},_0x37822a[_0x2b64e8(0x8c6)]['cursor']=_0x2b64e8(0xeb1));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x121b5d=getTransformedPoint(_0x3bb8ab['clientX']-_0x23aa56[_0x2b64e8(0x92b)],_0x3bb8ab[_0x2b64e8(0xe8a)]-_0x23aa56[_0x2b64e8(0x6e1)]);let _0x265355={'tool':activeTool,'points':[_0x121b5d]};if(activeTool===_0x2b64e8(0x7b6))_0x265355[_0x2b64e8(0xed1)]=scratchpadPenColor,_0x265355[_0x2b64e8(0x59a)]=scratchpadPenSize;else{if(activeTool===_0x2b64e8(0xab6))_0x265355[_0x2b64e8(0xed1)]=scratchpadPenColor,_0x265355[_0x2b64e8(0x59a)]=scratchpadEraserSize;else{if(activeTool===_0x2b64e8(0xbbf))_0x265355['color']=scratchpadHighlighterColor,_0x265355[_0x2b64e8(0x59a)]=scratchpadHighlighterSize;else activeTool===_0x2b64e8(0xb20)&&(_0x265355['color']=scratchpadPenColor,_0x265355[_0x2b64e8(0x59a)]=scratchpadPenSize);}}currentStroke=_0x265355;}else _0x3bb8ab[_0x2b64e8(0x4f1)]&&(_0x3bb8ab[_0x2b64e8(0x4f1)][_0x2b64e8(0x85b)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3bb8ab[_0x2b64e8(0x4f1)][0x0][_0x2b64e8(0x22e)],'y':_0x3bb8ab[_0x2b64e8(0x4f1)][0x0][_0x2b64e8(0xe8a)]},{'x':_0x3bb8ab['touches'][0x1][_0x2b64e8(0x22e)],'y':_0x3bb8ab[_0x2b64e8(0x4f1)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x3bb8ab['touches'][0x0][_0x2b64e8(0x22e)],'y':_0x3bb8ab[_0x2b64e8(0x4f1)][0x0][_0x2b64e8(0xe8a)]},{'x':_0x3bb8ab[_0x2b64e8(0x4f1)][0x1][_0x2b64e8(0x22e)],'y':_0x3bb8ab[_0x2b64e8(0x4f1)][0x1][_0x2b64e8(0xe8a)]})));}function animateTrail(){const _0x3378d0=_0x5ddd37,_0x5cefbf=Date[_0x3378d0(0x599)]();let _0x12d069=![];for(let _0x3eda11=strokes[_0x3378d0(0x85b)]-0x1;_0x3eda11>=0x0;_0x3eda11--){const _0x5d4038=strokes[_0x3eda11];if(_0x5d4038[_0x3378d0(0x2d3)]==='trail'&&_0x5d4038['fadeStartTime']){const _0x165e16=_0x5cefbf-_0x5d4038[_0x3378d0(0xdb3)];_0x165e16>=TRAIL_DURATION?strokes[_0x3378d0(0xa38)](_0x3eda11,0x1):(_0x5d4038[_0x3378d0(0x8cd)]=0x1-_0x165e16/TRAIL_DURATION,_0x12d069=!![]);}}redrawScratchpad(),_0x12d069?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x3e71bb){const _0x43cf43=_0x5ddd37;if(!_0x3e71bb||_0x3e71bb[_0x43cf43(0x748)][_0x43cf43(0x85b)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x43cf43(0xd44)]=_0x43cf43(0xda2),scratchpadCtx[_0x43cf43(0x975)]=_0x43cf43(0xda2);if(_0x3e71bb['tool']===_0x43cf43(0xb20)){const _0x5e4078=_0x3e71bb[_0x43cf43(0x59a)]/scratchpadScale;scratchpadCtx[_0x43cf43(0x3b1)]=_0x3e71bb[_0x43cf43(0x8cd)]??0x1,scratchpadCtx[_0x43cf43(0x892)]=_0x43cf43(0x366),scratchpadCtx['shadowBlur']=_0x5e4078*0x3,scratchpadCtx[_0x43cf43(0x33b)]=_0x43cf43(0x55f),scratchpadCtx[_0x43cf43(0x52f)]=_0x5e4078*2.5,scratchpadCtx[_0x43cf43(0xc21)](),scratchpadCtx[_0x43cf43(0x9ac)](_0x3e71bb[_0x43cf43(0x748)][0x0]['x'],_0x3e71bb[_0x43cf43(0x748)][0x0]['y']);for(let _0x2333a3=0x1;_0x2333a3<_0x3e71bb['points'][_0x43cf43(0x85b)]-0x1;_0x2333a3++){const _0x3f9153=getMidpoint(_0x3e71bb[_0x43cf43(0x748)][_0x2333a3],_0x3e71bb[_0x43cf43(0x748)][_0x2333a3+0x1]);scratchpadCtx[_0x43cf43(0x2d5)](_0x3e71bb[_0x43cf43(0x748)][_0x2333a3]['x'],_0x3e71bb[_0x43cf43(0x748)][_0x2333a3]['y'],_0x3f9153['x'],_0x3f9153['y']);}scratchpadCtx[_0x43cf43(0x2b3)](),scratchpadCtx[_0x43cf43(0x892)]=_0x43cf43(0xb9c),scratchpadCtx[_0x43cf43(0x342)]=0x0,scratchpadCtx[_0x43cf43(0x33b)]=_0x43cf43(0xe9c),scratchpadCtx['lineWidth']=_0x5e4078,scratchpadCtx[_0x43cf43(0x2b3)](),scratchpadCtx[_0x43cf43(0xc6b)]();}else{if(_0x3e71bb[_0x43cf43(0x2d3)]===_0x43cf43(0xbbf)){scratchpadCtx[_0x43cf43(0xb02)]=_0x43cf43(0xc29),scratchpadCtx[_0x43cf43(0x33b)]=_0x3e71bb[_0x43cf43(0xed1)],scratchpadCtx[_0x43cf43(0x52f)]=_0x3e71bb['size'],scratchpadCtx[_0x43cf43(0xc21)](),scratchpadCtx[_0x43cf43(0x9ac)](_0x3e71bb['points'][0x0]['x'],_0x3e71bb['points'][0x0]['y']);for(let _0x4fcc23=0x1;_0x4fcc23<_0x3e71bb[_0x43cf43(0x748)][_0x43cf43(0x85b)]-0x1;_0x4fcc23++){const _0x5b36db=getMidpoint(_0x3e71bb[_0x43cf43(0x748)][_0x4fcc23],_0x3e71bb[_0x43cf43(0x748)][_0x4fcc23+0x1]);scratchpadCtx[_0x43cf43(0x2d5)](_0x3e71bb['points'][_0x4fcc23]['x'],_0x3e71bb[_0x43cf43(0x748)][_0x4fcc23]['y'],_0x5b36db['x'],_0x5b36db['y']);}scratchpadCtx[_0x43cf43(0x2b3)](),scratchpadCtx[_0x43cf43(0xc6b)]();}else{scratchpadCtx['globalCompositeOperation']=_0x3e71bb[_0x43cf43(0x2d3)]===_0x43cf43(0xab6)?_0x43cf43(0x52e):_0x43cf43(0x691),scratchpadCtx[_0x43cf43(0x33b)]=_0x3e71bb[_0x43cf43(0xed1)],scratchpadCtx[_0x43cf43(0x52f)]=_0x3e71bb[_0x43cf43(0x59a)],scratchpadCtx[_0x43cf43(0xc21)](),scratchpadCtx[_0x43cf43(0x9ac)](_0x3e71bb['points'][0x0]['x'],_0x3e71bb[_0x43cf43(0x748)][0x0]['y']);for(let _0x2bb8bc=0x1;_0x2bb8bc<_0x3e71bb[_0x43cf43(0x748)][_0x43cf43(0x85b)]-0x1;_0x2bb8bc++){const _0x4be630=getMidpoint(_0x3e71bb['points'][_0x2bb8bc],_0x3e71bb[_0x43cf43(0x748)][_0x2bb8bc+0x1]);scratchpadCtx[_0x43cf43(0x2d5)](_0x3e71bb[_0x43cf43(0x748)][_0x2bb8bc]['x'],_0x3e71bb['points'][_0x2bb8bc]['y'],_0x4be630['x'],_0x4be630['y']);}scratchpadCtx[_0x43cf43(0x2b3)](),scratchpadCtx[_0x43cf43(0xc6b)]();}}scratchpadCtx[_0x43cf43(0xd78)]();}function handlePointerMove(_0x2f7540){const _0x3353c1=_0x5ddd37;_0x2f7540[_0x3353c1(0xcbd)]();const _0x347319=scratchpadCtx[_0x3353c1(0x54a)],_0x60dcc0=_0x347319[_0x3353c1(0xb4a)]();if(_0x2f7540[_0x3353c1(0x4f1)]){if(_0x2f7540[_0x3353c1(0x4f1)]['length']===0x1&&isDrawingOnScratchpad){const _0x1c57e7=getTransformedPoint(_0x2f7540['touches'][0x0][_0x3353c1(0x22e)]-_0x60dcc0[_0x3353c1(0x92b)],_0x2f7540[_0x3353c1(0x4f1)][0x0]['clientY']-_0x60dcc0[_0x3353c1(0x6e1)]);currentStroke[_0x3353c1(0x748)][_0x3353c1(0xb2a)](_0x1c57e7),redrawScratchpad();}else{if(_0x2f7540['touches'][_0x3353c1(0x85b)]===0x2&&isPanning){const _0x1251fc=getDistance({'x':_0x2f7540[_0x3353c1(0x4f1)][0x0][_0x3353c1(0x22e)],'y':_0x2f7540[_0x3353c1(0x4f1)][0x0][_0x3353c1(0xe8a)]},{'x':_0x2f7540[_0x3353c1(0x4f1)][0x1][_0x3353c1(0x22e)],'y':_0x2f7540[_0x3353c1(0x4f1)][0x1][_0x3353c1(0xe8a)]}),_0x579d6f=getMidpoint({'x':_0x2f7540[_0x3353c1(0x4f1)][0x0][_0x3353c1(0x22e)],'y':_0x2f7540[_0x3353c1(0x4f1)][0x0][_0x3353c1(0xe8a)]},{'x':_0x2f7540[_0x3353c1(0x4f1)][0x1][_0x3353c1(0x22e)],'y':_0x2f7540[_0x3353c1(0x4f1)][0x1][_0x3353c1(0xe8a)]}),_0xcce3aa=_0x1251fc/ initialPinchDistance,_0xabc2b3=Math[_0x3353c1(0x864)](Math['max'](scratchpadScale*_0xcce3aa,MIN_SCALE),MAX_SCALE),_0x4df569=_0x579d6f['x']-panStart['x'],_0x47ae79=_0x579d6f['y']-panStart['y'];scratchpadOffset['x']=_0x579d6f['x']-(_0x579d6f['x']-scratchpadOffset['x'])*(_0xabc2b3/scratchpadScale),scratchpadOffset['y']=_0x579d6f['y']-(_0x579d6f['y']-scratchpadOffset['y'])*(_0xabc2b3/scratchpadScale),scratchpadOffset['x']+=_0x4df569,scratchpadOffset['y']+=_0x47ae79,scratchpadScale=_0xabc2b3,initialPinchDistance=_0x1251fc,panStart=_0x579d6f,redrawScratchpad();}}}else{if(isMousePanning){const _0x371761=_0x2f7540[_0x3353c1(0x22e)]-panStart['x'],_0x186987=_0x2f7540[_0x3353c1(0xe8a)]-panStart['y'];scratchpadOffset['x']+=_0x371761,scratchpadOffset['y']+=_0x186987,panStart={'x':_0x2f7540[_0x3353c1(0x22e)],'y':_0x2f7540[_0x3353c1(0xe8a)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x36e0c3=getTransformedPoint(_0x2f7540[_0x3353c1(0x22e)]-_0x60dcc0[_0x3353c1(0x92b)],_0x2f7540[_0x3353c1(0xe8a)]-_0x60dcc0[_0x3353c1(0x6e1)]);currentStroke[_0x3353c1(0x748)][_0x3353c1(0xb2a)](_0x36e0c3),redrawScratchpad();}}}}function handlePointerUp(_0x112e8d){const _0x4567a0=_0x5ddd37;_0x112e8d[_0x4567a0(0xcbd)]();const _0x49f03a=scratchpadCtx[_0x4567a0(0x54a)];isMousePanning&&(isMousePanning=![],_0x49f03a[_0x4567a0(0x8c6)][_0x4567a0(0x9d8)]=_0x4567a0(0x499)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4567a0(0x748)][_0x4567a0(0x85b)]>0x1&&(strokes[_0x4567a0(0xb2a)](currentStroke),currentStroke[_0x4567a0(0x2d3)]===_0x4567a0(0xb20)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x300753=_0x4567a0,_0x12e2d1=strokes[_0x300753(0xd8d)](_0x40dfd5=>_0x40dfd5[_0x300753(0x2d3)]===_0x300753(0xb20)&&!_0x40dfd5[_0x300753(0xdb3)]);if(_0x12e2d1[_0x300753(0x85b)]>0x0){const _0x514eb7=Date[_0x300753(0x599)]();_0x12e2d1[_0x300753(0x23a)](_0x3a97cf=>_0x3a97cf[_0x300753(0xdb3)]=_0x514eb7),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x38bcc9){const _0x34b186=_0x5ddd37;_0x38bcc9['preventDefault']();const _0x5a3743=_0x38bcc9['deltaY']*-0.005,_0x13ddda=Math['min'](Math[_0x34b186(0xa87)](scratchpadScale+_0x5a3743,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x38bcc9['clientX']-(_0x38bcc9[_0x34b186(0x22e)]-scratchpadOffset['x'])*(_0x13ddda/scratchpadScale),scratchpadOffset['y']=_0x38bcc9[_0x34b186(0xe8a)]-(_0x38bcc9['clientY']-scratchpadOffset['y'])*(_0x13ddda/scratchpadScale),scratchpadScale=_0x13ddda,redrawScratchpad();}function undo(){const _0x3efe23=_0x5ddd37;strokes[_0x3efe23(0x85b)]>0x0&&(redoStrokes[_0x3efe23(0xb2a)](strokes[_0x3efe23(0xa1f)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x381459=_0x5ddd37;redoStrokes[_0x381459(0x85b)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x40013b=_0x5ddd37;document['getElementById'](_0x40013b(0xe00))[_0x40013b(0x206)]=strokes[_0x40013b(0x85b)]===0x0,document['getElementById'](_0x40013b(0x7e2))[_0x40013b(0x206)]=redoStrokes['length']===0x0;}function openScratchpad(_0x94c196,_0x479021){const _0x11a343=_0x5ddd37,_0x5ad955=document[_0x11a343(0x4ff)]('scratchpad-modal'),_0x192123=document[_0x11a343(0x4ff)](_0x11a343(0x4fc)),_0x497cda=document[_0x11a343(0x4ff)](_0x11a343(0xaf5)),_0x2c634a=document['getElementById'](_0x11a343(0x9dc));_0x192123[_0x11a343(0x1f9)]=_0x94c196[_0x11a343(0x692)]||_0x94c196[_0x11a343(0xb93)],_0x497cda[_0x11a343(0x1f9)]=_0x479021['map']((_0x2abc5e,_0x45724d)=>'<div>'+String[_0x11a343(0x9c8)](0x41+_0x45724d)+'.\x20'+_0x2abc5e+_0x11a343(0x629))[_0x11a343(0x40a)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5ad955[_0x11a343(0xc2e)][_0x11a343(0x716)](_0x11a343(0xc89)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x11a343(0xb8c)])MathJax[_0x11a343(0xe28)]([_0x192123,_0x497cda]);}function openBlueprintQuizSettings(){const _0x202827=_0x5ddd37,_0x476ec5=document['getElementById'](_0x202827(0xd60)),_0x333caa=blueprintPageSettings||(currentProjectData?currentProjectData[_0x202827(0x297)]:{})||{};document[_0x202827(0x4ff)](_0x202827(0x9de))[_0x202827(0x717)]=_0x333caa['quizType']||document[_0x202827(0x4ff)](_0x202827(0x74f))[_0x202827(0x717)],document[_0x202827(0x4ff)](_0x202827(0x2a3))[_0x202827(0x1f9)]=document[_0x202827(0x4ff)](_0x202827(0xb30))[_0x202827(0x1f9)],document[_0x202827(0x4ff)](_0x202827(0x2a3))[_0x202827(0x717)]=_0x333caa[_0x202827(0x511)]||document[_0x202827(0x4ff)](_0x202827(0xb30))[_0x202827(0x717)],document[_0x202827(0x4ff)](_0x202827(0xd42))['innerHTML']=document[_0x202827(0x4ff)](_0x202827(0xca4))[_0x202827(0x1f9)],document['getElementById'](_0x202827(0xd42))[_0x202827(0x717)]=_0x333caa[_0x202827(0xb0b)]||document['getElementById']('question-complexity-select')[_0x202827(0x717)],document[_0x202827(0x4ff)](_0x202827(0xa7d))[_0x202827(0x717)]=_0x333caa[_0x202827(0xe59)]||document[_0x202827(0x4ff)](_0x202827(0xe81))[_0x202827(0x717)],document[_0x202827(0x4ff)]('bp-modal-passing-score-input')[_0x202827(0x717)]=_0x333caa[_0x202827(0x27e)]||document['getElementById'](_0x202827(0x832))[_0x202827(0x717)],document[_0x202827(0x4ff)](_0x202827(0xc1c))[_0x202827(0x717)]=_0x333caa[_0x202827(0x75d)]||document['getElementById'](_0x202827(0xd5d))[_0x202827(0x717)],document[_0x202827(0x4ff)](_0x202827(0x225))[_0x202827(0x717)]=_0x333caa[_0x202827(0x4bb)]||document[_0x202827(0x4ff)]('shuffle-setting-select')[_0x202827(0x717)],document[_0x202827(0x4ff)](_0x202827(0xd2d))[_0x202827(0x749)]=_0x333caa[_0x202827(0x1f5)]||document[_0x202827(0x4ff)](_0x202827(0xdb4))[_0x202827(0x749)],_0x476ec5[_0x202827(0xc2e)]['remove']('hidden');}function handleSaveBlueprintPageSettings(){const _0x1a3b91=_0x5ddd37;blueprintPageSettings={'quizType':document['getElementById'](_0x1a3b91(0x9de))[_0x1a3b91(0x717)],'difficultyValue':document[_0x1a3b91(0x4ff)](_0x1a3b91(0x2a3))[_0x1a3b91(0x717)],'complexityValue':document[_0x1a3b91(0x4ff)]('bp-modal-question-complexity-select')[_0x1a3b91(0x717)],'numQuestions':document[_0x1a3b91(0x4ff)](_0x1a3b91(0xa7d))[_0x1a3b91(0x717)],'passingScore':document[_0x1a3b91(0x4ff)]('bp-modal-passing-score-input')[_0x1a3b91(0x717)],'numChoices':document[_0x1a3b91(0x4ff)](_0x1a3b91(0xc1c))[_0x1a3b91(0x717)],'shuffle':document['getElementById'](_0x1a3b91(0x225))[_0x1a3b91(0x717)],'includeImages':document[_0x1a3b91(0x4ff)]('bp-modal-include-images-checkbox')['checked']},showMessage(_0x1a3b91(0x795)),document[_0x1a3b91(0x4ff)](_0x1a3b91(0xd60))['classList']['add'](_0x1a3b91(0xc89));}function listenForParallelTestShortcuts(){const _0xb14e89=_0x5ddd37,_0x20a7cc=doc(db,_0xb14e89(0x6c4),_0xb14e89(0x605));onSnapshot(_0x20a7cc,_0x43e2c3=>{const _0xbd7c69=_0xb14e89;let _0x4eebbe=[],_0x552235=[],_0x54bce8={};if(_0x43e2c3['exists']()){const _0x5b140f=_0x43e2c3[_0xbd7c69(0xef5)]();_0x4eebbe=_0x5b140f[_0xbd7c69(0x566)]||[],_0x552235=_0x5b140f[_0xbd7c69(0x681)]||[],_0x54bce8=_0x5b140f['parallelShortcutOrder']||{};}!_0x552235[_0xbd7c69(0xe0f)](_0x2c0ac5=>_0x2c0ac5['id']===_0xbd7c69(0xa6b))&&_0x552235[_0xbd7c69(0x3a9)]({'id':_0xbd7c69(0xa6b),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x4eebbe['find'](_0x572ae1=>_0x572ae1['id']===_0xbd7c69(0xb4f))&&_0x4eebbe['unshift']({'id':_0xbd7c69(0xb4f),'name':_0xbd7c69(0x696),'url':'','isDefault':!![]}),!_0x4eebbe[_0xbd7c69(0xe0f)](_0x354649=>_0x354649['id']==='parallel-default-2')&&_0x4eebbe[_0xbd7c69(0x3a9)]({'id':'parallel-default-2','name':_0xbd7c69(0xc17),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x4eebbe,parallelShortcutTabs=_0x552235,parallelShortcutOrder=_0x54bce8,renderParallelTestShortcuts(),!document[_0xbd7c69(0x4ff)]('additional-parallel-shortcuts-modal')[_0xbd7c69(0xc2e)][_0xbd7c69(0x995)](_0xbd7c69(0xc89))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x24ed0b=_0x5ddd37,_0xffdaff=doc(db,_0x24ed0b(0x6c4),_0x24ed0b(0x605));try{await setDoc(_0xffdaff,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1cbdf1){console[_0x24ed0b(0x34c)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x1cbdf1);}}function renderAdditionalParallelShortcutsModal(){const _0x18a8f9=_0x5ddd37,_0xc197d6=document['getElementById'](_0x18a8f9(0x34f)),_0x535591=document[_0x18a8f9(0x4ff)](_0x18a8f9(0x948));if(!_0xc197d6||!_0x535591)return;_0xc197d6[_0x18a8f9(0x1f9)]=parallelShortcutTabs[_0x18a8f9(0xa25)](_0xbb1f55=>{const _0x16f759=_0x18a8f9,_0x1f388a=_0xbb1f55['id']===activeParallelShortcutTabId;return _0x16f759(0x291)+_0xbb1f55['id']+_0x16f759(0x3ab)+(_0x1f388a?_0x16f759(0xa5e):_0x16f759(0x385))+_0x16f759(0x86e)+_0xbb1f55[_0x16f759(0xc44)]+_0x16f759(0x7b9)+_0xbb1f55[_0x16f759(0xc44)]+_0x16f759(0xdd1)+(!_0xbb1f55['isDefault']?'<button\x20data-tab-id=\x22'+_0xbb1f55['id']+_0x16f759(0x2e6):'')+_0x16f759(0x731);})[_0x18a8f9(0x40a)]('');const _0x371bde=parallelShortcutTabs[_0x18a8f9(0xe0f)](_0x1fcd2d=>_0x1fcd2d['id']===activeParallelShortcutTabId);let _0x295507=_0x371bde?.[_0x18a8f9(0xc74)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x18a8f9(0xd8d)](_0x160e88=>(_0x371bde?.['shortcutIds']||[])['includes'](_0x160e88['id']));const _0x2dc490=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x295507[_0x18a8f9(0x23c)]((_0x4d06a4,_0x3f5049)=>{const _0x1f31a2=_0x18a8f9,_0x11f6a3=_0x2dc490[_0x1f31a2(0x343)](_0x4d06a4['id']),_0x13f59c=_0x2dc490[_0x1f31a2(0x343)](_0x3f5049['id']);return(_0x11f6a3===-0x1?Infinity:_0x11f6a3)-(_0x13f59c===-0x1?Infinity:_0x13f59c);}),_0x535591[_0x18a8f9(0x1f9)]=_0x295507[_0x18a8f9(0xa25)](_0x47d657=>{const _0x13e975=_0x18a8f9,_0x416fcd=_0x47d657[_0x13e975(0x591)]?'🔁':'🔗',_0x34963d=parallelShortcutTabs[_0x13e975(0xd8d)](_0x3edc53=>!_0x3edc53['isDefault']),_0x450f06=_0x371bde[_0x13e975(0xc74)]&&_0x34963d[_0x13e975(0x85b)]>0x0?_0x13e975(0xb79)+_0x34963d['map'](_0x4026e7=>_0x13e975(0x79f)+_0x47d657['id']+_0x13e975(0x61e)+_0x4026e7['id']+'\x22>'+_0x4026e7[_0x13e975(0xc44)]+_0x13e975(0x4d0))[_0x13e975(0x40a)]('')+_0x13e975(0x3bb):'';return _0x13e975(0x862)+_0x47d657['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x416fcd+'\x20'+_0x47d657[_0x13e975(0xc44)]+_0x13e975(0x8ac)+_0x47d657['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x47d657['id']+_0x13e975(0x60e)+(!_0x47d657[_0x13e975(0xc74)]?'<button\x20data-id=\x22'+_0x47d657['id']+_0x13e975(0xd01):'')+_0x13e975(0x733)+(!_0x371bde[_0x13e975(0xc74)]?'<button\x20data-shortcut-id=\x22'+_0x47d657['id']+_0x13e975(0x5ec):'')+_0x13e975(0x733)+_0x450f06+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x18a8f9(0x40a)]('')||_0x18a8f9(0xc5e),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x55729e=_0x5ddd37;document['querySelectorAll'](_0x55729e(0xd22))[_0x55729e(0x23a)](_0x490918=>{const _0x331140=_0x55729e;_0x490918[_0x331140(0x66e)]=_0x4f801e=>{const _0x3e750b=_0x331140;activeParallelShortcutTabId=_0x4f801e[_0x3e750b(0xa11)][_0x3e750b(0x664)][_0x3e750b(0xa58)],renderAdditionalParallelShortcutsModal();},_0x490918[_0x331140(0xd5b)]=_0x3026ea=>{const _0x56097b=_0x331140,_0x21b634=_0x3026ea[_0x56097b(0xa11)][_0x56097b(0xee9)](_0x56097b(0x3d3));_0x3026ea[_0x56097b(0xa11)][_0x56097b(0xee9)]('.tab-name-display')['classList'][_0x56097b(0xee4)](_0x56097b(0xc89)),_0x21b634[_0x56097b(0xc2e)][_0x56097b(0x716)](_0x56097b(0xc89)),_0x21b634[_0x56097b(0x7ff)](),_0x21b634[_0x56097b(0x700)]();};}),document[_0x55729e(0xe1c)](_0x55729e(0xbd8))[_0x55729e(0x23a)](_0x6b5aa3=>{const _0xeb6196=_0x55729e,_0x339801=()=>{const _0x49b263=_0x2785,_0x3f198f=_0x6b5aa3[_0x49b263(0x7c4)](_0x49b263(0xd22))[_0x49b263(0x664)]['tabId'],_0x4e170f=parallelShortcutTabs['find'](_0x32eb01=>_0x32eb01['id']===_0x3f198f);_0x4e170f&&(_0x4e170f[_0x49b263(0xc44)]=_0x6b5aa3[_0x49b263(0x717)][_0x49b263(0x26c)]()||_0x4e170f[_0x49b263(0xc44)],saveParallelShortcutConfig());};_0x6b5aa3['onblur']=_0x339801,_0x6b5aa3[_0xeb6196(0x52c)]=_0x3b34fc=>{const _0x194791=_0xeb6196;if(_0x3b34fc[_0x194791(0x62b)]===_0x194791(0x6c8))_0x6b5aa3['blur']();};}),document[_0x55729e(0xe1c)](_0x55729e(0xbf6))[_0x55729e(0x23a)](_0x2178be=>_0x2178be[_0x55729e(0x66e)]=_0x133570=>{const _0x49a2b5=_0x55729e,_0x1a095d=_0x133570[_0x49a2b5(0xa11)][_0x49a2b5(0x664)][_0x49a2b5(0xa58)];showConfirmation(_0x49a2b5(0x477),()=>{const _0x3a4adf=_0x49a2b5;parallelShortcutTabs=parallelShortcutTabs[_0x3a4adf(0xd8d)](_0x2e4c1a=>_0x2e4c1a['id']!==_0x1a095d),delete parallelShortcutOrder[_0x1a095d];if(activeParallelShortcutTabId===_0x1a095d)activeParallelShortcutTabId=_0x3a4adf(0xa6b);saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x55729e(0xc2b))[_0x55729e(0x23a)](_0x2b3a7f=>_0x2b3a7f[_0x55729e(0x66e)]=_0x51bb64=>{const _0x198769=_0x55729e;_0x51bb64['preventDefault']();const {shortcutId:_0x4b2cfe,targetTabId:_0x5b8d9e}=_0x51bb64[_0x198769(0xa11)][_0x198769(0x664)],_0x40b5bc=parallelShortcutTabs[_0x198769(0xe0f)](_0x899d15=>_0x899d15['id']===_0x5b8d9e);_0x40b5bc&&!_0x40b5bc['shortcutIds'][_0x198769(0xdf4)](_0x4b2cfe)&&(_0x40b5bc[_0x198769(0xc0a)]['push'](_0x4b2cfe),saveParallelShortcutConfig());}),document[_0x55729e(0xe1c)]('.remove-parallel-shortcut-from-tab-btn')['forEach'](_0xb1eff3=>_0xb1eff3[_0x55729e(0x66e)]=_0x2d8e85=>{const _0x2e0726=_0x55729e,_0x4cbec5=_0x2d8e85[_0x2e0726(0xa11)][_0x2e0726(0x664)][_0x2e0726(0xcce)],_0x141a61=parallelShortcutTabs[_0x2e0726(0xe0f)](_0x517034=>_0x517034['id']===activeParallelShortcutTabId);_0x141a61&&!_0x141a61[_0x2e0726(0xc74)]&&(_0x141a61[_0x2e0726(0xc0a)]=_0x141a61['shortcutIds']['filter'](_0x2f7554=>_0x2f7554!==_0x4cbec5),saveParallelShortcutConfig());}),document[_0x55729e(0xe1c)](_0x55729e(0x6cc))[_0x55729e(0x23a)](_0x5eba4d=>_0x5eba4d['onclick']=_0x52c188=>{const _0x3a5b91=_0x55729e;_0x52c188[_0x3a5b91(0xf0a)]();const _0x115f9b=_0x52c188['currentTarget'][_0x3a5b91(0x508)];document['querySelectorAll'](_0x3a5b91(0x3ae))[_0x3a5b91(0x23a)](_0x91541d=>_0x91541d[_0x3a5b91(0xc2e)][_0x3a5b91(0xee4)](_0x3a5b91(0xc89))),_0x115f9b['classList'][_0x3a5b91(0x716)]('hidden');});const _0x594e3e=document[_0x55729e(0x4ff)](_0x55729e(0x948));let _0x57a667=null;_0x594e3e['ondragstart']=_0x180022=>{const _0x5ae494=_0x55729e;_0x57a667=_0x180022[_0x5ae494(0x2b8)][_0x5ae494(0x7c4)](_0x5ae494(0x607));if(_0x57a667)setTimeout(()=>_0x57a667['classList'][_0x5ae494(0xee4)](_0x5ae494(0xe90)),0x0);},_0x594e3e[_0x55729e(0xa92)]=()=>{const _0x50d413=_0x55729e;_0x57a667&&(_0x57a667[_0x50d413(0xc2e)][_0x50d413(0x716)](_0x50d413(0xe90)),_0x57a667=null);},_0x594e3e[_0x55729e(0x334)]=_0x410061=>{const _0x5af362=_0x55729e;_0x410061[_0x5af362(0xcbd)]();},_0x594e3e[_0x55729e(0xd8f)]=_0x1b8812=>{const _0x4e8351=_0x55729e;_0x1b8812['preventDefault']();if(_0x57a667){const _0x279d22=[..._0x594e3e[_0x4e8351(0xe1c)](_0x4e8351(0x83b))][_0x4e8351(0xc2a)]((_0x1a856a,_0x2cc4c0)=>{const _0x1f4535=_0x4e8351,_0x2baaf4=_0x2cc4c0[_0x1f4535(0xb4a)](),_0x291e6a=_0x1b8812[_0x1f4535(0xe8a)]-_0x2baaf4[_0x1f4535(0x6e1)]-_0x2baaf4[_0x1f4535(0xd12)]/0x2;return _0x291e6a<0x0&&_0x291e6a>_0x1a856a['offset']?{'offset':_0x291e6a,'element':_0x2cc4c0}:_0x1a856a;},{'offset':Number[_0x4e8351(0xc49)]})[_0x4e8351(0xd31)];_0x279d22==null?_0x594e3e[_0x4e8351(0x4a7)](_0x57a667):_0x594e3e[_0x4e8351(0x4d1)](_0x57a667,_0x279d22);const _0x120e23=[..._0x594e3e[_0x4e8351(0xe1c)]('.shortcut-list-item')]['map'](_0x2031df=>_0x2031df[_0x4e8351(0x664)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x120e23,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x5681ee=_0x5ddd37,_0x326fdd=prompt(_0x5681ee(0x69c),_0x5681ee(0xb6f));_0x326fdd&&_0x326fdd[_0x5681ee(0x26c)]()&&(parallelShortcutTabs[_0x5681ee(0xb2a)]({'id':_0x5681ee(0xbbd)+Date['now'](),'name':_0x326fdd[_0x5681ee(0x26c)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x579266=_0x5ddd37,_0x2fbe34=document[_0x579266(0x4ff)](_0x579266(0x899)),_0x3ff732=document[_0x579266(0x4ff)](_0x579266(0x948)),_0x235c3a=document[_0x579266(0x4ff)](_0x579266(0xcc0));if(_0x235c3a)_0x235c3a['classList']['add'](_0x579266(0xc89));if(!_0x2fbe34||!_0x3ff732)return;const _0x3a69fa=parallelTestShortcuts['slice'](0x0,0x4),_0xe73d9a=parallelTestShortcuts['slice'](0x4);_0x2fbe34['innerHTML']=_0x3a69fa[_0x579266(0xa25)](_0x234a09=>{const _0x13f5b3=_0x579266,_0x46c754=_0x234a09['url']&&_0x234a09[_0x13f5b3(0x591)]['trim']()!=='',_0x341ff5=_0x46c754?_0x13f5b3(0x6b9):_0x13f5b3(0xd7b),_0x3f0636=_0x46c754?'🔁':'🔗',_0xb657c7=!_0x234a09['isDefault']?_0x13f5b3(0xafc)+_0x234a09['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x234a09['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x341ff5+_0x13f5b3(0x639)+_0x3f0636+'\x20'+_0x234a09[_0x13f5b3(0xc44)]+_0x13f5b3(0x7ae)+_0x234a09['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb657c7+_0x13f5b3(0xd7e);})[_0x579266(0x40a)](''),_0xe73d9a[_0x579266(0x85b)]>0x0&&(_0x2fbe34[_0x579266(0x1f9)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0xe73d9a[_0x579266(0x85b)]>0x0?_0x3ff732[_0x579266(0x1f9)]=_0xe73d9a[_0x579266(0xa25)](_0x4258e4=>_0x579266(0xeaf)+(_0x4258e4[_0x579266(0x591)]?'🔁':'🔗')+'\x20'+_0x4258e4['name']+_0x579266(0xa36)+_0x4258e4['id']+_0x579266(0x63c)+_0x4258e4['id']+_0x579266(0xe35)+(!_0x4258e4[_0x579266(0xc74)]?'<button\x20data-id=\x22'+_0x4258e4['id']+_0x579266(0xd01):'')+_0x579266(0x350))['join'](''):_0x3ff732[_0x579266(0x1f9)]=_0x579266(0x2e9);}function openParallelTestShortcutEditor(_0x34988b=null){const _0x5571a0=_0x5ddd37,_0x5cfc63=document[_0x5571a0(0x4ff)](_0x5571a0(0xc02)),_0x3a303d=document['getElementById'](_0x5571a0(0xd02)),_0x154a4b=document[_0x5571a0(0x4ff)](_0x5571a0(0x24f)),_0xcba6b5=document[_0x5571a0(0x4ff)](_0x5571a0(0x808)),_0x5cc071=document[_0x5571a0(0x4ff)](_0x5571a0(0x62d));if(_0x34988b){const _0x4fe8c2=parallelTestShortcuts[_0x5571a0(0xe0f)](_0x6a1f91=>_0x6a1f91['id']===_0x34988b);if(!_0x4fe8c2)return;_0x3a303d['textContent']=_0x5571a0(0xe9e),_0x154a4b[_0x5571a0(0x717)]=_0x4fe8c2['id'],_0xcba6b5['value']=_0x4fe8c2[_0x5571a0(0xc44)],_0x5cc071[_0x5571a0(0x717)]=_0x4fe8c2[_0x5571a0(0x591)]||'';}else _0x3a303d[_0x5571a0(0x602)]=_0x5571a0(0xc32),_0x154a4b[_0x5571a0(0x717)]='',_0xcba6b5[_0x5571a0(0x717)]='',_0x5cc071['value']='';_0x5cfc63[_0x5571a0(0xc2e)]['remove'](_0x5571a0(0xc89));}async function saveParallelTestShortcutChanges(){const _0x181974=_0x5ddd37,_0x1dc025=document['getElementById'](_0x181974(0x24f))[_0x181974(0x717)],_0x4fa46f=document['getElementById'](_0x181974(0x808))[_0x181974(0x717)][_0x181974(0x26c)](),_0x2ebb94=document[_0x181974(0x4ff)](_0x181974(0x62d))[_0x181974(0x717)][_0x181974(0x26c)]();if(!_0x4fa46f){showMessage(_0x181974(0x9a3));return;}const _0xf55678={'id':_0x1dc025||_0x181974(0x792)+Date['now'](),'name':_0x4fa46f,'url':_0x2ebb94,'isDefault':_0x1dc025[_0x181974(0x64d)]('parallel-default-')};let _0x166c86;_0x1dc025?_0x166c86=parallelTestShortcuts[_0x181974(0xa25)](_0x108b6f=>_0x108b6f['id']===_0x1dc025?_0xf55678:_0x108b6f):_0x166c86=[...parallelTestShortcuts,_0xf55678];try{const _0xcb8161=doc(db,_0x181974(0x6c4),_0x181974(0x605));await setDoc(_0xcb8161,{'shortcuts':_0x166c86},{'merge':!![]}),document[_0x181974(0x4ff)](_0x181974(0xc02))[_0x181974(0xc2e)]['add'](_0x181974(0xc89));}catch(_0x58d840){console[_0x181974(0x34c)]('Error\x20saving\x20parallel\x20shortcut:',_0x58d840),showMessage(_0x181974(0x315));}}async function handleParallelTestShortcutClick(_0x4bee48){const _0x410764=_0x5ddd37,_0x35ebb8=parallelTestShortcuts['find'](_0x5a89a6=>_0x5a89a6['id']===_0x4bee48);if(!_0x35ebb8)return;if(!_0x35ebb8['url']||_0x35ebb8[_0x410764(0x591)][_0x410764(0x26c)]()===''){openParallelTestShortcutEditor(_0x4bee48);return;}const _0x52e2a7=document[_0x410764(0x4ff)](_0x410764(0xb7b)),_0x3548a1=document[_0x410764(0x4ff)]('loader-text');document['getElementById'](_0x410764(0x3ee))[_0x410764(0xc2e)][_0x410764(0x716)](_0x410764(0xc89)),document[_0x410764(0x4ff)](_0x410764(0xd3c))[_0x410764(0x1f9)]='',_0x52e2a7[_0x410764(0xc2e)][_0x410764(0x716)]('hidden'),_0x3548a1[_0x410764(0x602)]='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x5bd619;_0x35ebb8[_0x410764(0x591)]['toLowerCase']()['includes'](_0x410764(0xc71))?_0x5bd619=_0x410764(0x5b7):_0x5bd619=_0x410764(0x90f);const _0x225f64=await fetchFileFromUrl(_0x35ebb8[_0x410764(0x591)],_0x5bd619);await handleGenerateParallelTest(_0x225f64);}catch(_0x4ffce5){console['error'](_0x410764(0x2e5),_0x4ffce5),showMessage(_0x410764(0x26e)+_0x4ffce5['message']),_0x52e2a7[_0x410764(0xc2e)]['add'](_0x410764(0xc89));}}function initializeScratchpadCanvas(){const _0x2784ca=_0x5ddd37,_0x5c8268=document[_0x2784ca(0x4ff)](_0x2784ca(0xaec)),_0x16ec47=document[_0x2784ca(0xee9)](_0x2784ca(0x785));if(!_0x5c8268||!_0x16ec47)return;scratchpadCtx=_0x5c8268[_0x2784ca(0x20f)]('2d',{'willReadFrequently':!![]});const _0x441849=window['devicePixelRatio']||0x1,_0x192883=_0x16ec47[_0x2784ca(0xb4a)]();_0x5c8268[_0x2784ca(0x248)]=_0x192883[_0x2784ca(0x248)]*_0x441849,_0x5c8268['height']=_0x192883['height']*_0x441849,_0x5c8268[_0x2784ca(0x8c6)][_0x2784ca(0x248)]=_0x192883['width']+'px',_0x5c8268[_0x2784ca(0x8c6)]['height']=_0x192883['height']+'px',scratchpadCtx[_0x2784ca(0xe51)](_0x441849,_0x441849),scratchpadCtx['lineJoin']=_0x2784ca(0xda2),scratchpadCtx[_0x2784ca(0x975)]='round',_0x5c8268[_0x2784ca(0x442)]('pointerdown',handlePointerDown),_0x5c8268[_0x2784ca(0x442)](_0x2784ca(0xc4a),handlePointerMove),_0x5c8268[_0x2784ca(0x442)]('pointerup',handlePointerUp),_0x5c8268[_0x2784ca(0x442)](_0x2784ca(0x6ef),handlePointerUp),_0x5c8268[_0x2784ca(0x442)](_0x2784ca(0xcf5),handleWheel),_0x5c8268['removeEventListener']('touchstart',handlePointerDown),_0x5c8268['removeEventListener']('touchmove',handlePointerMove),_0x5c8268[_0x2784ca(0x442)]('touchend',handlePointerUp),_0x5c8268['addEventListener']('pointerdown',handlePointerDown),_0x5c8268['addEventListener'](_0x2784ca(0xc4a),handlePointerMove),_0x5c8268[_0x2784ca(0xbe5)](_0x2784ca(0xe67),handlePointerUp),_0x5c8268['addEventListener'](_0x2784ca(0x6ef),handlePointerUp),_0x5c8268[_0x2784ca(0xbe5)](_0x2784ca(0xcf5),handleWheel,{'passive':![]}),_0x5c8268[_0x2784ca(0xbe5)](_0x2784ca(0x5ae),handlePointerDown,{'passive':![]}),_0x5c8268[_0x2784ca(0xbe5)](_0x2784ca(0x95c),handlePointerMove,{'passive':![]}),_0x5c8268[_0x2784ca(0xbe5)](_0x2784ca(0x403),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x44cc27=_0x5ddd37,_0x3fbf04=document[_0x44cc27(0x4ff)](_0x44cc27(0xb3c)),_0x471199=document['getElementById'](_0x44cc27(0x9dc));_0x471199[_0x44cc27(0x1f9)]=_0x44cc27(0xb04)+scratchpadHighlighterSize+_0x44cc27(0x3c6);const _0x15f2cd=document[_0x44cc27(0x4ff)](_0x44cc27(0xdf5)),_0x380fb7=document[_0x44cc27(0x4ff)](_0x44cc27(0xbc0)),_0x2138a2=document['getElementById'](_0x44cc27(0xa72)),_0x43a2bc=document[_0x44cc27(0x4ff)](_0x44cc27(0x402)),_0x1992f2=document[_0x44cc27(0x4ff)](_0x44cc27(0xde1)),_0x5497d1=document[_0x44cc27(0x4ff)](_0x44cc27(0x49a)),_0x560a48=document[_0x44cc27(0x4ff)](_0x44cc27(0x860)),_0x3d3652=[_0x15f2cd,_0x380fb7,_0x2138a2,_0x43a2bc];document[_0x44cc27(0x4ff)](_0x44cc27(0xb1a))[_0x44cc27(0xbe5)](_0x44cc27(0xe61),()=>_0x3fbf04[_0x44cc27(0xc2e)][_0x44cc27(0xee4)](_0x44cc27(0xc89))),document['getElementById'](_0x44cc27(0xe9d))[_0x44cc27(0xbe5)](_0x44cc27(0xe61),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x44cc27(0x4ff)](_0x44cc27(0xcad))[_0x44cc27(0xbe5)](_0x44cc27(0xe61),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x44cc27(0x4ff)](_0x44cc27(0xe00))['addEventListener'](_0x44cc27(0xe61),undo),document[_0x44cc27(0x4ff)](_0x44cc27(0x7e2))[_0x44cc27(0xbe5)](_0x44cc27(0xe61),redo);const _0x1d3072=_0x4ea86d=>{const _0x9eaedb=_0x44cc27;_0x3d3652[_0x9eaedb(0x23a)](_0x438d62=>_0x438d62[_0x9eaedb(0xc2e)][_0x9eaedb(0x716)](_0x9eaedb(0x5de))),_0x4ea86d[_0x9eaedb(0xc2e)][_0x9eaedb(0xee4)](_0x9eaedb(0x5de)),_0x1992f2['classList'][_0x9eaedb(0xee4)](_0x9eaedb(0xc89)),_0x5497d1['classList'][_0x9eaedb(0xee4)](_0x9eaedb(0xc89)),_0x560a48[_0x9eaedb(0xc2e)][_0x9eaedb(0xee4)](_0x9eaedb(0xc89));if(activeTool===_0x9eaedb(0x7b6)||activeTool===_0x9eaedb(0xb20))_0x1992f2[_0x9eaedb(0xc2e)]['remove'](_0x9eaedb(0xc89));else{if(activeTool==='highlighter')_0x5497d1[_0x9eaedb(0xc2e)][_0x9eaedb(0x716)](_0x9eaedb(0xc89));else activeTool===_0x9eaedb(0xab6)&&_0x560a48['classList'][_0x9eaedb(0x716)](_0x9eaedb(0xc89));}};_0x15f2cd[_0x44cc27(0xbe5)]('click',()=>{const _0x424395=_0x44cc27;activeTool=_0x424395(0x7b6),_0x1d3072(_0x15f2cd);}),_0x380fb7[_0x44cc27(0xbe5)]('click',()=>{const _0xf92c10=_0x44cc27;activeTool=_0xf92c10(0xab6),_0x1d3072(_0x380fb7);}),_0x2138a2[_0x44cc27(0xbe5)](_0x44cc27(0xe61),()=>{const _0x26b919=_0x44cc27;activeTool=_0x26b919(0xb20),_0x1d3072(_0x2138a2);}),_0x43a2bc[_0x44cc27(0xbe5)](_0x44cc27(0xe61),()=>{const _0x5cb952=_0x44cc27;activeTool=_0x5cb952(0xbbf),_0x1d3072(_0x43a2bc);}),_0x1992f2['querySelectorAll']('.pen-size-btn')[_0x44cc27(0x23a)](_0x765275=>{const _0x4c9aa6=_0x44cc27;_0x765275[_0x4c9aa6(0xbe5)](_0x4c9aa6(0xe61),_0xaccd17=>{const _0x4d98fa=_0x4c9aa6;scratchpadPenSize=parseInt(_0xaccd17['target'][_0x4d98fa(0x664)][_0x4d98fa(0x59a)],0xa),_0x1992f2[_0x4d98fa(0xe1c)](_0x4d98fa(0xa90))[_0x4d98fa(0x23a)](_0x151881=>_0x151881['classList'][_0x4d98fa(0x716)](_0x4d98fa(0x5de))),_0xaccd17[_0x4d98fa(0x2b8)]['classList'][_0x4d98fa(0xee4)](_0x4d98fa(0x5de));});}),_0x560a48[_0x44cc27(0xe1c)]('.eraser-size-btn')[_0x44cc27(0x23a)](_0x7659fd=>{const _0x1eb9ce=_0x44cc27;_0x7659fd[_0x1eb9ce(0xbe5)](_0x1eb9ce(0xe61),_0x314909=>{const _0x5961a2=_0x1eb9ce,_0x224c7a=_0x314909[_0x5961a2(0xa11)];scratchpadEraserSize=parseInt(_0x224c7a[_0x5961a2(0x664)][_0x5961a2(0x59a)],0xa),_0x560a48[_0x5961a2(0xe1c)](_0x5961a2(0x875))[_0x5961a2(0x23a)](_0x342f46=>_0x342f46[_0x5961a2(0xc2e)]['remove']('active')),_0x224c7a[_0x5961a2(0xc2e)][_0x5961a2(0xee4)](_0x5961a2(0x5de));});}),_0x1992f2[_0x44cc27(0xe1c)](_0x44cc27(0x220))[_0x44cc27(0x23a)](_0x398454=>{const _0x1d901a=_0x44cc27;_0x398454[_0x1d901a(0xbe5)](_0x1d901a(0xe61),_0x5b7bc5=>{const _0x5c6804=_0x1d901a;scratchpadPenColor=_0x5b7bc5[_0x5c6804(0x2b8)][_0x5c6804(0x664)][_0x5c6804(0xed1)],_0x1992f2[_0x5c6804(0xe1c)](_0x5c6804(0x220))[_0x5c6804(0x23a)](_0xfea70c=>_0xfea70c[_0x5c6804(0xc2e)][_0x5c6804(0x716)](_0x5c6804(0x5de))),_0x5b7bc5[_0x5c6804(0x2b8)][_0x5c6804(0xc2e)]['add']('active');});}),_0x5497d1[_0x44cc27(0xe1c)]('.highlighter-color-btn')['forEach'](_0x302df8=>{const _0xd0255f=_0x44cc27;_0x302df8[_0xd0255f(0xbe5)]('click',_0x5f2877=>{const _0x31b3cf=_0xd0255f;scratchpadHighlighterColor=_0x5f2877['target'][_0x31b3cf(0x664)][_0x31b3cf(0xed1)],_0x5497d1[_0x31b3cf(0xe1c)](_0x31b3cf(0xc76))['forEach'](_0x14bf04=>_0x14bf04['classList']['remove'](_0x31b3cf(0x5de))),_0x5f2877['target']['classList'][_0x31b3cf(0xee4)](_0x31b3cf(0x5de));});});const _0x1a2e8a=document[_0x44cc27(0x4ff)](_0x44cc27(0x448)),_0x1d5d47=document[_0x44cc27(0x4ff)](_0x44cc27(0xeb0));_0x1a2e8a['addEventListener'](_0x44cc27(0xeb6),_0x3b3aad=>{const _0x5496d=_0x44cc27,_0x3a3785=parseInt(_0x3b3aad[_0x5496d(0x2b8)]['value'],0xa);scratchpadHighlighterSize=_0x3a3785,_0x1d5d47[_0x5496d(0x602)]=_0x3a3785;}),window[_0x44cc27(0xbe5)](_0x44cc27(0xc36),()=>{const _0x374985=_0x44cc27;!_0x3fbf04['classList'][_0x374985(0x995)](_0x374985(0xc89))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x5ddd37(0x5da),'name':'คะแนนเต็ม','description':_0x5ddd37(0xae2),'icon':_0x5ddd37(0x47f)},'QUICK_THINKER':{'id':_0x5ddd37(0xc2c),'name':_0x5ddd37(0xa70),'description':_0x5ddd37(0x2f0),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':'on_fire','name':'ท็อปฟอร์ม','description':_0x5ddd37(0x714),'icon':_0x5ddd37(0x802)},'FIRST_TRY_ACE':{'id':_0x5ddd37(0x842),'name':_0x5ddd37(0xb38),'description':_0x5ddd37(0x44a),'icon':_0x5ddd37(0x9aa)},'COMEBACK_KING':{'id':'comeback_king','name':_0x5ddd37(0xde7),'description':_0x5ddd37(0x4d7),'icon':_0x5ddd37(0xd09)},'SPECIALIST':{'id':_0x5ddd37(0x4a0),'name':_0x5ddd37(0x4b5),'description':_0x5ddd37(0xa48),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x5ddd37(0x215),'name':_0x5ddd37(0x665),'description':_0x5ddd37(0x2db),'icon':_0x5ddd37(0x836)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x5ddd37(0x6b4),'projectId':_0x5ddd37(0x658),'storageBucket':_0x5ddd37(0x79c),'messagingSenderId':_0x5ddd37(0xe2b),'appId':_0x5ddd37(0xcf8),'measurementId':_0x5ddd37(0x6c5)},appId=typeof __app_id!==_0x5ddd37(0x388)?__app_id:_0x5ddd37(0xa47),adminView=document['getElementById'](_0x5ddd37(0x60d)),studentView=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x458)),projectDashboardView=document[_0x5ddd37(0x4ff)]('project-dashboard-view'),projectDetailView=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x419)),quizResultsView=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xd3a)),projectList=document['getElementById'](_0x5ddd37(0x768)),noProjectsMsg=document['getElementById'](_0x5ddd37(0xe55)),projectTitle=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xe98)),projectIdDisplay=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xc08)),studentList=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x997)),messageModal=document[_0x5ddd37(0x4ff)]('message-modal'),modalMessage=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x2a6)),createProjectModal=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x961)),adminPasswordModal=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xa0b)),confirmationModal=document[_0x5ddd37(0x4ff)]('confirmation-modal'),userIdDisplay=document['getElementById'](_0x5ddd37(0xd83)),topicTab=document[_0x5ddd37(0x4ff)]('topic-tab'),textTab=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x64e)),topicInputArea=document[_0x5ddd37(0x4ff)]('topic-input-area'),textInputArea=document['getElementById'](_0x5ddd37(0x6ac)),manageTab=document['getElementById']('manage-tab'),resultsTab=document['getElementById'](_0x5ddd37(0x2a4)),leaderboardTab=document[_0x5ddd37(0x4ff)]('leaderboard-tab'),manageTabContent=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x563)),resultsTabContent=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xddd)),leaderboardTabContent=document[_0x5ddd37(0x4ff)]('leaderboard-tab-content'),projectQuizzesList=document[_0x5ddd37(0x4ff)]('project-quizzes-list'),fileTab=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x6ee)),fileInputArea=document[_0x5ddd37(0x4ff)]('file-input-area'),fileUploadInput=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xb5a)),worksheetTab=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xc22)),worksheetInputArea=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x509)),generateWorksheetBtn=document['getElementById'](_0x5ddd37(0x974)),studentInitialView=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x354)),studentNameSelectionView=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x7c0)),studentQuizArea=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xc1f)),studentResultArea=document['getElementById'](_0x5ddd37(0x70a)),studentReadingArea=document[_0x5ddd37(0x4ff)]('student-reading-area'),loadQuizBtn=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x4aa)),startQuizBtn=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xde3)),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document[_0x5ddd37(0x4ff)]('presentation-modal'),renameQuizModal=document[_0x5ddd37(0x4ff)](_0x5ddd37(0xb78)),moveQuizModal=document['getElementById'](_0x5ddd37(0xcfb)),quizSettingsModal=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x2d6)),quizStatusModal=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x782)),liveGameView=document[_0x5ddd37(0x4ff)](_0x5ddd37(0x809));function handleFixLessonLatex(){const _0x5827c2=_0x5ddd37,_0x5f1b41=document[_0x5827c2(0x4ff)]('lesson-view-content');if(!_0x5f1b41){showMessage(_0x5827c2(0x932));return;}const _0xcd625d=_0x5f1b41[_0x5827c2(0xe1c)]([_0x5827c2(0x8e7),_0x5827c2(0x883),'.ai-content\x20blockquote',_0x5827c2(0x603),'.ai-content\x20h3'][_0x5827c2(0x40a)](','));let _0x27df16=0x0;const _0x2c0529=_0x4bdd6e=>_0x4bdd6e[_0x5827c2(0x602)]||'',_0x2aec3d=(_0x5baf0a,_0x562600)=>{const _0x4d45cc=_0x5827c2;if(_0x5baf0a[_0x4d45cc(0xee9)]&&_0x5baf0a['querySelector']('mjx-container'))return;_0x5baf0a[_0x4d45cc(0x602)]=_0x562600;},_0xa753e9=_0x469d66=>_0x469d66[_0x5827c2(0x701)](/\u00A0/g,'\x20')[_0x5827c2(0x701)](/\u200B/g,'')[_0x5827c2(0x701)](/\r\n?/g,'\x0a'),_0x59de97=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x599690=_0x22517d=>{const _0x40cbc3=_0x5827c2;let _0x58d29e=_0x22517d[_0x40cbc3(0x26c)]();const _0x252a05=['frac',_0x40cbc3(0x96e),'tfrac',_0x40cbc3(0xc16),'text',_0x40cbc3(0xedb),_0x40cbc3(0x9f8),_0x40cbc3(0x577),_0x40cbc3(0x49c),_0x40cbc3(0xbc3),'le','ge','neq','pm',_0x40cbc3(0xb47),_0x40cbc3(0x72c),_0x40cbc3(0x6d1),_0x40cbc3(0xa8e),_0x40cbc3(0x674),'ln',_0x40cbc3(0x6ae),'prod','binom',_0x40cbc3(0x92b),_0x40cbc3(0x210),_0x40cbc3(0x94b),_0x40cbc3(0x3f3),_0x40cbc3(0x469),_0x40cbc3(0x608)];_0x252a05[_0x40cbc3(0x23a)](_0x3ba4ff=>{const _0x24965d=_0x40cbc3;_0x58d29e=_0x58d29e[_0x24965d(0x701)](new RegExp(_0x24965d(0x234)+_0x3ba4ff+'\x5cb','g'),(_0x51eb33,_0x228cfe)=>_0x228cfe+'\x5c'+_0x3ba4ff);});const _0x4b55d3=[[/×/g,_0x40cbc3(0x5d5)],[/·/g,_0x40cbc3(0xb27)],[/÷/g,_0x40cbc3(0x2d4)],[/≤/g,_0x40cbc3(0x1fb)],[/≥/g,_0x40cbc3(0xf0f)],[/≠/g,_0x40cbc3(0x33f)],[/±/g,_0x40cbc3(0xe78)],[/∑/g,_0x40cbc3(0x5f6)],[/−/g,'-']];return _0x4b55d3['forEach'](([_0xc32f11,_0x25bc99])=>{const _0x537999=_0x40cbc3;_0x58d29e=_0x58d29e[_0x537999(0x701)](_0xc32f11,_0x25bc99);}),_0x58d29e=_0x58d29e[_0x40cbc3(0x701)](/√\s*([A-Za-z0-9]+)/g,_0x40cbc3(0xd79)),_0x58d29e=_0x58d29e[_0x40cbc3(0x701)](/(\d+)\s*%/g,_0x40cbc3(0x9f4)),_0x58d29e;},_0x44bdcd=_0x2c4e67=>{const _0x1d594c=_0x5827c2;if(/\$|\\\(|\\\[/[_0x1d594c(0x76e)](_0x2c4e67))return _0x2c4e67;if(!_0x59de97[_0x1d594c(0x76e)](_0x2c4e67))return _0x2c4e67;const _0x4dc7d5=_0x2c4e67[_0x1d594c(0xc80)](/^\s*/)[0x0],_0x166aba=_0x2c4e67[_0x1d594c(0xc80)](/\s*$/)[0x0],_0x253bf3=_0x2c4e67[_0x1d594c(0x26c)]();return _0x4dc7d5+'$'+_0x599690(_0x253bf3)+'$'+_0x166aba;};_0xcd625d[_0x5827c2(0x23a)](_0x38285a=>{const _0x3ba376=_0x5827c2,_0x32aa3c=_0x2c0529(_0x38285a);let _0x28b277=_0xa753e9(_0x32aa3c);_0x28b277=_0x28b277[_0x3ba376(0x701)](/\$([^$]*?)\$/g,(_0x4468ff,_0x23678a)=>'$'+_0x599690(_0x23678a)+'$');const _0x18aa33=_0x28b277[_0x3ba376(0x325)](/(\s+)/),_0x302beb=_0x18aa33[_0x3ba376(0xa25)](_0x513559=>{if(/\s+/['test'](_0x513559))return _0x513559;return _0x44bdcd(_0x513559);});_0x28b277=_0x302beb[_0x3ba376(0x40a)](''),_0x28b277!==_0x32aa3c&&(_0x2aec3d(_0x38285a,_0x28b277),_0x27df16++);});if(_0x27df16>0x0){showMessage(_0x5827c2(0xeaa)+_0x27df16+_0x5827c2(0x7eb));try{window[_0x5827c2(0xb8c)]&&MathJax[_0x5827c2(0xe28)]&&MathJax[_0x5827c2(0xe28)]([_0x5f1b41]);}catch(_0x168d90){console[_0x5827c2(0x34c)](_0x5827c2(0x64c),_0x168d90);}}else showMessage(_0x5827c2(0x9af));}function handleAutoFixLatex(){const _0x2f0890=_0x5ddd37,_0x52f1a3=document[_0x2f0890(0x4ff)](_0x2f0890(0x704))||document,_0xde6f63=_0x52f1a3[_0x2f0890(0xe1c)](_0x2f0890(0xea9));let _0x42eb00=0x0;const _0x4ccd2f=_0xb59653=>'value'in _0xb59653?String(_0xb59653['value']):_0xb59653[_0x2f0890(0x8ce)]!==undefined?_0xb59653[_0x2f0890(0x8ce)]:_0xb59653['textContent']||'',_0x54c6e8=(_0x82f6a5,_0x160476)=>{const _0x2140c5=_0x2f0890;if(_0x2140c5(0x717)in _0x82f6a5){_0x82f6a5[_0x2140c5(0x717)]=_0x160476;return;}if(_0x82f6a5[_0x2140c5(0xee9)]&&_0x82f6a5[_0x2140c5(0xee9)](_0x2140c5(0x6d3)))return;if(_0x82f6a5[_0x2140c5(0x8ce)]!==undefined)_0x82f6a5[_0x2140c5(0x8ce)]=_0x160476;else _0x82f6a5['textContent']=_0x160476;},_0x5f46ba=_0x1d88e3=>_0x1d88e3['replace'](/\u00A0/g,'\x20')[_0x2f0890(0x701)](/\u200B/g,'')[_0x2f0890(0x701)](/\r\n?/g,'\x0a'),_0x43fe29=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x3bf0f3=_0x5dba24=>{const _0x4937d4=_0x2f0890;let _0x360d78=_0x5dba24[_0x4937d4(0x26c)]();_0x360d78=_0x360d78[_0x4937d4(0x701)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x4937d4(0x5a1)),_0x360d78=_0x360d78['replace'](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x50f400=[_0x4937d4(0x874),_0x4937d4(0xc16),_0x4937d4(0xedb),_0x4937d4(0x9f8),_0x4937d4(0x577),_0x4937d4(0x49c),'geq',_0x4937d4(0xb5e),'pm','sin',_0x4937d4(0x6d1),_0x4937d4(0xa8e),_0x4937d4(0x674),'ln'];_0x50f400[_0x4937d4(0x23a)](_0x2fe3a5=>{_0x360d78=_0x360d78['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2fe3a5+'\x5cb','g'),(_0x206051,_0x182eb0)=>_0x182eb0+'\x5c'+_0x2fe3a5);});const _0x1149ef=[[/×/g,_0x4937d4(0x5d5)],[/·/g,_0x4937d4(0xb27)],[/÷/g,_0x4937d4(0x2d4)],[/≤/g,_0x4937d4(0x1fb)],[/≥/g,_0x4937d4(0xf0f)],[/≠/g,_0x4937d4(0x33f)],[/±/g,_0x4937d4(0xe78)]];return _0x1149ef['forEach'](([_0x12ffc6,_0x10096c])=>{const _0x52c3a3=_0x4937d4;_0x360d78=_0x360d78[_0x52c3a3(0x701)](_0x12ffc6,_0x10096c);}),_0x360d78;},_0x1b080f=_0x5ced7d=>{const _0x4d02df=_0x2f0890;if(/\$|\\\(|\\\[/['test'](_0x5ced7d))return _0x5ced7d;if(!_0x43fe29[_0x4d02df(0x76e)](_0x5ced7d))return _0x5ced7d;const _0x3ce377=_0x5ced7d[_0x4d02df(0xc80)](/^\s*/)[0x0],_0x2be21e=_0x5ced7d[_0x4d02df(0xc80)](/\s*$/)[0x0],_0x37a340=_0x5ced7d[_0x4d02df(0x26c)]();return _0x3ce377+'$'+_0x3bf0f3(_0x37a340)+'$'+_0x2be21e;};_0xde6f63[_0x2f0890(0x23a)](_0x2797d9=>{const _0x409b4e=_0x2f0890,_0x54074f=_0x4ccd2f(_0x2797d9);let _0x10e764=_0x5f46ba(_0x54074f);_0x10e764=_0x10e764[_0x409b4e(0x701)](/\$([^$]*?)\$/g,(_0xdb5e33,_0x5b4f35)=>'$'+_0x3bf0f3(_0x5b4f35)+'$');const _0x4a8006=_0x10e764[_0x409b4e(0x325)](/(\s+)/),_0x1f6edf=_0x4a8006[_0x409b4e(0xa25)](_0x5c09fc=>/\s+/[_0x409b4e(0x76e)](_0x5c09fc)?_0x5c09fc:_0x1b080f(_0x5c09fc));_0x10e764=_0x1f6edf[_0x409b4e(0x40a)](''),_0x10e764!==_0x54074f&&(_0x54c6e8(_0x2797d9,_0x10e764),_0x42eb00++);});if(_0x42eb00>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x42eb00+_0x2f0890(0x8b4));try{if(window[_0x2f0890(0xb8c)]&&MathJax[_0x2f0890(0xe28)])MathJax[_0x2f0890(0xe28)]();}catch(_0x31afdd){}}else showMessage(_0x2f0890(0x77a));}async function listenForCustomMathTopics(){const _0x59f600=_0x5ddd37,_0x5ac43e=collection(db,_0x59f600(0x8a6)+appId+_0x59f600(0x5fd));onSnapshot(_0x5ac43e,_0x1367df=>{const _0x392da8=_0x59f600;customMathTopics=_0x1367df[_0x392da8(0xb91)][_0x392da8(0xa25)](_0x4a4def=>({'id':_0x4a4def['id'],..._0x4a4def[_0x392da8(0xef5)]()})),renderTopicCheckboxes();},_0x32f38f=>{const _0x4954c6=_0x59f600;console[_0x4954c6(0x34c)](_0x4954c6(0x493),_0x32f38f);});}function handleSelectAllTopics(){const _0xc8908c=_0x5ddd37,_0x46183c=document[_0xc8908c(0x4ff)]('math-topics-checkbox-container'),_0x111aaa=_0x46183c[_0xc8908c(0xe1c)](_0xc8908c(0x441));_0x111aaa[_0xc8908c(0x23a)](_0x3cf161=>{const _0x1ce6e2=_0xc8908c;_0x3cf161[_0x1ce6e2(0x749)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x26d614=_0x5ddd37,_0x436e1b=document[_0x26d614(0x4ff)](_0x26d614(0xe34)),_0x45241f=_0x436e1b[_0x26d614(0xe1c)](_0x26d614(0x441));_0x45241f[_0x26d614(0x23a)](_0x45d138=>{const _0x1b79f0=_0x26d614;_0x45d138[_0x1b79f0(0x749)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4ac5e8){const _0x270289=_0x5ddd37;if(!_0x4ac5e8)return;try{const _0x8b8505=doc(db,'artifacts/'+appId+_0x270289(0x5fd),_0x4ac5e8);await deleteDoc(_0x8b8505),showMessage(_0x270289(0xe9a));}catch(_0x3d6c9e){console['error']('Error\x20deleting\x20custom\x20topic:',_0x3d6c9e),showMessage(_0x270289(0x729));}}async function handleAddCustomMathTopic(){const _0x33dd24=_0x5ddd37,_0x5b0ab6=document['getElementById'](_0x33dd24(0x377)),_0x2fc61b=_0x5b0ab6[_0x33dd24(0x717)]['trim']();if(!_0x2fc61b){showMessage(_0x33dd24(0x381));return;}if(!userId){showMessage(_0x33dd24(0x9e2));return;}try{const _0x11399b=collection(db,'artifacts/'+appId+_0x33dd24(0x5fd));await addDoc(_0x11399b,{'name':_0x2fc61b,'createdAt':serverTimestamp()}),_0x5b0ab6[_0x33dd24(0x717)]='',showMessage(_0x33dd24(0x651)+_0x2fc61b+'\x22\x20สำเร็จ');}catch(_0x3ea9b4){console[_0x33dd24(0x34c)](_0x33dd24(0x2c1),_0x3ea9b4),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x121b26=_0x5ddd37;showConfirmation(_0x121b26(0x766),async()=>{const _0x73da6=_0x121b26,_0x57b07a=document[_0x73da6(0x4ff)](_0x73da6(0xb7b)),_0x58cd62=document['getElementById'](_0x73da6(0x865)),_0x19761a=_0x58cd62[_0x73da6(0x602)];_0x57b07a[_0x73da6(0xc2e)][_0x73da6(0x716)](_0x73da6(0xc89)),_0x58cd62[_0x73da6(0x602)]=_0x73da6(0x313);try{const _0x291917=collection(db,_0x73da6(0x8a6)+appId+_0x73da6(0xad5)),_0x26c615=await getDocs(_0x291917);if(_0x26c615['empty']){showMessage(_0x73da6(0xaea));return;}const _0x435311=writeBatch(db);let _0x1cd9c1=0x0;_0x26c615[_0x73da6(0x23a)](_0x6e6e14=>{const _0x5b47a2=_0x73da6,_0x1d5746=_0x6e6e14[_0x5b47a2(0xef5)](),_0x107283=_0x6e6e14['id'];if(_0x1d5746[_0x5b47a2(0x7f9)]&&_0x1d5746[_0x5b47a2(0x7f9)][_0x5b47a2(0x85b)]>0x0&&!_0x1d5746[_0x5b47a2(0x7f9)][0x0]['hasOwnProperty']('id')){console['log'](_0x5b47a2(0x7d1)+_0x107283+'\x20('+_0x1d5746[_0x5b47a2(0xe77)]+')'),_0x1cd9c1++;const _0x5a5d8d=_0x1d5746[_0x5b47a2(0x7f9)]['map']((_0xd37b24,_0x2bc03c)=>{const _0x130a9c=_0x5b47a2;return{..._0xd37b24,'id':_0xd37b24['id']||'q_'+Date[_0x130a9c(0x599)]()+'_'+_0x107283+'_'+_0x2bc03c};}),_0xb54088=doc(db,_0x5b47a2(0x8a6)+appId+_0x5b47a2(0xad5),_0x107283);_0x435311[_0x5b47a2(0xc94)](_0xb54088,{'questions':_0x5a5d8d});}}),_0x1cd9c1>0x0?(_0x58cd62['textContent']='กำลังอัปเดตแบบทดสอบ\x20'+_0x1cd9c1+_0x73da6(0x55d),await _0x435311[_0x73da6(0x7b5)](),showMessage(_0x73da6(0x47a)+_0x1cd9c1+_0x73da6(0x835))):showMessage(_0x73da6(0xb92));}catch(_0x305ddd){console['error'](_0x73da6(0xad4),_0x305ddd),showMessage(_0x73da6(0x311)+_0x305ddd[_0x73da6(0x541)]);}finally{_0x57b07a['classList'][_0x73da6(0xee4)](_0x73da6(0xc89)),_0x58cd62[_0x73da6(0x602)]=_0x19761a;}});}async function handleBulkUpdateQuizSettings(){const _0x30a683=_0x5ddd37,_0xc3b56f={'shuffle':document[_0x30a683(0x4ff)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x30a683(0x4ff)](_0x30a683(0x7a9))[_0x30a683(0x717)],'loopUntilPass':document[_0x30a683(0x4ff)](_0x30a683(0x216))[_0x30a683(0x749)],'isConfidenceScoringEnabled':document['getElementById'](_0x30a683(0x273))[_0x30a683(0x749)],'confidenceMode':document[_0x30a683(0x4ff)](_0x30a683(0xb11))[_0x30a683(0x717)]};try{showMessage(_0x30a683(0x77c));const _0x3d831e=await getDocs(collection(db,_0x30a683(0x8a6)+appId+_0x30a683(0xad5))),_0x435884=_0x3d831e[_0x30a683(0xb91)][_0x30a683(0xa25)](_0x5126da=>({'id':_0x5126da['id'],'data':_0x5126da[_0x30a683(0xef5)]()})),_0x22d330=_0x435884[_0x30a683(0x85b)];showConfirmation(_0x30a683(0x67a)+_0x22d330+_0x30a683(0xd70),async()=>{const _0x14afd9=_0x30a683,_0x55abe8=document[_0x14afd9(0x4ff)](_0x14afd9(0x719));_0x55abe8[_0x14afd9(0x206)]=!![],_0x55abe8['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x2b3603=writeBatch(db);_0x435884[_0x14afd9(0x23a)](_0x12eff7=>{const _0x2087e1=_0x14afd9,_0x26892e=doc(db,_0x2087e1(0x8a6)+appId+_0x2087e1(0xad5),_0x12eff7['id']),_0x79d030={..._0x12eff7[_0x2087e1(0xef5)][_0x2087e1(0x297)]||{},..._0xc3b56f};_0x2b3603[_0x2087e1(0xc94)](_0x26892e,{'settings':_0x79d030});}),await _0x2b3603[_0x14afd9(0x7b5)](),document[_0x14afd9(0x4ff)](_0x14afd9(0x5a5))[_0x14afd9(0xc2e)][_0x14afd9(0xee4)](_0x14afd9(0xc89)),showMessage(_0x14afd9(0x8e1)+_0x22d330+_0x14afd9(0x9bc));}catch(_0x35caab){console[_0x14afd9(0x34c)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x35caab),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x55abe8['disabled']=![],_0x55abe8[_0x14afd9(0x1f9)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x523118){console[_0x30a683(0x34c)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x523118),showMessage(_0x30a683(0x537));}}async function handleSaveProjectName(){const _0x1b9ff6=_0x5ddd37,_0x5d85e3=document[_0x1b9ff6(0x4ff)]('project-title'),_0x41aa30=document[_0x1b9ff6(0x4ff)](_0x1b9ff6(0x87b)),_0x416e81=_0x5d85e3[_0x1b9ff6(0x602)]['trim']();if(!_0x416e81||!currentProjectId){showMessage(_0x1b9ff6(0x53d)),_0x5d85e3[_0x1b9ff6(0x602)]=currentProjectData['projectName'];return;}_0x41aa30[_0x1b9ff6(0x206)]=!![],_0x41aa30[_0x1b9ff6(0x1f9)]=_0x1b9ff6(0x871);try{const _0x13a042=doc(db,_0x1b9ff6(0x8a6)+appId+_0x1b9ff6(0x8c1),currentProjectId);await updateDoc(_0x13a042,{'projectName':_0x416e81}),currentProjectData&&(currentProjectData[_0x1b9ff6(0x981)]=_0x416e81),showMessage(_0x1b9ff6(0xb75));}catch(_0x314b9d){console[_0x1b9ff6(0x34c)](_0x1b9ff6(0xa69),_0x314b9d),showMessage(_0x1b9ff6(0x315)),_0x5d85e3[_0x1b9ff6(0x602)]=currentProjectData[_0x1b9ff6(0x981)];}finally{_0x41aa30[_0x1b9ff6(0xc2e)][_0x1b9ff6(0xee4)](_0x1b9ff6(0xc89)),_0x41aa30[_0x1b9ff6(0x206)]=![],_0x41aa30['innerHTML']=_0x1b9ff6(0x9cf);}}function handleGeneratePracticeTest(_0x5ce6df,_0x33e421){const _0x506317=_0x5ddd37,_0x5ac93f=document['getElementById'](_0x506317(0xc95)),_0xa7d3f0=document[_0x506317(0x4ff)](_0x506317(0xd56)),_0xf35db6=document[_0x506317(0x4ff)](_0x506317(0xe01)),_0x2d434d=document[_0x506317(0x4ff)](_0x506317(0x2f1));_0xa7d3f0['textContent']=_0x506317(0xb28)+_0x5ce6df,_0x2d434d[_0x506317(0xc2e)][_0x506317(0xee4)](_0x506317(0xc89)),_0xf35db6[_0x506317(0xc2e)][_0x506317(0x716)](_0x506317(0xc89)),_0x5ac93f[_0x506317(0xc2e)][_0x506317(0x716)](_0x506317(0xc89)),generatePracticeTest(_0x5ce6df,_0x33e421)[_0x506317(0x53c)](_0x254145=>{const _0x2805b3=_0x506317;console['error'](_0x2805b3(0x56b),_0x254145),showMessage(_0x2805b3(0xcf2)),_0x5ac93f[_0x2805b3(0xc2e)][_0x2805b3(0xee4)](_0x2805b3(0xc89));});}async function generatePracticeTest(_0x13a16a,_0x21465e){const _0x1cb055=_0x5ddd37;[_0x1cb055(0x2ff),_0x1cb055(0xe6a),_0x1cb055(0x645),_0x1cb055(0x9ca)][_0x1cb055(0x23a)](_0x9bcd53=>{const _0xf009be=_0x1cb055,_0x44ce0b=document[_0xf009be(0x4ff)](_0x9bcd53)[_0xf009be(0x97f)];_0x44ce0b&&(_0x44ce0b[_0xf009be(0x8c6)]['display']=_0xf009be(0x527));});try{const _0x5c4912=_0x1cb055(0x55b),_0x17625f=_0x1cb055(0xd3f)+_0x21465e+'\x27\x20ในหัวข้อ\x20\x27'+_0x13a16a+_0x1cb055(0x63e),_0x5350f1=await callGemini(_0x17625f,!![]),_0x574f1e=document[_0x1cb055(0x4ff)](_0x1cb055(0xd56)),_0x35e423=document[_0x1cb055(0x4ff)](_0x1cb055(0xe01)),_0x1cc06f=document[_0x1cb055(0x4ff)](_0x1cb055(0x2f1)),_0x5322d8=document['getElementById']('applicationContent')[_0x1cb055(0x97f)];_0x574f1e[_0x1cb055(0x8ce)]=_0x1cb055(0x695)+_0x13a16a[_0x1cb055(0x701)](/•\s/g,'')+_0x1cb055(0x363)+_0x21465e+')',currentApplicationData=JSON[_0x1cb055(0xe29)](_0x5350f1);const _0x240dc3=document['getElementById'](_0x1cb055(0x645));_0x240dc3[_0x1cb055(0x1f9)]=currentApplicationData[_0x1cb055(0xa25)]((_0x3b1472,_0x3d9140)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3d9140+0x1)+'.\x20'+marked[_0x1cb055(0xdc4)](_0x3b1472['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x3d9140+_0x1cb055(0xe2f)+_0x3b1472[_0x1cb055(0x4ad)][_0x1cb055(0xa25)]((_0x20bf65,_0x6b4b3e)=>_0x1cb055(0x99c)+_0x3d9140+',\x20'+_0x6b4b3e+_0x1cb055(0x209)+String[_0x1cb055(0x9c8)](0x61+_0x6b4b3e)+'.\x20'+marked['parseInline'](_0x20bf65)+_0x1cb055(0x4a4))[_0x1cb055(0x40a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1cb055(0x40a)](''),window['MathJax']&&MathJax[_0x1cb055(0xe28)]([_0x240dc3]),_0x5322d8&&(_0x5322d8[_0x1cb055(0x8c6)][_0x1cb055(0x800)]=_0x1cb055(0xe49)),_0x35e423[_0x1cb055(0xc2e)][_0x1cb055(0xee4)](_0x1cb055(0xc89)),_0x1cc06f[_0x1cb055(0xc2e)]['remove']('hidden');}catch(_0x20dc8d){console['error'](_0x20dc8d);throw _0x20dc8d;}}async function callGemini(_0x4c05dc,_0x2d02e2=![]){const _0x3799f2=_0x5ddd37,_0x579bcc='AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44',_0x54bc7f='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x579bcc,_0x434fbd={'contents':[{'parts':[{'text':_0x4c05dc}]}]};_0x2d02e2&&(_0x434fbd[_0x3799f2(0x521)]={'responseMimeType':'application/json'},_0x4c05dc[_0x3799f2(0xdf4)](_0x3799f2(0x918))?_0x434fbd['generationConfig'][_0x3799f2(0xe1e)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x3799f2(0xa74)},'curriculum':{'type':'ARRAY','items':{'type':_0x3799f2(0x3d9),'properties':{'sara':{'type':_0x3799f2(0xa74)},'mainTopics':{'type':_0x3799f2(0x26d),'items':{'type':_0x3799f2(0x3d9),'properties':{'topicName':{'type':_0x3799f2(0xa74)},'subTopics':{'type':_0x3799f2(0x26d),'items':{'type':_0x3799f2(0xa74)}}},'required':['topicName',_0x3799f2(0x37e)]}}},'required':[_0x3799f2(0x7c5),_0x3799f2(0x940)]}}},'required':['gradeLevel',_0x3799f2(0xd0f)]}:_0x434fbd['generationConfig'][_0x3799f2(0xe1e)]={'type':_0x3799f2(0x26d),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x3799f2(0x26d),'items':{'type':'STRING'}},'answer':{'type':_0x3799f2(0xd03)}},'required':['question',_0x3799f2(0x4ad),'answer']}});try{const _0x1cf772=await fetch(_0x54bc7f,{'method':_0x3799f2(0x473),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3799f2(0xe5a)](_0x434fbd)});if(!_0x1cf772['ok']){const _0x2965e0=await _0x1cf772[_0x3799f2(0xa75)]();console[_0x3799f2(0x34c)]('API\x20Error\x20Body:',_0x2965e0);throw new Error(_0x3799f2(0x323)+_0x1cf772[_0x3799f2(0x361)]);}const _0x3b24e9=await _0x1cf772['json']();if(_0x3b24e9[_0x3799f2(0x5aa)]&&_0x3b24e9[_0x3799f2(0x5aa)][0x0][_0x3799f2(0xa99)]&&_0x3b24e9[_0x3799f2(0x5aa)][0x0]['content'][_0x3799f2(0xc7f)][0x0])return _0x3b24e9[_0x3799f2(0x5aa)][0x0][_0x3799f2(0xa99)][_0x3799f2(0xc7f)][0x0][_0x3799f2(0xa75)];else{console[_0x3799f2(0x34c)]('Unexpected\x20API\x20response\x20structure:',_0x3b24e9);if(_0x3b24e9[_0x3799f2(0x5aa)]&&_0x3b24e9[_0x3799f2(0x5aa)][0x0]['finishReason']===_0x3799f2(0xde0))return JSON[_0x3799f2(0xe5a)]({'error':_0x3799f2(0x4cc)});throw new Error(_0x3799f2(0x9ee));}}catch(_0x1e4e72){console[_0x3799f2(0x34c)](_0x3799f2(0x30a),_0x1e4e72);throw _0x1e4e72;}}async function generateLesson(_0x9fb7de=null,_0x22128f=null){const _0x26e6e4=_0x5ddd37,_0x49d0e7=_0x9fb7de,_0x440e86=_0x22128f||_0x26e6e4(0x439),_0x52a8e0=document[_0x26e6e4(0x4ff)](_0x26e6e4(0xe01)),_0x201d3f=document[_0x26e6e4(0x4ff)](_0x26e6e4(0x846));_0x201d3f['textContent']=_0x26e6e4(0x657)+_0x49d0e7+_0x26e6e4(0x753);try{let _0x2bede2=[];const _0xe95ffa=document[_0x26e6e4(0x4ff)]('bp-reference-file-url')?.['value'][_0x26e6e4(0x26c)]();if(_0xe95ffa)try{_0x201d3f[_0x26e6e4(0x602)]=_0x26e6e4(0x3c5);const _0x459d59=await fetchFileFromUrl(_0xe95ffa,_0x26e6e4(0x91c)),_0x1777e2=await new Promise((_0x4817a0,_0x4f65c4)=>{const _0x313597=_0x26e6e4,_0x131ea7=new FileReader();_0x131ea7['readAsDataURL'](_0x459d59),_0x131ea7['onload']=()=>_0x4817a0(_0x131ea7['result'][_0x313597(0x325)](',')[0x1]),_0x131ea7[_0x313597(0x80d)]=_0x4f65c4;});_0x2bede2[_0x26e6e4(0xb2a)]({'inlineData':{'mimeType':_0x459d59['type'],'data':_0x1777e2}});}catch(_0x414361){console[_0x26e6e4(0x34c)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x414361),showMessage(_0x26e6e4(0xe8c));}const _0x2d6c36=_0x26e6e4(0xaa8)+_0x49d0e7+_0x26e6e4(0xee8)+_0x49d0e7+_0x26e6e4(0x861);_0x201d3f['textContent']=_0x26e6e4(0x657)+_0x49d0e7+_0x26e6e4(0x753);const _0x4b932c='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x440e86+'\x27\x20ในหัวข้อ\x20\x27'+_0x49d0e7+_0x26e6e4(0x671)+_0x2d6c36+_0x26e6e4(0x379),_0x5217bc=_0x26e6e4(0x45c)+_0x49d0e7+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x440e86+_0x26e6e4(0x318)+_0x2d6c36+_0x26e6e4(0x6bd),_0x468649=_0x26e6e4(0xd3f)+_0x440e86+_0x26e6e4(0x3ba)+_0x49d0e7+_0x26e6e4(0x8b1)+_0x2d6c36+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0xc0f9d=_0x26e6e4(0x56a)+_0x49d0e7+_0x26e6e4(0xab3)+_0x440e86+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x2d6c36+_0x26e6e4(0xd4d),_0x3a458d={'type':'ARRAY','items':{'type':_0x26e6e4(0x3d9),'properties':{'question':{'type':_0x26e6e4(0xa74)},'options':{'type':_0x26e6e4(0x26d),'items':{'type':'STRING'}},'answer':{'type':_0x26e6e4(0xd03)}},'required':['question',_0x26e6e4(0x4ad),'answer']}},[_0x3f086b,_0x4e13b7,_0x2497b6,_0x7e18b0]=await Promise['all']([handleApiCall([{'text':_0x4b932c},..._0x2bede2],_0x26e6e4(0xe73),null,null,![]),handleApiCall([{'text':_0x5217bc},..._0x2bede2],'...',null,null,![]),handleApiCall([{'text':_0x468649},..._0x2bede2],'...',_0x3a458d,null,![]),handleApiCall([{'text':_0xc0f9d},..._0x2bede2],_0x26e6e4(0xe73),null,null,![])]),_0x5b9095=JSON[_0x26e6e4(0xe5a)](_0x2497b6||[]),_0x36c7de=document[_0x26e6e4(0x4ff)]('lesson-view-title'),_0x5440f3=document[_0x26e6e4(0x4ff)](_0x26e6e4(0x2f1));_0x36c7de[_0x26e6e4(0x8ce)]=_0x26e6e4(0xe48)+_0x49d0e7['replace'](/•\\s/g,'')+_0x26e6e4(0x363)+_0x440e86+')',[_0x26e6e4(0x2ff),_0x26e6e4(0xe6a),'summaryContent'][_0x26e6e4(0x23a)](_0x2fe410=>{const _0x731178=_0x26e6e4;document[_0x731178(0x4ff)](_0x2fe410)[_0x731178(0x1f9)]='';}),document[_0x26e6e4(0x4ff)]('pointContent')['innerHTML']=_0x3f086b?marked['parse'](_0x3f086b):_0x26e6e4(0xd85),document[_0x26e6e4(0x4ff)](_0x26e6e4(0xe6a))[_0x26e6e4(0x1f9)]=_0x4e13b7?marked[_0x26e6e4(0xe29)](_0x4e13b7):_0x26e6e4(0xd85),document[_0x26e6e4(0x4ff)](_0x26e6e4(0x9ca))['innerHTML']=_0x7e18b0?marked[_0x26e6e4(0xe29)](_0x7e18b0):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x5b9095);const _0x341873=document['getElementById']('applicationContent');_0x341873['innerHTML']=(currentApplicationData||[])['map']((_0x5eae22,_0x4f48b2)=>_0x26e6e4(0xd5e)+(_0x4f48b2+0x1)+'.\x20'+marked[_0x26e6e4(0xdc4)](_0x5eae22[_0x26e6e4(0xb0e)]||'')+_0x26e6e4(0x827)+_0x4f48b2+_0x26e6e4(0xe2f)+(_0x5eae22[_0x26e6e4(0x4ad)]||[])[_0x26e6e4(0xa25)]((_0x2cf193,_0x54abaa)=>_0x26e6e4(0x99c)+_0x4f48b2+',\x20'+_0x54abaa+_0x26e6e4(0x209)+String[_0x26e6e4(0x9c8)](0x61+_0x54abaa)+'.\x20'+marked[_0x26e6e4(0xdc4)](_0x2cf193||'')+_0x26e6e4(0x4a4))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x26e6e4(0x40a)]('')||_0x26e6e4(0x433),window[_0x26e6e4(0xb8c)]&&MathJax[_0x26e6e4(0xe28)]([_0x5440f3]),_0x52a8e0[_0x26e6e4(0xc2e)]['add'](_0x26e6e4(0xc89)),_0x5440f3['classList'][_0x26e6e4(0x716)](_0x26e6e4(0xc89));}catch(_0x3e3df2){console['error'](_0x3e3df2);throw _0x3e3df2;}}function checkAnswer(_0x4747c0,_0x3ebfe8){const _0x175bd6=_0x5ddd37,_0xf49295=currentApplicationData[_0x4747c0],_0x903fd0=document[_0x175bd6(0x4ff)]('q'+_0x4747c0+_0x175bd6(0xeb7)),_0x4610df=_0x903fd0[_0x175bd6(0x319)](_0x175bd6(0x6db));for(let _0x3100cd of _0x4610df){_0x3100cd[_0x175bd6(0x206)]=!![];}_0x3ebfe8===_0xf49295[_0x175bd6(0x641)]?_0x4610df[_0x3ebfe8][_0x175bd6(0xc2e)]['add'](_0x175bd6(0x4ef)):(_0x4610df[_0x3ebfe8]['classList'][_0x175bd6(0xee4)](_0x175bd6(0xbad)),_0x4610df[_0xf49295[_0x175bd6(0x641)]][_0x175bd6(0xc2e)][_0x175bd6(0xee4)](_0x175bd6(0x4ef)));}window[_0x5ddd37(0x428)]=handleGenerateAndShowLesson,window[_0x5ddd37(0x6d4)]=checkAnswer,window[_0x5ddd37(0xc67)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x566401=_0x5ddd37;try{const _0x2c4745=initializeApp(firebaseConfig);db=getFirestore(_0x2c4745),auth=getAuth(_0x2c4745),setupAuthListener(),setupEventListeners(),showView(_0x566401(0xa46)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x43fcd5){console[_0x566401(0x34c)](_0x566401(0x826),_0x43fcd5),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x4a264c=_0x5ddd37,_0x3b5209=document[_0x4a264c(0x4ff)](_0x4a264c(0x3cf));if(!_0x3b5209)return;const _0x845eec=document[_0x4a264c(0x4ff)](_0x4a264c(0x57c));_0x845eec[_0x4a264c(0x206)]=!![],_0x845eec[_0x4a264c(0x1f9)]=_0x4a264c(0x967);try{const _0x4bc205=_0x3b5209[_0x4a264c(0xe1c)](_0x4a264c(0xf07)),_0x133b05=Array[_0x4a264c(0x8ed)](_0x4bc205)[_0x4a264c(0xa25)]((_0x4f1259,_0x5a2bdb)=>{const _0x206790=_0x4a264c,_0xb0cd7c=_0x4f1259['dataset'][_0x206790(0x611)],_0x5de527=_0x4f1259[_0x206790(0xee9)](_0x206790(0x586))[_0x206790(0x717)];let _0x2ea4d7=null,_0x28389a='';switch(_0xb0cd7c){case _0x206790(0xf0e):const _0x1d3684=_0x4f1259[_0x206790(0xe1c)]('input[type=\x22text\x22]');_0x2ea4d7=Array['from'](_0x1d3684)[_0x206790(0xa25)](_0x34d59c=>_0x34d59c[_0x206790(0x717)]);const _0x4b52c4=_0x4f1259[_0x206790(0xee9)](_0x206790(0x2ae));_0x4b52c4&&(_0x28389a=_0x2ea4d7[parseInt(_0x4b52c4['value'])]);break;case _0x206790(0x3d7):_0x2ea4d7=[],_0x28389a=_0x4f1259[_0x206790(0xee9)](_0x206790(0x8e8))[_0x206790(0x717)];break;case _0x206790(0xed0):_0x2ea4d7=[_0x206790(0x394),_0x206790(0x55e)];const _0x4388e9=_0x4f1259[_0x206790(0xee9)]('input[type=\x22radio\x22]:checked');_0x28389a=_0x4388e9?_0x4388e9['value']:'';break;case'matching_item':_0x2ea4d7=[],_0x28389a=_0x4f1259[_0x206790(0xee9)]('.correct-response-input')[_0x206790(0x717)];break;}return{'question':_0x5de527,'options':_0x2ea4d7,'proposedAnswer':_0x28389a};}),_0xefd58f=_0x4a264c(0x5bc)+JSON['stringify'](_0x133b05)+_0x4a264c(0xa89),_0x1469ed={'type':_0x4a264c(0x26d),'items':{'type':_0x4a264c(0x3d9),'properties':{'questionIndex':{'type':_0x4a264c(0xd03)},'isCorrect':{'type':_0x4a264c(0x56d)},'justification':{'type':_0x4a264c(0xa74)},'correctOptionExists':{'type':_0x4a264c(0x56d)},'suggestedAnswer':{'type':_0x4a264c(0xa74)},'newOptionsPayload':{'type':_0x4a264c(0x3d9),'properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x4a264c(0xa74)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':['questionIndex',_0x4a264c(0x624),_0x4a264c(0x92c)]}},_0x5acce5=await callAnalysisApi(_0xefd58f,{'type':'OBJECT','properties':{'result':_0x1469ed},'required':['result']});displayVerificationResultsInEditor(_0x5acce5['result']);}catch(_0x1aa25a){console[_0x4a264c(0x34c)](_0x4a264c(0xba9),_0x1aa25a),showMessage(_0x4a264c(0xbe6));}finally{_0x845eec[_0x4a264c(0x206)]=![],_0x845eec[_0x4a264c(0x1f9)]=_0x4a264c(0xbe2);}}function displayVerificationResultsInEditor(_0x68c560){const _0x5d0432=_0x5ddd37;_0x68c560[_0x5d0432(0x23a)](_0xdb858e=>{const _0x194a05=_0x5d0432,_0x1d6f3f=document[_0x194a05(0xee9)](_0x194a05(0x7fa)+_0xdb858e[_0x194a05(0xb48)]+'\x22]');if(!_0x1d6f3f)return;const _0x3e4e87=_0x1d6f3f[_0x194a05(0xee9)](_0x194a05(0x69b));if(_0x3e4e87)_0x3e4e87['remove']();let _0x476aa9='';if(_0xdb858e[_0x194a05(0x824)]&&_0xdb858e[_0x194a05(0x824)]['newOptions']){const _0x16a745=_0xdb858e[_0x194a05(0x824)]['newOptions'],_0x314423=_0xdb858e['newOptionsPayload']['newCorrectIndex'],_0x1a8524=_0x1d6f3f['dataset'][_0x194a05(0x611)];if(_0x1a8524==='multiple_choice'){const _0x4ade37=_0x1d6f3f[_0x194a05(0xe1c)](_0x194a05(0xe33));_0x4ade37[_0x194a05(0x23a)]((_0x3de901,_0x1eb3a8)=>{const _0x3b21e3=_0x194a05;_0x16a745[_0x1eb3a8]?_0x3de901[_0x3b21e3(0x717)]=_0x16a745[_0x1eb3a8]:_0x3de901[_0x3b21e3(0x717)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0x302426=_0x1d6f3f[_0x194a05(0xee9)](_0x194a05(0xd7a)+_0x314423+'\x22]');_0x302426&&(_0x302426[_0x194a05(0x749)]=!![]),_0x476aa9=_0x194a05(0x805),_0x1d6f3f['classList'][_0x194a05(0xee4)](_0x194a05(0xcf4),_0x194a05(0x6f9),'duration-300'),setTimeout(()=>{const _0x228b2a=_0x194a05;_0x1d6f3f['classList'][_0x228b2a(0x716)](_0x228b2a(0xcf4));},0x9c4);}}else{if(!_0xdb858e[_0x194a05(0x624)]&&_0xdb858e[_0x194a05(0x638)]){const _0x23911a=_0xdb858e[_0x194a05(0x638)]?_0x194a05(0xb77):'';_0x476aa9=_0x194a05(0x3dc)+_0x23911a+_0x194a05(0x4b2)+_0xdb858e['justification']+_0x194a05(0x787)+(_0xdb858e[_0x194a05(0x638)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0xdb858e[_0x194a05(0x638)]+_0x194a05(0x7d3):'')+_0x194a05(0x50a);const _0x5f210d=_0x1d6f3f[_0x194a05(0x664)][_0x194a05(0x611)],_0x4ee7ea=_0x50af68=>{const _0x1c446d=_0x194a05;if(!_0x50af68)return;_0x50af68[_0x1c446d(0xc2e)]['add'](_0x1c446d(0xcb4),_0x1c446d(0x6f9),_0x1c446d(0x320)),setTimeout(()=>{const _0x1670e5=_0x1c446d;_0x50af68[_0x1670e5(0xc2e)][_0x1670e5(0x716)](_0x1670e5(0xcb4));},0x9c4);};if(_0x5f210d==='multiple_choice'){const _0x388adf=Array[_0x194a05(0x8ed)](_0x1d6f3f[_0x194a05(0xe1c)](_0x194a05(0xe33))),_0x339178=_0x388adf[_0x194a05(0xed5)](_0xe4c759=>_0xe4c759[_0x194a05(0x717)][_0x194a05(0x26c)]()[_0x194a05(0xbca)]()===_0xdb858e['suggestedAnswer'][_0x194a05(0x26c)]()['toLowerCase']());if(_0x339178!==-0x1){const _0x5bd4e9=_0x1d6f3f['querySelector'](_0x194a05(0xd7a)+_0x339178+'\x22]');_0x5bd4e9&&(_0x5bd4e9['checked']=!![],_0x4ee7ea(_0x5bd4e9[_0x194a05(0x7c4)]('div')));}}else{if(_0x5f210d===_0x194a05(0x3d7)||_0x5f210d==='matching_item'){const _0x17b5fd=_0x1d6f3f[_0x194a05(0xee9)](_0x194a05(0x8a1));_0x17b5fd&&(_0x17b5fd['value']=_0xdb858e[_0x194a05(0x638)],_0x4ee7ea(_0x17b5fd));}else{if(_0x5f210d===_0x194a05(0xed0)){const _0x475dce=_0xdb858e[_0x194a05(0x638)][_0x194a05(0x26c)]()[_0x194a05(0xbca)](),_0xb0b273=_0x1d6f3f['querySelector'](_0x194a05(0xd7a)+_0x475dce+'\x22]');_0xb0b273&&(_0xb0b273[_0x194a05(0x749)]=!![],_0x4ee7ea(_0xb0b273['closest'](_0x194a05(0x577))));}}}}else _0xdb858e[_0x194a05(0x624)]&&(_0x476aa9=_0x194a05(0xb94));}_0x1d6f3f['insertAdjacentHTML'](_0x194a05(0xc79),_0x476aa9);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x1a316a=_0x5ddd37;if(!currentQuizData||!currentQuizData[_0x1a316a(0x7f9)]){showMessage(_0x1a316a(0x373));return;}const _0x5663fa=document[_0x1a316a(0x4ff)](_0x1a316a(0x3a1));_0x5663fa['disabled']=!![],_0x5663fa[_0x1a316a(0x1f9)]=_0x1a316a(0x967);try{const _0x6d0bb8=currentQuizData[_0x1a316a(0x7f9)][_0x1a316a(0xa25)]((_0x281fa7,_0x258d7c)=>{const _0xcf2104=_0x1a316a;let _0x320037='';const _0x206ea3=_0x281fa7[_0xcf2104(0x278)]||currentQuizData[_0xcf2104(0xa9d)];switch(_0x206ea3){case'multiple_choice':_0x320037=_0x281fa7[_0xcf2104(0x4ad)][_0x281fa7[_0xcf2104(0x791)]];break;case'short_answer':_0x320037=_0x281fa7[_0xcf2104(0x3e2)];break;case _0xcf2104(0xed0):_0x320037=_0x281fa7[_0xcf2104(0x98f)][_0xcf2104(0xe66)]();break;case _0xcf2104(0x867):_0x320037=_0x281fa7['correctResponse'];break;}return{'question':_0x281fa7[_0xcf2104(0x692)]||_0x281fa7[_0xcf2104(0xb93)],'options':_0x281fa7['options']||null,'proposedAnswer':_0x320037};}),_0x1cb520=_0x1a316a(0xe68)+JSON[_0x1a316a(0xe5a)](_0x6d0bb8)+_0x1a316a(0xa7a),_0x432719={'type':_0x1a316a(0x26d),'items':{'type':_0x1a316a(0x3d9),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1a316a(0x56d)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':[_0x1a316a(0xb48),'isCorrect','justification']}},_0x2a7bc0=await callAnalysisApi(_0x1cb520,{'type':_0x1a316a(0x3d9),'properties':{'result':_0x432719},'required':[_0x1a316a(0x41f)]});displayVerificationResults(_0x2a7bc0[_0x1a316a(0x41f)]);}catch(_0x4e0f3c){console['error'](_0x1a316a(0xc99),_0x4e0f3c),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x5663fa[_0x1a316a(0x206)]=![],_0x5663fa[_0x1a316a(0x1f9)]=_0x1a316a(0x65e);}}function displayVerificationResults(_0x2cbb23){const _0x45a664=_0x5ddd37;_0x2cbb23[_0x45a664(0x23a)](_0x185270=>{const _0x4499ba=_0x45a664,_0x555efa=document[_0x4499ba(0xee9)](_0x4499ba(0x6f7)+_0x185270[_0x4499ba(0xb48)]+'\x22]');if(_0x555efa){const _0x5acc14=_0x555efa[_0x4499ba(0xee9)](_0x4499ba(0xf09));if(_0x5acc14)_0x5acc14['remove']();let _0xc0c22='';_0x185270[_0x4499ba(0x624)]?_0xc0c22='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xc0c22=_0x4499ba(0xdda)+_0x185270[_0x4499ba(0x92c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x185270[_0x4499ba(0x638)]?_0x4499ba(0xa08)+_0x185270['suggestedAnswer']+_0x4499ba(0x7d3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x555efa[_0x4499ba(0xa8f)](_0x4499ba(0xc79),_0xc0c22);}}),showMessage(_0x45a664(0xce6));}function compareNumericalAnswers(_0x38c5d4,_0x374cc8){const _0x131bc2=_0x5ddd37,_0x103e49=String(_0x38c5d4)['replace'](',','.')[_0x131bc2(0x701)](/[^\d.-]/g,'')[_0x131bc2(0x26c)](),_0x33aae2=String(_0x374cc8)[_0x131bc2(0x701)](',','.')[_0x131bc2(0x701)](/[^\d.-]/g,'')[_0x131bc2(0x26c)]();if(_0x103e49===''||_0x33aae2==='')return![];const _0x4ce763=parseFloat(_0x103e49),_0x3c185b=parseFloat(_0x33aae2);if(isNaN(_0x4ce763)||isNaN(_0x3c185b))return![];return Math[_0x131bc2(0x565)](_0x4ce763-_0x3c185b)<0.001;}function isPotentiallyNumeric(_0x1d35c6){const _0x4c6500=_0x5ddd37;if(typeof _0x1d35c6!==_0x4c6500(0xe22)&&typeof _0x1d35c6!=='number')return![];const _0x39d802=String(_0x1d35c6)[_0x4c6500(0x701)](',','.')[_0x4c6500(0x26c)]();return _0x39d802!==''&&!isNaN(parseFloat(_0x39d802))&&isFinite(_0x39d802);}async function gradeShortAnswer(_0x4b965c,_0x1dc380){const _0x4774a9=_0x5ddd37,_0x32f86d=_0x1dc380[_0x4774a9(0x3e2)],_0x149813=String(_0x4b965c)[_0x4774a9(0x701)](/\$/g,'')['trim'](),_0x25845c=String(_0x32f86d)[_0x4774a9(0x701)](/\$/g,'')[_0x4774a9(0x26c)]();if(_0x149813[_0x4774a9(0xbca)]()===_0x25845c[_0x4774a9(0xbca)]())return!![];if(isPotentiallyNumeric(_0x149813)&&isPotentiallyNumeric(_0x25845c)){if(compareNumericalAnswers(_0x149813,_0x25845c))return!![];}return console[_0x4774a9(0x674)](_0x4774a9(0x2fc)),await gradeShortAnswerWithAI(_0x4b965c,_0x32f86d);}async function revealAnswerForAdmin(_0x20ac80,_0x4d07a2){const _0x43d8d5=_0x5ddd37,_0x5cd300=doc(db,'artifacts/'+appId+_0x43d8d5(0x299),currentLiveGameId);await updateDoc(_0x5cd300,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x3bf0e4){const _0x5ec9ba=_0x5ddd37,_0x453dc2=Object['values'](_0x3bf0e4['players']||{})[_0x5ec9ba(0xd8d)](_0x13ae23=>_0x13ae23[_0x5ec9ba(0x361)]===_0x5ec9ba(0x5de));_0x453dc2[_0x5ec9ba(0x23c)]((_0x598677,_0x9b94f5)=>_0x9b94f5[_0x5ec9ba(0x6e9)]-_0x598677['score']);const _0x165d7b=_0x453dc2['slice'](0x0,0x5),_0x4cbb30='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x165d7b[_0x5ec9ba(0xa25)]((_0x224186,_0x318313)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x318313+0x1)+'.\x20'+(_0x224186[_0x5ec9ba(0xc44)]||Object[_0x5ec9ba(0x4cf)](_0x3bf0e4[_0x5ec9ba(0xbd9)])['find'](_0x2cac68=>_0x3bf0e4[_0x5ec9ba(0xbd9)][_0x2cac68]===_0x224186))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x224186[_0x5ec9ba(0x6e9)]+_0x5ec9ba(0xaf2))[_0x5ec9ba(0x40a)]('')+_0x5ec9ba(0xd36)+(_0x3bf0e4[_0x5ec9ba(0x70b)]+0x1===currentQuizData[_0x5ec9ba(0x7f9)]['length']?_0x5ec9ba(0x252):_0x5ec9ba(0x852))+_0x5ec9ba(0xeef);liveGameView['innerHTML']=_0x4cbb30,document[_0x5ec9ba(0x4ff)]('goto-next-question-btn')[_0x5ec9ba(0xbe5)]('click',async()=>{const _0x3572f6=_0x5ec9ba,_0x4e0346=doc(db,'artifacts/'+appId+_0x3572f6(0x299),currentLiveGameId),_0x368048=_0x3bf0e4[_0x3572f6(0x70b)]+0x1;if(_0x368048<currentQuizData[_0x3572f6(0x7f9)][_0x3572f6(0x85b)]){const _0x4a30a7={'currentQuestionIndex':_0x368048,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x3572f6(0xba2)};Object[_0x3572f6(0x4cf)](_0x3bf0e4['players'])[_0x3572f6(0x23a)](_0x16788b=>{const _0x3916ff=_0x3572f6;_0x4a30a7[_0x3916ff(0x7b2)+_0x16788b+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x4e0346,_0x4a30a7);}else await updateDoc(_0x4e0346,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x41dfbc=>{const _0x3ea7ba=_0x2785;if(_0x41dfbc){userId=_0x41dfbc[_0x3ea7ba(0x4d2)],userIdDisplay[_0x3ea7ba(0x602)]=userId;const _0x42e181=await loadUserPreferences();_0x42e181[_0x3ea7ba(0x2a8)]&&(document[_0x3ea7ba(0x4ff)](_0x3ea7ba(0xa1a))[_0x3ea7ba(0x717)]=_0x42e181[_0x3ea7ba(0x2a8)]);globalDashboardSettings['projectView']=_0x42e181['projectView']||_0x3ea7ba(0xbfc);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x24c41b,_0x5a6a91){const _0x299985=_0x5ddd37;if(!userId)return;try{const _0xa8bedb=doc(db,_0x299985(0x8a6)+appId+_0x299985(0xd76)+userId+_0x299985(0xa4c)),_0x27abbd={};_0x27abbd[_0x24c41b]=_0x5a6a91,await setDoc(_0xa8bedb,_0x27abbd,{'merge':!![]});}catch(_0x293901){console[_0x299985(0x34c)](_0x299985(0x524),_0x293901);}}async function loadUserPreferences(){const _0x4dcfb8=_0x5ddd37;if(!userId)return{};try{const _0x3f682d=doc(db,'artifacts/'+appId+_0x4dcfb8(0xd76)+userId+'/preferences/main'),_0x33727d=await getDoc(_0x3f682d);if(_0x33727d[_0x4dcfb8(0x8d2)]())return _0x33727d[_0x4dcfb8(0xef5)]();return{};}catch(_0x489ad9){return console['error'](_0x4dcfb8(0xb51),_0x489ad9),{};}}function parseIndentedBlueprint(_0x38d006){const _0x55e0e0=_0x5ddd37,_0xcb7da7=_0x38d006['split']('\x0a')[_0x55e0e0(0xd8d)](_0x2e7d13=>_0x2e7d13[_0x55e0e0(0x26c)]()!==''),_0x369e24=[];let _0x507399=null,_0x275011=null;return _0xcb7da7[_0x55e0e0(0x23a)](_0x1679eb=>{const _0x22d785=_0x55e0e0,_0x36c984=_0x1679eb['match'](/^\s*/)[0x0][_0x22d785(0x85b)],_0x527ada=_0x1679eb[_0x22d785(0x26c)]();if(_0x36c984===0x0)_0x507399={'sara':_0x527ada,'mainTopics':[]},_0x369e24['push'](_0x507399),_0x275011=null;else{if(_0x36c984>0x0&&_0x36c984<0x8&&_0x507399)_0x275011={'topicName':_0x527ada,'subTopics':[]},_0x507399[_0x22d785(0x940)]['push'](_0x275011);else _0x36c984>=0x8&&_0x275011&&_0x275011['subTopics'][_0x22d785(0xb2a)](_0x527ada);}}),{'curriculum':_0x369e24};}async function handleManualBlueprintSave(){const _0x519a3e=_0x5ddd37,_0x1fe3f8=document[_0x519a3e(0x4ff)](_0x519a3e(0xadb))[_0x519a3e(0x717)][_0x519a3e(0x26c)](),_0x574521=document[_0x519a3e(0x4ff)](_0x519a3e(0x54c))['value'][_0x519a3e(0x26c)](),_0x49e003=document['getElementById']('manual-bp-content')[_0x519a3e(0x717)];if(!_0x1fe3f8||!_0x574521||!_0x49e003){showMessage(_0x519a3e(0xe43));return;}const _0x230fc8=parseIndentedBlueprint(_0x49e003);if(!_0x230fc8[_0x519a3e(0xd0f)]||_0x230fc8[_0x519a3e(0xd0f)][_0x519a3e(0x85b)]===0x0){showMessage(_0x519a3e(0x9bd));return;}const _0x2bc862={};let _0x5260e5=0x0;_0x230fc8[_0x519a3e(0xd0f)][_0x519a3e(0x23a)](_0x25913e=>{const _0x4916b8=_0x519a3e;_0x25913e['mainTopics'][_0x4916b8(0x23a)](_0x3e45ae=>{const _0xe91737=_0x4916b8;_0x3e45ae['subTopics'][_0xe91737(0x23a)](_0x2387c0=>{const _0x7e796e=_0xe91737,_0x49328b='topic_'+Date[_0x7e796e(0x599)]()+Math[_0x7e796e(0x21a)]()[_0x7e796e(0xe66)](0x24)[_0x7e796e(0x7e0)](0x2,0x9);_0x2bc862[_0x49328b]={'sara':_0x25913e['sara'],'mainTopic':_0x3e45ae[_0x7e796e(0xade)],'subTopic':_0x2387c0,'status':_0x7e796e(0x51f),'lessonContent':null,'order':_0x5260e5++};});});});try{const _0xb7294c=collection(db,_0x519a3e(0x8a6)+appId+_0x519a3e(0x912));await addDoc(_0xb7294c,{'projectName':_0x1fe3f8,'gradeLevel':_0x574521,'topics':_0x2bc862,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x1fe3f8+_0x519a3e(0x769)),document[_0x519a3e(0x4ff)](_0x519a3e(0x5b8))['classList'][_0x519a3e(0xee4)](_0x519a3e(0xc89));}catch(_0x55bd0d){console[_0x519a3e(0x34c)](_0x519a3e(0xcec),_0x55bd0d),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x641f10){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x4138f0=_0x2785;try{const _0x5c98eb=doc(db,_0x4138f0(0x8a6)+appId+_0x4138f0(0x912),currentBlueprintProjectId);await updateDoc(_0x5c98eb,{['topics.'+_0x641f10+'.linkedQuizIds']:[]}),showMessage(_0x4138f0(0xee7)),openTopicQuizBank(_0x641f10),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xf76587){console['error'](_0x4138f0(0xd29),_0xf76587),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x21d34a,_0x4d3a78=_0x5ddd37(0x2e3),_0x4139c8=null){const _0x206ee4=_0x5ddd37,_0x3e9e9e=_0x4139c8?.[_0x206ee4(0xdcf)]===!![],_0x539a3c=Object[_0x206ee4(0xc63)](_0x21d34a)[_0x206ee4(0xa25)](([_0x212abb,_0x11daf8])=>({'name':_0x212abb,'realScore':_0x11daf8[_0x206ee4(0x5b9)]||_0x11daf8['score']||0x0,'totalPoints':_0x11daf8[_0x206ee4(0x939)]||0x0,'badges':_0x11daf8[_0x206ee4(0x614)]||[],'hasPerfectScoreBonus':_0x11daf8['hasPerfectScoreBonus']||![]})),_0x24f7e8=Math[_0x206ee4(0xa87)](..._0x539a3c[_0x206ee4(0xa25)](_0x352170=>_0x352170[_0x206ee4(0x939)]),-Infinity),_0x3f6980=Math[_0x206ee4(0xa87)](..._0x539a3c[_0x206ee4(0xa25)](_0x2107fc=>_0x2107fc['realScore']),-Infinity);_0x539a3c[_0x206ee4(0x23c)]((_0x3869f,_0x4e14a9)=>{const _0x5a79d0=_0x206ee4;if(_0x3e9e9e){const _0x39cbcc=_0x4e14a9[_0x5a79d0(0x939)]-_0x3869f['totalPoints'];if(_0x39cbcc!==0x0)return _0x39cbcc;const _0x12df85=_0x4e14a9[_0x5a79d0(0x5b9)]-_0x3869f['realScore'];if(_0x12df85!==0x0)return _0x12df85;return _0x3869f['name'][_0x5a79d0(0xe10)](_0x4e14a9[_0x5a79d0(0xc44)],'th');}else{const _0x4dfe92=_0x4e14a9[_0x5a79d0(0x939)]-_0x3869f[_0x5a79d0(0x939)];if(_0x4dfe92!==0x0)return _0x4dfe92;return _0x4e14a9[_0x5a79d0(0x5b9)]-_0x3869f[_0x5a79d0(0x5b9)];}});const _0x4d9954=_0x4bb9cc=>{const _0x2d0d90=_0x206ee4;if(!_0x4bb9cc||_0x4bb9cc[_0x2d0d90(0x85b)]===0x0)return'';const _0x27b5b2={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2d0d90(0x479)+_0x4bb9cc['map'](_0x593ee3=>_0x27b5b2[_0x593ee3]||'')[_0x2d0d90(0x40a)]('')+_0x2d0d90(0x629);},_0xfc215e=_0x205353=>{const _0x2af09f=_0x206ee4;let _0x54730d='';if(_0x3e9e9e){if(_0x205353[_0x2af09f(0x939)]===_0x24f7e8&&_0x24f7e8>0x0)_0x54730d+=_0x2af09f(0xba3);if(_0x205353[_0x2af09f(0x5b9)]===_0x3f6980&&_0x3f6980>0x0)_0x54730d+=_0x2af09f(0x710);}else{if(_0x205353[_0x2af09f(0x5ee)])_0x54730d=_0x2af09f(0xc23);}if(_0x3e9e9e){const _0x33863c=_0x205353[_0x2af09f(0x939)]>=0x0?'(+'+_0x205353['totalPoints']+')':'('+_0x205353['totalPoints']+')';return _0x2af09f(0x95d)+_0x205353[_0x2af09f(0x5b9)]+_0x2af09f(0x32f)+_0x33863c+'\x20'+_0x54730d+_0x2af09f(0x7d3);}else return _0x2af09f(0x95d)+_0x205353['totalPoints']+_0x2af09f(0x32f)+_0x54730d+_0x2af09f(0x7d3);},_0x32ff50=_0x539a3c[_0x206ee4(0x507)](0x3),_0x19d282=_0x32ff50['length']>0x0?_0x206ee4(0x33c)+_0x32ff50[_0x206ee4(0xa25)]((_0x37f9b6,_0x3245d2)=>{const _0x36420c=_0x206ee4;return _0x36420c(0x6f6)+(_0x3245d2+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x37f9b6[_0x36420c(0xc44)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>'+_0xfc215e(_0x37f9b6)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x206ee4(0x2fd):'',_0x1d306b=_0x206ee4(0xda1)+(_0x539a3c[0x1]?_0x206ee4(0x7c7)+_0x539a3c[0x1][_0x206ee4(0xc44)]+_0x206ee4(0x7d3)+_0x4d9954(_0x539a3c[0x1][_0x206ee4(0x614)])+_0xfc215e(_0x539a3c[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x206ee4(0xb5f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x539a3c[0x0]?_0x206ee4(0xb99)+_0x539a3c[0x0][_0x206ee4(0xc44)]+_0x206ee4(0x7d3)+_0x4d9954(_0x539a3c[0x0][_0x206ee4(0x614)])+_0xfc215e(_0x539a3c[0x0])+'<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x206ee4(0xb5f))+_0x206ee4(0xa89)+(_0x539a3c[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x539a3c[0x2][_0x206ee4(0xc44)]+'</p>'+_0x4d9954(_0x539a3c[0x2][_0x206ee4(0x614)])+_0xfc215e(_0x539a3c[0x2])+_0x206ee4(0x601):_0x206ee4(0xb5f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19d282+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x206ee4(0x420)?_0x206ee4(0x4ab):'<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x206ee4(0x1f9)]=_0x1d306b,currentMode==='admin'?document[_0x206ee4(0x4ff)](_0x206ee4(0xa49))[_0x206ee4(0xbe5)]('click',async()=>{const _0x1529cb=_0x206ee4;let _0x8bb160;_0x4d3a78==='sync'?_0x8bb160=doc(db,_0x1529cb(0x8a6)+appId+_0x1529cb(0x869),currentLiveGameId):_0x8bb160=doc(db,_0x1529cb(0x8a6)+appId+_0x1529cb(0x299),currentLiveGameId),await deleteDoc(_0x8bb160);}):document['getElementById']('student-back-to-home-btn')?.['addEventListener']('click',()=>{const _0x5164a9=_0x206ee4;showView(_0x5164a9(0xa46));});}function renderSyncSummaryView(_0x2677ed,_0x3c949e,_0x572944){const _0x7f4b41=_0x5ddd37,_0x5bbb13=_0x2677ed[_0x7f4b41(0x649)]||_0x7f4b41(0x690),_0xb03877=(_0x5bbb13===_0x7f4b41(0xa1d)||_0x5bbb13==='anonymous_reveal_end')&&_0x2677ed[_0x7f4b41(0xaf1)]===![],_0x22ae34=_0x5bbb13==='reveal_at_end'||_0x5bbb13===_0x7f4b41(0xedf),_0x2e7b65=_0x2677ed[_0x7f4b41(0x230)]['questions'],_0x35883a=_0x3c949e[_0x7f4b41(0x278)]||_0x2677ed[_0x7f4b41(0x230)]['quizType'];let _0x3a38e0=[];_0x35883a==='true_false'?_0x3a38e0=[_0x7f4b41(0xc38),_0x7f4b41(0xbef)]:_0x3a38e0=_0x3c949e['options']||[];const _0x2e6f11=new Array(_0x3a38e0[_0x7f4b41(0x85b)])[_0x7f4b41(0x9ad)](0x0),_0x52e6cd={};_0x3a38e0[_0x7f4b41(0x23a)]((_0x2cc501,_0x3a7a1a)=>{_0x52e6cd[_0x3a7a1a]=[];}),Object[_0x7f4b41(0xc63)](_0x2677ed['players']||{})[_0x7f4b41(0x23a)](([_0x1c1f36,_0x429f3b])=>{const _0x4cb775=_0x7f4b41;if(_0x429f3b[_0x4cb775(0x361)]!==_0x4cb775(0x924)&&_0x429f3b[_0x4cb775(0x951)]!==undefined&&_0x429f3b['lastAnswerIndex']!==null){const _0x3f3907=_0x429f3b[_0x4cb775(0x951)];if(_0x52e6cd[_0x3f3907]!==undefined){const _0x3a8a19=_0xb03877?_0x2677ed[_0x4cb775(0x357)][_0x1c1f36]||_0x4cb775(0xdce):_0x1c1f36;_0x52e6cd[_0x3f3907][_0x4cb775(0xb2a)](_0x3a8a19),_0x2e6f11[_0x3f3907]++;}}});let _0x36a57a='';const _0x361f64=_0x2677ed[_0x7f4b41(0x70b)]>=_0x2e7b65[_0x7f4b41(0x85b)]-0x1;_0x572944?_0x22ae34?_0x361f64?_0x36a57a=_0x7f4b41(0x277):_0x36a57a='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x36a57a=_0x7f4b41(0x71d):_0x22ae34?_0x36a57a=_0x7f4b41(0x339):_0x36a57a='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x25afed=_0x572944?_0x7f4b41(0xbd4)+_0x2677ed[_0x7f4b41(0x818)]+_0x7f4b41(0x8f1):'',_0x8c0585=_0x7f4b41(0xefb)+_0x25afed+_0x7f4b41(0x956)+_0x3c949e[_0x7f4b41(0xb93)]+_0x7f4b41(0xce5)+_0x2e6f11[_0x7f4b41(0xa25)]((_0x1930c2,_0x55882d)=>{const _0x193cda=_0x7f4b41,_0x5a3c56=_0x52e6cd[_0x55882d][_0x193cda(0x85b)]>0x0?_0x52e6cd[_0x55882d][_0x193cda(0x40a)](',\x20'):_0x193cda(0xc88),_0x253af4=_0x193cda(0x256);return _0x193cda(0xe56)+_0x1930c2+_0x193cda(0xd80)+_0x253af4+_0x193cda(0x722)+_0x55882d+_0x193cda(0x6e3)+_0x3a38e0[_0x55882d]+_0x193cda(0xea1)+_0x55882d+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>'+_0x5a3c56+_0x193cda(0xcc3);})[_0x7f4b41(0x40a)]('')+_0x7f4b41(0x5ab)+_0x36a57a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x7f4b41(0x1f9)]=_0x8c0585;if(window[_0x7f4b41(0xb8c)])MathJax['typesetPromise']();if(_0x572944){const _0x517364=doc(db,_0x7f4b41(0x8a6)+appId+_0x7f4b41(0x869),currentLiveGameId);document[_0x7f4b41(0x4ff)](_0x7f4b41(0xaed))?.[_0x7f4b41(0xbe5)](_0x7f4b41(0xe61),async()=>{const _0x458714=_0x7f4b41,_0x58a23d=Object[_0x458714(0x7ee)](_0x2677ed[_0x458714(0xbd9)]||{})[_0x458714(0xa25)](_0x22db49=>({'name':_0x22db49[_0x458714(0xc44)],'score':_0x22db49['score']||0x0,'totalPoints':_0x22db49[_0x458714(0x939)]||0x0,'pointsLastRound':_0x22db49[_0x458714(0x936)]||0x0,'answers':_0x22db49[_0x458714(0xc7d)]||[]}));await updateDoc(_0x517364,{'status':_0x458714(0x411),'publicLeaderboard':_0x58a23d});}),document['getElementById']('open-sync-scratchpad-btn')?.['addEventListener']('click',()=>{openScratchpad(_0x3c949e,_0x3a38e0);}),document[_0x7f4b41(0x4ff)](_0x7f4b41(0x495))?.[_0x7f4b41(0xbe5)](_0x7f4b41(0xe61),async()=>{const _0x307e8d=_0x7f4b41,_0x3a70bb=_0x2677ed[_0x307e8d(0x70b)]+0x1;await updateDoc(_0x517364,{'status':_0x307e8d(0xb0e),'currentQuestionIndex':_0x3a70bb,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document['getElementById']('show-final-results-btn')?.['addEventListener'](_0x7f4b41(0xe61),async()=>{const _0xb7ca38=_0x7f4b41,_0x194fea=Object['values'](_0x2677ed[_0xb7ca38(0xbd9)]||{})[_0xb7ca38(0xa25)](_0x4d78e8=>({'name':_0x4d78e8['name'],'score':_0x4d78e8[_0xb7ca38(0x6e9)]||0x0,'totalPoints':_0x4d78e8[_0xb7ca38(0x939)]||0x0,'pointsLastRound':_0x4d78e8['pointsLastRound']||0x0,'answers':_0x4d78e8[_0xb7ca38(0xc7d)]||[]}));await updateDoc(_0x517364,{'status':_0xb7ca38(0x411),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x194fea});});}}function renderAnonymousStudentResultsView(_0x1c3a71){const _0x1df37f=_0x5ddd37,_0x3c3f9b=_0x1c3a71[_0x1df37f(0x70b)]>=_0x1c3a71[_0x1df37f(0x230)][_0x1df37f(0x7f9)][_0x1df37f(0x85b)]-0x1;let _0x142172='';if(_0x1c3a71[_0x1df37f(0xaf1)]===!![]){const _0x44c7c6=_0x1c3a71[_0x1df37f(0xbd9)][localTeamPlayers[0x0]],_0x3f76c2=_0x44c7c6[_0x1df37f(0xc44)],_0x60378f=_0x44c7c6[_0x1df37f(0x6e9)];_0x142172='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>'+_0x3f76c2+_0x1df37f(0xbce)+_0x60378f+_0x1df37f(0x881);}else _0x142172=_0x1df37f(0xbf2)+(_0x3c3f9b?_0x1df37f(0xb01):_0x1df37f(0x260))+_0x1df37f(0xdf1);const _0xa5774f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x142172+_0x1df37f(0xcdf);liveGameView[_0x1df37f(0x1f9)]=_0xa5774f;}async function handleShowStudentRankings(){const _0x4962fc=_0x5ddd37,_0xfcdb87=document[_0x4962fc(0xee9)]('#student-quiz-leaderboard-content\x20thead');_0xfcdb87&&(_0xfcdb87['innerHTML']=_0x4962fc(0xe94));const _0x22b7a6=document[_0x4962fc(0xee9)](_0x4962fc(0x5b1));_0x22b7a6&&(_0x22b7a6[_0x4962fc(0x1f9)]=_0x4962fc(0x7d0));const _0x150207=document[_0x4962fc(0x4ff)](_0x4962fc(0xd62));_0x150207[_0x4962fc(0xc2e)]['remove']('hidden'),document[_0x4962fc(0x4ff)]('close-student-rankings-btn')[_0x4962fc(0x66e)]=()=>_0x150207[_0x4962fc(0xc2e)]['add'](_0x4962fc(0xc89));const _0x2c826e=document[_0x4962fc(0x4ff)](_0x4962fc(0x1f3)),_0x4e1ba6=document['getElementById'](_0x4962fc(0x72f)),_0x3c43fc=document[_0x4962fc(0x4ff)](_0x4962fc(0xb40)),_0xd811cd=document[_0x4962fc(0x4ff)]('student-project-leaderboard-content');_0x2c826e[_0x4962fc(0x66e)]=()=>{const _0x38cc63=_0x4962fc;_0x2c826e[_0x38cc63(0xc2e)]['add'](_0x38cc63(0x5de)),_0x4e1ba6[_0x38cc63(0xc2e)][_0x38cc63(0x716)](_0x38cc63(0x5de)),_0x3c43fc[_0x38cc63(0xc2e)][_0x38cc63(0x716)]('hidden'),_0xd811cd[_0x38cc63(0xc2e)][_0x38cc63(0xee4)](_0x38cc63(0xc89));},_0x4e1ba6[_0x4962fc(0x66e)]=()=>{const _0x104b15=_0x4962fc;_0x4e1ba6[_0x104b15(0xc2e)][_0x104b15(0xee4)]('active'),_0x2c826e[_0x104b15(0xc2e)][_0x104b15(0x716)]('active'),_0xd811cd[_0x104b15(0xc2e)][_0x104b15(0x716)]('hidden'),_0x3c43fc[_0x104b15(0xc2e)][_0x104b15(0xee4)]('hidden');};try{const _0x22b453=collection(db,_0x4962fc(0x8a6)+appId+_0x4962fc(0x1f4)+currentQuizData['id']+_0x4962fc(0xd9b)),_0x4e9264=await getDocs(_0x22b453),_0x3fbe40=_0x4e9264[_0x4962fc(0xb91)][_0x4962fc(0xa25)](_0xac7b8b=>_0xac7b8b[_0x4962fc(0xef5)]());renderQuizLeaderboard(_0x3fbe40,currentQuizData,_0x4962fc(0xe5d));const _0x30333e=collection(db,'artifacts/'+appId+_0x4962fc(0x9c7)+currentQuizData['projectId']+_0x4962fc(0x72e)),_0x46a2af=await getDocs(_0x30333e),_0x3e0587=_0x46a2af['docs']['map'](_0x430cbd=>_0x430cbd[_0x4962fc(0xef5)]());renderLeaderboard(_0x3e0587,_0x4962fc(0x7b3));}catch(_0xd6c82){console[_0x4962fc(0x34c)](_0x4962fc(0xa73),_0xd6c82),showMessage(_0x4962fc(0x544));}}async function handleSaveToBank(_0x56917d){const _0x5a6a98=_0x5ddd37,_0x2facd1=_0x56917d[_0x5a6a98(0xa11)],_0x3d4bf6=_0x2facd1[_0x5a6a98(0x664)][_0x5a6a98(0xdbf)],_0x5d2e2b=currentQuizData[_0x5a6a98(0x7f9)][_0x3d4bf6];if(!userId){showMessage(_0x5a6a98(0xb2c));return;}try{const _0x3a76ce={..._0x5d2e2b,'originalTopic':currentQuizData[_0x5a6a98(0xe77)],'savedAt':serverTimestamp()},_0x923daa=collection(db,_0x5a6a98(0x8a6)+appId+'/users/'+userId+_0x5a6a98(0x41b));await addDoc(_0x923daa,_0x3a76ce),showMessage(_0x5a6a98(0x9fe)),_0x2facd1[_0x5a6a98(0xc2e)][_0x5a6a98(0x716)](_0x5a6a98(0xdfd)),_0x2facd1[_0x5a6a98(0xc2e)]['add'](_0x5a6a98(0xa81)),_0x2facd1[_0x5a6a98(0x206)]=!![];}catch(_0xb4efdf){console['error'](_0x5a6a98(0x76d),_0xb4efdf),showMessage(_0x5a6a98(0x315));}}async function selectProjectAndGenerateBlueprintQuiz(_0x12aa23,_0x42adfa=null,_0x516c98=null,_0x328fa4=![]){const _0x4e31d0=_0x5ddd37;cameFromBlueprint=!![];const _0x27d54b=document[_0x4e31d0(0x4ff)]('bp-reference-file-url')?.[_0x4e31d0(0x717)]['trim']();let _0x51a8b1=null;if(_0x27d54b){showMessage(_0x4e31d0(0x3c5));try{const _0x2d848e=await fetchFileFromUrl(_0x27d54b,_0x4e31d0(0x91c)),_0x108fbb=await new Promise((_0x1756d9,_0x2e5e13)=>{const _0x81b997=_0x4e31d0,_0x22b0f1=new FileReader();_0x22b0f1[_0x81b997(0x817)](_0x2d848e),_0x22b0f1['onload']=()=>_0x1756d9(_0x22b0f1[_0x81b997(0x41f)]['split'](',')[0x1]),_0x22b0f1[_0x81b997(0x80d)]=_0x2e5e13;});_0x51a8b1=[{'inlineData':{'mimeType':_0x2d848e[_0x4e31d0(0x4f5)],'data':_0x108fbb}}],messageModal[_0x4e31d0(0xc2e)][_0x4e31d0(0xee4)](_0x4e31d0(0xc89));}catch(_0x2e8169){console['error']('Could\x20not\x20fetch\x20reference\x20file:',_0x2e8169),showMessage(_0x4e31d0(0x587));}}const _0xfa7dc8=document['getElementById'](_0x4e31d0(0xcfb)),_0x1834d5=document[_0x4e31d0(0x4ff)](_0x4e31d0(0xddc)),_0x443466=_0xfa7dc8[_0x4e31d0(0xee9)]('h3'),_0x29bdb9=document[_0x4e31d0(0x4ff)](_0x4e31d0(0xbda)),_0x52709f=document['getElementById']('cancel-move-quiz-btn');_0x443466[_0x4e31d0(0x602)]=_0x4e31d0(0x998),_0x29bdb9['textContent']=_0x4e31d0(0xdcd),_0x29bdb9[_0x4e31d0(0x206)]=!![];allProjects[_0x4e31d0(0x85b)]===0x0?_0x1834d5[_0x4e31d0(0x1f9)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x1834d5['innerHTML']=_0x4e31d0(0x9f2)+allProjects['map'](_0x3c85ef=>_0x4e31d0(0x33e)+_0x3c85ef['id']+'\x22>'+_0x3c85ef[_0x4e31d0(0x981)]+_0x4e31d0(0x999))['join'](''),_0x29bdb9['disabled']=![]);_0xfa7dc8[_0x4e31d0(0xc2e)][_0x4e31d0(0x716)](_0x4e31d0(0xc89));const _0x5c4825=async()=>{const _0x4d36ca=_0x4e31d0,_0x319cd8=_0x1834d5[_0x4d36ca(0x717)];if(!_0x319cd8){showMessage(_0x4d36ca(0x9d6));return;}_0xfa7dc8[_0x4d36ca(0xc2e)]['add'](_0x4d36ca(0xc89)),document['getElementById']('blueprint-project-manager-view')[_0x4d36ca(0xc2e)]['add'](_0x4d36ca(0xc89)),await loadProjectDetails(_0x319cd8),showView(_0x4d36ca(0xdf0)),handleGenerateQuizFromBlueprintTopic(_0x12aa23,_0x42adfa,_0x319cd8,_0x516c98,_0x328fa4,_0x51a8b1),_0xc874e7();},_0xc874e7=()=>{const _0x31b9ab=_0x4e31d0;_0x443466[_0x31b9ab(0x602)]=_0x31b9ab(0x66f),_0x29bdb9[_0x31b9ab(0x602)]=_0x31b9ab(0x259),_0x29bdb9['removeEventListener'](_0x31b9ab(0xe61),_0x5c4825),_0x52709f[_0x31b9ab(0x442)](_0x31b9ab(0xe61),_0xc874e7),_0x29bdb9['addEventListener'](_0x31b9ab(0xe61),confirmMoveQuiz);};_0x29bdb9[_0x4e31d0(0x442)](_0x4e31d0(0xe61),confirmMoveQuiz),_0x29bdb9['addEventListener'](_0x4e31d0(0xe61),_0x5c4825),_0x52709f[_0x4e31d0(0xbe5)](_0x4e31d0(0xe61),_0xc874e7);}function listenForStarredQuizzes(){const _0x2bde73=_0x5ddd37;if(!userId)return;const _0x44f038=collection(db,_0x2bde73(0x8a6)+appId+_0x2bde73(0xad5)),_0x460bc9=query(_0x44f038,where(_0x2bde73(0x204),'==',!![]));onSnapshot(_0x460bc9,_0x308215=>{const _0x5e6cb9=_0x2bde73;starredQuizzes=_0x308215[_0x5e6cb9(0xb91)]['map'](_0x5f443d=>({'id':_0x5f443d['id'],..._0x5f443d[_0x5e6cb9(0xef5)]()})),currentProjectId===_0x5e6cb9(0x3bc)?renderQuizzes():renderProjects();},_0x36ebf9=>{const _0x4cd8c5=_0x2bde73;console[_0x4cd8c5(0x34c)](_0x4cd8c5(0xe02),_0x36ebf9);});}function listenForFileShortcuts(){const _0x250a64=_0x5ddd37,_0x275869=doc(db,_0x250a64(0x6c4),'fileShortcutsConfig');onSnapshot(_0x275869,_0x4524d3=>{const _0x2a3072=_0x250a64;let _0x18c413=[],_0x1f7d7e=[],_0x199113={};if(_0x4524d3[_0x2a3072(0x8d2)]()){const _0x37a906=_0x4524d3[_0x2a3072(0xef5)]();_0x18c413=_0x37a906[_0x2a3072(0x566)]||[],_0x1f7d7e=_0x37a906['fileShortcutTabs']||[],_0x199113=_0x37a906['fileShortcutOrder']||{};}!_0x1f7d7e['find'](_0x11c3e7=>_0x11c3e7['id']==='all')&&_0x1f7d7e[_0x2a3072(0x3a9)]({'id':'all','name':_0x2a3072(0x2fe),'isDefault':!![]}),!_0x18c413[_0x2a3072(0xe0f)](_0x17a60e=>_0x17a60e['id']===_0x2a3072(0xe11))&&_0x18c413[_0x2a3072(0x3a9)]({'id':_0x2a3072(0xe11),'name':_0x2a3072(0x8b9),'url':'','isDefault':!![]}),!_0x18c413[_0x2a3072(0xe0f)](_0x1df8a8=>_0x1df8a8['id']===_0x2a3072(0x86a))&&_0x18c413[_0x2a3072(0x3a9)]({'id':_0x2a3072(0x86a),'name':_0x2a3072(0xbe8),'url':'','isDefault':!![]}),fileShortcuts=_0x18c413,fileShortcutTabs=_0x1f7d7e,fileShortcutOrder=_0x199113,renderFileShortcuts(),!document[_0x2a3072(0x4ff)](_0x2a3072(0x283))[_0x2a3072(0xc2e)]['contains'](_0x2a3072(0xc89))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x57e6f0=_0x5ddd37,_0x3f950b=doc(db,_0x57e6f0(0x6c4),_0x57e6f0(0x847));try{await setDoc(_0x3f950b,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x30ce36){console[_0x57e6f0(0x34c)](_0x57e6f0(0x84e),_0x30ce36);}}function renderAdditionalFileShortcutsModal(){const _0x570fcf=_0x5ddd37,_0x486806=document['getElementById'](_0x570fcf(0x84f)),_0x1663c9=document[_0x570fcf(0x4ff)](_0x570fcf(0x6c0));if(!_0x486806||!_0x1663c9)return;_0x486806[_0x570fcf(0x1f9)]=fileShortcutTabs[_0x570fcf(0xa25)](_0x2ed2f7=>{const _0x26202a=_0x570fcf,_0x21d884=_0x2ed2f7['id']===activeFileShortcutTabId;return _0x26202a(0x291)+_0x2ed2f7['id']+_0x26202a(0x241)+(_0x21d884?'border-indigo-500\x20text-indigo-600':_0x26202a(0x385))+_0x26202a(0x86e)+_0x2ed2f7[_0x26202a(0xc44)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x2ed2f7['name']+_0x26202a(0xdd1)+(!_0x2ed2f7[_0x26202a(0xc74)]?_0x26202a(0xea8)+_0x2ed2f7['id']+_0x26202a(0x8c0):'')+_0x26202a(0x731);})[_0x570fcf(0x40a)]('');const _0x17b649=fileShortcutTabs[_0x570fcf(0xe0f)](_0x5eec56=>_0x5eec56['id']===activeFileShortcutTabId);let _0x3e00a1=_0x17b649?.[_0x570fcf(0xc74)]?[...fileShortcuts]:fileShortcuts[_0x570fcf(0xd8d)](_0x5dca6b=>(_0x17b649?.[_0x570fcf(0xc0a)]||[])['includes'](_0x5dca6b['id']));const _0x57d605=fileShortcutOrder[activeFileShortcutTabId]||[];_0x3e00a1[_0x570fcf(0x23c)]((_0x13c46a,_0x2b97be)=>{const _0x5612da=_0x570fcf,_0x139e52=_0x57d605[_0x5612da(0x343)](_0x13c46a['id']),_0x3a4d9e=_0x57d605[_0x5612da(0x343)](_0x2b97be['id']);return(_0x139e52===-0x1?Infinity:_0x139e52)-(_0x3a4d9e===-0x1?Infinity:_0x3a4d9e);}),_0x1663c9[_0x570fcf(0x1f9)]=_0x3e00a1[_0x570fcf(0xa25)](_0x44ab04=>{const _0x5ee01f=_0x570fcf,_0x4757c1=_0x44ab04['url']?'📄':'🔗',_0x186e06=fileShortcutTabs[_0x5ee01f(0xd8d)](_0x9c3a37=>!_0x9c3a37[_0x5ee01f(0xc74)]),_0x2d972a=_0x17b649[_0x5ee01f(0xc74)]&&_0x186e06[_0x5ee01f(0x85b)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x186e06['map'](_0x3e78d4=>_0x5ee01f(0x4ac)+_0x44ab04['id']+_0x5ee01f(0x61e)+_0x3e78d4['id']+'\x22>'+_0x3e78d4['name']+_0x5ee01f(0x4d0))[_0x5ee01f(0x40a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x5ee01f(0x862)+_0x44ab04['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x4757c1+'\x20'+_0x44ab04['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x44ab04['id']+_0x5ee01f(0x8b2)+_0x44ab04['id']+_0x5ee01f(0xe5f)+(!_0x44ab04[_0x5ee01f(0xc74)]?'<button\x20data-id=\x22'+_0x44ab04['id']+_0x5ee01f(0x384):'')+_0x5ee01f(0x733)+(!_0x17b649[_0x5ee01f(0xc74)]?_0x5ee01f(0x7ec)+_0x44ab04['id']+_0x5ee01f(0xe93):'')+_0x5ee01f(0x733)+_0x2d972a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x570fcf(0x40a)]('')||_0x570fcf(0xc5e),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x3a66bf=_0x5ddd37;document[_0x3a66bf(0xe1c)](_0x3a66bf(0xa59))[_0x3a66bf(0x23a)](_0x3bf5b6=>{const _0x32e594=_0x3a66bf;_0x3bf5b6[_0x32e594(0x66e)]=_0x45464d=>{const _0x38a491=_0x32e594;activeFileShortcutTabId=_0x45464d['currentTarget'][_0x38a491(0x664)]['tabId'],renderAdditionalFileShortcutsModal();},_0x3bf5b6[_0x32e594(0xd5b)]=_0x1ac77f=>{const _0xc79d64=_0x32e594,_0x1cd356=_0x1ac77f['currentTarget'][_0xc79d64(0xee9)](_0xc79d64(0x3d3));_0x1ac77f[_0xc79d64(0xa11)][_0xc79d64(0xee9)](_0xc79d64(0xcf6))[_0xc79d64(0xc2e)]['add'](_0xc79d64(0xc89)),_0x1cd356[_0xc79d64(0xc2e)][_0xc79d64(0x716)](_0xc79d64(0xc89)),_0x1cd356[_0xc79d64(0x7ff)](),_0x1cd356[_0xc79d64(0x700)]();};}),document[_0x3a66bf(0xe1c)](_0x3a66bf(0xb56))[_0x3a66bf(0x23a)](_0x1ba47f=>{const _0x4b5488=_0x3a66bf,_0x1a7bed=()=>{const _0x545d4d=_0x2785,_0x595b99=_0x1ba47f[_0x545d4d(0x7c4)]('.file-shortcut-tab-btn')[_0x545d4d(0x664)]['tabId'],_0x118f19=fileShortcutTabs[_0x545d4d(0xe0f)](_0x2170c7=>_0x2170c7['id']===_0x595b99);_0x118f19&&(_0x118f19['name']=_0x1ba47f[_0x545d4d(0x717)]['trim']()||_0x118f19[_0x545d4d(0xc44)],saveFileShortcutConfig());};_0x1ba47f['onblur']=_0x1a7bed,_0x1ba47f[_0x4b5488(0x52c)]=_0x286329=>{const _0xe0144f=_0x4b5488;if(_0x286329['key']===_0xe0144f(0x6c8))_0x1ba47f['blur']();};}),document[_0x3a66bf(0xe1c)](_0x3a66bf(0xacf))[_0x3a66bf(0x23a)](_0x2e0c66=>_0x2e0c66[_0x3a66bf(0x66e)]=_0xb90107=>{const _0x59ebd7=_0x3a66bf,_0x266cf6=_0xb90107[_0x59ebd7(0xa11)][_0x59ebd7(0x664)][_0x59ebd7(0xa58)];showConfirmation(_0x59ebd7(0x477),()=>{const _0x258d60=_0x59ebd7;fileShortcutTabs=fileShortcutTabs['filter'](_0x334a46=>_0x334a46['id']!==_0x266cf6),delete fileShortcutOrder[_0x266cf6];if(activeFileShortcutTabId===_0x266cf6)activeFileShortcutTabId=_0x258d60(0xa6b);saveFileShortcutConfig();});}),document[_0x3a66bf(0xe1c)]('.move-file-shortcut-item')[_0x3a66bf(0x23a)](_0x585a0e=>_0x585a0e[_0x3a66bf(0x66e)]=_0x549c2a=>{const _0x2513a3=_0x3a66bf;_0x549c2a['preventDefault']();const {shortcutId:_0x202bcc,targetTabId:_0x30cd25}=_0x549c2a[_0x2513a3(0xa11)][_0x2513a3(0x664)],_0x87a4b3=fileShortcutTabs[_0x2513a3(0xe0f)](_0x1281ac=>_0x1281ac['id']===_0x30cd25);_0x87a4b3&&!_0x87a4b3[_0x2513a3(0xc0a)][_0x2513a3(0xdf4)](_0x202bcc)&&(_0x87a4b3[_0x2513a3(0xc0a)][_0x2513a3(0xb2a)](_0x202bcc),saveFileShortcutConfig());}),document[_0x3a66bf(0xe1c)](_0x3a66bf(0xf05))['forEach'](_0x439e48=>_0x439e48[_0x3a66bf(0x66e)]=_0x1badab=>{const _0x427db4=_0x3a66bf,_0x25f655=_0x1badab[_0x427db4(0xa11)][_0x427db4(0x664)]['shortcutId'],_0x17ae74=fileShortcutTabs[_0x427db4(0xe0f)](_0x3e59ce=>_0x3e59ce['id']===activeFileShortcutTabId);_0x17ae74&&!_0x17ae74[_0x427db4(0xc74)]&&(_0x17ae74[_0x427db4(0xc0a)]=_0x17ae74[_0x427db4(0xc0a)][_0x427db4(0xd8d)](_0x42e6da=>_0x42e6da!==_0x25f655),saveFileShortcutConfig());}),document[_0x3a66bf(0xe1c)]('.move-file-shortcut-menu-btn')[_0x3a66bf(0x23a)](_0x5e436c=>_0x5e436c[_0x3a66bf(0x66e)]=_0x265b58=>{const _0x39b90a=_0x3a66bf;_0x265b58[_0x39b90a(0xf0a)]();const _0x53ed20=_0x265b58[_0x39b90a(0xa11)][_0x39b90a(0x508)];document[_0x39b90a(0xe1c)](_0x39b90a(0xc26))['forEach'](_0x1a9d14=>_0x1a9d14[_0x39b90a(0xc2e)][_0x39b90a(0xee4)]('hidden')),_0x53ed20[_0x39b90a(0xc2e)]['remove'](_0x39b90a(0xc89));});const _0x1a0005=document[_0x3a66bf(0x4ff)]('additional-file-shortcuts-list');let _0x10ec32=null;_0x1a0005[_0x3a66bf(0xa06)]=_0x412581=>{const _0x321fc1=_0x3a66bf;_0x10ec32=_0x412581[_0x321fc1(0x2b8)][_0x321fc1(0x7c4)]('.shortcut-list-item');if(_0x10ec32)setTimeout(()=>_0x10ec32[_0x321fc1(0xc2e)][_0x321fc1(0xee4)]('opacity-50'),0x0);},_0x1a0005[_0x3a66bf(0xa92)]=()=>{const _0x5d819e=_0x3a66bf;_0x10ec32&&(_0x10ec32[_0x5d819e(0xc2e)][_0x5d819e(0x716)](_0x5d819e(0xe90)),_0x10ec32=null);},_0x1a0005[_0x3a66bf(0x334)]=_0x342ae8=>{const _0x400aa0=_0x3a66bf;_0x342ae8[_0x400aa0(0xcbd)]();},_0x1a0005[_0x3a66bf(0xd8f)]=_0x5247ca=>{const _0xc59eed=_0x3a66bf;_0x5247ca['preventDefault']();if(_0x10ec32){const _0x47995d=[..._0x1a0005[_0xc59eed(0xe1c)](_0xc59eed(0x83b))][_0xc59eed(0xc2a)]((_0x2fd338,_0x8ef1f5)=>{const _0xe0b18d=_0xc59eed,_0x21bbac=_0x8ef1f5[_0xe0b18d(0xb4a)](),_0x49228e=_0x5247ca[_0xe0b18d(0xe8a)]-_0x21bbac[_0xe0b18d(0x6e1)]-_0x21bbac[_0xe0b18d(0xd12)]/0x2;return _0x49228e<0x0&&_0x49228e>_0x2fd338[_0xe0b18d(0xa01)]?{'offset':_0x49228e,'element':_0x8ef1f5}:_0x2fd338;},{'offset':Number[_0xc59eed(0xc49)]})[_0xc59eed(0xd31)];_0x47995d==null?_0x1a0005[_0xc59eed(0x4a7)](_0x10ec32):_0x1a0005[_0xc59eed(0x4d1)](_0x10ec32,_0x47995d);const _0xbc0896=[..._0x1a0005[_0xc59eed(0xe1c)](_0xc59eed(0x607))][_0xc59eed(0xa25)](_0x39c91d=>_0x39c91d[_0xc59eed(0x664)][_0xc59eed(0xcce)]);fileShortcutOrder[activeFileShortcutTabId]=_0xbc0896,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0xf6ab86=_0x5ddd37,_0x20a0c1=prompt(_0xf6ab86(0x69c),'แท็บใหม่');_0x20a0c1&&_0x20a0c1['trim']()&&(fileShortcutTabs[_0xf6ab86(0xb2a)]({'id':_0xf6ab86(0xbbd)+Date[_0xf6ab86(0x599)](),'name':_0x20a0c1[_0xf6ab86(0x26c)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x32ddfa=_0x5ddd37,_0x1452a7=document[_0x32ddfa(0x4ff)]('file-shortcut-container'),_0x2959d5=document[_0x32ddfa(0x4ff)](_0x32ddfa(0x6c0)),_0x667755=document[_0x32ddfa(0x4ff)](_0x32ddfa(0x3da));if(_0x667755)_0x667755[_0x32ddfa(0xc2e)][_0x32ddfa(0xee4)](_0x32ddfa(0xc89));if(!_0x1452a7||!_0x2959d5)return;const _0x1a221d=fileShortcuts[_0x32ddfa(0x507)](0x0,0x4),_0x2f5bfd=fileShortcuts[_0x32ddfa(0x507)](0x4);_0x1452a7[_0x32ddfa(0x1f9)]=_0x1a221d[_0x32ddfa(0xa25)](_0x349c96=>{const _0x4e060d=_0x32ddfa,_0x1e197d=_0x349c96['url']&&_0x349c96[_0x4e060d(0x591)][_0x4e060d(0x26c)]()!=='',_0x5d692b=selectedFile&&selectedFile['shortcutId']===_0x349c96['id'];let _0x2f0ba0=_0x4e060d(0xd7b),_0xd69e28='🔗';if(_0x5d692b)_0x2f0ba0=_0x4e060d(0x63a),_0xd69e28=_0x4e060d(0x7e1);else _0x1e197d&&(_0x2f0ba0=_0x4e060d(0xdaf),_0xd69e28='📄');const _0x4ef55b=!_0x349c96['isDefault']?_0x4e060d(0xafc)+_0x349c96['id']+_0x4e060d(0x35d):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x349c96['id']+_0x4e060d(0x266)+_0x2f0ba0+_0x4e060d(0x424)+_0xd69e28+_0x4e060d(0x30e)+_0x349c96[_0x4e060d(0xc44)]+_0x4e060d(0x3f6)+_0x349c96['id']+_0x4e060d(0x407)+_0x4ef55b+_0x4e060d(0xd7e);})[_0x32ddfa(0x40a)](''),_0x2f5bfd[_0x32ddfa(0x85b)]>0x0&&(_0x1452a7[_0x32ddfa(0x1f9)]+=_0x32ddfa(0x26b)),_0x2f5bfd[_0x32ddfa(0x85b)]>0x0?_0x2959d5[_0x32ddfa(0x1f9)]=_0x2f5bfd['map'](_0x17e6df=>_0x32ddfa(0x6ea)+(_0x17e6df[_0x32ddfa(0x591)]?'📄':'🔗')+'\x20'+_0x17e6df[_0x32ddfa(0xc44)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x17e6df['id']+_0x32ddfa(0xeea)+_0x17e6df['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x17e6df[_0x32ddfa(0xc74)]?_0x32ddfa(0xafc)+_0x17e6df['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x32ddfa(0x350))[_0x32ddfa(0x40a)](''):_0x2959d5[_0x32ddfa(0x1f9)]=_0x32ddfa(0x2e9);}function openFileShortcutEditor(_0x1573a0=null){const _0x224d47=_0x5ddd37,_0x7c2a14=document['getElementById'](_0x224d47(0x8da)),_0x5d0408=document[_0x224d47(0x4ff)]('file-shortcut-modal-title'),_0xf24f98=document[_0x224d47(0x4ff)](_0x224d47(0x41c)),_0x2444fe=document[_0x224d47(0x4ff)](_0x224d47(0x955)),_0x196afa=document[_0x224d47(0x4ff)]('file-shortcut-url-input');if(_0x1573a0){const _0x560af2=fileShortcuts['find'](_0xd353ca=>_0xd353ca['id']===_0x1573a0);if(!_0x560af2)return;_0x5d0408['textContent']=_0x224d47(0xb7c),_0xf24f98[_0x224d47(0x717)]=_0x560af2['id'],_0x2444fe[_0x224d47(0x717)]=_0x560af2[_0x224d47(0xc44)],_0x196afa[_0x224d47(0x717)]=_0x560af2['url']||'';}else _0x5d0408[_0x224d47(0x602)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0xf24f98[_0x224d47(0x717)]='',_0x2444fe['value']='',_0x196afa[_0x224d47(0x717)]='';_0x7c2a14[_0x224d47(0xc2e)][_0x224d47(0x716)]('hidden');}async function saveFileShortcutChanges(){const _0xdbe47e=_0x5ddd37,_0x3ddec8=document[_0xdbe47e(0x4ff)]('file-shortcut-id-input')['value'],_0x53a7d9=document[_0xdbe47e(0x4ff)]('file-shortcut-name-input')[_0xdbe47e(0x717)]['trim'](),_0x459810=document['getElementById'](_0xdbe47e(0xbf4))[_0xdbe47e(0x717)][_0xdbe47e(0x26c)]();if(!_0x53a7d9){showMessage(_0xdbe47e(0x9a3));return;}const _0x117967={'id':_0x3ddec8||'file-shortcut_'+Date[_0xdbe47e(0x599)](),'name':_0x53a7d9,'url':_0x459810,'isDefault':_0x3ddec8[_0xdbe47e(0x64d)](_0xdbe47e(0xbdc))};let _0x11d0bd;_0x3ddec8?_0x11d0bd=fileShortcuts[_0xdbe47e(0xa25)](_0x389766=>_0x389766['id']===_0x3ddec8?_0x117967:_0x389766):_0x11d0bd=[...fileShortcuts,_0x117967];try{const _0x5ec10=doc(db,_0xdbe47e(0x6c4),_0xdbe47e(0x847));await setDoc(_0x5ec10,{'shortcuts':_0x11d0bd},{'merge':!![]}),document[_0xdbe47e(0x4ff)](_0xdbe47e(0x8da))['classList'][_0xdbe47e(0xee4)](_0xdbe47e(0xc89));}catch(_0x417a53){console[_0xdbe47e(0x34c)](_0xdbe47e(0x97e),_0x417a53),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x1f9340){const _0x16227d=_0x5ddd37,_0x4c0ffd=fileShortcuts['find'](_0x423971=>_0x423971['id']===_0x1f9340);if(!_0x4c0ffd)return;if(!_0x4c0ffd[_0x16227d(0x591)]||_0x4c0ffd[_0x16227d(0x591)][_0x16227d(0x26c)]()===''){openFileShortcutEditor(_0x1f9340);return;}const _0x15be57=document['querySelector'](_0x16227d(0x774)+_0x1f9340+'\x22]');if(_0x15be57){const _0xa3b33e=_0x15be57['innerHTML'];_0x15be57[_0x16227d(0x1f9)]=_0x16227d(0x8d6),_0x15be57[_0x16227d(0x206)]=!![];}document[_0x16227d(0xe1c)](_0x16227d(0x432))['forEach'](_0x13ae6c=>{const _0x287dc9=_0x16227d;if(_0x13ae6c[_0x287dc9(0x664)]['id']!==_0x1f9340)_0x13ae6c[_0x287dc9(0xc2e)][_0x287dc9(0xee4)]('opacity-50',_0x287dc9(0x65f));});try{const _0x36e866=new URL(_0x4c0ffd[_0x16227d(0x591)])[_0x16227d(0xbf8)],_0xd1b6a5=_0x36e866['substring'](_0x36e866[_0x16227d(0x545)]('/')+0x1)||(_0x4c0ffd['url'][_0x16227d(0xdf4)]('.txt')?'file.txt':_0x16227d(0x7a4)),_0x580d32=await fetchFileFromUrl(_0x4c0ffd[_0x16227d(0x591)],_0xd1b6a5);_0x580d32[_0x16227d(0xcce)]=_0x1f9340,selectedFile=_0x580d32,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x16227d(0x4ff)](_0x16227d(0xebe))[_0x16227d(0xa3a)]({'behavior':_0x16227d(0x9b1),'block':_0x16227d(0xc72)});}catch(_0xc47419){console['error']('Error\x20processing\x20file\x20shortcut\x20click:',_0xc47419),showMessage(_0x16227d(0xbae)+_0xc47419[_0x16227d(0x541)]),renderFileShortcuts();}finally{document[_0x16227d(0xe1c)](_0x16227d(0x432))['forEach'](_0x165ec9=>{const _0x680c56=_0x16227d;_0x165ec9[_0x680c56(0xc2e)][_0x680c56(0x716)]('opacity-50',_0x680c56(0x65f)),_0x165ec9['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x55ba86=_0x5ddd37;if(allQuizzesGlobal[_0x55ba86(0x85b)]>0x0)return;console['log']('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x55ba86(0x281));try{const _0x2dadf4=await getDocs(collection(db,_0x55ba86(0x8a6)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2dadf4[_0x55ba86(0xb91)][_0x55ba86(0xa25)](_0x249b29=>({'id':_0x249b29['id'],..._0x249b29[_0x55ba86(0xef5)]()})),console[_0x55ba86(0x674)](_0x55ba86(0x498)+allQuizzesGlobal['length']+_0x55ba86(0x47c)),messageModal[_0x55ba86(0xc2e)][_0x55ba86(0xee4)](_0x55ba86(0xc89));}catch(_0x1c9e97){console[_0x55ba86(0x34c)](_0x55ba86(0x879),_0x1c9e97),messageModal[_0x55ba86(0xc2e)][_0x55ba86(0xee4)](_0x55ba86(0xc89));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x2967e4=_0x5ddd37;if(!currentQuizData||!currentQuizData[_0x2967e4(0x7f9)]){showMessage(_0x2967e4(0xe95));return;}const _0x3545ea=currentQuizData,_0x28a9c6=window['open']('',_0x2967e4(0x27d)),_0x4100e5=_0x3eb968=>String[_0x2967e4(0x9c8)](0x41+_0x3eb968),_0x259015=_0x2967e4(0x3d2)+_0x3545ea[_0x2967e4(0xe77)]+_0x2967e4(0xac3)+_0x3545ea[_0x2967e4(0xe77)]+_0x2967e4(0x77b)+_0x3545ea['questions'][_0x2967e4(0xa25)]((_0x51d8b5,_0x41651a)=>{const _0x46877a=_0x2967e4;let _0x1349ef='';const _0x2bafd2=_0x51d8b5[_0x46877a(0x278)]||_0x3545ea[_0x46877a(0xa9d)];switch(_0x2bafd2){case _0x46877a(0xf0e):case'fill_in_with_choices':_0x1349ef=_0x46877a(0x37a)+_0x51d8b5[_0x46877a(0x4ad)][_0x46877a(0xa25)]((_0x4efb5c,_0x391e29)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4100e5(_0x391e29)+'.\x20'+_0x4efb5c+_0x46877a(0x43e))['join'](_0x46877a(0x471))+_0x46877a(0x629);break;case'true_false':_0x1349ef=_0x46877a(0xd6a);break;default:_0x1349ef=_0x46877a(0xe40);break;}return _0x46877a(0xe3d)+(_0x41651a+0x1)+_0x46877a(0x552)+(_0x51d8b5['stem']||_0x51d8b5[_0x46877a(0xb93)])+_0x46877a(0x771)+(_0x51d8b5[_0x46877a(0xa18)]?_0x46877a(0xd20)+_0x51d8b5['imageCode']+_0x46877a(0x629):'')+_0x46877a(0x247)+_0x1349ef+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2967e4(0x40a)]('')+_0x2967e4(0x650);_0x28a9c6[_0x2967e4(0x6ff)][_0x2967e4(0x5c9)](_0x259015),_0x28a9c6[_0x2967e4(0x6ff)][_0x2967e4(0xd57)](),_0x28a9c6[_0x2967e4(0x312)]=function(){setTimeout(()=>{const _0x36f33c=_0x2785;_0x28a9c6[_0x36f33c(0x3e9)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1ac79f=_0x5ddd37;if(!currentQuizData||!currentQuizData[_0x1ac79f(0x7f9)]){showMessage(_0x1ac79f(0xe95));return;}const _0x471b01=currentQuizData,_0x50668f=window['open']('','_blank'),_0x5b6f47=_0x25002d=>String['fromCharCode'](0x41+_0x25002d),_0x411ebb=_0x1ac79f(0xc7e)+_0x471b01['topic']+_0x1ac79f(0xe7d)+_0x471b01[_0x1ac79f(0x7f9)][_0x1ac79f(0xa25)]((_0x306bef,_0x4668d9)=>{const _0x38dcf4=_0x1ac79f;let _0x3c2d8d='';const _0x44f82c=_0x306bef[_0x38dcf4(0x278)]||_0x471b01[_0x38dcf4(0xa9d)];switch(_0x44f82c){case _0x38dcf4(0xf0e):case'fill_in_with_choices':_0x3c2d8d=_0x38dcf4(0xb85)+_0x306bef[_0x38dcf4(0x4ad)]['map']((_0x24817a,_0x24d8b4)=>_0x38dcf4(0xe63)+_0x5b6f47(_0x24d8b4)+'.\x20'+_0x24817a+_0x38dcf4(0x2b9))[_0x38dcf4(0x40a)]('<br>')+_0x38dcf4(0x50a);break;case _0x38dcf4(0xed0):_0x3c2d8d=_0x38dcf4(0x526);break;default:_0x3c2d8d='';break;}return _0x38dcf4(0x68a)+_0x471b01['topic']+_0x38dcf4(0x747)+(_0x4668d9+0x1)+_0x38dcf4(0xe32)+(_0x306bef['stem']||_0x306bef[_0x38dcf4(0xb93)])+_0x38dcf4(0x771)+(_0x306bef[_0x38dcf4(0xa18)]?_0x38dcf4(0x2fb)+_0x306bef[_0x38dcf4(0xa18)]+_0x38dcf4(0x629):'')+_0x38dcf4(0x247)+_0x3c2d8d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1ac79f(0x40a)]('')+_0x1ac79f(0xbf3);_0x50668f['document']['write'](_0x411ebb),_0x50668f[_0x1ac79f(0x6ff)][_0x1ac79f(0xd57)](),_0x50668f[_0x1ac79f(0x312)]=function(){setTimeout(()=>{_0x50668f['print']();},0x5dc);};}async function handleToggleStarQuiz(_0xd3316){const _0x2fbe2e=_0x5ddd37,_0x50bcee=doc(db,_0x2fbe2e(0x8a6)+appId+_0x2fbe2e(0xad5),_0xd3316);try{const _0x23f58f=await getDoc(_0x50bcee);if(_0x23f58f[_0x2fbe2e(0x8d2)]()){const _0x3c4a46=_0x23f58f[_0x2fbe2e(0xef5)]()[_0x2fbe2e(0x204)]||![];await updateDoc(_0x50bcee,{'isStarred':!_0x3c4a46});}}catch(_0x49752a){console[_0x2fbe2e(0x34c)](_0x2fbe2e(0x7f8),_0x49752a),showMessage(_0x2fbe2e(0xebc));}}async function displayQuestionBank(){const _0x6b7f18=_0x5ddd37,_0x5546ad=document[_0x6b7f18(0x4ff)](_0x6b7f18(0x5f8));_0x5546ad[_0x6b7f18(0x1f9)]=_0x6b7f18(0x811);try{const _0x1851c8=collection(db,_0x6b7f18(0x8a6)+appId+_0x6b7f18(0xd76)+userId+_0x6b7f18(0x41b)),_0x1c4384=query(_0x1851c8),_0xac9a10=await getDocs(_0x1c4384);if(_0xac9a10[_0x6b7f18(0xb18)]){_0x5546ad[_0x6b7f18(0x1f9)]=_0x6b7f18(0x746);return;}let _0x347ee5=_0xac9a10[_0x6b7f18(0xb91)]['map'](_0x535f00=>{const _0x39f48f=_0x6b7f18,_0x2518a9=_0x535f00[_0x39f48f(0xef5)](),_0x328db7=_0x535f00['id'];return _0x39f48f(0x518)+JSON['stringify'](_0x2518a9)+_0x39f48f(0xc03)+(_0x2518a9['questionText']||_0x2518a9[_0x39f48f(0x692)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x2518a9[_0x39f48f(0xe57)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x6b7f18(0x40a)]('');_0x5546ad[_0x6b7f18(0x1f9)]=_0x6b7f18(0xa61)+_0x347ee5+_0x6b7f18(0x4e0),document[_0x6b7f18(0x4ff)](_0x6b7f18(0x633))[_0x6b7f18(0xbe5)](_0x6b7f18(0xe61),createQuizFromBank);}catch(_0x1dd3f3){console['error'](_0x6b7f18(0xcd7),_0x1dd3f3),_0x5546ad['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x3344e4=_0x5ddd37,_0x3f4e14=document[_0x3344e4(0x4ff)]('lesson-sections-container'),_0x3f7509=document['getElementById'](_0x3344e4(0xd56))[_0x3344e4(0x602)]||_0x3344e4(0x92a);if(!_0x3f4e14){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x390a49=window['open']('',_0x3344e4(0x27d)),_0xd588b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x3f7509+_0x3344e4(0xe39)+_0x3f7509+_0x3344e4(0x70c)+_0x3f4e14[_0x3344e4(0x1f9)]+_0x3344e4(0x650);_0x390a49[_0x3344e4(0x6ff)][_0x3344e4(0x5c9)](_0xd588b2),_0x390a49['document'][_0x3344e4(0xd57)](),_0x390a49['onload']=function(){setTimeout(()=>{const _0x2d2420=_0x2785;_0x390a49[_0x2d2420(0x3e9)]();},0x7d0);};}function showAdminLiveQuestionView(_0x262f22,_0x1a6c99,_0x34dfcf){const _0x557c52=_0x5ddd37,_0x2eba51=_0x262f22[_0x557c52(0x278)]||currentQuizData[_0x557c52(0xa9d)];let _0x5ead47='';if(_0x2eba51===_0x557c52(0xf0e)||_0x2eba51===_0x557c52(0xed0)){const _0x1409ad=_0x2eba51===_0x557c52(0xed0)?[_0x557c52(0x866),_0x557c52(0x780)]:_0x262f22['options'],_0x427567=_0x2eba51==='true_false'?_0x262f22[_0x557c52(0x98f)]?0x0:0x1:_0x262f22[_0x557c52(0x791)];_0x5ead47=_0x1409ad[_0x557c52(0xa25)]((_0x5e571f,_0x2eed89)=>_0x557c52(0x20a)+(_0x2eed89===_0x427567)+_0x557c52(0x4fb)+_0x5e571f+_0x557c52(0xd7e))['join']('');}else{if(_0x2eba51===_0x557c52(0x867)){const _0x3d86f8=_0x262f22[_0x557c52(0x20b)]||[];_0x5ead47=_0x3d86f8[_0x557c52(0xa25)](_0x17507e=>_0x557c52(0x20a)+(_0x17507e===_0x262f22[_0x557c52(0xcd9)])+_0x557c52(0x4fb)+_0x17507e+_0x557c52(0xd7e))[_0x557c52(0x40a)]('');}}const _0xd69c4e=_0x262f22['stem']||_0x262f22[_0x557c52(0xb93)],_0x25f03e=_0x557c52(0x232)+(_0x1a6c99+0x1)+_0x557c52(0xcc1)+_0x34dfcf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x557c52(0x306)+_0xd69c4e+_0x557c52(0xf12)+_0x5ead47+_0x557c52(0xa56);liveGameView[_0x557c52(0x1f9)]=_0x25f03e,window[_0x557c52(0xb8c)]&&MathJax[_0x557c52(0xe28)]&&MathJax[_0x557c52(0xe28)]([liveGameView]),document['getElementById'](_0x557c52(0x45a))[_0x557c52(0xbe5)](_0x557c52(0xe61),()=>revealAnswerForAdmin(_0x1a6c99,_0x34dfcf)),document[_0x557c52(0x4ff)](_0x557c52(0x829))[_0x557c52(0xbe5)](_0x557c52(0xe61),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0xdf6742=_0x2785,_0x233478=doc(db,_0xdf6742(0x8a6)+appId+_0xdf6742(0x299),currentLiveGameId);await updateDoc(_0x233478,{'status':_0xdf6742(0xd73)});});}),document['getElementById']('manage-players-btn')[_0x557c52(0xbe5)](_0x557c52(0xe61),()=>{const _0x5e88c6=_0x557c52;document[_0x5e88c6(0x4ff)]('live-player-management')[_0x5e88c6(0xc2e)][_0x5e88c6(0xe23)](_0x5e88c6(0xc89));});}function promptForProjectBeforeGenerating(_0x40acc3){const _0x175f50=_0x5ddd37,_0x497e88=document['getElementById'](_0x175f50(0xcfb)),_0x31f1d6=document[_0x175f50(0x4ff)](_0x175f50(0xddc)),_0x37c30b=_0x497e88[_0x175f50(0xee9)]('h3'),_0x220efe=document[_0x175f50(0x4ff)](_0x175f50(0xbda)),_0x20885b=document[_0x175f50(0x4ff)](_0x175f50(0xd95));_0x37c30b[_0x175f50(0x602)]=_0x175f50(0x998),_0x220efe['textContent']=_0x175f50(0xdcd),_0x220efe['disabled']=!![];allProjects[_0x175f50(0x85b)]===0x0?_0x31f1d6[_0x175f50(0x1f9)]=_0x175f50(0x848):(_0x31f1d6[_0x175f50(0x1f9)]=_0x175f50(0x9f2)+allProjects['map'](_0x4e33da=>_0x175f50(0x33e)+_0x4e33da['id']+'\x22>'+_0x4e33da['projectName']+_0x175f50(0x999))[_0x175f50(0x40a)](''),_0x220efe[_0x175f50(0x206)]=![]);_0x497e88[_0x175f50(0xc2e)][_0x175f50(0x716)](_0x175f50(0xc89));const _0x54bbce=async()=>{const _0x3c7241=_0x175f50,_0x112c4c=_0x31f1d6[_0x3c7241(0x717)];if(!_0x112c4c){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x497e88[_0x3c7241(0xc2e)][_0x3c7241(0xee4)](_0x3c7241(0xc89)),await loadProjectDetails(_0x112c4c),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x40acc3),_0xaa6131();},_0xaa6131=()=>{const _0x2245c6=_0x175f50;_0x37c30b['textContent']=_0x2245c6(0x66f),_0x220efe[_0x2245c6(0x602)]=_0x2245c6(0x259),_0x220efe[_0x2245c6(0x442)](_0x2245c6(0xe61),_0x54bbce),_0x20885b[_0x2245c6(0x442)](_0x2245c6(0xe61),_0xaa6131),_0x220efe['addEventListener'](_0x2245c6(0xe61),confirmMoveQuiz);};_0x220efe[_0x175f50(0x442)](_0x175f50(0xe61),confirmMoveQuiz),_0x220efe[_0x175f50(0xbe5)](_0x175f50(0xe61),_0x54bbce),_0x20885b[_0x175f50(0xbe5)](_0x175f50(0xe61),_0xaa6131);}function showStudentLiveQuestionView(_0xc2c14f,_0x3d9b4c,_0x34166c){const _0x4d9126=_0x5ddd37,_0x4d8b0d=_0xc2c14f[_0x4d9126(0x278)]||currentQuizData[_0x4d9126(0xa9d)];let _0xd74ef4='';if(_0x4d8b0d===_0x4d9126(0xf0e)||_0x4d8b0d===_0x4d9126(0xed0)){const _0x3934de=_0x4d8b0d===_0x4d9126(0xed0)?[_0x4d9126(0x866),_0x4d9126(0x780)]:_0xc2c14f[_0x4d9126(0x4ad)];_0xd74ef4=_0x3934de[_0x4d9126(0xa25)]((_0x168602,_0xe94dff)=>_0x4d9126(0x87f)+_0xe94dff+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x168602+_0x4d9126(0xecf))[_0x4d9126(0x40a)]('');}else{if(_0x4d8b0d===_0x4d9126(0x867)){const _0x3c865a=_0xc2c14f[_0x4d9126(0x20b)]||[];_0xd74ef4=_0x3c865a[_0x4d9126(0xa25)]((_0x2466f3,_0x2156d1)=>_0x4d9126(0x87f)+_0x2156d1+_0x4d9126(0x2b0)+_0x2466f3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4d9126(0x40a)]('');}else _0x4d8b0d===_0x4d9126(0x3d7)&&(_0xd74ef4=_0x4d9126(0x2c2));}const _0x39032b=_0xc2c14f[_0x4d9126(0x692)]||_0xc2c14f[_0x4d9126(0xb93)],_0x387a8e=_0x4d9126(0x5dc)+(_0x3d9b4c+0x1)+_0x4d9126(0xcc1)+_0x34166c+_0x4d9126(0x765)+_0x39032b+_0x4d9126(0x32d)+_0xd74ef4+_0x4d9126(0x5a6);liveGameView[_0x4d9126(0x1f9)]=_0x387a8e;window[_0x4d9126(0xb8c)]&&MathJax[_0x4d9126(0xe28)]&&MathJax['typesetPromise']([liveGameView]);const _0x356f30=document[_0x4d9126(0x4ff)]('live-submit-short-answer-btn');_0x356f30&&_0x356f30['addEventListener'](_0x4d9126(0xe61),()=>{const _0x1396ea=_0x4d9126,_0x3d5734=document[_0x1396ea(0x4ff)](_0x1396ea(0x406))[_0x1396ea(0x717)];handleLiveAnswer(_0x3d5734,_0xc2c14f);}),document[_0x4d9126(0x4ff)](_0x4d9126(0xd58))[_0x4d9126(0xbe5)](_0x4d9126(0xe61),_0x2c386e=>{const _0x307e97=_0x4d9126,_0x3c0c90=_0x2c386e[_0x307e97(0x2b8)][_0x307e97(0x7c4)]('.live-answer-btn');if(_0x3c0c90){const _0x1aac2a=parseInt(_0x3c0c90[_0x307e97(0x664)]['index']);handleLiveAnswer(_0x1aac2a,_0xc2c14f);}});}function listenForBlueprintShortcuts(){const _0x4193c2=_0x5ddd37,_0x367a9b=doc(db,_0x4193c2(0x6c4),_0x4193c2(0x61f));onSnapshot(_0x367a9b,_0x34e02e=>{const _0x36a74e=_0x4193c2;let _0x373cb9=[],_0xd64359=[],_0x1f53a5={};if(_0x34e02e[_0x36a74e(0x8d2)]()){const _0x296d80=_0x34e02e[_0x36a74e(0xef5)]();_0x373cb9=_0x296d80[_0x36a74e(0x5d4)]||[],_0xd64359=_0x296d80['shortcutTabs']||[],_0x1f53a5=_0x296d80['shortcutOrder']||{};}!_0xd64359[_0x36a74e(0xe0f)](_0x2ca42a=>_0x2ca42a['id']==='all')&&_0xd64359[_0x36a74e(0x3a9)]({'id':_0x36a74e(0xa6b),'name':_0x36a74e(0xc9f),'isDefault':!![]}),!_0x373cb9[_0x36a74e(0xe0f)](_0x13bacb=>_0x13bacb['id']==='default-1')&&_0x373cb9[_0x36a74e(0x3a9)]({'id':_0x36a74e(0x80c),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x373cb9[_0x36a74e(0xe0f)](_0x13a5f6=>_0x13a5f6['id']===_0x36a74e(0x35f))&&_0x373cb9[_0x36a74e(0x3a9)]({'id':_0x36a74e(0x35f),'name':_0x36a74e(0xb05),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x373cb9,shortcutTabs=_0xd64359,shortcutOrder=_0x1f53a5,renderBlueprintShortcuts(),!document[_0x36a74e(0x4ff)](_0x36a74e(0x2f7))[_0x36a74e(0xc2e)][_0x36a74e(0x995)](_0x36a74e(0xc89))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x18e320=_0x5ddd37,_0x42cc0d=document[_0x18e320(0x4ff)](_0x18e320(0xdba)),_0xcb8e48=document[_0x18e320(0x4ff)](_0x18e320(0x500));if(!_0x42cc0d||!_0xcb8e48)return;_0x42cc0d[_0x18e320(0x1f9)]=shortcutTabs[_0x18e320(0xa25)](_0x66ae50=>{const _0x40aad5=_0x18e320,_0x4b314d=_0x66ae50['id']===activeShortcutTabId,_0x455d3b=_0x40aad5(0xa5e),_0xfbcb8a=_0x40aad5(0x385);return _0x40aad5(0x4e2)+_0x66ae50['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x4b314d?_0x455d3b:_0xfbcb8a)+_0x40aad5(0x345)+_0x66ae50['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x66ae50['name']+_0x40aad5(0xb06)+(!_0x66ae50[_0x40aad5(0xc74)]?_0x40aad5(0xc60)+_0x66ae50['id']+_0x40aad5(0xa86):'')+_0x40aad5(0xd7e);})[_0x18e320(0x40a)]('');const _0x2c989e=shortcutTabs['find'](_0xffaf6a=>_0xffaf6a['id']===activeShortcutTabId);let _0x529d16=[];if(_0x2c989e){if(_0x2c989e[_0x18e320(0xc74)])_0x529d16=[...blueprintShortcuts];else{const _0x582617=_0x2c989e[_0x18e320(0xc0a)]||[];_0x529d16=blueprintShortcuts['filter'](_0x36f31c=>_0x582617[_0x18e320(0xdf4)](_0x36f31c['id']));}}const _0x215d67=shortcutOrder[activeShortcutTabId]||[];_0x529d16[_0x18e320(0x23c)]((_0x1fcfac,_0x453eed)=>{const _0x389164=_0x18e320,_0x3e5094=_0x215d67[_0x389164(0x343)](_0x1fcfac['id']),_0xa3eab5=_0x215d67[_0x389164(0x343)](_0x453eed['id']);if(_0x3e5094===-0x1)return 0x1;if(_0xa3eab5===-0x1)return-0x1;return _0x3e5094-_0xa3eab5;}),_0xcb8e48[_0x18e320(0x1f9)]=_0x529d16[_0x18e320(0x85b)]>0x0?_0x529d16[_0x18e320(0xa25)](_0xa6c76e=>{const _0x4496b5=_0x18e320;let _0x1bbe0e='🧩';if(_0xa6c76e['blueprintUrl']&&_0xa6c76e[_0x4496b5(0x94a)])_0x1bbe0e='📗';else{if(_0xa6c76e[_0x4496b5(0x957)])_0x1bbe0e='📘';}const _0x22122f=shortcutTabs[_0x4496b5(0xd8d)](_0x4e15ab=>!_0x4e15ab[_0x4496b5(0xc74)]),_0x300f7e=_0x2c989e['isDefault']&&_0x22122f['length']>0x0?_0x4496b5(0xb2b)+_0x22122f[_0x4496b5(0xa25)](_0x5062f4=>_0x4496b5(0xc9c)+_0xa6c76e['id']+_0x4496b5(0x61e)+_0x5062f4['id']+'\x22>'+_0x5062f4[_0x4496b5(0xc44)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x4496b5(0xeb3):'';return _0x4496b5(0x558)+_0xa6c76e['id']+_0x4496b5(0xd90)+_0x1bbe0e+'\x20'+_0xa6c76e[_0x4496b5(0xc44)]+_0x4496b5(0x39f)+_0xa6c76e['id']+_0x4496b5(0x82c)+_0xa6c76e['id']+_0x4496b5(0xc3b)+(!_0xa6c76e[_0x4496b5(0xc74)]?_0x4496b5(0xafc)+_0xa6c76e['id']+_0x4496b5(0x61d):'')+_0x4496b5(0xa12)+(!_0x2c989e[_0x4496b5(0xc74)]?_0x4496b5(0x7ec)+_0xa6c76e['id']+_0x4496b5(0xaa6):'')+_0x4496b5(0xa12)+_0x300f7e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join'](''):_0x18e320(0xc5e),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x102bad=_0x5ddd37;document[_0x102bad(0xe1c)](_0x102bad(0xb4b))[_0x102bad(0x23a)](_0x5459f9=>{const _0x3df102=_0x102bad;_0x5459f9[_0x3df102(0xbe5)](_0x3df102(0xe61),_0x54a57d=>{const _0x2f3d80=_0x3df102;activeShortcutTabId=_0x54a57d[_0x2f3d80(0xa11)][_0x2f3d80(0x664)][_0x2f3d80(0xa58)],renderAdditionalShortcutsModal();}),_0x5459f9['addEventListener'](_0x3df102(0x937),_0xaacedc=>{const _0x5db59a=_0x3df102,_0x4b31e9=_0xaacedc[_0x5db59a(0xa11)];_0x4b31e9[_0x5db59a(0xee9)]('.tab-name-display')['classList'][_0x5db59a(0xee4)](_0x5db59a(0xc89));const _0x237df8=_0x4b31e9[_0x5db59a(0xee9)](_0x5db59a(0x3d3));_0x237df8['classList'][_0x5db59a(0x716)](_0x5db59a(0xc89)),_0x237df8[_0x5db59a(0x7ff)](),_0x237df8[_0x5db59a(0x700)]();});}),document[_0x102bad(0xe1c)]('.tab-name-input')['forEach'](_0x415790=>{const _0x5a40fa=_0x102bad,_0x53fd34=()=>{const _0xd7c3cb=_0x2785,_0x2bcf16=_0x415790[_0xd7c3cb(0x7c4)](_0xd7c3cb(0xb4b))[_0xd7c3cb(0x664)][_0xd7c3cb(0xa58)];handleRenameShortcutTab(_0x2bcf16,_0x415790[_0xd7c3cb(0x717)]);};_0x415790[_0x5a40fa(0xbe5)](_0x5a40fa(0x554),_0x53fd34),_0x415790[_0x5a40fa(0xbe5)](_0x5a40fa(0x56c),_0x49a8eb=>{const _0x2047cb=_0x5a40fa;if(_0x49a8eb[_0x2047cb(0x62b)]===_0x2047cb(0x6c8))_0x415790[_0x2047cb(0x554)]();});}),document[_0x102bad(0xe1c)]('.delete-shortcut-tab-btn')['forEach'](_0xb5398c=>{const _0x5a99a6=_0x102bad;_0xb5398c[_0x5a99a6(0xbe5)](_0x5a99a6(0xe61),_0x5c2ae4=>handleDeleteShortcutTab(_0x5c2ae4[_0x5a99a6(0xa11)][_0x5a99a6(0x664)][_0x5a99a6(0xa58)]));}),document[_0x102bad(0xe1c)](_0x102bad(0xe27))[_0x102bad(0x23a)](_0xaabaf7=>{const _0x2a3372=_0x102bad;_0xaabaf7[_0x2a3372(0xbe5)]('click',_0x42af16=>{_0x42af16['preventDefault']();const {shortcutId:_0x2cc76f,targetTabId:_0x2588a1}=_0x42af16['currentTarget']['dataset'];handleMoveShortcutToTab(_0x2cc76f,_0x2588a1);});}),document[_0x102bad(0xe1c)](_0x102bad(0x414))[_0x102bad(0x23a)](_0x48de7e=>{const _0x4dbedc=_0x102bad;_0x48de7e[_0x4dbedc(0xbe5)](_0x4dbedc(0xe61),_0x5e4efa=>{const _0x569a34=_0x4dbedc;handleRemoveShortcutFromTab(_0x5e4efa[_0x569a34(0xa11)][_0x569a34(0x664)][_0x569a34(0xcce)],activeShortcutTabId);});});const _0x4f8671=document[_0x102bad(0x4ff)](_0x102bad(0x500));_0x4f8671[_0x102bad(0xe1c)](_0x102bad(0x75c))[_0x102bad(0x23a)](_0xd2f4d=>{const _0x7bc6d3=_0x102bad;_0xd2f4d[_0x7bc6d3(0xbe5)](_0x7bc6d3(0xe61),()=>{const _0x36a3f1=_0x7bc6d3;document['getElementById'](_0x36a3f1(0x2f7))[_0x36a3f1(0xc2e)][_0x36a3f1(0xee4)](_0x36a3f1(0xc89)),handleShortcutClick(_0xd2f4d[_0x36a3f1(0x664)]['id']);});});let _0x525e25=null;_0x4f8671['addEventListener'](_0x102bad(0x99b),_0x296599=>{const _0x5dd476=_0x102bad;_0x525e25=_0x296599[_0x5dd476(0x2b8)][_0x5dd476(0x7c4)](_0x5dd476(0x607)),_0x525e25&&setTimeout(()=>_0x525e25[_0x5dd476(0xc2e)][_0x5dd476(0xee4)](_0x5dd476(0xe90)),0x0);}),_0x4f8671[_0x102bad(0xbe5)](_0x102bad(0x66d),()=>{const _0xaf7ec7=_0x102bad;_0x525e25&&(_0x525e25[_0xaf7ec7(0xc2e)][_0xaf7ec7(0x716)](_0xaf7ec7(0xe90)),_0x525e25=null);}),_0x4f8671['addEventListener']('dragover',_0x90ce5d=>{const _0x495daa=_0x102bad;_0x90ce5d[_0x495daa(0xcbd)]();const _0x3abd1f=[..._0x4f8671['querySelectorAll'](_0x495daa(0x83b))][_0x495daa(0xc2a)]((_0x2ef70f,_0x574bc1)=>{const _0x3b66e0=_0x495daa,_0x4ffed3=_0x574bc1[_0x3b66e0(0xb4a)](),_0xe6a9d4=_0x90ce5d['clientY']-_0x4ffed3['top']-_0x4ffed3[_0x3b66e0(0xd12)]/0x2;return _0xe6a9d4<0x0&&_0xe6a9d4>_0x2ef70f['offset']?{'offset':_0xe6a9d4,'element':_0x574bc1}:_0x2ef70f;},{'offset':Number[_0x495daa(0xc49)]})[_0x495daa(0xd31)];_0x3abd1f==null?_0x4f8671[_0x495daa(0x4a7)](_0x525e25):_0x4f8671['insertBefore'](_0x525e25,_0x3abd1f);}),_0x4f8671[_0x102bad(0xbe5)](_0x102bad(0x6fa),_0x3d52b6=>{const _0x42b577=_0x102bad;_0x3d52b6[_0x42b577(0xcbd)]();if(_0x525e25){const _0x23aa22=[..._0x4f8671[_0x42b577(0xe1c)]('.shortcut-list-item')][_0x42b577(0xa25)](_0x3f95de=>_0x3f95de[_0x42b577(0x664)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x23aa22);}}),document[_0x102bad(0xe1c)](_0x102bad(0x3a0))[_0x102bad(0x23a)](_0x59da9b=>{const _0x40d6cf=_0x102bad;_0x59da9b[_0x40d6cf(0xbe5)](_0x40d6cf(0xe61),_0x2180e6=>{const _0x3dcd55=_0x40d6cf;_0x2180e6[_0x3dcd55(0xf0a)]();const _0x25bd87=_0x2180e6[_0x3dcd55(0xa11)][_0x3dcd55(0x508)],_0x2d789a=_0x25bd87['classList'][_0x3dcd55(0x995)](_0x3dcd55(0xc89));document[_0x3dcd55(0xe1c)](_0x3dcd55(0x435))[_0x3dcd55(0x23a)](_0x2714b9=>_0x2714b9[_0x3dcd55(0xc2e)][_0x3dcd55(0xee4)](_0x3dcd55(0xc89))),_0x2d789a&&_0x25bd87[_0x3dcd55(0xc2e)][_0x3dcd55(0x716)](_0x3dcd55(0xc89));});});}document[_0x5ddd37(0xbe5)]('click',_0x12d938=>{const _0x1613bc=_0x5ddd37;!_0x12d938['target'][_0x1613bc(0x7c4)]('.group\x5c/dropdown')&&document['querySelectorAll'](_0x1613bc(0x435))[_0x1613bc(0x23a)](_0x21459a=>_0x21459a[_0x1613bc(0xc2e)][_0x1613bc(0xee4)](_0x1613bc(0xc89)));});async function saveShortcutConfig(){const _0x2fa20b=_0x5ddd37,_0x57315e=doc(db,'globalSettings',_0x2fa20b(0x61f));try{await setDoc(_0x57315e,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x4afea6){console[_0x2fa20b(0x34c)](_0x2fa20b(0xdae),_0x4afea6);}}async function handleAddShortcutTab(){const _0x5ad506=_0x5ddd37,_0x2cc2c0=prompt(_0x5ad506(0x69c),'แท็บใหม่');if(!_0x2cc2c0||_0x2cc2c0[_0x5ad506(0x26c)]()==='')return;shortcutTabs['push']({'id':_0x5ad506(0xbbd)+Date[_0x5ad506(0x599)](),'name':_0x2cc2c0[_0x5ad506(0x26c)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x558f4c,_0x309757){const _0x22036e=_0x5ddd37,_0x4373b4=shortcutTabs[_0x22036e(0xe0f)](_0x1e5845=>_0x1e5845['id']===_0x558f4c);_0x4373b4&&_0x309757['trim']()!==''&&(_0x4373b4['name']=_0x309757['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x11267e){const _0x41986c=_0x5ddd37,_0x528a12=shortcutTabs[_0x41986c(0xe0f)](_0x3e4a8a=>_0x3e4a8a['id']===_0x11267e);_0x528a12&&!_0x528a12[_0x41986c(0xc74)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x528a12[_0x41986c(0xc44)]+_0x41986c(0x70e),async()=>{const _0x3b25cf=_0x41986c;shortcutTabs=shortcutTabs[_0x3b25cf(0xd8d)](_0x3ae2f3=>_0x3ae2f3['id']!==_0x11267e),delete shortcutOrder[_0x11267e];if(activeShortcutTabId===_0x11267e)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x4c80f7,_0x4c6a62){const _0x57e2f4=_0x5ddd37,_0x91a638=shortcutTabs[_0x57e2f4(0xe0f)](_0xed975f=>_0xed975f['id']===_0x4c6a62);_0x91a638&&!_0x91a638['shortcutIds']['includes'](_0x4c80f7)&&(_0x91a638[_0x57e2f4(0xc0a)][_0x57e2f4(0xb2a)](_0x4c80f7),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0xd96d17,_0x33cc30){const _0x585d03=_0x5ddd37,_0x4d5516=shortcutTabs[_0x585d03(0xe0f)](_0x263c0f=>_0x263c0f['id']===_0x33cc30);_0x4d5516&&!_0x4d5516[_0x585d03(0xc74)]&&(_0x4d5516['shortcutIds']=_0x4d5516['shortcutIds'][_0x585d03(0xd8d)](_0x342cc5=>_0x342cc5!==_0xd96d17),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x57eefe,_0xa8498c){shortcutOrder[_0x57eefe]=_0xa8498c,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x16d07d=_0x5ddd37,_0x374bd0=document[_0x16d07d(0x4ff)](_0x16d07d(0x7c6)),_0x5004f5=document[_0x16d07d(0x4ff)](_0x16d07d(0x500)),_0x721bb5=document[_0x16d07d(0x4ff)](_0x16d07d(0x73c));_0x721bb5&&_0x721bb5['classList']['add'](_0x16d07d(0xc89));if(!_0x374bd0||!_0x5004f5)return;const _0x216c0c=blueprintShortcuts[_0x16d07d(0x507)](0x0,0x4),_0x48f5a3=blueprintShortcuts[_0x16d07d(0x507)](0x4);_0x374bd0['innerHTML']=_0x216c0c[_0x16d07d(0xa25)](_0x1d4260=>{const _0x236e77=_0x16d07d;let _0x588faf=_0x236e77(0xd7b),_0x293fb4='🧩';if(_0x1d4260[_0x236e77(0x957)]&&_0x1d4260['referenceUrl'])_0x588faf='bg-green-500\x20hover:bg-green-600\x20text-white',_0x293fb4='📗';else _0x1d4260[_0x236e77(0x957)]&&(_0x588faf='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x293fb4='📘');const _0x517f3e=!_0x1d4260[_0x236e77(0xc74)]?'<button\x20data-id=\x22'+_0x1d4260['id']+_0x236e77(0x3fa):'';return _0x236e77(0x358)+_0x1d4260['id']+_0x236e77(0x761)+_0x588faf+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x293fb4+'\x20'+_0x1d4260['name']+_0x236e77(0x7ae)+_0x1d4260['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x517f3e+_0x236e77(0xd7e);})[_0x16d07d(0x40a)](''),_0x48f5a3[_0x16d07d(0x85b)]>0x0&&(_0x374bd0['innerHTML']+=_0x16d07d(0x5c1)),_0x48f5a3['length']>0x0?_0x5004f5['innerHTML']=_0x48f5a3[_0x16d07d(0xa25)](_0x30b332=>{const _0x5df752=_0x16d07d;let _0x3acc23='🧩';if(_0x30b332[_0x5df752(0x957)]&&_0x30b332[_0x5df752(0x94a)])_0x3acc23='📗';else _0x30b332['blueprintUrl']&&(_0x3acc23='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x3acc23+'\x20'+_0x30b332['name']+_0x5df752(0x39f)+_0x30b332['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x30b332['id']+_0x5df752(0xc3b)+(!_0x30b332[_0x5df752(0xc74)]?_0x5df752(0xafc)+_0x30b332['id']+_0x5df752(0x61d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x16d07d(0x40a)](''):_0x5004f5[_0x16d07d(0x1f9)]=_0x16d07d(0x2e9);}function getMimeTypeFromFilename(_0x10794e){const _0x519ca1=_0x5ddd37,_0x90cd0d=_0x10794e[_0x519ca1(0x325)]('.')[_0x519ca1(0xa1f)]()[_0x519ca1(0xbca)]();switch(_0x90cd0d){case _0x519ca1(0x612):return _0x519ca1(0xb8a);case _0x519ca1(0xdc5):return _0x519ca1(0x8a7);default:return'application/pdf';}}function openShortcutEditor(_0x333572=null){const _0xfd2574=_0x5ddd37,_0x33c699=document[_0xfd2574(0x4ff)](_0xfd2574(0x987)),_0x2d8e5f=document[_0xfd2574(0x4ff)](_0xfd2574(0xed4)),_0x405ab3=document[_0xfd2574(0x4ff)]('shortcut-id-input'),_0x596e73=document[_0xfd2574(0x4ff)](_0xfd2574(0x2c6)),_0x4d65da=document[_0xfd2574(0x4ff)](_0xfd2574(0x62f)),_0x37e499=document[_0xfd2574(0x4ff)]('shortcut-reference-url-input');if(_0x333572){const _0x17a254=blueprintShortcuts[_0xfd2574(0xe0f)](_0x20a38e=>_0x20a38e['id']===_0x333572);if(!_0x17a254)return;_0x2d8e5f[_0xfd2574(0x602)]=_0xfd2574(0xe25),_0x405ab3[_0xfd2574(0x717)]=_0x17a254['id'],_0x596e73[_0xfd2574(0x717)]=_0x17a254[_0xfd2574(0xc44)],_0x4d65da[_0xfd2574(0x717)]=_0x17a254[_0xfd2574(0x957)]||'',_0x37e499[_0xfd2574(0x717)]=_0x17a254[_0xfd2574(0x94a)]||'';}else _0x2d8e5f[_0xfd2574(0x602)]=_0xfd2574(0xdd8),_0x405ab3[_0xfd2574(0x717)]='',_0x596e73[_0xfd2574(0x717)]='',_0x4d65da['value']='',_0x37e499[_0xfd2574(0x717)]='';_0x33c699[_0xfd2574(0xc2e)][_0xfd2574(0x716)](_0xfd2574(0xc89));}async function saveShortcutChanges(){const _0x2a9494=_0x5ddd37,_0x5e1575=document[_0x2a9494(0x4ff)]('shortcut-id-input')['value'],_0x5d4993=document[_0x2a9494(0x4ff)](_0x2a9494(0x2c6))[_0x2a9494(0x717)][_0x2a9494(0x26c)](),_0x15edf3=document[_0x2a9494(0x4ff)]('shortcut-blueprint-url-input')[_0x2a9494(0x717)]['trim']();if(!_0x5d4993||!_0x15edf3){showMessage(_0x2a9494(0x64b));return;}const _0x46a2c6={'id':_0x5e1575||'shortcut_'+Date[_0x2a9494(0x599)](),'name':_0x5d4993,'blueprintUrl':_0x15edf3,'referenceUrl':document[_0x2a9494(0x4ff)](_0x2a9494(0xc07))['value'][_0x2a9494(0x26c)](),'isDefault':_0x5e1575['startsWith'](_0x2a9494(0x2fa))};let _0x562649;_0x5e1575?_0x562649=blueprintShortcuts[_0x2a9494(0xa25)](_0x1c3bbf=>_0x1c3bbf['id']===_0x5e1575?_0x46a2c6:_0x1c3bbf):_0x562649=[...blueprintShortcuts,_0x46a2c6];try{const _0x5ab936=doc(db,_0x2a9494(0x6c4),_0x2a9494(0x61f));await setDoc(_0x5ab936,{'blueprintShortcuts':_0x562649},{'merge':!![]}),document[_0x2a9494(0x4ff)](_0x2a9494(0x987))[_0x2a9494(0xc2e)][_0x2a9494(0xee4)](_0x2a9494(0xc89));}catch(_0x558d46){console[_0x2a9494(0x34c)](_0x2a9494(0x1f6),_0x558d46),showMessage(_0x2a9494(0x315));}}async function handleShortcutClick(_0x19a0e4){const _0x2f53ee=_0x5ddd37,_0x1403eb=blueprintShortcuts[_0x2f53ee(0xe0f)](_0x54dce2=>_0x54dce2['id']===_0x19a0e4);if(!_0x1403eb||!_0x1403eb[_0x2f53ee(0x957)])return;document[_0x2f53ee(0x4ff)](_0x2f53ee(0x64a))['classList'][_0x2f53ee(0xee4)]('hidden'),document['getElementById'](_0x2f53ee(0x35c))[_0x2f53ee(0x206)]=!![];const _0x3293c9=document[_0x2f53ee(0x4ff)](_0x2f53ee(0xb7b)),_0x1d1537=document[_0x2f53ee(0x4ff)](_0x2f53ee(0x865));document['getElementById']('quiz-generation-area')[_0x2f53ee(0xc2e)]['remove']('hidden'),document[_0x2f53ee(0x4ff)]('generated-quiz-container')[_0x2f53ee(0x1f9)]='',_0x3293c9['classList']['remove'](_0x2f53ee(0xc89));try{_0x1d1537[_0x2f53ee(0x602)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x3b85ed=await fetchFileFromUrl(_0x1403eb[_0x2f53ee(0x957)],'blueprint.pdf');let _0x5ad9ac=null;if(_0x1403eb[_0x2f53ee(0x94a)]){_0x1d1537['textContent']=_0x2f53ee(0x391);const _0x4ea007=_0x1403eb[_0x2f53ee(0x94a)][_0x2f53ee(0xbca)]()[_0x2f53ee(0x897)](_0x2f53ee(0xc71))?_0x2f53ee(0xabb):_0x2f53ee(0x3ed);_0x5ad9ac=await fetchFileFromUrl(_0x1403eb[_0x2f53ee(0x94a)],_0x4ea007);}await handleGenerateFromBlueprintWithFiles(_0x3b85ed,_0x5ad9ac);}catch(_0x1d928b){console[_0x2f53ee(0x34c)](_0x2f53ee(0x3cc),_0x1d928b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1d928b[_0x2f53ee(0x541)]),_0x3293c9[_0x2f53ee(0xc2e)][_0x2f53ee(0xee4)](_0x2f53ee(0xc89));}}function getDirectDownloadUrl(_0x2f5040){const _0x44fdfb=_0x5ddd37,_0xeaeb3d=_0x2f5040[_0x44fdfb(0xc80)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0xeaeb3d&&_0xeaeb3d[0x1])return _0x44fdfb(0xd11)+_0xeaeb3d[0x1];return _0x2f5040;}async function fetchFileFromUrl(_0x564d58,_0x2475ff){const _0x7b1f1e=_0x5ddd37,_0x19881a=getDirectDownloadUrl(_0x564d58),_0x41e372=_0x7b1f1e(0xce1)+encodeURIComponent(_0x19881a),_0x3ccc50=await fetch(_0x41e372);if(!_0x3ccc50['ok'])throw new Error(_0x7b1f1e(0xb66)+_0x3ccc50[_0x7b1f1e(0x361)]+')');const _0x5b528f=await _0x3ccc50[_0x7b1f1e(0x3c9)](),_0x380c97=await new Promise((_0xb3f194,_0x236e2a)=>{const _0x295028=_0x7b1f1e,_0x1cc93e=new FileReader();_0x1cc93e[_0x295028(0x7f6)]=()=>_0xb3f194(new Uint8Array(_0x1cc93e['result'])),_0x1cc93e[_0x295028(0x80d)]=_0x236e2a,_0x1cc93e[_0x295028(0x226)](_0x5b528f[_0x295028(0x507)](0x0,0x4));});let _0x5e979c='';const _0x278be5=new TextDecoder()['decode'](_0x380c97);return _0x278be5==='%PDF'?(_0x5e979c='application/pdf',console[_0x7b1f1e(0x674)](_0x7b1f1e(0x3a3))):(_0x5e979c=_0x7b1f1e(0x8a7),console['log'](_0x7b1f1e(0xdfc))),new File([_0x5b528f],_0x2475ff,{'type':_0x5e979c});}async function handleGenerateFromBlueprintWithFiles(_0xbf6e31,_0x5e8f8a=null){const _0x2fc658=_0x5ddd37;if(!_0xbf6e31){showMessage(_0x2fc658(0xa57));return;}const _0x48adc8=document[_0x2fc658(0x4ff)](_0x2fc658(0xb7b)),_0x2429b6=document['getElementById'](_0x2fc658(0x865));_0x48adc8[_0x2fc658(0xc2e)][_0x2fc658(0x716)](_0x2fc658(0xc89)),document[_0x2fc658(0x4ff)](_0x2fc658(0x3ee))[_0x2fc658(0xc2e)][_0x2fc658(0x716)](_0x2fc658(0xc89)),document[_0x2fc658(0x4ff)](_0x2fc658(0xd3c))[_0x2fc658(0x1f9)]='';try{_0x2429b6['textContent']=_0x2fc658(0x452);const _0x442e18=await new Promise((_0x51d0ad,_0x172989)=>{const _0x8b3175=_0x2fc658,_0x1b7cdc=new FileReader();_0x1b7cdc['readAsDataURL'](_0xbf6e31),_0x1b7cdc['onload']=()=>_0x51d0ad(_0x1b7cdc[_0x8b3175(0x41f)]['split'](',')[0x1]),_0x1b7cdc[_0x8b3175(0x80d)]=_0x172989;}),_0x404793=[];if(_0x5e8f8a){_0x2429b6[_0x2fc658(0x602)]=_0x2fc658(0xdd0);const _0x29e1a9=await _0x5e8f8a[_0x2fc658(0xa75)]();_0x404793[_0x2fc658(0xb2a)]({'text':_0x2fc658(0xa17)+_0x29e1a9});}const _0x26f435=[{'text':_0x2fc658(0xe73)},{'inlineData':{'mimeType':_0xbf6e31[_0x2fc658(0x4f5)],'data':_0x442e18}},..._0x404793];await handleGenerateFromBlueprint(_0x26f435);}catch(_0x1ce6b7){console[_0x2fc658(0x34c)](_0x2fc658(0xb7e),_0x1ce6b7),showMessage(_0x2fc658(0x26e)+_0x1ce6b7[_0x2fc658(0x541)]),_0x48adc8[_0x2fc658(0xc2e)][_0x2fc658(0xee4)]('hidden');}}async function handleLiveAnswer(_0x5b6ff9,_0x424c98){const _0x4cdd58=_0x5ddd37;document[_0x4cdd58(0xe1c)](_0x4cdd58(0xb53))[_0x4cdd58(0x23a)](_0x3111f0=>_0x3111f0[_0x4cdd58(0x206)]=!![]);const _0x2f8a87=_0x424c98[_0x4cdd58(0x278)]||currentQuizData[_0x4cdd58(0xa9d)];let _0x12ae50=![],_0x53ee69=_0x5b6ff9;if(_0x2f8a87==='short_answer'){const _0x196dc2=(_0x5b6ff9||'')[_0x4cdd58(0xe66)]();_0x12ae50=await gradeShortAnswer(_0x196dc2,_0x424c98);}else{if(_0x2f8a87==='multiple_choice')_0x12ae50=_0x5b6ff9===_0x424c98['correctAnswerIndex'];else{if(_0x2f8a87===_0x4cdd58(0xed0)){const _0x3453fd=_0x424c98[_0x4cdd58(0x98f)];_0x12ae50=_0x5b6ff9===0x0&&_0x3453fd||_0x5b6ff9===0x1&&!_0x3453fd;}else{if(_0x2f8a87==='matching_item'){const _0x42db76=_0x424c98['allResponses'][_0x5b6ff9];_0x12ae50=_0x42db76===_0x424c98['correctResponse'],_0x53ee69=_0x42db76;}}}}const _0x3a8e8d=doc(db,'artifacts/'+appId+_0x4cdd58(0x299),currentLiveGameId),_0x5c0365={};_0x5c0365[_0x4cdd58(0x7b2)+currentStudentName+_0x4cdd58(0x449)]=!![],_0x5c0365[_0x4cdd58(0x7b2)+currentStudentName+_0x4cdd58(0x332)]=_0x12ae50,_0x5c0365[_0x4cdd58(0x7b2)+currentStudentName+'.lastAnswerIndex']=_0x2f8a87===_0x4cdd58(0x3d7)||_0x2f8a87===_0x4cdd58(0x867)?null:_0x5b6ff9,_0x5c0365[_0x4cdd58(0x7b2)+currentStudentName+_0x4cdd58(0xd04)]=_0x53ee69,_0x5c0365[_0x4cdd58(0x7b2)+currentStudentName+_0x4cdd58(0x542)]=serverTimestamp(),_0x5c0365[_0x4cdd58(0x7b2)+currentStudentName+_0x4cdd58(0x2e2)]=![],await updateDoc(_0x3a8e8d,_0x5c0365),liveGameView['innerHTML']=_0x4cdd58(0x446);}function showAdminSummaryView(_0x20513c,_0x197016){const _0x53f466=_0x5ddd37,_0xd608fa=Object[_0x53f466(0x7ee)](_0x20513c[_0x53f466(0xbd9)]||{}),_0x425b6f=_0x197016[_0x53f466(0x278)]||currentQuizData[_0x53f466(0xa9d)],_0x1066c3=_0x425b6f===_0x53f466(0xed0)?[_0x53f466(0x866),_0x53f466(0x780)]:_0x197016[_0x53f466(0x4ad)]||_0x197016[_0x53f466(0x20b)]||[],_0x5f16e0={},_0x373b1a=new Array(_0x1066c3[_0x53f466(0x85b)])['fill'](0x0);_0x1066c3[_0x53f466(0x23a)]((_0x42c1a9,_0x1616a5)=>{_0x5f16e0[_0x1616a5]=[];}),Object[_0x53f466(0xc63)](_0x20513c['players']||{})[_0x53f466(0x23a)](([_0x91cc92,_0x31a3c8])=>{const _0xd77a01=_0x53f466;if(_0x31a3c8['status']===_0xd77a01(0x5de)&&_0x31a3c8[_0xd77a01(0x951)]!==undefined){const _0x2fc18f=_0x31a3c8[_0xd77a01(0x951)];_0x5f16e0[_0x2fc18f]&&(_0x5f16e0[_0x2fc18f]['push'](_0x91cc92),_0x373b1a[_0x2fc18f]++);}});const _0x360dfe=Math['max'](..._0x373b1a,0x1),_0x546244=_0x53f466(0xb32)+(_0x197016[_0x53f466(0x692)]||_0x197016[_0x53f466(0xb93)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x373b1a[_0x53f466(0xa25)]((_0x27c50f,_0x5da6c8)=>{const _0x10d4ad=_0x53f466,_0x55368f=_0x5f16e0[_0x5da6c8][_0x10d4ad(0x85b)]>0x0?_0x5f16e0[_0x5da6c8][_0x10d4ad(0x40a)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x2c200e=![];if(_0x425b6f===_0x10d4ad(0xf0e))_0x2c200e=_0x5da6c8===_0x197016[_0x10d4ad(0x791)];else{if(_0x425b6f==='true_false'){const _0x256add=_0x197016[_0x10d4ad(0x98f)];_0x2c200e=_0x256add&&_0x5da6c8===0x0||!_0x256add&&_0x5da6c8===0x1;}else _0x425b6f===_0x10d4ad(0x867)&&(_0x2c200e=_0x1066c3[_0x5da6c8]===_0x197016[_0x10d4ad(0xcd9)]);}const _0x40cf2c=_0x2c200e?_0x10d4ad(0x8b6):_0x10d4ad(0x410);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x27c50f+_0x10d4ad(0x7ef)+_0x40cf2c+_0x10d4ad(0x488)+_0x5da6c8+_0x10d4ad(0x4c7)+_0x1066c3[_0x5da6c8]+_0x10d4ad(0xea4)+_0x5da6c8+_0x10d4ad(0x4f6)+_0x55368f+_0x10d4ad(0xcc3);})[_0x53f466(0x40a)]('')+_0x53f466(0x6a2);liveGameView[_0x53f466(0x1f9)]=_0x546244;if(window[_0x53f466(0xb8c)])MathJax[_0x53f466(0xe28)]();document[_0x53f466(0x4ff)](_0x53f466(0x34a))[_0x53f466(0xbe5)](_0x53f466(0xe61),async()=>{const _0x455d25=_0x53f466,_0x1e0b74=doc(db,_0x455d25(0x8a6)+appId+_0x455d25(0x299),currentLiveGameId);await updateDoc(_0x1e0b74,{'questionStatus':'leaderboard'});}),document[_0x53f466(0x4ff)](_0x53f466(0x298))[_0x53f466(0xbe5)]('click',()=>{openScratchpad(_0x197016,_0x1066c3);});}function showPlayerSummaryView(_0xae2727,_0x3f7434){const _0x2761f5=_0x5ddd37,_0x4943c8=Object[_0x2761f5(0x7ee)](_0xae2727[_0x2761f5(0xbd9)]||{}),_0x1b7440=_0xae2727[_0x2761f5(0xbd9)][_0x3f7434],_0x500d76=_0x4943c8['filter'](_0x235978=>_0x235978[_0x2761f5(0x361)]===_0x2761f5(0x5de))[_0x2761f5(0x23c)]((_0x2aa22d,_0x4dc324)=>_0x4dc324[_0x2761f5(0x6e9)]-_0x2aa22d[_0x2761f5(0x6e9)]),_0x9375aa=_0x500d76['findIndex'](_0x3dff24=>_0x3dff24===_0x1b7440)+0x1,_0x4fdb19=_0x1b7440[_0x2761f5(0x8a4)]?_0x2761f5(0xd7f):'ผิด',_0x23bb55=_0x1b7440[_0x2761f5(0x8a4)]?_0x2761f5(0xad7):_0x2761f5(0x1fa),_0x28868c=_0x1b7440[_0x2761f5(0x735)]||0x0,_0x43a571=_0x2761f5(0x741),_0x2307f4=_0x2761f5(0x24b)+_0x43a571+_0x2761f5(0x203)+_0x23bb55+_0x2761f5(0x58b)+_0x4fdb19+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x28868c+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x9375aa>0x0?_0x9375aa:'-')+_0x2761f5(0x522);liveGameView[_0x2761f5(0x1f9)]=_0x2307f4;}function createQuizFromBank(){const _0x2e269c=_0x5ddd37,_0x31f3e5=document['querySelectorAll'](_0x2e269c(0xd4a));if(_0x31f3e5[_0x2e269c(0x85b)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x287091=[];_0x31f3e5[_0x2e269c(0x23a)](_0x197a46=>{const _0x345341=_0x2e269c;_0x287091[_0x345341(0xb2a)](JSON[_0x345341(0xe29)](_0x197a46[_0x345341(0x717)]));});const _0x3a9bde={'topic':_0x2e269c(0xd1b),'questions':_0x287091};displayGeneratedQuiz(_0x3a9bde);}function showAdminLobbyView(_0x2aecd1,_0x4daa3e){const _0x26602a=_0x5ddd37;showView(_0x26602a(0x263));const _0x211583='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x4daa3e+_0x26602a(0x364)+_0x2aecd1+_0x26602a(0xdb0);liveGameView[_0x26602a(0x1f9)]=_0x211583,document[_0x26602a(0x4ff)](_0x26602a(0xaad))['addEventListener'](_0x26602a(0xe61),async()=>{const _0x5ee47a=_0x26602a;if(!currentQuizData||!currentQuizData[_0x5ee47a(0x7f9)]||currentQuizData[_0x5ee47a(0x7f9)][_0x5ee47a(0x85b)]===0x0){showMessage(_0x5ee47a(0x29f));return;}try{const _0x5a1413=doc(db,_0x5ee47a(0x8a6)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5a1413,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x23dd99=currentQuizData[_0x5ee47a(0x7f9)][0x0],_0x3a0012=currentQuizData[_0x5ee47a(0x7f9)]['length'];showAdminLiveQuestionView(_0x23dd99,0x0,_0x3a0012);}catch(_0x337783){console['error']('Error\x20starting\x20game:',_0x337783),showMessage(_0x5ee47a(0x6dd));}});}async function openQuizBankModal(){const _0x421b9e=_0x5ddd37;if(allQuizzesGlobal[_0x421b9e(0x85b)]===0x0){const _0x21cd31=await getDocs(collection(db,_0x421b9e(0x8a6)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x21cd31[_0x421b9e(0xb91)][_0x421b9e(0xa25)](_0x4da421=>({'id':_0x4da421['id'],..._0x4da421['data']()}));}renderQuizBankList(''),document[_0x421b9e(0x4ff)]('quiz-bank-modal')[_0x421b9e(0xc2e)][_0x421b9e(0x716)](_0x421b9e(0xc89));}function renderQuizBankList(_0x423ed0='',_0x56bb8a=![]){const _0x300a05=_0x5ddd37,_0x822cab=document[_0x300a05(0x4ff)]('bank-quiz-list'),_0x4acedb=_0x423ed0['toLowerCase']()[_0x300a05(0x26c)](),_0x3f879e=allQuizzesGlobal[_0x300a05(0xa25)](_0xe633a1=>({..._0xe633a1,'projectName':allProjects[_0x300a05(0xe0f)](_0x6d84d5=>_0x6d84d5['id']===_0xe633a1['projectId'])?.[_0x300a05(0x981)]||_0x300a05(0xc57)}))[_0x300a05(0xd8d)](_0x314276=>(_0x314276[_0x300a05(0xe77)]||'')[_0x300a05(0xbca)]()[_0x300a05(0xdf4)](_0x4acedb)||(_0x314276[_0x300a05(0x981)]||'')[_0x300a05(0xbca)]()[_0x300a05(0xdf4)](_0x4acedb)||_0x314276['id'][_0x300a05(0xe66)]()[_0x300a05(0xdf4)](_0x4acedb));document[_0x300a05(0x4ff)](_0x300a05(0x84c))[_0x300a05(0x602)]='('+_0x3f879e['length']+_0x300a05(0x51b),_0x822cab[_0x300a05(0x1f9)]=_0x3f879e[_0x300a05(0x85b)]?_0x3f879e[_0x300a05(0xa25)](_0x4f03bc=>{const _0x2e9af8=_0x300a05,_0x491bf7=!_0x56bb8a?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f03bc['id']+_0x2e9af8(0x444)+_0x4f03bc['id']+_0x2e9af8(0x934)+_0x4f03bc['id']+_0x2e9af8(0x94c)+_0x4f03bc['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f03bc['id']+_0x2e9af8(0x87d)+_0x4f03bc['id']+_0x2e9af8(0x7fb)+_0x4f03bc['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x4f03bc['id']+_0x2e9af8(0x60c)+(_0x4f03bc[_0x2e9af8(0xe77)]||_0x2e9af8(0x4f0))+_0x2e9af8(0xcb0)+(_0x4f03bc['questions']?.[_0x2e9af8(0x85b)]||0x0)+_0x2e9af8(0xee6)+_0x4f03bc['projectName']+_0x2e9af8(0x2bf)+_0x4f03bc['id']+_0x2e9af8(0xc8a)+_0x491bf7+_0x2e9af8(0x4a2);})[_0x300a05(0x40a)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x56bb8a&&(_0x822cab[_0x300a05(0xe1c)](_0x300a05(0xa19))[_0x300a05(0x23a)](_0x4af733=>{const _0xa5cc04=_0x300a05;_0x4af733[_0xa5cc04(0xbe5)](_0xa5cc04(0xe61),()=>{const _0x576405=_0xa5cc04,_0x506de1=_0x4af733[_0x576405(0x664)]['id'];document[_0x576405(0x4ff)](_0x576405(0xa23))[_0x576405(0xc2e)][_0x576405(0xee4)](_0x576405(0xc89)),showQuizDetailView(_0x506de1);});}),_0x822cab[_0x300a05(0xe1c)](_0x300a05(0x275))[_0x300a05(0x23a)](_0x13ee1c=>{const _0x240aa5=_0x300a05;_0x13ee1c['addEventListener'](_0x240aa5(0xe61),_0xb5c1f1=>{const _0x2b22dd=_0x240aa5;_0xb5c1f1[_0x2b22dd(0xf0a)]();const _0x5a1268=_0x13ee1c[_0x2b22dd(0x664)]['id'],_0x23b801=allQuizzesGlobal['find'](_0x3cd9b9=>_0x3cd9b9['id']===_0x5a1268);_0x23b801?(currentQuizData=_0x23b801,document['getElementById'](_0x2b22dd(0xa23))[_0x2b22dd(0xc2e)][_0x2b22dd(0xee4)](_0x2b22dd(0xc89)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x822cab['querySelectorAll']('.quiz-bank-parallel-btn')[_0x300a05(0x23a)](_0x2676fe=>{const _0x128d9b=_0x300a05;_0x2676fe[_0x128d9b(0xbe5)](_0x128d9b(0xe61),_0x35ebb2=>{const _0x527471=_0x128d9b;_0x35ebb2['stopPropagation']();const _0x2645f3=_0x2676fe['dataset']['id'],_0x5a0382=allQuizzesGlobal[_0x527471(0xe0f)](_0x1e7399=>_0x1e7399['id']===_0x2645f3);_0x5a0382?(document[_0x527471(0x4ff)](_0x527471(0xa23))[_0x527471(0xc2e)][_0x527471(0xee4)](_0x527471(0xc89)),handleGenerateParallelFromBank(_0x5a0382)):showMessage(_0x527471(0x907));});}),_0x822cab['querySelectorAll']('.quiz-bank-present-btn')[_0x300a05(0x23a)](_0x1abead=>{const _0x391f18=_0x300a05;_0x1abead[_0x391f18(0xbe5)]('click',_0x21dd0b=>{const _0xef52a0=_0x391f18;_0x21dd0b[_0xef52a0(0xf0a)]();const _0x36e471=_0x1abead[_0xef52a0(0x664)]['id'],_0x280268=allQuizzesGlobal[_0xef52a0(0xe0f)](_0x53816f=>_0x53816f['id']===_0x36e471);_0x280268?(document[_0xef52a0(0x4ff)](_0xef52a0(0xa23))[_0xef52a0(0xc2e)][_0xef52a0(0xee4)](_0xef52a0(0xc89)),startPresentation(_0x280268)):showMessage(_0xef52a0(0x907));});}),_0x822cab[_0x300a05(0xe1c)](_0x300a05(0x270))[_0x300a05(0x23a)](_0x2e4fac=>{const _0x4590a1=_0x300a05;_0x2e4fac[_0x4590a1(0xbe5)](_0x4590a1(0xe61),_0x4429da=>{const _0x3bd6f9=_0x4590a1;_0x4429da[_0x3bd6f9(0xf0a)]();const _0x595aea=_0x2e4fac['dataset']['id'];document[_0x3bd6f9(0x4ff)](_0x3bd6f9(0xa23))[_0x3bd6f9(0xc2e)][_0x3bd6f9(0xee4)]('hidden'),handleMoveQuiz(_0x595aea);});}),_0x822cab['querySelectorAll'](_0x300a05(0xf06))[_0x300a05(0x23a)](_0x53d656=>{const _0x160637=_0x300a05;_0x53d656[_0x160637(0xbe5)](_0x160637(0xe61),_0x4694c7=>{const _0x5d25a9=_0x160637;_0x4694c7['stopPropagation']();const _0x1c57d0=_0x53d656[_0x5d25a9(0x664)]['id'];document[_0x5d25a9(0x4ff)](_0x5d25a9(0xa23))[_0x5d25a9(0xc2e)][_0x5d25a9(0xee4)](_0x5d25a9(0xc89)),handleQuizSettings(_0x1c57d0);});}),_0x822cab['querySelectorAll'](_0x300a05(0xd4b))[_0x300a05(0x23a)](_0x5b101c=>{const _0x57bcaf=_0x300a05;_0x5b101c[_0x57bcaf(0xbe5)](_0x57bcaf(0xe61),_0x2314f7=>{const _0x2d9048=_0x57bcaf;_0x2314f7[_0x2d9048(0xf0a)]();const _0xdcadc6=_0x5b101c['dataset']['id'],_0x54864c=_0x5b101c['dataset'][_0x2d9048(0xe77)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x54864c+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0xdcadc6));});}));}async function handleCompareResults(_0x134a33,_0x46e885){const _0x38f903=_0x5ddd37,_0x2b50d2=document[_0x38f903(0x4ff)](_0x38f903(0xa0a)),_0x1917ef=document[_0x38f903(0x4ff)](_0x38f903(0xb29)),_0x2b1a66=document[_0x38f903(0x4ff)](_0x38f903(0x843));document[_0x38f903(0x4ff)](_0x38f903(0xebf))[_0x38f903(0xc2e)]['add'](_0x38f903(0x5de)),document['getElementById']('comparison-individual-tab')['classList'][_0x38f903(0x716)](_0x38f903(0x5de)),_0x1917ef['classList'][_0x38f903(0x716)](_0x38f903(0xc89)),_0x2b1a66['classList'][_0x38f903(0xee4)]('hidden'),_0x1917ef[_0x38f903(0x1f9)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x2b1a66['innerHTML']='',_0x2b50d2[_0x38f903(0xc2e)][_0x38f903(0x716)](_0x38f903(0xc89));try{const _0x1e30f8=doc(db,_0x38f903(0x8a6)+appId+_0x38f903(0xad5),_0x134a33),_0x39b3cb=await getDoc(_0x1e30f8);if(!_0x39b3cb[_0x38f903(0x8d2)]())throw new Error(_0x38f903(0xa7f));const _0xe54486=_0x39b3cb[_0x38f903(0xef5)](),_0x128039=_0xe54486[_0x38f903(0x7f9)][_0x38f903(0x85b)],_0x5917b6=collection(db,_0x38f903(0x8a6)+appId+'/public/data/quizzes/'+_0x46e885+_0x38f903(0xd9b)),_0x3f5a2f=collection(db,_0x38f903(0x8a6)+appId+_0x38f903(0x1f4)+_0x134a33+'/submissions'),[_0x54e8b5,_0x30af44]=await Promise[_0x38f903(0xa6b)]([getDocs(_0x5917b6),getDocs(_0x3f5a2f)]),_0x430c8b=_0x54e8b5[_0x38f903(0xb91)][_0x38f903(0xa25)](_0x465985=>_0x465985[_0x38f903(0xef5)]()),_0x52c236=_0x30af44['docs'][_0x38f903(0xa25)](_0x982724=>_0x982724[_0x38f903(0xef5)]()),_0xf8a5b=_0x430c8b[_0x38f903(0xa25)](_0x527c29=>_0x527c29[_0x38f903(0x3f1)]),_0x496aca=_0x52c236['map'](_0x50df87=>_0x50df87[_0x38f903(0x3f1)]),_0x2bb93c=calculateMeanAndStdDev(_0xf8a5b),_0x3c8157=calculateMeanAndStdDev(_0x496aca),_0x1115af=_0x2bb93c['mean'],_0x13af71=_0x3c8157[_0x38f903(0x589)],_0x554780=_0x13af71-_0x1115af;let _0x2fe751=_0x38f903(0x8f5)+_0x1115af[_0x38f903(0xe88)](0x2)+_0x38f903(0xf04)+_0x13af71[_0x38f903(0xe88)](0x2)+_0x38f903(0x3bf)+(_0x554780>=0x0?_0x38f903(0x582):_0x38f903(0xa28))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x554780>=0x0?_0x38f903(0xcc2):_0x38f903(0x80b))+_0x38f903(0x54e)+(_0x554780>=0x0?_0x38f903(0x715):_0x38f903(0x3ca))+'\x22>'+(_0x554780>=0x0?'+':'')+_0x554780['toFixed'](0x2)+_0x38f903(0xc48);_0x1917ef['innerHTML']=_0x2fe751;const _0x3e6ac7=document['getElementById'](_0x38f903(0x29c))[_0x38f903(0x20f)]('2d');if(chartInstances[_0x38f903(0xea7)])chartInstances[_0x38f903(0xea7)][_0x38f903(0x5b4)]();chartInstances['comparison']=new Chart(_0x3e6ac7,{'type':'bar','data':{'labels':[_0x38f903(0x9c1)],'datasets':[{'label':_0x38f903(0x65d),'data':[_0x1115af],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x38f903(0x825),'data':[_0x13af71],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x128039}}}});const _0xc14450=currentProjectData['students']||[],_0x1116bb=_0xc14450['map'](_0x3c6a8e=>{const _0x310dc2=_0x38f903,_0x28efea=_0x430c8b[_0x310dc2(0xe0f)](_0x48686a=>_0x48686a[_0x310dc2(0xc8f)]===_0x3c6a8e),_0x295f01=_0x52c236[_0x310dc2(0xe0f)](_0x1baee6=>_0x1baee6['studentName']===_0x3c6a8e),_0xd342a2=_0x28efea?_0x28efea['latestScore']:null,_0x172465=_0x295f01?_0x295f01[_0x310dc2(0x3f1)]:null,_0x454363=_0xd342a2!==null&&_0x172465!==null?_0x172465-_0xd342a2:null,_0x4d5784=_0xd342a2!==null?calculateZScore(_0xd342a2,_0x2bb93c['mean'],_0x2bb93c['stdDev']):null,_0x39dba7=_0x172465!==null?calculateZScore(_0x172465,_0x3c8157[_0x310dc2(0x589)],_0x3c8157['stdDev']):null,_0x36a3e5=_0x4d5784!==null?calculateTScore(_0x4d5784):null,_0x4531ab=_0x39dba7!==null?calculateTScore(_0x39dba7):null,_0x3f8f6b=_0x36a3e5!==null&&_0x4531ab!==null?_0x4531ab-_0x36a3e5:null;return{'name':_0x3c6a8e,'preScore':_0xd342a2,'postScore':_0x172465,'gain':_0x454363,'preTScore':_0x36a3e5,'postTScore':_0x4531ab,'tGain':_0x3f8f6b};});renderIndividualComparisonTable(_0x1116bb,_0x2b1a66);}catch(_0x13730b){console[_0x38f903(0x34c)](_0x38f903(0xc4b),_0x13730b),_0x1917ef[_0x38f903(0x1f9)]=_0x38f903(0x76f);}}async function saveBlueprintProject(){const _0x29ebf0=_0x5ddd37;if(!extractedBlueprintData||!extractedBlueprintData[_0x29ebf0(0xd0f)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x17b072=prompt(_0x29ebf0(0x97d),'Blueprint\x20O-NET\x20ป.6');if(!_0x17b072||_0x17b072['trim']()==='')return;const _0x4e4269={};extractedBlueprintData[_0x29ebf0(0xd0f)]['forEach'](_0x24fb4e=>{const _0x52f148=_0x29ebf0;_0x24fb4e[_0x52f148(0x940)][_0x52f148(0x23a)](_0x1bd2e0=>{const _0x8eaf85=_0x52f148;_0x1bd2e0[_0x8eaf85(0x37e)][_0x8eaf85(0x23a)](_0x4bfdad=>{const _0x323fb9=_0x8eaf85,_0x4199bd=_0x323fb9(0x21f)+Date['now']()+Math['random']()[_0x323fb9(0xe66)](0x24)[_0x323fb9(0x7e0)](0x2,0x9);_0x4e4269[_0x4199bd]={'sara':_0x24fb4e[_0x323fb9(0x7c5)],'mainTopic':_0x1bd2e0[_0x323fb9(0xade)],'subTopic':_0x4bfdad,'status':_0x323fb9(0x51f),'lessonContent':null};});});});try{const _0x46a7c0=collection(db,_0x29ebf0(0x8a6)+appId+_0x29ebf0(0x912));await addDoc(_0x46a7c0,{'projectName':_0x17b072[_0x29ebf0(0x26c)](),'gradeLevel':extractedBlueprintData[_0x29ebf0(0x732)],'topics':_0x4e4269,'createdAt':serverTimestamp()}),showMessage(_0x29ebf0(0x5c7)+_0x17b072['trim']()+_0x29ebf0(0x769)),document[_0x29ebf0(0x4ff)](_0x29ebf0(0x772))[_0x29ebf0(0xc2e)][_0x29ebf0(0xee4)](_0x29ebf0(0xc89));}catch(_0x3384bf){console['error']('Error\x20saving\x20blueprint\x20project:',_0x3384bf),showMessage(_0x29ebf0(0xd8a));}}async function showBlueprintProjects(){const _0x276469=_0x5ddd37,_0x11ecd2=document[_0x276469(0x4ff)](_0x276469(0xbd2)),_0x31d4f1=document[_0x276469(0x4ff)](_0x276469(0x659));_0x31d4f1[_0x276469(0x1f9)]=_0x276469(0xd1a),_0x11ecd2[_0x276469(0xc2e)][_0x276469(0x716)](_0x276469(0xc89));try{const _0x505b56=collection(db,_0x276469(0x8a6)+appId+_0x276469(0x912)),_0x4db578=await getDocs(_0x505b56);if(_0x4db578[_0x276469(0xb18)]){_0x31d4f1[_0x276469(0x1f9)]=_0x276469(0xeb5);return;}const _0x2d2256=_0x4db578[_0x276469(0xb91)][_0x276469(0xa25)](_0x1e5b39=>({'id':_0x1e5b39['id'],..._0x1e5b39[_0x276469(0xef5)]()}));_0x2d2256[_0x276469(0x23c)]((_0x19a09c,_0x7ba463)=>_0x19a09c[_0x276469(0x981)][_0x276469(0xe10)](_0x7ba463['projectName'],'th')),_0x31d4f1[_0x276469(0x1f9)]=_0x2d2256[_0x276469(0xa25)](_0x2531b2=>_0x276469(0x532)+_0x2531b2[_0x276469(0x981)]+_0x276469(0x74b)+_0x2531b2['gradeLevel']+_0x276469(0x25e)+Object[_0x276469(0x4cf)](_0x2531b2['topics'])[_0x276469(0x85b)]+_0x276469(0x786)+_0x2531b2['id']+_0x276469(0x9fc)+_0x2531b2['id']+_0x276469(0xe07))[_0x276469(0x40a)]('');}catch(_0x5b9559){console[_0x276469(0x34c)](_0x276469(0x9b3),_0x5b9559),_0x31d4f1['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x557379){const _0x1cc2d8=_0x5ddd37;currentBlueprintProjectId=_0x557379,document[_0x1cc2d8(0x4ff)](_0x1cc2d8(0xbd2))[_0x1cc2d8(0xc2e)][_0x1cc2d8(0xee4)](_0x1cc2d8(0xc89)),showView(_0x1cc2d8(0x443)),projectDashboardView[_0x1cc2d8(0xc2e)][_0x1cc2d8(0xee4)](_0x1cc2d8(0xc89));const _0x2eae0f=document[_0x1cc2d8(0x4ff)](_0x1cc2d8(0x693));_0x2eae0f[_0x1cc2d8(0xc2e)][_0x1cc2d8(0x716)](_0x1cc2d8(0xc89)),document[_0x1cc2d8(0x4ff)](_0x1cc2d8(0xa79))[_0x1cc2d8(0x1f9)]=_0x1cc2d8(0x811);try{const _0x5cd431=doc(db,_0x1cc2d8(0x8a6)+appId+'/public/data/blueprintProjects',_0x557379),_0x22ad91=await getDoc(_0x5cd431);if(!_0x22ad91[_0x1cc2d8(0x8d2)]())throw new Error('ไม่พบโปรเจค');const _0x5cc3c5={'id':_0x22ad91['id'],..._0x22ad91['data']()};document['getElementById']('bp-project-title')['textContent']=_0x5cc3c5['projectName'],document[_0x1cc2d8(0x4ff)]('bp-reference-file-url')[_0x1cc2d8(0x717)]=_0x5cc3c5[_0x1cc2d8(0x3d1)]||'',renderBlueprintTopicManager(_0x5cc3c5);}catch(_0x3d836b){console[_0x1cc2d8(0x34c)]('Error\x20displaying\x20blueprint\x20project:',_0x3d836b),showMessage(_0x3d836b[_0x1cc2d8(0x541)]),showView(_0x1cc2d8(0x443));}}function renderBlueprintTopicManager(_0x41382d){const _0x3187a3=_0x5ddd37,_0x389e5a=document[_0x3187a3(0x4ff)]('bp-topic-list-container'),_0x27b212=_0x41382d[_0x3187a3(0xc5a)]||{};if(Object[_0x3187a3(0x4cf)](_0x27b212)['length']===0x0){_0x389e5a[_0x3187a3(0x1f9)]=_0x3187a3(0x8a8);return;}const _0xf651bf=Object[_0x3187a3(0xc63)](_0x27b212)['map'](([_0x282587,_0x12c659])=>({'id':_0x282587,..._0x12c659}))['sort']((_0x5e7ee0,_0x4b814d)=>(_0x5e7ee0[_0x3187a3(0x9b7)]??Infinity)-(_0x4b814d[_0x3187a3(0x9b7)]??Infinity)),_0x33e46e={};_0xf651bf[_0x3187a3(0x23a)](_0x4a7ed6=>{const {sara:_0x42e3d5,mainTopic:_0x56ee19}=_0x4a7ed6;!_0x33e46e[_0x42e3d5]&&(_0x33e46e[_0x42e3d5]={}),!_0x33e46e[_0x42e3d5][_0x56ee19]&&(_0x33e46e[_0x42e3d5][_0x56ee19]=[]),_0x33e46e[_0x42e3d5][_0x56ee19]['push'](_0x4a7ed6);});let _0x36ef81='';for(const _0x1212ea in _0x33e46e){_0x36ef81+=_0x3187a3(0x9e3)+_0x1212ea+_0x3187a3(0x583);for(const _0x2887dc in _0x33e46e[_0x1212ea]){_0x36ef81+=_0x3187a3(0x789)+_0x2887dc+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x33e46e[_0x1212ea][_0x2887dc][_0x3187a3(0x23a)](_0x59ee5e=>{const _0x3e51b9=_0x3187a3,_0x131df2=_0x59ee5e['id'],_0x219686=_0x59ee5e[_0x3e51b9(0xead)]||[],_0x19f3b=_0x219686['length']>0x0,_0xca3559=_0x59ee5e[_0x3e51b9(0x361)]===_0x3e51b9(0xb03);let _0x3e5f9c='';_0x19f3b?_0x3e5f9c='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x219686[_0x3e51b9(0x85b)]+_0x3e51b9(0x352):_0x3e5f9c=_0x3e51b9(0xb62)+(_0xca3559?_0x3e51b9(0x744):_0x3e51b9(0x2e1))+'\x22>'+(_0xca3559?'สร้างแล้ว':_0x3e51b9(0xa52))+_0x3e51b9(0x2b9);const _0x51705f=!_0xca3559?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x235788=!_0xca3559?_0x3e51b9(0xeed):'';let _0x39f756=_0xca3559?_0x3e51b9(0x86f):_0x3e51b9(0xe70);_0x36ef81+=_0x3e51b9(0xdd2)+_0x131df2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x59ee5e['subTopic']+_0x3e51b9(0xdff)+_0x3e5f9c+_0x3e51b9(0x303)+_0x51705f+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x235788+_0x3e51b9(0x254)+_0x39f756+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x36ef81+=_0x3187a3(0xc7b);}_0x36ef81+=_0x3187a3(0x629);}_0x389e5a[_0x3187a3(0x1f9)]=_0x36ef81;}async function handleDeepDeleteBlueprintProject(_0x30c61a){const _0x9b4908=_0x5ddd37,_0x578f0f=doc(db,'artifacts/'+appId+_0x9b4908(0x912),_0x30c61a),_0x3dc991=await getDoc(_0x578f0f);if(!_0x3dc991[_0x9b4908(0x8d2)]()){showMessage(_0x9b4908(0xb0a));return;}const _0x4cbac1=_0x3dc991['data']()[_0x9b4908(0x981)];showConfirmation(_0x9b4908(0xf01)+_0x4cbac1+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x123a72=_0x9b4908;showMessage(_0x123a72(0xdd5));try{const _0x1420e2=writeBatch(db),_0x495eea=_0x3dc991[_0x123a72(0xef5)](),_0x5268a2=_0x495eea[_0x123a72(0xc5a)]||{};for(const _0x4c7847 in _0x5268a2){const _0x18ae87=doc(db,'artifacts/'+appId+_0x123a72(0x3bd)+_0x30c61a+_0x123a72(0x950),_0x4c7847);_0x1420e2[_0x123a72(0xacc)](_0x18ae87);}const _0x4cb759=new Set();for(const _0x2c1efe in _0x5268a2){_0x5268a2[_0x2c1efe]['linkedQuizIds']&&_0x5268a2[_0x2c1efe][_0x123a72(0xead)][_0x123a72(0x23a)](_0x6675a8=>_0x4cb759[_0x123a72(0xee4)](_0x6675a8));}for(const _0x88bb75 of _0x4cb759){await handleDeleteQuiz(_0x88bb75,![]);}_0x1420e2['delete'](_0x578f0f),await _0x1420e2[_0x123a72(0x7b5)](),showMessage('ลบโปรเจค\x20\x22'+_0x4cbac1+_0x123a72(0x2be)),showBlueprintProjects();}catch(_0x26d192){console[_0x123a72(0x34c)](_0x123a72(0x962),_0x26d192),showMessage(_0x123a72(0x9cc));}});}async function openTopicQuizBank(_0x529e6f){const _0x4c27c2=_0x5ddd37,_0x1650ef=document[_0x4c27c2(0x4ff)](_0x4c27c2(0x900)),_0x271325=document[_0x4c27c2(0x4ff)](_0x4c27c2(0xda8)),_0x4f99a1=document[_0x4c27c2(0x4ff)](_0x4c27c2(0xd55));try{await ensureGlobalQuizzesLoaded();const _0x56af40=doc(db,'artifacts/'+appId+_0x4c27c2(0x912),currentBlueprintProjectId),_0x5115bc=await getDoc(_0x56af40);if(!_0x5115bc[_0x4c27c2(0x8d2)]())return;const _0x33c93e=_0x5115bc['data'](),_0x1132d4=_0x33c93e[_0x4c27c2(0xc5a)][_0x529e6f];document['getElementById'](_0x4c27c2(0xeee))['textContent']=_0x1132d4['subTopic'];const _0x28bb66=_0x1132d4[_0x4c27c2(0xead)]||[];_0x4f99a1[_0x4c27c2(0xc2e)][_0x4c27c2(0xe23)]('hidden',_0x28bb66[_0x4c27c2(0x85b)]===0x0),_0x4f99a1['onclick']=()=>handleClearAllLinksForTopic(_0x529e6f);if(_0x28bb66[_0x4c27c2(0x85b)]===0x0)_0x271325[_0x4c27c2(0x1f9)]=_0x4c27c2(0xd84);else{const _0x1fb4ed=allQuizzesGlobal[_0x4c27c2(0xd8d)](_0x15971=>_0x28bb66[_0x4c27c2(0xdf4)](_0x15971['id']));_0x271325['innerHTML']=_0x1fb4ed[_0x4c27c2(0xa25)](_0x308fde=>_0x4c27c2(0xa5b)+_0x308fde['id']+_0x4c27c2(0xac6)+_0x308fde[_0x4c27c2(0xe77)]+_0x4c27c2(0x623)+_0x308fde['id']+_0x4c27c2(0x25e)+_0x308fde[_0x4c27c2(0x7f9)][_0x4c27c2(0x85b)]+_0x4c27c2(0x62c)+_0x308fde['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x308fde['id']+_0x4c27c2(0x478)+_0x308fde['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x308fde['id']+_0x4c27c2(0x6df)+_0x308fde['id']+_0x4c27c2(0x870)+_0x308fde['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x529e6f+_0x4c27c2(0x904)+_0x308fde['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}document['getElementById'](_0x4c27c2(0x5f5))['onclick']=()=>{openQuizSelectorForBlueprint(_0x529e6f);},document[_0x4c27c2(0x4ff)](_0x4c27c2(0xc14))['onclick']=()=>_0x1650ef['classList'][_0x4c27c2(0xee4)](_0x4c27c2(0xc89)),_0x1650ef[_0x4c27c2(0xc2e)][_0x4c27c2(0x716)](_0x4c27c2(0xc89));}catch(_0xeac0c7){showMessage(_0xeac0c7[_0x4c27c2(0x541)]);}}async function openQuizSelectorForBlueprint(_0x5801c4){const _0x8939f8=_0x5ddd37,_0x4a3cef=document['getElementById'](_0x8939f8(0xa23)),_0x5c6130=document['getElementById']('topic-quiz-bank-modal');_0x5c6130[_0x8939f8(0xc2e)][_0x8939f8(0xee4)](_0x8939f8(0xc89)),document[_0x8939f8(0x4ff)](_0x8939f8(0xe7b))?.['remove']();const _0x44dc5e=document[_0x8939f8(0x23d)](_0x8939f8(0x6db));_0x44dc5e['id']=_0x8939f8(0xe7b),_0x44dc5e[_0x8939f8(0xbaa)]=_0x8939f8(0x525),_0x44dc5e['textContent']=_0x8939f8(0xc4c),_0x44dc5e[_0x8939f8(0x206)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x4a3cef[_0x8939f8(0xc2e)]['remove'](_0x8939f8(0xc89)),renderQuizBankListForMultiSelect(''),document['getElementById']('bulk-quiz-settings-btn')[_0x8939f8(0x8c6)]['display']='none',_0x4a3cef[_0x8939f8(0xee9)](_0x8939f8(0xbde))[_0x8939f8(0x4a7)](_0x44dc5e);const _0x2fb1d8=(_0x258f39=![])=>{const _0xb671cf=_0x8939f8;_0x4a3cef[_0xb671cf(0xc2e)]['add']('hidden'),document['getElementById'](_0xb671cf(0x63b))[_0xb671cf(0x8c6)][_0xb671cf(0x800)]=_0xb671cf(0xb3b),_0x44dc5e[_0xb671cf(0x716)](),_0x258f39&&openTopicQuizBank(_0x5801c4);};_0x44dc5e[_0x8939f8(0x66e)]=async()=>{const _0x2ec5cd=_0x8939f8,_0x4607b5=Array[_0x2ec5cd(0x8ed)](document[_0x2ec5cd(0xe1c)](_0x2ec5cd(0x5f3)))[_0x2ec5cd(0xa25)](_0x12f491=>_0x12f491['value']);if(_0x4607b5[_0x2ec5cd(0x85b)]===0x0)return;try{const _0x2fb602=doc(db,_0x2ec5cd(0x8a6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x4f19d9=(await getDoc(_0x2fb602))[_0x2ec5cd(0xef5)](),_0x210fb0=_0x4f19d9[_0x2ec5cd(0xc5a)][_0x5801c4][_0x2ec5cd(0xead)]||[],_0x4b4e68=[...new Set([..._0x210fb0,..._0x4607b5])];await updateDoc(_0x2fb602,{[_0x2ec5cd(0xe92)+_0x5801c4+_0x2ec5cd(0xdbe)]:_0x4b4e68}),showMessage(_0x2ec5cd(0x5be)+_0x4607b5[_0x2ec5cd(0x85b)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x2fb1d8(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4b9c40){console['error'](_0x2ec5cd(0xe26),_0x4b9c40);}},document[_0x8939f8(0x4ff)]('cancel-quiz-bank-btn')['onclick']=()=>_0x2fb1d8(!![]);}catch(_0xda8103){showMessage(_0xda8103[_0x8939f8(0x541)]),_0x5c6130[_0x8939f8(0xc2e)][_0x8939f8(0x716)](_0x8939f8(0xc89));}}function handleClearLinkedQuiz(_0x3bc34f){const _0x1480bc=_0x5ddd37;showConfirmation(_0x1480bc(0x240),async()=>{const _0x16747f=_0x1480bc;try{const _0x5eb1fe=doc(db,_0x16747f(0x8a6)+appId+_0x16747f(0x912),currentBlueprintProjectId);await updateDoc(_0x5eb1fe,{[_0x16747f(0xe92)+_0x3bc34f+_0x16747f(0x931)]:deleteField()}),showMessage(_0x16747f(0xd41)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x108bb7){console[_0x16747f(0x34c)]('Error\x20clearing\x20linked\x20quiz:',_0x108bb7),showMessage(_0x16747f(0x8df));}});}async function addTopicToProject(){const _0x14d286=_0x5ddd37,_0x2dd61f=prompt(_0x14d286(0x592));if(!_0x2dd61f||_0x2dd61f[_0x14d286(0x26c)]()==='')return;const _0x284d5a=prompt(_0x14d286(0x622),_0x14d286(0x99d)),_0x567ab0=prompt(_0x14d286(0x60f),_0x14d286(0xa71)),_0x13da08=_0x14d286(0x21f)+Date[_0x14d286(0x599)]()+Math[_0x14d286(0x21a)]()[_0x14d286(0xe66)](0x24)[_0x14d286(0x7e0)](0x2,0x9),_0x54bcda={'sara':_0x284d5a,'mainTopic':_0x567ab0,'subTopic':_0x2dd61f[_0x14d286(0x26c)](),'status':_0x14d286(0x51f),'lessonContent':null};try{const _0x2143d7=doc(db,_0x14d286(0x8a6)+appId+_0x14d286(0x912),currentBlueprintProjectId);await updateDoc(_0x2143d7,{[_0x14d286(0xe92)+_0x13da08]:_0x54bcda}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1c2137){console['error'](_0x14d286(0xb15),_0x1c2137),showMessage(_0x14d286(0xdbd));}}async function editTopicInProject(_0x44b434){const _0x3d585b=_0x5ddd37,_0x42907e=document[_0x3d585b(0xee9)]('[data-topic-id=\x22'+_0x44b434+'\x22]'),_0x3f83a4=_0x42907e[_0x3d585b(0xee9)](_0x3d585b(0xce8)),_0x1a2fce=_0x3f83a4[_0x3d585b(0x602)],_0x2bb004=prompt(_0x3d585b(0x97b),_0x1a2fce);if(!_0x2bb004||_0x2bb004[_0x3d585b(0x26c)]()===''||_0x2bb004[_0x3d585b(0x26c)]()===_0x1a2fce)return;try{const _0x33082c=doc(db,'artifacts/'+appId+_0x3d585b(0x912),currentBlueprintProjectId);await updateDoc(_0x33082c,{[_0x3d585b(0xe92)+_0x44b434+_0x3d585b(0x75b)]:_0x2bb004[_0x3d585b(0x26c)]()}),_0x3f83a4[_0x3d585b(0x602)]=_0x2bb004[_0x3d585b(0x26c)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1e26b9){console[_0x3d585b(0x34c)](_0x3d585b(0x53b),_0x1e26b9),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x272ff1){const _0x3f884d=_0x5ddd37;if(!confirm(_0x3f884d(0x680)))return;try{const _0x32d482=doc(db,_0x3f884d(0x8a6)+appId+_0x3f884d(0x912),currentBlueprintProjectId);await updateDoc(_0x32d482,{['topics.'+_0x272ff1]:deleteField()}),document[_0x3f884d(0xee9)]('[data-topic-id=\x22'+_0x272ff1+'\x22]')[_0x3f884d(0x716)](),showMessage(_0x3f884d(0xe9a));}catch(_0x4b0211){console[_0x3f884d(0x34c)](_0x3f884d(0xe99),_0x4b0211),showMessage(_0x3f884d(0x8bf));}}async function generateAndSaveLessonForBlueprint(_0x24dd3f,_0xda9fac,_0x3220fc){handleGenerateAndShowLesson(_0xda9fac,_0x3220fc);const _0x16f127=setInterval(async()=>{const _0x3a8ca6=_0x2785,_0x45e314=document['getElementById']('lesson-view-modal'),_0x323dc6=_0x45e314[_0x3a8ca6(0xc2e)][_0x3a8ca6(0x995)](_0x3a8ca6(0xc89));if(_0x323dc6){clearInterval(_0x16f127);if(currentApplicationData&&currentApplicationData[_0x3a8ca6(0x85b)]>0x0){const _0x44d7c9={'point':document['getElementById'](_0x3a8ca6(0x2ff))['innerHTML'],'memory':document[_0x3a8ca6(0x4ff)](_0x3a8ca6(0xe6a))[_0x3a8ca6(0x1f9)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x3a8ca6(0x4ff)](_0x3a8ca6(0x9ca))['innerHTML']};try{const _0x2f64fb=doc(db,_0x3a8ca6(0x8a6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x2e6087=doc(db,_0x3a8ca6(0x8a6)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x3a8ca6(0x950),_0x24dd3f),_0x4ea52a=writeBatch(db);_0x4ea52a[_0x3a8ca6(0x9c0)](_0x2e6087,{'content':_0x44d7c9}),_0x4ea52a['update'](_0x2f64fb,{[_0x3a8ca6(0xe92)+_0x24dd3f+_0x3a8ca6(0x2de)]:_0x3a8ca6(0xb03)}),await _0x4ea52a[_0x3a8ca6(0x7b5)](),console[_0x3a8ca6(0x674)](_0x3a8ca6(0xd92)+_0x24dd3f+_0x3a8ca6(0x859)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x284125){console['error']('Error\x20saving\x20lesson\x20to\x20project:',_0x284125);}}}},0x3e8);}function displayHalfMarkResult(_0x131be3,_0x25300b){const _0x177657=_0x5ddd37,_0x1f2931=_0x131be3>=_0x25300b/0x2,_0x847f1a=_0x1f2931?_0x177657(0x2c7):_0x177657(0xa28),_0x5cf4a9=_0x1f2931?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x177657(0x7cb),_0x1a8f23=_0x1f2931?'text-green-800':_0x177657(0x80b),_0x32b780=_0x1f2931?_0x177657(0xb10):_0x177657(0x32b),_0x5a1936=_0x1f2931?_0x177657(0xc2f):_0x177657(0x79b);let _0x3d6b04=_0x177657(0xa16)+_0x847f1a+_0x177657(0xeb8)+_0x5cf4a9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x1a8f23+_0x177657(0xe4d)+_0x32b780+_0x177657(0x7d8)+_0x5a1936+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x177657(0x1f9)]=_0x3d6b04,studentResultArea[_0x177657(0xc2e)]['remove']('hidden'),studentQuizArea[_0x177657(0xc2e)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1f2931});}function displayPerfectScoreResult(_0x549208,_0x5d1bfa){const _0x21b794=_0x5ddd37,_0x13e9b8=_0x549208===_0x5d1bfa,_0x2a67bc=_0x13e9b8?_0x21b794(0xe1d):'bg-blue-100',_0x25fc67=_0x13e9b8?_0x21b794(0x255):_0x21b794(0xec0),_0x34c269=_0x13e9b8?_0x21b794(0x5cb):_0x21b794(0x5a8),_0x380e2c=_0x13e9b8?_0x21b794(0x7f1):_0x21b794(0x917),_0x1714f5=_0x13e9b8?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x21b794(0x993);let _0x1200da=_0x21b794(0xa16)+_0x2a67bc+_0x21b794(0xeb8)+_0x25fc67+_0x21b794(0x968)+_0x34c269+'\x20mb-2\x22>'+_0x380e2c+_0x21b794(0x7d8)+_0x1714f5+_0x21b794(0x4b9);studentResultArea['innerHTML']=_0x1200da,studentResultArea['classList']['remove'](_0x21b794(0xc89)),studentQuizArea[_0x21b794(0xc2e)][_0x21b794(0xee4)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x549208,'totalQuestions':_0x5d1bfa});}function renderIndividualComparisonTable(_0xe24d95,_0x433cb1){const _0x25f44e=_0x5ddd37;_0xe24d95['sort']((_0x10cd99,_0x48a4fa)=>(_0x48a4fa[_0x25f44e(0xd4f)]??-Infinity)-(_0x10cd99[_0x25f44e(0xd4f)]??-Infinity));let _0x60b889='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0xe24d95[_0x25f44e(0x85b)]===0x0?_0x60b889+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0xe24d95[_0x25f44e(0x23a)]((_0x309bfc,_0x3954a6)=>{const _0x16468e=_0x25f44e;let _0x4b6214='-',_0x188d59='';if(_0x309bfc[_0x16468e(0x634)]!==null){const _0x5097b0=_0x309bfc[_0x16468e(0x634)]>0x0?_0x16468e(0xa81):_0x309bfc[_0x16468e(0x634)]<0x0?_0x16468e(0xe24):_0x16468e(0x8c2),_0x52bcca=_0x309bfc[_0x16468e(0x634)]>0x0?'+':'';_0x4b6214=_0x16468e(0xc35)+_0x5097b0+'\x22>'+_0x52bcca+_0x309bfc['gain']+_0x16468e(0x2b9);if(_0x309bfc[_0x16468e(0x634)]>0x0)_0x188d59=_0x16468e(0x3e4);else _0x309bfc['gain']<0x0?_0x188d59=_0x16468e(0xa9a):_0x188d59=_0x16468e(0xd54);}let _0x4c26cf='-';if(_0x309bfc[_0x16468e(0xd4f)]!==null){const _0x532697=_0x309bfc[_0x16468e(0xd4f)]>0x0?'text-green-600':_0x309bfc[_0x16468e(0xd4f)]<0x0?_0x16468e(0xe24):_0x16468e(0x8c2),_0x1812f7=_0x309bfc[_0x16468e(0xd4f)]>0x0?'+':'';_0x4c26cf=_0x16468e(0xc35)+_0x532697+'\x22>'+_0x1812f7+_0x309bfc[_0x16468e(0xd4f)][_0x16468e(0xe88)](0x2)+_0x16468e(0x2b9);}_0x60b889+=_0x16468e(0x253)+(_0x3954a6+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x309bfc[_0x16468e(0xc44)]+_0x16468e(0xc6e)+(_0x309bfc[_0x16468e(0xbb3)]??'-')+_0x16468e(0x788)+(_0x309bfc[_0x16468e(0xe84)]??'-')+_0x16468e(0xc6e)+_0x4b6214+_0x16468e(0x5ac)+_0x188d59+_0x16468e(0xbff)+(_0x309bfc['preTScore']?.[_0x16468e(0xe88)](0x2)??'-')+_0x16468e(0xaf9)+(_0x309bfc[_0x16468e(0x3b2)]?.[_0x16468e(0xe88)](0x2)??'-')+_0x16468e(0xc6e)+_0x4c26cf+_0x16468e(0xee2);}),_0x60b889+=_0x25f44e(0x42d),_0x433cb1[_0x25f44e(0x1f9)]=_0x60b889;}function handleRenameQuiz(_0x3982d4,_0x1571aa){const _0x364452=_0x5ddd37;actionTargetId=_0x3982d4,document['getElementById'](_0x364452(0x464))[_0x364452(0x717)]=_0x1571aa,renameQuizModal[_0x364452(0xc2e)][_0x364452(0x716)](_0x364452(0xc89));}function setupComparisonModalTabs(){const _0x33afdd=_0x5ddd37,_0x21a91=document['getElementById']('comparison-overall-tab'),_0xcb2ab8=document['getElementById'](_0x33afdd(0x8e9)),_0x2d1dc6=document[_0x33afdd(0x4ff)](_0x33afdd(0xb29)),_0x4de4cc=document[_0x33afdd(0x4ff)](_0x33afdd(0x843));_0x21a91[_0x33afdd(0xbe5)](_0x33afdd(0xe61),()=>{const _0x57b2ba=_0x33afdd;_0x21a91[_0x57b2ba(0xc2e)][_0x57b2ba(0xee4)]('active'),_0xcb2ab8[_0x57b2ba(0xc2e)][_0x57b2ba(0x716)](_0x57b2ba(0x5de)),_0x2d1dc6[_0x57b2ba(0xc2e)][_0x57b2ba(0x716)](_0x57b2ba(0xc89)),_0x4de4cc[_0x57b2ba(0xc2e)]['add'](_0x57b2ba(0xc89));}),_0xcb2ab8['addEventListener'](_0x33afdd(0xe61),()=>{const _0x20cbeb=_0x33afdd;_0xcb2ab8[_0x20cbeb(0xc2e)][_0x20cbeb(0xee4)](_0x20cbeb(0x5de)),_0x21a91['classList']['remove'](_0x20cbeb(0x5de)),_0x4de4cc[_0x20cbeb(0xc2e)][_0x20cbeb(0x716)](_0x20cbeb(0xc89)),_0x2d1dc6['classList']['add']('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x22c547=_0x5ddd37;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x266675=doc(db,_0x22c547(0x8a6)+appId+_0x22c547(0x299),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x266675,_0x11857a=>{const _0x193aca=_0x22c547;if(!_0x11857a['exists']()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x193aca(0x420)?showView(_0x193aca(0xdf0)):showView(_0x193aca(0xa46));return;}const _0x4605a0=_0x11857a['data']();_0x4605a0[_0x193aca(0x230)]&&(currentQuizData=_0x4605a0[_0x193aca(0x230)]);!currentQuizData&&_0x4605a0[_0x193aca(0x555)]&&((async()=>{const _0x1c08ec=_0x193aca;try{const _0x3cf0f5=doc(db,_0x1c08ec(0x8a6)+appId+_0x1c08ec(0xad5),_0x4605a0[_0x1c08ec(0x555)]),_0x510721=await getDoc(_0x3cf0f5);_0x510721[_0x1c08ec(0x8d2)]()&&(currentQuizData={'id':_0x510721['id'],..._0x510721[_0x1c08ec(0xef5)]()});}catch(_0x3add66){console['error'](_0x1c08ec(0xdd6),_0x3add66);}})());switch(_0x4605a0[_0x193aca(0x361)]){case _0x193aca(0x356):if(currentMode===_0x193aca(0x420)){const _0x2041c1=_0x4605a0[_0x193aca(0xbd9)]?Object[_0x193aca(0xc63)](_0x4605a0[_0x193aca(0xbd9)]):[],_0x57eb0c=_0x2041c1[_0x193aca(0xd8d)](([_0x1ce57c,_0x4e97b7])=>_0x4e97b7['status']===_0x193aca(0x5de)),_0x397d6f=document[_0x193aca(0x4ff)]('player-count');if(_0x397d6f)_0x397d6f[_0x193aca(0x602)]=_0x57eb0c[_0x193aca(0x85b)];const _0x370ad0=document[_0x193aca(0x4ff)]('player-list-lobby');_0x370ad0&&(_0x370ad0[_0x193aca(0x1f9)]=_0x57eb0c[_0x193aca(0xa25)](([_0x10fc3d,_0x1b8d5a])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x10fc3d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x10fc3d+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x193aca(0x40a)](''));const _0x3d3d12=document[_0x193aca(0x4ff)](_0x193aca(0xaad));_0x3d3d12&&(_0x3d3d12[_0x193aca(0x206)]=_0x57eb0c['length']===0x0);}else showView(_0x193aca(0x263)),liveGameView['innerHTML']=_0x193aca(0x68b)+currentStudentName+_0x193aca(0xc59);break;case _0x193aca(0xb0e):const _0x37c8dc=_0x4605a0[_0x193aca(0x70b)];if(currentQuizData&&currentQuizData[_0x193aca(0x7f9)][_0x37c8dc]){const _0xedf68f=currentQuizData[_0x193aca(0x7f9)][_0x37c8dc],_0x15ad30=_0x4605a0[_0x193aca(0x9f0)]||_0x193aca(0xba2);switch(_0x15ad30){case _0x193aca(0x814):currentMode===_0x193aca(0x420)?showAdminSummaryView(_0x4605a0,_0xedf68f):showPlayerSummaryView(_0x4605a0,currentStudentName);break;case _0x193aca(0x4c8):currentMode==='admin'&&showTop5LeaderboardView(_0x4605a0);break;case _0x193aca(0xba2):default:if(currentMode===_0x193aca(0x420)){const _0x17548b=writeBatch(db);let _0x25f079=![];Object[_0x193aca(0xc63)](_0x4605a0[_0x193aca(0xbd9)])[_0x193aca(0x23a)](([_0x4e6c0a,_0x147de2])=>{const _0x51750d=_0x193aca;if(_0x147de2['status']===_0x51750d(0x5de)&&_0x147de2['submittedAt']&&!_0x147de2[_0x51750d(0x621)]){_0x25f079=!![];const _0x1f1f1d=_0x147de2[_0x51750d(0xc3e)][_0x51750d(0x8b5)]()-_0x4605a0[_0x51750d(0x396)][_0x51750d(0x8b5)]();let _0x1f3837=0x0;if(_0x147de2[_0x51750d(0x8a4)]){const _0x4bbfd3=0x3e8,_0x44f72d=0x1f4,_0x5295f9=0x4e20;let _0xfa961=_0x1f1f1d/_0x5295f9;if(_0xfa961>0x1)_0xfa961=0x1;const _0x141390=Math[_0x51750d(0xda2)](_0xfa961*_0x44f72d);_0x1f3837=_0x4bbfd3-_0x141390;}const _0x4d4d18=doc(db,_0x51750d(0x8a6)+appId+_0x51750d(0x299),currentLiveGameId);_0x17548b[_0x51750d(0xc94)](_0x4d4d18,{[_0x51750d(0x7b2)+_0x4e6c0a+'.score']:increment(_0x1f3837),[_0x51750d(0x7b2)+_0x4e6c0a+_0x51750d(0xad2)]:_0x1f3837,[_0x51750d(0x7b2)+_0x4e6c0a+_0x51750d(0x2e2)]:!![]});}});_0x25f079&&_0x17548b[_0x193aca(0x7b5)]()[_0x193aca(0x53c)](_0x239af7=>console[_0x193aca(0x34c)]('Error\x20committing\x20score\x20updates:',_0x239af7));lastRenderedAdminQuestionIndex!==_0x37c8dc&&(showAdminLiveQuestionView(_0xedf68f,_0x37c8dc,currentQuizData[_0x193aca(0x7f9)]['length']),lastRenderedAdminQuestionIndex=_0x37c8dc);const _0x34e3b5=_0x4605a0[_0x193aca(0xbd9)]||{},_0x53d7e2=Object[_0x193aca(0x7ee)](_0x34e3b5)[_0x193aca(0xd8d)](_0x4e835b=>_0x4e835b[_0x193aca(0x361)]===_0x193aca(0x5de)),_0x1d0004=_0x53d7e2[_0x193aca(0x85b)],_0x2a9c32=_0x53d7e2['filter'](_0x2f9146=>_0x2f9146[_0x193aca(0x5e5)]===!![])['length'],_0x208395=document[_0x193aca(0x4ff)](_0x193aca(0xcd4));if(_0x208395)_0x208395['textContent']=_0x2a9c32+'/'+_0x1d0004;const _0x2bf277=document[_0x193aca(0x4ff)](_0x193aca(0x6b8));if(_0x2bf277){let _0x535d09=Object[_0x193aca(0xc63)](_0x34e3b5)['filter'](([_0x5409c6,_0x5f39d7])=>_0x5f39d7['status']===_0x193aca(0x5de))[_0x193aca(0xa25)](([_0x488c7a,_0x31700b])=>{const _0x290d51=_0x193aca,_0x472079=_0x31700b['answeredCurrentQuestion']===!![],_0x4ac768=_0x472079?_0x290d51(0xad7):_0x290d51(0x984),_0x344a99=_0x472079?_0x290d51(0x7e1):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x290d51(0x395)+_0x4ac768+_0x290d51(0x91d)+_0x344a99+_0x290d51(0xc61)+_0x488c7a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x488c7a+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x193aca(0x40a)]('');_0x2bf277[_0x193aca(0x1f9)]=_0x535d09||_0x193aca(0x331);}_0x1d0004>0x0&&_0x2a9c32===_0x1d0004&&revealAnswerForAdmin(_0x37c8dc,currentQuizData[_0x193aca(0x7f9)][_0x193aca(0x85b)]);}else{const _0x3fa735=_0x4605a0[_0x193aca(0xbd9)][currentStudentName];_0x3fa735&&!_0x3fa735['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0xedf68f,_0x37c8dc,currentQuizData[_0x193aca(0x7f9)][_0x193aca(0x85b)]);}break;}}break;case _0x193aca(0xd73):showPodiumView(_0x4605a0[_0x193aca(0xbd9)],_0x193aca(0x2e3));break;}});}async function openGlobalActivityModal(){const _0xa321df=_0x5ddd37;if(allQuizzesGlobal[_0xa321df(0x85b)]===0x0){const _0x284d9f=await getDocs(collection(db,'artifacts/'+appId+_0xa321df(0xad5)));allQuizzesGlobal=_0x284d9f[_0xa321df(0xb91)][_0xa321df(0xa25)](_0x2289a9=>({'id':_0x2289a9['id'],..._0x2289a9[_0xa321df(0xef5)]()}));}renderGlobalActivityList(''),document['getElementById']('global-activity-modal')['classList'][_0xa321df(0x716)](_0xa321df(0xc89));}function renderGlobalActivityList(_0x27e268=''){const _0x45c5b7=_0x5ddd37,_0x17944f=document[_0x45c5b7(0x4ff)](_0x45c5b7(0x59c)),_0x557f2a=_0x27e268[_0x45c5b7(0xbca)]()[_0x45c5b7(0x26c)](),_0x4baa0b=allQuizzesGlobal['map'](_0x23d771=>({..._0x23d771,'projectName':allProjects[_0x45c5b7(0xe0f)](_0x4d6310=>_0x4d6310['id']===_0x23d771[_0x45c5b7(0x44e)])?.['projectName']||_0x45c5b7(0xc57)}))[_0x45c5b7(0xd8d)](_0xa51faa=>(_0xa51faa[_0x45c5b7(0xe77)]||'')['toLowerCase']()['includes'](_0x557f2a)||(_0xa51faa[_0x45c5b7(0x981)]||'')['toLowerCase']()[_0x45c5b7(0xdf4)](_0x557f2a));document[_0x45c5b7(0x4ff)](_0x45c5b7(0xe4a))['textContent']='('+_0x4baa0b['length']+_0x45c5b7(0x51b),_0x17944f[_0x45c5b7(0x1f9)]=_0x4baa0b[_0x45c5b7(0x85b)]?_0x4baa0b['map'](_0x199f58=>_0x45c5b7(0x81a)+(_0x199f58[_0x45c5b7(0xe77)]||_0x45c5b7(0x4f0))+_0x45c5b7(0x793)+(_0x199f58['questions']?.[_0x45c5b7(0x85b)]||0x0)+_0x45c5b7(0x876)+_0x199f58[_0x45c5b7(0x981)]+_0x45c5b7(0x50d)+_0x199f58['id']+_0x45c5b7(0x77e)+_0x199f58['id']+_0x45c5b7(0x8a2)+_0x199f58['id']+_0x45c5b7(0xf03)+_0x199f58['id']+_0x45c5b7(0x625))[_0x45c5b7(0x40a)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x49042d){const _0x3ed0c3=_0x5ddd37;if(!currentLiveGameId||!_0x49042d)return;const _0x4dc66a=doc(db,_0x3ed0c3(0x8a6)+appId+_0x3ed0c3(0x299),currentLiveGameId),_0x48b70f={};_0x48b70f[_0x3ed0c3(0x7b2)+_0x49042d+_0x3ed0c3(0x2de)]=_0x3ed0c3(0x924);try{await updateDoc(_0x4dc66a,_0x48b70f);}catch(_0x56381a){console[_0x3ed0c3(0x34c)](_0x3ed0c3(0x475)+_0x49042d+':',_0x56381a),showMessage(_0x3ed0c3(0xa8d));}}async function authenticateUser(){const _0x1b4d41=_0x5ddd37;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x41348c){console[_0x1b4d41(0x34c)](_0x1b4d41(0x884),_0x41348c),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x221412){const _0x79e621=_0x5ddd37;adminView[_0x79e621(0xc2e)]['add'](_0x79e621(0xc89)),studentView[_0x79e621(0xc2e)][_0x79e621(0xee4)](_0x79e621(0xc89)),projectDashboardView['classList'][_0x79e621(0xee4)](_0x79e621(0xc89)),projectDetailView['classList'][_0x79e621(0xee4)](_0x79e621(0xc89)),quizResultsView[_0x79e621(0xc2e)][_0x79e621(0xee4)](_0x79e621(0xc89)),liveGameView['classList'][_0x79e621(0xee4)]('hidden'),document[_0x79e621(0x4ff)](_0x79e621(0x693))[_0x79e621(0xc2e)][_0x79e621(0xee4)]('hidden'),studentInitialView[_0x79e621(0xc2e)][_0x79e621(0xee4)](_0x79e621(0xc89)),studentJoinGameView[_0x79e621(0xc2e)][_0x79e621(0xee4)](_0x79e621(0xc89)),studentNameSelectionView[_0x79e621(0xc2e)][_0x79e621(0xee4)](_0x79e621(0xc89)),studentQuizArea[_0x79e621(0xc2e)][_0x79e621(0xee4)]('hidden'),studentResultArea[_0x79e621(0xc2e)]['add']('hidden'),studentReadingArea[_0x79e621(0xc2e)]['add']('hidden');const _0xf9f20d=document[_0x79e621(0x4ff)]('student-team-selection-view'),_0x167270=document['getElementById'](_0x79e621(0x831));if(_0xf9f20d)_0xf9f20d['classList'][_0x79e621(0xee4)](_0x79e621(0xc89));if(_0x167270)_0x167270[_0x79e621(0xc2e)][_0x79e621(0xee4)](_0x79e621(0xc89));switch(_0x221412){case _0x79e621(0x443):adminView[_0x79e621(0xc2e)][_0x79e621(0x716)](_0x79e621(0xc89)),projectDashboardView[_0x79e621(0xc2e)][_0x79e621(0x716)]('hidden');break;case'project-detail':adminView[_0x79e621(0xc2e)][_0x79e621(0x716)]('hidden'),projectDetailView[_0x79e621(0xc2e)][_0x79e621(0x716)](_0x79e621(0xc89));break;case'quiz-results':adminView[_0x79e621(0xc2e)][_0x79e621(0x716)]('hidden'),quizResultsView[_0x79e621(0xc2e)][_0x79e621(0x716)]('hidden');break;case _0x79e621(0xa46):studentView[_0x79e621(0xc2e)][_0x79e621(0x716)]('hidden'),studentInitialView[_0x79e621(0xc2e)][_0x79e621(0x716)](_0x79e621(0xc89));break;case _0x79e621(0x263):liveGameView[_0x79e621(0xc2e)][_0x79e621(0x716)](_0x79e621(0xc89));break;case _0x79e621(0xc8b):studentView[_0x79e621(0xc2e)][_0x79e621(0x716)](_0x79e621(0xc89));if(_0xf9f20d)_0xf9f20d[_0x79e621(0xc2e)][_0x79e621(0x716)](_0x79e621(0xc89));break;case _0x79e621(0xef9):studentView[_0x79e621(0xc2e)]['remove'](_0x79e621(0xc89));if(_0x167270)_0x167270['classList'][_0x79e621(0x716)](_0x79e621(0xc89));break;default:studentView[_0x79e621(0xc2e)]['remove']('hidden'),studentInitialView[_0x79e621(0xc2e)][_0x79e621(0x716)](_0x79e621(0xc89));break;}}function showJoinGameView(){const _0x9ddd31=_0x5ddd37;studentInitialView[_0x9ddd31(0xc2e)][_0x9ddd31(0xee4)](_0x9ddd31(0xc89)),studentJoinGameView[_0x9ddd31(0xc2e)][_0x9ddd31(0x716)](_0x9ddd31(0xc89));}async function handleSaveVisibilitySettings(){const _0x25e778=_0x5ddd37;if(!currentProjectId)return;const _0x3440d8=doc(db,'artifacts/'+appId+_0x25e778(0x8c1),currentProjectId);try{await updateDoc(_0x3440d8,{'settings.showInStudentDashboard':document[_0x25e778(0x4ff)](_0x25e778(0xee1))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x25e778(0x24a))[_0x25e778(0x749)],'settings.passcode':document['getElementById'](_0x25e778(0x8e3))[_0x25e778(0x717)][_0x25e778(0x26c)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x4da210){console[_0x25e778(0x34c)](_0x25e778(0x8fc),_0x4da210),showMessage(_0x25e778(0x315));}}function setupEventListeners(){const _0x198ef9=_0x5ddd37,_0x7239ce=document['getElementById'](_0x198ef9(0xae0));_0x7239ce&&_0x7239ce['addEventListener'](_0x198ef9(0xe61),()=>{const _0x4d4c40=_0x198ef9,_0x3124f9=document['getElementById'](_0x4d4c40(0x415)),_0x20a2ec=document[_0x4d4c40(0x4ff)](_0x4d4c40(0x7fd));_0x3124f9&&(_0x3124f9['value']=_0x3124f9[_0x4d4c40(0xa87)],_0x20a2ec&&(_0x20a2ec['textContent']=_0x3124f9[_0x4d4c40(0x717)],_0x20a2ec[_0x4d4c40(0xc2e)]['remove'](_0x4d4c40(0x7db)),void _0x20a2ec[_0x4d4c40(0x9dd)],_0x20a2ec[_0x4d4c40(0xc2e)][_0x4d4c40(0xee4)](_0x4d4c40(0x223),_0x4d4c40(0x4de),'scale-125',_0x4d4c40(0xe24)),setTimeout(()=>_0x20a2ec['classList'][_0x4d4c40(0x716)]('scale-125',_0x4d4c40(0xe24)),0xc8)));});document[_0x198ef9(0x4ff)]('cancel-wager-btn')['addEventListener'](_0x198ef9(0xe61),()=>{const _0x1dcf2f=_0x198ef9;document[_0x1dcf2f(0x4ff)](_0x1dcf2f(0x784))['classList'][_0x1dcf2f(0xee4)](_0x1dcf2f(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x8c4))[_0x198ef9(0xbe5)]('click',()=>{const _0x70478a=_0x198ef9,_0x23e495=document[_0x70478a(0x4ff)](_0x70478a(0x784)),_0x4230a1=document['getElementById']('selected-answer-index-hidden-wager'),_0x3ab3cf=document[_0x70478a(0x4ff)](_0x70478a(0x415))['value'],_0x1c5f57=_0x4230a1[_0x70478a(0x664)]['answerValue'],_0x8e76dc=JSON[_0x70478a(0xe29)](_0x4230a1[_0x70478a(0x664)][_0x70478a(0xb0e)]),_0x548fbd=JSON['parse'](_0x4230a1[_0x70478a(0x664)][_0x70478a(0x250)]),_0x207ca6=_0x4230a1['dataset']['playerName'];_0x23e495[_0x70478a(0xc2e)]['add'](_0x70478a(0xc89)),handleSyncAnswerSubmit(_0x1c5f57,_0x8e76dc,_0x548fbd,_0x207ca6,![],_0x3ab3cf);}),document[_0x198ef9(0xe1c)](_0x198ef9(0x944))[_0x198ef9(0x23a)](_0x36c862=>{const _0x2efd70=_0x198ef9;_0x36c862[_0x2efd70(0xbe5)](_0x2efd70(0xdd4),_0x14747e=>{const _0x392435=_0x2efd70,_0x1265cd=document[_0x392435(0x4ff)](_0x392435(0x484));_0x14747e[_0x392435(0x2b8)]['value']===_0x392435(0xa1d)?_0x1265cd[_0x392435(0xc2e)]['remove']('hidden'):_0x1265cd['classList']['add'](_0x392435(0xc89));});}),document['getElementById'](_0x198ef9(0x4b0))['addEventListener'](_0x198ef9(0xdd4),_0x454b04=>{const _0x2edd53=_0x198ef9;document[_0x2edd53(0x4ff)]('sync-timer-duration-container')[_0x2edd53(0xc2e)]['toggle']('hidden',!_0x454b04['target'][_0x2edd53(0x749)]);});const _0x251af0=document[_0x198ef9(0x4ff)](_0x198ef9(0x90c)),_0x7a0d0d=document[_0x198ef9(0x4ff)](_0x198ef9(0x44f));_0x251af0&&_0x7a0d0d&&_0x251af0['addEventListener']('click',()=>{const _0x4171d6=_0x198ef9;_0x7a0d0d[_0x4171d6(0xc2e)][_0x4171d6(0xee4)](_0x4171d6(0xc89)),_0x7a0d0d[_0x4171d6(0x664)][_0x4171d6(0xab7)]='';});const _0x1ac4fa=document[_0x198ef9(0x4ff)](_0x198ef9(0x45b));_0x1ac4fa&&(_0x1ac4fa[_0x198ef9(0xbe5)](_0x198ef9(0xa24),wakeUpScreen),_0x1ac4fa[_0x198ef9(0xbe5)](_0x198ef9(0x5ae),wakeUpScreen));document[_0x198ef9(0x4ff)](_0x198ef9(0xe60))[_0x198ef9(0xbe5)]('click',async()=>{const _0x3ac129=_0x198ef9;if(!currentBlueprintProjectId)return;const _0x5a9345=document[_0x3ac129(0x4ff)]('bp-reference-file-url')[_0x3ac129(0x717)][_0x3ac129(0x26c)](),_0x210f5c=doc(db,_0x3ac129(0x8a6)+appId+_0x3ac129(0x912),currentBlueprintProjectId);try{await updateDoc(_0x210f5c,{'referenceFileUrl':_0x5a9345}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x35e5e1){console[_0x3ac129(0x34c)](_0x3ac129(0x4ae),_0x35e5e1),showMessage(_0x3ac129(0x315));}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x386))['addEventListener'](_0x198ef9(0xe61),handleAddParallelShortcutTab),document['getElementById']('parallel-test-input-area')['addEventListener'](_0x198ef9(0xe61),_0x5db047=>{const _0x3f1be1=_0x198ef9;_0x5db047[_0x3f1be1(0x2b8)]['closest'](_0x3f1be1(0xeec))&&(activeParallelShortcutTabId=_0x3f1be1(0xa6b),renderAdditionalParallelShortcutsModal(),document[_0x3f1be1(0x4ff)](_0x3f1be1(0xa5f))[_0x3f1be1(0xc2e)][_0x3f1be1(0x716)](_0x3f1be1(0xc89)));}),document[_0x198ef9(0x4ff)]('close-additional-parallel-shortcuts-btn')['addEventListener'](_0x198ef9(0xe61),()=>{const _0x2bfff3=_0x198ef9;document[_0x2bfff3(0x4ff)](_0x2bfff3(0xa5f))[_0x2bfff3(0xc2e)]['add'](_0x2bfff3(0xc89));}),document[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x321995=>{const _0x315638=_0x198ef9;!_0x321995[_0x315638(0x2b8)][_0x315638(0x7c4)](_0x315638(0x390))&&document[_0x315638(0xe1c)](_0x315638(0x3ae))[_0x315638(0x23a)](_0x3d7674=>_0x3d7674[_0x315638(0xc2e)]['add'](_0x315638(0xc89)));}),document['getElementById'](_0x198ef9(0xbb9))['addEventListener']('click',handleAddFileShortcutTab),document[_0x198ef9(0x4ff)]('file-input-area')['addEventListener']('click',_0x30858b=>{const _0x3c72e3=_0x198ef9;_0x30858b[_0x3c72e3(0x2b8)][_0x3c72e3(0x7c4)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x3c72e3(0x4ff)](_0x3c72e3(0x283))[_0x3c72e3(0xc2e)][_0x3c72e3(0x716)](_0x3c72e3(0xc89)));}),document[_0x198ef9(0x4ff)](_0x198ef9(0xb6e))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x4911ab=_0x198ef9;document[_0x4911ab(0x4ff)](_0x4911ab(0x283))[_0x4911ab(0xc2e)][_0x4911ab(0xee4)](_0x4911ab(0xc89));}),document['addEventListener']('click',_0x407e32=>{const _0x3b1cb1=_0x198ef9;!_0x407e32[_0x3b1cb1(0x2b8)][_0x3b1cb1(0x7c4)](_0x3b1cb1(0xd10))&&document[_0x3b1cb1(0xe1c)](_0x3b1cb1(0xc26))[_0x3b1cb1(0x23a)](_0x35ca31=>_0x35ca31[_0x3b1cb1(0xc2e)]['add'](_0x3b1cb1(0xc89)));}),document[_0x198ef9(0x4ff)](_0x198ef9(0xeb2))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleAddShortcutTab),document[_0x198ef9(0x4ff)](_0x198ef9(0x899))[_0x198ef9(0xbe5)]('click',_0x1a9e92=>{const _0xa75771=_0x198ef9,_0x5c5b4c=_0x1a9e92[_0xa75771(0x2b8)][_0xa75771(0x7c4)](_0xa75771(0x8ae)),_0x33e2d3=_0x1a9e92['target'][_0xa75771(0x7c4)](_0xa75771(0x82a)),_0x9b8c26=_0x1a9e92[_0xa75771(0x2b8)][_0xa75771(0x7c4)](_0xa75771(0x580));if(_0x33e2d3)openParallelTestShortcutEditor(_0x33e2d3[_0xa75771(0x664)]['id']);else{if(_0x9b8c26){const _0x1e8dc1=_0x9b8c26[_0xa75771(0x664)]['id'];showConfirmation(_0xa75771(0x4bc),async()=>{const _0x45c634=_0xa75771,_0x34ce76=parallelTestShortcuts[_0x45c634(0xd8d)](_0x3bdd54=>_0x3bdd54['id']!==_0x1e8dc1),_0x5c3f82=doc(db,_0x45c634(0x6c4),_0x45c634(0x605));await setDoc(_0x5c3f82,{'shortcuts':_0x34ce76},{'merge':!![]});});}else _0x5c5b4c&&handleParallelTestShortcutClick(_0x5c5b4c['dataset']['id']);}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x3a2))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>openParallelTestShortcutEditor(null)),document[_0x198ef9(0x4ff)](_0x198ef9(0x952))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x188c8e=_0x198ef9;document[_0x188c8e(0x4ff)]('parallel-shortcut-editor-modal')['classList'][_0x188c8e(0xee4)]('hidden');}),document['getElementById']('save-parallel-shortcut-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),saveParallelTestShortcutChanges),document['getElementById'](_0x198ef9(0x803))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x41a846=>{const _0x3438cb=_0x198ef9;_0x41a846[_0x3438cb(0x2b8)][_0x3438cb(0x7c4)](_0x3438cb(0xeec))&&document[_0x3438cb(0x4ff)](_0x3438cb(0xa5f))[_0x3438cb(0xc2e)][_0x3438cb(0x716)](_0x3438cb(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x632))[_0x198ef9(0xbe5)]('click',()=>{const _0x43c386=_0x198ef9;document[_0x43c386(0x4ff)](_0x43c386(0xa5f))['classList'][_0x43c386(0xee4)]('hidden');}),document['getElementById']('additional-parallel-shortcuts-list')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x1f9e91=>{const _0x123e8c=_0x198ef9,_0x44ae55=document['getElementById'](_0x123e8c(0xa5f)),_0xdaa5b5=_0x1f9e91[_0x123e8c(0x2b8)][_0x123e8c(0x7c4)](_0x123e8c(0x95b)),_0x311684=_0x1f9e91[_0x123e8c(0x2b8)][_0x123e8c(0x7c4)](_0x123e8c(0x679)),_0x204c94=_0x1f9e91[_0x123e8c(0x2b8)]['closest'](_0x123e8c(0xefe));if(_0xdaa5b5)_0x44ae55[_0x123e8c(0xc2e)]['add'](_0x123e8c(0xc89)),handleParallelTestShortcutClick(_0xdaa5b5[_0x123e8c(0x664)]['id']);else{if(_0x311684)_0x44ae55[_0x123e8c(0xc2e)][_0x123e8c(0xee4)](_0x123e8c(0xc89)),openParallelTestShortcutEditor(_0x311684[_0x123e8c(0x664)]['id']);else{if(_0x204c94){const _0x46341f=_0x204c94['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x25f95a=_0x123e8c,_0x396fb9=parallelTestShortcuts[_0x25f95a(0xd8d)](_0x1ffe78=>_0x1ffe78['id']!==_0x46341f),_0x358869=doc(db,_0x25f95a(0x6c4),_0x25f95a(0x605));await setDoc(_0x358869,{'shortcuts':_0x396fb9},{'merge':!![]});});}}}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x7f3))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x14fa7d=>{const _0x2e1e58=_0x198ef9,_0x3ec5c9=_0x14fa7d[_0x2e1e58(0x2b8)][_0x2e1e58(0x7c4)](_0x2e1e58(0x432)),_0x20b3a8=_0x14fa7d[_0x2e1e58(0x2b8)][_0x2e1e58(0x7c4)](_0x2e1e58(0xef7)),_0x400282=_0x14fa7d['target']['closest'](_0x2e1e58(0x54f));if(_0x20b3a8)openFileShortcutEditor(_0x20b3a8[_0x2e1e58(0x664)]['id']);else{if(_0x400282){const _0x4f70d8=_0x400282[_0x2e1e58(0x664)]['id'];showConfirmation(_0x2e1e58(0x4bc),async()=>{const _0x13822f=_0x2e1e58,_0x450a73=fileShortcuts['filter'](_0x494f46=>_0x494f46['id']!==_0x4f70d8),_0xa0e921=doc(db,_0x13822f(0x6c4),_0x13822f(0x847));await setDoc(_0xa0e921,{'shortcuts':_0x450a73},{'merge':!![]});});}else _0x3ec5c9&&handleFileShortcutClick(_0x3ec5c9[_0x2e1e58(0x664)]['id']);}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x9c6))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>openFileShortcutEditor(null)),document[_0x198ef9(0x4ff)]('cancel-file-shortcut-edit-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x323805=_0x198ef9;document['getElementById'](_0x323805(0x8da))['classList']['add']('hidden');}),document[_0x198ef9(0x4ff)](_0x198ef9(0xcac))['addEventListener'](_0x198ef9(0xe61),saveFileShortcutChanges),document[_0x198ef9(0x4ff)](_0x198ef9(0xebe))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x519785=>{const _0x5e9b7d=_0x198ef9;_0x519785[_0x5e9b7d(0x2b8)]['closest'](_0x5e9b7d(0xc28))&&document[_0x5e9b7d(0x4ff)](_0x5e9b7d(0x283))[_0x5e9b7d(0xc2e)][_0x5e9b7d(0x716)](_0x5e9b7d(0xc89));}),document['getElementById']('close-additional-file-shortcuts-btn')['addEventListener'](_0x198ef9(0xe61),()=>{const _0x396d55=_0x198ef9;document[_0x396d55(0x4ff)]('additional-file-shortcuts-modal')[_0x396d55(0xc2e)]['add']('hidden');}),document[_0x198ef9(0x4ff)](_0x198ef9(0x6c0))[_0x198ef9(0xbe5)]('click',_0x674959=>{const _0x2b75ac=_0x198ef9,_0x2a6238=document[_0x2b75ac(0x4ff)](_0x2b75ac(0x283)),_0x1da016=_0x674959[_0x2b75ac(0x2b8)][_0x2b75ac(0x7c4)](_0x2b75ac(0x422)),_0x463457=_0x674959[_0x2b75ac(0x2b8)][_0x2b75ac(0x7c4)](_0x2b75ac(0x5b3)),_0x5e19fd=_0x674959[_0x2b75ac(0x2b8)]['closest'](_0x2b75ac(0x3ef));if(_0x1da016)_0x2a6238['classList'][_0x2b75ac(0xee4)](_0x2b75ac(0xc89)),handleFileShortcutClick(_0x1da016[_0x2b75ac(0x664)]['id']);else{if(_0x463457)_0x2a6238[_0x2b75ac(0xc2e)][_0x2b75ac(0xee4)](_0x2b75ac(0xc89)),openFileShortcutEditor(_0x463457['dataset']['id']);else{if(_0x5e19fd){const _0x37503d=_0x5e19fd[_0x2b75ac(0x664)]['id'];showConfirmation(_0x2b75ac(0x4bc),async()=>{const _0x44cf06=_0x2b75ac,_0x1a1fea=fileShortcuts['filter'](_0x1b5890=>_0x1b5890['id']!==_0x37503d),_0x19ed00=doc(db,_0x44cf06(0x6c4),_0x44cf06(0x847));await setDoc(_0x19ed00,{'shortcuts':_0x1a1fea},{'merge':!![]});});}}}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x62e))['addEventListener'](_0x198ef9(0xe61),_0x62b83c=>{const _0x2ea011=_0x198ef9;_0x62b83c[_0x2ea011(0x2b8)][_0x2ea011(0x7c4)](_0x2ea011(0x31a))&&(activeShortcutTabId=_0x2ea011(0xa6b),renderAdditionalShortcutsModal(),document[_0x2ea011(0x4ff)](_0x2ea011(0x2f7))[_0x2ea011(0xc2e)][_0x2ea011(0x716)](_0x2ea011(0xc89)));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x9f9))['addEventListener']('click',()=>{const _0x4b4111=_0x198ef9;document[_0x4b4111(0x4ff)](_0x4b4111(0x2f7))[_0x4b4111(0xc2e)][_0x4b4111(0xee4)](_0x4b4111(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x500))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x4693b8=>{const _0x5078a4=_0x198ef9,_0x214008=_0x4693b8[_0x5078a4(0x2b8)][_0x5078a4(0x7c4)](_0x5078a4(0x75c)),_0x46ed80=_0x4693b8[_0x5078a4(0x2b8)]['closest'](_0x5078a4(0x8ee)),_0xdf4a18=_0x4693b8[_0x5078a4(0x2b8)][_0x5078a4(0x7c4)](_0x5078a4(0xb42)),_0x4ccdc0=document[_0x5078a4(0x4ff)](_0x5078a4(0x2f7));if(_0x214008)_0x4ccdc0[_0x5078a4(0xc2e)]['add'](_0x5078a4(0xc89)),handleShortcutClick(_0x214008[_0x5078a4(0x664)]['id']);else{if(_0x46ed80)_0x4ccdc0[_0x5078a4(0xc2e)]['add']('hidden'),openShortcutEditor(_0x46ed80[_0x5078a4(0x664)]['id']);else{if(_0xdf4a18){const _0x4cbdac=_0xdf4a18[_0x5078a4(0x664)]['id'],_0x351656=blueprintShortcuts['find'](_0x421b9a=>_0x421b9a['id']===_0x4cbdac)?.[_0x5078a4(0xc44)];showConfirmation(_0x5078a4(0x57b)+_0x351656+'\x22?',async()=>{const _0x18c04d=_0x5078a4,_0x28ff25=blueprintShortcuts['filter'](_0x3db92c=>_0x3db92c['id']!==_0x4cbdac);try{const _0x10d0f0=doc(db,_0x18c04d(0x6c4),'dashboardConfig');await setDoc(_0x10d0f0,{'blueprintShortcuts':_0x28ff25},{'merge':!![]});}catch(_0x2fd4b9){console[_0x18c04d(0x34c)](_0x18c04d(0x8c9),_0x2fd4b9);}});}}}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x7c6))['addEventListener']('click',_0x23ea45=>{const _0x197a6f=_0x198ef9,_0xb6b61f=_0x23ea45[_0x197a6f(0x2b8)][_0x197a6f(0x7c4)](_0x197a6f(0x9ba)),_0x485d9c=_0x23ea45['target'][_0x197a6f(0x7c4)](_0x197a6f(0x6d7)),_0x5efd32=_0x23ea45[_0x197a6f(0x2b8)][_0x197a6f(0x7c4)]('.delete-shortcut-btn');if(_0x485d9c)openShortcutEditor(_0x485d9c[_0x197a6f(0x664)]['id']);else{if(_0x5efd32){const _0x3b163f=_0x5efd32[_0x197a6f(0x664)]['id'],_0x286bae=blueprintShortcuts[_0x197a6f(0xe0f)](_0x20b17a=>_0x20b17a['id']===_0x3b163f)?.[_0x197a6f(0xc44)];showConfirmation(_0x197a6f(0x57b)+_0x286bae+'\x22?',async()=>{const _0x69965c=_0x197a6f,_0x34b920=blueprintShortcuts['filter'](_0x1a75de=>_0x1a75de['id']!==_0x3b163f);try{const _0xfedc75=doc(db,_0x69965c(0x6c4),_0x69965c(0x61f));await setDoc(_0xfedc75,{'blueprintShortcuts':_0x34b920},{'merge':!![]});}catch(_0x40eb6b){console['error']('Error\x20deleting\x20shortcut:',_0x40eb6b);}});}else _0xb6b61f&&handleShortcutClick(_0xb6b61f['dataset']['id']);}}),document['getElementById'](_0x198ef9(0x329))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>openShortcutEditor(null)),document['getElementById']('cancel-shortcut-edit-btn')['addEventListener'](_0x198ef9(0xe61),()=>{const _0x1c5d59=_0x198ef9;document['getElementById'](_0x1c5d59(0x987))[_0x1c5d59(0xc2e)][_0x1c5d59(0xee4)]('hidden');}),document['getElementById'](_0x198ef9(0xeda))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),saveShortcutChanges),document[_0x198ef9(0x4ff)](_0x198ef9(0x35c))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),async()=>{const _0x8f0419=_0x198ef9,_0x94f63b=document['getElementById'](_0x8f0419(0x7af)),_0x2b3f0c=document[_0x8f0419(0x4ff)](_0x8f0419(0x224));_0x94f63b[_0x8f0419(0xb81)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x94f63b[_0x8f0419(0xb81)][0x0],_0x2b3f0c[_0x8f0419(0xb81)][0x0]||null):showMessage(_0x8f0419(0x4c0));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x900))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),async _0x489790=>{const _0x365199=_0x198ef9,_0x22041d=document[_0x365199(0x4ff)](_0x365199(0x900)),_0x59d826=_0x489790[_0x365199(0x2b8)][_0x365199(0x7c4)]('.bp-view-analysis-btn'),_0x2313de=_0x489790[_0x365199(0x2b8)][_0x365199(0x7c4)](_0x365199(0x9a8)),_0x19619b=_0x489790['target']['closest']('.bp-present-btn'),_0x1d8cc9=_0x489790[_0x365199(0x2b8)][_0x365199(0x7c4)](_0x365199(0x59d)),_0x508cd4=_0x489790[_0x365199(0x2b8)]['closest'](_0x365199(0x9a9)),_0x2e56c0=_0x489790[_0x365199(0x2b8)][_0x365199(0x7c4)](_0x365199(0x797));if(_0x59d826){cameFromBlueprint=!![];const _0x147a8b=_0x59d826[_0x365199(0x664)][_0x365199(0x555)];showQuizDetailView(_0x147a8b),_0x22041d['classList'][_0x365199(0xee4)](_0x365199(0xc89));}else{if(_0x2313de){const _0x248c6d=_0x2313de[_0x365199(0x664)][_0x365199(0xbb8)],_0x322be9=_0x2313de[_0x365199(0x664)][_0x365199(0x555)],_0x40c054=allQuizzesGlobal['find'](_0x3cc07b=>_0x3cc07b['id']===_0x322be9),_0x13688b=_0x40c054?_0x40c054['topic']:'รายการนี้';showConfirmation(_0x365199(0xe8b)+_0x13688b+_0x365199(0x81b),async()=>{const _0x418aef=_0x365199;try{const _0x27dac9=doc(db,_0x418aef(0x8a6)+appId+_0x418aef(0x912),currentBlueprintProjectId);await updateDoc(_0x27dac9,{['topics.'+_0x248c6d+_0x418aef(0xdbe)]:arrayRemove(_0x322be9)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x248c6d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3e0a07){console[_0x418aef(0x34c)](_0x418aef(0x796),_0x3e0a07),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x19619b){cameFromBlueprint=!![];const _0x5a81fc=_0x19619b[_0x365199(0x664)]['quizId'],_0x3e7fec=allQuizzesGlobal[_0x365199(0xe0f)](_0x51270f=>_0x51270f['id']===_0x5a81fc);_0x3e7fec&&(startPresentation(_0x3e7fec),_0x22041d[_0x365199(0xc2e)][_0x365199(0xee4)](_0x365199(0xc89)));}else{if(_0x1d8cc9){cameFromBlueprint=!![];const _0x25288b=_0x1d8cc9['dataset']['quizId'],_0x4e297f=allQuizzesGlobal[_0x365199(0xe0f)](_0x3fbbd7=>_0x3fbbd7['id']===_0x25288b);_0x4e297f&&(currentQuizData=_0x4e297f,startAdminTest(),_0x22041d[_0x365199(0xc2e)][_0x365199(0xee4)](_0x365199(0xc89)));}else{if(_0x508cd4)cameFromBlueprint=!![],handleStartLiveRace(_0x508cd4[_0x365199(0x664)]['quizId']),_0x22041d[_0x365199(0xc2e)]['add'](_0x365199(0xc89));else{if(_0x2e56c0){cameFromBlueprint=!![];const _0xb0d2bc=_0x2e56c0[_0x365199(0x664)][_0x365199(0x555)],_0x4ac339=_0x2e56c0[_0x365199(0x664)][_0x365199(0xd53)],_0x5215ec=allQuizzesGlobal[_0x365199(0xe0f)](_0x47994b=>_0x47994b['id']===_0xb0d2bc);_0x5215ec&&(showGameStartConfirmationModal(_0xb0d2bc,_0x4ac339,_0x5215ec['topic']),_0x22041d[_0x365199(0xc2e)][_0x365199(0xee4)](_0x365199(0xc89)));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x55804d=_0x198ef9;document[_0x55804d(0x4ff)](_0x55804d(0x5b8))[_0x55804d(0xc2e)][_0x55804d(0x716)](_0x55804d(0xc89)),document['getElementById'](_0x55804d(0xadb))[_0x55804d(0x717)]='',document[_0x55804d(0x4ff)](_0x55804d(0x54c))[_0x55804d(0x717)]='',document[_0x55804d(0x4ff)](_0x55804d(0x9fb))[_0x55804d(0x717)]='';}),document[_0x198ef9(0x4ff)](_0x198ef9(0xddf))['addEventListener'](_0x198ef9(0xe61),()=>{const _0x3360f2=_0x198ef9;document[_0x3360f2(0x4ff)](_0x3360f2(0x5b8))[_0x3360f2(0xc2e)]['add']('hidden');}),document[_0x198ef9(0x4ff)](_0x198ef9(0x705))[_0x198ef9(0xbe5)]('click',handleManualBlueprintSave),document[_0x198ef9(0x4ff)](_0x198ef9(0x9a0))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>document[_0x198ef9(0x4ff)]('blueprint-settings-modal')[_0x198ef9(0xc2e)][_0x198ef9(0xee4)](_0x198ef9(0xc89))),document[_0x198ef9(0x4ff)](_0x198ef9(0x921))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleSaveBlueprintPageSettings),document[_0x198ef9(0x4ff)]('bp-quiz-settings-btn')[_0x198ef9(0xbe5)]('click',openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')[_0x198ef9(0xbe5)]('click',saveBlueprintProject),document['getElementById'](_0x198ef9(0xc15))[_0x198ef9(0xbe5)]('click',showBlueprintProjects),document[_0x198ef9(0x4ff)](_0x198ef9(0x644))['addEventListener']('click',()=>{const _0x2d411d=_0x198ef9;document[_0x2d411d(0x4ff)](_0x2d411d(0xbd2))[_0x2d411d(0xc2e)][_0x2d411d(0xee4)](_0x2d411d(0xc89));}),document[_0x198ef9(0x4ff)]('blueprint-project-list')[_0x198ef9(0xbe5)]('click',_0x99e408=>{const _0x15a1c4=_0x198ef9,_0x4d3160=_0x99e408[_0x15a1c4(0x2b8)]['closest'](_0x15a1c4(0x6e5)),_0x264171=_0x99e408[_0x15a1c4(0x2b8)]['closest'](_0x15a1c4(0xc97));if(_0x4d3160)displayBlueprintProjectManager(_0x4d3160[_0x15a1c4(0x664)]['id']);else _0x264171&&handleDeepDeleteBlueprintProject(_0x264171[_0x15a1c4(0x664)]['id']);}),document[_0x198ef9(0x4ff)](_0x198ef9(0x688))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0xe839f5=_0x198ef9;currentBlueprintProjectId=null,currentProjectId=null,document[_0xe839f5(0x4ff)](_0xe839f5(0x693))['classList'][_0xe839f5(0xee4)]('hidden'),showView(_0xe839f5(0x443));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x2e7))['addEventListener'](_0x198ef9(0xe61),addTopicToProject),document['getElementById'](_0x198ef9(0xa79))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),async _0x5877e0=>{const _0x2e06c0=_0x198ef9,_0xa25e26=_0x5877e0['target']['closest'](_0x2e06c0(0xde2));if(!_0xa25e26)return;const _0x329f43=_0xa25e26['dataset'][_0x2e06c0(0xbb8)],_0x42c823=_0x5877e0[_0x2e06c0(0x2b8)][_0x2e06c0(0x7c4)]('.bp-create-onet-quiz-btn'),_0x5cdae3=_0x5877e0[_0x2e06c0(0x2b8)][_0x2e06c0(0x7c4)](_0x2e06c0(0xa45)),_0x53a969=_0x5877e0[_0x2e06c0(0x2b8)]['closest'](_0x2e06c0(0x8d4)),_0xe578e=_0x5877e0[_0x2e06c0(0x2b8)]['closest']('.bp-open-topic-bank-btn'),_0x4adfba=_0x5877e0[_0x2e06c0(0x2b8)][_0x2e06c0(0x7c4)]('.view-bp-lesson-btn'),_0xc1e54f=_0x5877e0['target']['closest'](_0x2e06c0(0x65b)),_0x5dd1a2=_0x5877e0['target'][_0x2e06c0(0x7c4)]('.bp-edit-topic-btn'),_0x568803=_0x5877e0['target'][_0x2e06c0(0x7c4)]('.bp-delete-topic-btn'),_0x4f016d=_0x143f1c=>{const _0x23a508=_0x2e06c0,_0x89534a=_0x143f1c[_0x23a508(0xee9)](_0x23a508(0xce8))[_0x23a508(0x602)][_0x23a508(0x26c)](),_0x3b15c7=_0x143f1c[_0x23a508(0x7c4)](_0x23a508(0xb74))[_0x23a508(0x2a1)],_0x4de1b0=_0x3b15c7?_0x3b15c7[_0x23a508(0x602)][_0x23a508(0x26c)]():'';return _0x4de1b0+':\x20'+_0x89534a;};if(_0xe578e)openTopicQuizBank(_0x329f43);else{if(_0x42c823){const _0x520465=_0x4f016d(_0xa25e26);selectProjectAndGenerateBlueprintQuiz(_0x520465,null,_0x329f43,!![]);}else{if(_0x5cdae3){const _0x4a5ea5=_0x4f016d(_0xa25e26);try{const _0x539042=doc(db,'artifacts/'+appId+_0x2e06c0(0x3bd)+currentBlueprintProjectId+_0x2e06c0(0x950),_0x329f43),_0x3a5f9c=await getDoc(_0x539042);if(_0x3a5f9c[_0x2e06c0(0x8d2)]()){const _0x3fb795=_0x3a5f9c[_0x2e06c0(0xef5)]()[_0x2e06c0(0xa99)],_0x5e4376=document['createElement'](_0x2e06c0(0x577)),_0x170395=_0x349378=>{const _0x5812b1=_0x2e06c0;if(!_0x349378)return'';return _0x5e4376[_0x5812b1(0x1f9)]=_0x349378,_0x5e4376[_0x5812b1(0x602)]||_0x5e4376['innerText']||'';},_0x5784de=(_0x170395(_0x3fb795['point'])+'\x20'+_0x170395(_0x3fb795[_0x2e06c0(0x9b8)])+'\x20'+_0x170395(_0x3fb795[_0x2e06c0(0x762)]))[_0x2e06c0(0x26c)]();selectProjectAndGenerateBlueprintQuiz(_0x4a5ea5,_0x5784de,_0x329f43,![]);}else showMessage(_0x2e06c0(0xace));}catch(_0x45b293){console['error'](_0x2e06c0(0xd48),_0x45b293),showMessage(_0x2e06c0(0x9ae));}}else{if(_0x53a969){const _0x7ca239=_0x4f016d(_0xa25e26);selectProjectAndGenerateBlueprintQuiz(_0x7ca239,null,_0x329f43,![]);}else{if(_0x4adfba){const _0x534626=doc(db,_0x2e06c0(0x8a6)+appId+_0x2e06c0(0x912),currentBlueprintProjectId),_0x5830a6=await getDoc(_0x534626);if(_0x5830a6[_0x2e06c0(0x8d2)]()){const _0x11802d=_0x5830a6['data'](),_0x1a5417=_0x11802d['topics'][_0x329f43];if(_0x1a5417&&_0x1a5417['status']==='generated')try{const _0x1f29b0=doc(db,_0x2e06c0(0x8a6)+appId+_0x2e06c0(0x3bd)+currentBlueprintProjectId+_0x2e06c0(0x950),_0x329f43),_0x4dd0c6=await getDoc(_0x1f29b0);if(_0x4dd0c6[_0x2e06c0(0x8d2)]()){const _0x64b5c9=_0x4dd0c6['data']()[_0x2e06c0(0xa99)];document['getElementById'](_0x2e06c0(0xd56))[_0x2e06c0(0x602)]='บทเรียนเรื่อง:\x20'+_0x4f016d(_0xa25e26),document['getElementById'](_0x2e06c0(0x2ff))[_0x2e06c0(0x1f9)]=_0x64b5c9[_0x2e06c0(0xce0)],document[_0x2e06c0(0x4ff)](_0x2e06c0(0xe6a))[_0x2e06c0(0x1f9)]=_0x64b5c9[_0x2e06c0(0x9b8)],document[_0x2e06c0(0x4ff)](_0x2e06c0(0x9ca))[_0x2e06c0(0x1f9)]=_0x64b5c9[_0x2e06c0(0x762)];const _0x18aabd=document['getElementById'](_0x2e06c0(0x645));_0x64b5c9[_0x2e06c0(0x66c)]?(currentApplicationData=_0x64b5c9['applicationData'],_0x18aabd['innerHTML']=currentApplicationData[_0x2e06c0(0xa25)]((_0x14e777,_0x5d0f21)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x5d0f21+0x1)+'.\x20'+marked[_0x2e06c0(0xdc4)](_0x14e777['question'])+_0x2e06c0(0x887)+_0x5d0f21+_0x2e06c0(0xcda)+_0x14e777[_0x2e06c0(0x4ad)][_0x2e06c0(0xa25)]((_0x25dffc,_0x54fbb9)=>_0x2e06c0(0x9d3)+_0x5d0f21+',\x20'+_0x54fbb9+_0x2e06c0(0x209)+String['fromCharCode'](0x61+_0x54fbb9)+'.\x20'+marked['parseInline'](_0x25dffc)+_0x2e06c0(0x60b))[_0x2e06c0(0x40a)]('')+'</div></div>')[_0x2e06c0(0x40a)]('')):(currentApplicationData=[],_0x18aabd[_0x2e06c0(0x1f9)]=_0x64b5c9['applicationHTML']||_0x64b5c9['application']),document['getElementById'](_0x2e06c0(0xe01))[_0x2e06c0(0xc2e)][_0x2e06c0(0xee4)](_0x2e06c0(0xc89)),document[_0x2e06c0(0x4ff)](_0x2e06c0(0x2f1))[_0x2e06c0(0xc2e)][_0x2e06c0(0x716)](_0x2e06c0(0xc89)),document['getElementById'](_0x2e06c0(0xc95))[_0x2e06c0(0xc2e)][_0x2e06c0(0x716)](_0x2e06c0(0xc89)),window[_0x2e06c0(0xb8c)]&&MathJax[_0x2e06c0(0xe28)]([document['getElementById'](_0x2e06c0(0xbee))]);}else showMessage(_0x2e06c0(0xa43));}catch(_0x33d0c6){console[_0x2e06c0(0x34c)](_0x2e06c0(0xd21),_0x33d0c6),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0xc1e54f){const _0xaa5fe3=_0x4f016d(_0xa25e26),_0xa3482a=doc(db,'artifacts/'+appId+_0x2e06c0(0x912),currentBlueprintProjectId),_0x3f1431=await getDoc(_0xa3482a);if(_0x3f1431['exists']()){const _0x270f47=_0x3f1431[_0x2e06c0(0xef5)]();generateAndSaveLessonForBlueprint(_0x329f43,_0xaa5fe3,_0x270f47[_0x2e06c0(0x732)]);}}else{if(_0x5dd1a2)editTopicInProject(_0x329f43);else _0x568803&&deleteTopicFromProject(_0x329f43);}}}}}}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x571))[_0x198ef9(0xbe5)]('click',handleFixLessonLatex),document[_0x198ef9(0x4ff)]('export-lesson-to-pdf-btn')['addEventListener'](_0x198ef9(0xe61),handleExportLessonToPDF),document[_0x198ef9(0x4ff)](_0x198ef9(0xd63))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0xabc146=_0x198ef9;document['getElementById'](_0xabc146(0xc95))[_0xabc146(0xc2e)]['add']('hidden');});const _0x7289f4=document[_0x198ef9(0x4ff)](_0x198ef9(0x273)),_0x49430f=document['getElementById'](_0x198ef9(0x642));_0x7289f4['addEventListener'](_0x198ef9(0xdd4),()=>{const _0xcfe4f=_0x198ef9;_0x49430f[_0xcfe4f(0xc2e)][_0xcfe4f(0xe23)]('hidden',!_0x7289f4[_0xcfe4f(0x749)]);});const _0x4a0947=document['getElementById'](_0x198ef9(0xc77)),_0x324fb5=document[_0x198ef9(0x4ff)]('confidence-mode-container');_0x4a0947[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),()=>{const _0x408aa4=_0x198ef9;_0x324fb5[_0x408aa4(0xc2e)][_0x408aa4(0xe23)](_0x408aa4(0xc89),!_0x4a0947[_0x408aa4(0x749)]);});const _0x1e11ee=document['getElementById'](_0x198ef9(0x915)),_0x21fcd7=document[_0x198ef9(0x4ff)](_0x198ef9(0xc2d));_0x1e11ee[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),()=>{const _0x2f7441=_0x198ef9;_0x21fcd7[_0x2f7441(0xc2e)]['toggle'](_0x2f7441(0xc89),!_0x1e11ee[_0x2f7441(0x749)]);});const _0x3959a3=document['getElementById'](_0x198ef9(0x44f)),_0x132230=async _0x1f4b19=>{const _0x13ad3e=_0x198ef9,_0x535d0b=document['getElementById']('confidence-modal'),_0x92355c=_0x535d0b['dataset']['currentMode'],_0x513639=document[_0x13ad3e(0x4ff)](_0x13ad3e(0xa8a));_0x535d0b[_0x13ad3e(0xc2e)][_0x13ad3e(0xee4)](_0x13ad3e(0xc89));if(_0x92355c==='timed'){const _0x2cfe5a=_0x513639[_0x13ad3e(0x717)],_0x30d484={'answer':_0x2cfe5a,'wasConfident':_0x1f4b19};proceedToNextQuestion(_0x30d484);}else{if(_0x92355c===_0x13ad3e(0x3b7)){const _0x2dfa69=_0x513639[_0x13ad3e(0x664)]['answerValue'],_0x18ae8d=JSON[_0x13ad3e(0xe29)](_0x513639['dataset'][_0x13ad3e(0xb0e)]),_0x22c5d3=JSON['parse'](_0x513639[_0x13ad3e(0x664)][_0x13ad3e(0x250)]),_0x34d7f5=_0x513639[_0x13ad3e(0x664)]['playerName'];handleSyncAnswerSubmit(_0x2dfa69,_0x18ae8d,_0x22c5d3,_0x34d7f5,_0x1f4b19);}}_0x535d0b[_0x13ad3e(0x664)][_0x13ad3e(0xab7)]='';};document[_0x198ef9(0x4ff)]('confirm-confident')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>_0x132230(!![])),document[_0x198ef9(0x4ff)]('confirm-not-confident')[_0x198ef9(0xbe5)]('click',()=>_0x132230(![])),liveGameView['addEventListener'](_0x198ef9(0xe61),_0x1d01c6=>{const _0x4d103a=_0x198ef9,_0x5f489f=_0x1d01c6['target'][_0x4d103a(0x7c4)](_0x4d103a(0x78f));if(_0x5f489f){const _0x35a7b8=_0x5f489f[_0x4d103a(0x664)][_0x4d103a(0x309)];_0x35a7b8&&handleKickPlayerSync(_0x35a7b8);}});const _0x4dfddd=document['getElementById']('confirm-game-start-btn'),_0x4d6afd=document[_0x198ef9(0x4ff)](_0x198ef9(0x666));_0x4d6afd[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x12b4b5=_0x198ef9;document[_0x12b4b5(0x4ff)]('confirm-game-start-modal')['classList'][_0x12b4b5(0xee4)](_0x12b4b5(0xc89));}),_0x4dfddd[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x287ea0=_0x198ef9,_0x4c3431=document['getElementById'](_0x287ea0(0x9b4))[_0x287ea0(0x717)],_0x5ddfc2=document[_0x287ea0(0x4ff)](_0x287ea0(0x3f2))[_0x287ea0(0x717)],_0x57c9c7=document[_0x287ea0(0x4ff)](_0x287ea0(0xae1))[_0x287ea0(0x749)];document['getElementById']('confirm-game-start-modal')[_0x287ea0(0xc2e)][_0x287ea0(0xee4)]('hidden');switch(_0x5ddfc2){case _0x287ea0(0x2e3):handleStartLiveRace(_0x4c3431,_0x57c9c7);break;case _0x287ea0(0xa03):handleStartTeamQuiz(_0x4c3431,_0x57c9c7);break;case _0x287ea0(0x380):handleStartGroupMode(_0x4c3431,_0x57c9c7);break;case _0x287ea0(0x3b7):const _0x4696de=document[_0x287ea0(0xee9)]('input[name=\x22syncVariant\x22]:checked')[_0x287ea0(0x717)]||_0x287ea0(0x690);handleStartSyncMode(_0x4c3431,_0x57c9c7,_0x4696de);break;}}),document['getElementById'](_0x198ef9(0xd61))['addEventListener'](_0x198ef9(0xe61),handleJoinGroupActivity),liveGameView['addEventListener']('click',_0x90a73e=>{const _0x1577d1=_0x198ef9,_0x36430a=_0x90a73e['target']['closest'](_0x1577d1(0xe2a));document['querySelectorAll']('.live-summary-tooltip.visible')[_0x1577d1(0x23a)](_0x3fd39f=>{const _0x393706=_0x1577d1;(!_0x36430a||_0x3fd39f['id']!==_0x36430a[_0x393706(0x664)][_0x393706(0xd40)])&&_0x3fd39f[_0x393706(0xc2e)][_0x393706(0x716)](_0x393706(0x440));});if(!_0x36430a)return;const _0x496851=_0x36430a[_0x1577d1(0x664)][_0x1577d1(0xd40)],_0x1b5b11=document[_0x1577d1(0x4ff)](_0x496851);_0x1b5b11&&_0x1b5b11[_0x1577d1(0xc2e)][_0x1577d1(0xe23)](_0x1577d1(0x440));}),liveGameView[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x4a2f09=>{const _0x5f4ea3=_0x198ef9;if(_0x4a2f09[_0x5f4ea3(0x2b8)][_0x5f4ea3(0xc2e)][_0x5f4ea3(0x995)](_0x5f4ea3(0x369))){const _0x23b7ec=_0x4a2f09['target']['dataset'][_0x5f4ea3(0x309)];_0x23b7ec&&handleKickPlayer(_0x23b7ec);}}),document[_0x198ef9(0x4ff)](_0x198ef9(0xe98))[_0x198ef9(0xbe5)](_0x198ef9(0x7ff),()=>document[_0x198ef9(0x4ff)](_0x198ef9(0x87b))[_0x198ef9(0xc2e)][_0x198ef9(0x716)]('hidden')),document[_0x198ef9(0x4ff)]('save-project-name-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleSaveProjectName),document[_0x198ef9(0x4ff)](_0x198ef9(0xe98))[_0x198ef9(0xbe5)](_0x198ef9(0x56c),_0xdff494=>{const _0x505eee=_0x198ef9;_0xdff494['key']==='Enter'&&(_0xdff494[_0x505eee(0xcbd)](),_0xdff494['target'][_0x505eee(0x554)](),handleSaveProjectName());}),document[_0x198ef9(0x4ff)](_0x198ef9(0x63b))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x1c043f=_0x198ef9;document[_0x1c043f(0x4ff)]('bulk-quiz-settings-modal')[_0x1c043f(0xc2e)][_0x1c043f(0x716)](_0x1c043f(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x935))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x29a0e4=_0x198ef9;document[_0x29a0e4(0x4ff)]('bulk-quiz-settings-modal')[_0x29a0e4(0xc2e)][_0x29a0e4(0xee4)](_0x29a0e4(0xc89));}),document['getElementById'](_0x198ef9(0x719))[_0x198ef9(0xbe5)]('click',handleBulkUpdateQuizSettings),document[_0x198ef9(0x4ff)]('mode-switcher-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleModeSwitch),document[_0x198ef9(0x4ff)]('update-old-quizzes-btn')[_0x198ef9(0xbe5)]('click',handleUpdateOldQuizzes),document['getElementById'](_0x198ef9(0xb00))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleResetProjectOrder),document[_0x198ef9(0x4ff)](_0x198ef9(0x7b0))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleSaveVisibilitySettings),document[_0x198ef9(0x4ff)](_0x198ef9(0x4e8))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleAddCustomMathTopic),document[_0x198ef9(0x4ff)](_0x198ef9(0x501))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleSelectAllTopics),document[_0x198ef9(0x4ff)](_0x198ef9(0x781))['addEventListener'](_0x198ef9(0xe61),handleDeselectAllTopics),document['getElementById'](_0x198ef9(0x383))[_0x198ef9(0xbe5)]('click',()=>{const _0x411a1c=_0x198ef9;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x411a1c(0x443));}}),document[_0x198ef9(0x4ff)](_0x198ef9(0xa50))[_0x198ef9(0xbe5)]('click',()=>{const _0x4fc4d2=_0x198ef9;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4fc4d2(0xdf0));}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x82f))[_0x198ef9(0xbe5)]('click',()=>{const _0x42b6f9=_0x198ef9;showView(_0x42b6f9(0x443));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x66a))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x4e5b13=_0x198ef9;messageModal[_0x4e5b13(0xc2e)][_0x4e5b13(0xee4)]('hidden'),typeof modalConfirmAction===_0x4e5b13(0x92f)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x198ef9(0x4ff)](_0x198ef9(0xabc))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>createProjectModal[_0x198ef9(0xc2e)][_0x198ef9(0x716)]('hidden')),document[_0x198ef9(0x4ff)](_0x198ef9(0x73b))[_0x198ef9(0xbe5)]('click',()=>createProjectModal[_0x198ef9(0xc2e)][_0x198ef9(0xee4)]('hidden')),document['getElementById'](_0x198ef9(0xa96))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>adminPasswordModal['classList'][_0x198ef9(0xee4)](_0x198ef9(0xc89))),document[_0x198ef9(0x4ff)](_0x198ef9(0x764))['addEventListener'](_0x198ef9(0xe61),handleAdminLogin),document[_0x198ef9(0x4ff)]('admin-password-input')['addEventListener'](_0x198ef9(0x863),_0x53733e=>{const _0x5b0231=_0x198ef9;if(_0x53733e['key']===_0x5b0231(0x6c8))handleAdminLogin();}),document['getElementById'](_0x198ef9(0x7c1))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x3b0992=_0x198ef9;confirmationModal[_0x3b0992(0xc2e)]['add'](_0x3b0992(0xc89)),typeof cancelAction===_0x3b0992(0x92f)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x198ef9(0x4ff)](_0x198ef9(0x47b))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x1e49d0=_0x198ef9;confirmAction&&confirmAction(),confirmationModal['classList'][_0x1e49d0(0xee4)](_0x1e49d0(0xc89)),confirmAction=null,cancelAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>renameQuizModal['classList'][_0x198ef9(0xee4)]('hidden')),document[_0x198ef9(0x4ff)](_0x198ef9(0xd96))[_0x198ef9(0xbe5)]('click',confirmRenameQuiz),document['getElementById'](_0x198ef9(0xd95))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>moveQuizModal['classList'][_0x198ef9(0xee4)]('hidden')),document[_0x198ef9(0x4ff)]('confirm-move-quiz-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),confirmMoveQuiz),document[_0x198ef9(0x4ff)](_0x198ef9(0x2b1))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>quizSettingsModal[_0x198ef9(0xc2e)][_0x198ef9(0xee4)]('hidden')),document['getElementById']('confirm-quiz-settings-btn')[_0x198ef9(0xbe5)]('click',confirmQuizSettings),document['getElementById'](_0x198ef9(0xa98))['addEventListener'](_0x198ef9(0xe61),()=>quizStatusModal[_0x198ef9(0xc2e)][_0x198ef9(0xee4)](_0x198ef9(0xc89))),document['getElementById'](_0x198ef9(0x4a6))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),confirmQuizStatus);const _0x231a9a=document[_0x198ef9(0x4ff)]('export-pdf-modal');document[_0x198ef9(0x4ff)](_0x198ef9(0x7ba))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x218f5d=_0x198ef9;_0x231a9a[_0x218f5d(0xc2e)][_0x218f5d(0xee4)]('hidden');}),document[_0x198ef9(0x4ff)](_0x198ef9(0x7a1))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),async()=>{const _0x108d88=_0x198ef9,_0x361506=allQuizzes[_0x108d88(0xe0f)](_0x5086f6=>_0x5086f6['id']===actionTargetId);_0x361506?(currentQuizData=_0x361506,exportQuizAsWorksheetPDF()):showMessage(_0x108d88(0x907)),_0x231a9a[_0x108d88(0xc2e)][_0x108d88(0xee4)](_0x108d88(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x5a2))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),async()=>{const _0x28841b=_0x198ef9,_0x2bd729=allQuizzes[_0x28841b(0xe0f)](_0x4d1230=>_0x4d1230['id']===actionTargetId);_0x2bd729?(currentQuizData=_0x2bd729,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x231a9a['classList'][_0x28841b(0xee4)](_0x28841b(0xc89));});const _0x48ff1c=document[_0x198ef9(0x4ff)](_0x198ef9(0x886));_0x48ff1c[_0x198ef9(0x1f9)]=_0x198ef9(0xec1),_0x48ff1c[_0x198ef9(0xbe5)](_0x198ef9(0xe61),openGlobalActivityModal),document['getElementById'](_0x198ef9(0x828))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x13da43=_0x198ef9;document[_0x13da43(0x4ff)]('global-activity-modal')[_0x13da43(0xc2e)][_0x13da43(0xee4)](_0x13da43(0xc89));}),document[_0x198ef9(0x4ff)]('global-quiz-search-input')[_0x198ef9(0xbe5)]('input',_0x28f483=>{const _0x404fcc=_0x198ef9;renderGlobalActivityList(_0x28f483[_0x404fcc(0x2b8)][_0x404fcc(0x717)]);}),document[_0x198ef9(0x4ff)](_0x198ef9(0x59c))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x166e2e=>{const _0x484cf3=_0x198ef9,_0x401998=_0x166e2e[_0x484cf3(0x2b8)][_0x484cf3(0x7c4)](_0x484cf3(0xc5f));if(!_0x401998)return;const _0xf8d3f1=_0x401998[_0x484cf3(0x664)]['id'],_0xcc6800=_0x401998[_0x484cf3(0x664)][_0x484cf3(0xd53)],_0x24a8c1=allQuizzesGlobal[_0x484cf3(0xe0f)](_0x50032c=>_0x50032c['id']===_0xf8d3f1);_0x24a8c1&&(document[_0x484cf3(0x4ff)](_0x484cf3(0x2ea))[_0x484cf3(0xc2e)][_0x484cf3(0xee4)]('hidden'),_0xcc6800===_0x484cf3(0x2e3)?handleStartLiveRace(_0xf8d3f1):showGameStartConfirmationModal(_0xf8d3f1,_0xcc6800,_0x24a8c1[_0x484cf3(0xe77)]));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x778))[_0x198ef9(0xbe5)](_0x198ef9(0xeb6),renderProjects),document[_0x198ef9(0x4ff)](_0x198ef9(0xa1a))[_0x198ef9(0xbe5)]('change',async()=>{const _0x1039dd=_0x198ef9,_0x3b2e79=document['getElementById'](_0x1039dd(0xa1a))[_0x1039dd(0x717)],_0x151f26=doc(db,_0x1039dd(0x6c4),_0x1039dd(0x61f));try{await setDoc(_0x151f26,{'projectSort':_0x3b2e79},{'merge':!![]});}catch(_0x243dfb){console[_0x1039dd(0x34c)](_0x1039dd(0xec6),_0x243dfb),showMessage(_0x1039dd(0xadd));}}),document[_0x198ef9(0x4ff)](_0x198ef9(0xa63))[_0x198ef9(0xbe5)](_0x198ef9(0xeb6),renderQuizzes),document[_0x198ef9(0x4ff)](_0x198ef9(0xc69))['addEventListener'](_0x198ef9(0xe61),()=>{const _0xcdb8eb=_0x198ef9;globalDashboardSettings['projectView']=_0xcdb8eb(0xbfc),saveUserPreference('projectView',_0xcdb8eb(0xbfc)),renderProjects();}),document[_0x198ef9(0x4ff)]('list-view-btn')['addEventListener'](_0x198ef9(0xe61),()=>{const _0x197d40=_0x198ef9;globalDashboardSettings['projectView']=_0x197d40(0xe12),saveUserPreference(_0x197d40(0x9b0),_0x197d40(0xe12)),renderProjects();}),manageTab[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>switchProjectTab('manage')),resultsTab[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>switchProjectTab(_0x198ef9(0x411))),leaderboardTab[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>switchProjectTab(_0x198ef9(0x4c8))),document[_0x198ef9(0x4ff)](_0x198ef9(0xca5))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>switchQuizDetailTab('analytics')),document['getElementById']('scores-tab-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>switchQuizDetailTab(_0x198ef9(0x2f2))),document[_0x198ef9(0x4ff)](_0x198ef9(0x556))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>switchQuizDetailTab(_0x198ef9(0xb1c))),document[_0x198ef9(0x4ff)](_0x198ef9(0x451))['addEventListener']('click',()=>switchQuizDetailTab('behavior-log')),document[_0x198ef9(0x4ff)](_0x198ef9(0xe45))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleAnalyzeClass),generateWorksheetBtn[_0x198ef9(0xbe5)](_0x198ef9(0xe61),generateWorksheet);const _0x39e760=document['getElementById']('link-tab'),_0x3e3f22=document['getElementById'](_0x198ef9(0xe4c)),_0x238dac=document['getElementById'](_0x198ef9(0x91a)),_0x4aea00=document[_0x198ef9(0x4ff)]('blueprint-input-area'),_0x5b6efd=document[_0x198ef9(0x4ff)](_0x198ef9(0xbf5)),_0x579f70=document['getElementById'](_0x198ef9(0x803));topicTab['addEventListener'](_0x198ef9(0xe61),()=>{const _0x546b49=_0x198ef9;topicTab['classList'][_0x546b49(0xee4)](_0x546b49(0x5de)),textTab[_0x546b49(0xc2e)][_0x546b49(0x716)](_0x546b49(0x5de)),fileTab['classList'][_0x546b49(0x716)](_0x546b49(0x5de)),worksheetTab['classList'][_0x546b49(0x716)](_0x546b49(0x5de));if(_0x39e760)_0x39e760[_0x546b49(0xc2e)][_0x546b49(0x716)](_0x546b49(0x5de));if(_0x238dac)_0x238dac['classList']['remove'](_0x546b49(0x5de));if(_0x5b6efd)_0x5b6efd[_0x546b49(0xc2e)][_0x546b49(0x716)](_0x546b49(0x5de));topicInputArea[_0x546b49(0xc2e)]['remove'](_0x546b49(0xc89)),textInputArea['classList'][_0x546b49(0xee4)]('hidden'),fileInputArea[_0x546b49(0xc2e)][_0x546b49(0xee4)](_0x546b49(0xc89)),worksheetInputArea[_0x546b49(0xc2e)][_0x546b49(0xee4)](_0x546b49(0xc89));if(_0x3e3f22)_0x3e3f22['classList'][_0x546b49(0xee4)](_0x546b49(0xc89));if(_0x4aea00)_0x4aea00[_0x546b49(0xc2e)]['add'](_0x546b49(0xc89));if(_0x579f70)_0x579f70['classList']['add'](_0x546b49(0xc89));}),textTab[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x2f7b88=_0x198ef9;textTab[_0x2f7b88(0xc2e)][_0x2f7b88(0xee4)](_0x2f7b88(0x5de)),topicTab[_0x2f7b88(0xc2e)][_0x2f7b88(0x716)](_0x2f7b88(0x5de)),fileTab[_0x2f7b88(0xc2e)][_0x2f7b88(0x716)](_0x2f7b88(0x5de)),worksheetTab[_0x2f7b88(0xc2e)][_0x2f7b88(0x716)]('active');if(_0x39e760)_0x39e760[_0x2f7b88(0xc2e)][_0x2f7b88(0x716)]('active');if(_0x238dac)_0x238dac[_0x2f7b88(0xc2e)][_0x2f7b88(0x716)]('active');if(_0x5b6efd)_0x5b6efd[_0x2f7b88(0xc2e)][_0x2f7b88(0x716)](_0x2f7b88(0x5de));textInputArea[_0x2f7b88(0xc2e)]['remove'](_0x2f7b88(0xc89)),topicInputArea[_0x2f7b88(0xc2e)][_0x2f7b88(0xee4)](_0x2f7b88(0xc89)),fileInputArea[_0x2f7b88(0xc2e)][_0x2f7b88(0xee4)](_0x2f7b88(0xc89)),worksheetInputArea['classList'][_0x2f7b88(0xee4)](_0x2f7b88(0xc89));if(_0x3e3f22)_0x3e3f22['classList']['add'](_0x2f7b88(0xc89));if(_0x4aea00)_0x4aea00[_0x2f7b88(0xc2e)]['add'](_0x2f7b88(0xc89));if(_0x579f70)_0x579f70[_0x2f7b88(0xc2e)][_0x2f7b88(0xee4)]('hidden');}),fileTab['addEventListener'](_0x198ef9(0xe61),()=>{const _0x337be1=_0x198ef9;fileTab['classList'][_0x337be1(0xee4)]('active'),topicTab[_0x337be1(0xc2e)][_0x337be1(0x716)](_0x337be1(0x5de)),textTab[_0x337be1(0xc2e)][_0x337be1(0x716)](_0x337be1(0x5de)),worksheetTab['classList'][_0x337be1(0x716)]('active');if(_0x39e760)_0x39e760[_0x337be1(0xc2e)][_0x337be1(0x716)](_0x337be1(0x5de));if(_0x238dac)_0x238dac[_0x337be1(0xc2e)][_0x337be1(0x716)](_0x337be1(0x5de));if(_0x5b6efd)_0x5b6efd[_0x337be1(0xc2e)][_0x337be1(0x716)](_0x337be1(0x5de));fileInputArea[_0x337be1(0xc2e)][_0x337be1(0x716)](_0x337be1(0xc89)),topicInputArea[_0x337be1(0xc2e)][_0x337be1(0xee4)](_0x337be1(0xc89)),textInputArea[_0x337be1(0xc2e)][_0x337be1(0xee4)](_0x337be1(0xc89)),worksheetInputArea['classList'][_0x337be1(0xee4)](_0x337be1(0xc89));if(_0x3e3f22)_0x3e3f22[_0x337be1(0xc2e)]['add'](_0x337be1(0xc89));if(_0x4aea00)_0x4aea00[_0x337be1(0xc2e)]['add']('hidden');if(_0x579f70)_0x579f70['classList'][_0x337be1(0xee4)]('hidden');}),worksheetTab[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x486f6e=_0x198ef9;worksheetTab['classList']['add']('active'),topicTab[_0x486f6e(0xc2e)][_0x486f6e(0x716)]('active'),textTab[_0x486f6e(0xc2e)][_0x486f6e(0x716)](_0x486f6e(0x5de)),fileTab[_0x486f6e(0xc2e)][_0x486f6e(0x716)](_0x486f6e(0x5de));if(_0x39e760)_0x39e760[_0x486f6e(0xc2e)][_0x486f6e(0x716)](_0x486f6e(0x5de));if(_0x238dac)_0x238dac[_0x486f6e(0xc2e)][_0x486f6e(0x716)](_0x486f6e(0x5de));if(_0x5b6efd)_0x5b6efd['classList'][_0x486f6e(0x716)](_0x486f6e(0x5de));worksheetInputArea['classList']['remove']('hidden'),topicInputArea[_0x486f6e(0xc2e)][_0x486f6e(0xee4)](_0x486f6e(0xc89)),textInputArea[_0x486f6e(0xc2e)][_0x486f6e(0xee4)](_0x486f6e(0xc89)),fileInputArea['classList'][_0x486f6e(0xee4)](_0x486f6e(0xc89));if(_0x3e3f22)_0x3e3f22['classList'][_0x486f6e(0xee4)](_0x486f6e(0xc89));if(_0x4aea00)_0x4aea00[_0x486f6e(0xc2e)][_0x486f6e(0xee4)]('hidden');if(_0x579f70)_0x579f70['classList'][_0x486f6e(0xee4)](_0x486f6e(0xc89));});const _0x7a282d=document[_0x198ef9(0x4ff)]('bank-tab'),_0x360efe=document[_0x198ef9(0x4ff)]('bank-input-area');_0x7a282d&&_0x7a282d[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x27a7bc=_0x198ef9;topicTab[_0x27a7bc(0xc2e)][_0x27a7bc(0x716)](_0x27a7bc(0x5de)),textTab[_0x27a7bc(0xc2e)][_0x27a7bc(0x716)](_0x27a7bc(0x5de)),fileTab[_0x27a7bc(0xc2e)][_0x27a7bc(0x716)](_0x27a7bc(0x5de)),worksheetTab[_0x27a7bc(0xc2e)][_0x27a7bc(0x716)]('active');if(_0x39e760)_0x39e760[_0x27a7bc(0xc2e)][_0x27a7bc(0x716)](_0x27a7bc(0x5de));if(_0x238dac)_0x238dac[_0x27a7bc(0xc2e)][_0x27a7bc(0x716)](_0x27a7bc(0x5de));if(_0x5b6efd)_0x5b6efd['classList']['remove']('active');_0x7a282d['classList'][_0x27a7bc(0xee4)](_0x27a7bc(0x5de)),topicInputArea[_0x27a7bc(0xc2e)]['add'](_0x27a7bc(0xc89)),textInputArea[_0x27a7bc(0xc2e)][_0x27a7bc(0xee4)]('hidden'),fileInputArea[_0x27a7bc(0xc2e)][_0x27a7bc(0xee4)](_0x27a7bc(0xc89)),worksheetInputArea[_0x27a7bc(0xc2e)][_0x27a7bc(0xee4)](_0x27a7bc(0xc89));if(_0x3e3f22)_0x3e3f22[_0x27a7bc(0xc2e)]['add'](_0x27a7bc(0xc89));if(_0x4aea00)_0x4aea00[_0x27a7bc(0xc2e)][_0x27a7bc(0xee4)](_0x27a7bc(0xc89));if(_0x579f70)_0x579f70[_0x27a7bc(0xc2e)]['add'](_0x27a7bc(0xc89));_0x360efe['classList'][_0x27a7bc(0x716)](_0x27a7bc(0xc89)),displayQuestionBank();});_0x39e760&&(_0x39e760[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x23cfd7=_0x198ef9;_0x39e760[_0x23cfd7(0xc2e)][_0x23cfd7(0xee4)]('active'),topicTab['classList'][_0x23cfd7(0x716)]('active'),textTab[_0x23cfd7(0xc2e)][_0x23cfd7(0x716)]('active'),fileTab[_0x23cfd7(0xc2e)][_0x23cfd7(0x716)](_0x23cfd7(0x5de)),worksheetTab[_0x23cfd7(0xc2e)]['remove']('active');if(_0x238dac)_0x238dac['classList'][_0x23cfd7(0x716)](_0x23cfd7(0x5de));if(_0x5b6efd)_0x5b6efd[_0x23cfd7(0xc2e)][_0x23cfd7(0x716)](_0x23cfd7(0x5de));_0x3e3f22[_0x23cfd7(0xc2e)][_0x23cfd7(0x716)](_0x23cfd7(0xc89)),topicInputArea[_0x23cfd7(0xc2e)][_0x23cfd7(0xee4)](_0x23cfd7(0xc89)),textInputArea[_0x23cfd7(0xc2e)][_0x23cfd7(0xee4)]('hidden'),fileInputArea[_0x23cfd7(0xc2e)][_0x23cfd7(0xee4)](_0x23cfd7(0xc89)),worksheetInputArea[_0x23cfd7(0xc2e)][_0x23cfd7(0xee4)](_0x23cfd7(0xc89));if(_0x4aea00)_0x4aea00[_0x23cfd7(0xc2e)]['add'](_0x23cfd7(0xc89));if(_0x579f70)_0x579f70[_0x23cfd7(0xc2e)][_0x23cfd7(0xee4)](_0x23cfd7(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x463))[_0x198ef9(0xbe5)]('click',handleGenerateFromLink));_0x238dac&&_0x238dac['addEventListener'](_0x198ef9(0xe61),()=>{const _0x25c52a=_0x198ef9;_0x238dac[_0x25c52a(0xc2e)][_0x25c52a(0xee4)](_0x25c52a(0x5de)),topicTab[_0x25c52a(0xc2e)][_0x25c52a(0x716)](_0x25c52a(0x5de)),textTab[_0x25c52a(0xc2e)][_0x25c52a(0x716)](_0x25c52a(0x5de)),fileTab[_0x25c52a(0xc2e)][_0x25c52a(0x716)](_0x25c52a(0x5de)),worksheetTab[_0x25c52a(0xc2e)][_0x25c52a(0x716)](_0x25c52a(0x5de));if(_0x39e760)_0x39e760[_0x25c52a(0xc2e)][_0x25c52a(0x716)](_0x25c52a(0x5de));if(_0x7a282d)_0x7a282d['classList'][_0x25c52a(0x716)](_0x25c52a(0x5de));if(_0x5b6efd)_0x5b6efd[_0x25c52a(0xc2e)][_0x25c52a(0x716)](_0x25c52a(0x5de));_0x4aea00[_0x25c52a(0xc2e)][_0x25c52a(0x716)](_0x25c52a(0xc89)),topicInputArea[_0x25c52a(0xc2e)][_0x25c52a(0xee4)](_0x25c52a(0xc89)),textInputArea['classList']['add'](_0x25c52a(0xc89)),fileInputArea['classList'][_0x25c52a(0xee4)](_0x25c52a(0xc89)),worksheetInputArea[_0x25c52a(0xc2e)][_0x25c52a(0xee4)]('hidden');if(_0x3e3f22)_0x3e3f22[_0x25c52a(0xc2e)][_0x25c52a(0xee4)]('hidden');if(_0x360efe)_0x360efe[_0x25c52a(0xc2e)][_0x25c52a(0xee4)](_0x25c52a(0xc89));if(_0x579f70)_0x579f70[_0x25c52a(0xc2e)][_0x25c52a(0xee4)](_0x25c52a(0xc89));});_0x5b6efd&&_0x5b6efd[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x1e0ccc=_0x198ef9;_0x5b6efd[_0x1e0ccc(0xc2e)][_0x1e0ccc(0xee4)](_0x1e0ccc(0x5de)),topicTab['classList'][_0x1e0ccc(0x716)](_0x1e0ccc(0x5de)),textTab[_0x1e0ccc(0xc2e)]['remove'](_0x1e0ccc(0x5de)),fileTab[_0x1e0ccc(0xc2e)][_0x1e0ccc(0x716)](_0x1e0ccc(0x5de)),worksheetTab[_0x1e0ccc(0xc2e)][_0x1e0ccc(0x716)](_0x1e0ccc(0x5de));if(_0x39e760)_0x39e760[_0x1e0ccc(0xc2e)][_0x1e0ccc(0x716)](_0x1e0ccc(0x5de));if(_0x238dac)_0x238dac['classList'][_0x1e0ccc(0x716)](_0x1e0ccc(0x5de));if(_0x7a282d)_0x7a282d[_0x1e0ccc(0xc2e)][_0x1e0ccc(0x716)](_0x1e0ccc(0x5de));_0x579f70[_0x1e0ccc(0xc2e)][_0x1e0ccc(0x716)](_0x1e0ccc(0xc89)),topicInputArea[_0x1e0ccc(0xc2e)]['add'](_0x1e0ccc(0xc89)),textInputArea[_0x1e0ccc(0xc2e)]['add'](_0x1e0ccc(0xc89)),fileInputArea[_0x1e0ccc(0xc2e)][_0x1e0ccc(0xee4)](_0x1e0ccc(0xc89)),worksheetInputArea[_0x1e0ccc(0xc2e)][_0x1e0ccc(0xee4)](_0x1e0ccc(0xc89));if(_0x3e3f22)_0x3e3f22[_0x1e0ccc(0xc2e)]['add'](_0x1e0ccc(0xc89));if(_0x4aea00)_0x4aea00[_0x1e0ccc(0xc2e)][_0x1e0ccc(0xee4)](_0x1e0ccc(0xc89));if(_0x360efe)_0x360efe[_0x1e0ccc(0xc2e)][_0x1e0ccc(0xee4)](_0x1e0ccc(0xc89));});const _0x2fd910=document[_0x198ef9(0x4ff)](_0x198ef9(0x7af)),_0x2963ae=document[_0x198ef9(0x4ff)]('generate-from-blueprint-btn');if(_0x2fd910){const _0x1bf92b=document[_0x198ef9(0x4ff)](_0x198ef9(0x7af)),_0x47391f=document[_0x198ef9(0x4ff)](_0x198ef9(0x35c)),_0x351d80=document[_0x198ef9(0x4ff)]('blueprint-options-container'),_0xf6bb83=document['getElementById']('separate-by-content-checkbox'),_0x296cf0=document[_0x198ef9(0x4ff)]('blueprint-topics-list-container'),_0x257e72=document[_0x198ef9(0x4ff)]('blueprint-topics-list');_0x1bf92b&&_0x1bf92b[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),async _0x33252e=>{const _0x45ac2c=_0x198ef9;_0x351d80[_0x45ac2c(0xc2e)][_0x45ac2c(0xee4)](_0x45ac2c(0xc89)),_0x296cf0[_0x45ac2c(0xc2e)][_0x45ac2c(0xee4)](_0x45ac2c(0xc89)),_0xf6bb83[_0x45ac2c(0x749)]=![],_0x47391f[_0x45ac2c(0x206)]=!![];const _0xb2ec5b=_0x33252e[_0x45ac2c(0x2b8)][_0x45ac2c(0xb81)][0x0];if(_0xb2ec5b){_0x47391f[_0x45ac2c(0x206)]=![];try{const _0x13ec3e=await extractTextFromPdf(_0xb2ec5b);await analyzeBlueprintForTopics(_0x13ec3e);}catch(_0x47eefa){showMessage(_0x45ac2c(0x28f)),_0x351d80[_0x45ac2c(0xc2e)][_0x45ac2c(0xee4)](_0x45ac2c(0xc89));}}}),_0xf6bb83&&_0xf6bb83[_0x198ef9(0xbe5)]('change',_0x20ab40=>{const _0x332a9d=_0x198ef9,_0x52a27e=_0x20ab40[_0x332a9d(0x2b8)]['checked'];_0x296cf0[_0x332a9d(0xc2e)][_0x332a9d(0xe23)](_0x332a9d(0xc89),!_0x52a27e),_0x47391f['disabled']=_0x52a27e;}),_0x257e72&&(_0x257e72&&_0x257e72['addEventListener'](_0x198ef9(0xe61),_0x282d69=>{const _0x4fa4c3=_0x198ef9,_0x44cfca=_0x282d69[_0x4fa4c3(0x2b8)][_0x4fa4c3(0x7c4)](_0x4fa4c3(0x574)),_0x3f7e6e=_0x282d69[_0x4fa4c3(0x2b8)][_0x4fa4c3(0x7c4)]('.generate-content-btn');if(_0x44cfca){const _0x18a3e2=unescape(_0x44cfca[_0x4fa4c3(0x664)][_0x4fa4c3(0xe77)]);generateQuizForSingleTopic(_0x18a3e2);}else{if(_0x3f7e6e){const _0x189018=unescape(_0x3f7e6e[_0x4fa4c3(0x664)][_0x4fa4c3(0xe77)]);handleGenerateTeachingContent(_0x189018);}}}));}_0x2963ae&&_0x2963ae[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleGenerateFromBlueprint);const _0x1ba444=document[_0x198ef9(0x4ff)]('parallel-test-upload-input'),_0x56969f=document['getElementById']('generate-from-parallel-test-btn');_0x1ba444&&_0x1ba444[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),_0x1736b9=>{const _0xfb077f=_0x198ef9;_0x56969f[_0xfb077f(0x206)]=_0x1736b9[_0xfb077f(0x2b8)][_0xfb077f(0xb81)][_0xfb077f(0x85b)]===0x0;});_0x56969f&&_0x56969f[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener'](_0x198ef9(0xe61),handleLoadQuiz),startQuizBtn[_0x198ef9(0xbe5)](_0x198ef9(0xe61),async()=>{const _0x3637eb=_0x198ef9,_0x14b60d=document[_0x3637eb(0x4ff)]('student-name-select');currentStudentName=_0x14b60d[_0x3637eb(0x717)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x1702b8=currentQuizData['id'],_0x3fd109=doc(db,'artifacts/'+appId+_0x3637eb(0x1f4)+_0x1702b8+_0x3637eb(0xd9b),currentStudentName),_0x3bc542=await getDoc(_0x3fd109);!_0x3bc542[_0x3637eb(0x8d2)]()?await setDoc(_0x3fd109,{'studentName':currentStudentName,'startedAt':new Date()[_0x3637eb(0x4f9)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x3fd109,{'startedAt':new Date()[_0x3637eb(0x4f9)]()});}catch(_0x53e722){console['error'](_0x3637eb(0x906),_0x53e722),showMessage(_0x3637eb(0xa91));return;}studentNameSelectionView[_0x3637eb(0xc2e)][_0x3637eb(0xee4)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x198ef9(0x89c))['addEventListener'](_0x198ef9(0xe61),showJoinGameView),document[_0x198ef9(0x4ff)](_0x198ef9(0x920))['addEventListener'](_0x198ef9(0xe61),handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')[_0x198ef9(0xbe5)]('click',()=>showView('student'));const _0x38bd29=()=>{const _0x368e2b=_0x198ef9,_0x5f104f=document[_0x368e2b(0x4ff)](_0x368e2b(0xbf7))['textContent']['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x368e2b(0x706)+(_0x5f104f||_0x368e2b(0xc90));},_0x375328=document[_0x198ef9(0x4ff)](_0x198ef9(0x38a));_0x375328&&_0x375328['addEventListener'](_0x198ef9(0xeb6),_0x1bb282=>{const _0x48640a=_0x198ef9,_0xceb449=_0x1bb282[_0x48640a(0x2b8)]['value'][_0x48640a(0xbca)]()[_0x48640a(0x26c)](),_0x4f4e69=document[_0x48640a(0x4ff)]('math-topics-checkbox-container'),_0x4cc08c=_0x4f4e69[_0x48640a(0xe1c)](_0x48640a(0xef2));_0x4cc08c['forEach'](_0x3cc20b=>{const _0x292391=_0x48640a;let _0x3c86ac=![];const _0x153250=_0x3cc20b[_0x292391(0xe1c)]('.topic-row');_0x153250[_0x292391(0x23a)](_0x1160f7=>{const _0x3ad341=_0x292391,_0x4ec0c8=_0x1160f7[_0x3ad341(0xee9)](_0x3ad341(0x686))[_0x3ad341(0x602)][_0x3ad341(0xbca)]();_0x4ec0c8[_0x3ad341(0xdf4)](_0xceb449)?(_0x1160f7['style'][_0x3ad341(0x800)]=_0x3ad341(0xb3b),_0x3c86ac=!![]):_0x1160f7[_0x3ad341(0x8c6)]['display']=_0x3ad341(0x527);}),_0x3c86ac?_0x3cc20b[_0x292391(0x8c6)]['display']=_0x292391(0xe49):_0x3cc20b[_0x292391(0x8c6)][_0x292391(0x800)]=_0x292391(0x527);});});document['getElementById']('export-image-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>exportTableAsImage(_0x198ef9(0xb13),_0x38bd29())),document[_0x198ef9(0x4ff)](_0x198ef9(0x96b))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>exportTableAsPDF(_0x198ef9(0x4c9),_0x38bd29())),document['getElementById'](_0x198ef9(0x20e))[_0x198ef9(0xbe5)]('click',()=>exportTableAsWord(_0x198ef9(0xb13),_0x38bd29())),document[_0x198ef9(0x4ff)](_0x198ef9(0x2d1))[_0x198ef9(0xbe5)]('click',()=>exportTableAsExcel(_0x198ef9(0x4c9),_0x38bd29()));const _0x4ead5e=()=>{const _0x73283b=_0x198ef9,_0x5d1cb5=document[_0x73283b(0x4ff)]('results-quiz-title')['textContent'][_0x73283b(0x701)](/[^a-z0-9]/gi,'_')[_0x73283b(0xbca)]();return _0x73283b(0xa6f)+(_0x5d1cb5||_0x73283b(0xc90));};document[_0x198ef9(0x4ff)]('export-leaderboard-image-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>exportTableAsImage(_0x198ef9(0x29e),_0x4ead5e())),document['getElementById']('export-leaderboard-pdf-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>exportTableAsPDF(_0x198ef9(0x96d),_0x4ead5e())),document[_0x198ef9(0x4ff)](_0x198ef9(0x200))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>exportTableAsWord(_0x198ef9(0x29e),_0x4ead5e())),document[_0x198ef9(0x4ff)](_0x198ef9(0xa37))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>exportTableAsExcel('quiz-leaderboard-table',_0x4ead5e())),projectQuizzesList[_0x198ef9(0xbe5)](_0x198ef9(0xe61),async _0x45c713=>{const _0x40d704=_0x198ef9,_0x1ca697=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0x751)),_0x393691=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0x822)),_0x3a9d1c=_0x45c713[_0x40d704(0x2b8)]['closest'](_0x40d704(0x872)),_0x431642=_0x45c713['target'][_0x40d704(0x7c4)]('.generate-lesson-btn'),_0x35158a=_0x45c713['target']['closest'](_0x40d704(0x903)),_0x3accf0=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0x470)),_0x49fb51=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0x27b)),_0x5801d4=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0x757)),_0x29ec91=_0x45c713['target'][_0x40d704(0x7c4)](_0x40d704(0x8a0)),_0x2345ba=_0x45c713[_0x40d704(0x2b8)]['closest']('.rename-quiz-btn'),_0x2e114c=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0x426)),_0x1a48ec=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0xa35)),_0x3d6d2d=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0xdd3)),_0x313977=_0x45c713['target']['closest']('.unpair-quiz-btn'),_0x3c9f80=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0xc7c)),_0x553565=_0x45c713['target'][_0x40d704(0x7c4)](_0x40d704(0xe6c)),_0xad65a8=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0xe82)),_0x2419dc=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0x7cd)),_0x255fb4=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0xbdf)),_0x102632=_0x45c713[_0x40d704(0x2b8)]['closest'](_0x40d704(0x3c4)),_0x34ac04=_0x45c713[_0x40d704(0x2b8)]['closest'](_0x40d704(0xcfa)),_0x33ccc6=_0x45c713['target']['closest']('.start-game-btn'),_0x158017=_0x45c713[_0x40d704(0x2b8)][_0x40d704(0x7c4)](_0x40d704(0xb63));if(_0x33ccc6){const _0x308541=_0x33ccc6[_0x40d704(0x664)]['quizId'],_0x322e6f=_0x33ccc6[_0x40d704(0x664)]['mode'],_0x464637=allQuizzes['find'](_0x3d7316=>_0x3d7316['id']===_0x308541);_0x464637&&showGameStartConfirmationModal(_0x308541,_0x322e6f,_0x464637[_0x40d704(0xe77)]);}else{if(_0x158017){const _0x417d1b=_0x158017['dataset'][_0x40d704(0x555)];handleStartLiveRace(_0x417d1b);}else{if(_0x102632){const _0x45fada=_0x102632['dataset'][_0x40d704(0x555)],_0x383d5c=document[_0x40d704(0x4ff)](_0x40d704(0xc9e)+_0x45fada);_0x383d5c&&_0x383d5c[_0x40d704(0xc2e)][_0x40d704(0xe23)](_0x40d704(0xc89));}else{if(_0x393691){const _0x3e2bbb=_0x393691[_0x40d704(0x664)]['quizId'],_0x85a845=allQuizzes[_0x40d704(0xe0f)](_0x57c07f=>_0x57c07f['id']===_0x3e2bbb);_0x85a845&&handleGenerateParallelPostTest(_0x85a845);}else{if(_0x3a9d1c)handleCompareResults(_0x3a9d1c[_0x40d704(0x664)][_0x40d704(0x555)],_0x3a9d1c[_0x40d704(0x664)][_0x40d704(0x374)]);else{if(_0x431642){const _0x41aca0=_0x431642[_0x40d704(0x664)][_0x40d704(0x555)],_0x14e307=allQuizzes[_0x40d704(0xe0f)](_0x193626=>_0x193626['id']===_0x41aca0);_0x14e307&&_0x14e307['lessonPlan']?(displayLessonPlan(_0x14e307[_0x40d704(0x3c8)],_0x14e307),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x41aca0)),document[_0x40d704(0x4ff)](_0x40d704(0x267))['querySelector']('h3')[_0x40d704(0x602)]=_0x40d704(0x2bd),document['getElementById'](_0x40d704(0x47b))[_0x40d704(0x602)]=_0x40d704(0x873)):handleGenerateLessonPlan(_0x41aca0);}else{if(_0x35158a)handleToggleStarQuiz(_0x35158a[_0x40d704(0x664)]['quizId']);else{if(_0x3accf0)copyTextToClipboard(_0x3accf0[_0x40d704(0x664)][_0x40d704(0x555)],'คัดลอกรหัสแล้ว!');else{if(_0x49fb51)handleOpenQuizEditor(_0x49fb51[_0x40d704(0x664)][_0x40d704(0x555)]);else{if(_0x5801d4)handleQuizSettings(_0x5801d4['dataset']['quizId']);else{if(_0x29ec91)handleDuplicateQuiz(_0x29ec91[_0x40d704(0x664)][_0x40d704(0x555)]);else{if(_0x2345ba)handleRenameQuiz(_0x2345ba[_0x40d704(0x664)][_0x40d704(0x555)],_0x2345ba[_0x40d704(0x664)][_0x40d704(0xe77)]);else{if(_0x2e114c){const _0x28fad5=_0x2e114c['dataset'][_0x40d704(0x555)],_0x471937=allQuizzes[_0x40d704(0xe0f)](_0x51841b=>_0x51841b['id']===_0x28fad5);_0x471937&&handleGenerateParallelFromBank(_0x471937);}else{if(_0x1a48ec)handleMoveQuiz(_0x1a48ec[_0x40d704(0x664)][_0x40d704(0x555)]);else{if(_0x3d6d2d)handleManualQuizPairing(_0x3d6d2d[_0x40d704(0x664)]['quizId']);else{if(_0x313977)handleUnpairQuiz(_0x313977[_0x40d704(0x664)][_0x40d704(0x555)]);else{if(_0x3c9f80){const _0x33e92a=_0x3c9f80[_0x40d704(0x664)]['quizId'],_0x2160e5=allQuizzes[_0x40d704(0xe0f)](_0x1941b5=>_0x1941b5['id']===_0x33e92a);if(_0x2160e5)startPresentation(_0x2160e5);}else{if(_0x553565){const _0x3f8d01=_0x553565[_0x40d704(0x664)][_0x40d704(0x555)],_0x512902=allQuizzes[_0x40d704(0xe0f)](_0x281eaa=>_0x281eaa['id']===_0x3f8d01);_0x512902&&(currentQuizData=_0x512902,startAdminTest());}else{if(_0xad65a8)actionTargetId=_0xad65a8['dataset'][_0x40d704(0x555)],document[_0x40d704(0x4ff)](_0x40d704(0xda7))[_0x40d704(0xc2e)]['remove']('hidden');else{if(_0x2419dc)showConfirmation(_0x40d704(0xeab)+_0x2419dc[_0x40d704(0x664)][_0x40d704(0xe77)]+_0x40d704(0xec7),()=>handleDeleteQuiz(_0x2419dc['dataset'][_0x40d704(0x555)]));else{if(_0x255fb4)handleQuizStatus(_0x255fb4['dataset'][_0x40d704(0x555)]);else{if(_0x34ac04)handleGenerateEasyVersionQuiz(_0x34ac04[_0x40d704(0x664)][_0x40d704(0x555)]);else _0x1ca697&&showQuizDetailView(_0x1ca697[_0x40d704(0x664)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x198ef9(0x4ff)](_0x198ef9(0xe15))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>showView(_0x198ef9(0xa46))),document[_0x198ef9(0x4ff)]('confirm-team-players-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),confirmAndStartTeamQuiz),document['getElementById'](_0x198ef9(0x96d))['querySelector'](_0x198ef9(0x3e7))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x3217cd=>{const _0x28da8d=_0x198ef9,_0x1d3797=_0x3217cd[_0x28da8d(0x2b8)][_0x28da8d(0x7c4)](_0x28da8d(0xc58));if(!_0x1d3797||!_0x1d3797['dataset'][_0x28da8d(0x23c)])return;const _0x7f54c=_0x1d3797[_0x28da8d(0x664)][_0x28da8d(0x23c)];if(quizLeaderboardSortBy===_0x7f54c)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x28da8d(0x726)?_0x28da8d(0xa95):_0x28da8d(0x726);else{quizLeaderboardSortBy=_0x7f54c;const _0x5bae38=[_0x28da8d(0xc8f)];quizLeaderboardSortOrder=_0x5bae38['includes'](_0x7f54c)?_0x28da8d(0x726):_0x28da8d(0xa95);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x28da8d(0x7de));}),document[_0x198ef9(0x4ff)]('close-presentation-btn')[_0x198ef9(0xbe5)]('click',closePresentation),document[_0x198ef9(0x4ff)](_0x198ef9(0xb22))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x198ef9(0x50e))['addEventListener'](_0x198ef9(0xe61),()=>{const _0x40ecbc=_0x198ef9;currentQuizData[_0x40ecbc(0x7f9)]&&currentPresentationSlide<currentQuizData['questions'][_0x40ecbc(0x85b)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x198ef9(0xbe5)](_0x198ef9(0xce7),()=>{const _0x220871=_0x198ef9;!document[_0x220871(0xab9)]&&(presentationModal[_0x220871(0x8c6)][_0x220871(0x800)]=_0x220871(0x527));}),document[_0x198ef9(0x4ff)]('delete-all-students-btn')['addEventListener']('click',handleDeleteAllStudents),studentList[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x3b2584=>{const _0x13043c=_0x198ef9,_0xa5408e=_0x3b2584[_0x13043c(0x2b8)]['closest'](_0x13043c(0x5c3));if(_0xa5408e){const _0x3437f2=_0xa5408e[_0x13043c(0x664)][_0x13043c(0xc8f)];handleDeleteStudent(_0x3437f2);}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x1ff))[_0x198ef9(0xbe5)]('click',handleGenerateFromFileClick),fileUploadInput[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),_0x51968e=>{const _0x32adab=_0x198ef9,_0x9a7048=_0x51968e[_0x32adab(0x2b8)][_0x32adab(0xb81)][0x0],_0x4a2b8c=document[_0x32adab(0x4ff)](_0x32adab(0x1ff)),_0x5ed130=document['getElementById']('file-topics-list-container'),_0x274188=document[_0x32adab(0x4ff)](_0x32adab(0xb37));_0x9a7048?(selectedFile=_0x9a7048,_0x274188[_0x32adab(0x749)]?(_0x4a2b8c[_0x32adab(0x206)]=!![],analyzeFileForTopics(_0x9a7048)):(_0x4a2b8c[_0x32adab(0x206)]=![],_0x5ed130[_0x32adab(0xc2e)][_0x32adab(0xee4)](_0x32adab(0xc89)))):(selectedFile=null,_0x4a2b8c[_0x32adab(0x206)]=!![],_0x5ed130[_0x32adab(0xc2e)][_0x32adab(0xee4)](_0x32adab(0xc89)));}),document[_0x198ef9(0x4ff)](_0x198ef9(0xb37))[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),_0x4af938=>{const _0x19f5a4=_0x198ef9,_0x2d8b84=_0x4af938['target'][_0x19f5a4(0x749)],_0x1fcc3b=document[_0x19f5a4(0x4ff)]('generate-from-file-btn'),_0x804912=document[_0x19f5a4(0x4ff)](_0x19f5a4(0xbcc));_0x2d8b84?(_0x1fcc3b['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x804912[_0x19f5a4(0xc2e)][_0x19f5a4(0x716)](_0x19f5a4(0xc89)),document['getElementById'](_0x19f5a4(0xde8))[_0x19f5a4(0x1f9)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x804912[_0x19f5a4(0xc2e)]['add']('hidden'),_0x1fcc3b['disabled']=!selectedFile);}),document['getElementById'](_0x198ef9(0xbcc))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x3fa042=>{const _0x99f44e=_0x198ef9,_0x3e782b=_0x3fa042[_0x99f44e(0x2b8)]['closest'](_0x99f44e(0x221)),_0x59b084=_0x3fa042[_0x99f44e(0x2b8)][_0x99f44e(0x7c4)]('.generate-content-btn');if(_0x3e782b){const _0x13687a=unescape(_0x3e782b['dataset'][_0x99f44e(0xe77)]);generateHybridQuizForTopic(_0x13687a);}else{if(_0x59b084){const _0x6dc4f5=unescape(_0x59b084[_0x99f44e(0x664)]['topic']),_0x36c072=document[_0x99f44e(0x4ff)](_0x99f44e(0xb30))[_0x99f44e(0x717)];handleGenerateAndShowLesson(_0x6dc4f5,_0x36c072);}}}),document['getElementById']('timer-mode-select')['addEventListener'](_0x198ef9(0xdd4),_0x454956=>{const _0x3b176a=_0x198ef9,_0x4c8c4e=document[_0x3b176a(0x4ff)](_0x3b176a(0x655)),_0x508e1d=document['getElementById'](_0x3b176a(0x49f)),_0x85a48c=document['getElementById'](_0x3b176a(0x7a2));_0x454956[_0x3b176a(0x2b8)][_0x3b176a(0x717)]==='none'?_0x4c8c4e[_0x3b176a(0xc2e)][_0x3b176a(0xee4)]('hidden'):(_0x4c8c4e[_0x3b176a(0xc2e)]['remove']('hidden'),_0x454956['target'][_0x3b176a(0x717)]===_0x3b176a(0x3d0)?(_0x508e1d[_0x3b176a(0x602)]=_0x3b176a(0x6d5),_0x85a48c[_0x3b176a(0x717)]='10'):(_0x508e1d[_0x3b176a(0x602)]=_0x3b176a(0xd6f),_0x85a48c[_0x3b176a(0x717)]='30'));}),document[_0x198ef9(0x4ff)]('quiz-type-select')[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),_0xea9453=>{const _0x4de8a4=_0x198ef9,_0x4a556d=document[_0x4de8a4(0x4ff)]('num-choices-container'),_0x1b1846=_0xea9453[_0x4de8a4(0x2b8)][_0x4de8a4(0x717)],_0x361622=document[_0x4de8a4(0xee9)](_0x4de8a4(0x3ac)),_0x43c8b7=document[_0x4de8a4(0x4ff)](_0x4de8a4(0x832)),_0x1b2bb4=document['getElementById'](_0x4de8a4(0xe81));_0x1b1846===_0x4de8a4(0xdf9)?_0x361622[_0x4de8a4(0x602)]='จำนวนคู่:':_0x361622['textContent']=_0x4de8a4(0x5fe),_0x1b1846===_0x4de8a4(0xf0e)||_0x1b1846===_0x4de8a4(0x595)||_0x1b1846===_0x4de8a4(0xa5d)?_0x4a556d[_0x4de8a4(0xc2e)][_0x4de8a4(0x716)](_0x4de8a4(0xc89)):_0x4a556d['classList'][_0x4de8a4(0xee4)](_0x4de8a4(0xc89)),_0x43c8b7[_0x4de8a4(0xa87)]=_0x1b2bb4[_0x4de8a4(0x717)];}),document[_0x198ef9(0x4ff)](_0x198ef9(0xe81))[_0x198ef9(0xbe5)](_0x198ef9(0xeb6),_0x207229=>{const _0xe6ed85=_0x198ef9;document['getElementById'](_0xe6ed85(0x832))[_0xe6ed85(0xa87)]=_0x207229[_0xe6ed85(0x2b8)][_0xe6ed85(0x717)];}),document[_0x198ef9(0x4ff)]('modal-timer-mode-select')[_0x198ef9(0xbe5)](_0x198ef9(0xdd4),_0x49ec80=>{const _0x589572=_0x198ef9,_0x1ba2ef=document[_0x589572(0x4ff)]('modal-timer-duration-container'),_0x37b47c=document['getElementById'](_0x589572(0x9cd)),_0x22cdc9=document[_0x589572(0x4ff)](_0x589572(0x5f7));_0x49ec80[_0x589572(0x2b8)]['value']==='none'?_0x1ba2ef[_0x589572(0xc2e)]['add']('hidden'):(_0x1ba2ef['classList'][_0x589572(0x716)](_0x589572(0xc89)),_0x49ec80[_0x589572(0x2b8)][_0x589572(0x717)]===_0x589572(0x3d0)?_0x37b47c[_0x589572(0x602)]=_0x589572(0x6d5):_0x37b47c['textContent']=_0x589572(0xd6f));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x712))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x2279ce=_0x198ef9;document[_0x2279ce(0x4ff)](_0x2279ce(0x3cf))[_0x2279ce(0xc2e)]['add'](_0x2279ce(0xc89));}),document['getElementById'](_0x198ef9(0x6aa))['addEventListener']('click',()=>{const _0x1e17e4=_0x198ef9;document['getElementById'](_0x1e17e4(0x3cf))['classList'][_0x1e17e4(0xee4)](_0x1e17e4(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0x57c))[_0x198ef9(0xbe5)]('click',handleVerifyAnswersInEditor),document[_0x198ef9(0x4ff)]('save-quiz-edits-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x29f7cd=_0x198ef9;document[_0x29f7cd(0x4ff)](_0x29f7cd(0x3cf))[_0x29f7cd(0xc2e)]['add'](_0x29f7cd(0xc89)),showConfirmation(_0x29f7cd(0xeca),handleSaveChanges);}),document['getElementById'](_0x198ef9(0x5fa))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleAutoFixLatex);const _0x1b9d16=document['getElementById'](_0x198ef9(0x704));_0x1b9d16&&_0x1b9d16[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0xd9716c=>{const _0x56f863=_0x198ef9,_0x4dc0e7=_0xd9716c[_0x56f863(0x2b8)][_0x56f863(0x7c4)](_0x56f863(0x8ff));if(_0x4dc0e7){const _0x50d199=_0x4dc0e7[_0x56f863(0x7c4)]('.question-editor-item'),_0xc05717=parseInt(_0x50d199[_0x56f863(0x664)][_0x56f863(0x46c)],0xa);handleRegenerateQuestionInEditor(_0xc05717);return;}const _0x3697d1=_0xd9716c[_0x56f863(0x2b8)][_0x56f863(0x7c4)](_0x56f863(0xb14));if(_0x3697d1){const _0x3a6e88=_0x3697d1[_0x56f863(0x7c4)](_0x56f863(0xf07)),_0x3c58af=parseInt(_0x3a6e88['dataset'][_0x56f863(0x46c)],0xa);handleDeleteQuestionInEditor(_0x3c58af);return;}const _0x1c365d=_0xd9716c[_0x56f863(0x2b8)][_0x56f863(0x7c4)](_0x56f863(0x308));if(_0x1c365d){handleAddQuestionInEditor();return;}});document[_0x198ef9(0x4ff)](_0x198ef9(0xb5b))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),openQuizBankModal),document[_0x198ef9(0x4ff)]('cancel-quiz-bank-btn')['addEventListener']('click',()=>{const _0x53c0ac=_0x198ef9;document['getElementById'](_0x53c0ac(0xa23))[_0x53c0ac(0xc2e)][_0x53c0ac(0xee4)]('hidden');}),document[_0x198ef9(0x4ff)](_0x198ef9(0xa10))[_0x198ef9(0xbe5)]('input',_0x442827=>renderQuizBankList(_0x442827[_0x198ef9(0x2b8)]['value']));const _0x488304=document['getElementById'](_0x198ef9(0xe34));if(_0x488304){let _0x99c841=null;_0x488304[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x7f2dfe=>{const _0x48f1a0=_0x198ef9,_0x26d98e=_0x7f2dfe[_0x48f1a0(0x2b8)],_0x47c4c9=_0x26d98e[_0x48f1a0(0x7c4)](_0x48f1a0(0x21d)),_0x317c3e=_0x26d98e['closest']('.delete-custom-topic-btn'),_0x5b31a7=_0x26d98e[_0x48f1a0(0x7c4)](_0x48f1a0(0x668)),_0x1101a6=_0x26d98e[_0x48f1a0(0x7c4)](_0x48f1a0(0x408));if(_0x317c3e){_0x7f2dfe[_0x48f1a0(0xcbd)]();const _0x404057=_0x317c3e[_0x48f1a0(0x664)]['id'],_0x358e61=_0x317c3e[_0x48f1a0(0x7c4)](_0x48f1a0(0x5d7))['querySelector'](_0x48f1a0(0x686))[_0x48f1a0(0x602)];showConfirmation(_0x48f1a0(0x617)+_0x358e61+'\x22?',()=>handleDeleteCustomTopic(_0x404057));}else{if(_0x47c4c9){_0x7f2dfe['preventDefault']();_0x99c841&&toggleTopicEditMode(_0x99c841,![]);const _0x4cae72=_0x47c4c9[_0x48f1a0(0x7c4)](_0x48f1a0(0x46b));_0x99c841=_0x4cae72,toggleTopicEditMode(_0x4cae72,!![]);}else{if(_0x5b31a7){_0x7f2dfe[_0x48f1a0(0xcbd)]();const _0x49348f=_0x5b31a7[_0x48f1a0(0x664)]['id'],_0x12c91e=_0x5b31a7[_0x48f1a0(0x7c4)](_0x48f1a0(0x46b)),_0x2591bd=_0x12c91e[_0x48f1a0(0xee9)](_0x48f1a0(0x489))[_0x48f1a0(0x717)];handleUpdateCustomTopic(_0x49348f,_0x2591bd),_0x99c841=null;}else{if(_0x1101a6){_0x7f2dfe[_0x48f1a0(0xcbd)]();const _0x413c67=_0x1101a6[_0x48f1a0(0x7c4)]('[data-topic-container-id]');toggleTopicEditMode(_0x413c67,![]),_0x99c841=null;}}}}}),document[_0x198ef9(0x4ff)](_0x198ef9(0xca0))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x112e07=_0x198ef9;document[_0x112e07(0x4ff)](_0x112e07(0xe44))[_0x112e07(0xc2e)][_0x112e07(0xee4)](_0x112e07(0xc89));}),document[_0x198ef9(0x4ff)](_0x198ef9(0xcba))['addEventListener']('click',()=>{const _0x3be595=_0x198ef9;document[_0x3be595(0x4ff)](_0x3be595(0xe44))['classList'][_0x3be595(0xee4)]('hidden');}),document['getElementById']('export-lesson-pdf-btn')[_0x198ef9(0xbe5)](_0x198ef9(0xe61),handleExportLessonPDF);}document[_0x198ef9(0x4ff)](_0x198ef9(0xb16))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),()=>{const _0x1a2e78=_0x198ef9;document['getElementById'](_0x1a2e78(0xa0a))[_0x1a2e78(0xc2e)][_0x1a2e78(0xee4)]('hidden');}),document[_0x198ef9(0x4ff)](_0x198ef9(0x3aa))['addEventListener'](_0x198ef9(0xe61),()=>{const _0x4d8c98=_0x198ef9;document['getElementById'](_0x4d8c98(0xa0a))[_0x4d8c98(0xc2e)][_0x4d8c98(0xee4)](_0x4d8c98(0xc89));}),setupComparisonModalTabs(),document['body'][_0x198ef9(0xbe5)](_0x198ef9(0xe61),function(_0x67787c){const _0x41030a=_0x198ef9;if(_0x67787c[_0x41030a(0x2b8)][_0x41030a(0xc2e)][_0x41030a(0x995)]('practice-topic-btn')){const _0xd3c98f=unescape(_0x67787c[_0x41030a(0x2b8)][_0x41030a(0x664)][_0x41030a(0xe77)]);startSkillPractice(_0xd3c98f);}}),document[_0x198ef9(0x4ff)](_0x198ef9(0x820))[_0x198ef9(0xbe5)](_0x198ef9(0xe61),_0x17732a=>{const _0x93826c=_0x198ef9,_0x1dff34=_0x17732a[_0x93826c(0x2b8)][_0x93826c(0x7c4)](_0x93826c(0x5fb));if(_0x1dff34){const _0x22b180=_0x1dff34[_0x93826c(0x664)][_0x93826c(0xc8f)];handleDeleteSubmission(_0x22b180);return;}const _0x263f5a=_0x17732a['target'][_0x93826c(0x7c4)](_0x93826c(0x94f));if(_0x263f5a){const _0x507aa5=_0x263f5a[_0x93826c(0x664)][_0x93826c(0xc8f)],_0x1a8ad5=_0x263f5a[_0x93826c(0x664)][_0x93826c(0xa07)],_0x1a9ab2=prompt(_0x93826c(0x81c)+_0x507aa5+_0x93826c(0x9df),_0x1a8ad5);if(_0x1a9ab2!==null&&_0x1a9ab2['trim']()!==''){const _0x1abfe3=parseInt(_0x1a9ab2,0xa);!isNaN(_0x1abfe3)?handleManualEditPoints(_0x507aa5,_0x1abfe3):alert(_0x93826c(0xbe4));}}});}async function handleStartGroupMode(_0x4d4cd7,_0x2282a0=![]){const _0x48b879=_0x5ddd37,_0x23d2c9=allQuizzes['find'](_0x1682fe=>_0x1682fe['id']===_0x4d4cd7)||allQuizzesGlobal['find'](_0x5b41da=>_0x5b41da['id']===_0x4d4cd7);if(!_0x23d2c9){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x23d2c9);const _0x41815b=Math[_0x48b879(0x9f5)](0x3e8+Math[_0x48b879(0x21a)]()*0x2328)[_0x48b879(0xe66)]();try{const _0x70a1fd=await addDoc(collection(db,'artifacts/'+appId+_0x48b879(0xd5c)),{'quizId':_0x23d2c9['id'],'projectId':_0x23d2c9[_0x48b879(0x44e)],'status':_0x48b879(0x356),'pin':_0x41815b,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2282a0});currentTeamQuizId=_0x70a1fd['id'],showView(_0x48b879(0x263)),renderAdminTeamQuizDashboard(_0x41815b,_0x23d2c9['topic'],_0x48b879(0x380)),listenForTeamQuizUpdates();}catch(_0x263e3e){console[_0x48b879(0x34c)](_0x48b879(0xc19),_0x263e3e),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x12edc3=_0x5ddd37;studentInitialView['classList'][_0x12edc3(0xee4)](_0x12edc3(0xc89)),document[_0x12edc3(0x4ff)](_0x12edc3(0x831))['classList'][_0x12edc3(0x716)](_0x12edc3(0xc89));const _0x4971ea=document[_0x12edc3(0x4ff)](_0x12edc3(0x231)),_0x7b7e20=document[_0x12edc3(0x4ff)](_0x12edc3(0x5b5)),_0x38fa48=document[_0x12edc3(0x4ff)](_0x12edc3(0x268));_0x38fa48[_0x12edc3(0x1f9)]=_0x12edc3(0x295),_0x7b7e20[_0x12edc3(0x1f9)]=_0x12edc3(0x79d),_0x7b7e20[_0x12edc3(0x206)]=!![],_0x4971ea['innerHTML']=_0x12edc3(0xec2);if(allProjects['length']===0x0){const _0x39f10c=collection(db,_0x12edc3(0x8a6)+appId+_0x12edc3(0x8c1)),_0x2eece0=await getDocs(_0x39f10c);allProjects=_0x2eece0['docs'][_0x12edc3(0xa25)](_0x567094=>({'id':_0x567094['id'],..._0x567094['data']()}));}const _0x1560d3=allProjects[_0x12edc3(0xd8d)](_0x791101=>_0x791101['settings']?.[_0x12edc3(0x3f4)]!==![]);_0x1560d3[_0x12edc3(0x23c)]((_0x3208fd,_0x22d38c)=>_0x3208fd['projectName'][_0x12edc3(0xe10)](_0x22d38c[_0x12edc3(0x981)],'th')),_0x4971ea['innerHTML']=_0x12edc3(0x9f2)+_0x1560d3[_0x12edc3(0xa25)](_0x49b175=>_0x12edc3(0x33e)+_0x49b175['id']+'\x22>'+_0x49b175[_0x12edc3(0x981)]+_0x12edc3(0x999))[_0x12edc3(0x40a)](''),_0x4971ea[_0x12edc3(0x88e)]=()=>{const _0x10102f=_0x12edc3,_0x355076=_0x7b7e20[_0x10102f(0x717)],_0x118bd4=_0x4971ea['value'];_0x7b7e20[_0x10102f(0x206)]=!![],_0x7b7e20['innerHTML']=_0x10102f(0x79d),_0x38fa48[_0x10102f(0x1f9)]=_0x10102f(0x930);if(!_0x118bd4)return;const _0x45dbe1=allProjects[_0x10102f(0xe0f)](_0x8e51db=>_0x8e51db['id']===_0x118bd4);if(!_0x45dbe1||!_0x45dbe1[_0x10102f(0x28a)])return;const _0x5938e5=()=>{const _0x50b3bc=_0x10102f;_0x7b7e20[_0x50b3bc(0x1f9)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x45dbe1[_0x50b3bc(0x28a)][_0x50b3bc(0xa25)](_0x317358=>_0x50b3bc(0x33e)+_0x317358+'\x22>'+_0x317358+'</option>')[_0x50b3bc(0x40a)](''),_0x7b7e20[_0x50b3bc(0x206)]=![];const _0x2b63e3=Array[_0x50b3bc(0x8ed)](_0x7b7e20[_0x50b3bc(0x4ad)])[_0x50b3bc(0xa25)](_0x59da87=>_0x59da87['value']);if(_0x355076&&_0x2b63e3[_0x50b3bc(0xdf4)](_0x355076))_0x7b7e20[_0x50b3bc(0x717)]=_0x355076,_0x7b7e20[_0x50b3bc(0xdcb)](new Event(_0x50b3bc(0xdd4)));else _0x45dbe1[_0x50b3bc(0x28a)][_0x50b3bc(0x85b)]===0x1&&(_0x7b7e20[_0x50b3bc(0x717)]=_0x45dbe1[_0x50b3bc(0x28a)][0x0],_0x7b7e20['dispatchEvent'](new Event(_0x50b3bc(0xdd4))));};if(_0x45dbe1[_0x10102f(0x297)]?.[_0x10102f(0x6cb)]){if(sessionStorage[_0x10102f(0xd06)]('authed_project_'+_0x118bd4)===_0x10102f(0x394)){_0x5938e5();return;}const _0x44ffc0=document[_0x10102f(0x4ff)](_0x10102f(0xddb)),_0x32ee80=document[_0x10102f(0x4ff)](_0x10102f(0xa80)),_0x3bc502=document[_0x10102f(0x4ff)]('cancel-passcode-btn'),_0x336740=document['getElementById'](_0x10102f(0xae7)),_0x4c931e=document[_0x10102f(0x4ff)](_0x10102f(0x65c));document['getElementById']('passcode-prompt-message')[_0x10102f(0x602)]='สำหรับโปรเจค:\x20'+_0x45dbe1[_0x10102f(0x981)],_0x336740[_0x10102f(0x717)]='',_0x4c931e[_0x10102f(0xc2e)][_0x10102f(0xee4)](_0x10102f(0xc89)),_0x44ffc0[_0x10102f(0xc2e)]['remove'](_0x10102f(0xc89));const _0x13b691=()=>{const _0x1f9a48=_0x10102f,_0x28fa0d=_0x336740['value'][_0x1f9a48(0x26c)]();_0x28fa0d===_0x45dbe1[_0x1f9a48(0x297)][_0x1f9a48(0x9cb)]?(sessionStorage[_0x1f9a48(0xab8)](_0x1f9a48(0xd32)+_0x118bd4,_0x1f9a48(0x394)),_0x44ffc0[_0x1f9a48(0xc2e)][_0x1f9a48(0xee4)](_0x1f9a48(0xc89)),_0x5938e5(),_0x32ee80['removeEventListener']('click',_0x13b691)):_0x4c931e['classList'][_0x1f9a48(0x716)](_0x1f9a48(0xc89));};_0x32ee80[_0x10102f(0x66e)]=_0x13b691,_0x3bc502[_0x10102f(0x66e)]=()=>{const _0x47b0a1=_0x10102f;_0x44ffc0['classList'][_0x47b0a1(0xee4)](_0x47b0a1(0xc89)),_0x4971ea[_0x47b0a1(0x717)]='',_0x32ee80['removeEventListener'](_0x47b0a1(0xe61),_0x13b691);};}else _0x5938e5();},_0x7b7e20['onchange']=()=>{const _0x2ebd80=_0x12edc3,_0x1fabac=_0x4971ea[_0x2ebd80(0x717)],_0x40eefa=_0x7b7e20[_0x2ebd80(0x717)];_0x1fabac&&_0x40eefa&&renderStudentProgressDashboard(_0x1fabac,_0x40eefa);};}async function confirmAndJoinSyncGame(){const _0x147587=_0x5ddd37;lastSeenQuestionIndex=-0x1,sessionStorage[_0x147587(0x55c)](_0x147587(0xe72)),sessionStorage['removeItem'](_0x147587(0x893)),Object[_0x147587(0x4cf)](sessionStorage)[_0x147587(0x23a)](_0x2a9fa7=>{const _0x11b42d=_0x147587;(_0x2a9fa7['startsWith'](_0x11b42d(0xa4a))||_0x2a9fa7['startsWith'](_0x11b42d(0xefa))||_0x2a9fa7[_0x11b42d(0x64d)]('hiddenOptions_q'))&&sessionStorage['removeItem'](_0x2a9fa7);});const _0x244732=Array[_0x147587(0x8ed)](document[_0x147587(0xe1c)](_0x147587(0x5a7)))[_0x147587(0xa25)](_0x1ba041=>_0x1ba041[_0x147587(0x717)]);if(_0x244732[_0x147587(0x85b)]===0x0){showMessage(_0x147587(0x9a1));return;}localTeamPlayers=_0x244732,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x51097e=writeBatch(db),_0x1a2161=serverTimestamp();_0x244732['forEach'](_0x1080f5=>{const _0x3675ba=_0x147587,_0x41356f=doc(db,_0x3675ba(0x8a6)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3675ba(0x94d),_0x1080f5),_0x4c2d21={'name':_0x1080f5,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x3675ba(0x5de),'answers':[],'joinedAt':_0x1a2161,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x51097e[_0x3675ba(0x9c0)](_0x41356f,_0x4c2d21,{'merge':!![]});}),await _0x51097e[_0x147587(0x7b5)](),showView(_0x147587(0x263)),document[_0x147587(0x4ff)](_0x147587(0x398))[_0x147587(0xc2e)]['add'](_0x147587(0xc89)),currentStudentName=_0x244732[0x0],listenForSyncGameUpdates();const _0x1567d={'gameId':currentLiveGameId,'mode':_0x147587(0x3b7),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x147587(0xab8)](_0x147587(0x466),JSON[_0x147587(0xe5a)](_0x1567d)),currentMode!==_0x147587(0xb26)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x147587(0xbe5)](_0x147587(0xce7),handleFullscreenChange),document[_0x147587(0xbe5)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x147587(0x34d),resetDimTimer),window['addEventListener'](_0x147587(0xa24),resetDimTimer),window[_0x147587(0xbe5)](_0x147587(0x5ae),resetDimTimer),window[_0x147587(0xbe5)](_0x147587(0x56c),resetDimTimer),resetDimTimer());}catch(_0x4c3e03){console[_0x147587(0x34c)](_0x147587(0xc40),_0x4c3e03),showMessage(_0x147587(0xe5b)+_0x4c3e03[_0x147587(0x541)]);}}async function resumeActiveGameSession(){const _0x5e95e2=_0x5ddd37,_0x4aa844=sessionStorage[_0x5e95e2(0xd06)](_0x5e95e2(0x466));if(!_0x4aa844)return;const _0x1d8a73=JSON[_0x5e95e2(0xe29)](_0x4aa844),{gameId:_0x590b14,mode:_0x40646c,role:_0x33cb57,players:_0xc4df46,turnIndex:_0x5b8b00}=_0x1d8a73;try{if(_0x33cb57==='admin'&&_0x40646c===_0x5e95e2(0x3b7)){const _0x32bf28=doc(db,_0x5e95e2(0x8a6)+appId+_0x5e95e2(0x869),_0x590b14),_0x4cb274=await getDoc(_0x32bf28);if(!_0x4cb274[_0x5e95e2(0x8d2)]()||_0x4cb274[_0x5e95e2(0xef5)]()[_0x5e95e2(0x361)]===_0x5e95e2(0xd73)||_0x4cb274['data']()[_0x5e95e2(0x361)]==='finished'){sessionStorage[_0x5e95e2(0x55c)](_0x5e95e2(0x466));return;}console[_0x5e95e2(0x674)](_0x5e95e2(0x834)+_0x590b14+')'),currentMode=_0x5e95e2(0x420),currentLiveGameId=_0x590b14,currentQuizData=_0x4cb274['data']()[_0x5e95e2(0x230)],showView('live-game'),listenForSyncGameUpdates();}else{if(_0x40646c===_0x5e95e2(0x3b7)&&_0xc4df46){const _0x4293dd=doc(db,_0x5e95e2(0x8a6)+appId+'/public/data/syncGames',_0x590b14),_0xbe2899=await getDoc(_0x4293dd);if(!_0xbe2899[_0x5e95e2(0x8d2)]()||_0xbe2899[_0x5e95e2(0xef5)]()[_0x5e95e2(0x361)]===_0x5e95e2(0xd73)||_0xbe2899[_0x5e95e2(0xef5)]()[_0x5e95e2(0x361)]===_0x5e95e2(0x98e)){sessionStorage['removeItem'](_0x5e95e2(0x466));return;}console[_0x5e95e2(0x674)](_0x5e95e2(0xc81)+_0x590b14+')'),currentLiveGameId=_0x590b14,currentStudentName=_0xc4df46[0x0],localTeamPlayers=_0xc4df46,showView(_0x5e95e2(0x263)),listenForSyncGameUpdates();}else{if((_0x40646c===_0x5e95e2(0xa03)||_0x40646c===_0x5e95e2(0x380))&&_0xc4df46){const _0x38d27b=doc(db,_0x5e95e2(0x8a6)+appId+_0x5e95e2(0xd5c),_0x590b14),_0x940eb8=await getDoc(_0x38d27b);if(!_0x940eb8[_0x5e95e2(0x8d2)]()||_0x940eb8[_0x5e95e2(0xef5)]()[_0x5e95e2(0x361)]===_0x5e95e2(0xd73)||_0x940eb8['data']()['status']===_0x5e95e2(0x98e)){sessionStorage[_0x5e95e2(0x55c)](_0x5e95e2(0x466));return;}console['log'](_0x5e95e2(0xacd)+_0x40646c+_0x5e95e2(0x4b6)+_0x590b14+')'),currentTeamQuizId=_0x590b14,localTeamPlayers=_0xc4df46,localQuestionIndex=_0x1d8a73[_0x5e95e2(0xb48)]||0x0,localPlayerIndex=_0x1d8a73[_0x5e95e2(0x550)]||0x0;const _0x181594=_0x940eb8[_0x5e95e2(0xef5)](),_0x153c31=doc(db,_0x5e95e2(0x8a6)+appId+'/public/data/quizzes',_0x181594['quizId']),_0x100bae=await getDoc(_0x153c31);_0x100bae[_0x5e95e2(0x8d2)]()&&(currentQuizData=getShuffledQuiz({'id':_0x100bae['id'],..._0x100bae[_0x5e95e2(0xef5)]()}),showView('student'),studentInitialView[_0x5e95e2(0xc2e)][_0x5e95e2(0xee4)]('hidden'),_0x40646c==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x3a5568){console[_0x5e95e2(0x34c)](_0x5e95e2(0x337),_0x3a5568),sessionStorage[_0x5e95e2(0x55c)](_0x5e95e2(0x466));}}async function handleUsePowerup(_0x2cfd70,_0x4a206f,_0x4ff96f,_0x539cc1,_0x4dfdbf){const _0x348115=_0x5ddd37,_0x9c2fed=_0x539cc1[_0x348115(0x70b)],_0x2445c1=_0x348115(0xefa)+_0x9c2fed+'_p'+_0x2cfd70,_0x2baa4f=sessionStorage[_0x348115(0xd06)](_0x2445c1);if(_0x2baa4f&&_0x4a206f!==_0x348115(0x67d)&&_0x4a206f!==_0x348115(0x333)){showMessage(_0x348115(0xb6b));const _0x509085=document['getElementById']('use-powerup-'+_0x4a206f);if(_0x509085)_0x509085[_0x348115(0x206)]=![];return;}if(_0x4a206f===_0x348115(0xcc6)){sessionStorage[_0x348115(0xab8)](_0x2445c1,_0x4a206f),renderStudentSyncQuestionView(_0x539cc1);return;}const _0x1a8171=doc(db,_0x348115(0x8a6)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x348115(0x94d),_0x2cfd70);try{await runTransaction(db,async _0x8e35ec=>{const _0x53606f=_0x348115,_0x4c2a2c=await _0x8e35ec[_0x53606f(0x1fc)](_0x1a8171);if(!_0x4c2a2c[_0x53606f(0x8d2)]())throw _0x53606f(0xeeb);const _0x42a564=_0x4c2a2c[_0x53606f(0xef5)](),_0x199000=_0x42a564['powerups']||{},_0x25a967=_0x199000[_0x4a206f]||0x0;if(_0x25a967<=0x0)throw'คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)';const _0x6ba12e={};_0x6ba12e[_0x53606f(0xb54)+_0x4a206f]=increment(-0x1);if(_0x4a206f===_0x53606f(0x67d)){const _0x3797cd=(_0x539cc1['timerDuration']||0xf0)*0x3e8,_0x2ec5c2=_0x3797cd*0.25;_0x6ba12e[_0x53606f(0xc1d)]=increment(_0x2ec5c2);}_0x8e35ec['update'](_0x1a8171,_0x6ba12e);}),_0x4a206f===_0x348115(0x264)&&sessionStorage[_0x348115(0xab8)]('pollUsedThisTurn','true'),_0x4a206f!==_0x348115(0x67d)&&_0x4a206f!=='strategyScan'&&sessionStorage[_0x348115(0xab8)](_0x2445c1,_0x4a206f),applyPowerupEffect(_0x2cfd70,_0x4a206f,_0x4ff96f,_0x539cc1,_0x4dfdbf),(_0x4a206f===_0x348115(0xb36)||_0x4a206f==='fiftyFifty'||_0x4a206f===_0x348115(0x5f0))&&renderStudentSyncQuestionView(_0x539cc1);}catch(_0x25ba75){console[_0x348115(0x34c)]('Powerup\x20use\x20failed:',_0x25ba75),showMessage(typeof _0x25ba75===_0x348115(0xe22)?_0x25ba75:_0x348115(0x8a9));const _0x390a02=document[_0x348115(0x4ff)](_0x348115(0x901)+_0x4a206f);if(_0x390a02)_0x390a02[_0x348115(0x206)]=![];}}async function getCachedOtherPlayers(_0x183450,_0x59b4db){const _0x4ff89c=_0x5ddd37,_0x303eb0=_0x183450[_0x4ff89c(0x70b)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x303eb0)return console[_0x4ff89c(0x674)](_0x4ff89c(0xc56)),cachedOtherPlayersForQuestion;console[_0x4ff89c(0x674)](_0x4ff89c(0xb43));const _0x1e01fe=collection(db,_0x4ff89c(0x8a6)+appId+_0x4ff89c(0x48b)+currentLiveGameId+_0x4ff89c(0x94d)),_0x232ea2=query(_0x1e01fe,where(_0x4ff89c(0x361),'==',_0x4ff89c(0x5de))),_0x489d9c=await getDocs(_0x232ea2),_0x50ed41=[];return _0x489d9c[_0x4ff89c(0x23a)](_0x197a28=>{const _0x5cdf98=_0x4ff89c,_0x464ae3=_0x197a28[_0x5cdf98(0xef5)]();_0x50ed41['push'](_0x464ae3);}),cachedOtherPlayersForQuestion=_0x50ed41,cachedQuestionIndexForPlayers=_0x303eb0,_0x50ed41;}async function applyPowerupEffect(_0x4884d0,_0x51f52e,_0x357980,_0x59f34d,_0x5a9c7){const _0x36a712=_0x5ddd37,_0x5df9ef=_0x357980,_0x3dcb53=_0x59f34d[_0x36a712(0x70b)],_0x3bb3cf='powerupUsed_q'+_0x3dcb53+'_p'+_0x4884d0,_0x5e9248=collection(db,_0x36a712(0x8a6)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players'),_0x9d0378=await getDocs(query(_0x5e9248,where(_0x36a712(0x361),'==',_0x36a712(0x5de)))),_0x45f441=doc(db,_0x36a712(0x8a6)+appId+_0x36a712(0x869),currentLiveGameId),_0x482979=await getDoc(_0x45f441),_0x1942cb=_0x482979['exists']()?_0x482979[_0x36a712(0xef5)]():{},_0x148f9b=_0x1942cb[_0x36a712(0xbd9)]||{},_0x3588ba=[];_0x9d0378['forEach'](_0xaccd22=>{const _0x1cb616=_0x36a712,_0x5bde40=_0xaccd22['data'](),_0x5b1927=_0x148f9b[_0x5bde40[_0x1cb616(0xc44)]]||{};_0x3588ba[_0x1cb616(0xb2a)]({..._0x5bde40,'pointsLastRound':_0x5b1927[_0x1cb616(0x936)]!==undefined?_0x5b1927[_0x1cb616(0x936)]:_0x5bde40['pointsLastRound']||0x0,'score':_0x5bde40[_0x1cb616(0x6e9)]||0x0});});const _0x1e376a=_0x3588ba[_0x36a712(0xe0f)](_0x1fd0db=>_0x1fd0db[_0x36a712(0xc44)]===_0x4884d0)||_0x5a9c7,_0x5c6739=_0x1d694b=>{const _0xaa54a7=_0x36a712,_0x10e784=_0x59f34d[_0xaa54a7(0x649)]===_0xaa54a7(0xa1d),_0xbb9faa=_0x59f34d['isBlackMarketEnabled']===!![],_0x4bab5a=_0x1d694b[_0xaa54a7(0xc44)];if(!_0x10e784)return _0x4bab5a;const _0x56d267=_0x59f34d[_0xaa54a7(0x357)][_0x4bab5a]||_0xaa54a7(0xdce);let _0x2bfeb4=![];if(_0xbb9faa){const _0x4e62f1=_0x1e376a[_0xaa54a7(0x6e9)]||0x0,_0x4d7b82=_0x1d694b[_0xaa54a7(0x6e9)]||0x0,_0x5acdb7=_0x1e376a[_0xaa54a7(0x936)]||0x0,_0x169dfd=_0x1d694b[_0xaa54a7(0x936)]||0x0;_0x2bfeb4=_0x4e62f1>_0x4d7b82||_0x4e62f1===_0x4d7b82&&_0x5acdb7>_0x169dfd;}else{const _0x35d80a=_0x1e376a[_0xaa54a7(0x936)]||0x0,_0x27bcf4=_0x1d694b[_0xaa54a7(0x936)]||0x0;_0x2bfeb4=_0x35d80a>_0x27bcf4;}return _0x2bfeb4?_0x4bab5a+'\x20('+_0x56d267+')':_0x56d267;};switch(_0x51f52e){case'poll':try{let _0x14b890=0x0;const _0x5cbb46={};(_0x357980['options']||[])[_0x36a712(0x23a)]((_0x129f11,_0x6a05dd)=>{_0x5cbb46[_0x6a05dd]=0x0;}),_0x3588ba[_0x36a712(0x23a)](_0x52e65c=>{const _0x1ba1f4=_0x36a712,_0xfc413f=(_0x52e65c[_0x1ba1f4(0xc7d)]||[])[_0x1ba1f4(0xe0f)](_0x57bf61=>_0x57bf61['questionIndex']===_0x3dcb53);if(_0xfc413f&&_0xfc413f['answer']!==null){const _0x4b5f49=parseInt(_0xfc413f[_0x1ba1f4(0x641)]);!isNaN(_0x4b5f49)&&_0x5cbb46[_0x4b5f49]!==undefined&&(_0x5cbb46[_0x4b5f49]++,_0x14b890++);}});if(_0x14b890===0x0){showMessage(_0x36a712(0x74c));return;}let _0x2d115e=_0x36a712(0x750)+_0x14b890+'\x20คน):\x0a\x0a';Object[_0x36a712(0xc63)](_0x5cbb46)[_0x36a712(0x23a)](([_0x2cbcba,_0xafa713])=>{const _0x213001=_0x36a712,_0x47cf62=_0x14b890>0x0?(_0xafa713/_0x14b890*0x64)[_0x213001(0xe88)](0x0):0x0,_0x5c615f=_0x213001(0xda4)+(parseInt(_0x2cbcba)+0x1);_0x2d115e+=_0x5c615f+':\x20'+_0xafa713+'\x20คน\x20('+_0x47cf62+_0x213001(0xa9b);}),showMessage(_0x2d115e);}catch(_0x5c4d0e){console[_0x36a712(0x34c)](_0x5c4d0e),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลสถิติ');}break;case _0x36a712(0x333):try{const _0x5be73e=_0x3588ba[_0x36a712(0xd8d)](_0x5bd03c=>_0x5bd03c[_0x36a712(0xc44)]!==_0x4884d0);if(_0x5be73e[_0x36a712(0x85b)]===0x0){showMessage('📡\x20สแกน:\x20ไม่พบผู้เล่นอื่นในห้องครับ'),handleRefundPowerup(_0x4884d0,_0x36a712(0x333));break;}let _0x54555b=[];_0x5be73e[_0x36a712(0x23a)](_0x404fc7=>{const _0x18c541=_0x36a712,_0x125aa4=_0x404fc7[_0x18c541(0xa04)]||{};if((_0x125aa4[_0x18c541(0x264)]||0x0)>0x0||(_0x125aa4[_0x18c541(0xcc6)]||0x0)>0x0){const _0xbaab6c=_0x5c6739(_0x404fc7);let _0x422b98=[];if(_0x125aa4[_0x18c541(0x264)]>0x0)_0x422b98['push']('📊');if(_0x125aa4[_0x18c541(0xcc6)]>0x0)_0x422b98['push']('💰');_0x54555b[_0x18c541(0xb2a)]('-\x20'+_0xbaab6c+'\x20(มี:\x20'+_0x422b98[_0x18c541(0x40a)](',\x20')+')');}}),showMessage(_0x54555b['length']>0x0?'📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a'+_0x54555b[_0x36a712(0x40a)]('\x0a'):_0x36a712(0xa68));}catch(_0x120199){console[_0x36a712(0x34c)](_0x120199),handleRefundPowerup(_0x4884d0,_0x36a712(0x333));}break;case'forceConfident':case'jinx':const _0x3a3512=_0x51f52e===_0x36a712(0x702),_0x73e43=_0x3588ba[_0x36a712(0xd8d)](_0xe77694=>{const _0xd82fb9=_0x36a712,_0x30f524=(_0xe77694['answers']||[])[_0xd82fb9(0x6a0)](_0x2be04e=>_0x2be04e[_0xd82fb9(0xb48)]===_0x3dcb53);return _0xe77694[_0xd82fb9(0xc44)]!==_0x4884d0&&!_0x30f524&&_0xe77694['status']===_0xd82fb9(0x5de);});if(_0x73e43[_0x36a712(0x85b)]===0x0){showMessage(_0x36a712(0x630)),sessionStorage[_0x36a712(0x55c)](_0x3bb3cf),handleRefundPowerup(_0x4884d0,_0x51f52e);break;}const _0x24b999=_0x73e43[_0x36a712(0xa25)]((_0x200e3b,_0xf946df)=>({'index':_0xf946df+0x1,'realName':_0x200e3b[_0x36a712(0xc44)],'displayName':_0x5c6739(_0x200e3b)})),_0x26253a=_0x24b999[_0x36a712(0xa25)](_0x3e22cc=>_0x3e22cc[_0x36a712(0xdbf)]+':\x20'+_0x3e22cc[_0x36a712(0x7dc)])[_0x36a712(0x40a)]('\x0a'),_0x3cf307=prompt(_0x36a712(0xaef)+(_0x3a3512?'บังคับมั่นใจ':_0x36a712(0xa8c))+'\x22\x20(ใส่ตัวเลข):\x0a'+_0x26253a),_0x47636c=parseInt(_0x3cf307)-0x1;if(_0x47636c>=0x0&&_0x47636c<_0x24b999['length']){const _0x1260eb=_0x24b999[_0x47636c];if(_0x3a3512)handleForceConfident(_0x1260eb['realName'],_0x1260eb[_0x36a712(0x7dc)]);else handleApplyJinx(_0x1260eb['realName'],_0x1260eb[_0x36a712(0x7dc)]);}else showMessage(_0x36a712(0x91f)),sessionStorage[_0x36a712(0x55c)](_0x3bb3cf),handleRefundPowerup(_0x4884d0,_0x51f52e);break;case _0x36a712(0x5f0):showMessage('🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200');break;case _0x36a712(0xcc6):showMessage(_0x36a712(0x288));break;case _0x36a712(0x3be):showMessage(_0x36a712(0x8c3));break;case _0x36a712(0x67d):const _0x50e7cc=(_0x59f34d[_0x36a712(0xd91)]||0xf0)*0.25;showMessage(_0x36a712(0x597)+_0x50e7cc+_0x36a712(0xe52));break;case _0x36a712(0xb36):case _0x36a712(0xac7):const _0x4e6af4=document['querySelectorAll'](_0x36a712(0xc3a));if(_0x4e6af4['length']===0x0){showMessage('❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ');return;}const _0x4e4ac6=_0x36a712(0xa00)+_0x3dcb53+'_p'+_0x4884d0,_0x5c7038=JSON[_0x36a712(0xe29)](sessionStorage['getItem'](_0x4e4ac6)||'[]');let _0x2d5e77;_0x5df9ef[_0x36a712(0x278)]==='true_false'?_0x2d5e77=String(_0x5df9ef[_0x36a712(0x98f)])['toLowerCase']()===_0x36a712(0x394)?0x0:0x1:_0x2d5e77=_0x5df9ef['correctAnswerIndex'];const _0x2153eb=Array[_0x36a712(0x8ed)](_0x4e6af4)[_0x36a712(0xd8d)](_0x5c4ddd=>parseInt(_0x5c4ddd[_0x36a712(0x664)][_0x36a712(0x717)])!==_0x2d5e77&&!_0x5c7038['includes'](_0x5c4ddd[_0x36a712(0x664)][_0x36a712(0x717)]));if(_0x2153eb[_0x36a712(0x85b)]===0x0){showMessage(_0x36a712(0x3b4));return;}shuffleArray(_0x2153eb);let _0x322744=[..._0x5c7038];const _0x24f04d=_0x51f52e===_0x36a712(0xb36)?0x1:0x2;for(let _0x39383b=0x0;_0x39383b<_0x24f04d;_0x39383b++){_0x2153eb[_0x39383b]&&(_0x2153eb[_0x39383b][_0x36a712(0xc2e)][_0x36a712(0xee4)](_0x36a712(0xc89)),_0x322744[_0x36a712(0xb2a)](_0x2153eb[_0x39383b][_0x36a712(0x664)][_0x36a712(0x717)]));}sessionStorage[_0x36a712(0xab8)](_0x4e4ac6,JSON[_0x36a712(0xe5a)](_0x322744)),showMessage(_0x51f52e===_0x36a712(0xb36)?_0x36a712(0xb55):_0x36a712(0x652));break;default:showMessage('ใช้ไอเทม\x20'+_0x51f52e+_0x36a712(0x694));}}async function handleForceConfident(_0x36a88c,_0x4188a5){const _0x33b4a3=_0x5ddd37;if(!currentLiveGameId||!_0x36a88c)return;const _0x55325a=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x33b4a3(0x94d),_0x36a88c);try{await updateDoc(_0x55325a,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x4188a5+_0x33b4a3(0xc34));}catch(_0x210b09){console[_0x33b4a3(0x34c)](_0x33b4a3(0x2cf),_0x210b09),showMessage(_0x33b4a3(0x3c0));}}async function handleRefundPowerup(_0x1fd2da,_0xf5c83a){const _0x5900b6=_0x5ddd37,_0x39096=doc(db,_0x5900b6(0x8a6)+appId+_0x5900b6(0x48b)+currentLiveGameId+_0x5900b6(0x94d),_0x1fd2da);try{const _0x2e4857={};_0x2e4857[_0x5900b6(0xb54)+_0xf5c83a]=increment(0x1),await updateDoc(_0x39096,_0x2e4857),console[_0x5900b6(0x674)](_0x5900b6(0x83d)+_0xf5c83a+'\x20to\x20'+_0x1fd2da);}catch(_0x2ee93d){console[_0x5900b6(0x34c)](_0x5900b6(0xc43),_0x2ee93d);}}async function handleApplyJinx(_0x22f808,_0x4a561f){const _0x4beecf=_0x5ddd37;if(!currentLiveGameId||!_0x22f808)return;const _0x5cfbc1=doc(db,_0x4beecf(0x8a6)+appId+_0x4beecf(0x48b)+currentLiveGameId+_0x4beecf(0x94d),_0x22f808);try{await updateDoc(_0x5cfbc1,{'isJinxed':!![]}),showMessage(_0x4beecf(0x653)+_0x4a561f+'\x20สำเร็จ!');}catch(_0x233518){console[_0x4beecf(0x34c)](_0x4beecf(0xe18),_0x233518),showMessage(_0x4beecf(0x3c0));}}function activateFileInputAreaWithLoadedFile(){const _0x4e165e=_0x5ddd37,_0x510647=document[_0x4e165e(0x4ff)](_0x4e165e(0x1ff)),_0x419bb1=document[_0x4e165e(0x4ff)](_0x4e165e(0xbcc)),_0x5d3adf=document[_0x4e165e(0x4ff)](_0x4e165e(0xb37));selectedFile?_0x5d3adf[_0x4e165e(0x749)]?(_0x510647[_0x4e165e(0x206)]=!![],analyzeFileForTopics(selectedFile)):(_0x510647[_0x4e165e(0x206)]=![],_0x419bb1[_0x4e165e(0xc2e)][_0x4e165e(0xee4)]('hidden')):(_0x510647['disabled']=!![],_0x419bb1[_0x4e165e(0xc2e)]['add']('hidden'));}async function handleKickPlayerSync(_0xc6b36f){const _0x284fe7=_0x5ddd37;if(!currentLiveGameId||!_0xc6b36f)return;const _0x58996a=doc(db,_0x284fe7(0x8a6)+appId+_0x284fe7(0x48b)+currentLiveGameId+_0x284fe7(0x94d),_0xc6b36f);try{await updateDoc(_0x58996a,{'status':_0x284fe7(0x924)});}catch(_0x139179){console[_0x284fe7(0x34c)](_0x284fe7(0x475)+_0xc6b36f+':',_0x139179),showMessage(_0x284fe7(0xa8d));}}async function renderStudentProgressDashboard(_0x1f775d,_0x374fb0){const _0x28e04b=_0x5ddd37,_0x1e66ad=document[_0x28e04b(0x4ff)](_0x28e04b(0x268));_0x1e66ad[_0x28e04b(0x1f9)]=_0x28e04b(0x811);try{const _0x5745a0=collection(db,_0x28e04b(0x8a6)+appId+_0x28e04b(0xad5)),_0x59eb58=query(_0x5745a0,where(_0x28e04b(0x44e),'==',_0x1f775d)),_0x4359dd=await getDocs(_0x59eb58),_0x3f580e=_0x4359dd[_0x28e04b(0xb91)][_0x28e04b(0xa25)](_0x2dd8b5=>({'id':_0x2dd8b5['id'],..._0x2dd8b5[_0x28e04b(0xef5)]()})),_0x1b5824=_0x3f580e['map'](_0x399f65=>getDoc(doc(db,'artifacts/'+appId+_0x28e04b(0x1f4)+_0x399f65['id']+'/submissions',_0x374fb0))),_0x13fe5a=await Promise[_0x28e04b(0xa6b)](_0x1b5824),_0x4ce0cf=_0x13fe5a['filter'](_0x228d7b=>_0x228d7b[_0x28e04b(0x8d2)]())[_0x28e04b(0xa25)](_0x49c4ba=>({'quizId':_0x49c4ba['ref']['parent'][_0x28e04b(0x6d6)]['id'],..._0x49c4ba[_0x28e04b(0xef5)]()}));if(_0x4ce0cf[_0x28e04b(0x85b)]===0x0){_0x1e66ad[_0x28e04b(0x1f9)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x1358a1=_0x28e04b(0x483);_0x4ce0cf['forEach'](_0x1ae7bb=>{const _0x1b8c4c=_0x28e04b,_0xac90e8=_0x3f580e[_0x1b8c4c(0xe0f)](_0xc526d4=>_0xc526d4['id']===_0x1ae7bb[_0x1b8c4c(0x555)]),_0x2a9886=_0xac90e8[_0x1b8c4c(0x297)]?.[_0x1b8c4c(0x6a1)]||_0x1b8c4c(0x76c),_0xa01a8f=_0xac90e8[_0x1b8c4c(0x297)]?.[_0x1b8c4c(0x27e)]??0x0,_0x4e3264=_0x1ae7bb[_0x1b8c4c(0x73f)]>=_0xa01a8f;let _0x40e871='',_0x455a8c=_0x1b8c4c(0x4c2);switch(_0x2a9886){case'show_results_and_answers':case _0x1b8c4c(0x45d):_0x455a8c=_0x4e3264?_0x1b8c4c(0xcde):_0x1b8c4c(0x506),_0x40e871=_0x1b8c4c(0xbac)+(_0x4e3264?'text-green-700':_0x1b8c4c(0xa34))+'\x22>'+_0x1ae7bb[_0x1b8c4c(0x73f)]+_0x1b8c4c(0xcc1)+_0x1ae7bb[_0x1b8c4c(0x5eb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x4e3264?_0x1b8c4c(0x744):_0x1b8c4c(0x737))+'\x22>'+(_0x4e3264?_0x1b8c4c(0xca6):_0x1b8c4c(0x74e))+_0x1b8c4c(0xcc4);break;case'show_pass_fail_only':_0x455a8c=_0x4e3264?_0x1b8c4c(0xcde):_0x1b8c4c(0x506),_0x40e871=_0x1b8c4c(0x9bf)+(_0x4e3264?'bg-green-200\x20text-green-800':_0x1b8c4c(0x737))+'\x22>'+(_0x4e3264?_0x1b8c4c(0xca6):'ไม่ผ่าน')+_0x1b8c4c(0xcc4);break;case _0x1b8c4c(0xb4d):_0x455a8c=_0x1b8c4c(0x61b),_0x40e871='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x1358a1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x455a8c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0xac90e8['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x1ae7bb[_0x1b8c4c(0x35e)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x1ae7bb[_0x1b8c4c(0x2c8)])[_0x1b8c4c(0x213)](_0x1b8c4c(0x465))+_0x1b8c4c(0x21c)+_0x40e871+_0x1b8c4c(0xca8);}),_0x1358a1+=_0x28e04b(0x629),_0x1e66ad['innerHTML']=_0x1358a1;}catch(_0x55ed93){console[_0x28e04b(0x34c)](_0x28e04b(0x7bf),_0x55ed93),_0x1e66ad[_0x28e04b(0x1f9)]=_0x28e04b(0x73d);}}function renderQuizBankListForMultiSelect(_0x65f50b=''){const _0xeb4ee9=_0x5ddd37,_0x43a72f=document[_0xeb4ee9(0x4ff)](_0xeb4ee9(0xe31)),_0xf72917=_0x65f50b[_0xeb4ee9(0xbca)]()[_0xeb4ee9(0x26c)](),_0x33617b=allQuizzesGlobal[_0xeb4ee9(0xa25)](_0x20bb03=>({..._0x20bb03,'projectName':allProjects[_0xeb4ee9(0xe0f)](_0x1df62a=>_0x1df62a['id']===_0x20bb03['projectId'])?.[_0xeb4ee9(0x981)]||_0xeb4ee9(0xc57)}))[_0xeb4ee9(0xd8d)](_0x384434=>(_0x384434[_0xeb4ee9(0xe77)]||'')[_0xeb4ee9(0xbca)]()['includes'](_0xf72917)||(_0x384434['projectName']||'')[_0xeb4ee9(0xbca)]()['includes'](_0xf72917)||_0x384434['id'][_0xeb4ee9(0xe66)]()[_0xeb4ee9(0xdf4)](_0xf72917));_0x43a72f[_0xeb4ee9(0x1f9)]=_0x33617b[_0xeb4ee9(0x85b)]?_0x33617b['map'](_0x283229=>_0xeb4ee9(0x6f5)+_0x283229['id']+_0xeb4ee9(0x979)+(_0x283229[_0xeb4ee9(0xe77)]||_0xeb4ee9(0x4f0))+_0xeb4ee9(0x5d8)+_0x283229[_0xeb4ee9(0x981)]+_0xeb4ee9(0x8f9)+_0x283229['id']+_0xeb4ee9(0x637))[_0xeb4ee9(0x40a)](''):_0xeb4ee9(0xd99),_0x43a72f[_0xeb4ee9(0x88e)]=()=>{const _0x55a6a1=_0xeb4ee9,_0x129464=document[_0x55a6a1(0xee9)](_0x55a6a1(0x5f3));document[_0x55a6a1(0x4ff)](_0x55a6a1(0xe7b))['disabled']=!_0x129464;};}function setupStudentProgressListeners(){const _0x52cdc6=_0x5ddd37;document[_0x52cdc6(0x4ff)](_0x52cdc6(0x233))[_0x52cdc6(0xbe5)]('click',showStudentProgressView),document[_0x52cdc6(0x4ff)](_0x52cdc6(0x22f))['addEventListener'](_0x52cdc6(0xe61),()=>{const _0x2fa414=_0x52cdc6;document[_0x2fa414(0x4ff)]('student-progress-view')[_0x2fa414(0xc2e)]['add']('hidden'),document[_0x2fa414(0x4ff)](_0x2fa414(0x354))['classList'][_0x2fa414(0x716)](_0x2fa414(0xc89));});}async function startSkillPractice(_0x5fa481){const _0xd29cae=_0x5ddd37;studentResultArea[_0xd29cae(0xc2e)][_0xd29cae(0xee4)]('hidden'),studentQuizArea[_0xd29cae(0x1f9)]=_0xd29cae(0xaa5),studentQuizArea[_0xd29cae(0xc2e)][_0xd29cae(0x716)](_0xd29cae(0xc89));try{const _0x413fd6=await getStandardizedTopic(_0x5fa481);console[_0xd29cae(0x674)](_0xd29cae(0x9c3)+_0x5fa481+_0xd29cae(0x31b)+_0x413fd6+'\x22'),studentQuizArea[_0xd29cae(0xee9)]('p')[_0xd29cae(0x602)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x413fd6+_0xd29cae(0x753);const _0x49d2da=collection(db,_0xd29cae(0x8a6)+appId+_0xd29cae(0x49e)),_0x4bbc4d=query(_0x49d2da,where('topic','==',_0x413fd6)),_0x577d8e=await getDocs(_0x4bbc4d);if(_0x577d8e[_0xd29cae(0xb91)][_0xd29cae(0x85b)]>=0x3){console[_0xd29cae(0x674)](_0xd29cae(0x2a0)+_0x577d8e[_0xd29cae(0xb91)][_0xd29cae(0x85b)]+_0xd29cae(0xd14)+_0x413fd6+_0xd29cae(0x515));let _0x69bd63=_0x577d8e[_0xd29cae(0xb91)][_0xd29cae(0xa25)](_0x28dc9e=>_0x28dc9e[_0xd29cae(0xef5)]());shuffleArray(_0x69bd63);const _0x4ee1ca={'topic':_0x413fd6,'questions':_0x69bd63['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x4ee1ca);}else{console[_0xd29cae(0x674)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x413fd6+_0xd29cae(0xd39));const _0x3e3552=await generatePracticeQuestions(_0x413fd6);await saveDrillToPracticeBank(_0x3e3552,_0x413fd6),displaySkillPracticeDrill(_0x3e3552);}}catch(_0x23668d){console[_0xd29cae(0x34c)](_0xd29cae(0xd47),_0x23668d),showMessage(_0xd29cae(0x43c)),studentQuizArea[_0xd29cae(0xc2e)][_0xd29cae(0xee4)](_0xd29cae(0xc89)),studentResultArea[_0xd29cae(0xc2e)][_0xd29cae(0x716)](_0xd29cae(0xc89));}}async function saveDrillToPracticeBank(_0x1b161c,_0x1e1a19){const _0x5f01de=_0x5ddd37,_0x30a619=collection(db,_0x5f01de(0x8a6)+appId+_0x5f01de(0x49e)),_0x798296=writeBatch(db);_0x1b161c[_0x5f01de(0x7f9)][_0x5f01de(0x23a)](_0x1251c6=>{const _0x178bb2=_0x5f01de,_0x2fd806=doc(_0x30a619);_0x798296[_0x178bb2(0x9c0)](_0x2fd806,{'topic':_0x1e1a19,'questionText':_0x1251c6[_0x178bb2(0xb93)],'options':_0x1251c6[_0x178bb2(0x4ad)],'correctAnswerIndex':_0x1251c6[_0x178bb2(0x791)],'explanation':_0x1251c6[_0x178bb2(0x29b)],'createdAt':serverTimestamp()});});try{await _0x798296[_0x5f01de(0x7b5)](),console['log']('บันทึกคำถามใหม่\x20'+_0x1b161c[_0x5f01de(0x7f9)][_0x5f01de(0x85b)]+_0x5f01de(0x34b));}catch(_0x2f00df){console[_0x5f01de(0x34c)](_0x5f01de(0x512),_0x2f00df);}}async function getStandardizedTopic(_0x2b2cac){const _0x28d690=_0x5ddd37,_0x430fe8=_0x28d690(0xc73)+_0x2b2cac+_0x28d690(0xd52),_0x2b2510={'type':_0x28d690(0x3d9),'properties':{'standardTopic':{'type':_0x28d690(0xa74)}},'required':[_0x28d690(0x2bc)]};try{const _0x3a4c5c=await callAnalysisApi(_0x430fe8,_0x2b2510);return _0x3a4c5c[_0x28d690(0x2bc)];}catch(_0x131237){return console[_0x28d690(0x34c)](_0x28d690(0xb58),_0x131237),_0x2b2cac;}}async function handleGenerateEasyVersionQuiz(_0x5d4795){const _0x37d2fb=_0x5ddd37,_0x22428c=document[_0x37d2fb(0x4ff)]('results-tab-content'),_0x356862=document[_0x37d2fb(0x4ff)](_0x37d2fb(0xa64));_0x356862['classList']['add']('hidden');const _0x308a2e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x22428c['insertAdjacentHTML'](_0x37d2fb(0xc79),_0x308a2e);try{const _0x4521f2=allQuizzes['find'](_0x192cf5=>_0x192cf5['id']===_0x5d4795);if(!_0x4521f2)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x39d690=_0x37d2fb(0x429)+JSON[_0x37d2fb(0xe5a)](_0x4521f2[_0x37d2fb(0x7f9)])+_0x37d2fb(0xbe1),_0xa1207d={'type':_0x37d2fb(0x3d9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x37d2fb(0xa74)},'options':{'type':_0x37d2fb(0x26d),'items':{'type':_0x37d2fb(0xa74)}},'correctAnswerIndex':{'type':_0x37d2fb(0xd03)},'idealAnswer':{'type':_0x37d2fb(0xa74)},'explanation':{'type':_0x37d2fb(0xa74)},'imageCode':{'type':_0x37d2fb(0xa74)}},'required':['questionText',_0x37d2fb(0x278),_0x37d2fb(0x29b)]},_0x2c6b49={'type':_0x37d2fb(0x3d9),'properties':{'questions':{'type':_0x37d2fb(0x26d),'items':_0xa1207d}},'required':[_0x37d2fb(0x7f9)]},_0x21bb33=await callAnalysisApi(_0x39d690,_0x2c6b49);_0x21bb33&&_0x21bb33[_0x37d2fb(0x7f9)]&&_0x21bb33[_0x37d2fb(0x7f9)][_0x37d2fb(0x23a)](_0x3fdad5=>{const _0x58ec90=_0x37d2fb;if(_0x3fdad5[_0x58ec90(0xa15)](_0x58ec90(0xa18))){const _0x3776e5=String(_0x3fdad5[_0x58ec90(0xa18)])[_0x58ec90(0x26c)]();(_0x3776e5===''||_0x3776e5[_0x58ec90(0xbca)]()===_0x58ec90(0x5d6)||!_0x3776e5[_0x58ec90(0x64d)](_0x58ec90(0x576)))&&delete _0x3fdad5['imageCode'];}});if(!_0x21bb33||!_0x21bb33['questions']||_0x21bb33[_0x37d2fb(0x7f9)][_0x37d2fb(0x85b)]===0x0)throw new Error(_0x37d2fb(0xee0));const _0xad60ae=_0x21bb33[_0x37d2fb(0x7f9)]['map']((_0x1f3285,_0x1c8934)=>({..._0x1f3285,'id':'q_'+Date[_0x37d2fb(0x599)]()+'_'+_0x1c8934})),_0x3ad5ca={'projectId':_0x4521f2[_0x37d2fb(0x44e)],'quizType':_0x4521f2[_0x37d2fb(0xa9d)],'settings':_0x4521f2['settings'],'createdBy':_0x4521f2[_0x37d2fb(0xedd)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x4521f2[_0x37d2fb(0xe77)],'questions':_0xad60ae,'createdAt':new Date()[_0x37d2fb(0x4f9)](),'quizMode':_0x37d2fb(0xa84),'pairedQuizId':null};let _0x1f8fc6;while(!![]){_0x1f8fc6=Math[_0x37d2fb(0x9f5)](0x3e8+Math['random']()*0x2328)[_0x37d2fb(0xe66)]();const _0x1b797e=await getDoc(doc(db,_0x37d2fb(0x8a6)+appId+'/public/data/quizzes',_0x1f8fc6));if(!_0x1b797e[_0x37d2fb(0x8d2)]())break;}await setDoc(doc(db,_0x37d2fb(0x8a6)+appId+'/public/data/quizzes',_0x1f8fc6),_0x3ad5ca),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x2b6d75){console[_0x37d2fb(0x34c)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x2b6d75),showMessage(_0x37d2fb(0x26e)+_0x2b6d75[_0x37d2fb(0x541)]);}finally{const _0x3848d3=document[_0x37d2fb(0x4ff)](_0x37d2fb(0x7ac));_0x3848d3&&_0x3848d3[_0x37d2fb(0x716)](),_0x356862['classList'][_0x37d2fb(0x716)](_0x37d2fb(0xc89));}}async function generatePracticeQuestions(_0xa54032){const _0x35b1e8=_0x5ddd37,_0x12c8af=_0x35b1e8(0x673)+_0xa54032+_0x35b1e8(0x4f3)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x251368={'type':_0x35b1e8(0x3d9),'properties':{'questionText':{'type':_0x35b1e8(0xa74)},'options':{'type':_0x35b1e8(0x26d),'items':{'type':_0x35b1e8(0xa74)}},'correctAnswerIndex':{'type':_0x35b1e8(0xd03)},'explanation':{'type':_0x35b1e8(0xa74)}},'required':[_0x35b1e8(0xb93),_0x35b1e8(0x4ad),'correctAnswerIndex',_0x35b1e8(0x29b)]},_0x8cf7c5={'type':_0x35b1e8(0x3d9),'properties':{'topic':{'type':_0x35b1e8(0xa74)},'questions':{'type':_0x35b1e8(0x26d),'items':_0x251368}},'required':['topic',_0x35b1e8(0x7f9)]};return await callAnalysisApi(_0x12c8af,_0x8cf7c5);}function displayLessonPlan(_0x18f81b,_0x4845f2){const _0x4b07f6=_0x5ddd37,_0x4532e5=_0x4b07f6(0x4db)+_0x4845f2[_0x4b07f6(0xe77)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x18f81b['learningGaps'][_0x4b07f6(0xa25)](_0x19e33c=>_0x4b07f6(0xcc9)+_0x19e33c+_0x4b07f6(0xa20))[_0x4b07f6(0x40a)]('')+_0x4b07f6(0xa8b)+_0x18f81b[_0x4b07f6(0xbf9)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x18f81b[_0x4b07f6(0x399)][_0x4b07f6(0xa25)](_0x22f904=>_0x4b07f6(0x25d)+_0x22f904['question']+_0x4b07f6(0x43a)+_0x22f904['solution']+'</p></div>')[_0x4b07f6(0x40a)]('')+_0x4b07f6(0x26a);document['getElementById'](_0x4b07f6(0xc06))[_0x4b07f6(0x602)]=_0x4b07f6(0x59f)+_0x4845f2[_0x4b07f6(0xe77)],document[_0x4b07f6(0x4ff)](_0x4b07f6(0x85c))[_0x4b07f6(0x1f9)]=_0x4532e5,document[_0x4b07f6(0x4ff)](_0x4b07f6(0xe44))[_0x4b07f6(0xc2e)][_0x4b07f6(0x716)](_0x4b07f6(0xc89));if(window[_0x4b07f6(0xb8c)])MathJax[_0x4b07f6(0xe28)]();}function displaySkillPracticeDrill(_0x1426ba){let _0x4418f5=0x0;const _0x473f9f=_0x1426ba['questions'],_0x3addb0=()=>{const _0x19d69f=_0x2785,_0x415fb0=_0x473f9f[_0x4418f5],_0x528d12=_0x19d69f(0x445)+(_0x4418f5+0x1)+_0x19d69f(0xcc1)+_0x473f9f[_0x19d69f(0x85b)]+_0x19d69f(0x959)+_0x415fb0[_0x19d69f(0xb93)]+_0x19d69f(0x908)+_0x415fb0['options'][_0x19d69f(0xa25)]((_0x436433,_0x22a9a8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x22a9a8+_0x19d69f(0x992)+_0x22a9a8+_0x19d69f(0x62a)+_0x22a9a8+'\x22>'+_0x436433+_0x19d69f(0xdc0))[_0x19d69f(0x40a)]('')+_0x19d69f(0xd6b);studentQuizArea[_0x19d69f(0x1f9)]=_0x528d12;if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x19d69f(0x4ff)](_0x19d69f(0x4b4))['addEventListener'](_0x19d69f(0xe61),async()=>{const _0x5a07fa=_0x19d69f,_0x4d176d=await getHintForQuestion(_0x415fb0[_0x5a07fa(0xb93)]);showMessage(_0x4d176d);}),document[_0x19d69f(0x4ff)](_0x19d69f(0xc4e))['addEventListener'](_0x19d69f(0xe61),()=>{const _0x1b6519=_0x19d69f,_0x41e0d0=document[_0x1b6519(0xee9)](_0x1b6519(0xb96));if(!_0x41e0d0){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x1e34bc=document[_0x1b6519(0x4ff)](_0x1b6519(0x20c)),_0x2b140e=parseInt(_0x41e0d0[_0x1b6519(0x717)])===_0x415fb0['correctAnswerIndex'];_0x2b140e?(_0x1e34bc[_0x1b6519(0xbaa)]=_0x1b6519(0xaba),_0x1e34bc[_0x1b6519(0x1f9)]=_0x1b6519(0x585)+_0x415fb0[_0x1b6519(0x29b)]):(_0x1e34bc['className']=_0x1b6519(0x8ec),_0x1e34bc[_0x1b6519(0x1f9)]=_0x1b6519(0x738)+_0x415fb0['explanation']);_0x1e34bc[_0x1b6519(0xc2e)][_0x1b6519(0x716)](_0x1b6519(0xc89));if(window[_0x1b6519(0xb8c)])MathJax[_0x1b6519(0xe28)]([_0x1e34bc]);document[_0x1b6519(0x4ff)](_0x1b6519(0xc4e))[_0x1b6519(0xc2e)][_0x1b6519(0xee4)](_0x1b6519(0xc89)),document[_0x1b6519(0x4ff)]('hint-btn')[_0x1b6519(0xc2e)][_0x1b6519(0xee4)](_0x1b6519(0xc89)),document[_0x1b6519(0x4ff)](_0x1b6519(0x610))[_0x1b6519(0xc2e)]['remove'](_0x1b6519(0xc89));}),document[_0x19d69f(0x4ff)](_0x19d69f(0x610))[_0x19d69f(0xbe5)]('click',()=>{const _0x26fba6=_0x19d69f;_0x4418f5++,_0x4418f5<_0x473f9f[_0x26fba6(0x85b)]?_0x3addb0():(studentQuizArea[_0x26fba6(0x1f9)]=_0x26fba6(0x88a),document['getElementById'](_0x26fba6(0xc10))[_0x26fba6(0xbe5)](_0x26fba6(0xe61),()=>{const _0x258cc9=_0x26fba6;studentQuizArea[_0x258cc9(0xc2e)][_0x258cc9(0xee4)](_0x258cc9(0xc89)),studentResultArea[_0x258cc9(0xc2e)][_0x258cc9(0x716)](_0x258cc9(0xc89));}));});};_0x3addb0();}async function getHintForQuestion(_0x357428){const _0x2721ab=_0x5ddd37,_0x4ac23e='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x357428+_0x2721ab(0x75a),_0x1fc134={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':[_0x2721ab(0x5bf)]};try{const _0x1090bb=await callAnalysisApi(_0x4ac23e,_0x1fc134);return _0x1090bb[_0x2721ab(0x5bf)];}catch(_0x2aa7c9){return console[_0x2721ab(0x34c)](_0x2721ab(0x25f),_0x2aa7c9),_0x2721ab(0x4ba);}}async function extractTextFromPdf(_0x3d0e8c){const _0x272f4b=_0x5ddd37;pdfjsLib[_0x272f4b(0x302)][_0x272f4b(0x2d8)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x452c99=await _0x3d0e8c[_0x272f4b(0x271)](),_0x49e352=await pdfjsLib['getDocument'](_0x452c99)['promise'],_0x8e5bf2=_0x49e352[_0x272f4b(0x8d8)];let _0x160a85='';for(let _0x38f782=0x1;_0x38f782<=_0x8e5bf2;_0x38f782++){const _0x5b3551=await _0x49e352[_0x272f4b(0xc39)](_0x38f782),_0x1a6bb9=await _0x5b3551['getTextContent'](),_0x4b94c4=_0x1a6bb9[_0x272f4b(0x4b8)]['map'](_0x2f55c9=>_0x2f55c9[_0x272f4b(0xa39)])[_0x272f4b(0x40a)]('\x20');_0x160a85+=_0x4b94c4+'\x0a\x0a';}return _0x160a85;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x1cc6de){const _0x472aa3=_0x5ddd37,_0x4cd924=document[_0x472aa3(0x4ff)](_0x472aa3(0x64a)),_0x88ac07=document[_0x472aa3(0x4ff)](_0x472aa3(0x7cf)),_0x307ae9=document['getElementById'](_0x472aa3(0x772));_0x4cd924[_0x472aa3(0xc2e)][_0x472aa3(0x716)](_0x472aa3(0xc89)),_0x88ac07[_0x472aa3(0x1f9)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x307ae9[_0x472aa3(0xc2e)][_0x472aa3(0xee4)](_0x472aa3(0xc89));try{const _0x283818=_0x472aa3(0x3f9)+_0x1cc6de+_0x472aa3(0xf00),_0x1569b8={'type':_0x472aa3(0x3d9),'properties':{'gradeLevel':{'type':_0x472aa3(0xa74)},'curriculum':{'type':'ARRAY','items':{'type':_0x472aa3(0x3d9),'properties':{'sara':{'type':_0x472aa3(0xa74)},'mainTopics':{'type':_0x472aa3(0x26d),'items':{'type':_0x472aa3(0x3d9),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x472aa3(0x26d),'items':{'type':_0x472aa3(0xa74)}}},'required':[_0x472aa3(0xade),'subTopics']}}},'required':[_0x472aa3(0x7c5),_0x472aa3(0x940)]}}},'required':[_0x472aa3(0x732),_0x472aa3(0xd0f)]},_0x34ddb2=await callAnalysisApi(_0x283818,_0x1569b8);if(_0x34ddb2&&_0x34ddb2[_0x472aa3(0xd0f)])extractedBlueprintData=_0x34ddb2,renderBlueprintTopics(_0x34ddb2),_0x307ae9[_0x472aa3(0xc2e)][_0x472aa3(0x716)](_0x472aa3(0xc89));else throw new Error(_0x472aa3(0x372));}catch(_0x5d1b6f){console['error']('Error\x20analyzing\x20blueprint\x20topics:',_0x5d1b6f),_0x88ac07[_0x472aa3(0x1f9)]=_0x472aa3(0x6bf);}}function renderBlueprintTopics(_0x4c351b){const _0x3b4dec=_0x5ddd37,_0x48aee5=document[_0x3b4dec(0x4ff)](_0x3b4dec(0x7cf)),_0x24f13d=_0x4c351b[_0x3b4dec(0x732)],_0x1688cd='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x24f13d+_0x3b4dec(0xe53);let _0x6e69e6='';_0x4c351b[_0x3b4dec(0xd0f)][_0x3b4dec(0x23a)](_0x39ecbf=>{const _0x430f53=_0x3b4dec;_0x6e69e6+=_0x430f53(0x9d1)+_0x39ecbf['sara']+_0x430f53(0x583),_0x39ecbf[_0x430f53(0x940)][_0x430f53(0x23a)](_0x457245=>{const _0x281f0d=_0x430f53;_0x6e69e6+=_0x281f0d(0xe13)+_0x457245['topicName']+_0x281f0d(0xc45),_0x457245[_0x281f0d(0x37e)][_0x281f0d(0x23a)](_0x5b2458=>{const _0x4f0b6d=_0x281f0d;_0x6e69e6+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x5b2458[_0x4f0b6d(0x701)](/'/g,'\x5c\x27')+_0x4f0b6d(0xb23)+_0x24f13d[_0x4f0b6d(0x701)](/'/g,'\x5c\x27')+_0x4f0b6d(0x84d)+_0x5b2458+_0x4f0b6d(0xc37)+_0x5b2458[_0x4f0b6d(0x701)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x6e69e6+=_0x281f0d(0xc7b);}),_0x6e69e6+=_0x430f53(0x629);}),_0x48aee5[_0x3b4dec(0x1f9)]=_0x1688cd+_0x6e69e6;}async function handleGenerateTeachingContent(_0x430819){const _0x4819c4=_0x5ddd37,_0x15eeb6=document[_0x4819c4(0x4ff)]('lesson-plan-modal'),_0x260a81=document[_0x4819c4(0x4ff)](_0x4819c4(0x85c));document[_0x4819c4(0x4ff)](_0x4819c4(0xc06))[_0x4819c4(0x602)]='กำลังสร้างเนื้อหา:\x20'+_0x430819,_0x260a81[_0x4819c4(0x1f9)]=_0x4819c4(0x4c6),_0x15eeb6[_0x4819c4(0xc2e)][_0x4819c4(0x716)]('hidden');try{const _0x490138=_0x4819c4(0xb33)+_0x430819+_0x4819c4(0x93a),_0xa77b2a={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x4819c4(0x26d),'items':{'type':_0x4819c4(0xa74)}},'commonMistakes':{'type':_0x4819c4(0x26d),'items':{'type':_0x4819c4(0xa74)}},'stepByStepExamples':{'type':_0x4819c4(0x26d),'items':{'type':_0x4819c4(0x3d9),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}},'required':['question',_0x4819c4(0x265)]}},'teacherTips':{'type':_0x4819c4(0x26d),'items':{'type':_0x4819c4(0xa74)}}},'required':[_0x4819c4(0x22b),_0x4819c4(0x5e2),_0x4819c4(0x351),_0x4819c4(0x559)]},_0x3163ad=await callAnalysisApi(_0x490138,_0xa77b2a);displayTeachingContent(_0x3163ad,_0x430819);}catch(_0x166dff){console[_0x4819c4(0x34c)](_0x4819c4(0xde9),_0x166dff),_0x260a81[_0x4819c4(0x1f9)]=_0x4819c4(0x44d)+_0x166dff[_0x4819c4(0x541)]+_0x4819c4(0x7d3);}}function displayTeachingContent(_0x26d6ed,_0xbe3a73){const _0x5be67f=_0x5ddd37,_0x286365=document['getElementById']('lesson-plan-content');document[_0x5be67f(0x4ff)](_0x5be67f(0xc06))['textContent']=_0x5be67f(0xe5e)+_0xbe3a73;const _0x1f4d7a=_0x5be67f(0xb9f)+_0x26d6ed[_0x5be67f(0x22b)][_0x5be67f(0xa25)](_0x1d5e75=>_0x5be67f(0xcc9)+_0x1d5e75+_0x5be67f(0xa20))[_0x5be67f(0x40a)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x26d6ed['commonMistakes'][_0x5be67f(0xa25)](_0x494267=>'<li>'+_0x494267+'</li>')[_0x5be67f(0x40a)]('')+_0x5be67f(0xaf3)+_0x26d6ed[_0x5be67f(0x351)][_0x5be67f(0xa25)](_0x3cfd34=>_0x5be67f(0xa41)+_0x3cfd34[_0x5be67f(0xb0e)]+_0x5be67f(0x47d)+_0x3cfd34[_0x5be67f(0x265)]+_0x5be67f(0xd27))[_0x5be67f(0x40a)]('')+_0x5be67f(0x29d)+_0x26d6ed[_0x5be67f(0x559)][_0x5be67f(0xa25)](_0x171a05=>_0x5be67f(0xcc9)+_0x171a05+_0x5be67f(0xa20))[_0x5be67f(0x40a)]('')+_0x5be67f(0x50c);_0x286365['innerHTML']=_0x1f4d7a;if(window[_0x5be67f(0xb8c)])MathJax[_0x5be67f(0xe28)]([_0x286365]);}async function generateQuizForSingleTopic(_0x1b8846){const _0x192eaf=_0x5ddd37;console[_0x192eaf(0x674)](_0x192eaf(0xcdd)+_0x1b8846+'\x22');const _0x21819a=document[_0x192eaf(0x4ff)](_0x192eaf(0x224)),_0x21dc4c=_0x21819a[_0x192eaf(0xb81)][_0x192eaf(0x85b)]>0x0?_0x21819a['files'][0x0]:null;let _0x738728=null;if(_0x21dc4c)try{const _0x30a266=new FileReader();_0x30a266[_0x192eaf(0x817)](_0x21dc4c);const _0x3e3ff3=await new Promise((_0x1c3ec7,_0x480c16)=>{_0x30a266['onload']=()=>_0x1c3ec7(_0x30a266['result']['split'](',')[0x1]),_0x30a266['onerror']=_0x4b98cf=>_0x480c16(_0x4b98cf);});_0x738728=[{'inlineData':{'mimeType':_0x21dc4c['type'],'data':_0x3e3ff3}}];}catch(_0x201512){console[_0x192eaf(0x34c)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x201512),showMessage(_0x192eaf(0x8c7));return;}generateQuiz(_0x1b8846,null,null,_0x738728,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x40185f=null){const _0x48cc6d=_0x5ddd37,_0x338147=document['getElementById'](_0x48cc6d(0xb7b)),_0x268a7f=document[_0x48cc6d(0x4ff)](_0x48cc6d(0x865));let _0x12df25,_0x3f7e2a=[];if(_0x40185f)_0x12df25=_0x40185f,_0x3f7e2a=_0x12df25[_0x48cc6d(0x507)](0x2);else{const _0xced9f=document['getElementById']('blueprint-upload-input'),_0x26e34b=document['getElementById'](_0x48cc6d(0x224)),_0x10d0cf=_0xced9f[_0x48cc6d(0xb81)][0x0];if(!_0x10d0cf){showMessage(_0x48cc6d(0x456));return;}_0x268a7f[_0x48cc6d(0x602)]=_0x48cc6d(0x218);const _0x5f1655=await new Promise((_0x48522e,_0x5f1637)=>{const _0x16226e=_0x48cc6d,_0x1ca2e8=new FileReader();_0x1ca2e8[_0x16226e(0x817)](_0x10d0cf),_0x1ca2e8[_0x16226e(0x312)]=()=>_0x48522e(_0x1ca2e8[_0x16226e(0x41f)]['split'](',')[0x1]),_0x1ca2e8[_0x16226e(0x80d)]=_0x5f1637;});_0x12df25=[{'text':_0x48cc6d(0xe1b)},{'inlineData':{'mimeType':_0x10d0cf[_0x48cc6d(0x4f5)],'data':_0x5f1655}}];if(_0x26e34b[_0x48cc6d(0xb81)][_0x48cc6d(0x85b)]>0x0){const _0x803a9c=_0x26e34b['files'][0x0];_0x268a7f[_0x48cc6d(0x602)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x4c2115=await new Promise((_0xa3dc6c,_0x42399c)=>{const _0x3a7843=_0x48cc6d,_0x1fb310=new FileReader();_0x1fb310[_0x3a7843(0x817)](_0x803a9c),_0x1fb310[_0x3a7843(0x312)]=()=>_0xa3dc6c(_0x1fb310[_0x3a7843(0x41f)]['split'](',')[0x1]),_0x1fb310[_0x3a7843(0x80d)]=_0x42399c;}),_0x4a1397={'inlineData':{'mimeType':_0x803a9c['type'],'data':_0x4c2115}};_0x12df25[_0x48cc6d(0xb2a)](_0x4a1397),_0x3f7e2a['push'](_0x4a1397);}}const _0x367de8='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x4fe487=_0x48cc6d(0x51c);let _0x33478f='';_0x3f7e2a&&_0x3f7e2a['length']>0x0?_0x33478f=_0x367de8:_0x33478f=_0x4fe487;const _0x28c7fb=_0x48cc6d(0x728)+_0x33478f+_0x48cc6d(0x855),_0x17437b={'type':_0x48cc6d(0x3d9),'properties':{'questionText':{'type':_0x48cc6d(0xa74)},'questionType':{'type':_0x48cc6d(0xa74),'enum':[_0x48cc6d(0xf0e),_0x48cc6d(0x3d7),_0x48cc6d(0xed0),_0x48cc6d(0x867)]},'options':{'type':_0x48cc6d(0x26d),'items':{'type':_0x48cc6d(0xa74)}},'correctAnswerIndex':{'type':_0x48cc6d(0xd03)},'idealAnswer':{'type':_0x48cc6d(0xa74)},'correctAnswer':{'type':_0x48cc6d(0x56d)},'explanation':{'type':_0x48cc6d(0xa74)},'imageCode':{'type':_0x48cc6d(0xa74)}},'required':[_0x48cc6d(0x278),'explanation']},_0x1aaf78={'type':_0x48cc6d(0x3d9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x48cc6d(0x26d),'items':_0x17437b}},'required':['topic',_0x48cc6d(0x7f9)]};_0x12df25[0x0][_0x48cc6d(0xa75)]=_0x28c7fb,await handleApiCall(_0x12df25,_0x48cc6d(0x1f1),_0x1aaf78);}function proceedToNextQuestion(_0x443a0c){const _0x17677a=_0x5ddd37;studentAnswersPerQuestion['push'](_0x443a0c),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x17677a(0x7f9)][_0x17677a(0x85b)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x183c67,_0x3a98d0,_0x238c5c){const _0x1edebf=_0x5ddd37,_0x2a9443=Object[_0x1edebf(0x7ee)](_0x183c67[_0x1edebf(0xbd9)]||{}),_0x3f973f=_0x2a9443[_0x1edebf(0x85b)],_0x517ecf=_0x238c5c,_0x18fb94=_0x183c67[_0x1edebf(0x649)]||_0x1edebf(0x690),_0x4dffdb=_0x18fb94===_0x1edebf(0xa1d)||_0x18fb94===_0x1edebf(0xedf),_0x486a1f=_0x18fb94===_0x1edebf(0xed2)||_0x18fb94===_0x1edebf(0xedf),_0x5490c8=_0x183c67[_0x1edebf(0xaf1)]===!![],_0x5f1fa4=_0x18fb94===_0x1edebf(0x594),_0x477080=_0x183c67['shuffledQuiz'][_0x1edebf(0x7f9)],_0x22f15b=_0x477080[_0x517ecf],_0xbb1bc9=_0x1f53b7=>String['fromCharCode'](0x41+_0x1f53b7),_0x25f579=_0x2a9443[_0x1edebf(0xa25)](_0x36c81d=>{const _0x4968f2=_0x1edebf,_0x12b718=(_0x36c81d[_0x4968f2(0xc7d)]||[])[_0x4968f2(0xd8d)](_0x4938bf=>{if(_0x486a1f)return _0x4938bf['questionIndex']<=_0x517ecf;return!![];});let _0x37e793=0x0,_0x344849=0x0;return _0x486a1f?(_0x37e793=_0x12b718['filter'](_0xc7922=>_0xc7922[_0x4968f2(0x624)])[_0x4968f2(0x85b)],_0x344849=_0x12b718[_0x4968f2(0xc2a)]((_0x57bf19,_0x374e9a)=>_0x57bf19+(_0x374e9a['pointsAwarded']||0x0),0x0)):(_0x37e793=_0x36c81d[_0x4968f2(0x6e9)]||0x0,_0x344849=_0x36c81d[_0x4968f2(0x939)]||0x0),{..._0x36c81d,'realScore':_0x37e793,'totalPoints':_0x344849,'answers':_0x12b718};}),_0x234022=Math[_0x1edebf(0xa87)](..._0x25f579[_0x1edebf(0xa25)](_0x4cfab5=>_0x4cfab5[_0x1edebf(0x939)]),-Infinity),_0x220dfc=Math[_0x1edebf(0xa87)](..._0x25f579[_0x1edebf(0xa25)](_0x2f6c75=>_0x2f6c75['realScore']),-Infinity),_0x123ace=_0x183c67['isBlackMarketEnabled']===!![],_0x461290=[..._0x25f579][_0x1edebf(0x23c)]((_0x1cc476,_0x3238c2)=>{const _0x49b009=_0x1edebf;if(_0x123ace){const _0x5b20c6=_0x3238c2[_0x49b009(0x939)]-_0x1cc476['totalPoints'];if(_0x5b20c6!==0x0)return _0x5b20c6;const _0x295e9a=_0x3238c2[_0x49b009(0x5b9)]-_0x1cc476['realScore'];if(_0x295e9a!==0x0)return _0x295e9a;return(_0x1cc476[_0x49b009(0xc44)]||'')[_0x49b009(0xe10)](_0x3238c2[_0x49b009(0xc44)]||'','th');}else{const _0x2c5e78=_0x3238c2[_0x49b009(0x939)]-_0x1cc476['totalPoints'];if(_0x2c5e78!==0x0)return _0x2c5e78;const _0x5144f9=_0x3238c2[_0x49b009(0x5b9)]-_0x1cc476['realScore'];if(_0x5144f9!==0x0)return _0x5144f9;return(_0x1cc476['name']||'')[_0x49b009(0xe10)](_0x3238c2[_0x49b009(0xc44)]||'','th');}});let _0x45d69a='';const _0x40a1bd=!_0x5f1fa4&&!(_0x4dffdb&&_0x183c67[_0x1edebf(0xe21)]===![]);if(_0x22f15b&&_0x40a1bd){let _0x4b6057='',_0x1fcbc1='';const _0x2c66b6=_0x22f15b[_0x1edebf(0x278)]||_0x183c67['shuffledQuiz'][_0x1edebf(0xa9d)];if(_0x2c66b6===_0x1edebf(0xf0e)&&_0x22f15b[_0x1edebf(0x4ad)]){const _0x504253=_0x22f15b[_0x1edebf(0x791)];_0x4b6057=_0x22f15b[_0x1edebf(0x4ad)][_0x504253],_0x1fcbc1=_0xbb1bc9(_0x504253)+'.';}else{if(_0x2c66b6===_0x1edebf(0xed0)){const _0x34d64d=String(_0x22f15b[_0x1edebf(0x98f)])[_0x1edebf(0xbca)]()===_0x1edebf(0x394);_0x4b6057=_0x34d64d?_0x1edebf(0xc38):'ไม่ใช่\x20/\x20ผิด',_0x1fcbc1=_0x34d64d?'ก.':'ข.';}else{if(_0x2c66b6==='matching_item')_0x4b6057=_0x22f15b['correctResponse']||'-';else _0x2c66b6==='short_answer'&&(_0x4b6057=_0x22f15b[_0x1edebf(0x3e2)]||'-');}}_0x4b6057&&(_0x45d69a=_0x1edebf(0x349)+(_0x517ecf+0x1)+_0x1edebf(0x436)+_0x1fcbc1+'\x20'+_0x4b6057+_0x1edebf(0x37d));}const _0x446a9b=_0x461290['map']((_0x4a0a84,_0x1690ee)=>{const _0x3f14ba=_0x1edebf,_0x546920=_0x4a0a84[_0x3f14ba(0x5b9)],_0x2198c3=_0x4a0a84[_0x3f14ba(0x939)],_0x126e71=(_0x4a0a84[_0x3f14ba(0xc7d)]||[])[_0x3f14ba(0xe0f)](_0x533e18=>_0x533e18['questionIndex']===_0x238c5c),_0x14314c=_0x4a0a84[_0x3f14ba(0xc7d)]['length'];let _0xd69d49='';if(_0x126e71){if(_0x126e71[_0x3f14ba(0x405)])_0xd69d49+=_0x3f14ba(0xc5b);if(_0x126e71[_0x3f14ba(0x5db)])_0xd69d49+=_0x3f14ba(0x28e);const _0x541686=_0x126e71[_0x3f14ba(0xb83)];if(_0x541686){const _0x3ab898={'poll':'📊','cutOne':'✂️','insurance':_0x3f14ba(0xdd9),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x3ab898[_0x541686])_0xd69d49+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x3ab898[_0x541686]+_0x3f14ba(0x2b9);}}let _0x52165e='';if(!_0x5f1fa4&&_0x14314c>0x0){if(_0x123ace){if(_0x2198c3===_0x234022&&_0x234022>0x0)_0x52165e+=_0x3f14ba(0x71a);if(_0x546920===_0x220dfc&&_0x220dfc>0x0)_0x52165e+=_0x3f14ba(0xbc7);}else{const _0x4da6b8=_0x4a0a84[_0x3f14ba(0x5b9)]===_0x238c5c+0x1;if(_0x4da6b8)_0x52165e='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x52165e===''&&_0x2198c3<0x0)_0x52165e=_0x3f14ba(0xa66);}let _0x41dbbd=_0x3f14ba(0x58e),_0x4b2f13=![];if(!_0x5f1fa4){const _0x5e3e81=(_0x4a0a84['answers']||[])['find'](_0xd0b008=>_0xd0b008[_0x3f14ba(0xb48)]===_0x517ecf);if(_0x5e3e81){const _0x113462=_0x5e3e81[_0x3f14ba(0x624)],_0x4c3175=_0x5e3e81[_0x3f14ba(0x3e8)]===!![]||_0x5e3e81[_0x3f14ba(0x3e8)]==='confident',_0x2388a9=_0x5e3e81['powerupUsed'];if(_0x2388a9===_0x3f14ba(0xcc6))_0x113462?(_0x41dbbd=_0x3f14ba(0xb39),_0x4b2f13=!![]):_0x41dbbd=_0x3f14ba(0x1f7);else{if(_0x4c3175)_0x41dbbd=_0x113462?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x3f14ba(0xafb);else _0x113462&&(_0x41dbbd=_0x3f14ba(0x450));}}}let _0x377893='';const _0x74dffe=_0x4a0a84[_0x3f14ba(0xc44)],_0x3a1303=_0x183c67['playerNicknames'][_0x4a0a84[_0x3f14ba(0xc44)]]||_0x3f14ba(0xdce),_0x2bf3b8=_0x3f14ba(0x823),_0x25a5bc=_0x3f14ba(0x412),_0x5e8a59=_0x4b2f13?_0x3f14ba(0x5cb):_0x3f14ba(0xac9);let _0xe7cc95='';const _0x4ec1d8=_0x2198c3>=0x0?'(+'+_0x2198c3+')':'('+_0x2198c3+')',_0x6039e='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x4a0a84[_0x3f14ba(0x5b9)]+_0x3f14ba(0x32f)+_0x4ec1d8+_0x3f14ba(0x2b9);if(_0x3a98d0){if(_0x4dffdb&&!_0x5490c8)_0x377893=_0x3f14ba(0x7dd)+_0x2bf3b8+_0x3f14ba(0x467)+_0x3a1303+'\x22><span\x20style=\x22'+_0x25a5bc+'\x22>'+_0x3a1303+_0x3f14ba(0x38c)+_0xd69d49+'\x20'+_0x52165e+_0x3f14ba(0x629),_0xe7cc95=_0x6039e;else{if(_0x4dffdb&&_0x5490c8)_0x377893=_0x3f14ba(0x7dd)+_0x2bf3b8+_0x3f14ba(0x467)+_0x74dffe+_0x3f14ba(0xe71)+_0x25a5bc+'\x22>'+_0x74dffe+_0x3f14ba(0x38c)+_0xd69d49+'\x20'+_0x52165e+_0x3f14ba(0x36a)+_0x5e8a59+'\x22\x20style=\x22'+_0x25a5bc+_0x3f14ba(0x4ce)+_0x3a1303+_0x3f14ba(0x57f),_0xe7cc95=_0x6039e;else _0x5f1fa4?(_0x377893=_0x3f14ba(0x7dd)+_0x2bf3b8+_0x3f14ba(0x467)+_0x74dffe+_0x3f14ba(0xe71)+_0x25a5bc+'\x22>'+_0x74dffe+_0x3f14ba(0x38c)+_0xd69d49+'\x20'+_0x52165e+_0x3f14ba(0x629),_0xe7cc95=''):(_0x377893=_0x3f14ba(0x7dd)+_0x2bf3b8+_0x3f14ba(0x467)+_0x74dffe+_0x3f14ba(0xe71)+_0x25a5bc+'\x22>'+_0x74dffe+_0x3f14ba(0x38c)+_0xd69d49+'\x20'+_0x52165e+_0x3f14ba(0x629),_0xe7cc95=_0x6039e);}}return _0x3f14ba(0x5a3)+_0x41dbbd+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+(_0x1690ee+0x1)+_0x3f14ba(0xb57)+_0x377893+_0x3f14ba(0xcaf)+_0xe7cc95+_0x3f14ba(0xaa3);})['join'](''),_0x28a02b=_0x477080[_0x1edebf(0xa25)]((_0x3aa462,_0xd22a20)=>{const _0x1b2bd1=_0x1edebf;if(_0x486a1f&&_0xd22a20>_0x517ecf||_0x5f1fa4)return'';const _0x455a20=_0x25f579['filter'](_0x26bbf2=>_0x26bbf2['answers']&&_0x26bbf2[_0x1b2bd1(0xc7d)]['find'](_0x38aec3=>_0x38aec3[_0x1b2bd1(0xb48)]===_0xd22a20&&_0x38aec3[_0x1b2bd1(0x624)]))[_0x1b2bd1(0x85b)],_0xdffd7d=_0xd22a20===_0x517ecf,_0x5d2b3a=_0xdffd7d?_0x1b2bd1(0xec8):_0x1b2bd1(0x326);return _0x1b2bd1(0xd8c)+_0x5d2b3a+_0x1b2bd1(0xcaa)+(_0xd22a20+0x1)+_0x1b2bd1(0x3c1)+_0x455a20+_0x1b2bd1(0xcc1)+_0x3f973f+_0x1b2bd1(0xdb6);})[_0x1edebf(0x40a)]('');let _0x23b932='',_0x68ff20='';if(_0x3a98d0){const _0x1b0db3=_0x18fb94===_0x1edebf(0x690)&&_0x183c67[_0x1edebf(0x70b)]>=_0x477080[_0x1edebf(0x85b)]-0x1,_0x51b4fd=_0x486a1f&&_0x183c67[_0x1edebf(0xe76)]>=_0x477080['length']-0x1,_0x2b2f65=_0x18fb94===_0x1edebf(0x594)&&_0x183c67[_0x1edebf(0x70b)]>=_0x477080[_0x1edebf(0x85b)]-0x1,_0x39e626=_0x4dffdb&&!_0x486a1f&&_0x183c67[_0x1edebf(0x70b)]>=_0x477080[_0x1edebf(0x85b)]-0x1;if(_0x486a1f)_0x51b4fd?_0x4dffdb&&!_0x5490c8?_0x23b932=_0x1edebf(0x76b):_0x23b932='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x23b932=_0x1edebf(0xbaf);else _0x1b0db3||_0x2b2f65||_0x39e626?_0x4dffdb&&!_0x5490c8?_0x23b932='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x23b932='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x23b932=_0x1edebf(0xbb7);_0x68ff20=_0x1edebf(0xaff);}const _0x8aca13=_0x5f1fa4||_0x4dffdb&&!_0x183c67[_0x1edebf(0xe21)]?'':_0x1edebf(0x3dd)+_0x28a02b+_0x1edebf(0xc7b),_0x41cceb=_0x5f1fa4||_0x4dffdb&&!_0x183c67['showAnswerInAnonymous']?_0x1edebf(0xba8):_0x1edebf(0x2ca),_0x499e8e=_0x1edebf(0xd0e)+_0x183c67[_0x1edebf(0x230)][_0x1edebf(0xe77)]+_0x1edebf(0x6ab)+_0x183c67[_0x1edebf(0x818)]+_0x1edebf(0x43d)+_0x68ff20+_0x1edebf(0xbb5)+_0x45d69a+_0x1edebf(0xdc8)+_0x41cceb+_0x1edebf(0xedc)+(_0x446a9b||_0x1edebf(0x7ab))+_0x1edebf(0x600)+_0x8aca13+_0x1edebf(0x6dc)+(_0x3a98d0?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x23b932+_0x1edebf(0x629):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1edebf(0x1f9)]=_0x499e8e;if(window[_0x1edebf(0xb8c)]){const _0x34f258=document[_0x1edebf(0x4ff)](_0x1edebf(0x48c));_0x34f258&&MathJax[_0x1edebf(0xe28)]([_0x34f258]);}if(_0x3a98d0){const _0x1d9876=document[_0x1edebf(0x4ff)](_0x1edebf(0x495));_0x1d9876&&(_0x1d9876[_0x1edebf(0x66e)]=async()=>{const _0x36b9b3=_0x1edebf,_0x343371=doc(db,_0x36b9b3(0x8a6)+appId+_0x36b9b3(0x869),currentLiveGameId),_0x14f094=_0x183c67[_0x36b9b3(0x70b)]+0x1,_0x5132b7=_0x183c67[_0x36b9b3(0x230)]['questions'][_0x36b9b3(0x85b)];!_0x486a1f&&_0x14f094<_0x5132b7?await updateDoc(_0x343371,{'status':_0x36b9b3(0xb0e),'currentQuestionIndex':_0x14f094,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x343371,{'status':_0x36b9b3(0xd73)});});const _0x10c7f1=document[_0x1edebf(0x4ff)](_0x1edebf(0xb71));_0x10c7f1&&(_0x10c7f1[_0x1edebf(0x66e)]=async()=>{const _0x343d75=_0x1edebf,_0x490436=doc(db,_0x343d75(0x8a6)+appId+_0x343d75(0x869),currentLiveGameId);await updateDoc(_0x490436,{'reviewQuestionIndex':increment(0x1)});});document[_0x1edebf(0x4ff)](_0x1edebf(0xcc5))?.[_0x1edebf(0xbe5)]('click',async()=>{const _0x2cfc84=_0x1edebf;await updateDoc(doc(db,_0x2cfc84(0x8a6)+appId+_0x2cfc84(0x869),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5b4e1f=document[_0x1edebf(0x4ff)](_0x1edebf(0x2df));_0x5b4e1f&&(_0x5b4e1f[_0x1edebf(0x66e)]=()=>{const _0x3d2710=_0x1edebf;showConfirmation(_0x3d2710(0xb49),async()=>{const _0x32a5d7=_0x3d2710;await updateDoc(doc(db,_0x32a5d7(0x8a6)+appId+_0x32a5d7(0x869),currentLiveGameId),{'status':_0x32a5d7(0xd73)});});});}}async function handleGenerateParallelFromBank(_0x44e8f8){const _0x5efb7f=_0x5ddd37,_0x514c8f=document[_0x5efb7f(0x4ff)](_0x5efb7f(0xddd)),_0x373afb=document[_0x5efb7f(0x4ff)]('project-quizzes-list');_0x373afb[_0x5efb7f(0xc2e)][_0x5efb7f(0xee4)](_0x5efb7f(0xc89));const _0x2dc06e=_0x5efb7f(0x685)+_0x44e8f8[_0x5efb7f(0xe77)]+_0x5efb7f(0x3cd);_0x514c8f[_0x5efb7f(0xa8f)](_0x5efb7f(0xc79),_0x2dc06e);const _0xf78057=document['getElementById']('temp-loader-text-results');try{const _0x45d7c6=_0x44e8f8[_0x5efb7f(0x7f9)][_0x5efb7f(0xa25)]((_0x17b726,_0x2fdc35)=>{const _0x12adac=_0x5efb7f;let _0x4d10a8=_0x2fdc35+0x1+'.\x20'+(_0x17b726[_0x12adac(0xb93)]||_0x17b726['stem'])+'\x0a';if(_0x17b726[_0x12adac(0x4ad)])_0x4d10a8+=_0x17b726[_0x12adac(0x4ad)][_0x12adac(0xa25)]((_0x10f451,_0x263e9e)=>'\x20\x20\x20-\x20'+(_0x263e9e===_0x17b726[_0x12adac(0x791)]?'[*]':'')+'\x20'+_0x10f451)[_0x12adac(0x40a)]('\x0a');else _0x17b726[_0x12adac(0x3e2)]&&(_0x4d10a8+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x17b726[_0x12adac(0x3e2)]);return _0x4d10a8;})['join']('\x0a\x0a');_0xf78057[_0x5efb7f(0x602)]=_0x5efb7f(0x6f1);const _0x345f71=_0x5efb7f(0x67c)+_0x44e8f8['topic']+_0x5efb7f(0x494)+_0x45d7c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5efb7f(0x713),_0x52acf5={'type':'OBJECT','properties':{'questionText':{'type':_0x5efb7f(0xa74)},'questionType':{'type':_0x5efb7f(0xa74),'enum':[_0x5efb7f(0xf0e),_0x5efb7f(0x3d7),_0x5efb7f(0xed0),_0x5efb7f(0x867)]},'options':{'type':_0x5efb7f(0x26d),'items':{'type':_0x5efb7f(0xa74)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5efb7f(0xa74)},'correctAnswer':{'type':_0x5efb7f(0x56d)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x5efb7f(0xa74)},'allResponses':{'type':_0x5efb7f(0x26d),'items':{'type':'STRING'}},'explanation':{'type':_0x5efb7f(0xa74)},'imageCode':{'type':_0x5efb7f(0xa74)}},'required':[_0x5efb7f(0x278),_0x5efb7f(0x29b)]},_0x20f503={'type':_0x5efb7f(0x3d9),'properties':{'topic':{'type':_0x5efb7f(0xa74)},'questions':{'type':_0x5efb7f(0x26d),'items':_0x52acf5}},'required':[_0x5efb7f(0xe77),_0x5efb7f(0x7f9)]},_0x11dc2e=await callAnalysisApi(_0x345f71,_0x20f503),_0x380521=_0x11dc2e[_0x5efb7f(0x7f9)][_0x5efb7f(0xa25)]((_0x4ee975,_0xcfb823)=>({..._0x4ee975,'id':'q_'+Date[_0x5efb7f(0x599)]()+'_'+_0xcfb823})),_0x4679ea='(คู่ขนาน)\x20'+_0x44e8f8[_0x5efb7f(0xe77)],_0x2624f1={'topic':_0x4679ea,'questions':_0x380521,'quizType':_0x44e8f8['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5efb7f(0x4f9)](),'status':'active','settings':_0x44e8f8[_0x5efb7f(0x297)],'quizMode':_0x5efb7f(0xa84),'pairedQuizId':null,'lessonPlan':null};let _0x223a65;while(!![]){_0x223a65=Math[_0x5efb7f(0x9f5)](0x3e8+Math[_0x5efb7f(0x21a)]()*0x2328)[_0x5efb7f(0xe66)]();const _0x39b969=await getDoc(doc(db,'artifacts/'+appId+_0x5efb7f(0xad5),_0x223a65));if(!_0x39b969[_0x5efb7f(0x8d2)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5efb7f(0xad5),_0x223a65),_0x2624f1),showMessage(_0x5efb7f(0xe65));}catch(_0x200963){console[_0x5efb7f(0x34c)](_0x5efb7f(0x7f7),_0x200963),showMessage(_0x5efb7f(0x26e)+_0x200963[_0x5efb7f(0x541)]);}finally{const _0x395089=document[_0x5efb7f(0x4ff)](_0x5efb7f(0x7ac));_0x395089&&_0x395089[_0x5efb7f(0x716)](),_0x373afb[_0x5efb7f(0xc2e)][_0x5efb7f(0x716)](_0x5efb7f(0xc89));}}async function handleGenerateParallelPostTest(_0x2b4d53){const _0x954cfc=_0x5ddd37,_0x3b52ea=document[_0x954cfc(0x4ff)](_0x954cfc(0xddd)),_0x430d98=document[_0x954cfc(0x4ff)]('project-quizzes-list');_0x430d98[_0x954cfc(0xc2e)][_0x954cfc(0xee4)](_0x954cfc(0xc89));const _0x5c8d95='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3b52ea[_0x954cfc(0xa8f)]('beforeend',_0x5c8d95);try{const _0x54677e=_0x2b4d53[_0x954cfc(0x7f9)][_0x954cfc(0xa25)]((_0x246ef1,_0x2bb86c)=>{const _0x14545=_0x954cfc;let _0x4a6379=_0x2bb86c+0x1+'.\x20'+(_0x246ef1[_0x14545(0xb93)]||_0x246ef1[_0x14545(0x692)]);if(_0x246ef1['options'])_0x4a6379+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x246ef1[_0x14545(0x4ad)][_0x14545(0x40a)](',\x20');return _0x4a6379;})[_0x954cfc(0x40a)]('\x0a\x0a'),_0x19de7f=_0x954cfc(0x222)+_0x2b4d53[_0x954cfc(0xe77)]+_0x954cfc(0x74a)+_0x54677e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x954cfc(0x713),_0x25c626={'type':_0x954cfc(0x3d9),'properties':{'topic':{'type':_0x954cfc(0xa74)},'questions':{'type':_0x954cfc(0x26d),'items':{'type':_0x954cfc(0x3d9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x954cfc(0xa74)},'options':{'type':_0x954cfc(0x26d),'items':{'type':_0x954cfc(0xa74)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x954cfc(0xa74)},'explanation':{'type':_0x954cfc(0xa74)}},'required':[_0x954cfc(0xb93),_0x954cfc(0x29b)]}}},'required':['topic',_0x954cfc(0x7f9)]},_0xd6663b=await callAnalysisApi(_0x19de7f,_0x25c626),_0x213fcb=_0x2b4d53['topic']['replace'](_0x954cfc(0x52b),'')[_0x954cfc(0x26c)](),_0x1a7029=_0x954cfc(0x9d7)+_0x213fcb,_0x3bac66={..._0xd6663b,'topic':_0x1a7029,'quizType':_0x2b4d53[_0x954cfc(0xa9d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x954cfc(0x4f9)](),'status':_0x954cfc(0x5de),'settings':_0x2b4d53[_0x954cfc(0x297)],'quizMode':_0x954cfc(0x9fd),'pairedQuizId':_0x2b4d53['id']};let _0xc319a4;while(!![]){_0xc319a4=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x223389=await getDoc(doc(db,_0x954cfc(0x8a6)+appId+_0x954cfc(0xad5),_0xc319a4));if(!_0x223389[_0x954cfc(0x8d2)]())break;}await setDoc(doc(db,_0x954cfc(0x8a6)+appId+_0x954cfc(0xad5),_0xc319a4),_0x3bac66);const _0x1e3e5f=doc(db,'artifacts/'+appId+_0x954cfc(0xad5),_0x2b4d53['id']);await updateDoc(_0x1e3e5f,{'pairedQuizId':_0xc319a4}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x471017){console[_0x954cfc(0x34c)](_0x954cfc(0x7a7),_0x471017),showMessage('เกิดข้อผิดพลาด:\x20'+_0x471017[_0x954cfc(0x541)]);}finally{const _0x594655=document['getElementById']('temp-loader-results');if(_0x594655)_0x594655['remove']();_0x430d98['classList'][_0x954cfc(0x716)]('hidden');}}async function handleGenerateParallelTest(_0x12581e=null){const _0x19c38d=_0x5ddd37;let _0x5a8821=_0x12581e;if(!_0x5a8821){const _0x46dd91=document[_0x19c38d(0x4ff)]('parallel-test-upload-input');_0x46dd91['files'][_0x19c38d(0x85b)]>0x0&&(_0x5a8821=_0x46dd91[_0x19c38d(0xb81)][0x0]);}if(!_0x5a8821){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x5ebba=document[_0x19c38d(0x4ff)](_0x19c38d(0xb7b)),_0x7b2007=document[_0x19c38d(0x4ff)]('loader-text'),_0x1cc1d3=document[_0x19c38d(0x4ff)]('generated-quiz-container'),_0x1d0682=document[_0x19c38d(0x4ff)]('generate-from-parallel-test-btn');_0x1d0682[_0x19c38d(0x206)]=!![],document[_0x19c38d(0x4ff)](_0x19c38d(0x3ee))[_0x19c38d(0xc2e)][_0x19c38d(0x716)]('hidden'),_0x1cc1d3[_0x19c38d(0x1f9)]='',_0x5ebba[_0x19c38d(0xc2e)][_0x19c38d(0x716)](_0x19c38d(0xc89)),_0x7b2007[_0x19c38d(0x602)]=_0x19c38d(0x6b2);const _0x2e64df=new FileReader();_0x2e64df[_0x19c38d(0x817)](_0x5a8821),_0x2e64df[_0x19c38d(0x312)]=async()=>{const _0x1e2676=_0x19c38d;try{const _0x4be150=_0x2e64df[_0x1e2676(0x41f)][_0x1e2676(0x325)](',')[0x1],_0x301c2e=_0x5a8821[_0x1e2676(0x4f5)];_0x7b2007[_0x1e2676(0x602)]=_0x1e2676(0x988);const _0x43aad3=document[_0x1e2676(0x4ff)](_0x1e2676(0xdb4))[_0x1e2676(0x749)],_0x2fc3e7=_0x43aad3?_0x1e2676(0xdec):'',_0x2aa215='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x329a72={'type':_0x1e2676(0x3d9),'properties':{'questionText':{'type':_0x1e2676(0xa74)},'questionType':{'type':_0x1e2676(0xa74),'enum':[_0x1e2676(0xf0e),_0x1e2676(0x3d7)]},'options':{'type':_0x1e2676(0x26d),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1e2676(0xd03)},'idealAnswer':{'type':_0x1e2676(0xa74)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1e2676(0xa74)}},'required':['questionText',_0x1e2676(0x278),_0x1e2676(0x29b)]},_0x1d1777={'type':_0x1e2676(0x3d9),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x329a72}},'required':[_0x1e2676(0xe77),_0x1e2676(0x7f9)]},_0x4cd921=[{'text':_0x2aa215},{'inlineData':{'mimeType':_0x301c2e,'data':_0x4be150}}];await handleApiCall(_0x4cd921,_0x1e2676(0x6eb),_0x1d1777);}catch(_0x134480){console[_0x1e2676(0x34c)](_0x1e2676(0x8de),_0x134480),showMessage(_0x1e2676(0x26e)+_0x134480[_0x1e2676(0x541)]),_0x1cc1d3[_0x1e2676(0x1f9)]=_0x1e2676(0x5f4);}finally{_0x5ebba[_0x1e2676(0xc2e)]['add'](_0x1e2676(0xc89)),_0x1d0682[_0x1e2676(0x206)]=![];}},_0x2e64df[_0x19c38d(0x80d)]=_0x20a1ca=>{const _0x4be720=_0x19c38d;console[_0x4be720(0x34c)]('FileReader\x20error:',_0x20a1ca),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x5ebba[_0x4be720(0xc2e)][_0x4be720(0xee4)](_0x4be720(0xc89)),_0x1d0682['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x228280){const _0x2e16ef=_0x5ddd37;if(currentEditingQuizData===null)return;const _0x47e4f3=document[_0x2e16ef(0xee9)](_0x2e16ef(0x7fa)+_0x228280+'\x22]');_0x47e4f3&&(_0x47e4f3[_0x2e16ef(0x1f9)]=_0x2e16ef(0xdee));const _0x46c95b=currentEditingQuizData[_0x2e16ef(0x7f9)][_0x228280],_0x10ced4=currentEditingQuizData[_0x2e16ef(0xe77)],_0xd44b26=_0x46c95b[_0x2e16ef(0x278)],_0x52ad4e={'type':_0x2e16ef(0x3d9),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2e16ef(0x26d),'items':{'type':_0x2e16ef(0xa74)}},'correctAnswerIndex':{'type':_0x2e16ef(0xd03)},'explanation':{'type':_0x2e16ef(0xa74)}},'required':[_0x2e16ef(0xb93),_0x2e16ef(0x4ad),_0x2e16ef(0x791),_0x2e16ef(0x29b)]},_0x27ef4c={'type':_0x2e16ef(0x3d9),'properties':{'questionText':{'type':_0x2e16ef(0xa74)},'idealAnswer':{'type':_0x2e16ef(0xa74)},'explanation':{'type':'STRING'}},'required':[_0x2e16ef(0xb93),_0x2e16ef(0x3e2),_0x2e16ef(0x29b)]};let _0x25567d,_0x9cbd24='';_0xd44b26===_0x2e16ef(0xf0e)?(_0x25567d=_0x52ad4e,_0x9cbd24=_0x2e16ef(0xe54)):(_0x25567d=_0x27ef4c,_0x9cbd24='แบบเติมคำตอบ');const _0x5bc6c3=_0x2e16ef(0x53f)+_0x10ced4+_0x2e16ef(0x455)+_0x9cbd24+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x46c95b['questionText']||_0x46c95b[_0x2e16ef(0x692)])+'\x22.\x20'+simpleMathPrompt;try{const _0x1e50fe=await callAnalysisApi(_0x5bc6c3,_0x25567d);currentEditingQuizData[_0x2e16ef(0x7f9)][_0x228280]={..._0x46c95b,..._0x1e50fe},renderQuizEditor(currentEditingQuizData);}catch(_0x382d03){console[_0x2e16ef(0x34c)](_0x2e16ef(0x5df),_0x382d03),showMessage(_0x2e16ef(0xcbf)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4ffb37=_0x5ddd37,_0x5be16c=document['getElementById'](_0x4ffb37(0xca9));currentMode==='student'?(currentMode=_0x4ffb37(0x420),_0x5be16c[_0x4ffb37(0x1f9)]=_0x4ffb37(0x3cb),_0x5be16c['title']=_0x4ffb37(0x539),showView(_0x4ffb37(0x443))):(currentMode=_0x4ffb37(0xa46),_0x5be16c['innerHTML']=_0x4ffb37(0x806),_0x5be16c[_0x4ffb37(0x9c5)]=_0x4ffb37(0x6a8),showView('student'));}function handleAdminLogin(){const _0x510914=_0x5ddd37,_0x2b672a=document[_0x510914(0x4ff)]('admin-password-input'),_0x4d46ab=document[_0x510914(0x4ff)](_0x510914(0xbfa));if(_0x2b672a[_0x510914(0x717)]===_0x510914(0x67f)){adminPasswordModal['classList'][_0x510914(0xee4)](_0x510914(0xc89)),_0x2b672a[_0x510914(0x717)]='',_0x4d46ab[_0x510914(0xc2e)]['add'](_0x510914(0xc89)),currentMode=_0x510914(0x420);const _0x217b2c=document[_0x510914(0x4ff)](_0x510914(0xca9));_0x217b2c['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x217b2c[_0x510914(0x9c5)]=_0x510914(0x539),showView('admin-dashboard');}else _0x4d46ab[_0x510914(0xc2e)][_0x510914(0x716)](_0x510914(0xc89)),_0x2b672a[_0x510914(0x717)]='';}function switchProjectTab(_0xf1a28f){const _0x4046fc=_0x5ddd37;[_0x4046fc(0x877),'results',_0x4046fc(0x4c8)][_0x4046fc(0x23a)](_0x5c8c87=>{const _0x199d8c=_0x4046fc;document[_0x199d8c(0x4ff)](_0x5c8c87+_0x199d8c(0x346))[_0x199d8c(0xc2e)]['remove'](_0x199d8c(0x5de)),document[_0x199d8c(0x4ff)](_0x5c8c87+_0x199d8c(0x317))[_0x199d8c(0xc2e)][_0x199d8c(0xee4)](_0x199d8c(0xc89));}),document[_0x4046fc(0x4ff)](_0xf1a28f+_0x4046fc(0x346))[_0x4046fc(0xc2e)]['add']('active'),document['getElementById'](_0xf1a28f+_0x4046fc(0x317))[_0x4046fc(0xc2e)][_0x4046fc(0x716)](_0x4046fc(0xc89));}function switchQuizDetailTab(_0x3af3c6){const _0x2f49d2=_0x5ddd37,_0x2b8db0={'analytics':{'btn':_0x2f49d2(0xca5),'content':'analytics-tab-content'},'scores':{'btn':'scores-tab-btn','content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x2f49d2(0x556),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x2f49d2(0x451),'content':'behavior-log-tab-content'}};for(const _0x31c65e in _0x2b8db0){document[_0x2f49d2(0x4ff)](_0x2b8db0[_0x31c65e][_0x2f49d2(0x437)])[_0x2f49d2(0xc2e)][_0x2f49d2(0x716)](_0x2f49d2(0x5de)),document['getElementById'](_0x2b8db0[_0x31c65e][_0x2f49d2(0xa99)])[_0x2f49d2(0xc2e)]['add']('hidden');}document[_0x2f49d2(0x4ff)](_0x2b8db0[_0x3af3c6][_0x2f49d2(0x437)])[_0x2f49d2(0xc2e)][_0x2f49d2(0xee4)](_0x2f49d2(0x5de)),document[_0x2f49d2(0x4ff)](_0x2b8db0[_0x3af3c6][_0x2f49d2(0xa99)])[_0x2f49d2(0xc2e)][_0x2f49d2(0x716)](_0x2f49d2(0xc89));}function showMessage(_0xbd43ab,_0x2eefff=null){const _0x27b8b4=_0x5ddd37;modalMessage['innerHTML']=_0xbd43ab['replace'](/\n/g,'<br>'),modalConfirmAction=_0x2eefff,messageModal[_0x27b8b4(0xc2e)][_0x27b8b4(0x716)]('hidden');}function showConfirmation(_0x2f42bc,_0x4728ab,_0x436893=null){const _0x59a666=_0x5ddd37;document['getElementById'](_0x59a666(0x2bb))[_0x59a666(0x602)]=_0x2f42bc,document[_0x59a666(0x4ff)](_0x59a666(0x267))[_0x59a666(0xee9)]('h3')[_0x59a666(0x602)]='ยืนยันการกระทำ',confirmAction=_0x4728ab,cancelAction=_0x436893,confirmationModal[_0x59a666(0xc2e)][_0x59a666(0x716)](_0x59a666(0xc89));}function listenForProjects(){const _0x3eb7a9=_0x5ddd37,_0x557c4c=doc(db,_0x3eb7a9(0x6c4),_0x3eb7a9(0x61f));onSnapshot(_0x557c4c,_0x5a81f4=>{const _0x4647f9=_0x3eb7a9;if(_0x5a81f4[_0x4647f9(0x8d2)]()){const _0x431cd5=_0x5a81f4[_0x4647f9(0xef5)]();globalDashboardSettings[_0x4647f9(0xcb3)]=_0x431cd5[_0x4647f9(0xcb3)]||_0x4647f9(0xb31),globalDashboardSettings['pinnedProjects']=_0x431cd5[_0x4647f9(0xd38)]||[],globalDashboardSettings[_0x4647f9(0x71e)]=_0x431cd5['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x8cc75c=collection(db,'artifacts/'+appId+_0x3eb7a9(0x8c1));unsubscribeProjectsListener=onSnapshot(_0x8cc75c,_0x11c215=>{const _0x1f86bc=_0x3eb7a9;allProjects=_0x11c215[_0x1f86bc(0xb91)][_0x1f86bc(0xa25)](_0x32f919=>({'id':_0x32f919['id'],..._0x32f919['data']()})),renderProjects();},_0x11b811=>{const _0x178b73=_0x3eb7a9;console['error'](_0x178b73(0x43b),_0x11b811),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x32b91b,_0x47d248){const _0x4d03aa=_0x5ddd37;document[_0x4d03aa(0xe1c)](_0x4d03aa(0x4d8))[_0x4d03aa(0x23a)](_0x16b072=>_0x16b072['remove']());const _0x1bd137=[_0x4d03aa(0xe9c),_0x4d03aa(0x48d),'#FEF3C7','#D1FAE5',_0x4d03aa(0x7e5),_0x4d03aa(0xd00),_0x4d03aa(0x777),'#FCE7F3',_0x4d03aa(0x86b)],_0x98547f=document[_0x4d03aa(0x23d)](_0x4d03aa(0x577));_0x98547f[_0x4d03aa(0xbaa)]=_0x4d03aa(0x5fc),_0x1bd137[_0x4d03aa(0x23a)](_0x2d9120=>{const _0x5aab9a=_0x4d03aa,_0x1913d7=document[_0x5aab9a(0x23d)](_0x5aab9a(0x577));_0x1913d7[_0x5aab9a(0xbaa)]=_0x5aab9a(0x22d),_0x1913d7[_0x5aab9a(0x8c6)][_0x5aab9a(0xb2d)]=_0x2d9120,_0x1913d7['addEventListener'](_0x5aab9a(0xe61),()=>{const _0x261716=_0x5aab9a;handleProjectColorChange(_0x47d248,_0x2d9120),_0x98547f[_0x261716(0x716)]();}),_0x98547f[_0x5aab9a(0x4a7)](_0x1913d7);}),document[_0x4d03aa(0xe75)][_0x4d03aa(0x4a7)](_0x98547f);const _0x18c72e=_0x32b91b[_0x4d03aa(0xb4a)]();_0x98547f['style'][_0x4d03aa(0x6e1)]=_0x18c72e[_0x4d03aa(0xb67)]+window[_0x4d03aa(0x905)]+'px',_0x98547f[_0x4d03aa(0x8c6)][_0x4d03aa(0x92b)]=_0x18c72e[_0x4d03aa(0x92b)]+window['scrollX']-_0x98547f['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x366caa,_0x2ba8e5){const _0x5030fd=_0x5ddd37,_0x5192d2=doc(db,_0x5030fd(0x8a6)+appId+'/public/data/projects',_0x366caa);try{await updateDoc(_0x5192d2,{'color':_0x2ba8e5});}catch(_0x50ec0d){console[_0x5030fd(0x34c)](_0x5030fd(0x4b7),_0x50ec0d),showMessage(_0x5030fd(0x6d8));}}async function renderProjects(){const _0xc77e19=_0x5ddd37,_0xb4f551=globalDashboardSettings[_0xc77e19(0xcb3)]||_0xc77e19(0xb31),_0x4e3576=new Set(globalDashboardSettings[_0xc77e19(0xd38)]||[]),_0x403411=globalDashboardSettings[_0xc77e19(0x9b0)]||_0xc77e19(0xbfc),_0x5e499e=document[_0xc77e19(0x4ff)](_0xc77e19(0xc69)),_0x15da09=document[_0xc77e19(0x4ff)](_0xc77e19(0xce3));_0x5e499e['classList'][_0xc77e19(0xe23)](_0xc77e19(0x5de),_0x403411===_0xc77e19(0xbfc)),_0x15da09['classList'][_0xc77e19(0xe23)](_0xc77e19(0x5de),_0x403411===_0xc77e19(0xe12)),document[_0xc77e19(0x4ff)](_0xc77e19(0xa1a))[_0xc77e19(0x717)]=_0xb4f551;const _0x130dfc=document[_0xc77e19(0x4ff)](_0xc77e19(0x778))[_0xc77e19(0x717)][_0xc77e19(0xbca)]();let _0x45d87a=allProjects[_0xc77e19(0xd8d)](_0x1467a1=>_0x1467a1[_0xc77e19(0x981)][_0xc77e19(0xbca)]()[_0xc77e19(0xdf4)](_0x130dfc));const _0x540a44=_0x45d87a[_0xc77e19(0xd8d)](_0xbeb350=>_0x4e3576[_0xc77e19(0xe06)](_0xbeb350['id'])),_0x4275be=_0x45d87a[_0xc77e19(0xd8d)](_0x30158b=>!_0x4e3576[_0xc77e19(0xe06)](_0x30158b['id'])),_0x57079d=(_0x1aa597,_0x4446ad)=>{const _0x16c8f8=_0xc77e19;switch(_0xb4f551){case'name_asc':return _0x1aa597[_0x16c8f8(0x981)][_0x16c8f8(0xe10)](_0x4446ad[_0x16c8f8(0x981)],'th');case _0x16c8f8(0x3a5):return _0x4446ad['projectName']['localeCompare'](_0x1aa597['projectName'],'th');case'date_asc':return new Date(_0x1aa597[_0x16c8f8(0xd98)])-new Date(_0x4446ad[_0x16c8f8(0xd98)]);default:return new Date(_0x4446ad[_0x16c8f8(0xd98)])-new Date(_0x1aa597[_0x16c8f8(0xd98)]);}};_0x540a44[_0xc77e19(0x23c)](_0x57079d),_0x4275be[_0xc77e19(0x23c)](_0x57079d);const _0x47e62b=[..._0x540a44,..._0x4275be],_0x5c5381=globalDashboardSettings[_0xc77e19(0x71e)]||[];_0x5c5381[_0xc77e19(0x85b)]>0x0&&_0x403411===_0xc77e19(0xbfc)&&_0x47e62b['sort']((_0xb15090,_0x1de51d)=>{const _0xfd379e=_0xc77e19,_0x14c667=_0x5c5381[_0xfd379e(0x343)](_0xb15090['id']),_0x53fcbc=_0x5c5381[_0xfd379e(0x343)](_0x1de51d['id']);if(_0x14c667===-0x1)return 0x1;if(_0x53fcbc===-0x1)return-0x1;return _0x14c667-_0x53fcbc;});const _0x266803={};await Promise[_0xc77e19(0xa6b)](_0x47e62b[_0xc77e19(0xa25)](async _0x31b043=>{const _0x52578f=_0xc77e19,_0x3dc597=query(collection(db,_0x52578f(0x8a6)+appId+_0x52578f(0xad5)),where(_0x52578f(0x44e),'==',_0x31b043['id'])),_0x1c4fc5=await getDocs(_0x3dc597);_0x266803[_0x31b043['id']]=_0x1c4fc5[_0x52578f(0x59a)];}));const _0x33db24=document[_0xc77e19(0x4ff)](_0xc77e19(0x768));let _0x1d4ed2='';if(_0x403411===_0xc77e19(0xbfc)){_0x33db24[_0xc77e19(0xbaa)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x130dfc===''){const _0x3fcc01=starredQuizzes[_0xc77e19(0xa25)](_0xa81ba8=>{const _0x871091=_0xc77e19,_0x203356=allProjects[_0x871091(0xe0f)](_0x5a8305=>_0x5a8305['id']===_0xa81ba8['projectId']);return{..._0xa81ba8,'projectName':_0x203356?_0x203356[_0x871091(0x981)]:_0x871091(0xc57)};});_0x1d4ed2+=_0xc77e19(0x68e)+_0x3fcc01['map'](_0x1e14f9=>_0xc77e19(0x23e)+_0x1e14f9[_0xc77e19(0xe77)]+'\x22>'+_0x1e14f9[_0xc77e19(0xe77)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x1e14f9[_0xc77e19(0x981)]+_0xc77e19(0xcb9)+_0x1e14f9[_0xc77e19(0x981)]+_0xc77e19(0x21e))[_0xc77e19(0x40a)]('')+_0xc77e19(0x80f)+starredQuizzes[_0xc77e19(0x85b)]+_0xc77e19(0xd35);}_0x47e62b['forEach'](_0x37da16=>{const _0xeced7e=_0xc77e19,_0x547ab9=_0x266803[_0x37da16['id']]??0x0,_0x1dc5e6=_0x4e3576['has'](_0x37da16['id']),_0x38284e=_0x37da16['color']||_0xeced7e(0xe9c),_0x16c451=parseInt(_0x38284e['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x38284e['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x38284e['substring'](0x5,0x7),0x10)*0.114<0xba,_0x77136e=_0x16c451?_0xeced7e(0xcc8):'text-indigo-800',_0x5cede9=_0x16c451?_0xeced7e(0xe6b):_0xeced7e(0x8c2);_0x1d4ed2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x1dc5e6?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0xeced7e(0x929))+_0xeced7e(0xf02)+_0x38284e+_0xeced7e(0xa67)+_0x37da16['id']+_0xeced7e(0xc96)+_0x37da16['id']+_0xeced7e(0xd82)+(_0x16c451?_0xeced7e(0xe87):'text-gray-400\x20hover:text-indigo-600')+_0xeced7e(0x1f2)+_0x37da16['id']+_0xeced7e(0x5ff)+(_0x16c451?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0xeced7e(0x938)+(_0x1dc5e6?_0x16c451?'text-yellow-300':_0xeced7e(0xd81):'')+_0xeced7e(0x8d7)+_0x37da16['id']+_0xeced7e(0xd77)+_0x77136e+_0xeced7e(0x8ea)+_0x37da16[_0xeced7e(0x981)]+_0xeced7e(0xaeb)+_0x5cede9+_0xeced7e(0x6ce)+new Date(_0x37da16['createdAt'])[_0xeced7e(0x213)](_0xeced7e(0x465))+_0xeced7e(0x438)+(_0x16c451?_0xeced7e(0xb9b):_0xeced7e(0x98a))+_0xeced7e(0x535)+_0x547ab9+_0xeced7e(0x360)+_0x37da16['id']+_0xeced7e(0x882)+_0x37da16[_0xeced7e(0x981)]+_0xeced7e(0x423)+(_0x16c451?_0xeced7e(0x7e9):_0xeced7e(0xe89))+_0xeced7e(0x946);});}else _0x33db24[_0xc77e19(0xbaa)]=_0xc77e19(0xbba),starredQuizzes[_0xc77e19(0x85b)]>0x0&&_0x130dfc===''&&(_0x1d4ed2+=_0xc77e19(0xd9a)+starredQuizzes[_0xc77e19(0x85b)]+_0xc77e19(0xdea)),_0x1d4ed2+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x47e62b['forEach'](_0x1a48ce=>{const _0x4af138=_0xc77e19,_0x201a17=_0x266803[_0x1a48ce['id']]??0x0,_0x174075=_0x4e3576[_0x4af138(0xe06)](_0x1a48ce['id']);_0x1d4ed2+=_0x4af138(0xa93)+(_0x1a48ce[_0x4af138(0xed1)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x1a48ce['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1a48ce[_0x4af138(0x981)]+_0x4af138(0xe04)+_0x201a17+_0x4af138(0x9f1)+new Date(_0x1a48ce[_0x4af138(0xd98)])['toLocaleString']('th-TH')+_0x4af138(0x67e)+_0x1a48ce['id']+_0x4af138(0x46f)+(_0x174075?_0x4af138(0xd81):'')+_0x4af138(0x6c2)+_0x1a48ce['id']+'\x22\x20data-name=\x22'+_0x1a48ce[_0x4af138(0x981)]+_0x4af138(0xbc1);});projectList['innerHTML']=_0x1d4ed2,noProjectsMsg[_0xc77e19(0xc2e)][_0xc77e19(0xe23)]('hidden',_0x1d4ed2[_0xc77e19(0x85b)]>0x0);}document[_0x5ddd37(0x4ff)](_0x5ddd37(0x3f7))[_0x5ddd37(0xbe5)](_0x5ddd37(0xe61),async()=>{const _0x468b1d=_0x5ddd37,_0x2addff=document[_0x468b1d(0x4ff)](_0x468b1d(0x8fe)),_0x314dd8=_0x2addff['value'][_0x468b1d(0x26c)]();if(!_0x314dd8){showMessage(_0x468b1d(0x7be));return;}try{const _0x4dc7d3=doc(collection(db,'artifacts/'+appId+_0x468b1d(0x8c1)));await setDoc(_0x4dc7d3,{'projectName':_0x314dd8,'students':[],'settings':{'resultsDisplay':_0x468b1d(0x76c),'shuffleSetting':_0x468b1d(0x527),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x468b1d(0x527),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x468b1d(0x4f9)]()}),_0x2addff[_0x468b1d(0x717)]='',createProjectModal[_0x468b1d(0xc2e)][_0x468b1d(0xee4)]('hidden'),showMessage(_0x468b1d(0x258));}catch(_0x7b1797){console[_0x468b1d(0x34c)](_0x468b1d(0x804),_0x7b1797),showMessage(_0x468b1d(0xb17));}}),projectList[_0x5ddd37(0xbe5)]('click',async _0x5f2ef4=>{const _0x27dcbe=_0x5ddd37,_0x175953=_0x5f2ef4[_0x27dcbe(0x2b8)][_0x27dcbe(0x7c4)](_0x27dcbe(0xa76)),_0x4780e3=_0x5f2ef4[_0x27dcbe(0x2b8)][_0x27dcbe(0x7c4)](_0x27dcbe(0x32a)),_0x524290=_0x5f2ef4['target']['closest'](_0x27dcbe(0x9b9)),_0x4531e4=_0x5f2ef4[_0x27dcbe(0x2b8)][_0x27dcbe(0x7c4)](_0x27dcbe(0x43f));if(_0x524290){const _0x50c176=_0x524290['dataset']['id'],_0x1460c8=doc(db,_0x27dcbe(0x6c4),_0x27dcbe(0x61f)),_0xac6297=globalDashboardSettings[_0x27dcbe(0xd38)];let _0x1144a9;_0xac6297['includes'](_0x50c176)?_0x1144a9=_0xac6297[_0x27dcbe(0xd8d)](_0x2317f5=>_0x2317f5!==_0x50c176):_0x1144a9=[..._0xac6297,_0x50c176];try{await setDoc(_0x1460c8,{'pinnedProjects':_0x1144a9},{'merge':!![]});}catch(_0x21f9b7){console[_0x27dcbe(0x34c)]('Error\x20updating\x20pin\x20status:',_0x21f9b7),showMessage(_0x27dcbe(0x531));}}else{if(_0x4531e4){const _0x42c9fd=_0x4531e4[_0x27dcbe(0x664)]['id'];showColorPalette(_0x4531e4,_0x42c9fd);}else{if(_0x175953){const _0x3cf828=_0x175953[_0x27dcbe(0x664)]['id'];_0x3cf828===_0x27dcbe(0x46d)?showStarredProjectView():(currentProjectId=_0x3cf828,await loadProjectDetails(currentProjectId),showView(_0x27dcbe(0xdf0)));}else{if(_0x4780e3){const _0x394503=_0x4780e3[_0x27dcbe(0x664)]['id'],_0x369f07=_0x4780e3[_0x27dcbe(0x664)][_0x27dcbe(0xc44)];showConfirmation(_0x27dcbe(0x636)+_0x369f07+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x394503));}}}}}),projectList[_0x5ddd37(0xbe5)]('dragstart',_0x161428=>{const _0x56f183=_0x5ddd37,_0x4b1783=_0x161428['target'][_0x56f183(0x7c4)](_0x56f183(0x9c4));_0x4b1783&&_0x4b1783['classList'][_0x56f183(0xee4)](_0x56f183(0xe90));}),projectList[_0x5ddd37(0xbe5)](_0x5ddd37(0x66d),_0x1888cd=>{const _0x13f016=_0x5ddd37,_0x4cea04=_0x1888cd[_0x13f016(0x2b8)][_0x13f016(0x7c4)]('.project-card-container');_0x4cea04&&_0x4cea04[_0x13f016(0xc2e)][_0x13f016(0x716)](_0x13f016(0xe90));}),projectList[_0x5ddd37(0xbe5)](_0x5ddd37(0x79a),_0x1e0ebe=>{const _0x4bc997=_0x5ddd37;_0x1e0ebe[_0x4bc997(0xcbd)]();const _0x41061c=document[_0x4bc997(0xee9)]('.project-card-container.opacity-50');if(!_0x41061c)return;const _0x1684c5=getDragAfterElement(projectList,_0x1e0ebe[_0x4bc997(0xe8a)]);_0x1684c5==null?projectList['appendChild'](_0x41061c):projectList[_0x4bc997(0x4d1)](_0x41061c,_0x1684c5);}),projectList[_0x5ddd37(0xbe5)](_0x5ddd37(0x6fa),_0x14e527=>{const _0x3ded9e=_0x5ddd37;_0x14e527[_0x3ded9e(0xcbd)]();const _0x54c01e=[...projectList[_0x3ded9e(0xe1c)](_0x3ded9e(0xca2))]['map'](_0x2304bb=>_0x2304bb[_0x3ded9e(0x664)]['id']);saveProjectOrder(_0x54c01e);});function renderBehaviorLog(_0x3cb471){const _0x324b70=_0x5ddd37,_0x4bbf3=document['getElementById'](_0x324b70(0xa21));if(!_0x4bbf3)return;const _0x1edce0=_0x3cb471[_0x324b70(0xd8d)](_0x70a42f=>_0x70a42f['behaviorLog']&&_0x70a42f['behaviorLog'][_0x324b70(0x85b)]>0x0);if(_0x1edce0[_0x324b70(0x85b)]===0x0){_0x4bbf3['innerHTML']=_0x324b70(0x7a5);return;}let _0x7d41d1='';_0x1edce0['forEach'](_0x308830=>{const _0x4c86ca=_0x324b70;_0x7d41d1+=_0x4c86ca(0x989)+_0x308830[_0x4c86ca(0xc8f)]+_0x4c86ca(0x5a4),_0x308830[_0x4c86ca(0x6c7)][_0x4c86ca(0x23c)]((_0xefd04b,_0x3729bb)=>new Date(_0x3729bb[_0x4c86ca(0xbbb)])-new Date(_0xefd04b[_0x4c86ca(0xbbb)]))[_0x4c86ca(0x23a)](_0x3d67a2=>{const _0x4e91c7=_0x4c86ca,_0x5446a6=new Date(_0x3d67a2[_0x4e91c7(0xbbb)])[_0x4e91c7(0xe83)](_0x4e91c7(0x465),{'dateStyle':_0x4e91c7(0x856),'timeStyle':_0x4e91c7(0xab5)});_0x7d41d1+=_0x4e91c7(0xda6)+_0x3d67a2[_0x4e91c7(0x9d0)]+_0x4e91c7(0x95e)+_0x5446a6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x7d41d1+=_0x4c86ca(0x350);}),_0x4bbf3[_0x324b70(0x1f9)]=_0x7d41d1;}function getDragAfterElement(_0x11197d,_0x520939){const _0x54c445=_0x5ddd37,_0x5a8192=[..._0x11197d[_0x54c445(0xe1c)](_0x54c445(0x88f))];return _0x5a8192[_0x54c445(0xc2a)]((_0x379030,_0x1dba20)=>{const _0x21c9c9=_0x54c445,_0x256edc=_0x1dba20[_0x21c9c9(0xb4a)](),_0x3ce3a5=_0x520939-_0x256edc[_0x21c9c9(0x6e1)]-_0x256edc['height']/0x2;return _0x3ce3a5<0x0&&_0x3ce3a5>_0x379030['offset']?{'offset':_0x3ce3a5,'element':_0x1dba20}:_0x379030;},{'offset':Number[_0x54c445(0xc49)]})[_0x54c445(0xd31)];}async function saveProjectOrder(_0x39e430){const _0x4e7534=_0x5ddd37,_0x2ca66c=doc(db,_0x4e7534(0x6c4),'dashboardConfig');try{await setDoc(_0x2ca66c,{'projectOrder':_0x39e430},{'merge':!![]});}catch(_0x4718a6){console[_0x4e7534(0x34c)](_0x4e7534(0xea3),_0x4718a6),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x5807be,_0x26263d={}){const _0x1b2754=_0x5ddd37;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x1b2754(0x58d));return;}const _0xb70255=doc(db,_0x1b2754(0x8a6)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1b2754(0xd9b),currentStudentName),_0x202c53={'event':_0x5807be,'timestamp':new Date()[_0x1b2754(0x4f9)](),..._0x26263d};try{await updateDoc(_0xb70255,{'behaviorLog':arrayUnion(_0x202c53)}),console[_0x1b2754(0x674)](_0x1b2754(0x7f4)+currentStudentName+_0x1b2754(0x859));}catch(_0x586e27){_0x586e27[_0x1b2754(0x523)]===_0x1b2754(0xc24)?console[_0x1b2754(0x2ef)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x1b2754(0x78c)):console['error'](_0x1b2754(0xa3b),_0x586e27);}}function getScoreTier(_0x346b74,_0x512c23){const _0x66ab5c=_0x5ddd37;if(_0x512c23===0x0){if(_0x346b74===0x0)return{'text':_0x66ab5c(0x2dc),'icon':'⏳'};return{'text':_0x66ab5c(0xda3),'icon':'😥'};}const _0x5a06e8=_0x346b74/(_0x512c23===0x0?0x1:_0x512c23);if(_0x5a06e8===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x5a06e8>=0.7)return{'text':_0x66ab5c(0x990),'icon':'🔥'};if(_0x5a06e8>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':_0x66ab5c(0xda3),'icon':'😥'};}function calculateMeanAndStdDev(_0x475048){const _0x2f2fd8=_0x5ddd37;if(_0x475048[_0x2f2fd8(0x85b)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3b819d=_0x475048[_0x2f2fd8(0xc2a)]((_0x34bdc7,_0x2653a4)=>_0x34bdc7+_0x2653a4,0x0)/_0x475048['length'];if(_0x475048[_0x2f2fd8(0x85b)]===0x1)return{'mean':_0x3b819d,'stdDev':0x0};const _0x38226e=Math[_0x2f2fd8(0xc16)](_0x475048[_0x2f2fd8(0xa25)](_0x1223d6=>Math[_0x2f2fd8(0x86d)](_0x1223d6-_0x3b819d,0x2))[_0x2f2fd8(0xc2a)]((_0x5d8345,_0x5118e8)=>_0x5d8345+_0x5118e8,0x0)/(_0x475048['length']-0x1));return{'mean':_0x3b819d,'stdDev':_0x38226e};}function calculateZScore(_0x14ede6,_0x2d2745,_0x29f382){if(_0x29f382===0x0)return 0x0;return(_0x14ede6-_0x2d2745)/_0x29f382;}function calculateTScore(_0x21e2f7){return 0xa*_0x21e2f7+0x32;}function showStarredProjectView(){const _0xb80bf3=_0x5ddd37;currentProjectId=_0xb80bf3(0x3bc),currentProjectData=null,projectTitle['textContent']=_0xb80bf3(0x783),projectIdDisplay[_0xb80bf3(0x602)]=_0xb80bf3(0xce4),showView(_0xb80bf3(0xdf0)),manageTab['classList']['add']('hidden'),leaderboardTab[_0xb80bf3(0xc2e)]['add'](_0xb80bf3(0xc89)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x18f46c){const _0x2d818c=_0x5ddd37,_0x35f997=doc(db,_0x2d818c(0x8a6)+appId+_0x2d818c(0x8c1),_0x18f46c),_0x27b200=await getDoc(_0x35f997);if(_0x27b200[_0x2d818c(0x8d2)]()){manageTab[_0x2d818c(0xc2e)][_0x2d818c(0x716)](_0x2d818c(0xc89)),leaderboardTab['classList']['remove'](_0x2d818c(0xc89)),currentProjectData=_0x27b200['data'](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay[_0x2d818c(0x602)]=_0x18f46c;const _0x2d2b37=currentProjectData[_0x2d818c(0x297)]||{};document[_0x2d818c(0x4ff)](_0x2d818c(0xd93))[_0x2d818c(0x717)]=_0x2d2b37[_0x2d818c(0xada)]||_0x2d818c(0x527);const _0x41173f=document[_0x2d818c(0x4ff)](_0x2d818c(0xee1));_0x41173f[_0x2d818c(0x749)]=_0x2d2b37['showInStudentDashboard']!==![];const _0x1a03fc=document[_0x2d818c(0x4ff)](_0x2d818c(0x24a)),_0x942c63=document[_0x2d818c(0x4ff)]('passcode-input-container'),_0x5d43d0=document['getElementById'](_0x2d818c(0x8e3)),_0x1ad0c5=_0x2d2b37['isPasscodeEnabled']||![];_0x1a03fc['checked']=_0x1ad0c5,_0x5d43d0[_0x2d818c(0x717)]=_0x2d2b37[_0x2d818c(0x9cb)]||'',_0x942c63[_0x2d818c(0xc2e)][_0x2d818c(0xe23)](_0x2d818c(0xc89),!_0x1ad0c5),_0x1a03fc[_0x2d818c(0x88e)]=()=>{const _0x2dbe5b=_0x2d818c;_0x942c63[_0x2dbe5b(0xc2e)][_0x2dbe5b(0xe23)]('hidden',!_0x1a03fc[_0x2dbe5b(0x749)]);},document['getElementById'](_0x2d818c(0xc77))[_0x2d818c(0x749)]=_0x2d2b37[_0x2d818c(0x573)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x18f46c),listenForProjectQuizzes(_0x18f46c),listenForStudentProfiles(_0x18f46c);}else showMessage(_0x2d818c(0x3b8)),showView(_0x2d818c(0x443));}async function handleResetProjectOrder(){const _0x40c454=_0x5ddd37,_0x2a5895=doc(db,_0x40c454(0x6c4),_0x40c454(0x61f));try{await setDoc(_0x2a5895,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x40c454(0x540));}catch(_0x434596){console[_0x40c454(0x34c)](_0x40c454(0x4f7),_0x434596),showMessage(_0x40c454(0x71f));}}async function handleTogglePinProject(_0xcc6804){const _0x152a60=_0x5ddd37;if(!_0xcc6804)return;const _0x2e559a=doc(db,_0x152a60(0x8a6)+appId+_0x152a60(0x8c1),_0xcc6804);try{const _0x54fd2c=await getDoc(_0x2e559a);if(_0x54fd2c[_0x152a60(0x8d2)]()){const _0x5eceb4=_0x54fd2c['data']()[_0x152a60(0x4e4)]||![];await updateDoc(_0x2e559a,{'isPinned':!_0x5eceb4});}}catch(_0x5b916b){console['error'](_0x152a60(0x2eb),_0x5b916b),showMessage(_0x152a60(0x531));}}async function handleDeleteProject(_0x296347){const _0xd10598=_0x5ddd37;try{const _0x4ddcbd=writeBatch(db),_0x4e3d5f=collection(db,_0xd10598(0x8a6)+appId+_0xd10598(0xad5)),_0xdfd91e=query(_0x4e3d5f,where('projectId','==',_0x296347)),_0x18e521=await getDocs(_0xdfd91e);for(const _0x1085bc of _0x18e521['docs']){const _0x45dbd1=collection(db,_0xd10598(0x8a6)+appId+_0xd10598(0x1f4)+_0x1085bc['id']+_0xd10598(0xd9b)),_0x5098c8=await getDocs(_0x45dbd1);_0x5098c8[_0xd10598(0x23a)](_0x38eeb3=>{const _0x423923=_0xd10598;_0x4ddcbd[_0x423923(0xacc)](_0x38eeb3['ref']);}),_0x4ddcbd[_0xd10598(0xacc)](_0x1085bc['ref']);}const _0x335648=collection(db,_0xd10598(0x8a6)+appId+_0xd10598(0x9c7)+_0x296347+_0xd10598(0x72e)),_0x32e34d=await getDocs(_0x335648);_0x32e34d[_0xd10598(0x23a)](_0xb526a=>{const _0x1774db=_0xd10598;_0x4ddcbd[_0x1774db(0xacc)](_0xb526a[_0x1774db(0xc64)]);});const _0x32af7e=doc(db,'artifacts/'+appId+_0xd10598(0x8c1),_0x296347);_0x4ddcbd[_0xd10598(0xacc)](_0x32af7e),await _0x4ddcbd['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0xd10598(0x443));}catch(_0x351e46){console['error']('Error\x20deleting\x20project:',_0x351e46),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x5ddd37(0x4ff)](_0x5ddd37(0x991))['addEventListener'](_0x5ddd37(0xe61),async()=>{const _0x53be41=_0x5ddd37;if(!currentProjectId)return;const _0x3a8de={'defaultNumQuestions':parseInt(document[_0x53be41(0x4ff)](_0x53be41(0xe81))[_0x53be41(0x717)]),'defaultNumChoices':parseInt(document[_0x53be41(0x4ff)](_0x53be41(0xd5d))[_0x53be41(0x717)]),'defaultPassingScore':parseInt(document['getElementById'](_0x53be41(0x832))[_0x53be41(0x717)]),'resultsDisplay':document[_0x53be41(0x4ff)](_0x53be41(0x724))['value'],'shuffleSetting':document[_0x53be41(0x4ff)]('shuffle-setting-select')['value'],'timerMode':document[_0x53be41(0x4ff)](_0x53be41(0xe69))[_0x53be41(0x717)],'timerDuration':parseInt(document[_0x53be41(0x4ff)]('timer-duration-input')['value']),'isConfidenceScoringEnabled':document[_0x53be41(0x4ff)](_0x53be41(0xc77))[_0x53be41(0x749)],'confidenceMode':document[_0x53be41(0x4ff)](_0x53be41(0xa97))['value']};try{const _0x11b8f5=doc(db,'artifacts/'+appId+_0x53be41(0x8c1),currentProjectId);await updateDoc(_0x11b8f5,{'settings':_0x3a8de}),showMessage(_0x53be41(0xb4c));}catch(_0x3ec20b){console['error'](_0x53be41(0x581),_0x3ec20b),showMessage(_0x53be41(0x3a8));}});function listenForStudents(_0x50908e){const _0x4491b6=_0x5ddd37,_0x5e08b4=doc(db,_0x4491b6(0x8a6)+appId+_0x4491b6(0x8c1),_0x50908e);unsubscribeStudentsListener=onSnapshot(_0x5e08b4,_0x560991=>{const _0x2592a3=_0x4491b6;if(_0x560991[_0x2592a3(0x8d2)]()){const _0x57b805=_0x560991['data']();currentProjectData=_0x57b805,renderStudentList(_0x57b805[_0x2592a3(0x28a)]||[]);}});}function renderStudentList(_0x41fe38){const _0x287fca=_0x5ddd37,_0x345c14=document['getElementById'](_0x287fca(0x721));_0x41fe38[_0x287fca(0x85b)]===0x0?(studentList['innerHTML']=_0x287fca(0xae5),_0x345c14['classList'][_0x287fca(0xee4)](_0x287fca(0xc89))):(studentList[_0x287fca(0x1f9)]=_0x41fe38[_0x287fca(0xa25)](_0x55b17e=>_0x287fca(0x9a2)+_0x55b17e+_0x287fca(0x682)+_0x55b17e+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x345c14[_0x287fca(0xc2e)][_0x287fca(0x716)](_0x287fca(0xc89)));}document['getElementById'](_0x5ddd37(0xaf7))[_0x5ddd37(0xbe5)]('click',async()=>{const _0x2fce7c=_0x5ddd37;if(!currentProjectId)return;const _0xb83b91=document[_0x2fce7c(0x4ff)](_0x2fce7c(0x730)),_0x58ae7f=_0xb83b91[_0x2fce7c(0x717)][_0x2fce7c(0x26c)]();if(!_0x58ae7f){showMessage(_0x2fce7c(0x4ed));return;}const _0x5bba34=_0x58ae7f[_0x2fce7c(0x325)]('\x0a')[_0x2fce7c(0xa25)](_0x3423b0=>_0x3423b0[_0x2fce7c(0x26c)]())[_0x2fce7c(0xd8d)](_0x97588f=>_0x97588f);if(_0x5bba34['length']===0x0)return;try{const _0x388ffb=doc(db,_0x2fce7c(0x8a6)+appId+'/public/data/projects',currentProjectId),_0xd64178=await getDoc(_0x388ffb);if(_0xd64178[_0x2fce7c(0x8d2)]()){const _0x59de1c=_0xd64178['data']()[_0x2fce7c(0x28a)]||[],_0x34d4dd=[...new Set([..._0x59de1c,..._0x5bba34])];await updateDoc(_0x388ffb,{'students':_0x34d4dd}),_0xb83b91[_0x2fce7c(0x717)]='';}}catch(_0x2355c1){console['error']('Error\x20adding\x20students:',_0x2355c1),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x4004df){const _0xa95145=_0x5ddd37,_0x199b2f=document['getElementById']('move-quiz-modal'),_0xd5e435=document[_0xa95145(0x4ff)](_0xa95145(0xddc)),_0xb3d3f2=_0x199b2f['querySelector']('h3'),_0x369624=document[_0xa95145(0x4ff)](_0xa95145(0xbda)),_0x45a8fe=document[_0xa95145(0x4ff)](_0xa95145(0xd95));_0xb3d3f2['textContent']=_0xa95145(0x27a),_0xd5e435[_0xa95145(0x1f9)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x369624['textContent']=_0xa95145(0xc65),_0x199b2f[_0xa95145(0xc2e)][_0xa95145(0x716)](_0xa95145(0xc89));const _0x292911=allQuizzes[_0xa95145(0xd8d)](_0x4ed46a=>_0x4ed46a['id']!==_0x4004df);_0x292911[_0xa95145(0x85b)]===0x0?(_0xd5e435[_0xa95145(0x1f9)]=_0xa95145(0xdde),_0x369624[_0xa95145(0x206)]=!![]):(_0xd5e435[_0xa95145(0x1f9)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x292911['map'](_0x3c87ba=>_0xa95145(0x33e)+_0x3c87ba['id']+'\x22>'+_0x3c87ba[_0xa95145(0xe77)]+'</option>')['join'](''),_0x369624['disabled']=![]);const _0x20d739=async()=>{const _0x219927=_0xa95145,_0x544a16=_0xd5e435['value'];if(!_0x544a16){showMessage(_0x219927(0x6f8));return;}_0x369624[_0x219927(0x206)]=!![],_0x369624[_0x219927(0x602)]='กำลังจับคู่...';try{const _0x7b4da0=doc(db,_0x219927(0x8a6)+appId+'/public/data/quizzes',_0x4004df),_0x2ed622=doc(db,_0x219927(0x8a6)+appId+_0x219927(0xad5),_0x544a16),_0x236f28=writeBatch(db);_0x236f28[_0x219927(0xc94)](_0x7b4da0,{'pairedQuizId':_0x544a16}),_0x236f28[_0x219927(0xc94)](_0x2ed622,{'pairedQuizId':_0x4004df}),await _0x236f28[_0x219927(0x7b5)](),showMessage(_0x219927(0x314)),_0x199b2f[_0x219927(0xc2e)][_0x219927(0xee4)](_0x219927(0xc89));}catch(_0x3cd8b1){console[_0x219927(0x34c)]('Error\x20pairing\x20quizzes:',_0x3cd8b1),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0xb3d3f2[_0x219927(0x602)]=_0x219927(0x66f),_0x369624['textContent']='ย้าย',_0x369624[_0x219927(0x206)]=![],_0x369624['removeEventListener'](_0x219927(0xe61),_0x20d739),_0x45a8fe[_0x219927(0x442)]('click',_0x2d2208);}},_0x2d2208=()=>{const _0xc95af4=_0xa95145;_0x199b2f['classList'][_0xc95af4(0xee4)](_0xc95af4(0xc89)),_0xb3d3f2['textContent']=_0xc95af4(0x66f),_0x369624[_0xc95af4(0x602)]=_0xc95af4(0x259),_0x369624['removeEventListener'](_0xc95af4(0xe61),_0x20d739),_0x45a8fe[_0xc95af4(0x442)](_0xc95af4(0xe61),_0x2d2208);};_0x369624[_0xa95145(0xbe5)](_0xa95145(0xe61),_0x20d739),_0x45a8fe[_0xa95145(0xbe5)](_0xa95145(0xe61),_0x2d2208);}function handleDeleteStudent(_0x32df2f){const _0x593686=_0x5ddd37;showConfirmation(_0x593686(0x868)+_0x32df2f+_0x593686(0x239),async()=>{const _0x4d90a7=_0x593686;if(!currentProjectId||!currentProjectData)return;const _0xe842f2=currentProjectData[_0x4d90a7(0x28a)][_0x4d90a7(0xd8d)](_0x59f3e3=>_0x59f3e3!==_0x32df2f);try{const _0x2fe041=doc(db,'artifacts/'+appId+_0x4d90a7(0x8c1),currentProjectId),_0x255018=doc(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x4d90a7(0x72e),_0x32df2f),_0x58ca5e=writeBatch(db);_0x58ca5e['update'](_0x2fe041,{'students':_0xe842f2}),_0x58ca5e[_0x4d90a7(0xacc)](_0x255018),await _0x58ca5e[_0x4d90a7(0x7b5)]();}catch(_0x6cf1ee){console[_0x4d90a7(0x34c)]('Error\x20deleting\x20student:',_0x6cf1ee),showMessage(_0x4d90a7(0x63d));}});}function handleDeleteAllStudents(){const _0x41485d=_0x5ddd37;showConfirmation(_0x41485d(0x8e0),async()=>{const _0x1d150b=_0x41485d;if(!currentProjectId)return;try{const _0x43ab71=doc(db,_0x1d150b(0x8a6)+appId+'/public/data/projects',currentProjectId),_0x4b2fd7=collection(db,'artifacts/'+appId+_0x1d150b(0x9c7)+currentProjectId+_0x1d150b(0x72e)),_0x14f5d5=await getDocs(_0x4b2fd7),_0x45d26a=writeBatch(db);_0x45d26a['update'](_0x43ab71,{'students':[]}),_0x14f5d5['forEach'](_0x144064=>_0x45d26a[_0x1d150b(0xacc)](_0x144064[_0x1d150b(0xc64)])),await _0x45d26a[_0x1d150b(0x7b5)]();}catch(_0x45b2bf){console[_0x1d150b(0x34c)](_0x1d150b(0x9c2),_0x45b2bf),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x1009e3){const _0x515c77=_0x5ddd37,_0x1a1691=document[_0x515c77(0x4ff)]('file-topics-list-container'),_0x379dfd=document[_0x515c77(0x4ff)](_0x515c77(0xde8));_0x1a1691[_0x515c77(0xc2e)][_0x515c77(0x716)](_0x515c77(0xc89)),_0x379dfd['innerHTML']=_0x515c77(0xd64);try{const _0x4a9420=new FileReader();_0x4a9420[_0x515c77(0x817)](_0x1009e3),await new Promise((_0x347290,_0x3d64cb)=>{const _0x100ab3=_0x515c77;_0x4a9420[_0x100ab3(0x312)]=()=>{const _0x1904b8=_0x100ab3;fileDataBase64=_0x4a9420[_0x1904b8(0x41f)]['split'](',')[0x1],fileMimeType=_0x1009e3[_0x1904b8(0x4f5)],_0x347290();},_0x4a9420[_0x100ab3(0x80d)]=_0x4d2ae0=>_0x3d64cb(_0x4d2ae0);});if(!fileDataBase64)throw new Error(_0x515c77(0xe41));const _0x286460=_0x515c77(0x564),_0x5ed11b={'type':'OBJECT','properties':{'topics':{'type':'ARRAY','items':{'type':_0x515c77(0xa74)}}},'required':[_0x515c77(0xc5a)]},_0x23c68d=[{'text':_0x286460},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x56fc0d=await handleApiCall(_0x23c68d,_0x515c77(0xe20),_0x5ed11b,null,![]);if(_0x56fc0d&&_0x56fc0d[_0x515c77(0xc5a)])extractedFileTopics=_0x56fc0d['topics'],renderFileTopics();else throw new Error(_0x515c77(0x461));}catch(_0x4a6763){console[_0x515c77(0x34c)](_0x515c77(0x324),_0x4a6763),_0x379dfd['innerHTML']=_0x515c77(0xd1e)+_0x4a6763[_0x515c77(0x541)]+_0x515c77(0x7d3);}}function renderFileTopics(){const _0x437fb7=_0x5ddd37,_0x1cb24c=document['getElementById'](_0x437fb7(0xde8));if(extractedFileTopics['length']===0x0){_0x1cb24c[_0x437fb7(0x1f9)]=_0x437fb7(0x2e4);return;}_0x1cb24c[_0x437fb7(0x1f9)]=extractedFileTopics[_0x437fb7(0xa25)](_0x2dc223=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x2dc223+_0x437fb7(0xc62)+escape(_0x2dc223)+_0x437fb7(0xc4d)+escape(_0x2dc223)+_0x437fb7(0xd17))['join']('');}async function generateHybridQuizForTopic(_0x52d6bf){const _0x57c7f4=_0x5ddd37,_0x4d49c2=parseInt(document[_0x57c7f4(0x4ff)]('num-questions')[_0x57c7f4(0x717)],0xa),_0x1ad13b=document[_0x57c7f4(0x4ff)]('quiz-type-select')['value'],_0x433a34=document[_0x57c7f4(0x4ff)]('num-choices')[_0x57c7f4(0x717)],_0x1187f6=document['getElementById'](_0x57c7f4(0xdb4))[_0x57c7f4(0x749)],_0x405a62=_0x1187f6?_0x57c7f4(0xe0d):_0x57c7f4(0x9d9);let _0x28ea54='',_0x10921f;const _0x2b34fa={'type':_0x57c7f4(0x3d9),'properties':{'questionText':{'type':_0x57c7f4(0xa74)},'options':{'type':'ARRAY','items':{'type':_0x57c7f4(0xa74)}},'correctAnswerIndex':{'type':_0x57c7f4(0xd03)},'explanation':{'type':_0x57c7f4(0xa74)},'imageCode':{'type':_0x57c7f4(0xa74)}},'required':[_0x57c7f4(0xb93),_0x57c7f4(0x4ad),_0x57c7f4(0x791),_0x57c7f4(0x29b)]},_0x170107={'type':_0x57c7f4(0x3d9),'properties':{'questionText':{'type':_0x57c7f4(0xa74)},'correctAnswer':{'type':_0x57c7f4(0x56d)},'explanation':{'type':_0x57c7f4(0xa74)},'imageCode':{'type':_0x57c7f4(0xa74)}},'required':['questionText',_0x57c7f4(0x98f),'explanation']},_0x81465d={'type':_0x57c7f4(0x3d9),'properties':{'questionText':{'type':_0x57c7f4(0xa74)},'idealAnswer':{'type':_0x57c7f4(0xa74)},'explanation':{'type':_0x57c7f4(0xa74)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x57c7f4(0x3e2),_0x57c7f4(0x29b)]},_0x523ead={'type':_0x57c7f4(0x3d9),'properties':{'questionType':{'type':'STRING','enum':[_0x57c7f4(0x867)]},'stem':{'type':_0x57c7f4(0xa74)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x57c7f4(0xa74)}},'required':[_0x57c7f4(0x278),'stem',_0x57c7f4(0xcd9),_0x57c7f4(0x20b),_0x57c7f4(0x29b)]};switch(_0x1ad13b){case _0x57c7f4(0xf0e):_0x28ea54=_0x57c7f4(0x462)+_0x433a34+_0x57c7f4(0x3e0),_0x10921f=_0x2b34fa;break;case _0x57c7f4(0xed0):_0x28ea54='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x10921f=_0x170107;break;case _0x57c7f4(0x75f):_0x28ea54=_0x57c7f4(0x3ad),_0x10921f=_0x81465d;break;case'matching':_0x28ea54='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x10921f=_0x523ead;break;case _0x57c7f4(0x595):_0x28ea54='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x433a34+_0x57c7f4(0x3e0),_0x10921f=_0x2b34fa;break;default:_0x28ea54=_0x57c7f4(0x462)+_0x433a34+_0x57c7f4(0x3e0),_0x10921f=_0x2b34fa;break;}const _0x3a8b9a=_0x57c7f4(0xab1),_0x377e8b=document[_0x57c7f4(0x4ff)](_0x57c7f4(0xb7b)),_0x2fc527=document[_0x57c7f4(0x4ff)](_0x57c7f4(0x865)),_0x107570=document['getElementById'](_0x57c7f4(0xd3c));document[_0x57c7f4(0x4ff)](_0x57c7f4(0x3ee))[_0x57c7f4(0xc2e)][_0x57c7f4(0x716)](_0x57c7f4(0xc89)),_0x107570[_0x57c7f4(0x1f9)]='',_0x377e8b['classList'][_0x57c7f4(0x716)](_0x57c7f4(0xc89)),_0x2fc527['textContent']=_0x57c7f4(0x84b)+_0x52d6bf+_0x57c7f4(0x38f)+_0x4d49c2+_0x57c7f4(0x528);try{const _0x597a2f=_0x57c7f4(0x497),_0x1f8790=_0x57c7f4(0xeff)+_0x52d6bf+_0x57c7f4(0x5e9)+_0x4d49c2+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x52d6bf+_0x57c7f4(0xdf3)+_0x4d49c2+_0x57c7f4(0x3b5)+_0x405a62+_0x57c7f4(0x27f)+_0x28ea54+_0x57c7f4(0xc98)+_0x3a8b9a+_0x57c7f4(0x4b1)+_0x597a2f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x57c7f4(0x713),_0x49269a={'type':'OBJECT','properties':{'topic':{'type':_0x57c7f4(0xa74)},'questions':{'type':_0x57c7f4(0x26d),'items':_0x10921f}},'required':[_0x57c7f4(0xe77),_0x57c7f4(0x7f9)]},_0x2eedbf=[{'text':_0x1f8790},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x2eedbf,_0x57c7f4(0xac5)+_0x52d6bf+_0x57c7f4(0x753),_0x49269a);}catch(_0x305d0d){console[_0x57c7f4(0x34c)]('Error\x20generating\x20hybrid\x20quiz:',_0x305d0d),showMessage(_0x57c7f4(0x26e)+_0x305d0d['message']),_0x107570['innerHTML']=_0x57c7f4(0xd74);}finally{_0x377e8b['classList']['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x4e2932=_0x5ddd37;if(!selectedFile){showMessage(_0x4e2932(0xc3d));return;}const _0x41fc16=document[_0x4e2932(0x4ff)](_0x4e2932(0xb7b)),_0x392f1b=document[_0x4e2932(0x4ff)]('loader-text'),_0x1de1fa=document[_0x4e2932(0x4ff)](_0x4e2932(0xd3c)),_0x485ccf=document['getElementById'](_0x4e2932(0x1ff));_0x485ccf[_0x4e2932(0x206)]=!![],document['getElementById'](_0x4e2932(0x3ee))['classList'][_0x4e2932(0x716)](_0x4e2932(0xc89)),_0x1de1fa[_0x4e2932(0x1f9)]='',_0x41fc16[_0x4e2932(0xc2e)][_0x4e2932(0x716)](_0x4e2932(0xc89)),_0x392f1b[_0x4e2932(0x602)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x109b07=await new Promise((_0x244c31,_0x36e239)=>{const _0x17fb89=_0x4e2932,_0x14d74b=new FileReader();_0x14d74b[_0x17fb89(0x817)](selectedFile),_0x14d74b[_0x17fb89(0x312)]=()=>_0x244c31(_0x14d74b[_0x17fb89(0x41f)][_0x17fb89(0x325)](',')[0x1]),_0x14d74b[_0x17fb89(0x80d)]=_0x33fe33=>_0x36e239(_0x33fe33);});await generateQuizFromFile(selectedFile[_0x4e2932(0x4f5)],_0x109b07);}catch(_0x4c5296){console['error']('Error\x20processing\x20file\x20for\x20AI:',_0x4c5296),showMessage(_0x4e2932(0x42b)+_0x4c5296[_0x4e2932(0x541)]),_0x41fc16[_0x4e2932(0xc2e)][_0x4e2932(0xee4)](_0x4e2932(0xc89)),_0x485ccf[_0x4e2932(0x206)]=![];}}function autoFormatMath(_0x45ff72){const _0x26f521=_0x5ddd37;if(typeof _0x45ff72!=='string'||!_0x45ff72)return _0x45ff72;const _0x1a210b=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x832d9b=_0x45ff72[_0x26f521(0x701)](_0x1a210b,_0x107c97=>{const _0x4c3805=_0x26f521;return'$'+_0x107c97[_0x4c3805(0x26c)]()+'$';});return _0x832d9b;}function sanitizeQuizData(_0x3b51d1){const _0x3b6611=_0x5ddd37;if(!_0x3b51d1||!_0x3b51d1[_0x3b6611(0x7f9)])return _0x3b51d1;const _0x119e45={'imes':_0x3b6611(0x5d5),'div':'\x5cdiv'},_0x1927f2=_0x5dab29=>{const _0x24bd79=_0x3b6611;if(typeof _0x5dab29!=='string')return _0x5dab29;let _0x241f9f=_0x5dab29;for(const [_0x43750c,_0x27b186]of Object[_0x24bd79(0xc63)](_0x119e45)){const _0x5b4775=new RegExp('\x5cb'+_0x43750c+'\x5cb','g');_0x241f9f=_0x241f9f[_0x24bd79(0x701)](_0x5b4775,_0x27b186);}return _0x241f9f=_0x241f9f[_0x24bd79(0x701)](/\\\//g,_0x24bd79(0x2d4)),_0x241f9f=_0x241f9f['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x24bd79(0x2d4))[_0x24bd79(0x701)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x24bd79(0x5d5))[_0x24bd79(0x701)](/÷/g,_0x24bd79(0x2d4))[_0x24bd79(0x701)](/×/g,_0x24bd79(0x5d5)),_0x241f9f=_0x241f9f[_0x24bd79(0x701)](/(\d)(\\frac)/g,_0x24bd79(0xc87)),_0x241f9f=autoFormatMath(_0x241f9f),_0x241f9f;};return _0x3b51d1['topic']&&(_0x3b51d1['topic']=_0x1927f2(_0x3b51d1[_0x3b6611(0xe77)])),_0x3b51d1['questions'][_0x3b6611(0x23a)](_0x372bee=>{const _0x523c45=_0x3b6611;_0x372bee[_0x523c45(0xb93)]=_0x1927f2(_0x372bee[_0x523c45(0xb93)]),_0x372bee[_0x523c45(0x4ad)]&&(_0x372bee[_0x523c45(0x4ad)]=_0x372bee['options'][_0x523c45(0xa25)](_0x1927f2)),_0x372bee[_0x523c45(0x29b)]&&(_0x372bee['explanation']=_0x1927f2(_0x372bee[_0x523c45(0x29b)])),_0x372bee['stem']&&(_0x372bee[_0x523c45(0x692)]=_0x1927f2(_0x372bee['stem'])),_0x372bee[_0x523c45(0xcd9)]&&(_0x372bee[_0x523c45(0xcd9)]=_0x1927f2(_0x372bee[_0x523c45(0xcd9)])),_0x372bee[_0x523c45(0x20b)]&&(_0x372bee[_0x523c45(0x20b)]=_0x372bee['allResponses'][_0x523c45(0xa25)](_0x1927f2));}),_0x3b51d1;}const simpleMathPrompt=_0x5ddd37(0xf0d);async function handleGenerateFromLink(){const _0x7b62ed=_0x5ddd37,_0x361d02=document['getElementById']('link-url-input'),_0x4403aa=document[_0x7b62ed(0x4ff)](_0x7b62ed(0xd19)),_0x2d10b6=_0x361d02[_0x7b62ed(0x717)][_0x7b62ed(0x26c)](),_0x12091c=_0x4403aa[_0x7b62ed(0x717)][_0x7b62ed(0x26c)]();if(!_0x2d10b6){showMessage(_0x7b62ed(0xd5f));return;}const _0x3f43ca=document[_0x7b62ed(0x4ff)](_0x7b62ed(0xb7b)),_0x1ff005=document[_0x7b62ed(0x4ff)](_0x7b62ed(0x865)),_0xa38d57=document[_0x7b62ed(0x4ff)]('generated-quiz-container'),_0x4396e6=document['getElementById']('generate-from-link-btn');document[_0x7b62ed(0x4ff)](_0x7b62ed(0x3ee))[_0x7b62ed(0xc2e)][_0x7b62ed(0x716)](_0x7b62ed(0xc89)),_0xa38d57[_0x7b62ed(0x1f9)]='',_0x3f43ca['classList'][_0x7b62ed(0x716)](_0x7b62ed(0xc89)),_0x1ff005['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x4396e6['disabled']=!![];try{const _0x747946=_0x7b62ed(0xce1)+encodeURIComponent(_0x2d10b6),_0x3dd120=await fetch(_0x747946);if(!_0x3dd120['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x3dd120['status']+')');const _0x2371db=await _0x3dd120['text'](),_0x4ab96c=extractTextFromHtml(_0x2371db);if(!_0x4ab96c||_0x4ab96c[_0x7b62ed(0x85b)]<0x64)throw new Error(_0x7b62ed(0x7cc));await generateQuiz(_0x12091c,_0x4ab96c);}catch(_0x539b0e){console[_0x7b62ed(0x34c)](_0x7b62ed(0xb89),_0x539b0e),showMessage(_0x7b62ed(0x26e)+_0x539b0e['message']),_0xa38d57['innerHTML']=_0x7b62ed(0x5e6);}finally{_0x3f43ca[_0x7b62ed(0xc2e)]['add'](_0x7b62ed(0xc89)),_0x4396e6[_0x7b62ed(0x206)]=![];}}function extractTextFromHtml(_0x5790e6){const _0x434fda=_0x5ddd37,_0x3e99a8=new DOMParser()[_0x434fda(0x2d9)](_0x5790e6,_0x434fda(0xb52));return _0x3e99a8[_0x434fda(0xe1c)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x434fda(0x23a)](_0x2b4eb3=>_0x2b4eb3[_0x434fda(0x716)]()),_0x3e99a8[_0x434fda(0xe75)][_0x434fda(0x602)]||'';}document[_0x5ddd37(0x4ff)](_0x5ddd37(0x6ed))[_0x5ddd37(0xbe5)](_0x5ddd37(0xe61),()=>{const _0x45d934=_0x5ddd37,_0x3d52bd=document['getElementById'](_0x45d934(0x894))['value'][_0x45d934(0x26c)]();generateQuiz(_0x3d52bd,null);}),document[_0x5ddd37(0x4ff)](_0x5ddd37(0x970))[_0x5ddd37(0xbe5)](_0x5ddd37(0xe61),()=>{const _0x8c8c97=_0x5ddd37,_0x412cc0=document['getElementById'](_0x8c8c97(0x56f))[_0x8c8c97(0x717)][_0x8c8c97(0x26c)]();if(!_0x412cc0){showMessage(_0x8c8c97(0x5cc));return;}const _0x4246ab=document[_0x8c8c97(0x4ff)](_0x8c8c97(0x894))[_0x8c8c97(0x717)][_0x8c8c97(0x26c)]();generateQuiz(_0x4246ab,_0x412cc0);});async function generateQuiz(_0xd0106,_0x1612ab,_0x2cb369=null,_0x9ecc9c=null,_0x205829=![],_0x2cf746=null,_0xc7d63f=null,_0x1a4bea=![]){const _0x287ea4=_0x5ddd37;let _0x4a45ae={};if(_0x205829&&blueprintPageSettings)_0x4a45ae=blueprintPageSettings;else{const _0x17918e=document[_0x287ea4(0xe1c)](_0x287ea4(0x56e));_0x4a45ae={'quizType':document[_0x287ea4(0x4ff)](_0x287ea4(0x74f))[_0x287ea4(0x717)],'numQuestions':document[_0x287ea4(0x4ff)](_0x287ea4(0xe81))[_0x287ea4(0x717)],'numChoices':document[_0x287ea4(0x4ff)](_0x287ea4(0xd5d))[_0x287ea4(0x717)],'includeImages':document['getElementById'](_0x287ea4(0xdb4))[_0x287ea4(0x749)],'isNormalTopic':document['getElementById']('force-math-checkbox')[_0x287ea4(0x749)],'difficultyValue':document[_0x287ea4(0x4ff)]('difficulty-level-select')[_0x287ea4(0x717)],'complexityValue':document[_0x287ea4(0x4ff)]('question-complexity-select')['value'],'selectedTopicNames':Array['from'](_0x17918e)['map'](_0x51c1c9=>_0x51c1c9[_0x287ea4(0x717)])};}const _0x30a8c8=_0x4a45ae[_0x287ea4(0x911)]?'':_0x287ea4(0x4ec),_0xe76df2=_0x4a45ae[_0x287ea4(0x511)]!==_0x287ea4(0xc30)?_0x287ea4(0x93f)+_0x4a45ae['difficultyValue']+'\x22':'',_0x207c0e=_0x4a45ae[_0x287ea4(0xb0b)]!==_0x287ea4(0xa5d)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x4a45ae[_0x287ea4(0xb0b)]+_0x287ea4(0x2d0):'';let _0x5d04f4='';_0x4a45ae['selectedTopicNames']&&_0x4a45ae[_0x287ea4(0x3f0)][_0x287ea4(0x85b)]>0x0&&(_0x5d04f4=_0x287ea4(0x6b6)+_0x4a45ae[_0x287ea4(0x3f0)]['join'](',\x20')+'.');let _0x597eb8='';_0x9ecc9c&&(_0x597eb8=_0x287ea4(0x667));let _0x33f43e='',_0x4a6145='',_0x230bf5,_0x39dd53='เกี่ยวกับหัวข้อ\x20\x22'+_0xd0106+'\x22';if(!_0xd0106&&_0x1612ab)_0x39dd53=_0x287ea4(0x89d);else!_0xd0106&&!_0x1612ab&&(_0x39dd53='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x533c6d={'type':_0x287ea4(0x3d9),'properties':{'questionText':{'type':_0x287ea4(0xa74)},'options':{'type':_0x287ea4(0x26d),'items':{'type':_0x287ea4(0xa74)}},'correctAnswerIndex':{'type':_0x287ea4(0xd03)},'explanation':{'type':_0x287ea4(0xa74)},'imageCode':{'type':_0x287ea4(0xa74)}},'required':[_0x287ea4(0xb93),_0x287ea4(0x4ad),_0x287ea4(0x791),_0x287ea4(0x29b)]},_0x159394={'type':'OBJECT','properties':{'questionText':{'type':_0x287ea4(0xa74)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x287ea4(0xa74)}},'required':['questionText','idealAnswer',_0x287ea4(0x29b)]},_0x44ec3e={'type':_0x287ea4(0x3d9),'properties':{'questionText':{'type':_0x287ea4(0xa74)},'questionType':{'type':_0x287ea4(0xa74),'enum':[_0x287ea4(0xf0e),_0x287ea4(0x3d7)]},'options':{'type':_0x287ea4(0x26d),'items':{'type':_0x287ea4(0xa74)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x287ea4(0xa74)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x287ea4(0xb93),_0x287ea4(0x278),_0x287ea4(0x29b)]},_0x24c7ac={'type':_0x287ea4(0x3d9),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x287ea4(0x56d)},'explanation':{'type':_0x287ea4(0xa74)},'imageCode':{'type':'STRING'}},'required':[_0x287ea4(0xb93),_0x287ea4(0x98f),_0x287ea4(0x29b)]},_0x405710={'type':_0x287ea4(0x3d9),'properties':{'questionType':{'type':_0x287ea4(0xa74),'enum':['matching_item']},'stem':{'type':_0x287ea4(0xa74)},'correctResponse':{'type':_0x287ea4(0xa74)},'allResponses':{'type':_0x287ea4(0x26d),'items':{'type':_0x287ea4(0xa74)}},'explanation':{'type':_0x287ea4(0xa74)},'imageCode':{'type':_0x287ea4(0xa74)}},'required':[_0x287ea4(0x278),_0x287ea4(0x692),_0x287ea4(0xcd9),_0x287ea4(0x20b),'explanation']};let _0x298433;if(_0x2cb369!==null){const _0x45d5d9=currentQuizData[_0x287ea4(0x7f9)][_0x2cb369][_0x287ea4(0x278)],_0x4d959f=_0x4a45ae['includeImages']?_0x287ea4(0xe85):'';_0x33f43e=_0x287ea4(0xcf3)+_0x39dd53+'\x20'+_0x5d04f4+'\x20'+_0xe76df2+_0x287ea4(0x431)+_0x4d959f+'\x20'+simpleMathPrompt;if(_0x45d5d9==='multiple_choice')_0x230bf5=_0x533c6d;else{if(_0x45d5d9==='matching_item')_0x230bf5={'type':_0x287ea4(0x3d9),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x287ea4(0xa74)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x287ea4(0xa74)},'imageCode':{'type':_0x287ea4(0xa74)}},'required':[_0x287ea4(0x278),_0x287ea4(0x692),'correctResponse',_0x287ea4(0x29b)]};else _0x230bf5=_0x159394;}_0x298433=_0x230bf5;}else{const _0x127ac1=_0x4a45ae['includeImages']?_0x287ea4(0x4e5):'';switch(_0x4a45ae[_0x287ea4(0xa9d)]){case'multiple_choice':_0x33f43e=_0x287ea4(0x83c)+_0x30a8c8+'\x20'+_0x4a45ae[_0x287ea4(0xe59)]+_0x287ea4(0x376)+_0x39dd53+'\x20'+_0x5d04f4+'\x20'+_0xe76df2+'\x20'+_0x207c0e+'\x20'+_0x597eb8+_0x287ea4(0xae9)+_0x4a45ae[_0x287ea4(0x75d)]+_0x287ea4(0xece)+_0x127ac1+'\x20'+simpleMathPrompt,_0x230bf5=_0x533c6d;break;case _0x287ea4(0x595):_0x33f43e=_0x287ea4(0x249)+_0x30a8c8+'\x20'+_0x4a45ae[_0x287ea4(0xe59)]+_0x287ea4(0x376)+_0x39dd53+'\x20'+_0x5d04f4+'\x20'+_0xe76df2+'\x20'+_0x207c0e+'\x20'+_0x597eb8+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4a45ae[_0x287ea4(0x75d)]+_0x287ea4(0x6a7)+_0x127ac1+'\x20'+simpleMathPrompt,_0x230bf5=_0x533c6d;break;case _0x287ea4(0x75f):_0x33f43e=_0x287ea4(0x249)+_0x30a8c8+'\x20'+_0x4a45ae['numQuestions']+_0x287ea4(0x376)+_0x39dd53+'\x20'+_0x5d04f4+'\x20'+_0xe76df2+'\x20'+_0x207c0e+'\x20'+_0x597eb8+_0x287ea4(0x888)+_0x127ac1+'\x20'+simpleMathPrompt,_0x230bf5=_0x159394;break;case _0x287ea4(0xa5d):_0x33f43e=_0x287ea4(0xa2d)+_0x30a8c8+'\x20'+_0x4a45ae[_0x287ea4(0xe59)]+_0x287ea4(0x376)+_0x39dd53+'\x20'+_0x5d04f4+'\x20'+_0xe76df2+'\x20'+_0x207c0e+'\x20'+_0x597eb8+_0x287ea4(0x986)+_0x4a45ae[_0x287ea4(0x75d)]+_0x287ea4(0x2d2)+_0x127ac1+'\x20'+simpleMathPrompt+'.',_0x230bf5=_0x44ec3e;break;case'true_false':_0x33f43e='สร้างคำถามแบบใช่/ไม่ใช่'+_0x30a8c8+'\x20'+_0x4a45ae[_0x287ea4(0xe59)]+_0x287ea4(0x376)+_0x39dd53+'\x20'+_0x5d04f4+'\x20'+_0xe76df2+'\x20'+_0x207c0e+'\x20'+_0x597eb8+_0x287ea4(0x5c0)+_0x127ac1+'\x20'+simpleMathPrompt,_0x230bf5=_0x24c7ac;break;case'matching':_0x33f43e='สร้างชุดคำถามจับคู่'+_0x30a8c8+'\x20'+_0x4a45ae[_0x287ea4(0xe59)]+_0x287ea4(0xaf4)+_0x39dd53+'\x20'+_0x5d04f4+'\x20'+_0xe76df2+'\x20'+_0x207c0e+'\x20'+_0x597eb8+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x127ac1+'\x20'+simpleMathPrompt,_0x230bf5=_0x405710;break;}_0x298433={'type':_0x287ea4(0x3d9),'properties':{'topic':{'type':_0x287ea4(0xa74)},'questions':{'type':_0x287ea4(0x26d),'items':_0x230bf5}},'required':['topic',_0x287ea4(0x7f9)]};}const _0x5db430=_0x287ea4(0xa32);_0x1612ab?(_0x1a4bea?_0x33f43e='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x1612ab+_0x287ea4(0x89b)+_0x33f43e+_0x5db430:_0x33f43e='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x1612ab+'\x22,\x20'+_0x33f43e,_0x4a6145=_0x287ea4(0xcc7)):(_0x1a4bea&&(_0x33f43e+=_0x5db430),_0x4a6145=_0x287ea4(0x81f));let _0x54b1d2;return _0x9ecc9c?(_0x54b1d2=[{'text':_0x33f43e},..._0x9ecc9c],_0x4a6145='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x54b1d2=_0x33f43e,handleApiCall(_0x54b1d2,_0x4a6145,_0x298433,_0x2cb369,!![],_0x2cf746,_0xc7d63f);}async function generateQuizFromFile(_0x3d541e,_0x151d38){const _0x5b0792=_0x5ddd37,_0x17e63d=document[_0x5b0792(0x4ff)](_0x5b0792(0x9a5))[_0x5b0792(0x717)][_0x5b0792(0x26c)](),_0x5350c9=document[_0x5b0792(0x4ff)](_0x5b0792(0x74f))[_0x5b0792(0x717)],_0x3bf97e=document[_0x5b0792(0x4ff)]('num-questions')['value'],_0x4dfadf=document[_0x5b0792(0x4ff)](_0x5b0792(0xd5d))[_0x5b0792(0x717)],_0x2c256b=document[_0x5b0792(0x4ff)](_0x5b0792(0xdb4))[_0x5b0792(0x749)],_0x3660fd=document[_0x5b0792(0x4ff)](_0x5b0792(0xe7c))[_0x5b0792(0x749)],_0x46c6cd=_0x3660fd?'':_0x5b0792(0x4ec),_0x18e5b4=document['getElementById'](_0x5b0792(0xa88))['checked'];let _0xd50650='',_0x3f0c89;const _0x4fa3c6=_0x2c256b?_0x5b0792(0x4e5):'';if(_0x18e5b4)_0xd50650=_0x5b0792(0xc82)+_0x4fa3c6+'\x0a'+simpleMathPrompt+'\x0a',_0x3f0c89={'type':_0x5b0792(0x3d9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x5b0792(0x3d7),_0x5b0792(0xed0),_0x5b0792(0x867)]},'options':{'type':_0x5b0792(0x26d),'items':{'type':_0x5b0792(0xa74)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5b0792(0xa74)},'correctAnswer':{'type':_0x5b0792(0x56d)},'stem':{'type':_0x5b0792(0xa74)},'correctResponse':{'type':_0x5b0792(0xa74)},'allResponses':{'type':_0x5b0792(0x26d),'items':{'type':_0x5b0792(0xa74)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5b0792(0xa74)}},'required':[_0x5b0792(0x278),_0x5b0792(0x29b)]};else{let _0x387fd8='เกี่ยวกับหัวข้อ\x20\x22'+_0x17e63d+'\x22';!_0x17e63d&&(_0x387fd8='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x5350c9){case'multiple_choice':_0xd50650=_0x5b0792(0x83c)+_0x46c6cd+'\x20'+_0x3bf97e+_0x5b0792(0x376)+_0x387fd8+_0x5b0792(0xae9)+_0x4dfadf+_0x5b0792(0xece)+_0x4fa3c6+'\x20'+simpleMathPrompt,_0x3f0c89={'type':_0x5b0792(0x3d9),'properties':{'questionText':{'type':_0x5b0792(0xa74)},'options':{'type':_0x5b0792(0x26d),'items':{'type':_0x5b0792(0xa74)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5b0792(0xa74)},'imageCode':{'type':_0x5b0792(0xa74)}},'required':[_0x5b0792(0xb93),_0x5b0792(0x4ad),_0x5b0792(0x791),_0x5b0792(0x29b)]};break;case _0x5b0792(0x595):_0xd50650=_0x5b0792(0x249)+_0x46c6cd+'\x20'+_0x3bf97e+_0x5b0792(0x376)+_0x387fd8+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4dfadf+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4fa3c6+'\x20'+simpleMathPrompt,_0x3f0c89={'type':_0x5b0792(0x3d9),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5b0792(0x26d),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5b0792(0xd03)},'explanation':{'type':_0x5b0792(0xa74)},'imageCode':{'type':'STRING'}},'required':[_0x5b0792(0xb93),_0x5b0792(0x4ad),_0x5b0792(0x791),_0x5b0792(0x29b)]};break;case _0x5b0792(0x75f):_0xd50650=_0x5b0792(0x249)+_0x46c6cd+'\x20'+_0x3bf97e+_0x5b0792(0x376)+_0x387fd8+_0x5b0792(0x276)+_0x4fa3c6+'\x20'+simpleMathPrompt,_0x3f0c89={'type':_0x5b0792(0x3d9),'properties':{'questionText':{'type':_0x5b0792(0xa74)},'idealAnswer':{'type':_0x5b0792(0xa74)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5b0792(0xa74)}},'required':[_0x5b0792(0xb93),'idealAnswer',_0x5b0792(0x29b)]};break;case _0x5b0792(0xa5d):_0xd50650=_0x5b0792(0xa2d)+_0x46c6cd+'\x20'+_0x3bf97e+_0x5b0792(0x376)+_0x387fd8+_0x5b0792(0x348)+_0x4dfadf+_0x5b0792(0x896)+_0x4fa3c6+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x3f0c89={'type':_0x5b0792(0x3d9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5b0792(0xa74),'enum':[_0x5b0792(0xf0e),'short_answer']},'options':{'type':_0x5b0792(0x26d),'items':{'type':_0x5b0792(0xa74)}},'correctAnswerIndex':{'type':_0x5b0792(0xd03)},'idealAnswer':{'type':_0x5b0792(0xa74)},'explanation':{'type':_0x5b0792(0xa74)},'imageCode':{'type':_0x5b0792(0xa74)}},'required':[_0x5b0792(0xb93),_0x5b0792(0x278),_0x5b0792(0x29b)]};break;case _0x5b0792(0xed0):_0xd50650='สร้างคำถามแบบใช่/ไม่ใช่'+_0x46c6cd+'\x20'+_0x3bf97e+_0x5b0792(0x376)+_0x387fd8+_0x5b0792(0xc55)+_0x4fa3c6+'\x20'+simpleMathPrompt,_0x3f0c89={'type':_0x5b0792(0x3d9),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x5b0792(0x56d)},'explanation':{'type':_0x5b0792(0xa74)},'imageCode':{'type':_0x5b0792(0xa74)}},'required':[_0x5b0792(0xb93),_0x5b0792(0x98f),_0x5b0792(0x29b)]};break;case _0x5b0792(0xdf9):_0xd50650='สร้างชุดคำถามจับคู่'+_0x46c6cd+'\x20'+_0x3bf97e+_0x5b0792(0xaf4)+_0x387fd8+_0x5b0792(0x890)+_0x3bf97e+_0x5b0792(0x93d)+_0x4fa3c6+'\x20'+simpleMathPrompt,_0x3f0c89={'type':_0x5b0792(0x3d9),'properties':{'questionType':{'type':_0x5b0792(0xa74),'enum':['matching_item']},'stem':{'type':_0x5b0792(0xa74)},'correctResponse':{'type':_0x5b0792(0xa74)},'allResponses':{'type':_0x5b0792(0x26d),'items':{'type':_0x5b0792(0xa74)}},'explanation':{'type':_0x5b0792(0xa74)},'imageCode':{'type':_0x5b0792(0xa74)}},'required':[_0x5b0792(0x278),_0x5b0792(0x692),_0x5b0792(0xcd9),_0x5b0792(0x20b),_0x5b0792(0x29b)]};break;}}const _0x516d2e={'type':_0x5b0792(0x3d9),'properties':{'topic':{'type':_0x5b0792(0xa74)},'questions':{'type':_0x5b0792(0x26d),'items':_0x3f0c89}},'required':[_0x5b0792(0xe77),_0x5b0792(0x7f9)]},_0x18f737='จากไฟล์ที่แนบมานี้,\x20'+_0xd50650,_0x22d93d={'contents':[{'parts':[{'text':_0x18f737},{'inlineData':{'mimeType':_0x3d541e,'data':_0x151d38}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x516d2e}};return handleApiCall(_0x22d93d[_0x5b0792(0xb60)][0x0]['parts'],_0x5b0792(0x8bd),_0x516d2e);}async function handleApiCall(_0x383a0a,_0xf1bb5f,_0x10b804,_0x410570=null,_0x298ce2=!![],_0x536f57=null,_0x474568=null){const _0x3862b7=_0x5ddd37,_0x52c044=document[_0x3862b7(0x4ff)](_0x3862b7(0x3ee)),_0x1f61dd=document[_0x3862b7(0x4ff)](_0x3862b7(0xb7b)),_0x4955b8=document[_0x3862b7(0x4ff)](_0x3862b7(0x865)),_0x392757=document[_0x3862b7(0x4ff)]('generated-quiz-container');_0x52c044['classList'][_0x3862b7(0x716)](_0x3862b7(0xc89));_0x410570===null&&_0x298ce2&&(_0x392757['innerHTML']='');_0x1f61dd[_0x3862b7(0xc2e)][_0x3862b7(0x716)]('hidden'),_0x4955b8[_0x3862b7(0x602)]=_0xf1bb5f,document['getElementById']('generate-from-topic-btn')['disabled']=!![],document[_0x3862b7(0x4ff)](_0x3862b7(0x970))['disabled']=!![],document[_0x3862b7(0x4ff)](_0x3862b7(0x463))['disabled']=!![];const _0x149daf=document[_0x3862b7(0x4ff)](_0x3862b7(0x1ff));if(_0x149daf)_0x149daf['disabled']=!![];const _0x3aa72e=document[_0x3862b7(0x4ff)](_0x3862b7(0x35c));if(_0x3aa72e)_0x3aa72e[_0x3862b7(0x206)]=!![];const _0x73a373=document[_0x3862b7(0x4ff)](_0x3862b7(0x98d));if(_0x73a373)_0x73a373[_0x3862b7(0x206)]=!![];try{const _0x4750fc=Array['isArray'](_0x383a0a)?_0x383a0a:[{'text':_0x383a0a}],_0x3b911f={'contents':[{'role':_0x3862b7(0x9b2),'parts':_0x4750fc}]};_0x10b804&&(_0x3b911f['generationConfig']={'responseMimeType':'application/json','responseSchema':_0x10b804});const _0x3ccae4=_0x3862b7(0xa3d),_0x2a00bd=_0x3862b7(0xb2f)+_0x3ccae4,_0x3c7bf0=await fetch(_0x2a00bd,{'method':_0x3862b7(0x473),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3862b7(0xe5a)](_0x3b911f)});if(!_0x3c7bf0['ok']){const _0x30f2af=await _0x3c7bf0[_0x3862b7(0xa75)]();console[_0x3862b7(0x34c)](_0x3862b7(0x978),_0x30f2af);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x3c7bf0[_0x3862b7(0x361)]);}const _0x432233=await _0x3c7bf0['json']();if(!_0x432233['candidates']||_0x432233[_0x3862b7(0x5aa)]['length']===0x0){let _0xcef1f3='AI\x20did\x20not\x20return\x20any\x20content.';return _0x432233[_0x3862b7(0x8f2)]?.['blockReason']&&(_0xcef1f3='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x432233['promptFeedback'][_0x3862b7(0x2a2)]+'.'),console[_0x3862b7(0x34c)](_0xcef1f3,JSON[_0x3862b7(0xe5a)](_0x432233)),null;}const _0xe481c1=_0x432233[_0x3862b7(0x5aa)][0x0][_0x3862b7(0xa99)][_0x3862b7(0xc7f)][0x0]['text'];if(_0x10b804){let _0x341fe2=_0xe481c1;if(_0x341fe2[_0x3862b7(0x64d)](_0x3862b7(0x9eb)))_0x341fe2=_0x341fe2['substring'](0x7,_0x341fe2[_0x3862b7(0x85b)]-0x3)[_0x3862b7(0x26c)]();else _0x341fe2[_0x3862b7(0x64d)](_0x3862b7(0xa2a))&&(_0x341fe2=_0x341fe2[_0x3862b7(0xc6c)](0x3,_0x341fe2[_0x3862b7(0x85b)]-0x3)[_0x3862b7(0x26c)]());let _0x553f6f=JSON['parse'](_0x341fe2);if(_0x298ce2){if(_0x410570!==null){}else currentQuizData=_0x553f6f,displayGeneratedQuiz(currentQuizData,_0x536f57,_0x474568);}return _0x553f6f;}else return _0xe481c1;}catch(_0x3385c7){console[_0x3862b7(0x34c)](_0x3862b7(0xb24),_0x3385c7),showMessage(_0x3862b7(0x490)+_0x3385c7[_0x3862b7(0x541)]);_0x298ce2&&(_0x392757[_0x3862b7(0x1f9)]=_0x3862b7(0xb9a));throw _0x3385c7;}finally{_0x1f61dd[_0x3862b7(0xc2e)][_0x3862b7(0xee4)]('hidden'),document[_0x3862b7(0x4ff)](_0x3862b7(0x6ed))[_0x3862b7(0x206)]=![],document[_0x3862b7(0x4ff)]('generate-from-text-btn')[_0x3862b7(0x206)]=![],document[_0x3862b7(0x4ff)]('generate-from-link-btn')[_0x3862b7(0x206)]=![];if(_0x149daf)_0x149daf[_0x3862b7(0x206)]=![];if(_0x3aa72e)_0x3aa72e[_0x3862b7(0x206)]=![];if(_0x73a373)_0x73a373[_0x3862b7(0x206)]=![];}}function exitFullscreen(){const _0xbbdf0a=_0x5ddd37;if(document[_0xbbdf0a(0x4a1)])document[_0xbbdf0a(0x4a1)]()[_0xbbdf0a(0x53c)](_0x11ef98=>console[_0xbbdf0a(0x34c)](_0x11ef98));else{if(document[_0xbbdf0a(0x4a5)])document[_0xbbdf0a(0x4a5)]();else document['msExitFullscreen']&&document[_0xbbdf0a(0xdbb)]();}}function enterFullscreen(){const _0xadfa14=_0x5ddd37,_0x122de6=document[_0xadfa14(0x8a3)];if(_0x122de6[_0xadfa14(0xcef)])_0x122de6[_0xadfa14(0xcef)]()[_0xadfa14(0x53c)](_0x4c7ef6=>{const _0x39c0cf=_0xadfa14;console[_0x39c0cf(0x34c)](_0x39c0cf(0x5d2)+_0x4c7ef6[_0x39c0cf(0x541)]+'\x20('+_0x4c7ef6[_0x39c0cf(0xc44)]+')');});else{if(_0x122de6[_0xadfa14(0x416)])_0x122de6[_0xadfa14(0x416)]();else _0x122de6['msRequestFullscreen']&&_0x122de6[_0xadfa14(0x812)]();}}function handleCheatingEvent(){const _0x543ea9=_0x5ddd37;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x543ea9(0x30d),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x543ea9(0x77d)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x543ea9(0x4ff)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x543ea9(0x442)](_0x543ea9(0x4f8),handleVisibilityChange),document['removeEventListener'](_0x543ea9(0xce7),handleFullscreenChange)):showMessage(_0x543ea9(0x801)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x1343be=_0x5ddd37;if(currentMode===_0x1343be(0xb26)||!isQuizActive)return;if(document[_0x1343be(0x49d)]===_0x1343be(0xc89))handleCheatingEvent();else document['visibilityState']===_0x1343be(0x440)&&(console[_0x1343be(0x674)](_0x1343be(0x551)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x46e06b=_0x5ddd37;if(currentMode===_0x46e06b(0xb26)||!isQuizActive)return;!document[_0x46e06b(0xab9)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x53d798,_0x5707e6=null,_0x5a7943=null){const _0x516338=_0x5ddd37,_0x1ae5c2=document[_0x516338(0x4ff)](_0x516338(0xd3c));let _0x531028=_0x516338(0xb1f)+_0x53d798['topic']+_0x516338(0xe53);_0x53d798[_0x516338(0x7f9)]['forEach']((_0x16c311,_0x3b3d1c)=>{const _0x1365c2=_0x516338;!_0x16c311['id']&&(_0x16c311['id']='q_'+Date['now']()+'_'+_0x3b3d1c);const _0x360162=_0x16c311[_0x1365c2(0x278)]||_0x53d798['quizType'];_0x531028+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x3b3d1c+_0x1365c2(0xcf7)+_0x3b3d1c+_0x1365c2(0xe37)+_0x3b3d1c+_0x1365c2(0x68f);switch(_0x360162){case _0x1365c2(0x867):_0x531028+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x3b3d1c+'\x22>'+(_0x3b3d1c+0x1)+'.\x20'+_0x16c311[_0x1365c2(0x692)]+_0x1365c2(0x7d3);_0x16c311['imageCode']&&(_0x531028+=_0x1365c2(0x3d8)+_0x3b3d1c+_0x1365c2(0xd66)+_0x16c311[_0x1365c2(0xa18)]+_0x1365c2(0x629));_0x531028+=_0x1365c2(0xb70)+_0x3b3d1c+'\x22>'+_0x16c311[_0x1365c2(0xcd9)]+_0x1365c2(0x3c2),_0x531028+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3b3d1c+'\x22>'+_0x16c311[_0x1365c2(0x29b)]+_0x1365c2(0x3c2);break;case _0x1365c2(0x3d7):_0x531028+=_0x1365c2(0x71b)+_0x3b3d1c+'\x22>'+(_0x3b3d1c+0x1)+'.\x20'+_0x16c311[_0x1365c2(0xb93)]+_0x1365c2(0x7d3);_0x16c311[_0x1365c2(0xa18)]&&(_0x531028+=_0x1365c2(0x3d8)+_0x3b3d1c+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x16c311[_0x1365c2(0xa18)]+_0x1365c2(0x629));_0x531028+=_0x1365c2(0x4a8)+_0x3b3d1c+'\x22>'+_0x16c311[_0x1365c2(0x3e2)]+'</span></div>',_0x531028+=_0x1365c2(0x7b8)+_0x3b3d1c+'\x22>'+_0x16c311[_0x1365c2(0x29b)]+'</span></div>';break;case _0x1365c2(0xed0):_0x531028+=_0x1365c2(0x71b)+_0x3b3d1c+'\x22>'+(_0x3b3d1c+0x1)+'.\x20'+_0x16c311[_0x1365c2(0xb93)]+_0x1365c2(0x7d3);_0x16c311[_0x1365c2(0xa18)]&&(_0x531028+=_0x1365c2(0x3d8)+_0x3b3d1c+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x16c311[_0x1365c2(0xa18)]+_0x1365c2(0x629));_0x531028+=_0x1365c2(0xb21)+(_0x16c311[_0x1365c2(0x98f)]===!![]?_0x1365c2(0xe3e):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x16c311[_0x1365c2(0x98f)]===![]?_0x1365c2(0xe3e):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x531028+=_0x1365c2(0x7b8)+_0x3b3d1c+'\x22>'+_0x16c311[_0x1365c2(0x29b)]+'</span></div>';break;case'fill_in_the_blank':case _0x1365c2(0xf0e):default:_0x531028+=_0x1365c2(0x71b)+_0x3b3d1c+'\x22>'+(_0x3b3d1c+0x1)+'.\x20'+_0x16c311[_0x1365c2(0xb93)]+_0x1365c2(0x7d3);_0x16c311[_0x1365c2(0xa18)]&&(_0x531028+=_0x1365c2(0x3d8)+_0x3b3d1c+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x16c311['imageCode']+_0x1365c2(0x629));_0x531028+=_0x1365c2(0x378)+_0x3b3d1c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16c311[_0x1365c2(0x4ad)]||[])['map']((_0x16ac3f,_0x54075a)=>'<li\x20class=\x22'+(_0x54075a===_0x16c311[_0x1365c2(0x791)]?_0x1365c2(0xe3e):'')+'\x22>'+_0x16ac3f+_0x1365c2(0xa20))[_0x1365c2(0x40a)]('')+_0x1365c2(0x922),_0x531028+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3b3d1c+'\x22>'+_0x16c311[_0x1365c2(0x29b)]+_0x1365c2(0x3c2);break;}_0x531028+=_0x1365c2(0x629);}),_0x531028+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x1ae5c2[_0x516338(0x1f9)]=_0x531028,document[_0x516338(0xe1c)](_0x516338(0x31f))[_0x516338(0x23a)](_0x32a9d5=>_0x32a9d5[_0x516338(0xbe5)](_0x516338(0xe61),handleEditQuestion)),document[_0x516338(0xe1c)](_0x516338(0x80a))[_0x516338(0x23a)](_0x210b9c=>_0x210b9c[_0x516338(0xbe5)](_0x516338(0xe61),handleRegenerateQuestion)),document[_0x516338(0x4ff)](_0x516338(0x9e0))[_0x516338(0xbe5)](_0x516338(0xe61),exportQuizAsWorksheetPDF),document[_0x516338(0x4ff)](_0x516338(0x3a1))[_0x516338(0xbe5)]('click',handleVerifyAnswers);const _0x3ced79=document[_0x516338(0x4ff)](_0x516338(0x39a));if(_0x3ced79){const _0x5c5d79=_0x5707e6||currentProjectId;_0x3ced79['addEventListener'](_0x516338(0xe61),()=>saveQuiz(_0x5c5d79,_0x5a7943));}if(window['MathJax'])window[_0x516338(0xb8c)][_0x516338(0xe28)]([_0x1ae5c2]);}function handleRegenerateQuestion(_0x2e3b6a){const _0x6c1563=_0x5ddd37,_0x236085=_0x2e3b6a[_0x6c1563(0xa11)][_0x6c1563(0x664)][_0x6c1563(0xdbf)],_0x2e7f6b=currentQuizData[_0x6c1563(0xe77)];showMessage(_0x6c1563(0x3df)+(parseInt(_0x236085)+0x1)+_0x6c1563(0x4be)),generateQuiz(_0x2e7f6b,null,parseInt(_0x236085));}function getPointerPosition(_0x59d55d,_0x30ac72){const _0x48185e=_0x5ddd37,_0x2e7874=_0x59d55d[_0x48185e(0xaf8)]();let _0x491561,_0x3748fc;return _0x30ac72['touches']&&_0x30ac72[_0x48185e(0x4f1)][_0x48185e(0x85b)]>0x0?(_0x491561=_0x30ac72['touches'][0x0][_0x48185e(0x22e)],_0x3748fc=_0x30ac72['touches'][0x0]['clientY']):(_0x491561=_0x30ac72[_0x48185e(0x22e)],_0x3748fc=_0x30ac72['clientY']),{'x':(_0x491561-_0x2e7874['e'])/_0x2e7874['a'],'y':(_0x3748fc-_0x2e7874['f'])/_0x2e7874['d']};}function startDrag(_0x2df455){const _0x5d756a=_0x5ddd37;_0x2df455[_0x5d756a(0x4f5)]===_0x5d756a(0x5ae)&&_0x2df455[_0x5d756a(0xcbd)]();const _0xab092e=_0x2df455[_0x5d756a(0x2b8)][_0x5d756a(0x7c4)]('.draggable-text');if(_0xab092e){draggedSvgElement=_0xab092e;const _0x35c7ba=draggedSvgElement['ownerSVGElement'],_0x5a07e0=getPointerPosition(_0x35c7ba,_0x2df455);svgOffset['x']=_0x5a07e0['x']-parseFloat(draggedSvgElement[_0x5d756a(0x8bb)](null,'x')),svgOffset['y']=_0x5a07e0['y']-parseFloat(draggedSvgElement[_0x5d756a(0x8bb)](null,'y'));}}function calculateItemAnalysis(_0x581798,_0xeb3edf){const _0x5f507e=_0x5ddd37,_0x40544d={};if(_0xeb3edf['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xdabc2c=[..._0xeb3edf][_0x5f507e(0x23c)]((_0x1c0b80,_0x5a8265)=>{const _0x360217=_0x5f507e,_0x479c55=_0x5a8265[_0x360217(0x3f1)]-_0x1c0b80[_0x360217(0x3f1)];if(_0x479c55!==0x0)return _0x479c55;const _0x58458e=_0x1c0b80['attempts']?.['length']||0x1,_0x243506=_0x5a8265[_0x360217(0x35e)]?.[_0x360217(0x85b)]||0x1,_0x2133a0=_0x58458e-_0x243506;if(_0x2133a0!==0x0)return _0x2133a0;const _0x16a46d=new Date(_0x1c0b80['latestSubmittedAt']),_0x184935=new Date(_0x5a8265[_0x360217(0x2c8)]),_0x37eb2a=_0x16a46d-_0x184935;if(_0x37eb2a!==0x0)return _0x37eb2a;return _0x1c0b80[_0x360217(0xc8f)]['localeCompare'](_0x5a8265[_0x360217(0xc8f)],'th');}),_0x1264ae=_0xdabc2c['length'],_0x12b631=Math['max'](0x1,Math[_0x5f507e(0x9f5)](_0x1264ae*0.33));if(_0x12b631===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4271a7=_0xdabc2c[_0x5f507e(0x507)](0x0,_0x12b631),_0x1b86c9=_0xdabc2c[_0x5f507e(0x507)](-_0x12b631),_0x18befe=_0x4271a7['map'](_0x4c74a4=>_0x4c74a4[_0x5f507e(0xc8f)]),_0x3aeb70=_0x1b86c9[_0x5f507e(0xa25)](_0x43ee51=>_0x43ee51[_0x5f507e(0xc8f)]);return _0x581798['questions'][_0x5f507e(0x23a)]((_0x178ec7,_0x5292db)=>{const _0x4c15e5=_0x5f507e,_0x299c12=_0x178ec7['stem']||_0x178ec7[_0x4c15e5(0xb93)];let _0x17ffb7=0x0,_0x157d40=0x0,_0x47f393=0x0;const _0x4cae90=[],_0x3f0445=[];_0x4271a7[_0x4c15e5(0x23a)](_0x2810eb=>{const _0x447147=_0x4c15e5,_0x230844=_0x2810eb[_0x447147(0x35e)][_0x2810eb[_0x447147(0x35e)][_0x447147(0x85b)]-0x1],_0x2c0509=_0x230844[_0x447147(0xc7d)][_0x447147(0xe0f)](_0xdfdd37=>_0xdfdd37[_0x447147(0xa30)]===_0x299c12);_0x4cae90[_0x447147(0xb2a)]({'name':_0x2810eb[_0x447147(0xc8f)],'isCorrect':_0x2c0509?_0x2c0509[_0x447147(0x624)]:![]}),_0x2c0509&&_0x2c0509[_0x447147(0x624)]&&_0x157d40++;}),_0x1b86c9[_0x4c15e5(0x23a)](_0x2d87f0=>{const _0x1c2a29=_0x4c15e5,_0x5c9a22=_0x2d87f0[_0x1c2a29(0x35e)][_0x2d87f0[_0x1c2a29(0x35e)][_0x1c2a29(0x85b)]-0x1],_0x3078d1=_0x5c9a22[_0x1c2a29(0xc7d)]['find'](_0x21f4d5=>_0x21f4d5[_0x1c2a29(0xa30)]===_0x299c12);_0x3f0445[_0x1c2a29(0xb2a)]({'name':_0x2d87f0['studentName'],'isCorrect':_0x3078d1?_0x3078d1['isCorrect']:![]}),_0x3078d1&&_0x3078d1[_0x1c2a29(0x624)]&&_0x47f393++;}),_0xeb3edf[_0x4c15e5(0x23a)](_0x18301c=>{const _0x4b06d3=_0x4c15e5,_0x76bacd=_0x18301c[_0x4b06d3(0x35e)][_0x18301c['attempts'][_0x4b06d3(0x85b)]-0x1],_0x13ac20=_0x76bacd[_0x4b06d3(0xc7d)][_0x4b06d3(0xe0f)](_0x48162c=>_0x48162c[_0x4b06d3(0xa30)]===_0x299c12);_0x13ac20&&_0x13ac20['isCorrect']&&_0x17ffb7++;});const _0x4ef1ea=_0x1264ae>0x0?_0x17ffb7/_0x1264ae:0x0,_0x2a370d=_0x12b631>0x0?_0x157d40/_0x12b631-_0x47f393/_0x12b631:0x0;_0x40544d[_0x5292db]={'p':_0x4ef1ea,'r':_0x2a370d,'upperGroupResponders':_0x4cae90,'lowerGroupResponders':_0x3f0445};}),{'perQuestionStats':_0x40544d,'overallGroups':{'upperGroupNames':_0x18befe,'lowerGroupNames':_0x3aeb70}};}function drag(_0x189c7a){const _0x39727f=_0x5ddd37;if(draggedSvgElement){_0x189c7a['preventDefault']();const _0x4228b4=draggedSvgElement['ownerSVGElement'],_0x390434=getPointerPosition(_0x4228b4,_0x189c7a),_0x3574bb=_0x4228b4['viewBox'][_0x39727f(0xc92)];let _0x3ff464=_0x390434['x']-svgOffset['x'],_0x245ba4=_0x390434['y']-svgOffset['y'];const _0x3e3ea4=draggedSvgElement[_0x39727f(0x48a)]();_0x3ff464=Math[_0x39727f(0xa87)](_0x3574bb['x'],Math['min'](_0x3ff464,_0x3574bb['x']+_0x3574bb[_0x39727f(0x248)]-_0x3e3ea4[_0x39727f(0x248)])),_0x245ba4=Math['max'](_0x3574bb['y'],Math['min'](_0x245ba4,_0x3574bb['y']+_0x3574bb[_0x39727f(0xd12)]-_0x3e3ea4[_0x39727f(0xd12)])),draggedSvgElement[_0x39727f(0x8f7)](null,'x',_0x3ff464),draggedSvgElement[_0x39727f(0x8f7)](null,'y',_0x245ba4);}}function endDrag(_0xac0399){draggedSvgElement=null;}function handleSvgEditClick(_0x4f0fda){const _0x47e169=_0x5ddd37;if(_0x4f0fda[_0x47e169(0x2b8)][_0x47e169(0xc2e)][_0x47e169(0x995)]('delete-svg-btn')){const _0x3c7651=_0x4f0fda['target'][_0x47e169(0x664)][_0x47e169(0x773)],_0x29418a=_0x4f0fda[_0x47e169(0xa11)],_0x5e8e81=_0x29418a['querySelector']('#'+_0x3c7651);_0x5e8e81&&_0x5e8e81[_0x47e169(0x716)](),_0x4f0fda[_0x47e169(0x2b8)]['remove']();}}function handleEditQuestion(_0x2a2957){const _0x1237fc=_0x5ddd37,_0x11feee=_0x2a2957[_0x1237fc(0xa11)],_0x16e2d4=_0x11feee[_0x1237fc(0x664)][_0x1237fc(0xdbf)],_0x2e1221=currentQuizData['questions'][_0x16e2d4],_0x1fa477=document['getElementById'](_0x1237fc(0x9e9)+_0x16e2d4),_0x3e72af=document[_0x1237fc(0x4ff)](_0x1237fc(0xe4e)+_0x16e2d4),_0x3f5871=document[_0x1237fc(0x4ff)](_0x1237fc(0xa33)+_0x16e2d4);if(_0x11feee['innerHTML'][_0x1237fc(0xdf4)]('fa-pen')){_0x11feee['innerHTML']=_0x1237fc(0xd3b),_0x11feee[_0x1237fc(0x9c5)]=_0x1237fc(0x7ca);if(_0x1fa477)_0x1fa477[_0x1237fc(0x29a)]=!![];if(_0x3e72af)_0x3e72af['contentEditable']=!![];if(_0x3f5871){const _0x1fa49b=_0x3f5871[_0x1237fc(0xee9)](_0x1237fc(0xecd));if(_0x1fa49b){const _0xdb6a24=_0x1fa49b[_0x1237fc(0xe1c)]('text');_0xdb6a24['forEach']((_0x494c07,_0x24b5fb)=>{const _0x212ae5=_0x1237fc,_0x20e588=_0x212ae5(0x95a)+_0x16e2d4+'-'+_0x24b5fb;_0x494c07['id']=_0x20e588,_0x494c07[_0x212ae5(0xc2e)][_0x212ae5(0xee4)]('draggable-text'),_0x494c07[_0x212ae5(0x8c6)][_0x212ae5(0x9d8)]=_0x212ae5(0x725);const _0x1262b4=document[_0x212ae5(0xbcb)]('http://www.w3.org/2000/svg','circle'),_0x585556=_0x494c07[_0x212ae5(0x48a)]();_0x1262b4[_0x212ae5(0x23b)]('cx',String(_0x585556['x']+_0x585556['width']+0x5)),_0x1262b4['setAttribute']('cy',String(_0x585556['y']+_0x585556[_0x212ae5(0xd12)]/0x2-0x5)),_0x1262b4['setAttribute']('r','5'),_0x1262b4[_0x212ae5(0x23b)](_0x212ae5(0x9ad),_0x212ae5(0xc27)),_0x1262b4[_0x212ae5(0x23b)](_0x212ae5(0x6a9),_0x212ae5(0x459)),_0x1262b4[_0x212ae5(0x664)][_0x212ae5(0x773)]=_0x20e588,_0x494c07[_0x212ae5(0x790)](_0x1262b4);}),_0x1fa49b[_0x1237fc(0xbe5)](_0x1237fc(0xa24),startDrag),_0x1fa49b[_0x1237fc(0xbe5)]('mousemove',drag),_0x1fa49b[_0x1237fc(0xbe5)]('mouseup',endDrag),_0x1fa49b[_0x1237fc(0xbe5)](_0x1237fc(0x347),endDrag),_0x1fa49b['addEventListener']('touchstart',startDrag,{'passive':![]}),_0x1fa49b[_0x1237fc(0xbe5)](_0x1237fc(0x95c),drag,{'passive':![]}),_0x1fa49b[_0x1237fc(0xbe5)](_0x1237fc(0x403),endDrag),_0x1fa49b['addEventListener'](_0x1237fc(0xe97),endDrag),_0x1fa49b[_0x1237fc(0xbe5)](_0x1237fc(0xe61),handleSvgEditClick);}}if(_0x1fa477)_0x1fa477['focus']();}else{_0x11feee[_0x1237fc(0x1f9)]=_0x1237fc(0x2a9),_0x11feee[_0x1237fc(0x9c5)]=_0x1237fc(0x33a);if(_0x1fa477){_0x1fa477['contentEditable']=![];const _0x2c2172=_0x2e1221[_0x1237fc(0x278)]||currentQuizData['quizType'];_0x2c2172===_0x1237fc(0x867)?_0x2e1221['stem']=_0x1fa477[_0x1237fc(0x8ce)][_0x1237fc(0xc6c)](_0x1fa477[_0x1237fc(0x8ce)][_0x1237fc(0x343)]('.')+0x2)[_0x1237fc(0x26c)]():_0x2e1221[_0x1237fc(0xb93)]=_0x1fa477[_0x1237fc(0x8ce)][_0x1237fc(0xc6c)](_0x1fa477[_0x1237fc(0x8ce)][_0x1237fc(0x343)]('.')+0x2)['trim']();}_0x3e72af&&(_0x3e72af[_0x1237fc(0x29a)]=![],_0x2e1221['explanation']=_0x3e72af[_0x1237fc(0x8ce)]);if(_0x3f5871){const _0x31a7ab=_0x3f5871[_0x1237fc(0xee9)](_0x1237fc(0xecd));if(_0x31a7ab){const _0x215d71=_0x31a7ab[_0x1237fc(0xdc7)](!![]);_0x215d71['querySelectorAll'](_0x1237fc(0xdc9))['forEach'](_0x51cfaf=>_0x51cfaf[_0x1237fc(0x716)]()),_0x215d71[_0x1237fc(0xe1c)](_0x1237fc(0xc7a))[_0x1237fc(0x23a)](_0x169b8d=>{const _0x4ad93b=_0x1237fc;_0x169b8d['classList']['remove']('draggable-text'),_0x169b8d[_0x4ad93b(0x8c6)][_0x4ad93b(0x9d8)]='default',_0x169b8d['removeAttribute']('id');}),_0x2e1221[_0x1237fc(0xa18)]=_0x215d71[_0x1237fc(0x37f)],_0x31a7ab[_0x1237fc(0x442)](_0x1237fc(0xa24),startDrag),_0x31a7ab['removeEventListener'](_0x1237fc(0x34d),drag),_0x31a7ab[_0x1237fc(0x442)](_0x1237fc(0xe58),endDrag),_0x31a7ab[_0x1237fc(0x442)](_0x1237fc(0x347),endDrag),_0x31a7ab[_0x1237fc(0x442)](_0x1237fc(0x5ae),startDrag),_0x31a7ab[_0x1237fc(0x442)](_0x1237fc(0x95c),drag),_0x31a7ab[_0x1237fc(0x442)](_0x1237fc(0x403),endDrag),_0x31a7ab['removeEventListener'](_0x1237fc(0xe97),endDrag),_0x31a7ab[_0x1237fc(0x442)](_0x1237fc(0xe61),handleSvgEditClick),_0x31a7ab['querySelectorAll'](_0x1237fc(0xdc9))['forEach'](_0x22cc92=>_0x22cc92[_0x1237fc(0x716)]()),_0x31a7ab[_0x1237fc(0xe1c)](_0x1237fc(0xc7a))[_0x1237fc(0x23a)](_0x1533ac=>{const _0x1c16dd=_0x1237fc;_0x1533ac[_0x1c16dd(0xc2e)][_0x1c16dd(0x716)](_0x1c16dd(0xc78)),_0x1533ac[_0x1c16dd(0x8c6)][_0x1c16dd(0x9d8)]=_0x1c16dd(0x499);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x14d11a){const _0x1e6e17=_0x5ddd37,_0x3a599a=document['getElementById'](_0x1e6e17(0x3cf)),_0x51701c=document[_0x1e6e17(0x4ff)](_0x1e6e17(0x704));_0x51701c[_0x1e6e17(0x1f9)]=_0x1e6e17(0x811),_0x3a599a['classList'][_0x1e6e17(0x716)](_0x1e6e17(0xc89));try{const _0x5e340c=doc(db,_0x1e6e17(0x8a6)+appId+_0x1e6e17(0xad5),_0x14d11a),_0x261ce9=await getDoc(_0x5e340c);if(!_0x261ce9['exists']())throw new Error(_0x1e6e17(0x9a7));currentEditingQuizData={'id':_0x14d11a,..._0x261ce9[_0x1e6e17(0xef5)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1c3d99){console[_0x1e6e17(0x34c)](_0x1e6e17(0xcd6),_0x1c3d99),showMessage(_0x1e6e17(0xf08)),_0x3a599a['classList'][_0x1e6e17(0xee4)](_0x1e6e17(0xc89));}}function renderQuizEditor(_0x2b055a){const _0x11c402=_0x5ddd37;document['getElementById'](_0x11c402(0xbf1))[_0x11c402(0x717)]=_0x2b055a['topic'];const _0x54f713=document[_0x11c402(0x4ff)](_0x11c402(0x704));let _0x41c695=_0x2b055a[_0x11c402(0x7f9)][_0x11c402(0xa25)]((_0x31844f,_0x50740e)=>{const _0x529348=_0x11c402;let _0x583a2f='';const _0x44247e=_0x31844f[_0x529348(0x278)]||_0x2b055a[_0x529348(0xa9d)];switch(_0x44247e){case _0x529348(0xf0e):const _0x66870b=(_0x31844f[_0x529348(0x4ad)]||[])[_0x529348(0xa25)]((_0x23ea3f,_0x250436)=>_0x529348(0xd2c)+_0x50740e+_0x529348(0x8e5)+_0x250436+'\x22\x20'+(_0x250436===_0x31844f[_0x529348(0x791)]?_0x529348(0x749):'')+_0x529348(0x4eb)+_0x23ea3f+_0x529348(0xa94))['join']('');_0x583a2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x66870b+_0x529348(0xec4);break;case _0x529348(0x3d7):_0x583a2f=_0x529348(0x815)+(_0x31844f[_0x529348(0x3e2)]||'')+_0x529348(0x6b0);break;case'true_false':_0x583a2f=_0x529348(0xbe3)+_0x50740e+'\x22\x20value=\x22true\x22\x20'+(_0x31844f[_0x529348(0x98f)]===!![]?_0x529348(0x749):'')+_0x529348(0x677)+_0x50740e+_0x529348(0x2b4)+(_0x31844f[_0x529348(0x98f)]===![]?_0x529348(0x749):'')+_0x529348(0xc5c);break;case _0x529348(0x867):_0x583a2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x31844f[_0x529348(0xcd9)]||'')+_0x529348(0xca3);break;}let _0xa32cca=_0x31844f[_0x529348(0xb93)]||_0x31844f[_0x529348(0x692)]||'';return _0xa32cca=_0xa32cca[_0x529348(0x701)](/<br\s*\/?>/gi,'\x0a'),_0x529348(0x754)+_0x50740e+_0x529348(0xd13)+_0x44247e+_0x529348(0x5ed)+(_0x50740e+0x1)+'\x20('+_0x44247e+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0xa32cca+_0x529348(0x562)+_0x583a2f+_0x529348(0x6d9);})[_0x11c402(0x40a)]('');_0x54f713[_0x11c402(0x1f9)]=_0x41c695;const _0x4e5f4b=_0x11c402(0xed9);_0x54f713[_0x11c402(0xa8f)](_0x11c402(0xc79),_0x4e5f4b),_0x54f713['querySelectorAll'](_0x11c402(0xdb2))[_0x11c402(0x23a)](_0xab77c6=>{const _0x2e261d=_0x11c402;_0xab77c6['style'][_0x2e261d(0xaaf)]=_0x2e261d(0xc89),_0xab77c6[_0x2e261d(0x8c6)][_0x2e261d(0x616)]=_0x2e261d(0xad6),_0xab77c6['rows']=0x4;const _0x48edcb=()=>{const _0x9576b=_0x2e261d;_0xab77c6[_0x9576b(0x8c6)][_0x9576b(0xd12)]=_0x9576b(0xc30),_0xab77c6[_0x9576b(0x8c6)][_0x9576b(0xd12)]=_0xab77c6['scrollHeight']+'px';};_0xab77c6[_0x2e261d(0xbe5)](_0x2e261d(0xeb6),_0x48edcb),_0x48edcb();}),_0x54f713[_0x11c402(0xe1c)]('.ai-fix-question-btn')['forEach'](_0x50eec6=>{const _0x45d7d5=_0x11c402;_0x50eec6[_0x45d7d5(0xbe5)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x4860c0){const _0x59de9b=_0x5ddd37;if(!currentEditingQuizData||!currentEditingQuizData[_0x59de9b(0x7f9)][_0x4860c0])return;const _0x361e04=currentEditingQuizData['questions'][_0x4860c0][_0x59de9b(0xb93)]||currentEditingQuizData[_0x59de9b(0x7f9)][_0x4860c0][_0x59de9b(0x692)];showConfirmation(_0x59de9b(0x9c9)+(_0x4860c0+0x1)+_0x59de9b(0xabd)+_0x361e04[_0x59de9b(0xc6c)](0x0,0x14)+_0x59de9b(0xde5),()=>{const _0x360868=_0x59de9b;currentEditingQuizData[_0x360868(0x7f9)][_0x360868(0xa38)](_0x4860c0,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x360868(0x914));});}function handleAddQuestionInEditor(){const _0x54f5b3=_0x5ddd37;if(!currentEditingQuizData)return;const _0x59a444={'id':'q_'+Date[_0x54f5b3(0x599)]()+_0x54f5b3(0xc6f),'questionType':'multiple_choice','questionText':'---\x20[คำถามใหม่]\x20---','options':['ตัวเลือก\x20ก',_0x54f5b3(0x718),_0x54f5b3(0xcb7),_0x54f5b3(0xbbe)],'correctAnswerIndex':0x0,'explanation':_0x54f5b3(0xcbc)};currentEditingQuizData['questions'][_0x54f5b3(0xb2a)](_0x59a444),renderQuizEditor(currentEditingQuizData);const _0x337c97=document['querySelector'](_0x54f5b3(0x8db));_0x337c97&&(_0x337c97['scrollIntoView']({'behavior':'smooth','block':_0x54f5b3(0xc72)}),_0x337c97['querySelector'](_0x54f5b3(0x586))[_0x54f5b3(0x7ff)]());}async function handleAiFixQuestion(_0x69d37){const _0x230559=_0x5ddd37,_0x60eecc=_0x69d37[_0x230559(0xa11)],_0xbfd3af=_0x60eecc[_0x230559(0x7c4)](_0x230559(0xf07));if(!_0xbfd3af)return;const _0x328a27=parseInt(_0xbfd3af['dataset'][_0x230559(0x46c)],0xa);if(isNaN(_0x328a27)||!currentEditingQuizData[_0x230559(0x7f9)][_0x328a27]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x2c4977=currentEditingQuizData['questions'][_0x328a27];_0x60eecc[_0x230559(0x1f9)]=_0x230559(0x871),_0x60eecc[_0x230559(0x206)]=!![];const _0x2d6b7a=_0x230559(0xefd)+JSON[_0x230559(0xe5a)](_0x2c4977)+_0x230559(0x670);let _0x20fced;const _0x36c941=_0x2c4977['questionType']||currentEditingQuizData['quizType'];switch(_0x36c941){case _0x230559(0x3d7):_0x20fced={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x230559(0xa74)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x230559(0xb93),_0x230559(0x3e2),'explanation']};break;case _0x230559(0xf0e):default:_0x20fced={'type':_0x230559(0x3d9),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x230559(0x26d),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x230559(0xd03)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x230559(0xa74)}},'required':[_0x230559(0xb93),_0x230559(0x4ad),_0x230559(0x791),_0x230559(0x29b)]};break;}try{let _0x395925=await callAnalysisApi(_0x2d6b7a,_0x20fced);_0x395925['options']&&Array[_0x230559(0x25a)](_0x395925['options'])&&(_0x395925[_0x230559(0x4ad)]=_0x395925[_0x230559(0x4ad)][_0x230559(0xa25)](_0x49bd99=>typeof _0x49bd99==='string'?_0x49bd99[_0x230559(0x701)](/S(\s*[\d_]+?\s*)S/g,_0x230559(0x8cc)):_0x49bd99)),_0x2c4977[_0x230559(0xa18)]&&_0x2c4977[_0x230559(0xa18)][_0x230559(0xdf4)](_0x230559(0xc9a))&&(_0x395925[_0x230559(0xa18)]=''),currentEditingQuizData['questions'][_0x328a27]={..._0x2c4977,..._0x395925},renderQuizEditor(currentEditingQuizData),showMessage(_0x230559(0xc54));}catch(_0x3fd0d8){console['error'](_0x230559(0x538),_0x3fd0d8),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x226058=_0x5ddd37,_0x5015ae=document['getElementById'](_0x226058(0x32e));_0x5015ae[_0x226058(0x206)]=!![],_0x5015ae[_0x226058(0x1f9)]=_0x226058(0x775);try{const _0x9a1f23=document[_0x226058(0x4ff)](_0x226058(0xbf1))[_0x226058(0x717)],_0xd2287e=document['querySelectorAll'](_0x226058(0xf07));let _0x1bf58c=[];const _0x4472ba=Array['from'](_0xd2287e)[_0x226058(0xa25)]((_0x40b494,_0x55ef59)=>{const _0x4ae787=_0x226058,_0x4c0ac2=_0x40b494['dataset']['qType'],_0x598283=_0x40b494[_0x4ae787(0xee9)]('textarea')[_0x4ae787(0x717)][_0x4ae787(0x701)](/\n/g,_0x4ae787(0x471));let _0xdc9261={'questionType':_0x4c0ac2};const _0x5e997d=currentEditingQuizData[_0x4ae787(0x7f9)][_0x55ef59];switch(_0x4c0ac2){case _0x4ae787(0xf0e):_0xdc9261[_0x4ae787(0xb93)]=_0x598283;const _0x527c59=_0x40b494[_0x4ae787(0xe1c)]('input[type=\x22text\x22]');_0xdc9261['options']=Array[_0x4ae787(0x8ed)](_0x527c59)[_0x4ae787(0xa25)](_0x2e9c6d=>_0x2e9c6d['value']);const _0x2c57d4=_0x40b494[_0x4ae787(0xee9)]('input[type=\x22radio\x22]:checked');_0xdc9261[_0x4ae787(0x791)]=_0x2c57d4?parseInt(_0x2c57d4[_0x4ae787(0x717)]):0x0;break;case _0x4ae787(0x3d7):_0xdc9261[_0x4ae787(0xb93)]=_0x598283,_0xdc9261[_0x4ae787(0x3e2)]=_0x40b494[_0x4ae787(0xee9)](_0x4ae787(0x8e8))[_0x4ae787(0x717)];break;case _0x4ae787(0xed0):_0xdc9261['questionText']=_0x598283;const _0x30610f=_0x40b494['querySelector']('input[type=\x22radio\x22]:checked');_0xdc9261[_0x4ae787(0x98f)]=_0x30610f?_0x30610f[_0x4ae787(0x717)]===_0x4ae787(0x394):!![];break;case _0x4ae787(0x867):_0xdc9261['stem']=_0x598283;const _0x855aa8=_0x40b494[_0x4ae787(0xee9)](_0x4ae787(0xaa2));_0xdc9261[_0x4ae787(0xcd9)]=_0x855aa8?_0x855aa8[_0x4ae787(0x717)]:'',_0x1bf58c[_0x4ae787(0xb2a)](_0xdc9261[_0x4ae787(0xcd9)]);break;default:_0xdc9261[_0x4ae787(0xb93)]=_0x598283;break;}return{..._0x5e997d,..._0xdc9261};});_0x1bf58c['length']>0x0&&_0x4472ba[_0x226058(0x23a)](_0x34719f=>{const _0xf4d63f=_0x226058;_0x34719f[_0xf4d63f(0x278)]===_0xf4d63f(0x867)&&(_0x34719f[_0xf4d63f(0x20b)]=_0x1bf58c);});const _0x159a8f=currentEditingQuizData['id'],_0x2a78bd=doc(db,'artifacts/'+appId+_0x226058(0xad5),_0x159a8f);await updateDoc(_0x2a78bd,{'topic':_0x9a1f23,'questions':_0x4472ba}),document[_0x226058(0x4ff)](_0x226058(0x3cf))[_0x226058(0xc2e)][_0x226058(0xee4)](_0x226058(0xc89)),showMessage(_0x226058(0x8a5),()=>initiateReGradeProcess(_0x159a8f));}catch(_0x3ca2b2){console[_0x226058(0x34c)](_0x226058(0x42a),_0x3ca2b2),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x5015ae[_0x226058(0x206)]=![],_0x5015ae['innerHTML']=_0x226058(0x6d0);}}async function initiateReGradeProcess(_0x33d4fa){const _0x385914=_0x5ddd37;showMessage(_0x385914(0x41a));try{const _0x495dc5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x33d4fa),_0x314956=await getDoc(_0x495dc5);if(!_0x314956[_0x385914(0x8d2)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x3e271e={'id':_0x33d4fa,..._0x314956[_0x385914(0xef5)]()},_0x334f95=collection(db,_0x385914(0x8a6)+appId+_0x385914(0xad5),_0x33d4fa,'submissions'),_0x28b5eb=await getDocs(_0x334f95);if(_0x28b5eb[_0x385914(0xb18)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x56da9c=_0x28b5eb['docs'][_0x385914(0xa25)](_0x4eb053=>reGradeSingleSubmission(_0x4eb053,_0x3e271e));await Promise[_0x385914(0xa6b)](_0x56da9c);if(_0x3e271e['projectId']){const _0x159831=doc(db,_0x385914(0x8a6)+appId+_0x385914(0x8c1),_0x3e271e[_0x385914(0x44e)]),_0x2750e5=await getDoc(_0x159831);if(_0x2750e5[_0x385914(0x8d2)]()&&_0x2750e5[_0x385914(0xef5)]()[_0x385914(0x28a)]){const _0x22d77f=_0x2750e5[_0x385914(0xef5)]()[_0x385914(0x28a)][_0x385914(0xa25)](_0x355244=>updateStudentProfile(_0x3e271e['projectId'],_0x355244));await Promise['all'](_0x22d77f);}}showMessage(_0x385914(0x296)+_0x28b5eb[_0x385914(0x59a)]+_0x385914(0xb68));}catch(_0x51b326){console[_0x385914(0x34c)](_0x385914(0x460),_0x51b326),showMessage(_0x385914(0x228)+_0x51b326[_0x385914(0x541)]);}}async function reGradeSingleSubmission(_0x357a47,_0xbffb22){const _0x5d3af6=_0x5ddd37,_0x5d713f=_0x357a47['data'](),_0x52882e=_0x5d713f[_0x5d3af6(0xc8f)],_0x5f1086=_0x5d713f[_0x5d3af6(0x35e)]||[],_0x58248d=[];for(const _0x14d997 of _0x5f1086){let _0x1f49d2=0x0,_0x540411=[],_0x9872d3=0x0;const _0x361ab3=[];for(const _0x1c6538 of _0x14d997[_0x5d3af6(0xc7d)]){let _0x72aecc;_0x1c6538[_0x5d3af6(0xa7b)]&&(_0x72aecc=_0xbffb22['questions'][_0x5d3af6(0xe0f)](_0x43eae5=>_0x43eae5['id']===_0x1c6538[_0x5d3af6(0xa7b)]));!_0x72aecc&&_0x1c6538[_0x5d3af6(0xa30)]&&(_0x72aecc=_0xbffb22[_0x5d3af6(0x7f9)][_0x5d3af6(0xe0f)](_0x3dbfff=>(_0x3dbfff[_0x5d3af6(0x692)]||_0x3dbfff[_0x5d3af6(0xb93)])===_0x1c6538[_0x5d3af6(0xa30)]));let _0x5ece21=![];if(_0x72aecc){const _0x667e8c=_0x72aecc[_0x5d3af6(0x278)]||_0xbffb22[_0x5d3af6(0xa9d)];switch(_0x667e8c){case _0x5d3af6(0xf0e):if(_0x72aecc[_0x5d3af6(0x4ad)]&&_0x72aecc['correctAnswerIndex']<_0x72aecc['options'][_0x5d3af6(0x85b)]){const _0x104971=_0x72aecc[_0x5d3af6(0x4ad)][_0x72aecc['correctAnswerIndex']];_0x5ece21=_0x1c6538[_0x5d3af6(0xda9)]===_0x104971;}break;case _0x5d3af6(0xed0):const _0x40f0a1=_0x1c6538['answer']===!![]||_0x1c6538[_0x5d3af6(0x641)]==='true';_0x5ece21=_0x40f0a1===_0x72aecc['correctAnswer'];break;case _0x5d3af6(0x867):_0x5ece21=_0x1c6538[_0x5d3af6(0x641)]===_0x72aecc[_0x5d3af6(0xcd9)];break;case'short_answer':_0x5ece21=await gradeShortAnswer(_0x1c6538[_0x5d3af6(0x641)],_0x72aecc);break;default:_0x5ece21=_0x1c6538[_0x5d3af6(0x624)];break;}}if(_0x5ece21){_0x1f49d2++,_0x9872d3++;if(_0x9872d3===0x3)_0x540411['push'](BADGES[_0x5d3af6(0xa9c)]['id']);}else _0x9872d3=0x0;_0x361ab3[_0x5d3af6(0xb2a)]({..._0x1c6538,'isCorrect':_0x5ece21});}let _0x4ee9fc=0x0;const _0x4e8d06=_0x14d997[_0x5d3af6(0x66b)]===!![]||_0x14d997[_0x5d3af6(0x748)]>_0xbffb22[_0x5d3af6(0x7f9)][_0x5d3af6(0x85b)]*0x14;_0x4e8d06?_0x4ee9fc=_0x14d997[_0x5d3af6(0x748)]:(_0x4ee9fc=_0x1f49d2*0xa,_0x1f49d2===_0xbffb22[_0x5d3af6(0x7f9)][_0x5d3af6(0x85b)]&&(_0x4ee9fc+=0x32,_0x540411[_0x5d3af6(0xb2a)](BADGES['PERFECT_SCORE']['id']))),_0x58248d['push']({..._0x14d997,'score':_0x1f49d2,'points':_0x4ee9fc,'badges':Array[_0x5d3af6(0x8ed)](new Set(_0x540411)),'answers':_0x361ab3});}const _0x2cd4df=_0x58248d[_0x5d3af6(0x85b)]>0x0?_0x58248d[0x0][_0x5d3af6(0x6e9)]:0x0,_0x242be5=Math[_0x5d3af6(0xa87)](..._0x58248d[_0x5d3af6(0xa25)](_0x36221c=>_0x36221c[_0x5d3af6(0x6e9)])),_0x1d34e1=_0x58248d[_0x5d3af6(0x85b)]>0x0?_0x58248d[_0x58248d[_0x5d3af6(0x85b)]-0x1][_0x5d3af6(0x6e9)]:0x0,_0x31cdbb=_0x58248d[_0x5d3af6(0x85b)]>0x0?_0x58248d[_0x58248d[_0x5d3af6(0x85b)]-0x1]['points']:0x0,_0x4b9134=doc(db,'artifacts/'+appId+_0x5d3af6(0x1f4)+_0xbffb22['id']+_0x5d3af6(0xd9b),_0x52882e);await updateDoc(_0x4b9134,{'attempts':_0x58248d,'firstScore':_0x2cd4df,'bestScore':_0x242be5,'latestScore':_0x1d34e1,'points':_0x31cdbb});}function cleanupQuizOptions(_0x4bc6ca){const _0x5694aa=_0x5ddd37,_0x34434e=(_0x4aff60,_0x16ecd2)=>_0x16ecd2===0x0?_0x4aff60:_0x34434e(_0x16ecd2,_0x4aff60%_0x16ecd2),_0x16a5bf=_0x54da55=>{const _0x428587=_0x2785;if(typeof _0x54da55!==_0x428587(0xe22))return null;_0x54da55=_0x54da55['trim']();const _0x453937=_0x54da55[_0x428587(0x325)](/[ /]/)[_0x428587(0xd8d)](_0x258661=>_0x258661!=='');if(_0x453937[_0x428587(0x85b)]===0x3)return parseInt(_0x453937[0x0])+parseInt(_0x453937[0x1])/parseInt(_0x453937[0x2]);else{if(_0x453937[_0x428587(0x85b)]===0x2)return parseInt(_0x453937[0x0])/parseInt(_0x453937[0x1]);else{if(_0x453937[_0x428587(0x85b)]===0x1&&!isNaN(_0x453937[0x0]))return parseFloat(_0x453937[0x0]);}}return null;},_0x101b6a=_0x4209b1=>{const _0x5298bf=_0x2785;if(typeof _0x4209b1!==_0x5298bf(0xe22))return _0x4209b1;const _0x20b05d=_0x4209b1[_0x5298bf(0xc80)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x20b05d){const _0x57d764=parseInt(_0x20b05d[0x1]);let _0x2cebb8=parseInt(_0x20b05d[0x2]),_0x5a53e9=parseInt(_0x20b05d[0x3]);const _0x423495=_0x34434e(_0x2cebb8,_0x5a53e9);_0x2cebb8/=_0x423495,_0x5a53e9/=_0x423495;if(_0x5a53e9===0x1)return(_0x57d764+_0x2cebb8)[_0x5298bf(0xe66)]();return _0x57d764+'\x20'+_0x2cebb8+'/'+_0x5a53e9;}return _0x4209b1;};return _0x4bc6ca&&_0x4bc6ca[_0x5694aa(0x7f9)]&&_0x4bc6ca['questions']['forEach'](_0x5ba67f=>{const _0x17317c=_0x5694aa;if(_0x5ba67f[_0x17317c(0x278)]==='multiple_choice'&&_0x5ba67f[_0x17317c(0x4ad)]){const _0x4eabac=new Map(),_0x1254f8=_0x5ba67f['options'][_0x5ba67f[_0x17317c(0x791)]];_0x5ba67f['options'][_0x17317c(0x23a)](_0x387e6d=>{const _0x34b708=_0x17317c,_0x59a647=_0x101b6a(_0x387e6d),_0x57ccb2=_0x16a5bf(_0x59a647);_0x57ccb2!==null&&!_0x4eabac[_0x34b708(0xe06)](_0x57ccb2)&&_0x4eabac[_0x34b708(0x9c0)](_0x57ccb2,_0x59a647);}),_0x5ba67f['options']=Array['from'](_0x4eabac[_0x17317c(0x7ee)]());const _0xfe469d=_0x5ba67f['options'][_0x17317c(0xed5)](_0x2f5013=>_0x2f5013===_0x101b6a(_0x1254f8));_0x5ba67f[_0x17317c(0x791)]=_0xfe469d!==-0x1?_0xfe469d:0x0;}}),_0x4bc6ca;}function showGameStartConfirmationModal(_0x16ea6a,_0x58e76a,_0x45937c){const _0x569a85=_0x5ddd37,_0x4be68e=document['getElementById']('confirm-game-start-modal');document['getElementById']('game-start-modal-title')['textContent']=_0x569a85(0xc0c)+_0x45937c,document[_0x569a85(0x4ff)](_0x569a85(0x9b4))[_0x569a85(0x717)]=_0x16ea6a,document[_0x569a85(0x4ff)](_0x569a85(0x3f2))[_0x569a85(0x717)]=_0x58e76a,document[_0x569a85(0x4ff)](_0x569a85(0xae1))['checked']=!![];const _0x4b8cd6=document[_0x569a85(0x4ff)](_0x569a85(0xd9d)),_0x50c808=document[_0x569a85(0x4ff)](_0x569a85(0x4b0)),_0x269ffd=document['getElementById']('sync-timer-duration-container'),_0x4b8af6=document[_0x569a85(0x4ff)](_0x569a85(0x389)),_0x4e362d=document['getElementById'](_0x569a85(0x484));if(_0x58e76a===_0x569a85(0x3b7)){_0x4b8cd6['classList'][_0x569a85(0x716)]('hidden');const _0x2df928=_0x569a85(0xa1d);document['querySelector'](_0x569a85(0x752)+_0x2df928+'\x22]')[_0x569a85(0x749)]=!![];if(_0x4e362d)_0x4e362d['classList'][_0x569a85(0x716)](_0x569a85(0xc89));_0x50c808['checked']=!![],_0x269ffd[_0x569a85(0xc2e)]['remove'](_0x569a85(0xc89)),document[_0x569a85(0x4ff)]('sync-timer-duration-input')[_0x569a85(0x717)]=_0x569a85(0xd25),_0x4b8af6[_0x569a85(0xc2e)]['remove'](_0x569a85(0xc89)),document[_0x569a85(0x4ff)]('enable-black-market-checkbox')[_0x569a85(0x749)]=!![];}else{_0x4b8cd6[_0x569a85(0xc2e)][_0x569a85(0xee4)]('hidden');if(_0x4e362d)_0x4e362d['classList'][_0x569a85(0xee4)]('hidden');_0x50c808[_0x569a85(0x749)]=![],_0x269ffd[_0x569a85(0xc2e)][_0x569a85(0xee4)]('hidden'),_0x4b8af6[_0x569a85(0xc2e)][_0x569a85(0xee4)](_0x569a85(0xc89));}_0x4be68e[_0x569a85(0xc2e)][_0x569a85(0x716)](_0x569a85(0xc89));}async function saveGameResultsAsSubmissions(_0x3cdc12){const _0x1daf76=_0x5ddd37;if(_0x3cdc12['resultsSaved']){console['log'](_0x1daf76(0xda0));return;}console[_0x1daf76(0x674)](_0x1daf76(0x89e),_0x3cdc12);const _0x2b1bf6=_0x3cdc12['quizId'];let _0x2cc21e=[];if(_0x3cdc12[_0x1daf76(0xbd9)])_0x2cc21e=Object['entries'](_0x3cdc12[_0x1daf76(0xbd9)])[_0x1daf76(0xa25)](([_0x5bae01,_0x57ff15])=>({'name':_0x5bae01,..._0x57ff15}));else{if(_0x3cdc12[_0x1daf76(0x58a)])Object['values'](_0x3cdc12[_0x1daf76(0x58a)])[_0x1daf76(0x23a)](_0x539898=>{const _0x160713=_0x1daf76;_0x539898[_0x160713(0x707)][_0x160713(0x23a)](_0x50a458=>{const _0x2f57a1=_0x160713;_0x2cc21e[_0x2f57a1(0xb2a)]({'name':_0x50a458,'score':_0x539898[_0x2f57a1(0x6e9)],'answers':_0x539898[_0x2f57a1(0xc7d)]});});});else _0x3cdc12['responses']&&Object[_0x1daf76(0xc63)](_0x3cdc12[_0x1daf76(0xa14)])[_0x1daf76(0x23a)](([_0x3173c0,_0x265a13])=>{const _0x357b59=_0x1daf76;_0x2cc21e[_0x357b59(0xb2a)]({'name':_0x3173c0,..._0x265a13});});}if(_0x2cc21e[_0x1daf76(0x85b)]===0x0){console['warn'](_0x1daf76(0xd05));return;}const _0x45e389=_0x3cdc12['shuffledQuiz']?.[_0x1daf76(0x7f9)][_0x1daf76(0x85b)]||currentQuizData[_0x1daf76(0x7f9)][_0x1daf76(0x85b)],_0x11f823=writeBatch(db);for(const _0x900c8d of _0x2cc21e){const _0x4de6ae=doc(db,'artifacts/'+appId+_0x1daf76(0x1f4)+_0x2b1bf6+'/submissions',_0x900c8d[_0x1daf76(0xc44)]),_0xa5300a=(_0x900c8d[_0x1daf76(0xc7d)]||[])[_0x1daf76(0xd8d)](_0x387a05=>_0x387a05['isCorrect'])[_0x1daf76(0x85b)];let _0x2e7ece=_0x900c8d[_0x1daf76(0x939)]!==undefined?_0x900c8d[_0x1daf76(0x939)]:_0xa5300a,_0x976f78=_0x900c8d[_0x1daf76(0x614)]||[];_0xa5300a===_0x45e389&&_0x45e389>0x0&&(!_0x976f78['includes']('perfect_score')&&_0x976f78[_0x1daf76(0xb2a)](_0x1daf76(0x5da)));const _0x104c6f={'score':_0xa5300a,'points':_0x2e7ece,'badges':_0x976f78,'submittedAt':new Date()[_0x1daf76(0x4f9)](),'isSyncGame':!![],'answers':(_0x900c8d['answers']||[])[_0x1daf76(0xa25)](_0x3b2b10=>({'questionId':_0x3b2b10[_0x1daf76(0xa7b)],'answer':_0x3b2b10[_0x1daf76(0x641)],'answerText':_0x3b2b10[_0x1daf76(0xda9)],'isCorrect':_0x3b2b10['isCorrect'],'originalQuestionText':_0x3b2b10[_0x1daf76(0xa30)],'wasConfident':_0x3b2b10[_0x1daf76(0x3e8)],'powerupUsed':_0x3b2b10['powerupUsed']||null}))},_0x2b91e7=await getDoc(_0x4de6ae),_0x12aa66=_0x2b91e7[_0x1daf76(0x8d2)]()?_0x2b91e7[_0x1daf76(0xef5)]():{},_0x55c680=_0x12aa66[_0x1daf76(0x73f)]||0x0,_0xc19440=_0x12aa66[_0x1daf76(0x35e)]||[];_0xc19440[_0x1daf76(0x85b)]===0x0&&_0xa5300a===_0x45e389&&_0x45e389>0x0&&(!_0x104c6f[_0x1daf76(0x614)][_0x1daf76(0xdf4)](_0x1daf76(0x842))&&_0x104c6f['badges'][_0x1daf76(0xb2a)]('first_try_ace'));const _0x23d1a6={'studentName':_0x900c8d[_0x1daf76(0xc44)],'totalQuestions':_0x45e389,'attempts':arrayUnion(_0x104c6f),'latestScore':_0xa5300a,'points':_0x2e7ece,'latestSubmittedAt':_0x104c6f[_0x1daf76(0xc3e)],'bestScore':Math[_0x1daf76(0xa87)](_0x55c680,_0xa5300a),'firstScore':_0xc19440[_0x1daf76(0x85b)]===0x0?_0xa5300a:_0x12aa66[_0x1daf76(0x208)]||0x0};_0x11f823[_0x1daf76(0x9c0)](_0x4de6ae,_0x23d1a6,{'merge':!![]});}try{if(currentLiveGameId){const _0x1aaf07=doc(db,_0x1daf76(0x8a6)+appId+_0x1daf76(0x869),currentLiveGameId);_0x11f823['update'](_0x1aaf07,{'resultsSaved':!![]});}await _0x11f823[_0x1daf76(0x7b5)](),showMessage(_0x1daf76(0x972)+_0x2cc21e[_0x1daf76(0x85b)]+_0x1daf76(0xb3d));const _0x35ca13=_0x3cdc12['shuffledQuiz']?.['projectId']||currentQuizData?.[_0x1daf76(0x44e)]||currentProjectId;if(_0x35ca13){const _0x1552b0=[...new Set(_0x2cc21e[_0x1daf76(0xa25)](_0x1c4bf0=>_0x1c4bf0[_0x1daf76(0xc44)]))];for(const _0x3eedc1 of _0x1552b0){await updateStudentProfile(_0x35ca13,_0x3eedc1);}}}catch(_0x2a99c0){console[_0x1daf76(0x34c)](_0x1daf76(0x3a6),_0x2a99c0),showMessage(_0x1daf76(0x368));}}async function saveQuiz(_0x538745=null,_0x25ea64=null){const _0x1dc817=_0x5ddd37,_0xfc4905=_0x538745||currentProjectId;if(!_0xfc4905){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x1dc817(0xb88));return;}const _0x3e6024=document['getElementById'](_0x1dc817(0x39a));_0x3e6024[_0x1dc817(0x206)]=!![],_0x3e6024['innerHTML']=_0x1dc817(0x775);const _0x361522=document['getElementById'](_0x1dc817(0x9b5))[_0x1dc817(0x749)];let _0x4a308=document[_0x1dc817(0x4ff)]('editable-quiz-topic')[_0x1dc817(0x8ce)][_0x1dc817(0x26c)]();_0x361522&&!_0x4a308[_0x1dc817(0x64d)]('(ก่อนเรียน)')&&(_0x4a308=_0x1dc817(0x6b1)+_0x4a308);try{const _0x1fa6a5={'resultsDisplay':document[_0x1dc817(0x4ff)](_0x1dc817(0x724))[_0x1dc817(0x717)],'shuffle':document[_0x1dc817(0x4ff)]('shuffle-setting-select')[_0x1dc817(0x717)],'timerMode':document[_0x1dc817(0x4ff)](_0x1dc817(0xe69))[_0x1dc817(0x717)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x1dc817(0x4ff)]('passing-score-input')[_0x1dc817(0x717)])||0x0,'isAdaptive':document[_0x1dc817(0x4ff)](_0x1dc817(0xd6e))[_0x1dc817(0x749)],'loopUntilPass':document[_0x1dc817(0x4ff)]('loop-until-pass-checkbox')[_0x1dc817(0x749)]},_0x1e5837=(currentQuizData[_0x1dc817(0x7f9)]||[])[_0x1dc817(0xa25)]((_0x16d501,_0x5ece12)=>{const _0x5b1db1=_0x1dc817,_0x37b501=document['getElementById']('quiz-type-select')[_0x5b1db1(0x717)],_0x133fc7={'id':'q_'+Date[_0x5b1db1(0x599)]()+'_'+_0x5ece12,'questionText':_0x16d501[_0x5b1db1(0xb93)]||'','explanation':_0x16d501[_0x5b1db1(0x29b)]||_0x5b1db1(0x60a),'questionType':_0x16d501[_0x5b1db1(0x278)]||_0x37b501,'imageCode':_0x16d501[_0x5b1db1(0xa18)]||null};return(_0x133fc7['questionType']==='multiple_choice'||_0x133fc7[_0x5b1db1(0x278)]===_0x5b1db1(0x595)||_0x133fc7[_0x5b1db1(0x278)]===_0x5b1db1(0xa5d)&&_0x16d501['options'])&&(_0x133fc7[_0x5b1db1(0x4ad)]=_0x16d501[_0x5b1db1(0x4ad)]||[],_0x133fc7['correctAnswerIndex']=_0x16d501[_0x5b1db1(0x791)]!==undefined?_0x16d501[_0x5b1db1(0x791)]:0x0),(_0x133fc7['questionType']===_0x5b1db1(0x3d7)||_0x133fc7[_0x5b1db1(0x278)]===_0x5b1db1(0x75f)||_0x133fc7[_0x5b1db1(0x278)]==='mixed'&&_0x16d501[_0x5b1db1(0x3e2)])&&(_0x133fc7['idealAnswer']=_0x16d501[_0x5b1db1(0x3e2)]||''),_0x133fc7[_0x5b1db1(0x278)]==='true_false'&&(_0x133fc7[_0x5b1db1(0x98f)]=_0x16d501[_0x5b1db1(0x98f)]===!![]),_0x133fc7[_0x5b1db1(0x278)]==='matching_item'&&(_0x133fc7[_0x5b1db1(0x692)]=_0x16d501['stem']||'',_0x133fc7[_0x5b1db1(0xcd9)]=_0x16d501[_0x5b1db1(0xcd9)]||'',_0x133fc7[_0x5b1db1(0x20b)]=_0x16d501['allResponses']||[]),_0x133fc7;}),_0x1532a4={'topic':_0x4a308,'quizType':currentQuizData['quizType']||_0x1dc817(0xf0e),'questions':_0x1e5837,'projectId':_0xfc4905,'createdBy':userId,'createdAt':new Date()[_0x1dc817(0x4f9)](),'status':_0x1dc817(0x5de),'settings':_0x1fa6a5,'quizMode':_0x361522?'pre-test':_0x1dc817(0xa84),'pairedQuizId':null,'lessonPlan':null};let _0x26ea8c;while(!![]){_0x26ea8c=Math[_0x1dc817(0x9f5)](0x3e8+Math[_0x1dc817(0x21a)]()*0x2328)['toString']();const _0x45ea0f=await getDoc(doc(db,_0x1dc817(0x8a6)+appId+_0x1dc817(0xad5),_0x26ea8c));if(!_0x45ea0f[_0x1dc817(0x8d2)]())break;}await setDoc(doc(db,_0x1dc817(0x8a6)+appId+_0x1dc817(0xad5),_0x26ea8c),_0x1532a4);if(_0x25ea64&&currentBlueprintProjectId){console[_0x1dc817(0x674)]('Auto-linking\x20new\x20quiz\x20'+_0x26ea8c+_0x1dc817(0x88b)+_0x25ea64);try{const _0x49c5a4=doc(db,_0x1dc817(0x8a6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x49c5a4,{[_0x1dc817(0xe92)+_0x25ea64+'.linkedQuizIds']:arrayUnion(_0x26ea8c)});}catch(_0x2d8025){console[_0x1dc817(0x34c)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x2d8025);}}currentQuizData['settings']=_0x1fa6a5,currentQuizData['id']=_0x26ea8c;const _0x27cc55=document[_0x1dc817(0x4ff)](_0x1dc817(0xa6e));_0x27cc55['innerHTML']=_0x1dc817(0xd67)+_0x26ea8c+_0x1dc817(0xed8),document['getElementById'](_0x1dc817(0x8e4))[_0x1dc817(0xbe5)](_0x1dc817(0xe61),()=>copyTextToClipboard(_0x26ea8c,_0x1dc817(0xc04))),document[_0x1dc817(0x4ff)]('start-live-race-generated-btn')[_0x1dc817(0xbe5)](_0x1dc817(0xe61),()=>handleStartLiveRace(_0x26ea8c)),document['getElementById']('start-presentation-btn')[_0x1dc817(0xbe5)](_0x1dc817(0xe61),()=>startPresentation(currentQuizData)),document[_0x1dc817(0x4ff)](_0x1dc817(0xb7f))[_0x1dc817(0xbe5)](_0x1dc817(0xe61),startAdminTest),showMessage(_0x1dc817(0x971));}catch(_0x41cd87){console[_0x1dc817(0x34c)](_0x1dc817(0x328),_0x41cd87),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x3e6024[_0x1dc817(0x206)]=![],_0x3e6024[_0x1dc817(0x1f9)]=_0x1dc817(0xa53);}}function promptForProjectAndSave(){const _0x25d0b8=_0x5ddd37,_0x4b5f4c=document['getElementById'](_0x25d0b8(0xcfb)),_0x472fff=document[_0x25d0b8(0x4ff)](_0x25d0b8(0xddc)),_0x5a7879=_0x4b5f4c[_0x25d0b8(0xee9)]('h3'),_0x58a3d4=document['getElementById'](_0x25d0b8(0xbda));_0x5a7879[_0x25d0b8(0x602)]=_0x25d0b8(0xcd8),_0x58a3d4[_0x25d0b8(0x602)]=_0x25d0b8(0x567);allProjects[_0x25d0b8(0x85b)]===0x0?(_0x472fff['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x58a3d4['disabled']=!![]):(_0x472fff['innerHTML']=allProjects[_0x25d0b8(0xa25)](_0x554ef9=>_0x25d0b8(0x33e)+_0x554ef9['id']+'\x22>'+_0x554ef9[_0x25d0b8(0x981)]+_0x25d0b8(0x999))[_0x25d0b8(0x40a)](''),_0x58a3d4['disabled']=![]);_0x4b5f4c['classList'][_0x25d0b8(0x716)](_0x25d0b8(0xc89));const _0x3776e2=()=>{const _0x5733b1=_0x25d0b8,_0x18651b=_0x472fff[_0x5733b1(0x717)];_0x18651b?(currentProjectId=_0x18651b,_0x4b5f4c['classList'][_0x5733b1(0xee4)](_0x5733b1(0xc89)),saveQuiz(),_0x5a7879['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x58a3d4[_0x5733b1(0x602)]='ย้าย',_0x58a3d4[_0x5733b1(0x442)]('click',_0x3776e2),_0x58a3d4[_0x5733b1(0xbe5)](_0x5733b1(0xe61),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x58a3d4[_0x25d0b8(0x442)](_0x25d0b8(0xe61),confirmMoveQuiz),_0x58a3d4[_0x25d0b8(0xbe5)](_0x25d0b8(0xe61),_0x3776e2);}function copyTextToClipboard(_0x2b070a,_0x2a4932){const _0x5db0b2=_0x5ddd37,_0x2e525e=document[_0x5db0b2(0x23d)](_0x5db0b2(0x586));_0x2e525e['value']=_0x2b070a,_0x2e525e[_0x5db0b2(0x8c6)][_0x5db0b2(0x8d5)]=_0x5db0b2(0x82e),_0x2e525e[_0x5db0b2(0x8c6)][_0x5db0b2(0x8cd)]='0',document['body'][_0x5db0b2(0x4a7)](_0x2e525e),_0x2e525e['focus'](),_0x2e525e[_0x5db0b2(0x700)]();try{const _0x574c9d=document[_0x5db0b2(0x4d5)](_0x5db0b2(0x68c));showMessage(_0x574c9d?_0x2a4932:_0x5db0b2(0x27c));}catch(_0x5caa09){showMessage(_0x5db0b2(0x27c)),console[_0x5db0b2(0x34c)](_0x5db0b2(0x85e),_0x5caa09);}document[_0x5db0b2(0xe75)][_0x5db0b2(0x93e)](_0x2e525e);}function listenForProjectQuizzes(_0x577a80){const _0x171969=_0x5ddd37,_0x3eacca=collection(db,_0x171969(0x8a6)+appId+'/public/data/quizzes'),_0x2575f3=query(_0x3eacca,where(_0x171969(0x44e),'==',_0x577a80));unsubscribeQuizzesListener=onSnapshot(_0x2575f3,async _0x58016c=>{const _0x40fe73=_0x171969;allQuizzes=_0x58016c[_0x40fe73(0xb91)][_0x40fe73(0xa25)](_0x3ddd99=>({'id':_0x3ddd99['id'],..._0x3ddd99[_0x40fe73(0xef5)]()})),renderQuizzes();},_0x561868=>{const _0x112de8=_0x171969;console[_0x112de8(0x34c)](_0x112de8(0x966),_0x561868),document[_0x112de8(0x4ff)]('project-quizzes-list')[_0x112de8(0x1f9)]=_0x112de8(0x322);});}async function renderQuizzes(){const _0x5c0c6d=_0x5ddd37,_0x364b83=document[_0x5c0c6d(0x4ff)](_0x5c0c6d(0xa64)),_0xb59875=document['getElementById'](_0x5c0c6d(0xa63))[_0x5c0c6d(0x717)][_0x5c0c6d(0xbca)]();let _0x5a27bb;currentProjectId==='starred'?_0x5a27bb=starredQuizzes:_0x5a27bb=allQuizzes;let _0x687dcd=_0x5a27bb[_0x5c0c6d(0xd8d)](_0x7e17c6=>_0x7e17c6[_0x5c0c6d(0xe77)][_0x5c0c6d(0xbca)]()['includes'](_0xb59875));_0x687dcd[_0x5c0c6d(0x23c)]((_0x4281d2,_0x4f5e91)=>new Date(_0x4f5e91['createdAt'])-new Date(_0x4281d2[_0x5c0c6d(0xd98)]));if(_0x687dcd['length']===0x0){_0x364b83[_0x5c0c6d(0x1f9)]=_0x5c0c6d(0xdef);return;}const _0x3fe084={},_0x3b9b7d=_0x687dcd[_0x5c0c6d(0xa25)](async _0x53d2fc=>{const _0x5f057b=_0x5c0c6d,_0x7565f5=collection(db,_0x5f057b(0x8a6)+appId+_0x5f057b(0x1f4)+_0x53d2fc['id']+_0x5f057b(0xd9b)),_0x2dfb67=await getDocs(_0x7565f5);_0x3fe084[_0x53d2fc['id']]=_0x2dfb67['size'];});await Promise['all'](_0x3b9b7d);let _0x3276c7='';_0x687dcd[_0x5c0c6d(0x23a)](_0x3dd134=>{const _0x26e748=_0x5c0c6d,_0x85e348=_0x3fe084[_0x3dd134['id']]||0x0,_0x369767=_0x3dd134[_0x26e748(0x361)]||'active',_0x1ce55f=_0x3dd134['settings']?.['timerMode']||_0x26e748(0x527);let _0x53cd3a='',_0x50ca6e='';const _0x186361=new Date();let _0x12ffc2=_0x369767;if(_0x369767==='scheduled'){const _0x52cb2e=_0x3dd134[_0x26e748(0x82b)]?new Date(_0x3dd134[_0x26e748(0x82b)]):null,_0x458c37=_0x3dd134[_0x26e748(0xe3a)]?new Date(_0x3dd134[_0x26e748(0xe3a)]):null;if(_0x458c37&&_0x186361>_0x458c37)_0x12ffc2=_0x26e748(0x924);else _0x52cb2e&&_0x186361<_0x52cb2e?_0x12ffc2='scheduled_pending':_0x12ffc2=_0x26e748(0x5de);}switch(_0x12ffc2){case _0x26e748(0x924):_0x53cd3a=_0x26e748(0xdc1),_0x50ca6e=_0x26e748(0x382);break;case _0x26e748(0x78d):_0x53cd3a=_0x26e748(0x96c),_0x50ca6e=_0x26e748(0x292);break;case _0x26e748(0x5de):_0x53cd3a=_0x1ce55f!=='none'?'เปิด\x20(จับเวลา)':_0x26e748(0xce9),_0x50ca6e=_0x26e748(0x6b3);break;default:_0x53cd3a=_0x26e748(0x760),_0x50ca6e=_0x26e748(0x6b3);break;}let _0xa230f2='';const _0x360fa7={'day':_0x26e748(0x561),'month':_0x26e748(0x561),'year':_0x26e748(0x45f),'hour':_0x26e748(0x561),'minute':_0x26e748(0x561),'hour12':![]};if(_0x369767===_0x26e748(0xa77)){if(_0x3dd134[_0x26e748(0x82b)])_0xa230f2+=_0x26e748(0xa44)+new Date(_0x3dd134[_0x26e748(0x82b)])['toLocaleString'](_0x26e748(0x465),_0x360fa7)+_0x26e748(0x7d3);if(_0x3dd134['endTime'])_0xa230f2+=_0x26e748(0xb5c)+new Date(_0x3dd134[_0x26e748(0xe3a)])[_0x26e748(0xe83)](_0x26e748(0x465),_0x360fa7)+'</p>';}let _0x2724f4='';if(_0x3dd134[_0x26e748(0x723)]){const _0x4d0f26=allQuizzes[_0x26e748(0xe0f)](_0x3e4ecb=>_0x3e4ecb['id']===_0x3dd134[_0x26e748(0x723)]);if(_0x4d0f26){let _0x54b8ad,_0xb01a63;new Date(_0x3dd134[_0x26e748(0xd98)])<new Date(_0x4d0f26['createdAt'])?(_0x54b8ad=_0x3dd134['id'],_0xb01a63=_0x4d0f26['id']):(_0x54b8ad=_0x4d0f26['id'],_0xb01a63=_0x3dd134['id']),_0x2724f4+=_0x26e748(0x960)+_0xb01a63+_0x26e748(0x370)+_0x54b8ad+_0x26e748(0x25c);}}else _0x3dd134[_0x26e748(0x2f9)]===_0x26e748(0x909)&&(_0x2724f4+=_0x26e748(0xdfe)+_0x3dd134['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x3dd134[_0x26e748(0x2f9)]===_0x26e748(0x909)&&_0x85e348>0x0)_0x2724f4+=_0x26e748(0xdfe)+_0x3dd134['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x3dd134['pairedQuizId']&&_0x3dd134['quizMode']!==_0x26e748(0x909)&&_0x85e348>0x0&&(_0x2724f4+=_0x26e748(0xdfe)+_0x3dd134['id']+_0x26e748(0x5ef));let _0x31ccf2='';_0x3dd134['pairedQuizId']?_0x31ccf2=_0x26e748(0xb3f)+_0x3dd134['id']+_0x26e748(0xd1d):_0x31ccf2=_0x26e748(0xb3f)+_0x3dd134['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x3276c7+=_0x26e748(0x954)+_0x3dd134['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x3dd134[_0x26e748(0xe77)]+_0x26e748(0xccf)+_0x3dd134[_0x26e748(0x7f9)][_0x26e748(0x85b)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x3dd134[_0x26e748(0xd98)])[_0x26e748(0xe83)]('th-TH')+_0x26e748(0xdb7)+_0x85e348+_0x26e748(0xadc)+_0xa230f2+_0x26e748(0x79e)+_0x50ca6e+'\x22>'+_0x53cd3a+_0x26e748(0xb9e)+_0x3dd134['id']+_0x26e748(0xae4)+_0x3dd134['id']+_0x26e748(0xcd0)+(_0x3dd134['isStarred']?_0x26e748(0xac2):'far\x20fa-star')+_0x26e748(0x743)+_0x2724f4+_0x26e748(0x453)+_0x3dd134['id']+_0x26e748(0xbd1)+_0x3dd134['id']+_0x26e748(0x9e4)+_0x3dd134['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3dd134['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3dd134['id']+_0x26e748(0xc05)+_0x3dd134['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3dd134['id']+_0x26e748(0x7fb)+_0x3dd134[_0x26e748(0xe77)]+_0x26e748(0xef3)+_0x3dd134['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3dd134['id']+_0x26e748(0x371)+_0x31ccf2+_0x26e748(0x269)+_0x3dd134['id']+_0x26e748(0xaab)+_0x3dd134['id']+_0x26e748(0xcf0)+_0x3dd134['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3dd134['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3dd134['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3dd134['id']+_0x26e748(0xbbc)+_0x3dd134['id']+_0x26e748(0x505)+_0x3dd134['id']+_0x26e748(0x7fb)+_0x3dd134[_0x26e748(0xe77)]+_0x26e748(0xc3f)+_0x3dd134['id']+_0x26e748(0x615);}),_0x364b83[_0x5c0c6d(0x1f9)]=_0x3276c7,document[_0x5c0c6d(0xe1c)](_0x5c0c6d(0x751))['forEach'](_0x124166=>{const _0x11de9b=_0x5c0c6d;_0x124166[_0x11de9b(0xbe5)](_0x11de9b(0xe61),()=>{const _0x2f4b18=_0x11de9b,_0x2d43ae=_0x124166[_0x2f4b18(0x664)][_0x2f4b18(0x555)];showQuizDetailView(_0x2d43ae);});});}async function handleUnpairQuiz(_0x40e1e7){const _0x342719=_0x5ddd37,_0x326250=allQuizzes[_0x342719(0xe0f)](_0x417711=>_0x417711['id']===_0x40e1e7);if(!_0x326250||!_0x326250[_0x342719(0x723)]){showMessage(_0x342719(0x5c5));return;}showConfirmation(_0x342719(0x2cb),async()=>{const _0x3345b4=_0x342719;try{const _0x4ca365=doc(db,'artifacts/'+appId+_0x3345b4(0xad5),_0x40e1e7),_0x334453=doc(db,_0x3345b4(0x8a6)+appId+'/public/data/quizzes',_0x326250[_0x3345b4(0x723)]),_0x2865db=writeBatch(db);_0x2865db[_0x3345b4(0xc94)](_0x4ca365,{'pairedQuizId':null}),_0x2865db[_0x3345b4(0xc94)](_0x334453,{'pairedQuizId':null}),await _0x2865db['commit'](),showMessage(_0x3345b4(0x6af));}catch(_0x22cd0a){console[_0x3345b4(0x34c)]('Error\x20unpairing\x20quizzes:',_0x22cd0a),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x24a8a8,_0x495269){const _0x5f2849=_0x5ddd37,_0x97aa4=window[_0x5f2849(0x64f)]('',_0x5f2849(0x27d)),_0x92fb57='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x495269['topic']+_0x5f2849(0x996)+_0x495269[_0x5f2849(0xe77)]+_0x5f2849(0xe03)+_0x24a8a8['learningGaps'][_0x5f2849(0xa25)](_0x54fe9e=>'<li>'+_0x54fe9e+_0x5f2849(0xa20))[_0x5f2849(0x40a)]('')+_0x5f2849(0x816)+_0x24a8a8[_0x5f2849(0xbf9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24a8a8[_0x5f2849(0x399)][_0x5f2849(0xa25)](_0x4a69ee=>_0x5f2849(0xe6e)+_0x4a69ee[_0x5f2849(0xb0e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x4a69ee['solution']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5f2849(0x40a)]('')+_0x5f2849(0xbb6);_0x97aa4[_0x5f2849(0x6ff)]['write'](_0x92fb57),_0x97aa4[_0x5f2849(0x6ff)][_0x5f2849(0xd57)](),_0x97aa4[_0x5f2849(0x312)]=function(){setTimeout(()=>{_0x97aa4['print']();},0x3e8);};}async function handleAiFixFormula(_0x464d85){const _0x53e7e9=_0x5ddd37,_0xc53c32=document['querySelector'](_0x53e7e9(0x7fa)+_0x464d85+'\x22]');if(!_0xc53c32)return;const _0x1f9c0f=_0xc53c32[_0x53e7e9(0x664)][_0x53e7e9(0x611)],_0x18758a=_0xc53c32[_0x53e7e9(0xee9)](_0x53e7e9(0xeb4));let _0x3ec1be={'question':_0xc53c32[_0x53e7e9(0xee9)]('textarea')[_0x53e7e9(0x717)]};switch(_0x1f9c0f){case'multiple_choice':_0x3ec1be[_0x53e7e9(0x4ad)]=Array[_0x53e7e9(0x8ed)](_0xc53c32[_0x53e7e9(0xe1c)](_0x53e7e9(0xe33)))[_0x53e7e9(0xa25)](_0x31e542=>_0x31e542[_0x53e7e9(0x717)]);break;case _0x53e7e9(0x3d7):_0x3ec1be[_0x53e7e9(0x3e2)]=_0xc53c32[_0x53e7e9(0xee9)](_0x53e7e9(0x8e8))[_0x53e7e9(0x717)];break;case _0x53e7e9(0x867):_0x3ec1be[_0x53e7e9(0xcd9)]=_0xc53c32['querySelector']('.correct-response-input')[_0x53e7e9(0x717)];break;}_0x18758a[_0x53e7e9(0x1f9)]=_0x53e7e9(0x871),_0x18758a[_0x53e7e9(0x206)]=!![];try{const _0x353b9a=_0x53e7e9(0x516)+JSON[_0x53e7e9(0xe5a)](_0x3ec1be)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x527501={'type':'OBJECT','properties':{'fixedData':{'type':_0x53e7e9(0x3d9),'properties':{'question':{'type':'STRING'},'options':{'type':_0x53e7e9(0x26d),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x53e7e9(0xa74)}},'required':['question']}},'required':[_0x53e7e9(0x2e8)]},_0x1bce23=await callAnalysisApi(_0x353b9a,_0x527501);if(_0x1bce23&&_0x1bce23[_0x53e7e9(0x2e8)]){const _0x32876f=_0x1bce23[_0x53e7e9(0x2e8)];_0xc53c32[_0x53e7e9(0xee9)]('textarea')[_0x53e7e9(0x717)]=_0x32876f[_0x53e7e9(0xb0e)]||_0x3ec1be[_0x53e7e9(0xb0e)];switch(_0x1f9c0f){case _0x53e7e9(0xf0e):_0x32876f[_0x53e7e9(0x4ad)]&&_0x32876f[_0x53e7e9(0x4ad)][_0x53e7e9(0x85b)]>0x0&&_0xc53c32[_0x53e7e9(0xe1c)](_0x53e7e9(0xe33))['forEach']((_0x4b1b49,_0x18ec36)=>{const _0x3fe04d=_0x53e7e9;_0x4b1b49[_0x3fe04d(0x717)]=_0x32876f[_0x3fe04d(0x4ad)][_0x18ec36]||_0x3ec1be[_0x3fe04d(0x4ad)][_0x18ec36];});break;case'short_answer':_0xc53c32[_0x53e7e9(0xee9)]('.ideal-answer-input')['value']=_0x32876f[_0x53e7e9(0x3e2)]||_0x3ec1be[_0x53e7e9(0x3e2)];break;case _0x53e7e9(0x867):_0xc53c32[_0x53e7e9(0xee9)]('.correct-response-input')[_0x53e7e9(0x717)]=_0x32876f[_0x53e7e9(0xcd9)]||_0x3ec1be[_0x53e7e9(0xcd9)];break;}if(_0x3ec1be[_0x53e7e9(0xb0e)]!==_0x32876f[_0x53e7e9(0xb0e)])try{const _0x34f030=collection(db,_0x53e7e9(0x8a6)+appId+_0x53e7e9(0xe7e));await addDoc(_0x34f030,{'broken':_0x3ec1be[_0x53e7e9(0xb0e)],'fixed':_0x32876f['question'],'createdAt':serverTimestamp()});}catch(_0x93b42d){console[_0x53e7e9(0x34c)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x93b42d);}showMessage(_0x53e7e9(0x35a));}else throw new Error(_0x53e7e9(0xe7f));}catch(_0xfd0e0c){console['error']('AI\x20Formula\x20Fix\x20Error:',_0xfd0e0c),showMessage(_0x53e7e9(0x97c));}finally{_0x18758a[_0x53e7e9(0x1f9)]=_0x53e7e9(0xa0e),_0x18758a[_0x53e7e9(0x206)]=![];}}async function handleGenerateLessonPlan(_0x7d1bde){const _0x5f1e3a=_0x5ddd37;showMessage(_0x5f1e3a(0x9d5));try{const _0x75dae3=doc(db,_0x5f1e3a(0x8a6)+appId+_0x5f1e3a(0xad5),_0x7d1bde),_0x2b8d7c=await getDoc(_0x75dae3);if(!_0x2b8d7c[_0x5f1e3a(0x8d2)]())throw new Error(_0x5f1e3a(0x907));const _0x13a581={'id':_0x7d1bde,..._0x2b8d7c[_0x5f1e3a(0xef5)]()},_0x5d76f4=collection(db,'artifacts/'+appId+_0x5f1e3a(0xad5),_0x7d1bde,_0x5f1e3a(0x844)),_0x4e0b4d=await getDocs(_0x5d76f4),_0x2bba22=_0x4e0b4d['docs'][_0x5f1e3a(0xa25)](_0x22e442=>_0x22e442['data']());if(_0x2bba22[_0x5f1e3a(0x85b)]===0x0)throw new Error(_0x5f1e3a(0xa1e));const _0x3c25ce=calculateItemAnalysis(_0x13a581,_0x2bba22)[_0x5f1e3a(0xaa1)],_0x15b395=calculateDistractorAnalysis(_0x13a581,_0x2bba22),_0x3909a0=_0x5255cb=>{const _0x1fcd2e=_0x5f1e3a;if(!_0x5255cb)return'';return _0x5255cb[_0x1fcd2e(0x701)](/\\/g,'\x5c\x5c')[_0x1fcd2e(0x701)](/"/g,'\x5c\x22')[_0x1fcd2e(0x701)](/\n/g,'\x5cn');};let _0x154fa8=_0x5f1e3a(0xcae);_0x13a581[_0x5f1e3a(0x7f9)][_0x5f1e3a(0x23a)]((_0x178802,_0x4c42e6)=>{const _0x1d3fc6=_0x5f1e3a,_0x541a23=_0x3c25ce[_0x4c42e6]?.['p'][_0x1d3fc6(0xe88)](0x2)||_0x1d3fc6(0xc57),_0x112ab3=_0x3c25ce[_0x4c42e6]?.['r'][_0x1d3fc6(0xe88)](0x2)||_0x1d3fc6(0xc57),_0x264196=_0x3909a0(_0x178802[_0x1d3fc6(0xb93)]||_0x178802[_0x1d3fc6(0x692)]);_0x154fa8+=_0x1d3fc6(0x5cf)+(_0x4c42e6+0x1)+_0x1d3fc6(0xef1)+_0x541a23+_0x1d3fc6(0xa02)+_0x112ab3+'):\x20'+_0x264196+'\x5cn';if(_0x178802[_0x1d3fc6(0x278)]===_0x1d3fc6(0xf0e)&&_0x15b395[_0x4c42e6]){const _0x36cf56=_0x15b395[_0x4c42e6],_0x4e20ae=Object['keys'](_0x36cf56)[_0x1d3fc6(0xd8d)](_0xb89575=>parseInt(_0xb89575)!==_0x178802[_0x1d3fc6(0x791)])[_0x1d3fc6(0x23c)]((_0x4c43a6,_0x32295c)=>_0x36cf56[_0x32295c][_0x1d3fc6(0x6d2)]-_0x36cf56[_0x4c43a6][_0x1d3fc6(0x6d2)])[0x0];if(_0x4e20ae&&_0x36cf56[_0x4e20ae][_0x1d3fc6(0x6d2)]>0x0){const _0x5b729d=_0x3909a0(_0x36cf56[_0x4e20ae][_0x1d3fc6(0xa75)]);_0x154fa8+=_0x1d3fc6(0xbc8)+_0x5b729d+_0x1d3fc6(0x8dc);}}});const _0x217a62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x13a581[_0x5f1e3a(0xe77)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x154fa8+_0x5f1e3a(0xa0d),_0x554e9e={'type':_0x5f1e3a(0x3d9),'properties':{'learningGaps':{'type':_0x5f1e3a(0x26d),'items':{'type':_0x5f1e3a(0xa74)}},'teachingContent':{'type':_0x5f1e3a(0xa74)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x5f1e3a(0x3d9),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x5f1e3a(0xa74)}}}}},'required':[_0x5f1e3a(0xb86),_0x5f1e3a(0xbf9),'practiceProblems']},_0x43843b=await callAnalysisApi(_0x217a62,_0x554e9e);await updateDoc(_0x75dae3,{'lessonPlan':_0x43843b});const _0x26c23a=_0x5f1e3a(0x7df)+_0x13a581[_0x5f1e3a(0xe77)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x43843b[_0x5f1e3a(0xb86)]['map'](_0x1c6691=>_0x5f1e3a(0xcc9)+_0x1c6691+'</li>')['join']('')+_0x5f1e3a(0x50b)+_0x43843b['teachingContent']+_0x5f1e3a(0x3ce)+_0x43843b[_0x5f1e3a(0x399)][_0x5f1e3a(0xa25)](_0x4f5b72=>_0x5f1e3a(0x25d)+_0x4f5b72[_0x5f1e3a(0xb0e)]+_0x5f1e3a(0x43a)+_0x4f5b72[_0x5f1e3a(0x265)]+_0x5f1e3a(0xe19))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x5f1e3a(0x4ff)](_0x5f1e3a(0xc06))['textContent']=_0x5f1e3a(0x59f)+_0x13a581[_0x5f1e3a(0xe77)],document['getElementById'](_0x5f1e3a(0x85c))[_0x5f1e3a(0x1f9)]=_0x26c23a,document['getElementById'](_0x5f1e3a(0xe44))[_0x5f1e3a(0xc2e)]['remove']('hidden');if(window[_0x5f1e3a(0xb8c)])MathJax['typesetPromise']();messageModal['classList'][_0x5f1e3a(0xee4)](_0x5f1e3a(0xc89));}catch(_0x240484){console[_0x5f1e3a(0x34c)](_0x5f1e3a(0x7e8),_0x240484),showMessage(_0x5f1e3a(0x26e)+_0x240484['message']);}}async function handleDuplicateQuiz(_0x4ea5c6){const _0x447a93=_0x5ddd37;try{const _0x569977=doc(db,'artifacts/'+appId+_0x447a93(0xad5),_0x4ea5c6),_0x1fa0d0=await getDoc(_0x569977);if(_0x1fa0d0['exists']()){const _0x3c52cf=_0x1fa0d0[_0x447a93(0xef5)]();let _0x4872e6='',_0x41ee95=_0x447a93(0xa84),_0x4432b9=null;if(_0x3c52cf[_0x447a93(0x2f9)]===_0x447a93(0x909)){let _0x26ff5c=_0x3c52cf[_0x447a93(0xe77)]['replace'](_0x447a93(0x52b),'')[_0x447a93(0x26c)]();_0x4872e6=_0x447a93(0x9d7)+_0x26ff5c,_0x41ee95=_0x447a93(0x9fd),_0x4432b9=_0x4ea5c6;}else _0x4872e6='(คัดลอก)\x20'+_0x3c52cf[_0x447a93(0xe77)];const _0x4c8516={..._0x3c52cf,'topic':_0x4872e6,'createdAt':new Date()[_0x447a93(0x4f9)](),'quizMode':_0x41ee95,'pairedQuizId':_0x4432b9};let _0xa71f8;while(!![]){_0xa71f8=Math[_0x447a93(0x9f5)](0x3e8+Math['random']()*0x2328)['toString']();const _0x4d5edb=await getDoc(doc(db,_0x447a93(0x8a6)+appId+'/public/data/quizzes',_0xa71f8));if(!_0x4d5edb[_0x447a93(0x8d2)]())break;}const _0x1061e8=doc(db,_0x447a93(0x8a6)+appId+_0x447a93(0xad5),_0xa71f8);await setDoc(_0x1061e8,_0x4c8516),_0x4c8516['quizMode']===_0x447a93(0x9fd)&&await updateDoc(_0x569977,{'pairedQuizId':_0xa71f8}),showMessage(_0x447a93(0x584));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x1d1904){console[_0x447a93(0x34c)](_0x447a93(0xccd),_0x1d1904),showMessage(_0x447a93(0xeb9));}}async function handleDeleteQuiz(_0x100748,_0x424645=!![]){const _0x5dc4f5=_0x5ddd37;try{const _0x1451a3=writeBatch(db),_0x573eda=collection(db,_0x5dc4f5(0x8a6)+appId+'/public/data/quizzes/'+_0x100748+_0x5dc4f5(0xd9b)),_0x3c40fc=await getDocs(_0x573eda);_0x3c40fc[_0x5dc4f5(0x23a)](_0x18448c=>{const _0x7c7078=_0x5dc4f5;_0x1451a3[_0x7c7078(0xacc)](doc(_0x573eda,_0x18448c['id']));});const _0x3719d1=doc(db,'artifacts/'+appId+_0x5dc4f5(0xad5),_0x100748);_0x1451a3[_0x5dc4f5(0xacc)](_0x3719d1),await _0x1451a3['commit']();try{console['log']('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x100748+_0x5dc4f5(0x8cb));const _0x14b656=collection(db,_0x5dc4f5(0x8a6)+appId+_0x5dc4f5(0x912)),_0x13f707=await getDocs(_0x14b656),_0xe04dab=[];_0x13f707[_0x5dc4f5(0x23a)](_0x315e01=>{const _0x467ef4=_0x5dc4f5,_0x163292=_0x315e01[_0x467ef4(0xef5)](),_0xcb937=_0x163292[_0x467ef4(0xc5a)]||{};let _0x4798da=![];for(const _0x58ea0d in _0xcb937){const _0xccbb23=_0xcb937[_0x58ea0d];if(_0xccbb23[_0x467ef4(0xead)]&&_0xccbb23['linkedQuizIds'][_0x467ef4(0xdf4)](_0x100748)){_0x4798da=!![];const _0x47df70=doc(db,_0x467ef4(0x8a6)+appId+'/public/data/blueprintProjects',_0x315e01['id']),_0x9eba51=updateDoc(_0x47df70,{[_0x467ef4(0xe92)+_0x58ea0d+_0x467ef4(0xdbe)]:arrayRemove(_0x100748)});_0xe04dab[_0x467ef4(0xb2a)](_0x9eba51);}}}),_0xe04dab[_0x5dc4f5(0x85b)]>0x0&&(await Promise[_0x5dc4f5(0xa6b)](_0xe04dab),console[_0x5dc4f5(0x674)](_0x5dc4f5(0xe4f)+_0xe04dab[_0x5dc4f5(0x85b)]+_0x5dc4f5(0x727)+_0x100748+'.'));}catch(_0x52bfbe){console[_0x5dc4f5(0x34c)](_0x5dc4f5(0x45e),_0x52bfbe);}_0x424645&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0xd2aece){console[_0x5dc4f5(0x34c)](_0x5dc4f5(0x3b9),_0xd2aece),_0x424645&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x317184){const _0x550d4e=_0x5ddd37;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x550d4e(0xbb0));try{const _0x6c47a=doc(db,_0x550d4e(0x8a6)+appId+_0x550d4e(0xad5),_0x317184),_0x4b9216=await getDoc(_0x6c47a);if(!_0x4b9216[_0x550d4e(0x8d2)]()){showMessage(_0x550d4e(0x907));return;}const _0x51bf37={'id':_0x4b9216['id'],..._0x4b9216[_0x550d4e(0xef5)]()};currentQuizData=_0x51bf37;const _0x5727a0=doc(db,_0x550d4e(0x8a6)+appId+'/public/data/projects',_0x51bf37[_0x550d4e(0x44e)]),_0x5ee58f=await getDoc(_0x5727a0);_0x5ee58f[_0x550d4e(0x8d2)]()?(currentProjectData=_0x5ee58f[_0x550d4e(0xef5)](),currentProjectId=_0x51bf37[_0x550d4e(0x44e)]):(currentProjectData={'students':[]},currentProjectId=_0x51bf37[_0x550d4e(0x44e)]);document[_0x550d4e(0x4ff)](_0x550d4e(0xbf7))[_0x550d4e(0x602)]=_0x51bf37[_0x550d4e(0xe77)],document[_0x550d4e(0x4ff)]('results-quiz-id-display')['textContent']=_0x317184;const _0x22239=collection(db,'artifacts/'+appId+_0x550d4e(0xad5),_0x317184,_0x550d4e(0x844));unsubscribeSubmissionsListener=onSnapshot(_0x22239,_0x50905a=>{const _0x1bd5c6=_0x550d4e,_0x3cb338=_0x50905a[_0x1bd5c6(0xb91)][_0x1bd5c6(0xa25)](_0x3bdb9a=>({'id':_0x3bdb9a['id'],..._0x3bdb9a[_0x1bd5c6(0xef5)]()}));currentSubmissions=_0x3cb338;const _0x19e96b=_0x3cb338[_0x1bd5c6(0xd8d)](_0xdb976e=>_0xdb976e['attempts']&&_0xdb976e[_0x1bd5c6(0x35e)]['length']>0x0);renderBehaviorLog(_0x3cb338),renderAnswerGrid(currentProjectData[_0x1bd5c6(0x28a)],_0x19e96b,_0x51bf37),renderAnalytics(_0x51bf37,_0x19e96b),renderQuizResultsTable(currentProjectData[_0x1bd5c6(0x28a)],_0x3cb338,_0x51bf37),renderQuizLeaderboard(_0x19e96b,_0x51bf37,_0x1bd5c6(0x7de));}),showView(_0x550d4e(0x6bc));}catch(_0x5165fe){console[_0x550d4e(0x34c)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5165fe),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x260afa,_0x416f34,_0x11e995){const _0x3d41b9=_0x5ddd37,_0x440fbc=document[_0x3d41b9(0x4ff)](_0x3d41b9(0x430));if(!_0x440fbc)return;if(!_0x260afa||_0x260afa[_0x3d41b9(0x85b)]===0x0){_0x440fbc[_0x3d41b9(0x1f9)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x192637=_0x11e995[_0x3d41b9(0x7f9)],_0x4b6c37=_0x416f34[_0x3d41b9(0xc2a)]((_0x2823e1,_0x1c4357)=>{const _0x273b46=_0x3d41b9;return _0x2823e1[_0x1c4357[_0x273b46(0xc8f)]]=_0x1c4357,_0x2823e1;},{}),_0x3dbe37=_0xc06dc7=>String['fromCharCode'](0x41+_0xc06dc7),_0x5493a3=_0x4f018c=>{const _0x5704f8=_0x3d41b9,_0x5cf0b6=_0x4f018c['questionType']||_0x11e995[_0x5704f8(0xa9d)];switch(_0x5cf0b6){case _0x5704f8(0xf0e):return _0x4f018c[_0x5704f8(0x4ad)]&&_0x4f018c[_0x5704f8(0x4ad)]['length']>_0x4f018c[_0x5704f8(0x791)]?_0x3dbe37(_0x4f018c['correctAnswerIndex']):'-';case _0x5704f8(0xed0):const _0x35c56b=_0x4f018c[_0x5704f8(0x98f)]===!![]||String(_0x4f018c['correctAnswer'])['toLowerCase']()===_0x5704f8(0x394);return _0x35c56b?_0x5704f8(0x866):_0x5704f8(0x780);case'matching_item':return _0x4f018c['correctResponse']||'-';case _0x5704f8(0x3d7):return _0x5704f8(0x536);default:return'-';}},_0xfbd265=(_0x10fe20,_0x1453d1)=>{const _0x563fcd=_0x3d41b9;if(_0x1453d1['answer']===null||_0x1453d1['answer']===undefined)return'-';const _0x58a1a8=_0x10fe20[_0x563fcd(0x278)]||_0x11e995[_0x563fcd(0xa9d)];switch(_0x58a1a8){case _0x563fcd(0xf0e):const _0x2159ac=_0x10fe20['options'][_0x563fcd(0xed5)](_0x203a60=>_0x203a60===_0x1453d1['answerText']);return _0x2159ac!==-0x1?_0x3dbe37(_0x2159ac):_0x1453d1['answerText']||'-';case _0x563fcd(0xed0):if(_0x1453d1[_0x563fcd(0x641)]=='0'||_0x1453d1[_0x563fcd(0x641)]===!![]||_0x1453d1['answer']===_0x563fcd(0x394))return _0x563fcd(0x866);return'ไม่ใช่';default:return _0x1453d1[_0x563fcd(0x641)];}};let _0x8ed1f4=_0x3d41b9(0xa82)+_0x192637[_0x3d41b9(0xa25)]((_0x2852af,_0x54e81d)=>_0x3d41b9(0xdb1)+(_0x54e81d+0x1)+_0x3d41b9(0x98b))[_0x3d41b9(0x40a)]('')+_0x3d41b9(0xd18)+_0x192637[_0x3d41b9(0xa25)](_0x5080cc=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x5493a3(_0x5080cc)+_0x3d41b9(0xed6))['join']('')+_0x3d41b9(0x3af);_0x260afa[_0x3d41b9(0x23a)](_0x1e50f6=>{const _0x40d60f=_0x3d41b9;_0x8ed1f4+='<tr>',_0x8ed1f4+=_0x40d60f(0x994)+_0x1e50f6+'</td>';const _0x271b11=_0x4b6c37[_0x1e50f6];if(_0x271b11){const _0xc8df88=_0x271b11[_0x40d60f(0x35e)][_0x271b11[_0x40d60f(0x35e)]['length']-0x1];_0x192637[_0x40d60f(0x23a)]((_0x29cf6e,_0x376cbf)=>{const _0x2fa81f=_0x40d60f,_0x504414=_0xc8df88[_0x2fa81f(0xc7d)][_0x2fa81f(0xe0f)](_0xdc2bc9=>_0xdc2bc9['questionId']===_0x29cf6e['id']);if(_0x504414){let _0xaef75a='';const _0x3cb8c3=_0x504414[_0x2fa81f(0x624)]===!![],_0x3ff90e=_0x504414[_0x2fa81f(0x3e8)]===!![]||_0x504414[_0x2fa81f(0x3e8)]===_0x2fa81f(0xdac),_0x4bbc42=_0x504414[_0x2fa81f(0xb83)];if(_0x4bbc42===_0x2fa81f(0xcc6))_0x3cb8c3?_0xaef75a='bg-yellow-300\x20text-yellow-900\x20font-bold':_0xaef75a='bg-red-700\x20text-white\x20font-bold';else _0x3ff90e?_0xaef75a=_0x3cb8c3?_0x2fa81f(0x30b):_0x2fa81f(0xd59):_0xaef75a=_0x3cb8c3?_0x2fa81f(0x90a):_0x2fa81f(0xa31);_0x8ed1f4+=_0x2fa81f(0x7c8)+_0xaef75a+'\x22>'+_0xfbd265(_0x29cf6e,_0x504414)+_0x2fa81f(0xed6);}else _0x8ed1f4+=_0x2fa81f(0x40f);});}else _0x8ed1f4+=_0x192637[_0x40d60f(0xa25)](()=>_0x40d60f(0x8ef))['join']('');_0x8ed1f4+=_0x40d60f(0xc3c);}),_0x8ed1f4+=_0x3d41b9(0x39c),_0x440fbc[_0x3d41b9(0x1f9)]=_0x8ed1f4;}function renderQuizResultsTable(_0x1c533b,_0x513a3a,_0x4b2249){const _0x23cea0=_0x5ddd37,_0x2f1a74=_0x513a3a[_0x23cea0(0xc2a)]((_0x44818e,_0x5077b2)=>{const _0x3fa45e=_0x23cea0;return _0x44818e[_0x5077b2[_0x3fa45e(0xc8f)]]=_0x5077b2,_0x44818e;},{}),_0x1b0860=document[_0x23cea0(0xee9)](_0x23cea0(0x654));_0x1b0860&&!_0x1b0860['innerHTML'][_0x23cea0(0xdf4)](_0x23cea0(0xd75))&&(_0x1b0860[_0x23cea0(0x1f9)]+=_0x23cea0(0x569));const _0x46f744=document[_0x23cea0(0x4ff)](_0x23cea0(0x8c8));if(!_0x1c533b||_0x1c533b['length']===0x0){_0x46f744['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x4d2a3d=_0x4b2249['isRemedial']===!![],_0x23f52c=_0x4b2249['settings']?.[_0x23cea0(0x27e)]??-0x1;let _0x11cbf7='';_0x1c533b[_0x23cea0(0x23a)](_0x27f5b6=>{const _0xec49c4=_0x23cea0,_0x21ec77=_0x2f1a74[_0x27f5b6];let _0x3df4d5=_0xec49c4(0x6ad)+(_0x4d2a3d?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x4d2a3d?_0xec49c4(0xb12):_0xec49c4(0x794))+'</span></td>';if(_0x21ec77){if(_0x21ec77['attempts']&&_0x21ec77['attempts'][_0xec49c4(0x85b)]>0x0){let _0x595a35=_0x4d2a3d?_0x21ec77[_0xec49c4(0x73f)]===_0x21ec77[_0xec49c4(0x5eb)]:_0x23f52c!==-0x1&&_0x21ec77['bestScore']>=_0x23f52c;const _0x149f59=_0x595a35?_0xec49c4(0x90a):_0xec49c4(0xa31),_0x4ea9f0=_0x595a35?'ผ่าน':'ไม่ผ่าน',_0x2917c2=_0xec49c4(0x6be)+_0x149f59+'\x22>'+_0x4ea9f0+_0xec49c4(0xcbe),_0x367fce=_0xec49c4(0xe36)+(_0x21ec77[_0xec49c4(0x35e)]?.[_0xec49c4(0x85b)]||0x1)+'\x20ครั้ง)</span></td>',_0xaac1a8=_0xec49c4(0x807)+(_0x21ec77[_0xec49c4(0x748)]||0x0)+_0xec49c4(0xdfa)+_0x27f5b6+_0xec49c4(0x819)+(_0x21ec77['points']||0x0)+_0xec49c4(0xa7c);_0x11cbf7+=_0xec49c4(0x78e)+_0x27f5b6+_0xec49c4(0x34e)+_0x21ec77[_0xec49c4(0x73f)]+'\x20/\x20'+_0x21ec77[_0xec49c4(0x5eb)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2917c2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3df4d5+_0xec49c4(0x235)+_0x21ec77['firstScore']+_0xec49c4(0xcc1)+_0x21ec77[_0xec49c4(0x5eb)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x21ec77[_0xec49c4(0x3f1)]+_0xec49c4(0xcc1)+_0x21ec77[_0xec49c4(0x5eb)]+_0xec49c4(0xc52)+_0xaac1a8+_0xec49c4(0xc75)+_0x367fce+_0xec49c4(0x447)+new Date(_0x21ec77[_0xec49c4(0x2c8)])[_0xec49c4(0xe83)](_0xec49c4(0x465))+_0xec49c4(0x4d6)+_0x27f5b6+_0xec49c4(0xb3a);}else{const _0x36e6d4=_0xec49c4(0x4a3);_0x11cbf7+=_0xec49c4(0x2ad)+_0x27f5b6+_0xec49c4(0xec3)+_0x3df4d5+_0xec49c4(0x810)+_0x36e6d4+_0xec49c4(0x447)+new Date(_0x21ec77[_0xec49c4(0x310)])[_0xec49c4(0xe83)](_0xec49c4(0x465))+_0xec49c4(0x745)+_0x27f5b6+_0xec49c4(0xb3a);}}else{const _0x4d4025=_0xec49c4(0xc9b);_0x11cbf7+=_0xec49c4(0x6fd)+_0x27f5b6+_0xec49c4(0x487)+_0x3df4d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d4025+_0xec49c4(0x983);}}),_0x46f744[_0x23cea0(0x1f9)]=_0x11cbf7;}async function confirmRenameQuiz(){const _0x22efcd=_0x5ddd37,_0x2da778=document['getElementById'](_0x22efcd(0x464))['value']['trim']();if(!_0x2da778){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x585b7f=doc(db,'artifacts/'+appId+_0x22efcd(0xad5),actionTargetId);try{await updateDoc(_0x585b7f,{'topic':_0x2da778}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x22efcd(0xc2e)]['add'](_0x22efcd(0xc89)),actionTargetId=null;}catch(_0x2a6444){console[_0x22efcd(0x34c)](_0x22efcd(0xba1),_0x2a6444),showMessage(_0x22efcd(0xa85));}}async function handleMoveQuiz(_0x22d14b){const _0x54e97e=_0x5ddd37;actionTargetId=_0x22d14b;const _0x31b465=document[_0x54e97e(0x4ff)](_0x54e97e(0xddc));_0x31b465[_0x54e97e(0x1f9)]=_0x54e97e(0xe09),moveQuizModal[_0x54e97e(0xc2e)][_0x54e97e(0x716)](_0x54e97e(0xc89));try{const _0x1f9544=collection(db,_0x54e97e(0x8a6)+appId+_0x54e97e(0x8c1)),_0x471eb0=await getDocs(_0x1f9544),_0x2c1ff7=_0x471eb0[_0x54e97e(0xb91)]['map'](_0x3b3114=>({'id':_0x3b3114['id'],..._0x3b3114[_0x54e97e(0xef5)]()})),_0x21f51f=_0x2c1ff7['filter'](_0x43cb5a=>_0x43cb5a['id']!==currentProjectId);if(_0x21f51f[_0x54e97e(0x85b)]===0x0){_0x31b465[_0x54e97e(0x1f9)]=_0x54e97e(0xcfe),document[_0x54e97e(0x4ff)](_0x54e97e(0xbda))[_0x54e97e(0x206)]=!![];return;}_0x31b465[_0x54e97e(0x1f9)]=_0x21f51f[_0x54e97e(0xa25)](_0x348d7a=>'<option\x20value=\x22'+_0x348d7a['id']+'\x22>'+_0x348d7a['projectName']+_0x54e97e(0x999))['join'](''),document[_0x54e97e(0x4ff)](_0x54e97e(0xbda))['disabled']=![];}catch(_0x5c595e){console['error'](_0x54e97e(0xd0a),_0x5c595e),showMessage(_0x54e97e(0x5c8)),moveQuizModal['classList'][_0x54e97e(0xee4)]('hidden');}}async function confirmMoveQuiz(){const _0x306efd=_0x5ddd37,_0x42bd0e=document[_0x306efd(0x4ff)](_0x306efd(0xddc))[_0x306efd(0x717)];if(!_0x42bd0e){showMessage(_0x306efd(0x756));return;}if(!actionTargetId)return;const _0x36421b=doc(db,_0x306efd(0x8a6)+appId+_0x306efd(0xad5),actionTargetId);try{await updateDoc(_0x36421b,{'projectId':_0x42bd0e}),showMessage(_0x306efd(0x963)),moveQuizModal[_0x306efd(0xc2e)][_0x306efd(0xee4)](_0x306efd(0xc89)),actionTargetId=null;}catch(_0x8a4474){console[_0x306efd(0x34c)](_0x306efd(0x627),_0x8a4474),showMessage(_0x306efd(0xbb4));}}async function handleQuizSettings(_0x233d73){const _0x39be3e=_0x5ddd37;actionTargetId=_0x233d73;const _0xa711b0=doc(db,_0x39be3e(0x8a6)+appId+'/public/data/quizzes',_0x233d73);try{const _0x1c9914=await getDoc(_0xa711b0);if(_0x1c9914[_0x39be3e(0x8d2)]()){const _0x52923d=_0x1c9914[_0x39be3e(0xef5)](),_0x429ae2=_0x52923d['settings']||{},_0x518e4a=_0x52923d['questions'][_0x39be3e(0x85b)];document[_0x39be3e(0x4ff)](_0x39be3e(0xd69))[_0x39be3e(0x717)]=_0x429ae2[_0x39be3e(0x4bb)]||'none',document[_0x39be3e(0x4ff)]('modal-results-display-select')[_0x39be3e(0x717)]=_0x429ae2['resultsDisplay']||_0x39be3e(0x76c),document[_0x39be3e(0x4ff)](_0x39be3e(0x282))[_0x39be3e(0x717)]=_0x429ae2[_0x39be3e(0x69f)]||_0x39be3e(0x527),document[_0x39be3e(0x4ff)]('modal-timer-duration-input')[_0x39be3e(0x717)]=_0x429ae2['timerDuration']||0xa,document[_0x39be3e(0x4ff)](_0x39be3e(0x7bb))[_0x39be3e(0x717)]=_0x429ae2['passingScore']||Math[_0x39be3e(0x9f5)](_0x518e4a/0x2),document[_0x39be3e(0x4ff)](_0x39be3e(0x7bb))[_0x39be3e(0xa87)]=_0x518e4a,document[_0x39be3e(0x4ff)](_0x39be3e(0xc20))[_0x39be3e(0x749)]=_0x429ae2['isAdaptive']||![],document[_0x39be3e(0x4ff)](_0x39be3e(0xde4))[_0x39be3e(0x749)]=_0x429ae2[_0x39be3e(0x99f)]||![];const _0x43ad1a=_0x429ae2[_0x39be3e(0x573)]||![];document['getElementById'](_0x39be3e(0x915))[_0x39be3e(0x749)]=_0x43ad1a,document[_0x39be3e(0x4ff)]('modal-confidence-mode-select')['value']=_0x429ae2[_0x39be3e(0x5f1)]||_0x39be3e(0xcf9);const _0x21fd62=document[_0x39be3e(0x4ff)](_0x39be3e(0xc2d));_0x21fd62[_0x39be3e(0xc2e)][_0x39be3e(0xe23)]('hidden',!_0x43ad1a),document[_0x39be3e(0x4ff)](_0x39be3e(0x282))[_0x39be3e(0xdcb)](new Event('change')),quizSettingsModal[_0x39be3e(0xc2e)][_0x39be3e(0x716)](_0x39be3e(0xc89));}else showMessage(_0x39be3e(0x907));}catch(_0x2d71bd){console[_0x39be3e(0x34c)](_0x39be3e(0x604),_0x2d71bd),showMessage(_0x39be3e(0x28d));}}async function confirmQuizSettings(){const _0x48848e=_0x5ddd37;if(!actionTargetId)return;const _0x55f6bf=doc(db,_0x48848e(0x8a6)+appId+'/public/data/quizzes',actionTargetId),_0xaea23f={'shuffle':document[_0x48848e(0x4ff)](_0x48848e(0xd69))[_0x48848e(0x717)],'resultsDisplay':document[_0x48848e(0x4ff)]('modal-results-display-select')[_0x48848e(0x717)],'timerMode':document[_0x48848e(0x4ff)]('modal-timer-mode-select')[_0x48848e(0x717)],'timerDuration':parseInt(document[_0x48848e(0x4ff)]('modal-timer-duration-input')[_0x48848e(0x717)])||0xa,'passingScore':parseInt(document[_0x48848e(0x4ff)](_0x48848e(0x7bb))[_0x48848e(0x717)])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')[_0x48848e(0x749)],'loopUntilPass':document['getElementById'](_0x48848e(0xde4))[_0x48848e(0x749)],'isConfidenceScoringEnabled':document[_0x48848e(0x4ff)](_0x48848e(0x915))[_0x48848e(0x749)],'confidenceMode':document['getElementById']('modal-confidence-mode-select')[_0x48848e(0x717)]};try{await updateDoc(_0x55f6bf,{'settings':_0xaea23f}),showMessage(_0x48848e(0xc83)),quizSettingsModal['classList'][_0x48848e(0xee4)]('hidden'),actionTargetId=null;}catch(_0x1b8a03){console['error']('Error\x20updating\x20quiz\x20settings:',_0x1b8a03),showMessage(_0x48848e(0x315));}}async function confirmQuizStatus(){const _0x5b39f2=_0x5ddd37;if(!actionTargetId)return;const _0x2efdb7=doc(db,'artifacts/'+appId+_0x5b39f2(0xad5),actionTargetId),_0x57ba49=document[_0x5b39f2(0xee9)]('input[name=\x22status-option\x22]:checked');if(!_0x57ba49){showMessage(_0x5b39f2(0x4ee));return;}const _0x3e2fb5=_0x57ba49[_0x5b39f2(0x717)];let _0x133d49={};if(_0x3e2fb5===_0x5b39f2(0x5de)||_0x3e2fb5===_0x5b39f2(0x924))_0x133d49={'status':_0x3e2fb5,'startTime':null,'endTime':null};else{if(_0x3e2fb5===_0x5b39f2(0xd9c)){const _0xf7762a=document[_0x5b39f2(0x4ff)](_0x5b39f2(0x2f3))[_0x5b39f2(0x717)],_0x2451fd=document[_0x5b39f2(0x4ff)]('quiz-end-time')[_0x5b39f2(0x717)];if(!_0xf7762a&&!_0x2451fd){showMessage(_0x5b39f2(0x7aa));return;}_0x133d49={'status':_0x5b39f2(0xa77),'startTime':_0xf7762a?new Date(_0xf7762a)[_0x5b39f2(0x4f9)]():null,'endTime':_0x2451fd?new Date(_0x2451fd)[_0x5b39f2(0x4f9)]():null};}}try{await updateDoc(_0x2efdb7,_0x133d49),showMessage(_0x5b39f2(0x7e4)),quizStatusModal[_0x5b39f2(0xc2e)][_0x5b39f2(0xee4)](_0x5b39f2(0xc89)),actionTargetId=null;}catch(_0x2c041a){console[_0x5b39f2(0x34c)](_0x5b39f2(0x5ea),_0x2c041a),showMessage(_0x5b39f2(0xb0d));}}function listenForStudentProfiles(_0x345f6b){const _0x2f8797=_0x5ddd37,_0x1de6ad=collection(db,_0x2f8797(0x8a6)+appId+_0x2f8797(0x9c7)+_0x345f6b+_0x2f8797(0x72e));unsubscribeStudentProfilesListener=onSnapshot(_0x1de6ad,_0x16d4f7=>{const _0x5ea740=_0x2f8797,_0x5931de=_0x16d4f7[_0x5ea740(0xb91)][_0x5ea740(0xa25)](_0x2b6ed1=>_0x2b6ed1[_0x5ea740(0xef5)]());renderLeaderboard(_0x5931de,_0x5ea740(0x661));},_0x13bcbb=>{const _0x12937f=_0x2f8797;console[_0x12937f(0x34c)](_0x12937f(0xd4c),_0x13bcbb),document[_0x12937f(0x4ff)](_0x12937f(0x661))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x3f9b0f,_0x5224a9){const _0x42e4ed=_0x5ddd37,_0x4a5397=document[_0x42e4ed(0x4ff)](_0x5224a9);if(!_0x3f9b0f||_0x3f9b0f[_0x42e4ed(0x85b)]===0x0){_0x4a5397['innerHTML']=_0x42e4ed(0xbc9);return;}_0x3f9b0f['sort']((_0x261784,_0x57aef5)=>{const _0x133039=_0x42e4ed,_0x4eec48=(_0x57aef5[_0x133039(0x939)]||0x0)-(_0x261784['totalPoints']||0x0);if(_0x4eec48!==0x0)return _0x4eec48;const _0x13223b=(_0x57aef5['badgesCount']?.[_0x133039(0x4a0)]||0x0)-(_0x261784['badgesCount']?.[_0x133039(0x4a0)]||0x0);if(_0x13223b!==0x0)return _0x13223b;const _0x5d9d43=(_0x57aef5[_0x133039(0xd49)]?.['first_try_ace']||0x0)-(_0x261784[_0x133039(0xd49)]?.['first_try_ace']||0x0);if(_0x5d9d43!==0x0)return _0x5d9d43;const _0xfef18c=(_0x57aef5[_0x133039(0xd49)]?.['perfect_score']||0x0)-(_0x261784['badgesCount']?.[_0x133039(0x5da)]||0x0);if(_0xfef18c!==0x0)return _0xfef18c;const _0x5fcbd9=(_0x57aef5['badgesCount']?.[_0x133039(0xc2c)]||0x0)-(_0x261784[_0x133039(0xd49)]?.[_0x133039(0xc2c)]||0x0);if(_0x5fcbd9!==0x0)return _0x5fcbd9;return _0x261784[_0x133039(0xc8f)][_0x133039(0xe10)](_0x57aef5[_0x133039(0xc8f)],'th');});let _0x1ccd5e='';_0x3f9b0f[_0x42e4ed(0x23a)]((_0x16544b,_0x28b8eb)=>{const _0x3b7ae2=_0x42e4ed,_0x3a6492=_0x28b8eb+0x1,_0x7a46e8=_0x16544b['badgesCount']||{};let _0x2d2568='';const _0x1dca1f=[_0x3b7ae2(0x4a0),_0x3b7ae2(0x5da),_0x3b7ae2(0x842),_0x3b7ae2(0xc2c)];_0x1dca1f['forEach'](_0x599f7d=>{const _0x10984c=_0x3b7ae2;if(_0x7a46e8[_0x599f7d]>0x0){const _0x21e5ea=Object['values'](BADGES)['find'](_0xcc5d2b=>_0xcc5d2b['id']===_0x599f7d);_0x21e5ea&&(_0x599f7d===_0x10984c(0x4a0)?_0x2d2568+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x21e5ea['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x21e5ea[_0x10984c(0xbeb)]+_0x10984c(0x840):_0x2d2568+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x21e5ea[_0x10984c(0xc44)]+'\x20('+_0x7a46e8[_0x599f7d]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x21e5ea[_0x10984c(0xbeb)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x7a46e8[_0x599f7d]+_0x10984c(0xd30));}}),_0x1ccd5e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x3a6492+_0x3b7ae2(0xc52)+_0x16544b[_0x3b7ae2(0xc8f)]+_0x3b7ae2(0x2da)+(_0x16544b['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x2d2568||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4a5397[_0x42e4ed(0x1f9)]=_0x1ccd5e;}function displayLoopScreen(_0x5d6649,_0x1617c5,_0x189a8f){const _0x24f10d=_0x5ddd37;let _0x915830='';_0x189a8f!==_0x24f10d(0xd65)&&(_0x915830=_0x24f10d(0xf0b)+_0x5d6649+_0x24f10d(0xcc1)+_0x1617c5+'</strong></p>');const _0x5dc63c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x915830+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x24f10d(0x1f9)]=_0x5dc63c,studentResultArea[_0x24f10d(0xc2e)]['remove'](_0x24f10d(0xc89)),studentQuizArea[_0x24f10d(0xc2e)]['add'](_0x24f10d(0xc89)),document['getElementById']('retake-quiz-loop-btn')[_0x24f10d(0xbe5)](_0x24f10d(0xe61),()=>{const _0x1620cf=_0x24f10d;studentResultArea[_0x1620cf(0xc2e)]['add'](_0x1620cf(0xc89)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4d7301,_0x28b0ae,_0x52319f){const _0x4588f0=_0x5ddd37,_0x27984a=document['getElementById'](_0x52319f),_0x154973=_0x52319f==='student-quiz-leaderboard-table-body',_0x11bb77=_0x28b0ae['questions']['length'],_0x461a5b=document['getElementById'](_0x52319f)[_0x4588f0(0x7c4)]('table');if(_0x461a5b&&!_0x154973){const _0x25b1fd=_0x461a5b['querySelector'](_0x4588f0(0x3e7));_0x25b1fd[_0x4588f0(0x1f9)]=_0x4588f0(0x330);}if(!_0x4d7301||_0x4d7301[_0x4588f0(0x85b)]===0x0){_0x27984a[_0x4588f0(0x1f9)]=_0x4588f0(0x211)+(_0x154973?0x6:0x8)+_0x4588f0(0xd07);return;}const _0x4f0a00=[..._0x4d7301];_0x4f0a00[_0x4588f0(0x23c)]((_0x1ce3a7,_0x10c5e5)=>{const _0x110813=_0x4588f0;let _0x1c974b,_0x165c73;switch(quizLeaderboardSortBy){case _0x110813(0xc8f):_0x1c974b=_0x1ce3a7['studentName']||'',_0x165c73=_0x10c5e5[_0x110813(0xc8f)]||'';return quizLeaderboardSortOrder==='asc'?_0x1c974b[_0x110813(0xe10)](_0x165c73,'th'):_0x165c73[_0x110813(0xe10)](_0x1c974b,'th');case _0x110813(0x748):_0x1c974b=_0x1ce3a7[_0x110813(0x748)]||0x0,_0x165c73=_0x10c5e5[_0x110813(0x748)]||0x0;break;case _0x110813(0x35e):_0x1c974b=_0x1ce3a7[_0x110813(0x35e)]?.[_0x110813(0x85b)]||0x1,_0x165c73=_0x10c5e5[_0x110813(0x35e)]?.[_0x110813(0x85b)]||0x1;break;case _0x110813(0x2c8):_0x1c974b=new Date(_0x1ce3a7[_0x110813(0x2c8)]),_0x165c73=new Date(_0x10c5e5[_0x110813(0x2c8)]);break;case _0x110813(0x73f):default:_0x1c974b=_0x1ce3a7[_0x110813(0x73f)],_0x165c73=_0x10c5e5[_0x110813(0x73f)];break;}if(_0x1c974b<_0x165c73)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x1c974b>_0x165c73)return quizLeaderboardSortOrder===_0x110813(0x726)?0x1:-0x1;return 0x0;});const _0x1fb62a=_0x28b0ae[_0x4588f0(0x880)]===!![],_0x8af2f4=_0x28b0ae[_0x4588f0(0x297)]?.[_0x4588f0(0x27e)]??-0x1;let _0x58ffa6='';_0x4f0a00[_0x4588f0(0x23a)]((_0x4e3e01,_0x20cf92)=>{const _0x3a8fb8=_0x4588f0,_0x25dd03=_0x20cf92+0x1;let _0x3a2855=_0x3a8fb8(0x7b4);if(_0x1fb62a||_0x8af2f4!==-0x1){let _0x5bf864=_0x1fb62a?_0x4e3e01['bestScore']===_0x11bb77:_0x4e3e01[_0x3a8fb8(0x73f)]>=_0x8af2f4;const _0x295e40=_0x5bf864?_0x3a8fb8(0x90a):_0x3a8fb8(0xa31),_0x54726b=_0x5bf864?_0x3a8fb8(0xca6):_0x3a8fb8(0x74e);_0x3a2855=_0x3a8fb8(0xac8)+_0x295e40+'\x22>'+_0x54726b+'</span></td>';}const _0x2a3f68=_0x4e3e01[_0x3a8fb8(0x35e)][_0x4e3e01[_0x3a8fb8(0x35e)][_0x3a8fb8(0x85b)]-0x1],_0x57c5ab=(_0x2a3f68[_0x3a8fb8(0x614)]||[])[_0x3a8fb8(0xa25)](_0x6104f=>{const _0x4cdc41=_0x3a8fb8,_0x2db451=Object['values'](BADGES)['find'](_0x308d5f=>_0x308d5f['id']===_0x6104f);return _0x2db451?_0x4cdc41(0x335)+_0x2db451['name']+_0x4cdc41(0xc0d)+_0x2db451[_0x4cdc41(0xbeb)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x3a8fb8(0x40a)]('');_0x58ffa6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x25dd03+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4e3e01[_0x3a8fb8(0xc8f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x4e3e01['bestScore']+_0x3a8fb8(0xcc1)+_0x11bb77+_0x3a8fb8(0xe2d)+_0x3a2855+_0x3a8fb8(0x344)+(_0x4e3e01[_0x3a8fb8(0x748)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x154973?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x4e3e01['attempts']?.['length']||0x1)+'</td>')+_0x3a8fb8(0xa89)+(_0x154973?'':_0x3a8fb8(0x510)+new Date(_0x4e3e01[_0x3a8fb8(0x2c8)])[_0x3a8fb8(0xe83)](_0x3a8fb8(0x465))+_0x3a8fb8(0xed6))+_0x3a8fb8(0xb59)+(_0x57c5ab||'-')+_0x3a8fb8(0x779);}),_0x27984a[_0x4588f0(0x1f9)]=_0x58ffa6,_0x461a5b&&!_0x154973&&_0x461a5b['querySelectorAll'](_0x4588f0(0xd26))[_0x4588f0(0x23a)](_0x4a4e83=>{const _0x39b104=_0x4588f0,_0x2c1e25=_0x4a4e83[_0x39b104(0xee9)](_0x39b104(0xdeb));if(_0x2c1e25)_0x2c1e25[_0x39b104(0x716)]();_0x4a4e83[_0x39b104(0x664)]['sort']===quizLeaderboardSortBy&&(_0x4a4e83[_0x39b104(0x1f9)]+=_0x39b104(0xb6d)+(quizLeaderboardSortOrder===_0x39b104(0x726)?'▲':'▼')+_0x39b104(0x2b9));});}async function handleDeleteSubmission(_0x5872ac){const _0x1029c3=_0x5ddd37;if(!currentQuizData||!currentQuizData['id']||!_0x5872ac){showMessage(_0x1029c3(0xd28));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x5872ac+_0x1029c3(0xe6d),async()=>{const _0x2fa70c=_0x1029c3,_0x4b869e=currentQuizData['id'],_0x15aed3=doc(db,_0x2fa70c(0x8a6)+appId+_0x2fa70c(0x1f4)+_0x4b869e+_0x2fa70c(0xd9b),_0x5872ac);try{await deleteDoc(_0x15aed3),showMessage('ลบผลสอบของ\x20'+_0x5872ac+_0x2fa70c(0x859));}catch(_0x2ac7c6){console['error'](_0x2fa70c(0x6f2),_0x2ac7c6),showMessage(_0x2fa70c(0x8ca));}});}async function handleLoadQuiz(){const _0x53edc7=_0x5ddd37,_0x2c8ada=document[_0x53edc7(0x4ff)](_0x53edc7(0x96a)),_0x3d3c8e=_0x2c8ada[_0x53edc7(0x717)][_0x53edc7(0x26c)]();if(!_0x3d3c8e){showMessage(_0x53edc7(0xcd3));return;}loadQuizBtn[_0x53edc7(0x206)]=!![],loadQuizBtn[_0x53edc7(0x1f9)]=_0x53edc7(0x646);try{const _0x4d35d1=doc(db,_0x53edc7(0x8a6)+appId+_0x53edc7(0xad5),_0x3d3c8e),_0x42cded=await getDoc(_0x4d35d1);if(!_0x42cded[_0x53edc7(0x8d2)]()){showMessage(_0x53edc7(0xd23));return;}currentQuizData={'id':_0x42cded['id'],..._0x42cded[_0x53edc7(0xef5)]()};const _0x15c77b=currentQuizData[_0x53edc7(0x361)]||_0x53edc7(0x5de),_0x756fde=new Date();if(_0x15c77b===_0x53edc7(0x924)){showMessage(_0x53edc7(0xcb5));return;}if(_0x15c77b==='scheduled'){const _0x4d1cb7=currentQuizData[_0x53edc7(0x82b)]?new Date(currentQuizData[_0x53edc7(0x82b)]):null,_0x299629=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0x4d1cb7&&_0x756fde<_0x4d1cb7){showMessage(_0x53edc7(0x9da)+_0x4d1cb7[_0x53edc7(0xe83)]('th-TH',{'hour12':![]}));return;}if(_0x299629&&_0x756fde>_0x299629){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x4f6b64=currentQuizData[_0x53edc7(0x44e)];currentProjectId=_0x4f6b64;const _0x2b45e4=doc(db,'artifacts/'+appId+'/public/data/projects',_0x4f6b64),_0x4192ed=await getDoc(_0x2b45e4);if(!_0x4192ed[_0x53edc7(0x8d2)]()){showMessage(_0x53edc7(0xea6));return;}const _0x21b772=_0x4192ed[_0x53edc7(0xef5)]();currentStudentProjectData=_0x21b772,displayStudentNameSelector(_0x21b772[_0x53edc7(0x28a)],currentQuizData[_0x53edc7(0xe77)]);}catch(_0x12b996){console[_0x53edc7(0x34c)](_0x53edc7(0x42f),_0x12b996),showMessage(_0x53edc7(0x53e));}finally{loadQuizBtn[_0x53edc7(0x206)]=![],loadQuizBtn[_0x53edc7(0x1f9)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x9c854,_0x265a1a){const _0x2caa66=_0x5ddd37;if(!currentQuizData||!currentQuizData['id'])return;const _0x4f5a6c=currentQuizData['id'],_0x7ac02=doc(db,_0x2caa66(0x8a6)+appId+_0x2caa66(0x1f4)+_0x4f5a6c+_0x2caa66(0xd9b),_0x9c854);try{const _0x2f087a=await getDoc(_0x7ac02);if(!_0x2f087a[_0x2caa66(0x8d2)]())return;const _0x4b3fc2=_0x2f087a[_0x2caa66(0xef5)](),_0x1773b3=_0x4b3fc2[_0x2caa66(0x35e)]||[];_0x1773b3['length']>0x0&&(_0x1773b3[_0x1773b3[_0x2caa66(0x85b)]-0x1][_0x2caa66(0x748)]=_0x265a1a,_0x1773b3[_0x1773b3[_0x2caa66(0x85b)]-0x1][_0x2caa66(0x66b)]=!![]),await updateDoc(_0x7ac02,{'points':_0x265a1a,'attempts':_0x1773b3}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x9c854),showMessage(_0x2caa66(0x279)+_0x9c854+_0x2caa66(0x5d9)+_0x265a1a+_0x2caa66(0xc34));}catch(_0x39d12d){console[_0x2caa66(0x34c)](_0x2caa66(0x902),_0x39d12d),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x3d7802=_0x5ddd37,_0x2049c9=document[_0x3d7802(0x4ff)]('game-pin-input'),_0x4d04e1=document[_0x3d7802(0x4ff)](_0x3d7802(0x201)),_0x387890=document[_0x3d7802(0x4ff)](_0x3d7802(0x920)),_0x29b908=_0x2049c9[_0x3d7802(0x717)][_0x3d7802(0x26c)](),_0x1353c6=_0x4d04e1[_0x3d7802(0x717)][_0x3d7802(0x26c)]();if(!_0x29b908||!_0x1353c6){showMessage(_0x3d7802(0xd45));return;}_0x387890[_0x3d7802(0x206)]=!![],_0x387890[_0x3d7802(0x1f9)]=_0x3d7802(0xb08);try{const _0x324653=collection(db,_0x3d7802(0x8a6)+appId+_0x3d7802(0x299)),_0x585c25=query(_0x324653,where(_0x3d7802(0x5c4),'==',_0x29b908),where(_0x3d7802(0x361),'in',[_0x3d7802(0x356),_0x3d7802(0xb0e)])),_0x362fc3=await getDocs(_0x585c25);if(_0x362fc3[_0x3d7802(0xb18)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x39d344=_0x362fc3['docs'][0x0],_0x417340=_0x39d344[_0x3d7802(0xef5)]();currentLiveGameId=_0x39d344['id'];const _0x3fe434=_0x417340[_0x3d7802(0x555)],_0x441bf6=doc(db,_0x3d7802(0x8a6)+appId+_0x3d7802(0xad5),_0x3fe434),_0x394736=await getDoc(_0x441bf6);if(!_0x394736[_0x3d7802(0x8d2)]()){showMessage(_0x3d7802(0x4e6));return;}currentQuizData={'id':_0x394736['id'],..._0x394736[_0x3d7802(0xef5)]()};if(_0x417340[_0x3d7802(0xbd9)]&&_0x417340[_0x3d7802(0xbd9)][_0x1353c6]){const _0x36565b=_0x417340[_0x3d7802(0xbd9)][_0x1353c6];if(_0x36565b[_0x3d7802(0x361)]===_0x3d7802(0x924)){_0x387890[_0x3d7802(0x1f9)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x18b431={};_0x18b431[_0x3d7802(0x7b2)+_0x1353c6+'.status']=_0x3d7802(0x5de),await updateDoc(doc(db,_0x3d7802(0x8a6)+appId+'/public/data/liveGames',currentLiveGameId),_0x18b431),showView(_0x3d7802(0x263)),currentStudentName=_0x1353c6,listenForLiveGameUpdates();return;}else{showMessage(_0x3d7802(0x244));return;}}if(_0x417340['status']!==_0x3d7802(0x356)){showMessage(_0x3d7802(0x9e5));return;}_0x387890['innerHTML']=_0x3d7802(0xed3);const _0x4536f5={};_0x4536f5['players.'+_0x1353c6]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x3d7802(0x8a6)+appId+_0x3d7802(0x299),currentLiveGameId),_0x4536f5),currentStudentName=_0x1353c6,listenForLiveGameUpdates();}catch(_0x34a875){console['error'](_0x3d7802(0x338),_0x34a875),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x387890['disabled']=![],_0x387890[_0x3d7802(0x1f9)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x285b69,_0x531d7e){const _0x129329=_0x5ddd37,_0x6fd521=document[_0x129329(0x4ff)]('student-name-select');document['getElementById'](_0x129329(0xb7a))['textContent']='แบบทดสอบ:\x20'+_0x531d7e,!_0x285b69||_0x285b69[_0x129329(0x85b)]===0x0?(_0x6fd521[_0x129329(0x1f9)]=_0x129329(0xef6),startQuizBtn[_0x129329(0x206)]=!![]):(_0x6fd521[_0x129329(0x1f9)]=_0x129329(0xb09),_0x285b69['forEach'](_0x255c9b=>{const _0x44edca=_0x129329,_0x2ec03b=document[_0x44edca(0x23d)]('option');_0x2ec03b[_0x44edca(0x717)]=_0x255c9b,_0x2ec03b['textContent']=_0x255c9b,_0x6fd521['appendChild'](_0x2ec03b);}),startQuizBtn['disabled']=![]),studentInitialView[_0x129329(0xc2e)][_0x129329(0xee4)](_0x129329(0xc89)),studentNameSelectionView[_0x129329(0xc2e)][_0x129329(0x716)](_0x129329(0xc89));}function shuffleArray(_0x23bb09){const _0x46c62a=_0x5ddd37;for(let _0x75e8dd=_0x23bb09['length']-0x1;_0x75e8dd>0x0;_0x75e8dd--){const _0x446fa5=Math[_0x46c62a(0x9f5)](Math[_0x46c62a(0x21a)]()*(_0x75e8dd+0x1));[_0x23bb09[_0x75e8dd],_0x23bb09[_0x446fa5]]=[_0x23bb09[_0x446fa5],_0x23bb09[_0x75e8dd]];}}function getShuffledQuiz(_0x493efd){const _0x47810a=_0x5ddd37;let _0x37b51c=JSON[_0x47810a(0xe29)](JSON[_0x47810a(0xe5a)](_0x493efd));const _0x4d9127=_0x37b51c[_0x47810a(0x297)]?.[_0x47810a(0x4bb)]||_0x47810a(0x527);if(_0x4d9127===_0x47810a(0x527))return _0x37b51c;return(_0x4d9127===_0x47810a(0xdc6)||_0x4d9127===_0x47810a(0x67b))&&shuffleArray(_0x37b51c[_0x47810a(0x7f9)]),(_0x4d9127===_0x47810a(0xce2)||_0x4d9127===_0x47810a(0x67b))&&_0x37b51c[_0x47810a(0x7f9)]['forEach'](_0x277f22=>{const _0x3c995c=_0x47810a,_0xea70c6=_0x277f22['questionType']||_0x37b51c[_0x3c995c(0xa9d)];if(_0x277f22[_0x3c995c(0x4ad)]){let _0x2f1fc8=_0x277f22[_0x3c995c(0x4ad)][_0x3c995c(0xa25)]((_0x13cc94,_0x32a29d)=>({'text':_0x13cc94,'isCorrect':_0x32a29d===_0x277f22[_0x3c995c(0x791)]}));shuffleArray(_0x2f1fc8),_0x277f22[_0x3c995c(0x4ad)]=_0x2f1fc8[_0x3c995c(0xa25)](_0x16351e=>_0x16351e[_0x3c995c(0xa75)]),_0x277f22['correctAnswerIndex']=_0x2f1fc8[_0x3c995c(0xed5)](_0x5bf72c=>_0x5bf72c[_0x3c995c(0x624)]);}_0xea70c6===_0x3c995c(0x867)&&_0x277f22[_0x3c995c(0x20b)]&&shuffleArray(_0x277f22['allResponses']);}),_0x37b51c;}function displayQuizForStudent(_0x3a0842){const _0x2164f2=_0x5ddd37;studentQuizArea[_0x2164f2(0xc2e)][_0x2164f2(0x716)](_0x2164f2(0xc89)),currentDisplayedQuiz=getShuffledQuiz(_0x3a0842);currentMode!==_0x2164f2(0xb26)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2164f2(0xbe5)](_0x2164f2(0xce7),handleFullscreenChange),document['addEventListener'](_0x2164f2(0x4f8),handleVisibilityChange),enterFullscreen(),window[_0x2164f2(0xbe5)](_0x2164f2(0x34d),resetDimTimer),window[_0x2164f2(0xbe5)](_0x2164f2(0xa24),resetDimTimer),window[_0x2164f2(0xbe5)](_0x2164f2(0x5ae),resetDimTimer),window[_0x2164f2(0xbe5)](_0x2164f2(0x56c),resetDimTimer),resetDimTimer());const _0x249917=currentDisplayedQuiz[_0x2164f2(0x297)]?.[_0x2164f2(0x69f)]||_0x2164f2(0x527);if(_0x249917==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x2164f2(0xd91)]);else _0x249917===_0x2164f2(0x8d1)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x2363d6=_0x5ddd37,_0x369bbe=currentDisplayedQuiz['settings']?.[_0x2363d6(0x573)]===!![],_0x259bce=currentDisplayedQuiz[_0x2363d6(0x297)]?.[_0x2363d6(0x5f1)]||_0x2363d6(0xcf9);let _0xfe3c74='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x2363d6(0xe77)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x2363d6(0xb26)?_0x2363d6(0x7d5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x2363d6(0x7f9)][_0x2363d6(0x23a)]((_0x235327,_0x1fb10c)=>{const _0xcd2da7=_0x2363d6,_0x1ca8af=_0x235327[_0xcd2da7(0x278)]||currentDisplayedQuiz['quizType'];_0xfe3c74+=_0xcd2da7(0x7ce);if(_0x1ca8af===_0xcd2da7(0x867)){}else _0xfe3c74+='<p>'+(_0x1fb10c+0x1)+'.\x20'+(_0x235327['instructions']||_0x235327[_0xcd2da7(0xb93)])+_0xcd2da7(0x7d3),_0x235327[_0xcd2da7(0xa18)]&&(_0xfe3c74+=_0xcd2da7(0x362)+_0x235327['imageCode']+'</div>');_0xfe3c74+=_0xcd2da7(0x7da);switch(_0x1ca8af){case _0xcd2da7(0x3d7):_0xfe3c74+=_0xcd2da7(0xe05)+_0x1fb10c+_0xcd2da7(0x1fd);break;case _0xcd2da7(0xed0):_0xfe3c74+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1fb10c+'_opt0\x22\x20name=\x22question'+_0x1fb10c+_0xcd2da7(0x618)+_0x1fb10c+'_opt0\x22>ใช่</label></div>',_0xfe3c74+=_0xcd2da7(0x93b)+_0x1fb10c+_0xcd2da7(0xbc5)+_0x1fb10c+_0xcd2da7(0x92e)+_0x1fb10c+_0xcd2da7(0x58c);break;case _0xcd2da7(0x867):_0xfe3c74+=_0xcd2da7(0xa5a)+_0x235327['stem']+_0xcd2da7(0x5dd)+_0x1fb10c+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x235327[_0xcd2da7(0x20b)][_0xcd2da7(0xa25)](_0x1a4ed5=>_0xcd2da7(0x33e)+_0x1a4ed5+'\x22>'+_0x1a4ed5+_0xcd2da7(0x999))[_0xcd2da7(0x40a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0xfe3c74+=_0x235327['options'][_0xcd2da7(0xa25)]((_0xef2c6a,_0x2e8960)=>_0xcd2da7(0x9e8)+_0x1fb10c+_0xcd2da7(0x7c9)+_0x2e8960+_0xcd2da7(0x7f2)+_0x1fb10c+_0xcd2da7(0x8e5)+_0x2e8960+_0xcd2da7(0x238)+_0x1fb10c+_0xcd2da7(0x7c9)+_0x2e8960+'\x22>'+_0xef2c6a+_0xcd2da7(0x23f))['join']('');break;}_0xfe3c74+=_0xcd2da7(0x629),_0x369bbe&&(_0xfe3c74+=_0xcd2da7(0xcd5),_0x259bce==='mandatory'?_0xfe3c74+=_0xcd2da7(0x5ce)+_0x1fb10c+_0xcd2da7(0xc86)+_0x1fb10c+_0xcd2da7(0xa83)+_0x1fb10c+_0xcd2da7(0x286)+_0x1fb10c+_0xcd2da7(0x850):_0xfe3c74+=_0xcd2da7(0xef0)+_0x1fb10c+_0xcd2da7(0xc86)+_0x1fb10c+_0xcd2da7(0x813)+_0x1fb10c+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xfe3c74+=_0xcd2da7(0x629)),_0xfe3c74+='</div>';}),_0xfe3c74+=_0x2363d6(0xe50),_0xfe3c74+=_0x2363d6(0xe17),studentQuizArea[_0x2363d6(0x1f9)]=_0xfe3c74;if(currentMode===_0x2363d6(0xb26)){const _0x1014c8=document[_0x2363d6(0x4ff)](_0x2363d6(0x977));if(_0x1014c8)_0x1014c8[_0x2363d6(0xbe5)](_0x2363d6(0xe61),cancelAdminTest);}const _0x1317db=document[_0x2363d6(0x4ff)](_0x2363d6(0x39d));_0x1317db&&(_0x1317db['addEventListener'](_0x2363d6(0x891),handleSubmitQuiz),_0x1317db[_0x2363d6(0xbe5)](_0x2363d6(0xe61),_0x441490=>{const _0x3eb8ae=_0x2363d6;if(_0x441490['target'][_0x3eb8ae(0xc2e)][_0x3eb8ae(0x995)](_0x3eb8ae(0x5b2))){const _0xc3fe22=_0x441490['target'],_0x5707f3=_0xc3fe22['dataset'][_0x3eb8ae(0xb48)],_0x9c0786=_0xc3fe22[_0x3eb8ae(0x664)][_0x3eb8ae(0x717)];document[_0x3eb8ae(0x4ff)](_0x3eb8ae(0xacb)+_0x5707f3)[_0x3eb8ae(0x717)]=_0x9c0786;const _0x5e95d6=_0xc3fe22[_0x3eb8ae(0x97f)];_0x5e95d6[_0x3eb8ae(0xe1c)]('.confidence-choice-btn')['forEach'](_0x3699f9=>_0x3699f9[_0x3eb8ae(0xc2e)]['remove']('active')),_0xc3fe22[_0x3eb8ae(0xc2e)][_0x3eb8ae(0xee4)](_0x3eb8ae(0x5de));}}));if(window[_0x2363d6(0xb8c)])window[_0x2363d6(0xb8c)][_0x2363d6(0xe28)]([studentQuizArea]);}async function handleSubmitQuiz(_0x54b162){const _0x55eee1=_0x5ddd37;if(_0x54b162)_0x54b162['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x433eb6=document[_0x55eee1(0x4ff)](_0x55eee1(0x39d));if(!_0x433eb6)return;const _0x52ac0c=currentDisplayedQuiz[_0x55eee1(0x297)]?.[_0x55eee1(0x573)]===!![],_0x445ea6=currentDisplayedQuiz['settings']?.[_0x55eee1(0x5f1)]||_0x55eee1(0xcf9);if(_0x52ac0c&&_0x445ea6===_0x55eee1(0xd50)){let _0x1e9a04=!![];for(let _0xea143=0x0;_0xea143<currentDisplayedQuiz[_0x55eee1(0x7f9)][_0x55eee1(0x85b)];_0xea143++){const _0x14d54f=_0x433eb6['querySelector']('#confidence-input-'+_0xea143);if(!_0x14d54f||_0x14d54f[_0x55eee1(0x717)]===''){_0x1e9a04=![];break;}}if(!_0x1e9a04){showMessage(_0x55eee1(0xbfb));return;}}const _0x2dbed3=_0x433eb6[_0x55eee1(0xee9)](_0x55eee1(0x78a)),_0x382731=currentDisplayedQuiz[_0x55eee1(0x7f9)][_0x55eee1(0x6a0)](_0x26c1f3=>_0x26c1f3[_0x55eee1(0x278)]==='short_answer');_0x2dbed3&&(_0x2dbed3['disabled']=!![],_0x2dbed3[_0x55eee1(0x1f9)]=_0x382731?_0x55eee1(0xc53):_0x55eee1(0x57a));const _0x20d6a6=new FormData(_0x433eb6),_0x2dc397=currentDisplayedQuiz[_0x55eee1(0x7f9)][_0x55eee1(0xa25)]((_0x5467ad,_0xcbc818)=>{const _0x4ff9a5=_0x55eee1,_0xdcc115=_0x20d6a6[_0x4ff9a5(0x1fc)](_0x4ff9a5(0xb0e)+_0xcbc818);let _0xc31c94;_0x445ea6===_0x4ff9a5(0xd50)?_0xc31c94=_0x20d6a6[_0x4ff9a5(0x1fc)](_0x4ff9a5(0xbb2)+_0xcbc818):_0xc31c94=_0x20d6a6[_0x4ff9a5(0x1fc)]('confidence'+_0xcbc818)==='on';let _0x51be35=null;if(_0xdcc115!==null&&_0xdcc115!==undefined){const _0x209e72=_0x5467ad[_0x4ff9a5(0x278)]||currentDisplayedQuiz['quizType'];_0x209e72===_0x4ff9a5(0xf0e)||_0x209e72===_0x4ff9a5(0xc42)?_0x51be35=parseInt(_0xdcc115):_0x51be35=_0xdcc115;}return{'answer':_0x51be35,'wasConfident':_0xc31c94};}),_0x58d5c2=currentQuizData['id'],_0x56d538=doc(db,_0x55eee1(0x8a6)+appId+'/public/data/quizzes/'+_0x58d5c2+_0x55eee1(0xd9b),currentStudentName),_0x3510a1=await getDoc(_0x56d538),_0x13c8fd=_0x3510a1['exists']()?_0x3510a1[_0x55eee1(0xef5)]():{},_0x3d1a04=_0x13c8fd[_0x55eee1(0x35e)]||[];await processAndSubmitAnswers(_0x2dc397,_0x3d1a04);}async function gradeShortAnswerWithAI(_0x56031d,_0x33f607){const _0x41ca9f=_0x5ddd37;if(!_0x56031d||!_0x33f607)return![];try{const _0x47f3b1='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x56031d+_0x41ca9f(0xe79)+_0x33f607+_0x41ca9f(0x8f8),_0x1534b1={'contents':[{'role':'user','parts':[{'text':_0x47f3b1}]}]},_0x16e86e=_0x41ca9f(0xa3d),_0x5e2299=_0x41ca9f(0xb2f)+_0x16e86e,_0x1d0752=await fetch(_0x5e2299,{'method':_0x41ca9f(0x473),'headers':{'Content-Type':_0x41ca9f(0xbd7)},'body':JSON[_0x41ca9f(0xe5a)](_0x1534b1)});if(!_0x1d0752['ok'])throw new Error(_0x41ca9f(0x28b));const _0xcf6255=await _0x1d0752[_0x41ca9f(0xc13)](),_0x1ec4f6=_0xcf6255['candidates'][0x0]['content']['parts'][0x0]['text']['trim']()[_0x41ca9f(0xbca)]();return _0x1ec4f6===_0x41ca9f(0x394);}catch(_0x2d46df){return console['error'](_0x41ca9f(0x257),_0x2d46df),![];}}async function processAndSubmitAnswers(_0x485a79,_0x263225){const _0x575db5=_0x5ddd37;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x575db5(0x442)](_0x575db5(0xce7),handleFullscreenChange),document[_0x575db5(0x442)]('visibilitychange',handleVisibilityChange);let _0x34bfe2=0x0;const _0x4c7955=[],_0x55dda9=currentDisplayedQuiz[_0x575db5(0x7f9)]['length'];let _0x3fbaef=0x0,_0x3a9f37=[];const _0xdf583b=currentDisplayedQuiz[_0x575db5(0x7f9)];for(let _0x54e1ff=0x0;_0x54e1ff<_0xdf583b['length'];_0x54e1ff++){const _0x3e6420=_0xdf583b[_0x54e1ff],_0xedff7f=_0x485a79[_0x54e1ff],_0x54a5c0=_0xedff7f?_0xedff7f[_0x575db5(0x641)]:null,_0x2cd1c8=_0xedff7f?_0xedff7f[_0x575db5(0x3e8)]:null;let _0x14e3f1=![],_0x9256c3=0x0;if(_0x54a5c0!==null&&_0x54a5c0!==''){const _0x2d99cf=_0x3e6420[_0x575db5(0x278)]||currentDisplayedQuiz[_0x575db5(0xa9d)];switch(_0x2d99cf){case _0x575db5(0x867):_0x14e3f1=_0x54a5c0===_0x3e6420['correctResponse'];break;case _0x575db5(0xed0):const _0x21e654=_0x54a5c0===!![]||_0x54a5c0===_0x575db5(0x394);_0x14e3f1=_0x21e654===_0x3e6420[_0x575db5(0x98f)];break;case'short_answer':_0x14e3f1=await gradeShortAnswer(_0x54a5c0,_0x3e6420);break;case _0x575db5(0xf0e):default:_0x14e3f1=Number(_0x54a5c0)===_0x3e6420['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x575db5(0x297)]?.['isConfidenceScoringEnabled']){const _0x2f3caf=_0xedff7f?_0xedff7f[_0x575db5(0x3e8)]:null;if(_0x14e3f1&&(_0x2f3caf===!![]||_0x2f3caf===_0x575db5(0xdac)))_0x9256c3=0x2;else{if(_0x14e3f1)_0x9256c3=0x1;else{if(!_0x14e3f1&&(_0x2f3caf===![]||_0x2f3caf==='not_confident'||_0x2f3caf===null))_0x9256c3=0x0;else!_0x14e3f1&&(_0x2f3caf===!![]||_0x2f3caf===_0x575db5(0xdac))&&(_0x9256c3=-0x1);}}}else _0x9256c3=_0x14e3f1?0x1:0x0;_0x34bfe2+=_0x9256c3;if(_0x14e3f1){_0x3fbaef++;if(_0x3fbaef===0x3)_0x3a9f37[_0x575db5(0xb2a)](BADGES['ON_FIRE']['id']);}else _0x3fbaef=0x0;let _0x1c0c95=null;_0x3e6420['options']&&_0x54a5c0!==null&&(_0x1c0c95=_0x3e6420[_0x575db5(0x4ad)][_0x54a5c0]),_0x4c7955[_0x575db5(0xb2a)]({'questionId':_0x3e6420['id'],'answer':_0x54a5c0,'answerText':_0x1c0c95,'isCorrect':_0x14e3f1,'wasConfident':_0x2cd1c8,'pointsAwarded':_0x9256c3,'originalQuestionText':_0x3e6420[_0x575db5(0x692)]||_0x3e6420['questionText']});}const _0x4db7ea=_0x4c7955[_0x575db5(0xd8d)](_0x90da44=>_0x90da44[_0x575db5(0x624)])[_0x575db5(0x85b)],_0x28e0fb=currentDisplayedQuiz[_0x575db5(0x297)]?.['passingScore']??Math[_0x575db5(0x9f5)](_0x55dda9/0x2);_0x4db7ea===_0x55dda9&&_0x55dda9>0x0&&!currentDisplayedQuiz[_0x575db5(0x880)]&&_0x3a9f37[_0x575db5(0xb2a)](BADGES[_0x575db5(0x2c0)]['id']);const _0x4e318d=currentDisplayedQuiz[_0x575db5(0x297)]?.['timerMode'];if(_0x4e318d==='whole_quiz'&&quizStartTime){const _0x569a5a=(new Date()-quizStartTime)/0x3e8,_0x28f9df=currentDisplayedQuiz[_0x575db5(0x297)]['timerDuration']*0x3c;_0x4db7ea>=_0x28e0fb&&_0x569a5a<_0x28f9df/0x2&&_0x3a9f37[_0x575db5(0xb2a)](BADGES[_0x575db5(0xac4)]['id']);}_0x263225[_0x575db5(0x85b)]===0x0&&_0x4db7ea===_0x55dda9&&_0x55dda9>0x0&&_0x3a9f37['push'](BADGES[_0x575db5(0xa1b)]['id']);if(_0x263225[_0x575db5(0x85b)]>0x0){const _0x286e91=_0x263225[0x0]['score'];if(_0x286e91<_0x28e0fb&&_0x4db7ea>=_0x28e0fb){const _0x32d274=_0x263225[_0x575db5(0x6a0)](_0x5911ab=>(_0x5911ab[_0x575db5(0x614)]||[])[_0x575db5(0xdf4)](BADGES['COMEBACK_KING']['id']));!_0x32d274&&_0x3a9f37[_0x575db5(0xb2a)](BADGES[_0x575db5(0xb7d)]['id']);}}_0x263225['length']===0x4&&_0x3a9f37[_0x575db5(0xb2a)](BADGES['PERSEVERANCE']['id']);const _0x36081b=currentDisplayedQuiz[_0x575db5(0x297)][_0x575db5(0x6a1)];if(currentMode===_0x575db5(0xb26)){handleResultDisplay(_0x36081b,_0x4db7ea,_0x34bfe2,_0x3a9f37,_0x4c7955,_0x55dda9);return;}const _0x248548=currentQuizData['id'],_0x1f93a5=doc(db,_0x575db5(0x8a6)+appId+_0x575db5(0x1f4)+_0x248548+_0x575db5(0xd9b),currentStudentName);try{const _0x27680c=[..._0x263225],_0x3b7fdf={'score':_0x4db7ea,'points':_0x34bfe2,'badges':Array[_0x575db5(0x8ed)](new Set(_0x3a9f37)),'submittedAt':new Date()[_0x575db5(0x4f9)](),'answers':_0x4c7955};_0x27680c[_0x575db5(0xb2a)](_0x3b7fdf);const _0x16f0af=_0x263225[_0x575db5(0x85b)]===0x0?_0x4db7ea:_0x263225[0x0][_0x575db5(0x6e9)]||0x0,_0x3f8af0=Math['max'](..._0x27680c['map'](_0x37f758=>_0x37f758['score']));await setDoc(_0x1f93a5,{'studentName':currentStudentName,'totalQuestions':_0x55dda9,'attempts':_0x27680c,'firstScore':_0x16f0af,'bestScore':_0x3f8af0,'latestScore':_0x4db7ea,'points':_0x34bfe2,'latestSubmittedAt':_0x3b7fdf['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x575db5(0x44e)],currentStudentName),handleResultDisplay(_0x36081b,_0x4db7ea,_0x34bfe2,_0x3a9f37,_0x4c7955,_0x55dda9);}catch(_0x4dcb83){console[_0x575db5(0x34c)](_0x575db5(0x284),_0x4dcb83),showMessage(_0x575db5(0x6a5));}}async function updateStudentProfile(_0x459bda,_0x220cf7){const _0x17b2cb=_0x5ddd37,_0x4cbc9c=doc(db,_0x17b2cb(0x8a6)+appId+_0x17b2cb(0x9c7)+_0x459bda+_0x17b2cb(0x72e),_0x220cf7);try{const _0x30de74=query(collection(db,'artifacts/'+appId+_0x17b2cb(0xad5)),where('projectId','==',_0x459bda)),_0x5a372c=await getDocs(_0x30de74),_0x2e45cf=new Map(_0x5a372c[_0x17b2cb(0xb91)][_0x17b2cb(0xa25)](_0x427520=>[_0x427520['id'],_0x427520['data']()])),_0x1a038c=Array[_0x17b2cb(0x8ed)](_0x2e45cf[_0x17b2cb(0x4cf)]());await runTransaction(db,async _0x2debf0=>{const _0x1a47cd=_0x17b2cb;let _0x5c1fb7=0x0;const _0x3a1bd9={};let _0x13b9d3=!![],_0xeacd1a=0x0,_0x343099=0x0;for(const _0x4725f9 of _0x1a038c){const _0x232bee=_0x2e45cf[_0x1a47cd(0x1fc)](_0x4725f9),_0x290f8e=doc(db,'artifacts/'+appId+_0x1a47cd(0x1f4)+_0x4725f9+'/submissions',_0x220cf7),_0x2ef72b=await _0x2debf0[_0x1a47cd(0x1fc)](_0x290f8e);if(_0x2ef72b[_0x1a47cd(0x8d2)]()){const _0x1a3195=_0x2ef72b[_0x1a47cd(0xef5)](),_0x37bdcb=_0x1a3195[_0x1a47cd(0x35e)]||[];if(_0x37bdcb[_0x1a47cd(0x85b)]>0x0){const _0x20e6ec=_0x37bdcb['reduce']((_0x122079,_0x113927)=>{const _0x4316f2=_0x1a47cd;if(_0x113927['score']>_0x122079['score'])return _0x113927;if(_0x113927[_0x4316f2(0x6e9)]===_0x122079[_0x4316f2(0x6e9)])return(_0x113927[_0x4316f2(0x748)]||0x0)>(_0x122079['points']||0x0)?_0x113927:_0x122079;return _0x122079;},{'score':-0x1,'points':-0x1});_0x20e6ec[_0x1a47cd(0x6e9)]>-0x1&&(_0x5c1fb7+=_0x20e6ec[_0x1a47cd(0x748)]||0x0,(_0x20e6ec['badges']||[])['forEach'](_0x4c290e=>{_0x3a1bd9[_0x4c290e]=(_0x3a1bd9[_0x4c290e]||0x0)+0x1;}));}}if(_0x232bee[_0x1a47cd(0xe77)]!==_0x1a47cd(0xcca)){_0x343099++;if(_0x2ef72b[_0x1a47cd(0x8d2)]()){_0xeacd1a++;const _0x413655=_0x2ef72b['data']();_0x413655[_0x1a47cd(0x73f)]!==_0x413655['totalQuestions']&&(_0x13b9d3=![]);}else _0x13b9d3=![];}}_0x343099>0x0&&_0xeacd1a===_0x343099&&_0x13b9d3?_0x3a1bd9[_0x1a47cd(0x4a0)]=0x1:_0x3a1bd9['specialist']=0x0,_0x2debf0[_0x1a47cd(0x9c0)](_0x4cbc9c,{'studentName':_0x220cf7,'totalPoints':_0x5c1fb7,'unlockedBadges':Object['keys'](_0x3a1bd9)['filter'](_0x104327=>_0x3a1bd9[_0x104327]>0x0),'badgesCount':_0x3a1bd9},{'merge':!![]});});}catch(_0x382b31){console[_0x17b2cb(0x34c)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x382b31),showMessage(_0x17b2cb(0x3db));}}function startAdminTest(){const _0x34d2ff=_0x5ddd37;if(!currentQuizData){showMessage(_0x34d2ff(0xa4f));return;}let _0x146425=JSON['parse'](JSON[_0x34d2ff(0xe5a)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x34d2ff(0x699),adminView['classList'][_0x34d2ff(0xee4)]('hidden'),studentView['classList'][_0x34d2ff(0x716)](_0x34d2ff(0xc89)),studentInitialView[_0x34d2ff(0xc2e)][_0x34d2ff(0xee4)](_0x34d2ff(0xc89)),studentNameSelectionView[_0x34d2ff(0xc2e)][_0x34d2ff(0xee4)](_0x34d2ff(0xc89)),studentResultArea['classList'][_0x34d2ff(0xee4)]('hidden'),studentQuizArea[_0x34d2ff(0xc2e)][_0x34d2ff(0x716)](_0x34d2ff(0xc89)),quizStartTime=new Date(),displayQuizForStudent(_0x146425);}function handleResultDisplay(_0x2040ee,_0x36375e,_0x4ba1da,_0x45ec6f,_0x41dd22,_0x196226){const _0x418314=_0x5ddd37;if(_0x2040ee===_0x418314(0xb4d)){displaySubmissionConfirmation();return;}const _0x4e1d4e=currentDisplayedQuiz[_0x418314(0x297)]?.[_0x418314(0x27e)]??Math[_0x418314(0x9f5)](_0x196226/0x2),_0x218d7a=currentDisplayedQuiz['settings']?.[_0x418314(0xede)]??![],_0x8af4ee=currentDisplayedQuiz[_0x418314(0x297)]?.[_0x418314(0x99f)]===!![],_0x5c3ea2=_0x36375e<_0x4e1d4e,_0x1a6180=_0x2040ee===_0x418314(0x87c)||_0x2040ee===_0x418314(0x3f5);if(_0x8af4ee&&_0x5c3ea2&&!_0x1a6180){_0x2040ee===_0x418314(0x76c)?displayResultsWithAnswers(_0x36375e,_0x4ba1da,_0x45ec6f,_0x41dd22,_0x196226,!![]):displayLoopScreen(_0x36375e,_0x196226,_0x2040ee);return;}if(_0x218d7a&&_0x5c3ea2){startAdaptiveFlow(_0x41dd22,_0x36375e,_0x196226);return;}switch(_0x2040ee){case _0x418314(0x76c):displayResultsWithAnswers(_0x36375e,_0x4ba1da,_0x45ec6f,_0x41dd22,_0x196226);break;case _0x418314(0x45d):displayResultsScoreOnly(_0x36375e,_0x4ba1da,_0x45ec6f,_0x196226);break;case _0x418314(0xd65):displayPassFailOnly(_0x36375e,_0x196226);break;case'half_mark_status':displayHalfMarkResult(_0x36375e,_0x196226);break;case _0x418314(0x3f5):displayPerfectScoreResult(_0x36375e,_0x196226);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x16fe67){const _0x5b0d47=_0x5ddd37;studentReadingArea[_0x5b0d47(0x1f9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x187732=_0x5b0d47(0x280)+_0x16fe67+_0x5b0d47(0xe91)+simpleMathPrompt+_0x5b0d47(0x8ab),_0x5a3b31={'type':_0x5b0d47(0x3d9),'properties':{'questionText':{'type':_0x5b0d47(0xa74)},'options':{'type':_0x5b0d47(0x26d),'items':{'type':_0x5b0d47(0xa74)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5b0d47(0xa74)}},'required':[_0x5b0d47(0xb93),_0x5b0d47(0x4ad),_0x5b0d47(0x791),'explanation']},_0x28f9cc={'type':_0x5b0d47(0x3d9),'properties':{'topic':{'type':_0x5b0d47(0xa74)},'questions':{'type':_0x5b0d47(0x26d),'items':_0x5a3b31}},'required':[_0x5b0d47(0xe77),_0x5b0d47(0x7f9)]};try{const _0x2427c=await callAnalysisApi(_0x187732,_0x28f9cc);_0x2427c['isRemedial']=!![],studentReadingArea[_0x5b0d47(0xc2e)][_0x5b0d47(0xee4)]('hidden');const _0x4df83c={...currentDisplayedQuiz[_0x5b0d47(0x297)],'isAdaptive':![],'resultsDisplay':_0x5b0d47(0x76c)};_0x2427c['settings']=_0x4df83c,displayQuizForStudent(_0x2427c);}catch(_0x274580){console[_0x5b0d47(0x34c)](_0x5b0d47(0x985),_0x274580),showMessage(_0x5b0d47(0x305)),showView('student');}}function displayPassFailOnly(_0x279d1c,_0x487ef2){const _0x4fcf55=_0x5ddd37,_0x10accc=currentDisplayedQuiz['settings']?.[_0x4fcf55(0x27e)]??-0x1,_0x374592=currentDisplayedQuiz[_0x4fcf55(0x880)]===!![];let _0x39dd17='',_0x137ce1=![];if(_0x374592||_0x10accc!==-0x1){_0x137ce1=_0x374592?_0x279d1c===_0x487ef2:_0x279d1c>=_0x10accc;const _0x23f953=_0x137ce1?_0x4fcf55(0x90a):_0x4fcf55(0xa31),_0x40e6d7=_0x137ce1?_0x4fcf55(0xca6):_0x4fcf55(0x74e);_0x39dd17=_0x4fcf55(0x8dd)+_0x23f953+'\x22>'+_0x40e6d7+'</span></div>';}else _0x39dd17='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x36edb5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39dd17+_0x4fcf55(0xcdf);studentResultArea['innerHTML']=_0x36edb5,studentResultArea[_0x4fcf55(0xc2e)]['remove']('hidden'),studentQuizArea[_0x4fcf55(0xc2e)]['add'](_0x4fcf55(0xc89)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x137ce1});}function cancelAdminTest(){const _0x27b3ec=_0x5ddd37;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x27b3ec(0x442)]('fullscreenchange',handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode=_0x27b3ec(0x420),studentView[_0x27b3ec(0xc2e)]['add'](_0x27b3ec(0xc89)),adminView[_0x27b3ec(0xc2e)][_0x27b3ec(0x716)](_0x27b3ec(0xc89)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x27b3ec(0xdf0));}function setupResultScreenBackButton(_0x19c2dc){const _0x542453=_0x5ddd37,_0x2dc14c={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x19c2dc};if(_0x2dc14c[_0x542453(0xa78)]){const _0x1672c6=_0x542453(0x2f4);studentResultArea[_0x542453(0xa8f)](_0x542453(0xc79),_0x1672c6),document[_0x542453(0x4ff)](_0x542453(0x42c))[_0x542453(0xbe5)]('click',()=>{const _0x4932c5=_0x542453;studentResultArea[_0x4932c5(0xc2e)][_0x4932c5(0xee4)](_0x4932c5(0xc89)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5f16e6='back-from-results-btn',_0x153f21=currentMode===_0x542453(0xb26),_0x2e67f7=_0x153f21?_0x542453(0x47e):_0x542453(0x4e1);let _0x22f51b='';_0x2dc14c['showRankings']&&(_0x22f51b+=_0x542453(0x4bd));let _0x53ed56=_0x2dc14c[_0x542453(0x548)];_0x53ed56===undefined&&(_0x53ed56=_0x2dc14c[_0x542453(0x6e9)]<_0x2dc14c[_0x542453(0x5eb)]);_0x53ed56&&(_0x22f51b+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x22f51b+=_0x542453(0xda5)+_0x5f16e6+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x2e67f7+'</button>';const _0x458673='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x22f51b+_0x542453(0x629);studentResultArea[_0x542453(0xa8f)](_0x542453(0xc79),_0x458673),studentResultArea[_0x542453(0xee9)](_0x542453(0x926))?.[_0x542453(0xbe5)](_0x542453(0xe61),handleShowStudentRankings);const _0x3ee00a=studentResultArea[_0x542453(0xee9)]('#retake-for-improvement-btn');_0x3ee00a&&_0x3ee00a[_0x542453(0xbe5)](_0x542453(0xe61),()=>{const _0x2c9de1=_0x542453;studentResultArea[_0x2c9de1(0xc2e)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x542453(0x4ff)](_0x5f16e6)[_0x542453(0xbe5)]('click',()=>{const _0x192b1b=_0x542453;_0x153f21?(currentMode='admin',studentView[_0x192b1b(0xc2e)][_0x192b1b(0xee4)](_0x192b1b(0xc89)),adminView['classList']['remove'](_0x192b1b(0xc89)),showView('project-detail')):(showView(_0x192b1b(0xa46)),document[_0x192b1b(0x4ff)]('quiz-id-input')[_0x192b1b(0x717)]='');});}function displayResultsWithAnswers(_0x19c3ba,_0x34d05e,_0x28da1d,_0x35aaf2,_0x2e0fe6,_0x236982=![]){const _0x4e1edb=_0x5ddd37,_0x4399dc=_0x2e0fe6>0x0?_0x19c3ba/_0x2e0fe6*0x64:0x0,_0xf7831e=currentDisplayedQuiz[_0x4e1edb(0x297)]?.['passingScore']??-0x1,_0xead0c7=currentDisplayedQuiz[_0x4e1edb(0x880)]===!![];let _0x365fab='';if(_0xead0c7||_0xf7831e!==-0x1){let _0x51fc49=_0xead0c7?_0x19c3ba===_0x2e0fe6:_0x19c3ba>=_0xf7831e;const _0x3ddbc7=_0x51fc49?_0x4e1edb(0x90a):_0x4e1edb(0xa31),_0x530419=_0x51fc49?_0x4e1edb(0xca6):'ไม่ผ่าน';_0x365fab=_0x4e1edb(0xdf7)+_0x3ddbc7+'\x22>'+_0x530419+_0x4e1edb(0x7d3);}let _0x131dae=_0x4e1edb(0x69d)+currentStudentName+_0x4e1edb(0x578)+_0x19c3ba+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x2e0fe6+_0x4e1edb(0x316)+_0x365fab+_0x4e1edb(0x425)+_0x34d05e+_0x4e1edb(0xdc2)+_0x4399dc[_0x4e1edb(0xe88)](0x0)+_0x4e1edb(0x84a);currentDisplayedQuiz['questions'][_0x4e1edb(0x23a)]((_0x40511d,_0x1be9f6)=>{const _0x3f803d=_0x4e1edb,_0x51d33e=_0x35aaf2[_0x1be9f6],_0x14d87f=_0x51d33e[_0x3f803d(0x641)],_0x66727e=_0x51d33e['isCorrect'],_0x378a03=_0x40511d[_0x3f803d(0x278)]||currentDisplayedQuiz[_0x3f803d(0xa9d)];_0x131dae+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x66727e?_0x3f803d(0x491):_0x3f803d(0xb6c))+_0x3f803d(0x341)+(_0x1be9f6+0x1)+'.\x20'+(_0x40511d[_0x3f803d(0x692)]||_0x40511d[_0x3f803d(0xb93)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x378a03){case _0x3f803d(0x867):const _0x56985a=_0x14d87f||'ไม่ได้ตอบ',_0x26555d=_0x40511d['correctResponse'];_0x131dae+=_0x3f803d(0x596)+(!_0x66727e?'line-through\x20text-red-700':'')+'\x22>'+_0x56985a+_0x3f803d(0x620);!_0x66727e&&(_0x131dae+=_0x3f803d(0xd16)+_0x26555d+_0x3f803d(0x7d3));break;case _0x3f803d(0x3d7):_0x131dae+=_0x3f803d(0x534)+(_0x14d87f||_0x3f803d(0x73a))+'</p>',_0x131dae+=_0x3f803d(0x75e)+_0x40511d['idealAnswer']+_0x3f803d(0x7d3);break;case _0x3f803d(0xed0):_0x131dae+=_0x3f803d(0x52d)+(_0x40511d[_0x3f803d(0x98f)]===!![]?_0x3f803d(0xc31):'')+'\x20'+(_0x14d87f==='true'&&!_0x66727e?_0x3f803d(0x492):'')+_0x3f803d(0x301),_0x131dae+=_0x3f803d(0x52d)+(_0x40511d['correctAnswer']===![]?_0x3f803d(0xc31):'')+'\x20'+(_0x14d87f===_0x3f803d(0x55e)&&!_0x66727e?_0x3f803d(0x492):'')+_0x3f803d(0x568);break;default:_0x131dae+=_0x40511d[_0x3f803d(0x4ad)][_0x3f803d(0xa25)]((_0x2421a5,_0x15ca39)=>{const _0x216c27=_0x3f803d;let _0x2364eb='',_0x23d926='';if(_0x15ca39===_0x40511d[_0x216c27(0x791)])_0x2364eb=_0x216c27(0xc31),_0x23d926=_0x216c27(0x87e);else _0x15ca39===_0x14d87f&&(_0x2364eb=_0x216c27(0x7d7),_0x23d926='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x216c27(0x1f8)+_0x2364eb+'\x22>'+_0x23d926+_0x2421a5+_0x216c27(0x629);})[_0x3f803d(0x40a)]('');break;}_0x131dae+=_0x3f803d(0x5bd)+(_0x40511d[_0x3f803d(0x29b)]||_0x3f803d(0x60a))+_0x3f803d(0x629);if(!_0x66727e){const _0xa5bdcc=_0x40511d[_0x3f803d(0x692)]||_0x40511d[_0x3f803d(0xb93)];_0x131dae+=_0x3f803d(0xa5c)+escape(_0xa5bdcc)+_0x3f803d(0x6f0);}_0x131dae+=_0x3f803d(0x629);}),studentResultArea[_0x4e1edb(0x1f9)]=_0x131dae,renderEarnedBadges(_0x28da1d,_0x4e1edb(0x6c6)),studentResultArea[_0x4e1edb(0xc2e)][_0x4e1edb(0x716)](_0x4e1edb(0xc89)),studentQuizArea['classList'][_0x4e1edb(0xee4)](_0x4e1edb(0xc89)),setupResultScreenBackButton({'isLooping':_0x236982,'score':_0x19c3ba,'totalQuestions':_0x2e0fe6,'showRankings':!![]});if(window[_0x4e1edb(0xb8c)])window[_0x4e1edb(0xb8c)][_0x4e1edb(0xe28)]([studentResultArea]);}function displayResultsScoreOnly(_0x31e552,_0x15a9dd,_0x43f449,_0x2a9e17){const _0x3ff022=_0x5ddd37,_0x33c1d6=_0x2a9e17>0x0?_0x31e552/_0x2a9e17*0x64:0x0,_0x5f26b6=currentDisplayedQuiz[_0x3ff022(0x297)]?.[_0x3ff022(0x27e)]??-0x1,_0x20ba8f=currentDisplayedQuiz[_0x3ff022(0x880)]===!![];let _0x480996='';if(_0x20ba8f||_0x5f26b6!==-0x1){let _0x1ad151=_0x20ba8f?_0x31e552===_0x2a9e17:_0x31e552>=_0x5f26b6;const _0x5b0959=_0x1ad151?_0x3ff022(0x90a):'bg-red-100\x20text-red-800',_0x41feed=_0x1ad151?_0x3ff022(0xca6):_0x3ff022(0x74e);_0x480996=_0x3ff022(0xdf7)+_0x5b0959+'\x22>'+_0x41feed+_0x3ff022(0x7d3);}let _0x65717a=_0x3ff022(0x3ea)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x31e552+_0x3ff022(0xb5d)+_0x2a9e17+_0x3ff022(0x316)+_0x480996+_0x3ff022(0x425)+_0x15a9dd+_0x3ff022(0xc00)+_0x33c1d6[_0x3ff022(0xe88)](0x0)+_0x3ff022(0xac1);studentResultArea['innerHTML']=_0x65717a,renderEarnedBadges(_0x43f449,_0x3ff022(0x6c6)),studentResultArea['classList'][_0x3ff022(0x716)](_0x3ff022(0xc89)),studentQuizArea[_0x3ff022(0xc2e)]['add'](_0x3ff022(0xc89)),setupResultScreenBackButton({'score':_0x31e552,'totalQuestions':_0x2a9e17,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x9a8ebd=_0x5ddd37;let _0x28cde3=_0x9a8ebd(0xee3)+currentStudentName+_0x9a8ebd(0x5e7);studentResultArea[_0x9a8ebd(0x1f9)]=_0x28cde3,studentResultArea[_0x9a8ebd(0xc2e)][_0x9a8ebd(0x716)](_0x9a8ebd(0xc89)),studentQuizArea[_0x9a8ebd(0xc2e)][_0x9a8ebd(0xee4)](_0x9a8ebd(0xc89)),document[_0x9a8ebd(0x4ff)](_0x9a8ebd(0x553))[_0x9a8ebd(0xbe5)](_0x9a8ebd(0xe61),()=>{const _0x108ac7=_0x9a8ebd;showView(_0x108ac7(0xa46)),document[_0x108ac7(0x4ff)](_0x108ac7(0x96a))[_0x108ac7(0x717)]='';});}function renderEarnedBadges(_0x89fd15,_0x1f3e4c){const _0x213bfb=_0x5ddd37,_0x4d43ef=document[_0x213bfb(0x4ff)](_0x1f3e4c);if(!_0x4d43ef||!_0x89fd15||_0x89fd15['length']===0x0)return;let _0x2579b1='';_0x89fd15[_0x213bfb(0x23a)]((_0x36ec4c,_0x518e02)=>{const _0x223a4c=_0x213bfb,_0x5f51ee=Object[_0x223a4c(0x7ee)](BADGES)[_0x223a4c(0xe0f)](_0x791e8b=>_0x791e8b['id']===_0x36ec4c);_0x5f51ee&&(_0x2579b1+=_0x223a4c(0xa2e)+_0x518e02*0.2+_0x223a4c(0xd9f)+_0x5f51ee[_0x223a4c(0x32c)]+_0x223a4c(0x413)+_0x5f51ee[_0x223a4c(0xbeb)]+_0x223a4c(0xaee)+_0x5f51ee[_0x223a4c(0xc44)]+_0x223a4c(0x21b));}),_0x4d43ef['innerHTML']=_0x2579b1;}function startPresentation(_0x1b09de){const _0x4b6544=_0x5ddd37;currentQuizData=getShuffledQuiz(_0x1b09de),currentPresentationSlide=0x0,presentationModal[_0x4b6544(0x8c6)]['display']=_0x4b6544(0xb3b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2b6c3c=_0x5ddd37;document[_0x2b6c3c(0xab9)]&&document[_0x2b6c3c(0x4a1)](),presentationModal[_0x2b6c3c(0x8c6)][_0x2b6c3c(0x800)]='none';}function renderPresentationSlide(_0x1d73bf){const _0x2e601a=_0x5ddd37,_0x5affed=document[_0x2e601a(0x4ff)](_0x2e601a(0x708));if(!currentQuizData||!currentQuizData[_0x2e601a(0x7f9)]||!currentQuizData[_0x2e601a(0x7f9)][_0x1d73bf]){_0x5affed['innerHTML']=_0x2e601a(0xae6);return;}const _0x38c5dd=currentQuizData[_0x2e601a(0x7f9)][_0x1d73bf],_0x435bc3=_0x38c5dd[_0x2e601a(0x278)]||currentQuizData[_0x2e601a(0xa9d)];_0x5affed[_0x2e601a(0x1f9)]='';let _0x2357f0=_0x2e601a(0x468)+(_0x38c5dd[_0x2e601a(0xa18)]?_0x2e601a(0x362)+_0x38c5dd[_0x2e601a(0xa18)]+_0x2e601a(0x629):'')+_0x2e601a(0x365)+(_0x1d73bf+0x1)+'.\x20'+(_0x38c5dd[_0x2e601a(0x692)]||_0x38c5dd[_0x2e601a(0xb93)])+_0x2e601a(0x628);switch(_0x435bc3){case _0x2e601a(0x867):_0x2357f0+=_0x38c5dd[_0x2e601a(0x20b)][_0x2e601a(0xa25)](_0x1ae280=>_0x2e601a(0xe5c)+_0x1ae280+_0x2e601a(0xe47))[_0x2e601a(0x40a)]('');break;case'true_false':_0x2357f0+=_0x2e601a(0x698),_0x2357f0+=_0x2e601a(0x2ed);break;case _0x2e601a(0x75f):case'short_answer':_0x2357f0+=_0x2e601a(0x833);break;case _0x2e601a(0xc42):case _0x2e601a(0xf0e):default:_0x2357f0+=_0x38c5dd[_0x2e601a(0x4ad)]['map']((_0x4b560a,_0x4da455)=>_0x2e601a(0xa42)+_0x4da455+_0x2e601a(0xb69)+_0x4b560a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x2357f0+=_0x2e601a(0xef8)+(_0x38c5dd[_0x2e601a(0x29b)]||'ไม่มีคำอธิบาย')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5affed[_0x2e601a(0x1f9)]=_0x2357f0;if(window[_0x2e601a(0xb8c)])window[_0x2e601a(0xb8c)][_0x2e601a(0xe28)]([_0x5affed]);let _0x28c333=[];switch(_0x435bc3){case _0x2e601a(0x867):_0x28c333=_0x38c5dd[_0x2e601a(0x20b)]||[];break;case _0x2e601a(0xed0):_0x28c333=[_0x2e601a(0x866),_0x2e601a(0x780)];break;default:_0x28c333=_0x38c5dd[_0x2e601a(0x4ad)]||[];break;}const _0x35387f=document['getElementById'](_0x2e601a(0x272));_0x35387f&&(_0x35387f[_0x2e601a(0x66e)]=()=>{openScratchpad(_0x38c5dd,_0x28c333);});document[_0x2e601a(0xe1c)](_0x2e601a(0x9e7))[_0x2e601a(0x23a)](_0x5576f7=>{const _0x5f085d=_0x2e601a;_0x5576f7['addEventListener'](_0x5f085d(0xe61),_0x1223bf=>revealAnswerForPresentation(_0x1d73bf,_0x1223bf['currentTarget']));});const _0x224ab0=document[_0x2e601a(0x4ff)](_0x2e601a(0xbc4));_0x224ab0&&_0x224ab0[_0x2e601a(0xbe5)]('click',()=>checkShortAnswerForPresentation(_0x1d73bf)),document[_0x2e601a(0x4ff)](_0x2e601a(0x90b))[_0x2e601a(0x602)]=_0x2e601a(0xbf0)+(_0x1d73bf+0x1)+'\x20/\x20'+currentQuizData[_0x2e601a(0x7f9)][_0x2e601a(0x85b)],document[_0x2e601a(0x4ff)](_0x2e601a(0xb22))[_0x2e601a(0x206)]=_0x1d73bf===0x0,document[_0x2e601a(0x4ff)](_0x2e601a(0x50e))['disabled']=_0x1d73bf===currentQuizData[_0x2e601a(0x7f9)][_0x2e601a(0x85b)]-0x1;}async function checkShortAnswerForPresentation(_0x286f26){const _0x512530=_0x5ddd37,_0x1d9358=currentQuizData[_0x512530(0x7f9)][_0x286f26],_0x4d118e=document[_0x512530(0x4ff)](_0x512530(0x7f5)),_0x288175=document[_0x512530(0x4ff)]('check-presentation-answer-btn'),_0x7469a5=document['getElementById']('presentation-ai-result'),_0xb0d4b2=document[_0x512530(0x4ff)](_0x512530(0x5af));if(!_0x4d118e||!_0x288175||!_0x7469a5||!_0xb0d4b2)return;const _0x34c5cc=_0x4d118e[_0x512530(0x717)][_0x512530(0x26c)]();if(_0x34c5cc==='')return;_0x288175[_0x512530(0x206)]=!![],_0x288175[_0x512530(0x1f9)]=_0x512530(0x9bb),_0x4d118e[_0x512530(0x206)]=!![];const _0x1f7b15=await gradeShortAnswer(_0x34c5cc,_0x1d9358);_0x1f7b15?_0x7469a5[_0x512530(0x1f9)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x7469a5[_0x512530(0x1f9)]=_0x512530(0x8b3)+_0x1d9358[_0x512530(0x3e2)]+')',_0x7469a5[_0x512530(0xc2e)][_0x512530(0x716)](_0x512530(0xc89)),_0xb0d4b2[_0x512530(0xc2e)][_0x512530(0x716)](_0x512530(0xc89)),_0x288175[_0x512530(0xc2e)][_0x512530(0xee4)](_0x512530(0xc89));}function revealAnswerForPresentation(_0xe3ff06,_0x3b11c4){const _0x180241=_0x5ddd37,_0x414727=currentQuizData[_0x180241(0x7f9)][_0xe3ff06],_0x5f5a0d=_0x414727[_0x180241(0x278)]||currentQuizData[_0x180241(0xa9d)];document[_0x180241(0xe1c)](_0x180241(0x9e7))[_0x180241(0x23a)](_0x374f66=>{const _0x471f86=_0x180241;_0x374f66['disabled']=!![],_0x374f66['classList'][_0x471f86(0x716)](_0x471f86(0xd4e));let _0x12ac74=![];if(_0x5f5a0d==='multiple_choice'||_0x5f5a0d===_0x471f86(0xc42)){const _0x12a58c=parseInt(_0x374f66[_0x471f86(0x664)][_0x471f86(0xdbf)]);_0x12ac74=_0x12a58c===_0x414727[_0x471f86(0x791)];}else{if(_0x5f5a0d===_0x471f86(0xed0)){const _0xd2b44d=_0x374f66[_0x471f86(0x664)]['answer']===_0x471f86(0x394);_0x12ac74=_0xd2b44d===_0x414727[_0x471f86(0x98f)];}else _0x5f5a0d===_0x471f86(0x867)&&(_0x12ac74=_0x374f66[_0x471f86(0x602)][_0x471f86(0x26c)]()===_0x414727['correctResponse']);}_0x12ac74?_0x374f66[_0x471f86(0xc2e)]['add'](_0x471f86(0xad7),'text-white',_0x471f86(0x593)):_0x374f66['classList'][_0x471f86(0xee4)](_0x471f86(0xe90));}),_0x3b11c4[_0x180241(0xc2e)][_0x180241(0x716)]('opacity-50');let _0x12db85=![];if(_0x5f5a0d===_0x180241(0xf0e))_0x12db85=parseInt(_0x3b11c4[_0x180241(0x664)][_0x180241(0xdbf)])===_0x414727[_0x180241(0x791)];else{if(_0x5f5a0d===_0x180241(0xed0))_0x12db85=_0x3b11c4['dataset'][_0x180241(0x641)]===_0x180241(0x394)===_0x414727[_0x180241(0x98f)];else _0x5f5a0d===_0x180241(0x867)&&(_0x12db85=_0x3b11c4[_0x180241(0x602)][_0x180241(0x26c)]()===_0x414727['correctResponse']);}!_0x12db85&&_0x3b11c4[_0x180241(0xc2e)][_0x180241(0xee4)]('bg-red-500','text-white',_0x180241(0x59b)),document[_0x180241(0x4ff)](_0x180241(0x5af))['classList'][_0x180241(0x716)](_0x180241(0xc89));}function startWholeQuizTimer(_0x4807fa){const _0x4c1cda=_0x5ddd37,_0x1e9a39=document[_0x4c1cda(0x4ff)]('timer-container');if(!_0x1e9a39)return;const _0x5b6354=Date[_0x4c1cda(0x599)]()+_0x4807fa*0x3c*0x3e8;_0x1e9a39[_0x4c1cda(0x1f9)]=_0x4c1cda(0x6ca);const _0x57c09c=document['getElementById'](_0x4c1cda(0xcd2));quizTimerInterval=setInterval(()=>{const _0x88366c=_0x4c1cda,_0xbd999c=_0x5b6354-Date[_0x88366c(0x599)]();if(_0xbd999c<=0x0)clearInterval(quizTimerInterval),_0x57c09c[_0x88366c(0x602)]=_0x88366c(0x9f7),showMessage(_0x88366c(0xd3e)),handleSubmitQuiz(null);else{const _0x5d16d2=Math[_0x88366c(0x9f5)](_0xbd999c/0x3e8/0x3c%0x3c)['toString']()[_0x88366c(0x7b1)](0x2,'0'),_0x6475b0=Math[_0x88366c(0x9f5)](_0xbd999c/0x3e8%0x3c)[_0x88366c(0xe66)]()[_0x88366c(0x7b1)](0x2,'0');_0x57c09c[_0x88366c(0x602)]=_0x5d16d2+':'+_0x6475b0;}},0x3e8);}function renderPerQuestionView(){const _0x5b7027=_0x5ddd37;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x93f16c=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x535b6b=_0x93f16c[_0x5b7027(0x278)]||currentDisplayedQuiz[_0x5b7027(0xa9d)],_0x58c34a=currentDisplayedQuiz['settings']?.[_0x5b7027(0x573)]===!![];let _0x31da4=_0x5b7027(0x964)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x5b7027(0x7f9)]['length']+_0x5b7027(0x3a7)+(currentMode===_0x5b7027(0xb26)?_0x5b7027(0x7d5):'')+_0x5b7027(0x38e)+currentDisplayedQuiz[_0x5b7027(0xe77)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x31da4;let _0x35b13d=_0x93f16c[_0x5b7027(0x692)]||_0x93f16c[_0x5b7027(0xb93)];_0x93f16c['imageCode']&&(_0x35b13d+=_0x5b7027(0x362)+_0x93f16c['imageCode']+_0x5b7027(0x629));let _0x27bcd3='';switch(_0x535b6b){case'short_answer':case _0x5b7027(0x75f):_0x27bcd3='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x5b7027(0xed0):_0x27bcd3=_0x5b7027(0xb44);break;case _0x5b7027(0x867):_0x27bcd3=_0x5b7027(0xbdb)+(_0x93f16c[_0x5b7027(0x20b)]||[])[_0x5b7027(0xa25)](_0x257353=>'<option\x20value=\x22'+_0x257353+'\x22>'+_0x257353+_0x5b7027(0x999))[_0x5b7027(0x40a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x93f16c[_0x5b7027(0x4ad)]&&(_0x27bcd3=_0x93f16c[_0x5b7027(0x4ad)][_0x5b7027(0xa25)]((_0x2f6600,_0x17ea5a)=>_0x5b7027(0x672)+_0x17ea5a+_0x5b7027(0x976)+_0x17ea5a+_0x5b7027(0x839)+_0x17ea5a+'\x22>'+_0x2f6600+_0x5b7027(0x7a6))['join'](''));break;}document[_0x5b7027(0x4ff)](_0x5b7027(0x86c))['innerHTML']=_0x35b13d,document[_0x5b7027(0x4ff)](_0x5b7027(0x958))[_0x5b7027(0x1f9)]=_0x27bcd3;const _0x3be175=currentDisplayedQuiz[_0x5b7027(0x297)]?.['isConfidenceScoringEnabled']===!![],_0x1bdad8=currentDisplayedQuiz[_0x5b7027(0x297)]?.[_0x5b7027(0x5f1)]||_0x5b7027(0xcf9);if(_0x3be175&&_0x1bdad8===_0x5b7027(0xcf9)){const _0x47179e=_0x5b7027(0x26f);studentQuizArea['querySelector'](_0x5b7027(0x4c5))['insertAdjacentHTML'](_0x5b7027(0xc79),_0x47179e);}studentQuizArea[_0x5b7027(0xa8f)](_0x5b7027(0xc79),_0x5b7027(0x2c4)+(currentQuestionIndex===currentDisplayedQuiz[_0x5b7027(0x7f9)][_0x5b7027(0x85b)]-0x1?_0x5b7027(0x2d7):_0x5b7027(0x36c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x5b7027(0xb26)&&document[_0x5b7027(0x4ff)](_0x5b7027(0x977))?.[_0x5b7027(0xbe5)](_0x5b7027(0xe61),cancelAdminTest);document[_0x5b7027(0x4ff)]('next-question-timed-btn')[_0x5b7027(0xbe5)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x5b7027(0xb8c)])window[_0x5b7027(0xb8c)][_0x5b7027(0xe28)]([studentQuizArea]);currentDisplayedQuiz[_0x5b7027(0x297)]?.[_0x5b7027(0x69f)]===_0x5b7027(0x8d1)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5d6cd7=_0x5ddd37,_0x401999=currentDisplayedQuiz[_0x5d6cd7(0x297)][_0x5d6cd7(0xd91)],_0x13e4aa=document[_0x5d6cd7(0x4ff)](_0x5d6cd7(0xcb2));if(!_0x13e4aa)return;let _0x427dce=_0x401999;_0x13e4aa[_0x5d6cd7(0x1f9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x427dce+_0x5d6cd7(0xe96);const _0x3ebccf=document[_0x5d6cd7(0x4ff)](_0x5d6cd7(0x404)),_0x457455=document[_0x5d6cd7(0x4ff)](_0x5d6cd7(0xbed));perQuestionTimerInterval=setInterval(()=>{const _0x7d5898=_0x5d6cd7;_0x427dce--;const _0x4b9eff=_0x427dce/_0x401999*0x64;_0x3ebccf[_0x7d5898(0x8c6)][_0x7d5898(0x248)]=_0x4b9eff+'%',_0x457455[_0x7d5898(0x602)]=_0x427dce,_0x427dce<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x7d5898(0x93c)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4ad4b2=![]){const _0x504a86=_0x5ddd37;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x598bd9=null,_0x501c1e=![];if(!_0x4ad4b2){const _0x2531f5=currentDisplayedQuiz[_0x504a86(0x7f9)][currentQuestionIndex],_0x5d2088=_0x2531f5[_0x504a86(0x278)]||currentDisplayedQuiz['quizType'];if(_0x5d2088===_0x504a86(0x3d7)||_0x5d2088===_0x504a86(0x75f))_0x598bd9=document[_0x504a86(0xee9)](_0x504a86(0xba0))?.[_0x504a86(0x717)]['trim']()??'';else{if(_0x5d2088===_0x504a86(0x867))_0x598bd9=document[_0x504a86(0xee9)](_0x504a86(0x6fb))?.[_0x504a86(0x717)]??'';else{const _0x222e9d=document['querySelector'](_0x504a86(0x33d));_0x222e9d&&(_0x598bd9=_0x222e9d['value']);}}if(_0x598bd9===null||_0x598bd9===''){showMessage(_0x504a86(0x22c)),startPerQuestionTimer();return;}const _0x493dab=currentDisplayedQuiz[_0x504a86(0x297)]?.['isConfidenceScoringEnabled']===!![],_0x28a3a0=currentDisplayedQuiz['settings']?.[_0x504a86(0x5f1)]||'checkbox';if(_0x493dab&&_0x28a3a0===_0x504a86(0xd50)){document['getElementById']('confidence-modal')[_0x504a86(0x664)][_0x504a86(0xab7)]=_0x504a86(0x91b),document[_0x504a86(0x4ff)](_0x504a86(0xa8a))[_0x504a86(0x717)]=_0x598bd9,document[_0x504a86(0x4ff)](_0x504a86(0x44f))['classList'][_0x504a86(0x716)](_0x504a86(0xc89));return;}const _0x5376bf=document[_0x504a86(0x4ff)](_0x504a86(0x59e));_0x5376bf&&(_0x501c1e=_0x5376bf[_0x504a86(0x749)]);}const _0x49a0dd={'answer':_0x598bd9,'wasConfident':_0x501c1e};proceedToNextQuestion(_0x49a0dd);}async function finalizePerQuestionQuiz(){const _0xd44ba0=_0x5ddd37,_0x18a0ab=currentDisplayedQuiz['questions'][_0xd44ba0(0x6a0)](_0x3971fe=>_0x3971fe[_0xd44ba0(0x278)]===_0xd44ba0(0x3d7));_0x18a0ab?showMessage(_0xd44ba0(0xc8e)):showMessage(_0xd44ba0(0xc0b));const _0x4bc00c=currentQuizData['id'],_0x160bd5=doc(db,_0xd44ba0(0x8a6)+appId+'/public/data/quizzes/'+_0x4bc00c+_0xd44ba0(0xd9b),currentStudentName),_0x52527b=await getDoc(_0x160bd5),_0x2d54c7=_0x52527b[_0xd44ba0(0x8d2)]()?_0x52527b[_0xd44ba0(0xef5)]():{},_0x538653=_0x2d54c7[_0xd44ba0(0x35e)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x538653);}function getResultsFilename(){const _0x4daa5a=_0x5ddd37,_0x6172f6=document[_0x4daa5a(0x4ff)](_0x4daa5a(0xbf7))[_0x4daa5a(0x602)][_0x4daa5a(0x701)](/[^a-z0-9]/gi,'_')[_0x4daa5a(0xbca)]();return _0x4daa5a(0x706)+(_0x6172f6||_0x4daa5a(0xc90));}function exportResultsAsImage(){const _0x57edda=_0x5ddd37,_0x4b0dff=document[_0x57edda(0x4ff)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4b0dff)[_0x57edda(0x85d)](_0x268fb8=>{const _0x1a895d=_0x57edda,_0x5a9e97=document[_0x1a895d(0x23d)]('a');_0x5a9e97['download']=getResultsFilename()+_0x1a895d(0xe38),_0x5a9e97[_0x1a895d(0xec9)]=_0x268fb8[_0x1a895d(0x83e)](_0x1a895d(0x631)),_0x5a9e97[_0x1a895d(0xe61)](),messageModal['classList'][_0x1a895d(0xee4)](_0x1a895d(0xc89));});}function exportResultsAsPDF(){const _0x40b021=_0x5ddd37,{jsPDF:_0x33e3ad}=window['jspdf'],_0x58982b=new _0x33e3ad();_0x58982b[_0x40b021(0x243)](_0x40b021(0x40b),_0x40b021(0xe80)),_0x58982b[_0x40b021(0xbe7)]({'html':'#results-table'}),_0x58982b[_0x40b021(0x293)](getResultsFilename()+_0x40b021(0xba6));}function exportResultsAsWord(){const _0x4abcb9=_0x5ddd37,_0x3eb5d2=_0x4abcb9(0xafe)+_0x4abcb9(0xcab)+_0x4abcb9(0xca1)+_0x4abcb9(0x851),_0x11db04=_0x4abcb9(0x635),_0xe246d3=_0x3eb5d2+document[_0x4abcb9(0x4ff)](_0x4abcb9(0xb13))[_0x4abcb9(0x1f9)]+_0x11db04,_0x1f9278=_0x4abcb9(0xb9d)+encodeURIComponent(_0xe246d3),_0x49c5f6=document[_0x4abcb9(0x23d)]('a');document[_0x4abcb9(0xe75)][_0x4abcb9(0x4a7)](_0x49c5f6),_0x49c5f6[_0x4abcb9(0xec9)]=_0x1f9278,_0x49c5f6[_0x4abcb9(0xeac)]=getResultsFilename()+_0x4abcb9(0x289),_0x49c5f6['click'](),document[_0x4abcb9(0xe75)]['removeChild'](_0x49c5f6);}function exportResultsAsExcel(){const _0x49ea39=_0x5ddd37,_0x52fff3=document['getElementById'](_0x49ea39(0x4c9));let _0x4afbca=[];for(let _0x3a3d23=0x0;_0x3a3d23<_0x52fff3[_0x49ea39(0xe4b)][_0x49ea39(0x85b)];_0x3a3d23++){let _0x17feeb=[],_0x12bea0=_0x52fff3[_0x49ea39(0xe4b)][_0x3a3d23]['querySelectorAll'](_0x49ea39(0xa1c));for(let _0x4d361e=0x0;_0x4d361e<_0x12bea0[_0x49ea39(0x85b)];_0x4d361e++){_0x17feeb[_0x49ea39(0xb2a)]('\x22'+_0x12bea0[_0x4d361e][_0x49ea39(0x8ce)][_0x49ea39(0x701)](/"/g,'\x22\x22')+'\x22');}_0x4afbca['push'](_0x17feeb[_0x49ea39(0x40a)](','));}const _0x6c5a14=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4afbca['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x30c285=document[_0x49ea39(0x23d)]('a');_0x30c285[_0x49ea39(0xec9)]=URL['createObjectURL'](_0x6c5a14),_0x30c285[_0x49ea39(0xeac)]=getResultsFilename()+_0x49ea39(0xe14),_0x30c285['click']();}function exportTableAsImage(_0x59bbc0,_0x4bf00d){const _0x4f477b=_0x5ddd37,_0x580004=document[_0x4f477b(0x4ff)](_0x59bbc0),_0x2bb676=document[_0x4f477b(0x4ff)](_0x4f477b(0xbf7));if(!_0x580004){showMessage(_0x4f477b(0x8f0));return;}showMessage(_0x4f477b(0xebd));const _0x3be74d=document['createElement']('div');_0x3be74d[_0x4f477b(0x8c6)]['backgroundColor']=_0x4f477b(0x4df),_0x3be74d[_0x4f477b(0x8c6)][_0x4f477b(0xba7)]=_0x4f477b(0xcb1),_0x3be74d['style'][_0x4f477b(0x248)]=_0x4f477b(0x2f5),_0x3be74d[_0x4f477b(0x8c6)][_0x4f477b(0x8d5)]=_0x4f477b(0x82e),_0x3be74d[_0x4f477b(0x8c6)][_0x4f477b(0x92b)]=_0x4f477b(0x965),_0x3be74d[_0x4f477b(0x8c6)][_0x4f477b(0x6e1)]='0',_0x3be74d[_0x4f477b(0x8c6)]['zIndex']='-1';const _0x1c2110=document[_0x4f477b(0x23d)]('h1');_0x1c2110[_0x4f477b(0x8ce)]=_0x2bb676?_0x2bb676['innerText']:'รายงานผลคะแนน',_0x1c2110['style']['textAlign']=_0x4f477b(0xc72),_0x1c2110[_0x4f477b(0x8c6)][_0x4f477b(0xa6d)]=_0x4f477b(0xe3c),_0x1c2110[_0x4f477b(0x8c6)][_0x4f477b(0x227)]='28px',_0x1c2110[_0x4f477b(0x8c6)][_0x4f477b(0x88d)]='bold',_0x1c2110[_0x4f477b(0x8c6)][_0x4f477b(0xed1)]=_0x4f477b(0x913),_0x1c2110[_0x4f477b(0x8c6)][_0x4f477b(0x8f4)]=_0x4f477b(0xaa4);const _0x86b1c3=_0x580004[_0x4f477b(0xdc7)](!![]);_0x86b1c3[_0x4f477b(0x8c6)]['maxHeight']='none',_0x86b1c3['style'][_0x4f477b(0x78b)]=_0x4f477b(0x440);const _0x26a02c=_0x86b1c3[_0x4f477b(0xe1c)]('th');let _0x1b29c1=-0x1;_0x26a02c[_0x4f477b(0x23a)]((_0x24c9d4,_0x590940)=>{const _0x40dbc3=_0x4f477b;_0x24c9d4[_0x40dbc3(0x602)][_0x40dbc3(0x26c)]()==='ผล'&&(_0x24c9d4[_0x40dbc3(0x8c6)][_0x40dbc3(0x800)]=_0x40dbc3(0x527),_0x1b29c1=_0x590940);});if(_0x1b29c1!==-0x1){const _0x13903c=_0x86b1c3['querySelectorAll']('tr');_0x13903c[_0x4f477b(0x23a)](_0x418213=>{const _0x202008=_0x4f477b,_0x2b0613=_0x418213[_0x202008(0xe1c)]('td');_0x2b0613['length']>_0x1b29c1&&(_0x2b0613[_0x1b29c1]['style'][_0x202008(0x800)]=_0x202008(0x527));});}_0x3be74d['appendChild'](_0x1c2110),_0x3be74d['appendChild'](_0x86b1c3),document['body']['appendChild'](_0x3be74d),html2canvas(_0x3be74d,{'scale':0x2,'useCORS':!![],'backgroundColor':'#ffffff'})['then'](_0xb6f50d=>{const _0x4a703d=_0x4f477b,_0x4e5c6a=document[_0x4a703d(0x23d)]('a');_0x4e5c6a[_0x4a703d(0xeac)]=_0x4bf00d+_0x4a703d(0xe38),_0x4e5c6a[_0x4a703d(0xec9)]=_0xb6f50d[_0x4a703d(0x83e)](_0x4a703d(0x631)),_0x4e5c6a['click'](),document[_0x4a703d(0xe75)][_0x4a703d(0x93e)](_0x3be74d),messageModal[_0x4a703d(0xc2e)][_0x4a703d(0xee4)](_0x4a703d(0xc89));})[_0x4f477b(0x53c)](_0xd5e4cd=>{const _0x5ee77a=_0x4f477b;console['error']('Export\x20Image\x20Error:',_0xd5e4cd),document[_0x5ee77a(0xe75)][_0x5ee77a(0x93e)](_0x3be74d),showMessage(_0x5ee77a(0x669));});}function exportTableAsPDF(_0x4ad34c,_0x4d7f09){const _0x42c6ea=_0x5ddd37,{jsPDF:_0x53473d}=window[_0x42c6ea(0x5a9)],_0xb1234=new _0x53473d();_0xb1234[_0x42c6ea(0x243)](_0x42c6ea(0x40b),_0x42c6ea(0xe80)),_0xb1234[_0x42c6ea(0xbe7)]({'html':'#'+_0x4ad34c}),_0xb1234[_0x42c6ea(0x293)](_0x4d7f09+_0x42c6ea(0xba6));}function exportTableAsWord(_0x43adcb,_0x217f85){const _0x20354c=_0x5ddd37,_0x5dde47=document[_0x20354c(0x4ff)](_0x43adcb);if(!_0x5dde47){showMessage(_0x20354c(0x8f0));return;}const _0x1db54c=_0x20354c(0xafe)+_0x20354c(0xcab)+_0x20354c(0xca1)+_0x20354c(0x851),_0xe3c34d='</body></html>',_0x35c691=_0x1db54c+_0x5dde47[_0x20354c(0x1f9)]+_0xe3c34d,_0x241302=_0x20354c(0xb9d)+encodeURIComponent(_0x35c691),_0x406301=document[_0x20354c(0x23d)]('a');document['body']['appendChild'](_0x406301),_0x406301[_0x20354c(0xec9)]=_0x241302,_0x406301['download']=_0x217f85+_0x20354c(0x289),_0x406301['click'](),document[_0x20354c(0xe75)][_0x20354c(0x93e)](_0x406301);}function exportTableAsExcel(_0xed4dfb,_0x454c25){const _0x4c94d2=_0x5ddd37,_0x38e8c5=document[_0x4c94d2(0x4ff)](_0xed4dfb);if(!_0x38e8c5){showMessage(_0x4c94d2(0x8f0));return;}let _0x5f271c=[];for(let _0x4e5bbf=0x0;_0x4e5bbf<_0x38e8c5[_0x4c94d2(0xe4b)]['length'];_0x4e5bbf++){let _0x132c38=[],_0x54deaa=_0x38e8c5[_0x4c94d2(0xe4b)][_0x4e5bbf][_0x4c94d2(0xe1c)]('td,\x20th');for(let _0x403ac2=0x0;_0x403ac2<_0x54deaa[_0x4c94d2(0x85b)];_0x403ac2++){_0x132c38[_0x4c94d2(0xb2a)]('\x22'+_0x54deaa[_0x403ac2]['innerText'][_0x4c94d2(0x701)](/"/g,'\x22\x22')+'\x22');}_0x5f271c[_0x4c94d2(0xb2a)](_0x132c38[_0x4c94d2(0x40a)](','));}const _0x42a421=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5f271c[_0x4c94d2(0x40a)]('\x0a')],{'type':_0x4c94d2(0x758)}),_0x2b4e10=document[_0x4c94d2(0x23d)]('a');_0x2b4e10[_0x4c94d2(0xec9)]=URL[_0x4c94d2(0xa27)](_0x42a421),_0x2b4e10[_0x4c94d2(0xeac)]=_0x454c25+'.csv',_0x2b4e10['click']();}function renderAnalytics(_0x4c410f,_0x860bf0){const _0x3f66a2=_0x5ddd37,_0x119a98=_0x860bf0[_0x3f66a2(0xd8d)](_0x43d93e=>_0x43d93e[_0x3f66a2(0x3f1)]!==undefined),_0x6249b3=currentProjectData[_0x3f66a2(0x28a)][_0x3f66a2(0x85b)],_0x3f93b0=_0x119a98[_0x3f66a2(0x85b)],_0x21d3a2=_0x6249b3-_0x3f93b0,_0x11ccbe=_0x6249b3>0x0?_0x3f93b0/_0x6249b3*0x64:0x0,_0x2bb483=_0x119a98['map'](_0x442915=>_0x442915[_0x3f66a2(0x3f1)]),_0x2c1bd8=_0x2bb483[_0x3f66a2(0x85b)]>0x0?_0x2bb483['reduce']((_0x147f12,_0x1b544a)=>_0x147f12+_0x1b544a,0x0)/_0x2bb483[_0x3f66a2(0x85b)]:0x0,_0x494103=_0x4c410f[_0x3f66a2(0x7f9)][_0x3f66a2(0x85b)],_0x3d055b=_0x494103>0x0?_0x2c1bd8/_0x494103*0x64:0x0,_0x39a2e5=calculateItemAnalysis(_0x4c410f,_0x119a98),_0xc1c2ee=calculateReliabilityKR20(_0x4c410f,_0x119a98,_0x39a2e5['perQuestionStats']);let _0x2676d1='';if(_0xc1c2ee!==null){let _0x3882c9='';if(_0xc1c2ee>=0.9)_0x3882c9=_0x3f66a2(0x613);else{if(_0xc1c2ee>=0.8)_0x3882c9=_0x3f66a2(0x4e9);else{if(_0xc1c2ee>=0.7)_0x3882c9='ดี';else{if(_0xc1c2ee>=0.6)_0x3882c9=_0x3f66a2(0x387);else _0x3882c9=_0x3f66a2(0xb90);}}}_0x2676d1=_0x3f66a2(0xb4e)+_0xc1c2ee[_0x3f66a2(0xe88)](0x2)+_0x3f66a2(0xc09)+_0x3882c9+_0x3f66a2(0x42e);}const _0x54beca=document[_0x3f66a2(0x4ff)](_0x3f66a2(0x5d0));_0x54beca[_0x3f66a2(0x1f9)]=_0x3f66a2(0x947)+_0x11ccbe[_0x3f66a2(0xe88)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x3f93b0+'/'+_0x6249b3+_0x3f66a2(0xc66)+_0x2c1bd8['toFixed'](0x2)+_0x3f66a2(0x300)+_0x3d055b[_0x3f66a2(0xe88)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x2bb483[_0x3f66a2(0x85b)]>0x0?Math[_0x3f66a2(0xa87)](..._0x2bb483):_0x3f66a2(0xc57))+_0x3f66a2(0x70d)+(_0x2bb483[_0x3f66a2(0x85b)]>0x0?Math['min'](..._0x2bb483):_0x3f66a2(0xc57))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2676d1+_0x3f66a2(0x8ab);const _0x950815=document[_0x3f66a2(0x4ff)](_0x3f66a2(0x54d));_0x950815&&_0x950815[_0x3f66a2(0x716)]();const _0x5829b7=_0x3f66a2(0xd6d);_0x54beca['insertAdjacentHTML'](_0x3f66a2(0xcdc),_0x5829b7);const _0x3f43bd=currentProjectData[_0x3f66a2(0x28a)]||[];renderSubmissionChart(_0x3f93b0,_0x21d3a2,_0x119a98,_0x3f43bd),renderScoreDistributionChart(_0x119a98,_0x494103),renderQuestionAnalytics(_0x4c410f,_0x119a98,_0x3f43bd),renderInterestingStats(_0x4c410f,_0x119a98);}async function handleExportLessonPDF(){const _0x5966d0=_0x5ddd37,_0x27c5f9=document[_0x5966d0(0x4ff)]('lesson-plan-content'),_0x477dc0=document[_0x5966d0(0x4ff)]('lesson-plan-title')['textContent'],_0x45d51a=window[_0x5966d0(0x64f)]('','_blank'),_0x4e0e24=_0x5966d0(0x2a7)+_0x477dc0+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27c5f9[_0x5966d0(0x1f9)]+_0x5966d0(0x619);_0x45d51a[_0x5966d0(0x6ff)][_0x5966d0(0x5c9)](_0x4e0e24),_0x45d51a[_0x5966d0(0x6ff)][_0x5966d0(0xd57)](),_0x45d51a[_0x5966d0(0x312)]=function(){setTimeout(()=>{_0x45d51a['print']();},0x5dc);};}function renderInterestingStats(_0x411d1e,_0x5ec40c){const _0x1c5960=_0x5ddd37,_0x5d18f2=document[_0x1c5960(0x4ff)](_0x1c5960(0x4dd));if(!_0x5d18f2)return;if(_0x5ec40c[_0x1c5960(0x85b)]===0x0){_0x5d18f2[_0x1c5960(0x1f9)]=_0x1c5960(0xa55);return;}const _0x19faaa=_0x411d1e['questions'][_0x1c5960(0xa25)]((_0x435e78,_0x11e649)=>({'index':_0x11e649+0x1,'text':_0x435e78[_0x1c5960(0xb93)]||_0x435e78['stem'],'correct':0x0}));_0x5ec40c[_0x1c5960(0x23a)](_0x2cd029=>{const _0xab12e2=_0x1c5960,_0x15ec71=_0x2cd029[_0xab12e2(0x35e)][_0x2cd029[_0xab12e2(0x35e)][_0xab12e2(0x85b)]-0x1];_0x15ec71&&_0x15ec71['answers']&&_0x15ec71['answers']['forEach'](_0xb82236=>{const _0x35899d=_0xab12e2,_0xf0c90f=_0x19faaa[_0x35899d(0xe0f)](_0x3c5d14=>_0x3c5d14[_0x35899d(0xa75)]===_0xb82236[_0x35899d(0xa30)]);_0xb82236['isCorrect']&&_0xf0c90f&&_0xf0c90f[_0x35899d(0x4ef)]++;});});const _0x276fb6=_0x5ec40c[_0x1c5960(0x85b)],_0x11e60c=Math[_0x1c5960(0xa87)](..._0x19faaa['map'](_0x455845=>_0x455845[_0x1c5960(0x4ef)])),_0x2994d8=Math[_0x1c5960(0x864)](..._0x19faaa['map'](_0x327a82=>_0x327a82[_0x1c5960(0x4ef)])),_0x5b1e74=_0x19faaa[_0x1c5960(0xd8d)](_0x35e8db=>_0x35e8db[_0x1c5960(0x4ef)]===_0x11e60c)[_0x1c5960(0xa25)](_0x45dd1c=>'ข้อ\x20'+_0x45dd1c[_0x1c5960(0xdbf)]),_0x3ec299=_0x19faaa['filter'](_0x1fc401=>_0x1fc401[_0x1c5960(0x4ef)]===_0x2994d8)[_0x1c5960(0xa25)](_0x23862a=>_0x1c5960(0x49b)+_0x23862a[_0x1c5960(0xdbf)]),_0x36a88b=_0x5ec40c[_0x1c5960(0x23c)]((_0x4911cd,_0x16996f)=>_0x16996f['latestScore']-_0x4911cd['latestScore'])[_0x1c5960(0xd8d)]((_0x3e2867,_0x3a406c,_0x333e22)=>_0x3e2867['latestScore']===_0x333e22[0x0][_0x1c5960(0x3f1)]),_0xc60ca6=_0x5ec40c[_0x1c5960(0x23c)]((_0x26ff38,_0x2f60b4)=>_0x26ff38[_0x1c5960(0x3f1)]-_0x2f60b4[_0x1c5960(0x3f1)])['filter']((_0x8a2f32,_0x138e60,_0x2cb157)=>_0x8a2f32[_0x1c5960(0x3f1)]===_0x2cb157[0x0][_0x1c5960(0x3f1)]),_0x160cce=_0x1c5960(0x9a6)+_0x5b1e74[_0x1c5960(0x40a)](',\x20')+_0x1c5960(0x660)+_0x11e60c+_0x1c5960(0xcc1)+_0x276fb6+_0x1c5960(0xbc6)+_0x3ec299[_0x1c5960(0x40a)](',\x20')+_0x1c5960(0x660)+(_0x276fb6-_0x2994d8)+_0x1c5960(0xcc1)+_0x276fb6+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x36a88b[_0x1c5960(0xa25)](_0x410077=>_0x410077[_0x1c5960(0xc8f)])['join'](',\x20')+_0x1c5960(0xe6f)+_0x36a88b[0x0][_0x1c5960(0x3f1)]+_0x1c5960(0xccc)+_0xc60ca6[_0x1c5960(0xa25)](_0x4af983=>_0x4af983[_0x1c5960(0xc8f)])[_0x1c5960(0x40a)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0xc60ca6[0x0][_0x1c5960(0x3f1)]+_0x1c5960(0xad9);_0x5d18f2[_0x1c5960(0x1f9)]=_0x160cce;}function renderSubmissionChart(_0x11a14f,_0x597821,_0x59445b,_0x462b7f){const _0x9a0e0e=_0x5ddd37,_0x203e76=document[_0x9a0e0e(0x4ff)](_0x9a0e0e(0xa4b))[_0x9a0e0e(0x20f)]('2d'),_0xc4af47=_0x59445b['map'](_0x36913f=>_0x36913f['studentName']),_0x3570e3=_0x462b7f[_0x9a0e0e(0xd8d)](_0x5153d7=>!_0xc4af47[_0x9a0e0e(0xdf4)](_0x5153d7));chartInstances[_0x9a0e0e(0x9ec)]&&chartInstances[_0x9a0e0e(0x9ec)][_0x9a0e0e(0x5b4)](),chartInstances[_0x9a0e0e(0x9ec)]=new Chart(_0x203e76,{'type':'doughnut','data':{'labels':['ส่งแล้ว',_0x9a0e0e(0x8d9)],'datasets':[{'data':[_0x11a14f,_0x597821],'backgroundColor':[_0x9a0e0e(0x8b7),'#F59E0B'],'borderColor':[_0x9a0e0e(0x4df),_0x9a0e0e(0x4df)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x9a0e0e(0xb67)},'tooltip':{'callbacks':{'label':function(_0x335de6){const _0x3c9dbb=_0x9a0e0e;let _0x33bce9=_0x335de6['label']||'';return _0x33bce9&&(_0x33bce9+=':\x20'),_0x33bce9+=_0x335de6[_0x3c9dbb(0xc11)],_0x33bce9;},'afterLabel':function(_0x1c4e32){const _0x58f9ba=_0x9a0e0e;let _0x56d7ca;return _0x1c4e32[_0x58f9ba(0xd33)]===0x0?_0x56d7ca=_0xc4af47:_0x56d7ca=_0x3570e3,_0x56d7ca[_0x58f9ba(0x85b)]>0x0?_0x56d7ca['join']('\x0a'):_0x58f9ba(0x703);}}}}}});}function renderScoreDistributionChart(_0x39ff6d,_0x2d7a4d){const _0x4ea3f5=_0x5ddd37,_0x3aa871=document['getElementById']('score-distribution-chart')[_0x4ea3f5(0x20f)]('2d'),_0x3c3f25={};for(let _0x5403cd=0x0;_0x5403cd<=_0x2d7a4d;_0x5403cd++){_0x3c3f25[_0x5403cd]=0x0;}_0x39ff6d[_0x4ea3f5(0x23a)](_0x4b58e4=>{const _0x465abf=_0x4ea3f5;_0x3c3f25[_0x4b58e4[_0x465abf(0x3f1)]]!==undefined&&_0x3c3f25[_0x4b58e4[_0x465abf(0x3f1)]]++;}),chartInstances[_0x4ea3f5(0x6e9)]&&chartInstances['score']['destroy'](),chartInstances['score']=new Chart(_0x3aa871,{'type':_0x4ea3f5(0x51a),'data':{'labels':Object[_0x4ea3f5(0x4cf)](_0x3c3f25),'datasets':[{'label':_0x4ea3f5(0x776),'data':Object[_0x4ea3f5(0x7ee)](_0x3c3f25),'backgroundColor':_0x4ea3f5(0x94e),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x4ea3f5(0x720)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x14f7fb){const _0x4231cf=_0x4ea3f5,_0x4b0f58=_0x14f7fb['label'],_0x4588c7=_0x39ff6d[_0x4231cf(0xd8d)](_0x2f0003=>_0x2f0003[_0x4231cf(0x3f1)]==_0x4b0f58)[_0x4231cf(0xa25)](_0x550ca2=>_0x550ca2[_0x4231cf(0xc8f)]);return _0x4588c7['length']>0x0?_0x4588c7['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x29e97e,_0x331a4a,_0x209c32){const _0xd570da=_0x5ddd37,_0x1f88ac=document[_0xd570da(0x4ff)](_0xd570da(0x8be));if(_0x209c32[_0xd570da(0x85b)]===0x0){_0x1f88ac[_0xd570da(0x1f9)]=_0xd570da(0x734);return;}const _0x2bbff3=calculateItemAnalysis(_0x29e97e,_0x331a4a),_0x1324eb=calculateDistractorAnalysis(_0x29e97e,_0x331a4a);let _0x468b20='';_0x2bbff3[_0xd570da(0x759)]&&(_0x468b20=_0xd570da(0x90e)+_0x2bbff3[_0xd570da(0x759)][_0xd570da(0x89f)][_0xd570da(0x85b)]+_0xd570da(0x5e4)+_0x2bbff3[_0xd570da(0x759)][_0xd570da(0x89f)][_0xd570da(0xa25)](_0x584283=>_0xd570da(0xcc9)+_0x584283+_0xd570da(0xa20))[_0xd570da(0x40a)]('')+_0xd570da(0x8e2)+_0x2bbff3[_0xd570da(0x759)][_0xd570da(0xb46)][_0xd570da(0x85b)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bbff3[_0xd570da(0x759)][_0xd570da(0xb46)][_0xd570da(0xa25)](_0x5d9b41=>_0xd570da(0xcc9)+_0x5d9b41+_0xd570da(0xa20))[_0xd570da(0x40a)]('')+_0xd570da(0xdb5));let _0x5d557e='';const _0x2ce72c=_0x331a4a[_0xd570da(0xa25)](_0x18b4be=>_0x18b4be[_0xd570da(0xc8f)]),_0x4734ad=_0x46d6ed=>{const _0x5a7931=_0xd570da;if(_0x46d6ed>=0.8)return _0x5a7931(0x8eb);if(_0x46d6ed>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x46d6ed>=0.4)return _0x5a7931(0x6ba);if(_0x46d6ed>=0.2)return _0x5a7931(0x517);return _0x5a7931(0xaaa);},_0x142ce1=_0xf33414=>{const _0xacd0fd=_0xd570da;if(_0xf33414<0x0)return _0xacd0fd(0x2c3);if(_0xf33414>=0.4)return _0xacd0fd(0x6de);if(_0xf33414>=0.3)return _0xacd0fd(0xe64);if(_0xf33414>=0.2)return _0xacd0fd(0xcdb);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x353070=_0x6b13fe=>{const _0x2c693e=_0xd570da,_0x4bc809=_0x6b13fe[_0x2c693e(0xe88)](0x0);if(parseFloat(_0x4bc809)===0x64)return _0x2c693e(0x85f)+_0x4bc809+_0x2c693e(0x336);if(_0x6b13fe>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x4bc809+_0x2c693e(0x336);return _0x2c693e(0x4fd)+_0x4bc809+_0x2c693e(0x336);};_0x29e97e[_0xd570da(0x7f9)][_0xd570da(0x23a)]((_0x3d3561,_0x3b3f14)=>{const _0x18fbef=_0xd570da,_0x26f5ec=_0x2bbff3[_0x18fbef(0xaa1)][_0x3b3f14],_0x2c547a=_0x1324eb[_0x3b3f14],_0x2959b2=_0x3d3561['stem']||_0x3d3561[_0x18fbef(0xb93)]||_0x3d3561[_0x18fbef(0x925)];let _0x108da2=0x0;const _0x1244fa=[],_0x420445=[];_0x331a4a['forEach'](_0x187b01=>{const _0x202b15=_0x18fbef,_0x30fbc5=_0x187b01['attempts'][_0x187b01[_0x202b15(0x35e)][_0x202b15(0x85b)]-0x1];if(_0x30fbc5&&_0x30fbc5['answers']){const _0x3ecff1=_0x30fbc5[_0x202b15(0xc7d)]['find'](_0x1fd77d=>_0x1fd77d[_0x202b15(0xa30)]===_0x2959b2)??_0x30fbc5[_0x202b15(0xc7d)][_0x3b3f14]??null;_0x3ecff1&&(_0x3ecff1[_0x202b15(0x624)]?(_0x108da2++,_0x1244fa[_0x202b15(0xb2a)](_0x187b01[_0x202b15(0xc8f)])):_0x420445[_0x202b15(0xb2a)](_0x187b01['studentName']));}});const _0x2c699b=_0x331a4a[_0x18fbef(0x85b)]>0x0?_0x108da2/_0x331a4a[_0x18fbef(0x85b)]*0x64:0x0,_0xf03cb9=_0x209c32[_0x18fbef(0xd8d)](_0x477309=>!_0x2ce72c[_0x18fbef(0xdf4)](_0x477309)),_0x370437=_0x26f5ec?_0x18fbef(0x65a)+_0x26f5ec['p'][_0x18fbef(0xe88)](0x2)+_0x18fbef(0x2ba)+_0x4734ad(_0x26f5ec['p'])+_0x18fbef(0xa2f)+_0x26f5ec['r'][_0x18fbef(0xe88)](0x2)+_0x18fbef(0x2ba)+_0x142ce1(_0x26f5ec['r'])+_0x18fbef(0x35b)+_0x353070(_0x2c699b)+_0x18fbef(0x8d0):'';let _0x5b0922='';_0x2c547a&&(_0x5b0922=_0x18fbef(0x4e7)+Object[_0x18fbef(0x4cf)](_0x2c547a)[_0x18fbef(0xa25)](_0x2c74b5=>{const _0x27876c=_0x18fbef,_0x13d2a6=_0x2c547a[_0x2c74b5],_0x9f2fa0=parseInt(_0x2c74b5)===_0x3d3561[_0x27876c(0x791)],_0xc99e4d=!_0x9f2fa0&&_0x13d2a6[_0x27876c(0xbd6)]>_0x13d2a6[_0x27876c(0x821)];return _0x27876c(0x8f6)+(_0x9f2fa0?'bg-green-100\x20font-bold':'')+_0x27876c(0x798)+(_0x9f2fa0?'✔\x20':'')+_0x13d2a6[_0x27876c(0xa75)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x13d2a6[_0x27876c(0x821)]+_0x27876c(0x854)+_0x13d2a6[_0x27876c(0xbd6)]+'\x20'+(_0xc99e4d?'👍':'')+_0x27876c(0x854)+_0x13d2a6[_0x27876c(0x6d2)]+'</td></tr>';})[_0x18fbef(0x40a)]('')+_0x18fbef(0x502));let _0x59ff0d='';_0x26f5ec&&_0x26f5ec[_0x18fbef(0x575)]&&(_0x59ff0d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x26f5ec[_0x18fbef(0x575)]['length']+_0x18fbef(0x546)+_0x26f5ec[_0x18fbef(0x575)][_0x18fbef(0xa25)](_0x416c37=>_0x18fbef(0xcc9)+(_0x416c37['isCorrect']?_0x18fbef(0x474):_0x18fbef(0x7a0))+'\x20'+_0x416c37['name']+_0x18fbef(0xa20))[_0x18fbef(0x40a)]('')+_0x18fbef(0x6e4)+_0x26f5ec[_0x18fbef(0xc41)][_0x18fbef(0x85b)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x26f5ec[_0x18fbef(0xc41)][_0x18fbef(0xa25)](_0x572c55=>_0x18fbef(0xcc9)+(_0x572c55[_0x18fbef(0x624)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x18fbef(0x7a0))+'\x20'+_0x572c55[_0x18fbef(0xc44)]+_0x18fbef(0xa20))[_0x18fbef(0x40a)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x5d557e+=_0x18fbef(0x81e)+(_0x3b3f14+0x1)+':\x20'+_0x2959b2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x370437+_0x18fbef(0x96f)+_0x2959b2+_0x18fbef(0x763)+_0x108da2+_0x18fbef(0x4e3)+_0x331a4a[_0x18fbef(0x85b)]+_0x18fbef(0x4bf)+_0x2c699b[_0x18fbef(0xe88)](0x0)+_0x18fbef(0xb3e)+_0x1244fa[_0x18fbef(0x85b)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x1244fa['length']>0x0?_0x1244fa['join'](',\x20'):_0x18fbef(0x703))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x420445[_0x18fbef(0x85b)]+_0x18fbef(0x476)+(_0x420445[_0x18fbef(0x85b)]>0x0?_0x420445[_0x18fbef(0x40a)](',\x20'):_0x18fbef(0x703))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0xf03cb9[_0x18fbef(0x85b)]+_0x18fbef(0x476)+(_0xf03cb9[_0x18fbef(0x85b)]>0x0?_0xf03cb9[_0x18fbef(0x40a)](',\x20'):_0x18fbef(0x703))+_0x18fbef(0xa60)+_0x5b0922+_0x18fbef(0xa12)+_0x59ff0d+_0x18fbef(0x40d);}),_0x1f88ac[_0xd570da(0x1f9)]=_0x468b20+_0x5d557e;try{window[_0xd570da(0xb8c)]&&MathJax[_0xd570da(0xe28)]&&MathJax[_0xd570da(0xe28)]([_0x1f88ac]);}catch(_0x11be67){console['error'](_0xd570da(0x40e),_0x11be67);}}function calculateDistractorAnalysis(_0x21e282,_0x2983e0){const _0x4c6f85=_0x5ddd37,_0x1f9da2={};if(_0x2983e0[_0x4c6f85(0x85b)]<0x2)return _0x1f9da2;const _0x5b7639=[..._0x2983e0]['sort']((_0x279d92,_0x204f23)=>{const _0x332e87=_0x4c6f85,_0x4dd211=_0x204f23[_0x332e87(0x3f1)]-_0x279d92[_0x332e87(0x3f1)];if(_0x4dd211!==0x0)return _0x4dd211;const _0x5788ba=_0x279d92[_0x332e87(0x35e)]?.['length']||0x1,_0x344544=_0x204f23[_0x332e87(0x35e)]?.[_0x332e87(0x85b)]||0x1,_0xda6c1e=_0x5788ba-_0x344544;if(_0xda6c1e!==0x0)return _0xda6c1e;const _0x222e6f=new Date(_0x279d92[_0x332e87(0x2c8)]),_0x5c1505=new Date(_0x204f23[_0x332e87(0x2c8)]),_0x8d86a8=_0x222e6f-_0x5c1505;if(_0x8d86a8!==0x0)return _0x8d86a8;return _0x279d92['studentName'][_0x332e87(0xe10)](_0x204f23[_0x332e87(0xc8f)],'th');}),_0x4f86c4=_0x5b7639[_0x4c6f85(0x85b)],_0xe53ccd=Math[_0x4c6f85(0xa87)](0x1,Math[_0x4c6f85(0x9f5)](_0x4f86c4*0.33)),_0x352792=_0x5b7639['slice'](0x0,_0xe53ccd),_0x2f1407=_0x5b7639['slice'](-_0xe53ccd);return _0x21e282[_0x4c6f85(0x7f9)]['forEach']((_0x3d918e,_0x298dac)=>{const _0x3095f0=_0x4c6f85;if(_0x3d918e['questionType']!==_0x3095f0(0xf0e)||!_0x3d918e[_0x3095f0(0x4ad)])return;const _0x1e7d85=_0x3d918e[_0x3095f0(0xb93)],_0x59d6a4={};_0x3d918e[_0x3095f0(0x4ad)][_0x3095f0(0x23a)]((_0x43ae27,_0x5cbb04)=>{_0x59d6a4[_0x5cbb04]={'text':_0x43ae27,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5b7639[_0x3095f0(0x23a)](_0x1cd5fc=>{const _0x100b2d=_0x3095f0,_0x54ca48=_0x1cd5fc[_0x100b2d(0x35e)][_0x1cd5fc[_0x100b2d(0x35e)]['length']-0x1],_0x40b3e7=_0x54ca48['answers'][_0x100b2d(0xe0f)](_0x3d55eb=>_0x3d55eb[_0x100b2d(0xa30)]===_0x1e7d85);if(_0x40b3e7&&_0x40b3e7[_0x100b2d(0x641)]!==null){const _0x49ec4c=_0x3d918e['options'][_0x100b2d(0xed5)](_0x5b97e8=>_0x5b97e8===_0x40b3e7[_0x100b2d(0xda9)]);_0x49ec4c!==-0x1&&_0x59d6a4[_0x49ec4c]&&(_0x59d6a4[_0x49ec4c]['total']++,_0x352792[_0x100b2d(0xdf4)](_0x1cd5fc)&&_0x59d6a4[_0x49ec4c][_0x100b2d(0x821)]++,_0x2f1407[_0x100b2d(0xdf4)](_0x1cd5fc)&&_0x59d6a4[_0x49ec4c]['lower_group_count']++);}}),_0x1f9da2[_0x298dac]=_0x59d6a4;}),_0x1f9da2;}function calculateReliabilityKR20(_0x386e39,_0x1bc6c0,_0x311024){const _0x210d4e=_0x5ddd37,_0x59e700=_0x386e39[_0x210d4e(0x7f9)][_0x210d4e(0x85b)];if(_0x59e700<0x2||_0x1bc6c0['length']<0x2)return null;const _0x2ba7ca=_0x1bc6c0[_0x210d4e(0xa25)](_0x339974=>_0x339974[_0x210d4e(0x3f1)]),_0x4659b1=_0x2ba7ca['reduce']((_0x2c053,_0x141895)=>_0x2c053+_0x141895,0x0)/_0x2ba7ca['length'],_0x430fc6=_0x2ba7ca[_0x210d4e(0xa25)](_0x1e2fe6=>Math[_0x210d4e(0x86d)](_0x1e2fe6-_0x4659b1,0x2))[_0x210d4e(0xc2a)]((_0x50db6c,_0x1bacba)=>_0x50db6c+_0x1bacba,0x0)/_0x2ba7ca[_0x210d4e(0x85b)];if(_0x430fc6===0x0)return null;let _0x1090ba=0x0;for(let _0x51f48a=0x0;_0x51f48a<_0x59e700;_0x51f48a++){const _0x2f6430=_0x311024[_0x51f48a]?.['p'];if(_0x2f6430===undefined)continue;const _0x17c8ed=0x1-_0x2f6430;_0x1090ba+=_0x2f6430*_0x17c8ed;}if(_0x1090ba===0x0)return null;const _0x407548=_0x59e700/(_0x59e700-0x1)*(0x1-_0x1090ba/_0x430fc6);if(_0x407548>0x1)return null;return _0x407548;}async function handleAnalyzeClass(){const _0x437a76=_0x5ddd37;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x437a76(0x57d));return;}const _0x5d88f9=collection(db,_0x437a76(0x8a6)+appId+_0x437a76(0x1f4)+currentQuizData['id']+_0x437a76(0xd9b)),_0x49eb68=await getDocs(_0x5d88f9),_0x2e7bcc=_0x49eb68[_0x437a76(0xb91)][_0x437a76(0xa25)](_0x51eb37=>_0x51eb37['data']());if(_0x2e7bcc['length']<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x2ee6b2=document['getElementById'](_0x437a76(0xc12));_0x2ee6b2['innerHTML']=_0x437a76(0x82d),document['getElementById'](_0x437a76(0xe45))[_0x437a76(0x206)]=!![];const _0x857ac3=_0x2e7bcc[_0x437a76(0xa25)]((_0x40c346,_0x2d49ad)=>{const _0x22a1e1=_0x437a76,_0x17d25f=_0x40c346[_0x22a1e1(0x35e)][_0x40c346['attempts'][_0x22a1e1(0x85b)]-0x1];if(!_0x17d25f)return'';return _0x22a1e1(0x711)+(_0x2d49ad+0x1)+'\x20('+_0x40c346[_0x22a1e1(0xc8f)]+_0x22a1e1(0xe2e)+_0x17d25f['score']+'/'+_0x40c346[_0x22a1e1(0x5eb)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x22a1e1(0xe5a)](_0x17d25f['answers'])+_0x22a1e1(0x713);})[_0x437a76(0x40a)]('\x0a---\x0a'),_0x599e69=_0x437a76(0x837)+currentQuizData[_0x437a76(0xe77)]+_0x437a76(0xef4)+JSON[_0x437a76(0xe5a)](currentQuizData[_0x437a76(0x7f9)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x857ac3+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x776d01={'type':'OBJECT','properties':{'classStrengths':{'type':_0x437a76(0x26d),'items':{'type':_0x437a76(0xa74)}},'classWeaknesses':{'type':_0x437a76(0x26d),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x437a76(0x26d),'items':{'type':_0x437a76(0xa74)}}},'required':[_0x437a76(0x9ef),_0x437a76(0x533),'teacherSuggestions']};try{const _0x1e1698=await callAnalysisApi(_0x599e69,_0x776d01);displayClassAnalysis(_0x1e1698);}catch(_0x51fc3a){console['error'](_0x437a76(0x61a),_0x51fc3a),_0x2ee6b2[_0x437a76(0x1f9)]=_0x437a76(0x8cf)+_0x51fc3a['message']+_0x437a76(0xe19);}finally{document['getElementById'](_0x437a76(0xe45))[_0x437a76(0x206)]=![];}}function displayClassAnalysis(_0x3dc998){const _0x30fbfa=_0x5ddd37,_0x5f173e=document[_0x30fbfa(0x4ff)]('strength-weakness-analysis-container');if(!_0x3dc998){_0x5f173e[_0x30fbfa(0x1f9)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x5f173e[_0x30fbfa(0x1f9)]=_0x30fbfa(0xad8)+_0x3dc998['classStrengths'][_0x30fbfa(0xa25)](_0x211a7a=>_0x30fbfa(0xcc9)+_0x211a7a+_0x30fbfa(0xa20))[_0x30fbfa(0x40a)]('')+_0x30fbfa(0x5ca)+_0x3dc998[_0x30fbfa(0x533)][_0x30fbfa(0xa25)](_0x183e8e=>_0x30fbfa(0xcc9)+_0x183e8e+_0x30fbfa(0xa20))[_0x30fbfa(0x40a)]('')+_0x30fbfa(0x2cd)+_0x3dc998['teacherSuggestions']['map'](_0xef80f7=>_0x30fbfa(0xcc9)+_0xef80f7+_0x30fbfa(0xa20))['join']('')+_0x30fbfa(0x367);}function _0x3857(){const _0x24c9f4=['กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','สายลมแห่งโชคชะตา','เพิ่มปุ่มลัดใหม่','🛡️','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','project-passcode-modal','move-quiz-project-select','results-tab-content','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','cancel-manual-bp-btn','SAFETY','pen-tools-group','[data-topic-id]','start-quiz-btn','modal-loop-until-pass-checkbox','...\x22)?','sync-player-management','ราชาคัมแบ็ก','file-topics-list','Error\x20generating\x20teaching\x20content:','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.sort-indicator','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.text-indigo-200','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','includes','pen-tool-btn','fas\x20fa-bookmark','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20',')\x22><span\x20style=\x22','matching','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','px,\x20','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','text-purple-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undo-btn','lesson-loader','Error\x20listening\x20for\x20starred\x20quizzes:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<textarea\x20name=\x22question','has','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<option>กำลังโหลดโปรเจค...</option>','สิงโตยิ้ม','รหัสไม่ถูกต้อง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','ผิด','find','localeCompare','file-default-1','list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','.csv','cancel-team-selection-btn','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','</form>','Failed\x20to\x20apply\x20jinx:','</p></div>','market-current-points','PROMPT_PLACEHOLDER','querySelectorAll','bg-yellow-100','responseSchema','วงกลม:\x20สมการและสมบัติ','กำลังวิเคราะห์หัวข้อ...','showAnswerInAnonymous','string','toggle','text-red-600','แก้ไขปุ่มลัด','Error\x20linking\x20quizzes:','.move-shortcut-item','typesetPromise','parse','.summary-bar-item','274192258111','ชนิดของข้อมูลและการเก็บข้อมูล','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','bank-quiz-list','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','input[type=\x22text\x22]','math-topics-checkbox-container','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.png','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','endTime','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x27Sarabun\x27,\x20sans-serif','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','text-green-600\x20font-bold','สถิติและความน่าจะเป็น','<div\x20class=\x22answer-space\x22></div>','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','กรุณากรอกข้อมูลให้ครบทุกช่อง','lesson-plan-modal','analyze-strengths-btn','added','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียนเรื่อง:\x20','block','global-quiz-count','rows','link-input-area','\x20mb-2\x22>','q-explanation-','Successfully\x20removed\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','scale','\x20วินาที','</h3>','แบบปรนัย\x204\x20ตัวเลือก','no-projects-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','originalTopic','mouseup','numQuestions','stringify','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-table-body','เนื้อหาสำหรับสอน:\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-bp-reference-btn','click','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','toString','pointerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','timer-mode-select','memoryContent','text-gray-200','.admin-try-quiz-list-btn','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x22><span\x20style=\x22','pollUsedThisTurn','...','.topic-actions-edit','body','reviewQuestionIndex','topic','\x5cpm','\x22.\x20Ideal\x20Answer:\x20\x22','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','confirm-link-quiz-btn','force-math-checkbox','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','AI\x20ไม่สามารถประมวลผลข้อมูลได้','normal','num-questions','.export-pdf-list-btn','toLocaleString','postScore','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','text-gray-300\x20hover:text-white','toFixed','text-red-500\x20hover:text-red-700','clientY','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>','ไม่พบข้อมูลโปรเจค','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','opacity-50','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','topics.','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','project-title','Error\x20deleting\x20topic:','ลบหัวข้อสำเร็จ','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','#FFFFFF','reset-view-btn','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','bg-green-200\x20text-green-900','มัธยฐาน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','Error\x20saving\x20project\x20order:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','comparison','<button\x20data-tab-id=\x22','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','แก้ไขสูตรคณิตศาสตร์\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','download','linkedQuizIds','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','highlighter-size-value','grabbing','add-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.ai-fix-formula-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','input','-options','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','isFinished','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','เกิดข้อผิดพลาดในการติดดาว','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','file-input-area','comparison-overall-tab','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','<option\x20value=\x22\x22>กำลังโหลด...</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกทศนิยม','Error\x20updating\x20sort\x20preference:','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','href','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','พิสัย','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','svg','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true_false','color','reveal_at_end','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','shortcut-modal-title','findIndex','</td>','สัญกรณ์วิทยาศาสตร์','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-shortcut-btn','times','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','createdBy','isAdaptive','anonymous_reveal_end','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','show-in-student-dashboard-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','add','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','querySelector','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลผู้เล่น','#open-additional-parallel-shortcuts-btn','กรุณาสร้างบทเรียนก่อน','topic-bank-subtopic-name','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x20(p=','.topic-category','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','data','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','.edit-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','student-progress','powerupUsed_q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','.delete-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','.remove-file-shortcut-from-tab-btn','.quiz-bank-settings-btn','.question-editor-item','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','.verification-result','stopPropagation','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','multiple_choice','\x5cge','New\x20question\x20detected.\x20Cleaning\x20up.','ดาวสภา','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','student-quiz-leaderboard-tab','/public/data/quizzes/','includeImages','Error\x20saving\x20shortcut:','bg-red-700\x20text-white\x20font-bold','<div\x20class=\x22','innerHTML','bg-red-500','\x5cle','get','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','isForcedConfident','generate-from-file-btn','export-leaderboard-word-btn','nickname-input','release','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','isStarred','ซื้อ\x20\x22','disabled','Error\x20starting\x20live\x20race:','firstScore',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','allResponses','drill-feedback','Buy\x20Item\x20failed:\x20','export-word-btn','getContext','right','<tr><td\x20colspan=\x22','price','toLocaleDateString','<h1></h1>','perseverance','bulk-loop-until-pass-checkbox','Error\x20joining\x20team\x20quiz:','กำลังเตรียมไฟล์...','ค่าเฉลี่ย','random','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic_','.pen-color-btn','.file-topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','transform','reference-pdf-upload','bp-modal-shuffle-setting-select','readAsArrayBuffer','fontSize','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keyConcepts','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','clientX','back-to-student-home-btn','shuffledQuiz','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','view-my-progress-btn','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ค่าสัมบูรณ์','พบ\x20Sync\x20Game!','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','forEach','setAttribute','sort','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','use-powerup-wagerMultiplier-instant','setFont','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','สร้างคำถามแบบเติมคำในช่องว่าง','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','อสมการค่าสัมบูรณ์','ความชันและเส้นตรง','parallel-shortcut-id-input','gameData','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','#6366F1','AI\x20grading\x20failed:','สร้างโปรเจคสำเร็จ!','ย้าย','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x20|\x20','Failed\x20to\x20get\x20hint:','รอผู้ควบคุมไปข้อต่อไป...','sync-matching-select','ฟังก์ชันค่าสัมบูรณ์','live-game','poll','solution','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','confirmation-modal','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trim','ARRAY','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-bank-move-btn','arrayBuffer','presentation-scratchpad-btn','bulk-confidence-scoring-checkbox','เวกเตอร์และเมทริกซ์\x20(เสริม)','.quiz-bank-try-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','questionType','แก้ไข\x20Points\x20ของ\x20','จับคู่เพื่อเปรียบเทียบผล','.edit-quiz-btn','คัดลอกไม่สำเร็จ','_blank','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังโหลดคลังข้อสอบทั้งหมด...','modal-timer-mode-select','additional-file-shortcuts-modal','Error\x20saving\x20submission:','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','use-powerup-buyTime','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','.doc','students','API\x20call\x20failed','กฎของโคไซน์','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<span\x20title=\x22โดนคำสาป\x22>😈</span>','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','เกิดข้อผิดพลาดในการเข้าตลาดมืด','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','text-blue-700\x20bg-blue-100','save','ทะเล','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ตรวจคะแนนใหม่\x20','settings','open-scratchpad-btn','/public/data/liveGames','contentEditable','explanation','comparison-chart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','quiz-leaderboard-table-container','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','พบข้อสอบ\x20','previousElementSibling','blockReason','bp-modal-difficulty-level-select','results-tab','พื้นที่สามเหลี่ยม','modal-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','projectSortOrder','<i\x20class=\x22fas\x20fa-pen\x22></i>','clearRect','textarea[name=\x22team_answer\x22]','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','input[type=\x22radio\x22]:checked','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-settings-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','stroke','\x22\x20value=\x22false\x22\x20','request','player-list-lobby','answered','target','</span>','</p><div>','confirmation-message','standardTopic','แผนการสอน','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','PERFECT_SCORE','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','shortcut-name-input','bg-green-100','latestSubmittedAt','พื้นที่สี่เหลี่ยม','md:col-span-1','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','instantWager','Failed\x20to\x20apply\x20forceConfident:','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','export-excel-btn','\x20ตัวเลือก.\x20','tool','\x5cdiv','quadraticCurveTo','quiz-settings-modal','ส่งคำตอบ','workerSrc','parseFromString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','(รอคะแนน)','ลำดับเลขคณิต\x20(AP)','.status','end-sync-game-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','bg-gray-200\x20text-gray-700','.isScored','live-race','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','Error\x20processing\x20parallel\x20shortcut\x20click:','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','bp-add-topic-btn','fixedData','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','global-activity-modal','Error\x20toggling\x20pin\x20status:','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','ออฟฟิศซินโดรม','warn','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','lesson-sections-container','scores','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1000px','ทฤษฎีบทพื้นฐานของแคลคูลัส','additional-shortcuts-modal','ฟังก์ชันผกผัน','quizMode','default-','<div\x20class=\x22my-6\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไฟล์ทั้งหมด','pointContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x22>ใช่</p>','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','อสมการเชิงเส้น','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','#add-question-editor-btn','playerName','Error\x20calling\x20Gemini\x20API:','bg-green-400\x20text-white\x20font-bold','นักเขียน','screen_exit','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','กรุณาพิมพ์คำตอบของกลุ่ม','startedAt','เกิดข้อผิดพลาดในการอัปเดต:\x20','onload','กำลังสแกนหาแบบทดสอบเก่า...','จับคู่แบบทดสอบสำเร็จ!','เกิดข้อผิดพลาดในการบันทึก','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab-content','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','getElementsByTagName','#open-additional-shortcuts-btn','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','อินฟลูเอนเซอร์','629744liyXSV','.edit-question-btn','duration-300','dimmed','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','API\x20call\x20failed\x20with\x20status:\x20','Error\x20analyzing\x20file\x20for\x20topics:','split','p-2\x20bg-black/10\x20rounded-md','ยอดนักสืบ','Error\x20saving\x20quiz:','add-shortcut-btn','.delete-project-btn','คะแนนยังไม่ถึงครึ่ง','description','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-edits-btn','\x20คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','.lastAnswerCorrect','strategyScan','ondragover','<span\x20title=\x22','%</span>','Failed\x20to\x20resume\x20game\x20session:','Error\x20joining\x20live\x20game:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','แก้ไขข้อนี้','strokeStyle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22question_single\x22]:checked','<option\x20value=\x22','\x5cneq','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22><p\x20class=\x22font-semibold\x22>','shadowBlur','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','-tab','mouseleave',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','show-leaderboard-btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','error','mousemove','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','parallel-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','stepByStepExamples','\x20ชุด)</span>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','student-initial-view','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','lobby','playerNicknames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','start-sync-game-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-blueprint-btn','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','attempts','default-2','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','status','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20(สำหรับ\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','rgba(239,\x2068,\x2068,\x200.9)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','kick-player-btn','<span\x20class=\x22block\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','คำถามถัดไป','พาราโบลา','การแจกแจงทวินาม\x20(พื้นฐาน)','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-pre-test-id=\x22','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','preTestId','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>','\x20ข้อ\x20','custom-math-topic-input','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','รูปสแควร์รูท\x20(surd)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','subTopics','outerHTML','group','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','text-red-700\x20bg-red-100','back-to-dashboard-btn','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','add-parallel-shortcut-tab-btn','พอใช้','undefined','black-market-settings-container','math-topic-search-input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','</span>\x20','พลังคลื่นเต่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x22\x20จำนวน\x20','.group\x5c/dropdown-parallel','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-indigo-600\x20hover:bg-indigo-700','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','questionDisplayedAt','ลำดับการดำเนินการ\x20(PEMDAS)','student-team-selection-view','practiceProblems','save-quiz-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tbody></table>','quiz-form','แคลคูลัสเบื้องต้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-shortcut-menu-btn','verify-answers-btn','add-parallel-shortcut-btn','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','70KfXqXQ','name_desc','Error\x20saving\x20game\x20results:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกการตั้งค่าได้','unshift','close-comparison-modal-footer-btn','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','label[for=\x22num-questions\x22]','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','.move-parallel-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','กรุณาเลือกคำตอบ','globalAlpha','postTScore','ศิลปิน','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x20หัวข้อ)','sync','ไม่พบโปรเจค','Error\x20deleting\x20quiz:','\x27\x20ในหัวข้อ\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','starred','/public/data/blueprintProjects/','secondChance','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','เกิดข้อผิดพลาดในการใช้ไอเทม',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','</span></div>','firstElementChild','.toggle-actions-btn','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','lessonPlan','blob','text-red-900','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','Error\x20processing\x20shortcut\x20click:','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','quiz-editor-modal','whole_quiz','referenceFileUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.tab-name-input','scoresCalculated','submit-group-answer-btn','ร้อยละประยุกต์','short_answer','<div\x20id=\x22q-image-container-','OBJECT','file-shortcuts-loading-msg','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','กำลังสร้างคำถามข้อ\x20','\x20ตัวเลือก)','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','idealAnswer','resultsSaved','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','จอมเวทย์ขนมหวาน','ทศนิยม\x20(ค่าประจำหลัก)','thead','wasConfident','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ปริพันธ์ไม่จำกัด','mouse','reference.pdf','quiz-generation-area','.delete-hidden-file-shortcut-btn','selectedTopicNames','latestScore','game-start-mode','underline','showInStudentDashboard','perfect_score_status','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-create-project-btn','ผู้เล่น\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ความแปรปรวน','100%','ม้าดีดกะโหลก','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','publicLeaderboard','มุมพิเศษ\x2045°-45°-90°','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','highlighter-tool-btn','touchend','timer-bar','wasForced','live-short-answer-input','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.cancel-edit-topic-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','helvetica','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','#e21b3c','results','word-break:\x20break-all;','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.remove-shortcut-from-tab-btn','wager-slider','webkitRequestFullscreen','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','อกหัก','project-detail-view','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','/questionBank','file-shortcut-id-input','use-powerup-insurance','ดีเทอร์มิแนนต์','result','admin','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','.use-hidden-file-shortcut-btn','\x22\x20class=\x22delete-project-btn\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','.parallel-quiz-btn','ภูเขา','handleGenerateAndShowLesson','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','Error\x20saving\x20quiz\x20edits:','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','retake-quiz-loop-btn','</tbody></table></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','answer-grid-container','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.file-shortcut-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-dropdown',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ไม่ระบุ','</p><p><strong>เฉลย:</strong>\x20','Error\x20listening\x20for\x20projects:','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-btn','visible','input[type=\x22checkbox\x22]','removeEventListener','admin-dashboard','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','highlighter-size-slider','.answeredCurrentQuestion','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','projectId','confidence-modal','bg-[#DCFCE7]\x20text-green-900','behavior-log-tab-btn','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','category','\x22\x20ให้เป็นคำถามประเภท\x20\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','เทพทรู','student-view','delete-svg-btn','reveal-answer-btn','dim-overlay','สำหรับหัวข้อ\x20\x27','show_results_only','Error\x20during\x20blueprint\x20link\x20cleanup:','numeric','Re-grade\x20process\x20failed:','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','generate-from-link-btn','rename-quiz-input','th-TH','activeGameSession','\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circ','เส้นตรง:\x20ขนาน/ตั้งฉาก','[data-topic-container-id]','qIndex','starred-project','isJinxed','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.copy-quiz-id-list-btn','<br>','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','POST','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Failed\x20to\x20kick\x20player\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','อัปเดตแบบทดสอบเก่า\x20','confirm-delete-btn','\x20quizzes\x20into\x20global\x20cache.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','selected-answer-index-hidden-wager','ตารางความถี่','<div\x20class=\x22space-y-4\x22>','anon-settings-container','rgba(255,\x20255,\x200,\x200.5)','ฟังก์ชันแบบชิ้นส่วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','.topic-name-input','getBBox','/public/data/syncGames/','main-correct-answer-display','#FEE2E2','.topic-actions-view','ทฤษฎีบทพีทาโกรัสและการประยุกต์','เกิดข้อผิดพลาดในการสร้าง:\x20','border-green-300\x20bg-green-50','line-through\x20text-red-700','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-sync-question-btn','selected-topics-count','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','Loaded\x20','default','highlighter-tools-group','ข้อ\x20','leq','visibilityState','/public/data/practiceBank','timer-duration-label','specialist','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitExitFullscreen','confirm-quiz-status-btn','appendChild','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','มี\x20Points\x20ไม่เพียงพอ','load-quiz-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','options','Error\x20saving\x20reference\x20URL:','</span><span\x20class=\x22font-bold\x22>','sync-timer-enable-checkbox','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','hint-btn','ผู้เชี่ยวชาญ','\x20(Player)\x20(ID:\x20','Error\x20updating\x20project\x20color:','items','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','shuffle','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x20ใหม่...','\x20คนที่ส่ง\x20ตอบถูก\x20(','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','itemId','bg-gray-50','bg-red-100\x20text-red-900','หน่วยมวล/น้ำหนักและการแปลง','.mb-6.p-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','leaderboard','results-table','ตรีโกณมิติ','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','\x22>(','keys','</a>','insertBefore','uid','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','execCommand','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','.color-palette-popup','อัศวินรัตติกาล','enable-black-market-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','interesting-stats-container','transition-transform','#ffffff','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x20จาก\x20','isPinned','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','add-custom-math-topic-btn','ดีมาก','.pointsLastRound','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','คณิตศาสตร์','กรุณาใส่ชื่อนักเรียน','กรุณาเลือกสถานะ','correct','(ไม่มีชื่อ)','touches','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','type','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','visibilitychange','toISOString','สถานะไม่ชัดเจน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-question','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กองดอง','getElementById','additional-shortcuts-list','select-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','Auto-cleanup\x20failed:','ไอรอนแมน','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-red-50','slice','nextElementSibling','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','next-question-btn','text-indigo-700','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','difficultyValue','Error\x20saving\x20questions\x20to\x20practice\x20bank:','กิจกรรมสิ้นสุดลงแล้ว','getTime','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','ฮิสโตแกรม','bar','\x20ชุด)','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','กรุณาพิมพ์คำตอบ','not_generated','Failed\x20to\x20end\x20group\x20mode\x20game:','generationConfig','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','code','Error\x20saving\x20user\x20preference:','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','none','\x20ข้อ...','ไก่ฟ้าพญาลอ','sync-player-list','(ก่อนเรียน)','onkeydown','<p\x20class=\x22','destination-out','lineWidth','1900006GZnwTc','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','classWeaknesses','<p><strong>คำตอบของคุณ:</strong>\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','พิมพ์ตอบ','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','AI\x20Fix\x20Error:','สลับไปโหมดนักเรียน','ปริมาตร/ความจุและการแปลง','Error\x20editing\x20topic:','catch','ชื่อโปรเจคห้ามว่าง','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','รีเซ็ตลำดับโปรเจคแล้ว','message','.submittedAt','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','ไม่สามารถโหลดข้อมูลอันดับได้','lastIndexOf','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','คนดีศรีสยาม','showImproveButton','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','canvas','404\x20Not\x20Found','manual-bp-grade-level','interesting-stats-wrapper','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.delete-file-shortcut-btn','playerIndex','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','back-to-home-manual-release','blur','quizId','leaderboard-quiz-tab-btn','ความคาดหมาย\x20(Expected\x20value)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','teacherTips','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','removeItem','\x20รายการ...','false','rgba(239,\x2068,\x2068,\x200.7)','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','2-digit','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','abs','shortcuts','เลือกและบันทึก','\x22>ไม่ใช่</p>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','Failed\x20to\x20generate\x20practice\x20test:','keydown','BOOLEAN','#math-topics-checkbox-container\x20input:checked','text-content-input','.score','fix-lesson-latex-btn','นักเดินทาง','isConfidenceScoringEnabled','.topic-selection-btn','upperGroupResponders','<svg','div','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','verify-answers-editor-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>',')</span></div>','.delete-parallel-shortcut-btn','Error\x20saving\x20settings:','bg-emerald-100','</h4>','คัดลอกแบบทดสอบสำเร็จ','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','textarea','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mean','groups','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','_opt1\x22>ไม่ใช่</label></div>','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','bg-black/20','ติดซีรีส์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','url','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','border-green-700','competition','fill_in_with_choices','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','สมการลอการิทึม','now','size','border-red-700','global-activity-quiz-list','.bp-try-btn','confidence_single','แผนการสอน:\x20','เศรษฐีดูไบ','\x5cfrac{$1}{$2}','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[name=\x22team_player\x22]:checked','text-blue-800','jspdf','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','touchstart','presentation-explanation','มุมพิเศษ\x2030°-60°-90°','#student-project-leaderboard-content\x20thead','confidence-choice-btn','.edit-hidden-file-shortcut-btn','destroy','progress-student-select','input[type=\x22checkbox\x22]:checked','source_document.txt','manual-blueprint-modal','realScore','เรเดียนและการแปลงหน่วย','เน็ตช้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','เพิ่ม\x20','hint','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.delete-student-btn','gamePin','ไม่พบข้อมูลการจับคู่','เงาปริศนา','บันทึกโปรเจค\x20\x22','ไม่สามารถโหลดรายการโปรเจคได้','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-800','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22bg-yellow-400\x20text-yellow-900\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','-\x20ข้อ\x20','analytics-summary-cards','เต่าสายฟ้า','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','responses.','blueprintShortcuts','\x5ctimes','null','.group','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x20เป็น\x20','perfect_score','wasJinxed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','active','Error\x20regenerating\x20question\x20in\x20editor:','sync-timer-bar','ปลาทูคะนอง','commonMistakes','กัปตัน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answeredCurrentQuestion','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','Error\x20updating\x20quiz\x20status:','totalQuestions','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','hasPerfectScoreBonus','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insurance','confidenceMode','ช่างภาพ','.quiz-bank-checkbox:checked','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','add-from-global-bank-btn','\x5csum','modal-timer-duration-input','bank-input-area','<p\x20class=\x22font-bold\x20text-sm\x20','auto-fix-latex-btn','.delete-submission-btn','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','/public/data/customMathTopics','จำนวนข้อ:','\x22\x20class=\x22pin-project-btn\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','textContent','.ai-content\x20td','Error\x20fetching\x20quiz\x20settings:','parallelTestShortcutsConfig','ฟังก์ชันยกกำลัง','.shortcut-list-item','deg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x20animate-pulse\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-xs\x20text-indigo-300\x20mb-2\x22>(คุณไม่รู้แต้มตัวเอง)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','</button>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','admin-view','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','next-drill-btn','qType','pdf','ยอดเยี่ยม','badges','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','minHeight','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','bg-yellow-50','submit-team-answer-btn','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20data-target-tab-id=\x22','dashboardConfig','</span></p>','isScored','อยู่ในสาระการเรียนรู้ใด:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','isCorrect','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20style=\x22','Error\x20moving\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','key','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-shortcut-url-input','blueprint-input-area','shortcut-blueprint-url-input','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','image/png','close-additional-parallel-shortcuts-btn','create-from-bank-btn','gain','</body></html>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','suggestedAnswer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','bulk-quiz-settings-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการลบนักเรียน','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','answer','bulk-confidence-mode-container','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','cancel-blueprint-projects-btn','applicationContent','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','transformOrigin','ฮัลค์','gameVariant','blueprint-options-container','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','MathJax\x20re-render\x20failed:','startsWith','text-tab','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','ใช้\x20\x22คำสาป\x22\x20กับ\x20','#results-table\x20thead\x20tr','timer-duration-container','กฎของไซน์','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','ai-quiz-app-aefee','blueprint-project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','.bp-generate-lesson-btn','passcode-error-msg','ก่อนเรียน','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','pointer-events-none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','leaderboard-table-body','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dataset','ผู้ไม่ยอมแพ้','cancel-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.save-custom-topic-btn','เกิดข้อผิดพลาดในการสร้างรูปภาพ','modal-close-btn','isSyncGame','applicationData','dragend','onclick','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','log','สมการเชิงเส้นตัวแปรเดียว','Error\x20joining\x20activity:','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','หมีขั้วโลกใต้','.edit-hidden-parallel-shortcut-btn','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','buyTime','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','27411472','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','parallelShortcutTabs','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','wakeLock','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','.topic-name-display','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','back-to-dashboard-from-bp-btn','wager-max-points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','copy','Error\x20submitting\x20answer:','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','classic','source-over','stem','blueprint-project-manager-view','\x20แล้ว!','แบบทดสอบฝึกฝนเรื่อง:\x20','ต้นฉบับ\x201','<div\x20class=\x22mb-3\x20topic-category\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ผู้ควบคุม\x20(ทดสอบ)','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.verification-result-editor','กรุณาตั้งชื่อแท็บใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','Error\x20starting\x20team\x20quiz:','timerMode','some','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pointsAwarded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ตัวแปรและนิพจน์','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','สลับไปโหมดผู้ควบคุม','class','cancel-quiz-edits-btn-footer','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','text-input-area','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','sum','ยกเลิกการจับคู่สำเร็จ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','text-green-700\x20bg-green-100','ai-quiz-app-aefee.firebaseapp.com','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','live-player-list','bg-teal-500\x20hover:bg-teal-600\x20text-white','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','transition','quiz-results','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','additional-file-shortcuts-list','close-market-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20กลุ่ม</p></div>','globalSettings','G-V90KRM0L63','earned-badges-container','behaviorLog','Enter','ฟังก์ชันสัมพัทธ์\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPasscodeEnabled','.move-parallel-shortcut-menu-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','จำนวนคละ','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','cos','total','mjx-container','checkAnswer','ระยะเวลา\x20(นาที):','parent','.edit-shortcut-btn','เกิดข้อผิดพลาดในการเปลี่ยนสี','</div>\x0a</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเริ่มเกมได้','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','top','anon-show-answer-toggle','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.open-bp-project-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฐานนิยม','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','generate-from-topic-btn','file-tab','pointercancel','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20deleting\x20submission:','groups.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','div[data-question-index=\x22','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','transition-all','drop','select[name=\x22question_single\x22]','156879KYCPYb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','document','select','replace','forceConfident','ไม่มี','quiz-editor-questions-container','confirm-manual-bp-btn','results_','members','presentation-slide-container','Error\x20calculating\x20final\x20scores:','student-result-area','currentQuestionIndex','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','ceil','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','cancel-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','text-emerald-900','remove','value','ตัวเลือก\x20ข','confirm-bulk-quiz-settings-btn','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','คะแนน','delete-all-students-btn',';\x22\x20data-tooltip-target=\x22tooltip-','pairedQuizId','results-display-select','move','asc','\x20link(s)\x20for\x20quiz\x20ID:\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','เกิดข้อผิดพลาดในการลบหัวข้อ','ส่วนเบี่ยงเบนเฉลี่ย','sync-timer-countdown','sin','สายลับจับบ้านเล็ก','/studentProfiles','student-project-leaderboard-tab','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','pointsLastQuestion','modified','bg-red-200\x20text-red-800','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ไม่ได้ตอบ','cancel-create-project-btn','shortcuts-loading-msg','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','worksheet-topic-input','bestScore','โจรสลัดอวกาศ','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','.answers','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','points','checked','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','removed','ไม่ผ่าน','quiz-type-select','📊\x20สถิติการตอบ\x20(จากผู้เล่น\x20','.quiz-result-card','input[name=\x22syncVariant\x22][value=\x22','\x22...','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคปลายทาง','.quiz-settings-btn','text/csv;charset=utf-8;','overallGroups','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','.subTopic','.use-hidden-shortcut-btn','numChoices','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','fill_in_no_choices','ตั้งเวลา\x20(เปิด)','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','summary','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','confirm-admin-login-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','project-list','\x22\x20สำเร็จ!','oninput','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','show_results_and_answers','Error\x20saving\x20to\x20question\x20bank:','test','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-blueprint-as-project-btn','targetId','.file-shortcut-btn[data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','จำนวนนักเรียน','#F3E8FF','project-search-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','ตรวจพบการออกจากหน้าจอครบ\x20','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ชีสเค้ก','ไม่ใช่','deselect-all-topics-btn','quiz-status-modal','แบบทดสอบที่ติดดาว','wager-modal','.scratchpad-content-wrapper','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','button[type=\x22submit\x22]','overflow','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.kick-player-btn-sync','after','correctAnswerIndex','parallel-shortcut_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','สอบปกติ','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','Error\x20unlinking\x20quiz:','.bp-game-btn','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','fas\x20fa-user-edit','dragover','สู้ๆ\x20ลองอีกครั้งนะ','ai-quiz-app-aefee.firebasestorage.app','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','export-compact-pdf-btn','timer-duration-input','จันทร์เจ้า','file.pdf','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</label></div>','Error\x20generating\x20parallel\x20post-test:','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bulk-results-display-select','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','temp-loader-results','replaceChild','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blueprint-upload-input','save-visibility-settings-btn','padStart','players.','student-project-leaderboard-table-body','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','commit','pen','ชื่อหัวข้อห้ามว่าง','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','cancel-export-pdf-btn','modal-passing-score-input','มังกรกินจุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อโปรเจค','Error\x20rendering\x20student\x20progress:','student-name-selection-view','cancel-delete-btn','docChanges','market-item-list','closest','sara','blueprint-shortcut-container','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','_opt','บันทึกการแก้ไข','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>','</p>','ดาวTikTok','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','font-bold\x20text-red-700\x20line-through','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','team-student-list','</div><div\x20class=\x22space-y-2\x22>','scale-125','displayName','<div\x20style=\x22','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','substr','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','redo-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','อัปเดตสถานะสำเร็จ','#DBEAFE','ความต่อเนื่อง','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','Error\x20generating\x20lesson\x20plan:','text-red-300\x20hover:text-red-100','การลบทศนิยม','\x20จุดเรียบร้อยแล้ว','<button\x20data-shortcut-id=\x22','ลาเต้ไม่หวาน','values','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','🚀\x20คุณเดิมพันหมดหน้าตัก!','คะแนนเต็ม!','\x22\x20name=\x22question','file-shortcut-container','อัปเดตพฤติกรรมสำหรับ\x20','presentation-short-answer-input','onloadend','Error\x20generating\x20parallel\x20test\x20from\x20bank:','Error\x20toggling\x20star\x20status:','questions','.question-editor-item[data-q-index=\x22','\x22\x20data-topic=\x22','การหารเศษส่วน','wager-amount-display','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','focus','display','คำเตือน\x20(','fa-fire\x20text-orange-500','parallel-test-input-area','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','parallel-shortcut-name-input','live-game-view','.regenerate-question-btn','text-red-800','default-1','onerror','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','msRequestFullscreen','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','summary_chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','readAsDataURL','pin','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20ออกจากคลังนี้?','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','scores-tab-content','upper_group_count','.generate-post-test-btn','line-height:\x201.3;\x20min-width:\x200;','newOptionsPayload','หลังเรียน','Firebase\x20initialization\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','cancel-global-activity-btn','end-game-btn','.edit-parallel-shortcut-btn','startTime','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fixed','back-to-dashboard-from-results-btn','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','student-progress-view','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','\x20รายการสำเร็จ!','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','<div\x20class=\x22p-2\x20rounded-md\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','Team\x20Quiz','.shortcut-list-item:not(.opacity-50)','สร้างแบบทดสอบปรนัย','Refunded\x20','toDataURL','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/10','first_try_ace','comparison-individual-content','submissions','หัวข้อที่สร้างเอง','lesson-loader-text','fileShortcutsConfig','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','ทฤษฎีทวินาม\x20(เบื้องต้น)','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','quiz-bank-count','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','Error\x20saving\x20file\x20shortcut\x20config:','file-shortcut-tabs-nav','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ข้อต่อไป','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','short','รักแรกพบ','ดูผลสรุปสุดท้าย','\x20สำเร็จ','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','length','lesson-plan-content','then','Copy\x20command\x20failed','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','eraser-tools-group','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','keyup','min','loader-text','ใช่','matching_item','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','/public/data/syncGames','file-default-2','#E5E7EB','per-question-text','pow','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.compare-results-btn','สร้างใหม่','frac','.eraser-size-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','manage','end-team-quiz-btn','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','อนุพันธ์:\x20กฎลูกโซ่','save-project-name-btn','half_mark_status','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','isRemedial','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','.ai-content\x20li','Authentication\x20failed:','text-blue-700','open-global-live-btn','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20to\x20blueprint\x20topic\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','fontWeight','onchange','.project-card-container:not(.opacity-50)','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','submit','shadowColor','onSecondChance','topic-input','scratchpad-header','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','endsWith','เกิดข้อผิดพลาดในการสร้างใบงาน','parallel-shortcut-container','ความชันเส้นสัมผัส','\x22,\x20','join-live-game-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','Attempting\x20to\x20save\x20game\x20results...','upperGroupNames','.duplicate-quiz-btn','.ideal-answer-input,\x20.correct-response-input','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','documentElement','lastAnswerCorrect','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','artifacts/','text/plain','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','เกิดข้อผิดพลาดในการใช้ตัวช่วย','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','.parallel-shortcut-btn','bg-green-200\x20text-green-900\x20font-bold','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x20จุด','toDate','#26890c','#10B981','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ไฟล์ลัด\x201','ครัวซองต์','getAttributeNS','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','question-analytics-container','เกิดข้อผิดพลาดในการลบ','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','/public/data/projects','text-gray-500','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','confirm-wager-btn','bg-gray-100\x20opacity-70','style','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','quiz-results-table-body','Error\x20deleting\x20shortcut:','เกิดข้อผิดพลาดในการลบผลสอบ','\x20in\x20all\x20blueprint\x20projects.','$$$1$','opacity','innerText','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','per_question','exists','sync-timer-duration-input','.bp-create-topic-quiz-btn','position','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','numPages','ยังไม่ส่ง','file-shortcut-editor-modal','.question-editor-item:last-of-type','\x22\x5cn','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','เกิดข้อผิดพลาด','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','project-passcode-input','copy-quiz-id-btn','\x22\x20value=\x22','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.ai-content\x20p','.ideal-answer-input','comparison-individual-tab','\x20pointer-events-none\x22>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','from','.edit-hidden-shortcut-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','ไม่พบตารางสำหรับ\x20Export','</strong></div>','promptFeedback','นักดนตรี','marginBottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','<tr\x20class=\x22','setAttributeNS','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x20|\x20ID:\x20','หยุดระบบจับเวลาหรี่หน้าจอ','จุด\x20เส้น\x20ระนาบ','Error\x20saving\x20visibility\x20settings:','มูเตลู','project-name-input','.regenerate-question-editor-btn','topic-quiz-bank-modal','use-powerup-','Error\x20updating\x20points:','.star-quiz-btn','\x22\x20data-quiz-id=\x22','scrollY','Failed\x20to\x20create/update\x20submission\x20record:','ไม่พบข้อมูลแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test','bg-green-100\x20text-green-800','slide-counter','cancel-confidence-btn','<button\x20data-value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','source_document.pdf','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','isNormalTopic','/public/data/blueprintProjects','#4338ca','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','modal-confidence-scoring-checkbox','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่เต็มนะ','Test\x20Blueprint','ปรับเพิ่ม/ลดเป็นร้อยละ','blueprint-tab','timed','reference_onet.pdf','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touch','ยกเลิกการใช้ไอเทม','confirm-join-game-btn','save-bp-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>','inactive','instructions','#view-rankings-btn','ท้องฟ้า','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','border-gray-200','บทเรียน','left','justification','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','function','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','.linkedQuizId','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','มุมและการวัดมุม','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-bulk-quiz-settings-btn','pointsLastRound','dblclick','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','totalPoints','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','หมดเวลาสำหรับข้อนี้!','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','removeChild','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','mainTopics','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','หมาป่าเดียวดาย','input[name=\x22syncVariant\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','additional-parallel-shortcuts-list','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','referenceUrl','overline','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/players','rgba(79,\x2070,\x20229,\x200.8)','.edit-points-btn','/lessons','lastAnswerIndex','cancel-parallel-shortcut-edit-btn','อัตราส่วนและสัดส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','file-shortcut-name-input','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','blueprintUrl','per-question-options','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','editable-text-','.use-hidden-parallel-shortcut-btn','touchmove','<p\x20class=\x22text-xl\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','การแจกแจงปกติและ\x20z-score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','create-project-modal','Error\x20during\x20deep\x20delete:','ย้ายแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','-9999px','Error\x20fetching\x20project\x20quizzes:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','รอ...','quiz-id-input','export-pdf-btn','รอเปิด','quiz-leaderboard-table','dfrac','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','generate-from-text-btn','บันทึกแบบทดสอบสำเร็จแล้ว!','บันทึกผลการเรียนของนักเรียน\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','generate-worksheet-btn','lineCap','\x22\x20name=\x22question_single\x22\x20value=\x22','cancel-test-btn','API\x20Error\x20Response:','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ชาไข่มุก','แก้ไขชื่อหัวข้อย่อย:','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Error\x20saving\x20file\x20shortcut:','parentElement','2236780nITSRC','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-500','Remedial\x20quiz\x20generation\x20failed:',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','shortcut-editor-modal','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','text-gray-700','</th>','พีชคณิตและฟังก์ชัน','generate-from-parallel-test-btn','finished','correctAnswer','(ตามมาติดๆ)','save-settings-btn','\x22\x20name=\x22drill_answer\x22\x20value=\x22','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','contains','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','student-list','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','</option>','<span\x20class=\x22text-yellow-300\x20ml-1\x22>👑</span>','dragstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','สาระที่\x201','อุณหภูมิและการแปลง','loopUntilPass','cancel-bp-settings-btn','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','ไม่พบแบบทดสอบ','.bp-unlink-quiz-btn','.bp-live-btn','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','moveTo','fill','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','projectView','smooth','user','Error\x20loading\x20blueprint\x20projects:','game-start-quiz-id','pre-test-checkbox','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','order','memory','.pin-project-btn','.shortcut-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x20ชุดสำเร็จ!','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','set','คะแนนเฉลี่ย','Error\x20deleting\x20all\x20students:','คำถามดิบ:\x20\x22','.project-card-container','title','add-file-shortcut-btn','/public/data/projects/','fromCharCode','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','summaryContent','passcode','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','modal-timer-duration-label','เงินงวด\x20(อนุกรมเงินงวด)','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','attemptNumber','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','กรุณาเลือกโปรเจคก่อน','(หลังเรียน)\x20','cursor','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','ฟังก์ชันลอการิทึม','scratchpad-controls','offsetWidth','bp-modal-quiz-type-select','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','export-worksheet-pdf-btn','คณิตการเงิน/บูรณาการ','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','.presentation-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','q-text-','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','```json','submission','ไฮเพอร์โบลา','Invalid\x20response\x20structure\x20from\x20API.','classStrengths','questionStatus','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','เกิดข้อผิดพลาดในการส่งคำตอบ','$1\x5c%','floor','\x22\x20x','00:00','cdot','close-additional-shortcuts-btn','กราฟแท่ง\x20กราฟเส้น','manual-bp-content','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','post-test','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','การบวกเศษส่วน','hiddenOptions_q','offset',',\x20r=','team','powerups','การแยกตัวประกอบ','ondragstart','currentPoints','<p><strong>คำตอบที่แนะนำ:</strong>\x20','team-quiz-topic','comparison-modal','admin-password-modal','ลิมิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','ผู้พิชิตดาว','bank-quiz-search-input','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักวิทยาศาสตร์','responses','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','imageCode','.quiz-bank-item','project-sort-select','FIRST_TRY_ACE','td,\x20th','anonymous','ยังไม่มีนักเรียนส่งงาน','pop','</li>','behavior-log-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','mousedown','map','sync-manage-players-btn','createObjectURL','bg-red-100','confidence-scoring-toggle','```','กฎบวกและกฎคูณ','</select>','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','originalQuestionText','bg-red-100\x20text-red-800','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','q-image-container-','text-red-700','.move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','export-leaderboard-excel-btn','splice','str','scrollIntoView','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','.live-answer-btn,\x20#sync-submit-btn','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','finishReason','แอบชอบ','การสร้างรูปด้วยวงเวียน–สันตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','.bp-create-content-quiz-btn','student','ai-quiz-generator-v3','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','close-game-final-btn','freeMarketEntryUsed_q','submission-status-chart','/preferences/main','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','คาถาแยกเงาพันร่าง','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','back-to-project-btn','doc','ยังไม่สร้าง','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบไฟล์\x20Test\x20Blueprint','tabId','.file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','mixed','border-indigo-500\x20text-indigo-600','additional-parallel-shortcuts-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','⏳\x20ซื้อเวลา','quiz-search-input','project-quizzes-list','ร้อยละพื้นฐาน','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>',';\x22\x20data-id=\x22','📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม','Error\x20updating\x20project\x20name:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','all','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fontFamily','generated-quiz-actions','leaderboard_','เซียนสมองไว','หัวข้อหลักใหม่','trail-tool-btn','Error\x20fetching\x20student\x20rankings:','STRING','text','.project-card-content','scheduled','isLooping','bp-topic-list-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionId','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-questions','เรขาคณิตวิเคราะห์','ไม่พบข้อมูลข้อสอบหลังเรียน','confirm-passcode-btn','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','standard','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','original-mode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-answer-index-hidden','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','สาป','เกิดข้อผิดพลาดในการนำผู้เล่นออก','tan','insertAdjacentHTML','.pen-size-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','ondragend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','desc','cancel-admin-login-btn','confidence-mode-select','cancel-quiz-status-btn','content','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','%)\x0a','ON_FIRE','quizType','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','perQuestionStats','.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','20px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22',')</button>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','start-game-btn','การจัดหมู่\x20(Combination)','overflowY','use-powerup-wagerMultiplier','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','Invalid\x20response\x20structure\x20from\x20AI.','medium','eraser','currentMode','setItem','fullscreenElement','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','reference.txt','create-project-btn','\x20(\x22','ห.ร.ม.\x20(GCD)','เหมียวขี้เซา','สมมาตร\x20(แกน/จุด)','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fas\x20fa-star\x20text-yellow-500','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','QUICK_THINKER','กำลังสร้างแบบทดสอบ\x20\x22','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','fiftyFifty','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','text-gray-300','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>','confidence-input-','delete','กำลังกลับเข้าสู่เกม\x20','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','.delete-file-shortcut-tab-btn','แปลงร่าง','ปวดหลัง','.pointsLastQuestion','6699234bkjHmP','Error\x20updating\x20old\x20quizzes:','/public/data/quizzes','100px','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shuffleSetting','manual-bp-project-name','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','topicName','</span><button\x20data-player-name=\x22','wager-all-in-btn','save-game-results-checkbox','ตอบถูกทุกข้อในแบบทดสอบนี้','STOP','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','student-passcode-input','นินจาชาเขียว','.\x20แต่ละข้อมี\x20','ไม่พบแบบทดสอบในระบบเลย','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','scratchpad-canvas','show-results-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','เลือกผู้เล่นที่จะ\x20\x22','ระบบอสมการ','isAnonymousRevealed','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x20คู่\x20','scratchpad-options','เน็ตไอดอล','add-student-btn','getScreenCTM','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','bg-[#EF4444]\x20text-white\x20font-bold','<button\x20data-id=\x22','กระต่ายตื่นตูม','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','reset-project-order-btn','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','globalCompositeOperation','generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','Blueprint\x202','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','ไม่พบโปรเจคที่ต้องการลบ','complexityValue','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','question','การลบเศษส่วน','ทำคะแนนได้เกินครึ่ง','bulk-confidence-mode-select','สอบซ่อม','results-table-container','.delete-question-editor-btn','Error\x20adding\x20topic:','close-comparison-modal-btn','ไม่สามารถสร้างโปรเจคได้','empty','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-close-btn','ดวงดาว','leaderboard-quiz','3AankJI','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','trail','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','prev-question-btn','\x27,\x20\x27','Error\x20in\x20handleApiCall:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','admin-testing','\x5ccdot','กำลังสร้างแบบทดสอบ:\x20','comparison-overall-content','push','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้','backgroundColor','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','difficulty-level-select','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','จำนวนเชิงซ้อน\x20(เสริม)','team-player-status-grid','cutOne','separate-by-content-from-file-checkbox','ผ่านฉลุย','bg-yellow-300\x20text-yellow-900\x20font-bold','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex','scratchpad-modal','\x20คน\x20เรียบร้อยแล้ว!','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<button\x20data-quiz-id=\x22','student-quiz-leaderboard-content','การวัด','.delete-hidden-shortcut-btn','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','<span>','lowerGroupNames','approx','questionIndex','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','getBoundingClientRect','.shortcut-tab-btn','บันทึกการตั้งค่าแล้ว','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','parallel-default-1','ก้อนเมฆ','Error\x20loading\x20user\x20preferences:','text/html','.live-answer-btn,\x20#live-submit-short-answer-btn','powerups.','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','#file-shortcut-tabs-nav\x20.tab-name-input','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','file-upload-input','open-quiz-bank-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','neq','<div\x20class=\x22flex-1\x22></div>','contents','สมการเหตุผล\x20(rational)','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.start-live-race-btn','pointerType','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','bottom','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดเมนและเรนจ์','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','border-red-300\x20bg-red-50','<span\x20class=\x22sort-indicator\x20ml-2\x22>','close-additional-file-shortcuts-btn','แท็บใหม่','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','next-review-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ป่าไม้','.space-y-1.pl-4','เปลี่ยนชื่อโปรเจคสำเร็จ','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-topic','loader','แก้ไขปุ่มลัดจากไฟล์','COMEBACK_KING','Error\x20in\x20generating\x20from\x20files:','admin-try-quiz-btn','sync-short-answer-input','files','เกิดข้อผิดพลาดในการซื้อ','powerupUsed','0\x200','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','learningGaps','ค่าเสื่อมราคา','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','Error\x20generating\x20from\x20link:','application/pdf','Error\x20generating\x20worksheet:','MathJax','Error\x20starting\x20sync\x20game:','buy-time-quantity-input','อนุพันธ์:\x20ผลคูณ/ผลหาร','ควรปรับปรุง','docs','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','แบตหมด','input[name=\x22drill_answer\x22]:checked','ไอติมทอด','ผลรวมอนุกรม\x20(Σ)','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','text-gray-100','transparent','data:application/vnd.ms-word;charset=utf-8,','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','textarea[name=\x22question_single\x22]','Error\x20renaming\x20quiz:','answering','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','กาแฟขม','ปล่อยพลัง','.pdf','padding','md:col-span-3','Error\x20verifying\x20answers\x20in\x20editor:','className','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','incorrect','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','analytics','.answered','confidence','preScore','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','topicId','add-file-shortcut-tab-btn','flex\x20flex-col\x20gap-2','timestamp','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','tab_','ตัวเลือก\x20ง','highlighter','eraser-tool-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','geq','check-presentation-answer-btn','_opt1\x22\x20name=\x22question','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','toLowerCase','createElementNS','file-topics-list-container','setTransform','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','ลำดับเรขาคณิต\x20(GP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','blueprint-projects-modal','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','lower_group_count','application/json','#parallel-shortcut-tabs-nav\x20.tab-name-input','players','confirm-move-quiz-btn','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-default-','กลุ่มของคุณ','.flex.justify-between.items-center','.quiz-status-btn','answerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กรุณากรอกเป็นตัวเลขเท่านั้น','addEventListener','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','autoTable','ไฟล์ลัด\x202','🔁\x20โอกาสครั้งที่สอง','translate','icon','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','per-q-countdown','lesson-view-content','ไม่ใช่\x20/\x20ผิด','ข้อที่\x20','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','file-shortcut-url-input','parallel-test-tab','.delete-parallel-shortcut-tab-btn','results-quiz-title','pathname','teachingContent','password-error-msg','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','grid','5600010LDgOII','นักล่าฝัน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','การเรียงสับเปลี่ยน\x20(Permutation)','parallel-shortcut-editor-modal','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','คัดลอกรหัสแล้ว!','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lesson-plan-title','shortcut-reference-url-input','project-id-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','shortcutIds','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','เริ่มกิจกรรม:\x20','\x22><i\x20class=\x22fas\x20','การจัดกลุ่มข้อมูล','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','back-to-results-btn','raw','strength-weakness-analysis-container','json','close-topic-bank-btn','open-blueprint-projects-btn','sqrt','ต้นฉบับ\x202','✂️\x20ตัด\x201\x20ตัวเลือก','Error\x20starting\x20group\x20quiz:','รูปแบบการให้เหตุผล','เกมเมอร์','bp-modal-num-choices','timeBonusThisQuestion','\x20ตอบ','student-quiz-area','modal-adaptive-quiz-checkbox','beginPath','worksheet-tab','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','not-found','การคูณทศนิยม','.move-file-shortcut-dropdown','red','#open-additional-file-shortcuts-btn','multiply','reduce','.move-parallel-shortcut-item','quick_thinker','modal-confidence-mode-container','classList','ยอดเยี่ยม!','auto','font-bold\x20text-green-700','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','\x20สำเร็จ!','<span\x20class=\x22font-bold\x20','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','ใช่\x20/\x20ถูก','getPage','.live-answer-btn','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tr>','กรุณาเลือกไฟล์ก่อน','submittedAt','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','Error\x20joining\x20sync\x20game:','lowerGroupResponders','fill_in_the_blank','Failed\x20to\x20refund\x20powerup:','name','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','นักกีฬา','sync-submit-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','NEGATIVE_INFINITY','pointermove','Error\x20comparing\x20results:','เพิ่มรายการที่เลือก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','check-answer-btn','กราฟฟังก์ชันตรีโกณ','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','.buy-time-confirm-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','AI\x20แก้ไขคำถามสำเร็จ!','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','N/A','.sortable-header','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','topics','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','.game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','entries','ref','ยืนยันการจับคู่','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','handleGeneratePracticeTest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid-view-btn','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','closePath','substring','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','_new','ตัวประกอบและตัวประกอบเฉพาะ','.txt','center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','isDefault','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','confidence-scoring-checkbox','draggable-text','beforeend','.draggable-text','</div></div>','.start-presentation-list-btn','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','parts','match','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','บันทึกการตั้งค่าสำเร็จ','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22confidence','$1\x20\x5cfrac','ไม่มีผู้ตอบตัวเลือกนี้','hidden','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-team-join','ไม่พบข้อมูลเกม','ศูนย์','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','studentName','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','baseVal','หน่วยเวลาและการคำนวณเวลา','update','lesson-view-modal','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-bp-project-btn','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','Error\x20verifying\x20answers:','fix\x20the\x20option','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','0\x20(รอโบนัส)','actions-container-','ปุ่มลัดทั้งหมด','close-lesson-plan-modal-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.project-card-container[data-id]','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-complexity-select','analytics-tab-btn','ผ่าน','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','save-file-shortcut-btn','scratchpad-clear-btn','สรุปผลการวิเคราะห์:\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','30px','per-question-timer-container','projectSort','bg-green-200','แบบทดสอบนี้ปิดใช้งานอยู่','#000000','ตัวเลือก\x20ค','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x22>จาก:\x20','close-lesson-plan-modal-footer-btn','screen','คำอธิบาย...','preventDefault','</span></td>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','parallel-shortcuts-loading-msg','\x20/\x20','text-emerald-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-names-btn','wagerMultiplier','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','text-white','<li>','แบบทดสอบซ่อมเสริม','สมการตรีโกณมิติ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','Error\x20duplicating\x20quiz:','shortcutId','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','บักแตงโม','countdown-display','กรุณาป้อนรหัสแบบทดสอบ','answer-counter','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','Error\x20opening\x20quiz\x20editor:','Error\x20displaying\x20question\x20bank:','เลือกโปรเจคเพื่อบันทึก','correctResponse','-options\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','afterend','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','point','https://corsproxy.io/?','choices_only','list-view-btn','pinned-items','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจทานเฉลยเสร็จสิ้น!','fullscreenchange','[data-field=\x22subTopic\x22]','เปิดใช้งาน','กำลังสร้างบทเรียน:\x20','every','Error\x20saving\x20manual\x20blueprint\x20project:','การคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','requestFullscreen','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','16992pMltIt','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','สร้างคำถามใหม่\x201\x20ข้อ\x20','bg-yellow-200','wheel','.tab-name-display','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','1:274192258111:web:4120c9118229b5644dd48a','checkbox','.generate-easy-version-btn','move-quiz-modal','สมการค่าสัมบูรณ์','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','#E0E7FF','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','parallel-shortcut-modal-title','NUMBER','.lastAnswerValue','No\x20players\x20data\x20found\x20to\x20save\x20yet.','getItem','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','การกระจายและการจัดหมู่','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','curriculum','.group\x5c/dropdown-file','https://drive.google.com/uc?export=download&id=','height','\x22\x20data-q-type=\x22','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-topic-input','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','แบบทดสอบจากคลังส่วนตัว','.totalPoints','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','จิงโจ้สโลว์ไลฟ์','<div\x20class=\x22my-2\x22>','Error\x20fetching\x20lesson\x20content:','.parallel-shortcut-tab-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x20P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','240','thead\x20.sortable-header','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','Error\x20clearing\x20all\x20links:','ยูทูปเบอร์ฝึกหัด','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bp-modal-include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ดอกเบี้ยทบต้น','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','authed_project_','dataIndex','bg-white\x20text-gray-800','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนและการดำเนินการ','pinnedProjects','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','quiz-results-view','<i\x20class=\x22fas\x20fa-save\x22></i>','generated-quiz-container','shouldSaveResults','หมดเวลา!\x20กำลังส่งคำตอบ...','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','tooltipTarget','ยกเลิกการเชื่อมโยงสำเร็จ','bp-modal-question-complexity-select','ดอกเบี้ยอย่างง่าย','lineJoin','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','Error\x20preparing\x20content\x20quiz:','badgesCount','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','.quiz-bank-delete-btn','Error\x20listening\x20for\x20student\x20profiles:','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','hover:bg-indigo-100','tGain','mandatory','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','mode','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','clear-all-links-btn','lesson-view-title','close','live-options-container','bg-red-500\x20text-white\x20font-bold','รูปหลายเหลี่ยมและมุมภายใน','ondblclick','/public/data/teamQuizzes','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','กรุณาวาง\x20URL\x20ของบทความก่อน','blueprint-settings-modal','join-group-activity-btn','student-rankings-modal','close-lesson-view-btn','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','show_pass_fail_only','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','5782zXwMmk','modal-shuffle-select','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','นกฮูกกลางวัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','adaptive-quiz-checkbox','ระยะเวลา\x20(วินาที):','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','podium','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','จัดการ','/users/','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','restore','\x5csqrt{$1}','input[type=\x22radio\x22][value=\x22','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','px)\x20scale(','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ถูกต้อง!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','text-indigo-600','\x22\x20class=\x22color-palette-btn\x20','user-id-display','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','ฟังก์ชันราก\x20(root)','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-400','เกิดข้อผิดพลาดในการบันทึกโปรเจค','สายตาสั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','filter','ค.ร.น.\x20(LCM)','ondrop','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','timerDuration','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','shuffle-setting-select','หนอนหนังสือ','cancel-move-quiz-btn','confirm-rename-quiz-btn','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','createdAt','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','/submissions','schedule','sync-variant-selector','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','s;\x22\x20title=\x22','Game\x20results\x20already\x20saved.\x20Skipping.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','(พยายามอยู่)','ตัวเลือก\x20','<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','export-pdf-modal','topic-bank-list','answerText','Failed\x20to\x20generate\x20lesson:','All\x20groups\x20have\x20finished.\x20Ending\x20game.','confident','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','Error\x20saving\x20shortcut\x20config:','bg-blue-500\x20hover:bg-blue-600\x20text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','.auto-resize-textarea','fadeStartTime','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ความเป็นอิสระของเหตุการณ์',':</span><span>','shortcut-tabs-nav','msExitFullscreen','parentNode','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','.linkedQuizIds','index','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','parseInline','txt','questions_only','cloneNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.delete-svg-btn','ค่าคลาดเคลื่อนของการวัด','dispatchEvent','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','เลือกและเริ่มสร้าง','???','isBlackMarketEnabled','กำลังอ่านไฟล์อ้างอิง...','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','.pair-quiz-btn','change'];_0x3857=function(){return _0x24c9f4;};return _0x3857();}function formatAndPrintWorksheet(_0x45730b,_0x2ab49b){const _0x47f413=_0x5ddd37,_0x25b5c2=_0x47f413(0xaa0)+_0x45730b[_0x47f413(0xe77)]+_0x47f413(0x8b8)+_0x45730b[_0x47f413(0xe77)]+_0x47f413(0xd08)+_0x45730b[_0x47f413(0x7f9)][_0x47f413(0xa25)]((_0x5ec7dd,_0xd7b760)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0xd7b760+0x1)+'.\x20'+_0x5ec7dd[_0x47f413(0xb93)]+_0x47f413(0x590)+(_0x5ec7dd['imageCode']?_0x47f413(0x889)+_0x5ec7dd[_0x47f413(0xa18)]+_0x47f413(0x629):'')+_0x47f413(0x588))[_0x47f413(0x40a)]('')+_0x47f413(0x650);_0x2ab49b[_0x47f413(0x6ff)][_0x47f413(0x5c9)](_0x25b5c2),_0x2ab49b[_0x47f413(0x6ff)][_0x47f413(0xd57)](),_0x2ab49b['onload']=function(){setTimeout(()=>{const _0x35f3bf=_0x2785;_0x2ab49b[_0x35f3bf(0x3e9)]();},0x3e8);};}async function generateWorksheet(){const _0xe477fb=_0x5ddd37,_0x1314ac=document[_0xe477fb(0x4ff)](_0xe477fb(0x73e))[_0xe477fb(0x717)][_0xe477fb(0x26c)]();if(!_0x1314ac){showMessage(_0xe477fb(0x662));return;}const _0x4482d8=document[_0xe477fb(0x4ff)](_0xe477fb(0xe7c))[_0xe477fb(0x749)],_0x523c0c=_0x4482d8?'':_0xe477fb(0x4ec),_0x4d1478=window['open']('',_0xe477fb(0x27d));_0x4d1478[_0xe477fb(0x6ff)][_0xe477fb(0x5c9)](_0xe477fb(0x214));const _0x40fd7c=parseInt(document[_0xe477fb(0x4ff)](_0xe477fb(0xe81))[_0xe477fb(0x717)]),_0x15ceb8=document['getElementById'](_0xe477fb(0xdb4))['checked'],_0x300eb3=_0x15ceb8?_0xe477fb(0x853):'',_0x43e9b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x523c0c+_0xe477fb(0x684)+_0x40fd7c+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x1314ac+_0xe477fb(0x36f)+_0x300eb3+_0xe477fb(0x663)+simpleMathPrompt+_0xe477fb(0x81d),_0x144d37={'type':'OBJECT','properties':{'topic':{'type':_0xe477fb(0xa74)},'questions':{'type':'ARRAY','items':{'type':_0xe477fb(0x3d9),'properties':{'questionText':{'type':_0xe477fb(0xa74)},'imageCode':{'type':_0xe477fb(0xa74)}},'required':['questionText']}}},'required':[_0xe477fb(0xe77),_0xe477fb(0x7f9)]};document[_0xe477fb(0x4ff)](_0xe477fb(0x865))[_0xe477fb(0x602)]='',document[_0xe477fb(0x4ff)](_0xe477fb(0xb7b))['classList']['remove'](_0xe477fb(0xc89)),document[_0xe477fb(0x4ff)](_0xe477fb(0x3ee))[_0xe477fb(0xc2e)][_0xe477fb(0x716)](_0xe477fb(0xc89)),generateWorksheetBtn['disabled']=!![];try{const _0x4f9374=await callAnalysisApi(_0x43e9b1,_0x144d37);formatAndPrintWorksheet(_0x4f9374,_0x4d1478);}catch(_0x19b699){console[_0xe477fb(0x34c)](_0xe477fb(0xb8b),_0x19b699);if(_0x4d1478)_0x4d1478[_0xe477fb(0xd57)]();showMessage(_0xe477fb(0x898));}finally{document['getElementById'](_0xe477fb(0xb7b))[_0xe477fb(0xc2e)][_0xe477fb(0xee4)](_0xe477fb(0xc89)),document['getElementById'](_0xe477fb(0x3ee))[_0xe477fb(0xc2e)][_0xe477fb(0xee4)]('hidden'),generateWorksheetBtn[_0xe477fb(0x206)]=![];}}async function callAnalysisApi(_0x411dad,_0x5baa50){const _0x762cb8=_0x5ddd37,_0x548e3b={'contents':[{'role':_0x762cb8(0x9b2),'parts':[{'text':_0x411dad}]}],'generationConfig':{'responseMimeType':_0x762cb8(0xbd7),'responseSchema':_0x5baa50}},_0x2a7a3a=_0x762cb8(0xa3d),_0xf9feb4=_0x762cb8(0xb2f)+_0x2a7a3a,_0x2ab6a9=await fetch(_0xf9feb4,{'method':_0x762cb8(0x473),'headers':{'Content-Type':_0x762cb8(0xbd7)},'body':JSON[_0x762cb8(0xe5a)](_0x548e3b)});if(!_0x2ab6a9['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x2ab6a9[_0x762cb8(0x361)]);const _0x33ab8a=await _0x2ab6a9[_0x762cb8(0xc13)]();if(_0x33ab8a['candidates']?.[0x0]?.[_0x762cb8(0xa99)]?.[_0x762cb8(0xc7f)]?.[0x0])return JSON[_0x762cb8(0xe29)](_0x33ab8a[_0x762cb8(0x5aa)][0x0][_0x762cb8(0xa99)][_0x762cb8(0xc7f)][0x0][_0x762cb8(0xa75)]);else{let _0x42a780=_0x762cb8(0xab4);if(_0x33ab8a[_0x762cb8(0x8f2)]?.['blockReason'])_0x42a780=_0x762cb8(0x3de)+_0x33ab8a[_0x762cb8(0x8f2)][_0x762cb8(0x2a2)]+'.';else _0x33ab8a[_0x762cb8(0x5aa)]?.[0x0]?.[_0x762cb8(0xa3e)]&&_0x33ab8a['candidates'][0x0][_0x762cb8(0xa3e)]!==_0x762cb8(0xae3)&&(_0x42a780='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x33ab8a[_0x762cb8(0x5aa)][0x0][_0x762cb8(0xa3e)]+'.');console[_0x762cb8(0x34c)](_0x42a780,JSON[_0x762cb8(0xe5a)](_0x33ab8a));throw new Error(_0x42a780);}}async function handleStartSyncMode(_0x508335,_0x1ef1ea=![],_0x5f2f4a=_0x5ddd37(0x690)){const _0x2b509b=_0x5ddd37,_0x2c10ef=allQuizzes[_0x2b509b(0xe0f)](_0x101b30=>_0x101b30['id']===_0x508335)||allQuizzesGlobal[_0x2b509b(0xe0f)](_0x531d42=>_0x531d42['id']===_0x508335);if(!_0x2c10ef){showMessage(_0x2b509b(0x907));return;}currentQuizData=getShuffledQuiz(_0x2c10ef);const _0x4ba110=Math['floor'](0x3e8+Math[_0x2b509b(0x21a)]()*0x2328)[_0x2b509b(0xe66)](),_0x1b9798=doc(db,_0x2b509b(0x8a6)+appId+_0x2b509b(0x8c1),_0x2c10ef[_0x2b509b(0x44e)]),_0x48329a=await getDoc(_0x1b9798);if(!_0x48329a[_0x2b509b(0x8d2)]()){showMessage(_0x2b509b(0xbd3));return;}const _0x2e1fb0=_0x48329a[_0x2b509b(0xef5)]()['students']||[],_0x33c687={};if(_0x5f2f4a===_0x2b509b(0xa1d)||_0x5f2f4a==='anonymous_reveal_end'){const _0x13b1da=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math['random']());_0x2e1fb0[_0x2b509b(0x23a)]((_0x436065,_0xd438e0)=>{const _0x14ed2c=_0x2b509b;_0x33c687[_0x436065]=_0x13b1da[_0xd438e0]||_0x14ed2c(0x3f8)+(_0xd438e0+0x1);});}const _0x3ad7c0=document[_0x2b509b(0x4ff)](_0x2b509b(0x4b0))[_0x2b509b(0x749)],_0x13b03d=parseInt(document[_0x2b509b(0x4ff)](_0x2b509b(0x8d3))[_0x2b509b(0x717)],0xa);let _0xec35c6={'timerMode':_0x2b509b(0x527),'timerDuration':0x0};_0x3ad7c0&&(_0xec35c6['timerMode']=_0x2b509b(0x8d1),_0xec35c6[_0x2b509b(0xd91)]=_0x13b03d||0xf0);const _0x1b7df6=document[_0x2b509b(0x4ff)](_0x2b509b(0x6e2))[_0x2b509b(0x749)],_0x43c9e1=document[_0x2b509b(0x4ff)](_0x2b509b(0x4da))[_0x2b509b(0x749)];try{const _0xc8a15e=await addDoc(collection(db,_0x2b509b(0x8a6)+appId+_0x2b509b(0x869)),{'quizId':_0x2c10ef['id'],'pin':_0x4ba110,'status':_0x2b509b(0x356),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1ef1ea,'players':{},'gameVariant':_0x5f2f4a,'reviewQuestionIndex':0x0,'playerNicknames':_0x33c687,'isAnonymousRevealed':![],..._0xec35c6,'showAnswerInAnonymous':_0x1b7df6,'isBlackMarketEnabled':_0x43c9e1});currentLiveGameId=_0xc8a15e['id'],showView(_0x2b509b(0x263)),renderSyncLobbyView(_0x4ba110,_0x2c10ef[_0x2b509b(0xe77)]),listenForSyncGameUpdates();const _0x2a5285={'gameId':currentLiveGameId,'mode':_0x2b509b(0x3b7),'role':_0x2b509b(0x420)};sessionStorage['setItem'](_0x2b509b(0x466),JSON[_0x2b509b(0xe5a)](_0x2a5285));}catch(_0x532868){console[_0x2b509b(0x34c)](_0x2b509b(0xb8d),_0x532868),showMessage(_0x2b509b(0x739));}}function calculateFinalPodiumScores(_0x1fb5b0){const _0x29d219=_0x5ddd37;if(!_0x1fb5b0||!_0x1fb5b0[_0x29d219(0x230)]||!_0x1fb5b0['players'])return _0x1fb5b0[_0x29d219(0xbd9)]||{};const _0x31ac2a=_0x1fb5b0[_0x29d219(0x230)][_0x29d219(0x7f9)]['length'],_0x5039ff=JSON[_0x29d219(0xe29)](JSON['stringify'](_0x1fb5b0['players']));return Object['values'](_0x5039ff)['forEach'](_0x4db26e=>{const _0x49dda1=_0x29d219,_0x138d4e=_0x4db26e[_0x49dda1(0x6e9)]||0x0,_0x5861a8=_0x4db26e['totalPoints']||0x0;_0x31ac2a>0x0&&_0x138d4e===_0x31ac2a?_0x4db26e[_0x49dda1(0x5ee)]=!![]:_0x4db26e['hasPerfectScoreBonus']=![],_0x4db26e['realScore']=_0x138d4e,_0x4db26e['totalPoints']=_0x5861a8;}),_0x5039ff;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x64d2b4=_0x5ddd37;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x3801f0=doc(db,_0x64d2b4(0x8a6)+appId+_0x64d2b4(0x869),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3801f0,_0x2297ff=>{const _0x51153f=_0x64d2b4;if(!_0x2297ff['exists']()){sessionStorage[_0x51153f(0x55c)](_0x51153f(0x466)),showMessage(_0x51153f(0x513));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView('student');return;}cachedGameData=_0x2297ff[_0x51153f(0xef5)](),cachedGameData[_0x51153f(0x230)]&&(currentQuizData=cachedGameData[_0x51153f(0x230)]),syncDataAndRender();});const _0x716318=collection(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x64d2b4(0x94d));if(currentMode==='admin')unsubscribePlayersCollectionListener=onSnapshot(_0x716318,_0x322497=>{const _0x4b119f=_0x64d2b4;_0x322497['docChanges']()[_0x4b119f(0x23a)](_0x437ea5=>{const _0x9ff9de=_0x4b119f;if(_0x437ea5[_0x9ff9de(0x4f5)]===_0x9ff9de(0xe46)||_0x437ea5[_0x9ff9de(0x4f5)]===_0x9ff9de(0x736))cachedPlayerData[_0x437ea5['doc']['id']]=_0x437ea5[_0x9ff9de(0xa51)][_0x9ff9de(0xef5)]();else _0x437ea5[_0x9ff9de(0x4f5)]===_0x9ff9de(0x74d)&&delete cachedPlayerData[_0x437ea5[_0x9ff9de(0xa51)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x64d2b4(0x85b)]>0x0){const _0xe1f7c0=query(_0x716318,where('name','in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0xe1f7c0,_0x596a3b=>{const _0x27cfe8=_0x64d2b4;_0x596a3b[_0x27cfe8(0x7c2)]()[_0x27cfe8(0x23a)](_0x2411ff=>{const _0x5aeda0=_0x27cfe8;(_0x2411ff[_0x5aeda0(0x4f5)]===_0x5aeda0(0xe46)||_0x2411ff['type']===_0x5aeda0(0x736))&&(cachedPlayerData[_0x2411ff['doc']['id']]=_0x2411ff['doc'][_0x5aeda0(0xef5)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0xa55ccb=_0x5ddd37;if(!cachedGameData)return;const _0x35dbcc={},_0x201a4a=cachedGameData[_0xa55ccb(0x70b)];Object[_0xa55ccb(0x4cf)](cachedPlayerData)[_0xa55ccb(0x23a)](_0x13604e=>{const _0x32880e=_0xa55ccb,_0xc07b8d=cachedPlayerData[_0x13604e],_0x187d6c=_0xc07b8d[_0x32880e(0xc7d)]&&_0xc07b8d[_0x32880e(0xc7d)]['some'](_0xfdcc2e=>_0xfdcc2e[_0x32880e(0xb48)]===_0x201a4a);_0x35dbcc[_0x13604e]={..._0xc07b8d,'answered':_0x187d6c};});const _0x5f3fbd={...cachedGameData,'players':_0x35dbcc};currentMode==='admin'?updateAdminSyncView(_0x5f3fbd):updateStudentSyncView(_0x5f3fbd);}function renderSyncLobbyView(_0x498cb7,_0x5e3883){const _0x499a76=_0x5ddd37;liveGameView[_0x499a76(0x1f9)]=_0x499a76(0x36b)+_0x5e3883+_0x499a76(0x364)+_0x498cb7+_0x499a76(0xe0c);const _0x2c2185=document['getElementById'](_0x499a76(0xa29)),_0x4a5c8e=document[_0x499a76(0x4ff)]('confidence-scoring-description');_0x2c2185[_0x499a76(0xbe5)](_0x499a76(0xdd4),()=>{const _0x36b1f7=_0x499a76;_0x4a5c8e['style'][_0x36b1f7(0x800)]=_0x2c2185[_0x36b1f7(0x749)]?_0x36b1f7(0xe49):_0x36b1f7(0x527);}),document['getElementById'](_0x499a76(0x359))['addEventListener']('click',async()=>{const _0xa96d62=_0x499a76,_0x561827=doc(db,'artifacts/'+appId+_0xa96d62(0x869),currentLiveGameId),_0x1b46c5=document[_0xa96d62(0x4ff)](_0xa96d62(0xa29))[_0xa96d62(0x749)];await updateDoc(_0x561827,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1b46c5});});}function updateAdminSyncView(_0x4bd73f){const _0x26d29d=_0x5ddd37;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4bd73f[_0x26d29d(0x361)]){case _0x26d29d(0x356):renderSyncLobbyView(_0x4bd73f[_0x26d29d(0x818)],_0x4bd73f[_0x26d29d(0x230)]['topic']);const _0xe9f9a=Object['entries'](_0x4bd73f['players']||{})['filter'](([_0x3afc53,_0x38873b])=>_0x38873b[_0x26d29d(0x361)]!==_0x26d29d(0x924));document[_0x26d29d(0x4ff)]('player-count')[_0x26d29d(0x602)]=_0xe9f9a[_0x26d29d(0x85b)],document[_0x26d29d(0x4ff)](_0x26d29d(0x2b6))['innerHTML']=_0xe9f9a['map'](([_0x33df90,_0x256736])=>_0x26d29d(0x57e)+_0x33df90+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x33df90+_0x26d29d(0x39b))[_0x26d29d(0x40a)]('')||_0x26d29d(0x4dc),document[_0x26d29d(0x4ff)](_0x26d29d(0x359))[_0x26d29d(0x206)]=_0xe9f9a[_0x26d29d(0x85b)]===0x0;break;case _0x26d29d(0xb0e):const _0x46d884=Object[_0x26d29d(0x7ee)](_0x4bd73f[_0x26d29d(0xbd9)]||{})['filter'](_0x47781d=>_0x47781d['status']!==_0x26d29d(0x924)),_0x8fae31=_0x46d884[_0x26d29d(0xd8d)](_0x3f5c69=>_0x3f5c69[_0x26d29d(0x2b7)])[_0x26d29d(0x85b)],_0x50b6b8=_0x8fae31===_0x46d884[_0x26d29d(0x85b)]&&_0x46d884[_0x26d29d(0x85b)]>0x0;if(_0x50b6b8&&_0x4bd73f['status']===_0x26d29d(0xb0e)){const _0x4372c2=doc(db,'artifacts/'+appId+_0x26d29d(0x869),currentLiveGameId);updateDoc(_0x4372c2,{'status':'summary'});return;}if(document[_0x26d29d(0x4ff)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x4bd73f);else{const _0x52b73c=document[_0x26d29d(0x4ff)]('answer-counter');_0x52b73c&&(_0x52b73c[_0x26d29d(0x602)]=_0x8fae31+'/'+_0x46d884[_0x26d29d(0x85b)]);const _0x44441b=document['getElementById'](_0x26d29d(0x52a));_0x44441b&&(_0x44441b[_0x26d29d(0x1f9)]=_0x46d884['map'](_0x188c72=>{const _0x1bbcf5=_0x26d29d,_0x12c0a6=_0x188c72[_0x1bbcf5(0x2b7)]?_0x1bbcf5(0xad7):_0x1bbcf5(0x984),_0x409d0a=_0x188c72[_0x1bbcf5(0x2b7)]?_0x1bbcf5(0x7e1):_0x1bbcf5(0x949);return _0x1bbcf5(0x69a)+_0x12c0a6+'\x22>'+_0x409d0a+_0x1bbcf5(0xb45)+_0x188c72[_0x1bbcf5(0xc44)]+_0x1bbcf5(0xadf)+_0x188c72[_0x1bbcf5(0xc44)]+_0x1bbcf5(0xb76);})[_0x26d29d(0x40a)](''));}const _0x3dfd55=_0x4bd73f[_0x26d29d(0x69f)]===_0x26d29d(0x8d1)&&_0x4bd73f[_0x26d29d(0x396)];if(_0x3dfd55){const _0x4f62af=_0x4bd73f[_0x26d29d(0x396)]['toDate']()[_0x26d29d(0x514)](),_0xdcd7ef=_0x4bd73f[_0x26d29d(0xd91)]*0x3e8,_0x26ca44=_0x4f62af+_0xdcd7ef,_0x513c23=document[_0x26d29d(0x4ff)]('sync-timer-bar'),_0x301ee9=document[_0x26d29d(0x4ff)](_0x26d29d(0x72b));syncQuestionTimerInterval=setInterval(()=>{const _0x4cfe6d=_0x26d29d,_0x3cd429=Date['now'](),_0x1eed2e=_0x46d884['length']>0x0&&_0x46d884['every'](_0x48e114=>{const _0x34fa40=_0x2785;if(_0x48e114[_0x34fa40(0x2b7)])return!![];const _0x17e8cf=_0x48e114[_0x34fa40(0xc1d)]||0x0;return _0x3cd429>=_0x4f62af+_0xdcd7ef+_0x17e8cf;});if(_0x1eed2e){clearInterval(syncQuestionTimerInterval);const _0x4bbd03=doc(db,_0x4cfe6d(0x8a6)+appId+_0x4cfe6d(0x869),currentLiveGameId);updateDoc(_0x4bbd03,{'status':_0x4cfe6d(0x762)});return;}const _0x21c4d0=_0x26ca44-_0x3cd429;if(_0x21c4d0<=0x0){if(_0x513c23)_0x513c23[_0x4cfe6d(0x8c6)][_0x4cfe6d(0x248)]='0%';if(_0x301ee9)_0x301ee9[_0x4cfe6d(0x602)]=_0x4cfe6d(0xc9d);}else{if(_0x513c23&&_0x301ee9){const _0xf9353d=_0x21c4d0/_0xdcd7ef*0x64;_0x513c23[_0x4cfe6d(0x8c6)][_0x4cfe6d(0x248)]=_0xf9353d+'%',_0x301ee9[_0x4cfe6d(0x602)]=Math['ceil'](_0x21c4d0/0x3e8);}}},0x1f4);}break;case _0x26d29d(0x762):const _0x5446c1=_0x4bd73f[_0x26d29d(0x70b)],_0x374d98=_0x4bd73f['shuffledQuiz']['questions'][_0x5446c1];renderSyncSummaryView(_0x4bd73f,_0x374d98,!![]);break;case'results':const _0x206cee=_0x4bd73f[_0x26d29d(0x649)]||_0x26d29d(0x690);_0x206cee===_0x26d29d(0xed2)||_0x206cee===_0x26d29d(0xedf)?renderAdminSyncDashboard(_0x4bd73f,!![],_0x4bd73f[_0x26d29d(0xe76)]):(_0x4bd73f[_0x26d29d(0x361)]===_0x26d29d(0x411)&&!_0x4bd73f[_0x26d29d(0x3d4)]&&((async()=>{const _0x1b1222=_0x26d29d;try{const _0x3b8919=doc(db,_0x1b1222(0x8a6)+appId+_0x1b1222(0x869),currentLiveGameId);await updateDoc(_0x3b8919,{'scoresCalculated':!![]});const _0x3bfefb=cachedPlayerData||{},_0x3c2496=_0x4bd73f[_0x1b1222(0x230)][_0x1b1222(0x7f9)]['length'],_0x534cf9={};Object[_0x1b1222(0x7ee)](_0x3bfefb)['forEach'](_0x1be8c9=>{const _0x55d965=_0x1b1222;if(_0x1be8c9[_0x55d965(0x361)]!==_0x55d965(0x924)){const _0x2ad71a=_0x1be8c9[_0x55d965(0xc44)],_0x60079d=_0x1be8c9[_0x55d965(0x6e9)]||0x0,_0x2e6775=_0x1be8c9[_0x55d965(0x939)]||0x0;let _0x268292=_0x2e6775;_0x3c2496>0x0&&_0x60079d===_0x3c2496&&(_0x268292+=0x1),_0x534cf9[_0x55d965(0x7b2)+_0x2ad71a+_0x55d965(0x570)]=_0x60079d,_0x534cf9[_0x55d965(0x7b2)+_0x2ad71a+_0x55d965(0xd1c)]=_0x268292,_0x534cf9[_0x55d965(0x7b2)+_0x2ad71a+_0x55d965(0x4ea)]=_0x268292;}}),await updateDoc(_0x3b8919,{..._0x534cf9});}catch(_0xa4b3ca){console['error'](_0x1b1222(0x709),_0xa4b3ca);}})()),renderAdminSyncDashboard(_0x4bd73f,!![],_0x4bd73f[_0x26d29d(0x70b)]));break;case _0x26d29d(0xd73):const _0x54a568=Object['keys'](_0x4bd73f[_0x26d29d(0xbd9)]||{})[_0x26d29d(0x85b)]>0x0,_0x4ce3db=_0x4bd73f[_0x26d29d(0x3e3)]===!![],_0x22ecb4=_0x4bd73f[_0x26d29d(0xd3d)]===!![];_0x22ecb4&&!_0x4ce3db&&_0x54a568&&saveGameResultsAsSubmissions(_0x4bd73f);sessionStorage['removeItem'](_0x26d29d(0x466));const _0x4dfb85=calculateFinalPodiumScores(_0x4bd73f);showPodiumView(_0x4dfb85,_0x26d29d(0x3b7),_0x4bd73f);break;}}function renderAdminSyncQuestionView(_0x5eef61){const _0x4728a3=_0x5ddd37,_0x2e98c5=_0x5eef61[_0x4728a3(0x70b)],_0x5e2927=_0x5eef61[_0x4728a3(0x230)]['questions'][_0x2e98c5],_0x2004c5=_0x5eef61[_0x4728a3(0x230)][_0x4728a3(0x7f9)][_0x4728a3(0x85b)],_0x293a46=Object[_0x4728a3(0x7ee)](_0x5eef61['players']||{})[_0x4728a3(0xd8d)](_0x37496e=>_0x37496e['status']!=='inactive'),_0x2dd046=_0x293a46['filter'](_0x5908dc=>_0x5908dc['answered'])['length'],_0x37be3e=_0x2dd046===_0x293a46[_0x4728a3(0x85b)]&&_0x293a46[_0x4728a3(0x85b)]>0x0,_0x51fe1c=(_0x5e2927[_0x4728a3(0x4ad)]||[])[_0x4728a3(0xa25)](_0x4054d6=>_0x4728a3(0x7fe)+_0x4054d6+_0x4728a3(0x629))['join']('');let _0x51c115='';_0x5eef61[_0x4728a3(0x69f)]==='per_question'&&(_0x51c115='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x5eef61[_0x4728a3(0xd91)]+_0x4728a3(0x7a8));liveGameView[_0x4728a3(0x1f9)]=_0x4728a3(0xe08)+(_0x2e98c5+0x1)+_0x4728a3(0xcc1)+_0x2004c5+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x5eef61[_0x4728a3(0x818)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x2dd046+'/'+_0x293a46[_0x4728a3(0x85b)]+_0x4728a3(0xa22)+_0x51c115+_0x4728a3(0x5c2)+_0x5e2927[_0x4728a3(0xb93)]+_0x4728a3(0xea2)+_0x51fe1c+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x37be3e?_0x4728a3(0x206):'')+_0x4728a3(0xa6a);if(window[_0x4728a3(0xb8c)])MathJax[_0x4728a3(0xe28)]();const _0x4b0479=doc(db,_0x4728a3(0x8a6)+appId+_0x4728a3(0x869),currentLiveGameId);document[_0x4728a3(0x4ff)](_0x4728a3(0xaed))[_0x4728a3(0xbe5)](_0x4728a3(0xe61),async()=>{await updateDoc(_0x4b0479,{'status':'summary'});}),document[_0x4728a3(0x4ff)]('open-sync-scratchpad-btn')[_0x4728a3(0x66e)]=()=>{const _0x37469a=_0x4728a3;openScratchpad(_0x5e2927,_0x5e2927[_0x37469a(0x4ad)]||[]);},document[_0x4728a3(0x4ff)](_0x4728a3(0xa26))[_0x4728a3(0xbe5)](_0x4728a3(0xe61),()=>{const _0x38c2e8=_0x4728a3;document[_0x38c2e8(0x4ff)](_0x38c2e8(0xde6))[_0x38c2e8(0xc2e)][_0x38c2e8(0xe23)](_0x38c2e8(0xc89));});const _0x45b9c=document['getElementById']('end-sync-game-btn');_0x45b9c&&(_0x45b9c[_0x4728a3(0x66e)]=()=>{const _0x49304c=_0x4728a3;showConfirmation(_0x49304c(0xb49),async()=>{const _0x1f79e3=_0x49304c;await updateDoc(_0x4b0479,{'status':_0x1f79e3(0xd73)});});});}function renderSyncLeaderboardView(_0xe89b7,_0x4d1228){const _0xe737f3=_0x5ddd37,_0x3477eb=Object[_0xe737f3(0x7ee)](_0xe89b7[_0xe737f3(0xbd9)]||{});_0x3477eb['sort']((_0x174fa6,_0x3ac94c)=>_0x3ac94c[_0xe737f3(0x6e9)]-_0x174fa6[_0xe737f3(0x6e9)]);const _0xed6594=_0x3477eb[_0xe737f3(0x507)](0x0,0x5);let _0x6fffae='';if(_0x4d1228){const _0x4495df=_0xe89b7[_0xe737f3(0x70b)]>=_0xe89b7[_0xe737f3(0x230)][_0xe737f3(0x7f9)][_0xe737f3(0x85b)]-0x1;_0x6fffae=_0xe737f3(0x8b0)+(_0x4495df?_0xe737f3(0x858):_0xe737f3(0x852))+_0xe737f3(0x92d);}else _0x6fffae='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0xe737f3(0x1f9)]=_0xe737f3(0x9ab)+_0xed6594['map']((_0x2971a9,_0x2d7be6)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x2d7be6+0x1)+'.\x20'+_0x2971a9[_0xe737f3(0xc44)]+_0xe737f3(0x4af)+_0x2971a9['score']+_0xe737f3(0x3c2))[_0xe737f3(0x40a)]('')+_0xe737f3(0x6f4)+_0x6fffae+_0xe737f3(0xcdf),_0x4d1228&&document[_0xe737f3(0x4ff)](_0xe737f3(0x495))['addEventListener'](_0xe737f3(0xe61),async()=>{const _0x33d58c=_0xe737f3,_0x1fe83a=doc(db,'artifacts/'+appId+_0x33d58c(0x869),currentLiveGameId),_0xed1b63=_0xe89b7['currentQuestionIndex']+0x1;if(_0xed1b63<_0xe89b7[_0x33d58c(0x230)]['questions']['length']){const _0x34fe06={};Object[_0x33d58c(0x4cf)](_0xe89b7[_0x33d58c(0xbd9)])[_0x33d58c(0x23a)](_0x35b254=>{const _0x4013c7=_0x33d58c;_0x34fe06[_0x4013c7(0x7b2)+_0x35b254+_0x4013c7(0xbb1)]=![];}),await updateDoc(_0x1fe83a,{'status':_0x33d58c(0xb0e),'currentQuestionIndex':_0xed1b63,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x1fe83a,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x41572e=_0x5ddd37,_0x1e5c85=prompt(_0x41572e(0x9d4));if(!_0x1e5c85||_0x1e5c85['trim']()[_0x41572e(0x85b)]!==0x2){showMessage(_0x41572e(0xe0b));return;}try{const _0x3df619=collection(db,_0x41572e(0x8a6)+appId+_0x41572e(0x869)),_0x4ce7b0=query(_0x3df619,where(_0x41572e(0x818),'==',_0x1e5c85[_0x41572e(0x26c)]()),where(_0x41572e(0x361),'==','lobby')),_0x1a5fd3=await getDocs(_0x4ce7b0);if(_0x1a5fd3[_0x41572e(0xb18)]){showMessage(_0x41572e(0xeae));return;}const _0x569cb3=_0x1a5fd3['docs'][0x0];currentLiveGameId=_0x569cb3['id'];const _0x8703a3=_0x569cb3[_0x41572e(0xef5)](),_0x2b6bd4=doc(db,'artifacts/'+appId+_0x41572e(0xad5),_0x8703a3['quizId']),_0xca846a=await getDoc(_0x2b6bd4);if(!_0xca846a[_0x41572e(0x8d2)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x5b7f85=_0xca846a[_0x41572e(0xef5)](),_0x284bac=doc(db,_0x41572e(0x8a6)+appId+_0x41572e(0x8c1),_0x5b7f85[_0x41572e(0x44e)]),_0x14ca49=await getDoc(_0x284bac);if(!_0x14ca49[_0x41572e(0x8d2)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x8703a3['shuffledQuiz'];const _0x43aaa8=_0x14ca49['data']();showView(_0x41572e(0xc8b)),showTeamPlayerSelection(_0x43aaa8[_0x41572e(0x28a)],_0x5b7f85[_0x41572e(0xe77)]);const _0xae479e=document[_0x41572e(0x4ff)]('confirm-team-players-btn');_0xae479e['onclick']=confirmAndJoinSyncGame;}catch(_0xa46201){console[_0x41572e(0x34c)](_0x41572e(0xc40),_0xa46201),showMessage(_0x41572e(0x26e)+_0xa46201[_0x41572e(0x541)]);}}function updateStudentSyncView(_0x64aab6){const _0x50c03d=_0x5ddd37,_0x25dfc5=localTeamPlayers[0x0],_0xcdf434=_0x64aab6[_0x50c03d(0xbd9)][_0x25dfc5]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x64aab6[_0x50c03d(0x361)]){case _0x50c03d(0x356):showView(_0x50c03d(0x263)),liveGameView[_0x50c03d(0x1f9)]=_0x50c03d(0xdad);break;case _0x50c03d(0xb0e):if(_0x64aab6[_0x50c03d(0x70b)]!==lastSeenQuestionIndex){console[_0x50c03d(0x674)](_0x50c03d(0xf10)),sessionStorage['removeItem']('powerupUsedThisTurn'),sessionStorage[_0x50c03d(0x55c)](_0x50c03d(0x893)),sessionStorage[_0x50c03d(0x55c)](_0x50c03d(0xe72));const _0x4d3786='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x220017=_0x50c03d(0xefa)+lastSeenQuestionIndex,_0x5175d4='hiddenOptions_q'+lastSeenQuestionIndex;Object['keys'](sessionStorage)['forEach'](_0x2f3ded=>{const _0xb55e0e=_0x50c03d;(_0x2f3ded[_0xb55e0e(0x64d)](_0x4d3786)||_0x2f3ded['startsWith'](_0x220017)||_0x2f3ded[_0xb55e0e(0x64d)](_0x5175d4))&&sessionStorage[_0xb55e0e(0x55c)](_0x2f3ded);});if(_0xcdf434[_0x50c03d(0x46e)]||_0xcdf434[_0x50c03d(0x1fe)]||(_0xcdf434[_0x50c03d(0xc1d)]||0x0)>0x0){const _0x44595f=doc(db,_0x50c03d(0x8a6)+appId+_0x50c03d(0x48b)+currentLiveGameId+_0x50c03d(0x94d),_0x25dfc5);updateDoc(_0x44595f,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x50c03d(0x53c)](_0x16e322=>console[_0x50c03d(0x34c)](_0x50c03d(0x503),_0x16e322));}lastSeenQuestionIndex=_0x64aab6[_0x50c03d(0x70b)];}localPlayerTurnIndex=0x0;const _0x518ed=localTeamPlayers['every'](_0x1a119f=>_0x64aab6[_0x50c03d(0xbd9)][_0x1a119f]?.[_0x50c03d(0x2b7)]===!![]);if(_0x518ed)liveGameView[_0x50c03d(0x1f9)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x64aab6);if(_0x64aab6[_0x50c03d(0x69f)]===_0x50c03d(0x8d1)){if(!_0x64aab6[_0x50c03d(0x396)]){console[_0x50c03d(0x674)](_0x50c03d(0xc6a));return;}const _0x14bb48=_0x64aab6['questionDisplayedAt'][_0x50c03d(0x8b5)]()[_0x50c03d(0x514)](),_0x2405bf=_0x64aab6['timerDuration']*0x3e8,_0x21936b=localTeamPlayers['map'](_0x155ca7=>_0x64aab6[_0x50c03d(0xbd9)][_0x155ca7]?.[_0x50c03d(0xc1d)]||0x0),_0x301869=Math['max'](..._0x21936b,0x0),_0x5b32cd=_0x14bb48+_0x2405bf+_0x301869;syncQuestionTimerInterval=setInterval(()=>{const _0x684919=_0x50c03d,_0x57e1e9=_0x5b32cd-Date[_0x684919(0x599)](),_0x12bdcb=document[_0x684919(0x4ff)](_0x684919(0x5e0)),_0x1f95c7=document['getElementById']('sync-timer-countdown');if(_0x57e1e9<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x12bdcb)_0x12bdcb[_0x684919(0x8c6)][_0x684919(0x248)]='0%';if(_0x1f95c7)_0x1f95c7['textContent']='0';liveGameView[_0x684919(0x1f9)]=_0x684919(0xc85);}else{if(_0x12bdcb&&_0x1f95c7){const _0x1f0900=_0x2405bf+_0x301869,_0x1685d1=_0x1f0900>0x0?_0x57e1e9/_0x1f0900*0x64:0x0;_0x12bdcb[_0x684919(0x8c6)][_0x684919(0x248)]=_0x1685d1+'%',_0x1f95c7[_0x684919(0x602)]=Math[_0x684919(0x70f)](_0x57e1e9/0x3e8);}}},0x1f4);}}break;case _0x50c03d(0x762):liveGameView[_0x50c03d(0x1f9)]=_0x50c03d(0x392);break;case'results':localPlayerTurnIndex=0x0;const _0x938f62=_0x64aab6[_0x50c03d(0x649)]||_0x50c03d(0x690);if(_0x938f62===_0x50c03d(0xa1d)||_0x938f62===_0x50c03d(0xedf))renderStudentAnonymousResultsView(_0x64aab6,_0x64aab6['currentQuestionIndex']);else _0x938f62==='competition'?renderStudentCompetitionResultsView(_0x64aab6,_0x64aab6['currentQuestionIndex']):renderStudentSyncResultsView(_0x64aab6);break;case _0x50c03d(0xd73):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x50c03d(0x442)](_0x50c03d(0xce7),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),sessionStorage[_0x50c03d(0x55c)](_0x50c03d(0x466));const _0x295859=_0x64aab6[_0x50c03d(0x649)]||'classic',_0x366c6d=_0x64aab6[_0x50c03d(0x230)][_0x50c03d(0x7f9)][_0x50c03d(0x85b)]-0x1;if(_0x295859==='anonymous'||_0x295859===_0x50c03d(0xedf))renderStudentAnonymousResultsView(_0x64aab6,_0x366c6d);else _0x295859===_0x50c03d(0x594)?renderStudentCompetitionResultsView(_0x64aab6,_0x366c6d):renderStudentSyncResultsView(_0x64aab6);const _0x24c0b4=liveGameView[_0x50c03d(0xee9)]('.animate-pulse');_0x24c0b4&&(_0x24c0b4['style'][_0x50c03d(0x800)]='none');const _0xb4b8c7=liveGameView[_0x50c03d(0xee9)](_0x50c03d(0xded));_0xb4b8c7&&(_0xb4b8c7[_0x50c03d(0x8c6)][_0x50c03d(0x800)]='none');const _0x2ada2b=_0x50c03d(0xb72);liveGameView[_0x50c03d(0x3c3)]?liveGameView[_0x50c03d(0x3c3)][_0x50c03d(0xa8f)](_0x50c03d(0xc79),_0x2ada2b):liveGameView[_0x50c03d(0xa8f)](_0x50c03d(0xc79),_0x2ada2b);break;}}function renderStudentSyncResultsView(_0x13f075){const _0x4e46ca=_0x5ddd37;let _0x202d5e=[];_0x13f075[_0x4e46ca(0x3ff)]?_0x202d5e=_0x13f075['publicLeaderboard'][_0x4e46ca(0xd8d)](_0x40b0b6=>localTeamPlayers[_0x4e46ca(0xdf4)](_0x40b0b6[_0x4e46ca(0xc44)])):_0x202d5e=Object[_0x4e46ca(0x7ee)](_0x13f075[_0x4e46ca(0xbd9)]||{})[_0x4e46ca(0xd8d)](_0x54b759=>localTeamPlayers[_0x4e46ca(0xdf4)](_0x54b759[_0x4e46ca(0xc44)]));const _0x2242fe=_0x13f075['gameVariant']||_0x4e46ca(0x690),_0x41915f=_0x2242fe===_0x4e46ca(0xed2)||_0x2242fe===_0x4e46ca(0xedf),_0x38ba7c=_0x13f075['shuffledQuiz'][_0x4e46ca(0x7f9)],_0x2e4d33=_0x41915f&&_0x13f075[_0x4e46ca(0xe76)]!==undefined?_0x13f075[_0x4e46ca(0xe76)]:_0x13f075['currentQuestionIndex'],_0x31fd2f=_0x41915f?_0x13f075['reviewQuestionIndex']:_0x13f075[_0x4e46ca(0x70b)],_0x28080e=_0x202d5e[_0x4e46ca(0xa25)](_0x28fe3d=>{const _0xadca12=_0x4e46ca,_0x315e8b=(_0x28fe3d[_0xadca12(0xc7d)]||[])['filter'](_0x4666f2=>_0x4666f2[_0xadca12(0xb48)]<=_0x2e4d33);let _0x3d24aa=0x0,_0x5a3251=0x0;return _0x41915f?(_0x3d24aa=_0x315e8b[_0xadca12(0xd8d)](_0x4139d8=>_0x4139d8[_0xadca12(0x624)])[_0xadca12(0x85b)],_0x5a3251=_0x315e8b[_0xadca12(0xc2a)]((_0xcb6930,_0x2e7e0c)=>_0xcb6930+(_0x2e7e0c[_0xadca12(0x6a3)]||0x0),0x0)):(_0x3d24aa=_0x28fe3d['score']||0x0,_0x5a3251=_0x28fe3d['totalPoints']||0x0),{..._0x28fe3d,'score':_0x3d24aa,'totalPoints':_0x5a3251,'answers':_0x28fe3d[_0xadca12(0xc7d)]};});_0x28080e[_0x4e46ca(0x23c)]((_0xc2037b,_0x48690b)=>(_0x48690b[_0x4e46ca(0x939)]||0x0)-(_0xc2037b['totalPoints']||0x0));let _0x1bd3e9='';const _0x53a82e=_0x41915f?_0x2e4d33>=_0x38ba7c[_0x4e46ca(0x85b)]-0x1:_0x13f075[_0x4e46ca(0x70b)]>=_0x38ba7c[_0x4e46ca(0x85b)]-0x1;_0x53a82e?_0x1bd3e9='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x1bd3e9='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x5efb64=_0x4e46ca(0xc68)+_0x28080e[_0x4e46ca(0xa25)]((_0x299a56,_0x284f9f)=>{const _0x511fd8=_0x4e46ca;let _0x58592e=_0x511fd8(0xd34);const _0x227a8b=(_0x299a56['answers']||[])[_0x511fd8(0xe0f)](_0x26b6b0=>_0x26b6b0[_0x511fd8(0xb48)]===_0x31fd2f);if(_0x227a8b){const _0x22c7ea=_0x227a8b[_0x511fd8(0x624)],_0x11741c=_0x227a8b[_0x511fd8(0x3e8)]===!![]||_0x227a8b['wasConfident']===_0x511fd8(0xdac),_0x55e67d=_0x227a8b['powerupUsed'];if(_0x55e67d===_0x511fd8(0xcc6))_0x22c7ea?_0x58592e=_0x511fd8(0xb39):_0x58592e='bg-red-700\x20text-white\x20font-bold';else{if(_0x11741c)_0x22c7ea?_0x58592e=_0x511fd8(0x83f):_0x58592e=_0x511fd8(0xafb);else _0x22c7ea?_0x58592e=_0x511fd8(0x450):_0x58592e=_0x511fd8(0x4c3);}}let _0x9aac82='';_0x227a8b&&_0x227a8b[_0x511fd8(0xb83)]===_0x511fd8(0xcc6)&&!_0x227a8b[_0x511fd8(0x624)]&&(_0x9aac82=_0x511fd8(0x44c));const _0x5cd539=_0x299a56[_0x511fd8(0x939)]>=0x0?'(+'+_0x299a56['totalPoints']+')':'('+_0x299a56['totalPoints']+')';return _0x511fd8(0xd2e)+_0x58592e+_0x511fd8(0x767)+(_0x284f9f+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x299a56[_0x511fd8(0xc44)]+_0x511fd8(0x409)+_0x299a56[_0x511fd8(0x6e9)]+'\x20คะแนน\x20'+_0x5cd539+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9aac82+_0x511fd8(0x246);})['join']('')+_0x4e46ca(0xbb5)+_0x1bd3e9+_0x4e46ca(0x2af);liveGameView[_0x4e46ca(0x1f9)]=_0x5efb64;}function renderStudentAnonymousResultsView(_0x1312e0,_0x490e07){const _0x13607b=_0x5ddd37;let _0x419f6a=[];_0x1312e0[_0x13607b(0x3ff)]?_0x419f6a=_0x1312e0[_0x13607b(0x3ff)]:_0x419f6a=Object[_0x13607b(0x7ee)](_0x1312e0[_0x13607b(0xbd9)]||{});const _0x5b7d16=_0x1312e0[_0x13607b(0x649)]||_0x13607b(0x690),_0x192778=_0x5b7d16===_0x13607b(0xed2)||_0x5b7d16===_0x13607b(0xedf),_0x99b079=_0x1312e0['isAnonymousRevealed']===!![],_0x13a797=_0x1312e0[_0x13607b(0x230)][_0x13607b(0x7f9)],_0x5df07b=_0x192778&&_0x1312e0[_0x13607b(0xe76)]!==undefined?_0x1312e0[_0x13607b(0xe76)]:_0x490e07,_0x3f0f48=_0x419f6a['map'](_0x482e54=>{const _0x3511b7=_0x13607b,_0x385471=(_0x482e54[_0x3511b7(0xc7d)]||[])['filter'](_0x15c6e5=>_0x15c6e5[_0x3511b7(0xb48)]<=_0x5df07b);let _0xedaaf2=0x0,_0x9fdaee=0x0;return _0x192778?(_0xedaaf2=_0x385471['filter'](_0x228447=>_0x228447[_0x3511b7(0x624)])[_0x3511b7(0x85b)],_0x9fdaee=_0x385471[_0x3511b7(0xc2a)]((_0x33d981,_0x392455)=>_0x33d981+(_0x392455[_0x3511b7(0x6a3)]||0x0),0x0)):(_0xedaaf2=_0x482e54[_0x3511b7(0x6e9)]||0x0,_0x9fdaee=_0x482e54[_0x3511b7(0x939)]||0x0),{..._0x482e54,'realScore':_0xedaaf2,'totalPoints':_0x9fdaee,'answers':_0x385471};}),_0x4e8bb9=_0x1312e0['isBlackMarketEnabled']===!![],_0x1c6936=[..._0x3f0f48][_0x13607b(0x23c)]((_0x162e04,_0x545bd4)=>{const _0x1a45ab=_0x13607b;if(_0x4e8bb9){const _0x240c7b=_0x545bd4[_0x1a45ab(0x939)]-_0x162e04[_0x1a45ab(0x939)];if(_0x240c7b!==0x0)return _0x240c7b;const _0x50e293=_0x545bd4[_0x1a45ab(0x5b9)]-_0x162e04[_0x1a45ab(0x5b9)];if(_0x50e293!==0x0)return _0x50e293;return(_0x162e04[_0x1a45ab(0xc44)]||'')['localeCompare'](_0x545bd4[_0x1a45ab(0xc44)]||'','th');}else{const _0x1c8d3f=_0x545bd4[_0x1a45ab(0x939)]-_0x162e04[_0x1a45ab(0x939)];if(_0x1c8d3f!==0x0)return _0x1c8d3f;const _0x3675fd=_0x545bd4[_0x1a45ab(0x5b9)]-_0x162e04[_0x1a45ab(0x5b9)];if(_0x3675fd!==0x0)return _0x3675fd;return(_0x162e04[_0x1a45ab(0xc44)]||'')[_0x1a45ab(0xe10)](_0x545bd4[_0x1a45ab(0xc44)]||'','th');}});let _0x1268fa=null;const _0x33b4da=_0x3f0f48[_0x13607b(0xd8d)](_0xea1aca=>localTeamPlayers[_0x13607b(0xdf4)](_0xea1aca[_0x13607b(0xc44)]));_0x1268fa=_0x33b4da[_0x13607b(0x85b)]>0x0?_0x33b4da[_0x13607b(0x23c)]((_0x310945,_0xbb61dd)=>_0xbb61dd['totalPoints']-_0x310945[_0x13607b(0x939)])[0x0]:null;if(!_0x1268fa){liveGameView[_0x13607b(0x1f9)]=_0x13607b(0x4f2);return;}const _0x5734bf=_0x4e8bb9?_0x1268fa[_0x13607b(0x939)]:_0x1268fa[_0x13607b(0x939)],_0x369fef=_0x4e8bb9?_0x1268fa['realScore']:_0x1268fa[_0x13607b(0x5b9)],_0x3ff544=_0x1c6936[0x0],_0x9328ea=_0x4e8bb9?_0x3ff544['totalPoints']:_0x3ff544[_0x13607b(0x939)],_0x19e3f3=_0x4e8bb9?_0x3ff544['realScore']:_0x3ff544[_0x13607b(0x5b9)],_0x3575a9=_0x5734bf===_0x9328ea&&_0x369fef===_0x19e3f3&&(_0x1c6936[0x0][_0x13607b(0x5b9)]>0x0||_0x1c6936[0x0][_0x13607b(0x939)]>0x0),_0x2ed3fb=_0x5df07b+0x1,_0x50b64a=_0x3f0f48[_0x13607b(0xd8d)](_0x41794f=>_0x41794f[_0x13607b(0x5b9)]===_0x2ed3fb&&(_0x41794f[_0x13607b(0xc7d)]||[])[_0x13607b(0x85b)]===_0x2ed3fb&&_0x2ed3fb>0x0),_0x26192a=_0x50b64a[_0x13607b(0x85b)]>0x0?Math[_0x13607b(0xa87)](..._0x50b64a[_0x13607b(0xa25)](_0x258c64=>_0x258c64['totalPoints'])):-Infinity,_0x3e7595=_0x1c6936[_0x13607b(0xa25)]((_0x1f2bac,_0x3f9e9f)=>{const _0x5dfeba=_0x13607b,_0x1c92a7=_0x1f2bac[_0x5dfeba(0x5b9)],_0x4e216c=_0x1f2bac['totalPoints'],_0x210e93=(_0x1f2bac['answers']||[])[_0x5dfeba(0xe0f)](_0x5847b6=>_0x5847b6[_0x5dfeba(0xb48)]===_0x5df07b);let _0x378fc9='';if(_0x210e93){if(_0x210e93[_0x5dfeba(0x405)])_0x378fc9+=_0x5dfeba(0x560);if(_0x210e93[_0x5dfeba(0x5db)])_0x378fc9+=_0x5dfeba(0x9ea);if(_0x210e93['usedBuyTime'])_0x378fc9+=_0x5dfeba(0xafa);const _0x25c268=_0x210e93[_0x5dfeba(0xb83)];if(_0x25c268){const _0x547052={'poll':'📊','cutOne':'✂️','insurance':_0x5dfeba(0xdd9),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x547052[_0x25c268])_0x378fc9+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x547052[_0x25c268]+_0x5dfeba(0x2b9);}}let _0x1ece96='';if(_0x4e8bb9){if(_0x4e216c===_0x26192a&&_0x26192a>0x0)_0x1ece96+=_0x5dfeba(0x99a);}else{const _0x47a243=_0x1f2bac[_0x5dfeba(0x5b9)]===_0x2ed3fb&&_0x2ed3fb>0x0;if(_0x47a243)_0x1ece96='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x1ece96===''&&_0x4e216c<0x0)_0x1ece96=_0x5dfeba(0xa66);let _0x408a83=_0x5dfeba(0x58e),_0x5b9694=![];const _0x3ff5f1=(_0x1f2bac['answers']||[])[_0x5dfeba(0xe0f)](_0x4f5711=>_0x4f5711[_0x5dfeba(0xb48)]===_0x5df07b);if(_0x3ff5f1){const _0x1921b1=_0x3ff5f1[_0x5dfeba(0x624)],_0x5caa0e=_0x3ff5f1['wasConfident']===!![]||_0x3ff5f1[_0x5dfeba(0x3e8)]===_0x5dfeba(0xdac),_0x44f799=_0x3ff5f1[_0x5dfeba(0xb83)];if(_0x44f799==='wagerMultiplier')_0x1921b1?(_0x408a83=_0x5dfeba(0xb39),_0x5b9694=!![]):_0x408a83=_0x5dfeba(0x1f7);else{if(_0x5caa0e)_0x408a83=_0x1921b1?_0x5dfeba(0x83f):_0x5dfeba(0xafb);else _0x1921b1&&(_0x408a83=_0x5dfeba(0x450));}}let _0x5cb6f7='';const _0x3dce48=_0x1f2bac[_0x5dfeba(0xc44)],_0x3a1f69=_0x1312e0[_0x5dfeba(0x357)][_0x1f2bac[_0x5dfeba(0xc44)]]||_0x5dfeba(0xdce),_0x16dba2='line-height:\x201.3;\x20min-width:\x200;',_0x2ce34d=_0x5dfeba(0x412),_0x51b80b=localTeamPlayers['includes'](_0x3dce48),_0x57b17b=_0x4e8bb9?_0x1f2bac[_0x5dfeba(0x939)]:_0x1f2bac[_0x5dfeba(0x939)],_0x56ee3d=_0x5b9694?_0x5dfeba(0x5cb):_0x5dfeba(0xac9);if(_0x99b079)_0x5cb6f7=_0x5dfeba(0x7dd)+_0x16dba2+_0x5dfeba(0x467)+_0x3dce48+'\x20('+_0x3a1f69+_0x5dfeba(0xdf8)+_0x2ce34d+'\x22>'+_0x3dce48+_0x5dfeba(0x38c)+_0x378fc9+'\x20'+_0x1ece96+_0x5dfeba(0x36a)+_0x56ee3d+'\x22\x20style=\x22'+_0x2ce34d+_0x5dfeba(0x4ce)+_0x3a1f69+_0x5dfeba(0x57f);else{if(_0x51b80b)_0x3575a9?_0x5cb6f7=_0x5dfeba(0x7dd)+_0x16dba2+'\x22\x20title=\x22'+_0x3dce48+'\x20('+_0x3a1f69+_0x5dfeba(0xdf8)+_0x2ce34d+'\x22>'+_0x3dce48+_0x5dfeba(0x38c)+_0x378fc9+'\x20'+_0x1ece96+_0x5dfeba(0x36a)+_0x56ee3d+_0x5dfeba(0x626)+_0x2ce34d+_0x5dfeba(0x4ce)+_0x3a1f69+_0x5dfeba(0x57f):_0x5cb6f7='<div\x20style=\x22'+_0x16dba2+'\x22\x20title=\x22'+_0x3a1f69+_0x5dfeba(0xe71)+_0x2ce34d+'\x22>'+_0x3a1f69+_0x5dfeba(0x38c)+_0x378fc9+'\x20'+_0x1ece96+_0x5dfeba(0x629),_0x5cb6f7='<div\x20class=\x22flex\x20items-center\x20gap-2\x22>'+_0x5cb6f7+_0x5dfeba(0xc33);else{const _0x18914a=_0x5734bf>_0x57b17b;_0x18914a?_0x5cb6f7=_0x5dfeba(0x7dd)+_0x16dba2+_0x5dfeba(0x467)+_0x3dce48+'\x20('+_0x3a1f69+_0x5dfeba(0xdf8)+_0x2ce34d+'\x22>'+_0x3dce48+_0x5dfeba(0x38c)+_0x378fc9+'\x20'+_0x1ece96+'<span\x20class=\x22block\x20text-sm\x20'+_0x56ee3d+_0x5dfeba(0x626)+_0x2ce34d+_0x5dfeba(0x4ce)+_0x3a1f69+')</span></div>':_0x5cb6f7=_0x5dfeba(0x7dd)+_0x16dba2+_0x5dfeba(0x467)+_0x3a1f69+_0x5dfeba(0xe71)+_0x2ce34d+'\x22>'+_0x3a1f69+_0x5dfeba(0x38c)+_0x378fc9+'\x20'+_0x1ece96+'</div>';}}const _0x2277a3=_0x4e216c>=0x0?'(+'+_0x4e216c+')':'('+_0x4e216c+')',_0x3b574c=_0x5dfeba(0x40c)+_0x1f2bac['realScore']+'\x20คะแนน\x20'+_0x2277a3+_0x5dfeba(0x2b9);return _0x5dfeba(0x982)+_0x408a83+_0x5dfeba(0xd2b)+(_0x3f9e9f+0x1)+_0x5dfeba(0x9e6)+_0x5cb6f7+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b574c+_0x5dfeba(0xaa3);})[_0x13607b(0x40a)]('');let _0x1be649='';const _0x49c007=_0x192778?_0x5df07b>=_0x13a797[_0x13607b(0x85b)]-0x1:_0x1312e0[_0x13607b(0x70b)]>=_0x13a797[_0x13607b(0x85b)]-0x1;_0x49c007?_0x1be649=_0x13607b(0x245):_0x1be649=_0x13607b(0x339);const _0x51458e=_0x13607b(0xa54)+_0x3e7595+_0x13607b(0x6f4)+_0x1be649+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x13607b(0x1f9)]=_0x51458e;}function renderStudentCompetitionResultsView(_0x42b743,_0x1bba92){const _0x225a83=_0x5ddd37,_0x475886=Object[_0x225a83(0x7ee)](_0x42b743[_0x225a83(0xbd9)]||{}),_0x5776cb=_0x1bba92,_0x34aa5e=_0x42b743[_0x225a83(0x649)]||_0x225a83(0x690),_0x11e54f=_0x42b743[_0x225a83(0x230)][_0x225a83(0x7f9)],_0x109a4a=_0x475886[_0x225a83(0xa25)](_0x56147=>{const _0x519949=_0x225a83,_0x15eed5=_0x56147[_0x519949(0x6e9)]||0x0,_0x27346c=_0x56147['totalPoints']||0x0,_0x3dfda6=(_0x56147[_0x519949(0xc7d)]||[])[_0x519949(0xd8d)](_0x5b65c1=>_0x34aa5e===_0x519949(0xed2)?_0x5b65c1[_0x519949(0xb48)]<=_0x5776cb:!![]);return{..._0x56147,'realScore':_0x15eed5,'totalPoints':_0x27346c,'answers':_0x3dfda6};}),_0xf05bb4=_0x42b743[_0x225a83(0xdcf)]===!![],_0x2fd041=[..._0x109a4a][_0x225a83(0x23c)]((_0x2b80aa,_0x4c3aae)=>{const _0x59bd9e=_0x225a83;if(_0xf05bb4){const _0xf42e17=_0x4c3aae['realScore']-_0x2b80aa[_0x59bd9e(0x5b9)];if(_0xf42e17!==0x0)return _0xf42e17;const _0x323bd3=_0x4c3aae[_0x59bd9e(0x939)]-_0x2b80aa[_0x59bd9e(0x939)];if(_0x323bd3!==0x0)return _0x323bd3;return(_0x2b80aa[_0x59bd9e(0xc44)]||'')['localeCompare'](_0x4c3aae[_0x59bd9e(0xc44)]||'','th');}else{const _0x59a198=_0x4c3aae[_0x59bd9e(0x939)]-_0x2b80aa[_0x59bd9e(0x939)];if(_0x59a198!==0x0)return _0x59a198;const _0x27c2bc=_0x4c3aae['realScore']-_0x2b80aa[_0x59bd9e(0x5b9)];if(_0x27c2bc!==0x0)return _0x27c2bc;return(_0x2b80aa[_0x59bd9e(0xc44)]||'')['localeCompare'](_0x4c3aae[_0x59bd9e(0xc44)]||'','th');}}),_0x26f6f4=_0x2fd041[_0x225a83(0xa25)]((_0x2e201d,_0x4eb7da)=>{const _0x53dbb4=_0x225a83,_0x5843b8='';let _0x4f94b0='bg-black/20';const _0x3ac9b0=_0x2e201d[_0x53dbb4(0xc44)],_0x2f1cd3='line-height:\x201.3;\x20min-width:\x200;',_0x23ab71='word-break:\x20break-all;',_0x502b85=_0x53dbb4(0x7dd)+_0x2f1cd3+_0x53dbb4(0x467)+_0x3ac9b0+_0x53dbb4(0xe71)+_0x23ab71+'\x22>'+_0x3ac9b0+_0x53dbb4(0x2b9)+_0x5843b8+_0x53dbb4(0x629),_0x52b33e='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x4f94b0+_0x53dbb4(0xd2b)+(_0x4eb7da+0x1)+_0x53dbb4(0x9e6)+_0x502b85+_0x53dbb4(0x22a)+_0x52b33e+_0x53dbb4(0xaa3);})[_0x225a83(0x40a)]('');let _0x5cfade='';const _0x3d3c37=_0x34aa5e===_0x225a83(0xed2)?_0x42b743[_0x225a83(0xe76)]>=_0x11e54f['length']-0x1:_0x42b743[_0x225a83(0x70b)]>=_0x11e54f[_0x225a83(0x85b)]-0x1;_0x3d3c37?_0x5cfade=_0x225a83(0x245):_0x5cfade=_0x225a83(0x339);const _0x4cc483=_0x225a83(0x755)+_0x26f6f4+_0x225a83(0x6dc)+_0x5cfade+_0x225a83(0xcdf);liveGameView[_0x225a83(0x1f9)]=_0x4cc483;}function renderStudentSyncQuestionView(_0x304519){const _0x42eb80=_0x5ddd37,_0x4db90c=localTeamPlayers[_0x42eb80(0xe0f)](_0x137d64=>_0x304519['players'][_0x137d64]&&_0x304519[_0x42eb80(0xbd9)][_0x137d64][_0x42eb80(0x2b7)]===![]);if(!_0x4db90c){console[_0x42eb80(0x674)]('No\x20unanswered\x20players\x20found.\x20Waiting...');return;}const _0x125c7c=_0x304519[_0x42eb80(0xbd9)][_0x4db90c],_0x5c674b=_0x125c7c[_0x42eb80(0x939)]||0x0,_0x21a8b5=_0x125c7c[_0x42eb80(0xa04)]||{},_0x25e31a=_0x304519['gameVariant']||_0x42eb80(0x690),_0x563822=['reveal_at_end',_0x42eb80(0xedf),_0x42eb80(0x594)][_0x42eb80(0xdf4)](_0x25e31a),_0x3b525d=_0x304519[_0x42eb80(0x70b)],_0x444c68=_0x304519['shuffledQuiz']['questions'][_0x42eb80(0x85b)],_0x58f2a4=_0x304519[_0x42eb80(0x230)][_0x42eb80(0x7f9)][_0x3b525d],_0x501a83=_0x58f2a4[_0x42eb80(0x278)]||_0x304519[_0x42eb80(0x230)][_0x42eb80(0xa9d)];let _0x2c78af='',_0x3b062e=![];const _0x43c4c8='hiddenOptions_q'+_0x3b525d+'_p'+_0x4db90c,_0x5c6586=JSON[_0x42eb80(0xe29)](sessionStorage[_0x42eb80(0xd06)](_0x43c4c8)||'[]')[_0x42eb80(0xa25)](String),_0x42720d=_0x42eb80(0xefa)+_0x3b525d+'_p'+_0x4db90c,_0x8e1ad3=sessionStorage['getItem'](_0x42720d);switch(_0x501a83){case _0x42eb80(0xed0):const _0x45a70e=_0x5c6586[_0x42eb80(0xdf4)]('0')?'':_0x42eb80(0x71c),_0x408534=_0x5c6586[_0x42eb80(0xdf4)]('1')?'':_0x42eb80(0xe7a);_0x2c78af=_0x45a70e+_0x408534;break;case _0x42eb80(0x3d7):case'fill_in_no_choices':_0x3b062e=!![],_0x2c78af='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x42eb80(0x867):_0x3b062e=!![],_0x2c78af='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58f2a4[_0x42eb80(0x20b)]||[])[_0x42eb80(0xa25)](_0xda6ef1=>_0x42eb80(0x33e)+_0xda6ef1+'\x22>'+_0xda6ef1+_0x42eb80(0x999))[_0x42eb80(0x40a)]('')+_0x42eb80(0x6da);break;case _0x42eb80(0xf0e):default:_0x2c78af=(_0x58f2a4[_0x42eb80(0x4ad)]||[])[_0x42eb80(0xa25)]((_0x17a448,_0x58b40f)=>{const _0x46ca22=_0x42eb80;if(_0x5c6586[_0x46ca22(0xdf4)](_0x58b40f[_0x46ca22(0xe66)]()))return'';return _0x46ca22(0x90d)+_0x58b40f+_0x46ca22(0xa4d)+_0x17a448+'</button>';})[_0x42eb80(0x40a)]('');break;}let _0x1d45da='';_0x304519['timerMode']===_0x42eb80(0x8d1)&&(_0x1d45da=_0x42eb80(0x25b)+_0x304519[_0x42eb80(0xd91)]+_0x42eb80(0xc84));let _0x3dbbe6='';if(_0x304519['isBlackMarketEnabled']===!![]){if(_0x563822)!_0x8e1ad3&&(_0x3dbbe6=_0x42eb80(0x609));else{const _0x1cedeb=[_0x21a8b5['buyTime']>0x0?_0x42eb80(0xea5)+_0x21a8b5[_0x42eb80(0x67d)]+_0x42eb80(0xaa9):'',_0x21a8b5['cutOne']>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x21a8b5[_0x42eb80(0xb36)]+')</button>':'',_0x21a8b5[_0x42eb80(0x5f0)]>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20('+_0x21a8b5[_0x42eb80(0x5f0)]+_0x42eb80(0xaa9):'',_0x21a8b5[_0x42eb80(0xac7)]>0x0?_0x42eb80(0x928)+_0x21a8b5[_0x42eb80(0xac7)]+_0x42eb80(0xaa9):'',_0x21a8b5[_0x42eb80(0x3be)]>0x0?_0x42eb80(0x401)+_0x21a8b5[_0x42eb80(0x3be)]+_0x42eb80(0xaa9):''][_0x42eb80(0xd8d)](Boolean)[_0x42eb80(0x40a)]('\x20');let _0x47f4b5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20shadow-md\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20ตลาดมืด\x20('+_0x5c674b+_0x42eb80(0xd24);!_0x8e1ad3&&(_0x47f4b5+=_0x42eb80(0x5cd)),_0x3dbbe6=_0x42eb80(0x44b)+_0x47f4b5+_0x42eb80(0xd88)+(_0x1cedeb||'')+_0x42eb80(0xca8);}}let _0xef21e5='';_0x125c7c[_0x42eb80(0x46e)]===!![]&&(_0xef21e5+=_0x42eb80(0xaca));_0x125c7c[_0x42eb80(0x1fe)]===!![]&&(_0xef21e5+=_0x42eb80(0xe8d));if(_0x8e1ad3)switch(_0x8e1ad3){case _0x42eb80(0xcc6):const _0x570752=_0x563822?_0x42eb80(0x7f0):'💰\x20โหมดเดิมพันทำงานอยู่!';_0xef21e5+=_0x42eb80(0x7bd)+_0x570752+_0x42eb80(0x8e6);break;case _0x42eb80(0x5f0):_0xef21e5+=_0x42eb80(0x375);break;case _0x42eb80(0x3be):_0xef21e5+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>';break;case _0x42eb80(0xb36):_0xef21e5+=_0x42eb80(0x7d2);break;case _0x42eb80(0xac7):_0xef21e5+=_0x42eb80(0x9a4);break;}(_0x125c7c[_0x42eb80(0xc1d)]||0x0)>0x0&&(_0xef21e5+=_0x42eb80(0x923));liveGameView['innerHTML']=_0x42eb80(0xcee)+(_0x3b525d+0x1)+_0x42eb80(0xcc1)+_0x444c68+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x4db90c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d45da+_0x42eb80(0xbab)+_0x3dbbe6+_0x42eb80(0x434)+_0xef21e5+_0x42eb80(0xd0b)+(_0x58f2a4[_0x42eb80(0xb93)]||_0x58f2a4[_0x42eb80(0x692)])+_0x42eb80(0xea2)+_0x2c78af+_0x42eb80(0xbc2);if(window['MathJax'])MathJax[_0x42eb80(0xe28)]();function _0x1bf24c(_0x24f261,_0x36e8ef,_0x55eebf,_0x527938){const _0x4b8635=_0x42eb80,_0x31fe54=_0x55eebf['isConfidenceScoringEnabled']===!![],_0x5708ee=_0x55eebf[_0x4b8635(0x70b)],_0x33a839=_0x4b8635(0xefa)+_0x5708ee+'_p'+_0x527938,_0x116ea6=sessionStorage[_0x4b8635(0xd06)](_0x33a839),_0x2241db=_0x116ea6==='wagerMultiplier',_0x3caad9=_0x55eebf[_0x4b8635(0xbd9)][_0x527938];if(_0x2241db){const _0x45e398=sessionStorage[_0x4b8635(0xd06)](_0x4b8635(0x2ce))===_0x4b8635(0x394);if(_0x563822||_0x45e398){const _0x50758c=_0x3caad9[_0x4b8635(0x939)]||0x0;sessionStorage[_0x4b8635(0x55c)](_0x4b8635(0x2ce)),handleSyncAnswerSubmit(_0x24f261,_0x36e8ef,_0x55eebf,_0x527938,![],_0x50758c);}else{const _0x546cf3=document[_0x4b8635(0x4ff)](_0x4b8635(0x784)),_0x47e3b5=document[_0x4b8635(0x4ff)](_0x4b8635(0x415)),_0x4c1488=document[_0x4b8635(0x4ff)](_0x4b8635(0x7fd)),_0x51fb2d=document[_0x4b8635(0x4ff)](_0x4b8635(0x689)),_0xf62b8e=_0x3caad9[_0x4b8635(0x939)]||0x0;_0x47e3b5[_0x4b8635(0xa87)]=_0xf62b8e,_0x47e3b5['value']=_0xf62b8e,_0x4c1488[_0x4b8635(0x602)]=_0xf62b8e,_0x51fb2d['textContent']=_0xf62b8e,_0x47e3b5[_0x4b8635(0x76a)]=()=>{const _0x11eeeb=_0x4b8635;_0x4c1488[_0x11eeeb(0x602)]=_0x47e3b5[_0x11eeeb(0x717)];};const _0x94f470=document['getElementById'](_0x4b8635(0x481));_0x94f470['dataset'][_0x4b8635(0xbe0)]=_0x24f261,_0x94f470[_0x4b8635(0x664)][_0x4b8635(0xb0e)]=JSON['stringify'](_0x36e8ef),_0x94f470[_0x4b8635(0x664)]['gameData']=JSON[_0x4b8635(0xe5a)](_0x55eebf),_0x94f470[_0x4b8635(0x664)]['playerName']=_0x527938,_0x546cf3[_0x4b8635(0xc2e)][_0x4b8635(0x716)](_0x4b8635(0xc89));}}else{if(_0x31fe54){document['getElementById'](_0x4b8635(0x44f))['dataset'][_0x4b8635(0xab7)]=_0x4b8635(0x3b7);const _0x298c68=document[_0x4b8635(0x4ff)]('selected-answer-index-hidden');_0x298c68[_0x4b8635(0x664)][_0x4b8635(0xbe0)]=_0x24f261,_0x298c68[_0x4b8635(0x664)][_0x4b8635(0xb0e)]=JSON[_0x4b8635(0xe5a)](_0x36e8ef),_0x298c68['dataset']['gameData']=JSON[_0x4b8635(0xe5a)](_0x55eebf),_0x298c68[_0x4b8635(0x664)]['playerName']=_0x527938,document['getElementById'](_0x4b8635(0x44f))['classList'][_0x4b8635(0x716)](_0x4b8635(0xc89));}else handleSyncAnswerSubmit(_0x24f261,_0x36e8ef,_0x55eebf,_0x527938,![],0x0);}}_0x3b062e?document[_0x42eb80(0x4ff)](_0x42eb80(0xc47))['addEventListener'](_0x42eb80(0xe61),()=>{const _0x29e761=_0x42eb80,_0x352926=document[_0x29e761(0x4ff)](_0x29e761(0xb80))||document[_0x29e761(0x4ff)](_0x29e761(0x261));if(_0x352926['value'][_0x29e761(0x26c)]()===''){showMessage(_0x29e761(0x640));return;}_0x1bf24c(_0x352926['value'],_0x58f2a4,_0x304519,_0x4db90c);}):document[_0x42eb80(0xe1c)](_0x42eb80(0xc3a))[_0x42eb80(0x23a)](_0x302490=>{const _0x36c77c=_0x42eb80;_0x302490[_0x36c77c(0xbe5)]('click',()=>{const _0x548c65=_0x36c77c;_0x1bf24c(_0x302490[_0x548c65(0x664)][_0x548c65(0x717)],_0x58f2a4,_0x304519,_0x4db90c);});});if(_0x304519[_0x42eb80(0xdcf)]===!![]){if(!_0x563822){const _0x3870b2=document[_0x42eb80(0x4ff)]('open-market-btn');_0x3870b2&&_0x3870b2[_0x42eb80(0xbe5)]('click',()=>{const _0xfceac0=_0x42eb80,_0x19ac11=_0x304519[_0xfceac0(0x70b)],_0x1d82b7=_0x4db90c,_0x27649f=_0xfceac0(0xa4a)+_0x19ac11+'_p'+_0x1d82b7,_0x233422=sessionStorage[_0xfceac0(0xd06)](_0x27649f)===_0xfceac0(0x394);if(!_0x233422)openBlackMarket(_0x304519,_0x125c7c),sessionStorage[_0xfceac0(0xab8)](_0x27649f,_0xfceac0(0x394));else{if(_0x125c7c[_0xfceac0(0x939)]<0x1){showMessage(_0xfceac0(0x941));return;}showConfirmation(_0xfceac0(0xebb),()=>{handlePayForMarketEntry(_0x4db90c,_0x304519,_0x125c7c);});}}),document['getElementById'](_0x42eb80(0x287))?.[_0x42eb80(0xbe5)]('click',_0x4c4fd4=>{const _0x2ddc57=_0x42eb80;_0x4c4fd4['target'][_0x2ddc57(0x206)]=!![],handleUsePowerup(_0x4db90c,'buyTime',_0x58f2a4,_0x304519,_0x125c7c);}),document[_0x42eb80(0x4ff)]('use-powerup-cutOne')?.[_0x42eb80(0xbe5)](_0x42eb80(0xe61),_0xbdec06=>{const _0xbf5fc2=_0x42eb80;_0xbdec06['target'][_0xbf5fc2(0x206)]=!![],handleUsePowerup(_0x4db90c,_0xbf5fc2(0xb36),_0x58f2a4,_0x304519,_0x125c7c);}),document['getElementById'](_0x42eb80(0x41d))?.[_0x42eb80(0xbe5)]('click',_0x54124e=>{const _0x2fdbe0=_0x42eb80;_0x54124e[_0x2fdbe0(0x2b8)]['disabled']=!![],handleUsePowerup(_0x4db90c,'insurance',_0x58f2a4,_0x304519,_0x125c7c);}),document[_0x42eb80(0x4ff)]('use-powerup-fiftyFifty')?.[_0x42eb80(0xbe5)](_0x42eb80(0xe61),_0x59ae52=>{const _0x13a9fb=_0x42eb80;_0x59ae52['target'][_0x13a9fb(0x206)]=!![],handleUsePowerup(_0x4db90c,'fiftyFifty',_0x58f2a4,_0x304519,_0x125c7c);}),document[_0x42eb80(0x4ff)]('use-powerup-secondChance')?.[_0x42eb80(0xbe5)](_0x42eb80(0xe61),_0x1069c5=>{const _0x57d88c=_0x42eb80;_0x1069c5['target'][_0x57d88c(0x206)]=!![],handleUsePowerup(_0x4db90c,_0x57d88c(0x3be),_0x58f2a4,_0x304519,_0x125c7c);}),document[_0x42eb80(0x4ff)](_0x42eb80(0xab0))?.[_0x42eb80(0xbe5)](_0x42eb80(0xe61),_0x37b76d=>{const _0x5b4ebe=_0x42eb80;_0x37b76d[_0x5b4ebe(0x2b8)][_0x5b4ebe(0x206)]=!![],sessionStorage[_0x5b4ebe(0xab8)](_0x5b4ebe(0x2ce),_0x5b4ebe(0x55e)),handleUsePowerup(_0x4db90c,_0x5b4ebe(0xcc6),_0x58f2a4,_0x304519,_0x125c7c);});}document[_0x42eb80(0x4ff)](_0x42eb80(0x242))?.['addEventListener'](_0x42eb80(0xe61),_0x42b901=>{const _0x169436=_0x42eb80;_0x42b901[_0x169436(0x2b8)][_0x169436(0x206)]=!![],sessionStorage['setItem']('instantWager',_0x169436(0x394)),handleUsePowerup(_0x4db90c,'wagerMultiplier',_0x58f2a4,_0x304519,_0x125c7c);});}}async function handleSyncAnswerSubmit(_0x396a07,_0x2f9c85,_0x281f1a,_0x34ad2a,_0x223699,_0x53061e=0x0){const _0x430a39=_0x5ddd37;document['querySelectorAll'](_0x430a39(0xa3c))[_0x430a39(0x23a)](_0x1ab1b8=>_0x1ab1b8[_0x430a39(0x206)]=!![]);const _0x57dfc1=_0x281f1a[_0x430a39(0x70b)],_0x697b64=_0x430a39(0xefa)+_0x57dfc1+'_p'+_0x34ad2a,_0x44eb60=sessionStorage[_0x430a39(0xd06)](_0x697b64),_0xcfb867=_0x281f1a['players'][_0x34ad2a]||{},_0x562e71=_0xcfb867[_0x430a39(0x1fe)]===!![],_0x3ce301=sessionStorage[_0x430a39(0xd06)]('onSecondChance')===_0x430a39(0x394),_0x1bbb7d=_0x2f9c85[_0x430a39(0x278)]||_0x281f1a[_0x430a39(0x230)][_0x430a39(0xa9d)];let _0x4546bd=![],_0x2024a8=_0x396a07;switch(_0x1bbb7d){case'true_false':const _0x9e5a31=parseInt(_0x396a07),_0xe671f3=_0x2f9c85[_0x430a39(0x98f)]===!![]||String(_0x2f9c85[_0x430a39(0x98f)])[_0x430a39(0xbca)]()==='true';_0x4546bd=_0x9e5a31===0x0&&_0xe671f3||_0x9e5a31===0x1&&!_0xe671f3,_0x2024a8=_0x9e5a31===0x0?_0x430a39(0xc38):'ไม่ใช่\x20/\x20ผิด';break;case _0x430a39(0x3d7):case _0x430a39(0x75f):_0x4546bd=await gradeShortAnswer(_0x396a07,_0x2f9c85);break;case'matching_item':_0x4546bd=_0x396a07===_0x2f9c85[_0x430a39(0xcd9)];break;case _0x430a39(0xf0e):default:const _0x391b41=parseInt(_0x396a07);_0x4546bd=_0x391b41===_0x2f9c85[_0x430a39(0x791)];_0x2f9c85['options']&&_0x2f9c85[_0x430a39(0x4ad)][_0x391b41]&&(_0x2024a8=_0x2f9c85[_0x430a39(0x4ad)][_0x391b41]);break;}if(!_0x4546bd&&_0x44eb60===_0x430a39(0x3be)&&!_0x3ce301){sessionStorage[_0x430a39(0x55c)](_0x697b64),sessionStorage[_0x430a39(0xab8)](_0x430a39(0x893),'true'),showMessage('คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง'),document[_0x430a39(0xe1c)](_0x430a39(0xa3c))[_0x430a39(0x23a)](_0x133b73=>{const _0x11e392=_0x430a39;if(!_0x133b73[_0x11e392(0xc2e)][_0x11e392(0x995)](_0x11e392(0xc89)))_0x133b73[_0x11e392(0x206)]=![];});return;}let _0x32270a=0x0;const _0x4e85c2=_0x44eb60===_0x430a39(0xcc6),_0xf7882=_0x44eb60==='insurance',_0xfd9642=sessionStorage[_0x430a39(0xd06)](_0x430a39(0xe72))==='true',_0x169f70=_0xcfb867[_0x430a39(0x46e)]===!![];if(_0x4e85c2){const _0x13b311=parseInt(_0x53061e,0xa)||0x0;_0x32270a=_0x4546bd?_0x13b311*0x2:-_0x13b311;}else{if(_0xfd9642&&!_0x4546bd)_0x32270a=_0x223699===!![]||_0x223699===_0x430a39(0xdac)||_0x562e71?-0x4:-0x2;else{if(_0x562e71)_0x32270a=_0x4546bd?0x2:-0x1;else{if(_0x281f1a[_0x430a39(0x573)]){if(_0x4546bd&&(_0x223699===!![]||_0x223699===_0x430a39(0xdac)))_0x32270a=0x2;else{if(_0x4546bd)_0x32270a=0x1;else{if(!_0x4546bd&&(_0x223699===![]||_0x223699==='not_confident'||_0x223699===null))_0x32270a=0x0;else{if(!_0x4546bd&&(_0x223699===!![]||_0x223699==='confident'))_0x32270a=-0x1;}}}}else _0x32270a=_0x4546bd?0x1:0x0;}}}if(_0x169f70&&!_0x4546bd&&_0x32270a<0x0)_0x32270a*=0x2;if(!_0x4546bd&&_0xf7882)_0x32270a=0x0;const _0x5db86d=(_0xcfb867['timeBonusThisQuestion']||0x0)>0x0,_0x1bf924={'questionIndex':_0x281f1a['currentQuestionIndex'],'questionId':_0x2f9c85['id'],'answer':_0x396a07,'answerText':_0x2024a8,'isCorrect':_0x4546bd,'originalQuestionText':_0x2f9c85[_0x430a39(0xb93)]||_0x2f9c85['stem'],'wasConfident':_0x562e71?_0x430a39(0xdac):_0x223699||![],'pointsAwarded':_0x32270a,'powerupUsed':_0x44eb60||null,'wasJinxed':_0x169f70||![],'wasForced':_0x562e71||![],'usedPoll':_0xfd9642||![],'usedBuyTime':_0x5db86d},_0x29488e=doc(db,_0x430a39(0x8a6)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x430a39(0x94d),_0x34ad2a),_0x32475c=_0xcfb867[_0x430a39(0xc7d)]||[],_0x47152c=_0x32475c['filter'](_0x22b655=>_0x22b655[_0x430a39(0xb48)]!==_0x281f1a['currentQuestionIndex']),_0x5953cd=[..._0x47152c,_0x1bf924],_0xbf90f4=_0x5953cd['filter'](_0x523bc6=>_0x523bc6[_0x430a39(0x624)])[_0x430a39(0x85b)],_0x3d95d1={'answers':_0x5953cd,'score':_0xbf90f4,'totalPoints':increment(_0x32270a),'answered':!![],'lastAnswerIndex':_0x1bbb7d===_0x430a39(0xf0e)||_0x1bbb7d===_0x430a39(0xed0)||_0x1bbb7d===_0x430a39(0x595)?parseInt(_0x396a07):null,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};if(_0x3ce301)sessionStorage[_0x430a39(0x55c)]('onSecondChance');try{await updateDoc(_0x29488e,_0x3d95d1);}catch(_0x176afc){console[_0x430a39(0x34c)](_0x430a39(0x68d),_0x176afc),showMessage(_0x430a39(0xbec)),document[_0x430a39(0xe1c)]('.live-answer-btn,\x20#sync-submit-btn')[_0x430a39(0x23a)](_0x5a744b=>_0x5a744b['disabled']=![]);}}const allMarketItems=[{'id':'buyTime','name':_0x5ddd37(0xa62),'price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x5ddd37(0xb36),'name':_0x5ddd37(0xc18),'price':0x2,'desc':_0x5ddd37(0xaac)},{'id':_0x5ddd37(0xac7),'name':'🌗\x2050:50','price':0x5,'desc':_0x5ddd37(0xd97)},{'id':_0x5ddd37(0x3be),'name':_0x5ddd37(0xbe9),'price':0x7,'desc':_0x5ddd37(0xe16)}];function openBlackMarket(_0x140626,_0x54d209){const _0x5ab1e2=_0x5ddd37;let _0x326d84=null;const _0x3caf6c=document[_0x5ab1e2(0x4ff)]('black-market-modal'),_0x429e06=document['getElementById'](_0x5ab1e2(0x7c3)),_0x58b396=document[_0x5ab1e2(0x4ff)](_0x5ab1e2(0xe1a)),_0x3f3ff1=document[_0x5ab1e2(0x4ff)]('market-timer-bar'),_0x18ff4b=_0x54d209[_0x5ab1e2(0x939)]||0x0;_0x58b396['textContent']=_0x18ff4b;const _0x27c6c0=allMarketItems;_0x429e06[_0x5ab1e2(0x1f9)]=_0x27c6c0[_0x5ab1e2(0xa25)](_0x16a64a=>{const _0x274af5=_0x5ab1e2,_0x33eed1=_0x18ff4b>=_0x16a64a[_0x274af5(0x212)];if(_0x16a64a['id']===_0x274af5(0x67d)){const _0x3445be=_0x33eed1?Math[_0x274af5(0x9f5)](_0x18ff4b/_0x16a64a['price']):0x0,_0x148d12=_0x18ff4b>=_0x16a64a[_0x274af5(0x212)];return _0x274af5(0xc91)+(!_0x148d12?_0x274af5(0x8c5):'bg-white')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x16a64a[_0x274af5(0xc44)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x16a64a[_0x274af5(0xa95)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x3445be+'\x22\x20'+(!_0x148d12?_0x274af5(0x206):'')+_0x274af5(0x421)+(_0x148d12?'bg-indigo-600\x20hover:bg-indigo-700':_0x274af5(0xd89))+_0x274af5(0x543)+_0x16a64a['id']+_0x274af5(0x6e8)+_0x16a64a[_0x274af5(0x212)]+_0x274af5(0xa9e)+(!_0x148d12?'disabled':'')+_0x274af5(0x7e7)+_0x16a64a[_0x274af5(0x212)]+_0x274af5(0xb19);}else{const _0x529977=!_0x33eed1?_0x274af5(0x206):'',_0x3b064c=_0x33eed1?_0x274af5(0x393):_0x274af5(0xd89);return _0x274af5(0xc91)+(!_0x33eed1?_0x274af5(0x8c5):'bg-white')+_0x274af5(0x7d6)+_0x16a64a[_0x274af5(0xc44)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x16a64a[_0x274af5(0xa95)]+_0x274af5(0x31c)+_0x3b064c+_0x274af5(0x38b)+_0x16a64a['id']+_0x274af5(0xcff)+_0x16a64a['price']+_0x274af5(0xb2e)+_0x529977+_0x274af5(0xb65)+_0x16a64a['price']+_0x274af5(0x916);}})['join'](''),_0x3caf6c['classList'][_0x5ab1e2(0x716)](_0x5ab1e2(0xc89)),_0x3f3ff1[_0x5ab1e2(0x8c6)][_0x5ab1e2(0x6bb)]=_0x5ab1e2(0x527),_0x3f3ff1['style'][_0x5ab1e2(0x248)]=_0x5ab1e2(0x3fc),setTimeout(()=>{const _0x55a641=_0x5ab1e2;_0x3f3ff1[_0x55a641(0x8c6)][_0x55a641(0x6bb)]='width\x2060s\x20linear',_0x3f3ff1['style'][_0x55a641(0x248)]='0%';},0x32),_0x326d84=setTimeout(()=>{const _0x5ab8b7=_0x5ab1e2;_0x3caf6c[_0x5ab8b7(0xc2e)]['add'](_0x5ab8b7(0xc89));},0xea60),document['getElementById'](_0x5ab1e2(0x6c1))[_0x5ab1e2(0x66e)]=()=>{const _0x2c1f32=_0x5ab1e2;clearTimeout(_0x326d84),_0x3caf6c['classList'][_0x2c1f32(0xee4)]('hidden');},_0x429e06['querySelectorAll']('.buy-item-btn')[_0x5ab1e2(0x23a)](_0x15dfae=>{const _0x563925=_0x5ab1e2;_0x15dfae[_0x563925(0x66e)]=_0x46df95=>{const _0x3ebd96=_0x563925,_0xbb633=_0x46df95['target'][_0x3ebd96(0x664)][_0x3ebd96(0x4c1)],_0x551afc=parseInt(_0x46df95[_0x3ebd96(0x2b8)][_0x3ebd96(0x664)][_0x3ebd96(0x212)],0xa);clearTimeout(_0x326d84),_0x3caf6c[_0x3ebd96(0xc2e)][_0x3ebd96(0xee4)](_0x3ebd96(0xc89)),handleBuyItem(_0x54d209[_0x3ebd96(0xc44)],_0xbb633,_0x551afc,0x1);};}),_0x429e06[_0x5ab1e2(0xe1c)](_0x5ab1e2(0xc51))[_0x5ab1e2(0x23a)](_0x32635c=>{_0x32635c['onclick']=_0x2670e1=>{const _0x9cf94f=_0x2785,_0x16af8f=_0x2670e1[_0x9cf94f(0x2b8)][_0x9cf94f(0x664)]['itemId'],_0x10cd05=parseInt(_0x2670e1[_0x9cf94f(0x2b8)][_0x9cf94f(0x664)][_0x9cf94f(0x212)],0xa),_0x4eba3b=document['getElementById'](_0x9cf94f(0xb8e)),_0x5b3a3d=parseInt(_0x4eba3b[_0x9cf94f(0x717)],0xa),_0x3369f3=parseInt(_0x4eba3b[_0x9cf94f(0xa87)],0xa);if(!_0x5b3a3d||_0x5b3a3d<0x1){showMessage(_0x9cf94f(0x4cd));return;}if(_0x5b3a3d>_0x3369f3){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x3369f3+'\x20ชิ้น)');return;}clearTimeout(_0x326d84),_0x3caf6c[_0x9cf94f(0xc2e)][_0x9cf94f(0xee4)](_0x9cf94f(0xc89)),handleBuyItem(_0x54d209['name'],_0x16af8f,_0x10cd05,_0x5b3a3d);};});}async function handleBuyItem(_0x5ba1e6,_0x51ea45,_0x2f21e1,_0x1ca82e=0x1){const _0x2c3d61=_0x5ddd37,_0x192746=doc(db,_0x2c3d61(0x8a6)+appId+_0x2c3d61(0x48b)+currentLiveGameId+_0x2c3d61(0x94d),_0x5ba1e6);try{await runTransaction(db,async _0x1b382a=>{const _0x30cfe0=_0x2c3d61,_0x473bfc=await _0x1b382a['get'](_0x192746);if(!_0x473bfc[_0x30cfe0(0x8d2)]())throw _0x30cfe0(0xeeb);const _0xfc7778=_0x473bfc[_0x30cfe0(0xef5)]()[_0x30cfe0(0x939)]||0x0,_0x4d1b60=_0x2f21e1*_0x1ca82e;if(_0xfc7778<_0x4d1b60)throw _0x30cfe0(0x4a9);const _0x4f3dcb={};_0x4f3dcb['totalPoints']=increment(-_0x4d1b60),_0x4f3dcb['powerups.'+_0x51ea45]=increment(_0x1ca82e),_0x1b382a[_0x30cfe0(0xc94)](_0x192746,_0x4f3dcb);}),showMessage(_0x2c3d61(0x205)+_0x51ea45+_0x2c3d61(0x9f6)+_0x1ca82e+_0x2c3d61(0xc34));}catch(_0x419250){console['error'](_0x2c3d61(0x20d),_0x419250),showMessage(typeof _0x419250===_0x2c3d61(0xe22)?_0x419250:_0x2c3d61(0xb82));}}async function handlePayForMarketEntry(_0x4cc2c6,_0x247129,_0x2a3112){const _0x2bd07f=_0x5ddd37,_0x49bd2a=doc(db,'artifacts/'+appId+_0x2bd07f(0x48b)+currentLiveGameId+_0x2bd07f(0x94d),_0x4cc2c6);try{await runTransaction(db,async _0x31bc53=>{const _0x262a56=_0x2bd07f,_0x49f925=await _0x31bc53[_0x262a56(0x1fc)](_0x49bd2a);if(!_0x49f925['exists']())throw _0x262a56(0xeeb);const _0x1c5cab=_0x49f925[_0x262a56(0xef5)]()[_0x262a56(0x939)]||0x0;if(_0x1c5cab<0x1)throw _0x262a56(0x770);const _0x41b197={};_0x41b197[_0x262a56(0x939)]=increment(-0x1),_0x31bc53[_0x262a56(0xc94)](_0x49bd2a,_0x41b197);});const _0x29ca10={..._0x2a3112,'totalPoints':(_0x2a3112[_0x2bd07f(0x939)]||0x0)-0x1};openBlackMarket(_0x247129,_0x29ca10);}catch(_0x485252){console[_0x2bd07f(0x34c)]('Market\x20entry\x20payment\x20failed:',_0x485252),showMessage(typeof _0x485252===_0x2bd07f(0xe22)?_0x485252:_0x2bd07f(0x290));}}initialize();
