const _0x346886=_0x2b13;(function(_0x4bc0b3,_0x3175d8){const _0xd99b5c=_0x2b13,_0x5b223e=_0x4bc0b3();while(!![]){try{const _0x180e15=-parseInt(_0xd99b5c(0x5af))/0x1*(parseInt(_0xd99b5c(0x80f))/0x2)+-parseInt(_0xd99b5c(0x4a4))/0x3*(-parseInt(_0xd99b5c(0x902))/0x4)+-parseInt(_0xd99b5c(0xa24))/0x5*(parseInt(_0xd99b5c(0x439))/0x6)+parseInt(_0xd99b5c(0x90b))/0x7*(parseInt(_0xd99b5c(0x6dc))/0x8)+parseInt(_0xd99b5c(0x342))/0x9+parseInt(_0xd99b5c(0x446))/0xa*(-parseInt(_0xd99b5c(0x42c))/0xb)+-parseInt(_0xd99b5c(0x616))/0xc*(-parseInt(_0xd99b5c(0x91f))/0xd);if(_0x180e15===_0x3175d8)break;else _0x5b223e['push'](_0x5b223e['shift']());}catch(_0x1b5cfc){_0x5b223e['push'](_0x5b223e['shift']());}}}(_0x24ba,0x7cd51));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x4e97f5=_0x2b13;if(_0x4e97f5(0x55b)in navigator)try{wakeLock=await navigator[_0x4e97f5(0x55b)]['request'](_0x4e97f5(0x6b9)),console[_0x4e97f5(0x326)](_0x4e97f5(0x482)),wakeLock[_0x4e97f5(0x35b)](_0x4e97f5(0x657),()=>{const _0x5b6d81=_0x4e97f5;console['log'](_0x5b6d81(0x40b));});}catch(_0x235934){console[_0x4e97f5(0x6f2)](_0x4e97f5(0x8df)+_0x235934[_0x4e97f5(0x54b)]+',\x20'+_0x235934[_0x4e97f5(0x6ff)]);}else console[_0x4e97f5(0x9af)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x2d1dd7=_0x2b13;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x2d1dd7(0x44d)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4b341b=_0x2b13;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x4b341b(0x8f4)]['remove'](_0x4b341b(0x56e)),dimTimer=setTimeout(()=>{const _0xc56750=_0x4b341b;document[_0xc56750(0x47e)][_0xc56750(0x8f4)][_0xc56750(0xa01)](_0xc56750(0x56e)),console['log']('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x5b37df=_0x2b13;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x5b37df(0x8f4)][_0x5b37df(0x42d)](_0x5b37df(0x56e)),window[_0x5b37df(0x6e9)](_0x5b37df(0x81b),resetDimTimer),window[_0x5b37df(0x6e9)](_0x5b37df(0x759),resetDimTimer),window[_0x5b37df(0x6e9)](_0x5b37df(0x8c6),resetDimTimer),window['removeEventListener'](_0x5b37df(0x2fc),resetDimTimer),console[_0x5b37df(0x326)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x346886(0x91c),'pinnedProjects':[],'projectView':_0x346886(0x515)};const allMathTopics=[{'category':_0x346886(0x231),'name':_0x346886(0x4fe)},{'category':_0x346886(0x231),'name':_0x346886(0x416)},{'category':'จำนวนและการดำเนินการ','name':'การปัดเศษและประมาณค่า'},{'category':_0x346886(0x231),'name':_0x346886(0x2fb)},{'category':_0x346886(0x231),'name':_0x346886(0x496)},{'category':'จำนวนและการดำเนินการ','name':_0x346886(0x42b)},{'category':_0x346886(0x231),'name':_0x346886(0x587)},{'category':_0x346886(0x231),'name':_0x346886(0x54d)},{'category':'จำนวนและการดำเนินการ','name':_0x346886(0x878)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x346886(0x231),'name':_0x346886(0x2ea)},{'category':_0x346886(0x231),'name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':'เส้นจำนวน'},{'category':_0x346886(0x231),'name':_0x346886(0x803)},{'category':_0x346886(0x231),'name':_0x346886(0x210)},{'category':'จำนวนและการดำเนินการ','name':_0x346886(0x5e8)},{'category':_0x346886(0x231),'name':_0x346886(0x62e)},{'category':_0x346886(0x231),'name':_0x346886(0x7ab)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':_0x346886(0x231),'name':_0x346886(0x9f1)},{'category':_0x346886(0x231),'name':_0x346886(0x506)},{'category':_0x346886(0x231),'name':_0x346886(0x7f2)},{'category':_0x346886(0x231),'name':_0x346886(0x436)},{'category':_0x346886(0x231),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x346886(0x231),'name':'การบวกทศนิยม'},{'category':_0x346886(0x231),'name':_0x346886(0x220)},{'category':_0x346886(0x231),'name':_0x346886(0x43a)},{'category':_0x346886(0x231),'name':_0x346886(0x752)},{'category':_0x346886(0x231),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x346886(0x231),'name':_0x346886(0x25a)},{'category':_0x346886(0x231),'name':_0x346886(0x3a6)},{'category':_0x346886(0x231),'name':_0x346886(0x9c5)},{'category':_0x346886(0x231),'name':_0x346886(0x9eb)},{'category':_0x346886(0x231),'name':_0x346886(0x2ae)},{'category':_0x346886(0x231),'name':_0x346886(0x25d)},{'category':_0x346886(0x231),'name':_0x346886(0x4ec)},{'category':'การวัด','name':_0x346886(0x4fd)},{'category':_0x346886(0x3c9),'name':_0x346886(0x347)},{'category':_0x346886(0x3c9),'name':_0x346886(0x239)},{'category':'การวัด','name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x346886(0x3c9),'name':_0x346886(0x37a)},{'category':_0x346886(0x3c9),'name':_0x346886(0x771)},{'category':_0x346886(0x3c9),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x346886(0x3c9),'name':_0x346886(0x2b6)},{'category':_0x346886(0x3c9),'name':_0x346886(0x3c3)},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':_0x346886(0x3d6)},{'category':_0x346886(0x3c9),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x346886(0x644)},{'category':'การวัด','name':_0x346886(0x92d)},{'category':_0x346886(0x727),'name':_0x346886(0x70d)},{'category':_0x346886(0x727),'name':_0x346886(0x3b1)},{'category':_0x346886(0x727),'name':_0x346886(0x760)},{'category':_0x346886(0x727),'name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x346886(0x768)},{'category':_0x346886(0x727),'name':_0x346886(0x88c)},{'category':_0x346886(0x727),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x346886(0x727),'name':_0x346886(0x50a)},{'category':_0x346886(0x727),'name':_0x346886(0x262)},{'category':_0x346886(0x727),'name':_0x346886(0x8eb)},{'category':'เรขาคณิต','name':_0x346886(0x2a4)},{'category':'เรขาคณิต','name':_0x346886(0x430)},{'category':_0x346886(0x727),'name':_0x346886(0x6c8)},{'category':_0x346886(0x727),'name':_0x346886(0x91e)},{'category':'เรขาคณิต','name':_0x346886(0x548)},{'category':_0x346886(0x5a0),'name':'ตัวแปรและนิพจน์'},{'category':_0x346886(0x5a0),'name':_0x346886(0x611)},{'category':_0x346886(0x5a0),'name':_0x346886(0x926)},{'category':_0x346886(0x5a0),'name':_0x346886(0x8fe)},{'category':_0x346886(0x5a0),'name':_0x346886(0x33b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x346886(0x1f1)},{'category':_0x346886(0x5a0),'name':_0x346886(0x4e7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x346886(0x2ba)},{'category':_0x346886(0x5a0),'name':_0x346886(0x3b3)},{'category':_0x346886(0x5a0),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x346886(0x5a0),'name':'สมการราก\x20(radical)'},{'category':_0x346886(0x5a0),'name':_0x346886(0x4fb)},{'category':_0x346886(0x5a0),'name':_0x346886(0x89e)},{'category':_0x346886(0x5a0),'name':_0x346886(0x349)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x346886(0xa3f)},{'category':_0x346886(0x5a0),'name':_0x346886(0x5e9)},{'category':_0x346886(0x5a0),'name':_0x346886(0x61e)},{'category':_0x346886(0x5a0),'name':_0x346886(0x95f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x346886(0x545)},{'category':_0x346886(0x5a0),'name':_0x346886(0x557)},{'category':_0x346886(0x5a0),'name':_0x346886(0x352)},{'category':_0x346886(0x5a0),'name':_0x346886(0x758)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x346886(0x5a0),'name':'ฟังก์ชันพหุนาม'},{'category':_0x346886(0x5a0),'name':_0x346886(0xa3e)},{'category':_0x346886(0x5a0),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x346886(0x5a0),'name':_0x346886(0x331)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x346886(0x648)},{'category':_0x346886(0x5a0),'name':_0x346886(0x302)},{'category':_0x346886(0x5a0),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x346886(0x5a0),'name':_0x346886(0x578)},{'category':_0x346886(0x5a0),'name':_0x346886(0x7c4)},{'category':_0x346886(0x5a0),'name':_0x346886(0x5c8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x346886(0x33e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x346886(0x60d)},{'category':_0x346886(0xa03),'name':_0x346886(0x728)},{'category':'เรขาคณิตวิเคราะห์','name':_0x346886(0x253)},{'category':_0x346886(0xa03),'name':_0x346886(0x5d4)},{'category':_0x346886(0xa03),'name':_0x346886(0x974)},{'category':_0x346886(0xa03),'name':_0x346886(0x9f3)},{'category':_0x346886(0xa03),'name':_0x346886(0xa46)},{'category':_0x346886(0xa03),'name':'พาราโบลา'},{'category':_0x346886(0xa03),'name':'วงรี'},{'category':_0x346886(0xa03),'name':_0x346886(0x697)},{'category':_0x346886(0xa4d),'name':_0x346886(0xa49)},{'category':_0x346886(0xa4d),'name':_0x346886(0x3ae)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x346886(0xa4d),'name':_0x346886(0x8e9)},{'category':_0x346886(0xa4d),'name':'กฎของไซน์'},{'category':_0x346886(0xa4d),'name':_0x346886(0x2b5)},{'category':_0x346886(0xa4d),'name':_0x346886(0x833)},{'category':_0x346886(0xa4d),'name':_0x346886(0xa4e)},{'category':_0x346886(0xa4d),'name':_0x346886(0x891)},{'category':'ตรีโกณมิติ','name':_0x346886(0x58f)},{'category':_0x346886(0xa4d),'name':_0x346886(0x563)},{'category':_0x346886(0x375),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x47c)},{'category':_0x346886(0x375),'name':'ตารางความถี่'},{'category':_0x346886(0x375),'name':_0x346886(0x91a)},{'category':_0x346886(0x375),'name':_0x346886(0x336)},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x998)},{'category':_0x346886(0x375),'name':_0x346886(0x429)},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':_0x346886(0x375),'name':_0x346886(0x3b2)},{'category':_0x346886(0x375),'name':_0x346886(0x896)},{'category':_0x346886(0x375),'name':_0x346886(0x2b8)},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x64e)},{'category':_0x346886(0x375),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x346886(0x375),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x346886(0x375),'name':_0x346886(0x233)},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x9bc)},{'category':_0x346886(0x375),'name':_0x346886(0x6bd)},{'category':_0x346886(0x375),'name':_0x346886(0x3a3)},{'category':_0x346886(0x375),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x939)},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x707)},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x7cd)},{'category':'สถิติและความน่าจะเป็น','name':_0x346886(0x7e0)},{'category':_0x346886(0x375),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x346886(0x5ea)},{'category':_0x346886(0x207),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x346886(0x207),'name':_0x346886(0x7c0)},{'category':'แคลคูลัสเบื้องต้น','name':_0x346886(0x731)},{'category':'แคลคูลัสเบื้องต้น','name':_0x346886(0x70c)},{'category':_0x346886(0x207),'name':_0x346886(0x38c)},{'category':_0x346886(0x207),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':_0x346886(0x9f8)},{'category':_0x346886(0x207),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x346886(0x207),'name':'ปริพันธ์จำกัด'},{'category':_0x346886(0x207),'name':_0x346886(0x29c)},{'category':_0x346886(0x207),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x346886(0x278),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x346886(0x278),'name':_0x346886(0x218)},{'category':_0x346886(0x278),'name':_0x346886(0x687)},{'category':_0x346886(0x278),'name':_0x346886(0x8bb)},{'category':_0x346886(0x278),'name':_0x346886(0x1f3)},{'category':_0x346886(0x278),'name':_0x346886(0x8dc)},{'category':_0x346886(0x278),'name':_0x346886(0x42e)},{'category':_0x346886(0x9b9),'name':_0x346886(0x22b)},{'category':_0x346886(0x9b9),'name':_0x346886(0x34a)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x346886(0x484)},{'category':_0x346886(0x9b9),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x346886(0x859)},{'category':_0x346886(0x7ff),'name':_0x346886(0x761)},{'category':_0x346886(0x7ff),'name':_0x346886(0x9a9)}];function renderTopicCheckboxes(){const _0x46df42=_0x346886,_0x5a9157=document['getElementById'](_0x46df42(0x371));if(!_0x5a9157)return;const _0x309568=allMathTopics,_0x5a5b0d=customMathTopics['map'](_0x140fb4=>({'id':_0x140fb4['id'],'category':'หัวข้อที่สร้างเอง','name':_0x140fb4['name']})),_0x41d8d5=[..._0x309568,..._0x5a5b0d],_0x1b7df6=_0x41d8d5['reduce']((_0x526622,_0x4ea47d)=>{const _0x46d0b1=_0x46df42;return!_0x526622[_0x4ea47d['category']]&&(_0x526622[_0x4ea47d[_0x46d0b1(0x52f)]]=[]),_0x526622[_0x4ea47d[_0x46d0b1(0x52f)]][_0x46d0b1(0x85a)](_0x4ea47d),_0x526622;},{});let _0x388354='';const _0x3bd214=[_0x46df42(0x255),...Object['keys'](_0x1b7df6)[_0x46df42(0x7cb)](_0x35e70a=>_0x35e70a!=='หัวข้อที่สร้างเอง')];for(const _0x1079fe of _0x3bd214){if(_0x1b7df6[_0x1079fe]){const _0x33aebc=_0x1079fe===_0x46df42(0x255),_0xbafb0a=_0x33aebc?_0x46df42(0x88b):_0x46df42(0x37e),_0x10ba38=_0x33aebc?_0x46df42(0x28a):'text-indigo-700';_0x388354+=_0x46df42(0x24a),_0x388354+=_0x46df42(0x2c5)+_0x10ba38+_0x46df42(0x45b)+_0xbafb0a+_0x46df42(0x434)+_0x1079fe+_0x46df42(0x96b),_0x1b7df6[_0x1079fe]['forEach'](_0x3254ee=>{const _0x2c411f=_0x46df42,_0x28b64c=!!_0x3254ee['id'],_0x401445=_0x28b64c?_0x2c411f(0x7a8)+_0x3254ee['id']+_0x2c411f(0x4f4)+_0x3254ee['id']+_0x2c411f(0x8d3)+_0x3254ee['id']+_0x2c411f(0x7b8)+_0x3254ee['id']+_0x2c411f(0x90f):'';_0x388354+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x3254ee['id']||'')+_0x2c411f(0x4cb)+_0x3254ee[_0x2c411f(0x54b)]+_0x2c411f(0x7b2)+_0x3254ee[_0x2c411f(0x54b)]+_0x2c411f(0xa1e)+(_0x28b64c?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x3254ee[_0x2c411f(0x54b)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x401445+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x388354+='</div>';}}_0x5a9157[_0x46df42(0x373)]=_0x388354||_0x46df42(0x65d),_0x5a9157['removeEventListener']('change',updateSelectedTopicsCount),_0x5a9157[_0x46df42(0x35b)](_0x46df42(0x562),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0xd51291,_0x38b8be){const _0x330503=_0x346886;if(!_0xd51291||!_0x38b8be[_0x330503(0x905)]()){showMessage(_0x330503(0x65e));return;}try{const _0x51a722=doc(db,_0x330503(0x9d8)+appId+_0x330503(0x8be),_0xd51291);await updateDoc(_0x51a722,{'name':_0x38b8be[_0x330503(0x905)]()}),showMessage(_0x330503(0x714));}catch(_0x14671e){console[_0x330503(0x6f2)](_0x330503(0x3eb),_0x14671e),showMessage(_0x330503(0x4b3));}}function toggleTopicEditMode(_0x529785,_0x11a8ec){const _0x11b742=_0x346886;if(!_0x529785)return;const _0x3186e7=_0x529785[_0x11b742(0x293)](_0x11b742(0x93d)),_0x4ce3fb=_0x529785['querySelector'](_0x11b742(0x672)),_0x18c344=_0x529785[_0x11b742(0x293)](_0x11b742(0x325)),_0x11f8bd=_0x529785[_0x11b742(0x293)](_0x11b742(0x953));_0x3186e7['classList'][_0x11b742(0x474)]('hidden',_0x11a8ec),_0x4ce3fb['classList']['toggle'](_0x11b742(0x901),!_0x11a8ec),_0x18c344['classList']['toggle'](_0x11b742(0x901),_0x11a8ec),_0x11f8bd[_0x11b742(0x8f4)][_0x11b742(0x474)](_0x11b742(0x901),!_0x11a8ec),_0x11a8ec&&(_0x4ce3fb[_0x11b742(0x5bd)](),_0x4ce3fb[_0x11b742(0x2b7)]());}function updateSelectedTopicsCount(){const _0x5502b2=_0x346886,_0x1a0ee7=document[_0x5502b2(0x68b)](_0x5502b2(0x371)),_0x56e208=_0x1a0ee7['querySelectorAll'](_0x5502b2(0x5bb))[_0x5502b2(0x8cf)],_0x150a4d=document[_0x5502b2(0x68b)]('selected-topics-count');_0x56e208>0x0?_0x150a4d['textContent']='(เลือกแล้ว\x20'+_0x56e208+_0x5502b2(0x5fa):_0x150a4d[_0x5502b2(0x394)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x346886(0x632),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x346886(0x27b),quizLeaderboardSortOrder=_0x346886(0x8b5),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x346886(0x1f2),scratchpadPenColor=_0x346886(0x815),scratchpadPenSize=0x5;function getDistance(_0x3784fa,_0x510f3c){const _0x102de2=_0x346886;return Math[_0x102de2(0x5ed)](Math[_0x102de2(0x8a0)](_0x3784fa['x']-_0x510f3c['x'],0x2)+Math[_0x102de2(0x8a0)](_0x3784fa['y']-_0x510f3c['y'],0x2));}function getMidpoint(_0x28c171,_0x1437d9){return{'x':(_0x28c171['x']+_0x1437d9['x'])/0x2,'y':(_0x28c171['y']+_0x1437d9['y'])/0x2};}function getTransformedPoint(_0x270ce7,_0x5d0831){return{'x':(_0x270ce7-scratchpadOffset['x'])/scratchpadScale,'y':(_0x5d0831-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x5908ea=_0x346886;if(!scratchpadCtx)return;const _0x3e549a=scratchpadCtx['canvas'],_0x443d8f=window[_0x5908ea(0x4b4)]||0x1,_0x1c8016=document[_0x5908ea(0x68b)](_0x5908ea(0x869));_0x1c8016&&(_0x1c8016[_0x5908ea(0x4bb)][_0x5908ea(0x37d)]='0\x200',_0x1c8016[_0x5908ea(0x4bb)][_0x5908ea(0x8e4)]=_0x5908ea(0x34c)+scratchpadOffset['x']+_0x5908ea(0x99f)+scratchpadOffset['y']+_0x5908ea(0x301)+scratchpadScale+')'),scratchpadCtx[_0x5908ea(0x3cc)](),scratchpadCtx[_0x5908ea(0x8f2)](_0x443d8f,0x0,0x0,_0x443d8f,0x0,0x0),scratchpadCtx[_0x5908ea(0x3fb)](0x0,0x0,_0x3e549a[_0x5908ea(0x2a0)],_0x3e549a['height']),scratchpadCtx[_0x5908ea(0x6f7)](),scratchpadCtx[_0x5908ea(0x3cc)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x5908ea(0x209)](scratchpadScale,scratchpadScale),strokes[_0x5908ea(0x305)](_0x33fa65=>{drawStroke(_0x33fa65);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function drawStroke(_0x57e876){const _0x12c624=_0x346886;if(!_0x57e876||_0x57e876['points'][_0x12c624(0x8cf)]<0x1)return;scratchpadCtx[_0x12c624(0x999)](),scratchpadCtx[_0x12c624(0x68c)](_0x57e876[_0x12c624(0x601)][0x0]['x'],_0x57e876[_0x12c624(0x601)][0x0]['y']),scratchpadCtx[_0x12c624(0x8ff)]=_0x57e876[_0x12c624(0x2c6)],scratchpadCtx[_0x12c624(0x4df)]=_0x57e876[_0x12c624(0x755)],scratchpadCtx['globalCompositeOperation']=_0x57e876['tool']===_0x12c624(0x280)?'destination-out':_0x12c624(0x51d);for(let _0x1a14f2=0x1;_0x1a14f2<_0x57e876[_0x12c624(0x601)]['length']-0x1;_0x1a14f2++){const _0x4e134a=_0x57e876[_0x12c624(0x601)][_0x1a14f2],_0x5d0014=_0x57e876[_0x12c624(0x601)][_0x1a14f2+0x1],_0x2160c0={'x':(_0x4e134a['x']+_0x5d0014['x'])/0x2,'y':(_0x4e134a['y']+_0x5d0014['y'])/0x2};scratchpadCtx['quadraticCurveTo'](_0x4e134a['x'],_0x4e134a['y'],_0x2160c0['x'],_0x2160c0['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x12c624(0x431)]();}function handlePointerDown(_0x4ead7d){const _0x2a3987=_0x346886;_0x4ead7d[_0x2a3987(0x23a)]();const _0x438ea5=scratchpadCtx[_0x2a3987(0x265)],_0x30c7ce=_0x438ea5[_0x2a3987(0x320)](),_0x5e46f4=_0x4ead7d[_0x2a3987(0x2d7)]||(_0x4ead7d[_0x2a3987(0x390)]?'touch':_0x2a3987(0x576));if(_0x5e46f4===_0x2a3987(0x1f2)||_0x5e46f4===_0x2a3987(0x576)){if(_0x4ead7d[_0x2a3987(0x2d7)]===_0x2a3987(0x576)){if(_0x4ead7d[_0x2a3987(0x838)]===0x1){isMousePanning=!![],panStart={'x':_0x4ead7d['clientX'],'y':_0x4ead7d[_0x2a3987(0x66a)]},_0x438ea5[_0x2a3987(0x4bb)][_0x2a3987(0x391)]=_0x2a3987(0x3e1);return;}if(_0x4ead7d[_0x2a3987(0x838)]!==0x0)return;}isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2b3779=getTransformedPoint(_0x4ead7d[_0x2a3987(0xa48)]-_0x30c7ce[_0x2a3987(0x5b3)],_0x4ead7d[_0x2a3987(0x66a)]-_0x30c7ce['top']);currentStroke={'tool':activeTool,'color':scratchpadPenColor,'size':scratchpadPenSize,'points':[_0x2b3779]};}else _0x4ead7d['touches']&&(_0x4ead7d[_0x2a3987(0x390)][_0x2a3987(0x8cf)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x4ead7d[_0x2a3987(0x390)][0x0]['clientX'],'y':_0x4ead7d[_0x2a3987(0x390)][0x0][_0x2a3987(0x66a)]},{'x':_0x4ead7d['touches'][0x1][_0x2a3987(0xa48)],'y':_0x4ead7d[_0x2a3987(0x390)][0x1][_0x2a3987(0x66a)]}),initialPinchDistance=getDistance({'x':_0x4ead7d[_0x2a3987(0x390)][0x0][_0x2a3987(0xa48)],'y':_0x4ead7d[_0x2a3987(0x390)][0x0][_0x2a3987(0x66a)]},{'x':_0x4ead7d['touches'][0x1][_0x2a3987(0xa48)],'y':_0x4ead7d[_0x2a3987(0x390)][0x1][_0x2a3987(0x66a)]})));}function handlePointerMove(_0x5012ea){const _0x2f8a3a=_0x346886;_0x5012ea[_0x2f8a3a(0x23a)]();const _0xdc2467=scratchpadCtx[_0x2f8a3a(0x265)],_0x246769=_0xdc2467[_0x2f8a3a(0x320)]();if(_0x5012ea[_0x2f8a3a(0x390)]){if(_0x5012ea[_0x2f8a3a(0x390)]['length']===0x1&&isDrawingOnScratchpad){const _0x276566=getTransformedPoint(_0x5012ea['touches'][0x0][_0x2f8a3a(0xa48)]-_0x246769[_0x2f8a3a(0x5b3)],_0x5012ea[_0x2f8a3a(0x390)][0x0][_0x2f8a3a(0x66a)]-_0x246769[_0x2f8a3a(0x722)]);currentStroke[_0x2f8a3a(0x601)][_0x2f8a3a(0x85a)](_0x276566),redrawScratchpad();}else{if(_0x5012ea[_0x2f8a3a(0x390)][_0x2f8a3a(0x8cf)]===0x2&&isPanning){const _0x2747ae=getDistance({'x':_0x5012ea[_0x2f8a3a(0x390)][0x0][_0x2f8a3a(0xa48)],'y':_0x5012ea[_0x2f8a3a(0x390)][0x0]['clientY']},{'x':_0x5012ea[_0x2f8a3a(0x390)][0x1][_0x2f8a3a(0xa48)],'y':_0x5012ea[_0x2f8a3a(0x390)][0x1][_0x2f8a3a(0x66a)]}),_0x22809d=getMidpoint({'x':_0x5012ea[_0x2f8a3a(0x390)][0x0]['clientX'],'y':_0x5012ea[_0x2f8a3a(0x390)][0x0][_0x2f8a3a(0x66a)]},{'x':_0x5012ea['touches'][0x1]['clientX'],'y':_0x5012ea[_0x2f8a3a(0x390)][0x1][_0x2f8a3a(0x66a)]}),_0x6763a6=_0x2747ae/ initialPinchDistance,_0x31e913=Math[_0x2f8a3a(0x604)](Math[_0x2f8a3a(0x874)](scratchpadScale*_0x6763a6,MIN_SCALE),MAX_SCALE),_0x3bd0aa=_0x22809d['x']-panStart['x'],_0x176f43=_0x22809d['y']-panStart['y'];scratchpadOffset['x']=_0x22809d['x']-(_0x22809d['x']-scratchpadOffset['x'])*(_0x31e913/scratchpadScale),scratchpadOffset['y']=_0x22809d['y']-(_0x22809d['y']-scratchpadOffset['y'])*(_0x31e913/scratchpadScale),scratchpadOffset['x']+=_0x3bd0aa,scratchpadOffset['y']+=_0x176f43,scratchpadScale=_0x31e913,initialPinchDistance=_0x2747ae,panStart=_0x22809d,redrawScratchpad();}}}else{if(isMousePanning){const _0x19fae7=_0x5012ea[_0x2f8a3a(0xa48)]-panStart['x'],_0xdf7a70=_0x5012ea['clientY']-panStart['y'];scratchpadOffset['x']+=_0x19fae7,scratchpadOffset['y']+=_0xdf7a70,panStart={'x':_0x5012ea[_0x2f8a3a(0xa48)],'y':_0x5012ea['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x334b0b=getTransformedPoint(_0x5012ea[_0x2f8a3a(0xa48)]-_0x246769[_0x2f8a3a(0x5b3)],_0x5012ea[_0x2f8a3a(0x66a)]-_0x246769['top']);currentStroke[_0x2f8a3a(0x601)][_0x2f8a3a(0x85a)](_0x334b0b),redrawScratchpad();}}}}function handlePointerUp(_0x34131a){const _0x51c433=_0x346886;_0x34131a[_0x51c433(0x23a)]();const _0x3172ad=scratchpadCtx[_0x51c433(0x265)];isMousePanning&&(isMousePanning=![],_0x3172ad[_0x51c433(0x4bb)][_0x51c433(0x391)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x51c433(0x8cf)]>0x1&&strokes[_0x51c433(0x85a)](currentStroke),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x542007){const _0x444e27=_0x346886;_0x542007[_0x444e27(0x23a)]();const _0x5b39fb=_0x542007[_0x444e27(0x9bd)]*-0.005,_0x247429=Math[_0x444e27(0x604)](Math[_0x444e27(0x874)](scratchpadScale+_0x5b39fb,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x542007[_0x444e27(0xa48)]-(_0x542007['clientX']-scratchpadOffset['x'])*(_0x247429/scratchpadScale),scratchpadOffset['y']=_0x542007[_0x444e27(0x66a)]-(_0x542007[_0x444e27(0x66a)]-scratchpadOffset['y'])*(_0x247429/scratchpadScale),scratchpadScale=_0x247429,redrawScratchpad();}function undo(){const _0x50aaa5=_0x346886;strokes[_0x50aaa5(0x8cf)]>0x0&&(redoStrokes['push'](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x59a4be=_0x346886;redoStrokes['length']>0x0&&(strokes[_0x59a4be(0x85a)](redoStrokes[_0x59a4be(0x24e)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x5c3f09=_0x346886;document[_0x5c3f09(0x68b)]('undo-btn')['disabled']=strokes[_0x5c3f09(0x8cf)]===0x0,document[_0x5c3f09(0x68b)](_0x5c3f09(0xa32))[_0x5c3f09(0x438)]=redoStrokes['length']===0x0;}function openScratchpad(_0x56e53d,_0x2258c5){const _0xaa7b29=_0x346886,_0x200c65=document[_0xaa7b29(0x68b)](_0xaa7b29(0x90e)),_0x313a8b=document[_0xaa7b29(0x68b)](_0xaa7b29(0x6f0)),_0x130480=document[_0xaa7b29(0x68b)]('scratchpad-options'),_0x5a8c4b=document[_0xaa7b29(0x68b)](_0xaa7b29(0x419));_0x313a8b[_0xaa7b29(0x394)]=_0x56e53d[_0xaa7b29(0x3db)]||_0x56e53d['questionText'],_0x130480[_0xaa7b29(0x373)]=_0x2258c5[_0xaa7b29(0x6c4)]((_0x2a1fce,_0xa96677)=>_0xaa7b29(0x79d)+String[_0xaa7b29(0x2e2)](0x41+_0xa96677)+'.\x20'+_0x2a1fce+_0xaa7b29(0x531))[_0xaa7b29(0x559)](''),_0x5a8c4b[_0xaa7b29(0x373)]=_0xaa7b29(0xa36),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x200c65['classList'][_0xaa7b29(0x42d)](_0xaa7b29(0x901)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0xaa7b29(0x31e)])MathJax['typesetPromise']([_0x313a8b,_0x130480]);}function initializeScratchpadCanvas(){const _0x46fb5d=_0x346886,_0x1e27c5=document[_0x46fb5d(0x68b)](_0x46fb5d(0x94d)),_0x5dccbc=document[_0x46fb5d(0x293)](_0x46fb5d(0x895));if(!_0x1e27c5||!_0x5dccbc)return;scratchpadCtx=_0x1e27c5[_0x46fb5d(0x639)]('2d',{'willReadFrequently':!![]});const _0x5d08cd=window['devicePixelRatio']||0x1,_0x1693e4=_0x5dccbc[_0x46fb5d(0x320)]();_0x1e27c5['width']=_0x1693e4[_0x46fb5d(0x2a0)]*_0x5d08cd,_0x1e27c5[_0x46fb5d(0x3de)]=_0x1693e4[_0x46fb5d(0x3de)]*_0x5d08cd,_0x1e27c5[_0x46fb5d(0x4bb)][_0x46fb5d(0x2a0)]=_0x1693e4[_0x46fb5d(0x2a0)]+'px',_0x1e27c5['style'][_0x46fb5d(0x3de)]=_0x1693e4[_0x46fb5d(0x3de)]+'px',scratchpadCtx[_0x46fb5d(0x209)](_0x5d08cd,_0x5d08cd),scratchpadCtx[_0x46fb5d(0x9d1)]=_0x46fb5d(0x743),scratchpadCtx[_0x46fb5d(0x749)]=_0x46fb5d(0x743),_0x1e27c5[_0x46fb5d(0x6e9)]('pointerdown',handlePointerDown),_0x1e27c5[_0x46fb5d(0x6e9)](_0x46fb5d(0x522),handlePointerMove),_0x1e27c5['removeEventListener']('pointerup',handlePointerUp),_0x1e27c5[_0x46fb5d(0x6e9)](_0x46fb5d(0x64c),handlePointerUp),_0x1e27c5[_0x46fb5d(0x6e9)](_0x46fb5d(0x7a3),handleWheel),_0x1e27c5[_0x46fb5d(0x6e9)](_0x46fb5d(0x8c6),handlePointerDown),_0x1e27c5['removeEventListener'](_0x46fb5d(0x456),handlePointerMove),_0x1e27c5[_0x46fb5d(0x6e9)](_0x46fb5d(0x281),handlePointerUp),_0x1e27c5[_0x46fb5d(0x35b)]('pointerdown',handlePointerDown),_0x1e27c5['addEventListener'](_0x46fb5d(0x522),handlePointerMove),_0x1e27c5[_0x46fb5d(0x35b)](_0x46fb5d(0x2d0),handlePointerUp),_0x1e27c5[_0x46fb5d(0x35b)]('pointercancel',handlePointerUp),_0x1e27c5[_0x46fb5d(0x35b)](_0x46fb5d(0x7a3),handleWheel,{'passive':![]}),_0x1e27c5[_0x46fb5d(0x35b)]('touchstart',handlePointerDown,{'passive':![]}),_0x1e27c5[_0x46fb5d(0x35b)]('touchmove',handlePointerMove,{'passive':![]}),_0x1e27c5[_0x46fb5d(0x35b)](_0x46fb5d(0x281),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x20e3e5=_0x346886,_0x2652d5=document[_0x20e3e5(0x68b)](_0x20e3e5(0x90e));document[_0x20e3e5(0x68b)]('scratchpad-close-btn')['addEventListener'](_0x20e3e5(0x8d8),()=>_0x2652d5[_0x20e3e5(0x8f4)][_0x20e3e5(0xa01)](_0x20e3e5(0x901))),document[_0x20e3e5(0x68b)](_0x20e3e5(0x88f))['addEventListener']('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x20e3e5(0x68b)](_0x20e3e5(0x9fa))[_0x20e3e5(0x35b)](_0x20e3e5(0x8d8),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x20e3e5(0x68b)]('undo-btn')[_0x20e3e5(0x35b)](_0x20e3e5(0x8d8),undo),document[_0x20e3e5(0x68b)]('redo-btn')[_0x20e3e5(0x35b)](_0x20e3e5(0x8d8),redo),document[_0x20e3e5(0x3df)]('.pen-size-btn')[_0x20e3e5(0x305)](_0x716102=>{const _0x462764=_0x20e3e5;_0x716102[_0x462764(0x35b)](_0x462764(0x8d8),()=>{const _0x137b6b=_0x462764;scratchpadPenSize=parseInt(_0x716102[_0x137b6b(0x898)][_0x137b6b(0x755)],0xa),document[_0x137b6b(0x3df)]('.pen-size-btn')[_0x137b6b(0x305)](_0xfccf47=>_0xfccf47[_0x137b6b(0x8f4)][_0x137b6b(0x42d)]('active')),_0x716102[_0x137b6b(0x8f4)][_0x137b6b(0xa01)]('active');});});const _0x242f96=document[_0x20e3e5(0x68b)](_0x20e3e5(0x53c)),_0x19c143=document[_0x20e3e5(0x68b)](_0x20e3e5(0xa51));_0x242f96[_0x20e3e5(0x35b)](_0x20e3e5(0x8d8),()=>{const _0x1bad74=_0x20e3e5;activeTool=_0x1bad74(0x1f2),_0x242f96[_0x1bad74(0x8f4)][_0x1bad74(0xa01)](_0x1bad74(0x299)),_0x19c143['classList'][_0x1bad74(0x42d)](_0x1bad74(0x299));}),_0x19c143[_0x20e3e5(0x35b)](_0x20e3e5(0x8d8),()=>{const _0x3b9ee8=_0x20e3e5;activeTool=_0x3b9ee8(0x280),_0x19c143[_0x3b9ee8(0x8f4)]['add'](_0x3b9ee8(0x299)),_0x242f96[_0x3b9ee8(0x8f4)][_0x3b9ee8(0x42d)]('active');}),document[_0x20e3e5(0x3df)](_0x20e3e5(0x469))[_0x20e3e5(0x305)](_0x962c14=>{const _0x17d5fa=_0x20e3e5;_0x962c14[_0x17d5fa(0x35b)]('click',()=>{const _0x7ec2c4=_0x17d5fa;scratchpadPenColor=_0x962c14['dataset']['color'],activeTool=_0x7ec2c4(0x1f2),_0x242f96[_0x7ec2c4(0x8f4)][_0x7ec2c4(0xa01)](_0x7ec2c4(0x299)),_0x19c143[_0x7ec2c4(0x8f4)][_0x7ec2c4(0x42d)](_0x7ec2c4(0x299)),document['querySelectorAll'](_0x7ec2c4(0x469))[_0x7ec2c4(0x305)](_0x1bcf47=>_0x1bcf47[_0x7ec2c4(0x8f4)][_0x7ec2c4(0x42d)]('active')),_0x962c14[_0x7ec2c4(0x8f4)]['add'](_0x7ec2c4(0x299));});}),document[_0x20e3e5(0x293)]('.pen-color-btn[data-color=\x22#000000\x22]')[_0x20e3e5(0x8f4)][_0x20e3e5(0xa01)](_0x20e3e5(0x299)),window[_0x20e3e5(0x35b)](_0x20e3e5(0x9cc),()=>{const _0x1d61d6=_0x20e3e5;!_0x2652d5[_0x1d61d6(0x8f4)][_0x1d61d6(0x825)](_0x1d61d6(0x901))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x346886(0x34f),'name':_0x346886(0x2a3),'description':_0x346886(0x713),'icon':_0x346886(0x8b8)},'QUICK_THINKER':{'id':_0x346886(0x3e2),'name':_0x346886(0xa2d),'description':_0x346886(0x5cc),'icon':_0x346886(0x481)},'ON_FIRE':{'id':_0x346886(0x4af),'name':'ท็อปฟอร์ม','description':_0x346886(0x7e2),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x346886(0x951),'name':'ผ่านฉลุย','description':_0x346886(0x739),'icon':_0x346886(0x9b3)},'COMEBACK_KING':{'id':_0x346886(0x928),'name':_0x346886(0x956),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x346886(0x3c6)},'SPECIALIST':{'id':_0x346886(0x936),'name':_0x346886(0x513),'description':_0x346886(0xa35),'icon':_0x346886(0x323)},'PERSEVERANCE':{'id':_0x346886(0x298),'name':'ผู้ไม่ยอมแพ้','description':_0x346886(0x574),'icon':_0x346886(0x695)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x346886(0x2dc),'projectId':_0x346886(0x628),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x346886(0xa00)},appId=typeof __app_id!==_0x346886(0x4ad)?__app_id:_0x346886(0x669),adminView=document[_0x346886(0x68b)](_0x346886(0x83f)),studentView=document[_0x346886(0x68b)](_0x346886(0x5d0)),projectDashboardView=document[_0x346886(0x68b)](_0x346886(0x89d)),projectDetailView=document[_0x346886(0x68b)](_0x346886(0x4cc)),quizResultsView=document[_0x346886(0x68b)](_0x346886(0x636)),projectList=document['getElementById'](_0x346886(0x4f5)),noProjectsMsg=document[_0x346886(0x68b)](_0x346886(0x4a3)),projectTitle=document[_0x346886(0x68b)](_0x346886(0x785)),projectIdDisplay=document[_0x346886(0x68b)]('project-id-display'),studentList=document['getElementById'](_0x346886(0x87c)),messageModal=document[_0x346886(0x68b)](_0x346886(0x565)),modalMessage=document[_0x346886(0x68b)](_0x346886(0x523)),createProjectModal=document[_0x346886(0x68b)](_0x346886(0x8d2)),adminPasswordModal=document[_0x346886(0x68b)](_0x346886(0x442)),confirmationModal=document[_0x346886(0x68b)](_0x346886(0x579)),userIdDisplay=document['getElementById'](_0x346886(0x863)),topicTab=document[_0x346886(0x68b)](_0x346886(0x69e)),textTab=document[_0x346886(0x68b)](_0x346886(0x223)),topicInputArea=document[_0x346886(0x68b)](_0x346886(0x364)),textInputArea=document[_0x346886(0x68b)](_0x346886(0x711)),manageTab=document[_0x346886(0x68b)](_0x346886(0x507)),resultsTab=document[_0x346886(0x68b)](_0x346886(0x8f1)),leaderboardTab=document[_0x346886(0x68b)](_0x346886(0x3c1)),manageTabContent=document[_0x346886(0x68b)](_0x346886(0x946)),resultsTabContent=document['getElementById'](_0x346886(0x7bd)),leaderboardTabContent=document[_0x346886(0x68b)](_0x346886(0x691)),projectQuizzesList=document[_0x346886(0x68b)](_0x346886(0x332)),fileTab=document[_0x346886(0x68b)](_0x346886(0x575)),fileInputArea=document[_0x346886(0x68b)](_0x346886(0x432)),fileUploadInput=document[_0x346886(0x68b)](_0x346886(0x246)),worksheetTab=document[_0x346886(0x68b)](_0x346886(0x97e)),worksheetInputArea=document[_0x346886(0x68b)](_0x346886(0x996)),generateWorksheetBtn=document[_0x346886(0x68b)](_0x346886(0x577)),studentInitialView=document[_0x346886(0x68b)](_0x346886(0x45c)),studentNameSelectionView=document[_0x346886(0x68b)](_0x346886(0x27d)),studentQuizArea=document[_0x346886(0x68b)](_0x346886(0x291)),studentResultArea=document[_0x346886(0x68b)](_0x346886(0x27c)),studentReadingArea=document[_0x346886(0x68b)](_0x346886(0x637)),loadQuizBtn=document[_0x346886(0x68b)]('load-quiz-btn'),startQuizBtn=document[_0x346886(0x68b)](_0x346886(0x762)),studentJoinGameView=document[_0x346886(0x68b)](_0x346886(0x801)),presentationModal=document[_0x346886(0x68b)](_0x346886(0x790)),renameQuizModal=document[_0x346886(0x68b)](_0x346886(0x927)),moveQuizModal=document['getElementById'](_0x346886(0x479)),quizSettingsModal=document[_0x346886(0x68b)](_0x346886(0x745)),quizStatusModal=document[_0x346886(0x68b)](_0x346886(0x74f)),liveGameView=document[_0x346886(0x68b)](_0x346886(0x9dd));function handleAutoFixLatex(){const _0x148e07=_0x346886,_0x2ff121=document['getElementById'](_0x148e07(0x45e))||document,_0x221310=_0x2ff121[_0x148e07(0x3df)]([_0x148e07(0x25e),_0x148e07(0x9c9),_0x148e07(0x709),_0x148e07(0x786),_0x148e07(0x954),_0x148e07(0x232),'.choice-text',_0x148e07(0x351),_0x148e07(0x986)][_0x148e07(0x559)](','));let _0x3092ee=0x0;const _0x249bd7=_0x40ed6f=>_0x148e07(0x967)in _0x40ed6f?String(_0x40ed6f[_0x148e07(0x967)]):_0x40ed6f[_0x148e07(0xa25)]!==undefined?_0x40ed6f[_0x148e07(0xa25)]:_0x40ed6f[_0x148e07(0x394)]||'',_0x1ff151=(_0x572919,_0xe2372f)=>{const _0x59604b=_0x148e07;if(_0x59604b(0x967)in _0x572919){_0x572919[_0x59604b(0x967)]=_0xe2372f;return;}if(_0x572919[_0x59604b(0x293)]&&_0x572919[_0x59604b(0x293)](_0x59604b(0x5bc)))return;if(_0x572919[_0x59604b(0xa25)]!==undefined)_0x572919[_0x59604b(0xa25)]=_0xe2372f;else _0x572919[_0x59604b(0x394)]=_0xe2372f;},_0x409d75=_0x4fe94f=>_0x4fe94f[_0x148e07(0x2e5)](/\u00A0/g,'\x20')[_0x148e07(0x2e5)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x8081c=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x139048=_0x3f8ae1=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x3f8ae1),_0x3da584=_0x46b379=>{const _0x5e4fc0=_0x148e07,_0x152ee4=(_0x46b379[_0x5e4fc0(0x3b0)](/\{/g)||[])[_0x5e4fc0(0x8cf)],_0x585d21=(_0x46b379[_0x5e4fc0(0x3b0)](/\}/g)||[])['length'];if(_0x152ee4>_0x585d21)_0x46b379=_0x46b379+'}'[_0x5e4fc0(0x78c)](_0x152ee4-_0x585d21);return _0x46b379;},_0x3f1bd2=_0x372395=>{const _0x1f1ea9=_0x148e07;let _0x3db01b=_0x372395[_0x1f1ea9(0x905)]();const _0xc106ed=[_0x1f1ea9(0x598),_0x1f1ea9(0x3e6),'tfrac','sqrt',_0x1f1ea9(0x581),'times',_0x1f1ea9(0x80e),'div',_0x1f1ea9(0x4c1),_0x1f1ea9(0x602),'le','ge',_0x1f1ea9(0x5f3),'pm',_0x1f1ea9(0x89b),_0x1f1ea9(0x9e2),_0x1f1ea9(0x353),'tan',_0x1f1ea9(0x326),'ln',_0x1f1ea9(0x4b1),_0x1f1ea9(0x58b),'binom',_0x1f1ea9(0x5b3),_0x1f1ea9(0x5f9),_0x1f1ea9(0x70a),_0x1f1ea9(0x28c),'circ',_0x1f1ea9(0x502)];_0x3db01b=_0x3db01b[_0x1f1ea9(0x2e5)](new RegExp(_0x1f1ea9(0x251)+_0xc106ed['join']('|')+_0x1f1ea9(0x4a6),'g'),'\x5c'),_0xc106ed[_0x1f1ea9(0x305)](_0x340f08=>{const _0x52c926=_0x1f1ea9;_0x3db01b=_0x3db01b[_0x52c926(0x2e5)](new RegExp(_0x52c926(0x73b)+_0x340f08+'\x5cb','g'),(_0x44504f,_0x586097)=>_0x586097+'\x5c'+_0x340f08);});const _0x2a2bcb=[[/×/g,'\x5ctimes'],[/·/g,_0x1f1ea9(0x699)],[/÷/g,_0x1f1ea9(0x1fc)],[/≤/g,_0x1f1ea9(0x6a2)],[/≥/g,'\x5cge'],[/≠/g,_0x1f1ea9(0x403)],[/±/g,_0x1f1ea9(0x5c1)],[/∑/g,_0x1f1ea9(0x2f0)],[/−/g,'-']];_0x2a2bcb[_0x1f1ea9(0x305)](([_0x4780c5,_0x282f03])=>{const _0x5bd9f7=_0x1f1ea9;_0x3db01b=_0x3db01b[_0x5bd9f7(0x2e5)](_0x4780c5,_0x282f03);}),_0x3db01b=_0x3db01b['replace'](/√\s*\(([^)]*)\)/g,_0x1f1ea9(0x4aa)),_0x3db01b=_0x3db01b[_0x1f1ea9(0x2e5)](/√\s*([A-Za-z0-9]+)/g,_0x1f1ea9(0x4aa)),_0x3db01b=_0x3db01b[_0x1f1ea9(0x2e5)](/(^|[^\\])\bimes\b/g,_0x1f1ea9(0x77c))[_0x1f1ea9(0x2e5)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x1f1ea9(0x61a))['replace'](/(^|[^\\])ext\{/g,_0x1f1ea9(0x881))[_0x1f1ea9(0x2e5)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x1f1ea9(0x2e5)](/\\text\(([^)]*)\)/g,_0x1f1ea9(0x97c))[_0x1f1ea9(0x2e5)](/\s\\frac/g,_0x1f1ea9(0x826)),_0x3db01b=_0x3db01b[_0x1f1ea9(0x2e5)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x1f4b17,_0x504329,_0x17d16d,_0x1e05de)=>_0x504329+_0x1f1ea9(0x9fe)+_0x17d16d+'}{'+_0x1e05de+'}'),_0x3db01b=_0x3db01b[_0x1f1ea9(0x2e5)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x1f1ea9(0x6f1))[_0x1f1ea9(0x2e5)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x1f1ea9(0x6f1))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x1f1ea9(0x77a)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x1f1ea9(0x77a)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x1f1ea9(0x77a)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x1f1ea9(0x77a)],[/(\d+)\s*°\s*C/g,_0x1f1ea9(0x77a)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x1f1ea9(0x840)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x1f1ea9(0x77a)]][_0x1f1ea9(0x305)](([_0xcd7bb1,_0xe451af])=>{const _0x2295cb=_0x1f1ea9;_0x3db01b=_0x3db01b[_0x2295cb(0x2e5)](_0xcd7bb1,_0xe451af);}),_0x3db01b=_0x3db01b['replace'](/(\d+)\s*%/g,'$1\x5c%'),_0x3db01b=_0x3db01b['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x1f1ea9(0xa0f))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x1f1ea9(0x2e5)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x1f1ea9(0x9e2),_0x1f1ea9(0x353),'tan',_0x1f1ea9(0x326),'ln'][_0x1f1ea9(0x305)](_0x508712=>{const _0x2198cf=_0x1f1ea9;_0x3db01b=_0x3db01b[_0x2198cf(0x2e5)](new RegExp(_0x2198cf(0x73b)+_0x508712+_0x2198cf(0x81f),'g'),(_0x4b29a0,_0x43c852)=>_0x43c852+'\x5c'+_0x508712+'(');});const _0x533bf0=(_0x3db01b[_0x1f1ea9(0x3b0)](/\\left\b/g)||[])[_0x1f1ea9(0x8cf)],_0x48d0a9=(_0x3db01b['match'](/\\right\b/g)||[])[_0x1f1ea9(0x8cf)];if(_0x533bf0!==_0x48d0a9)_0x3db01b=_0x3db01b[_0x1f1ea9(0x2e5)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x3db01b=_0x3da584(_0x3db01b),_0x3db01b;},_0x34ab96=_0x338fbd=>{const _0x3e36f0=_0x148e07;if(/\$|\\\(|\\\[/[_0x3e36f0(0x9de)](_0x338fbd))return _0x338fbd;if(!_0x8081c[_0x3e36f0(0x9de)](_0x338fbd))return _0x338fbd;const _0x39a14b=_0x338fbd['match'](/^\s*/)[0x0],_0x2494a8=_0x338fbd[_0x3e36f0(0x3b0)](/\s*$/)[0x0],_0x358667=_0x338fbd[_0x3e36f0(0x905)]();return _0x39a14b+'$'+_0x3f1bd2(_0x358667)+'$'+_0x2494a8;},_0x297f6=_0x9e0078=>_0x9e0078[_0x148e07(0x24f)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x221310[_0x148e07(0x305)](_0x3c7fa9=>{const _0x185a16=_0x148e07;if(_0x3c7fa9['querySelector']&&_0x3c7fa9[_0x185a16(0x293)](_0x185a16(0x5bc)))return;const _0x522659=_0x249bd7(_0x3c7fa9);let _0x276b43=_0x409d75(_0x522659);_0x276b43=_0x276b43[_0x185a16(0x2e5)](/\$\$([\s\S]*?)\$\$/g,(_0x31d17c,_0x469d58)=>'$$'+_0x3f1bd2(_0x469d58)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x1f2f8e,_0x5f0a86)=>'$'+_0x3f1bd2(_0x5f0a86)+'$')[_0x185a16(0x2e5)](/\\\(([\s\S]*?)\\\)/g,(_0x523ad1,_0x419a35)=>'\x5c('+_0x3f1bd2(_0x419a35)+'\x5c)')[_0x185a16(0x2e5)](/\\\[([\s\S]*?)\\\]/g,(_0x5c5bb7,_0x46459e)=>'\x5c['+_0x3f1bd2(_0x46459e)+'\x5c]');let _0x492779=_0x276b43,_0x28277c=0x0;const _0x53944f=_0x5768b4=>_0x5768b4['replace'](/S([^S]{0,2000}?)S/g,(_0x5efe2d,_0x2b056f)=>_0x8081c[_0x185a16(0x9de)](_0x2b056f)?'$'+_0x3f1bd2(_0x2b056f)+'$':_0x5efe2d);while(_0x28277c++<0x14){const _0x2a7cfd=_0x53944f(_0x492779);if(_0x2a7cfd===_0x492779)break;_0x492779=_0x2a7cfd;}_0x276b43=_0x492779,_0x276b43=_0x276b43[_0x185a16(0x24f)]('\x0a')[_0x185a16(0x6c4)](_0x53be69=>{const _0x2d0586=_0x185a16;if(!(/[,\u3001，;；]/[_0x2d0586(0x9de)](_0x53be69)||/\s(?:และ|หรือ)\s/[_0x2d0586(0x9de)](_0x53be69))||!_0x8081c[_0x2d0586(0x9de)](_0x53be69))return _0x53be69;return _0x297f6(_0x53be69)['map'](_0x548d0c=>{const _0x5ce2a0=_0x2d0586;if(/^\s(?:และ|หรือ)\s$/[_0x5ce2a0(0x9de)](_0x548d0c)||/^[,\u3001，;；]$/[_0x5ce2a0(0x9de)](_0x548d0c))return _0x548d0c;return _0x34ab96(_0x548d0c);})[_0x2d0586(0x559)]('');})['join']('\x0a'),_0x276b43=_0x276b43[_0x185a16(0x24f)]('\x0a')[_0x185a16(0x6c4)](_0x4cea5e=>{const _0x44d3e2=_0x185a16,_0x148d60=_0x4cea5e[_0x44d3e2(0x905)]();if(!_0x148d60)return _0x4cea5e;const _0x49d4cd=/\$|\\\(|\\\[/[_0x44d3e2(0x9de)](_0x148d60),_0x321a55=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x44d3e2(0x9de)](_0x148d60);if(_0x49d4cd||!_0x321a55||_0x139048(_0x148d60))return _0x4cea5e;return _0x4cea5e[_0x44d3e2(0x2e5)](_0x148d60,'$'+_0x3f1bd2(_0x148d60)+'$');})[_0x185a16(0x559)]('\x0a'),_0x276b43=_0x276b43[_0x185a16(0x2e5)](/(\d+)\s*°\s*C\b/g,(_0x4bd713,_0x359554,_0xf4aea8,_0x558fc6)=>{const _0xe5cc95=_0x558fc6[_0xf4aea8-0x1];if(_0xe5cc95==='$'||_0xe5cc95==='S'||_0xe5cc95==='\x5c')return _0x4bd713;return'$'+_0x359554+'^{\x5ccirc}\x5ctext{C}$';})[_0x185a16(0x2e5)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0xe4aa65,_0x4f5f15,_0x251a0f,_0x5d4100)=>{const _0xe68551=_0x185a16,_0x4b391c=_0x5d4100[_0x251a0f-0x1];if(_0x4b391c==='$'||_0x4b391c==='S'||_0x4b391c==='\x5c')return _0xe4aa65;return'$'+_0x4f5f15+_0xe68551(0x1fe);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x2c2114,_0x200ae0,_0xc64b33,_0x333bce)=>{const _0x35dcac=_0x333bce[_0xc64b33-0x1];if(_0x35dcac==='$'||_0x35dcac==='S'||_0x35dcac==='\x5c')return _0x2c2114;return'$'+_0x200ae0+'^{\x5ccirc}\x5ctext{C}$';}),_0x276b43=_0x276b43[_0x185a16(0x2e5)](/\$\s*\$/g,'$$'),_0x276b43!==_0x522659&&(_0x1ff151(_0x3c7fa9,_0x276b43),_0x3092ee++);});if(_0x3092ee>0x0){showMessage(_0x148e07(0x380)+_0x3092ee+'\x20ช่อง');try{if(window[_0x148e07(0x31e)]&&MathJax['typesetPromise'])MathJax[_0x148e07(0x3f5)]();window[_0x148e07(0x590)]&&typeof renderMathInElement===_0x148e07(0xa0b)&&renderMathInElement(_0x2ff121,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x46fa8c){}}else showMessage(_0x148e07(0x267));}async function listenForCustomMathTopics(){const _0x16c735=_0x346886,_0x4d0f88=collection(db,_0x16c735(0x9d8)+appId+_0x16c735(0x8be));onSnapshot(_0x4d0f88,_0x3b4964=>{const _0x53711e=_0x16c735;customMathTopics=_0x3b4964['docs'][_0x53711e(0x6c4)](_0x2ff83a=>({'id':_0x2ff83a['id'],..._0x2ff83a['data']()})),renderTopicCheckboxes();},_0x5ba477=>{const _0x1271a9=_0x16c735;console[_0x1271a9(0x6f2)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x5ba477);});}function handleSelectAllTopics(){const _0xadc28e=_0x346886,_0x48328c=document[_0xadc28e(0x68b)](_0xadc28e(0x371)),_0x138e68=_0x48328c[_0xadc28e(0x3df)]('input[type=\x22checkbox\x22]');_0x138e68[_0xadc28e(0x305)](_0x509b6d=>{const _0x155254=_0xadc28e;_0x509b6d[_0x155254(0x89c)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xa6baaf=_0x346886,_0x3cbae3=document[_0xa6baaf(0x68b)](_0xa6baaf(0x371)),_0x577b3e=_0x3cbae3['querySelectorAll']('input[type=\x22checkbox\x22]');_0x577b3e[_0xa6baaf(0x305)](_0x4aff1a=>{_0x4aff1a['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3d5ec2){const _0x1795b8=_0x346886;if(!_0x3d5ec2)return;try{const _0x53be47=doc(db,_0x1795b8(0x9d8)+appId+_0x1795b8(0x8be),_0x3d5ec2);await deleteDoc(_0x53be47),showMessage(_0x1795b8(0x960));}catch(_0x1d1ed){console[_0x1795b8(0x6f2)](_0x1795b8(0x837),_0x1d1ed),showMessage(_0x1795b8(0x71b));}}async function handleAddCustomMathTopic(){const _0x411793=_0x346886,_0x239307=document[_0x411793(0x68b)](_0x411793(0xa4c)),_0x443d58=_0x239307['value'][_0x411793(0x905)]();if(!_0x443d58){showMessage(_0x411793(0x730));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x5995f3=collection(db,_0x411793(0x9d8)+appId+_0x411793(0x8be));await addDoc(_0x5995f3,{'name':_0x443d58,'createdAt':serverTimestamp()}),_0x239307['value']='',showMessage(_0x411793(0x221)+_0x443d58+'\x22\x20สำเร็จ');}catch(_0x3fb918){console[_0x411793(0x6f2)](_0x411793(0x8e5),_0x3fb918),showMessage(_0x411793(0x5ac));}}async function handleUpdateOldQuizzes(){const _0x277bee=_0x346886;showConfirmation(_0x277bee(0x9c4),async()=>{const _0x22355b=_0x277bee,_0x6a7e34=document['getElementById'](_0x22355b(0x72e)),_0x20c9b2=document['getElementById']('loader-text'),_0x427ff5=_0x20c9b2[_0x22355b(0x394)];_0x6a7e34[_0x22355b(0x8f4)][_0x22355b(0x42d)](_0x22355b(0x901)),_0x20c9b2[_0x22355b(0x394)]=_0x22355b(0x67b);try{const _0x21d351=collection(db,_0x22355b(0x9d8)+appId+_0x22355b(0x3a7)),_0xda320f=await getDocs(_0x21d351);if(_0xda320f[_0x22355b(0x5b2)]){showMessage(_0x22355b(0x4cf));return;}const _0x50aa61=writeBatch(db);let _0xf1c705=0x0;_0xda320f[_0x22355b(0x305)](_0x12728b=>{const _0x16bda5=_0x22355b,_0x5ecbb7=_0x12728b['data'](),_0xd1332c=_0x12728b['id'];if(_0x5ecbb7[_0x16bda5(0xa18)]&&_0x5ecbb7[_0x16bda5(0xa18)][_0x16bda5(0x8cf)]>0x0&&!_0x5ecbb7[_0x16bda5(0xa18)][0x0][_0x16bda5(0x73e)]('id')){console[_0x16bda5(0x326)](_0x16bda5(0x99c)+_0xd1332c+'\x20('+_0x5ecbb7[_0x16bda5(0x9e3)]+')'),_0xf1c705++;const _0x5b087a=_0x5ecbb7[_0x16bda5(0xa18)][_0x16bda5(0x6c4)]((_0x19f007,_0x46c8a2)=>{const _0x309cdb=_0x16bda5;return{..._0x19f007,'id':_0x19f007['id']||'q_'+Date[_0x309cdb(0x609)]()+'_'+_0xd1332c+'_'+_0x46c8a2};}),_0x5854f8=doc(db,_0x16bda5(0x9d8)+appId+_0x16bda5(0x3a7),_0xd1332c);_0x50aa61[_0x16bda5(0x402)](_0x5854f8,{'questions':_0x5b087a});}}),_0xf1c705>0x0?(_0x20c9b2[_0x22355b(0x394)]=_0x22355b(0x3cf)+_0xf1c705+_0x22355b(0x7b9),await _0x50aa61[_0x22355b(0x918)](),showMessage(_0x22355b(0x710)+_0xf1c705+_0x22355b(0x8dd))):showMessage(_0x22355b(0x994));}catch(_0xf58944){console['error'](_0x22355b(0x2f8),_0xf58944),showMessage(_0x22355b(0x75d)+_0xf58944[_0x22355b(0x6ff)]);}finally{_0x6a7e34['classList'][_0x22355b(0xa01)](_0x22355b(0x901)),_0x20c9b2[_0x22355b(0x394)]=_0x427ff5;}});}async function handleBulkUpdateQuizSettings(){const _0x5ecb34=_0x346886,_0x47033e={'shuffle':document[_0x5ecb34(0x68b)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x5ecb34(0x68b)](_0x5ecb34(0x29f))[_0x5ecb34(0x967)],'loopUntilPass':document[_0x5ecb34(0x68b)](_0x5ecb34(0x3c5))[_0x5ecb34(0x89c)]},_0x4d427b=allQuizzesGlobal['length'];showConfirmation(_0x5ecb34(0x622)+_0x4d427b+_0x5ecb34(0x841),async()=>{const _0x4d2469=_0x5ecb34,_0x5ee547=document[_0x4d2469(0x68b)]('confirm-bulk-quiz-settings-btn');_0x5ee547[_0x4d2469(0x438)]=!![],_0x5ee547['innerHTML']=_0x4d2469(0x99e);try{const _0x328a0f=writeBatch(db);allQuizzesGlobal[_0x4d2469(0x305)](_0x5993e0=>{const _0x552741=_0x4d2469,_0x13628d=doc(db,_0x552741(0x9d8)+appId+_0x552741(0x3a7),_0x5993e0['id']),_0x2c2a0a={..._0x5993e0['settings']||{},..._0x47033e};_0x328a0f[_0x552741(0x402)](_0x13628d,{'settings':_0x2c2a0a});}),await _0x328a0f[_0x4d2469(0x918)](),document[_0x4d2469(0x68b)]('bulk-quiz-settings-modal')[_0x4d2469(0x8f4)][_0x4d2469(0xa01)](_0x4d2469(0x901)),showMessage(_0x4d2469(0x1f6)+_0x4d427b+_0x4d2469(0x846));}catch(_0x1bb5d5){console[_0x4d2469(0x6f2)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update:',_0x1bb5d5),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x5ee547[_0x4d2469(0x438)]=![],_0x5ee547[_0x4d2469(0x373)]=_0x4d2469(0x53a);}});}async function handleSaveProjectName(){const _0x531072=_0x346886,_0xad3b65=document[_0x531072(0x68b)](_0x531072(0x785)),_0x13aae7=document['getElementById'](_0x531072(0x435)),_0x11d6a5=_0xad3b65['textContent'][_0x531072(0x905)]();if(!_0x11d6a5||!currentProjectId){showMessage(_0x531072(0xa1f)),_0xad3b65[_0x531072(0x394)]=currentProjectData[_0x531072(0x985)];return;}_0x13aae7[_0x531072(0x438)]=!![],_0x13aae7['innerHTML']=_0x531072(0x350);try{const _0x5dbbef=doc(db,'artifacts/'+appId+_0x531072(0x24d),currentProjectId);await updateDoc(_0x5dbbef,{'projectName':_0x11d6a5}),currentProjectData&&(currentProjectData[_0x531072(0x985)]=_0x11d6a5),showMessage(_0x531072(0x83d));}catch(_0x3c174c){console['error'](_0x531072(0x937),_0x3c174c),showMessage(_0x531072(0x74d)),_0xad3b65[_0x531072(0x394)]=currentProjectData[_0x531072(0x985)];}finally{_0x13aae7[_0x531072(0x8f4)][_0x531072(0xa01)](_0x531072(0x901)),_0x13aae7[_0x531072(0x438)]=![],_0x13aae7[_0x531072(0x373)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x30932e=_0x346886;try{const _0x4e8dc7=initializeApp(firebaseConfig);db=getFirestore(_0x4e8dc7),auth=getAuth(_0x4e8dc7),setupAuthListener(),setupEventListeners(),showView(_0x30932e(0x632)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x3b2dbb){console[_0x30932e(0x6f2)](_0x30932e(0x3b4),_0x3b2dbb),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x4b1af2=_0x346886,_0x392b87=document[_0x4b1af2(0x68b)](_0x4b1af2(0x8ec));if(!_0x392b87)return;const _0x42ce04=document[_0x4b1af2(0x68b)](_0x4b1af2(0x3f1));_0x42ce04[_0x4b1af2(0x438)]=!![],_0x42ce04['innerHTML']=_0x4b1af2(0x86d);try{const _0x4336fe=_0x392b87[_0x4b1af2(0x3df)](_0x4b1af2(0x2b9)),_0x14e329=Array[_0x4b1af2(0x48c)](_0x4336fe)[_0x4b1af2(0x6c4)]((_0x20c9a8,_0x571325)=>{const _0x3d0e2b=_0x4b1af2,_0x31b6eb=_0x20c9a8['dataset'][_0x3d0e2b(0x3f7)],_0x3462b0=_0x20c9a8[_0x3d0e2b(0x293)]('textarea')[_0x3d0e2b(0x967)];let _0x59d974=null,_0x12d1b1='';switch(_0x31b6eb){case'multiple_choice':const _0x36fed3=_0x20c9a8[_0x3d0e2b(0x3df)](_0x3d0e2b(0x9c9));_0x59d974=Array[_0x3d0e2b(0x48c)](_0x36fed3)['map'](_0x3a90d9=>_0x3a90d9['value']);const _0x58da44=_0x20c9a8[_0x3d0e2b(0x293)](_0x3d0e2b(0x33c));_0x58da44&&(_0x12d1b1=_0x59d974[parseInt(_0x58da44[_0x3d0e2b(0x967)])]);break;case _0x3d0e2b(0x38f):_0x12d1b1=_0x20c9a8[_0x3d0e2b(0x293)](_0x3d0e2b(0x934))['value'];break;case _0x3d0e2b(0x74e):const _0x351eb7=_0x20c9a8[_0x3d0e2b(0x293)](_0x3d0e2b(0x33c));_0x12d1b1=_0x351eb7?_0x351eb7[_0x3d0e2b(0x967)]:'';break;case'matching_item':_0x12d1b1=_0x20c9a8[_0x3d0e2b(0x293)](_0x3d0e2b(0x65b))['value'];break;}return{'question':_0x3462b0,'options':_0x59d974,'proposedAnswer':_0x12d1b1};}),_0x5391af=_0x4b1af2(0x97b)+JSON[_0x4b1af2(0x2cf)](_0x14e329)+_0x4b1af2(0x6e7),_0x474776={'type':_0x4b1af2(0x813),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x4b1af2(0x466)},'isCorrect':{'type':_0x4b1af2(0x7dd)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x4b1af2(0x9d7)}},'required':[_0x4b1af2(0x4a8),_0x4b1af2(0x5d2),_0x4b1af2(0x789)]}},_0xccc7d2=await callAnalysisApi(_0x5391af,{'type':_0x4b1af2(0x206),'properties':{'result':_0x474776},'required':['result']});displayVerificationResultsInEditor(_0xccc7d2[_0x4b1af2(0x65f)]);}catch(_0x25fd3f){console[_0x4b1af2(0x6f2)](_0x4b1af2(0x54e),_0x25fd3f),showMessage(_0x4b1af2(0x6b8));}finally{_0x42ce04[_0x4b1af2(0x438)]=![],_0x42ce04['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x47ae8c){const _0x16be19=_0x346886;_0x47ae8c['forEach'](_0x2d97ed=>{const _0x8f826=_0x2b13,_0x2d6755=document[_0x8f826(0x293)](_0x8f826(0x81d)+_0x2d97ed[_0x8f826(0x4a8)]+'\x22]');if(!_0x2d6755)return;const _0x295659=_0x2d6755[_0x8f826(0x293)](_0x8f826(0x53d));if(_0x295659)_0x295659[_0x8f826(0x42d)]();let _0x756bf0='';if(_0x2d97ed[_0x8f826(0x5d2)])_0x756bf0=_0x8f826(0x338);else{const _0x1c98de=_0x2d97ed[_0x8f826(0x236)]?_0x8f826(0xa02):'';_0x756bf0=_0x8f826(0x51c)+_0x1c98de+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x2d97ed['justification']+_0x8f826(0x9ab)+(_0x2d97ed[_0x8f826(0x236)]?_0x8f826(0x215)+_0x2d97ed[_0x8f826(0x236)]+_0x8f826(0x96b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x2d6755[_0x8f826(0x395)](_0x8f826(0x744),_0x756bf0);if(!_0x2d97ed[_0x8f826(0x5d2)]&&_0x2d97ed[_0x8f826(0x236)]){const _0x2aa349=_0x2d6755[_0x8f826(0x898)][_0x8f826(0x3f7)],_0x593916=_0x40a28d=>{const _0x4564c7=_0x8f826;if(!_0x40a28d)return;_0x40a28d[_0x4564c7(0x8f4)][_0x4564c7(0xa01)](_0x4564c7(0x2ef),_0x4564c7(0x94c),'duration-300'),setTimeout(()=>{const _0x44aaf0=_0x4564c7;_0x40a28d[_0x44aaf0(0x8f4)][_0x44aaf0(0x42d)]('bg-green-200');},0x9c4);};if(_0x2aa349==='multiple_choice'){const _0x560ab4=Array[_0x8f826(0x48c)](_0x2d6755['querySelectorAll'](_0x8f826(0x9c9))),_0x1a43fd=_0x560ab4[_0x8f826(0x5c7)](_0x33090a=>_0x33090a[_0x8f826(0x967)][_0x8f826(0x905)]()[_0x8f826(0x4c2)]()===_0x2d97ed['suggestedAnswer']['trim']()[_0x8f826(0x4c2)]());if(_0x1a43fd!==-0x1){const _0x100350=_0x2d6755[_0x8f826(0x293)](_0x8f826(0x6ce)+_0x1a43fd+'\x22]');_0x100350&&(_0x100350[_0x8f826(0x89c)]=!![],_0x593916(_0x100350[_0x8f826(0x8b2)](_0x8f826(0xa2f))));}}else{if(_0x2aa349===_0x8f826(0x38f)||_0x2aa349===_0x8f826(0x5a4)){const _0x53c5e3=_0x2d6755[_0x8f826(0x293)](_0x8f826(0x6bf));_0x53c5e3&&(_0x53c5e3[_0x8f826(0x967)]=_0x2d97ed[_0x8f826(0x236)],_0x593916(_0x53c5e3));}else{if(_0x2aa349==='true_false'){const _0x38f2d2=_0x2d97ed['suggestedAnswer'][_0x8f826(0x905)]()[_0x8f826(0x4c2)](),_0xb2cbaf=_0x2d6755[_0x8f826(0x293)](_0x8f826(0x6ce)+_0x38f2d2+'\x22]');_0xb2cbaf&&(_0xb2cbaf[_0x8f826(0x89c)]=!![],_0x593916(_0xb2cbaf['closest'](_0x8f826(0xa2f))));}}}}}),showMessage(_0x16be19(0x619));}async function handleVerifyAnswers(){const _0x5cf8e2=_0x346886;if(!currentQuizData||!currentQuizData[_0x5cf8e2(0xa18)]){showMessage(_0x5cf8e2(0x29e));return;}const _0x1a6ebb=document[_0x5cf8e2(0x68b)]('verify-answers-btn');_0x1a6ebb[_0x5cf8e2(0x438)]=!![],_0x1a6ebb['innerHTML']=_0x5cf8e2(0x86d);try{const _0x3f4799=currentQuizData[_0x5cf8e2(0xa18)][_0x5cf8e2(0x6c4)]((_0x16f962,_0x466c8b)=>{const _0x5b00b0=_0x5cf8e2;let _0x3fb0b4='';const _0x4aa0af=_0x16f962[_0x5b00b0(0x296)]||currentQuizData[_0x5b00b0(0x3fa)];switch(_0x4aa0af){case _0x5b00b0(0x586):_0x3fb0b4=_0x16f962[_0x5b00b0(0x77f)][_0x16f962[_0x5b00b0(0x60a)]];break;case _0x5b00b0(0x38f):_0x3fb0b4=_0x16f962[_0x5b00b0(0x2a2)];break;case'true_false':_0x3fb0b4=_0x16f962['correctAnswer'][_0x5b00b0(0x9b1)]();break;case _0x5b00b0(0x5a4):_0x3fb0b4=_0x16f962[_0x5b00b0(0x463)];break;}return{'question':_0x16f962[_0x5b00b0(0x3db)]||_0x16f962[_0x5b00b0(0x85d)],'options':_0x16f962['options']||null,'proposedAnswer':_0x3fb0b4};}),_0x285bd9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x5cf8e2(0x2cf)](_0x3f4799)+_0x5cf8e2(0x46b),_0x59a8ba={'type':_0x5cf8e2(0x813),'items':{'type':_0x5cf8e2(0x206),'properties':{'questionIndex':{'type':_0x5cf8e2(0x466)},'isCorrect':{'type':_0x5cf8e2(0x7dd)},'justification':{'type':_0x5cf8e2(0x9d7)},'suggestedAnswer':{'type':_0x5cf8e2(0x9d7)}},'required':['questionIndex',_0x5cf8e2(0x5d2),_0x5cf8e2(0x789)]}},_0x844e1b=await callAnalysisApi(_0x285bd9,{'type':_0x5cf8e2(0x206),'properties':{'result':_0x59a8ba},'required':[_0x5cf8e2(0x65f)]});displayVerificationResults(_0x844e1b[_0x5cf8e2(0x65f)]);}catch(_0x21f69b){console[_0x5cf8e2(0x6f2)](_0x5cf8e2(0x7b7),_0x21f69b),showMessage(_0x5cf8e2(0x6b8));}finally{_0x1a6ebb[_0x5cf8e2(0x438)]=![],_0x1a6ebb[_0x5cf8e2(0x373)]=_0x5cf8e2(0x25c);}}function displayVerificationResults(_0x3451af){const _0x1a125c=_0x346886;_0x3451af[_0x1a125c(0x305)](_0x26ea2a=>{const _0xbc50af=_0x1a125c,_0x133e92=document['querySelector'](_0xbc50af(0xa1b)+_0x26ea2a[_0xbc50af(0x4a8)]+'\x22]');if(_0x133e92){const _0x5ec336=_0x133e92[_0xbc50af(0x293)](_0xbc50af(0x77b));if(_0x5ec336)_0x5ec336[_0xbc50af(0x42d)]();let _0x9f61dd='';_0x26ea2a[_0xbc50af(0x5d2)]?_0x9f61dd=_0xbc50af(0x796):_0x9f61dd=_0xbc50af(0x893)+_0x26ea2a[_0xbc50af(0x789)]+_0xbc50af(0x52c)+(_0x26ea2a[_0xbc50af(0x236)]?_0xbc50af(0x215)+_0x26ea2a[_0xbc50af(0x236)]+_0xbc50af(0x96b):'')+_0xbc50af(0x514),_0x133e92[_0xbc50af(0x395)](_0xbc50af(0x744),_0x9f61dd);}}),showMessage(_0x1a125c(0x619));}function compareNumericalAnswers(_0x35f337,_0x1ee65f){const _0x3cb39b=_0x346886,_0x338b70=String(_0x35f337)[_0x3cb39b(0x2e5)](',','.')[_0x3cb39b(0x2e5)](/[^\d.-]/g,'')['trim'](),_0x241446=String(_0x1ee65f)[_0x3cb39b(0x2e5)](',','.')[_0x3cb39b(0x2e5)](/[^\d.-]/g,'')[_0x3cb39b(0x905)]();if(_0x338b70===''||_0x241446==='')return![];const _0x3b25ad=parseFloat(_0x338b70),_0x2e0a8d=parseFloat(_0x241446);if(isNaN(_0x3b25ad)||isNaN(_0x2e0a8d))return![];return Math[_0x3cb39b(0x679)](_0x3b25ad-_0x2e0a8d)<0.001;}async function gradeShortAnswer(_0x2ef530,_0x2f1f16){const _0x3d0995=_0x346886,_0x118087=_0x2f1f16['idealAnswer'];if(String(_0x2ef530)[_0x3d0995(0x905)]()[_0x3d0995(0x4c2)]()===String(_0x118087)[_0x3d0995(0x905)]()[_0x3d0995(0x4c2)]())return!![];if(compareNumericalAnswers(_0x2ef530,_0x118087))return!![];return console[_0x3d0995(0x326)](_0x3d0995(0x6dd)),await gradeShortAnswerWithAI(_0x2ef530,_0x118087);}async function revealAnswerForAdmin(_0x5220e9,_0x581d5a){const _0x40ad41=_0x346886,_0x11dfa1=doc(db,_0x40ad41(0x9d8)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x11dfa1,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x224915){const _0x1cb3d1=_0x346886,_0x462038=Object[_0x1cb3d1(0x1f0)](_0x224915[_0x1cb3d1(0x49e)]||{})[_0x1cb3d1(0x7cb)](_0x36654c=>_0x36654c[_0x1cb3d1(0x719)]===_0x1cb3d1(0x299));_0x462038[_0x1cb3d1(0x787)]((_0x31469e,_0xe871ec)=>_0xe871ec[_0x1cb3d1(0x4e5)]-_0x31469e[_0x1cb3d1(0x4e5)]);const _0x516b5d=_0x462038[_0x1cb3d1(0x27a)](0x0,0x5),_0xb60b2a=_0x1cb3d1(0x8e7)+_0x516b5d[_0x1cb3d1(0x6c4)]((_0x27ae86,_0x1307b5)=>_0x1cb3d1(0x85c)+(_0x1307b5+0x1)+'.\x20'+(_0x27ae86[_0x1cb3d1(0x54b)]||Object[_0x1cb3d1(0x729)](_0x224915[_0x1cb3d1(0x49e)])[_0x1cb3d1(0x94f)](_0x4149cc=>_0x224915[_0x1cb3d1(0x49e)][_0x4149cc]===_0x27ae86))+_0x1cb3d1(0x56a)+_0x27ae86[_0x1cb3d1(0x4e5)]+_0x1cb3d1(0x308))['join']('')+_0x1cb3d1(0x8d5)+(_0x224915[_0x1cb3d1(0x59d)]+0x1===currentQuizData['questions'][_0x1cb3d1(0x8cf)]?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x1cb3d1(0x8c3);liveGameView[_0x1cb3d1(0x373)]=_0xb60b2a,document[_0x1cb3d1(0x68b)]('goto-next-question-btn')['addEventListener'](_0x1cb3d1(0x8d8),async()=>{const _0x1b7b43=_0x1cb3d1,_0x33fb2f=doc(db,_0x1b7b43(0x9d8)+appId+_0x1b7b43(0x776),currentLiveGameId),_0x11646e=_0x224915[_0x1b7b43(0x59d)]+0x1;if(_0x11646e<currentQuizData[_0x1b7b43(0xa18)][_0x1b7b43(0x8cf)]){const _0x4d6a0b={'currentQuestionIndex':_0x11646e,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x1b7b43(0x729)](_0x224915[_0x1b7b43(0x49e)])['forEach'](_0x8f3a6c=>{const _0x40f601=_0x1b7b43;_0x4d6a0b[_0x40f601(0x400)+_0x8f3a6c+_0x40f601(0x85e)]=![];}),await updateDoc(_0x33fb2f,_0x4d6a0b);}else await updateDoc(_0x33fb2f,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1278a9=>{const _0x2e402b=_0x2b13;if(_0x1278a9){userId=_0x1278a9[_0x2e402b(0x84a)],userIdDisplay[_0x2e402b(0x394)]=userId;const _0x2bb9c6=await loadUserPreferences();_0x2bb9c6['projectSortOrder']&&(document[_0x2e402b(0x68b)](_0x2e402b(0x5e4))['value']=_0x2bb9c6['projectSortOrder']);globalDashboardSettings[_0x2e402b(0x48b)]=_0x2bb9c6[_0x2e402b(0x48b)]||_0x2e402b(0x515);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x52c2ea,_0x483944){const _0x58aec0=_0x346886;if(!userId)return;try{const _0x2728f5=doc(db,_0x58aec0(0x9d8)+appId+_0x58aec0(0x318)+userId+_0x58aec0(0x377)),_0x218ec9={};_0x218ec9[_0x52c2ea]=_0x483944,await setDoc(_0x2728f5,_0x218ec9,{'merge':!![]});}catch(_0x18dfbe){console[_0x58aec0(0x6f2)](_0x58aec0(0x406),_0x18dfbe);}}async function loadUserPreferences(){const _0x680595=_0x346886;if(!userId)return{};try{const _0x3838f3=doc(db,_0x680595(0x9d8)+appId+'/users/'+userId+_0x680595(0x377)),_0x4d78fe=await getDoc(_0x3838f3);if(_0x4d78fe[_0x680595(0x824)]())return _0x4d78fe[_0x680595(0x3c0)]();return{};}catch(_0x4d6512){return console[_0x680595(0x6f2)](_0x680595(0x50d),_0x4d6512),{};}}function showPodiumView(_0x2d102a){const _0x7410fc=_0x346886,_0x4981a1=Object[_0x7410fc(0x3c4)](_0x2d102a)[_0x7410fc(0x6c4)](([_0x39ddba,_0x25f3f2])=>({'name':_0x39ddba,'score':_0x25f3f2[_0x7410fc(0x4e5)]||0x0,'badges':_0x25f3f2[_0x7410fc(0x433)]||[]}));_0x4981a1[_0x7410fc(0x787)]((_0x2f1b3f,_0x39b16c)=>{const _0x5df09d=_0x7410fc,_0x5151fb=_0x39b16c[_0x5df09d(0x4e5)]-_0x2f1b3f['score'];if(_0x5151fb!==0x0)return _0x5151fb;return(_0x39b16c['badges'][_0x5df09d(0x8cf)]||0x0)-(_0x2f1b3f[_0x5df09d(0x433)][_0x5df09d(0x8cf)]||0x0);});const _0xe31d88=_0x2d14e4=>{const _0x371e40=_0x7410fc;if(!_0x2d14e4||_0x2d14e4[_0x371e40(0x8cf)]===0x0)return'';const _0x5efc48={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x371e40(0x855)+_0x2d14e4['map'](_0x2c0d81=>_0x5efc48[_0x2c0d81]||'')['join']('')+_0x371e40(0x531);},_0x263a06=_0x4981a1['slice'](0x3),_0x3d0325=_0x263a06['length']>0x0?_0x7410fc(0x594)+_0x263a06[_0x7410fc(0x6c4)]((_0x229c47,_0x443c0c)=>_0x7410fc(0x65a)+(_0x443c0c+0x4)+_0x7410fc(0x8f9)+_0x229c47['name']+_0x7410fc(0x4b9)+_0x229c47['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x7410fc(0x559)]('')+_0x7410fc(0x913):'',_0x4d3968='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4981a1[0x1]?_0x7410fc(0x405)+_0x4981a1[0x1][_0x7410fc(0x54b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe31d88(_0x4981a1[0x1]['badges'])+_0x7410fc(0x573)+_0x4981a1[0x1][_0x7410fc(0x4e5)]+_0x7410fc(0x4ee):_0x7410fc(0x92e))+_0x7410fc(0x7ba)+(_0x4981a1[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x4981a1[0x0][_0x7410fc(0x54b)]+_0x7410fc(0x9ab)+_0xe31d88(_0x4981a1[0x0][_0x7410fc(0x433)])+_0x7410fc(0x530)+_0x4981a1[0x0][_0x7410fc(0x4e5)]+_0x7410fc(0x2a1):_0x7410fc(0x92e))+_0x7410fc(0x7ba)+(_0x4981a1[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4981a1[0x2][_0x7410fc(0x54b)]+_0x7410fc(0x9ab)+_0xe31d88(_0x4981a1[0x2][_0x7410fc(0x433)])+_0x7410fc(0x573)+_0x4981a1[0x2][_0x7410fc(0x4e5)]+_0x7410fc(0x45a):_0x7410fc(0x92e))+_0x7410fc(0x286)+_0x3d0325+_0x7410fc(0x5cf)+(currentMode==='admin'?_0x7410fc(0x9e9):_0x7410fc(0x754))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x4d3968,currentMode==='admin'&&document[_0x7410fc(0x68b)](_0x7410fc(0x82d))[_0x7410fc(0x35b)]('click',async()=>{const _0x101d8c=_0x7410fc,_0x25f146=doc(db,_0x101d8c(0x9d8)+appId+_0x101d8c(0x776),currentLiveGameId);await deleteDoc(_0x25f146),showView(_0x101d8c(0x5e2));});}async function handleStartLiveRace(_0x3b21ca){const _0x5d3d9b=_0x346886;let _0x39131b=allQuizzes['find'](_0xdb5383=>_0xdb5383['id']===_0x3b21ca);if(!_0x39131b){const _0x42dfa7=doc(db,_0x5d3d9b(0x9d8)+appId+'/public/data/quizzes',_0x3b21ca),_0x3f3c3d=await getDoc(_0x42dfa7);if(!_0x3f3c3d[_0x5d3d9b(0x824)]()){showMessage(_0x5d3d9b(0x75e));return;}_0x39131b={'id':_0x3f3c3d['id'],..._0x3f3c3d[_0x5d3d9b(0x3c0)]()};}const _0x5d2978=getShuffledQuiz(_0x39131b);currentQuizData=_0x5d2978;const _0x2f58c1=_0x39131b['projectId']||currentProjectId||null,_0x45c2f4=Math['floor'](0xa+Math[_0x5d3d9b(0x23e)]()*0x5a)[_0x5d3d9b(0x9b1)]();currentLiveGamePin=_0x45c2f4;try{const _0x450472=await addDoc(collection(db,'artifacts/'+appId+_0x5d3d9b(0x776)),{'quizId':_0x3b21ca,'projectId':_0x2f58c1,'status':_0x5d3d9b(0x4f1),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x45c2f4,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5d2978});currentLiveGameId=_0x450472['id'],showAdminLobbyView(_0x45c2f4,_0x39131b[_0x5d3d9b(0x9e3)]),listenForLiveGameUpdates();}catch(_0x3863a3){console[_0x5d3d9b(0x6f2)](_0x5d3d9b(0x677),_0x3863a3),showMessage(_0x5d3d9b(0x2f6));}}async function handleShowStudentRankings(){const _0x5de77a=_0x346886,_0x55ff4f=document[_0x5de77a(0x293)](_0x5de77a(0x5e7));_0x55ff4f&&(_0x55ff4f[_0x5de77a(0x373)]=_0x5de77a(0x93f));const _0x5279f6=document['querySelector']('#student-project-leaderboard-content\x20thead');_0x5279f6&&(_0x5279f6[_0x5de77a(0x373)]=_0x5de77a(0x7d4));const _0x4af86c=document[_0x5de77a(0x68b)]('student-rankings-modal');_0x4af86c[_0x5de77a(0x8f4)][_0x5de77a(0x42d)]('hidden'),document[_0x5de77a(0x68b)](_0x5de77a(0x556))[_0x5de77a(0x43f)]=()=>_0x4af86c[_0x5de77a(0x8f4)]['add'](_0x5de77a(0x901));const _0x270d3f=document[_0x5de77a(0x68b)](_0x5de77a(0x948)),_0xcbf846=document[_0x5de77a(0x68b)](_0x5de77a(0x86f)),_0x3d10d3=document[_0x5de77a(0x68b)]('student-quiz-leaderboard-content'),_0x3dc05e=document[_0x5de77a(0x68b)]('student-project-leaderboard-content');_0x270d3f[_0x5de77a(0x43f)]=()=>{const _0x4e0371=_0x5de77a;_0x270d3f[_0x4e0371(0x8f4)][_0x4e0371(0xa01)]('active'),_0xcbf846[_0x4e0371(0x8f4)][_0x4e0371(0x42d)](_0x4e0371(0x299)),_0x3d10d3[_0x4e0371(0x8f4)]['remove'](_0x4e0371(0x901)),_0x3dc05e[_0x4e0371(0x8f4)][_0x4e0371(0xa01)](_0x4e0371(0x901));},_0xcbf846[_0x5de77a(0x43f)]=()=>{const _0x5ce0b7=_0x5de77a;_0xcbf846[_0x5ce0b7(0x8f4)]['add'](_0x5ce0b7(0x299)),_0x270d3f['classList'][_0x5ce0b7(0x42d)](_0x5ce0b7(0x299)),_0x3dc05e['classList'][_0x5ce0b7(0x42d)]('hidden'),_0x3d10d3[_0x5ce0b7(0x8f4)]['add'](_0x5ce0b7(0x901));};try{const _0x4c8514=collection(db,'artifacts/'+appId+_0x5de77a(0x867)+currentQuizData['id']+_0x5de77a(0x26d)),_0x119ea6=await getDocs(_0x4c8514),_0x4d6e53=_0x119ea6[_0x5de77a(0xa07)][_0x5de77a(0x6c4)](_0x599231=>_0x599231[_0x5de77a(0x3c0)]());renderQuizLeaderboard(_0x4d6e53,currentQuizData,_0x5de77a(0x392));const _0x3f10a4=collection(db,_0x5de77a(0x9d8)+appId+_0x5de77a(0x93c)+currentQuizData[_0x5de77a(0x2c3)]+'/studentProfiles'),_0x599d23=await getDocs(_0x3f10a4),_0xc25101=_0x599d23[_0x5de77a(0xa07)]['map'](_0x2b45c6=>_0x2b45c6[_0x5de77a(0x3c0)]());renderLeaderboard(_0xc25101,_0x5de77a(0x4a5));}catch(_0x5c9302){console['error']('Error\x20fetching\x20student\x20rankings:',_0x5c9302),showMessage(_0x5de77a(0x75f));}}async function handleSaveToBank(_0x2a936a){const _0x2a82e7=_0x346886,_0x530a21=_0x2a936a[_0x2a82e7(0x39e)],_0x14a72b=_0x530a21['dataset'][_0x2a82e7(0x31d)],_0x1e82ce=currentQuizData[_0x2a82e7(0xa18)][_0x14a72b];if(!userId){showMessage(_0x2a82e7(0x7db));return;}try{const _0xd89dc1={..._0x1e82ce,'originalTopic':currentQuizData[_0x2a82e7(0x9e3)],'savedAt':serverTimestamp()},_0x4e772c=collection(db,_0x2a82e7(0x9d8)+appId+'/users/'+userId+_0x2a82e7(0xa28));await addDoc(_0x4e772c,_0xd89dc1),showMessage(_0x2a82e7(0x7d6)),_0x530a21[_0x2a82e7(0x8f4)][_0x2a82e7(0x42d)](_0x2a82e7(0x86b)),_0x530a21[_0x2a82e7(0x8f4)][_0x2a82e7(0xa01)](_0x2a82e7(0x558)),_0x530a21[_0x2a82e7(0x438)]=!![];}catch(_0x1150d0){console[_0x2a82e7(0x6f2)]('Error\x20saving\x20to\x20question\x20bank:',_0x1150d0),showMessage(_0x2a82e7(0x74d));}}function listenForStarredQuizzes(){const _0x2e5336=_0x346886;if(!userId)return;const _0x1e6a61=collection(db,_0x2e5336(0x9d8)+appId+_0x2e5336(0x3a7)),_0x5aea37=query(_0x1e6a61,where(_0x2e5336(0x930),'==',!![]));onSnapshot(_0x5aea37,_0x288723=>{const _0x2092da=_0x2e5336;starredQuizzes=_0x288723[_0x2092da(0xa07)][_0x2092da(0x6c4)](_0x43009a=>({'id':_0x43009a['id'],..._0x43009a[_0x2092da(0x3c0)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x14d4db=>{const _0x269912=_0x2e5336;console[_0x269912(0x6f2)](_0x269912(0x46c),_0x14d4db);});}function exportQuizAsWorksheetPDF(){const _0x2364e3=_0x346886;if(!currentQuizData||!currentQuizData[_0x2364e3(0xa18)]){showMessage(_0x2364e3(0x452));return;}const _0x2ef299=currentQuizData,_0x1cbb74=window[_0x2364e3(0x7e4)]('',_0x2364e3(0x9bf)),_0x3f491d=_0x32cf59=>String[_0x2364e3(0x2e2)](0x41+_0x32cf59),_0x4f755f=_0x2364e3(0x560)+_0x2ef299[_0x2364e3(0x9e3)]+_0x2364e3(0x975)+_0x2ef299[_0x2364e3(0x9e3)]+_0x2364e3(0x889)+_0x2ef299['questions'][_0x2364e3(0x6c4)]((_0x55b4eb,_0x21d3a2)=>{const _0xa0f2ef=_0x2364e3;let _0x12fa2c='';const _0x4fd4ee=_0x55b4eb[_0xa0f2ef(0x296)]||_0x2ef299[_0xa0f2ef(0x3fa)];switch(_0x4fd4ee){case _0xa0f2ef(0x586):case _0xa0f2ef(0x7f7):_0x12fa2c=_0xa0f2ef(0x366)+_0x55b4eb[_0xa0f2ef(0x77f)][_0xa0f2ef(0x6c4)]((_0x287e23,_0x5c4162)=>_0xa0f2ef(0x70b)+_0x3f491d(_0x5c4162)+'.\x20'+_0x287e23+_0xa0f2ef(0x9ea))[_0xa0f2ef(0x559)](_0xa0f2ef(0x462))+'</div>';break;case _0xa0f2ef(0x74e):_0x12fa2c=_0xa0f2ef(0x46d);break;default:_0x12fa2c=_0xa0f2ef(0xa42);break;}return _0xa0f2ef(0x7e3)+(_0x21d3a2+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x55b4eb[_0xa0f2ef(0x3db)]||_0x55b4eb[_0xa0f2ef(0x85d)])+_0xa0f2ef(0x5b5)+(_0x55b4eb[_0xa0f2ef(0x884)]?_0xa0f2ef(0x591)+_0x55b4eb[_0xa0f2ef(0x884)]+_0xa0f2ef(0x531):'')+_0xa0f2ef(0x491)+_0x12fa2c+_0xa0f2ef(0x521);})[_0x2364e3(0x559)]('')+_0x2364e3(0x4c5);_0x1cbb74[_0x2364e3(0x59c)][_0x2364e3(0x358)](_0x4f755f),_0x1cbb74['document']['close'](),_0x1cbb74[_0x2364e3(0xa0a)]=function(){setTimeout(()=>{const _0xa18610=_0x2b13;_0x1cbb74[_0xa18610(0x494)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x408852=_0x346886;if(!currentQuizData||!currentQuizData[_0x408852(0xa18)]){showMessage(_0x408852(0x452));return;}const _0x1db580=currentQuizData,_0x2b94b7=window[_0x408852(0x7e4)]('',_0x408852(0x9bf)),_0x21299e=_0x22c88e=>String['fromCharCode'](0x41+_0x22c88e),_0x2c7db6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x1db580[_0x408852(0x9e3)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1db580[_0x408852(0xa18)][_0x408852(0x6c4)]((_0xcc5fdd,_0x3e591e)=>{const _0x479ef2=_0x408852;let _0x1abdf3='';const _0x5a4a36=_0xcc5fdd['questionType']||_0x1db580[_0x479ef2(0x3fa)];switch(_0x5a4a36){case _0x479ef2(0x586):case _0x479ef2(0x7f7):_0x1abdf3=_0x479ef2(0x3c7)+_0xcc5fdd[_0x479ef2(0x77f)][_0x479ef2(0x6c4)]((_0x1d2763,_0x385ac6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x21299e(_0x385ac6)+'.\x20'+_0x1d2763+_0x479ef2(0x490))[_0x479ef2(0x559)](_0x479ef2(0x462))+_0x479ef2(0x2c1);break;case _0x479ef2(0x74e):_0x1abdf3=_0x479ef2(0x4b6);break;default:_0x1abdf3='';break;}return _0x479ef2(0x454)+_0x1db580[_0x479ef2(0x9e3)]+_0x479ef2(0x4e8)+(_0x3e591e+0x1)+_0x479ef2(0x652)+(_0xcc5fdd[_0x479ef2(0x3db)]||_0xcc5fdd[_0x479ef2(0x85d)])+_0x479ef2(0x5b5)+(_0xcc5fdd[_0x479ef2(0x884)]?_0x479ef2(0x4fc)+_0xcc5fdd[_0x479ef2(0x884)]+'</div>':'')+_0x479ef2(0x491)+_0x1abdf3+_0x479ef2(0x517);})[_0x408852(0x559)]('')+_0x408852(0xa2b);_0x2b94b7[_0x408852(0x59c)][_0x408852(0x358)](_0x2c7db6),_0x2b94b7['document']['close'](),_0x2b94b7[_0x408852(0xa0a)]=function(){setTimeout(()=>{_0x2b94b7['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x4cb72f){const _0x3a7399=_0x346886,_0x43aacf=doc(db,_0x3a7399(0x9d8)+appId+_0x3a7399(0x3a7),_0x4cb72f);try{const _0x4518df=await getDoc(_0x43aacf);if(_0x4518df[_0x3a7399(0x824)]()){const _0xcb86e0=_0x4518df[_0x3a7399(0x3c0)]()[_0x3a7399(0x930)]||![];await updateDoc(_0x43aacf,{'isStarred':!_0xcb86e0});}}catch(_0x57061e){console[_0x3a7399(0x6f2)]('Error\x20toggling\x20star\x20status:',_0x57061e),showMessage(_0x3a7399(0x7d0));}}async function displayQuestionBank(){const _0x3c7a07=_0x346886,_0x387a89=document['getElementById'](_0x3c7a07(0x7a7));_0x387a89[_0x3c7a07(0x373)]=_0x3c7a07(0x99b);try{const _0x5dc66e=collection(db,_0x3c7a07(0x9d8)+appId+'/users/'+userId+_0x3c7a07(0xa28)),_0xa8c3cb=query(_0x5dc66e),_0x1d77ab=await getDocs(_0xa8c3cb);if(_0x1d77ab[_0x3c7a07(0x5b2)]){_0x387a89['innerHTML']=_0x3c7a07(0x8e6);return;}let _0x3f6dfc=_0x1d77ab[_0x3c7a07(0xa07)][_0x3c7a07(0x6c4)](_0x4760e7=>{const _0x2755c2=_0x3c7a07,_0x35371f=_0x4760e7['data'](),_0x829fd0=_0x4760e7['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x2755c2(0x2cf)](_0x35371f)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x35371f[_0x2755c2(0x85d)]||_0x35371f[_0x2755c2(0x3db)])+_0x2755c2(0x487)+_0x35371f[_0x2755c2(0x34b)]+_0x2755c2(0x900);})[_0x3c7a07(0x559)]('');_0x387a89[_0x3c7a07(0x373)]=_0x3c7a07(0x345)+_0x3f6dfc+_0x3c7a07(0x7da),document[_0x3c7a07(0x68b)](_0x3c7a07(0x52d))['addEventListener']('click',createQuizFromBank);}catch(_0x3de0d3){console[_0x3c7a07(0x6f2)]('Error\x20displaying\x20question\x20bank:',_0x3de0d3),_0x387a89[_0x3c7a07(0x373)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x3ad9fc,_0x2023f9,_0x40a0f1){const _0x5131f5=_0x346886,_0x48c252=_0x3ad9fc[_0x5131f5(0x296)]||currentQuizData[_0x5131f5(0x3fa)];let _0x2ec7af='';if(_0x48c252===_0x5131f5(0x586)||_0x48c252===_0x5131f5(0x74e)){const _0x21db65=_0x48c252===_0x5131f5(0x74e)?[_0x5131f5(0x568),_0x5131f5(0x726)]:_0x3ad9fc[_0x5131f5(0x77f)],_0x167477=_0x48c252===_0x5131f5(0x74e)?_0x3ad9fc[_0x5131f5(0x8a4)]?0x0:0x1:_0x3ad9fc[_0x5131f5(0x60a)];_0x2ec7af=_0x21db65['map']((_0x540581,_0x44bf47)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x44bf47===_0x167477)+_0x5131f5(0x740)+_0x540581+_0x5131f5(0x87a))[_0x5131f5(0x559)]('');}else{if(_0x48c252===_0x5131f5(0x5a4)){const _0x12cd19=_0x3ad9fc[_0x5131f5(0x798)]||[];_0x2ec7af=_0x12cd19['map'](_0x473717=>_0x5131f5(0x20a)+(_0x473717===_0x3ad9fc['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x473717+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5131f5(0x559)]('');}}const _0x39f9cf=_0x3ad9fc[_0x5131f5(0x3db)]||_0x3ad9fc[_0x5131f5(0x85d)],_0x1cb7fd=_0x5131f5(0x42a)+(_0x2023f9+0x1)+_0x5131f5(0x818)+_0x40a0f1+_0x5131f5(0x6ab)+currentLiveGamePin+_0x5131f5(0x93a)+_0x39f9cf+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ec7af+_0x5131f5(0x5ab);liveGameView[_0x5131f5(0x373)]=_0x1cb7fd,window[_0x5131f5(0x31e)]&&MathJax[_0x5131f5(0x3f5)]&&MathJax[_0x5131f5(0x3f5)]([liveGameView]),document[_0x5131f5(0x68b)](_0x5131f5(0x6c1))[_0x5131f5(0x35b)](_0x5131f5(0x8d8),()=>revealAnswerForAdmin(_0x2023f9,_0x40a0f1)),document[_0x5131f5(0x68b)](_0x5131f5(0x7f6))[_0x5131f5(0x35b)](_0x5131f5(0x8d8),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0xd14d19=_0x2b13,_0x25ffb7=doc(db,'artifacts/'+appId+_0xd14d19(0x776),currentLiveGameId);await updateDoc(_0x25ffb7,{'status':_0xd14d19(0x656)});});}),document[_0x5131f5(0x68b)]('manage-players-btn')[_0x5131f5(0x35b)](_0x5131f5(0x8d8),()=>{const _0x4941e6=_0x5131f5;document[_0x4941e6(0x68b)](_0x4941e6(0x22f))['classList'][_0x4941e6(0x474)](_0x4941e6(0x901));});}function showStudentLiveQuestionView(_0x3b713d,_0x12f9b1,_0x5efe15){const _0x3a06f9=_0x346886,_0x48992c=_0x3b713d[_0x3a06f9(0x296)]||currentQuizData[_0x3a06f9(0x3fa)];let _0x4d01e0='';if(_0x48992c==='multiple_choice'||_0x48992c===_0x3a06f9(0x74e)){const _0x57d73e=_0x48992c===_0x3a06f9(0x74e)?[_0x3a06f9(0x568),_0x3a06f9(0x726)]:_0x3b713d[_0x3a06f9(0x77f)];_0x4d01e0=_0x57d73e[_0x3a06f9(0x6c4)]((_0x5dae56,_0x5a6716)=>_0x3a06f9(0x420)+_0x5a6716+_0x3a06f9(0x7fe)+_0x5dae56+_0x3a06f9(0x2db))[_0x3a06f9(0x559)]('');}else{if(_0x48992c===_0x3a06f9(0x5a4)){const _0x47bc0f=_0x3b713d[_0x3a06f9(0x798)]||[];_0x4d01e0=_0x47bc0f['map']((_0x9a0c20,_0x12d19d)=>_0x3a06f9(0x420)+_0x12d19d+_0x3a06f9(0x7fe)+_0x9a0c20+_0x3a06f9(0x2db))['join']('');}else _0x48992c==='short_answer'&&(_0x4d01e0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x4a45f0=_0x3b713d[_0x3a06f9(0x3db)]||_0x3b713d[_0x3a06f9(0x85d)],_0x155096=_0x3a06f9(0x2f1)+(_0x12f9b1+0x1)+_0x3a06f9(0x818)+_0x5efe15+_0x3a06f9(0x64f)+_0x4a45f0+_0x3a06f9(0x450)+_0x4d01e0+_0x3a06f9(0xa1c);liveGameView[_0x3a06f9(0x373)]=_0x155096;window[_0x3a06f9(0x31e)]&&MathJax[_0x3a06f9(0x3f5)]&&MathJax[_0x3a06f9(0x3f5)]([liveGameView]);const _0x97be45=document['getElementById'](_0x3a06f9(0x542));_0x97be45&&_0x97be45[_0x3a06f9(0x35b)](_0x3a06f9(0x8d8),()=>{const _0x45a665=_0x3a06f9,_0x25759f=document[_0x45a665(0x68b)]('live-short-answer-input')[_0x45a665(0x967)];handleLiveAnswer(_0x25759f,_0x3b713d);}),document[_0x3a06f9(0x68b)](_0x3a06f9(0x248))[_0x3a06f9(0x35b)](_0x3a06f9(0x8d8),_0x3ba85f=>{const _0x418977=_0x3a06f9,_0x47f01d=_0x3ba85f['target']['closest'](_0x418977(0x593));if(_0x47f01d){const _0x51177e=parseInt(_0x47f01d[_0x418977(0x898)][_0x418977(0x31d)]);handleLiveAnswer(_0x51177e,_0x3b713d);}});}async function handleLiveAnswer(_0x3b0995,_0x388326){const _0x11255e=_0x346886;document[_0x11255e(0x3df)](_0x11255e(0x9fb))[_0x11255e(0x305)](_0x4a5667=>_0x4a5667[_0x11255e(0x438)]=!![]);const _0x110216=_0x388326[_0x11255e(0x296)]||currentQuizData[_0x11255e(0x3fa)];let _0x85e284=![],_0x5cb3c2=_0x3b0995;if(_0x110216===_0x11255e(0x38f)){const _0x3a470a=(_0x3b0995||'')[_0x11255e(0x9b1)]();_0x85e284=await gradeShortAnswer(_0x3a470a,_0x388326);}else{if(_0x110216==='multiple_choice')_0x85e284=_0x3b0995===_0x388326[_0x11255e(0x60a)];else{if(_0x110216===_0x11255e(0x74e)){const _0x400e9e=_0x388326[_0x11255e(0x8a4)];_0x85e284=_0x3b0995===0x0&&_0x400e9e||_0x3b0995===0x1&&!_0x400e9e;}else{if(_0x110216===_0x11255e(0x5a4)){const _0x1d0244=_0x388326[_0x11255e(0x798)][_0x3b0995];_0x85e284=_0x1d0244===_0x388326[_0x11255e(0x463)],_0x5cb3c2=_0x1d0244;}}}}const _0x209b7f=doc(db,_0x11255e(0x9d8)+appId+'/public/data/liveGames',currentLiveGameId),_0x1596c8={};_0x1596c8[_0x11255e(0x400)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x1596c8['players.'+currentStudentName+_0x11255e(0x53f)]=_0x85e284,_0x1596c8[_0x11255e(0x400)+currentStudentName+'.lastAnswerIndex']=_0x110216==='short_answer'||_0x110216===_0x11255e(0x5a4)?null:_0x3b0995,_0x1596c8['players.'+currentStudentName+_0x11255e(0x4f9)]=_0x5cb3c2,_0x1596c8[_0x11255e(0x400)+currentStudentName+_0x11255e(0x87d)]=serverTimestamp(),_0x1596c8[_0x11255e(0x400)+currentStudentName+_0x11255e(0x444)]=![],await updateDoc(_0x209b7f,_0x1596c8),liveGameView[_0x11255e(0x373)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x1479a7,_0x25e8af){const _0x3385da=_0x346886,_0x257a57=Object[_0x3385da(0x1f0)](_0x1479a7[_0x3385da(0x49e)]||{}),_0x14c486=_0x25e8af[_0x3385da(0x296)]||currentQuizData[_0x3385da(0x3fa)],_0x22dd60=_0x14c486===_0x3385da(0x74e)?['ใช่',_0x3385da(0x726)]:_0x25e8af[_0x3385da(0x77f)]||_0x25e8af['allResponses']||[],_0x29fe47={},_0x10003e=new Array(_0x22dd60[_0x3385da(0x8cf)])[_0x3385da(0x8db)](0x0);_0x22dd60[_0x3385da(0x305)]((_0x20df3a,_0x12aa05)=>{_0x29fe47[_0x12aa05]=[];}),Object[_0x3385da(0x3c4)](_0x1479a7['players']||{})[_0x3385da(0x305)](([_0x5895d8,_0x55ea28])=>{const _0x22850a=_0x3385da;if(_0x55ea28['status']===_0x22850a(0x299)&&_0x55ea28['lastAnswerIndex']!==undefined){const _0x14c9d5=_0x55ea28[_0x22850a(0x753)];_0x29fe47[_0x14c9d5]&&(_0x29fe47[_0x14c9d5][_0x22850a(0x85a)](_0x5895d8),_0x10003e[_0x14c9d5]++);}});const _0x83241=Math[_0x3385da(0x874)](..._0x10003e,0x1),_0x58b0f1=_0x3385da(0x8b9)+(_0x25e8af['stem']||_0x25e8af[_0x3385da(0x85d)])+_0x3385da(0x5a8)+_0x10003e[_0x3385da(0x6c4)]((_0x354b2d,_0x3cc83a)=>{const _0x416816=_0x3385da,_0x1cbc61=_0x29fe47[_0x3cc83a][_0x416816(0x8cf)]>0x0?_0x29fe47[_0x3cc83a][_0x416816(0x559)](',\x20'):_0x416816(0x642);let _0x200e89=![];if(_0x14c486==='multiple_choice')_0x200e89=_0x3cc83a===_0x25e8af[_0x416816(0x60a)];else{if(_0x14c486==='true_false'){const _0x34cfbb=_0x25e8af[_0x416816(0x8a4)];_0x200e89=_0x34cfbb&&_0x3cc83a===0x0||!_0x34cfbb&&_0x3cc83a===0x1;}else _0x14c486===_0x416816(0x5a4)&&(_0x200e89=_0x22dd60[_0x3cc83a]===_0x25e8af['correctResponse']);}const _0x29053c=_0x200e89?'#26890c':_0x416816(0x528);return _0x416816(0x98f)+_0x354b2d+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x29053c+_0x416816(0x393)+_0x3cc83a+_0x416816(0x3a1)+_0x22dd60[_0x3cc83a]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x3cc83a+_0x416816(0x715)+_0x1cbc61+_0x416816(0x71c);})['join']('')+_0x3385da(0x534);liveGameView[_0x3385da(0x373)]=_0x58b0f1;if(window['MathJax'])MathJax['typesetPromise']();document['getElementById']('show-leaderboard-btn')[_0x3385da(0x35b)](_0x3385da(0x8d8),async()=>{const _0x42ca36=_0x3385da,_0x19cad7=doc(db,_0x42ca36(0x9d8)+appId+_0x42ca36(0x776),currentLiveGameId);await updateDoc(_0x19cad7,{'questionStatus':_0x42ca36(0x50e)});}),document['getElementById'](_0x3385da(0x4cd))['addEventListener'](_0x3385da(0x8d8),()=>{openScratchpad(_0x25e8af,_0x22dd60);});}function showPlayerSummaryView(_0x1ee7b7,_0x3c8254){const _0x8574be=_0x346886,_0x299452=Object['values'](_0x1ee7b7[_0x8574be(0x49e)]||{}),_0x275d6c=_0x1ee7b7['players'][_0x3c8254],_0x28174f=_0x299452[_0x8574be(0x7cb)](_0xf21c0c=>_0xf21c0c[_0x8574be(0x719)]==='active')[_0x8574be(0x787)]((_0x2b2643,_0x541922)=>_0x541922[_0x8574be(0x4e5)]-_0x2b2643[_0x8574be(0x4e5)]),_0x1c9180=_0x28174f[_0x8574be(0x5c7)](_0x497d46=>_0x497d46===_0x275d6c)+0x1,_0x41fea4=_0x275d6c[_0x8574be(0x1f4)]?'ถูกต้อง!':_0x8574be(0xa05),_0x549410=_0x275d6c[_0x8574be(0x1f4)]?_0x8574be(0x266):_0x8574be(0x990),_0x3a75bb=_0x275d6c[_0x8574be(0x52a)]||0x0,_0x2b4907='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x2fa578=_0x8574be(0x7f1)+_0x2b4907+_0x8574be(0x961)+_0x549410+_0x8574be(0x62a)+_0x41fea4+_0x8574be(0x96f)+_0x3a75bb+_0x8574be(0x2e0)+(_0x1c9180>0x0?_0x1c9180:'-')+_0x8574be(0x9d6);liveGameView[_0x8574be(0x373)]=_0x2fa578;}function createQuizFromBank(){const _0x1ba1e0=_0x346886,_0x5745ce=document[_0x1ba1e0(0x3df)](_0x1ba1e0(0x82e));if(_0x5745ce['length']===0x0){showMessage(_0x1ba1e0(0x827));return;}const _0x383bbf=[];_0x5745ce[_0x1ba1e0(0x305)](_0x815573=>{const _0x15a7d6=_0x1ba1e0;_0x383bbf[_0x15a7d6(0x85a)](JSON['parse'](_0x815573['value']));});const _0x2c3c01={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x383bbf};displayGeneratedQuiz(_0x2c3c01);}function _0x2b13(_0x499896,_0x4eefb1){const _0x24ba98=_0x24ba();return _0x2b13=function(_0x2b134b,_0x57b23a){_0x2b134b=_0x2b134b-0x1f0;let _0x2f1719=_0x24ba98[_0x2b134b];return _0x2f1719;},_0x2b13(_0x499896,_0x4eefb1);}function showAdminLobbyView(_0x3d6d2b,_0x3e98aa){const _0x494333=_0x346886;showView('live-game');const _0xcc384b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x3e98aa+_0x494333(0x440)+_0x3d6d2b+_0x494333(0x57e);liveGameView['innerHTML']=_0xcc384b,document[_0x494333(0x68b)](_0x494333(0x85f))['addEventListener'](_0x494333(0x8d8),async()=>{const _0x194851=_0x494333;if(!currentQuizData||!currentQuizData[_0x194851(0xa18)]||currentQuizData[_0x194851(0xa18)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0xa3c5f4=doc(db,'artifacts/'+appId+_0x194851(0x776),currentLiveGameId);await updateDoc(_0xa3c5f4,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3cb4de=currentQuizData[_0x194851(0xa18)][0x0],_0x36ec6b=currentQuizData[_0x194851(0xa18)]['length'];showAdminLiveQuestionView(_0x3cb4de,0x0,_0x36ec6b);}catch(_0x2e218f){console[_0x194851(0x6f2)](_0x194851(0x4f6),_0x2e218f),showMessage(_0x194851(0x52e));}});}async function openGlobalLiveModal(){const _0x596f88=_0x346886;if(allQuizzesGlobal[_0x596f88(0x8cf)]===0x0){const _0x49c39d=await getDocs(collection(db,_0x596f88(0x9d8)+appId+_0x596f88(0x3a7)));allQuizzesGlobal=_0x49c39d['docs'][_0x596f88(0x6c4)](_0x3da464=>({'id':_0x3da464['id'],..._0x3da464[_0x596f88(0x3c0)]()}));}renderGlobalQuizList(''),document[_0x596f88(0x68b)](_0x596f88(0x74a))[_0x596f88(0x8f4)][_0x596f88(0x42d)](_0x596f88(0x901));}async function openQuizBankModal(){const _0x3dde42=_0x346886;if(allQuizzesGlobal[_0x3dde42(0x8cf)]===0x0){const _0x1f4139=await getDocs(collection(db,_0x3dde42(0x9d8)+appId+_0x3dde42(0x3a7)));allQuizzesGlobal=_0x1f4139[_0x3dde42(0xa07)][_0x3dde42(0x6c4)](_0x2674f0=>({'id':_0x2674f0['id'],..._0x2674f0[_0x3dde42(0x3c0)]()}));}renderQuizBankList(''),document[_0x3dde42(0x68b)](_0x3dde42(0x8f0))[_0x3dde42(0x8f4)][_0x3dde42(0x42d)]('hidden');}function renderQuizBankList(_0x5761d2=''){const _0x361cce=_0x346886,_0x2d83da=document[_0x361cce(0x68b)](_0x361cce(0x98a)),_0x169a18=_0x5761d2['toLowerCase']()[_0x361cce(0x905)](),_0x2740c6=allQuizzesGlobal[_0x361cce(0x6c4)](_0x6d7516=>({..._0x6d7516,'projectName':allProjects['find'](_0x413892=>_0x413892['id']===_0x6d7516[_0x361cce(0x2c3)])?.[_0x361cce(0x985)]||_0x361cce(0x971)}))[_0x361cce(0x7cb)](_0x435356=>(_0x435356['topic']||'')[_0x361cce(0x4c2)]()[_0x361cce(0x634)](_0x169a18)||(_0x435356['projectName']||'')['toLowerCase']()[_0x361cce(0x634)](_0x169a18)||_0x435356['id']['toString']()[_0x361cce(0x634)](_0x169a18));document[_0x361cce(0x68b)]('quiz-bank-count')[_0x361cce(0x394)]='('+_0x2740c6[_0x361cce(0x8cf)]+_0x361cce(0x44f),_0x2d83da[_0x361cce(0x373)]=_0x2740c6['length']?_0x2740c6['map'](_0x41a390=>_0x361cce(0x2ab)+_0x41a390['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x41a390[_0x361cce(0x9e3)]||'(ไม่มีชื่อ)')+_0x361cce(0x66f)+(_0x41a390['questions']?.[_0x361cce(0x8cf)]||0x0)+_0x361cce(0x81c)+_0x41a390['projectName']+_0x361cce(0x365)+_0x41a390['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x41a390['id']+_0x361cce(0x777)+_0x41a390['id']+_0x361cce(0x955)+_0x41a390['id']+_0x361cce(0x79a)+_0x41a390['id']+_0x361cce(0x3d4)+_0x41a390['id']+_0x361cce(0x24b)+_0x41a390['id']+'\x22\x20data-topic=\x22'+_0x41a390[_0x361cce(0x9e3)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x361cce(0x559)](''):_0x361cce(0x460),_0x2d83da['querySelectorAll']('.quiz-bank-item')['forEach'](_0x3da70d=>{const _0x39d306=_0x361cce;_0x3da70d[_0x39d306(0x35b)](_0x39d306(0x8d8),()=>{const _0x51b2cf=_0x39d306,_0x111aa0=_0x3da70d[_0x51b2cf(0x898)]['id'];document[_0x51b2cf(0x68b)](_0x51b2cf(0x8f0))[_0x51b2cf(0x8f4)][_0x51b2cf(0xa01)]('hidden'),showQuizDetailView(_0x111aa0);});}),_0x2d83da[_0x361cce(0x3df)](_0x361cce(0x993))['forEach'](_0x181e53=>{const _0x2647fc=_0x361cce;_0x181e53[_0x2647fc(0x35b)]('click',_0x1d58fd=>{const _0x588e3b=_0x2647fc;_0x1d58fd[_0x588e3b(0x6d9)]();const _0x13397a=_0x181e53[_0x588e3b(0x898)]['id'],_0x2170b8=allQuizzesGlobal['find'](_0x3af693=>_0x3af693['id']===_0x13397a);_0x2170b8?(currentQuizData=_0x2170b8,document[_0x588e3b(0x68b)](_0x588e3b(0x8f0))['classList'][_0x588e3b(0xa01)](_0x588e3b(0x901)),startAdminTest()):showMessage(_0x588e3b(0x75e));});}),_0x2d83da[_0x361cce(0x3df)](_0x361cce(0x6ac))[_0x361cce(0x305)](_0x1ea99d=>{const _0x58539a=_0x361cce;_0x1ea99d[_0x58539a(0x35b)](_0x58539a(0x8d8),_0xb10f37=>{const _0x8211c3=_0x58539a;_0xb10f37['stopPropagation']();const _0x25316c=_0x1ea99d[_0x8211c3(0x898)]['id'],_0x1f6044=allQuizzesGlobal[_0x8211c3(0x94f)](_0x52225d=>_0x52225d['id']===_0x25316c);_0x1f6044?(document[_0x8211c3(0x68b)](_0x8211c3(0x8f0))[_0x8211c3(0x8f4)][_0x8211c3(0xa01)](_0x8211c3(0x901)),handleGenerateParallelFromBank(_0x1f6044)):showMessage(_0x8211c3(0x75e));});}),_0x2d83da[_0x361cce(0x3df)](_0x361cce(0x5c3))[_0x361cce(0x305)](_0x4e3aa=>{const _0x311926=_0x361cce;_0x4e3aa[_0x311926(0x35b)]('click',_0x465b05=>{const _0x10ccac=_0x311926;_0x465b05['stopPropagation']();const _0x4119b1=_0x4e3aa['dataset']['id'],_0x390243=allQuizzesGlobal[_0x10ccac(0x94f)](_0xf38ff7=>_0xf38ff7['id']===_0x4119b1);_0x390243?(document[_0x10ccac(0x68b)](_0x10ccac(0x8f0))['classList'][_0x10ccac(0xa01)](_0x10ccac(0x901)),startPresentation(_0x390243)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2d83da['querySelectorAll']('.quiz-bank-move-btn')['forEach'](_0x502047=>{const _0x4f296e=_0x361cce;_0x502047[_0x4f296e(0x35b)]('click',_0x3c49e0=>{const _0x2e9ada=_0x4f296e;_0x3c49e0['stopPropagation']();const _0x3a04a9=_0x502047[_0x2e9ada(0x898)]['id'];document[_0x2e9ada(0x68b)](_0x2e9ada(0x8f0))['classList']['add']('hidden'),handleMoveQuiz(_0x3a04a9);});}),_0x2d83da[_0x361cce(0x3df)](_0x361cce(0x3c2))[_0x361cce(0x305)](_0x3c7147=>{const _0x2c4ec5=_0x361cce;_0x3c7147[_0x2c4ec5(0x35b)](_0x2c4ec5(0x8d8),_0x1e857b=>{const _0x4f39c4=_0x2c4ec5;_0x1e857b[_0x4f39c4(0x6d9)]();const _0x3c19dc=_0x3c7147[_0x4f39c4(0x898)]['id'];document[_0x4f39c4(0x68b)](_0x4f39c4(0x8f0))[_0x4f39c4(0x8f4)][_0x4f39c4(0xa01)](_0x4f39c4(0x901)),handleQuizSettings(_0x3c19dc);});}),_0x2d83da['querySelectorAll'](_0x361cce(0x4c4))[_0x361cce(0x305)](_0x3fc43f=>{_0x3fc43f['addEventListener']('click',_0x1dcd6c=>{const _0x33a534=_0x2b13;_0x1dcd6c[_0x33a534(0x6d9)]();const _0x459e61=_0x3fc43f[_0x33a534(0x898)]['id'],_0x2cc244=_0x3fc43f[_0x33a534(0x898)]['topic'];showConfirmation(_0x33a534(0x79f)+_0x2cc244+_0x33a534(0xa20),()=>handleDeleteQuiz(_0x459e61));});});}async function handleCompareResults(_0x58972f,_0x4b5499){const _0x28d180=_0x346886,_0x352708=document['getElementById']('comparison-modal'),_0x1973da=document[_0x28d180(0x68b)](_0x28d180(0x780)),_0x2b8ffd=document[_0x28d180(0x68b)]('comparison-individual-content');document[_0x28d180(0x68b)](_0x28d180(0x56d))[_0x28d180(0x8f4)]['add']('active'),document[_0x28d180(0x68b)](_0x28d180(0x854))[_0x28d180(0x8f4)]['remove']('active'),_0x1973da['classList']['remove']('hidden'),_0x2b8ffd[_0x28d180(0x8f4)][_0x28d180(0xa01)](_0x28d180(0x901)),_0x1973da[_0x28d180(0x373)]=_0x28d180(0x99b),_0x2b8ffd[_0x28d180(0x373)]='',_0x352708[_0x28d180(0x8f4)][_0x28d180(0x42d)](_0x28d180(0x901));try{const _0x1f8621=doc(db,_0x28d180(0x9d8)+appId+'/public/data/quizzes',_0x58972f),_0x27b260=await getDoc(_0x1f8621);if(!_0x27b260['exists']())throw new Error(_0x28d180(0x799));const _0x1981e7=_0x27b260[_0x28d180(0x3c0)](),_0x54eba3=_0x1981e7[_0x28d180(0xa18)]['length'],_0x13ba13=collection(db,_0x28d180(0x9d8)+appId+_0x28d180(0x867)+_0x4b5499+_0x28d180(0x26d)),_0x40874c=collection(db,_0x28d180(0x9d8)+appId+_0x28d180(0x867)+_0x58972f+_0x28d180(0x26d)),[_0x153b56,_0x37a46f]=await Promise[_0x28d180(0x80c)]([getDocs(_0x13ba13),getDocs(_0x40874c)]),_0x48236b=_0x153b56[_0x28d180(0xa07)][_0x28d180(0x6c4)](_0x45052b=>_0x45052b[_0x28d180(0x3c0)]()),_0x5b6a33=_0x37a46f['docs'][_0x28d180(0x6c4)](_0xe2fae5=>_0xe2fae5[_0x28d180(0x3c0)]()),_0x301303=_0x48236b['map'](_0x14af29=>_0x14af29[_0x28d180(0x317)]),_0x3b76ad=_0x5b6a33[_0x28d180(0x6c4)](_0x1b5afa=>_0x1b5afa[_0x28d180(0x317)]),_0x4d4d8b=calculateMeanAndStdDev(_0x301303),_0x47f81d=calculateMeanAndStdDev(_0x3b76ad),_0x418c26=_0x4d4d8b[_0x28d180(0x23d)],_0x5cc5f4=_0x47f81d[_0x28d180(0x23d)],_0x172b5d=_0x5cc5f4-_0x418c26;let _0x489a0f=_0x28d180(0x357)+_0x418c26[_0x28d180(0x55a)](0x2)+_0x28d180(0x809)+_0x5cc5f4['toFixed'](0x2)+_0x28d180(0x4d4)+(_0x172b5d>=0x0?_0x28d180(0x5b4):'bg-red-100')+_0x28d180(0x4e1)+(_0x172b5d>=0x0?_0x28d180(0x493):_0x28d180(0xa1d))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x172b5d>=0x0?_0x28d180(0x324):_0x28d180(0x914))+'\x22>'+(_0x172b5d>=0x0?'+':'')+_0x172b5d[_0x28d180(0x55a)](0x2)+_0x28d180(0x288);_0x1973da[_0x28d180(0x373)]=_0x489a0f;const _0x149b5d=document['getElementById'](_0x28d180(0x673))['getContext']('2d');if(chartInstances[_0x28d180(0x9d9)])chartInstances[_0x28d180(0x9d9)]['destroy']();chartInstances[_0x28d180(0x9d9)]=new Chart(_0x149b5d,{'type':_0x28d180(0x4c8),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x28d180(0x7c1),'data':[_0x418c26],'backgroundColor':_0x28d180(0xa0d)},{'label':_0x28d180(0x504),'data':[_0x5cc5f4],'backgroundColor':_0x28d180(0x9f6)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x54eba3}}}});const _0x151072=currentProjectData['students']||[],_0x457ccf=_0x151072['map'](_0x4d21eb=>{const _0x187cce=_0x28d180,_0x746e3b=_0x48236b[_0x187cce(0x94f)](_0x4ae7c7=>_0x4ae7c7[_0x187cce(0x7ad)]===_0x4d21eb),_0x50ede3=_0x5b6a33['find'](_0x42372d=>_0x42372d[_0x187cce(0x7ad)]===_0x4d21eb),_0x55f334=_0x746e3b?_0x746e3b[_0x187cce(0x317)]:null,_0xdbc17e=_0x50ede3?_0x50ede3[_0x187cce(0x317)]:null,_0x1ba70c=_0x55f334!==null&&_0xdbc17e!==null?_0xdbc17e-_0x55f334:null,_0x10c781=_0x55f334!==null?calculateZScore(_0x55f334,_0x4d4d8b[_0x187cce(0x23d)],_0x4d4d8b[_0x187cce(0x748)]):null,_0x5a92b2=_0xdbc17e!==null?calculateZScore(_0xdbc17e,_0x47f81d[_0x187cce(0x23d)],_0x47f81d[_0x187cce(0x748)]):null,_0x4c3a5d=_0x10c781!==null?calculateTScore(_0x10c781):null,_0x4b0a33=_0x5a92b2!==null?calculateTScore(_0x5a92b2):null,_0x57f9e8=_0x4c3a5d!==null&&_0x4b0a33!==null?_0x4b0a33-_0x4c3a5d:null;return{'name':_0x4d21eb,'preScore':_0x55f334,'postScore':_0xdbc17e,'gain':_0x1ba70c,'preTScore':_0x4c3a5d,'postTScore':_0x4b0a33,'tGain':_0x57f9e8};});renderIndividualComparisonTable(_0x457ccf,_0x2b8ffd);}catch(_0x377177){console['error']('Error\x20comparing\x20results:',_0x377177),_0x1973da[_0x28d180(0x373)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x1ed019,_0x56a23b){const _0x827eb6=_0x346886,_0x2e5f4d=_0x1ed019>=_0x56a23b/0x2,_0x13c570=_0x2e5f4d?_0x827eb6(0x6d4):'bg-red-100',_0x58b0ed=_0x2e5f4d?_0x827eb6(0x2ee):_0x827eb6(0x684),_0x2ba483=_0x2e5f4d?'text-green-800':'text-red-800',_0x3b5dfc=_0x2e5f4d?'ทำคะแนนได้เกินครึ่ง':_0x827eb6(0x360),_0x56a9a1=_0x2e5f4d?'ยอดเยี่ยม!':_0x827eb6(0x5d3);let _0x6a6b92=_0x827eb6(0x78a)+_0x13c570+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58b0ed+_0x827eb6(0x277)+_0x2ba483+_0x827eb6(0x6fa)+_0x3b5dfc+_0x827eb6(0x843)+_0x56a9a1+_0x827eb6(0x32e);studentResultArea[_0x827eb6(0x373)]=_0x6a6b92,studentResultArea[_0x827eb6(0x8f4)][_0x827eb6(0x42d)](_0x827eb6(0x901)),studentQuizArea[_0x827eb6(0x8f4)][_0x827eb6(0xa01)](_0x827eb6(0x901)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x2e5f4d});}function displayPerfectScoreResult(_0x5149b1,_0x161b5d){const _0x14abe3=_0x346886,_0x4a6164=_0x5149b1===_0x161b5d,_0x5f0061=_0x4a6164?_0x14abe3(0x9c7):_0x14abe3(0x733),_0x2e918=_0x4a6164?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x14abe3(0x356),_0x42220d=_0x4a6164?_0x14abe3(0x539):_0x14abe3(0x680),_0x4c541c=_0x4a6164?_0x14abe3(0x2fd):'ยังไม่เต็มนะ',_0x164bbe=_0x4a6164?_0x14abe3(0x6ad):_0x14abe3(0x983);let _0x2e9562=_0x14abe3(0x78a)+_0x5f0061+_0x14abe3(0x9b6)+_0x2e918+_0x14abe3(0x277)+_0x42220d+_0x14abe3(0x6fa)+_0x4c541c+_0x14abe3(0x843)+_0x164bbe+_0x14abe3(0x32e);studentResultArea[_0x14abe3(0x373)]=_0x2e9562,studentResultArea[_0x14abe3(0x8f4)][_0x14abe3(0x42d)](_0x14abe3(0x901)),studentQuizArea['classList'][_0x14abe3(0xa01)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x5149b1,'totalQuestions':_0x161b5d});}function renderIndividualComparisonTable(_0x247ad8,_0x378c44){const _0x44e054=_0x346886;_0x247ad8['sort']((_0x154b63,_0x25c52f)=>(_0x25c52f[_0x44e054(0x583)]??-Infinity)-(_0x154b63[_0x44e054(0x583)]??-Infinity));let _0x188bce=_0x44e054(0x8aa);_0x247ad8[_0x44e054(0x8cf)]===0x0?_0x188bce+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x247ad8[_0x44e054(0x305)]((_0x579c15,_0x3a00da)=>{const _0x558f8e=_0x44e054;let _0x33f36a='-',_0x38fcb5='';if(_0x579c15[_0x558f8e(0x483)]!==null){const _0xb72c79=_0x579c15[_0x558f8e(0x483)]>0x0?_0x558f8e(0x558):_0x579c15[_0x558f8e(0x483)]<0x0?_0x558f8e(0x415):_0x558f8e(0x8d4),_0x47fe97=_0x579c15['gain']>0x0?'+':'';_0x33f36a=_0x558f8e(0xa23)+_0xb72c79+'\x22>'+_0x47fe97+_0x579c15[_0x558f8e(0x483)]+'</span>';if(_0x579c15[_0x558f8e(0x483)]>0x0)_0x38fcb5=_0x558f8e(0x6ee);else _0x579c15['gain']<0x0?_0x38fcb5=_0x558f8e(0x8e1):_0x38fcb5='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x322c44='-';if(_0x579c15[_0x558f8e(0x583)]!==null){const _0x380d03=_0x579c15[_0x558f8e(0x583)]>0x0?_0x558f8e(0x558):_0x579c15[_0x558f8e(0x583)]<0x0?_0x558f8e(0x415):'text-gray-500',_0x1b4206=_0x579c15[_0x558f8e(0x583)]>0x0?'+':'';_0x322c44='<span\x20class=\x22font-bold\x20'+_0x380d03+'\x22>'+_0x1b4206+_0x579c15[_0x558f8e(0x583)][_0x558f8e(0x55a)](0x2)+_0x558f8e(0x490);}_0x188bce+=_0x558f8e(0x82f)+(_0x3a00da+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x579c15[_0x558f8e(0x54b)]+_0x558f8e(0x26a)+(_0x579c15[_0x558f8e(0x6fd)]??'-')+_0x558f8e(0x6a3)+(_0x579c15[_0x558f8e(0x698)]??'-')+_0x558f8e(0x26a)+_0x33f36a+_0x558f8e(0x76d)+_0x38fcb5+_0x558f8e(0x92a)+(_0x579c15[_0x558f8e(0x2eb)]?.['toFixed'](0x2)??'-')+_0x558f8e(0x595)+(_0x579c15[_0x558f8e(0x9b0)]?.[_0x558f8e(0x55a)](0x2)??'-')+_0x558f8e(0x26a)+_0x322c44+_0x558f8e(0x7d5);}),_0x188bce+=_0x44e054(0x9d4),_0x378c44['innerHTML']=_0x188bce;}function handleRenameQuiz(_0x1f80de,_0x3e9068){const _0x297f12=_0x346886;actionTargetId=_0x1f80de,document[_0x297f12(0x68b)](_0x297f12(0x476))['value']=_0x3e9068,renameQuizModal[_0x297f12(0x8f4)]['remove'](_0x297f12(0x901));}function setupComparisonModalTabs(){const _0x5304c7=_0x346886,_0x4e3976=document['getElementById']('comparison-overall-tab'),_0x153c7e=document['getElementById'](_0x5304c7(0x854)),_0x29dda1=document['getElementById'](_0x5304c7(0x780)),_0x298bf2=document[_0x5304c7(0x68b)]('comparison-individual-content');_0x4e3976[_0x5304c7(0x35b)]('click',()=>{const _0x3ffb60=_0x5304c7;_0x4e3976['classList']['add'](_0x3ffb60(0x299)),_0x153c7e['classList']['remove']('active'),_0x29dda1[_0x3ffb60(0x8f4)][_0x3ffb60(0x42d)](_0x3ffb60(0x901)),_0x298bf2[_0x3ffb60(0x8f4)][_0x3ffb60(0xa01)](_0x3ffb60(0x901));}),_0x153c7e[_0x5304c7(0x35b)](_0x5304c7(0x8d8),()=>{const _0x5c8a2a=_0x5304c7;_0x153c7e[_0x5c8a2a(0x8f4)][_0x5c8a2a(0xa01)](_0x5c8a2a(0x299)),_0x4e3976[_0x5c8a2a(0x8f4)][_0x5c8a2a(0x42d)](_0x5c8a2a(0x299)),_0x298bf2['classList'][_0x5c8a2a(0x42d)](_0x5c8a2a(0x901)),_0x29dda1[_0x5c8a2a(0x8f4)][_0x5c8a2a(0xa01)](_0x5c8a2a(0x901));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x1ead9b=''){const _0x4b3500=_0x346886,_0x6b3fb1=document['getElementById']('global-quiz-list'),_0x3a244d=_0x1ead9b[_0x4b3500(0x4c2)]()[_0x4b3500(0x905)](),_0x5e60c1=allQuizzesGlobal[_0x4b3500(0x6c4)](_0x5949ae=>({..._0x5949ae,'projectName':allProjects[_0x4b3500(0x94f)](_0x4297d9=>_0x4297d9['id']===_0x5949ae['projectId'])?.[_0x4b3500(0x985)]||_0x5949ae[_0x4b3500(0x2c3)]}))[_0x4b3500(0x7cb)](_0xa9c048=>(_0xa9c048[_0x4b3500(0x9e3)]||'')[_0x4b3500(0x4c2)]()[_0x4b3500(0x634)](_0x3a244d)||(_0xa9c048['projectName']||'')[_0x4b3500(0x4c2)]()['includes'](_0x3a244d));document[_0x4b3500(0x68b)](_0x4b3500(0x30a))[_0x4b3500(0x394)]='('+_0x5e60c1[_0x4b3500(0x8cf)]+_0x4b3500(0x44f),_0x6b3fb1['innerHTML']=_0x5e60c1[_0x4b3500(0x8cf)]?_0x5e60c1[_0x4b3500(0x6c4)](_0x14b127=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x14b127['id']+_0x4b3500(0x5da)+(_0x14b127[_0x4b3500(0x9e3)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x14b127[_0x4b3500(0xa18)]?.['length']||0x0)+_0x4b3500(0x597)+_0x14b127['projectName']+_0x4b3500(0x7a5))[_0x4b3500(0x559)](''):_0x4b3500(0x4e0),selectedGlobalQuizId=null,document[_0x4b3500(0x68b)]('confirm-global-live-btn')[_0x4b3500(0x438)]=!![],_0x6b3fb1[_0x4b3500(0x3df)](_0x4b3500(0x53e))[_0x4b3500(0x305)](_0x5a4c3b=>{const _0x147386=_0x4b3500;_0x5a4c3b[_0x147386(0x35b)]('click',()=>{const _0x88460c=_0x147386;selectedGlobalQuizId=_0x5a4c3b[_0x88460c(0x898)]['id'],_0x6b3fb1[_0x88460c(0x3df)](_0x88460c(0x838))['forEach'](_0x21dbf4=>_0x21dbf4['classList'][_0x88460c(0x42d)](_0x88460c(0x533),_0x88460c(0x58a),_0x88460c(0x64b))),_0x5a4c3b[_0x88460c(0x8f4)]['add'](_0x88460c(0x533),_0x88460c(0x58a),_0x88460c(0x64b)),document['getElementById'](_0x88460c(0x5d5))[_0x88460c(0x438)]=![];});});}function listenForLiveGameUpdates(){const _0x4a8b70=_0x346886;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x286671=doc(db,_0x4a8b70(0x9d8)+appId+_0x4a8b70(0x776),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x286671,_0x41ec27=>{const _0x1f7a8a=_0x4a8b70;if(!_0x41ec27[_0x1f7a8a(0x824)]()){showMessage(_0x1f7a8a(0x60c)),showView(currentMode);return;}const _0x404689=_0x41ec27[_0x1f7a8a(0x3c0)]();_0x404689[_0x1f7a8a(0x899)]&&(currentQuizData=_0x404689['shuffledQuiz']);!currentQuizData&&_0x404689[_0x1f7a8a(0x57d)]&&((async()=>{const _0x4d7ec6=_0x1f7a8a;try{const _0x2c7e2a=doc(db,'artifacts/'+appId+_0x4d7ec6(0x3a7),_0x404689[_0x4d7ec6(0x57d)]),_0x30d17d=await getDoc(_0x2c7e2a);_0x30d17d[_0x4d7ec6(0x824)]()&&(currentQuizData={'id':_0x30d17d['id'],..._0x30d17d[_0x4d7ec6(0x3c0)]()});}catch(_0x32991d){console[_0x4d7ec6(0x6f2)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x32991d);}})());switch(_0x404689['status']){case _0x1f7a8a(0x4f1):if(currentMode===_0x1f7a8a(0x9a1)){const _0x366b73=_0x404689[_0x1f7a8a(0x49e)]?Object[_0x1f7a8a(0x3c4)](_0x404689[_0x1f7a8a(0x49e)]):[],_0x2502b3=_0x366b73[_0x1f7a8a(0x7cb)](([_0xc7d3b4,_0x5eb15e])=>_0x5eb15e[_0x1f7a8a(0x719)]===_0x1f7a8a(0x299)),_0x12bbbf=document[_0x1f7a8a(0x68b)](_0x1f7a8a(0xa39));if(_0x12bbbf)_0x12bbbf['textContent']=_0x2502b3[_0x1f7a8a(0x8cf)];const _0x4208e2=document[_0x1f7a8a(0x68b)](_0x1f7a8a(0x76e));_0x4208e2&&(_0x4208e2[_0x1f7a8a(0x373)]=_0x2502b3[_0x1f7a8a(0x6c4)](([_0x5cff16,_0x4bc9a8])=>_0x1f7a8a(0x443)+_0x5cff16+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x5cff16+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x335b96=document['getElementById'](_0x1f7a8a(0x85f));_0x335b96&&(_0x335b96[_0x1f7a8a(0x438)]=_0x2502b3[_0x1f7a8a(0x8cf)]===0x0);}else showView(_0x1f7a8a(0x608)),liveGameView[_0x1f7a8a(0x373)]=_0x1f7a8a(0x6ed)+currentStudentName+_0x1f7a8a(0x8ac);break;case _0x1f7a8a(0x9ad):const _0x47703a=_0x404689['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x1f7a8a(0xa18)][_0x47703a]){const _0x64514c=currentQuizData[_0x1f7a8a(0xa18)][_0x47703a],_0x5a7d0a=_0x404689['questionStatus']||_0x1f7a8a(0x437);switch(_0x5a7d0a){case'summary_chart':currentMode===_0x1f7a8a(0x9a1)?showAdminSummaryView(_0x404689,_0x64514c):showPlayerSummaryView(_0x404689,currentStudentName);break;case _0x1f7a8a(0x50e):currentMode===_0x1f7a8a(0x9a1)&&showTop5LeaderboardView(_0x404689);break;case _0x1f7a8a(0x437):default:if(currentMode===_0x1f7a8a(0x9a1)){const _0x328f74=writeBatch(db);let _0x3a83ed=![];Object[_0x1f7a8a(0x3c4)](_0x404689[_0x1f7a8a(0x49e)])['forEach'](([_0xf8e263,_0x39c610])=>{const _0x3eeae4=_0x1f7a8a;if(_0x39c610['status']===_0x3eeae4(0x299)&&_0x39c610['submittedAt']&&!_0x39c610[_0x3eeae4(0x7a6)]){_0x3a83ed=!![];const _0x5ea0e6=_0x39c610[_0x3eeae4(0x667)]['toDate']()-_0x404689[_0x3eeae4(0x804)][_0x3eeae4(0x4d0)]();let _0x15a967=0x0;if(_0x39c610['lastAnswerCorrect']){const _0x5998bb=0x3e8,_0x355dac=0x1f4,_0x1e2404=0x4e20;let _0xae1237=_0x5ea0e6/_0x1e2404;if(_0xae1237>0x1)_0xae1237=0x1;const _0x1c83f5=Math[_0x3eeae4(0x743)](_0xae1237*_0x355dac);_0x15a967=_0x5998bb-_0x1c83f5;}const _0x3ec8b8=doc(db,_0x3eeae4(0x9d8)+appId+_0x3eeae4(0x776),currentLiveGameId);_0x328f74['update'](_0x3ec8b8,{['players.'+_0xf8e263+_0x3eeae4(0x647)]:increment(_0x15a967),['players.'+_0xf8e263+_0x3eeae4(0x764)]:_0x15a967,[_0x3eeae4(0x400)+_0xf8e263+'.isScored']:!![]});}});_0x3a83ed&&_0x328f74[_0x1f7a8a(0x918)]()[_0x1f7a8a(0x80b)](_0xffc550=>console[_0x1f7a8a(0x6f2)](_0x1f7a8a(0x4f2),_0xffc550));lastRenderedAdminQuestionIndex!==_0x47703a&&(showAdminLiveQuestionView(_0x64514c,_0x47703a,currentQuizData[_0x1f7a8a(0xa18)][_0x1f7a8a(0x8cf)]),lastRenderedAdminQuestionIndex=_0x47703a);const _0x8a49d3=_0x404689[_0x1f7a8a(0x49e)]||{},_0x349651=Object[_0x1f7a8a(0x1f0)](_0x8a49d3)[_0x1f7a8a(0x7cb)](_0x324ebe=>_0x324ebe[_0x1f7a8a(0x719)]===_0x1f7a8a(0x299)),_0x9d9e6a=_0x349651[_0x1f7a8a(0x8cf)],_0x573e7c=_0x349651[_0x1f7a8a(0x7cb)](_0x282f7d=>_0x282f7d[_0x1f7a8a(0x7d3)]===!![])[_0x1f7a8a(0x8cf)],_0x414ac6=document['getElementById'](_0x1f7a8a(0x83b));if(_0x414ac6)_0x414ac6[_0x1f7a8a(0x394)]=_0x573e7c+'/'+_0x9d9e6a;const _0x3c78f1=document[_0x1f7a8a(0x68b)]('live-player-list');if(_0x3c78f1){let _0x5c1d1a=Object[_0x1f7a8a(0x3c4)](_0x8a49d3)[_0x1f7a8a(0x7cb)](([_0x6d33b6,_0x45540e])=>_0x45540e[_0x1f7a8a(0x719)]===_0x1f7a8a(0x299))[_0x1f7a8a(0x6c4)](([_0x46a5e7,_0x49e868])=>{const _0x4a1663=_0x1f7a8a,_0x503f13=_0x49e868[_0x4a1663(0x7d3)]===!![],_0x3f5914=_0x503f13?_0x4a1663(0x266):_0x4a1663(0x97f),_0x153cd0=_0x503f13?_0x4a1663(0x943):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x3f5914+_0x4a1663(0x4be)+_0x153cd0+_0x4a1663(0x4b7)+_0x46a5e7+_0x4a1663(0x6a0)+_0x46a5e7+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1f7a8a(0x559)]('');_0x3c78f1[_0x1f7a8a(0x373)]=_0x5c1d1a||_0x1f7a8a(0x653);}_0x9d9e6a>0x0&&_0x573e7c===_0x9d9e6a&&revealAnswerForAdmin(_0x47703a,currentQuizData[_0x1f7a8a(0xa18)][_0x1f7a8a(0x8cf)]);}else{const _0x3d3809=_0x404689[_0x1f7a8a(0x49e)][currentStudentName];_0x3d3809&&!_0x3d3809[_0x1f7a8a(0x7d3)]&&showStudentLiveQuestionView(_0x64514c,_0x47703a,currentQuizData[_0x1f7a8a(0xa18)][_0x1f7a8a(0x8cf)]);}break;}}break;case'podium':showPodiumView(_0x404689['players']);break;}});}async function handleKickPlayer(_0x470139){const _0x284510=_0x346886;if(!currentLiveGameId||!_0x470139)return;const _0x378a9e=doc(db,_0x284510(0x9d8)+appId+_0x284510(0x776),currentLiveGameId),_0x9c29da={};_0x9c29da['players.'+_0x470139+_0x284510(0x92b)]=_0x284510(0x4ac);try{await updateDoc(_0x378a9e,_0x9c29da);}catch(_0x17c434){console[_0x284510(0x6f2)](_0x284510(0x897)+_0x470139+':',_0x17c434),showMessage(_0x284510(0x924));}}async function authenticateUser(){const _0x1c711d=_0x346886;try{typeof __initial_auth_token!==_0x1c711d(0x4ad)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1b9b65){console['error'](_0x1c711d(0x643),_0x1b9b65),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x4284d7){const _0x2fa98b=_0x346886,_0x1d48ac=[_0x2fa98b(0x83f),_0x2fa98b(0x5d0),_0x2fa98b(0x89d),_0x2fa98b(0x4cc),'quiz-results-view',_0x2fa98b(0x9dd),_0x2fa98b(0x9c2)];_0x1d48ac[_0x2fa98b(0x305)](_0x3677f8=>document[_0x2fa98b(0x68b)](_0x3677f8)?.[_0x2fa98b(0x8f4)][_0x2fa98b(0xa01)]('hidden'));if(_0x4284d7===_0x2fa98b(0x5e2))adminView[_0x2fa98b(0x8f4)][_0x2fa98b(0x42d)]('hidden'),projectDashboardView[_0x2fa98b(0x8f4)]['remove'](_0x2fa98b(0x901));else{if(_0x4284d7===_0x2fa98b(0x632))studentView[_0x2fa98b(0x8f4)][_0x2fa98b(0x42d)]('hidden'),studentInitialView[_0x2fa98b(0x8f4)]['remove'](_0x2fa98b(0x901)),studentNameSelectionView[_0x2fa98b(0x8f4)]['add'](_0x2fa98b(0x901)),studentQuizArea['classList']['add'](_0x2fa98b(0x901)),studentResultArea[_0x2fa98b(0x8f4)][_0x2fa98b(0xa01)](_0x2fa98b(0x901)),studentReadingArea[_0x2fa98b(0x8f4)][_0x2fa98b(0xa01)]('hidden'),studentJoinGameView[_0x2fa98b(0x8f4)]['add'](_0x2fa98b(0x901));else{if(_0x4284d7===_0x2fa98b(0x46f))adminView['classList'][_0x2fa98b(0x42d)]('hidden'),projectDetailView['classList']['remove'](_0x2fa98b(0x901));else{if(_0x4284d7===_0x2fa98b(0x8f7))adminView[_0x2fa98b(0x8f4)][_0x2fa98b(0x42d)]('hidden'),quizResultsView[_0x2fa98b(0x8f4)]['remove']('hidden');else _0x4284d7==='live-game'&&liveGameView[_0x2fa98b(0x8f4)][_0x2fa98b(0x42d)](_0x2fa98b(0x901));}}}}function showJoinGameView(){const _0x3754ae=_0x346886;studentInitialView[_0x3754ae(0x8f4)][_0x3754ae(0xa01)]('hidden'),studentJoinGameView[_0x3754ae(0x8f4)][_0x3754ae(0x42d)](_0x3754ae(0x901));}async function handleSaveVisibilitySettings(){const _0x47c57a=_0x346886;if(!currentProjectId)return;const _0x4340e4=doc(db,_0x47c57a(0x9d8)+appId+_0x47c57a(0x24d),currentProjectId);try{await updateDoc(_0x4340e4,{'settings.showInStudentDashboard':document[_0x47c57a(0x68b)](_0x47c57a(0x9f9))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x47c57a(0x641))[_0x47c57a(0x89c)],'settings.passcode':document[_0x47c57a(0x68b)](_0x47c57a(0x56c))['value'][_0x47c57a(0x905)]()}),showMessage(_0x47c57a(0x7be));}catch(_0x789d8b){console[_0x47c57a(0x6f2)](_0x47c57a(0x702),_0x789d8b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x1bea4b=_0x346886,_0x1aef43=document[_0x1bea4b(0x68b)](_0x1bea4b(0x9dd));_0x1aef43['addEventListener'](_0x1bea4b(0x8d8),_0x28d7a0=>{const _0x603584=_0x1bea4b,_0x14384a=_0x28d7a0[_0x603584(0x2b1)][_0x603584(0x8b2)]('.summary-bar-item');document[_0x603584(0x3df)](_0x603584(0x211))[_0x603584(0x305)](_0x1753da=>{const _0x4628e7=_0x603584;(!_0x14384a||_0x1753da['id']!==_0x14384a['dataset'][_0x4628e7(0x932)])&&_0x1753da[_0x4628e7(0x8f4)][_0x4628e7(0x42d)](_0x4628e7(0x511));});if(!_0x14384a)return;const _0x3fcd47=_0x14384a['dataset'][_0x603584(0x932)],_0x48a2e9=document['getElementById'](_0x3fcd47);_0x48a2e9&&_0x48a2e9[_0x603584(0x8f4)][_0x603584(0x474)](_0x603584(0x511));}),_0x1aef43['addEventListener'](_0x1bea4b(0x8d8),_0x38f330=>{const _0x4100f3=_0x1bea4b;if(_0x38f330['target'][_0x4100f3(0x8f4)][_0x4100f3(0x825)](_0x4100f3(0x259))){const _0x271016=_0x38f330[_0x4100f3(0x2b1)]['dataset'][_0x4100f3(0x5d1)];_0x271016&&handleKickPlayer(_0x271016);}}),document[_0x1bea4b(0x68b)]('project-title')[_0x1bea4b(0x35b)](_0x1bea4b(0x5bd),()=>document[_0x1bea4b(0x68b)](_0x1bea4b(0x435))[_0x1bea4b(0x8f4)][_0x1bea4b(0x42d)](_0x1bea4b(0x901))),document[_0x1bea4b(0x68b)](_0x1bea4b(0x435))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleSaveProjectName),document[_0x1bea4b(0x68b)]('project-title')[_0x1bea4b(0x35b)]('keydown',_0x5e705e=>{const _0x4c51f0=_0x1bea4b;_0x5e705e[_0x4c51f0(0x3f9)]===_0x4c51f0(0x8f8)&&(_0x5e705e[_0x4c51f0(0x23a)](),_0x5e705e[_0x4c51f0(0x2b1)][_0x4c51f0(0x86c)](),handleSaveProjectName());}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x4d2))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x5a01de=_0x1bea4b;document['getElementById']('bulk-quiz-settings-modal')['classList'][_0x5a01de(0x42d)](_0x5a01de(0x901));}),document['getElementById']('cancel-bulk-quiz-settings-btn')['addEventListener'](_0x1bea4b(0x8d8),()=>{const _0x59fd51=_0x1bea4b;document[_0x59fd51(0x68b)](_0x59fd51(0x51e))['classList'][_0x59fd51(0xa01)](_0x59fd51(0x901));}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x3ec))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleBulkUpdateQuizSettings),document[_0x1bea4b(0x68b)]('mode-switcher-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleModeSwitch),document[_0x1bea4b(0x68b)](_0x1bea4b(0x43d))['addEventListener'](_0x1bea4b(0x8d8),handleUpdateOldQuizzes),document['getElementById'](_0x1bea4b(0x620))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleResetProjectOrder),document[_0x1bea4b(0x68b)]('save-visibility-settings-btn')['addEventListener'](_0x1bea4b(0x8d8),handleSaveVisibilitySettings),document[_0x1bea4b(0x68b)](_0x1bea4b(0x63e))[_0x1bea4b(0x35b)]('click',handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')[_0x1bea4b(0x35b)]('click',handleSelectAllTopics),document[_0x1bea4b(0x68b)](_0x1bea4b(0x39f))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleDeselectAllTopics),document['getElementById'](_0x1bea4b(0x71a))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x40e))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x74c))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x348c73=_0x1bea4b;showView(_0x348c73(0x5e2));}),document[_0x1bea4b(0x68b)]('modal-close-btn')['addEventListener'](_0x1bea4b(0x8d8),()=>{const _0x4712ce=_0x1bea4b;messageModal[_0x4712ce(0x8f4)][_0x4712ce(0xa01)](_0x4712ce(0x901)),typeof modalConfirmAction===_0x4712ce(0xa0b)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x455))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>createProjectModal['classList'][_0x1bea4b(0x42d)](_0x1bea4b(0x901))),document[_0x1bea4b(0x68b)](_0x1bea4b(0x8ad))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>createProjectModal[_0x1bea4b(0x8f4)][_0x1bea4b(0xa01)](_0x1bea4b(0x901))),document[_0x1bea4b(0x68b)]('cancel-admin-login-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>adminPasswordModal['classList'][_0x1bea4b(0xa01)](_0x1bea4b(0x901))),document[_0x1bea4b(0x68b)](_0x1bea4b(0x95e))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleAdminLogin),document[_0x1bea4b(0x68b)](_0x1bea4b(0x9a8))[_0x1bea4b(0x35b)](_0x1bea4b(0x5e5),_0x1a5f14=>{const _0x51775b=_0x1bea4b;if(_0x1a5f14['key']===_0x51775b(0x8f8))handleAdminLogin();}),document['getElementById'](_0x1bea4b(0x27f))['addEventListener'](_0x1bea4b(0x8d8),()=>{const _0x16005c=_0x1bea4b;confirmationModal[_0x16005c(0x8f4)][_0x16005c(0xa01)](_0x16005c(0x901)),confirmAction=null;}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x96c))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x53bc47=_0x1bea4b;confirmAction&&confirmAction(),confirmationModal[_0x53bc47(0x8f4)][_0x53bc47(0xa01)](_0x53bc47(0x901)),confirmAction=null;}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x2b0))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>renameQuizModal['classList'][_0x1bea4b(0xa01)](_0x1bea4b(0x901))),document[_0x1bea4b(0x68b)](_0x1bea4b(0x256))[_0x1bea4b(0x35b)]('click',confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>moveQuizModal['classList']['add'](_0x1bea4b(0x901))),document[_0x1bea4b(0x68b)](_0x1bea4b(0x670))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),confirmMoveQuiz),document[_0x1bea4b(0x68b)](_0x1bea4b(0x532))['addEventListener']('click',()=>quizSettingsModal[_0x1bea4b(0x8f4)]['add'](_0x1bea4b(0x901))),document[_0x1bea4b(0x68b)](_0x1bea4b(0x33a))['addEventListener'](_0x1bea4b(0x8d8),confirmQuizSettings),document['getElementById'](_0x1bea4b(0x3a2))[_0x1bea4b(0x35b)]('click',()=>quizStatusModal[_0x1bea4b(0x8f4)][_0x1bea4b(0xa01)](_0x1bea4b(0x901))),document['getElementById'](_0x1bea4b(0x62d))['addEventListener']('click',confirmQuizStatus);const _0x57a372=document['getElementById'](_0x1bea4b(0x38e));document[_0x1bea4b(0x68b)](_0x1bea4b(0x40d))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x125574=_0x1bea4b;_0x57a372[_0x125574(0x8f4)]['add'](_0x125574(0x901));}),document['getElementById'](_0x1bea4b(0x7a1))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),async()=>{const _0xe05cf6=_0x1bea4b,_0x1ab500=allQuizzes['find'](_0x7d545a=>_0x7d545a['id']===actionTargetId);_0x1ab500?(currentQuizData=_0x1ab500,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x57a372[_0xe05cf6(0x8f4)][_0xe05cf6(0xa01)]('hidden');}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x41b))['addEventListener'](_0x1bea4b(0x8d8),async()=>{const _0x5b50c3=_0x1bea4b,_0x3fa7d0=allQuizzes[_0x5b50c3(0x94f)](_0x587288=>_0x587288['id']===actionTargetId);_0x3fa7d0?(currentQuizData=_0x3fa7d0,exportQuizAsTutorPDF()):showMessage(_0x5b50c3(0x75e)),_0x57a372[_0x5b50c3(0x8f4)][_0x5b50c3(0xa01)](_0x5b50c3(0x901));}),document[_0x1bea4b(0x68b)]('open-global-live-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),openGlobalLiveModal),document[_0x1bea4b(0x68b)]('cancel-global-live-btn')[_0x1bea4b(0x35b)]('click',()=>{const _0x3ecfa8=_0x1bea4b;document['getElementById'](_0x3ecfa8(0x74a))[_0x3ecfa8(0x8f4)][_0x3ecfa8(0xa01)](_0x3ecfa8(0x901)),selectedGlobalQuizId=null;}),document[_0x1bea4b(0x68b)]('global-quiz-search-input')['addEventListener']('input',_0x506526=>renderGlobalQuizList(_0x506526[_0x1bea4b(0x2b1)][_0x1bea4b(0x967)])),document[_0x1bea4b(0x68b)](_0x1bea4b(0x5d5))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x3a4736=_0x1bea4b,_0x4331d4=selectedGlobalQuizId;if(!_0x4331d4)return;document[_0x3a4736(0x68b)](_0x3a4736(0x74a))['classList']['add'](_0x3a4736(0x901)),handleStartLiveRace(_0x4331d4);}),document['getElementById'](_0x1bea4b(0x409))[_0x1bea4b(0x35b)](_0x1bea4b(0x55e),renderProjects),document[_0x1bea4b(0x68b)](_0x1bea4b(0x5e4))['addEventListener'](_0x1bea4b(0x562),async()=>{const _0x220abd=_0x1bea4b,_0x5d4878=document[_0x220abd(0x68b)](_0x220abd(0x5e4))['value'],_0x4646dd=doc(db,_0x220abd(0x5aa),_0x220abd(0x4d1));try{await setDoc(_0x4646dd,{'projectSort':_0x5d4878},{'merge':!![]});}catch(_0x26aad2){console[_0x220abd(0x6f2)]('Error\x20updating\x20sort\x20preference:',_0x26aad2),showMessage(_0x220abd(0xa21));}}),document['getElementById'](_0x1bea4b(0x8ee))[_0x1bea4b(0x35b)](_0x1bea4b(0x55e),renderQuizzes),document[_0x1bea4b(0x68b)](_0x1bea4b(0x243))[_0x1bea4b(0x35b)]('click',()=>{const _0x332620=_0x1bea4b;globalDashboardSettings[_0x332620(0x48b)]='grid',saveUserPreference(_0x332620(0x48b),_0x332620(0x515)),renderProjects();}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x475))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x53f032=_0x1bea4b;globalDashboardSettings[_0x53f032(0x48b)]='list',saveUserPreference('projectView',_0x53f032(0x750)),renderProjects();}),manageTab[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>switchProjectTab(_0x1bea4b(0x631))),resultsTab[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>switchProjectTab(_0x1bea4b(0x655))),leaderboardTab[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>switchProjectTab(_0x1bea4b(0x50e))),document['getElementById'](_0x1bea4b(0x7d7))['addEventListener'](_0x1bea4b(0x8d8),()=>switchQuizDetailTab(_0x1bea4b(0x235))),document['getElementById'](_0x1bea4b(0x589))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>switchQuizDetailTab(_0x1bea4b(0xa26))),document[_0x1bea4b(0x68b)]('leaderboard-quiz-tab-btn')['addEventListener'](_0x1bea4b(0x8d8),()=>switchQuizDetailTab(_0x1bea4b(0x592))),document['getElementById'](_0x1bea4b(0x379))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>switchQuizDetailTab(_0x1bea4b(0x2ac))),document[_0x1bea4b(0x68b)](_0x1bea4b(0x915))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x1bea4b(0x8d8),generateWorksheet);const _0x24bcab=document[_0x1bea4b(0x68b)](_0x1bea4b(0x25b)),_0x2ef5d1=document[_0x1bea4b(0x68b)](_0x1bea4b(0x41c)),_0x20a82b=document[_0x1bea4b(0x68b)](_0x1bea4b(0x4d9)),_0x115e31=document[_0x1bea4b(0x68b)](_0x1bea4b(0x264)),_0x1e680d=document[_0x1bea4b(0x68b)]('parallel-test-tab'),_0x1e5dd3=document[_0x1bea4b(0x68b)](_0x1bea4b(0x8ef));topicTab[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x26eaed=_0x1bea4b;topicTab['classList'][_0x26eaed(0xa01)](_0x26eaed(0x299)),textTab['classList'][_0x26eaed(0x42d)](_0x26eaed(0x299)),fileTab[_0x26eaed(0x8f4)][_0x26eaed(0x42d)](_0x26eaed(0x299)),worksheetTab[_0x26eaed(0x8f4)][_0x26eaed(0x42d)](_0x26eaed(0x299));if(_0x24bcab)_0x24bcab[_0x26eaed(0x8f4)][_0x26eaed(0x42d)](_0x26eaed(0x299));if(_0x20a82b)_0x20a82b[_0x26eaed(0x8f4)][_0x26eaed(0x42d)](_0x26eaed(0x299));if(_0x1e680d)_0x1e680d[_0x26eaed(0x8f4)][_0x26eaed(0x42d)](_0x26eaed(0x299));topicInputArea[_0x26eaed(0x8f4)][_0x26eaed(0x42d)](_0x26eaed(0x901)),textInputArea[_0x26eaed(0x8f4)][_0x26eaed(0xa01)](_0x26eaed(0x901)),fileInputArea['classList'][_0x26eaed(0xa01)](_0x26eaed(0x901)),worksheetInputArea[_0x26eaed(0x8f4)][_0x26eaed(0xa01)]('hidden');if(_0x2ef5d1)_0x2ef5d1[_0x26eaed(0x8f4)][_0x26eaed(0xa01)](_0x26eaed(0x901));if(_0x115e31)_0x115e31['classList'][_0x26eaed(0xa01)](_0x26eaed(0x901));if(_0x1e5dd3)_0x1e5dd3[_0x26eaed(0x8f4)]['add']('hidden');}),textTab['addEventListener'](_0x1bea4b(0x8d8),()=>{const _0x3aee62=_0x1bea4b;textTab['classList'][_0x3aee62(0xa01)]('active'),topicTab[_0x3aee62(0x8f4)][_0x3aee62(0x42d)](_0x3aee62(0x299)),fileTab[_0x3aee62(0x8f4)]['remove'](_0x3aee62(0x299)),worksheetTab[_0x3aee62(0x8f4)]['remove'](_0x3aee62(0x299));if(_0x24bcab)_0x24bcab[_0x3aee62(0x8f4)][_0x3aee62(0x42d)](_0x3aee62(0x299));if(_0x20a82b)_0x20a82b[_0x3aee62(0x8f4)][_0x3aee62(0x42d)](_0x3aee62(0x299));if(_0x1e680d)_0x1e680d[_0x3aee62(0x8f4)][_0x3aee62(0x42d)](_0x3aee62(0x299));textInputArea['classList'][_0x3aee62(0x42d)]('hidden'),topicInputArea['classList']['add'](_0x3aee62(0x901)),fileInputArea[_0x3aee62(0x8f4)][_0x3aee62(0xa01)](_0x3aee62(0x901)),worksheetInputArea[_0x3aee62(0x8f4)][_0x3aee62(0xa01)](_0x3aee62(0x901));if(_0x2ef5d1)_0x2ef5d1[_0x3aee62(0x8f4)][_0x3aee62(0xa01)](_0x3aee62(0x901));if(_0x115e31)_0x115e31['classList']['add']('hidden');if(_0x1e5dd3)_0x1e5dd3['classList'][_0x3aee62(0xa01)](_0x3aee62(0x901));}),fileTab[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x921a6b=_0x1bea4b;fileTab[_0x921a6b(0x8f4)][_0x921a6b(0xa01)](_0x921a6b(0x299)),topicTab['classList'][_0x921a6b(0x42d)](_0x921a6b(0x299)),textTab[_0x921a6b(0x8f4)][_0x921a6b(0x42d)]('active'),worksheetTab[_0x921a6b(0x8f4)][_0x921a6b(0x42d)](_0x921a6b(0x299));if(_0x24bcab)_0x24bcab[_0x921a6b(0x8f4)][_0x921a6b(0x42d)](_0x921a6b(0x299));if(_0x20a82b)_0x20a82b['classList'][_0x921a6b(0x42d)](_0x921a6b(0x299));if(_0x1e680d)_0x1e680d[_0x921a6b(0x8f4)]['remove']('active');fileInputArea[_0x921a6b(0x8f4)][_0x921a6b(0x42d)](_0x921a6b(0x901)),topicInputArea[_0x921a6b(0x8f4)][_0x921a6b(0xa01)](_0x921a6b(0x901)),textInputArea[_0x921a6b(0x8f4)]['add'](_0x921a6b(0x901)),worksheetInputArea['classList'][_0x921a6b(0xa01)](_0x921a6b(0x901));if(_0x2ef5d1)_0x2ef5d1[_0x921a6b(0x8f4)]['add'](_0x921a6b(0x901));if(_0x115e31)_0x115e31['classList'][_0x921a6b(0xa01)](_0x921a6b(0x901));if(_0x1e5dd3)_0x1e5dd3['classList']['add'](_0x921a6b(0x901));}),worksheetTab[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x502357=_0x1bea4b;worksheetTab[_0x502357(0x8f4)]['add']('active'),topicTab[_0x502357(0x8f4)]['remove'](_0x502357(0x299)),textTab[_0x502357(0x8f4)][_0x502357(0x42d)](_0x502357(0x299)),fileTab[_0x502357(0x8f4)]['remove'](_0x502357(0x299));if(_0x24bcab)_0x24bcab[_0x502357(0x8f4)][_0x502357(0x42d)](_0x502357(0x299));if(_0x20a82b)_0x20a82b['classList']['remove'](_0x502357(0x299));if(_0x1e680d)_0x1e680d[_0x502357(0x8f4)][_0x502357(0x42d)](_0x502357(0x299));worksheetInputArea[_0x502357(0x8f4)][_0x502357(0x42d)]('hidden'),topicInputArea['classList'][_0x502357(0xa01)](_0x502357(0x901)),textInputArea[_0x502357(0x8f4)]['add'](_0x502357(0x901)),fileInputArea[_0x502357(0x8f4)][_0x502357(0xa01)](_0x502357(0x901));if(_0x2ef5d1)_0x2ef5d1[_0x502357(0x8f4)][_0x502357(0xa01)]('hidden');if(_0x115e31)_0x115e31[_0x502357(0x8f4)][_0x502357(0xa01)](_0x502357(0x901));if(_0x1e5dd3)_0x1e5dd3['classList'][_0x502357(0xa01)](_0x502357(0x901));});const _0x53707a=document['getElementById']('bank-tab'),_0x26a5c2=document[_0x1bea4b(0x68b)]('bank-input-area');_0x53707a&&_0x53707a[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x5285db=_0x1bea4b;topicTab[_0x5285db(0x8f4)][_0x5285db(0x42d)](_0x5285db(0x299)),textTab[_0x5285db(0x8f4)]['remove'](_0x5285db(0x299)),fileTab[_0x5285db(0x8f4)][_0x5285db(0x42d)](_0x5285db(0x299)),worksheetTab[_0x5285db(0x8f4)][_0x5285db(0x42d)]('active');if(_0x24bcab)_0x24bcab['classList']['remove'](_0x5285db(0x299));if(_0x20a82b)_0x20a82b[_0x5285db(0x8f4)][_0x5285db(0x42d)]('active');if(_0x1e680d)_0x1e680d[_0x5285db(0x8f4)][_0x5285db(0x42d)](_0x5285db(0x299));_0x53707a[_0x5285db(0x8f4)]['add'](_0x5285db(0x299)),topicInputArea[_0x5285db(0x8f4)][_0x5285db(0xa01)](_0x5285db(0x901)),textInputArea[_0x5285db(0x8f4)][_0x5285db(0xa01)](_0x5285db(0x901)),fileInputArea[_0x5285db(0x8f4)]['add'](_0x5285db(0x901)),worksheetInputArea[_0x5285db(0x8f4)]['add']('hidden');if(_0x2ef5d1)_0x2ef5d1[_0x5285db(0x8f4)][_0x5285db(0xa01)](_0x5285db(0x901));if(_0x115e31)_0x115e31['classList'][_0x5285db(0xa01)](_0x5285db(0x901));if(_0x1e5dd3)_0x1e5dd3['classList'][_0x5285db(0xa01)]('hidden');_0x26a5c2[_0x5285db(0x8f4)]['remove'](_0x5285db(0x901)),displayQuestionBank();});_0x24bcab&&(_0x24bcab[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0xc1939e=_0x1bea4b;_0x24bcab[_0xc1939e(0x8f4)][_0xc1939e(0xa01)](_0xc1939e(0x299)),topicTab[_0xc1939e(0x8f4)][_0xc1939e(0x42d)](_0xc1939e(0x299)),textTab[_0xc1939e(0x8f4)][_0xc1939e(0x42d)]('active'),fileTab['classList'][_0xc1939e(0x42d)]('active'),worksheetTab[_0xc1939e(0x8f4)][_0xc1939e(0x42d)]('active');if(_0x20a82b)_0x20a82b[_0xc1939e(0x8f4)]['remove'](_0xc1939e(0x299));if(_0x1e680d)_0x1e680d[_0xc1939e(0x8f4)][_0xc1939e(0x42d)]('active');_0x2ef5d1[_0xc1939e(0x8f4)][_0xc1939e(0x42d)](_0xc1939e(0x901)),topicInputArea[_0xc1939e(0x8f4)][_0xc1939e(0xa01)](_0xc1939e(0x901)),textInputArea[_0xc1939e(0x8f4)][_0xc1939e(0xa01)]('hidden'),fileInputArea[_0xc1939e(0x8f4)][_0xc1939e(0xa01)](_0xc1939e(0x901)),worksheetInputArea[_0xc1939e(0x8f4)][_0xc1939e(0xa01)](_0xc1939e(0x901));if(_0x115e31)_0x115e31[_0xc1939e(0x8f4)]['add'](_0xc1939e(0x901));if(_0x1e5dd3)_0x1e5dd3['classList'][_0xc1939e(0xa01)](_0xc1939e(0x901));}),document[_0x1bea4b(0x68b)]('generate-from-link-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleGenerateFromLink));_0x20a82b&&_0x20a82b[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x5a81fa=_0x1bea4b;_0x20a82b['classList'][_0x5a81fa(0xa01)](_0x5a81fa(0x299)),topicTab[_0x5a81fa(0x8f4)]['remove']('active'),textTab[_0x5a81fa(0x8f4)]['remove'](_0x5a81fa(0x299)),fileTab['classList']['remove'](_0x5a81fa(0x299)),worksheetTab[_0x5a81fa(0x8f4)]['remove']('active');if(_0x24bcab)_0x24bcab[_0x5a81fa(0x8f4)][_0x5a81fa(0x42d)](_0x5a81fa(0x299));if(_0x53707a)_0x53707a[_0x5a81fa(0x8f4)]['remove']('active');if(_0x1e680d)_0x1e680d['classList'][_0x5a81fa(0x42d)](_0x5a81fa(0x299));_0x115e31[_0x5a81fa(0x8f4)]['remove']('hidden'),topicInputArea['classList'][_0x5a81fa(0xa01)](_0x5a81fa(0x901)),textInputArea[_0x5a81fa(0x8f4)]['add'](_0x5a81fa(0x901)),fileInputArea[_0x5a81fa(0x8f4)][_0x5a81fa(0xa01)](_0x5a81fa(0x901)),worksheetInputArea[_0x5a81fa(0x8f4)][_0x5a81fa(0xa01)](_0x5a81fa(0x901));if(_0x2ef5d1)_0x2ef5d1[_0x5a81fa(0x8f4)]['add'](_0x5a81fa(0x901));if(_0x26a5c2)_0x26a5c2[_0x5a81fa(0x8f4)][_0x5a81fa(0xa01)](_0x5a81fa(0x901));if(_0x1e5dd3)_0x1e5dd3['classList']['add'](_0x5a81fa(0x901));});_0x1e680d&&_0x1e680d[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x3db896=_0x1bea4b;_0x1e680d[_0x3db896(0x8f4)][_0x3db896(0xa01)](_0x3db896(0x299)),topicTab[_0x3db896(0x8f4)][_0x3db896(0x42d)](_0x3db896(0x299)),textTab['classList']['remove'](_0x3db896(0x299)),fileTab[_0x3db896(0x8f4)][_0x3db896(0x42d)](_0x3db896(0x299)),worksheetTab[_0x3db896(0x8f4)][_0x3db896(0x42d)](_0x3db896(0x299));if(_0x24bcab)_0x24bcab[_0x3db896(0x8f4)][_0x3db896(0x42d)]('active');if(_0x20a82b)_0x20a82b['classList']['remove'](_0x3db896(0x299));if(_0x53707a)_0x53707a['classList']['remove']('active');_0x1e5dd3['classList'][_0x3db896(0x42d)](_0x3db896(0x901)),topicInputArea['classList']['add'](_0x3db896(0x901)),textInputArea[_0x3db896(0x8f4)]['add'](_0x3db896(0x901)),fileInputArea[_0x3db896(0x8f4)][_0x3db896(0xa01)](_0x3db896(0x901)),worksheetInputArea[_0x3db896(0x8f4)][_0x3db896(0xa01)](_0x3db896(0x901));if(_0x2ef5d1)_0x2ef5d1[_0x3db896(0x8f4)]['add'](_0x3db896(0x901));if(_0x115e31)_0x115e31[_0x3db896(0x8f4)]['add']('hidden');if(_0x26a5c2)_0x26a5c2[_0x3db896(0x8f4)][_0x3db896(0xa01)]('hidden');});const _0x1973ad=document[_0x1bea4b(0x68b)](_0x1bea4b(0x4de)),_0x1112c9=document[_0x1bea4b(0x68b)](_0x1bea4b(0x7fc));_0x1973ad&&_0x1973ad['addEventListener'](_0x1bea4b(0x562),_0xa7a7d3=>{const _0x185808=_0x1bea4b;_0xa7a7d3[_0x185808(0x2b1)]['files']['length']>0x0?_0x1112c9[_0x185808(0x438)]=![]:_0x1112c9[_0x185808(0x438)]=!![];});_0x1112c9&&_0x1112c9['addEventListener']('click',handleGenerateFromBlueprint);const _0x5f2e74=document['getElementById'](_0x1bea4b(0x270)),_0x13fc50=document['getElementById']('generate-from-parallel-test-btn');_0x5f2e74&&_0x5f2e74[_0x1bea4b(0x35b)](_0x1bea4b(0x562),_0xe3edd0=>{const _0x3d1baa=_0x1bea4b;_0x13fc50[_0x3d1baa(0x438)]=_0xe3edd0[_0x3d1baa(0x2b1)]['files']['length']===0x0;});_0x13fc50&&_0x13fc50['addEventListener'](_0x1bea4b(0x8d8),handleGenerateParallelTest);loadQuizBtn[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x2122b5=_0x1bea4b,_0x27f428=document[_0x2122b5(0x68b)]('student-name-select');currentStudentName=_0x27f428['value'];if(!currentStudentName){showMessage(_0x2122b5(0x47a));return;}try{const _0x503e7d=currentQuizData['id'],_0x5d182b=doc(db,_0x2122b5(0x9d8)+appId+_0x2122b5(0x867)+_0x503e7d+'/submissions',currentStudentName);await setDoc(_0x5d182b,{'studentName':currentStudentName,'startedAt':new Date()[_0x2122b5(0x651)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x226fae){console[_0x2122b5(0x6f2)](_0x2122b5(0x7b3),_0x226fae),showMessage(_0x2122b5(0x6d6));return;}studentNameSelectionView[_0x2122b5(0x8f4)][_0x2122b5(0xa01)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x7fa))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),showJoinGameView),document['getElementById']('confirm-join-game-btn')['addEventListener'](_0x1bea4b(0x8d8),handleJoinLiveGame),document[_0x1bea4b(0x68b)]('back-to-student-initial-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>showView(_0x1bea4b(0x632)));const _0x532795=()=>{const _0x2442ef=_0x1bea4b,_0x5ab5eb=document['getElementById'](_0x2442ef(0x219))[_0x2442ef(0x394)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2442ef(0x95a)+(_0x5ab5eb||'quiz');},_0x2505cb=document[_0x1bea4b(0x68b)]('math-topic-search-input');_0x2505cb&&_0x2505cb[_0x1bea4b(0x35b)](_0x1bea4b(0x55e),_0x32cf94=>{const _0x21552b=_0x1bea4b,_0x588009=_0x32cf94[_0x21552b(0x2b1)][_0x21552b(0x967)][_0x21552b(0x4c2)]()['trim'](),_0x1533cb=document[_0x21552b(0x68b)](_0x21552b(0x371)),_0x577155=_0x1533cb[_0x21552b(0x3df)](_0x21552b(0x2ce));_0x577155[_0x21552b(0x305)](_0x3688fe=>{const _0x3e6d24=_0x21552b;let _0x539976=![];const _0x12bcbb=_0x3688fe[_0x3e6d24(0x3df)](_0x3e6d24(0x808));_0x12bcbb[_0x3e6d24(0x305)](_0x2325cb=>{const _0x5a7c1e=_0x3e6d24,_0x3b52ff=_0x2325cb['querySelector'](_0x5a7c1e(0x93d))[_0x5a7c1e(0x394)][_0x5a7c1e(0x4c2)]();_0x3b52ff[_0x5a7c1e(0x634)](_0x588009)?(_0x2325cb[_0x5a7c1e(0x4bb)][_0x5a7c1e(0x546)]=_0x5a7c1e(0x772),_0x539976=!![]):_0x2325cb[_0x5a7c1e(0x4bb)][_0x5a7c1e(0x546)]=_0x5a7c1e(0x313);}),_0x539976?_0x3688fe[_0x3e6d24(0x4bb)][_0x3e6d24(0x546)]=_0x3e6d24(0x95c):_0x3688fe[_0x3e6d24(0x4bb)][_0x3e6d24(0x546)]=_0x3e6d24(0x313);});});document['getElementById']('export-image-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>exportTableAsImage(_0x1bea4b(0x751),_0x532795())),document['getElementById'](_0x1bea4b(0x55c))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>exportTableAsPDF('results-table',_0x532795())),document[_0x1bea4b(0x68b)](_0x1bea4b(0x92c))['addEventListener']('click',()=>exportTableAsWord(_0x1bea4b(0x751),_0x532795())),document['getElementById'](_0x1bea4b(0x9c3))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>exportTableAsExcel('results-table',_0x532795()));const _0x3012c2=()=>{const _0x222136=_0x1bea4b,_0x448496=document[_0x222136(0x68b)]('results-quiz-title')[_0x222136(0x394)][_0x222136(0x2e5)](/[^a-z0-9]/gi,'_')[_0x222136(0x4c2)]();return _0x222136(0x9ee)+(_0x448496||'quiz');};document['getElementById'](_0x1bea4b(0x404))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>exportTableAsImage(_0x1bea4b(0x3c8),_0x3012c2())),document[_0x1bea4b(0x68b)](_0x1bea4b(0x84b))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>exportTableAsPDF('quiz-leaderboard-table',_0x3012c2())),document[_0x1bea4b(0x68b)](_0x1bea4b(0x8cc))['addEventListener'](_0x1bea4b(0x8d8),()=>exportTableAsWord(_0x1bea4b(0x3c8),_0x3012c2())),document[_0x1bea4b(0x68b)](_0x1bea4b(0x4ef))[_0x1bea4b(0x35b)]('click',()=>exportTableAsExcel(_0x1bea4b(0x6c0),_0x3012c2())),projectQuizzesList[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),async _0x1c4de9=>{const _0x297e12=_0x1bea4b,_0x8ddcc=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x661)),_0x5d5b76=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x9e1)),_0x2b6e19=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x8d9)),_0x46654c=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x4a0)),_0x1bc978=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)]('.star-quiz-btn'),_0x53b162=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x8d7)),_0x229268=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x554)),_0x3cd81d=_0x1c4de9['target'][_0x297e12(0x8b2)](_0x297e12(0x65c)),_0xe83eb=_0x1c4de9['target'][_0x297e12(0x8b2)]('.duplicate-quiz-btn'),_0x1b7e9d=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)]('.rename-quiz-btn'),_0x2f7e95=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x844)),_0x2e2401=_0x1c4de9[_0x297e12(0x2b1)]['closest']('.move-quiz-btn'),_0x557ec7=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x6c7)),_0x471fd1=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)]('.unpair-quiz-btn'),_0x565548=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x9b4)),_0x59d700=_0x1c4de9['target'][_0x297e12(0x8b2)](_0x297e12(0x22e)),_0xeb2653=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)](_0x297e12(0x24c)),_0x232ad4=_0x1c4de9[_0x297e12(0x2b1)]['closest'](_0x297e12(0x98d)),_0x2bb823=_0x1c4de9[_0x297e12(0x2b1)]['closest'](_0x297e12(0x551)),_0x2f95cc=_0x1c4de9[_0x297e12(0x2b1)][_0x297e12(0x8b2)]('.quiz-status-btn'),_0x106432=_0x1c4de9['target']['closest'](_0x297e12(0x4a7)),_0x37d60c=_0x1c4de9['target'][_0x297e12(0x8b2)](_0x297e12(0x2a7));if(_0x106432){const _0x29e6da=_0x106432['dataset'][_0x297e12(0x57d)],_0xe04ea1=document[_0x297e12(0x68b)]('actions-container-'+_0x29e6da);_0xe04ea1&&_0xe04ea1[_0x297e12(0x8f4)][_0x297e12(0x474)](_0x297e12(0x901));}else{if(_0x5d5b76){const _0x1f36c9=_0x5d5b76[_0x297e12(0x898)]['quizId'],_0x34b68c=allQuizzes['find'](_0x2d12f1=>_0x2d12f1['id']===_0x1f36c9);_0x34b68c&&handleGenerateParallelPostTest(_0x34b68c);}else{if(_0x2b6e19)handleCompareResults(_0x2b6e19[_0x297e12(0x898)]['quizId'],_0x2b6e19[_0x297e12(0x898)][_0x297e12(0x252)]);else{if(_0x46654c){const _0x1b7a53=_0x46654c[_0x297e12(0x898)]['quizId'],_0xaf7fa5=allQuizzes['find'](_0x3c7427=>_0x3c7427['id']===_0x1b7a53);_0xaf7fa5&&_0xaf7fa5['lessonPlan']?(displayLessonPlan(_0xaf7fa5[_0x297e12(0x690)],_0xaf7fa5),showConfirmation(_0x297e12(0x6c6),()=>handleGenerateLessonPlan(_0x1b7a53)),document[_0x297e12(0x68b)](_0x297e12(0x579))[_0x297e12(0x293)]('h3')[_0x297e12(0x394)]=_0x297e12(0x8cd),document['getElementById']('confirm-delete-btn')[_0x297e12(0x394)]=_0x297e12(0x5fd)):handleGenerateLessonPlan(_0x1b7a53);}else{if(_0x1bc978)handleToggleStarQuiz(_0x1bc978[_0x297e12(0x898)][_0x297e12(0x57d)]);else{if(_0x53b162)copyTextToClipboard(_0x53b162['dataset']['quizId'],'คัดลอกรหัสแล้ว!');else{if(_0x229268)handleOpenQuizEditor(_0x229268[_0x297e12(0x898)][_0x297e12(0x57d)]);else{if(_0x3cd81d)handleQuizSettings(_0x3cd81d[_0x297e12(0x898)][_0x297e12(0x57d)]);else{if(_0xe83eb)handleDuplicateQuiz(_0xe83eb[_0x297e12(0x898)][_0x297e12(0x57d)]);else{if(_0x1b7e9d)handleRenameQuiz(_0x1b7e9d[_0x297e12(0x898)][_0x297e12(0x57d)],_0x1b7e9d[_0x297e12(0x898)]['topic']);else{if(_0x2f7e95){const _0x3ef2f5=_0x2f7e95['dataset']['quizId'],_0x20300f=allQuizzes[_0x297e12(0x94f)](_0x36321d=>_0x36321d['id']===_0x3ef2f5);_0x20300f&&handleGenerateParallelFromBank(_0x20300f);}else{if(_0x2e2401)handleMoveQuiz(_0x2e2401['dataset'][_0x297e12(0x57d)]);else{if(_0x557ec7)handleManualQuizPairing(_0x557ec7[_0x297e12(0x898)][_0x297e12(0x57d)]);else{if(_0x471fd1)handleUnpairQuiz(_0x471fd1['dataset'][_0x297e12(0x57d)]);else{if(_0x565548){const _0x44d5a9=_0x565548[_0x297e12(0x898)][_0x297e12(0x57d)],_0x2dde9b=allQuizzes[_0x297e12(0x94f)](_0x21f6bf=>_0x21f6bf['id']===_0x44d5a9);if(_0x2dde9b)startPresentation(_0x2dde9b);}else{if(_0x59d700){const _0x21eca2=_0x59d700[_0x297e12(0x898)][_0x297e12(0x57d)],_0x32e585=allQuizzes[_0x297e12(0x94f)](_0x28c61a=>_0x28c61a['id']===_0x21eca2);_0x32e585&&(currentQuizData=_0x32e585,startAdminTest());}else{if(_0xeb2653)handleStartLiveRace(_0xeb2653['dataset'][_0x297e12(0x57d)]);else{if(_0x232ad4)actionTargetId=_0x232ad4[_0x297e12(0x898)]['quizId'],document[_0x297e12(0x68b)](_0x297e12(0x38e))['classList'][_0x297e12(0x42d)](_0x297e12(0x901));else{if(_0x2bb823)showConfirmation(_0x297e12(0x79f)+_0x2bb823[_0x297e12(0x898)]['topic']+_0x297e12(0x8af),()=>handleDeleteQuiz(_0x2bb823[_0x297e12(0x898)][_0x297e12(0x57d)]));else{if(_0x2f95cc)handleQuizStatus(_0x2f95cc[_0x297e12(0x898)][_0x297e12(0x57d)]);else{if(_0x37d60c)handleGenerateEasyVersionQuiz(_0x37d60c[_0x297e12(0x898)][_0x297e12(0x57d)]);else _0x8ddcc&&showQuizDetailView(_0x8ddcc[_0x297e12(0x898)][_0x297e12(0x57d)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x6c0))['querySelector'](_0x1bea4b(0x596))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),_0x2973e2=>{const _0x4799d3=_0x1bea4b,_0x187d5d=_0x2973e2[_0x4799d3(0x2b1)][_0x4799d3(0x8b2)](_0x4799d3(0x9a7));if(!_0x187d5d||!_0x187d5d['dataset'][_0x4799d3(0x787)])return;const _0x23bd02=_0x187d5d[_0x4799d3(0x898)][_0x4799d3(0x787)];if(quizLeaderboardSortBy===_0x23bd02)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4799d3(0x5de)?'desc':_0x4799d3(0x5de);else{quizLeaderboardSortBy=_0x23bd02;const _0x36b3ac=[_0x4799d3(0x7ad)];quizLeaderboardSortOrder=_0x36b3ac[_0x4799d3(0x634)](_0x23bd02)?_0x4799d3(0x5de):_0x4799d3(0x8b5);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4799d3(0x792));}),document['getElementById'](_0x1bea4b(0x31a))['addEventListener'](_0x1bea4b(0x8d8),closePresentation),document[_0x1bea4b(0x68b)](_0x1bea4b(0x612))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x3da))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x37301f=_0x1bea4b;currentQuizData[_0x37301f(0xa18)]&&currentPresentationSlide<currentQuizData[_0x37301f(0xa18)][_0x37301f(0x8cf)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1bea4b(0x35b)](_0x1bea4b(0x9e8),()=>{const _0x27d8da=_0x1bea4b;!document[_0x27d8da(0x872)]&&(presentationModal['style']['display']=_0x27d8da(0x313));}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x4ea))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleDeleteAllStudents),studentList[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),_0x59003a=>{const _0x418072=_0x1bea4b,_0x184730=_0x59003a['target'][_0x418072(0x8b2)](_0x418072(0x988));if(_0x184730){const _0x5522e8=_0x184730[_0x418072(0x898)][_0x418072(0x7ad)];handleDeleteStudent(_0x5522e8);}}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x330))[_0x1bea4b(0x35b)]('click',handleGenerateFromFileClick),fileUploadInput[_0x1bea4b(0x35b)](_0x1bea4b(0x562),_0x384c17=>{const _0x57900b=_0x1bea4b,_0xcb65f1=_0x384c17[_0x57900b(0x2b1)][_0x57900b(0x7ac)][0x0],_0x458434=document[_0x57900b(0x68b)]('generate-from-file-btn');_0xcb65f1?(selectedFile=_0xcb65f1,_0x458434[_0x57900b(0x438)]=![]):(selectedFile=null,_0x458434[_0x57900b(0x438)]=!![]);}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x48d))[_0x1bea4b(0x35b)]('change',_0x2aa2fe=>{const _0x1f1ae9=_0x1bea4b,_0x3bc5bf=document[_0x1f1ae9(0x68b)](_0x1f1ae9(0x3d0)),_0x2be860=document[_0x1f1ae9(0x68b)](_0x1f1ae9(0x98e)),_0x4b9a55=document[_0x1f1ae9(0x68b)](_0x1f1ae9(0x28b));_0x2aa2fe[_0x1f1ae9(0x2b1)]['value']===_0x1f1ae9(0x313)?_0x3bc5bf[_0x1f1ae9(0x8f4)][_0x1f1ae9(0xa01)]('hidden'):(_0x3bc5bf[_0x1f1ae9(0x8f4)][_0x1f1ae9(0x42d)](_0x1f1ae9(0x901)),_0x2aa2fe[_0x1f1ae9(0x2b1)][_0x1f1ae9(0x967)]===_0x1f1ae9(0x459)?(_0x2be860[_0x1f1ae9(0x394)]=_0x1f1ae9(0x972),_0x4b9a55[_0x1f1ae9(0x967)]='10'):(_0x2be860[_0x1f1ae9(0x394)]=_0x1f1ae9(0x629),_0x4b9a55[_0x1f1ae9(0x967)]='30'));}),document['getElementById']('quiz-type-select')['addEventListener'](_0x1bea4b(0x562),_0x49e3f6=>{const _0xd796b9=_0x1bea4b,_0xd5c623=document[_0xd796b9(0x68b)](_0xd796b9(0x527)),_0x6265bc=_0x49e3f6[_0xd796b9(0x2b1)][_0xd796b9(0x967)],_0x17adb4=document['querySelector'](_0xd796b9(0x949)),_0x3da4a4=document[_0xd796b9(0x68b)](_0xd796b9(0x606)),_0x173b70=document[_0xd796b9(0x68b)](_0xd796b9(0x7c2));_0x6265bc===_0xd796b9(0x29d)?_0x17adb4[_0xd796b9(0x394)]=_0xd796b9(0x49d):_0x17adb4[_0xd796b9(0x394)]=_0xd796b9(0x42f),_0x6265bc==='multiple_choice'||_0x6265bc===_0xd796b9(0x7f7)||_0x6265bc===_0xd796b9(0x57b)?_0xd5c623[_0xd796b9(0x8f4)][_0xd796b9(0x42d)](_0xd796b9(0x901)):_0xd5c623[_0xd796b9(0x8f4)][_0xd796b9(0xa01)]('hidden'),_0x3da4a4[_0xd796b9(0x874)]=_0x173b70[_0xd796b9(0x967)];}),document[_0x1bea4b(0x68b)]('num-questions')[_0x1bea4b(0x35b)](_0x1bea4b(0x55e),_0x7d67f0=>{const _0x3da90c=_0x1bea4b;document[_0x3da90c(0x68b)](_0x3da90c(0x606))[_0x3da90c(0x874)]=_0x7d67f0[_0x3da90c(0x2b1)]['value'];}),document['getElementById'](_0x1bea4b(0x8a7))[_0x1bea4b(0x35b)](_0x1bea4b(0x562),_0x25fae7=>{const _0x41c16b=_0x1bea4b,_0x1bdaca=document['getElementById'](_0x41c16b(0x4b0)),_0x121f0d=document[_0x41c16b(0x68b)](_0x41c16b(0x8c2)),_0x3d31ae=document[_0x41c16b(0x68b)](_0x41c16b(0x372));_0x25fae7[_0x41c16b(0x2b1)][_0x41c16b(0x967)]===_0x41c16b(0x313)?_0x1bdaca[_0x41c16b(0x8f4)]['add'](_0x41c16b(0x901)):(_0x1bdaca[_0x41c16b(0x8f4)][_0x41c16b(0x42d)](_0x41c16b(0x901)),_0x25fae7[_0x41c16b(0x2b1)][_0x41c16b(0x967)]===_0x41c16b(0x459)?_0x121f0d['textContent']='ระยะเวลา\x20(นาที):':_0x121f0d[_0x41c16b(0x394)]=_0x41c16b(0x629));}),document[_0x1bea4b(0x68b)]('cancel-quiz-edits-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x559bd2=_0x1bea4b;document[_0x559bd2(0x68b)]('quiz-editor-modal')[_0x559bd2(0x8f4)]['add'](_0x559bd2(0x901));}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x535))['addEventListener'](_0x1bea4b(0x8d8),()=>{const _0x453a48=_0x1bea4b;document[_0x453a48(0x68b)](_0x453a48(0x8ec))[_0x453a48(0x8f4)][_0x453a48(0xa01)]('hidden');}),document['getElementById']('verify-answers-editor-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleVerifyAnswersInEditor),document[_0x1bea4b(0x68b)](_0x1bea4b(0x374))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x1233e3=_0x1bea4b;document[_0x1233e3(0x68b)](_0x1233e3(0x8ec))[_0x1233e3(0x8f4)][_0x1233e3(0xa01)]('hidden'),showConfirmation(_0x1233e3(0x7df),handleSaveChanges);}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x84d))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),handleAutoFixLatex);const _0x22c35c=document[_0x1bea4b(0x68b)](_0x1bea4b(0x45e));_0x22c35c&&_0x22c35c[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),_0x1bea8f=>{const _0x3de651=_0x1bea4b,_0x10d506=_0x1bea8f[_0x3de651(0x2b1)]['closest']('.regenerate-question-editor-btn'),_0x259372=_0x1bea8f['target'][_0x3de651(0x8b2)](_0x3de651(0x4ae));if(_0x10d506){const _0x1c87c7=_0x10d506['closest'](_0x3de651(0x2b9)),_0x218ab2=parseInt(_0x1c87c7[_0x3de651(0x898)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x218ab2);}else{if(_0x259372){const _0x2233ef=_0x259372['closest']('.question-editor-item'),_0x16d580=parseInt(_0x2233ef[_0x3de651(0x898)][_0x3de651(0x37f)],0xa);handleAiFixFormula(_0x16d580);}}});document[_0x1bea4b(0x68b)](_0x1bea4b(0x311))[_0x1bea4b(0x35b)]('click',openQuizBankModal),document['getElementById'](_0x1bea4b(0x339))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x5c6658=_0x1bea4b;document[_0x5c6658(0x68b)]('quiz-bank-modal')['classList']['add'](_0x5c6658(0x901));}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x424))[_0x1bea4b(0x35b)](_0x1bea4b(0x55e),_0x5dd6f2=>renderQuizBankList(_0x5dd6f2['target'][_0x1bea4b(0x967)]));const _0x5cee58=document[_0x1bea4b(0x68b)](_0x1bea4b(0x371));if(_0x5cee58){let _0x4bb9e5=null;_0x5cee58[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),_0x4bda74=>{const _0xe09ac7=_0x1bea4b,_0x28cd26=_0x4bda74[_0xe09ac7(0x2b1)],_0x26fd6b=_0x28cd26[_0xe09ac7(0x8b2)]('.edit-custom-topic-btn'),_0x124915=_0x28cd26['closest'](_0xe09ac7(0x9ba)),_0x1875dc=_0x28cd26['closest'](_0xe09ac7(0x2aa)),_0x212228=_0x28cd26[_0xe09ac7(0x8b2)]('.cancel-edit-topic-btn');if(_0x124915){_0x4bda74[_0xe09ac7(0x23a)]();const _0x3e386d=_0x124915[_0xe09ac7(0x898)]['id'],_0x2e6bbf=_0x124915[_0xe09ac7(0x8b2)](_0xe09ac7(0x6bb))[_0xe09ac7(0x293)](_0xe09ac7(0x93d))[_0xe09ac7(0x394)];showConfirmation(_0xe09ac7(0x35d)+_0x2e6bbf+'\x22?',()=>handleDeleteCustomTopic(_0x3e386d));}else{if(_0x26fd6b){_0x4bda74[_0xe09ac7(0x23a)]();_0x4bb9e5&&toggleTopicEditMode(_0x4bb9e5,![]);const _0x58cdec=_0x26fd6b['closest'](_0xe09ac7(0x9e4));_0x4bb9e5=_0x58cdec,toggleTopicEditMode(_0x58cdec,!![]);}else{if(_0x1875dc){_0x4bda74[_0xe09ac7(0x23a)]();const _0x2807cd=_0x1875dc[_0xe09ac7(0x898)]['id'],_0x3ac975=_0x1875dc['closest']('[data-topic-container-id]'),_0x263237=_0x3ac975[_0xe09ac7(0x293)](_0xe09ac7(0x672))[_0xe09ac7(0x967)];handleUpdateCustomTopic(_0x2807cd,_0x263237),_0x4bb9e5=null;}else{if(_0x212228){_0x4bda74[_0xe09ac7(0x23a)]();const _0x4aaae3=_0x212228[_0xe09ac7(0x8b2)](_0xe09ac7(0x9e4));toggleTopicEditMode(_0x4aaae3,![]),_0x4bb9e5=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x1f1403=_0x1bea4b;document[_0x1f1403(0x68b)]('lesson-plan-modal')[_0x1f1403(0x8f4)][_0x1f1403(0xa01)](_0x1f1403(0x901));}),document[_0x1bea4b(0x68b)]('close-lesson-plan-modal-footer-btn')[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x559a80=_0x1bea4b;document[_0x559a80(0x68b)]('lesson-plan-modal')[_0x559a80(0x8f4)][_0x559a80(0xa01)](_0x559a80(0x901));}),document['getElementById']('export-lesson-pdf-btn')[_0x1bea4b(0x35b)]('click',handleExportLessonPDF);}document[_0x1bea4b(0x68b)](_0x1bea4b(0x89a))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x4d0d8b=_0x1bea4b;document[_0x4d0d8b(0x68b)](_0x4d0d8b(0x6cd))[_0x4d0d8b(0x8f4)][_0x4d0d8b(0xa01)](_0x4d0d8b(0x901));}),document[_0x1bea4b(0x68b)](_0x1bea4b(0x6ca))[_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),()=>{const _0x36df97=_0x1bea4b;document[_0x36df97(0x68b)](_0x36df97(0x6cd))[_0x36df97(0x8f4)][_0x36df97(0xa01)](_0x36df97(0x901));}),setupComparisonModalTabs(),document[_0x1bea4b(0x47e)][_0x1bea4b(0x35b)](_0x1bea4b(0x8d8),function(_0x4be58d){const _0x1f3574=_0x1bea4b;if(_0x4be58d['target'][_0x1f3574(0x8f4)][_0x1f3574(0x825)](_0x1f3574(0x911))){const _0x4d6f9d=unescape(_0x4be58d['target'][_0x1f3574(0x898)][_0x1f3574(0x9e3)]);startSkillPractice(_0x4d6f9d);}}),document[_0x1bea4b(0x68b)]('scores-tab-content')['addEventListener']('click',_0x9bb682=>{const _0x183617=_0x1bea4b,_0x4f8354=_0x9bb682['target'][_0x183617(0x8b2)](_0x183617(0x76c));if(_0x4f8354){const _0x2a726f=_0x4f8354[_0x183617(0x898)][_0x183617(0x7ad)];handleDeleteSubmission(_0x2a726f);}});}async function showStudentProgressView(){const _0x4872f8=_0x346886;studentInitialView[_0x4872f8(0x8f4)][_0x4872f8(0xa01)](_0x4872f8(0x901)),document[_0x4872f8(0x68b)](_0x4872f8(0x9c2))[_0x4872f8(0x8f4)][_0x4872f8(0x42d)](_0x4872f8(0x901));const _0xf39228=document[_0x4872f8(0x68b)](_0x4872f8(0x2c9)),_0x3e0a43=document['getElementById'](_0x4872f8(0x389)),_0x321e8b=document[_0x4872f8(0x68b)]('student-progress-content');_0x321e8b[_0x4872f8(0x373)]=_0x4872f8(0x87e),_0x3e0a43[_0x4872f8(0x373)]=_0x4872f8(0x635),_0x3e0a43[_0x4872f8(0x438)]=!![],_0xf39228[_0x4872f8(0x373)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x4872f8(0x8cf)]===0x0){const _0x2bfc43=collection(db,_0x4872f8(0x9d8)+appId+'/public/data/projects'),_0xc092c1=await getDocs(_0x2bfc43);allProjects=_0xc092c1[_0x4872f8(0xa07)]['map'](_0x2f8d81=>({'id':_0x2f8d81['id'],..._0x2f8d81[_0x4872f8(0x3c0)]()}));}const _0x3fb3ca=allProjects[_0x4872f8(0x7cb)](_0x196e9e=>_0x196e9e[_0x4872f8(0x7f0)]?.[_0x4872f8(0x682)]!==![]);_0x3fb3ca[_0x4872f8(0x787)]((_0x4598c9,_0x54ccbe)=>_0x4598c9[_0x4872f8(0x985)][_0x4872f8(0x959)](_0x54ccbe[_0x4872f8(0x985)],'th')),_0xf39228[_0x4872f8(0x373)]=_0x4872f8(0x6a9)+_0x3fb3ca[_0x4872f8(0x6c4)](_0x28e269=>_0x4872f8(0x957)+_0x28e269['id']+'\x22>'+_0x28e269[_0x4872f8(0x985)]+_0x4872f8(0x225))[_0x4872f8(0x559)](''),_0xf39228['onchange']=()=>{const _0x6fb460=_0x4872f8,_0x10f448=_0x3e0a43[_0x6fb460(0x967)],_0x548c35=_0xf39228[_0x6fb460(0x967)];_0x3e0a43[_0x6fb460(0x438)]=!![],_0x3e0a43[_0x6fb460(0x373)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x321e8b[_0x6fb460(0x373)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x548c35)return;const _0x1e5bf8=allProjects[_0x6fb460(0x94f)](_0x58dbc4=>_0x58dbc4['id']===_0x548c35);if(!_0x1e5bf8||!_0x1e5bf8[_0x6fb460(0x408)])return;const _0x21bac8=()=>{const _0x398bf2=_0x6fb460;_0x3e0a43[_0x398bf2(0x373)]=_0x398bf2(0x635)+_0x1e5bf8[_0x398bf2(0x408)][_0x398bf2(0x6c4)](_0x3b4ea6=>_0x398bf2(0x957)+_0x3b4ea6+'\x22>'+_0x3b4ea6+_0x398bf2(0x225))[_0x398bf2(0x559)](''),_0x3e0a43['disabled']=![];const _0x1d1538=Array[_0x398bf2(0x48c)](_0x3e0a43[_0x398bf2(0x77f)])[_0x398bf2(0x6c4)](_0x20c8f4=>_0x20c8f4[_0x398bf2(0x967)]);if(_0x10f448&&_0x1d1538[_0x398bf2(0x634)](_0x10f448))_0x3e0a43[_0x398bf2(0x967)]=_0x10f448,_0x3e0a43['dispatchEvent'](new Event('change'));else _0x1e5bf8['students'][_0x398bf2(0x8cf)]===0x1&&(_0x3e0a43[_0x398bf2(0x967)]=_0x1e5bf8[_0x398bf2(0x408)][0x0],_0x3e0a43[_0x398bf2(0x5b6)](new Event(_0x398bf2(0x562))));};if(_0x1e5bf8[_0x6fb460(0x7f0)]?.['isPasscodeEnabled']){if(sessionStorage[_0x6fb460(0x582)](_0x6fb460(0x6f6)+_0x548c35)===_0x6fb460(0x732)){_0x21bac8();return;}const _0xad635c=document[_0x6fb460(0x68b)](_0x6fb460(0x43b)),_0x58d22a=document[_0x6fb460(0x68b)](_0x6fb460(0x8d0)),_0x19abcf=document[_0x6fb460(0x68b)](_0x6fb460(0x60e)),_0x5607ef=document['getElementById'](_0x6fb460(0x8fa)),_0x1a4af2=document[_0x6fb460(0x68b)]('passcode-error-msg');document[_0x6fb460(0x68b)]('passcode-prompt-message')[_0x6fb460(0x394)]=_0x6fb460(0x234)+_0x1e5bf8['projectName'],_0x5607ef[_0x6fb460(0x967)]='',_0x1a4af2[_0x6fb460(0x8f4)][_0x6fb460(0xa01)](_0x6fb460(0x901)),_0xad635c[_0x6fb460(0x8f4)][_0x6fb460(0x42d)](_0x6fb460(0x901));const _0x59495d=()=>{const _0xeec311=_0x6fb460,_0x2dedae=_0x5607ef[_0xeec311(0x967)][_0xeec311(0x905)]();_0x2dedae===_0x1e5bf8[_0xeec311(0x7f0)][_0xeec311(0x238)]?(sessionStorage[_0xeec311(0x3aa)](_0xeec311(0x6f6)+_0x548c35,'true'),_0xad635c[_0xeec311(0x8f4)][_0xeec311(0xa01)](_0xeec311(0x901)),_0x21bac8(),_0x58d22a[_0xeec311(0x6e9)](_0xeec311(0x8d8),_0x59495d)):_0x1a4af2['classList'][_0xeec311(0x42d)](_0xeec311(0x901));};_0x58d22a['onclick']=_0x59495d,_0x19abcf['onclick']=()=>{const _0x39f046=_0x6fb460;_0xad635c[_0x39f046(0x8f4)][_0x39f046(0xa01)](_0x39f046(0x901)),_0xf39228[_0x39f046(0x967)]='',_0x58d22a[_0x39f046(0x6e9)]('click',_0x59495d);};}else _0x21bac8();},_0x3e0a43[_0x4872f8(0x22d)]=()=>{const _0x24cbf0=_0x4872f8,_0xfdc8a4=_0xf39228[_0x24cbf0(0x967)],_0x2d2395=_0x3e0a43[_0x24cbf0(0x967)];_0xfdc8a4&&_0x2d2395&&renderStudentProgressDashboard(_0xfdc8a4,_0x2d2395);};}async function renderStudentProgressDashboard(_0x5ca474,_0x4dfae5){const _0x3a6426=_0x346886,_0x3f2864=document[_0x3a6426(0x68b)](_0x3a6426(0x29a));_0x3f2864[_0x3a6426(0x373)]=_0x3a6426(0x99b);try{const _0x3bbba7=collection(db,_0x3a6426(0x9d8)+appId+'/public/data/quizzes'),_0x4e9b03=query(_0x3bbba7,where(_0x3a6426(0x2c3),'==',_0x5ca474)),_0x43d5dd=await getDocs(_0x4e9b03),_0x1f2b49=_0x43d5dd['docs'][_0x3a6426(0x6c4)](_0x2e7c19=>({'id':_0x2e7c19['id'],..._0x2e7c19[_0x3a6426(0x3c0)]()})),_0x4847e0=_0x1f2b49['map'](_0x2b0fe7=>getDoc(doc(db,_0x3a6426(0x9d8)+appId+_0x3a6426(0x867)+_0x2b0fe7['id']+_0x3a6426(0x26d),_0x4dfae5))),_0x41b1d0=await Promise[_0x3a6426(0x80c)](_0x4847e0),_0x13e097=_0x41b1d0['filter'](_0x378e16=>_0x378e16[_0x3a6426(0x824)]())[_0x3a6426(0x6c4)](_0x173f39=>({'quizId':_0x173f39[_0x3a6426(0x41a)][_0x3a6426(0x2f7)]['parent']['id'],..._0x173f39['data']()}));if(_0x13e097[_0x3a6426(0x8cf)]===0x0){_0x3f2864[_0x3a6426(0x373)]=_0x3a6426(0x510);return;}let _0x43ffb0=_0x3a6426(0x30c);_0x13e097[_0x3a6426(0x305)](_0x5cab16=>{const _0x5088b1=_0x3a6426,_0x27175e=_0x1f2b49[_0x5088b1(0x94f)](_0x8770b=>_0x8770b['id']===_0x5cab16[_0x5088b1(0x57d)]),_0x3272c1=_0x27175e[_0x5088b1(0x7f0)]?.['resultsDisplay']||_0x5088b1(0x851),_0x1a38a5=_0x27175e['settings']?.[_0x5088b1(0x9ac)]??0x0,_0x47504b=_0x5cab16[_0x5088b1(0x27b)]>=_0x1a38a5;let _0x3e9a27='',_0x844732=_0x5088b1(0x766);switch(_0x3272c1){case _0x5088b1(0x851):case _0x5088b1(0x4d7):_0x844732=_0x47504b?_0x5088b1(0x8bd):_0x5088b1(0x6d3),_0x3e9a27=_0x5088b1(0x66e)+(_0x47504b?_0x5088b1(0x646):_0x5088b1(0x929))+'\x22>'+_0x5cab16[_0x5088b1(0x27b)]+_0x5088b1(0x818)+_0x5cab16[_0x5088b1(0x734)]+_0x5088b1(0x441)+(_0x47504b?_0x5088b1(0x204):_0x5088b1(0x835))+'\x22>'+(_0x47504b?_0x5088b1(0x6b4):_0x5088b1(0x887))+_0x5088b1(0x2f9);break;case'show_pass_fail_only':_0x844732=_0x47504b?_0x5088b1(0x8bd):'bg-red-50',_0x3e9a27=_0x5088b1(0x4b2)+(_0x47504b?'bg-green-200\x20text-green-800':_0x5088b1(0x835))+'\x22>'+(_0x47504b?'ผ่าน':_0x5088b1(0x887))+_0x5088b1(0x2f9);break;case _0x5088b1(0x2a5):_0x844732='bg-yellow-50',_0x3e9a27=_0x5088b1(0x82b);break;}_0x43ffb0+=_0x5088b1(0x536)+_0x844732+_0x5088b1(0x72a)+_0x27175e['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x5cab16[_0x5088b1(0x3ce)]['length']+_0x5088b1(0x68d)+new Date(_0x5cab16[_0x5088b1(0x3ff)])['toLocaleDateString'](_0x5088b1(0x26c))+_0x5088b1(0x997)+_0x3e9a27+_0x5088b1(0x913);}),_0x43ffb0+=_0x3a6426(0x531),_0x3f2864[_0x3a6426(0x373)]=_0x43ffb0;}catch(_0x4caa03){console['error'](_0x3a6426(0x6c5),_0x4caa03),_0x3f2864[_0x3a6426(0x373)]=_0x3a6426(0x7e1);}}function setupStudentProgressListeners(){const _0x42c950=_0x346886;document[_0x42c950(0x68b)](_0x42c950(0x304))[_0x42c950(0x35b)](_0x42c950(0x8d8),showStudentProgressView),document['getElementById'](_0x42c950(0x473))[_0x42c950(0x35b)](_0x42c950(0x8d8),()=>{const _0xf3403e=_0x42c950;document['getElementById']('student-progress-view')[_0xf3403e(0x8f4)][_0xf3403e(0xa01)](_0xf3403e(0x901)),document[_0xf3403e(0x68b)](_0xf3403e(0x45c))[_0xf3403e(0x8f4)][_0xf3403e(0x42d)](_0xf3403e(0x901));});}async function startSkillPractice(_0x1a47bc){const _0x3d2338=_0x346886;studentResultArea[_0x3d2338(0x8f4)][_0x3d2338(0xa01)](_0x3d2338(0x901)),studentQuizArea[_0x3d2338(0x373)]=_0x3d2338(0x93e),studentQuizArea['classList']['remove'](_0x3d2338(0x901));try{const _0x584b16=await getStandardizedTopic(_0x1a47bc);console['log'](_0x3d2338(0x9c6)+_0x1a47bc+_0x3d2338(0x3f3)+_0x584b16+'\x22'),studentQuizArea[_0x3d2338(0x293)]('p')[_0x3d2338(0x394)]=_0x3d2338(0x5a9)+_0x584b16+_0x3d2338(0x73f);const _0x439ced=collection(db,_0x3d2338(0x9d8)+appId+_0x3d2338(0x603)),_0x2928b7=query(_0x439ced,where('topic','==',_0x584b16)),_0x6acdbe=await getDocs(_0x2928b7);if(_0x6acdbe[_0x3d2338(0xa07)][_0x3d2338(0x8cf)]>=0x3){console['log'](_0x3d2338(0x6b5)+_0x6acdbe[_0x3d2338(0xa07)][_0x3d2338(0x8cf)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x584b16+_0x3d2338(0x3b8));let _0x1e8d57=_0x6acdbe[_0x3d2338(0xa07)][_0x3d2338(0x6c4)](_0x3830a8=>_0x3830a8[_0x3d2338(0x3c0)]());shuffleArray(_0x1e8d57);const _0x46b667={'topic':_0x584b16,'questions':_0x1e8d57[_0x3d2338(0x27a)](0x0,0x3)};displaySkillPracticeDrill(_0x46b667);}else{console[_0x3d2338(0x326)](_0x3d2338(0x73c)+_0x584b16+_0x3d2338(0x328));const _0x83f326=await generatePracticeQuestions(_0x584b16);await saveDrillToPracticeBank(_0x83f326,_0x584b16),displaySkillPracticeDrill(_0x83f326);}}catch(_0x364582){console[_0x3d2338(0x6f2)](_0x3d2338(0x3d1),_0x364582),showMessage(_0x3d2338(0x2bc)),studentQuizArea[_0x3d2338(0x8f4)]['add']('hidden'),studentResultArea['classList'][_0x3d2338(0x42d)]('hidden');}}async function saveDrillToPracticeBank(_0x379638,_0x1e94af){const _0x124362=_0x346886,_0x231b7c=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x2ab928=writeBatch(db);_0x379638[_0x124362(0xa18)][_0x124362(0x305)](_0x5ab767=>{const _0x20f0be=_0x124362,_0x32ab28=doc(_0x231b7c);_0x2ab928[_0x20f0be(0x4e4)](_0x32ab28,{'topic':_0x1e94af,'questionText':_0x5ab767[_0x20f0be(0x85d)],'options':_0x5ab767[_0x20f0be(0x77f)],'correctAnswerIndex':_0x5ab767[_0x20f0be(0x60a)],'explanation':_0x5ab767[_0x20f0be(0x2f2)],'createdAt':serverTimestamp()});});try{await _0x2ab928[_0x124362(0x918)](),console['log'](_0x124362(0x95b)+_0x379638[_0x124362(0xa18)][_0x124362(0x8cf)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x8ba02b){console[_0x124362(0x6f2)](_0x124362(0x662),_0x8ba02b);}}async function getStandardizedTopic(_0x2b2e0f){const _0x36fe2d=_0x346886,_0x573ffc=_0x36fe2d(0x736)+_0x2b2e0f+_0x36fe2d(0x61d),_0x552e63={'type':_0x36fe2d(0x206),'properties':{'standardTopic':{'type':_0x36fe2d(0x9d7)}},'required':[_0x36fe2d(0x78f)]};try{const _0x5235aa=await callAnalysisApi(_0x573ffc,_0x552e63);return _0x5235aa[_0x36fe2d(0x78f)];}catch(_0x30a2e9){return console[_0x36fe2d(0x6f2)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x30a2e9),_0x2b2e0f;}}async function handleGenerateEasyVersionQuiz(_0x11d80e){const _0x3c6d57=_0x346886;showConfirmation(_0x3c6d57(0x258),async()=>{const _0x4efdc0=_0x3c6d57;showMessage(_0x4efdc0(0x938));try{const _0x1a3cdf=allQuizzes['find'](_0xbadfd0=>_0xbadfd0['id']===_0x11d80e);if(!_0x1a3cdf)throw new Error(_0x4efdc0(0x370));const _0x187a13=_0x4efdc0(0x5e3)+JSON['stringify'](_0x1a3cdf['questions'])+_0x4efdc0(0x746),_0x5278af={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4efdc0(0x9d7)},'options':{'type':_0x4efdc0(0x813),'items':{'type':_0x4efdc0(0x9d7)}},'correctAnswerIndex':{'type':_0x4efdc0(0x466)},'idealAnswer':{'type':_0x4efdc0(0x9d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4efdc0(0x9d7)}},'required':[_0x4efdc0(0x85d),_0x4efdc0(0x296),'explanation']},_0x440c06={'type':_0x4efdc0(0x206),'properties':{'questions':{'type':_0x4efdc0(0x813),'items':_0x5278af}},'required':[_0x4efdc0(0xa18)]},_0x4d4d04=await callAnalysisApi(_0x187a13,_0x440c06);_0x4d4d04&&_0x4d4d04[_0x4efdc0(0xa18)]&&_0x4d4d04['questions']['forEach'](_0x4d5e0d=>{const _0x411774=_0x4efdc0;_0x4d5e0d['questionText']&&(_0x4d5e0d[_0x411774(0x85d)]=_0x4d5e0d[_0x411774(0x85d)]['trim']()[_0x411774(0x2e5)](/,$/,'')['trim']());_0x4d5e0d[_0x411774(0x77f)]&&Array[_0x411774(0xa40)](_0x4d5e0d[_0x411774(0x77f)])&&(_0x4d5e0d['options']=_0x4d5e0d[_0x411774(0x77f)]['map'](_0x4e5d74=>_0x4e5d74||_0x411774(0x59f)));if(_0x4d5e0d[_0x411774(0x884)]){const _0x5ee909=_0x4d5e0d[_0x411774(0x884)][_0x411774(0x905)]();_0x5ee909===''||_0x5ee909['toLowerCase']()===_0x411774(0x3ca)||!_0x5ee909[_0x411774(0x3e5)](_0x411774(0x7bc))?delete _0x4d5e0d[_0x411774(0x884)]:_0x4d5e0d[_0x411774(0x884)]=_0x5ee909;}});if(!_0x4d4d04||!_0x4d4d04[_0x4efdc0(0xa18)]||_0x4d4d04[_0x4efdc0(0xa18)]['length']===0x0)throw new Error(_0x4efdc0(0x7ee));const _0x1422ca={'projectId':_0x1a3cdf[_0x4efdc0(0x2c3)],'quizType':_0x1a3cdf['quizType'],'settings':_0x1a3cdf[_0x4efdc0(0x7f0)],'createdBy':_0x1a3cdf[_0x4efdc0(0x9d0)],'status':_0x4efdc0(0x299),'topic':_0x4efdc0(0x2c4)+_0x1a3cdf['topic'],'questions':_0x4d4d04[_0x4efdc0(0xa18)],'createdAt':new Date()[_0x4efdc0(0x651)](),'quizMode':'standard','pairedQuizId':null};let _0x58b6e9;while(!![]){_0x58b6e9=Math[_0x4efdc0(0x337)](0x3e8+Math[_0x4efdc0(0x23e)]()*0x2328)['toString']();const _0x4044a7=await getDoc(doc(db,'artifacts/'+appId+_0x4efdc0(0x3a7),_0x58b6e9));if(!_0x4044a7['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x4efdc0(0x3a7),_0x58b6e9),_0x1422ca),showMessage(_0x4efdc0(0x5ef));}catch(_0x351f9a){console[_0x4efdc0(0x6f2)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x351f9a),showMessage(_0x4efdc0(0x7b5)+_0x351f9a[_0x4efdc0(0x6ff)]);}});}async function generatePracticeQuestions(_0x416880){const _0x5d8b62=_0x346886,_0x33c6da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x416880+_0x5d8b62(0x7c5)+simpleMathPrompt+_0x5d8b62(0x7a0),_0x2ea82d={'type':_0x5d8b62(0x206),'properties':{'questionText':{'type':_0x5d8b62(0x9d7)},'options':{'type':_0x5d8b62(0x813),'items':{'type':_0x5d8b62(0x9d7)}},'correctAnswerIndex':{'type':_0x5d8b62(0x466)},'explanation':{'type':_0x5d8b62(0x9d7)}},'required':[_0x5d8b62(0x85d),_0x5d8b62(0x77f),_0x5d8b62(0x60a),_0x5d8b62(0x2f2)]},_0xe4c6e4={'type':_0x5d8b62(0x206),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5d8b62(0x813),'items':_0x2ea82d}},'required':[_0x5d8b62(0x9e3),_0x5d8b62(0xa18)]};return await callAnalysisApi(_0x33c6da,_0xe4c6e4);}function displayLessonPlan(_0x5ddf62,_0x373b3e){const _0x1c5d3c=_0x346886,_0x45e241='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x373b3e[_0x1c5d3c(0x9e3)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x5ddf62['learningGaps'][_0x1c5d3c(0x6c4)](_0x4736e7=>'<li>'+_0x4736e7+_0x1c5d3c(0x73d))[_0x1c5d3c(0x559)]('')+_0x1c5d3c(0x83e)+_0x5ddf62[_0x1c5d3c(0x6a4)]+_0x1c5d3c(0x7bb)+_0x5ddf62[_0x1c5d3c(0x228)][_0x1c5d3c(0x6c4)](_0x4faf53=>_0x1c5d3c(0x4ab)+_0x4faf53['question']+_0x1c5d3c(0x4f0)+_0x4faf53['solution']+_0x1c5d3c(0x694))[_0x1c5d3c(0x559)]('')+_0x1c5d3c(0x222);document[_0x1c5d3c(0x68b)](_0x1c5d3c(0x807))['textContent']='แผนการสอน:\x20'+_0x373b3e[_0x1c5d3c(0x9e3)],document[_0x1c5d3c(0x68b)](_0x1c5d3c(0x8a9))[_0x1c5d3c(0x373)]=_0x45e241,document[_0x1c5d3c(0x68b)]('lesson-plan-modal')[_0x1c5d3c(0x8f4)][_0x1c5d3c(0x42d)](_0x1c5d3c(0x901));if(window['MathJax'])MathJax[_0x1c5d3c(0x3f5)]();}function displaySkillPracticeDrill(_0x5af5a2){let _0xb192aa=0x0;const _0x2cfada=_0x5af5a2['questions'],_0x23d6bb=()=>{const _0x26b947=_0x2b13,_0x56f5c8=_0x2cfada[_0xb192aa],_0x96aa20=_0x26b947(0x2da)+(_0xb192aa+0x1)+_0x26b947(0x818)+_0x2cfada[_0x26b947(0x8cf)]+_0x26b947(0x260)+_0x56f5c8[_0x26b947(0x85d)]+_0x26b947(0x5eb)+_0x56f5c8[_0x26b947(0x77f)]['map']((_0x50d107,_0x29c88b)=>_0x26b947(0x4e2)+_0x29c88b+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x29c88b+_0x26b947(0x226)+_0x29c88b+'\x22>'+_0x50d107+_0x26b947(0x664))[_0x26b947(0x559)]('')+_0x26b947(0x50f);studentQuizArea[_0x26b947(0x373)]=_0x96aa20;if(window[_0x26b947(0x31e)])MathJax[_0x26b947(0x3f5)]([studentQuizArea]);document[_0x26b947(0x68b)](_0x26b947(0x5f4))['addEventListener'](_0x26b947(0x8d8),async()=>{const _0x3918f5=_0x26b947,_0x41b8d6=await getHintForQuestion(_0x56f5c8[_0x3918f5(0x85d)]);showMessage(_0x41b8d6);}),document[_0x26b947(0x68b)]('check-answer-btn')[_0x26b947(0x35b)](_0x26b947(0x8d8),()=>{const _0x7be865=_0x26b947,_0x21131a=document['querySelector']('input[name=\x22drill_answer\x22]:checked');if(!_0x21131a){showMessage(_0x7be865(0x876));return;}const _0x3454ed=document[_0x7be865(0x68b)](_0x7be865(0x91d)),_0x2843c0=parseInt(_0x21131a[_0x7be865(0x967)])===_0x56f5c8[_0x7be865(0x60a)];_0x2843c0?(_0x3454ed[_0x7be865(0x7d1)]=_0x7be865(0x1fd),_0x3454ed[_0x7be865(0x373)]=_0x7be865(0x692)+_0x56f5c8[_0x7be865(0x2f2)]):(_0x3454ed[_0x7be865(0x7d1)]=_0x7be865(0x1fb),_0x3454ed[_0x7be865(0x373)]=_0x7be865(0x607)+_0x56f5c8[_0x7be865(0x2f2)]);_0x3454ed['classList']['remove'](_0x7be865(0x901));if(window['MathJax'])MathJax[_0x7be865(0x3f5)]([_0x3454ed]);document['getElementById'](_0x7be865(0x369))[_0x7be865(0x8f4)]['add']('hidden'),document[_0x7be865(0x68b)](_0x7be865(0x5f4))['classList']['add'](_0x7be865(0x901)),document[_0x7be865(0x68b)](_0x7be865(0x2b3))[_0x7be865(0x8f4)][_0x7be865(0x42d)](_0x7be865(0x901));}),document['getElementById'](_0x26b947(0x2b3))[_0x26b947(0x35b)](_0x26b947(0x8d8),()=>{const _0x4c9b0b=_0x26b947;_0xb192aa++,_0xb192aa<_0x2cfada[_0x4c9b0b(0x8cf)]?_0x23d6bb():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x4c9b0b(0x68b)](_0x4c9b0b(0x66b))[_0x4c9b0b(0x35b)](_0x4c9b0b(0x8d8),()=>{const _0x3e3419=_0x4c9b0b;studentQuizArea[_0x3e3419(0x8f4)][_0x3e3419(0xa01)](_0x3e3419(0x901)),studentResultArea[_0x3e3419(0x8f4)][_0x3e3419(0x42d)](_0x3e3419(0x901));}));});};_0x23d6bb();}async function getHintForQuestion(_0x1c2578){const _0x48b894=_0x346886,_0xb798a7='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x1c2578+_0x48b894(0x2e8),_0x1477c9={'type':_0x48b894(0x206),'properties':{'hint':{'type':_0x48b894(0x9d7)}},'required':[_0x48b894(0x645)]};try{const _0x9f81a0=await callAnalysisApi(_0xb798a7,_0x1477c9);return _0x9f81a0[_0x48b894(0x645)];}catch(_0x28acb2){return console[_0x48b894(0x6f2)](_0x48b894(0x738),_0x28acb2),_0x48b894(0x8d1);}}async function extractTextFromPdf(_0x1f2941){const _0x49bdd2=_0x346886;pdfjsLib[_0x49bdd2(0x982)][_0x49bdd2(0x35e)]=_0x49bdd2(0x5a5);const _0x47f208=await _0x1f2941['arrayBuffer'](),_0xaa97c0=await pdfjsLib[_0x49bdd2(0x5c6)](_0x47f208)[_0x49bdd2(0x93b)],_0x1bf7da=_0xaa97c0['numPages'];let _0x3ea24c='';for(let _0x5d2389=0x1;_0x5d2389<=_0x1bf7da;_0x5d2389++){const _0x5d0613=await _0xaa97c0['getPage'](_0x5d2389),_0x498dd4=await _0x5d0613[_0x49bdd2(0x458)](),_0x31f253=_0x498dd4[_0x49bdd2(0x37c)][_0x49bdd2(0x6c4)](_0x46d485=>_0x46d485[_0x49bdd2(0x781)])[_0x49bdd2(0x559)]('\x20');_0x3ea24c+=_0x31f253+'\x0a\x0a';}return _0x3ea24c;}async function handleGenerateFromBlueprint(){const _0x4316a1=_0x346886,_0x1dd1f2=document[_0x4316a1(0x68b)]('blueprint-upload-input'),_0x4e6a63=document[_0x4316a1(0x68b)](_0x4316a1(0x250)),_0x53a498=_0x1dd1f2['files'][0x0],_0x345d1c=_0x4e6a63[_0x4316a1(0x7ac)][_0x4316a1(0x8cf)]>0x0?_0x4e6a63[_0x4316a1(0x7ac)][0x0]:null;if(!_0x53a498){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x257bcd=document[_0x4316a1(0x68b)](_0x4316a1(0x72e)),_0x1944da=document['getElementById'](_0x4316a1(0x2e9)),_0x373eba=document[_0x4316a1(0x68b)]('generated-quiz-container'),_0x30c203=document[_0x4316a1(0x68b)](_0x4316a1(0x7fc));_0x30c203['disabled']=!![],document[_0x4316a1(0x68b)](_0x4316a1(0x3a4))[_0x4316a1(0x8f4)][_0x4316a1(0x42d)](_0x4316a1(0x901)),_0x373eba[_0x4316a1(0x373)]='',_0x257bcd['classList'][_0x4316a1(0x42d)](_0x4316a1(0x901));try{_0x1944da[_0x4316a1(0x394)]=_0x4316a1(0x4c3);const _0xd9759a=await extractTextFromPdf(_0x53a498);if(!_0xd9759a['trim']())throw new Error(_0x4316a1(0x2b2));let _0x1ea60b='';_0x345d1c&&(_0x1944da[_0x4316a1(0x394)]=_0x4316a1(0x8b4),_0x1ea60b=await extractTextFromPdf(_0x345d1c));_0x1944da[_0x4316a1(0x394)]=_0x4316a1(0x465);const _0x1e4db4=document[_0x4316a1(0x68b)](_0x4316a1(0x274))[_0x4316a1(0x89c)],_0x401dae=_0x1e4db4?_0x4316a1(0x307):'',_0x5b42f6=_0x1ea60b?_0x4316a1(0x8da)+_0x1ea60b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x1634fd=_0x4316a1(0x3ee)+(_0x1ea60b?_0x4316a1(0x54c):'')+_0x4316a1(0x870)+_0xd9759a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b42f6+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x401dae+_0x4316a1(0x5ad)+simpleMathPrompt+_0x4316a1(0x8bf),_0x40182e={'type':_0x4316a1(0x206),'properties':{'questionText':{'type':_0x4316a1(0x9d7)},'questionType':{'type':_0x4316a1(0x9d7),'enum':['multiple_choice',_0x4316a1(0x38f)]},'options':{'type':_0x4316a1(0x813),'items':{'type':_0x4316a1(0x9d7)}},'correctAnswerIndex':{'type':_0x4316a1(0x466)},'idealAnswer':{'type':_0x4316a1(0x9d7)},'explanation':{'type':_0x4316a1(0x9d7)},'imageCode':{'type':'STRING'}},'required':[_0x4316a1(0x85d),_0x4316a1(0x296),_0x4316a1(0x2f2)]},_0x560afe={'type':_0x4316a1(0x206),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4316a1(0x813),'items':_0x40182e}},'required':[_0x4316a1(0x9e3),_0x4316a1(0xa18)]};await handleApiCall(_0x1634fd,_0x4316a1(0x6af),_0x560afe);}catch(_0x443014){console['error'](_0x4316a1(0x2c2),_0x443014),showMessage(_0x4316a1(0x7b5)+_0x443014[_0x4316a1(0x6ff)]),_0x373eba[_0x4316a1(0x373)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x257bcd[_0x4316a1(0x8f4)][_0x4316a1(0xa01)](_0x4316a1(0x901)),_0x30c203[_0x4316a1(0x438)]=![];}}async function handleGenerateParallelFromBank(_0x119b5f){const _0x3290aa=_0x346886;switchProjectTab(_0x3290aa(0x631));const _0x172683=document[_0x3290aa(0x68b)](_0x3290aa(0x72e)),_0x57534a=document[_0x3290aa(0x68b)]('loader-text'),_0x279415=document[_0x3290aa(0x68b)](_0x3290aa(0x28e));document['getElementById'](_0x3290aa(0x3a4))[_0x3290aa(0x8f4)][_0x3290aa(0x42d)](_0x3290aa(0x901)),_0x279415[_0x3290aa(0x373)]='',_0x172683[_0x3290aa(0x8f4)][_0x3290aa(0x42d)](_0x3290aa(0x901)),_0x57534a['textContent']=_0x3290aa(0x6d5)+_0x119b5f[_0x3290aa(0x9e3)]+_0x3290aa(0x44c);try{const _0x121685=_0x119b5f[_0x3290aa(0xa18)]['map']((_0x599c59,_0x5e6347)=>{const _0x5b9e99=_0x3290aa;let _0x49fd08=_0x5e6347+0x1+'.\x20'+(_0x599c59[_0x5b9e99(0x85d)]||_0x599c59[_0x5b9e99(0x3db)])+'\x0a';if(_0x599c59['options'])_0x49fd08+=_0x599c59[_0x5b9e99(0x77f)][_0x5b9e99(0x6c4)]((_0x56eb55,_0x2c4a0b)=>_0x5b9e99(0x805)+(_0x2c4a0b===_0x599c59[_0x5b9e99(0x60a)]?_0x5b9e99(0x399):'')+'\x20'+_0x56eb55)[_0x5b9e99(0x559)]('\x0a');else _0x599c59['idealAnswer']&&(_0x49fd08+=_0x5b9e99(0x8f6)+_0x599c59[_0x5b9e99(0x2a2)]);return _0x49fd08;})['join']('\x0a\x0a');_0x57534a[_0x3290aa(0x394)]=_0x3290aa(0x36c);const _0x2c97f3=_0x119b5f[_0x3290aa(0xa18)]['length'],_0x451bd3=_0x3290aa(0x269)+_0x119b5f['topic']+_0x3290aa(0x8ae)+_0x2c97f3+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x121685+_0x3290aa(0x90d)+_0x2c97f3+'\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3290aa(0x8bf),_0x513c1d={'type':_0x3290aa(0x206),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3290aa(0x9d7),'enum':[_0x3290aa(0x586),_0x3290aa(0x38f),_0x3290aa(0x74e),_0x3290aa(0x5a4)]},'options':{'type':_0x3290aa(0x813),'items':{'type':_0x3290aa(0x9d7)}},'correctAnswerIndex':{'type':_0x3290aa(0x466)},'idealAnswer':{'type':_0x3290aa(0x9d7)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x3290aa(0x813),'items':{'type':_0x3290aa(0x9d7)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3290aa(0x9d7)}},'required':['questionText',_0x3290aa(0x296),_0x3290aa(0x2f2)]},_0x5a6e8b={'type':_0x3290aa(0x206),'properties':{'topic':{'type':_0x3290aa(0x9d7)},'questions':{'type':_0x3290aa(0x813),'items':_0x513c1d}},'required':[_0x3290aa(0x9e3),_0x3290aa(0xa18)]},_0x5436b7=await callAnalysisApi(_0x451bd3,_0x5a6e8b);_0x5436b7[_0x3290aa(0xa18)][_0x3290aa(0x8cf)]>_0x2c97f3&&(_0x5436b7[_0x3290aa(0xa18)]=_0x5436b7[_0x3290aa(0xa18)][_0x3290aa(0x27a)](0x0,_0x2c97f3)),_0x5436b7['topic']=_0x3290aa(0x2d1)+_0x119b5f[_0x3290aa(0x9e3)],_0x5436b7[_0x3290aa(0x3fa)]=_0x119b5f[_0x3290aa(0x3fa)],currentQuizData=_0x5436b7,displayGeneratedQuiz(_0x5436b7),document[_0x3290aa(0x68b)]('manage-tab-content')[_0x3290aa(0x368)]({'behavior':_0x3290aa(0xa0e)});}catch(_0x5e4643){console[_0x3290aa(0x6f2)](_0x3290aa(0x4f8),_0x5e4643),showMessage(_0x3290aa(0x7b5)+_0x5e4643[_0x3290aa(0x6ff)]),_0x279415[_0x3290aa(0x373)]=_0x3290aa(0x800);}finally{_0x172683[_0x3290aa(0x8f4)]['add'](_0x3290aa(0x901));}}async function handleGenerateParallelPostTest(_0x3bb324){const _0x287cde=_0x346886,_0x3677ca=document[_0x287cde(0x68b)]('results-tab-content'),_0x14d579=document[_0x287cde(0x68b)]('project-quizzes-list');_0x14d579[_0x287cde(0x8f4)][_0x287cde(0xa01)](_0x287cde(0x901));const _0x2bdeb4=_0x287cde(0x201);_0x3677ca[_0x287cde(0x395)](_0x287cde(0x744),_0x2bdeb4);try{const _0x29b48c=_0x3bb324[_0x287cde(0xa18)]['map']((_0x4ef058,_0x43b1f8)=>{const _0xd4a89b=_0x287cde;let _0x22ec45=_0x43b1f8+0x1+'.\x20'+(_0x4ef058['questionText']||_0x4ef058['stem']);if(_0x4ef058[_0xd4a89b(0x77f)])_0x22ec45+=_0xd4a89b(0x2af)+_0x4ef058['options'][_0xd4a89b(0x559)](',\x20');return _0x22ec45;})[_0x287cde(0x559)]('\x0a\x0a'),_0x35566a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x3bb324[_0x287cde(0x9e3)]+_0x287cde(0x737)+_0x29b48c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x287cde(0x8bf),_0x3ce48e={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x287cde(0x813),'items':{'type':_0x287cde(0x206),'properties':{'questionText':{'type':_0x287cde(0x9d7)},'questionType':{'type':_0x287cde(0x9d7)},'options':{'type':_0x287cde(0x813),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x287cde(0x466)},'idealAnswer':{'type':_0x287cde(0x9d7)},'explanation':{'type':_0x287cde(0x9d7)}},'required':[_0x287cde(0x85d),_0x287cde(0x2f2)]}}},'required':[_0x287cde(0x9e3),'questions']},_0x3d811b=await callAnalysisApi(_0x35566a,_0x3ce48e),_0x136291=_0x3bb324[_0x287cde(0x9e3)]['replace'](_0x287cde(0x3a0),'')[_0x287cde(0x905)](),_0x3530ed=_0x287cde(0x3ba)+_0x136291,_0x59a43e={..._0x3d811b,'topic':_0x3530ed,'quizType':_0x3bb324[_0x287cde(0x3fa)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x287cde(0x651)](),'status':_0x287cde(0x299),'settings':_0x3bb324[_0x287cde(0x7f0)],'quizMode':_0x287cde(0x8a8),'pairedQuizId':_0x3bb324['id']};let _0x5d5f70;while(!![]){_0x5d5f70=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x287cde(0x9b1)]();const _0x3650fc=await getDoc(doc(db,'artifacts/'+appId+_0x287cde(0x3a7),_0x5d5f70));if(!_0x3650fc[_0x287cde(0x824)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x287cde(0x3a7),_0x5d5f70),_0x59a43e);const _0x423f99=doc(db,'artifacts/'+appId+_0x287cde(0x3a7),_0x3bb324['id']);await updateDoc(_0x423f99,{'pairedQuizId':_0x5d5f70}),showMessage(_0x287cde(0x3ac));}catch(_0x4a0769){console['error'](_0x287cde(0x75b),_0x4a0769),showMessage(_0x287cde(0x7b5)+_0x4a0769[_0x287cde(0x6ff)]);}finally{const _0x385f1d=document[_0x287cde(0x68b)]('temp-loader-results');if(_0x385f1d)_0x385f1d['remove']();_0x14d579[_0x287cde(0x8f4)][_0x287cde(0x42d)]('hidden');}}async function handleGenerateParallelTest(){const _0x2dffe5=_0x346886,_0x3dccc1=document[_0x2dffe5(0x68b)](_0x2dffe5(0x270)),_0x1b04a4=_0x3dccc1[_0x2dffe5(0x7ac)][0x0];if(!_0x1b04a4){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x1c0816=document[_0x2dffe5(0x68b)](_0x2dffe5(0x72e)),_0x317ead=document[_0x2dffe5(0x68b)](_0x2dffe5(0x2e9)),_0x30d043=document['getElementById']('generated-quiz-container'),_0x22e1a5=document[_0x2dffe5(0x68b)](_0x2dffe5(0x3bb));_0x22e1a5['disabled']=!![],document[_0x2dffe5(0x68b)](_0x2dffe5(0x3a4))[_0x2dffe5(0x8f4)][_0x2dffe5(0x42d)](_0x2dffe5(0x901)),_0x30d043[_0x2dffe5(0x373)]='',_0x1c0816[_0x2dffe5(0x8f4)][_0x2dffe5(0x42d)](_0x2dffe5(0x901)),_0x317ead[_0x2dffe5(0x394)]=_0x2dffe5(0x77d);try{const _0x335c93=await extractTextFromPdf(_0x1b04a4);if(!_0x335c93[_0x2dffe5(0x905)]())throw new Error(_0x2dffe5(0x52b));_0x317ead[_0x2dffe5(0x394)]=_0x2dffe5(0x36c);const _0x271989=document[_0x2dffe5(0x68b)](_0x2dffe5(0x274))[_0x2dffe5(0x89c)],_0x1b96bd=_0x271989?_0x2dffe5(0x307):'',_0x181949=_0x2dffe5(0x2cb)+_0x335c93+_0x2dffe5(0x1fa)+_0x1b96bd+_0x2dffe5(0x5ad)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x26a795={'type':_0x2dffe5(0x206),'properties':{'questionText':{'type':_0x2dffe5(0x9d7)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x2dffe5(0x38f)]},'options':{'type':_0x2dffe5(0x813),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2dffe5(0x466)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2dffe5(0x9d7)},'imageCode':{'type':_0x2dffe5(0x9d7)}},'required':['questionText',_0x2dffe5(0x296),_0x2dffe5(0x2f2)]},_0x79424e={'type':'OBJECT','properties':{'topic':{'type':_0x2dffe5(0x9d7)},'questions':{'type':'ARRAY','items':_0x26a795}},'required':['topic',_0x2dffe5(0xa18)]};await handleApiCall(_0x181949,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x79424e);}catch(_0x134c2a){console['error'](_0x2dffe5(0x9f4),_0x134c2a),showMessage(_0x2dffe5(0x7b5)+_0x134c2a['message']),_0x30d043[_0x2dffe5(0x373)]=_0x2dffe5(0x800);}finally{_0x1c0816[_0x2dffe5(0x8f4)][_0x2dffe5(0xa01)](_0x2dffe5(0x901)),_0x22e1a5['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x11e91f){const _0x593ec1=_0x346886;if(currentEditingQuizData===null)return;const _0x978ceb=document[_0x593ec1(0x293)](_0x593ec1(0x81d)+_0x11e91f+'\x22]');_0x978ceb&&(_0x978ceb[_0x593ec1(0x373)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x48c124=currentEditingQuizData[_0x593ec1(0xa18)][_0x11e91f],_0x423ff5=currentEditingQuizData[_0x593ec1(0x9e3)],_0x547209=_0x48c124['questionType'],_0x237715={'type':_0x593ec1(0x206),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x593ec1(0x466)},'explanation':{'type':'STRING'}},'required':[_0x593ec1(0x85d),_0x593ec1(0x77f),_0x593ec1(0x60a),_0x593ec1(0x2f2)]},_0x581bce={'type':_0x593ec1(0x206),'properties':{'questionText':{'type':_0x593ec1(0x9d7)},'idealAnswer':{'type':_0x593ec1(0x9d7)},'explanation':{'type':'STRING'}},'required':[_0x593ec1(0x85d),_0x593ec1(0x2a2),'explanation']};let _0x214039,_0x13d552='';_0x547209===_0x593ec1(0x586)?(_0x214039=_0x237715,_0x13d552='แบบปรนัย\x204\x20ตัวเลือก'):(_0x214039=_0x581bce,_0x13d552='แบบเติมคำตอบ');const _0xbbe3a2='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x423ff5+_0x593ec1(0x829)+_0x13d552+_0x593ec1(0x3f4)+(_0x48c124[_0x593ec1(0x85d)]||_0x48c124['stem'])+_0x593ec1(0x32a)+simpleMathPrompt;try{const _0x3ff9b8=await callAnalysisApi(_0xbbe3a2,_0x214039);currentEditingQuizData[_0x593ec1(0xa18)][_0x11e91f]={..._0x48c124,..._0x3ff9b8},renderQuizEditor(currentEditingQuizData);}catch(_0x549331){console[_0x593ec1(0x6f2)](_0x593ec1(0x7e9),_0x549331),showMessage(_0x593ec1(0xa30)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x29e92a=_0x346886,_0x458954=document[_0x29e92a(0x68b)](_0x29e92a(0x552));currentMode===_0x29e92a(0x632)?(currentMode=_0x29e92a(0x9a1),_0x458954['innerHTML']=_0x29e92a(0x98b),_0x458954[_0x29e92a(0x54f)]=_0x29e92a(0x2c7),showView(_0x29e92a(0x5e2))):(currentMode=_0x29e92a(0x632),_0x458954['innerHTML']=_0x29e92a(0x97a),_0x458954[_0x29e92a(0x54f)]=_0x29e92a(0x4c6),showView(_0x29e92a(0x632)));}function handleAdminLogin(){const _0x35eda1=_0x346886,_0x2454d6=document['getElementById'](_0x35eda1(0x9a8)),_0x1fc69d=document[_0x35eda1(0x68b)](_0x35eda1(0x3cb));if(_0x2454d6[_0x35eda1(0x967)]==='27411472'){adminPasswordModal[_0x35eda1(0x8f4)]['add'](_0x35eda1(0x901)),_0x2454d6[_0x35eda1(0x967)]='',_0x1fc69d['classList']['add']('hidden'),currentMode=_0x35eda1(0x9a1);const _0x5d086f=document[_0x35eda1(0x68b)](_0x35eda1(0x552));_0x5d086f[_0x35eda1(0x373)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x5d086f['title']=_0x35eda1(0x2c7),showView(_0x35eda1(0x5e2));}else _0x1fc69d[_0x35eda1(0x8f4)][_0x35eda1(0x42d)](_0x35eda1(0x901)),_0x2454d6[_0x35eda1(0x967)]='';}function switchProjectTab(_0x155c5d){const _0x2a6635=_0x346886;[_0x2a6635(0x631),_0x2a6635(0x655),_0x2a6635(0x50e)][_0x2a6635(0x305)](_0xbdb041=>{const _0x32c783=_0x2a6635;document[_0x32c783(0x68b)](_0xbdb041+_0x32c783(0x6d8))[_0x32c783(0x8f4)][_0x32c783(0x42d)](_0x32c783(0x299)),document['getElementById'](_0xbdb041+_0x32c783(0x428))[_0x32c783(0x8f4)]['add']('hidden');}),document[_0x2a6635(0x68b)](_0x155c5d+_0x2a6635(0x6d8))[_0x2a6635(0x8f4)][_0x2a6635(0xa01)](_0x2a6635(0x299)),document[_0x2a6635(0x68b)](_0x155c5d+_0x2a6635(0x428))[_0x2a6635(0x8f4)]['remove'](_0x2a6635(0x901));}function switchQuizDetailTab(_0x52af1d){const _0x5cc2f1=_0x346886,_0x49fa44={'analytics':{'btn':_0x5cc2f1(0x7d7),'content':'analytics-tab-content'},'scores':{'btn':_0x5cc2f1(0x589),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x5cc2f1(0x942),'content':_0x5cc2f1(0x857)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x5cc2f1(0x9c1)}};for(const _0x3e2382 in _0x49fa44){document['getElementById'](_0x49fa44[_0x3e2382][_0x5cc2f1(0x3d2)])['classList'][_0x5cc2f1(0x42d)](_0x5cc2f1(0x299)),document[_0x5cc2f1(0x68b)](_0x49fa44[_0x3e2382][_0x5cc2f1(0x40c)])['classList'][_0x5cc2f1(0xa01)](_0x5cc2f1(0x901));}document['getElementById'](_0x49fa44[_0x52af1d][_0x5cc2f1(0x3d2)])[_0x5cc2f1(0x8f4)][_0x5cc2f1(0xa01)](_0x5cc2f1(0x299)),document[_0x5cc2f1(0x68b)](_0x49fa44[_0x52af1d][_0x5cc2f1(0x40c)])[_0x5cc2f1(0x8f4)][_0x5cc2f1(0x42d)](_0x5cc2f1(0x901));}function _0x24ba(){const _0x324389=['check-presentation-answer-btn','practice-topic-btn','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-900','analyze-strengths-btn','timer-container','\x5ctimes','commit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','กราฟแท่ง\x20กราฟเส้น','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','date_desc','drill-feedback','การสร้างรูปด้วยวงเวียน–สันตรง','10969127YRFhuy','กำลังสร้างคำถามข้อ\x20','destroy','mouseup','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','เปิด\x20(จับเวลา)','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','rename-quiz-modal','comeback_king','text-red-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','.status','export-word-btn','ค่าคลาดเคลื่อนของการวัด','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','isStarred','schedule','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','.ideal-answer-input','จำนวนนักเรียน','specialist','Error\x20updating\x20project\x20name:','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','promise','/public/data/projects/','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','leaderboard-quiz-tab-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','</label>\x0a\x20\x20\x20\x20</div>\x0a','\x22\x20value=\x22false\x22\x20','manage-tab-content','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','student-quiz-leaderboard-tab','label[for=\x22num-questions\x22]','คณิตศาสตร์','คำถามถัดไป','transition-all','scratchpad-canvas','answer-grid-container','find','Leaderboard\x20update\x20transaction\x20failed:\x20','first_try_ace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','.topic-actions-edit','.ql-editor','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ราชาคัมแบ็ก','<option\x20value=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','localeCompare','results_','บันทึกคำถามใหม่\x20','block','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','confirm-admin-login-btn','โดเมนและเรนจ์','ลบหัวข้อสำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupResponders','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/studentProfiles','rows','value','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x20\x0a\x20\x20\x20\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','</p>','confirm-delete-btn','perfect_score_status','Error\x20listening\x20for\x20projects:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','link-topic-input','N/A','ระยะเวลา\x20(นาที):','Error\x20pairing\x20quizzes:','เส้นตรง:\x20ขนาน/ตั้งฉาก','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','</div><div\x20class=\x22space-y-2\x22>','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','Error\x20fetching\x20quiz\x20settings:','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x5ctext{$1}','behaviorLog','worksheet-tab','bg-gray-500','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','border-red-700','GlobalWorkerOptions','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','projectName','.answer-text','<li>','.delete-student-btn','\x22.\x20Ideal\x20Answer:\x20\x22','bank-quiz-list','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','_opt1\x22>ไม่ใช่</label></div>','.export-pdf-list-btn','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','bg-red-500','quiz-form','text-gray-200','.quiz-bank-try-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','AI\x20ไม่สามารถประมวลผลข้อมูลได้','worksheet-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพกล่อง\x20(box\x20plot)','beginPath','dragstart','<div\x20class=\x22loader\x20mx-auto\x22></div>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','px,\x20','</td>','admin','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','both','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','.sortable-header','admin-password-input','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','```','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','question','#retake-for-improvement-btn','warn','postTScore','toString','data:application/vnd.ms-word;charset=utf-8,','fa-rocket\x20text-purple-500','.start-presentation-list-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20creating\x20project:','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','.delete-custom-topic-btn','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','deltaY','quiz-results-table-body','_blank','\x22\x5cn','behavior-log-tab-content','student-progress-view','export-excel-btn','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','คำถามดิบ:\x20\x22','bg-yellow-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','ไม่พบแบบทดสอบสำหรับรหัสนี้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','resize','save-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x200.8)','createdBy','lineJoin','line-through\x20text-red-700','student-quiz-topic','</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','artifacts/','comparison','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20showing\x20quiz\x20detail\x20view:','questions_only','live-game-view','test','interesting-stats-container','back-from-results-btn','.generate-post-test-btn','sin','topic','[data-topic-container-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','admin-testing','ไม่พบโปรเจค','leaderboard_','กำลังสร้างรูปภาพ...','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','การลบเศษส่วน','generate-from-topic-btn','ระยะจากจุดถึงเส้นตรง','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x22,\x20','rgba(16,\x20185,\x20129,\x200.7)','readAsDataURL','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','show-in-student-dashboard-checkbox','scratchpad-clear-btn','.live-answer-btn,\x20#live-submit-short-answer-btn','msExitFullscreen','originalQuestionText','\x5cfrac{','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','G-V90KRM0L63','add','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','เรขาคณิตวิเคราะห์','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','onload','function','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','rgba(59,\x20130,\x20246,\x200.7)','smooth','$1^{$2}','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','quizMode','\x20ตัวเลือก.\x20','pairedQuizId','questions','promptFeedback','instructions','div[data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-800','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อโปรเจคห้ามว่าง','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<span\x20class=\x22font-bold\x20','85deZbKL','innerText','scores','normal','/questionBank','เปิดใช้งาน','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','เซียนสมองไว','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','div','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','redo-btn','per-question-text','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-count','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','NEGATIVE_INFINITY','removeAttribute','ฟังก์ชันสัมพัทธ์\x20(rational)','อสมการค่าสัมบูรณ์','isArray','ปิดใช้งาน','<div\x20class=\x22answer-space\x22></div>','#math-topics-checkbox-container\x20input:checked','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','href','วงกลม:\x20สมการและสมบัติ','drop','clientX','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','num-choices','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','custom-math-topic-input','ตรีโกณมิติ','การแปลงรูปอัตลักษณ์','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','eraser-tool-btn','values','ระบบสมการเชิงเส้นสองตัวแปร','pen','อินเวอร์สของเมทริกซ์','lastAnswerCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x5cdiv','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','^{\x5ccirc}\x5ctext{C}$','</tr>','<tr\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','หมดเวลา!\x20กำลังส่งคำตอบ...','OBJECT','แคลคูลัสเบื้องต้น','Error\x20saving\x20submission:','scale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20processing\x20file\x20for\x20AI:','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','.live-summary-tooltip.visible','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','candidates','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<p><strong>คำตอบที่แนะนำ:</strong>\x20','isAdaptive','dataIndex','ดอทโปรดักต์\x20(dot)','results-quiz-title','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','interesting-stats-wrapper','classWeaknesses','เกิดข้อผิดพลาดในการสร้างใบงาน','.delete-svg-btn','การลบทศนิยม','เพิ่มหัวข้อ\x20\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-tab','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','</option>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','text-green-700\x20bg-green-100','practiceProblems','lower_group_count','https://corsproxy.io/?','ดอกเบี้ยอย่างง่าย','slide-counter','onchange','.admin-try-quiz-list-btn','live-player-management','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','จำนวนและการดำเนินการ','label','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','สำหรับโปรเจค:\x20','analytics','suggestedAnswer','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','passcode','หน่วยเวลาและการคำนวณเวลา','preventDefault','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','force-math-checkbox','mean','random','pre-test-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','text-gray-300\x20hover:text-white','grid-view-btn','not-found','\x20สำเร็จ','file-upload-input','scheduled','live-options-container','<button\x20data-quiz-id=\x22','<div\x20class=\x22mb-3\x20topic-category\x22>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','.start-live-race-btn','/public/data/projects','pop','split','reference-pdf-upload','\x5c\x5c\x5c\x5c(?=(','preTestId','ความชันและเส้นตรง','ไม่พบแบบทดสอบ','หัวข้อที่สร้างเอง','confirm-rename-quiz-btn','Error\x20moving\x20quiz:','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','kick-player-btn','ร้อยละพื้นฐาน','link-tab','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','รูปสแควร์รูท\x20(surd)','textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','AI\x20grading\x20failed:','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x22\x20value=\x22','blueprint-input-area','canvas','bg-green-500','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','fix\x20the\x20option','th-TH','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','parallel-test-upload-input','ยืนยันการจับคู่','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','question-complexity-select','include-images-checkbox','score-distribution-chart','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','slice','bestScore','student-result-area','student-name-selection-view','cancel-test-btn','cancel-delete-btn','eraser','touchend','<div\x20id=\x22q-image-container-','#ffffff','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','parts','text-blue-700','timer-duration-input','underline','get','generated-quiz-container','</button>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','student-quiz-area','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','querySelector','</span></p>','Re-grade\x20process\x20failed:','questionType','\x22><p\x20class=\x22font-semibold\x22>','perseverance','active','student-progress-content','#E5E7EB','ทฤษฎีบทพื้นฐานของแคลคูลัส','matching','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','bulk-results-display-select','width','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','คะแนนเต็ม','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-easy-version-btn','กำลังอ่านและเตรียมไฟล์...','Error\x20generating\x20from\x20link:','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','behavior-log','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','รากที่สองและที่สาม','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','cancel-rename-quiz-btn','target','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','next-drill-btn','</div>\x0a</div>\x0a','กฎของโคไซน์','พื้นที่สามเหลี่ยม','select','ส่วนเบี่ยงเบนเฉลี่ย','.question-editor-item','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','fixedData','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','add-student-btn','<li\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20generating\x20from\x20blueprint:','projectId','(ฉบับง่าย)\x20','<p\x20class=\x22font-bold\x20text-sm\x20','color','สลับไปโหมดนักเรียน','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','progress-project-select','</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','.topic-category','stringify','pointerup','(คู่ขนาน)\x20','toDataURL','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','pointerType','question-analytics-container','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee.firebaseapp.com','showRankings','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','text-blue-700\x20bg-blue-100','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','.presentation-option','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replace','เกิดข้อผิดพลาดในการเข้าร่วมเกม','.save-to-bank-btn','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','loader-text','ศูนย์','preTScore','#F3E8FF','results-table','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','bg-green-200','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','explanation','แบบทดสอบที่ติดดาว','แผนการสอน:\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','เกิดข้อผิดพลาดในการสร้างห้องเกม','parent','Error\x20updating\x20old\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','ลำดับการดำเนินการ\x20(PEMDAS)','keydown','คะแนนเต็ม!','สร้างโปรเจคสำเร็จ!','modal-passing-score-input','ตรวจคะแนนใหม่\x20','px)\x20scale(','ฟังก์ชันยกกำลัง','พิมพ์ตอบ','view-my-progress-btn','forEach','ที่พิมพ์ได้\x20จำนวน\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','global-live-game-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','scheduled_pending','behavior-log-container','_opt','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','open-quiz-bank-btn','projectOrder','none','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','getAttributeNS','แบบทดสอบนี้ปิดใช้งานอยู่','latestScore','/users/','answers','close-presentation-btn','project-name-input','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','index','MathJax','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','getBoundingClientRect','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_asc','fa-user-astronaut\x20text-blue-700','text-emerald-900','.topic-actions-view','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','element','\x22.\x20','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','/public/data/learnedFixes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','generate-from-file-btn','ฟังก์ชันค่าสัมบูรณ์','project-quizzes-list','json','standard','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','ฮิสโตแกรม','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-quiz-bank-btn','confirm-quiz-settings-btn','สมการเชิงเส้นตัวแปรเดียว','input[type=\x22radio\x22]:checked','bg-blue-100\x20text-blue-800','ทฤษฎีทวินาม\x20(เบื้องต้น)','ไม่ได้ตอบ','Error\x20updating\x20quiz\x20status:','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','8639361FXPauG','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','admin-try-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','.color-palette-popup','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','ดอกเบี้ยทบต้น','originalTopic','translate(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','perfect_score','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.option-text','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','cos','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','isPinned','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','write','ยกเลิกการจับคู่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','addEventListener','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','workerSrc','\x20ใหม่...','คะแนนยังไม่ถึงครึ่ง','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','presentation-scratchpad-btn','topic-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','blockReason','scrollIntoView','check-answer-btn','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','modal-adaptive-quiz-checkbox','lowerGroupNames','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','math-topics-checkbox-container','modal-timer-duration-input','innerHTML','save-quiz-edits-btn','สถิติและความน่าจะเป็น','\x22\x20data-name=\x22','/preferences/main','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','behavior-log-tab-btn','อุณหภูมิและการแปลง','text-red-500\x20hover:text-red-700','items','transformOrigin','fas\x20fa-bookmark','qIndex','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','createElementNS','upperGroupNames','#E0E7FF','progress-student-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ความชันเส้นสัมผัส','targetId','export-pdf-modal','short_answer','touches','cursor','student-quiz-leaderboard-table-body',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','textContent','insertAdjacentHTML','</span></td>','resultsDisplay','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','[*]','indexOf','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','totalPoints','currentTarget','deselect-all-topics-btn','(ก่อนเรียน)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','cancel-quiz-status-btn','แผนภาพเวนน์','quiz-generation-area','some','ปรับเพิ่ม/ลดเป็นร้อยละ','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','setItem','\x0a\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2030°-60°-90°','<i\x20class=\x22fas\x20fa-magic\x22></i>','match','ความสัมพันธ์ของมุม','ฐานนิยม','สมการค่าสัมบูรณ์','Firebase\x20initialization\x20failed:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','border-green-300\x20bg-green-50','offsetWidth','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','(หลังเรียน)\x20','generate-from-parallel-test-btn','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','table','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','fill_in_no_choices','data','leaderboard-tab','.quiz-bank-settings-btn','พื้นที่วงกลม/ส่วนของวงกลม','entries','bulk-loop-until-pass-checkbox','fa-shield-alt\x20text-gray-600','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','quiz-leaderboard-table-container','การวัด','null','password-error-msg','save','AI\x20request\x20was\x20blocked.\x20Reason:\x20','attempts','กำลังอัปเดตแบบทดสอบ\x20','timer-duration-container','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','btn','<h1></h1>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','file-topic-input','ปริมาตรรูปทรงสามมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','stem','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','createdAt','height','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','grabbing','quick_thinker','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','startsWith','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','confirm-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.png','verify-answers-editor-btn','loop-until-pass-checkbox','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','typesetPromise','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','qType','rgba(79,\x2070,\x20229,\x201)','key','quizType','clearRect','สร้างคำถามแบบเติมคำในช่องว่าง','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','ยังไม่ส่ง','latestSubmittedAt','players.','STOP','update','\x5cneq','export-leaderboard-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','Error\x20saving\x20user\x20preference:','answerText','students','project-search-input','toLocaleString','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','content','cancel-export-pdf-btn','back-to-project-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','editable-quiz-topic','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Remedial\x20quiz\x20generation\x20failed:','text-indigo-800','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','text-red-600','ระบบเลขและค่าประจำหลัก','loopUntilPass','เกิดข้อผิดพลาดในการโหลดโปรเจค','scratchpad-controls','ref','export-tutor-pdf-btn','link-input-area','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','perQuestionStats','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','bank-quiz-search-input','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','learningGaps','timer-bar','-tab-content','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','การลบ','77sWzGNh','remove','แก้ระบบสมการด้วยเมทริกซ์','จำนวนข้อ:','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','closePath','file-input-area','badges','\x20mr-2\x22></i>','save-project-name-btn','จำนวนคละ','answering','disabled','267846PoyqVb','การคูณทศนิยม','project-passcode-modal','bottom','update-old-quizzes-btn','retake-quiz-loop-btn','onclick','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','admin-password-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.isScored','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','904300NRVUoP','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','text/html','default','\x22\x20data-topic=\x22','afterend','\x22\x20เพื่อสร้างชุดคู่ขนาน...','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x20ชุด)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22color-palette-btn\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','create-project-btn','touchmove','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','getTextContent','whole_quiz','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','student-initial-view','svg','quiz-editor-questions-container','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<br>','correctResponse','บันทึกการตั้งค่าแล้ว','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','NUMBER','string','presentation-ai-result','.pen-color-btn','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20starred\x20quizzes:','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','project-detail','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input','back-to-student-home-btn','toggle','list-view-btn','rename-quiz-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','cancel-move-quiz-btn','move-quiz-modal','กรุณาเลือกชื่อของคุณ','.doc','การจัดกลุ่มข้อมูล','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','body','confirm-create-project-btn','setAttributeNS','fa-bolt\x20text-blue-500','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','gain','เงินงวด\x20(อนุกรมเงินงวด)','confirm-join-game-btn','touchcancel','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','contentEditable','ยังไม่มีนักเรียนส่งงาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectView','from','timer-mode-select','pinnedProjects','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','text-emerald-800','print','กรุณาป้อนรหัสแบบทดสอบ','การบวก','s;\x22\x20title=\x22','position','choices_only','results-display-select','-\x20ข้อ\x20','fixed','จำนวนคู่:','players','ย้าย','.generate-lesson-btn','fa-pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','no-projects-msg','9792OhgTvS','student-project-leaderboard-table-body',')\x5cb)','.toggle-actions-btn','questionIndex','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x5csqrt{$1}','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','inactive','undefined','.ai-fix-formula-btn','on_fire','modal-timer-duration-container','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','devicePixelRatio','ข้อ\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','visibilitychange','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','จับคู่เพื่อเปรียบเทียบผล','style','medium','td,\x20th','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','%</span>','leq','toLowerCase','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','.quiz-bank-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','bar','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','project-detail-view','open-scratchpad-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','ไม่พบแบบทดสอบในระบบเลย','toDate','dashboardConfig','bulk-quiz-settings-btn','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','.pdf','export-worksheet-pdf-btn','show_results_only','#FFFFFF','blueprint-tab','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.pin-project-btn','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','blueprint-upload-input','lineWidth','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','set','score','ไม่สามารถโหลดรายการโปรเจคได้','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','AI\x20Fix\x20Error:','delete-all-students-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','generate-from-link-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-excel-btn','</p><p><strong>เฉลย:</strong>\x20','lobby','Error\x20committing\x20score\x20updates:','leaderboard-table-body','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-list','Error\x20starting\x20game:','webkitExitFullscreen','Error\x20generating\x20parallel\x20test\x20from\x20bank:','.lastAnswerValue','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการยกกำลัง','<div\x20class=\x22my-6\x22>','หน่วยความยาวและการแปลง','การนับ','game-pin-input','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','deg','move-quiz-project-select','หลังเรียน','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','การคูณเศษส่วน','manage-tab','per_question','input[name=\x22status-option\x22]','รูปหลายเหลี่ยมและมุมภายใน','สร้างแบบทดสอบ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20loading\x20user\x20preferences:','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','visible','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','ผู้เชี่ยวชาญ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจพบการออกจากหน้าจอครบ\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','source-over','bulk-quiz-settings-modal','กรุณาใส่ชื่อนักเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','modal-message','.project-card-container[data-id]','<p\x20class=\x22','คัดลอกไม่สำเร็จ','num-choices-container','#e21b3c','PERFECT_SCORE','pointsLastQuestion','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','ไม่สามารถเริ่มเกมได้','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','</div>','cancel-quiz-settings-btn','bg-purple-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','editor-quiz-topic','teacherSuggestions','text-yellow-800','ยืนยันและอัปเดตทั้งหมด','description','pen-tool-btn','.verification-result-editor','button[data-id]','.lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','live-submit-short-answer-btn','#view-rankings-btn','\x20จาก\x20','องค์ประกอบของฟังก์ชัน','display','เกิดข้อผิดพลาดในการเปลี่ยนสี','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','strength-weakness-analysis-container','name','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','การหาร','Error\x20verifying\x20answers\x20in\x20editor:','title','submission','.delete-quiz-btn','mode-switcher-btn','exitFullscreen','.edit-quiz-btn','link-url-input','close-student-rankings-btn','ฟังก์ชันผกผัน','text-green-600','join','toFixed','wakeLock','export-pdf-btn','เกี่ยวกับหัวข้อ\x20\x22','input','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','change','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','message-modal','ยอดเยี่ยม','image/png','ใช่','input[name=\x22question_single\x22]:checked','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','project-passcode-input','comparison-overall-tab','dimmed','กำลังจับคู่...','</td></tr>','baseVal','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','file-tab','mouse','generate-worksheet-btn','ลำดับเลขคณิต\x20(AP)','confirmation-modal','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','save-settings-btn','quizId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','text','getItem','tGain','Invalid\x20response\x20structure\x20from\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','multiple_choice','การคูณ','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','scores-tab-btn','ring-2','prod','\x22\x20data-q-type=\x22','shuffleSetting','removeChild','กราฟฟังก์ชันตรีโกณ','katex','<div\x20class=\x22my-2\x22>','leaderboard-quiz','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','thead','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','frac','button[type=\x22submit\x22]','quiz-start-time','jspdf','document','currentQuestionIndex','<span\x20class=\x22sort-indicator\x20ml-2\x22>','(ตัวเลือกผิดพลาด)','พีชคณิตและฟังก์ชัน','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','matching_item','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','modal-results-display-select','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#per-question-options\x20select','695759ythYyh','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','empty','left','bg-emerald-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','appendChild','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','input[type=\x22checkbox\x22]:checked','mjx-container','focus','badgesCount','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','Error\x20generating\x20lesson\x20plan:','\x5cpm','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','.quiz-bank-present-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','getDocument','findIndex','ผลรวมอนุกรม\x20(Σ)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-view','playerName','isCorrect','สู้ๆ\x20ลองอีกครั้งนะ','เส้นตรง:\x20รูปแบบสมการ','confirm-global-live-btn','font-bold\x20text-red-700\x20line-through','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-loop-until-pass-checkbox','asc','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x22><i\x20class=\x22fas\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-dashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','project-sort-select','keyup','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','#student-quiz-leaderboard-content\x20thead','ค.ร.น.\x20(LCM)','ระบบอสมการ','ความต่อเนื่อง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.draggable-text','sqrt','isRemedial','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','neq','hint-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำเตือน\x20(','right','\x20หัวข้อ)','scrollY','webkitRequestFullscreen','สร้างใหม่','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','scrollX','points','geq','/public/data/practiceBank','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','live-game','now','correctAnswerIndex','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','เกมสิ้นสุดลงแล้ว','จำนวนเชิงซ้อน\x20(เสริม)','cancel-passcode-btn','#10B981','<textarea\x20name=\x22question','การกระจายและการจัดหมู่','prev-question-btn','download','เลือกและบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','12pSpIeQ','Error\x20updating\x20pin\x20status:','pinned-items','ตรวจทานเฉลยเสร็จสิ้น!','$1\x5cfrac','offset','far\x20fa-star','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','reset-project-order-btn','start-live-race-generated-btn','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','API\x20call\x20failed\x20with\x20status:\x20','สร้างแบบทดสอบปรนัย','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ai-quiz-app-aefee','ระยะเวลา\x20(วินาที):','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กรุณาเลือกสถานะ','confirm-quiz-status-btn','อัตราส่วนและสัดส่วน','.edit-question-btn','แก้ไขข้อนี้','manage','student','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','includes','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','quiz-results-view','student-reading-area','timerDuration','getContext','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','lesson-plan-modal','กำลังดึงข้อมูลจากลิงก์...','add-custom-math-topic-btn','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','เกิดข้อผิดพลาดในการโหลดสถานะ','enable-passcode-checkbox','ไม่มีผู้ตอบตัวเลือกนี้','Authentication\x20failed:','สเกลและแผนที่','hint','text-green-700','.score','ฟังก์ชันแบบชิ้นส่วน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','ring-purple-400','pointercancel','presentation-short-answer-input','ความแปรปรวน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','quiz-type-select','toISOString','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','results','podium','release','POST','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','.correct-response-input','.quiz-settings-btn','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','ชื่อหัวข้อห้ามว่าง','result','close','.quiz-result-card','Error\x20saving\x20questions\x20to\x20practice\x20bank:','Error\x20deleting\x20student:','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20','quiz-end-time','submittedAt','user','ai-quiz-generator-v3','clientY','back-to-results-btn','เลือกโปรเจคเพื่อบันทึก','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','confirm-move-quiz-btn','quiz','.topic-name-input','comparison-chart','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x20ครั้ง)</span></td>','Error\x20starting\x20live\x20race:','type','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','กำลังสแกนหาแบบทดสอบเก่า...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','bg-red-100\x20text-red-800','FileReader\x20error:','text-blue-800','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','showInStudentDashboard','.csv','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','การประยุกต์เวกเตอร์พื้นฐาน','show_pass_fail_only','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','getElementById','moveTo','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','Error\x20fetching\x20projects\x20for\x20move:','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','lessonPlan','leaderboard-tab-content','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p></div>','fa-dumbbell\x20text-gray-700','\x22\x20value=\x22true\x22\x20','ไฮเพอร์โบลา','postScore','\x5ccdot','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','สร้างคำถามแบบใช่/ไม่ใช่','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','topic-tab','viewBox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','getScreenCTM','\x5cle','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','teachingContent','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','):\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','รอเปิด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','.quiz-bank-parallel-btn','สุดยอด!\x20ตอบถูกทุกข้อ','name_asc','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','(คัดลอก)\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','พบข้อสอบ\x20','startTime','คัดลอกรหัสแล้ว!','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','screen','submission-status-chart','.group','text-red-300\x20hover:text-red-100','กฎบวกและกฎคูณ','.sort-indicator','.ideal-answer-input,\x20.correct-response-input','quiz-leaderboard-table','reveal-answer-btn','\x22\x20name=\x22question','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','map','Error\x20rendering\x20student\x20progress:','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','.pair-quiz-btn','สมมาตร\x20(แกน/จุด)','shuffle','close-comparison-modal-footer-btn','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</body></html>','comparison-modal','input[type=\x22radio\x22][value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20name=\x22question_single\x22\x20value=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','bg-red-50','bg-green-100','กำลังวิเคราะห์ข้อสอบ\x20\x22','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab','stopPropagation','2-digit','overallGroups','88HNFuDF','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','generate-from-text-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','#results-table','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','q-explanation-','แบบทดสอบซ่อมเสริม','documentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','removeEventListener','.project-card-container.opacity-50','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','modal-shuffle-select','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','scratchpad-question','\x5cfrac{$1}{$2}','error','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hover:bg-indigo-100','authed_project_','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-project-btn','\x20mb-2\x22>','สรุปผลการวิเคราะห์:\x5cn','opacity-50','preScore','bg-red-100','message','ส่งคำตอบ','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','Error\x20saving\x20visibility\x20settings:','Error\x20loading\x20quiz\x20for\x20student:',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','starred','การเรียงสับเปลี่ยน\x20(Permutation)','text-green-600\x20font-bold','[contenteditable=\x22true\x22]','overline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','จุด\x20เส้น\x20ระนาบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-presentation-btn','อัปเดตแบบทดสอบเก่า\x20','text-input-area','back-to-home-manual-release','ตอบถูกทุกข้อในแบบทดสอบนี้','แก้ไขหัวข้อสำเร็จ','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','เกิดข้อผิดพลาดในการปักหมุด','status','back-to-dashboard-btn','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','editable-text-','solution','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ผู้ควบคุม\x20(ทดสอบ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','top','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','หมดเวลาสำหรับข้อนี้!','submissions','ไม่ใช่','เรขาคณิต','ระยะทางและจุดกึ่งกลาง','keys','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','autoTable','loader','Error\x20resetting\x20project\x20order:','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','อนุพันธ์:\x20ผลคูณ/ผลหาร','true','bg-blue-100','totalQuestions','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','ทำคะแนนเต็มในการทำครั้งแรก','#FCE7F3','(^|[^\x5c\x5c])\x5cb','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</li>','hasOwnProperty','\x22...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','reduce','round','beforeend','quiz-settings-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20worksheet:','stdDev','lineCap','global-live-game-modal','font-bold\x20text-green-700','back-to-dashboard-from-results-btn','เกิดข้อผิดพลาดในการบันทึก','true_false','quiz-status-modal','list','results-table-container','การหารทศนิยม','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','size','_opt0\x22\x20name=\x22question','numeric','ฟังก์ชันเชิงเส้นและกราฟ','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20parallel\x20post-test:','text/csv;charset=utf-8;','เกิดข้อผิดพลาดในการอัปเดต:\x20','ไม่พบข้อมูลแบบทดสอบ','ไม่สามารถโหลดข้อมูลอันดับได้','สามเหลี่ยม\x20(ชนิด/สมบัติ)','รูปแบบการให้เหตุผล','start-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','.pointsLastQuestion','text-white','bg-gray-50','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ความเท่ากันทุกประการของสามเหลี่ยม','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','Error\x20generating\x20quiz:','.delete-submission-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','player-list-lobby','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ไม่สามารถบันทึกการตั้งค่าได้','เส้นรอบรูป','flex','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x20mx-1\x20text-lg\x22></i></span>','/public/data/liveGames','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x20คู่\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','$1^{\x5ccirc}\x5ctext{C}','.verification-result','$1\x5ctimes','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','options','comparison-overall-content','str','Copy\x20command\x20failed','parse','bg-amber-100\x20text-amber-800','project-title','[role=\x22textbox\x22]','sort','classStrengths','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ownerSVGElement','repeat','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','AI\x20Formula\x20Fix\x20Error:','standardTopic','presentation-modal','$$$1$','quiz-leaderboard-table-body','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','adaptive-quiz-checkbox','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','allResponses','ไม่พบข้อมูลข้อสอบหลังเรียน','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','API\x20call\x20failed','<div>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','export-compact-pdf-btn','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','wheel','difficulty-level-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','isScored','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isPasscodeEnabled','พอใช้','อัตราและอัตราหน่วย','files','studentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','เกิดข้อผิดพลาดในการลบนักเรียน','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','per-question-timer-container','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','Failed\x20to\x20create\x20initial\x20submission\x20record:','#results-table\x20thead\x20tr','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','Error\x20verifying\x20answers:','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20รายการ...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<svg','results-tab-content','บันทึกการตั้งค่าการแสดงผลสำเร็จ','$1\x20\x5cfrac','อนุพันธ์:\x20กฎลูกโซ่','ก่อนเรียน','num-questions','ลบผลสอบของ\x20','ลำดับเรขาคณิต\x20(GP)','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20fetching\x20project\x20quizzes:','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','Error\x20fetching\x20quiz\x20status:','msRequestFullscreen','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','การจัดหมู่\x20(Combination)','helvetica','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาดในการติดดาว','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','analytics-tab-btn','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้','ส่งแล้ว','BOOLEAN','icon','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','การแจกแจงทวินาม\x20(พื้นฐาน)','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','open','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','</span></div>','\x20ข้อ\x20','Error\x20regenerating\x20question\x20in\x20editor:','คัดลอกแบบทดสอบสำเร็จ','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลการจับคู่','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','การหารเศษส่วน','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตสถานะสำเร็จ','endTime','end-game-btn','fill_in_with_choices','toLocaleDateString','then','join-live-game-btn','\x22>จาก:\x20','generate-from-blueprint-btn','.color-palette-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','student-join-game-view','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตัวประกอบและตัวประกอบเฉพาะ','questionDisplayedAt','\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','.topic-row','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','confirmation-message','catch','all','</form>','cdot','2eaYkMQ','.project-card-container:not(.opacity-50)','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','#000000','thead\x20.sortable-header','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x20/\x20','gamePin','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','.question-editor-item[data-q-index=\x22','delete-svg-btn','\x5cs*\x5c(','จับคู่แบบทดสอบสำเร็จ!','results-quiz-id-display','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','exists','contains','\x5cfrac','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','raw','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p>','close-game-final-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','bg-green-100\x20text-green-800','total','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-red-200\x20text-red-800','ไม่พบตารางสำหรับ\x20Export','Error\x20deleting\x20custom\x20topic:','button','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','answer-counter','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','เปลี่ยนชื่อโปรเจคสำเร็จ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','admin-view','$1^{\x5ccirc}','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','.parallel-quiz-btn','อัปเดตพฤติกรรมสำหรับ\x20','\x20ชุดสำเร็จ!','เกิดข้อผิดพลาดในการลบผลสอบ','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','uid','export-leaderboard-pdf-btn','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','getBBox','show_results_and_answers','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','กรุณาใส่ชื่อโปรเจค','comparison-individual-tab','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','leaderboard-quiz-tab-content','<div\x20class=\x22','ค่าความจริง/ตารางค่าความจริง','push','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','questionText','.answeredCurrentQuestion','start-game-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','upper_group_count','user-id-display','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','กรุณาเลือกไฟล์ก่อน','/public/data/quizzes/','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','scratchpad-header','Error\x20duplicating\x20quiz:','text-purple-600','blur','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','fullscreenElement','input[name=\x22status-option\x22]:checked','max','<button\x20id=\x22','กรุณาเลือกคำตอบก่อนครับ','timerMode','จำนวนเต็มบวก','text-content-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-list','.submittedAt','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','$1\x5ctext{','createElement','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','imageCode','ไม่พบเอกสารการส่งงานของ\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ไม่ผ่าน','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','fas\x20fa-user-edit','ความคล้ายของรูป','PERSEVERANCE','ลบโปรเจคสำเร็จแล้ว','reset-view-btn','createObjectURL','สมการตรีโกณมิติ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','option','.scratchpad-content-wrapper','พิสัย','Failed\x20to\x20kick\x20player\x20','dataset','shuffledQuiz','close-comparison-modal-btn','approx','checked','project-dashboard-view','สมการลอการิทึม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20submission:','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','correctAnswer','ยืนยันการกระทำ','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','modal-timer-mode-select','post-test','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-create-project-btn','\x22\x20ซึ่งมีทั้งหมด\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','closest','\x22\x20data-pre-test-id=\x22','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','desc','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เมทริกซ์:\x20บวก/คูณ','Error\x20updating\x20quiz\x20settings:','bg-green-50','/public/data/customMathTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option>กำลังโหลดโปรเจค...</option>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visibilityState','border-gray-200','touchstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการจับคู่','upperGroupResponders','export-leaderboard-word-btn','แผนการสอน','pre-test','length','confirm-passcode-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','create-project-modal','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-700','.copy-quiz-id-list-btn','click','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','ดีเทอร์มิแนนต์','\x20รายการสำเร็จ!','\x20คนที่ส่ง\x20ตอบถูก\x20(','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','verify-answers-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','transform','Error\x20adding\x20custom\x20topic:','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','draggable-text','เรเดียนและการแปลงหน่วย','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-search-input','parallel-test-input-area','quiz-bank-modal','results-tab','setTransform','mouseleave','classList','fill_in_the_blank','\x20\x20\x20-\x20คำตอบ:\x20','quiz-results','Enter','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','student-passcode-input','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','opacity','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','การแยกตัวประกอบ','strokeStyle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hidden','464EliVJj','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','requestFullscreen','trim','setFont','Error\x20updating\x20project\x20color:','quiz-id-input','firstScore','per-question-options','265139GkaQSP','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','scratchpad-modal','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x24ba=function(){return _0x324389;};return _0x24ba();}function showMessage(_0x53365f,_0x6d6bd2=null){const _0x133488=_0x346886;modalMessage[_0x133488(0x394)]=_0x53365f,modalConfirmAction=_0x6d6bd2,messageModal[_0x133488(0x8f4)][_0x133488(0x42d)]('hidden');}function showConfirmation(_0x525ba5,_0x220715){const _0xe81a4c=_0x346886;document['getElementById'](_0xe81a4c(0x80a))[_0xe81a4c(0x394)]=_0x525ba5,document[_0xe81a4c(0x68b)](_0xe81a4c(0x579))[_0xe81a4c(0x293)]('h3')[_0xe81a4c(0x394)]=_0xe81a4c(0x8a5),confirmAction=_0x220715,confirmationModal['classList']['remove'](_0xe81a4c(0x901));}function listenForProjects(){const _0x5d0916=_0x346886,_0x4476d5=doc(db,_0x5d0916(0x5aa),'dashboardConfig');onSnapshot(_0x4476d5,_0x2787a0=>{const _0x2a680c=_0x5d0916;if(_0x2787a0[_0x2a680c(0x824)]()){const _0xe871b3=_0x2787a0[_0x2a680c(0x3c0)]();globalDashboardSettings[_0x2a680c(0xa3a)]=_0xe871b3['projectSort']||_0x2a680c(0x91c),globalDashboardSettings[_0x2a680c(0x48e)]=_0xe871b3[_0x2a680c(0x48e)]||[],globalDashboardSettings[_0x2a680c(0x312)]=_0xe871b3[_0x2a680c(0x312)]||[];}allProjects[_0x2a680c(0x8cf)]>0x0&&renderProjects();});const _0x15742d=collection(db,_0x5d0916(0x9d8)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x15742d,_0x1d763d=>{const _0x52744e=_0x5d0916;allProjects=_0x1d763d[_0x52744e(0xa07)][_0x52744e(0x6c4)](_0x26a90a=>({'id':_0x26a90a['id'],..._0x26a90a[_0x52744e(0x3c0)]()})),renderProjects();},_0x545464=>{const _0x2c14af=_0x5d0916;console[_0x2c14af(0x6f2)](_0x2c14af(0x96e),_0x545464),showMessage(_0x2c14af(0x418));});}function showColorPalette(_0x2eb9f7,_0x43a6e6){const _0x24ccf1=_0x346886;document[_0x24ccf1(0x3df)](_0x24ccf1(0x346))['forEach'](_0x277e91=>_0x277e91[_0x24ccf1(0x42d)]());const _0x59ff7f=['#FFFFFF','#FEE2E2','#FEF3C7','#D1FAE5','#DBEAFE',_0x24ccf1(0x388),_0x24ccf1(0x2ec),_0x24ccf1(0x73a),'#E5E7EB'],_0x40cf12=document[_0x24ccf1(0x882)](_0x24ccf1(0xa2f));_0x40cf12[_0x24ccf1(0x7d1)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x59ff7f[_0x24ccf1(0x305)](_0xd39673=>{const _0x5089b6=_0x24ccf1,_0x1c5bed=document[_0x5089b6(0x882)](_0x5089b6(0xa2f));_0x1c5bed['className']=_0x5089b6(0xa10),_0x1c5bed[_0x5089b6(0x4bb)][_0x5089b6(0x735)]=_0xd39673,_0x1c5bed['addEventListener']('click',()=>{const _0x4d31c5=_0x5089b6;handleProjectColorChange(_0x43a6e6,_0xd39673),_0x40cf12[_0x4d31c5(0x42d)]();}),_0x40cf12[_0x5089b6(0x5b9)](_0x1c5bed);}),document['body'][_0x24ccf1(0x5b9)](_0x40cf12);const _0x5023d5=_0x2eb9f7[_0x24ccf1(0x320)]();_0x40cf12[_0x24ccf1(0x4bb)]['top']=_0x5023d5[_0x24ccf1(0x43c)]+window[_0x24ccf1(0x5fb)]+'px',_0x40cf12[_0x24ccf1(0x4bb)]['left']=_0x5023d5[_0x24ccf1(0x5b3)]+window[_0x24ccf1(0x600)]-_0x40cf12[_0x24ccf1(0x3b7)]/0x2+'px';}async function handleProjectColorChange(_0x4f7165,_0x5a5b20){const _0x250ad3=_0x346886,_0x542102=doc(db,_0x250ad3(0x9d8)+appId+_0x250ad3(0x24d),_0x4f7165);try{await updateDoc(_0x542102,{'color':_0x5a5b20});}catch(_0x347e09){console[_0x250ad3(0x6f2)](_0x250ad3(0x907),_0x347e09),showMessage(_0x250ad3(0x547));}}async function renderProjects(){const _0x2b3878=_0x346886,_0x10cee6=globalDashboardSettings[_0x2b3878(0xa3a)]||_0x2b3878(0x91c),_0xaed85a=new Set(globalDashboardSettings[_0x2b3878(0x48e)]||[]),_0x39c812=globalDashboardSettings[_0x2b3878(0x48b)]||_0x2b3878(0x515),_0x33b4b6=document[_0x2b3878(0x68b)]('grid-view-btn'),_0x1b8d2c=document['getElementById']('list-view-btn');_0x33b4b6[_0x2b3878(0x8f4)][_0x2b3878(0x474)](_0x2b3878(0x299),_0x39c812===_0x2b3878(0x515)),_0x1b8d2c[_0x2b3878(0x8f4)][_0x2b3878(0x474)](_0x2b3878(0x299),_0x39c812===_0x2b3878(0x750)),document['getElementById'](_0x2b3878(0x5e4))[_0x2b3878(0x967)]=_0x10cee6;const _0xd6f69b=document['getElementById'](_0x2b3878(0x409))[_0x2b3878(0x967)][_0x2b3878(0x4c2)]();let _0x2a3cfd=allProjects['filter'](_0x1c5c53=>_0x1c5c53['projectName'][_0x2b3878(0x4c2)]()[_0x2b3878(0x634)](_0xd6f69b));const _0x2cc762=_0x2a3cfd[_0x2b3878(0x7cb)](_0x4b4da2=>_0xaed85a[_0x2b3878(0x85b)](_0x4b4da2['id'])),_0x1144ea=_0x2a3cfd[_0x2b3878(0x7cb)](_0x2e9796=>!_0xaed85a[_0x2b3878(0x85b)](_0x2e9796['id'])),_0x52a141=(_0x183e17,_0x3f5684)=>{const _0x49d7e3=_0x2b3878;switch(_0x10cee6){case _0x49d7e3(0x6ae):return _0x183e17[_0x49d7e3(0x985)][_0x49d7e3(0x959)](_0x3f5684[_0x49d7e3(0x985)],'th');case _0x49d7e3(0x36a):return _0x3f5684['projectName'][_0x49d7e3(0x959)](_0x183e17[_0x49d7e3(0x985)],'th');case _0x49d7e3(0x322):return new Date(_0x183e17[_0x49d7e3(0x3dd)])-new Date(_0x3f5684[_0x49d7e3(0x3dd)]);default:return new Date(_0x3f5684[_0x49d7e3(0x3dd)])-new Date(_0x183e17[_0x49d7e3(0x3dd)]);}};_0x2cc762[_0x2b3878(0x787)](_0x52a141),_0x1144ea[_0x2b3878(0x787)](_0x52a141);const _0x3ce494=[..._0x2cc762,..._0x1144ea],_0x418e13=globalDashboardSettings['projectOrder']||[];_0x418e13[_0x2b3878(0x8cf)]>0x0&&_0x39c812===_0x2b3878(0x515)&&_0x3ce494[_0x2b3878(0x787)]((_0x3eb79f,_0x212105)=>{const _0x3a3a29=_0x2b3878,_0x53b4d1=_0x418e13[_0x3a3a29(0x39a)](_0x3eb79f['id']),_0x16959d=_0x418e13['indexOf'](_0x212105['id']);if(_0x53b4d1===-0x1)return 0x1;if(_0x16959d===-0x1)return-0x1;return _0x53b4d1-_0x16959d;});const _0x14440b={};await Promise[_0x2b3878(0x80c)](_0x3ce494[_0x2b3878(0x6c4)](async _0x15d89b=>{const _0xbd3f33=_0x2b3878,_0x199cd0=query(collection(db,_0xbd3f33(0x9d8)+appId+_0xbd3f33(0x3a7)),where(_0xbd3f33(0x2c3),'==',_0x15d89b['id'])),_0x19491c=await getDocs(_0x199cd0);_0x14440b[_0x15d89b['id']]=_0x19491c['size'];}));const _0x3d5a17=document[_0x2b3878(0x68b)](_0x2b3878(0x4f5));let _0x13abde='';if(_0x39c812===_0x2b3878(0x515)){_0x3d5a17['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x2b3878(0x8cf)]>0x0&&_0xd6f69b===''){const _0x164ae3=starredQuizzes['map'](_0x1bee4d=>{const _0x2e36c1=_0x2b3878,_0x3d9d4a=allProjects[_0x2e36c1(0x94f)](_0x5f36a1=>_0x5f36a1['id']===_0x1bee4d[_0x2e36c1(0x2c3)]);return{..._0x1bee4d,'projectName':_0x3d9d4a?_0x3d9d4a[_0x2e36c1(0x985)]:_0x2e36c1(0x971)};});_0x13abde+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x164ae3[_0x2b3878(0x6c4)](_0x8623a9=>_0x2b3878(0x9e5)+_0x8623a9[_0x2b3878(0x9e3)]+'\x22>'+_0x8623a9[_0x2b3878(0x9e3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x8623a9[_0x2b3878(0x985)]+_0x2b3878(0x7fb)+_0x8623a9['projectName']+_0x2b3878(0x3d9))[_0x2b3878(0x559)]('')+_0x2b3878(0xa37)+starredQuizzes[_0x2b3878(0x8cf)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x3ce494[_0x2b3878(0x305)](_0x4a3faa=>{const _0x4fa5b3=_0x2b3878,_0x5e3219=_0x14440b[_0x4a3faa['id']]??0x0,_0x57234d=_0xaed85a[_0x4fa5b3(0x85b)](_0x4a3faa['id']),_0x720ce4=_0x4a3faa[_0x4fa5b3(0x2c6)]||_0x4fa5b3(0x4d8),_0x4be65f=parseInt(_0x720ce4[_0x4fa5b3(0x880)](0x1,0x3),0x10)*0.299+parseInt(_0x720ce4[_0x4fa5b3(0x880)](0x3,0x5),0x10)*0.587+parseInt(_0x720ce4[_0x4fa5b3(0x880)](0x5,0x7),0x10)*0.114<0xba,_0x697b0c=_0x4be65f?'text-white':_0x4fa5b3(0x413),_0x56f82f=_0x4be65f?_0x4fa5b3(0x992):_0x4fa5b3(0x8d4);_0x13abde+=_0x4fa5b3(0x34d)+(_0x57234d?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x4fa5b3(0x8c5))+_0x4fa5b3(0x79e)+_0x720ce4+';\x22\x20data-id=\x22'+_0x4a3faa['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a3faa['id']+_0x4fa5b3(0x451)+(_0x4be65f?_0x4fa5b3(0x242):_0x4fa5b3(0x716))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a3faa['id']+_0x4fa5b3(0x665)+(_0x4be65f?_0x4fa5b3(0x242):_0x4fa5b3(0x716))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x57234d?_0x4be65f?'text-yellow-300':_0x4fa5b3(0x2fa):'')+_0x4fa5b3(0x32f)+_0x4a3faa['id']+_0x4fa5b3(0x77e)+_0x697b0c+'\x20pointer-events-none\x22>'+_0x4a3faa[_0x4fa5b3(0x985)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x56f82f+_0x4fa5b3(0x505)+new Date(_0x4a3faa[_0x4fa5b3(0x3dd)])[_0x4fa5b3(0x7f8)](_0x4fa5b3(0x26c))+_0x4fa5b3(0x832)+(_0x4be65f?_0x4fa5b3(0x7eb):'text-gray-700')+_0x4fa5b3(0x968)+_0x5e3219+_0x4fa5b3(0x48f)+_0x4a3faa['id']+_0x4fa5b3(0x376)+_0x4a3faa['projectName']+'\x22\x20class=\x22delete-project-btn\x20'+(_0x4be65f?_0x4fa5b3(0x6bc):_0x4fa5b3(0x37b))+_0x4fa5b3(0x793);});}else _0x3d5a17['className']='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0xd6f69b===''&&(_0x13abde+=_0x2b3878(0x69a)+starredQuizzes[_0x2b3878(0x8cf)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x13abde+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3ce494[_0x2b3878(0x305)](_0x4a7911=>{const _0x19322e=_0x2b3878,_0x1d5a39=_0x14440b[_0x4a7911['id']]??0x0,_0x1e31f1=_0xaed85a['has'](_0x4a7911['id']);_0x13abde+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x4a7911[_0x19322e(0x2c6)]||_0x19322e(0x29b))+_0x19322e(0x83c)+_0x4a7911['id']+_0x19322e(0x381)+_0x4a7911[_0x19322e(0x985)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x1d5a39+_0x19322e(0x1f8)+new Date(_0x4a7911[_0x19322e(0x3dd)])['toLocaleString'](_0x19322e(0x26c))+_0x19322e(0x461)+_0x4a7911['id']+_0x19322e(0x67d)+(_0x1e31f1?'text-indigo-600':'')+_0x19322e(0x941)+_0x4a7911['id']+_0x19322e(0x376)+_0x4a7911[_0x19322e(0x985)]+_0x19322e(0x9b8);});projectList[_0x2b3878(0x373)]=_0x13abde,noProjectsMsg[_0x2b3878(0x8f4)][_0x2b3878(0x474)](_0x2b3878(0x901),_0x13abde[_0x2b3878(0x8cf)]>0x0);}document[_0x346886(0x68b)](_0x346886(0x47f))[_0x346886(0x35b)](_0x346886(0x8d8),async()=>{const _0x650051=_0x346886,_0x425883=document[_0x650051(0x68b)](_0x650051(0x31b)),_0x545c1f=_0x425883['value'][_0x650051(0x905)]();if(!_0x545c1f){showMessage(_0x650051(0x853));return;}try{const _0x2a0c6b=doc(collection(db,_0x650051(0x9d8)+appId+_0x650051(0x24d)));await setDoc(_0x2a0c6b,{'projectName':_0x545c1f,'students':[],'settings':{'resultsDisplay':_0x650051(0x851),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x650051(0x651)]()}),_0x425883[_0x650051(0x967)]='',createProjectModal[_0x650051(0x8f4)][_0x650051(0xa01)](_0x650051(0x901)),showMessage(_0x650051(0x2fe));}catch(_0x35d195){console['error'](_0x650051(0x9b7),_0x35d195),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x346886(0x35b)](_0x346886(0x8d8),async _0x100a1=>{const _0x4e6612=_0x346886,_0x5bc2fa=_0x100a1[_0x4e6612(0x2b1)][_0x4e6612(0x8b2)]('.project-card-content'),_0x1fed94=_0x100a1[_0x4e6612(0x2b1)][_0x4e6612(0x8b2)](_0x4e6612(0x6f9)),_0x3dae1b=_0x100a1[_0x4e6612(0x2b1)]['closest'](_0x4e6612(0x4dc)),_0x538132=_0x100a1[_0x4e6612(0x2b1)]['closest'](_0x4e6612(0x7fd));if(_0x3dae1b){const _0x32951f=_0x3dae1b[_0x4e6612(0x898)]['id'],_0x4747a5=doc(db,'globalSettings',_0x4e6612(0x4d1)),_0x50b772=globalDashboardSettings[_0x4e6612(0x48e)];let _0xd49b8a;_0x50b772[_0x4e6612(0x634)](_0x32951f)?_0xd49b8a=_0x50b772[_0x4e6612(0x7cb)](_0xf36a1e=>_0xf36a1e!==_0x32951f):_0xd49b8a=[..._0x50b772,_0x32951f];try{await setDoc(_0x4747a5,{'pinnedProjects':_0xd49b8a},{'merge':!![]});}catch(_0x154d2b){console[_0x4e6612(0x6f2)](_0x4e6612(0x617),_0x154d2b),showMessage(_0x4e6612(0x718));}}else{if(_0x538132){const _0x27c77b=_0x538132[_0x4e6612(0x898)]['id'];showColorPalette(_0x538132,_0x27c77b);}else{if(_0x5bc2fa){const _0x15b7c1=_0x5bc2fa[_0x4e6612(0x898)]['id'];_0x15b7c1==='starred-project'?showStarredProjectView():(currentProjectId=_0x15b7c1,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x1fed94){const _0x4dfba6=_0x1fed94['dataset']['id'],_0x52c979=_0x1fed94[_0x4e6612(0x898)]['name'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x52c979+_0x4e6612(0x8af),()=>handleDeleteProject(_0x4dfba6));}}}}}),projectList[_0x346886(0x35b)](_0x346886(0x99a),_0x362de3=>{const _0xa5d63e=_0x346886,_0x2c0b5f=_0x362de3['target'][_0xa5d63e(0x8b2)]('.project-card-container');_0x2c0b5f&&_0x2c0b5f['classList'][_0xa5d63e(0xa01)](_0xa5d63e(0x6fc));}),projectList[_0x346886(0x35b)]('dragend',_0xa3f25c=>{const _0x534c45=_0x346886,_0x52df34=_0xa3f25c[_0x534c45(0x2b1)][_0x534c45(0x8b2)]('.project-card-container');_0x52df34&&_0x52df34['classList'][_0x534c45(0x42d)]('opacity-50');}),projectList[_0x346886(0x35b)]('dragover',_0x2f6418=>{const _0x4c426a=_0x346886;_0x2f6418['preventDefault']();const _0x2451d6=document[_0x4c426a(0x293)](_0x4c426a(0x6ea));if(!_0x2451d6)return;const _0x4568f3=getDragAfterElement(projectList,_0x2f6418['clientY']);_0x4568f3==null?projectList['appendChild'](_0x2451d6):projectList[_0x4c426a(0x977)](_0x2451d6,_0x4568f3);}),projectList[_0x346886(0x35b)](_0x346886(0xa47),_0x2eed2d=>{const _0x177866=_0x346886;_0x2eed2d[_0x177866(0x23a)]();const _0x10adf9=[...projectList['querySelectorAll'](_0x177866(0x524))][_0x177866(0x6c4)](_0x279577=>_0x279577[_0x177866(0x898)]['id']);saveProjectOrder(_0x10adf9);});function renderBehaviorLog(_0x558d0f){const _0x2a5d3d=_0x346886,_0x1ac160=document['getElementById'](_0x2a5d3d(0x30e));if(!_0x1ac160)return;const _0x20ef3e=_0x558d0f[_0x2a5d3d(0x7cb)](_0xbaf233=>_0xbaf233[_0x2a5d3d(0x97d)]&&_0xbaf233[_0x2a5d3d(0x97d)][_0x2a5d3d(0x8cf)]>0x0);if(_0x20ef3e['length']===0x0){_0x1ac160[_0x2a5d3d(0x373)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x28d3a4='';_0x20ef3e[_0x2a5d3d(0x305)](_0x388c47=>{const _0x5d05b7=_0x2a5d3d;_0x28d3a4+=_0x5d05b7(0x3e0)+_0x388c47['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x388c47[_0x5d05b7(0x97d)]['sort']((_0x58f6e6,_0x58ff38)=>new Date(_0x58ff38[_0x5d05b7(0x6e1)])-new Date(_0x58f6e6[_0x5d05b7(0x6e1)]))['forEach'](_0x34669f=>{const _0x33ebd5=_0x5d05b7,_0x3915c5=new Date(_0x34669f[_0x33ebd5(0x6e1)])[_0x33ebd5(0x40a)](_0x33ebd5(0x26c),{'dateStyle':_0x33ebd5(0x8c8),'timeStyle':_0x33ebd5(0x4bc)});_0x28d3a4+=_0x33ebd5(0xa08)+_0x34669f['attemptNumber']+_0x33ebd5(0x704)+_0x3915c5+_0x33ebd5(0x21a);}),_0x28d3a4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1ac160[_0x2a5d3d(0x373)]=_0x28d3a4;}function getDragAfterElement(_0x2f6d3e,_0x54b8e1){const _0xd03ca3=_0x346886,_0x51b4ce=[..._0x2f6d3e[_0xd03ca3(0x3df)](_0xd03ca3(0x810))];return _0x51b4ce[_0xd03ca3(0x742)]((_0x83e741,_0xca7182)=>{const _0x31d523=_0xd03ca3,_0x973766=_0xca7182[_0x31d523(0x320)](),_0x5c79f4=_0x54b8e1-_0x973766[_0x31d523(0x722)]-_0x973766[_0x31d523(0x3de)]/0x2;return _0x5c79f4<0x0&&_0x5c79f4>_0x83e741[_0x31d523(0x61b)]?{'offset':_0x5c79f4,'element':_0xca7182}:_0x83e741;},{'offset':Number[_0xd03ca3(0xa3c)]})[_0xd03ca3(0x329)];}async function saveProjectOrder(_0x244467){const _0x407e70=_0x346886,_0x2f03bb=doc(db,'globalSettings',_0x407e70(0x4d1));try{await setDoc(_0x2f03bb,{'projectOrder':_0x244467},{'merge':!![]});}catch(_0x46c625){console['error']('Error\x20saving\x20project\x20order:',_0x46c625),showMessage(_0x407e70(0x2f5));}}async function logBehaviorEvent(_0xc13e89,_0x2f0384={}){const _0x4a9755=_0x346886;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4a9755(0x9af)](_0x4a9755(0x9a5));return;}const _0x2d4368=doc(db,_0x4a9755(0x9d8)+appId+_0x4a9755(0x867)+currentQuizData['id']+_0x4a9755(0x26d),currentStudentName),_0x9f4584={'event':_0xc13e89,'timestamp':new Date()[_0x4a9755(0x651)](),..._0x2f0384};try{await updateDoc(_0x2d4368,{'behaviorLog':arrayUnion(_0x9f4584)}),console[_0x4a9755(0x326)](_0x4a9755(0x845)+currentStudentName+'\x20สำเร็จ');}catch(_0x820229){_0x820229['code']===_0x4a9755(0x244)?console['warn'](_0x4a9755(0x885)+currentStudentName+_0x4a9755(0x5f6)):console['error'](_0x4a9755(0x5df),_0x820229);}}function calculateMeanAndStdDev(_0x32a8bf){const _0x202d62=_0x346886;if(_0x32a8bf[_0x202d62(0x8cf)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x550a5b=_0x32a8bf['reduce']((_0x42e2dc,_0x472c7e)=>_0x42e2dc+_0x472c7e,0x0)/_0x32a8bf[_0x202d62(0x8cf)];if(_0x32a8bf[_0x202d62(0x8cf)]===0x1)return{'mean':_0x550a5b,'stdDev':0x0};const _0x2a65ac=Math[_0x202d62(0x5ed)](_0x32a8bf[_0x202d62(0x6c4)](_0x4c18d2=>Math[_0x202d62(0x8a0)](_0x4c18d2-_0x550a5b,0x2))[_0x202d62(0x742)]((_0x5171a0,_0x487057)=>_0x5171a0+_0x487057,0x0)/(_0x32a8bf[_0x202d62(0x8cf)]-0x1));return{'mean':_0x550a5b,'stdDev':_0x2a65ac};}function calculateZScore(_0x49f018,_0x38ab5b,_0x1a985e){if(_0x1a985e===0x0)return 0x0;return(_0x49f018-_0x38ab5b)/_0x1a985e;}function calculateTScore(_0x3b2c3e){return 0xa*_0x3b2c3e+0x32;}function showStarredProjectView(){const _0x24ee5b=_0x346886;currentProjectId=_0x24ee5b(0x706),currentProjectData=null,projectTitle[_0x24ee5b(0x394)]=_0x24ee5b(0x2f3),projectIdDisplay[_0x24ee5b(0x394)]=_0x24ee5b(0x618),showView(_0x24ee5b(0x46f)),manageTab[_0x24ee5b(0x8f4)][_0x24ee5b(0xa01)]('hidden'),leaderboardTab[_0x24ee5b(0x8f4)][_0x24ee5b(0xa01)]('hidden'),switchProjectTab(_0x24ee5b(0x655)),renderQuizzes();}async function loadProjectDetails(_0x46cb19){const _0x2c7deb=_0x346886,_0xe1acd4=doc(db,'artifacts/'+appId+_0x2c7deb(0x24d),_0x46cb19),_0x25a67e=await getDoc(_0xe1acd4);if(_0x25a67e['exists']()){manageTab[_0x2c7deb(0x8f4)][_0x2c7deb(0x42d)](_0x2c7deb(0x901)),leaderboardTab[_0x2c7deb(0x8f4)][_0x2c7deb(0x42d)](_0x2c7deb(0x901)),currentProjectData=_0x25a67e[_0x2c7deb(0x3c0)](),projectTitle[_0x2c7deb(0x394)]=currentProjectData['projectName'],projectIdDisplay[_0x2c7deb(0x394)]=_0x46cb19;const _0x1f0aae=currentProjectData['settings']||{};document[_0x2c7deb(0x68b)](_0x2c7deb(0x21b))[_0x2c7deb(0x967)]=_0x1f0aae[_0x2c7deb(0x58d)]||_0x2c7deb(0x313);const _0x270493=document[_0x2c7deb(0x68b)]('show-in-student-dashboard-checkbox');_0x270493[_0x2c7deb(0x89c)]=_0x1f0aae['showInStudentDashboard']!==![];const _0xd32cc0=document[_0x2c7deb(0x68b)](_0x2c7deb(0x641)),_0x450d01=document['getElementById'](_0x2c7deb(0x811)),_0x4ce198=document[_0x2c7deb(0x68b)](_0x2c7deb(0x56c)),_0x278ac9=_0x1f0aae[_0x2c7deb(0x7a9)]||![];_0xd32cc0[_0x2c7deb(0x89c)]=_0x278ac9,_0x4ce198[_0x2c7deb(0x967)]=_0x1f0aae[_0x2c7deb(0x238)]||'',_0x450d01['classList']['toggle'](_0x2c7deb(0x901),!_0x278ac9),_0xd32cc0[_0x2c7deb(0x22d)]=()=>{_0x450d01['classList']['toggle']('hidden',!_0xd32cc0['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x46cb19),listenForProjectQuizzes(_0x46cb19),listenForStudentProfiles(_0x46cb19);}else showMessage(_0x2c7deb(0x9ed)),showView(_0x2c7deb(0x5e2));}async function handleResetProjectOrder(){const _0x320ead=_0x346886,_0x15f700=doc(db,_0x320ead(0x5aa),_0x320ead(0x4d1));try{await setDoc(_0x15f700,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x320ead(0x284));}catch(_0x5aabdb){console['error'](_0x320ead(0x72f),_0x5aabdb),showMessage(_0x320ead(0x95d));}}async function handleTogglePinProject(_0x3c27d8){const _0x1c1900=_0x346886;if(!_0x3c27d8)return;const _0x1e9a79=doc(db,'artifacts/'+appId+_0x1c1900(0x24d),_0x3c27d8);try{const _0xb38b4d=await getDoc(_0x1e9a79);if(_0xb38b4d['exists']()){const _0x1f6f5c=_0xb38b4d[_0x1c1900(0x3c0)]()[_0x1c1900(0x355)]||![];await updateDoc(_0x1e9a79,{'isPinned':!_0x1f6f5c});}}catch(_0x34e2e5){console[_0x1c1900(0x6f2)]('Error\x20toggling\x20pin\x20status:',_0x34e2e5),showMessage(_0x1c1900(0x718));}}async function handleDeleteProject(_0x31b536){const _0x38877b=_0x346886;try{const _0x37b59e=writeBatch(db),_0x3736cd=collection(db,_0x38877b(0x9d8)+appId+'/public/data/quizzes'),_0x16f5ef=query(_0x3736cd,where(_0x38877b(0x2c3),'==',_0x31b536)),_0x32e7de=await getDocs(_0x16f5ef);for(const _0x372011 of _0x32e7de[_0x38877b(0xa07)]){const _0x4a1dc4=collection(db,_0x38877b(0x9d8)+appId+_0x38877b(0x867)+_0x372011['id']+_0x38877b(0x26d)),_0x2b3eb4=await getDocs(_0x4a1dc4);_0x2b3eb4[_0x38877b(0x305)](_0x161365=>{const _0x2dc32=_0x38877b;_0x37b59e[_0x2dc32(0x3d8)](_0x161365[_0x2dc32(0x41a)]);}),_0x37b59e[_0x38877b(0x3d8)](_0x372011[_0x38877b(0x41a)]);}const _0x313d0e=collection(db,_0x38877b(0x9d8)+appId+_0x38877b(0x93c)+_0x31b536+_0x38877b(0x965)),_0x186a99=await getDocs(_0x313d0e);_0x186a99[_0x38877b(0x305)](_0x21a758=>{const _0x1d88a0=_0x38877b;_0x37b59e[_0x1d88a0(0x3d8)](_0x21a758[_0x1d88a0(0x41a)]);});const _0x123624=doc(db,'artifacts/'+appId+_0x38877b(0x24d),_0x31b536);_0x37b59e[_0x38877b(0x3d8)](_0x123624),await _0x37b59e[_0x38877b(0x918)](),showMessage(_0x38877b(0x88e)),showView('admin-dashboard');}catch(_0x5f4669){console[_0x38877b(0x6f2)]('Error\x20deleting\x20project:',_0x5f4669),showMessage(_0x38877b(0x492));}}document[_0x346886(0x68b)](_0x346886(0x57c))[_0x346886(0x35b)](_0x346886(0x8d8),async()=>{const _0x198aa6=_0x346886;if(!currentProjectId)return;const _0x1d2bea={'defaultNumQuestions':parseInt(document['getElementById'](_0x198aa6(0x7c2))[_0x198aa6(0x967)]),'defaultNumChoices':parseInt(document[_0x198aa6(0x68b)]('num-choices')[_0x198aa6(0x967)]),'defaultPassingScore':parseInt(document[_0x198aa6(0x68b)](_0x198aa6(0x606))[_0x198aa6(0x967)]),'resultsDisplay':document[_0x198aa6(0x68b)]('results-display-select')[_0x198aa6(0x967)],'shuffleSetting':document['getElementById']('shuffle-setting-select')['value'],'timerMode':document['getElementById']('timer-mode-select')[_0x198aa6(0x967)],'timerDuration':parseInt(document[_0x198aa6(0x68b)](_0x198aa6(0x28b))[_0x198aa6(0x967)])};try{const _0x118b9b=doc(db,_0x198aa6(0x9d8)+appId+_0x198aa6(0x24d),currentProjectId);await updateDoc(_0x118b9b,{'settings':_0x1d2bea}),showMessage(_0x198aa6(0x464));}catch(_0x2cc121){console[_0x198aa6(0x6f2)]('Error\x20saving\x20settings:',_0x2cc121),showMessage(_0x198aa6(0x770));}});function listenForStudents(_0x165a19){const _0x3cde13=_0x346886,_0x1561c7=doc(db,'artifacts/'+appId+_0x3cde13(0x24d),_0x165a19);unsubscribeStudentsListener=onSnapshot(_0x1561c7,_0xc9b885=>{const _0x1538e1=_0x3cde13;if(_0xc9b885[_0x1538e1(0x824)]()){const _0x50def6=_0xc9b885['data']();currentProjectData=_0x50def6,renderStudentList(_0x50def6['students']||[]);}});}function renderStudentList(_0x26ffd2){const _0x161541=_0x346886,_0x23c1a5=document[_0x161541(0x68b)](_0x161541(0x4ea));_0x26ffd2[_0x161541(0x8cf)]===0x0?(studentList['innerHTML']=_0x161541(0x6c3),_0x23c1a5[_0x161541(0x8f4)][_0x161541(0xa01)](_0x161541(0x901))):(studentList[_0x161541(0x373)]=_0x26ffd2[_0x161541(0x6c4)](_0x489726=>_0x161541(0x4a2)+_0x489726+_0x161541(0x23b)+_0x489726+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x161541(0x559)](''),_0x23c1a5[_0x161541(0x8f4)][_0x161541(0x42d)]('hidden'));}document['getElementById'](_0x346886(0x2bf))[_0x346886(0x35b)]('click',async()=>{const _0x2abfaa=_0x346886;if(!currentProjectId)return;const _0x4c0982=document['getElementById']('student-name-input'),_0x299910=_0x4c0982[_0x2abfaa(0x967)][_0x2abfaa(0x905)]();if(!_0x299910){showMessage(_0x2abfaa(0x51f));return;}const _0x33cb2d=_0x299910['split']('\x0a')[_0x2abfaa(0x6c4)](_0x42f047=>_0x42f047['trim']())[_0x2abfaa(0x7cb)](_0x56233a=>_0x56233a);if(_0x33cb2d[_0x2abfaa(0x8cf)]===0x0)return;try{const _0x44e645=doc(db,_0x2abfaa(0x9d8)+appId+_0x2abfaa(0x24d),currentProjectId),_0x37f9c8=await getDoc(_0x44e645);if(_0x37f9c8['exists']()){const _0x2612d1=_0x37f9c8[_0x2abfaa(0x3c0)]()['students']||[],_0x24e7e8=[...new Set([..._0x2612d1,..._0x33cb2d])];await updateDoc(_0x44e645,{'students':_0x24e7e8}),_0x4c0982[_0x2abfaa(0x967)]='';}}catch(_0x323f93){console[_0x2abfaa(0x6f2)]('Error\x20adding\x20students:',_0x323f93),showMessage(_0x2abfaa(0x82a));}});async function handleManualQuizPairing(_0x1e5a9f){const _0x1e3b5e=_0x346886,_0x2ee2cb=document[_0x1e3b5e(0x68b)](_0x1e3b5e(0x479)),_0x519a46=document['getElementById'](_0x1e3b5e(0x503)),_0x1c42a2=_0x2ee2cb[_0x1e3b5e(0x293)]('h3'),_0x1c5cc4=document[_0x1e3b5e(0x68b)](_0x1e3b5e(0x670)),_0x555749=document[_0x1e3b5e(0x68b)](_0x1e3b5e(0x478));_0x1c42a2[_0x1e3b5e(0x394)]=_0x1e3b5e(0x4ba),_0x519a46[_0x1e3b5e(0x373)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x1c5cc4['textContent']=_0x1e3b5e(0x271),_0x2ee2cb[_0x1e3b5e(0x8f4)][_0x1e3b5e(0x42d)](_0x1e3b5e(0x901));const _0x1c782b=allQuizzes['filter'](_0x3bdf71=>_0x3bdf71['id']!==_0x1e5a9f);_0x1c782b[_0x1e3b5e(0x8cf)]===0x0?(_0x519a46['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1c5cc4[_0x1e3b5e(0x438)]=!![]):(_0x519a46['innerHTML']=_0x1e3b5e(0x83a)+_0x1c782b['map'](_0x50981c=>_0x1e3b5e(0x957)+_0x50981c['id']+'\x22>'+_0x50981c[_0x1e3b5e(0x9e3)]+_0x1e3b5e(0x225))['join'](''),_0x1c5cc4[_0x1e3b5e(0x438)]=![]);const _0xe9fe42=async()=>{const _0x329df3=_0x1e3b5e,_0x136155=_0x519a46[_0x329df3(0x967)];if(!_0x136155){showMessage(_0x329df3(0x2ad));return;}_0x1c5cc4[_0x329df3(0x438)]=!![],_0x1c5cc4[_0x329df3(0x394)]=_0x329df3(0x56f);try{const _0x1246f5=doc(db,_0x329df3(0x9d8)+appId+_0x329df3(0x3a7),_0x1e5a9f),_0x3f2b82=doc(db,_0x329df3(0x9d8)+appId+_0x329df3(0x3a7),_0x136155),_0x4d7179=writeBatch(db);_0x4d7179[_0x329df3(0x402)](_0x1246f5,{'pairedQuizId':_0x136155}),_0x4d7179['update'](_0x3f2b82,{'pairedQuizId':_0x1e5a9f}),await _0x4d7179['commit'](),showMessage(_0x329df3(0x820)),_0x2ee2cb[_0x329df3(0x8f4)]['add'](_0x329df3(0x901));}catch(_0x41edd5){console[_0x329df3(0x6f2)](_0x329df3(0x973),_0x41edd5),showMessage(_0x329df3(0x8ca));}finally{_0x1c42a2['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1c5cc4[_0x329df3(0x394)]=_0x329df3(0x49f),_0x1c5cc4[_0x329df3(0x438)]=![],_0x1c5cc4['removeEventListener']('click',_0xe9fe42),_0x555749[_0x329df3(0x6e9)](_0x329df3(0x8d8),_0x294524);}},_0x294524=()=>{const _0x29b402=_0x1e3b5e;_0x2ee2cb[_0x29b402(0x8f4)][_0x29b402(0xa01)](_0x29b402(0x901)),_0x1c42a2['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1c5cc4[_0x29b402(0x394)]=_0x29b402(0x49f),_0x1c5cc4[_0x29b402(0x6e9)](_0x29b402(0x8d8),_0xe9fe42),_0x555749[_0x29b402(0x6e9)](_0x29b402(0x8d8),_0x294524);};_0x1c5cc4[_0x1e3b5e(0x35b)](_0x1e3b5e(0x8d8),_0xe9fe42),_0x555749['addEventListener'](_0x1e3b5e(0x8d8),_0x294524);}function handleDeleteStudent(_0x2b116d){const _0x5cf8ba=_0x346886;showConfirmation(_0x5cf8ba(0x9b5)+_0x2b116d+_0x5cf8ba(0x626),async()=>{const _0x4352ce=_0x5cf8ba;if(!currentProjectId||!currentProjectData)return;const _0x3e0d99=currentProjectData[_0x4352ce(0x408)][_0x4352ce(0x7cb)](_0x1efbb3=>_0x1efbb3!==_0x2b116d);try{const _0x2073f1=doc(db,_0x4352ce(0x9d8)+appId+_0x4352ce(0x24d),currentProjectId),_0x4dcb6f=doc(db,_0x4352ce(0x9d8)+appId+_0x4352ce(0x93c)+currentProjectId+_0x4352ce(0x965),_0x2b116d),_0x5e3de9=writeBatch(db);_0x5e3de9[_0x4352ce(0x402)](_0x2073f1,{'students':_0x3e0d99}),_0x5e3de9[_0x4352ce(0x3d8)](_0x4dcb6f),await _0x5e3de9[_0x4352ce(0x918)]();}catch(_0x47bfdd){console[_0x4352ce(0x6f2)](_0x4352ce(0x663),_0x47bfdd),showMessage(_0x4352ce(0x7af));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x175fe3=_0x2b13;if(!currentProjectId)return;try{const _0xc1d518=doc(db,_0x175fe3(0x9d8)+appId+_0x175fe3(0x24d),currentProjectId),_0x8baf4c=collection(db,_0x175fe3(0x9d8)+appId+'/public/data/projects/'+currentProjectId+_0x175fe3(0x965)),_0x3b4579=await getDocs(_0x8baf4c),_0x4abddf=writeBatch(db);_0x4abddf[_0x175fe3(0x402)](_0xc1d518,{'students':[]}),_0x3b4579[_0x175fe3(0x305)](_0x58a706=>_0x4abddf[_0x175fe3(0x3d8)](_0x58a706[_0x175fe3(0x41a)])),await _0x4abddf[_0x175fe3(0x918)]();}catch(_0x85881a){console[_0x175fe3(0x6f2)]('Error\x20deleting\x20all\x20students:',_0x85881a),showMessage(_0x175fe3(0x9bb));}});}async function handleGenerateFromFileClick(){const _0x310d74=_0x346886;if(!selectedFile){showMessage(_0x310d74(0x866));return;}const _0x1d9508=document[_0x310d74(0x68b)](_0x310d74(0x72e)),_0x525a2b=document['getElementById'](_0x310d74(0x2e9)),_0x1c1978=document[_0x310d74(0x68b)](_0x310d74(0x28e)),_0x4b2525=document[_0x310d74(0x68b)](_0x310d74(0x330));_0x4b2525[_0x310d74(0x438)]=!![],document[_0x310d74(0x68b)](_0x310d74(0x3a4))[_0x310d74(0x8f4)][_0x310d74(0x42d)](_0x310d74(0x901)),_0x1c1978[_0x310d74(0x373)]='',_0x1d9508[_0x310d74(0x8f4)][_0x310d74(0x42d)]('hidden'),_0x525a2b['textContent']=_0x310d74(0x2a8);const _0x4f6037=new FileReader();_0x4f6037[_0x310d74(0x9f7)](selectedFile),_0x4f6037[_0x310d74(0xa0a)]=async()=>{const _0x50ab2a=_0x310d74;try{const _0x20a288=_0x4f6037[_0x50ab2a(0x65f)]['split'](',')[0x1],_0x57ba4a=selectedFile[_0x50ab2a(0x678)];await generateQuizFromFile(_0x57ba4a,_0x20a288);}catch(_0xf1f534){console[_0x50ab2a(0x6f2)](_0x50ab2a(0x20c),_0xf1f534),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0xf1f534[_0x50ab2a(0x6ff)]),_0x1d9508[_0x50ab2a(0x8f4)][_0x50ab2a(0xa01)]('hidden');}finally{}},_0x4f6037['onerror']=_0x35dae2=>{const _0x1139a5=_0x310d74;console[_0x1139a5(0x6f2)](_0x1139a5(0x67f),_0x35dae2),showMessage(_0x1139a5(0x501)),_0x1d9508[_0x1139a5(0x8f4)]['add']('hidden'),_0x4b2525[_0x1139a5(0x438)]=![];};}function autoFormatMath(_0xbcc39){const _0x93e648=_0x346886;if(typeof _0xbcc39!==_0x93e648(0x467)||!_0xbcc39)return _0xbcc39;const _0x1e9bd8=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x249550=_0xbcc39['replace'](_0x1e9bd8,_0x4cef82=>{const _0x3b80fb=_0x93e648;return'$'+_0x4cef82[_0x3b80fb(0x905)]()+'$';});return _0x249550;}function sanitizeQuizData(_0x5d0cb7){const _0x5ab4c7=_0x346886;if(!_0x5d0cb7||!_0x5d0cb7[_0x5ab4c7(0xa18)])return _0x5d0cb7;const _0x1420b0={'imes':_0x5ab4c7(0x917),'div':_0x5ab4c7(0x1fc)},_0x155b94=_0x370b89=>{const _0x246470=_0x5ab4c7;if(typeof _0x370b89!==_0x246470(0x467))return _0x370b89;let _0x3047bb=_0x370b89;for(const [_0x5369d3,_0x1de86e]of Object[_0x246470(0x3c4)](_0x1420b0)){const _0x2a0673=new RegExp('\x5cb'+_0x5369d3+'\x5cb','g');_0x3047bb=_0x3047bb[_0x246470(0x2e5)](_0x2a0673,_0x1de86e);}return _0x3047bb=_0x3047bb[_0x246470(0x2e5)](/\\\//g,_0x246470(0x1fc)),_0x3047bb=_0x3047bb[_0x246470(0x2e5)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x246470(0x1fc))[_0x246470(0x2e5)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x246470(0x917))[_0x246470(0x2e5)](/÷/g,_0x246470(0x1fc))[_0x246470(0x2e5)](/×/g,_0x246470(0x917)),_0x3047bb=_0x3047bb[_0x246470(0x2e5)](/(\d)(\\frac)/g,_0x246470(0x7bf)),_0x3047bb=autoFormatMath(_0x3047bb),_0x3047bb;};return _0x5d0cb7[_0x5ab4c7(0x9e3)]&&(_0x5d0cb7['topic']=_0x155b94(_0x5d0cb7[_0x5ab4c7(0x9e3)])),_0x5d0cb7[_0x5ab4c7(0xa18)][_0x5ab4c7(0x305)](_0x289f3c=>{const _0xd7874=_0x5ab4c7;_0x289f3c[_0xd7874(0x85d)]=_0x155b94(_0x289f3c['questionText']),_0x289f3c[_0xd7874(0x77f)]&&(_0x289f3c['options']=_0x289f3c['options'][_0xd7874(0x6c4)](_0x155b94)),_0x289f3c[_0xd7874(0x2f2)]&&(_0x289f3c[_0xd7874(0x2f2)]=_0x155b94(_0x289f3c[_0xd7874(0x2f2)])),_0x289f3c[_0xd7874(0x3db)]&&(_0x289f3c[_0xd7874(0x3db)]=_0x155b94(_0x289f3c['stem'])),_0x289f3c[_0xd7874(0x463)]&&(_0x289f3c[_0xd7874(0x463)]=_0x155b94(_0x289f3c[_0xd7874(0x463)])),_0x289f3c[_0xd7874(0x798)]&&(_0x289f3c['allResponses']=_0x289f3c[_0xd7874(0x798)][_0xd7874(0x6c4)](_0x155b94));}),_0x5d0cb7;}const simpleMathPrompt=_0x346886(0x4ca);async function handleGenerateFromLink(){const _0x205243=_0x346886,_0x46a4c5=document[_0x205243(0x68b)](_0x205243(0x555)),_0xa80bb3=document[_0x205243(0x68b)](_0x205243(0x970)),_0x153e08=_0x46a4c5['value'][_0x205243(0x905)](),_0x5788dd=_0xa80bb3['value']['trim']();if(!_0x153e08){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0xcf588e=document[_0x205243(0x68b)](_0x205243(0x72e)),_0x5d6480=document[_0x205243(0x68b)]('loader-text'),_0x310fdd=document['getElementById']('generated-quiz-container'),_0x23ea38=document[_0x205243(0x68b)](_0x205243(0x4ed));document[_0x205243(0x68b)]('quiz-generation-area')[_0x205243(0x8f4)][_0x205243(0x42d)]('hidden'),_0x310fdd['innerHTML']='',_0xcf588e['classList']['remove'](_0x205243(0x901)),_0x5d6480[_0x205243(0x394)]=_0x205243(0x63d),_0x23ea38[_0x205243(0x438)]=!![];try{const _0x556131=_0x205243(0x22a)+encodeURIComponent(_0x153e08),_0x1d00b7=await fetch(_0x556131);if(!_0x1d00b7['ok'])throw new Error(_0x205243(0x290)+_0x1d00b7['status']+')');const _0x272d66=await _0x1d00b7[_0x205243(0x581)](),_0x583c81=extractTextFromHtml(_0x272d66);if(!_0x583c81||_0x583c81[_0x205243(0x8cf)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x5788dd,_0x583c81);}catch(_0x15fe35){console[_0x205243(0x6f2)](_0x205243(0x2a9),_0x15fe35),showMessage('เกิดข้อผิดพลาด:\x20'+_0x15fe35[_0x205243(0x6ff)]),_0x310fdd[_0x205243(0x373)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0xcf588e[_0x205243(0x8f4)][_0x205243(0xa01)](_0x205243(0x901)),_0x23ea38[_0x205243(0x438)]=![];}}function extractTextFromHtml(_0x23ceac){const _0x1ae6b8=_0x346886,_0x3ec53e=new DOMParser()['parseFromString'](_0x23ceac,_0x1ae6b8(0x448));return _0x3ec53e[_0x1ae6b8(0x3df)](_0x1ae6b8(0x31f))[_0x1ae6b8(0x305)](_0x59fb19=>_0x59fb19[_0x1ae6b8(0x42d)]()),_0x3ec53e['body']['textContent']||'';}document[_0x346886(0x68b)]('generate-from-topic-btn')[_0x346886(0x35b)](_0x346886(0x8d8),()=>{const _0x344f4e=_0x346886,_0x3496a0=document[_0x344f4e(0x68b)](_0x344f4e(0x472))[_0x344f4e(0x967)]['trim']();generateQuiz(_0x3496a0,null);}),document['getElementById'](_0x346886(0x6de))[_0x346886(0x35b)]('click',()=>{const _0x786573=_0x346886,_0x543419=document[_0x786573(0x68b)](_0x786573(0x879))['value'][_0x786573(0x905)]();if(!_0x543419){showMessage(_0x786573(0x4c7));return;}const _0x3670bf=document[_0x786573(0x68b)]('topic-input')['value'][_0x786573(0x905)]();generateQuiz(_0x3670bf,_0x543419);});async function generateQuiz(_0x40884f,_0xd30634,_0x16bc93=null){const _0x408633=_0x346886,_0x5db2e6=document[_0x408633(0x68b)]('include-images-checkbox')[_0x408633(0x89c)],_0x422f48=document[_0x408633(0x68b)](_0x408633(0x650))[_0x408633(0x967)],_0x27c43d=document[_0x408633(0x68b)](_0x408633(0x7c2))['value'],_0x80ad4d=document['getElementById']('num-choices')[_0x408633(0x967)],_0x2ee1af=document['getElementById'](_0x408633(0x23c))[_0x408633(0x89c)],_0x9b8ce0=_0x2ee1af?'':'คณิตศาสตร์',_0x1ad746=document['getElementById'](_0x408633(0x7a4)),_0x320531=_0x1ad746[_0x408633(0x967)];let _0x257679='';_0x320531!=='auto'&&(_0x257679=_0x408633(0x4ce)+_0x320531+'\x22');const _0x47b816=document[_0x408633(0x68b)](_0x408633(0x273)),_0x3bf0df=_0x47b816[_0x408633(0x967)];let _0x24d339='';_0x3bf0df!==_0x408633(0x57b)&&(_0x24d339=_0x408633(0x3dc)+_0x3bf0df+_0x408633(0x2c8));const _0x37e6a5=document[_0x408633(0x3df)](_0x408633(0xa43)),_0x5bf565=Array[_0x408633(0x48c)](_0x37e6a5)[_0x408633(0x6c4)](_0xf2074f=>_0xf2074f[_0x408633(0x967)]);let _0x2528a8='';_0x5bf565[_0x408633(0x8cf)]>0x0&&(_0x2528a8='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x5bf565['join'](',\x20')+_0x408633(0x701));let _0x13ab2e='',_0x53bf5b='',_0x5c0069,_0x45aed6=_0x408633(0x55d)+_0x40884f+'\x22';if(!_0x40884f&&_0xd30634)_0x45aed6=_0x408633(0x5d7);else!_0x40884f&&!_0xd30634&&(_0x45aed6=_0x408633(0x71f));const _0x54e236={'type':'OBJECT','properties':{'questionText':{'type':_0x408633(0x9d7)},'options':{'type':_0x408633(0x813),'items':{'type':_0x408633(0x9d7)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x408633(0x9d7)}},'required':[_0x408633(0x85d),_0x408633(0x77f),_0x408633(0x60a),_0x408633(0x2f2)]},_0x1eb502={'type':_0x408633(0x206),'properties':{'questionText':{'type':_0x408633(0x9d7)},'idealAnswer':{'type':_0x408633(0x9d7)},'explanation':{'type':_0x408633(0x9d7)},'imageCode':{'type':_0x408633(0x9d7)}},'required':[_0x408633(0x85d),_0x408633(0x2a2),_0x408633(0x2f2)]},_0x2c70c0={'type':_0x408633(0x206),'properties':{'questionText':{'type':_0x408633(0x9d7)},'questionType':{'type':'STRING','enum':[_0x408633(0x586),_0x408633(0x38f)]},'options':{'type':_0x408633(0x813),'items':{'type':_0x408633(0x9d7)}},'correctAnswerIndex':{'type':_0x408633(0x466)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x408633(0x9d7)},'imageCode':{'type':_0x408633(0x9d7)}},'required':[_0x408633(0x85d),_0x408633(0x296),_0x408633(0x2f2)]},_0x65d604={'type':_0x408633(0x206),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x408633(0x9d7)},'imageCode':{'type':_0x408633(0x9d7)}},'required':[_0x408633(0x85d),_0x408633(0x8a4),_0x408633(0x2f2)]},_0x245903={'type':_0x408633(0x206),'properties':{'questionType':{'type':_0x408633(0x9d7),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x408633(0x9d7)},'allResponses':{'type':_0x408633(0x813),'items':{'type':_0x408633(0x9d7)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionType','stem',_0x408633(0x463),_0x408633(0x798),_0x408633(0x2f2)]};let _0x229a5c;if(_0x16bc93!==null){const _0x521dde=currentQuizData[_0x408633(0xa18)][_0x16bc93][_0x408633(0x296)],_0x598397=_0x5db2e6?_0x408633(0x51a):'';_0x13ab2e=_0x408633(0x9e7)+_0x45aed6+'\x20'+_0x2528a8+'\x20'+_0x257679+_0x408633(0x20d)+_0x598397+'\x20'+simpleMathPrompt;if(_0x521dde==='multiple_choice')_0x5c0069=_0x54e236;else{if(_0x521dde===_0x408633(0x5a4))_0x5c0069={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x408633(0x5a4)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x408633(0x9d7)},'imageCode':{'type':_0x408633(0x9d7)}},'required':[_0x408633(0x296),_0x408633(0x3db),_0x408633(0x463),'explanation']};else _0x5c0069=_0x1eb502;}_0x229a5c=_0x5c0069;}else{const _0x3e4118=_0x5db2e6?_0x408633(0x8b6):'',_0xc2986b=_0x408633(0x79b);switch(_0x422f48){case _0x408633(0x586):_0x13ab2e=_0x408633(0x624)+_0x9b8ce0+'\x20'+_0x27c43d+_0x408633(0x7e8)+_0x45aed6+'\x20'+_0x2528a8+'\x20'+_0x257679+'\x20'+_0x24d339+_0x408633(0x5a3)+_0x80ad4d+_0x408633(0x46e)+_0x3e4118+'\x20'+simpleMathPrompt,_0x5c0069=_0x54e236;break;case _0x408633(0x7f7):_0x13ab2e=_0x408633(0x3fc)+_0x9b8ce0+'\x20'+_0x27c43d+_0x408633(0x7e8)+_0x45aed6+'\x20'+_0x2528a8+'\x20'+_0x257679+'\x20'+_0x24d339+_0x408633(0x6f3)+_0x80ad4d+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x3e4118+'\x20'+simpleMathPrompt,_0x5c0069=_0x54e236;break;case _0x408633(0x3bf):_0x13ab2e=_0x408633(0x3fc)+_0x9b8ce0+'\x20'+_0x27c43d+_0x408633(0x7e8)+_0x45aed6+'\x20'+_0x2528a8+'\x20'+_0x257679+'\x20'+_0x24d339+_0x408633(0x41d)+_0x3e4118+'\x20'+simpleMathPrompt,_0x5c0069=_0x1eb502;break;case'mixed':_0x13ab2e=_0x408633(0x50b)+_0x9b8ce0+'\x20'+_0x27c43d+_0x408633(0x7e8)+_0x45aed6+'\x20'+_0x2528a8+'\x20'+_0x257679+'\x20'+_0x24d339+_0x408633(0x2be)+_0x80ad4d+_0x408633(0xa16)+_0x3e4118+'\x20'+simpleMathPrompt+'.',_0x5c0069=_0x2c70c0;break;case _0x408633(0x74e):_0x13ab2e='สร้างคำถามแบบใช่/ไม่ใช่'+_0x9b8ce0+'\x20'+_0x27c43d+_0x408633(0x7e8)+_0x45aed6+'\x20'+_0x2528a8+'\x20'+_0x257679+'\x20'+_0x24d339+_0x408633(0x91b)+_0x3e4118+'\x20'+simpleMathPrompt,_0x5c0069=_0x65d604;break;case _0x408633(0x29d):_0x13ab2e=_0x408633(0x57f)+_0x9b8ce0+'\x20'+_0x27c43d+'\x20คู่\x20'+_0x45aed6+'\x20'+_0x2528a8+'\x20'+_0x257679+'\x20'+_0x24d339+_0x408633(0x385)+_0x3e4118+'\x20'+simpleMathPrompt,_0x5c0069=_0x245903;break;}_0x229a5c={'type':_0x408633(0x206),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x408633(0x813),'items':_0x5c0069}},'required':[_0x408633(0x9e3),'questions']};}return _0xd30634?(_0x13ab2e='จากเนื้อหาต่อไปนี้:\x20\x22'+_0xd30634+_0x408633(0x9f5)+_0x13ab2e,_0x53bf5b=_0x408633(0x411)):_0x53bf5b=_0x408633(0x625),handleApiCall(_0x13ab2e,_0x53bf5b,_0x229a5c,_0x16bc93);}async function generateQuizFromFile(_0x142385,_0x246838){const _0x1da511=_0x346886,_0x15dd3e=document[_0x1da511(0x68b)](_0x1da511(0x3d5))[_0x1da511(0x967)][_0x1da511(0x905)](),_0x193d54=document[_0x1da511(0x68b)](_0x1da511(0x650))[_0x1da511(0x967)],_0x57ad36=document[_0x1da511(0x68b)](_0x1da511(0x7c2))[_0x1da511(0x967)],_0xe3338c=document[_0x1da511(0x68b)](_0x1da511(0xa4a))[_0x1da511(0x967)],_0x5c086d=document['getElementById'](_0x1da511(0x274))[_0x1da511(0x89c)],_0x4e1e4d=document[_0x1da511(0x68b)]('force-math-checkbox')[_0x1da511(0x89c)],_0x980af=_0x4e1e4d?'':_0x1da511(0x94a);let _0x35aebc='',_0x7957eb,_0x3b98e2='เกี่ยวกับหัวข้อ\x20\x22'+_0x15dd3e+'\x22';!_0x15dd3e&&(_0x3b98e2=_0x1da511(0x947));const _0x44bff3=_0x5c086d?_0x1da511(0x8b6):'';switch(_0x193d54){case _0x1da511(0x586):_0x35aebc=_0x1da511(0x624)+_0x980af+'\x20'+_0x57ad36+_0x1da511(0x7e8)+_0x3b98e2+_0x1da511(0x5a3)+_0xe3338c+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x44bff3+'\x20'+simpleMathPrompt,_0x7957eb={'type':_0x1da511(0x206),'properties':{'questionText':{'type':_0x1da511(0x9d7)},'options':{'type':_0x1da511(0x813),'items':{'type':_0x1da511(0x9d7)}},'correctAnswerIndex':{'type':_0x1da511(0x466)},'explanation':{'type':_0x1da511(0x9d7)},'imageCode':{'type':_0x1da511(0x9d7)}},'required':[_0x1da511(0x85d),_0x1da511(0x77f),'correctAnswerIndex',_0x1da511(0x2f2)]};break;case'fill_in_with_choices':_0x35aebc=_0x1da511(0x3fc)+_0x980af+'\x20'+_0x57ad36+_0x1da511(0x7e8)+_0x3b98e2+_0x1da511(0x6f3)+_0xe3338c+_0x1da511(0x774)+_0x44bff3+'\x20'+simpleMathPrompt,_0x7957eb={'type':_0x1da511(0x206),'properties':{'questionText':{'type':_0x1da511(0x9d7)},'options':{'type':'ARRAY','items':{'type':_0x1da511(0x9d7)}},'correctAnswerIndex':{'type':_0x1da511(0x466)},'explanation':{'type':_0x1da511(0x9d7)},'imageCode':{'type':_0x1da511(0x9d7)}},'required':[_0x1da511(0x85d),_0x1da511(0x77f),_0x1da511(0x60a),_0x1da511(0x2f2)]};break;case _0x1da511(0x3bf):_0x35aebc='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x980af+'\x20'+_0x57ad36+'\x20ข้อ\x20'+_0x3b98e2+_0x1da511(0x41d)+_0x44bff3+'\x20'+simpleMathPrompt,_0x7957eb={'type':_0x1da511(0x206),'properties':{'questionText':{'type':_0x1da511(0x9d7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1da511(0x9d7)},'imageCode':{'type':_0x1da511(0x9d7)}},'required':[_0x1da511(0x85d),_0x1da511(0x2a2),'explanation']};break;case _0x1da511(0x57b):_0x35aebc=_0x1da511(0x50b)+_0x980af+'\x20'+_0x57ad36+_0x1da511(0x7e8)+_0x3b98e2+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0xe3338c+'\x20ตัวเลือก.\x20'+_0x44bff3+'\x20'+simpleMathPrompt+_0x1da511(0x2cd),_0x7957eb={'type':_0x1da511(0x206),'properties':{'questionText':{'type':_0x1da511(0x9d7)},'questionType':{'type':_0x1da511(0x9d7),'enum':[_0x1da511(0x586),_0x1da511(0x38f)]},'options':{'type':_0x1da511(0x813),'items':{'type':_0x1da511(0x9d7)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1da511(0x9d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1da511(0x9d7)}},'required':['questionText',_0x1da511(0x296),_0x1da511(0x2f2)]};break;case _0x1da511(0x74e):_0x35aebc=_0x1da511(0x69c)+_0x980af+'\x20'+_0x57ad36+_0x1da511(0x7e8)+_0x3b98e2+_0x1da511(0x212)+_0x44bff3+'\x20'+simpleMathPrompt,_0x7957eb={'type':_0x1da511(0x206),'properties':{'questionText':{'type':_0x1da511(0x9d7)},'correctAnswer':{'type':_0x1da511(0x7dd)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1da511(0x9d7)}},'required':[_0x1da511(0x85d),_0x1da511(0x8a4),'explanation']};break;case _0x1da511(0x29d):_0x35aebc=_0x1da511(0x57f)+_0x980af+'\x20'+_0x57ad36+_0x1da511(0x778)+_0x3b98e2+_0x1da511(0x3e9)+_0x57ad36+_0x1da511(0x9a6)+_0x44bff3+'\x20'+simpleMathPrompt,_0x7957eb={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x1da511(0x5a4)]},'stem':{'type':_0x1da511(0x9d7)},'correctResponse':{'type':_0x1da511(0x9d7)},'allResponses':{'type':_0x1da511(0x813),'items':{'type':_0x1da511(0x9d7)}},'explanation':{'type':_0x1da511(0x9d7)},'imageCode':{'type':'STRING'}},'required':[_0x1da511(0x296),_0x1da511(0x3db),_0x1da511(0x463),_0x1da511(0x798),_0x1da511(0x2f2)]};break;}const _0x3c8c26={'type':_0x1da511(0x206),'properties':{'topic':{'type':_0x1da511(0x9d7)},'questions':{'type':'ARRAY','items':_0x7957eb}},'required':[_0x1da511(0x9e3),_0x1da511(0xa18)]},_0x121253='จากไฟล์ที่แนบมานี้,\x20'+_0x35aebc,_0x5940b3={'contents':[{'parts':[{'text':_0x121253},{'inlineData':{'mimeType':_0x142385,'data':_0x246838}}]}],'generationConfig':{'responseMimeType':_0x1da511(0x1f9),'responseSchema':_0x3c8c26}};return handleApiCall(_0x5940b3['contents'][0x0][_0x1da511(0x289)],_0x1da511(0x817),_0x3c8c26);}async function handleApiCall(_0x5867a1,_0x630c35,_0x3af565,_0x498ef5=null){const _0x3fa621=_0x346886,_0x1ba165=document[_0x3fa621(0x68b)](_0x3fa621(0x3a4)),_0x6138bc=document[_0x3fa621(0x68b)](_0x3fa621(0x72e)),_0x1757c1=document[_0x3fa621(0x68b)](_0x3fa621(0x2e9)),_0x29609c=document[_0x3fa621(0x68b)](_0x3fa621(0x28e));_0x1ba165[_0x3fa621(0x8f4)][_0x3fa621(0x42d)]('hidden');_0x498ef5===null&&(_0x29609c[_0x3fa621(0x373)]='');_0x6138bc['classList'][_0x3fa621(0x42d)](_0x3fa621(0x901)),_0x1757c1['textContent']=_0x630c35,document['getElementById'](_0x3fa621(0x9f2))[_0x3fa621(0x438)]=!![],document[_0x3fa621(0x68b)](_0x3fa621(0x6de))['disabled']=!![],document[_0x3fa621(0x68b)](_0x3fa621(0x4ed))[_0x3fa621(0x438)]=!![];try{const _0x428fc0={'responseMimeType':_0x3fa621(0x1f9),'responseSchema':_0x3af565},_0x487b61=Array[_0x3fa621(0xa40)](_0x5867a1)?_0x5867a1:[{'text':_0x5867a1}],_0x5a5367={'contents':[{'role':'user','parts':_0x487b61}],'generationConfig':_0x428fc0},_0x11c6da=_0x3fa621(0x2d6),_0x51993d=_0x3fa621(0x984)+_0x11c6da,_0x452eaa=await fetch(_0x51993d,{'method':_0x3fa621(0x658),'headers':{'Content-Type':_0x3fa621(0x1f9)},'body':JSON[_0x3fa621(0x2cf)](_0x5a5367)});if(!_0x452eaa['ok'])throw new Error(_0x3fa621(0x623)+_0x452eaa[_0x3fa621(0x719)]);const _0x358a29=await _0x452eaa[_0x3fa621(0x333)]();if(_0x358a29[_0x3fa621(0x213)]?.[0x0]?.[_0x3fa621(0x40c)]?.[_0x3fa621(0x289)]?.[0x0]){let _0x523473=_0x358a29['candidates'][0x0][_0x3fa621(0x40c)][_0x3fa621(0x289)][0x0][_0x3fa621(0x581)],_0x15c8aa;try{if(_0x523473[_0x3fa621(0x3e5)]('```json'))_0x523473=_0x523473[_0x3fa621(0x880)](0x7,_0x523473[_0x3fa621(0x8cf)]-0x3)[_0x3fa621(0x905)]();else _0x523473[_0x3fa621(0x3e5)](_0x3fa621(0x9aa))&&(_0x523473=_0x523473[_0x3fa621(0x880)](0x3,_0x523473[_0x3fa621(0x8cf)]-0x3)['trim']());_0x15c8aa=JSON['parse'](_0x523473);}catch(_0x12fdfd){console[_0x3fa621(0x6f2)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x12fdfd,_0x523473);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x498ef5!==null){if(_0x15c8aa['questionType']===_0x3fa621(0x5a4)){const _0x58b5fd=currentQuizData[_0x3fa621(0xa18)][_0x3fa621(0x6c4)](_0x1e47db=>_0x1e47db[_0x3fa621(0x463)]);_0x15c8aa[_0x3fa621(0x798)]=_0x58b5fd;const _0x181c09=currentQuizData[_0x3fa621(0xa18)][_0x498ef5][_0x3fa621(0x463)],_0xb323a6=_0x58b5fd[_0x3fa621(0x39a)](_0x181c09);_0xb323a6>-0x1&&(_0x58b5fd[_0xb323a6]=_0x15c8aa['correctResponse']),currentQuizData[_0x3fa621(0xa18)]['forEach'](_0x289f54=>{const _0x1594e5=_0x3fa621;if(_0x289f54[_0x1594e5(0x296)]===_0x1594e5(0x5a4))_0x289f54[_0x1594e5(0x798)]=_0x58b5fd;});}currentQuizData[_0x3fa621(0xa18)][_0x498ef5]=_0x15c8aa,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x15c8aa;const _0x3595ba=document[_0x3fa621(0x68b)]('quiz-type-select')[_0x3fa621(0x967)];currentQuizData[_0x3fa621(0x3fa)]=_0x3595ba,currentQuizData[_0x3fa621(0xa18)]&&currentQuizData[_0x3fa621(0xa18)]['forEach'](_0x3abaf8=>{const _0x2e50b7=_0x3fa621;if(!_0x3abaf8[_0x2e50b7(0x296)]){if(_0x3595ba===_0x2e50b7(0x7f7))_0x3abaf8[_0x2e50b7(0x296)]=_0x2e50b7(0x586);else _0x3595ba===_0x2e50b7(0x3bf)?_0x3abaf8['questionType']='short_answer':_0x3abaf8['questionType']=_0x3595ba;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x3fa621(0x6f2)](_0x3fa621(0x584),JSON[_0x3fa621(0x2cf)](_0x358a29));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x332925){console[_0x3fa621(0x6f2)](_0x3fa621(0x76b),_0x332925),showMessage(_0x3fa621(0x689)),_0x498ef5===null&&(_0x29609c[_0x3fa621(0x373)]=_0x3fa621(0x6ef));}finally{_0x6138bc[_0x3fa621(0x8f4)][_0x3fa621(0xa01)]('hidden'),document[_0x3fa621(0x68b)](_0x3fa621(0x9f2))[_0x3fa621(0x438)]=![],document['getElementById'](_0x3fa621(0x6de))[_0x3fa621(0x438)]=![],document['getElementById'](_0x3fa621(0x4ed))[_0x3fa621(0x438)]=![];const _0x295f98=document[_0x3fa621(0x68b)]('generate-from-file-btn');_0x295f98&&(_0x295f98[_0x3fa621(0x438)]=![]);}}function exitFullscreen(){const _0x56c5ac=_0x346886;if(document[_0x56c5ac(0x553)])document['exitFullscreen']()[_0x56c5ac(0x80b)](_0x224d2f=>console[_0x56c5ac(0x6f2)](_0x224d2f));else{if(document[_0x56c5ac(0x4f7)])document[_0x56c5ac(0x4f7)]();else document[_0x56c5ac(0x9fc)]&&document[_0x56c5ac(0x9fc)]();}}function enterFullscreen(){const _0xaf26ad=_0x346886,_0x15da58=document[_0xaf26ad(0x6e6)];if(_0x15da58[_0xaf26ad(0x904)])_0x15da58[_0xaf26ad(0x904)]()[_0xaf26ad(0x80b)](_0x2b1fa8=>{const _0x2e0d16=_0xaf26ad;console[_0x2e0d16(0x6f2)](_0x2e0d16(0x447)+_0x2b1fa8[_0x2e0d16(0x6ff)]+'\x20('+_0x2b1fa8[_0x2e0d16(0x54b)]+')');});else{if(_0x15da58['webkitRequestFullscreen'])_0x15da58[_0xaf26ad(0x5fc)]();else _0x15da58[_0xaf26ad(0x7ca)]&&_0x15da58[_0xaf26ad(0x7ca)]();}}function handleCheatingEvent(){const _0x352e75=_0x346886;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x352e75(0x518)+maxCheatAttempts+_0x352e75(0x871)),document[_0x352e75(0x68b)](_0x352e75(0x991))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x352e75(0x6e9)]('visibilitychange',handleVisibilityChange),document[_0x352e75(0x6e9)](_0x352e75(0x9e8),handleFullscreenChange)):showMessage(_0x352e75(0x5f8)+cheatAttempts+'/'+maxCheatAttempts+_0x352e75(0x68f),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2fa572=_0x346886;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x2fa572(0x8c4)]===_0x2fa572(0x901))handleCheatingEvent();else document[_0x2fa572(0x8c4)]===_0x2fa572(0x511)&&(console[_0x2fa572(0x326)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3fb624=_0x346886;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x3fb624(0x872)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3307ef){const _0x464b2c=_0x346886,_0x1631f4=document['getElementById']('generated-quiz-container');let _0xfda427=_0x464b2c(0x3f6)+_0x3307ef['topic']+'</h3>';_0x3307ef[_0x464b2c(0xa18)][_0x464b2c(0x305)]((_0x324548,_0xc719c5)=>{const _0x527195=_0x464b2c;!_0x324548['id']&&(_0x324548['id']='q_'+Date[_0x527195(0x609)]()+'_'+_0xc719c5);const _0x1d991d=_0x324548[_0x527195(0x296)]||_0x3307ef[_0x527195(0x3fa)];_0xfda427+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0xc719c5+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xc719c5+_0x527195(0x84c)+_0xc719c5+_0x527195(0x20b)+_0xc719c5+_0x527195(0x55f);switch(_0x1d991d){case'matching_item':_0xfda427+=_0x527195(0x886)+_0xc719c5+'\x22>'+(_0xc719c5+0x1)+'.\x20'+_0x324548[_0x527195(0x3db)]+_0x527195(0x96b);_0x324548[_0x527195(0x884)]&&(_0xfda427+='<div\x20id=\x22q-image-container-'+_0xc719c5+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x324548[_0x527195(0x884)]+_0x527195(0x531));_0xfda427+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0xc719c5+'\x22>'+_0x324548[_0x527195(0x463)]+'</span></div>',_0xfda427+=_0x527195(0x2bd)+_0xc719c5+'\x22>'+_0x324548['explanation']+'</span></div>';break;case _0x527195(0x38f):_0xfda427+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xc719c5+'\x22>'+(_0xc719c5+0x1)+'.\x20'+_0x324548[_0x527195(0x85d)]+'</p>';_0x324548['imageCode']&&(_0xfda427+=_0x527195(0x282)+_0xc719c5+_0x527195(0x2de)+_0x324548[_0x527195(0x884)]+_0x527195(0x531));_0xfda427+=_0x527195(0x8fd)+_0xc719c5+'\x22>'+_0x324548[_0x527195(0x2a2)]+_0x527195(0x7e7),_0xfda427+=_0x527195(0x2bd)+_0xc719c5+'\x22>'+_0x324548[_0x527195(0x2f2)]+'</span></div>';break;case _0x527195(0x74e):_0xfda427+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xc719c5+'\x22>'+(_0xc719c5+0x1)+'.\x20'+_0x324548[_0x527195(0x85d)]+_0x527195(0x96b);_0x324548[_0x527195(0x884)]&&(_0xfda427+=_0x527195(0x282)+_0xc719c5+_0x527195(0x2de)+_0x324548[_0x527195(0x884)]+'</div>');_0xfda427+=_0x527195(0x633)+(_0x324548[_0x527195(0x8a4)]===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x324548[_0x527195(0x8a4)]===![]?_0x527195(0x708):'')+_0x527195(0x4bf),_0xfda427+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xc719c5+'\x22>'+_0x324548[_0x527195(0x2f2)]+_0x527195(0x7e7);break;case _0x527195(0x8f5):case'multiple_choice':default:_0xfda427+=_0x527195(0x886)+_0xc719c5+'\x22>'+(_0xc719c5+0x1)+'.\x20'+_0x324548[_0x527195(0x85d)]+'</p>';_0x324548[_0x527195(0x884)]&&(_0xfda427+=_0x527195(0x282)+_0xc719c5+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x324548[_0x527195(0x884)]+_0x527195(0x531));_0xfda427+=_0x527195(0x7b0)+_0xc719c5+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x324548['options'][_0x527195(0x6c4)]((_0x37e820,_0x3ef6d9)=>_0x527195(0x2c0)+(_0x3ef6d9===_0x324548[_0x527195(0x60a)]?_0x527195(0x708):'')+'\x22>'+_0x37e820+'</li>')[_0x527195(0x559)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0xfda427+=_0x527195(0x2bd)+_0xc719c5+'\x22>'+_0x324548[_0x527195(0x2f2)]+_0x527195(0x7e7);break;}_0xfda427+=_0x527195(0x531);}),_0xfda427+=_0x464b2c(0x5b7),_0x1631f4['innerHTML']=_0xfda427,document[_0x464b2c(0x3df)](_0x464b2c(0x62f))[_0x464b2c(0x305)](_0x18e668=>_0x18e668[_0x464b2c(0x35b)](_0x464b2c(0x8d8),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x464b2c(0x305)](_0x28a817=>_0x28a817[_0x464b2c(0x35b)](_0x464b2c(0x8d8),handleRegenerateQuestion)),document['querySelectorAll'](_0x464b2c(0x2e7))[_0x464b2c(0x305)](_0x1965f7=>_0x1965f7[_0x464b2c(0x35b)]('click',handleSaveToBank)),document[_0x464b2c(0x68b)](_0x464b2c(0x4d6))[_0x464b2c(0x35b)](_0x464b2c(0x8d8),exportQuizAsWorksheetPDF),document[_0x464b2c(0x68b)]('save-quiz-btn')[_0x464b2c(0x35b)]('click',saveQuiz),document[_0x464b2c(0x68b)](_0x464b2c(0x8e2))['addEventListener'](_0x464b2c(0x8d8),handleVerifyAnswers);if(window[_0x464b2c(0x31e)])window[_0x464b2c(0x31e)][_0x464b2c(0x3f5)]([_0x1631f4]);}function handleRegenerateQuestion(_0x4797e2){const _0x9b12d9=_0x346886,_0xea37e8=_0x4797e2['currentTarget'][_0x9b12d9(0x898)][_0x9b12d9(0x31d)],_0x43c636=currentQuizData[_0x9b12d9(0x9e3)];showMessage(_0x9b12d9(0x920)+(parseInt(_0xea37e8)+0x1)+_0x9b12d9(0x35f)),generateQuiz(_0x43c636,null,parseInt(_0xea37e8));}function getPointerPosition(_0x1b1c55,_0x307fb8){const _0x1e0c05=_0x346886,_0x2e674a=_0x1b1c55[_0x1e0c05(0x6a1)]();let _0x14049c,_0x1d8b98;return _0x307fb8[_0x1e0c05(0x390)]&&_0x307fb8[_0x1e0c05(0x390)]['length']>0x0?(_0x14049c=_0x307fb8['touches'][0x0][_0x1e0c05(0xa48)],_0x1d8b98=_0x307fb8[_0x1e0c05(0x390)][0x0][_0x1e0c05(0x66a)]):(_0x14049c=_0x307fb8[_0x1e0c05(0xa48)],_0x1d8b98=_0x307fb8[_0x1e0c05(0x66a)]),{'x':(_0x14049c-_0x2e674a['e'])/_0x2e674a['a'],'y':(_0x1d8b98-_0x2e674a['f'])/_0x2e674a['d']};}function startDrag(_0x1e0b4a){const _0x3ef634=_0x346886;_0x1e0b4a[_0x3ef634(0x678)]===_0x3ef634(0x8c6)&&_0x1e0b4a['preventDefault']();const _0x1a81e4=_0x1e0b4a[_0x3ef634(0x2b1)][_0x3ef634(0x8b2)](_0x3ef634(0x5ec));if(_0x1a81e4){draggedSvgElement=_0x1a81e4;const _0x59dfd3=draggedSvgElement['ownerSVGElement'],_0xdf4dc5=getPointerPosition(_0x59dfd3,_0x1e0b4a);svgOffset['x']=_0xdf4dc5['x']-parseFloat(draggedSvgElement[_0x3ef634(0x315)](null,'x')),svgOffset['y']=_0xdf4dc5['y']-parseFloat(draggedSvgElement[_0x3ef634(0x315)](null,'y'));}}function calculateItemAnalysis(_0x37b512,_0x25a082){const _0x39828a=_0x346886,_0x47aab4={};if(_0x25a082[_0x39828a(0x8cf)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x4cd39b=[..._0x25a082][_0x39828a(0x787)]((_0xd7ae3d,_0x46a634)=>{const _0x5bbb5e=_0x39828a,_0x388b80=_0x46a634[_0x5bbb5e(0x317)]-_0xd7ae3d[_0x5bbb5e(0x317)];if(_0x388b80!==0x0)return _0x388b80;const _0x3b1d56=_0xd7ae3d[_0x5bbb5e(0x3ce)]?.[_0x5bbb5e(0x8cf)]||0x1,_0x45a7d8=_0x46a634[_0x5bbb5e(0x3ce)]?.[_0x5bbb5e(0x8cf)]||0x1,_0xb15eec=_0x3b1d56-_0x45a7d8;if(_0xb15eec!==0x0)return _0xb15eec;const _0x13feb0=new Date(_0xd7ae3d[_0x5bbb5e(0x3ff)]),_0xd5fd5e=new Date(_0x46a634[_0x5bbb5e(0x3ff)]),_0x52db08=_0x13feb0-_0xd5fd5e;if(_0x52db08!==0x0)return _0x52db08;return _0xd7ae3d[_0x5bbb5e(0x7ad)][_0x5bbb5e(0x959)](_0x46a634[_0x5bbb5e(0x7ad)],'th');}),_0x40408b=_0x4cd39b['length'],_0x1ea5e4=Math['max'](0x1,Math[_0x39828a(0x337)](_0x40408b*0.33));if(_0x1ea5e4===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3ec094=_0x4cd39b[_0x39828a(0x27a)](0x0,_0x1ea5e4),_0x3517cb=_0x4cd39b[_0x39828a(0x27a)](-_0x1ea5e4),_0x2a7e90=_0x3ec094[_0x39828a(0x6c4)](_0x27d29f=>_0x27d29f['studentName']),_0x14d09f=_0x3517cb[_0x39828a(0x6c4)](_0x5e5b0c=>_0x5e5b0c[_0x39828a(0x7ad)]);return _0x37b512[_0x39828a(0xa18)][_0x39828a(0x305)]((_0x495ee3,_0x3cd68d)=>{const _0x7e736e=_0x39828a,_0x123957=_0x495ee3[_0x7e736e(0x3db)]||_0x495ee3[_0x7e736e(0x85d)];let _0x5b5c26=0x0,_0x437823=0x0,_0x36c20f=0x0;const _0x86694a=[],_0x4e379c=[];_0x3ec094[_0x7e736e(0x305)](_0x1902a4=>{const _0x491d2e=_0x7e736e,_0x2d6eeb=_0x1902a4[_0x491d2e(0x3ce)][_0x1902a4['attempts'][_0x491d2e(0x8cf)]-0x1],_0x125b49=_0x2d6eeb['answers'][_0x491d2e(0x94f)](_0x4bcbb2=>_0x4bcbb2[_0x491d2e(0x9fd)]===_0x123957);_0x86694a['push']({'name':_0x1902a4[_0x491d2e(0x7ad)],'isCorrect':_0x125b49?_0x125b49['isCorrect']:![]}),_0x125b49&&_0x125b49[_0x491d2e(0x5d2)]&&_0x437823++;}),_0x3517cb[_0x7e736e(0x305)](_0x2727c4=>{const _0x2a5822=_0x7e736e,_0x44ad34=_0x2727c4[_0x2a5822(0x3ce)][_0x2727c4['attempts']['length']-0x1],_0xe854cc=_0x44ad34['answers'][_0x2a5822(0x94f)](_0x2d9368=>_0x2d9368['originalQuestionText']===_0x123957);_0x4e379c['push']({'name':_0x2727c4[_0x2a5822(0x7ad)],'isCorrect':_0xe854cc?_0xe854cc['isCorrect']:![]}),_0xe854cc&&_0xe854cc['isCorrect']&&_0x36c20f++;}),_0x25a082[_0x7e736e(0x305)](_0x233658=>{const _0x29b5c8=_0x7e736e,_0x1e79bd=_0x233658[_0x29b5c8(0x3ce)][_0x233658[_0x29b5c8(0x3ce)][_0x29b5c8(0x8cf)]-0x1],_0x4d0d15=_0x1e79bd[_0x29b5c8(0x319)][_0x29b5c8(0x94f)](_0x164acf=>_0x164acf[_0x29b5c8(0x9fd)]===_0x123957);_0x4d0d15&&_0x4d0d15['isCorrect']&&_0x5b5c26++;});const _0x48fabe=_0x40408b>0x0?_0x5b5c26/_0x40408b:0x0,_0xf659ed=_0x1ea5e4>0x0?_0x437823/_0x1ea5e4-_0x36c20f/_0x1ea5e4:0x0;_0x47aab4[_0x3cd68d]={'p':_0x48fabe,'r':_0xf659ed,'upperGroupResponders':_0x86694a,'lowerGroupResponders':_0x4e379c};}),{'perQuestionStats':_0x47aab4,'overallGroups':{'upperGroupNames':_0x2a7e90,'lowerGroupNames':_0x14d09f}};}function drag(_0x5b43a1){const _0x30a079=_0x346886;if(draggedSvgElement){_0x5b43a1[_0x30a079(0x23a)]();const _0x369c06=draggedSvgElement[_0x30a079(0x78b)],_0x53fe56=getPointerPosition(_0x369c06,_0x5b43a1),_0x25673d=_0x369c06[_0x30a079(0x69f)][_0x30a079(0x571)];let _0x4a25cc=_0x53fe56['x']-svgOffset['x'],_0x2d52ac=_0x53fe56['y']-svgOffset['y'];const _0x47969c=draggedSvgElement[_0x30a079(0x850)]();_0x4a25cc=Math[_0x30a079(0x874)](_0x25673d['x'],Math['min'](_0x4a25cc,_0x25673d['x']+_0x25673d[_0x30a079(0x2a0)]-_0x47969c[_0x30a079(0x2a0)])),_0x2d52ac=Math[_0x30a079(0x874)](_0x25673d['y'],Math['min'](_0x2d52ac,_0x25673d['y']+_0x25673d[_0x30a079(0x3de)]-_0x47969c[_0x30a079(0x3de)])),draggedSvgElement['setAttributeNS'](null,'x',_0x4a25cc),draggedSvgElement[_0x30a079(0x480)](null,'y',_0x2d52ac);}}function endDrag(_0x12fe17){draggedSvgElement=null;}function handleSvgEditClick(_0xc682dc){const _0x42dfa2=_0x346886;if(_0xc682dc['target'][_0x42dfa2(0x8f4)][_0x42dfa2(0x825)](_0x42dfa2(0x81e))){const _0x2442b3=_0xc682dc['target'][_0x42dfa2(0x898)]['targetId'],_0xfc4724=_0xc682dc[_0x42dfa2(0x39e)],_0x12ead9=_0xfc4724['querySelector']('#'+_0x2442b3);_0x12ead9&&_0x12ead9[_0x42dfa2(0x42d)](),_0xc682dc[_0x42dfa2(0x2b1)][_0x42dfa2(0x42d)]();}}function handleEditQuestion(_0x532ce5){const _0x4010d5=_0x346886,_0x309063=_0x532ce5[_0x4010d5(0x39e)],_0x45c6d7=_0x309063[_0x4010d5(0x898)]['index'],_0x2a96fa=currentQuizData[_0x4010d5(0xa18)][_0x45c6d7],_0x3a7a6a=document[_0x4010d5(0x68b)]('q-text-'+_0x45c6d7),_0x239238=document[_0x4010d5(0x68b)](_0x4010d5(0x6e4)+_0x45c6d7),_0x2df91f=document['getElementById']('q-image-container-'+_0x45c6d7);if(_0x309063[_0x4010d5(0x373)][_0x4010d5(0x634)](_0x4010d5(0x4a1))){_0x309063[_0x4010d5(0x373)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x309063[_0x4010d5(0x54f)]='บันทึกการแก้ไข';if(_0x3a7a6a)_0x3a7a6a['contentEditable']=!![];if(_0x239238)_0x239238['contentEditable']=!![];if(_0x2df91f){const _0x403f77=_0x2df91f[_0x4010d5(0x293)](_0x4010d5(0x45d));if(_0x403f77){const _0x1d0815=_0x403f77[_0x4010d5(0x3df)]('text');_0x1d0815[_0x4010d5(0x305)]((_0x12ec57,_0x36f563)=>{const _0x4d3aa1=_0x4010d5,_0x2c99fc=_0x4d3aa1(0x71d)+_0x45c6d7+'-'+_0x36f563;_0x12ec57['id']=_0x2c99fc,_0x12ec57[_0x4d3aa1(0x8f4)][_0x4d3aa1(0xa01)]('draggable-text'),_0x12ec57['style']['cursor']='move';const _0x3cce5e=document[_0x4d3aa1(0x386)]('http://www.w3.org/2000/svg','circle'),_0x534f8c=_0x12ec57[_0x4d3aa1(0x850)]();_0x3cce5e[_0x4d3aa1(0x9a2)]('cx',String(_0x534f8c['x']+_0x534f8c[_0x4d3aa1(0x2a0)]+0x5)),_0x3cce5e[_0x4d3aa1(0x9a2)]('cy',String(_0x534f8c['y']+_0x534f8c['height']/0x2-0x5)),_0x3cce5e[_0x4d3aa1(0x9a2)]('r','5'),_0x3cce5e[_0x4d3aa1(0x9a2)](_0x4d3aa1(0x8db),'red'),_0x3cce5e['setAttribute']('class',_0x4d3aa1(0x81e)),_0x3cce5e[_0x4d3aa1(0x898)][_0x4d3aa1(0x38d)]=_0x2c99fc,_0x12ec57['after'](_0x3cce5e);}),_0x403f77[_0x4010d5(0x35b)]('mousedown',startDrag),_0x403f77['addEventListener']('mousemove',drag),_0x403f77[_0x4010d5(0x35b)]('mouseup',endDrag),_0x403f77[_0x4010d5(0x35b)](_0x4010d5(0x8f3),endDrag),_0x403f77[_0x4010d5(0x35b)](_0x4010d5(0x8c6),startDrag,{'passive':![]}),_0x403f77[_0x4010d5(0x35b)](_0x4010d5(0x456),drag,{'passive':![]}),_0x403f77[_0x4010d5(0x35b)](_0x4010d5(0x281),endDrag),_0x403f77[_0x4010d5(0x35b)](_0x4010d5(0x486),endDrag),_0x403f77[_0x4010d5(0x35b)]('click',handleSvgEditClick);}}if(_0x3a7a6a)_0x3a7a6a[_0x4010d5(0x5bd)]();}else{_0x309063[_0x4010d5(0x373)]=_0x4010d5(0x849),_0x309063[_0x4010d5(0x54f)]=_0x4010d5(0x630);if(_0x3a7a6a){_0x3a7a6a[_0x4010d5(0x488)]=![];const _0x59f213=_0x2a96fa['questionType']||currentQuizData[_0x4010d5(0x3fa)];_0x59f213===_0x4010d5(0x5a4)?_0x2a96fa[_0x4010d5(0x3db)]=_0x3a7a6a[_0x4010d5(0xa25)][_0x4010d5(0x880)](_0x3a7a6a[_0x4010d5(0xa25)][_0x4010d5(0x39a)]('.')+0x2)[_0x4010d5(0x905)]():_0x2a96fa[_0x4010d5(0x85d)]=_0x3a7a6a[_0x4010d5(0xa25)]['substring'](_0x3a7a6a[_0x4010d5(0xa25)][_0x4010d5(0x39a)]('.')+0x2)[_0x4010d5(0x905)]();}_0x239238&&(_0x239238[_0x4010d5(0x488)]=![],_0x2a96fa['explanation']=_0x239238['innerText']);if(_0x2df91f){const _0x574895=_0x2df91f['querySelector'](_0x4010d5(0x45d));if(_0x574895){const _0x2810a8=_0x574895['cloneNode'](!![]);_0x2810a8[_0x4010d5(0x3df)](_0x4010d5(0x21f))[_0x4010d5(0x305)](_0x225fd5=>_0x225fd5[_0x4010d5(0x42d)]()),_0x2810a8[_0x4010d5(0x3df)]('.draggable-text')['forEach'](_0x45cad7=>{const _0x90ca78=_0x4010d5;_0x45cad7[_0x90ca78(0x8f4)][_0x90ca78(0x42d)](_0x90ca78(0x8e8)),_0x45cad7[_0x90ca78(0x4bb)]['cursor']=_0x90ca78(0x449),_0x45cad7[_0x90ca78(0xa3d)]('id');}),_0x2a96fa[_0x4010d5(0x884)]=_0x2810a8['outerHTML'],_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x759),startDrag),_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x81b),drag),_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x922),endDrag),_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x8f3),endDrag),_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x8c6),startDrag),_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x456),drag),_0x574895['removeEventListener']('touchend',endDrag),_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x486),endDrag),_0x574895[_0x4010d5(0x6e9)](_0x4010d5(0x8d8),handleSvgEditClick),_0x574895['querySelectorAll'](_0x4010d5(0x21f))['forEach'](_0x52512f=>_0x52512f[_0x4010d5(0x42d)]()),_0x574895['querySelectorAll'](_0x4010d5(0x5ec))[_0x4010d5(0x305)](_0x1e8d90=>{const _0x1e5f22=_0x4010d5;_0x1e8d90[_0x1e5f22(0x8f4)][_0x1e5f22(0x42d)]('draggable-text'),_0x1e8d90[_0x1e5f22(0x4bb)][_0x1e5f22(0x391)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x22e83e){const _0x346c73=_0x346886,_0x463eb8=document[_0x346c73(0x68b)](_0x346c73(0x8ec)),_0x1739f4=document[_0x346c73(0x68b)](_0x346c73(0x45e));_0x1739f4[_0x346c73(0x373)]=_0x346c73(0x99b),_0x463eb8['classList'][_0x346c73(0x42d)]('hidden');try{const _0x3fdc33=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x22e83e),_0x3cbe2e=await getDoc(_0x3fdc33);if(!_0x3cbe2e[_0x346c73(0x824)]())throw new Error(_0x346c73(0x254));currentEditingQuizData={'id':_0x22e83e,..._0x3cbe2e['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x4354c3){console[_0x346c73(0x6f2)]('Error\x20opening\x20quiz\x20editor:',_0x4354c3),showMessage(_0x346c73(0x519)),_0x463eb8[_0x346c73(0x8f4)][_0x346c73(0xa01)](_0x346c73(0x901));}}function renderQuizEditor(_0x5a0670){const _0x29b0d6=_0x346886;document['getElementById'](_0x29b0d6(0x537))[_0x29b0d6(0x967)]=_0x5a0670[_0x29b0d6(0x9e3)];const _0xdcf43c=document[_0x29b0d6(0x68b)](_0x29b0d6(0x45e));let _0x44582c=_0x5a0670['questions'][_0x29b0d6(0x6c4)]((_0x22a179,_0x140cf3)=>{const _0x42fbf5=_0x29b0d6;let _0x452c26='';const _0x3d868a=_0x22a179[_0x42fbf5(0x296)]||_0x5a0670[_0x42fbf5(0x3fa)];switch(_0x3d868a){case'multiple_choice':const _0x16021c=(_0x22a179['options']||[])[_0x42fbf5(0x6c4)]((_0x4dc9fb,_0x1039ae)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x140cf3+_0x42fbf5(0x263)+_0x1039ae+'\x22\x20'+(_0x1039ae===_0x22a179[_0x42fbf5(0x60a)]?_0x42fbf5(0x89c):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4dc9fb+_0x42fbf5(0x674))[_0x42fbf5(0x559)]('');_0x452c26=_0x42fbf5(0x978)+_0x16021c+_0x42fbf5(0x903);break;case _0x42fbf5(0x38f):_0x452c26=_0x42fbf5(0x62b)+(_0x22a179[_0x42fbf5(0x2a2)]||'')+_0x42fbf5(0x6d7);break;case _0x42fbf5(0x74e):_0x452c26='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x140cf3+_0x42fbf5(0x696)+(_0x22a179[_0x42fbf5(0x8a4)]===!![]?_0x42fbf5(0x89c):'')+_0x42fbf5(0x76f)+_0x140cf3+_0x42fbf5(0x945)+(_0x22a179[_0x42fbf5(0x8a4)]===![]?_0x42fbf5(0x89c):'')+_0x42fbf5(0x848);break;case _0x42fbf5(0x5a4):_0x452c26='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x22a179[_0x42fbf5(0x463)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0xf941e6=_0x22a179[_0x42fbf5(0x85d)]||_0x22a179[_0x42fbf5(0x3db)]||'';return _0x42fbf5(0x237)+_0x140cf3+_0x42fbf5(0x58c)+_0x3d868a+_0x42fbf5(0x868)+(_0x140cf3+0x1)+'\x20('+_0x3d868a+_0x42fbf5(0x8fb)+_0xf941e6+_0x42fbf5(0x5b0)+_0x452c26+_0x42fbf5(0x2b4);})[_0x29b0d6(0x559)]('');_0xdcf43c[_0x29b0d6(0x373)]=_0x44582c,_0xdcf43c[_0x29b0d6(0x3df)]('.ai-fix-question-btn')[_0x29b0d6(0x305)](_0x6a710e=>{const _0x45b788=_0x29b0d6;_0x6a710e[_0x45b788(0x35b)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x5cd40f){const _0xa5aa79=_0x346886,_0x98a901=_0x5cd40f[_0xa5aa79(0x39e)],_0x76ec1d=_0x98a901[_0xa5aa79(0x8b2)](_0xa5aa79(0x2b9));if(!_0x76ec1d)return;const _0x13ea5e=parseInt(_0x76ec1d[_0xa5aa79(0x898)][_0xa5aa79(0x37f)],0xa);if(isNaN(_0x13ea5e)||!currentEditingQuizData[_0xa5aa79(0xa18)][_0x13ea5e]){showMessage(_0xa5aa79(0x20e));return;}const _0x4421ca=currentEditingQuizData[_0xa5aa79(0xa18)][_0x13ea5e];_0x98a901[_0xa5aa79(0x373)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x98a901[_0xa5aa79(0x438)]=!![];const _0x136bda='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0xa5aa79(0x2cf)](_0x4421ca)+_0xa5aa79(0x940);let _0x8dbf80;const _0x515f02=_0x4421ca[_0xa5aa79(0x296)]||currentEditingQuizData[_0xa5aa79(0x3fa)];switch(_0x515f02){case _0xa5aa79(0x38f):_0x8dbf80={'type':_0xa5aa79(0x206),'properties':{'questionText':{'type':_0xa5aa79(0x9d7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0xa5aa79(0x9d7)}},'required':[_0xa5aa79(0x85d),_0xa5aa79(0x2a2),_0xa5aa79(0x2f2)]};break;case'multiple_choice':default:_0x8dbf80={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0xa5aa79(0x813),'items':{'type':_0xa5aa79(0x9d7)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0xa5aa79(0x9d7)}},'required':[_0xa5aa79(0x85d),_0xa5aa79(0x77f),_0xa5aa79(0x60a),_0xa5aa79(0x2f2)]};break;}try{let _0x41f42a=await callAnalysisApi(_0x136bda,_0x8dbf80);_0x41f42a[_0xa5aa79(0x77f)]&&Array[_0xa5aa79(0xa40)](_0x41f42a[_0xa5aa79(0x77f)])&&(_0x41f42a[_0xa5aa79(0x77f)]=_0x41f42a[_0xa5aa79(0x77f)]['map'](_0x46b67b=>typeof _0x46b67b===_0xa5aa79(0x467)?_0x46b67b[_0xa5aa79(0x2e5)](/S(\s*[\d_]+?\s*)S/g,_0xa5aa79(0x791)):_0x46b67b)),_0x4421ca[_0xa5aa79(0x884)]&&_0x4421ca['imageCode'][_0xa5aa79(0x634)](_0xa5aa79(0x26b))&&(_0x41f42a['imageCode']=''),currentEditingQuizData[_0xa5aa79(0xa18)][_0x13ea5e]={..._0x4421ca,..._0x41f42a},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x19de89){console[_0xa5aa79(0x6f2)](_0xa5aa79(0x4e9),_0x19de89),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x722a3=_0x346886,_0x4ed9c8=document[_0x722a3(0x68b)](_0x722a3(0x374));_0x4ed9c8[_0x722a3(0x438)]=!![],_0x4ed9c8['innerHTML']=_0x722a3(0x362);try{const _0x38016d=document[_0x722a3(0x68b)]('editor-quiz-topic')['value'],_0x4cf6b3=document[_0x722a3(0x3df)]('.question-editor-item');let _0x26d3f4=[];const _0x566b87=Array[_0x722a3(0x48c)](_0x4cf6b3)[_0x722a3(0x6c4)]((_0x21a8ae,_0x42c045)=>{const _0x1782a7=_0x722a3,_0x5ccf23=_0x21a8ae['dataset'][_0x1782a7(0x3f7)],_0x9128ac=_0x21a8ae[_0x1782a7(0x293)](_0x1782a7(0x25e))[_0x1782a7(0x967)];let _0x57e25b={'questionType':_0x5ccf23};const _0xd6fbea=currentEditingQuizData['questions'][_0x42c045];switch(_0x5ccf23){case _0x1782a7(0x586):_0x57e25b[_0x1782a7(0x85d)]=_0x9128ac;const _0x1f2e78=_0x21a8ae['querySelectorAll'](_0x1782a7(0x9c9));_0x57e25b[_0x1782a7(0x77f)]=Array[_0x1782a7(0x48c)](_0x1f2e78)[_0x1782a7(0x6c4)](_0x31cb3e=>_0x31cb3e['value']);const _0x32ea5d=_0x21a8ae[_0x1782a7(0x293)](_0x1782a7(0x33c));_0x57e25b[_0x1782a7(0x60a)]=_0x32ea5d?parseInt(_0x32ea5d[_0x1782a7(0x967)]):0x0;break;case'short_answer':_0x57e25b[_0x1782a7(0x85d)]=_0x9128ac,_0x57e25b[_0x1782a7(0x2a2)]=_0x21a8ae[_0x1782a7(0x293)](_0x1782a7(0x934))[_0x1782a7(0x967)];break;case'true_false':_0x57e25b['questionText']=_0x9128ac;const _0x2a1768=_0x21a8ae['querySelector'](_0x1782a7(0x33c));_0x57e25b[_0x1782a7(0x8a4)]=_0x2a1768?_0x2a1768[_0x1782a7(0x967)]===_0x1782a7(0x732):!![];break;case _0x1782a7(0x5a4):_0x57e25b[_0x1782a7(0x3db)]=_0x9128ac;const _0x2c2e05=_0x21a8ae[_0x1782a7(0x293)]('.correct-response-input');_0x57e25b[_0x1782a7(0x463)]=_0x2c2e05?_0x2c2e05[_0x1782a7(0x967)]:'',_0x26d3f4[_0x1782a7(0x85a)](_0x57e25b[_0x1782a7(0x463)]);break;default:_0x57e25b[_0x1782a7(0x85d)]=_0x9128ac;break;}return{..._0xd6fbea,..._0x57e25b};});_0x26d3f4[_0x722a3(0x8cf)]>0x0&&_0x566b87[_0x722a3(0x305)](_0x59ed3e=>{const _0xb371e3=_0x722a3;_0x59ed3e[_0xb371e3(0x296)]===_0xb371e3(0x5a4)&&(_0x59ed3e['allResponses']=_0x26d3f4);});const _0x3fb257=currentEditingQuizData['id'],_0x6ecb7c=doc(db,'artifacts/'+appId+_0x722a3(0x3a7),_0x3fb257);await updateDoc(_0x6ecb7c,{'topic':_0x38016d,'questions':_0x566b87}),document[_0x722a3(0x68b)](_0x722a3(0x8ec))['classList'][_0x722a3(0xa01)]('hidden'),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x3fb257));}catch(_0x25b662){console[_0x722a3(0x6f2)]('Error\x20saving\x20quiz\x20edits:',_0x25b662),showMessage(_0x722a3(0x74d));}finally{_0x4ed9c8[_0x722a3(0x438)]=![],_0x4ed9c8[_0x722a3(0x373)]=_0x722a3(0x310);}}async function initiateReGradeProcess(_0xbbed8c){const _0x2a2769=_0x346886;showMessage(_0x2a2769(0x5d9));try{const _0x1b81db=doc(db,_0x2a2769(0x9d8)+appId+_0x2a2769(0x3a7),_0xbbed8c),_0x3b8239=await getDoc(_0x1b81db);if(!_0x3b8239[_0x2a2769(0x824)]())throw new Error(_0x2a2769(0x75e));const _0x2ab183={'id':_0xbbed8c,..._0x3b8239[_0x2a2769(0x3c0)]()},_0x2a2dad=collection(db,'artifacts/'+appId+_0x2a2769(0x3a7),_0xbbed8c,'submissions'),_0xd37d62=await getDocs(_0x2a2dad);if(_0xd37d62[_0x2a2769(0x5b2)]){showMessage(_0x2a2769(0x40f));return;}const _0x5b3d91=_0xd37d62[_0x2a2769(0xa07)][_0x2a2769(0x6c4)](_0x3c217e=>reGradeSingleSubmission(_0x3c217e,_0x2ab183));await Promise[_0x2a2769(0x80c)](_0x5b3d91);if(_0x2ab183[_0x2a2769(0x2c3)]){const _0x1db872=doc(db,'artifacts/'+appId+_0x2a2769(0x24d),_0x2ab183['projectId']),_0x1e0118=await getDoc(_0x1db872);if(_0x1e0118[_0x2a2769(0x824)]()&&_0x1e0118[_0x2a2769(0x3c0)]()[_0x2a2769(0x408)]){const _0x476c52=_0x1e0118['data']()[_0x2a2769(0x408)][_0x2a2769(0x6c4)](_0x1b2e90=>updateStudentProfile(_0x2ab183[_0x2a2769(0x2c3)],_0x1b2e90));await Promise[_0x2a2769(0x80c)](_0x476c52);}}showMessage(_0x2a2769(0x300)+_0xd37d62[_0x2a2769(0x755)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x669ab0){console['error'](_0x2a2769(0x295),_0x669ab0),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x669ab0[_0x2a2769(0x6ff)]);}}async function reGradeSingleSubmission(_0x5897bb,_0xca8887){const _0xd11b99=_0x346886,_0x5bc8c5=_0x5897bb[_0xd11b99(0x3c0)](),_0x137a95=_0x5bc8c5[_0xd11b99(0x7ad)],_0x2540b2=_0x5bc8c5[_0xd11b99(0x3ce)]||[],_0x26f26a=[];for(const _0x5e0c50 of _0x2540b2){let _0x3a1e1a=0x0,_0x8330a4=[],_0x133dbd=0x0;const _0x585c7=[];for(const _0x541410 of _0x5e0c50[_0xd11b99(0x319)]){let _0x671eb5;_0x541410[_0xd11b99(0x5fe)]&&(_0x671eb5=_0xca8887['questions']['find'](_0x39f6d4=>_0x39f6d4['id']===_0x541410[_0xd11b99(0x5fe)]));!_0x671eb5&&_0x541410[_0xd11b99(0x9fd)]&&(_0x671eb5=_0xca8887['questions']['find'](_0x539dc6=>(_0x539dc6[_0xd11b99(0x3db)]||_0x539dc6[_0xd11b99(0x85d)])===_0x541410[_0xd11b99(0x9fd)]));let _0x1dd587=![];if(_0x671eb5){const _0xe1e51d=_0x671eb5['questionType']||_0xca8887['quizType'];switch(_0xe1e51d){case _0xd11b99(0x586):if(_0x671eb5[_0xd11b99(0x77f)]&&_0x671eb5['correctAnswerIndex']<_0x671eb5[_0xd11b99(0x77f)][_0xd11b99(0x8cf)]){const _0x4a3020=_0x671eb5['options'][_0x671eb5[_0xd11b99(0x60a)]];_0x1dd587=_0x541410['answerText']===_0x4a3020;}break;case _0xd11b99(0x74e):const _0x388f2f=_0x541410[_0xd11b99(0x797)]===!![]||_0x541410[_0xd11b99(0x797)]==='true';_0x1dd587=_0x388f2f===_0x671eb5[_0xd11b99(0x8a4)];break;case _0xd11b99(0x5a4):_0x1dd587=_0x541410[_0xd11b99(0x797)]===_0x671eb5[_0xd11b99(0x463)];break;case'short_answer':_0x1dd587=await gradeShortAnswer(_0x541410[_0xd11b99(0x797)],_0x671eb5);break;default:_0x1dd587=_0x541410[_0xd11b99(0x5d2)];break;}}if(_0x1dd587){_0x3a1e1a++,_0x133dbd++;if(_0x133dbd===0x3)_0x8330a4[_0xd11b99(0x85a)](BADGES[_0xd11b99(0x2d3)]['id']);}else _0x133dbd=0x0;_0x585c7[_0xd11b99(0x85a)]({..._0x541410,'isCorrect':_0x1dd587});}let _0x5edd1c=_0x3a1e1a*0xa;_0x3a1e1a===_0xca8887[_0xd11b99(0xa18)][_0xd11b99(0x8cf)]&&(_0x5edd1c+=0x32,_0x8330a4[_0xd11b99(0x85a)](BADGES[_0xd11b99(0x529)]['id'])),_0x26f26a['push']({..._0x5e0c50,'score':_0x3a1e1a,'points':_0x5edd1c,'badges':Array[_0xd11b99(0x48c)](new Set(_0x8330a4)),'answers':_0x585c7});}const _0x3f84c7=_0x26f26a[_0xd11b99(0x8cf)]>0x0?_0x26f26a[0x0][_0xd11b99(0x4e5)]:0x0,_0x3ac954=Math[_0xd11b99(0x874)](..._0x26f26a['map'](_0x4d6da6=>_0x4d6da6[_0xd11b99(0x4e5)])),_0x5923cc=_0x26f26a['length']>0x0?_0x26f26a[_0x26f26a['length']-0x1][_0xd11b99(0x4e5)]:0x0,_0x244c81=_0x26f26a[_0xd11b99(0x8cf)]>0x0?_0x26f26a[_0x26f26a[_0xd11b99(0x8cf)]-0x1][_0xd11b99(0x601)]:0x0,_0x3d4172=doc(db,'artifacts/'+appId+_0xd11b99(0x867)+_0xca8887['id']+_0xd11b99(0x26d),_0x137a95);await updateDoc(_0x3d4172,{'attempts':_0x26f26a,'firstScore':_0x3f84c7,'bestScore':_0x3ac954,'latestScore':_0x5923cc,'points':_0x244c81});}function cleanupQuizOptions(_0x391d27){const _0x3dc1f1=_0x346886,_0x302cbe=(_0x1b74a1,_0x3d1d40)=>_0x3d1d40===0x0?_0x1b74a1:_0x302cbe(_0x3d1d40,_0x1b74a1%_0x3d1d40),_0x160b1b=_0x4240d7=>{const _0x1fbf92=_0x2b13;if(typeof _0x4240d7!==_0x1fbf92(0x467))return null;_0x4240d7=_0x4240d7[_0x1fbf92(0x905)]();const _0x57dc8a=_0x4240d7[_0x1fbf92(0x24f)](/[ /]/)[_0x1fbf92(0x7cb)](_0x55562b=>_0x55562b!=='');if(_0x57dc8a[_0x1fbf92(0x8cf)]===0x3)return parseInt(_0x57dc8a[0x0])+parseInt(_0x57dc8a[0x1])/parseInt(_0x57dc8a[0x2]);else{if(_0x57dc8a['length']===0x2)return parseInt(_0x57dc8a[0x0])/parseInt(_0x57dc8a[0x1]);else{if(_0x57dc8a[_0x1fbf92(0x8cf)]===0x1&&!isNaN(_0x57dc8a[0x0]))return parseFloat(_0x57dc8a[0x0]);}}return null;},_0xbbb1fa=_0x139d19=>{const _0x5a7679=_0x2b13;if(typeof _0x139d19!==_0x5a7679(0x467))return _0x139d19;const _0x244766=_0x139d19[_0x5a7679(0x3b0)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x244766){const _0x311561=parseInt(_0x244766[0x1]);let _0x4164b8=parseInt(_0x244766[0x2]),_0x332fd8=parseInt(_0x244766[0x3]);const _0x1ea40d=_0x302cbe(_0x4164b8,_0x332fd8);_0x4164b8/=_0x1ea40d,_0x332fd8/=_0x1ea40d;if(_0x332fd8===0x1)return(_0x311561+_0x4164b8)[_0x5a7679(0x9b1)]();return _0x311561+'\x20'+_0x4164b8+'/'+_0x332fd8;}return _0x139d19;};return _0x391d27&&_0x391d27['questions']&&_0x391d27['questions'][_0x3dc1f1(0x305)](_0x31409e=>{const _0x601751=_0x3dc1f1;if(_0x31409e['questionType']===_0x601751(0x586)&&_0x31409e[_0x601751(0x77f)]){const _0x395bf4=new Map(),_0x433914=_0x31409e[_0x601751(0x77f)][_0x31409e[_0x601751(0x60a)]];_0x31409e[_0x601751(0x77f)][_0x601751(0x305)](_0x206afb=>{const _0x7bb524=_0x601751,_0x4117d3=_0xbbb1fa(_0x206afb),_0x502532=_0x160b1b(_0x4117d3);_0x502532!==null&&!_0x395bf4[_0x7bb524(0x85b)](_0x502532)&&_0x395bf4[_0x7bb524(0x4e4)](_0x502532,_0x4117d3);}),_0x31409e['options']=Array['from'](_0x395bf4[_0x601751(0x1f0)]());const _0x5bb30a=_0x31409e[_0x601751(0x77f)][_0x601751(0x5c7)](_0x531c27=>_0x531c27===_0xbbb1fa(_0x433914));_0x31409e['correctAnswerIndex']=_0x5bb30a!==-0x1?_0x5bb30a:0x0;}}),_0x391d27;}async function saveQuiz(){const _0x5d0692=_0x346886;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x5d0692(0xa18)]||!userId){showMessage(_0x5d0692(0x3be));return;}const _0x171e47=document[_0x5d0692(0x68b)](_0x5d0692(0x9cd));_0x171e47[_0x5d0692(0x438)]=!![],_0x171e47[_0x5d0692(0x373)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x3e060c=document[_0x5d0692(0x68b)](_0x5d0692(0x23f))[_0x5d0692(0x89c)];let _0x13518b=document[_0x5d0692(0x68b)](_0x5d0692(0x410))[_0x5d0692(0xa25)]['trim']();_0x3e060c&&!_0x13518b['startsWith']('(ก่อนเรียน)')&&(_0x13518b='(ก่อนเรียน)\x20'+_0x13518b);try{const _0x28c638={'resultsDisplay':document[_0x5d0692(0x68b)](_0x5d0692(0x49a))[_0x5d0692(0x967)],'shuffle':document[_0x5d0692(0x68b)]('shuffle-setting-select')['value'],'timerMode':document[_0x5d0692(0x68b)](_0x5d0692(0x48d))['value'],'timerDuration':parseInt(document['getElementById'](_0x5d0692(0x28b))[_0x5d0692(0x967)])||0xa,'passingScore':parseInt(document[_0x5d0692(0x68b)](_0x5d0692(0x606))['value'])||0x0,'isAdaptive':document[_0x5d0692(0x68b)](_0x5d0692(0x794))['checked'],'loopUntilPass':document[_0x5d0692(0x68b)](_0x5d0692(0x3f2))['checked']},_0x13f783=(currentQuizData[_0x5d0692(0xa18)]||[])[_0x5d0692(0x6c4)]((_0x3b67c0,_0x22f634)=>{const _0x2b6214=_0x5d0692,_0x522ffb=document[_0x2b6214(0x68b)](_0x2b6214(0x650))[_0x2b6214(0x967)],_0x2368d2={'id':'q_'+Date['now']()+'_'+_0x22f634,'questionText':_0x3b67c0['questionText']||'','explanation':_0x3b67c0['explanation']||'ไม่มีคำอธิบาย','questionType':_0x3b67c0['questionType']||_0x522ffb,'imageCode':_0x3b67c0[_0x2b6214(0x884)]||null};return(_0x2368d2[_0x2b6214(0x296)]==='multiple_choice'||_0x2368d2[_0x2b6214(0x296)]==='fill_in_with_choices'||_0x2368d2[_0x2b6214(0x296)]===_0x2b6214(0x57b)&&_0x3b67c0[_0x2b6214(0x77f)])&&(_0x2368d2[_0x2b6214(0x77f)]=_0x3b67c0[_0x2b6214(0x77f)]||[],_0x2368d2[_0x2b6214(0x60a)]=_0x3b67c0[_0x2b6214(0x60a)]!==undefined?_0x3b67c0['correctAnswerIndex']:0x0),(_0x2368d2[_0x2b6214(0x296)]==='short_answer'||_0x2368d2[_0x2b6214(0x296)]===_0x2b6214(0x3bf)||_0x2368d2[_0x2b6214(0x296)]===_0x2b6214(0x57b)&&_0x3b67c0[_0x2b6214(0x2a2)])&&(_0x2368d2[_0x2b6214(0x2a2)]=_0x3b67c0[_0x2b6214(0x2a2)]||''),_0x2368d2[_0x2b6214(0x296)]===_0x2b6214(0x74e)&&(_0x2368d2[_0x2b6214(0x8a4)]=_0x3b67c0['correctAnswer']===!![]),_0x2368d2[_0x2b6214(0x296)]==='matching_item'&&(_0x2368d2['stem']=_0x3b67c0[_0x2b6214(0x3db)]||'',_0x2368d2[_0x2b6214(0x463)]=_0x3b67c0[_0x2b6214(0x463)]||'',_0x2368d2[_0x2b6214(0x798)]=_0x3b67c0[_0x2b6214(0x798)]||[]),_0x2368d2;}),_0x149f6a={'topic':_0x13518b,'quizType':currentQuizData['quizType']||_0x5d0692(0x586),'questions':_0x13f783,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5d0692(0x651)](),'status':'active','settings':_0x28c638,'quizMode':_0x3e060c?_0x5d0692(0x8ce):'standard','pairedQuizId':null,'lessonPlan':null};let _0x3dd400;while(!![]){_0x3dd400=Math['floor'](0x3e8+Math[_0x5d0692(0x23e)]()*0x2328)[_0x5d0692(0x9b1)]();const _0x597389=await getDoc(doc(db,_0x5d0692(0x9d8)+appId+_0x5d0692(0x3a7),_0x3dd400));if(!_0x597389[_0x5d0692(0x824)]())break;}await setDoc(doc(db,_0x5d0692(0x9d8)+appId+_0x5d0692(0x3a7),_0x3dd400),_0x149f6a),currentQuizData[_0x5d0692(0x7f0)]=_0x28c638,currentQuizData['id']=_0x3dd400;const _0x5de5cb=document[_0x5d0692(0x68b)]('generated-quiz-actions');_0x5de5cb[_0x5d0692(0x373)]=_0x5d0692(0x32c)+_0x3dd400+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x5d0692(0x68b)]('copy-quiz-id-btn')[_0x5d0692(0x35b)](_0x5d0692(0x8d8),()=>copyTextToClipboard(_0x3dd400,_0x5d0692(0x6b7))),document[_0x5d0692(0x68b)](_0x5d0692(0x621))['addEventListener'](_0x5d0692(0x8d8),()=>handleStartLiveRace(_0x3dd400)),document[_0x5d0692(0x68b)](_0x5d0692(0x70f))[_0x5d0692(0x35b)]('click',()=>startPresentation(currentQuizData)),document[_0x5d0692(0x68b)](_0x5d0692(0x344))[_0x5d0692(0x35b)](_0x5d0692(0x8d8),startAdminTest),showMessage(_0x5d0692(0x572));}catch(_0x5469e6){console[_0x5d0692(0x6f2)]('Error\x20saving\x20quiz:',_0x5469e6),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x171e47['disabled']=![],_0x171e47[_0x5d0692(0x373)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x4446bd=_0x346886,_0x199984=document['getElementById']('move-quiz-modal'),_0x49f6cc=document[_0x4446bd(0x68b)](_0x4446bd(0x503)),_0x9025ee=_0x199984[_0x4446bd(0x293)]('h3'),_0x5f5438=document[_0x4446bd(0x68b)](_0x4446bd(0x670));_0x9025ee[_0x4446bd(0x394)]=_0x4446bd(0x66c),_0x5f5438[_0x4446bd(0x394)]=_0x4446bd(0x614);allProjects[_0x4446bd(0x8cf)]===0x0?(_0x49f6cc[_0x4446bd(0x373)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x5f5438['disabled']=!![]):(_0x49f6cc[_0x4446bd(0x373)]=allProjects[_0x4446bd(0x6c4)](_0x2718e5=>'<option\x20value=\x22'+_0x2718e5['id']+'\x22>'+_0x2718e5[_0x4446bd(0x985)]+_0x4446bd(0x225))[_0x4446bd(0x559)](''),_0x5f5438['disabled']=![]);_0x199984['classList'][_0x4446bd(0x42d)](_0x4446bd(0x901));const _0xf29320=()=>{const _0x159ec9=_0x4446bd,_0x5949dc=_0x49f6cc[_0x159ec9(0x967)];_0x5949dc?(currentProjectId=_0x5949dc,_0x199984['classList']['add'](_0x159ec9(0x901)),saveQuiz(),_0x9025ee[_0x159ec9(0x394)]=_0x159ec9(0x2cc),_0x5f5438[_0x159ec9(0x394)]=_0x159ec9(0x49f),_0x5f5438[_0x159ec9(0x6e9)](_0x159ec9(0x8d8),_0xf29320),_0x5f5438[_0x159ec9(0x35b)](_0x159ec9(0x8d8),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x5f5438['removeEventListener']('click',confirmMoveQuiz),_0x5f5438['addEventListener'](_0x4446bd(0x8d8),_0xf29320);}function copyTextToClipboard(_0x4582a6,_0x18c9dc){const _0x901e14=_0x346886,_0xd17bf5=document['createElement']('textarea');_0xd17bf5[_0x901e14(0x967)]=_0x4582a6,_0xd17bf5['style'][_0x901e14(0x498)]=_0x901e14(0x49c),_0xd17bf5[_0x901e14(0x4bb)][_0x901e14(0x8fc)]='0',document[_0x901e14(0x47e)][_0x901e14(0x5b9)](_0xd17bf5),_0xd17bf5[_0x901e14(0x5bd)](),_0xd17bf5[_0x901e14(0x2b7)]();try{const _0x3b47f2=document['execCommand']('copy');showMessage(_0x3b47f2?_0x18c9dc:_0x901e14(0x526));}catch(_0x47f6de){showMessage(_0x901e14(0x526)),console[_0x901e14(0x6f2)](_0x901e14(0x782),_0x47f6de);}document['body']['removeChild'](_0xd17bf5);}function listenForProjectQuizzes(_0x425fd0){const _0x50d4a0=_0x346886,_0x136a38=collection(db,_0x50d4a0(0x9d8)+appId+_0x50d4a0(0x3a7)),_0x3ecc3c=query(_0x136a38,where(_0x50d4a0(0x2c3),'==',_0x425fd0));unsubscribeQuizzesListener=onSnapshot(_0x3ecc3c,async _0x56ce2a=>{const _0x5f161e=_0x50d4a0;allQuizzes=_0x56ce2a[_0x5f161e(0xa07)]['map'](_0x732400=>({'id':_0x732400['id'],..._0x732400[_0x5f161e(0x3c0)]()})),renderQuizzes();},_0x357919=>{const _0x6a4d21=_0x50d4a0;console[_0x6a4d21(0x6f2)](_0x6a4d21(0x7c7),_0x357919),document[_0x6a4d21(0x68b)](_0x6a4d21(0x332))['innerHTML']=_0x6a4d21(0x272);});}async function renderQuizzes(){const _0x4460a4=_0x346886,_0x3369de=document['getElementById'](_0x4460a4(0x332)),_0x12d228=document[_0x4460a4(0x68b)](_0x4460a4(0x8ee))[_0x4460a4(0x967)][_0x4460a4(0x4c2)]();let _0x2666a4;currentProjectId===_0x4460a4(0x706)?_0x2666a4=starredQuizzes:_0x2666a4=allQuizzes;let _0x10975d=_0x2666a4[_0x4460a4(0x7cb)](_0x2208af=>_0x2208af['topic'][_0x4460a4(0x4c2)]()[_0x4460a4(0x634)](_0x12d228));_0x10975d[_0x4460a4(0x787)]((_0x18fa29,_0x4cce97)=>new Date(_0x4cce97[_0x4460a4(0x3dd)])-new Date(_0x18fa29['createdAt']));if(_0x10975d['length']===0x0){_0x3369de[_0x4460a4(0x373)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x189b8f={},_0x49bcfe=_0x10975d[_0x4460a4(0x6c4)](async _0x500bc1=>{const _0x48ccf9=_0x4460a4,_0x117a46=collection(db,_0x48ccf9(0x9d8)+appId+'/public/data/quizzes/'+_0x500bc1['id']+'/submissions'),_0x569315=await getDocs(_0x117a46);_0x189b8f[_0x500bc1['id']]=_0x569315[_0x48ccf9(0x755)];});await Promise['all'](_0x49bcfe);let _0x11a96d='';_0x10975d[_0x4460a4(0x305)](_0x1004b2=>{const _0x221eac=_0x4460a4,_0x4f58d3=_0x189b8f[_0x1004b2['id']]||0x0,_0x19d4d6=_0x1004b2[_0x221eac(0x719)]||_0x221eac(0x299),_0x1467b9=_0x1004b2['settings']?.[_0x221eac(0x877)]||_0x221eac(0x313);let _0x32d421='',_0x5c5079='';const _0x108148=new Date();let _0x30bcd9=_0x19d4d6;if(_0x19d4d6===_0x221eac(0x247)){const _0x54df74=_0x1004b2['startTime']?new Date(_0x1004b2[_0x221eac(0x6b6)]):null,_0x22195c=_0x1004b2[_0x221eac(0x7f5)]?new Date(_0x1004b2[_0x221eac(0x7f5)]):null;if(_0x22195c&&_0x108148>_0x22195c)_0x30bcd9=_0x221eac(0x4ac);else _0x54df74&&_0x108148<_0x54df74?_0x30bcd9=_0x221eac(0x30d):_0x30bcd9=_0x221eac(0x299);}switch(_0x30bcd9){case _0x221eac(0x4ac):_0x32d421=_0x221eac(0xa41),_0x5c5079=_0x221eac(0x5f2);break;case'scheduled_pending':_0x32d421=_0x221eac(0x6aa),_0x5c5079=_0x221eac(0x2df);break;case _0x221eac(0x299):_0x32d421=_0x1467b9!==_0x221eac(0x313)?_0x221eac(0x925):_0x221eac(0xa29),_0x5c5079=_0x221eac(0x227);break;default:_0x32d421='ตั้งเวลา\x20(เปิด)',_0x5c5079=_0x221eac(0x227);break;}let _0x50e54f='';const _0x40fc67={'day':'2-digit','month':_0x221eac(0x6da),'year':_0x221eac(0x757),'hour':_0x221eac(0x6da),'minute':_0x221eac(0x6da),'hour12':![]};if(_0x19d4d6===_0x221eac(0x247)){if(_0x1004b2[_0x221eac(0x6b6)])_0x50e54f+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x1004b2[_0x221eac(0x6b6)])[_0x221eac(0x40a)]('th-TH',_0x40fc67)+_0x221eac(0x96b);if(_0x1004b2[_0x221eac(0x7f5)])_0x50e54f+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x1004b2[_0x221eac(0x7f5)])[_0x221eac(0x40a)]('th-TH',_0x40fc67)+_0x221eac(0x96b);}let _0x24eee9='';if(_0x1004b2[_0x221eac(0xa17)]){const _0xd052f2=allQuizzes[_0x221eac(0x94f)](_0x4321f2=>_0x4321f2['id']===_0x1004b2[_0x221eac(0xa17)]);if(_0xd052f2){let _0x14dd47,_0x2db365;new Date(_0x1004b2['createdAt'])<new Date(_0xd052f2[_0x221eac(0x3dd)])?(_0x14dd47=_0x1004b2['id'],_0x2db365=_0xd052f2['id']):(_0x14dd47=_0xd052f2['id'],_0x2db365=_0x1004b2['id']),_0x24eee9+=_0x221eac(0x6f8)+_0x2db365+_0x221eac(0x8b3)+_0x14dd47+_0x221eac(0x203);}}else _0x1004b2[_0x221eac(0xa15)]===_0x221eac(0x8ce)&&(_0x24eee9+=_0x221eac(0x285)+_0x1004b2['id']+_0x221eac(0x860));if(_0x1004b2['quizMode']==='pre-test'&&_0x4f58d3>0x0)_0x24eee9+=_0x221eac(0x285)+_0x1004b2['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x1004b2[_0x221eac(0xa17)]&&_0x1004b2[_0x221eac(0xa15)]!==_0x221eac(0x8ce)&&_0x4f58d3>0x0&&(_0x24eee9+=_0x221eac(0x285)+_0x1004b2['id']+_0x221eac(0x3ea));let _0x52cce3='';_0x1004b2[_0x221eac(0xa17)]?_0x52cce3=_0x221eac(0x249)+_0x1004b2['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x52cce3=_0x221eac(0x249)+_0x1004b2['id']+_0x221eac(0xa2a),_0x11a96d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x1004b2['id']+_0x221eac(0x5e6)+_0x1004b2[_0x221eac(0x9e3)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x1004b2[_0x221eac(0xa18)][_0x221eac(0x8cf)]+_0x221eac(0x4d3)+new Date(_0x1004b2[_0x221eac(0x3dd)])[_0x221eac(0x40a)](_0x221eac(0x26c))+_0x221eac(0x919)+_0x4f58d3+_0x221eac(0x57a)+_0x50e54f+_0x221eac(0x7ae)+_0x5c5079+'\x22>'+_0x32d421+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1004b2['id']+_0x221eac(0x693)+_0x1004b2['id']+_0x221eac(0x64a)+(_0x1004b2[_0x221eac(0x930)]?'fas\x20fa-star\x20text-yellow-500':_0x221eac(0x61c))+_0x221eac(0x8c1)+_0x24eee9+_0x221eac(0x36b)+_0x1004b2['id']+_0x221eac(0x8b7)+_0x1004b2['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1004b2['id']+_0x221eac(0x4fa)+_0x1004b2['id']+_0x221eac(0x34e)+_0x1004b2['id']+_0x221eac(0x723)+_0x1004b2['id']+_0x221eac(0x8a3)+_0x1004b2['id']+_0x221eac(0x44a)+_0x1004b2[_0x221eac(0x9e3)]+_0x221eac(0x802)+_0x1004b2['id']+_0x221eac(0x964)+_0x1004b2['id']+_0x221eac(0x87f)+_0x52cce3+_0x221eac(0x6d0)+_0x1004b2['id']+_0x221eac(0x6cb)+_0x1004b2['id']+_0x221eac(0xa34)+_0x1004b2['id']+_0x221eac(0x9da)+_0x1004b2['id']+_0x221eac(0x99d)+_0x1004b2['id']+_0x221eac(0x44a)+_0x1004b2[_0x221eac(0x9e3)]+_0x221eac(0x60b)+_0x1004b2['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3369de[_0x4460a4(0x373)]=_0x11a96d,document['querySelectorAll'](_0x4460a4(0x661))[_0x4460a4(0x305)](_0x3717db=>{const _0x3b67de=_0x4460a4;_0x3717db[_0x3b67de(0x35b)](_0x3b67de(0x8d8),()=>{const _0x31af41=_0x3b67de,_0x25463d=_0x3717db[_0x31af41(0x898)][_0x31af41(0x57d)];showQuizDetailView(_0x25463d);});});}async function handleUnpairQuiz(_0x4595cd){const _0xbae7a6=_0x346886,_0x350dda=allQuizzes[_0xbae7a6(0x94f)](_0x35e9c5=>_0x35e9c5['id']===_0x4595cd);if(!_0x350dda||!_0x350dda['pairedQuizId']){showMessage(_0xbae7a6(0x7ed));return;}showConfirmation(_0xbae7a6(0x425),async()=>{const _0xaf449a=_0xbae7a6;try{const _0x277eb1=doc(db,_0xaf449a(0x9d8)+appId+_0xaf449a(0x3a7),_0x4595cd),_0x1b154b=doc(db,'artifacts/'+appId+_0xaf449a(0x3a7),_0x350dda[_0xaf449a(0xa17)]),_0x47a068=writeBatch(db);_0x47a068[_0xaf449a(0x402)](_0x277eb1,{'pairedQuizId':null}),_0x47a068[_0xaf449a(0x402)](_0x1b154b,{'pairedQuizId':null}),await _0x47a068[_0xaf449a(0x918)](),showMessage(_0xaf449a(0x359));}catch(_0x4c0e2b){console[_0xaf449a(0x6f2)]('Error\x20unpairing\x20quizzes:',_0x4c0e2b),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x5666c7,_0x5f53eb){const _0x25ea6=_0x346886,_0x59dca7=window['open']('','_blank'),_0x2c0312=_0x25ea6(0x7cc)+_0x5f53eb['topic']+_0x25ea6(0x383)+_0x5f53eb[_0x25ea6(0x9e3)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5666c7[_0x25ea6(0x426)][_0x25ea6(0x6c4)](_0x5c3847=>_0x25ea6(0x987)+_0x5c3847+_0x25ea6(0x73d))[_0x25ea6(0x559)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x5666c7[_0x25ea6(0x6a4)]+_0x25ea6(0x1f5)+_0x5666c7[_0x25ea6(0x228)][_0x25ea6(0x6c4)](_0x4e84a3=>_0x25ea6(0x423)+_0x4e84a3[_0x25ea6(0x9ad)]+_0x25ea6(0x6e3)+_0x4e84a3[_0x25ea6(0x71e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x25ea6(0x7ec);_0x59dca7[_0x25ea6(0x59c)][_0x25ea6(0x358)](_0x2c0312),_0x59dca7[_0x25ea6(0x59c)][_0x25ea6(0x660)](),_0x59dca7[_0x25ea6(0xa0a)]=function(){setTimeout(()=>{const _0x347593=_0x2b13;_0x59dca7[_0x347593(0x494)]();},0x3e8);};}async function handleAiFixFormula(_0x4b574){const _0x1d9c85=_0x346886,_0x373020=document[_0x1d9c85(0x293)](_0x1d9c85(0x81d)+_0x4b574+'\x22]');if(!_0x373020)return;const _0x3f5288=_0x373020['dataset']['qType'],_0x4bae0d=_0x373020['querySelector'](_0x1d9c85(0x4ae));let _0x31aa45={'question':_0x373020[_0x1d9c85(0x293)]('textarea')['value']};switch(_0x3f5288){case'multiple_choice':_0x31aa45[_0x1d9c85(0x77f)]=Array['from'](_0x373020[_0x1d9c85(0x3df)](_0x1d9c85(0x9c9)))[_0x1d9c85(0x6c4)](_0x5eabb9=>_0x5eabb9[_0x1d9c85(0x967)]);break;case _0x1d9c85(0x38f):_0x31aa45[_0x1d9c85(0x2a2)]=_0x373020[_0x1d9c85(0x293)]('.ideal-answer-input')['value'];break;case _0x1d9c85(0x5a4):_0x31aa45[_0x1d9c85(0x463)]=_0x373020[_0x1d9c85(0x293)](_0x1d9c85(0x65b))[_0x1d9c85(0x967)];break;}_0x4bae0d[_0x1d9c85(0x373)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x4bae0d[_0x1d9c85(0x438)]=!![];try{const _0x307d13=_0x1d9c85(0x9e6)+JSON[_0x1d9c85(0x2cf)](_0x31aa45)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3521cc={'type':_0x1d9c85(0x206),'properties':{'fixedData':{'type':_0x1d9c85(0x206),'properties':{'question':{'type':_0x1d9c85(0x9d7)},'options':{'type':_0x1d9c85(0x813),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x1d9c85(0x9d7)},'correctResponse':{'type':_0x1d9c85(0x9d7)}},'required':['question']}},'required':[_0x1d9c85(0x2bb)]},_0x2ee36d=await callAnalysisApi(_0x307d13,_0x3521cc);if(_0x2ee36d&&_0x2ee36d['fixedData']){const _0x45bf44=_0x2ee36d[_0x1d9c85(0x2bb)];_0x373020[_0x1d9c85(0x293)](_0x1d9c85(0x25e))[_0x1d9c85(0x967)]=_0x45bf44['question']||_0x31aa45[_0x1d9c85(0x9ad)];switch(_0x3f5288){case _0x1d9c85(0x586):_0x45bf44[_0x1d9c85(0x77f)]&&_0x45bf44[_0x1d9c85(0x77f)]['length']>0x0&&_0x373020[_0x1d9c85(0x3df)](_0x1d9c85(0x9c9))[_0x1d9c85(0x305)]((_0x224fec,_0x3d4fea)=>{const _0x5e45ab=_0x1d9c85;_0x224fec['value']=_0x45bf44[_0x5e45ab(0x77f)][_0x3d4fea]||_0x31aa45[_0x5e45ab(0x77f)][_0x3d4fea];});break;case _0x1d9c85(0x38f):_0x373020['querySelector']('.ideal-answer-input')[_0x1d9c85(0x967)]=_0x45bf44['idealAnswer']||_0x31aa45[_0x1d9c85(0x2a2)];break;case _0x1d9c85(0x5a4):_0x373020[_0x1d9c85(0x293)](_0x1d9c85(0x65b))[_0x1d9c85(0x967)]=_0x45bf44['correctResponse']||_0x31aa45[_0x1d9c85(0x463)];break;}if(_0x31aa45['question']!==_0x45bf44[_0x1d9c85(0x9ad)])try{const _0x203f4b=collection(db,'artifacts/'+appId+_0x1d9c85(0x32d));await addDoc(_0x203f4b,{'broken':_0x31aa45[_0x1d9c85(0x9ad)],'fixed':_0x45bf44[_0x1d9c85(0x9ad)],'createdAt':serverTimestamp()});}catch(_0x10099c){console[_0x1d9c85(0x6f2)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x10099c);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x1d9c85(0x995));}catch(_0x4219b3){console[_0x1d9c85(0x6f2)](_0x1d9c85(0x78e),_0x4219b3),showMessage(_0x1d9c85(0xa11));}finally{_0x4bae0d[_0x1d9c85(0x373)]=_0x1d9c85(0x3af),_0x4bae0d[_0x1d9c85(0x438)]=![];}}async function handleGenerateLessonPlan(_0x56c489){const _0x439126=_0x346886;showMessage(_0x439126(0x7e6));try{const _0x53cb6d=doc(db,_0x439126(0x9d8)+appId+_0x439126(0x3a7),_0x56c489),_0x582f4b=await getDoc(_0x53cb6d);if(!_0x582f4b[_0x439126(0x824)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x55b6c1={'id':_0x56c489,..._0x582f4b[_0x439126(0x3c0)]()},_0x29b510=collection(db,'artifacts/'+appId+_0x439126(0x3a7),_0x56c489,_0x439126(0x725)),_0x3fd95b=await getDocs(_0x29b510),_0x3d19f5=_0x3fd95b[_0x439126(0xa07)]['map'](_0x136e95=>_0x136e95[_0x439126(0x3c0)]());if(_0x3d19f5[_0x439126(0x8cf)]===0x0)throw new Error(_0x439126(0x489));const _0x543934=calculateItemAnalysis(_0x55b6c1,_0x3d19f5)[_0x439126(0x41e)],_0x258698=calculateDistractorAnalysis(_0x55b6c1,_0x3d19f5),_0x52489a=_0x26dd4d=>{const _0x9e1bce=_0x439126;if(!_0x26dd4d)return'';return _0x26dd4d[_0x9e1bce(0x2e5)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x9e1bce(0x2e5)](/\n/g,'\x5cn');};let _0x272196=_0x439126(0x6fb);_0x55b6c1[_0x439126(0xa18)][_0x439126(0x305)]((_0x24ad87,_0x4baba2)=>{const _0x550359=_0x439126,_0x5c1bd9=_0x543934[_0x4baba2]?.['p'][_0x550359(0x55a)](0x2)||_0x550359(0x971),_0x4fdceb=_0x543934[_0x4baba2]?.['r'][_0x550359(0x55a)](0x2)||_0x550359(0x971),_0x44b63d=_0x52489a(_0x24ad87[_0x550359(0x85d)]||_0x24ad87[_0x550359(0x3db)]);_0x272196+=_0x550359(0x49b)+(_0x4baba2+0x1)+'\x20(p='+_0x5c1bd9+',\x20r='+_0x4fdceb+_0x550359(0x6a8)+_0x44b63d+'\x5cn';if(_0x24ad87[_0x550359(0x296)]===_0x550359(0x586)&&_0x258698[_0x4baba2]){const _0x1c5749=_0x258698[_0x4baba2],_0x5d8b3a=Object['keys'](_0x1c5749)['filter'](_0x5b86ce=>parseInt(_0x5b86ce)!==_0x24ad87[_0x550359(0x60a)])[_0x550359(0x787)]((_0x4a08c0,_0x2730c5)=>_0x1c5749[_0x2730c5][_0x550359(0x831)]-_0x1c5749[_0x4a08c0][_0x550359(0x831)])[0x0];if(_0x5d8b3a&&_0x1c5749[_0x5d8b3a][_0x550359(0x831)]>0x0){const _0x31ac10=_0x52489a(_0x1c5749[_0x5d8b3a][_0x550359(0x581)]);_0x272196+=_0x550359(0xa0c)+_0x31ac10+_0x550359(0x9c0);}}});const _0x2167c2=_0x439126(0x763)+_0x55b6c1[_0x439126(0x9e3)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x272196+_0x439126(0x685),_0x417fb4={'type':_0x439126(0x206),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x439126(0x9d7)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x439126(0x813),'items':{'type':'OBJECT','properties':{'question':{'type':_0x439126(0x9d7)},'solution':{'type':'STRING'}}}}},'required':[_0x439126(0x426),'teachingContent',_0x439126(0x228)]},_0x490d74=await callAnalysisApi(_0x2167c2,_0x417fb4);await updateDoc(_0x53cb6d,{'lessonPlan':_0x490d74});const _0x5dda0b=_0x439126(0x8ab)+_0x55b6c1[_0x439126(0x9e3)]+_0x439126(0x649)+_0x490d74[_0x439126(0x426)][_0x439126(0x6c4)](_0x437358=>_0x439126(0x987)+_0x437358+'</li>')[_0x439126(0x559)]('')+_0x439126(0x5db)+_0x490d74[_0x439126(0x6a4)]+_0x439126(0x5b1)+_0x490d74[_0x439126(0x228)]['map'](_0x28a412=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x28a412['question']+_0x439126(0x4f0)+_0x28a412[_0x439126(0x71e)]+_0x439126(0x694))[_0x439126(0x559)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x439126(0x807))[_0x439126(0x394)]=_0x439126(0x2f4)+_0x55b6c1[_0x439126(0x9e3)],document[_0x439126(0x68b)]('lesson-plan-content')[_0x439126(0x373)]=_0x5dda0b,document['getElementById'](_0x439126(0x63c))['classList'][_0x439126(0x42d)](_0x439126(0x901));if(window[_0x439126(0x31e)])MathJax[_0x439126(0x3f5)]();messageModal['classList'][_0x439126(0xa01)](_0x439126(0x901));}catch(_0x3c2495){console[_0x439126(0x6f2)](_0x439126(0x5c0),_0x3c2495),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3c2495[_0x439126(0x6ff)]);}}async function handleDuplicateQuiz(_0x2da9ee){const _0x122db7=_0x346886;try{const _0x350970=doc(db,_0x122db7(0x9d8)+appId+_0x122db7(0x3a7),_0x2da9ee),_0x229dc2=await getDoc(_0x350970);if(_0x229dc2[_0x122db7(0x824)]()){const _0x264fc7=_0x229dc2[_0x122db7(0x3c0)]();let _0x3e5c3c='',_0x1b3ae2=_0x122db7(0x334),_0x2d04a8=null;if(_0x264fc7[_0x122db7(0xa15)]===_0x122db7(0x8ce)){let _0x20c074=_0x264fc7[_0x122db7(0x9e3)][_0x122db7(0x2e5)](_0x122db7(0x3a0),'')[_0x122db7(0x905)]();_0x3e5c3c=_0x122db7(0x3ba)+_0x20c074,_0x1b3ae2='post-test',_0x2d04a8=_0x2da9ee;}else _0x3e5c3c=_0x122db7(0x6b1)+_0x264fc7[_0x122db7(0x9e3)];const _0x5a773f={..._0x264fc7,'topic':_0x3e5c3c,'createdAt':new Date()['toISOString'](),'quizMode':_0x1b3ae2,'pairedQuizId':_0x2d04a8};let _0x37bd25;while(!![]){_0x37bd25=Math[_0x122db7(0x337)](0x3e8+Math[_0x122db7(0x23e)]()*0x2328)['toString']();const _0x1960ff=await getDoc(doc(db,_0x122db7(0x9d8)+appId+_0x122db7(0x3a7),_0x37bd25));if(!_0x1960ff[_0x122db7(0x824)]())break;}const _0x20ab4f=doc(db,_0x122db7(0x9d8)+appId+_0x122db7(0x3a7),_0x37bd25);await setDoc(_0x20ab4f,_0x5a773f),_0x5a773f[_0x122db7(0xa15)]===_0x122db7(0x8a8)&&await updateDoc(_0x350970,{'pairedQuizId':_0x37bd25}),showMessage(_0x122db7(0x7ea));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x382d21){console[_0x122db7(0x6f2)](_0x122db7(0x86a),_0x382d21),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x223a84,_0x2eca62=!![]){const _0x303ed5=_0x346886;try{const _0x484ddb=writeBatch(db),_0x3e8b8c=collection(db,_0x303ed5(0x9d8)+appId+_0x303ed5(0x867)+_0x223a84+'/submissions'),_0x2cdc08=await getDocs(_0x3e8b8c);_0x2cdc08[_0x303ed5(0x305)](_0x11885b=>{const _0x12a4b4=_0x303ed5;_0x484ddb[_0x12a4b4(0x3d8)](doc(_0x3e8b8c,_0x11885b['id']));});const _0x4ee639=doc(db,_0x303ed5(0x9d8)+appId+'/public/data/quizzes',_0x223a84);_0x484ddb[_0x303ed5(0x3d8)](_0x4ee639),await _0x484ddb[_0x303ed5(0x918)](),_0x2eca62&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x1eeccb){console[_0x303ed5(0x6f2)]('Error\x20deleting\x20quiz:',_0x1eeccb),_0x2eca62&&showMessage(_0x303ed5(0x4a9));}}async function showQuizDetailView(_0x29fb00){const _0x35eb6d=_0x346886;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x35eb6d(0x235));try{const _0x2755b8=doc(db,_0x35eb6d(0x9d8)+appId+'/public/data/quizzes',_0x29fb00),_0x22baa8=await getDoc(_0x2755b8);if(!_0x22baa8[_0x35eb6d(0x824)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x11e368={'id':_0x22baa8['id'],..._0x22baa8['data']()};currentQuizData=_0x11e368;const _0xeaab97=doc(db,_0x35eb6d(0x9d8)+appId+_0x35eb6d(0x24d),_0x11e368['projectId']),_0x106ccd=await getDoc(_0xeaab97);_0x106ccd[_0x35eb6d(0x824)]()?(currentProjectData=_0x106ccd['data'](),currentProjectId=_0x11e368[_0x35eb6d(0x2c3)]):(currentProjectData={'students':[]},currentProjectId=_0x11e368[_0x35eb6d(0x2c3)]);document[_0x35eb6d(0x68b)](_0x35eb6d(0x219))[_0x35eb6d(0x394)]=_0x11e368['topic'],document[_0x35eb6d(0x68b)](_0x35eb6d(0x821))[_0x35eb6d(0x394)]=_0x29fb00;const _0x45bd4d=collection(db,_0x35eb6d(0x9d8)+appId+'/public/data/quizzes',_0x29fb00,_0x35eb6d(0x725));unsubscribeSubmissionsListener=onSnapshot(_0x45bd4d,_0x24d0a4=>{const _0x11bbf3=_0x35eb6d,_0x521085=_0x24d0a4[_0x11bbf3(0xa07)][_0x11bbf3(0x6c4)](_0x3af1b4=>({'id':_0x3af1b4['id'],..._0x3af1b4[_0x11bbf3(0x3c0)]()}));currentSubmissions=_0x521085;const _0x20d720=_0x521085['filter'](_0x8afc72=>_0x8afc72[_0x11bbf3(0x3ce)]&&_0x8afc72['attempts'][_0x11bbf3(0x8cf)]>0x0);renderBehaviorLog(_0x521085),renderAnswerGrid(currentProjectData[_0x11bbf3(0x408)],_0x20d720,_0x11e368),renderAnalytics(_0x11e368,_0x20d720),renderQuizResultsTable(currentProjectData[_0x11bbf3(0x408)],_0x521085,_0x11e368),renderQuizLeaderboard(_0x20d720,_0x11e368,_0x11bbf3(0x792));}),showView(_0x35eb6d(0x8f7));}catch(_0x13c5a4){console[_0x35eb6d(0x6f2)](_0x35eb6d(0x9db),_0x13c5a4),showMessage(_0x35eb6d(0x3e3));}}function renderAnswerGrid(_0x3d6c2c,_0x41d7e2,_0x57dd2e){const _0x1fb2c9=_0x346886,_0x2fc830=document['getElementById'](_0x1fb2c9(0x94e));if(!_0x2fc830)return;if(!_0x3d6c2c||_0x3d6c2c[_0x1fb2c9(0x8cf)]===0x0){_0x2fc830['innerHTML']=_0x1fb2c9(0x31c);return;}const _0x17c847=_0x57dd2e['questions'],_0x16d689=_0x41d7e2[_0x1fb2c9(0x742)]((_0x31f945,_0x2ea387)=>{return _0x31f945[_0x2ea387['studentName']]=_0x2ea387,_0x31f945;},{}),_0x589e26=_0x40ab49=>String[_0x1fb2c9(0x2e2)](0x41+_0x40ab49),_0x30aa74=_0x113b49=>{const _0x5ae4be=_0x1fb2c9,_0x2496b8=_0x113b49[_0x5ae4be(0x296)]||_0x57dd2e['quizType'];switch(_0x2496b8){case'multiple_choice':return _0x113b49[_0x5ae4be(0x77f)]&&_0x113b49[_0x5ae4be(0x77f)][_0x5ae4be(0x8cf)]>_0x113b49[_0x5ae4be(0x60a)]?_0x589e26(_0x113b49[_0x5ae4be(0x60a)]):'-';case _0x5ae4be(0x74e):return _0x113b49[_0x5ae4be(0x8a4)]?'ใช่':_0x5ae4be(0x726);case _0x5ae4be(0x5a4):return _0x113b49['correctResponse']||'-';case'short_answer':return _0x5ae4be(0x303);default:return'-';}},_0x16ce18=(_0x1538fc,_0x192837)=>{const _0x42822b=_0x1fb2c9;if(_0x192837['answer']===null||_0x192837[_0x42822b(0x797)]===undefined)return'-';const _0x17bd31=_0x1538fc['questionType']||_0x57dd2e[_0x42822b(0x3fa)];switch(_0x17bd31){case _0x42822b(0x586):const _0x3f1a63=_0x1538fc[_0x42822b(0x77f)]['findIndex'](_0x1c0812=>_0x1c0812===_0x192837[_0x42822b(0x407)]);return _0x3f1a63!==-0x1?_0x589e26(_0x3f1a63):_0x192837['answerText']||'-';case _0x42822b(0x74e):return _0x192837[_0x42822b(0x797)]===_0x42822b(0x732)||_0x192837['answer']===!![]?_0x42822b(0x568):_0x42822b(0x726);default:return _0x192837[_0x42822b(0x797)];}};let _0x4f4081=_0x1fb2c9(0x806)+_0x17c847[_0x1fb2c9(0x6c4)]((_0x469ac8,_0x4d8df0)=>_0x1fb2c9(0x795)+(_0x4d8df0+0x1)+_0x1fb2c9(0x2ca))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17c847[_0x1fb2c9(0x6c4)](_0x53da43=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x30aa74(_0x53da43)+'</td>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x3d6c2c[_0x1fb2c9(0x305)](_0x1fa5b1=>{const _0x4d978a=_0x1fb2c9;_0x4f4081+='<tr>',_0x4f4081+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x1fa5b1+_0x4d978a(0x9a0);const _0x3b9e2d=_0x16d689[_0x1fa5b1];if(_0x3b9e2d){const _0x28b1ed=_0x3b9e2d['attempts'][_0x3b9e2d[_0x4d978a(0x3ce)][_0x4d978a(0x8cf)]-0x1];_0x17c847[_0x4d978a(0x305)]((_0x363efa,_0xbac5b9)=>{const _0x369e07=_0x4d978a,_0x3b4ec3=_0x28b1ed[_0x369e07(0x319)][_0x369e07(0x94f)](_0x15eb7d=>_0x15eb7d[_0x369e07(0x9fd)]===(_0x363efa['stem']||_0x363efa[_0x369e07(0x85d)]));if(_0x3b4ec3){let _0x54af6a=![];const _0x17797c=_0x363efa['questionType']||_0x57dd2e[_0x369e07(0x3fa)];if(_0x3b4ec3['answer']!==null&&_0x3b4ec3['answer']!==undefined)switch(_0x17797c){case _0x369e07(0x586):const _0x5d398b=_0x363efa[_0x369e07(0x77f)][_0x363efa[_0x369e07(0x60a)]];_0x54af6a=_0x3b4ec3[_0x369e07(0x407)]===_0x5d398b;break;case'true_false':const _0x40a5b1=_0x3b4ec3[_0x369e07(0x797)]===!![]||_0x3b4ec3['answer']===_0x369e07(0x732);_0x54af6a=_0x40a5b1===_0x363efa[_0x369e07(0x8a4)];break;case'matching_item':_0x54af6a=_0x3b4ec3['answer']===_0x363efa[_0x369e07(0x463)];break;default:_0x54af6a=_0x3b4ec3[_0x369e07(0x5d2)];break;}const _0x5d24b1=_0x54af6a?'bg-green-100':_0x369e07(0x6fe);_0x4f4081+=_0x369e07(0xa12)+_0x5d24b1+'\x22>'+_0x16ce18(_0x363efa,_0x3b4ec3)+_0x369e07(0x9a0);}else _0x4f4081+=_0x369e07(0x5d8);});}else _0x4f4081+=_0x17c847['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x4d978a(0x559)]('');_0x4f4081+=_0x4d978a(0x1ff);}),_0x4f4081+='</tbody></table>',_0x2fc830['innerHTML']=_0x4f4081;}function renderQuizResultsTable(_0x10385e,_0x18d23a,_0x7edbfa){const _0x45e9a1=_0x346886,_0x589a5b=_0x18d23a[_0x45e9a1(0x742)]((_0x300167,_0x1e94a7)=>{const _0x49684f=_0x45e9a1;return _0x300167[_0x1e94a7[_0x49684f(0x7ad)]]=_0x1e94a7,_0x300167;},{}),_0x116508=document['querySelector'](_0x45e9a1(0x7b4));_0x116508&&!_0x116508[_0x45e9a1(0x373)][_0x45e9a1(0x634)]('จัดการ')&&(_0x116508[_0x45e9a1(0x373)]+=_0x45e9a1(0x46a));const _0x26e223=document[_0x45e9a1(0x68b)](_0x45e9a1(0x9be));if(!_0x10385e||_0x10385e[_0x45e9a1(0x8cf)]===0x0){_0x26e223[_0x45e9a1(0x373)]=_0x45e9a1(0x3bc);return;}const _0x167f37=_0x7edbfa['isRemedial']===!![],_0x1f55a0=_0x7edbfa['settings']?.[_0x45e9a1(0x9ac)]??-0x1;let _0x7f1062='';_0x10385e['forEach'](_0x149400=>{const _0x4e4c53=_0x45e9a1,_0x6b8454=_0x589a5b[_0x149400];let _0x1f3f3b=_0x4e4c53(0x7cf)+(_0x167f37?_0x4e4c53(0x784):_0x4e4c53(0x33d))+'\x22>'+(_0x167f37?'สอบซ่อม':'สอบปกติ')+'</span></td>';if(_0x6b8454){if(_0x6b8454[_0x4e4c53(0x3ce)]&&_0x6b8454[_0x4e4c53(0x3ce)][_0x4e4c53(0x8cf)]>0x0){let _0x3a1a8e=_0x167f37?_0x6b8454[_0x4e4c53(0x27b)]===_0x6b8454['totalQuestions']:_0x1f55a0!==-0x1&&_0x6b8454[_0x4e4c53(0x27b)]>=_0x1f55a0;const _0x5c3c4a=_0x3a1a8e?_0x4e4c53(0x830):_0x4e4c53(0x67e),_0x19645d=_0x3a1a8e?_0x4e4c53(0x6b4):_0x4e4c53(0x887),_0x26f2dd=_0x4e4c53(0x3b5)+_0x5c3c4a+'\x22>'+_0x19645d+_0x4e4c53(0x396),_0x58d1cd='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x6b8454[_0x4e4c53(0x3ce)]?.[_0x4e4c53(0x8cf)]||0x1)+_0x4e4c53(0x676);_0x7f1062+=_0x4e4c53(0x7c6)+_0x149400+_0x4e4c53(0x520)+_0x6b8454[_0x4e4c53(0x27b)]+_0x4e4c53(0x818)+_0x6b8454[_0x4e4c53(0x734)]+_0x4e4c53(0x70e)+_0x26f2dd+_0x4e4c53(0x3ad)+_0x1f3f3b+_0x4e4c53(0x3ed)+_0x6b8454[_0x4e4c53(0x909)]+_0x4e4c53(0x818)+_0x6b8454[_0x4e4c53(0x734)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x6b8454[_0x4e4c53(0x317)]+_0x4e4c53(0x818)+_0x6b8454[_0x4e4c53(0x734)]+_0x4e4c53(0x9cb)+(_0x6b8454[_0x4e4c53(0x601)]||0x0)+_0x4e4c53(0x70e)+_0x58d1cd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x6b8454[_0x4e4c53(0x3ff)])[_0x4e4c53(0x40a)](_0x4e4c53(0x26c))+_0x4e4c53(0x314)+_0x149400+_0x4e4c53(0x7f3);}else{const _0x11e3eb='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x7f1062+=_0x4e4c53(0x4e3)+_0x149400+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f3f3b+_0x4e4c53(0x6b3)+_0x11e3eb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x6b8454['startedAt'])[_0x4e4c53(0x40a)](_0x4e4c53(0x26c))+_0x4e4c53(0xa22)+_0x149400+_0x4e4c53(0x7f3);}}else{const _0x125219='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x7f1062+=_0x4e4c53(0x2d4)+_0x149400+_0x4e4c53(0x89f)+_0x1f3f3b+_0x4e4c53(0xa38)+_0x125219+_0x4e4c53(0x540);}}),_0x26e223[_0x45e9a1(0x373)]=_0x7f1062;}async function confirmRenameQuiz(){const _0x336fb0=_0x346886,_0x3db23b=document[_0x336fb0(0x68b)]('rename-quiz-input')[_0x336fb0(0x967)][_0x336fb0(0x905)]();if(!_0x3db23b){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x5cc29d=doc(db,_0x336fb0(0x9d8)+appId+_0x336fb0(0x3a7),actionTargetId);try{await updateDoc(_0x5cc29d,{'topic':_0x3db23b}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList']['add'](_0x336fb0(0x901)),actionTargetId=null;}catch(_0x53ce59){console['error']('Error\x20renaming\x20quiz:',_0x53ce59),showMessage(_0x336fb0(0x61f));}}async function handleMoveQuiz(_0x147a9b){const _0x183ab7=_0x346886;actionTargetId=_0x147a9b;const _0x83f484=document[_0x183ab7(0x68b)]('move-quiz-project-select');_0x83f484[_0x183ab7(0x373)]=_0x183ab7(0x8c0),moveQuizModal['classList'][_0x183ab7(0x42d)]('hidden');try{const _0x45babb=collection(db,_0x183ab7(0x9d8)+appId+_0x183ab7(0x24d)),_0x1be124=await getDocs(_0x45babb),_0x4e0c55=_0x1be124[_0x183ab7(0xa07)][_0x183ab7(0x6c4)](_0x2b9c63=>({'id':_0x2b9c63['id'],..._0x2b9c63[_0x183ab7(0x3c0)]()})),_0x48894e=_0x4e0c55['filter'](_0x1706f1=>_0x1706f1['id']!==currentProjectId);if(_0x48894e['length']===0x0){_0x83f484[_0x183ab7(0x373)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById']('confirm-move-quiz-btn')[_0x183ab7(0x438)]=!![];return;}_0x83f484['innerHTML']=_0x48894e[_0x183ab7(0x6c4)](_0x354553=>_0x183ab7(0x957)+_0x354553['id']+'\x22>'+_0x354553[_0x183ab7(0x985)]+'</option>')[_0x183ab7(0x559)](''),document[_0x183ab7(0x68b)](_0x183ab7(0x670))['disabled']=![];}catch(_0x4b4143){console[_0x183ab7(0x6f2)](_0x183ab7(0x68e),_0x4b4143),showMessage(_0x183ab7(0x4e6)),moveQuizModal[_0x183ab7(0x8f4)][_0x183ab7(0xa01)](_0x183ab7(0x901));}}async function confirmMoveQuiz(){const _0x7bb37b=_0x346886,_0x23726d=document[_0x7bb37b(0x68b)](_0x7bb37b(0x503))[_0x7bb37b(0x967)];if(!_0x23726d){showMessage(_0x7bb37b(0x470));return;}if(!actionTargetId)return;const _0x26bb7b=doc(db,_0x7bb37b(0x9d8)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x26bb7b,{'projectId':_0x23726d}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x7bb37b(0x8f4)][_0x7bb37b(0xa01)]('hidden'),actionTargetId=null;}catch(_0x107a9d){console['error'](_0x7bb37b(0x257),_0x107a9d),showMessage(_0x7bb37b(0x287));}}async function handleQuizSettings(_0x184199){const _0x1df24d=_0x346886;actionTargetId=_0x184199;const _0x43905c=doc(db,_0x1df24d(0x9d8)+appId+_0x1df24d(0x3a7),_0x184199);try{const _0x210638=await getDoc(_0x43905c);if(_0x210638['exists']()){const _0x24013d=_0x210638['data'](),_0xaeda35=_0x24013d[_0x1df24d(0x7f0)]||{},_0x3ce359=_0x24013d[_0x1df24d(0xa18)]['length'];document[_0x1df24d(0x68b)](_0x1df24d(0x6ec))['value']=_0xaeda35['shuffle']||_0x1df24d(0x313),document[_0x1df24d(0x68b)](_0x1df24d(0x5a7))['value']=_0xaeda35['resultsDisplay']||_0x1df24d(0x851),document['getElementById'](_0x1df24d(0x8a7))[_0x1df24d(0x967)]=_0xaeda35['timerMode']||_0x1df24d(0x313),document[_0x1df24d(0x68b)](_0x1df24d(0x372))[_0x1df24d(0x967)]=_0xaeda35['timerDuration']||0xa,document[_0x1df24d(0x68b)](_0x1df24d(0x2ff))[_0x1df24d(0x967)]=_0xaeda35[_0x1df24d(0x9ac)]||Math[_0x1df24d(0x337)](_0x3ce359/0x2),document['getElementById'](_0x1df24d(0x2ff))[_0x1df24d(0x874)]=_0x3ce359,document[_0x1df24d(0x68b)](_0x1df24d(0x36d))['checked']=_0xaeda35[_0x1df24d(0x216)]||![],document['getElementById'](_0x1df24d(0x5dd))[_0x1df24d(0x89c)]=_0xaeda35['loopUntilPass']||![],document[_0x1df24d(0x68b)](_0x1df24d(0x8a7))[_0x1df24d(0x5b6)](new Event('change')),quizSettingsModal[_0x1df24d(0x8f4)][_0x1df24d(0x42d)](_0x1df24d(0x901));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x4c0420){console['error'](_0x1df24d(0x979),_0x4c0420),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x5c303a=_0x346886;if(!actionTargetId)return;const _0x1dd89b=doc(db,_0x5c303a(0x9d8)+appId+'/public/data/quizzes',actionTargetId),_0x336708={'shuffle':document[_0x5c303a(0x68b)](_0x5c303a(0x6ec))[_0x5c303a(0x967)],'resultsDisplay':document['getElementById'](_0x5c303a(0x5a7))[_0x5c303a(0x967)],'timerMode':document[_0x5c303a(0x68b)](_0x5c303a(0x8a7))['value'],'timerDuration':parseInt(document['getElementById']('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x5c303a(0x68b)]('modal-passing-score-input')['value'])||0x0,'passingScore':parseInt(document[_0x5c303a(0x68b)](_0x5c303a(0x2ff))[_0x5c303a(0x967)])||0x0,'isAdaptive':document[_0x5c303a(0x68b)]('modal-adaptive-quiz-checkbox')[_0x5c303a(0x89c)],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x5c303a(0x89c)]};try{await updateDoc(_0x1dd89b,{'settings':_0x336708}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList']['add'](_0x5c303a(0x901)),actionTargetId=null;}catch(_0x5dc7b2){console[_0x5c303a(0x6f2)](_0x5c303a(0x8bc),_0x5dc7b2),showMessage(_0x5c303a(0x74d));}}async function handleQuizStatus(_0x4053bf){const _0x294d5a=_0x346886;actionTargetId=_0x4053bf;const _0xd268d=doc(db,_0x294d5a(0x9d8)+appId+_0x294d5a(0x3a7),_0x4053bf);try{const _0x21c56d=await getDoc(_0xd268d);if(_0x21c56d['exists']()){const _0x287680=_0x21c56d['data'](),_0x376f81=_0x287680['status']||_0x294d5a(0x299),_0x14c148=document['getElementById']('quiz-status-options'),_0x46cf27=document[_0x294d5a(0x68b)]('quiz-schedule-start-container'),_0x39032e=document[_0x294d5a(0x68b)]('quiz-schedule-end-container');let _0x13e92d=_0x294d5a(0x422)+(_0x376f81===_0x294d5a(0x299)?_0x294d5a(0x89c):'')+_0x294d5a(0x500)+(_0x376f81===_0x294d5a(0x4ac)?_0x294d5a(0x89c):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x376f81==='scheduled'?_0x294d5a(0x89c):'')+_0x294d5a(0x8c9);_0x14c148[_0x294d5a(0x373)]=_0x13e92d;const _0x44c924=_0x376f81==='scheduled';_0x46cf27['classList'][_0x294d5a(0x474)](_0x294d5a(0x901),!_0x44c924),_0x39032e[_0x294d5a(0x8f4)][_0x294d5a(0x474)](_0x294d5a(0x901),!_0x44c924),document[_0x294d5a(0x68b)](_0x294d5a(0x59a))[_0x294d5a(0x967)]=_0x287680[_0x294d5a(0x6b6)]?_0x287680['startTime'][_0x294d5a(0x880)](0x0,0x10):'',document[_0x294d5a(0x68b)]('quiz-end-time')[_0x294d5a(0x967)]=_0x287680[_0x294d5a(0x7f5)]?_0x287680[_0x294d5a(0x7f5)][_0x294d5a(0x880)](0x0,0x10):'',_0x14c148[_0x294d5a(0x3df)](_0x294d5a(0x509))['forEach'](_0x56061e=>{const _0xa04805=_0x294d5a;_0x56061e[_0xa04805(0x35b)](_0xa04805(0x562),_0x13b043=>{const _0xe40bcc=_0xa04805,_0x155bfe=_0x13b043[_0xe40bcc(0x2b1)][_0xe40bcc(0x967)]===_0xe40bcc(0x931);_0x46cf27[_0xe40bcc(0x8f4)]['toggle'](_0xe40bcc(0x901),!_0x155bfe),_0x39032e[_0xe40bcc(0x8f4)]['toggle'](_0xe40bcc(0x901),!_0x155bfe);});}),quizStatusModal[_0x294d5a(0x8f4)][_0x294d5a(0x42d)]('hidden');}}catch(_0x3d221a){console[_0x294d5a(0x6f2)](_0x294d5a(0x7c9),_0x3d221a),showMessage(_0x294d5a(0x640));}}async function confirmQuizStatus(){const _0xf166ae=_0x346886;if(!actionTargetId)return;const _0x4fc6b4=doc(db,'artifacts/'+appId+_0xf166ae(0x3a7),actionTargetId),_0x4eed6f=document[_0xf166ae(0x293)](_0xf166ae(0x873));if(!_0x4eed6f){showMessage(_0xf166ae(0x62c));return;}const _0x2733e3=_0x4eed6f[_0xf166ae(0x967)];let _0x291ab9={};if(_0x2733e3==='active'||_0x2733e3===_0xf166ae(0x4ac))_0x291ab9={'status':_0x2733e3,'startTime':null,'endTime':null};else{if(_0x2733e3===_0xf166ae(0x931)){const _0x537751=document[_0xf166ae(0x68b)](_0xf166ae(0x59a))[_0xf166ae(0x967)],_0x10867a=document['getElementById'](_0xf166ae(0x666))[_0xf166ae(0x967)];if(!_0x537751&&!_0x10867a){showMessage(_0xf166ae(0x7a2));return;}_0x291ab9={'status':_0xf166ae(0x247),'startTime':_0x537751?new Date(_0x537751)[_0xf166ae(0x651)]():null,'endTime':_0x10867a?new Date(_0x10867a)[_0xf166ae(0x651)]():null};}}try{await updateDoc(_0x4fc6b4,_0x291ab9),showMessage(_0xf166ae(0x7f4)),quizStatusModal[_0xf166ae(0x8f4)][_0xf166ae(0xa01)](_0xf166ae(0x901)),actionTargetId=null;}catch(_0x5e904d){console[_0xf166ae(0x6f2)](_0xf166ae(0x340),_0x5e904d),showMessage(_0xf166ae(0x214));}}function listenForStudentProfiles(_0x2ebc2c){const _0x4b1bfb=_0x346886,_0x3a1db1=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x2ebc2c+_0x4b1bfb(0x965));unsubscribeStudentProfilesListener=onSnapshot(_0x3a1db1,_0x4e78c3=>{const _0x281f96=_0x4b1bfb,_0x44fc73=_0x4e78c3[_0x281f96(0xa07)][_0x281f96(0x6c4)](_0x3de685=>_0x3de685[_0x281f96(0x3c0)]());renderLeaderboard(_0x44fc73,'leaderboard-table-body');},_0xdf5036=>{const _0x2dfb0a=_0x4b1bfb;console[_0x2dfb0a(0x6f2)]('Error\x20listening\x20for\x20student\x20profiles:',_0xdf5036),document[_0x2dfb0a(0x68b)](_0x2dfb0a(0x4f3))[_0x2dfb0a(0x373)]=_0x2dfb0a(0x4da);});}function renderLeaderboard(_0x1c8397,_0x19fa0c){const _0x2f66dd=_0x346886,_0xaa67ef=document[_0x2f66dd(0x68b)](_0x19fa0c);if(!_0x1c8397||_0x1c8397[_0x2f66dd(0x8cf)]===0x0){_0xaa67ef[_0x2f66dd(0x373)]=_0x2f66dd(0x6a7);return;}_0x1c8397[_0x2f66dd(0x787)]((_0x547d9a,_0x96613c)=>{const _0xac7298=_0x2f66dd,_0x5ae02e=(_0x96613c['totalPoints']||0x0)-(_0x547d9a['totalPoints']||0x0);if(_0x5ae02e!==0x0)return _0x5ae02e;const _0x26925f=(_0x96613c['badgesCount']?.['specialist']||0x0)-(_0x547d9a[_0xac7298(0x5be)]?.['specialist']||0x0);if(_0x26925f!==0x0)return _0x26925f;const _0x5e5d12=(_0x96613c[_0xac7298(0x5be)]?.[_0xac7298(0x951)]||0x0)-(_0x547d9a[_0xac7298(0x5be)]?.[_0xac7298(0x951)]||0x0);if(_0x5e5d12!==0x0)return _0x5e5d12;const _0x20753a=(_0x96613c[_0xac7298(0x5be)]?.[_0xac7298(0x34f)]||0x0)-(_0x547d9a[_0xac7298(0x5be)]?.[_0xac7298(0x34f)]||0x0);if(_0x20753a!==0x0)return _0x20753a;const _0x5eb063=(_0x96613c[_0xac7298(0x5be)]?.['quick_thinker']||0x0)-(_0x547d9a[_0xac7298(0x5be)]?.[_0xac7298(0x3e2)]||0x0);if(_0x5eb063!==0x0)return _0x5eb063;return _0x547d9a[_0xac7298(0x7ad)][_0xac7298(0x959)](_0x96613c[_0xac7298(0x7ad)],'th');});let _0x225e8c='';_0x1c8397[_0x2f66dd(0x305)]((_0x283dc1,_0x17922c)=>{const _0x5e4ddd=_0x2f66dd,_0x4e46fa=_0x17922c+0x1,_0x395e8c=_0x283dc1[_0x5e4ddd(0x5be)]||{};let _0x1d6405='';const _0x15d82a=[_0x5e4ddd(0x936),_0x5e4ddd(0x34f),_0x5e4ddd(0x951),_0x5e4ddd(0x3e2)];_0x15d82a[_0x5e4ddd(0x305)](_0x347b84=>{const _0x4353fa=_0x5e4ddd;if(_0x395e8c[_0x347b84]>0x0){const _0x23923f=Object[_0x4353fa(0x1f0)](BADGES)[_0x4353fa(0x94f)](_0x5de887=>_0x5de887['id']===_0x347b84);_0x23923f&&(_0x347b84==='specialist'?_0x1d6405+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x23923f[_0x4353fa(0x54b)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x23923f[_0x4353fa(0x7de)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1d6405+=_0x4353fa(0x7d9)+_0x23923f['name']+'\x20('+_0x395e8c[_0x347b84]+_0x4353fa(0x4db)+_0x23923f[_0x4353fa(0x7de)]+_0x4353fa(0x63a)+_0x395e8c[_0x347b84]+_0x4353fa(0x9c8));}}),_0x225e8c+=_0x5e4ddd(0x3a8)+_0x4e46fa+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x283dc1[_0x5e4ddd(0x7ad)]+_0x5e4ddd(0x721)+(_0x283dc1[_0x5e4ddd(0x39d)]||0x0)+_0x5e4ddd(0x88a)+(_0x1d6405||'-')+_0x5e4ddd(0x5cd);}),_0xaa67ef[_0x2f66dd(0x373)]=_0x225e8c;}function displayLoopScreen(_0x33b546,_0x578c03,_0x4738a0){const _0x280503=_0x346886;let _0x5d494b='';_0x4738a0!==_0x280503(0x688)&&(_0x5d494b=_0x280503(0x561)+_0x33b546+_0x280503(0x818)+_0x578c03+'</strong></p>');const _0x44b7da=_0x280503(0x5a2)+_0x5d494b+_0x280503(0x6cf);studentResultArea[_0x280503(0x373)]=_0x44b7da,studentResultArea[_0x280503(0x8f4)]['remove'](_0x280503(0x901)),studentQuizArea[_0x280503(0x8f4)]['add'](_0x280503(0x901)),document[_0x280503(0x68b)](_0x280503(0x43e))[_0x280503(0x35b)](_0x280503(0x8d8),()=>{const _0x15294b=_0x280503;studentResultArea[_0x15294b(0x8f4)]['add'](_0x15294b(0x901)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x23c77a,_0x50caea,_0x5a8941){const _0x87dcb8=_0x346886,_0x39a458=document[_0x87dcb8(0x68b)](_0x5a8941),_0x5ceb05=_0x5a8941===_0x87dcb8(0x392),_0x5e9cc7=_0x50caea[_0x87dcb8(0xa18)]['length'],_0x236222=document[_0x87dcb8(0x68b)](_0x5a8941)['closest'](_0x87dcb8(0x3bd));if(_0x236222&&!_0x5ceb05){const _0x48ab15=_0x236222['querySelector'](_0x87dcb8(0x596));_0x48ab15[_0x87dcb8(0x373)]=_0x87dcb8(0x6f4);}if(!_0x23c77a||_0x23c77a[_0x87dcb8(0x8cf)]===0x0){_0x39a458[_0x87dcb8(0x373)]='<tr><td\x20colspan=\x22'+(_0x5ceb05?0x6:0x8)+_0x87dcb8(0x883);return;}const _0x23cc91=[..._0x23c77a];_0x23cc91[_0x87dcb8(0x787)]((_0x145a77,_0x500c93)=>{const _0x3750e0=_0x87dcb8;let _0x14677b,_0xfc89ec;switch(quizLeaderboardSortBy){case _0x3750e0(0x7ad):_0x14677b=_0x145a77['studentName']||'',_0xfc89ec=_0x500c93[_0x3750e0(0x7ad)]||'';return quizLeaderboardSortOrder===_0x3750e0(0x5de)?_0x14677b[_0x3750e0(0x959)](_0xfc89ec,'th'):_0xfc89ec[_0x3750e0(0x959)](_0x14677b,'th');case _0x3750e0(0x601):_0x14677b=_0x145a77[_0x3750e0(0x601)]||0x0,_0xfc89ec=_0x500c93['points']||0x0;break;case _0x3750e0(0x3ce):_0x14677b=_0x145a77[_0x3750e0(0x3ce)]?.[_0x3750e0(0x8cf)]||0x1,_0xfc89ec=_0x500c93[_0x3750e0(0x3ce)]?.[_0x3750e0(0x8cf)]||0x1;break;case _0x3750e0(0x3ff):_0x14677b=new Date(_0x145a77[_0x3750e0(0x3ff)]),_0xfc89ec=new Date(_0x500c93[_0x3750e0(0x3ff)]);break;case _0x3750e0(0x27b):default:_0x14677b=_0x145a77[_0x3750e0(0x27b)],_0xfc89ec=_0x500c93[_0x3750e0(0x27b)];break;}if(_0x14677b<_0xfc89ec)return quizLeaderboardSortOrder===_0x3750e0(0x5de)?-0x1:0x1;if(_0x14677b>_0xfc89ec)return quizLeaderboardSortOrder===_0x3750e0(0x5de)?0x1:-0x1;return 0x0;});const _0xa121d2=_0x50caea[_0x87dcb8(0x5ee)]===!![],_0x338fb3=_0x50caea['settings']?.[_0x87dcb8(0x9ac)]??-0x1;let _0x56d52f='';_0x23cc91[_0x87dcb8(0x305)]((_0xfb1d6e,_0x497aac)=>{const _0x35fa2e=_0x87dcb8,_0x458815=_0x497aac+0x1;let _0x40651b=_0x35fa2e(0x5c4);if(_0xa121d2||_0x338fb3!==-0x1){let _0xead2ca=_0xa121d2?_0xfb1d6e['bestScore']===_0x5e9cc7:_0xfb1d6e['bestScore']>=_0x338fb3;const _0xcff788=_0xead2ca?'bg-green-100\x20text-green-800':_0x35fa2e(0x67e),_0x507e44=_0xead2ca?_0x35fa2e(0x6b4):_0x35fa2e(0x887);_0x40651b='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xcff788+'\x22>'+_0x507e44+'</span></td>';}const _0x19b7fe=_0xfb1d6e[_0x35fa2e(0x3ce)][_0xfb1d6e['attempts'][_0x35fa2e(0x8cf)]-0x1],_0x3ab6bf=(_0x19b7fe[_0x35fa2e(0x433)]||[])[_0x35fa2e(0x6c4)](_0x31803d=>{const _0x4f4d04=_0x35fa2e,_0x25e563=Object[_0x4f4d04(0x1f0)](BADGES)[_0x4f4d04(0x94f)](_0x46394a=>_0x46394a['id']===_0x31803d);return _0x25e563?'<span\x20title=\x22'+_0x25e563['name']+_0x4f4d04(0x5e0)+_0x25e563[_0x4f4d04(0x7de)]+_0x4f4d04(0x775):'';})[_0x35fa2e(0x559)]('');_0x56d52f+=_0x35fa2e(0xa3b)+_0x458815+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xfb1d6e[_0x35fa2e(0x7ad)]+_0x35fa2e(0x68a)+_0xfb1d6e[_0x35fa2e(0x27b)]+_0x35fa2e(0x818)+_0x5e9cc7+_0x35fa2e(0x4eb)+_0x40651b+_0x35fa2e(0xa14)+(_0xfb1d6e[_0x35fa2e(0x601)]||0x0)+_0x35fa2e(0x4eb)+(_0x5ceb05?'':_0x35fa2e(0x5f5)+(_0xfb1d6e[_0x35fa2e(0x3ce)]?.[_0x35fa2e(0x8cf)]||0x1)+_0x35fa2e(0x9a0))+_0x35fa2e(0x20f)+(_0x5ceb05?'':_0x35fa2e(0x343)+new Date(_0xfb1d6e['latestSubmittedAt'])['toLocaleString'](_0x35fa2e(0x26c))+_0x35fa2e(0x9a0))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x3ab6bf||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x39a458[_0x87dcb8(0x373)]=_0x56d52f,_0x236222&&!_0x5ceb05&&_0x236222[_0x87dcb8(0x3df)](_0x87dcb8(0x816))[_0x87dcb8(0x305)](_0x330bc2=>{const _0x1a0524=_0x87dcb8,_0x2b8d90=_0x330bc2[_0x1a0524(0x293)](_0x1a0524(0x6be));if(_0x2b8d90)_0x2b8d90['remove']();_0x330bc2['dataset'][_0x1a0524(0x787)]===quizLeaderboardSortBy&&(_0x330bc2[_0x1a0524(0x373)]+=_0x1a0524(0x59e)+(quizLeaderboardSortOrder===_0x1a0524(0x5de)?'▲':'▼')+_0x1a0524(0x490));});}async function handleDeleteSubmission(_0x278dde){const _0x5346f9=_0x346886;if(!currentQuizData||!currentQuizData['id']||!_0x278dde){showMessage(_0x5346f9(0x96a));return;}showConfirmation(_0x5346f9(0x341)+_0x278dde+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x5f2b28=_0x5346f9,_0x1d7396=currentQuizData['id'],_0x5548d6=doc(db,'artifacts/'+appId+_0x5f2b28(0x867)+_0x1d7396+_0x5f2b28(0x26d),_0x278dde);try{await deleteDoc(_0x5548d6),showMessage(_0x5f2b28(0x7c3)+_0x278dde+_0x5f2b28(0x245));}catch(_0x123a8f){console[_0x5f2b28(0x6f2)](_0x5f2b28(0x8a2),_0x123a8f),showMessage(_0x5f2b28(0x847));}});}async function handleLoadQuiz(){const _0x2ca4cb=_0x346886,_0x10fb44=document[_0x2ca4cb(0x68b)](_0x2ca4cb(0x908)),_0xd3df63=_0x10fb44[_0x2ca4cb(0x967)][_0x2ca4cb(0x905)]();if(!_0xd3df63){showMessage(_0x2ca4cb(0x495));return;}loadQuizBtn[_0x2ca4cb(0x438)]=!![],loadQuizBtn['innerHTML']=_0x2ca4cb(0x856);try{const _0x12d683=doc(db,'artifacts/'+appId+_0x2ca4cb(0x3a7),_0xd3df63),_0x1f66fc=await getDoc(_0x12d683);if(!_0x1f66fc[_0x2ca4cb(0x824)]()){showMessage(_0x2ca4cb(0x9ca));return;}currentQuizData={'id':_0x1f66fc['id'],..._0x1f66fc[_0x2ca4cb(0x3c0)]()};const _0x11958=currentQuizData[_0x2ca4cb(0x719)]||_0x2ca4cb(0x299),_0x53aed2=new Date();if(_0x11958===_0x2ca4cb(0x4ac)){showMessage(_0x2ca4cb(0x316));return;}if(_0x11958==='scheduled'){const _0x43b690=currentQuizData[_0x2ca4cb(0x6b6)]?new Date(currentQuizData[_0x2ca4cb(0x6b6)]):null,_0x423c98=currentQuizData[_0x2ca4cb(0x7f5)]?new Date(currentQuizData[_0x2ca4cb(0x7f5)]):null;if(_0x43b690&&_0x53aed2<_0x43b690){showMessage(_0x2ca4cb(0x230)+_0x43b690[_0x2ca4cb(0x40a)]('th-TH',{'hour12':![]}));return;}if(_0x423c98&&_0x53aed2>_0x423c98){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x24a02c=currentQuizData[_0x2ca4cb(0x2c3)];currentProjectId=_0x24a02c;const _0x5406b2=doc(db,'artifacts/'+appId+_0x2ca4cb(0x24d),_0x24a02c),_0x407c91=await getDoc(_0x5406b2);if(!_0x407c91[_0x2ca4cb(0x824)]()){showMessage(_0x2ca4cb(0x45f));return;}const _0x5a5dfe=_0x407c91[_0x2ca4cb(0x3c0)]();currentStudentProjectData=_0x5a5dfe,displayStudentNameSelector(_0x5a5dfe[_0x2ca4cb(0x408)],currentQuizData[_0x2ca4cb(0x9e3)]);}catch(_0x40e051){console[_0x2ca4cb(0x6f2)](_0x2ca4cb(0x703),_0x40e051),showMessage(_0x2ca4cb(0x44e));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x2ca4cb(0x373)]=_0x2ca4cb(0x6b2);}}async function handleJoinLiveGame(){const _0x4d7d55=_0x346886,_0x11cd46=document[_0x4d7d55(0x68b)](_0x4d7d55(0x4ff)),_0x461964=document[_0x4d7d55(0x68b)](_0x4d7d55(0x453)),_0x212bfc=document[_0x4d7d55(0x68b)](_0x4d7d55(0x485)),_0x39aff5=_0x11cd46['value']['trim'](),_0x269b16=_0x461964['value'][_0x4d7d55(0x905)]();if(!_0x39aff5||!_0x269b16){showMessage(_0x4d7d55(0x5ba));return;}_0x212bfc['disabled']=!![],_0x212bfc['innerHTML']=_0x4d7d55(0x7ef);try{const _0x4724da=collection(db,_0x4d7d55(0x9d8)+appId+_0x4d7d55(0x776)),_0x13155a=query(_0x4724da,where(_0x4d7d55(0x819),'==',_0x39aff5),where('status','in',[_0x4d7d55(0x4f1),_0x4d7d55(0x9ad)])),_0xb73c05=await getDocs(_0x13155a);if(_0xb73c05[_0x4d7d55(0x5b2)]){showMessage(_0x4d7d55(0x32b));return;}const _0x45463e=_0xb73c05[_0x4d7d55(0xa07)][0x0],_0x5be1b7=_0x45463e[_0x4d7d55(0x3c0)]();currentLiveGameId=_0x45463e['id'];const _0x4bcdd2=_0x5be1b7[_0x4d7d55(0x57d)],_0xc16027=doc(db,_0x4d7d55(0x9d8)+appId+'/public/data/quizzes',_0x4bcdd2),_0x1edcb8=await getDoc(_0xc16027);if(!_0x1edcb8[_0x4d7d55(0x824)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x1edcb8['id'],..._0x1edcb8[_0x4d7d55(0x3c0)]()};if(_0x5be1b7['players']&&_0x5be1b7[_0x4d7d55(0x49e)][_0x269b16]){const _0x370685=_0x5be1b7['players'][_0x269b16];if(_0x370685['status']===_0x4d7d55(0x4ac)){_0x212bfc[_0x4d7d55(0x373)]=_0x4d7d55(0x69d);const _0x2d23fc={};_0x2d23fc[_0x4d7d55(0x400)+_0x269b16+_0x4d7d55(0x92b)]=_0x4d7d55(0x299),await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x2d23fc),showView(_0x4d7d55(0x608)),currentStudentName=_0x269b16,listenForLiveGameUpdates();return;}else{showMessage(_0x4d7d55(0x741));return;}}if(_0x5be1b7['status']!==_0x4d7d55(0x4f1)){showMessage(_0x4d7d55(0x8a6));return;}_0x212bfc['innerHTML']=_0x4d7d55(0x839);const _0x44d605={};_0x44d605[_0x4d7d55(0x400)+_0x269b16]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4d7d55(0x299)},await updateDoc(doc(db,'artifacts/'+appId+_0x4d7d55(0x776),currentLiveGameId),_0x44d605),currentStudentName=_0x269b16,listenForLiveGameUpdates();}catch(_0x924785){console[_0x4d7d55(0x6f2)]('Error\x20joining\x20live\x20game:',_0x924785),showMessage(_0x4d7d55(0x2e6));}finally{_0x212bfc[_0x4d7d55(0x438)]=![],_0x212bfc[_0x4d7d55(0x373)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x129dc3,_0x42773c){const _0x4f540e=_0x346886,_0x3aff0f=document[_0x4f540e(0x68b)]('student-name-select');document[_0x4f540e(0x68b)](_0x4f540e(0x9d3))[_0x4f540e(0x394)]='แบบทดสอบ:\x20'+_0x42773c,!_0x129dc3||_0x129dc3[_0x4f540e(0x8cf)]===0x0?(_0x3aff0f[_0x4f540e(0x373)]=_0x4f540e(0x861),startQuizBtn['disabled']=!![]):(_0x3aff0f['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x129dc3[_0x4f540e(0x305)](_0x1ec767=>{const _0x25c3f6=_0x4f540e,_0x341022=document[_0x25c3f6(0x882)](_0x25c3f6(0x894));_0x341022['value']=_0x1ec767,_0x341022['textContent']=_0x1ec767,_0x3aff0f[_0x25c3f6(0x5b9)](_0x341022);}),startQuizBtn[_0x4f540e(0x438)]=![]),studentInitialView[_0x4f540e(0x8f4)][_0x4f540e(0xa01)](_0x4f540e(0x901)),studentNameSelectionView[_0x4f540e(0x8f4)]['remove'](_0x4f540e(0x901));}function shuffleArray(_0x1da104){const _0x582e5b=_0x346886;for(let _0x4d1324=_0x1da104[_0x582e5b(0x8cf)]-0x1;_0x4d1324>0x0;_0x4d1324--){const _0x7bab41=Math['floor'](Math[_0x582e5b(0x23e)]()*(_0x4d1324+0x1));[_0x1da104[_0x4d1324],_0x1da104[_0x7bab41]]=[_0x1da104[_0x7bab41],_0x1da104[_0x4d1324]];}}function getShuffledQuiz(_0x256111){const _0x13949b=_0x346886;let _0x444b94=JSON[_0x13949b(0x783)](JSON['stringify'](_0x256111));const _0x4827d5=_0x444b94[_0x13949b(0x7f0)]?.[_0x13949b(0x6c9)]||'none';if(_0x4827d5==='none')return _0x444b94;return(_0x4827d5===_0x13949b(0x9dc)||_0x4827d5===_0x13949b(0x9a4))&&shuffleArray(_0x444b94[_0x13949b(0xa18)]),(_0x4827d5===_0x13949b(0x499)||_0x4827d5==='both')&&_0x444b94[_0x13949b(0xa18)][_0x13949b(0x305)](_0x2238d9=>{const _0x38cc1e=_0x13949b,_0x17ef2e=_0x2238d9[_0x38cc1e(0x296)]||_0x444b94[_0x38cc1e(0x3fa)];if(_0x2238d9[_0x38cc1e(0x77f)]){let _0x8d2d03=_0x2238d9[_0x38cc1e(0x77f)][_0x38cc1e(0x6c4)]((_0x1a5b51,_0x82a712)=>({'text':_0x1a5b51,'isCorrect':_0x82a712===_0x2238d9[_0x38cc1e(0x60a)]}));shuffleArray(_0x8d2d03),_0x2238d9[_0x38cc1e(0x77f)]=_0x8d2d03['map'](_0xf46ecb=>_0xf46ecb[_0x38cc1e(0x581)]),_0x2238d9[_0x38cc1e(0x60a)]=_0x8d2d03[_0x38cc1e(0x5c7)](_0x310380=>_0x310380['isCorrect']);}_0x17ef2e===_0x38cc1e(0x5a4)&&_0x2238d9[_0x38cc1e(0x798)]&&shuffleArray(_0x2238d9['allResponses']);}),_0x444b94;}function displayQuizForStudent(_0x50fe8d){const _0x431b30=_0x346886;studentQuizArea[_0x431b30(0x8f4)][_0x431b30(0x42d)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x50fe8d);currentMode!==_0x431b30(0x9ec)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x431b30(0x35b)]('fullscreenchange',handleFullscreenChange),document[_0x431b30(0x35b)](_0x431b30(0x4b8),handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window[_0x431b30(0x35b)](_0x431b30(0x759),resetDimTimer),window[_0x431b30(0x35b)](_0x431b30(0x8c6),resetDimTimer),window[_0x431b30(0x35b)](_0x431b30(0x2fc),resetDimTimer),resetDimTimer());const _0x3f5380=currentDisplayedQuiz[_0x431b30(0x7f0)]?.[_0x431b30(0x877)]||_0x431b30(0x313);if(_0x3f5380===_0x431b30(0x459))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x431b30(0x7f0)][_0x431b30(0x638)]);else _0x3f5380===_0x431b30(0x508)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x509726=_0x346886;let _0x49e889='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x509726(0x9ec)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x509726(0xa18)][_0x509726(0x305)]((_0xd12057,_0x3ba7ad)=>{const _0x4f1018=_0x509726,_0x326115=_0xd12057[_0x4f1018(0x296)]||currentDisplayedQuiz[_0x4f1018(0x3fa)];_0x49e889+=_0x4f1018(0x7d2);_0x326115==='matching_item'?_0x49e889+=_0x4f1018(0x78d)+(_0x3ba7ad+0x1)+'.\x20'+_0xd12057['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x3ba7ad+_0x4f1018(0x361)+_0xd12057['allResponses'][_0x4f1018(0x6c4)](_0x319ac6=>_0x4f1018(0x957)+_0x319ac6+'\x22>'+_0x319ac6+'</option>')[_0x4f1018(0x559)]('')+_0x4f1018(0x1f7):(_0x49e889+=_0x4f1018(0x82c)+(_0x3ba7ad+0x1)+'.\x20'+(_0xd12057[_0x4f1018(0xa1a)]||_0xd12057[_0x4f1018(0x85d)])+_0x4f1018(0x96b),_0xd12057[_0x4f1018(0x884)]&&(_0x49e889+=_0x4f1018(0x384)+_0xd12057[_0x4f1018(0x884)]+'</div>'));_0x49e889+=_0x4f1018(0x976);switch(_0x326115){case _0x4f1018(0x38f):_0x49e889+=_0x4f1018(0x610)+_0x3ba7ad+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x49e889+=_0x4f1018(0x90c)+_0x3ba7ad+_0x4f1018(0x756)+_0x3ba7ad+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x3ba7ad+_0x4f1018(0x41f),_0x49e889+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x3ba7ad+'_opt1\x22\x20name=\x22question'+_0x3ba7ad+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x3ba7ad+_0x4f1018(0x98c);break;case _0x4f1018(0x5a4):break;case'fill_in_the_blank':case _0x4f1018(0x586):default:_0x49e889+=_0xd12057['options'][_0x4f1018(0x6c4)]((_0x6bc32c,_0x2414a3)=>_0x4f1018(0x445)+_0x3ba7ad+'_opt'+_0x2414a3+_0x4f1018(0x6c2)+_0x3ba7ad+'\x22\x20value=\x22'+_0x2414a3+_0x4f1018(0x6df)+_0x3ba7ad+_0x4f1018(0x30f)+_0x2414a3+'\x22>'+_0x6bc32c+_0x4f1018(0x944))['join']('');break;}_0x49e889+=_0x4f1018(0x8a1);}),_0x49e889+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x49e889+=_0x509726(0x80d),studentQuizArea['innerHTML']=_0x49e889;if(currentMode===_0x509726(0x9ec)){const _0x1528f8=document[_0x509726(0x68b)](_0x509726(0x27e));if(_0x1528f8)_0x1528f8[_0x509726(0x35b)](_0x509726(0x8d8),cancelAdminTest);}document[_0x509726(0x68b)]('quiz-form')[_0x509726(0x35b)](_0x509726(0x516),handleSubmitQuiz);if(window['MathJax'])window[_0x509726(0x31e)][_0x509726(0x3f5)]([studentQuizArea]);}async function handleSubmitQuiz(_0x6908c8){const _0xa60a95=_0x346886;if(_0x6908c8)_0x6908c8['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3faeb6=document[_0xa60a95(0x68b)](_0xa60a95(0x991));if(!_0x3faeb6)return;const _0x38d60d=_0x3faeb6[_0xa60a95(0x293)](_0xa60a95(0x599)),_0x2a4f7e=currentDisplayedQuiz[_0xa60a95(0xa18)][_0xa60a95(0x3a5)](_0x5b7560=>_0x5b7560[_0xa60a95(0x296)]==='short_answer');_0x38d60d&&(_0x38d60d['disabled']=!![],_0x2a4f7e?_0x38d60d[_0xa60a95(0x373)]=_0xa60a95(0x51b):_0x38d60d[_0xa60a95(0x373)]=_0xa60a95(0x865));const _0x3e4e8c=new FormData(_0x3faeb6),_0x1754ce=currentDisplayedQuiz[_0xa60a95(0xa18)][_0xa60a95(0x6c4)]((_0x43fd4d,_0x436704)=>{const _0x126580=_0xa60a95,_0x4549dc=_0x43fd4d[_0x126580(0x296)]||currentDisplayedQuiz[_0x126580(0x3fa)],_0x347831=_0x3e4e8c[_0x126580(0x28d)](_0x126580(0x9ad)+_0x436704);if(_0x347831!==null&&_0x347831!==undefined){if(_0x4549dc==='multiple_choice'||_0x4549dc===_0x126580(0x8f5))return parseInt(_0x347831);return _0x347831;}return null;}),_0x5c6112=currentQuizData['id'],_0x4cb737=doc(db,'artifacts/'+appId+_0xa60a95(0x867)+_0x5c6112+_0xa60a95(0x26d),currentStudentName),_0x35554f=await getDoc(_0x4cb737),_0x18d7fa=_0x35554f['exists']()?_0x35554f[_0xa60a95(0x3c0)]():{},_0x30c5d3=_0x18d7fa['attempts']||[];await processAndSubmitAnswers(_0x1754ce,_0x30c5d3);}async function gradeShortAnswerWithAI(_0x2f3f04,_0x1fde0c){const _0x4f03c6=_0x346886;if(!_0x2f3f04||!_0x1fde0c)return![];try{const _0x132202=_0x4f03c6(0x5bf)+_0x2f3f04+_0x4f03c6(0x989)+_0x1fde0c+_0x4f03c6(0x335),_0x3a0017={'contents':[{'role':'user','parts':[{'text':_0x132202}]}]},_0x364830=_0x4f03c6(0x2d6),_0x1df6ee=_0x4f03c6(0x984)+_0x364830,_0x11d806=await fetch(_0x1df6ee,{'method':'POST','headers':{'Content-Type':_0x4f03c6(0x1f9)},'body':JSON[_0x4f03c6(0x2cf)](_0x3a0017)});if(!_0x11d806['ok'])throw new Error(_0x4f03c6(0x79c));const _0xfdb95e=await _0x11d806[_0x4f03c6(0x333)](),_0x5cf5cb=_0xfdb95e[_0x4f03c6(0x213)][0x0][_0x4f03c6(0x40c)][_0x4f03c6(0x289)][0x0][_0x4f03c6(0x581)][_0x4f03c6(0x905)]()[_0x4f03c6(0x4c2)]();return _0x5cf5cb==='true';}catch(_0x28df34){return console[_0x4f03c6(0x6f2)](_0x4f03c6(0x261),_0x28df34),![];}}async function processAndSubmitAnswers(_0x18b924,_0x89843f){const _0xb6963d=_0x346886;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0xb6963d(0x6e9)](_0xb6963d(0x4b8),handleVisibilityChange);let _0x5c809a=0x0,_0x5e76b3=0x0,_0x205bd4=[];const _0x2d3e14=[],_0x1c9551=currentDisplayedQuiz[_0xb6963d(0xa18)][_0xb6963d(0x8cf)];let _0x3210d8=0x0;const _0x4f2df8=currentDisplayedQuiz[_0xb6963d(0xa18)];for(let _0x1f4763=0x0;_0x1f4763<_0x4f2df8['length'];_0x1f4763++){const _0x259e78=_0x4f2df8[_0x1f4763],_0x1b70e1=_0x18b924[_0x1f4763],_0x299c9=_0x259e78[_0xb6963d(0x296)]||currentDisplayedQuiz[_0xb6963d(0x3fa)];let _0x5c7519=![];if(_0x1b70e1!==null&&_0x1b70e1!=='')switch(_0x299c9){case _0xb6963d(0x5a4):_0x5c7519=_0x1b70e1===_0x259e78[_0xb6963d(0x463)];break;case _0xb6963d(0x74e):const _0x56f60e=_0x1b70e1===!![]||_0x1b70e1===_0xb6963d(0x732);_0x5c7519=_0x56f60e===_0x259e78[_0xb6963d(0x8a4)];break;case _0xb6963d(0x8f5):case'multiple_choice':default:_0x5c7519=Number(_0x1b70e1)===_0x259e78[_0xb6963d(0x60a)];break;case'short_answer':_0x5c7519=await gradeShortAnswer(_0x1b70e1,_0x259e78);break;}_0x5c7519?(_0x5c809a++,_0x3210d8++,_0x3210d8===0x3&&(_0x205bd4['push'](BADGES[_0xb6963d(0x2d3)]['id']),_0x3210d8=0x0)):_0x3210d8=0x0;let _0x3bb545=null;_0x259e78[_0xb6963d(0x77f)]&&_0x1b70e1!==null&&(_0x3bb545=_0x259e78[_0xb6963d(0x77f)][_0x1b70e1]),_0x2d3e14[_0xb6963d(0x85a)]({'questionId':_0x259e78['id'],'answer':_0x1b70e1,'answerText':_0x3bb545,'isCorrect':_0x5c7519,'originalQuestionText':_0x259e78[_0xb6963d(0x3db)]||_0x259e78[_0xb6963d(0x85d)]});}_0x5e76b3=_0x5c809a*0xa;_0x5c809a===_0x1c9551&&_0x1c9551>0x0&&!currentDisplayedQuiz[_0xb6963d(0x5ee)]&&(_0x5e76b3+=0x32,_0x205bd4[_0xb6963d(0x85a)](BADGES[_0xb6963d(0x529)]['id']));const _0x1e2dd8=currentDisplayedQuiz[_0xb6963d(0x7f0)]?.[_0xb6963d(0x9ac)]??Math['floor'](_0x1c9551/0x2),_0x42c789=currentDisplayedQuiz[_0xb6963d(0x7f0)]?.[_0xb6963d(0x877)];if(_0x42c789===_0xb6963d(0x459)&&quizStartTime){const _0x2d7b75=(new Date()-quizStartTime)/0x3e8,_0x26151c=currentDisplayedQuiz[_0xb6963d(0x7f0)][_0xb6963d(0x638)]*0x3c;_0x5c809a>=_0x1e2dd8&&_0x2d7b75<_0x26151c/0x2&&(_0x5e76b3+=0x14,_0x205bd4[_0xb6963d(0x85a)](BADGES['QUICK_THINKER']['id']));}_0x89843f[_0xb6963d(0x8cf)]===0x0&&_0x5c809a===_0x1c9551&&_0x1c9551>0x0&&_0x205bd4[_0xb6963d(0x85a)](BADGES['FIRST_TRY_ACE']['id']);if(_0x89843f['length']>0x0){const _0x11d868=_0x89843f[0x0][_0xb6963d(0x4e5)];if(_0x11d868<_0x1e2dd8&&_0x5c809a>=_0x1e2dd8){const _0x3ad70a=_0x89843f['some'](_0x538f84=>(_0x538f84['badges']||[])[_0xb6963d(0x634)](BADGES[_0xb6963d(0x39b)]['id']));!_0x3ad70a&&_0x205bd4[_0xb6963d(0x85a)](BADGES[_0xb6963d(0x39b)]['id']);}}_0x89843f[_0xb6963d(0x8cf)]===0x4&&_0x205bd4[_0xb6963d(0x85a)](BADGES[_0xb6963d(0x88d)]['id']);const _0x1ac42a=currentDisplayedQuiz[_0xb6963d(0x7f0)][_0xb6963d(0x397)];if(currentMode===_0xb6963d(0x9ec)){handleResultDisplay(_0x1ac42a,_0x5c809a,_0x5e76b3,_0x205bd4,_0x2d3e14,_0x1c9551);return;}const _0x4664b4=currentQuizData['id'],_0x4dd48b=doc(db,'artifacts/'+appId+_0xb6963d(0x867)+_0x4664b4+_0xb6963d(0x26d),currentStudentName);try{const _0x45155d=[..._0x89843f],_0x2b1df0={'score':_0x5c809a,'points':_0x5e76b3,'badges':_0x205bd4,'submittedAt':new Date()[_0xb6963d(0x651)](),'answers':_0x2d3e14};_0x45155d[_0xb6963d(0x85a)](_0x2b1df0);const _0x471456=_0x45155d[0x0][_0xb6963d(0x4e5)],_0x3a588c=Math[_0xb6963d(0x874)](..._0x45155d[_0xb6963d(0x6c4)](_0x260d20=>_0x260d20[_0xb6963d(0x4e5)])),_0x565de9=_0x5c809a,_0x4c78c1=_0x2b1df0[_0xb6963d(0x667)];await setDoc(_0x4dd48b,{'studentName':currentStudentName,'totalQuestions':_0x1c9551,'attempts':_0x45155d,'firstScore':_0x471456,'bestScore':_0x3a588c,'latestScore':_0x565de9,'points':_0x5e76b3,'latestSubmittedAt':_0x4c78c1},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0xb6963d(0x2c3)],currentStudentName),handleResultDisplay(_0x1ac42a,_0x5c809a,_0x5e76b3,_0x205bd4,_0x2d3e14,_0x1c9551);}catch(_0x383993){console[_0xb6963d(0x6f2)](_0xb6963d(0x208),_0x383993),showMessage(_0xb6963d(0x72c));}}async function updateStudentProfile(_0x5650af,_0x381888){const _0x19dff2=_0x346886,_0x1ebff7=doc(db,_0x19dff2(0x9d8)+appId+_0x19dff2(0x93c)+_0x5650af+'/studentProfiles',_0x381888);try{const _0x27ca08=query(collection(db,_0x19dff2(0x9d8)+appId+'/public/data/quizzes'),where(_0x19dff2(0x2c3),'==',_0x5650af)),_0x6951fa=await getDocs(_0x27ca08),_0x443894=new Map(_0x6951fa[_0x19dff2(0xa07)][_0x19dff2(0x6c4)](_0x39569d=>[_0x39569d['id'],_0x39569d[_0x19dff2(0x3c0)]()])),_0x50405f=Array[_0x19dff2(0x48c)](_0x443894[_0x19dff2(0x729)]());await runTransaction(db,async _0x46ee8b=>{const _0x40fff7=_0x19dff2;let _0x1eb6b7=0x0;const _0x48a846={};let _0x1b0ce0=!![],_0x4d34c6=0x0,_0xa685db=0x0;for(const _0x422ee1 of _0x50405f){const _0x53092b=_0x443894[_0x40fff7(0x28d)](_0x422ee1),_0x18bb80=doc(db,_0x40fff7(0x9d8)+appId+'/public/data/quizzes/'+_0x422ee1+_0x40fff7(0x26d),_0x381888),_0x4870b2=await _0x46ee8b[_0x40fff7(0x28d)](_0x18bb80);if(_0x4870b2[_0x40fff7(0x824)]()){const _0x5b7e77=_0x4870b2[_0x40fff7(0x3c0)](),_0x5b6eab=_0x5b7e77[_0x40fff7(0x3ce)]||[];if(_0x5b6eab[_0x40fff7(0x8cf)]>0x0){const _0x3a1c6f=_0x5b6eab[_0x40fff7(0x742)]((_0x448b6a,_0x5ee63a)=>{const _0xb1a64e=_0x40fff7;if(_0x5ee63a[_0xb1a64e(0x4e5)]>_0x448b6a[_0xb1a64e(0x4e5)])return _0x5ee63a;if(_0x5ee63a[_0xb1a64e(0x4e5)]===_0x448b6a[_0xb1a64e(0x4e5)])return(_0x5ee63a[_0xb1a64e(0x601)]||0x0)>(_0x448b6a[_0xb1a64e(0x601)]||0x0)?_0x5ee63a:_0x448b6a;return _0x448b6a;},{'score':-0x1,'points':-0x1});_0x3a1c6f[_0x40fff7(0x4e5)]>-0x1&&(_0x1eb6b7+=_0x3a1c6f['points']||0x0,(_0x3a1c6f[_0x40fff7(0x433)]||[])['forEach'](_0x17789d=>{_0x48a846[_0x17789d]=(_0x48a846[_0x17789d]||0x0)+0x1;}));}}if(_0x53092b['topic']!==_0x40fff7(0x6e5)){_0xa685db++;if(_0x4870b2['exists']()){_0x4d34c6++;const _0x4bc046=_0x4870b2[_0x40fff7(0x3c0)]();_0x4bc046[_0x40fff7(0x27b)]!==_0x4bc046[_0x40fff7(0x734)]&&(_0x1b0ce0=![]);}else _0x1b0ce0=![];}}_0xa685db>0x0&&_0x4d34c6===_0xa685db&&_0x1b0ce0?_0x48a846[_0x40fff7(0x936)]=0x1:_0x48a846[_0x40fff7(0x936)]=0x0,_0x46ee8b[_0x40fff7(0x4e4)](_0x1ebff7,{'studentName':_0x381888,'totalPoints':_0x1eb6b7,'unlockedBadges':Object['keys'](_0x48a846)['filter'](_0x4b2791=>_0x48a846[_0x4b2791]>0x0),'badgesCount':_0x48a846},{'merge':!![]});});}catch(_0x199ee9){console[_0x19dff2(0x6f2)](_0x19dff2(0x950),_0x199ee9),showMessage(_0x19dff2(0x779));}}function startAdminTest(){const _0x51d652=_0x346886;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x46b0fd=JSON[_0x51d652(0x783)](JSON['stringify'](currentQuizData));currentMode=_0x51d652(0x9ec),currentStudentName=_0x51d652(0x720),adminView[_0x51d652(0x8f4)]['add']('hidden'),studentView[_0x51d652(0x8f4)][_0x51d652(0x42d)]('hidden'),studentInitialView[_0x51d652(0x8f4)][_0x51d652(0xa01)](_0x51d652(0x901)),studentNameSelectionView[_0x51d652(0x8f4)]['add'](_0x51d652(0x901)),studentResultArea[_0x51d652(0x8f4)][_0x51d652(0xa01)](_0x51d652(0x901)),studentQuizArea[_0x51d652(0x8f4)][_0x51d652(0x42d)](_0x51d652(0x901)),quizStartTime=new Date(),displayQuizForStudent(_0x46b0fd);}function handleResultDisplay(_0x4c3f08,_0x22d942,_0xae0d92,_0x279762,_0x1a1393,_0x271f01){const _0x5b8de9=_0x346886;if(_0x4c3f08===_0x5b8de9(0x2a5)){displaySubmissionConfirmation();return;}const _0x5863fd=currentDisplayedQuiz[_0x5b8de9(0x7f0)]?.[_0x5b8de9(0x9ac)]??Math[_0x5b8de9(0x337)](_0x271f01/0x2),_0x59099f=currentDisplayedQuiz[_0x5b8de9(0x7f0)]?.[_0x5b8de9(0x216)]??![],_0x33222e=currentDisplayedQuiz[_0x5b8de9(0x7f0)]?.[_0x5b8de9(0x417)]===!![],_0x44f472=_0x22d942<_0x5863fd,_0x2bfe26=_0x4c3f08===_0x5b8de9(0x8b0)||_0x4c3f08===_0x5b8de9(0x96d);if(_0x33222e&&_0x44f472&&!_0x2bfe26){_0x4c3f08==='show_results_and_answers'?displayResultsWithAnswers(_0x22d942,_0xae0d92,_0x279762,_0x1a1393,_0x271f01,!![]):displayLoopScreen(_0x22d942,_0x271f01,_0x4c3f08);return;}if(_0x59099f&&_0x44f472){startAdaptiveFlow(_0x1a1393,_0x22d942,_0x271f01);return;}switch(_0x4c3f08){case _0x5b8de9(0x851):displayResultsWithAnswers(_0x22d942,_0xae0d92,_0x279762,_0x1a1393,_0x271f01);break;case _0x5b8de9(0x4d7):displayResultsScoreOnly(_0x22d942,_0xae0d92,_0x279762,_0x271f01);break;case _0x5b8de9(0x688):displayPassFailOnly(_0x22d942,_0x271f01);break;case'half_mark_status':displayHalfMarkResult(_0x22d942,_0x271f01);break;case'perfect_score_status':displayPerfectScoreResult(_0x22d942,_0x271f01);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5ef84d){const _0x52e2b3=_0x346886;studentReadingArea[_0x52e2b3(0x373)]=_0x52e2b3(0x9a3);const _0x1f598f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ef84d+_0x52e2b3(0x892)+simpleMathPrompt+_0x52e2b3(0x3ab),_0x3d62b4={'type':'OBJECT','properties':{'questionText':{'type':_0x52e2b3(0x9d7)},'options':{'type':_0x52e2b3(0x813),'items':{'type':_0x52e2b3(0x9d7)}},'correctAnswerIndex':{'type':_0x52e2b3(0x466)},'explanation':{'type':_0x52e2b3(0x9d7)}},'required':[_0x52e2b3(0x85d),_0x52e2b3(0x77f),_0x52e2b3(0x60a),_0x52e2b3(0x2f2)]},_0x124bf1={'type':_0x52e2b3(0x206),'properties':{'topic':{'type':_0x52e2b3(0x9d7)},'questions':{'type':_0x52e2b3(0x813),'items':_0x3d62b4}},'required':[_0x52e2b3(0x9e3),_0x52e2b3(0xa18)]};try{const _0x1813b2=await callAnalysisApi(_0x1f598f,_0x124bf1);_0x1813b2['isRemedial']=!![],studentReadingArea['classList']['add'](_0x52e2b3(0x901));const _0x1c2886={...currentDisplayedQuiz[_0x52e2b3(0x7f0)],'isAdaptive':![],'resultsDisplay':_0x52e2b3(0x851)};_0x1813b2[_0x52e2b3(0x7f0)]=_0x1c2886,displayQuizForStudent(_0x1813b2);}catch(_0x2c4c79){console['error'](_0x52e2b3(0x412),_0x2c4c79),showMessage(_0x52e2b3(0x6eb)),showView(_0x52e2b3(0x632));}}function displayPassFailOnly(_0x520718,_0x41dfe3){const _0x255e13=_0x346886,_0x585272=currentDisplayedQuiz[_0x255e13(0x7f0)]?.[_0x255e13(0x9ac)]??-0x1,_0x207149=currentDisplayedQuiz[_0x255e13(0x5ee)]===!![];let _0xd5692c='',_0x17bf2f=![];if(_0x207149||_0x585272!==-0x1){_0x17bf2f=_0x207149?_0x520718===_0x41dfe3:_0x520718>=_0x585272;const _0x27fade=_0x17bf2f?_0x255e13(0x830):_0x255e13(0x67e),_0x35260a=_0x17bf2f?_0x255e13(0x6b4):_0x255e13(0x887);_0xd5692c=_0x255e13(0x7c8)+_0x27fade+'\x22>'+_0x35260a+_0x255e13(0x7e7);}else _0xd5692c=_0x255e13(0x268);let _0xf6bc6c=_0x255e13(0x92f)+currentStudentName+_0x255e13(0xa31)+_0xd5692c+_0x255e13(0x75a);studentResultArea[_0x255e13(0x373)]=_0xf6bc6c,studentResultArea[_0x255e13(0x8f4)]['remove'](_0x255e13(0x901)),studentQuizArea[_0x255e13(0x8f4)][_0x255e13(0xa01)](_0x255e13(0x901)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x17bf2f});}function cancelAdminTest(){const _0x43c3e7=_0x346886;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x43c3e7(0x9e8),handleFullscreenChange),document[_0x43c3e7(0x6e9)](_0x43c3e7(0x4b8),handleVisibilityChange),currentMode=_0x43c3e7(0x9a1),studentView[_0x43c3e7(0x8f4)][_0x43c3e7(0xa01)]('hidden'),adminView[_0x43c3e7(0x8f4)][_0x43c3e7(0x42d)](_0x43c3e7(0x901)),showView(_0x43c3e7(0x46f));}function setupResultScreenBackButton(_0xbfd4b8){const _0x6b9eff=_0x346886,_0x4f3b14={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0xbfd4b8};if(_0x4f3b14['isLooping']){const _0xd04558=_0x6b9eff(0x30b);studentResultArea['insertAdjacentHTML'](_0x6b9eff(0x744),_0xd04558),document['getElementById'](_0x6b9eff(0x43e))['addEventListener'](_0x6b9eff(0x8d8),()=>{const _0x588a0f=_0x6b9eff;studentResultArea[_0x588a0f(0x8f4)][_0x588a0f(0xa01)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4ab354=_0x6b9eff(0x9e0),_0x245ea5=currentMode===_0x6b9eff(0x9ec),_0x3b1483=_0x245ea5?_0x6b9eff(0x5c5):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x516c22='';_0x4f3b14[_0x6b9eff(0x2dd)]&&(_0x516c22+=_0x6b9eff(0x398));let _0x16429d=_0x4f3b14['showImproveButton'];_0x16429d===undefined&&(_0x16429d=_0x4f3b14[_0x6b9eff(0x4e5)]<_0x4f3b14[_0x6b9eff(0x734)]);_0x16429d&&(_0x516c22+=_0x6b9eff(0x580));_0x516c22+=_0x6b9eff(0x875)+_0x4ab354+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x3b1483+_0x6b9eff(0x28f);const _0x23b3e2=_0x6b9eff(0x675)+_0x516c22+_0x6b9eff(0x531);studentResultArea[_0x6b9eff(0x395)](_0x6b9eff(0x744),_0x23b3e2),studentResultArea[_0x6b9eff(0x293)](_0x6b9eff(0x543))?.[_0x6b9eff(0x35b)]('click',handleShowStudentRankings);const _0x38b5bb=studentResultArea['querySelector'](_0x6b9eff(0x9ae));_0x38b5bb&&_0x38b5bb[_0x6b9eff(0x35b)]('click',()=>{const _0x210875=_0x6b9eff;studentResultArea['classList'][_0x210875(0xa01)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x6b9eff(0x68b)](_0x4ab354)['addEventListener'](_0x6b9eff(0x8d8),()=>{const _0x36b01a=_0x6b9eff;_0x245ea5?(currentMode='admin',studentView['classList'][_0x36b01a(0xa01)](_0x36b01a(0x901)),adminView[_0x36b01a(0x8f4)][_0x36b01a(0x42d)]('hidden'),showView(_0x36b01a(0x46f))):(showView(_0x36b01a(0x632)),document['getElementById'](_0x36b01a(0x908))['value']='');});}function displayResultsWithAnswers(_0x50f0e3,_0x40f91f,_0x1300be,_0x2cf6f8,_0x5378a5,_0x368f9e=![]){const _0x544364=_0x346886,_0x5dd642=_0x5378a5>0x0?_0x50f0e3/_0x5378a5*0x64:0x0,_0x4b3f40=currentDisplayedQuiz[_0x544364(0x7f0)]?.[_0x544364(0x9ac)]??-0x1,_0x1eea01=currentDisplayedQuiz[_0x544364(0x5ee)]===!![];let _0x4729d5='';if(_0x1eea01||_0x4b3f40!==-0x1){let _0x5e5f7a=_0x1eea01?_0x50f0e3===_0x5378a5:_0x50f0e3>=_0x4b3f40;const _0x203e03=_0x5e5f7a?'bg-green-100\x20text-green-800':_0x544364(0x67e),_0x58f82b=_0x5e5f7a?_0x544364(0x6b4):_0x544364(0x887);_0x4729d5=_0x544364(0x56b)+_0x203e03+'\x22>'+_0x58f82b+_0x544364(0x96b);}let _0x504271=_0x544364(0x327)+currentStudentName+_0x544364(0x958)+_0x50f0e3+_0x544364(0x35c)+_0x5378a5+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4729d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x40f91f+_0x544364(0x5ce)+_0x5dd642[_0x544364(0x55a)](0x0)+_0x544364(0x888);currentDisplayedQuiz[_0x544364(0xa18)][_0x544364(0x305)]((_0x3ee30f,_0x39b6a6)=>{const _0x4b7884=_0x544364,_0x283612=_0x2cf6f8[_0x39b6a6],_0x2637eb=_0x283612[_0x4b7884(0x797)],_0x2b6759=_0x283612[_0x4b7884(0x5d2)],_0x460258=_0x3ee30f[_0x4b7884(0x296)]||currentDisplayedQuiz['quizType'];_0x504271+=_0x4b7884(0xa4b)+(_0x2b6759?_0x4b7884(0x3b6):'border-red-300\x20bg-red-50')+_0x4b7884(0x297)+(_0x39b6a6+0x1)+'.\x20'+(_0x3ee30f[_0x4b7884(0x3db)]||_0x3ee30f['questionText'])+_0x4b7884(0x7e5);switch(_0x460258){case'matching_item':const _0x1b83de=_0x2637eb||'ไม่ได้ตอบ',_0x257f5d=_0x3ee30f[_0x4b7884(0x463)];_0x504271+=_0x4b7884(0x912)+(!_0x2b6759?'line-through\x20text-red-700':'')+'\x22>'+_0x1b83de+_0x4b7884(0x294);!_0x2b6759&&(_0x504271+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x257f5d+_0x4b7884(0x96b));break;case _0x4b7884(0x38f):_0x504271+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x2637eb||_0x4b7884(0x33f))+_0x4b7884(0x96b),_0x504271+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x3ee30f['idealAnswer']+'</p>';break;case _0x4b7884(0x74e):_0x504271+='<p\x20class=\x22'+(_0x3ee30f[_0x4b7884(0x8a4)]===!![]?_0x4b7884(0x74b):'')+'\x20'+(_0x2637eb===_0x4b7884(0x732)&&!_0x2b6759?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x504271+=_0x4b7884(0x525)+(_0x3ee30f[_0x4b7884(0x8a4)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x2637eb==='false'&&!_0x2b6759?_0x4b7884(0x9d2):'')+'\x22>ไม่ใช่</p>';break;default:_0x504271+=_0x3ee30f['options'][_0x4b7884(0x6c4)]((_0x5b1ebe,_0x106419)=>{const _0x484099=_0x4b7884;let _0x2b629b='',_0x500e6e='';if(_0x106419===_0x3ee30f[_0x484099(0x60a)])_0x2b629b=_0x484099(0x74b),_0x500e6e=_0x484099(0x63f);else _0x106419===_0x2637eb&&(_0x2b629b=_0x484099(0x5d6),_0x500e6e=_0x484099(0xa09));return _0x484099(0x858)+_0x2b629b+'\x22>'+_0x500e6e+_0x5b1ebe+_0x484099(0x531);})[_0x4b7884(0x559)]('');break;}_0x504271+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x3ee30f[_0x4b7884(0x2f2)]||_0x4b7884(0x7d8))+_0x4b7884(0x531);if(!_0x2b6759){const _0x44d74e=_0x3ee30f['stem']||_0x3ee30f['questionText'];_0x504271+=_0x4b7884(0x292)+escape(_0x44d74e)+_0x4b7884(0x4dd);}_0x504271+=_0x4b7884(0x531);}),studentResultArea[_0x544364(0x373)]=_0x504271,renderEarnedBadges(_0x1300be,_0x544364(0xa50)),studentResultArea['classList'][_0x544364(0x42d)]('hidden'),studentQuizArea[_0x544364(0x8f4)][_0x544364(0xa01)](_0x544364(0x901)),setupResultScreenBackButton({'isLooping':_0x368f9e,'score':_0x50f0e3,'totalQuestions':_0x5378a5,'showRankings':!![]});if(window[_0x544364(0x31e)])window[_0x544364(0x31e)][_0x544364(0x3f5)]([studentResultArea]);}function displayResultsScoreOnly(_0x43cbce,_0x4dfd07,_0x4ad909,_0x30189d){const _0x3949f6=_0x346886,_0x45d542=_0x30189d>0x0?_0x43cbce/_0x30189d*0x64:0x0,_0x15449a=currentDisplayedQuiz[_0x3949f6(0x7f0)]?.[_0x3949f6(0x9ac)]??-0x1,_0x556aef=currentDisplayedQuiz[_0x3949f6(0x5ee)]===!![];let _0x367a08='';if(_0x556aef||_0x15449a!==-0x1){let _0x588332=_0x556aef?_0x43cbce===_0x30189d:_0x43cbce>=_0x15449a;const _0x1e128d=_0x588332?_0x3949f6(0x830):_0x3949f6(0x67e),_0x2f7d7f=_0x588332?_0x3949f6(0x6b4):_0x3949f6(0x887);_0x367a08=_0x3949f6(0x56b)+_0x1e128d+'\x22>'+_0x2f7d7f+'</p>';}let _0x5417f2=_0x3949f6(0x92f)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x43cbce+_0x3949f6(0x378)+_0x30189d+_0x3949f6(0x6a6)+_0x367a08+_0x3949f6(0x67a)+_0x4dfd07+_0x3949f6(0x202)+_0x45d542['toFixed'](0x0)+_0x3949f6(0x9ff);studentResultArea[_0x3949f6(0x373)]=_0x5417f2,renderEarnedBadges(_0x4ad909,'earned-badges-container'),studentResultArea[_0x3949f6(0x8f4)][_0x3949f6(0x42d)](_0x3949f6(0x901)),studentQuizArea[_0x3949f6(0x8f4)][_0x3949f6(0xa01)](_0x3949f6(0x901)),setupResultScreenBackButton({'score':_0x43cbce,'totalQuestions':_0x30189d,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x41d4bf=_0x346886;let _0x5719ec=_0x41d4bf(0x84e)+currentStudentName+_0x41d4bf(0x564);studentResultArea[_0x41d4bf(0x373)]=_0x5719ec,studentResultArea[_0x41d4bf(0x8f4)][_0x41d4bf(0x42d)](_0x41d4bf(0x901)),studentQuizArea['classList'][_0x41d4bf(0xa01)](_0x41d4bf(0x901)),document[_0x41d4bf(0x68b)](_0x41d4bf(0x712))[_0x41d4bf(0x35b)]('click',()=>{const _0x29680e=_0x41d4bf;showView('student'),document[_0x29680e(0x68b)](_0x29680e(0x908))['value']='';});}function renderEarnedBadges(_0x5aa767,_0x307d2a){const _0x42799d=_0x346886,_0x30055c=document['getElementById'](_0x307d2a);if(!_0x30055c||!_0x5aa767||_0x5aa767['length']===0x0)return;let _0x124a9f='';_0x5aa767[_0x42799d(0x305)]((_0x1d4e16,_0x6bdfe0)=>{const _0x545edb=_0x42799d,_0x133afa=Object['values'](BADGES)[_0x545edb(0x94f)](_0x38e5fd=>_0x38e5fd['id']===_0x1d4e16);_0x133afa&&(_0x124a9f+=_0x545edb(0x240)+_0x6bdfe0*0.2+_0x545edb(0x497)+_0x133afa[_0x545edb(0x53b)]+_0x545edb(0x5c9)+_0x133afa[_0x545edb(0x7de)]+_0x545edb(0x3e4)+_0x133afa[_0x545edb(0x54b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x30055c[_0x42799d(0x373)]=_0x124a9f;}function startPresentation(_0x426e26){const _0x311587=_0x346886;currentQuizData=getShuffledQuiz(_0x426e26),currentPresentationSlide=0x0,presentationModal[_0x311587(0x4bb)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3417e2=_0x346886;document[_0x3417e2(0x872)]&&document[_0x3417e2(0x553)](),presentationModal['style'][_0x3417e2(0x546)]='none';}function renderPresentationSlide(_0x3d9aa2){const _0x23268b=_0x346886,_0x5158ca=document[_0x23268b(0x68b)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x23268b(0xa18)]||!currentQuizData['questions'][_0x3d9aa2]){_0x5158ca['innerHTML']=_0x23268b(0x66d);return;}const _0x3d02bd=currentQuizData[_0x23268b(0xa18)][_0x3d9aa2],_0x58346b=_0x3d02bd['questionType']||currentQuizData[_0x23268b(0x3fa)];_0x5158ca[_0x23268b(0x373)]='';let _0x52be22=_0x23268b(0x5f1)+(_0x3d02bd[_0x23268b(0x884)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3d02bd['imageCode']+_0x23268b(0x531):'')+_0x23268b(0x5ca)+(_0x3d9aa2+0x1)+'.\x20'+(_0x3d02bd[_0x23268b(0x3db)]||_0x3d02bd['questionText'])+_0x23268b(0x48a);switch(_0x58346b){case _0x23268b(0x5a4):_0x52be22+=_0x3d02bd[_0x23268b(0x798)][_0x23268b(0x6c4)](_0x18a091=>_0x23268b(0x8c7)+_0x18a091+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x23268b(0x559)]('');break;case _0x23268b(0x74e):_0x52be22+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x52be22+=_0x23268b(0x47d);break;case'fill_in_no_choices':case'short_answer':_0x52be22+=_0x23268b(0x2a6);break;case _0x23268b(0x8f5):case'multiple_choice':default:_0x52be22+=_0x3d02bd[_0x23268b(0x77f)][_0x23268b(0x6c4)]((_0x1091da,_0x4eab43)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x4eab43+_0x23268b(0x9ce)+_0x1091da+_0x23268b(0x471))[_0x23268b(0x559)]('');break;}_0x52be22+=_0x23268b(0x705)+(_0x3d02bd[_0x23268b(0x2f2)]||_0x23268b(0x7d8))+_0x23268b(0x913),_0x5158ca[_0x23268b(0x373)]=_0x52be22;if(window[_0x23268b(0x31e)])window[_0x23268b(0x31e)]['typesetPromise']([_0x5158ca]);let _0x427de2=[];switch(_0x58346b){case _0x23268b(0x5a4):_0x427de2=_0x3d02bd[_0x23268b(0x798)]||[];break;case'true_false':_0x427de2=['ใช่',_0x23268b(0x726)];break;default:_0x427de2=_0x3d02bd[_0x23268b(0x77f)]||[];break;}const _0x183a37=document[_0x23268b(0x68b)](_0x23268b(0x363));_0x183a37&&(_0x183a37['onclick']=()=>{openScratchpad(_0x3d02bd,_0x427de2);});document[_0x23268b(0x3df)](_0x23268b(0x2e3))[_0x23268b(0x305)](_0x57873e=>{const _0x29d30e=_0x23268b;_0x57873e['addEventListener'](_0x29d30e(0x8d8),_0x29e0cc=>revealAnswerForPresentation(_0x3d9aa2,_0x29e0cc[_0x29d30e(0x39e)]));});const _0x3459c4=document[_0x23268b(0x68b)]('check-presentation-answer-btn');_0x3459c4&&_0x3459c4[_0x23268b(0x35b)]('click',()=>checkShortAnswerForPresentation(_0x3d9aa2)),document[_0x23268b(0x68b)](_0x23268b(0x22c))['textContent']='ข้อที่\x20'+(_0x3d9aa2+0x1)+_0x23268b(0x818)+currentQuizData[_0x23268b(0xa18)][_0x23268b(0x8cf)],document[_0x23268b(0x68b)]('prev-question-btn')[_0x23268b(0x438)]=_0x3d9aa2===0x0,document['getElementById'](_0x23268b(0x3da))[_0x23268b(0x438)]=_0x3d9aa2===currentQuizData[_0x23268b(0xa18)][_0x23268b(0x8cf)]-0x1;}async function checkShortAnswerForPresentation(_0x303afa){const _0x186ae8=_0x346886,_0x40af91=currentQuizData['questions'][_0x303afa],_0x57870a=document[_0x186ae8(0x68b)](_0x186ae8(0x64d)),_0x443493=document[_0x186ae8(0x68b)](_0x186ae8(0x910)),_0x180875=document[_0x186ae8(0x68b)](_0x186ae8(0x468)),_0x3b57ca=document[_0x186ae8(0x68b)]('presentation-explanation');if(!_0x57870a||!_0x443493||!_0x180875||!_0x3b57ca)return;const _0x35b6e7=_0x57870a[_0x186ae8(0x967)][_0x186ae8(0x905)]();if(_0x35b6e7==='')return;_0x443493[_0x186ae8(0x438)]=!![],_0x443493[_0x186ae8(0x373)]=_0x186ae8(0x2d5),_0x57870a[_0x186ae8(0x438)]=!![];const _0x5268b8=await gradeShortAnswer(_0x35b6e7,_0x40af91);_0x5268b8?_0x180875[_0x186ae8(0x373)]=_0x186ae8(0x38b):_0x180875[_0x186ae8(0x373)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x40af91['idealAnswer']+')',_0x180875['classList'][_0x186ae8(0x42d)](_0x186ae8(0x901)),_0x3b57ca['classList'][_0x186ae8(0x42d)](_0x186ae8(0x901)),_0x443493[_0x186ae8(0x8f4)][_0x186ae8(0xa01)](_0x186ae8(0x901));}function revealAnswerForPresentation(_0x5433cb,_0xab54dd){const _0x5e566e=_0x346886,_0x361169=currentQuizData['questions'][_0x5433cb],_0x30370d=_0x361169[_0x5e566e(0x296)]||currentQuizData[_0x5e566e(0x3fa)];document['querySelectorAll'](_0x5e566e(0x2e3))[_0x5e566e(0x305)](_0x2b9477=>{const _0x303b55=_0x5e566e;_0x2b9477[_0x303b55(0x438)]=!![],_0x2b9477[_0x303b55(0x8f4)][_0x303b55(0x42d)](_0x303b55(0x6f5));let _0x45272e=![];if(_0x30370d===_0x303b55(0x586)||_0x30370d===_0x303b55(0x8f5)){const _0x527e98=parseInt(_0x2b9477[_0x303b55(0x898)]['index']);_0x45272e=_0x527e98===_0x361169[_0x303b55(0x60a)];}else{if(_0x30370d===_0x303b55(0x74e)){const _0x25a82c=_0x2b9477[_0x303b55(0x898)][_0x303b55(0x797)]===_0x303b55(0x732);_0x45272e=_0x25a82c===_0x361169[_0x303b55(0x8a4)];}else _0x30370d===_0x303b55(0x5a4)&&(_0x45272e=_0x2b9477[_0x303b55(0x394)][_0x303b55(0x905)]()===_0x361169['correctResponse']);}_0x45272e?_0x2b9477[_0x303b55(0x8f4)][_0x303b55(0xa01)](_0x303b55(0x266),_0x303b55(0x765),_0x303b55(0x8d6)):_0x2b9477[_0x303b55(0x8f4)]['add'](_0x303b55(0x6fc));}),_0xab54dd[_0x5e566e(0x8f4)][_0x5e566e(0x42d)](_0x5e566e(0x6fc));let _0x3d7f39=![];if(_0x30370d===_0x5e566e(0x586))_0x3d7f39=parseInt(_0xab54dd[_0x5e566e(0x898)]['index'])===_0x361169[_0x5e566e(0x60a)];else{if(_0x30370d===_0x5e566e(0x74e))_0x3d7f39=_0xab54dd['dataset'][_0x5e566e(0x797)]===_0x5e566e(0x732)===_0x361169[_0x5e566e(0x8a4)];else _0x30370d===_0x5e566e(0x5a4)&&(_0x3d7f39=_0xab54dd[_0x5e566e(0x394)]['trim']()===_0x361169[_0x5e566e(0x463)]);}!_0x3d7f39&&_0xab54dd[_0x5e566e(0x8f4)][_0x5e566e(0xa01)](_0x5e566e(0x990),_0x5e566e(0x765),_0x5e566e(0x981)),document[_0x5e566e(0x68b)]('presentation-explanation')['classList']['remove']('hidden');}function startWholeQuizTimer(_0xa53a6b){const _0x4691ad=_0x346886,_0x264b08=document[_0x4691ad(0x68b)](_0x4691ad(0x916));if(!_0x264b08)return;const _0x1ad869=Date[_0x4691ad(0x609)]()+_0xa53a6b*0x3c*0x3e8;_0x264b08[_0x4691ad(0x373)]=_0x4691ad(0x8ed);const _0x5c3519=document[_0x4691ad(0x68b)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x2c34d4=_0x4691ad,_0x119eea=_0x1ad869-Date[_0x2c34d4(0x609)]();if(_0x119eea<=0x0)clearInterval(quizTimerInterval),_0x5c3519[_0x2c34d4(0x394)]='00:00',showMessage(_0x2c34d4(0x205)),handleSubmitQuiz(null);else{const _0x320c5d=Math[_0x2c34d4(0x337)](_0x119eea/0x3e8/0x3c%0x3c)[_0x2c34d4(0x9b1)]()[_0x2c34d4(0x822)](0x2,'0'),_0x3c3fc0=Math[_0x2c34d4(0x337)](_0x119eea/0x3e8%0x3c)[_0x2c34d4(0x9b1)]()[_0x2c34d4(0x822)](0x2,'0');_0x5c3519[_0x2c34d4(0x394)]=_0x320c5d+':'+_0x3c3fc0;}},0x3e8);}function renderPerQuestionView(){const _0x432509=_0x346886;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x8c07a6=currentDisplayedQuiz[_0x432509(0xa18)][currentQuestionIndex],_0x14f91e=_0x8c07a6[_0x432509(0x296)]||currentDisplayedQuiz[_0x432509(0x3fa)];let _0x39776f=_0x432509(0x35a)+(currentQuestionIndex+0x1)+_0x432509(0x544)+currentDisplayedQuiz[_0x432509(0xa18)][_0x432509(0x8cf)]+_0x432509(0x6e0)+(currentMode===_0x432509(0x9ec)?_0x432509(0x2d9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x432509(0x9e3)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?_0x432509(0x700):_0x432509(0x94b))+_0x432509(0x627);studentQuizArea[_0x432509(0x373)]=_0x39776f;let _0xb70261='',_0x64894a='';switch(_0x14f91e){case _0x432509(0x5a4):_0xb70261=currentQuestionIndex+0x1+'.\x20'+_0x8c07a6[_0x432509(0x3db)],_0x64894a=_0x432509(0x2e1)+_0x8c07a6[_0x432509(0x798)]['map'](_0x303d85=>_0x432509(0x957)+_0x303d85+'\x22>'+_0x303d85+_0x432509(0x225))['join']('')+_0x432509(0x26e);break;case'true_false':_0xb70261=currentQuestionIndex+0x1+'.\x20'+_0x8c07a6[_0x432509(0x85d)],_0x64894a=_0x432509(0x842);break;case _0x432509(0x38f):case _0x432509(0x3bf):_0xb70261=currentQuestionIndex+0x1+'.\x20'+_0x8c07a6[_0x432509(0x85d)],_0x64894a=_0x432509(0x852);break;case _0x432509(0x586):case _0x432509(0x7f7):default:_0xb70261=currentQuestionIndex+0x1+'.\x20'+_0x8c07a6['questionText'],_0x64894a=_0x8c07a6[_0x432509(0x77f)]['map']((_0xce03c8,_0x10b6fa)=>_0x432509(0x933)+_0x10b6fa+_0x432509(0x6d1)+_0x10b6fa+_0x432509(0x864)+_0x10b6fa+'\x22>'+_0xce03c8+_0x432509(0x321))[_0x432509(0x559)]('');break;}_0x8c07a6[_0x432509(0x884)]&&(_0xb70261+=_0x432509(0x384)+_0x8c07a6[_0x432509(0x884)]+_0x432509(0x531));document[_0x432509(0x68b)](_0x432509(0xa33))[_0x432509(0x373)]=_0xb70261,document['getElementById'](_0x432509(0x90a))[_0x432509(0x373)]=_0x64894a;if(currentMode==='admin-testing'){const _0x4f2ba8=document[_0x432509(0x68b)]('cancel-test-btn');if(_0x4f2ba8)_0x4f2ba8[_0x432509(0x35b)](_0x432509(0x8d8),cancelAdminTest);}document['getElementById']('next-question-timed-btn')['addEventListener'](_0x432509(0x8d8),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax']['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x21be13=_0x346886,_0x2f7fa8=currentDisplayedQuiz['settings']['timerDuration'],_0x4d5e32=document[_0x21be13(0x68b)](_0x21be13(0x7b1));if(!_0x4d5e32)return;let _0x112ea3=_0x2f7fa8;_0x4d5e32[_0x21be13(0x373)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x112ea3+_0x21be13(0xa4f);const _0x5c72c8=document[_0x21be13(0x68b)](_0x21be13(0x427)),_0x19502f=document['getElementById']('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x3aee0c=_0x21be13;_0x112ea3--;const _0x494f1e=_0x112ea3/_0x2f7fa8*0x64;_0x5c72c8[_0x3aee0c(0x4bb)]['width']=_0x494f1e+'%',_0x19502f['textContent']=_0x112ea3,_0x112ea3<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3aee0c(0x724)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xc43067=![]){const _0xed98e3=_0x346886;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x11795=null;if(!_0xc43067){const _0xb543bd=currentDisplayedQuiz[_0xed98e3(0xa18)][currentQuestionIndex],_0x37ffb9=_0xb543bd[_0xed98e3(0x296)]||currentDisplayedQuiz['quizType'];if(_0x37ffb9===_0xed98e3(0x38f)||_0x37ffb9===_0xed98e3(0x3bf)){const _0x1cbf78=document[_0xed98e3(0x293)]('#per-question-options\x20textarea');_0x11795=_0x1cbf78?_0x1cbf78['value']['trim']():'';}else{if(_0x37ffb9===_0xed98e3(0x5a4)){const _0x33d264=document['querySelector'](_0xed98e3(0x5ae));_0x11795=_0x33d264?_0x33d264[_0xed98e3(0x967)]:'';}else{const _0x533ef1=document[_0xed98e3(0x293)](_0xed98e3(0x569));if(_0x533ef1){const _0x16dae=_0x533ef1[_0xed98e3(0x967)];_0x11795=!isNaN(parseInt(_0x16dae,0xa))&&_0x16dae[_0xed98e3(0x905)]()!==''?parseInt(_0x16dae,0xa):_0x16dae;}}}}studentAnswersPerQuestion['push'](_0x11795),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0xed98e3(0xa18)][_0xed98e3(0x8cf)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x3813f1=_0x346886,_0x5adf3d=currentDisplayedQuiz[_0x3813f1(0xa18)][_0x3813f1(0x3a5)](_0x3c23b5=>_0x3c23b5[_0x3813f1(0x296)]===_0x3813f1(0x38f));_0x5adf3d?showMessage(_0x3813f1(0x3a9)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x304543=currentQuizData['id'],_0x12c951=doc(db,_0x3813f1(0x9d8)+appId+_0x3813f1(0x867)+_0x304543+_0x3813f1(0x26d),currentStudentName),_0x2ea909=await getDoc(_0x12c951),_0x285306=_0x2ea909[_0x3813f1(0x824)]()?_0x2ea909[_0x3813f1(0x3c0)]():{},_0x1c404f=_0x285306['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1c404f);}function getResultsFilename(){const _0x2613d7=_0x346886,_0x3783dc=document['getElementById'](_0x2613d7(0x219))[_0x2613d7(0x394)]['replace'](/[^a-z0-9]/gi,'_')[_0x2613d7(0x4c2)]();return _0x2613d7(0x95a)+(_0x3783dc||_0x2613d7(0x671));}function exportResultsAsImage(){const _0x228ac0=_0x346886,_0x58c2e2=document[_0x228ac0(0x68b)](_0x228ac0(0x751));showMessage(_0x228ac0(0x9ef)),html2canvas(_0x58c2e2)[_0x228ac0(0x7f9)](_0x5af90d=>{const _0x252f15=_0x228ac0,_0x6f809b=document[_0x252f15(0x882)]('a');_0x6f809b[_0x252f15(0x613)]=getResultsFilename()+'.png',_0x6f809b[_0x252f15(0xa45)]=_0x5af90d[_0x252f15(0x2d2)](_0x252f15(0x567)),_0x6f809b[_0x252f15(0x8d8)](),messageModal['classList']['add']('hidden');});}function exportResultsAsPDF(){const _0x46d9d8=_0x346886,{jsPDF:_0x2b6a28}=window[_0x46d9d8(0x59b)],_0x420acc=new _0x2b6a28();_0x420acc[_0x46d9d8(0x906)](_0x46d9d8(0x7ce),_0x46d9d8(0xa27)),_0x420acc[_0x46d9d8(0x72d)]({'html':_0x46d9d8(0x6e2)}),_0x420acc[_0x46d9d8(0x3cc)](getResultsFilename()+_0x46d9d8(0x4d5));}function exportResultsAsWord(){const _0x341fcf=_0x346886,_0xd35495='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x341fcf(0x3ef)+_0x341fcf(0xa04),_0x295f90='</body></html>',_0x4cabde=_0xd35495+document[_0x341fcf(0x68b)](_0x341fcf(0x751))[_0x341fcf(0x373)]+_0x295f90,_0x15493b=_0x341fcf(0x9b2)+encodeURIComponent(_0x4cabde),_0x16c7a6=document[_0x341fcf(0x882)]('a');document[_0x341fcf(0x47e)][_0x341fcf(0x5b9)](_0x16c7a6),_0x16c7a6[_0x341fcf(0xa45)]=_0x15493b,_0x16c7a6['download']=getResultsFilename()+_0x341fcf(0x47b),_0x16c7a6[_0x341fcf(0x8d8)](),document['body'][_0x341fcf(0x58e)](_0x16c7a6);}function exportResultsAsExcel(){const _0x545168=_0x346886,_0x4211f0=document[_0x545168(0x68b)](_0x545168(0x2ed));let _0x1d1c4f=[];for(let _0x43b354=0x0;_0x43b354<_0x4211f0[_0x545168(0x966)][_0x545168(0x8cf)];_0x43b354++){let _0x52188d=[],_0x343f8e=_0x4211f0['rows'][_0x43b354]['querySelectorAll'](_0x545168(0x4bd));for(let _0x120ab0=0x0;_0x120ab0<_0x343f8e[_0x545168(0x8cf)];_0x120ab0++){_0x52188d['push']('\x22'+_0x343f8e[_0x120ab0]['innerText'][_0x545168(0x2e5)](/"/g,'\x22\x22')+'\x22');}_0x1d1c4f[_0x545168(0x85a)](_0x52188d[_0x545168(0x559)](','));}const _0x3e8222=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1d1c4f[_0x545168(0x559)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x5ad52e=document[_0x545168(0x882)]('a');_0x5ad52e[_0x545168(0xa45)]=URL[_0x545168(0x890)](_0x3e8222),_0x5ad52e[_0x545168(0x613)]=getResultsFilename()+_0x545168(0x683),_0x5ad52e[_0x545168(0x8d8)]();}function exportTableAsImage(_0x407212,_0xf3c937){const _0x13aac8=_0x346886,_0x52c661=document[_0x13aac8(0x68b)](_0x407212);if(!_0x52c661){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x13aac8(0x9ef)),html2canvas(_0x52c661)[_0x13aac8(0x7f9)](_0x12f876=>{const _0x37e8c6=_0x13aac8,_0xa0ae82=document[_0x37e8c6(0x882)]('a');_0xa0ae82[_0x37e8c6(0x613)]=_0xf3c937+_0x37e8c6(0x3f0),_0xa0ae82[_0x37e8c6(0xa45)]=_0x12f876[_0x37e8c6(0x2d2)]('image/png'),_0xa0ae82['click'](),messageModal[_0x37e8c6(0x8f4)][_0x37e8c6(0xa01)]('hidden');});}function exportTableAsPDF(_0x2730ce,_0x3832bc){const _0x36a9c1=_0x346886,{jsPDF:_0x35ab5b}=window[_0x36a9c1(0x59b)],_0x14ee08=new _0x35ab5b();_0x14ee08[_0x36a9c1(0x906)]('helvetica',_0x36a9c1(0xa27)),_0x14ee08[_0x36a9c1(0x72d)]({'html':'#'+_0x2730ce}),_0x14ee08[_0x36a9c1(0x3cc)](_0x3832bc+_0x36a9c1(0x4d5));}function exportTableAsWord(_0x1e82b8,_0x462bca){const _0x38a630=_0x346886,_0x143458=document[_0x38a630(0x68b)](_0x1e82b8);if(!_0x143458){showMessage(_0x38a630(0x836));return;}const _0x473be4='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x57e0b4=_0x38a630(0x6cc),_0x312555=_0x473be4+_0x143458[_0x38a630(0x373)]+_0x57e0b4,_0x4aab37='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x312555),_0x30bf82=document[_0x38a630(0x882)]('a');document[_0x38a630(0x47e)][_0x38a630(0x5b9)](_0x30bf82),_0x30bf82[_0x38a630(0xa45)]=_0x4aab37,_0x30bf82['download']=_0x462bca+_0x38a630(0x47b),_0x30bf82[_0x38a630(0x8d8)](),document[_0x38a630(0x47e)][_0x38a630(0x58e)](_0x30bf82);}function exportTableAsExcel(_0x4f90cb,_0x50ce07){const _0x29d79a=_0x346886,_0x5ec58a=document['getElementById'](_0x4f90cb);if(!_0x5ec58a){showMessage(_0x29d79a(0x836));return;}let _0xbefdb3=[];for(let _0x3fd6f2=0x0;_0x3fd6f2<_0x5ec58a[_0x29d79a(0x966)]['length'];_0x3fd6f2++){let _0x36495b=[],_0x4285e6=_0x5ec58a[_0x29d79a(0x966)][_0x3fd6f2]['querySelectorAll'](_0x29d79a(0x4bd));for(let _0x5c53fc=0x0;_0x5c53fc<_0x4285e6['length'];_0x5c53fc++){_0x36495b['push']('\x22'+_0x4285e6[_0x5c53fc][_0x29d79a(0xa25)][_0x29d79a(0x2e5)](/"/g,'\x22\x22')+'\x22');}_0xbefdb3[_0x29d79a(0x85a)](_0x36495b[_0x29d79a(0x559)](','));}const _0x5a8b26=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xbefdb3['join']('\x0a')],{'type':_0x29d79a(0x75c)}),_0x44eed7=document[_0x29d79a(0x882)]('a');_0x44eed7[_0x29d79a(0xa45)]=URL[_0x29d79a(0x890)](_0x5a8b26),_0x44eed7['download']=_0x50ce07+_0x29d79a(0x683),_0x44eed7[_0x29d79a(0x8d8)]();}function renderAnalytics(_0x485347,_0x56fd5c){const _0x524e01=_0x346886,_0x19d47c=_0x56fd5c[_0x524e01(0x7cb)](_0x8d2b2d=>_0x8d2b2d[_0x524e01(0x317)]!==undefined),_0x22e027=currentProjectData[_0x524e01(0x408)][_0x524e01(0x8cf)],_0x357091=_0x19d47c[_0x524e01(0x8cf)],_0x1710d5=_0x22e027-_0x357091,_0x4d6c81=_0x22e027>0x0?_0x357091/_0x22e027*0x64:0x0,_0x2ac1da=_0x19d47c[_0x524e01(0x6c4)](_0xff9da2=>_0xff9da2[_0x524e01(0x317)]),_0x22a109=_0x2ac1da[_0x524e01(0x8cf)]>0x0?_0x2ac1da[_0x524e01(0x742)]((_0x192d52,_0x44bf97)=>_0x192d52+_0x44bf97,0x0)/_0x2ac1da[_0x524e01(0x8cf)]:0x0,_0x23174c=_0x485347['questions'][_0x524e01(0x8cf)],_0x172188=_0x23174c>0x0?_0x22a109/_0x23174c*0x64:0x0,_0x930dd6=calculateItemAnalysis(_0x485347,_0x19d47c),_0x329ed9=calculateReliabilityKR20(_0x485347,_0x19d47c,_0x930dd6[_0x524e01(0x41e)]);let _0x4a5abc='';if(_0x329ed9!==null){let _0x29bae2='';if(_0x329ed9>=0.9)_0x29bae2=_0x524e01(0x566);else{if(_0x329ed9>=0.8)_0x29bae2='ดีมาก';else{if(_0x329ed9>=0.7)_0x29bae2='ดี';else{if(_0x329ed9>=0.6)_0x29bae2=_0x524e01(0x7aa);else _0x29bae2='ควรปรับปรุง';}}}_0x4a5abc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x329ed9[_0x524e01(0x55a)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x29bae2+_0x524e01(0x5dc);}const _0x5c95a2=document['getElementById']('analytics-summary-cards');_0x5c95a2[_0x524e01(0x373)]=_0x524e01(0x38a)+_0x4d6c81[_0x524e01(0x55a)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x357091+'/'+_0x22e027+_0x524e01(0x512)+_0x22a109['toFixed'](0x2)+_0x524e01(0x717)+_0x172188[_0x524e01(0x55a)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x2ac1da[_0x524e01(0x8cf)]>0x0?Math[_0x524e01(0x874)](..._0x2ac1da):_0x524e01(0x971))+_0x524e01(0x84f)+(_0x2ac1da[_0x524e01(0x8cf)]>0x0?Math[_0x524e01(0x604)](..._0x2ac1da):_0x524e01(0x971))+_0x524e01(0x962)+_0x4a5abc+_0x524e01(0x3ab);const _0x3ec6a9=document[_0x524e01(0x68b)](_0x524e01(0x21c));_0x3ec6a9&&_0x3ec6a9[_0x524e01(0x42d)]();const _0x24d302='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5c95a2[_0x524e01(0x395)](_0x524e01(0x44b),_0x24d302);const _0x1cc022=currentProjectData[_0x524e01(0x408)]||[];renderSubmissionChart(_0x357091,_0x1710d5,_0x19d47c,_0x1cc022),renderScoreDistributionChart(_0x19d47c,_0x23174c),renderQuestionAnalytics(_0x485347,_0x19d47c,_0x1cc022),renderInterestingStats(_0x485347,_0x19d47c);}async function handleExportLessonPDF(){const _0x310a7a=_0x346886,_0x53c97b=document[_0x310a7a(0x68b)](_0x310a7a(0x8a9)),_0x4e131b=document['getElementById'](_0x310a7a(0x807))[_0x310a7a(0x394)],_0x19ffc4=window[_0x310a7a(0x7e4)]('',_0x310a7a(0x9bf)),_0x5d9b8b=_0x310a7a(0x76a)+_0x4e131b+_0x310a7a(0x382)+_0x53c97b['innerHTML']+_0x310a7a(0x8e0);_0x19ffc4['document'][_0x310a7a(0x358)](_0x5d9b8b),_0x19ffc4[_0x310a7a(0x59c)][_0x310a7a(0x660)](),_0x19ffc4['onload']=function(){setTimeout(()=>{const _0x537fb9=_0x2b13;_0x19ffc4[_0x537fb9(0x494)]();},0x5dc);};}function renderInterestingStats(_0x422fe7,_0x354454){const _0x16c2ef=_0x346886,_0x3c0234=document[_0x16c2ef(0x68b)](_0x16c2ef(0x9df));if(!_0x3c0234)return;if(_0x354454['length']===0x0){_0x3c0234[_0x16c2ef(0x373)]=_0x16c2ef(0x414);return;}const _0x269b20=_0x422fe7['questions'][_0x16c2ef(0x6c4)]((_0x437382,_0x50a8ce)=>({'index':_0x50a8ce+0x1,'text':_0x437382[_0x16c2ef(0x85d)]||_0x437382[_0x16c2ef(0x3db)],'correct':0x0}));_0x354454[_0x16c2ef(0x305)](_0x1622fb=>{const _0xb561e6=_0x16c2ef,_0x456ae7=_0x1622fb['attempts'][_0x1622fb['attempts']['length']-0x1];_0x456ae7&&_0x456ae7['answers']&&_0x456ae7[_0xb561e6(0x319)][_0xb561e6(0x305)](_0x448aa3=>{const _0x1094cc=_0xb561e6,_0xc9ae8d=_0x269b20[_0x1094cc(0x94f)](_0x19d35f=>_0x19d35f[_0x1094cc(0x581)]===_0x448aa3[_0x1094cc(0x9fd)]);_0x448aa3['isCorrect']&&_0xc9ae8d&&_0xc9ae8d[_0x1094cc(0x26f)]++;});});const _0x1a21b0=_0x354454[_0x16c2ef(0x8cf)],_0x46fa10=Math[_0x16c2ef(0x874)](..._0x269b20['map'](_0x178ada=>_0x178ada[_0x16c2ef(0x26f)])),_0x3450c9=Math[_0x16c2ef(0x604)](..._0x269b20['map'](_0x1a991e=>_0x1a991e[_0x16c2ef(0x26f)])),_0x3d2ccc=_0x269b20[_0x16c2ef(0x7cb)](_0x534646=>_0x534646['correct']===_0x46fa10)[_0x16c2ef(0x6c4)](_0x5e10dc=>_0x16c2ef(0x4b5)+_0x5e10dc['index']),_0xa25f77=_0x269b20[_0x16c2ef(0x7cb)](_0x22097d=>_0x22097d[_0x16c2ef(0x26f)]===_0x3450c9)['map'](_0x23eb21=>_0x16c2ef(0x4b5)+_0x23eb21[_0x16c2ef(0x31d)]),_0x389c39=_0x354454[_0x16c2ef(0x787)]((_0x3e0acf,_0xefe5fc)=>_0xefe5fc[_0x16c2ef(0x317)]-_0x3e0acf[_0x16c2ef(0x317)])[_0x16c2ef(0x7cb)]((_0xb84b4e,_0x97aa30,_0x137681)=>_0xb84b4e['latestScore']===_0x137681[0x0]['latestScore']),_0x785770=_0x354454[_0x16c2ef(0x787)]((_0x35356d,_0x25a93d)=>_0x35356d['latestScore']-_0x25a93d[_0x16c2ef(0x317)])[_0x16c2ef(0x7cb)]((_0x4df405,_0x583ed3,_0x139bf7)=>_0x4df405[_0x16c2ef(0x317)]===_0x139bf7[0x0][_0x16c2ef(0x317)]),_0x4280b8=_0x16c2ef(0x5ff)+_0x3d2ccc[_0x16c2ef(0x559)](',\x20')+_0x16c2ef(0x69b)+_0x46fa10+_0x16c2ef(0x818)+_0x1a21b0+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0xa25f77[_0x16c2ef(0x559)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x1a21b0-_0x3450c9)+_0x16c2ef(0x818)+_0x1a21b0+_0x16c2ef(0xa44)+_0x389c39['map'](_0x1ac229=>_0x1ac229[_0x16c2ef(0x7ad)])[_0x16c2ef(0x559)](',\x20')+_0x16c2ef(0x5c2)+_0x389c39[0x0][_0x16c2ef(0x317)]+_0x16c2ef(0xa2e)+_0x785770[_0x16c2ef(0x6c4)](_0x44a1a9=>_0x44a1a9['studentName'])[_0x16c2ef(0x559)](',\x20')+_0x16c2ef(0x5c2)+_0x785770[0x0][_0x16c2ef(0x317)]+_0x16c2ef(0x5e1);_0x3c0234[_0x16c2ef(0x373)]=_0x4280b8;}function renderSubmissionChart(_0x5aec61,_0x174a88,_0x303fe0,_0x31f547){const _0x207633=_0x346886,_0x2ba2c2=document[_0x207633(0x68b)](_0x207633(0x6ba))[_0x207633(0x639)]('2d'),_0x180233=_0x303fe0[_0x207633(0x6c4)](_0x38e500=>_0x38e500['studentName']),_0x44dd80=_0x31f547[_0x207633(0x7cb)](_0x45ca3c=>!_0x180233[_0x207633(0x634)](_0x45ca3c));chartInstances[_0x207633(0x550)]&&chartInstances[_0x207633(0x550)][_0x207633(0x921)](),chartInstances[_0x207633(0x550)]=new Chart(_0x2ba2c2,{'type':'doughnut','data':{'labels':[_0x207633(0x7dc),_0x207633(0x3fe)],'datasets':[{'data':[_0x5aec61,_0x174a88],'backgroundColor':[_0x207633(0x60f),'#F59E0B'],'borderColor':[_0x207633(0x283),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x207633(0x43c)},'tooltip':{'callbacks':{'label':function(_0x207162){const _0x317357=_0x207633;let _0x4b44c0=_0x207162[_0x317357(0x232)]||'';return _0x4b44c0&&(_0x4b44c0+=':\x20'),_0x4b44c0+=_0x207162[_0x317357(0x828)],_0x4b44c0;},'afterLabel':function(_0xe0869f){const _0x36acca=_0x207633;let _0x379bb7;return _0xe0869f[_0x36acca(0x217)]===0x0?_0x379bb7=_0x180233:_0x379bb7=_0x44dd80,_0x379bb7['length']>0x0?_0x379bb7[_0x36acca(0x559)]('\x0a'):_0x36acca(0x686);}}}}}});}function renderScoreDistributionChart(_0x5117ed,_0x3b5375){const _0x48636a=_0x346886,_0x544bb8=document['getElementById'](_0x48636a(0x275))[_0x48636a(0x639)]('2d'),_0x56b78e={};for(let _0x2cb624=0x0;_0x2cb624<=_0x3b5375;_0x2cb624++){_0x56b78e[_0x2cb624]=0x0;}_0x5117ed[_0x48636a(0x305)](_0x20d7ba=>{const _0x2be9fe=_0x48636a;_0x56b78e[_0x20d7ba['latestScore']]!==undefined&&_0x56b78e[_0x20d7ba[_0x2be9fe(0x317)]]++;}),chartInstances[_0x48636a(0x4e5)]&&chartInstances['score'][_0x48636a(0x921)](),chartInstances[_0x48636a(0x4e5)]=new Chart(_0x544bb8,{'type':_0x48636a(0x4c8),'data':{'labels':Object[_0x48636a(0x729)](_0x56b78e),'datasets':[{'label':_0x48636a(0x935),'data':Object[_0x48636a(0x1f0)](_0x56b78e),'backgroundColor':_0x48636a(0x9cf),'borderColor':_0x48636a(0x3f8),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x48636a(0xa13)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x14c16c){const _0xf56b91=_0x48636a,_0x3ee6fd=_0x14c16c[_0xf56b91(0x232)],_0x267c5e=_0x5117ed['filter'](_0x554086=>_0x554086[_0xf56b91(0x317)]==_0x3ee6fd)[_0xf56b91(0x6c4)](_0x4c217d=>_0x4c217d[_0xf56b91(0x7ad)]);return _0x267c5e[_0xf56b91(0x8cf)]>0x0?_0x267c5e[_0xf56b91(0x559)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x6f3b0d,_0x253915,_0x574565){const _0x2cc512=_0x346886,_0x351926=document[_0x2cc512(0x68b)](_0x2cc512(0x2d8));if(_0x574565['length']===0x0){_0x351926[_0x2cc512(0x373)]=_0x2cc512(0x241);return;}const _0x4624bd=calculateItemAnalysis(_0x6f3b0d,_0x253915),_0x212ab0=calculateDistractorAnalysis(_0x6f3b0d,_0x253915);let _0x2fd241='';_0x4624bd[_0x2cc512(0x6db)]&&(_0x2fd241=_0x2cc512(0x585)+_0x4624bd[_0x2cc512(0x6db)][_0x2cc512(0x387)][_0x2cc512(0x8cf)]+_0x2cc512(0x81a)+_0x4624bd['overallGroups'][_0x2cc512(0x387)][_0x2cc512(0x6c4)](_0x3cfa52=>_0x2cc512(0x987)+_0x3cfa52+_0x2cc512(0x73d))[_0x2cc512(0x559)]('')+_0x2cc512(0x39c)+_0x4624bd['overallGroups'][_0x2cc512(0x36e)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4624bd[_0x2cc512(0x6db)]['lowerGroupNames'][_0x2cc512(0x6c4)](_0x4dafbf=>_0x2cc512(0x987)+_0x4dafbf+'</li>')[_0x2cc512(0x559)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x52cd51='';const _0x1282f9=_0x253915['map'](_0x52c772=>_0x52c772['studentName']),_0x6e8cdb=_0x71c8ff=>{const _0x4de4=_0x2cc512;if(_0x71c8ff>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x71c8ff>=0.6)return _0x4de4(0x980);if(_0x71c8ff>=0.4)return _0x4de4(0x421);if(_0x71c8ff>=0.2)return _0x4de4(0x309);return _0x4de4(0xa2c);},_0x24b08c=_0x25d033=>{const _0x5d05bf=_0x2cc512;if(_0x25d033<0x0)return _0x5d05bf(0x5a6);if(_0x25d033>=0.4)return _0x5d05bf(0x63b);if(_0x25d033>=0.3)return _0x5d05bf(0x6d2);if(_0x25d033>=0.2)return _0x5d05bf(0x659);return _0x5d05bf(0x8ea);},_0x4d29eb=_0x4a41f7=>{const _0x3e609a=_0x2cc512,_0x3a2703=_0x4a41f7['toFixed'](0x0);if(parseFloat(_0x3a2703)===0x64)return _0x3e609a(0x681)+_0x3a2703+'%</span>';if(_0x4a41f7>=0x32)return _0x3e609a(0x923)+_0x3a2703+_0x3e609a(0x4c0);return _0x3e609a(0x86e)+_0x3a2703+_0x3e609a(0x4c0);};_0x6f3b0d[_0x2cc512(0xa18)]['forEach']((_0x529d3b,_0x155434)=>{const _0x569321=_0x2cc512,_0x870e9e=_0x4624bd[_0x569321(0x41e)][_0x155434],_0x3a9e56=_0x212ab0[_0x155434],_0x4a7320=_0x529d3b[_0x569321(0x3db)]||_0x529d3b[_0x569321(0x85d)]||_0x529d3b[_0x569321(0xa1a)];let _0x4ae575=0x0;const _0xe129a=[],_0x3ab95e=[];_0x253915['forEach'](_0x267c10=>{const _0x550642=_0x569321,_0x595572=_0x267c10[_0x550642(0x3ce)][_0x267c10[_0x550642(0x3ce)]['length']-0x1];if(_0x595572&&_0x595572['answers']){const _0x5aa3ae=_0x595572[_0x550642(0x319)][_0x550642(0x94f)](_0x30768e=>_0x30768e[_0x550642(0x9fd)]===_0x4a7320)??_0x595572[_0x550642(0x319)][_0x155434]??null;_0x5aa3ae&&(_0x5aa3ae[_0x550642(0x5d2)]?(_0x4ae575++,_0xe129a[_0x550642(0x85a)](_0x267c10[_0x550642(0x7ad)])):_0x3ab95e[_0x550642(0x85a)](_0x267c10['studentName']));}});const _0x2c73fc=_0x253915[_0x569321(0x8cf)]>0x0?_0x4ae575/_0x253915[_0x569321(0x8cf)]*0x64:0x0,_0x418086=_0x574565[_0x569321(0x7cb)](_0x22eaaf=>!_0x1282f9['includes'](_0x22eaaf)),_0x1ce545=_0x870e9e?_0x569321(0x812)+_0x870e9e['p'][_0x569321(0x55a)](0x2)+'</p><div>'+_0x6e8cdb(_0x870e9e['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x870e9e['r'][_0x569321(0x55a)](0x2)+'</p><div>'+_0x24b08c(_0x870e9e['r'])+_0x569321(0x2e4)+_0x4d29eb(_0x2c73fc)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x163d59='';_0x3a9e56&&(_0x163d59=_0x569321(0x3e7)+Object[_0x569321(0x729)](_0x3a9e56)['map'](_0x137599=>{const _0x136005=_0x569321,_0xd25892=_0x3a9e56[_0x137599],_0x492495=parseInt(_0x137599)===_0x529d3b[_0x136005(0x60a)],_0x4fca8d=!_0x492495&&_0xd25892[_0x136005(0x229)]>_0xd25892[_0x136005(0x862)];return _0x136005(0x200)+(_0x492495?'bg-green-100\x20font-bold':'')+_0x136005(0x549)+(_0x492495?'✔\x20':'')+_0xd25892[_0x136005(0x581)]+_0x136005(0x6a5)+_0xd25892[_0x136005(0x862)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xd25892[_0x136005(0x229)]+'\x20'+(_0x4fca8d?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xd25892['total']+_0x136005(0x570);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x4b522d='';_0x870e9e&&_0x870e9e['upperGroupResponders']&&(_0x4b522d=_0x569321(0x477)+_0x870e9e[_0x569321(0x8cb)][_0x569321(0x8cf)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x870e9e['upperGroupResponders'][_0x569321(0x6c4)](_0x387dcb=>'<li>'+(_0x387dcb[_0x569321(0x5d2)]?_0x569321(0x9f0):_0x569321(0x6e8))+'\x20'+_0x387dcb[_0x569321(0x54b)]+_0x569321(0x73d))['join']('')+_0x569321(0x654)+_0x870e9e[_0x569321(0x963)][_0x569321(0x8cf)]+_0x569321(0x6b0)+_0x870e9e[_0x569321(0x963)][_0x569321(0x6c4)](_0x763772=>'<li>'+(_0x763772[_0x569321(0x5d2)]?_0x569321(0x9f0):_0x569321(0x6e8))+'\x20'+_0x763772[_0x569321(0x54b)]+_0x569321(0x73d))[_0x569321(0x559)]('')+_0x569321(0x50c)),_0x52cd51+=_0x569321(0x823)+(_0x155434+0x1)+':\x20'+_0x4a7320+_0x569321(0x4c9)+_0x1ce545+_0x569321(0x36f)+_0x4a7320+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x4ae575+_0x569321(0x544)+_0x253915[_0x569321(0x8cf)]+_0x569321(0x8de)+_0x2c73fc[_0x569321(0x55a)](0x0)+_0x569321(0x3b9)+_0xe129a['length']+_0x569321(0x72b)+(_0xe129a[_0x569321(0x8cf)]>0x0?_0xe129a[_0x569321(0x559)](',\x20'):_0x569321(0x686))+_0x569321(0x457)+_0x3ab95e['length']+_0x569321(0x72b)+(_0x3ab95e[_0x569321(0x8cf)]>0x0?_0x3ab95e['join'](',\x20'):_0x569321(0x686))+_0x569321(0x67c)+_0x418086['length']+_0x569321(0x72b)+(_0x418086[_0x569321(0x8cf)]>0x0?_0x418086[_0x569321(0x559)](',\x20'):_0x569321(0x686))+_0x569321(0x5f7)+_0x163d59+_0x569321(0x3e8)+_0x4b522d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x351926[_0x2cc512(0x373)]=_0x2fd241+_0x52cd51;try{window[_0x2cc512(0x31e)]&&MathJax['typesetPromise']&&MathJax[_0x2cc512(0x3f5)]([_0x351926]);}catch(_0x27c64c){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x27c64c);}}function calculateDistractorAnalysis(_0x4251e9,_0x335184){const _0x4e8fbb=_0x346886,_0x1f44d3={};if(_0x335184[_0x4e8fbb(0x8cf)]<0x2)return _0x1f44d3;const _0x3b5ee5=[..._0x335184][_0x4e8fbb(0x787)]((_0x49b820,_0x1552cc)=>{const _0x55a433=_0x4e8fbb,_0x113ad8=_0x1552cc['latestScore']-_0x49b820[_0x55a433(0x317)];if(_0x113ad8!==0x0)return _0x113ad8;const _0x1b6080=_0x49b820[_0x55a433(0x3ce)]?.[_0x55a433(0x8cf)]||0x1,_0x183084=_0x1552cc[_0x55a433(0x3ce)]?.[_0x55a433(0x8cf)]||0x1,_0x1be152=_0x1b6080-_0x183084;if(_0x1be152!==0x0)return _0x1be152;const _0x3e2dd3=new Date(_0x49b820[_0x55a433(0x3ff)]),_0x2b9c80=new Date(_0x1552cc[_0x55a433(0x3ff)]),_0x13b4d8=_0x3e2dd3-_0x2b9c80;if(_0x13b4d8!==0x0)return _0x13b4d8;return _0x49b820[_0x55a433(0x7ad)][_0x55a433(0x959)](_0x1552cc[_0x55a433(0x7ad)],'th');}),_0x4c45ee=_0x3b5ee5[_0x4e8fbb(0x8cf)],_0x235d61=Math[_0x4e8fbb(0x874)](0x1,Math[_0x4e8fbb(0x337)](_0x4c45ee*0.33)),_0x21ea8f=_0x3b5ee5[_0x4e8fbb(0x27a)](0x0,_0x235d61),_0x1ab5cc=_0x3b5ee5[_0x4e8fbb(0x27a)](-_0x235d61);return _0x4251e9[_0x4e8fbb(0xa18)]['forEach']((_0x3f63a1,_0x119de7)=>{const _0x57323a=_0x4e8fbb;if(_0x3f63a1[_0x57323a(0x296)]!==_0x57323a(0x586)||!_0x3f63a1['options'])return;const _0x5347d1=_0x3f63a1[_0x57323a(0x85d)],_0x25facc={};_0x3f63a1[_0x57323a(0x77f)][_0x57323a(0x305)]((_0x379608,_0x2eefd9)=>{_0x25facc[_0x2eefd9]={'text':_0x379608,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3b5ee5[_0x57323a(0x305)](_0x435d9f=>{const _0x10e233=_0x57323a,_0x102dc7=_0x435d9f[_0x10e233(0x3ce)][_0x435d9f[_0x10e233(0x3ce)][_0x10e233(0x8cf)]-0x1],_0x507e17=_0x102dc7[_0x10e233(0x319)]['find'](_0x366507=>_0x366507[_0x10e233(0x9fd)]===_0x5347d1);if(_0x507e17&&_0x507e17['answer']!==null){const _0x1a0eee=_0x3f63a1[_0x10e233(0x77f)]['findIndex'](_0x261fe1=>_0x261fe1===_0x507e17['answerText']);_0x1a0eee!==-0x1&&_0x25facc[_0x1a0eee]&&(_0x25facc[_0x1a0eee]['total']++,_0x21ea8f[_0x10e233(0x634)](_0x435d9f)&&_0x25facc[_0x1a0eee]['upper_group_count']++,_0x1ab5cc[_0x10e233(0x634)](_0x435d9f)&&_0x25facc[_0x1a0eee][_0x10e233(0x229)]++);}}),_0x1f44d3[_0x119de7]=_0x25facc;}),_0x1f44d3;}function calculateReliabilityKR20(_0x34fd66,_0x4a05ab,_0x1db15d){const _0x1e4f7e=_0x346886,_0x3adca4=_0x34fd66['questions']['length'];if(_0x3adca4<0x2||_0x4a05ab[_0x1e4f7e(0x8cf)]<0x2)return null;const _0x4c5d4c=_0x4a05ab[_0x1e4f7e(0x6c4)](_0x47f170=>_0x47f170[_0x1e4f7e(0x317)]),_0x3b3c18=_0x4c5d4c[_0x1e4f7e(0x742)]((_0x12c7e5,_0xced192)=>_0x12c7e5+_0xced192,0x0)/_0x4c5d4c[_0x1e4f7e(0x8cf)],_0x51febc=_0x4c5d4c[_0x1e4f7e(0x6c4)](_0x2b817c=>Math[_0x1e4f7e(0x8a0)](_0x2b817c-_0x3b3c18,0x2))[_0x1e4f7e(0x742)]((_0x4e9373,_0x977d6d)=>_0x4e9373+_0x977d6d,0x0)/_0x4c5d4c['length'];if(_0x51febc===0x0)return null;let _0x11bbf1=0x0;for(let _0x3f2ab2=0x0;_0x3f2ab2<_0x3adca4;_0x3f2ab2++){const _0x1d46b0=_0x1db15d[_0x3f2ab2]?.['p'];if(_0x1d46b0===undefined)continue;const _0x5cfaae=0x1-_0x1d46b0;_0x11bbf1+=_0x1d46b0*_0x5cfaae;}if(_0x11bbf1===0x0)return null;const _0x45b370=_0x3adca4/(_0x3adca4-0x1)*(0x1-_0x11bbf1/_0x51febc);if(_0x45b370>0x1)return null;return _0x45b370;}async function handleAnalyzeClass(){const _0x4735dd=_0x346886;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4735dd(0x541));return;}const _0x4a2ef0=collection(db,_0x4735dd(0x9d8)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x4735dd(0x26d)),_0x1aa61e=await getDocs(_0x4a2ef0),_0xb39ab1=_0x1aa61e['docs'][_0x4735dd(0x6c4)](_0x566f7d=>_0x566f7d[_0x4735dd(0x3c0)]());if(_0xb39ab1[_0x4735dd(0x8cf)]<0x2){showMessage(_0x4735dd(0x773));return;}const _0x1bf849=document['getElementById']('strength-weakness-analysis-container');_0x1bf849['innerHTML']=_0x4735dd(0xa06),document[_0x4735dd(0x68b)](_0x4735dd(0x915))['disabled']=!![];const _0x189dc5=_0xb39ab1[_0x4735dd(0x6c4)]((_0x51ebc8,_0xe9f575)=>{const _0x23a714=_0x4735dd,_0x3e7930=_0x51ebc8[_0x23a714(0x3ce)][_0x51ebc8[_0x23a714(0x3ce)]['length']-0x1];if(!_0x3e7930)return'';return _0x23a714(0x8b1)+(_0xe9f575+0x1)+'\x20('+_0x51ebc8['studentName']+_0x23a714(0x279)+_0x3e7930[_0x23a714(0x4e5)]+'/'+_0x51ebc8[_0x23a714(0x734)]+_0x23a714(0x9d5)+JSON[_0x23a714(0x2cf)](_0x3e7930[_0x23a714(0x319)])+_0x23a714(0x8bf);})[_0x4735dd(0x559)](_0x4735dd(0x5f0)),_0x28611c=_0x4735dd(0x814)+currentQuizData[_0x4735dd(0x9e3)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x4735dd(0xa18)])+_0x4735dd(0x348)+_0x189dc5+_0x4735dd(0x354),_0x4fc12e={'type':_0x4735dd(0x206),'properties':{'classStrengths':{'type':_0x4735dd(0x813),'items':{'type':_0x4735dd(0x9d7)}},'classWeaknesses':{'type':_0x4735dd(0x813),'items':{'type':_0x4735dd(0x9d7)}},'teacherSuggestions':{'type':_0x4735dd(0x813),'items':{'type':_0x4735dd(0x9d7)}}},'required':[_0x4735dd(0x788),_0x4735dd(0x21d),_0x4735dd(0x538)]};try{const _0x485a26=await callAnalysisApi(_0x28611c,_0x4fc12e);displayClassAnalysis(_0x485a26);}catch(_0x4d040c){console[_0x4735dd(0x6f2)]('Error\x20during\x20class\x20analysis:',_0x4d040c),_0x1bf849['innerHTML']=_0x4735dd(0x276)+_0x4d040c['message']+_0x4735dd(0x694);}finally{document[_0x4735dd(0x68b)](_0x4735dd(0x915))[_0x4735dd(0x438)]=![];}}function displayClassAnalysis(_0x2d93b3){const _0x1d2994=_0x346886,_0x11a8b0=document[_0x1d2994(0x68b)](_0x1d2994(0x54a));if(!_0x2d93b3){_0x11a8b0[_0x1d2994(0x373)]=_0x1d2994(0x769);return;}_0x11a8b0[_0x1d2994(0x373)]=_0x1d2994(0x25f)+_0x2d93b3[_0x1d2994(0x788)][_0x1d2994(0x6c4)](_0x279a4b=>'<li>'+_0x279a4b+'</li>')[_0x1d2994(0x559)]('')+_0x1d2994(0x3d7)+_0x2d93b3[_0x1d2994(0x21d)]['map'](_0x1e67c7=>_0x1d2994(0x987)+_0x1e67c7+_0x1d2994(0x73d))[_0x1d2994(0x559)]('')+_0x1d2994(0x615)+_0x2d93b3[_0x1d2994(0x538)][_0x1d2994(0x6c4)](_0x350170=>_0x1d2994(0x987)+_0x350170+_0x1d2994(0x73d))[_0x1d2994(0x559)]('')+_0x1d2994(0x834);}function formatAndPrintWorksheet(_0x2ac49a,_0x549f9c){const _0x9b100b=_0x346886,_0x50a653=_0x9b100b(0x5b8)+_0x2ac49a[_0x9b100b(0x9e3)]+_0x9b100b(0x767)+_0x2ac49a[_0x9b100b(0x9e3)]+_0x9b100b(0x8ba)+_0x2ac49a['questions'][_0x9b100b(0x6c4)]((_0x389dc4,_0x16bdc3)=>_0x9b100b(0x7b6)+(_0x16bdc3+0x1)+'.\x20'+_0x389dc4[_0x9b100b(0x85d)]+_0x9b100b(0x5cb)+(_0x389dc4[_0x9b100b(0x884)]?_0x9b100b(0x3fd)+_0x389dc4[_0x9b100b(0x884)]+_0x9b100b(0x531):'')+_0x9b100b(0x605))[_0x9b100b(0x559)]('')+_0x9b100b(0x4c5);_0x549f9c[_0x9b100b(0x59c)]['write'](_0x50a653),_0x549f9c['document'][_0x9b100b(0x660)](),_0x549f9c[_0x9b100b(0xa0a)]=function(){setTimeout(()=>{const _0x32fa28=_0x2b13;_0x549f9c[_0x32fa28(0x494)]();},0x3e8);};}async function generateWorksheet(){const _0x4517ac=_0x346886,_0xe2b059=document[_0x4517ac(0x68b)]('worksheet-topic-input')[_0x4517ac(0x967)][_0x4517ac(0x905)]();if(!_0xe2b059){showMessage(_0x4517ac(0x5a1));return;}const _0x4cae09=document['getElementById'](_0x4517ac(0x23c))[_0x4517ac(0x89c)],_0x2c179c=_0x4cae09?'':_0x4517ac(0x94a),_0x5669c4=window[_0x4517ac(0x7e4)]('',_0x4517ac(0x9bf));_0x5669c4['document'][_0x4517ac(0x358)](_0x4517ac(0x3d3));const _0x224c32=parseInt(document[_0x4517ac(0x68b)](_0x4517ac(0x7c2))[_0x4517ac(0x967)]),_0x2fc58b=document[_0x4517ac(0x68b)](_0x4517ac(0x274))['checked'],_0x20b786=_0x2fc58b?_0x4517ac(0x588):'',_0x35e3c3=_0x4517ac(0x952)+_0x2c179c+_0x4517ac(0x306)+_0x224c32+_0x4517ac(0x224)+_0xe2b059+_0x4517ac(0x87b)+_0x20b786+_0x4517ac(0x8e3)+simpleMathPrompt+_0x4517ac(0x969),_0x5950d7={'type':_0x4517ac(0x206),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4517ac(0x813),'items':{'type':_0x4517ac(0x206),'properties':{'questionText':{'type':_0x4517ac(0x9d7)},'imageCode':{'type':_0x4517ac(0x9d7)}},'required':[_0x4517ac(0x85d)]}}},'required':[_0x4517ac(0x9e3),'questions']};document[_0x4517ac(0x68b)]('loader-text')[_0x4517ac(0x394)]='',document['getElementById']('loader')[_0x4517ac(0x8f4)][_0x4517ac(0x42d)](_0x4517ac(0x901)),document[_0x4517ac(0x68b)](_0x4517ac(0x3a4))[_0x4517ac(0x8f4)]['remove'](_0x4517ac(0x901)),generateWorksheetBtn['disabled']=!![];try{const _0x54c558=await callAnalysisApi(_0x35e3c3,_0x5950d7);formatAndPrintWorksheet(_0x54c558,_0x5669c4);}catch(_0x1c0f6a){console['error'](_0x4517ac(0x747),_0x1c0f6a);if(_0x5669c4)_0x5669c4[_0x4517ac(0x660)]();showMessage(_0x4517ac(0x21e));}finally{document['getElementById']('loader')[_0x4517ac(0x8f4)][_0x4517ac(0xa01)](_0x4517ac(0x901)),document[_0x4517ac(0x68b)]('quiz-generation-area')[_0x4517ac(0x8f4)][_0x4517ac(0xa01)]('hidden'),generateWorksheetBtn[_0x4517ac(0x438)]=![];}}async function callAnalysisApi(_0x1b1e7b,_0x552106){const _0xa0e162=_0x346886,_0x546c43={'contents':[{'role':_0xa0e162(0x668),'parts':[{'text':_0x1b1e7b}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x552106}},_0x5b82b5=_0xa0e162(0x2d6),_0x2fe5c3=_0xa0e162(0x984)+_0x5b82b5,_0x33d2af=await fetch(_0x2fe5c3,{'method':_0xa0e162(0x658),'headers':{'Content-Type':_0xa0e162(0x1f9)},'body':JSON[_0xa0e162(0x2cf)](_0x546c43)});if(!_0x33d2af['ok'])throw new Error(_0xa0e162(0x623)+_0x33d2af[_0xa0e162(0x719)]);const _0x1aa37e=await _0x33d2af[_0xa0e162(0x333)]();if(_0x1aa37e[_0xa0e162(0x213)]?.[0x0]?.[_0xa0e162(0x40c)]?.[_0xa0e162(0x289)]?.[0x0])return JSON[_0xa0e162(0x783)](_0x1aa37e[_0xa0e162(0x213)][0x0]['content'][_0xa0e162(0x289)][0x0][_0xa0e162(0x581)]);else{let _0x3d3da3='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x1aa37e[_0xa0e162(0xa19)]?.[_0xa0e162(0x367)])_0x3d3da3=_0xa0e162(0x3cd)+_0x1aa37e[_0xa0e162(0xa19)]['blockReason']+'.';else _0x1aa37e[_0xa0e162(0x213)]?.[0x0]?.['finishReason']&&_0x1aa37e[_0xa0e162(0x213)][0x0]['finishReason']!==_0xa0e162(0x401)&&(_0x3d3da3='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x1aa37e['candidates'][0x0]['finishReason']+'.');console['error'](_0x3d3da3,JSON[_0xa0e162(0x2cf)](_0x1aa37e));throw new Error(_0x3d3da3);}}initialize();
