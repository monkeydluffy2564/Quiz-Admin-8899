const _0x47050f=_0x3d0b;(function(_0x2f533b,_0x3ae3eb){const _0x589922=_0x3d0b,_0x4dcc4f=_0x2f533b();while(!![]){try{const _0x33a52d=parseInt(_0x589922(0xd41))/0x1*(parseInt(_0x589922(0xd60))/0x2)+parseInt(_0x589922(0xc19))/0x3+-parseInt(_0x589922(0x7be))/0x4*(-parseInt(_0x589922(0x335))/0x5)+-parseInt(_0x589922(0x85c))/0x6*(parseInt(_0x589922(0xaf3))/0x7)+-parseInt(_0x589922(0xb56))/0x8+parseInt(_0x589922(0xe7f))/0x9*(-parseInt(_0x589922(0xac9))/0xa)+parseInt(_0x589922(0xbd7))/0xb;if(_0x33a52d===_0x3ae3eb)break;else _0x4dcc4f['push'](_0x4dcc4f['shift']());}catch(_0x54c98b){_0x4dcc4f['push'](_0x4dcc4f['shift']());}}}(_0x126a,0x63a24));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x47050f(0x5ea),'บักแตงโม',_0x47050f(0x55a),_0x47050f(0xb7b),_0x47050f(0x49f),_0x47050f(0xb01),'โลมาบิน',_0x47050f(0xd79),'เพนกวินไฟ',_0x47050f(0x77e),_0x47050f(0x374),_0x47050f(0xbd8),_0x47050f(0xcf1),_0x47050f(0x671),_0x47050f(0xca2),_0x47050f(0xabd),_0x47050f(0x7fa),_0x47050f(0x866),'โจรสลัดอวกาศ','มังกรกินจุ',_0x47050f(0xdd8),_0x47050f(0xdbb),_0x47050f(0x1ff),'ไก่ฟ้าพญาลอ',_0x47050f(0x216),_0x47050f(0x8e1),'กระต่ายตื่นตูม',_0x47050f(0x222),_0x47050f(0x6fe),_0x47050f(0x4a5),_0x47050f(0x84c),_0x47050f(0x223),_0x47050f(0x612),_0x47050f(0xdfb),_0x47050f(0xdea),_0x47050f(0x32b),'เศรษฐีดูไบ',_0x47050f(0x9ef),_0x47050f(0xae6),_0x47050f(0x1dc),_0x47050f(0x802),_0x47050f(0xbc8),_0x47050f(0x555),_0x47050f(0x5e4),_0x47050f(0xcbc),_0x47050f(0xc07),_0x47050f(0x6da),_0x47050f(0xa54),_0x47050f(0x83e),_0x47050f(0xb96),'สายตาสั้น','ปวดหลัง',_0x47050f(0x28b),_0x47050f(0xc15),_0x47050f(0x321),_0x47050f(0x188),_0x47050f(0x9c3),_0x47050f(0x527),'404\x20Not\x20Found',_0x47050f(0xe98),_0x47050f(0xe07),_0x47050f(0x437),_0x47050f(0xe2b),'ก้อนเมฆ',_0x47050f(0x9dd),_0x47050f(0x232),_0x47050f(0x213),'ภูเขา',_0x47050f(0xdc7),'แม่น้ำ','นักเดินทาง',_0x47050f(0x401),_0x47050f(0xa58),_0x47050f(0x894),_0x47050f(0xe14),_0x47050f(0x265),'นักวิทยาศาสตร์',_0x47050f(0xc1e),_0x47050f(0x891),_0x47050f(0x253),_0x47050f(0x93b),_0x47050f(0x7ad),_0x47050f(0xe1c),_0x47050f(0x9de),_0x47050f(0x65a),_0x47050f(0x8b6),_0x47050f(0xe70),_0x47050f(0xc4a),_0x47050f(0x839),_0x47050f(0x428),_0x47050f(0xcd2),_0x47050f(0x6aa),_0x47050f(0x6ca),'อกหัก',_0x47050f(0xc18),_0x47050f(0x33e),_0x47050f(0x3dd),_0x47050f(0x64e),_0x47050f(0xb98),_0x47050f(0xa67)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x47050f(0xb3f),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x47050f(0xb3f),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x53fd8b=_0x47050f;if(_0x53fd8b(0x54f)in navigator)try{wakeLock=await navigator['wakeLock'][_0x53fd8b(0xd07)]('screen'),console[_0x53fd8b(0x418)](_0x53fd8b(0x443)),wakeLock[_0x53fd8b(0x86d)](_0x53fd8b(0x68a),()=>{const _0x53b367=_0x53fd8b;console[_0x53b367(0x418)](_0x53b367(0x7a1));});}catch(_0x59e233){console[_0x53fd8b(0x8c2)](_0x53fd8b(0x23e)+_0x59e233[_0x53fd8b(0x312)]+',\x20'+_0x59e233[_0x53fd8b(0xac4)]);}else console[_0x53fd8b(0xd86)](_0x53fd8b(0xb12));},releaseWakeLock=async()=>{const _0x563e72=_0x47050f;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x563e72(0x418)](_0x563e72(0x949)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x9778=_0x47050f;if(!document[_0x9778(0xdb8)][_0x9778(0x9cc)][_0x9778(0x2bc)](_0x9778(0x5de))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x21e5bc=_0x9778;document[_0x21e5bc(0xdb8)]['classList'][_0x21e5bc(0x505)](_0x21e5bc(0x5de)),console[_0x21e5bc(0x418)](_0x21e5bc(0x206));},inactivityTime);}}function wakeUpScreen(_0x34ee52){const _0x25b4ab=_0x47050f;_0x34ee52&&(_0x34ee52[_0x25b4ab(0xccd)](),_0x34ee52[_0x25b4ab(0x95b)]());document[_0x25b4ab(0xdb8)]['classList'][_0x25b4ab(0x7a8)](_0x25b4ab(0x5de));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1514ab=_0x25b4ab;document[_0x1514ab(0xdb8)]['classList']['add'](_0x1514ab(0x5de));},inactivityTime);}function stopDimTimer(){const _0x38d0a4=_0x47050f;if(dimTimer)clearTimeout(dimTimer);document[_0x38d0a4(0xdb8)][_0x38d0a4(0x9cc)][_0x38d0a4(0x7a8)](_0x38d0a4(0x5de)),window[_0x38d0a4(0x64c)](_0x38d0a4(0xc93),resetDimTimer),window[_0x38d0a4(0x64c)](_0x38d0a4(0x5ad),resetDimTimer),window[_0x38d0a4(0x64c)](_0x38d0a4(0x68e),resetDimTimer),window[_0x38d0a4(0x64c)]('keydown',resetDimTimer),console[_0x38d0a4(0x418)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x1f805b,_0x5f121f=![]){const _0xc58934=_0x47050f,_0x407278=allQuizzes[_0xc58934(0x60d)](_0x718d3a=>_0x718d3a['id']===_0x1f805b)||allQuizzesGlobal[_0xc58934(0x60d)](_0xf62f72=>_0xf62f72['id']===_0x1f805b);if(!_0x407278){showMessage(_0xc58934(0x53b));return;}currentQuizData=getShuffledQuiz(_0x407278);const _0x49aad9=Math[_0xc58934(0x3ee)](0x3e8+Math[_0xc58934(0x457)]()*0x2328)[_0xc58934(0xae1)]();try{const _0x519cd8=await addDoc(collection(db,_0xc58934(0x4cd)+appId+'/public/data/teamQuizzes'),{'quizId':_0x407278['id'],'projectId':_0x407278[_0xc58934(0x28c)],'status':_0xc58934(0x673),'pin':_0x49aad9,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5f121f});currentTeamQuizId=_0x519cd8['id'],showView(_0xc58934(0x1e1)),renderAdminTeamQuizDashboard(_0x49aad9,_0x407278[_0xc58934(0x6d2)]),listenForTeamQuizUpdates();}catch(_0x5ca2fa){console[_0xc58934(0x8c2)](_0xc58934(0xbfa),_0x5ca2fa),showMessage(_0xc58934(0xa5f));}}function renderAdminTeamQuizDashboard(_0xff968f,_0x1eb3ac,_0x48e4c5='team'){const _0x1ed304=_0x47050f,_0x4494dd=_0x48e4c5==='group'?_0x1ed304(0x8bf):_0x1ed304(0xa01);liveGameView['innerHTML']=_0x1ed304(0x7bb)+_0x4494dd+':\x20'+_0x1eb3ac+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0xff968f+_0x1ed304(0x388),document[_0x1ed304(0x70b)]('end-team-quiz-btn')[_0x1ed304(0x86d)](_0x1ed304(0x9a8),async()=>{const _0x5da7bd=_0x1ed304;showConfirmation(_0x5da7bd(0x3e1),async()=>{const _0x21be1c=_0x5da7bd;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x21be1c(0x4cd)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x121c6b=_0x47050f;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x112c7b=doc(db,_0x121c6b(0x4cd)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x112c7b,_0xfce9df=>{const _0x5b3a54=_0x121c6b;if(!_0xfce9df[_0x5b3a54(0x7ed)]()){sessionStorage[_0x5b3a54(0x39a)](_0x5b3a54(0xc10));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x5b3a54(0x6a9));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5b3a54(0xb0f)?showView(_0x5b3a54(0x79e)):showView(_0x5b3a54(0x2d1));return;}const _0x53d207=_0xfce9df['data']();if(currentMode===_0x5b3a54(0xb0f)){if(_0x53d207[_0x5b3a54(0xa43)]===_0x5b3a54(0x7af)&&_0x53d207['status']!==_0x5b3a54(0x824)&&_0x53d207[_0x5b3a54(0xbd3)]!=='finished'){const _0x2896db=Object[_0x5b3a54(0xb0c)](_0x53d207[_0x5b3a54(0xe61)]||{});if(_0x2896db[_0x5b3a54(0xdf3)]>0x0){const _0x439c6d=_0x2896db['every'](_0x34998f=>_0x34998f[_0x5b3a54(0x91e)]===!![]);_0x439c6d&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x53d207);}else{if(_0x53d207['status']===_0x5b3a54(0x824)||_0x53d207['status']==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x53d207['mode']===_0x5b3a54(0x7af)){const _0x11ff95=_0x53d207['groups'][userId];(!_0x11ff95||!_0x11ff95[_0x5b3a54(0x91e)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x4f83bb){const _0x3b887c=_0x47050f;console[_0x3b887c(0x418)](_0x3b887c(0x73a));const _0x1c41a1=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',_0x4f83bb);try{const _0x25a708=await getDoc(_0x1c41a1);if(_0x25a708[_0x3b887c(0x7ed)]()){const _0x7f6c2c=_0x25a708[_0x3b887c(0x54c)]();_0x7f6c2c[_0x3b887c(0xb25)]&&await saveGameResultsAsSubmissions(_0x7f6c2c);}await updateDoc(_0x1c41a1,{'status':_0x3b887c(0x824)});}catch(_0x888866){console[_0x3b887c(0x8c2)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x888866);}}function updateAdminTeamDashboard(_0x4e267c){const _0xd3c06b=_0x47050f,_0x5f43a3=document[_0xd3c06b(0x70b)]('team-player-status-grid');if(!_0x5f43a3)return;const _0x25dbac=_0x4e267c[_0xd3c06b(0xa43)]||_0xd3c06b(0x741),_0x3b3486=currentQuizData[_0xd3c06b(0xbd5)]['length'];if(_0x25dbac===_0xd3c06b(0x7af)){const _0x318fe2=Object[_0xd3c06b(0xb0c)](_0x4e267c[_0xd3c06b(0xe61)]||{});if(_0x318fe2[_0xd3c06b(0xdf3)]===0x0){_0x5f43a3['innerHTML']=_0xd3c06b(0x242);return;}const _0x39b90d=[..._0x318fe2][_0xd3c06b(0x846)]((_0x277712,_0x4e12fe)=>_0x4e12fe[_0xd3c06b(0x6e9)]-_0x277712[_0xd3c06b(0x6e9)]),_0x1d2914=_0x39b90d[_0xd3c06b(0x3cc)]((_0x4737da,_0x1ea7cb)=>{const _0x155d17=_0xd3c06b,_0x335229=_0x4737da[_0x155d17(0x9f8)]?.[_0x155d17(0xdf3)]||0x0;return _0x155d17(0xa74)+(_0x1ea7cb+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x4737da[_0x155d17(0x97c)][_0x155d17(0x909)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x335229+'/'+_0x3b3486+_0x155d17(0x975)+_0x4737da['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xd3c06b(0x909)](''),_0x4d7f7=currentQuizData[_0xd3c06b(0xbd5)][_0xd3c06b(0x3cc)]((_0x5a311c,_0x1c1814)=>{const _0x14f70a=_0xd3c06b;let _0x2fc250=0x0,_0x540986=0x0;_0x318fe2[_0x14f70a(0xc4c)](_0x359594=>{const _0x32ce95=_0x14f70a,_0x435a28=_0x359594[_0x32ce95(0x9f8)]?.[_0x32ce95(0x60d)](_0x19d9da=>_0x19d9da['questionIndex']===_0x1c1814);if(_0x435a28){_0x540986++;if(_0x435a28[_0x32ce95(0x985)])_0x2fc250++;}});const _0x24ef5d=_0x540986>0x0&&_0x540986===_0x318fe2[_0x14f70a(0xdf3)],_0x51b6ed=_0x24ef5d?'bg-green-200\x20text-green-900\x20font-bold':_0x14f70a(0xb1c),_0x167766=_0x24ef5d?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x14f70a(0x407)+_0x51b6ed+_0x14f70a(0xc23)+(_0x1c1814+0x1)+_0x14f70a(0x872)+_0x167766+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x2fc250+'/'+_0x318fe2['length']+_0x14f70a(0xada);})[_0xd3c06b(0x909)]('');_0x5f43a3[_0xd3c06b(0xb90)]=_0xd3c06b(0x574)+_0x1d2914+_0xd3c06b(0xe47)+_0x4d7f7+_0xd3c06b(0xbd9);return;}const _0xc5994e=_0x4e267c['responses']||{},_0x446082=Object['keys'](_0xc5994e);if(_0x446082[_0xd3c06b(0xdf3)]===0x0){_0x5f43a3[_0xd3c06b(0xb90)]=_0xd3c06b(0x6a0);return;}const _0x3c43a8=_0x446082[_0xd3c06b(0x3cc)](_0x1b1ca4=>({'name':_0x1b1ca4,'score':_0xc5994e[_0x1b1ca4][_0xd3c06b(0x6e9)]||0x0}))['sort']((_0x5f570b,_0x2cfdf5)=>_0x2cfdf5[_0xd3c06b(0x6e9)]-_0x5f570b[_0xd3c06b(0x6e9)]),_0x5b35a0=_0x3c43a8[_0xd3c06b(0x3cc)](_0x17b82b=>{const _0x4fb902=_0xd3c06b,_0x115504=_0xc5994e[_0x17b82b[_0x4fb902(0x312)]]?.['answers']?.[_0x4fb902(0xdf3)]||0x0,_0x3dcdd5=Math['ceil'](_0x3b3486/_0x446082[_0x4fb902(0xdf3)]);return _0x4fb902(0x52f)+_0x17b82b['name']+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x115504+'/'+_0x3dcdd5+_0x4fb902(0x8cc)+_0x17b82b['score']+_0x4fb902(0x38b);})['join'](''),_0xa968d8=_0x446082[_0xd3c06b(0x3cf)]((_0x4a597d,_0x3c76ce)=>_0x4a597d+(_0xc5994e[_0x3c76ce]['answers']?.['length']||0x0),0x0),_0x420d89=currentQuizData[_0xd3c06b(0xbd5)]['map']((_0x3e07df,_0x4b1bbe)=>{const _0x148bf4=_0xd3c06b;let _0x5b8b4c=null,_0x38b819=null;for(const _0x42f1e1 of _0x446082){const _0xc3f6ce=_0xc5994e[_0x42f1e1][_0x148bf4(0x9f8)]?.[_0x148bf4(0x60d)](_0x4adc8c=>_0x4adc8c['questionIndex']===_0x4b1bbe);if(_0xc3f6ce){_0x5b8b4c=_0xc3f6ce,_0x38b819=_0x42f1e1;break;}}const _0x3be079=!!_0x5b8b4c,_0x3d3c9a=_0x3be079&&_0x5b8b4c['isCorrect'],_0x29a1c3=(Math[_0x148bf4(0x3ee)](_0x4b1bbe/_0x446082[_0x148bf4(0xdf3)])+0x1)*_0x446082[_0x148bf4(0xdf3)],_0x450e47=_0xa968d8>=_0x29a1c3,_0x1c4a78=_0x450e47?_0x148bf4(0x796):'bg-black/10',_0x1d18bf=_0x450e47?_0x148bf4(0xa97):'';let _0x10ab2b=_0x148bf4(0x4ef);return _0x3be079&&(_0x10ab2b=_0x38b819+_0x148bf4(0xaec)+(_0x3d3c9a?'ถูก':_0x148bf4(0x916))),_0x148bf4(0x407)+_0x1c4a78+_0x148bf4(0xc23)+(_0x4b1bbe+0x1)+_0x148bf4(0x872)+_0x1d18bf+_0x148bf4(0x509)+_0x10ab2b+'</p></div>';})[_0xd3c06b(0x909)]('');_0x5f43a3['innerHTML']=_0xd3c06b(0xe89)+_0x5b35a0+_0xd3c06b(0x69f)+_0x420d89+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x2c26f7=_0x47050f,_0x1fa6a0=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x1fa6a0||_0x1fa6a0['trim']()[_0x2c26f7(0xdf3)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x84be01=collection(db,_0x2c26f7(0x4cd)+appId+'/public/data/teamQuizzes'),_0x5893aa=query(_0x84be01,where('pin','==',_0x1fa6a0[_0x2c26f7(0x28f)]()),where('status','==','lobby')),_0x18d004=await getDocs(_0x5893aa);if(_0x18d004[_0x2c26f7(0xd46)]){showMessage(_0x2c26f7(0xb2f));return;}const _0x16a7cf=_0x18d004['docs'][0x0];currentTeamQuizId=_0x16a7cf['id'];const _0x246820=_0x16a7cf[_0x2c26f7(0x54c)](),_0x306a5d=doc(db,_0x2c26f7(0x4cd)+appId+_0x2c26f7(0x28e),_0x246820[_0x2c26f7(0x28c)]),_0x42f5c3=doc(db,_0x2c26f7(0x4cd)+appId+_0x2c26f7(0x4fc),_0x246820[_0x2c26f7(0x727)]),[_0x19acd7,_0x3c6cc1]=await Promise['all']([getDoc(_0x306a5d),getDoc(_0x42f5c3)]);if(!_0x19acd7[_0x2c26f7(0x7ed)]()||!_0x3c6cc1['exists']())throw new Error(_0x2c26f7(0xe08));currentQuizData=getShuffledQuiz({'id':_0x3c6cc1['id'],..._0x3c6cc1['data']()});const _0x20c890=_0x19acd7['data']();showTeamPlayerSelection(_0x20c890[_0x2c26f7(0xa70)],currentQuizData['topic']);}catch(_0x4753bc){console[_0x2c26f7(0x8c2)](_0x2c26f7(0x4b1),_0x4753bc),showMessage(_0x2c26f7(0x2fd)+_0x4753bc[_0x2c26f7(0xac4)]);}}async function handleJoinGroupActivity(){const _0x58a322=_0x47050f,_0x34f897=prompt(_0x58a322(0x326));if(!_0x34f897||_0x34f897[_0x58a322(0x28f)]()[_0x58a322(0xdf3)]!==0x4){showMessage(_0x58a322(0x859));return;}const _0x258a03=_0x34f897['trim']();showMessage(_0x58a322(0x4c3));try{const _0x182ea9=collection(db,_0x58a322(0x4cd)+appId+_0x58a322(0xd73)),_0x3a63bf=query(_0x182ea9,where(_0x58a322(0xe34),'==',_0x258a03),where('status','==',_0x58a322(0x673))),_0x2d0b67=await getDocs(_0x3a63bf);if(!_0x2d0b67[_0x58a322(0xd46)]){console[_0x58a322(0x418)](_0x58a322(0x652)),await proceedWithTeamQuizJoin(_0x2d0b67[_0x58a322(0x26e)][0x0]);return;}const _0x5060b4=collection(db,_0x58a322(0x4cd)+appId+_0x58a322(0x946)),_0x7f890b=query(_0x5060b4,where(_0x58a322(0xe34),'==',_0x258a03),where('status','in',['lobby',_0x58a322(0x9ea),_0x58a322(0x339),'results'])),_0x146ff1=await getDocs(_0x7f890b);if(!_0x146ff1['empty']){console['log']('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x146ff1[_0x58a322(0x26e)][0x0]);return;}showMessage(_0x58a322(0x6c6));}catch(_0x23af5a){console[_0x58a322(0x8c2)](_0x58a322(0x191),_0x23af5a),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x23af5a[_0x58a322(0xac4)]);}}async function proceedWithTeamQuizJoin(_0x241517){const _0xe68a3=_0x47050f;currentTeamQuizId=_0x241517['id'];const _0x45b933=_0x241517['data'](),_0x3519c2=doc(db,_0xe68a3(0x4cd)+appId+_0xe68a3(0x28e),_0x45b933['projectId']),_0x4be949=doc(db,_0xe68a3(0x4cd)+appId+_0xe68a3(0x4fc),_0x45b933['quizId']),[_0x5f355b,_0x44aad7]=await Promise['all']([getDoc(_0x3519c2),getDoc(_0x4be949)]);if(!_0x5f355b[_0xe68a3(0x7ed)]()||!_0x44aad7[_0xe68a3(0x7ed)]())throw new Error(_0xe68a3(0xe08));currentQuizData=getShuffledQuiz({'id':_0x44aad7['id'],..._0x44aad7[_0xe68a3(0x54c)]()}),showTeamPlayerSelection(_0x5f355b['data']()[_0xe68a3(0xa70)],currentQuizData[_0xe68a3(0x6d2)],_0x45b933[_0xe68a3(0xa43)]||_0xe68a3(0x741)),messageModal[_0xe68a3(0x9cc)][_0xe68a3(0x505)](_0xe68a3(0xbce));}async function proceedWithSyncQuizJoin(_0x5c8e2a){const _0x290ce6=_0x47050f;currentLiveGameId=_0x5c8e2a['id'];const _0x3c9ebb=_0x5c8e2a[_0x290ce6(0x54c)](),_0x50149a=doc(db,'artifacts/'+appId+_0x290ce6(0x4fc),_0x3c9ebb[_0x290ce6(0x727)]),_0x398a70=await getDoc(_0x50149a);if(!_0x398a70[_0x290ce6(0x7ed)]())throw new Error(_0x290ce6(0x53b));const _0x5ce713=_0x398a70['data'](),_0x26bba2=doc(db,_0x290ce6(0x4cd)+appId+_0x290ce6(0x28e),_0x5ce713[_0x290ce6(0x28c)]),_0x4a7ec2=await getDoc(_0x26bba2);if(!_0x4a7ec2[_0x290ce6(0x7ed)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x3c9ebb[_0x290ce6(0x1ca)],showView(_0x290ce6(0x5aa)),showTeamPlayerSelection(_0x4a7ec2[_0x290ce6(0x54c)]()[_0x290ce6(0xa70)],_0x5ce713[_0x290ce6(0x6d2)],'sync');const _0x1d4187=document[_0x290ce6(0x70b)](_0x290ce6(0x346)),_0x9097cd=_0x1d4187[_0x290ce6(0xc55)](!![]);_0x1d4187[_0x290ce6(0x497)][_0x290ce6(0x7f8)](_0x9097cd,_0x1d4187),_0x9097cd[_0x290ce6(0x257)]=confirmAndJoinSyncGame,messageModal[_0x290ce6(0x9cc)][_0x290ce6(0x505)](_0x290ce6(0xbce));}function getCleanApplicationHTML(){const _0x3442c1=_0x47050f,_0x1e48c2=document[_0x3442c1(0x70b)]('applicationContent');if(!_0x1e48c2)return'';const _0x1d206e=_0x1e48c2[_0x3442c1(0xc55)](!![]);return _0x1d206e[_0x3442c1(0x8fc)](_0x3442c1(0x956))[_0x3442c1(0xc4c)](_0x4835c9=>{const _0x56d8e3=_0x3442c1;_0x4835c9[_0x56d8e3(0x9cc)][_0x56d8e3(0x7a8)](_0x56d8e3(0x882),_0x56d8e3(0xe18)),_0x4835c9['disabled']=![];}),_0x1d206e['innerHTML'];}function showTeamPlayerSelection(_0x4ddaf2,_0x35d929,_0x4f36a6='team'){const _0x49f5ac=_0x47050f;studentInitialView['classList']['add'](_0x49f5ac(0xbce)),studentJoinGameView[_0x49f5ac(0x9cc)][_0x49f5ac(0x505)]('hidden'),document['getElementById'](_0x49f5ac(0xe45))[_0x49f5ac(0x9cc)]['remove'](_0x49f5ac(0xbce));let _0xcfb8e4='Team\x20Quiz';if(_0x4f36a6===_0x49f5ac(0x7af))_0xcfb8e4=_0x49f5ac(0x8bf);else _0x4f36a6===_0x49f5ac(0xe5e)&&(_0xcfb8e4=_0x49f5ac(0x6b3));document[_0x49f5ac(0x70b)](_0x49f5ac(0xad9))[_0x49f5ac(0xc66)]=_0xcfb8e4+':\x20'+_0x35d929;const _0xd1ed2b=document['getElementById'](_0x49f5ac(0x553));if(!_0x4ddaf2||_0x4ddaf2['length']===0x0){_0xd1ed2b['innerHTML']=_0x49f5ac(0x99c),document[_0x49f5ac(0x70b)](_0x49f5ac(0x346))['disabled']=!![];return;}_0xd1ed2b[_0x49f5ac(0xb90)]=_0x4ddaf2[_0x49f5ac(0x3cc)](_0xc7f57d=>_0x49f5ac(0x5db)+_0xc7f57d+_0x49f5ac(0x46d)+_0xc7f57d+_0x49f5ac(0x35f))[_0x49f5ac(0x909)](''),document[_0x49f5ac(0x70b)]('confirm-team-players-btn')[_0x49f5ac(0x9b6)]=![];}async function confirmAndStartTeamQuiz(){const _0x1f86bd=_0x47050f,_0x2b5656=Array[_0x1f86bd(0x2d0)](document[_0x1f86bd(0x8fc)](_0x1f86bd(0xe95)))[_0x1f86bd(0x3cc)](_0x1806ba=>_0x1806ba[_0x1f86bd(0xd95)]);if(_0x2b5656['length']===0x0){showMessage(_0x1f86bd(0xdba));return;}localTeamPlayers=_0x2b5656,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x1d13ad=doc(db,'artifacts/'+appId+_0x1f86bd(0xd73),currentTeamQuizId);try{const _0x20e72a=await getDoc(_0x1d13ad);if(!_0x20e72a[_0x1f86bd(0x7ed)]())throw new Error(_0x1f86bd(0x6b6));const _0x126cb6=_0x20e72a['data']();if(_0x126cb6[_0x1f86bd(0xa43)]===_0x1f86bd(0x7af)){const _0x38524e={[_0x1f86bd(0x838)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x1d13ad,_0x38524e);}else{const _0x31a816=_0x126cb6[_0x1f86bd(0x4d2)]||{};localTeamPlayers[_0x1f86bd(0xc4c)](_0x4242aa=>{!_0x31a816[_0x4242aa]&&(_0x31a816[_0x4242aa]={'score':0x0,'answers':[]});}),await updateDoc(_0x1d13ad,{'responses':_0x31a816});}document[_0x1f86bd(0x70b)]('student-team-selection-view')[_0x1f86bd(0x9cc)]['add'](_0x1f86bd(0xbce)),renderTeamQuizQuestion();const _0x150a02={'gameId':currentTeamQuizId,'mode':_0x126cb6[_0x1f86bd(0xa43)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1f86bd(0x205)](_0x1f86bd(0xc10),JSON[_0x1f86bd(0xcfa)](_0x150a02)),listenForTeamQuizUpdates();}catch(_0x303162){console[_0x1f86bd(0x8c2)](_0x1f86bd(0x594),_0x303162),showMessage(_0x1f86bd(0x942));}}async function renderTeamQuizQuestion(){const _0x5d31cd=_0x47050f;if(localQuestionIndex>=currentQuizData['questions'][_0x5d31cd(0xdf3)]){displayTeamQuizFinalResults();return;}const _0x13c875=currentQuizData[_0x5d31cd(0xbd5)][localQuestionIndex],_0x378dc8=localTeamPlayers[localPlayerIndex],_0x598885=_0x13c875['questionType']||currentQuizData['quizType'];let _0x5f1b98=_0x13c875[_0x5d31cd(0x93d)]||_0x13c875[_0x5d31cd(0xc25)],_0x389577='';switch(_0x598885){case'multiple_choice':case _0x5d31cd(0x8c1):_0x389577=_0x13c875[_0x5d31cd(0x9d8)]['map']((_0x50b0b6,_0x5d2d42)=>_0x5d31cd(0xe71)+_0x5d2d42+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x5d2d42+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x5d2d42+'\x22>'+_0x50b0b6+_0x5d31cd(0x539))[_0x5d31cd(0x909)]('');break;case'true_false':_0x389577=_0x5d31cd(0xe8b);break;case'short_answer':case _0x5d31cd(0x25a):_0x389577=_0x5d31cd(0xda2);break;case _0x5d31cd(0x6b7):_0x389577=_0x5d31cd(0x3ec)+_0x13c875[_0x5d31cd(0x4b6)][_0x5d31cd(0x3cc)](_0x4b544b=>_0x5d31cd(0x70f)+_0x4b544b+'\x22>'+_0x4b544b+_0x5d31cd(0xe8f))['join']('')+'</select>';break;default:_0x389577='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x5d31cd(0xb90)]=_0x5d31cd(0x27c)+(localQuestionIndex+0x1)+_0x5d31cd(0x805)+currentQuizData[_0x5d31cd(0xbd5)][_0x5d31cd(0xdf3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x378dc8+_0x5d31cd(0x80c)+(localQuestionIndex+0x1)+'.\x20'+_0x5f1b98+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x13c875[_0x5d31cd(0xbb4)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x13c875['imageCode']+_0x5d31cd(0xad2):'')+_0x5d31cd(0x976)+_0x389577+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x5d31cd(0x9cc)][_0x5d31cd(0x7a8)](_0x5d31cd(0xbce));if(window[_0x5d31cd(0x2ab)])MathJax[_0x5d31cd(0xb85)]([studentQuizArea]);document[_0x5d31cd(0x70b)]('submit-team-answer-btn')[_0x5d31cd(0x86d)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x435c3e=_0x47050f,_0x462767=currentQuizData[_0x435c3e(0xbd5)][localQuestionIndex],_0xdf0b4=_0x462767['questionType']||currentQuizData[_0x435c3e(0x190)];let _0x24a5f1=null,_0x3c893e=![];if(_0xdf0b4==='short_answer'||_0xdf0b4===_0x435c3e(0x25a)){const _0x3b172e=document['querySelector']('textarea[name=\x22team_answer\x22]');if(!_0x3b172e||!_0x3b172e[_0x435c3e(0xd95)][_0x435c3e(0x28f)]()){showMessage(_0x435c3e(0x27f));return;}_0x24a5f1=_0x3b172e[_0x435c3e(0xd95)][_0x435c3e(0x28f)](),_0x3c893e=await gradeShortAnswer(_0x24a5f1,_0x462767);}else{const _0x40afea=document[_0x435c3e(0xdde)](_0x435c3e(0x5a8));if(!_0x40afea||_0x40afea[_0x435c3e(0xd95)]===''){showMessage(_0x435c3e(0x901));return;}_0x24a5f1=_0x40afea['value'];switch(_0xdf0b4){case _0x435c3e(0x92d):_0x3c893e=_0x24a5f1==='true'===_0x462767['correctAnswer'];break;case _0x435c3e(0x6b7):_0x3c893e=_0x24a5f1===_0x462767['correctResponse'];break;default:_0x3c893e=parseInt(_0x24a5f1)===_0x462767['correctAnswerIndex'];break;}}const _0x13805f={'questionIndex':localQuestionIndex,'isCorrect':_0x3c893e},_0x130a98=userId,_0x3c3798={[_0x435c3e(0x838)+_0x130a98+'.answers']:arrayUnion(_0x13805f)};_0x3c893e&&(_0x3c3798['groups.'+_0x130a98+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x435c3e(0x4cd)+appId+_0x435c3e(0xd73),currentTeamQuizId),_0x3c3798),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x435c3e(0xbd5)][_0x435c3e(0xdf3)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0xde793e){console[_0x435c3e(0x8c2)](_0x435c3e(0xe5d),_0xde793e),showMessage(_0x435c3e(0x88a));}}async function handleTeamAnswerSubmit(){const _0x40cdc7=_0x47050f,_0x26eefe=await getDoc(doc(db,_0x40cdc7(0x4cd)+appId+_0x40cdc7(0xd73),currentTeamQuizId));if(!_0x26eefe['exists']())return;const _0x11a4f5=_0x26eefe[_0x40cdc7(0x54c)]();if(_0x11a4f5[_0x40cdc7(0xa43)]===_0x40cdc7(0x7af)){handleGroupAnswerSubmit();return;}const _0x261833=localTeamPlayers[localPlayerIndex],_0x4325b2=currentQuizData[_0x40cdc7(0xbd5)][localQuestionIndex],_0x3399e9=_0x4325b2[_0x40cdc7(0xa39)]||currentQuizData[_0x40cdc7(0x190)];let _0x26fae0=null,_0x1022b8=![];if(_0x3399e9===_0x40cdc7(0x76f)||_0x3399e9==='fill_in_no_choices'){const _0x4e8a5d=document[_0x40cdc7(0xdde)](_0x40cdc7(0xb13));if(!_0x4e8a5d||!_0x4e8a5d[_0x40cdc7(0xd95)][_0x40cdc7(0x28f)]()){showMessage(_0x40cdc7(0xc75));return;}_0x26fae0=_0x4e8a5d[_0x40cdc7(0xd95)]['trim'](),_0x1022b8=await gradeShortAnswer(_0x26fae0,_0x4325b2);}else{const _0x36a1ca=document[_0x40cdc7(0xdde)](_0x40cdc7(0x5a8));if(!_0x36a1ca||_0x36a1ca['value']===''){showMessage(_0x40cdc7(0xe09));return;}_0x26fae0=_0x36a1ca['value'];switch(_0x3399e9){case'true_false':_0x1022b8=_0x26fae0===_0x40cdc7(0xadf)===_0x4325b2[_0x40cdc7(0x75d)];break;case'matching_item':_0x1022b8=_0x26fae0===_0x4325b2[_0x40cdc7(0xc74)];break;default:_0x1022b8=parseInt(_0x26fae0)===_0x4325b2[_0x40cdc7(0xcd9)];break;}}const _0x453575={'questionIndex':localQuestionIndex,'isCorrect':_0x1022b8,'answerValue':_0x26fae0},_0x313967={[_0x40cdc7(0x34a)+_0x261833+'.answers']:arrayUnion(_0x453575)};_0x1022b8&&(_0x313967['responses.'+_0x261833+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x40cdc7(0x4cd)+appId+_0x40cdc7(0xd73),currentTeamQuizId),_0x313967),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x40cdc7(0xdf3)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x35c953){console[_0x40cdc7(0x8c2)]('Error\x20submitting\x20team\x20answer:',_0x35c953),showMessage(_0x40cdc7(0x88a));}}async function displayTeamQuizFinalResults(){const _0x5a9176=_0x47050f;studentQuizArea[_0x5a9176(0x9cc)]['add']('hidden'),studentResultArea[_0x5a9176(0x9cc)][_0x5a9176(0x7a8)]('hidden');const _0x1486ed=doc(db,_0x5a9176(0x4cd)+appId+_0x5a9176(0xd73),currentTeamQuizId),_0x3e024c=await getDoc(_0x1486ed);if(!_0x3e024c[_0x5a9176(0x7ed)]()){studentResultArea[_0x5a9176(0xb90)]=_0x5a9176(0x726);return;}const _0x33c112=_0x3e024c[_0x5a9176(0x54c)]();let _0x268c84=[];const _0x2be67e=_0x33c112['mode']||_0x5a9176(0x741);if(_0x2be67e===_0x5a9176(0x7af)){const _0x281cfb=_0x33c112[_0x5a9176(0xe61)][userId];_0x281cfb?_0x268c84=[{'name':_0x5a9176(0xc2d)+localTeamPlayers[_0x5a9176(0x909)](',\x20'),'score':_0x281cfb[_0x5a9176(0x6e9)]||0x0}]:_0x268c84=[{'name':_0x5a9176(0x2c5),'score':'N/A'}];}else _0x268c84=localTeamPlayers[_0x5a9176(0x3cc)](_0x296cf4=>({'name':_0x296cf4,'score':_0x33c112[_0x5a9176(0x4d2)][_0x296cf4]?.[_0x5a9176(0x6e9)]||0x0}))[_0x5a9176(0x846)]((_0x16b883,_0x4d14e7)=>_0x4d14e7[_0x5a9176(0x6e9)]-_0x16b883[_0x5a9176(0x6e9)]);studentResultArea[_0x5a9176(0xb90)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x268c84['map'](_0x56b3c3=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x56b3c3[_0x5a9176(0x312)]+_0x5a9176(0x21a)+_0x56b3c3['score']+_0x5a9176(0xd54))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x5a9176(0x39a)](_0x5a9176(0xc10)),currentMode===_0x5a9176(0xb0f)&&currentTeamQuizId&&setTimeout(()=>{const _0x33288a=_0x5a9176;deleteDoc(doc(db,_0x33288a(0x4cd)+appId+_0x33288a(0xd73),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x47050f(0x479),'name':'การนับ'},{'category':_0x47050f(0x479),'name':_0x47050f(0xdaf)},{'category':_0x47050f(0x479),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x47050f(0x479),'name':'การบวก'},{'category':_0x47050f(0x479),'name':_0x47050f(0x38a)},{'category':'จำนวนและการดำเนินการ','name':_0x47050f(0x40a)},{'category':'จำนวนและการดำเนินการ','name':_0x47050f(0x758)},{'category':_0x47050f(0x479),'name':'จำนวนเต็มบวก'},{'category':_0x47050f(0x479),'name':_0x47050f(0x199)},{'category':_0x47050f(0x479),'name':'ศูนย์'},{'category':_0x47050f(0x479),'name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x47050f(0x9dc)},{'category':_0x47050f(0x479),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x47050f(0x479),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x47050f(0x479),'name':_0x47050f(0x645)},{'category':_0x47050f(0x479),'name':_0x47050f(0x180)},{'category':_0x47050f(0x479),'name':_0x47050f(0x74d)},{'category':_0x47050f(0x479),'name':_0x47050f(0x9af)},{'category':_0x47050f(0x479),'name':_0x47050f(0x547)},{'category':_0x47050f(0x479),'name':_0x47050f(0x627)},{'category':'จำนวนและการดำเนินการ','name':_0x47050f(0x9a3)},{'category':'จำนวนและการดำเนินการ','name':_0x47050f(0xb9b)},{'category':_0x47050f(0x479),'name':_0x47050f(0xd38)},{'category':_0x47050f(0x479),'name':'การบวกทศนิยม'},{'category':_0x47050f(0x479),'name':_0x47050f(0x881)},{'category':'จำนวนและการดำเนินการ','name':_0x47050f(0x2ea)},{'category':_0x47050f(0x479),'name':_0x47050f(0xa5c)},{'category':_0x47050f(0x479),'name':_0x47050f(0xc2e)},{'category':_0x47050f(0x479),'name':_0x47050f(0x778)},{'category':_0x47050f(0x479),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x47050f(0x479),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x47050f(0x479),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x47050f(0x479),'name':'รากที่สองและที่สาม'},{'category':_0x47050f(0x479),'name':_0x47050f(0x504)},{'category':_0x47050f(0x479),'name':_0x47050f(0x22e)},{'category':_0x47050f(0x60f),'name':_0x47050f(0xc1d)},{'category':_0x47050f(0x60f),'name':_0x47050f(0xab9)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x798)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x743)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x756)},{'category':'การวัด','name':_0x47050f(0x1e4)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x1cd)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x249)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x62f)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x6ed)},{'category':'การวัด','name':_0x47050f(0x89b)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x907)},{'category':'การวัด','name':_0x47050f(0xa61)},{'category':_0x47050f(0x60f),'name':_0x47050f(0x202)},{'category':_0x47050f(0x4af),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x47050f(0x4af),'name':_0x47050f(0xce9)},{'category':_0x47050f(0x4af),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':'เรขาคณิต','name':_0x47050f(0x249)},{'category':'เรขาคณิต','name':_0x47050f(0x43d)},{'category':'เรขาคณิต','name':_0x47050f(0x22f)},{'category':'เรขาคณิต','name':_0x47050f(0x526)},{'category':_0x47050f(0x4af),'name':_0x47050f(0xb53)},{'category':'เรขาคณิต','name':_0x47050f(0x58b)},{'category':_0x47050f(0x4af),'name':_0x47050f(0x82d)},{'category':_0x47050f(0x4af),'name':_0x47050f(0xb89)},{'category':_0x47050f(0x4af),'name':_0x47050f(0xe44)},{'category':_0x47050f(0x4af),'name':_0x47050f(0xd7f)},{'category':_0x47050f(0x4af),'name':_0x47050f(0x7b2)},{'category':_0x47050f(0x4af),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x47050f(0xdff),'name':'ตัวแปรและนิพจน์'},{'category':_0x47050f(0xdff),'name':_0x47050f(0x8a6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x47050f(0x7c2)},{'category':_0x47050f(0xdff),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x47050f(0xa1e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x47050f(0xcd8)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x911)},{'category':_0x47050f(0xdff),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x47050f(0xdff),'name':_0x47050f(0x641)},{'category':_0x47050f(0xdff),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x47050f(0xdff),'name':_0x47050f(0x3c4)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x551)},{'category':_0x47050f(0xdff),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x47050f(0xcca)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x650)},{'category':_0x47050f(0xdff),'name':'ระบบอสมการ'},{'category':_0x47050f(0xdff),'name':_0x47050f(0x910)},{'category':_0x47050f(0xdff),'name':_0x47050f(0xc36)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x47050f(0xe1b)},{'category':_0x47050f(0xdff),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x47050f(0x9e3)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x47050f(0xdff),'name':_0x47050f(0x716)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x40c)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x9fd)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x70a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x47050f(0x2ba)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x5af)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x5e0)},{'category':_0x47050f(0xdff),'name':_0x47050f(0xd18)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x648)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x600)},{'category':_0x47050f(0xdff),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x47050f(0xdff),'name':_0x47050f(0x6af)},{'category':_0x47050f(0xdff),'name':_0x47050f(0x510)},{'category':_0x47050f(0x770),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x47050f(0x770),'name':_0x47050f(0x32f)},{'category':_0x47050f(0x770),'name':_0x47050f(0xe28)},{'category':_0x47050f(0x770),'name':_0x47050f(0x327)},{'category':'เรขาคณิตวิเคราะห์','name':_0x47050f(0xcda)},{'category':_0x47050f(0x770),'name':_0x47050f(0x2f3)},{'category':_0x47050f(0x770),'name':'พาราโบลา'},{'category':_0x47050f(0x770),'name':_0x47050f(0x5f7)},{'category':_0x47050f(0x770),'name':'ไฮเพอร์โบลา'},{'category':_0x47050f(0x52c),'name':_0x47050f(0x776)},{'category':_0x47050f(0x52c),'name':_0x47050f(0x7e1)},{'category':_0x47050f(0x52c),'name':_0x47050f(0x851)},{'category':_0x47050f(0x52c),'name':_0x47050f(0x42e)},{'category':_0x47050f(0x52c),'name':_0x47050f(0x26f)},{'category':_0x47050f(0x52c),'name':_0x47050f(0x381)},{'category':_0x47050f(0x52c),'name':_0x47050f(0x31d)},{'category':_0x47050f(0x52c),'name':_0x47050f(0x3a3)},{'category':'ตรีโกณมิติ','name':_0x47050f(0xc5c)},{'category':_0x47050f(0x52c),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x47050f(0x52c),'name':_0x47050f(0xdd6)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x433)},{'category':'สถิติและความน่าจะเป็น','name':_0x47050f(0x5ab)},{'category':_0x47050f(0x83b),'name':'ตารางความถี่'},{'category':_0x47050f(0x83b),'name':_0x47050f(0xb39)},{'category':_0x47050f(0x83b),'name':'ฮิสโตแกรม'},{'category':_0x47050f(0x83b),'name':_0x47050f(0x8a7)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x45d)},{'category':'สถิติและความน่าจะเป็น','name':_0x47050f(0xcd7)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x6d1)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x85d)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x771)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x250)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x6a5)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x278)},{'category':_0x47050f(0x83b),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x47050f(0x83b),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x47050f(0x83b),'name':_0x47050f(0xcdf)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x587)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x47050f(0x87a)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x6a7)},{'category':_0x47050f(0x83b),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x47050f(0x83b),'name':_0x47050f(0x624)},{'category':_0x47050f(0x83b),'name':_0x47050f(0x1c9)},{'category':_0x47050f(0xe57),'name':'ลิมิต'},{'category':_0x47050f(0xe57),'name':_0x47050f(0xdc5)},{'category':_0x47050f(0xe57),'name':_0x47050f(0xba4)},{'category':_0x47050f(0xe57),'name':_0x47050f(0x6fc)},{'category':_0x47050f(0xe57),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x47050f(0xe57),'name':_0x47050f(0x730)},{'category':_0x47050f(0xe57),'name':_0x47050f(0x318)},{'category':_0x47050f(0xe57),'name':_0x47050f(0x229)},{'category':_0x47050f(0xe57),'name':_0x47050f(0xb1a)},{'category':_0x47050f(0xe57),'name':_0x47050f(0x4d6)},{'category':_0x47050f(0xe57),'name':_0x47050f(0x7d7)},{'category':_0x47050f(0xe57),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x47050f(0xe57),'name':_0x47050f(0x7b0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x47050f(0x6f2)},{'category':_0x47050f(0x55f),'name':_0x47050f(0xa87)},{'category':_0x47050f(0x55f),'name':_0x47050f(0x396)},{'category':_0x47050f(0x55f),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x47050f(0x55f),'name':'อินเวอร์สของเมทริกซ์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x47050f(0xd3f)},{'category':_0x47050f(0x55f),'name':_0x47050f(0xcf0)},{'category':_0x47050f(0x490),'name':_0x47050f(0x8ea)},{'category':_0x47050f(0x490),'name':_0x47050f(0xade)},{'category':_0x47050f(0x490),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x47050f(0x490),'name':_0x47050f(0x927)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x47050f(0xb43)},{'category':_0x47050f(0x4e2),'name':_0x47050f(0x728)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x47050f(0x4e2),'name':_0x47050f(0xcfb)}];function renderTopicCheckboxes(){const _0x2955d7=_0x47050f,_0x4b9201=document[_0x2955d7(0x70b)](_0x2955d7(0xc44));if(!_0x4b9201)return;const _0x27f6bf=allMathTopics,_0xe00b1e=customMathTopics[_0x2955d7(0x3cc)](_0x547134=>({'id':_0x547134['id'],'category':'หัวข้อที่สร้างเอง','name':_0x547134[_0x2955d7(0x312)]})),_0x10dca2=[..._0x27f6bf,..._0xe00b1e],_0x468d63=_0x10dca2['reduce']((_0x5c7ac3,_0x379200)=>{const _0x508e87=_0x2955d7;return!_0x5c7ac3[_0x379200['category']]&&(_0x5c7ac3[_0x379200[_0x508e87(0xd05)]]=[]),_0x5c7ac3[_0x379200[_0x508e87(0xd05)]]['push'](_0x379200),_0x5c7ac3;},{});let _0x473f1e='';const _0x18d61a=[_0x2955d7(0x965),...Object[_0x2955d7(0x5d7)](_0x468d63)[_0x2955d7(0xc87)](_0x529073=>_0x529073!==_0x2955d7(0x965))];for(const _0x2cbf11 of _0x18d61a){if(_0x468d63[_0x2cbf11]){const _0x12d1f1=_0x2cbf11===_0x2955d7(0x965),_0x580923=_0x12d1f1?_0x2955d7(0xd2e):_0x2955d7(0x605),_0x4e22ff=_0x12d1f1?_0x2955d7(0x470):_0x2955d7(0xe52);_0x473f1e+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x473f1e+=_0x2955d7(0xde3)+_0x4e22ff+_0x2955d7(0x681)+_0x580923+_0x2955d7(0x5e7)+_0x2cbf11+_0x2955d7(0xb29),_0x468d63[_0x2cbf11][_0x2955d7(0xc4c)](_0x288ab0=>{const _0x4f15f4=_0x2955d7,_0x444d0a=!!_0x288ab0['id'],_0x2ba79d=_0x444d0a?_0x4f15f4(0xbea)+_0x288ab0['id']+_0x4f15f4(0x453)+_0x288ab0['id']+_0x4f15f4(0x7ef)+_0x288ab0['id']+_0x4f15f4(0xa8a)+_0x288ab0['id']+_0x4f15f4(0xd0d):'';_0x473f1e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x288ab0['id']||'')+_0x4f15f4(0xc1c)+_0x288ab0[_0x4f15f4(0x312)]+_0x4f15f4(0xe8a)+_0x288ab0[_0x4f15f4(0x312)]+_0x4f15f4(0xc13)+(_0x444d0a?_0x4f15f4(0xd67)+_0x288ab0[_0x4f15f4(0x312)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ba79d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x473f1e+=_0x2955d7(0xad2);}}_0x4b9201[_0x2955d7(0xb90)]=_0x473f1e||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x4b9201[_0x2955d7(0x64c)](_0x2955d7(0xd1c),updateSelectedTopicsCount),_0x4b9201[_0x2955d7(0x86d)](_0x2955d7(0xd1c),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x32a9eb,_0x516f73){const _0x43d61d=_0x47050f;if(!_0x32a9eb||!_0x516f73[_0x43d61d(0x28f)]()){showMessage(_0x43d61d(0xb4e));return;}try{const _0x46642e=doc(db,'artifacts/'+appId+_0x43d61d(0x7bf),_0x32a9eb);await updateDoc(_0x46642e,{'name':_0x516f73[_0x43d61d(0x28f)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x432d49){console['error']('Error\x20updating\x20custom\x20topic:',_0x432d49),showMessage(_0x43d61d(0x4b7));}}function toggleTopicEditMode(_0x45b116,_0x377629){const _0x25b94f=_0x47050f;if(!_0x45b116)return;const _0x2c66cc=_0x45b116['querySelector'](_0x25b94f(0x3f0)),_0x459276=_0x45b116['querySelector'](_0x25b94f(0xc12)),_0x57170d=_0x45b116[_0x25b94f(0xdde)](_0x25b94f(0xa49)),_0x1cf82b=_0x45b116[_0x25b94f(0xdde)](_0x25b94f(0x392));_0x2c66cc['classList'][_0x25b94f(0x1a3)](_0x25b94f(0xbce),_0x377629),_0x459276[_0x25b94f(0x9cc)][_0x25b94f(0x1a3)](_0x25b94f(0xbce),!_0x377629),_0x57170d[_0x25b94f(0x9cc)][_0x25b94f(0x1a3)](_0x25b94f(0xbce),_0x377629),_0x1cf82b['classList'][_0x25b94f(0x1a3)]('hidden',!_0x377629),_0x377629&&(_0x459276[_0x25b94f(0xdd2)](),_0x459276['select']());}async function handleStartLiveRace(_0x1683e3){const _0x565445=_0x47050f;let _0xc6fc19=allQuizzes[_0x565445(0x60d)](_0x10dbcf=>_0x10dbcf['id']===_0x1683e3);if(!_0xc6fc19){const _0x3089c8=doc(db,_0x565445(0x4cd)+appId+'/public/data/quizzes',_0x1683e3),_0x301e21=await getDoc(_0x3089c8);if(!_0x301e21['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0xc6fc19={'id':_0x301e21['id'],..._0x301e21[_0x565445(0x54c)]()};}const _0x36dfd1=getShuffledQuiz(_0xc6fc19);currentQuizData=_0x36dfd1;const _0x5bbf3c=_0xc6fc19['projectId']||currentProjectId||null,_0x23a1c7=Math[_0x565445(0x3ee)](0x3e8+Math[_0x565445(0x457)]()*0x2328)[_0x565445(0xae1)]();currentLiveGamePin=_0x23a1c7;try{const _0x504675=await addDoc(collection(db,_0x565445(0x4cd)+appId+_0x565445(0x54b)),{'quizId':_0x1683e3,'projectId':_0x5bbf3c,'status':_0x565445(0x673),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x23a1c7,'createdAt':serverTimestamp(),'shuffledQuiz':_0x36dfd1});currentLiveGameId=_0x504675['id'],showAdminLobbyView(_0x23a1c7,_0xc6fc19[_0x565445(0x6d2)]),listenForLiveGameUpdates();}catch(_0x408b12){console[_0x565445(0x8c2)]('Error\x20starting\x20live\x20race:',_0x408b12),showMessage(_0x565445(0x847));}}function updateSelectedTopicsCount(){const _0x509641=_0x47050f,_0x566cd1=document[_0x509641(0x70b)](_0x509641(0xc44)),_0x1fdcb0=_0x566cd1[_0x509641(0x8fc)](_0x509641(0x9b7))['length'],_0x56fbc7=document[_0x509641(0x70b)]('selected-topics-count');_0x1fdcb0>0x0?_0x56fbc7[_0x509641(0xc66)]=_0x509641(0x46a)+_0x1fdcb0+'\x20หัวข้อ)':_0x56fbc7[_0x509641(0xc66)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x47050f(0x2d1),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x47050f(0xcb7),scratchpadPenColor=_0x47050f(0x68d),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4fa061,_0x2cee45){const _0x3696d8=_0x47050f;return Math[_0x3696d8(0x4a0)](Math[_0x3696d8(0x7e2)](_0x4fa061['x']-_0x2cee45['x'],0x2)+Math[_0x3696d8(0x7e2)](_0x4fa061['y']-_0x2cee45['y'],0x2));}function getMidpoint(_0x5dd448,_0x4e9c2b){return{'x':(_0x5dd448['x']+_0x4e9c2b['x'])/0x2,'y':(_0x5dd448['y']+_0x4e9c2b['y'])/0x2};}function getTransformedPoint(_0x2b6eb2,_0x4d3b0e){return{'x':(_0x2b6eb2-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4d3b0e-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x495ba5=_0x47050f;if(!scratchpadCtx)return;const _0x4d7848=scratchpadCtx[_0x495ba5(0x475)],_0x25e84c=window[_0x495ba5(0x957)]||0x1,_0xe811aa=document[_0x495ba5(0x70b)]('scratchpad-header');_0xe811aa&&(_0xe811aa[_0x495ba5(0x8aa)][_0x495ba5(0xaf0)]='0\x200',_0xe811aa[_0x495ba5(0x8aa)]['transform']=_0x495ba5(0x486)+scratchpadOffset['x']+_0x495ba5(0x98d)+scratchpadOffset['y']+_0x495ba5(0x1fd)+scratchpadScale+')'),scratchpadCtx[_0x495ba5(0xbd1)](),scratchpadCtx[_0x495ba5(0x306)](_0x25e84c,0x0,0x0,_0x25e84c,0x0,0x0),scratchpadCtx[_0x495ba5(0xe58)](0x0,0x0,_0x4d7848['width'],_0x4d7848[_0x495ba5(0x3d7)]),scratchpadCtx['restore'](),scratchpadCtx[_0x495ba5(0xbd1)](),scratchpadCtx[_0x495ba5(0xddf)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x495ba5(0xc67)](scratchpadScale,scratchpadScale),strokes[_0x495ba5(0xc4c)](_0x74c5c2=>{drawStroke(_0x74c5c2);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x495ba5(0x2b0)]();}function renderGroupModeQuestion(){const _0x53f6bc=_0x47050f;if(localQuestionIndex>=currentQuizData[_0x53f6bc(0xbd5)]['length']){displayTeamQuizFinalResults();return;}const _0x12a71b=currentQuizData[_0x53f6bc(0xbd5)][localQuestionIndex],_0x5d1dc5=_0x12a71b['questionType']||currentQuizData['quizType'];let _0x5a5897=_0x12a71b['stem']||_0x12a71b[_0x53f6bc(0xc25)],_0x389f75='';switch(_0x5d1dc5){case'multiple_choice':case _0x53f6bc(0x8c1):_0x389f75=_0x12a71b[_0x53f6bc(0x9d8)]['map']((_0x168a71,_0x1b4e3c)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x1b4e3c+_0x53f6bc(0x80a)+_0x1b4e3c+_0x53f6bc(0xa25)+_0x1b4e3c+'\x22>'+_0x168a71+_0x53f6bc(0x539))[_0x53f6bc(0x909)]('');break;case _0x53f6bc(0x92d):_0x389f75='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case'fill_in_no_choices':_0x389f75=_0x53f6bc(0x1a6);break;case _0x53f6bc(0x6b7):_0x389f75=_0x53f6bc(0x3ec)+_0x12a71b[_0x53f6bc(0x4b6)]['map'](_0x304454=>_0x53f6bc(0x70f)+_0x304454+'\x22>'+_0x304454+_0x53f6bc(0xe8f))[_0x53f6bc(0x909)]('')+'</select>';break;default:_0x389f75='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x53f6bc(0xb90)]=_0x53f6bc(0x27c)+(localQuestionIndex+0x1)+_0x53f6bc(0x805)+currentQuizData[_0x53f6bc(0xbd5)][_0x53f6bc(0xdf3)]+_0x53f6bc(0x43a)+localTeamPlayers[_0x53f6bc(0x909)](',\x20')+_0x53f6bc(0x80c)+(localQuestionIndex+0x1)+'.\x20'+_0x5a5897+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x12a71b[_0x53f6bc(0xbb4)]?_0x53f6bc(0xa92)+_0x12a71b[_0x53f6bc(0xbb4)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x389f75+_0x53f6bc(0x896),studentQuizArea[_0x53f6bc(0x9cc)][_0x53f6bc(0x7a8)](_0x53f6bc(0xbce));if(window[_0x53f6bc(0x2ab)])MathJax[_0x53f6bc(0xb85)]([studentQuizArea]);document[_0x53f6bc(0x70b)](_0x53f6bc(0x521))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2291c2,_0x34da2d=null,_0x55cc1b,_0x329073=null,_0x2f674d=![],_0x205f9c=null){const _0xcb295=_0x47050f,_0xb2ae0=document[_0xcb295(0x70b)](_0xcb295(0xcc8));_0xb2ae0&&_0xb2ae0['scrollIntoView']({'behavior':_0xcb295(0xdd0),'block':_0xcb295(0xd3e)}),generateQuiz(_0x2291c2,_0x34da2d,null,_0x205f9c,!![],_0x55cc1b,_0x329073,_0x2f674d);}function handleGenerateAndShowLesson(_0x3b48f5,_0xf5fb5f){const _0x5c7377=_0x47050f,_0x48e56c=document[_0x5c7377(0x70b)](_0x5c7377(0x2e2)),_0x5cd852=document['getElementById']('lesson-view-title'),_0x147d59=document[_0x5c7377(0x70b)]('lesson-loader'),_0xf1d86e=document[_0x5c7377(0x70b)](_0x5c7377(0x639));[_0x5c7377(0x1b1),_0x5c7377(0x405),_0x5c7377(0xa1f),'summaryContent'][_0x5c7377(0xc4c)](_0x2bd0be=>{const _0x5b7504=_0x5c7377,_0x2734d2=document[_0x5b7504(0x70b)](_0x2bd0be)[_0x5b7504(0xc24)];_0x2734d2&&(_0x2734d2[_0x5b7504(0x8aa)][_0x5b7504(0x6cf)]=_0x5b7504(0x30f));}),_0x5cd852[_0x5c7377(0xc66)]=_0x5c7377(0x484)+_0x3b48f5,_0xf1d86e[_0x5c7377(0x9cc)][_0x5c7377(0x505)](_0x5c7377(0xbce)),_0x147d59[_0x5c7377(0x9cc)][_0x5c7377(0x7a8)](_0x5c7377(0xbce)),_0x48e56c['classList']['remove'](_0x5c7377(0xbce)),generateLesson(_0x3b48f5,_0xf5fb5f)['catch'](_0x4f7b93=>{const _0x518091=_0x5c7377;console[_0x518091(0x8c2)](_0x518091(0x525),_0x4f7b93),showMessage(_0x518091(0x808)),_0x48e56c[_0x518091(0x9cc)][_0x518091(0x505)](_0x518091(0xbce));});}function handlePointerDown(_0x4c95e0){const _0x42b1ca=_0x47050f;_0x4c95e0[_0x42b1ca(0x95b)]();const _0x3daacf=scratchpadCtx[_0x42b1ca(0x475)],_0x42eff3=_0x3daacf[_0x42b1ca(0x608)](),_0x411393=_0x4c95e0[_0x42b1ca(0xe91)]||(_0x4c95e0['touches']?_0x42b1ca(0x821):_0x42b1ca(0x89f));if(_0x411393===_0x42b1ca(0xcb7)||_0x411393===_0x42b1ca(0x89f)){if(_0x4c95e0['pointerType']===_0x42b1ca(0x89f)&&_0x4c95e0[_0x42b1ca(0xbdc)]!==0x0){_0x4c95e0[_0x42b1ca(0xbdc)]===0x1&&(isMousePanning=!![],panStart={'x':_0x4c95e0['clientX'],'y':_0x4c95e0[_0x42b1ca(0xb9e)]},_0x3daacf[_0x42b1ca(0x8aa)]['cursor']='grabbing');return;}activeTool===_0x42b1ca(0x3dc)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x40b2fd=getTransformedPoint(_0x4c95e0[_0x42b1ca(0x33b)]-_0x42eff3[_0x42b1ca(0x933)],_0x4c95e0[_0x42b1ca(0xb9e)]-_0x42eff3[_0x42b1ca(0xd2f)]);let _0x5c8e39={'tool':activeTool,'points':[_0x40b2fd]};if(activeTool===_0x42b1ca(0xcb7))_0x5c8e39[_0x42b1ca(0x6bf)]=scratchpadPenColor,_0x5c8e39[_0x42b1ca(0xd34)]=scratchpadPenSize;else{if(activeTool===_0x42b1ca(0x336))_0x5c8e39[_0x42b1ca(0x6bf)]=scratchpadPenColor,_0x5c8e39[_0x42b1ca(0xd34)]=scratchpadEraserSize;else{if(activeTool===_0x42b1ca(0xa3b))_0x5c8e39['color']=scratchpadHighlighterColor,_0x5c8e39[_0x42b1ca(0xd34)]=scratchpadHighlighterSize;else activeTool===_0x42b1ca(0x3dc)&&(_0x5c8e39[_0x42b1ca(0x6bf)]=scratchpadPenColor,_0x5c8e39[_0x42b1ca(0xd34)]=scratchpadPenSize);}}currentStroke=_0x5c8e39;}else _0x4c95e0[_0x42b1ca(0x42c)]&&(_0x4c95e0[_0x42b1ca(0x42c)][_0x42b1ca(0xdf3)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x4c95e0[_0x42b1ca(0x42c)][0x0]['clientX'],'y':_0x4c95e0['touches'][0x0]['clientY']},{'x':_0x4c95e0['touches'][0x1][_0x42b1ca(0x33b)],'y':_0x4c95e0[_0x42b1ca(0x42c)][0x1][_0x42b1ca(0xb9e)]}),initialPinchDistance=getDistance({'x':_0x4c95e0['touches'][0x0][_0x42b1ca(0x33b)],'y':_0x4c95e0[_0x42b1ca(0x42c)][0x0][_0x42b1ca(0xb9e)]},{'x':_0x4c95e0[_0x42b1ca(0x42c)][0x1][_0x42b1ca(0x33b)],'y':_0x4c95e0[_0x42b1ca(0x42c)][0x1][_0x42b1ca(0xb9e)]})));}function animateTrail(){const _0x42fc88=_0x47050f,_0x3bdbad=Date['now']();let _0x1dd208=![];for(let _0x12ee60=strokes[_0x42fc88(0xdf3)]-0x1;_0x12ee60>=0x0;_0x12ee60--){const _0x35062e=strokes[_0x12ee60];if(_0x35062e[_0x42fc88(0x9b1)]===_0x42fc88(0x3dc)&&_0x35062e[_0x42fc88(0x48b)]){const _0x3423d1=_0x3bdbad-_0x35062e['fadeStartTime'];_0x3423d1>=TRAIL_DURATION?strokes[_0x42fc88(0x33d)](_0x12ee60,0x1):(_0x35062e['opacity']=0x1-_0x3423d1/TRAIL_DURATION,_0x1dd208=!![]);}}redrawScratchpad(),_0x1dd208?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x1c23cb){const _0x4b1984=_0x47050f;if(!_0x1c23cb||_0x1c23cb[_0x4b1984(0xa55)]['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']='round',scratchpadCtx[_0x4b1984(0x1ae)]='round';if(_0x1c23cb['tool']===_0x4b1984(0x3dc)){const _0x409648=_0x1c23cb[_0x4b1984(0xd34)]/scratchpadScale;scratchpadCtx[_0x4b1984(0x703)]=_0x1c23cb[_0x4b1984(0x744)]??0x1,scratchpadCtx[_0x4b1984(0xd3b)]=_0x4b1984(0xc2b),scratchpadCtx['shadowBlur']=_0x409648*0x3,scratchpadCtx[_0x4b1984(0x317)]=_0x4b1984(0xb66),scratchpadCtx['lineWidth']=_0x409648*2.5,scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x1c23cb[_0x4b1984(0xa55)][0x0]['x'],_0x1c23cb[_0x4b1984(0xa55)][0x0]['y']);for(let _0x4e6f06=0x1;_0x4e6f06<_0x1c23cb[_0x4b1984(0xa55)][_0x4b1984(0xdf3)]-0x1;_0x4e6f06++){const _0x1390a3=getMidpoint(_0x1c23cb['points'][_0x4e6f06],_0x1c23cb['points'][_0x4e6f06+0x1]);scratchpadCtx[_0x4b1984(0xdc9)](_0x1c23cb[_0x4b1984(0xa55)][_0x4e6f06]['x'],_0x1c23cb[_0x4b1984(0xa55)][_0x4e6f06]['y'],_0x1390a3['x'],_0x1390a3['y']);}scratchpadCtx[_0x4b1984(0x668)](),scratchpadCtx[_0x4b1984(0xd3b)]='transparent',scratchpadCtx[_0x4b1984(0x2a8)]=0x0,scratchpadCtx['strokeStyle']=_0x4b1984(0x667),scratchpadCtx[_0x4b1984(0x978)]=_0x409648,scratchpadCtx[_0x4b1984(0x668)](),scratchpadCtx[_0x4b1984(0x1a0)]();}else{if(_0x1c23cb[_0x4b1984(0x9b1)]===_0x4b1984(0xa3b)){scratchpadCtx['globalCompositeOperation']=_0x4b1984(0x27d),scratchpadCtx['strokeStyle']=_0x1c23cb['color'],scratchpadCtx[_0x4b1984(0x978)]=_0x1c23cb[_0x4b1984(0xd34)],scratchpadCtx[_0x4b1984(0x7f9)](),scratchpadCtx['moveTo'](_0x1c23cb[_0x4b1984(0xa55)][0x0]['x'],_0x1c23cb['points'][0x0]['y']);for(let _0x46008b=0x1;_0x46008b<_0x1c23cb[_0x4b1984(0xa55)][_0x4b1984(0xdf3)]-0x1;_0x46008b++){const _0x1dcc2a=getMidpoint(_0x1c23cb[_0x4b1984(0xa55)][_0x46008b],_0x1c23cb[_0x4b1984(0xa55)][_0x46008b+0x1]);scratchpadCtx[_0x4b1984(0xdc9)](_0x1c23cb[_0x4b1984(0xa55)][_0x46008b]['x'],_0x1c23cb['points'][_0x46008b]['y'],_0x1dcc2a['x'],_0x1dcc2a['y']);}scratchpadCtx[_0x4b1984(0x668)](),scratchpadCtx[_0x4b1984(0x1a0)]();}else{scratchpadCtx[_0x4b1984(0x3e8)]=_0x1c23cb[_0x4b1984(0x9b1)]===_0x4b1984(0x336)?'destination-out':'source-over',scratchpadCtx[_0x4b1984(0x317)]=_0x1c23cb[_0x4b1984(0x6bf)],scratchpadCtx['lineWidth']=_0x1c23cb[_0x4b1984(0xd34)],scratchpadCtx[_0x4b1984(0x7f9)](),scratchpadCtx['moveTo'](_0x1c23cb[_0x4b1984(0xa55)][0x0]['x'],_0x1c23cb[_0x4b1984(0xa55)][0x0]['y']);for(let _0x30c93d=0x1;_0x30c93d<_0x1c23cb[_0x4b1984(0xa55)]['length']-0x1;_0x30c93d++){const _0x504e96=getMidpoint(_0x1c23cb[_0x4b1984(0xa55)][_0x30c93d],_0x1c23cb[_0x4b1984(0xa55)][_0x30c93d+0x1]);scratchpadCtx[_0x4b1984(0xdc9)](_0x1c23cb[_0x4b1984(0xa55)][_0x30c93d]['x'],_0x1c23cb['points'][_0x30c93d]['y'],_0x504e96['x'],_0x504e96['y']);}scratchpadCtx[_0x4b1984(0x668)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x4b1984(0x2b0)]();}function handlePointerMove(_0x5ba0ab){const _0x40b26d=_0x47050f;_0x5ba0ab['preventDefault']();const _0x5371b1=scratchpadCtx[_0x40b26d(0x475)],_0x49e029=_0x5371b1[_0x40b26d(0x608)]();if(_0x5ba0ab['touches']){if(_0x5ba0ab[_0x40b26d(0x42c)][_0x40b26d(0xdf3)]===0x1&&isDrawingOnScratchpad){const _0x1780c2=getTransformedPoint(_0x5ba0ab[_0x40b26d(0x42c)][0x0][_0x40b26d(0x33b)]-_0x49e029['left'],_0x5ba0ab['touches'][0x0]['clientY']-_0x49e029['top']);currentStroke[_0x40b26d(0xa55)]['push'](_0x1780c2),redrawScratchpad();}else{if(_0x5ba0ab[_0x40b26d(0x42c)]['length']===0x2&&isPanning){const _0x667273=getDistance({'x':_0x5ba0ab[_0x40b26d(0x42c)][0x0]['clientX'],'y':_0x5ba0ab['touches'][0x0][_0x40b26d(0xb9e)]},{'x':_0x5ba0ab[_0x40b26d(0x42c)][0x1]['clientX'],'y':_0x5ba0ab[_0x40b26d(0x42c)][0x1][_0x40b26d(0xb9e)]}),_0x384be1=getMidpoint({'x':_0x5ba0ab[_0x40b26d(0x42c)][0x0][_0x40b26d(0x33b)],'y':_0x5ba0ab[_0x40b26d(0x42c)][0x0][_0x40b26d(0xb9e)]},{'x':_0x5ba0ab[_0x40b26d(0x42c)][0x1][_0x40b26d(0x33b)],'y':_0x5ba0ab[_0x40b26d(0x42c)][0x1][_0x40b26d(0xb9e)]}),_0x2264fb=_0x667273/ initialPinchDistance,_0x24498c=Math[_0x40b26d(0x1da)](Math['max'](scratchpadScale*_0x2264fb,MIN_SCALE),MAX_SCALE),_0x179083=_0x384be1['x']-panStart['x'],_0xa14f4a=_0x384be1['y']-panStart['y'];scratchpadOffset['x']=_0x384be1['x']-(_0x384be1['x']-scratchpadOffset['x'])*(_0x24498c/scratchpadScale),scratchpadOffset['y']=_0x384be1['y']-(_0x384be1['y']-scratchpadOffset['y'])*(_0x24498c/scratchpadScale),scratchpadOffset['x']+=_0x179083,scratchpadOffset['y']+=_0xa14f4a,scratchpadScale=_0x24498c,initialPinchDistance=_0x667273,panStart=_0x384be1,redrawScratchpad();}}}else{if(isMousePanning){const _0x49b98b=_0x5ba0ab[_0x40b26d(0x33b)]-panStart['x'],_0x53779a=_0x5ba0ab[_0x40b26d(0xb9e)]-panStart['y'];scratchpadOffset['x']+=_0x49b98b,scratchpadOffset['y']+=_0x53779a,panStart={'x':_0x5ba0ab[_0x40b26d(0x33b)],'y':_0x5ba0ab[_0x40b26d(0xb9e)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x42aa91=getTransformedPoint(_0x5ba0ab[_0x40b26d(0x33b)]-_0x49e029['left'],_0x5ba0ab[_0x40b26d(0xb9e)]-_0x49e029[_0x40b26d(0xd2f)]);currentStroke['points'][_0x40b26d(0x49c)](_0x42aa91),redrawScratchpad();}}}}function handlePointerUp(_0x4878a6){const _0x304998=_0x47050f;_0x4878a6[_0x304998(0x95b)]();const _0x883d63=scratchpadCtx[_0x304998(0x475)];isMousePanning&&(isMousePanning=![],_0x883d63[_0x304998(0x8aa)][_0x304998(0xa37)]=_0x304998(0x1f2)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x304998(0xdf3)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x304998(0x9b1)]===_0x304998(0x3dc)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x24457c=_0x304998,_0x210208=strokes['filter'](_0x6e70fc=>_0x6e70fc[_0x24457c(0x9b1)]===_0x24457c(0x3dc)&&!_0x6e70fc[_0x24457c(0x48b)]);if(_0x210208[_0x24457c(0xdf3)]>0x0){const _0x12e741=Date[_0x24457c(0xc48)]();_0x210208['forEach'](_0x5f03ca=>_0x5f03ca['fadeStartTime']=_0x12e741),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0xffc2cd){const _0x2c261b=_0x47050f;_0xffc2cd[_0x2c261b(0x95b)]();const _0x18a8bf=_0xffc2cd[_0x2c261b(0x1a8)]*-0.005,_0x349504=Math[_0x2c261b(0x1da)](Math[_0x2c261b(0xd2c)](scratchpadScale+_0x18a8bf,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0xffc2cd[_0x2c261b(0x33b)]-(_0xffc2cd['clientX']-scratchpadOffset['x'])*(_0x349504/scratchpadScale),scratchpadOffset['y']=_0xffc2cd[_0x2c261b(0xb9e)]-(_0xffc2cd[_0x2c261b(0xb9e)]-scratchpadOffset['y'])*(_0x349504/scratchpadScale),scratchpadScale=_0x349504,redrawScratchpad();}function undo(){const _0x3947ea=_0x47050f;strokes[_0x3947ea(0xdf3)]>0x0&&(redoStrokes['push'](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x9f5c9e=_0x47050f;redoStrokes[_0x9f5c9e(0xdf3)]>0x0&&(strokes[_0x9f5c9e(0x49c)](redoStrokes[_0x9f5c9e(0x177)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2cfe7b=_0x47050f;document['getElementById'](_0x2cfe7b(0xa72))[_0x2cfe7b(0x9b6)]=strokes['length']===0x0,document[_0x2cfe7b(0x70b)](_0x2cfe7b(0x176))[_0x2cfe7b(0x9b6)]=redoStrokes[_0x2cfe7b(0xdf3)]===0x0;}function openScratchpad(_0x4e11ba,_0x124af4){const _0x3c968b=_0x47050f,_0x3f3e4d=document[_0x3c968b(0x70b)](_0x3c968b(0x198)),_0x417c8f=document[_0x3c968b(0x70b)](_0x3c968b(0xdc1)),_0x48a7ba=document[_0x3c968b(0x70b)](_0x3c968b(0xdf5)),_0x2b06b3=document[_0x3c968b(0x70b)]('scratchpad-controls');_0x417c8f[_0x3c968b(0xb90)]=_0x4e11ba[_0x3c968b(0x93d)]||_0x4e11ba[_0x3c968b(0xc25)],_0x48a7ba[_0x3c968b(0xb90)]=_0x124af4[_0x3c968b(0x3cc)]((_0x222c52,_0x128f93)=>_0x3c968b(0x36f)+String['fromCharCode'](0x41+_0x128f93)+'.\x20'+_0x222c52+_0x3c968b(0xad2))[_0x3c968b(0x909)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3f3e4d[_0x3c968b(0x9cc)][_0x3c968b(0x7a8)](_0x3c968b(0xbce)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x3c968b(0xb85)]([_0x417c8f,_0x48a7ba]);}function openBlueprintQuizSettings(){const _0x28f9a3=_0x47050f,_0x4b1048=document['getElementById'](_0x28f9a3(0x995)),_0x2ab63b=blueprintPageSettings||(currentProjectData?currentProjectData[_0x28f9a3(0x54d)]:{})||{};document[_0x28f9a3(0x70b)]('bp-modal-quiz-type-select')[_0x28f9a3(0xd95)]=_0x2ab63b['quizType']||document[_0x28f9a3(0x70b)]('quiz-type-select')[_0x28f9a3(0xd95)],document[_0x28f9a3(0x70b)](_0x28f9a3(0x913))[_0x28f9a3(0xb90)]=document[_0x28f9a3(0x70b)](_0x28f9a3(0x5b3))['innerHTML'],document[_0x28f9a3(0x70b)](_0x28f9a3(0x913))[_0x28f9a3(0xd95)]=_0x2ab63b['difficultyValue']||document[_0x28f9a3(0x70b)](_0x28f9a3(0x5b3))[_0x28f9a3(0xd95)],document['getElementById']('bp-modal-question-complexity-select')[_0x28f9a3(0xb90)]=document['getElementById'](_0x28f9a3(0xc95))[_0x28f9a3(0xb90)],document[_0x28f9a3(0x70b)](_0x28f9a3(0x7c6))[_0x28f9a3(0xd95)]=_0x2ab63b[_0x28f9a3(0xba0)]||document['getElementById'](_0x28f9a3(0xc95))[_0x28f9a3(0xd95)],document[_0x28f9a3(0x70b)](_0x28f9a3(0x549))[_0x28f9a3(0xd95)]=_0x2ab63b[_0x28f9a3(0xcc0)]||document[_0x28f9a3(0x70b)](_0x28f9a3(0x77f))[_0x28f9a3(0xd95)],document[_0x28f9a3(0x70b)]('bp-modal-passing-score-input')[_0x28f9a3(0xd95)]=_0x2ab63b[_0x28f9a3(0x40b)]||document['getElementById'](_0x28f9a3(0x858))['value'],document['getElementById'](_0x28f9a3(0x6dc))[_0x28f9a3(0xd95)]=_0x2ab63b[_0x28f9a3(0xa46)]||document['getElementById'](_0x28f9a3(0x70e))[_0x28f9a3(0xd95)],document['getElementById'](_0x28f9a3(0x235))[_0x28f9a3(0xd95)]=_0x2ab63b['shuffle']||document[_0x28f9a3(0x70b)](_0x28f9a3(0xa08))['value'],document[_0x28f9a3(0x70b)](_0x28f9a3(0x8fe))[_0x28f9a3(0xceb)]=_0x2ab63b['includeImages']||document[_0x28f9a3(0x70b)](_0x28f9a3(0x3f2))['checked'],_0x4b1048[_0x28f9a3(0x9cc)][_0x28f9a3(0x7a8)](_0x28f9a3(0xbce));}function handleSaveBlueprintPageSettings(){const _0x530815=_0x47050f;blueprintPageSettings={'quizType':document['getElementById']('bp-modal-quiz-type-select')[_0x530815(0xd95)],'difficultyValue':document['getElementById'](_0x530815(0x913))[_0x530815(0xd95)],'complexityValue':document['getElementById'](_0x530815(0x7c6))[_0x530815(0xd95)],'numQuestions':document[_0x530815(0x70b)](_0x530815(0x549))['value'],'passingScore':document[_0x530815(0x70b)]('bp-modal-passing-score-input')['value'],'numChoices':document[_0x530815(0x70b)](_0x530815(0x6dc))[_0x530815(0xd95)],'shuffle':document[_0x530815(0x70b)]('bp-modal-shuffle-setting-select')[_0x530815(0xd95)],'includeImages':document['getElementById'](_0x530815(0x8fe))[_0x530815(0xceb)]},showMessage(_0x530815(0x27b)),document[_0x530815(0x70b)](_0x530815(0x995))['classList']['add'](_0x530815(0xbce));}function listenForParallelTestShortcuts(){const _0x4c121b=_0x47050f,_0x4f534c=doc(db,_0x4c121b(0x792),'parallelTestShortcutsConfig');onSnapshot(_0x4f534c,_0x263fed=>{const _0x1bfdbc=_0x4c121b;let _0x325c4b=[],_0x5579c9=[],_0x3a7d6b={};if(_0x263fed[_0x1bfdbc(0x7ed)]()){const _0x1087af=_0x263fed[_0x1bfdbc(0x54c)]();_0x325c4b=_0x1087af[_0x1bfdbc(0x6e6)]||[],_0x5579c9=_0x1087af[_0x1bfdbc(0xc08)]||[],_0x3a7d6b=_0x1087af[_0x1bfdbc(0x921)]||{};}!_0x5579c9[_0x1bfdbc(0x60d)](_0x67e0c3=>_0x67e0c3['id']===_0x1bfdbc(0xb3f))&&_0x5579c9[_0x1bfdbc(0x4c8)]({'id':_0x1bfdbc(0xb3f),'name':_0x1bfdbc(0x9d9),'isDefault':!![]}),!_0x325c4b[_0x1bfdbc(0x60d)](_0x396c3b=>_0x396c3b['id']==='parallel-default-1')&&_0x325c4b[_0x1bfdbc(0x4c8)]({'id':_0x1bfdbc(0xaa9),'name':_0x1bfdbc(0x419),'url':'','isDefault':!![]}),!_0x325c4b[_0x1bfdbc(0x60d)](_0x516fa9=>_0x516fa9['id']===_0x1bfdbc(0xe20))&&_0x325c4b['unshift']({'id':'parallel-default-2','name':_0x1bfdbc(0x643),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x325c4b,parallelShortcutTabs=_0x5579c9,parallelShortcutOrder=_0x3a7d6b,renderParallelTestShortcuts(),!document[_0x1bfdbc(0x70b)](_0x1bfdbc(0x5a0))['classList'][_0x1bfdbc(0x2bc)](_0x1bfdbc(0xbce))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x50a765=_0x47050f,_0x221eca=doc(db,_0x50a765(0x792),'parallelTestShortcutsConfig');try{await setDoc(_0x221eca,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0xff6ac8){console['error'](_0x50a765(0xaa1),_0xff6ac8);}}function renderAdditionalParallelShortcutsModal(){const _0x258b5c=_0x47050f,_0x23488c=document[_0x258b5c(0x70b)](_0x258b5c(0xe3a)),_0x2ce6a2=document[_0x258b5c(0x70b)](_0x258b5c(0xbd2));if(!_0x23488c||!_0x2ce6a2)return;_0x23488c[_0x258b5c(0xb90)]=parallelShortcutTabs[_0x258b5c(0x3cc)](_0xe3ce2=>{const _0x44ac60=_0x258b5c,_0x52d0e9=_0xe3ce2['id']===activeParallelShortcutTabId;return _0x44ac60(0x8e9)+_0xe3ce2['id']+_0x44ac60(0xb42)+(_0x52d0e9?_0x44ac60(0x8ad):_0x44ac60(0xdf1))+_0x44ac60(0x7ce)+_0xe3ce2[_0x44ac60(0x312)]+_0x44ac60(0xba1)+_0xe3ce2['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xe3ce2[_0x44ac60(0x239)]?_0x44ac60(0x638)+_0xe3ce2['id']+_0x44ac60(0x977):'')+_0x44ac60(0x3ac);})[_0x258b5c(0x909)]('');const _0x54729d=parallelShortcutTabs[_0x258b5c(0x60d)](_0x4957bf=>_0x4957bf['id']===activeParallelShortcutTabId);let _0x234961=_0x54729d?.[_0x258b5c(0x239)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x5ef7e3=>(_0x54729d?.[_0x258b5c(0x529)]||[])[_0x258b5c(0x7f1)](_0x5ef7e3['id']));const _0x248869=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x234961[_0x258b5c(0x846)]((_0x2335ba,_0x576c17)=>{const _0x566534=_0x258b5c,_0x2ef187=_0x248869[_0x566534(0x436)](_0x2335ba['id']),_0xffe97a=_0x248869['indexOf'](_0x576c17['id']);return(_0x2ef187===-0x1?Infinity:_0x2ef187)-(_0xffe97a===-0x1?Infinity:_0xffe97a);}),_0x2ce6a2[_0x258b5c(0xb90)]=_0x234961[_0x258b5c(0x3cc)](_0x2cdaf3=>{const _0x3b584c=_0x258b5c,_0x318f28=_0x2cdaf3[_0x3b584c(0x90b)]?'🔁':'🔗',_0x4974d3=parallelShortcutTabs[_0x3b584c(0xc87)](_0x3a3e62=>!_0x3a3e62[_0x3b584c(0x239)]),_0x5ec9a7=_0x54729d['isDefault']&&_0x4974d3[_0x3b584c(0xdf3)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4974d3[_0x3b584c(0x3cc)](_0x43e2cf=>_0x3b584c(0x4d5)+_0x2cdaf3['id']+'\x22\x20data-target-tab-id=\x22'+_0x43e2cf['id']+'\x22>'+_0x43e2cf[_0x3b584c(0x312)]+_0x3b584c(0x2eb))[_0x3b584c(0x909)]('')+_0x3b584c(0x610):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x2cdaf3['id']+_0x3b584c(0x1f7)+_0x318f28+'\x20'+_0x2cdaf3[_0x3b584c(0x312)]+_0x3b584c(0x266)+_0x2cdaf3['id']+_0x3b584c(0xd98)+_0x2cdaf3['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2cdaf3['isDefault']?_0x3b584c(0x8ac)+_0x2cdaf3['id']+_0x3b584c(0x8f5):'')+_0x3b584c(0x717)+(!_0x54729d[_0x3b584c(0x239)]?_0x3b584c(0xd25)+_0x2cdaf3['id']+_0x3b584c(0x432):'')+_0x3b584c(0x717)+_0x5ec9a7+_0x3b584c(0x247);})[_0x258b5c(0x909)]('')||_0x258b5c(0x9cb),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x11ac7e=_0x47050f;document[_0x11ac7e(0x8fc)]('.parallel-shortcut-tab-btn')[_0x11ac7e(0xc4c)](_0x3d7781=>{const _0x214c5c=_0x11ac7e;_0x3d7781[_0x214c5c(0x257)]=_0x5604ef=>{const _0x5dcc0a=_0x214c5c;activeParallelShortcutTabId=_0x5604ef[_0x5dcc0a(0x7c1)][_0x5dcc0a(0x71a)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x3d7781['ondblclick']=_0x974a7=>{const _0x611631=_0x214c5c,_0x593d15=_0x974a7[_0x611631(0x7c1)][_0x611631(0xdde)](_0x611631(0x91d));_0x974a7[_0x611631(0x7c1)]['querySelector']('.tab-name-display')[_0x611631(0x9cc)][_0x611631(0x505)](_0x611631(0xbce)),_0x593d15[_0x611631(0x9cc)][_0x611631(0x7a8)](_0x611631(0xbce)),_0x593d15[_0x611631(0xdd2)](),_0x593d15[_0x611631(0x7ee)]();};}),document[_0x11ac7e(0x8fc)](_0x11ac7e(0x2d8))[_0x11ac7e(0xc4c)](_0xc56d04=>{const _0x7a7e57=_0x11ac7e,_0x3e78de=()=>{const _0x473c95=_0x3d0b,_0x2f9336=_0xc56d04['closest'](_0x473c95(0xb0a))[_0x473c95(0x71a)][_0x473c95(0xbad)],_0x456eda=parallelShortcutTabs[_0x473c95(0x60d)](_0x27ca9b=>_0x27ca9b['id']===_0x2f9336);_0x456eda&&(_0x456eda[_0x473c95(0x312)]=_0xc56d04['value'][_0x473c95(0x28f)]()||_0x456eda[_0x473c95(0x312)],saveParallelShortcutConfig());};_0xc56d04[_0x7a7e57(0xbc3)]=_0x3e78de,_0xc56d04['onkeydown']=_0xfac027=>{const _0x40b9d1=_0x7a7e57;if(_0xfac027[_0x40b9d1(0x9f4)]===_0x40b9d1(0x649))_0xc56d04[_0x40b9d1(0x85e)]();};}),document[_0x11ac7e(0x8fc)](_0x11ac7e(0x293))[_0x11ac7e(0xc4c)](_0x44415d=>_0x44415d[_0x11ac7e(0x257)]=_0x2d6dc9=>{const _0xc47362=_0x11ac7e,_0x15b9d5=_0x2d6dc9['currentTarget']['dataset'][_0xc47362(0xbad)];showConfirmation(_0xc47362(0x50c),()=>{const _0x4066ed=_0xc47362;parallelShortcutTabs=parallelShortcutTabs[_0x4066ed(0xc87)](_0x200002=>_0x200002['id']!==_0x15b9d5),delete parallelShortcutOrder[_0x15b9d5];if(activeParallelShortcutTabId===_0x15b9d5)activeParallelShortcutTabId=_0x4066ed(0xb3f);saveParallelShortcutConfig();});}),document[_0x11ac7e(0x8fc)](_0x11ac7e(0x8ce))[_0x11ac7e(0xc4c)](_0x333ff8=>_0x333ff8[_0x11ac7e(0x257)]=_0x50f436=>{const _0x37de5e=_0x11ac7e;_0x50f436[_0x37de5e(0x95b)]();const {shortcutId:_0x35f89f,targetTabId:_0x34081c}=_0x50f436[_0x37de5e(0x7c1)][_0x37de5e(0x71a)],_0x520a14=parallelShortcutTabs[_0x37de5e(0x60d)](_0x39d252=>_0x39d252['id']===_0x34081c);_0x520a14&&!_0x520a14[_0x37de5e(0x529)][_0x37de5e(0x7f1)](_0x35f89f)&&(_0x520a14[_0x37de5e(0x529)][_0x37de5e(0x49c)](_0x35f89f),saveParallelShortcutConfig());}),document[_0x11ac7e(0x8fc)](_0x11ac7e(0xa41))[_0x11ac7e(0xc4c)](_0x56bcda=>_0x56bcda[_0x11ac7e(0x257)]=_0x3ff8e3=>{const _0x3c5811=_0x11ac7e,_0xab3d26=_0x3ff8e3[_0x3c5811(0x7c1)][_0x3c5811(0x71a)][_0x3c5811(0x503)],_0x2a718d=parallelShortcutTabs[_0x3c5811(0x60d)](_0x4d08fd=>_0x4d08fd['id']===activeParallelShortcutTabId);_0x2a718d&&!_0x2a718d[_0x3c5811(0x239)]&&(_0x2a718d[_0x3c5811(0x529)]=_0x2a718d[_0x3c5811(0x529)][_0x3c5811(0xc87)](_0x1d9b13=>_0x1d9b13!==_0xab3d26),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x11ac7e(0x80f))[_0x11ac7e(0xc4c)](_0x3c23bb=>_0x3c23bb['onclick']=_0x3aabfb=>{const _0x555fc2=_0x11ac7e;_0x3aabfb[_0x555fc2(0xccd)]();const _0x20b8bb=_0x3aabfb[_0x555fc2(0x7c1)][_0x555fc2(0xae3)];document['querySelectorAll']('.move-parallel-shortcut-dropdown')[_0x555fc2(0xc4c)](_0x3fbe8b=>_0x3fbe8b['classList'][_0x555fc2(0x505)]('hidden')),_0x20b8bb[_0x555fc2(0x9cc)][_0x555fc2(0x7a8)]('hidden');});const _0x265e44=document[_0x11ac7e(0x70b)](_0x11ac7e(0xbd2));let _0x2499e8=null;_0x265e44[_0x11ac7e(0x8b9)]=_0x36ff85=>{const _0x51fd2e=_0x11ac7e;_0x2499e8=_0x36ff85[_0x51fd2e(0x1c8)][_0x51fd2e(0x252)](_0x51fd2e(0xa88));if(_0x2499e8)setTimeout(()=>_0x2499e8[_0x51fd2e(0x9cc)][_0x51fd2e(0x505)](_0x51fd2e(0xd69)),0x0);},_0x265e44[_0x11ac7e(0xe10)]=()=>{const _0x568c49=_0x11ac7e;_0x2499e8&&(_0x2499e8[_0x568c49(0x9cc)][_0x568c49(0x7a8)]('opacity-50'),_0x2499e8=null);},_0x265e44['ondragover']=_0x148d64=>{const _0x3ee83f=_0x11ac7e;_0x148d64[_0x3ee83f(0x95b)]();},_0x265e44[_0x11ac7e(0x84e)]=_0x1e4ec4=>{const _0x5a8841=_0x11ac7e;_0x1e4ec4['preventDefault']();if(_0x2499e8){const _0x27424d=[..._0x265e44[_0x5a8841(0x8fc)]('.shortcut-list-item:not(.opacity-50)')][_0x5a8841(0x3cf)]((_0x123caf,_0x164fab)=>{const _0x28ad52=_0x5a8841,_0x3df11d=_0x164fab['getBoundingClientRect'](),_0x141571=_0x1e4ec4[_0x28ad52(0xb9e)]-_0x3df11d[_0x28ad52(0xd2f)]-_0x3df11d['height']/0x2;return _0x141571<0x0&&_0x141571>_0x123caf['offset']?{'offset':_0x141571,'element':_0x164fab}:_0x123caf;},{'offset':Number[_0x5a8841(0xaff)]})[_0x5a8841(0xc39)];_0x27424d==null?_0x265e44[_0x5a8841(0xb08)](_0x2499e8):_0x265e44[_0x5a8841(0x376)](_0x2499e8,_0x27424d);const _0x54f505=[..._0x265e44[_0x5a8841(0x8fc)](_0x5a8841(0xa88))][_0x5a8841(0x3cc)](_0x59c05e=>_0x59c05e['dataset'][_0x5a8841(0x503)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x54f505,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x4d8667=_0x47050f,_0x27d710=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x4d8667(0x8bd));_0x27d710&&_0x27d710[_0x4d8667(0x28f)]()&&(parallelShortcutTabs[_0x4d8667(0x49c)]({'id':_0x4d8667(0x6b1)+Date[_0x4d8667(0xc48)](),'name':_0x27d710['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x311392=_0x47050f,_0x3ddcd2=document[_0x311392(0x70b)](_0x311392(0xae2)),_0x439ca8=document[_0x311392(0x70b)]('additional-parallel-shortcuts-list'),_0x5ae0a3=document['getElementById']('parallel-shortcuts-loading-msg');if(_0x5ae0a3)_0x5ae0a3['classList'][_0x311392(0x505)]('hidden');if(!_0x3ddcd2||!_0x439ca8)return;const _0x290738=parallelTestShortcuts[_0x311392(0x787)](0x0,0x4),_0x493f7c=parallelTestShortcuts[_0x311392(0x787)](0x4);_0x3ddcd2['innerHTML']=_0x290738[_0x311392(0x3cc)](_0x449d15=>{const _0xcfd2fd=_0x311392,_0x232438=_0x449d15['url']&&_0x449d15[_0xcfd2fd(0x90b)][_0xcfd2fd(0x28f)]()!=='',_0x3d0c3f=_0x232438?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0xcfd2fd(0x62b),_0x20f51b=_0x232438?'🔁':'🔗',_0xa1c817=!_0x449d15['isDefault']?_0xcfd2fd(0x8ac)+_0x449d15['id']+_0xcfd2fd(0xaa7):'';return _0xcfd2fd(0x26a)+_0x449d15['id']+_0xcfd2fd(0xb41)+_0x3d0c3f+_0xcfd2fd(0x279)+_0x20f51b+'\x20'+_0x449d15[_0xcfd2fd(0x312)]+_0xcfd2fd(0x1dd)+_0x449d15['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa1c817+_0xcfd2fd(0x238);})[_0x311392(0x909)](''),_0x493f7c[_0x311392(0xdf3)]>0x0&&(_0x3ddcd2[_0x311392(0xb90)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x493f7c[_0x311392(0xdf3)]>0x0?_0x439ca8[_0x311392(0xb90)]=_0x493f7c[_0x311392(0x3cc)](_0x290a8c=>_0x311392(0x897)+(_0x290a8c[_0x311392(0x90b)]?'🔁':'🔗')+'\x20'+_0x290a8c[_0x311392(0x312)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x290a8c['id']+_0x311392(0x578)+_0x290a8c['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x290a8c[_0x311392(0x239)]?'<button\x20data-id=\x22'+_0x290a8c['id']+_0x311392(0x8f5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x311392(0x909)](''):_0x439ca8[_0x311392(0xb90)]=_0x311392(0x23c);}function openParallelTestShortcutEditor(_0x589a37=null){const _0x131aac=_0x47050f,_0x17f57c=document[_0x131aac(0x70b)]('parallel-shortcut-editor-modal'),_0x5ef603=document['getElementById'](_0x131aac(0x6cd)),_0x1a6071=document[_0x131aac(0x70b)]('parallel-shortcut-id-input'),_0x5c11a=document[_0x131aac(0x70b)](_0x131aac(0x5b4)),_0x4227a1=document[_0x131aac(0x70b)](_0x131aac(0xc4e));if(_0x589a37){const _0x504315=parallelTestShortcuts['find'](_0x55ae70=>_0x55ae70['id']===_0x589a37);if(!_0x504315)return;_0x5ef603[_0x131aac(0xc66)]=_0x131aac(0x308),_0x1a6071[_0x131aac(0xd95)]=_0x504315['id'],_0x5c11a[_0x131aac(0xd95)]=_0x504315['name'],_0x4227a1[_0x131aac(0xd95)]=_0x504315[_0x131aac(0x90b)]||'';}else _0x5ef603[_0x131aac(0xc66)]=_0x131aac(0xa10),_0x1a6071[_0x131aac(0xd95)]='',_0x5c11a[_0x131aac(0xd95)]='',_0x4227a1[_0x131aac(0xd95)]='';_0x17f57c[_0x131aac(0x9cc)][_0x131aac(0x7a8)](_0x131aac(0xbce));}async function saveParallelTestShortcutChanges(){const _0xe657cc=_0x47050f,_0x16927a=document[_0xe657cc(0x70b)](_0xe657cc(0xe84))['value'],_0x1ba9b4=document[_0xe657cc(0x70b)]('parallel-shortcut-name-input')['value']['trim'](),_0x40b59a=document['getElementById'](_0xe657cc(0xc4e))['value'][_0xe657cc(0x28f)]();if(!_0x1ba9b4){showMessage(_0xe657cc(0x723));return;}const _0x2c59c2={'id':_0x16927a||'parallel-shortcut_'+Date[_0xe657cc(0xc48)](),'name':_0x1ba9b4,'url':_0x40b59a,'isDefault':_0x16927a[_0xe657cc(0xdac)]('parallel-default-')};let _0x17a559;_0x16927a?_0x17a559=parallelTestShortcuts['map'](_0x391656=>_0x391656['id']===_0x16927a?_0x2c59c2:_0x391656):_0x17a559=[...parallelTestShortcuts,_0x2c59c2];try{const _0xde93db=doc(db,_0xe657cc(0x792),'parallelTestShortcutsConfig');await setDoc(_0xde93db,{'shortcuts':_0x17a559},{'merge':!![]}),document[_0xe657cc(0x70b)](_0xe657cc(0xafe))['classList'][_0xe657cc(0x505)](_0xe657cc(0xbce));}catch(_0x11bd17){console[_0xe657cc(0x8c2)](_0xe657cc(0x936),_0x11bd17),showMessage(_0xe657cc(0x507));}}async function handleParallelTestShortcutClick(_0xac4bd6){const _0x34afcd=_0x47050f,_0x5197bf=parallelTestShortcuts[_0x34afcd(0x60d)](_0x3ffba2=>_0x3ffba2['id']===_0xac4bd6);if(!_0x5197bf)return;if(!_0x5197bf[_0x34afcd(0x90b)]||_0x5197bf[_0x34afcd(0x90b)][_0x34afcd(0x28f)]()===''){openParallelTestShortcutEditor(_0xac4bd6);return;}const _0x29918b=document['getElementById']('loader'),_0x2eb42c=document[_0x34afcd(0x70b)](_0x34afcd(0xa35));document[_0x34afcd(0x70b)](_0x34afcd(0xcc8))[_0x34afcd(0x9cc)][_0x34afcd(0x7a8)]('hidden'),document['getElementById']('generated-quiz-container')['innerHTML']='',_0x29918b[_0x34afcd(0x9cc)][_0x34afcd(0x7a8)](_0x34afcd(0xbce)),_0x2eb42c[_0x34afcd(0xc66)]=_0x34afcd(0x581);try{let _0x2d5c39;_0x5197bf[_0x34afcd(0x90b)]['toLowerCase']()[_0x34afcd(0x7f1)](_0x34afcd(0x814))?_0x2d5c39=_0x34afcd(0xac1):_0x2d5c39=_0x34afcd(0xa9a);const _0x543afe=await fetchFileFromUrl(_0x5197bf[_0x34afcd(0x90b)],_0x2d5c39);await handleGenerateParallelTest(_0x543afe);}catch(_0x2d34ba){console[_0x34afcd(0x8c2)](_0x34afcd(0xc4b),_0x2d34ba),showMessage(_0x34afcd(0x2fd)+_0x2d34ba[_0x34afcd(0xac4)]),_0x29918b[_0x34afcd(0x9cc)]['add'](_0x34afcd(0xbce));}}function initializeScratchpadCanvas(){const _0x4d1a41=_0x47050f,_0x5bafab=document['getElementById'](_0x4d1a41(0x951)),_0x2efc84=document[_0x4d1a41(0xdde)](_0x4d1a41(0x8fb));if(!_0x5bafab||!_0x2efc84)return;scratchpadCtx=_0x5bafab[_0x4d1a41(0xcf3)]('2d',{'willReadFrequently':!![]});const _0xd544f2=window[_0x4d1a41(0x957)]||0x1,_0x14382f=_0x2efc84[_0x4d1a41(0x608)]();_0x5bafab[_0x4d1a41(0x3e0)]=_0x14382f[_0x4d1a41(0x3e0)]*_0xd544f2,_0x5bafab[_0x4d1a41(0x3d7)]=_0x14382f[_0x4d1a41(0x3d7)]*_0xd544f2,_0x5bafab[_0x4d1a41(0x8aa)]['width']=_0x14382f['width']+'px',_0x5bafab[_0x4d1a41(0x8aa)][_0x4d1a41(0x3d7)]=_0x14382f[_0x4d1a41(0x3d7)]+'px',scratchpadCtx[_0x4d1a41(0xc67)](_0xd544f2,_0xd544f2),scratchpadCtx[_0x4d1a41(0xcf6)]='round',scratchpadCtx[_0x4d1a41(0x1ae)]='round',_0x5bafab[_0x4d1a41(0x64c)]('pointerdown',handlePointerDown),_0x5bafab[_0x4d1a41(0x64c)](_0x4d1a41(0x1c3),handlePointerMove),_0x5bafab[_0x4d1a41(0x64c)](_0x4d1a41(0x874),handlePointerUp),_0x5bafab[_0x4d1a41(0x64c)]('pointercancel',handlePointerUp),_0x5bafab[_0x4d1a41(0x64c)](_0x4d1a41(0x23d),handleWheel),_0x5bafab['removeEventListener'](_0x4d1a41(0x68e),handlePointerDown),_0x5bafab[_0x4d1a41(0x64c)](_0x4d1a41(0xb24),handlePointerMove),_0x5bafab[_0x4d1a41(0x64c)]('touchend',handlePointerUp),_0x5bafab[_0x4d1a41(0x86d)](_0x4d1a41(0x2c6),handlePointerDown),_0x5bafab[_0x4d1a41(0x86d)](_0x4d1a41(0x1c3),handlePointerMove),_0x5bafab[_0x4d1a41(0x86d)](_0x4d1a41(0x874),handlePointerUp),_0x5bafab[_0x4d1a41(0x86d)](_0x4d1a41(0x8e6),handlePointerUp),_0x5bafab[_0x4d1a41(0x86d)](_0x4d1a41(0x23d),handleWheel,{'passive':![]}),_0x5bafab[_0x4d1a41(0x86d)]('touchstart',handlePointerDown,{'passive':![]}),_0x5bafab[_0x4d1a41(0x86d)](_0x4d1a41(0xb24),handlePointerMove,{'passive':![]}),_0x5bafab[_0x4d1a41(0x86d)](_0x4d1a41(0x212),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4ad2a6=_0x47050f,_0x395a40=document[_0x4ad2a6(0x70b)]('scratchpad-modal'),_0x16e17c=document[_0x4ad2a6(0x70b)](_0x4ad2a6(0xd6c));_0x16e17c[_0x4ad2a6(0xb90)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x4ad2a6(0xc9d);const _0x6bf301=document[_0x4ad2a6(0x70b)](_0x4ad2a6(0xd61)),_0x68bcbc=document['getElementById'](_0x4ad2a6(0x806)),_0xaccc84=document[_0x4ad2a6(0x70b)](_0x4ad2a6(0xb94)),_0x183aad=document[_0x4ad2a6(0x70b)](_0x4ad2a6(0xcaf)),_0x3912d7=document[_0x4ad2a6(0x70b)](_0x4ad2a6(0xaa6)),_0x1af777=document[_0x4ad2a6(0x70b)](_0x4ad2a6(0xd75)),_0x571322=document[_0x4ad2a6(0x70b)](_0x4ad2a6(0x2ec)),_0x270dd7=[_0x6bf301,_0x68bcbc,_0xaccc84,_0x183aad];document[_0x4ad2a6(0x70b)]('scratchpad-close-btn')['addEventListener'](_0x4ad2a6(0x9a8),()=>_0x395a40['classList'][_0x4ad2a6(0x505)](_0x4ad2a6(0xbce))),document['getElementById'](_0x4ad2a6(0x459))[_0x4ad2a6(0x86d)](_0x4ad2a6(0x9a8),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x4ad2a6(0x304))['addEventListener'](_0x4ad2a6(0x9a8),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4ad2a6(0x70b)](_0x4ad2a6(0xa72))[_0x4ad2a6(0x86d)](_0x4ad2a6(0x9a8),undo),document[_0x4ad2a6(0x70b)](_0x4ad2a6(0x176))[_0x4ad2a6(0x86d)]('click',redo);const _0x20d101=_0x545612=>{const _0x19b153=_0x4ad2a6;_0x270dd7['forEach'](_0xa1357=>_0xa1357[_0x19b153(0x9cc)][_0x19b153(0x7a8)]('active')),_0x545612[_0x19b153(0x9cc)][_0x19b153(0x505)](_0x19b153(0x294)),_0x3912d7['classList']['add'](_0x19b153(0xbce)),_0x1af777[_0x19b153(0x9cc)]['add'](_0x19b153(0xbce)),_0x571322[_0x19b153(0x9cc)]['add'](_0x19b153(0xbce));if(activeTool===_0x19b153(0xcb7)||activeTool===_0x19b153(0x3dc))_0x3912d7[_0x19b153(0x9cc)][_0x19b153(0x7a8)]('hidden');else{if(activeTool===_0x19b153(0xa3b))_0x1af777[_0x19b153(0x9cc)][_0x19b153(0x7a8)](_0x19b153(0xbce));else activeTool===_0x19b153(0x336)&&_0x571322['classList'][_0x19b153(0x7a8)]('hidden');}};_0x6bf301['addEventListener'](_0x4ad2a6(0x9a8),()=>{const _0x2ce7eb=_0x4ad2a6;activeTool=_0x2ce7eb(0xcb7),_0x20d101(_0x6bf301);}),_0x68bcbc[_0x4ad2a6(0x86d)](_0x4ad2a6(0x9a8),()=>{const _0x8b08fa=_0x4ad2a6;activeTool=_0x8b08fa(0x336),_0x20d101(_0x68bcbc);}),_0xaccc84[_0x4ad2a6(0x86d)](_0x4ad2a6(0x9a8),()=>{const _0x18e6e8=_0x4ad2a6;activeTool=_0x18e6e8(0x3dc),_0x20d101(_0xaccc84);}),_0x183aad[_0x4ad2a6(0x86d)](_0x4ad2a6(0x9a8),()=>{const _0x3042a5=_0x4ad2a6;activeTool=_0x3042a5(0xa3b),_0x20d101(_0x183aad);}),_0x3912d7[_0x4ad2a6(0x8fc)](_0x4ad2a6(0xadd))[_0x4ad2a6(0xc4c)](_0x267b3a=>{const _0x14eb24=_0x4ad2a6;_0x267b3a[_0x14eb24(0x86d)](_0x14eb24(0x9a8),_0xb8a7f6=>{const _0x35dcf8=_0x14eb24;scratchpadPenSize=parseInt(_0xb8a7f6[_0x35dcf8(0x1c8)][_0x35dcf8(0x71a)][_0x35dcf8(0xd34)],0xa),_0x3912d7[_0x35dcf8(0x8fc)]('.pen-size-btn')[_0x35dcf8(0xc4c)](_0x498b9=>_0x498b9[_0x35dcf8(0x9cc)][_0x35dcf8(0x7a8)]('active')),_0xb8a7f6['target']['classList'][_0x35dcf8(0x505)]('active');});}),_0x571322['querySelectorAll'](_0x4ad2a6(0x276))[_0x4ad2a6(0xc4c)](_0x354808=>{const _0x35dc34=_0x4ad2a6;_0x354808[_0x35dc34(0x86d)](_0x35dc34(0x9a8),_0x28a402=>{const _0x2662db=_0x35dc34,_0x237658=_0x28a402['currentTarget'];scratchpadEraserSize=parseInt(_0x237658['dataset'][_0x2662db(0xd34)],0xa),_0x571322['querySelectorAll'](_0x2662db(0x276))['forEach'](_0x367c4b=>_0x367c4b[_0x2662db(0x9cc)][_0x2662db(0x7a8)](_0x2662db(0x294))),_0x237658[_0x2662db(0x9cc)][_0x2662db(0x505)](_0x2662db(0x294));});}),_0x3912d7[_0x4ad2a6(0x8fc)](_0x4ad2a6(0x347))['forEach'](_0x2462e6=>{_0x2462e6['addEventListener']('click',_0x2fe8f5=>{const _0x48fe02=_0x3d0b;scratchpadPenColor=_0x2fe8f5[_0x48fe02(0x1c8)][_0x48fe02(0x71a)]['color'],_0x3912d7[_0x48fe02(0x8fc)]('.pen-color-btn')[_0x48fe02(0xc4c)](_0x30fba5=>_0x30fba5[_0x48fe02(0x9cc)][_0x48fe02(0x7a8)](_0x48fe02(0x294))),_0x2fe8f5[_0x48fe02(0x1c8)][_0x48fe02(0x9cc)][_0x48fe02(0x505)](_0x48fe02(0x294));});}),_0x1af777[_0x4ad2a6(0x8fc)](_0x4ad2a6(0x78b))[_0x4ad2a6(0xc4c)](_0x3329a9=>{const _0x44c1a0=_0x4ad2a6;_0x3329a9[_0x44c1a0(0x86d)](_0x44c1a0(0x9a8),_0x4aa8dd=>{const _0x3a82d0=_0x44c1a0;scratchpadHighlighterColor=_0x4aa8dd[_0x3a82d0(0x1c8)][_0x3a82d0(0x71a)][_0x3a82d0(0x6bf)],_0x1af777[_0x3a82d0(0x8fc)](_0x3a82d0(0x78b))[_0x3a82d0(0xc4c)](_0x4c8b60=>_0x4c8b60['classList']['remove'](_0x3a82d0(0x294))),_0x4aa8dd['target']['classList'][_0x3a82d0(0x505)](_0x3a82d0(0x294));});});const _0x14b1ef=document[_0x4ad2a6(0x70b)]('highlighter-size-slider'),_0xe2408f=document['getElementById'](_0x4ad2a6(0x7ff));_0x14b1ef[_0x4ad2a6(0x86d)](_0x4ad2a6(0x7d8),_0x388075=>{const _0x571af4=_0x4ad2a6,_0x3dfa10=parseInt(_0x388075[_0x571af4(0x1c8)][_0x571af4(0xd95)],0xa);scratchpadHighlighterSize=_0x3dfa10,_0xe2408f[_0x571af4(0xc66)]=_0x3dfa10;}),window[_0x4ad2a6(0x86d)](_0x4ad2a6(0xa75),()=>{const _0x4a343a=_0x4ad2a6;!_0x395a40[_0x4a343a(0x9cc)][_0x4a343a(0x2bc)](_0x4a343a(0xbce))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x47050f(0x4fe),'name':'คะแนนเต็ม','description':_0x47050f(0x5b8),'icon':_0x47050f(0xd00)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x47050f(0x320),'icon':_0x47050f(0xc88)},'ON_FIRE':{'id':_0x47050f(0x53d),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x47050f(0x7b8)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x47050f(0x642),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x47050f(0x69e),'name':_0x47050f(0x559),'description':_0x47050f(0xa07),'icon':_0x47050f(0xa15)},'SPECIALIST':{'id':_0x47050f(0xda4),'name':'ผู้เชี่ยวชาญ','description':_0x47050f(0x586),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x47050f(0x689),'name':_0x47050f(0x316),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x47050f(0x398)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x47050f(0x211),'projectId':'ai-quiz-app-aefee','storageBucket':_0x47050f(0xbda),'messagingSenderId':'274192258111','appId':_0x47050f(0x3f3),'measurementId':_0x47050f(0x1e0)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x47050f(0x70b)](_0x47050f(0x609)),studentView=document[_0x47050f(0x70b)](_0x47050f(0x709)),projectDashboardView=document[_0x47050f(0x70b)](_0x47050f(0x844)),projectDetailView=document[_0x47050f(0x70b)]('project-detail-view'),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document[_0x47050f(0x70b)](_0x47050f(0x2e1)),noProjectsMsg=document[_0x47050f(0x70b)](_0x47050f(0x599)),projectTitle=document['getElementById'](_0x47050f(0xd91)),projectIdDisplay=document[_0x47050f(0x70b)](_0x47050f(0x759)),studentList=document[_0x47050f(0x70b)](_0x47050f(0xc28)),messageModal=document[_0x47050f(0x70b)](_0x47050f(0xe68)),modalMessage=document[_0x47050f(0x70b)]('modal-message'),createProjectModal=document[_0x47050f(0x70b)](_0x47050f(0x9f6)),adminPasswordModal=document[_0x47050f(0x70b)](_0x47050f(0x1e3)),confirmationModal=document['getElementById'](_0x47050f(0xe7c)),userIdDisplay=document[_0x47050f(0x70b)]('user-id-display'),topicTab=document['getElementById'](_0x47050f(0xa85)),textTab=document[_0x47050f(0x70b)]('text-tab'),topicInputArea=document[_0x47050f(0x70b)]('topic-input-area'),textInputArea=document[_0x47050f(0x70b)](_0x47050f(0xe5c)),manageTab=document['getElementById'](_0x47050f(0xe3c)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document[_0x47050f(0x70b)](_0x47050f(0xa62)),manageTabContent=document[_0x47050f(0x70b)](_0x47050f(0xa79)),resultsTabContent=document[_0x47050f(0x70b)](_0x47050f(0x895)),leaderboardTabContent=document[_0x47050f(0x70b)](_0x47050f(0x8b8)),projectQuizzesList=document[_0x47050f(0x70b)](_0x47050f(0x230)),fileTab=document[_0x47050f(0x70b)]('file-tab'),fileInputArea=document[_0x47050f(0x70b)]('file-input-area'),fileUploadInput=document['getElementById'](_0x47050f(0x3e5)),worksheetTab=document['getElementById'](_0x47050f(0x8c3)),worksheetInputArea=document[_0x47050f(0x70b)](_0x47050f(0x4c4)),generateWorksheetBtn=document[_0x47050f(0x70b)](_0x47050f(0x193)),studentInitialView=document[_0x47050f(0x70b)](_0x47050f(0x516)),studentNameSelectionView=document[_0x47050f(0x70b)](_0x47050f(0xc33)),studentQuizArea=document[_0x47050f(0x70b)](_0x47050f(0x514)),studentResultArea=document[_0x47050f(0x70b)](_0x47050f(0xb93)),studentReadingArea=document['getElementById'](_0x47050f(0x3a9)),loadQuizBtn=document['getElementById'](_0x47050f(0xa6e)),startQuizBtn=document['getElementById'](_0x47050f(0xbac)),studentJoinGameView=document[_0x47050f(0x70b)](_0x47050f(0x5a6)),presentationModal=document[_0x47050f(0x70b)]('presentation-modal'),renameQuizModal=document[_0x47050f(0x70b)](_0x47050f(0x829)),moveQuizModal=document[_0x47050f(0x70b)](_0x47050f(0x6fd)),quizSettingsModal=document[_0x47050f(0x70b)](_0x47050f(0x734)),quizStatusModal=document[_0x47050f(0x70b)]('quiz-status-modal'),liveGameView=document[_0x47050f(0x70b)](_0x47050f(0x78e));function handleFixLessonLatex(){const _0x215aa9=_0x47050f,_0x4e268f=document[_0x215aa9(0x70b)](_0x215aa9(0xa1a));if(!_0x4e268f){showMessage(_0x215aa9(0x61c));return;}const _0x1937fe=_0x4e268f[_0x215aa9(0x8fc)]([_0x215aa9(0x5d6),_0x215aa9(0x4ea),_0x215aa9(0xb2d),_0x215aa9(0x495),_0x215aa9(0xaca)][_0x215aa9(0x909)](','));let _0x57d33e=0x0;const _0x2745b0=_0xe0f8eb=>_0xe0f8eb[_0x215aa9(0xc66)]||'',_0x1b64be=(_0x45b3a2,_0x11d71f)=>{const _0x2828a2=_0x215aa9;if(_0x45b3a2[_0x2828a2(0xdde)]&&_0x45b3a2[_0x2828a2(0xdde)]('mjx-container'))return;_0x45b3a2[_0x2828a2(0xc66)]=_0x11d71f;},_0x3dfe69=_0x5c52c8=>_0x5c52c8[_0x215aa9(0x460)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x5ecd54=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4d4923=_0x265d35=>{const _0x10c7aa=_0x215aa9;let _0x2359e7=_0x265d35[_0x10c7aa(0x28f)]();const _0x2e7bd9=[_0x10c7aa(0x416),'dfrac',_0x10c7aa(0xdb4),_0x10c7aa(0x4a0),_0x10c7aa(0x7fd),'times',_0x10c7aa(0xcb1),_0x10c7aa(0x614),_0x10c7aa(0x74f),_0x10c7aa(0xa3d),'le','ge',_0x10c7aa(0x99a),'pm','approx',_0x10c7aa(0x494),_0x10c7aa(0xd28),_0x10c7aa(0xb1d),_0x10c7aa(0x418),'ln',_0x10c7aa(0x568),_0x10c7aa(0x52a),_0x10c7aa(0xad5),_0x10c7aa(0x933),_0x10c7aa(0x4f7),_0x10c7aa(0xcdb),_0x10c7aa(0x20e),_0x10c7aa(0x30b),_0x10c7aa(0x763)];_0x2e7bd9['forEach'](_0xf93e90=>{const _0x3df9d1=_0x10c7aa;_0x2359e7=_0x2359e7[_0x3df9d1(0x460)](new RegExp(_0x3df9d1(0x5e9)+_0xf93e90+'\x5cb','g'),(_0x3e65cb,_0x2a05b6)=>_0x2a05b6+'\x5c'+_0xf93e90);});const _0x17b843=[[/×/g,_0x10c7aa(0x236)],[/·/g,_0x10c7aa(0xd08)],[/÷/g,_0x10c7aa(0x721)],[/≤/g,_0x10c7aa(0x4f3)],[/≥/g,_0x10c7aa(0xbc2)],[/≠/g,'\x5cneq'],[/±/g,_0x10c7aa(0x9fb)],[/∑/g,_0x10c7aa(0x6eb)],[/−/g,'-']];return _0x17b843[_0x10c7aa(0xc4c)](([_0x44cf97,_0x2282dd])=>{const _0x424e52=_0x10c7aa;_0x2359e7=_0x2359e7[_0x424e52(0x460)](_0x44cf97,_0x2282dd);}),_0x2359e7=_0x2359e7[_0x10c7aa(0x460)](/√\s*([A-Za-z0-9]+)/g,_0x10c7aa(0xbd0)),_0x2359e7=_0x2359e7[_0x10c7aa(0x460)](/(\d+)\s*%/g,_0x10c7aa(0x47a)),_0x2359e7;},_0x4990d9=_0x16abfb=>{const _0x410840=_0x215aa9;if(/\$|\\\(|\\\[/[_0x410840(0x931)](_0x16abfb))return _0x16abfb;if(!_0x5ecd54['test'](_0x16abfb))return _0x16abfb;const _0x3fa357=_0x16abfb[_0x410840(0x423)](/^\s*/)[0x0],_0x368a48=_0x16abfb[_0x410840(0x423)](/\s*$/)[0x0],_0x592034=_0x16abfb[_0x410840(0x28f)]();return _0x3fa357+'$'+_0x4d4923(_0x592034)+'$'+_0x368a48;};_0x1937fe[_0x215aa9(0xc4c)](_0x8143f8=>{const _0x27eb8e=_0x215aa9,_0x3741d9=_0x2745b0(_0x8143f8);let _0x5ef1ea=_0x3dfe69(_0x3741d9);_0x5ef1ea=_0x5ef1ea[_0x27eb8e(0x460)](/\$([^$]*?)\$/g,(_0x514958,_0x58bdc5)=>'$'+_0x4d4923(_0x58bdc5)+'$');const _0x4eb59b=_0x5ef1ea[_0x27eb8e(0x62a)](/(\s+)/),_0x47c887=_0x4eb59b[_0x27eb8e(0x3cc)](_0x524220=>{const _0x4b3581=_0x27eb8e;if(/\s+/[_0x4b3581(0x931)](_0x524220))return _0x524220;return _0x4990d9(_0x524220);});_0x5ef1ea=_0x47c887['join'](''),_0x5ef1ea!==_0x3741d9&&(_0x1b64be(_0x8143f8,_0x5ef1ea),_0x57d33e++);});if(_0x57d33e>0x0){showMessage(_0x215aa9(0x2f9)+_0x57d33e+_0x215aa9(0x687));try{window[_0x215aa9(0x2ab)]&&MathJax['typesetPromise']&&MathJax[_0x215aa9(0xb85)]([_0x4e268f]);}catch(_0x247756){console[_0x215aa9(0x8c2)]('MathJax\x20re-render\x20failed:',_0x247756);}}else showMessage(_0x215aa9(0xb07));}function _0x3d0b(_0x23d749,_0x48bacd){const _0x126a00=_0x126a();return _0x3d0b=function(_0x3d0bbe,_0x5b45b9){_0x3d0bbe=_0x3d0bbe-0x16d;let _0x2a66c5=_0x126a00[_0x3d0bbe];return _0x2a66c5;},_0x3d0b(_0x23d749,_0x48bacd);}function handleAutoFixLatex(){const _0x182f3d=_0x47050f,_0x113e89=document['getElementById'](_0x182f3d(0x66a))||document,_0x33aee1=_0x113e89[_0x182f3d(0x8fc)](_0x182f3d(0x955));let _0x3e3ff6=0x0;const _0x47db1f=_0x19acef=>_0x182f3d(0xd95)in _0x19acef?String(_0x19acef[_0x182f3d(0xd95)]):_0x19acef[_0x182f3d(0xb44)]!==undefined?_0x19acef[_0x182f3d(0xb44)]:_0x19acef[_0x182f3d(0xc66)]||'',_0x2250fe=(_0x47d15c,_0x3bda84)=>{const _0x5e0b5d=_0x182f3d;if(_0x5e0b5d(0xd95)in _0x47d15c){_0x47d15c['value']=_0x3bda84;return;}if(_0x47d15c[_0x5e0b5d(0xdde)]&&_0x47d15c[_0x5e0b5d(0xdde)](_0x5e0b5d(0x941)))return;if(_0x47d15c['innerText']!==undefined)_0x47d15c[_0x5e0b5d(0xb44)]=_0x3bda84;else _0x47d15c['textContent']=_0x3bda84;},_0x10e30f=_0xc0e20d=>_0xc0e20d['replace'](/\u00A0/g,'\x20')[_0x182f3d(0x460)](/\u200B/g,'')[_0x182f3d(0x460)](/\r\n?/g,'\x0a'),_0x2a1c6e=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5566f0=_0x100767=>{const _0x1b59bf=_0x182f3d;let _0x12d0e7=_0x100767[_0x1b59bf(0x28f)]();_0x12d0e7=_0x12d0e7['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x12d0e7=_0x12d0e7[_0x1b59bf(0x460)](/\bfrac(\d)(\d)/g,_0x1b59bf(0xc14));const _0xef3c86=['frac',_0x1b59bf(0x4a0),'times',_0x1b59bf(0xcb1),_0x1b59bf(0x614),_0x1b59bf(0x74f),_0x1b59bf(0xa3d),_0x1b59bf(0x99a),'pm',_0x1b59bf(0x494),_0x1b59bf(0xd28),_0x1b59bf(0xb1d),_0x1b59bf(0x418),'ln'];_0xef3c86['forEach'](_0x268988=>{const _0x79a9c5=_0x1b59bf;_0x12d0e7=_0x12d0e7[_0x79a9c5(0x460)](new RegExp(_0x79a9c5(0x5e9)+_0x268988+'\x5cb','g'),(_0x462ba3,_0x2e57c0)=>_0x2e57c0+'\x5c'+_0x268988);});const _0x17936a=[[/×/g,_0x1b59bf(0x236)],[/·/g,_0x1b59bf(0xd08)],[/÷/g,_0x1b59bf(0x721)],[/≤/g,_0x1b59bf(0x4f3)],[/≥/g,_0x1b59bf(0xbc2)],[/≠/g,_0x1b59bf(0x67f)],[/±/g,_0x1b59bf(0x9fb)]];return _0x17936a[_0x1b59bf(0xc4c)](([_0x4367ce,_0x27f074])=>{const _0x17c04a=_0x1b59bf;_0x12d0e7=_0x12d0e7[_0x17c04a(0x460)](_0x4367ce,_0x27f074);}),_0x12d0e7;},_0x251597=_0x446f47=>{const _0x3d6007=_0x182f3d;if(/\$|\\\(|\\\[/['test'](_0x446f47))return _0x446f47;if(!_0x2a1c6e[_0x3d6007(0x931)](_0x446f47))return _0x446f47;const _0x5be0dd=_0x446f47[_0x3d6007(0x423)](/^\s*/)[0x0],_0x42b5bb=_0x446f47[_0x3d6007(0x423)](/\s*$/)[0x0],_0x3a0969=_0x446f47[_0x3d6007(0x28f)]();return _0x5be0dd+'$'+_0x5566f0(_0x3a0969)+'$'+_0x42b5bb;};_0x33aee1[_0x182f3d(0xc4c)](_0x556a0b=>{const _0x597c54=_0x182f3d,_0x5a2e53=_0x47db1f(_0x556a0b);let _0x4363d3=_0x10e30f(_0x5a2e53);_0x4363d3=_0x4363d3[_0x597c54(0x460)](/\$([^$]*?)\$/g,(_0x180f83,_0x2c8394)=>'$'+_0x5566f0(_0x2c8394)+'$');const _0x306978=_0x4363d3[_0x597c54(0x62a)](/(\s+)/),_0x5165c0=_0x306978['map'](_0x36ec65=>/\s+/[_0x597c54(0x931)](_0x36ec65)?_0x36ec65:_0x251597(_0x36ec65));_0x4363d3=_0x5165c0[_0x597c54(0x909)](''),_0x4363d3!==_0x5a2e53&&(_0x2250fe(_0x556a0b,_0x4363d3),_0x3e3ff6++);});if(_0x3e3ff6>0x0){showMessage(_0x182f3d(0x384)+_0x3e3ff6+_0x182f3d(0xe74));try{if(window[_0x182f3d(0x2ab)]&&MathJax[_0x182f3d(0xb85)])MathJax['typesetPromise']();}catch(_0x5a143c){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x26b2d5=_0x47050f,_0x27bc18=collection(db,_0x26b2d5(0x4cd)+appId+_0x26b2d5(0x7bf));onSnapshot(_0x27bc18,_0x203fb7=>{const _0x50325c=_0x26b2d5;customMathTopics=_0x203fb7[_0x50325c(0x26e)]['map'](_0x22840c=>({'id':_0x22840c['id'],..._0x22840c['data']()})),renderTopicCheckboxes();},_0xaf106c=>{console['error']('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0xaf106c);});}function handleSelectAllTopics(){const _0x43fda0=_0x47050f,_0x367198=document[_0x43fda0(0x70b)](_0x43fda0(0xc44)),_0x135ad9=_0x367198[_0x43fda0(0x8fc)](_0x43fda0(0x386));_0x135ad9[_0x43fda0(0xc4c)](_0xd1126e=>{_0xd1126e['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x1666ea=_0x47050f,_0x29f33e=document[_0x1666ea(0x70b)]('math-topics-checkbox-container'),_0x53c964=_0x29f33e['querySelectorAll'](_0x1666ea(0x386));_0x53c964[_0x1666ea(0xc4c)](_0x54132a=>{_0x54132a['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x385bc1){const _0x375579=_0x47050f;if(!_0x385bc1)return;try{const _0x3f0ce8=doc(db,'artifacts/'+appId+_0x375579(0x7bf),_0x385bc1);await deleteDoc(_0x3f0ce8),showMessage(_0x375579(0x788));}catch(_0x2815af){console[_0x375579(0x8c2)]('Error\x20deleting\x20custom\x20topic:',_0x2815af),showMessage(_0x375579(0xe94));}}async function handleAddCustomMathTopic(){const _0x5da3a1=_0x47050f,_0x5700ed=document[_0x5da3a1(0x70b)](_0x5da3a1(0xb10)),_0x5acd9c=_0x5700ed['value']['trim']();if(!_0x5acd9c){showMessage(_0x5da3a1(0xc68));return;}if(!userId){showMessage(_0x5da3a1(0x548));return;}try{const _0x8917c=collection(db,'artifacts/'+appId+_0x5da3a1(0x7bf));await addDoc(_0x8917c,{'name':_0x5acd9c,'createdAt':serverTimestamp()}),_0x5700ed[_0x5da3a1(0xd95)]='',showMessage(_0x5da3a1(0x979)+_0x5acd9c+_0x5da3a1(0x7e8));}catch(_0xd318a6){console[_0x5da3a1(0x8c2)](_0x5da3a1(0x25f),_0xd318a6),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x1f29c1=_0x47050f;showConfirmation(_0x1f29c1(0xcb0),async()=>{const _0x4caf92=_0x1f29c1,_0x47e903=document[_0x4caf92(0x70b)](_0x4caf92(0xd92)),_0xb1fccf=document[_0x4caf92(0x70b)](_0x4caf92(0xa35)),_0x25db33=_0xb1fccf[_0x4caf92(0xc66)];_0x47e903['classList'][_0x4caf92(0x7a8)](_0x4caf92(0xbce)),_0xb1fccf['textContent']=_0x4caf92(0x3ca);try{const _0x57a6c8=collection(db,'artifacts/'+appId+_0x4caf92(0x4fc)),_0x4799c1=await getDocs(_0x57a6c8);if(_0x4799c1[_0x4caf92(0xd46)]){showMessage(_0x4caf92(0x373));return;}const _0x2c5577=writeBatch(db);let _0x33a420=0x0;_0x4799c1['forEach'](_0x16b173=>{const _0x4e084c=_0x4caf92,_0x4ee786=_0x16b173[_0x4e084c(0x54c)](),_0x579e2d=_0x16b173['id'];if(_0x4ee786[_0x4e084c(0xbd5)]&&_0x4ee786[_0x4e084c(0xbd5)][_0x4e084c(0xdf3)]>0x0&&!_0x4ee786['questions'][0x0][_0x4e084c(0x76a)]('id')){console[_0x4e084c(0x418)](_0x4e084c(0xe62)+_0x579e2d+'\x20('+_0x4ee786[_0x4e084c(0x6d2)]+')'),_0x33a420++;const _0x2e3014=_0x4ee786[_0x4e084c(0xbd5)][_0x4e084c(0x3cc)]((_0x57b0a1,_0x4ceaf3)=>{const _0x3dc26c=_0x4e084c;return{..._0x57b0a1,'id':_0x57b0a1['id']||'q_'+Date[_0x3dc26c(0xc48)]()+'_'+_0x579e2d+'_'+_0x4ceaf3};}),_0x1fcca4=doc(db,_0x4e084c(0x4cd)+appId+'/public/data/quizzes',_0x579e2d);_0x2c5577[_0x4e084c(0xc8e)](_0x1fcca4,{'questions':_0x2e3014});}}),_0x33a420>0x0?(_0xb1fccf[_0x4caf92(0xc66)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x33a420+'\x20รายการ...',await _0x2c5577['commit'](),showMessage(_0x4caf92(0x774)+_0x33a420+_0x4caf92(0xe77))):showMessage(_0x4caf92(0x945));}catch(_0x4e98bd){console['error'](_0x4caf92(0xcfd),_0x4e98bd),showMessage(_0x4caf92(0xcf8)+_0x4e98bd['message']);}finally{_0x47e903[_0x4caf92(0x9cc)][_0x4caf92(0x505)](_0x4caf92(0xbce)),_0xb1fccf[_0x4caf92(0xc66)]=_0x25db33;}});}async function handleBulkUpdateQuizSettings(){const _0xf589df=_0x47050f,_0x256fbe={'shuffle':document[_0xf589df(0x70b)]('bulk-shuffle-select')[_0xf589df(0xd95)],'resultsDisplay':document[_0xf589df(0x70b)]('bulk-results-display-select')[_0xf589df(0xd95)],'loopUntilPass':document[_0xf589df(0x70b)](_0xf589df(0x8ec))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0xf589df(0xb81))[_0xf589df(0xceb)],'confidenceMode':document[_0xf589df(0x70b)](_0xf589df(0xbf9))[_0xf589df(0xd95)]};try{showMessage(_0xf589df(0x940));const _0x1e1f64=await getDocs(collection(db,_0xf589df(0x4cd)+appId+_0xf589df(0x4fc))),_0xaafd32=_0x1e1f64['docs']['map'](_0x29a27c=>({'id':_0x29a27c['id'],'data':_0x29a27c[_0xf589df(0x54c)]()})),_0xf3f05=_0xaafd32[_0xf589df(0xdf3)];showConfirmation(_0xf589df(0x1fa)+_0xf3f05+_0xf589df(0x237),async()=>{const _0x1f49dd=_0xf589df,_0x5c9ab2=document['getElementById'](_0x1f49dd(0x7c4));_0x5c9ab2['disabled']=!![],_0x5c9ab2[_0x1f49dd(0xb90)]=_0x1f49dd(0x3b4);try{const _0x35a1c6=writeBatch(db);_0xaafd32['forEach'](_0x59f464=>{const _0xd575ea=_0x1f49dd,_0x556a03=doc(db,'artifacts/'+appId+_0xd575ea(0x4fc),_0x59f464['id']),_0x5c76e0={..._0x59f464['data'][_0xd575ea(0x54d)]||{},..._0x256fbe};_0x35a1c6['update'](_0x556a03,{'settings':_0x5c76e0});}),await _0x35a1c6['commit'](),document[_0x1f49dd(0x70b)](_0x1f49dd(0xc05))[_0x1f49dd(0x9cc)][_0x1f49dd(0x505)](_0x1f49dd(0xbce)),showMessage(_0x1f49dd(0x7df)+_0xf3f05+_0x1f49dd(0x1a7));}catch(_0x59e775){console[_0x1f49dd(0x8c2)](_0x1f49dd(0xacb),_0x59e775),showMessage(_0x1f49dd(0x95d));}finally{_0x5c9ab2[_0x1f49dd(0x9b6)]=![],_0x5c9ab2[_0x1f49dd(0xb90)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x7cf20c){console[_0xf589df(0x8c2)](_0xf589df(0x2f1),_0x7cf20c),showMessage(_0xf589df(0x53e));}}async function handleSaveProjectName(){const _0x2f45a5=_0x47050f,_0x9288b7=document[_0x2f45a5(0x70b)](_0x2f45a5(0xd91)),_0x14e38e=document[_0x2f45a5(0x70b)](_0x2f45a5(0x197)),_0x43e042=_0x9288b7[_0x2f45a5(0xc66)][_0x2f45a5(0x28f)]();if(!_0x43e042||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x9288b7['textContent']=currentProjectData[_0x2f45a5(0x73e)];return;}_0x14e38e[_0x2f45a5(0x9b6)]=!![],_0x14e38e[_0x2f45a5(0xb90)]=_0x2f45a5(0x3e4);try{const _0x2528c1=doc(db,_0x2f45a5(0x4cd)+appId+_0x2f45a5(0x28e),currentProjectId);await updateDoc(_0x2528c1,{'projectName':_0x43e042}),currentProjectData&&(currentProjectData[_0x2f45a5(0x73e)]=_0x43e042),showMessage(_0x2f45a5(0x9a7));}catch(_0x4be929){console[_0x2f45a5(0x8c2)](_0x2f45a5(0xcb9),_0x4be929),showMessage(_0x2f45a5(0x507)),_0x9288b7[_0x2f45a5(0xc66)]=currentProjectData[_0x2f45a5(0x73e)];}finally{_0x14e38e['classList'][_0x2f45a5(0x505)]('hidden'),_0x14e38e[_0x2f45a5(0x9b6)]=![],_0x14e38e[_0x2f45a5(0xb90)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0xbec9ad,_0x39eafa){const _0x125112=_0x47050f,_0x39b94a=document[_0x125112(0x70b)]('lesson-view-modal'),_0x210531=document[_0x125112(0x70b)](_0x125112(0x218)),_0x3c7345=document[_0x125112(0x70b)](_0x125112(0xb91)),_0xf40ad7=document[_0x125112(0x70b)]('lesson-sections-container');_0x210531[_0x125112(0xc66)]='กำลังสร้างแบบทดสอบ:\x20'+_0xbec9ad,_0xf40ad7['classList'][_0x125112(0x505)]('hidden'),_0x3c7345['classList']['remove'](_0x125112(0xbce)),_0x39b94a[_0x125112(0x9cc)][_0x125112(0x7a8)](_0x125112(0xbce)),generatePracticeTest(_0xbec9ad,_0x39eafa)[_0x125112(0x570)](_0x8758a7=>{const _0x511d50=_0x125112;console[_0x511d50(0x8c2)](_0x511d50(0x4da),_0x8758a7),showMessage(_0x511d50(0x39e)),_0x39b94a[_0x511d50(0x9cc)][_0x511d50(0x505)]('hidden');});}async function generatePracticeTest(_0x270412,_0x57ead5){const _0x435745=_0x47050f;[_0x435745(0x1b1),_0x435745(0x405),_0x435745(0xa1f),_0x435745(0x217)][_0x435745(0xc4c)](_0x5ba1ad=>{const _0x356e77=_0x435745,_0x32257b=document[_0x356e77(0x70b)](_0x5ba1ad)[_0x356e77(0xc24)];_0x32257b&&(_0x32257b[_0x356e77(0x8aa)][_0x356e77(0x6cf)]=_0x356e77(0x9b8));});try{const _0x457424=_0x435745(0x85b),_0xd12085=_0x435745(0xb36)+_0x57ead5+_0x435745(0x7c0)+_0x270412+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x1b12cf=await callGemini(_0xd12085,!![]),_0xcb105d=document[_0x435745(0x70b)]('lesson-view-title'),_0x95b175=document[_0x435745(0x70b)](_0x435745(0xb91)),_0x3d5506=document[_0x435745(0x70b)]('lesson-sections-container'),_0x350d53=document['getElementById'](_0x435745(0xa1f))[_0x435745(0xc24)];_0xcb105d['innerText']=_0x435745(0xaf1)+_0x270412['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x57ead5+')',currentApplicationData=JSON['parse'](_0x1b12cf);const _0x48a019=document[_0x435745(0x70b)]('applicationContent');_0x48a019[_0x435745(0xb90)]=currentApplicationData['map']((_0x121667,_0x2684b4)=>_0x435745(0xce0)+(_0x2684b4+0x1)+'.\x20'+marked['parseInline'](_0x121667[_0x435745(0x9ea)])+_0x435745(0x17e)+_0x2684b4+_0x435745(0xa44)+_0x121667[_0x435745(0x9d8)][_0x435745(0x3cc)]((_0x1fc272,_0x4f993f)=>_0x435745(0x21b)+_0x2684b4+',\x20'+_0x4f993f+_0x435745(0x2d5)+String[_0x435745(0x616)](0x61+_0x4f993f)+'.\x20'+marked[_0x435745(0x8f1)](_0x1fc272)+_0x435745(0xb68))[_0x435745(0x909)]('')+_0x435745(0xd90))[_0x435745(0x909)](''),window[_0x435745(0x2ab)]&&MathJax['typesetPromise']([_0x48a019]),_0x350d53&&(_0x350d53[_0x435745(0x8aa)][_0x435745(0x6cf)]=_0x435745(0x30f)),_0x95b175[_0x435745(0x9cc)][_0x435745(0x505)](_0x435745(0xbce)),_0x3d5506['classList']['remove'](_0x435745(0xbce));}catch(_0x5af0d0){console['error'](_0x5af0d0);throw _0x5af0d0;}}async function callGemini(_0xf02108,_0x4083d1=![]){const _0x5ca83b=_0x47050f,_0x434e8e=_0x5ca83b(0x422),_0x18316d=_0x5ca83b(0xc29)+_0x434e8e,_0x3b71c9={'contents':[{'parts':[{'text':_0xf02108}]}]};_0x4083d1&&(_0x3b71c9[_0x5ca83b(0x5f1)]={'responseMimeType':_0x5ca83b(0x963)},_0xf02108[_0x5ca83b(0x7f1)]('Test\x20Blueprint')?_0x3b71c9[_0x5ca83b(0x5f1)]['responseSchema']={'type':_0x5ca83b(0xa5d),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x5ca83b(0x755),'items':{'type':_0x5ca83b(0xa5d),'properties':{'sara':{'type':_0x5ca83b(0xd52)},'mainTopics':{'type':_0x5ca83b(0x755),'items':{'type':_0x5ca83b(0xa5d),'properties':{'topicName':{'type':_0x5ca83b(0xd52)},'subTopics':{'type':_0x5ca83b(0x755),'items':{'type':_0x5ca83b(0xd52)}}},'required':[_0x5ca83b(0x528),_0x5ca83b(0x750)]}}},'required':[_0x5ca83b(0xc78),_0x5ca83b(0xa2c)]}}},'required':[_0x5ca83b(0xc3b),_0x5ca83b(0x27a)]}:_0x3b71c9[_0x5ca83b(0x5f1)][_0x5ca83b(0x1b4)]={'type':_0x5ca83b(0x755),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x5ca83b(0x755),'items':{'type':_0x5ca83b(0xd52)}},'answer':{'type':'NUMBER'}},'required':[_0x5ca83b(0x9ea),_0x5ca83b(0x9d8),_0x5ca83b(0xc5d)]}});try{const _0x31f8c0=await fetch(_0x18316d,{'method':_0x5ca83b(0xe93),'headers':{'Content-Type':_0x5ca83b(0x963)},'body':JSON[_0x5ca83b(0xcfa)](_0x3b71c9)});if(!_0x31f8c0['ok']){const _0x282c20=await _0x31f8c0['text']();console[_0x5ca83b(0x8c2)](_0x5ca83b(0x478),_0x282c20);throw new Error(_0x5ca83b(0xab5)+_0x31f8c0['status']);}const _0x569d4c=await _0x31f8c0[_0x5ca83b(0xa0b)]();if(_0x569d4c[_0x5ca83b(0xc9f)]&&_0x569d4c[_0x5ca83b(0xc9f)][0x0][_0x5ca83b(0xe6d)]&&_0x569d4c['candidates'][0x0][_0x5ca83b(0xe6d)][_0x5ca83b(0xe83)][0x0])return _0x569d4c['candidates'][0x0][_0x5ca83b(0xe6d)][_0x5ca83b(0xe83)][0x0][_0x5ca83b(0x7fd)];else{console['error']('Unexpected\x20API\x20response\x20structure:',_0x569d4c);if(_0x569d4c[_0x5ca83b(0xc9f)]&&_0x569d4c['candidates'][0x0][_0x5ca83b(0x37b)]==='SAFETY')return JSON[_0x5ca83b(0xcfa)]({'error':_0x5ca83b(0x692)});throw new Error(_0x5ca83b(0xe02));}}catch(_0x50a603){console[_0x5ca83b(0x8c2)]('Error\x20calling\x20Gemini\x20API:',_0x50a603);throw _0x50a603;}}async function generateLesson(_0x378d26=null,_0x413ace=null){const _0xad907b=_0x47050f,_0x14734c=_0x378d26,_0x103222=_0x413ace||_0xad907b(0x51b),_0x3f085=document[_0xad907b(0x70b)](_0xad907b(0xb91)),_0x1aec45=document[_0xad907b(0x70b)]('lesson-loader-text');_0x1aec45[_0xad907b(0xc66)]=_0xad907b(0x6f0)+_0x14734c+_0xad907b(0xd8f);try{let _0x1d6373=[];const _0x4282bc=document['getElementById'](_0xad907b(0x8d0))?.['value'][_0xad907b(0x28f)]();if(_0x4282bc)try{_0x1aec45['textContent']=_0xad907b(0xa77);const _0x8a66fc=await fetchFileFromUrl(_0x4282bc,_0xad907b(0xaba)),_0x2e3851=await new Promise((_0xaa88fe,_0x3935b0)=>{const _0xa8f0d1=_0xad907b,_0x4f6fb7=new FileReader();_0x4f6fb7[_0xa8f0d1(0xa9e)](_0x8a66fc),_0x4f6fb7[_0xa8f0d1(0xabc)]=()=>_0xaa88fe(_0x4f6fb7['result']['split'](',')[0x1]),_0x4f6fb7['onerror']=_0x3935b0;});_0x1d6373[_0xad907b(0x49c)]({'inlineData':{'mimeType':_0x8a66fc[_0xad907b(0x8a9)],'data':_0x2e3851}});}catch(_0x26a633){console[_0xad907b(0x8c2)](_0xad907b(0x4a4),_0x26a633),showMessage(_0xad907b(0xd57));}const _0x59cf6a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x14734c+_0xad907b(0xb35)+_0x14734c+_0xad907b(0x992);_0x1aec45[_0xad907b(0xc66)]=_0xad907b(0x6f0)+_0x14734c+'\x22...';const _0x117365='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x103222+'\x27\x20ในหัวข้อ\x20\x27'+_0x14734c+_0xad907b(0x81a)+_0x59cf6a+_0xad907b(0x68c),_0x2095a1=_0xad907b(0x9ba)+_0x14734c+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x103222+_0xad907b(0x917)+_0x59cf6a+_0xad907b(0x513),_0xb72b0b=_0xad907b(0xb36)+_0x103222+'\x27\x20ในหัวข้อ\x20\x27'+_0x14734c+_0xad907b(0xc69)+_0x59cf6a+_0xad907b(0x615),_0x1a08ba=_0xad907b(0x7cd)+_0x14734c+_0xad907b(0x43c)+_0x103222+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x59cf6a+_0xad907b(0x745),_0x4c8d1d={'type':'ARRAY','items':{'type':_0xad907b(0xa5d),'properties':{'question':{'type':_0xad907b(0xd52)},'options':{'type':_0xad907b(0x755),'items':{'type':_0xad907b(0xd52)}},'answer':{'type':_0xad907b(0xca0)}},'required':['question',_0xad907b(0x9d8),'answer']}},[_0x2d7b02,_0x2eca5e,_0x4d4f11,_0x5bab15]=await Promise[_0xad907b(0xb3f)]([handleApiCall([{'text':_0x117365},..._0x1d6373],_0xad907b(0xa34),null,null,![]),handleApiCall([{'text':_0x2095a1},..._0x1d6373],'...',null,null,![]),handleApiCall([{'text':_0xb72b0b},..._0x1d6373],'...',_0x4c8d1d,null,![]),handleApiCall([{'text':_0x1a08ba},..._0x1d6373],'...',null,null,![])]),_0x504642=JSON[_0xad907b(0xcfa)](_0x4d4f11||[]),_0x5d2e49=document[_0xad907b(0x70b)]('lesson-view-title'),_0x245221=document[_0xad907b(0x70b)](_0xad907b(0x639));_0x5d2e49['innerText']='บทเรียนเรื่อง:\x20'+_0x14734c[_0xad907b(0x460)](/•\\s/g,'')+_0xad907b(0x5ed)+_0x103222+')',[_0xad907b(0x1b1),_0xad907b(0x405),_0xad907b(0x217)][_0xad907b(0xc4c)](_0x558241=>{const _0x2574b8=_0xad907b;document['getElementById'](_0x558241)[_0x2574b8(0xb90)]='';}),document['getElementById'](_0xad907b(0x1b1))[_0xad907b(0xb90)]=_0x2d7b02?marked[_0xad907b(0xcd4)](_0x2d7b02):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0xad907b(0x70b)](_0xad907b(0x405))[_0xad907b(0xb90)]=_0x2eca5e?marked[_0xad907b(0xcd4)](_0x2eca5e):_0xad907b(0x7f6),document['getElementById'](_0xad907b(0x217))[_0xad907b(0xb90)]=_0x5bab15?marked['parse'](_0x5bab15):_0xad907b(0x7f6),currentApplicationData=JSON[_0xad907b(0xcd4)](_0x504642);const _0x2bbb31=document['getElementById'](_0xad907b(0xa1f));_0x2bbb31[_0xad907b(0xb90)]=(currentApplicationData||[])[_0xad907b(0x3cc)]((_0x604249,_0x361d01)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x361d01+0x1)+'.\x20'+marked['parseInline'](_0x604249[_0xad907b(0x9ea)]||'')+_0xad907b(0x17e)+_0x361d01+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x604249['options']||[])[_0xad907b(0x3cc)]((_0x3bbc4e,_0x1c9169)=>_0xad907b(0x21b)+_0x361d01+',\x20'+_0x1c9169+_0xad907b(0x2d5)+String[_0xad907b(0x616)](0x61+_0x1c9169)+'.\x20'+marked[_0xad907b(0x8f1)](_0x3bbc4e||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xad907b(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')||_0xad907b(0xa14),window['MathJax']&&MathJax['typesetPromise']([_0x245221]),_0x3f085[_0xad907b(0x9cc)][_0xad907b(0x505)](_0xad907b(0xbce)),_0x245221[_0xad907b(0x9cc)]['remove'](_0xad907b(0xbce));}catch(_0x342f45){console[_0xad907b(0x8c2)](_0x342f45);throw _0x342f45;}}function checkAnswer(_0x51e10f,_0x4bc633){const _0x170f29=_0x47050f,_0x28d5d6=currentApplicationData[_0x51e10f],_0x501df=document[_0x170f29(0x70b)]('q'+_0x51e10f+'-options'),_0x4fd334=_0x501df['getElementsByTagName'](_0x170f29(0xbdc));for(let _0xba17b5 of _0x4fd334){_0xba17b5[_0x170f29(0x9b6)]=!![];}_0x4bc633===_0x28d5d6[_0x170f29(0xc5d)]?_0x4fd334[_0x4bc633][_0x170f29(0x9cc)][_0x170f29(0x505)](_0x170f29(0x882)):(_0x4fd334[_0x4bc633][_0x170f29(0x9cc)][_0x170f29(0x505)](_0x170f29(0xe18)),_0x4fd334[_0x28d5d6[_0x170f29(0xc5d)]][_0x170f29(0x9cc)][_0x170f29(0x505)](_0x170f29(0x882)));}window[_0x47050f(0x272)]=handleGenerateAndShowLesson,window[_0x47050f(0xc27)]=checkAnswer,window[_0x47050f(0x781)]=handleGeneratePracticeTest,window[_0x47050f(0x845)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x3a4147=_0x47050f;try{const _0x6fd5a2=initializeApp(firebaseConfig);db=getFirestore(_0x6fd5a2),auth=getAuth(_0x6fd5a2),setupAuthListener(),setupEventListeners(),showView(_0x3a4147(0x2d1)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x1b65b9){console[_0x3a4147(0x8c2)](_0x3a4147(0x19e),_0x1b65b9),showMessage(_0x3a4147(0x3c3));}}async function handleVerifyAnswersInEditor(){const _0x55fd58=_0x47050f,_0x1a430d=document[_0x55fd58(0x70b)](_0x55fd58(0x485));if(!_0x1a430d)return;const _0x46166e=document[_0x55fd58(0x70b)](_0x55fd58(0x849));_0x46166e[_0x55fd58(0x9b6)]=!![],_0x46166e[_0x55fd58(0xb90)]=_0x55fd58(0x4ab);try{const _0x297b04=_0x1a430d[_0x55fd58(0x8fc)](_0x55fd58(0xb5d)),_0x38f556=Array[_0x55fd58(0x2d0)](_0x297b04)['map']((_0x17db61,_0x4cb616)=>{const _0x2e64bf=_0x55fd58,_0x577f63=_0x17db61[_0x2e64bf(0x71a)][_0x2e64bf(0x954)],_0x2b4e39=_0x17db61[_0x2e64bf(0xdde)](_0x2e64bf(0xe54))[_0x2e64bf(0xd95)];let _0x1176e4=null,_0x58c3bf='';switch(_0x577f63){case _0x2e64bf(0x99e):const _0x4ea5ab=_0x17db61['querySelectorAll'](_0x2e64bf(0x998));_0x1176e4=Array[_0x2e64bf(0x2d0)](_0x4ea5ab)[_0x2e64bf(0x3cc)](_0xc05d87=>_0xc05d87[_0x2e64bf(0xd95)]);const _0x4fa14b=_0x17db61['querySelector']('input[type=\x22radio\x22]:checked');_0x4fa14b&&(_0x58c3bf=_0x1176e4[parseInt(_0x4fa14b[_0x2e64bf(0xd95)])]);break;case _0x2e64bf(0x76f):_0x1176e4=[],_0x58c3bf=_0x17db61[_0x2e64bf(0xdde)]('.ideal-answer-input')[_0x2e64bf(0xd95)];break;case _0x2e64bf(0x92d):_0x1176e4=[_0x2e64bf(0xadf),_0x2e64bf(0x50a)];const _0x480cbd=_0x17db61['querySelector'](_0x2e64bf(0x56e));_0x58c3bf=_0x480cbd?_0x480cbd[_0x2e64bf(0xd95)]:'';break;case _0x2e64bf(0x6b7):_0x1176e4=[],_0x58c3bf=_0x17db61[_0x2e64bf(0xdde)](_0x2e64bf(0x8c9))['value'];break;}return{'question':_0x2b4e39,'options':_0x1176e4,'proposedAnswer':_0x58c3bf};}),_0x259cc6=_0x55fd58(0xb7f)+JSON['stringify'](_0x38f556)+_0x55fd58(0x448),_0x5ed1a3={'type':_0x55fd58(0x755),'items':{'type':_0x55fd58(0xa5d),'properties':{'questionIndex':{'type':_0x55fd58(0xca0)},'isCorrect':{'type':_0x55fd58(0x4a1)},'justification':{'type':_0x55fd58(0xd52)},'correctOptionExists':{'type':_0x55fd58(0x4a1)},'suggestedAnswer':{'type':_0x55fd58(0xd52)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x55fd58(0x755),'items':{'type':_0x55fd58(0xd52)}},'newCorrectIndex':{'type':_0x55fd58(0xca0)}}}},'required':[_0x55fd58(0x33c),_0x55fd58(0x985),_0x55fd58(0x1a4)]}},_0x168e2b=await callAnalysisApi(_0x259cc6,{'type':_0x55fd58(0xa5d),'properties':{'result':_0x5ed1a3},'required':[_0x55fd58(0xd76)]});displayVerificationResultsInEditor(_0x168e2b[_0x55fd58(0xd76)]);}catch(_0xe4933d){console[_0x55fd58(0x8c2)](_0x55fd58(0xab2),_0xe4933d),showMessage(_0x55fd58(0xb75));}finally{_0x46166e['disabled']=![],_0x46166e[_0x55fd58(0xb90)]=_0x55fd58(0xe13);}}function displayVerificationResultsInEditor(_0x229ae3){const _0x29b3f5=_0x47050f;_0x229ae3[_0x29b3f5(0xc4c)](_0x308e7d=>{const _0x2e9ad7=_0x29b3f5,_0x3b11e0=document[_0x2e9ad7(0xdde)](_0x2e9ad7(0x6d6)+_0x308e7d['questionIndex']+'\x22]');if(!_0x3b11e0)return;const _0x1020cc=_0x3b11e0[_0x2e9ad7(0xdde)]('.verification-result-editor');if(_0x1020cc)_0x1020cc['remove']();let _0x1cc0cc='';if(_0x308e7d[_0x2e9ad7(0x58c)]&&_0x308e7d[_0x2e9ad7(0x58c)][_0x2e9ad7(0xa21)]){const _0x5b061a=_0x308e7d['newOptionsPayload'][_0x2e9ad7(0xa21)],_0x13cc12=_0x308e7d['newOptionsPayload'][_0x2e9ad7(0x5bc)],_0x2f66d0=_0x3b11e0['dataset'][_0x2e9ad7(0x954)];if(_0x2f66d0===_0x2e9ad7(0x99e)){const _0x3a6fce=_0x3b11e0[_0x2e9ad7(0x8fc)](_0x2e9ad7(0x998));_0x3a6fce[_0x2e9ad7(0xc4c)]((_0xbb628d,_0x138bb5)=>{const _0x39251d=_0x2e9ad7;_0x5b061a[_0x138bb5]?_0xbb628d['value']=_0x5b061a[_0x138bb5]:_0xbb628d[_0x39251d(0xd95)]=_0x39251d(0xce7);});const _0x302a85=_0x3b11e0['querySelector'](_0x2e9ad7(0x24c)+_0x13cc12+'\x22]');_0x302a85&&(_0x302a85[_0x2e9ad7(0xceb)]=!![]),_0x1cc0cc=_0x2e9ad7(0x7d6),_0x3b11e0[_0x2e9ad7(0x9cc)][_0x2e9ad7(0x505)](_0x2e9ad7(0xa7c),'transition-all',_0x2e9ad7(0x9e8)),setTimeout(()=>{const _0x40c994=_0x2e9ad7;_0x3b11e0[_0x40c994(0x9cc)]['remove'](_0x40c994(0xa7c));},0x9c4);}}else{if(!_0x308e7d['isCorrect']&&_0x308e7d['suggestedAnswer']){const _0x5d58e0=_0x308e7d[_0x2e9ad7(0x5e3)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x1cc0cc=_0x2e9ad7(0xd21)+_0x5d58e0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x308e7d['justification']+_0x2e9ad7(0x7e9)+(_0x308e7d[_0x2e9ad7(0x5e3)]?_0x2e9ad7(0xce3)+_0x308e7d[_0x2e9ad7(0x5e3)]+_0x2e9ad7(0xb29):'')+_0x2e9ad7(0xd50);const _0x1b7be4=_0x3b11e0[_0x2e9ad7(0x71a)][_0x2e9ad7(0x954)],_0x2fa4a2=_0x1fe5a4=>{const _0xff2d69=_0x2e9ad7;if(!_0x1fe5a4)return;_0x1fe5a4['classList'][_0xff2d69(0x505)]('bg-green-200',_0xff2d69(0x1d6),'duration-300'),setTimeout(()=>{const _0x551e32=_0xff2d69;_0x1fe5a4[_0x551e32(0x9cc)][_0x551e32(0x7a8)](_0x551e32(0xb06));},0x9c4);};if(_0x1b7be4===_0x2e9ad7(0x99e)){const _0x86b4f2=Array['from'](_0x3b11e0[_0x2e9ad7(0x8fc)](_0x2e9ad7(0x998))),_0x40c0e7=_0x86b4f2['findIndex'](_0x523678=>_0x523678[_0x2e9ad7(0xd95)]['trim']()[_0x2e9ad7(0xcab)]()===_0x308e7d[_0x2e9ad7(0x5e3)]['trim']()[_0x2e9ad7(0xcab)]());if(_0x40c0e7!==-0x1){const _0xb0b14c=_0x3b11e0[_0x2e9ad7(0xdde)]('input[type=\x22radio\x22][value=\x22'+_0x40c0e7+'\x22]');_0xb0b14c&&(_0xb0b14c[_0x2e9ad7(0xceb)]=!![],_0x2fa4a2(_0xb0b14c['closest'](_0x2e9ad7(0x614))));}}else{if(_0x1b7be4==='short_answer'||_0x1b7be4===_0x2e9ad7(0x6b7)){const _0x18c564=_0x3b11e0[_0x2e9ad7(0xdde)](_0x2e9ad7(0x45f));_0x18c564&&(_0x18c564[_0x2e9ad7(0xd95)]=_0x308e7d[_0x2e9ad7(0x5e3)],_0x2fa4a2(_0x18c564));}else{if(_0x1b7be4===_0x2e9ad7(0x92d)){const _0x3ba93c=_0x308e7d[_0x2e9ad7(0x5e3)][_0x2e9ad7(0x28f)]()['toLowerCase'](),_0x53611e=_0x3b11e0[_0x2e9ad7(0xdde)](_0x2e9ad7(0x24c)+_0x3ba93c+'\x22]');_0x53611e&&(_0x53611e[_0x2e9ad7(0xceb)]=!![],_0x2fa4a2(_0x53611e[_0x2e9ad7(0x252)](_0x2e9ad7(0x614))));}}}}else _0x308e7d['isCorrect']&&(_0x1cc0cc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x3b11e0['insertAdjacentHTML'](_0x2e9ad7(0xb37),_0x1cc0cc);}),showMessage(_0x29b3f5(0xdd1));}async function handleVerifyAnswers(){const _0x59cb0b=_0x47050f;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x59cb0b(0x637));return;}const _0x23e723=document[_0x59cb0b(0x70b)](_0x59cb0b(0x5d1));_0x23e723[_0x59cb0b(0x9b6)]=!![],_0x23e723['innerHTML']=_0x59cb0b(0x4ab);try{const _0x41de37=currentQuizData[_0x59cb0b(0xbd5)][_0x59cb0b(0x3cc)]((_0x2c6869,_0x3d305c)=>{const _0x642521=_0x59cb0b;let _0x4eef27='';const _0x3245b6=_0x2c6869[_0x642521(0xa39)]||currentQuizData[_0x642521(0x190)];switch(_0x3245b6){case'multiple_choice':_0x4eef27=_0x2c6869['options'][_0x2c6869[_0x642521(0xcd9)]];break;case _0x642521(0x76f):_0x4eef27=_0x2c6869[_0x642521(0xa6c)];break;case _0x642521(0x92d):_0x4eef27=_0x2c6869[_0x642521(0x75d)][_0x642521(0xae1)]();break;case _0x642521(0x6b7):_0x4eef27=_0x2c6869[_0x642521(0xc74)];break;}return{'question':_0x2c6869[_0x642521(0x93d)]||_0x2c6869[_0x642521(0xc25)],'options':_0x2c6869[_0x642521(0x9d8)]||null,'proposedAnswer':_0x4eef27};}),_0x3a78af='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x59cb0b(0xcfa)](_0x41de37)+_0x59cb0b(0x5fe),_0x224e15={'type':_0x59cb0b(0x755),'items':{'type':_0x59cb0b(0xa5d),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x59cb0b(0xd52)},'suggestedAnswer':{'type':_0x59cb0b(0xd52)}},'required':['questionIndex','isCorrect',_0x59cb0b(0x1a4)]}},_0x3542a2=await callAnalysisApi(_0x3a78af,{'type':_0x59cb0b(0xa5d),'properties':{'result':_0x224e15},'required':[_0x59cb0b(0xd76)]});displayVerificationResults(_0x3542a2[_0x59cb0b(0xd76)]);}catch(_0x2dc8d2){console['error'](_0x59cb0b(0x22d),_0x2dc8d2),showMessage(_0x59cb0b(0xb75));}finally{_0x23e723[_0x59cb0b(0x9b6)]=![],_0x23e723[_0x59cb0b(0xb90)]=_0x59cb0b(0x18e);}}function displayVerificationResults(_0x5b879a){_0x5b879a['forEach'](_0x1ba007=>{const _0x52f46c=_0x3d0b,_0x25478b=document[_0x52f46c(0xdde)]('div[data-question-index=\x22'+_0x1ba007[_0x52f46c(0x33c)]+'\x22]');if(_0x25478b){const _0x5d69ed=_0x25478b['querySelector'](_0x52f46c(0x46b));if(_0x5d69ed)_0x5d69ed[_0x52f46c(0x7a8)]();let _0x538271='';_0x1ba007['isCorrect']?_0x538271=_0x52f46c(0x1ea):_0x538271=_0x52f46c(0x56a)+_0x1ba007['justification']+_0x52f46c(0xa18)+(_0x1ba007[_0x52f46c(0x5e3)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1ba007[_0x52f46c(0x5e3)]+_0x52f46c(0xb29):'')+_0x52f46c(0xda0),_0x25478b[_0x52f46c(0x49b)](_0x52f46c(0xb37),_0x538271);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x2ddc38,_0x1dce63){const _0x10278c=_0x47050f,_0xd1c297=String(_0x2ddc38)[_0x10278c(0x460)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x57a4ef=String(_0x1dce63)[_0x10278c(0x460)](',','.')[_0x10278c(0x460)](/[^\d.-]/g,'')['trim']();if(_0xd1c297===''||_0x57a4ef==='')return![];const _0x5442e7=parseFloat(_0xd1c297),_0x43ffe1=parseFloat(_0x57a4ef);if(isNaN(_0x5442e7)||isNaN(_0x43ffe1))return![];return Math['abs'](_0x5442e7-_0x43ffe1)<0.001;}function isPotentiallyNumeric(_0x5642ef){const _0x34d4e5=_0x47050f;if(typeof _0x5642ef!==_0x34d4e5(0xc7a)&&typeof _0x5642ef!=='number')return![];const _0x395f2b=String(_0x5642ef)[_0x34d4e5(0x460)](',','.')['trim']();return _0x395f2b!==''&&!isNaN(parseFloat(_0x395f2b))&&isFinite(_0x395f2b);}async function gradeShortAnswer(_0x3d6a7b,_0x44f127){const _0x53c15=_0x47050f,_0xf838b5=_0x44f127[_0x53c15(0xa6c)],_0x2e874d=String(_0x3d6a7b)[_0x53c15(0x460)](/\$/g,'')[_0x53c15(0x28f)](),_0x4a1ada=String(_0xf838b5)[_0x53c15(0x460)](/\$/g,'')[_0x53c15(0x28f)]();if(_0x2e874d[_0x53c15(0xcab)]()===_0x4a1ada['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x2e874d)&&isPotentiallyNumeric(_0x4a1ada)){if(compareNumericalAnswers(_0x2e874d,_0x4a1ada))return!![];}return console['log'](_0x53c15(0xa06)),await gradeShortAnswerWithAI(_0x3d6a7b,_0xf838b5);}async function revealAnswerForAdmin(_0x2f3474,_0x4c1de0){const _0x19b7ee=_0x47050f,_0x2b4e4d=doc(db,'artifacts/'+appId+_0x19b7ee(0x54b),currentLiveGameId);await updateDoc(_0x2b4e4d,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x1e35bf){const _0x48a495=_0x47050f,_0x33d79d=Object[_0x48a495(0xb0c)](_0x1e35bf[_0x48a495(0x2ae)]||{})[_0x48a495(0xc87)](_0x1063d4=>_0x1063d4[_0x48a495(0xbd3)]==='active');_0x33d79d[_0x48a495(0x846)]((_0x490411,_0x430485)=>_0x430485[_0x48a495(0x6e9)]-_0x490411[_0x48a495(0x6e9)]);const _0xdc84d6=_0x33d79d['slice'](0x0,0x5),_0x2eb96f=_0x48a495(0x9e9)+_0xdc84d6[_0x48a495(0x3cc)]((_0x2622a6,_0x35a0e4)=>_0x48a495(0x287)+(_0x35a0e4+0x1)+'.\x20'+(_0x2622a6[_0x48a495(0x312)]||Object[_0x48a495(0x5d7)](_0x1e35bf[_0x48a495(0x2ae)])['find'](_0x2623af=>_0x1e35bf[_0x48a495(0x2ae)][_0x2623af]===_0x2622a6))+_0x48a495(0x41e)+_0x2622a6[_0x48a495(0x6e9)]+_0x48a495(0x282))[_0x48a495(0x909)]('')+_0x48a495(0x8bc)+(_0x1e35bf[_0x48a495(0x77d)]+0x1===currentQuizData[_0x48a495(0xbd5)][_0x48a495(0xdf3)]?'สรุปผลสุดท้าย':_0x48a495(0xcd1))+_0x48a495(0x22b);liveGameView[_0x48a495(0xb90)]=_0x2eb96f,document['getElementById']('goto-next-question-btn')[_0x48a495(0x86d)](_0x48a495(0x9a8),async()=>{const _0x3a85cf=_0x48a495,_0x1a6648=doc(db,_0x3a85cf(0x4cd)+appId+'/public/data/liveGames',currentLiveGameId),_0x1899b4=_0x1e35bf[_0x3a85cf(0x77d)]+0x1;if(_0x1899b4<currentQuizData[_0x3a85cf(0xbd5)]['length']){const _0x4210fa={'currentQuestionIndex':_0x1899b4,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x3a85cf(0x2d9)};Object[_0x3a85cf(0x5d7)](_0x1e35bf['players'])['forEach'](_0x4f0b79=>{const _0x318aab=_0x3a85cf;_0x4210fa[_0x318aab(0xdc2)+_0x4f0b79+_0x318aab(0x34e)]=![];}),await updateDoc(_0x1a6648,_0x4210fa);}else await updateDoc(_0x1a6648,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x229cf5=>{const _0x225495=_0x3d0b;if(_0x229cf5){userId=_0x229cf5[_0x225495(0x280)],userIdDisplay['textContent']=userId;const _0x1f4975=await loadUserPreferences();_0x1f4975[_0x225495(0x9ee)]&&(document['getElementById'](_0x225495(0x870))[_0x225495(0xd95)]=_0x1f4975['projectSortOrder']);globalDashboardSettings[_0x225495(0x512)]=_0x1f4975[_0x225495(0x512)]||_0x225495(0x659);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x1af4ff,_0x17da60){const _0x21193b=_0x47050f;if(!userId)return;try{const _0x141f25=doc(db,_0x21193b(0x4cd)+appId+_0x21193b(0x244)+userId+'/preferences/main'),_0x1dd6a5={};_0x1dd6a5[_0x1af4ff]=_0x17da60,await setDoc(_0x141f25,_0x1dd6a5,{'merge':!![]});}catch(_0x69d538){console[_0x21193b(0x8c2)](_0x21193b(0x934),_0x69d538);}}async function loadUserPreferences(){const _0x186928=_0x47050f;if(!userId)return{};try{const _0x2fecba=doc(db,_0x186928(0x4cd)+appId+_0x186928(0x244)+userId+_0x186928(0x91b)),_0x5d1fc6=await getDoc(_0x2fecba);if(_0x5d1fc6[_0x186928(0x7ed)]())return _0x5d1fc6[_0x186928(0x54c)]();return{};}catch(_0x2e5ba3){return console['error'](_0x186928(0x1b0),_0x2e5ba3),{};}}function parseIndentedBlueprint(_0x55e737){const _0x58d1cc=_0x47050f,_0x30b67d=_0x55e737['split']('\x0a')[_0x58d1cc(0xc87)](_0x3b01e7=>_0x3b01e7[_0x58d1cc(0x28f)]()!==''),_0x115c2a=[];let _0x119c07=null,_0x2de4d1=null;return _0x30b67d[_0x58d1cc(0xc4c)](_0x28b447=>{const _0x4d6200=_0x58d1cc,_0xe62b5=_0x28b447[_0x4d6200(0x423)](/^\s*/)[0x0][_0x4d6200(0xdf3)],_0x481518=_0x28b447[_0x4d6200(0x28f)]();if(_0xe62b5===0x0)_0x119c07={'sara':_0x481518,'mainTopics':[]},_0x115c2a[_0x4d6200(0x49c)](_0x119c07),_0x2de4d1=null;else{if(_0xe62b5>0x0&&_0xe62b5<0x8&&_0x119c07)_0x2de4d1={'topicName':_0x481518,'subTopics':[]},_0x119c07['mainTopics']['push'](_0x2de4d1);else _0xe62b5>=0x8&&_0x2de4d1&&_0x2de4d1[_0x4d6200(0x750)]['push'](_0x481518);}}),{'curriculum':_0x115c2a};}async function handleManualBlueprintSave(){const _0x2093e1=_0x47050f,_0x1d2a06=document[_0x2093e1(0x70b)](_0x2093e1(0x7a3))[_0x2093e1(0xd95)]['trim'](),_0x2e0cc7=document[_0x2093e1(0x70b)](_0x2093e1(0xc81))[_0x2093e1(0xd95)][_0x2093e1(0x28f)](),_0x2431ad=document[_0x2093e1(0x70b)]('manual-bp-content')['value'];if(!_0x1d2a06||!_0x2e0cc7||!_0x2431ad){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x1848d8=parseIndentedBlueprint(_0x2431ad);if(!_0x1848d8['curriculum']||_0x1848d8[_0x2093e1(0x27a)][_0x2093e1(0xdf3)]===0x0){showMessage(_0x2093e1(0xb22));return;}const _0x2d6770={};let _0x66903b=0x0;_0x1848d8[_0x2093e1(0x27a)][_0x2093e1(0xc4c)](_0xa4c96c=>{const _0x264990=_0x2093e1;_0xa4c96c[_0x264990(0xa2c)][_0x264990(0xc4c)](_0x3d73e3=>{const _0x140479=_0x264990;_0x3d73e3[_0x140479(0x750)][_0x140479(0xc4c)](_0x2af7b2=>{const _0x52e6b5=_0x140479,_0x5ae63a=_0x52e6b5(0x60e)+Date[_0x52e6b5(0xc48)]()+Math[_0x52e6b5(0x457)]()['toString'](0x24)[_0x52e6b5(0x8cd)](0x2,0x9);_0x2d6770[_0x5ae63a]={'sara':_0xa4c96c[_0x52e6b5(0xc78)],'mainTopic':_0x3d73e3['topicName'],'subTopic':_0x2af7b2,'status':_0x52e6b5(0x713),'lessonContent':null,'order':_0x66903b++};});});});try{const _0x36441e=collection(db,_0x2093e1(0x4cd)+appId+_0x2093e1(0x5cf));await addDoc(_0x36441e,{'projectName':_0x1d2a06,'gradeLevel':_0x2e0cc7,'topics':_0x2d6770,'createdAt':serverTimestamp()}),showMessage(_0x2093e1(0xbaf)+_0x1d2a06+_0x2093e1(0xd62)),document[_0x2093e1(0x70b)](_0x2093e1(0x67d))['classList'][_0x2093e1(0x505)](_0x2093e1(0xbce));}catch(_0x1c18d6){console[_0x2093e1(0x8c2)](_0x2093e1(0xce2),_0x1c18d6),showMessage(_0x2093e1(0x2be));}}function handleClearAllLinksForTopic(_0x138641){const _0xb82300=_0x47050f;showConfirmation(_0xb82300(0x753),async()=>{const _0xb6797a=_0xb82300;try{const _0x4e84f7=doc(db,_0xb6797a(0x4cd)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4e84f7,{[_0xb6797a(0x8af)+_0x138641+_0xb6797a(0xd96)]:[]}),showMessage(_0xb6797a(0x2bf)),openTopicQuizBank(_0x138641),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2cadc5){console[_0xb6797a(0x8c2)](_0xb6797a(0x579),_0x2cadc5),showMessage(_0xb6797a(0x877));}});}function showPodiumView(_0x3bcb9a,_0x11974d=_0x47050f(0x172),_0x5db9d8=null){const _0x19711e=_0x47050f,_0x2d229f=_0x5db9d8?.[_0x19711e(0xabf)]===!![],_0x3cb001=Object['entries'](_0x3bcb9a)['map'](([_0x31f8e1,_0x50e362])=>({'name':_0x31f8e1,'realScore':_0x50e362[_0x19711e(0x4ce)]||_0x50e362[_0x19711e(0x6e9)]||0x0,'totalPoints':_0x50e362[_0x19711e(0xe3d)]||0x0,'badges':_0x50e362[_0x19711e(0x993)]||[],'hasPerfectScoreBonus':_0x50e362[_0x19711e(0x95e)]||![]})),_0x4dcacc=Math['max'](..._0x3cb001[_0x19711e(0x3cc)](_0x4c7fd5=>_0x4c7fd5[_0x19711e(0xe3d)]),-Infinity),_0x389ac3=Math[_0x19711e(0xd2c)](..._0x3cb001[_0x19711e(0x3cc)](_0x424357=>_0x424357[_0x19711e(0x4ce)]),-Infinity);_0x3cb001[_0x19711e(0x846)]((_0x238ff7,_0x5baca7)=>{const _0x526d0=_0x19711e;if(_0x2d229f){const _0x5d3a7c=_0x5baca7[_0x526d0(0xe3d)]-_0x238ff7[_0x526d0(0xe3d)];if(_0x5d3a7c!==0x0)return _0x5d3a7c;const _0x1828cd=_0x5baca7['realScore']-_0x238ff7['realScore'];if(_0x1828cd!==0x0)return _0x1828cd;return _0x238ff7[_0x526d0(0x312)]['localeCompare'](_0x5baca7['name'],'th');}else{const _0x4b40e8=_0x5baca7['totalPoints']-_0x238ff7[_0x526d0(0xe3d)];if(_0x4b40e8!==0x0)return _0x4b40e8;return _0x5baca7[_0x526d0(0x4ce)]-_0x238ff7['realScore'];}});const _0x17d1ca=_0x54251f=>{const _0x3697de=_0x19711e;if(!_0x54251f||_0x54251f[_0x3697de(0xdf3)]===0x0)return'';const _0x13e072={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3697de(0x783)+_0x54251f[_0x3697de(0x3cc)](_0x362cad=>_0x13e072[_0x362cad]||'')['join']('')+_0x3697de(0xad2);},_0x4cc6ac=_0xf2e565=>{const _0x4b194b=_0x19711e;let _0x17c08c='';if(_0x2d229f){if(_0xf2e565[_0x4b194b(0xe3d)]===_0x4dcacc&&_0x4dcacc>0x0)_0x17c08c+='<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20';if(_0xf2e565[_0x4b194b(0x4ce)]===_0x389ac3&&_0x389ac3>0x0)_0x17c08c+=_0x4b194b(0x871);}else{if(_0xf2e565[_0x4b194b(0x95e)])_0x17c08c=_0x4b194b(0xc09);}if(_0x2d229f){const _0x158e66=_0xf2e565[_0x4b194b(0xe3d)]>=0x0?'(+'+_0xf2e565['totalPoints']+')':'('+_0xf2e565[_0x4b194b(0xe3d)]+')';return _0x4b194b(0x1b5)+_0xf2e565[_0x4b194b(0x4ce)]+_0x4b194b(0x8be)+_0x158e66+'\x20'+_0x17c08c+'</p>';}else return'<p\x20class=\x22text-xl\x22>'+_0xf2e565[_0x4b194b(0xe3d)]+_0x4b194b(0x8be)+_0x17c08c+'</p>';},_0x4dea29=_0x3cb001[_0x19711e(0x787)](0x3),_0x445674=_0x4dea29[_0x19711e(0xdf3)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dea29[_0x19711e(0x3cc)]((_0x3d860b,_0x42cf6a)=>{const _0xca6f27=_0x19711e;return _0xca6f27(0xc5b)+(_0x42cf6a+0x4)+_0xca6f27(0x9a2)+_0x3d860b[_0xca6f27(0x312)]+_0xca6f27(0xc73)+_0x4cc6ac(_0x3d860b)+_0xca6f27(0xbb8);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x52d4f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3cb001[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x3cb001[0x1][_0x19711e(0x312)]+_0x19711e(0xb29)+_0x17d1ca(_0x3cb001[0x1][_0x19711e(0x993)])+_0x4cc6ac(_0x3cb001[0x1])+_0x19711e(0xcaa):_0x19711e(0x944))+_0x19711e(0x448)+(_0x3cb001[0x0]?_0x19711e(0xb82)+_0x3cb001[0x0]['name']+_0x19711e(0xb29)+_0x17d1ca(_0x3cb001[0x0][_0x19711e(0x993)])+_0x4cc6ac(_0x3cb001[0x0])+_0x19711e(0x535):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3cb001[0x2]?_0x19711e(0x7b6)+_0x3cb001[0x2][_0x19711e(0x312)]+_0x19711e(0xb29)+_0x17d1ca(_0x3cb001[0x2][_0x19711e(0x993)])+_0x4cc6ac(_0x3cb001[0x2])+_0x19711e(0x5ce):_0x19711e(0x944))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x445674+_0x19711e(0xb63)+(currentMode===_0x19711e(0xb0f)?_0x19711e(0xaa8):_0x19711e(0x19a))+_0x19711e(0x477);liveGameView[_0x19711e(0xb90)]=_0x52d4f9,currentMode===_0x19711e(0xb0f)?document[_0x19711e(0x70b)]('close-game-final-btn')[_0x19711e(0x86d)](_0x19711e(0x9a8),async()=>{const _0x2bc911=_0x19711e;let _0x594d82;_0x11974d===_0x2bc911(0xe5e)?_0x594d82=doc(db,_0x2bc911(0x4cd)+appId+_0x2bc911(0x946),currentLiveGameId):_0x594d82=doc(db,_0x2bc911(0x4cd)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x594d82);}):document[_0x19711e(0x70b)](_0x19711e(0xa78))?.[_0x19711e(0x86d)](_0x19711e(0x9a8),()=>{const _0x50599d=_0x19711e;showView(_0x50599d(0x2d1));});}function renderSyncSummaryView(_0x3fa959,_0x332630,_0xdb99d7){const _0x1da70f=_0x47050f,_0x4e46a3=_0x3fa959[_0x1da70f(0x58e)]||'classic',_0x40f231=(_0x4e46a3===_0x1da70f(0x463)||_0x4e46a3==='anonymous_reveal_end')&&_0x3fa959['isAnonymousRevealed']===![],_0x24dc48=_0x4e46a3==='reveal_at_end'||_0x4e46a3===_0x1da70f(0x88c),_0x1c86e2=_0x3fa959[_0x1da70f(0x1ca)][_0x1da70f(0xbd5)],_0xde4a9e=_0x332630[_0x1da70f(0xa39)]||_0x3fa959[_0x1da70f(0x1ca)][_0x1da70f(0x190)];let _0x15c88f=[];_0xde4a9e===_0x1da70f(0x92d)?_0x15c88f=[_0x1da70f(0x87f),'ไม่ใช่\x20/\x20ผิด']:_0x15c88f=_0x332630['options']||[];const _0x4f0884=new Array(_0x15c88f[_0x1da70f(0xdf3)])[_0x1da70f(0x354)](0x0),_0x12b9f1={};_0x15c88f[_0x1da70f(0xc4c)]((_0x10f84d,_0x5a8a7c)=>{_0x12b9f1[_0x5a8a7c]=[];}),Object['entries'](_0x3fa959[_0x1da70f(0x2ae)]||{})['forEach'](([_0x88aa0e,_0x55513e])=>{const _0x310c96=_0x1da70f;if(_0x55513e['status']!==_0x310c96(0x96c)&&_0x55513e[_0x310c96(0xa8c)]!==undefined&&_0x55513e[_0x310c96(0xa8c)]!==null){const _0x3e2dbc=_0x55513e[_0x310c96(0xa8c)];if(_0x12b9f1[_0x3e2dbc]!==undefined){const _0x46a80d=_0x40f231?_0x3fa959[_0x310c96(0x4eb)][_0x88aa0e]||_0x310c96(0x679):_0x88aa0e;_0x12b9f1[_0x3e2dbc][_0x310c96(0x49c)](_0x46a80d),_0x4f0884[_0x3e2dbc]++;}}});let _0x454127='';const _0xd738bb=_0x3fa959[_0x1da70f(0x77d)]>=_0x1c86e2[_0x1da70f(0xdf3)]-0x1;_0xdb99d7?_0x24dc48?_0xd738bb?_0x454127='<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>':_0x454127='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x454127=_0x1da70f(0x779):_0x24dc48?_0x454127=_0x1da70f(0xcb2):_0x454127=_0x1da70f(0x4a8);const _0x11cfed=_0xdb99d7?_0x1da70f(0x3b9)+_0x3fa959[_0x1da70f(0xe34)]+'</strong></div>':'',_0x55516d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11cfed+_0x1da70f(0xa50)+_0x332630['questionText']+_0x1da70f(0xd48)+_0x4f0884[_0x1da70f(0x3cc)]((_0x55faa3,_0x3076f4)=>{const _0x262c72=_0x1da70f,_0x37d786=_0x12b9f1[_0x3076f4][_0x262c72(0xdf3)]>0x0?_0x12b9f1[_0x3076f4][_0x262c72(0x909)](',\x20'):_0x262c72(0x210),_0x138356=_0x262c72(0x24f);return _0x262c72(0xc40)+_0x55faa3+_0x262c72(0x43b)+_0x138356+_0x262c72(0xcfc)+_0x3076f4+_0x262c72(0x90c)+_0x15c88f[_0x3076f4]+_0x262c72(0xc5f)+_0x3076f4+_0x262c72(0x724)+_0x37d786+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1da70f(0x909)]('')+_0x1da70f(0xb7c)+_0x454127+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1da70f(0xb90)]=_0x55516d;if(window['MathJax'])MathJax[_0x1da70f(0xb85)]();if(_0xdb99d7){const _0x34c5f9=doc(db,_0x1da70f(0x4cd)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x1da70f(0x70b)]('show-results-btn')?.['addEventListener']('click',async()=>{const _0x405711=_0x1da70f,_0x35848=Object[_0x405711(0xb0c)](_0x3fa959[_0x405711(0x2ae)]||{})['map'](_0x43d577=>({'name':_0x43d577[_0x405711(0x312)],'score':_0x43d577['score']||0x0,'totalPoints':_0x43d577[_0x405711(0xe3d)]||0x0,'pointsLastRound':_0x43d577['pointsLastRound']||0x0,'answers':_0x43d577['answers']||[]}));await updateDoc(_0x34c5f9,{'status':_0x405711(0xb31),'publicLeaderboard':_0x35848});}),document[_0x1da70f(0x70b)]('open-sync-scratchpad-btn')?.[_0x1da70f(0x86d)](_0x1da70f(0x9a8),()=>{openScratchpad(_0x332630,_0x15c88f);}),document['getElementById']('next-sync-question-btn')?.[_0x1da70f(0x86d)](_0x1da70f(0x9a8),async()=>{const _0x2619a8=_0x1da70f,_0x4cd045=_0x3fa959[_0x2619a8(0x77d)]+0x1;await updateDoc(_0x34c5f9,{'status':_0x2619a8(0x9ea),'currentQuestionIndex':_0x4cd045,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document['getElementById'](_0x1da70f(0xcee))?.['addEventListener'](_0x1da70f(0x9a8),async()=>{const _0x329ae5=_0x1da70f,_0x1ed248=Object['values'](_0x3fa959[_0x329ae5(0x2ae)]||{})[_0x329ae5(0x3cc)](_0x3398ff=>({'name':_0x3398ff[_0x329ae5(0x312)],'score':_0x3398ff['score']||0x0,'totalPoints':_0x3398ff[_0x329ae5(0xe3d)]||0x0,'pointsLastRound':_0x3398ff[_0x329ae5(0x1c7)]||0x0,'answers':_0x3398ff[_0x329ae5(0x9f8)]||[]}));await updateDoc(_0x34c5f9,{'status':_0x329ae5(0xb31),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x1ed248});});}}function renderAnonymousStudentResultsView(_0x4661ea){const _0x2450aa=_0x47050f,_0x119453=_0x4661ea[_0x2450aa(0x77d)]>=_0x4661ea[_0x2450aa(0x1ca)][_0x2450aa(0xbd5)]['length']-0x1;let _0x4e3923='';if(_0x4661ea[_0x2450aa(0xa3f)]===!![]){const _0x455812=_0x4661ea[_0x2450aa(0x2ae)][localTeamPlayers[0x0]],_0x121da0=_0x455812[_0x2450aa(0x312)],_0x290de8=_0x455812[_0x2450aa(0x6e9)];_0x4e3923=_0x2450aa(0x1ef)+_0x121da0+_0x2450aa(0x79b)+_0x290de8+_0x2450aa(0xa38);}else _0x4e3923=_0x2450aa(0x65d)+(_0x119453?_0x2450aa(0x231):_0x2450aa(0x7de))+_0x2450aa(0x2d2);const _0x4748c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e3923+_0x2450aa(0x33a);liveGameView[_0x2450aa(0xb90)]=_0x4748c2;}async function handleShowStudentRankings(){const _0x40b542=_0x47050f,_0x274604=document[_0x40b542(0xdde)]('#student-quiz-leaderboard-content\x20thead');_0x274604&&(_0x274604[_0x40b542(0xb90)]=_0x40b542(0xc7b));const _0x32532e=document[_0x40b542(0xdde)](_0x40b542(0x6dd));_0x32532e&&(_0x32532e[_0x40b542(0xb90)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0xd1b8a2=document[_0x40b542(0x70b)]('student-rankings-modal');_0xd1b8a2[_0x40b542(0x9cc)]['remove'](_0x40b542(0xbce)),document[_0x40b542(0x70b)](_0x40b542(0x18f))[_0x40b542(0x257)]=()=>_0xd1b8a2[_0x40b542(0x9cc)]['add']('hidden');const _0x328f1b=document[_0x40b542(0x70b)](_0x40b542(0xd4c)),_0x1dba95=document[_0x40b542(0x70b)](_0x40b542(0x848)),_0x506ee9=document[_0x40b542(0x70b)](_0x40b542(0x705)),_0x38406b=document[_0x40b542(0x70b)](_0x40b542(0x75f));_0x328f1b[_0x40b542(0x257)]=()=>{const _0x38776d=_0x40b542;_0x328f1b['classList'][_0x38776d(0x505)](_0x38776d(0x294)),_0x1dba95[_0x38776d(0x9cc)][_0x38776d(0x7a8)](_0x38776d(0x294)),_0x506ee9[_0x38776d(0x9cc)][_0x38776d(0x7a8)](_0x38776d(0xbce)),_0x38406b[_0x38776d(0x9cc)]['add'](_0x38776d(0xbce));},_0x1dba95[_0x40b542(0x257)]=()=>{const _0x39f4c2=_0x40b542;_0x1dba95[_0x39f4c2(0x9cc)][_0x39f4c2(0x505)](_0x39f4c2(0x294)),_0x328f1b[_0x39f4c2(0x9cc)][_0x39f4c2(0x7a8)]('active'),_0x38406b[_0x39f4c2(0x9cc)]['remove'](_0x39f4c2(0xbce)),_0x506ee9[_0x39f4c2(0x9cc)][_0x39f4c2(0x505)]('hidden');};try{const _0x41710a=collection(db,_0x40b542(0x4cd)+appId+_0x40b542(0x832)+currentQuizData['id']+_0x40b542(0xcc1)),_0x54abc6=await getDocs(_0x41710a),_0x1f063e=_0x54abc6[_0x40b542(0x26e)][_0x40b542(0x3cc)](_0x11fdbd=>_0x11fdbd['data']());renderQuizLeaderboard(_0x1f063e,currentQuizData,'student-quiz-leaderboard-table-body');const _0xdcd314=collection(db,_0x40b542(0x4cd)+appId+_0x40b542(0x400)+currentQuizData['projectId']+_0x40b542(0xe5b)),_0x19a07a=await getDocs(_0xdcd314),_0x188683=_0x19a07a['docs'][_0x40b542(0x3cc)](_0x5e9275=>_0x5e9275[_0x40b542(0x54c)]());renderLeaderboard(_0x188683,'student-project-leaderboard-table-body');}catch(_0x364715){console['error'](_0x40b542(0x53c),_0x364715),showMessage(_0x40b542(0xd1a));}}async function handleSaveToBank(_0x3b53ee){const _0x400c69=_0x47050f,_0x393859=_0x3b53ee[_0x400c69(0x7c1)],_0x2c5f38=_0x393859[_0x400c69(0x71a)][_0x400c69(0xe39)],_0x32cecd=currentQuizData[_0x400c69(0xbd5)][_0x2c5f38];if(!userId){showMessage(_0x400c69(0xda7));return;}try{const _0x330c7f={..._0x32cecd,'originalTopic':currentQuizData[_0x400c69(0x6d2)],'savedAt':serverTimestamp()},_0x303b6e=collection(db,_0x400c69(0x4cd)+appId+_0x400c69(0x244)+userId+_0x400c69(0xd81));await addDoc(_0x303b6e,_0x330c7f),showMessage(_0x400c69(0x49a)),_0x393859[_0x400c69(0x9cc)][_0x400c69(0x7a8)]('text-purple-600'),_0x393859[_0x400c69(0x9cc)][_0x400c69(0x505)]('text-green-600'),_0x393859[_0x400c69(0x9b6)]=!![];}catch(_0x30d689){console[_0x400c69(0x8c2)](_0x400c69(0x3ed),_0x30d689),showMessage(_0x400c69(0x507));}}async function selectProjectAndGenerateBlueprintQuiz(_0x3572cb,_0x40d23b=null,_0x121078=null,_0x5786cf=![]){const _0x115a6a=_0x47050f;cameFromBlueprint=!![];const _0xd24c97=document[_0x115a6a(0x70b)](_0x115a6a(0x8d0))?.['value'][_0x115a6a(0x28f)]();let _0x189e2a=null;if(_0xd24c97){showMessage(_0x115a6a(0xa77));try{const _0xdcd187=await fetchFileFromUrl(_0xd24c97,_0x115a6a(0xaba)),_0x2fe090=await new Promise((_0x53d12a,_0x4b810f)=>{const _0x14e299=_0x115a6a,_0x54f1cb=new FileReader();_0x54f1cb[_0x14e299(0xa9e)](_0xdcd187),_0x54f1cb[_0x14e299(0xabc)]=()=>_0x53d12a(_0x54f1cb['result'][_0x14e299(0x62a)](',')[0x1]),_0x54f1cb[_0x14e299(0xb79)]=_0x4b810f;});_0x189e2a=[{'inlineData':{'mimeType':_0xdcd187['type'],'data':_0x2fe090}}],messageModal['classList'][_0x115a6a(0x505)](_0x115a6a(0xbce));}catch(_0x151599){console[_0x115a6a(0x8c2)](_0x115a6a(0x27e),_0x151599),showMessage(_0x115a6a(0x59b));}}const _0x677d96=document[_0x115a6a(0x70b)](_0x115a6a(0x6fd)),_0x6740d4=document[_0x115a6a(0x70b)](_0x115a6a(0xc2c)),_0x3bfef8=_0x677d96[_0x115a6a(0xdde)]('h3'),_0x91c369=document[_0x115a6a(0x70b)](_0x115a6a(0xaef)),_0x199473=document[_0x115a6a(0x70b)]('cancel-move-quiz-btn');_0x3bfef8[_0x115a6a(0xc66)]=_0x115a6a(0xa64),_0x91c369[_0x115a6a(0xc66)]=_0x115a6a(0x3be),_0x91c369[_0x115a6a(0x9b6)]=!![];allProjects[_0x115a6a(0xdf3)]===0x0?_0x6740d4[_0x115a6a(0xb90)]=_0x115a6a(0x56d):(_0x6740d4[_0x115a6a(0xb90)]=_0x115a6a(0xce8)+allProjects['map'](_0x2a9493=>_0x115a6a(0x70f)+_0x2a9493['id']+'\x22>'+_0x2a9493['projectName']+_0x115a6a(0xe8f))[_0x115a6a(0x909)](''),_0x91c369[_0x115a6a(0x9b6)]=![]);_0x677d96[_0x115a6a(0x9cc)][_0x115a6a(0x7a8)](_0x115a6a(0xbce));const _0x3574b2=async()=>{const _0x430724=_0x115a6a,_0x45574b=_0x6740d4[_0x430724(0xd95)];if(!_0x45574b){showMessage(_0x430724(0x939));return;}_0x677d96['classList'][_0x430724(0x505)](_0x430724(0xbce)),document[_0x430724(0x70b)](_0x430724(0xb97))['classList'][_0x430724(0x505)](_0x430724(0xbce)),await loadProjectDetails(_0x45574b),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x3572cb,_0x40d23b,_0x45574b,_0x121078,_0x5786cf,_0x189e2a),_0x1ecf7d();},_0x1ecf7d=()=>{const _0x3f4d83=_0x115a6a;_0x3bfef8['textContent']=_0x3f4d83(0x59a),_0x91c369[_0x3f4d83(0xc66)]='ย้าย',_0x91c369[_0x3f4d83(0x64c)](_0x3f4d83(0x9a8),_0x3574b2),_0x199473[_0x3f4d83(0x64c)](_0x3f4d83(0x9a8),_0x1ecf7d),_0x91c369[_0x3f4d83(0x86d)](_0x3f4d83(0x9a8),confirmMoveQuiz);};_0x91c369[_0x115a6a(0x64c)](_0x115a6a(0x9a8),confirmMoveQuiz),_0x91c369[_0x115a6a(0x86d)](_0x115a6a(0x9a8),_0x3574b2),_0x199473[_0x115a6a(0x86d)](_0x115a6a(0x9a8),_0x1ecf7d);}function listenForStarredQuizzes(){const _0x337736=_0x47050f;if(!userId)return;const _0x435708=collection(db,_0x337736(0x4cd)+appId+'/public/data/quizzes'),_0x25ed1c=query(_0x435708,where('isStarred','==',!![]));onSnapshot(_0x25ed1c,_0xa41248=>{const _0x7fd83a=_0x337736;starredQuizzes=_0xa41248[_0x7fd83a(0x26e)][_0x7fd83a(0x3cc)](_0xb5c519=>({'id':_0xb5c519['id'],..._0xb5c519['data']()})),currentProjectId===_0x7fd83a(0x20b)?renderQuizzes():renderProjects();},_0x1abf2e=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x1abf2e);});}function listenForFileShortcuts(){const _0x3b801e=_0x47050f,_0x159e16=doc(db,_0x3b801e(0x792),'fileShortcutsConfig');onSnapshot(_0x159e16,_0x329a29=>{const _0x21b91b=_0x3b801e;let _0x495dc0=[],_0x3445cb=[],_0x33f099={};if(_0x329a29[_0x21b91b(0x7ed)]()){const _0x4e8d4e=_0x329a29[_0x21b91b(0x54c)]();_0x495dc0=_0x4e8d4e[_0x21b91b(0x6e6)]||[],_0x3445cb=_0x4e8d4e[_0x21b91b(0x87d)]||[],_0x33f099=_0x4e8d4e[_0x21b91b(0xb26)]||{};}!_0x3445cb['find'](_0x103400=>_0x103400['id']===_0x21b91b(0xb3f))&&_0x3445cb[_0x21b91b(0x4c8)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x495dc0[_0x21b91b(0x60d)](_0x27cf3e=>_0x27cf3e['id']==='file-default-1')&&_0x495dc0[_0x21b91b(0x4c8)]({'id':'file-default-1','name':_0x21b91b(0x4a7),'url':'','isDefault':!![]}),!_0x495dc0[_0x21b91b(0x60d)](_0x3b694a=>_0x3b694a['id']===_0x21b91b(0x883))&&_0x495dc0['unshift']({'id':'file-default-2','name':_0x21b91b(0x194),'url':'','isDefault':!![]}),fileShortcuts=_0x495dc0,fileShortcutTabs=_0x3445cb,fileShortcutOrder=_0x33f099,renderFileShortcuts(),!document[_0x21b91b(0x70b)]('additional-file-shortcuts-modal')[_0x21b91b(0x9cc)][_0x21b91b(0x2bc)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x4671fa=_0x47050f,_0x35133f=doc(db,'globalSettings','fileShortcutsConfig');try{await setDoc(_0x35133f,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x56e882){console[_0x4671fa(0x8c2)](_0x4671fa(0x1d0),_0x56e882);}}function renderAdditionalFileShortcutsModal(){const _0x6f54d2=_0x47050f,_0x43fb4f=document[_0x6f54d2(0x70b)](_0x6f54d2(0x45a)),_0x197a67=document[_0x6f54d2(0x70b)]('additional-file-shortcuts-list');if(!_0x43fb4f||!_0x197a67)return;_0x43fb4f['innerHTML']=fileShortcutTabs['map'](_0x3a10a6=>{const _0x37ae2c=_0x6f54d2,_0x406c1d=_0x3a10a6['id']===activeFileShortcutTabId;return _0x37ae2c(0x8e9)+_0x3a10a6['id']+_0x37ae2c(0x44e)+(_0x406c1d?_0x37ae2c(0x8ad):_0x37ae2c(0xdf1))+_0x37ae2c(0x7ce)+_0x3a10a6[_0x37ae2c(0x312)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x3a10a6[_0x37ae2c(0x312)]+_0x37ae2c(0xb67)+(!_0x3a10a6['isDefault']?_0x37ae2c(0x638)+_0x3a10a6['id']+_0x37ae2c(0xc3f):'')+_0x37ae2c(0x3ac);})[_0x6f54d2(0x909)]('');const _0x115b52=fileShortcutTabs[_0x6f54d2(0x60d)](_0x18557c=>_0x18557c['id']===activeFileShortcutTabId);let _0x193be9=_0x115b52?.[_0x6f54d2(0x239)]?[...fileShortcuts]:fileShortcuts[_0x6f54d2(0xc87)](_0x26620c=>(_0x115b52?.[_0x6f54d2(0x529)]||[])['includes'](_0x26620c['id']));const _0x22aea2=fileShortcutOrder[activeFileShortcutTabId]||[];_0x193be9[_0x6f54d2(0x846)]((_0x4ef63f,_0x4a3c3b)=>{const _0x263f0a=_0x6f54d2,_0x580621=_0x22aea2[_0x263f0a(0x436)](_0x4ef63f['id']),_0x241ec5=_0x22aea2[_0x263f0a(0x436)](_0x4a3c3b['id']);return(_0x580621===-0x1?Infinity:_0x580621)-(_0x241ec5===-0x1?Infinity:_0x241ec5);}),_0x197a67[_0x6f54d2(0xb90)]=_0x193be9[_0x6f54d2(0x3cc)](_0x1a0d88=>{const _0x16d89d=_0x6f54d2,_0x46f545=_0x1a0d88['url']?'📄':'🔗',_0x21b526=fileShortcutTabs[_0x16d89d(0xc87)](_0x4d78d5=>!_0x4d78d5['isDefault']),_0x4cabf2=_0x115b52['isDefault']&&_0x21b526['length']>0x0?_0x16d89d(0xcba)+_0x21b526[_0x16d89d(0x3cc)](_0x269bea=>'<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x1a0d88['id']+_0x16d89d(0x360)+_0x269bea['id']+'\x22>'+_0x269bea[_0x16d89d(0x312)]+_0x16d89d(0x2eb))[_0x16d89d(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x1a0d88['id']+_0x16d89d(0xd7e)+_0x46f545+'\x20'+_0x1a0d88[_0x16d89d(0x312)]+_0x16d89d(0x266)+_0x1a0d88['id']+_0x16d89d(0x5a4)+_0x1a0d88['id']+_0x16d89d(0x170)+(!_0x1a0d88[_0x16d89d(0x239)]?_0x16d89d(0x8ac)+_0x1a0d88['id']+_0x16d89d(0x9d1):'')+_0x16d89d(0x717)+(!_0x115b52[_0x16d89d(0x239)]?_0x16d89d(0xd25)+_0x1a0d88['id']+_0x16d89d(0xb60):'')+_0x16d89d(0x717)+_0x4cabf2+_0x16d89d(0x247);})[_0x6f54d2(0x909)]('')||_0x6f54d2(0x9cb),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x48b400=_0x47050f;document[_0x48b400(0x8fc)](_0x48b400(0x7fe))[_0x48b400(0xc4c)](_0x46cea3=>{const _0x5a3015=_0x48b400;_0x46cea3[_0x5a3015(0x257)]=_0x20e5c7=>{const _0x564528=_0x5a3015;activeFileShortcutTabId=_0x20e5c7[_0x564528(0x7c1)][_0x564528(0x71a)][_0x564528(0xbad)],renderAdditionalFileShortcutsModal();},_0x46cea3[_0x5a3015(0x74e)]=_0x34c38d=>{const _0x3981d1=_0x5a3015,_0x4af658=_0x34c38d['currentTarget'][_0x3981d1(0xdde)]('.tab-name-input');_0x34c38d[_0x3981d1(0x7c1)]['querySelector']('.tab-name-display')[_0x3981d1(0x9cc)][_0x3981d1(0x505)](_0x3981d1(0xbce)),_0x4af658['classList'][_0x3981d1(0x7a8)](_0x3981d1(0xbce)),_0x4af658[_0x3981d1(0xdd2)](),_0x4af658[_0x3981d1(0x7ee)]();};}),document[_0x48b400(0x8fc)](_0x48b400(0x6ef))['forEach'](_0x11a8de=>{const _0x5d6c1d=_0x48b400,_0x15d382=()=>{const _0x1b3083=_0x3d0b,_0x33a397=_0x11a8de[_0x1b3083(0x252)](_0x1b3083(0x7fe))[_0x1b3083(0x71a)][_0x1b3083(0xbad)],_0x43e489=fileShortcutTabs['find'](_0x1f7164=>_0x1f7164['id']===_0x33a397);_0x43e489&&(_0x43e489['name']=_0x11a8de[_0x1b3083(0xd95)][_0x1b3083(0x28f)]()||_0x43e489[_0x1b3083(0x312)],saveFileShortcutConfig());};_0x11a8de[_0x5d6c1d(0xbc3)]=_0x15d382,_0x11a8de[_0x5d6c1d(0xc85)]=_0x2fed0c=>{const _0x49e525=_0x5d6c1d;if(_0x2fed0c[_0x49e525(0x9f4)]==='Enter')_0x11a8de[_0x49e525(0x85e)]();};}),document['querySelectorAll'](_0x48b400(0x695))[_0x48b400(0xc4c)](_0x15fd78=>_0x15fd78[_0x48b400(0x257)]=_0x179268=>{const _0x1f87c0=_0x48b400,_0x2cff02=_0x179268[_0x1f87c0(0x7c1)][_0x1f87c0(0x71a)][_0x1f87c0(0xbad)];showConfirmation(_0x1f87c0(0x50c),()=>{const _0x31be23=_0x1f87c0;fileShortcutTabs=fileShortcutTabs[_0x31be23(0xc87)](_0x394d9c=>_0x394d9c['id']!==_0x2cff02),delete fileShortcutOrder[_0x2cff02];if(activeFileShortcutTabId===_0x2cff02)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x48b400(0x8fc)](_0x48b400(0x6f5))[_0x48b400(0xc4c)](_0x27dd4c=>_0x27dd4c[_0x48b400(0x257)]=_0x32f8c0=>{const _0x33d570=_0x48b400;_0x32f8c0[_0x33d570(0x95b)]();const {shortcutId:_0x2256bb,targetTabId:_0x4e5c1b}=_0x32f8c0[_0x33d570(0x7c1)][_0x33d570(0x71a)],_0x3b8cf6=fileShortcutTabs['find'](_0x3e083d=>_0x3e083d['id']===_0x4e5c1b);_0x3b8cf6&&!_0x3b8cf6[_0x33d570(0x529)][_0x33d570(0x7f1)](_0x2256bb)&&(_0x3b8cf6['shortcutIds'][_0x33d570(0x49c)](_0x2256bb),saveFileShortcutConfig());}),document[_0x48b400(0x8fc)](_0x48b400(0xe49))[_0x48b400(0xc4c)](_0x3d2688=>_0x3d2688['onclick']=_0xfdc443=>{const _0x3770e7=_0x48b400,_0x2e9e13=_0xfdc443[_0x3770e7(0x7c1)][_0x3770e7(0x71a)]['shortcutId'],_0x5dcde5=fileShortcutTabs[_0x3770e7(0x60d)](_0x469fde=>_0x469fde['id']===activeFileShortcutTabId);_0x5dcde5&&!_0x5dcde5[_0x3770e7(0x239)]&&(_0x5dcde5[_0x3770e7(0x529)]=_0x5dcde5[_0x3770e7(0x529)][_0x3770e7(0xc87)](_0xb5bb1f=>_0xb5bb1f!==_0x2e9e13),saveFileShortcutConfig());}),document[_0x48b400(0x8fc)](_0x48b400(0x9d7))[_0x48b400(0xc4c)](_0x3d0795=>_0x3d0795[_0x48b400(0x257)]=_0x45c211=>{const _0x4d0918=_0x48b400;_0x45c211['stopPropagation']();const _0x52e711=_0x45c211[_0x4d0918(0x7c1)][_0x4d0918(0xae3)];document['querySelectorAll'](_0x4d0918(0x523))[_0x4d0918(0xc4c)](_0x283f5e=>_0x283f5e[_0x4d0918(0x9cc)][_0x4d0918(0x505)](_0x4d0918(0xbce))),_0x52e711[_0x4d0918(0x9cc)]['remove'](_0x4d0918(0xbce));});const _0x3a4ac0=document['getElementById']('additional-file-shortcuts-list');let _0x385adc=null;_0x3a4ac0[_0x48b400(0x8b9)]=_0x10475b=>{const _0x34ff85=_0x48b400;_0x385adc=_0x10475b[_0x34ff85(0x1c8)][_0x34ff85(0x252)](_0x34ff85(0xa88));if(_0x385adc)setTimeout(()=>_0x385adc[_0x34ff85(0x9cc)][_0x34ff85(0x505)](_0x34ff85(0xd69)),0x0);},_0x3a4ac0['ondragend']=()=>{const _0x201bf0=_0x48b400;_0x385adc&&(_0x385adc[_0x201bf0(0x9cc)][_0x201bf0(0x7a8)](_0x201bf0(0xd69)),_0x385adc=null);},_0x3a4ac0['ondragover']=_0x4b9e01=>{const _0x5c93f9=_0x48b400;_0x4b9e01[_0x5c93f9(0x95b)]();},_0x3a4ac0['ondrop']=_0x23d7d3=>{const _0x47c0e1=_0x48b400;_0x23d7d3['preventDefault']();if(_0x385adc){const _0x4c7283=[..._0x3a4ac0[_0x47c0e1(0x8fc)]('.shortcut-list-item:not(.opacity-50)')][_0x47c0e1(0x3cf)]((_0xab6785,_0x5eeb18)=>{const _0x2b8bba=_0x47c0e1,_0x199773=_0x5eeb18[_0x2b8bba(0x608)](),_0x10d8bb=_0x23d7d3[_0x2b8bba(0xb9e)]-_0x199773['top']-_0x199773[_0x2b8bba(0x3d7)]/0x2;return _0x10d8bb<0x0&&_0x10d8bb>_0xab6785[_0x2b8bba(0xd32)]?{'offset':_0x10d8bb,'element':_0x5eeb18}:_0xab6785;},{'offset':Number[_0x47c0e1(0xaff)]})[_0x47c0e1(0xc39)];_0x4c7283==null?_0x3a4ac0[_0x47c0e1(0xb08)](_0x385adc):_0x3a4ac0['insertBefore'](_0x385adc,_0x4c7283);const _0x50e357=[..._0x3a4ac0[_0x47c0e1(0x8fc)](_0x47c0e1(0xa88))][_0x47c0e1(0x3cc)](_0x3979a5=>_0x3979a5['dataset']['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x50e357,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x59fc68=_0x47050f,_0x3d3493=prompt(_0x59fc68(0x31e),_0x59fc68(0x8bd));_0x3d3493&&_0x3d3493[_0x59fc68(0x28f)]()&&(fileShortcutTabs[_0x59fc68(0x49c)]({'id':_0x59fc68(0x6b1)+Date[_0x59fc68(0xc48)](),'name':_0x3d3493[_0x59fc68(0x28f)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x57906f=_0x47050f,_0x56b0e1=document[_0x57906f(0x70b)]('file-shortcut-container'),_0x1c22a0=document['getElementById'](_0x57906f(0x8db)),_0x2bcf68=document[_0x57906f(0x70b)]('file-shortcuts-loading-msg');if(_0x2bcf68)_0x2bcf68[_0x57906f(0x9cc)]['add'](_0x57906f(0xbce));if(!_0x56b0e1||!_0x1c22a0)return;const _0x48ddb0=fileShortcuts[_0x57906f(0x787)](0x0,0x4),_0x32400b=fileShortcuts[_0x57906f(0x787)](0x4);_0x56b0e1[_0x57906f(0xb90)]=_0x48ddb0['map'](_0x5753ab=>{const _0x16a308=_0x57906f,_0x1a83a7=_0x5753ab[_0x16a308(0x90b)]&&_0x5753ab[_0x16a308(0x90b)]['trim']()!=='',_0x1af335=selectedFile&&selectedFile[_0x16a308(0x503)]===_0x5753ab['id'];let _0x4f4334=_0x16a308(0x62b),_0x125bf2='🔗';if(_0x1af335)_0x4f4334=_0x16a308(0xad3),_0x125bf2=_0x16a308(0x337);else _0x1a83a7&&(_0x4f4334='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x125bf2='📄');const _0x448528=!_0x5753ab['isDefault']?'<button\x20data-id=\x22'+_0x5753ab['id']+_0x16a308(0xe66):'';return _0x16a308(0x26a)+_0x5753ab['id']+_0x16a308(0x95f)+_0x4f4334+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x125bf2+_0x16a308(0x1f5)+_0x5753ab[_0x16a308(0x312)]+_0x16a308(0x442)+_0x5753ab['id']+_0x16a308(0x20f)+_0x448528+_0x16a308(0x238);})[_0x57906f(0x909)](''),_0x32400b[_0x57906f(0xdf3)]>0x0&&(_0x56b0e1['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x32400b['length']>0x0?_0x1c22a0[_0x57906f(0xb90)]=_0x32400b[_0x57906f(0x3cc)](_0x5961dd=>_0x57906f(0xae5)+(_0x5961dd[_0x57906f(0x90b)]?'📄':'🔗')+'\x20'+_0x5961dd[_0x57906f(0x312)]+_0x57906f(0x69c)+_0x5961dd['id']+_0x57906f(0x342)+_0x5961dd['id']+_0x57906f(0x77b)+(!_0x5961dd[_0x57906f(0x239)]?'<button\x20data-id=\x22'+_0x5961dd['id']+_0x57906f(0x9d1):'')+_0x57906f(0xd90))['join'](''):_0x1c22a0['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x304175=null){const _0x27edeb=_0x47050f,_0xa23ce2=document[_0x27edeb(0x70b)](_0x27edeb(0xa9d)),_0x14bb1d=document['getElementById'](_0x27edeb(0x8b1)),_0x3dd933=document[_0x27edeb(0x70b)](_0x27edeb(0xd1e)),_0x3de2fd=document[_0x27edeb(0x70b)](_0x27edeb(0xe0e)),_0x4da691=document['getElementById']('file-shortcut-url-input');if(_0x304175){const _0x29673b=fileShortcuts[_0x27edeb(0x60d)](_0x370f15=>_0x370f15['id']===_0x304175);if(!_0x29673b)return;_0x14bb1d[_0x27edeb(0xc66)]=_0x27edeb(0xad8),_0x3dd933[_0x27edeb(0xd95)]=_0x29673b['id'],_0x3de2fd[_0x27edeb(0xd95)]=_0x29673b[_0x27edeb(0x312)],_0x4da691[_0x27edeb(0xd95)]=_0x29673b[_0x27edeb(0x90b)]||'';}else _0x14bb1d[_0x27edeb(0xc66)]=_0x27edeb(0x18b),_0x3dd933[_0x27edeb(0xd95)]='',_0x3de2fd[_0x27edeb(0xd95)]='',_0x4da691[_0x27edeb(0xd95)]='';_0xa23ce2[_0x27edeb(0x9cc)]['remove'](_0x27edeb(0xbce));}async function saveFileShortcutChanges(){const _0x1eff55=_0x47050f,_0x152b55=document[_0x1eff55(0x70b)]('file-shortcut-id-input')[_0x1eff55(0xd95)],_0x3b5390=document[_0x1eff55(0x70b)](_0x1eff55(0xe0e))[_0x1eff55(0xd95)][_0x1eff55(0x28f)](),_0x155e11=document[_0x1eff55(0x70b)](_0x1eff55(0x710))[_0x1eff55(0xd95)][_0x1eff55(0x28f)]();if(!_0x3b5390){showMessage(_0x1eff55(0x723));return;}const _0x4ab08e={'id':_0x152b55||_0x1eff55(0x7f7)+Date['now'](),'name':_0x3b5390,'url':_0x155e11,'isDefault':_0x152b55['startsWith'](_0x1eff55(0x87b))};let _0x297134;_0x152b55?_0x297134=fileShortcuts[_0x1eff55(0x3cc)](_0x3282f5=>_0x3282f5['id']===_0x152b55?_0x4ab08e:_0x3282f5):_0x297134=[...fileShortcuts,_0x4ab08e];try{const _0x3e2066=doc(db,_0x1eff55(0x792),'fileShortcutsConfig');await setDoc(_0x3e2066,{'shortcuts':_0x297134},{'merge':!![]}),document[_0x1eff55(0x70b)](_0x1eff55(0xa9d))['classList'][_0x1eff55(0x505)](_0x1eff55(0xbce));}catch(_0x13adee){console[_0x1eff55(0x8c2)](_0x1eff55(0x3ea),_0x13adee),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0xb89032){const _0xe535c0=_0x47050f,_0xc73ead=fileShortcuts[_0xe535c0(0x60d)](_0x46869e=>_0x46869e['id']===_0xb89032);if(!_0xc73ead)return;if(!_0xc73ead[_0xe535c0(0x90b)]||_0xc73ead['url']['trim']()===''){openFileShortcutEditor(_0xb89032);return;}const _0x1184a1=document[_0xe535c0(0xdde)](_0xe535c0(0x699)+_0xb89032+'\x22]');if(_0x1184a1){const _0x1d3b21=_0x1184a1['innerHTML'];_0x1184a1[_0xe535c0(0xb90)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x1184a1[_0xe535c0(0x9b6)]=!![];}document[_0xe535c0(0x8fc)](_0xe535c0(0xa91))['forEach'](_0x1ae82f=>{const _0x3984d5=_0xe535c0;if(_0x1ae82f[_0x3984d5(0x71a)]['id']!==_0xb89032)_0x1ae82f['classList'][_0x3984d5(0x505)](_0x3984d5(0xd69),'pointer-events-none');});try{const _0x47e08c=new URL(_0xc73ead[_0xe535c0(0x90b)])['pathname'],_0x353d=_0x47e08c['substring'](_0x47e08c[_0xe535c0(0xb20)]('/')+0x1)||(_0xc73ead[_0xe535c0(0x90b)][_0xe535c0(0x7f1)](_0xe535c0(0x814))?_0xe535c0(0x971):'file.pdf'),_0x3c31d7=await fetchFileFromUrl(_0xc73ead[_0xe535c0(0x90b)],_0x353d);_0x3c31d7[_0xe535c0(0x503)]=_0xb89032,selectedFile=_0x3c31d7,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0xe535c0(0x70b)](_0xe535c0(0x5f9))[_0xe535c0(0x28a)]({'behavior':'smooth','block':_0xe535c0(0xd3e)});}catch(_0x463a6a){console[_0xe535c0(0x8c2)](_0xe535c0(0x1a2),_0x463a6a),showMessage(_0xe535c0(0xbf1)+_0x463a6a[_0xe535c0(0xac4)]),renderFileShortcuts();}finally{document[_0xe535c0(0x8fc)](_0xe535c0(0xa91))['forEach'](_0x11b85d=>{const _0x2ee69b=_0xe535c0;_0x11b85d['classList'][_0x2ee69b(0x7a8)](_0x2ee69b(0xd69),_0x2ee69b(0xbcb)),_0x11b85d[_0x2ee69b(0x9b6)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2a4f45=_0x47050f;if(allQuizzesGlobal[_0x2a4f45(0xdf3)]>0x0)return;console[_0x2a4f45(0x418)](_0x2a4f45(0x754)),showMessage(_0x2a4f45(0xe17));try{const _0x3223b5=await getDocs(collection(db,_0x2a4f45(0x4cd)+appId+_0x2a4f45(0x4fc)));allQuizzesGlobal=_0x3223b5[_0x2a4f45(0x26e)][_0x2a4f45(0x3cc)](_0x5605e3=>({'id':_0x5605e3['id'],..._0x5605e3[_0x2a4f45(0x54c)]()})),console[_0x2a4f45(0x418)](_0x2a4f45(0x646)+allQuizzesGlobal[_0x2a4f45(0xdf3)]+_0x2a4f45(0xb69)),messageModal['classList'][_0x2a4f45(0x505)](_0x2a4f45(0xbce));}catch(_0xa59fb5){console[_0x2a4f45(0x8c2)](_0x2a4f45(0x9f0),_0xa59fb5),messageModal[_0x2a4f45(0x9cc)][_0x2a4f45(0x505)](_0x2a4f45(0xbce));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x2d31c4=_0x47050f;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x2d31c4(0xbcf));return;}const _0x31773e=currentQuizData,_0xc3bce2=window[_0x2d31c4(0xb8f)]('',_0x2d31c4(0x55e)),_0x5a0797=_0x100d57=>String[_0x2d31c4(0x616)](0x41+_0x100d57),_0x4d9b8d=_0x2d31c4(0x391)+_0x31773e[_0x2d31c4(0x6d2)]+_0x2d31c4(0x4e6)+_0x31773e[_0x2d31c4(0x6d2)]+_0x2d31c4(0x862)+_0x31773e['questions'][_0x2d31c4(0x3cc)]((_0x472019,_0x2eb3a7)=>{const _0x59d9a3=_0x2d31c4;let _0x32be4a='';const _0x4c1bee=_0x472019[_0x59d9a3(0xa39)]||_0x31773e['quizType'];switch(_0x4c1bee){case _0x59d9a3(0x99e):case _0x59d9a3(0x8c1):_0x32be4a=_0x59d9a3(0xaf6)+_0x472019['options'][_0x59d9a3(0x3cc)]((_0x485848,_0x377fe9)=>_0x59d9a3(0x301)+_0x5a0797(_0x377fe9)+'.\x20'+_0x485848+_0x59d9a3(0x365))[_0x59d9a3(0x909)](_0x59d9a3(0xc59))+'</div>';break;case'true_false':_0x32be4a=_0x59d9a3(0x739);break;default:_0x32be4a=_0x59d9a3(0x885);break;}return _0x59d9a3(0x225)+(_0x2eb3a7+0x1)+_0x59d9a3(0xb09)+(_0x472019['stem']||_0x472019['questionText'])+_0x59d9a3(0xb9f)+(_0x472019[_0x59d9a3(0xbb4)]?_0x59d9a3(0xcff)+_0x472019[_0x59d9a3(0xbb4)]+_0x59d9a3(0xad2):'')+_0x59d9a3(0x5c6)+_0x32be4a+_0x59d9a3(0x688);})['join']('')+_0x2d31c4(0x9a5);_0xc3bce2[_0x2d31c4(0xe85)][_0x2d31c4(0x86b)](_0x4d9b8d),_0xc3bce2[_0x2d31c4(0xe85)][_0x2d31c4(0x9be)](),_0xc3bce2[_0x2d31c4(0xabc)]=function(){setTimeout(()=>{const _0x5012cb=_0x3d0b;_0xc3bce2[_0x5012cb(0xd2d)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x46ca5d=_0x47050f;if(!currentQuizData||!currentQuizData[_0x46ca5d(0xbd5)]){showMessage(_0x46ca5d(0xbcf));return;}const _0x49cf71=currentQuizData,_0x592320=window[_0x46ca5d(0xb8f)]('',_0x46ca5d(0x55e)),_0x515d38=_0x1fb30c=>String[_0x46ca5d(0x616)](0x41+_0x1fb30c),_0x345c15='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x49cf71[_0x46ca5d(0x6d2)]+_0x46ca5d(0xe05)+_0x49cf71[_0x46ca5d(0xbd5)]['map']((_0xda6fee,_0x2893d3)=>{const _0x1f366e=_0x46ca5d;let _0x42b210='';const _0x49a724=_0xda6fee[_0x1f366e(0xa39)]||_0x49cf71[_0x1f366e(0x190)];switch(_0x49a724){case _0x1f366e(0x99e):case _0x1f366e(0x8c1):_0x42b210=_0x1f366e(0x30a)+_0xda6fee[_0x1f366e(0x9d8)][_0x1f366e(0x3cc)]((_0x589965,_0x705e7f)=>_0x1f366e(0xd56)+_0x515d38(_0x705e7f)+'.\x20'+_0x589965+_0x1f366e(0x1ee))[_0x1f366e(0x909)](_0x1f366e(0xc59))+_0x1f366e(0xd50);break;case _0x1f366e(0x92d):_0x42b210=_0x1f366e(0x8ed);break;default:_0x42b210='';break;}return _0x1f366e(0x6c8)+_0x49cf71[_0x1f366e(0x6d2)]+_0x1f366e(0x4c2)+(_0x2893d3+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0xda6fee['stem']||_0xda6fee[_0x1f366e(0xc25)])+_0x1f366e(0xb9f)+(_0xda6fee[_0x1f366e(0xbb4)]?_0x1f366e(0x64f)+_0xda6fee[_0x1f366e(0xbb4)]+'</div>':'')+_0x1f366e(0x5c6)+_0x42b210+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x46ca5d(0x909)]('')+_0x46ca5d(0xd5a);_0x592320[_0x46ca5d(0xe85)][_0x46ca5d(0x86b)](_0x345c15),_0x592320[_0x46ca5d(0xe85)][_0x46ca5d(0x9be)](),_0x592320['onload']=function(){setTimeout(()=>{const _0x4970f9=_0x3d0b;_0x592320[_0x4970f9(0xd2d)]();},0x5dc);};}async function handleToggleStarQuiz(_0x1cec53){const _0x19aab2=_0x47050f,_0x4d8e4a=doc(db,_0x19aab2(0x4cd)+appId+_0x19aab2(0x4fc),_0x1cec53);try{const _0x24ba64=await getDoc(_0x4d8e4a);if(_0x24ba64[_0x19aab2(0x7ed)]()){const _0x56395e=_0x24ba64[_0x19aab2(0x54c)]()[_0x19aab2(0xbb1)]||![];await updateDoc(_0x4d8e4a,{'isStarred':!_0x56395e});}}catch(_0xc3d085){console[_0x19aab2(0x8c2)](_0x19aab2(0xba9),_0xc3d085),showMessage(_0x19aab2(0xc35));}}async function displayQuestionBank(){const _0x203faa=_0x47050f,_0x3cd3ed=document[_0x203faa(0x70b)](_0x203faa(0x72d));_0x3cd3ed[_0x203faa(0xb90)]=_0x203faa(0xe1e);try{const _0xf10439=collection(db,_0x203faa(0x4cd)+appId+_0x203faa(0x244)+userId+_0x203faa(0xd81)),_0x827a4=query(_0xf10439),_0x3e02ef=await getDocs(_0x827a4);if(_0x3e02ef['empty']){_0x3cd3ed[_0x203faa(0xb90)]=_0x203faa(0xd58);return;}let _0x5b101d=_0x3e02ef['docs']['map'](_0x4c3387=>{const _0xdd1868=_0x203faa,_0x5e2d0a=_0x4c3387[_0xdd1868(0x54c)](),_0x3f23fd=_0x4c3387['id'];return _0xdd1868(0xbe2)+JSON['stringify'](_0x5e2d0a)+_0xdd1868(0x777)+(_0x5e2d0a[_0xdd1868(0xc25)]||_0x5e2d0a[_0xdd1868(0x93d)])+_0xdd1868(0x226)+_0x5e2d0a['originalTopic']+_0xdd1868(0xd0a);})['join']('');_0x3cd3ed[_0x203faa(0xb90)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x5b101d+_0x203faa(0xaa4),document['getElementById'](_0x203faa(0x403))[_0x203faa(0x86d)]('click',createQuizFromBank);}catch(_0x336089){console[_0x203faa(0x8c2)]('Error\x20displaying\x20question\x20bank:',_0x336089),_0x3cd3ed[_0x203faa(0xb90)]=_0x203faa(0x84b);}}async function handleExportLessonToPDF(){const _0x3bf613=_0x47050f,_0x1e60dd=document[_0x3bf613(0x70b)](_0x3bf613(0x639)),_0x5970de=document['getElementById'](_0x3bf613(0x218))[_0x3bf613(0xc66)]||_0x3bf613(0x793);if(!_0x1e60dd){showMessage(_0x3bf613(0x9ff));return;}const _0x589812=window[_0x3bf613(0xb8f)]('','_blank'),_0x1b5007='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x5970de+_0x3bf613(0x2b3)+_0x5970de+_0x3bf613(0x7d0)+_0x1e60dd[_0x3bf613(0xb90)]+_0x3bf613(0x9a5);_0x589812[_0x3bf613(0xe85)][_0x3bf613(0x86b)](_0x1b5007),_0x589812[_0x3bf613(0xe85)][_0x3bf613(0x9be)](),_0x589812[_0x3bf613(0xabc)]=function(){setTimeout(()=>{const _0x16ccb6=_0x3d0b;_0x589812[_0x16ccb6(0xd2d)]();},0x7d0);};}function showAdminLiveQuestionView(_0x2dfe15,_0x592e27,_0x3b3e3e){const _0x3bba1c=_0x47050f,_0x199a28=_0x2dfe15[_0x3bba1c(0xa39)]||currentQuizData[_0x3bba1c(0x190)];let _0x37f4f4='';if(_0x199a28==='multiple_choice'||_0x199a28==='true_false'){const _0x53187a=_0x199a28===_0x3bba1c(0x92d)?[_0x3bba1c(0xbbe),_0x3bba1c(0x502)]:_0x2dfe15[_0x3bba1c(0x9d8)],_0x424ffc=_0x199a28===_0x3bba1c(0x92d)?_0x2dfe15[_0x3bba1c(0x75d)]?0x0:0x1:_0x2dfe15[_0x3bba1c(0xcd9)];_0x37f4f4=_0x53187a['map']((_0x210ba0,_0x5c17e3)=>_0x3bba1c(0x7b4)+(_0x5c17e3===_0x424ffc)+_0x3bba1c(0x285)+_0x210ba0+_0x3bba1c(0x238))[_0x3bba1c(0x909)]('');}else{if(_0x199a28===_0x3bba1c(0x6b7)){const _0x118607=_0x2dfe15[_0x3bba1c(0x4b6)]||[];_0x37f4f4=_0x118607['map'](_0x4003fa=>_0x3bba1c(0x7b4)+(_0x4003fa===_0x2dfe15[_0x3bba1c(0xc74)])+_0x3bba1c(0x285)+_0x4003fa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3bba1c(0x909)]('');}}const _0xb19bc7=_0x2dfe15[_0x3bba1c(0x93d)]||_0x2dfe15[_0x3bba1c(0xc25)],_0x54a2e8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x592e27+0x1)+'\x20/\x20'+_0x3b3e3e+_0x3bba1c(0x1ed)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0xb19bc7+_0x3bba1c(0x772)+_0x37f4f4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3bba1c(0xb90)]=_0x54a2e8,window[_0x3bba1c(0x2ab)]&&MathJax[_0x3bba1c(0xb85)]&&MathJax['typesetPromise']([liveGameView]),document[_0x3bba1c(0x70b)]('reveal-answer-btn')[_0x3bba1c(0x86d)](_0x3bba1c(0x9a8),()=>revealAnswerForAdmin(_0x592e27,_0x3b3e3e)),document[_0x3bba1c(0x70b)]('end-game-btn')[_0x3bba1c(0x86d)](_0x3bba1c(0x9a8),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x3082ef=_0x3d0b,_0x419a55=doc(db,_0x3082ef(0x4cd)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x419a55,{'status':_0x3082ef(0x824)});});}),document['getElementById'](_0x3bba1c(0x850))['addEventListener'](_0x3bba1c(0x9a8),()=>{const _0x5e0521=_0x3bba1c;document[_0x5e0521(0x70b)](_0x5e0521(0x47f))[_0x5e0521(0x9cc)][_0x5e0521(0x1a3)](_0x5e0521(0xbce));});}function promptForProjectBeforeGenerating(_0x4b8981){const _0x17ff85=_0x47050f,_0x3a44b7=document[_0x17ff85(0x70b)](_0x17ff85(0x6fd)),_0x3427da=document[_0x17ff85(0x70b)](_0x17ff85(0xc2c)),_0x5a7079=_0x3a44b7[_0x17ff85(0xdde)]('h3'),_0x3e199b=document[_0x17ff85(0x70b)](_0x17ff85(0xaef)),_0x5df25e=document[_0x17ff85(0x70b)](_0x17ff85(0x487));_0x5a7079[_0x17ff85(0xc66)]=_0x17ff85(0xa64),_0x3e199b[_0x17ff85(0xc66)]='เลือกและเริ่มสร้าง',_0x3e199b[_0x17ff85(0x9b6)]=!![];allProjects[_0x17ff85(0xdf3)]===0x0?_0x3427da[_0x17ff85(0xb90)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x3427da[_0x17ff85(0xb90)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x17ff85(0x3cc)](_0x358388=>'<option\x20value=\x22'+_0x358388['id']+'\x22>'+_0x358388['projectName']+_0x17ff85(0xe8f))['join'](''),_0x3e199b[_0x17ff85(0x9b6)]=![]);_0x3a44b7['classList'][_0x17ff85(0x7a8)](_0x17ff85(0xbce));const _0x35e802=async()=>{const _0x1b5416=_0x17ff85,_0x515935=_0x3427da[_0x1b5416(0xd95)];if(!_0x515935){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x3a44b7[_0x1b5416(0x9cc)][_0x1b5416(0x505)](_0x1b5416(0xbce)),await loadProjectDetails(_0x515935),showView(_0x1b5416(0x79e)),handleGenerateQuizFromBlueprintTopic(_0x4b8981),_0x35f6c9();},_0x35f6c9=()=>{const _0x58535d=_0x17ff85;_0x5a7079[_0x58535d(0xc66)]=_0x58535d(0x59a),_0x3e199b[_0x58535d(0xc66)]=_0x58535d(0xba7),_0x3e199b[_0x58535d(0x64c)]('click',_0x35e802),_0x5df25e[_0x58535d(0x64c)](_0x58535d(0x9a8),_0x35f6c9),_0x3e199b[_0x58535d(0x86d)](_0x58535d(0x9a8),confirmMoveQuiz);};_0x3e199b[_0x17ff85(0x64c)]('click',confirmMoveQuiz),_0x3e199b['addEventListener']('click',_0x35e802),_0x5df25e[_0x17ff85(0x86d)](_0x17ff85(0x9a8),_0x35f6c9);}function showStudentLiveQuestionView(_0x303d7a,_0x296957,_0x51d46d){const _0x45776a=_0x47050f,_0x43d054=_0x303d7a[_0x45776a(0xa39)]||currentQuizData[_0x45776a(0x190)];let _0x5b8c59='';if(_0x43d054===_0x45776a(0x99e)||_0x43d054===_0x45776a(0x92d)){const _0x1ccc03=_0x43d054===_0x45776a(0x92d)?[_0x45776a(0xbbe),'ไม่ใช่']:_0x303d7a[_0x45776a(0x9d8)];_0x5b8c59=_0x1ccc03['map']((_0x54a1c7,_0x3a8ec0)=>_0x45776a(0xe6c)+_0x3a8ec0+_0x45776a(0x5da)+_0x54a1c7+_0x45776a(0xc42))[_0x45776a(0x909)]('');}else{if(_0x43d054==='matching_item'){const _0x3540a7=_0x303d7a[_0x45776a(0x4b6)]||[];_0x5b8c59=_0x3540a7[_0x45776a(0x3cc)]((_0x5096bd,_0x2a9e99)=>_0x45776a(0xe6c)+_0x2a9e99+_0x45776a(0x5da)+_0x5096bd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x45776a(0x909)]('');}else _0x43d054===_0x45776a(0x76f)&&(_0x5b8c59=_0x45776a(0x3ef));}const _0x317821=_0x303d7a[_0x45776a(0x93d)]||_0x303d7a['questionText'],_0x273d75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x296957+0x1)+_0x45776a(0x805)+_0x51d46d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x317821+_0x45776a(0x782)+_0x5b8c59+_0x45776a(0xc0b);liveGameView[_0x45776a(0xb90)]=_0x273d75;window[_0x45776a(0x2ab)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x3a1210=document[_0x45776a(0x70b)]('live-submit-short-answer-btn');_0x3a1210&&_0x3a1210['addEventListener']('click',()=>{const _0x152a72=_0x45776a,_0x11a81a=document[_0x152a72(0x70b)](_0x152a72(0xcb4))[_0x152a72(0xd95)];handleLiveAnswer(_0x11a81a,_0x303d7a);}),document[_0x45776a(0x70b)](_0x45776a(0x67e))[_0x45776a(0x86d)](_0x45776a(0x9a8),_0xb3a30e=>{const _0x5a7a4c=_0x45776a,_0x2e94bf=_0xb3a30e[_0x5a7a4c(0x1c8)][_0x5a7a4c(0x252)](_0x5a7a4c(0x747));if(_0x2e94bf){const _0x5a53e7=parseInt(_0x2e94bf['dataset'][_0x5a7a4c(0xe39)]);handleLiveAnswer(_0x5a53e7,_0x303d7a);}});}function listenForBlueprintShortcuts(){const _0x41e64a=_0x47050f,_0x339d45=doc(db,_0x41e64a(0x792),'dashboardConfig');onSnapshot(_0x339d45,_0x372857=>{const _0x165f6f=_0x41e64a;let _0x211b49=[],_0x2539d3=[],_0x188c64={};if(_0x372857[_0x165f6f(0x7ed)]()){const _0x5eedb1=_0x372857[_0x165f6f(0x54c)]();_0x211b49=_0x5eedb1[_0x165f6f(0xafc)]||[],_0x2539d3=_0x5eedb1[_0x165f6f(0xe3f)]||[],_0x188c64=_0x5eedb1['shortcutOrder']||{};}!_0x2539d3[_0x165f6f(0x60d)](_0x1d4ed0=>_0x1d4ed0['id']===_0x165f6f(0xb3f))&&_0x2539d3[_0x165f6f(0x4c8)]({'id':_0x165f6f(0xb3f),'name':_0x165f6f(0xc4f),'isDefault':!![]}),!_0x211b49['find'](_0x41627e=>_0x41627e['id']===_0x165f6f(0x807))&&_0x211b49[_0x165f6f(0x4c8)]({'id':_0x165f6f(0x807),'name':_0x165f6f(0x630),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x211b49[_0x165f6f(0x60d)](_0x5ce02e=>_0x5ce02e['id']===_0x165f6f(0x841))&&_0x211b49[_0x165f6f(0x4c8)]({'id':'default-2','name':_0x165f6f(0xa3e),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x211b49,shortcutTabs=_0x2539d3,shortcutOrder=_0x188c64,renderBlueprintShortcuts(),!document[_0x165f6f(0x70b)](_0x165f6f(0x9ac))[_0x165f6f(0x9cc)][_0x165f6f(0x2bc)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0xbd6367=_0x47050f,_0x193a2f=document[_0xbd6367(0x70b)]('shortcut-tabs-nav'),_0x46907c=document[_0xbd6367(0x70b)]('additional-shortcuts-list');if(!_0x193a2f||!_0x46907c)return;_0x193a2f[_0xbd6367(0xb90)]=shortcutTabs[_0xbd6367(0x3cc)](_0x954dc1=>{const _0x27fa9d=_0xbd6367,_0x19da90=_0x954dc1['id']===activeShortcutTabId,_0x551414=_0x27fa9d(0x8ad),_0x58eef3=_0x27fa9d(0xdf1);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x954dc1['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x19da90?_0x551414:_0x58eef3)+_0x27fa9d(0x51f)+_0x954dc1[_0x27fa9d(0x312)]+_0x27fa9d(0xc82)+_0x954dc1['name']+_0x27fa9d(0x196)+(!_0x954dc1[_0x27fa9d(0x239)]?_0x27fa9d(0xbf7)+_0x954dc1['id']+_0x27fa9d(0x708):'')+_0x27fa9d(0x238);})['join']('');const _0x1bebc5=shortcutTabs[_0xbd6367(0x60d)](_0x155ec=>_0x155ec['id']===activeShortcutTabId);let _0x1e57fa=[];if(_0x1bebc5){if(_0x1bebc5[_0xbd6367(0x239)])_0x1e57fa=[...blueprintShortcuts];else{const _0x1b1a8c=_0x1bebc5['shortcutIds']||[];_0x1e57fa=blueprintShortcuts['filter'](_0x22f3ce=>_0x1b1a8c[_0xbd6367(0x7f1)](_0x22f3ce['id']));}}const _0x30af74=shortcutOrder[activeShortcutTabId]||[];_0x1e57fa[_0xbd6367(0x846)]((_0x1cdafd,_0xace7cd)=>{const _0x5a9f2d=_0xbd6367,_0x2618b9=_0x30af74[_0x5a9f2d(0x436)](_0x1cdafd['id']),_0x2debcf=_0x30af74[_0x5a9f2d(0x436)](_0xace7cd['id']);if(_0x2618b9===-0x1)return 0x1;if(_0x2debcf===-0x1)return-0x1;return _0x2618b9-_0x2debcf;}),_0x46907c['innerHTML']=_0x1e57fa[_0xbd6367(0xdf3)]>0x0?_0x1e57fa[_0xbd6367(0x3cc)](_0x3bbc7e=>{const _0x52aac6=_0xbd6367;let _0x123e8a='🧩';if(_0x3bbc7e[_0x52aac6(0x538)]&&_0x3bbc7e[_0x52aac6(0x37c)])_0x123e8a='📗';else{if(_0x3bbc7e['blueprintUrl'])_0x123e8a='📘';}const _0x588ef5=shortcutTabs[_0x52aac6(0xc87)](_0x2571eb=>!_0x2571eb[_0x52aac6(0x239)]),_0x554643=_0x1bebc5['isDefault']&&_0x588ef5[_0x52aac6(0xdf3)]>0x0?_0x52aac6(0x768)+_0x588ef5[_0x52aac6(0x3cc)](_0x49bda3=>_0x52aac6(0xd01)+_0x3bbc7e['id']+'\x22\x20data-target-tab-id=\x22'+_0x49bda3['id']+'\x22>'+_0x49bda3['name']+_0x52aac6(0x900))[_0x52aac6(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x3bbc7e['id']+_0x52aac6(0x4e7)+_0x123e8a+'\x20'+_0x3bbc7e['name']+_0x52aac6(0x575)+_0x3bbc7e['id']+_0x52aac6(0xa0e)+_0x3bbc7e['id']+_0x52aac6(0x9c6)+(!_0x3bbc7e['isDefault']?'<button\x20data-id=\x22'+_0x3bbc7e['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x52aac6(0x9a9)+(!_0x1bebc5[_0x52aac6(0x239)]?'<button\x20data-shortcut-id=\x22'+_0x3bbc7e['id']+_0x52aac6(0x519):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x554643+_0x52aac6(0x982);})['join'](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x2c93de=_0x47050f;document[_0x2c93de(0x8fc)](_0x2c93de(0xcbd))['forEach'](_0x1aa8f6=>{const _0x2c1838=_0x2c93de;_0x1aa8f6['addEventListener'](_0x2c1838(0x9a8),_0x16dd94=>{const _0xb818bf=_0x2c1838;activeShortcutTabId=_0x16dd94[_0xb818bf(0x7c1)][_0xb818bf(0x71a)][_0xb818bf(0xbad)],renderAdditionalShortcutsModal();}),_0x1aa8f6[_0x2c1838(0x86d)](_0x2c1838(0xdec),_0xf9454d=>{const _0x3c4283=_0x2c1838,_0x4f2717=_0xf9454d[_0x3c4283(0x7c1)];_0x4f2717[_0x3c4283(0xdde)](_0x3c4283(0x2de))[_0x3c4283(0x9cc)][_0x3c4283(0x505)]('hidden');const _0x516f4b=_0x4f2717[_0x3c4283(0xdde)](_0x3c4283(0x91d));_0x516f4b[_0x3c4283(0x9cc)]['remove'](_0x3c4283(0xbce)),_0x516f4b['focus'](),_0x516f4b[_0x3c4283(0x7ee)]();});}),document[_0x2c93de(0x8fc)](_0x2c93de(0x91d))[_0x2c93de(0xc4c)](_0x28a4b9=>{const _0x95886b=()=>{const _0x4c7ada=_0x3d0b,_0x38f215=_0x28a4b9[_0x4c7ada(0x252)](_0x4c7ada(0xcbd))[_0x4c7ada(0x71a)][_0x4c7ada(0xbad)];handleRenameShortcutTab(_0x38f215,_0x28a4b9[_0x4c7ada(0xd95)]);};_0x28a4b9['addEventListener']('blur',_0x95886b),_0x28a4b9['addEventListener']('keydown',_0x511211=>{const _0x188462=_0x3d0b;if(_0x511211[_0x188462(0x9f4)]==='Enter')_0x28a4b9[_0x188462(0x85e)]();});}),document[_0x2c93de(0x8fc)](_0x2c93de(0xb5f))[_0x2c93de(0xc4c)](_0x373c21=>{const _0x272736=_0x2c93de;_0x373c21[_0x272736(0x86d)](_0x272736(0x9a8),_0x57f1f4=>handleDeleteShortcutTab(_0x57f1f4[_0x272736(0x7c1)]['dataset']['tabId']));}),document[_0x2c93de(0x8fc)]('.move-shortcut-item')['forEach'](_0x496245=>{const _0x5d3cc0=_0x2c93de;_0x496245[_0x5d3cc0(0x86d)](_0x5d3cc0(0x9a8),_0x46d0d5=>{const _0x3a1fa7=_0x5d3cc0;_0x46d0d5[_0x3a1fa7(0x95b)]();const {shortcutId:_0x2e8bbc,targetTabId:_0x1b886f}=_0x46d0d5[_0x3a1fa7(0x7c1)][_0x3a1fa7(0x71a)];handleMoveShortcutToTab(_0x2e8bbc,_0x1b886f);});}),document[_0x2c93de(0x8fc)](_0x2c93de(0x38e))['forEach'](_0x457a66=>{const _0xf3415=_0x2c93de;_0x457a66['addEventListener'](_0xf3415(0x9a8),_0x18f249=>{const _0x25f51f=_0xf3415;handleRemoveShortcutFromTab(_0x18f249[_0x25f51f(0x7c1)][_0x25f51f(0x71a)][_0x25f51f(0x503)],activeShortcutTabId);});});const _0x126fb8=document[_0x2c93de(0x70b)]('additional-shortcuts-list');_0x126fb8[_0x2c93de(0x8fc)](_0x2c93de(0x742))[_0x2c93de(0xc4c)](_0x4e450d=>{_0x4e450d['addEventListener']('click',()=>{const _0x128aec=_0x3d0b;document['getElementById']('additional-shortcuts-modal')[_0x128aec(0x9cc)][_0x128aec(0x505)]('hidden'),handleShortcutClick(_0x4e450d[_0x128aec(0x71a)]['id']);});});let _0x3db4e0=null;_0x126fb8['addEventListener'](_0x2c93de(0x7a5),_0x238cc8=>{const _0x20eca4=_0x2c93de;_0x3db4e0=_0x238cc8[_0x20eca4(0x1c8)][_0x20eca4(0x252)](_0x20eca4(0xa88)),_0x3db4e0&&setTimeout(()=>_0x3db4e0[_0x20eca4(0x9cc)]['add']('opacity-50'),0x0);}),_0x126fb8['addEventListener'](_0x2c93de(0x37d),()=>{const _0x4c45a5=_0x2c93de;_0x3db4e0&&(_0x3db4e0[_0x4c45a5(0x9cc)][_0x4c45a5(0x7a8)]('opacity-50'),_0x3db4e0=null);}),_0x126fb8[_0x2c93de(0x86d)](_0x2c93de(0x77a),_0x2b7ef3=>{const _0x1ab0c9=_0x2c93de;_0x2b7ef3[_0x1ab0c9(0x95b)]();const _0x48e616=[..._0x126fb8[_0x1ab0c9(0x8fc)](_0x1ab0c9(0x7e4))][_0x1ab0c9(0x3cf)]((_0x5dd99c,_0x2d8040)=>{const _0x225247=_0x1ab0c9,_0x34df2e=_0x2d8040[_0x225247(0x608)](),_0x1bb446=_0x2b7ef3['clientY']-_0x34df2e['top']-_0x34df2e[_0x225247(0x3d7)]/0x2;return _0x1bb446<0x0&&_0x1bb446>_0x5dd99c[_0x225247(0xd32)]?{'offset':_0x1bb446,'element':_0x2d8040}:_0x5dd99c;},{'offset':Number[_0x1ab0c9(0xaff)]})[_0x1ab0c9(0xc39)];_0x48e616==null?_0x126fb8[_0x1ab0c9(0xb08)](_0x3db4e0):_0x126fb8[_0x1ab0c9(0x376)](_0x3db4e0,_0x48e616);}),_0x126fb8[_0x2c93de(0x86d)]('drop',_0x36ba14=>{const _0x2c1618=_0x2c93de;_0x36ba14['preventDefault']();if(_0x3db4e0){const _0x56029f=[..._0x126fb8['querySelectorAll']('.shortcut-list-item')]['map'](_0x4ace29=>_0x4ace29[_0x2c1618(0x71a)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x56029f);}}),document['querySelectorAll'](_0x2c93de(0x81f))[_0x2c93de(0xc4c)](_0x326923=>{const _0xab49fa=_0x2c93de;_0x326923[_0xab49fa(0x86d)](_0xab49fa(0x9a8),_0x260cfc=>{const _0x41dac8=_0xab49fa;_0x260cfc['stopPropagation']();const _0x33d522=_0x260cfc[_0x41dac8(0x7c1)]['nextElementSibling'],_0x585ba2=_0x33d522[_0x41dac8(0x9cc)][_0x41dac8(0x2bc)]('hidden');document['querySelectorAll']('.move-shortcut-dropdown')[_0x41dac8(0xc4c)](_0x151bfb=>_0x151bfb[_0x41dac8(0x9cc)][_0x41dac8(0x505)](_0x41dac8(0xbce))),_0x585ba2&&_0x33d522[_0x41dac8(0x9cc)][_0x41dac8(0x7a8)]('hidden');});});}document[_0x47050f(0x86d)](_0x47050f(0x9a8),_0xdb50be=>{const _0x148b59=_0x47050f;!_0xdb50be[_0x148b59(0x1c8)][_0x148b59(0x252)](_0x148b59(0x77c))&&document[_0x148b59(0x8fc)]('.move-shortcut-dropdown')[_0x148b59(0xc4c)](_0x198808=>_0x198808[_0x148b59(0x9cc)][_0x148b59(0x505)](_0x148b59(0xbce)));});async function saveShortcutConfig(){const _0x16b739=_0x47050f,_0x39e709=doc(db,_0x16b739(0x792),_0x16b739(0x353));try{await setDoc(_0x39e709,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0xfacd65){console[_0x16b739(0x8c2)](_0x16b739(0xa40),_0xfacd65);}}async function handleAddShortcutTab(){const _0x47866d=_0x47050f,_0x3ec969=prompt(_0x47866d(0x31e),_0x47866d(0x8bd));if(!_0x3ec969||_0x3ec969['trim']()==='')return;shortcutTabs[_0x47866d(0x49c)]({'id':_0x47866d(0x6b1)+Date['now'](),'name':_0x3ec969['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x1b5395,_0x389666){const _0xce6e00=_0x47050f,_0x4d0218=shortcutTabs[_0xce6e00(0x60d)](_0x12c987=>_0x12c987['id']===_0x1b5395);_0x4d0218&&_0x389666[_0xce6e00(0x28f)]()!==''&&(_0x4d0218['name']=_0x389666[_0xce6e00(0x28f)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4ebdf9){const _0x33d0b9=_0x47050f,_0x5b6708=shortcutTabs[_0x33d0b9(0x60d)](_0x16490f=>_0x16490f['id']===_0x4ebdf9);_0x5b6708&&!_0x5b6708[_0x33d0b9(0x239)]&&showConfirmation(_0x33d0b9(0x3d9)+_0x5b6708['name']+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x17d852=_0x33d0b9;shortcutTabs=shortcutTabs[_0x17d852(0xc87)](_0x4a9900=>_0x4a9900['id']!==_0x4ebdf9),delete shortcutOrder[_0x4ebdf9];if(activeShortcutTabId===_0x4ebdf9)activeShortcutTabId=_0x17d852(0xb3f);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x53045d,_0x2ff258){const _0x5b55bc=_0x47050f,_0x517b79=shortcutTabs['find'](_0x23e047=>_0x23e047['id']===_0x2ff258);_0x517b79&&!_0x517b79['shortcutIds'][_0x5b55bc(0x7f1)](_0x53045d)&&(_0x517b79[_0x5b55bc(0x529)][_0x5b55bc(0x49c)](_0x53045d),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0xe0f2a3,_0xa77c98){const _0x57712c=_0x47050f,_0x12b464=shortcutTabs[_0x57712c(0x60d)](_0x4fea85=>_0x4fea85['id']===_0xa77c98);_0x12b464&&!_0x12b464['isDefault']&&(_0x12b464[_0x57712c(0x529)]=_0x12b464[_0x57712c(0x529)]['filter'](_0x2514a1=>_0x2514a1!==_0xe0f2a3),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x39ed9a,_0x368fbd){shortcutOrder[_0x39ed9a]=_0x368fbd,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x5e738c=_0x47050f,_0x113ecb=document['getElementById']('blueprint-shortcut-container'),_0x40c0ce=document['getElementById'](_0x5e738c(0x712)),_0x538719=document[_0x5e738c(0x70b)]('shortcuts-loading-msg');_0x538719&&_0x538719['classList']['add'](_0x5e738c(0xbce));if(!_0x113ecb||!_0x40c0ce)return;const _0x16f0c6=blueprintShortcuts[_0x5e738c(0x787)](0x0,0x4),_0x3c898b=blueprintShortcuts[_0x5e738c(0x787)](0x4);_0x113ecb['innerHTML']=_0x16f0c6[_0x5e738c(0x3cc)](_0xd9ca46=>{const _0xa824bb=_0x5e738c;let _0x5da0b6='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0xfb54e='🧩';if(_0xd9ca46['blueprintUrl']&&_0xd9ca46[_0xa824bb(0x37c)])_0x5da0b6=_0xa824bb(0xda9),_0xfb54e='📗';else _0xd9ca46[_0xa824bb(0x538)]&&(_0x5da0b6=_0xa824bb(0x8e3),_0xfb54e='📘');const _0x58df2=!_0xd9ca46['isDefault']?_0xa824bb(0x8ac)+_0xd9ca46['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0xa824bb(0x26a)+_0xd9ca46['id']+_0xa824bb(0x5bf)+_0x5da0b6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0xfb54e+'\x20'+_0xd9ca46[_0xa824bb(0x312)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd9ca46['id']+_0xa824bb(0x1cf)+_0x58df2+_0xa824bb(0x238);})['join'](''),_0x3c898b[_0x5e738c(0xdf3)]>0x0&&(_0x113ecb['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3c898b['length']>0x0?_0x40c0ce['innerHTML']=_0x3c898b[_0x5e738c(0x3cc)](_0x2f51eb=>{const _0x31d776=_0x5e738c;let _0xbd8071='🧩';if(_0x2f51eb[_0x31d776(0x538)]&&_0x2f51eb[_0x31d776(0x37c)])_0xbd8071='📗';else _0x2f51eb[_0x31d776(0x538)]&&(_0xbd8071='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0xbd8071+'\x20'+_0x2f51eb[_0x31d776(0x312)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2f51eb['id']+_0x31d776(0xa0e)+_0x2f51eb['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2f51eb[_0x31d776(0x239)]?_0x31d776(0x8ac)+_0x2f51eb['id']+_0x31d776(0x2cf):'')+_0x31d776(0x5c0);})[_0x5e738c(0x909)](''):_0x40c0ce[_0x5e738c(0xb90)]=_0x5e738c(0x23c);}function getMimeTypeFromFilename(_0x26994b){const _0x66c9d4=_0x47050f,_0x38652c=_0x26994b['split']('.')[_0x66c9d4(0x177)]()[_0x66c9d4(0xcab)]();switch(_0x38652c){case _0x66c9d4(0x8ab):return _0x66c9d4(0xab3);case _0x66c9d4(0x5fd):return'text/plain';default:return _0x66c9d4(0xab3);}}function openShortcutEditor(_0xe15d4f=null){const _0x4de49a=_0x47050f,_0x5ad7ab=document[_0x4de49a(0x70b)](_0x4de49a(0x8cb)),_0x34a35d=document['getElementById'](_0x4de49a(0xd80)),_0x22355f=document[_0x4de49a(0x70b)](_0x4de49a(0xc49)),_0x18fe02=document[_0x4de49a(0x70b)](_0x4de49a(0xad0)),_0x1ab0dd=document[_0x4de49a(0x70b)](_0x4de49a(0x2f0)),_0x1a6552=document['getElementById']('shortcut-reference-url-input');if(_0xe15d4f){const _0xfb10f9=blueprintShortcuts[_0x4de49a(0x60d)](_0x54865c=>_0x54865c['id']===_0xe15d4f);if(!_0xfb10f9)return;_0x34a35d[_0x4de49a(0xc66)]=_0x4de49a(0x79a),_0x22355f[_0x4de49a(0xd95)]=_0xfb10f9['id'],_0x18fe02['value']=_0xfb10f9[_0x4de49a(0x312)],_0x1ab0dd[_0x4de49a(0xd95)]=_0xfb10f9[_0x4de49a(0x538)]||'',_0x1a6552[_0x4de49a(0xd95)]=_0xfb10f9[_0x4de49a(0x37c)]||'';}else _0x34a35d[_0x4de49a(0xc66)]=_0x4de49a(0x493),_0x22355f[_0x4de49a(0xd95)]='',_0x18fe02[_0x4de49a(0xd95)]='',_0x1ab0dd[_0x4de49a(0xd95)]='',_0x1a6552[_0x4de49a(0xd95)]='';_0x5ad7ab[_0x4de49a(0x9cc)][_0x4de49a(0x7a8)](_0x4de49a(0xbce));}async function saveShortcutChanges(){const _0x24d0f6=_0x47050f,_0x19270a=document[_0x24d0f6(0x70b)](_0x24d0f6(0xc49))['value'],_0x5796ce=document[_0x24d0f6(0x70b)]('shortcut-name-input')[_0x24d0f6(0xd95)]['trim'](),_0x3308ff=document[_0x24d0f6(0x70b)](_0x24d0f6(0x2f0))[_0x24d0f6(0xd95)][_0x24d0f6(0x28f)]();if(!_0x5796ce||!_0x3308ff){showMessage(_0x24d0f6(0xbd6));return;}const _0x1fddb6={'id':_0x19270a||'shortcut_'+Date[_0x24d0f6(0xc48)](),'name':_0x5796ce,'blueprintUrl':_0x3308ff,'referenceUrl':document[_0x24d0f6(0x70b)]('shortcut-reference-url-input')[_0x24d0f6(0xd95)]['trim'](),'isDefault':_0x19270a['startsWith']('default-')};let _0x2019e7;_0x19270a?_0x2019e7=blueprintShortcuts[_0x24d0f6(0x3cc)](_0x533804=>_0x533804['id']===_0x19270a?_0x1fddb6:_0x533804):_0x2019e7=[...blueprintShortcuts,_0x1fddb6];try{const _0x65cc40=doc(db,_0x24d0f6(0x792),'dashboardConfig');await setDoc(_0x65cc40,{'blueprintShortcuts':_0x2019e7},{'merge':!![]}),document[_0x24d0f6(0x70b)](_0x24d0f6(0x8cb))[_0x24d0f6(0x9cc)][_0x24d0f6(0x505)](_0x24d0f6(0xbce));}catch(_0x14ad09){console[_0x24d0f6(0x8c2)](_0x24d0f6(0x39d),_0x14ad09),showMessage(_0x24d0f6(0x507));}}async function handleShortcutClick(_0x460ed6){const _0x561fad=_0x47050f,_0x2dbf41=blueprintShortcuts[_0x561fad(0x60d)](_0x47e9dc=>_0x47e9dc['id']===_0x460ed6);if(!_0x2dbf41||!_0x2dbf41['blueprintUrl'])return;document['getElementById']('blueprint-options-container')[_0x561fad(0x9cc)][_0x561fad(0x505)](_0x561fad(0xbce)),document[_0x561fad(0x70b)](_0x561fad(0x44b))[_0x561fad(0x9b6)]=!![];const _0x52b0e3=document['getElementById'](_0x561fad(0xd92)),_0x15de33=document[_0x561fad(0x70b)](_0x561fad(0xa35));document['getElementById'](_0x561fad(0xcc8))[_0x561fad(0x9cc)]['remove'](_0x561fad(0xbce)),document[_0x561fad(0x70b)](_0x561fad(0xd53))[_0x561fad(0xb90)]='',_0x52b0e3['classList'][_0x561fad(0x7a8)](_0x561fad(0xbce));try{_0x15de33['textContent']=_0x561fad(0xc52);const _0x5dcc02=await fetchFileFromUrl(_0x2dbf41[_0x561fad(0x538)],'blueprint.pdf');let _0xf48e58=null;if(_0x2dbf41[_0x561fad(0x37c)]){_0x15de33[_0x561fad(0xc66)]=_0x561fad(0x248);const _0x242ccb=_0x2dbf41[_0x561fad(0x37c)][_0x561fad(0xcab)]()[_0x561fad(0x57f)](_0x561fad(0x814))?'reference.txt':'reference.pdf';_0xf48e58=await fetchFileFromUrl(_0x2dbf41['referenceUrl'],_0x242ccb);}await handleGenerateFromBlueprintWithFiles(_0x5dcc02,_0xf48e58);}catch(_0x368e8a){console['error']('Error\x20processing\x20shortcut\x20click:',_0x368e8a),showMessage(_0x561fad(0x2fd)+_0x368e8a[_0x561fad(0xac4)]),_0x52b0e3[_0x561fad(0x9cc)][_0x561fad(0x505)](_0x561fad(0xbce));}}function getDirectDownloadUrl(_0x1de00b){const _0x1a478c=_0x1de00b['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x1a478c&&_0x1a478c[0x1])return'https://drive.google.com/uc?export=download&id='+_0x1a478c[0x1];return _0x1de00b;}async function fetchFileFromUrl(_0x254440,_0x1ec53d){const _0xe3408f=_0x47050f,_0x2b6ab7=getDirectDownloadUrl(_0x254440),_0x5bccd1='https://corsproxy.io/?'+encodeURIComponent(_0x2b6ab7),_0x41ad03=await fetch(_0x5bccd1);if(!_0x41ad03['ok'])throw new Error(_0xe3408f(0xd88)+_0x41ad03[_0xe3408f(0xbd3)]+')');const _0x4c5c3c=await _0x41ad03[_0xe3408f(0x2c8)](),_0xa5c30=await new Promise((_0x81fdfa,_0x5eb3d5)=>{const _0x5e34c3=_0xe3408f,_0x38f456=new FileReader();_0x38f456['onloadend']=()=>_0x81fdfa(new Uint8Array(_0x38f456[_0x5e34c3(0xd76)])),_0x38f456[_0x5e34c3(0xb79)]=_0x5eb3d5,_0x38f456[_0x5e34c3(0x62d)](_0x4c5c3c[_0x5e34c3(0x787)](0x0,0x4));});let _0x199d07='';const _0xdb0c44=new TextDecoder()['decode'](_0xa5c30);return _0xdb0c44===_0xe3408f(0xa66)?(_0x199d07=_0xe3408f(0xab3),console[_0xe3408f(0x418)](_0xe3408f(0x898))):(_0x199d07=_0xe3408f(0x3c1),console[_0xe3408f(0x418)](_0xe3408f(0x358))),new File([_0x4c5c3c],_0x1ec53d,{'type':_0x199d07});}async function handleGenerateFromBlueprintWithFiles(_0x2da692,_0xa0bf3=null){const _0x49614b=_0x47050f;if(!_0x2da692){showMessage(_0x49614b(0x94e));return;}const _0x269855=document[_0x49614b(0x70b)](_0x49614b(0xd92)),_0x466f56=document['getElementById'](_0x49614b(0xa35));_0x269855[_0x49614b(0x9cc)][_0x49614b(0x7a8)](_0x49614b(0xbce)),document[_0x49614b(0x70b)](_0x49614b(0xcc8))[_0x49614b(0x9cc)][_0x49614b(0x7a8)](_0x49614b(0xbce)),document['getElementById']('generated-quiz-container')['innerHTML']='';try{_0x466f56[_0x49614b(0xc66)]=_0x49614b(0x3c8);const _0x20cf58=await new Promise((_0x417274,_0x3574f4)=>{const _0x4b11fb=_0x49614b,_0x1178f0=new FileReader();_0x1178f0[_0x4b11fb(0xa9e)](_0x2da692),_0x1178f0['onload']=()=>_0x417274(_0x1178f0['result'][_0x4b11fb(0x62a)](',')[0x1]),_0x1178f0[_0x4b11fb(0xb79)]=_0x3574f4;}),_0x4c94fb=[];if(_0xa0bf3){_0x466f56[_0x49614b(0xc66)]=_0x49614b(0x820);const _0x288d28=await _0xa0bf3[_0x49614b(0x7fd)]();_0x4c94fb[_0x49614b(0x49c)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x288d28});}const _0x17c9ad=[{'text':_0x49614b(0xa34)},{'inlineData':{'mimeType':_0x2da692['type'],'data':_0x20cf58}},..._0x4c94fb];await handleGenerateFromBlueprint(_0x17c9ad);}catch(_0x2ad120){console['error']('Error\x20in\x20generating\x20from\x20files:',_0x2ad120),showMessage(_0x49614b(0x2fd)+_0x2ad120[_0x49614b(0xac4)]),_0x269855['classList'][_0x49614b(0x505)]('hidden');}}async function handleLiveAnswer(_0x3c9e18,_0x5557fe){const _0x1a34db=_0x47050f;document['querySelectorAll'](_0x1a34db(0x7f0))[_0x1a34db(0xc4c)](_0x1380d2=>_0x1380d2['disabled']=!![]);const _0x530d3a=_0x5557fe['questionType']||currentQuizData[_0x1a34db(0x190)];let _0x5e6478=![],_0x428ec6=_0x3c9e18;if(_0x530d3a===_0x1a34db(0x76f)){const _0x55eac0=(_0x3c9e18||'')['toString']();_0x5e6478=await gradeShortAnswer(_0x55eac0,_0x5557fe);}else{if(_0x530d3a==='multiple_choice')_0x5e6478=_0x3c9e18===_0x5557fe[_0x1a34db(0xcd9)];else{if(_0x530d3a===_0x1a34db(0x92d)){const _0x15abab=_0x5557fe['correctAnswer'];_0x5e6478=_0x3c9e18===0x0&&_0x15abab||_0x3c9e18===0x1&&!_0x15abab;}else{if(_0x530d3a===_0x1a34db(0x6b7)){const _0xf3979a=_0x5557fe['allResponses'][_0x3c9e18];_0x5e6478=_0xf3979a===_0x5557fe[_0x1a34db(0xc74)],_0x428ec6=_0xf3979a;}}}}const _0x41fa76=doc(db,'artifacts/'+appId+_0x1a34db(0x54b),currentLiveGameId),_0x11629c={};_0x11629c[_0x1a34db(0xdc2)+currentStudentName+_0x1a34db(0x34e)]=!![],_0x11629c[_0x1a34db(0xdc2)+currentStudentName+_0x1a34db(0xc90)]=_0x5e6478,_0x11629c[_0x1a34db(0xdc2)+currentStudentName+_0x1a34db(0x464)]=_0x530d3a===_0x1a34db(0x76f)||_0x530d3a===_0x1a34db(0x6b7)?null:_0x3c9e18,_0x11629c['players.'+currentStudentName+_0x1a34db(0x972)]=_0x428ec6,_0x11629c[_0x1a34db(0xdc2)+currentStudentName+_0x1a34db(0xd66)]=serverTimestamp(),_0x11629c['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x41fa76,_0x11629c),liveGameView[_0x1a34db(0xb90)]=_0x1a34db(0x6cc);}function showAdminSummaryView(_0x4c9a09,_0x180ed3){const _0x40fceb=_0x47050f,_0xc98029=Object[_0x40fceb(0xb0c)](_0x4c9a09[_0x40fceb(0x2ae)]||{}),_0x4d39ae=_0x180ed3['questionType']||currentQuizData[_0x40fceb(0x190)],_0x30a69b=_0x4d39ae===_0x40fceb(0x92d)?['ใช่',_0x40fceb(0x502)]:_0x180ed3['options']||_0x180ed3[_0x40fceb(0x4b6)]||[],_0x35feeb={},_0x3aff19=new Array(_0x30a69b[_0x40fceb(0xdf3)])[_0x40fceb(0x354)](0x0);_0x30a69b['forEach']((_0x51014b,_0x4219a0)=>{_0x35feeb[_0x4219a0]=[];}),Object[_0x40fceb(0xde2)](_0x4c9a09[_0x40fceb(0x2ae)]||{})['forEach'](([_0x543951,_0x3c9946])=>{const _0x336c9f=_0x40fceb;if(_0x3c9946[_0x336c9f(0xbd3)]===_0x336c9f(0x294)&&_0x3c9946[_0x336c9f(0xa8c)]!==undefined){const _0x9e5275=_0x3c9946[_0x336c9f(0xa8c)];_0x35feeb[_0x9e5275]&&(_0x35feeb[_0x9e5275][_0x336c9f(0x49c)](_0x543951),_0x3aff19[_0x9e5275]++);}});const _0x43e615=Math[_0x40fceb(0xd2c)](..._0x3aff19,0x1),_0x5ac010=_0x40fceb(0x811)+(_0x180ed3[_0x40fceb(0x93d)]||_0x180ed3[_0x40fceb(0xc25)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3aff19[_0x40fceb(0x3cc)]((_0x30e4c2,_0x15e40d)=>{const _0x402f87=_0x40fceb,_0x9af832=_0x35feeb[_0x15e40d][_0x402f87(0xdf3)]>0x0?_0x35feeb[_0x15e40d][_0x402f87(0x909)](',\x20'):_0x402f87(0x210);let _0xbc7785=![];if(_0x4d39ae==='multiple_choice')_0xbc7785=_0x15e40d===_0x180ed3[_0x402f87(0xcd9)];else{if(_0x4d39ae===_0x402f87(0x92d)){const _0x3112ff=_0x180ed3['correctAnswer'];_0xbc7785=_0x3112ff&&_0x15e40d===0x0||!_0x3112ff&&_0x15e40d===0x1;}else _0x4d39ae==='matching_item'&&(_0xbc7785=_0x30a69b[_0x15e40d]===_0x180ed3['correctResponse']);}const _0x40fe1a=_0xbc7785?_0x402f87(0xd89):_0x402f87(0x5d8);return _0x402f87(0xc56)+_0x30e4c2+_0x402f87(0x3cd)+_0x40fe1a+_0x402f87(0x4a9)+_0x15e40d+_0x402f87(0x664)+_0x30a69b[_0x15e40d]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x15e40d+_0x402f87(0x861)+_0x9af832+_0x402f87(0x557);})[_0x40fceb(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x40fceb(0xb90)]=_0x5ac010;if(window[_0x40fceb(0x2ab)])MathJax[_0x40fceb(0xb85)]();document[_0x40fceb(0x70b)](_0x40fceb(0x1df))['addEventListener'](_0x40fceb(0x9a8),async()=>{const _0x5d86e3=_0x40fceb,_0x55267c=doc(db,'artifacts/'+appId+_0x5d86e3(0x54b),currentLiveGameId);await updateDoc(_0x55267c,{'questionStatus':_0x5d86e3(0xc97)});}),document['getElementById'](_0x40fceb(0xdb7))[_0x40fceb(0x86d)](_0x40fceb(0x9a8),()=>{openScratchpad(_0x180ed3,_0x30a69b);});}function showPlayerSummaryView(_0x485684,_0x596e57){const _0x2704e4=_0x47050f,_0x139742=Object[_0x2704e4(0xb0c)](_0x485684['players']||{}),_0xece84f=_0x485684[_0x2704e4(0x2ae)][_0x596e57],_0x40de90=_0x139742['filter'](_0x5d98f1=>_0x5d98f1[_0x2704e4(0xbd3)]==='active')[_0x2704e4(0x846)]((_0x3455f0,_0x570688)=>_0x570688['score']-_0x3455f0[_0x2704e4(0x6e9)]),_0x21b48b=_0x40de90[_0x2704e4(0x322)](_0x5067a6=>_0x5067a6===_0xece84f)+0x1,_0x3f066c=_0xece84f[_0x2704e4(0x4bb)]?'ถูกต้อง!':_0x2704e4(0x916),_0x49994d=_0xece84f[_0x2704e4(0x4bb)]?_0x2704e4(0xd13):_0x2704e4(0x3a8),_0x542adc=_0xece84f[_0x2704e4(0x9e6)]||0x0,_0xec2b82=_0x2704e4(0xe16),_0x2962a0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0xec2b82+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x49994d+_0x2704e4(0x888)+_0x3f066c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x542adc+_0x2704e4(0x7c5)+(_0x21b48b>0x0?_0x21b48b:'-')+_0x2704e4(0x56f);liveGameView['innerHTML']=_0x2962a0;}function createQuizFromBank(){const _0x232533=_0x47050f,_0xb50d0b=document[_0x232533(0x8fc)](_0x232533(0x189));if(_0xb50d0b[_0x232533(0xdf3)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x5347ce=[];_0xb50d0b['forEach'](_0xcfc047=>{const _0x2e7cb7=_0x232533;_0x5347ce[_0x2e7cb7(0x49c)](JSON[_0x2e7cb7(0xcd4)](_0xcfc047[_0x2e7cb7(0xd95)]));});const _0x2d7ce0={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x5347ce};displayGeneratedQuiz(_0x2d7ce0);}function showAdminLobbyView(_0x410a21,_0x47e25e){const _0x1ff1e1=_0x47050f;showView('live-game');const _0x3f34d3=_0x1ff1e1(0x2f4)+_0x47e25e+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x410a21+_0x1ff1e1(0xcc3);liveGameView['innerHTML']=_0x3f34d3,document['getElementById']('start-game-btn')['addEventListener'](_0x1ff1e1(0x9a8),async()=>{const _0x5b0dce=_0x1ff1e1;if(!currentQuizData||!currentQuizData[_0x5b0dce(0xbd5)]||currentQuizData[_0x5b0dce(0xbd5)][_0x5b0dce(0xdf3)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x3746a3=doc(db,_0x5b0dce(0x4cd)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3746a3,{'status':_0x5b0dce(0x9ea),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1be8c9=currentQuizData[_0x5b0dce(0xbd5)][0x0],_0x3b0888=currentQuizData[_0x5b0dce(0xbd5)][_0x5b0dce(0xdf3)];showAdminLiveQuestionView(_0x1be8c9,0x0,_0x3b0888);}catch(_0x55c090){console[_0x5b0dce(0x8c2)](_0x5b0dce(0x700),_0x55c090),showMessage(_0x5b0dce(0x690));}});}async function openQuizBankModal(){const _0x2fb480=_0x47050f;if(allQuizzesGlobal[_0x2fb480(0xdf3)]===0x0){const _0x4ef375=await getDocs(collection(db,_0x2fb480(0x4cd)+appId+_0x2fb480(0x4fc)));allQuizzesGlobal=_0x4ef375[_0x2fb480(0x26e)][_0x2fb480(0x3cc)](_0xc7ea67=>({'id':_0xc7ea67['id'],..._0xc7ea67['data']()}));}renderQuizBankList(''),document[_0x2fb480(0x70b)](_0x2fb480(0x601))[_0x2fb480(0x9cc)][_0x2fb480(0x7a8)]('hidden');}function renderQuizBankList(_0x380590='',_0x295706=![]){const _0x331012=_0x47050f,_0x428ee6=document['getElementById'](_0x331012(0xba2)),_0x3974eb=_0x380590[_0x331012(0xcab)]()[_0x331012(0x28f)](),_0x169c60=allQuizzesGlobal[_0x331012(0x3cc)](_0x5120b9=>({..._0x5120b9,'projectName':allProjects[_0x331012(0x60d)](_0x466290=>_0x466290['id']===_0x5120b9[_0x331012(0x28c)])?.['projectName']||'N/A'}))['filter'](_0x5d4283=>(_0x5d4283[_0x331012(0x6d2)]||'')[_0x331012(0xcab)]()[_0x331012(0x7f1)](_0x3974eb)||(_0x5d4283[_0x331012(0x73e)]||'')[_0x331012(0xcab)]()[_0x331012(0x7f1)](_0x3974eb)||_0x5d4283['id']['toString']()[_0x331012(0x7f1)](_0x3974eb));document['getElementById'](_0x331012(0x7b7))['textContent']='('+_0x169c60['length']+_0x331012(0x825),_0x428ee6['innerHTML']=_0x169c60[_0x331012(0xdf3)]?_0x169c60[_0x331012(0x3cc)](_0x1ba11d=>{const _0x7623a6=_0x331012,_0x196a55=!_0x295706?_0x7623a6(0xddb)+_0x1ba11d['id']+_0x7623a6(0x4e8)+_0x1ba11d['id']+_0x7623a6(0x246)+_0x1ba11d['id']+_0x7623a6(0x469)+_0x1ba11d['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1ba11d['id']+_0x7623a6(0x835)+_0x1ba11d['id']+_0x7623a6(0x5fc)+_0x1ba11d[_0x7623a6(0x6d2)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x7623a6(0x4f1)+_0x1ba11d['id']+_0x7623a6(0xde7)+(_0x1ba11d[_0x7623a6(0x6d2)]||_0x7623a6(0x363))+_0x7623a6(0xc51)+(_0x1ba11d['questions']?.['length']||0x0)+_0x7623a6(0x8c4)+_0x1ba11d[_0x7623a6(0x73e)]+_0x7623a6(0x5b7)+_0x1ba11d['id']+_0x7623a6(0xd6f)+_0x196a55+_0x7623a6(0x5e8);})[_0x331012(0x909)](''):_0x331012(0xb8e),!_0x295706&&(_0x428ee6[_0x331012(0x8fc)](_0x331012(0x359))[_0x331012(0xc4c)](_0x37d83c=>{const _0x354d57=_0x331012;_0x37d83c[_0x354d57(0x86d)](_0x354d57(0x9a8),()=>{const _0x352b74=_0x354d57,_0x37d040=_0x37d83c[_0x352b74(0x71a)]['id'];document['getElementById']('quiz-bank-modal')[_0x352b74(0x9cc)][_0x352b74(0x505)](_0x352b74(0xbce)),showQuizDetailView(_0x37d040);});}),_0x428ee6[_0x331012(0x8fc)](_0x331012(0x6d7))[_0x331012(0xc4c)](_0x584f33=>{const _0x454ff9=_0x331012;_0x584f33[_0x454ff9(0x86d)]('click',_0x346100=>{const _0x528aeb=_0x454ff9;_0x346100[_0x528aeb(0xccd)]();const _0x2a24a9=_0x584f33[_0x528aeb(0x71a)]['id'],_0x5a280f=allQuizzesGlobal['find'](_0x5bb0b8=>_0x5bb0b8['id']===_0x2a24a9);_0x5a280f?(currentQuizData=_0x5a280f,document[_0x528aeb(0x70b)](_0x528aeb(0x601))[_0x528aeb(0x9cc)][_0x528aeb(0x505)](_0x528aeb(0xbce)),startAdminTest()):showMessage(_0x528aeb(0x53b));});}),_0x428ee6[_0x331012(0x8fc)](_0x331012(0xd71))[_0x331012(0xc4c)](_0x336260=>{const _0x4ca05d=_0x331012;_0x336260['addEventListener'](_0x4ca05d(0x9a8),_0x357ae9=>{const _0x3e84e9=_0x4ca05d;_0x357ae9['stopPropagation']();const _0x1007e0=_0x336260[_0x3e84e9(0x71a)]['id'],_0x2cc327=allQuizzesGlobal[_0x3e84e9(0x60d)](_0x2807f0=>_0x2807f0['id']===_0x1007e0);_0x2cc327?(document[_0x3e84e9(0x70b)](_0x3e84e9(0x601))[_0x3e84e9(0x9cc)][_0x3e84e9(0x505)](_0x3e84e9(0xbce)),handleGenerateParallelFromBank(_0x2cc327)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x428ee6[_0x331012(0x8fc)](_0x331012(0x2a1))[_0x331012(0xc4c)](_0x1010c6=>{const _0x13bb60=_0x331012;_0x1010c6[_0x13bb60(0x86d)](_0x13bb60(0x9a8),_0x539fc1=>{const _0xea9df7=_0x13bb60;_0x539fc1[_0xea9df7(0xccd)]();const _0xdb98fa=_0x1010c6[_0xea9df7(0x71a)]['id'],_0x47a5b0=allQuizzesGlobal[_0xea9df7(0x60d)](_0x2f8513=>_0x2f8513['id']===_0xdb98fa);_0x47a5b0?(document['getElementById']('quiz-bank-modal')[_0xea9df7(0x9cc)][_0xea9df7(0x505)](_0xea9df7(0xbce)),startPresentation(_0x47a5b0)):showMessage(_0xea9df7(0x53b));});}),_0x428ee6[_0x331012(0x8fc)]('.quiz-bank-move-btn')[_0x331012(0xc4c)](_0x108069=>{const _0xff6100=_0x331012;_0x108069['addEventListener'](_0xff6100(0x9a8),_0x241709=>{const _0x520114=_0xff6100;_0x241709[_0x520114(0xccd)]();const _0x5bc3cf=_0x108069['dataset']['id'];document[_0x520114(0x70b)](_0x520114(0x601))['classList'][_0x520114(0x505)](_0x520114(0xbce)),handleMoveQuiz(_0x5bc3cf);});}),_0x428ee6[_0x331012(0x8fc)]('.quiz-bank-settings-btn')[_0x331012(0xc4c)](_0xd9e314=>{const _0x210b3b=_0x331012;_0xd9e314[_0x210b3b(0x86d)]('click',_0x2c9fb4=>{const _0x1decab=_0x210b3b;_0x2c9fb4['stopPropagation']();const _0x2bdffe=_0xd9e314[_0x1decab(0x71a)]['id'];document['getElementById'](_0x1decab(0x601))[_0x1decab(0x9cc)][_0x1decab(0x505)]('hidden'),handleQuizSettings(_0x2bdffe);});}),_0x428ee6['querySelectorAll'](_0x331012(0x3b5))[_0x331012(0xc4c)](_0x2129d8=>{_0x2129d8['addEventListener']('click',_0x3d433a=>{const _0x1b5d5f=_0x3d0b;_0x3d433a[_0x1b5d5f(0xccd)]();const _0x3972ab=_0x2129d8[_0x1b5d5f(0x71a)]['id'],_0x20b1f7=_0x2129d8[_0x1b5d5f(0x71a)][_0x1b5d5f(0x6d2)];showConfirmation(_0x1b5d5f(0xbbb)+_0x20b1f7+_0x1b5d5f(0x295),()=>handleDeleteQuiz(_0x3972ab));});}));}async function handleCompareResults(_0x5672d2,_0x40747c){const _0x51f843=_0x47050f,_0x17610b=document['getElementById'](_0x51f843(0x626)),_0x29ca40=document[_0x51f843(0x70b)](_0x51f843(0xe35)),_0x3b80d2=document[_0x51f843(0x70b)](_0x51f843(0xa02));document[_0x51f843(0x70b)]('comparison-overall-tab')[_0x51f843(0x9cc)]['add']('active'),document[_0x51f843(0x70b)]('comparison-individual-tab')[_0x51f843(0x9cc)][_0x51f843(0x7a8)](_0x51f843(0x294)),_0x29ca40[_0x51f843(0x9cc)][_0x51f843(0x7a8)](_0x51f843(0xbce)),_0x3b80d2[_0x51f843(0x9cc)][_0x51f843(0x505)](_0x51f843(0xbce)),_0x29ca40[_0x51f843(0xb90)]=_0x51f843(0xe1e),_0x3b80d2[_0x51f843(0xb90)]='',_0x17610b[_0x51f843(0x9cc)][_0x51f843(0x7a8)](_0x51f843(0xbce));try{const _0x161845=doc(db,_0x51f843(0x4cd)+appId+_0x51f843(0x4fc),_0x5672d2),_0x36ea5f=await getDoc(_0x161845);if(!_0x36ea5f[_0x51f843(0x7ed)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x3512fb=_0x36ea5f['data'](),_0xc12c90=_0x3512fb[_0x51f843(0xbd5)][_0x51f843(0xdf3)],_0x4be2e4=collection(db,_0x51f843(0x4cd)+appId+_0x51f843(0x832)+_0x40747c+_0x51f843(0xcc1)),_0x52d9f3=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5672d2+_0x51f843(0xcc1)),[_0x1858b8,_0x4b6cd5]=await Promise[_0x51f843(0xb3f)]([getDocs(_0x4be2e4),getDocs(_0x52d9f3)]),_0x5647d0=_0x1858b8[_0x51f843(0x26e)][_0x51f843(0x3cc)](_0x4c9405=>_0x4c9405[_0x51f843(0x54c)]()),_0x380a77=_0x4b6cd5[_0x51f843(0x26e)]['map'](_0x5a49c0=>_0x5a49c0[_0x51f843(0x54c)]()),_0x1b3e07=_0x5647d0[_0x51f843(0x3cc)](_0x36cf8b=>_0x36cf8b[_0x51f843(0x84f)]),_0x27e104=_0x380a77[_0x51f843(0x3cc)](_0x3eb3ac=>_0x3eb3ac[_0x51f843(0x84f)]),_0x85caae=calculateMeanAndStdDev(_0x1b3e07),_0xe06798=calculateMeanAndStdDev(_0x27e104),_0xd2e5b9=_0x85caae[_0x51f843(0x932)],_0x4844d1=_0xe06798[_0x51f843(0x932)],_0x2e8473=_0x4844d1-_0xd2e5b9;let _0x49d5d1=_0x51f843(0xcb3)+_0xd2e5b9[_0x51f843(0xadc)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x4844d1[_0x51f843(0xadc)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x2e8473>=0x0?'bg-emerald-100':'bg-red-100')+_0x51f843(0x9ec)+(_0x2e8473>=0x0?_0x51f843(0x52b):_0x51f843(0xccc))+_0x51f843(0xd31)+(_0x2e8473>=0x0?_0x51f843(0xe40):_0x51f843(0x625))+'\x22>'+(_0x2e8473>=0x0?'+':'')+_0x2e8473[_0x51f843(0xadc)](0x2)+_0x51f843(0x834);_0x29ca40['innerHTML']=_0x49d5d1;const _0x469070=document[_0x51f843(0x70b)]('comparison-chart')[_0x51f843(0xcf3)]('2d');if(chartInstances['comparison'])chartInstances[_0x51f843(0x8ba)][_0x51f843(0x590)]();chartInstances[_0x51f843(0x8ba)]=new Chart(_0x469070,{'type':'bar','data':{'labels':[_0x51f843(0x816)],'datasets':[{'label':_0x51f843(0x5a9),'data':[_0xd2e5b9],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x51f843(0x9cf),'data':[_0x4844d1],'backgroundColor':_0x51f843(0xa13)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xc12c90}}}});const _0x1ff69b=currentProjectData[_0x51f843(0xa70)]||[],_0x5a7e8f=_0x1ff69b[_0x51f843(0x3cc)](_0x4f6d84=>{const _0x3ba847=_0x51f843,_0x5f0d84=_0x5647d0[_0x3ba847(0x60d)](_0xe0eae0=>_0xe0eae0[_0x3ba847(0xd11)]===_0x4f6d84),_0x41db7e=_0x380a77[_0x3ba847(0x60d)](_0x16da8b=>_0x16da8b['studentName']===_0x4f6d84),_0x56753a=_0x5f0d84?_0x5f0d84['latestScore']:null,_0xbf9a6b=_0x41db7e?_0x41db7e[_0x3ba847(0x84f)]:null,_0x314048=_0x56753a!==null&&_0xbf9a6b!==null?_0xbf9a6b-_0x56753a:null,_0x10396d=_0x56753a!==null?calculateZScore(_0x56753a,_0x85caae[_0x3ba847(0x932)],_0x85caae['stdDev']):null,_0x394251=_0xbf9a6b!==null?calculateZScore(_0xbf9a6b,_0xe06798[_0x3ba847(0x932)],_0xe06798['stdDev']):null,_0x1f87fc=_0x10396d!==null?calculateTScore(_0x10396d):null,_0x4cff54=_0x394251!==null?calculateTScore(_0x394251):null,_0x13b4dd=_0x1f87fc!==null&&_0x4cff54!==null?_0x4cff54-_0x1f87fc:null;return{'name':_0x4f6d84,'preScore':_0x56753a,'postScore':_0xbf9a6b,'gain':_0x314048,'preTScore':_0x1f87fc,'postTScore':_0x4cff54,'tGain':_0x13b4dd};});renderIndividualComparisonTable(_0x5a7e8f,_0x3b80d2);}catch(_0xc88f88){console[_0x51f843(0x8c2)]('Error\x20comparing\x20results:',_0xc88f88),_0x29ca40['innerHTML']=_0x51f843(0xe15);}}async function saveBlueprintProject(){const _0x22dd45=_0x47050f;if(!extractedBlueprintData||!extractedBlueprintData[_0x22dd45(0x27a)]){showMessage(_0x22dd45(0xd77));return;}const _0x3ec6ab=prompt(_0x22dd45(0x6e8),_0x22dd45(0x3a1));if(!_0x3ec6ab||_0x3ec6ab[_0x22dd45(0x28f)]()==='')return;const _0x4a2725={};extractedBlueprintData[_0x22dd45(0x27a)][_0x22dd45(0xc4c)](_0x262b09=>{const _0xffb8a0=_0x22dd45;_0x262b09[_0xffb8a0(0xa2c)][_0xffb8a0(0xc4c)](_0x2a4d3=>{const _0x115a3c=_0xffb8a0;_0x2a4d3[_0x115a3c(0x750)][_0x115a3c(0xc4c)](_0x3b0016=>{const _0x65f5ca=_0x115a3c,_0x65f61c=_0x65f5ca(0x60e)+Date[_0x65f5ca(0xc48)]()+Math[_0x65f5ca(0x457)]()['toString'](0x24)['substr'](0x2,0x9);_0x4a2725[_0x65f61c]={'sara':_0x262b09[_0x65f5ca(0xc78)],'mainTopic':_0x2a4d3['topicName'],'subTopic':_0x3b0016,'status':'not_generated','lessonContent':null};});});});try{const _0x6028f2=collection(db,'artifacts/'+appId+_0x22dd45(0x5cf));await addDoc(_0x6028f2,{'projectName':_0x3ec6ab[_0x22dd45(0x28f)](),'gradeLevel':extractedBlueprintData[_0x22dd45(0xc3b)],'topics':_0x4a2725,'createdAt':serverTimestamp()}),showMessage(_0x22dd45(0xbaf)+_0x3ec6ab['trim']()+_0x22dd45(0xd62)),document[_0x22dd45(0x70b)](_0x22dd45(0x1f4))[_0x22dd45(0x9cc)][_0x22dd45(0x505)](_0x22dd45(0xbce));}catch(_0x463956){console['error'](_0x22dd45(0x328),_0x463956),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x7d7b11=_0x47050f,_0xcc7115=document[_0x7d7b11(0x70b)](_0x7d7b11(0x9d6)),_0x11a7ca=document['getElementById'](_0x7d7b11(0x427));_0x11a7ca[_0x7d7b11(0xb90)]=_0x7d7b11(0x72c),_0xcc7115[_0x7d7b11(0x9cc)][_0x7d7b11(0x7a8)]('hidden');try{const _0xf69d43=collection(db,_0x7d7b11(0x4cd)+appId+_0x7d7b11(0x5cf)),_0x1b334f=await getDocs(_0xf69d43);if(_0x1b334f[_0x7d7b11(0xd46)]){_0x11a7ca[_0x7d7b11(0xb90)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x2dda9c=_0x1b334f[_0x7d7b11(0x26e)]['map'](_0x320d21=>({'id':_0x320d21['id'],..._0x320d21[_0x7d7b11(0x54c)]()}));_0x2dda9c[_0x7d7b11(0x846)]((_0x4647b5,_0xc90f89)=>_0x4647b5[_0x7d7b11(0x73e)]['localeCompare'](_0xc90f89[_0x7d7b11(0x73e)],'th')),_0x11a7ca['innerHTML']=_0x2dda9c['map'](_0x3a5a32=>_0x7d7b11(0x476)+_0x3a5a32[_0x7d7b11(0x73e)]+_0x7d7b11(0xb14)+_0x3a5a32['gradeLevel']+_0x7d7b11(0x47b)+Object[_0x7d7b11(0x5d7)](_0x3a5a32['topics'])[_0x7d7b11(0xdf3)]+_0x7d7b11(0x31c)+_0x3a5a32['id']+_0x7d7b11(0x4e5)+_0x3a5a32['id']+_0x7d7b11(0xaa3))[_0x7d7b11(0x909)]('');}catch(_0x449053){console[_0x7d7b11(0x8c2)](_0x7d7b11(0x1b7),_0x449053),_0x11a7ca[_0x7d7b11(0xb90)]=_0x7d7b11(0x85a);}}async function displayBlueprintProjectManager(_0x45c281){const _0x152514=_0x47050f;currentBlueprintProjectId=_0x45c281,document['getElementById'](_0x152514(0x9d6))['classList']['add'](_0x152514(0xbce)),showView(_0x152514(0x215)),projectDashboardView[_0x152514(0x9cc)]['add'](_0x152514(0xbce));const _0xff0397=document[_0x152514(0x70b)]('blueprint-project-manager-view');_0xff0397[_0x152514(0x9cc)]['remove']('hidden'),document[_0x152514(0x70b)](_0x152514(0x833))[_0x152514(0xb90)]=_0x152514(0xe1e);try{const _0xadc47a=doc(db,'artifacts/'+appId+_0x152514(0x5cf),_0x45c281),_0x322615=await getDoc(_0xadc47a);if(!_0x322615[_0x152514(0x7ed)]())throw new Error('ไม่พบโปรเจค');const _0x49b21f={'id':_0x322615['id'],..._0x322615[_0x152514(0x54c)]()};document[_0x152514(0x70b)](_0x152514(0x800))[_0x152514(0xc66)]=_0x49b21f['projectName'],document[_0x152514(0x70b)](_0x152514(0x8d0))[_0x152514(0xd95)]=_0x49b21f[_0x152514(0x29c)]||'',renderBlueprintTopicManager(_0x49b21f);}catch(_0x2e566a){console['error'](_0x152514(0x78a),_0x2e566a),showMessage(_0x2e566a[_0x152514(0xac4)]),showView(_0x152514(0x215));}}function renderBlueprintTopicManager(_0x110a4b){const _0x4a1398=_0x47050f,_0x9d984=document[_0x4a1398(0x70b)](_0x4a1398(0x833)),_0x1f20cd=_0x110a4b[_0x4a1398(0xd0c)]||{};if(Object[_0x4a1398(0x5d7)](_0x1f20cd)[_0x4a1398(0xdf3)]===0x0){_0x9d984['innerHTML']=_0x4a1398(0xd1f);return;}const _0x58bd49=Object['entries'](_0x1f20cd)[_0x4a1398(0x3cc)](([_0x2ebc6e,_0x59ab3b])=>({'id':_0x2ebc6e,..._0x59ab3b}))['sort']((_0x1a1ab6,_0x5c8b6c)=>(_0x1a1ab6[_0x4a1398(0x6a1)]??Infinity)-(_0x5c8b6c[_0x4a1398(0x6a1)]??Infinity)),_0x42c34b={};_0x58bd49['forEach'](_0x45240a=>{const _0x33f8e2=_0x4a1398,{sara:_0x46c6a7,mainTopic:_0x522d96}=_0x45240a;!_0x42c34b[_0x46c6a7]&&(_0x42c34b[_0x46c6a7]={}),!_0x42c34b[_0x46c6a7][_0x522d96]&&(_0x42c34b[_0x46c6a7][_0x522d96]=[]),_0x42c34b[_0x46c6a7][_0x522d96][_0x33f8e2(0x49c)](_0x45240a);});let _0x2a741f='';for(const _0x3990d4 in _0x42c34b){_0x2a741f+=_0x4a1398(0xa73)+_0x3990d4+_0x4a1398(0x4a3);for(const _0x17d735 in _0x42c34b[_0x3990d4]){_0x2a741f+=_0x4a1398(0x81b)+_0x17d735+_0x4a1398(0x8dd),_0x42c34b[_0x3990d4][_0x17d735][_0x4a1398(0xc4c)](_0x473314=>{const _0x46bfd0=_0x4a1398,_0x299886=_0x473314['id'],_0x539b21=_0x473314[_0x46bfd0(0x923)]||[],_0x47081b=_0x539b21[_0x46bfd0(0xdf3)]>0x0,_0x5f5b6b=_0x473314['status']==='generated';let _0x37dbca='';_0x47081b?_0x37dbca=_0x46bfd0(0xc91)+_0x539b21[_0x46bfd0(0xdf3)]+_0x46bfd0(0x983):_0x37dbca=_0x46bfd0(0x520)+(_0x5f5b6b?_0x46bfd0(0xc9b):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x5f5b6b?_0x46bfd0(0x20d):'ยังไม่สร้าง')+'</span>';const _0x5b792f=!_0x5f5b6b?_0x46bfd0(0x989):'',_0x176f33=!_0x5f5b6b?_0x46bfd0(0xb45):'';let _0x361561=_0x5f5b6b?_0x46bfd0(0xd78):_0x46bfd0(0x4b5);_0x2a741f+=_0x46bfd0(0xe67)+_0x299886+_0x46bfd0(0x7ac)+_0x473314[_0x46bfd0(0x2dd)]+_0x46bfd0(0x311)+_0x37dbca+_0x46bfd0(0x466)+_0x5b792f+_0x46bfd0(0xc86)+_0x176f33+_0x46bfd0(0x5ef)+_0x361561+_0x46bfd0(0x4c5);}),_0x2a741f+=_0x4a1398(0xafb);}_0x2a741f+=_0x4a1398(0xad2);}_0x9d984['innerHTML']=_0x2a741f;}async function handleDeepDeleteBlueprintProject(_0x2563ba){const _0x875d20=_0x47050f,_0x421be5=doc(db,_0x875d20(0x4cd)+appId+'/public/data/blueprintProjects',_0x2563ba),_0x179f75=await getDoc(_0x421be5);if(!_0x179f75[_0x875d20(0x7ed)]()){showMessage(_0x875d20(0x435));return;}const _0x3ca84e=_0x179f75[_0x875d20(0x54c)]()['projectName'];showConfirmation(_0x875d20(0xd06)+_0x3ca84e+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x537928=_0x875d20;showMessage(_0x537928(0xa2a));try{const _0x4d48b8=writeBatch(db),_0x447805=_0x179f75['data'](),_0x55a5d3=_0x447805[_0x537928(0xd0c)]||{};for(const _0x4d0874 in _0x55a5d3){const _0x15347a=doc(db,_0x537928(0x4cd)+appId+_0x537928(0x3cb)+_0x2563ba+'/lessons',_0x4d0874);_0x4d48b8[_0x537928(0x5d9)](_0x15347a);}const _0x23b817=new Set();for(const _0x47b670 in _0x55a5d3){_0x55a5d3[_0x47b670][_0x537928(0x923)]&&_0x55a5d3[_0x47b670][_0x537928(0x923)]['forEach'](_0x546d5e=>_0x23b817[_0x537928(0x505)](_0x546d5e));}for(const _0x43448d of _0x23b817){await handleDeleteQuiz(_0x43448d,![]);}_0x4d48b8['delete'](_0x421be5),await _0x4d48b8['commit'](),showMessage(_0x537928(0xc9a)+_0x3ca84e+_0x537928(0x3d1)),showBlueprintProjects();}catch(_0x1e4b9f){console['error'](_0x537928(0x8f2),_0x1e4b9f),showMessage(_0x537928(0xb4f));}});}async function openTopicQuizBank(_0x8f03b0){const _0xbde8da=_0x47050f,_0x4a858a=document[_0xbde8da(0x70b)](_0xbde8da(0xbb7)),_0x212bc2=document[_0xbde8da(0x70b)](_0xbde8da(0x9bd)),_0xde09aa=document['getElementById'](_0xbde8da(0x1f1));try{await ensureGlobalQuizzesLoaded();const _0x78c36f=doc(db,'artifacts/'+appId+_0xbde8da(0x5cf),currentBlueprintProjectId),_0x5e1e9e=await getDoc(_0x78c36f);if(!_0x5e1e9e[_0xbde8da(0x7ed)]())return;const _0x236ade=_0x5e1e9e[_0xbde8da(0x54c)](),_0xde332b=_0x236ade[_0xbde8da(0xd0c)][_0x8f03b0];document[_0xbde8da(0x70b)](_0xbde8da(0xd8b))[_0xbde8da(0xc66)]=_0xde332b['subTopic'];const _0x5cbce7=_0xde332b['linkedQuizIds']||[];_0xde09aa[_0xbde8da(0x9cc)]['toggle'](_0xbde8da(0xbce),_0x5cbce7[_0xbde8da(0xdf3)]===0x0),_0xde09aa[_0xbde8da(0x257)]=()=>handleClearAllLinksForTopic(_0x8f03b0);if(_0x5cbce7[_0xbde8da(0xdf3)]===0x0)_0x212bc2['innerHTML']=_0xbde8da(0x431);else{const _0x2f6a8b=allQuizzesGlobal[_0xbde8da(0xc87)](_0x3b4682=>_0x5cbce7[_0xbde8da(0x7f1)](_0x3b4682['id']));_0x212bc2[_0xbde8da(0xb90)]=_0x2f6a8b[_0xbde8da(0x3cc)](_0x20c866=>_0xbde8da(0x903)+_0x20c866['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x20c866[_0xbde8da(0x6d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x20c866['id']+_0xbde8da(0x47b)+_0x20c866[_0xbde8da(0xbd5)][_0xbde8da(0xdf3)]+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x20c866['id']+_0xbde8da(0x584)+_0x20c866['id']+_0xbde8da(0x2f6)+_0x20c866['id']+_0xbde8da(0x672)+_0x20c866['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x20c866['id']+_0xbde8da(0xd29)+_0x20c866['id']+_0xbde8da(0xb6e)+_0x8f03b0+'\x22\x20data-quiz-id=\x22'+_0x20c866['id']+_0xbde8da(0x2df))[_0xbde8da(0x909)]('');}document[_0xbde8da(0x70b)]('add-from-global-bank-btn')[_0xbde8da(0x257)]=()=>{openQuizSelectorForBlueprint(_0x8f03b0);},document['getElementById']('close-topic-bank-btn')[_0xbde8da(0x257)]=()=>_0x4a858a[_0xbde8da(0x9cc)]['add'](_0xbde8da(0xbce)),_0x4a858a['classList']['remove']('hidden');}catch(_0x2b3b32){showMessage(_0x2b3b32[_0xbde8da(0xac4)]);}}async function openQuizSelectorForBlueprint(_0x4409fe){const _0xae7722=_0x47050f,_0x244bea=document[_0xae7722(0x70b)](_0xae7722(0x601)),_0x594c50=document['getElementById'](_0xae7722(0xbb7));_0x594c50[_0xae7722(0x9cc)]['add'](_0xae7722(0xbce)),document[_0xae7722(0x70b)](_0xae7722(0xcbe))?.['remove']();const _0x69631b=document[_0xae7722(0x656)]('button');_0x69631b['id']=_0xae7722(0xcbe),_0x69631b[_0xae7722(0x980)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x69631b['textContent']=_0xae7722(0xa0f),_0x69631b[_0xae7722(0x9b6)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x244bea['classList']['remove'](_0xae7722(0xbce)),renderQuizBankListForMultiSelect(''),document[_0xae7722(0x70b)](_0xae7722(0x488))['style']['display']=_0xae7722(0x9b8),_0x244bea[_0xae7722(0xdde)](_0xae7722(0xe48))[_0xae7722(0xb08)](_0x69631b);const _0x393812=(_0x1f8673=![])=>{const _0x2fb077=_0xae7722;_0x244bea[_0x2fb077(0x9cc)][_0x2fb077(0x505)](_0x2fb077(0xbce)),document['getElementById'](_0x2fb077(0x488))[_0x2fb077(0x8aa)][_0x2fb077(0x6cf)]=_0x2fb077(0xb2b),_0x69631b[_0x2fb077(0x7a8)](),_0x1f8673&&openTopicQuizBank(_0x4409fe);};_0x69631b[_0xae7722(0x257)]=async()=>{const _0x595951=_0xae7722,_0x5f0a2d=Array[_0x595951(0x2d0)](document['querySelectorAll'](_0x595951(0x533)))[_0x595951(0x3cc)](_0x57b7db=>_0x57b7db[_0x595951(0xd95)]);if(_0x5f0a2d['length']===0x0)return;try{const _0x410cba=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x158dfe=(await getDoc(_0x410cba))[_0x595951(0x54c)](),_0x35e0d7=_0x158dfe['topics'][_0x4409fe][_0x595951(0x923)]||[],_0x3a6f2c=[...new Set([..._0x35e0d7,..._0x5f0a2d])];await updateDoc(_0x410cba,{['topics.'+_0x4409fe+_0x595951(0xd96)]:_0x3a6f2c}),showMessage(_0x595951(0x17b)+_0x5f0a2d[_0x595951(0xdf3)]+_0x595951(0xdf9)),_0x393812(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1d1b7a){console['error'](_0x595951(0x39c),_0x1d1b7a);}},document[_0xae7722(0x70b)]('cancel-quiz-bank-btn')[_0xae7722(0x257)]=()=>_0x393812(!![]);}catch(_0x5f08ce){showMessage(_0x5f08ce[_0xae7722(0xac4)]),_0x594c50[_0xae7722(0x9cc)][_0xae7722(0x7a8)]('hidden');}}function handleClearLinkedQuiz(_0x74d5f){const _0x2a7483=_0x47050f;showConfirmation(_0x2a7483(0x4dc),async()=>{const _0x110696=_0x2a7483;try{const _0x31ab49=doc(db,'artifacts/'+appId+_0x110696(0x5cf),currentBlueprintProjectId);await updateDoc(_0x31ab49,{['topics.'+_0x74d5f+_0x110696(0x30c)]:deleteField()}),showMessage(_0x110696(0x2bd)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4487db){console[_0x110696(0x8c2)](_0x110696(0x300),_0x4487db),showMessage(_0x110696(0x462));}});}async function addTopicToProject(){const _0x245f29=_0x47050f,_0x825ecb=prompt(_0x245f29(0xe2d));if(!_0x825ecb||_0x825ecb['trim']()==='')return;const _0x9898b0=prompt(_0x245f29(0xe87),_0x245f29(0xa60)),_0x38d72a=prompt(_0x245f29(0xc62),'หัวข้อหลักใหม่'),_0x4f3e94=_0x245f29(0x60e)+Date['now']()+Math['random']()['toString'](0x24)[_0x245f29(0x8cd)](0x2,0x9),_0x48c92d={'sara':_0x9898b0,'mainTopic':_0x38d72a,'subTopic':_0x825ecb[_0x245f29(0x28f)](),'status':_0x245f29(0x713),'lessonContent':null};try{const _0x521ffb=doc(db,'artifacts/'+appId+_0x245f29(0x5cf),currentBlueprintProjectId);await updateDoc(_0x521ffb,{['topics.'+_0x4f3e94]:_0x48c92d}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x226bca){console[_0x245f29(0x8c2)](_0x245f29(0x892),_0x226bca),showMessage(_0x245f29(0xd5e));}}async function editTopicInProject(_0x18edda){const _0x2d941b=_0x47050f,_0x1a5ea9=document[_0x2d941b(0xdde)](_0x2d941b(0xbc1)+_0x18edda+'\x22]'),_0x400102=_0x1a5ea9[_0x2d941b(0xdde)]('[data-field=\x22subTopic\x22]'),_0x5bf94d=_0x400102['textContent'],_0x5dd6ab=prompt(_0x2d941b(0x51e),_0x5bf94d);if(!_0x5dd6ab||_0x5dd6ab[_0x2d941b(0x28f)]()===''||_0x5dd6ab[_0x2d941b(0x28f)]()===_0x5bf94d)return;try{const _0x1687ad=doc(db,_0x2d941b(0x4cd)+appId+_0x2d941b(0x5cf),currentBlueprintProjectId);await updateDoc(_0x1687ad,{[_0x2d941b(0x8af)+_0x18edda+'.subTopic']:_0x5dd6ab[_0x2d941b(0x28f)]()}),_0x400102[_0x2d941b(0xc66)]=_0x5dd6ab[_0x2d941b(0x28f)](),showMessage(_0x2d941b(0x88e));}catch(_0x2e7e55){console['error']('Error\x20editing\x20topic:',_0x2e7e55),showMessage(_0x2d941b(0x515));}}async function deleteTopicFromProject(_0x6804e5){const _0x2acbc3=_0x47050f;if(!confirm(_0x2acbc3(0xcc2)))return;try{const _0x5b0c2b=doc(db,'artifacts/'+appId+_0x2acbc3(0x5cf),currentBlueprintProjectId);await updateDoc(_0x5b0c2b,{[_0x2acbc3(0x8af)+_0x6804e5]:deleteField()}),document[_0x2acbc3(0xdde)](_0x2acbc3(0xbc1)+_0x6804e5+'\x22]')[_0x2acbc3(0x7a8)](),showMessage(_0x2acbc3(0x788));}catch(_0x2585eb){console[_0x2acbc3(0x8c2)]('Error\x20deleting\x20topic:',_0x2585eb),showMessage(_0x2acbc3(0x6a6));}}async function generateAndSaveLessonForBlueprint(_0x3cad0b,_0x2d83ff,_0x30ce4f){handleGenerateAndShowLesson(_0x2d83ff,_0x30ce4f);const _0x4e799c=setInterval(async()=>{const _0x358ed3=_0x3d0b,_0x21c497=document[_0x358ed3(0x70b)](_0x358ed3(0x2e2)),_0x5bbe67=_0x21c497[_0x358ed3(0x9cc)][_0x358ed3(0x2bc)](_0x358ed3(0xbce));if(_0x5bbe67){clearInterval(_0x4e799c);if(currentApplicationData&&currentApplicationData[_0x358ed3(0xdf3)]>0x0){const _0x4174d5={'point':document[_0x358ed3(0x70b)]('pointContent')['innerHTML'],'memory':document[_0x358ed3(0x70b)](_0x358ed3(0x405))[_0x358ed3(0xb90)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x358ed3(0x70b)]('summaryContent')[_0x358ed3(0xb90)]};try{const _0x46d3ef=doc(db,_0x358ed3(0x4cd)+appId+_0x358ed3(0x5cf),currentBlueprintProjectId),_0x41d189=doc(db,_0x358ed3(0x4cd)+appId+_0x358ed3(0x3cb)+currentBlueprintProjectId+'/lessons',_0x3cad0b),_0x1d7034=writeBatch(db);_0x1d7034[_0x358ed3(0x5c3)](_0x41d189,{'content':_0x4174d5}),_0x1d7034['update'](_0x46d3ef,{[_0x358ed3(0x8af)+_0x3cad0b+_0x358ed3(0xcc4)]:_0x358ed3(0x899)}),await _0x1d7034[_0x358ed3(0xe4e)](),console[_0x358ed3(0x418)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x3cad0b+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x534609){console[_0x358ed3(0x8c2)](_0x358ed3(0x96e),_0x534609);}}}},0x3e8);}function displayHalfMarkResult(_0x3800d1,_0x48e47f){const _0x19ce20=_0x47050f,_0x209856=_0x3800d1>=_0x48e47f/0x2,_0x4906dc=_0x209856?'bg-green-100':_0x19ce20(0xb61),_0x34438c=_0x209856?_0x19ce20(0xc02):_0x19ce20(0x6d5),_0x4636e=_0x209856?_0x19ce20(0x4ca):_0x19ce20(0xccc),_0x1cada0=_0x209856?'ทำคะแนนได้เกินครึ่ง':_0x19ce20(0x698),_0x4201cf=_0x209856?_0x19ce20(0xca6):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x250081='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x4906dc+_0x19ce20(0x740)+_0x34438c+_0x19ce20(0xd5d)+_0x4636e+'\x20mb-2\x22>'+_0x1cada0+_0x19ce20(0xc01)+_0x4201cf+_0x19ce20(0x23a);studentResultArea[_0x19ce20(0xb90)]=_0x250081,studentResultArea[_0x19ce20(0x9cc)][_0x19ce20(0x7a8)](_0x19ce20(0xbce)),studentQuizArea[_0x19ce20(0x9cc)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x209856});}function displayPerfectScoreResult(_0x38637a,_0x47769a){const _0x423a05=_0x47050f,_0x3132f1=_0x38637a===_0x47769a,_0x1f037f=_0x3132f1?_0x423a05(0xd0b):_0x423a05(0xaf4),_0x3cdbb1=_0x3132f1?_0x423a05(0x5e5):_0x423a05(0xc9e),_0x5e7bff=_0x3132f1?_0x423a05(0x812):_0x423a05(0x1a9),_0x377861=_0x3132f1?_0x423a05(0xd99):'ยังไม่เต็มนะ',_0x29e597=_0x3132f1?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x423a05(0x34d);let _0x528019='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1f037f+_0x423a05(0x740)+_0x3cdbb1+_0x423a05(0xd5d)+_0x5e7bff+'\x20mb-2\x22>'+_0x377861+_0x423a05(0xc01)+_0x29e597+_0x423a05(0x23a);studentResultArea['innerHTML']=_0x528019,studentResultArea['classList'][_0x423a05(0x7a8)]('hidden'),studentQuizArea['classList'][_0x423a05(0x505)](_0x423a05(0xbce)),setupResultScreenBackButton({'showRankings':![],'score':_0x38637a,'totalQuestions':_0x47769a});}function renderIndividualComparisonTable(_0x2901c1,_0x55e00c){const _0x50d1df=_0x47050f;_0x2901c1[_0x50d1df(0x846)]((_0x49c692,_0x3b27bd)=>(_0x3b27bd[_0x50d1df(0xd6b)]??-Infinity)-(_0x49c692['tGain']??-Infinity));let _0x3c27cb=_0x50d1df(0x5c8);_0x2901c1[_0x50d1df(0xdf3)]===0x0?_0x3c27cb+=_0x50d1df(0x7d3):_0x2901c1[_0x50d1df(0xc4c)]((_0x55627f,_0x205fd0)=>{const _0x36c821=_0x50d1df;let _0x2e074e='-',_0x1e3f71='';if(_0x55627f[_0x36c821(0x209)]!==null){const _0x8e7a71=_0x55627f['gain']>0x0?_0x36c821(0x3b1):_0x55627f[_0x36c821(0x209)]<0x0?_0x36c821(0x54e):'text-gray-500',_0x4ad3b5=_0x55627f[_0x36c821(0x209)]>0x0?'+':'';_0x2e074e=_0x36c821(0xc7d)+_0x8e7a71+'\x22>'+_0x4ad3b5+_0x55627f[_0x36c821(0x209)]+_0x36c821(0x1ee);if(_0x55627f[_0x36c821(0x209)]>0x0)_0x1e3f71=_0x36c821(0x905);else _0x55627f[_0x36c821(0x209)]<0x0?_0x1e3f71=_0x36c821(0x492):_0x1e3f71=_0x36c821(0x424);}let _0x1cb77a='-';if(_0x55627f[_0x36c821(0xd6b)]!==null){const _0xb5ee24=_0x55627f[_0x36c821(0xd6b)]>0x0?_0x36c821(0x3b1):_0x55627f['tGain']<0x0?'text-red-600':'text-gray-500',_0x2705c9=_0x55627f[_0x36c821(0xd6b)]>0x0?'+':'';_0x1cb77a=_0x36c821(0xc7d)+_0xb5ee24+'\x22>'+_0x2705c9+_0x55627f[_0x36c821(0xd6b)][_0x36c821(0xadc)](0x2)+_0x36c821(0x1ee);}_0x3c27cb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x205fd0+0x1)+_0x36c821(0x18d)+_0x55627f[_0x36c821(0x312)]+_0x36c821(0x2c4)+(_0x55627f['preScore']??'-')+_0x36c821(0x9eb)+(_0x55627f['postScore']??'-')+_0x36c821(0x2c4)+_0x2e074e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x1e3f71+_0x36c821(0x3bd)+(_0x55627f['preTScore']?.[_0x36c821(0xadc)](0x2)??'-')+_0x36c821(0x3b2)+(_0x55627f[_0x36c821(0x412)]?.[_0x36c821(0xadc)](0x2)??'-')+_0x36c821(0x2c4)+_0x1cb77a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3c27cb+=_0x50d1df(0x37a),_0x55e00c[_0x50d1df(0xb90)]=_0x3c27cb;}function handleRenameQuiz(_0x36e90a,_0x536ecf){const _0x28495f=_0x47050f;actionTargetId=_0x36e90a,document[_0x28495f(0x70b)](_0x28495f(0x3c6))[_0x28495f(0xd95)]=_0x536ecf,renameQuizModal[_0x28495f(0x9cc)][_0x28495f(0x7a8)]('hidden');}function setupComparisonModalTabs(){const _0x54adcc=_0x47050f,_0x275aef=document['getElementById']('comparison-overall-tab'),_0x5ef6de=document['getElementById'](_0x54adcc(0xab1)),_0x3419ab=document[_0x54adcc(0x70b)](_0x54adcc(0xe35)),_0x45b02f=document[_0x54adcc(0x70b)]('comparison-individual-content');_0x275aef[_0x54adcc(0x86d)](_0x54adcc(0x9a8),()=>{const _0x3ea933=_0x54adcc;_0x275aef[_0x3ea933(0x9cc)][_0x3ea933(0x505)](_0x3ea933(0x294)),_0x5ef6de['classList'][_0x3ea933(0x7a8)](_0x3ea933(0x294)),_0x3419ab['classList'][_0x3ea933(0x7a8)](_0x3ea933(0xbce)),_0x45b02f[_0x3ea933(0x9cc)]['add'](_0x3ea933(0xbce));}),_0x5ef6de[_0x54adcc(0x86d)]('click',()=>{const _0xc19827=_0x54adcc;_0x5ef6de[_0xc19827(0x9cc)]['add'](_0xc19827(0x294)),_0x275aef[_0xc19827(0x9cc)][_0xc19827(0x7a8)](_0xc19827(0x294)),_0x45b02f['classList'][_0xc19827(0x7a8)](_0xc19827(0xbce)),_0x3419ab[_0xc19827(0x9cc)][_0xc19827(0x505)](_0xc19827(0xbce));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x293990=_0x47050f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5cb91f=doc(db,_0x293990(0x4cd)+appId+_0x293990(0x54b),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5cb91f,_0x369310=>{const _0x434f11=_0x293990;if(!_0x369310[_0x434f11(0x7ed)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x434f11(0xb0f)?showView('project-detail'):showView(_0x434f11(0x2d1));return;}const _0x4ef471=_0x369310[_0x434f11(0x54c)]();_0x4ef471[_0x434f11(0x1ca)]&&(currentQuizData=_0x4ef471['shuffledQuiz']);!currentQuizData&&_0x4ef471[_0x434f11(0x727)]&&((async()=>{const _0x2b1435=_0x434f11;try{const _0x44de71=doc(db,_0x2b1435(0x4cd)+appId+_0x2b1435(0x4fc),_0x4ef471[_0x2b1435(0x727)]),_0x48bd5f=await getDoc(_0x44de71);_0x48bd5f[_0x2b1435(0x7ed)]()&&(currentQuizData={'id':_0x48bd5f['id'],..._0x48bd5f[_0x2b1435(0x54c)]()});}catch(_0x3d319c){console['error'](_0x2b1435(0x8b4),_0x3d319c);}})());switch(_0x4ef471[_0x434f11(0xbd3)]){case _0x434f11(0x673):if(currentMode==='admin'){const _0x51e404=_0x4ef471[_0x434f11(0x2ae)]?Object[_0x434f11(0xde2)](_0x4ef471[_0x434f11(0x2ae)]):[],_0x1f80c3=_0x51e404[_0x434f11(0xc87)](([_0x24c1dd,_0x1ed047])=>_0x1ed047[_0x434f11(0xbd3)]==='active'),_0x29e007=document[_0x434f11(0x70b)](_0x434f11(0xe1d));if(_0x29e007)_0x29e007[_0x434f11(0xc66)]=_0x1f80c3[_0x434f11(0xdf3)];const _0x4c2fa4=document[_0x434f11(0x70b)]('player-list-lobby');_0x4c2fa4&&(_0x4c2fa4[_0x434f11(0xb90)]=_0x1f80c3['map'](([_0x25a4d3,_0x2c9b00])=>_0x434f11(0x994)+_0x25a4d3+_0x434f11(0x729)+_0x25a4d3+_0x434f11(0x5ec))['join'](''));const _0x8d6042=document[_0x434f11(0x70b)]('start-game-btn');_0x8d6042&&(_0x8d6042['disabled']=_0x1f80c3[_0x434f11(0xdf3)]===0x0);}else showView(_0x434f11(0x1e1)),liveGameView[_0x434f11(0xb90)]=_0x434f11(0x31a)+currentStudentName+_0x434f11(0xe0d);break;case _0x434f11(0x9ea):const _0x488876=_0x4ef471[_0x434f11(0x77d)];if(currentQuizData&&currentQuizData[_0x434f11(0xbd5)][_0x488876]){const _0x5055c5=currentQuizData[_0x434f11(0xbd5)][_0x488876],_0x35ad44=_0x4ef471[_0x434f11(0xbae)]||_0x434f11(0x2d9);switch(_0x35ad44){case _0x434f11(0x4cb):currentMode===_0x434f11(0xb0f)?showAdminSummaryView(_0x4ef471,_0x5055c5):showPlayerSummaryView(_0x4ef471,currentStudentName);break;case _0x434f11(0xc97):currentMode===_0x434f11(0xb0f)&&showTop5LeaderboardView(_0x4ef471);break;case _0x434f11(0x2d9):default:if(currentMode===_0x434f11(0xb0f)){const _0x4044e3=writeBatch(db);let _0x13bb8e=![];Object[_0x434f11(0xde2)](_0x4ef471[_0x434f11(0x2ae)])[_0x434f11(0xc4c)](([_0x5f3a59,_0x506b34])=>{const _0x17ffa0=_0x434f11;if(_0x506b34[_0x17ffa0(0xbd3)]===_0x17ffa0(0x294)&&_0x506b34[_0x17ffa0(0x6a2)]&&!_0x506b34[_0x17ffa0(0x8f8)]){_0x13bb8e=!![];const _0x236bb7=_0x506b34['submittedAt'][_0x17ffa0(0x3aa)]()-_0x4ef471[_0x17ffa0(0x912)]['toDate']();let _0x274d57=0x0;if(_0x506b34['lastAnswerCorrect']){const _0x3d8378=0x3e8,_0x39856b=0x1f4,_0x438b92=0x4e20;let _0x27d2fa=_0x236bb7/_0x438b92;if(_0x27d2fa>0x1)_0x27d2fa=0x1;const _0x5f7ef2=Math[_0x17ffa0(0xd55)](_0x27d2fa*_0x39856b);_0x274d57=_0x3d8378-_0x5f7ef2;}const _0x376521=doc(db,_0x17ffa0(0x4cd)+appId+_0x17ffa0(0x54b),currentLiveGameId);_0x4044e3[_0x17ffa0(0xc8e)](_0x376521,{[_0x17ffa0(0xdc2)+_0x5f3a59+'.score']:increment(_0x274d57),[_0x17ffa0(0xdc2)+_0x5f3a59+_0x17ffa0(0x564)]:_0x274d57,[_0x17ffa0(0xdc2)+_0x5f3a59+_0x17ffa0(0x622)]:!![]});}});_0x13bb8e&&_0x4044e3[_0x434f11(0xe4e)]()['catch'](_0x36ee55=>console['error'](_0x434f11(0x284),_0x36ee55));lastRenderedAdminQuestionIndex!==_0x488876&&(showAdminLiveQuestionView(_0x5055c5,_0x488876,currentQuizData[_0x434f11(0xbd5)][_0x434f11(0xdf3)]),lastRenderedAdminQuestionIndex=_0x488876);const _0x231622=_0x4ef471[_0x434f11(0x2ae)]||{},_0x4aedba=Object[_0x434f11(0xb0c)](_0x231622)[_0x434f11(0xc87)](_0x48a144=>_0x48a144[_0x434f11(0xbd3)]===_0x434f11(0x294)),_0x2add32=_0x4aedba['length'],_0x3010e7=_0x4aedba[_0x434f11(0xc87)](_0x4dc58c=>_0x4dc58c['answeredCurrentQuestion']===!![])[_0x434f11(0xdf3)],_0x109b4a=document[_0x434f11(0x70b)](_0x434f11(0x89c));if(_0x109b4a)_0x109b4a[_0x434f11(0xc66)]=_0x3010e7+'/'+_0x2add32;const _0x30645a=document[_0x434f11(0x70b)](_0x434f11(0xdbe));if(_0x30645a){let _0x35e532=Object[_0x434f11(0xde2)](_0x231622)[_0x434f11(0xc87)](([_0x408960,_0xd232c7])=>_0xd232c7['status']==='active')[_0x434f11(0x3cc)](([_0x1a5118,_0x105222])=>{const _0x1e44ae=_0x434f11,_0x18309b=_0x105222[_0x1e44ae(0xa47)]===!![],_0x34a208=_0x18309b?'bg-green-500':_0x1e44ae(0x790),_0x551d54=_0x18309b?_0x1e44ae(0x337):_0x1e44ae(0xdb5);return _0x1e44ae(0xa7e)+_0x34a208+_0x1e44ae(0x542)+_0x551d54+_0x1e44ae(0x685)+_0x1a5118+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x1a5118+_0x1e44ae(0x80d);})[_0x434f11(0x909)]('');_0x30645a[_0x434f11(0xb90)]=_0x35e532||_0x434f11(0x4ee);}_0x2add32>0x0&&_0x3010e7===_0x2add32&&revealAnswerForAdmin(_0x488876,currentQuizData[_0x434f11(0xbd5)][_0x434f11(0xdf3)]);}else{const _0x10756e=_0x4ef471[_0x434f11(0x2ae)][currentStudentName];_0x10756e&&!_0x10756e[_0x434f11(0xa47)]&&showStudentLiveQuestionView(_0x5055c5,_0x488876,currentQuizData[_0x434f11(0xbd5)]['length']);}break;}}break;case _0x434f11(0x824):showPodiumView(_0x4ef471[_0x434f11(0x2ae)],_0x434f11(0x172));break;}});}async function openGlobalActivityModal(){const _0x504a90=_0x47050f;if(allQuizzesGlobal[_0x504a90(0xdf3)]===0x0){const _0x24bbe8=await getDocs(collection(db,_0x504a90(0x4cd)+appId+_0x504a90(0x4fc)));allQuizzesGlobal=_0x24bbe8[_0x504a90(0x26e)]['map'](_0x21847e=>({'id':_0x21847e['id'],..._0x21847e[_0x504a90(0x54c)]()}));}renderGlobalActivityList(''),document['getElementById']('global-activity-modal')['classList']['remove'](_0x504a90(0xbce));}function renderGlobalActivityList(_0x239c98=''){const _0x507270=_0x47050f,_0x240305=document[_0x507270(0x70b)](_0x507270(0x2d3)),_0x5b82a5=_0x239c98[_0x507270(0xcab)]()[_0x507270(0x28f)](),_0x26f1a7=allQuizzesGlobal[_0x507270(0x3cc)](_0x730392=>({..._0x730392,'projectName':allProjects['find'](_0x3cbb9f=>_0x3cbb9f['id']===_0x730392['projectId'])?.[_0x507270(0x73e)]||_0x507270(0xd22)}))[_0x507270(0xc87)](_0x31d322=>(_0x31d322['topic']||'')[_0x507270(0xcab)]()[_0x507270(0x7f1)](_0x5b82a5)||(_0x31d322['projectName']||'')[_0x507270(0xcab)]()['includes'](_0x5b82a5));document[_0x507270(0x70b)](_0x507270(0x2e4))[_0x507270(0xc66)]='('+_0x26f1a7[_0x507270(0xdf3)]+_0x507270(0x825),_0x240305[_0x507270(0xb90)]=_0x26f1a7[_0x507270(0xdf3)]?_0x26f1a7[_0x507270(0x3cc)](_0x47c24d=>_0x507270(0xb78)+(_0x47c24d[_0x507270(0x6d2)]||'(ไม่มีชื่อ)')+_0x507270(0x468)+(_0x47c24d[_0x507270(0xbd5)]?.[_0x507270(0xdf3)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x47c24d[_0x507270(0x73e)]+_0x507270(0xa27)+_0x47c24d['id']+_0x507270(0x303)+_0x47c24d['id']+_0x507270(0x8f0)+_0x47c24d['id']+_0x507270(0x9f3)+_0x47c24d['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x507270(0x909)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x150595){const _0x54b154=_0x47050f;if(!currentLiveGameId||!_0x150595)return;const _0x243c5a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x5185dc={};_0x5185dc['players.'+_0x150595+'.status']='inactive';try{await updateDoc(_0x243c5a,_0x5185dc);}catch(_0x33911b){console[_0x54b154(0x8c2)](_0x54b154(0x57d)+_0x150595+':',_0x33911b),showMessage(_0x54b154(0x2a5));}}async function authenticateUser(){const _0x3b0dcf=_0x47050f;try{typeof __initial_auth_token!==_0x3b0dcf(0x171)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x3653bf){console[_0x3b0dcf(0x8c2)](_0x3b0dcf(0xbfe),_0x3653bf),showMessage(_0x3b0dcf(0xda5));}}function showView(_0x2b5009){const _0x34176c=_0x47050f;adminView[_0x34176c(0x9cc)][_0x34176c(0x505)](_0x34176c(0xbce)),studentView[_0x34176c(0x9cc)][_0x34176c(0x505)]('hidden'),projectDashboardView[_0x34176c(0x9cc)][_0x34176c(0x505)](_0x34176c(0xbce)),projectDetailView[_0x34176c(0x9cc)]['add']('hidden'),quizResultsView['classList'][_0x34176c(0x505)](_0x34176c(0xbce)),liveGameView[_0x34176c(0x9cc)]['add'](_0x34176c(0xbce)),document[_0x34176c(0x70b)](_0x34176c(0xb97))['classList'][_0x34176c(0x505)](_0x34176c(0xbce)),studentInitialView[_0x34176c(0x9cc)][_0x34176c(0x505)](_0x34176c(0xbce)),studentJoinGameView[_0x34176c(0x9cc)][_0x34176c(0x505)]('hidden'),studentNameSelectionView[_0x34176c(0x9cc)][_0x34176c(0x505)](_0x34176c(0xbce)),studentQuizArea[_0x34176c(0x9cc)]['add'](_0x34176c(0xbce)),studentResultArea['classList']['add']('hidden'),studentReadingArea[_0x34176c(0x9cc)][_0x34176c(0x505)](_0x34176c(0xbce));const _0x3f141a=document[_0x34176c(0x70b)]('student-team-selection-view'),_0x4001b8=document[_0x34176c(0x70b)](_0x34176c(0x8a3));if(_0x3f141a)_0x3f141a[_0x34176c(0x9cc)][_0x34176c(0x505)]('hidden');if(_0x4001b8)_0x4001b8[_0x34176c(0x9cc)]['add']('hidden');switch(_0x2b5009){case _0x34176c(0x215):adminView['classList'][_0x34176c(0x7a8)](_0x34176c(0xbce)),projectDashboardView[_0x34176c(0x9cc)][_0x34176c(0x7a8)](_0x34176c(0xbce));break;case _0x34176c(0x79e):adminView[_0x34176c(0x9cc)][_0x34176c(0x7a8)](_0x34176c(0xbce)),projectDetailView['classList']['remove']('hidden');break;case'quiz-results':adminView[_0x34176c(0x9cc)][_0x34176c(0x7a8)](_0x34176c(0xbce)),quizResultsView[_0x34176c(0x9cc)]['remove'](_0x34176c(0xbce));break;case'student':studentView[_0x34176c(0x9cc)][_0x34176c(0x7a8)]('hidden'),studentInitialView[_0x34176c(0x9cc)][_0x34176c(0x7a8)](_0x34176c(0xbce));break;case _0x34176c(0x1e1):liveGameView['classList'][_0x34176c(0x7a8)](_0x34176c(0xbce));break;case'student-team-join':studentView['classList'][_0x34176c(0x7a8)](_0x34176c(0xbce));if(_0x3f141a)_0x3f141a[_0x34176c(0x9cc)]['remove'](_0x34176c(0xbce));break;case _0x34176c(0xc43):studentView[_0x34176c(0x9cc)][_0x34176c(0x7a8)](_0x34176c(0xbce));if(_0x4001b8)_0x4001b8[_0x34176c(0x9cc)]['remove'](_0x34176c(0xbce));break;default:studentView['classList'][_0x34176c(0x7a8)](_0x34176c(0xbce)),studentInitialView['classList'][_0x34176c(0x7a8)](_0x34176c(0xbce));break;}}function showJoinGameView(){const _0x2f8c8e=_0x47050f;studentInitialView[_0x2f8c8e(0x9cc)]['add'](_0x2f8c8e(0xbce)),studentJoinGameView[_0x2f8c8e(0x9cc)][_0x2f8c8e(0x7a8)](_0x2f8c8e(0xbce));}async function handleSaveVisibilitySettings(){const _0x5e1f1f=_0x47050f;if(!currentProjectId)return;const _0x443832=doc(db,_0x5e1f1f(0x4cd)+appId+_0x5e1f1f(0x28e),currentProjectId);try{await updateDoc(_0x443832,{'settings.showInStudentDashboard':document[_0x5e1f1f(0x70b)](_0x5e1f1f(0x7fb))['checked'],'settings.isPasscodeEnabled':document[_0x5e1f1f(0x70b)](_0x5e1f1f(0xb3d))[_0x5e1f1f(0xceb)],'settings.passcode':document[_0x5e1f1f(0x70b)](_0x5e1f1f(0x769))[_0x5e1f1f(0xd95)][_0x5e1f1f(0x28f)]()}),showMessage(_0x5e1f1f(0x572));}catch(_0x4caf73){console[_0x5e1f1f(0x8c2)](_0x5e1f1f(0x928),_0x4caf73),showMessage(_0x5e1f1f(0x507));}}function setupEventListeners(){const _0x2b8b99=_0x47050f,_0x170350=document[_0x2b8b99(0x70b)]('wager-all-in-btn');_0x170350&&_0x170350[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x2d6c51=_0x2b8b99,_0x3b6405=document[_0x2d6c51(0x70b)](_0x2d6c51(0x3a2)),_0x10e99c=document[_0x2d6c51(0x70b)](_0x2d6c51(0x9a1));_0x3b6405&&(_0x3b6405[_0x2d6c51(0xd95)]=_0x3b6405[_0x2d6c51(0xd2c)],_0x10e99c&&(_0x10e99c[_0x2d6c51(0xc66)]=_0x3b6405[_0x2d6c51(0xd95)],_0x10e99c[_0x2d6c51(0x9cc)][_0x2d6c51(0x7a8)](_0x2d6c51(0xc65)),void _0x10e99c['offsetWidth'],_0x10e99c[_0x2d6c51(0x9cc)][_0x2d6c51(0x505)](_0x2d6c51(0xc1f),'transition-transform','scale-125',_0x2d6c51(0x54e)),setTimeout(()=>_0x10e99c['classList']['remove'](_0x2d6c51(0xc65),_0x2d6c51(0x54e)),0xc8)));});document[_0x2b8b99(0x70b)]('cancel-wager-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x432460=_0x2b8b99;document[_0x432460(0x70b)](_0x432460(0x6cb))[_0x432460(0x9cc)][_0x432460(0x505)]('hidden');}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x8b2))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x3f4b45=_0x2b8b99,_0x230ffb=document[_0x3f4b45(0x70b)](_0x3f4b45(0x6cb)),_0x1cb154=document[_0x3f4b45(0x70b)]('selected-answer-index-hidden-wager'),_0x7553fc=document[_0x3f4b45(0x70b)](_0x3f4b45(0x3a2))['value'],_0x3b77a9=_0x1cb154[_0x3f4b45(0x71a)][_0x3f4b45(0x43e)],_0x44d768=JSON[_0x3f4b45(0xcd4)](_0x1cb154[_0x3f4b45(0x71a)][_0x3f4b45(0x9ea)]),_0x27af21=JSON[_0x3f4b45(0xcd4)](_0x1cb154[_0x3f4b45(0x71a)][_0x3f4b45(0xcd6)]),_0x257914=_0x1cb154['dataset'][_0x3f4b45(0x2c2)];_0x230ffb[_0x3f4b45(0x9cc)][_0x3f4b45(0x505)](_0x3f4b45(0xbce)),handleSyncAnswerSubmit(_0x3b77a9,_0x44d768,_0x27af21,_0x257914,![],_0x7553fc);}),document[_0x2b8b99(0x8fc)](_0x2b8b99(0x410))[_0x2b8b99(0xc4c)](_0x18e326=>{const _0x3dcbc5=_0x2b8b99;_0x18e326[_0x3dcbc5(0x86d)](_0x3dcbc5(0xd1c),_0x4580d7=>{const _0x678a25=_0x3dcbc5,_0x2089db=document[_0x678a25(0x70b)]('anon-settings-container');_0x4580d7['target'][_0x678a25(0xd95)]==='anonymous'?_0x2089db['classList'][_0x678a25(0x7a8)](_0x678a25(0xbce)):_0x2089db['classList'][_0x678a25(0x505)](_0x678a25(0xbce));});}),document[_0x2b8b99(0x70b)]('sync-timer-enable-checkbox')['addEventListener'](_0x2b8b99(0xd1c),_0x797ff5=>{const _0x4cdc71=_0x2b8b99;document[_0x4cdc71(0x70b)](_0x4cdc71(0xa86))[_0x4cdc71(0x9cc)][_0x4cdc71(0x1a3)](_0x4cdc71(0xbce),!_0x797ff5[_0x4cdc71(0x1c8)][_0x4cdc71(0xceb)]);});const _0x201e46=document['getElementById'](_0x2b8b99(0xabb)),_0x509037=document['getElementById'](_0x2b8b99(0xbe1));_0x201e46&&_0x509037&&_0x201e46[_0x2b8b99(0x86d)]('click',()=>{const _0x58c904=_0x2b8b99;_0x509037[_0x58c904(0x9cc)][_0x58c904(0x505)]('hidden'),_0x509037[_0x58c904(0x71a)]['currentMode']='';});const _0x446985=document[_0x2b8b99(0x70b)](_0x2b8b99(0x929));_0x446985&&(_0x446985[_0x2b8b99(0x86d)](_0x2b8b99(0x5ad),wakeUpScreen),_0x446985[_0x2b8b99(0x86d)](_0x2b8b99(0x68e),wakeUpScreen));document[_0x2b8b99(0x70b)](_0x2b8b99(0x55c))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),async()=>{const _0x12a9b6=_0x2b8b99;if(!currentBlueprintProjectId)return;const _0x33b248=document[_0x12a9b6(0x70b)](_0x12a9b6(0x8d0))[_0x12a9b6(0xd95)][_0x12a9b6(0x28f)](),_0x5c5c5b=doc(db,_0x12a9b6(0x4cd)+appId+_0x12a9b6(0x5cf),currentBlueprintProjectId);try{await updateDoc(_0x5c5c5b,{'referenceFileUrl':_0x33b248}),showMessage(_0x12a9b6(0xa4a));}catch(_0x28d0a1){console[_0x12a9b6(0x8c2)](_0x12a9b6(0xce6),_0x28d0a1),showMessage(_0x12a9b6(0x507));}}),document['getElementById'](_0x2b8b99(0x9ca))['addEventListener'](_0x2b8b99(0x9a8),handleAddParallelShortcutTab),document['getElementById']('parallel-test-input-area')[_0x2b8b99(0x86d)]('click',_0x38f429=>{const _0x5026b3=_0x2b8b99;_0x38f429['target'][_0x5026b3(0x252)](_0x5026b3(0xe1a))&&(activeParallelShortcutTabId=_0x5026b3(0xb3f),renderAdditionalParallelShortcutsModal(),document[_0x5026b3(0x70b)](_0x5026b3(0x5a0))['classList'][_0x5026b3(0x7a8)](_0x5026b3(0xbce)));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xe6a))[_0x2b8b99(0x86d)]('click',()=>{const _0x110597=_0x2b8b99;document['getElementById'](_0x110597(0x5a0))['classList']['add'](_0x110597(0xbce));}),document[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x3d5e49=>{const _0x192c28=_0x2b8b99;!_0x3d5e49[_0x192c28(0x1c8)][_0x192c28(0x252)](_0x192c28(0xb52))&&document[_0x192c28(0x8fc)](_0x192c28(0xc8f))[_0x192c28(0xc4c)](_0x511691=>_0x511691[_0x192c28(0x9cc)][_0x192c28(0x505)](_0x192c28(0xbce)));}),document['getElementById']('add-file-shortcut-tab-btn')['addEventListener'](_0x2b8b99(0x9a8),handleAddFileShortcutTab),document[_0x2b8b99(0x70b)](_0x2b8b99(0x5f9))[_0x2b8b99(0x86d)]('click',_0x51c0ed=>{const _0x3218f2=_0x2b8b99;_0x51c0ed[_0x3218f2(0x1c8)][_0x3218f2(0x252)](_0x3218f2(0x508))&&(activeFileShortcutTabId=_0x3218f2(0xb3f),renderAdditionalFileShortcutsModal(),document[_0x3218f2(0x70b)]('additional-file-shortcuts-modal')[_0x3218f2(0x9cc)]['remove'](_0x3218f2(0xbce)));}),document['getElementById'](_0x2b8b99(0x2b8))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0xa2ec27=_0x2b8b99;document[_0xa2ec27(0x70b)](_0xa2ec27(0xdfe))[_0xa2ec27(0x9cc)][_0xa2ec27(0x505)](_0xa2ec27(0xbce));}),document[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x238410=>{const _0x5f2c1a=_0x2b8b99;!_0x238410[_0x5f2c1a(0x1c8)][_0x5f2c1a(0x252)](_0x5f2c1a(0xa16))&&document[_0x5f2c1a(0x8fc)](_0x5f2c1a(0x523))[_0x5f2c1a(0xc4c)](_0x3b07cd=>_0x3b07cd[_0x5f2c1a(0x9cc)][_0x5f2c1a(0x505)](_0x5f2c1a(0xbce)));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x602))[_0x2b8b99(0x86d)]('click',handleAddShortcutTab),document[_0x2b8b99(0x70b)](_0x2b8b99(0xae2))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x1347a5=>{const _0x3e4603=_0x2b8b99,_0x494524=_0x1347a5[_0x3e4603(0x1c8)][_0x3e4603(0x252)](_0x3e4603(0x7e3)),_0x34d85a=_0x1347a5['target'][_0x3e4603(0x252)](_0x3e4603(0xc70)),_0x5deadf=_0x1347a5[_0x3e4603(0x1c8)][_0x3e4603(0x252)](_0x3e4603(0x3e7));if(_0x34d85a)openParallelTestShortcutEditor(_0x34d85a['dataset']['id']);else{if(_0x5deadf){const _0x3e018c=_0x5deadf[_0x3e4603(0x71a)]['id'];showConfirmation(_0x3e4603(0xb8a),async()=>{const _0x29d74b=_0x3e4603,_0x67aaf0=parallelTestShortcuts[_0x29d74b(0xc87)](_0x3f865a=>_0x3f865a['id']!==_0x3e018c),_0x32d0a8=doc(db,_0x29d74b(0x792),_0x29d74b(0x3bf));await setDoc(_0x32d0a8,{'shortcuts':_0x67aaf0},{'merge':!![]});});}else _0x494524&&handleParallelTestShortcutClick(_0x494524[_0x3e4603(0x71a)]['id']);}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x906))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x2b8b99(0x81e))['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x2f694b=_0x2b8b99;document[_0x2f694b(0x70b)]('parallel-shortcut-editor-modal')[_0x2f694b(0x9cc)][_0x2f694b(0x505)]('hidden');}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x82b))[_0x2b8b99(0x86d)]('click',saveParallelTestShortcutChanges),document[_0x2b8b99(0x70b)](_0x2b8b99(0xa36))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x3705ce=>{const _0x54e479=_0x2b8b99;_0x3705ce[_0x54e479(0x1c8)][_0x54e479(0x252)](_0x54e479(0xe1a))&&document[_0x54e479(0x70b)](_0x54e479(0x5a0))[_0x54e479(0x9cc)]['remove']('hidden');}),document['getElementById'](_0x2b8b99(0xe6a))[_0x2b8b99(0x86d)]('click',()=>{const _0x3426b8=_0x2b8b99;document[_0x3426b8(0x70b)](_0x3426b8(0x5a0))[_0x3426b8(0x9cc)][_0x3426b8(0x505)](_0x3426b8(0xbce));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xbd2))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x11009f=>{const _0x20ebda=_0x2b8b99,_0x3957eb=document[_0x20ebda(0x70b)](_0x20ebda(0x5a0)),_0x4b6dc5=_0x11009f[_0x20ebda(0x1c8)]['closest'](_0x20ebda(0x9b4)),_0x10a799=_0x11009f['target']['closest']('.edit-hidden-parallel-shortcut-btn'),_0x34ab93=_0x11009f['target'][_0x20ebda(0x252)]('.delete-hidden-parallel-shortcut-btn');if(_0x4b6dc5)_0x3957eb[_0x20ebda(0x9cc)][_0x20ebda(0x505)](_0x20ebda(0xbce)),handleParallelTestShortcutClick(_0x4b6dc5[_0x20ebda(0x71a)]['id']);else{if(_0x10a799)_0x3957eb[_0x20ebda(0x9cc)][_0x20ebda(0x505)](_0x20ebda(0xbce)),openParallelTestShortcutEditor(_0x10a799[_0x20ebda(0x71a)]['id']);else{if(_0x34ab93){const _0x2555f7=_0x34ab93[_0x20ebda(0x71a)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x30c16e=_0x20ebda,_0x14f6c4=parallelTestShortcuts[_0x30c16e(0xc87)](_0x70be8f=>_0x70be8f['id']!==_0x2555f7),_0x196e93=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x196e93,{'shortcuts':_0x14f6c4},{'merge':!![]});});}}}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xbb0))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x3d498c=>{const _0x5136a6=_0x2b8b99,_0x534f7b=_0x3d498c[_0x5136a6(0x1c8)][_0x5136a6(0x252)](_0x5136a6(0xa91)),_0x1f50ec=_0x3d498c[_0x5136a6(0x1c8)][_0x5136a6(0x252)](_0x5136a6(0x3d5)),_0x290717=_0x3d498c['target'][_0x5136a6(0x252)]('.delete-file-shortcut-btn');if(_0x1f50ec)openFileShortcutEditor(_0x1f50ec[_0x5136a6(0x71a)]['id']);else{if(_0x290717){const _0xb95dfe=_0x290717[_0x5136a6(0x71a)]['id'];showConfirmation(_0x5136a6(0xb8a),async()=>{const _0x22f201=_0x5136a6,_0x4197f1=fileShortcuts[_0x22f201(0xc87)](_0x3ea1a4=>_0x3ea1a4['id']!==_0xb95dfe),_0xe2af04=doc(db,_0x22f201(0x792),'fileShortcutsConfig');await setDoc(_0xe2af04,{'shortcuts':_0x4197f1},{'merge':!![]});});}else _0x534f7b&&handleFileShortcutClick(_0x534f7b[_0x5136a6(0x71a)]['id']);}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xa0a))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>openFileShortcutEditor(null)),document[_0x2b8b99(0x70b)]('cancel-file-shortcut-edit-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x38c065=_0x2b8b99;document['getElementById']('file-shortcut-editor-modal')['classList'][_0x38c065(0x505)](_0x38c065(0xbce));}),document['getElementById'](_0x2b8b99(0x450))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),saveFileShortcutChanges),document[_0x2b8b99(0x70b)](_0x2b8b99(0x5f9))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x4503b2=>{const _0x174e22=_0x2b8b99;_0x4503b2[_0x174e22(0x1c8)][_0x174e22(0x252)](_0x174e22(0x508))&&document['getElementById']('additional-file-shortcuts-modal')[_0x174e22(0x9cc)]['remove'](_0x174e22(0xbce));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x2b8))['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x2abc11=_0x2b8b99;document[_0x2abc11(0x70b)]('additional-file-shortcuts-modal')['classList'][_0x2abc11(0x505)](_0x2abc11(0xbce));}),document[_0x2b8b99(0x70b)]('additional-file-shortcuts-list')[_0x2b8b99(0x86d)]('click',_0x267e27=>{const _0x523cb8=_0x2b8b99,_0x9137e2=document[_0x523cb8(0x70b)](_0x523cb8(0xdfe)),_0x374689=_0x267e27[_0x523cb8(0x1c8)][_0x523cb8(0x252)](_0x523cb8(0xad1)),_0x3f6214=_0x267e27[_0x523cb8(0x1c8)][_0x523cb8(0x252)](_0x523cb8(0xbfd)),_0x45cdad=_0x267e27[_0x523cb8(0x1c8)][_0x523cb8(0x252)](_0x523cb8(0x4d1));if(_0x374689)_0x9137e2['classList'][_0x523cb8(0x505)]('hidden'),handleFileShortcutClick(_0x374689[_0x523cb8(0x71a)]['id']);else{if(_0x3f6214)_0x9137e2[_0x523cb8(0x9cc)][_0x523cb8(0x505)](_0x523cb8(0xbce)),openFileShortcutEditor(_0x3f6214[_0x523cb8(0x71a)]['id']);else{if(_0x45cdad){const _0x53a082=_0x45cdad[_0x523cb8(0x71a)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x2b3b5f=_0x523cb8,_0x1f7e61=fileShortcuts['filter'](_0x4ef5e1=>_0x4ef5e1['id']!==_0x53a082),_0x5b95c6=doc(db,_0x2b3b5f(0x792),_0x2b3b5f(0xe7d));await setDoc(_0x5b95c6,{'shortcuts':_0x1f7e61},{'merge':!![]});});}}}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x63f))['addEventListener']('click',_0x13943f=>{const _0x14f15f=_0x2b8b99;_0x13943f[_0x14f15f(0x1c8)][_0x14f15f(0x252)](_0x14f15f(0x35b))&&(activeShortcutTabId=_0x14f15f(0xb3f),renderAdditionalShortcutsModal(),document[_0x14f15f(0x70b)]('additional-shortcuts-modal')['classList'][_0x14f15f(0x7a8)](_0x14f15f(0xbce)));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x1ec))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x51b3ff=_0x2b8b99;document['getElementById'](_0x51b3ff(0x9ac))[_0x51b3ff(0x9cc)]['add'](_0x51b3ff(0xbce));}),document[_0x2b8b99(0x70b)]('additional-shortcuts-list')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x235c44=>{const _0x1a5c03=_0x2b8b99,_0x5a25bb=_0x235c44[_0x1a5c03(0x1c8)][_0x1a5c03(0x252)]('.use-hidden-shortcut-btn'),_0x4a72eb=_0x235c44['target'][_0x1a5c03(0x252)](_0x1a5c03(0x562)),_0x33effb=_0x235c44[_0x1a5c03(0x1c8)]['closest'](_0x1a5c03(0xbef)),_0x2469b0=document[_0x1a5c03(0x70b)](_0x1a5c03(0x9ac));if(_0x5a25bb)_0x2469b0[_0x1a5c03(0x9cc)]['add'](_0x1a5c03(0xbce)),handleShortcutClick(_0x5a25bb[_0x1a5c03(0x71a)]['id']);else{if(_0x4a72eb)_0x2469b0[_0x1a5c03(0x9cc)]['add'](_0x1a5c03(0xbce)),openShortcutEditor(_0x4a72eb['dataset']['id']);else{if(_0x33effb){const _0x1cec7f=_0x33effb[_0x1a5c03(0x71a)]['id'],_0x4211c0=blueprintShortcuts[_0x1a5c03(0x60d)](_0x383f8a=>_0x383f8a['id']===_0x1cec7f)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x4211c0+'\x22?',async()=>{const _0x15bb6e=_0x1a5c03,_0x1d776d=blueprintShortcuts[_0x15bb6e(0xc87)](_0x5f15df=>_0x5f15df['id']!==_0x1cec7f);try{const _0xb3a847=doc(db,_0x15bb6e(0x792),_0x15bb6e(0x353));await setDoc(_0xb3a847,{'blueprintShortcuts':_0x1d776d},{'merge':!![]});}catch(_0x49ecf2){console[_0x15bb6e(0x8c2)](_0x15bb6e(0x98b),_0x49ecf2);}});}}}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xd26))[_0x2b8b99(0x86d)]('click',_0x32662e=>{const _0x11ec74=_0x2b8b99,_0x1741b1=_0x32662e[_0x11ec74(0x1c8)]['closest']('.shortcut-btn'),_0x161c85=_0x32662e['target'][_0x11ec74(0x252)](_0x11ec74(0x93a)),_0xb56ce0=_0x32662e[_0x11ec74(0x1c8)]['closest'](_0x11ec74(0x595));if(_0x161c85)openShortcutEditor(_0x161c85[_0x11ec74(0x71a)]['id']);else{if(_0xb56ce0){const _0x137490=_0xb56ce0[_0x11ec74(0x71a)]['id'],_0x433631=blueprintShortcuts['find'](_0xf99b21=>_0xf99b21['id']===_0x137490)?.[_0x11ec74(0x312)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x433631+'\x22?',async()=>{const _0x5970d8=_0x11ec74,_0x44b65b=blueprintShortcuts[_0x5970d8(0xc87)](_0xc12091=>_0xc12091['id']!==_0x137490);try{const _0x55b51a=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x55b51a,{'blueprintShortcuts':_0x44b65b},{'merge':!![]});}catch(_0xf91269){console[_0x5970d8(0x8c2)](_0x5970d8(0x98b),_0xf91269);}});}else _0x1741b1&&handleShortcutClick(_0x1741b1[_0x11ec74(0x71a)]['id']);}}),document[_0x2b8b99(0x70b)]('add-shortcut-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>openShortcutEditor(null)),document['getElementById'](_0x2b8b99(0x9f9))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x1dcc59=_0x2b8b99;document['getElementById'](_0x1dcc59(0x8cb))['classList'][_0x1dcc59(0x505)](_0x1dcc59(0xbce));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xa3a))['addEventListener'](_0x2b8b99(0x9a8),saveShortcutChanges),document['getElementById'](_0x2b8b99(0x44b))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),async()=>{const _0x344011=_0x2b8b99,_0x16859c=document[_0x344011(0x70b)](_0x344011(0x7c8)),_0x41afcd=document['getElementById'](_0x344011(0x9db));_0x16859c[_0x344011(0x19f)][_0x344011(0xdf3)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x16859c['files'][0x0],_0x41afcd[_0x344011(0x19f)][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x2b8b99(0x70b)]('topic-quiz-bank-modal')[_0x2b8b99(0x86d)]('click',async _0x497bad=>{const _0x334496=_0x2b8b99,_0x6f2c1d=document['getElementById'](_0x334496(0xbb7)),_0x472071=_0x497bad['target'][_0x334496(0x252)](_0x334496(0xd93)),_0x509c31=_0x497bad[_0x334496(0x1c8)]['closest'](_0x334496(0x260)),_0x64f447=_0x497bad['target'][_0x334496(0x252)](_0x334496(0xc6e)),_0x3df6f9=_0x497bad[_0x334496(0x1c8)][_0x334496(0x252)](_0x334496(0x8e7)),_0x347807=_0x497bad[_0x334496(0x1c8)]['closest'](_0x334496(0x2aa)),_0x5066d2=_0x497bad[_0x334496(0x1c8)][_0x334496(0x252)]('.bp-game-btn');if(_0x472071){cameFromBlueprint=!![];const _0x2d53a1=_0x472071[_0x334496(0x71a)][_0x334496(0x727)];showQuizDetailView(_0x2d53a1),_0x6f2c1d['classList'][_0x334496(0x505)]('hidden');}else{if(_0x509c31){const _0x1bbe43=_0x509c31[_0x334496(0x71a)][_0x334496(0x331)],_0x553a66=_0x509c31[_0x334496(0x71a)][_0x334496(0x727)],_0x49f806=allQuizzesGlobal[_0x334496(0x60d)](_0x299cb3=>_0x299cb3['id']===_0x553a66),_0x1d2698=_0x49f806?_0x49f806[_0x334496(0x6d2)]:'รายการนี้';showConfirmation(_0x334496(0xa7a)+_0x1d2698+_0x334496(0x411),async()=>{const _0x42a58b=_0x334496;try{const _0x8b640d=doc(db,_0x42a58b(0x4cd)+appId+_0x42a58b(0x5cf),currentBlueprintProjectId);await updateDoc(_0x8b640d,{['topics.'+_0x1bbe43+'.linkedQuizIds']:arrayRemove(_0x553a66)}),showMessage(_0x42a58b(0xca9)),openTopicQuizBank(_0x1bbe43),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x373295){console[_0x42a58b(0x8c2)](_0x42a58b(0x8d5),_0x373295),showMessage(_0x42a58b(0xe7a));}});}else{if(_0x64f447){cameFromBlueprint=!![];const _0x39568a=_0x64f447[_0x334496(0x71a)]['quizId'],_0x5f421d=allQuizzesGlobal['find'](_0x2fdc5b=>_0x2fdc5b['id']===_0x39568a);_0x5f421d&&(startPresentation(_0x5f421d),_0x6f2c1d['classList'][_0x334496(0x505)](_0x334496(0xbce)));}else{if(_0x3df6f9){cameFromBlueprint=!![];const _0x1e78fd=_0x3df6f9[_0x334496(0x71a)][_0x334496(0x727)],_0x942618=allQuizzesGlobal[_0x334496(0x60d)](_0x5b2b14=>_0x5b2b14['id']===_0x1e78fd);_0x942618&&(currentQuizData=_0x942618,startAdminTest(),_0x6f2c1d[_0x334496(0x9cc)][_0x334496(0x505)](_0x334496(0xbce)));}else{if(_0x347807)cameFromBlueprint=!![],handleStartLiveRace(_0x347807['dataset'][_0x334496(0x727)]),_0x6f2c1d['classList'][_0x334496(0x505)](_0x334496(0xbce));else{if(_0x5066d2){cameFromBlueprint=!![];const _0x339ff3=_0x5066d2[_0x334496(0x71a)][_0x334496(0x727)],_0x45b00d=_0x5066d2['dataset'][_0x334496(0xa43)],_0x4c073f=allQuizzesGlobal[_0x334496(0x60d)](_0xe4f9f3=>_0xe4f9f3['id']===_0x339ff3);_0x4c073f&&(showGameStartConfirmationModal(_0x339ff3,_0x45b00d,_0x4c073f[_0x334496(0x6d2)]),_0x6f2c1d[_0x334496(0x9cc)]['add'](_0x334496(0xbce)));}}}}}}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x915))[_0x2b8b99(0x86d)]('click',()=>{const _0x508d23=_0x2b8b99;document['getElementById'](_0x508d23(0x67d))[_0x508d23(0x9cc)]['remove'](_0x508d23(0xbce)),document[_0x508d23(0x70b)]('manual-bp-project-name')['value']='',document[_0x508d23(0x70b)](_0x508d23(0xc81))[_0x508d23(0xd95)]='',document[_0x508d23(0x70b)](_0x508d23(0x7cc))[_0x508d23(0xd95)]='';}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xb7d))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x244567=_0x2b8b99;document['getElementById'](_0x244567(0x67d))['classList'][_0x244567(0x505)]('hidden');}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xbc9))['addEventListener'](_0x2b8b99(0x9a8),handleManualBlueprintSave),document[_0x2b8b99(0x70b)](_0x2b8b99(0x3c2))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>document[_0x2b8b99(0x70b)](_0x2b8b99(0x995))['classList'][_0x2b8b99(0x505)]('hidden')),document[_0x2b8b99(0x70b)]('save-bp-settings-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleSaveBlueprintPageSettings),document[_0x2b8b99(0x70b)](_0x2b8b99(0x62e))['addEventListener'](_0x2b8b99(0x9a8),openBlueprintQuizSettings),document[_0x2b8b99(0x70b)](_0x2b8b99(0x1f4))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),saveBlueprintProject),document[_0x2b8b99(0x70b)](_0x2b8b99(0x702))['addEventListener'](_0x2b8b99(0x9a8),showBlueprintProjects),document[_0x2b8b99(0x70b)]('cancel-blueprint-projects-btn')[_0x2b8b99(0x86d)]('click',()=>{const _0x4879e7=_0x2b8b99;document['getElementById'](_0x4879e7(0x9d6))['classList'][_0x4879e7(0x505)](_0x4879e7(0xbce));}),document[_0x2b8b99(0x70b)]('blueprint-project-list')['addEventListener'](_0x2b8b99(0x9a8),_0x1aba81=>{const _0x2509e5=_0x2b8b99,_0x294610=_0x1aba81[_0x2509e5(0x1c8)][_0x2509e5(0x252)](_0x2509e5(0x7e7)),_0x33fe7=_0x1aba81[_0x2509e5(0x1c8)]['closest'](_0x2509e5(0x950));if(_0x294610)displayBlueprintProjectManager(_0x294610[_0x2509e5(0x71a)]['id']);else _0x33fe7&&handleDeepDeleteBlueprintProject(_0x33fe7[_0x2509e5(0x71a)]['id']);}),document['getElementById'](_0x2b8b99(0xbcd))[_0x2b8b99(0x86d)]('click',()=>{const _0x4481c0=_0x2b8b99;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x4481c0(0xb97))[_0x4481c0(0x9cc)][_0x4481c0(0x505)]('hidden'),showView(_0x4481c0(0x215));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x2c3))['addEventListener'](_0x2b8b99(0x9a8),addTopicToProject),document['getElementById']('bp-topic-list-container')['addEventListener']('click',async _0x3180de=>{const _0x5d62fd=_0x2b8b99,_0x385eb8=_0x3180de['target'][_0x5d62fd(0x252)](_0x5d62fd(0xad7));if(!_0x385eb8)return;const _0x29b0dc=_0x385eb8[_0x5d62fd(0x71a)][_0x5d62fd(0x331)],_0x1c636d=_0x3180de[_0x5d62fd(0x1c8)][_0x5d62fd(0x252)](_0x5d62fd(0x1d7)),_0x42896e=_0x3180de['target']['closest'](_0x5d62fd(0x6ff)),_0x4bd7ea=_0x3180de[_0x5d62fd(0x1c8)]['closest']('.bp-create-topic-quiz-btn'),_0x37f295=_0x3180de[_0x5d62fd(0x1c8)][_0x5d62fd(0x252)](_0x5d62fd(0xacf)),_0x553d35=_0x3180de[_0x5d62fd(0x1c8)]['closest'](_0x5d62fd(0x804)),_0x261539=_0x3180de[_0x5d62fd(0x1c8)][_0x5d62fd(0x252)](_0x5d62fd(0x8c0)),_0x325170=_0x3180de[_0x5d62fd(0x1c8)][_0x5d62fd(0x252)]('.bp-edit-topic-btn'),_0x41ec4a=_0x3180de[_0x5d62fd(0x1c8)][_0x5d62fd(0x252)](_0x5d62fd(0x996)),_0x59f21b=_0x462b24=>{const _0x2b2de6=_0x5d62fd,_0x3ce99f=_0x462b24[_0x2b2de6(0xdde)](_0x2b2de6(0xcef))[_0x2b2de6(0xc66)][_0x2b2de6(0x28f)](),_0x4dd4ce=_0x462b24[_0x2b2de6(0x252)](_0x2b2de6(0x752))['previousElementSibling'],_0x515cc9=_0x4dd4ce?_0x4dd4ce['textContent'][_0x2b2de6(0x28f)]():'';return _0x515cc9+':\x20'+_0x3ce99f;};if(_0x37f295)openTopicQuizBank(_0x29b0dc);else{if(_0x1c636d){const _0x455ee9=_0x59f21b(_0x385eb8);selectProjectAndGenerateBlueprintQuiz(_0x455ee9,null,_0x29b0dc,!![]);}else{if(_0x42896e){const _0x5997f3=_0x59f21b(_0x385eb8);try{const _0x4f3f32=doc(db,_0x5d62fd(0x4cd)+appId+_0x5d62fd(0x3cb)+currentBlueprintProjectId+'/lessons',_0x29b0dc),_0x9a1449=await getDoc(_0x4f3f32);if(_0x9a1449[_0x5d62fd(0x7ed)]()){const _0x367fd5=_0x9a1449[_0x5d62fd(0x54c)]()[_0x5d62fd(0xe6d)],_0x4c8796=document['createElement'](_0x5d62fd(0x614)),_0x39f729=_0x3d5b63=>{const _0x48518d=_0x5d62fd;if(!_0x3d5b63)return'';return _0x4c8796[_0x48518d(0xb90)]=_0x3d5b63,_0x4c8796[_0x48518d(0xc66)]||_0x4c8796['innerText']||'';},_0x1aca63=(_0x39f729(_0x367fd5[_0x5d62fd(0xa65)])+'\x20'+_0x39f729(_0x367fd5[_0x5d62fd(0x7cf)])+'\x20'+_0x39f729(_0x367fd5[_0x5d62fd(0x339)]))[_0x5d62fd(0x28f)]();selectProjectAndGenerateBlueprintQuiz(_0x5997f3,_0x1aca63,_0x29b0dc,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x42fdac){console['error'](_0x5d62fd(0xb0e),_0x42fdac),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x4bd7ea){const _0x520936=_0x59f21b(_0x385eb8);selectProjectAndGenerateBlueprintQuiz(_0x520936,null,_0x29b0dc,![]);}else{if(_0x553d35){const _0x2c1fc3=doc(db,_0x5d62fd(0x4cd)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0xf4c5=await getDoc(_0x2c1fc3);if(_0xf4c5[_0x5d62fd(0x7ed)]()){const _0x4dc778=_0xf4c5['data'](),_0x2deff8=_0x4dc778[_0x5d62fd(0xd0c)][_0x29b0dc];if(_0x2deff8&&_0x2deff8['status']===_0x5d62fd(0x899))try{const _0x38b25b=doc(db,_0x5d62fd(0x4cd)+appId+_0x5d62fd(0x3cb)+currentBlueprintProjectId+_0x5d62fd(0x733),_0x29b0dc),_0x398484=await getDoc(_0x38b25b);if(_0x398484[_0x5d62fd(0x7ed)]()){const _0x2b1ce9=_0x398484[_0x5d62fd(0x54c)]()['content'];document[_0x5d62fd(0x70b)](_0x5d62fd(0x218))['textContent']=_0x5d62fd(0xe69)+_0x59f21b(_0x385eb8),document[_0x5d62fd(0x70b)]('pointContent')[_0x5d62fd(0xb90)]=_0x2b1ce9[_0x5d62fd(0xa65)],document[_0x5d62fd(0x70b)](_0x5d62fd(0x405))[_0x5d62fd(0xb90)]=_0x2b1ce9['memory'],document[_0x5d62fd(0x70b)](_0x5d62fd(0x217))[_0x5d62fd(0xb90)]=_0x2b1ce9[_0x5d62fd(0x339)];const _0x446d99=document[_0x5d62fd(0x70b)]('applicationContent');_0x2b1ce9[_0x5d62fd(0x657)]?(currentApplicationData=_0x2b1ce9[_0x5d62fd(0x657)],_0x446d99[_0x5d62fd(0xb90)]=currentApplicationData['map']((_0xb199a9,_0x3fdc73)=>_0x5d62fd(0x1b3)+(_0x3fdc73+0x1)+'.\x20'+marked[_0x5d62fd(0x8f1)](_0xb199a9[_0x5d62fd(0x9ea)])+_0x5d62fd(0x51d)+_0x3fdc73+_0x5d62fd(0x415)+_0xb199a9['options'][_0x5d62fd(0x3cc)]((_0x13fbd1,_0x4b0ace)=>_0x5d62fd(0x4e4)+_0x3fdc73+',\x20'+_0x4b0ace+_0x5d62fd(0x2d5)+String[_0x5d62fd(0x616)](0x61+_0x4b0ace)+'.\x20'+marked[_0x5d62fd(0x8f1)](_0x13fbd1)+'</button>')[_0x5d62fd(0x909)]('')+_0x5d62fd(0xafb))['join']('')):(currentApplicationData=[],_0x446d99[_0x5d62fd(0xb90)]=_0x2b1ce9[_0x5d62fd(0x604)]||_0x2b1ce9[_0x5d62fd(0x17a)]),document[_0x5d62fd(0x70b)]('lesson-loader')['classList'][_0x5d62fd(0x505)](_0x5d62fd(0xbce)),document[_0x5d62fd(0x70b)](_0x5d62fd(0x639))[_0x5d62fd(0x9cc)]['remove'](_0x5d62fd(0xbce)),document[_0x5d62fd(0x70b)](_0x5d62fd(0x2e2))[_0x5d62fd(0x9cc)][_0x5d62fd(0x7a8)](_0x5d62fd(0xbce)),window['MathJax']&&MathJax['typesetPromise']([document[_0x5d62fd(0x70b)](_0x5d62fd(0xa1a))]);}else showMessage(_0x5d62fd(0xd4a));}catch(_0xa0b27b){console[_0x5d62fd(0x8c2)](_0x5d62fd(0xe27),_0xa0b27b),showMessage(_0x5d62fd(0xbf3));}else showMessage(_0x5d62fd(0x9b2));}}else{if(_0x261539){const _0x3231db=_0x59f21b(_0x385eb8),_0x161c6d=doc(db,'artifacts/'+appId+_0x5d62fd(0x5cf),currentBlueprintProjectId),_0x16eea3=await getDoc(_0x161c6d);if(_0x16eea3['exists']()){const _0x2f54d0=_0x16eea3[_0x5d62fd(0x54c)]();generateAndSaveLessonForBlueprint(_0x29b0dc,_0x3231db,_0x2f54d0[_0x5d62fd(0xc3b)]);}}else{if(_0x325170)editTopicInProject(_0x29b0dc);else _0x41ec4a&&deleteTopicFromProject(_0x29b0dc);}}}}}}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xd23))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleFixLessonLatex),document[_0x2b8b99(0x70b)](_0x2b8b99(0x48a))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleExportLessonToPDF),document[_0x2b8b99(0x70b)](_0x2b8b99(0x8ca))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x785f74=_0x2b8b99;document['getElementById'](_0x785f74(0x2e2))[_0x785f74(0x9cc)]['add']('hidden');});const _0x5dad35=document[_0x2b8b99(0x70b)](_0x2b8b99(0xb81)),_0x13566a=document[_0x2b8b99(0x70b)]('bulk-confidence-mode-container');_0x5dad35[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),()=>{const _0x1001d1=_0x2b8b99;_0x13566a[_0x1001d1(0x9cc)][_0x1001d1(0x1a3)]('hidden',!_0x5dad35[_0x1001d1(0xceb)]);});const _0x51df56=document[_0x2b8b99(0x70b)](_0x2b8b99(0x7dd)),_0x420d35=document['getElementById'](_0x2b8b99(0xb30));_0x51df56[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),()=>{const _0x23d581=_0x2b8b99;_0x420d35[_0x23d581(0x9cc)]['toggle']('hidden',!_0x51df56[_0x23d581(0xceb)]);});const _0x2fa2cd=document[_0x2b8b99(0x70b)](_0x2b8b99(0xc21)),_0x567f8d=document[_0x2b8b99(0x70b)]('modal-confidence-mode-container');_0x2fa2cd['addEventListener'](_0x2b8b99(0xd1c),()=>{const _0x1f65b1=_0x2b8b99;_0x567f8d[_0x1f65b1(0x9cc)]['toggle'](_0x1f65b1(0xbce),!_0x2fa2cd[_0x1f65b1(0xceb)]);});const _0xcf364=document[_0x2b8b99(0x70b)](_0x2b8b99(0xbe1)),_0x1bc9d8=async _0x3c3d30=>{const _0xa5e421=_0x2b8b99,_0x4e4aa6=document[_0xa5e421(0x70b)](_0xa5e421(0xbe1)),_0x2e7e44=_0x4e4aa6['dataset']['currentMode'],_0x58ec69=document[_0xa5e421(0x70b)](_0xa5e421(0xe78));_0x4e4aa6['classList'][_0xa5e421(0x505)](_0xa5e421(0xbce));if(_0x2e7e44==='timed'){const _0x3a671a=_0x58ec69[_0xa5e421(0xd95)],_0x43eaae={'answer':_0x3a671a,'wasConfident':_0x3c3d30};proceedToNextQuestion(_0x43eaae);}else{if(_0x2e7e44===_0xa5e421(0xe5e)){const _0x4638eb=_0x58ec69[_0xa5e421(0x71a)][_0xa5e421(0x43e)],_0x1a8af0=JSON[_0xa5e421(0xcd4)](_0x58ec69[_0xa5e421(0x71a)][_0xa5e421(0x9ea)]),_0x3db348=JSON['parse'](_0x58ec69[_0xa5e421(0x71a)][_0xa5e421(0xcd6)]),_0x13d9cb=_0x58ec69[_0xa5e421(0x71a)][_0xa5e421(0x2c2)];handleSyncAnswerSubmit(_0x4638eb,_0x1a8af0,_0x3db348,_0x13d9cb,_0x3c3d30);}}_0x4e4aa6[_0xa5e421(0x71a)][_0xa5e421(0x86f)]='';};document[_0x2b8b99(0x70b)](_0x2b8b99(0xcde))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>_0x1bc9d8(!![])),document[_0x2b8b99(0x70b)](_0x2b8b99(0xd20))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>_0x1bc9d8(![])),liveGameView[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x539568=>{const _0x43aa4a=_0x2b8b99,_0x354479=_0x539568[_0x43aa4a(0x1c8)][_0x43aa4a(0x252)]('.kick-player-btn-sync');if(_0x354479){const _0x544389=_0x354479['dataset'][_0x43aa4a(0x2c2)];_0x544389&&handleKickPlayerSync(_0x544389);}});const _0x5bf0bd=document[_0x2b8b99(0x70b)](_0x2b8b99(0x444)),_0x44b8d1=document['getElementById'](_0x2b8b99(0x66f));_0x44b8d1[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x5b14fa=_0x2b8b99;document[_0x5b14fa(0x70b)](_0x5b14fa(0x89d))[_0x5b14fa(0x9cc)][_0x5b14fa(0x505)]('hidden');}),_0x5bf0bd[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x29a78e=_0x2b8b99,_0x5a4d8a=document[_0x29a78e(0x70b)]('game-start-quiz-id')[_0x29a78e(0xd95)],_0x447154=document[_0x29a78e(0x70b)](_0x29a78e(0xb86))[_0x29a78e(0xd95)],_0x3bf841=document[_0x29a78e(0x70b)](_0x29a78e(0x63a))[_0x29a78e(0xceb)];document[_0x29a78e(0x70b)](_0x29a78e(0x89d))['classList']['add'](_0x29a78e(0xbce));switch(_0x447154){case'live-race':handleStartLiveRace(_0x5a4d8a,_0x3bf841);break;case _0x29a78e(0x741):handleStartTeamQuiz(_0x5a4d8a,_0x3bf841);break;case _0x29a78e(0x7af):handleStartGroupMode(_0x5a4d8a,_0x3bf841);break;case'sync':const _0x5968f2=document[_0x29a78e(0xdde)](_0x29a78e(0x1db))[_0x29a78e(0xd95)]||'classic';handleStartSyncMode(_0x5a4d8a,_0x3bf841,_0x5968f2);break;}}),document[_0x2b8b99(0x70b)]('join-group-activity-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleJoinGroupActivity),liveGameView['addEventListener'](_0x2b8b99(0x9a8),_0x2741e8=>{const _0x15ab71=_0x2b8b99,_0x49fe73=_0x2741e8[_0x15ab71(0x1c8)][_0x15ab71(0x252)]('.summary-bar-item');document['querySelectorAll']('.live-summary-tooltip.visible')[_0x15ab71(0xc4c)](_0x102956=>{const _0xd5b0ea=_0x15ab71;(!_0x49fe73||_0x102956['id']!==_0x49fe73['dataset'][_0xd5b0ea(0xd97)])&&_0x102956[_0xd5b0ea(0x9cc)]['remove']('visible');});if(!_0x49fe73)return;const _0x5370ee=_0x49fe73['dataset'][_0x15ab71(0xd97)],_0x435cb4=document['getElementById'](_0x5370ee);_0x435cb4&&_0x435cb4['classList']['toggle'](_0x15ab71(0x364));}),liveGameView['addEventListener']('click',_0x21caac=>{const _0x1161f4=_0x2b8b99;if(_0x21caac['target'][_0x1161f4(0x9cc)]['contains'](_0x1161f4(0x1bf))){const _0x425086=_0x21caac[_0x1161f4(0x1c8)][_0x1161f4(0x71a)]['playerName'];_0x425086&&handleKickPlayer(_0x425086);}}),document['getElementById'](_0x2b8b99(0xd91))[_0x2b8b99(0x86d)](_0x2b8b99(0xdd2),()=>document[_0x2b8b99(0x70b)](_0x2b8b99(0x197))['classList'][_0x2b8b99(0x7a8)](_0x2b8b99(0xbce))),document['getElementById']('save-project-name-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleSaveProjectName),document['getElementById'](_0x2b8b99(0xd91))[_0x2b8b99(0x86d)]('keydown',_0x4d07af=>{const _0x1081e3=_0x2b8b99;_0x4d07af[_0x1081e3(0x9f4)]===_0x1081e3(0x649)&&(_0x4d07af[_0x1081e3(0x95b)](),_0x4d07af[_0x1081e3(0x1c8)][_0x1081e3(0x85e)](),handleSaveProjectName());}),document[_0x2b8b99(0x70b)]('bulk-quiz-settings-btn')['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x2d4699=_0x2b8b99;document[_0x2d4699(0x70b)](_0x2d4699(0xc05))['classList'][_0x2d4699(0x7a8)](_0x2d4699(0xbce));}),document[_0x2b8b99(0x70b)]('cancel-bulk-quiz-settings-btn')['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x27670f=_0x2b8b99;document['getElementById']('bulk-quiz-settings-modal')['classList'][_0x27670f(0x505)](_0x27670f(0xbce));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x7c4))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleBulkUpdateQuizSettings),document[_0x2b8b99(0x70b)](_0x2b8b99(0xac2))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleModeSwitch),document[_0x2b8b99(0x70b)](_0x2b8b99(0x684))[_0x2b8b99(0x86d)]('click',handleUpdateOldQuizzes),document['getElementById'](_0x2b8b99(0xdbf))[_0x2b8b99(0x86d)]('click',handleResetProjectOrder),document['getElementById'](_0x2b8b99(0x4a6))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleSaveVisibilitySettings),document[_0x2b8b99(0x70b)]('add-custom-math-topic-btn')[_0x2b8b99(0x86d)]('click',handleAddCustomMathTopic),document[_0x2b8b99(0x70b)](_0x2b8b99(0xe0c))['addEventListener']('click',handleSelectAllTopics),document[_0x2b8b99(0x70b)](_0x2b8b99(0xcbb))['addEventListener'](_0x2b8b99(0x9a8),handleDeselectAllTopics),document[_0x2b8b99(0x70b)]('back-to-dashboard-btn')['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x49134c=_0x2b8b99;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x49134c(0x215));}}),document['getElementById']('back-to-project-btn')['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x51cfb5=_0x2b8b99;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x51cfb5(0x79e));}}),document['getElementById'](_0x2b8b99(0xbf0))['addEventListener'](_0x2b8b99(0x9a8),()=>{showView('admin-dashboard');}),document[_0x2b8b99(0x70b)]('modal-close-btn')[_0x2b8b99(0x86d)]('click',()=>{const _0x28f856=_0x2b8b99;messageModal[_0x28f856(0x9cc)][_0x28f856(0x505)](_0x28f856(0xbce)),typeof modalConfirmAction===_0x28f856(0x355)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x2b8b99(0x70b)]('create-project-btn')[_0x2b8b99(0x86d)]('click',()=>createProjectModal[_0x2b8b99(0x9cc)][_0x2b8b99(0x7a8)](_0x2b8b99(0xbce))),document['getElementById'](_0x2b8b99(0x5b6))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>createProjectModal[_0x2b8b99(0x9cc)][_0x2b8b99(0x505)](_0x2b8b99(0xbce))),document[_0x2b8b99(0x70b)]('cancel-admin-login-btn')['addEventListener']('click',()=>adminPasswordModal[_0x2b8b99(0x9cc)][_0x2b8b99(0x505)](_0x2b8b99(0xbce))),document[_0x2b8b99(0x70b)](_0x2b8b99(0x9cd))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleAdminLogin),document[_0x2b8b99(0x70b)](_0x2b8b99(0xca1))['addEventListener'](_0x2b8b99(0xcc6),_0x1b8762=>{const _0x3674b1=_0x2b8b99;if(_0x1b8762['key']===_0x3674b1(0x649))handleAdminLogin();}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x1c4))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{confirmationModal['classList']['add']('hidden'),typeof cancelAction==='function'&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x97f))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x574e58=_0x2b8b99;confirmAction&&confirmAction(),confirmationModal[_0x574e58(0x9cc)]['add'](_0x574e58(0xbce)),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x2b8b99(0xc0d))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>renameQuizModal[_0x2b8b99(0x9cc)]['add'](_0x2b8b99(0xbce))),document[_0x2b8b99(0x70b)](_0x2b8b99(0x34f))['addEventListener'](_0x2b8b99(0x9a8),confirmRenameQuiz),document[_0x2b8b99(0x70b)](_0x2b8b99(0x487))[_0x2b8b99(0x86d)]('click',()=>moveQuizModal['classList']['add'](_0x2b8b99(0xbce))),document[_0x2b8b99(0x70b)](_0x2b8b99(0xaef))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),confirmMoveQuiz),document[_0x2b8b99(0x70b)](_0x2b8b99(0x534))['addEventListener'](_0x2b8b99(0x9a8),()=>quizSettingsModal[_0x2b8b99(0x9cc)]['add'](_0x2b8b99(0xbce))),document['getElementById'](_0x2b8b99(0x417))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),confirmQuizSettings),document[_0x2b8b99(0x70b)](_0x2b8b99(0x530))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>quizStatusModal[_0x2b8b99(0x9cc)][_0x2b8b99(0x505)](_0x2b8b99(0xbce))),document['getElementById'](_0x2b8b99(0x6c0))['addEventListener'](_0x2b8b99(0x9a8),confirmQuizStatus);const _0x164116=document['getElementById'](_0x2b8b99(0x20c));document[_0x2b8b99(0x70b)](_0x2b8b99(0xe30))[_0x2b8b99(0x86d)]('click',()=>{const _0x1d45f6=_0x2b8b99;_0x164116['classList'][_0x1d45f6(0x505)](_0x1d45f6(0xbce));}),document['getElementById']('export-compact-pdf-btn')['addEventListener'](_0x2b8b99(0x9a8),async()=>{const _0x3a0e03=_0x2b8b99,_0x4f2cea=allQuizzes['find'](_0x51c57d=>_0x51c57d['id']===actionTargetId);_0x4f2cea?(currentQuizData=_0x4f2cea,exportQuizAsWorksheetPDF()):showMessage(_0x3a0e03(0x53b)),_0x164116['classList'][_0x3a0e03(0x505)]('hidden');}),document[_0x2b8b99(0x70b)]('export-tutor-pdf-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),async()=>{const _0x94d707=_0x2b8b99,_0xa2c371=allQuizzes[_0x94d707(0x60d)](_0x43b47a=>_0x43b47a['id']===actionTargetId);_0xa2c371?(currentQuizData=_0xa2c371,exportQuizAsTutorPDF()):showMessage(_0x94d707(0x53b)),_0x164116[_0x94d707(0x9cc)][_0x94d707(0x505)]('hidden');});const _0x289c5b=document[_0x2b8b99(0x70b)](_0x2b8b99(0x5c4));_0x289c5b[_0x2b8b99(0xb90)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x289c5b[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),openGlobalActivityModal),document[_0x2b8b99(0x70b)](_0x2b8b99(0x938))['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x8e3d58=_0x2b8b99;document[_0x8e3d58(0x70b)]('global-activity-modal')['classList'][_0x8e3d58(0x505)]('hidden');}),document[_0x2b8b99(0x70b)]('global-quiz-search-input')['addEventListener'](_0x2b8b99(0x7d8),_0x2289df=>{const _0x37a881=_0x2b8b99;renderGlobalActivityList(_0x2289df[_0x37a881(0x1c8)]['value']);}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x2d3))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x22224b=>{const _0x335e03=_0x2b8b99,_0x227666=_0x22224b[_0x335e03(0x1c8)][_0x335e03(0x252)](_0x335e03(0x6e7));if(!_0x227666)return;const _0x16aa39=_0x227666['dataset']['id'],_0x6fb6c9=_0x227666[_0x335e03(0x71a)][_0x335e03(0xa43)],_0x1c487d=allQuizzesGlobal['find'](_0x76889c=>_0x76889c['id']===_0x16aa39);_0x1c487d&&(document[_0x335e03(0x70b)](_0x335e03(0xdf0))[_0x335e03(0x9cc)]['add'](_0x335e03(0xbce)),_0x6fb6c9===_0x335e03(0x172)?handleStartLiveRace(_0x16aa39):showGameStartConfirmationModal(_0x16aa39,_0x6fb6c9,_0x1c487d[_0x335e03(0x6d2)]));}),document['getElementById'](_0x2b8b99(0xab8))[_0x2b8b99(0x86d)](_0x2b8b99(0x7d8),renderProjects),document[_0x2b8b99(0x70b)](_0x2b8b99(0x870))[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),async()=>{const _0x4af612=_0x2b8b99,_0x5dfb11=document[_0x4af612(0x70b)](_0x4af612(0x870))[_0x4af612(0xd95)],_0x3f652a=doc(db,_0x4af612(0x792),_0x4af612(0x353));try{await setDoc(_0x3f652a,{'projectSort':_0x5dfb11},{'merge':!![]});}catch(_0x5f0ecb){console[_0x4af612(0x8c2)](_0x4af612(0xb5c),_0x5f0ecb),showMessage(_0x4af612(0x60b));}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x41d))[_0x2b8b99(0x86d)](_0x2b8b99(0x7d8),renderQuizzes),document[_0x2b8b99(0x70b)](_0x2b8b99(0x8d4))['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x2ac0b3=_0x2b8b99;globalDashboardSettings[_0x2ac0b3(0x512)]=_0x2ac0b3(0x659),saveUserPreference(_0x2ac0b3(0x512),_0x2ac0b3(0x659)),renderProjects();}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x29e))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x82f084=_0x2b8b99;globalDashboardSettings['projectView']='list',saveUserPreference(_0x82f084(0x512),_0x82f084(0x7ba)),renderProjects();}),manageTab[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>switchProjectTab(_0x2b8b99(0x5c5))),resultsTab['addEventListener'](_0x2b8b99(0x9a8),()=>switchProjectTab(_0x2b8b99(0xb31))),leaderboardTab[_0x2b8b99(0x86d)]('click',()=>switchProjectTab(_0x2b8b99(0xc97))),document[_0x2b8b99(0x70b)](_0x2b8b99(0x4aa))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>switchQuizDetailTab(_0x2b8b99(0x3c7))),document[_0x2b8b99(0x70b)]('scores-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x2b8b99(0x736))),document[_0x2b8b99(0x70b)](_0x2b8b99(0x8de))[_0x2b8b99(0x86d)]('click',()=>switchQuizDetailTab(_0x2b8b99(0x9d4))),document[_0x2b8b99(0x70b)](_0x2b8b99(0x3a5))[_0x2b8b99(0x86d)]('click',()=>switchQuizDetailTab(_0x2b8b99(0x21c))),document[_0x2b8b99(0x70b)](_0x2b8b99(0x8ee))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleAnalyzeClass),generateWorksheetBtn[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),generateWorksheet);const _0x2d5b10=document[_0x2b8b99(0x70b)](_0x2b8b99(0x8fa)),_0x354426=document[_0x2b8b99(0x70b)](_0x2b8b99(0xd47)),_0x1c156e=document[_0x2b8b99(0x70b)]('blueprint-tab'),_0x21c129=document[_0x2b8b99(0x70b)]('blueprint-input-area'),_0x7c476b=document[_0x2b8b99(0x70b)](_0x2b8b99(0x195)),_0x17a6ed=document['getElementById'](_0x2b8b99(0xa36));topicTab[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x43dadf=_0x2b8b99;topicTab[_0x43dadf(0x9cc)][_0x43dadf(0x505)](_0x43dadf(0x294)),textTab['classList'][_0x43dadf(0x7a8)](_0x43dadf(0x294)),fileTab[_0x43dadf(0x9cc)][_0x43dadf(0x7a8)](_0x43dadf(0x294)),worksheetTab[_0x43dadf(0x9cc)][_0x43dadf(0x7a8)](_0x43dadf(0x294));if(_0x2d5b10)_0x2d5b10['classList'][_0x43dadf(0x7a8)](_0x43dadf(0x294));if(_0x1c156e)_0x1c156e[_0x43dadf(0x9cc)]['remove'](_0x43dadf(0x294));if(_0x7c476b)_0x7c476b[_0x43dadf(0x9cc)][_0x43dadf(0x7a8)](_0x43dadf(0x294));topicInputArea[_0x43dadf(0x9cc)][_0x43dadf(0x7a8)](_0x43dadf(0xbce)),textInputArea[_0x43dadf(0x9cc)]['add'](_0x43dadf(0xbce)),fileInputArea['classList'][_0x43dadf(0x505)](_0x43dadf(0xbce)),worksheetInputArea[_0x43dadf(0x9cc)][_0x43dadf(0x505)]('hidden');if(_0x354426)_0x354426[_0x43dadf(0x9cc)][_0x43dadf(0x505)](_0x43dadf(0xbce));if(_0x21c129)_0x21c129[_0x43dadf(0x9cc)][_0x43dadf(0x505)](_0x43dadf(0xbce));if(_0x17a6ed)_0x17a6ed['classList']['add'](_0x43dadf(0xbce));}),textTab[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x596585=_0x2b8b99;textTab[_0x596585(0x9cc)][_0x596585(0x505)]('active'),topicTab['classList']['remove'](_0x596585(0x294)),fileTab[_0x596585(0x9cc)][_0x596585(0x7a8)](_0x596585(0x294)),worksheetTab[_0x596585(0x9cc)][_0x596585(0x7a8)](_0x596585(0x294));if(_0x2d5b10)_0x2d5b10[_0x596585(0x9cc)]['remove'](_0x596585(0x294));if(_0x1c156e)_0x1c156e['classList'][_0x596585(0x7a8)]('active');if(_0x7c476b)_0x7c476b[_0x596585(0x9cc)][_0x596585(0x7a8)](_0x596585(0x294));textInputArea['classList'][_0x596585(0x7a8)](_0x596585(0xbce)),topicInputArea[_0x596585(0x9cc)][_0x596585(0x505)](_0x596585(0xbce)),fileInputArea['classList'][_0x596585(0x505)](_0x596585(0xbce)),worksheetInputArea[_0x596585(0x9cc)][_0x596585(0x505)](_0x596585(0xbce));if(_0x354426)_0x354426['classList'][_0x596585(0x505)](_0x596585(0xbce));if(_0x21c129)_0x21c129[_0x596585(0x9cc)][_0x596585(0x505)](_0x596585(0xbce));if(_0x17a6ed)_0x17a6ed['classList'][_0x596585(0x505)](_0x596585(0xbce));}),fileTab[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0xc37a98=_0x2b8b99;fileTab[_0xc37a98(0x9cc)][_0xc37a98(0x505)]('active'),topicTab[_0xc37a98(0x9cc)]['remove']('active'),textTab[_0xc37a98(0x9cc)][_0xc37a98(0x7a8)](_0xc37a98(0x294)),worksheetTab[_0xc37a98(0x9cc)][_0xc37a98(0x7a8)]('active');if(_0x2d5b10)_0x2d5b10[_0xc37a98(0x9cc)][_0xc37a98(0x7a8)](_0xc37a98(0x294));if(_0x1c156e)_0x1c156e[_0xc37a98(0x9cc)][_0xc37a98(0x7a8)](_0xc37a98(0x294));if(_0x7c476b)_0x7c476b['classList'][_0xc37a98(0x7a8)](_0xc37a98(0x294));fileInputArea['classList'][_0xc37a98(0x7a8)]('hidden'),topicInputArea['classList'][_0xc37a98(0x505)]('hidden'),textInputArea['classList'][_0xc37a98(0x505)](_0xc37a98(0xbce)),worksheetInputArea[_0xc37a98(0x9cc)]['add'](_0xc37a98(0xbce));if(_0x354426)_0x354426[_0xc37a98(0x9cc)][_0xc37a98(0x505)](_0xc37a98(0xbce));if(_0x21c129)_0x21c129[_0xc37a98(0x9cc)][_0xc37a98(0x505)](_0xc37a98(0xbce));if(_0x17a6ed)_0x17a6ed['classList'][_0xc37a98(0x505)](_0xc37a98(0xbce));}),worksheetTab[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x399380=_0x2b8b99;worksheetTab[_0x399380(0x9cc)][_0x399380(0x505)](_0x399380(0x294)),topicTab[_0x399380(0x9cc)][_0x399380(0x7a8)]('active'),textTab['classList']['remove']('active'),fileTab[_0x399380(0x9cc)]['remove']('active');if(_0x2d5b10)_0x2d5b10[_0x399380(0x9cc)][_0x399380(0x7a8)]('active');if(_0x1c156e)_0x1c156e['classList'][_0x399380(0x7a8)](_0x399380(0x294));if(_0x7c476b)_0x7c476b[_0x399380(0x9cc)]['remove']('active');worksheetInputArea['classList'][_0x399380(0x7a8)](_0x399380(0xbce)),topicInputArea[_0x399380(0x9cc)][_0x399380(0x505)](_0x399380(0xbce)),textInputArea[_0x399380(0x9cc)]['add'](_0x399380(0xbce)),fileInputArea[_0x399380(0x9cc)][_0x399380(0x505)](_0x399380(0xbce));if(_0x354426)_0x354426[_0x399380(0x9cc)][_0x399380(0x505)]('hidden');if(_0x21c129)_0x21c129[_0x399380(0x9cc)]['add']('hidden');if(_0x17a6ed)_0x17a6ed[_0x399380(0x9cc)][_0x399380(0x505)]('hidden');});const _0x4b3c2a=document[_0x2b8b99(0x70b)](_0x2b8b99(0xa4c)),_0x6a4f7c=document['getElementById'](_0x2b8b99(0x72d));_0x4b3c2a&&_0x4b3c2a[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x3756e0=_0x2b8b99;topicTab['classList'][_0x3756e0(0x7a8)](_0x3756e0(0x294)),textTab[_0x3756e0(0x9cc)]['remove']('active'),fileTab[_0x3756e0(0x9cc)][_0x3756e0(0x7a8)](_0x3756e0(0x294)),worksheetTab[_0x3756e0(0x9cc)][_0x3756e0(0x7a8)](_0x3756e0(0x294));if(_0x2d5b10)_0x2d5b10[_0x3756e0(0x9cc)][_0x3756e0(0x7a8)](_0x3756e0(0x294));if(_0x1c156e)_0x1c156e[_0x3756e0(0x9cc)][_0x3756e0(0x7a8)](_0x3756e0(0x294));if(_0x7c476b)_0x7c476b[_0x3756e0(0x9cc)][_0x3756e0(0x7a8)](_0x3756e0(0x294));_0x4b3c2a[_0x3756e0(0x9cc)][_0x3756e0(0x505)](_0x3756e0(0x294)),topicInputArea['classList'][_0x3756e0(0x505)]('hidden'),textInputArea['classList'][_0x3756e0(0x505)](_0x3756e0(0xbce)),fileInputArea[_0x3756e0(0x9cc)][_0x3756e0(0x505)]('hidden'),worksheetInputArea[_0x3756e0(0x9cc)][_0x3756e0(0x505)]('hidden');if(_0x354426)_0x354426[_0x3756e0(0x9cc)]['add']('hidden');if(_0x21c129)_0x21c129[_0x3756e0(0x9cc)][_0x3756e0(0x505)]('hidden');if(_0x17a6ed)_0x17a6ed[_0x3756e0(0x9cc)]['add'](_0x3756e0(0xbce));_0x6a4f7c['classList']['remove'](_0x3756e0(0xbce)),displayQuestionBank();});_0x2d5b10&&(_0x2d5b10[_0x2b8b99(0x86d)]('click',()=>{const _0x47f176=_0x2b8b99;_0x2d5b10['classList'][_0x47f176(0x505)]('active'),topicTab[_0x47f176(0x9cc)][_0x47f176(0x7a8)]('active'),textTab[_0x47f176(0x9cc)][_0x47f176(0x7a8)]('active'),fileTab[_0x47f176(0x9cc)][_0x47f176(0x7a8)](_0x47f176(0x294)),worksheetTab['classList'][_0x47f176(0x7a8)]('active');if(_0x1c156e)_0x1c156e[_0x47f176(0x9cc)][_0x47f176(0x7a8)](_0x47f176(0x294));if(_0x7c476b)_0x7c476b[_0x47f176(0x9cc)][_0x47f176(0x7a8)](_0x47f176(0x294));_0x354426[_0x47f176(0x9cc)]['remove'](_0x47f176(0xbce)),topicInputArea[_0x47f176(0x9cc)]['add'](_0x47f176(0xbce)),textInputArea['classList']['add'](_0x47f176(0xbce)),fileInputArea['classList'][_0x47f176(0x505)](_0x47f176(0xbce)),worksheetInputArea[_0x47f176(0x9cc)][_0x47f176(0x505)]('hidden');if(_0x21c129)_0x21c129['classList'][_0x47f176(0x505)]('hidden');if(_0x17a6ed)_0x17a6ed['classList'][_0x47f176(0x505)](_0x47f176(0xbce));}),document['getElementById'](_0x2b8b99(0x3a0))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleGenerateFromLink));_0x1c156e&&_0x1c156e[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x224c15=_0x2b8b99;_0x1c156e['classList'][_0x224c15(0x505)](_0x224c15(0x294)),topicTab[_0x224c15(0x9cc)][_0x224c15(0x7a8)](_0x224c15(0x294)),textTab[_0x224c15(0x9cc)][_0x224c15(0x7a8)]('active'),fileTab[_0x224c15(0x9cc)][_0x224c15(0x7a8)]('active'),worksheetTab[_0x224c15(0x9cc)]['remove'](_0x224c15(0x294));if(_0x2d5b10)_0x2d5b10[_0x224c15(0x9cc)]['remove'](_0x224c15(0x294));if(_0x4b3c2a)_0x4b3c2a['classList']['remove']('active');if(_0x7c476b)_0x7c476b[_0x224c15(0x9cc)][_0x224c15(0x7a8)]('active');_0x21c129[_0x224c15(0x9cc)][_0x224c15(0x7a8)](_0x224c15(0xbce)),topicInputArea[_0x224c15(0x9cc)][_0x224c15(0x505)]('hidden'),textInputArea[_0x224c15(0x9cc)][_0x224c15(0x505)](_0x224c15(0xbce)),fileInputArea[_0x224c15(0x9cc)][_0x224c15(0x505)](_0x224c15(0xbce)),worksheetInputArea[_0x224c15(0x9cc)][_0x224c15(0x505)]('hidden');if(_0x354426)_0x354426[_0x224c15(0x9cc)][_0x224c15(0x505)](_0x224c15(0xbce));if(_0x6a4f7c)_0x6a4f7c['classList'][_0x224c15(0x505)]('hidden');if(_0x17a6ed)_0x17a6ed[_0x224c15(0x9cc)][_0x224c15(0x505)](_0x224c15(0xbce));});_0x7c476b&&_0x7c476b[_0x2b8b99(0x86d)]('click',()=>{const _0x3e34b2=_0x2b8b99;_0x7c476b[_0x3e34b2(0x9cc)][_0x3e34b2(0x505)](_0x3e34b2(0x294)),topicTab[_0x3e34b2(0x9cc)]['remove'](_0x3e34b2(0x294)),textTab[_0x3e34b2(0x9cc)][_0x3e34b2(0x7a8)](_0x3e34b2(0x294)),fileTab['classList'][_0x3e34b2(0x7a8)](_0x3e34b2(0x294)),worksheetTab[_0x3e34b2(0x9cc)][_0x3e34b2(0x7a8)](_0x3e34b2(0x294));if(_0x2d5b10)_0x2d5b10['classList']['remove'](_0x3e34b2(0x294));if(_0x1c156e)_0x1c156e[_0x3e34b2(0x9cc)]['remove'](_0x3e34b2(0x294));if(_0x4b3c2a)_0x4b3c2a['classList'][_0x3e34b2(0x7a8)]('active');_0x17a6ed[_0x3e34b2(0x9cc)]['remove']('hidden'),topicInputArea[_0x3e34b2(0x9cc)][_0x3e34b2(0x505)](_0x3e34b2(0xbce)),textInputArea[_0x3e34b2(0x9cc)][_0x3e34b2(0x505)](_0x3e34b2(0xbce)),fileInputArea['classList'][_0x3e34b2(0x505)](_0x3e34b2(0xbce)),worksheetInputArea[_0x3e34b2(0x9cc)]['add'](_0x3e34b2(0xbce));if(_0x354426)_0x354426['classList'][_0x3e34b2(0x505)](_0x3e34b2(0xbce));if(_0x21c129)_0x21c129[_0x3e34b2(0x9cc)][_0x3e34b2(0x505)](_0x3e34b2(0xbce));if(_0x6a4f7c)_0x6a4f7c['classList']['add'](_0x3e34b2(0xbce));});const _0x942290=document[_0x2b8b99(0x70b)](_0x2b8b99(0x7c8)),_0x33c61d=document['getElementById'](_0x2b8b99(0x44b));if(_0x942290){const _0x105b6e=document['getElementById'](_0x2b8b99(0x7c8)),_0x59f702=document[_0x2b8b99(0x70b)](_0x2b8b99(0x44b)),_0x2dcf35=document[_0x2b8b99(0x70b)](_0x2b8b99(0x4e9)),_0x2dfb86=document[_0x2b8b99(0x70b)]('separate-by-content-checkbox'),_0x190737=document[_0x2b8b99(0x70b)]('blueprint-topics-list-container'),_0x1c495d=document[_0x2b8b99(0x70b)](_0x2b8b99(0x447));_0x105b6e&&_0x105b6e[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),async _0x5ae802=>{const _0x6fafcd=_0x2b8b99;_0x2dcf35[_0x6fafcd(0x9cc)]['add']('hidden'),_0x190737['classList'][_0x6fafcd(0x505)](_0x6fafcd(0xbce)),_0x2dfb86['checked']=![],_0x59f702[_0x6fafcd(0x9b6)]=!![];const _0x2bfb28=_0x5ae802[_0x6fafcd(0x1c8)][_0x6fafcd(0x19f)][0x0];if(_0x2bfb28){_0x59f702[_0x6fafcd(0x9b6)]=![];try{const _0x25a887=await extractTextFromPdf(_0x2bfb28);await analyzeBlueprintForTopics(_0x25a887);}catch(_0x3356c6){showMessage(_0x6fafcd(0x2ef)),_0x2dcf35[_0x6fafcd(0x9cc)][_0x6fafcd(0x505)](_0x6fafcd(0xbce));}}}),_0x2dfb86&&_0x2dfb86[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),_0x94dd81=>{const _0x2e9cda=_0x2b8b99,_0x3a595c=_0x94dd81['target'][_0x2e9cda(0xceb)];_0x190737[_0x2e9cda(0x9cc)][_0x2e9cda(0x1a3)](_0x2e9cda(0xbce),!_0x3a595c),_0x59f702[_0x2e9cda(0x9b6)]=_0x3a595c;}),_0x1c495d&&(_0x1c495d&&_0x1c495d[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x5afa0e=>{const _0x530e31=_0x2b8b99,_0x456472=_0x5afa0e[_0x530e31(0x1c8)][_0x530e31(0x252)]('.topic-selection-btn'),_0x575ef9=_0x5afa0e[_0x530e31(0x1c8)][_0x530e31(0x252)](_0x530e31(0x204));if(_0x456472){const _0x791cf8=unescape(_0x456472[_0x530e31(0x71a)][_0x530e31(0x6d2)]);generateQuizForSingleTopic(_0x791cf8);}else{if(_0x575ef9){const _0x5c29d7=unescape(_0x575ef9['dataset'][_0x530e31(0x6d2)]);handleGenerateTeachingContent(_0x5c29d7);}}}));}_0x33c61d&&_0x33c61d['addEventListener'](_0x2b8b99(0x9a8),handleGenerateFromBlueprint);const _0x3b6510=document['getElementById'](_0x2b8b99(0xb27)),_0x163bc0=document[_0x2b8b99(0x70b)]('generate-from-parallel-test-btn');_0x3b6510&&_0x3b6510['addEventListener'](_0x2b8b99(0xd1c),_0x5f0ef4=>{const _0x5dca38=_0x2b8b99;_0x163bc0['disabled']=_0x5f0ef4[_0x5dca38(0x1c8)][_0x5dca38(0x19f)][_0x5dca38(0xdf3)]===0x0;});_0x163bc0&&_0x163bc0['addEventListener'](_0x2b8b99(0x9a8),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x2b8b99(0x86d)]('click',handleLoadQuiz),startQuizBtn[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),async()=>{const _0x503254=_0x2b8b99,_0x1f617c=document['getElementById'](_0x503254(0x4d9));currentStudentName=_0x1f617c['value'];if(!currentStudentName){showMessage(_0x503254(0xd40));return;}try{const _0x3a00f8=currentQuizData['id'],_0x2afe02=doc(db,_0x503254(0x4cd)+appId+_0x503254(0x832)+_0x3a00f8+_0x503254(0xcc1),currentStudentName),_0x53f3a2=await getDoc(_0x2afe02);!_0x53f3a2[_0x503254(0x7ed)]()?await setDoc(_0x2afe02,{'studentName':currentStudentName,'startedAt':new Date()[_0x503254(0x9ce)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2afe02,{'startedAt':new Date()[_0x503254(0x9ce)]()});}catch(_0x4e641f){console[_0x503254(0x8c2)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x4e641f),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView['classList'][_0x503254(0x505)](_0x503254(0xbce)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x91a))[_0x2b8b99(0x86d)]('click',showJoinGameView),document[_0x2b8b99(0x70b)]('confirm-join-game-btn')[_0x2b8b99(0x86d)]('click',handleJoinLiveGame),document[_0x2b8b99(0x70b)](_0x2b8b99(0x1e9))[_0x2b8b99(0x86d)]('click',()=>showView(_0x2b8b99(0x2d1)));const _0x1c0fdb=()=>{const _0x3bdda4=_0x2b8b99,_0x237d3f=document['getElementById'](_0x3bdda4(0xa20))[_0x3bdda4(0xc66)][_0x3bdda4(0x460)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3bdda4(0x7a9)+(_0x237d3f||'quiz');},_0x3c2f11=document[_0x2b8b99(0x70b)](_0x2b8b99(0x9e5));_0x3c2f11&&_0x3c2f11[_0x2b8b99(0x86d)](_0x2b8b99(0x7d8),_0x4b1963=>{const _0x4c8907=_0x2b8b99,_0x2f21ce=_0x4b1963[_0x4c8907(0x1c8)][_0x4c8907(0xd95)][_0x4c8907(0xcab)]()[_0x4c8907(0x28f)](),_0x39a2fd=document['getElementById'](_0x4c8907(0xc44)),_0x415063=_0x39a2fd['querySelectorAll']('.topic-category');_0x415063[_0x4c8907(0xc4c)](_0x489bdd=>{const _0x5642c4=_0x4c8907;let _0x29a77f=![];const _0x241215=_0x489bdd[_0x5642c4(0x8fc)](_0x5642c4(0x3d4));_0x241215[_0x5642c4(0xc4c)](_0x55c4e3=>{const _0x5eb92c=_0x5642c4,_0x29bf5f=_0x55c4e3[_0x5eb92c(0xdde)](_0x5eb92c(0x3f0))['textContent'][_0x5eb92c(0xcab)]();_0x29bf5f[_0x5eb92c(0x7f1)](_0x2f21ce)?(_0x55c4e3[_0x5eb92c(0x8aa)][_0x5eb92c(0x6cf)]='flex',_0x29a77f=!![]):_0x55c4e3['style'][_0x5eb92c(0x6cf)]=_0x5eb92c(0x9b8);}),_0x29a77f?_0x489bdd['style']['display']=_0x5642c4(0x30f):_0x489bdd['style'][_0x5642c4(0x6cf)]=_0x5642c4(0x9b8);});});document[_0x2b8b99(0x70b)](_0x2b8b99(0xa3c))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>exportTableAsImage(_0x2b8b99(0xbc5),_0x1c0fdb())),document[_0x2b8b99(0x70b)](_0x2b8b99(0x47d))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>exportTableAsPDF('results-table',_0x1c0fdb())),document[_0x2b8b99(0x70b)](_0x2b8b99(0xc46))[_0x2b8b99(0x86d)]('click',()=>exportTableAsWord('results-table-container',_0x1c0fdb())),document[_0x2b8b99(0x70b)](_0x2b8b99(0x482))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>exportTableAsExcel(_0x2b8b99(0xbed),_0x1c0fdb()));const _0xb48dab=()=>{const _0x3c512a=_0x2b8b99,_0xbb689f=document[_0x3c512a(0x70b)](_0x3c512a(0xa20))[_0x3c512a(0xc66)][_0x3c512a(0x460)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0xbb689f||_0x3c512a(0xc92));};document[_0x2b8b99(0x70b)]('export-leaderboard-image-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>exportTableAsImage(_0x2b8b99(0x4ba),_0xb48dab())),document[_0x2b8b99(0x70b)](_0x2b8b99(0x94d))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>exportTableAsPDF(_0x2b8b99(0x465),_0xb48dab())),document['getElementById'](_0x2b8b99(0x341))[_0x2b8b99(0x86d)]('click',()=>exportTableAsWord(_0x2b8b99(0x4ba),_0xb48dab())),document['getElementById'](_0x2b8b99(0x925))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>exportTableAsExcel(_0x2b8b99(0x465),_0xb48dab())),projectQuizzesList[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),async _0x38b81d=>{const _0x5ddbfc=_0x2b8b99,_0x400ef7=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0x5f3)),_0x55ed4c=_0x38b81d['target']['closest'](_0x5ddbfc(0xb6b)),_0x1da0bf=_0x38b81d['target'][_0x5ddbfc(0x252)](_0x5ddbfc(0x550)),_0x3b3b9f=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0xdbc)),_0x3f90ed=_0x38b81d[_0x5ddbfc(0x1c8)]['closest']('.star-quiz-btn'),_0x1ac330=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0xddd)),_0x1fbf08=_0x38b81d[_0x5ddbfc(0x1c8)]['closest'](_0x5ddbfc(0x784)),_0x41b8d5=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0x4bf)),_0x4bb45a=_0x38b81d[_0x5ddbfc(0x1c8)]['closest'](_0x5ddbfc(0x2d7)),_0x117cf3=_0x38b81d[_0x5ddbfc(0x1c8)]['closest'](_0x5ddbfc(0x97a)),_0x5bb93e=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0x92a)),_0x2619ef=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0x18a)),_0x3e1a7d=_0x38b81d['target'][_0x5ddbfc(0x252)](_0x5ddbfc(0x32d)),_0x1bfea3=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)]('.unpair-quiz-btn'),_0x24fd26=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0x7bd)),_0x45be77=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)]('.admin-try-quiz-list-btn'),_0x109fcd=_0x38b81d['target']['closest'](_0x5ddbfc(0x2c7)),_0x2e90d2=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0x693)),_0xea7125=_0x38b81d[_0x5ddbfc(0x1c8)]['closest'](_0x5ddbfc(0xbec)),_0x2e47fc=_0x38b81d['target'][_0x5ddbfc(0x252)](_0x5ddbfc(0xa4e)),_0xfcd5d4=_0x38b81d[_0x5ddbfc(0x1c8)][_0x5ddbfc(0x252)](_0x5ddbfc(0xe03)),_0x1e8b61=_0x38b81d[_0x5ddbfc(0x1c8)]['closest'](_0x5ddbfc(0x2a9)),_0x5d0853=_0x38b81d[_0x5ddbfc(0x1c8)]['closest'](_0x5ddbfc(0xc0e));if(_0x1e8b61){const _0x33e2d9=_0x1e8b61[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)],_0x32efdb=_0x1e8b61[_0x5ddbfc(0x71a)]['mode'],_0x36dc3c=allQuizzes[_0x5ddbfc(0x60d)](_0x5b0ad3=>_0x5b0ad3['id']===_0x33e2d9);_0x36dc3c&&showGameStartConfirmationModal(_0x33e2d9,_0x32efdb,_0x36dc3c[_0x5ddbfc(0x6d2)]);}else{if(_0x5d0853){const _0x455125=_0x5d0853['dataset'][_0x5ddbfc(0x727)];handleStartLiveRace(_0x455125);}else{if(_0x2e47fc){const _0x4cab7a=_0x2e47fc[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)],_0x2bb444=document[_0x5ddbfc(0x70b)](_0x5ddbfc(0xd4b)+_0x4cab7a);_0x2bb444&&_0x2bb444[_0x5ddbfc(0x9cc)][_0x5ddbfc(0x1a3)](_0x5ddbfc(0xbce));}else{if(_0x55ed4c){const _0x479fcc=_0x55ed4c['dataset']['quizId'],_0x26474d=allQuizzes[_0x5ddbfc(0x60d)](_0x29baa7=>_0x29baa7['id']===_0x479fcc);_0x26474d&&handleGenerateParallelPostTest(_0x26474d);}else{if(_0x1da0bf)handleCompareResults(_0x1da0bf['dataset'][_0x5ddbfc(0x727)],_0x1da0bf[_0x5ddbfc(0x71a)]['preTestId']);else{if(_0x3b3b9f){const _0x491204=_0x3b3b9f['dataset'][_0x5ddbfc(0x727)],_0x3b3c4f=allQuizzes[_0x5ddbfc(0x60d)](_0x39c3b8=>_0x39c3b8['id']===_0x491204);_0x3b3c4f&&_0x3b3c4f['lessonPlan']?(displayLessonPlan(_0x3b3c4f[_0x5ddbfc(0x8bb)],_0x3b3c4f),showConfirmation(_0x5ddbfc(0x70d),()=>handleGenerateLessonPlan(_0x491204)),document[_0x5ddbfc(0x70b)]('confirmation-modal')[_0x5ddbfc(0xdde)]('h3')['textContent']=_0x5ddbfc(0x8a5),document[_0x5ddbfc(0x70b)](_0x5ddbfc(0x97f))[_0x5ddbfc(0xc66)]=_0x5ddbfc(0x7a2)):handleGenerateLessonPlan(_0x491204);}else{if(_0x3f90ed)handleToggleStarQuiz(_0x3f90ed[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)]);else{if(_0x1ac330)copyTextToClipboard(_0x1ac330[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)],_0x5ddbfc(0x678));else{if(_0x1fbf08)handleOpenQuizEditor(_0x1fbf08[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)]);else{if(_0x41b8d5)handleQuizSettings(_0x41b8d5['dataset'][_0x5ddbfc(0x727)]);else{if(_0x4bb45a)handleDuplicateQuiz(_0x4bb45a[_0x5ddbfc(0x71a)]['quizId']);else{if(_0x117cf3)handleRenameQuiz(_0x117cf3['dataset']['quizId'],_0x117cf3[_0x5ddbfc(0x71a)][_0x5ddbfc(0x6d2)]);else{if(_0x5bb93e){const _0x31fb68=_0x5bb93e[_0x5ddbfc(0x71a)]['quizId'],_0x31126c=allQuizzes['find'](_0x55ed72=>_0x55ed72['id']===_0x31fb68);_0x31126c&&handleGenerateParallelFromBank(_0x31126c);}else{if(_0x2619ef)handleMoveQuiz(_0x2619ef['dataset'][_0x5ddbfc(0x727)]);else{if(_0x3e1a7d)handleManualQuizPairing(_0x3e1a7d[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)]);else{if(_0x1bfea3)handleUnpairQuiz(_0x1bfea3['dataset']['quizId']);else{if(_0x24fd26){const _0x158e5e=_0x24fd26[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)],_0x3b8c52=allQuizzes['find'](_0x3bde1=>_0x3bde1['id']===_0x158e5e);if(_0x3b8c52)startPresentation(_0x3b8c52);}else{if(_0x45be77){const _0x59ce65=_0x45be77[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)],_0x3a39cb=allQuizzes[_0x5ddbfc(0x60d)](_0x10c486=>_0x10c486['id']===_0x59ce65);_0x3a39cb&&(currentQuizData=_0x3a39cb,startAdminTest());}else{if(_0x109fcd)actionTargetId=_0x109fcd[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)],document[_0x5ddbfc(0x70b)](_0x5ddbfc(0x20c))[_0x5ddbfc(0x9cc)][_0x5ddbfc(0x7a8)](_0x5ddbfc(0xbce));else{if(_0x2e90d2)showConfirmation(_0x5ddbfc(0xbbb)+_0x2e90d2[_0x5ddbfc(0x71a)][_0x5ddbfc(0x6d2)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x2e90d2[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)]));else{if(_0xea7125)handleQuizStatus(_0xea7125[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)]);else{if(_0xfcd5d4)handleGenerateEasyVersionQuiz(_0xfcd5d4[_0x5ddbfc(0x71a)][_0x5ddbfc(0x727)]);else _0x400ef7&&showQuizDetailView(_0x400ef7[_0x5ddbfc(0x71a)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x5dc))['addEventListener']('click',()=>showView(_0x2b8b99(0x2d1))),document[_0x2b8b99(0x70b)](_0x2b8b99(0x346))['addEventListener'](_0x2b8b99(0x9a8),confirmAndStartTeamQuiz),document[_0x2b8b99(0x70b)](_0x2b8b99(0x465))[_0x2b8b99(0xdde)](_0x2b8b99(0xe63))['addEventListener']('click',_0x2f5039=>{const _0xa37194=_0x2b8b99,_0x343d59=_0x2f5039[_0xa37194(0x1c8)][_0xa37194(0x252)](_0xa37194(0x6f9));if(!_0x343d59||!_0x343d59[_0xa37194(0x71a)][_0xa37194(0x846)])return;const _0x40e975=_0x343d59[_0xa37194(0x71a)][_0xa37194(0x846)];if(quizLeaderboardSortBy===_0x40e975)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0xa37194(0x7dc)?_0xa37194(0xd10):_0xa37194(0x7dc);else{quizLeaderboardSortBy=_0x40e975;const _0x2f92f4=[_0xa37194(0xd11)];quizLeaderboardSortOrder=_0x2f92f4[_0xa37194(0x7f1)](_0x40e975)?'asc':_0xa37194(0xd10);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0xa37194(0x1bd));}),document['getElementById'](_0x2b8b99(0xccb))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),closePresentation),document[_0x2b8b99(0x70b)](_0x2b8b99(0x582))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x2b8b99(0x70b)]('next-question-btn')['addEventListener'](_0x2b8b99(0x9a8),()=>{const _0x32df38=_0x2b8b99;currentQuizData[_0x32df38(0xbd5)]&&currentPresentationSlide<currentQuizData[_0x32df38(0xbd5)][_0x32df38(0xdf3)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x2b8b99(0x86d)](_0x2b8b99(0x6c9),()=>{const _0x26cca1=_0x2b8b99;!document[_0x26cca1(0x501)]&&(presentationModal[_0x26cca1(0x8aa)]['display']=_0x26cca1(0x9b8));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x573))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleDeleteAllStudents),studentList[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x11ba84=>{const _0x2e5863=_0x2b8b99,_0x2d8d0d=_0x11ba84[_0x2e5863(0x1c8)]['closest']('.delete-student-btn');if(_0x2d8d0d){const _0x1420e4=_0x2d8d0d[_0x2e5863(0x71a)][_0x2e5863(0xd11)];handleDeleteStudent(_0x1420e4);}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x75b))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleGenerateFromFileClick),fileUploadInput[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),_0x2c2f68=>{const _0x3dab98=_0x2b8b99,_0x4d5aae=_0x2c2f68['target'][_0x3dab98(0x19f)][0x0],_0xa5f421=document[_0x3dab98(0x70b)](_0x3dab98(0x75b)),_0x185275=document[_0x3dab98(0x70b)](_0x3dab98(0x5d4)),_0x329491=document[_0x3dab98(0x70b)](_0x3dab98(0x6b5));_0x4d5aae?(selectedFile=_0x4d5aae,_0x329491[_0x3dab98(0xceb)]?(_0xa5f421[_0x3dab98(0x9b6)]=!![],analyzeFileForTopics(_0x4d5aae)):(_0xa5f421[_0x3dab98(0x9b6)]=![],_0x185275['classList'][_0x3dab98(0x505)](_0x3dab98(0xbce)))):(selectedFile=null,_0xa5f421[_0x3dab98(0x9b6)]=!![],_0x185275[_0x3dab98(0x9cc)][_0x3dab98(0x505)](_0x3dab98(0xbce)));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x6b5))[_0x2b8b99(0x86d)]('change',_0x4a08ab=>{const _0x2a63e3=_0x2b8b99,_0x19c94b=_0x4a08ab[_0x2a63e3(0x1c8)]['checked'],_0x56ec05=document[_0x2a63e3(0x70b)]('generate-from-file-btn'),_0x1543bb=document[_0x2a63e3(0x70b)](_0x2a63e3(0x5d4));_0x19c94b?(_0x56ec05[_0x2a63e3(0x9b6)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x1543bb[_0x2a63e3(0x9cc)][_0x2a63e3(0x7a8)]('hidden'),document['getElementById'](_0x2a63e3(0xc61))[_0x2a63e3(0xb90)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x1543bb[_0x2a63e3(0x9cc)][_0x2a63e3(0x505)]('hidden'),_0x56ec05[_0x2a63e3(0x9b6)]=!selectedFile);}),document[_0x2b8b99(0x70b)]('file-topics-list-container')[_0x2b8b99(0x86d)]('click',_0x3fdd3f=>{const _0xfb2974=_0x2b8b99,_0x3bcc16=_0x3fdd3f[_0xfb2974(0x1c8)][_0xfb2974(0x252)](_0xfb2974(0x283)),_0x228bc2=_0x3fdd3f[_0xfb2974(0x1c8)][_0xfb2974(0x252)](_0xfb2974(0x204));if(_0x3bcc16){const _0x4eb74f=unescape(_0x3bcc16['dataset'][_0xfb2974(0x6d2)]);generateHybridQuizForTopic(_0x4eb74f);}else{if(_0x228bc2){const _0x43b062=unescape(_0x228bc2[_0xfb2974(0x71a)][_0xfb2974(0x6d2)]),_0x345edb=document[_0xfb2974(0x70b)](_0xfb2974(0x5b3))[_0xfb2974(0xd95)];handleGenerateAndShowLesson(_0x43b062,_0x345edb);}}}),document[_0x2b8b99(0x70b)]('timer-mode-select')[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),_0x33f1fb=>{const _0x4e585b=_0x2b8b99,_0x4a5a88=document[_0x4e585b(0x70b)](_0x4e585b(0xde0)),_0xef014b=document['getElementById'](_0x4e585b(0x7b5)),_0x3fc8ca=document[_0x4e585b(0x70b)](_0x4e585b(0x6e1));_0x33f1fb[_0x4e585b(0x1c8)][_0x4e585b(0xd95)]===_0x4e585b(0x9b8)?_0x4a5a88[_0x4e585b(0x9cc)][_0x4e585b(0x505)](_0x4e585b(0xbce)):(_0x4a5a88[_0x4e585b(0x9cc)][_0x4e585b(0x7a8)](_0x4e585b(0xbce)),_0x33f1fb[_0x4e585b(0x1c8)][_0x4e585b(0xd95)]===_0x4e585b(0xd70)?(_0xef014b['textContent']=_0x4e585b(0xb51),_0x3fc8ca[_0x4e585b(0xd95)]='10'):(_0xef014b[_0x4e585b(0xc66)]=_0x4e585b(0x43f),_0x3fc8ca[_0x4e585b(0xd95)]='30'));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0xa2f))[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),_0xf5aa23=>{const _0x4dd2c9=_0x2b8b99,_0x3242d8=document[_0x4dd2c9(0x70b)](_0x4dd2c9(0x496)),_0x2255e2=_0xf5aa23[_0x4dd2c9(0x1c8)][_0x4dd2c9(0xd95)],_0x2be677=document['querySelector']('label[for=\x22num-questions\x22]'),_0x4d75fa=document[_0x4dd2c9(0x70b)](_0x4dd2c9(0x858)),_0x30980a=document['getElementById'](_0x4dd2c9(0x77f));_0x2255e2===_0x4dd2c9(0x6e0)?_0x2be677[_0x4dd2c9(0xc66)]=_0x4dd2c9(0xbf6):_0x2be677['textContent']=_0x4dd2c9(0x332),_0x2255e2==='multiple_choice'||_0x2255e2==='fill_in_with_choices'||_0x2255e2===_0x4dd2c9(0xb58)?_0x3242d8['classList'][_0x4dd2c9(0x7a8)](_0x4dd2c9(0xbce)):_0x3242d8['classList']['add'](_0x4dd2c9(0xbce)),_0x4d75fa[_0x4dd2c9(0xd2c)]=_0x30980a[_0x4dd2c9(0xd95)];}),document['getElementById'](_0x2b8b99(0x77f))[_0x2b8b99(0x86d)](_0x2b8b99(0x7d8),_0x5d4d84=>{const _0x1a4aa6=_0x2b8b99;document['getElementById']('passing-score-input')['max']=_0x5d4d84['target'][_0x1a4aa6(0xd95)];}),document[_0x2b8b99(0x70b)]('modal-timer-mode-select')[_0x2b8b99(0x86d)](_0x2b8b99(0xd1c),_0x1d65f4=>{const _0x32ddd0=_0x2b8b99,_0x50e573=document[_0x32ddd0(0x70b)](_0x32ddd0(0xc5e)),_0x381db1=document[_0x32ddd0(0x70b)](_0x32ddd0(0x5cb)),_0x4eeedf=document['getElementById'](_0x32ddd0(0xbba));_0x1d65f4[_0x32ddd0(0x1c8)][_0x32ddd0(0xd95)]===_0x32ddd0(0x9b8)?_0x50e573['classList'][_0x32ddd0(0x505)](_0x32ddd0(0xbce)):(_0x50e573[_0x32ddd0(0x9cc)][_0x32ddd0(0x7a8)](_0x32ddd0(0xbce)),_0x1d65f4['target']['value']===_0x32ddd0(0xd70)?_0x381db1[_0x32ddd0(0xc66)]='ระยะเวลา\x20(นาที):':_0x381db1['textContent']=_0x32ddd0(0x43f));}),document['getElementById'](_0x2b8b99(0x2b1))[_0x2b8b99(0x86d)]('click',()=>{const _0x3a15c8=_0x2b8b99;document[_0x3a15c8(0x70b)](_0x3a15c8(0x485))[_0x3a15c8(0x9cc)][_0x3a15c8(0x505)](_0x3a15c8(0xbce));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x288))['addEventListener']('click',()=>{const _0x5e6c01=_0x2b8b99;document[_0x5e6c01(0x70b)](_0x5e6c01(0x485))[_0x5e6c01(0x9cc)][_0x5e6c01(0x505)]('hidden');}),document['getElementById'](_0x2b8b99(0x849))['addEventListener']('click',handleVerifyAnswersInEditor),document[_0x2b8b99(0x70b)](_0x2b8b99(0xdcf))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x13f00d=_0x2b8b99;document[_0x13f00d(0x70b)](_0x13f00d(0x485))[_0x13f00d(0x9cc)][_0x13f00d(0x505)](_0x13f00d(0xbce)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x2b8b99(0x70b)]('auto-fix-latex-btn')[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleAutoFixLatex);const _0x312043=document[_0x2b8b99(0x70b)](_0x2b8b99(0x66a));_0x312043&&_0x312043[_0x2b8b99(0x86d)]('click',_0x334bca=>{const _0xe363d5=_0x2b8b99,_0x1bb685=_0x334bca[_0xe363d5(0x1c8)]['closest'](_0xe363d5(0x42a));if(_0x1bb685){const _0x39fb18=_0x1bb685[_0xe363d5(0x252)](_0xe363d5(0xb5d)),_0x5913b4=parseInt(_0x39fb18[_0xe363d5(0x71a)][_0xe363d5(0x446)],0xa);handleRegenerateQuestionInEditor(_0x5913b4);return;}const _0x363fd7=_0x334bca['target']['closest'](_0xe363d5(0xb32));if(_0x363fd7){const _0x4979da=_0x363fd7[_0xe363d5(0x252)](_0xe363d5(0xb5d)),_0x47ed87=parseInt(_0x4979da[_0xe363d5(0x71a)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x47ed87);return;}const _0x4fa5ba=_0x334bca[_0xe363d5(0x1c8)]['closest'](_0xe363d5(0x561));if(_0x4fa5ba){handleAddQuestionInEditor();return;}});document[_0x2b8b99(0x70b)]('open-quiz-bank-btn')['addEventListener'](_0x2b8b99(0x9a8),openQuizBankModal),document[_0x2b8b99(0x70b)](_0x2b8b99(0x3d2))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),()=>{const _0x4ee4c3=_0x2b8b99;document[_0x4ee4c3(0x70b)](_0x4ee4c3(0x601))[_0x4ee4c3(0x9cc)]['add']('hidden');}),document[_0x2b8b99(0x70b)]('bank-quiz-search-input')[_0x2b8b99(0x86d)](_0x2b8b99(0x7d8),_0x2529d3=>renderQuizBankList(_0x2529d3[_0x2b8b99(0x1c8)]['value']));const _0x4fb9d4=document[_0x2b8b99(0x70b)](_0x2b8b99(0xc44));if(_0x4fb9d4){let _0x42d285=null;_0x4fb9d4[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),_0x193799=>{const _0x274b19=_0x2b8b99,_0x5c1ca2=_0x193799[_0x274b19(0x1c8)],_0x283a0c=_0x5c1ca2['closest'](_0x274b19(0xb70)),_0x5cd090=_0x5c1ca2[_0x274b19(0x252)](_0x274b19(0x50b)),_0x2ef988=_0x5c1ca2[_0x274b19(0x252)]('.save-custom-topic-btn'),_0x59a004=_0x5c1ca2['closest'](_0x274b19(0x1b8));if(_0x5cd090){_0x193799[_0x274b19(0x95b)]();const _0x18c8e4=_0x5cd090[_0x274b19(0x71a)]['id'],_0x5f4065=_0x5cd090[_0x274b19(0x252)]('.group')[_0x274b19(0xdde)](_0x274b19(0x3f0))[_0x274b19(0xc66)];showConfirmation(_0x274b19(0x80b)+_0x5f4065+'\x22?',()=>handleDeleteCustomTopic(_0x18c8e4));}else{if(_0x283a0c){_0x193799[_0x274b19(0x95b)]();_0x42d285&&toggleTopicEditMode(_0x42d285,![]);const _0x2f32a2=_0x283a0c[_0x274b19(0x252)](_0x274b19(0x40d));_0x42d285=_0x2f32a2,toggleTopicEditMode(_0x2f32a2,!![]);}else{if(_0x2ef988){_0x193799[_0x274b19(0x95b)]();const _0x279c69=_0x2ef988[_0x274b19(0x71a)]['id'],_0x538e59=_0x2ef988[_0x274b19(0x252)]('[data-topic-container-id]'),_0x16620c=_0x538e59[_0x274b19(0xdde)](_0x274b19(0xc12))[_0x274b19(0xd95)];handleUpdateCustomTopic(_0x279c69,_0x16620c),_0x42d285=null;}else{if(_0x59a004){_0x193799[_0x274b19(0x95b)]();const _0x4c9988=_0x59a004[_0x274b19(0x252)](_0x274b19(0x40d));toggleTopicEditMode(_0x4c9988,![]),_0x42d285=null;}}}}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x9b0))[_0x2b8b99(0x86d)]('click',()=>{const _0x1e0c9b=_0x2b8b99;document['getElementById'](_0x1e0c9b(0xcd5))[_0x1e0c9b(0x9cc)]['add']('hidden');}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x94b))[_0x2b8b99(0x86d)]('click',()=>{const _0x8587c4=_0x2b8b99;document[_0x8587c4(0x70b)](_0x8587c4(0xcd5))['classList'][_0x8587c4(0x505)](_0x8587c4(0xbce));}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x7e5))[_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),handleExportLessonPDF);}document['getElementById']('close-comparison-modal-btn')[_0x2b8b99(0x86d)]('click',()=>{const _0x17ee13=_0x2b8b99;document[_0x17ee13(0x70b)](_0x17ee13(0x626))[_0x17ee13(0x9cc)][_0x17ee13(0x505)]('hidden');}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x333))[_0x2b8b99(0x86d)]('click',()=>{const _0x4f285e=_0x2b8b99;document[_0x4f285e(0x70b)](_0x4f285e(0x626))[_0x4f285e(0x9cc)][_0x4f285e(0x505)](_0x4f285e(0xbce));}),setupComparisonModalTabs(),document[_0x2b8b99(0xdb8)][_0x2b8b99(0x86d)](_0x2b8b99(0x9a8),function(_0x57bfe9){const _0x4ae2ba=_0x2b8b99;if(_0x57bfe9['target'][_0x4ae2ba(0x9cc)][_0x4ae2ba(0x2bc)]('practice-topic-btn')){const _0x2076a5=unescape(_0x57bfe9[_0x4ae2ba(0x1c8)][_0x4ae2ba(0x71a)]['topic']);startSkillPractice(_0x2076a5);}}),document[_0x2b8b99(0x70b)](_0x2b8b99(0x6f7))['addEventListener'](_0x2b8b99(0x9a8),_0x3fbf91=>{const _0x40be1a=_0x2b8b99,_0x359ef6=_0x3fbf91['target']['closest'](_0x40be1a(0x660));if(_0x359ef6){const _0x585f1f=_0x359ef6['dataset'][_0x40be1a(0xd11)];handleDeleteSubmission(_0x585f1f);return;}const _0x1a229e=_0x3fbf91['target']['closest'](_0x40be1a(0x63d));if(_0x1a229e){const _0x3950b4=_0x1a229e['dataset'][_0x40be1a(0xd11)],_0x1d5254=_0x1a229e[_0x40be1a(0x71a)][_0x40be1a(0x35a)],_0x3352eb=prompt(_0x40be1a(0x88f)+_0x3950b4+'\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)',_0x1d5254);if(_0x3352eb!==null&&_0x3352eb[_0x40be1a(0x28f)]()!==''){const _0x4ecd17=parseInt(_0x3352eb,0xa);!isNaN(_0x4ecd17)?handleManualEditPoints(_0x3950b4,_0x4ecd17):alert(_0x40be1a(0x2dc));}}});}async function handleStartGroupMode(_0x1d87fb,_0x51b7d5=![]){const _0x55b764=_0x47050f,_0x38ad7c=allQuizzes['find'](_0x56f531=>_0x56f531['id']===_0x1d87fb)||allQuizzesGlobal['find'](_0x1a61ba=>_0x1a61ba['id']===_0x1d87fb);if(!_0x38ad7c){showMessage(_0x55b764(0x53b));return;}currentQuizData=getShuffledQuiz(_0x38ad7c);const _0x4236b5=Math[_0x55b764(0x3ee)](0x3e8+Math[_0x55b764(0x457)]()*0x2328)[_0x55b764(0xae1)]();try{const _0x3a92c9=await addDoc(collection(db,'artifacts/'+appId+_0x55b764(0xd73)),{'quizId':_0x38ad7c['id'],'projectId':_0x38ad7c[_0x55b764(0x28c)],'status':_0x55b764(0x673),'pin':_0x4236b5,'mode':_0x55b764(0x7af),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x51b7d5});currentTeamQuizId=_0x3a92c9['id'],showView(_0x55b764(0x1e1)),renderAdminTeamQuizDashboard(_0x4236b5,_0x38ad7c[_0x55b764(0x6d2)],'group'),listenForTeamQuizUpdates();}catch(_0x185ba5){console[_0x55b764(0x8c2)](_0x55b764(0x4b3),_0x185ba5),showMessage(_0x55b764(0x69b));}}async function showStudentProgressView(){const _0x9f2bc6=_0x47050f;studentInitialView[_0x9f2bc6(0x9cc)][_0x9f2bc6(0x505)](_0x9f2bc6(0xbce)),document['getElementById'](_0x9f2bc6(0x8a3))[_0x9f2bc6(0x9cc)][_0x9f2bc6(0x7a8)](_0x9f2bc6(0xbce));const _0x3f00e7=document['getElementById'](_0x9f2bc6(0x3a4)),_0x4e5d18=document[_0x9f2bc6(0x70b)](_0x9f2bc6(0xbb9)),_0x40eacb=document[_0x9f2bc6(0x70b)](_0x9f2bc6(0xccf));_0x40eacb[_0x9f2bc6(0xb90)]=_0x9f2bc6(0x2cd),_0x4e5d18[_0x9f2bc6(0xb90)]=_0x9f2bc6(0xdc3),_0x4e5d18[_0x9f2bc6(0x9b6)]=!![],_0x3f00e7['innerHTML']=_0x9f2bc6(0xa30);if(allProjects[_0x9f2bc6(0xdf3)]===0x0){const _0x4fd4ed=collection(db,_0x9f2bc6(0x4cd)+appId+_0x9f2bc6(0x28e)),_0x412cc2=await getDocs(_0x4fd4ed);allProjects=_0x412cc2['docs'][_0x9f2bc6(0x3cc)](_0xb4f3b5=>({'id':_0xb4f3b5['id'],..._0xb4f3b5[_0x9f2bc6(0x54c)]()}));}const _0x4f3703=allProjects['filter'](_0x13a154=>_0x13a154[_0x9f2bc6(0x54d)]?.[_0x9f2bc6(0x6c5)]!==![]);_0x4f3703[_0x9f2bc6(0x846)]((_0x50e280,_0x3bd123)=>_0x50e280['projectName'][_0x9f2bc6(0xbf4)](_0x3bd123['projectName'],'th')),_0x3f00e7[_0x9f2bc6(0xb90)]=_0x9f2bc6(0xce8)+_0x4f3703['map'](_0x1ee6f6=>_0x9f2bc6(0x70f)+_0x1ee6f6['id']+'\x22>'+_0x1ee6f6[_0x9f2bc6(0x73e)]+_0x9f2bc6(0xe8f))[_0x9f2bc6(0x909)](''),_0x3f00e7['onchange']=()=>{const _0x24a369=_0x9f2bc6,_0x5a2c1b=_0x4e5d18[_0x24a369(0xd95)],_0x367cff=_0x3f00e7[_0x24a369(0xd95)];_0x4e5d18[_0x24a369(0x9b6)]=!![],_0x4e5d18['innerHTML']=_0x24a369(0xdc3),_0x40eacb[_0x24a369(0xb90)]=_0x24a369(0xe21);if(!_0x367cff)return;const _0x4ba43e=allProjects[_0x24a369(0x60d)](_0x3b7559=>_0x3b7559['id']===_0x367cff);if(!_0x4ba43e||!_0x4ba43e[_0x24a369(0xa70)])return;const _0x16d484=()=>{const _0xaa215c=_0x24a369;_0x4e5d18['innerHTML']=_0xaa215c(0xdc3)+_0x4ba43e[_0xaa215c(0xa70)][_0xaa215c(0x3cc)](_0x469eb4=>_0xaa215c(0x70f)+_0x469eb4+'\x22>'+_0x469eb4+_0xaa215c(0xe8f))['join'](''),_0x4e5d18[_0xaa215c(0x9b6)]=![];const _0x2c2931=Array[_0xaa215c(0x2d0)](_0x4e5d18[_0xaa215c(0x9d8)])[_0xaa215c(0x3cc)](_0x520d6a=>_0x520d6a[_0xaa215c(0xd95)]);if(_0x5a2c1b&&_0x2c2931[_0xaa215c(0x7f1)](_0x5a2c1b))_0x4e5d18['value']=_0x5a2c1b,_0x4e5d18[_0xaa215c(0x474)](new Event(_0xaa215c(0xd1c)));else _0x4ba43e[_0xaa215c(0xa70)][_0xaa215c(0xdf3)]===0x1&&(_0x4e5d18[_0xaa215c(0xd95)]=_0x4ba43e[_0xaa215c(0xa70)][0x0],_0x4e5d18['dispatchEvent'](new Event('change')));};if(_0x4ba43e[_0x24a369(0x54d)]?.[_0x24a369(0x6bd)]){if(sessionStorage[_0x24a369(0x1f0)](_0x24a369(0x2e9)+_0x367cff)===_0x24a369(0xadf)){_0x16d484();return;}const _0x440f14=document['getElementById'](_0x24a369(0x16f)),_0x2fb446=document['getElementById'](_0x24a369(0x76b)),_0x1f3f0e=document['getElementById'](_0x24a369(0xa7d)),_0xd3cef2=document[_0x24a369(0x70b)](_0x24a369(0x25c)),_0x887062=document[_0x24a369(0x70b)](_0x24a369(0x379));document[_0x24a369(0x70b)](_0x24a369(0x375))[_0x24a369(0xc66)]='สำหรับโปรเจค:\x20'+_0x4ba43e[_0x24a369(0x73e)],_0xd3cef2[_0x24a369(0xd95)]='',_0x887062['classList'][_0x24a369(0x505)]('hidden'),_0x440f14[_0x24a369(0x9cc)]['remove'](_0x24a369(0xbce));const _0x3454c9=()=>{const _0x30ba08=_0x24a369,_0x1efd6b=_0xd3cef2['value']['trim']();_0x1efd6b===_0x4ba43e[_0x30ba08(0x54d)][_0x30ba08(0xd12)]?(sessionStorage[_0x30ba08(0x205)](_0x30ba08(0x2e9)+_0x367cff,_0x30ba08(0xadf)),_0x440f14['classList']['add'](_0x30ba08(0xbce)),_0x16d484(),_0x2fb446[_0x30ba08(0x64c)](_0x30ba08(0x9a8),_0x3454c9)):_0x887062[_0x30ba08(0x9cc)][_0x30ba08(0x7a8)]('hidden');};_0x2fb446[_0x24a369(0x257)]=_0x3454c9,_0x1f3f0e[_0x24a369(0x257)]=()=>{const _0x52c964=_0x24a369;_0x440f14['classList'][_0x52c964(0x505)]('hidden'),_0x3f00e7[_0x52c964(0xd95)]='',_0x2fb446['removeEventListener'](_0x52c964(0x9a8),_0x3454c9);};}else _0x16d484();},_0x4e5d18[_0x9f2bc6(0x873)]=()=>{const _0x18de54=_0x9f2bc6,_0x19530f=_0x3f00e7[_0x18de54(0xd95)],_0x7a6224=_0x4e5d18[_0x18de54(0xd95)];_0x19530f&&_0x7a6224&&renderStudentProgressDashboard(_0x19530f,_0x7a6224);};}async function confirmAndJoinSyncGame(){const _0x541ecf=_0x47050f;lastSeenQuestionIndex=-0x1,sessionStorage[_0x541ecf(0x39a)](_0x541ecf(0xe2c)),sessionStorage[_0x541ecf(0x39a)](_0x541ecf(0x183)),Object[_0x541ecf(0x5d7)](sessionStorage)[_0x541ecf(0xc4c)](_0x46bbf9=>{const _0x5b2071=_0x541ecf;(_0x46bbf9[_0x5b2071(0xdac)](_0x5b2071(0x4fb))||_0x46bbf9['startsWith'](_0x5b2071(0x1e7))||_0x46bbf9[_0x5b2071(0xdac)]('hiddenOptions_q'))&&sessionStorage[_0x5b2071(0x39a)](_0x46bbf9);});const _0x101eed=Array[_0x541ecf(0x2d0)](document[_0x541ecf(0x8fc)](_0x541ecf(0xe95)))[_0x541ecf(0x3cc)](_0x30b579=>_0x30b579['value']);if(_0x101eed[_0x541ecf(0xdf3)]===0x0){showMessage(_0x541ecf(0xdba));return;}localTeamPlayers=_0x101eed,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x4b52b6=writeBatch(db),_0x3f8c97=serverTimestamp();_0x101eed[_0x541ecf(0xc4c)](_0x4e3b4d=>{const _0x4227e5=_0x541ecf,_0x45286f=doc(db,_0x4227e5(0x4cd)+appId+_0x4227e5(0x654)+currentLiveGameId+_0x4227e5(0x59c),_0x4e3b4d),_0x1bda04={'name':_0x4e3b4d,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x4227e5(0x294),'answers':[],'joinedAt':_0x3f8c97,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x4b52b6['set'](_0x45286f,_0x1bda04,{'merge':!![]});}),await _0x4b52b6[_0x541ecf(0xe4e)](),showView('live-game'),document[_0x541ecf(0x70b)]('student-team-selection-view')[_0x541ecf(0x9cc)]['add']('hidden'),currentStudentName=_0x101eed[0x0],listenForSyncGameUpdates();const _0x2fe5a5={'gameId':currentLiveGameId,'mode':_0x541ecf(0xe5e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x541ecf(0x205)](_0x541ecf(0xc10),JSON[_0x541ecf(0xcfa)](_0x2fe5a5)),currentMode!==_0x541ecf(0x200)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x541ecf(0x86d)](_0x541ecf(0x6c9),handleFullscreenChange),document[_0x541ecf(0x86d)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x541ecf(0x86d)]('mousemove',resetDimTimer),window[_0x541ecf(0x86d)](_0x541ecf(0x5ad),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window[_0x541ecf(0x86d)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x52f841){console[_0x541ecf(0x8c2)]('Error\x20joining\x20sync\x20game:',_0x52f841),showMessage(_0x541ecf(0xbdd)+_0x52f841[_0x541ecf(0xac4)]);}}async function resumeActiveGameSession(){const _0x38ecb3=_0x47050f,_0x2a0771=sessionStorage[_0x38ecb3(0x1f0)]('activeGameSession');if(!_0x2a0771)return;const _0x153946=JSON[_0x38ecb3(0xcd4)](_0x2a0771),{gameId:_0x89bc10,mode:_0x3de2ae,role:_0x17a3d2,players:_0x1b4619,turnIndex:_0x30f574}=_0x153946;try{if(_0x17a3d2===_0x38ecb3(0xb0f)&&_0x3de2ae===_0x38ecb3(0xe5e)){const _0x1380ff=doc(db,'artifacts/'+appId+_0x38ecb3(0x946),_0x89bc10),_0x3a7519=await getDoc(_0x1380ff);if(!_0x3a7519[_0x38ecb3(0x7ed)]()||_0x3a7519['data']()[_0x38ecb3(0xbd3)]===_0x38ecb3(0x824)||_0x3a7519['data']()[_0x38ecb3(0xbd3)]===_0x38ecb3(0x1cc)){sessionStorage[_0x38ecb3(0x39a)](_0x38ecb3(0xc10));return;}console['log'](_0x38ecb3(0x2da)+_0x89bc10+')'),currentMode=_0x38ecb3(0xb0f),currentLiveGameId=_0x89bc10,currentQuizData=_0x3a7519[_0x38ecb3(0x54c)]()[_0x38ecb3(0x1ca)],showView(_0x38ecb3(0x1e1)),listenForSyncGameUpdates();}else{if(_0x3de2ae===_0x38ecb3(0xe5e)&&_0x1b4619){const _0x3d0780=doc(db,_0x38ecb3(0x4cd)+appId+_0x38ecb3(0x946),_0x89bc10),_0x53f71c=await getDoc(_0x3d0780);if(!_0x53f71c[_0x38ecb3(0x7ed)]()||_0x53f71c['data']()[_0x38ecb3(0xbd3)]===_0x38ecb3(0x824)||_0x53f71c[_0x38ecb3(0x54c)]()[_0x38ecb3(0xbd3)]===_0x38ecb3(0x1cc)){sessionStorage['removeItem'](_0x38ecb3(0xc10));return;}console[_0x38ecb3(0x418)](_0x38ecb3(0xd02)+_0x89bc10+')'),currentLiveGameId=_0x89bc10,currentStudentName=_0x1b4619[0x0],localTeamPlayers=_0x1b4619,showView(_0x38ecb3(0x1e1)),listenForSyncGameUpdates();}else{if((_0x3de2ae===_0x38ecb3(0x741)||_0x3de2ae===_0x38ecb3(0x7af))&&_0x1b4619){const _0xbabcbb=doc(db,_0x38ecb3(0x4cd)+appId+_0x38ecb3(0xd73),_0x89bc10),_0x518d6c=await getDoc(_0xbabcbb);if(!_0x518d6c[_0x38ecb3(0x7ed)]()||_0x518d6c[_0x38ecb3(0x54c)]()[_0x38ecb3(0xbd3)]===_0x38ecb3(0x824)||_0x518d6c[_0x38ecb3(0x54c)]()[_0x38ecb3(0xbd3)]===_0x38ecb3(0x1cc)){sessionStorage[_0x38ecb3(0x39a)](_0x38ecb3(0xc10));return;}console[_0x38ecb3(0x418)](_0x38ecb3(0x7b3)+_0x3de2ae+_0x38ecb3(0x74a)+_0x89bc10+')'),currentTeamQuizId=_0x89bc10,localTeamPlayers=_0x1b4619,localQuestionIndex=_0x153946[_0x38ecb3(0x33c)]||0x0,localPlayerIndex=_0x153946[_0x38ecb3(0x8df)]||0x0;const _0x4a4f79=_0x518d6c[_0x38ecb3(0x54c)](),_0x59ad40=doc(db,'artifacts/'+appId+_0x38ecb3(0x4fc),_0x4a4f79[_0x38ecb3(0x727)]),_0x12fa5a=await getDoc(_0x59ad40);_0x12fa5a['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x12fa5a['id'],..._0x12fa5a[_0x38ecb3(0x54c)]()}),showView(_0x38ecb3(0x2d1)),studentInitialView[_0x38ecb3(0x9cc)]['add']('hidden'),_0x3de2ae===_0x38ecb3(0x7af)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x14d51c){console[_0x38ecb3(0x8c2)](_0x38ecb3(0x5d2),_0x14d51c),sessionStorage[_0x38ecb3(0x39a)](_0x38ecb3(0xc10));}}async function handleUsePowerup(_0x5def3c,_0x1eb745,_0x12044d,_0x233fcb,_0x25961a){const _0xce3e8f=_0x47050f,_0x6d0039=_0x233fcb[_0xce3e8f(0x77d)],_0x2b2032=_0xce3e8f(0x1e7)+_0x6d0039+'_p'+_0x5def3c,_0x1fcce4=sessionStorage[_0xce3e8f(0x1f0)](_0x2b2032);if(_0x1fcce4&&_0x1eb745!==_0xce3e8f(0x17d)&&_0x1eb745!==_0xce3e8f(0xde4)){showMessage(_0xce3e8f(0xc8c));const _0x155e1a=document['getElementById'](_0xce3e8f(0x749)+_0x1eb745);if(_0x155e1a)_0x155e1a[_0xce3e8f(0x9b6)]=![];return;}if(_0x1eb745===_0xce3e8f(0x775)){sessionStorage['setItem'](_0x2b2032,_0x1eb745),renderStudentSyncQuestionView(_0x233fcb);return;}const _0x3740a0=doc(db,'artifacts/'+appId+_0xce3e8f(0x654)+currentLiveGameId+_0xce3e8f(0x59c),_0x5def3c);try{await runTransaction(db,async _0x5e07e7=>{const _0x3bafda=_0xce3e8f,_0x466fd2=await _0x5e07e7[_0x3bafda(0x7a6)](_0x3740a0);if(!_0x466fd2[_0x3bafda(0x7ed)]())throw _0x3bafda(0xa9c);const _0x5d3613=_0x466fd2[_0x3bafda(0x54c)](),_0x8af249=_0x5d3613[_0x3bafda(0x2cb)]||{},_0x5e603a=_0x8af249[_0x1eb745]||0x0;if(_0x5e603a<=0x0)throw _0x3bafda(0x1d5);const _0x1bc2db={};_0x1bc2db[_0x3bafda(0x511)+_0x1eb745]=increment(-0x1);if(_0x1eb745==='buyTime'){const _0x69c289=(_0x233fcb['timerDuration']||0xf0)*0x3e8,_0x5ec0fa=_0x69c289*0.25;_0x1bc2db[_0x3bafda(0x34c)]=increment(_0x5ec0fa);}_0x5e07e7[_0x3bafda(0xc8e)](_0x3740a0,_0x1bc2db);}),_0x1eb745===_0xce3e8f(0xe7e)&&sessionStorage[_0xce3e8f(0x205)](_0xce3e8f(0xe2c),_0xce3e8f(0xadf)),_0x1eb745!==_0xce3e8f(0x17d)&&_0x1eb745!==_0xce3e8f(0xde4)&&sessionStorage[_0xce3e8f(0x205)](_0x2b2032,_0x1eb745),applyPowerupEffect(_0x5def3c,_0x1eb745,_0x12044d,_0x233fcb,_0x25961a),(_0x1eb745==='cutOne'||_0x1eb745===_0xce3e8f(0xcf7)||_0x1eb745===_0xce3e8f(0x5bd))&&renderStudentSyncQuestionView(_0x233fcb);}catch(_0x24110){console[_0xce3e8f(0x8c2)](_0xce3e8f(0x461),_0x24110),showMessage(typeof _0x24110===_0xce3e8f(0xc7a)?_0x24110:_0xce3e8f(0x1de));const _0x5d3c22=document[_0xce3e8f(0x70b)](_0xce3e8f(0x749)+_0x1eb745);if(_0x5d3c22)_0x5d3c22[_0xce3e8f(0x9b6)]=![];}}async function getCachedOtherPlayers(_0x5cb4bc,_0x22ef6d){const _0x37acab=_0x47050f,_0x218805=_0x5cb4bc[_0x37acab(0x77d)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x218805)return console[_0x37acab(0x418)](_0x37acab(0x920)),cachedOtherPlayersForQuestion;console[_0x37acab(0x418)](_0x37acab(0x7e0));const _0x434d66=collection(db,'artifacts/'+appId+_0x37acab(0x654)+currentLiveGameId+_0x37acab(0x59c)),_0x1f3f76=query(_0x434d66,where(_0x37acab(0xbd3),'==','active')),_0x97f4e7=await getDocs(_0x1f3f76),_0x4fb200=[];return _0x97f4e7[_0x37acab(0xc4c)](_0x410136=>{const _0x373c51=_0x37acab,_0x4a5df9=_0x410136[_0x373c51(0x54c)]();_0x4fb200[_0x373c51(0x49c)](_0x4a5df9);}),cachedOtherPlayersForQuestion=_0x4fb200,cachedQuestionIndexForPlayers=_0x218805,_0x4fb200;}async function applyPowerupEffect(_0x298ffb,_0x495d28,_0x4d2576,_0x54816d,_0x55ad8){const _0x43e3a7=_0x47050f,_0x4fad01=_0x4d2576,_0x5d0298=_0x54816d[_0x43e3a7(0x77d)],_0x3c08bd='powerupUsed_q'+_0x5d0298+'_p'+_0x298ffb,_0x1a5cae=collection(db,_0x43e3a7(0x4cd)+appId+_0x43e3a7(0x654)+currentLiveGameId+_0x43e3a7(0x59c)),_0x233ae3=await getDocs(query(_0x1a5cae,where(_0x43e3a7(0xbd3),'==','active'))),_0x1af960=doc(db,_0x43e3a7(0x4cd)+appId+_0x43e3a7(0x946),currentLiveGameId),_0x5e3fea=await getDoc(_0x1af960),_0x30cb04=_0x5e3fea[_0x43e3a7(0x7ed)]()?_0x5e3fea[_0x43e3a7(0x54c)]():{},_0x3d25ca=_0x30cb04[_0x43e3a7(0x2ae)]||{},_0x4505a9=[];_0x233ae3['forEach'](_0xfde81b=>{const _0x51e170=_0x43e3a7,_0x1cbdf5=_0xfde81b[_0x51e170(0x54c)](),_0x14b8a7=_0x3d25ca[_0x1cbdf5[_0x51e170(0x312)]]||{};_0x4505a9[_0x51e170(0x49c)]({..._0x1cbdf5,'pointsLastRound':_0x14b8a7[_0x51e170(0x1c7)]!==undefined?_0x14b8a7[_0x51e170(0x1c7)]:_0x1cbdf5[_0x51e170(0x1c7)]||0x0,'score':_0x1cbdf5[_0x51e170(0x6e9)]||0x0});});const _0x14cd1e=_0x4505a9['find'](_0x3c5a1e=>_0x3c5a1e[_0x43e3a7(0x312)]===_0x298ffb)||_0x55ad8,_0x33b22e=_0x336ac4=>{const _0x30048d=_0x43e3a7,_0x532ce4=_0x54816d[_0x30048d(0x58e)]===_0x30048d(0x463),_0xd9a573=_0x54816d['isBlackMarketEnabled']===!![],_0x3e4160=_0x336ac4[_0x30048d(0x312)];if(!_0x532ce4)return _0x3e4160;const _0x1ccc0b=_0x54816d[_0x30048d(0x4eb)][_0x3e4160]||_0x30048d(0x679);let _0x2bce58=![];if(_0xd9a573){const _0x579d27=_0x14cd1e['score']||0x0,_0x2222b0=_0x336ac4[_0x30048d(0x6e9)]||0x0,_0x33c912=_0x14cd1e[_0x30048d(0x1c7)]||0x0,_0x371a0a=_0x336ac4['pointsLastRound']||0x0;_0x2bce58=_0x579d27>_0x2222b0||_0x579d27===_0x2222b0&&_0x33c912>_0x371a0a;}else{const _0x1c699b=_0x14cd1e[_0x30048d(0x1c7)]||0x0,_0x26cd13=_0x336ac4[_0x30048d(0x1c7)]||0x0;_0x2bce58=_0x1c699b>_0x26cd13;}return _0x2bce58?_0x3e4160+'\x20('+_0x1ccc0b+')':_0x1ccc0b;};switch(_0x495d28){case _0x43e3a7(0xe7e):try{let _0x573dea=0x0;const _0x66b1e5={};(_0x4d2576[_0x43e3a7(0x9d8)]||[])[_0x43e3a7(0xc4c)]((_0x21d465,_0x350527)=>{_0x66b1e5[_0x350527]=0x0;}),_0x4505a9[_0x43e3a7(0xc4c)](_0x45b896=>{const _0x15fc09=_0x43e3a7,_0x3d6839=(_0x45b896['answers']||[])[_0x15fc09(0x60d)](_0x2e466f=>_0x2e466f[_0x15fc09(0x33c)]===_0x5d0298);if(_0x3d6839&&_0x3d6839[_0x15fc09(0xc5d)]!==null){const _0x382509=parseInt(_0x3d6839[_0x15fc09(0xc5d)]);!isNaN(_0x382509)&&_0x66b1e5[_0x382509]!==undefined&&(_0x66b1e5[_0x382509]++,_0x573dea++);}});if(_0x573dea===0x0){showMessage(_0x43e3a7(0xcae));return;}let _0x2ec7e2=_0x43e3a7(0x59d)+_0x573dea+'\x20คน):\x0a\x0a';Object[_0x43e3a7(0xde2)](_0x66b1e5)['forEach'](([_0x2460f3,_0x5a680a])=>{const _0x410252=_0x43e3a7,_0x2ca155=_0x573dea>0x0?(_0x5a680a/_0x573dea*0x64)[_0x410252(0xadc)](0x0):0x0,_0x42f7ed=_0x410252(0x1aa)+(parseInt(_0x2460f3)+0x1);_0x2ec7e2+=_0x42f7ed+':\x20'+_0x5a680a+_0x410252(0x334)+_0x2ca155+_0x410252(0xc6f);}),showMessage(_0x2ec7e2);}catch(_0x4774de){console[_0x43e3a7(0x8c2)](_0x4774de),showMessage(_0x43e3a7(0x6fa));}break;case _0x43e3a7(0xde4):try{const _0x3e34bc=_0x4505a9[_0x43e3a7(0xc87)](_0x454105=>_0x454105[_0x43e3a7(0x312)]!==_0x298ffb);if(_0x3e34bc[_0x43e3a7(0xdf3)]===0x0){showMessage(_0x43e3a7(0xa6a)),handleRefundPowerup(_0x298ffb,_0x43e3a7(0xde4));break;}let _0x3933db=[];_0x3e34bc[_0x43e3a7(0xc4c)](_0xdec76d=>{const _0x1555c0=_0x43e3a7,_0x340278=_0xdec76d['powerups']||{};if((_0x340278[_0x1555c0(0xe7e)]||0x0)>0x0||(_0x340278[_0x1555c0(0x775)]||0x0)>0x0){const _0x7f24af=_0x33b22e(_0xdec76d);let _0x57680b=[];if(_0x340278['poll']>0x0)_0x57680b['push']('📊');if(_0x340278[_0x1555c0(0x775)]>0x0)_0x57680b['push']('💰');_0x3933db['push']('-\x20'+_0x7f24af+'\x20(มี:\x20'+_0x57680b[_0x1555c0(0x909)](',\x20')+')');}}),showMessage(_0x3933db['length']>0x0?'📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a'+_0x3933db[_0x43e3a7(0x909)]('\x0a'):_0x43e3a7(0x88b));}catch(_0x28c4c2){console[_0x43e3a7(0x8c2)](_0x28c4c2),handleRefundPowerup(_0x298ffb,_0x43e3a7(0xde4));}break;case _0x43e3a7(0xd24):case _0x43e3a7(0xa24):const _0x449743=_0x495d28==='forceConfident',_0x115faf=_0x4505a9[_0x43e3a7(0xc87)](_0x4210df=>{const _0x58d420=_0x43e3a7,_0x30c523=(_0x4210df[_0x58d420(0x9f8)]||[])[_0x58d420(0xcc9)](_0x109857=>_0x109857[_0x58d420(0x33c)]===_0x5d0298);return _0x4210df[_0x58d420(0x312)]!==_0x298ffb&&!_0x30c523&&_0x4210df['status']===_0x58d420(0x294);});if(_0x115faf[_0x43e3a7(0xdf3)]===0x0){showMessage('👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่'),sessionStorage['removeItem'](_0x3c08bd),handleRefundPowerup(_0x298ffb,_0x495d28);break;}const _0x8d0fba=_0x115faf['map']((_0x547294,_0x1db396)=>({'index':_0x1db396+0x1,'realName':_0x547294[_0x43e3a7(0x312)],'displayName':_0x33b22e(_0x547294)})),_0x1477da=_0x8d0fba[_0x43e3a7(0x3cc)](_0x2a1b98=>_0x2a1b98[_0x43e3a7(0xe39)]+':\x20'+_0x2a1b98[_0x43e3a7(0xc41)])['join']('\x0a'),_0x61197c=prompt('เลือกผู้เล่นที่จะ\x20\x22'+(_0x449743?_0x43e3a7(0xaeb):'สาป')+_0x43e3a7(0xa5b)+_0x1477da),_0x1c3692=parseInt(_0x61197c)-0x1;if(_0x1c3692>=0x0&&_0x1c3692<_0x8d0fba[_0x43e3a7(0xdf3)]){const _0x33be48=_0x8d0fba[_0x1c3692];if(_0x449743)handleForceConfident(_0x33be48[_0x43e3a7(0xb18)],_0x33be48[_0x43e3a7(0xc41)]);else handleApplyJinx(_0x33be48[_0x43e3a7(0xb18)],_0x33be48['displayName']);}else showMessage(_0x43e3a7(0x6be)),sessionStorage[_0x43e3a7(0x39a)](_0x3c08bd),handleRefundPowerup(_0x298ffb,_0x495d28);break;case _0x43e3a7(0x5bd):showMessage('🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200');break;case'wagerMultiplier':showMessage('💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน');break;case _0x43e3a7(0xa19):showMessage(_0x43e3a7(0x66b));break;case _0x43e3a7(0x17d):const _0x534b50=(_0x54816d[_0x43e3a7(0x1d4)]||0xf0)*0.25;showMessage(_0x43e3a7(0x393)+_0x534b50+'\x20วินาที');break;case _0x43e3a7(0xdfc):case _0x43e3a7(0xcf7):const _0x358ca2=document[_0x43e3a7(0x8fc)](_0x43e3a7(0x747));if(_0x358ca2[_0x43e3a7(0xdf3)]===0x0){showMessage(_0x43e3a7(0x9d2));return;}const _0x2e8ecd=_0x43e3a7(0xb57)+_0x5d0298+'_p'+_0x298ffb,_0x4e0d6e=JSON[_0x43e3a7(0xcd4)](sessionStorage[_0x43e3a7(0x1f0)](_0x2e8ecd)||'[]');let _0x14938d;_0x4fad01['questionType']===_0x43e3a7(0x92d)?_0x14938d=String(_0x4fad01[_0x43e3a7(0x75d)])['toLowerCase']()===_0x43e3a7(0xadf)?0x0:0x1:_0x14938d=_0x4fad01[_0x43e3a7(0xcd9)];const _0x1f2235=Array[_0x43e3a7(0x2d0)](_0x358ca2)[_0x43e3a7(0xc87)](_0x2a9a5a=>parseInt(_0x2a9a5a[_0x43e3a7(0x71a)][_0x43e3a7(0xd95)])!==_0x14938d&&!_0x4e0d6e[_0x43e3a7(0x7f1)](_0x2a9a5a[_0x43e3a7(0x71a)][_0x43e3a7(0xd95)]));if(_0x1f2235[_0x43e3a7(0xdf3)]===0x0){showMessage(_0x43e3a7(0x66e));return;}shuffleArray(_0x1f2235);let _0x167485=[..._0x4e0d6e];const _0x14287d=_0x495d28===_0x43e3a7(0xdfc)?0x1:0x2;for(let _0x230eae=0x0;_0x230eae<_0x14287d;_0x230eae++){_0x1f2235[_0x230eae]&&(_0x1f2235[_0x230eae][_0x43e3a7(0x9cc)][_0x43e3a7(0x505)](_0x43e3a7(0xbce)),_0x167485[_0x43e3a7(0x49c)](_0x1f2235[_0x230eae][_0x43e3a7(0x71a)]['value']));}sessionStorage[_0x43e3a7(0x205)](_0x2e8ecd,JSON[_0x43e3a7(0xcfa)](_0x167485)),showMessage(_0x495d28===_0x43e3a7(0xdfc)?_0x43e3a7(0x83d):_0x43e3a7(0x5eb));break;default:showMessage(_0x43e3a7(0x4be)+_0x495d28+_0x43e3a7(0xa8f));}}async function handleForceConfident(_0x5dfe0c,_0x21b57d){const _0x34d7ab=_0x47050f;if(!currentLiveGameId||!_0x5dfe0c)return;const _0x544302=doc(db,_0x34d7ab(0x4cd)+appId+_0x34d7ab(0x654)+currentLiveGameId+_0x34d7ab(0x59c),_0x5dfe0c);try{await updateDoc(_0x544302,{'isForcedConfident':!![]}),showMessage(_0x34d7ab(0xcb6)+_0x21b57d+_0x34d7ab(0x1f3));}catch(_0x2bad88){console[_0x34d7ab(0x8c2)](_0x34d7ab(0xd9f),_0x2bad88),showMessage(_0x34d7ab(0xe42));}}async function handleRefundPowerup(_0x14170f,_0x210232){const _0x5fb8c=_0x47050f,_0x73a06b=doc(db,'artifacts/'+appId+_0x5fb8c(0x654)+currentLiveGameId+_0x5fb8c(0x59c),_0x14170f);try{const _0x3d6cb1={};_0x3d6cb1[_0x5fb8c(0x511)+_0x210232]=increment(0x1),await updateDoc(_0x73a06b,_0x3d6cb1),console['log'](_0x5fb8c(0x408)+_0x210232+_0x5fb8c(0x876)+_0x14170f);}catch(_0xd3e8ab){console[_0x5fb8c(0x8c2)](_0x5fb8c(0x2a0),_0xd3e8ab);}}async function handleApplyJinx(_0x3ff380,_0x38bed9){const _0x5e249e=_0x47050f;if(!currentLiveGameId||!_0x3ff380)return;const _0x431656=doc(db,_0x5e249e(0x4cd)+appId+_0x5e249e(0x654)+currentLiveGameId+_0x5e249e(0x59c),_0x3ff380);try{await updateDoc(_0x431656,{'isJinxed':!![]}),showMessage(_0x5e249e(0x64b)+_0x38bed9+'\x20สำเร็จ!');}catch(_0x51a477){console[_0x5e249e(0x8c2)](_0x5e249e(0x634),_0x51a477),showMessage(_0x5e249e(0xe42));}}function activateFileInputAreaWithLoadedFile(){const _0x1d695a=_0x47050f,_0x3ddf36=document['getElementById'](_0x1d695a(0x75b)),_0x1c553d=document[_0x1d695a(0x70b)](_0x1d695a(0x5d4)),_0x22ad78=document[_0x1d695a(0x70b)](_0x1d695a(0x6b5));selectedFile?_0x22ad78[_0x1d695a(0xceb)]?(_0x3ddf36['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x3ddf36[_0x1d695a(0x9b6)]=![],_0x1c553d[_0x1d695a(0x9cc)][_0x1d695a(0x505)](_0x1d695a(0xbce))):(_0x3ddf36[_0x1d695a(0x9b6)]=!![],_0x1c553d[_0x1d695a(0x9cc)][_0x1d695a(0x505)](_0x1d695a(0xbce)));}async function handleKickPlayerSync(_0x2021ce){const _0xaec22=_0x47050f;if(!currentLiveGameId||!_0x2021ce)return;const _0xc3e252=doc(db,_0xaec22(0x4cd)+appId+_0xaec22(0x654)+currentLiveGameId+'/players',_0x2021ce);try{await updateDoc(_0xc3e252,{'status':_0xaec22(0x96c)});}catch(_0x13c8e9){console[_0xaec22(0x8c2)](_0xaec22(0x57d)+_0x2021ce+':',_0x13c8e9),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x325b50,_0x2be4a3){const _0x284fa4=_0x47050f,_0xac41e0=document[_0x284fa4(0x70b)](_0x284fa4(0xccf));_0xac41e0['innerHTML']=_0x284fa4(0xe1e);try{const _0x3433c6=collection(db,'artifacts/'+appId+_0x284fa4(0x4fc)),_0x12813a=query(_0x3433c6,where(_0x284fa4(0x28c),'==',_0x325b50)),_0x496da7=await getDocs(_0x12813a),_0x258a83=_0x496da7[_0x284fa4(0x26e)][_0x284fa4(0x3cc)](_0x171ffe=>({'id':_0x171ffe['id'],..._0x171ffe[_0x284fa4(0x54c)]()})),_0x28f37a=_0x258a83[_0x284fa4(0x3cc)](_0x8855d5=>getDoc(doc(db,_0x284fa4(0x4cd)+appId+'/public/data/quizzes/'+_0x8855d5['id']+'/submissions',_0x2be4a3))),_0x19c6a8=await Promise[_0x284fa4(0xb3f)](_0x28f37a),_0x13d083=_0x19c6a8[_0x284fa4(0xc87)](_0x42b6da=>_0x42b6da[_0x284fa4(0x7ed)]())[_0x284fa4(0x3cc)](_0x2be6b6=>({'quizId':_0x2be6b6[_0x284fa4(0x1b6)][_0x284fa4(0x65e)]['parent']['id'],..._0x2be6b6[_0x284fa4(0x54c)]()}));if(_0x13d083['length']===0x0){_0xac41e0['innerHTML']=_0x284fa4(0xa84);return;}let _0x39bd5c=_0x284fa4(0x5f8);_0x13d083[_0x284fa4(0xc4c)](_0xeba6d=>{const _0x3ad8ae=_0x284fa4,_0x5ab975=_0x258a83['find'](_0x5b6688=>_0x5b6688['id']===_0xeba6d[_0x3ad8ae(0x727)]),_0x4fba85=_0x5ab975[_0x3ad8ae(0x54d)]?.[_0x3ad8ae(0xa0d)]||_0x3ad8ae(0x19c),_0x57d7d2=_0x5ab975['settings']?.['passingScore']??0x0,_0x4eeaaa=_0xeba6d[_0x3ad8ae(0x36a)]>=_0x57d7d2;let _0x51ccb9='',_0x29141f='bg-gray-50';switch(_0x4fba85){case _0x3ad8ae(0x19c):case _0x3ad8ae(0x4c0):_0x29141f=_0x4eeaaa?_0x3ad8ae(0xe11):_0x3ad8ae(0xac3),_0x51ccb9=_0x3ad8ae(0xd09)+(_0x4eeaaa?_0x3ad8ae(0x24a):'text-red-700')+'\x22>'+_0xeba6d[_0x3ad8ae(0x36a)]+_0x3ad8ae(0x805)+_0xeba6d[_0x3ad8ae(0x621)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x4eeaaa?_0x3ad8ae(0xc9b):_0x3ad8ae(0xcac))+'\x22>'+(_0x4eeaaa?_0x3ad8ae(0x878):_0x3ad8ae(0x72e))+_0x3ad8ae(0xaf8);break;case _0x3ad8ae(0xd8e):_0x29141f=_0x4eeaaa?_0x3ad8ae(0xe11):'bg-red-50',_0x51ccb9=_0x3ad8ae(0x7d1)+(_0x4eeaaa?_0x3ad8ae(0xc9b):'bg-red-200\x20text-red-800')+'\x22>'+(_0x4eeaaa?_0x3ad8ae(0x878):_0x3ad8ae(0x72e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3ad8ae(0xdf7):_0x29141f=_0x3ad8ae(0x445),_0x51ccb9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x39bd5c+=_0x3ad8ae(0x96b)+_0x29141f+_0x3ad8ae(0xe2a)+_0x5ab975[_0x3ad8ae(0x6d2)]+_0x3ad8ae(0x632)+_0xeba6d[_0x3ad8ae(0xc38)][_0x3ad8ae(0xdf3)]+_0x3ad8ae(0x185)+new Date(_0xeba6d[_0x3ad8ae(0xadb)])['toLocaleDateString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51ccb9+_0x3ad8ae(0x361);}),_0x39bd5c+='</div>',_0xac41e0['innerHTML']=_0x39bd5c;}catch(_0x4ae4b2){console['error'](_0x284fa4(0xdaa),_0x4ae4b2),_0xac41e0[_0x284fa4(0xb90)]=_0x284fa4(0x3df);}}function renderQuizBankListForMultiSelect(_0x4d8140=''){const _0x1918f5=_0x47050f,_0x858033=document[_0x1918f5(0x70b)]('bank-quiz-list'),_0x4771b8=_0x4d8140[_0x1918f5(0xcab)]()[_0x1918f5(0x28f)](),_0x450b7e=allQuizzesGlobal[_0x1918f5(0x3cc)](_0x155c7f=>({..._0x155c7f,'projectName':allProjects[_0x1918f5(0x60d)](_0x12064d=>_0x12064d['id']===_0x155c7f['projectId'])?.[_0x1918f5(0x73e)]||_0x1918f5(0xd22)}))[_0x1918f5(0xc87)](_0x5e7305=>(_0x5e7305[_0x1918f5(0x6d2)]||'')[_0x1918f5(0xcab)]()['includes'](_0x4771b8)||(_0x5e7305['projectName']||'')['toLowerCase']()[_0x1918f5(0x7f1)](_0x4771b8)||_0x5e7305['id'][_0x1918f5(0xae1)]()['includes'](_0x4771b8));_0x858033[_0x1918f5(0xb90)]=_0x450b7e[_0x1918f5(0xdf3)]?_0x450b7e[_0x1918f5(0x3cc)](_0x59fe2f=>_0x1918f5(0x348)+_0x59fe2f['id']+_0x1918f5(0x261)+(_0x59fe2f['topic']||_0x1918f5(0x363))+_0x1918f5(0x2f2)+_0x59fe2f[_0x1918f5(0x73e)]+_0x1918f5(0x221)+_0x59fe2f['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x1918f5(0x909)](''):_0x1918f5(0xb8e),_0x858033[_0x1918f5(0x873)]=()=>{const _0x5b3484=_0x1918f5,_0x5ac730=document[_0x5b3484(0xdde)]('.quiz-bank-checkbox:checked');document[_0x5b3484(0x70b)](_0x5b3484(0xcbe))[_0x5b3484(0x9b6)]=!_0x5ac730;};}function setupStudentProgressListeners(){const _0x2d954c=_0x47050f;document[_0x2d954c(0x70b)](_0x2d954c(0x676))['addEventListener']('click',showStudentProgressView),document[_0x2d954c(0x70b)]('back-to-student-home-btn')['addEventListener']('click',()=>{const _0x123986=_0x2d954c;document['getElementById']('student-progress-view')['classList'][_0x123986(0x505)](_0x123986(0xbce)),document[_0x123986(0x70b)]('student-initial-view')[_0x123986(0x9cc)][_0x123986(0x7a8)](_0x123986(0xbce));});}async function startSkillPractice(_0x152d12){const _0x6ebab4=_0x47050f;studentResultArea[_0x6ebab4(0x9cc)][_0x6ebab4(0x505)]('hidden'),studentQuizArea['innerHTML']=_0x6ebab4(0x6ad),studentQuizArea['classList'][_0x6ebab4(0x7a8)]('hidden');try{const _0x4e6a5e=await getStandardizedTopic(_0x152d12);console[_0x6ebab4(0x418)](_0x6ebab4(0x99f)+_0x152d12+_0x6ebab4(0x4d7)+_0x4e6a5e+'\x22'),studentQuizArea[_0x6ebab4(0xdde)]('p')[_0x6ebab4(0xc66)]=_0x6ebab4(0xb6c)+_0x4e6a5e+'\x22...';const _0x27ec5e=collection(db,'artifacts/'+appId+_0x6ebab4(0x5b2)),_0x12fbed=query(_0x27ec5e,where(_0x6ebab4(0x6d2),'==',_0x4e6a5e)),_0x4079bb=await getDocs(_0x12fbed);if(_0x4079bb[_0x6ebab4(0x26e)][_0x6ebab4(0xdf3)]>=0x3){console[_0x6ebab4(0x418)](_0x6ebab4(0xe12)+_0x4079bb[_0x6ebab4(0x26e)]['length']+_0x6ebab4(0x607)+_0x4e6a5e+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0xbfe346=_0x4079bb[_0x6ebab4(0x26e)][_0x6ebab4(0x3cc)](_0x177bd2=>_0x177bd2[_0x6ebab4(0x54c)]());shuffleArray(_0xbfe346);const _0x2f6c74={'topic':_0x4e6a5e,'questions':_0xbfe346[_0x6ebab4(0x787)](0x0,0x3)};displaySkillPracticeDrill(_0x2f6c74);}else{console['log'](_0x6ebab4(0xdfd)+_0x4e6a5e+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x1a0881=await generatePracticeQuestions(_0x4e6a5e);await saveDrillToPracticeBank(_0x1a0881,_0x4e6a5e),displaySkillPracticeDrill(_0x1a0881);}}catch(_0x2c9e04){console[_0x6ebab4(0x8c2)](_0x6ebab4(0xa89),_0x2c9e04),showMessage(_0x6ebab4(0x9ed)),studentQuizArea['classList'][_0x6ebab4(0x505)](_0x6ebab4(0xbce)),studentResultArea[_0x6ebab4(0x9cc)][_0x6ebab4(0x7a8)](_0x6ebab4(0xbce));}}async function saveDrillToPracticeBank(_0x2b4434,_0x2685e9){const _0x2b0663=_0x47050f,_0x36fb07=collection(db,_0x2b0663(0x4cd)+appId+_0x2b0663(0x5b2)),_0xcca4c1=writeBatch(db);_0x2b4434[_0x2b0663(0xbd5)][_0x2b0663(0xc4c)](_0x47c548=>{const _0x5def5e=_0x2b0663,_0x1402d2=doc(_0x36fb07);_0xcca4c1[_0x5def5e(0x5c3)](_0x1402d2,{'topic':_0x2685e9,'questionText':_0x47c548['questionText'],'options':_0x47c548['options'],'correctAnswerIndex':_0x47c548['correctAnswerIndex'],'explanation':_0x47c548['explanation'],'createdAt':serverTimestamp()});});try{await _0xcca4c1[_0x2b0663(0xe4e)](),console[_0x2b0663(0x418)](_0x2b0663(0x4f5)+_0x2b4434['questions'][_0x2b0663(0xdf3)]+_0x2b0663(0x298));}catch(_0x35e666){console[_0x2b0663(0x8c2)](_0x2b0663(0x97b),_0x35e666);}}async function getStandardizedTopic(_0x2beca1){const _0x89de73=_0x47050f,_0x287285=_0x89de73(0x6b4)+_0x2beca1+_0x89de73(0x1c1),_0x361c1e={'type':_0x89de73(0xa5d),'properties':{'standardTopic':{'type':_0x89de73(0xd52)}},'required':[_0x89de73(0x1ce)]};try{const _0x2bddd6=await callAnalysisApi(_0x287285,_0x361c1e);return _0x2bddd6[_0x89de73(0x1ce)];}catch(_0x1ebdde){return console[_0x89de73(0x8c2)](_0x89de73(0xde8),_0x1ebdde),_0x2beca1;}}async function handleGenerateEasyVersionQuiz(_0x3bb896){const _0x3e07b5=_0x47050f,_0x13eea6=document[_0x3e07b5(0x70b)](_0x3e07b5(0x895)),_0x16bfaa=document[_0x3e07b5(0x70b)]('project-quizzes-list');_0x16bfaa[_0x3e07b5(0x9cc)][_0x3e07b5(0x505)](_0x3e07b5(0xbce));const _0x1d98b1=_0x3e07b5(0x2fc);_0x13eea6[_0x3e07b5(0x49b)]('beforeend',_0x1d98b1);try{const _0x18b0db=allQuizzes['find'](_0x3de61b=>_0x3de61b['id']===_0x3bb896);if(!_0x18b0db)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x376aa7=_0x3e07b5(0x491)+JSON[_0x3e07b5(0xcfa)](_0x18b0db[_0x3e07b5(0xbd5)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x274a02={'type':_0x3e07b5(0xa5d),'properties':{'questionText':{'type':_0x3e07b5(0xd52)},'questionType':{'type':'STRING'},'options':{'type':_0x3e07b5(0x755),'items':{'type':_0x3e07b5(0xd52)}},'correctAnswerIndex':{'type':_0x3e07b5(0xca0)},'idealAnswer':{'type':_0x3e07b5(0xd52)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3e07b5(0xd52)}},'required':[_0x3e07b5(0xc25),'questionType','explanation']},_0x328c6a={'type':_0x3e07b5(0xa5d),'properties':{'questions':{'type':_0x3e07b5(0x755),'items':_0x274a02}},'required':[_0x3e07b5(0xbd5)]},_0x23caef=await callAnalysisApi(_0x376aa7,_0x328c6a);_0x23caef&&_0x23caef['questions']&&_0x23caef['questions'][_0x3e07b5(0xc4c)](_0x249e0c=>{const _0x1eeffa=_0x3e07b5;if(_0x249e0c[_0x1eeffa(0x76a)](_0x1eeffa(0xbb4))){const _0x3fe1a6=String(_0x249e0c[_0x1eeffa(0xbb4)])[_0x1eeffa(0x28f)]();(_0x3fe1a6===''||_0x3fe1a6[_0x1eeffa(0xcab)]()==='null'||!_0x3fe1a6[_0x1eeffa(0xdac)]('<svg'))&&delete _0x249e0c[_0x1eeffa(0xbb4)];}});if(!_0x23caef||!_0x23caef['questions']||_0x23caef[_0x3e07b5(0xbd5)][_0x3e07b5(0xdf3)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x289d0c=_0x23caef[_0x3e07b5(0xbd5)][_0x3e07b5(0x3cc)]((_0x3841a2,_0x1a5e68)=>({..._0x3841a2,'id':'q_'+Date[_0x3e07b5(0xc48)]()+'_'+_0x1a5e68})),_0x4cea4b={'projectId':_0x18b0db[_0x3e07b5(0x28c)],'quizType':_0x18b0db[_0x3e07b5(0x190)],'settings':_0x18b0db[_0x3e07b5(0x54d)],'createdBy':_0x18b0db['createdBy'],'status':_0x3e07b5(0x294),'topic':'(ฉบับง่าย)\x20'+_0x18b0db[_0x3e07b5(0x6d2)],'questions':_0x289d0c,'createdAt':new Date()[_0x3e07b5(0x9ce)](),'quizMode':'standard','pairedQuizId':null};let _0x1e40f9;while(!![]){_0x1e40f9=Math[_0x3e07b5(0x3ee)](0x3e8+Math[_0x3e07b5(0x457)]()*0x2328)['toString']();const _0x4100c=await getDoc(doc(db,'artifacts/'+appId+_0x3e07b5(0x4fc),_0x1e40f9));if(!_0x4100c['exists']())break;}await setDoc(doc(db,_0x3e07b5(0x4cd)+appId+_0x3e07b5(0x4fc),_0x1e40f9),_0x4cea4b),showMessage(_0x3e07b5(0x26b));}catch(_0x1d0a32){console[_0x3e07b5(0x8c2)](_0x3e07b5(0x596),_0x1d0a32),showMessage(_0x3e07b5(0x2fd)+_0x1d0a32[_0x3e07b5(0xac4)]);}finally{const _0x437bff=document[_0x3e07b5(0x70b)](_0x3e07b5(0xc89));_0x437bff&&_0x437bff[_0x3e07b5(0x7a8)](),_0x16bfaa['classList']['remove'](_0x3e07b5(0xbce));}}async function generatePracticeQuestions(_0x4dbe25){const _0x3c5e98=_0x47050f,_0x2ffd9e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x4dbe25+_0x3c5e98(0x82a)+simpleMathPrompt+_0x3c5e98(0xdeb),_0x2229f7={'type':_0x3c5e98(0xa5d),'properties':{'questionText':{'type':_0x3c5e98(0xd52)},'options':{'type':_0x3c5e98(0x755),'items':{'type':_0x3c5e98(0xd52)}},'correctAnswerIndex':{'type':_0x3c5e98(0xca0)},'explanation':{'type':_0x3c5e98(0xd52)}},'required':[_0x3c5e98(0xc25),'options','correctAnswerIndex',_0x3c5e98(0x50f)]},_0x2fb140={'type':_0x3c5e98(0xa5d),'properties':{'topic':{'type':_0x3c5e98(0xd52)},'questions':{'type':_0x3c5e98(0x755),'items':_0x2229f7}},'required':[_0x3c5e98(0x6d2),_0x3c5e98(0xbd5)]};return await callAnalysisApi(_0x2ffd9e,_0x2fb140);}function displayLessonPlan(_0x2779a7,_0x16ba01){const _0x47a26a=_0x47050f,_0x5df573=_0x47a26a(0xa28)+_0x16ba01['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2779a7[_0x47a26a(0xc1b)]['map'](_0x194668=>_0x47a26a(0xe73)+_0x194668+_0x47a26a(0xb74))[_0x47a26a(0x909)]('')+_0x47a26a(0x4ed)+_0x2779a7[_0x47a26a(0xb8b)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x2779a7[_0x47a26a(0x8cf)][_0x47a26a(0x3cc)](_0x1e1369=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1e1369[_0x47a26a(0x9ea)]+_0x47a26a(0x887)+_0x1e1369[_0x47a26a(0xbc7)]+_0x47a26a(0xa09))[_0x47a26a(0x909)]('')+_0x47a26a(0x2fe);document[_0x47a26a(0x70b)](_0x47a26a(0x854))[_0x47a26a(0xc66)]='แผนการสอน:\x20'+_0x16ba01['topic'],document[_0x47a26a(0x70b)](_0x47a26a(0x201))['innerHTML']=_0x5df573,document[_0x47a26a(0x70b)](_0x47a26a(0xcd5))['classList']['remove'](_0x47a26a(0xbce));if(window['MathJax'])MathJax[_0x47a26a(0xb85)]();}function displaySkillPracticeDrill(_0x4cb91d){let _0x54c3e0=0x0;const _0x5f1639=_0x4cb91d['questions'],_0x5c0d52=()=>{const _0x328430=_0x3d0b,_0x263439=_0x5f1639[_0x54c3e0],_0x11af2a=_0x328430(0x801)+(_0x54c3e0+0x1)+_0x328430(0x805)+_0x5f1639[_0x328430(0xdf3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x263439[_0x328430(0xc25)]+_0x328430(0xd72)+_0x263439[_0x328430(0x9d8)][_0x328430(0x3cc)]((_0x34f18a,_0x34a408)=>_0x328430(0xd65)+_0x34a408+_0x328430(0xd30)+_0x34a408+_0x328430(0xba5)+_0x34a408+'\x22>'+_0x34f18a+_0x328430(0x472))[_0x328430(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x328430(0xb90)]=_0x11af2a;if(window[_0x328430(0x2ab)])MathJax[_0x328430(0xb85)]([studentQuizArea]);document[_0x328430(0x70b)](_0x328430(0xdcc))[_0x328430(0x86d)]('click',async()=>{const _0x3d8782=await getHintForQuestion(_0x263439['questionText']);showMessage(_0x3d8782);}),document['getElementById'](_0x328430(0xd9d))[_0x328430(0x86d)](_0x328430(0x9a8),()=>{const _0x233d0a=_0x328430,_0x2132dc=document[_0x233d0a(0xdde)](_0x233d0a(0x93e));if(!_0x2132dc){showMessage(_0x233d0a(0x735));return;}const _0x1a5f33=document['getElementById'](_0x233d0a(0xcb5)),_0x336167=parseInt(_0x2132dc[_0x233d0a(0xd95)])===_0x263439[_0x233d0a(0xcd9)];_0x336167?(_0x1a5f33['className']=_0x233d0a(0x367),_0x1a5f33[_0x233d0a(0xb90)]=_0x233d0a(0xb46)+_0x263439[_0x233d0a(0x50f)]):(_0x1a5f33[_0x233d0a(0x980)]=_0x233d0a(0x6bc),_0x1a5f33[_0x233d0a(0xb90)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x263439[_0x233d0a(0x50f)]);_0x1a5f33[_0x233d0a(0x9cc)][_0x233d0a(0x7a8)](_0x233d0a(0xbce));if(window[_0x233d0a(0x2ab)])MathJax[_0x233d0a(0xb85)]([_0x1a5f33]);document[_0x233d0a(0x70b)](_0x233d0a(0xd9d))['classList'][_0x233d0a(0x505)](_0x233d0a(0xbce)),document[_0x233d0a(0x70b)](_0x233d0a(0xdcc))[_0x233d0a(0x9cc)]['add'](_0x233d0a(0xbce)),document[_0x233d0a(0x70b)](_0x233d0a(0xa05))[_0x233d0a(0x9cc)][_0x233d0a(0x7a8)]('hidden');}),document[_0x328430(0x70b)](_0x328430(0xa05))['addEventListener'](_0x328430(0x9a8),()=>{const _0x4fb1e8=_0x328430;_0x54c3e0++,_0x54c3e0<_0x5f1639[_0x4fb1e8(0xdf3)]?_0x5c0d52():(studentQuizArea['innerHTML']=_0x4fb1e8(0x35e),document['getElementById'](_0x4fb1e8(0x263))[_0x4fb1e8(0x86d)]('click',()=>{const _0x5bd57b=_0x4fb1e8;studentQuizArea[_0x5bd57b(0x9cc)][_0x5bd57b(0x505)](_0x5bd57b(0xbce)),studentResultArea[_0x5bd57b(0x9cc)][_0x5bd57b(0x7a8)](_0x5bd57b(0xbce));}));});};_0x5c0d52();}async function getHintForQuestion(_0x296362){const _0x4c47e9=_0x47050f,_0x23d858=_0x4c47e9(0xd84)+_0x296362+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x5f0095={'type':_0x4c47e9(0xa5d),'properties':{'hint':{'type':'STRING'}},'required':[_0x4c47e9(0xe96)]};try{const _0x1b2e11=await callAnalysisApi(_0x23d858,_0x5f0095);return _0x1b2e11[_0x4c47e9(0xe96)];}catch(_0x40052a){return console[_0x4c47e9(0x8c2)](_0x4c47e9(0x87c),_0x40052a),_0x4c47e9(0x71f);}}async function extractTextFromPdf(_0x11ec9c){const _0xfe6ce5=_0x47050f;pdfjsLib[_0xfe6ce5(0x869)][_0xfe6ce5(0x546)]=_0xfe6ce5(0x731);const _0x1b2fe7=await _0x11ec9c[_0xfe6ce5(0x1a5)](),_0x39be36=await pdfjsLib[_0xfe6ce5(0x52d)](_0x1b2fe7)[_0xfe6ce5(0x1fb)],_0x4e8da1=_0x39be36['numPages'];let _0x2af512='';for(let _0x2e8466=0x1;_0x2e8466<=_0x4e8da1;_0x2e8466++){const _0x4809b9=await _0x39be36[_0xfe6ce5(0x1bb)](_0x2e8466),_0x168913=await _0x4809b9[_0xfe6ce5(0x2b7)](),_0x20fb84=_0x168913[_0xfe6ce5(0x1f8)][_0xfe6ce5(0x3cc)](_0x1f814d=>_0x1f814d[_0xfe6ce5(0x1e8)])[_0xfe6ce5(0x909)]('\x20');_0x2af512+=_0x20fb84+'\x0a\x0a';}return _0x2af512;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x38d942){const _0x580f98=_0x47050f,_0x3eef16=document['getElementById']('blueprint-options-container'),_0x4beb83=document[_0x580f98(0x70b)](_0x580f98(0x447)),_0x6447d=document[_0x580f98(0x70b)](_0x580f98(0x1f4));_0x3eef16[_0x580f98(0x9cc)][_0x580f98(0x7a8)](_0x580f98(0xbce)),_0x4beb83[_0x580f98(0xb90)]=_0x580f98(0x2b2),_0x6447d[_0x580f98(0x9cc)][_0x580f98(0x505)](_0x580f98(0xbce));try{const _0x4f9fba=_0x580f98(0x9a0)+_0x38d942+_0x580f98(0xe88),_0x3b6d82={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x580f98(0xd52)},'curriculum':{'type':_0x580f98(0x755),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x580f98(0xd52)},'mainTopics':{'type':_0x580f98(0x755),'items':{'type':_0x580f98(0xa5d),'properties':{'topicName':{'type':_0x580f98(0xd52)},'subTopics':{'type':_0x580f98(0x755),'items':{'type':_0x580f98(0xd52)}}},'required':[_0x580f98(0x528),_0x580f98(0x750)]}}},'required':[_0x580f98(0xc78),'mainTopics']}}},'required':[_0x580f98(0xc3b),_0x580f98(0x27a)]},_0x37d8ab=await callAnalysisApi(_0x4f9fba,_0x3b6d82);if(_0x37d8ab&&_0x37d8ab[_0x580f98(0x27a)])extractedBlueprintData=_0x37d8ab,renderBlueprintTopics(_0x37d8ab),_0x6447d[_0x580f98(0x9cc)]['remove'](_0x580f98(0xbce));else throw new Error(_0x580f98(0x1f6));}catch(_0x430b61){console[_0x580f98(0x8c2)](_0x580f98(0xe4f),_0x430b61),_0x4beb83[_0x580f98(0xb90)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x3c9335){const _0x3395e4=_0x47050f,_0x3e4cf7=document[_0x3395e4(0x70b)]('blueprint-topics-list'),_0x56dd45=_0x3c9335['gradeLevel'],_0x621a10=_0x3395e4(0x65f)+_0x56dd45+_0x3395e4(0x852);let _0x398c40='';_0x3c9335['curriculum'][_0x3395e4(0xc4c)](_0x433eb8=>{const _0x3bdb5c=_0x3395e4;_0x398c40+=_0x3bdb5c(0x79d)+_0x433eb8[_0x3bdb5c(0xc78)]+'</h4>',_0x433eb8[_0x3bdb5c(0xa2c)][_0x3bdb5c(0xc4c)](_0x5ae360=>{const _0x3b4d94=_0x3bdb5c;_0x398c40+=_0x3b4d94(0x4bc)+_0x5ae360[_0x3b4d94(0x528)]+_0x3b4d94(0x6fb),_0x5ae360['subTopics'][_0x3b4d94(0xc4c)](_0x1c845f=>{const _0x15fbed=_0x3b4d94;_0x398c40+=_0x15fbed(0xde1)+_0x1c845f[_0x15fbed(0x460)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x56dd45[_0x15fbed(0x460)](/'/g,'\x5c\x27')+_0x15fbed(0xce4)+_0x1c845f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x1c845f[_0x15fbed(0x460)](/'/g,'\x5c\x27')+_0x15fbed(0x96d);}),_0x398c40+=_0x3b4d94(0xafb);}),_0x398c40+=_0x3bdb5c(0xad2);}),_0x3e4cf7[_0x3395e4(0xb90)]=_0x621a10+_0x398c40;}async function handleGenerateTeachingContent(_0x4b7bde){const _0x2b9ff9=_0x47050f,_0x34b0a2=document[_0x2b9ff9(0x70b)]('lesson-plan-modal'),_0x69278e=document[_0x2b9ff9(0x70b)]('lesson-plan-content');document['getElementById'](_0x2b9ff9(0x854))[_0x2b9ff9(0xc66)]=_0x2b9ff9(0xaa0)+_0x4b7bde,_0x69278e['innerHTML']=_0x2b9ff9(0xd33),_0x34b0a2[_0x2b9ff9(0x9cc)][_0x2b9ff9(0x7a8)]('hidden');try{const _0x439c3b=_0x2b9ff9(0x3fd)+_0x4b7bde+_0x2b9ff9(0x7a7),_0x57f848={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x2b9ff9(0x755),'items':{'type':_0x2b9ff9(0xd52)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x2b9ff9(0xd52)}},'stepByStepExamples':{'type':_0x2b9ff9(0x755),'items':{'type':_0x2b9ff9(0xa5d),'properties':{'question':{'type':_0x2b9ff9(0xd52)},'solution':{'type':'STRING'}},'required':[_0x2b9ff9(0x9ea),_0x2b9ff9(0xbc7)]}},'teacherTips':{'type':_0x2b9ff9(0x755),'items':{'type':_0x2b9ff9(0xd52)}}},'required':[_0x2b9ff9(0x8b5),_0x2b9ff9(0x937),'stepByStepExamples',_0x2b9ff9(0xb49)]},_0xc42262=await callAnalysisApi(_0x439c3b,_0x57f848);displayTeachingContent(_0xc42262,_0x4b7bde);}catch(_0x4cbf15){console[_0x2b9ff9(0x8c2)](_0x2b9ff9(0x6b2),_0x4cbf15),_0x69278e[_0x2b9ff9(0xb90)]=_0x2b9ff9(0x413)+_0x4cbf15['message']+_0x2b9ff9(0xb29);}}function displayTeachingContent(_0x4ced30,_0xe719ae){const _0x49179f=_0x47050f,_0x51adfe=document[_0x49179f(0x70b)](_0x49179f(0x201));document[_0x49179f(0x70b)]('lesson-plan-title')[_0x49179f(0xc66)]=_0x49179f(0xa4b)+_0xe719ae;const _0x3b75c7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x4ced30[_0x49179f(0x8b5)][_0x49179f(0x3cc)](_0x10c6d1=>_0x49179f(0xe73)+_0x10c6d1+_0x49179f(0xb74))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x4ced30[_0x49179f(0x937)][_0x49179f(0x3cc)](_0x2c57cb=>'<li>'+_0x2c57cb+_0x49179f(0xb74))[_0x49179f(0x909)]('')+_0x49179f(0xb2c)+_0x4ced30['stepByStepExamples'][_0x49179f(0x3cc)](_0x24e387=>_0x49179f(0x38f)+_0x24e387[_0x49179f(0x9ea)]+_0x49179f(0xcb8)+_0x24e387[_0x49179f(0xbc7)]+_0x49179f(0x9a4))['join']('')+_0x49179f(0x21f)+_0x4ced30[_0x49179f(0xb49)][_0x49179f(0x3cc)](_0x5a8580=>_0x49179f(0xe73)+_0x5a8580+_0x49179f(0xb74))[_0x49179f(0x909)]('')+_0x49179f(0x9f2);_0x51adfe[_0x49179f(0xb90)]=_0x3b75c7;if(window[_0x49179f(0x2ab)])MathJax[_0x49179f(0xb85)]([_0x51adfe]);}async function generateQuizForSingleTopic(_0x8de60f){const _0x36079d=_0x47050f;console[_0x36079d(0x418)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x8de60f+'\x22');const _0x1b2a73=document['getElementById'](_0x36079d(0x9db)),_0x4fac4b=_0x1b2a73[_0x36079d(0x19f)][_0x36079d(0xdf3)]>0x0?_0x1b2a73[_0x36079d(0x19f)][0x0]:null;let _0x112afa=null;if(_0x4fac4b)try{const _0x14819e=new FileReader();_0x14819e[_0x36079d(0xa9e)](_0x4fac4b);const _0xb0a5be=await new Promise((_0x2f5fe4,_0x292664)=>{const _0xb0f9c5=_0x36079d;_0x14819e[_0xb0f9c5(0xabc)]=()=>_0x2f5fe4(_0x14819e['result'][_0xb0f9c5(0x62a)](',')[0x1]),_0x14819e[_0xb0f9c5(0xb79)]=_0x37cfae=>_0x292664(_0x37cfae);});_0x112afa=[{'inlineData':{'mimeType':_0x4fac4b[_0x36079d(0x8a9)],'data':_0xb0a5be}}];}catch(_0x491742){console['error'](_0x36079d(0xdb1),_0x491742),showMessage(_0x36079d(0x329));return;}generateQuiz(_0x8de60f,null,null,_0x112afa,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x4bd1df=null){const _0x279056=_0x47050f,_0x70758f=document[_0x279056(0x70b)](_0x279056(0xd92)),_0x46a3b0=document['getElementById'](_0x279056(0xa35));let _0x4c618a,_0x4d7353=[];if(_0x4bd1df)_0x4c618a=_0x4bd1df,_0x4d7353=_0x4c618a[_0x279056(0x787)](0x2);else{const _0x1f44fb=document[_0x279056(0x70b)](_0x279056(0x7c8)),_0x1d5312=document[_0x279056(0x70b)]('reference-pdf-upload'),_0x4a462e=_0x1f44fb[_0x279056(0x19f)][0x0];if(!_0x4a462e){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x46a3b0[_0x279056(0xc66)]=_0x279056(0x818);const _0xae68fe=await new Promise((_0x36aff4,_0x29b82e)=>{const _0x38ceb4=_0x279056,_0x620f0a=new FileReader();_0x620f0a[_0x38ceb4(0xa9e)](_0x4a462e),_0x620f0a[_0x38ceb4(0xabc)]=()=>_0x36aff4(_0x620f0a[_0x38ceb4(0xd76)][_0x38ceb4(0x62a)](',')[0x1]),_0x620f0a[_0x38ceb4(0xb79)]=_0x29b82e;});_0x4c618a=[{'text':_0x279056(0xe59)},{'inlineData':{'mimeType':_0x4a462e[_0x279056(0x8a9)],'data':_0xae68fe}}];if(_0x1d5312[_0x279056(0x19f)][_0x279056(0xdf3)]>0x0){const _0x39ce0d=_0x1d5312[_0x279056(0x19f)][0x0];_0x46a3b0['textContent']=_0x279056(0x473);const _0x14f06f=await new Promise((_0x1ea22b,_0xedeee9)=>{const _0x12c59f=_0x279056,_0x53e54b=new FileReader();_0x53e54b[_0x12c59f(0xa9e)](_0x39ce0d),_0x53e54b[_0x12c59f(0xabc)]=()=>_0x1ea22b(_0x53e54b[_0x12c59f(0xd76)][_0x12c59f(0x62a)](',')[0x1]),_0x53e54b['onerror']=_0xedeee9;}),_0xb2f8c5={'inlineData':{'mimeType':_0x39ce0d['type'],'data':_0x14f06f}};_0x4c618a[_0x279056(0x49c)](_0xb2f8c5),_0x4d7353[_0x279056(0x49c)](_0xb2f8c5);}}const _0x372fb5=_0x279056(0x8f3),_0x1bd173=_0x279056(0xa76);let _0x409729='';_0x4d7353&&_0x4d7353[_0x279056(0xdf3)]>0x0?_0x409729=_0x372fb5:_0x409729=_0x1bd173;const _0x1bc23f=_0x279056(0xa2e)+_0x409729+_0x279056(0x760),_0x14f45a={'type':_0x279056(0xa5d),'properties':{'questionText':{'type':_0x279056(0xd52)},'questionType':{'type':_0x279056(0xd52),'enum':[_0x279056(0x99e),_0x279056(0x76f),_0x279056(0x92d),_0x279056(0x6b7)]},'options':{'type':'ARRAY','items':{'type':_0x279056(0xd52)}},'correctAnswerIndex':{'type':_0x279056(0xca0)},'idealAnswer':{'type':_0x279056(0xd52)},'correctAnswer':{'type':_0x279056(0x4a1)},'explanation':{'type':_0x279056(0xd52)},'imageCode':{'type':_0x279056(0xd52)}},'required':[_0x279056(0xa39),_0x279056(0x50f)]},_0xb2f21c={'type':_0x279056(0xa5d),'properties':{'topic':{'type':_0x279056(0xd52)},'questions':{'type':'ARRAY','items':_0x14f45a}},'required':[_0x279056(0x6d2),'questions']};_0x4c618a[0x0][_0x279056(0x7fd)]=_0x1bc23f,await handleApiCall(_0x4c618a,_0x279056(0xdf8),_0xb2f21c);}function proceedToNextQuestion(_0x437a25){const _0x44570d=_0x47050f;studentAnswersPerQuestion[_0x44570d(0x49c)](_0x437a25),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x44570d(0xbd5)][_0x44570d(0xdf3)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x3a4a28,_0x258f1a,_0x4678bf){const _0x40c3c0=_0x47050f,_0x472a00=Object[_0x40c3c0(0xb0c)](_0x3a4a28[_0x40c3c0(0x2ae)]||{}),_0x21c6bc=_0x472a00[_0x40c3c0(0xdf3)],_0x4ddb46=_0x4678bf,_0x3f64d9=_0x3a4a28[_0x40c3c0(0x58e)]||_0x40c3c0(0x44d),_0x432f53=_0x3f64d9===_0x40c3c0(0x463)||_0x3f64d9===_0x40c3c0(0x88c),_0x3c41de=_0x3f64d9===_0x40c3c0(0x3fe)||_0x3f64d9===_0x40c3c0(0x88c),_0x58cfee=_0x3a4a28['isAnonymousRevealed']===!![],_0xa2c682=_0x3f64d9==='competition',_0x1f5b86=_0x3a4a28[_0x40c3c0(0x1ca)]['questions'],_0x3bf802=_0x1f5b86[_0x4ddb46],_0x1ba069=_0x192c33=>String[_0x40c3c0(0x616)](0x41+_0x192c33),_0x354704=_0x472a00['map'](_0x52bd13=>{const _0x111a5c=_0x40c3c0,_0x327d3f=(_0x52bd13['answers']||[])[_0x111a5c(0xc87)](_0x1d9b17=>{const _0x4d5e8d=_0x111a5c;if(_0x3c41de)return _0x1d9b17[_0x4d5e8d(0x33c)]<=_0x4ddb46;return!![];});let _0x293083=0x0,_0x4be7c8=0x0;return _0x3c41de?(_0x293083=_0x327d3f[_0x111a5c(0xc87)](_0x105cf4=>_0x105cf4['isCorrect'])['length'],_0x4be7c8=_0x327d3f[_0x111a5c(0x3cf)]((_0x82c30a,_0x58687f)=>_0x82c30a+(_0x58687f['pointsAwarded']||0x0),0x0)):(_0x293083=_0x52bd13['score']||0x0,_0x4be7c8=_0x52bd13[_0x111a5c(0xe3d)]||0x0),{..._0x52bd13,'realScore':_0x293083,'totalPoints':_0x4be7c8,'answers':_0x327d3f};}),_0x16ca72=Math[_0x40c3c0(0xd2c)](..._0x354704['map'](_0x1838af=>_0x1838af['totalPoints']),-Infinity),_0x2b6a12=Math['max'](..._0x354704[_0x40c3c0(0x3cc)](_0x1f3247=>_0x1f3247[_0x40c3c0(0x4ce)]),-Infinity),_0xf43dfa=_0x3a4a28[_0x40c3c0(0xabf)]===!![],_0x153cf5=[..._0x354704]['sort']((_0x2bfab1,_0x48260d)=>{const _0x41451b=_0x40c3c0;if(_0xf43dfa){const _0x99277b=_0x48260d[_0x41451b(0xe3d)]-_0x2bfab1[_0x41451b(0xe3d)];if(_0x99277b!==0x0)return _0x99277b;const _0x1ed496=_0x48260d['realScore']-_0x2bfab1[_0x41451b(0x4ce)];if(_0x1ed496!==0x0)return _0x1ed496;return(_0x2bfab1[_0x41451b(0x312)]||'')[_0x41451b(0xbf4)](_0x48260d['name']||'','th');}else{const _0x49c2ca=_0x48260d['totalPoints']-_0x2bfab1['totalPoints'];if(_0x49c2ca!==0x0)return _0x49c2ca;const _0x3c5a1d=_0x48260d[_0x41451b(0x4ce)]-_0x2bfab1[_0x41451b(0x4ce)];if(_0x3c5a1d!==0x0)return _0x3c5a1d;return(_0x2bfab1[_0x41451b(0x312)]||'')[_0x41451b(0xbf4)](_0x48260d['name']||'','th');}});let _0x17f58b='';const _0x46dd52=!_0xa2c682&&!(_0x432f53&&_0x3a4a28[_0x40c3c0(0xb3a)]===![]);if(_0x3bf802&&_0x46dd52){let _0x1e4e52='',_0x1def7f='';const _0x15e021=_0x3bf802[_0x40c3c0(0xa39)]||_0x3a4a28[_0x40c3c0(0x1ca)]['quizType'];if(_0x15e021==='multiple_choice'&&_0x3bf802[_0x40c3c0(0x9d8)]){const _0x317b4f=_0x3bf802[_0x40c3c0(0xcd9)];_0x1e4e52=_0x3bf802[_0x40c3c0(0x9d8)][_0x317b4f],_0x1def7f=_0x1ba069(_0x317b4f)+'.';}else{if(_0x15e021===_0x40c3c0(0x92d)){const _0x19db0d=String(_0x3bf802[_0x40c3c0(0x75d)])['toLowerCase']()===_0x40c3c0(0xadf);_0x1e4e52=_0x19db0d?_0x40c3c0(0x87f):_0x40c3c0(0x233),_0x1def7f=_0x19db0d?'ก.':'ข.';}else{if(_0x15e021===_0x40c3c0(0x6b7))_0x1e4e52=_0x3bf802[_0x40c3c0(0xc74)]||'-';else _0x15e021===_0x40c3c0(0x76f)&&(_0x1e4e52=_0x3bf802[_0x40c3c0(0xa6c)]||'-');}}_0x1e4e52&&(_0x17f58b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20'+(_0x4ddb46+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x1def7f+'\x20'+_0x1e4e52+_0x40c3c0(0x83f));}const _0x2ec7cf=_0x153cf5[_0x40c3c0(0x3cc)]((_0x231cd5,_0x5afd97)=>{const _0x2a18b0=_0x40c3c0,_0x2ada27=_0x231cd5['realScore'],_0x5ea06e=_0x231cd5[_0x2a18b0(0xe3d)],_0x4db367=(_0x231cd5[_0x2a18b0(0x9f8)]||[])['find'](_0x1cfb42=>_0x1cfb42[_0x2a18b0(0x33c)]===_0x4678bf),_0x321c43=_0x231cd5['answers'][_0x2a18b0(0xdf3)];let _0x34524b='';if(_0x4db367){if(_0x4db367['wasForced'])_0x34524b+='<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>';if(_0x4db367[_0x2a18b0(0x2c0)])_0x34524b+=_0x2a18b0(0xa33);const _0x49a105=_0x4db367[_0x2a18b0(0x6e5)];if(_0x49a105){const _0x2b2b29={'poll':'📊','cutOne':'✂️','insurance':_0x2a18b0(0x5f4),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x2b2b29[_0x49a105])_0x34524b+=_0x2a18b0(0xb5e)+_0x2b2b29[_0x49a105]+_0x2a18b0(0x1ee);}}let _0x15abb7='';if(!_0xa2c682&&_0x321c43>0x0){if(_0xf43dfa){if(_0x5ea06e===_0x16ca72&&_0x16ca72>0x0)_0x15abb7+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x2ada27===_0x2b6a12&&_0x2b6a12>0x0)_0x15abb7+=_0x2a18b0(0xe00);}else{const _0x3060cc=_0x231cd5[_0x2a18b0(0x4ce)]===_0x4678bf+0x1;if(_0x3060cc)_0x15abb7=_0x2a18b0(0x91c);}if(_0x15abb7===''&&_0x5ea06e<0x0)_0x15abb7=_0x2a18b0(0x89e);}let _0x2304e7=_0x2a18b0(0xde6),_0x8901af=![];if(!_0xa2c682){const _0x9ad7aa=(_0x231cd5[_0x2a18b0(0x9f8)]||[])[_0x2a18b0(0x60d)](_0x4f0fb7=>_0x4f0fb7['questionIndex']===_0x4ddb46);if(_0x9ad7aa){const _0x294e9e=_0x9ad7aa[_0x2a18b0(0x985)],_0x495b33=_0x9ad7aa[_0x2a18b0(0x313)]===!![]||_0x9ad7aa[_0x2a18b0(0x313)]===_0x2a18b0(0xe8d),_0x36a9b5=_0x9ad7aa[_0x2a18b0(0x6e5)];if(_0x36a9b5==='wagerMultiplier')_0x294e9e?(_0x2304e7='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x8901af=!![]):_0x2304e7=_0x2a18b0(0x8d7);else{if(_0x495b33)_0x2304e7=_0x294e9e?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x2a18b0(0xda1);else _0x294e9e&&(_0x2304e7=_0x2a18b0(0x2fa));}}}let _0x24518a='';const _0x219432=_0x231cd5[_0x2a18b0(0x312)],_0x485001=_0x3a4a28[_0x2a18b0(0x4eb)][_0x231cd5[_0x2a18b0(0x312)]]||_0x2a18b0(0x679),_0x3d2a4c='line-height:\x201.3;\x20min-width:\x200;',_0x37c81b=_0x2a18b0(0x6ae),_0x1f57dc=_0x8901af?_0x2a18b0(0x812):_0x2a18b0(0x7ea);let _0x4cc8e1='';const _0x3df492=_0x5ea06e>=0x0?'(+'+_0x5ea06e+')':'('+_0x5ea06e+')',_0x5b8ec2=_0x2a18b0(0x3fc)+_0x231cd5[_0x2a18b0(0x4ce)]+_0x2a18b0(0x8be)+_0x3df492+_0x2a18b0(0x1ee);if(_0x258f1a){if(_0x432f53&&!_0x58cfee)_0x24518a=_0x2a18b0(0x531)+_0x3d2a4c+_0x2a18b0(0x2e0)+_0x485001+'\x22><span\x20style=\x22'+_0x37c81b+'\x22>'+_0x485001+_0x2a18b0(0xb54)+_0x34524b+'\x20'+_0x15abb7+_0x2a18b0(0xad2),_0x4cc8e1=_0x5b8ec2;else{if(_0x432f53&&_0x58cfee)_0x24518a=_0x2a18b0(0x531)+_0x3d2a4c+_0x2a18b0(0x2e0)+_0x219432+'\x22><span\x20style=\x22'+_0x37c81b+'\x22>'+_0x219432+_0x2a18b0(0xb54)+_0x34524b+'\x20'+_0x15abb7+'<span\x20class=\x22block\x20text-sm\x20'+_0x1f57dc+_0x2a18b0(0xbf5)+_0x37c81b+_0x2a18b0(0x1d1)+_0x485001+_0x2a18b0(0x72b),_0x4cc8e1=_0x5b8ec2;else _0xa2c682?(_0x24518a=_0x2a18b0(0x531)+_0x3d2a4c+'\x22\x20title=\x22'+_0x219432+_0x2a18b0(0x4b9)+_0x37c81b+'\x22>'+_0x219432+_0x2a18b0(0xb54)+_0x34524b+'\x20'+_0x15abb7+_0x2a18b0(0xad2),_0x4cc8e1=''):(_0x24518a=_0x2a18b0(0x531)+_0x3d2a4c+_0x2a18b0(0x2e0)+_0x219432+_0x2a18b0(0x4b9)+_0x37c81b+'\x22>'+_0x219432+_0x2a18b0(0xb54)+_0x34524b+'\x20'+_0x15abb7+'</div>',_0x4cc8e1=_0x5b8ec2);}}return _0x2a18b0(0x17c)+_0x2304e7+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+(_0x5afd97+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24518a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cc8e1+_0x2a18b0(0x5ff);})[_0x40c3c0(0x909)](''),_0x4a0494=_0x1f5b86[_0x40c3c0(0x3cc)]((_0x285a84,_0x535e6f)=>{const _0x6962f8=_0x40c3c0;if(_0x3c41de&&_0x535e6f>_0x4ddb46||_0xa2c682)return'';const _0x29be2b=_0x354704['filter'](_0x439e15=>_0x439e15[_0x6962f8(0x9f8)]&&_0x439e15['answers'][_0x6962f8(0x60d)](_0x41f179=>_0x41f179[_0x6962f8(0x33c)]===_0x535e6f&&_0x41f179[_0x6962f8(0x985)]))[_0x6962f8(0xdf3)],_0x3889a7=_0x535e6f===_0x4ddb46,_0x5c4587=_0x3889a7?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':'p-2\x20bg-black/10\x20rounded-md';return _0x6962f8(0xacc)+_0x5c4587+_0x6962f8(0xc6d)+(_0x535e6f+0x1)+_0x6962f8(0xcce)+_0x29be2b+_0x6962f8(0x805)+_0x21c6bc+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x40c3c0(0x909)]('');let _0x4fecf3='',_0x5df6fe='';if(_0x258f1a){const _0x43f37d=_0x3f64d9===_0x40c3c0(0x44d)&&_0x3a4a28['currentQuestionIndex']>=_0x1f5b86[_0x40c3c0(0xdf3)]-0x1,_0x12b4e8=_0x3c41de&&_0x3a4a28[_0x40c3c0(0x394)]>=_0x1f5b86[_0x40c3c0(0xdf3)]-0x1,_0x52755a=_0x3f64d9==='competition'&&_0x3a4a28[_0x40c3c0(0x77d)]>=_0x1f5b86[_0x40c3c0(0xdf3)]-0x1,_0x4dca5a=_0x432f53&&!_0x3c41de&&_0x3a4a28[_0x40c3c0(0x77d)]>=_0x1f5b86[_0x40c3c0(0xdf3)]-0x1;if(_0x3c41de)_0x12b4e8?_0x432f53&&!_0x58cfee?_0x4fecf3='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x4fecf3=_0x40c3c0(0x46c):_0x4fecf3=_0x40c3c0(0xd2a);else _0x43f37d||_0x52755a||_0x4dca5a?_0x432f53&&!_0x58cfee?_0x4fecf3='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x4fecf3=_0x40c3c0(0x46c):_0x4fecf3=_0x40c3c0(0xd9a);_0x5df6fe='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x5cd07a=_0xa2c682||_0x432f53&&!_0x3a4a28[_0x40c3c0(0xb3a)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x4a0494+'</div></div>',_0x5cc93d=_0xa2c682||_0x432f53&&!_0x3a4a28[_0x40c3c0(0xb3a)]?'md:col-span-3':_0x40c3c0(0x4fa),_0x40a2ea=_0x40c3c0(0xbb2)+_0x3a4a28[_0x40c3c0(0x1ca)][_0x40c3c0(0x6d2)]+_0x40c3c0(0x3f4)+_0x3a4a28[_0x40c3c0(0xe34)]+_0x40c3c0(0x3d0)+_0x5df6fe+_0x40c3c0(0x571)+_0x17f58b+_0x40c3c0(0xa2b)+_0x5cc93d+_0x40c3c0(0x69a)+(_0x2ec7cf||_0x40c3c0(0x440))+_0x40c3c0(0x2ca)+_0x5cd07a+_0x40c3c0(0x9a6)+(_0x258f1a?_0x40c3c0(0x5c7)+_0x4fecf3+'</div>':'')+_0x40c3c0(0x33a);liveGameView[_0x40c3c0(0xb90)]=_0x40a2ea;if(window[_0x40c3c0(0x2ab)]){const _0xb6ca33=document[_0x40c3c0(0x70b)](_0x40c3c0(0xc5a));_0xb6ca33&&MathJax[_0x40c3c0(0xb85)]([_0xb6ca33]);}if(_0x258f1a){const _0x12f4ff=document['getElementById'](_0x40c3c0(0x95c));_0x12f4ff&&(_0x12f4ff[_0x40c3c0(0x257)]=async()=>{const _0x1c92e0=_0x40c3c0,_0x3a1dfb=doc(db,'artifacts/'+appId+_0x1c92e0(0x946),currentLiveGameId),_0x26ad5f=_0x3a4a28[_0x1c92e0(0x77d)]+0x1,_0x5dda4d=_0x3a4a28[_0x1c92e0(0x1ca)][_0x1c92e0(0xbd5)][_0x1c92e0(0xdf3)];!_0x3c41de&&_0x26ad5f<_0x5dda4d?await updateDoc(_0x3a1dfb,{'status':'question','currentQuestionIndex':_0x26ad5f,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x3a1dfb,{'status':_0x1c92e0(0x824)});});const _0x27f576=document[_0x40c3c0(0x70b)](_0x40c3c0(0x9bb));_0x27f576&&(_0x27f576[_0x40c3c0(0x257)]=async()=>{const _0x16acd8=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x16acd8,{'reviewQuestionIndex':increment(0x1)});});document[_0x40c3c0(0x70b)](_0x40c3c0(0xa94))?.['addEventListener']('click',async()=>{const _0x5d17b6=_0x40c3c0;await updateDoc(doc(db,'artifacts/'+appId+_0x5d17b6(0x946),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x2d197a=document[_0x40c3c0(0x70b)](_0x40c3c0(0xb3b));_0x2d197a&&(_0x2d197a[_0x40c3c0(0x257)]=()=>{const _0x1b4e4c=_0x40c3c0;showConfirmation(_0x1b4e4c(0xc26),async()=>{const _0x218c7a=_0x1b4e4c;await updateDoc(doc(db,_0x218c7a(0x4cd)+appId+_0x218c7a(0x946),currentLiveGameId),{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x28944e){const _0x276100=_0x47050f,_0x1598f8=document[_0x276100(0x70b)](_0x276100(0x895)),_0x7b734c=document[_0x276100(0x70b)](_0x276100(0x230));_0x7b734c['classList'][_0x276100(0x505)](_0x276100(0xbce));const _0x445470=_0x276100(0x467)+_0x28944e['topic']+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1598f8[_0x276100(0x49b)](_0x276100(0xb37),_0x445470);const _0x30beb7=document['getElementById'](_0x276100(0xab6));try{const _0x514149=_0x28944e[_0x276100(0xbd5)][_0x276100(0x3cc)]((_0x52c04c,_0xc93010)=>{const _0x2db487=_0x276100;let _0x5abafc=_0xc93010+0x1+'.\x20'+(_0x52c04c[_0x2db487(0xc25)]||_0x52c04c[_0x2db487(0x93d)])+'\x0a';if(_0x52c04c['options'])_0x5abafc+=_0x52c04c[_0x2db487(0x9d8)][_0x2db487(0x3cc)]((_0x3f8692,_0x23d2a4)=>_0x2db487(0xa8e)+(_0x23d2a4===_0x52c04c['correctAnswerIndex']?'[*]':'')+'\x20'+_0x3f8692)[_0x2db487(0x909)]('\x0a');else _0x52c04c[_0x2db487(0xa6c)]&&(_0x5abafc+=_0x2db487(0x4a2)+_0x52c04c[_0x2db487(0xa6c)]);return _0x5abafc;})[_0x276100(0x909)]('\x0a\x0a');_0x30beb7[_0x276100(0xc66)]=_0x276100(0x9fa);const _0x521deb=_0x276100(0x63c)+_0x28944e[_0x276100(0x6d2)]+_0x276100(0x902)+_0x514149+_0x276100(0x5a2)+simpleMathPrompt+_0x276100(0xae8),_0x44bca3={'type':_0x276100(0xa5d),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x276100(0xd52),'enum':[_0x276100(0x99e),_0x276100(0x76f),'true_false',_0x276100(0x6b7)]},'options':{'type':_0x276100(0x755),'items':{'type':_0x276100(0xd52)}},'correctAnswerIndex':{'type':_0x276100(0xca0)},'idealAnswer':{'type':_0x276100(0xd52)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0x276100(0xd52)},'allResponses':{'type':_0x276100(0x755),'items':{'type':_0x276100(0xd52)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x276100(0xd52)}},'required':[_0x276100(0xa39),_0x276100(0x50f)]},_0x9eeac6={'type':_0x276100(0xa5d),'properties':{'topic':{'type':_0x276100(0xd52)},'questions':{'type':'ARRAY','items':_0x44bca3}},'required':['topic',_0x276100(0xbd5)]},_0x9b8a3a=await callAnalysisApi(_0x521deb,_0x9eeac6),_0x57acdd=_0x9b8a3a[_0x276100(0xbd5)][_0x276100(0x3cc)]((_0x5ee55b,_0x30892e)=>({..._0x5ee55b,'id':'q_'+Date[_0x276100(0xc48)]()+'_'+_0x30892e})),_0x28bb3a=_0x276100(0xa5e)+_0x28944e[_0x276100(0x6d2)],_0x51612f={'topic':_0x28bb3a,'questions':_0x57acdd,'quizType':_0x28944e['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x276100(0x9ce)](),'status':'active','settings':_0x28944e[_0x276100(0x54d)],'quizMode':_0x276100(0xe80),'pairedQuizId':null,'lessonPlan':null};let _0x492fe5;while(!![]){_0x492fe5=Math[_0x276100(0x3ee)](0x3e8+Math['random']()*0x2328)[_0x276100(0xae1)]();const _0x9ef73=await getDoc(doc(db,_0x276100(0x4cd)+appId+'/public/data/quizzes',_0x492fe5));if(!_0x9ef73[_0x276100(0x7ed)]())break;}await setDoc(doc(db,_0x276100(0x4cd)+appId+_0x276100(0x4fc),_0x492fe5),_0x51612f),showMessage(_0x276100(0xc17));}catch(_0x49694f){console[_0x276100(0x8c2)](_0x276100(0xd27),_0x49694f),showMessage(_0x276100(0x2fd)+_0x49694f[_0x276100(0xac4)]);}finally{const _0x30bb46=document[_0x276100(0x70b)](_0x276100(0xc89));_0x30bb46&&_0x30bb46[_0x276100(0x7a8)](),_0x7b734c[_0x276100(0x9cc)][_0x276100(0x7a8)](_0x276100(0xbce));}}async function handleGenerateParallelPostTest(_0x45ff87){const _0x2b2ec6=_0x47050f,_0xaa5f43=document[_0x2b2ec6(0x70b)](_0x2b2ec6(0x895)),_0x32613d=document['getElementById'](_0x2b2ec6(0x230));_0x32613d[_0x2b2ec6(0x9cc)][_0x2b2ec6(0x505)](_0x2b2ec6(0xbce));const _0x1a5626=_0x2b2ec6(0x3ce);_0xaa5f43[_0x2b2ec6(0x49b)]('beforeend',_0x1a5626);try{const _0x308ba2=_0x45ff87['questions']['map']((_0x351028,_0x808ec1)=>{const _0x56a209=_0x2b2ec6;let _0x476c22=_0x808ec1+0x1+'.\x20'+(_0x351028[_0x56a209(0xc25)]||_0x351028['stem']);if(_0x351028['options'])_0x476c22+=_0x56a209(0x5d3)+_0x351028[_0x56a209(0x9d8)]['join'](',\x20');return _0x476c22;})[_0x2b2ec6(0x909)]('\x0a\x0a'),_0x45c60f=_0x2b2ec6(0x30d)+_0x45ff87[_0x2b2ec6(0x6d2)]+_0x2b2ec6(0x9e7)+_0x308ba2+_0x2b2ec6(0xdce)+simpleMathPrompt+_0x2b2ec6(0xae8),_0xf4bde8={'type':_0x2b2ec6(0xa5d),'properties':{'topic':{'type':_0x2b2ec6(0xd52)},'questions':{'type':_0x2b2ec6(0x755),'items':{'type':_0x2b2ec6(0xa5d),'properties':{'questionText':{'type':_0x2b2ec6(0xd52)},'questionType':{'type':'STRING'},'options':{'type':_0x2b2ec6(0x755),'items':{'type':_0x2b2ec6(0xd52)}},'correctAnswerIndex':{'type':_0x2b2ec6(0xca0)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2b2ec6(0xd52)}},'required':['questionText',_0x2b2ec6(0x50f)]}}},'required':['topic',_0x2b2ec6(0xbd5)]},_0x1918e9=await callAnalysisApi(_0x45c60f,_0xf4bde8),_0x175192=_0x45ff87[_0x2b2ec6(0x6d2)]['replace']('(ก่อนเรียน)','')['trim'](),_0x3cc706='(หลังเรียน)\x20'+_0x175192,_0x1dc22f={..._0x1918e9,'topic':_0x3cc706,'quizType':_0x45ff87[_0x2b2ec6(0x190)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2b2ec6(0x9ce)](),'status':'active','settings':_0x45ff87[_0x2b2ec6(0x54d)],'quizMode':'post-test','pairedQuizId':_0x45ff87['id']};let _0x470993;while(!![]){_0x470993=Math[_0x2b2ec6(0x3ee)](0x3e8+Math['random']()*0x2328)[_0x2b2ec6(0xae1)]();const _0x403237=await getDoc(doc(db,_0x2b2ec6(0x4cd)+appId+_0x2b2ec6(0x4fc),_0x470993));if(!_0x403237[_0x2b2ec6(0x7ed)]())break;}await setDoc(doc(db,_0x2b2ec6(0x4cd)+appId+_0x2b2ec6(0x4fc),_0x470993),_0x1dc22f);const _0xa166b0=doc(db,_0x2b2ec6(0x4cd)+appId+_0x2b2ec6(0x4fc),_0x45ff87['id']);await updateDoc(_0xa166b0,{'pairedQuizId':_0x470993}),showMessage(_0x2b2ec6(0x94c));}catch(_0x3ff61f){console[_0x2b2ec6(0x8c2)]('Error\x20generating\x20parallel\x20post-test:',_0x3ff61f),showMessage(_0x2b2ec6(0x2fd)+_0x3ff61f[_0x2b2ec6(0xac4)]);}finally{const _0x4773ea=document[_0x2b2ec6(0x70b)]('temp-loader-results');if(_0x4773ea)_0x4773ea['remove']();_0x32613d[_0x2b2ec6(0x9cc)][_0x2b2ec6(0x7a8)](_0x2b2ec6(0xbce));}}async function handleGenerateParallelTest(_0x454ed6=null){const _0xcfdeb7=_0x47050f;let _0x5c79b0=_0x454ed6;if(!_0x5c79b0){const _0x3bdadb=document[_0xcfdeb7(0x70b)](_0xcfdeb7(0xb27));_0x3bdadb[_0xcfdeb7(0x19f)]['length']>0x0&&(_0x5c79b0=_0x3bdadb[_0xcfdeb7(0x19f)][0x0]);}if(!_0x5c79b0){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x45efff=document[_0xcfdeb7(0x70b)](_0xcfdeb7(0xd92)),_0x1418dd=document['getElementById']('loader-text'),_0x4a3bef=document[_0xcfdeb7(0x70b)](_0xcfdeb7(0xd53)),_0x3c361f=document['getElementById'](_0xcfdeb7(0x99d));_0x3c361f[_0xcfdeb7(0x9b6)]=!![],document[_0xcfdeb7(0x70b)](_0xcfdeb7(0xcc8))[_0xcfdeb7(0x9cc)][_0xcfdeb7(0x7a8)](_0xcfdeb7(0xbce)),_0x4a3bef[_0xcfdeb7(0xb90)]='',_0x45efff['classList']['remove'](_0xcfdeb7(0xbce)),_0x1418dd[_0xcfdeb7(0xc66)]=_0xcfdeb7(0x670);const _0x2b2c48=new FileReader();_0x2b2c48[_0xcfdeb7(0xa9e)](_0x5c79b0),_0x2b2c48[_0xcfdeb7(0xabc)]=async()=>{const _0x1f0535=_0xcfdeb7;try{const _0x1d4fc1=_0x2b2c48[_0x1f0535(0xd76)][_0x1f0535(0x62a)](',')[0x1],_0x4e77e0=_0x5c79b0['type'];_0x1418dd['textContent']=_0x1f0535(0x16e);const _0x3a7159=document[_0x1f0535(0x70b)](_0x1f0535(0x3f2))[_0x1f0535(0xceb)],_0x1f0762=_0x3a7159?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x33316b=_0x1f0535(0xd8a),_0x19ca3f={'type':'OBJECT','properties':{'questionText':{'type':_0x1f0535(0xd52)},'questionType':{'type':'STRING','enum':[_0x1f0535(0x99e),'short_answer']},'options':{'type':_0x1f0535(0x755),'items':{'type':_0x1f0535(0xd52)}},'correctAnswerIndex':{'type':_0x1f0535(0xca0)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1f0535(0xd52)}},'required':['questionText',_0x1f0535(0xa39),'explanation']},_0x2dbd66={'type':_0x1f0535(0xa5d),'properties':{'topic':{'type':_0x1f0535(0xd52)},'questions':{'type':_0x1f0535(0x755),'items':_0x19ca3f}},'required':['topic',_0x1f0535(0xbd5)]},_0xb3c957=[{'text':_0x33316b},{'inlineData':{'mimeType':_0x4e77e0,'data':_0x1d4fc1}}];await handleApiCall(_0xb3c957,_0x1f0535(0x24d),_0x2dbd66);}catch(_0x40d3bb){console[_0x1f0535(0x8c2)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x40d3bb),showMessage(_0x1f0535(0x2fd)+_0x40d3bb[_0x1f0535(0xac4)]),_0x4a3bef[_0x1f0535(0xb90)]=_0x1f0535(0x4bd);}finally{_0x45efff['classList'][_0x1f0535(0x505)](_0x1f0535(0xbce)),_0x3c361f[_0x1f0535(0x9b6)]=![];}},_0x2b2c48[_0xcfdeb7(0xb79)]=_0x5ab73e=>{const _0x267d4a=_0xcfdeb7;console[_0x267d4a(0x8c2)](_0x267d4a(0x2a6),_0x5ab73e),showMessage(_0x267d4a(0x765)),_0x45efff[_0x267d4a(0x9cc)][_0x267d4a(0x505)](_0x267d4a(0xbce)),_0x3c361f[_0x267d4a(0x9b6)]=![];};}async function handleRegenerateQuestionInEditor(_0x5b2a6d){const _0x47d750=_0x47050f;if(currentEditingQuizData===null)return;const _0x30b2ea=document[_0x47d750(0xdde)](_0x47d750(0x6d6)+_0x5b2a6d+'\x22]');_0x30b2ea&&(_0x30b2ea[_0x47d750(0xb90)]=_0x47d750(0x1f9));const _0x4700c2=currentEditingQuizData[_0x47d750(0xbd5)][_0x5b2a6d],_0x1cd63b=currentEditingQuizData[_0x47d750(0x6d2)],_0xb05256=_0x4700c2[_0x47d750(0xa39)],_0x11a6e2={'type':_0x47d750(0xa5d),'properties':{'questionText':{'type':_0x47d750(0xd52)},'options':{'type':_0x47d750(0x755),'items':{'type':_0x47d750(0xd52)}},'correctAnswerIndex':{'type':_0x47d750(0xca0)},'explanation':{'type':_0x47d750(0xd52)}},'required':['questionText',_0x47d750(0x9d8),'correctAnswerIndex',_0x47d750(0x50f)]},_0x45a4ca={'type':_0x47d750(0xa5d),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x47d750(0xd52)},'explanation':{'type':_0x47d750(0xd52)}},'required':['questionText','idealAnswer','explanation']};let _0x1cafcb,_0x488dfd='';_0xb05256===_0x47d750(0x99e)?(_0x1cafcb=_0x11a6e2,_0x488dfd=_0x47d750(0x8e4)):(_0x1cafcb=_0x45a4ca,_0x488dfd=_0x47d750(0x635));const _0x451a98=_0x47d750(0x4ff)+_0x1cd63b+_0x47d750(0x5fa)+_0x488dfd+_0x47d750(0x762)+(_0x4700c2[_0x47d750(0xc25)]||_0x4700c2[_0x47d750(0x93d)])+_0x47d750(0x76e)+simpleMathPrompt;try{const _0x11a04e=await callAnalysisApi(_0x451a98,_0x1cafcb);currentEditingQuizData[_0x47d750(0xbd5)][_0x5b2a6d]={..._0x4700c2,..._0x11a04e},renderQuizEditor(currentEditingQuizData);}catch(_0x4290a2){console['error'](_0x47d750(0x1fe),_0x4290a2),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x37fe0c=_0x47050f,_0x3d7f4f=document[_0x37fe0c(0x70b)](_0x37fe0c(0xac2));currentMode==='student'?(currentMode=_0x37fe0c(0xb0f),_0x3d7f4f['innerHTML']=_0x37fe0c(0x819),_0x3d7f4f[_0x37fe0c(0xbe9)]='สลับไปโหมดนักเรียน',showView(_0x37fe0c(0x215))):(currentMode=_0x37fe0c(0x2d1),_0x3d7f4f['innerHTML']=_0x37fe0c(0xe2f),_0x3d7f4f[_0x37fe0c(0xbe9)]=_0x37fe0c(0x187),showView(_0x37fe0c(0x2d1)));}function handleAdminLogin(){const _0x45039d=_0x47050f,_0x25ac09=document[_0x45039d(0x70b)](_0x45039d(0xca1)),_0x5a81af=document[_0x45039d(0x70b)](_0x45039d(0x3af));if(_0x25ac09[_0x45039d(0xd95)]===_0x45039d(0x35d)){adminPasswordModal[_0x45039d(0x9cc)][_0x45039d(0x505)](_0x45039d(0xbce)),_0x25ac09[_0x45039d(0xd95)]='',_0x5a81af[_0x45039d(0x9cc)][_0x45039d(0x505)](_0x45039d(0xbce)),currentMode='admin';const _0x3edfe2=document[_0x45039d(0x70b)](_0x45039d(0xac2));_0x3edfe2['innerHTML']=_0x45039d(0x819),_0x3edfe2['title']=_0x45039d(0x227),showView(_0x45039d(0x215));}else _0x5a81af[_0x45039d(0x9cc)][_0x45039d(0x7a8)]('hidden'),_0x25ac09[_0x45039d(0xd95)]='';}function _0x126a(){const _0x587e95=['generated-quiz-actions','center','ดีเทอร์มิแนนต์','กรุณาเลือกชื่อของคุณ','49sXKqhM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','wasForced','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','empty','link-input-area','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าตลาดมืด','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','actions-container-','student-quiz-leaderboard-tab','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#FCE7F3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','sync-timer-enable-checkbox','STRING','generated-quiz-container','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20name=\x22confidence','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x20(\x22','29702WmLQnB','pen-tool-btn','\x22\x20สำเร็จ!','New\x20question\x20detected.\x20Cleaning\x20up.','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','.submittedAt','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','opacity-50','</strong></p>','tGain','scratchpad-controls','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','ไม่พบตารางสำหรับ\x20Export','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','.quiz-bank-parallel-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/teamQuizzes','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','highlighter-tools-group','result','ไม่พบข้อมูลหัวข้อที่จะบันทึก','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','สิงโตยิ้ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x20to\x20blueprint\x20topic\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','สมมาตร\x20(แกน/จุด)','shortcut-modal-title','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeAttribute','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','scheduled','warn','กำลังดึงข้อมูลจากลิงก์...','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','#26890c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','topic-bank-subtopic-name','quiz-results-table-body','บันทึกการตั้งค่าสำเร็จ','show_pass_fail_only','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-title','loader','.bp-view-analysis-btn','text/csv;charset=utf-8;','value','.linkedQuizIds','tooltipTarget','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คะแนนเต็ม!','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','check-answer-btn','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Failed\x20to\x20apply\x20forceConfident:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-[#EF4444]\x20text-white\x20font-bold','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','text-gray-300\x20hover:text-white','specialist','การยืนยันตัวตนล้มเหลว','leaderboard-quiz-tab-content','ไม่พบข้อมูลผู้ใช้','download','bg-green-500\x20hover:bg-green-600\x20text-white','Error\x20rendering\x20student\x20progress:','bg-red-100\x20text-red-800','startsWith','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','ระบบเลขและค่าประจำหลัก','visibilitychange','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','.animate-pulse','แบบทดสอบซ่อมเสริม','tfrac','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','pinnedProjects','open-scratchpad-btn','body','Error\x20renaming\x20quiz:','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','แมวเก้าชีวิต','.generate-lesson-btn','original-mode-checkbox','live-player-list','reset-project-order-btn','Error\x20during\x20blueprint\x20link\x20cleanup:','scratchpad-question','players.','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','ความต่อเนื่อง','projectOrder','ป่าไม้','open-market-btn','quadraticCurveTo','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','first_try_ace','hint-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-edits-btn','smooth','ตรวจทานเฉลยเสร็จสิ้น!','focus','<p>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','หมีขั้วโลกใต้','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.copy-quiz-id-list-btn','querySelector','translate','timer-duration-container','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','entries','<p\x20class=\x22font-bold\x20text-sm\x20','strategyScan','topic-input','bg-black/20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Failed\x20to\x20get\x20standardized\x20topic:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ยูทูปเบอร์ฝึกหัด','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','dblclick','viewBox','fixed','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-activity-modal','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','บันทึกการแก้ไข','length','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','scratchpad-options','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','manual_release','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x20แบบทดสอบลงในคลังสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ดาวTikTok','cutOne','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','additional-file-shortcuts-modal','พีชคณิตและฟังก์ชัน','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20API.','.generate-easy-version-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','จันทร์เจ้า','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','กรุณาเลือกคำตอบ','</span><span\x20class=\x22font-bold\x22>',';\x22\x20data-id=\x22','select-all-topics-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','file-shortcut-name-input','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','ondragend','bg-green-50','พบข้อสอบ\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','นักดนตรี','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','กำลังโหลดคลังข้อสอบทั้งหมด...','incorrect','https://corsproxy.io/?','#open-additional-parallel-shortcuts-btn','องค์ประกอบของฟังก์ชัน','แปลงร่าง','player-count','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','parallel-default-2','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','parseFromString','bar','adaptive-quiz-checkbox','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20fetching\x20lesson\x20content:','เส้นตรง:\x20รูปแบบสมการ','touchcancel','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','สายหมอก','pollUsedThisTurn','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','Error\x20generating\x20worksheet:','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','cancel-export-pdf-btn','analytics-summary-cards','</div><div\x20class=\x22space-y-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pin','comparison-overall-content','100px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','index','parallel-shortcut-tabs-nav','PERFECT_SCORE','manage-tab','totalPoints','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutTabs','text-emerald-900','Error\x20loading\x20quiz\x20for\x20student:','เกิดข้อผิดพลาดในการใช้ไอเทม','):\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','student-team-selection-view','wager-max-points','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','.flex.justify-between.items-center','.remove-file-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x20P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commit','Error\x20analyzing\x20blueprint\x20topics:','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','text-indigo-700','1000px','textarea','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','requestFullscreen','แคลคูลัสเบื้องต้น','clearRect','PROMPT_PLACEHOLDER','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','/studentProfiles','text-input-area','Error\x20submitting\x20group\x20answer:','sync','กรุณาเลือกโปรเจคที่ต้องการบันทึก','submissions','groups','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','thead','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','message-modal','บทเรียนเรื่อง:\x20','close-additional-parallel-shortcuts-btn','pointsAwarded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','content','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','pairedQuizId','ธอร์ค้อนบิน','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','confidence','<li>','\x20จุด','240','timer-mode-select','\x20รายการสำเร็จ!','selected-answer-index-hidden','black-market-settings-container','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','confirmation-modal','fileShortcutsConfig','poll','16263RqrhWV','standard','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-id-input','parts','parallel-shortcut-id-input','document','No\x20unanswered\x20players\x20found.\x20Waiting...','อยู่ในสาระการเรียนรู้ใด:','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','per-question-text','confident','text-gray-100','</option>','bg-gray-100\x20opacity-70','pointerType','Error\x20deleting\x20quiz:','POST','เกิดข้อผิดพลาดในการลบหัวข้อ','input[name=\x22team_player\x22]:checked','hint','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','กองดอง','.mb-6.p-4','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','project-passcode-modal','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','live-race','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','redo-btn','pop','rows','QUICK_THINKER','application','เพิ่ม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','buyTime','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22>ใช่</p>','อัตราและอัตราหน่วย','passcode-input-container','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','onSecondChance','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','#DBEAFE','สลับไปโหมดผู้ควบคุม','แบตหมด','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','.move-quiz-btn','เพิ่มปุ่มลัดจากไฟล์ใหม่','Error\x20resetting\x20project\x20order:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','close-student-rankings-btn','quizType','Error\x20joining\x20activity:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','generate-worksheet-btn','ไฟล์ลัด\x202','parallel-test-tab','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','scratchpad-modal','จำนวนเต็มลบ','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','Error\x20listening\x20for\x20projects:','show_results_and_answers','Error\x20opening\x20quiz\x20editor:','Firebase\x20initialization\x20failed:','files','closePath','</td></tr>','Error\x20processing\x20file\x20shortcut\x20click:','toggle','justification','arrayBuffer','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','\x20ชุดสำเร็จ!','deltaY','text-blue-800','ตัวเลือก\x20','<button\x20id=\x22','removed','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','lineCap','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>','Error\x20loading\x20user\x20preferences:','pointContent','-tab-content','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','responseSchema','<p\x20class=\x22text-xl\x22>','ref','Error\x20loading\x20blueprint\x20projects:','.cancel-edit-topic-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','getPage','behaviorLog','quiz-leaderboard-table-body','AI\x20did\x20not\x20return\x20any\x20content.','kick-player-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','pointermove','cancel-delete-btn','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','pointsLastRound','target','ความคาดหมาย\x20(Expected\x20value)','shuffledQuiz','text-red-700\x20bg-red-100','finished','พื้นที่สี่เหลี่ยม','standardTopic','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20file\x20shortcut\x20config:','\x22>(','ไม่มีคำอธิบาย','กำลังสร้างคำถามข้อ\x20','timerDuration','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','transition-all','.bp-create-onet-quiz-btn','start-live-race-generated-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','min','input[name=\x22syncVariant\x22]:checked','ดาวสภา','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการใช้ตัวช่วย','show-leaderboard-btn','G-V90KRM0L63','live-game','.ideal-answer-input','admin-password-modal','เส้นรอบรูป','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','powerupUsed_q','str','back-to-student-initial-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-shortcuts-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','getItem','clear-all-links-btn','default','\x20สำเร็จ!','save-blueprint-as-project-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','items','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','promise','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','px)\x20scale(','Error\x20regenerating\x20question\x20in\x20editor:','ปลาทูคะนอง','admin-testing','lesson-plan-content','ค่าคลาดเคลื่อนของการวัด','createObjectURL','.generate-content-btn','setItem','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','removeChild','fontFamily','gain','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','starred','export-pdf-modal','สร้างแล้ว','underline','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีผู้ตอบตัวเลือกนี้','ai-quiz-app-aefee.firebaseapp.com','touchend','ทะเล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','admin-dashboard','กุ้งเต้นแร้งกา','summaryContent','lesson-view-title','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','behavior-log','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','substring','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','usedBuyTime','\x20|\x20ID:\x20','เสือซ่อนเล็บ','สายลับจับบ้านเล็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','สลับไปโหมดนักเรียน','ไม่มี','อัตราการเปลี่ยนแปลงทันที','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-loop-until-pass-checkbox','Error\x20verifying\x20answers:','สัญกรณ์วิทยาศาสตร์','ความคล้ายของรูป','project-quizzes-list','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','ท้องฟ้า','ไม่ใช่\x20/\x20ผิด','bg-gray-400','bp-modal-shuffle-setting-select','\x5ctimes','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isDefault','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','wheel','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-passing-score-input','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','100%','/users/','bold','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังดึงไฟล์อ้างอิงจากลิงก์...','พื้นที่สามเหลี่ยม','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22][value=\x22','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','#6366F1','ความแปรปรวน','close-market-btn','closest','ครูใหญ่','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','onclick','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','fill_in_no_choices','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','student-passcode-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20custom\x20topic:','.bp-unlink-quiz-btn','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','คำถามถัดไป','back-to-results-btn','Error\x20duplicating\x20quiz:','นักเขียน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','black-market-modal','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','market-current-points','selectedTopicNames','docs','กฎของไซน์','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','interesting-stats-container','handleGenerateAndShowLesson','link-url-input','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','ไม่พบโปรเจค','.eraser-size-btn','ลบโปรเจคสำเร็จแล้ว','การแจกแจงปกติและ\x20z-score','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','curriculum','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','multiply','Could\x20not\x20fetch\x20reference\x20file:','กรุณาพิมพ์คำตอบของกลุ่ม','uid','(พยายามอยู่)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-topic-selection-btn','Error\x20committing\x20score\x20updates:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','cancel-quiz-edits-btn-footer','q-image-container-','scrollIntoView','ออฟฟิศซินโดรม','projectId','name_desc','/public/data/projects','trim','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','overallGroups','.delete-parallel-shortcut-tab-btn','active','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เกิดข้อผิดพลาดในการบันทึกลำดับ','behavior-log-container','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','line-through\x20text-red-700','Error\x20starting\x20sync\x20game:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','referenceFileUrl','No\x20players\x20data\x20found\x20to\x20save\x20yet.','list-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','Failed\x20to\x20refund\x20powerup:','.quiz-bank-present-btn','_opt1\x22\x20name=\x22question','หมดเวลาสำหรับข้อนี้!','\x22\x20จำนวน\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','FileReader\x20error:','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','shadowBlur','.start-game-btn','.bp-live-btn','MathJax','เกิดข้อผิดพลาดในการบันทึกคะแนน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','players','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','restore','cancel-quiz-edits-btn','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','<tr>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','getTextContent','close-additional-file-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ฟังก์ชันค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','contains','ยกเลิกการเชื่อมโยงสำเร็จ','เกิดข้อผิดพลาดในการบันทึกโปรเจค','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','wasJinxed','transition','playerName','bp-add-topic-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','กลุ่มของคุณ','pointerdown','.export-pdf-list-btn','blob','includeImages','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','powerups','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','selected-answer-index-hidden-wager','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','from','student','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','global-activity-quiz-list','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(',')\x22>','q-text-','.duplicate-quiz-btn','#parallel-shortcut-tabs-nav\x20.tab-name-input','answering','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','กรุณากรอกเป็นตัวเลขเท่านั้น','subTopic','.tab-name-display','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22','project-list','lesson-view-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','global-quiz-count','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','strength-weakness-analysis-container','modal-confidence-mode-select','sync-player-management','authed_project_','การคูณทศนิยม','</a>','eraser-tools-group','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','shortcut-blueprint-url-input','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','th-TH','bg-yellow-300\x20text-yellow-900\x20font-bold','แก้ไขสูตรคณิตศาสตร์\x20','bg-[#DCFCE7]\x20text-green-900','Error\x20deleting\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20clearing\x20linked\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','isLooping','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-clear-btn','ตัวเลือก\x20ก','setTransform','answerText','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','hover:bg-indigo-100','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','circ','.linkedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','แผนการสอน:\x20','block','doc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','wasConfident','Error\x20processing\x20file\x20for\x20AI:','ตั้งเวลา\x20(เปิด)','ผู้ไม่ยอมแพ้','strokeStyle','ความชันเส้นสัมผัส','contents','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','กรุณาตั้งชื่อแท็บใหม่:','text-gray-500','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ติดซีรีส์','findIndex','\x20(p=','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','เส้นตรง:\x20ขนาน/ตั้งฉาก','Error\x20saving\x20blueprint\x20project:','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','CEOพันล้าน','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','.pair-quiz-btn','bg-red-500\x20text-white\x20font-bold','ความชันและเส้นตรง','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','topicId','จำนวนข้อ:','close-comparison-modal-footer-btn','\x20คน\x20(','1590155aXYwDr','eraser','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','clientX','questionIndex','splice','คู่จิ้น','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','border-red-300\x20bg-red-50','export-leaderboard-word-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','confirm-team-players-btn','.pen-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','confidence-input-','timeBonusThisQuestion','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','.answeredCurrentQuestion','confirm-rename-quiz-btn','padStart','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','dashboardConfig','fill','function','⏳\x20ซื้อเวลา','label','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','.quiz-bank-item','currentPoints','#open-additional-shortcuts-btn','lowerGroupNames','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','(ไม่มีชื่อ)','visible','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bestScore','fas\x20fa-star\x20text-yellow-500','startedAt','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','<div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','ไม่พบแบบทดสอบในระบบเลย','ผู้พิชิตดาว','passcode-prompt-message','insertBefore','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','passcode-error-msg','</tbody></table></div>','finishReason','referenceUrl','dragend','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กฎของโคไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','blockReason','input[type=\x22checkbox\x22]','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','การลบ','\x20คะแนน</span></div>','textarea[name=\x22question_single\x22]','execCommand','.remove-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','modified','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.topic-actions-edit','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','reviewQuestionIndex','presentation-short-answer-input','การประยุกต์เวกเตอร์พื้นฐาน','timerMode','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','removeItem','.pdf','Error\x20linking\x20quizzes:','Error\x20saving\x20shortcut:','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','generate-from-link-btn','Blueprint\x20O-NET\x20ป.6','wager-slider','การแปลงรูปอัตลักษณ์','progress-project-select','behavior-log-tab-btn','maxHeight','\x20mx-1\x20text-lg\x22></i></span>','bg-red-500','student-reading-area','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','password-error-msg','firstScore','text-green-600','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','.quiz-bank-delete-btn','ไม่พบข้อมูลการจับคู่','Error\x20updating\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการซื้อ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','เลือกและเริ่มสร้าง','parallelTestShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/plain','cancel-bp-settings-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','สมการราก\x20(radical)','Attempting\x20to\x20save\x20game\x20results...','rename-quiz-input','analytics','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสแกนหาแบบทดสอบเก่า...','/public/data/blueprintProjects/','map','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reduce','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','cancel-quiz-bank-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','.topic-row','.edit-file-shortcut-btn','Error\x20analyzing\x20file\x20for\x20topics:','height','สร้างชุดคำถามจับคู่','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','text-blue-700\x20bg-blue-100','modal-results-display-select','trail','แฟนทิพย์','ไม่สามารถสร้างโปรเจคได้','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','width','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','confidenceMode','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','file-upload-input','input[name=\x22question_single\x22]:checked','.delete-parallel-shortcut-btn','globalCompositeOperation','isPinned','Error\x20saving\x20file\x20shortcut:','game-pin-input','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','Error\x20saving\x20to\x20question\x20bank:','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','teacherSuggestions','include-images-checkbox','1:274192258111:web:4120c9118229b5644dd48a','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','flex\x20flex-col\x20gap-2','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','reveal_at_end','แก้ไขข้อนี้','/public/data/projects/','ช่างภาพ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','\x20คู่\x20','memoryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','<div\x20class=\x22p-2\x20rounded-md\x20','Refunded\x20','added','การคูณ','passingScore','ฟังก์ชันพหุนาม','[data-topic-container-id]','</span></td>','market-item-list','input[name=\x22syncVariant\x22]','\x22\x20ออกจากคลังนี้?','postTScore','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','-options\x22>','frac','confirm-quiz-settings-btn','log','ต้นฉบับ\x201','timestamp','bg-red-100\x20text-red-900','จับคู่แบบทดสอบสำเร็จ!','quiz-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','กรุณาใส่ชื่อนักเรียน','ตัวเลือก\x20ค','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','match','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','isAdaptive','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','blueprint-project-list','ฮัลค์','เกิดข้อผิดพลาดในการสร้าง:\x20','.regenerate-question-editor-btn','จับคู่เพื่อเปรียบเทียบผล','touches','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','เรเดียนและการแปลงหน่วย','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ชนิดของข้อมูลและการเก็บข้อมูล','เลือกโปรเจคเพื่อบันทึก','ไม่พบโปรเจคที่ต้องการลบ','indexOf','ตะวันฉาย','mouseleave','20px','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ความเท่ากันทุกประการของสามเหลี่ยม','answerValue','ระยะเวลา\x20(วินาที):','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','confirm-game-start-btn','bg-yellow-50','qIndex','blueprint-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','per-q-countdown','generate-from-blueprint-btn','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','classic','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','save-file-shortcut-btn','upperGroupResponders','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','setAttribute','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reset-view-btn','file-shortcut-tabs-nav','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','จากเนื้อหาต่อไปนี้:\x20\x22','ค่าเฉลี่ย','classStrengths','.ideal-answer-input,\x20.correct-response-input','replace','Powerup\x20use\x20failed:','เกิดข้อผิดพลาด','anonymous','.lastAnswerIndex','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','(เลือกแล้ว\x20','.verification-result','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','PERSEVERANCE','text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมไฟล์อ้างอิง...','dispatchEvent','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','API\x20Error\x20Body:','จำนวนและการดำเนินการ','$1\x5c%','\x20|\x20','Remedial\x20quiz\x20generation\x20failed:','export-pdf-btn','กรุณาเลือกสถานะ','live-player-management','<div\x20id=\x22q-image-container-','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','export-excel-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','กำลังสร้างบทเรียน:\x20','quiz-editor-modal','translate(','cancel-move-quiz-btn','bulk-quiz-settings-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','export-lesson-to-pdf-btn','fadeStartTime','short','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','perfect_score_status','difficultyValue','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','เพิ่มปุ่มลัดใหม่','sin','.ai-content\x20td','num-choices-container','parentNode','ไม่สามารถเพิ่มนักเรียนได้','ตรวจคะแนนใหม่\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','insertAdjacentHTML','push','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','project-name-input','นกฮูกกลางวัน','sqrt','BOOLEAN','\x20\x20\x20-\x20คำตอบ:\x20','</h4>','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','หนอนหนังสือ','save-visibility-settings-btn','ไฟล์ลัด\x201','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','analytics-tab-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','confidence-scoring-toggle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','เรขาคณิต','💰\x20โหมดเดิมพันทำงานอยู่!','Error\x20joining\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','Error\x20starting\x20group\x20quiz:','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','allResponses','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','overflow','\x22><span\x20style=\x22','quiz-leaderboard-table-container','lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','ใช้ไอเทม\x20','.quiz-settings-btn','show_results_only','Auto-cleanup\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','กำลังค้นหากิจกรรม...','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','unshift','open-sync-scratchpad-btn','text-green-800','summary_chart','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','artifacts/','realScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','.delete-hidden-file-shortcut-btn','responses','drop','isJinxed','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ปริพันธ์ไม่จำกัด','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','move','student-name-select','Failed\x20to\x20generate\x20practice\x20test:','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','code','เกิดข้อผิดพลาดในการลบนักเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blueprint-options-container','.ai-content\x20li','playerNicknames','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','รอ...','schedule','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x5cle','targetId','บันทึกคำถามใหม่\x20','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','right','\x22\x5cn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','md:col-span-1','freeMarketEntryUsed_q','/public/data/quizzes','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','perfect_score','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','student-name-input','fullscreenElement','ไม่ใช่','shortcutId','รูปสแควร์รูท\x20(surd)','add','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','เกิดข้อผิดพลาดในการบันทึก','#open-additional-file-shortcuts-btn','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','false','.delete-custom-topic-btn','คุณแน่ใจว่าต้องการลบแท็บนี้?','```json','itemId','explanation','จำนวนเชิงซ้อน\x20(เสริม)','powerups.','projectView','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','student-quiz-area','เกิดข้อผิดพลาดในการแก้ไข','student-initial-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x20pointer-events-none\x22>','ไม่ระบุ','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','แก้ไขชื่อหัวข้อย่อย:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','submit-group-answer-btn','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.move-file-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','Failed\x20to\x20generate\x20lesson:','รูปสี่เหลี่ยมและสมบัติ','โหลดนาน','topicName','shortcutIds','prod','text-emerald-800','ตรีโกณมิติ','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','cancel-quiz-status-btn','<div\x20style=\x22','Error\x20fetching\x20project\x20quizzes:','.quiz-bank-checkbox:checked','cancel-quiz-settings-btn','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','ไม่สามารถโหลดรายการโปรเจคได้','กรุณาป้อนหัวข้อสำหรับใบงาน','blueprintUrl','</label></div>','</span></div>','ไม่พบข้อมูลแบบทดสอบ','Error\x20fetching\x20student\x20rankings:','on_fire','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20points:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit','use-powerup-fiftyFifty','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','การลบเศษส่วน','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','bp-modal-num-questions','Successfully\x20removed\x20','/public/data/liveGames','data','settings','text-red-600','wakeLock','.compare-results-btn','สมการยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','team-student-list','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','ส้มตำปูปลาร้า','28px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',')\x22><span\x20style=\x22','ราชาคัมแบ็ก','เทพทรู','<div><input\x20type=\x22radio\x22\x20id=\x22q','save-bp-reference-btn','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','_blank','เวกเตอร์และเมทริกซ์\x20(เสริม)','fa-pen','#add-question-editor-btn','.edit-hidden-shortcut-btn','.buy-item-btn','.pointsLastQuestion','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','sum','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','input[type=\x22radio\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','delete-all-students-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','-\x20ข้อ\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20clearing\x20all\x20links:','toLocaleString','interesting-stats-wrapper','outerHTML','Failed\x20to\x20kick\x20player\x20','ดูผลสรุปสุดท้าย','endsWith','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','แผนภาพเวนน์','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','newOptionsPayload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','gameVariant','AI\x20grading\x20failed:','destroy','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','fill_in_the_blank','file-topic-input','Error\x20confirming\x20players:','.delete-shortcut-btn','Error\x20generating\x20easy\x20version\x20quiz:','เกิดข้อผิดพลาดในการจับคู่','Error\x20updating\x20pin\x20status:','no-projects-msg','ย้ายแบบทดสอบไปโปรเจคอื่น','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','/players','📊\x20สถิติการตอบ\x20(จากผู้เล่น\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','<li\x20class=\x22','additional-parallel-shortcuts-modal','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20แต่ละข้อมี\x20','student-join-game-view','</p><div>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ก่อนเรียน','student-team-join','การจัดกลุ่มข้อมูล','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','mousedown','width\x2060s\x20linear','ฟังก์ชันแบบชิ้นส่วน','text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','difficulty-level-select','parallel-shortcut-name-input','shuffleSetting','cancel-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','newCorrectIndex','insurance','date_desc','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','set','open-global-live-btn','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','far\x20fa-star','modal-timer-mode-select','modal-timer-duration-label','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','/public/data/blueprintProjects','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','verify-answers-btn','Failed\x20to\x20resume\x20game\x20session:','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','file-topics-list-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','.ai-content\x20p','keys','#e21b3c','delete','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','cancel-team-selection-btn','ยังไม่มีนักเรียนส่งงาน','dimmed',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ฟังก์ชันยกกำลัง','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','suggestedAnswer','พิซซ่าหน้าทุเรียน','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x20mr-2\x22></i>','\x0a\x20\x20\x20\x20\x20\x20</div>','(^|[^\x5c\x5c])\x5cb','นักล่าฝัน','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(สำหรับ\x20','.edit-question-btn','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','generationConfig','คัดลอกไม่สำเร็จ','.quiz-result-card','🛡️','เกิดข้อผิดพลาดในการโหลดโปรเจค','scheduled_pending','วงรี','<div\x20class=\x22space-y-4\x22>','file-input-area','\x22\x20ให้เป็นคำถามประเภท\x20\x22','not-found','\x22\x20data-topic=\x22','txt','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลำดับเรขาคณิต\x20(GP)','quiz-bank-modal','add-shortcut-tab-btn','data:application/vnd.ms-word;charset=utf-8,','applicationHTML','fas\x20fa-bookmark','🌗\x2050:50','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','getBoundingClientRect','admin-view','สร้างแบบทดสอบปรนัย','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','อัปเดตสถานะสำเร็จ','find','topic_','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','enable-black-market-checkbox','คนดีศรีสยาม','รอเปิด','div','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','fromCharCode','\x22\x20x','start-presentation-btn','countdown-display','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','totalQuestions','.isScored','dataIndex','การแจกแจงทวินาม\x20(พื้นฐาน)','text-red-900','comparison-modal','การคูณเศษส่วน','leaderboard-table-body','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','split','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','readAsArrayBuffer','bp-quiz-settings-btn','พื้นที่วงกลม/ส่วนของวงกลม','Blueprint\x201','documentElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','Failed\x20to\x20apply\x20jinx:','แบบเติมคำตอบ','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','<button\x20data-tab-id=\x22','lesson-sections-container','save-game-results-checkbox','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','.edit-points-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','blueprint-input-area','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','สมการค่าสัมบูรณ์','ผ่านฉลุย','ต้นฉบับ\x202','เกิดข้อผิดพลาดในการเข้าร่วมเกม','อัตราส่วนและสัดส่วน','Loaded\x20','mandatory','ลำดับเลขคณิต\x20(AP)','Enter','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','ใช้\x20\x22คำสาป\x22\x20กับ\x20','removeEventListener','sync-timer-bar','คนคุย','<div\x20class=\x22my-6\x22>','อสมการค่าสัมบูรณ์','\x22,\x20','พบ\x20Team\x20Quiz!','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','/public/data/syncGames/','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','applicationData','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','grid','ดาบพิฆาตอสูร','user','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parent','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','.delete-submission-btn','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','\x20เป็น\x20','ตรวจพบการออกจากหน้าจอครบ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.answered','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','#FFFFFF','stroke','#FEE2E2','quiz-editor-questions-container','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','image/png','API\x20call\x20failed','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','cancel-game-start-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','สายลมแห่งโชคชะตา','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lobby','bg-white','market-timer-bar','view-my-progress-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','คัดลอกรหัสแล้ว!','???','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','medium','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','manual-blueprint-modal','live-options-container','\x5cneq','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','update-old-quizzes-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','sync-timer-duration-input','\x20จุดเรียบร้อยแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','release','.delete-svg-btn','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','#000000','touchstart','showImproveButton','ไม่สามารถเริ่มเกมได้','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','.delete-quiz-btn','has','.delete-file-shortcut-tab-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.presentation-option','คะแนนยังไม่ถึงครึ่ง','.file-shortcut-btn[data-id=\x22','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.totalPoints','comeback_king','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','order','submittedAt','bg-amber-100\x20text-amber-800','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','ส่วนเบี่ยงเบนมาตรฐาน','เกิดข้อผิดพลาดในการลบ','การเรียงสับเปลี่ยน\x20(Permutation)','กำลังสร้างแบบทดสอบ\x20\x22','กิจกรรมสิ้นสุดลงแล้ว','คนโสด','confidence-choice-btn','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','word-break:\x20break-all;','ทฤษฎีทวินาม\x20(เบื้องต้น)','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','tab_','Error\x20generating\x20teaching\x20content:','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','separate-by-content-from-file-checkbox','ไม่พบข้อมูลเกม','matching_item','presentation-scratchpad-btn','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','use-powerup-buyTime','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','isPasscodeEnabled','ยกเลิกการใช้ไอเทม','color','confirm-quiz-status-btn','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20calculating\x20final\x20scores:','use-powerup-wagerMultiplier-instant','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','showInStudentDashboard','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','fullscreenchange','แอบชอบ','wager-modal','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','parallel-shortcut-modal-title','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','display','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','ฐานนิยม','topic','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','30px','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','.question-editor-item[data-q-index=\x22','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','หมูกระทะจะเยียวยาทุกสิ่ง','total','bp-modal-num-choices','#student-project-leaderboard-content\x20thead','AI\x20แก้ไขคำถามสำเร็จ!','---\x20[คำถามใหม่]\x20---','matching','timer-duration-input','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','Error\x20unpairing\x20quizzes:','powerupUsed','shortcuts','.game-start-btn','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','score','getScreenCTM','\x5csum','<tr\x20class=\x22','พื้นที่ผิวรูปทรงสามมิติ','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','#file-shortcut-tabs-nav\x20.tab-name-input','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','.csv','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','.move-file-shortcut-item','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-content','both','.sortable-header','เกิดข้อผิดพลาดในการดึงข้อมูลสถิติ','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','อนุพันธ์:\x20กฎลูกโซ่','move-quiz-modal','ม้าดีดกะโหลก','.bp-create-content-quiz-btn','Error\x20starting\x20game:','#E5E7EB','open-blueprint-projects-btn','globalAlpha','per-question-timer-container','student-quiz-leaderboard-content','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-view','ฟังก์ชันราก\x20(root)','getElementById','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','num-choices','<option\x20value=\x22','file-shortcut-url-input','editable-text-','additional-shortcuts-list','not_generated','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','confidence_single','dataset','\x20ข้อ\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','_opt','\x5cdiv','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','next-question-timed-btn','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','quizId','ค่าความจริง/ตารางค่าความจริง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22><i\x20class=\x22fas\x20',')</span></div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','bank-input-area','ไม่ผ่าน','มี\x20Points\x20ไม่เพียงพอ','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','(นำโด่ง)','/lessons','quiz-settings-modal','กรุณาเลือกคำตอบก่อนครับ','scores','<button\x20data-quiz-id=\x22','\x20link(s)\x20for\x20quiz\x20ID:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','doughnut','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team','.use-hidden-shortcut-btn','ปริมาตร/ความจุและการแปลง','opacity','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','.live-answer-btn','รีเซ็ตลำดับโปรเจคแล้ว','use-powerup-','\x20(Player)\x20(ID:\x20','worksheet-topic-input','instructions','เศษส่วน\x20(ย่อ/ขยาย)','ondblclick','leq','subTopics','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.space-y-1.pl-4','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','ARRAY','อุณหภูมิและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','การหาร','project-id-display','Error\x20listening\x20for\x20student\x20profiles:','generate-from-file-btn','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','correctAnswer','_new','student-project-leaderboard-content','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','เปิดใช้งาน','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','deg','fontSize','เกิดข้อผิดพลาดในการอ่านไฟล์','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','timer-bar','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','hasOwnProperty','confirm-passcode-btn','afterend','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22.\x20','short_answer','เรขาคณิตวิเคราะห์','ส่วนเบี่ยงเบนเฉลี่ย','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','buy-time-quantity-input','อัปเดตแบบทดสอบเก่า\x20','wagerMultiplier','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragover','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group\x5c/dropdown','currentQuestionIndex','จิงโจ้สโลว์ไลฟ์','num-questions','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','handleGeneratePracticeTest','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','.edit-quiz-btn','bg-blue-100\x20text-blue-800','bg-indigo-600\x20hover:bg-indigo-700','slice','ลบหัวข้อสำเร็จ','retake-quiz-loop-btn','Error\x20displaying\x20blueprint\x20project:','.highlighter-color-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','live-game-view','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','bg-gray-500','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','globalSettings','บทเรียน','<span\x20class=\x22block\x20text-sm\x20','icon','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20','แก้ไขปุ่มลัด','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','bg-white\x20text-gray-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','project-detail','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','สร้างใหม่','manual-bp-project-name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','dragstart','get','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','remove','results_','line-height:\x201.3;\x20min-width:\x200;','Error\x20saving\x20project\x20order:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','ปล่อยพลัง','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','group','พื้นที่ใต้กราฟ/ระหว่างกราฟ','สอบซ่อม','การสร้างรูปด้วยวงเวียน–สันตรง','กำลังกลับเข้าสู่เกม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','timer-duration-label','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','quiz-bank-count','fa-fire\x20text-orange-500','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','.start-presentation-list-btn','4oCEHZA','/public/data/customMathTopics','\x27\x20ในหัวข้อ\x20\x27','currentTarget','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','confirm-bulk-quiz-settings-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','bp-modal-question-complexity-select','ผู้เล่น\x20','blueprint-upload-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','ซื้อ\x20\x22','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manual-bp-content','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','memory','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','keydown','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ปริพันธ์จำกัด','input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-items','input[name=\x22status-option\x22]:checked','asc','confidence-scoring-checkbox','รอผู้ควบคุมไปข้อต่อไป...','อัปเดตการตั้งค่าของแบบทดสอบ\x20','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','มุมพิเศษ\x2030°-60°-90°','pow','.parallel-shortcut-btn','.shortcut-list-item:not(.opacity-50)','export-lesson-pdf-btn','isRemedial','.open-bp-project-btn','\x22\x20สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-300','ลบผลสอบของ\x20','-tab','exists','select','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.live-answer-btn,\x20#live-submit-short-answer-btn','includes','/public/data/learnedFixes','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','file-shortcut_','replaceChild','beginPath','นินจาชาเขียว','show-in-student-dashboard-checkbox','00:00','text','.file-shortcut-tab-btn','highlighter-size-value','bp-project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','กาแฟขม','\x22\x20value=\x22true\x22\x20','.view-bp-lesson-btn','\x20/\x20','eraser-tool-btn','default-1','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','\x20ข้อ...','\x22\x20name=\x22team_answer\x22\x20value=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x22','.move-parallel-shortcut-menu-btn','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','text-yellow-800','resultsSaved','.txt','fixedData','คะแนนเฉลี่ย','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','กำลังเตรียมไฟล์...','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','Error\x20adding\x20students:','text-indigo-600','cancel-parallel-shortcut-edit-btn','.move-shortcut-menu-btn','กำลังอ่านไฟล์อ้างอิง...','touch','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.ai-fix-formula-btn','podium','\x20ชุด)','option','copy','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','rename-quiz-modal','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-parallel-shortcut-btn','</body></html>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','</button>','เลือกและบันทึก','.live-answer-btn,\x20#sync-submit-btn','player-list-lobby','/public/data/quizzes/','bp-topic-list-container','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','textAlign','groups.','กัปตัน','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','สถิติและความน่าจะเป็น','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','ชีสเค้ก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','select[name=\x22question_single\x22]','project-dashboard-view','handleGenerateQuizFromBlueprintTopic','sort','เกิดข้อผิดพลาดในการสร้างห้องเกม','student-project-leaderboard-tab','verify-answers-editor-btn','mouseup','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ยอดนักสืบ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondrop','latestScore','manage-players-btn','มุมพิเศษ\x2045°-45°-90°','</h3>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','export-worksheet-pdf-btn','modal-adaptive-quiz-checkbox','save-quiz-btn','passing-score-input','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','114IIKaBH','พิสัย','blur','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','ซามูไรสายเดี่ยว','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','(รอคะแนน)','GlobalWorkerOptions','quiz-results','write','showRankings','addEventListener','powerupUsedThisTurn','currentMode','project-sort-select','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20',':</span><span>','onchange','pointerup','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','\x20to\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','ผ่าน','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','ความเป็นอิสระของเหตุการณ์','file-default-','Failed\x20to\x20get\x20hint:','fileShortcutTabs','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','ใช่\x20/\x20ถูก','เกิดข้อผิดพลาดในการปักหมุด','การลบทศนิยม','correct','file-default-2','firstElementChild','<div\x20class=\x22answer-space\x22></div>','createdAt','</p><p><strong>เฉลย:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','เกิดข้อผิดพลาดในการส่งคำตอบ','📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม','anonymous_reveal_end','starred-project','แก้ไขหัวข้อสำเร็จ','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','text/html','นักกีฬา','Error\x20adding\x20topic:',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ศิลปิน','results-tab-content','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','generated','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','answer-counter','confirm-game-start-modal','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','mouse','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','generate-from-text-btn','#ffffff','student-progress-view','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','แผนการสอน','การกระจายและการจัดหมู่','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','type','style','pdf','<button\x20data-id=\x22','border-indigo-500\x20text-indigo-600','position','topics.','overflowY','file-shortcut-modal-title','confirm-wager-btn','text-white','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','keyConcepts','คาถาแยกเงาพันร่าง','<span\x20title=\x22','leaderboard-tab-content','ondragstart','comparison','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แท็บใหม่','\x20คะแนน\x20','Group\x20Mode','.bp-generate-lesson-btn','fill_in_with_choices','error','worksheet-tab','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','\x22.\x20Ideal\x20Answer:\x20\x22','.correct-response-input','close-lesson-view-btn','shortcut-editor-modal','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','substr','.move-parallel-shortcut-item','practiceProblems','bp-reference-file-url','_opt1\x22>ไม่ใช่</label></div>','isArray','post-test','grid-view-btn','Error\x20unlinking\x20quiz:','คำเตือน\x20(','bg-red-700\x20text-white\x20font-bold','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','Market\x20entry\x20payment\x20failed:','sync-manage-players-btn','additional-file-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','leaderboard-quiz-tab-btn','playerIndex','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','หมาป่าเดียวดาย','กรุณาเลือกไฟล์ก่อน','bg-blue-500\x20hover:bg-blue-600\x20text-white','แบบปรนัย\x204\x20ตัวเลือก','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','pointercancel','.bp-try-btn','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','bulk-loop-until-pass-checkbox','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','analyze-strengths-btn','จัดการ','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parseInline','Error\x20during\x20deep\x20delete:','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','ceil','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20ใหม่...','isScored','แก้ไข\x20Points\x20ของ\x20','link-tab','.scratchpad-content-wrapper','querySelectorAll','startTime','bp-modal-include-images-checkbox','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบของกลุ่ม','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','.delete-project-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','add-parallel-shortcut-btn','มุมและการวัดมุม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','join','COMEBACK_KING','url','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','Original\x20quiz\x20not\x20found','ไม่พบแบบทดสอบ','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','questionDisplayedAt','bp-modal-difficulty-level-select','\x27Sarabun\x27,\x20sans-serif','manual-create-blueprint-btn','ผิด','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','ไม่พบเอกสารการส่งงานของ\x20','join-live-game-btn','/preferences/main','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','.tab-name-input','isFinished','คัดลอกแบบทดสอบสำเร็จ','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','parallelShortcutOrder','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','linkedQuizIds','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','export-leaderboard-excel-btn','btn','ค่าเสื่อมราคา','Error\x20saving\x20visibility\x20settings:','dim-overlay','.parallel-quiz-btn','toLocaleDateString','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','true_false','loopUntilPass','#10B981','generate-from-topic-btn','test','mean','left','Error\x20saving\x20user\x20preference:','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','Error\x20saving\x20parallel\x20shortcut:','commonMistakes','cancel-global-activity-btn','กรุณาเลือกโปรเจคก่อน','.edit-shortcut-btn','พลังคลื่นเต่า','กรุณาใส่ชื่อโปรเจค','stem','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','mjx-container','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','<div\x20class=\x22flex-1\x22></div>','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','/public/data/syncGames','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','toDataURL','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','ตัวเลือก\x20ข','close-lesson-plan-modal-footer-btn','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','export-leaderboard-pdf-btn','ไม่พบไฟล์\x20Test\x20Blueprint','helvetica','.delete-bp-project-btn','scratchpad-canvas','per_question','<span>','qType','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','.application-options\x20button','devicePixelRatio','createElementNS','instantWager','Invalid\x20response\x20structure\x20from\x20AI.','preventDefault','next-sync-question-btn','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','hasPerfectScoreBonus','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','visibilityState','</th>','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','application/json','#FEF3C7','หัวข้อที่สร้างเอง','อัปเดตพฤติกรรมสำหรับ\x20','...\x22)?','fix\x20the\x20option','projectSort','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','inactive','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','Error\x20saving\x20lesson\x20to\x20project:','not_confident','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file.txt','.lastAnswerValue','ผู้ควบคุม\x20(ทดสอบ)','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','lineWidth','เพิ่มหัวข้อ\x20\x22','.rename-quiz-btn','Error\x20saving\x20questions\x20to\x20practice\x20bank:','members','quiz-form','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','confirm-delete-btn','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ชุด)</span>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','isCorrect','s;\x22\x20title=\x22','scrollHeight','.score','disabled\x20bg-gray-400\x20cursor-not-allowed','href','Error\x20deleting\x20shortcut:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','px,\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-green-700\x20bg-green-100','admin-try-quiz-btn','normal','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','blueprint-settings-modal','.bp-delete-topic-btn','.project-card-content','input[type=\x22text\x22]','จากไฟล์ที่แนบมานี้,\x20','neq','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','generate-from-parallel-test-btn','multiple_choice','คำถามดิบ:\x20\x22','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','wager-amount-display','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','การหารเศษส่วน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Buy\x20Item\x20failed:\x20','additional-shortcuts-modal','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','</tbody></table>','การบวกเศษส่วน','close-lesson-plan-modal-btn','tool','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ยืนยันการจับคู่','.use-hidden-parallel-shortcut-btn','ที่พิมพ์ได้\x20จำนวน\x20','disabled','input[type=\x22checkbox\x22]:checked','none','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','สำหรับหัวข้อ\x20\x27','next-review-question-btn','sync-variant-selector','topic-bank-list','close','score-distribution-chart','คะแนน','text-red-300\x20hover:text-red-100','กรุณาวาง\x20URL\x20ของบทความก่อน','เน็ตช้า','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','แบบทดสอบที่ติดดาว','add-parallel-shortcut-tab-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','classList','confirm-admin-login-btn','toISOString','หลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','สรุปผลการวิเคราะห์:\x5cn','leaderboard-quiz','thead\x20.sortable-header','blueprint-projects-modal','.move-file-shortcut-menu-btn','options','ต้นฉบับทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','reference-pdf-upload','เส้นจำนวน','ดวงดาว','ตัวแทนแห่งดวงจันทร์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','bg-[#4ADE80]\x20text-green-900\x20font-bold','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','.question-editor-item:last-of-type','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','math-topic-search-input','pointsLastQuestion','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','duration-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','projectSortOrder','อินฟลูเอนเซอร์','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','key','http://www.w3.org/2000/svg','create-project-modal','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answers','cancel-shortcut-edit-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x5cpm','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','ฟังก์ชันสัมพัทธ์\x20(rational)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','แบบทดสอบนี้หมดเวลาแล้ว','Team\x20Quiz','comparison-individual-content','Error\x20submitting\x20answer:','numeric','next-drill-btn','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','shuffle-setting-select','</p></div>','add-file-shortcut-btn','json','MathJax\x20typeset\x20error\x20(analytics):','resultsDisplay','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เพิ่มรายการที่เลือก','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','upperGroupNames','submission','rgba(16,\x20185,\x20129,\x200.7)','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','fa-shield-alt\x20text-gray-600','.group\x5c/dropdown-file','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','secondChance','lesson-view-content','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','text-green-600\x20font-bold','สมการเชิงเส้นตัวแปรเดียว','applicationContent','results-quiz-title','newOptions','กรุณาใส่ชื่อใหม่','modal-confidence-mode-container','jinx','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','ปิดใช้งาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','mainTopics','ON_FIRE','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','quiz-type-select','<option\x20value=\x22\x22>กำลังโหลด...</option>','attemptNumber','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<span\x20title=\x22โดนคำสาป\x22>😈</span>','...','loader-text','parallel-test-input-area','cursor','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questionType','save-shortcut-btn','highlighter','export-image-btn','geq','Blueprint\x202','isAnonymousRevealed','Error\x20saving\x20shortcut\x20config:','.remove-parallel-shortcut-from-tab-btn','(ก่อนเรียน)\x20','mode','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','numChoices','answeredCurrentQuestion','add-student-btn','.topic-actions-view','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','เนื้อหาสำหรับสอน:\x20','bank-tab','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.toggle-actions-btn','กำลังสร้างรูปภาพ...','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','oninput','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','ครัวซองต์','points','pre-test','\x20ตัวเลือก)','เกมเมอร์','ยกเลิกการจับคู่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x22\x20(ใส่ตัวเลข):\x0a','การหารทศนิยม','OBJECT','(คู่ขนาน)\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','สาระที่\x201','สเกลและแผนที่','leaderboard-tab','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','point','%PDF','มูเตลู','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','📡\x20สแกน:\x20ไม่พบผู้เล่นอื่นในห้องครับ','answered','idealAnswer','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','students','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','undo-btn','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','resize','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','student-back-to-home-btn','manage-tab-content','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','bg-yellow-200','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','webkitRequestFullscreen','#retake-for-improvement-btn','\x20ชิ้น)','\x22>จาก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x20animate-pulse\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-xs\x20text-indigo-300\x20mb-2\x22>(คุณไม่รู้แต้มตัวเอง)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','topic-tab','sync-timer-duration-container','ดอทโปรดักต์\x20(dot)','.shortcut-list-item','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','font-bold\x20text-green-700','lastAnswerIndex',')</button>','\x20\x20\x20-\x20','\x20แล้ว!','เปลี่ยนชื่อแบบทดสอบสำเร็จ','.file-shortcut-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','.draggable-text','reveal-names-btn','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','Error\x20showing\x20quiz\x20detail\x20view:','submission-status-chart','source_document.pdf','link-topic-input','ไม่พบข้อมูลผู้เล่น','file-shortcut-editor-modal','readAsDataURL','ดีมาก','กำลังสร้างเนื้อหา:\x20','Error\x20saving\x20parallel\x20shortcut\x20config:','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','pen-tools-group','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','parallel-default-1','lowerGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.text-indigo-200','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','Error\x20toggling\x20pin\x20status:','comparison-individual-tab','Error\x20verifying\x20answers\x20in\x20editor:','application/pdf','publicLeaderboard','API\x20call\x20failed\x20with\x20status:\x20','temp-loader-text-results','loop-until-pass-checkbox','project-search-input','หน่วยมวล/น้ำหนักและการแปลง','reference_onet.pdf','cancel-confidence-btn','onload','จอมเวทย์ขนมหวาน','screen_exit','isBlackMarketEnabled','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','source_document.txt','mode-switcher-btn','bg-red-50','message','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','scoresCalculated','ข้อ\x20','2630XoMdad','.ai-content\x20h3','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','quizMode','endTime','.bp-open-topic-bank-btn','shortcut-name-input','.use-hidden-file-shortcut-btn','</div>','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','binom','✂️\x20ตัด\x201\x20ตัวเลือก','[data-topic-id]','แก้ไขปุ่มลัดจากไฟล์','team-quiz-topic','\x20กลุ่ม</p></div>','latestSubmittedAt','toFixed','.pen-size-btn','ดอกเบี้ยทบต้น','true','promptFeedback','toString','parallel-shortcut-container','nextElementSibling','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','เน็ตไอดอล','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','บังคับมั่นใจ','\x20ตอบ','bg-green-400\x20text-white\x20font-bold','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','confirm-move-quiz-btn','transformOrigin','แบบทดสอบฝึกฝนเรื่อง:\x20','AI\x20Fix\x20Error:','257586RJUufg','bg-blue-100','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','getAttributeNS','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','</div></div>','blueprintShortcuts','back-from-results-btn','parallel-shortcut-editor-modal','NEGATIVE_INFINITY','isConfidenceScoringEnabled','เต่าสายฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.buy-time-confirm-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','bg-green-200','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','appendChild','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','values','ไม่พบแบบทดสอบสำหรับรหัสนี้','Error\x20preparing\x20content\x20quiz:','admin','custom-math-topic-input','confirm-create-project-btn','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','textarea[name=\x22team_answer\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','0\x20(รอโบนัส)','perQuestionStats','.project-card-container.opacity-50','realName','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-black/10','tan','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','check-presentation-answer-btn','lastIndexOf','คำอธิบาย...','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','ควรปรับปรุง','touchmove','shouldSaveResults','fileShortcutOrder','parallel-test-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','</p>','draggable-text','flex','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','.ai-content\x20blockquote','Export\x20Image\x20Error:','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','confidence-mode-container','results','.delete-question-editor-btn','ย้ายแบบทดสอบสำเร็จ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','beforeend','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟแท่ง\x20กราฟเส้น','showAnswerInAnonymous','end-sync-game-btn','sync-matching-select','enable-passcode-checkbox','minHeight','all','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ร้อยละประยุกต์','innerText','กรุณาสร้างบทเรียนก่อน','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','Error\x20generating\x20hybrid\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherTips','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','backgroundColor','answer-grid-container','Error\x20deleting\x20student:','ชื่อหัวข้อห้ามว่าง','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','border-green-700','ระยะเวลา\x20(นาที):','.group\x5c/dropdown-parallel','รูปหลายเหลี่ยมและมุมภายใน','</span>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2062064mXIEPl','hiddenOptions_q','mixed','docChanges','rgba(79,\x2070,\x20229,\x200.8)','td,\x20th','Error\x20updating\x20sort\x20preference:','.question-editor-item','<span\x20title=\x22ใช้ไอเทม\x22>','.delete-shortcut-tab-btn','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','bg-red-100','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</span>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','rgba(239,\x2068,\x2068,\x200.7)','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20quizzes\x20into\x20global\x20cache.','classWeaknesses','.generate-post-test-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','analytics-tab-content','.edit-custom-topic-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(ก่อนเรียน)','AI\x20request\x20was\x20blocked.\x20Reason:\x20','</li>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','contentEditable','🚀\x20คุณเดิมพันหมดหน้าตัก!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','onerror','#math-topics-checkbox-container\x20input:checked','เหมียวขี้เซา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','.project-card-container:not(.opacity-50)','bulk-confidence-scoring-checkbox','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x20in\x20all\x20blueprint\x20projects.','\x20\x0a\x20\x20\x20\x20','typesetPromise','game-start-mode','font-bold\x20text-red-700\x20line-through','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','teachingContent','anon-show-answer-toggle','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','open','innerHTML','lesson-loader','border-green-300\x20bg-green-50','student-result-area','trail-tool-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ลาเต้ไม่หวาน','blueprint-project-manager-view','สถานะไม่ชัดเจน','questionId','bg-green-100\x20text-green-800','จำนวนคละ','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','cancel-test-btn','clientY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','complexityValue','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','bank-quiz-list','setAttributeNS','อนุพันธ์:\x20กฎพื้นฐาน','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','padding','ย้าย','use-powerup-insurance','Error\x20toggling\x20star\x20status:','เกิดข้อผิดพลาดในการสร้างรูปภาพ','isForcedConfident','start-quiz-btn','tabId','questionStatus','บันทึกโปรเจค\x20\x22','file-shortcut-container','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','fontWeight','imageCode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','\x22\x20data-name=\x22','topic-quiz-bank-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','modal-timer-duration-input','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','quick_thinker','ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x20จาก\x20','[data-topic-id=\x22','\x5cge','onblur','</tr>','results-table-container','คณิตศาสตร์','solution','ชาไข่มุก','confirm-manual-bp-btn','#4338ca','pointer-events-none','\x22\x20name=\x22question_single\x22\x20value=\x22','back-to-dashboard-from-bp-btn','hidden','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x5csqrt{$1}','save','additional-parallel-shortcuts-list','status','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','questions','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','7373575kRSpTi','มือปราบสายรุ้ง','</div></div></div>','ai-quiz-app-aefee.firebasestorage.app','originalQuestionText','button','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','กรุณาเลือกโปรเจคปลายทาง','use-powerup-secondChance','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','sync-player-list','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการสร้างใบงาน','.quiz-status-btn','results-table','2-digit','.delete-hidden-shortcut-btn','back-to-dashboard-from-results-btn','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','localeCompare','\x22\x20style=\x22','จำนวนคู่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22bg-yellow-400\x20text-yellow-900\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-mode-select','Error\x20starting\x20team\x20quiz:','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','.edit-hidden-file-shortcut-btn','Authentication\x20failed:','ยอดเยี่ยม','รหัสไม่ถูกต้อง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','bulk-quiz-settings-modal','สร้างคำถามแบบเติมคำในช่องว่าง','ข้าวมันไก่พิเศษ','parallelShortcutTabs','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','cancel-rename-quiz-btn','.start-live-race-btn','confidence-scoring-description','activeGameSession','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','นอนไม่พอ','input[name=\x22syncVariant\x22][value=\x22','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','เพื่อนสนิท','372618PThdED','\x22\x20data-pre-test-id=\x22','learningGaps','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','หน่วยความยาวและการแปลง','นักประดิษฐ์','transform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-scoring-checkbox','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','parentElement','questionText','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','checkAnswer','student-list','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','rgba(239,\x2068,\x2068,\x200.9)','move-quiz-project-select','กลุ่ม:\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-selection-view','badgesCount','เกิดข้อผิดพลาดในการติดดาว','โดเมนและเรนจ์','getTime','attempts','element','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gradeLevel','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20value=\x22','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','displayName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress','math-topics-checkbox-container','เกิดข้อผิดพลาดในการลบโปรเจค','export-word-btn','msRequestFullscreen','now','shortcut-id-input','ไอรอนแมน','Error\x20processing\x20parallel\x20shortcut\x20click:','forEach','</td>','parallel-shortcut-url-input','ปุ่มลัดทั้งหมด','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','autoTable','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','cloneNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','every','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<br>','main-correct-answer-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','สมการตรีโกณมิติ','answer','modal-timer-duration-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','setFont','file-topics-list','อยู่ในหัวข้อหลักใด:','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scale-125','textContent','scale','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','#F59E0B','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.bp-present-btn','%)\x0a','.edit-parallel-shortcut-btn','Error\x20during\x20class\x20analysis:','\x22\x20class=\x22color-palette-btn\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','correctResponse','กรุณาพิมพ์คำตอบ','getBBox','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sara','<option>กำลังโหลดโปรเจค...</option>','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<span\x20class=\x22font-bold\x20','</span><button\x20data-player-name=\x22','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','manual-bp-grade-level','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ตัวเลือก\x20ง','onkeydown','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','filter','fa-bolt\x20text-blue-500','temp-loader-results','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','เริ่มกิจกรรม:\x20','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','update','.move-parallel-shortcut-dropdown','.lastAnswerCorrect','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','quiz','mousemove','results-quiz-id-display','question-complexity-select','Re-grade\x20process\x20failed:','leaderboard','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจค\x20\x22','bg-green-200\x20text-green-800','บันทึกการตั้งค่าแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','candidates','NUMBER','admin-password-input','อัศวินรัตติกาล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','price','scrollY','ยอดเยี่ยม!','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','นำแบบทดสอบออกจากคลังนี้แล้ว','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','toLowerCase','bg-red-200\x20text-red-800','Error\x20pairing\x20quizzes:','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','highlighter-tool-btn','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','cdot','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','live-short-answer-input','drill-feedback','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','pen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','Error\x20updating\x20project\x20name:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deselect-all-topics-btn','ไอติมทอด','.shortcut-tab-btn','confirm-link-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','numQuestions','/submissions','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.status','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','keyup','isSyncGame','quiz-generation-area','some','อสมการเชิงเส้น','close-presentation-btn','text-red-800','stopPropagation',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','student-progress-content','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','ข้อต่อไป','รักแรกพบ','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','parse','lesson-plan-modal','gameData','มัธยฐาน','ระบบสมการเชิงเส้นสองตัวแปร','correctAnswerIndex','ระยะจากจุดถึงเส้นตรง','overline','next-question-btn','student-quiz-topic','confirm-confident','กฎบวกและกฎคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20manual\x20blueprint\x20project:','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20reference\x20URL:','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ความสัมพันธ์ของมุม','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','checked','start-sync-game-btn','then','show-final-results-btn','[data-field=\x22subTopic\x22]','แก้ระบบสมการด้วยเมทริกซ์','เงาปริศนา','msExitFullscreen','getContext','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count','lineJoin','fiftyFifty','เกิดข้อผิดพลาดในการอัปเดต:\x20','.project-card-container','stringify','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)',';\x22\x20data-tooltip-target=\x22tooltip-','Error\x20updating\x20old\x20quizzes:','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','<div\x20class=\x22my-2\x22>','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','กำลังวิเคราะห์หัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','category','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','request','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','topics','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slide-counter','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','desc','studentName','passcode','bg-green-500','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','isNormalTopic','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-gray-400\x20hover:text-indigo-600','ฟังก์ชันลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดข้อมูลอันดับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','change','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','file-shortcut-id-input','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','N/A','fix-lesson-latex-btn','forceConfident','<button\x20data-shortcut-id=\x22','blueprint-shortcut-container','Error\x20generating\x20parallel\x20test\x20from\x20bank:','cos','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','กำลังจับคู่...','max','print','fas\x20fa-user-edit','top','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','size','<p\x20class=\x22','editor-quiz-topic','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ทศนิยม\x20(ค่าประจำหลัก)','text-content-input','jspdf','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'];_0x126a=function(){return _0x587e95;};return _0x126a();}function switchProjectTab(_0x4887f1){const _0x400836=_0x47050f;[_0x400836(0x5c5),_0x400836(0xb31),_0x400836(0xc97)]['forEach'](_0x58d432=>{const _0x175529=_0x400836;document[_0x175529(0x70b)](_0x58d432+_0x175529(0x7ec))[_0x175529(0x9cc)][_0x175529(0x7a8)]('active'),document[_0x175529(0x70b)](_0x58d432+_0x175529(0x1b2))['classList'][_0x175529(0x505)](_0x175529(0xbce));}),document['getElementById'](_0x4887f1+'-tab')['classList']['add'](_0x400836(0x294)),document[_0x400836(0x70b)](_0x4887f1+_0x400836(0x1b2))[_0x400836(0x9cc)][_0x400836(0x7a8)](_0x400836(0xbce));}function switchQuizDetailTab(_0x5a5634){const _0x11c226=_0x47050f,_0x32bd94={'analytics':{'btn':_0x11c226(0x4aa),'content':_0x11c226(0xb6f)},'scores':{'btn':'scores-tab-btn','content':_0x11c226(0x6f7)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x11c226(0xda6)},'behavior-log':{'btn':_0x11c226(0x3a5),'content':'behavior-log-tab-content'}};for(const _0x25fd13 in _0x32bd94){document['getElementById'](_0x32bd94[_0x25fd13][_0x11c226(0x926)])[_0x11c226(0x9cc)][_0x11c226(0x7a8)](_0x11c226(0x294)),document['getElementById'](_0x32bd94[_0x25fd13][_0x11c226(0xe6d)])[_0x11c226(0x9cc)][_0x11c226(0x505)](_0x11c226(0xbce));}document[_0x11c226(0x70b)](_0x32bd94[_0x5a5634][_0x11c226(0x926)])[_0x11c226(0x9cc)][_0x11c226(0x505)](_0x11c226(0x294)),document[_0x11c226(0x70b)](_0x32bd94[_0x5a5634][_0x11c226(0xe6d)])[_0x11c226(0x9cc)][_0x11c226(0x7a8)](_0x11c226(0xbce));}function showMessage(_0x242b7c,_0x248f01=null){const _0x5e991c=_0x47050f;modalMessage[_0x5e991c(0xb90)]=_0x242b7c[_0x5e991c(0x460)](/\n/g,'<br>'),modalConfirmAction=_0x248f01,messageModal[_0x5e991c(0x9cc)][_0x5e991c(0x7a8)](_0x5e991c(0xbce));}function showConfirmation(_0x5cc27f,_0x2b92f7,_0x22a2cc=null){const _0x1a6a5d=_0x47050f;document[_0x1a6a5d(0x70b)](_0x1a6a5d(0xae4))[_0x1a6a5d(0xc66)]=_0x5cc27f,document[_0x1a6a5d(0x70b)](_0x1a6a5d(0xe7c))['querySelector']('h3')[_0x1a6a5d(0xc66)]='ยืนยันการกระทำ',confirmAction=_0x2b92f7,cancelAction=_0x22a2cc,confirmationModal[_0x1a6a5d(0x9cc)][_0x1a6a5d(0x7a8)]('hidden');}function listenForProjects(){const _0x123e4f=_0x47050f,_0x17fd85=doc(db,'globalSettings',_0x123e4f(0x353));onSnapshot(_0x17fd85,_0x442cf1=>{const _0x36858c=_0x123e4f;if(_0x442cf1[_0x36858c(0x7ed)]()){const _0x29cc2e=_0x442cf1[_0x36858c(0x54c)]();globalDashboardSettings[_0x36858c(0x969)]=_0x29cc2e['projectSort']||_0x36858c(0x5be),globalDashboardSettings[_0x36858c(0xdb6)]=_0x29cc2e[_0x36858c(0xdb6)]||[],globalDashboardSettings[_0x36858c(0xdc6)]=_0x29cc2e['projectOrder']||[];}allProjects[_0x36858c(0xdf3)]>0x0&&renderProjects();});const _0x33d5e4=collection(db,_0x123e4f(0x4cd)+appId+_0x123e4f(0x28e));unsubscribeProjectsListener=onSnapshot(_0x33d5e4,_0x1e2e64=>{const _0x4841e1=_0x123e4f;allProjects=_0x1e2e64[_0x4841e1(0x26e)]['map'](_0x26228f=>({'id':_0x26228f['id'],..._0x26228f['data']()})),renderProjects();},_0x37c174=>{const _0x47bfc2=_0x123e4f;console[_0x47bfc2(0x8c2)](_0x47bfc2(0x19b),_0x37c174),showMessage(_0x47bfc2(0x5f5));});}function showColorPalette(_0x121484,_0x5aaae0){const _0x36aefb=_0x47050f;document[_0x36aefb(0x8fc)]('.color-palette-popup')[_0x36aefb(0xc4c)](_0x521e04=>_0x521e04[_0x36aefb(0x7a8)]());const _0xabee0a=[_0x36aefb(0x667),_0x36aefb(0x669),_0x36aefb(0x964),'#D1FAE5',_0x36aefb(0x186),'#E0E7FF','#F3E8FF',_0x36aefb(0xd4f),_0x36aefb(0x701)],_0x2e0045=document[_0x36aefb(0x656)](_0x36aefb(0x614));_0x2e0045[_0x36aefb(0x980)]=_0x36aefb(0xaaf),_0xabee0a[_0x36aefb(0xc4c)](_0x229df6=>{const _0x290491=_0x36aefb,_0x856733=document[_0x290491(0x656)](_0x290491(0x614));_0x856733['className']=_0x290491(0xa17),_0x856733['style'][_0x290491(0xb4b)]=_0x229df6,_0x856733[_0x290491(0x86d)]('click',()=>{const _0x1cbd3d=_0x290491;handleProjectColorChange(_0x5aaae0,_0x229df6),_0x2e0045[_0x1cbd3d(0x7a8)]();}),_0x2e0045[_0x290491(0xb08)](_0x856733);}),document[_0x36aefb(0xdb8)][_0x36aefb(0xb08)](_0x2e0045);const _0x5145c4=_0x121484[_0x36aefb(0x608)]();_0x2e0045[_0x36aefb(0x8aa)][_0x36aefb(0xd2f)]=_0x5145c4[_0x36aefb(0x715)]+window[_0x36aefb(0xca5)]+'px',_0x2e0045[_0x36aefb(0x8aa)][_0x36aefb(0x933)]=_0x5145c4['left']+window['scrollX']-_0x2e0045['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x28e16f,_0x481b9b){const _0x4ba97f=_0x47050f,_0x956baf=doc(db,'artifacts/'+appId+_0x4ba97f(0x28e),_0x28e16f);try{await updateDoc(_0x956baf,{'color':_0x481b9b});}catch(_0x4345a8){console[_0x4ba97f(0x8c2)](_0x4ba97f(0xc50),_0x4345a8),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0xba10cf=_0x47050f,_0x3b26c8=globalDashboardSettings[_0xba10cf(0x969)]||'date_desc',_0x25dcb5=new Set(globalDashboardSettings[_0xba10cf(0xdb6)]||[]),_0x76d266=globalDashboardSettings[_0xba10cf(0x512)]||'grid',_0x569f5a=document[_0xba10cf(0x70b)](_0xba10cf(0x8d4)),_0x1f41fc=document[_0xba10cf(0x70b)]('list-view-btn');_0x569f5a[_0xba10cf(0x9cc)][_0xba10cf(0x1a3)](_0xba10cf(0x294),_0x76d266===_0xba10cf(0x659)),_0x1f41fc[_0xba10cf(0x9cc)][_0xba10cf(0x1a3)](_0xba10cf(0x294),_0x76d266==='list'),document[_0xba10cf(0x70b)](_0xba10cf(0x870))[_0xba10cf(0xd95)]=_0x3b26c8;const _0x4dc4d4=document[_0xba10cf(0x70b)](_0xba10cf(0xab8))['value'][_0xba10cf(0xcab)]();let _0x1ba0c2=allProjects['filter'](_0x29f0e5=>_0x29f0e5['projectName'][_0xba10cf(0xcab)]()[_0xba10cf(0x7f1)](_0x4dc4d4));const _0x15188a=_0x1ba0c2[_0xba10cf(0xc87)](_0x57d801=>_0x25dcb5[_0xba10cf(0x694)](_0x57d801['id'])),_0x2a9bd1=_0x1ba0c2['filter'](_0x22d93c=>!_0x25dcb5['has'](_0x22d93c['id'])),_0x47de3e=(_0x45503b,_0x28f18f)=>{const _0xf184e5=_0xba10cf;switch(_0x3b26c8){case'name_asc':return _0x45503b['projectName']['localeCompare'](_0x28f18f['projectName'],'th');case _0xf184e5(0x28d):return _0x28f18f['projectName'][_0xf184e5(0xbf4)](_0x45503b[_0xf184e5(0x73e)],'th');case _0xf184e5(0xc6a):return new Date(_0x45503b[_0xf184e5(0x886)])-new Date(_0x28f18f[_0xf184e5(0x886)]);default:return new Date(_0x28f18f[_0xf184e5(0x886)])-new Date(_0x45503b['createdAt']);}};_0x15188a[_0xba10cf(0x846)](_0x47de3e),_0x2a9bd1[_0xba10cf(0x846)](_0x47de3e);const _0x99c58e=[..._0x15188a,..._0x2a9bd1],_0x35b880=globalDashboardSettings['projectOrder']||[];_0x35b880[_0xba10cf(0xdf3)]>0x0&&_0x76d266==='grid'&&_0x99c58e['sort']((_0x150aac,_0x507666)=>{const _0x4ff922=_0xba10cf,_0x44d09d=_0x35b880[_0x4ff922(0x436)](_0x150aac['id']),_0x478104=_0x35b880[_0x4ff922(0x436)](_0x507666['id']);if(_0x44d09d===-0x1)return 0x1;if(_0x478104===-0x1)return-0x1;return _0x44d09d-_0x478104;});const _0x3f412f={};await Promise[_0xba10cf(0xb3f)](_0x99c58e[_0xba10cf(0x3cc)](async _0x16fbfd=>{const _0x2e9379=_0xba10cf,_0xe3ce36=query(collection(db,'artifacts/'+appId+_0x2e9379(0x4fc)),where(_0x2e9379(0x28c),'==',_0x16fbfd['id'])),_0x3faebe=await getDocs(_0xe3ce36);_0x3f412f[_0x16fbfd['id']]=_0x3faebe['size'];}));const _0x550223=document[_0xba10cf(0x70b)](_0xba10cf(0x2e1));let _0x2c4849='';if(_0x76d266===_0xba10cf(0x659)){_0x550223[_0xba10cf(0x980)]=_0xba10cf(0xb88);if(starredQuizzes['length']>0x0&&_0x4dc4d4===''){const _0x4b234f=starredQuizzes[_0xba10cf(0x3cc)](_0x317f23=>{const _0x198591=_0xba10cf,_0xa2f19e=allProjects['find'](_0x25458f=>_0x25458f['id']===_0x317f23['projectId']);return{..._0x317f23,'projectName':_0xa2f19e?_0xa2f19e[_0x198591(0x73e)]:_0x198591(0xd22)};});_0x2c4849+=_0xba10cf(0x2f5)+_0x4b234f[_0xba10cf(0x3cc)](_0x4818e3=>_0xba10cf(0x4b2)+_0x4818e3['topic']+'\x22>'+_0x4818e3[_0xba10cf(0x6d2)]+_0xba10cf(0xe65)+_0x4818e3[_0xba10cf(0x73e)]+_0xba10cf(0xa82)+_0x4818e3['projectName']+_0xba10cf(0x3f5))['join']('')+_0xba10cf(0xa71)+starredQuizzes[_0xba10cf(0xdf3)]+_0xba10cf(0x522);}_0x99c58e[_0xba10cf(0xc4c)](_0x344775=>{const _0xc9fd7d=_0xba10cf,_0x62c95a=_0x3f412f[_0x344775['id']]??0x0,_0x3f38e0=_0x25dcb5[_0xc9fd7d(0x694)](_0x344775['id']),_0x4eb11f=_0x344775[_0xc9fd7d(0x6bf)]||'#FFFFFF',_0x128f60=parseInt(_0x4eb11f[_0xc9fd7d(0x21e)](0x1,0x3),0x10)*0.299+parseInt(_0x4eb11f[_0xc9fd7d(0x21e)](0x3,0x5),0x10)*0.587+parseInt(_0x4eb11f[_0xc9fd7d(0x21e)](0x5,0x7),0x10)*0.114<0xba,_0x16cc69=_0x128f60?'text-white':_0xc9fd7d(0x718),_0x11d045=_0x128f60?'text-gray-200':_0xc9fd7d(0x31f);_0x2c4849+=_0xc9fd7d(0x707)+(_0x3f38e0?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0xc9fd7d(0xc0a)+_0x4eb11f+_0xc9fd7d(0xe0b)+_0x344775['id']+_0xc9fd7d(0xce5)+_0x344775['id']+_0xc9fd7d(0xc72)+(_0x128f60?'text-gray-300\x20hover:text-white':_0xc9fd7d(0xd17))+_0xc9fd7d(0x863)+_0x344775['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x128f60?_0xc9fd7d(0xda3):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x3f38e0?_0x128f60?'text-yellow-300':_0xc9fd7d(0x81d):'')+_0xc9fd7d(0x6ce)+_0x344775['id']+_0xc9fd7d(0x5bb)+_0x16cc69+_0xc9fd7d(0x51a)+_0x344775['projectName']+_0xc9fd7d(0xd44)+_0x11d045+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x344775[_0xc9fd7d(0x886)])[_0xc9fd7d(0x92b)](_0xc9fd7d(0x2f7))+_0xc9fd7d(0xa7b)+(_0x128f60?_0xc9fd7d(0xe8e):_0xc9fd7d(0x5b0))+_0xc9fd7d(0x44c)+_0x62c95a+_0xc9fd7d(0x620)+_0x344775['id']+'\x22\x20data-name=\x22'+_0x344775['projectName']+'\x22\x20class=\x22delete-project-btn\x20'+(_0x128f60?_0xc9fd7d(0x9c1):'text-red-500\x20hover:text-red-700')+_0xc9fd7d(0x5cc);});}else _0x550223[_0xba10cf(0x980)]=_0xba10cf(0x3fb),starredQuizzes['length']>0x0&&_0x4dc4d4===''&&(_0x2c4849+=_0xba10cf(0xd4d)+starredQuizzes[_0xba10cf(0xdf3)]+_0xba10cf(0x4fd)),_0x2c4849+=_0xba10cf(0x8c5),_0x99c58e[_0xba10cf(0xc4c)](_0x6ccfc9=>{const _0x221777=_0xba10cf,_0x477b0e=_0x3f412f[_0x6ccfc9['id']]??0x0,_0xc28e75=_0x25dcb5[_0x221777(0x694)](_0x6ccfc9['id']);_0x2c4849+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x6ccfc9['color']||_0x221777(0x701))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x6ccfc9['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x6ccfc9['projectName']+_0x221777(0x214)+_0x477b0e+_0x221777(0x5e6)+new Date(_0x6ccfc9[_0x221777(0x886)])[_0x221777(0x57a)]('th-TH')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6ccfc9['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0xc28e75?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6ccfc9['id']+_0x221777(0xbb6)+_0x6ccfc9['projectName']+_0x221777(0xb38);});projectList['innerHTML']=_0x2c4849,noProjectsMsg[_0xba10cf(0x9cc)][_0xba10cf(0x1a3)](_0xba10cf(0xbce),_0x2c4849[_0xba10cf(0xdf3)]>0x0);}document[_0x47050f(0x70b)](_0x47050f(0xb11))[_0x47050f(0x86d)](_0x47050f(0x9a8),async()=>{const _0x38b0f9=_0x47050f,_0x5b6117=document[_0x38b0f9(0x70b)](_0x38b0f9(0x49e)),_0x9f957d=_0x5b6117[_0x38b0f9(0xd95)][_0x38b0f9(0x28f)]();if(!_0x9f957d){showMessage(_0x38b0f9(0x93c));return;}try{const _0x333d48=doc(collection(db,_0x38b0f9(0x4cd)+appId+_0x38b0f9(0x28e)));await setDoc(_0x333d48,{'projectName':_0x9f957d,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x38b0f9(0x9b8),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x38b0f9(0x9b8),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x38b0f9(0x9ce)]()}),_0x5b6117['value']='',createProjectModal['classList'][_0x38b0f9(0x505)](_0x38b0f9(0xbce)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x37a978){console[_0x38b0f9(0x8c2)]('Error\x20creating\x20project:',_0x37a978),showMessage(_0x38b0f9(0x3de));}}),projectList[_0x47050f(0x86d)]('click',async _0x41e853=>{const _0x539f22=_0x47050f,_0xf82a51=_0x41e853[_0x539f22(0x1c8)]['closest'](_0x539f22(0x997)),_0x3f243c=_0x41e853[_0x539f22(0x1c8)][_0x539f22(0x252)](_0x539f22(0x904)),_0x2ab817=_0x41e853['target'][_0x539f22(0x252)]('.pin-project-btn'),_0x3f5635=_0x41e853[_0x539f22(0x1c8)][_0x539f22(0x252)]('.color-palette-btn');if(_0x2ab817){const _0x2186a1=_0x2ab817['dataset']['id'],_0x9c52fe=doc(db,_0x539f22(0x792),_0x539f22(0x353)),_0x95e9=globalDashboardSettings['pinnedProjects'];let _0x432560;_0x95e9[_0x539f22(0x7f1)](_0x2186a1)?_0x432560=_0x95e9[_0x539f22(0xc87)](_0x2c87d9=>_0x2c87d9!==_0x2186a1):_0x432560=[..._0x95e9,_0x2186a1];try{await setDoc(_0x9c52fe,{'pinnedProjects':_0x432560},{'merge':!![]});}catch(_0x26e8bd){console[_0x539f22(0x8c2)](_0x539f22(0x598),_0x26e8bd),showMessage(_0x539f22(0x880));}}else{if(_0x3f5635){const _0x280cf7=_0x3f5635['dataset']['id'];showColorPalette(_0x3f5635,_0x280cf7);}else{if(_0xf82a51){const _0x1702be=_0xf82a51[_0x539f22(0x71a)]['id'];_0x1702be===_0x539f22(0x88d)?showStarredProjectView():(currentProjectId=_0x1702be,await loadProjectDetails(currentProjectId),showView(_0x539f22(0x79e)));}else{if(_0x3f243c){const _0x15acc4=_0x3f243c['dataset']['id'],_0x344dfd=_0x3f243c[_0x539f22(0x71a)][_0x539f22(0x312)];showConfirmation(_0x539f22(0xa1b)+_0x344dfd+_0x539f22(0xdd4),()=>handleDeleteProject(_0x15acc4));}}}}}),projectList[_0x47050f(0x86d)](_0x47050f(0x7a5),_0x4ab3d8=>{const _0x1336da=_0x47050f,_0x1ab585=_0x4ab3d8['target'][_0x1336da(0x252)]('.project-card-container');_0x1ab585&&_0x1ab585[_0x1336da(0x9cc)][_0x1336da(0x505)](_0x1336da(0xd69));}),projectList[_0x47050f(0x86d)](_0x47050f(0x37d),_0x262cb2=>{const _0x2f7210=_0x47050f,_0x21974b=_0x262cb2[_0x2f7210(0x1c8)][_0x2f7210(0x252)](_0x2f7210(0xcf9));_0x21974b&&_0x21974b[_0x2f7210(0x9cc)][_0x2f7210(0x7a8)](_0x2f7210(0xd69));}),projectList[_0x47050f(0x86d)](_0x47050f(0x77a),_0x1a6ebc=>{const _0x57472c=_0x47050f;_0x1a6ebc[_0x57472c(0x95b)]();const _0x550f1a=document['querySelector'](_0x57472c(0xb17));if(!_0x550f1a)return;const _0x40f534=getDragAfterElement(projectList,_0x1a6ebc[_0x57472c(0xb9e)]);_0x40f534==null?projectList[_0x57472c(0xb08)](_0x550f1a):projectList[_0x57472c(0x376)](_0x550f1a,_0x40f534);}),projectList[_0x47050f(0x86d)](_0x47050f(0x4d3),_0x3f0a16=>{const _0x9d9264=_0x47050f;_0x3f0a16[_0x9d9264(0x95b)]();const _0x222386=[...projectList[_0x9d9264(0x8fc)]('.project-card-container[data-id]')][_0x9d9264(0x3cc)](_0x51a64e=>_0x51a64e['dataset']['id']);saveProjectOrder(_0x222386);});function renderBehaviorLog(_0x45c05d){const _0x540282=_0x47050f,_0x10f6dc=document[_0x540282(0x70b)](_0x540282(0x297));if(!_0x10f6dc)return;const _0x230d6b=_0x45c05d[_0x540282(0xc87)](_0x1c12cd=>_0x1c12cd['behaviorLog']&&_0x1c12cd[_0x540282(0x1bc)]['length']>0x0);if(_0x230d6b[_0x540282(0xdf3)]===0x0){_0x10f6dc[_0x540282(0xb90)]=_0x540282(0x90f);return;}let _0x1dc92e='';_0x230d6b[_0x540282(0xc4c)](_0x7a1c00=>{const _0x24b0c7=_0x540282;_0x1dc92e+=_0x24b0c7(0x8a8)+_0x7a1c00[_0x24b0c7(0xd11)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x7a1c00[_0x24b0c7(0x1bc)][_0x24b0c7(0x846)]((_0x9456b4,_0x267567)=>new Date(_0x267567[_0x24b0c7(0x41a)])-new Date(_0x9456b4[_0x24b0c7(0x41a)]))['forEach'](_0x1f80cf=>{const _0x38c9f3=_0x24b0c7,_0xb8ed2d=new Date(_0x1f80cf[_0x38c9f3(0x41a)])[_0x38c9f3(0x57a)]('th-TH',{'dateStyle':_0x38c9f3(0x48c),'timeStyle':_0x38c9f3(0x67b)});_0x1dc92e+=_0x38c9f3(0x2bb)+_0x1f80cf[_0x38c9f3(0xa31)]+_0x38c9f3(0x5df)+_0xb8ed2d+_0x38c9f3(0x344);}),_0x1dc92e+=_0x24b0c7(0xd90);}),_0x10f6dc['innerHTML']=_0x1dc92e;}function getDragAfterElement(_0x5ab685,_0x33d1a2){const _0x43af7d=_0x47050f,_0x48d394=[..._0x5ab685[_0x43af7d(0x8fc)](_0x43af7d(0xb80))];return _0x48d394[_0x43af7d(0x3cf)]((_0x11b0b6,_0x572906)=>{const _0x4e0429=_0x43af7d,_0x7d6684=_0x572906[_0x4e0429(0x608)](),_0x381157=_0x33d1a2-_0x7d6684[_0x4e0429(0xd2f)]-_0x7d6684[_0x4e0429(0x3d7)]/0x2;return _0x381157<0x0&&_0x381157>_0x11b0b6['offset']?{'offset':_0x381157,'element':_0x572906}:_0x11b0b6;},{'offset':Number[_0x43af7d(0xaff)]})[_0x43af7d(0xc39)];}async function saveProjectOrder(_0x103643){const _0x51bcbc=_0x47050f,_0x27ceec=doc(db,_0x51bcbc(0x792),_0x51bcbc(0x353));try{await setDoc(_0x27ceec,{'projectOrder':_0x103643},{'merge':!![]});}catch(_0x192e13){console['error'](_0x51bcbc(0x7ab),_0x192e13),showMessage(_0x51bcbc(0x296));}}async function logBehaviorEvent(_0x840497,_0x1133b7={}){const _0x4111ae=_0x47050f;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4111ae(0xd86)](_0x4111ae(0x3f8));return;}const _0x233b0c=doc(db,_0x4111ae(0x4cd)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x4111ae(0xcc1),currentStudentName),_0x32a574={'event':_0x840497,'timestamp':new Date()[_0x4111ae(0x9ce)](),..._0x1133b7};try{await updateDoc(_0x233b0c,{'behaviorLog':arrayUnion(_0x32a574)}),console[_0x4111ae(0x418)](_0x4111ae(0x966)+currentStudentName+_0x4111ae(0xa95));}catch(_0x558d10){_0x558d10[_0x4111ae(0x4df)]===_0x4111ae(0x5fb)?console[_0x4111ae(0xd86)](_0x4111ae(0x919)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x4111ae(0x8c2)](_0x4111ae(0x588),_0x558d10);}}function getScoreTier(_0x483940,_0x295f39){const _0x5e3b3e=_0x47050f;if(_0x295f39===0x0){if(_0x483940===0x0)return{'text':_0x5e3b3e(0x868),'icon':'⏳'};return{'text':_0x5e3b3e(0x281),'icon':'😥'};}const _0x561ad2=_0x483940/(_0x295f39===0x0?0x1:_0x295f39);if(_0x561ad2===0x1)return{'text':_0x5e3b3e(0x732),'icon':'👑'};if(_0x561ad2>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x561ad2>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':_0x5e3b3e(0x281),'icon':'😥'};}function calculateMeanAndStdDev(_0x4eff0f){const _0x26cf9a=_0x47050f;if(_0x4eff0f[_0x26cf9a(0xdf3)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0xa170bd=_0x4eff0f[_0x26cf9a(0x3cf)]((_0x10a655,_0x388634)=>_0x10a655+_0x388634,0x0)/_0x4eff0f[_0x26cf9a(0xdf3)];if(_0x4eff0f['length']===0x1)return{'mean':_0xa170bd,'stdDev':0x0};const _0x1a7f7d=Math[_0x26cf9a(0x4a0)](_0x4eff0f[_0x26cf9a(0x3cc)](_0x5f515d=>Math[_0x26cf9a(0x7e2)](_0x5f515d-_0xa170bd,0x2))[_0x26cf9a(0x3cf)]((_0x20643d,_0x2721f7)=>_0x20643d+_0x2721f7,0x0)/(_0x4eff0f['length']-0x1));return{'mean':_0xa170bd,'stdDev':_0x1a7f7d};}function calculateZScore(_0x212706,_0x19c872,_0x3c7e9c){if(_0x3c7e9c===0x0)return 0x0;return(_0x212706-_0x19c872)/_0x3c7e9c;}function calculateTScore(_0x4905c6){return 0xa*_0x4905c6+0x32;}function showStarredProjectView(){const _0xd4725=_0x47050f;currentProjectId=_0xd4725(0x20b),currentProjectData=null,projectTitle[_0xd4725(0xc66)]=_0xd4725(0x9c9),projectIdDisplay[_0xd4725(0xc66)]=_0xd4725(0x7da),showView(_0xd4725(0x79e)),manageTab[_0xd4725(0x9cc)][_0xd4725(0x505)](_0xd4725(0xbce)),leaderboardTab['classList'][_0xd4725(0x505)](_0xd4725(0xbce)),switchProjectTab(_0xd4725(0xb31)),renderQuizzes();}async function loadProjectDetails(_0xca913a){const _0x21bce8=_0x47050f,_0x309a63=doc(db,_0x21bce8(0x4cd)+appId+'/public/data/projects',_0xca913a),_0x195092=await getDoc(_0x309a63);if(_0x195092[_0x21bce8(0x7ed)]()){manageTab['classList']['remove'](_0x21bce8(0xbce)),leaderboardTab[_0x21bce8(0x9cc)][_0x21bce8(0x7a8)](_0x21bce8(0xbce)),currentProjectData=_0x195092[_0x21bce8(0x54c)](),projectTitle[_0x21bce8(0xc66)]=currentProjectData[_0x21bce8(0x73e)],projectIdDisplay[_0x21bce8(0xc66)]=_0xca913a;const _0x1d0252=currentProjectData['settings']||{};document[_0x21bce8(0x70b)](_0x21bce8(0xa08))['value']=_0x1d0252[_0x21bce8(0x5b5)]||'none';const _0x6a666d=document['getElementById'](_0x21bce8(0x7fb));_0x6a666d[_0x21bce8(0xceb)]=_0x1d0252[_0x21bce8(0x6c5)]!==![];const _0x50c180=document[_0x21bce8(0x70b)](_0x21bce8(0xb3d)),_0x4ea6cb=document[_0x21bce8(0x70b)](_0x21bce8(0x181)),_0x26343e=document[_0x21bce8(0x70b)](_0x21bce8(0x769)),_0x1f9f3e=_0x1d0252[_0x21bce8(0x6bd)]||![];_0x50c180[_0x21bce8(0xceb)]=_0x1f9f3e,_0x26343e[_0x21bce8(0xd95)]=_0x1d0252['passcode']||'',_0x4ea6cb[_0x21bce8(0x9cc)][_0x21bce8(0x1a3)](_0x21bce8(0xbce),!_0x1f9f3e),_0x50c180[_0x21bce8(0x873)]=()=>{const _0x2881b8=_0x21bce8;_0x4ea6cb[_0x2881b8(0x9cc)][_0x2881b8(0x1a3)](_0x2881b8(0xbce),!_0x50c180[_0x2881b8(0xceb)]);},document[_0x21bce8(0x70b)](_0x21bce8(0x7dd))[_0x21bce8(0xceb)]=_0x1d0252[_0x21bce8(0xb00)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0xca913a),listenForProjectQuizzes(_0xca913a),listenForStudentProfiles(_0xca913a);}else showMessage(_0x21bce8(0x275)),showView(_0x21bce8(0x215));}async function handleResetProjectOrder(){const _0x5e317d=_0x47050f,_0x303d7b=doc(db,_0x5e317d(0x792),_0x5e317d(0x353));try{await setDoc(_0x303d7b,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5e317d(0x748));}catch(_0x34b8f5){console[_0x5e317d(0x8c2)](_0x5e317d(0x18c),_0x34b8f5),showMessage(_0x5e317d(0x3f6));}}async function handleTogglePinProject(_0x1779d8){const _0x3c81d3=_0x47050f;if(!_0x1779d8)return;const _0x398132=doc(db,'artifacts/'+appId+_0x3c81d3(0x28e),_0x1779d8);try{const _0xc87104=await getDoc(_0x398132);if(_0xc87104['exists']()){const _0x3e7f03=_0xc87104[_0x3c81d3(0x54c)]()[_0x3c81d3(0x3e9)]||![];await updateDoc(_0x398132,{'isPinned':!_0x3e7f03});}}catch(_0x2f483a){console['error'](_0x3c81d3(0xab0),_0x2f483a),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x1895dd){const _0x5b02ed=_0x47050f;try{const _0x5564bf=writeBatch(db),_0x292a35=collection(db,'artifacts/'+appId+_0x5b02ed(0x4fc)),_0x415fbc=query(_0x292a35,where(_0x5b02ed(0x28c),'==',_0x1895dd)),_0x31e413=await getDocs(_0x415fbc);for(const _0x63347 of _0x31e413[_0x5b02ed(0x26e)]){const _0x40be78=collection(db,_0x5b02ed(0x4cd)+appId+_0x5b02ed(0x832)+_0x63347['id']+_0x5b02ed(0xcc1)),_0x2a513d=await getDocs(_0x40be78);_0x2a513d['forEach'](_0x4a480f=>{const _0x3bcd9e=_0x5b02ed;_0x5564bf['delete'](_0x4a480f[_0x3bcd9e(0x1b6)]);}),_0x5564bf[_0x5b02ed(0x5d9)](_0x63347[_0x5b02ed(0x1b6)]);}const _0x395665=collection(db,'artifacts/'+appId+_0x5b02ed(0x400)+_0x1895dd+_0x5b02ed(0xe5b)),_0x27e3cd=await getDocs(_0x395665);_0x27e3cd['forEach'](_0x2dc65d=>{const _0x41c89b=_0x5b02ed;_0x5564bf['delete'](_0x2dc65d[_0x41c89b(0x1b6)]);});const _0x1a0ffc=doc(db,_0x5b02ed(0x4cd)+appId+'/public/data/projects',_0x1895dd);_0x5564bf[_0x5b02ed(0x5d9)](_0x1a0ffc),await _0x5564bf[_0x5b02ed(0xe4e)](),showMessage(_0x5b02ed(0x277)),showView('admin-dashboard');}catch(_0x429067){console[_0x5b02ed(0x8c2)]('Error\x20deleting\x20project:',_0x429067),showMessage(_0x5b02ed(0xc45));}}document['getElementById']('save-settings-btn')['addEventListener'](_0x47050f(0x9a8),async()=>{const _0x45a825=_0x47050f;if(!currentProjectId)return;const _0x20079d={'defaultNumQuestions':parseInt(document[_0x45a825(0x70b)]('num-questions')[_0x45a825(0xd95)]),'defaultNumChoices':parseInt(document[_0x45a825(0x70b)](_0x45a825(0x70e))[_0x45a825(0xd95)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')['value']),'resultsDisplay':document[_0x45a825(0x70b)](_0x45a825(0x61a))[_0x45a825(0xd95)],'shuffleSetting':document[_0x45a825(0x70b)](_0x45a825(0xa08))[_0x45a825(0xd95)],'timerMode':document[_0x45a825(0x70b)](_0x45a825(0xe76))[_0x45a825(0xd95)],'timerDuration':parseInt(document[_0x45a825(0x70b)](_0x45a825(0x6e1))[_0x45a825(0xd95)]),'isConfidenceScoringEnabled':document[_0x45a825(0x70b)](_0x45a825(0x7dd))['checked'],'confidenceMode':document[_0x45a825(0x70b)]('confidence-mode-select')[_0x45a825(0xd95)]};try{const _0x52031c=doc(db,_0x45a825(0x4cd)+appId+_0x45a825(0x28e),currentProjectId);await updateDoc(_0x52031c,{'settings':_0x20079d}),showMessage(_0x45a825(0xc9c));}catch(_0x82d1e8){console[_0x45a825(0x8c2)]('Error\x20saving\x20settings:',_0x82d1e8),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x59ee27){const _0x3ccd81=_0x47050f,_0xebf266=doc(db,_0x3ccd81(0x4cd)+appId+'/public/data/projects',_0x59ee27);unsubscribeStudentsListener=onSnapshot(_0xebf266,_0x2a8e47=>{const _0x3f90ee=_0x3ccd81;if(_0x2a8e47['exists']()){const _0x55d370=_0x2a8e47[_0x3f90ee(0x54c)]();currentProjectData=_0x55d370,renderStudentList(_0x55d370[_0x3f90ee(0xa70)]||[]);}});}function renderStudentList(_0x529e92){const _0x396b68=_0x47050f,_0x5df7b4=document[_0x396b68(0x70b)](_0x396b68(0x573));_0x529e92['length']===0x0?(studentList[_0x396b68(0xb90)]=_0x396b68(0xdca),_0x5df7b4[_0x396b68(0x9cc)][_0x396b68(0x505)](_0x396b68(0xbce))):(studentList['innerHTML']=_0x529e92[_0x396b68(0x3cc)](_0x561fca=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x561fca+_0x396b68(0x5ac)+_0x561fca+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x396b68(0x909)](''),_0x5df7b4[_0x396b68(0x9cc)][_0x396b68(0x7a8)](_0x396b68(0xbce)));}document[_0x47050f(0x70b)](_0x47050f(0xa48))[_0x47050f(0x86d)](_0x47050f(0x9a8),async()=>{const _0x2c2f53=_0x47050f;if(!currentProjectId)return;const _0x409da5=document['getElementById'](_0x2c2f53(0x500)),_0x382694=_0x409da5['value'][_0x2c2f53(0x28f)]();if(!_0x382694){showMessage(_0x2c2f53(0x41f));return;}const _0x4e690c=_0x382694[_0x2c2f53(0x62a)]('\x0a')[_0x2c2f53(0x3cc)](_0x858577=>_0x858577['trim']())[_0x2c2f53(0xc87)](_0x2db10a=>_0x2db10a);if(_0x4e690c[_0x2c2f53(0xdf3)]===0x0)return;try{const _0x441d43=doc(db,_0x2c2f53(0x4cd)+appId+'/public/data/projects',currentProjectId),_0x5aecde=await getDoc(_0x441d43);if(_0x5aecde[_0x2c2f53(0x7ed)]()){const _0x5e2e84=_0x5aecde[_0x2c2f53(0x54c)]()[_0x2c2f53(0xa70)]||[],_0x1d1e6f=[...new Set([..._0x5e2e84,..._0x4e690c])];await updateDoc(_0x441d43,{'students':_0x1d1e6f}),_0x409da5['value']='';}}catch(_0x3876d3){console['error'](_0x2c2f53(0x81c),_0x3876d3),showMessage(_0x2c2f53(0x498));}});async function handleManualQuizPairing(_0x23b9ee){const _0x5b8b9=_0x47050f,_0x472b70=document[_0x5b8b9(0x70b)](_0x5b8b9(0x6fd)),_0x55bae8=document['getElementById']('move-quiz-project-select'),_0x5742a8=_0x472b70[_0x5b8b9(0xdde)]('h3'),_0x380caa=document[_0x5b8b9(0x70b)]('confirm-move-quiz-btn'),_0x13d79c=document[_0x5b8b9(0x70b)](_0x5b8b9(0x487));_0x5742a8[_0x5b8b9(0xc66)]=_0x5b8b9(0x42b),_0x55bae8[_0x5b8b9(0xb90)]=_0x5b8b9(0xd37),_0x380caa[_0x5b8b9(0xc66)]=_0x5b8b9(0x9b3),_0x472b70['classList'][_0x5b8b9(0x7a8)](_0x5b8b9(0xbce));const _0x322208=allQuizzes['filter'](_0x34d767=>_0x34d767['id']!==_0x23b9ee);_0x322208[_0x5b8b9(0xdf3)]===0x0?(_0x55bae8['innerHTML']=_0x5b8b9(0x6ee),_0x380caa[_0x5b8b9(0x9b6)]=!![]):(_0x55bae8['innerHTML']=_0x5b8b9(0x5c2)+_0x322208[_0x5b8b9(0x3cc)](_0x39cc43=>_0x5b8b9(0x70f)+_0x39cc43['id']+'\x22>'+_0x39cc43[_0x5b8b9(0x6d2)]+_0x5b8b9(0xe8f))[_0x5b8b9(0x909)](''),_0x380caa[_0x5b8b9(0x9b6)]=![]);const _0x5df84b=async()=>{const _0x4fe395=_0x5b8b9,_0x54892a=_0x55bae8[_0x4fe395(0xd95)];if(!_0x54892a){showMessage(_0x4fe395(0xdda));return;}_0x380caa[_0x4fe395(0x9b6)]=!![],_0x380caa[_0x4fe395(0xc66)]=_0x4fe395(0xd2b);try{const _0x2e1827=doc(db,_0x4fe395(0x4cd)+appId+_0x4fe395(0x4fc),_0x23b9ee),_0x27a526=doc(db,'artifacts/'+appId+_0x4fe395(0x4fc),_0x54892a),_0x276d94=writeBatch(db);_0x276d94[_0x4fe395(0xc8e)](_0x2e1827,{'pairedQuizId':_0x54892a}),_0x276d94[_0x4fe395(0xc8e)](_0x27a526,{'pairedQuizId':_0x23b9ee}),await _0x276d94['commit'](),showMessage(_0x4fe395(0x41c)),_0x472b70['classList'][_0x4fe395(0x505)](_0x4fe395(0xbce));}catch(_0x9b26dd){console[_0x4fe395(0x8c2)](_0x4fe395(0xcad),_0x9b26dd),showMessage(_0x4fe395(0x597));}finally{_0x5742a8[_0x4fe395(0xc66)]=_0x4fe395(0x59a),_0x380caa['textContent']=_0x4fe395(0xba7),_0x380caa[_0x4fe395(0x9b6)]=![],_0x380caa[_0x4fe395(0x64c)](_0x4fe395(0x9a8),_0x5df84b),_0x13d79c[_0x4fe395(0x64c)]('click',_0x466d69);}},_0x466d69=()=>{const _0x5daeb4=_0x5b8b9;_0x472b70[_0x5daeb4(0x9cc)][_0x5daeb4(0x505)](_0x5daeb4(0xbce)),_0x5742a8['textContent']=_0x5daeb4(0x59a),_0x380caa[_0x5daeb4(0xc66)]=_0x5daeb4(0xba7),_0x380caa[_0x5daeb4(0x64c)](_0x5daeb4(0x9a8),_0x5df84b),_0x13d79c[_0x5daeb4(0x64c)]('click',_0x466d69);};_0x380caa[_0x5b8b9(0x86d)]('click',_0x5df84b),_0x13d79c[_0x5b8b9(0x86d)](_0x5b8b9(0x9a8),_0x466d69);}function handleDeleteStudent(_0x51c199){const _0x21a375=_0x47050f;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x51c199+_0x21a375(0x63e),async()=>{const _0x54ef08=_0x21a375;if(!currentProjectId||!currentProjectData)return;const _0x718dc=currentProjectData['students'][_0x54ef08(0xc87)](_0x3963bc=>_0x3963bc!==_0x51c199);try{const _0x1fb6bf=doc(db,_0x54ef08(0x4cd)+appId+'/public/data/projects',currentProjectId),_0x49c776=doc(db,_0x54ef08(0x4cd)+appId+_0x54ef08(0x400)+currentProjectId+_0x54ef08(0xe5b),_0x51c199),_0x4d94f6=writeBatch(db);_0x4d94f6['update'](_0x1fb6bf,{'students':_0x718dc}),_0x4d94f6['delete'](_0x49c776),await _0x4d94f6['commit']();}catch(_0x2b7c7f){console[_0x54ef08(0x8c2)](_0x54ef08(0xb4d),_0x2b7c7f),showMessage(_0x54ef08(0x4e0));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x56411a=_0x3d0b;if(!currentProjectId)return;try{const _0xefb7f8=doc(db,_0x56411a(0x4cd)+appId+_0x56411a(0x28e),currentProjectId),_0x9c15f6=collection(db,_0x56411a(0x4cd)+appId+_0x56411a(0x400)+currentProjectId+'/studentProfiles'),_0x4f2f8a=await getDocs(_0x9c15f6),_0x181ee5=writeBatch(db);_0x181ee5[_0x56411a(0xc8e)](_0xefb7f8,{'students':[]}),_0x4f2f8a[_0x56411a(0xc4c)](_0xe19106=>_0x181ee5[_0x56411a(0x5d9)](_0xe19106[_0x56411a(0x1b6)])),await _0x181ee5[_0x56411a(0xe4e)]();}catch(_0x5ebb07){console[_0x56411a(0x8c2)]('Error\x20deleting\x20all\x20students:',_0x5ebb07),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x59bb43){const _0x28b94=_0x47050f,_0x3b7575=document['getElementById']('file-topics-list-container'),_0x48dc94=document[_0x28b94(0x70b)](_0x28b94(0xc61));_0x3b7575[_0x28b94(0x9cc)][_0x28b94(0x7a8)](_0x28b94(0xbce)),_0x48dc94['innerHTML']=_0x28b94(0x45b);try{const _0x3e6615=new FileReader();_0x3e6615[_0x28b94(0xa9e)](_0x59bb43),await new Promise((_0x5e3655,_0x4d7db5)=>{const _0x597078=_0x28b94;_0x3e6615[_0x597078(0xabc)]=()=>{const _0x3c9bcb=_0x597078;fileDataBase64=_0x3e6615[_0x3c9bcb(0xd76)][_0x3c9bcb(0x62a)](',')[0x1],fileMimeType=_0x59bb43['type'],_0x5e3655();},_0x3e6615[_0x597078(0xb79)]=_0x1b94c4=>_0x4d7db5(_0x1b94c4);});if(!fileDataBase64)throw new Error(_0x28b94(0x42d));const _0x3776a7=_0x28b94(0x56b),_0x19b32f={'type':_0x28b94(0xa5d),'properties':{'topics':{'type':_0x28b94(0x755),'items':{'type':_0x28b94(0xd52)}}},'required':[_0x28b94(0xd0c)]},_0x4f3b9d=[{'text':_0x3776a7},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x1f897d=await handleApiCall(_0x4f3b9d,_0x28b94(0xd03),_0x19b32f,null,![]);if(_0x1f897d&&_0x1f897d[_0x28b94(0xd0c)])extractedFileTopics=_0x1f897d['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x638673){console[_0x28b94(0x8c2)](_0x28b94(0x3d6),_0x638673),_0x48dc94[_0x28b94(0xb90)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x638673['message']+'</p>';}}function renderFileTopics(){const _0x7e021d=_0x47050f,_0x4a5af3=document['getElementById'](_0x7e021d(0xc61));if(extractedFileTopics['length']===0x0){_0x4a5af3[_0x7e021d(0xb90)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x4a5af3[_0x7e021d(0xb90)]=extractedFileTopics[_0x7e021d(0x3cc)](_0x144053=>_0x7e021d(0x1c6)+_0x144053+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x144053)+_0x7e021d(0x3ad)+escape(_0x144053)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0x40606d){const _0x5337cb=_0x47050f,_0x22c4e6=parseInt(document[_0x5337cb(0x70b)](_0x5337cb(0x77f))['value'],0xa),_0x49b8fa=document[_0x5337cb(0x70b)](_0x5337cb(0xa2f))[_0x5337cb(0xd95)],_0x35fe94=document[_0x5337cb(0x70b)](_0x5337cb(0x70e))[_0x5337cb(0xd95)],_0x156bb5=document[_0x5337cb(0x70b)]('include-images-checkbox')[_0x5337cb(0xceb)],_0x33307d=_0x156bb5?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x5337cb(0x2b4);let _0x540381='',_0x5b646a;const _0x251070={'type':'OBJECT','properties':{'questionText':{'type':_0x5337cb(0xd52)},'options':{'type':'ARRAY','items':{'type':_0x5337cb(0xd52)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5337cb(0xd52)},'imageCode':{'type':_0x5337cb(0xd52)}},'required':[_0x5337cb(0xc25),_0x5337cb(0x9d8),'correctAnswerIndex',_0x5337cb(0x50f)]},_0x4d03bb={'type':_0x5337cb(0xa5d),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5337cb(0xd52)}},'required':[_0x5337cb(0xc25),_0x5337cb(0x75d),_0x5337cb(0x50f)]},_0x3282c3={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5337cb(0xd52)},'imageCode':{'type':_0x5337cb(0xd52)}},'required':[_0x5337cb(0xc25),_0x5337cb(0xa6c),_0x5337cb(0x50f)]},_0x12d01b={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x5337cb(0x6b7)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x5337cb(0xd52)},'allResponses':{'type':'ARRAY','items':{'type':_0x5337cb(0xd52)}},'explanation':{'type':_0x5337cb(0xd52)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x5337cb(0x93d),_0x5337cb(0xc74),_0x5337cb(0x4b6),_0x5337cb(0x50f)]};switch(_0x49b8fa){case _0x5337cb(0x99e):_0x540381=_0x5337cb(0xa29)+_0x35fe94+_0x5337cb(0xa57),_0x5b646a=_0x251070;break;case _0x5337cb(0x92d):_0x540381=_0x5337cb(0x924),_0x5b646a=_0x4d03bb;break;case _0x5337cb(0x25a):_0x540381=_0x5337cb(0x653),_0x5b646a=_0x3282c3;break;case'matching':_0x540381='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x5b646a=_0x12d01b;break;case _0x5337cb(0x8c1):_0x540381=_0x5337cb(0x943)+_0x35fe94+_0x5337cb(0xa57),_0x5b646a=_0x251070;break;default:_0x540381=_0x5337cb(0xa29)+_0x35fe94+_0x5337cb(0xa57),_0x5b646a=_0x251070;break;}const _0x33e90b=_0x5337cb(0x92c),_0x3f7b78=document[_0x5337cb(0x70b)](_0x5337cb(0xd92)),_0x20bd44=document['getElementById'](_0x5337cb(0xa35)),_0x379cba=document[_0x5337cb(0x70b)]('generated-quiz-container');document[_0x5337cb(0x70b)](_0x5337cb(0xcc8))[_0x5337cb(0x9cc)][_0x5337cb(0x7a8)](_0x5337cb(0xbce)),_0x379cba['innerHTML']='',_0x3f7b78[_0x5337cb(0x9cc)][_0x5337cb(0x7a8)]('hidden'),_0x20bd44[_0x5337cb(0xc66)]=_0x5337cb(0xa6f)+_0x40606d+_0x5337cb(0x2a4)+_0x22c4e6+_0x5337cb(0x809);try{const _0x2974ab=_0x5337cb(0xc80),_0x10f381=_0x5337cb(0x5ba)+_0x40606d+_0x5337cb(0x8e5)+_0x22c4e6+_0x5337cb(0x867)+_0x40606d+_0x5337cb(0xe7b)+_0x22c4e6+_0x5337cb(0xdf4)+_0x33307d+_0x5337cb(0x3f7)+_0x540381+_0x5337cb(0x569)+_0x33e90b+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2974ab+_0x5337cb(0x24b)+simpleMathPrompt+_0x5337cb(0xae8),_0x249ea3={'type':_0x5337cb(0xa5d),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5337cb(0x755),'items':_0x5b646a}},'required':[_0x5337cb(0x6d2),_0x5337cb(0xbd5)]},_0x40c2de=[{'text':_0x10f381},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x40c2de,_0x5337cb(0x6a8)+_0x40606d+'\x22...',_0x249ea3);}catch(_0x45495a){console[_0x5337cb(0x8c2)](_0x5337cb(0xb47),_0x45495a),showMessage(_0x5337cb(0x2fd)+_0x45495a[_0x5337cb(0xac4)]),_0x379cba['innerHTML']=_0x5337cb(0xb4a);}finally{_0x3f7b78[_0x5337cb(0x9cc)][_0x5337cb(0x505)](_0x5337cb(0xbce));}}async function handleGenerateFromFileClick(){const _0x26b3ea=_0x47050f;if(!selectedFile){showMessage(_0x26b3ea(0x8e2));return;}const _0x599da0=document['getElementById'](_0x26b3ea(0xd92)),_0x299216=document[_0x26b3ea(0x70b)](_0x26b3ea(0xa35)),_0x10a274=document['getElementById'](_0x26b3ea(0xd53)),_0x552f81=document[_0x26b3ea(0x70b)](_0x26b3ea(0x75b));_0x552f81[_0x26b3ea(0x9b6)]=!![],document[_0x26b3ea(0x70b)]('quiz-generation-area')[_0x26b3ea(0x9cc)]['remove']('hidden'),_0x10a274['innerHTML']='',_0x599da0['classList'][_0x26b3ea(0x7a8)](_0x26b3ea(0xbce)),_0x299216[_0x26b3ea(0xc66)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x285b38=await new Promise((_0x220d89,_0x5a65d3)=>{const _0xf4a918=_0x26b3ea,_0x479746=new FileReader();_0x479746[_0xf4a918(0xa9e)](selectedFile),_0x479746['onload']=()=>_0x220d89(_0x479746[_0xf4a918(0xd76)][_0xf4a918(0x62a)](',')[0x1]),_0x479746[_0xf4a918(0xb79)]=_0x47b31c=>_0x5a65d3(_0x47b31c);});await generateQuizFromFile(selectedFile[_0x26b3ea(0x8a9)],_0x285b38);}catch(_0x3f8ac2){console[_0x26b3ea(0x8c2)](_0x26b3ea(0x314),_0x3f8ac2),showMessage(_0x26b3ea(0x33f)+_0x3f8ac2[_0x26b3ea(0xac4)]),_0x599da0[_0x26b3ea(0x9cc)][_0x26b3ea(0x505)](_0x26b3ea(0xbce)),_0x552f81[_0x26b3ea(0x9b6)]=![];}}function autoFormatMath(_0x3d111c){const _0x52318c=_0x47050f;if(typeof _0x3d111c!==_0x52318c(0xc7a)||!_0x3d111c)return _0x3d111c;const _0x43c2eb=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x322a8e=_0x3d111c[_0x52318c(0x460)](_0x43c2eb,_0x509537=>{const _0x332c6e=_0x52318c;return'$'+_0x509537[_0x332c6e(0x28f)]()+'$';});return _0x322a8e;}function sanitizeQuizData(_0x1aa174){const _0x12dd0c=_0x47050f;if(!_0x1aa174||!_0x1aa174['questions'])return _0x1aa174;const _0x30c410={'imes':'\x5ctimes','div':_0x12dd0c(0x721)},_0x3a3a28=_0x420ca2=>{const _0x8e2c9a=_0x12dd0c;if(typeof _0x420ca2!=='string')return _0x420ca2;let _0xb9c402=_0x420ca2;for(const [_0x412a0d,_0x3e2d13]of Object[_0x8e2c9a(0xde2)](_0x30c410)){const _0x15f2cd=new RegExp('\x5cb'+_0x412a0d+'\x5cb','g');_0xb9c402=_0xb9c402[_0x8e2c9a(0x460)](_0x15f2cd,_0x3e2d13);}return _0xb9c402=_0xb9c402[_0x8e2c9a(0x460)](/\\\//g,_0x8e2c9a(0x721)),_0xb9c402=_0xb9c402[_0x8e2c9a(0x460)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x8e2c9a(0x721))[_0x8e2c9a(0x460)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x8e2c9a(0x236))['replace'](/÷/g,_0x8e2c9a(0x721))['replace'](/×/g,'\x5ctimes'),_0xb9c402=_0xb9c402[_0x8e2c9a(0x460)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0xb9c402=autoFormatMath(_0xb9c402),_0xb9c402;};return _0x1aa174[_0x12dd0c(0x6d2)]&&(_0x1aa174['topic']=_0x3a3a28(_0x1aa174[_0x12dd0c(0x6d2)])),_0x1aa174[_0x12dd0c(0xbd5)][_0x12dd0c(0xc4c)](_0x141fd1=>{const _0x366a65=_0x12dd0c;_0x141fd1[_0x366a65(0xc25)]=_0x3a3a28(_0x141fd1[_0x366a65(0xc25)]),_0x141fd1[_0x366a65(0x9d8)]&&(_0x141fd1['options']=_0x141fd1[_0x366a65(0x9d8)][_0x366a65(0x3cc)](_0x3a3a28)),_0x141fd1['explanation']&&(_0x141fd1[_0x366a65(0x50f)]=_0x3a3a28(_0x141fd1[_0x366a65(0x50f)])),_0x141fd1[_0x366a65(0x93d)]&&(_0x141fd1[_0x366a65(0x93d)]=_0x3a3a28(_0x141fd1['stem'])),_0x141fd1[_0x366a65(0xc74)]&&(_0x141fd1[_0x366a65(0xc74)]=_0x3a3a28(_0x141fd1['correctResponse'])),_0x141fd1[_0x366a65(0x4b6)]&&(_0x141fd1['allResponses']=_0x141fd1['allResponses'][_0x366a65(0x3cc)](_0x3a3a28));}),_0x1aa174;}const simpleMathPrompt=_0x47050f(0x3e3);async function handleGenerateFromLink(){const _0x5b6394=_0x47050f,_0x333b49=document[_0x5b6394(0x70b)](_0x5b6394(0x273)),_0x1b20e4=document[_0x5b6394(0x70b)](_0x5b6394(0xa9b)),_0x264202=_0x333b49[_0x5b6394(0xd95)]['trim'](),_0x2e96ea=_0x1b20e4[_0x5b6394(0xd95)][_0x5b6394(0x28f)]();if(!_0x264202){showMessage(_0x5b6394(0x9c2));return;}const _0x46c6e9=document['getElementById'](_0x5b6394(0xd92)),_0xe579a=document[_0x5b6394(0x70b)](_0x5b6394(0xa35)),_0xc62513=document[_0x5b6394(0x70b)]('generated-quiz-container'),_0xe0b92a=document['getElementById']('generate-from-link-btn');document[_0x5b6394(0x70b)](_0x5b6394(0xcc8))[_0x5b6394(0x9cc)][_0x5b6394(0x7a8)](_0x5b6394(0xbce)),_0xc62513['innerHTML']='',_0x46c6e9[_0x5b6394(0x9cc)][_0x5b6394(0x7a8)](_0x5b6394(0xbce)),_0xe579a[_0x5b6394(0xc66)]=_0x5b6394(0xd87),_0xe0b92a[_0x5b6394(0x9b6)]=!![];try{const _0x25cfd2=_0x5b6394(0xe19)+encodeURIComponent(_0x264202),_0x584ba8=await fetch(_0x25cfd2);if(!_0x584ba8['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x584ba8[_0x5b6394(0xbd3)]+')');const _0x5470a2=await _0x584ba8['text'](),_0x1a33e6=extractTextFromHtml(_0x5470a2);if(!_0x1a33e6||_0x1a33e6[_0x5b6394(0xdf3)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x2e96ea,_0x1a33e6);}catch(_0xe81741){console['error']('Error\x20generating\x20from\x20link:',_0xe81741),showMessage('เกิดข้อผิดพลาด:\x20'+_0xe81741[_0x5b6394(0xac4)]),_0xc62513['innerHTML']=_0x5b6394(0xaee);}finally{_0x46c6e9[_0x5b6394(0x9cc)][_0x5b6394(0x505)](_0x5b6394(0xbce)),_0xe0b92a[_0x5b6394(0x9b6)]=![];}}function extractTextFromHtml(_0x5261db){const _0x12d22a=_0x47050f,_0x2f0a18=new DOMParser()[_0x12d22a(0xe22)](_0x5261db,_0x12d22a(0x890));return _0x2f0a18[_0x12d22a(0x8fc)](_0x12d22a(0x55d))[_0x12d22a(0xc4c)](_0x23c093=>_0x23c093[_0x12d22a(0x7a8)]()),_0x2f0a18[_0x12d22a(0xdb8)][_0x12d22a(0xc66)]||'';}document[_0x47050f(0x70b)](_0x47050f(0x930))[_0x47050f(0x86d)]('click',()=>{const _0x8b92d6=_0x47050f,_0x47a589=document['getElementById'](_0x8b92d6(0xde5))[_0x8b92d6(0xd95)]['trim']();generateQuiz(_0x47a589,null);}),document['getElementById'](_0x47050f(0x8a1))['addEventListener'](_0x47050f(0x9a8),()=>{const _0x5016fb=_0x47050f,_0x44f894=document[_0x5016fb(0x70b)](_0x5016fb(0xd39))[_0x5016fb(0xd95)][_0x5016fb(0x28f)]();if(!_0x44f894){showMessage(_0x5016fb(0x9fc));return;}const _0xd4824=document['getElementById'](_0x5016fb(0xde5))['value'][_0x5016fb(0x28f)]();generateQuiz(_0xd4824,_0x44f894);});async function generateQuiz(_0x23e186,_0x2903e8,_0x31c4dc=null,_0x355854=null,_0xd7b943=![],_0x5f0510=null,_0x32bf93=null,_0x2ab972=![]){const _0x267c1b=_0x47050f;let _0x2bf0be={};if(_0xd7b943&&blueprintPageSettings)_0x2bf0be=blueprintPageSettings;else{const _0x50ee5b=document[_0x267c1b(0x8fc)](_0x267c1b(0xb7a));_0x2bf0be={'quizType':document[_0x267c1b(0x70b)](_0x267c1b(0xa2f))[_0x267c1b(0xd95)],'numQuestions':document[_0x267c1b(0x70b)]('num-questions')['value'],'numChoices':document[_0x267c1b(0x70b)](_0x267c1b(0x70e))[_0x267c1b(0xd95)],'includeImages':document[_0x267c1b(0x70b)](_0x267c1b(0x3f2))[_0x267c1b(0xceb)],'isNormalTopic':document['getElementById']('force-math-checkbox')[_0x267c1b(0xceb)],'difficultyValue':document['getElementById'](_0x267c1b(0x5b3))[_0x267c1b(0xd95)],'complexityValue':document[_0x267c1b(0x70b)](_0x267c1b(0xc95))['value'],'selectedTopicNames':Array[_0x267c1b(0x2d0)](_0x50ee5b)['map'](_0x33b407=>_0x33b407[_0x267c1b(0xd95)])};}const _0x304198=_0x2bf0be[_0x267c1b(0xd15)]?'':_0x267c1b(0xbc6),_0x103313=_0x2bf0be[_0x267c1b(0x48f)]!=='auto'?_0x267c1b(0x8e0)+_0x2bf0be[_0x267c1b(0x48f)]+'\x22':'',_0x1d4806=_0x2bf0be['complexityValue']!==_0x267c1b(0xb58)?_0x267c1b(0x269)+_0x2bf0be[_0x267c1b(0xba0)]+_0x267c1b(0x567):'';let _0x85adac='';_0x2bf0be['selectedTopicNames']&&_0x2bf0be[_0x267c1b(0x26d)][_0x267c1b(0xdf3)]>0x0&&(_0x85adac='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x2bf0be['selectedTopicNames']['join'](',\x20')+'.');let _0x447cd3='';_0x355854&&(_0x447cd3=_0x267c1b(0xd19));let _0x416232='',_0x136e8c='',_0x317fc3,_0x57ef3d=_0x267c1b(0x80e)+_0x23e186+'\x22';if(!_0x23e186&&_0x2903e8)_0x57ef3d=_0x267c1b(0x817);else!_0x23e186&&!_0x2903e8&&(_0x57ef3d=_0x267c1b(0x345));const _0x4b58b4={'type':_0x267c1b(0xa5d),'properties':{'questionText':{'type':_0x267c1b(0xd52)},'options':{'type':_0x267c1b(0x755),'items':{'type':_0x267c1b(0xd52)}},'correctAnswerIndex':{'type':_0x267c1b(0xca0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x267c1b(0xd52)}},'required':[_0x267c1b(0xc25),'options','correctAnswerIndex','explanation']},_0x52782b={'type':_0x267c1b(0xa5d),'properties':{'questionText':{'type':_0x267c1b(0xd52)},'idealAnswer':{'type':_0x267c1b(0xd52)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x267c1b(0xc25),_0x267c1b(0xa6c),_0x267c1b(0x50f)]},_0x298332={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x267c1b(0xd52),'enum':[_0x267c1b(0x99e),_0x267c1b(0x76f)]},'options':{'type':_0x267c1b(0x755),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x267c1b(0xca0)},'idealAnswer':{'type':_0x267c1b(0xd52)},'explanation':{'type':_0x267c1b(0xd52)},'imageCode':{'type':'STRING'}},'required':[_0x267c1b(0xc25),_0x267c1b(0xa39),_0x267c1b(0x50f)]},_0x1ccea4={'type':'OBJECT','properties':{'questionText':{'type':_0x267c1b(0xd52)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x267c1b(0xd52)},'imageCode':{'type':'STRING'}},'required':[_0x267c1b(0xc25),_0x267c1b(0x75d),'explanation']},_0x2e93af={'type':'OBJECT','properties':{'questionType':{'type':_0x267c1b(0xd52),'enum':[_0x267c1b(0x6b7)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x267c1b(0x755),'items':{'type':'STRING'}},'explanation':{'type':_0x267c1b(0xd52)},'imageCode':{'type':'STRING'}},'required':[_0x267c1b(0xa39),_0x267c1b(0x93d),'correctResponse',_0x267c1b(0x4b6),_0x267c1b(0x50f)]};let _0x1eb462;if(_0x31c4dc!==null){const _0x2ebbe9=currentQuizData[_0x267c1b(0xbd5)][_0x31c4dc][_0x267c1b(0xa39)],_0x25d4f4=_0x2bf0be[_0x267c1b(0x2c9)]?_0x267c1b(0x722):'';_0x416232='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x57ef3d+'\x20'+_0x85adac+'\x20'+_0x103313+_0x267c1b(0x836)+_0x25d4f4+'\x20'+simpleMathPrompt;if(_0x2ebbe9===_0x267c1b(0x99e))_0x317fc3=_0x4b58b4;else{if(_0x2ebbe9==='matching_item')_0x317fc3={'type':_0x267c1b(0xa5d),'properties':{'questionType':{'type':_0x267c1b(0xd52),'enum':[_0x267c1b(0x6b7)]},'stem':{'type':_0x267c1b(0xd52)},'correctResponse':{'type':_0x267c1b(0xd52)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x267c1b(0xd52)}},'required':[_0x267c1b(0xa39),_0x267c1b(0x93d),_0x267c1b(0xc74),_0x267c1b(0x50f)]};else _0x317fc3=_0x52782b;}_0x1eb462=_0x317fc3;}else{const _0x35f105=_0x2bf0be[_0x267c1b(0x2c9)]?_0x267c1b(0x780):'';switch(_0x2bf0be[_0x267c1b(0x190)]){case'multiple_choice':_0x416232=_0x267c1b(0x60a)+_0x304198+'\x20'+_0x2bf0be['numQuestions']+_0x267c1b(0x71b)+_0x57ef3d+'\x20'+_0x85adac+'\x20'+_0x103313+'\x20'+_0x1d4806+'\x20'+_0x447cd3+_0x267c1b(0x5a5)+_0x2bf0be[_0x267c1b(0xa46)]+_0x267c1b(0xc0c)+_0x35f105+'\x20'+simpleMathPrompt,_0x317fc3=_0x4b58b4;break;case'fill_in_with_choices':_0x416232=_0x267c1b(0xc06)+_0x304198+'\x20'+_0x2bf0be[_0x267c1b(0xcc0)]+_0x267c1b(0x71b)+_0x57ef3d+'\x20'+_0x85adac+'\x20'+_0x103313+'\x20'+_0x1d4806+'\x20'+_0x447cd3+_0x267c1b(0x481)+_0x2bf0be[_0x267c1b(0xa46)]+_0x267c1b(0xdf6)+_0x35f105+'\x20'+simpleMathPrompt,_0x317fc3=_0x4b58b4;break;case _0x267c1b(0x25a):_0x416232='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x304198+'\x20'+_0x2bf0be[_0x267c1b(0xcc0)]+'\x20ข้อ\x20'+_0x57ef3d+'\x20'+_0x85adac+'\x20'+_0x103313+'\x20'+_0x1d4806+'\x20'+_0x447cd3+_0x267c1b(0x414)+_0x35f105+'\x20'+simpleMathPrompt,_0x317fc3=_0x52782b;break;case _0x267c1b(0xb58):_0x416232=_0x267c1b(0x449)+_0x304198+'\x20'+_0x2bf0be[_0x267c1b(0xcc0)]+_0x267c1b(0x71b)+_0x57ef3d+'\x20'+_0x85adac+'\x20'+_0x103313+'\x20'+_0x1d4806+'\x20'+_0x447cd3+_0x267c1b(0x7d5)+_0x2bf0be[_0x267c1b(0xa46)]+'\x20ตัวเลือก.\x20'+_0x35f105+'\x20'+simpleMathPrompt+'.',_0x317fc3=_0x298332;break;case'true_false':_0x416232='สร้างคำถามแบบใช่/ไม่ใช่'+_0x304198+'\x20'+_0x2bf0be[_0x267c1b(0xcc0)]+_0x267c1b(0x71b)+_0x57ef3d+'\x20'+_0x85adac+'\x20'+_0x103313+'\x20'+_0x1d4806+'\x20'+_0x447cd3+_0x267c1b(0xd64)+_0x35f105+'\x20'+simpleMathPrompt,_0x317fc3=_0x1ccea4;break;case _0x267c1b(0x6e0):_0x416232='สร้างชุดคำถามจับคู่'+_0x304198+'\x20'+_0x2bf0be[_0x267c1b(0xcc0)]+_0x267c1b(0x404)+_0x57ef3d+'\x20'+_0x85adac+'\x20'+_0x103313+'\x20'+_0x1d4806+'\x20'+_0x447cd3+_0x267c1b(0x8a0)+_0x35f105+'\x20'+simpleMathPrompt,_0x317fc3=_0x2e93af;break;}_0x1eb462={'type':_0x267c1b(0xa5d),'properties':{'topic':{'type':_0x267c1b(0xd52)},'questions':{'type':_0x267c1b(0x755),'items':_0x317fc3}},'required':['topic','questions']};}const _0x14c85d='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x2903e8?(_0x2ab972?_0x416232=_0x267c1b(0x45c)+_0x2903e8+_0x267c1b(0x651)+_0x416232+_0x14c85d:_0x416232='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x2903e8+_0x267c1b(0x651)+_0x416232,_0x136e8c='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x2ab972&&(_0x416232+=_0x14c85d),_0x136e8c='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x42dfc5;return _0x355854?(_0x42dfc5=[{'text':_0x416232},..._0x355854],_0x136e8c=_0x267c1b(0x378)):_0x42dfc5=_0x416232,handleApiCall(_0x42dfc5,_0x136e8c,_0x1eb462,_0x31c4dc,!![],_0x5f0510,_0x32bf93);}async function generateQuizFromFile(_0x564f66,_0x313ff3){const _0x3a450d=_0x47050f,_0x221809=document['getElementById'](_0x3a450d(0x593))[_0x3a450d(0xd95)][_0x3a450d(0x28f)](),_0x36d7b6=document[_0x3a450d(0x70b)](_0x3a450d(0xa2f))[_0x3a450d(0xd95)],_0x41b8c6=document[_0x3a450d(0x70b)](_0x3a450d(0x77f))['value'],_0x16ae00=document[_0x3a450d(0x70b)](_0x3a450d(0x70e))[_0x3a450d(0xd95)],_0x67e073=document[_0x3a450d(0x70b)](_0x3a450d(0x3f2))[_0x3a450d(0xceb)],_0x42c6f6=document[_0x3a450d(0x70b)]('force-math-checkbox')[_0x3a450d(0xceb)],_0x2f8de7=_0x42c6f6?'':_0x3a450d(0xbc6),_0x25972b=document[_0x3a450d(0x70b)](_0x3a450d(0xdbd))['checked'];let _0x5d99e='',_0x364c1d;const _0xa080b=_0x67e073?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x25972b)_0x5d99e='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0xa080b+'\x0a'+simpleMathPrompt+'\x0a',_0x364c1d={'type':_0x3a450d(0xa5d),'properties':{'questionText':{'type':_0x3a450d(0xd52)},'questionType':{'type':_0x3a450d(0xd52),'enum':[_0x3a450d(0x99e),_0x3a450d(0x76f),_0x3a450d(0x92d),_0x3a450d(0x6b7)]},'options':{'type':_0x3a450d(0x755),'items':{'type':_0x3a450d(0xd52)}},'correctAnswerIndex':{'type':_0x3a450d(0xca0)},'idealAnswer':{'type':_0x3a450d(0xd52)},'correctAnswer':{'type':_0x3a450d(0x4a1)},'stem':{'type':_0x3a450d(0xd52)},'correctResponse':{'type':_0x3a450d(0xd52)},'allResponses':{'type':_0x3a450d(0x755),'items':{'type':_0x3a450d(0xd52)}},'explanation':{'type':_0x3a450d(0xd52)},'imageCode':{'type':_0x3a450d(0xd52)}},'required':[_0x3a450d(0xa39),_0x3a450d(0x50f)]};else{let _0x28820f=_0x3a450d(0x80e)+_0x221809+'\x22';!_0x221809&&(_0x28820f='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x36d7b6){case _0x3a450d(0x99e):_0x5d99e='สร้างแบบทดสอบปรนัย'+_0x2f8de7+'\x20'+_0x41b8c6+_0x3a450d(0x71b)+_0x28820f+_0x3a450d(0x5a5)+_0x16ae00+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xa080b+'\x20'+simpleMathPrompt,_0x364c1d={'type':_0x3a450d(0xa5d),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3a450d(0x755),'items':{'type':_0x3a450d(0xd52)}},'correctAnswerIndex':{'type':_0x3a450d(0xca0)},'explanation':{'type':_0x3a450d(0xd52)},'imageCode':{'type':_0x3a450d(0xd52)}},'required':[_0x3a450d(0xc25),'options',_0x3a450d(0xcd9),'explanation']};break;case'fill_in_with_choices':_0x5d99e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2f8de7+'\x20'+_0x41b8c6+_0x3a450d(0x71b)+_0x28820f+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x16ae00+_0x3a450d(0xdf6)+_0xa080b+'\x20'+simpleMathPrompt,_0x364c1d={'type':_0x3a450d(0xa5d),'properties':{'questionText':{'type':_0x3a450d(0xd52)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3a450d(0xd52)},'imageCode':{'type':_0x3a450d(0xd52)}},'required':[_0x3a450d(0xc25),_0x3a450d(0x9d8),_0x3a450d(0xcd9),_0x3a450d(0x50f)]};break;case'fill_in_no_choices':_0x5d99e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2f8de7+'\x20'+_0x41b8c6+'\x20ข้อ\x20'+_0x28820f+_0x3a450d(0x7f3)+_0xa080b+'\x20'+simpleMathPrompt,_0x364c1d={'type':'OBJECT','properties':{'questionText':{'type':_0x3a450d(0xd52)},'idealAnswer':{'type':_0x3a450d(0xd52)},'explanation':{'type':_0x3a450d(0xd52)},'imageCode':{'type':_0x3a450d(0xd52)}},'required':[_0x3a450d(0xc25),'idealAnswer',_0x3a450d(0x50f)]};break;case'mixed':_0x5d99e=_0x3a450d(0x449)+_0x2f8de7+'\x20'+_0x41b8c6+_0x3a450d(0x71b)+_0x28820f+_0x3a450d(0x893)+_0x16ae00+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0xa080b+'\x20'+simpleMathPrompt+_0x3a450d(0x9e4),_0x364c1d={'type':_0x3a450d(0xa5d),'properties':{'questionText':{'type':_0x3a450d(0xd52)},'questionType':{'type':_0x3a450d(0xd52),'enum':[_0x3a450d(0x99e),_0x3a450d(0x76f)]},'options':{'type':_0x3a450d(0x755),'items':{'type':_0x3a450d(0xd52)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3a450d(0xd52)},'imageCode':{'type':'STRING'}},'required':[_0x3a450d(0xc25),_0x3a450d(0xa39),_0x3a450d(0x50f)]};break;case _0x3a450d(0x92d):_0x5d99e='สร้างคำถามแบบใช่/ไม่ใช่'+_0x2f8de7+'\x20'+_0x41b8c6+_0x3a450d(0x71b)+_0x28820f+_0x3a450d(0xc8d)+_0xa080b+'\x20'+simpleMathPrompt,_0x364c1d={'type':_0x3a450d(0xa5d),'properties':{'questionText':{'type':_0x3a450d(0xd52)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x3a450d(0xd52)},'imageCode':{'type':_0x3a450d(0xd52)}},'required':['questionText',_0x3a450d(0x75d),_0x3a450d(0x50f)]};break;case _0x3a450d(0x6e0):_0x5d99e=_0x3a450d(0x3d8)+_0x2f8de7+'\x20'+_0x41b8c6+_0x3a450d(0x404)+_0x28820f+_0x3a450d(0x24e)+_0x41b8c6+_0x3a450d(0xc2f)+_0xa080b+'\x20'+simpleMathPrompt,_0x364c1d={'type':_0x3a450d(0xa5d),'properties':{'questionType':{'type':'STRING','enum':[_0x3a450d(0x6b7)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3a450d(0xd52)},'allResponses':{'type':_0x3a450d(0x755),'items':{'type':_0x3a450d(0xd52)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3a450d(0xd52)}},'required':[_0x3a450d(0xa39),_0x3a450d(0x93d),_0x3a450d(0xc74),_0x3a450d(0x4b6),'explanation']};break;}}const _0x29f664={'type':_0x3a450d(0xa5d),'properties':{'topic':{'type':_0x3a450d(0xd52)},'questions':{'type':_0x3a450d(0x755),'items':_0x364c1d}},'required':[_0x3a450d(0x6d2),'questions']},_0x3cc4eb=_0x3a450d(0x999)+_0x5d99e,_0x52d3b0={'contents':[{'parts':[{'text':_0x3cc4eb},{'inlineData':{'mimeType':_0x564f66,'data':_0x313ff3}}]}],'generationConfig':{'responseMimeType':_0x3a450d(0x963),'responseSchema':_0x29f664}};return handleApiCall(_0x52d3b0[_0x3a450d(0x319)][0x0][_0x3a450d(0xe83)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x29f664);}async function handleApiCall(_0x185761,_0x474bb3,_0x44945c,_0x551eac=null,_0x450d69=!![],_0x598bee=null,_0x29430f=null){const _0x1916a1=_0x47050f,_0x58429d=document[_0x1916a1(0x70b)](_0x1916a1(0xcc8)),_0x208c6f=document['getElementById'](_0x1916a1(0xd92)),_0x3c3f5b=document['getElementById']('loader-text'),_0x220f24=document[_0x1916a1(0x70b)](_0x1916a1(0xd53));_0x58429d[_0x1916a1(0x9cc)][_0x1916a1(0x7a8)]('hidden');_0x551eac===null&&_0x450d69&&(_0x220f24['innerHTML']='');_0x208c6f[_0x1916a1(0x9cc)]['remove'](_0x1916a1(0xbce)),_0x3c3f5b['textContent']=_0x474bb3,document[_0x1916a1(0x70b)](_0x1916a1(0x930))['disabled']=!![],document[_0x1916a1(0x70b)](_0x1916a1(0x8a1))[_0x1916a1(0x9b6)]=!![],document[_0x1916a1(0x70b)](_0x1916a1(0x3a0))[_0x1916a1(0x9b6)]=!![];const _0x378d22=document[_0x1916a1(0x70b)](_0x1916a1(0x75b));if(_0x378d22)_0x378d22['disabled']=!![];const _0x152f71=document[_0x1916a1(0x70b)](_0x1916a1(0x44b));if(_0x152f71)_0x152f71[_0x1916a1(0x9b6)]=!![];const _0x12a200=document[_0x1916a1(0x70b)](_0x1916a1(0x99d));if(_0x12a200)_0x12a200[_0x1916a1(0x9b6)]=!![];try{const _0x474552=Array[_0x1916a1(0x8d2)](_0x185761)?_0x185761:[{'text':_0x185761}],_0x2fba8e={'contents':[{'role':_0x1916a1(0x65b),'parts':_0x474552}]};_0x44945c&&(_0x2fba8e[_0x1916a1(0x5f1)]={'responseMimeType':_0x1916a1(0x963),'responseSchema':_0x44945c});const _0x57ad5e='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x2be11a=_0x1916a1(0xc29)+_0x57ad5e,_0x1bafe5=await fetch(_0x2be11a,{'method':_0x1916a1(0xe93),'headers':{'Content-Type':_0x1916a1(0x963)},'body':JSON[_0x1916a1(0xcfa)](_0x2fba8e)});if(!_0x1bafe5['ok']){const _0x1c259f=await _0x1bafe5[_0x1916a1(0x7fd)]();console[_0x1916a1(0x8c2)]('API\x20Error\x20Response:',_0x1c259f);throw new Error(_0x1916a1(0xab5)+_0x1bafe5[_0x1916a1(0xbd3)]);}const _0x188c8b=await _0x1bafe5[_0x1916a1(0xa0b)]();if(!_0x188c8b[_0x1916a1(0xc9f)]||_0x188c8b[_0x1916a1(0xc9f)]['length']===0x0){let _0x56d8b1=_0x1916a1(0x1be);return _0x188c8b[_0x1916a1(0xae0)]?.['blockReason']&&(_0x56d8b1=_0x1916a1(0x53f)+_0x188c8b[_0x1916a1(0xae0)]['blockReason']+'.'),console[_0x1916a1(0x8c2)](_0x56d8b1,JSON[_0x1916a1(0xcfa)](_0x188c8b)),null;}const _0x4f7dac=_0x188c8b[_0x1916a1(0xc9f)][0x0][_0x1916a1(0xe6d)][_0x1916a1(0xe83)][0x0]['text'];if(_0x44945c){let _0x5d7c04=_0x4f7dac;if(_0x5d7c04[_0x1916a1(0xdac)](_0x1916a1(0x50d)))_0x5d7c04=_0x5d7c04[_0x1916a1(0x21e)](0x7,_0x5d7c04[_0x1916a1(0xdf3)]-0x3)[_0x1916a1(0x28f)]();else _0x5d7c04[_0x1916a1(0xdac)]('```')&&(_0x5d7c04=_0x5d7c04['substring'](0x3,_0x5d7c04[_0x1916a1(0xdf3)]-0x3)[_0x1916a1(0x28f)]());let _0x121898=JSON[_0x1916a1(0xcd4)](_0x5d7c04);if(_0x450d69){if(_0x551eac!==null){}else currentQuizData=_0x121898,displayGeneratedQuiz(currentQuizData,_0x598bee,_0x29430f);}return _0x121898;}else return _0x4f7dac;}catch(_0x51a435){console[_0x1916a1(0x8c2)]('Error\x20in\x20handleApiCall:',_0x51a435),showMessage(_0x1916a1(0x429)+_0x51a435[_0x1916a1(0xac4)]);_0x450d69&&(_0x220f24['innerHTML']=_0x1916a1(0x5f0));throw _0x51a435;}finally{_0x208c6f[_0x1916a1(0x9cc)][_0x1916a1(0x505)](_0x1916a1(0xbce)),document[_0x1916a1(0x70b)](_0x1916a1(0x930))[_0x1916a1(0x9b6)]=![],document[_0x1916a1(0x70b)](_0x1916a1(0x8a1))[_0x1916a1(0x9b6)]=![],document[_0x1916a1(0x70b)]('generate-from-link-btn')[_0x1916a1(0x9b6)]=![];if(_0x378d22)_0x378d22[_0x1916a1(0x9b6)]=![];if(_0x152f71)_0x152f71[_0x1916a1(0x9b6)]=![];if(_0x12a200)_0x12a200[_0x1916a1(0x9b6)]=![];}}function exitFullscreen(){const _0x121fb5=_0x47050f;if(document['exitFullscreen'])document['exitFullscreen']()[_0x121fb5(0x570)](_0x602c9b=>console[_0x121fb5(0x8c2)](_0x602c9b));else{if(document['webkitExitFullscreen'])document[_0x121fb5(0xe25)]();else document[_0x121fb5(0xcf2)]&&document[_0x121fb5(0xcf2)]();}}function enterFullscreen(){const _0x274db6=_0x47050f,_0x81cdb2=document[_0x274db6(0x631)];if(_0x81cdb2['requestFullscreen'])_0x81cdb2[_0x274db6(0xe56)]()['catch'](_0x60e285=>{const _0x3eab23=_0x274db6;console[_0x3eab23(0x8c2)](_0x3eab23(0xa1c)+_0x60e285[_0x3eab23(0xac4)]+'\x20('+_0x60e285[_0x3eab23(0x312)]+')');});else{if(_0x81cdb2['webkitRequestFullscreen'])_0x81cdb2[_0x274db6(0xa7f)]();else _0x81cdb2[_0x274db6(0xc47)]&&_0x81cdb2[_0x274db6(0xc47)]();}}function handleCheatingEvent(){const _0x45a24b=_0x47050f;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x45a24b(0xabe),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x45a24b(0x663)+maxCheatAttempts+_0x45a24b(0x8a4)),document[_0x45a24b(0x70b)](_0x45a24b(0x97d))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x45a24b(0x64c)](_0x45a24b(0xdb0),handleVisibilityChange),document[_0x45a24b(0x64c)](_0x45a24b(0x6c9),handleFullscreenChange)):showMessage(_0x45a24b(0x8d6)+cheatAttempts+'/'+maxCheatAttempts+_0x45a24b(0x61d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x18cff0=_0x47050f;if(currentMode===_0x18cff0(0x200)||!isQuizActive)return;if(document[_0x18cff0(0x960)]===_0x18cff0(0xbce))handleCheatingEvent();else document['visibilityState']===_0x18cff0(0x364)&&(console[_0x18cff0(0x418)](_0x18cff0(0x565)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4154b2=_0x47050f;if(currentMode===_0x4154b2(0x200)||!isQuizActive)return;!document[_0x4154b2(0x501)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x524088,_0x2bddad=null,_0x1159bd=null){const _0x1e7fd6=_0x47050f,_0x188804=document[_0x1e7fd6(0x70b)]('generated-quiz-container');let _0x197759=_0x1e7fd6(0xd0f)+_0x524088[_0x1e7fd6(0x6d2)]+'</h3>';_0x524088['questions'][_0x1e7fd6(0xc4c)]((_0x354091,_0x15d5ac)=>{const _0x546a94=_0x1e7fd6;!_0x354091['id']&&(_0x354091['id']='q_'+Date[_0x546a94(0xc48)]()+'_'+_0x15d5ac);const _0x595868=_0x354091[_0x546a94(0xa39)]||_0x524088['quizType'];_0x197759+=_0x546a94(0x52e)+_0x15d5ac+_0x546a94(0x580)+_0x15d5ac+_0x546a94(0xd9e)+_0x15d5ac+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x595868){case _0x546a94(0x6b7):_0x197759+=_0x546a94(0xc2a)+_0x15d5ac+'\x22>'+(_0x15d5ac+0x1)+'.\x20'+_0x354091[_0x546a94(0x93d)]+_0x546a94(0xb29);_0x354091[_0x546a94(0xbb4)]&&(_0x197759+=_0x546a94(0x480)+_0x15d5ac+_0x546a94(0x387)+_0x354091[_0x546a94(0xbb4)]+_0x546a94(0xad2));_0x197759+=_0x546a94(0x9e1)+_0x15d5ac+'\x22>'+_0x354091[_0x546a94(0xc74)]+_0x546a94(0x53a),_0x197759+=_0x546a94(0xc54)+_0x15d5ac+'\x22>'+_0x354091[_0x546a94(0x50f)]+_0x546a94(0x53a);break;case _0x546a94(0x76f):_0x197759+=_0x546a94(0xc2a)+_0x15d5ac+'\x22>'+(_0x15d5ac+0x1)+'.\x20'+_0x354091[_0x546a94(0xc25)]+_0x546a94(0xb29);_0x354091[_0x546a94(0xbb4)]&&(_0x197759+=_0x546a94(0x480)+_0x15d5ac+_0x546a94(0x387)+_0x354091[_0x546a94(0xbb4)]+_0x546a94(0xad2));_0x197759+=_0x546a94(0xa53)+_0x15d5ac+'\x22>'+_0x354091[_0x546a94(0xa6c)]+_0x546a94(0x53a),_0x197759+=_0x546a94(0xc54)+_0x15d5ac+'\x22>'+_0x354091[_0x546a94(0x50f)]+_0x546a94(0x53a);break;case _0x546a94(0x92d):_0x197759+=_0x546a94(0xc2a)+_0x15d5ac+'\x22>'+(_0x15d5ac+0x1)+'.\x20'+_0x354091[_0x546a94(0xc25)]+_0x546a94(0xb29);_0x354091[_0x546a94(0xbb4)]&&(_0x197759+='<div\x20id=\x22q-image-container-'+_0x15d5ac+_0x546a94(0x387)+_0x354091[_0x546a94(0xbb4)]+'</div>');_0x197759+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x354091[_0x546a94(0x75d)]===!![]?_0x546a94(0xa1d):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x354091[_0x546a94(0x75d)]===![]?_0x546a94(0xa1d):'')+_0x546a94(0x98e),_0x197759+=_0x546a94(0xc54)+_0x15d5ac+'\x22>'+_0x354091['explanation']+_0x546a94(0x53a);break;case _0x546a94(0x592):case _0x546a94(0x99e):default:_0x197759+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x15d5ac+'\x22>'+(_0x15d5ac+0x1)+'.\x20'+_0x354091[_0x546a94(0xc25)]+_0x546a94(0xb29);_0x354091[_0x546a94(0xbb4)]&&(_0x197759+='<div\x20id=\x22q-image-container-'+_0x15d5ac+_0x546a94(0x387)+_0x354091[_0x546a94(0xbb4)]+'</div>');_0x197759+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x15d5ac+_0x546a94(0x7d9)+(_0x354091[_0x546a94(0x9d8)]||[])[_0x546a94(0x3cc)]((_0x574e48,_0x151081)=>_0x546a94(0x59f)+(_0x151081===_0x354091['correctAnswerIndex']?_0x546a94(0xa1d):'')+'\x22>'+_0x574e48+_0x546a94(0xb74))[_0x546a94(0x909)]('')+_0x546a94(0x682),_0x197759+=_0x546a94(0xc54)+_0x15d5ac+'\x22>'+_0x354091[_0x546a94(0x50f)]+_0x546a94(0x53a);break;}_0x197759+=_0x546a94(0xad2);}),_0x197759+=_0x1e7fd6(0x182),_0x188804[_0x1e7fd6(0xb90)]=_0x197759,document[_0x1e7fd6(0x8fc)](_0x1e7fd6(0x5ee))[_0x1e7fd6(0xc4c)](_0x31d870=>_0x31d870[_0x1e7fd6(0x86d)](_0x1e7fd6(0x9a8),handleEditQuestion)),document[_0x1e7fd6(0x8fc)]('.regenerate-question-btn')[_0x1e7fd6(0xc4c)](_0x54ff6d=>_0x54ff6d[_0x1e7fd6(0x86d)](_0x1e7fd6(0x9a8),handleRegenerateQuestion)),document[_0x1e7fd6(0x70b)](_0x1e7fd6(0x855))[_0x1e7fd6(0x86d)](_0x1e7fd6(0x9a8),exportQuizAsWorksheetPDF),document['getElementById']('verify-answers-btn')[_0x1e7fd6(0x86d)](_0x1e7fd6(0x9a8),handleVerifyAnswers);const _0x472e49=document[_0x1e7fd6(0x70b)](_0x1e7fd6(0x857));if(_0x472e49){const _0x23fe8e=_0x2bddad||currentProjectId;_0x472e49[_0x1e7fd6(0x86d)](_0x1e7fd6(0x9a8),()=>saveQuiz(_0x23fe8e,_0x1159bd));}if(window[_0x1e7fd6(0x2ab)])window[_0x1e7fd6(0x2ab)][_0x1e7fd6(0xb85)]([_0x188804]);}function handleRegenerateQuestion(_0x52af8f){const _0x4da497=_0x47050f,_0x5d86f6=_0x52af8f[_0x4da497(0x7c1)][_0x4da497(0x71a)][_0x4da497(0xe39)],_0xdfb62a=currentQuizData[_0x4da497(0x6d2)];showMessage(_0x4da497(0x1d3)+(parseInt(_0x5d86f6)+0x1)+_0x4da497(0x8f7)),generateQuiz(_0xdfb62a,null,parseInt(_0x5d86f6));}function getPointerPosition(_0x393b37,_0x59216d){const _0x264060=_0x47050f,_0x3fe77c=_0x393b37[_0x264060(0x6ea)]();let _0x3ddff4,_0x4156a5;return _0x59216d[_0x264060(0x42c)]&&_0x59216d[_0x264060(0x42c)][_0x264060(0xdf3)]>0x0?(_0x3ddff4=_0x59216d[_0x264060(0x42c)][0x0][_0x264060(0x33b)],_0x4156a5=_0x59216d['touches'][0x0]['clientY']):(_0x3ddff4=_0x59216d['clientX'],_0x4156a5=_0x59216d[_0x264060(0xb9e)]),{'x':(_0x3ddff4-_0x3fe77c['e'])/_0x3fe77c['a'],'y':(_0x4156a5-_0x3fe77c['f'])/_0x3fe77c['d']};}function startDrag(_0x16d55d){const _0x2c8a52=_0x47050f;_0x16d55d['type']==='touchstart'&&_0x16d55d[_0x2c8a52(0x95b)]();const _0xed898e=_0x16d55d['target'][_0x2c8a52(0x252)](_0x2c8a52(0xa93));if(_0xed898e){draggedSvgElement=_0xed898e;const _0x2ba6c8=draggedSvgElement['ownerSVGElement'],_0x14afe2=getPointerPosition(_0x2ba6c8,_0x16d55d);svgOffset['x']=_0x14afe2['x']-parseFloat(draggedSvgElement[_0x2c8a52(0xaf7)](null,'x')),svgOffset['y']=_0x14afe2['y']-parseFloat(draggedSvgElement[_0x2c8a52(0xaf7)](null,'y'));}}function calculateItemAnalysis(_0x5f2f55,_0xca33f4){const _0x140fa1=_0x47050f,_0xf5511c={};if(_0xca33f4[_0x140fa1(0xdf3)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3e7342=[..._0xca33f4][_0x140fa1(0x846)]((_0x128a8b,_0x929a7a)=>{const _0x368bb3=_0x140fa1,_0x594555=_0x929a7a['latestScore']-_0x128a8b[_0x368bb3(0x84f)];if(_0x594555!==0x0)return _0x594555;const _0x274282=_0x128a8b[_0x368bb3(0xc38)]?.[_0x368bb3(0xdf3)]||0x1,_0x3bcbd6=_0x929a7a[_0x368bb3(0xc38)]?.[_0x368bb3(0xdf3)]||0x1,_0x2b6e4a=_0x274282-_0x3bcbd6;if(_0x2b6e4a!==0x0)return _0x2b6e4a;const _0x2d0c99=new Date(_0x128a8b[_0x368bb3(0xadb)]),_0xf80d9e=new Date(_0x929a7a[_0x368bb3(0xadb)]),_0x493ba0=_0x2d0c99-_0xf80d9e;if(_0x493ba0!==0x0)return _0x493ba0;return _0x128a8b[_0x368bb3(0xd11)][_0x368bb3(0xbf4)](_0x929a7a['studentName'],'th');}),_0x17d1e1=_0x3e7342[_0x140fa1(0xdf3)],_0x1a10c9=Math[_0x140fa1(0xd2c)](0x1,Math['floor'](_0x17d1e1*0.33));if(_0x1a10c9===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x396e3d=_0x3e7342[_0x140fa1(0x787)](0x0,_0x1a10c9),_0x346f80=_0x3e7342[_0x140fa1(0x787)](-_0x1a10c9),_0x47c3fa=_0x396e3d['map'](_0x14c477=>_0x14c477[_0x140fa1(0xd11)]),_0x11458e=_0x346f80[_0x140fa1(0x3cc)](_0x3c3772=>_0x3c3772['studentName']);return _0x5f2f55['questions'][_0x140fa1(0xc4c)]((_0x529ec6,_0x409fec)=>{const _0x5b0734=_0x140fa1,_0x257a46=_0x529ec6['stem']||_0x529ec6['questionText'];let _0x1d79a0=0x0,_0x647471=0x0,_0x2c00ea=0x0;const _0x4d25b1=[],_0x16a5ee=[];_0x396e3d[_0x5b0734(0xc4c)](_0x3b1472=>{const _0x50f7ed=_0x5b0734,_0xd81951=_0x3b1472[_0x50f7ed(0xc38)][_0x3b1472[_0x50f7ed(0xc38)][_0x50f7ed(0xdf3)]-0x1],_0x158b71=_0xd81951[_0x50f7ed(0x9f8)][_0x50f7ed(0x60d)](_0x660a66=>_0x660a66['originalQuestionText']===_0x257a46);_0x4d25b1[_0x50f7ed(0x49c)]({'name':_0x3b1472[_0x50f7ed(0xd11)],'isCorrect':_0x158b71?_0x158b71[_0x50f7ed(0x985)]:![]}),_0x158b71&&_0x158b71[_0x50f7ed(0x985)]&&_0x647471++;}),_0x346f80[_0x5b0734(0xc4c)](_0x10195f=>{const _0x26f46a=_0x5b0734,_0xd9dbbe=_0x10195f['attempts'][_0x10195f[_0x26f46a(0xc38)]['length']-0x1],_0x27dbb5=_0xd9dbbe[_0x26f46a(0x9f8)][_0x26f46a(0x60d)](_0x5422d9=>_0x5422d9[_0x26f46a(0xbdb)]===_0x257a46);_0x16a5ee[_0x26f46a(0x49c)]({'name':_0x10195f[_0x26f46a(0xd11)],'isCorrect':_0x27dbb5?_0x27dbb5['isCorrect']:![]}),_0x27dbb5&&_0x27dbb5[_0x26f46a(0x985)]&&_0x2c00ea++;}),_0xca33f4[_0x5b0734(0xc4c)](_0x2956d9=>{const _0x3a4956=_0x5b0734,_0x508d80=_0x2956d9[_0x3a4956(0xc38)][_0x2956d9[_0x3a4956(0xc38)][_0x3a4956(0xdf3)]-0x1],_0x3b88f8=_0x508d80['answers'][_0x3a4956(0x60d)](_0x510664=>_0x510664[_0x3a4956(0xbdb)]===_0x257a46);_0x3b88f8&&_0x3b88f8['isCorrect']&&_0x1d79a0++;});const _0xae9b23=_0x17d1e1>0x0?_0x1d79a0/_0x17d1e1:0x0,_0x5b4665=_0x1a10c9>0x0?_0x647471/_0x1a10c9-_0x2c00ea/_0x1a10c9:0x0;_0xf5511c[_0x409fec]={'p':_0xae9b23,'r':_0x5b4665,'upperGroupResponders':_0x4d25b1,'lowerGroupResponders':_0x16a5ee};}),{'perQuestionStats':_0xf5511c,'overallGroups':{'upperGroupNames':_0x47c3fa,'lowerGroupNames':_0x11458e}};}function drag(_0x5f2df7){const _0x1bb557=_0x47050f;if(draggedSvgElement){_0x5f2df7[_0x1bb557(0x95b)]();const _0x4b92f3=draggedSvgElement['ownerSVGElement'],_0x2c0268=getPointerPosition(_0x4b92f3,_0x5f2df7),_0xeecf3=_0x4b92f3[_0x1bb557(0xded)]['baseVal'];let _0x52f970=_0x2c0268['x']-svgOffset['x'],_0xceacb=_0x2c0268['y']-svgOffset['y'];const _0xbd37e8=draggedSvgElement[_0x1bb557(0xc76)]();_0x52f970=Math[_0x1bb557(0xd2c)](_0xeecf3['x'],Math['min'](_0x52f970,_0xeecf3['x']+_0xeecf3[_0x1bb557(0x3e0)]-_0xbd37e8[_0x1bb557(0x3e0)])),_0xceacb=Math['max'](_0xeecf3['y'],Math[_0x1bb557(0x1da)](_0xceacb,_0xeecf3['y']+_0xeecf3[_0x1bb557(0x3d7)]-_0xbd37e8['height'])),draggedSvgElement[_0x1bb557(0xba3)](null,'x',_0x52f970),draggedSvgElement[_0x1bb557(0xba3)](null,'y',_0xceacb);}}function endDrag(_0x244a9a){draggedSvgElement=null;}function handleSvgEditClick(_0x24b0b3){const _0x3b0b32=_0x47050f;if(_0x24b0b3[_0x3b0b32(0x1c8)][_0x3b0b32(0x9cc)][_0x3b0b32(0x2bc)]('delete-svg-btn')){const _0x4d9a81=_0x24b0b3[_0x3b0b32(0x1c8)]['dataset']['targetId'],_0x2b35e5=_0x24b0b3[_0x3b0b32(0x7c1)],_0x180283=_0x2b35e5['querySelector']('#'+_0x4d9a81);_0x180283&&_0x180283[_0x3b0b32(0x7a8)](),_0x24b0b3[_0x3b0b32(0x1c8)]['remove']();}}function handleEditQuestion(_0x1dfb70){const _0x146c09=_0x47050f,_0x9eff5=_0x1dfb70[_0x146c09(0x7c1)],_0x249c52=_0x9eff5['dataset']['index'],_0x5c350e=currentQuizData[_0x146c09(0xbd5)][_0x249c52],_0x1c5f7d=document[_0x146c09(0x70b)](_0x146c09(0x2d6)+_0x249c52),_0x38dcad=document[_0x146c09(0x70b)]('q-explanation-'+_0x249c52),_0x25f88f=document[_0x146c09(0x70b)](_0x146c09(0x289)+_0x249c52);if(_0x9eff5[_0x146c09(0xb90)]['includes'](_0x146c09(0x560))){_0x9eff5[_0x146c09(0xb90)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x9eff5['title']=_0x146c09(0xdf2);if(_0x1c5f7d)_0x1c5f7d[_0x146c09(0xb76)]=!![];if(_0x38dcad)_0x38dcad[_0x146c09(0xb76)]=!![];if(_0x25f88f){const _0x30dc34=_0x25f88f[_0x146c09(0xdde)]('svg');if(_0x30dc34){const _0x19c121=_0x30dc34[_0x146c09(0x8fc)](_0x146c09(0x7fd));_0x19c121[_0x146c09(0xc4c)]((_0x19b3ec,_0x5c7b62)=>{const _0x54c73d=_0x146c09,_0x335fcd=_0x54c73d(0x711)+_0x249c52+'-'+_0x5c7b62;_0x19b3ec['id']=_0x335fcd,_0x19b3ec[_0x54c73d(0x9cc)]['add']('draggable-text'),_0x19b3ec[_0x54c73d(0x8aa)]['cursor']=_0x54c73d(0x4d8);const _0x2e295e=document[_0x54c73d(0x958)](_0x54c73d(0x9f5),'circle'),_0x139efb=_0x19b3ec[_0x54c73d(0xc76)]();_0x2e295e['setAttribute']('cx',String(_0x139efb['x']+_0x139efb[_0x54c73d(0x3e0)]+0x5)),_0x2e295e[_0x54c73d(0x454)]('cy',String(_0x139efb['y']+_0x139efb[_0x54c73d(0x3d7)]/0x2-0x5)),_0x2e295e[_0x54c73d(0x454)]('r','5'),_0x2e295e[_0x54c73d(0x454)](_0x54c73d(0x354),'red'),_0x2e295e[_0x54c73d(0x454)]('class','delete-svg-btn'),_0x2e295e[_0x54c73d(0x71a)][_0x54c73d(0x4f4)]=_0x335fcd,_0x19b3ec['after'](_0x2e295e);}),_0x30dc34[_0x146c09(0x86d)](_0x146c09(0x5ad),startDrag),_0x30dc34[_0x146c09(0x86d)](_0x146c09(0xc93),drag),_0x30dc34[_0x146c09(0x86d)]('mouseup',endDrag),_0x30dc34[_0x146c09(0x86d)](_0x146c09(0x438),endDrag),_0x30dc34['addEventListener']('touchstart',startDrag,{'passive':![]}),_0x30dc34[_0x146c09(0x86d)](_0x146c09(0xb24),drag,{'passive':![]}),_0x30dc34[_0x146c09(0x86d)](_0x146c09(0x212),endDrag),_0x30dc34[_0x146c09(0x86d)](_0x146c09(0xe29),endDrag),_0x30dc34[_0x146c09(0x86d)](_0x146c09(0x9a8),handleSvgEditClick);}}if(_0x1c5f7d)_0x1c5f7d[_0x146c09(0xdd2)]();}else{_0x9eff5['innerHTML']=_0x146c09(0x73c),_0x9eff5[_0x146c09(0xbe9)]=_0x146c09(0x3ff);if(_0x1c5f7d){_0x1c5f7d['contentEditable']=![];const _0xd79337=_0x5c350e[_0x146c09(0xa39)]||currentQuizData['quizType'];_0xd79337===_0x146c09(0x6b7)?_0x5c350e['stem']=_0x1c5f7d['innerText'][_0x146c09(0x21e)](_0x1c5f7d[_0x146c09(0xb44)][_0x146c09(0x436)]('.')+0x2)[_0x146c09(0x28f)]():_0x5c350e[_0x146c09(0xc25)]=_0x1c5f7d['innerText'][_0x146c09(0x21e)](_0x1c5f7d[_0x146c09(0xb44)][_0x146c09(0x436)]('.')+0x2)[_0x146c09(0x28f)]();}_0x38dcad&&(_0x38dcad[_0x146c09(0xb76)]=![],_0x5c350e['explanation']=_0x38dcad['innerText']);if(_0x25f88f){const _0x20ca0e=_0x25f88f[_0x146c09(0xdde)](_0x146c09(0xc31));if(_0x20ca0e){const _0x523cbc=_0x20ca0e[_0x146c09(0xc55)](!![]);_0x523cbc[_0x146c09(0x8fc)](_0x146c09(0x68b))[_0x146c09(0xc4c)](_0x451e27=>_0x451e27['remove']()),_0x523cbc[_0x146c09(0x8fc)]('.draggable-text')[_0x146c09(0xc4c)](_0x56071b=>{const _0x186401=_0x146c09;_0x56071b[_0x186401(0x9cc)][_0x186401(0x7a8)](_0x186401(0xb2a)),_0x56071b['style'][_0x186401(0xa37)]=_0x186401(0x1f2),_0x56071b[_0x186401(0xd83)]('id');}),_0x5c350e[_0x146c09(0xbb4)]=_0x523cbc[_0x146c09(0x57c)],_0x20ca0e[_0x146c09(0x64c)](_0x146c09(0x5ad),startDrag),_0x20ca0e[_0x146c09(0x64c)](_0x146c09(0xc93),drag),_0x20ca0e[_0x146c09(0x64c)](_0x146c09(0x84a),endDrag),_0x20ca0e['removeEventListener'](_0x146c09(0x438),endDrag),_0x20ca0e[_0x146c09(0x64c)]('touchstart',startDrag),_0x20ca0e[_0x146c09(0x64c)](_0x146c09(0xb24),drag),_0x20ca0e[_0x146c09(0x64c)]('touchend',endDrag),_0x20ca0e[_0x146c09(0x64c)]('touchcancel',endDrag),_0x20ca0e[_0x146c09(0x64c)]('click',handleSvgEditClick),_0x20ca0e[_0x146c09(0x8fc)](_0x146c09(0x68b))[_0x146c09(0xc4c)](_0x4584e9=>_0x4584e9[_0x146c09(0x7a8)]()),_0x20ca0e[_0x146c09(0x8fc)]('.draggable-text')[_0x146c09(0xc4c)](_0x30c16f=>{const _0x5d94ab=_0x146c09;_0x30c16f[_0x5d94ab(0x9cc)][_0x5d94ab(0x7a8)]('draggable-text'),_0x30c16f[_0x5d94ab(0x8aa)]['cursor']=_0x5d94ab(0x1f2);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x64cbda){const _0x4fb1a2=_0x47050f,_0x3ddd12=document[_0x4fb1a2(0x70b)]('quiz-editor-modal'),_0x208d9c=document['getElementById'](_0x4fb1a2(0x66a));_0x208d9c[_0x4fb1a2(0xb90)]=_0x4fb1a2(0xe1e),_0x3ddd12[_0x4fb1a2(0x9cc)][_0x4fb1a2(0x7a8)](_0x4fb1a2(0xbce));try{const _0x94aa4a=doc(db,_0x4fb1a2(0x4cd)+appId+_0x4fb1a2(0x4fc),_0x64cbda),_0x1411d9=await getDoc(_0x94aa4a);if(!_0x1411d9['exists']())throw new Error(_0x4fb1a2(0x90e));currentEditingQuizData={'id':_0x64cbda,..._0x1411d9[_0x4fb1a2(0x54c)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x20e446){console[_0x4fb1a2(0x8c2)](_0x4fb1a2(0x19d),_0x20e446),showMessage(_0x4fb1a2(0x666)),_0x3ddd12['classList'][_0x4fb1a2(0x505)](_0x4fb1a2(0xbce));}}function renderQuizEditor(_0x3b62bc){const _0x378f1c=_0x47050f;document[_0x378f1c(0x70b)](_0x378f1c(0xd36))[_0x378f1c(0xd95)]=_0x3b62bc['topic'];const _0x4423e2=document[_0x378f1c(0x70b)](_0x378f1c(0x66a));let _0x5702a6=_0x3b62bc[_0x378f1c(0xbd5)][_0x378f1c(0x3cc)]((_0x598d71,_0x12c075)=>{const _0x1beae5=_0x378f1c;let _0x273270='';const _0x8d7f1e=_0x598d71['questionType']||_0x3b62bc[_0x1beae5(0x190)];switch(_0x8d7f1e){case _0x1beae5(0x99e):const _0x4ba9b5=(_0x598d71[_0x1beae5(0x9d8)]||[])['map']((_0x12e6bf,_0x28e0b7)=>_0x1beae5(0x552)+_0x12c075+_0x1beae5(0xc3e)+_0x28e0b7+'\x22\x20'+(_0x28e0b7===_0x598d71['correctAnswerIndex']?'checked':'')+_0x1beae5(0x4de)+_0x12e6bf+_0x1beae5(0x1b9))[_0x1beae5(0x909)]('');_0x273270=_0x1beae5(0x3b3)+_0x4ba9b5+_0x1beae5(0xc11);break;case _0x1beae5(0x76f):_0x273270='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x598d71[_0x1beae5(0xa6c)]||'')+_0x1beae5(0x1c0);break;case _0x1beae5(0x92d):_0x273270='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x12c075+_0x1beae5(0x803)+(_0x598d71['correctAnswer']===!![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x12c075+'\x22\x20value=\x22false\x22\x20'+(_0x598d71['correctAnswer']===![]?'checked':'')+_0x1beae5(0x6c1);break;case _0x1beae5(0x6b7):_0x273270=_0x1beae5(0xdfa)+(_0x598d71['correctResponse']||'')+_0x1beae5(0x7b9);break;}let _0x5492d1=_0x598d71[_0x1beae5(0xc25)]||_0x598d71['stem']||'';return _0x5492d1=_0x5492d1['replace'](/<br\s*\/?>/gi,'\x0a'),_0x1beae5(0x889)+_0x12c075+'\x22\x20data-q-type=\x22'+_0x8d7f1e+_0x1beae5(0x39f)+(_0x12c075+0x1)+'\x20('+_0x8d7f1e+_0x1beae5(0x661)+_0x5492d1+_0x1beae5(0x67a)+_0x273270+'</div>\x0a</div>\x0a';})[_0x378f1c(0x909)]('');_0x4423e2[_0x378f1c(0xb90)]=_0x5702a6;const _0x2428ef=_0x378f1c(0xb48);_0x4423e2[_0x378f1c(0x49b)](_0x378f1c(0xb37),_0x2428ef),_0x4423e2[_0x378f1c(0x8fc)]('.auto-resize-textarea')[_0x378f1c(0xc4c)](_0x32d18e=>{const _0x47194b=_0x378f1c;_0x32d18e[_0x47194b(0x8aa)][_0x47194b(0x8b0)]=_0x47194b(0xbce),_0x32d18e[_0x47194b(0x8aa)][_0x47194b(0xb3e)]=_0x47194b(0xe36),_0x32d18e[_0x47194b(0x178)]=0x4;const _0x536783=()=>{const _0x43bb24=_0x47194b;_0x32d18e[_0x43bb24(0x8aa)][_0x43bb24(0x3d7)]='auto',_0x32d18e['style'][_0x43bb24(0x3d7)]=_0x32d18e[_0x43bb24(0x987)]+'px';};_0x32d18e[_0x47194b(0x86d)](_0x47194b(0x7d8),_0x536783),_0x536783();}),_0x4423e2[_0x378f1c(0x8fc)]('.ai-fix-question-btn')['forEach'](_0x5b70f5=>{const _0x2a4af7=_0x378f1c;_0x5b70f5['addEventListener'](_0x2a4af7(0x9a8),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x9128bb){const _0x277a79=_0x47050f;if(!currentEditingQuizData||!currentEditingQuizData[_0x277a79(0xbd5)][_0x9128bb])return;const _0x59eccc=currentEditingQuizData[_0x277a79(0xbd5)][_0x9128bb][_0x277a79(0xc25)]||currentEditingQuizData['questions'][_0x9128bb][_0x277a79(0x93d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x9128bb+0x1)+_0x277a79(0xd5f)+_0x59eccc[_0x277a79(0x21e)](0x0,0x14)+_0x277a79(0x967),()=>{const _0x2aff58=_0x277a79;currentEditingQuizData[_0x2aff58(0xbd5)][_0x2aff58(0x33d)](_0x9128bb,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x2aff58(0x2a7));});}function handleAddQuestionInEditor(){const _0x5b23b9=_0x47050f;if(!currentEditingQuizData)return;const _0x52af62={'id':'q_'+Date[_0x5b23b9(0xc48)]()+_0x5b23b9(0x75e),'questionType':'multiple_choice','questionText':_0x5b23b9(0x6df),'options':[_0x5b23b9(0x305),_0x5b23b9(0x94a),_0x5b23b9(0x420),_0x5b23b9(0xc84)],'correctAnswerIndex':0x0,'explanation':_0x5b23b9(0xb21)};currentEditingQuizData[_0x5b23b9(0xbd5)][_0x5b23b9(0x49c)](_0x52af62),renderQuizEditor(currentEditingQuizData);const _0x3ef21f=document['querySelector'](_0x5b23b9(0x9e2));_0x3ef21f&&(_0x3ef21f['scrollIntoView']({'behavior':_0x5b23b9(0xdd0),'block':_0x5b23b9(0xd3e)}),_0x3ef21f['querySelector']('textarea')[_0x5b23b9(0xdd2)]());}async function handleAiFixQuestion(_0x20a0a8){const _0x30cba9=_0x47050f,_0x2cc5ad=_0x20a0a8[_0x30cba9(0x7c1)],_0x476ebe=_0x2cc5ad['closest'](_0x30cba9(0xb5d));if(!_0x476ebe)return;const _0x870bdd=parseInt(_0x476ebe[_0x30cba9(0x71a)]['qIndex'],0xa);if(isNaN(_0x870bdd)||!currentEditingQuizData[_0x30cba9(0xbd5)][_0x870bdd]){showMessage(_0x30cba9(0x922));return;}const _0x1c0f47=currentEditingQuizData[_0x30cba9(0xbd5)][_0x870bdd];_0x2cc5ad[_0x30cba9(0xb90)]=_0x30cba9(0x3e4),_0x2cc5ad[_0x30cba9(0x9b6)]=!![];const _0xfcf579=_0x30cba9(0xb28)+JSON[_0x30cba9(0xcfa)](_0x1c0f47)+_0x30cba9(0x8eb);let _0x24884f;const _0x317224=_0x1c0f47[_0x30cba9(0xa39)]||currentEditingQuizData[_0x30cba9(0x190)];switch(_0x317224){case _0x30cba9(0x76f):_0x24884f={'type':'OBJECT','properties':{'questionText':{'type':_0x30cba9(0xd52)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x30cba9(0xd52)}},'required':[_0x30cba9(0xc25),_0x30cba9(0xa6c),_0x30cba9(0x50f)]};break;case _0x30cba9(0x99e):default:_0x24884f={'type':_0x30cba9(0xa5d),'properties':{'questionText':{'type':_0x30cba9(0xd52)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x30cba9(0xca0)},'explanation':{'type':_0x30cba9(0xd52)},'imageCode':{'type':_0x30cba9(0xd52)}},'required':[_0x30cba9(0xc25),_0x30cba9(0x9d8),_0x30cba9(0xcd9),_0x30cba9(0x50f)]};break;}try{let _0x1cdc13=await callAnalysisApi(_0xfcf579,_0x24884f);_0x1cdc13['options']&&Array[_0x30cba9(0x8d2)](_0x1cdc13['options'])&&(_0x1cdc13['options']=_0x1cdc13[_0x30cba9(0x9d8)][_0x30cba9(0x3cc)](_0x4f3a0e=>typeof _0x4f3a0e===_0x30cba9(0xc7a)?_0x4f3a0e[_0x30cba9(0x460)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x4f3a0e)),_0x1c0f47[_0x30cba9(0xbb4)]&&_0x1c0f47[_0x30cba9(0xbb4)][_0x30cba9(0x7f1)](_0x30cba9(0x968))&&(_0x1cdc13[_0x30cba9(0xbb4)]=''),currentEditingQuizData['questions'][_0x870bdd]={..._0x1c0f47,..._0x1cdc13},renderQuizEditor(currentEditingQuizData),showMessage(_0x30cba9(0x6de));}catch(_0x471628){console[_0x30cba9(0x8c2)](_0x30cba9(0xaf2),_0x471628),showMessage(_0x30cba9(0x48d)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x519db6=_0x47050f,_0x235b6b=document[_0x519db6(0x70b)](_0x519db6(0xdcf));_0x235b6b[_0x519db6(0x9b6)]=!![],_0x235b6b['innerHTML']=_0x519db6(0x5d5);try{const _0x279130=document[_0x519db6(0x70b)]('editor-quiz-topic')[_0x519db6(0xd95)],_0x3cc119=document[_0x519db6(0x8fc)](_0x519db6(0xb5d));let _0x17676b=[];const _0x3b88b7=Array[_0x519db6(0x2d0)](_0x3cc119)[_0x519db6(0x3cc)]((_0x39d452,_0x58fbbb)=>{const _0x3734af=_0x519db6,_0x14c431=_0x39d452[_0x3734af(0x71a)]['qType'],_0x430731=_0x39d452['querySelector'](_0x3734af(0xe54))[_0x3734af(0xd95)][_0x3734af(0x460)](/\n/g,'<br>');let _0x2a5815={'questionType':_0x14c431};const _0x7d6b8b=currentEditingQuizData['questions'][_0x58fbbb];switch(_0x14c431){case _0x3734af(0x99e):_0x2a5815['questionText']=_0x430731;const _0x2c3706=_0x39d452[_0x3734af(0x8fc)]('input[type=\x22text\x22]');_0x2a5815[_0x3734af(0x9d8)]=Array[_0x3734af(0x2d0)](_0x2c3706)[_0x3734af(0x3cc)](_0x489f93=>_0x489f93[_0x3734af(0xd95)]);const _0x1fc1ff=_0x39d452['querySelector']('input[type=\x22radio\x22]:checked');_0x2a5815['correctAnswerIndex']=_0x1fc1ff?parseInt(_0x1fc1ff[_0x3734af(0xd95)]):0x0;break;case _0x3734af(0x76f):_0x2a5815[_0x3734af(0xc25)]=_0x430731,_0x2a5815[_0x3734af(0xa6c)]=_0x39d452[_0x3734af(0xdde)](_0x3734af(0x1e2))['value'];break;case _0x3734af(0x92d):_0x2a5815['questionText']=_0x430731;const _0x119afc=_0x39d452[_0x3734af(0xdde)](_0x3734af(0x56e));_0x2a5815['correctAnswer']=_0x119afc?_0x119afc[_0x3734af(0xd95)]==='true':!![];break;case _0x3734af(0x6b7):_0x2a5815[_0x3734af(0x93d)]=_0x430731;const _0x4c0f9e=_0x39d452[_0x3734af(0xdde)](_0x3734af(0x8c9));_0x2a5815[_0x3734af(0xc74)]=_0x4c0f9e?_0x4c0f9e[_0x3734af(0xd95)]:'',_0x17676b[_0x3734af(0x49c)](_0x2a5815[_0x3734af(0xc74)]);break;default:_0x2a5815[_0x3734af(0xc25)]=_0x430731;break;}return{..._0x7d6b8b,..._0x2a5815};});_0x17676b['length']>0x0&&_0x3b88b7[_0x519db6(0xc4c)](_0x3cb93c=>{const _0x17edf9=_0x519db6;_0x3cb93c['questionType']===_0x17edf9(0x6b7)&&(_0x3cb93c[_0x17edf9(0x4b6)]=_0x17676b);});const _0x12e740=currentEditingQuizData['id'],_0xf37bd9=doc(db,'artifacts/'+appId+_0x519db6(0x4fc),_0x12e740);await updateDoc(_0xf37bd9,{'topic':_0x279130,'questions':_0x3b88b7}),document[_0x519db6(0x70b)](_0x519db6(0x485))['classList']['add'](_0x519db6(0xbce)),showMessage(_0x519db6(0x4f2),()=>initiateReGradeProcess(_0x12e740));}catch(_0x2194e0){console['error'](_0x519db6(0xca7),_0x2194e0),showMessage(_0x519db6(0x507));}finally{_0x235b6b[_0x519db6(0x9b6)]=![],_0x235b6b[_0x519db6(0xb90)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x42db38){const _0x19f7cb=_0x47050f;showMessage(_0x19f7cb(0x6b0));try{const _0x104c45=doc(db,'artifacts/'+appId+_0x19f7cb(0x4fc),_0x42db38),_0x4aaea1=await getDoc(_0x104c45);if(!_0x4aaea1[_0x19f7cb(0x7ed)]())throw new Error(_0x19f7cb(0x53b));const _0x2ebe49={'id':_0x42db38,..._0x4aaea1[_0x19f7cb(0x54c)]()},_0x5521b4=collection(db,_0x19f7cb(0x4cd)+appId+_0x19f7cb(0x4fc),_0x42db38,'submissions'),_0x4cb0ae=await getDocs(_0x5521b4);if(_0x4cb0ae['empty']){showMessage(_0x19f7cb(0x44f));return;}const _0x264df3=_0x4cb0ae['docs']['map'](_0x35098e=>reGradeSingleSubmission(_0x35098e,_0x2ebe49));await Promise[_0x19f7cb(0xb3f)](_0x264df3);if(_0x2ebe49[_0x19f7cb(0x28c)]){const _0x3f5cea=doc(db,_0x19f7cb(0x4cd)+appId+'/public/data/projects',_0x2ebe49[_0x19f7cb(0x28c)]),_0x122da9=await getDoc(_0x3f5cea);if(_0x122da9['exists']()&&_0x122da9[_0x19f7cb(0x54c)]()['students']){const _0x293354=_0x122da9[_0x19f7cb(0x54c)]()[_0x19f7cb(0xa70)][_0x19f7cb(0x3cc)](_0x545e20=>updateStudentProfile(_0x2ebe49['projectId'],_0x545e20));await Promise[_0x19f7cb(0xb3f)](_0x293354);}}showMessage(_0x19f7cb(0x499)+_0x4cb0ae[_0x19f7cb(0xd34)]+_0x19f7cb(0x7ae));}catch(_0x208211){console['error'](_0x19f7cb(0xc96),_0x208211),showMessage(_0x19f7cb(0x554)+_0x208211['message']);}}async function reGradeSingleSubmission(_0x551d90,_0x46e8ae){const _0x556c71=_0x47050f,_0x13b214=_0x551d90['data'](),_0x1807c4=_0x13b214[_0x556c71(0xd11)],_0x1b5592=_0x13b214['attempts']||[],_0x4a8c67=[];for(const _0x15fb1e of _0x1b5592){let _0x53c4de=0x0,_0x22da46=[],_0x394b5d=0x0;const _0x5adf10=[];for(const _0xa97ede of _0x15fb1e[_0x556c71(0x9f8)]){let _0x18ebfc;_0xa97ede[_0x556c71(0xb99)]&&(_0x18ebfc=_0x46e8ae[_0x556c71(0xbd5)]['find'](_0x78e127=>_0x78e127['id']===_0xa97ede[_0x556c71(0xb99)]));!_0x18ebfc&&_0xa97ede[_0x556c71(0xbdb)]&&(_0x18ebfc=_0x46e8ae['questions']['find'](_0x4a426d=>(_0x4a426d[_0x556c71(0x93d)]||_0x4a426d['questionText'])===_0xa97ede[_0x556c71(0xbdb)]));let _0x56d03c=![];if(_0x18ebfc){const _0x3b53c2=_0x18ebfc[_0x556c71(0xa39)]||_0x46e8ae['quizType'];switch(_0x3b53c2){case'multiple_choice':if(_0x18ebfc[_0x556c71(0x9d8)]&&_0x18ebfc['correctAnswerIndex']<_0x18ebfc[_0x556c71(0x9d8)][_0x556c71(0xdf3)]){const _0x27b225=_0x18ebfc[_0x556c71(0x9d8)][_0x18ebfc[_0x556c71(0xcd9)]];_0x56d03c=_0xa97ede['answerText']===_0x27b225;}break;case _0x556c71(0x92d):const _0x4d454b=_0xa97ede[_0x556c71(0xc5d)]===!![]||_0xa97ede[_0x556c71(0xc5d)]===_0x556c71(0xadf);_0x56d03c=_0x4d454b===_0x18ebfc[_0x556c71(0x75d)];break;case _0x556c71(0x6b7):_0x56d03c=_0xa97ede['answer']===_0x18ebfc[_0x556c71(0xc74)];break;case'short_answer':_0x56d03c=await gradeShortAnswer(_0xa97ede[_0x556c71(0xc5d)],_0x18ebfc);break;default:_0x56d03c=_0xa97ede[_0x556c71(0x985)];break;}}if(_0x56d03c){_0x53c4de++,_0x394b5d++;if(_0x394b5d===0x3)_0x22da46['push'](BADGES[_0x556c71(0xa2d)]['id']);}else _0x394b5d=0x0;_0x5adf10[_0x556c71(0x49c)]({..._0xa97ede,'isCorrect':_0x56d03c});}let _0x57082c=0x0;const _0x4676a3=_0x15fb1e['isSyncGame']===!![]||_0x15fb1e[_0x556c71(0xa55)]>_0x46e8ae[_0x556c71(0xbd5)][_0x556c71(0xdf3)]*0x14;_0x4676a3?_0x57082c=_0x15fb1e[_0x556c71(0xa55)]:(_0x57082c=_0x53c4de*0xa,_0x53c4de===_0x46e8ae[_0x556c71(0xbd5)][_0x556c71(0xdf3)]&&(_0x57082c+=0x32,_0x22da46[_0x556c71(0x49c)](BADGES[_0x556c71(0xe3b)]['id']))),_0x4a8c67[_0x556c71(0x49c)]({..._0x15fb1e,'score':_0x53c4de,'points':_0x57082c,'badges':Array['from'](new Set(_0x22da46)),'answers':_0x5adf10});}const _0x38715e=_0x4a8c67['length']>0x0?_0x4a8c67[0x0][_0x556c71(0x6e9)]:0x0,_0x74a0d8=Math[_0x556c71(0xd2c)](..._0x4a8c67[_0x556c71(0x3cc)](_0x5763fe=>_0x5763fe[_0x556c71(0x6e9)])),_0x23e27b=_0x4a8c67[_0x556c71(0xdf3)]>0x0?_0x4a8c67[_0x4a8c67[_0x556c71(0xdf3)]-0x1]['score']:0x0,_0x9f8683=_0x4a8c67[_0x556c71(0xdf3)]>0x0?_0x4a8c67[_0x4a8c67[_0x556c71(0xdf3)]-0x1][_0x556c71(0xa55)]:0x0,_0x1fe618=doc(db,_0x556c71(0x4cd)+appId+_0x556c71(0x832)+_0x46e8ae['id']+'/submissions',_0x1807c4);await updateDoc(_0x1fe618,{'attempts':_0x4a8c67,'firstScore':_0x38715e,'bestScore':_0x74a0d8,'latestScore':_0x23e27b,'points':_0x9f8683});}function cleanupQuizOptions(_0x2be4bf){const _0x5db342=_0x47050f,_0x1b15c0=(_0x4f6237,_0x4daeee)=>_0x4daeee===0x0?_0x4f6237:_0x1b15c0(_0x4daeee,_0x4f6237%_0x4daeee),_0x1e3b91=_0x6cef8a=>{const _0x2cdcc3=_0x3d0b;if(typeof _0x6cef8a!=='string')return null;_0x6cef8a=_0x6cef8a['trim']();const _0x33a28a=_0x6cef8a[_0x2cdcc3(0x62a)](/[ /]/)[_0x2cdcc3(0xc87)](_0x4fd861=>_0x4fd861!=='');if(_0x33a28a[_0x2cdcc3(0xdf3)]===0x3)return parseInt(_0x33a28a[0x0])+parseInt(_0x33a28a[0x1])/parseInt(_0x33a28a[0x2]);else{if(_0x33a28a[_0x2cdcc3(0xdf3)]===0x2)return parseInt(_0x33a28a[0x0])/parseInt(_0x33a28a[0x1]);else{if(_0x33a28a[_0x2cdcc3(0xdf3)]===0x1&&!isNaN(_0x33a28a[0x0]))return parseFloat(_0x33a28a[0x0]);}}return null;},_0x406223=_0x14a91c=>{const _0x17dc82=_0x3d0b;if(typeof _0x14a91c!=='string')return _0x14a91c;const _0x5b697d=_0x14a91c[_0x17dc82(0x423)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5b697d){const _0x249b93=parseInt(_0x5b697d[0x1]);let _0x2760d4=parseInt(_0x5b697d[0x2]),_0x379687=parseInt(_0x5b697d[0x3]);const _0x232508=_0x1b15c0(_0x2760d4,_0x379687);_0x2760d4/=_0x232508,_0x379687/=_0x232508;if(_0x379687===0x1)return(_0x249b93+_0x2760d4)['toString']();return _0x249b93+'\x20'+_0x2760d4+'/'+_0x379687;}return _0x14a91c;};return _0x2be4bf&&_0x2be4bf[_0x5db342(0xbd5)]&&_0x2be4bf[_0x5db342(0xbd5)][_0x5db342(0xc4c)](_0x198b87=>{const _0x49ec6f=_0x5db342;if(_0x198b87[_0x49ec6f(0xa39)]===_0x49ec6f(0x99e)&&_0x198b87[_0x49ec6f(0x9d8)]){const _0x5bc733=new Map(),_0x261402=_0x198b87['options'][_0x198b87[_0x49ec6f(0xcd9)]];_0x198b87[_0x49ec6f(0x9d8)]['forEach'](_0x1b9b7b=>{const _0x99d8a4=_0x49ec6f,_0x2c6fa2=_0x406223(_0x1b9b7b),_0x300a4d=_0x1e3b91(_0x2c6fa2);_0x300a4d!==null&&!_0x5bc733[_0x99d8a4(0x694)](_0x300a4d)&&_0x5bc733[_0x99d8a4(0x5c3)](_0x300a4d,_0x2c6fa2);}),_0x198b87['options']=Array[_0x49ec6f(0x2d0)](_0x5bc733[_0x49ec6f(0xb0c)]());const _0x23659f=_0x198b87[_0x49ec6f(0x9d8)][_0x49ec6f(0x322)](_0x1d4b40=>_0x1d4b40===_0x406223(_0x261402));_0x198b87[_0x49ec6f(0xcd9)]=_0x23659f!==-0x1?_0x23659f:0x0;}}),_0x2be4bf;}function showGameStartConfirmationModal(_0x46174f,_0x188212,_0x45d4e6){const _0x492ad2=_0x47050f,_0x54e8dd=document[_0x492ad2(0x70b)]('confirm-game-start-modal');document[_0x492ad2(0x70b)]('game-start-modal-title')[_0x492ad2(0xc66)]=_0x492ad2(0xc8b)+_0x45d4e6,document[_0x492ad2(0x70b)]('game-start-quiz-id')[_0x492ad2(0xd95)]=_0x46174f,document[_0x492ad2(0x70b)]('game-start-mode')[_0x492ad2(0xd95)]=_0x188212,document['getElementById'](_0x492ad2(0x63a))[_0x492ad2(0xceb)]=!![];const _0x19ac55=document[_0x492ad2(0x70b)](_0x492ad2(0x9bc)),_0x335529=document['getElementById'](_0x492ad2(0xd51)),_0x321d9c=document[_0x492ad2(0x70b)]('sync-timer-duration-container'),_0x539930=document[_0x492ad2(0x70b)](_0x492ad2(0xe79)),_0xb0970f=document['getElementById']('anon-settings-container');if(_0x188212===_0x492ad2(0xe5e)){_0x19ac55[_0x492ad2(0x9cc)][_0x492ad2(0x7a8)](_0x492ad2(0xbce));const _0x1d0517=_0x492ad2(0x463);document[_0x492ad2(0xdde)](_0x492ad2(0xc16)+_0x1d0517+'\x22]')['checked']=!![];if(_0xb0970f)_0xb0970f[_0x492ad2(0x9cc)]['remove']('hidden');_0x335529[_0x492ad2(0xceb)]=!![],_0x321d9c['classList']['remove'](_0x492ad2(0xbce)),document[_0x492ad2(0x70b)](_0x492ad2(0x686))['value']=_0x492ad2(0xe75),_0x539930['classList'][_0x492ad2(0x7a8)](_0x492ad2(0xbce)),document['getElementById'](_0x492ad2(0x611))[_0x492ad2(0xceb)]=!![];}else{_0x19ac55['classList'][_0x492ad2(0x505)](_0x492ad2(0xbce));if(_0xb0970f)_0xb0970f[_0x492ad2(0x9cc)]['add']('hidden');_0x335529['checked']=![],_0x321d9c[_0x492ad2(0x9cc)][_0x492ad2(0x505)](_0x492ad2(0xbce)),_0x539930[_0x492ad2(0x9cc)][_0x492ad2(0x505)]('hidden');}_0x54e8dd[_0x492ad2(0x9cc)][_0x492ad2(0x7a8)](_0x492ad2(0xbce));}async function saveGameResultsAsSubmissions(_0x2d7972){const _0x2adaea=_0x47050f;if(_0x2d7972[_0x2adaea(0x813)]){console[_0x2adaea(0x418)]('Game\x20results\x20already\x20saved.\x20Skipping.');return;}console[_0x2adaea(0x418)](_0x2adaea(0x3c5),_0x2d7972);const _0x256280=_0x2d7972['quizId'];let _0x39da60=[];if(_0x2d7972[_0x2adaea(0x2ae)])_0x39da60=Object['entries'](_0x2d7972[_0x2adaea(0x2ae)])[_0x2adaea(0x3cc)](([_0x1bf53f,_0x5808d5])=>({'name':_0x1bf53f,..._0x5808d5}));else{if(_0x2d7972[_0x2adaea(0xe61)])Object[_0x2adaea(0xb0c)](_0x2d7972['groups'])[_0x2adaea(0xc4c)](_0x355d7e=>{const _0x1949b4=_0x2adaea;_0x355d7e[_0x1949b4(0x97c)]['forEach'](_0x59582b=>{const _0x537112=_0x1949b4;_0x39da60['push']({'name':_0x59582b,'score':_0x355d7e['score'],'answers':_0x355d7e[_0x537112(0x9f8)]});});});else _0x2d7972[_0x2adaea(0x4d2)]&&Object['entries'](_0x2d7972['responses'])['forEach'](([_0x7e0496,_0x43ac76])=>{const _0x2f30ca=_0x2adaea;_0x39da60[_0x2f30ca(0x49c)]({'name':_0x7e0496,..._0x43ac76});});}if(_0x39da60['length']===0x0){console[_0x2adaea(0xd86)](_0x2adaea(0x29d));return;}const _0x49bc76=_0x2d7972[_0x2adaea(0x1ca)]?.[_0x2adaea(0xbd5)]['length']||currentQuizData[_0x2adaea(0xbd5)][_0x2adaea(0xdf3)],_0x10fb0b=writeBatch(db);for(const _0x34ffaf of _0x39da60){const _0x459ccc=doc(db,_0x2adaea(0x4cd)+appId+_0x2adaea(0x832)+_0x256280+_0x2adaea(0xcc1),_0x34ffaf[_0x2adaea(0x312)]),_0x237a79=(_0x34ffaf[_0x2adaea(0x9f8)]||[])[_0x2adaea(0xc87)](_0x3d2f80=>_0x3d2f80[_0x2adaea(0x985)])[_0x2adaea(0xdf3)];let _0x163eba=_0x34ffaf['totalPoints']!==undefined?_0x34ffaf['totalPoints']:_0x237a79,_0x497a07=_0x34ffaf['badges']||[];_0x237a79===_0x49bc76&&_0x49bc76>0x0&&(!_0x497a07[_0x2adaea(0x7f1)](_0x2adaea(0x4fe))&&_0x497a07[_0x2adaea(0x49c)](_0x2adaea(0x4fe)));const _0x170d1f={'score':_0x237a79,'points':_0x163eba,'badges':_0x497a07,'submittedAt':new Date()[_0x2adaea(0x9ce)](),'isSyncGame':!![],'answers':(_0x34ffaf[_0x2adaea(0x9f8)]||[])[_0x2adaea(0x3cc)](_0x4f765e=>({'questionId':_0x4f765e[_0x2adaea(0xb99)],'answer':_0x4f765e[_0x2adaea(0xc5d)],'answerText':_0x4f765e['answerText'],'isCorrect':_0x4f765e[_0x2adaea(0x985)],'originalQuestionText':_0x4f765e[_0x2adaea(0xbdb)],'wasConfident':_0x4f765e[_0x2adaea(0x313)],'powerupUsed':_0x4f765e[_0x2adaea(0x6e5)]||null}))},_0x42794d=await getDoc(_0x459ccc),_0x34852c=_0x42794d[_0x2adaea(0x7ed)]()?_0x42794d[_0x2adaea(0x54c)]():{},_0x521b07=_0x34852c[_0x2adaea(0x36a)]||0x0,_0x3bd4af=_0x34852c['attempts']||[];_0x3bd4af[_0x2adaea(0xdf3)]===0x0&&_0x237a79===_0x49bc76&&_0x49bc76>0x0&&(!_0x170d1f[_0x2adaea(0x993)][_0x2adaea(0x7f1)](_0x2adaea(0xdcb))&&_0x170d1f['badges'][_0x2adaea(0x49c)]('first_try_ace'));const _0x1ef5f2={'studentName':_0x34ffaf[_0x2adaea(0x312)],'totalQuestions':_0x49bc76,'attempts':arrayUnion(_0x170d1f),'latestScore':_0x237a79,'points':_0x163eba,'latestSubmittedAt':_0x170d1f[_0x2adaea(0x6a2)],'bestScore':Math[_0x2adaea(0xd2c)](_0x521b07,_0x237a79),'firstScore':_0x3bd4af['length']===0x0?_0x237a79:_0x34852c[_0x2adaea(0x3b0)]||0x0};_0x10fb0b['set'](_0x459ccc,_0x1ef5f2,{'merge':!![]});}try{if(currentLiveGameId){const _0xaff47f=doc(db,_0x2adaea(0x4cd)+appId+_0x2adaea(0x946),currentLiveGameId);_0x10fb0b[_0x2adaea(0xc8e)](_0xaff47f,{'resultsSaved':!![]});}await _0x10fb0b[_0x2adaea(0xe4e)](),showMessage('บันทึกผลการเรียนของนักเรียน\x20'+_0x39da60[_0x2adaea(0xdf3)]+'\x20คน\x20เรียบร้อยแล้ว!');const _0x404575=_0x2d7972['shuffledQuiz']?.[_0x2adaea(0x28c)]||currentQuizData?.[_0x2adaea(0x28c)]||currentProjectId;if(_0x404575){const _0x5ea042=[...new Set(_0x39da60['map'](_0x4deebc=>_0x4deebc['name']))];for(const _0x2e53e6 of _0x5ea042){await updateStudentProfile(_0x404575,_0x2e53e6);}}}catch(_0x52c568){console[_0x2adaea(0x8c2)]('Error\x20saving\x20game\x20results:',_0x52c568),showMessage(_0x2adaea(0x766));}}async function saveQuiz(_0x3c518e=null,_0x182423=null){const _0x1c8c5d=_0x47050f,_0x2d7d67=_0x3c518e||currentProjectId;if(!_0x2d7d67){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1c8c5d(0xbd5)]||!userId){showMessage(_0x1c8c5d(0x4c6));return;}const _0x42a803=document['getElementById'](_0x1c8c5d(0x857));_0x42a803['disabled']=!![],_0x42a803[_0x1c8c5d(0xb90)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x33143d=document['getElementById']('pre-test-checkbox')[_0x1c8c5d(0xceb)];let _0x4ee582=document[_0x1c8c5d(0x70b)]('editable-quiz-topic')[_0x1c8c5d(0xb44)][_0x1c8c5d(0x28f)]();_0x33143d&&!_0x4ee582[_0x1c8c5d(0xdac)](_0x1c8c5d(0xb72))&&(_0x4ee582=_0x1c8c5d(0xa42)+_0x4ee582);try{const _0x3eaa90={'resultsDisplay':document['getElementById'](_0x1c8c5d(0x61a))[_0x1c8c5d(0xd95)],'shuffle':document[_0x1c8c5d(0x70b)](_0x1c8c5d(0xa08))[_0x1c8c5d(0xd95)],'timerMode':document[_0x1c8c5d(0x70b)]('timer-mode-select')[_0x1c8c5d(0xd95)],'timerDuration':parseInt(document['getElementById'](_0x1c8c5d(0x6e1))[_0x1c8c5d(0xd95)])||0xa,'passingScore':parseInt(document[_0x1c8c5d(0x70b)]('passing-score-input')['value'])||0x0,'isAdaptive':document['getElementById'](_0x1c8c5d(0xe24))[_0x1c8c5d(0xceb)],'loopUntilPass':document[_0x1c8c5d(0x70b)](_0x1c8c5d(0xab7))[_0x1c8c5d(0xceb)]},_0x86ba93=(currentQuizData['questions']||[])[_0x1c8c5d(0x3cc)]((_0xe0fd21,_0x30214f)=>{const _0x402e15=_0x1c8c5d,_0x4521c3=document[_0x402e15(0x70b)]('quiz-type-select')[_0x402e15(0xd95)],_0x196e0f={'id':'q_'+Date[_0x402e15(0xc48)]()+'_'+_0x30214f,'questionText':_0xe0fd21[_0x402e15(0xc25)]||'','explanation':_0xe0fd21[_0x402e15(0x50f)]||_0x402e15(0x1d2),'questionType':_0xe0fd21[_0x402e15(0xa39)]||_0x4521c3,'imageCode':_0xe0fd21['imageCode']||null};return(_0x196e0f['questionType']===_0x402e15(0x99e)||_0x196e0f[_0x402e15(0xa39)]===_0x402e15(0x8c1)||_0x196e0f[_0x402e15(0xa39)]===_0x402e15(0xb58)&&_0xe0fd21['options'])&&(_0x196e0f[_0x402e15(0x9d8)]=_0xe0fd21['options']||[],_0x196e0f[_0x402e15(0xcd9)]=_0xe0fd21[_0x402e15(0xcd9)]!==undefined?_0xe0fd21['correctAnswerIndex']:0x0),(_0x196e0f[_0x402e15(0xa39)]==='short_answer'||_0x196e0f['questionType']==='fill_in_no_choices'||_0x196e0f[_0x402e15(0xa39)]===_0x402e15(0xb58)&&_0xe0fd21[_0x402e15(0xa6c)])&&(_0x196e0f[_0x402e15(0xa6c)]=_0xe0fd21[_0x402e15(0xa6c)]||''),_0x196e0f[_0x402e15(0xa39)]===_0x402e15(0x92d)&&(_0x196e0f[_0x402e15(0x75d)]=_0xe0fd21['correctAnswer']===!![]),_0x196e0f[_0x402e15(0xa39)]==='matching_item'&&(_0x196e0f[_0x402e15(0x93d)]=_0xe0fd21['stem']||'',_0x196e0f['correctResponse']=_0xe0fd21[_0x402e15(0xc74)]||'',_0x196e0f[_0x402e15(0x4b6)]=_0xe0fd21[_0x402e15(0x4b6)]||[]),_0x196e0f;}),_0x15bdb8={'topic':_0x4ee582,'quizType':currentQuizData['quizType']||_0x1c8c5d(0x99e),'questions':_0x86ba93,'projectId':_0x2d7d67,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x3eaa90,'quizMode':_0x33143d?_0x1c8c5d(0xa56):_0x1c8c5d(0xe80),'pairedQuizId':null,'lessonPlan':null};let _0x21ae09;while(!![]){_0x21ae09=Math[_0x1c8c5d(0x3ee)](0x3e8+Math[_0x1c8c5d(0x457)]()*0x2328)[_0x1c8c5d(0xae1)]();const _0x5d5927=await getDoc(doc(db,_0x1c8c5d(0x4cd)+appId+_0x1c8c5d(0x4fc),_0x21ae09));if(!_0x5d5927[_0x1c8c5d(0x7ed)]())break;}await setDoc(doc(db,_0x1c8c5d(0x4cd)+appId+'/public/data/quizzes',_0x21ae09),_0x15bdb8);if(_0x182423&&currentBlueprintProjectId){console[_0x1c8c5d(0x418)]('Auto-linking\x20new\x20quiz\x20'+_0x21ae09+_0x1c8c5d(0xd7b)+_0x182423);try{const _0x2feb06=doc(db,'artifacts/'+appId+_0x1c8c5d(0x5cf),currentBlueprintProjectId);await updateDoc(_0x2feb06,{[_0x1c8c5d(0x8af)+_0x182423+'.linkedQuizIds']:arrayUnion(_0x21ae09)});}catch(_0x1dd7d6){console[_0x1c8c5d(0x8c2)](_0x1c8c5d(0x591),_0x1dd7d6);}}currentQuizData[_0x1c8c5d(0x54d)]=_0x3eaa90,currentQuizData['id']=_0x21ae09;const _0x1aaaf5=document['getElementById'](_0x1c8c5d(0xd3d));_0x1aaaf5['innerHTML']=_0x1c8c5d(0x3ab)+_0x21ae09+_0x1c8c5d(0x822),document[_0x1c8c5d(0x70b)]('copy-quiz-id-btn')[_0x1c8c5d(0x86d)](_0x1c8c5d(0x9a8),()=>copyTextToClipboard(_0x21ae09,_0x1c8c5d(0x678))),document[_0x1c8c5d(0x70b)](_0x1c8c5d(0x1d8))[_0x1c8c5d(0x86d)](_0x1c8c5d(0x9a8),()=>handleStartLiveRace(_0x21ae09)),document[_0x1c8c5d(0x70b)](_0x1c8c5d(0x618))[_0x1c8c5d(0x86d)](_0x1c8c5d(0x9a8),()=>startPresentation(currentQuizData)),document[_0x1c8c5d(0x70b)](_0x1c8c5d(0x990))[_0x1c8c5d(0x86d)](_0x1c8c5d(0x9a8),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x527fd6){console['error']('Error\x20saving\x20quiz:',_0x527fd6),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x42a803[_0x1c8c5d(0x9b6)]=![],_0x42a803[_0x1c8c5d(0xb90)]=_0x1c8c5d(0x9b9);}}function promptForProjectAndSave(){const _0x57ae3c=_0x47050f,_0xf4d38e=document['getElementById'](_0x57ae3c(0x6fd)),_0x1235c7=document[_0x57ae3c(0x70b)](_0x57ae3c(0xc2c)),_0x4d7886=_0xf4d38e['querySelector']('h3'),_0x263033=document[_0x57ae3c(0x70b)](_0x57ae3c(0xaef));_0x4d7886[_0x57ae3c(0xc66)]=_0x57ae3c(0x434),_0x263033[_0x57ae3c(0xc66)]=_0x57ae3c(0x82f);allProjects[_0x57ae3c(0xdf3)]===0x0?(_0x1235c7[_0x57ae3c(0xb90)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x263033[_0x57ae3c(0x9b6)]=!![]):(_0x1235c7['innerHTML']=allProjects['map'](_0x8aef7f=>_0x57ae3c(0x70f)+_0x8aef7f['id']+'\x22>'+_0x8aef7f[_0x57ae3c(0x73e)]+_0x57ae3c(0xe8f))['join'](''),_0x263033['disabled']=![]);_0xf4d38e[_0x57ae3c(0x9cc)][_0x57ae3c(0x7a8)](_0x57ae3c(0xbce));const _0x4d1615=()=>{const _0x30713d=_0x57ae3c,_0x2859ac=_0x1235c7[_0x30713d(0xd95)];_0x2859ac?(currentProjectId=_0x2859ac,_0xf4d38e[_0x30713d(0x9cc)][_0x30713d(0x505)](_0x30713d(0xbce)),saveQuiz(),_0x4d7886[_0x30713d(0xc66)]=_0x30713d(0x59a),_0x263033[_0x30713d(0xc66)]=_0x30713d(0xba7),_0x263033[_0x30713d(0x64c)]('click',_0x4d1615),_0x263033[_0x30713d(0x86d)](_0x30713d(0x9a8),confirmMoveQuiz)):showMessage(_0x30713d(0xe5f));};_0x263033[_0x57ae3c(0x64c)](_0x57ae3c(0x9a8),confirmMoveQuiz),_0x263033['addEventListener'](_0x57ae3c(0x9a8),_0x4d1615);}function copyTextToClipboard(_0x32c381,_0x892c59){const _0x41ebde=_0x47050f,_0x5024a1=document['createElement'](_0x41ebde(0xe54));_0x5024a1[_0x41ebde(0xd95)]=_0x32c381,_0x5024a1['style'][_0x41ebde(0x8ae)]=_0x41ebde(0xdee),_0x5024a1[_0x41ebde(0x8aa)][_0x41ebde(0x744)]='0',document[_0x41ebde(0xdb8)]['appendChild'](_0x5024a1),_0x5024a1['focus'](),_0x5024a1[_0x41ebde(0x7ee)]();try{const _0x819f5a=document[_0x41ebde(0x38d)](_0x41ebde(0x827));showMessage(_0x819f5a?_0x892c59:_0x41ebde(0x5f2));}catch(_0x44181d){showMessage(_0x41ebde(0x5f2)),console['error']('Copy\x20command\x20failed',_0x44181d);}document[_0x41ebde(0xdb8)][_0x41ebde(0x207)](_0x5024a1);}function listenForProjectQuizzes(_0x411b7b){const _0x40b56a=_0x47050f,_0xa7fbe7=collection(db,_0x40b56a(0x4cd)+appId+_0x40b56a(0x4fc)),_0x128d4f=query(_0xa7fbe7,where(_0x40b56a(0x28c),'==',_0x411b7b));unsubscribeQuizzesListener=onSnapshot(_0x128d4f,async _0x490675=>{const _0x273a60=_0x40b56a;allQuizzes=_0x490675[_0x273a60(0x26e)][_0x273a60(0x3cc)](_0x24ab25=>({'id':_0x24ab25['id'],..._0x24ab25[_0x273a60(0x54c)]()})),renderQuizzes();},_0x4b2e8d=>{const _0x48c4e5=_0x40b56a;console['error'](_0x48c4e5(0x532),_0x4b2e8d),document[_0x48c4e5(0x70b)](_0x48c4e5(0x230))[_0x48c4e5(0xb90)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x225c48=_0x47050f,_0x583f13=document[_0x225c48(0x70b)]('project-quizzes-list'),_0x4cbe4c=document[_0x225c48(0x70b)](_0x225c48(0x41d))[_0x225c48(0xd95)]['toLowerCase']();let _0x10ece3;currentProjectId===_0x225c48(0x20b)?_0x10ece3=starredQuizzes:_0x10ece3=allQuizzes;let _0x2a16c5=_0x10ece3[_0x225c48(0xc87)](_0x29ed53=>_0x29ed53[_0x225c48(0x6d2)]['toLowerCase']()['includes'](_0x4cbe4c));_0x2a16c5['sort']((_0x32a328,_0x2ea9ec)=>new Date(_0x2ea9ec['createdAt'])-new Date(_0x32a328[_0x225c48(0x886)]));if(_0x2a16c5[_0x225c48(0xdf3)]===0x0){_0x583f13['innerHTML']=_0x225c48(0x2ee);return;}const _0x4d4de0={},_0x20eca3=_0x2a16c5[_0x225c48(0x3cc)](async _0x259af0=>{const _0x2c6cbd=_0x225c48,_0x39033f=collection(db,'artifacts/'+appId+_0x2c6cbd(0x832)+_0x259af0['id']+_0x2c6cbd(0xcc1)),_0x37b214=await getDocs(_0x39033f);_0x4d4de0[_0x259af0['id']]=_0x37b214[_0x2c6cbd(0xd34)];});await Promise[_0x225c48(0xb3f)](_0x20eca3);let _0x56ce2d='';_0x2a16c5[_0x225c48(0xc4c)](_0x206948=>{const _0x5cb2a8=_0x225c48,_0x33e8ff=_0x4d4de0[_0x206948['id']]||0x0,_0x5ca6b1=_0x206948[_0x5cb2a8(0xbd3)]||_0x5cb2a8(0x294),_0x39c8aa=_0x206948[_0x5cb2a8(0x54d)]?.[_0x5cb2a8(0x397)]||'none';let _0x82fc83='',_0x1030e6='';const _0x18bb07=new Date();let _0x2367e5=_0x5ca6b1;if(_0x5ca6b1===_0x5cb2a8(0xd85)){const _0x359265=_0x206948[_0x5cb2a8(0x8fd)]?new Date(_0x206948['startTime']):null,_0x1766d7=_0x206948[_0x5cb2a8(0xace)]?new Date(_0x206948[_0x5cb2a8(0xace)]):null;if(_0x1766d7&&_0x18bb07>_0x1766d7)_0x2367e5=_0x5cb2a8(0x96c);else _0x359265&&_0x18bb07<_0x359265?_0x2367e5='scheduled_pending':_0x2367e5=_0x5cb2a8(0x294);}switch(_0x2367e5){case'inactive':_0x82fc83=_0x5cb2a8(0xa26),_0x1030e6=_0x5cb2a8(0x1cb);break;case _0x5cb2a8(0x5f6):_0x82fc83=_0x5cb2a8(0x613),_0x1030e6=_0x5cb2a8(0x3da);break;case _0x5cb2a8(0x294):_0x82fc83=_0x39c8aa!==_0x5cb2a8(0x9b8)?'เปิด\x20(จับเวลา)':_0x5cb2a8(0x761),_0x1030e6=_0x5cb2a8(0x98f);break;default:_0x82fc83=_0x5cb2a8(0x315),_0x1030e6=_0x5cb2a8(0x98f);break;}let _0x5494d4='';const _0x4d8f80={'day':_0x5cb2a8(0xbee),'month':_0x5cb2a8(0xbee),'year':_0x5cb2a8(0xa04),'hour':'2-digit','minute':_0x5cb2a8(0xbee),'hour12':![]};if(_0x5ca6b1==='scheduled'){if(_0x206948[_0x5cb2a8(0x8fd)])_0x5494d4+=_0x5cb2a8(0x1e5)+new Date(_0x206948[_0x5cb2a8(0x8fd)])['toLocaleString']('th-TH',_0x4d8f80)+_0x5cb2a8(0xb29);if(_0x206948[_0x5cb2a8(0xace)])_0x5494d4+=_0x5cb2a8(0xac6)+new Date(_0x206948[_0x5cb2a8(0xace)])[_0x5cb2a8(0x57a)]('th-TH',_0x4d8f80)+_0x5cb2a8(0xb29);}let _0xc68e3c='';if(_0x206948[_0x5cb2a8(0xe6f)]){const _0x1760e5=allQuizzes['find'](_0x225996=>_0x225996['id']===_0x206948[_0x5cb2a8(0xe6f)]);if(_0x1760e5){let _0x20b3e6,_0x37e68a;new Date(_0x206948[_0x5cb2a8(0x886)])<new Date(_0x1760e5[_0x5cb2a8(0x886)])?(_0x20b3e6=_0x206948['id'],_0x37e68a=_0x1760e5['id']):(_0x20b3e6=_0x1760e5['id'],_0x37e68a=_0x206948['id']),_0xc68e3c+=_0x5cb2a8(0xe26)+_0x37e68a+_0x5cb2a8(0xc1a)+_0x20b3e6+_0x5cb2a8(0x290);}}else _0x206948[_0x5cb2a8(0xacd)]===_0x5cb2a8(0xa56)&&(_0xc68e3c+=_0x5cb2a8(0x589)+_0x206948['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x206948['quizMode']===_0x5cb2a8(0xa56)&&_0x33e8ff>0x0)_0xc68e3c+=_0x5cb2a8(0x589)+_0x206948['id']+_0x5cb2a8(0x70c);else!_0x206948[_0x5cb2a8(0xe6f)]&&_0x206948[_0x5cb2a8(0xacd)]!==_0x5cb2a8(0xa56)&&_0x33e8ff>0x0&&(_0xc68e3c+=_0x5cb2a8(0x589)+_0x206948['id']+_0x5cb2a8(0x1c5));let _0x36250a='';_0x206948[_0x5cb2a8(0xe6f)]?_0x36250a=_0x5cb2a8(0x737)+_0x206948['id']+_0x5cb2a8(0xae7):_0x36250a=_0x5cb2a8(0x737)+_0x206948['id']+_0x5cb2a8(0xc8a),_0x56ce2d+=_0x5cb2a8(0x4cf)+_0x206948['id']+_0x5cb2a8(0x4d0)+_0x206948['topic']+_0x5cb2a8(0x6d3)+_0x206948[_0x5cb2a8(0xbd5)][_0x5cb2a8(0xdf3)]+_0x5cb2a8(0xc3c)+new Date(_0x206948[_0x5cb2a8(0x886)])[_0x5cb2a8(0x57a)](_0x5cb2a8(0x2f7))+_0x5cb2a8(0x9fe)+_0x33e8ff+_0x5cb2a8(0x383)+_0x5494d4+_0x5cb2a8(0xd3c)+_0x1030e6+'\x22>'+_0x82fc83+_0x5cb2a8(0x366)+_0x206948['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x206948['id']+_0x5cb2a8(0x338)+(_0x206948[_0x5cb2a8(0xbb1)]?_0x5cb2a8(0x36b):_0x5cb2a8(0x5c9))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc68e3c+_0x5cb2a8(0x93f)+_0x206948['id']+_0x5cb2a8(0x426)+_0x206948['id']+_0x5cb2a8(0xb71)+_0x206948['id']+_0x5cb2a8(0x9aa)+_0x206948['id']+_0x5cb2a8(0x9c5)+_0x206948['id']+_0x5cb2a8(0x629)+_0x206948['id']+_0x5cb2a8(0xbd4)+_0x206948['id']+_0x5cb2a8(0x5fc)+_0x206948['topic']+_0x5cb2a8(0xb1b)+_0x206948['id']+_0x5cb2a8(0x85f)+_0x206948['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36250a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x206948['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x206948['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x206948['id']+_0x5cb2a8(0x7cb)+_0x206948['id']+_0x5cb2a8(0xac0)+_0x206948['id']+_0x5cb2a8(0xaa2)+_0x206948['id']+_0x5cb2a8(0x240)+_0x206948['id']+_0x5cb2a8(0x751)+_0x206948['id']+_0x5cb2a8(0x5fc)+_0x206948['topic']+_0x5cb2a8(0x860)+_0x206948['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x583f13[_0x225c48(0xb90)]=_0x56ce2d,document[_0x225c48(0x8fc)](_0x225c48(0x5f3))[_0x225c48(0xc4c)](_0x1bf0fe=>{const _0x1eb53d=_0x225c48;_0x1bf0fe[_0x1eb53d(0x86d)](_0x1eb53d(0x9a8),()=>{const _0x1936c1=_0x1eb53d,_0x12e2ab=_0x1bf0fe[_0x1936c1(0x71a)][_0x1936c1(0x727)];showQuizDetailView(_0x12e2ab);});});}async function handleUnpairQuiz(_0x3d02b6){const _0xec1b4d=_0x47050f,_0x570934=allQuizzes[_0xec1b4d(0x60d)](_0x6c4ca0=>_0x6c4ca0['id']===_0x3d02b6);if(!_0x570934||!_0x570934[_0xec1b4d(0xe6f)]){showMessage(_0xec1b4d(0x3b6));return;}showConfirmation(_0xec1b4d(0x7f4),async()=>{const _0x53a7fb=_0xec1b4d;try{const _0x4a01ec=doc(db,'artifacts/'+appId+_0x53a7fb(0x4fc),_0x3d02b6),_0x95965c=doc(db,'artifacts/'+appId+_0x53a7fb(0x4fc),_0x570934[_0x53a7fb(0xe6f)]),_0x548c73=writeBatch(db);_0x548c73['update'](_0x4a01ec,{'pairedQuizId':null}),_0x548c73[_0x53a7fb(0xc8e)](_0x95965c,{'pairedQuizId':null}),await _0x548c73[_0x53a7fb(0xe4e)](),showMessage(_0x53a7fb(0xa59));}catch(_0x1cd3bd){console[_0x53a7fb(0x8c2)](_0x53a7fb(0x6e4),_0x1cd3bd),showMessage(_0x53a7fb(0xaae));}});}function formatAndPrintLessonPlan(_0x12ba40,_0x2c3c5c){const _0x433dc7=_0x47050f,_0x464a82=window[_0x433dc7(0xb8f)]('',_0x433dc7(0x55e)),_0x59886a=_0x433dc7(0x382)+_0x2c3c5c[_0x433dc7(0x6d2)]+_0x433dc7(0x2af)+_0x2c3c5c[_0x433dc7(0x6d2)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12ba40[_0x433dc7(0xc1b)][_0x433dc7(0x3cc)](_0x4a4db8=>_0x433dc7(0xe73)+_0x4a4db8+_0x433dc7(0xb74))['join']('')+_0x433dc7(0x36e)+_0x12ba40[_0x433dc7(0xb8b)]+_0x433dc7(0x3bb)+_0x12ba40['practiceProblems'][_0x433dc7(0x3cc)](_0x2e462f=>_0x433dc7(0xbbf)+_0x2e462f['question']+_0x433dc7(0xcc5)+_0x2e462f[_0x433dc7(0xbc7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x433dc7(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x464a82[_0x433dc7(0xe85)][_0x433dc7(0x86b)](_0x59886a),_0x464a82[_0x433dc7(0xe85)][_0x433dc7(0x9be)](),_0x464a82[_0x433dc7(0xabc)]=function(){setTimeout(()=>{const _0x498d2e=_0x3d0b;_0x464a82[_0x498d2e(0xd2d)]();},0x3e8);};}async function handleAiFixFormula(_0x1354c2){const _0x5ab838=_0x47050f,_0x30ad5f=document[_0x5ab838(0xdde)]('.question-editor-item[data-q-index=\x22'+_0x1354c2+'\x22]');if(!_0x30ad5f)return;const _0x18b990=_0x30ad5f[_0x5ab838(0x71a)][_0x5ab838(0x954)],_0x3e8f85=_0x30ad5f[_0x5ab838(0xdde)](_0x5ab838(0x823));let _0x1c7d98={'question':_0x30ad5f[_0x5ab838(0xdde)](_0x5ab838(0xe54))[_0x5ab838(0xd95)]};switch(_0x18b990){case _0x5ab838(0x99e):_0x1c7d98[_0x5ab838(0x9d8)]=Array['from'](_0x30ad5f[_0x5ab838(0x8fc)](_0x5ab838(0x998)))['map'](_0x18b9fb=>_0x18b9fb[_0x5ab838(0xd95)]);break;case _0x5ab838(0x76f):_0x1c7d98['idealAnswer']=_0x30ad5f[_0x5ab838(0xdde)](_0x5ab838(0x1e2))[_0x5ab838(0xd95)];break;case _0x5ab838(0x6b7):_0x1c7d98[_0x5ab838(0xc74)]=_0x30ad5f[_0x5ab838(0xdde)](_0x5ab838(0x8c9))[_0x5ab838(0xd95)];break;}_0x3e8f85[_0x5ab838(0xb90)]=_0x5ab838(0x3e4),_0x3e8f85[_0x5ab838(0x9b6)]=!![];try{const _0x2f79a2=_0x5ab838(0xaf9)+JSON[_0x5ab838(0xcfa)](_0x1c7d98)+_0x5ab838(0x380),_0x4c3bd6={'type':_0x5ab838(0xa5d),'properties':{'fixedData':{'type':_0x5ab838(0xa5d),'properties':{'question':{'type':_0x5ab838(0xd52)},'options':{'type':_0x5ab838(0x755),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x5ab838(0xd52)},'correctResponse':{'type':_0x5ab838(0xd52)}},'required':[_0x5ab838(0x9ea)]}},'required':[_0x5ab838(0x815)]},_0x3683c8=await callAnalysisApi(_0x2f79a2,_0x4c3bd6);if(_0x3683c8&&_0x3683c8['fixedData']){const _0x4b88cd=_0x3683c8[_0x5ab838(0x815)];_0x30ad5f[_0x5ab838(0xdde)](_0x5ab838(0xe54))[_0x5ab838(0xd95)]=_0x4b88cd[_0x5ab838(0x9ea)]||_0x1c7d98[_0x5ab838(0x9ea)];switch(_0x18b990){case'multiple_choice':_0x4b88cd[_0x5ab838(0x9d8)]&&_0x4b88cd[_0x5ab838(0x9d8)][_0x5ab838(0xdf3)]>0x0&&_0x30ad5f[_0x5ab838(0x8fc)]('input[type=\x22text\x22]')[_0x5ab838(0xc4c)]((_0x26e8b5,_0x28dd30)=>{const _0x44d946=_0x5ab838;_0x26e8b5[_0x44d946(0xd95)]=_0x4b88cd[_0x44d946(0x9d8)][_0x28dd30]||_0x1c7d98[_0x44d946(0x9d8)][_0x28dd30];});break;case _0x5ab838(0x76f):_0x30ad5f[_0x5ab838(0xdde)]('.ideal-answer-input')[_0x5ab838(0xd95)]=_0x4b88cd['idealAnswer']||_0x1c7d98[_0x5ab838(0xa6c)];break;case _0x5ab838(0x6b7):_0x30ad5f[_0x5ab838(0xdde)](_0x5ab838(0x8c9))[_0x5ab838(0xd95)]=_0x4b88cd['correctResponse']||_0x1c7d98[_0x5ab838(0xc74)];break;}if(_0x1c7d98[_0x5ab838(0x9ea)]!==_0x4b88cd[_0x5ab838(0x9ea)])try{const _0xe19974=collection(db,'artifacts/'+appId+_0x5ab838(0x7f2));await addDoc(_0xe19974,{'broken':_0x1c7d98[_0x5ab838(0x9ea)],'fixed':_0x4b88cd[_0x5ab838(0x9ea)],'createdAt':serverTimestamp()});}catch(_0x3fb646){console[_0x5ab838(0x8c2)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x3fb646);}showMessage(_0x5ab838(0x962));}else throw new Error(_0x5ab838(0x4dd));}catch(_0x29d2ad){console['error']('AI\x20Formula\x20Fix\x20Error:',_0x29d2ad),showMessage(_0x5ab838(0xe5a));}finally{_0x3e8f85['innerHTML']='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x3e8f85[_0x5ab838(0x9b6)]=![];}}async function handleGenerateLessonPlan(_0x1919e8){const _0x5486ed=_0x47050f;showMessage(_0x5486ed(0x810));try{const _0x5ec5b1=doc(db,_0x5486ed(0x4cd)+appId+_0x5486ed(0x4fc),_0x1919e8),_0x56a2b3=await getDoc(_0x5ec5b1);if(!_0x56a2b3[_0x5486ed(0x7ed)]())throw new Error(_0x5486ed(0x53b));const _0x2cc03f={'id':_0x1919e8,..._0x56a2b3[_0x5486ed(0x54c)]()},_0x222789=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x1919e8,'submissions'),_0x4d759b=await getDocs(_0x222789),_0x32bdec=_0x4d759b['docs'][_0x5486ed(0x3cc)](_0x1ccb52=>_0x1ccb52[_0x5486ed(0x54c)]());if(_0x32bdec[_0x5486ed(0xdf3)]===0x0)throw new Error(_0x5486ed(0x5dd));const _0x32af3c=calculateItemAnalysis(_0x2cc03f,_0x32bdec)[_0x5486ed(0xb16)],_0x4f4cfd=calculateDistractorAnalysis(_0x2cc03f,_0x32bdec),_0x5e231b=_0x3fe6a0=>{const _0x207496=_0x5486ed;if(!_0x3fe6a0)return'';return _0x3fe6a0[_0x207496(0x460)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x207496(0x460)](/\n/g,'\x5cn');};let _0x357d11=_0x5486ed(0x9d3);_0x2cc03f[_0x5486ed(0xbd5)][_0x5486ed(0xc4c)]((_0x37cef6,_0x191412)=>{const _0x40f454=_0x5486ed,_0x4c6771=_0x32af3c[_0x191412]?.['p'][_0x40f454(0xadc)](0x2)||_0x40f454(0xd22),_0x4fa375=_0x32af3c[_0x191412]?.['r'][_0x40f454(0xadc)](0x2)||_0x40f454(0xd22),_0x91d565=_0x5e231b(_0x37cef6[_0x40f454(0xc25)]||_0x37cef6[_0x40f454(0x93d)]);_0x357d11+=_0x40f454(0x576)+(_0x191412+0x1)+_0x40f454(0x323)+_0x4c6771+',\x20r='+_0x4fa375+_0x40f454(0xe43)+_0x91d565+'\x5cn';if(_0x37cef6['questionType']==='multiple_choice'&&_0x4f4cfd[_0x191412]){const _0x388c50=_0x4f4cfd[_0x191412],_0x9773a9=Object[_0x40f454(0x5d7)](_0x388c50)[_0x40f454(0xc87)](_0x318b2d=>parseInt(_0x318b2d)!==_0x37cef6['correctAnswerIndex'])[_0x40f454(0x846)]((_0x36fff2,_0x526dc1)=>_0x388c50[_0x526dc1][_0x40f454(0x6db)]-_0x388c50[_0x36fff2][_0x40f454(0x6db)])[0x0];if(_0x9773a9&&_0x388c50[_0x9773a9][_0x40f454(0x6db)]>0x0){const _0x123205=_0x5e231b(_0x388c50[_0x9773a9][_0x40f454(0x7fd)]);_0x357d11+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x123205+_0x40f454(0x4f8);}}});const _0x5f56b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x2cc03f[_0x5486ed(0x6d2)]+_0x5486ed(0x655)+_0x357d11+_0x5486ed(0x56c),_0x5d867a={'type':_0x5486ed(0xa5d),'properties':{'learningGaps':{'type':_0x5486ed(0x755),'items':{'type':_0x5486ed(0xd52)}},'teachingContent':{'type':_0x5486ed(0xd52)},'practiceProblems':{'type':_0x5486ed(0x755),'items':{'type':'OBJECT','properties':{'question':{'type':_0x5486ed(0xd52)},'solution':{'type':_0x5486ed(0xd52)}}}}},'required':[_0x5486ed(0xc1b),_0x5486ed(0xb8b),_0x5486ed(0x8cf)]},_0x1496c=await callAnalysisApi(_0x5f56b1,_0x5d867a);await updateDoc(_0x5ec5b1,{'lessonPlan':_0x1496c});const _0x2a6aba=_0x5486ed(0xdd5)+_0x2cc03f['topic']+_0x5486ed(0xd59)+_0x1496c[_0x5486ed(0xc1b)]['map'](_0x1bd480=>_0x5486ed(0xe73)+_0x1bd480+_0x5486ed(0xb74))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x1496c['teachingContent']+_0x5486ed(0x1ba)+_0x1496c[_0x5486ed(0x8cf)][_0x5486ed(0x3cc)](_0x4a51de=>_0x5486ed(0xbe4)+_0x4a51de[_0x5486ed(0x9ea)]+_0x5486ed(0x887)+_0x4a51de['solution']+_0x5486ed(0xa09))[_0x5486ed(0x909)]('')+_0x5486ed(0xb34);document[_0x5486ed(0x70b)]('lesson-plan-title')['textContent']=_0x5486ed(0x30e)+_0x2cc03f['topic'],document[_0x5486ed(0x70b)](_0x5486ed(0x201))[_0x5486ed(0xb90)]=_0x2a6aba,document['getElementById'](_0x5486ed(0xcd5))[_0x5486ed(0x9cc)]['remove'](_0x5486ed(0xbce));if(window[_0x5486ed(0x2ab)])MathJax['typesetPromise']();messageModal[_0x5486ed(0x9cc)][_0x5486ed(0x505)]('hidden');}catch(_0x313636){console[_0x5486ed(0x8c2)]('Error\x20generating\x20lesson\x20plan:',_0x313636),showMessage('เกิดข้อผิดพลาด:\x20'+_0x313636[_0x5486ed(0xac4)]);}}async function handleDuplicateQuiz(_0x5eddd7){const _0x172409=_0x47050f;try{const _0x62f94=doc(db,_0x172409(0x4cd)+appId+'/public/data/quizzes',_0x5eddd7),_0x125c30=await getDoc(_0x62f94);if(_0x125c30['exists']()){const _0x2932d2=_0x125c30[_0x172409(0x54c)]();let _0x3e1445='',_0x68a668='standard',_0x53c577=null;if(_0x2932d2[_0x172409(0xacd)]===_0x172409(0xa56)){let _0x388612=_0x2932d2[_0x172409(0x6d2)][_0x172409(0x460)](_0x172409(0xb72),'')[_0x172409(0x28f)]();_0x3e1445='(หลังเรียน)\x20'+_0x388612,_0x68a668=_0x172409(0x8d3),_0x53c577=_0x5eddd7;}else _0x3e1445='(คัดลอก)\x20'+_0x2932d2[_0x172409(0x6d2)];const _0x559170={..._0x2932d2,'topic':_0x3e1445,'createdAt':new Date()[_0x172409(0x9ce)](),'quizMode':_0x68a668,'pairedQuizId':_0x53c577};let _0x5ab80e;while(!![]){_0x5ab80e=Math[_0x172409(0x3ee)](0x3e8+Math['random']()*0x2328)[_0x172409(0xae1)]();const _0x44ff46=await getDoc(doc(db,_0x172409(0x4cd)+appId+_0x172409(0x4fc),_0x5ab80e));if(!_0x44ff46['exists']())break;}const _0x5c48f2=doc(db,'artifacts/'+appId+_0x172409(0x4fc),_0x5ab80e);await setDoc(_0x5c48f2,_0x559170),_0x559170['quizMode']===_0x172409(0x8d3)&&await updateDoc(_0x62f94,{'pairedQuizId':_0x5ab80e}),showMessage(_0x172409(0x91f));}else throw new Error(_0x172409(0x90d));}catch(_0x453806){console[_0x172409(0x8c2)](_0x172409(0x264),_0x453806),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x555eb6,_0x59f26a=!![]){const _0x4ea10f=_0x47050f;try{const _0x4597dc=writeBatch(db),_0x3bbcc8=collection(db,_0x4ea10f(0x4cd)+appId+'/public/data/quizzes/'+_0x555eb6+'/submissions'),_0x45da53=await getDocs(_0x3bbcc8);_0x45da53[_0x4ea10f(0xc4c)](_0x4b6522=>{const _0x563cff=_0x4ea10f;_0x4597dc[_0x563cff(0x5d9)](doc(_0x3bbcc8,_0x4b6522['id']));});const _0x515fb9=doc(db,_0x4ea10f(0x4cd)+appId+'/public/data/quizzes',_0x555eb6);_0x4597dc[_0x4ea10f(0x5d9)](_0x515fb9),await _0x4597dc['commit']();try{console[_0x4ea10f(0x418)](_0x4ea10f(0xaa5)+_0x555eb6+_0x4ea10f(0xb83));const _0xe76989=collection(db,'artifacts/'+appId+_0x4ea10f(0x5cf)),_0x1d5c4c=await getDocs(_0xe76989),_0x27f34a=[];_0x1d5c4c['forEach'](_0x4d5b04=>{const _0x37106d=_0x4ea10f,_0x5b3bb6=_0x4d5b04[_0x37106d(0x54c)](),_0x2454c5=_0x5b3bb6[_0x37106d(0xd0c)]||{};let _0x874618=![];for(const _0x39d613 in _0x2454c5){const _0x5993b1=_0x2454c5[_0x39d613];if(_0x5993b1['linkedQuizIds']&&_0x5993b1[_0x37106d(0x923)][_0x37106d(0x7f1)](_0x555eb6)){_0x874618=!![];const _0x8ab1b=doc(db,'artifacts/'+appId+_0x37106d(0x5cf),_0x4d5b04['id']),_0x55d4df=updateDoc(_0x8ab1b,{[_0x37106d(0x8af)+_0x39d613+_0x37106d(0xd96)]:arrayRemove(_0x555eb6)});_0x27f34a[_0x37106d(0x49c)](_0x55d4df);}}}),_0x27f34a[_0x4ea10f(0xdf3)]>0x0&&(await Promise[_0x4ea10f(0xb3f)](_0x27f34a),console[_0x4ea10f(0x418)](_0x4ea10f(0x54a)+_0x27f34a[_0x4ea10f(0xdf3)]+_0x4ea10f(0x738)+_0x555eb6+'.'));}catch(_0x10dc5f){console[_0x4ea10f(0x8c2)](_0x4ea10f(0xdc0),_0x10dc5f);}_0x59f26a&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x481048){console[_0x4ea10f(0x8c2)](_0x4ea10f(0xe92),_0x481048),_0x59f26a&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x2e7285){const _0xcf487e=_0x47050f;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xcf487e(0x3c7));try{const _0x134a1f=doc(db,_0xcf487e(0x4cd)+appId+'/public/data/quizzes',_0x2e7285),_0x491e0c=await getDoc(_0x134a1f);if(!_0x491e0c[_0xcf487e(0x7ed)]()){showMessage(_0xcf487e(0x53b));return;}const _0x48bce3={'id':_0x491e0c['id'],..._0x491e0c[_0xcf487e(0x54c)]()};currentQuizData=_0x48bce3;const _0x19b7be=doc(db,'artifacts/'+appId+_0xcf487e(0x28e),_0x48bce3[_0xcf487e(0x28c)]),_0x2c0586=await getDoc(_0x19b7be);_0x2c0586[_0xcf487e(0x7ed)]()?(currentProjectData=_0x2c0586[_0xcf487e(0x54c)](),currentProjectId=_0x48bce3[_0xcf487e(0x28c)]):(currentProjectData={'students':[]},currentProjectId=_0x48bce3[_0xcf487e(0x28c)]);document[_0xcf487e(0x70b)](_0xcf487e(0xa20))[_0xcf487e(0xc66)]=_0x48bce3[_0xcf487e(0x6d2)],document[_0xcf487e(0x70b)](_0xcf487e(0xc94))[_0xcf487e(0xc66)]=_0x2e7285;const _0x717617=collection(db,_0xcf487e(0x4cd)+appId+_0xcf487e(0x4fc),_0x2e7285,_0xcf487e(0xe60));unsubscribeSubmissionsListener=onSnapshot(_0x717617,_0x4038da=>{const _0xd4eceb=_0xcf487e,_0x3500e2=_0x4038da['docs'][_0xd4eceb(0x3cc)](_0x3194fa=>({'id':_0x3194fa['id'],..._0x3194fa['data']()}));currentSubmissions=_0x3500e2;const _0x3bce75=_0x3500e2[_0xd4eceb(0xc87)](_0x10760f=>_0x10760f['attempts']&&_0x10760f['attempts'][_0xd4eceb(0xdf3)]>0x0);renderBehaviorLog(_0x3500e2),renderAnswerGrid(currentProjectData[_0xd4eceb(0xa70)],_0x3bce75,_0x48bce3),renderAnalytics(_0x48bce3,_0x3bce75),renderQuizResultsTable(currentProjectData[_0xd4eceb(0xa70)],_0x3500e2,_0x48bce3),renderQuizLeaderboard(_0x3bce75,_0x48bce3,'quiz-leaderboard-table-body');}),showView(_0xcf487e(0x86a));}catch(_0x393c03){console[_0xcf487e(0x8c2)](_0xcf487e(0xa98),_0x393c03),showMessage(_0xcf487e(0xe6e));}}function renderAnswerGrid(_0x4cdf35,_0x40a242,_0x4a3c38){const _0x3f9596=_0x47050f,_0x5ab4a0=document['getElementById'](_0x3f9596(0xb4c));if(!_0x5ab4a0)return;if(!_0x4cdf35||_0x4cdf35['length']===0x0){_0x5ab4a0[_0x3f9596(0xb90)]=_0x3f9596(0x9c8);return;}const _0x216c8d=_0x4a3c38[_0x3f9596(0xbd5)],_0x351575=_0x40a242[_0x3f9596(0x3cf)]((_0x4a34f0,_0x521656)=>{const _0x2a8a6a=_0x3f9596;return _0x4a34f0[_0x521656[_0x2a8a6a(0xd11)]]=_0x521656,_0x4a34f0;},{}),_0x5c7bd2=_0x53c84d=>String[_0x3f9596(0x616)](0x41+_0x53c84d),_0x3deb5b=_0x1aaef5=>{const _0x192b48=_0x3f9596,_0x4e0744=_0x1aaef5[_0x192b48(0xa39)]||_0x4a3c38[_0x192b48(0x190)];switch(_0x4e0744){case _0x192b48(0x99e):return _0x1aaef5[_0x192b48(0x9d8)]&&_0x1aaef5[_0x192b48(0x9d8)][_0x192b48(0xdf3)]>_0x1aaef5[_0x192b48(0xcd9)]?_0x5c7bd2(_0x1aaef5['correctAnswerIndex']):'-';case'true_false':const _0x18fb54=_0x1aaef5[_0x192b48(0x75d)]===!![]||String(_0x1aaef5['correctAnswer'])[_0x192b48(0xcab)]()==='true';return _0x18fb54?_0x192b48(0xbbe):_0x192b48(0x502);case'matching_item':return _0x1aaef5[_0x192b48(0xc74)]||'-';case _0x192b48(0x76f):return'พิมพ์ตอบ';default:return'-';}},_0x7b8929=(_0x27a5af,_0x4fefb7)=>{const _0x1e6af9=_0x3f9596;if(_0x4fefb7['answer']===null||_0x4fefb7[_0x1e6af9(0xc5d)]===undefined)return'-';const _0x52dd23=_0x27a5af[_0x1e6af9(0xa39)]||_0x4a3c38['quizType'];switch(_0x52dd23){case'multiple_choice':const _0x26bdea=_0x27a5af[_0x1e6af9(0x9d8)][_0x1e6af9(0x322)](_0x40b422=>_0x40b422===_0x4fefb7['answerText']);return _0x26bdea!==-0x1?_0x5c7bd2(_0x26bdea):_0x4fefb7['answerText']||'-';case _0x1e6af9(0x92d):if(_0x4fefb7['answer']=='0'||_0x4fefb7[_0x1e6af9(0xc5d)]===!![]||_0x4fefb7[_0x1e6af9(0xc5d)]===_0x1e6af9(0xadf))return _0x1e6af9(0xbbe);return'ไม่ใช่';default:return _0x4fefb7[_0x1e6af9(0xc5d)];}};let _0x2d3216=_0x3f9596(0x37f)+_0x216c8d[_0x3f9596(0x3cc)]((_0xa91c89,_0x13d49e)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x13d49e+0x1)+_0x3f9596(0x961))[_0x3f9596(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x216c8d[_0x3f9596(0x3cc)](_0x292049=>_0x3f9596(0xe4c)+_0x3deb5b(_0x292049)+_0x3f9596(0xc4d))[_0x3f9596(0x909)]('')+_0x3f9596(0x29f);_0x4cdf35[_0x3f9596(0xc4c)](_0x728c65=>{const _0x4a78a7=_0x3f9596;_0x2d3216+=_0x4a78a7(0x2b5),_0x2d3216+=_0x4a78a7(0x23f)+_0x728c65+_0x4a78a7(0xc4d);const _0x1f57b5=_0x351575[_0x728c65];if(_0x1f57b5){const _0x241d06=_0x1f57b5[_0x4a78a7(0xc38)][_0x1f57b5['attempts'][_0x4a78a7(0xdf3)]-0x1];_0x216c8d[_0x4a78a7(0xc4c)]((_0x2eee16,_0x5b97d9)=>{const _0x571fda=_0x4a78a7,_0x42f9a3=_0x241d06[_0x571fda(0x9f8)][_0x571fda(0x60d)](_0x319e20=>_0x319e20[_0x571fda(0xb99)]===_0x2eee16['id']);if(_0x42f9a3){let _0x5194ab='';const _0xe90f72=_0x42f9a3[_0x571fda(0x985)]===!![],_0x5f3aa0=_0x42f9a3['wasConfident']===!![]||_0x42f9a3[_0x571fda(0x313)]===_0x571fda(0xe8d),_0x111b19=_0x42f9a3['powerupUsed'];if(_0x111b19===_0x571fda(0x775))_0xe90f72?_0x5194ab='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x5194ab=_0x571fda(0x8d7);else _0x5f3aa0?_0x5194ab=_0xe90f72?_0x571fda(0xaed):_0x571fda(0x32e):_0x5194ab=_0xe90f72?_0x571fda(0xb9a):_0x571fda(0xdab);_0x2d3216+=_0x571fda(0x6c7)+_0x5194ab+'\x22>'+_0x7b8929(_0x2eee16,_0x42f9a3)+_0x571fda(0xc4d);}else _0x2d3216+=_0x571fda(0xb6d);});}else _0x2d3216+=_0x216c8d[_0x4a78a7(0x3cc)](()=>_0x4a78a7(0x658))['join']('');_0x2d3216+=_0x4a78a7(0xbc4);}),_0x2d3216+=_0x3f9596(0x9ae),_0x5ab4a0[_0x3f9596(0xb90)]=_0x2d3216;}function renderQuizResultsTable(_0x48c6b6,_0x5072b9,_0x5edee8){const _0x47433c=_0x47050f,_0x2ce120=_0x5072b9['reduce']((_0x424349,_0x1f469f)=>{return _0x424349[_0x1f469f['studentName']]=_0x1f469f,_0x424349;},{}),_0x1acfad=document['querySelector']('#results-table\x20thead\x20tr');_0x1acfad&&!_0x1acfad[_0x47433c(0xb90)][_0x47433c(0x7f1)](_0x47433c(0x8ef))&&(_0x1acfad[_0x47433c(0xb90)]+=_0x47433c(0xc83));const _0x3c4050=document[_0x47433c(0x70b)](_0x47433c(0xd8c));if(!_0x48c6b6||_0x48c6b6[_0x47433c(0xdf3)]===0x0){_0x3c4050[_0x47433c(0xb90)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x50a731=_0x5edee8[_0x47433c(0x7e6)]===!![],_0x1ea4d0=_0x5edee8[_0x47433c(0x54d)]?.['passingScore']??-0x1;let _0xb33d6d='';_0x48c6b6[_0x47433c(0xc4c)](_0xe09eec=>{const _0x24399d=_0x47433c,_0x33da4a=_0x2ce120[_0xe09eec];let _0x293e5c=_0x24399d(0xc22)+(_0x50a731?_0x24399d(0x6a3):_0x24399d(0x785))+'\x22>'+(_0x50a731?_0x24399d(0x7b1):'สอบปกติ')+_0x24399d(0x40e);if(_0x33da4a){if(_0x33da4a['attempts']&&_0x33da4a[_0x24399d(0xc38)][_0x24399d(0xdf3)]>0x0){let _0x148ff5=_0x50a731?_0x33da4a[_0x24399d(0x36a)]===_0x33da4a['totalQuestions']:_0x1ea4d0!==-0x1&&_0x33da4a[_0x24399d(0x36a)]>=_0x1ea4d0;const _0x2dbb78=_0x148ff5?_0x24399d(0xb9a):_0x24399d(0xdab),_0x5878c2=_0x148ff5?_0x24399d(0x878):_0x24399d(0x72e),_0x422051=_0x24399d(0x577)+_0x2dbb78+'\x22>'+_0x5878c2+_0x24399d(0x40e),_0x74f557=_0x24399d(0x7c3)+(_0x33da4a[_0x24399d(0xc38)]?.[_0x24399d(0xdf3)]||0x1)+'\x20ครั้ง)</span></td>',_0x5ec0ed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>'+(_0x33da4a[_0x24399d(0xa55)]||0x0)+_0x24399d(0xbb5)+_0xe09eec+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22'+(_0x33da4a[_0x24399d(0xa55)]||0x0)+_0x24399d(0xc58);_0xb33d6d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xe09eec+_0x24399d(0x2ed)+_0x33da4a[_0x24399d(0x36a)]+_0x24399d(0x805)+_0x33da4a[_0x24399d(0x621)]+_0x24399d(0x4e1)+_0x422051+_0x24399d(0x717)+_0x293e5c+_0x24399d(0x6d8)+_0x33da4a[_0x24399d(0x3b0)]+_0x24399d(0x805)+_0x33da4a[_0x24399d(0x621)]+_0x24399d(0x78c)+_0x33da4a[_0x24399d(0x84f)]+_0x24399d(0x805)+_0x33da4a['totalQuestions']+_0x24399d(0xbde)+_0x5ec0ed+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x74f557+_0x24399d(0xb02)+new Date(_0x33da4a[_0x24399d(0xadb)])['toLocaleString'](_0x24399d(0x2f7))+_0x24399d(0xaac)+_0xe09eec+_0x24399d(0x1eb);}else{const _0x3020e6='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0xb33d6d+=_0x24399d(0x325)+_0xe09eec+_0x24399d(0xe81)+_0x293e5c+_0x24399d(0x981)+_0x3020e6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x33da4a[_0x24399d(0x36c)])[_0x24399d(0x57a)]('th-TH')+_0x24399d(0x25d)+_0xe09eec+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x5f06de='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0xb33d6d+=_0x24399d(0x61e)+_0xe09eec+_0x24399d(0xc98)+_0x293e5c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f06de+_0x24399d(0x3ae);}}),_0x3c4050[_0x47433c(0xb90)]=_0xb33d6d;}async function confirmRenameQuiz(){const _0x41ac5a=_0x47050f,_0x3da720=document[_0x41ac5a(0x70b)](_0x41ac5a(0x3c6))['value'][_0x41ac5a(0x28f)]();if(!_0x3da720){showMessage(_0x41ac5a(0xa22));return;}if(!actionTargetId)return;const _0x5da295=doc(db,'artifacts/'+appId+_0x41ac5a(0x4fc),actionTargetId);try{await updateDoc(_0x5da295,{'topic':_0x3da720}),showMessage(_0x41ac5a(0xa90)),renameQuizModal[_0x41ac5a(0x9cc)][_0x41ac5a(0x505)](_0x41ac5a(0xbce)),actionTargetId=null;}catch(_0x4b20af){console[_0x41ac5a(0x8c2)](_0x41ac5a(0xdb9),_0x4b20af),showMessage(_0x41ac5a(0x9ad));}}async function handleMoveQuiz(_0x3cb02f){const _0x350999=_0x47050f;actionTargetId=_0x3cb02f;const _0x38602e=document[_0x350999(0x70b)](_0x350999(0xc2c));_0x38602e[_0x350999(0xb90)]=_0x350999(0xc79),moveQuizModal[_0x350999(0x9cc)][_0x350999(0x7a8)](_0x350999(0xbce));try{const _0x236ae5=collection(db,_0x350999(0x4cd)+appId+_0x350999(0x28e)),_0x2b0ee2=await getDocs(_0x236ae5),_0x480ab7=_0x2b0ee2[_0x350999(0x26e)]['map'](_0x67be05=>({'id':_0x67be05['id'],..._0x67be05[_0x350999(0x54c)]()})),_0xb36132=_0x480ab7[_0x350999(0xc87)](_0x1e663a=>_0x1e663a['id']!==currentProjectId);if(_0xb36132[_0x350999(0xdf3)]===0x0){_0x38602e[_0x350999(0xb90)]=_0x350999(0x7bc),document[_0x350999(0x70b)](_0x350999(0xaef))[_0x350999(0x9b6)]=!![];return;}_0x38602e['innerHTML']=_0xb36132[_0x350999(0x3cc)](_0x3782d7=>_0x350999(0x70f)+_0x3782d7['id']+'\x22>'+_0x3782d7['projectName']+_0x350999(0xe8f))[_0x350999(0x909)](''),document[_0x350999(0x70b)](_0x350999(0xaef))['disabled']=![];}catch(_0x4c7dc5){console['error']('Error\x20fetching\x20projects\x20for\x20move:',_0x4c7dc5),showMessage(_0x350999(0x536)),moveQuizModal[_0x350999(0x9cc)][_0x350999(0x505)](_0x350999(0xbce));}}async function confirmMoveQuiz(){const _0x51053f=_0x47050f,_0x2d5a8f=document[_0x51053f(0x70b)](_0x51053f(0xc2c))[_0x51053f(0xd95)];if(!_0x2d5a8f){showMessage(_0x51053f(0xbe5));return;}if(!actionTargetId)return;const _0x206a79=doc(db,_0x51053f(0x4cd)+appId+_0x51053f(0x4fc),actionTargetId);try{await updateDoc(_0x206a79,{'projectId':_0x2d5a8f}),showMessage(_0x51053f(0xb33)),moveQuizModal['classList'][_0x51053f(0x505)](_0x51053f(0xbce)),actionTargetId=null;}catch(_0x27b388){console['error']('Error\x20moving\x20quiz:',_0x27b388),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0xbb56ce){const _0x5c33e6=_0x47050f;actionTargetId=_0xbb56ce;const _0x2652a0=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xbb56ce);try{const _0x50c1fc=await getDoc(_0x2652a0);if(_0x50c1fc[_0x5c33e6(0x7ed)]()){const _0x503564=_0x50c1fc[_0x5c33e6(0x54c)](),_0x19a390=_0x503564[_0x5c33e6(0x54d)]||{},_0xd113d3=_0x503564[_0x5c33e6(0xbd5)][_0x5c33e6(0xdf3)];document[_0x5c33e6(0x70b)]('modal-shuffle-select')[_0x5c33e6(0xd95)]=_0x19a390['shuffle']||'none',document[_0x5c33e6(0x70b)](_0x5c33e6(0x3db))['value']=_0x19a390[_0x5c33e6(0xa0d)]||_0x5c33e6(0x19c),document[_0x5c33e6(0x70b)](_0x5c33e6(0x5ca))['value']=_0x19a390[_0x5c33e6(0x397)]||'none',document[_0x5c33e6(0x70b)](_0x5c33e6(0xbba))['value']=_0x19a390[_0x5c33e6(0x1d4)]||0xa,document['getElementById'](_0x5c33e6(0x241))['value']=_0x19a390['passingScore']||Math[_0x5c33e6(0x3ee)](_0xd113d3/0x2),document[_0x5c33e6(0x70b)](_0x5c33e6(0x241))[_0x5c33e6(0xd2c)]=_0xd113d3,document[_0x5c33e6(0x70b)](_0x5c33e6(0x856))[_0x5c33e6(0xceb)]=_0x19a390[_0x5c33e6(0x425)]||![],document['getElementById'](_0x5c33e6(0x22c))[_0x5c33e6(0xceb)]=_0x19a390[_0x5c33e6(0x92e)]||![];const _0x22c694=_0x19a390[_0x5c33e6(0xb00)]||![];document['getElementById'](_0x5c33e6(0xc21))[_0x5c33e6(0xceb)]=_0x22c694,document['getElementById'](_0x5c33e6(0x2e7))[_0x5c33e6(0xd95)]=_0x19a390[_0x5c33e6(0x3e2)]||_0x5c33e6(0x3bc);const _0x1fee10=document[_0x5c33e6(0x70b)](_0x5c33e6(0xa23));_0x1fee10[_0x5c33e6(0x9cc)][_0x5c33e6(0x1a3)](_0x5c33e6(0xbce),!_0x22c694),document[_0x5c33e6(0x70b)](_0x5c33e6(0x5ca))[_0x5c33e6(0x474)](new Event('change')),quizSettingsModal[_0x5c33e6(0x9cc)][_0x5c33e6(0x7a8)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x451596){console[_0x5c33e6(0x8c2)](_0x5c33e6(0xe4b),_0x451596),showMessage(_0x5c33e6(0xbbc));}}async function confirmQuizSettings(){const _0xbd9011=_0x47050f;if(!actionTargetId)return;const _0x1f10a1=doc(db,'artifacts/'+appId+_0xbd9011(0x4fc),actionTargetId),_0x5133e8={'shuffle':document[_0xbd9011(0x70b)]('modal-shuffle-select')[_0xbd9011(0xd95)],'resultsDisplay':document[_0xbd9011(0x70b)](_0xbd9011(0x3db))['value'],'timerMode':document['getElementById']('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0xbd9011(0x70b)](_0xbd9011(0xbba))[_0xbd9011(0xd95)])||0xa,'passingScore':parseInt(document[_0xbd9011(0x70b)](_0xbd9011(0x241))[_0xbd9011(0xd95)])||0x0,'isAdaptive':document[_0xbd9011(0x70b)]('modal-adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0xbd9011(0x70b)]('modal-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0xbd9011(0x70b)](_0xbd9011(0xc21))[_0xbd9011(0xceb)],'confidenceMode':document[_0xbd9011(0x70b)](_0xbd9011(0x2e7))[_0xbd9011(0xd95)]};try{await updateDoc(_0x1f10a1,{'settings':_0x5133e8}),showMessage(_0xbd9011(0xd8d)),quizSettingsModal[_0xbd9011(0x9cc)]['add'](_0xbd9011(0xbce)),actionTargetId=null;}catch(_0x5a4520){console[_0xbd9011(0x8c2)](_0xbd9011(0x3b7),_0x5a4520),showMessage(_0xbd9011(0x507));}}async function confirmQuizStatus(){const _0x222a28=_0x47050f;if(!actionTargetId)return;const _0x38e76f=doc(db,_0x222a28(0x4cd)+appId+'/public/data/quizzes',actionTargetId),_0x4431fb=document[_0x222a28(0xdde)](_0x222a28(0x7db));if(!_0x4431fb){showMessage(_0x222a28(0x47e));return;}const _0x1203b7=_0x4431fb[_0x222a28(0xd95)];let _0x2ebd42={};if(_0x1203b7==='active'||_0x1203b7===_0x222a28(0x96c))_0x2ebd42={'status':_0x1203b7,'startTime':null,'endTime':null};else{if(_0x1203b7===_0x222a28(0x4f0)){const _0x18e846=document[_0x222a28(0x70b)]('quiz-start-time')['value'],_0x408969=document[_0x222a28(0x70b)]('quiz-end-time')['value'];if(!_0x18e846&&!_0x408969){showMessage(_0x222a28(0x6a4));return;}_0x2ebd42={'status':_0x222a28(0xd85),'startTime':_0x18e846?new Date(_0x18e846)[_0x222a28(0x9ce)]():null,'endTime':_0x408969?new Date(_0x408969)[_0x222a28(0x9ce)]():null};}}try{await updateDoc(_0x38e76f,_0x2ebd42),showMessage(_0x222a28(0x60c)),quizStatusModal[_0x222a28(0x9cc)]['add'](_0x222a28(0xbce)),actionTargetId=null;}catch(_0x299459){console[_0x222a28(0x8c2)]('Error\x20updating\x20quiz\x20status:',_0x299459),showMessage(_0x222a28(0x254));}}function listenForStudentProfiles(_0x36fafa){const _0x5986bf=_0x47050f,_0x34a724=collection(db,_0x5986bf(0x4cd)+appId+_0x5986bf(0x400)+_0x36fafa+_0x5986bf(0xe5b));unsubscribeStudentProfilesListener=onSnapshot(_0x34a724,_0x5df159=>{const _0x859acd=_0x5986bf,_0x460238=_0x5df159[_0x859acd(0x26e)]['map'](_0x2c93af=>_0x2c93af[_0x859acd(0x54c)]());renderLeaderboard(_0x460238,_0x859acd(0x628));},_0x4b3253=>{const _0x408383=_0x5986bf;console[_0x408383(0x8c2)](_0x408383(0x75a),_0x4b3253),document[_0x408383(0x70b)](_0x408383(0x628))[_0x408383(0xb90)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x2ca0c8,_0x9eca7){const _0x3dee95=_0x47050f,_0x4b7181=document['getElementById'](_0x9eca7);if(!_0x2ca0c8||_0x2ca0c8[_0x3dee95(0xdf3)]===0x0){_0x4b7181[_0x3dee95(0xb90)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x2ca0c8[_0x3dee95(0x846)]((_0x5147df,_0x35ec0a)=>{const _0xd20264=_0x3dee95,_0x11d3de=(_0x35ec0a[_0xd20264(0xe3d)]||0x0)-(_0x5147df[_0xd20264(0xe3d)]||0x0);if(_0x11d3de!==0x0)return _0x11d3de;const _0x3a93e2=(_0x35ec0a[_0xd20264(0xc34)]?.[_0xd20264(0xda4)]||0x0)-(_0x5147df[_0xd20264(0xc34)]?.[_0xd20264(0xda4)]||0x0);if(_0x3a93e2!==0x0)return _0x3a93e2;const _0x1fec7a=(_0x35ec0a[_0xd20264(0xc34)]?.[_0xd20264(0xdcb)]||0x0)-(_0x5147df['badgesCount']?.[_0xd20264(0xdcb)]||0x0);if(_0x1fec7a!==0x0)return _0x1fec7a;const _0x4b3dff=(_0x35ec0a[_0xd20264(0xc34)]?.['perfect_score']||0x0)-(_0x5147df[_0xd20264(0xc34)]?.[_0xd20264(0x4fe)]||0x0);if(_0x4b3dff!==0x0)return _0x4b3dff;const _0x555aee=(_0x35ec0a[_0xd20264(0xc34)]?.[_0xd20264(0xbbd)]||0x0)-(_0x5147df[_0xd20264(0xc34)]?.[_0xd20264(0xbbd)]||0x0);if(_0x555aee!==0x0)return _0x555aee;return _0x5147df[_0xd20264(0xd11)][_0xd20264(0xbf4)](_0x35ec0a[_0xd20264(0xd11)],'th');});let _0x2b2e65='';_0x2ca0c8[_0x3dee95(0xc4c)]((_0x40b131,_0x4dda0f)=>{const _0x4b9cdc=_0x3dee95,_0x3195c3=_0x4dda0f+0x1,_0xfccd42=_0x40b131[_0x4b9cdc(0xc34)]||{};let _0xdd3d7c='';const _0x488423=['specialist',_0x4b9cdc(0x4fe),_0x4b9cdc(0xdcb),_0x4b9cdc(0xbbd)];_0x488423[_0x4b9cdc(0xc4c)](_0x11480f=>{const _0x227bdc=_0x4b9cdc;if(_0xfccd42[_0x11480f]>0x0){const _0x174d03=Object[_0x227bdc(0xb0c)](BADGES)[_0x227bdc(0x60d)](_0x375299=>_0x375299['id']===_0x11480f);_0x174d03&&(_0x11480f===_0x227bdc(0xda4)?_0xdd3d7c+=_0x227bdc(0xb0b)+_0x174d03[_0x227bdc(0x312)]+_0x227bdc(0x192)+_0x174d03[_0x227bdc(0x795)]+_0x227bdc(0xa4d):_0xdd3d7c+=_0x227bdc(0xb0b)+_0x174d03[_0x227bdc(0x312)]+'\x20('+_0xfccd42[_0x11480f]+_0x227bdc(0xd1d)+_0x174d03[_0x227bdc(0x795)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0xfccd42[_0x11480f]+_0x227bdc(0xdef));}}),_0x2b2e65+=_0x4b9cdc(0xd7a)+_0x3195c3+_0x4b9cdc(0xbde)+_0x40b131[_0x4b9cdc(0xd11)]+_0x4b9cdc(0xdd7)+(_0x40b131[_0x4b9cdc(0xe3d)]||0x0)+_0x4b9cdc(0xbde)+(_0xdd3d7c||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4b7181[_0x3dee95(0xb90)]=_0x2b2e65;}function displayLoopScreen(_0xe71a43,_0x2bb262,_0x94e458){const _0x44e885=_0x47050f;let _0x496b99='';_0x94e458!==_0x44e885(0xd8e)&&(_0x496b99=_0x44e885(0x389)+_0xe71a43+_0x44e885(0x805)+_0x2bb262+_0x44e885(0xd6a));const _0x4d2f73=_0x44e885(0x369)+_0x496b99+_0x44e885(0x8dc);studentResultArea[_0x44e885(0xb90)]=_0x4d2f73,studentResultArea[_0x44e885(0x9cc)][_0x44e885(0x7a8)](_0x44e885(0xbce)),studentQuizArea[_0x44e885(0x9cc)][_0x44e885(0x505)](_0x44e885(0xbce)),document[_0x44e885(0x70b)](_0x44e885(0x789))[_0x44e885(0x86d)]('click',()=>{const _0x5660a7=_0x44e885;studentResultArea['classList']['add'](_0x5660a7(0xbce)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2dbac5,_0x5b7670,_0x5dff27){const _0x995224=_0x47050f,_0x7a5630=document[_0x995224(0x70b)](_0x5dff27),_0x3e7efe=_0x5dff27===_0x995224(0x6b9),_0x275375=_0x5b7670[_0x995224(0xbd5)][_0x995224(0xdf3)],_0x1b35c3=document[_0x995224(0x70b)](_0x5dff27)[_0x995224(0x252)]('table');if(_0x1b35c3&&!_0x3e7efe){const _0x11564a=_0x1b35c3[_0x995224(0xdde)](_0x995224(0xe63));_0x11564a[_0x995224(0xb90)]=_0x995224(0x5e2);}if(!_0x2dbac5||_0x2dbac5[_0x995224(0xdf3)]===0x0){_0x7a5630[_0x995224(0xb90)]='<tr><td\x20colspan=\x22'+(_0x3e7efe?0x6:0x8)+_0x995224(0x8d8);return;}const _0x2dcc95=[..._0x2dbac5];_0x2dcc95[_0x995224(0x846)]((_0x558352,_0x938a7e)=>{const _0x4bb56c=_0x995224;let _0x159688,_0x17435c;switch(quizLeaderboardSortBy){case _0x4bb56c(0xd11):_0x159688=_0x558352['studentName']||'',_0x17435c=_0x938a7e['studentName']||'';return quizLeaderboardSortOrder===_0x4bb56c(0x7dc)?_0x159688['localeCompare'](_0x17435c,'th'):_0x17435c['localeCompare'](_0x159688,'th');case _0x4bb56c(0xa55):_0x159688=_0x558352[_0x4bb56c(0xa55)]||0x0,_0x17435c=_0x938a7e[_0x4bb56c(0xa55)]||0x0;break;case _0x4bb56c(0xc38):_0x159688=_0x558352[_0x4bb56c(0xc38)]?.[_0x4bb56c(0xdf3)]||0x1,_0x17435c=_0x938a7e['attempts']?.['length']||0x1;break;case _0x4bb56c(0xadb):_0x159688=new Date(_0x558352[_0x4bb56c(0xadb)]),_0x17435c=new Date(_0x938a7e['latestSubmittedAt']);break;case _0x4bb56c(0x36a):default:_0x159688=_0x558352[_0x4bb56c(0x36a)],_0x17435c=_0x938a7e[_0x4bb56c(0x36a)];break;}if(_0x159688<_0x17435c)return quizLeaderboardSortOrder===_0x4bb56c(0x7dc)?-0x1:0x1;if(_0x159688>_0x17435c)return quizLeaderboardSortOrder===_0x4bb56c(0x7dc)?0x1:-0x1;return 0x0;});const _0x6f1d05=_0x5b7670[_0x995224(0x7e6)]===!![],_0x18075b=_0x5b7670[_0x995224(0x54d)]?.[_0x995224(0x40b)]??-0x1;let _0x16006d='';_0x2dcc95[_0x995224(0xc4c)]((_0x5d63cd,_0x36701b)=>{const _0x27d3a8=_0x995224,_0x24df32=_0x36701b+0x1;let _0x14f930=_0x27d3a8(0x879);if(_0x6f1d05||_0x18075b!==-0x1){let _0x30a9de=_0x6f1d05?_0x5d63cd[_0x27d3a8(0x36a)]===_0x275375:_0x5d63cd[_0x27d3a8(0x36a)]>=_0x18075b;const _0x381b57=_0x30a9de?_0x27d3a8(0xb9a):_0x27d3a8(0xdab),_0x2bc1b8=_0x30a9de?'ผ่าน':_0x27d3a8(0x72e);_0x14f930=_0x27d3a8(0x9df)+_0x381b57+'\x22>'+_0x2bc1b8+_0x27d3a8(0x40e);}const _0x556e29=_0x5d63cd[_0x27d3a8(0xc38)][_0x5d63cd[_0x27d3a8(0xc38)][_0x27d3a8(0xdf3)]-0x1],_0x5f35be=(_0x556e29['badges']||[])['map'](_0x1280a4=>{const _0x54e749=_0x27d3a8,_0x36eb3a=Object[_0x54e749(0xb0c)](BADGES)[_0x54e749(0x60d)](_0x2fe53d=>_0x2fe53d['id']===_0x1280a4);return _0x36eb3a?_0x54e749(0x8b7)+_0x36eb3a['name']+_0x54e749(0x72a)+_0x36eb3a[_0x54e749(0x795)]+_0x54e749(0x3a7):'';})[_0x27d3a8(0x909)]('');_0x16006d+=_0x27d3a8(0x9da)+_0x24df32+_0x27d3a8(0x8f6)+_0x5d63cd['studentName']+_0x27d3a8(0x6d9)+_0x5d63cd[_0x27d3a8(0x36a)]+_0x27d3a8(0x805)+_0x275375+_0x27d3a8(0x517)+_0x14f930+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x5d63cd[_0x27d3a8(0xa55)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3e7efe?'':_0x27d3a8(0xd9b)+(_0x5d63cd[_0x27d3a8(0xc38)]?.[_0x27d3a8(0xdf3)]||0x1)+'</td>')+_0x27d3a8(0x448)+(_0x3e7efe?'':_0x27d3a8(0xd7c)+new Date(_0x5d63cd[_0x27d3a8(0xadb)])['toLocaleString'](_0x27d3a8(0x2f7))+_0x27d3a8(0xc4d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5f35be||'-')+_0x27d3a8(0x6f6);}),_0x7a5630[_0x995224(0xb90)]=_0x16006d,_0x1b35c3&&!_0x3e7efe&&_0x1b35c3['querySelectorAll'](_0x995224(0x9d5))[_0x995224(0xc4c)](_0x33b7c0=>{const _0x3a430f=_0x995224,_0x2c50b9=_0x33b7c0[_0x3a430f(0xdde)]('.sort-indicator');if(_0x2c50b9)_0x2c50b9[_0x3a430f(0x7a8)]();_0x33b7c0[_0x3a430f(0x71a)][_0x3a430f(0x846)]===quizLeaderboardSortBy&&(_0x33b7c0[_0x3a430f(0xb90)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x3a430f(0x7dc)?'▲':'▼')+_0x3a430f(0x1ee));});}async function handleDeleteSubmission(_0x24535b){const _0x2b3588=_0x47050f;if(!currentQuizData||!currentQuizData['id']||!_0x24535b){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x2b3588(0x489)+_0x24535b+_0x2b3588(0x274),async()=>{const _0x271d1c=_0x2b3588,_0x39572f=currentQuizData['id'],_0x30da15=doc(db,_0x271d1c(0x4cd)+appId+_0x271d1c(0x832)+_0x39572f+_0x271d1c(0xcc1),_0x24535b);try{await deleteDoc(_0x30da15),showMessage(_0x271d1c(0x7eb)+_0x24535b+_0x271d1c(0xa95));}catch(_0x4b7c6a){console['error'](_0x271d1c(0x2fb),_0x4b7c6a),showMessage(_0x271d1c(0xbdf));}});}async function handleLoadQuiz(){const _0x2db90e=_0x47050f,_0x2ad255=document[_0x2db90e(0x70b)](_0x2db90e(0xe82)),_0x44e5a4=_0x2ad255[_0x2db90e(0xd95)][_0x2db90e(0x28f)]();if(!_0x44e5a4){showMessage(_0x2db90e(0x8c7));return;}loadQuizBtn[_0x2db90e(0x9b6)]=!![],loadQuizBtn['innerHTML']=_0x2db90e(0x29b);try{const _0x5afc3e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x44e5a4),_0xbecb53=await getDoc(_0x5afc3e);if(!_0xbecb53[_0x2db90e(0x7ed)]()){showMessage(_0x2db90e(0xb0d));return;}currentQuizData={'id':_0xbecb53['id'],..._0xbecb53[_0x2db90e(0x54c)]()};const _0x44b095=currentQuizData['status']||'active',_0x24b69e=new Date();if(_0x44b095===_0x2db90e(0x96c)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x44b095===_0x2db90e(0xd85)){const _0x57212c=currentQuizData[_0x2db90e(0x8fd)]?new Date(currentQuizData[_0x2db90e(0x8fd)]):null,_0x571ca6=currentQuizData[_0x2db90e(0xace)]?new Date(currentQuizData['endTime']):null;if(_0x57212c&&_0x24b69e<_0x57212c){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x57212c[_0x2db90e(0x57a)](_0x2db90e(0x2f7),{'hour12':![]}));return;}if(_0x571ca6&&_0x24b69e>_0x571ca6){showMessage(_0x2db90e(0xa00));return;}}const _0x39d647=currentQuizData[_0x2db90e(0x28c)];currentProjectId=_0x39d647;const _0x56e465=doc(db,_0x2db90e(0x4cd)+appId+_0x2db90e(0x28e),_0x39d647),_0x7935c9=await getDoc(_0x56e465);if(!_0x7935c9['exists']()){showMessage(_0x2db90e(0xc63));return;}const _0x2ccf59=_0x7935c9[_0x2db90e(0x54c)]();currentStudentProjectData=_0x2ccf59,displayStudentNameSelector(_0x2ccf59[_0x2db90e(0xa70)],currentQuizData[_0x2db90e(0x6d2)]);}catch(_0x1e7909){console['error'](_0x2db90e(0xe41),_0x1e7909),showMessage(_0x2db90e(0x1ad));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x2db90e(0xb90)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x85429,_0x2c87f6){const _0x5ab6c1=_0x47050f;if(!currentQuizData||!currentQuizData['id'])return;const _0x38b54d=currentQuizData['id'],_0x3b0c7c=doc(db,_0x5ab6c1(0x4cd)+appId+'/public/data/quizzes/'+_0x38b54d+_0x5ab6c1(0xcc1),_0x85429);try{const _0xf838c9=await getDoc(_0x3b0c7c);if(!_0xf838c9['exists']())return;const _0x1fd0c2=_0xf838c9[_0x5ab6c1(0x54c)](),_0x5be106=_0x1fd0c2['attempts']||[];_0x5be106[_0x5ab6c1(0xdf3)]>0x0&&(_0x5be106[_0x5be106[_0x5ab6c1(0xdf3)]-0x1][_0x5ab6c1(0xa55)]=_0x2c87f6,_0x5be106[_0x5be106[_0x5ab6c1(0xdf3)]-0x1][_0x5ab6c1(0xcc7)]=!![]),await updateDoc(_0x3b0c7c,{'points':_0x2c87f6,'attempts':_0x5be106}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x85429),showMessage(_0x5ab6c1(0x8f9)+_0x85429+_0x5ab6c1(0x662)+_0x2c87f6+_0x5ab6c1(0x1f3));}catch(_0x323d5e){console[_0x5ab6c1(0x8c2)](_0x5ab6c1(0x541),_0x323d5e),showMessage(_0x5ab6c1(0x2ac));}}async function handleJoinLiveGame(){const _0x35ddf4=_0x47050f,_0x138f6a=document['getElementById'](_0x35ddf4(0x3eb)),_0x49c80c=document[_0x35ddf4(0x70b)]('nickname-input'),_0x51fc6a=document[_0x35ddf4(0x70b)]('confirm-join-game-btn'),_0x5f1247=_0x138f6a[_0x35ddf4(0xd95)]['trim'](),_0x52861e=_0x49c80c['value'][_0x35ddf4(0x28f)]();if(!_0x5f1247||!_0x52861e){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x51fc6a[_0x35ddf4(0x9b6)]=!![],_0x51fc6a[_0x35ddf4(0xb90)]=_0x35ddf4(0xd45);try{const _0x13768f=collection(db,_0x35ddf4(0x4cd)+appId+_0x35ddf4(0x54b)),_0x197851=query(_0x13768f,where(_0x35ddf4(0x71d),'==',_0x5f1247),where(_0x35ddf4(0xbd3),'in',[_0x35ddf4(0x673),_0x35ddf4(0x9ea)])),_0x21e57f=await getDocs(_0x197851);if(_0x21e57f[_0x35ddf4(0xd46)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x4705e4=_0x21e57f['docs'][0x0],_0x1a2668=_0x4705e4[_0x35ddf4(0x54c)]();currentLiveGameId=_0x4705e4['id'];const _0x381ba7=_0x1a2668['quizId'],_0x4baecd=doc(db,_0x35ddf4(0x4cd)+appId+_0x35ddf4(0x4fc),_0x381ba7),_0x7aaad8=await getDoc(_0x4baecd);if(!_0x7aaad8[_0x35ddf4(0x7ed)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x7aaad8['id'],..._0x7aaad8[_0x35ddf4(0x54c)]()};if(_0x1a2668['players']&&_0x1a2668[_0x35ddf4(0x2ae)][_0x52861e]){const _0x125d9e=_0x1a2668[_0x35ddf4(0x2ae)][_0x52861e];if(_0x125d9e[_0x35ddf4(0xbd3)]===_0x35ddf4(0x96c)){_0x51fc6a[_0x35ddf4(0xb90)]=_0x35ddf4(0x3d3);const _0x415fcd={};_0x415fcd[_0x35ddf4(0xdc2)+_0x52861e+_0x35ddf4(0xcc4)]=_0x35ddf4(0x294),await updateDoc(doc(db,_0x35ddf4(0x4cd)+appId+_0x35ddf4(0x54b),currentLiveGameId),_0x415fcd),showView(_0x35ddf4(0x1e1)),currentStudentName=_0x52861e,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x1a2668[_0x35ddf4(0xbd3)]!==_0x35ddf4(0x673)){showMessage(_0x35ddf4(0xcfe));return;}_0x51fc6a['innerHTML']=_0x35ddf4(0x184);const _0xd46827={};_0xd46827[_0x35ddf4(0xdc2)+_0x52861e]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,'artifacts/'+appId+_0x35ddf4(0x54b),currentLiveGameId),_0xd46827),currentStudentName=_0x52861e,listenForLiveGameUpdates();}catch(_0x21f752){console[_0x35ddf4(0x8c2)]('Error\x20joining\x20live\x20game:',_0x21f752),showMessage(_0x35ddf4(0x644));}finally{_0x51fc6a[_0x35ddf4(0x9b6)]=![],_0x51fc6a[_0x35ddf4(0xb90)]=_0x35ddf4(0x2db);}}function displayStudentNameSelector(_0x47dc1f,_0x54b938){const _0x32872e=_0x47050f,_0x1a9a26=document['getElementById'](_0x32872e(0x4d9));document[_0x32872e(0x70b)](_0x32872e(0xcdd))[_0x32872e(0xc66)]=_0x32872e(0x324)+_0x54b938,!_0x47dc1f||_0x47dc1f[_0x32872e(0xdf3)]===0x0?(_0x1a9a26[_0x32872e(0xb90)]=_0x32872e(0xd74),startQuizBtn['disabled']=!![]):(_0x1a9a26['innerHTML']=_0x32872e(0x352),_0x47dc1f[_0x32872e(0xc4c)](_0x439089=>{const _0x2c404f=_0x32872e,_0x4b385d=document[_0x2c404f(0x656)](_0x2c404f(0x826));_0x4b385d[_0x2c404f(0xd95)]=_0x439089,_0x4b385d['textContent']=_0x439089,_0x1a9a26[_0x2c404f(0xb08)](_0x4b385d);}),startQuizBtn[_0x32872e(0x9b6)]=![]),studentInitialView[_0x32872e(0x9cc)][_0x32872e(0x505)]('hidden'),studentNameSelectionView['classList'][_0x32872e(0x7a8)](_0x32872e(0xbce));}function shuffleArray(_0x15bb92){const _0x184ec0=_0x47050f;for(let _0x5e59a1=_0x15bb92[_0x184ec0(0xdf3)]-0x1;_0x5e59a1>0x0;_0x5e59a1--){const _0xb8366e=Math['floor'](Math['random']()*(_0x5e59a1+0x1));[_0x15bb92[_0x5e59a1],_0x15bb92[_0xb8366e]]=[_0x15bb92[_0xb8366e],_0x15bb92[_0x5e59a1]];}}function getShuffledQuiz(_0x196d6b){const _0x1fcdb9=_0x47050f;let _0x50956b=JSON['parse'](JSON['stringify'](_0x196d6b));const _0xaa497f=_0x50956b['settings']?.[_0x1fcdb9(0x36d)]||'none';if(_0xaa497f===_0x1fcdb9(0x9b8))return _0x50956b;return(_0xaa497f==='questions_only'||_0xaa497f===_0x1fcdb9(0x6f8))&&shuffleArray(_0x50956b[_0x1fcdb9(0xbd5)]),(_0xaa497f==='choices_only'||_0xaa497f===_0x1fcdb9(0x6f8))&&_0x50956b['questions']['forEach'](_0x334fd1=>{const _0x38ca03=_0x1fcdb9,_0x20b2e4=_0x334fd1['questionType']||_0x50956b[_0x38ca03(0x190)];if(_0x334fd1[_0x38ca03(0x9d8)]){let _0x262949=_0x334fd1[_0x38ca03(0x9d8)][_0x38ca03(0x3cc)]((_0x1df21f,_0x306b6e)=>({'text':_0x1df21f,'isCorrect':_0x306b6e===_0x334fd1[_0x38ca03(0xcd9)]}));shuffleArray(_0x262949),_0x334fd1[_0x38ca03(0x9d8)]=_0x262949[_0x38ca03(0x3cc)](_0x43ba8f=>_0x43ba8f[_0x38ca03(0x7fd)]),_0x334fd1[_0x38ca03(0xcd9)]=_0x262949[_0x38ca03(0x322)](_0x3b2fa2=>_0x3b2fa2['isCorrect']);}_0x20b2e4===_0x38ca03(0x6b7)&&_0x334fd1[_0x38ca03(0x4b6)]&&shuffleArray(_0x334fd1[_0x38ca03(0x4b6)]);}),_0x50956b;}function displayQuizForStudent(_0x5c2647){const _0x4a7b31=_0x47050f;studentQuizArea[_0x4a7b31(0x9cc)][_0x4a7b31(0x7a8)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x5c2647);currentMode!==_0x4a7b31(0x200)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x4a7b31(0x6c9),handleFullscreenChange),document[_0x4a7b31(0x86d)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x4a7b31(0x86d)](_0x4a7b31(0xc93),resetDimTimer),window[_0x4a7b31(0x86d)](_0x4a7b31(0x5ad),resetDimTimer),window[_0x4a7b31(0x86d)](_0x4a7b31(0x68e),resetDimTimer),window[_0x4a7b31(0x86d)](_0x4a7b31(0x7d2),resetDimTimer),resetDimTimer());const _0x43e555=currentDisplayedQuiz[_0x4a7b31(0x54d)]?.[_0x4a7b31(0x397)]||_0x4a7b31(0x9b8);if(_0x43e555===_0x4a7b31(0xd70))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4a7b31(0x54d)]['timerDuration']);else _0x43e555===_0x4a7b31(0x952)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x3c1e2d=_0x47050f,_0xbe8772=currentDisplayedQuiz[_0x3c1e2d(0x54d)]?.[_0x3c1e2d(0xb00)]===!![],_0x34df6e=currentDisplayedQuiz['settings']?.[_0x3c1e2d(0x3e2)]||_0x3c1e2d(0x3bc);let _0x5f2b77=_0x3c1e2d(0xa5a)+currentDisplayedQuiz[_0x3c1e2d(0x6d2)]+_0x3c1e2d(0xb62)+(currentMode===_0x3c1e2d(0x200)?_0x3c1e2d(0x5c1):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x3c1e2d(0xbd5)]['forEach']((_0x1c1531,_0x247401)=>{const _0x41a1f4=_0x3c1e2d,_0x4433d7=_0x1c1531[_0x41a1f4(0xa39)]||currentDisplayedQuiz[_0x41a1f4(0x190)];_0x5f2b77+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x4433d7==='matching_item'){}else _0x5f2b77+=_0x41a1f4(0xdd3)+(_0x247401+0x1)+'.\x20'+(_0x1c1531[_0x41a1f4(0x74c)]||_0x1c1531['questionText'])+_0x41a1f4(0xb29),_0x1c1531[_0x41a1f4(0xbb4)]&&(_0x5f2b77+=_0x41a1f4(0xa92)+_0x1c1531['imageCode']+_0x41a1f4(0xad2));_0x5f2b77+=_0x41a1f4(0xe32);switch(_0x4433d7){case _0x41a1f4(0x76f):_0x5f2b77+=_0x41a1f4(0xe50)+_0x247401+_0x41a1f4(0xe38);break;case _0x41a1f4(0x92d):_0x5f2b77+=_0x41a1f4(0x55b)+_0x247401+'_opt0\x22\x20name=\x22question'+_0x247401+_0x41a1f4(0x791)+_0x247401+'_opt0\x22>ใช่</label></div>',_0x5f2b77+=_0x41a1f4(0x55b)+_0x247401+_0x41a1f4(0x2a2)+_0x247401+_0x41a1f4(0xbfb)+_0x247401+_0x41a1f4(0x8d1);break;case _0x41a1f4(0x6b7):_0x5f2b77+=_0x41a1f4(0xdc4)+_0x1c1531[_0x41a1f4(0x93d)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x247401+_0x41a1f4(0x714)+_0x1c1531[_0x41a1f4(0x4b6)][_0x41a1f4(0x3cc)](_0x115e5e=>_0x41a1f4(0x70f)+_0x115e5e+'\x22>'+_0x115e5e+_0x41a1f4(0xe8f))[_0x41a1f4(0x909)]('')+_0x41a1f4(0x3c0);break;default:_0x5f2b77+=_0x1c1531['options'][_0x41a1f4(0x3cc)]((_0x4ff6bf,_0x21fdd7)=>_0x41a1f4(0xca8)+_0x247401+_0x41a1f4(0x720)+_0x21fdd7+_0x41a1f4(0x371)+_0x247401+_0x41a1f4(0xc3e)+_0x21fdd7+_0x41a1f4(0xd7d)+_0x247401+'_opt'+_0x21fdd7+'\x22>'+_0x4ff6bf+_0x41a1f4(0xe01))['join']('');break;}_0x5f2b77+='</div>',_0xbe8772&&(_0x5f2b77+=_0x41a1f4(0xc7f),_0x34df6e==='mandatory'?_0x5f2b77+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x247401+_0x41a1f4(0xd5b)+_0x247401+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x247401+_0x41a1f4(0x1e6)+_0x247401+_0x41a1f4(0x540):_0x5f2b77+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x247401+'\x22\x20name=\x22confidence'+_0x247401+_0x41a1f4(0x441)+_0x247401+_0x41a1f4(0x6e2),_0x5f2b77+='</div>'),_0x5f2b77+='</div>';}),_0x5f2b77+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x5f2b77+='</form>',studentQuizArea[_0x3c1e2d(0xb90)]=_0x5f2b77;if(currentMode===_0x3c1e2d(0x200)){const _0x429d66=document['getElementById'](_0x3c1e2d(0xb9d));if(_0x429d66)_0x429d66['addEventListener'](_0x3c1e2d(0x9a8),cancelAdminTest);}const _0x27cada=document[_0x3c1e2d(0x70b)](_0x3c1e2d(0x97d));_0x27cada&&(_0x27cada['addEventListener'](_0x3c1e2d(0x543),handleSubmitQuiz),_0x27cada[_0x3c1e2d(0x86d)](_0x3c1e2d(0x9a8),_0x3c12b8=>{const _0x358cc3=_0x3c1e2d;if(_0x3c12b8[_0x358cc3(0x1c8)][_0x358cc3(0x9cc)][_0x358cc3(0x2bc)](_0x358cc3(0x6ab))){const _0x415b83=_0x3c12b8[_0x358cc3(0x1c8)],_0x6a476f=_0x415b83[_0x358cc3(0x71a)][_0x358cc3(0x33c)],_0x2b61b0=_0x415b83[_0x358cc3(0x71a)]['value'];document['getElementById'](_0x358cc3(0x34b)+_0x6a476f)[_0x358cc3(0xd95)]=_0x2b61b0;const _0x27fd8c=_0x415b83['parentElement'];_0x27fd8c[_0x358cc3(0x8fc)]('.confidence-choice-btn')['forEach'](_0xbd7011=>_0xbd7011[_0x358cc3(0x9cc)][_0x358cc3(0x7a8)](_0x358cc3(0x294))),_0x415b83['classList'][_0x358cc3(0x505)]('active');}}));if(window[_0x3c1e2d(0x2ab)])window[_0x3c1e2d(0x2ab)][_0x3c1e2d(0xb85)]([studentQuizArea]);}async function handleSubmitQuiz(_0x53ece9){const _0x4107a5=_0x47050f;if(_0x53ece9)_0x53ece9[_0x4107a5(0x95b)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x369244=document[_0x4107a5(0x70b)](_0x4107a5(0x97d));if(!_0x369244)return;const _0x2c8b5f=currentDisplayedQuiz[_0x4107a5(0x54d)]?.[_0x4107a5(0xb00)]===!![],_0x5dfd3a=currentDisplayedQuiz[_0x4107a5(0x54d)]?.['confidenceMode']||'checkbox';if(_0x2c8b5f&&_0x5dfd3a==='mandatory'){let _0x184316=!![];for(let _0x536aa7=0x0;_0x536aa7<currentDisplayedQuiz[_0x4107a5(0xbd5)]['length'];_0x536aa7++){const _0x10213a=_0x369244[_0x4107a5(0xdde)]('#confidence-input-'+_0x536aa7);if(!_0x10213a||_0x10213a[_0x4107a5(0xd95)]===''){_0x184316=![];break;}}if(!_0x184316){showMessage(_0x4107a5(0x455));return;}}const _0x562a74=_0x369244['querySelector']('button[type=\x22submit\x22]'),_0x20fa3a=currentDisplayedQuiz['questions'][_0x4107a5(0xcc9)](_0x358f1d=>_0x358f1d[_0x4107a5(0xa39)]===_0x4107a5(0x76f));_0x562a74&&(_0x562a74[_0x4107a5(0x9b6)]=!![],_0x562a74[_0x4107a5(0xb90)]=_0x20fa3a?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x4107a5(0xdcd));const _0x358c60=new FormData(_0x369244),_0x2b9f59=currentDisplayedQuiz[_0x4107a5(0xbd5)]['map']((_0x202a99,_0x566e50)=>{const _0x38fa1=_0x4107a5,_0x193e9a=_0x358c60[_0x38fa1(0x7a6)](_0x38fa1(0x9ea)+_0x566e50);let _0x28ed64;_0x5dfd3a===_0x38fa1(0x647)?_0x28ed64=_0x358c60[_0x38fa1(0x7a6)](_0x38fa1(0xe72)+_0x566e50):_0x28ed64=_0x358c60[_0x38fa1(0x7a6)]('confidence'+_0x566e50)==='on';let _0x2ab24b=null;if(_0x193e9a!==null&&_0x193e9a!==undefined){const _0x2165e1=_0x202a99['questionType']||currentDisplayedQuiz[_0x38fa1(0x190)];_0x2165e1==='multiple_choice'||_0x2165e1==='fill_in_the_blank'?_0x2ab24b=parseInt(_0x193e9a):_0x2ab24b=_0x193e9a;}return{'answer':_0x2ab24b,'wasConfident':_0x28ed64};}),_0xe9205d=currentQuizData['id'],_0x11384e=doc(db,_0x4107a5(0x4cd)+appId+_0x4107a5(0x832)+_0xe9205d+_0x4107a5(0xcc1),currentStudentName),_0xd0cc1c=await getDoc(_0x11384e),_0x2d1adf=_0xd0cc1c['exists']()?_0xd0cc1c[_0x4107a5(0x54c)]():{},_0x235126=_0x2d1adf[_0x4107a5(0xc38)]||[];await processAndSubmitAnswers(_0x2b9f59,_0x235126);}async function gradeShortAnswerWithAI(_0x448b5f,_0x12beec){const _0x2de1a9=_0x47050f;if(!_0x448b5f||!_0x12beec)return![];try{const _0x35f86f=_0x2de1a9(0x64a)+_0x448b5f+_0x2de1a9(0x8c8)+_0x12beec+_0x2de1a9(0x828),_0x23b161={'contents':[{'role':_0x2de1a9(0x65b),'parts':[{'text':_0x35f86f}]}]},_0x48e39b=_0x2de1a9(0xe97),_0xab44ce=_0x2de1a9(0xc29)+_0x48e39b,_0x37a653=await fetch(_0xab44ce,{'method':_0x2de1a9(0xe93),'headers':{'Content-Type':_0x2de1a9(0x963)},'body':JSON['stringify'](_0x23b161)});if(!_0x37a653['ok'])throw new Error(_0x2de1a9(0x66d));const _0x4bb1e2=await _0x37a653['json'](),_0x55af62=_0x4bb1e2[_0x2de1a9(0xc9f)][0x0][_0x2de1a9(0xe6d)]['parts'][0x0][_0x2de1a9(0x7fd)]['trim']()[_0x2de1a9(0xcab)]();return _0x55af62===_0x2de1a9(0xadf);}catch(_0x3968b8){return console[_0x2de1a9(0x8c2)](_0x2de1a9(0x58f),_0x3968b8),![];}}async function processAndSubmitAnswers(_0x58c196,_0x52d92d){const _0x38cfd8=_0x47050f;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x38cfd8(0x64c)](_0x38cfd8(0x6c9),handleFullscreenChange),document[_0x38cfd8(0x64c)]('visibilitychange',handleVisibilityChange);let _0x526a54=0x0;const _0x33d819=[],_0x373326=currentDisplayedQuiz['questions'][_0x38cfd8(0xdf3)];let _0x45260b=0x0,_0x1b8b05=[];const _0x377dd0=currentDisplayedQuiz[_0x38cfd8(0xbd5)];for(let _0x2fc331=0x0;_0x2fc331<_0x377dd0[_0x38cfd8(0xdf3)];_0x2fc331++){const _0x405420=_0x377dd0[_0x2fc331],_0x3ab010=_0x58c196[_0x2fc331],_0x9f5583=_0x3ab010?_0x3ab010['answer']:null,_0x52899d=_0x3ab010?_0x3ab010[_0x38cfd8(0x313)]:null;let _0x2bf171=![],_0x2ff1ad=0x0;if(_0x9f5583!==null&&_0x9f5583!==''){const _0x579c30=_0x405420['questionType']||currentDisplayedQuiz['quizType'];switch(_0x579c30){case'matching_item':_0x2bf171=_0x9f5583===_0x405420[_0x38cfd8(0xc74)];break;case _0x38cfd8(0x92d):const _0x55b7f5=_0x9f5583===!![]||_0x9f5583===_0x38cfd8(0xadf);_0x2bf171=_0x55b7f5===_0x405420[_0x38cfd8(0x75d)];break;case'short_answer':_0x2bf171=await gradeShortAnswer(_0x9f5583,_0x405420);break;case'multiple_choice':default:_0x2bf171=Number(_0x9f5583)===_0x405420['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.[_0x38cfd8(0xb00)]){const _0x471a80=_0x3ab010?_0x3ab010[_0x38cfd8(0x313)]:null;if(_0x2bf171&&(_0x471a80===!![]||_0x471a80==='confident'))_0x2ff1ad=0x2;else{if(_0x2bf171)_0x2ff1ad=0x1;else{if(!_0x2bf171&&(_0x471a80===![]||_0x471a80===_0x38cfd8(0x96f)||_0x471a80===null))_0x2ff1ad=0x0;else!_0x2bf171&&(_0x471a80===!![]||_0x471a80==='confident')&&(_0x2ff1ad=-0x1);}}}else _0x2ff1ad=_0x2bf171?0x1:0x0;_0x526a54+=_0x2ff1ad;if(_0x2bf171){_0x45260b++;if(_0x45260b===0x3)_0x1b8b05[_0x38cfd8(0x49c)](BADGES[_0x38cfd8(0xa2d)]['id']);}else _0x45260b=0x0;let _0x198e48=null;_0x405420['options']&&_0x9f5583!==null&&(_0x198e48=_0x405420['options'][_0x9f5583]),_0x33d819['push']({'questionId':_0x405420['id'],'answer':_0x9f5583,'answerText':_0x198e48,'isCorrect':_0x2bf171,'wasConfident':_0x52899d,'pointsAwarded':_0x2ff1ad,'originalQuestionText':_0x405420[_0x38cfd8(0x93d)]||_0x405420[_0x38cfd8(0xc25)]});}const _0x1e9680=_0x33d819[_0x38cfd8(0xc87)](_0x48c979=>_0x48c979[_0x38cfd8(0x985)])[_0x38cfd8(0xdf3)],_0x291b14=currentDisplayedQuiz[_0x38cfd8(0x54d)]?.['passingScore']??Math[_0x38cfd8(0x3ee)](_0x373326/0x2);_0x1e9680===_0x373326&&_0x373326>0x0&&!currentDisplayedQuiz[_0x38cfd8(0x7e6)]&&_0x1b8b05[_0x38cfd8(0x49c)](BADGES[_0x38cfd8(0xe3b)]['id']);const _0x3b7785=currentDisplayedQuiz[_0x38cfd8(0x54d)]?.['timerMode'];if(_0x3b7785===_0x38cfd8(0xd70)&&quizStartTime){const _0x6fb4b=(new Date()-quizStartTime)/0x3e8,_0x3f18f0=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x1e9680>=_0x291b14&&_0x6fb4b<_0x3f18f0/0x2&&_0x1b8b05[_0x38cfd8(0x49c)](BADGES[_0x38cfd8(0x179)]['id']);}_0x52d92d[_0x38cfd8(0xdf3)]===0x0&&_0x1e9680===_0x373326&&_0x373326>0x0&&_0x1b8b05['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x52d92d['length']>0x0){const _0x2278ae=_0x52d92d[0x0][_0x38cfd8(0x6e9)];if(_0x2278ae<_0x291b14&&_0x1e9680>=_0x291b14){const _0x273b33=_0x52d92d[_0x38cfd8(0xcc9)](_0x292281=>(_0x292281[_0x38cfd8(0x993)]||[])[_0x38cfd8(0x7f1)](BADGES[_0x38cfd8(0x90a)]['id']));!_0x273b33&&_0x1b8b05['push'](BADGES[_0x38cfd8(0x90a)]['id']);}}_0x52d92d[_0x38cfd8(0xdf3)]===0x4&&_0x1b8b05[_0x38cfd8(0x49c)](BADGES[_0x38cfd8(0x46f)]['id']);const _0x4bb9f5=currentDisplayedQuiz[_0x38cfd8(0x54d)][_0x38cfd8(0xa0d)];if(currentMode==='admin-testing'){handleResultDisplay(_0x4bb9f5,_0x1e9680,_0x526a54,_0x1b8b05,_0x33d819,_0x373326);return;}const _0x843290=currentQuizData['id'],_0x4b8494=doc(db,'artifacts/'+appId+_0x38cfd8(0x832)+_0x843290+_0x38cfd8(0xcc1),currentStudentName);try{const _0x14de87=[..._0x52d92d],_0x29aed8={'score':_0x1e9680,'points':_0x526a54,'badges':Array[_0x38cfd8(0x2d0)](new Set(_0x1b8b05)),'submittedAt':new Date()['toISOString'](),'answers':_0x33d819};_0x14de87[_0x38cfd8(0x49c)](_0x29aed8);const _0x2d861=_0x52d92d[_0x38cfd8(0xdf3)]===0x0?_0x1e9680:_0x52d92d[0x0][_0x38cfd8(0x6e9)]||0x0,_0x31a7a1=Math[_0x38cfd8(0xd2c)](..._0x14de87[_0x38cfd8(0x3cc)](_0x1f436a=>_0x1f436a['score']));await setDoc(_0x4b8494,{'studentName':currentStudentName,'totalQuestions':_0x373326,'attempts':_0x14de87,'firstScore':_0x2d861,'bestScore':_0x31a7a1,'latestScore':_0x1e9680,'points':_0x526a54,'latestSubmittedAt':_0x29aed8['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x38cfd8(0x28c)],currentStudentName),handleResultDisplay(_0x4bb9f5,_0x1e9680,_0x526a54,_0x1b8b05,_0x33d819,_0x373326);}catch(_0x2a84d9){console[_0x38cfd8(0x8c2)]('Error\x20saving\x20submission:',_0x2a84d9),showMessage(_0x38cfd8(0x984));}}async function updateStudentProfile(_0x2208ea,_0x30ace8){const _0x437b85=_0x47050f,_0x4b4151=doc(db,_0x437b85(0x4cd)+appId+_0x437b85(0x400)+_0x2208ea+_0x437b85(0xe5b),_0x30ace8);try{const _0x35b198=query(collection(db,_0x437b85(0x4cd)+appId+_0x437b85(0x4fc)),where(_0x437b85(0x28c),'==',_0x2208ea)),_0x5e815e=await getDocs(_0x35b198),_0x1a1387=new Map(_0x5e815e[_0x437b85(0x26e)]['map'](_0x33c50a=>[_0x33c50a['id'],_0x33c50a[_0x437b85(0x54c)]()])),_0x14594d=Array[_0x437b85(0x2d0)](_0x1a1387[_0x437b85(0x5d7)]());await runTransaction(db,async _0x38cd16=>{const _0xca3c9c=_0x437b85;let _0x5c6137=0x0;const _0x3e000b={};let _0x398a6f=!![],_0x2cb892=0x0,_0x2567af=0x0;for(const _0x5b45b1 of _0x14594d){const _0x4725b=_0x1a1387[_0xca3c9c(0x7a6)](_0x5b45b1),_0x6a8af7=doc(db,_0xca3c9c(0x4cd)+appId+'/public/data/quizzes/'+_0x5b45b1+_0xca3c9c(0xcc1),_0x30ace8),_0x594d99=await _0x38cd16[_0xca3c9c(0x7a6)](_0x6a8af7);if(_0x594d99[_0xca3c9c(0x7ed)]()){const _0x6594e0=_0x594d99[_0xca3c9c(0x54c)](),_0x358f98=_0x6594e0[_0xca3c9c(0xc38)]||[];if(_0x358f98[_0xca3c9c(0xdf3)]>0x0){const _0x572f74=_0x358f98[_0xca3c9c(0x3cf)]((_0x1704f7,_0x56c0a9)=>{const _0x38d233=_0xca3c9c;if(_0x56c0a9[_0x38d233(0x6e9)]>_0x1704f7[_0x38d233(0x6e9)])return _0x56c0a9;if(_0x56c0a9[_0x38d233(0x6e9)]===_0x1704f7[_0x38d233(0x6e9)])return(_0x56c0a9[_0x38d233(0xa55)]||0x0)>(_0x1704f7['points']||0x0)?_0x56c0a9:_0x1704f7;return _0x1704f7;},{'score':-0x1,'points':-0x1});_0x572f74[_0xca3c9c(0x6e9)]>-0x1&&(_0x5c6137+=_0x572f74['points']||0x0,(_0x572f74[_0xca3c9c(0x993)]||[])[_0xca3c9c(0xc4c)](_0x49457e=>{_0x3e000b[_0x49457e]=(_0x3e000b[_0x49457e]||0x0)+0x1;}));}}if(_0x4725b[_0xca3c9c(0x6d2)]!==_0xca3c9c(0xdb3)){_0x2567af++;if(_0x594d99['exists']()){_0x2cb892++;const _0x171296=_0x594d99['data']();_0x171296[_0xca3c9c(0x36a)]!==_0x171296['totalQuestions']&&(_0x398a6f=![]);}else _0x398a6f=![];}}_0x2567af>0x0&&_0x2cb892===_0x2567af&&_0x398a6f?_0x3e000b[_0xca3c9c(0xda4)]=0x1:_0x3e000b['specialist']=0x0,_0x38cd16[_0xca3c9c(0x5c3)](_0x4b4151,{'studentName':_0x30ace8,'totalPoints':_0x5c6137,'unlockedBadges':Object['keys'](_0x3e000b)[_0xca3c9c(0xc87)](_0x223f30=>_0x3e000b[_0x223f30]>0x0),'badgesCount':_0x3e000b},{'merge':!![]});});}catch(_0x58de15){console[_0x437b85(0x8c2)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x58de15),showMessage(_0x437b85(0x691));}}function startAdminTest(){const _0x462bf3=_0x47050f;if(!currentQuizData){showMessage(_0x462bf3(0x840));return;}let _0x2471d0=JSON[_0x462bf3(0xcd4)](JSON[_0x462bf3(0xcfa)](currentQuizData));currentMode=_0x462bf3(0x200),currentStudentName=_0x462bf3(0x973),adminView[_0x462bf3(0x9cc)][_0x462bf3(0x505)](_0x462bf3(0xbce)),studentView[_0x462bf3(0x9cc)][_0x462bf3(0x7a8)](_0x462bf3(0xbce)),studentInitialView[_0x462bf3(0x9cc)][_0x462bf3(0x505)]('hidden'),studentNameSelectionView[_0x462bf3(0x9cc)][_0x462bf3(0x505)](_0x462bf3(0xbce)),studentResultArea['classList'][_0x462bf3(0x505)](_0x462bf3(0xbce)),studentQuizArea['classList'][_0x462bf3(0x7a8)](_0x462bf3(0xbce)),quizStartTime=new Date(),displayQuizForStudent(_0x2471d0);}function handleResultDisplay(_0x311557,_0x219696,_0x41dc79,_0x2db572,_0x41d597,_0x3789b6){const _0x570795=_0x47050f;if(_0x311557==='manual_release'){displaySubmissionConfirmation();return;}const _0x5de48f=currentDisplayedQuiz[_0x570795(0x54d)]?.[_0x570795(0x40b)]??Math[_0x570795(0x3ee)](_0x3789b6/0x2),_0x37d68d=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0xc126e6=currentDisplayedQuiz['settings']?.['loopUntilPass']===!![],_0x279e99=_0x219696<_0x5de48f,_0x346317=_0x311557==='half_mark_status'||_0x311557===_0x570795(0x48e);if(_0xc126e6&&_0x279e99&&!_0x346317){_0x311557===_0x570795(0x19c)?displayResultsWithAnswers(_0x219696,_0x41dc79,_0x2db572,_0x41d597,_0x3789b6,!![]):displayLoopScreen(_0x219696,_0x3789b6,_0x311557);return;}if(_0x37d68d&&_0x279e99){startAdaptiveFlow(_0x41d597,_0x219696,_0x3789b6);return;}switch(_0x311557){case _0x570795(0x19c):displayResultsWithAnswers(_0x219696,_0x41dc79,_0x2db572,_0x41d597,_0x3789b6);break;case _0x570795(0x4c0):displayResultsScoreOnly(_0x219696,_0x41dc79,_0x2db572,_0x3789b6);break;case _0x570795(0xd8e):displayPassFailOnly(_0x219696,_0x3789b6);break;case'half_mark_status':displayHalfMarkResult(_0x219696,_0x3789b6);break;case _0x570795(0x48e):displayPerfectScoreResult(_0x219696,_0x3789b6);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xd252f2){const _0x512ee1=_0x47050f;studentReadingArea['innerHTML']=_0x512ee1(0xcbf);const _0x32c3b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd252f2+_0x512ee1(0x2e3)+simpleMathPrompt+_0x512ee1(0x799),_0x44f70b={'type':_0x512ee1(0xa5d),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x512ee1(0xd52)}},'correctAnswerIndex':{'type':_0x512ee1(0xca0)},'explanation':{'type':_0x512ee1(0xd52)}},'required':[_0x512ee1(0xc25),_0x512ee1(0x9d8),_0x512ee1(0xcd9),_0x512ee1(0x50f)]},_0x5eeff6={'type':'OBJECT','properties':{'topic':{'type':_0x512ee1(0xd52)},'questions':{'type':_0x512ee1(0x755),'items':_0x44f70b}},'required':[_0x512ee1(0x6d2),_0x512ee1(0xbd5)]};try{const _0x53415a=await callAnalysisApi(_0x32c3b8,_0x5eeff6);_0x53415a[_0x512ee1(0x7e6)]=!![],studentReadingArea['classList'][_0x512ee1(0x505)](_0x512ee1(0xbce));const _0x1f04ab={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x512ee1(0x19c)};_0x53415a[_0x512ee1(0x54d)]=_0x1f04ab,displayQuizForStudent(_0x53415a);}catch(_0x2f1794){console[_0x512ee1(0x8c2)](_0x512ee1(0x47c),_0x2f1794),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x512ee1(0x2d1));}}function displayPassFailOnly(_0x418a6d,_0x3e86ff){const _0x3f4fb3=_0x47050f,_0x1fb10c=currentDisplayedQuiz[_0x3f4fb3(0x54d)]?.[_0x3f4fb3(0x40b)]??-0x1,_0x4c2d4f=currentDisplayedQuiz[_0x3f4fb3(0x7e6)]===!![];let _0x696828='',_0x4948df=![];if(_0x4c2d4f||_0x1fb10c!==-0x1){_0x4948df=_0x4c2d4f?_0x418a6d===_0x3e86ff:_0x418a6d>=_0x1fb10c;const _0x4bb89b=_0x4948df?_0x3f4fb3(0xb9a):'bg-red-100\x20text-red-800',_0x594ab=_0x4948df?_0x3f4fb3(0x878):_0x3f4fb3(0x72e);_0x696828=_0x3f4fb3(0xad4)+_0x4bb89b+'\x22>'+_0x594ab+_0x3f4fb3(0x53a);}else _0x696828='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0xc5fd87=_0x3f4fb3(0x7a4)+currentStudentName+_0x3f4fb3(0xaf5)+_0x696828+_0x3f4fb3(0x33a);studentResultArea[_0x3f4fb3(0xb90)]=_0xc5fd87,studentResultArea['classList']['remove'](_0x3f4fb3(0xbce)),studentQuizArea['classList'][_0x3f4fb3(0x505)](_0x3f4fb3(0xbce)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4948df});}function cancelAdminTest(){const _0xc93e94=_0x47050f;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0xc93e94(0x64c)](_0xc93e94(0x6c9),handleFullscreenChange),document[_0xc93e94(0x64c)](_0xc93e94(0xdb0),handleVisibilityChange),currentMode=_0xc93e94(0xb0f),studentView[_0xc93e94(0x9cc)]['add'](_0xc93e94(0xbce)),adminView['classList'][_0xc93e94(0x7a8)](_0xc93e94(0xbce)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0xc93e94(0x79e));}function setupResultScreenBackButton(_0x4c3106){const _0x5a553d=_0x47050f,_0x2fecf7={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4c3106};if(_0x2fecf7[_0x5a553d(0x302)]){const _0x39ea34=_0x5a553d(0xbf2);studentResultArea[_0x5a553d(0x49b)]('beforeend',_0x39ea34),document[_0x5a553d(0x70b)]('retake-quiz-loop-btn')[_0x5a553d(0x86d)](_0x5a553d(0x9a8),()=>{const _0x41c173=_0x5a553d;studentResultArea[_0x41c173(0x9cc)][_0x41c173(0x505)](_0x41c173(0xbce)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x12ea1a=_0x5a553d(0xafd),_0x4f7b8e=currentMode===_0x5a553d(0x200),_0x554cad=_0x4f7b8e?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x211ea='';_0x2fecf7[_0x5a553d(0x86c)]&&(_0x211ea+=_0x5a553d(0x97e));let _0x49a035=_0x2fecf7[_0x5a553d(0x68f)];_0x49a035===undefined&&(_0x49a035=_0x2fecf7[_0x5a553d(0x6e9)]<_0x2fecf7[_0x5a553d(0x621)]);_0x49a035&&(_0x211ea+=_0x5a553d(0xb8d));_0x211ea+=_0x5a553d(0x1ab)+_0x12ea1a+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x554cad+_0x5a553d(0x82e);const _0x47f867=_0x5a553d(0xdae)+_0x211ea+_0x5a553d(0xad2);studentResultArea[_0x5a553d(0x49b)](_0x5a553d(0xb37),_0x47f867),studentResultArea[_0x5a553d(0xdde)](_0x5a553d(0x42f))?.[_0x5a553d(0x86d)](_0x5a553d(0x9a8),handleShowStudentRankings);const _0xfaee12=studentResultArea[_0x5a553d(0xdde)](_0x5a553d(0xa80));_0xfaee12&&_0xfaee12['addEventListener']('click',()=>{const _0x425642=_0x5a553d;studentResultArea['classList'][_0x425642(0x505)](_0x425642(0xbce)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5a553d(0x70b)](_0x12ea1a)[_0x5a553d(0x86d)]('click',()=>{const _0xaa5605=_0x5a553d;_0x4f7b8e?(currentMode='admin',studentView['classList'][_0xaa5605(0x505)](_0xaa5605(0xbce)),adminView[_0xaa5605(0x9cc)][_0xaa5605(0x7a8)]('hidden'),showView('project-detail')):(showView(_0xaa5605(0x2d1)),document[_0xaa5605(0x70b)](_0xaa5605(0xe82))[_0xaa5605(0xd95)]='');});}function displayResultsWithAnswers(_0x5ad05e,_0x3932b5,_0x3dbe99,_0x54fd57,_0x24da77,_0x35610a=![]){const _0xdf92d6=_0x47050f,_0x460c6a=_0x24da77>0x0?_0x5ad05e/_0x24da77*0x64:0x0,_0x353fe8=currentDisplayedQuiz[_0xdf92d6(0x54d)]?.[_0xdf92d6(0x40b)]??-0x1,_0x338859=currentDisplayedQuiz[_0xdf92d6(0x7e6)]===!![];let _0x5a52df='';if(_0x338859||_0x353fe8!==-0x1){let _0x3e9787=_0x338859?_0x5ad05e===_0x24da77:_0x5ad05e>=_0x353fe8;const _0xe1e2ce=_0x3e9787?_0xdf92d6(0xb9a):'bg-red-100\x20text-red-800',_0x4bf0ee=_0x3e9787?_0xdf92d6(0x878):_0xdf92d6(0x72e);_0x5a52df='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0xe1e2ce+'\x22>'+_0x4bf0ee+_0xdf92d6(0xb29);}let _0x5a5b8d=_0xdf92d6(0x267)+currentStudentName+_0xdf92d6(0x1d9)+_0x5ad05e+_0xdf92d6(0x7d4)+_0x24da77+_0xdf92d6(0x970)+_0x5a52df+_0xdf92d6(0xb05)+_0x3932b5+_0xdf92d6(0x4ae)+_0x460c6a[_0xdf92d6(0xadc)](0x0)+_0xdf92d6(0x935);currentDisplayedQuiz[_0xdf92d6(0xbd5)][_0xdf92d6(0xc4c)]((_0x2e7fe,_0x1b2c86)=>{const _0xc6099a=_0xdf92d6,_0x3989a9=_0x54fd57[_0x1b2c86],_0x503fa9=_0x3989a9[_0xc6099a(0xc5d)],_0x4202fc=_0x3989a9[_0xc6099a(0x985)],_0x1b4a5a=_0x2e7fe[_0xc6099a(0xa39)]||currentDisplayedQuiz['quizType'];_0x5a5b8d+=_0xc6099a(0x4f6)+(_0x4202fc?_0xc6099a(0xb92):_0xc6099a(0x340))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x1b2c86+0x1)+'.\x20'+(_0x2e7fe['stem']||_0x2e7fe[_0xc6099a(0xc25)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x1b4a5a){case _0xc6099a(0x6b7):const _0x3b15a0=_0x503fa9||'ไม่ได้ตอบ',_0x9174c=_0x2e7fe[_0xc6099a(0xc74)];_0x5a5b8d+=_0xc6099a(0x706)+(!_0x4202fc?_0xc6099a(0x299):'')+'\x22>'+_0x3b15a0+'</span></p>';!_0x4202fc&&(_0x5a5b8d+=_0xc6099a(0x25b)+_0x9174c+_0xc6099a(0xb29));break;case _0xc6099a(0x76f):_0x5a5b8d+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x503fa9||'ไม่ได้ตอบ')+'</p>',_0x5a5b8d+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x2e7fe[_0xc6099a(0xa6c)]+'</p>';break;case _0xc6099a(0x92d):_0x5a5b8d+='<p\x20class=\x22'+(_0x2e7fe['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x503fa9===_0xc6099a(0xadf)&&!_0x4202fc?'line-through\x20text-red-700':'')+_0xc6099a(0x17f),_0x5a5b8d+=_0xc6099a(0xd35)+(_0x2e7fe[_0xc6099a(0x75d)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x503fa9===_0xc6099a(0x50a)&&!_0x4202fc?_0xc6099a(0x299):'')+'\x22>ไม่ใช่</p>';break;default:_0x5a5b8d+=_0x2e7fe[_0xc6099a(0x9d8)][_0xc6099a(0x3cc)]((_0x5ddd59,_0x5791ec)=>{const _0x5c6fcb=_0xc6099a;let _0x224d30='',_0x464c0e='';if(_0x5791ec===_0x2e7fe[_0x5c6fcb(0xcd9)])_0x224d30=_0x5c6fcb(0xa8b),_0x464c0e=_0x5c6fcb(0x259);else _0x5791ec===_0x503fa9&&(_0x224d30=_0x5c6fcb(0xb87),_0x464c0e=_0x5c6fcb(0xb40));return'<div\x20class=\x22'+_0x224d30+'\x22>'+_0x464c0e+_0x5ddd59+_0x5c6fcb(0xad2);})[_0xc6099a(0x909)]('');break;}_0x5a5b8d+=_0xc6099a(0xe0f)+(_0x2e7fe[_0xc6099a(0x50f)]||'ไม่มีคำอธิบาย')+'</div>';if(!_0x4202fc){const _0xd9149c=_0x2e7fe[_0xc6099a(0x93d)]||_0x2e7fe['questionText'];_0x5a5b8d+=_0xc6099a(0x6d0)+escape(_0xd9149c)+_0xc6099a(0xaea);}_0x5a5b8d+=_0xc6099a(0xad2);}),studentResultArea[_0xdf92d6(0xb90)]=_0x5a5b8d,renderEarnedBadges(_0x3dbe99,_0xdf92d6(0x5b9)),studentResultArea[_0xdf92d6(0x9cc)][_0xdf92d6(0x7a8)](_0xdf92d6(0xbce)),studentQuizArea[_0xdf92d6(0x9cc)][_0xdf92d6(0x505)](_0xdf92d6(0xbce)),setupResultScreenBackButton({'isLooping':_0x35610a,'score':_0x5ad05e,'totalQuestions':_0x24da77,'showRankings':!![]});if(window[_0xdf92d6(0x2ab)])window[_0xdf92d6(0x2ab)][_0xdf92d6(0xb85)]([studentResultArea]);}function displayResultsScoreOnly(_0xb8ca2c,_0x477095,_0x41e54,_0x3cca85){const _0x412998=_0x47050f,_0x4b4892=_0x3cca85>0x0?_0xb8ca2c/_0x3cca85*0x64:0x0,_0x544270=currentDisplayedQuiz['settings']?.[_0x412998(0x40b)]??-0x1,_0x2470dd=currentDisplayedQuiz[_0x412998(0x7e6)]===!![];let _0x2ce2ce='';if(_0x2470dd||_0x544270!==-0x1){let _0x327c52=_0x2470dd?_0xb8ca2c===_0x3cca85:_0xb8ca2c>=_0x544270;const _0xc2b3d9=_0x327c52?_0x412998(0xb9a):'bg-red-100\x20text-red-800',_0x581071=_0x327c52?'ผ่าน':_0x412998(0x72e);_0x2ce2ce=_0x412998(0x21d)+_0xc2b3d9+'\x22>'+_0x581071+_0x412998(0xb29);}let _0x537894='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x412998(0x59e)+_0xb8ca2c+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x3cca85+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ce2ce+_0x412998(0xb05)+_0x477095+_0x412998(0x63b)+_0x4b4892[_0x412998(0xadc)](0x0)+_0x412998(0x5a1);studentResultArea[_0x412998(0xb90)]=_0x537894,renderEarnedBadges(_0x41e54,_0x412998(0x5b9)),studentResultArea['classList'][_0x412998(0x7a8)](_0x412998(0xbce)),studentQuizArea[_0x412998(0x9cc)][_0x412998(0x505)](_0x412998(0xbce)),setupResultScreenBackButton({'score':_0xb8ca2c,'totalQuestions':_0x3cca85,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1db60b=_0x47050f;let _0x964c55=_0x1db60b(0xa68)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1db60b(0xb90)]=_0x964c55,studentResultArea[_0x1db60b(0x9cc)][_0x1db60b(0x7a8)](_0x1db60b(0xbce)),studentQuizArea[_0x1db60b(0x9cc)]['add']('hidden'),document[_0x1db60b(0x70b)]('back-to-home-manual-release')['addEventListener'](_0x1db60b(0x9a8),()=>{const _0x4cf90e=_0x1db60b;showView(_0x4cf90e(0x2d1)),document[_0x4cf90e(0x70b)](_0x4cf90e(0xe82))[_0x4cf90e(0xd95)]='';});}function renderEarnedBadges(_0x3392d4,_0x489eaf){const _0x4e7fd9=_0x47050f,_0xa6697e=document[_0x4e7fd9(0x70b)](_0x489eaf);if(!_0xa6697e||!_0x3392d4||_0x3392d4['length']===0x0)return;let _0x3b8ff7='';_0x3392d4['forEach']((_0x3b2309,_0xe8eaee)=>{const _0x45fa1e=_0x4e7fd9,_0x1b86bd=Object['values'](BADGES)['find'](_0x243967=>_0x243967['id']===_0x3b2309);_0x1b86bd&&(_0x3b8ff7+=_0x45fa1e(0x757)+_0xe8eaee*0.2+_0x45fa1e(0x986)+_0x1b86bd['description']+_0x45fa1e(0x22a)+_0x1b86bd[_0x45fa1e(0x795)]+_0x45fa1e(0x78f)+_0x1b86bd[_0x45fa1e(0x312)]+_0x45fa1e(0xce1));}),_0xa6697e[_0x4e7fd9(0xb90)]=_0x3b8ff7;}function startPresentation(_0x42c6cd){const _0x1c7db4=_0x47050f;currentQuizData=getShuffledQuiz(_0x42c6cd),currentPresentationSlide=0x0,presentationModal[_0x1c7db4(0x8aa)][_0x1c7db4(0x6cf)]=_0x1c7db4(0xb2b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5a0eb1=_0x47050f;document[_0x5a0eb1(0x501)]&&document['exitFullscreen'](),presentationModal[_0x5a0eb1(0x8aa)][_0x5a0eb1(0x6cf)]='none';}function renderPresentationSlide(_0x443b3f){const _0xb82c04=_0x47050f,_0x2e8c3e=document[_0xb82c04(0x70b)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0xb82c04(0xbd5)]||!currentQuizData[_0xb82c04(0xbd5)][_0x443b3f]){_0x2e8c3e[_0xb82c04(0xb90)]=_0xb82c04(0xb19);return;}const _0x583ea8=currentQuizData[_0xb82c04(0xbd5)][_0x443b3f],_0x17a2aa=_0x583ea8['questionType']||currentQuizData[_0xb82c04(0x190)];_0x2e8c3e[_0xb82c04(0xb90)]='';let _0x5e2234=_0xb82c04(0x71e)+(_0x583ea8[_0xb82c04(0xbb4)]?_0xb82c04(0xa92)+_0x583ea8[_0xb82c04(0xbb4)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x443b3f+0x1)+'.\x20'+(_0x583ea8[_0xb82c04(0x93d)]||_0x583ea8[_0xb82c04(0xc25)])+_0xb82c04(0xb55);switch(_0x17a2aa){case'matching_item':_0x5e2234+=_0x583ea8[_0xb82c04(0x4b6)][_0xb82c04(0x3cc)](_0x351864=>_0xb82c04(0xd82)+_0x351864+_0xb82c04(0x62c))['join']('');break;case'true_false':_0x5e2234+=_0xb82c04(0xafa),_0x5e2234+=_0xb82c04(0xb65);break;case _0xb82c04(0x25a):case _0xb82c04(0x76f):_0x5e2234+=_0xb82c04(0xb7e);break;case _0xb82c04(0x592):case _0xb82c04(0x99e):default:_0x5e2234+=_0x583ea8[_0xb82c04(0x9d8)][_0xb82c04(0x3cc)]((_0x780814,_0x1978c2)=>_0xb82c04(0xd42)+_0x1978c2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x780814+_0xb82c04(0x62c))['join']('');break;}_0x5e2234+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x583ea8[_0xb82c04(0x50f)]||_0xb82c04(0x1d2))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2e8c3e[_0xb82c04(0xb90)]=_0x5e2234;if(window[_0xb82c04(0x2ab)])window[_0xb82c04(0x2ab)]['typesetPromise']([_0x2e8c3e]);let _0x22dac5=[];switch(_0x17a2aa){case _0xb82c04(0x6b7):_0x22dac5=_0x583ea8[_0xb82c04(0x4b6)]||[];break;case _0xb82c04(0x92d):_0x22dac5=[_0xb82c04(0xbbe),'ไม่ใช่'];break;default:_0x22dac5=_0x583ea8[_0xb82c04(0x9d8)]||[];break;}const _0x5ad723=document[_0xb82c04(0x70b)](_0xb82c04(0x6b8));_0x5ad723&&(_0x5ad723[_0xb82c04(0x257)]=()=>{openScratchpad(_0x583ea8,_0x22dac5);});document[_0xb82c04(0x8fc)]('.presentation-option')[_0xb82c04(0xc4c)](_0x13b3cc=>{const _0x2692f7=_0xb82c04;_0x13b3cc[_0x2692f7(0x86d)](_0x2692f7(0x9a8),_0x397710=>revealAnswerForPresentation(_0x443b3f,_0x397710['currentTarget']));});const _0xa540f0=document[_0xb82c04(0x70b)](_0xb82c04(0xb1f));_0xa540f0&&_0xa540f0[_0xb82c04(0x86d)](_0xb82c04(0x9a8),()=>checkShortAnswerForPresentation(_0x443b3f)),document[_0xb82c04(0x70b)](_0xb82c04(0xd0e))[_0xb82c04(0xc66)]='ข้อที่\x20'+(_0x443b3f+0x1)+_0xb82c04(0x805)+currentQuizData[_0xb82c04(0xbd5)][_0xb82c04(0xdf3)],document['getElementById'](_0xb82c04(0x582))[_0xb82c04(0x9b6)]=_0x443b3f===0x0,document['getElementById'](_0xb82c04(0xcdc))[_0xb82c04(0x9b6)]=_0x443b3f===currentQuizData[_0xb82c04(0xbd5)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x2b2a71){const _0x5d79e0=_0x47050f,_0xcef047=currentQuizData[_0x5d79e0(0xbd5)][_0x2b2a71],_0x3ca463=document[_0x5d79e0(0x70b)](_0x5d79e0(0x395)),_0x4d4339=document[_0x5d79e0(0x70b)]('check-presentation-answer-btn'),_0x464a07=document[_0x5d79e0(0x70b)]('presentation-ai-result'),_0x326a09=document['getElementById'](_0x5d79e0(0x286));if(!_0x3ca463||!_0x4d4339||!_0x464a07||!_0x326a09)return;const _0x121bf7=_0x3ca463[_0x5d79e0(0xd95)][_0x5d79e0(0x28f)]();if(_0x121bf7==='')return;_0x4d4339[_0x5d79e0(0x9b6)]=!![],_0x4d4339[_0x5d79e0(0xb90)]=_0x5d79e0(0x421),_0x3ca463[_0x5d79e0(0x9b6)]=!![];const _0x25471e=await gradeShortAnswer(_0x121bf7,_0xcef047);_0x25471e?_0x464a07['innerHTML']=_0x5d79e0(0x51c):_0x464a07[_0x5d79e0(0xb90)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0xcef047[_0x5d79e0(0xa6c)]+')',_0x464a07[_0x5d79e0(0x9cc)][_0x5d79e0(0x7a8)](_0x5d79e0(0xbce)),_0x326a09[_0x5d79e0(0x9cc)]['remove']('hidden'),_0x4d4339['classList']['add'](_0x5d79e0(0xbce));}function revealAnswerForPresentation(_0x19c71b,_0x564571){const _0x27fc15=_0x47050f,_0x366177=currentQuizData[_0x27fc15(0xbd5)][_0x19c71b],_0x78c477=_0x366177[_0x27fc15(0xa39)]||currentQuizData[_0x27fc15(0x190)];document[_0x27fc15(0x8fc)](_0x27fc15(0x697))[_0x27fc15(0xc4c)](_0x463a4c=>{const _0x2d0223=_0x27fc15;_0x463a4c[_0x2d0223(0x9b6)]=!![],_0x463a4c[_0x2d0223(0x9cc)][_0x2d0223(0x7a8)](_0x2d0223(0x309));let _0x2263fe=![];if(_0x78c477===_0x2d0223(0x99e)||_0x78c477===_0x2d0223(0x592)){const _0xff5cb2=parseInt(_0x463a4c[_0x2d0223(0x71a)][_0x2d0223(0xe39)]);_0x2263fe=_0xff5cb2===_0x366177[_0x2d0223(0xcd9)];}else{if(_0x78c477===_0x2d0223(0x92d)){const _0x372e1c=_0x463a4c[_0x2d0223(0x71a)][_0x2d0223(0xc5d)]==='true';_0x2263fe=_0x372e1c===_0x366177['correctAnswer'];}else _0x78c477===_0x2d0223(0x6b7)&&(_0x2263fe=_0x463a4c['textContent'][_0x2d0223(0x28f)]()===_0x366177[_0x2d0223(0xc74)]);}_0x2263fe?_0x463a4c['classList']['add'](_0x2d0223(0xd13),_0x2d0223(0x8b3),_0x2d0223(0xb50)):_0x463a4c[_0x2d0223(0x9cc)][_0x2d0223(0x505)]('opacity-50');}),_0x564571[_0x27fc15(0x9cc)][_0x27fc15(0x7a8)](_0x27fc15(0xd69));let _0x46afdd=![];if(_0x78c477===_0x27fc15(0x99e))_0x46afdd=parseInt(_0x564571[_0x27fc15(0x71a)][_0x27fc15(0xe39)])===_0x366177['correctAnswerIndex'];else{if(_0x78c477==='true_false')_0x46afdd=_0x564571[_0x27fc15(0x71a)][_0x27fc15(0xc5d)]==='true'===_0x366177[_0x27fc15(0x75d)];else _0x78c477===_0x27fc15(0x6b7)&&(_0x46afdd=_0x564571[_0x27fc15(0xc66)][_0x27fc15(0x28f)]()===_0x366177[_0x27fc15(0xc74)]);}!_0x46afdd&&_0x564571[_0x27fc15(0x9cc)][_0x27fc15(0x505)](_0x27fc15(0x3a8),_0x27fc15(0x8b3),'border-red-700'),document[_0x27fc15(0x70b)](_0x27fc15(0x286))[_0x27fc15(0x9cc)][_0x27fc15(0x7a8)](_0x27fc15(0xbce));}function startWholeQuizTimer(_0x21e4ae){const _0x333559=_0x47050f,_0x48c1de=document[_0x333559(0x70b)]('timer-container');if(!_0x48c1de)return;const _0xb47e1e=Date['now']()+_0x21e4ae*0x3c*0x3e8;_0x48c1de[_0x333559(0xb90)]=_0x333559(0xc99);const _0x563375=document[_0x333559(0x70b)](_0x333559(0x619));quizTimerInterval=setInterval(()=>{const _0x2990e3=_0x333559,_0x133aa8=_0xb47e1e-Date['now']();if(_0x133aa8<=0x0)clearInterval(quizTimerInterval),_0x563375[_0x2990e3(0xc66)]=_0x2990e3(0x7fc),showMessage(_0x2990e3(0x79f)),handleSubmitQuiz(null);else{const _0x1a3755=Math['floor'](_0x133aa8/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x5eb42b=Math[_0x2990e3(0x3ee)](_0x133aa8/0x3e8%0x3c)['toString']()[_0x2990e3(0x350)](0x2,'0');_0x563375['textContent']=_0x1a3755+':'+_0x5eb42b;}},0x3e8);}function renderPerQuestionView(){const _0x402d81=_0x47050f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5c73b4=currentDisplayedQuiz[_0x402d81(0xbd5)][currentQuestionIndex],_0xf81dc4=_0x5c73b4[_0x402d81(0xa39)]||currentDisplayedQuiz[_0x402d81(0x190)],_0x1677e7=currentDisplayedQuiz['settings']?.[_0x402d81(0xb00)]===!![];let _0x9985db=_0x402d81(0x61b)+(currentQuestionIndex+0x1)+_0x402d81(0xbc0)+currentDisplayedQuiz[_0x402d81(0xbd5)][_0x402d81(0xdf3)]+_0x402d81(0xe04)+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x402d81(0x406)+currentDisplayedQuiz['topic']+_0x402d81(0x864);studentQuizArea['innerHTML']=_0x9985db;let _0x19e470=_0x5c73b4[_0x402d81(0x93d)]||_0x5c73b4[_0x402d81(0xc25)];_0x5c73b4['imageCode']&&(_0x19e470+=_0x402d81(0xa92)+_0x5c73b4[_0x402d81(0xbb4)]+'</div>');let _0x5e8f39='';switch(_0xf81dc4){case _0x402d81(0x76f):case _0x402d81(0x25a):_0x5e8f39=_0x402d81(0x256);break;case'true_false':_0x5e8f39=_0x402d81(0x585);break;case _0x402d81(0x6b7):_0x5e8f39=_0x402d81(0x73d)+(_0x5c73b4[_0x402d81(0x4b6)]||[])[_0x402d81(0x3cc)](_0x511816=>_0x402d81(0x70f)+_0x511816+'\x22>'+_0x511816+_0x402d81(0xe8f))['join']('')+_0x402d81(0x399);break;default:_0x5c73b4['options']&&(_0x5e8f39=_0x5c73b4[_0x402d81(0x9d8)][_0x402d81(0x3cc)]((_0x48d070,_0x121b1c)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x121b1c+_0x402d81(0xbcc)+_0x121b1c+_0x402d81(0xe1f)+_0x121b1c+'\x22>'+_0x48d070+_0x402d81(0x539))['join'](''));break;}document['getElementById'](_0x402d81(0xe8c))[_0x402d81(0xb90)]=_0x19e470,document[_0x402d81(0x70b)]('per-question-options')[_0x402d81(0xb90)]=_0x5e8f39;const _0x1baa7f=currentDisplayedQuiz[_0x402d81(0x54d)]?.[_0x402d81(0xb00)]===!![],_0x3fc5b3=currentDisplayedQuiz[_0x402d81(0x54d)]?.[_0x402d81(0x3e2)]||_0x402d81(0x3bc);if(_0x1baa7f&&_0x3fc5b3===_0x402d81(0x3bc)){const _0x10c6e3=_0x402d81(0x8c6);studentQuizArea[_0x402d81(0xdde)](_0x402d81(0x16d))[_0x402d81(0x49b)]('beforeend',_0x10c6e3);}studentQuizArea[_0x402d81(0x49b)]('beforeend',_0x402d81(0xbe0)+(currentQuestionIndex===currentDisplayedQuiz[_0x402d81(0xbd5)][_0x402d81(0xdf3)]-0x1?'ส่งคำตอบ':_0x402d81(0x262))+_0x402d81(0x797));currentMode===_0x402d81(0x200)&&document[_0x402d81(0x70b)](_0x402d81(0xb9d))?.[_0x402d81(0x86d)]('click',cancelAdminTest);document[_0x402d81(0x70b)](_0x402d81(0x725))[_0x402d81(0x86d)](_0x402d81(0x9a8),()=>handleNextQuestionInTimedMode(![]));if(window[_0x402d81(0x2ab)])window[_0x402d81(0x2ab)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x402d81(0x54d)]?.[_0x402d81(0x397)]===_0x402d81(0x952)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x545a2e=_0x47050f,_0x5d52a8=currentDisplayedQuiz[_0x545a2e(0x54d)][_0x545a2e(0x1d4)],_0x12e8c=document[_0x545a2e(0x70b)](_0x545a2e(0x704));if(!_0x12e8c)return;let _0x43c49a=_0x5d52a8;_0x12e8c[_0x545a2e(0xb90)]=_0x545a2e(0x7a0)+_0x43c49a+_0x545a2e(0x25e);const _0x1f9269=document[_0x545a2e(0x70b)](_0x545a2e(0x767)),_0x2eb6a1=document[_0x545a2e(0x70b)](_0x545a2e(0x44a));perQuestionTimerInterval=setInterval(()=>{const _0x4cc278=_0x545a2e;_0x43c49a--;const _0x1c3dfb=_0x43c49a/_0x5d52a8*0x64;_0x1f9269[_0x4cc278(0x8aa)][_0x4cc278(0x3e0)]=_0x1c3dfb+'%',_0x2eb6a1[_0x4cc278(0xc66)]=_0x43c49a,_0x43c49a<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4cc278(0x2a3)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4b7d60=![]){const _0x522c23=_0x47050f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x23e44f=null,_0x171862=![];if(!_0x4b7d60){const _0x41dae5=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x1b13fa=_0x41dae5[_0x522c23(0xa39)]||currentDisplayedQuiz[_0x522c23(0x190)];if(_0x1b13fa===_0x522c23(0x76f)||_0x1b13fa===_0x522c23(0x25a))_0x23e44f=document[_0x522c23(0xdde)](_0x522c23(0x38c))?.['value'][_0x522c23(0x28f)]()??'';else{if(_0x1b13fa===_0x522c23(0x6b7))_0x23e44f=document[_0x522c23(0xdde)](_0x522c23(0x843))?.[_0x522c23(0xd95)]??'';else{const _0x40d682=document[_0x522c23(0xdde)](_0x522c23(0x3e6));_0x40d682&&(_0x23e44f=_0x40d682['value']);}}if(_0x23e44f===null||_0x23e44f===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x9ef654=currentDisplayedQuiz[_0x522c23(0x54d)]?.['isConfidenceScoringEnabled']===!![],_0x12a305=currentDisplayedQuiz[_0x522c23(0x54d)]?.['confidenceMode']||_0x522c23(0x3bc);if(_0x9ef654&&_0x12a305==='mandatory'){document[_0x522c23(0x70b)]('confidence-modal')['dataset'][_0x522c23(0x86f)]='timed',document[_0x522c23(0x70b)]('selected-answer-index-hidden')['value']=_0x23e44f,document['getElementById'](_0x522c23(0xbe1))[_0x522c23(0x9cc)][_0x522c23(0x7a8)](_0x522c23(0xbce));return;}const _0x5e0d0e=document['getElementById'](_0x522c23(0x719));_0x5e0d0e&&(_0x171862=_0x5e0d0e[_0x522c23(0xceb)]);}const _0x5d4329={'answer':_0x23e44f,'wasConfident':_0x171862};proceedToNextQuestion(_0x5d4329);}async function finalizePerQuestionQuiz(){const _0x1d6586=_0x47050f,_0x1bcbad=currentDisplayedQuiz['questions'][_0x1d6586(0xcc9)](_0xd134b1=>_0xd134b1['questionType']===_0x1d6586(0x76f));_0x1bcbad?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x1d6586(0x4cc));const _0x1c0986=currentQuizData['id'],_0x48e232=doc(db,_0x1d6586(0x4cd)+appId+'/public/data/quizzes/'+_0x1c0986+'/submissions',currentStudentName),_0x60f39=await getDoc(_0x48e232),_0x2050fa=_0x60f39[_0x1d6586(0x7ed)]()?_0x60f39['data']():{},_0x4de1ac=_0x2050fa['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4de1ac);}function getResultsFilename(){const _0x592ee6=_0x47050f,_0x87401e=document[_0x592ee6(0x70b)](_0x592ee6(0xa20))[_0x592ee6(0xc66)][_0x592ee6(0x460)](/[^a-z0-9]/gi,'_')[_0x592ee6(0xcab)]();return _0x592ee6(0x7a9)+(_0x87401e||'quiz');}function exportResultsAsImage(){const _0x41c81d=_0x47050f,_0x4ecf9c=document[_0x41c81d(0x70b)]('results-table-container');showMessage(_0x41c81d(0xa4f)),html2canvas(_0x4ecf9c)[_0x41c81d(0xced)](_0xe9d451=>{const _0x4f9c74=_0x41c81d,_0x2971ab=document[_0x4f9c74(0x656)]('a');_0x2971ab[_0x4f9c74(0xda8)]=getResultsFilename()+_0x4f9c74(0xd5c),_0x2971ab[_0x4f9c74(0x98a)]=_0xe9d451[_0x4f9c74(0x948)](_0x4f9c74(0x66c)),_0x2971ab[_0x4f9c74(0x9a8)](),messageModal[_0x4f9c74(0x9cc)][_0x4f9c74(0x505)](_0x4f9c74(0xbce));});}function exportResultsAsPDF(){const _0xd6b75e=_0x47050f,{jsPDF:_0xa1f705}=window['jspdf'],_0x10377f=new _0xa1f705();_0x10377f[_0xd6b75e(0xc60)](_0xd6b75e(0x94f),_0xd6b75e(0x991)),_0x10377f[_0xd6b75e(0xc53)]({'html':'#results-table'}),_0x10377f[_0xd6b75e(0xbd1)](getResultsFilename()+_0xd6b75e(0x39b));}function exportResultsAsWord(){const _0x13dcf3=_0x47050f,_0x329954='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x13dcf3(0x633),_0x4b932c=_0x13dcf3(0x82c),_0x124781=_0x329954+document[_0x13dcf3(0x70b)]('results-table-container')[_0x13dcf3(0xb90)]+_0x4b932c,_0x20a456=_0x13dcf3(0x603)+encodeURIComponent(_0x124781),_0x530c1f=document[_0x13dcf3(0x656)]('a');document[_0x13dcf3(0xdb8)]['appendChild'](_0x530c1f),_0x530c1f['href']=_0x20a456,_0x530c1f[_0x13dcf3(0xda8)]=getResultsFilename()+'.doc',_0x530c1f[_0x13dcf3(0x9a8)](),document[_0x13dcf3(0xdb8)]['removeChild'](_0x530c1f);}function exportResultsAsExcel(){const _0x49ff88=_0x47050f,_0x23fbe5=document[_0x49ff88(0x70b)](_0x49ff88(0xbed));let _0x5b1bea=[];for(let _0x46f8f6=0x0;_0x46f8f6<_0x23fbe5[_0x49ff88(0x178)]['length'];_0x46f8f6++){let _0x11a092=[],_0x416031=_0x23fbe5[_0x49ff88(0x178)][_0x46f8f6][_0x49ff88(0x8fc)](_0x49ff88(0xb5b));for(let _0xc12ea=0x0;_0xc12ea<_0x416031[_0x49ff88(0xdf3)];_0xc12ea++){_0x11a092[_0x49ff88(0x49c)]('\x22'+_0x416031[_0xc12ea][_0x49ff88(0xb44)][_0x49ff88(0x460)](/"/g,'\x22\x22')+'\x22');}_0x5b1bea[_0x49ff88(0x49c)](_0x11a092['join'](','));}const _0x5c9595=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5b1bea[_0x49ff88(0x909)]('\x0a')],{'type':_0x49ff88(0xd94)}),_0x271760=document[_0x49ff88(0x656)]('a');_0x271760['href']=URL['createObjectURL'](_0x5c9595),_0x271760[_0x49ff88(0xda8)]=getResultsFilename()+_0x49ff88(0x6f3),_0x271760[_0x49ff88(0x9a8)]();}function exportTableAsImage(_0x158c48,_0x1da3fe){const _0x12bb30=_0x47050f,_0x594b5f=document['getElementById'](_0x158c48),_0x343ccd=document[_0x12bb30(0x70b)]('results-quiz-title');if(!_0x594b5f){showMessage(_0x12bb30(0xd6e));return;}showMessage(_0x12bb30(0x875));const _0xf55f26=document[_0x12bb30(0x656)]('div');_0xf55f26[_0x12bb30(0x8aa)][_0x12bb30(0xb4b)]='#ffffff',_0xf55f26[_0x12bb30(0x8aa)][_0x12bb30(0xba6)]=_0x12bb30(0x6d4),_0xf55f26[_0x12bb30(0x8aa)]['width']=_0x12bb30(0xe53),_0xf55f26['style'][_0x12bb30(0x8ae)]=_0x12bb30(0xdee),_0xf55f26['style'][_0x12bb30(0x933)]='-9999px',_0xf55f26['style'][_0x12bb30(0xd2f)]='0',_0xf55f26[_0x12bb30(0x8aa)]['zIndex']='-1';const _0x51b9c3=document[_0x12bb30(0x656)]('h1');_0x51b9c3['innerText']=_0x343ccd?_0x343ccd[_0x12bb30(0xb44)]:'รายงานผลคะแนน',_0x51b9c3[_0x12bb30(0x8aa)][_0x12bb30(0x837)]=_0x12bb30(0xd3e),_0x51b9c3[_0x12bb30(0x8aa)][_0x12bb30(0x208)]=_0x12bb30(0x914),_0x51b9c3[_0x12bb30(0x8aa)][_0x12bb30(0x764)]=_0x12bb30(0x556),_0x51b9c3[_0x12bb30(0x8aa)][_0x12bb30(0xbb3)]=_0x12bb30(0x245),_0x51b9c3['style'][_0x12bb30(0x6bf)]=_0x12bb30(0xbca),_0x51b9c3['style']['marginBottom']=_0x12bb30(0x439);const _0x31c25f=_0x594b5f[_0x12bb30(0xc55)](!![]);_0x31c25f[_0x12bb30(0x8aa)][_0x12bb30(0x3a6)]=_0x12bb30(0x9b8),_0x31c25f[_0x12bb30(0x8aa)][_0x12bb30(0x4b8)]='visible';const _0x202e2e=_0x31c25f[_0x12bb30(0x8fc)]('th');let _0x214ab9=-0x1;_0x202e2e['forEach']((_0x240df3,_0x32d073)=>{const _0x3b1f51=_0x12bb30;_0x240df3[_0x3b1f51(0xc66)][_0x3b1f51(0x28f)]()==='ผล'&&(_0x240df3[_0x3b1f51(0x8aa)]['display']='none',_0x214ab9=_0x32d073);});if(_0x214ab9!==-0x1){const _0x254465=_0x31c25f[_0x12bb30(0x8fc)]('tr');_0x254465[_0x12bb30(0xc4c)](_0x5c6e32=>{const _0x19d968=_0x12bb30,_0x4c303d=_0x5c6e32[_0x19d968(0x8fc)]('td');_0x4c303d['length']>_0x214ab9&&(_0x4c303d[_0x214ab9]['style'][_0x19d968(0x6cf)]=_0x19d968(0x9b8));});}_0xf55f26[_0x12bb30(0xb08)](_0x51b9c3),_0xf55f26[_0x12bb30(0xb08)](_0x31c25f),document['body'][_0x12bb30(0xb08)](_0xf55f26),html2canvas(_0xf55f26,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x12bb30(0x8a2)})[_0x12bb30(0xced)](_0x194f06=>{const _0x24bfb8=_0x12bb30,_0x563da8=document[_0x24bfb8(0x656)]('a');_0x563da8[_0x24bfb8(0xda8)]=_0x1da3fe+_0x24bfb8(0xd5c),_0x563da8[_0x24bfb8(0x98a)]=_0x194f06['toDataURL'](_0x24bfb8(0x66c)),_0x563da8[_0x24bfb8(0x9a8)](),document[_0x24bfb8(0xdb8)]['removeChild'](_0xf55f26),messageModal[_0x24bfb8(0x9cc)]['add'](_0x24bfb8(0xbce));})[_0x12bb30(0x570)](_0x268ca8=>{const _0x17ca20=_0x12bb30;console['error'](_0x17ca20(0xb2e),_0x268ca8),document[_0x17ca20(0xdb8)][_0x17ca20(0x207)](_0xf55f26),showMessage(_0x17ca20(0xbaa));});}function exportTableAsPDF(_0x4639c1,_0x21db64){const _0x1d2751=_0x47050f,{jsPDF:_0x553315}=window[_0x1d2751(0xd3a)],_0x5671d8=new _0x553315();_0x5671d8[_0x1d2751(0xc60)](_0x1d2751(0x94f),_0x1d2751(0x991)),_0x5671d8['autoTable']({'html':'#'+_0x4639c1}),_0x5671d8[_0x1d2751(0xbd1)](_0x21db64+_0x1d2751(0x39b));}function exportTableAsWord(_0x284d73,_0x2e52bd){const _0x629fd0=_0x47050f,_0x1eda4b=document[_0x629fd0(0x70b)](_0x284d73);if(!_0x1eda4b){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x1ac04e=_0x629fd0(0x32a)+_0x629fd0(0xcea)+_0x629fd0(0x483)+_0x629fd0(0x633),_0x5be9f7=_0x629fd0(0x82c),_0x2dcd30=_0x1ac04e+_0x1eda4b[_0x629fd0(0xb90)]+_0x5be9f7,_0x23c734=_0x629fd0(0x603)+encodeURIComponent(_0x2dcd30),_0x2dd977=document[_0x629fd0(0x656)]('a');document['body'][_0x629fd0(0xb08)](_0x2dd977),_0x2dd977[_0x629fd0(0x98a)]=_0x23c734,_0x2dd977[_0x629fd0(0xda8)]=_0x2e52bd+'.doc',_0x2dd977[_0x629fd0(0x9a8)](),document[_0x629fd0(0xdb8)]['removeChild'](_0x2dd977);}function exportTableAsExcel(_0x77fb87,_0x4c278f){const _0x2018f6=_0x47050f,_0x5b77bf=document[_0x2018f6(0x70b)](_0x77fb87);if(!_0x5b77bf){showMessage(_0x2018f6(0xd6e));return;}let _0x5057c6=[];for(let _0xead5f8=0x0;_0xead5f8<_0x5b77bf[_0x2018f6(0x178)][_0x2018f6(0xdf3)];_0xead5f8++){let _0x490cd8=[],_0xece7b=_0x5b77bf[_0x2018f6(0x178)][_0xead5f8]['querySelectorAll']('td,\x20th');for(let _0x1e26e6=0x0;_0x1e26e6<_0xece7b[_0x2018f6(0xdf3)];_0x1e26e6++){_0x490cd8[_0x2018f6(0x49c)]('\x22'+_0xece7b[_0x1e26e6][_0x2018f6(0xb44)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x5057c6[_0x2018f6(0x49c)](_0x490cd8['join'](','));}const _0x5b9959=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5057c6[_0x2018f6(0x909)]('\x0a')],{'type':_0x2018f6(0xd94)}),_0x59e6bd=document[_0x2018f6(0x656)]('a');_0x59e6bd[_0x2018f6(0x98a)]=URL[_0x2018f6(0x203)](_0x5b9959),_0x59e6bd['download']=_0x4c278f+_0x2018f6(0x6f3),_0x59e6bd[_0x2018f6(0x9a8)]();}function renderAnalytics(_0xa1fcb1,_0x287299){const _0x208d85=_0x47050f,_0x360ae9=_0x287299[_0x208d85(0xc87)](_0x2fd034=>_0x2fd034[_0x208d85(0x84f)]!==undefined),_0x4234cd=currentProjectData[_0x208d85(0xa70)][_0x208d85(0xdf3)],_0x21890f=_0x360ae9[_0x208d85(0xdf3)],_0x3f8655=_0x4234cd-_0x21890f,_0x3b6afc=_0x4234cd>0x0?_0x21890f/_0x4234cd*0x64:0x0,_0x4aff72=_0x360ae9[_0x208d85(0x3cc)](_0x7f71df=>_0x7f71df[_0x208d85(0x84f)]),_0x286b15=_0x4aff72[_0x208d85(0xdf3)]>0x0?_0x4aff72[_0x208d85(0x3cf)]((_0x10815a,_0x515c62)=>_0x10815a+_0x515c62,0x0)/_0x4aff72[_0x208d85(0xdf3)]:0x0,_0x17d5cf=_0xa1fcb1[_0x208d85(0xbd5)][_0x208d85(0xdf3)],_0x4baf2f=_0x17d5cf>0x0?_0x286b15/_0x17d5cf*0x64:0x0,_0x353b2f=calculateItemAnalysis(_0xa1fcb1,_0x360ae9),_0x30b61a=calculateReliabilityKR20(_0xa1fcb1,_0x360ae9,_0x353b2f[_0x208d85(0xb16)]);let _0x303717='';if(_0x30b61a!==null){let _0x5152d7='';if(_0x30b61a>=0.9)_0x5152d7=_0x208d85(0xbff);else{if(_0x30b61a>=0.8)_0x5152d7=_0x208d85(0xa9f);else{if(_0x30b61a>=0.7)_0x5152d7='ดี';else{if(_0x30b61a>=0.6)_0x5152d7='พอใช้';else _0x5152d7=_0x208d85(0xb23);}}}_0x303717=_0x208d85(0x58a)+_0x30b61a[_0x208d85(0xadc)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x5152d7+_0x208d85(0xd4e);}const _0x60714c=document[_0x208d85(0x70b)](_0x208d85(0xe31));_0x60714c[_0x208d85(0xb90)]=_0x208d85(0xc6b)+_0x3b6afc[_0x208d85(0xadc)](0x0)+_0x208d85(0x1c2)+_0x21890f+'/'+_0x4234cd+_0x208d85(0x3f9)+_0x286b15[_0x208d85(0xadc)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x4baf2f[_0x208d85(0xadc)](0x0)+_0x208d85(0x947)+(_0x4aff72[_0x208d85(0xdf3)]>0x0?Math[_0x208d85(0xd2c)](..._0x4aff72):_0x208d85(0xd22))+_0x208d85(0x506)+(_0x4aff72[_0x208d85(0xdf3)]>0x0?Math['min'](..._0x4aff72):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x303717+_0x208d85(0x799);const _0x37ae05=document[_0x208d85(0x70b)](_0x208d85(0x57b));_0x37ae05&&_0x37ae05[_0x208d85(0x7a8)]();const _0x499d2c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x60714c[_0x208d85(0x49b)](_0x208d85(0x76c),_0x499d2c);const _0xd303c6=currentProjectData[_0x208d85(0xa70)]||[];renderSubmissionChart(_0x21890f,_0x3f8655,_0x360ae9,_0xd303c6),renderScoreDistributionChart(_0x360ae9,_0x17d5cf),renderQuestionAnalytics(_0xa1fcb1,_0x360ae9,_0xd303c6),renderInterestingStats(_0xa1fcb1,_0x360ae9);}async function handleExportLessonPDF(){const _0x18812f=_0x47050f,_0x520ae4=document[_0x18812f(0x70b)](_0x18812f(0x201)),_0x25b9c5=document[_0x18812f(0x70b)]('lesson-plan-title')[_0x18812f(0xc66)],_0x50ce7b=window[_0x18812f(0xb8f)]('',_0x18812f(0x55e)),_0x36aed9=_0x18812f(0xbe3)+_0x25b9c5+_0x18812f(0xa6d)+_0x520ae4[_0x18812f(0xb90)]+_0x18812f(0xde9);_0x50ce7b[_0x18812f(0xe85)][_0x18812f(0x86b)](_0x36aed9),_0x50ce7b[_0x18812f(0xe85)][_0x18812f(0x9be)](),_0x50ce7b[_0x18812f(0xabc)]=function(){setTimeout(()=>{const _0x245ee6=_0x3d0b;_0x50ce7b[_0x245ee6(0xd2d)]();},0x5dc);};}function renderInterestingStats(_0x519c66,_0x5a3a4){const _0x30e990=_0x47050f,_0x526061=document[_0x30e990(0x70b)](_0x30e990(0x271));if(!_0x526061)return;if(_0x5a3a4[_0x30e990(0xdf3)]===0x0){_0x526061[_0x30e990(0xb90)]=_0x30e990(0x67c);return;}const _0x538c6a=_0x519c66[_0x30e990(0xbd5)][_0x30e990(0x3cc)]((_0x5aa5d2,_0x15b628)=>({'index':_0x15b628+0x1,'text':_0x5aa5d2[_0x30e990(0xc25)]||_0x5aa5d2['stem'],'correct':0x0}));_0x5a3a4['forEach'](_0x4b93db=>{const _0x5109d3=_0x30e990,_0x5b25f1=_0x4b93db[_0x5109d3(0xc38)][_0x4b93db[_0x5109d3(0xc38)]['length']-0x1];_0x5b25f1&&_0x5b25f1[_0x5109d3(0x9f8)]&&_0x5b25f1['answers'][_0x5109d3(0xc4c)](_0x41ff01=>{const _0x14d35b=_0x5109d3,_0x244518=_0x538c6a['find'](_0x313f36=>_0x313f36[_0x14d35b(0x7fd)]===_0x41ff01[_0x14d35b(0xbdb)]);_0x41ff01[_0x14d35b(0x985)]&&_0x244518&&_0x244518[_0x14d35b(0x882)]++;});});const _0x244ed4=_0x5a3a4[_0x30e990(0xdf3)],_0xfd71bf=Math[_0x30e990(0xd2c)](..._0x538c6a[_0x30e990(0x3cc)](_0x42af9b=>_0x42af9b[_0x30e990(0x882)])),_0x20ea73=Math['min'](..._0x538c6a[_0x30e990(0x3cc)](_0x313ca0=>_0x313ca0[_0x30e990(0x882)])),_0x4529fe=_0x538c6a[_0x30e990(0xc87)](_0x2bd30b=>_0x2bd30b[_0x30e990(0x882)]===_0xfd71bf)['map'](_0x5898a9=>_0x30e990(0xac8)+_0x5898a9['index']),_0x15a82c=_0x538c6a[_0x30e990(0xc87)](_0x20bf0d=>_0x20bf0d[_0x30e990(0x882)]===_0x20ea73)[_0x30e990(0x3cc)](_0x5cdbab=>_0x30e990(0xac8)+_0x5cdbab[_0x30e990(0xe39)]),_0x15c648=_0x5a3a4[_0x30e990(0x846)]((_0x1cb8a1,_0x36b138)=>_0x36b138['latestScore']-_0x1cb8a1[_0x30e990(0x84f)])[_0x30e990(0xc87)]((_0x183f80,_0x179628,_0x457194)=>_0x183f80[_0x30e990(0x84f)]===_0x457194[0x0][_0x30e990(0x84f)]),_0x4dfeac=_0x5a3a4[_0x30e990(0x846)]((_0x579abc,_0x24023c)=>_0x579abc['latestScore']-_0x24023c[_0x30e990(0x84f)])['filter']((_0xf6ae5d,_0x258c28,_0x2a0a81)=>_0xf6ae5d[_0x30e990(0x84f)]===_0x2a0a81[0x0][_0x30e990(0x84f)]),_0x1a0a76='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x4529fe['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0xfd71bf+_0x30e990(0x805)+_0x244ed4+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x15a82c['join'](',\x20')+_0x30e990(0xbe7)+(_0x244ed4-_0x20ea73)+'\x20/\x20'+_0x244ed4+_0x30e990(0x49d)+_0x15c648[_0x30e990(0x3cc)](_0x28fdbd=>_0x28fdbd[_0x30e990(0xd11)])[_0x30e990(0x909)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x15c648[0x0]['latestScore']+_0x30e990(0xddc)+_0x4dfeac['map'](_0x45fece=>_0x45fece['studentName'])['join'](',\x20')+_0x30e990(0x31b)+_0x4dfeac[0x0][_0x30e990(0x84f)]+_0x30e990(0x3fa);_0x526061[_0x30e990(0xb90)]=_0x1a0a76;}function renderSubmissionChart(_0x4d00ce,_0x49e556,_0x3880ee,_0x4a26fd){const _0x3e6eec=_0x47050f,_0xd6482f=document['getElementById'](_0x3e6eec(0xa99))[_0x3e6eec(0xcf3)]('2d'),_0x4bce35=_0x3880ee[_0x3e6eec(0x3cc)](_0x8bf235=>_0x8bf235[_0x3e6eec(0xd11)]),_0x4d51f7=_0x4a26fd['filter'](_0x2ae679=>!_0x4bce35[_0x3e6eec(0x7f1)](_0x2ae679));chartInstances[_0x3e6eec(0xa12)]&&chartInstances[_0x3e6eec(0xa12)]['destroy'](),chartInstances['submission']=new Chart(_0xd6482f,{'type':_0x3e6eec(0x73f),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x4d00ce,_0x49e556],'backgroundColor':[_0x3e6eec(0x92f),_0x3e6eec(0xc6c)],'borderColor':['#ffffff',_0x3e6eec(0x8a2)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3e6eec(0x715)},'tooltip':{'callbacks':{'label':function(_0xf82aec){let _0x15ff1c=_0xf82aec['label']||'';return _0x15ff1c&&(_0x15ff1c+=':\x20'),_0x15ff1c+=_0xf82aec['raw'],_0x15ff1c;},'afterLabel':function(_0x7f1f5){const _0x46ef2e=_0x3e6eec;let _0x78d2d1;return _0x7f1f5[_0x46ef2e(0x623)]===0x0?_0x78d2d1=_0x4bce35:_0x78d2d1=_0x4d51f7,_0x78d2d1[_0x46ef2e(0xdf3)]>0x0?_0x78d2d1[_0x46ef2e(0x909)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x47b2b4,_0x349a10){const _0x5eef34=_0x47050f,_0x35bab6=document['getElementById'](_0x5eef34(0x9bf))[_0x5eef34(0xcf3)]('2d'),_0xd90c55={};for(let _0x5d1df9=0x0;_0x5d1df9<=_0x349a10;_0x5d1df9++){_0xd90c55[_0x5d1df9]=0x0;}_0x47b2b4[_0x5eef34(0xc4c)](_0x1f2635=>{const _0x278fdd=_0x5eef34;_0xd90c55[_0x1f2635[_0x278fdd(0x84f)]]!==undefined&&_0xd90c55[_0x1f2635['latestScore']]++;}),chartInstances[_0x5eef34(0x6e9)]&&chartInstances[_0x5eef34(0x6e9)][_0x5eef34(0x590)](),chartInstances[_0x5eef34(0x6e9)]=new Chart(_0x35bab6,{'type':_0x5eef34(0xe23),'data':{'labels':Object[_0x5eef34(0x5d7)](_0xd90c55),'datasets':[{'label':_0x5eef34(0x362),'data':Object[_0x5eef34(0xb0c)](_0xd90c55),'backgroundColor':_0x5eef34(0xb5a),'borderColor':_0x5eef34(0x5a3),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5eef34(0x9c0)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1c529e){const _0x3654d6=_0x5eef34,_0x19dfce=_0x1c529e[_0x3654d6(0x357)],_0x37eab4=_0x47b2b4[_0x3654d6(0xc87)](_0x266b67=>_0x266b67[_0x3654d6(0x84f)]==_0x19dfce)[_0x3654d6(0x3cc)](_0x5ae880=>_0x5ae880[_0x3654d6(0xd11)]);return _0x37eab4[_0x3654d6(0xdf3)]>0x0?_0x37eab4[_0x3654d6(0x909)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x257cc7,_0x5e8a79,_0x50dbca){const _0x5beb10=_0x47050f,_0x15acd8=document['getElementById']('question-analytics-container');if(_0x50dbca[_0x5beb10(0xdf3)]===0x0){_0x15acd8[_0x5beb10(0xb90)]=_0x5beb10(0x343);return;}const _0x2d0590=calculateItemAnalysis(_0x257cc7,_0x5e8a79),_0x1ec44e=calculateDistractorAnalysis(_0x257cc7,_0x5e8a79);let _0x5794f1='';_0x2d0590[_0x5beb10(0x292)]&&(_0x5794f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x2d0590[_0x5beb10(0x292)][_0x5beb10(0xa11)]['length']+_0x5beb10(0x84d)+_0x2d0590[_0x5beb10(0x292)][_0x5beb10(0xa11)][_0x5beb10(0x3cc)](_0x3538a4=>_0x5beb10(0xe73)+_0x3538a4+_0x5beb10(0xb74))[_0x5beb10(0x909)]('')+_0x5beb10(0x58d)+_0x2d0590[_0x5beb10(0x292)][_0x5beb10(0x35c)][_0x5beb10(0xdf3)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d0590[_0x5beb10(0x292)][_0x5beb10(0x35c)]['map'](_0x112038=>_0x5beb10(0xe73)+_0x112038+_0x5beb10(0xb74))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x5d79df='';const _0xdba463=_0x5e8a79[_0x5beb10(0x3cc)](_0x2ded69=>_0x2ded69[_0x5beb10(0xd11)]),_0xbf3e93=_0x343498=>{const _0x4b052f=_0x5beb10;if(_0x343498>=0.8)return _0x4b052f(0x9f1);if(_0x343498>=0.6)return _0x4b052f(0x636);if(_0x343498>=0.4)return _0x4b052f(0xa63);if(_0x343498>=0.2)return _0x4b052f(0x71c);return _0x4b052f(0x452);},_0x27409a=_0x1381a2=>{const _0x3a473c=_0x5beb10;if(_0x1381a2<0x0)return _0x3a473c(0xcd0);if(_0x1381a2>=0.4)return _0x3a473c(0xac5);if(_0x1381a2>=0.3)return _0x3a473c(0x974);if(_0x1381a2>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x3a473c(0x76d);},_0x3e1b8d=_0x2ca01b=>{const _0xdbb920=_0x5beb10,_0x1a106f=_0x2ca01b['toFixed'](0x0);if(parseFloat(_0x1a106f)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x1a106f+_0xdbb920(0xb64);if(_0x2ca01b>=0x32)return _0xdbb920(0x5cd)+_0x1a106f+_0xdbb920(0xb64);return _0xdbb920(0xae9)+_0x1a106f+_0xdbb920(0xb64);};_0x257cc7['questions'][_0x5beb10(0xc4c)]((_0x3b0df5,_0x193b4f)=>{const _0x210983=_0x5beb10,_0xddaac5=_0x2d0590[_0x210983(0xb16)][_0x193b4f],_0xbc4549=_0x1ec44e[_0x193b4f],_0x3722d2=_0x3b0df5[_0x210983(0x93d)]||_0x3b0df5[_0x210983(0xc25)]||_0x3b0df5['instructions'];let _0x4b5b51=0x0;const _0x599d97=[],_0x1ff384=[];_0x5e8a79[_0x210983(0xc4c)](_0x17320b=>{const _0x22664e=_0x210983,_0x120200=_0x17320b[_0x22664e(0xc38)][_0x17320b[_0x22664e(0xc38)]['length']-0x1];if(_0x120200&&_0x120200[_0x22664e(0x9f8)]){const _0x47c465=_0x120200[_0x22664e(0x9f8)]['find'](_0x1cb399=>_0x1cb399['originalQuestionText']===_0x3722d2)??_0x120200[_0x22664e(0x9f8)][_0x193b4f]??null;_0x47c465&&(_0x47c465[_0x22664e(0x985)]?(_0x4b5b51++,_0x599d97[_0x22664e(0x49c)](_0x17320b[_0x22664e(0xd11)])):_0x1ff384[_0x22664e(0x49c)](_0x17320b[_0x22664e(0xd11)]));}});const _0x3c76aa=_0x5e8a79[_0x210983(0xdf3)]>0x0?_0x4b5b51/_0x5e8a79[_0x210983(0xdf3)]*0x64:0x0,_0x25245d=_0x50dbca['filter'](_0x5355ff=>!_0xdba463[_0x210983(0x7f1)](_0x5355ff)),_0x39301a=_0xddaac5?_0x210983(0x46e)+_0xddaac5['p'][_0x210983(0xadc)](0x2)+_0x210983(0x5a7)+_0xbf3e93(_0xddaac5['p'])+_0x210983(0xdad)+_0xddaac5['r'][_0x210983(0xadc)](0x2)+_0x210983(0x5a7)+_0x27409a(_0xddaac5['r'])+_0x210983(0x402)+_0x3e1b8d(_0x3c76aa)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x4cea08='';_0xbc4549&&(_0x4cea08='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x210983(0x5d7)](_0xbc4549)[_0x210983(0x3cc)](_0x5a36db=>{const _0x581975=_0x210983,_0x171ef=_0xbc4549[_0x5a36db],_0xc526b3=parseInt(_0x5a36db)===_0x3b0df5[_0x581975(0xcd9)],_0x308938=!_0xc526b3&&_0x171ef[_0x581975(0x96a)]>_0x171ef[_0x581975(0xcf5)];return _0x581975(0x6ec)+(_0xc526b3?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0xc526b3?'✔\x20':'')+_0x171ef[_0x581975(0x7fd)]+_0x581975(0x4b4)+_0x171ef[_0x581975(0xcf5)]+_0x581975(0x4b4)+_0x171ef[_0x581975(0x96a)]+'\x20'+(_0x308938?'👍':'')+_0x581975(0x4b4)+_0x171ef[_0x581975(0x6db)]+_0x581975(0x1a1);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x404bf3='';_0xddaac5&&_0xddaac5[_0x210983(0x451)]&&(_0x404bf3=_0x210983(0x683)+_0xddaac5[_0x210983(0x451)][_0x210983(0xdf3)]+_0x210983(0x4db)+_0xddaac5[_0x210983(0x451)][_0x210983(0x3cc)](_0x3ae029=>_0x210983(0xe73)+(_0x3ae029[_0x210983(0x985)]?_0x210983(0xcd3):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x3ae029['name']+_0x210983(0xb74))[_0x210983(0x909)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0xddaac5['lowerGroupResponders']['length']+_0x210983(0x4db)+_0xddaac5[_0x210983(0xaaa)][_0x210983(0x3cc)](_0x2b9e30=>'<li>'+(_0x2b9e30[_0x210983(0x985)]?_0x210983(0xcd3):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x2b9e30[_0x210983(0x312)]+_0x210983(0xb74))[_0x210983(0x909)]('')+_0x210983(0xd16)),_0x5d79df+=_0x210983(0x4c7)+(_0x193b4f+0x1)+':\x20'+_0x3722d2+_0x210983(0x4f9)+_0x39301a+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x3722d2+_0x210983(0x677)+_0x4b5b51+'\x20จาก\x20'+_0x5e8a79[_0x210983(0xdf3)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x3c76aa[_0x210983(0xadc)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x599d97[_0x210983(0xdf3)]+_0x210983(0x175)+(_0x599d97[_0x210983(0xdf3)]>0x0?_0x599d97[_0x210983(0x909)](',\x20'):'ไม่มี')+_0x210983(0x61f)+_0x1ff384[_0x210983(0xdf3)]+_0x210983(0x175)+(_0x1ff384['length']>0x0?_0x1ff384['join'](',\x20'):'ไม่มี')+_0x210983(0xc3d)+_0x25245d[_0x210983(0xdf3)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x25245d[_0x210983(0xdf3)]>0x0?_0x25245d[_0x210983(0x909)](',\x20'):_0x210983(0x228))+_0x210983(0x4ec)+_0x4cea08+_0x210983(0x9a9)+_0x404bf3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x15acd8[_0x5beb10(0xb90)]=_0x5794f1+_0x5d79df;try{window['MathJax']&&MathJax[_0x5beb10(0xb85)]&&MathJax[_0x5beb10(0xb85)]([_0x15acd8]);}catch(_0x134f92){console[_0x5beb10(0x8c2)](_0x5beb10(0xa0c),_0x134f92);}}function calculateDistractorAnalysis(_0x42cd31,_0x558f90){const _0x5a8172=_0x47050f,_0xe909ba={};if(_0x558f90[_0x5a8172(0xdf3)]<0x2)return _0xe909ba;const _0x3b6bec=[..._0x558f90]['sort']((_0x5d8816,_0x47e7ea)=>{const _0x37c51a=_0x5a8172,_0x20e5e1=_0x47e7ea[_0x37c51a(0x84f)]-_0x5d8816['latestScore'];if(_0x20e5e1!==0x0)return _0x20e5e1;const _0x587a24=_0x5d8816['attempts']?.[_0x37c51a(0xdf3)]||0x1,_0x1eeb7f=_0x47e7ea['attempts']?.[_0x37c51a(0xdf3)]||0x1,_0x26606=_0x587a24-_0x1eeb7f;if(_0x26606!==0x0)return _0x26606;const _0x10c7f9=new Date(_0x5d8816[_0x37c51a(0xadb)]),_0x1f417e=new Date(_0x47e7ea['latestSubmittedAt']),_0x3ac140=_0x10c7f9-_0x1f417e;if(_0x3ac140!==0x0)return _0x3ac140;return _0x5d8816[_0x37c51a(0xd11)]['localeCompare'](_0x47e7ea[_0x37c51a(0xd11)],'th');}),_0x41b598=_0x3b6bec['length'],_0x1d22f0=Math[_0x5a8172(0xd2c)](0x1,Math[_0x5a8172(0x3ee)](_0x41b598*0.33)),_0x3e1413=_0x3b6bec[_0x5a8172(0x787)](0x0,_0x1d22f0),_0x3e63ea=_0x3b6bec[_0x5a8172(0x787)](-_0x1d22f0);return _0x42cd31['questions'][_0x5a8172(0xc4c)]((_0x162c65,_0x38ceb2)=>{const _0x9778d9=_0x5a8172;if(_0x162c65[_0x9778d9(0xa39)]!==_0x9778d9(0x99e)||!_0x162c65[_0x9778d9(0x9d8)])return;const _0x3c1c19=_0x162c65[_0x9778d9(0xc25)],_0x4a2de5={};_0x162c65[_0x9778d9(0x9d8)]['forEach']((_0xb350e3,_0x880747)=>{_0x4a2de5[_0x880747]={'text':_0xb350e3,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3b6bec[_0x9778d9(0xc4c)](_0x24ff50=>{const _0x2b7e3e=_0x9778d9,_0x337550=_0x24ff50[_0x2b7e3e(0xc38)][_0x24ff50[_0x2b7e3e(0xc38)][_0x2b7e3e(0xdf3)]-0x1],_0x5f0b56=_0x337550[_0x2b7e3e(0x9f8)][_0x2b7e3e(0x60d)](_0x1a1014=>_0x1a1014[_0x2b7e3e(0xbdb)]===_0x3c1c19);if(_0x5f0b56&&_0x5f0b56[_0x2b7e3e(0xc5d)]!==null){const _0x3aaf1f=_0x162c65[_0x2b7e3e(0x9d8)][_0x2b7e3e(0x322)](_0x2cfb44=>_0x2cfb44===_0x5f0b56[_0x2b7e3e(0x307)]);_0x3aaf1f!==-0x1&&_0x4a2de5[_0x3aaf1f]&&(_0x4a2de5[_0x3aaf1f][_0x2b7e3e(0x6db)]++,_0x3e1413[_0x2b7e3e(0x7f1)](_0x24ff50)&&_0x4a2de5[_0x3aaf1f][_0x2b7e3e(0xcf5)]++,_0x3e63ea[_0x2b7e3e(0x7f1)](_0x24ff50)&&_0x4a2de5[_0x3aaf1f][_0x2b7e3e(0x96a)]++);}}),_0xe909ba[_0x38ceb2]=_0x4a2de5;}),_0xe909ba;}function calculateReliabilityKR20(_0xc4a7f5,_0x435c4d,_0x5734ec){const _0x3e6e1c=_0x47050f,_0x1931c3=_0xc4a7f5['questions'][_0x3e6e1c(0xdf3)];if(_0x1931c3<0x2||_0x435c4d[_0x3e6e1c(0xdf3)]<0x2)return null;const _0x485f7a=_0x435c4d[_0x3e6e1c(0x3cc)](_0x460e39=>_0x460e39[_0x3e6e1c(0x84f)]),_0x2dd341=_0x485f7a[_0x3e6e1c(0x3cf)]((_0x4350d1,_0x211253)=>_0x4350d1+_0x211253,0x0)/_0x485f7a['length'],_0x285684=_0x485f7a[_0x3e6e1c(0x3cc)](_0x51d403=>Math['pow'](_0x51d403-_0x2dd341,0x2))['reduce']((_0x57b9ea,_0x33a9d4)=>_0x57b9ea+_0x33a9d4,0x0)/_0x485f7a[_0x3e6e1c(0xdf3)];if(_0x285684===0x0)return null;let _0x36b8aa=0x0;for(let _0xb417f9=0x0;_0xb417f9<_0x1931c3;_0xb417f9++){const _0x16df43=_0x5734ec[_0xb417f9]?.['p'];if(_0x16df43===undefined)continue;const _0x320aeb=0x1-_0x16df43;_0x36b8aa+=_0x16df43*_0x320aeb;}if(_0x36b8aa===0x0)return null;const _0x374f49=_0x1931c3/(_0x1931c3-0x1)*(0x1-_0x36b8aa/_0x285684);if(_0x374f49>0x1)return null;return _0x374f49;}async function handleAnalyzeClass(){const _0x4ecad8=_0x47050f;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x5e36b1=collection(db,_0x4ecad8(0x4cd)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x18c864=await getDocs(_0x5e36b1),_0x188a0a=_0x18c864[_0x4ecad8(0x26e)][_0x4ecad8(0x3cc)](_0x58316e=>_0x58316e['data']());if(_0x188a0a[_0x4ecad8(0xdf3)]<0x2){showMessage(_0x4ecad8(0x566));return;}const _0x57bbde=document[_0x4ecad8(0x70b)](_0x4ecad8(0x2e6));_0x57bbde[_0x4ecad8(0xb90)]=_0x4ecad8(0x6ba),document[_0x4ecad8(0x70b)](_0x4ecad8(0x8ee))[_0x4ecad8(0x9b6)]=!![];const _0x32656d=_0x188a0a[_0x4ecad8(0x3cc)]((_0x482fa5,_0x337c68)=>{const _0x43fd42=_0x4ecad8,_0x4f7940=_0x482fa5[_0x43fd42(0xc38)][_0x482fa5[_0x43fd42(0xc38)][_0x43fd42(0xdf3)]-0x1];if(!_0x4f7940)return'';return _0x43fd42(0xe06)+(_0x337c68+0x1)+'\x20('+_0x482fa5[_0x43fd42(0xd11)]+_0x43fd42(0x270)+_0x4f7940[_0x43fd42(0x6e9)]+'/'+_0x482fa5['totalQuestions']+_0x43fd42(0x471)+JSON[_0x43fd42(0xcfa)](_0x4f7940[_0x43fd42(0x9f8)])+_0x43fd42(0xae8);})['join'](_0x4ecad8(0x65c)),_0x596194=_0x4ecad8(0xd1b)+currentQuizData[_0x4ecad8(0x6d2)]+_0x4ecad8(0x6c4)+JSON[_0x4ecad8(0xcfa)](currentQuizData[_0x4ecad8(0xbd5)])+_0x4ecad8(0xd68)+_0x32656d+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x1bc417={'type':'OBJECT','properties':{'classStrengths':{'type':_0x4ecad8(0x755),'items':{'type':_0x4ecad8(0xd52)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x4ecad8(0xd52)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x4ecad8(0xd52)}}},'required':[_0x4ecad8(0x45e),_0x4ecad8(0xb6a),_0x4ecad8(0x3f1)]};try{const _0x127fa3=await callAnalysisApi(_0x596194,_0x1bc417);displayClassAnalysis(_0x127fa3);}catch(_0x352ba2){console[_0x4ecad8(0x8c2)](_0x4ecad8(0xc71),_0x352ba2),_0x57bbde['innerHTML']=_0x4ecad8(0xb95)+_0x352ba2[_0x4ecad8(0xac4)]+_0x4ecad8(0xa09);}finally{document[_0x4ecad8(0x70b)](_0x4ecad8(0x8ee))[_0x4ecad8(0x9b6)]=![];}}function displayClassAnalysis(_0x14f5d5){const _0x259568=_0x47050f,_0x47abcd=document[_0x259568(0x70b)](_0x259568(0x2e6));if(!_0x14f5d5){_0x47abcd[_0x259568(0xb90)]=_0x259568(0x1fc);return;}_0x47abcd[_0x259568(0xb90)]=_0x259568(0xe4a)+_0x14f5d5[_0x259568(0x45e)][_0x259568(0x3cc)](_0x18c926=>'<li>'+_0x18c926+_0x259568(0xb74))[_0x259568(0x909)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14f5d5[_0x259568(0xb6a)][_0x259568(0x3cc)](_0x760182=>'<li>'+_0x760182+_0x259568(0xb74))[_0x259568(0x909)]('')+_0x259568(0x458)+_0x14f5d5[_0x259568(0x3f1)][_0x259568(0x3cc)](_0x2ce9d3=>'<li>'+_0x2ce9d3+_0x259568(0xb74))[_0x259568(0x909)]('')+_0x259568(0xa96);}function formatAndPrintWorksheet(_0x4d8332,_0x5efa55){const _0x3d1f93=_0x47050f,_0x24a7a7=_0x3d1f93(0xa32)+_0x4d8332[_0x3d1f93(0x6d2)]+_0x3d1f93(0xb04)+_0x4d8332[_0x3d1f93(0x6d2)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d8332[_0x3d1f93(0xbd5)][_0x3d1f93(0x3cc)]((_0x2a2336,_0x38c8f4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x38c8f4+0x1)+'.\x20'+_0x2a2336[_0x3d1f93(0xc25)]+_0x3d1f93(0xc3a)+(_0x2a2336['imageCode']?_0x3d1f93(0x255)+_0x2a2336['imageCode']+_0x3d1f93(0xad2):'')+_0x3d1f93(0x853))[_0x3d1f93(0x909)]('')+_0x3d1f93(0x9a5);_0x5efa55[_0x3d1f93(0xe85)][_0x3d1f93(0x86b)](_0x24a7a7),_0x5efa55[_0x3d1f93(0xe85)]['close'](),_0x5efa55['onload']=function(){setTimeout(()=>{const _0x4e61e3=_0x3d0b;_0x5efa55[_0x4e61e3(0xd2d)]();},0x3e8);};}async function generateWorksheet(){const _0x372372=_0x47050f,_0x2852e1=document[_0x372372(0x70b)](_0x372372(0x74b))['value'][_0x372372(0x28f)]();if(!_0x2852e1){showMessage(_0x372372(0x537));return;}const _0x5a7849=document[_0x372372(0x70b)]('force-math-checkbox')[_0x372372(0xceb)],_0x3663e3=_0x5a7849?'':'คณิตศาสตร์',_0x72df55=window[_0x372372(0xb8f)]('','_blank');_0x72df55['document'][_0x372372(0x86b)]('<h1></h1>');const _0x3355c7=parseInt(document[_0x372372(0x70b)](_0x372372(0x77f))[_0x372372(0xd95)]),_0x5b5b70=document[_0x372372(0x70b)]('include-images-checkbox')[_0x372372(0xceb)],_0x1fc978=_0x5b5b70?_0x372372(0x377):'',_0x1365db=_0x372372(0x9d0)+_0x3663e3+_0x372372(0x9b5)+_0x3355c7+_0x372372(0x23b)+_0x2852e1+_0x372372(0x545)+_0x1fc978+_0x372372(0x696)+simpleMathPrompt+_0x372372(0xb84),_0x4bb65d={'type':'OBJECT','properties':{'topic':{'type':_0x372372(0xd52)},'questions':{'type':_0x372372(0x755),'items':{'type':_0x372372(0xa5d),'properties':{'questionText':{'type':_0x372372(0xd52)},'imageCode':{'type':_0x372372(0xd52)}},'required':[_0x372372(0xc25)]}}},'required':['topic','questions']};document[_0x372372(0x70b)](_0x372372(0xa35))[_0x372372(0xc66)]='',document[_0x372372(0x70b)](_0x372372(0xd92))[_0x372372(0x9cc)]['remove'](_0x372372(0xbce)),document['getElementById'](_0x372372(0xcc8))['classList'][_0x372372(0x7a8)](_0x372372(0xbce)),generateWorksheetBtn['disabled']=!![];try{const _0x4f3300=await callAnalysisApi(_0x1365db,_0x4bb65d);formatAndPrintWorksheet(_0x4f3300,_0x72df55);}catch(_0x31d4b4){console[_0x372372(0x8c2)](_0x372372(0xe2e),_0x31d4b4);if(_0x72df55)_0x72df55['close']();showMessage(_0x372372(0xbeb));}finally{document[_0x372372(0x70b)](_0x372372(0xd92))[_0x372372(0x9cc)][_0x372372(0x505)]('hidden'),document[_0x372372(0x70b)]('quiz-generation-area')[_0x372372(0x9cc)]['add']('hidden'),generateWorksheetBtn[_0x372372(0x9b6)]=![];}}async function callAnalysisApi(_0x1d4fb0,_0x1af1a0){const _0x334756=_0x47050f,_0x4a8895={'contents':[{'role':_0x334756(0x65b),'parts':[{'text':_0x1d4fb0}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1af1a0}},_0xd278d4=_0x334756(0xe97),_0x5ee26d=_0x334756(0xc29)+_0xd278d4,_0x2b5930=await fetch(_0x5ee26d,{'method':_0x334756(0xe93),'headers':{'Content-Type':_0x334756(0x963)},'body':JSON['stringify'](_0x4a8895)});if(!_0x2b5930['ok'])throw new Error(_0x334756(0xab5)+_0x2b5930[_0x334756(0xbd3)]);const _0x57b496=await _0x2b5930[_0x334756(0xa0b)]();if(_0x57b496['candidates']?.[0x0]?.[_0x334756(0xe6d)]?.[_0x334756(0xe83)]?.[0x0])return JSON['parse'](_0x57b496[_0x334756(0xc9f)][0x0]['content'][_0x334756(0xe83)][0x0][_0x334756(0x7fd)]);else{let _0x4fd3ad=_0x334756(0x95a);if(_0x57b496['promptFeedback']?.['blockReason'])_0x4fd3ad=_0x334756(0xb73)+_0x57b496['promptFeedback'][_0x334756(0x385)]+'.';else _0x57b496['candidates']?.[0x0]?.['finishReason']&&_0x57b496[_0x334756(0xc9f)][0x0]['finishReason']!=='STOP'&&(_0x4fd3ad=_0x334756(0xe55)+_0x57b496[_0x334756(0xc9f)][0x0]['finishReason']+'.');console[_0x334756(0x8c2)](_0x4fd3ad,JSON[_0x334756(0xcfa)](_0x57b496));throw new Error(_0x4fd3ad);}}async function handleStartSyncMode(_0x49057c,_0x5f376d=![],_0x3c5823=_0x47050f(0x44d)){const _0x49bf16=_0x47050f,_0x572b00=allQuizzes[_0x49bf16(0x60d)](_0x3d8b2d=>_0x3d8b2d['id']===_0x49057c)||allQuizzesGlobal[_0x49bf16(0x60d)](_0x17f28a=>_0x17f28a['id']===_0x49057c);if(!_0x572b00){showMessage(_0x49bf16(0x53b));return;}currentQuizData=getShuffledQuiz(_0x572b00);const _0x5b560e=Math[_0x49bf16(0x3ee)](0x3e8+Math['random']()*0x2328)[_0x49bf16(0xae1)](),_0x4dd044=doc(db,_0x49bf16(0x4cd)+appId+'/public/data/projects',_0x572b00['projectId']),_0x3ca086=await getDoc(_0x4dd044);if(!_0x3ca086[_0x49bf16(0x7ed)]()){showMessage(_0x49bf16(0x351));return;}const _0x76a34c=_0x3ca086[_0x49bf16(0x54c)]()['students']||[],_0x400c14={};if(_0x3c5823==='anonymous'||_0x3c5823===_0x49bf16(0x88c)){const _0x521f11=[...ANONYMOUS_NAMES][_0x49bf16(0x846)](()=>0.5-Math[_0x49bf16(0x457)]());_0x76a34c[_0x49bf16(0xc4c)]((_0x2cdfde,_0x256b7f)=>{const _0x657322=_0x49bf16;_0x400c14[_0x2cdfde]=_0x521f11[_0x256b7f]||_0x657322(0x7c7)+(_0x256b7f+0x1);});}const _0x5e7cee=document[_0x49bf16(0x70b)](_0x49bf16(0xd51))['checked'],_0x563f83=parseInt(document[_0x49bf16(0x70b)](_0x49bf16(0x686))[_0x49bf16(0xd95)],0xa);let _0x28f35d={'timerMode':_0x49bf16(0x9b8),'timerDuration':0x0};_0x5e7cee&&(_0x28f35d[_0x49bf16(0x397)]=_0x49bf16(0x952),_0x28f35d['timerDuration']=_0x563f83||0xf0);const _0x4609b1=document[_0x49bf16(0x70b)](_0x49bf16(0xb8c))[_0x49bf16(0xceb)],_0x584868=document[_0x49bf16(0x70b)]('enable-black-market-checkbox')[_0x49bf16(0xceb)];try{const _0xf00f3a=await addDoc(collection(db,_0x49bf16(0x4cd)+appId+'/public/data/syncGames'),{'quizId':_0x572b00['id'],'pin':_0x5b560e,'status':_0x49bf16(0x673),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5f376d,'players':{},'gameVariant':_0x3c5823,'reviewQuestionIndex':0x0,'playerNicknames':_0x400c14,'isAnonymousRevealed':![],..._0x28f35d,'showAnswerInAnonymous':_0x4609b1,'isBlackMarketEnabled':_0x584868});currentLiveGameId=_0xf00f3a['id'],showView(_0x49bf16(0x1e1)),renderSyncLobbyView(_0x5b560e,_0x572b00[_0x49bf16(0x6d2)]),listenForSyncGameUpdates();const _0x580c66={'gameId':currentLiveGameId,'mode':_0x49bf16(0xe5e),'role':'admin'};sessionStorage[_0x49bf16(0x205)](_0x49bf16(0xc10),JSON[_0x49bf16(0xcfa)](_0x580c66));}catch(_0x3afc74){console[_0x49bf16(0x8c2)](_0x49bf16(0x29a),_0x3afc74),showMessage(_0x49bf16(0x2cc));}}function calculateFinalPodiumScores(_0x3277e6){const _0xa73f66=_0x47050f;if(!_0x3277e6||!_0x3277e6[_0xa73f66(0x1ca)]||!_0x3277e6[_0xa73f66(0x2ae)])return _0x3277e6[_0xa73f66(0x2ae)]||{};const _0x17d8d7=_0x3277e6['shuffledQuiz'][_0xa73f66(0xbd5)][_0xa73f66(0xdf3)],_0x2e6b8a=JSON['parse'](JSON[_0xa73f66(0xcfa)](_0x3277e6['players']));return Object['values'](_0x2e6b8a)[_0xa73f66(0xc4c)](_0x7ef2fa=>{const _0x905f70=_0xa73f66,_0x549c64=_0x7ef2fa['score']||0x0,_0x1cd1c0=_0x7ef2fa[_0x905f70(0xe3d)]||0x0;_0x17d8d7>0x0&&_0x549c64===_0x17d8d7?_0x7ef2fa[_0x905f70(0x95e)]=!![]:_0x7ef2fa['hasPerfectScoreBonus']=![],_0x7ef2fa[_0x905f70(0x4ce)]=_0x549c64,_0x7ef2fa[_0x905f70(0xe3d)]=_0x1cd1c0;}),_0x2e6b8a;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x541c2f=_0x47050f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x35b8ec=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x35b8ec,_0xd0d292=>{const _0x363b7b=_0x3d0b;if(!_0xd0d292['exists']()){sessionStorage[_0x363b7b(0x39a)](_0x363b7b(0xc10)),showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x363b7b(0xb0f)?showView(_0x363b7b(0x79e)):showView('student');return;}cachedGameData=_0xd0d292[_0x363b7b(0x54c)](),cachedGameData[_0x363b7b(0x1ca)]&&(currentQuizData=cachedGameData[_0x363b7b(0x1ca)]),syncDataAndRender();});const _0x3232b1=collection(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x541c2f(0x59c));if(currentMode==='admin')unsubscribePlayersCollectionListener=onSnapshot(_0x3232b1,_0x132321=>{const _0x19e138=_0x541c2f;_0x132321[_0x19e138(0xb59)]()['forEach'](_0x148c64=>{const _0x23525d=_0x19e138;if(_0x148c64['type']===_0x23525d(0x409)||_0x148c64[_0x23525d(0x8a9)]===_0x23525d(0x390))cachedPlayerData[_0x148c64['doc']['id']]=_0x148c64[_0x23525d(0x310)][_0x23525d(0x54c)]();else _0x148c64['type']===_0x23525d(0x1ac)&&delete cachedPlayerData[_0x148c64[_0x23525d(0x310)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x541c2f(0xdf3)]>0x0){const _0x5e4d1f=query(_0x3232b1,where(_0x541c2f(0x312),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x5e4d1f,_0x846fbe=>{const _0x5b8367=_0x541c2f;_0x846fbe['docChanges']()[_0x5b8367(0xc4c)](_0x3a528b=>{const _0x2ebdbb=_0x5b8367;(_0x3a528b[_0x2ebdbb(0x8a9)]===_0x2ebdbb(0x409)||_0x3a528b['type']===_0x2ebdbb(0x390))&&(cachedPlayerData[_0x3a528b[_0x2ebdbb(0x310)]['id']]=_0x3a528b[_0x2ebdbb(0x310)][_0x2ebdbb(0x54c)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0xc16d59=_0x47050f;if(!cachedGameData)return;const _0x8df3f7={},_0x558b3e=cachedGameData[_0xc16d59(0x77d)];Object[_0xc16d59(0x5d7)](cachedPlayerData)[_0xc16d59(0xc4c)](_0x2e5eb2=>{const _0x486be0=_0xc16d59,_0x556e7d=cachedPlayerData[_0x2e5eb2],_0x1d1591=_0x556e7d[_0x486be0(0x9f8)]&&_0x556e7d[_0x486be0(0x9f8)][_0x486be0(0xcc9)](_0x237d6d=>_0x237d6d[_0x486be0(0x33c)]===_0x558b3e);_0x8df3f7[_0x2e5eb2]={..._0x556e7d,'answered':_0x1d1591};});const _0xfc40ec={...cachedGameData,'players':_0x8df3f7};currentMode===_0xc16d59(0xb0f)?updateAdminSyncView(_0xfc40ec):updateStudentSyncView(_0xfc40ec);}function renderSyncLobbyView(_0x1dff93,_0x55580c){const _0x4e9c2c=_0x47050f;liveGameView[_0x4e9c2c(0xb90)]=_0x4e9c2c(0x865)+_0x55580c+_0x4e9c2c(0xe64)+_0x1dff93+_0x4e9c2c(0x89a);const _0x4cc16d=document['getElementById'](_0x4e9c2c(0x4ac)),_0x365e23=document[_0x4e9c2c(0x70b)](_0x4e9c2c(0xc0f));_0x4cc16d[_0x4e9c2c(0x86d)](_0x4e9c2c(0xd1c),()=>{const _0x29efe0=_0x4e9c2c;_0x365e23['style'][_0x29efe0(0x6cf)]=_0x4cc16d[_0x29efe0(0xceb)]?_0x29efe0(0x30f):_0x29efe0(0x9b8);}),document['getElementById'](_0x4e9c2c(0xcec))[_0x4e9c2c(0x86d)](_0x4e9c2c(0x9a8),async()=>{const _0xfc5bb5=_0x4e9c2c,_0x5f0b11=doc(db,_0xfc5bb5(0x4cd)+appId+_0xfc5bb5(0x946),currentLiveGameId),_0x4f73ea=document[_0xfc5bb5(0x70b)](_0xfc5bb5(0x4ac))[_0xfc5bb5(0xceb)];await updateDoc(_0x5f0b11,{'status':_0xfc5bb5(0x9ea),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x4f73ea});});}function updateAdminSyncView(_0x52548b){const _0x274247=_0x47050f;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x52548b[_0x274247(0xbd3)]){case'lobby':renderSyncLobbyView(_0x52548b['pin'],_0x52548b[_0x274247(0x1ca)][_0x274247(0x6d2)]);const _0x186fc5=Object[_0x274247(0xde2)](_0x52548b[_0x274247(0x2ae)]||{})['filter'](([_0x17ad72,_0x275a54])=>_0x275a54[_0x274247(0xbd3)]!==_0x274247(0x96c));document[_0x274247(0x70b)](_0x274247(0xe1d))[_0x274247(0xc66)]=_0x186fc5[_0x274247(0xdf3)],document[_0x274247(0x70b)](_0x274247(0x831))[_0x274247(0xb90)]=_0x186fc5[_0x274247(0x3cc)](([_0x445719,_0x551e21])=>_0x274247(0x2b9)+_0x445719+_0x274247(0x908)+_0x445719+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x274247(0x909)]('')||_0x274247(0x99b),document[_0x274247(0x70b)](_0x274247(0xcec))[_0x274247(0x9b6)]=_0x186fc5[_0x274247(0xdf3)]===0x0;break;case _0x274247(0x9ea):const _0x10f314=Object[_0x274247(0xb0c)](_0x52548b[_0x274247(0x2ae)]||{})[_0x274247(0xc87)](_0x152607=>_0x152607['status']!==_0x274247(0x96c)),_0x4b111b=_0x10f314['filter'](_0xf4b047=>_0xf4b047[_0x274247(0xa6b)])[_0x274247(0xdf3)],_0x2aa520=_0x4b111b===_0x10f314[_0x274247(0xdf3)]&&_0x10f314[_0x274247(0xdf3)]>0x0;if(_0x2aa520&&_0x52548b[_0x274247(0xbd3)]==='question'){const _0x3f3a34=doc(db,_0x274247(0x4cd)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3f3a34,{'status':_0x274247(0x339)});return;}if(document[_0x274247(0x70b)](_0x274247(0x2e8))===null)renderAdminSyncQuestionView(_0x52548b);else{const _0x1add07=document[_0x274247(0x70b)](_0x274247(0x89c));_0x1add07&&(_0x1add07[_0x274247(0xc66)]=_0x4b111b+'/'+_0x10f314[_0x274247(0xdf3)]);const _0x420993=document[_0x274247(0x70b)](_0x274247(0xbe8));_0x420993&&(_0x420993['innerHTML']=_0x10f314[_0x274247(0x3cc)](_0x3e5a41=>{const _0x3e5c50=_0x274247,_0x30374e=_0x3e5a41[_0x3e5c50(0xa6b)]?'bg-green-500':'bg-gray-500',_0x15cdd4=_0x3e5a41[_0x3e5c50(0xa6b)]?_0x3e5c50(0x337):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x3e5c50(0x73b)+_0x30374e+'\x22>'+_0x15cdd4+_0x3e5c50(0x953)+_0x3e5a41[_0x3e5c50(0x312)]+_0x3e5c50(0xc7e)+_0x3e5a41[_0x3e5c50(0x312)]+_0x3e5c50(0x32c);})[_0x274247(0x909)](''));}const _0x146150=_0x52548b[_0x274247(0x397)]===_0x274247(0x952)&&_0x52548b[_0x274247(0x912)];if(_0x146150){const _0x1332ab=_0x52548b[_0x274247(0x912)][_0x274247(0x3aa)]()[_0x274247(0xc37)](),_0x280574=_0x52548b[_0x274247(0x1d4)]*0x3e8,_0xbf9e9a=_0x1332ab+_0x280574,_0x155476=document['getElementById']('sync-timer-bar'),_0x19c42c=document[_0x274247(0x70b)]('sync-timer-countdown');syncQuestionTimerInterval=setInterval(()=>{const _0x4ca4a6=_0x274247,_0x131465=Date[_0x4ca4a6(0xc48)](),_0x42245f=_0x10f314[_0x4ca4a6(0xdf3)]>0x0&&_0x10f314['every'](_0x1d0dc0=>{const _0x2f4f72=_0x4ca4a6;if(_0x1d0dc0[_0x2f4f72(0xa6b)])return!![];const _0x3dc75a=_0x1d0dc0[_0x2f4f72(0x34c)]||0x0;return _0x131465>=_0x1332ab+_0x280574+_0x3dc75a;});if(_0x42245f){clearInterval(syncQuestionTimerInterval);const _0x427ea1=doc(db,'artifacts/'+appId+_0x4ca4a6(0x946),currentLiveGameId);updateDoc(_0x427ea1,{'status':_0x4ca4a6(0x339)});return;}const _0x24b270=_0xbf9e9a-_0x131465;if(_0x24b270<=0x0){if(_0x155476)_0x155476['style'][_0x4ca4a6(0x3e0)]='0%';if(_0x19c42c)_0x19c42c['textContent']=_0x4ca4a6(0xb15);}else{if(_0x155476&&_0x19c42c){const _0x3a5b19=_0x24b270/_0x280574*0x64;_0x155476['style'][_0x4ca4a6(0x3e0)]=_0x3a5b19+'%',_0x19c42c[_0x4ca4a6(0xc66)]=Math['ceil'](_0x24b270/0x3e8);}}},0x1f4);}break;case _0x274247(0x339):const _0x4ca65=_0x52548b[_0x274247(0x77d)],_0x1e1173=_0x52548b[_0x274247(0x1ca)][_0x274247(0xbd5)][_0x4ca65];renderSyncSummaryView(_0x52548b,_0x1e1173,!![]);break;case _0x274247(0xb31):const _0x4144aa=_0x52548b[_0x274247(0x58e)]||_0x274247(0x44d);_0x4144aa===_0x274247(0x3fe)||_0x4144aa===_0x274247(0x88c)?renderAdminSyncDashboard(_0x52548b,!![],_0x52548b[_0x274247(0x394)]):(_0x52548b[_0x274247(0xbd3)]===_0x274247(0xb31)&&!_0x52548b[_0x274247(0xac7)]&&((async()=>{const _0x1ab126=_0x274247;try{const _0x1b28c4=doc(db,'artifacts/'+appId+_0x1ab126(0x946),currentLiveGameId);await updateDoc(_0x1b28c4,{'scoresCalculated':!![]});const _0x1d0ba4=cachedPlayerData||{},_0x476875=_0x52548b[_0x1ab126(0x1ca)][_0x1ab126(0xbd5)][_0x1ab126(0xdf3)],_0x1973e6={};Object[_0x1ab126(0xb0c)](_0x1d0ba4)['forEach'](_0x288076=>{const _0x43b5ff=_0x1ab126;if(_0x288076[_0x43b5ff(0xbd3)]!==_0x43b5ff(0x96c)){const _0x3a2b5d=_0x288076[_0x43b5ff(0x312)],_0x5cf008=_0x288076['score']||0x0,_0x30ebf7=_0x288076['totalPoints']||0x0;let _0xa58dbc=_0x30ebf7;_0x476875>0x0&&_0x5cf008===_0x476875&&(_0xa58dbc+=0x1),_0x1973e6[_0x43b5ff(0xdc2)+_0x3a2b5d+_0x43b5ff(0x988)]=_0x5cf008,_0x1973e6[_0x43b5ff(0xdc2)+_0x3a2b5d+_0x43b5ff(0x69d)]=_0xa58dbc,_0x1973e6['players.'+_0x3a2b5d+'.pointsLastRound']=_0xa58dbc;}}),await updateDoc(_0x1b28c4,{..._0x1973e6});}catch(_0xe3d2fc){console['error'](_0x1ab126(0x6c2),_0xe3d2fc);}})()),renderAdminSyncDashboard(_0x52548b,!![],_0x52548b[_0x274247(0x77d)]));break;case'podium':const _0xa521a3=Object[_0x274247(0x5d7)](_0x52548b[_0x274247(0x2ae)]||{})[_0x274247(0xdf3)]>0x0,_0x5e1029=_0x52548b[_0x274247(0x813)]===!![],_0x683234=_0x52548b[_0x274247(0xb25)]===!![];_0x683234&&!_0x5e1029&&_0xa521a3&&saveGameResultsAsSubmissions(_0x52548b);sessionStorage[_0x274247(0x39a)](_0x274247(0xc10));const _0x1d2e64=calculateFinalPodiumScores(_0x52548b);showPodiumView(_0x1d2e64,'sync',_0x52548b);break;}}function renderAdminSyncQuestionView(_0x36fc25){const _0x321fe6=_0x47050f,_0x3cc856=_0x36fc25[_0x321fe6(0x77d)],_0x2d6f55=_0x36fc25[_0x321fe6(0x1ca)][_0x321fe6(0xbd5)][_0x3cc856],_0xe62a76=_0x36fc25['shuffledQuiz'][_0x321fe6(0xbd5)][_0x321fe6(0xdf3)],_0x3d29b7=Object[_0x321fe6(0xb0c)](_0x36fc25['players']||{})[_0x321fe6(0xc87)](_0xccef6d=>_0xccef6d[_0x321fe6(0xbd3)]!==_0x321fe6(0x96c)),_0xff712b=_0x3d29b7[_0x321fe6(0xc87)](_0x3eea21=>_0x3eea21[_0x321fe6(0xa6b)])[_0x321fe6(0xdf3)],_0x588ec1=_0xff712b===_0x3d29b7[_0x321fe6(0xdf3)]&&_0x3d29b7[_0x321fe6(0xdf3)]>0x0,_0x152354=(_0x2d6f55[_0x321fe6(0x9d8)]||[])[_0x321fe6(0x3cc)](_0x1c3382=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x1c3382+_0x321fe6(0xad2))['join']('');let _0x5a49d1='';_0x36fc25[_0x321fe6(0x397)]===_0x321fe6(0x952)&&(_0x5a49d1=_0x321fe6(0xd6d)+_0x36fc25[_0x321fe6(0x1d4)]+_0x321fe6(0x9f7));liveGameView[_0x321fe6(0xb90)]=_0x321fe6(0x842)+(_0x3cc856+0x1)+'\x20/\x20'+_0xe62a76+_0x321fe6(0x1ed)+_0x36fc25[_0x321fe6(0xe34)]+_0x321fe6(0x372)+_0xff712b+'/'+_0x3d29b7[_0x321fe6(0xdf3)]+_0x321fe6(0xcf4)+_0x5a49d1+_0x321fe6(0x83c)+_0x2d6f55['questionText']+_0x321fe6(0x456)+_0x152354+_0x321fe6(0x20a)+(!_0x588ec1?_0x321fe6(0x9b6):'')+_0x321fe6(0xc77);if(window['MathJax'])MathJax['typesetPromise']();const _0x52a3d2=doc(db,_0x321fe6(0x4cd)+appId+_0x321fe6(0x946),currentLiveGameId);document[_0x321fe6(0x70b)]('show-results-btn')[_0x321fe6(0x86d)]('click',async()=>{await updateDoc(_0x52a3d2,{'status':'summary'});}),document['getElementById'](_0x321fe6(0x4c9))[_0x321fe6(0x257)]=()=>{openScratchpad(_0x2d6f55,_0x2d6f55['options']||[]);},document[_0x321fe6(0x70b)](_0x321fe6(0x8da))[_0x321fe6(0x86d)](_0x321fe6(0x9a8),()=>{const _0x54f57a=_0x321fe6;document[_0x54f57a(0x70b)]('sync-player-management')[_0x54f57a(0x9cc)][_0x54f57a(0x1a3)](_0x54f57a(0xbce));});const _0x520a15=document[_0x321fe6(0x70b)]('end-sync-game-btn');_0x520a15&&(_0x520a15[_0x321fe6(0x257)]=()=>{const _0x3d159f=_0x321fe6;showConfirmation(_0x3d159f(0xc26),async()=>{const _0x28aafd=_0x3d159f;await updateDoc(_0x52a3d2,{'status':_0x28aafd(0x824)});});});}function renderSyncLeaderboardView(_0x1e1ba4,_0x9c36b0){const _0xd6c1dd=_0x47050f,_0x59754e=Object[_0xd6c1dd(0xb0c)](_0x1e1ba4[_0xd6c1dd(0x2ae)]||{});_0x59754e[_0xd6c1dd(0x846)]((_0x54abf4,_0x3bc5d8)=>_0x3bc5d8[_0xd6c1dd(0x6e9)]-_0x54abf4[_0xd6c1dd(0x6e9)]);const _0x1e728d=_0x59754e[_0xd6c1dd(0x787)](0x0,0x5);let _0x47e8ea='';if(_0x9c36b0){const _0x1219dc=_0x1e1ba4[_0xd6c1dd(0x77d)]>=_0x1e1ba4['shuffledQuiz'][_0xd6c1dd(0xbd5)][_0xd6c1dd(0xdf3)]-0x1;_0x47e8ea='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x1219dc?_0xd6c1dd(0x57e):_0xd6c1dd(0xcd1))+_0xd6c1dd(0xc7c);}else _0x47e8ea=_0xd6c1dd(0xb1e);liveGameView[_0xd6c1dd(0xb90)]=_0xd6c1dd(0xd9c)+_0x1e728d[_0xd6c1dd(0x3cc)]((_0x1273d9,_0x364da7)=>_0xd6c1dd(0x83a)+(_0x364da7+0x1)+'.\x20'+_0x1273d9['name']+_0xd6c1dd(0xe0a)+_0x1273d9[_0xd6c1dd(0x6e9)]+_0xd6c1dd(0x53a))[_0xd6c1dd(0x909)]('')+_0xd6c1dd(0x6f1)+_0x47e8ea+_0xd6c1dd(0x33a),_0x9c36b0&&document[_0xd6c1dd(0x70b)]('next-sync-question-btn')[_0xd6c1dd(0x86d)]('click',async()=>{const _0x487f94=_0xd6c1dd,_0x21f12b=doc(db,'artifacts/'+appId+_0x487f94(0x946),currentLiveGameId),_0x22d9e4=_0x1e1ba4[_0x487f94(0x77d)]+0x1;if(_0x22d9e4<_0x1e1ba4['shuffledQuiz'][_0x487f94(0xbd5)]['length']){const _0x46ff11={};Object['keys'](_0x1e1ba4[_0x487f94(0x2ae)])[_0x487f94(0xc4c)](_0x4b326c=>{const _0x4361f1=_0x487f94;_0x46ff11[_0x4361f1(0xdc2)+_0x4b326c+_0x4361f1(0x665)]=![];}),await updateDoc(_0x21f12b,{'status':'question','currentQuestionIndex':_0x22d9e4,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x21f12b,{'status':_0x487f94(0x824)});});}async function handleJoinSyncGame(){const _0x3869b9=_0x47050f,_0x368b34=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x368b34||_0x368b34[_0x3869b9(0x28f)]()[_0x3869b9(0xdf3)]!==0x2){showMessage(_0x3869b9(0xc00));return;}try{const _0x485a77=collection(db,_0x3869b9(0x4cd)+appId+_0x3869b9(0x946)),_0x342822=query(_0x485a77,where('pin','==',_0x368b34['trim']()),where(_0x3869b9(0xbd3),'==',_0x3869b9(0x673))),_0x180ce7=await getDocs(_0x342822);if(_0x180ce7['empty']){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x35b7c9=_0x180ce7[_0x3869b9(0x26e)][0x0];currentLiveGameId=_0x35b7c9['id'];const _0x691d8=_0x35b7c9[_0x3869b9(0x54c)](),_0x4ecf8c=doc(db,_0x3869b9(0x4cd)+appId+'/public/data/quizzes',_0x691d8[_0x3869b9(0x727)]),_0x24e404=await getDoc(_0x4ecf8c);if(!_0x24e404[_0x3869b9(0x7ed)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x545c62=_0x24e404[_0x3869b9(0x54c)](),_0x39bc1d=doc(db,_0x3869b9(0x4cd)+appId+_0x3869b9(0x28e),_0x545c62[_0x3869b9(0x28c)]),_0x67656c=await getDoc(_0x39bc1d);if(!_0x67656c[_0x3869b9(0x7ed)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x691d8[_0x3869b9(0x1ca)];const _0x2b02b5=_0x67656c[_0x3869b9(0x54c)]();showView(_0x3869b9(0x5aa)),showTeamPlayerSelection(_0x2b02b5[_0x3869b9(0xa70)],_0x545c62[_0x3869b9(0x6d2)]);const _0x211264=document['getElementById'](_0x3869b9(0x346));_0x211264[_0x3869b9(0x257)]=confirmAndJoinSyncGame;}catch(_0x3059a6){console[_0x3869b9(0x8c2)]('Error\x20joining\x20sync\x20game:',_0x3059a6),showMessage(_0x3869b9(0x2fd)+_0x3059a6[_0x3869b9(0xac4)]);}}function updateStudentSyncView(_0x178e1e){const _0x1c6894=_0x47050f,_0xcd4ac5=localTeamPlayers[0x0],_0x53b5f7=_0x178e1e[_0x1c6894(0x2ae)][_0xcd4ac5]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x178e1e[_0x1c6894(0xbd3)]){case _0x1c6894(0x673):showView(_0x1c6894(0x1e1)),liveGameView[_0x1c6894(0xb90)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x1c6894(0x9ea):if(_0x178e1e[_0x1c6894(0x77d)]!==lastSeenQuestionIndex){console[_0x1c6894(0x418)](_0x1c6894(0xd63)),sessionStorage[_0x1c6894(0x39a)](_0x1c6894(0x86e)),sessionStorage[_0x1c6894(0x39a)]('onSecondChance'),sessionStorage[_0x1c6894(0x39a)]('pollUsedThisTurn');const _0x105010='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x28a111='powerupUsed_q'+lastSeenQuestionIndex,_0x5317f7=_0x1c6894(0xb57)+lastSeenQuestionIndex;Object[_0x1c6894(0x5d7)](sessionStorage)[_0x1c6894(0xc4c)](_0x333ef6=>{const _0xc5cfc8=_0x1c6894;(_0x333ef6[_0xc5cfc8(0xdac)](_0x105010)||_0x333ef6[_0xc5cfc8(0xdac)](_0x28a111)||_0x333ef6[_0xc5cfc8(0xdac)](_0x5317f7))&&sessionStorage[_0xc5cfc8(0x39a)](_0x333ef6);});if(_0x53b5f7[_0x1c6894(0x4d4)]||_0x53b5f7[_0x1c6894(0xbab)]||(_0x53b5f7[_0x1c6894(0x34c)]||0x0)>0x0){const _0x186200=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x1c6894(0x59c),_0xcd4ac5);updateDoc(_0x186200,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x1c6894(0x570)](_0x5a38f6=>console['error'](_0x1c6894(0x4c1),_0x5a38f6));}lastSeenQuestionIndex=_0x178e1e[_0x1c6894(0x77d)];}localPlayerTurnIndex=0x0;const _0x4f437e=localTeamPlayers[_0x1c6894(0xc57)](_0xb93e63=>_0x178e1e[_0x1c6894(0x2ae)][_0xb93e63]?.[_0x1c6894(0xa6b)]===!![]);if(_0x4f437e)liveGameView[_0x1c6894(0xb90)]=_0x1c6894(0xd14);else{renderStudentSyncQuestionView(_0x178e1e);if(_0x178e1e['timerMode']===_0x1c6894(0x952)){if(!_0x178e1e[_0x1c6894(0x912)]){console['log']('Waiting\x20for\x20server\x20timestamp\x20for\x20timer...');return;}const _0x78d784=_0x178e1e['questionDisplayedAt']['toDate']()[_0x1c6894(0xc37)](),_0x1963b0=_0x178e1e[_0x1c6894(0x1d4)]*0x3e8,_0x520bb8=localTeamPlayers[_0x1c6894(0x3cc)](_0x480e2c=>_0x178e1e[_0x1c6894(0x2ae)][_0x480e2c]?.[_0x1c6894(0x34c)]||0x0),_0x2a8fde=Math[_0x1c6894(0xd2c)](..._0x520bb8,0x0),_0x226852=_0x78d784+_0x1963b0+_0x2a8fde;syncQuestionTimerInterval=setInterval(()=>{const _0x1a9340=_0x1c6894,_0x38deec=_0x226852-Date['now'](),_0x555627=document['getElementById'](_0x1a9340(0x64d)),_0x4ffa1=document[_0x1a9340(0x70b)]('sync-timer-countdown');if(_0x38deec<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x555627)_0x555627[_0x1a9340(0x8aa)][_0x1a9340(0x3e0)]='0%';if(_0x4ffa1)_0x4ffa1['textContent']='0';liveGameView[_0x1a9340(0xb90)]=_0x1a9340(0xca3);}else{if(_0x555627&&_0x4ffa1){const _0x831a73=_0x1963b0+_0x2a8fde,_0x3ef848=_0x831a73>0x0?_0x38deec/_0x831a73*0x64:0x0;_0x555627[_0x1a9340(0x8aa)][_0x1a9340(0x3e0)]=_0x3ef848+'%',_0x4ffa1['textContent']=Math[_0x1a9340(0x8f4)](_0x38deec/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x1c6894(0xb90)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'results':localPlayerTurnIndex=0x0;const _0x8bb6f2=_0x178e1e[_0x1c6894(0x58e)]||_0x1c6894(0x44d);if(_0x8bb6f2==='anonymous'||_0x8bb6f2===_0x1c6894(0x88c))renderStudentAnonymousResultsView(_0x178e1e,_0x178e1e[_0x1c6894(0x77d)]);else _0x8bb6f2==='competition'?renderStudentCompetitionResultsView(_0x178e1e,_0x178e1e[_0x1c6894(0x77d)]):renderStudentSyncResultsView(_0x178e1e);break;case _0x1c6894(0x824):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1c6894(0x64c)]('fullscreenchange',handleFullscreenChange),document[_0x1c6894(0x64c)](_0x1c6894(0xdb0),handleVisibilityChange),sessionStorage['removeItem'](_0x1c6894(0xc10));const _0x5d325b=_0x178e1e[_0x1c6894(0x58e)]||'classic',_0x55cf9c=_0x178e1e[_0x1c6894(0x1ca)][_0x1c6894(0xbd5)][_0x1c6894(0xdf3)]-0x1;if(_0x5d325b===_0x1c6894(0x463)||_0x5d325b===_0x1c6894(0x88c))renderStudentAnonymousResultsView(_0x178e1e,_0x55cf9c);else _0x5d325b==='competition'?renderStudentCompetitionResultsView(_0x178e1e,_0x55cf9c):renderStudentSyncResultsView(_0x178e1e);const _0x5135b3=liveGameView['querySelector'](_0x1c6894(0xdb2));_0x5135b3&&(_0x5135b3['style'][_0x1c6894(0x6cf)]='none');const _0x147cb7=liveGameView['querySelector'](_0x1c6894(0xaad));_0x147cb7&&(_0x147cb7[_0x1c6894(0x8aa)][_0x1c6894(0x6cf)]=_0x1c6894(0x9b8));const _0x4a9ae9=_0x1c6894(0xc20);liveGameView[_0x1c6894(0x884)]?liveGameView[_0x1c6894(0x884)]['insertAdjacentHTML'](_0x1c6894(0xb37),_0x4a9ae9):liveGameView[_0x1c6894(0x49b)](_0x1c6894(0xb37),_0x4a9ae9);break;}}function renderStudentSyncResultsView(_0x1db2c6){const _0x317e98=_0x47050f;let _0x16ad00=[];_0x1db2c6[_0x317e98(0xab4)]?_0x16ad00=_0x1db2c6['publicLeaderboard'][_0x317e98(0xc87)](_0x11ad06=>localTeamPlayers[_0x317e98(0x7f1)](_0x11ad06['name'])):_0x16ad00=Object[_0x317e98(0xb0c)](_0x1db2c6[_0x317e98(0x2ae)]||{})[_0x317e98(0xc87)](_0x35e51a=>localTeamPlayers[_0x317e98(0x7f1)](_0x35e51a[_0x317e98(0x312)]));const _0x308a43=_0x1db2c6['gameVariant']||'classic',_0x581de4=_0x308a43===_0x317e98(0x3fe)||_0x308a43===_0x317e98(0x88c),_0x3f08ba=_0x1db2c6['shuffledQuiz'][_0x317e98(0xbd5)],_0x18d411=_0x581de4&&_0x1db2c6[_0x317e98(0x394)]!==undefined?_0x1db2c6[_0x317e98(0x394)]:_0x1db2c6[_0x317e98(0x77d)],_0x2a42cb=_0x581de4?_0x1db2c6[_0x317e98(0x394)]:_0x1db2c6['currentQuestionIndex'],_0x1f68e6=_0x16ad00[_0x317e98(0x3cc)](_0x2c5ec3=>{const _0x1a85ec=_0x317e98,_0x3192ce=(_0x2c5ec3[_0x1a85ec(0x9f8)]||[])[_0x1a85ec(0xc87)](_0x421d77=>_0x421d77['questionIndex']<=_0x18d411);let _0x335676=0x0,_0x490b60=0x0;return _0x581de4?(_0x335676=_0x3192ce[_0x1a85ec(0xc87)](_0x5b83c3=>_0x5b83c3[_0x1a85ec(0x985)])['length'],_0x490b60=_0x3192ce['reduce']((_0x590a34,_0xc510b6)=>_0x590a34+(_0xc510b6[_0x1a85ec(0xe6b)]||0x0),0x0)):(_0x335676=_0x2c5ec3[_0x1a85ec(0x6e9)]||0x0,_0x490b60=_0x2c5ec3[_0x1a85ec(0xe3d)]||0x0),{..._0x2c5ec3,'score':_0x335676,'totalPoints':_0x490b60,'answers':_0x2c5ec3[_0x1a85ec(0x9f8)]};});_0x1f68e6[_0x317e98(0x846)]((_0x4904fa,_0x305e4f)=>(_0x305e4f[_0x317e98(0xe3d)]||0x0)-(_0x4904fa[_0x317e98(0xe3d)]||0x0));let _0x918dca='';const _0x29b24d=_0x581de4?_0x18d411>=_0x3f08ba['length']-0x1:_0x1db2c6[_0x317e98(0x77d)]>=_0x3f08ba[_0x317e98(0xdf3)]-0x1;_0x29b24d?_0x918dca=_0x317e98(0xdd9):_0x918dca='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x4541c0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f68e6[_0x317e98(0x3cc)]((_0x241211,_0xe23042)=>{const _0x111a78=_0x317e98;let _0x2d7362=_0x111a78(0x79c);const _0x1462bd=(_0x241211['answers']||[])[_0x111a78(0x60d)](_0x19d645=>_0x19d645['questionIndex']===_0x2a42cb);if(_0x1462bd){const _0xcf9fe4=_0x1462bd['isCorrect'],_0x407bcc=_0x1462bd['wasConfident']===!![]||_0x1462bd[_0x111a78(0x313)]===_0x111a78(0xe8d),_0x43d75a=_0x1462bd['powerupUsed'];if(_0x43d75a===_0x111a78(0x775))_0xcf9fe4?_0x2d7362=_0x111a78(0x2f8):_0x2d7362='bg-red-700\x20text-white\x20font-bold';else{if(_0x407bcc)_0xcf9fe4?_0x2d7362=_0x111a78(0x9e0):_0x2d7362='bg-[#EF4444]\x20text-white\x20font-bold';else _0xcf9fe4?_0x2d7362=_0x111a78(0x2fa):_0x2d7362=_0x111a78(0x41b);}}let _0x6a2a9b='';_0x1462bd&&_0x1462bd[_0x111a78(0x6e5)]===_0x111a78(0x775)&&!_0x1462bd[_0x111a78(0x985)]&&(_0x6a2a9b=_0x111a78(0xe37));const _0x234324=_0x241211[_0x111a78(0xe3d)]>=0x0?'(+'+_0x241211['totalPoints']+')':'('+_0x241211[_0x111a78(0xe3d)]+')';return _0x111a78(0x583)+_0x2d7362+_0x111a78(0x6e3)+(_0xe23042+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x241211[_0x111a78(0x312)]+_0x111a78(0xe33)+_0x241211['score']+_0x111a78(0x8be)+_0x234324+_0x111a78(0x370)+_0x6a2a9b+_0x111a78(0x5b1);})[_0x317e98(0x909)]('')+_0x317e98(0x571)+_0x918dca+_0x317e98(0x9c4);liveGameView['innerHTML']=_0x4541c0;}function renderStudentAnonymousResultsView(_0x2eef14,_0x4fbde6){const _0x2179e1=_0x47050f;let _0x3b2e87=[];_0x2eef14[_0x2179e1(0xab4)]?_0x3b2e87=_0x2eef14[_0x2179e1(0xab4)]:_0x3b2e87=Object[_0x2179e1(0xb0c)](_0x2eef14[_0x2179e1(0x2ae)]||{});const _0x3f97a2=_0x2eef14['gameVariant']||_0x2179e1(0x44d),_0x70de4f=_0x3f97a2===_0x2179e1(0x3fe)||_0x3f97a2==='anonymous_reveal_end',_0x8eadb2=_0x2eef14[_0x2179e1(0xa3f)]===!![],_0x1b9665=_0x2eef14[_0x2179e1(0x1ca)]['questions'],_0x94132a=_0x70de4f&&_0x2eef14[_0x2179e1(0x394)]!==undefined?_0x2eef14['reviewQuestionIndex']:_0x4fbde6,_0x4498df=_0x3b2e87['map'](_0x40f899=>{const _0x5a3159=_0x2179e1,_0x2e580e=(_0x40f899[_0x5a3159(0x9f8)]||[])[_0x5a3159(0xc87)](_0x2218a8=>_0x2218a8[_0x5a3159(0x33c)]<=_0x94132a);let _0x4df54a=0x0,_0x31f6e2=0x0;return _0x70de4f?(_0x4df54a=_0x2e580e['filter'](_0xac28ac=>_0xac28ac[_0x5a3159(0x985)])['length'],_0x31f6e2=_0x2e580e[_0x5a3159(0x3cf)]((_0x40db82,_0xe20cd5)=>_0x40db82+(_0xe20cd5[_0x5a3159(0xe6b)]||0x0),0x0)):(_0x4df54a=_0x40f899[_0x5a3159(0x6e9)]||0x0,_0x31f6e2=_0x40f899[_0x5a3159(0xe3d)]||0x0),{..._0x40f899,'realScore':_0x4df54a,'totalPoints':_0x31f6e2,'answers':_0x2e580e};}),_0x423cb4=_0x2eef14[_0x2179e1(0xabf)]===!![],_0xa82f21=[..._0x4498df][_0x2179e1(0x846)]((_0x25b7d3,_0x2894df)=>{const _0x14b535=_0x2179e1;if(_0x423cb4){const _0x56cafb=_0x2894df[_0x14b535(0xe3d)]-_0x25b7d3[_0x14b535(0xe3d)];if(_0x56cafb!==0x0)return _0x56cafb;const _0x363b31=_0x2894df[_0x14b535(0x4ce)]-_0x25b7d3[_0x14b535(0x4ce)];if(_0x363b31!==0x0)return _0x363b31;return(_0x25b7d3[_0x14b535(0x312)]||'')[_0x14b535(0xbf4)](_0x2894df[_0x14b535(0x312)]||'','th');}else{const _0x720457=_0x2894df['totalPoints']-_0x25b7d3[_0x14b535(0xe3d)];if(_0x720457!==0x0)return _0x720457;const _0x27159b=_0x2894df['realScore']-_0x25b7d3[_0x14b535(0x4ce)];if(_0x27159b!==0x0)return _0x27159b;return(_0x25b7d3[_0x14b535(0x312)]||'')[_0x14b535(0xbf4)](_0x2894df['name']||'','th');}});let _0x27872f=null;const _0x55393a=_0x4498df[_0x2179e1(0xc87)](_0x3a2bfb=>localTeamPlayers['includes'](_0x3a2bfb[_0x2179e1(0x312)]));_0x27872f=_0x55393a[_0x2179e1(0xdf3)]>0x0?_0x55393a[_0x2179e1(0x846)]((_0x36b2f4,_0x372192)=>_0x372192[_0x2179e1(0xe3d)]-_0x36b2f4['totalPoints'])[0x0]:null;if(!_0x27872f){liveGameView[_0x2179e1(0xb90)]=_0x2179e1(0x291);return;}const _0x5c02b0=_0x423cb4?_0x27872f['totalPoints']:_0x27872f[_0x2179e1(0xe3d)],_0x17f91a=_0x423cb4?_0x27872f['realScore']:_0x27872f[_0x2179e1(0x4ce)],_0x2de65f=_0xa82f21[0x0],_0x474634=_0x423cb4?_0x2de65f[_0x2179e1(0xe3d)]:_0x2de65f[_0x2179e1(0xe3d)],_0x1bb8de=_0x423cb4?_0x2de65f[_0x2179e1(0x4ce)]:_0x2de65f[_0x2179e1(0x4ce)],_0x182de8=_0x5c02b0===_0x474634&&_0x17f91a===_0x1bb8de&&(_0xa82f21[0x0][_0x2179e1(0x4ce)]>0x0||_0xa82f21[0x0][_0x2179e1(0xe3d)]>0x0),_0x5cc1af=_0x94132a+0x1,_0x31b8e0=_0x4498df[_0x2179e1(0xc87)](_0x32baab=>_0x32baab[_0x2179e1(0x4ce)]===_0x5cc1af&&(_0x32baab[_0x2179e1(0x9f8)]||[])['length']===_0x5cc1af&&_0x5cc1af>0x0),_0x3de9e7=_0x31b8e0['length']>0x0?Math['max'](..._0x31b8e0['map'](_0x2e5bdb=>_0x2e5bdb[_0x2179e1(0xe3d)])):-Infinity,_0x229625=_0xa82f21[_0x2179e1(0x3cc)]((_0x55089d,_0x435fe3)=>{const _0x5346ef=_0x2179e1,_0x3dddac=_0x55089d[_0x5346ef(0x4ce)],_0x10e532=_0x55089d[_0x5346ef(0xe3d)],_0x505fa2=(_0x55089d[_0x5346ef(0x9f8)]||[])['find'](_0x1f9526=>_0x1f9526[_0x5346ef(0x33c)]===_0x94132a);let _0x3523f7='';if(_0x505fa2){if(_0x505fa2[_0x5346ef(0xd43)])_0x3523f7+=_0x5346ef(0xb9c);if(_0x505fa2['wasJinxed'])_0x3523f7+=_0x5346ef(0x75c);if(_0x505fa2[_0x5346ef(0x220)])_0x3523f7+=_0x5346ef(0x258);const _0x316bfa=_0x505fa2[_0x5346ef(0x6e5)];if(_0x316bfa){const _0x55fda4={'poll':'📊','cutOne':'✂️','insurance':_0x5346ef(0x5f4),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x55fda4[_0x316bfa])_0x3523f7+=_0x5346ef(0xb5e)+_0x55fda4[_0x316bfa]+'</span>';}}let _0x1d162f='';if(_0x423cb4){if(_0x10e532===_0x3de9e7&&_0x3de9e7>0x0)_0x1d162f+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>👑</span>';}else{const _0x1a954f=_0x55089d['realScore']===_0x5cc1af&&_0x5cc1af>0x0;if(_0x1a954f)_0x1d162f=_0x5346ef(0x91c);}if(_0x1d162f===''&&_0x10e532<0x0)_0x1d162f=_0x5346ef(0x89e);let _0x2fc9aa=_0x5346ef(0xde6),_0x4b0c8a=![];const _0x182dff=(_0x55089d[_0x5346ef(0x9f8)]||[])[_0x5346ef(0x60d)](_0x3be4c8=>_0x3be4c8['questionIndex']===_0x94132a);if(_0x182dff){const _0x4a7d34=_0x182dff['isCorrect'],_0x6a69ac=_0x182dff['wasConfident']===!![]||_0x182dff[_0x5346ef(0x313)]===_0x5346ef(0xe8d),_0xbd23a5=_0x182dff[_0x5346ef(0x6e5)];if(_0xbd23a5===_0x5346ef(0x775))_0x4a7d34?(_0x2fc9aa=_0x5346ef(0x2f8),_0x4b0c8a=!![]):_0x2fc9aa='bg-red-700\x20text-white\x20font-bold';else{if(_0x6a69ac)_0x2fc9aa=_0x4a7d34?_0x5346ef(0x9e0):_0x5346ef(0xda1);else _0x4a7d34&&(_0x2fc9aa=_0x5346ef(0x2fa));}}let _0x15e512='';const _0x2e0f4a=_0x55089d[_0x5346ef(0x312)],_0x905a8c=_0x2eef14[_0x5346ef(0x4eb)][_0x55089d['name']]||'???',_0x1441e7=_0x5346ef(0x7aa),_0x2e0d41=_0x5346ef(0x6ae),_0x4a7522=localTeamPlayers['includes'](_0x2e0f4a),_0x2a024f=_0x423cb4?_0x55089d[_0x5346ef(0xe3d)]:_0x55089d[_0x5346ef(0xe3d)],_0x25d7e3=_0x4b0c8a?_0x5346ef(0x812):_0x5346ef(0x7ea);if(_0x8eadb2)_0x15e512=_0x5346ef(0x531)+_0x1441e7+_0x5346ef(0x2e0)+_0x2e0f4a+'\x20('+_0x905a8c+_0x5346ef(0x558)+_0x2e0d41+'\x22>'+_0x2e0f4a+_0x5346ef(0xb54)+_0x3523f7+'\x20'+_0x1d162f+_0x5346ef(0x794)+_0x25d7e3+_0x5346ef(0xbf5)+_0x2e0d41+'\x22>('+_0x905a8c+_0x5346ef(0x72b);else{if(_0x4a7522)_0x182de8?_0x15e512=_0x5346ef(0x531)+_0x1441e7+_0x5346ef(0x2e0)+_0x2e0f4a+'\x20('+_0x905a8c+_0x5346ef(0x558)+_0x2e0d41+'\x22>'+_0x2e0f4a+_0x5346ef(0xb54)+_0x3523f7+'\x20'+_0x1d162f+_0x5346ef(0x794)+_0x25d7e3+_0x5346ef(0xbf5)+_0x2e0d41+_0x5346ef(0x1d1)+_0x905a8c+_0x5346ef(0x72b):_0x15e512=_0x5346ef(0x531)+_0x1441e7+'\x22\x20title=\x22'+_0x905a8c+_0x5346ef(0x4b9)+_0x2e0d41+'\x22>'+_0x905a8c+'</span>\x20'+_0x3523f7+'\x20'+_0x1d162f+_0x5346ef(0xad2),_0x15e512=_0x5346ef(0x2e5)+_0x15e512+_0x5346ef(0x6f4);else{const _0x297873=_0x5c02b0>_0x2a024f;_0x297873?_0x15e512=_0x5346ef(0x531)+_0x1441e7+_0x5346ef(0x2e0)+_0x2e0f4a+'\x20('+_0x905a8c+_0x5346ef(0x558)+_0x2e0d41+'\x22>'+_0x2e0f4a+_0x5346ef(0xb54)+_0x3523f7+'\x20'+_0x1d162f+'<span\x20class=\x22block\x20text-sm\x20'+_0x25d7e3+_0x5346ef(0xbf5)+_0x2e0d41+_0x5346ef(0x1d1)+_0x905a8c+_0x5346ef(0x72b):_0x15e512=_0x5346ef(0x531)+_0x1441e7+_0x5346ef(0x2e0)+_0x905a8c+_0x5346ef(0x4b9)+_0x2e0d41+'\x22>'+_0x905a8c+'</span>\x20'+_0x3523f7+'\x20'+_0x1d162f+'</div>';}}const _0x2356ab=_0x10e532>=0x0?'(+'+_0x10e532+')':'('+_0x10e532+')',_0x3726bc='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x55089d[_0x5346ef(0x4ce)]+_0x5346ef(0x8be)+_0x2356ab+_0x5346ef(0x1ee);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x2fc9aa+_0x5346ef(0x5e1)+(_0x435fe3+0x1)+_0x5346ef(0x368)+_0x15e512+_0x5346ef(0x8ff)+_0x3726bc+_0x5346ef(0x5ff);})['join']('');let _0x2f8e6f='';const _0x16f7a4=_0x70de4f?_0x94132a>=_0x1b9665['length']-0x1:_0x2eef14[_0x2179e1(0x77d)]>=_0x1b9665[_0x2179e1(0xdf3)]-0x1;_0x16f7a4?_0x2f8e6f=_0x2179e1(0xdd9):_0x2f8e6f=_0x2179e1(0xcb2);const _0xf0261b=_0x2179e1(0x430)+_0x229625+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f8e6f+_0x2179e1(0x33a);liveGameView[_0x2179e1(0xb90)]=_0xf0261b;}function renderStudentCompetitionResultsView(_0x49cf0b,_0xb500d8){const _0xbe8565=_0x47050f,_0x481d3c=Object['values'](_0x49cf0b['players']||{}),_0x1bb3de=_0xb500d8,_0x3b49b5=_0x49cf0b[_0xbe8565(0x58e)]||_0xbe8565(0x44d),_0xa5def3=_0x49cf0b['shuffledQuiz']['questions'],_0x2ac4b7=_0x481d3c[_0xbe8565(0x3cc)](_0x524c48=>{const _0x5bc2cd=_0xbe8565,_0x361130=_0x524c48[_0x5bc2cd(0x6e9)]||0x0,_0x1b0ab0=_0x524c48[_0x5bc2cd(0xe3d)]||0x0,_0x348b1b=(_0x524c48[_0x5bc2cd(0x9f8)]||[])[_0x5bc2cd(0xc87)](_0x19c6d3=>_0x3b49b5===_0x5bc2cd(0x3fe)?_0x19c6d3[_0x5bc2cd(0x33c)]<=_0x1bb3de:!![]);return{..._0x524c48,'realScore':_0x361130,'totalPoints':_0x1b0ab0,'answers':_0x348b1b};}),_0x5dfdeb=_0x49cf0b[_0xbe8565(0xabf)]===!![],_0x4173cc=[..._0x2ac4b7][_0xbe8565(0x846)]((_0x481178,_0x354e28)=>{const _0x50c8cf=_0xbe8565;if(_0x5dfdeb){const _0x59fb2e=_0x354e28[_0x50c8cf(0x4ce)]-_0x481178[_0x50c8cf(0x4ce)];if(_0x59fb2e!==0x0)return _0x59fb2e;const _0x8ea500=_0x354e28['totalPoints']-_0x481178[_0x50c8cf(0xe3d)];if(_0x8ea500!==0x0)return _0x8ea500;return(_0x481178[_0x50c8cf(0x312)]||'')[_0x50c8cf(0xbf4)](_0x354e28['name']||'','th');}else{const _0x520e34=_0x354e28[_0x50c8cf(0xe3d)]-_0x481178[_0x50c8cf(0xe3d)];if(_0x520e34!==0x0)return _0x520e34;const _0x554f09=_0x354e28[_0x50c8cf(0x4ce)]-_0x481178[_0x50c8cf(0x4ce)];if(_0x554f09!==0x0)return _0x554f09;return(_0x481178[_0x50c8cf(0x312)]||'')['localeCompare'](_0x354e28['name']||'','th');}}),_0x4cf2d1=_0x4173cc[_0xbe8565(0x3cc)]((_0x1e0ae4,_0x390a3c)=>{const _0x4b62fd=_0xbe8565,_0x587007='';let _0xd7dd78=_0x4b62fd(0xde6);const _0x4caf0d=_0x1e0ae4[_0x4b62fd(0x312)],_0x1a97af=_0x4b62fd(0x7aa),_0x963698=_0x4b62fd(0x6ae),_0x57e555=_0x4b62fd(0x531)+_0x1a97af+_0x4b62fd(0x2e0)+_0x4caf0d+'\x22><span\x20style=\x22'+_0x963698+'\x22>'+_0x4caf0d+'</span>'+_0x587007+_0x4b62fd(0xad2),_0x559017='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0xd7dd78+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x390a3c+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x57e555+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x559017+_0x4b62fd(0x5ff);})[_0xbe8565(0x909)]('');let _0x21e3c4='';const _0x521fe5=_0x3b49b5===_0xbe8565(0x3fe)?_0x49cf0b[_0xbe8565(0x394)]>=_0xa5def3['length']-0x1:_0x49cf0b[_0xbe8565(0x77d)]>=_0xa5def3['length']-0x1;_0x521fe5?_0x21e3c4=_0xbe8565(0xdd9):_0x21e3c4='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0xff5e57=_0xbe8565(0x3b8)+_0x4cf2d1+_0xbe8565(0x9a6)+_0x21e3c4+_0xbe8565(0x33a);liveGameView[_0xbe8565(0xb90)]=_0xff5e57;}function renderStudentSyncQuestionView(_0x477335){const _0x38dab6=_0x47050f,_0x20d2f7=localTeamPlayers[_0x38dab6(0x60d)](_0x27fbe9=>_0x477335['players'][_0x27fbe9]&&_0x477335['players'][_0x27fbe9]['answered']===![]);if(!_0x20d2f7){console['log'](_0x38dab6(0xe86));return;}const _0xf0e80=_0x477335[_0x38dab6(0x2ae)][_0x20d2f7],_0x57c919=_0xf0e80['totalPoints']||0x0,_0x5acdf1=_0xf0e80['powerups']||{},_0x215639=_0x477335[_0x38dab6(0x58e)]||_0x38dab6(0x44d),_0x3ec48e=[_0x38dab6(0x3fe),_0x38dab6(0x88c),'competition'][_0x38dab6(0x7f1)](_0x215639),_0xdaa177=_0x477335[_0x38dab6(0x77d)],_0x81198e=_0x477335[_0x38dab6(0x1ca)][_0x38dab6(0xbd5)][_0x38dab6(0xdf3)],_0xcbdd80=_0x477335['shuffledQuiz'][_0x38dab6(0xbd5)][_0xdaa177],_0x15cd10=_0xcbdd80[_0x38dab6(0xa39)]||_0x477335['shuffledQuiz']['quizType'];let _0x37a3b3='',_0x535bf6=![];const _0x4f5b9b=_0x38dab6(0xb57)+_0xdaa177+'_p'+_0x20d2f7,_0x2462ee=JSON[_0x38dab6(0xcd4)](sessionStorage['getItem'](_0x4f5b9b)||'[]')['map'](String),_0x31ea8e='powerupUsed_q'+_0xdaa177+'_p'+_0x20d2f7,_0x116efa=sessionStorage[_0x38dab6(0x1f0)](_0x31ea8e);switch(_0x15cd10){case _0x38dab6(0x92d):const _0x17d1c0=_0x2462ee[_0x38dab6(0x7f1)]('0')?'':'<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>',_0x242ce0=_0x2462ee[_0x38dab6(0x7f1)]('1')?'':_0x38dab6(0xbfc);_0x37a3b3=_0x17d1c0+_0x242ce0;break;case'short_answer':case _0x38dab6(0x25a):_0x535bf6=!![],_0x37a3b3=_0x38dab6(0xc32);break;case _0x38dab6(0x6b7):_0x535bf6=!![],_0x37a3b3=_0x38dab6(0x224)+(_0xcbdd80['allResponses']||[])[_0x38dab6(0x3cc)](_0xb24280=>_0x38dab6(0x70f)+_0xb24280+'\x22>'+_0xb24280+'</option>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x38dab6(0x99e):default:_0x37a3b3=(_0xcbdd80[_0x38dab6(0x9d8)]||[])['map']((_0x37ef0d,_0x331473)=>{const _0x43f537=_0x38dab6;if(_0x2462ee[_0x43f537(0x7f1)](_0x331473[_0x43f537(0xae1)]()))return'';return'<button\x20data-value=\x22'+_0x331473+_0x43f537(0xa45)+_0x37ef0d+_0x43f537(0x82e);})[_0x38dab6(0x909)]('');break;}let _0xe7715='';_0x477335[_0x38dab6(0x397)]==='per_question'&&(_0xe7715='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x477335[_0x38dab6(0x1d4)]+_0x38dab6(0xa69));let _0xea46f='';if(_0x477335[_0x38dab6(0xabf)]===!![]){if(_0x3ec48e)!_0x116efa&&(_0xea46f=_0x38dab6(0xa83));else{const _0x557428=[_0x5acdf1[_0x38dab6(0x17d)]>0x0?_0x38dab6(0x9c7)+_0x5acdf1[_0x38dab6(0x17d)]+_0x38dab6(0xa8d):'',_0x5acdf1[_0x38dab6(0xdfc)]>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x5acdf1[_0x38dab6(0xdfc)]+_0x38dab6(0xa8d):'',_0x5acdf1[_0x38dab6(0x5bd)]>0x0?_0x38dab6(0x2d4)+_0x5acdf1[_0x38dab6(0x5bd)]+_0x38dab6(0xa8d):'',_0x5acdf1['fiftyFifty']>0x0?_0x38dab6(0x640)+_0x5acdf1[_0x38dab6(0xcf7)]+_0x38dab6(0xa8d):'',_0x5acdf1[_0x38dab6(0xa19)]>0x0?'<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20('+_0x5acdf1['secondChance']+')</button>':''][_0x38dab6(0xc87)](Boolean)['join']('\x20');let _0x24b036='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20shadow-md\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20ตลาดมืด\x20('+_0x57c919+_0x38dab6(0xe4d);!_0x116efa&&(_0x24b036+=_0x38dab6(0xbf8)),_0xea46f=_0x38dab6(0xd04)+_0x24b036+_0x38dab6(0xc30)+(_0x557428||'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}let _0x2a331c='';_0xf0e80[_0x38dab6(0x4d4)]===!![]&&(_0x2a331c+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>');_0xf0e80[_0x38dab6(0xbab)]===!![]&&(_0x2a331c+=_0x38dab6(0x174));if(_0x116efa)switch(_0x116efa){case'wagerMultiplier':const _0x21de7e=_0x3ec48e?_0x38dab6(0xb77):_0x38dab6(0x4b0);_0x2a331c+=_0x38dab6(0x2ff)+_0x21de7e+_0x38dab6(0x8e8);break;case'insurance':_0x2a331c+=_0x38dab6(0x1af);break;case _0x38dab6(0xa19):_0x2a331c+=_0x38dab6(0x78d);break;case'cutOne':_0x2a331c+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>';break;case'fiftyFifty':_0x2a331c+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>';break;}(_0xf0e80[_0x38dab6(0x34c)]||0x0)>0x0&&(_0x2a331c+=_0x38dab6(0x219));liveGameView[_0x38dab6(0xb90)]=_0x38dab6(0x518)+(_0xdaa177+0x1)+_0x38dab6(0x805)+_0x81198e+_0x38dab6(0x2ad)+_0x20d2f7+_0x38dab6(0xaab)+_0xe7715+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xea46f+_0x38dab6(0xe3e)+_0x2a331c+_0x38dab6(0xe51)+(_0xcbdd80[_0x38dab6(0xc25)]||_0xcbdd80[_0x38dab6(0x93d)])+_0x38dab6(0x456)+_0x37a3b3+_0x38dab6(0x4ad);if(window[_0x38dab6(0x2ab)])MathJax[_0x38dab6(0xb85)]();function _0x409a88(_0xd8c495,_0x3c8e71,_0x42afa5,_0x4231e4){const _0x273fed=_0x38dab6,_0x220bfd=_0x42afa5[_0x273fed(0xb00)]===!![],_0x86977f=_0x42afa5[_0x273fed(0x77d)],_0x3d643b=_0x273fed(0x1e7)+_0x86977f+'_p'+_0x4231e4,_0x11ea3d=sessionStorage['getItem'](_0x3d643b),_0x2d9171=_0x11ea3d===_0x273fed(0x775),_0x588781=_0x42afa5[_0x273fed(0x2ae)][_0x4231e4];if(_0x2d9171){const _0x56340c=sessionStorage['getItem'](_0x273fed(0x959))==='true';if(_0x3ec48e||_0x56340c){const _0x3d5baa=_0x588781[_0x273fed(0xe3d)]||0x0;sessionStorage[_0x273fed(0x39a)]('instantWager'),handleSyncAnswerSubmit(_0xd8c495,_0x3c8e71,_0x42afa5,_0x4231e4,![],_0x3d5baa);}else{const _0x309cb3=document[_0x273fed(0x70b)]('wager-modal'),_0x489afe=document[_0x273fed(0x70b)]('wager-slider'),_0x3d0ca4=document[_0x273fed(0x70b)](_0x273fed(0x9a1)),_0x39fe46=document[_0x273fed(0x70b)](_0x273fed(0xe46)),_0x3e2206=_0x588781[_0x273fed(0xe3d)]||0x0;_0x489afe['max']=_0x3e2206,_0x489afe[_0x273fed(0xd95)]=_0x3e2206,_0x3d0ca4[_0x273fed(0xc66)]=_0x3e2206,_0x39fe46[_0x273fed(0xc66)]=_0x3e2206,_0x489afe[_0x273fed(0xa51)]=()=>{const _0x2cf9d1=_0x273fed;_0x3d0ca4['textContent']=_0x489afe[_0x2cf9d1(0xd95)];};const _0x4ca12e=document[_0x273fed(0x70b)](_0x273fed(0x2ce));_0x4ca12e[_0x273fed(0x71a)][_0x273fed(0x43e)]=_0xd8c495,_0x4ca12e[_0x273fed(0x71a)]['question']=JSON['stringify'](_0x3c8e71),_0x4ca12e['dataset']['gameData']=JSON[_0x273fed(0xcfa)](_0x42afa5),_0x4ca12e['dataset'][_0x273fed(0x2c2)]=_0x4231e4,_0x309cb3[_0x273fed(0x9cc)][_0x273fed(0x7a8)](_0x273fed(0xbce));}}else{if(_0x220bfd){document['getElementById'](_0x273fed(0xbe1))[_0x273fed(0x71a)][_0x273fed(0x86f)]=_0x273fed(0xe5e);const _0x3b57dc=document[_0x273fed(0x70b)](_0x273fed(0xe78));_0x3b57dc[_0x273fed(0x71a)][_0x273fed(0x43e)]=_0xd8c495,_0x3b57dc[_0x273fed(0x71a)][_0x273fed(0x9ea)]=JSON[_0x273fed(0xcfa)](_0x3c8e71),_0x3b57dc[_0x273fed(0x71a)][_0x273fed(0xcd6)]=JSON['stringify'](_0x42afa5),_0x3b57dc[_0x273fed(0x71a)][_0x273fed(0x2c2)]=_0x4231e4,document[_0x273fed(0x70b)](_0x273fed(0xbe1))['classList']['remove'](_0x273fed(0xbce));}else handleSyncAnswerSubmit(_0xd8c495,_0x3c8e71,_0x42afa5,_0x4231e4,![],0x0);}}_0x535bf6?document['getElementById']('sync-submit-btn')[_0x38dab6(0x86d)](_0x38dab6(0x9a8),()=>{const _0x5a5087=_0x38dab6,_0x2549f0=document[_0x5a5087(0x70b)]('sync-short-answer-input')||document[_0x5a5087(0x70b)](_0x5a5087(0xb3c));if(_0x2549f0[_0x5a5087(0xd95)][_0x5a5087(0x28f)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x409a88(_0x2549f0['value'],_0xcbdd80,_0x477335,_0x20d2f7);}):document[_0x38dab6(0x8fc)](_0x38dab6(0x747))[_0x38dab6(0xc4c)](_0x7a77f3=>{const _0x12b2e8=_0x38dab6;_0x7a77f3[_0x12b2e8(0x86d)](_0x12b2e8(0x9a8),()=>{const _0x5e283b=_0x12b2e8;_0x409a88(_0x7a77f3['dataset'][_0x5e283b(0xd95)],_0xcbdd80,_0x477335,_0x20d2f7);});});if(_0x477335[_0x38dab6(0xabf)]===!![]){if(!_0x3ec48e){const _0x3cc8ec=document[_0x38dab6(0x70b)](_0x38dab6(0xdc8));_0x3cc8ec&&_0x3cc8ec[_0x38dab6(0x86d)](_0x38dab6(0x9a8),()=>{const _0x43f2da=_0x38dab6,_0x46d301=_0x477335[_0x43f2da(0x77d)],_0x39f7d3=_0x20d2f7,_0x153bdd=_0x43f2da(0x4fb)+_0x46d301+'_p'+_0x39f7d3,_0xdb67b=sessionStorage[_0x43f2da(0x1f0)](_0x153bdd)===_0x43f2da(0xadf);if(!_0xdb67b)openBlackMarket(_0x477335,_0xf0e80),sessionStorage[_0x43f2da(0x205)](_0x153bdd,_0x43f2da(0xadf));else{if(_0xf0e80['totalPoints']<0x1){showMessage(_0x43f2da(0xa52));return;}showConfirmation(_0x43f2da(0x87e),()=>{handlePayForMarketEntry(_0x20d2f7,_0x477335,_0xf0e80);});}}),document[_0x38dab6(0x70b)](_0x38dab6(0x6bb))?.[_0x38dab6(0x86d)](_0x38dab6(0x9a8),_0x5dd017=>{const _0x1e9692=_0x38dab6;_0x5dd017[_0x1e9692(0x1c8)]['disabled']=!![],handleUsePowerup(_0x20d2f7,_0x1e9692(0x17d),_0xcbdd80,_0x477335,_0xf0e80);}),document[_0x38dab6(0x70b)]('use-powerup-cutOne')?.['addEventListener'](_0x38dab6(0x9a8),_0x169041=>{const _0x2ec456=_0x38dab6;_0x169041[_0x2ec456(0x1c8)][_0x2ec456(0x9b6)]=!![],handleUsePowerup(_0x20d2f7,'cutOne',_0xcbdd80,_0x477335,_0xf0e80);}),document[_0x38dab6(0x70b)](_0x38dab6(0xba8))?.[_0x38dab6(0x86d)]('click',_0x49f5c=>{const _0x2a28d9=_0x38dab6;_0x49f5c['target'][_0x2a28d9(0x9b6)]=!![],handleUsePowerup(_0x20d2f7,_0x2a28d9(0x5bd),_0xcbdd80,_0x477335,_0xf0e80);}),document[_0x38dab6(0x70b)](_0x38dab6(0x544))?.['addEventListener'](_0x38dab6(0x9a8),_0x1ae55f=>{const _0x4747d3=_0x38dab6;_0x1ae55f[_0x4747d3(0x1c8)][_0x4747d3(0x9b6)]=!![],handleUsePowerup(_0x20d2f7,'fiftyFifty',_0xcbdd80,_0x477335,_0xf0e80);}),document[_0x38dab6(0x70b)](_0x38dab6(0xbe6))?.['addEventListener'](_0x38dab6(0x9a8),_0x4fad6a=>{const _0x4cf12d=_0x38dab6;_0x4fad6a[_0x4cf12d(0x1c8)]['disabled']=!![],handleUsePowerup(_0x20d2f7,_0x4cf12d(0xa19),_0xcbdd80,_0x477335,_0xf0e80);}),document['getElementById']('use-powerup-wagerMultiplier')?.[_0x38dab6(0x86d)](_0x38dab6(0x9a8),_0x33af56=>{const _0x598910=_0x38dab6;_0x33af56[_0x598910(0x1c8)][_0x598910(0x9b6)]=!![],sessionStorage[_0x598910(0x205)](_0x598910(0x959),_0x598910(0x50a)),handleUsePowerup(_0x20d2f7,_0x598910(0x775),_0xcbdd80,_0x477335,_0xf0e80);});}document[_0x38dab6(0x70b)](_0x38dab6(0x6c3))?.[_0x38dab6(0x86d)]('click',_0xfacd5d=>{const _0x19813f=_0x38dab6;_0xfacd5d[_0x19813f(0x1c8)]['disabled']=!![],sessionStorage[_0x19813f(0x205)](_0x19813f(0x959),_0x19813f(0xadf)),handleUsePowerup(_0x20d2f7,_0x19813f(0x775),_0xcbdd80,_0x477335,_0xf0e80);});}}async function handleSyncAnswerSubmit(_0x4c7eec,_0x591282,_0x52df3a,_0x5755b3,_0x3a1730,_0xd37361=0x0){const _0x366f38=_0x47050f;document['querySelectorAll'](_0x366f38(0x830))['forEach'](_0x2d11db=>_0x2d11db['disabled']=!![]);const _0x25f21c=_0x52df3a[_0x366f38(0x77d)],_0x4246f3='powerupUsed_q'+_0x25f21c+'_p'+_0x5755b3,_0x4d0723=sessionStorage[_0x366f38(0x1f0)](_0x4246f3),_0x50bcd5=_0x52df3a[_0x366f38(0x2ae)][_0x5755b3]||{},_0x5c2c79=_0x50bcd5['isForcedConfident']===!![],_0x1c067a=sessionStorage['getItem'](_0x366f38(0x183))===_0x366f38(0xadf),_0x356699=_0x591282['questionType']||_0x52df3a[_0x366f38(0x1ca)][_0x366f38(0x190)];let _0x237e0f=![],_0x56e685=_0x4c7eec;switch(_0x356699){case _0x366f38(0x92d):const _0x1403b5=parseInt(_0x4c7eec),_0x12c2be=_0x591282[_0x366f38(0x75d)]===!![]||String(_0x591282[_0x366f38(0x75d)])[_0x366f38(0xcab)]()===_0x366f38(0xadf);_0x237e0f=_0x1403b5===0x0&&_0x12c2be||_0x1403b5===0x1&&!_0x12c2be,_0x56e685=_0x1403b5===0x0?_0x366f38(0x87f):_0x366f38(0x233);break;case'short_answer':case _0x366f38(0x25a):_0x237e0f=await gradeShortAnswer(_0x4c7eec,_0x591282);break;case _0x366f38(0x6b7):_0x237e0f=_0x4c7eec===_0x591282[_0x366f38(0xc74)];break;case _0x366f38(0x99e):default:const _0x5d11aa=parseInt(_0x4c7eec);_0x237e0f=_0x5d11aa===_0x591282[_0x366f38(0xcd9)];_0x591282[_0x366f38(0x9d8)]&&_0x591282[_0x366f38(0x9d8)][_0x5d11aa]&&(_0x56e685=_0x591282[_0x366f38(0x9d8)][_0x5d11aa]);break;}if(!_0x237e0f&&_0x4d0723===_0x366f38(0xa19)&&!_0x1c067a){sessionStorage[_0x366f38(0x39a)](_0x4246f3),sessionStorage[_0x366f38(0x205)]('onSecondChance','true'),showMessage(_0x366f38(0x7f5)),document['querySelectorAll'](_0x366f38(0x830))['forEach'](_0x29db48=>{const _0xc8d0f9=_0x366f38;if(!_0x29db48[_0xc8d0f9(0x9cc)][_0xc8d0f9(0x2bc)]('hidden'))_0x29db48[_0xc8d0f9(0x9b6)]=![];});return;}let _0x330617=0x0;const _0x1f3f02=_0x4d0723===_0x366f38(0x775),_0xf67678=_0x4d0723===_0x366f38(0x5bd),_0x2502fd=sessionStorage[_0x366f38(0x1f0)](_0x366f38(0xe2c))===_0x366f38(0xadf),_0x4058a9=_0x50bcd5[_0x366f38(0x4d4)]===!![];if(_0x1f3f02){const _0x2fdb5c=parseInt(_0xd37361,0xa)||0x0;_0x330617=_0x237e0f?_0x2fdb5c*0x2:-_0x2fdb5c;}else{if(_0x2502fd&&!_0x237e0f)_0x330617=_0x3a1730===!![]||_0x3a1730==='confident'||_0x5c2c79?-0x4:-0x2;else{if(_0x5c2c79)_0x330617=_0x237e0f?0x2:-0x1;else{if(_0x52df3a[_0x366f38(0xb00)]){if(_0x237e0f&&(_0x3a1730===!![]||_0x3a1730==='confident'))_0x330617=0x2;else{if(_0x237e0f)_0x330617=0x1;else{if(!_0x237e0f&&(_0x3a1730===![]||_0x3a1730===_0x366f38(0x96f)||_0x3a1730===null))_0x330617=0x0;else{if(!_0x237e0f&&(_0x3a1730===!![]||_0x3a1730==='confident'))_0x330617=-0x1;}}}}else _0x330617=_0x237e0f?0x1:0x0;}}}if(_0x4058a9&&!_0x237e0f&&_0x330617<0x0)_0x330617*=0x2;if(!_0x237e0f&&_0xf67678)_0x330617=0x0;const _0x27e961=(_0x50bcd5[_0x366f38(0x34c)]||0x0)>0x0,_0x2dc5e0={'questionIndex':_0x52df3a[_0x366f38(0x77d)],'questionId':_0x591282['id'],'answer':_0x4c7eec,'answerText':_0x56e685,'isCorrect':_0x237e0f,'originalQuestionText':_0x591282[_0x366f38(0xc25)]||_0x591282[_0x366f38(0x93d)],'wasConfident':_0x5c2c79?_0x366f38(0xe8d):_0x3a1730||![],'pointsAwarded':_0x330617,'powerupUsed':_0x4d0723||null,'wasJinxed':_0x4058a9||![],'wasForced':_0x5c2c79||![],'usedPoll':_0x2502fd||![],'usedBuyTime':_0x27e961},_0x5542de=doc(db,_0x366f38(0x4cd)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x366f38(0x59c),_0x5755b3),_0x2c7695=_0x50bcd5[_0x366f38(0x9f8)]||[],_0x50e405=_0x2c7695[_0x366f38(0xc87)](_0x4ac3c3=>_0x4ac3c3[_0x366f38(0x33c)]!==_0x52df3a[_0x366f38(0x77d)]),_0x6fa790=[..._0x50e405,_0x2dc5e0],_0x31ed9b=_0x6fa790['filter'](_0x500df4=>_0x500df4['isCorrect'])[_0x366f38(0xdf3)],_0x55c945={'answers':_0x6fa790,'score':_0x31ed9b,'totalPoints':increment(_0x330617),'answered':!![],'lastAnswerIndex':_0x356699===_0x366f38(0x99e)||_0x356699===_0x366f38(0x92d)||_0x356699===_0x366f38(0x8c1)?parseInt(_0x4c7eec):null,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};if(_0x1c067a)sessionStorage[_0x366f38(0x39a)](_0x366f38(0x183));try{await updateDoc(_0x5542de,_0x55c945);}catch(_0x37fcd0){console[_0x366f38(0x8c2)](_0x366f38(0xa03),_0x37fcd0),showMessage(_0x366f38(0x330)),document[_0x366f38(0x8fc)]('.live-answer-btn,\x20#sync-submit-btn')[_0x366f38(0xc4c)](_0x5952c1=>_0x5952c1[_0x366f38(0x9b6)]=![]);}}const allMarketItems=[{'id':_0x47050f(0x17d),'name':_0x47050f(0x356),'price':0x1,'desc':_0x47050f(0x680)},{'id':_0x47050f(0xdfc),'name':_0x47050f(0xad6),'price':0x2,'desc':_0x47050f(0x5d0)},{'id':_0x47050f(0xcf7),'name':_0x47050f(0x606),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':_0x47050f(0xa19),'name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':_0x47050f(0x37e)}];function openBlackMarket(_0x5a6713,_0x117b7c){const _0x4c89bb=_0x47050f;let _0x5f11a0=null;const _0x21e94c=document[_0x4c89bb(0x70b)](_0x4c89bb(0x268)),_0x491634=document[_0x4c89bb(0x70b)](_0x4c89bb(0x40f)),_0x305549=document[_0x4c89bb(0x70b)](_0x4c89bb(0x26c)),_0x275100=document[_0x4c89bb(0x70b)](_0x4c89bb(0x675)),_0x347621=_0x117b7c[_0x4c89bb(0xe3d)]||0x0;_0x305549['textContent']=_0x347621;const _0x31139d=allMarketItems;_0x491634['innerHTML']=_0x31139d[_0x4c89bb(0x3cc)](_0x229bdc=>{const _0x58bf95=_0x4c89bb,_0x7ba123=_0x347621>=_0x229bdc[_0x58bf95(0xca4)];if(_0x229bdc['id']===_0x58bf95(0x17d)){const _0x21e531=_0x7ba123?Math[_0x58bf95(0x3ee)](_0x347621/_0x229bdc[_0x58bf95(0xca4)]):0x0,_0x31eeb1=_0x347621>=_0x229bdc['price'];return _0x58bf95(0x524)+(!_0x31eeb1?_0x58bf95(0xe90):_0x58bf95(0x674))+_0x58bf95(0x7c9)+_0x229bdc[_0x58bf95(0x312)]+_0x58bf95(0xb14)+_0x229bdc['desc']+_0x58bf95(0x918)+_0x21e531+'\x22\x20'+(!_0x31eeb1?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20'+(_0x31eeb1?_0x58bf95(0x786):_0x58bf95(0x234))+_0x58bf95(0xc03)+_0x229bdc['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x229bdc[_0x58bf95(0xca4)]+_0x58bf95(0xc64)+(!_0x31eeb1?_0x58bf95(0x9b6):'')+_0x58bf95(0x98c)+_0x229bdc[_0x58bf95(0xca4)]+_0x58bf95(0x173);}else{const _0x1e56f4=!_0x7ba123?_0x58bf95(0x9b6):'',_0x4e0ada=_0x7ba123?_0x58bf95(0x786):'bg-gray-400';return _0x58bf95(0x524)+(!_0x7ba123?_0x58bf95(0xe90):_0x58bf95(0x674))+_0x58bf95(0x7c9)+_0x229bdc[_0x58bf95(0x312)]+_0x58bf95(0xb14)+_0x229bdc[_0x58bf95(0xd10)]+_0x58bf95(0x746)+_0x4e0ada+_0x58bf95(0xc04)+_0x229bdc['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x229bdc[_0x58bf95(0xca4)]+_0x58bf95(0x3c9)+_0x1e56f4+_0x58bf95(0x2b6)+_0x229bdc[_0x58bf95(0xca4)]+_0x58bf95(0x349);}})[_0x4c89bb(0x909)](''),_0x21e94c['classList'][_0x4c89bb(0x7a8)]('hidden'),_0x275100[_0x4c89bb(0x8aa)][_0x4c89bb(0x2c1)]=_0x4c89bb(0x9b8),_0x275100['style'][_0x4c89bb(0x3e0)]=_0x4c89bb(0x243),setTimeout(()=>{const _0xa0ae=_0x4c89bb;_0x275100['style'][_0xa0ae(0x2c1)]=_0xa0ae(0x5ae),_0x275100[_0xa0ae(0x8aa)][_0xa0ae(0x3e0)]='0%';},0x32),_0x5f11a0=setTimeout(()=>{const _0x248d0a=_0x4c89bb;_0x21e94c[_0x248d0a(0x9cc)]['add'](_0x248d0a(0xbce));},0xea60),document[_0x4c89bb(0x70b)](_0x4c89bb(0x251))[_0x4c89bb(0x257)]=()=>{const _0x101d3b=_0x4c89bb;clearTimeout(_0x5f11a0),_0x21e94c[_0x101d3b(0x9cc)][_0x101d3b(0x505)](_0x101d3b(0xbce));},_0x491634[_0x4c89bb(0x8fc)](_0x4c89bb(0x563))[_0x4c89bb(0xc4c)](_0x5586cf=>{_0x5586cf['onclick']=_0x37288d=>{const _0x1880d6=_0x3d0b,_0x50eecf=_0x37288d[_0x1880d6(0x1c8)][_0x1880d6(0x71a)]['itemId'],_0x35fe51=parseInt(_0x37288d[_0x1880d6(0x1c8)][_0x1880d6(0x71a)][_0x1880d6(0xca4)],0xa);clearTimeout(_0x5f11a0),_0x21e94c['classList'][_0x1880d6(0x505)]('hidden'),handleBuyItem(_0x117b7c[_0x1880d6(0x312)],_0x50eecf,_0x35fe51,0x1);};}),_0x491634['querySelectorAll'](_0x4c89bb(0xb03))['forEach'](_0x9f7427=>{const _0x57b1b8=_0x4c89bb;_0x9f7427[_0x57b1b8(0x257)]=_0x24d038=>{const _0x417158=_0x57b1b8,_0x5c1f0c=_0x24d038['target']['dataset'][_0x417158(0x50e)],_0x31ce01=parseInt(_0x24d038[_0x417158(0x1c8)][_0x417158(0x71a)][_0x417158(0xca4)],0xa),_0x19e0b4=document[_0x417158(0x70b)](_0x417158(0x773)),_0x4ff5fc=parseInt(_0x19e0b4[_0x417158(0xd95)],0xa),_0x22bbdb=parseInt(_0x19e0b4[_0x417158(0xd2c)],0xa);if(!_0x4ff5fc||_0x4ff5fc<0x1){showMessage(_0x417158(0x6ac));return;}if(_0x4ff5fc>_0x22bbdb){showMessage(_0x417158(0x4e3)+_0x22bbdb+_0x417158(0xa81));return;}clearTimeout(_0x5f11a0),_0x21e94c['classList']['add']('hidden'),handleBuyItem(_0x117b7c['name'],_0x5c1f0c,_0x31ce01,_0x4ff5fc);};});}async function handleBuyItem(_0x497d66,_0x8d77c4,_0x5570fc,_0x13cc6d=0x1){const _0x22db86=_0x47050f,_0x36da27=doc(db,_0x22db86(0x4cd)+appId+_0x22db86(0x654)+currentLiveGameId+_0x22db86(0x59c),_0x497d66);try{await runTransaction(db,async _0x729454=>{const _0xef4696=_0x22db86,_0x4730a0=await _0x729454[_0xef4696(0x7a6)](_0x36da27);if(!_0x4730a0[_0xef4696(0x7ed)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x1303b1=_0x4730a0[_0xef4696(0x54c)]()[_0xef4696(0xe3d)]||0x0,_0x4cf064=_0x5570fc*_0x13cc6d;if(_0x1303b1<_0x4cf064)throw _0xef4696(0x72f);const _0x5be8bb={};_0x5be8bb[_0xef4696(0xe3d)]=increment(-_0x4cf064),_0x5be8bb['powerups.'+_0x8d77c4]=increment(_0x13cc6d),_0x729454[_0xef4696(0xc8e)](_0x36da27,_0x5be8bb);}),showMessage(_0x22db86(0x7ca)+_0x8d77c4+_0x22db86(0x617)+_0x13cc6d+_0x22db86(0x1f3));}catch(_0x278570){console[_0x22db86(0x8c2)](_0x22db86(0x9ab),_0x278570),showMessage(typeof _0x278570==='string'?_0x278570:_0x22db86(0x3ba));}}async function handlePayForMarketEntry(_0x5a111e,_0x51a138,_0x52ecda){const _0x4a4287=_0x47050f,_0x475446=doc(db,_0x4a4287(0x4cd)+appId+_0x4a4287(0x654)+currentLiveGameId+_0x4a4287(0x59c),_0x5a111e);try{await runTransaction(db,async _0x59b631=>{const _0x2ddcc2=_0x4a4287,_0xbd81d5=await _0x59b631['get'](_0x475446);if(!_0xbd81d5[_0x2ddcc2(0x7ed)]())throw _0x2ddcc2(0xa9c);const _0x25d06e=_0xbd81d5[_0x2ddcc2(0x54c)]()[_0x2ddcc2(0xe3d)]||0x0;if(_0x25d06e<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x21a610={};_0x21a610[_0x2ddcc2(0xe3d)]=increment(-0x1),_0x59b631['update'](_0x475446,_0x21a610);});const _0xd373a1={..._0x52ecda,'totalPoints':(_0x52ecda[_0x4a4287(0xe3d)]||0x0)-0x1};openBlackMarket(_0x51a138,_0xd373a1);}catch(_0x52fc20){console[_0x4a4287(0x8c2)](_0x4a4287(0x8d9),_0x52fc20),showMessage(typeof _0x52fc20===_0x4a4287(0xc7a)?_0x52fc20:_0x4a4287(0xd49));}}initialize();
