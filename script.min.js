const _0x13fc2f=_0x14fe;(function(_0xaedb0d,_0x1be277){const _0x2af96e=_0x14fe,_0x30aadc=_0xaedb0d();while(!![]){try{const _0x5ceddf=parseInt(_0x2af96e(0x1f5))/0x1*(parseInt(_0x2af96e(0x449))/0x2)+-parseInt(_0x2af96e(0x287))/0x3*(parseInt(_0x2af96e(0x68b))/0x4)+parseInt(_0x2af96e(0x240))/0x5*(parseInt(_0x2af96e(0x765))/0x6)+-parseInt(_0x2af96e(0x8da))/0x7*(parseInt(_0x2af96e(0x382))/0x8)+parseInt(_0x2af96e(0x654))/0x9*(-parseInt(_0x2af96e(0x4b2))/0xa)+-parseInt(_0x2af96e(0x54a))/0xb+-parseInt(_0x2af96e(0x3cd))/0xc*(-parseInt(_0x2af96e(0x11c))/0xd);if(_0x5ceddf===_0x1be277)break;else _0x30aadc['push'](_0x30aadc['shift']());}catch(_0x42d581){_0x30aadc['push'](_0x30aadc['shift']());}}}(_0x3ac8,0x280f1));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x5359be=_0x14fe;if(_0x5359be(0x86e)in navigator)try{wakeLock=await navigator[_0x5359be(0x86e)]['request']('screen'),console[_0x5359be(0x2de)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener'](_0x5359be(0x6b3),()=>{const _0x2005dd=_0x5359be;console[_0x2005dd(0x2de)](_0x2005dd(0x5e0));});}catch(_0x2afd04){console[_0x5359be(0x5e9)](_0x5359be(0x5ab)+_0x2afd04['name']+',\x20'+_0x2afd04[_0x5359be(0x73c)]);}else console[_0x5359be(0x22c)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x4b50f2=_0x14fe;wakeLock!==null&&(await wakeLock[_0x4b50f2(0x6b3)](),wakeLock=null,console[_0x4b50f2(0x2de)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5c17af=_0x14fe;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x5c17af(0x110)][_0x5c17af(0x892)](_0x5c17af(0x7cf)),dimTimer=setTimeout(()=>{const _0x2fa2f7=_0x5c17af;document[_0x2fa2f7(0x7c7)][_0x2fa2f7(0x110)][_0x2fa2f7(0x8fb)](_0x2fa2f7(0x7cf)),console[_0x2fa2f7(0x2de)](_0x2fa2f7(0x704));},inactivityTime);}function stopDimTimer(){const _0x4648d4=_0x14fe;if(dimTimer)clearTimeout(dimTimer);document[_0x4648d4(0x7c7)][_0x4648d4(0x110)][_0x4648d4(0x892)]('dimmed'),window[_0x4648d4(0x3c1)](_0x4648d4(0x3ce),resetDimTimer),window[_0x4648d4(0x3c1)]('mousedown',resetDimTimer),window[_0x4648d4(0x3c1)](_0x4648d4(0x63d),resetDimTimer),window['removeEventListener'](_0x4648d4(0x8e3),resetDimTimer),console[_0x4648d4(0x2de)](_0x4648d4(0x7c2));}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x13fc2f(0x7a2),'pinnedProjects':[],'projectView':_0x13fc2f(0x438)};const allMathTopics=[{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x633)},{'category':_0x13fc2f(0x3f0),'name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x566)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x737)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x76e)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x26a)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x4e7)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x82c)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x8dd)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x595)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x459)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x6a8)},{'category':'จำนวนและการดำเนินการ','name':'เส้นจำนวน'},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x794)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x3ac)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x705)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x28d)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x4d6)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x792)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x41b)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x4c7)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x55a)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x74e)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x82f)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x1b6)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x41c)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x35a)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x40d)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x1c7)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x3e8)},{'category':'จำนวนและการดำเนินการ','name':_0x13fc2f(0x5d4)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x549)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x463)},{'category':_0x13fc2f(0x3f0),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x4b6)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x4eb)},{'category':_0x13fc2f(0x3f0),'name':_0x13fc2f(0x771)},{'category':'การวัด','name':_0x13fc2f(0x1ba)},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x13fc2f(0x1c5),'name':_0x13fc2f(0x125)},{'category':_0x13fc2f(0x1c5),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x13fc2f(0x1c5),'name':_0x13fc2f(0x68d)},{'category':_0x13fc2f(0x1c5),'name':_0x13fc2f(0x8b7)},{'category':_0x13fc2f(0x1c5),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x13fc2f(0x1c5),'name':_0x13fc2f(0x8ad)},{'category':'การวัด','name':_0x13fc2f(0x4b3)},{'category':_0x13fc2f(0x1c5),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x13fc2f(0x1c5),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x13fc2f(0x1c5),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x13fc2f(0x149)},{'category':_0x13fc2f(0x1c5),'name':_0x13fc2f(0x52d)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x7a7)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x732)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x2e5)},{'category':'เรขาคณิต','name':'พื้นที่สามเหลี่ยม'},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0xf8)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x8d8)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x2cc)},{'category':_0x13fc2f(0x6f0),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x608)},{'category':'เรขาคณิต','name':_0x13fc2f(0x451)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x17b)},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x30e)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x1fc)},{'category':_0x13fc2f(0x6f0),'name':_0x13fc2f(0x84f)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x891)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13fc2f(0x586)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x424)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x6b0)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x721)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x4a9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13fc2f(0x4fd)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x258)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x7c6)},{'category':_0x13fc2f(0x25d),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x350)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0xfb)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x31e)},{'category':_0x13fc2f(0x25d),'name':'อสมการเชิงเส้น'},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x171)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x6ef)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x623)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13fc2f(0x6b2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13fc2f(0x7b3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13fc2f(0x798)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x901)},{'category':_0x13fc2f(0x25d),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x35e)},{'category':_0x13fc2f(0x25d),'name':'ฟังก์ชันพหุนาม'},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x746)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x719)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x81c)},{'category':_0x13fc2f(0x25d),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x4b1)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x919)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x583)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x492)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0xf0)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x747)},{'category':_0x13fc2f(0x25d),'name':_0x13fc2f(0x759)},{'category':_0x13fc2f(0x257),'name':_0x13fc2f(0x767)},{'category':_0x13fc2f(0x257),'name':_0x13fc2f(0x220)},{'category':_0x13fc2f(0x257),'name':_0x13fc2f(0x413)},{'category':_0x13fc2f(0x257),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x13fc2f(0x257),'name':_0x13fc2f(0x5c1)},{'category':_0x13fc2f(0x257),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x13fc2f(0x257),'name':'พาราโบลา'},{'category':_0x13fc2f(0x257),'name':_0x13fc2f(0x249)},{'category':_0x13fc2f(0x257),'name':_0x13fc2f(0x6b6)},{'category':_0x13fc2f(0x865),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x13fc2f(0x865),'name':_0x13fc2f(0x35f)},{'category':_0x13fc2f(0x865),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x13fc2f(0x865),'name':_0x13fc2f(0x7a0)},{'category':_0x13fc2f(0x865),'name':_0x13fc2f(0x25a)},{'category':_0x13fc2f(0x865),'name':'กฎของโคไซน์'},{'category':_0x13fc2f(0x865),'name':_0x13fc2f(0x6d5)},{'category':_0x13fc2f(0x865),'name':_0x13fc2f(0x3d9)},{'category':'ตรีโกณมิติ','name':_0x13fc2f(0x776)},{'category':_0x13fc2f(0x865),'name':_0x13fc2f(0x430)},{'category':'ตรีโกณมิติ','name':_0x13fc2f(0x501)},{'category':'สถิติและความน่าจะเป็น','name':_0x13fc2f(0x109)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x8e5)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x12a)},{'category':_0x13fc2f(0x16d),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x13fc2f(0x16d),'name':'ฮิสโตแกรม'},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x80f)},{'category':_0x13fc2f(0x16d),'name':'ค่าเฉลี่ย'},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x1f8)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x4be)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x726)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x6a6)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x2f8)},{'category':_0x13fc2f(0x16d),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x13fc2f(0x16d),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x627)},{'category':_0x13fc2f(0x16d),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x13fc2f(0x36e)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x5f3)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x3e6)},{'category':'สถิติและความน่าจะเป็น','name':_0x13fc2f(0x604)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x56a)},{'category':_0x13fc2f(0x16d),'name':_0x13fc2f(0x48d)},{'category':_0x13fc2f(0x16d),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x13fc2f(0x4f3)},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':_0x13fc2f(0x5c3),'name':'ความต่อเนื่อง'},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0x90d)},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0x221)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0x2d0)},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0x48f)},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0x279)},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0x317)},{'category':'แคลคูลัสเบื้องต้น','name':_0x13fc2f(0x4c1)},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0xec)},{'category':_0x13fc2f(0x5c3),'name':_0x13fc2f(0x440)},{'category':_0x13fc2f(0x5c3),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x13fc2f(0x76f),'name':_0x13fc2f(0x6eb)},{'category':_0x13fc2f(0x76f),'name':_0x13fc2f(0x441)},{'category':_0x13fc2f(0x76f),'name':_0x13fc2f(0x365)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x13fc2f(0x24e)},{'category':_0x13fc2f(0x76f),'name':'อินเวอร์สของเมทริกซ์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x13fc2f(0x76f),'name':_0x13fc2f(0x33d)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x13fc2f(0x620)},{'category':_0x13fc2f(0x498),'name':_0x13fc2f(0x65f)},{'category':_0x13fc2f(0x498),'name':_0x13fc2f(0x516)},{'category':_0x13fc2f(0x498),'name':_0x13fc2f(0x177)},{'category':_0x13fc2f(0x498),'name':_0x13fc2f(0x67a)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x13fc2f(0x4d0)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x13fc2f(0x34c)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x13fc2f(0x3b9)}];function renderTopicCheckboxes(){const _0x5540c4=_0x13fc2f,_0x361043=document[_0x5540c4(0x21e)](_0x5540c4(0x265));if(!_0x361043)return;const _0x3002e8=allMathTopics,_0x4ac267=customMathTopics[_0x5540c4(0x924)](_0x22bec1=>({'id':_0x22bec1['id'],'category':_0x5540c4(0x8ec),'name':_0x22bec1['name']})),_0x542a65=[..._0x3002e8,..._0x4ac267],_0x19bc8b=_0x542a65[_0x5540c4(0x396)]((_0x4abd15,_0x264d4d)=>{const _0x144df4=_0x5540c4;return!_0x4abd15[_0x264d4d['category']]&&(_0x4abd15[_0x264d4d[_0x144df4(0x103)]]=[]),_0x4abd15[_0x264d4d[_0x144df4(0x103)]][_0x144df4(0x805)](_0x264d4d),_0x4abd15;},{});let _0xed0144='';const _0x28a37a=['หัวข้อที่สร้างเอง',...Object[_0x5540c4(0x205)](_0x19bc8b)[_0x5540c4(0x17f)](_0x459294=>_0x459294!==_0x5540c4(0x8ec))];for(const _0x36172c of _0x28a37a){if(_0x19bc8b[_0x36172c]){const _0x48c8f3=_0x36172c===_0x5540c4(0x8ec),_0x2420e0=_0x48c8f3?_0x5540c4(0x264):_0x5540c4(0x70b),_0x2b65ae=_0x48c8f3?'text-blue-700':_0x5540c4(0x6c6);_0xed0144+=_0x5540c4(0x1a8),_0xed0144+=_0x5540c4(0x7e5)+_0x2b65ae+_0x5540c4(0x695)+_0x2420e0+_0x5540c4(0x508)+_0x36172c+_0x5540c4(0x30a),_0x19bc8b[_0x36172c][_0x5540c4(0x121)](_0x3841e0=>{const _0x463e32=_0x5540c4,_0x1f2a7e=!!_0x3841e0['id'],_0x5be824=_0x1f2a7e?_0x463e32(0x72d)+_0x3841e0['id']+_0x463e32(0x8fa)+_0x3841e0['id']+_0x463e32(0x8e9)+_0x3841e0['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3841e0['id']+_0x463e32(0x7c9):'';_0xed0144+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x3841e0['id']||'')+_0x463e32(0x6a7)+_0x3841e0['name']+_0x463e32(0x21b)+_0x3841e0[_0x463e32(0x763)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1f2a7e?_0x463e32(0x123)+_0x3841e0[_0x463e32(0x763)]+'\x22>':'')+_0x463e32(0x8ac)+_0x5be824+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xed0144+=_0x5540c4(0x165);}}_0x361043[_0x5540c4(0x768)]=_0xed0144||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x361043[_0x5540c4(0x3c1)](_0x5540c4(0x820),updateSelectedTopicsCount),_0x361043[_0x5540c4(0xfd)](_0x5540c4(0x820),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x465089,_0x3b9cf0){const _0x528899=_0x13fc2f;if(!_0x465089||!_0x3b9cf0[_0x528899(0x8de)]()){showMessage(_0x528899(0x47d));return;}try{const _0x10aebe=doc(db,_0x528899(0x709)+appId+'/public/data/customMathTopics',_0x465089);await updateDoc(_0x10aebe,{'name':_0x3b9cf0[_0x528899(0x8de)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x5026e3){console[_0x528899(0x5e9)](_0x528899(0x8b6),_0x5026e3),showMessage(_0x528899(0x217));}}function toggleTopicEditMode(_0x258514,_0x29fc97){const _0x203d3a=_0x13fc2f;if(!_0x258514)return;const _0x42b545=_0x258514[_0x203d3a(0x920)](_0x203d3a(0x843)),_0x1c3d33=_0x258514['querySelector'](_0x203d3a(0x7d2)),_0x3c06b9=_0x258514[_0x203d3a(0x920)](_0x203d3a(0x40a)),_0xfe7c5e=_0x258514[_0x203d3a(0x920)](_0x203d3a(0x3b1));_0x42b545['classList'][_0x203d3a(0x80d)](_0x203d3a(0x6c1),_0x29fc97),_0x1c3d33['classList']['toggle'](_0x203d3a(0x6c1),!_0x29fc97),_0x3c06b9[_0x203d3a(0x110)]['toggle'](_0x203d3a(0x6c1),_0x29fc97),_0xfe7c5e['classList']['toggle'](_0x203d3a(0x6c1),!_0x29fc97),_0x29fc97&&(_0x1c3d33[_0x203d3a(0x31f)](),_0x1c3d33[_0x203d3a(0x893)]());}function updateSelectedTopicsCount(){const _0x3dd30f=_0x13fc2f,_0x2ff40e=document[_0x3dd30f(0x21e)](_0x3dd30f(0x265)),_0x1825ed=_0x2ff40e['querySelectorAll'](_0x3dd30f(0x791))['length'],_0x1860fd=document[_0x3dd30f(0x21e)](_0x3dd30f(0x900));_0x1825ed>0x0?_0x1860fd[_0x3dd30f(0x680)]=_0x3dd30f(0x83c)+_0x1825ed+_0x3dd30f(0x71c):_0x1860fd[_0x3dd30f(0x680)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x13fc2f(0x84d),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x13fc2f(0x475),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x13fc2f(0x142),scratchpadPenSize=0x5;function getDistance(_0x1c6d3b,_0x486c75){const _0x501595=_0x13fc2f;return Math[_0x501595(0x42a)](Math[_0x501595(0x224)](_0x1c6d3b['x']-_0x486c75['x'],0x2)+Math['pow'](_0x1c6d3b['y']-_0x486c75['y'],0x2));}function getMidpoint(_0x25ac00,_0x6e6003){return{'x':(_0x25ac00['x']+_0x6e6003['x'])/0x2,'y':(_0x25ac00['y']+_0x6e6003['y'])/0x2};}function getTransformedPoint(_0x3e42a1,_0x4251f0){return{'x':(_0x3e42a1-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4251f0-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1f9d8d=_0x13fc2f;if(!scratchpadCtx)return;const _0x420d9d=scratchpadCtx['canvas'],_0x40dfcd=window[_0x1f9d8d(0x8a7)]||0x1;scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x40dfcd,0x0,0x0,_0x40dfcd,0x0,0x0),scratchpadCtx[_0x1f9d8d(0x690)](0x0,0x0,_0x420d9d['width'],_0x420d9d['height']),scratchpadCtx[_0x1f9d8d(0x1f6)](),scratchpadCtx[_0x1f9d8d(0x4ce)](),scratchpadCtx[_0x1f9d8d(0x64c)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x1f9d8d(0x121)](_0xac138f=>{drawStroke(_0xac138f);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function drawStroke(_0x753c69){const _0x32f654=_0x13fc2f;if(!_0x753c69||_0x753c69['points'][_0x32f654(0x708)]<0x1)return;scratchpadCtx['beginPath'](),scratchpadCtx[_0x32f654(0x433)](_0x753c69[_0x32f654(0x7f2)][0x0]['x'],_0x753c69['points'][0x0]['y']),scratchpadCtx['strokeStyle']=_0x753c69[_0x32f654(0x625)],scratchpadCtx['lineWidth']=_0x753c69[_0x32f654(0x19c)],scratchpadCtx[_0x32f654(0x39a)]=_0x753c69[_0x32f654(0x772)]===_0x32f654(0x550)?_0x32f654(0x723):_0x32f654(0x276);for(let _0x44e2c4=0x1;_0x44e2c4<_0x753c69[_0x32f654(0x7f2)][_0x32f654(0x708)]-0x1;_0x44e2c4++){const _0x3edbb4=_0x753c69[_0x32f654(0x7f2)][_0x44e2c4],_0x3e9d96=_0x753c69[_0x32f654(0x7f2)][_0x44e2c4+0x1],_0x15ca00={'x':(_0x3edbb4['x']+_0x3e9d96['x'])/0x2,'y':(_0x3edbb4['y']+_0x3e9d96['y'])/0x2};scratchpadCtx[_0x32f654(0x72c)](_0x3edbb4['x'],_0x3edbb4['y'],_0x15ca00['x'],_0x15ca00['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x32f654(0x3b3)]();}function handlePointerDown(_0x5f3898){const _0x28b29c=_0x13fc2f;_0x5f3898[_0x28b29c(0x60a)]();const _0x2b15f6=scratchpadCtx[_0x28b29c(0x880)],_0x31b64e=_0x2b15f6[_0x28b29c(0x280)](),_0x5c544e=_0x5f3898[_0x28b29c(0x90a)]||(_0x5f3898[_0x28b29c(0x8ce)]?_0x28b29c(0x4b7):'mouse');if(_0x5c544e===_0x28b29c(0x8b3)||_0x5c544e===_0x28b29c(0x24d)){if(_0x5f3898[_0x28b29c(0x90a)]===_0x28b29c(0x24d)){if(_0x5f3898[_0x28b29c(0x4a2)]===0x1){isMousePanning=!![],panStart={'x':_0x5f3898[_0x28b29c(0x29e)],'y':_0x5f3898['clientY']},_0x2b15f6[_0x28b29c(0x124)][_0x28b29c(0x539)]=_0x28b29c(0x2e2);return;}if(_0x5f3898[_0x28b29c(0x4a2)]!==0x0)return;}isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4b0888=getTransformedPoint(_0x5f3898[_0x28b29c(0x29e)]-_0x31b64e[_0x28b29c(0x1cf)],_0x5f3898[_0x28b29c(0x8b8)]-_0x31b64e[_0x28b29c(0x370)]);currentStroke={'tool':activeTool,'color':scratchpadPenColor,'size':scratchpadPenSize,'points':[_0x4b0888]};}else _0x5f3898[_0x28b29c(0x8ce)]&&(_0x5f3898['touches'][_0x28b29c(0x708)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5f3898[_0x28b29c(0x8ce)][0x0][_0x28b29c(0x29e)],'y':_0x5f3898[_0x28b29c(0x8ce)][0x0]['clientY']},{'x':_0x5f3898[_0x28b29c(0x8ce)][0x1][_0x28b29c(0x29e)],'y':_0x5f3898['touches'][0x1][_0x28b29c(0x8b8)]}),initialPinchDistance=getDistance({'x':_0x5f3898[_0x28b29c(0x8ce)][0x0][_0x28b29c(0x29e)],'y':_0x5f3898[_0x28b29c(0x8ce)][0x0][_0x28b29c(0x8b8)]},{'x':_0x5f3898[_0x28b29c(0x8ce)][0x1][_0x28b29c(0x29e)],'y':_0x5f3898[_0x28b29c(0x8ce)][0x1]['clientY']})));}function handlePointerMove(_0x1a58ec){const _0x2aa421=_0x13fc2f;_0x1a58ec[_0x2aa421(0x60a)]();const _0x4e967f=scratchpadCtx[_0x2aa421(0x880)],_0x1a4e40=_0x4e967f['getBoundingClientRect']();if(_0x1a58ec[_0x2aa421(0x8ce)]){if(_0x1a58ec[_0x2aa421(0x8ce)][_0x2aa421(0x708)]===0x1&&isDrawingOnScratchpad){const _0x29c500=getTransformedPoint(_0x1a58ec[_0x2aa421(0x8ce)][0x0][_0x2aa421(0x29e)]-_0x1a4e40[_0x2aa421(0x1cf)],_0x1a58ec['touches'][0x0]['clientY']-_0x1a4e40[_0x2aa421(0x370)]);currentStroke[_0x2aa421(0x7f2)]['push'](_0x29c500),redrawScratchpad();}else{if(_0x1a58ec[_0x2aa421(0x8ce)][_0x2aa421(0x708)]===0x2&&isPanning){const _0xeb5c0f=getDistance({'x':_0x1a58ec[_0x2aa421(0x8ce)][0x0][_0x2aa421(0x29e)],'y':_0x1a58ec[_0x2aa421(0x8ce)][0x0]['clientY']},{'x':_0x1a58ec['touches'][0x1]['clientX'],'y':_0x1a58ec[_0x2aa421(0x8ce)][0x1][_0x2aa421(0x8b8)]}),_0x5b92e6=getMidpoint({'x':_0x1a58ec[_0x2aa421(0x8ce)][0x0][_0x2aa421(0x29e)],'y':_0x1a58ec[_0x2aa421(0x8ce)][0x0][_0x2aa421(0x8b8)]},{'x':_0x1a58ec['touches'][0x1][_0x2aa421(0x29e)],'y':_0x1a58ec['touches'][0x1][_0x2aa421(0x8b8)]}),_0x1f9cf8=_0xeb5c0f/ initialPinchDistance,_0x54cef1=Math[_0x2aa421(0x49e)](Math[_0x2aa421(0x17d)](scratchpadScale*_0x1f9cf8,MIN_SCALE),MAX_SCALE),_0xda0b9b=_0x5b92e6['x']-panStart['x'],_0x45c523=_0x5b92e6['y']-panStart['y'];scratchpadOffset['x']=_0x5b92e6['x']-(_0x5b92e6['x']-scratchpadOffset['x'])*(_0x54cef1/scratchpadScale),scratchpadOffset['y']=_0x5b92e6['y']-(_0x5b92e6['y']-scratchpadOffset['y'])*(_0x54cef1/scratchpadScale),scratchpadOffset['x']+=_0xda0b9b,scratchpadOffset['y']+=_0x45c523,scratchpadScale=_0x54cef1,initialPinchDistance=_0xeb5c0f,panStart=_0x5b92e6,redrawScratchpad();}}}else{if(isMousePanning){const _0x2fec74=_0x1a58ec[_0x2aa421(0x29e)]-panStart['x'],_0x45678f=_0x1a58ec[_0x2aa421(0x8b8)]-panStart['y'];scratchpadOffset['x']+=_0x2fec74,scratchpadOffset['y']+=_0x45678f,panStart={'x':_0x1a58ec[_0x2aa421(0x29e)],'y':_0x1a58ec[_0x2aa421(0x8b8)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x44981f=getTransformedPoint(_0x1a58ec['clientX']-_0x1a4e40[_0x2aa421(0x1cf)],_0x1a58ec[_0x2aa421(0x8b8)]-_0x1a4e40['top']);currentStroke['points'][_0x2aa421(0x805)](_0x44981f),redrawScratchpad();}}}}function handlePointerUp(_0x1d2948){const _0x366cb8=_0x13fc2f;_0x1d2948[_0x366cb8(0x60a)]();const _0x366258=scratchpadCtx[_0x366cb8(0x880)];isMousePanning&&(isMousePanning=![],_0x366258[_0x366cb8(0x124)]['cursor']='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x366cb8(0x7f2)]['length']>0x1&&strokes[_0x366cb8(0x805)](currentStroke),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x3aee8f){const _0x1c4f66=_0x13fc2f;_0x3aee8f['preventDefault']();const _0x3d26be=_0x3aee8f[_0x1c4f66(0x228)]*-0.005,_0x4c33ea=Math[_0x1c4f66(0x49e)](Math['max'](scratchpadScale+_0x3d26be,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x3aee8f['clientX']-(_0x3aee8f['clientX']-scratchpadOffset['x'])*(_0x4c33ea/scratchpadScale),scratchpadOffset['y']=_0x3aee8f[_0x1c4f66(0x8b8)]-(_0x3aee8f['clientY']-scratchpadOffset['y'])*(_0x4c33ea/scratchpadScale),scratchpadScale=_0x4c33ea,redrawScratchpad();}function undo(){const _0x9a7e93=_0x13fc2f;strokes[_0x9a7e93(0x708)]>0x0&&(redoStrokes['push'](strokes[_0x9a7e93(0x785)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x3fc08b=_0x13fc2f;redoStrokes['length']>0x0&&(strokes['push'](redoStrokes[_0x3fc08b(0x785)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x54eaa2=_0x13fc2f;document['getElementById']('undo-btn')['disabled']=strokes[_0x54eaa2(0x708)]===0x0,document[_0x54eaa2(0x21e)]('redo-btn')[_0x54eaa2(0x506)]=redoStrokes[_0x54eaa2(0x708)]===0x0;}function openScratchpad(_0x5b1b4c,_0x383658){const _0x3549ea=_0x13fc2f,_0x281d85=document[_0x3549ea(0x21e)]('scratchpad-modal'),_0xc579fb=document[_0x3549ea(0x21e)](_0x3549ea(0x18a)),_0xccebfd=document[_0x3549ea(0x21e)](_0x3549ea(0x7a4)),_0x1fba59=document[_0x3549ea(0x21e)](_0x3549ea(0x42d));_0xc579fb['textContent']=_0x5b1b4c['stem']||_0x5b1b4c['questionText'],_0xccebfd[_0x3549ea(0x768)]=_0x383658[_0x3549ea(0x924)]((_0xe540d3,_0x1684ce)=>'<div>'+String[_0x3549ea(0x5b2)](0x41+_0x1684ce)+'.\x20'+_0xe540d3+'</div>')[_0x3549ea(0x408)](''),_0x1fba59[_0x3549ea(0x768)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x281d85[_0x3549ea(0x110)][_0x3549ea(0x892)](_0x3549ea(0x6c1)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x3549ea(0x3ad)])MathJax[_0x3549ea(0x3ed)]([_0xc579fb,_0xccebfd]);}function initializeScratchpadCanvas(){const _0x57a59f=_0x13fc2f,_0x202f39=document[_0x57a59f(0x21e)](_0x57a59f(0x4f8)),_0x565e1c=document[_0x57a59f(0x920)](_0x57a59f(0x8f7));if(!_0x202f39||!_0x565e1c)return;scratchpadCtx=_0x202f39['getContext']('2d',{'willReadFrequently':!![]});const _0x2fc4fe=window[_0x57a59f(0x8a7)]||0x1,_0x258670=_0x565e1c[_0x57a59f(0x280)]();_0x202f39[_0x57a59f(0x478)]=_0x258670[_0x57a59f(0x478)]*_0x2fc4fe,_0x202f39[_0x57a59f(0x2d8)]=_0x258670[_0x57a59f(0x2d8)]*_0x2fc4fe,_0x202f39['style'][_0x57a59f(0x478)]=_0x258670[_0x57a59f(0x478)]+'px',_0x202f39[_0x57a59f(0x124)][_0x57a59f(0x2d8)]=_0x258670[_0x57a59f(0x2d8)]+'px',scratchpadCtx[_0x57a59f(0x628)](_0x2fc4fe,_0x2fc4fe),scratchpadCtx[_0x57a59f(0x431)]=_0x57a59f(0x352),scratchpadCtx['lineCap']=_0x57a59f(0x352),_0x202f39['removeEventListener'](_0x57a59f(0x898),handlePointerDown),_0x202f39[_0x57a59f(0x3c1)](_0x57a59f(0x127),handlePointerMove),_0x202f39[_0x57a59f(0x3c1)](_0x57a59f(0x61d),handlePointerUp),_0x202f39['removeEventListener'](_0x57a59f(0x796),handlePointerUp),_0x202f39[_0x57a59f(0x3c1)]('wheel',handleWheel),_0x202f39[_0x57a59f(0x3c1)]('touchstart',handlePointerDown),_0x202f39[_0x57a59f(0x3c1)](_0x57a59f(0x591),handlePointerMove),_0x202f39[_0x57a59f(0x3c1)](_0x57a59f(0x8fe),handlePointerUp),_0x202f39['addEventListener']('pointerdown',handlePointerDown),_0x202f39[_0x57a59f(0xfd)](_0x57a59f(0x127),handlePointerMove),_0x202f39[_0x57a59f(0xfd)]('pointerup',handlePointerUp),_0x202f39['addEventListener'](_0x57a59f(0x796),handlePointerUp),_0x202f39[_0x57a59f(0xfd)](_0x57a59f(0x5cb),handleWheel,{'passive':![]}),_0x202f39[_0x57a59f(0xfd)](_0x57a59f(0x63d),handlePointerDown,{'passive':![]}),_0x202f39[_0x57a59f(0xfd)](_0x57a59f(0x591),handlePointerMove,{'passive':![]}),_0x202f39[_0x57a59f(0xfd)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x169f89=_0x13fc2f,_0x439a73=document[_0x169f89(0x21e)](_0x169f89(0x534));document[_0x169f89(0x21e)](_0x169f89(0x7b5))[_0x169f89(0xfd)](_0x169f89(0x3bd),()=>_0x439a73[_0x169f89(0x110)][_0x169f89(0x8fb)](_0x169f89(0x6c1))),document[_0x169f89(0x21e)](_0x169f89(0x3ae))[_0x169f89(0xfd)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x169f89(0x21e)](_0x169f89(0x2ff))[_0x169f89(0xfd)](_0x169f89(0x3bd),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x169f89(0xdd))[_0x169f89(0xfd)](_0x169f89(0x3bd),undo),document[_0x169f89(0x21e)]('redo-btn')[_0x169f89(0xfd)](_0x169f89(0x3bd),redo),document[_0x169f89(0x1af)]('.pen-size-btn')[_0x169f89(0x121)](_0x1ab77d=>{const _0x47b320=_0x169f89;_0x1ab77d[_0x47b320(0xfd)](_0x47b320(0x3bd),()=>{const _0x5f27eb=_0x47b320;scratchpadPenSize=parseInt(_0x1ab77d[_0x5f27eb(0x3ca)][_0x5f27eb(0x19c)],0xa),document[_0x5f27eb(0x1af)]('.pen-size-btn')[_0x5f27eb(0x121)](_0x41b86b=>_0x41b86b[_0x5f27eb(0x110)][_0x5f27eb(0x892)](_0x5f27eb(0x782))),_0x1ab77d['classList'][_0x5f27eb(0x8fb)](_0x5f27eb(0x782));});});const _0x493b08=document[_0x169f89(0x21e)](_0x169f89(0x11d)),_0x53fd88=document[_0x169f89(0x21e)](_0x169f89(0x405));_0x493b08[_0x169f89(0xfd)](_0x169f89(0x3bd),()=>{const _0x57424c=_0x169f89;activeTool='pen',_0x493b08[_0x57424c(0x110)][_0x57424c(0x8fb)](_0x57424c(0x782)),_0x53fd88[_0x57424c(0x110)][_0x57424c(0x892)](_0x57424c(0x782));}),_0x53fd88['addEventListener'](_0x169f89(0x3bd),()=>{const _0x332b2a=_0x169f89;activeTool=_0x332b2a(0x550),_0x53fd88[_0x332b2a(0x110)][_0x332b2a(0x8fb)](_0x332b2a(0x782)),_0x493b08['classList'][_0x332b2a(0x892)](_0x332b2a(0x782));}),document[_0x169f89(0x1af)](_0x169f89(0x73a))['forEach'](_0x29675e=>{const _0x493b84=_0x169f89;_0x29675e[_0x493b84(0xfd)](_0x493b84(0x3bd),()=>{const _0x3067c9=_0x493b84;scratchpadPenColor=_0x29675e[_0x3067c9(0x3ca)][_0x3067c9(0x625)],activeTool='pen',_0x493b08[_0x3067c9(0x110)][_0x3067c9(0x8fb)](_0x3067c9(0x782)),_0x53fd88['classList'][_0x3067c9(0x892)](_0x3067c9(0x782)),document[_0x3067c9(0x1af)]('.pen-color-btn')[_0x3067c9(0x121)](_0x36d2bb=>_0x36d2bb[_0x3067c9(0x110)][_0x3067c9(0x892)](_0x3067c9(0x782))),_0x29675e[_0x3067c9(0x110)][_0x3067c9(0x8fb)]('active');});}),document['querySelector'](_0x169f89(0x4af))[_0x169f89(0x110)]['add']('active'),window[_0x169f89(0xfd)](_0x169f89(0x46c),()=>{const _0x549c16=_0x169f89;!_0x439a73['classList'][_0x549c16(0x194)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x13fc2f(0x273),'name':'คะแนนเต็ม','description':_0x13fc2f(0x398),'icon':_0x13fc2f(0x292)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x13fc2f(0x2bf),'icon':_0x13fc2f(0x26f)},'ON_FIRE':{'id':'on_fire','name':_0x13fc2f(0x4c3),'description':_0x13fc2f(0x442),'icon':_0x13fc2f(0x8a1)},'FIRST_TRY_ACE':{'id':_0x13fc2f(0x733),'name':'ผ่านฉลุย','description':_0x13fc2f(0x1d5),'icon':_0x13fc2f(0x3b4)},'COMEBACK_KING':{'id':'comeback_king','name':_0x13fc2f(0x6d9),'description':_0x13fc2f(0x8a4),'icon':_0x13fc2f(0x314)},'SPECIALIST':{'id':_0x13fc2f(0x872),'name':'ผู้เชี่ยวชาญ','description':_0x13fc2f(0x2cd),'icon':_0x13fc2f(0x6ec)},'PERSEVERANCE':{'id':'perseverance','name':_0x13fc2f(0x2c3),'description':_0x13fc2f(0x8a9),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x13fc2f(0x198),'authDomain':_0x13fc2f(0x2d6),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x13fc2f(0x5c9),'appId':_0x13fc2f(0x236),'measurementId':_0x13fc2f(0x71f)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById']('admin-view'),studentView=document[_0x13fc2f(0x21e)](_0x13fc2f(0x4d2)),projectDashboardView=document[_0x13fc2f(0x21e)](_0x13fc2f(0x6b8)),projectDetailView=document[_0x13fc2f(0x21e)]('project-detail-view'),quizResultsView=document[_0x13fc2f(0x21e)](_0x13fc2f(0x5a6)),projectList=document[_0x13fc2f(0x21e)](_0x13fc2f(0x6ea)),noProjectsMsg=document[_0x13fc2f(0x21e)](_0x13fc2f(0x309)),projectTitle=document[_0x13fc2f(0x21e)]('project-title'),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document['getElementById'](_0x13fc2f(0x758)),messageModal=document[_0x13fc2f(0x21e)](_0x13fc2f(0x4b9)),modalMessage=document[_0x13fc2f(0x21e)](_0x13fc2f(0x527)),createProjectModal=document[_0x13fc2f(0x21e)](_0x13fc2f(0x7c5)),adminPasswordModal=document['getElementById'](_0x13fc2f(0x567)),confirmationModal=document['getElementById'](_0x13fc2f(0xe3)),userIdDisplay=document[_0x13fc2f(0x21e)]('user-id-display'),topicTab=document[_0x13fc2f(0x21e)](_0x13fc2f(0x3ba)),textTab=document[_0x13fc2f(0x21e)](_0x13fc2f(0x921)),topicInputArea=document[_0x13fc2f(0x21e)](_0x13fc2f(0x10d)),textInputArea=document[_0x13fc2f(0x21e)](_0x13fc2f(0x5bc)),manageTab=document[_0x13fc2f(0x21e)](_0x13fc2f(0x20f)),resultsTab=document[_0x13fc2f(0x21e)]('results-tab'),leaderboardTab=document[_0x13fc2f(0x21e)]('leaderboard-tab'),manageTabContent=document['getElementById'](_0x13fc2f(0x219)),resultsTabContent=document['getElementById'](_0x13fc2f(0x42b)),leaderboardTabContent=document[_0x13fc2f(0x21e)](_0x13fc2f(0x1a6)),projectQuizzesList=document[_0x13fc2f(0x21e)]('project-quizzes-list'),fileTab=document[_0x13fc2f(0x21e)]('file-tab'),fileInputArea=document[_0x13fc2f(0x21e)](_0x13fc2f(0x336)),fileUploadInput=document[_0x13fc2f(0x21e)](_0x13fc2f(0x316)),worksheetTab=document[_0x13fc2f(0x21e)](_0x13fc2f(0x4ca)),worksheetInputArea=document[_0x13fc2f(0x21e)]('worksheet-input-area'),generateWorksheetBtn=document[_0x13fc2f(0x21e)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x13fc2f(0x2f9)),studentNameSelectionView=document[_0x13fc2f(0x21e)]('student-name-selection-view'),studentQuizArea=document['getElementById'](_0x13fc2f(0x6f5)),studentResultArea=document[_0x13fc2f(0x21e)](_0x13fc2f(0x22a)),studentReadingArea=document[_0x13fc2f(0x21e)](_0x13fc2f(0x231)),loadQuizBtn=document[_0x13fc2f(0x21e)]('load-quiz-btn'),startQuizBtn=document[_0x13fc2f(0x21e)](_0x13fc2f(0x770)),studentJoinGameView=document[_0x13fc2f(0x21e)](_0x13fc2f(0x13d)),presentationModal=document[_0x13fc2f(0x21e)](_0x13fc2f(0x3df)),renameQuizModal=document['getElementById'](_0x13fc2f(0x361)),moveQuizModal=document[_0x13fc2f(0x21e)](_0x13fc2f(0x702)),quizSettingsModal=document['getElementById'](_0x13fc2f(0x91a)),quizStatusModal=document[_0x13fc2f(0x21e)](_0x13fc2f(0x152)),liveGameView=document[_0x13fc2f(0x21e)](_0x13fc2f(0x899));function handleAutoFixLatex(){const _0x1b3a28=_0x13fc2f,_0x4fdcf6=document[_0x1b3a28(0x21e)]('quiz-editor-questions-container')||document,_0x36863b=_0x4fdcf6['querySelectorAll'](['textarea','input[type=\x22text\x22]',_0x1b3a28(0x384),'[role=\x22textbox\x22]',_0x1b3a28(0x8c7),'label',_0x1b3a28(0x626),_0x1b3a28(0xdb),_0x1b3a28(0x699)][_0x1b3a28(0x408)](','));let _0x228308=0x0;const _0x36cd45=_0x4df8d9=>_0x1b3a28(0x24a)in _0x4df8d9?String(_0x4df8d9['value']):_0x4df8d9[_0x1b3a28(0xf2)]!==undefined?_0x4df8d9['innerText']:_0x4df8d9[_0x1b3a28(0x680)]||'',_0x749c56=(_0x2efaf6,_0x359e9d)=>{const _0x499481=_0x1b3a28;if(_0x499481(0x24a)in _0x2efaf6){_0x2efaf6['value']=_0x359e9d;return;}if(_0x2efaf6[_0x499481(0x920)]&&_0x2efaf6[_0x499481(0x920)](_0x499481(0x618)))return;if(_0x2efaf6[_0x499481(0xf2)]!==undefined)_0x2efaf6[_0x499481(0xf2)]=_0x359e9d;else _0x2efaf6[_0x499481(0x680)]=_0x359e9d;},_0x43123c=_0x2615d8=>_0x2615d8[_0x1b3a28(0x6dc)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x1b3a28(0x6dc)](/\r\n?/g,'\x0a'),_0x4f2502=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x32af54=_0x31ec81=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x1b3a28(0x554)](_0x31ec81),_0x2dddb0=_0x4c99e9=>{const _0x247ceb=_0x1b3a28,_0x26d434=(_0x4c99e9[_0x247ceb(0x5ae)](/\{/g)||[])[_0x247ceb(0x708)],_0x31b93b=(_0x4c99e9[_0x247ceb(0x5ae)](/\}/g)||[])[_0x247ceb(0x708)];if(_0x26d434>_0x31b93b)_0x4c99e9=_0x4c99e9+'}'[_0x247ceb(0x2ad)](_0x26d434-_0x31b93b);return _0x4c99e9;},_0x3e5f1b=_0xe9a55e=>{const _0x4f184d=_0x1b3a28;let _0x281d87=_0xe9a55e[_0x4f184d(0x8de)]();const _0x112d70=[_0x4f184d(0x25e),_0x4f184d(0x658),_0x4f184d(0x762),'sqrt',_0x4f184d(0x16e),_0x4f184d(0x51c),'cdot',_0x4f184d(0x5e2),'leq',_0x4f184d(0x421),'le','ge',_0x4f184d(0x902),'pm',_0x4f184d(0x542),'sin',_0x4f184d(0x7bb),_0x4f184d(0x5ad),_0x4f184d(0x2de),'ln',_0x4f184d(0x556),_0x4f184d(0x6c3),'binom',_0x4f184d(0x1cf),_0x4f184d(0x632),_0x4f184d(0x339),_0x4f184d(0x613),_0x4f184d(0x282),_0x4f184d(0x53c)];_0x281d87=_0x281d87[_0x4f184d(0x6dc)](new RegExp(_0x4f184d(0x89b)+_0x112d70[_0x4f184d(0x408)]('|')+_0x4f184d(0x42e),'g'),'\x5c'),_0x112d70['forEach'](_0x4e957b=>{const _0x4a8661=_0x4f184d;_0x281d87=_0x281d87[_0x4a8661(0x6dc)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4e957b+'\x5cb','g'),(_0x1f1ab8,_0x408f12)=>_0x408f12+'\x5c'+_0x4e957b);});const _0x3e58b3=[[/×/g,_0x4f184d(0xf5)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x4f184d(0x854)],[/≥/g,_0x4f184d(0x8f0)],[/≠/g,_0x4f184d(0x59f)],[/±/g,'\x5cpm'],[/∑/g,_0x4f184d(0x8e2)],[/−/g,'-']];_0x3e58b3[_0x4f184d(0x121)](([_0x3f103f,_0x2af73b])=>{_0x281d87=_0x281d87['replace'](_0x3f103f,_0x2af73b);}),_0x281d87=_0x281d87[_0x4f184d(0x6dc)](/√\s*\(([^)]*)\)/g,_0x4f184d(0xf1)),_0x281d87=_0x281d87['replace'](/√\s*([A-Za-z0-9]+)/g,_0x4f184d(0xf1)),_0x281d87=_0x281d87[_0x4f184d(0x6dc)](/(^|[^\\])\bimes\b/g,_0x4f184d(0x5a8))[_0x4f184d(0x6dc)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x4f184d(0x819))['replace'](/(^|[^\\])ext\{/g,_0x4f184d(0x703))['replace'](/(^|[^\\])ext\(/g,_0x4f184d(0x327))[_0x4f184d(0x6dc)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x4f184d(0x6dc)](/\s\\frac/g,_0x4f184d(0x38d)),_0x281d87=_0x281d87[_0x4f184d(0x6dc)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x38dcf1,_0x36003f,_0xb8fc87,_0x17ba1c)=>_0x36003f+'\x5cfrac{'+_0xb8fc87+'}{'+_0x17ba1c+'}'),_0x281d87=_0x281d87[_0x4f184d(0x6dc)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x4f184d(0x91f))[_0x4f184d(0x6dc)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x4f184d(0x91f))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x4f184d(0x91f)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x4f184d(0x86a)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x4f184d(0x86a)],[/(\d+)\s*°\s*C/g,_0x4f184d(0x86a)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x4f184d(0x845)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x4f184d(0x86a)]][_0x4f184d(0x121)](([_0x549707,_0xee6745])=>{const _0x187419=_0x4f184d;_0x281d87=_0x281d87[_0x187419(0x6dc)](_0x549707,_0xee6745);}),_0x281d87=_0x281d87['replace'](/(\d+)\s*%/g,_0x4f184d(0x30b)),_0x281d87=_0x281d87['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4f184d(0x3c6))[_0x4f184d(0x6dc)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x4f184d(0x783),_0x4f184d(0x7bb),_0x4f184d(0x5ad),_0x4f184d(0x2de),'ln'][_0x4f184d(0x121)](_0xf1b565=>{const _0x19ad88=_0x4f184d;_0x281d87=_0x281d87[_0x19ad88(0x6dc)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0xf1b565+_0x19ad88(0x2b3),'g'),(_0x5656d7,_0x1df0c3)=>_0x1df0c3+'\x5c'+_0xf1b565+'(');});const _0x4ea78d=(_0x281d87[_0x4f184d(0x5ae)](/\\left\b/g)||[])[_0x4f184d(0x708)],_0x3f5d28=(_0x281d87[_0x4f184d(0x5ae)](/\\right\b/g)||[])[_0x4f184d(0x708)];if(_0x4ea78d!==_0x3f5d28)_0x281d87=_0x281d87[_0x4f184d(0x6dc)](/\\left\b/g,'')[_0x4f184d(0x6dc)](/\\right\b/g,'');return _0x281d87=_0x2dddb0(_0x281d87),_0x281d87;},_0x2b0bc7=_0x170c79=>{const _0x1830f6=_0x1b3a28;if(/\$|\\\(|\\\[/[_0x1830f6(0x554)](_0x170c79))return _0x170c79;if(!_0x4f2502[_0x1830f6(0x554)](_0x170c79))return _0x170c79;const _0x2f19f0=_0x170c79[_0x1830f6(0x5ae)](/^\s*/)[0x0],_0x379ec3=_0x170c79['match'](/\s*$/)[0x0],_0x3840bb=_0x170c79[_0x1830f6(0x8de)]();return _0x2f19f0+'$'+_0x3e5f1b(_0x3840bb)+'$'+_0x379ec3;},_0x153b8a=_0x3e63a5=>_0x3e63a5['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x36863b[_0x1b3a28(0x121)](_0x4ac6a5=>{const _0x365183=_0x1b3a28;if(_0x4ac6a5[_0x365183(0x920)]&&_0x4ac6a5[_0x365183(0x920)](_0x365183(0x618)))return;const _0x206e20=_0x36cd45(_0x4ac6a5);let _0x1f57c8=_0x43123c(_0x206e20);_0x1f57c8=_0x1f57c8[_0x365183(0x6dc)](/\$\$([\s\S]*?)\$\$/g,(_0x4306bc,_0x4e75da)=>'$$'+_0x3e5f1b(_0x4e75da)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x51d883,_0x4f8609)=>'$'+_0x3e5f1b(_0x4f8609)+'$')[_0x365183(0x6dc)](/\\\(([\s\S]*?)\\\)/g,(_0x3610c6,_0x51c233)=>'\x5c('+_0x3e5f1b(_0x51c233)+'\x5c)')[_0x365183(0x6dc)](/\\\[([\s\S]*?)\\\]/g,(_0x52ac9e,_0x3fdc0b)=>'\x5c['+_0x3e5f1b(_0x3fdc0b)+'\x5c]');let _0x51ef30=_0x1f57c8,_0x30d8db=0x0;const _0x5d928b=_0x303b42=>_0x303b42[_0x365183(0x6dc)](/S([^S]{0,2000}?)S/g,(_0x59a989,_0xa68784)=>_0x4f2502['test'](_0xa68784)?'$'+_0x3e5f1b(_0xa68784)+'$':_0x59a989);while(_0x30d8db++<0x14){const _0xea9e9d=_0x5d928b(_0x51ef30);if(_0xea9e9d===_0x51ef30)break;_0x51ef30=_0xea9e9d;}_0x1f57c8=_0x51ef30,_0x1f57c8=_0x1f57c8[_0x365183(0x78a)]('\x0a')[_0x365183(0x924)](_0x1d2c47=>{const _0x39e438=_0x365183;if(!(/[,\u3001，;；]/[_0x39e438(0x554)](_0x1d2c47)||/\s(?:และ|หรือ)\s/[_0x39e438(0x554)](_0x1d2c47))||!_0x4f2502[_0x39e438(0x554)](_0x1d2c47))return _0x1d2c47;return _0x153b8a(_0x1d2c47)[_0x39e438(0x924)](_0x42db69=>{const _0x5ead31=_0x39e438;if(/^\s(?:และ|หรือ)\s$/[_0x5ead31(0x554)](_0x42db69)||/^[,\u3001，;；]$/['test'](_0x42db69))return _0x42db69;return _0x2b0bc7(_0x42db69);})[_0x39e438(0x408)]('');})[_0x365183(0x408)]('\x0a'),_0x1f57c8=_0x1f57c8['split']('\x0a')[_0x365183(0x924)](_0x7463dc=>{const _0xe5f22b=_0x365183,_0x5d4c38=_0x7463dc[_0xe5f22b(0x8de)]();if(!_0x5d4c38)return _0x7463dc;const _0x196efd=/\$|\\\(|\\\[/[_0xe5f22b(0x554)](_0x5d4c38),_0xf203=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0xe5f22b(0x554)](_0x5d4c38);if(_0x196efd||!_0xf203||_0x32af54(_0x5d4c38))return _0x7463dc;return _0x7463dc['replace'](_0x5d4c38,'$'+_0x3e5f1b(_0x5d4c38)+'$');})[_0x365183(0x408)]('\x0a'),_0x1f57c8=_0x1f57c8[_0x365183(0x6dc)](/(\d+)\s*°\s*C\b/g,(_0x430bc0,_0x224d2c,_0x269c8a,_0x4eba78)=>{const _0x49c9d7=_0x365183,_0x1435ae=_0x4eba78[_0x269c8a-0x1];if(_0x1435ae==='$'||_0x1435ae==='S'||_0x1435ae==='\x5c')return _0x430bc0;return'$'+_0x224d2c+_0x49c9d7(0x91d);})[_0x365183(0x6dc)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5c5847,_0x31da54,_0x4db696,_0x34f3be)=>{const _0x4d3f30=_0x365183,_0x54e023=_0x34f3be[_0x4db696-0x1];if(_0x54e023==='$'||_0x54e023==='S'||_0x54e023==='\x5c')return _0x5c5847;return'$'+_0x31da54+_0x4d3f30(0x91d);})[_0x365183(0x6dc)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x293da0,_0x5a884d,_0x79d766,_0x548ac4)=>{const _0x494f2f=_0x365183,_0x3c2011=_0x548ac4[_0x79d766-0x1];if(_0x3c2011==='$'||_0x3c2011==='S'||_0x3c2011==='\x5c')return _0x293da0;return'$'+_0x5a884d+_0x494f2f(0x91d);}),_0x1f57c8=_0x1f57c8[_0x365183(0x6dc)](/\$\s*\$/g,'$$'),_0x1f57c8!==_0x206e20&&(_0x749c56(_0x4ac6a5,_0x1f57c8),_0x228308++);});if(_0x228308>0x0){showMessage(_0x1b3a28(0x479)+_0x228308+'\x20ช่อง');try{if(window['MathJax']&&MathJax[_0x1b3a28(0x3ed)])MathJax[_0x1b3a28(0x3ed)]();window[_0x1b3a28(0x3eb)]&&typeof renderMathInElement===_0x1b3a28(0x8ca)&&renderMathInElement(_0x4fdcf6,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x2a3139){}}else showMessage(_0x1b3a28(0x48e));}async function listenForCustomMathTopics(){const _0x9ed89f=_0x13fc2f,_0x15f7b7=collection(db,_0x9ed89f(0x709)+appId+_0x9ed89f(0x5bb));onSnapshot(_0x15f7b7,_0x147c5e=>{const _0x59fffe=_0x9ed89f;customMathTopics=_0x147c5e['docs'][_0x59fffe(0x924)](_0xe01897=>({'id':_0xe01897['id'],..._0xe01897[_0x59fffe(0x7ed)]()})),renderTopicCheckboxes();},_0x632695=>{const _0xdaaad5=_0x9ed89f;console[_0xdaaad5(0x5e9)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x632695);});}function handleSelectAllTopics(){const _0x3207c3=_0x13fc2f,_0x4eded7=document[_0x3207c3(0x21e)](_0x3207c3(0x265)),_0x5a0188=_0x4eded7[_0x3207c3(0x1af)](_0x3207c3(0x5b1));_0x5a0188['forEach'](_0x165953=>{_0x165953['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x20a58c=_0x13fc2f,_0x25d586=document[_0x20a58c(0x21e)]('math-topics-checkbox-container'),_0x1197b2=_0x25d586[_0x20a58c(0x1af)](_0x20a58c(0x5b1));_0x1197b2[_0x20a58c(0x121)](_0x21fe3f=>{const _0x1d8060=_0x20a58c;_0x21fe3f[_0x1d8060(0x780)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x30f93e){const _0x12ff5d=_0x13fc2f;if(!_0x30f93e)return;try{const _0x2042e1=doc(db,'artifacts/'+appId+_0x12ff5d(0x5bb),_0x30f93e);await deleteDoc(_0x2042e1),showMessage(_0x12ff5d(0x33b));}catch(_0x5a39a2){console[_0x12ff5d(0x5e9)]('Error\x20deleting\x20custom\x20topic:',_0x5a39a2),showMessage(_0x12ff5d(0x432));}}async function handleAddCustomMathTopic(){const _0x29edcd=_0x13fc2f,_0x3e5ddb=document[_0x29edcd(0x21e)]('custom-math-topic-input'),_0x19f887=_0x3e5ddb['value'][_0x29edcd(0x8de)]();if(!_0x19f887){showMessage(_0x29edcd(0x305));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x319772=collection(db,_0x29edcd(0x709)+appId+_0x29edcd(0x5bb));await addDoc(_0x319772,{'name':_0x19f887,'createdAt':serverTimestamp()}),_0x3e5ddb[_0x29edcd(0x24a)]='',showMessage(_0x29edcd(0x7e8)+_0x19f887+_0x29edcd(0x742));}catch(_0x5b88fc){console[_0x29edcd(0x5e9)](_0x29edcd(0x810),_0x5b88fc),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x2f0c54=_0x13fc2f;showConfirmation(_0x2f0c54(0x411),async()=>{const _0x56ff6f=_0x2f0c54,_0x3a5649=document[_0x56ff6f(0x21e)](_0x56ff6f(0x21f)),_0x222b2e=document[_0x56ff6f(0x21e)](_0x56ff6f(0x642)),_0x352b7a=_0x222b2e['textContent'];_0x3a5649[_0x56ff6f(0x110)][_0x56ff6f(0x892)](_0x56ff6f(0x6c1)),_0x222b2e[_0x56ff6f(0x680)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x2785a7=collection(db,_0x56ff6f(0x709)+appId+_0x56ff6f(0x51e)),_0x509592=await getDocs(_0x2785a7);if(_0x509592[_0x56ff6f(0x606)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x401f9d=writeBatch(db);let _0x2a0ba6=0x0;_0x509592['forEach'](_0x4b9ff1=>{const _0x2b4e74=_0x56ff6f,_0x584f=_0x4b9ff1[_0x2b4e74(0x7ed)](),_0x5b4ef9=_0x4b9ff1['id'];if(_0x584f[_0x2b4e74(0x218)]&&_0x584f['questions']['length']>0x0&&!_0x584f[_0x2b4e74(0x218)][0x0][_0x2b4e74(0x7e9)]('id')){console[_0x2b4e74(0x2de)](_0x2b4e74(0x711)+_0x5b4ef9+'\x20('+_0x584f[_0x2b4e74(0x3f8)]+')'),_0x2a0ba6++;const _0x337699=_0x584f['questions'][_0x2b4e74(0x924)]((_0x11945a,_0x128f30)=>{const _0x925c7f=_0x2b4e74;return{..._0x11945a,'id':_0x11945a['id']||'q_'+Date[_0x925c7f(0x8d2)]()+'_'+_0x5b4ef9+'_'+_0x128f30};}),_0x53d9f8=doc(db,_0x2b4e74(0x709)+appId+_0x2b4e74(0x51e),_0x5b4ef9);_0x401f9d['update'](_0x53d9f8,{'questions':_0x337699});}}),_0x2a0ba6>0x0?(_0x222b2e['textContent']=_0x56ff6f(0x6c5)+_0x2a0ba6+'\x20รายการ...',await _0x401f9d['commit'](),showMessage(_0x56ff6f(0x2bd)+_0x2a0ba6+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x3fa36d){console[_0x56ff6f(0x5e9)](_0x56ff6f(0x8f4),_0x3fa36d),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x3fa36d[_0x56ff6f(0x73c)]);}finally{_0x3a5649['classList'][_0x56ff6f(0x8fb)]('hidden'),_0x222b2e['textContent']=_0x352b7a;}});}async function handleBulkUpdateQuizSettings(){const _0x3be30c=_0x13fc2f,_0x31e3e1={'shuffle':document['getElementById']('bulk-shuffle-select')[_0x3be30c(0x24a)],'resultsDisplay':document[_0x3be30c(0x21e)]('bulk-results-display-select')['value'],'loopUntilPass':document['getElementById'](_0x3be30c(0x1e9))['checked']},_0x58b74b=allQuizzesGlobal['length'];showConfirmation(_0x3be30c(0x289)+_0x58b74b+_0x3be30c(0x7a5),async()=>{const _0xcf1d76=_0x3be30c,_0x261273=document[_0xcf1d76(0x21e)](_0xcf1d76(0x58f));_0x261273[_0xcf1d76(0x506)]=!![],_0x261273[_0xcf1d76(0x768)]=_0xcf1d76(0x8f2);try{const _0x59d5f0=writeBatch(db);allQuizzesGlobal['forEach'](_0x73beb8=>{const _0xb72ef8=_0xcf1d76,_0x265ca5=doc(db,_0xb72ef8(0x709)+appId+_0xb72ef8(0x51e),_0x73beb8['id']),_0x46aaa7={..._0x73beb8[_0xb72ef8(0x168)]||{},..._0x31e3e1};_0x59d5f0[_0xb72ef8(0x5b8)](_0x265ca5,{'settings':_0x46aaa7});}),await _0x59d5f0[_0xcf1d76(0x4a0)](),document['getElementById'](_0xcf1d76(0x5d1))[_0xcf1d76(0x110)][_0xcf1d76(0x8fb)](_0xcf1d76(0x6c1)),showMessage(_0xcf1d76(0x861)+_0x58b74b+_0xcf1d76(0x6aa));}catch(_0x5d7e64){console[_0xcf1d76(0x5e9)](_0xcf1d76(0x5c2),_0x5d7e64),showMessage(_0xcf1d76(0x2d3));}finally{_0x261273['disabled']=![],_0x261273['innerHTML']='ยืนยันและอัปเดตทั้งหมด';}});}async function handleSaveProjectName(){const _0x2cefe7=_0x13fc2f,_0x2d7989=document[_0x2cefe7(0x21e)](_0x2cefe7(0x85e)),_0x553116=document[_0x2cefe7(0x21e)](_0x2cefe7(0x518)),_0x582dd9=_0x2d7989['textContent'][_0x2cefe7(0x8de)]();if(!_0x582dd9||!currentProjectId){showMessage(_0x2cefe7(0x172)),_0x2d7989[_0x2cefe7(0x680)]=currentProjectData[_0x2cefe7(0x3d5)];return;}_0x553116[_0x2cefe7(0x506)]=!![],_0x553116['innerHTML']=_0x2cefe7(0x6d1);try{const _0x443d43=doc(db,_0x2cefe7(0x709)+appId+_0x2cefe7(0x8df),currentProjectId);await updateDoc(_0x443d43,{'projectName':_0x582dd9}),currentProjectData&&(currentProjectData[_0x2cefe7(0x3d5)]=_0x582dd9),showMessage(_0x2cefe7(0x343));}catch(_0x35a077){console[_0x2cefe7(0x5e9)](_0x2cefe7(0x52f),_0x35a077),showMessage(_0x2cefe7(0x5b4)),_0x2d7989[_0x2cefe7(0x680)]=currentProjectData['projectName'];}finally{_0x553116[_0x2cefe7(0x110)][_0x2cefe7(0x8fb)](_0x2cefe7(0x6c1)),_0x553116['disabled']=![],_0x553116['innerHTML']=_0x2cefe7(0x13f);}}async function initialize(){const _0x434c6b=_0x13fc2f;try{const _0x58aaca=initializeApp(firebaseConfig);db=getFirestore(_0x58aaca),auth=getAuth(_0x58aaca),setupAuthListener(),setupEventListeners(),showView(_0x434c6b(0x84d)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x160d8d){console[_0x434c6b(0x5e9)](_0x434c6b(0x4d3),_0x160d8d),showMessage(_0x434c6b(0x3a8));}}async function handleVerifyAnswersInEditor(){const _0x2754fa=_0x13fc2f,_0xc2ce59=document[_0x2754fa(0x21e)](_0x2754fa(0x10f));if(!_0xc2ce59)return;const _0x469b22=document['getElementById'](_0x2754fa(0x356));_0x469b22[_0x2754fa(0x506)]=!![],_0x469b22[_0x2754fa(0x768)]=_0x2754fa(0x27f);try{const _0x25ba82=_0xc2ce59['querySelectorAll'](_0x2754fa(0x16b)),_0x7c84d6=Array[_0x2754fa(0x46d)](_0x25ba82)[_0x2754fa(0x924)]((_0x42bd54,_0x4d6bfb)=>{const _0x25bd10=_0x2754fa,_0x3fec6a=_0x42bd54['dataset'][_0x25bd10(0x2b5)],_0x33fe9d=_0x42bd54[_0x25bd10(0x920)](_0x25bd10(0x2ec))[_0x25bd10(0x24a)];let _0x5eafd2=null,_0x5bc65f='';switch(_0x3fec6a){case _0x25bd10(0x8f6):const _0x2179d5=_0x42bd54['querySelectorAll']('input[type=\x22text\x22]');_0x5eafd2=Array['from'](_0x2179d5)['map'](_0x353388=>_0x353388[_0x25bd10(0x24a)]);const _0x196533=_0x42bd54[_0x25bd10(0x920)](_0x25bd10(0x7d9));_0x196533&&(_0x5bc65f=_0x5eafd2[parseInt(_0x196533[_0x25bd10(0x24a)])]);break;case _0x25bd10(0x6ac):_0x5bc65f=_0x42bd54[_0x25bd10(0x920)](_0x25bd10(0x813))['value'];break;case _0x25bd10(0x69f):const _0x5cf8b9=_0x42bd54[_0x25bd10(0x920)](_0x25bd10(0x7d9));_0x5bc65f=_0x5cf8b9?_0x5cf8b9[_0x25bd10(0x24a)]:'';break;case'matching_item':_0x5bc65f=_0x42bd54[_0x25bd10(0x920)](_0x25bd10(0x41a))[_0x25bd10(0x24a)];break;}return{'question':_0x33fe9d,'options':_0x5eafd2,'proposedAnswer':_0x5bc65f};}),_0x5c8ad2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2754fa(0x6fd)](_0x7c84d6)+_0x2754fa(0x90e),_0x16dc0c={'type':_0x2754fa(0x661),'items':{'type':_0x2754fa(0x1d7),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x2754fa(0x866)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x2754fa(0x69c)}},'required':[_0x2754fa(0x773),_0x2754fa(0x41d),_0x2754fa(0x3dd)]}},_0x46a538=await callAnalysisApi(_0x5c8ad2,{'type':'OBJECT','properties':{'result':_0x16dc0c},'required':[_0x2754fa(0x7a9)]});displayVerificationResultsInEditor(_0x46a538[_0x2754fa(0x7a9)]);}catch(_0x2b59ef){console[_0x2754fa(0x5e9)](_0x2754fa(0x533),_0x2b59ef),showMessage(_0x2754fa(0x53e));}finally{_0x469b22[_0x2754fa(0x506)]=![],_0x469b22['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x2c37ba){const _0x209e62=_0x13fc2f;_0x2c37ba[_0x209e62(0x121)](_0xaf1cc8=>{const _0x411d22=_0x209e62,_0x468b94=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0xaf1cc8[_0x411d22(0x773)]+'\x22]');if(!_0x468b94)return;const _0xe9254d=_0x468b94[_0x411d22(0x920)](_0x411d22(0x49c));if(_0xe9254d)_0xe9254d['remove']();let _0x1dd9ab='';if(_0xaf1cc8[_0x411d22(0x41d)])_0x1dd9ab=_0x411d22(0x16f);else{const _0xb8cdf0=_0xaf1cc8[_0x411d22(0x199)]?_0x411d22(0x4ae):'';_0x1dd9ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0xb8cdf0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0xaf1cc8['justification']+_0x411d22(0x298)+(_0xaf1cc8[_0x411d22(0x199)]?_0x411d22(0x80c)+_0xaf1cc8['suggestedAnswer']+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x468b94[_0x411d22(0x75d)](_0x411d22(0x816),_0x1dd9ab);if(!_0xaf1cc8[_0x411d22(0x41d)]&&_0xaf1cc8[_0x411d22(0x199)]){const _0x2121ac=_0x468b94[_0x411d22(0x3ca)]['qType'],_0x78058e=_0x13f55d=>{const _0x304779=_0x411d22;if(!_0x13f55d)return;_0x13f55d[_0x304779(0x110)]['add']('bg-green-200',_0x304779(0x46a),'duration-300'),setTimeout(()=>{const _0x410eb3=_0x304779;_0x13f55d[_0x410eb3(0x110)][_0x410eb3(0x892)]('bg-green-200');},0x9c4);};if(_0x2121ac===_0x411d22(0x8f6)){const _0x3530e0=Array[_0x411d22(0x46d)](_0x468b94[_0x411d22(0x1af)](_0x411d22(0x3f3))),_0x23a8cd=_0x3530e0[_0x411d22(0x601)](_0x3c56cf=>_0x3c56cf['value']['trim']()[_0x411d22(0x128)]()===_0xaf1cc8[_0x411d22(0x199)]['trim']()['toLowerCase']());if(_0x23a8cd!==-0x1){const _0x13d0a1=_0x468b94['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x23a8cd+'\x22]');_0x13d0a1&&(_0x13d0a1['checked']=!![],_0x78058e(_0x13d0a1[_0x411d22(0x4cd)]('div')));}}else{if(_0x2121ac==='short_answer'||_0x2121ac==='matching_item'){const _0x3fa1e0=_0x468b94[_0x411d22(0x920)](_0x411d22(0x34e));_0x3fa1e0&&(_0x3fa1e0['value']=_0xaf1cc8[_0x411d22(0x199)],_0x78058e(_0x3fa1e0));}else{if(_0x2121ac===_0x411d22(0x69f)){const _0x1456f8=_0xaf1cc8['suggestedAnswer'][_0x411d22(0x8de)]()[_0x411d22(0x128)](),_0x558bdf=_0x468b94['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x1456f8+'\x22]');_0x558bdf&&(_0x558bdf['checked']=!![],_0x78058e(_0x558bdf[_0x411d22(0x4cd)](_0x411d22(0x5e2))));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x5b2d8a=_0x13fc2f;if(!currentQuizData||!currentQuizData[_0x5b2d8a(0x218)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x4648ae=document[_0x5b2d8a(0x21e)](_0x5b2d8a(0x1ed));_0x4648ae[_0x5b2d8a(0x506)]=!![],_0x4648ae[_0x5b2d8a(0x768)]=_0x5b2d8a(0x27f);try{const _0x22c4cf=currentQuizData[_0x5b2d8a(0x218)][_0x5b2d8a(0x924)]((_0x4e8fc8,_0x2933a5)=>{const _0x5f100e=_0x5b2d8a;let _0x8c3ad5='';const _0x1b7fa6=_0x4e8fc8[_0x5f100e(0x78e)]||currentQuizData['quizType'];switch(_0x1b7fa6){case _0x5f100e(0x8f6):_0x8c3ad5=_0x4e8fc8[_0x5f100e(0x138)][_0x4e8fc8[_0x5f100e(0x455)]];break;case _0x5f100e(0x6ac):_0x8c3ad5=_0x4e8fc8[_0x5f100e(0x665)];break;case _0x5f100e(0x69f):_0x8c3ad5=_0x4e8fc8[_0x5f100e(0x8d9)]['toString']();break;case _0x5f100e(0x48c):_0x8c3ad5=_0x4e8fc8['correctResponse'];break;}return{'question':_0x4e8fc8[_0x5f100e(0x700)]||_0x4e8fc8[_0x5f100e(0x777)],'options':_0x4e8fc8[_0x5f100e(0x138)]||null,'proposedAnswer':_0x8c3ad5};}),_0x538467='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x5b2d8a(0x6fd)](_0x22c4cf)+_0x5b2d8a(0x2df),_0x43b2f3={'type':_0x5b2d8a(0x661),'items':{'type':_0x5b2d8a(0x1d7),'properties':{'questionIndex':{'type':_0x5b2d8a(0x58e)},'isCorrect':{'type':_0x5b2d8a(0x866)},'justification':{'type':_0x5b2d8a(0x69c)},'suggestedAnswer':{'type':_0x5b2d8a(0x69c)}},'required':[_0x5b2d8a(0x773),'isCorrect',_0x5b2d8a(0x3dd)]}},_0x41b9f1=await callAnalysisApi(_0x538467,{'type':_0x5b2d8a(0x1d7),'properties':{'result':_0x43b2f3},'required':['result']});displayVerificationResults(_0x41b9f1[_0x5b2d8a(0x7a9)]);}catch(_0x40b8db){console[_0x5b2d8a(0x5e9)](_0x5b2d8a(0x607),_0x40b8db),showMessage(_0x5b2d8a(0x53e));}finally{_0x4648ae['disabled']=![],_0x4648ae[_0x5b2d8a(0x768)]=_0x5b2d8a(0x6de);}}function displayVerificationResults(_0x43033f){const _0x5375b0=_0x13fc2f;_0x43033f[_0x5375b0(0x121)](_0x5b5b74=>{const _0x16f8e4=_0x5375b0,_0x5fe82e=document[_0x16f8e4(0x920)](_0x16f8e4(0x790)+_0x5b5b74['questionIndex']+'\x22]');if(_0x5fe82e){const _0x258bd5=_0x5fe82e[_0x16f8e4(0x920)](_0x16f8e4(0x134));if(_0x258bd5)_0x258bd5[_0x16f8e4(0x892)]();let _0x2b4c25='';_0x5b5b74[_0x16f8e4(0x41d)]?_0x2b4c25=_0x16f8e4(0x166):_0x2b4c25=_0x16f8e4(0x15f)+_0x5b5b74[_0x16f8e4(0x3dd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5b5b74['suggestedAnswer']?_0x16f8e4(0x80c)+_0x5b5b74['suggestedAnswer']+_0x16f8e4(0x30a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5fe82e['insertAdjacentHTML']('beforeend',_0x2b4c25);}}),showMessage(_0x5375b0(0x1c3));}function compareNumericalAnswers(_0x568a6a,_0x3405f9){const _0x48f655=_0x13fc2f,_0x1288a8=String(_0x568a6a)[_0x48f655(0x6dc)](',','.')['replace'](/[^\d.-]/g,'')[_0x48f655(0x8de)](),_0x5e97b3=String(_0x3405f9)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x48f655(0x8de)]();if(_0x1288a8===''||_0x5e97b3==='')return![];const _0x1a7871=parseFloat(_0x1288a8),_0x1e438f=parseFloat(_0x5e97b3);if(isNaN(_0x1a7871)||isNaN(_0x1e438f))return![];return Math['abs'](_0x1a7871-_0x1e438f)<0.001;}async function gradeShortAnswer(_0x652804,_0x71c7b3){const _0x430198=_0x13fc2f,_0x125087=_0x71c7b3[_0x430198(0x665)];if(String(_0x652804)[_0x430198(0x8de)]()[_0x430198(0x128)]()===String(_0x125087)[_0x430198(0x8de)]()[_0x430198(0x128)]())return!![];if(compareNumericalAnswers(_0x652804,_0x125087))return!![];return console[_0x430198(0x2de)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x652804,_0x125087);}async function revealAnswerForAdmin(_0x147de4,_0x31791e){const _0x1d1f27=_0x13fc2f,_0x3dcd1a=doc(db,_0x1d1f27(0x709)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3dcd1a,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x2fbab6){const _0x5a1dff=_0x13fc2f,_0x505598=Object[_0x5a1dff(0x672)](_0x2fbab6[_0x5a1dff(0x61c)]||{})['filter'](_0x241685=>_0x241685[_0x5a1dff(0x5f5)]===_0x5a1dff(0x782));_0x505598['sort']((_0x4c1db5,_0x2d5605)=>_0x2d5605[_0x5a1dff(0x510)]-_0x4c1db5[_0x5a1dff(0x510)]);const _0x12bea0=_0x505598[_0x5a1dff(0x182)](0x0,0x5),_0x5a2704=_0x5a1dff(0x242)+_0x12bea0['map']((_0xb4a394,_0x39c55f)=>_0x5a1dff(0x2ac)+(_0x39c55f+0x1)+'.\x20'+(_0xb4a394[_0x5a1dff(0x763)]||Object[_0x5a1dff(0x205)](_0x2fbab6['players'])[_0x5a1dff(0x75b)](_0x4c33ad=>_0x2fbab6['players'][_0x4c33ad]===_0xb4a394))+_0x5a1dff(0x67c)+_0xb4a394[_0x5a1dff(0x510)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x5a1dff(0x59e)+(_0x2fbab6[_0x5a1dff(0x678)]+0x1===currentQuizData[_0x5a1dff(0x218)][_0x5a1dff(0x708)]?_0x5a1dff(0x64d):_0x5a1dff(0x335))+_0x5a1dff(0x27c);liveGameView[_0x5a1dff(0x768)]=_0x5a2704,document[_0x5a1dff(0x21e)]('goto-next-question-btn')['addEventListener'](_0x5a1dff(0x3bd),async()=>{const _0x3dcbf4=_0x5a1dff,_0x4f4c80=doc(db,_0x3dcbf4(0x709)+appId+_0x3dcbf4(0x827),currentLiveGameId),_0x4e3577=_0x2fbab6[_0x3dcbf4(0x678)]+0x1;if(_0x4e3577<currentQuizData[_0x3dcbf4(0x218)][_0x3dcbf4(0x708)]){const _0x570fae={'currentQuestionIndex':_0x4e3577,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x3dcbf4(0x2a6)};Object[_0x3dcbf4(0x205)](_0x2fbab6[_0x3dcbf4(0x61c)])[_0x3dcbf4(0x121)](_0x366176=>{const _0x555136=_0x3dcbf4;_0x570fae[_0x555136(0x15e)+_0x366176+_0x555136(0x85f)]=![];}),await updateDoc(_0x4f4c80,_0x570fae);}else await updateDoc(_0x4f4c80,{'status':_0x3dcbf4(0x799)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3ca308=>{const _0xe25d83=_0x14fe;if(_0x3ca308){userId=_0x3ca308[_0xe25d83(0x5d7)],userIdDisplay['textContent']=userId;const _0x219edb=await loadUserPreferences();_0x219edb['projectSortOrder']&&(document[_0xe25d83(0x21e)](_0xe25d83(0x6e5))[_0xe25d83(0x24a)]=_0x219edb[_0xe25d83(0x34d)]);globalDashboardSettings[_0xe25d83(0x215)]=_0x219edb[_0xe25d83(0x215)]||_0xe25d83(0x438);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x2591df,_0x2bc26e){const _0x5d49bd=_0x13fc2f;if(!userId)return;try{const _0x44956b=doc(db,_0x5d49bd(0x709)+appId+'/users/'+userId+'/preferences/main'),_0x30d9db={};_0x30d9db[_0x2591df]=_0x2bc26e,await setDoc(_0x44956b,_0x30d9db,{'merge':!![]});}catch(_0x5545c0){console['error']('Error\x20saving\x20user\x20preference:',_0x5545c0);}}async function loadUserPreferences(){const _0x46db28=_0x13fc2f;if(!userId)return{};try{const _0x48f265=doc(db,'artifacts/'+appId+_0x46db28(0x7de)+userId+_0x46db28(0x86d)),_0x1044ba=await getDoc(_0x48f265);if(_0x1044ba['exists']())return _0x1044ba['data']();return{};}catch(_0x344460){return console['error'](_0x46db28(0x8f1),_0x344460),{};}}function _0x3ac8(){const _0x366d76=['3228hVXCEw','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','ระยะทางและจุดกึ่งกลาง','innerHTML','\x22\x20name=\x22drill_answer\x22\x20value=\x22','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','image/png','การบวก','เวกเตอร์และเมทริกซ์\x20(เสริม)','start-quiz-btn','สัญกรณ์วิทยาศาสตร์','tool','questionIndex','Error\x20adding\x20students:','comparison-individual-content','สมการตรีโกณมิติ','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','projectId','showInStudentDashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','false','show_results_only','progress-project-select','สอบซ่อม','checked','isArray','active','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pop','#10B981','localeCompare','upper_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','split','q-image-container-','bg-red-100\x20text-red-800','behavior-log-tab-btn','questionType','afterend','div[data-question-index=\x22','input[type=\x22checkbox\x22]:checked','เศษส่วน\x20(ย่อ/ขยาย)','-tab','ตัวประกอบและตัวประกอบเฉพาะ','start-game-btn','pointercancel','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','ฟังก์ชันผกผัน','podium','teacherSuggestions','คำเตือน\x20(','cancel-quiz-bank-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','copy','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','เรเดียนและการแปลงหน่วย','behaviorLog','date_desc','ยอดเยี่ยม!','scratchpad-options','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ไม่พบเอกสารการส่งงานของ\x20','จุด\x20เส้น\x20ระนาบ','Error\x20pairing\x20quizzes:','result','tGain','substring','text-white','\x22.\x20Ideal\x20Answer:\x20\x22','(ฉบับง่าย)\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','กรุณาเลือกชื่อของคุณ','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','scratchpad-close-btn','):\x20','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','index','cos','ไม่สามารถโหลดข้อมูลอันดับได้','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','(ก่อนเรียน)','authed_project_','has','shuffleSetting','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','startTime','create-project-modal','สมการค่าสัมบูรณ์','body','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x20คู่\x20','editor-quiz-topic','dimmed','Error\x20updating\x20quiz\x20settings:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.topic-name-input','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','leaderboard-quiz-tab-btn','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','input[type=\x22radio\x22]:checked','upperGroupNames','http://www.w3.org/2000/svg','.start-live-race-btn','Error\x20processing\x20file\x20for\x20AI:','/users/','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ที่พิมพ์ได้\x20จำนวน\x20','add-custom-math-topic-btn','cancel-quiz-edits-btn','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','<p\x20class=\x22font-bold\x20text-sm\x20','Error\x20generating\x20lesson\x20plan:','quiz-search-input','เพิ่มหัวข้อ\x20\x22','hasOwnProperty','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','behavior-log','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','data','confirm-delete-btn','.status','<tr\x20class=\x22','แผนการสอน','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','inactive','รีเซ็ตลำดับโปรเจคแล้ว','quick_thinker','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dragover','export-tutor-pdf-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','perQuestionStats','ไม่มี','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','delete-svg-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','เปิด\x20(จับเวลา)','push','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','</option>','N/A','offset','all','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','<p><strong>คำตอบที่แนะนำ:</strong>\x20','toggle','normal','แผนภาพกล่อง\x20(box\x20plot)','Error\x20adding\x20custom\x20topic:','total','</strong></p>','.ideal-answer-input','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','$1\x5cfrac','getAttributeNS','text-red-700','ฟังก์ชันค่าสัมบูรณ์','questionId','เกิดข้อผิดพลาดในการลบผลสอบ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','change','add-student-btn','quiz-leaderboard-table-body','/public/data/quizzes/','ตรวจพบการออกจากหน้าจอครบ\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','/public/data/liveGames','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.quiz-bank-delete-btn','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','จำนวนคละ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20(p=','th-TH','text-red-700\x20bg-red-100','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','include-images-checkbox','_blank','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','drop','ระยะเวลา\x20(นาที):','className','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','(เลือกแล้ว\x20','00:00','</li>','bg-yellow-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-red-200\x20text-red-800','student-progress-content','.topic-name-display','border-green-300\x20bg-green-50','$1^{\x5ccirc}','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','submit','playerName','confirm-create-project-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','generated-quiz-container','student','quiz-form','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','.lastAnswerCorrect','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x5cle','<p\x20class=\x22','#view-rankings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','text-red-900','2-digit','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','webkitRequestFullscreen','project-title','.answeredCurrentQuestion','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','อัปเดตการตั้งค่าของแบบทดสอบ\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','generate-from-link-btn','#FCE7F3','ตรีโกณมิติ','BOOLEAN','submission','สร้างคำถามใหม่\x201\x20ข้อ\x20','Error\x20generating\x20parallel\x20post-test:','$1^{\x5ccirc}\x5ctext{C}','.export-pdf-list-btn','global-live-game-modal','/preferences/main','wakeLock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเพิ่มนักเรียนได้','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','specialist','questionDisplayedAt','text-blue-700\x20bg-blue-100','Error\x20deleting\x20quiz:','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','timerDuration','instructions','shuffle-setting-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','back-from-results-btn','Error\x20unpairing\x20quizzes:','canvas','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','results-quiz-id-display','#retake-for-improvement-btn','cancel-export-pdf-btn','ยกเลิกการจับคู่สำเร็จ','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','preScore','</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cloneNode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenchange','.quiz-status-btn','ตัวแปรและนิพจน์','remove','select','<div><input\x20type=\x22radio\x22\x20id=\x22q','answerText','create-project-btn','originalQuestionText','pointerdown','live-game-view','table','\x5c\x5c\x5c\x5c(?=(','list-view-btn','.compare-results-btn','กำลังสร้างคำถามข้อ\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','bank-input-area','fa-fire\x20text-orange-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-options','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','dragend','doughnut','devicePixelRatio','\x20\x20\x20-\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','text-gray-400\x20hover:text-indigo-600','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','input[name=\x22question_single\x22]:checked','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pen','update-old-quizzes-btn','modal-timer-duration-container','Error\x20updating\x20custom\x20topic:','เส้นรอบรูป','clientY','admin-dashboard','live-game','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','ไม่ได้ตอบ','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและบันทึก','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','student-passcode-input','กำลังสร้างแบบทดสอบจากหัวข้อ...','live-player-list','badgesCount','gain','.ql-editor','question','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','function','bg-green-500','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','touches','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','now','removeAttribute','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','str','\x20\x20\x20-\x20คำตอบ:\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ความคล้ายของรูป','correctAnswer','940765fCDDgG','parallel-test-input-area','timer-mode-select','จำนวนเต็มบวก','trim','/public/data/projects','.ai-fix-question-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x5csum','keydown','requestFullscreen','การจัดกลุ่มข้อมูล','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li>','passcode-prompt-message','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','หัวข้อที่สร้างเอง','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x5cge','Error\x20loading\x20user\x20preferences:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','analytics','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','multiple_choice','.scratchpad-content-wrapper','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','msExitFullscreen','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add','createElementNS','.toggle-actions-btn','touchend','timer-duration-container','selected-topics-count','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','neq','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-short-answer-input','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','FIRST_TRY_ACE','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','pointerType','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','https://corsproxy.io/?','visibilitychange','teachingContent','getTextContent','btn','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','เกิดข้อผิดพลาดในการนำผู้เล่นออก','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','ฟังก์ชันลอการิทึม','quiz-settings-modal','student-name-select','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','^{\x5ccirc}\x5ctext{C}$','undefined','\x5cfrac{$1}{$2}','querySelector','text-tab','copy-quiz-id-btn','_opt1\x22>ไม่ใช่</label></div>','map','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','next-question-timed-btn','keyup','upperGroupResponders','medium','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','far\x20fa-star','passcode-error-msg','.option-text','เกิดข้อผิดพลาดในการสร้างห้องเกม','undo-btn','#D1FAE5','เกิดข้อผิดพลาดในการอ่านไฟล์','สรุปผลการวิเคราะห์:\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','blur','confirmation-modal','\x0a---\x0a','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gamePin','global-quiz-list','ปริพันธ์จำกัด','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','ผลรวมอนุกรม\x20(Σ)','\x5csqrt{$1}','innerText','Error\x20fetching\x20project\x20quizzes:','สร้างแบบทดสอบ','\x5ctimes','.duplicate-quiz-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','ความเท่ากันทุกประการของสามเหลี่ยม','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','Error\x20deleting\x20all\x20students:','สมการยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','addEventListener','results-table-container','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-count','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','category','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ownerSVGElement','</p></div>','results-table','-tab-content','ชนิดของข้อมูลและการเก็บข้อมูล','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topic-input-area','text-green-800','quiz-editor-modal','classList','autoTable','.quiz-bank-move-btn','whole_quiz','.sortable-header','แบบทดสอบซ่อมเสริม','num-questions','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/questionBank','presentation-ai-result','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','1378uFjTOc','pen-tool-btn','export-leaderboard-excel-btn','เกิดข้อผิดพลาดในการสร้างใบงาน','เกิดข้อผิดพลาดในการอัปเดตสถานะ','forEach','generate-from-file-btn','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','style','หน่วยเวลาและการคำนวณเวลา','admin-testing','pointermove','toLowerCase','items','ตารางความถี่','หลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','#student-project-leaderboard-content\x20thead','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','hint','shuffle','.verification-result','showImproveButton','confirm-admin-login-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','options','#FFFFFF','.ai-fix-formula-btn','modal-passing-score-input','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','student-join-game-view','<div\x20class=\x22answer-space\x22></div>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','แบบทดสอบ:\x20','next-drill-btn','#000000','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','reference-pdf-upload','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','Error\x20fetching\x20projects\x20for\x20move:','hint-btn','สเกลและแผนที่','targetId','ตรวจคะแนนใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x22\x5cn','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x22><p\x20class=\x22font-semibold\x22>','json','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-modal','screen_exit','code','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-indigo-600','msRequestFullscreen','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','AI\x20Formula\x20Fix\x20Error:','PERSEVERANCE','players.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','toLocaleString','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','settings','.quiz-settings-btn','visible','.question-editor-item','ทำคะแนนได้เกินครึ่ง','สถิติและความน่าจะเป็น','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','อสมการค่าสัมบูรณ์','ชื่อโปรเจคห้ามว่าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','pre-test','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','ค่าเสื่อมราคา','fill','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ย้ายแบบทดสอบสำเร็จ','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','max','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','filter','input[name=\x22status-option\x22]','setFont','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','#F3E8FF','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','file-topic-input','จากไฟล์ที่แนบมานี้,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','project-search-input','scratchpad-question','submittedAt','การยืนยันตัวตนล้มเหลว','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','คณิตศาสตร์','createdBy','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','text-gray-700','contains','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','suggestedAnswer','#FEE2E2','กรุณาเลือกสถานะ','size','totalQuestions','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','text-red-800','Error\x20updating\x20quiz\x20status:','leaderboard-tab-content','Error\x20toggling\x20star\x20status:','<div\x20class=\x22mb-3\x20topic-category\x22>','text-red-300\x20hover:text-red-100','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','projectOrder','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x22\x20value=\x22','text-purple-600','querySelectorAll','bar','set','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','.generate-lesson-btn','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','ทศนิยม\x20(ค่าประจำหลัก)','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20parallel\x20test\x20from\x20bank:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยความยาวและการแปลง','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-schedule-end-container','includes','students','เกิดข้อผิดพลาดในการเข้าร่วมเกม','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','submission-status-chart','ตรวจทานเฉลยเสร็จสิ้น!','-\x20ข้อ\x20','การวัด','timer-duration-label','การหารทศนิยม','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','leaderboard-quiz-tab-content','สุดยอด!\x20ตอบถูกทุกข้อ','left','จำนวนข้อ:','บันทึกแบบทดสอบสำเร็จแล้ว!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','backgroundColor','presentation-explanation','ทำคะแนนเต็มในการทำครั้งแรก','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','OBJECT','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','opacity-50','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','.pin-project-btn','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','answers','modal-close-btn','close-lesson-plan-modal-btn','เกี่ยวกับหัวข้อ\x20\x22','tooltipTarget','quiz-start-time','matching','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','open-quiz-bank-btn','bulk-loop-until-pass-checkbox','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','verify-answers-btn','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','raw','/submissions','3SIQGLS','restore','back-to-student-home-btn','มัธยฐาน','border-red-700','auto','none','การสร้างรูปด้วยวงเวียน–สันตรง','Error\x20toggling\x20pin\x20status:','\x22\x20class=\x22delete-project-btn\x20','(คู่ขนาน)\x20','blueprint-upload-input','answeredCurrentQuestion','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','keys','flex','เกิดข้อผิดพลาดในการปักหมุด','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','.project-card-content','พอใช้','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ย้าย','sort','bg-green-100\x20text-green-800','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectView','สร้างชุดคำถามจับคู่','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','questions','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','rgba(79,\x2070,\x20229,\x200.8)','getElementById','loader','ความชันและเส้นตรง','อนุพันธ์:\x20กฎลูกโซ่','<button\x20id=\x22','name_asc','pow','passcode-input-container','bank-quiz-list','getPage','deltaY','onload','student-result-area','back-to-dashboard-from-results-btn','warn','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','student-reading-area','position','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','1:274192258111:web:4120c9118229b5644dd48a','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','global-quiz-search-input','บันทึกการตั้งค่าแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x20mx-1\x20text-lg\x22></i></span>','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','2065WOBvEh','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','timestamp','line-through\x20text-red-700','perfect_score_status','submissions','\x22\x20data-topic=\x22','วงรี','value','download','.project-card-container','mouse','เมทริกซ์:\x20บวก/คูณ','list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','grid-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','.csv','.quiz-bank-present-btn','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','Error\x20creating\x20project:','เรขาคณิตวิเคราะห์','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','startedAt','กฎของไซน์','save-settings-btn','Error\x20starting\x20live\x20race:','พีชคณิตและฟังก์ชัน','frac','.delete-submission-btn','quiz-generation-area','modal-results-display-select','blockReason','blueprint-input-area','fas\x20fa-user-edit','math-topics-checkbox-container','timerMode','ไม่มีคำอธิบาย','standard','true','การลบ','\x22\x20value=\x22false\x22\x20','worksheet-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','fa-bolt\x20text-blue-500','<i\x20class=\x22fas\x20fa-save\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.parallel-quiz-btn','perfect_score','catch','สลับไปโหมดผู้ควบคุม','source-over','webkitExitFullscreen','คะแนนยังไม่ถึงครึ่ง','อัตราการเปลี่ยนแปลงทันที','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','starred','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','getBoundingClientRect','rgba(59,\x20130,\x20246,\x200.7)','circ','parent','\x22\x20class=\x22color-palette-btn\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','6OoUMtR','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','helvetica','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','อัตราส่วนและสัดส่วน','exitFullscreen','admin-view','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','fa-crown\x20text-yellow-500','.quiz-bank-try-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20font-bold','ไม่พบข้อมูลข้อสอบหลังเรียน','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','สู้ๆ\x20ลองอีกครั้งนะ','circle','clientX','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr>','.draggable-text','</button>','close-comparison-modal-btn','answering','<i\x20class=\x22fas\x20fa-magic\x22></i>','toFixed','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','repeat','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','quiz-leaderboard-table','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x5cs*\x5c(','confirm-global-live-btn','qType','Re-grade\x20process\x20failed:','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','type','อัปเดตแบบทดสอบเก่า\x20','student-rankings-modal','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','cancel-passcode-btn','POST','promise','ผู้ไม่ยอมแพ้','modal-timer-mode-select','modal-loop-until-pass-checkbox','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','classWeaknesses','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','start-presentation-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','รูปสี่เหลี่ยมและสมบัติ','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','จับคู่เพื่อเปรียบเทียบผล','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','ai-quiz-app-aefee.firebaseapp.com','save-visibility-settings-btn','height','.topic-category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-container','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','log','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-btn','icon','grabbing','manual_release','บันทึกการแก้ไข','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x22.\x20','quiz-schedule-start-container','join-live-game-btn','กรุณาเลือกโปรเจคที่ต้องการบันทึก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','คำถามดิบ:\x20\x22','textarea','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','lesson-plan-title','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x22...','text/csv;charset=utf-8;','.doc','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','ระยะเวลา\x20(วินาที):','\x20mb-2\x22>','ความแปรปรวน','student-initial-view','summary_chart','#e21b3c','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','scratchpad-clear-btn','<tr><td\x20colspan=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','กำลังสร้างรูปภาพ...','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','red','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','indexOf','no-projects-msg','</p>','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','สมมาตร\x20(แกน/จุด)','bank-tab','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','fa-shield-alt\x20text-gray-600','lesson-plan-modal','file-upload-input','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x20ชุด)','toString','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','leaderboard-quiz','leaderboard-table-body','สมการลอการิทึม','focus','documentElement','leaderboard','.delete-svg-btn','bottom','จัดการ','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctext(','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','entries','.save-to-bank-btn','isScored','project-detail-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','isAdaptive','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','ข้อต่อไป','file-input-area','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','overline','jspdf','ลบหัวข้อสำเร็จ','delete-all-students-btn','แก้ระบบสมการด้วยเมทริกซ์','<div\x20class=\x22flex-1\x22></div>','retake-quiz-loop-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ไม่พบโปรเจค','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','ยืนยันการจับคู่','correctResponse','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','รูปแบบการให้เหตุผล','projectSortOrder','.ideal-answer-input,\x20.correct-response-input','\x20ครั้ง)</span></td>','สมการราก\x20(radical)','#student-quiz-leaderboard-content\x20thead','round','random','#E5E7EB','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','verify-answers-editor-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.regenerate-question-editor-btn','<div\x20class=\x22','การลบทศนิยม','\x5cdiv','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','ฟังก์ชันกำลังสองและกราฟ','มุมพิเศษ\x2030°-60°-90°','finishReason','rename-quiz-modal','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```json','การประยุกต์เวกเตอร์พื้นฐาน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x22\x20class=\x22pin-project-btn\x20','quiz-type-select','docs','results','จับคู่แบบทดสอบสำเร็จ!','student-quiz-leaderboard-table-body','badges','กฎบวกและกฎคูณ','Error\x20displaying\x20question\x20bank:','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบที่ติดดาว','learningGaps','presentation-scratchpad-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','lesson-plan-content','</th>','attempts','quiz-results','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','bg-gray-50','contents','destroy','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','16KwXkBW','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','[contenteditable=\x22true\x22]','เลือกโปรเจคเพื่อบันทึก','.move-quiz-btn','start-live-race-generated-btn','bestScore','slide-counter','createObjectURL','text-red-500\x20hover:text-red-700','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x5cfrac','จำนวนนักเรียน','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','student-quiz-leaderboard-content','text-gray-300\x20hover:text-white','latestScore','.edit-quiz-btn','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','Error\x20saving\x20visibility\x20settings:','reduce','bg-green-200\x20text-green-800','ตอบถูกทุกข้อในแบบทดสอบนี้','fa-pen','globalCompositeOperation','dashboardConfig','export-compact-pdf-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<li\x20class=\x22','display','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','prev-question-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ตั้งเวลา\x20(เปิด)','AI\x20ไม่สามารถประมวลผลข้อมูลได้','API\x20call\x20failed\x20with\x20status:\x20','text-gray-100','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-leaderboard-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','ห.ร.ม.\x20(GCD)','MathJax','reset-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','.topic-actions-edit','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','closePath','fa-rocket\x20text-purple-500','ไม่พบตารางสำหรับ\x20Export','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','startsWith','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','topic-tab','application/json','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','click','#DBEAFE','dispatchEvent','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','removeEventListener','outerHTML','schedule','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','$1_{$2}','answer','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','move-quiz-project-select','dataset','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','36888pDiPmp','mousemove','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','ring-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','pre-test-checkbox','projectName','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','removeChild','การแปลงรูปอัตลักษณ์','ไม่สามารถบันทึกการตั้งค่าได้','ใช่','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','justification','</tbody></table>','presentation-modal','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','some','Error\x20renaming\x20quiz:','print','ย้ายแบบทดสอบไปโปรเจคอื่น','ความน่าจะเป็นแบบมีเงื่อนไข','svg','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','katex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','back-to-results-btn','scrollIntoView','จำนวนและการดำเนินการ','Error\x20listening\x20for\x20starred\x20quizzes:','comparison','input[type=\x22text\x22]','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','Leaderboard\x20update\x20transaction\x20failed:\x20','ปิดใช้งาน','text-indigo-800','topic','.group','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','write','bank-quiz-search-input','ผิด','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','comparison-modal','cancel-quiz-edits-btn-footer','<div\x20id=\x22q-image-container-','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20','eraser-tool-btn','isPasscodeEnabled','results_','join','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.topic-actions-view','text-gray-200','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','การคูณทศนิยม','bg-green-50','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','.sort-indicator','เส้นตรง:\x20รูปแบบสมการ','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>จาก:\x20','Failed\x20to\x20get\x20hint:','export-excel-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','.correct-response-input','การบวกเศษส่วน','การบวกทศนิยม','isCorrect','classStrengths','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','geq','results-display-select','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','overallGroups','ไม่ผ่าน','</tr>','.cancel-edit-topic-btn','live-submit-short-answer-btn','sqrt','results-tab-content','_opt1\x22\x20name=\x22question','scratchpad-controls',')\x5cb)','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','กราฟฟังก์ชันตรีโกณ','lineJoin','เกิดข้อผิดพลาดในการลบหัวข้อ','moveTo','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','27411472','setAttribute','.lastAnswerValue','grid','cancel-move-quiz-btn','parallel-test-tab','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','ดอทโปรดักต์\x20(dot)','ตอบถูก\x203\x20ข้อติดต่อกัน','Copy\x20command\x20failed','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','mixed','คะแนนเต็ม!','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','175226WNSjVP','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataIndex','toISOString','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','firstScore','label[for=\x22num-questions\x22]','quiz-id-input','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ไม่พบแบบทดสอบสำหรับรหัสนี้','text-blue-800','correctAnswerIndex','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','Failed\x20to\x20kick\x20player\x20','padStart','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','สลับไปโหมดนักเรียน','$1\x20\x5cfrac','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','globalSettings','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.generate-easy-version-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','transition-all','draggable-text','resize','from','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz','text/html','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-detail','per_question','desc','stdDev','generate-from-topic-btn','width','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','save-quiz-edits-btn','show_pass_fail_only','ชื่อหัวข้อห้ามว่าง','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','stopPropagation','link-input-area','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','temp-loader-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','attemptNumber','Error\x20saving\x20to\x20question\x20bank:','ไม่สามารถโหลดรายการโปรเจคได้','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','%</span>','Failed\x20to\x20create\x20initial\x20submission\x20record:','matching_item','การจัดหมู่\x20(Combination)','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','เกิดข้อผิดพลาด:\x20','ลำดับเรขาคณิต\x20(GP)','cancel-test-btn','label','ไม่พบข้อมูลแบบทดสอบ','เกิดข้อผิดพลาดในการจับคู่','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','คณิตการเงิน/บูรณาการ','quiz-bank-modal','fas\x20fa-star\x20text-yellow-500','enable-passcode-checkbox','.verification-result-editor','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','commit','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','button','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','bg-blue-100','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','ไม่พบข้อมูลผู้ใช้','(ตัวเลือกผิดพลาด)','ระบบสมการเชิงเส้นสองตัวแปร','parse','</p><div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','.pen-color-btn[data-color=\x22#000000\x22]','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','ฟังก์ชันยกกำลัง','1812680oaZUjQ','พื้นที่วงกลม/ส่วนของวงกลม','cancel-delete-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','รากที่สองและที่สาม','touch','text-gray-500','message-modal','<i\x20class=\x22fas\x20fa-pen\x22></i>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','button[data-id]','lowerGroupNames','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','ปริพันธ์ไม่จำกัด','get','ท็อปฟอร์ม','Error\x20saving\x20quiz:','post-test','$$$1$','การลบเศษส่วน','analytics-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','worksheet-tab','\x20/\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','save','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ค่าความจริง/ตารางค่าความจริง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','student-view','Firebase\x20initialization\x20failed:','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','admin-try-quiz-btn','อัตราและอัตราหน่วย','Error\x20updating\x20sort\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','totalPoints','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','show_results_and_answers','qIndex','<br>','promptFeedback','practiceProblems','execCommand','name_desc','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','isStarred','countdown-display','Error\x20generating\x20from\x20blueprint:','การคูณ','border-red-300\x20bg-red-50','กำลังสร้างแบบทดสอบคู่ขนาน...','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','รูปสแควร์รูท\x20(surd)','.quiz-result-card','text-green-600','fill_in_no_choices','คะแนน','text-green-700','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ความคาดหมาย\x20(Expected\x20value)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','isRemedial','scratchpad-canvas','user','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','force-math-checkbox','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','key','analyze-strengths-btn','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</p><p><strong>เฉลย:</strong>\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20',',\x20r=','disabled','pinned-items','\x20mr-2\x22></i>','Error\x20committing\x20score\x20updates:','.live-summary-tooltip.visible','bg-purple-50','<span\x20class=\x22sort-indicator\x20ml-2\x22>','Error\x20listening\x20for\x20student\x20profiles:','พบข้อสอบ\x20','<textarea\x20name=\x22question','score','createElement','#ffffff','Error\x20deleting\x20student:','<div\x20class=\x22my-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','เงินงวด\x20(อนุกรมเงินงวด)','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','save-project-name-btn','candidates','cancel-global-live-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','times','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','/public/data/quizzes','bg-red-100','\x22><i\x20class=\x22fas\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','quiz-editor-questions-container','comparison-overall-tab','text-green-600\x20font-bold','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','modal-message','\x22,\x20','<div\x20class=\x22space-y-4\x22>','bg-red-50','border-indigo-400\x20ring-2\x20ring-indigo-200','\x22\x20data-pre-test-id=\x22','ค่าคลาดเคลื่อนของการวัด','Failed\x20to\x20parse\x20JSON\x20from\x20AI','Error\x20updating\x20project\x20name:','Enter','fixed','element','Error\x20verifying\x20answers\x20in\x20editor:','scratchpad-modal','ref','สร้างโปรเจคสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bulk-quiz-settings-btn','cursor','starred-project','_opt0\x22\x20name=\x22question','deg','resultsDisplay','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','approx','parts','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','default','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ปรับเพิ่ม/ลดเป็นร้อยละ','285252BnuWlW','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','rename-quiz-input','dragstart','export-pdf-modal','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','eraser','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.unpair-quiz-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','test','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','sum','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','การคูณเศษส่วน','fill_in_the_blank','text-yellow-800','mouseup','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','bg-green-100','editable-quiz-topic','fullscreenElement','ถูกต้อง!','behavior-log-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','.start-presentation-list-btn','การปัดเศษและประมาณค่า','admin-password-modal','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','การเรียงสับเปลี่ยน\x20(Permutation)','</span>','#F59E0B','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','comparison-overall-content','.delete-custom-topic-btn','bg-red-500','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','ดีมาก','endTime','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','cancel-bulk-quiz-settings-btn','ลำดับเลขคณิต\x20(AP)','getContext','.live-answer-btn','การกระจายและการจัดหมู่','เกิดข้อผิดพลาดในการลบนักเรียน','loop-until-pass-checkbox','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','อัปเดตพฤติกรรมสำหรับ\x20','viewBox','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','NUMBER','confirm-bulk-quiz-settings-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','touchmove','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มลบ','toLocaleDateString','setAttributeNS','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','confirmation-message','pointsLastQuestion','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cneq','preTestId','next-question-btn','currentTarget','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','quizType','rows','quiz-results-view','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','$1\x5ctimes','export-leaderboard-word-btn','เกิดข้อผิดพลาดในการโหลดสถานะ','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','กรุณาเลือกคำตอบก่อนครับ','tan','match','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#26890c','input[type=\x22checkbox\x22]','fromCharCode','border-gray-200','เกิดข้อผิดพลาดในการบันทึก','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','kick-player-btn','bg-yellow-100','update','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','passingScore','/public/data/customMathTopics','text-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','solution','ระยะจากจุดถึงเส้นตรง','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','แคลคูลัสเบื้องต้น','contentEditable','password-error-msg','visibilityState','(ก่อนเรียน)\x20','parallel-test-upload-input','274192258111','(ไม่มีชื่อ)','wheel','</label>\x0a\x20\x20\x20\x20</div>\x0a','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','getBBox','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','/public/data/learnedFixes','bulk-quiz-settings-modal','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','modal-shuffle-select','ร้อยละพื้นฐาน','<span\x20title=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','uid','fix\x20the\x20option','ส่งคำตอบ','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x22\x20data-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','button[type=\x22submit\x22]','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','show-in-student-dashboard-checkbox','div','Error\x20regenerating\x20question\x20in\x20editor:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','question-analytics-container','num-choices-container','สร้างคำถามแบบใช่/ไม่ใช่','confirm-quiz-status-btn','error','.generate-post-test-btn','thead\x20.sortable-header','confirm-passcode-btn','.presentation-option','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','ควรปรับปรุง','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','timer-duration-input','แผนภาพเวนน์','คัดลอกรหัสแล้ว!','status','อัปเดตสถานะสำเร็จ','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','Error\x20deleting\x20submission:','\x20จาก\x20','findIndex','asc','</h3>','ความเป็นอิสระของเหตุการณ์','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','empty','Error\x20verifying\x20answers:','วงกลม:\x20คอร์ดและเส้นสัมผัส','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','preventDefault','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','createdAt','link-url-input','ยังไม่เต็มนะ',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','exists','\x22\x20name=\x22question_single\x22\x20value=\x22','description','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ring-purple-400','mean','generate-from-blueprint-btn','mjx-container','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','lobby','student-project-leaderboard-content','players','pointerup','MathJax\x20typeset\x20error\x20(analytics):','live-player-management','ดอกเบี้ยอย่างง่าย','<option\x20value=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','Error\x20saving\x20settings:','color','.choice-text','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','scale','แบบทดสอบนี้หมดเวลาแล้ว','preTScore','close-lesson-plan-modal-footer-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','toDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','generate-from-text-btn','.rename-quiz-btn','ไม่สามารถเริ่มเกมได้','right','การนับ','input[name=\x22drill_answer\x22]:checked','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','text-red-600','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','border-green-700','touchstart','Error\x20rendering\x20student\x20progress:','/studentProfiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','Error\x20starting\x20game:','loader-text','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','input[name=\x22status-option\x22]:checked','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','onerror','text-content-input','สร้างคำถามแบบเติมคำในช่องว่าง','project-passcode-modal','passcode','translate','สรุปผลสุดท้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','save-quiz-btn','num-choices','create-from-bank-btn','delete','quizId','9qwxJJV','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','originalTopic','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','dfrac',';\x22\x20data-id=\x22','interesting-stats-container','</td></tr>','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FileReader\x20error:','ดอกเบี้ยทบต้น','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ARRAY','project-passcode-input','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x20ตัวเลือก.\x20','idealAnswer','open','ลบแบบทดสอบสำเร็จแล้ว','shuffledQuiz','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','document','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','กำลังอ่านและเตรียมไฟล์...','Error\x20deleting\x20project:','interesting-stats-wrapper','NEGATIVE_INFINITY','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','values','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','currentQuestionIndex','content','ร้อยละประยุกต์','.project-card-container.opacity-50','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','textContent','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20เพื่อสร้างชุดคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-pin-input','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','appendChild','<button\x20data-quiz-id=\x22','341612HrwZES','global-live-game-count','อุณหภูมิและการแปลง','AI\x20Fix\x20Error:','เปิดใช้งาน','clearRect','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','link-tab','standardTopic','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','projectSort','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','manage','.answer-text','.score','mouseleave','STRING','ข้อ\x20','ไม่ใช่','true_false',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','Error\x20generating\x20from\x20link:','กำลังดึงข้อมูลจากลิงก์...','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','บันทึกการตั้งค่าสำเร็จ','project-quizzes-list','ส่วนเบี่ยงเบนเฉลี่ย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','ค่าสัมบูรณ์','\x20pointer-events-none\x22>','\x20ชุดสำเร็จ!','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','short_answer','.pdf','</body></html>','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแยกตัวประกอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','โดเมนและเรนจ์','release','touchcancel','studentName','ไฮเพอร์โบลา','text-green-700\x20bg-green-100','project-dashboard-view','fixedData','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','Error\x20generating\x20from\x20parallel\x20test\x20file:','กรุณาใส่ชื่อใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','กรุณาป้อนรหัสแบบทดสอบ','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hidden','readAsDataURL','prod','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','กำลังอัปเดตแบบทดสอบ\x20','text-indigo-700','(หลังเรียน)\x20','/public/data/projects/','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','close','blueprint-tab','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','cancel-admin-login-btn','export-leaderboard-pdf-btn','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','[data-topic-container-id]','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','check-answer-btn','scheduled','ราชาคัมแบ็ก','\x22\x20data-q-type=\x22','back-to-student-initial-btn','replace','postTScore','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','td,\x20th','explanation','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinnedProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','project-sort-select','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','แบบทดสอบนี้ปิดใช้งานอยู่','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-list','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','fa-user-astronaut\x20text-blue-700','.quiz-bank-item','ผู้ควบคุม\x20(ทดสอบ)','ระบบอสมการ','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','onchange','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ไม่พบแบบทดสอบ','student-quiz-area','ยังไม่มีนักเรียนส่งงาน','QUICK_THINKER','แผนการสอน:\x20','_opt','กรุณาวาง\x20URL\x20ของบทความก่อน','back-to-dashboard-btn','Error\x20loading\x20quiz\x20for\x20student:','stringify','แบบปรนัย\x204\x20ตัวเลือก','คะแนนเฉลี่ย','stem','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','move-quiz-modal','$1\x5ctext{','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','ค.ร.น.\x20(LCM)','lowerGroupResponders','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','length','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','fas\x20fa-bookmark','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','บันทึกคำถามใหม่\x20','open-scratchpad-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','</td>','Error\x20fetching\x20student\x20rankings:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ฟังก์ชันราก\x20(root)','mode-switcher-btn','passing-score-input','\x20หัวข้อ)','student-quiz-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','G-V90KRM0L63','quizMode','สมการเชิงเส้นตัวแปรเดียว','กรุณาใส่ชื่อโปรเจค','destination-out','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','admin','พิสัย','progress-student-select','lastAnswerCorrect','correct','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','quiz-end-time','quadraticCurveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-emerald-900','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','choices_only','ความสัมพันธ์ของมุม','first_try_ace','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','เกิดข้อผิดพลาดในการบันทึกลำดับ','manage-players-btn','ลำดับการดำเนินการ\x20(PEMDAS)','```','Error\x20generating\x20easy\x20version\x20quiz:','.pen-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','message','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','presentation-short-answer-input','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','showRankings','ฟังก์ชันสัมพัทธ์\x20(rational)','ทฤษฎีทวินาม\x20(เบื้องต้น)','strength-weakness-analysis-container','PERFECT_SCORE','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','แก้ไขข้อนี้','files','การหารเศษส่วน','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','modal-timer-duration-input','.isScored','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores','<option>กำลังโหลดโปรเจค...</option>','<span\x20class=\x22font-bold\x20','s;\x22\x20title=\x22','export-image-btn','student-list','จำนวนเชิงซ้อน\x20(เสริม)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','find','.png','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','timer-bar','reset-project-order-btn','pairedQuizId','tfrac','name','modal-timer-duration-label'];_0x3ac8=function(){return _0x366d76;};return _0x3ac8();}function showPodiumView(_0xbf0e7e){const _0x43588b=_0x13fc2f,_0x308067=Object[_0x43588b(0x32e)](_0xbf0e7e)[_0x43588b(0x924)](([_0x4a7cef,_0x58d42f])=>({'name':_0x4a7cef,'score':_0x58d42f[_0x43588b(0x510)]||0x0,'badges':_0x58d42f['badges']||[]}));_0x308067[_0x43588b(0x212)]((_0x51f4bb,_0x296731)=>{const _0x518dcf=_0x43588b,_0x548df9=_0x296731[_0x518dcf(0x510)]-_0x51f4bb[_0x518dcf(0x510)];if(_0x548df9!==0x0)return _0x548df9;return(_0x296731[_0x518dcf(0x36d)][_0x518dcf(0x708)]||0x0)-(_0x51f4bb[_0x518dcf(0x36d)]['length']||0x0);});const _0x40a54f=_0x9621b6=>{const _0x18e0e3=_0x43588b;if(!_0x9621b6||_0x9621b6[_0x18e0e3(0x708)]===0x0)return'';const _0x301b7d={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x9621b6['map'](_0x9cbe7d=>_0x301b7d[_0x9cbe7d]||'')[_0x18e0e3(0x408)]('')+_0x18e0e3(0x165);},_0x5b414b=_0x308067[_0x43588b(0x182)](0x3),_0x431745=_0x5b414b[_0x43588b(0x708)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b414b[_0x43588b(0x924)]((_0x286aa4,_0x13b97c)=>_0x43588b(0x4c9)+(_0x13b97c+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x286aa4[_0x43588b(0x763)]+_0x43588b(0x237)+_0x286aa4[_0x43588b(0x510)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x43588b(0x408)]('')+_0x43588b(0x3af):'',_0x408099=_0x43588b(0x326)+(_0x308067[0x1]?_0x43588b(0x7cc)+_0x308067[0x1]['name']+_0x43588b(0x298)+_0x40a54f(_0x308067[0x1][_0x43588b(0x36d)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x308067[0x1][_0x43588b(0x510)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x43588b(0x33e))+_0x43588b(0x32a)+(_0x308067[0x0]?_0x43588b(0x56e)+_0x308067[0x0][_0x43588b(0x763)]+_0x43588b(0x298)+_0x40a54f(_0x308067[0x0]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x308067[0x0]['score']+_0x43588b(0x3dc):'<div\x20class=\x22flex-1\x22></div>')+_0x43588b(0x32a)+(_0x308067[0x2]?_0x43588b(0x3ff)+_0x308067[0x2]['name']+_0x43588b(0x298)+_0x40a54f(_0x308067[0x2][_0x43588b(0x36d)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x308067[0x2][_0x43588b(0x510)]+_0x43588b(0x34a):'<div\x20class=\x22flex-1\x22></div>')+_0x43588b(0x3a9)+_0x431745+_0x43588b(0x1bc)+(currentMode==='admin'?_0x43588b(0x88c):_0x43588b(0x784))+_0x43588b(0x371);liveGameView[_0x43588b(0x768)]=_0x408099,currentMode===_0x43588b(0x725)&&document[_0x43588b(0x21e)]('close-game-final-btn')[_0x43588b(0xfd)](_0x43588b(0x3bd),async()=>{const _0x5ab82f=_0x43588b,_0x593149=doc(db,_0x5ab82f(0x709)+appId+_0x5ab82f(0x827),currentLiveGameId);await deleteDoc(_0x593149),showView(_0x5ab82f(0x8b9));});}async function handleStartLiveRace(_0x1ec552){const _0x481456=_0x13fc2f;let _0x4b399b=allQuizzes['find'](_0x4b34cd=>_0x4b34cd['id']===_0x1ec552);if(!_0x4b399b){const _0x5f5af0=doc(db,_0x481456(0x709)+appId+'/public/data/quizzes',_0x1ec552),_0x1fb0d2=await getDoc(_0x5f5af0);if(!_0x1fb0d2['exists']()){showMessage(_0x481456(0x495));return;}_0x4b399b={'id':_0x1fb0d2['id'],..._0x1fb0d2[_0x481456(0x7ed)]()};}const _0x5b9f36=getShuffledQuiz(_0x4b399b);currentQuizData=_0x5b9f36;const _0x1f865a=_0x4b399b[_0x481456(0x779)]||currentProjectId||null,_0x411ba6=Math[_0x481456(0x325)](0x3e8+Math[_0x481456(0x353)]()*0x2328)[_0x481456(0x319)]();currentLiveGamePin=_0x411ba6;try{const _0x27d624=await addDoc(collection(db,_0x481456(0x709)+appId+_0x481456(0x827)),{'quizId':_0x1ec552,'projectId':_0x1f865a,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x411ba6,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5b9f36});currentLiveGameId=_0x27d624['id'],showAdminLobbyView(_0x411ba6,_0x4b399b['topic']),listenForLiveGameUpdates();}catch(_0x5cff24){console[_0x481456(0x5e9)](_0x481456(0x25c),_0x5cff24),showMessage(_0x481456(0xdc));}}async function handleShowStudentRankings(){const _0x5c21ff=_0x13fc2f,_0x3e7d0a=document[_0x5c21ff(0x920)](_0x5c21ff(0x351));_0x3e7d0a&&(_0x3e7d0a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x28e7c5=document[_0x5c21ff(0x920)](_0x5c21ff(0x12f));_0x28e7c5&&(_0x28e7c5[_0x5c21ff(0x768)]=_0x5c21ff(0x56f));const _0x45e291=document[_0x5c21ff(0x21e)](_0x5c21ff(0x2be));_0x45e291['classList']['remove'](_0x5c21ff(0x6c1)),document[_0x5c21ff(0x21e)]('close-student-rankings-btn')[_0x5c21ff(0x2ab)]=()=>_0x45e291['classList'][_0x5c21ff(0x8fb)](_0x5c21ff(0x6c1));const _0x2c4790=document[_0x5c21ff(0x21e)](_0x5c21ff(0x71d)),_0x5d0c8f=document[_0x5c21ff(0x21e)]('student-project-leaderboard-tab'),_0x15b670=document['getElementById'](_0x5c21ff(0x390)),_0x14c878=document[_0x5c21ff(0x21e)](_0x5c21ff(0x61b));_0x2c4790[_0x5c21ff(0x2ab)]=()=>{const _0x86891a=_0x5c21ff;_0x2c4790[_0x86891a(0x110)]['add'](_0x86891a(0x782)),_0x5d0c8f[_0x86891a(0x110)]['remove'](_0x86891a(0x782)),_0x15b670['classList']['remove']('hidden'),_0x14c878['classList'][_0x86891a(0x8fb)](_0x86891a(0x6c1));},_0x5d0c8f[_0x5c21ff(0x2ab)]=()=>{const _0x20bfeb=_0x5c21ff;_0x5d0c8f['classList'][_0x20bfeb(0x8fb)]('active'),_0x2c4790[_0x20bfeb(0x110)]['remove'](_0x20bfeb(0x782)),_0x14c878[_0x20bfeb(0x110)]['remove'](_0x20bfeb(0x6c1)),_0x15b670[_0x20bfeb(0x110)][_0x20bfeb(0x8fb)]('hidden');};try{const _0x35fe60=collection(db,_0x5c21ff(0x709)+appId+_0x5c21ff(0x823)+currentQuizData['id']+_0x5c21ff(0x1f4)),_0x2674c7=await getDocs(_0x35fe60),_0x101c4f=_0x2674c7[_0x5c21ff(0x369)][_0x5c21ff(0x924)](_0x1f59a7=>_0x1f59a7[_0x5c21ff(0x7ed)]());renderQuizLeaderboard(_0x101c4f,currentQuizData,_0x5c21ff(0x36c));const _0x2c617e=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentQuizData[_0x5c21ff(0x779)]+_0x5c21ff(0x63f)),_0x1170b5=await getDocs(_0x2c617e),_0x33336d=_0x1170b5[_0x5c21ff(0x369)][_0x5c21ff(0x924)](_0x20ae73=>_0x20ae73[_0x5c21ff(0x7ed)]());renderLeaderboard(_0x33336d,'student-project-leaderboard-table-body');}catch(_0x1cccd3){console[_0x5c21ff(0x5e9)](_0x5c21ff(0x714),_0x1cccd3),showMessage(_0x5c21ff(0x7bc));}}async function handleSaveToBank(_0x19b40b){const _0x5d0f71=_0x13fc2f,_0x4e104a=_0x19b40b[_0x5d0f71(0x5a2)],_0xa25ca8=_0x4e104a['dataset'][_0x5d0f71(0x7ba)],_0xce61d1=currentQuizData[_0x5d0f71(0x218)][_0xa25ca8];if(!userId){showMessage(_0x5d0f71(0x4a7));return;}try{const _0x8a5114={..._0xce61d1,'originalTopic':currentQuizData[_0x5d0f71(0x3f8)],'savedAt':serverTimestamp()},_0xe757ee=collection(db,_0x5d0f71(0x709)+appId+_0x5d0f71(0x7de)+userId+_0x5d0f71(0x119));await addDoc(_0xe757ee,_0x8a5114),showMessage(_0x5d0f71(0x646)),_0x4e104a['classList'][_0x5d0f71(0x892)](_0x5d0f71(0x1ae)),_0x4e104a['classList'][_0x5d0f71(0x8fb)](_0x5d0f71(0x4ed)),_0x4e104a[_0x5d0f71(0x506)]=!![];}catch(_0xf4f0a1){console[_0x5d0f71(0x5e9)](_0x5d0f71(0x487),_0xf4f0a1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x3337f5=_0x13fc2f;if(!userId)return;const _0x52782f=collection(db,_0x3337f5(0x709)+appId+'/public/data/quizzes'),_0x3be154=query(_0x52782f,where('isStarred','==',!![]));onSnapshot(_0x3be154,_0x4c71a7=>{const _0x152243=_0x3337f5;starredQuizzes=_0x4c71a7[_0x152243(0x369)][_0x152243(0x924)](_0x687f5c=>({'id':_0x687f5c['id'],..._0x687f5c['data']()})),currentProjectId===_0x152243(0x27b)?renderQuizzes():renderProjects();},_0x502d4d=>{const _0x51c80b=_0x3337f5;console['error'](_0x51c80b(0x3f1),_0x502d4d);});}function exportQuizAsWorksheetPDF(){const _0x4601fc=_0x13fc2f;if(!currentQuizData||!currentQuizData[_0x4601fc(0x218)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3f89d5=currentQuizData,_0x178044=window[_0x4601fc(0x666)]('',_0x4601fc(0x836)),_0x29e3c1=_0x491424=>String[_0x4601fc(0x5b2)](0x41+_0x491424),_0x5b81ef=_0x4601fc(0x7f3)+_0x3f89d5[_0x4601fc(0x3f8)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x3f89d5[_0x4601fc(0x3f8)]+_0x4601fc(0x4f1)+_0x3f89d5[_0x4601fc(0x218)][_0x4601fc(0x924)]((_0x56cfb8,_0x5f31ba)=>{const _0x3efc0b=_0x4601fc;let _0x56f9a4='';const _0x43ac84=_0x56cfb8[_0x3efc0b(0x78e)]||_0x3f89d5[_0x3efc0b(0x5a4)];switch(_0x43ac84){case _0x3efc0b(0x8f6):case _0x3efc0b(0x328):_0x56f9a4=_0x3efc0b(0x84b)+_0x56cfb8[_0x3efc0b(0x138)][_0x3efc0b(0x924)]((_0x5dd7cb,_0x52f1af)=>_0x3efc0b(0x156)+_0x29e3c1(_0x52f1af)+'.\x20'+_0x5dd7cb+_0x3efc0b(0x908))[_0x3efc0b(0x408)](_0x3efc0b(0x4de))+_0x3efc0b(0x165);break;case'true_false':_0x56f9a4=_0x3efc0b(0x37f);break;default:_0x56f9a4=_0x3efc0b(0x13e);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x5f31ba+0x1)+_0x3efc0b(0x55e)+(_0x56cfb8[_0x3efc0b(0x700)]||_0x56cfb8['questionText'])+_0x3efc0b(0x4cc)+(_0x56cfb8[_0x3efc0b(0x130)]?'<div\x20class=\x22my-2\x22>'+_0x56cfb8[_0x3efc0b(0x130)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56f9a4+_0x3efc0b(0x8d0);})[_0x4601fc(0x408)]('')+_0x4601fc(0x131);_0x178044['document'][_0x4601fc(0x3fb)](_0x5b81ef),_0x178044[_0x4601fc(0x66a)][_0x4601fc(0x6ca)](),_0x178044['onload']=function(){setTimeout(()=>{const _0x43ebd3=_0x14fe;_0x178044[_0x43ebd3(0x3e4)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3ced74=_0x13fc2f;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3ced74(0x31a));return;}const _0x3171f6=currentQuizData,_0x11513a=window[_0x3ced74(0x666)]('',_0x3ced74(0x836)),_0x196170=_0x179859=>String['fromCharCode'](0x41+_0x179859),_0x9cdfae=_0x3ced74(0x6c4)+_0x3171f6[_0x3ced74(0x3f8)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3171f6[_0x3ced74(0x218)][_0x3ced74(0x924)]((_0x2924e0,_0x3282de)=>{const _0x38a433=_0x3ced74;let _0x7afda='';const _0x1e7002=_0x2924e0[_0x38a433(0x78e)]||_0x3171f6[_0x38a433(0x5a4)];switch(_0x1e7002){case _0x38a433(0x8f6):case _0x38a433(0x328):_0x7afda='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x2924e0[_0x38a433(0x138)]['map']((_0x7062fc,_0x518408)=>_0x38a433(0x161)+_0x196170(_0x518408)+'.\x20'+_0x7062fc+_0x38a433(0x56b))[_0x38a433(0x408)](_0x38a433(0x4de))+_0x38a433(0x551);break;case _0x38a433(0x69f):_0x7afda=_0x38a433(0x47e);break;default:_0x7afda='';break;}return _0x38a433(0x70a)+_0x3171f6[_0x38a433(0x3f8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x3282de+0x1)+_0x38a433(0x707)+(_0x2924e0['stem']||_0x2924e0['questionText'])+_0x38a433(0x4cc)+(_0x2924e0['imageCode']?_0x38a433(0x514)+_0x2924e0[_0x38a433(0x130)]+_0x38a433(0x165):'')+_0x38a433(0x484)+_0x7afda+_0x38a433(0x800);})['join']('')+_0x3ced74(0x1df);_0x11513a[_0x3ced74(0x66a)][_0x3ced74(0x3fb)](_0x9cdfae),_0x11513a[_0x3ced74(0x66a)][_0x3ced74(0x6ca)](),_0x11513a[_0x3ced74(0x229)]=function(){setTimeout(()=>{const _0x3ac603=_0x14fe;_0x11513a[_0x3ac603(0x3e4)]();},0x5dc);};}async function handleToggleStarQuiz(_0x1f9dce){const _0x5aafcd=_0x13fc2f,_0x20066e=doc(db,_0x5aafcd(0x709)+appId+_0x5aafcd(0x51e),_0x1f9dce);try{const _0x54b11e=await getDoc(_0x20066e);if(_0x54b11e[_0x5aafcd(0x610)]()){const _0x30f765=_0x54b11e[_0x5aafcd(0x7ed)]()[_0x5aafcd(0x4e4)]||![];await updateDoc(_0x20066e,{'isStarred':!_0x30f765});}}catch(_0x587758){console[_0x5aafcd(0x5e9)](_0x5aafcd(0x1a7),_0x587758),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x19b934=_0x13fc2f,_0x3fd1bb=document[_0x19b934(0x21e)](_0x19b934(0x8a0));_0x3fd1bb[_0x19b934(0x768)]=_0x19b934(0x15a);try{const _0x3475d5=collection(db,_0x19b934(0x709)+appId+'/users/'+userId+'/questionBank'),_0x1d2420=query(_0x3475d5),_0x1ab1d2=await getDocs(_0x1d2420);if(_0x1ab1d2[_0x19b934(0x606)]){_0x3fd1bb[_0x19b934(0x768)]=_0x19b934(0x485);return;}let _0x408f7a=_0x1ab1d2['docs'][_0x19b934(0x924)](_0x58e672=>{const _0x1fadb2=_0x19b934,_0x4ae25f=_0x58e672[_0x1fadb2(0x7ed)](),_0x4c4a93=_0x58e672['id'];return _0x1fadb2(0x564)+JSON[_0x1fadb2(0x6fd)](_0x4ae25f)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4ae25f[_0x1fadb2(0x777)]||_0x4ae25f[_0x1fadb2(0x700)])+_0x1fadb2(0x334)+_0x4ae25f[_0x1fadb2(0x656)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x19b934(0x408)]('');_0x3fd1bb[_0x19b934(0x768)]=_0x19b934(0x573)+_0x408f7a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x19b934(0x21e)](_0x19b934(0x651))[_0x19b934(0xfd)](_0x19b934(0x3bd),createQuizFromBank);}catch(_0x5c67aa){console[_0x19b934(0x5e9)](_0x19b934(0x36f),_0x5c67aa),_0x3fd1bb[_0x19b934(0x768)]=_0x19b934(0x72a);}}function showAdminLiveQuestionView(_0x4acc78,_0x2dc007,_0x270c02){const _0x275c4e=_0x13fc2f,_0x299e6b=_0x4acc78[_0x275c4e(0x78e)]||currentQuizData['quizType'];let _0x54a387='';if(_0x299e6b===_0x275c4e(0x8f6)||_0x299e6b===_0x275c4e(0x69f)){const _0x219fa6=_0x299e6b==='true_false'?[_0x275c4e(0x3db),'ไม่ใช่']:_0x4acc78[_0x275c4e(0x138)],_0x2efe8e=_0x299e6b===_0x275c4e(0x69f)?_0x4acc78[_0x275c4e(0x8d9)]?0x0:0x1:_0x4acc78['correctAnswerIndex'];_0x54a387=_0x219fa6[_0x275c4e(0x924)]((_0x581ade,_0x369470)=>_0x275c4e(0x6d4)+(_0x369470===_0x2efe8e)+_0x275c4e(0x1db)+_0x581ade+_0x275c4e(0x250))['join']('');}else{if(_0x299e6b===_0x275c4e(0x48c)){const _0x4ff2a0=_0x4acc78[_0x275c4e(0x8b1)]||[];_0x54a387=_0x4ff2a0['map'](_0x2d19a3=>_0x275c4e(0x6d4)+(_0x2d19a3===_0x4acc78[_0x275c4e(0x349)])+_0x275c4e(0x1db)+_0x2d19a3+_0x275c4e(0x250))[_0x275c4e(0x408)]('');}}const _0x349b43=_0x4acc78[_0x275c4e(0x700)]||_0x4acc78[_0x275c4e(0x777)],_0x444dd7=_0x275c4e(0x8eb)+(_0x2dc007+0x1)+_0x275c4e(0x4cb)+_0x270c02+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x275c4e(0x541)+_0x349b43+_0x275c4e(0x1c8)+_0x54a387+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x275c4e(0x768)]=_0x444dd7,window[_0x275c4e(0x3ad)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]),document[_0x275c4e(0x21e)]('reveal-answer-btn')['addEventListener'](_0x275c4e(0x3bd),()=>revealAnswerForAdmin(_0x2dc007,_0x270c02)),document[_0x275c4e(0x21e)]('end-game-btn')[_0x275c4e(0xfd)]('click',async()=>{const _0x387f41=_0x275c4e;showConfirmation(_0x387f41(0x3f4),async()=>{const _0xa165ad=_0x387f41,_0x3eb0f6=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3eb0f6,{'status':_0xa165ad(0x799)});});}),document['getElementById'](_0x275c4e(0x736))[_0x275c4e(0xfd)](_0x275c4e(0x3bd),()=>{const _0x17cb45=_0x275c4e;document[_0x17cb45(0x21e)](_0x17cb45(0x61f))[_0x17cb45(0x110)][_0x17cb45(0x80d)](_0x17cb45(0x6c1));});}function showStudentLiveQuestionView(_0x4361f9,_0x5eca58,_0x44b5ea){const _0x176944=_0x13fc2f,_0x23016a=_0x4361f9[_0x176944(0x78e)]||currentQuizData['quizType'];let _0x51090f='';if(_0x23016a===_0x176944(0x8f6)||_0x23016a===_0x176944(0x69f)){const _0x166335=_0x23016a===_0x176944(0x69f)?[_0x176944(0x3db),'ไม่ใช่']:_0x4361f9['options'];_0x51090f=_0x166335[_0x176944(0x924)]((_0x2be616,_0x5cdc35)=>_0x176944(0x1a1)+_0x5cdc35+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2be616+_0x176944(0x4f5))[_0x176944(0x408)]('');}else{if(_0x23016a===_0x176944(0x48c)){const _0x368fbf=_0x4361f9[_0x176944(0x8b1)]||[];_0x51090f=_0x368fbf['map']((_0x9c72b3,_0x43552d)=>_0x176944(0x1a1)+_0x43552d+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9c72b3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x23016a===_0x176944(0x6ac)&&(_0x51090f=_0x176944(0x26d));}const _0x582ae9=_0x4361f9[_0x176944(0x700)]||_0x4361f9['questionText'],_0x282ece=_0x176944(0x5f1)+(_0x5eca58+0x1)+_0x176944(0x4cb)+_0x44b5ea+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x582ae9+_0x176944(0x1da)+_0x51090f+_0x176944(0x578);liveGameView[_0x176944(0x768)]=_0x282ece;window[_0x176944(0x3ad)]&&MathJax[_0x176944(0x3ed)]&&MathJax[_0x176944(0x3ed)]([liveGameView]);const _0x5cfea6=document[_0x176944(0x21e)](_0x176944(0x429));_0x5cfea6&&_0x5cfea6['addEventListener']('click',()=>{const _0x6e66fd=_0x176944,_0x4cb419=document['getElementById'](_0x6e66fd(0x904))['value'];handleLiveAnswer(_0x4cb419,_0x4361f9);}),document[_0x176944(0x21e)]('live-options-container')[_0x176944(0xfd)](_0x176944(0x3bd),_0x26b011=>{const _0x5d2873=_0x176944,_0x51ddce=_0x26b011['target']['closest'](_0x5d2873(0x585));if(_0x51ddce){const _0x4fcfb6=parseInt(_0x51ddce[_0x5d2873(0x3ca)][_0x5d2873(0x7ba)]);handleLiveAnswer(_0x4fcfb6,_0x4361f9);}});}async function handleLiveAnswer(_0x4b417b,_0x191c6c){const _0x133bf7=_0x13fc2f;document[_0x133bf7(0x1af)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x133bf7(0x121)](_0xad9660=>_0xad9660[_0x133bf7(0x506)]=!![]);const _0x1f843e=_0x191c6c[_0x133bf7(0x78e)]||currentQuizData[_0x133bf7(0x5a4)];let _0x504f3c=![],_0x26a4a8=_0x4b417b;if(_0x1f843e===_0x133bf7(0x6ac)){const _0x50c17f=(_0x4b417b||'')[_0x133bf7(0x319)]();_0x504f3c=await gradeShortAnswer(_0x50c17f,_0x191c6c);}else{if(_0x1f843e===_0x133bf7(0x8f6))_0x504f3c=_0x4b417b===_0x191c6c[_0x133bf7(0x455)];else{if(_0x1f843e===_0x133bf7(0x69f)){const _0x523036=_0x191c6c[_0x133bf7(0x8d9)];_0x504f3c=_0x4b417b===0x0&&_0x523036||_0x4b417b===0x1&&!_0x523036;}else{if(_0x1f843e===_0x133bf7(0x48c)){const _0x126a33=_0x191c6c[_0x133bf7(0x8b1)][_0x4b417b];_0x504f3c=_0x126a33===_0x191c6c['correctResponse'],_0x26a4a8=_0x126a33;}}}}const _0x458028=doc(db,_0x133bf7(0x709)+appId+_0x133bf7(0x827),currentLiveGameId),_0xa36b9a={};_0xa36b9a['players.'+currentStudentName+_0x133bf7(0x85f)]=!![],_0xa36b9a[_0x133bf7(0x15e)+currentStudentName+_0x133bf7(0x852)]=_0x504f3c,_0xa36b9a[_0x133bf7(0x15e)+currentStudentName+_0x133bf7(0x312)]=_0x1f843e===_0x133bf7(0x6ac)||_0x1f843e==='matching_item'?null:_0x4b417b,_0xa36b9a[_0x133bf7(0x15e)+currentStudentName+_0x133bf7(0x437)]=_0x26a4a8,_0xa36b9a['players.'+currentStudentName+'.submittedAt']=serverTimestamp(),_0xa36b9a['players.'+currentStudentName+_0x133bf7(0x751)]=![],await updateDoc(_0x458028,_0xa36b9a),liveGameView[_0x133bf7(0x768)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x522f9e,_0x2ef9ea){const _0x563c68=_0x13fc2f,_0xf6cd09=Object[_0x563c68(0x672)](_0x522f9e[_0x563c68(0x61c)]||{}),_0x3140fb=_0x2ef9ea[_0x563c68(0x78e)]||currentQuizData['quizType'],_0xe5faf4=_0x3140fb==='true_false'?[_0x563c68(0x3db),_0x563c68(0x69e)]:_0x2ef9ea[_0x563c68(0x138)]||_0x2ef9ea[_0x563c68(0x8b1)]||[],_0x46a1a5={},_0x463653=new Array(_0xe5faf4[_0x563c68(0x708)])['fill'](0x0);_0xe5faf4[_0x563c68(0x121)]((_0x232fa4,_0x385bfe)=>{_0x46a1a5[_0x385bfe]=[];}),Object[_0x563c68(0x32e)](_0x522f9e['players']||{})[_0x563c68(0x121)](([_0xf70af9,_0x16a278])=>{const _0x31d7c1=_0x563c68;if(_0x16a278[_0x31d7c1(0x5f5)]===_0x31d7c1(0x782)&&_0x16a278[_0x31d7c1(0x6cf)]!==undefined){const _0x39accb=_0x16a278[_0x31d7c1(0x6cf)];_0x46a1a5[_0x39accb]&&(_0x46a1a5[_0x39accb][_0x31d7c1(0x805)](_0xf70af9),_0x463653[_0x39accb]++);}});const _0x2381c2=Math[_0x563c68(0x17d)](..._0x463653,0x1),_0xd52f78=_0x563c68(0x4d9)+(_0x2ef9ea[_0x563c68(0x700)]||_0x2ef9ea[_0x563c68(0x777)])+_0x563c68(0x660)+_0x463653['map']((_0x2ccecb,_0x5afe17)=>{const _0x47d281=_0x563c68,_0x31b22d=_0x46a1a5[_0x5afe17][_0x47d281(0x708)]>0x0?_0x46a1a5[_0x5afe17][_0x47d281(0x408)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x565280=![];if(_0x3140fb==='multiple_choice')_0x565280=_0x5afe17===_0x2ef9ea[_0x47d281(0x455)];else{if(_0x3140fb===_0x47d281(0x69f)){const _0x4013b1=_0x2ef9ea['correctAnswer'];_0x565280=_0x4013b1&&_0x5afe17===0x0||!_0x4013b1&&_0x5afe17===0x1;}else _0x3140fb===_0x47d281(0x48c)&&(_0x565280=_0xe5faf4[_0x5afe17]===_0x2ef9ea[_0x47d281(0x349)]);}const _0x4c865e=_0x565280?_0x47d281(0x5b0):_0x47d281(0x2fb);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x2ccecb+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x4c865e+_0x47d281(0x60f)+_0x5afe17+_0x47d281(0x636)+_0xe5faf4[_0x5afe17]+_0x47d281(0x64e)+_0x5afe17+_0x47d281(0x5af)+_0x31b22d+_0x47d281(0x21a);})[_0x563c68(0x408)]('')+_0x563c68(0x2fd);liveGameView[_0x563c68(0x768)]=_0xd52f78;if(window[_0x563c68(0x3ad)])MathJax[_0x563c68(0x3ed)]();document[_0x563c68(0x21e)](_0x563c68(0x3aa))[_0x563c68(0xfd)](_0x563c68(0x3bd),async()=>{const _0xc7b8c0=_0x563c68,_0x4a2a58=doc(db,_0xc7b8c0(0x709)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4a2a58,{'questionStatus':_0xc7b8c0(0x321)});}),document[_0x563c68(0x21e)](_0x563c68(0x70f))[_0x563c68(0xfd)]('click',()=>{openScratchpad(_0x2ef9ea,_0xe5faf4);});}function showPlayerSummaryView(_0x418673,_0x2b7760){const _0x2f727f=_0x13fc2f,_0x1083e7=Object[_0x2f727f(0x672)](_0x418673[_0x2f727f(0x61c)]||{}),_0x1fce7b=_0x418673[_0x2f727f(0x61c)][_0x2b7760],_0xd69988=_0x1083e7['filter'](_0x39adb1=>_0x39adb1[_0x2f727f(0x5f5)]==='active')[_0x2f727f(0x212)]((_0x5af846,_0x1c2a77)=>_0x1c2a77[_0x2f727f(0x510)]-_0x5af846[_0x2f727f(0x510)]),_0x357efa=_0xd69988[_0x2f727f(0x601)](_0x16edd8=>_0x16edd8===_0x1fce7b)+0x1,_0x434f20=_0x1fce7b[_0x2f727f(0x728)]?_0x2f727f(0x562):_0x2f727f(0x3fd),_0x1a2df0=_0x1fce7b[_0x2f727f(0x728)]?_0x2f727f(0x8cb):_0x2f727f(0x576),_0x2442d0=_0x1fce7b[_0x2f727f(0x59a)]||0x0,_0x2be37b='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x1998bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x2be37b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x1a2df0+_0x2f727f(0x4d1)+_0x434f20+_0x2f727f(0x3b8)+_0x2442d0+_0x2f727f(0x13c)+(_0x357efa>0x0?_0x357efa:'-')+_0x2f727f(0x2db);liveGameView[_0x2f727f(0x768)]=_0x1998bf;}function createQuizFromBank(){const _0x247e2e=_0x13fc2f,_0x5ddddd=document['querySelectorAll'](_0x247e2e(0x31b));if(_0x5ddddd[_0x247e2e(0x708)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x25ec5a=[];_0x5ddddd[_0x247e2e(0x121)](_0x419237=>{const _0x35e51d=_0x247e2e;_0x25ec5a[_0x35e51d(0x805)](JSON['parse'](_0x419237['value']));});const _0x1ae77d={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x25ec5a};displayGeneratedQuiz(_0x1ae77d);}function showAdminLobbyView(_0x2aa824,_0x2f884c){const _0x40b98c=_0x13fc2f;showView(_0x40b98c(0x8ba));const _0x174da0=_0x40b98c(0x7b9)+_0x2f884c+_0x40b98c(0x1ca)+_0x2aa824+_0x40b98c(0x88e);liveGameView[_0x40b98c(0x768)]=_0x174da0,document['getElementById'](_0x40b98c(0x795))[_0x40b98c(0xfd)](_0x40b98c(0x3bd),async()=>{const _0x1510b5=_0x40b98c;if(!currentQuizData||!currentQuizData[_0x1510b5(0x218)]||currentQuizData[_0x1510b5(0x218)][_0x1510b5(0x708)]===0x0){showMessage(_0x1510b5(0x8be));return;}try{const _0x327e35=doc(db,'artifacts/'+appId+_0x1510b5(0x827),currentLiveGameId);await updateDoc(_0x327e35,{'status':_0x1510b5(0x8c8),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x52f059=currentQuizData[_0x1510b5(0x218)][0x0],_0x278953=currentQuizData[_0x1510b5(0x218)][_0x1510b5(0x708)];showAdminLiveQuestionView(_0x52f059,0x0,_0x278953);}catch(_0x12bf20){console[_0x1510b5(0x5e9)](_0x1510b5(0x641),_0x12bf20),showMessage(_0x1510b5(0x631));}});}async function openGlobalLiveModal(){const _0x1598b7=_0x13fc2f;if(allQuizzesGlobal[_0x1598b7(0x708)]===0x0){const _0x53d57a=await getDocs(collection(db,_0x1598b7(0x709)+appId+_0x1598b7(0x51e)));allQuizzesGlobal=_0x53d57a['docs'][_0x1598b7(0x924)](_0x582adb=>({'id':_0x582adb['id'],..._0x582adb[_0x1598b7(0x7ed)]()}));}renderGlobalQuizList(''),document[_0x1598b7(0x21e)](_0x1598b7(0x86c))['classList'][_0x1598b7(0x892)](_0x1598b7(0x6c1));}async function openQuizBankModal(){const _0x1fd1b6=_0x13fc2f;if(allQuizzesGlobal[_0x1fd1b6(0x708)]===0x0){const _0x1ba3fd=await getDocs(collection(db,_0x1fd1b6(0x709)+appId+_0x1fd1b6(0x51e)));allQuizzesGlobal=_0x1ba3fd[_0x1fd1b6(0x369)]['map'](_0x1fffb2=>({'id':_0x1fffb2['id'],..._0x1fffb2[_0x1fd1b6(0x7ed)]()}));}renderQuizBankList(''),document[_0x1fd1b6(0x21e)](_0x1fd1b6(0x499))[_0x1fd1b6(0x110)][_0x1fd1b6(0x892)](_0x1fd1b6(0x6c1));}function renderQuizBankList(_0x138794=''){const _0x48ec48=_0x13fc2f,_0x467838=document['getElementById'](_0x48ec48(0x226)),_0x18391=_0x138794[_0x48ec48(0x128)]()['trim'](),_0x2da346=allQuizzesGlobal[_0x48ec48(0x924)](_0xfd4af6=>({..._0xfd4af6,'projectName':allProjects[_0x48ec48(0x75b)](_0x1070ba=>_0x1070ba['id']===_0xfd4af6[_0x48ec48(0x779)])?.[_0x48ec48(0x3d5)]||_0x48ec48(0x808)}))[_0x48ec48(0x17f)](_0x26c896=>(_0x26c896['topic']||'')['toLowerCase']()['includes'](_0x18391)||(_0x26c896[_0x48ec48(0x3d5)]||'')[_0x48ec48(0x128)]()[_0x48ec48(0x1be)](_0x18391)||_0x26c896['id'][_0x48ec48(0x319)]()[_0x48ec48(0x1be)](_0x18391));document[_0x48ec48(0x21e)](_0x48ec48(0x100))['textContent']='('+_0x2da346[_0x48ec48(0x708)]+_0x48ec48(0x318),_0x467838[_0x48ec48(0x768)]=_0x2da346['length']?_0x2da346[_0x48ec48(0x924)](_0x4cc817=>_0x48ec48(0x58a)+_0x4cc817['id']+_0x48ec48(0x67e)+(_0x4cc817[_0x48ec48(0x3f8)]||_0x48ec48(0x5ca))+_0x48ec48(0x183)+(_0x4cc817[_0x48ec48(0x218)]?.['length']||0x0)+_0x48ec48(0x716)+_0x4cc817[_0x48ec48(0x3d5)]+_0x48ec48(0x66c)+_0x4cc817['id']+_0x48ec48(0x332)+_0x4cc817['id']+_0x48ec48(0x8d7)+_0x4cc817['id']+_0x48ec48(0x1b7)+_0x4cc817['id']+_0x48ec48(0x5a7)+_0x4cc817['id']+_0x48ec48(0x307)+_0x4cc817['id']+_0x48ec48(0x63a)+_0x4cc817['id']+'\x22\x20data-topic=\x22'+_0x4cc817[_0x48ec48(0x3f8)]+_0x48ec48(0x448))[_0x48ec48(0x408)](''):_0x48ec48(0x37a),_0x467838[_0x48ec48(0x1af)](_0x48ec48(0x6ed))['forEach'](_0x285737=>{const _0x15d29f=_0x48ec48;_0x285737[_0x15d29f(0xfd)](_0x15d29f(0x3bd),()=>{const _0x2513b5=_0x15d29f,_0x588cb2=_0x285737[_0x2513b5(0x3ca)]['id'];document[_0x2513b5(0x21e)]('quiz-bank-modal')[_0x2513b5(0x110)][_0x2513b5(0x8fb)](_0x2513b5(0x6c1)),showQuizDetailView(_0x588cb2);});}),_0x467838[_0x48ec48(0x1af)](_0x48ec48(0x293))[_0x48ec48(0x121)](_0x3384b4=>{const _0x586f7b=_0x48ec48;_0x3384b4[_0x586f7b(0xfd)](_0x586f7b(0x3bd),_0x5127c4=>{const _0x37c965=_0x586f7b;_0x5127c4[_0x37c965(0x480)]();const _0x597cac=_0x3384b4['dataset']['id'],_0x14fbc2=allQuizzesGlobal[_0x37c965(0x75b)](_0x44e03c=>_0x44e03c['id']===_0x597cac);_0x14fbc2?(currentQuizData=_0x14fbc2,document[_0x37c965(0x21e)](_0x37c965(0x499))[_0x37c965(0x110)][_0x37c965(0x8fb)](_0x37c965(0x6c1)),startAdminTest()):showMessage(_0x37c965(0x495));});}),_0x467838[_0x48ec48(0x1af)]('.quiz-bank-parallel-btn')[_0x48ec48(0x121)](_0x4a38d9=>{const _0x59569b=_0x48ec48;_0x4a38d9[_0x59569b(0xfd)](_0x59569b(0x3bd),_0x1fc320=>{const _0x55a3a0=_0x59569b;_0x1fc320[_0x55a3a0(0x480)]();const _0x2095de=_0x4a38d9[_0x55a3a0(0x3ca)]['id'],_0x398109=allQuizzesGlobal[_0x55a3a0(0x75b)](_0x4c0139=>_0x4c0139['id']===_0x2095de);_0x398109?(document['getElementById'](_0x55a3a0(0x499))[_0x55a3a0(0x110)]['add'](_0x55a3a0(0x6c1)),handleGenerateParallelFromBank(_0x398109)):showMessage(_0x55a3a0(0x495));});}),_0x467838[_0x48ec48(0x1af)](_0x48ec48(0x254))['forEach'](_0x248ddb=>{const _0x5978b1=_0x48ec48;_0x248ddb[_0x5978b1(0xfd)]('click',_0x29b760=>{const _0x171487=_0x5978b1;_0x29b760[_0x171487(0x480)]();const _0x48ac3a=_0x248ddb[_0x171487(0x3ca)]['id'],_0x2ef338=allQuizzesGlobal[_0x171487(0x75b)](_0x289f90=>_0x289f90['id']===_0x48ac3a);_0x2ef338?(document[_0x171487(0x21e)]('quiz-bank-modal')[_0x171487(0x110)][_0x171487(0x8fb)]('hidden'),startPresentation(_0x2ef338)):showMessage(_0x171487(0x495));});}),_0x467838['querySelectorAll'](_0x48ec48(0x112))['forEach'](_0x26709c=>{const _0x1ec1d4=_0x48ec48;_0x26709c[_0x1ec1d4(0xfd)]('click',_0x6482e3=>{const _0x3955a1=_0x1ec1d4;_0x6482e3['stopPropagation']();const _0x45e2b4=_0x26709c['dataset']['id'];document['getElementById'](_0x3955a1(0x499))[_0x3955a1(0x110)][_0x3955a1(0x8fb)](_0x3955a1(0x6c1)),handleMoveQuiz(_0x45e2b4);});}),_0x467838[_0x48ec48(0x1af)]('.quiz-bank-settings-btn')[_0x48ec48(0x121)](_0x1354c8=>{const _0x11e5a6=_0x48ec48;_0x1354c8[_0x11e5a6(0xfd)](_0x11e5a6(0x3bd),_0x28f2a8=>{const _0x34451a=_0x11e5a6;_0x28f2a8['stopPropagation']();const _0x4188c8=_0x1354c8[_0x34451a(0x3ca)]['id'];document[_0x34451a(0x21e)]('quiz-bank-modal')[_0x34451a(0x110)][_0x34451a(0x8fb)](_0x34451a(0x6c1)),handleQuizSettings(_0x4188c8);});}),_0x467838['querySelectorAll'](_0x48ec48(0x82b))[_0x48ec48(0x121)](_0x28e924=>{_0x28e924['addEventListener']('click',_0x3d3249=>{const _0x2c86c1=_0x14fe;_0x3d3249[_0x2c86c1(0x480)]();const _0x1ca99a=_0x28e924[_0x2c86c1(0x3ca)]['id'],_0x2b8fbb=_0x28e924[_0x2c86c1(0x3ca)][_0x2c86c1(0x3f8)];showConfirmation(_0x2c86c1(0x6f3)+_0x2b8fbb+_0x2c86c1(0x49f),()=>handleDeleteQuiz(_0x1ca99a));});});}async function handleCompareResults(_0x2321fe,_0x483f72){const _0x239111=_0x13fc2f,_0x551264=document[_0x239111(0x21e)](_0x239111(0x400)),_0x3448c6=document[_0x239111(0x21e)](_0x239111(0x574)),_0x4b3bfa=document[_0x239111(0x21e)](_0x239111(0x775));document[_0x239111(0x21e)](_0x239111(0x523))['classList'][_0x239111(0x8fb)]('active'),document['getElementById']('comparison-individual-tab')['classList']['remove']('active'),_0x3448c6[_0x239111(0x110)][_0x239111(0x892)](_0x239111(0x6c1)),_0x4b3bfa[_0x239111(0x110)][_0x239111(0x8fb)](_0x239111(0x6c1)),_0x3448c6[_0x239111(0x768)]=_0x239111(0x15a),_0x4b3bfa[_0x239111(0x768)]='',_0x551264[_0x239111(0x110)]['remove']('hidden');try{const _0x623556=doc(db,'artifacts/'+appId+_0x239111(0x51e),_0x2321fe),_0x39e19a=await getDoc(_0x623556);if(!_0x39e19a[_0x239111(0x610)]())throw new Error(_0x239111(0x29a));const _0x3731bd=_0x39e19a['data'](),_0x4ab417=_0x3731bd['questions'][_0x239111(0x708)],_0x4300c5=collection(db,_0x239111(0x709)+appId+_0x239111(0x823)+_0x483f72+'/submissions'),_0x3440e4=collection(db,_0x239111(0x709)+appId+'/public/data/quizzes/'+_0x2321fe+_0x239111(0x1f4)),[_0x535709,_0x480081]=await Promise[_0x239111(0x80a)]([getDocs(_0x4300c5),getDocs(_0x3440e4)]),_0x17607c=_0x535709[_0x239111(0x369)]['map'](_0x12a069=>_0x12a069[_0x239111(0x7ed)]()),_0x1eb30f=_0x480081[_0x239111(0x369)]['map'](_0x2cf49c=>_0x2cf49c[_0x239111(0x7ed)]()),_0x2628de=_0x17607c[_0x239111(0x924)](_0x4ada65=>_0x4ada65['latestScore']),_0x1d287f=_0x1eb30f[_0x239111(0x924)](_0x32bba5=>_0x32bba5[_0x239111(0x392)]),_0x6af3f4=calculateMeanAndStdDev(_0x2628de),_0x26fa56=calculateMeanAndStdDev(_0x1d287f),_0x30f0ad=_0x6af3f4[_0x239111(0x616)],_0x54fd9d=_0x26fa56[_0x239111(0x616)],_0x26edad=_0x54fd9d-_0x30f0ad;let _0x49a2f0=_0x239111(0x57f)+_0x30f0ad[_0x239111(0x2a8)](0x2)+_0x239111(0x5fc)+_0x54fd9d[_0x239111(0x2a8)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x26edad>=0x0?_0x239111(0x18f):_0x239111(0x51f))+_0x239111(0x1b2)+(_0x26edad>=0x0?'text-emerald-800':_0x239111(0x1a4))+_0x239111(0x174)+(_0x26edad>=0x0?_0x239111(0x72e):_0x239111(0x859))+'\x22>'+(_0x26edad>=0x0?'+':'')+_0x26edad[_0x239111(0x2a8)](0x2)+_0x239111(0x366);_0x3448c6['innerHTML']=_0x49a2f0;const _0x77dd15=document[_0x239111(0x21e)]('comparison-chart')[_0x239111(0x584)]('2d');if(chartInstances[_0x239111(0x3f2)])chartInstances[_0x239111(0x3f2)][_0x239111(0x37e)]();chartInstances[_0x239111(0x3f2)]=new Chart(_0x77dd15,{'type':_0x239111(0x1b0),'data':{'labels':[_0x239111(0x6ff)],'datasets':[{'label':'ก่อนเรียน','data':[_0x30f0ad],'backgroundColor':_0x239111(0x281)},{'label':_0x239111(0x12b),'data':[_0x54fd9d],'backgroundColor':_0x239111(0x57b)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4ab417}}}});const _0x19e6c5=currentProjectData[_0x239111(0x1bf)]||[],_0x29112f=_0x19e6c5[_0x239111(0x924)](_0x488b16=>{const _0x4c5a03=_0x239111,_0x2d0f38=_0x17607c[_0x4c5a03(0x75b)](_0x23cf6c=>_0x23cf6c[_0x4c5a03(0x6b5)]===_0x488b16),_0x1043e7=_0x1eb30f[_0x4c5a03(0x75b)](_0x2b685b=>_0x2b685b[_0x4c5a03(0x6b5)]===_0x488b16),_0x142685=_0x2d0f38?_0x2d0f38[_0x4c5a03(0x392)]:null,_0x198ec2=_0x1043e7?_0x1043e7[_0x4c5a03(0x392)]:null,_0x2a86bd=_0x142685!==null&&_0x198ec2!==null?_0x198ec2-_0x142685:null,_0x11f7fc=_0x142685!==null?calculateZScore(_0x142685,_0x6af3f4[_0x4c5a03(0x616)],_0x6af3f4['stdDev']):null,_0x2e9a38=_0x198ec2!==null?calculateZScore(_0x198ec2,_0x26fa56[_0x4c5a03(0x616)],_0x26fa56[_0x4c5a03(0x476)]):null,_0x5328a0=_0x11f7fc!==null?calculateTScore(_0x11f7fc):null,_0x39f1d9=_0x2e9a38!==null?calculateTScore(_0x2e9a38):null,_0x34a844=_0x5328a0!==null&&_0x39f1d9!==null?_0x39f1d9-_0x5328a0:null;return{'name':_0x488b16,'preScore':_0x142685,'postScore':_0x198ec2,'gain':_0x2a86bd,'preTScore':_0x5328a0,'postTScore':_0x39f1d9,'tGain':_0x34a844};});renderIndividualComparisonTable(_0x29112f,_0x4b3bfa);}catch(_0x551cb7){console[_0x239111(0x5e9)]('Error\x20comparing\x20results:',_0x551cb7),_0x3448c6[_0x239111(0x768)]=_0x239111(0x3a7);}}function displayHalfMarkResult(_0x62717b,_0x3b625f){const _0x16930e=_0x13fc2f,_0x513574=_0x62717b>=_0x3b625f/0x2,_0x220e6=_0x513574?_0x16930e(0x55f):_0x16930e(0x51f),_0x3c84b2=_0x513574?_0x16930e(0x876):_0x16930e(0x675),_0x5a56fb=_0x513574?_0x16930e(0x10e):_0x16930e(0x1a4),_0x5f1d2e=_0x513574?_0x16930e(0x16c):_0x16930e(0x278),_0x1a5da4=_0x513574?_0x16930e(0x7a3):_0x16930e(0x29c);let _0x26baa4=_0x16930e(0x640)+_0x220e6+_0x16930e(0x381)+_0x3c84b2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x5a56fb+_0x16930e(0x2f7)+_0x5f1d2e+_0x16930e(0x589)+_0x1a5da4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x16930e(0x768)]=_0x26baa4,studentResultArea[_0x16930e(0x110)][_0x16930e(0x892)](_0x16930e(0x6c1)),studentQuizArea[_0x16930e(0x110)][_0x16930e(0x8fb)](_0x16930e(0x6c1)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x513574});}function displayPerfectScoreResult(_0x78a352,_0x3cad26){const _0x2ef7bc=_0x13fc2f,_0x5e4a0a=_0x78a352===_0x3cad26,_0x1e7aa4=_0x5e4a0a?_0x2ef7bc(0x5b7):_0x2ef7bc(0x4a4),_0x1134a2=_0x5e4a0a?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x410a37=_0x5e4a0a?_0x2ef7bc(0x55c):_0x2ef7bc(0x454),_0x15509f=_0x5e4a0a?_0x2ef7bc(0x447):_0x2ef7bc(0x60e),_0x17cd69=_0x5e4a0a?_0x2ef7bc(0x1ce):_0x2ef7bc(0x657);let _0x2aa9e6=_0x2ef7bc(0x640)+_0x1e7aa4+_0x2ef7bc(0x381)+_0x1134a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x410a37+'\x20mb-2\x22>'+_0x15509f+_0x2ef7bc(0x589)+_0x17cd69+_0x2ef7bc(0x17c);studentResultArea[_0x2ef7bc(0x768)]=_0x2aa9e6,studentResultArea[_0x2ef7bc(0x110)]['remove'](_0x2ef7bc(0x6c1)),studentQuizArea[_0x2ef7bc(0x110)][_0x2ef7bc(0x8fb)](_0x2ef7bc(0x6c1)),setupResultScreenBackButton({'showRankings':![],'score':_0x78a352,'totalQuestions':_0x3cad26});}function renderIndividualComparisonTable(_0x4eeb60,_0xb66437){const _0x2ceb4b=_0x13fc2f;_0x4eeb60[_0x2ceb4b(0x212)]((_0x4c67db,_0x1641de)=>(_0x1641de['tGain']??-Infinity)-(_0x4c67db[_0x2ceb4b(0x7aa)]??-Infinity));let _0x4986c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x4eeb60[_0x2ceb4b(0x708)]===0x0?_0x4986c2+=_0x2ceb4b(0x255):_0x4eeb60[_0x2ceb4b(0x121)]((_0x140448,_0x40a7eb)=>{const _0xf02d3c=_0x2ceb4b;let _0x20b32e='-',_0x57adb8='';if(_0x140448[_0xf02d3c(0x8c6)]!==null){const _0x1a44b6=_0x140448[_0xf02d3c(0x8c6)]>0x0?'text-green-600':_0x140448[_0xf02d3c(0x8c6)]<0x0?_0xf02d3c(0x637):_0xf02d3c(0x4b8),_0x23d672=_0x140448[_0xf02d3c(0x8c6)]>0x0?'+':'';_0x20b32e=_0xf02d3c(0x755)+_0x1a44b6+'\x22>'+_0x23d672+_0x140448[_0xf02d3c(0x8c6)]+_0xf02d3c(0x56b);if(_0x140448['gain']>0x0)_0x57adb8=_0xf02d3c(0x47a);else _0x140448[_0xf02d3c(0x8c6)]<0x0?_0x57adb8=_0xf02d3c(0x5fa):_0x57adb8=_0xf02d3c(0x37b);}let _0x1b2be8='-';if(_0x140448[_0xf02d3c(0x7aa)]!==null){const _0x254c1d=_0x140448['tGain']>0x0?_0xf02d3c(0x4ed):_0x140448[_0xf02d3c(0x7aa)]<0x0?_0xf02d3c(0x637):'text-gray-500',_0xc6ea9f=_0x140448[_0xf02d3c(0x7aa)]>0x0?'+':'';_0x1b2be8='<span\x20class=\x22font-bold\x20'+_0x254c1d+'\x22>'+_0xc6ea9f+_0x140448['tGain'][_0xf02d3c(0x2a8)](0x2)+_0xf02d3c(0x56b);}_0x4986c2+=_0xf02d3c(0x12e)+(_0x40a7eb+0x1)+_0xf02d3c(0x167)+_0x140448['name']+_0xf02d3c(0x7e0)+(_0x140448[_0xf02d3c(0x88a)]??'-')+_0xf02d3c(0x5dc)+(_0x140448['postScore']??'-')+_0xf02d3c(0x7e0)+_0x20b32e+_0xf02d3c(0x204)+_0x57adb8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x140448[_0xf02d3c(0x62a)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x140448[_0xf02d3c(0x6dd)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x1b2be8+_0xf02d3c(0x881);}),_0x4986c2+='</tbody></table></div>',_0xb66437[_0x2ceb4b(0x768)]=_0x4986c2;}function handleRenameQuiz(_0x2f1009,_0x273532){const _0x2f57d6=_0x13fc2f;actionTargetId=_0x2f1009,document[_0x2f57d6(0x21e)]('rename-quiz-input')['value']=_0x273532,renameQuizModal[_0x2f57d6(0x110)]['remove']('hidden');}function setupComparisonModalTabs(){const _0x453292=_0x13fc2f,_0x5cbb7b=document['getElementById'](_0x453292(0x523)),_0x59c186=document[_0x453292(0x21e)]('comparison-individual-tab'),_0x580369=document[_0x453292(0x21e)](_0x453292(0x574)),_0x5c6417=document[_0x453292(0x21e)](_0x453292(0x775));_0x5cbb7b[_0x453292(0xfd)](_0x453292(0x3bd),()=>{const _0x23b846=_0x453292;_0x5cbb7b[_0x23b846(0x110)][_0x23b846(0x8fb)](_0x23b846(0x782)),_0x59c186[_0x23b846(0x110)][_0x23b846(0x892)](_0x23b846(0x782)),_0x580369[_0x23b846(0x110)][_0x23b846(0x892)](_0x23b846(0x6c1)),_0x5c6417[_0x23b846(0x110)][_0x23b846(0x8fb)]('hidden');}),_0x59c186[_0x453292(0xfd)](_0x453292(0x3bd),()=>{const _0x104355=_0x453292;_0x59c186[_0x104355(0x110)][_0x104355(0x8fb)](_0x104355(0x782)),_0x5cbb7b[_0x104355(0x110)]['remove'](_0x104355(0x782)),_0x5c6417[_0x104355(0x110)][_0x104355(0x892)](_0x104355(0x6c1)),_0x580369[_0x104355(0x110)][_0x104355(0x8fb)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0xa0afbe=''){const _0x544c98=_0x13fc2f,_0x380208=document[_0x544c98(0x21e)](_0x544c98(0xeb)),_0x2537b8=_0xa0afbe[_0x544c98(0x128)]()[_0x544c98(0x8de)](),_0x2a4fa1=allQuizzesGlobal[_0x544c98(0x924)](_0x57051c=>({..._0x57051c,'projectName':allProjects[_0x544c98(0x75b)](_0x547c94=>_0x547c94['id']===_0x57051c['projectId'])?.[_0x544c98(0x3d5)]||_0x57051c[_0x544c98(0x779)]}))[_0x544c98(0x17f)](_0x1f304d=>(_0x1f304d[_0x544c98(0x3f8)]||'')[_0x544c98(0x128)]()[_0x544c98(0x1be)](_0x2537b8)||(_0x1f304d[_0x544c98(0x3d5)]||'')['toLowerCase']()['includes'](_0x2537b8));document[_0x544c98(0x21e)](_0x544c98(0x68c))[_0x544c98(0x680)]='('+_0x2a4fa1['length']+_0x544c98(0x318),_0x380208[_0x544c98(0x768)]=_0x2a4fa1[_0x544c98(0x708)]?_0x2a4fa1['map'](_0x17b38e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x17b38e['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x17b38e[_0x544c98(0x3f8)]||'(ไม่มีชื่อ)')+_0x544c98(0x525)+(_0x17b38e[_0x544c98(0x218)]?.[_0x544c98(0x708)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x17b38e[_0x544c98(0x3d5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')['join'](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x544c98(0x21e)](_0x544c98(0x2b4))[_0x544c98(0x506)]=!![],_0x380208['querySelectorAll'](_0x544c98(0x4bc))[_0x544c98(0x121)](_0x273575=>{const _0x5f0a37=_0x544c98;_0x273575[_0x5f0a37(0xfd)](_0x5f0a37(0x3bd),()=>{const _0x14f7dc=_0x5f0a37;selectedGlobalQuizId=_0x273575['dataset']['id'],_0x380208[_0x14f7dc(0x1af)](_0x14f7dc(0x4a2))['forEach'](_0x3e75e1=>_0x3e75e1[_0x14f7dc(0x110)][_0x14f7dc(0x892)](_0x14f7dc(0x50b),_0x14f7dc(0x3d0),'ring-purple-400')),_0x273575[_0x14f7dc(0x110)][_0x14f7dc(0x8fb)](_0x14f7dc(0x50b),_0x14f7dc(0x3d0),_0x14f7dc(0x615)),document['getElementById']('confirm-global-live-btn')[_0x14f7dc(0x506)]=![];});});}function listenForLiveGameUpdates(){const _0x206cbd=_0x13fc2f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4465c2=doc(db,'artifacts/'+appId+_0x206cbd(0x827),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4465c2,_0x371366=>{const _0xb9a98a=_0x206cbd;if(!_0x371366['exists']()){showMessage(_0xb9a98a(0x160)),showView(currentMode);return;}const _0x3f2094=_0x371366[_0xb9a98a(0x7ed)]();_0x3f2094[_0xb9a98a(0x668)]&&(currentQuizData=_0x3f2094[_0xb9a98a(0x668)]);!currentQuizData&&_0x3f2094[_0xb9a98a(0x653)]&&((async()=>{const _0x2cd22b=_0xb9a98a;try{const _0x5327e5=doc(db,_0x2cd22b(0x709)+appId+_0x2cd22b(0x51e),_0x3f2094[_0x2cd22b(0x653)]),_0x3c5888=await getDoc(_0x5327e5);_0x3c5888[_0x2cd22b(0x610)]()&&(currentQuizData={'id':_0x3c5888['id'],..._0x3c5888[_0x2cd22b(0x7ed)]()});}catch(_0x4dbbcb){console[_0x2cd22b(0x5e9)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x4dbbcb);}})());switch(_0x3f2094[_0xb9a98a(0x5f5)]){case _0xb9a98a(0x61a):if(currentMode===_0xb9a98a(0x725)){const _0x297afb=_0x3f2094[_0xb9a98a(0x61c)]?Object[_0xb9a98a(0x32e)](_0x3f2094[_0xb9a98a(0x61c)]):[],_0x4c0d39=_0x297afb[_0xb9a98a(0x17f)](([_0x117b2f,_0x2ead51])=>_0x2ead51[_0xb9a98a(0x5f5)]===_0xb9a98a(0x782)),_0x4bdc69=document[_0xb9a98a(0x21e)]('player-count');if(_0x4bdc69)_0x4bdc69['textContent']=_0x4c0d39[_0xb9a98a(0x708)];const _0x2a5065=document[_0xb9a98a(0x21e)]('player-list-lobby');_0x2a5065&&(_0x2a5065[_0xb9a98a(0x768)]=_0x4c0d39[_0xb9a98a(0x924)](([_0x52819f,_0x26e95a])=>_0xb9a98a(0x688)+_0x52819f+_0xb9a98a(0x6bd)+_0x52819f+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x1a7cef=document[_0xb9a98a(0x21e)]('start-game-btn');_0x1a7cef&&(_0x1a7cef[_0xb9a98a(0x506)]=_0x4c0d39[_0xb9a98a(0x708)]===0x0);}else showView(_0xb9a98a(0x8ba)),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0xb9a98a(0x3cc);break;case'question':const _0xdb3d84=_0x3f2094[_0xb9a98a(0x678)];if(currentQuizData&&currentQuizData[_0xb9a98a(0x218)][_0xdb3d84]){const _0x552103=currentQuizData[_0xb9a98a(0x218)][_0xdb3d84],_0x3aa0ab=_0x3f2094['questionStatus']||_0xb9a98a(0x2a6);switch(_0x3aa0ab){case _0xb9a98a(0x2fa):currentMode==='admin'?showAdminSummaryView(_0x3f2094,_0x552103):showPlayerSummaryView(_0x3f2094,currentStudentName);break;case _0xb9a98a(0x321):currentMode===_0xb9a98a(0x725)&&showTop5LeaderboardView(_0x3f2094);break;case _0xb9a98a(0x2a6):default:if(currentMode===_0xb9a98a(0x725)){const _0x28d0c3=writeBatch(db);let _0x25a69b=![];Object['entries'](_0x3f2094[_0xb9a98a(0x61c)])[_0xb9a98a(0x121)](([_0x29b410,_0x1b6b6f])=>{const _0x2bb2c9=_0xb9a98a;if(_0x1b6b6f[_0x2bb2c9(0x5f5)]===_0x2bb2c9(0x782)&&_0x1b6b6f['submittedAt']&&!_0x1b6b6f[_0x2bb2c9(0x330)]){_0x25a69b=!![];const _0x586f69=_0x1b6b6f['submittedAt']['toDate']()-_0x3f2094[_0x2bb2c9(0x873)][_0x2bb2c9(0x7d6)]();let _0x16984a=0x0;if(_0x1b6b6f[_0x2bb2c9(0x728)]){const _0x4c5436=0x3e8,_0x34c2e6=0x1f4,_0xbcc64f=0x4e20;let _0x58a642=_0x586f69/_0xbcc64f;if(_0x58a642>0x1)_0x58a642=0x1;const _0x30689c=Math[_0x2bb2c9(0x352)](_0x58a642*_0x34c2e6);_0x16984a=_0x4c5436-_0x30689c;}const _0x59196a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);_0x28d0c3[_0x2bb2c9(0x5b8)](_0x59196a,{[_0x2bb2c9(0x15e)+_0x29b410+_0x2bb2c9(0x69a)]:increment(_0x16984a),[_0x2bb2c9(0x15e)+_0x29b410+_0x2bb2c9(0x23e)]:_0x16984a,[_0x2bb2c9(0x15e)+_0x29b410+_0x2bb2c9(0x751)]:!![]});}});_0x25a69b&&_0x28d0c3[_0xb9a98a(0x4a0)]()['catch'](_0x1663d1=>console[_0xb9a98a(0x5e9)](_0xb9a98a(0x509),_0x1663d1));lastRenderedAdminQuestionIndex!==_0xdb3d84&&(showAdminLiveQuestionView(_0x552103,_0xdb3d84,currentQuizData['questions'][_0xb9a98a(0x708)]),lastRenderedAdminQuestionIndex=_0xdb3d84);const _0x334af3=_0x3f2094['players']||{},_0x42b7a8=Object[_0xb9a98a(0x672)](_0x334af3)['filter'](_0x2f8ea1=>_0x2f8ea1['status']===_0xb9a98a(0x782)),_0x3982e5=_0x42b7a8[_0xb9a98a(0x708)],_0xf0cf8e=_0x42b7a8[_0xb9a98a(0x17f)](_0x180846=>_0x180846[_0xb9a98a(0x201)]===!![])[_0xb9a98a(0x708)],_0x19b697=document['getElementById']('answer-counter');if(_0x19b697)_0x19b697[_0xb9a98a(0x680)]=_0xf0cf8e+'/'+_0x3982e5;const _0x16cde5=document[_0xb9a98a(0x21e)](_0xb9a98a(0x8c4));if(_0x16cde5){let _0x25c67f=Object[_0xb9a98a(0x32e)](_0x334af3)['filter'](([_0x2e2dc7,_0x2f442c])=>_0x2f442c[_0xb9a98a(0x5f5)]===_0xb9a98a(0x782))['map'](([_0xb304d6,_0x27de2d])=>{const _0x842f4d=_0xb9a98a,_0x2c77cc=_0x27de2d['answeredCurrentQuestion']===!![],_0x3f7fb2=_0x2c77cc?_0x842f4d(0x8cb):'bg-gray-500',_0x53db73=_0x2c77cc?_0x842f4d(0x590):_0x842f4d(0x4fc);return _0x842f4d(0x3d2)+_0x3f7fb2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53db73+_0x842f4d(0x415)+_0xb304d6+_0x842f4d(0x87a)+_0xb304d6+_0x842f4d(0x7d4);})['join']('');_0x16cde5[_0xb9a98a(0x768)]=_0x25c67f||_0xb9a98a(0x235);}_0x3982e5>0x0&&_0xf0cf8e===_0x3982e5&&revealAnswerForAdmin(_0xdb3d84,currentQuizData[_0xb9a98a(0x218)]['length']);}else{const _0x4b4cfe=_0x3f2094['players'][currentStudentName];_0x4b4cfe&&!_0x4b4cfe[_0xb9a98a(0x201)]&&showStudentLiveQuestionView(_0x552103,_0xdb3d84,currentQuizData[_0xb9a98a(0x218)][_0xb9a98a(0x708)]);}break;}}break;case _0xb9a98a(0x799):showPodiumView(_0x3f2094[_0xb9a98a(0x61c)]);break;}});}async function handleKickPlayer(_0x2d9620){const _0x3bc381=_0x13fc2f;if(!currentLiveGameId||!_0x2d9620)return;const _0x55c557=doc(db,_0x3bc381(0x709)+appId+'/public/data/liveGames',currentLiveGameId),_0x7316c2={};_0x7316c2[_0x3bc381(0x15e)+_0x2d9620+_0x3bc381(0x7ef)]='inactive';try{await updateDoc(_0x55c557,_0x7316c2);}catch(_0x1b5c80){console[_0x3bc381(0x5e9)](_0x3bc381(0x45a)+_0x2d9620+':',_0x1b5c80),showMessage(_0x3bc381(0x916));}}async function authenticateUser(){const _0x3f3178=_0x13fc2f;try{typeof __initial_auth_token!==_0x3f3178(0x91e)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x16d876){console['error']('Authentication\x20failed:',_0x16d876),showMessage(_0x3f3178(0x18c));}}function showView(_0x5f26a3){const _0x23a98e=_0x13fc2f,_0xf09f02=[_0x23a98e(0x28f),_0x23a98e(0x4d2),_0x23a98e(0x6b8),_0x23a98e(0x331),_0x23a98e(0x5a6),_0x23a98e(0x899),_0x23a98e(0x858)];_0xf09f02[_0x23a98e(0x121)](_0x217bd6=>document[_0x23a98e(0x21e)](_0x217bd6)?.[_0x23a98e(0x110)][_0x23a98e(0x8fb)](_0x23a98e(0x6c1)));if(_0x5f26a3==='admin-dashboard')adminView[_0x23a98e(0x110)][_0x23a98e(0x892)](_0x23a98e(0x6c1)),projectDashboardView[_0x23a98e(0x110)][_0x23a98e(0x892)]('hidden');else{if(_0x5f26a3==='student')studentView[_0x23a98e(0x110)][_0x23a98e(0x892)](_0x23a98e(0x6c1)),studentInitialView[_0x23a98e(0x110)][_0x23a98e(0x892)](_0x23a98e(0x6c1)),studentNameSelectionView[_0x23a98e(0x110)][_0x23a98e(0x8fb)](_0x23a98e(0x6c1)),studentQuizArea[_0x23a98e(0x110)][_0x23a98e(0x8fb)](_0x23a98e(0x6c1)),studentResultArea[_0x23a98e(0x110)]['add']('hidden'),studentReadingArea[_0x23a98e(0x110)][_0x23a98e(0x8fb)]('hidden'),studentJoinGameView[_0x23a98e(0x110)][_0x23a98e(0x8fb)](_0x23a98e(0x6c1));else{if(_0x5f26a3===_0x23a98e(0x473))adminView['classList'][_0x23a98e(0x892)](_0x23a98e(0x6c1)),projectDetailView[_0x23a98e(0x110)][_0x23a98e(0x892)](_0x23a98e(0x6c1));else{if(_0x5f26a3===_0x23a98e(0x379))adminView['classList']['remove'](_0x23a98e(0x6c1)),quizResultsView[_0x23a98e(0x110)]['remove']('hidden');else _0x5f26a3===_0x23a98e(0x8ba)&&liveGameView[_0x23a98e(0x110)][_0x23a98e(0x892)](_0x23a98e(0x6c1));}}}}function showJoinGameView(){const _0x35e07c=_0x13fc2f;studentInitialView['classList'][_0x35e07c(0x8fb)](_0x35e07c(0x6c1)),studentJoinGameView[_0x35e07c(0x110)][_0x35e07c(0x892)]('hidden');}async function handleSaveVisibilitySettings(){const _0xcc7d8d=_0x13fc2f;if(!currentProjectId)return;const _0x44df40=doc(db,_0xcc7d8d(0x709)+appId+_0xcc7d8d(0x8df),currentProjectId);try{await updateDoc(_0x44df40,{'settings.showInStudentDashboard':document[_0xcc7d8d(0x21e)]('show-in-student-dashboard-checkbox')['checked'],'settings.isPasscodeEnabled':document[_0xcc7d8d(0x21e)](_0xcc7d8d(0x49b))['checked'],'settings.passcode':document['getElementById'](_0xcc7d8d(0x662))[_0xcc7d8d(0x24a)]['trim']()}),showMessage(_0xcc7d8d(0x40f));}catch(_0x2de4f5){console[_0xcc7d8d(0x5e9)](_0xcc7d8d(0x395),_0x2de4f5),showMessage(_0xcc7d8d(0x5b4));}}function setupEventListeners(){const _0x39e3b2=_0x13fc2f,_0x2cc309=document[_0x39e3b2(0x21e)](_0x39e3b2(0x899));_0x2cc309[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),_0x52acfe=>{const _0x5005a9=_0x39e3b2,_0x1c9ac0=_0x52acfe[_0x5005a9(0x456)][_0x5005a9(0x4cd)]('.summary-bar-item');document[_0x5005a9(0x1af)](_0x5005a9(0x50a))[_0x5005a9(0x121)](_0x179971=>{const _0x561ff8=_0x5005a9;(!_0x1c9ac0||_0x179971['id']!==_0x1c9ac0[_0x561ff8(0x3ca)][_0x561ff8(0x1e4)])&&_0x179971['classList'][_0x561ff8(0x892)](_0x561ff8(0x16a));});if(!_0x1c9ac0)return;const _0x3b2b3b=_0x1c9ac0[_0x5005a9(0x3ca)][_0x5005a9(0x1e4)],_0x151dc7=document[_0x5005a9(0x21e)](_0x3b2b3b);_0x151dc7&&_0x151dc7['classList']['toggle'](_0x5005a9(0x16a));}),_0x2cc309[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),_0x2d4799=>{const _0x2377fb=_0x39e3b2;if(_0x2d4799['target'][_0x2377fb(0x110)][_0x2377fb(0x194)](_0x2377fb(0x5b6))){const _0xe78a17=_0x2d4799[_0x2377fb(0x456)][_0x2377fb(0x3ca)][_0x2377fb(0x849)];_0xe78a17&&handleKickPlayer(_0xe78a17);}}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x85e))[_0x39e3b2(0xfd)](_0x39e3b2(0x31f),()=>document['getElementById'](_0x39e3b2(0x518))['classList']['remove']('hidden')),document[_0x39e3b2(0x21e)](_0x39e3b2(0x518))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleSaveProjectName),document[_0x39e3b2(0x21e)](_0x39e3b2(0x85e))[_0x39e3b2(0xfd)]('keydown',_0x132419=>{const _0xe596a9=_0x39e3b2;_0x132419[_0xe596a9(0x4ff)]==='Enter'&&(_0x132419[_0xe596a9(0x60a)](),_0x132419[_0xe596a9(0x456)][_0xe596a9(0xe2)](),handleSaveProjectName());}),document['getElementById'](_0x39e3b2(0x538))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x34c6ff=_0x39e3b2;document['getElementById']('bulk-quiz-settings-modal')['classList'][_0x34c6ff(0x892)](_0x34c6ff(0x6c1));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x582))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x269191=_0x39e3b2;document['getElementById']('bulk-quiz-settings-modal')[_0x269191(0x110)][_0x269191(0x8fb)](_0x269191(0x6c1));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x58f))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleBulkUpdateQuizSettings),document[_0x39e3b2(0x21e)](_0x39e3b2(0x71a))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleModeSwitch),document[_0x39e3b2(0x21e)](_0x39e3b2(0x8b4))['addEventListener'](_0x39e3b2(0x3bd),handleUpdateOldQuizzes),document[_0x39e3b2(0x21e)](_0x39e3b2(0x760))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleResetProjectOrder),document['getElementById'](_0x39e3b2(0x2d7))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleSaveVisibilitySettings),document['getElementById'](_0x39e3b2(0x7e2))['addEventListener'](_0x39e3b2(0x3bd),handleAddCustomMathTopic),document[_0x39e3b2(0x21e)]('select-all-topics-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleSelectAllTopics),document[_0x39e3b2(0x21e)]('deselect-all-topics-btn')[_0x39e3b2(0xfd)]('click',handleDeselectAllTopics),document[_0x39e3b2(0x21e)](_0x39e3b2(0x6fb))['addEventListener'](_0x39e3b2(0x3bd),()=>{const _0x1045b8=_0x39e3b2;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x1045b8(0x8b9));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x801))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x8bfe18=_0x39e3b2;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x8bfe18(0x473));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x22b))[_0x39e3b2(0xfd)]('click',()=>{showView('admin-dashboard');}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x1e1))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x115b13=_0x39e3b2;messageModal['classList'][_0x115b13(0x8fb)](_0x115b13(0x6c1)),typeof modalConfirmAction===_0x115b13(0x8ca)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x896))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>createProjectModal['classList']['remove'](_0x39e3b2(0x6c1))),document[_0x39e3b2(0x21e)]('cancel-create-project-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>createProjectModal[_0x39e3b2(0x110)]['add'](_0x39e3b2(0x6c1))),document[_0x39e3b2(0x21e)](_0x39e3b2(0x6cd))[_0x39e3b2(0xfd)]('click',()=>adminPasswordModal['classList'][_0x39e3b2(0x8fb)](_0x39e3b2(0x6c1))),document[_0x39e3b2(0x21e)](_0x39e3b2(0x136))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleAdminLogin),document['getElementById'](_0x39e3b2(0x6d3))[_0x39e3b2(0xfd)](_0x39e3b2(0x927),_0x4b82d2=>{const _0x1c3cc4=_0x39e3b2;if(_0x4b82d2[_0x1c3cc4(0x4ff)]===_0x1c3cc4(0x530))handleAdminLogin();}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x4b4))[_0x39e3b2(0xfd)]('click',()=>{const _0x3a3583=_0x39e3b2;confirmationModal['classList'][_0x3a3583(0x8fb)](_0x3a3583(0x6c1)),confirmAction=null;}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x7ee))[_0x39e3b2(0xfd)]('click',()=>{const _0x4fa2ea=_0x39e3b2;confirmAction&&confirmAction(),confirmationModal[_0x4fa2ea(0x110)][_0x4fa2ea(0x8fb)](_0x4fa2ea(0x6c1)),confirmAction=null;}),document[_0x39e3b2(0x21e)]('cancel-rename-quiz-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>renameQuizModal['classList'][_0x39e3b2(0x8fb)]('hidden')),document[_0x39e3b2(0x21e)]('confirm-rename-quiz-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),confirmRenameQuiz),document['getElementById'](_0x39e3b2(0x439))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>moveQuizModal['classList'][_0x39e3b2(0x8fb)](_0x39e3b2(0x6c1))),document[_0x39e3b2(0x21e)](_0x39e3b2(0x341))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),confirmMoveQuiz),document[_0x39e3b2(0x21e)]('cancel-quiz-settings-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>quizSettingsModal['classList']['add'](_0x39e3b2(0x6c1))),document[_0x39e3b2(0x21e)]('confirm-quiz-settings-btn')['addEventListener']('click',confirmQuizSettings),document['getElementById'](_0x39e3b2(0x117))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>quizStatusModal[_0x39e3b2(0x110)][_0x39e3b2(0x8fb)]('hidden')),document[_0x39e3b2(0x21e)](_0x39e3b2(0x5e8))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),confirmQuizStatus);const _0x310cd0=document['getElementById']('export-pdf-modal');document[_0x39e3b2(0x21e)](_0x39e3b2(0x885))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x75ee0e=_0x39e3b2;_0x310cd0[_0x75ee0e(0x110)][_0x75ee0e(0x8fb)](_0x75ee0e(0x6c1));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x39c))[_0x39e3b2(0xfd)]('click',async()=>{const _0x30acb9=_0x39e3b2,_0x53e71c=allQuizzes[_0x30acb9(0x75b)](_0x86d56c=>_0x86d56c['id']===actionTargetId);_0x53e71c?(currentQuizData=_0x53e71c,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x310cd0[_0x30acb9(0x110)]['add']('hidden');}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x7fb))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),async()=>{const _0x4d63ac=_0x39e3b2,_0x57e72b=allQuizzes[_0x4d63ac(0x75b)](_0x223a48=>_0x223a48['id']===actionTargetId);_0x57e72b?(currentQuizData=_0x57e72b,exportQuizAsTutorPDF()):showMessage(_0x4d63ac(0x495)),_0x310cd0[_0x4d63ac(0x110)]['add'](_0x4d63ac(0x6c1));}),document[_0x39e3b2(0x21e)]('open-global-live-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),openGlobalLiveModal),document[_0x39e3b2(0x21e)](_0x39e3b2(0x51a))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0xd2f1dd=_0x39e3b2;document[_0xd2f1dd(0x21e)](_0xd2f1dd(0x86c))[_0xd2f1dd(0x110)][_0xd2f1dd(0x8fb)](_0xd2f1dd(0x6c1)),selectedGlobalQuizId=null;}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x238))[_0x39e3b2(0xfd)](_0x39e3b2(0x19f),_0x1cf1bb=>renderGlobalQuizList(_0x1cf1bb[_0x39e3b2(0x456)][_0x39e3b2(0x24a)])),document[_0x39e3b2(0x21e)]('confirm-global-live-btn')[_0x39e3b2(0xfd)]('click',()=>{const _0x18c630=_0x39e3b2,_0x4f19be=selectedGlobalQuizId;if(!_0x4f19be)return;document[_0x18c630(0x21e)](_0x18c630(0x86c))[_0x18c630(0x110)][_0x18c630(0x8fb)](_0x18c630(0x6c1)),handleStartLiveRace(_0x4f19be);}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x189))[_0x39e3b2(0xfd)](_0x39e3b2(0x19f),renderProjects),document[_0x39e3b2(0x21e)](_0x39e3b2(0x6e5))['addEventListener'](_0x39e3b2(0x820),async()=>{const _0x1af5c2=_0x39e3b2,_0x5c99ce=document['getElementById'](_0x1af5c2(0x6e5))['value'],_0x159031=doc(db,'globalSettings',_0x1af5c2(0x39b));try{await setDoc(_0x159031,{'projectSort':_0x5c99ce},{'merge':!![]});}catch(_0x36d32e){console[_0x1af5c2(0x5e9)](_0x1af5c2(0x4d7),_0x36d32e),showMessage(_0x1af5c2(0x43e));}}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x7e7))[_0x39e3b2(0xfd)](_0x39e3b2(0x19f),renderQuizzes),document['getElementById'](_0x39e3b2(0x251))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x2655bd=_0x39e3b2;globalDashboardSettings[_0x2655bd(0x215)]=_0x2655bd(0x438),saveUserPreference(_0x2655bd(0x215),_0x2655bd(0x438)),renderProjects();}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x89c))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x12d63a=_0x39e3b2;globalDashboardSettings[_0x12d63a(0x215)]=_0x12d63a(0x24f),saveUserPreference('projectView',_0x12d63a(0x24f)),renderProjects();}),manageTab[_0x39e3b2(0xfd)]('click',()=>switchProjectTab(_0x39e3b2(0x698))),resultsTab['addEventListener'](_0x39e3b2(0x3bd),()=>switchProjectTab('results')),leaderboardTab[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>switchProjectTab(_0x39e3b2(0x321))),document[_0x39e3b2(0x21e)](_0x39e3b2(0x4c8))[_0x39e3b2(0xfd)]('click',()=>switchQuizDetailTab(_0x39e3b2(0x8f3))),document[_0x39e3b2(0x21e)]('scores-tab-btn')[_0x39e3b2(0xfd)]('click',()=>switchQuizDetailTab(_0x39e3b2(0x753))),document[_0x39e3b2(0x21e)](_0x39e3b2(0x7d7))[_0x39e3b2(0xfd)]('click',()=>switchQuizDetailTab(_0x39e3b2(0x31c))),document[_0x39e3b2(0x21e)](_0x39e3b2(0x78d))['addEventListener'](_0x39e3b2(0x3bd),()=>switchQuizDetailTab(_0x39e3b2(0x7eb))),document['getElementById']('analyze-strengths-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleAnalyzeClass),generateWorksheetBtn[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),generateWorksheet);const _0x106bae=document[_0x39e3b2(0x21e)](_0x39e3b2(0x693)),_0xdaa459=document[_0x39e3b2(0x21e)](_0x39e3b2(0x481)),_0x56026d=document[_0x39e3b2(0x21e)](_0x39e3b2(0x6cb)),_0x13e14a=document['getElementById'](_0x39e3b2(0x263)),_0x22551a=document['getElementById'](_0x39e3b2(0x43a)),_0x5510c9=document[_0x39e3b2(0x21e)](_0x39e3b2(0x8db));topicTab[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x454f11=_0x39e3b2;topicTab[_0x454f11(0x110)][_0x454f11(0x8fb)]('active'),textTab[_0x454f11(0x110)]['remove'](_0x454f11(0x782)),fileTab['classList'][_0x454f11(0x892)](_0x454f11(0x782)),worksheetTab[_0x454f11(0x110)][_0x454f11(0x892)](_0x454f11(0x782));if(_0x106bae)_0x106bae[_0x454f11(0x110)][_0x454f11(0x892)](_0x454f11(0x782));if(_0x56026d)_0x56026d[_0x454f11(0x110)]['remove'](_0x454f11(0x782));if(_0x22551a)_0x22551a[_0x454f11(0x110)]['remove'](_0x454f11(0x782));topicInputArea['classList'][_0x454f11(0x892)](_0x454f11(0x6c1)),textInputArea[_0x454f11(0x110)][_0x454f11(0x8fb)]('hidden'),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0x454f11(0x110)][_0x454f11(0x8fb)]('hidden');if(_0xdaa459)_0xdaa459[_0x454f11(0x110)]['add'](_0x454f11(0x6c1));if(_0x13e14a)_0x13e14a[_0x454f11(0x110)]['add'](_0x454f11(0x6c1));if(_0x5510c9)_0x5510c9[_0x454f11(0x110)][_0x454f11(0x8fb)](_0x454f11(0x6c1));}),textTab['addEventListener'](_0x39e3b2(0x3bd),()=>{const _0x1f87bc=_0x39e3b2;textTab[_0x1f87bc(0x110)]['add']('active'),topicTab['classList']['remove'](_0x1f87bc(0x782)),fileTab[_0x1f87bc(0x110)][_0x1f87bc(0x892)](_0x1f87bc(0x782)),worksheetTab['classList'][_0x1f87bc(0x892)](_0x1f87bc(0x782));if(_0x106bae)_0x106bae[_0x1f87bc(0x110)][_0x1f87bc(0x892)](_0x1f87bc(0x782));if(_0x56026d)_0x56026d['classList'][_0x1f87bc(0x892)](_0x1f87bc(0x782));if(_0x22551a)_0x22551a['classList'][_0x1f87bc(0x892)](_0x1f87bc(0x782));textInputArea['classList'][_0x1f87bc(0x892)](_0x1f87bc(0x6c1)),topicInputArea[_0x1f87bc(0x110)][_0x1f87bc(0x8fb)](_0x1f87bc(0x6c1)),fileInputArea[_0x1f87bc(0x110)][_0x1f87bc(0x8fb)](_0x1f87bc(0x6c1)),worksheetInputArea[_0x1f87bc(0x110)][_0x1f87bc(0x8fb)](_0x1f87bc(0x6c1));if(_0xdaa459)_0xdaa459[_0x1f87bc(0x110)][_0x1f87bc(0x8fb)](_0x1f87bc(0x6c1));if(_0x13e14a)_0x13e14a['classList'][_0x1f87bc(0x8fb)](_0x1f87bc(0x6c1));if(_0x5510c9)_0x5510c9['classList']['add'](_0x1f87bc(0x6c1));}),fileTab[_0x39e3b2(0xfd)]('click',()=>{const _0x3772cb=_0x39e3b2;fileTab[_0x3772cb(0x110)]['add'](_0x3772cb(0x782)),topicTab[_0x3772cb(0x110)]['remove'](_0x3772cb(0x782)),textTab[_0x3772cb(0x110)]['remove'](_0x3772cb(0x782)),worksheetTab[_0x3772cb(0x110)][_0x3772cb(0x892)](_0x3772cb(0x782));if(_0x106bae)_0x106bae[_0x3772cb(0x110)][_0x3772cb(0x892)](_0x3772cb(0x782));if(_0x56026d)_0x56026d[_0x3772cb(0x110)][_0x3772cb(0x892)](_0x3772cb(0x782));if(_0x22551a)_0x22551a[_0x3772cb(0x110)][_0x3772cb(0x892)](_0x3772cb(0x782));fileInputArea['classList'][_0x3772cb(0x892)](_0x3772cb(0x6c1)),topicInputArea['classList'][_0x3772cb(0x8fb)](_0x3772cb(0x6c1)),textInputArea[_0x3772cb(0x110)][_0x3772cb(0x8fb)](_0x3772cb(0x6c1)),worksheetInputArea[_0x3772cb(0x110)]['add'](_0x3772cb(0x6c1));if(_0xdaa459)_0xdaa459[_0x3772cb(0x110)][_0x3772cb(0x8fb)](_0x3772cb(0x6c1));if(_0x13e14a)_0x13e14a['classList']['add']('hidden');if(_0x5510c9)_0x5510c9['classList'][_0x3772cb(0x8fb)](_0x3772cb(0x6c1));}),worksheetTab[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x1ad45d=_0x39e3b2;worksheetTab[_0x1ad45d(0x110)][_0x1ad45d(0x8fb)](_0x1ad45d(0x782)),topicTab[_0x1ad45d(0x110)][_0x1ad45d(0x892)](_0x1ad45d(0x782)),textTab[_0x1ad45d(0x110)]['remove'](_0x1ad45d(0x782)),fileTab['classList']['remove'](_0x1ad45d(0x782));if(_0x106bae)_0x106bae[_0x1ad45d(0x110)][_0x1ad45d(0x892)](_0x1ad45d(0x782));if(_0x56026d)_0x56026d[_0x1ad45d(0x110)][_0x1ad45d(0x892)](_0x1ad45d(0x782));if(_0x22551a)_0x22551a[_0x1ad45d(0x110)][_0x1ad45d(0x892)](_0x1ad45d(0x782));worksheetInputArea[_0x1ad45d(0x110)][_0x1ad45d(0x892)](_0x1ad45d(0x6c1)),topicInputArea[_0x1ad45d(0x110)][_0x1ad45d(0x8fb)]('hidden'),textInputArea[_0x1ad45d(0x110)][_0x1ad45d(0x8fb)](_0x1ad45d(0x6c1)),fileInputArea[_0x1ad45d(0x110)][_0x1ad45d(0x8fb)](_0x1ad45d(0x6c1));if(_0xdaa459)_0xdaa459[_0x1ad45d(0x110)][_0x1ad45d(0x8fb)](_0x1ad45d(0x6c1));if(_0x13e14a)_0x13e14a[_0x1ad45d(0x110)][_0x1ad45d(0x8fb)](_0x1ad45d(0x6c1));if(_0x5510c9)_0x5510c9[_0x1ad45d(0x110)]['add']('hidden');});const _0x2fddf7=document['getElementById'](_0x39e3b2(0x30f)),_0x453c1f=document[_0x39e3b2(0x21e)](_0x39e3b2(0x8a0));_0x2fddf7&&_0x2fddf7[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x3c8552=_0x39e3b2;topicTab[_0x3c8552(0x110)][_0x3c8552(0x892)](_0x3c8552(0x782)),textTab[_0x3c8552(0x110)]['remove']('active'),fileTab[_0x3c8552(0x110)][_0x3c8552(0x892)](_0x3c8552(0x782)),worksheetTab[_0x3c8552(0x110)][_0x3c8552(0x892)](_0x3c8552(0x782));if(_0x106bae)_0x106bae[_0x3c8552(0x110)][_0x3c8552(0x892)]('active');if(_0x56026d)_0x56026d[_0x3c8552(0x110)]['remove']('active');if(_0x22551a)_0x22551a[_0x3c8552(0x110)][_0x3c8552(0x892)](_0x3c8552(0x782));_0x2fddf7[_0x3c8552(0x110)]['add']('active'),topicInputArea[_0x3c8552(0x110)]['add'](_0x3c8552(0x6c1)),textInputArea[_0x3c8552(0x110)][_0x3c8552(0x8fb)](_0x3c8552(0x6c1)),fileInputArea['classList'][_0x3c8552(0x8fb)](_0x3c8552(0x6c1)),worksheetInputArea['classList'][_0x3c8552(0x8fb)](_0x3c8552(0x6c1));if(_0xdaa459)_0xdaa459['classList'][_0x3c8552(0x8fb)](_0x3c8552(0x6c1));if(_0x13e14a)_0x13e14a[_0x3c8552(0x110)]['add'](_0x3c8552(0x6c1));if(_0x5510c9)_0x5510c9[_0x3c8552(0x110)][_0x3c8552(0x8fb)](_0x3c8552(0x6c1));_0x453c1f['classList'][_0x3c8552(0x892)](_0x3c8552(0x6c1)),displayQuestionBank();});_0x106bae&&(_0x106bae[_0x39e3b2(0xfd)]('click',()=>{const _0x27f5d4=_0x39e3b2;_0x106bae[_0x27f5d4(0x110)][_0x27f5d4(0x8fb)]('active'),topicTab['classList'][_0x27f5d4(0x892)](_0x27f5d4(0x782)),textTab[_0x27f5d4(0x110)]['remove'](_0x27f5d4(0x782)),fileTab['classList']['remove'](_0x27f5d4(0x782)),worksheetTab[_0x27f5d4(0x110)][_0x27f5d4(0x892)]('active');if(_0x56026d)_0x56026d[_0x27f5d4(0x110)][_0x27f5d4(0x892)](_0x27f5d4(0x782));if(_0x22551a)_0x22551a[_0x27f5d4(0x110)][_0x27f5d4(0x892)](_0x27f5d4(0x782));_0xdaa459[_0x27f5d4(0x110)]['remove'](_0x27f5d4(0x6c1)),topicInputArea[_0x27f5d4(0x110)]['add'](_0x27f5d4(0x6c1)),textInputArea[_0x27f5d4(0x110)][_0x27f5d4(0x8fb)](_0x27f5d4(0x6c1)),fileInputArea[_0x27f5d4(0x110)][_0x27f5d4(0x8fb)]('hidden'),worksheetInputArea['classList'][_0x27f5d4(0x8fb)](_0x27f5d4(0x6c1));if(_0x13e14a)_0x13e14a[_0x27f5d4(0x110)][_0x27f5d4(0x8fb)](_0x27f5d4(0x6c1));if(_0x5510c9)_0x5510c9[_0x27f5d4(0x110)]['add'](_0x27f5d4(0x6c1));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x863))['addEventListener'](_0x39e3b2(0x3bd),handleGenerateFromLink));_0x56026d&&_0x56026d['addEventListener'](_0x39e3b2(0x3bd),()=>{const _0x7a52bf=_0x39e3b2;_0x56026d[_0x7a52bf(0x110)]['add'](_0x7a52bf(0x782)),topicTab[_0x7a52bf(0x110)][_0x7a52bf(0x892)](_0x7a52bf(0x782)),textTab[_0x7a52bf(0x110)]['remove'](_0x7a52bf(0x782)),fileTab['classList'][_0x7a52bf(0x892)](_0x7a52bf(0x782)),worksheetTab['classList'][_0x7a52bf(0x892)]('active');if(_0x106bae)_0x106bae[_0x7a52bf(0x110)]['remove'](_0x7a52bf(0x782));if(_0x2fddf7)_0x2fddf7[_0x7a52bf(0x110)][_0x7a52bf(0x892)](_0x7a52bf(0x782));if(_0x22551a)_0x22551a['classList'][_0x7a52bf(0x892)](_0x7a52bf(0x782));_0x13e14a[_0x7a52bf(0x110)][_0x7a52bf(0x892)]('hidden'),topicInputArea[_0x7a52bf(0x110)]['add']('hidden'),textInputArea[_0x7a52bf(0x110)][_0x7a52bf(0x8fb)]('hidden'),fileInputArea[_0x7a52bf(0x110)]['add'](_0x7a52bf(0x6c1)),worksheetInputArea[_0x7a52bf(0x110)]['add'](_0x7a52bf(0x6c1));if(_0xdaa459)_0xdaa459['classList'][_0x7a52bf(0x8fb)](_0x7a52bf(0x6c1));if(_0x453c1f)_0x453c1f[_0x7a52bf(0x110)][_0x7a52bf(0x8fb)]('hidden');if(_0x5510c9)_0x5510c9[_0x7a52bf(0x110)][_0x7a52bf(0x8fb)](_0x7a52bf(0x6c1));});_0x22551a&&_0x22551a[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x5a4a30=_0x39e3b2;_0x22551a[_0x5a4a30(0x110)][_0x5a4a30(0x8fb)](_0x5a4a30(0x782)),topicTab[_0x5a4a30(0x110)][_0x5a4a30(0x892)](_0x5a4a30(0x782)),textTab['classList']['remove'](_0x5a4a30(0x782)),fileTab[_0x5a4a30(0x110)][_0x5a4a30(0x892)]('active'),worksheetTab[_0x5a4a30(0x110)]['remove'](_0x5a4a30(0x782));if(_0x106bae)_0x106bae[_0x5a4a30(0x110)][_0x5a4a30(0x892)](_0x5a4a30(0x782));if(_0x56026d)_0x56026d[_0x5a4a30(0x110)][_0x5a4a30(0x892)](_0x5a4a30(0x782));if(_0x2fddf7)_0x2fddf7[_0x5a4a30(0x110)]['remove'](_0x5a4a30(0x782));_0x5510c9['classList'][_0x5a4a30(0x892)](_0x5a4a30(0x6c1)),topicInputArea['classList'][_0x5a4a30(0x8fb)](_0x5a4a30(0x6c1)),textInputArea['classList']['add'](_0x5a4a30(0x6c1)),fileInputArea['classList'][_0x5a4a30(0x8fb)](_0x5a4a30(0x6c1)),worksheetInputArea[_0x5a4a30(0x110)]['add'](_0x5a4a30(0x6c1));if(_0xdaa459)_0xdaa459[_0x5a4a30(0x110)][_0x5a4a30(0x8fb)](_0x5a4a30(0x6c1));if(_0x13e14a)_0x13e14a['classList'][_0x5a4a30(0x8fb)](_0x5a4a30(0x6c1));if(_0x453c1f)_0x453c1f[_0x5a4a30(0x110)][_0x5a4a30(0x8fb)](_0x5a4a30(0x6c1));});const _0x386e64=document[_0x39e3b2(0x21e)](_0x39e3b2(0x200)),_0x1bd611=document[_0x39e3b2(0x21e)](_0x39e3b2(0x617));_0x386e64&&_0x386e64['addEventListener'](_0x39e3b2(0x820),_0x19364d=>{const _0x59b1ec=_0x39e3b2;_0x19364d[_0x59b1ec(0x456)][_0x59b1ec(0x74d)]['length']>0x0?_0x1bd611[_0x59b1ec(0x506)]=![]:_0x1bd611[_0x59b1ec(0x506)]=!![];});_0x1bd611&&_0x1bd611['addEventListener'](_0x39e3b2(0x3bd),handleGenerateFromBlueprint);const _0x58f2af=document[_0x39e3b2(0x21e)](_0x39e3b2(0x5c8)),_0x23f85d=document[_0x39e3b2(0x21e)](_0x39e3b2(0x57e));_0x58f2af&&_0x58f2af[_0x39e3b2(0xfd)](_0x39e3b2(0x820),_0x4cd5da=>{const _0x38faf6=_0x39e3b2;_0x23f85d[_0x38faf6(0x506)]=_0x4cd5da[_0x38faf6(0x456)][_0x38faf6(0x74d)][_0x38faf6(0x708)]===0x0;});_0x23f85d&&_0x23f85d['addEventListener'](_0x39e3b2(0x3bd),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x39e3b2(0x3bd),handleLoadQuiz),startQuizBtn[_0x39e3b2(0xfd)]('click',async()=>{const _0x40c6e3=_0x39e3b2,_0x3e33ee=document[_0x40c6e3(0x21e)](_0x40c6e3(0x91b));currentStudentName=_0x3e33ee[_0x40c6e3(0x24a)];if(!currentStudentName){showMessage(_0x40c6e3(0x7b0));return;}try{const _0x3fced1=currentQuizData['id'],_0x34c976=doc(db,_0x40c6e3(0x709)+appId+_0x40c6e3(0x823)+_0x3fced1+'/submissions',currentStudentName);await setDoc(_0x34c976,{'studentName':currentStudentName,'startedAt':new Date()[_0x40c6e3(0x44c)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x4e14f9){console[_0x40c6e3(0x5e9)](_0x40c6e3(0x48b),_0x4e14f9),showMessage(_0x40c6e3(0xf7));return;}studentNameSelectionView['classList']['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x2e8))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),showJoinGameView),document[_0x39e3b2(0x21e)]('confirm-join-game-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleJoinLiveGame),document['getElementById'](_0x39e3b2(0x6db))[_0x39e3b2(0xfd)]('click',()=>showView(_0x39e3b2(0x84d)));const _0x9a94fb=()=>{const _0x41b2f0=_0x39e3b2,_0x32d9e4=document['getElementById'](_0x41b2f0(0x8ea))[_0x41b2f0(0x680)][_0x41b2f0(0x6dc)](/[^a-z0-9]/gi,'_')[_0x41b2f0(0x128)]();return _0x41b2f0(0x407)+(_0x32d9e4||_0x41b2f0(0x46f));},_0x3524b5=document[_0x39e3b2(0x21e)]('math-topic-search-input');_0x3524b5&&_0x3524b5[_0x39e3b2(0xfd)](_0x39e3b2(0x19f),_0x31dace=>{const _0x5e6d8c=_0x39e3b2,_0x5d38b2=_0x31dace[_0x5e6d8c(0x456)][_0x5e6d8c(0x24a)][_0x5e6d8c(0x128)]()['trim'](),_0x4b4f76=document[_0x5e6d8c(0x21e)]('math-topics-checkbox-container'),_0x1b84e8=_0x4b4f76['querySelectorAll'](_0x5e6d8c(0x2d9));_0x1b84e8[_0x5e6d8c(0x121)](_0x4da4d7=>{const _0x3abd13=_0x5e6d8c;let _0x5190b2=![];const _0x24cbd8=_0x4da4d7[_0x3abd13(0x1af)]('.topic-row');_0x24cbd8[_0x3abd13(0x121)](_0x596e10=>{const _0x5c32f5=_0x3abd13,_0x30ddfc=_0x596e10['querySelector'](_0x5c32f5(0x843))[_0x5c32f5(0x680)][_0x5c32f5(0x128)]();_0x30ddfc[_0x5c32f5(0x1be)](_0x5d38b2)?(_0x596e10[_0x5c32f5(0x124)][_0x5c32f5(0x39f)]=_0x5c32f5(0x206),_0x5190b2=!![]):_0x596e10[_0x5c32f5(0x124)][_0x5c32f5(0x39f)]=_0x5c32f5(0x1fb);}),_0x5190b2?_0x4da4d7[_0x3abd13(0x124)][_0x3abd13(0x39f)]=_0x3abd13(0x593):_0x4da4d7[_0x3abd13(0x124)][_0x3abd13(0x39f)]=_0x3abd13(0x1fb);});});document[_0x39e3b2(0x21e)](_0x39e3b2(0x757))['addEventListener']('click',()=>exportTableAsImage('results-table-container',_0x9a94fb())),document['getElementById'](_0x39e3b2(0x2e0))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>exportTableAsPDF(_0x39e3b2(0x107),_0x9a94fb())),document[_0x39e3b2(0x21e)](_0x39e3b2(0x2fc))[_0x39e3b2(0xfd)]('click',()=>exportTableAsWord(_0x39e3b2(0xfe),_0x9a94fb())),document['getElementById'](_0x39e3b2(0x418))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>exportTableAsExcel(_0x39e3b2(0x107),_0x9a94fb()));const _0x174d5e=()=>{const _0x3d482a=_0x39e3b2,_0x1688f7=document[_0x3d482a(0x21e)]('results-quiz-title')['textContent'][_0x3d482a(0x6dc)](/[^a-z0-9]/gi,'_')[_0x3d482a(0x128)]();return _0x3d482a(0x26e)+(_0x1688f7||_0x3d482a(0x46f));};document[_0x39e3b2(0x21e)]('export-leaderboard-image-btn')['addEventListener'](_0x39e3b2(0x3bd),()=>exportTableAsImage(_0x39e3b2(0x2dc),_0x174d5e())),document[_0x39e3b2(0x21e)](_0x39e3b2(0x6ce))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>exportTableAsPDF(_0x39e3b2(0x2af),_0x174d5e())),document[_0x39e3b2(0x21e)](_0x39e3b2(0x5a9))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x174d5e())),document[_0x39e3b2(0x21e)](_0x39e3b2(0x11e))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>exportTableAsExcel(_0x39e3b2(0x2af),_0x174d5e())),projectQuizzesList['addEventListener'](_0x39e3b2(0x3bd),async _0xe92ade=>{const _0x217563=_0x39e3b2,_0x182025=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)]('.quiz-result-card'),_0x1fac60=_0xe92ade['target'][_0x217563(0x4cd)](_0x217563(0x5ea)),_0x53b15e=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x89d)),_0x585404=_0xe92ade[_0x217563(0x456)]['closest'](_0x217563(0x1b3)),_0x172a2e=_0xe92ade['target'][_0x217563(0x4cd)]('.star-quiz-btn'),_0x10f81f=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x296)),_0x1d255f=_0xe92ade['target'][_0x217563(0x4cd)](_0x217563(0x393)),_0x317ce1=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x169)),_0x358853=_0xe92ade['target'][_0x217563(0x4cd)](_0x217563(0xf6)),_0x501fae=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x630)),_0x3fefc5=_0xe92ade['target']['closest'](_0x217563(0x272)),_0x11fa15=_0xe92ade['target'][_0x217563(0x4cd)](_0x217563(0x386)),_0x1179e5=_0xe92ade['target'][_0x217563(0x4cd)]('.pair-quiz-btn'),_0x2ef855=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x552)),_0x648f1b=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x565)),_0x35498d=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)]('.admin-try-quiz-list-btn'),_0x578fb7=_0xe92ade['target'][_0x217563(0x4cd)](_0x217563(0x7dc)),_0x410a11=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x86b)),_0x503bdb=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)]('.delete-quiz-btn'),_0x2c2c21=_0xe92ade['target'][_0x217563(0x4cd)](_0x217563(0x890)),_0x31d7c6=_0xe92ade[_0x217563(0x456)][_0x217563(0x4cd)](_0x217563(0x8fd)),_0x3ea80c=_0xe92ade[_0x217563(0x456)]['closest'](_0x217563(0x468));if(_0x31d7c6){const _0x6e6982=_0x31d7c6[_0x217563(0x3ca)]['quizId'],_0xfe9e0e=document['getElementById']('actions-container-'+_0x6e6982);_0xfe9e0e&&_0xfe9e0e[_0x217563(0x110)][_0x217563(0x80d)]('hidden');}else{if(_0x1fac60){const _0x52a00c=_0x1fac60['dataset']['quizId'],_0x211c0d=allQuizzes[_0x217563(0x75b)](_0x2dc565=>_0x2dc565['id']===_0x52a00c);_0x211c0d&&handleGenerateParallelPostTest(_0x211c0d);}else{if(_0x53b15e)handleCompareResults(_0x53b15e[_0x217563(0x3ca)][_0x217563(0x653)],_0x53b15e[_0x217563(0x3ca)][_0x217563(0x5a0)]);else{if(_0x585404){const _0x1fa3d8=_0x585404[_0x217563(0x3ca)][_0x217563(0x653)],_0x6fa562=allQuizzes[_0x217563(0x75b)](_0x1a0805=>_0x1a0805['id']===_0x1fa3d8);_0x6fa562&&_0x6fa562['lessonPlan']?(displayLessonPlan(_0x6fa562['lessonPlan'],_0x6fa562),showConfirmation(_0x217563(0x7ca),()=>handleGenerateLessonPlan(_0x1fa3d8)),document[_0x217563(0x21e)](_0x217563(0xe3))['querySelector']('h3')[_0x217563(0x680)]=_0x217563(0x7f1),document[_0x217563(0x21e)](_0x217563(0x7ee))[_0x217563(0x680)]='สร้างใหม่'):handleGenerateLessonPlan(_0x1fa3d8);}else{if(_0x172a2e)handleToggleStarQuiz(_0x172a2e[_0x217563(0x3ca)][_0x217563(0x653)]);else{if(_0x10f81f)copyTextToClipboard(_0x10f81f[_0x217563(0x3ca)][_0x217563(0x653)],_0x217563(0x5f4));else{if(_0x1d255f)handleOpenQuizEditor(_0x1d255f[_0x217563(0x3ca)]['quizId']);else{if(_0x317ce1)handleQuizSettings(_0x317ce1['dataset']['quizId']);else{if(_0x358853)handleDuplicateQuiz(_0x358853[_0x217563(0x3ca)]['quizId']);else{if(_0x501fae)handleRenameQuiz(_0x501fae[_0x217563(0x3ca)][_0x217563(0x653)],_0x501fae[_0x217563(0x3ca)]['topic']);else{if(_0x3fefc5){const _0x43bdb1=_0x3fefc5[_0x217563(0x3ca)][_0x217563(0x653)],_0x5addc8=allQuizzes[_0x217563(0x75b)](_0x370ce0=>_0x370ce0['id']===_0x43bdb1);_0x5addc8&&handleGenerateParallelFromBank(_0x5addc8);}else{if(_0x11fa15)handleMoveQuiz(_0x11fa15[_0x217563(0x3ca)][_0x217563(0x653)]);else{if(_0x1179e5)handleManualQuizPairing(_0x1179e5[_0x217563(0x3ca)][_0x217563(0x653)]);else{if(_0x2ef855)handleUnpairQuiz(_0x2ef855[_0x217563(0x3ca)][_0x217563(0x653)]);else{if(_0x648f1b){const _0x1b2cb9=_0x648f1b['dataset'][_0x217563(0x653)],_0x4b6511=allQuizzes[_0x217563(0x75b)](_0x23d5ef=>_0x23d5ef['id']===_0x1b2cb9);if(_0x4b6511)startPresentation(_0x4b6511);}else{if(_0x35498d){const _0x589300=_0x35498d[_0x217563(0x3ca)]['quizId'],_0x548f28=allQuizzes[_0x217563(0x75b)](_0xe4ff8e=>_0xe4ff8e['id']===_0x589300);_0x548f28&&(currentQuizData=_0x548f28,startAdminTest());}else{if(_0x578fb7)handleStartLiveRace(_0x578fb7[_0x217563(0x3ca)][_0x217563(0x653)]);else{if(_0x410a11)actionTargetId=_0x410a11[_0x217563(0x3ca)][_0x217563(0x653)],document[_0x217563(0x21e)](_0x217563(0x54e))[_0x217563(0x110)][_0x217563(0x892)](_0x217563(0x6c1));else{if(_0x503bdb)showConfirmation(_0x217563(0x6f3)+_0x503bdb[_0x217563(0x3ca)][_0x217563(0x3f8)]+_0x217563(0x67d),()=>handleDeleteQuiz(_0x503bdb[_0x217563(0x3ca)][_0x217563(0x653)]));else{if(_0x2c2c21)handleQuizStatus(_0x2c2c21[_0x217563(0x3ca)][_0x217563(0x653)]);else{if(_0x3ea80c)handleGenerateEasyVersionQuiz(_0x3ea80c['dataset'][_0x217563(0x653)]);else _0x182025&&showQuizDetailView(_0x182025[_0x217563(0x3ca)][_0x217563(0x653)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x2af))['querySelector'](_0x39e3b2(0x2f5))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),_0x178065=>{const _0x5b3c59=_0x39e3b2,_0x3c0fc3=_0x178065[_0x5b3c59(0x456)][_0x5b3c59(0x4cd)](_0x5b3c59(0x114));if(!_0x3c0fc3||!_0x3c0fc3[_0x5b3c59(0x3ca)][_0x5b3c59(0x212)])return;const _0x2dfe51=_0x3c0fc3['dataset'][_0x5b3c59(0x212)];if(quizLeaderboardSortBy===_0x2dfe51)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x5b3c59(0x475):_0x5b3c59(0x602);else{quizLeaderboardSortBy=_0x2dfe51;const _0x438c73=[_0x5b3c59(0x6b5)];quizLeaderboardSortOrder=_0x438c73[_0x5b3c59(0x1be)](_0x2dfe51)?_0x5b3c59(0x602):_0x5b3c59(0x475);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5b3c59(0x822));}),document['getElementById']('close-presentation-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),closePresentation),document[_0x39e3b2(0x21e)](_0x39e3b2(0x3a1))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x5a1))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x2c5700=_0x39e3b2;currentQuizData[_0x2c5700(0x218)]&&currentPresentationSlide<currentQuizData[_0x2c5700(0x218)][_0x2c5700(0x708)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x39e3b2(0xfd)]('fullscreenchange',()=>{const _0x3919e1=_0x39e3b2;!document[_0x3919e1(0x561)]&&(presentationModal['style'][_0x3919e1(0x39f)]=_0x3919e1(0x1fb));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x33c))[_0x39e3b2(0xfd)]('click',handleDeleteAllStudents),studentList[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),_0x1de9f8=>{const _0x514b9b=_0x39e3b2,_0x1afdb4=_0x1de9f8['target'][_0x514b9b(0x4cd)]('.delete-student-btn');if(_0x1afdb4){const _0x4e62ae=_0x1afdb4[_0x514b9b(0x3ca)][_0x514b9b(0x6b5)];handleDeleteStudent(_0x4e62ae);}}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x122))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleGenerateFromFileClick),fileUploadInput[_0x39e3b2(0xfd)](_0x39e3b2(0x820),_0x3058b4=>{const _0x2554f6=_0x39e3b2,_0x3fe915=_0x3058b4[_0x2554f6(0x456)][_0x2554f6(0x74d)][0x0],_0x5c5037=document[_0x2554f6(0x21e)](_0x2554f6(0x122));_0x3fe915?(selectedFile=_0x3fe915,_0x5c5037[_0x2554f6(0x506)]=![]):(selectedFile=null,_0x5c5037[_0x2554f6(0x506)]=!![]);}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x8dc))['addEventListener'](_0x39e3b2(0x820),_0x2c3002=>{const _0x2aa8e4=_0x39e3b2,_0x36c42a=document[_0x2aa8e4(0x21e)](_0x2aa8e4(0x8ff)),_0x56dfe4=document[_0x2aa8e4(0x21e)](_0x2aa8e4(0x1c6)),_0x550528=document[_0x2aa8e4(0x21e)](_0x2aa8e4(0x5f2));_0x2c3002[_0x2aa8e4(0x456)]['value']===_0x2aa8e4(0x1fb)?_0x36c42a[_0x2aa8e4(0x110)][_0x2aa8e4(0x8fb)](_0x2aa8e4(0x6c1)):(_0x36c42a[_0x2aa8e4(0x110)][_0x2aa8e4(0x892)](_0x2aa8e4(0x6c1)),_0x2c3002[_0x2aa8e4(0x456)][_0x2aa8e4(0x24a)]===_0x2aa8e4(0x113)?(_0x56dfe4[_0x2aa8e4(0x680)]=_0x2aa8e4(0x839),_0x550528[_0x2aa8e4(0x24a)]='10'):(_0x56dfe4[_0x2aa8e4(0x680)]=_0x2aa8e4(0x2f6),_0x550528[_0x2aa8e4(0x24a)]='30'));}),document[_0x39e3b2(0x21e)]('quiz-type-select')[_0x39e3b2(0xfd)](_0x39e3b2(0x820),_0xccc876=>{const _0x4a2a86=_0x39e3b2,_0x1984b4=document[_0x4a2a86(0x21e)](_0x4a2a86(0x5e6)),_0x42e1a2=_0xccc876[_0x4a2a86(0x456)][_0x4a2a86(0x24a)],_0x2a72f6=document[_0x4a2a86(0x920)](_0x4a2a86(0x44f)),_0xac47cd=document[_0x4a2a86(0x21e)](_0x4a2a86(0x71b)),_0x2bc658=document[_0x4a2a86(0x21e)](_0x4a2a86(0x116));_0x42e1a2===_0x4a2a86(0x1e6)?_0x2a72f6[_0x4a2a86(0x680)]='จำนวนคู่:':_0x2a72f6[_0x4a2a86(0x680)]=_0x4a2a86(0x1d0),_0x42e1a2===_0x4a2a86(0x8f6)||_0x42e1a2===_0x4a2a86(0x328)||_0x42e1a2===_0x4a2a86(0x446)?_0x1984b4[_0x4a2a86(0x110)][_0x4a2a86(0x892)](_0x4a2a86(0x6c1)):_0x1984b4['classList']['add'](_0x4a2a86(0x6c1)),_0xac47cd[_0x4a2a86(0x17d)]=_0x2bc658[_0x4a2a86(0x24a)];}),document['getElementById'](_0x39e3b2(0x116))[_0x39e3b2(0xfd)](_0x39e3b2(0x19f),_0x49e4ef=>{const _0x58bd4a=_0x39e3b2;document[_0x58bd4a(0x21e)](_0x58bd4a(0x71b))[_0x58bd4a(0x17d)]=_0x49e4ef[_0x58bd4a(0x456)][_0x58bd4a(0x24a)];}),document[_0x39e3b2(0x21e)]('modal-timer-mode-select')[_0x39e3b2(0xfd)](_0x39e3b2(0x820),_0x5302da=>{const _0x48553e=_0x39e3b2,_0xce7e7b=document[_0x48553e(0x21e)](_0x48553e(0x8b5)),_0xf8017c=document[_0x48553e(0x21e)](_0x48553e(0x764)),_0x1cb637=document['getElementById'](_0x48553e(0x750));_0x5302da[_0x48553e(0x456)]['value']==='none'?_0xce7e7b[_0x48553e(0x110)][_0x48553e(0x8fb)]('hidden'):(_0xce7e7b[_0x48553e(0x110)][_0x48553e(0x892)](_0x48553e(0x6c1)),_0x5302da['target'][_0x48553e(0x24a)]===_0x48553e(0x113)?_0xf8017c['textContent']=_0x48553e(0x839):_0xf8017c[_0x48553e(0x680)]=_0x48553e(0x2f6));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x7e3))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x231369=_0x39e3b2;document[_0x231369(0x21e)](_0x231369(0x10f))['classList'][_0x231369(0x8fb)](_0x231369(0x6c1));}),document['getElementById'](_0x39e3b2(0x401))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x75bc98=_0x39e3b2;document['getElementById']('quiz-editor-modal')['classList'][_0x75bc98(0x8fb)]('hidden');}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x356))['addEventListener'](_0x39e3b2(0x3bd),handleVerifyAnswersInEditor),document[_0x39e3b2(0x21e)]('save-quiz-edits-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x39e46e=_0x39e3b2;document[_0x39e46e(0x21e)](_0x39e46e(0x10f))['classList'][_0x39e46e(0x8fb)](_0x39e46e(0x6c1)),showConfirmation(_0x39e46e(0x553),handleSaveChanges);}),document[_0x39e3b2(0x21e)]('auto-fix-latex-btn')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),handleAutoFixLatex);const _0x490d12=document[_0x39e3b2(0x21e)](_0x39e3b2(0x522));_0x490d12&&_0x490d12[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),_0x2cf6bc=>{const _0x130620=_0x39e3b2,_0x85bb89=_0x2cf6bc[_0x130620(0x456)][_0x130620(0x4cd)](_0x130620(0x358)),_0x1a1b32=_0x2cf6bc[_0x130620(0x456)][_0x130620(0x4cd)](_0x130620(0x13a));if(_0x85bb89){const _0xbadf69=_0x85bb89['closest'](_0x130620(0x16b)),_0x1980cd=parseInt(_0xbadf69[_0x130620(0x3ca)][_0x130620(0x4dd)],0xa);handleRegenerateQuestionInEditor(_0x1980cd);}else{if(_0x1a1b32){const _0xe9392b=_0x1a1b32[_0x130620(0x4cd)]('.question-editor-item'),_0x253498=parseInt(_0xe9392b['dataset']['qIndex'],0xa);handleAiFixFormula(_0x253498);}}});document[_0x39e3b2(0x21e)](_0x39e3b2(0x1e8))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),openQuizBankModal),document['getElementById'](_0x39e3b2(0x79c))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x2b8589=_0x39e3b2;document[_0x2b8589(0x21e)](_0x2b8589(0x499))[_0x2b8589(0x110)][_0x2b8589(0x8fb)](_0x2b8589(0x6c1));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x3fc))['addEventListener']('input',_0x50aab9=>renderQuizBankList(_0x50aab9[_0x39e3b2(0x456)][_0x39e3b2(0x24a)]));const _0x5a2e82=document['getElementById'](_0x39e3b2(0x265));if(_0x5a2e82){let _0x521829=null;_0x5a2e82['addEventListener'](_0x39e3b2(0x3bd),_0x2afe0b=>{const _0x5f4aa0=_0x39e3b2,_0x371ab=_0x2afe0b[_0x5f4aa0(0x456)],_0x19ddb7=_0x371ab[_0x5f4aa0(0x4cd)](_0x5f4aa0(0x572)),_0x530388=_0x371ab['closest'](_0x5f4aa0(0x575)),_0x3965b8=_0x371ab[_0x5f4aa0(0x4cd)]('.save-custom-topic-btn'),_0x12b424=_0x371ab['closest'](_0x5f4aa0(0x428));if(_0x530388){_0x2afe0b[_0x5f4aa0(0x60a)]();const _0x22acca=_0x530388[_0x5f4aa0(0x3ca)]['id'],_0x4b5e88=_0x530388[_0x5f4aa0(0x4cd)](_0x5f4aa0(0x3f9))['querySelector'](_0x5f4aa0(0x843))['textContent'];showConfirmation(_0x5f4aa0(0x76b)+_0x4b5e88+'\x22?',()=>handleDeleteCustomTopic(_0x22acca));}else{if(_0x19ddb7){_0x2afe0b[_0x5f4aa0(0x60a)]();_0x521829&&toggleTopicEditMode(_0x521829,![]);const _0x14147d=_0x19ddb7['closest'](_0x5f4aa0(0x6d2));_0x521829=_0x14147d,toggleTopicEditMode(_0x14147d,!![]);}else{if(_0x3965b8){_0x2afe0b[_0x5f4aa0(0x60a)]();const _0x1bb945=_0x3965b8[_0x5f4aa0(0x3ca)]['id'],_0x19605a=_0x3965b8[_0x5f4aa0(0x4cd)](_0x5f4aa0(0x6d2)),_0x29094d=_0x19605a[_0x5f4aa0(0x920)]('.topic-name-input')['value'];handleUpdateCustomTopic(_0x1bb945,_0x29094d),_0x521829=null;}else{if(_0x12b424){_0x2afe0b['preventDefault']();const _0x1c9d3a=_0x12b424[_0x5f4aa0(0x4cd)](_0x5f4aa0(0x6d2));toggleTopicEditMode(_0x1c9d3a,![]),_0x521829=null;}}}}}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x1e2))['addEventListener'](_0x39e3b2(0x3bd),()=>{const _0x2d6a7b=_0x39e3b2;document[_0x2d6a7b(0x21e)]('lesson-plan-modal')[_0x2d6a7b(0x110)][_0x2d6a7b(0x8fb)](_0x2d6a7b(0x6c1));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x62b))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0x4c24bc=_0x39e3b2;document[_0x4c24bc(0x21e)](_0x4c24bc(0x315))['classList'][_0x4c24bc(0x8fb)](_0x4c24bc(0x6c1));}),document[_0x39e3b2(0x21e)]('export-lesson-pdf-btn')[_0x39e3b2(0xfd)]('click',handleExportLessonPDF);}document['getElementById'](_0x39e3b2(0x2a5))[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),()=>{const _0xca5f25=_0x39e3b2;document[_0xca5f25(0x21e)]('comparison-modal')['classList'][_0xca5f25(0x8fb)](_0xca5f25(0x6c1));}),document[_0x39e3b2(0x21e)](_0x39e3b2(0x1de))['addEventListener'](_0x39e3b2(0x3bd),()=>{const _0x48bbb7=_0x39e3b2;document[_0x48bbb7(0x21e)](_0x48bbb7(0x400))[_0x48bbb7(0x110)][_0x48bbb7(0x8fb)](_0x48bbb7(0x6c1));}),setupComparisonModalTabs(),document[_0x39e3b2(0x7c7)][_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),function(_0x3cf84b){const _0x1299d5=_0x39e3b2;if(_0x3cf84b[_0x1299d5(0x456)][_0x1299d5(0x110)][_0x1299d5(0x194)]('practice-topic-btn')){const _0x392cd3=unescape(_0x3cf84b['target'][_0x1299d5(0x3ca)]['topic']);startSkillPractice(_0x392cd3);}}),document[_0x39e3b2(0x21e)]('scores-tab-content')[_0x39e3b2(0xfd)](_0x39e3b2(0x3bd),_0x8bf597=>{const _0x2cc9b2=_0x39e3b2,_0x3847b9=_0x8bf597[_0x2cc9b2(0x456)][_0x2cc9b2(0x4cd)](_0x2cc9b2(0x25f));if(_0x3847b9){const _0x294ebc=_0x3847b9[_0x2cc9b2(0x3ca)][_0x2cc9b2(0x6b5)];handleDeleteSubmission(_0x294ebc);}});}async function showStudentProgressView(){const _0x3d7150=_0x13fc2f;studentInitialView['classList'][_0x3d7150(0x8fb)](_0x3d7150(0x6c1)),document[_0x3d7150(0x21e)](_0x3d7150(0x858))['classList'][_0x3d7150(0x892)](_0x3d7150(0x6c1));const _0x4d59d8=document[_0x3d7150(0x21e)](_0x3d7150(0x77e)),_0x1f7fe6=document['getElementById'](_0x3d7150(0x727)),_0x53eb45=document[_0x3d7150(0x21e)](_0x3d7150(0x842));_0x53eb45[_0x3d7150(0x768)]=_0x3d7150(0x39d),_0x1f7fe6['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1f7fe6[_0x3d7150(0x506)]=!![],_0x4d59d8[_0x3d7150(0x768)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x3d7150(0x708)]===0x0){const _0x1363c3=collection(db,'artifacts/'+appId+_0x3d7150(0x8df)),_0x2b7f06=await getDocs(_0x1363c3);allProjects=_0x2b7f06['docs'][_0x3d7150(0x924)](_0x4f93db=>({'id':_0x4f93db['id'],..._0x4f93db[_0x3d7150(0x7ed)]()}));}const _0xa4bdf0=allProjects[_0x3d7150(0x17f)](_0x4b4cf1=>_0x4b4cf1[_0x3d7150(0x168)]?.['showInStudentDashboard']!==![]);_0xa4bdf0[_0x3d7150(0x212)]((_0xb8f66b,_0x2333e6)=>_0xb8f66b['projectName'][_0x3d7150(0x787)](_0x2333e6[_0x3d7150(0x3d5)],'th')),_0x4d59d8[_0x3d7150(0x768)]=_0x3d7150(0x2f3)+_0xa4bdf0[_0x3d7150(0x924)](_0x22ea23=>_0x3d7150(0x621)+_0x22ea23['id']+'\x22>'+_0x22ea23['projectName']+'</option>')[_0x3d7150(0x408)](''),_0x4d59d8[_0x3d7150(0x6f2)]=()=>{const _0xbcd399=_0x3d7150,_0x4c8821=_0x1f7fe6[_0xbcd399(0x24a)],_0x1972ed=_0x4d59d8[_0xbcd399(0x24a)];_0x1f7fe6[_0xbcd399(0x506)]=!![],_0x1f7fe6['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x53eb45['innerHTML']=_0xbcd399(0x555);if(!_0x1972ed)return;const _0x39ca60=allProjects[_0xbcd399(0x75b)](_0x17be11=>_0x17be11['id']===_0x1972ed);if(!_0x39ca60||!_0x39ca60['students'])return;const _0x179d5b=()=>{const _0x638a27=_0xbcd399;_0x1f7fe6['innerHTML']=_0x638a27(0x826)+_0x39ca60[_0x638a27(0x1bf)][_0x638a27(0x924)](_0x545dc0=>_0x638a27(0x621)+_0x545dc0+'\x22>'+_0x545dc0+_0x638a27(0x807))['join'](''),_0x1f7fe6[_0x638a27(0x506)]=![];const _0x5d3aea=Array[_0x638a27(0x46d)](_0x1f7fe6['options'])[_0x638a27(0x924)](_0x5faf3=>_0x5faf3[_0x638a27(0x24a)]);if(_0x4c8821&&_0x5d3aea[_0x638a27(0x1be)](_0x4c8821))_0x1f7fe6[_0x638a27(0x24a)]=_0x4c8821,_0x1f7fe6['dispatchEvent'](new Event(_0x638a27(0x820)));else _0x39ca60[_0x638a27(0x1bf)][_0x638a27(0x708)]===0x1&&(_0x1f7fe6['value']=_0x39ca60[_0x638a27(0x1bf)][0x0],_0x1f7fe6[_0x638a27(0x3bf)](new Event(_0x638a27(0x820))));};if(_0x39ca60[_0xbcd399(0x168)]?.[_0xbcd399(0x406)]){if(sessionStorage['getItem']('authed_project_'+_0x1972ed)===_0xbcd399(0x269)){_0x179d5b();return;}const _0x1fa7ed=document[_0xbcd399(0x21e)](_0xbcd399(0x64a)),_0x162ba8=document[_0xbcd399(0x21e)](_0xbcd399(0x5ec)),_0x403c5b=document['getElementById'](_0xbcd399(0x2c0)),_0x3defb9=document[_0xbcd399(0x21e)](_0xbcd399(0x8c2)),_0x3f0948=document[_0xbcd399(0x21e)](_0xbcd399(0xda));document[_0xbcd399(0x21e)](_0xbcd399(0x8e8))[_0xbcd399(0x680)]='สำหรับโปรเจค:\x20'+_0x39ca60['projectName'],_0x3defb9[_0xbcd399(0x24a)]='',_0x3f0948[_0xbcd399(0x110)][_0xbcd399(0x8fb)]('hidden'),_0x1fa7ed[_0xbcd399(0x110)][_0xbcd399(0x892)](_0xbcd399(0x6c1));const _0x31e24f=()=>{const _0x50c932=_0xbcd399,_0x4fb999=_0x3defb9[_0x50c932(0x24a)][_0x50c932(0x8de)]();_0x4fb999===_0x39ca60[_0x50c932(0x168)][_0x50c932(0x64b)]?(sessionStorage['setItem'](_0x50c932(0x7bf)+_0x1972ed,_0x50c932(0x269)),_0x1fa7ed[_0x50c932(0x110)][_0x50c932(0x8fb)]('hidden'),_0x179d5b(),_0x162ba8[_0x50c932(0x3c1)](_0x50c932(0x3bd),_0x31e24f)):_0x3f0948[_0x50c932(0x110)][_0x50c932(0x892)]('hidden');};_0x162ba8[_0xbcd399(0x2ab)]=_0x31e24f,_0x403c5b[_0xbcd399(0x2ab)]=()=>{const _0x22cbc8=_0xbcd399;_0x1fa7ed[_0x22cbc8(0x110)][_0x22cbc8(0x8fb)]('hidden'),_0x4d59d8[_0x22cbc8(0x24a)]='',_0x162ba8['removeEventListener'](_0x22cbc8(0x3bd),_0x31e24f);};}else _0x179d5b();},_0x1f7fe6[_0x3d7150(0x6f2)]=()=>{const _0x1ac768=_0x3d7150,_0x5d650a=_0x4d59d8[_0x1ac768(0x24a)],_0x164ec5=_0x1f7fe6[_0x1ac768(0x24a)];_0x5d650a&&_0x164ec5&&renderStudentProgressDashboard(_0x5d650a,_0x164ec5);};}async function renderStudentProgressDashboard(_0x3cd02a,_0xa28f7f){const _0x42df7c=_0x13fc2f,_0x47e715=document[_0x42df7c(0x21e)](_0x42df7c(0x842));_0x47e715[_0x42df7c(0x768)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x36083f=collection(db,'artifacts/'+appId+_0x42df7c(0x51e)),_0x4a907c=query(_0x36083f,where(_0x42df7c(0x779),'==',_0x3cd02a)),_0x31eb7e=await getDocs(_0x4a907c),_0x5d2bf2=_0x31eb7e[_0x42df7c(0x369)][_0x42df7c(0x924)](_0x4c05fe=>({'id':_0x4c05fe['id'],..._0x4c05fe[_0x42df7c(0x7ed)]()})),_0x5dc08c=_0x5d2bf2[_0x42df7c(0x924)](_0xa098ad=>getDoc(doc(db,'artifacts/'+appId+_0x42df7c(0x823)+_0xa098ad['id']+_0x42df7c(0x1f4),_0xa28f7f))),_0x5d193b=await Promise[_0x42df7c(0x80a)](_0x5dc08c),_0x64c729=_0x5d193b['filter'](_0x1035a5=>_0x1035a5['exists']())[_0x42df7c(0x924)](_0xb38a87=>({'quizId':_0xb38a87[_0x42df7c(0x535)][_0x42df7c(0x283)][_0x42df7c(0x283)]['id'],..._0xb38a87['data']()}));if(_0x64c729['length']===0x0){_0x47e715[_0x42df7c(0x768)]=_0x42df7c(0x568);return;}let _0x351205=_0x42df7c(0x529);_0x64c729[_0x42df7c(0x121)](_0x3749b6=>{const _0x134c74=_0x42df7c,_0x41b2e9=_0x5d2bf2[_0x134c74(0x75b)](_0x32275f=>_0x32275f['id']===_0x3749b6[_0x134c74(0x653)]),_0x2b55c6=_0x41b2e9[_0x134c74(0x168)]?.[_0x134c74(0x53d)]||_0x134c74(0x4dc),_0x107f92=_0x41b2e9[_0x134c74(0x168)]?.[_0x134c74(0x5ba)]??0x0,_0x10dcfa=_0x3749b6[_0x134c74(0x388)]>=_0x107f92;let _0x44ce04='',_0x42c43a=_0x134c74(0x37c);switch(_0x2b55c6){case _0x134c74(0x4dc):case _0x134c74(0x77d):_0x42c43a=_0x10dcfa?_0x134c74(0x40e):_0x134c74(0x52a),_0x44ce04=_0x134c74(0x62e)+(_0x10dcfa?_0x134c74(0x4f0):_0x134c74(0x81b))+'\x22>'+_0x3749b6[_0x134c74(0x388)]+_0x134c74(0x4cb)+_0x3749b6['totalQuestions']+_0x134c74(0x766)+(_0x10dcfa?_0x134c74(0x397):'bg-red-200\x20text-red-800')+'\x22>'+(_0x10dcfa?_0x134c74(0x34b):_0x134c74(0x426))+_0x134c74(0x92a);break;case _0x134c74(0x47c):_0x42c43a=_0x10dcfa?_0x134c74(0x40e):_0x134c74(0x52a),_0x44ce04=_0x134c74(0x1b5)+(_0x10dcfa?'bg-green-200\x20text-green-800':_0x134c74(0x841))+'\x22>'+(_0x10dcfa?_0x134c74(0x34b):_0x134c74(0x426))+_0x134c74(0x92a);break;case _0x134c74(0x2e3):_0x42c43a=_0x134c74(0x83f),_0x44ce04=_0x134c74(0x12c);break;}_0x351205+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x42c43a+_0x134c74(0x27e)+_0x41b2e9['topic']+_0x134c74(0x67f)+_0x3749b6[_0x134c74(0x378)][_0x134c74(0x708)]+_0x134c74(0x2d4)+new Date(_0x3749b6[_0x134c74(0x30d)])[_0x134c74(0x596)](_0x134c74(0x832))+_0x134c74(0x6c0)+_0x44ce04+_0x134c74(0x3af);}),_0x351205+=_0x42df7c(0x165),_0x47e715[_0x42df7c(0x768)]=_0x351205;}catch(_0x442812){console[_0x42df7c(0x5e9)](_0x42df7c(0x63e),_0x442812),_0x47e715['innerHTML']=_0x42df7c(0x7ea);}}function setupStudentProgressListeners(){const _0x9b23e2=_0x13fc2f;document['getElementById']('view-my-progress-btn')[_0x9b23e2(0xfd)](_0x9b23e2(0x3bd),showStudentProgressView),document[_0x9b23e2(0x21e)](_0x9b23e2(0x1f7))[_0x9b23e2(0xfd)](_0x9b23e2(0x3bd),()=>{const _0x126fa9=_0x9b23e2;document[_0x126fa9(0x21e)](_0x126fa9(0x858))[_0x126fa9(0x110)][_0x126fa9(0x8fb)](_0x126fa9(0x6c1)),document['getElementById'](_0x126fa9(0x2f9))[_0x126fa9(0x110)][_0x126fa9(0x892)](_0x126fa9(0x6c1));});}async function startSkillPractice(_0x715e33){const _0x4ed6be=_0x13fc2f;studentResultArea['classList'][_0x4ed6be(0x8fb)]('hidden'),studentQuizArea[_0x4ed6be(0x768)]=_0x4ed6be(0x57a),studentQuizArea[_0x4ed6be(0x110)][_0x4ed6be(0x892)](_0x4ed6be(0x6c1));try{const _0x4a77c3=await getStandardizedTopic(_0x715e33);console[_0x4ed6be(0x2de)](_0x4ed6be(0x2eb)+_0x715e33+_0x4ed6be(0x291)+_0x4a77c3+'\x22'),studentQuizArea['querySelector']('p')[_0x4ed6be(0x680)]=_0x4ed6be(0x294)+_0x4a77c3+_0x4ed6be(0x2f0);const _0x23c305=collection(db,_0x4ed6be(0x709)+appId+'/public/data/practiceBank'),_0x16e4ba=query(_0x23c305,where(_0x4ed6be(0x3f8),'==',_0x4a77c3)),_0x377ccf=await getDocs(_0x16e4ba);if(_0x377ccf[_0x4ed6be(0x369)][_0x4ed6be(0x708)]>=0x3){console['log'](_0x4ed6be(0x50e)+_0x377ccf[_0x4ed6be(0x369)][_0x4ed6be(0x708)]+_0x4ed6be(0x83b)+_0x4a77c3+_0x4ed6be(0x712));let _0x39eb66=_0x377ccf[_0x4ed6be(0x369)]['map'](_0x5731e2=>_0x5731e2[_0x4ed6be(0x7ed)]());shuffleArray(_0x39eb66);const _0x48883d={'topic':_0x4a77c3,'questions':_0x39eb66['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x48883d);}else{console[_0x4ed6be(0x2de)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x4a77c3+_0x4ed6be(0x1d8));const _0x44e7bd=await generatePracticeQuestions(_0x4a77c3);await saveDrillToPracticeBank(_0x44e7bd,_0x4a77c3),displaySkillPracticeDrill(_0x44e7bd);}}catch(_0xa80ca7){console[_0x4ed6be(0x5e9)](_0x4ed6be(0xf9),_0xa80ca7),showMessage(_0x4ed6be(0x7fc)),studentQuizArea[_0x4ed6be(0x110)][_0x4ed6be(0x8fb)](_0x4ed6be(0x6c1)),studentResultArea[_0x4ed6be(0x110)]['remove']('hidden');}}async function saveDrillToPracticeBank(_0x4e8bae,_0x2896f4){const _0x3a4360=_0x13fc2f,_0x10085=collection(db,_0x3a4360(0x709)+appId+'/public/data/practiceBank'),_0x43f61a=writeBatch(db);_0x4e8bae[_0x3a4360(0x218)][_0x3a4360(0x121)](_0x397011=>{const _0x19af12=_0x3a4360,_0x55a2cd=doc(_0x10085);_0x43f61a['set'](_0x55a2cd,{'topic':_0x2896f4,'questionText':_0x397011[_0x19af12(0x777)],'options':_0x397011[_0x19af12(0x138)],'correctAnswerIndex':_0x397011[_0x19af12(0x455)],'explanation':_0x397011[_0x19af12(0x6e0)],'createdAt':serverTimestamp()});});try{await _0x43f61a[_0x3a4360(0x4a0)](),console['log'](_0x3a4360(0x70e)+_0x4e8bae[_0x3a4360(0x218)]['length']+_0x3a4360(0x285));}catch(_0x3d1404){console[_0x3a4360(0x5e9)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x3d1404);}}async function getStandardizedTopic(_0x44a85f){const _0x6a3aa2=_0x13fc2f,_0x442719=_0x6a3aa2(0x614)+_0x44a85f+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x143c1c={'type':_0x6a3aa2(0x1d7),'properties':{'standardTopic':{'type':'STRING'}},'required':[_0x6a3aa2(0x694)]};try{const _0x5f2341=await callAnalysisApi(_0x442719,_0x143c1c);return _0x5f2341[_0x6a3aa2(0x694)];}catch(_0x326283){return console[_0x6a3aa2(0x5e9)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x326283),_0x44a85f;}}async function handleGenerateEasyVersionQuiz(_0x2f2e2b){const _0x2ea6e8=_0x13fc2f;showConfirmation(_0x2ea6e8(0x4d4),async()=>{const _0xf75c4b=_0x2ea6e8;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0xf49744=allQuizzes[_0xf75c4b(0x75b)](_0x25f62d=>_0x25f62d['id']===_0x2f2e2b);if(!_0xf49744)throw new Error(_0xf75c4b(0x40c));const _0x361b97=_0xf75c4b(0xe1)+JSON[_0xf75c4b(0x6fd)](_0xf49744[_0xf75c4b(0x218)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1e49fb={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xf75c4b(0x69c)},'options':{'type':'ARRAY','items':{'type':_0xf75c4b(0x69c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xf75c4b(0x69c)},'explanation':{'type':_0xf75c4b(0x69c)},'imageCode':{'type':_0xf75c4b(0x69c)}},'required':[_0xf75c4b(0x777),_0xf75c4b(0x78e),_0xf75c4b(0x6e0)]},_0x4fbd79={'type':_0xf75c4b(0x1d7),'properties':{'questions':{'type':_0xf75c4b(0x661),'items':_0x1e49fb}},'required':[_0xf75c4b(0x218)]},_0x256581=await callAnalysisApi(_0x361b97,_0x4fbd79);_0x256581&&_0x256581[_0xf75c4b(0x218)]&&_0x256581[_0xf75c4b(0x218)]['forEach'](_0x54f467=>{const _0x11d3a0=_0xf75c4b;_0x54f467[_0x11d3a0(0x777)]&&(_0x54f467[_0x11d3a0(0x777)]=_0x54f467[_0x11d3a0(0x777)][_0x11d3a0(0x8de)]()['replace'](/,$/,'')[_0x11d3a0(0x8de)]());_0x54f467[_0x11d3a0(0x138)]&&Array[_0x11d3a0(0x781)](_0x54f467[_0x11d3a0(0x138)])&&(_0x54f467[_0x11d3a0(0x138)]=_0x54f467[_0x11d3a0(0x138)][_0x11d3a0(0x924)](_0x25d919=>_0x25d919||_0x11d3a0(0x4a8)));if(_0x54f467['imageCode']){const _0x488d16=_0x54f467[_0x11d3a0(0x130)][_0x11d3a0(0x8de)]();_0x488d16===''||_0x488d16['toLowerCase']()==='null'||!_0x488d16['startsWith'](_0x11d3a0(0x544))?delete _0x54f467[_0x11d3a0(0x130)]:_0x54f467[_0x11d3a0(0x130)]=_0x488d16;}});if(!_0x256581||!_0x256581['questions']||_0x256581[_0xf75c4b(0x218)]['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x2421dc={'projectId':_0xf49744[_0xf75c4b(0x779)],'quizType':_0xf49744['quizType'],'settings':_0xf49744[_0xf75c4b(0x168)],'createdBy':_0xf49744[_0xf75c4b(0x191)],'status':_0xf75c4b(0x782),'topic':_0xf75c4b(0x7ae)+_0xf49744[_0xf75c4b(0x3f8)],'questions':_0x256581[_0xf75c4b(0x218)],'createdAt':new Date()[_0xf75c4b(0x44c)](),'quizMode':'standard','pairedQuizId':null};let _0x4f5439;while(!![]){_0x4f5439=Math[_0xf75c4b(0x325)](0x3e8+Math[_0xf75c4b(0x353)]()*0x2328)[_0xf75c4b(0x319)]();const _0x40aae4=await getDoc(doc(db,_0xf75c4b(0x709)+appId+'/public/data/quizzes',_0x4f5439));if(!_0x40aae4[_0xf75c4b(0x610)]())break;}await setDoc(doc(db,_0xf75c4b(0x709)+appId+_0xf75c4b(0x51e),_0x4f5439),_0x2421dc),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x2ca8f8){console[_0xf75c4b(0x5e9)](_0xf75c4b(0x739),_0x2ca8f8),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2ca8f8[_0xf75c4b(0x73c)]);}});}async function generatePracticeQuestions(_0x38d194){const _0x513482=_0x13fc2f,_0x19cd11=_0x513482(0x383)+_0x38d194+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x513482(0x29b),_0x12ca2d={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x513482(0x661),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x513482(0x58e)},'explanation':{'type':_0x513482(0x69c)}},'required':['questionText',_0x513482(0x138),_0x513482(0x455),'explanation']},_0x444217={'type':_0x513482(0x1d7),'properties':{'topic':{'type':_0x513482(0x69c)},'questions':{'type':_0x513482(0x661),'items':_0x12ca2d}},'required':['topic','questions']};return await callAnalysisApi(_0x19cd11,_0x444217);}function displayLessonPlan(_0x2654ca,_0x34cea4){const _0xfb9b40=_0x13fc2f,_0x56f759=_0xfb9b40(0x297)+_0x34cea4[_0xfb9b40(0x3f8)]+_0xfb9b40(0x834)+_0x2654ca[_0xfb9b40(0x373)][_0xfb9b40(0x924)](_0x199b39=>_0xfb9b40(0x8e7)+_0x199b39+'</li>')[_0xfb9b40(0x408)]('')+_0xfb9b40(0x517)+_0x2654ca['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x2654ca[_0xfb9b40(0x4e0)][_0xfb9b40(0x924)](_0x358821=>_0xfb9b40(0x609)+_0x358821[_0xfb9b40(0x8c8)]+_0xfb9b40(0x502)+_0x358821['solution']+'</p></div>')[_0xfb9b40(0x408)]('')+_0xfb9b40(0x635);document[_0xfb9b40(0x21e)]('lesson-plan-title')[_0xfb9b40(0x680)]=_0xfb9b40(0x6f8)+_0x34cea4[_0xfb9b40(0x3f8)],document['getElementById'](_0xfb9b40(0x376))[_0xfb9b40(0x768)]=_0x56f759,document[_0xfb9b40(0x21e)](_0xfb9b40(0x315))[_0xfb9b40(0x110)][_0xfb9b40(0x892)]('hidden');if(window[_0xfb9b40(0x3ad)])MathJax[_0xfb9b40(0x3ed)]();}function displaySkillPracticeDrill(_0x15130d){const _0xa83f12=_0x13fc2f;let _0x1cdae1=0x0;const _0x164920=_0x15130d[_0xa83f12(0x218)],_0x48f4f9=()=>{const _0x1c8724=_0xa83f12,_0x1cfa32=_0x164920[_0x1cdae1],_0x3e78e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x1cdae1+0x1)+_0x1c8724(0x4cb)+_0x164920[_0x1c8724(0x708)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x1cfa32[_0x1c8724(0x777)]+_0x1c8724(0x752)+_0x1cfa32['options'][_0x1c8724(0x924)]((_0x2014df,_0x54ae3b)=>_0x1c8724(0x847)+_0x54ae3b+_0x1c8724(0x769)+_0x54ae3b+_0x1c8724(0x17e)+_0x54ae3b+'\x22>'+_0x2014df+_0x1c8724(0x49d))[_0x1c8724(0x408)]('')+_0x1c8724(0x687);studentQuizArea['innerHTML']=_0x3e78e6;if(window['MathJax'])MathJax[_0x1c8724(0x3ed)]([studentQuizArea]);document['getElementById'](_0x1c8724(0x148))[_0x1c8724(0xfd)](_0x1c8724(0x3bd),async()=>{const _0x5d42f7=_0x1c8724,_0x2c485d=await getHintForQuestion(_0x1cfa32[_0x5d42f7(0x777)]);showMessage(_0x2c485d);}),document['getElementById'](_0x1c8724(0x6d7))['addEventListener'](_0x1c8724(0x3bd),()=>{const _0x5c03ff=_0x1c8724,_0x1bcf1c=document[_0x5c03ff(0x920)](_0x5c03ff(0x634));if(!_0x1bcf1c){showMessage(_0x5c03ff(0x5ac));return;}const _0x33878a=document[_0x5c03ff(0x21e)]('drill-feedback'),_0x5e2777=parseInt(_0x1bcf1c[_0x5c03ff(0x24a)])===_0x1cfa32[_0x5c03ff(0x455)];_0x5e2777?(_0x33878a[_0x5c03ff(0x83a)]=_0x5c03ff(0x5a3),_0x33878a[_0x5c03ff(0x768)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x1cfa32['explanation']):(_0x33878a[_0x5c03ff(0x83a)]=_0x5c03ff(0x2ef),_0x33878a[_0x5c03ff(0x768)]=_0x5c03ff(0x290)+_0x1cfa32[_0x5c03ff(0x6e0)]);_0x33878a[_0x5c03ff(0x110)]['remove'](_0x5c03ff(0x6c1));if(window[_0x5c03ff(0x3ad)])MathJax['typesetPromise']([_0x33878a]);document[_0x5c03ff(0x21e)](_0x5c03ff(0x6d7))['classList']['add'](_0x5c03ff(0x6c1)),document[_0x5c03ff(0x21e)](_0x5c03ff(0x148))[_0x5c03ff(0x110)][_0x5c03ff(0x8fb)](_0x5c03ff(0x6c1)),document[_0x5c03ff(0x21e)]('next-drill-btn')[_0x5c03ff(0x110)][_0x5c03ff(0x892)](_0x5c03ff(0x6c1));}),document[_0x1c8724(0x21e)](_0x1c8724(0x141))['addEventListener'](_0x1c8724(0x3bd),()=>{const _0x405d94=_0x1c8724;_0x1cdae1++,_0x1cdae1<_0x164920[_0x405d94(0x708)]?_0x48f4f9():(studentQuizArea[_0x405d94(0x768)]=_0x405d94(0x8b0),document['getElementById'](_0x405d94(0x3ee))[_0x405d94(0xfd)](_0x405d94(0x3bd),()=>{const _0x22133e=_0x405d94;studentQuizArea['classList'][_0x22133e(0x8fb)](_0x22133e(0x6c1)),studentResultArea[_0x22133e(0x110)][_0x22133e(0x892)](_0x22133e(0x6c1));}));});};_0x48f4f9();}async function getHintForQuestion(_0x472ae6){const _0x586569=_0x13fc2f,_0x466188=_0x586569(0x6c9)+_0x472ae6+_0x586569(0x3d7),_0x67bc7={'type':_0x586569(0x1d7),'properties':{'hint':{'type':_0x586569(0x69c)}},'required':[_0x586569(0x132)]};try{const _0x5e4a95=await callAnalysisApi(_0x466188,_0x67bc7);return _0x5e4a95['hint'];}catch(_0x5f9899){return console[_0x586569(0x5e9)](_0x586569(0x417),_0x5f9899),_0x586569(0x605);}}async function extractTextFromPdf(_0x5e01ca){const _0x2c6b2c=_0x13fc2f;pdfjsLib['GlobalWorkerOptions']['workerSrc']=_0x2c6b2c(0x3fa);const _0x18cf40=await _0x5e01ca['arrayBuffer'](),_0x3108bb=await pdfjsLib[_0x2c6b2c(0x41f)](_0x18cf40)[_0x2c6b2c(0x2c2)],_0x37db42=_0x3108bb['numPages'];let _0x3a92c2='';for(let _0x13ebb8=0x1;_0x13ebb8<=_0x37db42;_0x13ebb8++){const _0x1246d6=await _0x3108bb[_0x2c6b2c(0x227)](_0x13ebb8),_0x4e6766=await _0x1246d6[_0x2c6b2c(0x913)](),_0x4e0317=_0x4e6766[_0x2c6b2c(0x129)][_0x2c6b2c(0x924)](_0x2f0682=>_0x2f0682[_0x2c6b2c(0x8d5)])[_0x2c6b2c(0x408)]('\x20');_0x3a92c2+=_0x4e0317+'\x0a\x0a';}return _0x3a92c2;}async function handleGenerateFromBlueprint(){const _0x509207=_0x13fc2f,_0x2eb85c=document[_0x509207(0x21e)](_0x509207(0x200)),_0x477f94=document[_0x509207(0x21e)](_0x509207(0x145)),_0x35d196=_0x2eb85c['files'][0x0],_0xd807c2=_0x477f94[_0x509207(0x74d)][_0x509207(0x708)]>0x0?_0x477f94[_0x509207(0x74d)][0x0]:null;if(!_0x35d196){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x50f5c9=document['getElementById'](_0x509207(0x21f)),_0x57e139=document[_0x509207(0x21e)](_0x509207(0x642)),_0x190684=document['getElementById'](_0x509207(0x84c)),_0x1e19bb=document['getElementById']('generate-from-blueprint-btn');_0x1e19bb[_0x509207(0x506)]=!![],document[_0x509207(0x21e)](_0x509207(0x260))[_0x509207(0x110)][_0x509207(0x892)](_0x509207(0x6c1)),_0x190684[_0x509207(0x768)]='',_0x50f5c9[_0x509207(0x110)]['remove']('hidden');try{_0x57e139[_0x509207(0x680)]=_0x509207(0x5fb);const _0x1e6c7e=await extractTextFromPdf(_0x35d196);if(!_0x1e6c7e[_0x509207(0x8de)]())throw new Error(_0x509207(0x47f));let _0xc1db8f='';_0xd807c2&&(_0x57e139['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0xc1db8f=await extractTextFromPdf(_0xd807c2));_0x57e139['textContent']='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x4f18ca=document[_0x509207(0x21e)]('include-images-checkbox')[_0x509207(0x780)],_0x2adece=_0x4f18ca?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x1c9d3c=_0xc1db8f?_0x509207(0x2aa)+_0xc1db8f+_0x509207(0x7f8):'',_0x2875f7=_0x509207(0x7b8)+(_0xc1db8f?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e6c7e+_0x509207(0x7f8)+_0x1c9d3c+_0x509207(0x410)+_0x2adece+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x509207(0x558),_0x29b678={'type':_0x509207(0x1d7),'properties':{'questionText':{'type':_0x509207(0x69c)},'questionType':{'type':_0x509207(0x69c),'enum':['multiple_choice',_0x509207(0x6ac)]},'options':{'type':_0x509207(0x661),'items':{'type':_0x509207(0x69c)}},'correctAnswerIndex':{'type':_0x509207(0x58e)},'idealAnswer':{'type':_0x509207(0x69c)},'explanation':{'type':_0x509207(0x69c)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x509207(0x78e),_0x509207(0x6e0)]},_0x538e20={'type':_0x509207(0x1d7),'properties':{'topic':{'type':_0x509207(0x69c)},'questions':{'type':_0x509207(0x661),'items':_0x29b678}},'required':[_0x509207(0x3f8),_0x509207(0x218)]};await handleApiCall(_0x2875f7,_0x509207(0x638),_0x538e20);}catch(_0x34c13d){console['error'](_0x509207(0x4e6),_0x34c13d),showMessage(_0x509207(0x491)+_0x34c13d[_0x509207(0x73c)]),_0x190684[_0x509207(0x768)]=_0x509207(0x1e7);}finally{_0x50f5c9[_0x509207(0x110)][_0x509207(0x8fb)](_0x509207(0x6c1)),_0x1e19bb['disabled']=![];}}async function handleGenerateParallelFromBank(_0x34a3e7){const _0x9f7eb4=_0x13fc2f;switchProjectTab(_0x9f7eb4(0x698));const _0x238bce=document[_0x9f7eb4(0x21e)]('loader'),_0x505199=document[_0x9f7eb4(0x21e)](_0x9f7eb4(0x642)),_0x554275=document[_0x9f7eb4(0x21e)]('generated-quiz-container');document[_0x9f7eb4(0x21e)](_0x9f7eb4(0x260))[_0x9f7eb4(0x110)][_0x9f7eb4(0x892)](_0x9f7eb4(0x6c1)),_0x554275[_0x9f7eb4(0x768)]='',_0x238bce[_0x9f7eb4(0x110)][_0x9f7eb4(0x892)](_0x9f7eb4(0x6c1)),_0x505199[_0x9f7eb4(0x680)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x34a3e7['topic']+_0x9f7eb4(0x682);try{const _0x4c00e8=_0x34a3e7['questions'][_0x9f7eb4(0x924)]((_0x3238fc,_0x2fc034)=>{const _0xeed9ce=_0x9f7eb4;let _0x324548=_0x2fc034+0x1+'.\x20'+(_0x3238fc['questionText']||_0x3238fc[_0xeed9ce(0x700)])+'\x0a';if(_0x3238fc[_0xeed9ce(0x138)])_0x324548+=_0x3238fc[_0xeed9ce(0x138)][_0xeed9ce(0x924)]((_0x4a6465,_0x4c80ca)=>_0xeed9ce(0x8a8)+(_0x4c80ca===_0x3238fc[_0xeed9ce(0x455)]?'[*]':'')+'\x20'+_0x4a6465)[_0xeed9ce(0x408)]('\x0a');else _0x3238fc[_0xeed9ce(0x665)]&&(_0x324548+=_0xeed9ce(0x8d6)+_0x3238fc[_0xeed9ce(0x665)]);return _0x324548;})[_0x9f7eb4(0x408)]('\x0a\x0a');_0x505199[_0x9f7eb4(0x680)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x37c250=_0x34a3e7[_0x9f7eb4(0x218)][_0x9f7eb4(0x708)],_0x24057a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22'+_0x34a3e7['topic']+'\x22\x20ซึ่งมีทั้งหมด\x20'+_0x37c250+_0x9f7eb4(0x6af)+_0x4c00e8+_0x9f7eb4(0x82e)+_0x37c250+_0x9f7eb4(0x3e1)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x48cffa={'type':_0x9f7eb4(0x1d7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x9f7eb4(0x69c),'enum':['multiple_choice',_0x9f7eb4(0x6ac),_0x9f7eb4(0x69f),_0x9f7eb4(0x48c)]},'options':{'type':_0x9f7eb4(0x661),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x9f7eb4(0x58e)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x9f7eb4(0x866)},'stem':{'type':_0x9f7eb4(0x69c)},'correctResponse':{'type':_0x9f7eb4(0x69c)},'allResponses':{'type':_0x9f7eb4(0x661),'items':{'type':_0x9f7eb4(0x69c)}},'explanation':{'type':_0x9f7eb4(0x69c)},'imageCode':{'type':_0x9f7eb4(0x69c)}},'required':['questionText',_0x9f7eb4(0x78e),_0x9f7eb4(0x6e0)]},_0x5e5890={'type':_0x9f7eb4(0x1d7),'properties':{'topic':{'type':_0x9f7eb4(0x69c)},'questions':{'type':'ARRAY','items':_0x48cffa}},'required':[_0x9f7eb4(0x3f8),_0x9f7eb4(0x218)]},_0x36a181=await callAnalysisApi(_0x24057a,_0x5e5890);_0x36a181['questions'][_0x9f7eb4(0x708)]>_0x37c250&&(_0x36a181[_0x9f7eb4(0x218)]=_0x36a181['questions'][_0x9f7eb4(0x182)](0x0,_0x37c250)),_0x36a181['topic']=_0x9f7eb4(0x1ff)+_0x34a3e7['topic'],_0x36a181['quizType']=_0x34a3e7[_0x9f7eb4(0x5a4)],currentQuizData=_0x36a181,displayGeneratedQuiz(_0x36a181),document[_0x9f7eb4(0x21e)](_0x9f7eb4(0x219))[_0x9f7eb4(0x3ef)]({'behavior':'smooth'});}catch(_0x4ed158){console[_0x9f7eb4(0x5e9)](_0x9f7eb4(0x1b8),_0x4ed158),showMessage(_0x9f7eb4(0x491)+_0x4ed158[_0x9f7eb4(0x73c)]),_0x554275[_0x9f7eb4(0x768)]=_0x9f7eb4(0x1c1);}finally{_0x238bce[_0x9f7eb4(0x110)][_0x9f7eb4(0x8fb)](_0x9f7eb4(0x6c1));}}async function handleGenerateParallelPostTest(_0x20ca70){const _0x27b786=_0x13fc2f,_0x77482a=document['getElementById'](_0x27b786(0x42b)),_0x1cf7ca=document[_0x27b786(0x21e)](_0x27b786(0x6a5));_0x1cf7ca[_0x27b786(0x110)][_0x27b786(0x8fb)](_0x27b786(0x6c1));const _0x2c7648=_0x27b786(0x537);_0x77482a[_0x27b786(0x75d)](_0x27b786(0x816),_0x2c7648);try{const _0x513a50=_0x20ca70['questions'][_0x27b786(0x924)]((_0x2663b4,_0x1ea5fb)=>{const _0x13773b=_0x27b786;let _0x14d158=_0x1ea5fb+0x1+'.\x20'+(_0x2663b4['questionText']||_0x2663b4[_0x13773b(0x700)]);if(_0x2663b4['options'])_0x14d158+=_0x13773b(0x526)+_0x2663b4['options'][_0x13773b(0x408)](',\x20');return _0x14d158;})[_0x27b786(0x408)]('\x0a\x0a'),_0x23f58b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x20ca70[_0x27b786(0x3f8)]+_0x27b786(0x1a2)+_0x513a50+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5dca23={'type':_0x27b786(0x1d7),'properties':{'topic':{'type':_0x27b786(0x69c)},'questions':{'type':'ARRAY','items':{'type':_0x27b786(0x1d7),'properties':{'questionText':{'type':_0x27b786(0x69c)},'questionType':{'type':_0x27b786(0x69c)},'options':{'type':'ARRAY','items':{'type':_0x27b786(0x69c)}},'correctAnswerIndex':{'type':_0x27b786(0x58e)},'idealAnswer':{'type':_0x27b786(0x69c)},'explanation':{'type':'STRING'}},'required':[_0x27b786(0x777),_0x27b786(0x6e0)]}}},'required':['topic','questions']},_0x4e0557=await callAnalysisApi(_0x23f58b,_0x5dca23),_0xe017f3=_0x20ca70['topic'][_0x27b786(0x6dc)](_0x27b786(0x7be),'')[_0x27b786(0x8de)](),_0xb52366=_0x27b786(0x6c7)+_0xe017f3,_0x4af8d0={..._0x4e0557,'topic':_0xb52366,'quizType':_0x20ca70[_0x27b786(0x5a4)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x27b786(0x44c)](),'status':'active','settings':_0x20ca70[_0x27b786(0x168)],'quizMode':_0x27b786(0x4c5),'pairedQuizId':_0x20ca70['id']};let _0x345353;while(!![]){_0x345353=Math[_0x27b786(0x325)](0x3e8+Math['random']()*0x2328)['toString']();const _0x58c511=await getDoc(doc(db,_0x27b786(0x709)+appId+_0x27b786(0x51e),_0x345353));if(!_0x58c511[_0x27b786(0x610)]())break;}await setDoc(doc(db,_0x27b786(0x709)+appId+_0x27b786(0x51e),_0x345353),_0x4af8d0);const _0x5c6b01=doc(db,'artifacts/'+appId+_0x27b786(0x51e),_0x20ca70['id']);await updateDoc(_0x5c6b01,{'pairedQuizId':_0x345353}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x209f27){console[_0x27b786(0x5e9)](_0x27b786(0x869),_0x209f27),showMessage(_0x27b786(0x491)+_0x209f27[_0x27b786(0x73c)]);}finally{const _0x3c26ce=document['getElementById'](_0x27b786(0x483));if(_0x3c26ce)_0x3c26ce[_0x27b786(0x892)]();_0x1cf7ca[_0x27b786(0x110)][_0x27b786(0x892)](_0x27b786(0x6c1));}}async function handleGenerateParallelTest(){const _0x79f69a=_0x13fc2f,_0x2cefa6=document[_0x79f69a(0x21e)](_0x79f69a(0x5c8)),_0x34ab30=_0x2cefa6[_0x79f69a(0x74d)][0x0];if(!_0x34ab30){showMessage(_0x79f69a(0x818));return;}const _0x1dd3ce=document[_0x79f69a(0x21e)](_0x79f69a(0x21f)),_0x102659=document[_0x79f69a(0x21e)](_0x79f69a(0x642)),_0x2e65f8=document['getElementById'](_0x79f69a(0x84c)),_0x3028cf=document[_0x79f69a(0x21e)](_0x79f69a(0x57e));_0x3028cf[_0x79f69a(0x506)]=!![],document[_0x79f69a(0x21e)](_0x79f69a(0x260))['classList'][_0x79f69a(0x892)]('hidden'),_0x2e65f8[_0x79f69a(0x768)]='',_0x1dd3ce[_0x79f69a(0x110)][_0x79f69a(0x892)]('hidden'),_0x102659[_0x79f69a(0x680)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x460379=await extractTextFromPdf(_0x34ab30);if(!_0x460379[_0x79f69a(0x8de)]())throw new Error(_0x79f69a(0x7b7));_0x102659['textContent']=_0x79f69a(0x6e6);const _0x420931=document[_0x79f69a(0x21e)]('include-images-checkbox')['checked'],_0x2e441c=_0x420931?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x40a04d=_0x79f69a(0x3d1)+_0x460379+_0x79f69a(0x420)+_0x2e441c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x79f69a(0x558),_0x561539={'type':_0x79f69a(0x1d7),'properties':{'questionText':{'type':_0x79f69a(0x69c)},'questionType':{'type':_0x79f69a(0x69c),'enum':[_0x79f69a(0x8f6),_0x79f69a(0x6ac)]},'options':{'type':'ARRAY','items':{'type':_0x79f69a(0x69c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x79f69a(0x69c)},'explanation':{'type':_0x79f69a(0x69c)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x79f69a(0x78e),'explanation']},_0x381f77={'type':_0x79f69a(0x1d7),'properties':{'topic':{'type':_0x79f69a(0x69c)},'questions':{'type':_0x79f69a(0x661),'items':_0x561539}},'required':[_0x79f69a(0x3f8),_0x79f69a(0x218)]};await handleApiCall(_0x40a04d,_0x79f69a(0x4e9),_0x381f77);}catch(_0x23a0f9){console[_0x79f69a(0x5e9)](_0x79f69a(0x6bb),_0x23a0f9),showMessage('เกิดข้อผิดพลาด:\x20'+_0x23a0f9[_0x79f69a(0x73c)]),_0x2e65f8[_0x79f69a(0x768)]=_0x79f69a(0x1c1);}finally{_0x1dd3ce['classList'][_0x79f69a(0x8fb)]('hidden'),_0x3028cf['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x2780e2){const _0xbc1477=_0x13fc2f;if(currentEditingQuizData===null)return;const _0xd3e0ec=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x2780e2+'\x22]');_0xd3e0ec&&(_0xd3e0ec['innerHTML']=_0xbc1477(0x797));const _0xbe5703=currentEditingQuizData[_0xbc1477(0x218)][_0x2780e2],_0x1676be=currentEditingQuizData[_0xbc1477(0x3f8)],_0x302909=_0xbe5703[_0xbc1477(0x78e)],_0x2b788a={'type':_0xbc1477(0x1d7),'properties':{'questionText':{'type':_0xbc1477(0x69c)},'options':{'type':_0xbc1477(0x661),'items':{'type':_0xbc1477(0x69c)}},'correctAnswerIndex':{'type':_0xbc1477(0x58e)},'explanation':{'type':_0xbc1477(0x69c)}},'required':[_0xbc1477(0x777),_0xbc1477(0x138),_0xbc1477(0x455),_0xbc1477(0x6e0)]},_0x523803={'type':_0xbc1477(0x1d7),'properties':{'questionText':{'type':_0xbc1477(0x69c)},'idealAnswer':{'type':_0xbc1477(0x69c)},'explanation':{'type':_0xbc1477(0x69c)}},'required':[_0xbc1477(0x777),'idealAnswer',_0xbc1477(0x6e0)]};let _0x2b6ad8,_0x3074e1='';_0x302909===_0xbc1477(0x8f6)?(_0x2b6ad8=_0x2b788a,_0x3074e1=_0xbc1477(0x6fe)):(_0x2b6ad8=_0x523803,_0x3074e1='แบบเติมคำตอบ');const _0x4badb3=_0xbc1477(0x357)+_0x1676be+_0xbc1477(0x5da)+_0x3074e1+_0xbc1477(0x691)+(_0xbe5703[_0xbc1477(0x777)]||_0xbe5703['stem'])+_0xbc1477(0x2e6)+simpleMathPrompt;try{const _0xe027b0=await callAnalysisApi(_0x4badb3,_0x2b6ad8);currentEditingQuizData['questions'][_0x2780e2]={..._0xbe5703,..._0xe027b0},renderQuizEditor(currentEditingQuizData);}catch(_0x885b7e){console[_0xbc1477(0x5e9)](_0xbc1477(0x5e3),_0x885b7e),showMessage(_0xbc1477(0x43b)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5dfc21=_0x13fc2f,_0x3f3612=document['getElementById'](_0x5dfc21(0x71a));currentMode===_0x5dfc21(0x84d)?(currentMode='admin',_0x3f3612[_0x5dfc21(0x768)]=_0x5dfc21(0x54f),_0x3f3612[_0x5dfc21(0x3fe)]=_0x5dfc21(0x45d),showView(_0x5dfc21(0x8b9))):(currentMode=_0x5dfc21(0x84d),_0x3f3612[_0x5dfc21(0x768)]=_0x5dfc21(0x7af),_0x3f3612['title']=_0x5dfc21(0x275),showView('student'));}function handleAdminLogin(){const _0x3b7561=_0x13fc2f,_0x31ebb1=document[_0x3b7561(0x21e)](_0x3b7561(0x6d3)),_0x1a1a9d=document[_0x3b7561(0x21e)](_0x3b7561(0x5c5));if(_0x31ebb1['value']===_0x3b7561(0x435)){adminPasswordModal['classList']['add'](_0x3b7561(0x6c1)),_0x31ebb1[_0x3b7561(0x24a)]='',_0x1a1a9d[_0x3b7561(0x110)][_0x3b7561(0x8fb)](_0x3b7561(0x6c1)),currentMode=_0x3b7561(0x725);const _0x17cbc1=document['getElementById'](_0x3b7561(0x71a));_0x17cbc1['innerHTML']=_0x3b7561(0x54f),_0x17cbc1['title']=_0x3b7561(0x45d),showView(_0x3b7561(0x8b9));}else _0x1a1a9d['classList'][_0x3b7561(0x892)](_0x3b7561(0x6c1)),_0x31ebb1[_0x3b7561(0x24a)]='';}function switchProjectTab(_0x806829){const _0x249384=_0x13fc2f;[_0x249384(0x698),_0x249384(0x36a),_0x249384(0x321)]['forEach'](_0x6e1902=>{const _0x18d5dd=_0x249384;document[_0x18d5dd(0x21e)](_0x6e1902+'-tab')[_0x18d5dd(0x110)][_0x18d5dd(0x892)]('active'),document[_0x18d5dd(0x21e)](_0x6e1902+_0x18d5dd(0x108))[_0x18d5dd(0x110)][_0x18d5dd(0x8fb)](_0x18d5dd(0x6c1));}),document[_0x249384(0x21e)](_0x806829+_0x249384(0x793))['classList'][_0x249384(0x8fb)](_0x249384(0x782)),document[_0x249384(0x21e)](_0x806829+_0x249384(0x108))[_0x249384(0x110)][_0x249384(0x892)]('hidden');}function switchQuizDetailTab(_0xe8f6d1){const _0x5322a0=_0x13fc2f,_0x3aee3e={'analytics':{'btn':'analytics-tab-btn','content':'analytics-tab-content'},'scores':{'btn':_0x5322a0(0x888),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x5322a0(0x7d7),'content':_0x5322a0(0x1cd)},'behavior-log':{'btn':_0x5322a0(0x78d),'content':'behavior-log-tab-content'}};for(const _0xbc6211 in _0x3aee3e){document['getElementById'](_0x3aee3e[_0xbc6211][_0x5322a0(0x914)])['classList'][_0x5322a0(0x892)](_0x5322a0(0x782)),document[_0x5322a0(0x21e)](_0x3aee3e[_0xbc6211][_0x5322a0(0x679)])[_0x5322a0(0x110)]['add'](_0x5322a0(0x6c1));}document[_0x5322a0(0x21e)](_0x3aee3e[_0xe8f6d1][_0x5322a0(0x914)])[_0x5322a0(0x110)][_0x5322a0(0x8fb)](_0x5322a0(0x782)),document[_0x5322a0(0x21e)](_0x3aee3e[_0xe8f6d1][_0x5322a0(0x679)])['classList']['remove'](_0x5322a0(0x6c1));}function showMessage(_0x327c0c,_0x2d0a23=null){const _0x12d246=_0x13fc2f;modalMessage[_0x12d246(0x680)]=_0x327c0c,modalConfirmAction=_0x2d0a23,messageModal['classList'][_0x12d246(0x892)]('hidden');}function showConfirmation(_0x230cd5,_0x9697a2){const _0x25969e=_0x13fc2f;document[_0x25969e(0x21e)](_0x25969e(0x599))[_0x25969e(0x680)]=_0x230cd5,document[_0x25969e(0x21e)](_0x25969e(0xe3))['querySelector']('h3')[_0x25969e(0x680)]='ยืนยันการกระทำ',confirmAction=_0x9697a2,confirmationModal['classList']['remove']('hidden');}function listenForProjects(){const _0x2901e1=_0x13fc2f,_0x5ca4f8=doc(db,_0x2901e1(0x464),_0x2901e1(0x39b));onSnapshot(_0x5ca4f8,_0x6e68b7=>{const _0x4736e9=_0x2901e1;if(_0x6e68b7['exists']()){const _0x48022e=_0x6e68b7[_0x4736e9(0x7ed)]();globalDashboardSettings[_0x4736e9(0x696)]=_0x48022e[_0x4736e9(0x696)]||_0x4736e9(0x7a2),globalDashboardSettings[_0x4736e9(0x6e2)]=_0x48022e[_0x4736e9(0x6e2)]||[],globalDashboardSettings[_0x4736e9(0x1ab)]=_0x48022e['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x2e4ad4=collection(db,_0x2901e1(0x709)+appId+_0x2901e1(0x8df));unsubscribeProjectsListener=onSnapshot(_0x2e4ad4,_0x2abe4e=>{const _0x30eba9=_0x2901e1;allProjects=_0x2abe4e[_0x30eba9(0x369)]['map'](_0x5edbc8=>({'id':_0x5edbc8['id'],..._0x5edbc8[_0x30eba9(0x7ed)]()})),renderProjects();},_0xa65af3=>{const _0x8004a7=_0x2901e1;console['error'](_0x8004a7(0x686),_0xa65af3),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x7181a3,_0x2da5e1){const _0x3e8a87=_0x13fc2f;document[_0x3e8a87(0x1af)]('.color-palette-popup')[_0x3e8a87(0x121)](_0x3bbb1f=>_0x3bbb1f[_0x3e8a87(0x892)]());const _0x28cf68=[_0x3e8a87(0x139),_0x3e8a87(0x19a),'#FEF3C7',_0x3e8a87(0xde),_0x3e8a87(0x3be),'#E0E7FF',_0x3e8a87(0x184),_0x3e8a87(0x864),_0x3e8a87(0x354)],_0xb86f4f=document['createElement'](_0x3e8a87(0x5e2));_0xb86f4f[_0x3e8a87(0x83a)]=_0x3e8a87(0x814),_0x28cf68[_0x3e8a87(0x121)](_0x27fa7c=>{const _0x2d3e8b=_0x3e8a87,_0x122e09=document[_0x2d3e8b(0x511)](_0x2d3e8b(0x5e2));_0x122e09[_0x2d3e8b(0x83a)]=_0x2d3e8b(0x80b),_0x122e09['style'][_0x2d3e8b(0x1d3)]=_0x27fa7c,_0x122e09[_0x2d3e8b(0xfd)](_0x2d3e8b(0x3bd),()=>{const _0x47fa61=_0x2d3e8b;handleProjectColorChange(_0x2da5e1,_0x27fa7c),_0xb86f4f[_0x47fa61(0x892)]();}),_0xb86f4f[_0x2d3e8b(0x689)](_0x122e09);}),document['body'][_0x3e8a87(0x689)](_0xb86f4f);const _0x4cc02b=_0x7181a3[_0x3e8a87(0x280)]();_0xb86f4f[_0x3e8a87(0x124)][_0x3e8a87(0x370)]=_0x4cc02b['bottom']+window['scrollY']+'px',_0xb86f4f[_0x3e8a87(0x124)]['left']=_0x4cc02b[_0x3e8a87(0x1cf)]+window['scrollX']-_0xb86f4f['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x264cc2,_0xfcfaa1){const _0x927eb=_0x13fc2f,_0x463f1b=doc(db,'artifacts/'+appId+_0x927eb(0x8df),_0x264cc2);try{await updateDoc(_0x463f1b,{'color':_0xfcfaa1});}catch(_0x5230df){console['error']('Error\x20updating\x20project\x20color:',_0x5230df),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x94b09e=_0x13fc2f,_0x228038=globalDashboardSettings[_0x94b09e(0x696)]||_0x94b09e(0x7a2),_0x4691d7=new Set(globalDashboardSettings[_0x94b09e(0x6e2)]||[]),_0x3a43c2=globalDashboardSettings[_0x94b09e(0x215)]||_0x94b09e(0x438),_0x51accc=document[_0x94b09e(0x21e)](_0x94b09e(0x251)),_0x108c99=document['getElementById'](_0x94b09e(0x89c));_0x51accc['classList']['toggle'](_0x94b09e(0x782),_0x3a43c2===_0x94b09e(0x438)),_0x108c99[_0x94b09e(0x110)][_0x94b09e(0x80d)](_0x94b09e(0x782),_0x3a43c2==='list'),document[_0x94b09e(0x21e)]('project-sort-select')['value']=_0x228038;const _0x2c37c4=document[_0x94b09e(0x21e)]('project-search-input')[_0x94b09e(0x24a)]['toLowerCase']();let _0x36f962=allProjects[_0x94b09e(0x17f)](_0x45902e=>_0x45902e[_0x94b09e(0x3d5)]['toLowerCase']()[_0x94b09e(0x1be)](_0x2c37c4));const _0x5d74f5=_0x36f962[_0x94b09e(0x17f)](_0x5b196f=>_0x4691d7['has'](_0x5b196f['id'])),_0x5e4cb3=_0x36f962[_0x94b09e(0x17f)](_0x329a72=>!_0x4691d7[_0x94b09e(0x7c0)](_0x329a72['id'])),_0x5e7d59=(_0x139bac,_0x1a99c5)=>{const _0x5ba282=_0x94b09e;switch(_0x228038){case _0x5ba282(0x223):return _0x139bac[_0x5ba282(0x3d5)][_0x5ba282(0x787)](_0x1a99c5[_0x5ba282(0x3d5)],'th');case _0x5ba282(0x4e2):return _0x1a99c5[_0x5ba282(0x3d5)][_0x5ba282(0x787)](_0x139bac[_0x5ba282(0x3d5)],'th');case'date_asc':return new Date(_0x139bac[_0x5ba282(0x60c)])-new Date(_0x1a99c5[_0x5ba282(0x60c)]);default:return new Date(_0x1a99c5[_0x5ba282(0x60c)])-new Date(_0x139bac[_0x5ba282(0x60c)]);}};_0x5d74f5[_0x94b09e(0x212)](_0x5e7d59),_0x5e4cb3[_0x94b09e(0x212)](_0x5e7d59);const _0x431cc4=[..._0x5d74f5,..._0x5e4cb3],_0x55a855=globalDashboardSettings[_0x94b09e(0x1ab)]||[];_0x55a855[_0x94b09e(0x708)]>0x0&&_0x3a43c2==='grid'&&_0x431cc4[_0x94b09e(0x212)]((_0x21a131,_0x45ec99)=>{const _0x7cb27b=_0x94b09e,_0x3476db=_0x55a855[_0x7cb27b(0x308)](_0x21a131['id']),_0x52d9cd=_0x55a855[_0x7cb27b(0x308)](_0x45ec99['id']);if(_0x3476db===-0x1)return 0x1;if(_0x52d9cd===-0x1)return-0x1;return _0x3476db-_0x52d9cd;});const _0x42ecdf={};await Promise[_0x94b09e(0x80a)](_0x431cc4['map'](async _0x48e51d=>{const _0x1f9a0e=_0x94b09e,_0x50f2ec=query(collection(db,_0x1f9a0e(0x709)+appId+'/public/data/quizzes'),where(_0x1f9a0e(0x779),'==',_0x48e51d['id'])),_0x15637b=await getDocs(_0x50f2ec);_0x42ecdf[_0x48e51d['id']]=_0x15637b['size'];}));const _0x14e00e=document[_0x94b09e(0x21e)]('project-list');let _0x1ea715='';if(_0x3a43c2===_0x94b09e(0x438)){_0x14e00e[_0x94b09e(0x83a)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x94b09e(0x708)]>0x0&&_0x2c37c4===''){const _0x5a9ad2=starredQuizzes['map'](_0x587daf=>{const _0x4f938a=_0x94b09e,_0x428a51=allProjects[_0x4f938a(0x75b)](_0x2e190d=>_0x2e190d['id']===_0x587daf['projectId']);return{..._0x587daf,'projectName':_0x428a51?_0x428a51[_0x4f938a(0x3d5)]:_0x4f938a(0x808)};});_0x1ea715+=_0x94b09e(0x6e1)+_0x5a9ad2['map'](_0x265a35=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x265a35[_0x94b09e(0x3f8)]+'\x22>'+_0x265a35['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x265a35[_0x94b09e(0x3d5)]+_0x94b09e(0x416)+_0x265a35['projectName']+_0x94b09e(0x44a))[_0x94b09e(0x408)]('')+_0x94b09e(0x87c)+starredQuizzes[_0x94b09e(0x708)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x431cc4[_0x94b09e(0x121)](_0x50cee4=>{const _0x4b23f5=_0x94b09e,_0x31c58b=_0x42ecdf[_0x50cee4['id']]??0x0,_0xa11a21=_0x4691d7[_0x4b23f5(0x7c0)](_0x50cee4['id']),_0x2230a2=_0x50cee4[_0x4b23f5(0x625)]||_0x4b23f5(0x139),_0x46ccc9=parseInt(_0x2230a2[_0x4b23f5(0x7ab)](0x1,0x3),0x10)*0.299+parseInt(_0x2230a2[_0x4b23f5(0x7ab)](0x3,0x5),0x10)*0.587+parseInt(_0x2230a2[_0x4b23f5(0x7ab)](0x5,0x7),0x10)*0.114<0xba,_0x5d27a8=_0x46ccc9?_0x4b23f5(0x7ac):_0x4b23f5(0x3f7),_0x13466e=_0x46ccc9?_0x4b23f5(0x40b):_0x4b23f5(0x4b8);_0x1ea715+=_0x4b23f5(0xe7)+(_0xa11a21?_0x4b23f5(0x52b):_0x4b23f5(0x5b3))+_0x4b23f5(0x27a)+_0x2230a2+_0x4b23f5(0x659)+_0x50cee4['id']+_0x4b23f5(0x303)+_0x50cee4['id']+_0x4b23f5(0x284)+(_0x46ccc9?_0x4b23f5(0x391):_0x4b23f5(0x8aa))+_0x4b23f5(0x681)+_0x50cee4['id']+_0x4b23f5(0x367)+(_0x46ccc9?_0x4b23f5(0x391):_0x4b23f5(0x8aa))+_0x4b23f5(0x905)+(_0xa11a21?_0x46ccc9?'text-yellow-300':_0x4b23f5(0x157):'')+_0x4b23f5(0x19e)+_0x50cee4['id']+_0x4b23f5(0x692)+_0x5d27a8+_0x4b23f5(0x6a9)+_0x50cee4['projectName']+_0x4b23f5(0x7c8)+_0x13466e+_0x4b23f5(0x8e1)+new Date(_0x50cee4[_0x4b23f5(0x60c)])[_0x4b23f5(0x596)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x46ccc9?_0x4b23f5(0x3a6):_0x4b23f5(0x193))+_0x4b23f5(0x7b1)+_0x31c58b+_0x4b23f5(0x23b)+_0x50cee4['id']+_0x4b23f5(0x5db)+_0x50cee4['projectName']+_0x4b23f5(0x1fe)+(_0x46ccc9?_0x4b23f5(0x1a9):_0x4b23f5(0x38b))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x14e00e[_0x94b09e(0x83a)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x94b09e(0x708)]>0x0&&_0x2c37c4===''&&(_0x1ea715+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x94b09e(0x708)]+_0x94b09e(0x903)),_0x1ea715+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x431cc4[_0x94b09e(0x121)](_0x5aa60f=>{const _0x38b463=_0x94b09e,_0x66cbbc=_0x42ecdf[_0x5aa60f['id']]??0x0,_0x305c5f=_0x4691d7[_0x38b463(0x7c0)](_0x5aa60f['id']);_0x1ea715+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x5aa60f[_0x38b463(0x625)]||_0x38b463(0x354))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x5aa60f['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x5aa60f[_0x38b463(0x3d5)]+_0x38b463(0x22f)+_0x66cbbc+_0x38b463(0x338)+new Date(_0x5aa60f[_0x38b463(0x60c)])[_0x38b463(0x164)](_0x38b463(0x832))+_0x38b463(0x828)+_0x5aa60f['id']+_0x38b463(0x8f8)+(_0x305c5f?'text-indigo-600':'')+_0x38b463(0x7df)+_0x5aa60f['id']+_0x38b463(0x5db)+_0x5aa60f[_0x38b463(0x3d5)]+_0x38b463(0x5f0);});projectList[_0x94b09e(0x768)]=_0x1ea715,noProjectsMsg['classList']['toggle']('hidden',_0x1ea715[_0x94b09e(0x708)]>0x0);}document[_0x13fc2f(0x21e)](_0x13fc2f(0x84a))['addEventListener'](_0x13fc2f(0x3bd),async()=>{const _0x32023a=_0x13fc2f,_0x150c5d=document[_0x32023a(0x21e)]('project-name-input'),_0x5294f4=_0x150c5d[_0x32023a(0x24a)][_0x32023a(0x8de)]();if(!_0x5294f4){showMessage(_0x32023a(0x722));return;}try{const _0x166f59=doc(collection(db,'artifacts/'+appId+_0x32023a(0x8df)));await setDoc(_0x166f59,{'projectName':_0x5294f4,'students':[],'settings':{'resultsDisplay':_0x32023a(0x4dc),'shuffleSetting':_0x32023a(0x1fb),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x32023a(0x1fb),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x32023a(0x44c)]()}),_0x150c5d[_0x32023a(0x24a)]='',createProjectModal[_0x32023a(0x110)][_0x32023a(0x8fb)](_0x32023a(0x6c1)),showMessage(_0x32023a(0x536));}catch(_0x1c5d45){console[_0x32023a(0x5e9)](_0x32023a(0x256),_0x1c5d45),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x13fc2f(0xfd)](_0x13fc2f(0x3bd),async _0x216b1f=>{const _0x232930=_0x13fc2f,_0x324047=_0x216b1f[_0x232930(0x456)]['closest'](_0x232930(0x209)),_0x12b01d=_0x216b1f[_0x232930(0x456)]['closest']('.delete-project-btn'),_0x3bce2f=_0x216b1f[_0x232930(0x456)][_0x232930(0x4cd)](_0x232930(0x1dd)),_0xd0117d=_0x216b1f[_0x232930(0x456)]['closest']('.color-palette-btn');if(_0x3bce2f){const _0x4a62cf=_0x3bce2f[_0x232930(0x3ca)]['id'],_0x484317=doc(db,_0x232930(0x464),_0x232930(0x39b)),_0xbb404e=globalDashboardSettings[_0x232930(0x6e2)];let _0x475030;_0xbb404e[_0x232930(0x1be)](_0x4a62cf)?_0x475030=_0xbb404e[_0x232930(0x17f)](_0x3511aa=>_0x3511aa!==_0x4a62cf):_0x475030=[..._0xbb404e,_0x4a62cf];try{await setDoc(_0x484317,{'pinnedProjects':_0x475030},{'merge':!![]});}catch(_0x390f6a){console[_0x232930(0x5e9)]('Error\x20updating\x20pin\x20status:',_0x390f6a),showMessage(_0x232930(0x207));}}else{if(_0xd0117d){const _0x95d092=_0xd0117d['dataset']['id'];showColorPalette(_0xd0117d,_0x95d092);}else{if(_0x324047){const _0x508a29=_0x324047['dataset']['id'];_0x508a29===_0x232930(0x53a)?showStarredProjectView():(currentProjectId=_0x508a29,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x12b01d){const _0x5aa319=_0x12b01d['dataset']['id'],_0x4cddc8=_0x12b01d[_0x232930(0x3ca)][_0x232930(0x763)];showConfirmation(_0x232930(0x35c)+_0x4cddc8+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x5aa319));}}}}}),projectList['addEventListener'](_0x13fc2f(0x54d),_0x27bb9b=>{const _0x4415a7=_0x13fc2f,_0x31abf6=_0x27bb9b['target']['closest'](_0x4415a7(0x24c));_0x31abf6&&_0x31abf6[_0x4415a7(0x110)][_0x4415a7(0x8fb)](_0x4415a7(0x1d9));}),projectList[_0x13fc2f(0xfd)](_0x13fc2f(0x8a5),_0x9013c=>{const _0x5e72ec=_0x13fc2f,_0x1d4b3c=_0x9013c[_0x5e72ec(0x456)][_0x5e72ec(0x4cd)]('.project-card-container');_0x1d4b3c&&_0x1d4b3c[_0x5e72ec(0x110)]['remove']('opacity-50');}),projectList[_0x13fc2f(0xfd)](_0x13fc2f(0x7fa),_0x3c8d85=>{const _0x1649a9=_0x13fc2f;_0x3c8d85[_0x1649a9(0x60a)]();const _0x471773=document[_0x1649a9(0x920)](_0x1649a9(0x67b));if(!_0x471773)return;const _0x228e7d=getDragAfterElement(projectList,_0x3c8d85[_0x1649a9(0x8b8)]);_0x228e7d==null?projectList[_0x1649a9(0x689)](_0x471773):projectList[_0x1649a9(0x1dc)](_0x471773,_0x228e7d);}),projectList['addEventListener'](_0x13fc2f(0x838),_0x5ca7a6=>{const _0x25628a=_0x13fc2f;_0x5ca7a6[_0x25628a(0x60a)]();const _0x9e5139=[...projectList[_0x25628a(0x1af)](_0x25628a(0x1b4))][_0x25628a(0x924)](_0x4f4e07=>_0x4f4e07[_0x25628a(0x3ca)]['id']);saveProjectOrder(_0x9e5139);});function renderBehaviorLog(_0x50ddff){const _0x1c3bed=_0x13fc2f,_0x4433b2=document['getElementById'](_0x1c3bed(0x563));if(!_0x4433b2)return;const _0x2f40a=_0x50ddff[_0x1c3bed(0x17f)](_0x5eb03f=>_0x5eb03f[_0x1c3bed(0x7a1)]&&_0x5eb03f[_0x1c3bed(0x7a1)][_0x1c3bed(0x708)]>0x0);if(_0x2f40a[_0x1c3bed(0x708)]===0x0){_0x4433b2[_0x1c3bed(0x768)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x48f6ba='';_0x2f40a[_0x1c3bed(0x121)](_0x2a2e0e=>{const _0x42d829=_0x1c3bed;_0x48f6ba+=_0x42d829(0x20c)+_0x2a2e0e[_0x42d829(0x6b5)]+_0x42d829(0x1b9),_0x2a2e0e[_0x42d829(0x7a1)][_0x42d829(0x212)]((_0x3ee987,_0x502e75)=>new Date(_0x502e75[_0x42d829(0x244)])-new Date(_0x3ee987[_0x42d829(0x244)]))[_0x42d829(0x121)](_0x1dcc5d=>{const _0x9156c9=_0x42d829,_0x3a0256=new Date(_0x1dcc5d[_0x9156c9(0x244)])[_0x9156c9(0x164)](_0x9156c9(0x832),{'dateStyle':'short','timeStyle':_0x9156c9(0x929)});_0x48f6ba+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x1dcc5d[_0x9156c9(0x486)]+_0x9156c9(0x6a0)+_0x3a0256+_0x9156c9(0x2a0);}),_0x48f6ba+=_0x42d829(0x1cb);}),_0x4433b2['innerHTML']=_0x48f6ba;}function getDragAfterElement(_0x4949ae,_0x21aac1){const _0x1ed6f5=_0x13fc2f,_0x3b6976=[..._0x4949ae[_0x1ed6f5(0x1af)]('.project-card-container:not(.opacity-50)')];return _0x3b6976[_0x1ed6f5(0x396)]((_0x5ebd85,_0x3dc6b2)=>{const _0x54939f=_0x1ed6f5,_0x20887d=_0x3dc6b2['getBoundingClientRect'](),_0x17c5b4=_0x21aac1-_0x20887d[_0x54939f(0x370)]-_0x20887d[_0x54939f(0x2d8)]/0x2;return _0x17c5b4<0x0&&_0x17c5b4>_0x5ebd85[_0x54939f(0x809)]?{'offset':_0x17c5b4,'element':_0x3dc6b2}:_0x5ebd85;},{'offset':Number[_0x1ed6f5(0x670)]})[_0x1ed6f5(0x532)];}async function saveProjectOrder(_0x58f560){const _0x25d75b=_0x13fc2f,_0x5c36bc=doc(db,_0x25d75b(0x464),_0x25d75b(0x39b));try{await setDoc(_0x5c36bc,{'projectOrder':_0x58f560},{'merge':!![]});}catch(_0x3116cc){console[_0x25d75b(0x5e9)]('Error\x20saving\x20project\x20order:',_0x3116cc),showMessage(_0x25d75b(0x735));}}async function logBehaviorEvent(_0x5f24a3,_0x47a0a8={}){const _0x229915=_0x13fc2f;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x229915(0x22c)](_0x229915(0x4db));return;}const _0x3b36ed=doc(db,_0x229915(0x709)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions',currentStudentName),_0x201a5a={'event':_0x5f24a3,'timestamp':new Date()[_0x229915(0x44c)](),..._0x47a0a8};try{await updateDoc(_0x3b36ed,{'behaviorLog':arrayUnion(_0x201a5a)}),console[_0x229915(0x2de)](_0x229915(0x58b)+currentStudentName+_0x229915(0x1eb));}catch(_0x3cf8c7){_0x3cf8c7[_0x229915(0x154)]==='not-found'?console[_0x229915(0x22c)](_0x229915(0x7a6)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x229915(0x5e9)](_0x229915(0x3c0),_0x3cf8c7);}}function calculateMeanAndStdDev(_0x578036){const _0x3404f5=_0x13fc2f;if(_0x578036[_0x3404f5(0x708)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x43e7c8=_0x578036[_0x3404f5(0x396)]((_0x1dea81,_0x3d0edd)=>_0x1dea81+_0x3d0edd,0x0)/_0x578036['length'];if(_0x578036['length']===0x1)return{'mean':_0x43e7c8,'stdDev':0x0};const _0x1ded5b=Math[_0x3404f5(0x42a)](_0x578036[_0x3404f5(0x924)](_0x33cdcf=>Math[_0x3404f5(0x224)](_0x33cdcf-_0x43e7c8,0x2))[_0x3404f5(0x396)]((_0x2aab95,_0x2df8e2)=>_0x2aab95+_0x2df8e2,0x0)/(_0x578036['length']-0x1));return{'mean':_0x43e7c8,'stdDev':_0x1ded5b};}function calculateZScore(_0x185a56,_0x2264bb,_0x27deea){if(_0x27deea===0x0)return 0x0;return(_0x185a56-_0x2264bb)/_0x27deea;}function calculateTScore(_0x102ca5){return 0xa*_0x102ca5+0x32;}function showStarredProjectView(){const _0x4f6b7f=_0x13fc2f;currentProjectId=_0x4f6b7f(0x27b),currentProjectData=null,projectTitle[_0x4f6b7f(0x680)]=_0x4f6b7f(0x372),projectIdDisplay['textContent']=_0x4f6b7f(0x507),showView(_0x4f6b7f(0x473)),manageTab[_0x4f6b7f(0x110)][_0x4f6b7f(0x8fb)](_0x4f6b7f(0x6c1)),leaderboardTab[_0x4f6b7f(0x110)][_0x4f6b7f(0x8fb)](_0x4f6b7f(0x6c1)),switchProjectTab(_0x4f6b7f(0x36a)),renderQuizzes();}async function loadProjectDetails(_0x261838){const _0x10b019=_0x13fc2f,_0x387fc3=doc(db,_0x10b019(0x709)+appId+_0x10b019(0x8df),_0x261838),_0x127cbf=await getDoc(_0x387fc3);if(_0x127cbf[_0x10b019(0x610)]()){manageTab[_0x10b019(0x110)][_0x10b019(0x892)](_0x10b019(0x6c1)),leaderboardTab[_0x10b019(0x110)][_0x10b019(0x892)](_0x10b019(0x6c1)),currentProjectData=_0x127cbf[_0x10b019(0x7ed)](),projectTitle[_0x10b019(0x680)]=currentProjectData[_0x10b019(0x3d5)],projectIdDisplay[_0x10b019(0x680)]=_0x261838;const _0x2c1aeb=currentProjectData['settings']||{};document[_0x10b019(0x21e)](_0x10b019(0x879))['value']=_0x2c1aeb[_0x10b019(0x7c1)]||_0x10b019(0x1fb);const _0x101237=document[_0x10b019(0x21e)](_0x10b019(0x5e1));_0x101237[_0x10b019(0x780)]=_0x2c1aeb[_0x10b019(0x77a)]!==![];const _0x4fc2c6=document[_0x10b019(0x21e)](_0x10b019(0x49b)),_0x3d1509=document[_0x10b019(0x21e)](_0x10b019(0x225)),_0x35af35=document['getElementById'](_0x10b019(0x662)),_0x159690=_0x2c1aeb['isPasscodeEnabled']||![];_0x4fc2c6[_0x10b019(0x780)]=_0x159690,_0x35af35[_0x10b019(0x24a)]=_0x2c1aeb['passcode']||'',_0x3d1509['classList']['toggle']('hidden',!_0x159690),_0x4fc2c6[_0x10b019(0x6f2)]=()=>{const _0x386329=_0x10b019;_0x3d1509[_0x386329(0x110)][_0x386329(0x80d)](_0x386329(0x6c1),!_0x4fc2c6[_0x386329(0x780)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x261838),listenForProjectQuizzes(_0x261838),listenForStudentProfiles(_0x261838);}else showMessage(_0x10b019(0x346)),showView(_0x10b019(0x8b9));}async function handleResetProjectOrder(){const _0x2c89fc=_0x13fc2f,_0x32fce7=doc(db,_0x2c89fc(0x464),'dashboardConfig');try{await setDoc(_0x32fce7,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x2c89fc(0x7f5));}catch(_0x29f61d){console[_0x2c89fc(0x5e9)]('Error\x20resetting\x20project\x20order:',_0x29f61d),showMessage(_0x2c89fc(0x243));}}async function handleTogglePinProject(_0x18d867){const _0x1a1416=_0x13fc2f;if(!_0x18d867)return;const _0x1b4f03=doc(db,_0x1a1416(0x709)+appId+_0x1a1416(0x8df),_0x18d867);try{const _0x1cb1d6=await getDoc(_0x1b4f03);if(_0x1cb1d6['exists']()){const _0x1c7467=_0x1cb1d6[_0x1a1416(0x7ed)]()['isPinned']||![];await updateDoc(_0x1b4f03,{'isPinned':!_0x1c7467});}}catch(_0x56aa6e){console[_0x1a1416(0x5e9)](_0x1a1416(0x1fd),_0x56aa6e),showMessage(_0x1a1416(0x207));}}async function handleDeleteProject(_0x17ac7f){const _0x2978d9=_0x13fc2f;try{const _0x335946=writeBatch(db),_0x1ae65b=collection(db,_0x2978d9(0x709)+appId+_0x2978d9(0x51e)),_0x1ce4af=query(_0x1ae65b,where(_0x2978d9(0x779),'==',_0x17ac7f)),_0xea1f83=await getDocs(_0x1ce4af);for(const _0x1334a4 of _0xea1f83['docs']){const _0x5947f5=collection(db,'artifacts/'+appId+_0x2978d9(0x823)+_0x1334a4['id']+'/submissions'),_0xdfdfa7=await getDocs(_0x5947f5);_0xdfdfa7[_0x2978d9(0x121)](_0x5a7b5b=>{const _0x43ad30=_0x2978d9;_0x335946[_0x43ad30(0x652)](_0x5a7b5b['ref']);}),_0x335946[_0x2978d9(0x652)](_0x1334a4['ref']);}const _0x3027e3=collection(db,'artifacts/'+appId+_0x2978d9(0x6c8)+_0x17ac7f+_0x2978d9(0x63f)),_0x2705f0=await getDocs(_0x3027e3);_0x2705f0[_0x2978d9(0x121)](_0x2a67ab=>{const _0xfbbce=_0x2978d9;_0x335946[_0xfbbce(0x652)](_0x2a67ab[_0xfbbce(0x535)]);});const _0x5d8ac4=doc(db,_0x2978d9(0x709)+appId+_0x2978d9(0x8df),_0x17ac7f);_0x335946['delete'](_0x5d8ac4),await _0x335946['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x2978d9(0x8b9));}catch(_0x4fe547){console[_0x2978d9(0x5e9)](_0x2978d9(0x66e),_0x4fe547),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById'](_0x13fc2f(0x25b))['addEventListener'](_0x13fc2f(0x3bd),async()=>{const _0x13d832=_0x13fc2f;if(!currentProjectId)return;const _0x322455={'defaultNumQuestions':parseInt(document[_0x13d832(0x21e)](_0x13d832(0x116))[_0x13d832(0x24a)]),'defaultNumChoices':parseInt(document[_0x13d832(0x21e)](_0x13d832(0x650))[_0x13d832(0x24a)]),'defaultPassingScore':parseInt(document['getElementById'](_0x13d832(0x71b))[_0x13d832(0x24a)]),'resultsDisplay':document['getElementById']('results-display-select')[_0x13d832(0x24a)],'shuffleSetting':document[_0x13d832(0x21e)](_0x13d832(0x879))['value'],'timerMode':document[_0x13d832(0x21e)]('timer-mode-select')[_0x13d832(0x24a)],'timerDuration':parseInt(document[_0x13d832(0x21e)](_0x13d832(0x5f2))[_0x13d832(0x24a)])};try{const _0x5843b2=doc(db,_0x13d832(0x709)+appId+_0x13d832(0x8df),currentProjectId);await updateDoc(_0x5843b2,{'settings':_0x322455}),showMessage(_0x13d832(0x239));}catch(_0x104064){console[_0x13d832(0x5e9)](_0x13d832(0x624),_0x104064),showMessage(_0x13d832(0x3da));}});function listenForStudents(_0x18f376){const _0x345996=_0x13fc2f,_0x187174=doc(db,_0x345996(0x709)+appId+_0x345996(0x8df),_0x18f376);unsubscribeStudentsListener=onSnapshot(_0x187174,_0x1d37d3=>{const _0x400742=_0x345996;if(_0x1d37d3[_0x400742(0x610)]()){const _0x4ac7a3=_0x1d37d3[_0x400742(0x7ed)]();currentProjectData=_0x4ac7a3,renderStudentList(_0x4ac7a3[_0x400742(0x1bf)]||[]);}});}function renderStudentList(_0x3dcbde){const _0x2f3c69=_0x13fc2f,_0x36594e=document[_0x2f3c69(0x21e)](_0x2f3c69(0x33c));_0x3dcbde['length']===0x0?(studentList[_0x2f3c69(0x768)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x36594e[_0x2f3c69(0x110)][_0x2f3c69(0x8fb)](_0x2f3c69(0x6c1))):(studentList[_0x2f3c69(0x768)]=_0x3dcbde[_0x2f3c69(0x924)](_0x2aef3d=>_0x2f3c69(0xfc)+_0x2aef3d+_0x2f3c69(0x2ea)+_0x2aef3d+_0x2f3c69(0x6e9))[_0x2f3c69(0x408)](''),_0x36594e[_0x2f3c69(0x110)][_0x2f3c69(0x892)](_0x2f3c69(0x6c1)));}document['getElementById'](_0x13fc2f(0x821))['addEventListener'](_0x13fc2f(0x3bd),async()=>{const _0x13fe6d=_0x13fc2f;if(!currentProjectId)return;const _0x479426=document[_0x13fe6d(0x21e)](_0x13fe6d(0x580)),_0xb44ad4=_0x479426[_0x13fe6d(0x24a)][_0x13fe6d(0x8de)]();if(!_0xb44ad4){showMessage(_0x13fe6d(0x8af));return;}const _0x411380=_0xb44ad4[_0x13fe6d(0x78a)]('\x0a')[_0x13fe6d(0x924)](_0x4a2dd7=>_0x4a2dd7[_0x13fe6d(0x8de)]())[_0x13fe6d(0x17f)](_0xe644ef=>_0xe644ef);if(_0x411380[_0x13fe6d(0x708)]===0x0)return;try{const _0x50d8c4=doc(db,'artifacts/'+appId+_0x13fe6d(0x8df),currentProjectId),_0x2678e7=await getDoc(_0x50d8c4);if(_0x2678e7[_0x13fe6d(0x610)]()){const _0x57c0de=_0x2678e7['data']()[_0x13fe6d(0x1bf)]||[],_0xe1aacf=[...new Set([..._0x57c0de,..._0x411380])];await updateDoc(_0x50d8c4,{'students':_0xe1aacf}),_0x479426['value']='';}}catch(_0x572c50){console[_0x13fe6d(0x5e9)](_0x13fe6d(0x774),_0x572c50),showMessage(_0x13fe6d(0x870));}});async function handleManualQuizPairing(_0x3d6adc){const _0x400e9d=_0x13fc2f,_0x2060a6=document[_0x400e9d(0x21e)](_0x400e9d(0x702)),_0x28456f=document[_0x400e9d(0x21e)](_0x400e9d(0x3c9)),_0x2b5b9d=_0x2060a6[_0x400e9d(0x920)]('h3'),_0x531814=document[_0x400e9d(0x21e)](_0x400e9d(0x341)),_0x4e7996=document[_0x400e9d(0x21e)](_0x400e9d(0x439));_0x2b5b9d[_0x400e9d(0x680)]=_0x400e9d(0x2d1),_0x28456f[_0x400e9d(0x768)]=_0x400e9d(0x179),_0x531814[_0x400e9d(0x680)]=_0x400e9d(0x348),_0x2060a6['classList']['remove'](_0x400e9d(0x6c1));const _0x5d5490=allQuizzes['filter'](_0x1989bc=>_0x1989bc['id']!==_0x3d6adc);_0x5d5490[_0x400e9d(0x708)]===0x0?(_0x28456f[_0x400e9d(0x768)]=_0x400e9d(0x1ac),_0x531814[_0x400e9d(0x506)]=!![]):(_0x28456f[_0x400e9d(0x768)]=_0x400e9d(0x79d)+_0x5d5490[_0x400e9d(0x924)](_0x1d20bf=>_0x400e9d(0x621)+_0x1d20bf['id']+'\x22>'+_0x1d20bf[_0x400e9d(0x3f8)]+_0x400e9d(0x807))[_0x400e9d(0x408)](''),_0x531814['disabled']=![]);const _0x4762df=async()=>{const _0x355982=_0x400e9d,_0x263fa8=_0x28456f['value'];if(!_0x263fa8){showMessage(_0x355982(0x403));return;}_0x531814['disabled']=!![],_0x531814['textContent']='กำลังจับคู่...';try{const _0x4d232c=doc(db,_0x355982(0x709)+appId+_0x355982(0x51e),_0x3d6adc),_0x56fe96=doc(db,_0x355982(0x709)+appId+_0x355982(0x51e),_0x263fa8),_0xc50208=writeBatch(db);_0xc50208[_0x355982(0x5b8)](_0x4d232c,{'pairedQuizId':_0x263fa8}),_0xc50208[_0x355982(0x5b8)](_0x56fe96,{'pairedQuizId':_0x3d6adc}),await _0xc50208[_0x355982(0x4a0)](),showMessage(_0x355982(0x36b)),_0x2060a6[_0x355982(0x110)][_0x355982(0x8fb)](_0x355982(0x6c1));}catch(_0x39e73f){console[_0x355982(0x5e9)](_0x355982(0x7a8),_0x39e73f),showMessage(_0x355982(0x496));}finally{_0x2b5b9d[_0x355982(0x680)]=_0x355982(0x3e5),_0x531814['textContent']=_0x355982(0x211),_0x531814[_0x355982(0x506)]=![],_0x531814[_0x355982(0x3c1)]('click',_0x4762df),_0x4e7996[_0x355982(0x3c1)]('click',_0x2ddff3);}},_0x2ddff3=()=>{const _0x24c399=_0x400e9d;_0x2060a6[_0x24c399(0x110)][_0x24c399(0x8fb)]('hidden'),_0x2b5b9d[_0x24c399(0x680)]=_0x24c399(0x3e5),_0x531814[_0x24c399(0x680)]='ย้าย',_0x531814[_0x24c399(0x3c1)](_0x24c399(0x3bd),_0x4762df),_0x4e7996['removeEventListener'](_0x24c399(0x3bd),_0x2ddff3);};_0x531814[_0x400e9d(0xfd)](_0x400e9d(0x3bd),_0x4762df),_0x4e7996[_0x400e9d(0xfd)](_0x400e9d(0x3bd),_0x2ddff3);}function handleDeleteStudent(_0x417b4c){const _0x54e999=_0x13fc2f;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x417b4c+_0x54e999(0x21c),async()=>{const _0x2bd1fb=_0x54e999;if(!currentProjectId||!currentProjectData)return;const _0x463cc7=currentProjectData[_0x2bd1fb(0x1bf)][_0x2bd1fb(0x17f)](_0x6230cb=>_0x6230cb!==_0x417b4c);try{const _0x1f1768=doc(db,_0x2bd1fb(0x709)+appId+_0x2bd1fb(0x8df),currentProjectId),_0x419c16=doc(db,_0x2bd1fb(0x709)+appId+'/public/data/projects/'+currentProjectId+_0x2bd1fb(0x63f),_0x417b4c),_0x33bf62=writeBatch(db);_0x33bf62[_0x2bd1fb(0x5b8)](_0x1f1768,{'students':_0x463cc7}),_0x33bf62['delete'](_0x419c16),await _0x33bf62[_0x2bd1fb(0x4a0)]();}catch(_0x2f5f04){console[_0x2bd1fb(0x5e9)](_0x2bd1fb(0x513),_0x2f5f04),showMessage(_0x2bd1fb(0x587));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x39fd0d=_0x14fe;if(!currentProjectId)return;try{const _0x2fab7f=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x29e944=collection(db,'artifacts/'+appId+_0x39fd0d(0x6c8)+currentProjectId+'/studentProfiles'),_0x205c4d=await getDocs(_0x29e944),_0x452558=writeBatch(db);_0x452558[_0x39fd0d(0x5b8)](_0x2fab7f,{'students':[]}),_0x205c4d['forEach'](_0x4af949=>_0x452558[_0x39fd0d(0x652)](_0x4af949[_0x39fd0d(0x535)])),await _0x452558[_0x39fd0d(0x4a0)]();}catch(_0x2234e){console['error'](_0x39fd0d(0xfa),_0x2234e),showMessage(_0x39fd0d(0x2cf));}});}async function handleGenerateFromFileClick(){const _0x38f005=_0x13fc2f;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x12dd1a=document['getElementById'](_0x38f005(0x21f)),_0x648f78=document[_0x38f005(0x21e)](_0x38f005(0x642)),_0x484a90=document['getElementById'](_0x38f005(0x84c)),_0x532574=document[_0x38f005(0x21e)](_0x38f005(0x122));_0x532574[_0x38f005(0x506)]=!![],document[_0x38f005(0x21e)]('quiz-generation-area')[_0x38f005(0x110)]['remove'](_0x38f005(0x6c1)),_0x484a90[_0x38f005(0x768)]='',_0x12dd1a[_0x38f005(0x110)]['remove'](_0x38f005(0x6c1)),_0x648f78[_0x38f005(0x680)]=_0x38f005(0x66d);const _0x3f07fa=new FileReader();_0x3f07fa[_0x38f005(0x6c2)](selectedFile),_0x3f07fa[_0x38f005(0x229)]=async()=>{const _0x285392=_0x38f005;try{const _0x126b67=_0x3f07fa[_0x285392(0x7a9)][_0x285392(0x78a)](',')[0x1],_0x290bf7=selectedFile[_0x285392(0x2bc)];await generateQuizFromFile(_0x290bf7,_0x126b67);}catch(_0xa8ccf2){console[_0x285392(0x5e9)](_0x285392(0x7dd),_0xa8ccf2),showMessage(_0x285392(0x89f)+_0xa8ccf2['message']),_0x12dd1a[_0x285392(0x110)][_0x285392(0x8fb)](_0x285392(0x6c1));}finally{}},_0x3f07fa[_0x38f005(0x647)]=_0x32531b=>{const _0x370cd4=_0x38f005;console[_0x370cd4(0x5e9)](_0x370cd4(0x65e),_0x32531b),showMessage(_0x370cd4(0xdf)),_0x12dd1a[_0x370cd4(0x110)][_0x370cd4(0x8fb)](_0x370cd4(0x6c1)),_0x532574[_0x370cd4(0x506)]=![];};}function autoFormatMath(_0x5cb491){const _0x125938=_0x13fc2f;if(typeof _0x5cb491!==_0x125938(0x557)||!_0x5cb491)return _0x5cb491;const _0x795e42=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x406f4c=_0x5cb491['replace'](_0x795e42,_0x278dc4=>{const _0x11e7a7=_0x125938;return'$'+_0x278dc4[_0x11e7a7(0x8de)]()+'$';});return _0x406f4c;}function sanitizeQuizData(_0x469a69){const _0x123085=_0x13fc2f;if(!_0x469a69||!_0x469a69[_0x123085(0x218)])return _0x469a69;const _0x109364={'imes':'\x5ctimes','div':_0x123085(0x35b)},_0x501538=_0x21a876=>{const _0x4ae5f7=_0x123085;if(typeof _0x21a876!==_0x4ae5f7(0x557))return _0x21a876;let _0x475f91=_0x21a876;for(const [_0x52fb48,_0x424d09]of Object[_0x4ae5f7(0x32e)](_0x109364)){const _0x1b6f10=new RegExp('\x5cb'+_0x52fb48+'\x5cb','g');_0x475f91=_0x475f91[_0x4ae5f7(0x6dc)](_0x1b6f10,_0x424d09);}return _0x475f91=_0x475f91[_0x4ae5f7(0x6dc)](/\\\//g,_0x4ae5f7(0x35b)),_0x475f91=_0x475f91[_0x4ae5f7(0x6dc)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4ae5f7(0x35b))[_0x4ae5f7(0x6dc)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4ae5f7(0xf5))[_0x4ae5f7(0x6dc)](/÷/g,_0x4ae5f7(0x35b))[_0x4ae5f7(0x6dc)](/×/g,'\x5ctimes'),_0x475f91=_0x475f91[_0x4ae5f7(0x6dc)](/(\d)(\\frac)/g,_0x4ae5f7(0x45e)),_0x475f91=autoFormatMath(_0x475f91),_0x475f91;};return _0x469a69[_0x123085(0x3f8)]&&(_0x469a69[_0x123085(0x3f8)]=_0x501538(_0x469a69[_0x123085(0x3f8)])),_0x469a69[_0x123085(0x218)][_0x123085(0x121)](_0x291f75=>{const _0x4a7348=_0x123085;_0x291f75[_0x4a7348(0x777)]=_0x501538(_0x291f75['questionText']),_0x291f75[_0x4a7348(0x138)]&&(_0x291f75['options']=_0x291f75[_0x4a7348(0x138)][_0x4a7348(0x924)](_0x501538)),_0x291f75[_0x4a7348(0x6e0)]&&(_0x291f75['explanation']=_0x501538(_0x291f75[_0x4a7348(0x6e0)])),_0x291f75[_0x4a7348(0x700)]&&(_0x291f75[_0x4a7348(0x700)]=_0x501538(_0x291f75[_0x4a7348(0x700)])),_0x291f75[_0x4a7348(0x349)]&&(_0x291f75[_0x4a7348(0x349)]=_0x501538(_0x291f75[_0x4a7348(0x349)])),_0x291f75[_0x4a7348(0x8b1)]&&(_0x291f75['allResponses']=_0x291f75[_0x4a7348(0x8b1)]['map'](_0x501538));}),_0x469a69;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x353f29=_0x13fc2f,_0x5b7236=document[_0x353f29(0x21e)](_0x353f29(0x60d)),_0x1b3334=document[_0x353f29(0x21e)]('link-topic-input'),_0x46f971=_0x5b7236[_0x353f29(0x24a)][_0x353f29(0x8de)](),_0x78c35c=_0x1b3334['value'][_0x353f29(0x8de)]();if(!_0x46f971){showMessage(_0x353f29(0x6fa));return;}const _0x1c1aa3=document['getElementById'](_0x353f29(0x21f)),_0x2c72de=document['getElementById']('loader-text'),_0x23ee49=document['getElementById'](_0x353f29(0x84c)),_0x23e36f=document[_0x353f29(0x21e)]('generate-from-link-btn');document[_0x353f29(0x21e)](_0x353f29(0x260))[_0x353f29(0x110)][_0x353f29(0x892)](_0x353f29(0x6c1)),_0x23ee49[_0x353f29(0x768)]='',_0x1c1aa3[_0x353f29(0x110)][_0x353f29(0x892)](_0x353f29(0x6c1)),_0x2c72de[_0x353f29(0x680)]=_0x353f29(0x6a2),_0x23e36f[_0x353f29(0x506)]=!![];try{const _0x217abe=_0x353f29(0x910)+encodeURIComponent(_0x46f971),_0x32bf51=await fetch(_0x217abe);if(!_0x32bf51['ok'])throw new Error(_0x353f29(0x853)+_0x32bf51[_0x353f29(0x5f5)]+')');const _0x2d7dcd=await _0x32bf51[_0x353f29(0x16e)](),_0x1e18bb=extractTextFromHtml(_0x2d7dcd);if(!_0x1e18bb||_0x1e18bb[_0x353f29(0x708)]<0x64)throw new Error(_0x353f29(0x909));await generateQuiz(_0x78c35c,_0x1e18bb);}catch(_0x5e802c){console[_0x353f29(0x5e9)](_0x353f29(0x6a1),_0x5e802c),showMessage(_0x353f29(0x491)+_0x5e802c[_0x353f29(0x73c)]),_0x23ee49[_0x353f29(0x768)]=_0x353f29(0x8d4);}finally{_0x1c1aa3[_0x353f29(0x110)][_0x353f29(0x8fb)](_0x353f29(0x6c1)),_0x23e36f[_0x353f29(0x506)]=![];}}function extractTextFromHtml(_0x40c6b7){const _0x50c71e=_0x13fc2f,_0x1964da=new DOMParser()['parseFromString'](_0x40c6b7,_0x50c71e(0x470));return _0x1964da[_0x50c71e(0x1af)](_0x50c71e(0x837))['forEach'](_0xae64fc=>_0xae64fc['remove']()),_0x1964da[_0x50c71e(0x7c7)][_0x50c71e(0x680)]||'';}document[_0x13fc2f(0x21e)]('generate-from-topic-btn')['addEventListener'](_0x13fc2f(0x3bd),()=>{const _0x4a167e=_0x13fc2f,_0x4737ad=document[_0x4a167e(0x21e)]('topic-input')[_0x4a167e(0x24a)][_0x4a167e(0x8de)]();generateQuiz(_0x4737ad,null);}),document['getElementById']('generate-from-text-btn')[_0x13fc2f(0xfd)](_0x13fc2f(0x3bd),()=>{const _0x1bf6c8=_0x13fc2f,_0x32acc1=document[_0x1bf6c8(0x21e)](_0x1bf6c8(0x648))['value'][_0x1bf6c8(0x8de)]();if(!_0x32acc1){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x42b893=document[_0x1bf6c8(0x21e)]('topic-input')[_0x1bf6c8(0x24a)]['trim']();generateQuiz(_0x42b893,_0x32acc1);});async function generateQuiz(_0x47cb3b,_0x2fa290,_0x4544e8=null){const _0x38a5b3=_0x13fc2f,_0x37334a=document[_0x38a5b3(0x21e)](_0x38a5b3(0x835))[_0x38a5b3(0x780)],_0x122a57=document[_0x38a5b3(0x21e)](_0x38a5b3(0x368))[_0x38a5b3(0x24a)],_0x4c96d9=document[_0x38a5b3(0x21e)](_0x38a5b3(0x116))['value'],_0x2095ca=document[_0x38a5b3(0x21e)](_0x38a5b3(0x650))[_0x38a5b3(0x24a)],_0x123efa=document[_0x38a5b3(0x21e)](_0x38a5b3(0x4fb))[_0x38a5b3(0x780)],_0xea9d49=_0x123efa?'':_0x38a5b3(0x190),_0x243e69=document['getElementById'](_0x38a5b3(0x12d)),_0x339801=_0x243e69[_0x38a5b3(0x24a)];let _0x3361ac='';_0x339801!==_0x38a5b3(0x1fa)&&(_0x3361ac='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x339801+'\x22');const _0x3ab988=document[_0x38a5b3(0x21e)]('question-complexity-select'),_0x5a5949=_0x3ab988[_0x38a5b3(0x24a)];let _0x3560ca='';_0x5a5949!=='mixed'&&(_0x3560ca=_0x38a5b3(0x137)+_0x5a5949+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x3bda22=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked'),_0x2ed486=Array['from'](_0x3bda22)[_0x38a5b3(0x924)](_0x20c8dc=>_0x20c8dc['value']);let _0x560156='';_0x2ed486[_0x38a5b3(0x708)]>0x0&&(_0x560156='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x2ed486['join'](',\x20')+_0x38a5b3(0x6ab));let _0x166d22='',_0x35aed6='',_0x87be6a,_0x18a616=_0x38a5b3(0x1e3)+_0x47cb3b+'\x22';if(!_0x47cb3b&&_0x2fa290)_0x18a616='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x47cb3b&&!_0x2fa290&&(_0x18a616=_0x38a5b3(0x871));const _0x4f1ecf={'type':_0x38a5b3(0x1d7),'properties':{'questionText':{'type':_0x38a5b3(0x69c)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x38a5b3(0x58e)},'explanation':{'type':_0x38a5b3(0x69c)},'imageCode':{'type':_0x38a5b3(0x69c)}},'required':[_0x38a5b3(0x777),_0x38a5b3(0x138),_0x38a5b3(0x455),_0x38a5b3(0x6e0)]},_0x2c300e={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x38a5b3(0x69c)},'explanation':{'type':_0x38a5b3(0x69c)},'imageCode':{'type':_0x38a5b3(0x69c)}},'required':[_0x38a5b3(0x777),'idealAnswer',_0x38a5b3(0x6e0)]},_0x33db7e={'type':_0x38a5b3(0x1d7),'properties':{'questionText':{'type':_0x38a5b3(0x69c)},'questionType':{'type':_0x38a5b3(0x69c),'enum':['multiple_choice',_0x38a5b3(0x6ac)]},'options':{'type':_0x38a5b3(0x661),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x38a5b3(0x58e)},'idealAnswer':{'type':_0x38a5b3(0x69c)},'explanation':{'type':_0x38a5b3(0x69c)},'imageCode':{'type':'STRING'}},'required':[_0x38a5b3(0x777),_0x38a5b3(0x78e),_0x38a5b3(0x6e0)]},_0x2dc567={'type':_0x38a5b3(0x1d7),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x38a5b3(0x866)},'explanation':{'type':_0x38a5b3(0x69c)},'imageCode':{'type':_0x38a5b3(0x69c)}},'required':[_0x38a5b3(0x777),_0x38a5b3(0x8d9),_0x38a5b3(0x6e0)]},_0x20e98c={'type':_0x38a5b3(0x1d7),'properties':{'questionType':{'type':_0x38a5b3(0x69c),'enum':[_0x38a5b3(0x48c)]},'stem':{'type':_0x38a5b3(0x69c)},'correctResponse':{'type':_0x38a5b3(0x69c)},'allResponses':{'type':_0x38a5b3(0x661),'items':{'type':_0x38a5b3(0x69c)}},'explanation':{'type':_0x38a5b3(0x69c)},'imageCode':{'type':_0x38a5b3(0x69c)}},'required':[_0x38a5b3(0x78e),_0x38a5b3(0x700),_0x38a5b3(0x349),_0x38a5b3(0x8b1),_0x38a5b3(0x6e0)]};let _0x518918;if(_0x4544e8!==null){const _0x18a9e3=currentQuizData[_0x38a5b3(0x218)][_0x4544e8][_0x38a5b3(0x78e)],_0x425f7c=_0x37334a?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x166d22=_0x38a5b3(0x868)+_0x18a616+'\x20'+_0x560156+'\x20'+_0x3361ac+_0x38a5b3(0x91c)+_0x425f7c+'\x20'+simpleMathPrompt;if(_0x18a9e3===_0x38a5b3(0x8f6))_0x87be6a=_0x4f1ecf;else{if(_0x18a9e3===_0x38a5b3(0x48c))_0x87be6a={'type':'OBJECT','properties':{'questionType':{'type':_0x38a5b3(0x69c),'enum':[_0x38a5b3(0x48c)]},'stem':{'type':_0x38a5b3(0x69c)},'correctResponse':{'type':_0x38a5b3(0x69c)},'explanation':{'type':_0x38a5b3(0x69c)},'imageCode':{'type':_0x38a5b3(0x69c)}},'required':[_0x38a5b3(0x78e),'stem',_0x38a5b3(0x349),_0x38a5b3(0x6e0)]};else _0x87be6a=_0x2c300e;}_0x518918=_0x87be6a;}else{const _0x1c2cb4=_0x37334a?_0x38a5b3(0x3a2):'',_0xf62ae9=_0x38a5b3(0x740);switch(_0x122a57){case _0x38a5b3(0x8f6):_0x166d22='สร้างแบบทดสอบปรนัย'+_0xea9d49+'\x20'+_0x4c96d9+_0x38a5b3(0x8d1)+_0x18a616+'\x20'+_0x560156+'\x20'+_0x3361ac+'\x20'+_0x3560ca+_0x38a5b3(0x851)+_0x2095ca+_0x38a5b3(0x70d)+_0x1c2cb4+'\x20'+simpleMathPrompt,_0x87be6a=_0x4f1ecf;break;case _0x38a5b3(0x328):_0x166d22=_0x38a5b3(0x649)+_0xea9d49+'\x20'+_0x4c96d9+_0x38a5b3(0x8d1)+_0x18a616+'\x20'+_0x560156+'\x20'+_0x3361ac+'\x20'+_0x3560ca+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x2095ca+_0x38a5b3(0x3cb)+_0x1c2cb4+'\x20'+simpleMathPrompt,_0x87be6a=_0x4f1ecf;break;case _0x38a5b3(0x4ee):_0x166d22=_0x38a5b3(0x649)+_0xea9d49+'\x20'+_0x4c96d9+_0x38a5b3(0x8d1)+_0x18a616+'\x20'+_0x560156+'\x20'+_0x3361ac+'\x20'+_0x3560ca+_0x38a5b3(0x644)+_0x1c2cb4+'\x20'+simpleMathPrompt,_0x87be6a=_0x2c300e;break;case'mixed':_0x166d22='สร้างแบบทดสอบ'+_0xea9d49+'\x20'+_0x4c96d9+_0x38a5b3(0x8d1)+_0x18a616+'\x20'+_0x560156+'\x20'+_0x3361ac+'\x20'+_0x3560ca+_0x38a5b3(0x4f2)+_0x2095ca+_0x38a5b3(0x664)+_0x1c2cb4+'\x20'+simpleMathPrompt+'.',_0x87be6a=_0x33db7e;break;case _0x38a5b3(0x69f):_0x166d22=_0x38a5b3(0x5e7)+_0xea9d49+'\x20'+_0x4c96d9+'\x20ข้อ\x20'+_0x18a616+'\x20'+_0x560156+'\x20'+_0x3361ac+'\x20'+_0x3560ca+_0x38a5b3(0x5d2)+_0x1c2cb4+'\x20'+simpleMathPrompt,_0x87be6a=_0x2dc567;break;case _0x38a5b3(0x1e6):_0x166d22=_0x38a5b3(0x216)+_0xea9d49+'\x20'+_0x4c96d9+_0x38a5b3(0x7cd)+_0x18a616+'\x20'+_0x560156+'\x20'+_0x3361ac+'\x20'+_0x3560ca+_0x38a5b3(0x234)+_0x1c2cb4+'\x20'+simpleMathPrompt,_0x87be6a=_0x20e98c;break;}_0x518918={'type':_0x38a5b3(0x1d7),'properties':{'topic':{'type':_0x38a5b3(0x69c)},'questions':{'type':_0x38a5b3(0x661),'items':_0x87be6a}},'required':[_0x38a5b3(0x3f8),_0x38a5b3(0x218)]};}return _0x2fa290?(_0x166d22=_0x38a5b3(0x4c0)+_0x2fa290+_0x38a5b3(0x528)+_0x166d22,_0x35aed6=_0x38a5b3(0x1bb)):_0x35aed6=_0x38a5b3(0x8c3),handleApiCall(_0x166d22,_0x35aed6,_0x518918,_0x4544e8);}async function generateQuizFromFile(_0x20991d,_0x498db5){const _0x53d6d2=_0x13fc2f,_0x493f09=document['getElementById'](_0x53d6d2(0x186))['value'][_0x53d6d2(0x8de)](),_0x4513f7=document['getElementById'](_0x53d6d2(0x368))[_0x53d6d2(0x24a)],_0x23da32=document['getElementById'](_0x53d6d2(0x116))[_0x53d6d2(0x24a)],_0x2f7f8c=document[_0x53d6d2(0x21e)](_0x53d6d2(0x650))[_0x53d6d2(0x24a)],_0x5ac598=document['getElementById'](_0x53d6d2(0x835))['checked'],_0x51a941=document[_0x53d6d2(0x21e)]('force-math-checkbox')['checked'],_0x3be002=_0x51a941?'':_0x53d6d2(0x190);let _0x2f25bc='',_0x5f1a97,_0x1e7adc=_0x53d6d2(0x1e3)+_0x493f09+'\x22';!_0x493f09&&(_0x1e7adc=_0x53d6d2(0x5e4));const _0x1e3a34=_0x5ac598?_0x53d6d2(0x3a2):'';switch(_0x4513f7){case _0x53d6d2(0x8f6):_0x2f25bc='สร้างแบบทดสอบปรนัย'+_0x3be002+'\x20'+_0x23da32+'\x20ข้อ\x20'+_0x1e7adc+_0x53d6d2(0x851)+_0x2f7f8c+_0x53d6d2(0x70d)+_0x1e3a34+'\x20'+simpleMathPrompt,_0x5f1a97={'type':_0x53d6d2(0x1d7),'properties':{'questionText':{'type':_0x53d6d2(0x69c)},'options':{'type':_0x53d6d2(0x661),'items':{'type':_0x53d6d2(0x69c)}},'correctAnswerIndex':{'type':_0x53d6d2(0x58e)},'explanation':{'type':_0x53d6d2(0x69c)},'imageCode':{'type':_0x53d6d2(0x69c)}},'required':[_0x53d6d2(0x777),_0x53d6d2(0x138),_0x53d6d2(0x455),'explanation']};break;case _0x53d6d2(0x328):_0x2f25bc=_0x53d6d2(0x649)+_0x3be002+'\x20'+_0x23da32+_0x53d6d2(0x8d1)+_0x1e7adc+_0x53d6d2(0x918)+_0x2f7f8c+_0x53d6d2(0x3cb)+_0x1e3a34+'\x20'+simpleMathPrompt,_0x5f1a97={'type':_0x53d6d2(0x1d7),'properties':{'questionText':{'type':_0x53d6d2(0x69c)},'options':{'type':_0x53d6d2(0x661),'items':{'type':_0x53d6d2(0x69c)}},'correctAnswerIndex':{'type':_0x53d6d2(0x58e)},'explanation':{'type':_0x53d6d2(0x69c)},'imageCode':{'type':_0x53d6d2(0x69c)}},'required':[_0x53d6d2(0x777),'options',_0x53d6d2(0x455),'explanation']};break;case _0x53d6d2(0x4ee):_0x2f25bc=_0x53d6d2(0x649)+_0x3be002+'\x20'+_0x23da32+_0x53d6d2(0x8d1)+_0x1e7adc+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1e3a34+'\x20'+simpleMathPrompt,_0x5f1a97={'type':_0x53d6d2(0x1d7),'properties':{'questionText':{'type':_0x53d6d2(0x69c)},'idealAnswer':{'type':_0x53d6d2(0x69c)},'explanation':{'type':_0x53d6d2(0x69c)},'imageCode':{'type':_0x53d6d2(0x69c)}},'required':[_0x53d6d2(0x777),_0x53d6d2(0x665),_0x53d6d2(0x6e0)]};break;case'mixed':_0x2f25bc=_0x53d6d2(0xf4)+_0x3be002+'\x20'+_0x23da32+_0x53d6d2(0x8d1)+_0x1e7adc+_0x53d6d2(0x862)+_0x2f7f8c+'\x20ตัวเลือก.\x20'+_0x1e3a34+'\x20'+simpleMathPrompt+_0x53d6d2(0x7e4),_0x5f1a97={'type':'OBJECT','properties':{'questionText':{'type':_0x53d6d2(0x69c)},'questionType':{'type':_0x53d6d2(0x69c),'enum':['multiple_choice',_0x53d6d2(0x6ac)]},'options':{'type':_0x53d6d2(0x661),'items':{'type':_0x53d6d2(0x69c)}},'correctAnswerIndex':{'type':_0x53d6d2(0x58e)},'idealAnswer':{'type':_0x53d6d2(0x69c)},'explanation':{'type':_0x53d6d2(0x69c)},'imageCode':{'type':_0x53d6d2(0x69c)}},'required':[_0x53d6d2(0x777),_0x53d6d2(0x78e),'explanation']};break;case'true_false':_0x2f25bc=_0x53d6d2(0x5e7)+_0x3be002+'\x20'+_0x23da32+_0x53d6d2(0x8d1)+_0x1e7adc+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1e3a34+'\x20'+simpleMathPrompt,_0x5f1a97={'type':_0x53d6d2(0x1d7),'properties':{'questionText':{'type':_0x53d6d2(0x69c)},'correctAnswer':{'type':_0x53d6d2(0x866)},'explanation':{'type':_0x53d6d2(0x69c)},'imageCode':{'type':_0x53d6d2(0x69c)}},'required':[_0x53d6d2(0x777),_0x53d6d2(0x8d9),_0x53d6d2(0x6e0)]};break;case _0x53d6d2(0x1e6):_0x2f25bc=_0x53d6d2(0x216)+_0x3be002+'\x20'+_0x23da32+_0x53d6d2(0x7cd)+_0x1e7adc+_0x53d6d2(0x7b4)+_0x23da32+_0x53d6d2(0x6d6)+_0x1e3a34+'\x20'+simpleMathPrompt,_0x5f1a97={'type':'OBJECT','properties':{'questionType':{'type':_0x53d6d2(0x69c),'enum':[_0x53d6d2(0x48c)]},'stem':{'type':_0x53d6d2(0x69c)},'correctResponse':{'type':_0x53d6d2(0x69c)},'allResponses':{'type':_0x53d6d2(0x661),'items':{'type':_0x53d6d2(0x69c)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x53d6d2(0x69c)}},'required':['questionType',_0x53d6d2(0x700),_0x53d6d2(0x349),'allResponses','explanation']};break;}const _0x5379af={'type':_0x53d6d2(0x1d7),'properties':{'topic':{'type':_0x53d6d2(0x69c)},'questions':{'type':_0x53d6d2(0x661),'items':_0x5f1a97}},'required':[_0x53d6d2(0x3f8),_0x53d6d2(0x218)]},_0x53a3ef=_0x53d6d2(0x187)+_0x2f25bc,_0x413930={'contents':[{'parts':[{'text':_0x53a3ef},{'inlineData':{'mimeType':_0x20991d,'data':_0x498db5}}]}],'generationConfig':{'responseMimeType':_0x53d6d2(0x3bb),'responseSchema':_0x5379af}};return handleApiCall(_0x413930[_0x53d6d2(0x37d)][0x0][_0x53d6d2(0x543)],_0x53d6d2(0x465),_0x5379af);}async function handleApiCall(_0x565a59,_0xe986ab,_0x123332,_0x9d7880=null){const _0x2bbc02=_0x13fc2f,_0x2cdb55=document['getElementById'](_0x2bbc02(0x260)),_0x405e27=document[_0x2bbc02(0x21e)]('loader'),_0x2668bb=document['getElementById']('loader-text'),_0x272fc1=document[_0x2bbc02(0x21e)](_0x2bbc02(0x84c));_0x2cdb55[_0x2bbc02(0x110)][_0x2bbc02(0x892)](_0x2bbc02(0x6c1));_0x9d7880===null&&(_0x272fc1[_0x2bbc02(0x768)]='');_0x405e27[_0x2bbc02(0x110)]['remove'](_0x2bbc02(0x6c1)),_0x2668bb[_0x2bbc02(0x680)]=_0xe986ab,document['getElementById'](_0x2bbc02(0x477))['disabled']=!![],document['getElementById'](_0x2bbc02(0x62f))[_0x2bbc02(0x506)]=!![],document[_0x2bbc02(0x21e)](_0x2bbc02(0x863))[_0x2bbc02(0x506)]=!![];try{const _0x2a0e01={'responseMimeType':'application/json','responseSchema':_0x123332},_0x5c5cfe=Array[_0x2bbc02(0x781)](_0x565a59)?_0x565a59:[{'text':_0x565a59}],_0x107d74={'contents':[{'role':'user','parts':_0x5c5cfe}],'generationConfig':_0x2a0e01},_0x47b7f0=_0x2bbc02(0x15b),_0x360a7f=_0x2bbc02(0x310)+_0x47b7f0,_0x3e8e52=await fetch(_0x360a7f,{'method':'POST','headers':{'Content-Type':_0x2bbc02(0x3bb)},'body':JSON[_0x2bbc02(0x6fd)](_0x107d74)});if(!_0x3e8e52['ok'])throw new Error(_0x2bbc02(0x3a5)+_0x3e8e52[_0x2bbc02(0x5f5)]);const _0x4090a6=await _0x3e8e52[_0x2bbc02(0x150)]();if(_0x4090a6[_0x2bbc02(0x519)]?.[0x0]?.[_0x2bbc02(0x679)]?.['parts']?.[0x0]){let _0x37e8b4=_0x4090a6['candidates'][0x0][_0x2bbc02(0x679)][_0x2bbc02(0x543)][0x0][_0x2bbc02(0x16e)],_0x2b4df1;try{if(_0x37e8b4[_0x2bbc02(0x3b7)](_0x2bbc02(0x364)))_0x37e8b4=_0x37e8b4[_0x2bbc02(0x7ab)](0x7,_0x37e8b4[_0x2bbc02(0x708)]-0x3)[_0x2bbc02(0x8de)]();else _0x37e8b4[_0x2bbc02(0x3b7)](_0x2bbc02(0x738))&&(_0x37e8b4=_0x37e8b4[_0x2bbc02(0x7ab)](0x3,_0x37e8b4[_0x2bbc02(0x708)]-0x3)['trim']());_0x2b4df1=JSON[_0x2bbc02(0x4aa)](_0x37e8b4);}catch(_0x3daa2b){console[_0x2bbc02(0x5e9)](_0x2bbc02(0x52e),_0x3daa2b,_0x37e8b4);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x9d7880!==null){if(_0x2b4df1[_0x2bbc02(0x78e)]==='matching_item'){const _0x4f481e=currentQuizData[_0x2bbc02(0x218)][_0x2bbc02(0x924)](_0x388183=>_0x388183[_0x2bbc02(0x349)]);_0x2b4df1[_0x2bbc02(0x8b1)]=_0x4f481e;const _0x1587d4=currentQuizData[_0x2bbc02(0x218)][_0x9d7880][_0x2bbc02(0x349)],_0x43dcee=_0x4f481e['indexOf'](_0x1587d4);_0x43dcee>-0x1&&(_0x4f481e[_0x43dcee]=_0x2b4df1[_0x2bbc02(0x349)]),currentQuizData[_0x2bbc02(0x218)][_0x2bbc02(0x121)](_0x162cb9=>{const _0x1d0bfb=_0x2bbc02;if(_0x162cb9[_0x1d0bfb(0x78e)]===_0x1d0bfb(0x48c))_0x162cb9['allResponses']=_0x4f481e;});}currentQuizData[_0x2bbc02(0x218)][_0x9d7880]=_0x2b4df1,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x2b4df1;const _0x755773=document['getElementById']('quiz-type-select')[_0x2bbc02(0x24a)];currentQuizData[_0x2bbc02(0x5a4)]=_0x755773,currentQuizData[_0x2bbc02(0x218)]&&currentQuizData[_0x2bbc02(0x218)]['forEach'](_0x15bfa1=>{const _0x57f151=_0x2bbc02;if(!_0x15bfa1[_0x57f151(0x78e)]){if(_0x755773===_0x57f151(0x328))_0x15bfa1[_0x57f151(0x78e)]=_0x57f151(0x8f6);else _0x755773===_0x57f151(0x4ee)?_0x15bfa1[_0x57f151(0x78e)]=_0x57f151(0x6ac):_0x15bfa1[_0x57f151(0x78e)]=_0x755773;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x2bbc02(0x5e9)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON['stringify'](_0x4090a6));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x422ee4){console[_0x2bbc02(0x5e9)]('Error\x20generating\x20quiz:',_0x422ee4),showMessage(_0x2bbc02(0x4b0)),_0x9d7880===null&&(_0x272fc1['innerHTML']=_0x2bbc02(0x6ba));}finally{_0x405e27[_0x2bbc02(0x110)][_0x2bbc02(0x8fb)](_0x2bbc02(0x6c1)),document[_0x2bbc02(0x21e)](_0x2bbc02(0x477))[_0x2bbc02(0x506)]=![],document['getElementById'](_0x2bbc02(0x62f))[_0x2bbc02(0x506)]=![],document['getElementById'](_0x2bbc02(0x863))[_0x2bbc02(0x506)]=![];const _0x29615e=document['getElementById']('generate-from-file-btn');_0x29615e&&(_0x29615e[_0x2bbc02(0x506)]=![]);}}function exitFullscreen(){const _0x4c2d4d=_0x13fc2f;if(document[_0x4c2d4d(0x28e)])document['exitFullscreen']()[_0x4c2d4d(0x274)](_0x4e2aec=>console[_0x4c2d4d(0x5e9)](_0x4e2aec));else{if(document[_0x4c2d4d(0x277)])document[_0x4c2d4d(0x277)]();else document[_0x4c2d4d(0x8f9)]&&document[_0x4c2d4d(0x8f9)]();}}function enterFullscreen(){const _0x57f59e=_0x13fc2f,_0x28723e=document[_0x57f59e(0x320)];if(_0x28723e[_0x57f59e(0x8e4)])_0x28723e['requestFullscreen']()[_0x57f59e(0x274)](_0x48b980=>{const _0x344243=_0x57f59e;console[_0x344243(0x5e9)](_0x344243(0x4a1)+_0x48b980[_0x344243(0x73c)]+'\x20('+_0x48b980[_0x344243(0x763)]+')');});else{if(_0x28723e[_0x57f59e(0x85d)])_0x28723e[_0x57f59e(0x85d)]();else _0x28723e[_0x57f59e(0x158)]&&_0x28723e[_0x57f59e(0x158)]();}}function handleCheatingEvent(){const _0x4f2b48=_0x13fc2f;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x4f2b48(0x153),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4f2b48(0x824)+maxCheatAttempts+_0x4f2b48(0x45c)),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4f2b48(0x3c1)]('visibilitychange',handleVisibilityChange),document[_0x4f2b48(0x3c1)](_0x4f2b48(0x88f),handleFullscreenChange)):showMessage(_0x4f2b48(0x79b)+cheatAttempts+'/'+maxCheatAttempts+_0x4f2b48(0x2bb),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x31fe78=_0x13fc2f;if(currentMode===_0x31fe78(0x126)||!isQuizActive)return;if(document[_0x31fe78(0x5c6)]===_0x31fe78(0x6c1))handleCheatingEvent();else document[_0x31fe78(0x5c6)]===_0x31fe78(0x16a)&&(console[_0x31fe78(0x2de)](_0x31fe78(0x3ab)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2f8a52=_0x13fc2f;if(currentMode===_0x2f8a52(0x126)||!isQuizActive)return;!document[_0x2f8a52(0x561)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x49fa3f){const _0xeb3a9c=_0x13fc2f,_0x1e23ba=document[_0xeb3a9c(0x21e)](_0xeb3a9c(0x84c));let _0x2eee3d=_0xeb3a9c(0x1aa)+_0x49fa3f[_0xeb3a9c(0x3f8)]+_0xeb3a9c(0x603);_0x49fa3f[_0xeb3a9c(0x218)][_0xeb3a9c(0x121)]((_0x1ebb3f,_0xf42ca6)=>{const _0x580bb5=_0xeb3a9c;!_0x1ebb3f['id']&&(_0x1ebb3f['id']='q_'+Date[_0x580bb5(0x8d2)]()+'_'+_0xf42ca6);const _0xe02fb9=_0x1ebb3f[_0x580bb5(0x78e)]||_0x49fa3f[_0x580bb5(0x5a4)];_0x2eee3d+=_0x580bb5(0x380)+_0xf42ca6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xf42ca6+_0x580bb5(0x8cc)+_0xf42ca6+_0x580bb5(0x53f)+_0xf42ca6+_0x580bb5(0x45f);switch(_0xe02fb9){case'matching_item':_0x2eee3d+=_0x580bb5(0x8c9)+_0xf42ca6+'\x22>'+(_0xf42ca6+0x1)+'.\x20'+_0x1ebb3f[_0x580bb5(0x700)]+_0x580bb5(0x30a);_0x1ebb3f[_0x580bb5(0x130)]&&(_0x2eee3d+='<div\x20id=\x22q-image-container-'+_0xf42ca6+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1ebb3f[_0x580bb5(0x130)]+'</div>');_0x2eee3d+=_0x580bb5(0x2ae)+_0xf42ca6+'\x22>'+_0x1ebb3f['correctResponse']+_0x580bb5(0x88b),_0x2eee3d+=_0x580bb5(0x889)+_0xf42ca6+'\x22>'+_0x1ebb3f['explanation']+_0x580bb5(0x88b);break;case _0x580bb5(0x6ac):_0x2eee3d+=_0x580bb5(0x8c9)+_0xf42ca6+'\x22>'+(_0xf42ca6+0x1)+'.\x20'+_0x1ebb3f['questionText']+_0x580bb5(0x30a);_0x1ebb3f['imageCode']&&(_0x2eee3d+=_0x580bb5(0x402)+_0xf42ca6+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1ebb3f['imageCode']+'</div>');_0x2eee3d+=_0x580bb5(0x643)+_0xf42ca6+'\x22>'+_0x1ebb3f[_0x580bb5(0x665)]+'</span></div>',_0x2eee3d+=_0x580bb5(0x889)+_0xf42ca6+'\x22>'+_0x1ebb3f[_0x580bb5(0x6e0)]+_0x580bb5(0x88b);break;case _0x580bb5(0x69f):_0x2eee3d+=_0x580bb5(0x8c9)+_0xf42ca6+'\x22>'+(_0xf42ca6+0x1)+'.\x20'+_0x1ebb3f[_0x580bb5(0x777)]+'</p>';_0x1ebb3f[_0x580bb5(0x130)]&&(_0x2eee3d+=_0x580bb5(0x402)+_0xf42ca6+_0x580bb5(0x1ee)+_0x1ebb3f[_0x580bb5(0x130)]+'</div>');_0x2eee3d+=_0x580bb5(0x569)+(_0x1ebb3f['correctAnswer']===!![]?_0x580bb5(0x524):'')+_0x580bb5(0x701)+(_0x1ebb3f[_0x580bb5(0x8d9)]===![]?_0x580bb5(0x524):'')+_0x580bb5(0x8b2),_0x2eee3d+=_0x580bb5(0x889)+_0xf42ca6+'\x22>'+_0x1ebb3f['explanation']+_0x580bb5(0x88b);break;case _0x580bb5(0x55b):case _0x580bb5(0x8f6):default:_0x2eee3d+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xf42ca6+'\x22>'+(_0xf42ca6+0x1)+'.\x20'+_0x1ebb3f['questionText']+_0x580bb5(0x30a);_0x1ebb3f[_0x580bb5(0x130)]&&(_0x2eee3d+=_0x580bb5(0x402)+_0xf42ca6+_0x580bb5(0x1ee)+_0x1ebb3f['imageCode']+_0x580bb5(0x165));_0x2eee3d+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0xf42ca6+_0x580bb5(0x340)+_0x1ebb3f[_0x580bb5(0x138)][_0x580bb5(0x924)]((_0x5d17cf,_0x535d60)=>_0x580bb5(0x39e)+(_0x535d60===_0x1ebb3f[_0x580bb5(0x455)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x5d17cf+_0x580bb5(0x83e))[_0x580bb5(0x408)]('')+_0x580bb5(0x789),_0x2eee3d+=_0x580bb5(0x889)+_0xf42ca6+'\x22>'+_0x1ebb3f[_0x580bb5(0x6e0)]+_0x580bb5(0x88b);break;}_0x2eee3d+=_0x580bb5(0x165);}),_0x2eee3d+=_0xeb3a9c(0x7d8),_0x1e23ba['innerHTML']=_0x2eee3d,document['querySelectorAll']('.edit-question-btn')[_0xeb3a9c(0x121)](_0xd68f4a=>_0xd68f4a[_0xeb3a9c(0xfd)](_0xeb3a9c(0x3bd),handleEditQuestion)),document[_0xeb3a9c(0x1af)]('.regenerate-question-btn')[_0xeb3a9c(0x121)](_0x3807c9=>_0x3807c9[_0xeb3a9c(0xfd)](_0xeb3a9c(0x3bd),handleRegenerateQuestion)),document['querySelectorAll'](_0xeb3a9c(0x32f))[_0xeb3a9c(0x121)](_0x1714b5=>_0x1714b5['addEventListener'](_0xeb3a9c(0x3bd),handleSaveToBank)),document[_0xeb3a9c(0x21e)](_0xeb3a9c(0x20d))[_0xeb3a9c(0xfd)](_0xeb3a9c(0x3bd),exportQuizAsWorksheetPDF),document[_0xeb3a9c(0x21e)]('save-quiz-btn')[_0xeb3a9c(0xfd)]('click',saveQuiz),document[_0xeb3a9c(0x21e)]('verify-answers-btn')[_0xeb3a9c(0xfd)](_0xeb3a9c(0x3bd),handleVerifyAnswers);if(window['MathJax'])window[_0xeb3a9c(0x3ad)][_0xeb3a9c(0x3ed)]([_0x1e23ba]);}function handleRegenerateQuestion(_0x4ebcb4){const _0x2a5fdb=_0x13fc2f,_0x53f3dc=_0x4ebcb4[_0x2a5fdb(0x5a2)][_0x2a5fdb(0x3ca)]['index'],_0x4c5027=currentQuizData[_0x2a5fdb(0x3f8)];showMessage(_0x2a5fdb(0x89e)+(parseInt(_0x53f3dc)+0x1)+_0x2a5fdb(0x460)),generateQuiz(_0x4c5027,null,parseInt(_0x53f3dc));}function getPointerPosition(_0x1d4ea3,_0x132338){const _0x44f7e0=_0x13fc2f,_0x5e606a=_0x1d4ea3['getScreenCTM']();let _0x279940,_0xeb2a83;return _0x132338['touches']&&_0x132338['touches'][_0x44f7e0(0x708)]>0x0?(_0x279940=_0x132338[_0x44f7e0(0x8ce)][0x0]['clientX'],_0xeb2a83=_0x132338[_0x44f7e0(0x8ce)][0x0][_0x44f7e0(0x8b8)]):(_0x279940=_0x132338[_0x44f7e0(0x29e)],_0xeb2a83=_0x132338[_0x44f7e0(0x8b8)]),{'x':(_0x279940-_0x5e606a['e'])/_0x5e606a['a'],'y':(_0xeb2a83-_0x5e606a['f'])/_0x5e606a['d']};}function startDrag(_0x157d62){const _0x5942ea=_0x13fc2f;_0x157d62[_0x5942ea(0x2bc)]===_0x5942ea(0x63d)&&_0x157d62[_0x5942ea(0x60a)]();const _0x3079cc=_0x157d62[_0x5942ea(0x456)][_0x5942ea(0x4cd)](_0x5942ea(0x2a3));if(_0x3079cc){draggedSvgElement=_0x3079cc;const _0x2e7fbc=draggedSvgElement[_0x5942ea(0x105)],_0x109b1b=getPointerPosition(_0x2e7fbc,_0x157d62);svgOffset['x']=_0x109b1b['x']-parseFloat(draggedSvgElement[_0x5942ea(0x81a)](null,'x')),svgOffset['y']=_0x109b1b['y']-parseFloat(draggedSvgElement[_0x5942ea(0x81a)](null,'y'));}}function calculateItemAnalysis(_0x2785d2,_0x38f637){const _0x539b00=_0x13fc2f,_0x5c27ff={};if(_0x38f637['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x45aa10=[..._0x38f637][_0x539b00(0x212)]((_0x483463,_0x4c58b8)=>{const _0x51a8ad=_0x539b00,_0x5d23c2=_0x4c58b8[_0x51a8ad(0x392)]-_0x483463[_0x51a8ad(0x392)];if(_0x5d23c2!==0x0)return _0x5d23c2;const _0x1a0642=_0x483463[_0x51a8ad(0x378)]?.['length']||0x1,_0x173ad1=_0x4c58b8[_0x51a8ad(0x378)]?.[_0x51a8ad(0x708)]||0x1,_0x5141d7=_0x1a0642-_0x173ad1;if(_0x5141d7!==0x0)return _0x5141d7;const _0x423e46=new Date(_0x483463['latestSubmittedAt']),_0x504563=new Date(_0x4c58b8[_0x51a8ad(0x30d)]),_0x2f730f=_0x423e46-_0x504563;if(_0x2f730f!==0x0)return _0x2f730f;return _0x483463[_0x51a8ad(0x6b5)]['localeCompare'](_0x4c58b8[_0x51a8ad(0x6b5)],'th');}),_0x31b49c=_0x45aa10[_0x539b00(0x708)],_0x47b931=Math[_0x539b00(0x17d)](0x1,Math['floor'](_0x31b49c*0.33));if(_0x47b931===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x87654f=_0x45aa10[_0x539b00(0x182)](0x0,_0x47b931),_0x2df342=_0x45aa10['slice'](-_0x47b931),_0x5449f1=_0x87654f['map'](_0x235469=>_0x235469[_0x539b00(0x6b5)]),_0x181e1b=_0x2df342[_0x539b00(0x924)](_0x39a1ef=>_0x39a1ef['studentName']);return _0x2785d2['questions'][_0x539b00(0x121)]((_0x3838a3,_0x12615d)=>{const _0x3bda8c=_0x539b00,_0x5a302f=_0x3838a3['stem']||_0x3838a3[_0x3bda8c(0x777)];let _0x5ef9cb=0x0,_0x466899=0x0,_0x40beab=0x0;const _0x56d404=[],_0x218ccb=[];_0x87654f[_0x3bda8c(0x121)](_0x5e412e=>{const _0x1322df=_0x3bda8c,_0x32b9a0=_0x5e412e[_0x1322df(0x378)][_0x5e412e[_0x1322df(0x378)][_0x1322df(0x708)]-0x1],_0x14e6bf=_0x32b9a0['answers'][_0x1322df(0x75b)](_0xb69311=>_0xb69311[_0x1322df(0x897)]===_0x5a302f);_0x56d404[_0x1322df(0x805)]({'name':_0x5e412e[_0x1322df(0x6b5)],'isCorrect':_0x14e6bf?_0x14e6bf[_0x1322df(0x41d)]:![]}),_0x14e6bf&&_0x14e6bf[_0x1322df(0x41d)]&&_0x466899++;}),_0x2df342['forEach'](_0x2911fa=>{const _0x5c7ddb=_0x3bda8c,_0x5a107f=_0x2911fa[_0x5c7ddb(0x378)][_0x2911fa[_0x5c7ddb(0x378)][_0x5c7ddb(0x708)]-0x1],_0x360754=_0x5a107f[_0x5c7ddb(0x1e0)][_0x5c7ddb(0x75b)](_0x5e8ecc=>_0x5e8ecc[_0x5c7ddb(0x897)]===_0x5a302f);_0x218ccb[_0x5c7ddb(0x805)]({'name':_0x2911fa[_0x5c7ddb(0x6b5)],'isCorrect':_0x360754?_0x360754[_0x5c7ddb(0x41d)]:![]}),_0x360754&&_0x360754['isCorrect']&&_0x40beab++;}),_0x38f637[_0x3bda8c(0x121)](_0x2320e9=>{const _0x3b12ff=_0x3bda8c,_0x2d2933=_0x2320e9['attempts'][_0x2320e9[_0x3b12ff(0x378)][_0x3b12ff(0x708)]-0x1],_0x367451=_0x2d2933[_0x3b12ff(0x1e0)]['find'](_0x3f57d6=>_0x3f57d6[_0x3b12ff(0x897)]===_0x5a302f);_0x367451&&_0x367451['isCorrect']&&_0x5ef9cb++;});const _0x14d8d6=_0x31b49c>0x0?_0x5ef9cb/_0x31b49c:0x0,_0x29eeaf=_0x47b931>0x0?_0x466899/_0x47b931-_0x40beab/_0x47b931:0x0;_0x5c27ff[_0x12615d]={'p':_0x14d8d6,'r':_0x29eeaf,'upperGroupResponders':_0x56d404,'lowerGroupResponders':_0x218ccb};}),{'perQuestionStats':_0x5c27ff,'overallGroups':{'upperGroupNames':_0x5449f1,'lowerGroupNames':_0x181e1b}};}function drag(_0x533d7c){const _0x546fa1=_0x13fc2f;if(draggedSvgElement){_0x533d7c[_0x546fa1(0x60a)]();const _0x14c006=draggedSvgElement[_0x546fa1(0x105)],_0x5a2636=getPointerPosition(_0x14c006,_0x533d7c),_0x411d3b=_0x14c006[_0x546fa1(0x58c)][_0x546fa1(0x466)];let _0x1933b7=_0x5a2636['x']-svgOffset['x'],_0x121141=_0x5a2636['y']-svgOffset['y'];const _0x4b96ca=draggedSvgElement[_0x546fa1(0x5ce)]();_0x1933b7=Math[_0x546fa1(0x17d)](_0x411d3b['x'],Math['min'](_0x1933b7,_0x411d3b['x']+_0x411d3b[_0x546fa1(0x478)]-_0x4b96ca[_0x546fa1(0x478)])),_0x121141=Math[_0x546fa1(0x17d)](_0x411d3b['y'],Math[_0x546fa1(0x49e)](_0x121141,_0x411d3b['y']+_0x411d3b[_0x546fa1(0x2d8)]-_0x4b96ca[_0x546fa1(0x2d8)])),draggedSvgElement[_0x546fa1(0x597)](null,'x',_0x1933b7),draggedSvgElement[_0x546fa1(0x597)](null,'y',_0x121141);}}function endDrag(_0x2df80f){draggedSvgElement=null;}function handleSvgEditClick(_0x617986){const _0x2125ca=_0x13fc2f;if(_0x617986[_0x2125ca(0x456)][_0x2125ca(0x110)]['contains'](_0x2125ca(0x802))){const _0x3fd0fc=_0x617986[_0x2125ca(0x456)][_0x2125ca(0x3ca)]['targetId'],_0x35cf09=_0x617986[_0x2125ca(0x5a2)],_0x3f8c32=_0x35cf09['querySelector']('#'+_0x3fd0fc);_0x3f8c32&&_0x3f8c32[_0x2125ca(0x892)](),_0x617986['target'][_0x2125ca(0x892)]();}}function handleEditQuestion(_0x9384cd){const _0x4099bb=_0x13fc2f,_0x446d50=_0x9384cd[_0x4099bb(0x5a2)],_0x5cf765=_0x446d50[_0x4099bb(0x3ca)][_0x4099bb(0x7ba)],_0x2a4127=currentQuizData[_0x4099bb(0x218)][_0x5cf765],_0x16aac0=document['getElementById']('q-text-'+_0x5cf765),_0xf9d0d7=document[_0x4099bb(0x21e)]('q-explanation-'+_0x5cf765),_0x3e39ba=document[_0x4099bb(0x21e)](_0x4099bb(0x78b)+_0x5cf765);if(_0x446d50[_0x4099bb(0x768)][_0x4099bb(0x1be)](_0x4099bb(0x399))){_0x446d50[_0x4099bb(0x768)]=_0x4099bb(0x270),_0x446d50[_0x4099bb(0x3fe)]=_0x4099bb(0x2e4);if(_0x16aac0)_0x16aac0[_0x4099bb(0x5c4)]=!![];if(_0xf9d0d7)_0xf9d0d7[_0x4099bb(0x5c4)]=!![];if(_0x3e39ba){const _0x200aa6=_0x3e39ba[_0x4099bb(0x920)]('svg');if(_0x200aa6){const _0x1a3f6b=_0x200aa6[_0x4099bb(0x1af)](_0x4099bb(0x16e));_0x1a3f6b[_0x4099bb(0x121)]((_0x300517,_0x294386)=>{const _0x1012ef=_0x4099bb,_0x2d8d16='editable-text-'+_0x5cf765+'-'+_0x294386;_0x300517['id']=_0x2d8d16,_0x300517['classList'][_0x1012ef(0x8fb)](_0x1012ef(0x46b)),_0x300517['style'][_0x1012ef(0x539)]=_0x1012ef(0x59d);const _0x544edf=document[_0x1012ef(0x8fc)](_0x1012ef(0x7db),_0x1012ef(0x29d)),_0x23cd14=_0x300517[_0x1012ef(0x5ce)]();_0x544edf[_0x1012ef(0x436)]('cx',String(_0x23cd14['x']+_0x23cd14['width']+0x5)),_0x544edf[_0x1012ef(0x436)]('cy',String(_0x23cd14['y']+_0x23cd14['height']/0x2-0x5)),_0x544edf['setAttribute']('r','5'),_0x544edf[_0x1012ef(0x436)](_0x1012ef(0x178),_0x1012ef(0x306)),_0x544edf['setAttribute']('class','delete-svg-btn'),_0x544edf[_0x1012ef(0x3ca)][_0x1012ef(0x14a)]=_0x2d8d16,_0x300517['after'](_0x544edf);}),_0x200aa6[_0x4099bb(0xfd)](_0x4099bb(0x4ad),startDrag),_0x200aa6[_0x4099bb(0xfd)](_0x4099bb(0x3ce),drag),_0x200aa6[_0x4099bb(0xfd)](_0x4099bb(0x55d),endDrag),_0x200aa6[_0x4099bb(0xfd)](_0x4099bb(0x69b),endDrag),_0x200aa6[_0x4099bb(0xfd)](_0x4099bb(0x63d),startDrag,{'passive':![]}),_0x200aa6[_0x4099bb(0xfd)]('touchmove',drag,{'passive':![]}),_0x200aa6[_0x4099bb(0xfd)]('touchend',endDrag),_0x200aa6['addEventListener'](_0x4099bb(0x6b4),endDrag),_0x200aa6[_0x4099bb(0xfd)]('click',handleSvgEditClick);}}if(_0x16aac0)_0x16aac0[_0x4099bb(0x31f)]();}else{_0x446d50['innerHTML']=_0x4099bb(0x4ba),_0x446d50['title']=_0x4099bb(0x74c);if(_0x16aac0){_0x16aac0[_0x4099bb(0x5c4)]=![];const _0x466bb9=_0x2a4127[_0x4099bb(0x78e)]||currentQuizData[_0x4099bb(0x5a4)];_0x466bb9===_0x4099bb(0x48c)?_0x2a4127[_0x4099bb(0x700)]=_0x16aac0[_0x4099bb(0xf2)][_0x4099bb(0x7ab)](_0x16aac0[_0x4099bb(0xf2)][_0x4099bb(0x308)]('.')+0x2)[_0x4099bb(0x8de)]():_0x2a4127[_0x4099bb(0x777)]=_0x16aac0[_0x4099bb(0xf2)]['substring'](_0x16aac0['innerText'][_0x4099bb(0x308)]('.')+0x2)[_0x4099bb(0x8de)]();}_0xf9d0d7&&(_0xf9d0d7[_0x4099bb(0x5c4)]=![],_0x2a4127[_0x4099bb(0x6e0)]=_0xf9d0d7[_0x4099bb(0xf2)]);if(_0x3e39ba){const _0x53f611=_0x3e39ba[_0x4099bb(0x920)](_0x4099bb(0x3e7));if(_0x53f611){const _0x4dbdb0=_0x53f611[_0x4099bb(0x88d)](!![]);_0x4dbdb0[_0x4099bb(0x1af)](_0x4099bb(0x322))[_0x4099bb(0x121)](_0x548c8b=>_0x548c8b[_0x4099bb(0x892)]()),_0x4dbdb0['querySelectorAll'](_0x4099bb(0x2a3))[_0x4099bb(0x121)](_0x546fca=>{const _0x244dbe=_0x4099bb;_0x546fca[_0x244dbe(0x110)][_0x244dbe(0x892)](_0x244dbe(0x46b)),_0x546fca[_0x244dbe(0x124)][_0x244dbe(0x539)]=_0x244dbe(0x547),_0x546fca[_0x244dbe(0x8d3)]('id');}),_0x2a4127[_0x4099bb(0x130)]=_0x4dbdb0[_0x4099bb(0x3c2)],_0x53f611[_0x4099bb(0x3c1)](_0x4099bb(0x4ad),startDrag),_0x53f611['removeEventListener']('mousemove',drag),_0x53f611['removeEventListener'](_0x4099bb(0x55d),endDrag),_0x53f611['removeEventListener'](_0x4099bb(0x69b),endDrag),_0x53f611[_0x4099bb(0x3c1)](_0x4099bb(0x63d),startDrag),_0x53f611[_0x4099bb(0x3c1)]('touchmove',drag),_0x53f611[_0x4099bb(0x3c1)](_0x4099bb(0x8fe),endDrag),_0x53f611['removeEventListener'](_0x4099bb(0x6b4),endDrag),_0x53f611[_0x4099bb(0x3c1)]('click',handleSvgEditClick),_0x53f611[_0x4099bb(0x1af)](_0x4099bb(0x322))[_0x4099bb(0x121)](_0x591510=>_0x591510[_0x4099bb(0x892)]()),_0x53f611['querySelectorAll'](_0x4099bb(0x2a3))[_0x4099bb(0x121)](_0x558dc6=>{const _0x35c731=_0x4099bb;_0x558dc6[_0x35c731(0x110)][_0x35c731(0x892)](_0x35c731(0x46b)),_0x558dc6[_0x35c731(0x124)][_0x35c731(0x539)]=_0x35c731(0x547);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4c2056){const _0xb00d57=_0x13fc2f,_0x5c8ffc=document[_0xb00d57(0x21e)](_0xb00d57(0x10f)),_0x88b69d=document[_0xb00d57(0x21e)](_0xb00d57(0x522));_0x88b69d[_0xb00d57(0x768)]=_0xb00d57(0x15a),_0x5c8ffc['classList'][_0xb00d57(0x892)]('hidden');try{const _0x17703f=doc(db,'artifacts/'+appId+_0xb00d57(0x51e),_0x4c2056),_0x57298c=await getDoc(_0x17703f);if(!_0x57298c[_0xb00d57(0x610)]())throw new Error(_0xb00d57(0x6f4));currentEditingQuizData={'id':_0x4c2056,..._0x57298c[_0xb00d57(0x7ed)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x43a54b){console[_0xb00d57(0x5e9)]('Error\x20opening\x20quiz\x20editor:',_0x43a54b),showMessage(_0xb00d57(0x598)),_0x5c8ffc[_0xb00d57(0x110)]['add'](_0xb00d57(0x6c1));}}function renderQuizEditor(_0x29bd41){const _0x5752f7=_0x13fc2f;document[_0x5752f7(0x21e)](_0x5752f7(0x7ce))[_0x5752f7(0x24a)]=_0x29bd41[_0x5752f7(0x3f8)];const _0x4934ae=document['getElementById'](_0x5752f7(0x522));let _0x167d56=_0x29bd41[_0x5752f7(0x218)][_0x5752f7(0x924)]((_0x1a4bab,_0xf358f2)=>{const _0x157582=_0x5752f7;let _0xac68cb='';const _0x159520=_0x1a4bab[_0x157582(0x78e)]||_0x29bd41['quizType'];switch(_0x159520){case _0x157582(0x8f6):const _0x3c8b7f=(_0x1a4bab[_0x157582(0x138)]||[])['map']((_0x2cb59c,_0x1baa6d)=>_0x157582(0x778)+_0xf358f2+_0x157582(0x1ad)+_0x1baa6d+'\x22\x20'+(_0x1baa6d===_0x1a4bab[_0x157582(0x455)]?_0x157582(0x780):'')+_0x157582(0x70c)+_0x2cb59c+_0x157582(0x676))[_0x157582(0x408)]('');_0xac68cb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x3c8b7f+_0x157582(0x46e);break;case _0x157582(0x6ac):_0xac68cb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x1a4bab[_0x157582(0x665)]||'')+_0x157582(0x81f);break;case'true_false':_0xac68cb=_0x157582(0x490)+_0xf358f2+'\x22\x20value=\x22true\x22\x20'+(_0x1a4bab['correctAnswer']===!![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0xf358f2+_0x157582(0x26b)+(_0x1a4bab['correctAnswer']===![]?_0x157582(0x780):'')+_0x157582(0x8ab);break;case'matching_item':_0xac68cb=_0x157582(0x467)+(_0x1a4bab[_0x157582(0x349)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x36cb4d=_0x1a4bab[_0x157582(0x777)]||_0x1a4bab[_0x157582(0x700)]||'';return _0x157582(0x2dd)+_0xf358f2+_0x157582(0x6da)+_0x159520+_0x157582(0x82a)+(_0xf358f2+0x1)+'\x20('+_0x159520+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x36cb4d+_0x157582(0x104)+_0xac68cb+'</div>\x0a</div>\x0a';})[_0x5752f7(0x408)]('');_0x4934ae[_0x5752f7(0x768)]=_0x167d56,_0x4934ae['querySelectorAll'](_0x5752f7(0x8e0))[_0x5752f7(0x121)](_0x23b42c=>{const _0x356c99=_0x5752f7;_0x23b42c[_0x356c99(0xfd)](_0x356c99(0x3bd),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x53a65e){const _0x5a6579=_0x13fc2f,_0x27c123=_0x53a65e[_0x5a6579(0x5a2)],_0x2d44ff=_0x27c123[_0x5a6579(0x4cd)](_0x5a6579(0x16b));if(!_0x2d44ff)return;const _0x311132=parseInt(_0x2d44ff['dataset'][_0x5a6579(0x4dd)],0xa);if(isNaN(_0x311132)||!currentEditingQuizData[_0x5a6579(0x218)][_0x311132]){showMessage(_0x5a6579(0x208));return;}const _0x5967f7=currentEditingQuizData[_0x5a6579(0x218)][_0x311132];_0x27c123['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x27c123[_0x5a6579(0x506)]=!![];const _0x2ce7bc=_0x5a6579(0x4fe)+JSON[_0x5a6579(0x6fd)](_0x5967f7)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x2e3d0f;const _0x59e6bd=_0x5967f7['questionType']||currentEditingQuizData[_0x5a6579(0x5a4)];switch(_0x59e6bd){case _0x5a6579(0x6ac):_0x2e3d0f={'type':'OBJECT','properties':{'questionText':{'type':_0x5a6579(0x69c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5a6579(0x69c)},'imageCode':{'type':_0x5a6579(0x69c)}},'required':['questionText',_0x5a6579(0x665),_0x5a6579(0x6e0)]};break;case'multiple_choice':default:_0x2e3d0f={'type':_0x5a6579(0x1d7),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5a6579(0x661),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5a6579(0x58e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5a6579(0x69c)}},'required':['questionText',_0x5a6579(0x138),_0x5a6579(0x455),'explanation']};break;}try{let _0x1c8c4d=await callAnalysisApi(_0x2ce7bc,_0x2e3d0f);_0x1c8c4d['options']&&Array[_0x5a6579(0x781)](_0x1c8c4d[_0x5a6579(0x138)])&&(_0x1c8c4d['options']=_0x1c8c4d['options'][_0x5a6579(0x924)](_0x48036f=>typeof _0x48036f===_0x5a6579(0x557)?_0x48036f['replace'](/S(\s*[\d_]+?\s*)S/g,_0x5a6579(0x4c6)):_0x48036f)),_0x5967f7[_0x5a6579(0x130)]&&_0x5967f7['imageCode'][_0x5a6579(0x1be)](_0x5a6579(0x5d8))&&(_0x1c8c4d[_0x5a6579(0x130)]=''),currentEditingQuizData[_0x5a6579(0x218)][_0x311132]={..._0x5967f7,..._0x1c8c4d},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x4f425e){console['error'](_0x5a6579(0x68e),_0x4f425e),showMessage(_0x5a6579(0x43d)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xcd3a71=_0x13fc2f,_0x438724=document[_0xcd3a71(0x21e)](_0xcd3a71(0x47b));_0x438724[_0xcd3a71(0x506)]=!![],_0x438724[_0xcd3a71(0x768)]=_0xcd3a71(0x2a9);try{const _0x20b204=document[_0xcd3a71(0x21e)](_0xcd3a71(0x7ce))['value'],_0x1c4346=document[_0xcd3a71(0x1af)](_0xcd3a71(0x16b));let _0x4bc1c4=[];const _0x267e25=Array['from'](_0x1c4346)[_0xcd3a71(0x924)]((_0x1cd1c9,_0x29b64b)=>{const _0x5a072b=_0xcd3a71,_0x30d2cb=_0x1cd1c9[_0x5a072b(0x3ca)][_0x5a072b(0x2b5)],_0x25744c=_0x1cd1c9[_0x5a072b(0x920)]('textarea')[_0x5a072b(0x24a)];let _0x85662f={'questionType':_0x30d2cb};const _0x1243e9=currentEditingQuizData[_0x5a072b(0x218)][_0x29b64b];switch(_0x30d2cb){case _0x5a072b(0x8f6):_0x85662f[_0x5a072b(0x777)]=_0x25744c;const _0x22b381=_0x1cd1c9[_0x5a072b(0x1af)](_0x5a072b(0x3f3));_0x85662f[_0x5a072b(0x138)]=Array[_0x5a072b(0x46d)](_0x22b381)[_0x5a072b(0x924)](_0x56020e=>_0x56020e[_0x5a072b(0x24a)]);const _0x99e598=_0x1cd1c9['querySelector'](_0x5a072b(0x7d9));_0x85662f['correctAnswerIndex']=_0x99e598?parseInt(_0x99e598[_0x5a072b(0x24a)]):0x0;break;case'short_answer':_0x85662f['questionText']=_0x25744c,_0x85662f[_0x5a072b(0x665)]=_0x1cd1c9[_0x5a072b(0x920)](_0x5a072b(0x813))[_0x5a072b(0x24a)];break;case _0x5a072b(0x69f):_0x85662f[_0x5a072b(0x777)]=_0x25744c;const _0x41261b=_0x1cd1c9[_0x5a072b(0x920)](_0x5a072b(0x7d9));_0x85662f[_0x5a072b(0x8d9)]=_0x41261b?_0x41261b['value']===_0x5a072b(0x269):!![];break;case _0x5a072b(0x48c):_0x85662f[_0x5a072b(0x700)]=_0x25744c;const _0x51f152=_0x1cd1c9[_0x5a072b(0x920)](_0x5a072b(0x41a));_0x85662f[_0x5a072b(0x349)]=_0x51f152?_0x51f152['value']:'',_0x4bc1c4[_0x5a072b(0x805)](_0x85662f[_0x5a072b(0x349)]);break;default:_0x85662f['questionText']=_0x25744c;break;}return{..._0x1243e9,..._0x85662f};});_0x4bc1c4[_0xcd3a71(0x708)]>0x0&&_0x267e25[_0xcd3a71(0x121)](_0x2865ad=>{const _0x2c58cf=_0xcd3a71;_0x2865ad[_0x2c58cf(0x78e)]==='matching_item'&&(_0x2865ad[_0x2c58cf(0x8b1)]=_0x4bc1c4);});const _0x3f0c85=currentEditingQuizData['id'],_0x436fea=doc(db,_0xcd3a71(0x709)+appId+'/public/data/quizzes',_0x3f0c85);await updateDoc(_0x436fea,{'topic':_0x20b204,'questions':_0x267e25}),document[_0xcd3a71(0x21e)](_0xcd3a71(0x10f))[_0xcd3a71(0x110)][_0xcd3a71(0x8fb)](_0xcd3a71(0x6c1)),showMessage(_0xcd3a71(0x3b2),()=>initiateReGradeProcess(_0x3f0c85));}catch(_0x340aa1){console['error']('Error\x20saving\x20quiz\x20edits:',_0x340aa1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x438724['disabled']=![],_0x438724[_0xcd3a71(0x768)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x258a1c){const _0x5dd99a=_0x13fc2f;showMessage(_0x5dd99a(0x85c));try{const _0xf7de84=doc(db,_0x5dd99a(0x709)+appId+_0x5dd99a(0x51e),_0x258a1c),_0x49090a=await getDoc(_0xf7de84);if(!_0x49090a[_0x5dd99a(0x610)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x4738e0={'id':_0x258a1c,..._0x49090a[_0x5dd99a(0x7ed)]()},_0x5f0f07=collection(db,_0x5dd99a(0x709)+appId+_0x5dd99a(0x51e),_0x258a1c,'submissions'),_0x5480b5=await getDocs(_0x5f0f07);if(_0x5480b5[_0x5dd99a(0x606)]){showMessage(_0x5dd99a(0x2d2));return;}const _0x5d2c7c=_0x5480b5[_0x5dd99a(0x369)]['map'](_0x19ce7c=>reGradeSingleSubmission(_0x19ce7c,_0x4738e0));await Promise[_0x5dd99a(0x80a)](_0x5d2c7c);if(_0x4738e0[_0x5dd99a(0x779)]){const _0x48f18e=doc(db,_0x5dd99a(0x709)+appId+_0x5dd99a(0x8df),_0x4738e0['projectId']),_0x5f2b05=await getDoc(_0x48f18e);if(_0x5f2b05['exists']()&&_0x5f2b05[_0x5dd99a(0x7ed)]()[_0x5dd99a(0x1bf)]){const _0x8f9c66=_0x5f2b05[_0x5dd99a(0x7ed)]()[_0x5dd99a(0x1bf)]['map'](_0x5a0507=>updateStudentProfile(_0x4738e0[_0x5dd99a(0x779)],_0x5a0507));await Promise['all'](_0x8f9c66);}}showMessage(_0x5dd99a(0x14b)+_0x5480b5[_0x5dd99a(0x19c)]+_0x5dd99a(0x1ef));}catch(_0x3acab9){console[_0x5dd99a(0x5e9)](_0x5dd99a(0x2b6),_0x3acab9),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x3acab9[_0x5dd99a(0x73c)]);}}async function reGradeSingleSubmission(_0x33f04f,_0x4ceeb7){const _0x5e8928=_0x13fc2f,_0x1a9d0a=_0x33f04f['data'](),_0x11f951=_0x1a9d0a[_0x5e8928(0x6b5)],_0x2799e6=_0x1a9d0a[_0x5e8928(0x378)]||[],_0x5d7d0d=[];for(const _0x1ba069 of _0x2799e6){let _0x167f7c=0x0,_0x3d5209=[],_0x1ae1d5=0x0;const _0x48aca0=[];for(const _0x12828e of _0x1ba069[_0x5e8928(0x1e0)]){let _0x3ed008;_0x12828e[_0x5e8928(0x81d)]&&(_0x3ed008=_0x4ceeb7[_0x5e8928(0x218)][_0x5e8928(0x75b)](_0x2ba88d=>_0x2ba88d['id']===_0x12828e[_0x5e8928(0x81d)]));!_0x3ed008&&_0x12828e[_0x5e8928(0x897)]&&(_0x3ed008=_0x4ceeb7[_0x5e8928(0x218)][_0x5e8928(0x75b)](_0x1503cb=>(_0x1503cb['stem']||_0x1503cb[_0x5e8928(0x777)])===_0x12828e['originalQuestionText']));let _0x2af778=![];if(_0x3ed008){const _0x109bc8=_0x3ed008[_0x5e8928(0x78e)]||_0x4ceeb7[_0x5e8928(0x5a4)];switch(_0x109bc8){case'multiple_choice':if(_0x3ed008[_0x5e8928(0x138)]&&_0x3ed008['correctAnswerIndex']<_0x3ed008[_0x5e8928(0x138)][_0x5e8928(0x708)]){const _0x5a9147=_0x3ed008[_0x5e8928(0x138)][_0x3ed008[_0x5e8928(0x455)]];_0x2af778=_0x12828e[_0x5e8928(0x895)]===_0x5a9147;}break;case _0x5e8928(0x69f):const _0x542334=_0x12828e[_0x5e8928(0x3c7)]===!![]||_0x12828e['answer']==='true';_0x2af778=_0x542334===_0x3ed008[_0x5e8928(0x8d9)];break;case _0x5e8928(0x48c):_0x2af778=_0x12828e[_0x5e8928(0x3c7)]===_0x3ed008['correctResponse'];break;case'short_answer':_0x2af778=await gradeShortAnswer(_0x12828e[_0x5e8928(0x3c7)],_0x3ed008);break;default:_0x2af778=_0x12828e['isCorrect'];break;}}if(_0x2af778){_0x167f7c++,_0x1ae1d5++;if(_0x1ae1d5===0x3)_0x3d5209[_0x5e8928(0x805)](BADGES[_0x5e8928(0x8ee)]['id']);}else _0x1ae1d5=0x0;_0x48aca0[_0x5e8928(0x805)]({..._0x12828e,'isCorrect':_0x2af778});}let _0x51b027=_0x167f7c*0xa;_0x167f7c===_0x4ceeb7['questions']['length']&&(_0x51b027+=0x32,_0x3d5209['push'](BADGES[_0x5e8928(0x749)]['id'])),_0x5d7d0d[_0x5e8928(0x805)]({..._0x1ba069,'score':_0x167f7c,'points':_0x51b027,'badges':Array[_0x5e8928(0x46d)](new Set(_0x3d5209)),'answers':_0x48aca0});}const _0x28a3b9=_0x5d7d0d[_0x5e8928(0x708)]>0x0?_0x5d7d0d[0x0][_0x5e8928(0x510)]:0x0,_0x42a991=Math[_0x5e8928(0x17d)](..._0x5d7d0d[_0x5e8928(0x924)](_0x139711=>_0x139711[_0x5e8928(0x510)])),_0x46d92d=_0x5d7d0d[_0x5e8928(0x708)]>0x0?_0x5d7d0d[_0x5d7d0d[_0x5e8928(0x708)]-0x1]['score']:0x0,_0x1e42e2=_0x5d7d0d[_0x5e8928(0x708)]>0x0?_0x5d7d0d[_0x5d7d0d[_0x5e8928(0x708)]-0x1][_0x5e8928(0x7f2)]:0x0,_0x318091=doc(db,_0x5e8928(0x709)+appId+_0x5e8928(0x823)+_0x4ceeb7['id']+_0x5e8928(0x1f4),_0x11f951);await updateDoc(_0x318091,{'attempts':_0x5d7d0d,'firstScore':_0x28a3b9,'bestScore':_0x42a991,'latestScore':_0x46d92d,'points':_0x1e42e2});}function cleanupQuizOptions(_0x3403ab){const _0x510793=_0x13fc2f,_0x13c548=(_0x879313,_0x46a509)=>_0x46a509===0x0?_0x879313:_0x13c548(_0x46a509,_0x879313%_0x46a509),_0x10f82d=_0x484e08=>{const _0x317c23=_0x14fe;if(typeof _0x484e08!==_0x317c23(0x557))return null;_0x484e08=_0x484e08[_0x317c23(0x8de)]();const _0x5e4d66=_0x484e08['split'](/[ /]/)[_0x317c23(0x17f)](_0x353f1f=>_0x353f1f!=='');if(_0x5e4d66['length']===0x3)return parseInt(_0x5e4d66[0x0])+parseInt(_0x5e4d66[0x1])/parseInt(_0x5e4d66[0x2]);else{if(_0x5e4d66[_0x317c23(0x708)]===0x2)return parseInt(_0x5e4d66[0x0])/parseInt(_0x5e4d66[0x1]);else{if(_0x5e4d66['length']===0x1&&!isNaN(_0x5e4d66[0x0]))return parseFloat(_0x5e4d66[0x0]);}}return null;},_0x52ccab=_0x172773=>{const _0xb544d9=_0x14fe;if(typeof _0x172773!=='string')return _0x172773;const _0x3148b5=_0x172773['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3148b5){const _0x77112f=parseInt(_0x3148b5[0x1]);let _0x46e988=parseInt(_0x3148b5[0x2]),_0x13787a=parseInt(_0x3148b5[0x3]);const _0x4b752e=_0x13c548(_0x46e988,_0x13787a);_0x46e988/=_0x4b752e,_0x13787a/=_0x4b752e;if(_0x13787a===0x1)return(_0x77112f+_0x46e988)[_0xb544d9(0x319)]();return _0x77112f+'\x20'+_0x46e988+'/'+_0x13787a;}return _0x172773;};return _0x3403ab&&_0x3403ab[_0x510793(0x218)]&&_0x3403ab[_0x510793(0x218)][_0x510793(0x121)](_0x4fec58=>{const _0x61b5da=_0x510793;if(_0x4fec58[_0x61b5da(0x78e)]===_0x61b5da(0x8f6)&&_0x4fec58[_0x61b5da(0x138)]){const _0x18b3f9=new Map(),_0x2d39bf=_0x4fec58['options'][_0x4fec58[_0x61b5da(0x455)]];_0x4fec58[_0x61b5da(0x138)][_0x61b5da(0x121)](_0x131ea5=>{const _0x53401b=_0x61b5da,_0x2bfc68=_0x52ccab(_0x131ea5),_0x714bf=_0x10f82d(_0x2bfc68);_0x714bf!==null&&!_0x18b3f9['has'](_0x714bf)&&_0x18b3f9[_0x53401b(0x1b1)](_0x714bf,_0x2bfc68);}),_0x4fec58[_0x61b5da(0x138)]=Array[_0x61b5da(0x46d)](_0x18b3f9['values']());const _0x347529=_0x4fec58[_0x61b5da(0x138)][_0x61b5da(0x601)](_0x3a962e=>_0x3a962e===_0x52ccab(_0x2d39bf));_0x4fec58[_0x61b5da(0x455)]=_0x347529!==-0x1?_0x347529:0x0;}}),_0x3403ab;}async function saveQuiz(){const _0x342f97=_0x13fc2f;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x342f97(0x218)]||!userId){showMessage(_0x342f97(0x559));return;}const _0x31d4e9=document[_0x342f97(0x21e)](_0x342f97(0x64f));_0x31d4e9[_0x342f97(0x506)]=!![],_0x31d4e9['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x3338e4=document[_0x342f97(0x21e)](_0x342f97(0x3d4))[_0x342f97(0x780)];let _0x50ad1e=document[_0x342f97(0x21e)](_0x342f97(0x560))[_0x342f97(0xf2)][_0x342f97(0x8de)]();_0x3338e4&&!_0x50ad1e[_0x342f97(0x3b7)](_0x342f97(0x7be))&&(_0x50ad1e=_0x342f97(0x5c7)+_0x50ad1e);try{const _0x438476={'resultsDisplay':document[_0x342f97(0x21e)](_0x342f97(0x422))['value'],'shuffle':document[_0x342f97(0x21e)](_0x342f97(0x879))['value'],'timerMode':document['getElementById'](_0x342f97(0x8dc))[_0x342f97(0x24a)],'timerDuration':parseInt(document[_0x342f97(0x21e)](_0x342f97(0x5f2))[_0x342f97(0x24a)])||0xa,'passingScore':parseInt(document['getElementById'](_0x342f97(0x71b))['value'])||0x0,'isAdaptive':document[_0x342f97(0x21e)]('adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x342f97(0x21e)](_0x342f97(0x588))[_0x342f97(0x780)]},_0x3c3dc9=(currentQuizData['questions']||[])['map']((_0x5e66a0,_0xd79390)=>{const _0x5dd7fc=_0x342f97,_0x1a603a=document[_0x5dd7fc(0x21e)](_0x5dd7fc(0x368))[_0x5dd7fc(0x24a)],_0x175d22={'id':'q_'+Date[_0x5dd7fc(0x8d2)]()+'_'+_0xd79390,'questionText':_0x5e66a0['questionText']||'','explanation':_0x5e66a0['explanation']||_0x5dd7fc(0x267),'questionType':_0x5e66a0['questionType']||_0x1a603a,'imageCode':_0x5e66a0[_0x5dd7fc(0x130)]||null};return(_0x175d22['questionType']===_0x5dd7fc(0x8f6)||_0x175d22[_0x5dd7fc(0x78e)]==='fill_in_with_choices'||_0x175d22[_0x5dd7fc(0x78e)]===_0x5dd7fc(0x446)&&_0x5e66a0[_0x5dd7fc(0x138)])&&(_0x175d22[_0x5dd7fc(0x138)]=_0x5e66a0[_0x5dd7fc(0x138)]||[],_0x175d22[_0x5dd7fc(0x455)]=_0x5e66a0[_0x5dd7fc(0x455)]!==undefined?_0x5e66a0[_0x5dd7fc(0x455)]:0x0),(_0x175d22[_0x5dd7fc(0x78e)]===_0x5dd7fc(0x6ac)||_0x175d22[_0x5dd7fc(0x78e)]===_0x5dd7fc(0x4ee)||_0x175d22[_0x5dd7fc(0x78e)]===_0x5dd7fc(0x446)&&_0x5e66a0[_0x5dd7fc(0x665)])&&(_0x175d22[_0x5dd7fc(0x665)]=_0x5e66a0[_0x5dd7fc(0x665)]||''),_0x175d22[_0x5dd7fc(0x78e)]===_0x5dd7fc(0x69f)&&(_0x175d22[_0x5dd7fc(0x8d9)]=_0x5e66a0[_0x5dd7fc(0x8d9)]===!![]),_0x175d22[_0x5dd7fc(0x78e)]===_0x5dd7fc(0x48c)&&(_0x175d22['stem']=_0x5e66a0[_0x5dd7fc(0x700)]||'',_0x175d22[_0x5dd7fc(0x349)]=_0x5e66a0[_0x5dd7fc(0x349)]||'',_0x175d22['allResponses']=_0x5e66a0[_0x5dd7fc(0x8b1)]||[]),_0x175d22;}),_0x2a81d8={'topic':_0x50ad1e,'quizType':currentQuizData[_0x342f97(0x5a4)]||'multiple_choice','questions':_0x3c3dc9,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x438476,'quizMode':_0x3338e4?_0x342f97(0x175):_0x342f97(0x268),'pairedQuizId':null,'lessonPlan':null};let _0x6e05a6;while(!![]){_0x6e05a6=Math[_0x342f97(0x325)](0x3e8+Math['random']()*0x2328)[_0x342f97(0x319)]();const _0x579285=await getDoc(doc(db,_0x342f97(0x709)+appId+_0x342f97(0x51e),_0x6e05a6));if(!_0x579285[_0x342f97(0x610)]())break;}await setDoc(doc(db,_0x342f97(0x709)+appId+_0x342f97(0x51e),_0x6e05a6),_0x2a81d8),currentQuizData[_0x342f97(0x168)]=_0x438476,currentQuizData['id']=_0x6e05a6;const _0x184324=document[_0x342f97(0x21e)]('generated-quiz-actions');_0x184324[_0x342f97(0x768)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x6e05a6+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x342f97(0x21e)](_0x342f97(0x922))['addEventListener'](_0x342f97(0x3bd),()=>copyTextToClipboard(_0x6e05a6,'คัดลอกรหัสแล้ว!')),document[_0x342f97(0x21e)](_0x342f97(0x387))[_0x342f97(0xfd)]('click',()=>handleStartLiveRace(_0x6e05a6)),document[_0x342f97(0x21e)](_0x342f97(0x2ca))[_0x342f97(0xfd)](_0x342f97(0x3bd),()=>startPresentation(currentQuizData)),document[_0x342f97(0x21e)](_0x342f97(0x4d5))['addEventListener'](_0x342f97(0x3bd),startAdminTest),showMessage(_0x342f97(0x1d1));}catch(_0x21cfdd){console[_0x342f97(0x5e9)](_0x342f97(0x4c4),_0x21cfdd),showMessage(_0x342f97(0x548)),_0x31d4e9['disabled']=![],_0x31d4e9[_0x342f97(0x768)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x4abf0a=_0x13fc2f,_0x3d24c8=document[_0x4abf0a(0x21e)](_0x4abf0a(0x702)),_0x206e8f=document['getElementById'](_0x4abf0a(0x3c9)),_0x3ca940=_0x3d24c8[_0x4abf0a(0x920)]('h3'),_0x411b66=document['getElementById'](_0x4abf0a(0x341));_0x3ca940[_0x4abf0a(0x680)]=_0x4abf0a(0x385),_0x411b66[_0x4abf0a(0x680)]=_0x4abf0a(0x8c0);allProjects[_0x4abf0a(0x708)]===0x0?(_0x206e8f[_0x4abf0a(0x768)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x411b66[_0x4abf0a(0x506)]=!![]):(_0x206e8f[_0x4abf0a(0x768)]=allProjects[_0x4abf0a(0x924)](_0x4c5dc3=>_0x4abf0a(0x621)+_0x4c5dc3['id']+'\x22>'+_0x4c5dc3['projectName']+'</option>')[_0x4abf0a(0x408)](''),_0x411b66['disabled']=![]);_0x3d24c8[_0x4abf0a(0x110)][_0x4abf0a(0x892)](_0x4abf0a(0x6c1));const _0x46753e=()=>{const _0x5a0a16=_0x4abf0a,_0x38d05b=_0x206e8f['value'];_0x38d05b?(currentProjectId=_0x38d05b,_0x3d24c8['classList'][_0x5a0a16(0x8fb)](_0x5a0a16(0x6c1)),saveQuiz(),_0x3ca940[_0x5a0a16(0x680)]=_0x5a0a16(0x3e5),_0x411b66[_0x5a0a16(0x680)]=_0x5a0a16(0x211),_0x411b66[_0x5a0a16(0x3c1)](_0x5a0a16(0x3bd),_0x46753e),_0x411b66[_0x5a0a16(0xfd)](_0x5a0a16(0x3bd),confirmMoveQuiz)):showMessage(_0x5a0a16(0x2e9));};_0x411b66[_0x4abf0a(0x3c1)](_0x4abf0a(0x3bd),confirmMoveQuiz),_0x411b66[_0x4abf0a(0xfd)](_0x4abf0a(0x3bd),_0x46753e);}function copyTextToClipboard(_0x31914d,_0x328371){const _0x3a4938=_0x13fc2f,_0xf11827=document['createElement'](_0x3a4938(0x2ec));_0xf11827[_0x3a4938(0x24a)]=_0x31914d,_0xf11827[_0x3a4938(0x124)][_0x3a4938(0x232)]=_0x3a4938(0x531),_0xf11827['style']['opacity']='0',document[_0x3a4938(0x7c7)][_0x3a4938(0x689)](_0xf11827),_0xf11827[_0x3a4938(0x31f)](),_0xf11827['select']();try{const _0x4c6b52=document[_0x3a4938(0x4e1)](_0x3a4938(0x79e));showMessage(_0x4c6b52?_0x328371:_0x3a4938(0x72f));}catch(_0x525c3d){showMessage(_0x3a4938(0x72f)),console['error'](_0x3a4938(0x443),_0x525c3d);}document['body'][_0x3a4938(0x3d8)](_0xf11827);}function listenForProjectQuizzes(_0x1d0d8c){const _0x251e74=_0x13fc2f,_0x13a525=collection(db,'artifacts/'+appId+_0x251e74(0x51e)),_0x1d4767=query(_0x13a525,where(_0x251e74(0x779),'==',_0x1d0d8c));unsubscribeQuizzesListener=onSnapshot(_0x1d4767,async _0x44c4ec=>{const _0x17551a=_0x251e74;allQuizzes=_0x44c4ec[_0x17551a(0x369)][_0x17551a(0x924)](_0x1f61b3=>({'id':_0x1f61b3['id'],..._0x1f61b3[_0x17551a(0x7ed)]()})),renderQuizzes();},_0x1a4ad5=>{const _0x39ea6e=_0x251e74;console[_0x39ea6e(0x5e9)](_0x39ea6e(0xf3),_0x1a4ad5),document[_0x39ea6e(0x21e)](_0x39ea6e(0x6a5))[_0x39ea6e(0x768)]=_0x39ea6e(0x2c8);});}async function renderQuizzes(){const _0x1ffa53=_0x13fc2f,_0x5cc047=document[_0x1ffa53(0x21e)]('project-quizzes-list'),_0x136aab=document[_0x1ffa53(0x21e)](_0x1ffa53(0x7e7))[_0x1ffa53(0x24a)][_0x1ffa53(0x128)]();let _0x1a3624;currentProjectId===_0x1ffa53(0x27b)?_0x1a3624=starredQuizzes:_0x1a3624=allQuizzes;let _0x1db4df=_0x1a3624['filter'](_0x5d3025=>_0x5d3025[_0x1ffa53(0x3f8)][_0x1ffa53(0x128)]()[_0x1ffa53(0x1be)](_0x136aab));_0x1db4df['sort']((_0x1f98e0,_0x3181d3)=>new Date(_0x3181d3[_0x1ffa53(0x60c)])-new Date(_0x1f98e0[_0x1ffa53(0x60c)]));if(_0x1db4df['length']===0x0){_0x5cc047['innerHTML']=_0x1ffa53(0x5b9);return;}const _0x501eae={},_0xfef361=_0x1db4df['map'](async _0x2cabec=>{const _0x18bdf3=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2cabec['id']+'/submissions'),_0x5d1648=await getDocs(_0x18bdf3);_0x501eae[_0x2cabec['id']]=_0x5d1648['size'];});await Promise[_0x1ffa53(0x80a)](_0xfef361);let _0x53ad0d='';_0x1db4df[_0x1ffa53(0x121)](_0x566e4f=>{const _0x5b1675=_0x1ffa53,_0x4f402c=_0x501eae[_0x566e4f['id']]||0x0,_0x3256ac=_0x566e4f[_0x5b1675(0x5f5)]||_0x5b1675(0x782),_0xd095d=_0x566e4f['settings']?.[_0x5b1675(0x266)]||'none';let _0xf28b1a='',_0x7ace9b='';const _0xaecee2=new Date();let _0x54b186=_0x3256ac;if(_0x3256ac===_0x5b1675(0x6d8)){const _0x309a90=_0x566e4f[_0x5b1675(0x7c4)]?new Date(_0x566e4f[_0x5b1675(0x7c4)]):null,_0x572979=_0x566e4f[_0x5b1675(0x57d)]?new Date(_0x566e4f[_0x5b1675(0x57d)]):null;if(_0x572979&&_0xaecee2>_0x572979)_0x54b186=_0x5b1675(0x7f4);else _0x309a90&&_0xaecee2<_0x309a90?_0x54b186=_0x5b1675(0x155):_0x54b186=_0x5b1675(0x782);}switch(_0x54b186){case _0x5b1675(0x7f4):_0xf28b1a=_0x5b1675(0x3f6),_0x7ace9b=_0x5b1675(0x833);break;case'scheduled_pending':_0xf28b1a='รอเปิด',_0x7ace9b=_0x5b1675(0x874);break;case _0x5b1675(0x782):_0xf28b1a=_0xd095d!==_0x5b1675(0x1fb)?_0x5b1675(0x804):_0x5b1675(0x68f),_0x7ace9b=_0x5b1675(0x6b7);break;default:_0xf28b1a=_0x5b1675(0x3a3),_0x7ace9b='text-green-700\x20bg-green-100';break;}let _0x14280a='';const _0x3734e8={'day':'2-digit','month':_0x5b1675(0x85a),'year':'numeric','hour':'2-digit','minute':_0x5b1675(0x85a),'hour12':![]};if(_0x3256ac===_0x5b1675(0x6d8)){if(_0x566e4f[_0x5b1675(0x7c4)])_0x14280a+=_0x5b1675(0x419)+new Date(_0x566e4f[_0x5b1675(0x7c4)])['toLocaleString'](_0x5b1675(0x832),_0x3734e8)+_0x5b1675(0x30a);if(_0x566e4f[_0x5b1675(0x57d)])_0x14280a+=_0x5b1675(0x741)+new Date(_0x566e4f[_0x5b1675(0x57d)])['toLocaleString'](_0x5b1675(0x832),_0x3734e8)+_0x5b1675(0x30a);}let _0x24e159='';if(_0x566e4f[_0x5b1675(0x761)]){const _0x56332a=allQuizzes[_0x5b1675(0x75b)](_0x4bab41=>_0x4bab41['id']===_0x566e4f[_0x5b1675(0x761)]);if(_0x56332a){let _0x3ee509,_0x5a1e47;new Date(_0x566e4f[_0x5b1675(0x60c)])<new Date(_0x56332a[_0x5b1675(0x60c)])?(_0x3ee509=_0x566e4f['id'],_0x5a1e47=_0x56332a['id']):(_0x3ee509=_0x56332a['id'],_0x5a1e47=_0x566e4f['id']),_0x24e159+=_0x5b1675(0x77b)+_0x5a1e47+_0x5b1675(0x52c)+_0x3ee509+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x566e4f[_0x5b1675(0x720)]==='pre-test'&&(_0x24e159+=_0x5b1675(0x10b)+_0x566e4f['id']+_0x5b1675(0x8bf));if(_0x566e4f['quizMode']===_0x5b1675(0x175)&&_0x4f402c>0x0)_0x24e159+=_0x5b1675(0x10b)+_0x566e4f['id']+_0x5b1675(0x337);else!_0x566e4f[_0x5b1675(0x761)]&&_0x566e4f[_0x5b1675(0x720)]!==_0x5b1675(0x175)&&_0x4f402c>0x0&&(_0x24e159+=_0x5b1675(0x10b)+_0x566e4f['id']+_0x5b1675(0x29f));let _0x1c21dc='';_0x566e4f[_0x5b1675(0x761)]?_0x1c21dc='<button\x20data-quiz-id=\x22'+_0x566e4f['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x1c21dc=_0x5b1675(0x68a)+_0x566e4f['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x53ad0d+=_0x5b1675(0x6f1)+_0x566e4f['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x566e4f['topic']+_0x5b1675(0x23c)+_0x566e4f[_0x5b1675(0x218)][_0x5b1675(0x708)]+_0x5b1675(0x3c8)+new Date(_0x566e4f[_0x5b1675(0x60c)])[_0x5b1675(0x164)](_0x5b1675(0x832))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x4f402c+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14280a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x7ace9b+'\x22>'+_0xf28b1a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x566e4f['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x566e4f['id']+_0x5b1675(0xd8)+(_0x566e4f[_0x5b1675(0x4e4)]?_0x5b1675(0x49a):_0x5b1675(0xd9))+_0x5b1675(0x685)+_0x24e159+_0x5b1675(0x840)+_0x566e4f['id']+_0x5b1675(0x2d5)+_0x566e4f['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x566e4f['id']+_0x5b1675(0x8bd)+_0x566e4f['id']+_0x5b1675(0x22e)+_0x566e4f['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x566e4f['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x566e4f['id']+_0x5b1675(0x248)+_0x566e4f[_0x5b1675(0x3f8)]+_0x5b1675(0x7d3)+_0x566e4f['id']+_0x5b1675(0x7cb)+_0x566e4f['id']+_0x5b1675(0x241)+_0x1c21dc+_0x5b1675(0x457)+_0x566e4f['id']+_0x5b1675(0x472)+_0x566e4f['id']+_0x5b1675(0x815)+_0x566e4f['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x566e4f['id']+_0x5b1675(0x906)+_0x566e4f['id']+_0x5b1675(0x248)+_0x566e4f[_0x5b1675(0x3f8)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x566e4f['id']+_0x5b1675(0x669);}),_0x5cc047[_0x1ffa53(0x768)]=_0x53ad0d,document[_0x1ffa53(0x1af)](_0x1ffa53(0x4ec))['forEach'](_0x494c92=>{const _0x5f53c6=_0x1ffa53;_0x494c92[_0x5f53c6(0xfd)]('click',()=>{const _0x3e6340=_0x5f53c6,_0xd47268=_0x494c92[_0x3e6340(0x3ca)][_0x3e6340(0x653)];showQuizDetailView(_0xd47268);});});}async function handleUnpairQuiz(_0x1f78fa){const _0x179b09=_0x13fc2f,_0x4c6ae7=allQuizzes[_0x179b09(0x75b)](_0x236278=>_0x236278['id']===_0x1f78fa);if(!_0x4c6ae7||!_0x4c6ae7[_0x179b09(0x761)]){showMessage(_0x179b09(0x20b));return;}showConfirmation(_0x179b09(0x2b9),async()=>{const _0x421b49=_0x179b09;try{const _0x4026a8=doc(db,'artifacts/'+appId+_0x421b49(0x51e),_0x1f78fa),_0x2fdb17=doc(db,'artifacts/'+appId+_0x421b49(0x51e),_0x4c6ae7[_0x421b49(0x761)]),_0x816ebc=writeBatch(db);_0x816ebc[_0x421b49(0x5b8)](_0x4026a8,{'pairedQuizId':null}),_0x816ebc['update'](_0x2fdb17,{'pairedQuizId':null}),await _0x816ebc[_0x421b49(0x4a0)](),showMessage(_0x421b49(0x886));}catch(_0x552914){console['error'](_0x421b49(0x87f),_0x552914),showMessage(_0x421b49(0x5fd));}});}function formatAndPrintLessonPlan(_0x13c942,_0x2eebba){const _0x5541f4=_0x13fc2f,_0xa3bcbd=window['open']('','_blank'),_0x2ecfb4=_0x5541f4(0x743)+_0x2eebba['topic']+_0x5541f4(0x5d6)+_0x2eebba[_0x5541f4(0x3f8)]+_0x5541f4(0xff)+_0x13c942[_0x5541f4(0x373)]['map'](_0x1eb22e=>_0x5541f4(0x8e7)+_0x1eb22e+'</li>')['join']('')+_0x5541f4(0x5de)+_0x13c942[_0x5541f4(0x912)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13c942[_0x5541f4(0x4e0)]['map'](_0x539be8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x539be8[_0x5541f4(0x8c8)]+_0x5541f4(0x1f0)+_0x539be8['solution']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x5541f4(0x2fe);_0xa3bcbd[_0x5541f4(0x66a)][_0x5541f4(0x3fb)](_0x2ecfb4),_0xa3bcbd[_0x5541f4(0x66a)]['close'](),_0xa3bcbd['onload']=function(){setTimeout(()=>{const _0x66025d=_0x14fe;_0xa3bcbd[_0x66025d(0x3e4)]();},0x3e8);};}async function handleAiFixFormula(_0x519151){const _0xb928d6=_0x13fc2f,_0x1e2605=document[_0xb928d6(0x920)]('.question-editor-item[data-q-index=\x22'+_0x519151+'\x22]');if(!_0x1e2605)return;const _0x3b317d=_0x1e2605[_0xb928d6(0x3ca)][_0xb928d6(0x2b5)],_0x24a76d=_0x1e2605['querySelector'](_0xb928d6(0x13a));let _0x32bbc5={'question':_0x1e2605['querySelector'](_0xb928d6(0x2ec))[_0xb928d6(0x24a)]};switch(_0x3b317d){case _0xb928d6(0x8f6):_0x32bbc5[_0xb928d6(0x138)]=Array[_0xb928d6(0x46d)](_0x1e2605['querySelectorAll'](_0xb928d6(0x3f3)))[_0xb928d6(0x924)](_0x380cfa=>_0x380cfa[_0xb928d6(0x24a)]);break;case'short_answer':_0x32bbc5['idealAnswer']=_0x1e2605['querySelector']('.ideal-answer-input')[_0xb928d6(0x24a)];break;case'matching_item':_0x32bbc5[_0xb928d6(0x349)]=_0x1e2605[_0xb928d6(0x920)](_0xb928d6(0x41a))[_0xb928d6(0x24a)];break;}_0x24a76d[_0xb928d6(0x768)]=_0xb928d6(0x6d1),_0x24a76d['disabled']=!![];try{const _0x5d12b2=_0xb928d6(0x4a6)+JSON[_0xb928d6(0x6fd)](_0x32bbc5)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x10bd15={'type':_0xb928d6(0x1d7),'properties':{'fixedData':{'type':_0xb928d6(0x1d7),'properties':{'question':{'type':'STRING'},'options':{'type':_0xb928d6(0x661),'items':{'type':_0xb928d6(0x69c)}},'idealAnswer':{'type':_0xb928d6(0x69c)},'correctResponse':{'type':_0xb928d6(0x69c)}},'required':[_0xb928d6(0x8c8)]}},'required':[_0xb928d6(0x6b9)]},_0x59b718=await callAnalysisApi(_0x5d12b2,_0x10bd15);if(_0x59b718&&_0x59b718[_0xb928d6(0x6b9)]){const _0x3c097b=_0x59b718[_0xb928d6(0x6b9)];_0x1e2605[_0xb928d6(0x920)](_0xb928d6(0x2ec))['value']=_0x3c097b[_0xb928d6(0x8c8)]||_0x32bbc5[_0xb928d6(0x8c8)];switch(_0x3b317d){case _0xb928d6(0x8f6):_0x3c097b[_0xb928d6(0x138)]&&_0x3c097b[_0xb928d6(0x138)][_0xb928d6(0x708)]>0x0&&_0x1e2605[_0xb928d6(0x1af)]('input[type=\x22text\x22]')['forEach']((_0x2f7501,_0x38e3a9)=>{const _0x151193=_0xb928d6;_0x2f7501[_0x151193(0x24a)]=_0x3c097b[_0x151193(0x138)][_0x38e3a9]||_0x32bbc5['options'][_0x38e3a9];});break;case'short_answer':_0x1e2605['querySelector'](_0xb928d6(0x813))['value']=_0x3c097b[_0xb928d6(0x665)]||_0x32bbc5['idealAnswer'];break;case _0xb928d6(0x48c):_0x1e2605['querySelector']('.correct-response-input')['value']=_0x3c097b['correctResponse']||_0x32bbc5[_0xb928d6(0x349)];break;}if(_0x32bbc5[_0xb928d6(0x8c8)]!==_0x3c097b['question'])try{const _0x180e3c=collection(db,_0xb928d6(0x709)+appId+_0xb928d6(0x5d0));await addDoc(_0x180e3c,{'broken':_0x32bbc5[_0xb928d6(0x8c8)],'fixed':_0x3c097b['question'],'createdAt':serverTimestamp()});}catch(_0x194a25){console[_0xb928d6(0x5e9)](_0xb928d6(0xed),_0x194a25);}showMessage(_0xb928d6(0x497));}else throw new Error(_0xb928d6(0x3a4));}catch(_0x16a988){console[_0xb928d6(0x5e9)](_0xb928d6(0x15c),_0x16a988),showMessage(_0xb928d6(0x32c));}finally{_0x24a76d[_0xb928d6(0x768)]=_0xb928d6(0x2a7),_0x24a76d[_0xb928d6(0x506)]=![];}}async function handleGenerateLessonPlan(_0x7afde){const _0x282d78=_0x13fc2f;showMessage(_0x282d78(0x829));try{const _0x16ea9d=doc(db,_0x282d78(0x709)+appId+'/public/data/quizzes',_0x7afde),_0x32d2e2=await getDoc(_0x16ea9d);if(!_0x32d2e2['exists']())throw new Error(_0x282d78(0x495));const _0x44ceb6={'id':_0x7afde,..._0x32d2e2[_0x282d78(0x7ed)]()},_0x45b65c=collection(db,_0x282d78(0x709)+appId+_0x282d78(0x51e),_0x7afde,_0x282d78(0x247)),_0x79772b=await getDocs(_0x45b65c),_0x1bb1f5=_0x79772b[_0x282d78(0x369)][_0x282d78(0x924)](_0x1deec1=>_0x1deec1[_0x282d78(0x7ed)]());if(_0x1bb1f5[_0x282d78(0x708)]===0x0)throw new Error(_0x282d78(0x6f6));const _0x4f8db4=calculateItemAnalysis(_0x44ceb6,_0x1bb1f5)[_0x282d78(0x7fd)],_0x3cdac9=calculateDistractorAnalysis(_0x44ceb6,_0x1bb1f5),_0x2ea44c=_0x5a681d=>{const _0x58feb9=_0x282d78;if(!_0x5a681d)return'';return _0x5a681d[_0x58feb9(0x6dc)](/\\/g,'\x5c\x5c')[_0x58feb9(0x6dc)](/"/g,'\x5c\x22')[_0x58feb9(0x6dc)](/\n/g,'\x5cn');};let _0x2a9bb7=_0x282d78(0xe0);_0x44ceb6[_0x282d78(0x218)][_0x282d78(0x121)]((_0x2788cb,_0x2bf183)=>{const _0x333720=_0x282d78,_0x3e734b=_0x4f8db4[_0x2bf183]?.['p']['toFixed'](0x2)||'N/A',_0x183fc0=_0x4f8db4[_0x2bf183]?.['r'][_0x333720(0x2a8)](0x2)||_0x333720(0x808),_0x5d1573=_0x2ea44c(_0x2788cb[_0x333720(0x777)]||_0x2788cb[_0x333720(0x700)]);_0x2a9bb7+=_0x333720(0x1c4)+(_0x2bf183+0x1)+_0x333720(0x831)+_0x3e734b+_0x333720(0x505)+_0x183fc0+_0x333720(0x7b6)+_0x5d1573+'\x5cn';if(_0x2788cb[_0x333720(0x78e)]===_0x333720(0x8f6)&&_0x3cdac9[_0x2bf183]){const _0x915aea=_0x3cdac9[_0x2bf183],_0x49762b=Object[_0x333720(0x205)](_0x915aea)[_0x333720(0x17f)](_0x59b2dc=>parseInt(_0x59b2dc)!==_0x2788cb[_0x333720(0x455)])['sort']((_0x1fb567,_0x3d57b3)=>_0x915aea[_0x3d57b3]['total']-_0x915aea[_0x1fb567]['total'])[0x0];if(_0x49762b&&_0x915aea[_0x49762b][_0x333720(0x811)]>0x0){const _0x526d26=_0x2ea44c(_0x915aea[_0x49762b][_0x333720(0x16e)]);_0x2a9bb7+=_0x333720(0x6e8)+_0x526d26+_0x333720(0x14d);}}});const _0x45eeba=_0x282d78(0xee)+_0x44ceb6[_0x282d78(0x3f8)]+_0x282d78(0x8e6)+_0x2a9bb7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x406937={'type':_0x282d78(0x1d7),'properties':{'learningGaps':{'type':_0x282d78(0x661),'items':{'type':_0x282d78(0x69c)}},'teachingContent':{'type':_0x282d78(0x69c)},'practiceProblems':{'type':_0x282d78(0x661),'items':{'type':'OBJECT','properties':{'question':{'type':_0x282d78(0x69c)},'solution':{'type':'STRING'}}}}},'required':[_0x282d78(0x373),_0x282d78(0x912),_0x282d78(0x4e0)]},_0x459321=await callAnalysisApi(_0x45eeba,_0x406937);await updateDoc(_0x16ea9d,{'lessonPlan':_0x459321});const _0x3f46ad=_0x282d78(0x5fe)+_0x44ceb6[_0x282d78(0x3f8)]+_0x282d78(0x3d6)+_0x459321[_0x282d78(0x373)][_0x282d78(0x924)](_0x59dde4=>_0x282d78(0x8e7)+_0x59dde4+'</li>')[_0x282d78(0x408)]('')+_0x282d78(0x7ff)+_0x459321['teachingContent']+_0x282d78(0x622)+_0x459321['practiceProblems']['map'](_0x765aac=>_0x282d78(0x609)+_0x765aac[_0x282d78(0x8c8)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x765aac[_0x282d78(0x5c0)]+'</p></div>')['join']('')+_0x282d78(0x462);document[_0x282d78(0x21e)](_0x282d78(0x2ee))[_0x282d78(0x680)]=_0x282d78(0x6f8)+_0x44ceb6[_0x282d78(0x3f8)],document[_0x282d78(0x21e)](_0x282d78(0x376))[_0x282d78(0x768)]=_0x3f46ad,document[_0x282d78(0x21e)]('lesson-plan-modal')[_0x282d78(0x110)][_0x282d78(0x892)](_0x282d78(0x6c1));if(window[_0x282d78(0x3ad)])MathJax[_0x282d78(0x3ed)]();messageModal[_0x282d78(0x110)][_0x282d78(0x8fb)](_0x282d78(0x6c1));}catch(_0x139967){console['error'](_0x282d78(0x7e6),_0x139967),showMessage(_0x282d78(0x491)+_0x139967[_0x282d78(0x73c)]);}}async function handleDuplicateQuiz(_0x4c7133){const _0x5aeaa4=_0x13fc2f;try{const _0x19a41f=doc(db,_0x5aeaa4(0x709)+appId+_0x5aeaa4(0x51e),_0x4c7133),_0x2062be=await getDoc(_0x19a41f);if(_0x2062be[_0x5aeaa4(0x610)]()){const _0x4195c0=_0x2062be['data']();let _0x330c0c='',_0x22afd7=_0x5aeaa4(0x268),_0x3564b2=null;if(_0x4195c0[_0x5aeaa4(0x720)]===_0x5aeaa4(0x175)){let _0x310fd9=_0x4195c0[_0x5aeaa4(0x3f8)][_0x5aeaa4(0x6dc)]('(ก่อนเรียน)','')[_0x5aeaa4(0x8de)]();_0x330c0c=_0x5aeaa4(0x6c7)+_0x310fd9,_0x22afd7=_0x5aeaa4(0x4c5),_0x3564b2=_0x4c7133;}else _0x330c0c='(คัดลอก)\x20'+_0x4195c0[_0x5aeaa4(0x3f8)];const _0xa38e7c={..._0x4195c0,'topic':_0x330c0c,'createdAt':new Date()[_0x5aeaa4(0x44c)](),'quizMode':_0x22afd7,'pairedQuizId':_0x3564b2};let _0x1d265a;while(!![]){_0x1d265a=Math[_0x5aeaa4(0x325)](0x3e8+Math[_0x5aeaa4(0x353)]()*0x2328)['toString']();const _0x5ac97e=await getDoc(doc(db,'artifacts/'+appId+_0x5aeaa4(0x51e),_0x1d265a));if(!_0x5ac97e[_0x5aeaa4(0x610)]())break;}const _0x1d031b=doc(db,'artifacts/'+appId+_0x5aeaa4(0x51e),_0x1d265a);await setDoc(_0x1d031b,_0xa38e7c),_0xa38e7c[_0x5aeaa4(0x720)]===_0x5aeaa4(0x4c5)&&await updateDoc(_0x19a41f,{'pairedQuizId':_0x1d265a}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x3b1fa2){console['error']('Error\x20duplicating\x20quiz:',_0x3b1fa2),showMessage(_0x5aeaa4(0x5ee));}}async function handleDeleteQuiz(_0x224b23,_0x527b75=!![]){const _0x37cbda=_0x13fc2f;try{const _0x585715=writeBatch(db),_0xe56799=collection(db,'artifacts/'+appId+_0x37cbda(0x823)+_0x224b23+_0x37cbda(0x1f4)),_0x11b3b9=await getDocs(_0xe56799);_0x11b3b9['forEach'](_0x5da427=>{const _0x521068=_0x37cbda;_0x585715[_0x521068(0x652)](doc(_0xe56799,_0x5da427['id']));});const _0x134cb0=doc(db,'artifacts/'+appId+_0x37cbda(0x51e),_0x224b23);_0x585715[_0x37cbda(0x652)](_0x134cb0),await _0x585715[_0x37cbda(0x4a0)](),_0x527b75&&showMessage(_0x37cbda(0x667));}catch(_0x262a72){console[_0x37cbda(0x5e9)](_0x37cbda(0x875),_0x262a72),_0x527b75&&showMessage(_0x37cbda(0x4bb));}}async function showQuizDetailView(_0x16a1bd){const _0x394c72=_0x13fc2f;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x394c72(0x8f3));try{const _0xde4af1=doc(db,_0x394c72(0x709)+appId+_0x394c72(0x51e),_0x16a1bd),_0x37e568=await getDoc(_0xde4af1);if(!_0x37e568[_0x394c72(0x610)]()){showMessage(_0x394c72(0x495));return;}const _0x349100={'id':_0x37e568['id'],..._0x37e568[_0x394c72(0x7ed)]()};currentQuizData=_0x349100;const _0x531c8f=doc(db,_0x394c72(0x709)+appId+'/public/data/projects',_0x349100[_0x394c72(0x779)]),_0x5c3686=await getDoc(_0x531c8f);_0x5c3686[_0x394c72(0x610)]()?(currentProjectData=_0x5c3686[_0x394c72(0x7ed)](),currentProjectId=_0x349100[_0x394c72(0x779)]):(currentProjectData={'students':[]},currentProjectId=_0x349100['projectId']);document[_0x394c72(0x21e)](_0x394c72(0x8ea))[_0x394c72(0x680)]=_0x349100[_0x394c72(0x3f8)],document[_0x394c72(0x21e)](_0x394c72(0x883))['textContent']=_0x16a1bd;const _0x56af31=collection(db,_0x394c72(0x709)+appId+_0x394c72(0x51e),_0x16a1bd,_0x394c72(0x247));unsubscribeSubmissionsListener=onSnapshot(_0x56af31,_0x4a67f5=>{const _0x32a261=_0x394c72,_0x1a76a5=_0x4a67f5[_0x32a261(0x369)][_0x32a261(0x924)](_0x6ee900=>({'id':_0x6ee900['id'],..._0x6ee900['data']()}));currentSubmissions=_0x1a76a5;const _0x2bb580=_0x1a76a5[_0x32a261(0x17f)](_0x53f612=>_0x53f612[_0x32a261(0x378)]&&_0x53f612[_0x32a261(0x378)][_0x32a261(0x708)]>0x0);renderBehaviorLog(_0x1a76a5),renderAnswerGrid(currentProjectData[_0x32a261(0x1bf)],_0x2bb580,_0x349100),renderAnalytics(_0x349100,_0x2bb580),renderQuizResultsTable(currentProjectData[_0x32a261(0x1bf)],_0x1a76a5,_0x349100),renderQuizLeaderboard(_0x2bb580,_0x349100,_0x32a261(0x822));}),showView('quiz-results');}catch(_0x5e7acc){console[_0x394c72(0x5e9)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5e7acc),showMessage(_0x394c72(0x6e4));}}function renderAnswerGrid(_0x32b169,_0xaa156e,_0x40afd9){const _0x11dedc=_0x13fc2f,_0x4163af=document[_0x11dedc(0x21e)]('answer-grid-container');if(!_0x4163af)return;if(!_0x32b169||_0x32b169[_0x11dedc(0x708)]===0x0){_0x4163af[_0x11dedc(0x768)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x2138c4=_0x40afd9[_0x11dedc(0x218)],_0x2ef30b=_0xaa156e[_0x11dedc(0x396)]((_0x803269,_0x2df1ed)=>{const _0x1d7656=_0x11dedc;return _0x803269[_0x2df1ed[_0x1d7656(0x6b5)]]=_0x2df1ed,_0x803269;},{}),_0x57b697=_0x1de3a3=>String[_0x11dedc(0x5b2)](0x41+_0x1de3a3),_0x139f78=_0x573094=>{const _0xcba1b2=_0x11dedc,_0x293eb5=_0x573094[_0xcba1b2(0x78e)]||_0x40afd9['quizType'];switch(_0x293eb5){case'multiple_choice':return _0x573094[_0xcba1b2(0x138)]&&_0x573094['options'][_0xcba1b2(0x708)]>_0x573094[_0xcba1b2(0x455)]?_0x57b697(_0x573094[_0xcba1b2(0x455)]):'-';case'true_false':return _0x573094[_0xcba1b2(0x8d9)]?_0xcba1b2(0x3db):_0xcba1b2(0x69e);case _0xcba1b2(0x48c):return _0x573094[_0xcba1b2(0x349)]||'-';case _0xcba1b2(0x6ac):return'พิมพ์ตอบ';default:return'-';}},_0x21ab84=(_0x13ab8d,_0x1a79f4)=>{const _0x3c7bda=_0x11dedc;if(_0x1a79f4[_0x3c7bda(0x3c7)]===null||_0x1a79f4[_0x3c7bda(0x3c7)]===undefined)return'-';const _0x1ceaeb=_0x13ab8d['questionType']||_0x40afd9[_0x3c7bda(0x5a4)];switch(_0x1ceaeb){case _0x3c7bda(0x8f6):const _0x2e0bea=_0x13ab8d[_0x3c7bda(0x138)][_0x3c7bda(0x601)](_0x151dfe=>_0x151dfe===_0x1a79f4[_0x3c7bda(0x895)]);return _0x2e0bea!==-0x1?_0x57b697(_0x2e0bea):_0x1a79f4[_0x3c7bda(0x895)]||'-';case'true_false':return _0x1a79f4['answer']===_0x3c7bda(0x269)||_0x1a79f4['answer']===!![]?'ใช่':_0x3c7bda(0x69e);default:return _0x1a79f4[_0x3c7bda(0x3c7)];}};let _0x1b9ea9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2138c4['map']((_0x560b70,_0x3ed592)=>_0x11dedc(0x192)+(_0x3ed592+0x1)+_0x11dedc(0x377))[_0x11dedc(0x408)]('')+_0x11dedc(0x4bf)+_0x2138c4[_0x11dedc(0x924)](_0x2dbaf5=>_0x11dedc(0x882)+_0x139f78(_0x2dbaf5)+'</td>')[_0x11dedc(0x408)]('')+_0x11dedc(0x504);_0x32b169[_0x11dedc(0x121)](_0x29b8b0=>{const _0x38237e=_0x11dedc;_0x1b9ea9+=_0x38237e(0x2a2),_0x1b9ea9+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x29b8b0+'</td>';const _0x1eaff3=_0x2ef30b[_0x29b8b0];if(_0x1eaff3){const _0x5ad81c=_0x1eaff3[_0x38237e(0x378)][_0x1eaff3[_0x38237e(0x378)][_0x38237e(0x708)]-0x1];_0x2138c4[_0x38237e(0x121)]((_0x1634bb,_0x42ac03)=>{const _0x42b852=_0x38237e,_0x34177f=_0x5ad81c['answers']['find'](_0xd1dee7=>_0xd1dee7[_0x42b852(0x897)]===(_0x1634bb[_0x42b852(0x700)]||_0x1634bb[_0x42b852(0x777)]));if(_0x34177f){let _0x2cf980=![];const _0x25a196=_0x1634bb[_0x42b852(0x78e)]||_0x40afd9[_0x42b852(0x5a4)];if(_0x34177f[_0x42b852(0x3c7)]!==null&&_0x34177f[_0x42b852(0x3c7)]!==undefined)switch(_0x25a196){case _0x42b852(0x8f6):const _0x5c7ed3=_0x1634bb[_0x42b852(0x138)][_0x1634bb[_0x42b852(0x455)]];_0x2cf980=_0x34177f[_0x42b852(0x895)]===_0x5c7ed3;break;case _0x42b852(0x69f):const _0x8ee87b=_0x34177f[_0x42b852(0x3c7)]===!![]||_0x34177f[_0x42b852(0x3c7)]===_0x42b852(0x269);_0x2cf980=_0x8ee87b===_0x1634bb[_0x42b852(0x8d9)];break;case _0x42b852(0x48c):_0x2cf980=_0x34177f[_0x42b852(0x3c7)]===_0x1634bb[_0x42b852(0x349)];break;default:_0x2cf980=_0x34177f['isCorrect'];break;}const _0x49277d=_0x2cf980?_0x42b852(0x55f):'bg-red-100';_0x1b9ea9+=_0x42b852(0x62c)+_0x49277d+'\x22>'+_0x21ab84(_0x1634bb,_0x34177f)+_0x42b852(0x713);}else _0x1b9ea9+=_0x42b852(0x3e9);});}else _0x1b9ea9+=_0x2138c4[_0x38237e(0x924)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x38237e(0x408)]('');_0x1b9ea9+=_0x38237e(0x427);}),_0x1b9ea9+=_0x11dedc(0x3de),_0x4163af['innerHTML']=_0x1b9ea9;}function renderQuizResultsTable(_0x13d136,_0x1bd4a6,_0xd5155c){const _0x4eed95=_0x13fc2f,_0x16e0c6=_0x1bd4a6[_0x4eed95(0x396)]((_0x1ae487,_0x21e740)=>{const _0x2ae063=_0x4eed95;return _0x1ae487[_0x21e740[_0x2ae063(0x6b5)]]=_0x21e740,_0x1ae487;},{}),_0x253316=document[_0x4eed95(0x920)]('#results-table\x20thead\x20tr');_0x253316&&!_0x253316[_0x4eed95(0x768)]['includes'](_0x4eed95(0x324))&&(_0x253316[_0x4eed95(0x768)]+=_0x4eed95(0x489));const _0x2b54a5=document[_0x4eed95(0x21e)]('quiz-results-table-body');if(!_0x13d136||_0x13d136[_0x4eed95(0x708)]===0x0){_0x2b54a5['innerHTML']=_0x4eed95(0x76a);return;}const _0x42adb3=_0xd5155c[_0x4eed95(0x4f7)]===!![],_0x58c5ab=_0xd5155c['settings']?.['passingScore']??-0x1;let _0x34fb5d='';_0x13d136[_0x4eed95(0x121)](_0x840658=>{const _0x36be6e=_0x4eed95,_0x1004ff=_0x16e0c6[_0x840658];let _0x2563b5='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x42adb3?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x42adb3?_0x36be6e(0x77f):'สอบปกติ')+'</span></td>';if(_0x1004ff){if(_0x1004ff[_0x36be6e(0x378)]&&_0x1004ff[_0x36be6e(0x378)][_0x36be6e(0x708)]>0x0){let _0x542069=_0x42adb3?_0x1004ff[_0x36be6e(0x388)]===_0x1004ff['totalQuestions']:_0x58c5ab!==-0x1&&_0x1004ff[_0x36be6e(0x388)]>=_0x58c5ab;const _0x5bfd6d=_0x542069?'bg-green-100\x20text-green-800':_0x36be6e(0x78c),_0x2f42e1=_0x542069?'ผ่าน':'ไม่ผ่าน',_0xb34a58='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x5bfd6d+'\x22>'+_0x2f42e1+'</span></td>',_0x345a8d=_0x36be6e(0x35d)+(_0x1004ff[_0x36be6e(0x378)]?.[_0x36be6e(0x708)]||0x1)+_0x36be6e(0x34f);_0x34fb5d+=_0x36be6e(0x188)+_0x840658+_0x36be6e(0x7ec)+_0x1004ff[_0x36be6e(0x388)]+_0x36be6e(0x4cb)+_0x1004ff[_0x36be6e(0x19d)]+_0x36be6e(0x710)+_0xb34a58+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2563b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x1004ff[_0x36be6e(0x44e)]+_0x36be6e(0x4cb)+_0x1004ff['totalQuestions']+_0x36be6e(0x2b1)+_0x1004ff[_0x36be6e(0x392)]+_0x36be6e(0x4cb)+_0x1004ff[_0x36be6e(0x19d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x1004ff['points']||0x0)+_0x36be6e(0x710)+_0x345a8d+_0x36be6e(0x445)+new Date(_0x1004ff[_0x36be6e(0x30d)])[_0x36be6e(0x164)](_0x36be6e(0x832))+_0x36be6e(0x8cd)+_0x840658+_0x36be6e(0x887);}else{const _0x417ad4=_0x36be6e(0x3b0);_0x34fb5d+=_0x36be6e(0x546)+_0x840658+_0x36be6e(0x3ec)+_0x2563b5+_0x36be6e(0x545)+_0x417ad4+_0x36be6e(0x445)+new Date(_0x1004ff[_0x36be6e(0x259)])['toLocaleString'](_0x36be6e(0x832))+_0x36be6e(0x210)+_0x840658+_0x36be6e(0x887);}}else{const _0x33582c=_0x36be6e(0x5cd);_0x34fb5d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x840658+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2563b5+_0x36be6e(0x30c)+_0x33582c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x2b54a5['innerHTML']=_0x34fb5d;}async function confirmRenameQuiz(){const _0x50c80e=_0x13fc2f,_0x4c3093=document[_0x50c80e(0x21e)](_0x50c80e(0x54c))[_0x50c80e(0x24a)][_0x50c80e(0x8de)]();if(!_0x4c3093){showMessage(_0x50c80e(0x6bc));return;}if(!actionTargetId)return;const _0x41aa34=doc(db,_0x50c80e(0x709)+appId+_0x50c80e(0x51e),actionTargetId);try{await updateDoc(_0x41aa34,{'topic':_0x4c3093}),showMessage(_0x50c80e(0x230)),renameQuizModal[_0x50c80e(0x110)][_0x50c80e(0x8fb)](_0x50c80e(0x6c1)),actionTargetId=null;}catch(_0x412aeb){console['error'](_0x50c80e(0x3e3),_0x412aeb),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x467ce2){const _0x565900=_0x13fc2f;actionTargetId=_0x467ce2;const _0x1c2b17=document[_0x565900(0x21e)](_0x565900(0x3c9));_0x1c2b17[_0x565900(0x768)]=_0x565900(0x754),moveQuizModal[_0x565900(0x110)]['remove'](_0x565900(0x6c1));try{const _0x14e68c=collection(db,_0x565900(0x709)+appId+'/public/data/projects'),_0x239fd1=await getDocs(_0x14e68c),_0x21b968=_0x239fd1['docs'][_0x565900(0x924)](_0x1b2512=>({'id':_0x1b2512['id'],..._0x1b2512['data']()})),_0x229864=_0x21b968[_0x565900(0x17f)](_0x24b29e=>_0x24b29e['id']!==currentProjectId);if(_0x229864[_0x565900(0x708)]===0x0){_0x1c2b17['innerHTML']=_0x565900(0x87b),document[_0x565900(0x21e)]('confirm-move-quiz-btn')[_0x565900(0x506)]=!![];return;}_0x1c2b17[_0x565900(0x768)]=_0x229864[_0x565900(0x924)](_0x47c77a=>'<option\x20value=\x22'+_0x47c77a['id']+'\x22>'+_0x47c77a[_0x565900(0x3d5)]+_0x565900(0x807))[_0x565900(0x408)](''),document[_0x565900(0x21e)](_0x565900(0x341))[_0x565900(0x506)]=![];}catch(_0xa4e816){console[_0x565900(0x5e9)](_0x565900(0x147),_0xa4e816),showMessage(_0x565900(0x488)),moveQuizModal['classList']['add']('hidden');}}async function confirmMoveQuiz(){const _0x518346=_0x13fc2f,_0x3304b6=document['getElementById'](_0x518346(0x3c9))['value'];if(!_0x3304b6){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x363b50=doc(db,_0x518346(0x709)+appId+_0x518346(0x51e),actionTargetId);try{await updateDoc(_0x363b50,{'projectId':_0x3304b6}),showMessage(_0x518346(0x17a)),moveQuizModal[_0x518346(0x110)]['add'](_0x518346(0x6c1)),actionTargetId=null;}catch(_0x2d0cfc){console[_0x518346(0x5e9)]('Error\x20moving\x20quiz:',_0x2d0cfc),showMessage(_0x518346(0x444));}}async function handleQuizSettings(_0x5dab82){const _0x468925=_0x13fc2f;actionTargetId=_0x5dab82;const _0xec12f1=doc(db,'artifacts/'+appId+_0x468925(0x51e),_0x5dab82);try{const _0x5eedce=await getDoc(_0xec12f1);if(_0x5eedce['exists']()){const _0x2b6458=_0x5eedce[_0x468925(0x7ed)](),_0x527bd0=_0x2b6458[_0x468925(0x168)]||{},_0xa2a646=_0x2b6458[_0x468925(0x218)][_0x468925(0x708)];document[_0x468925(0x21e)]('modal-shuffle-select')[_0x468925(0x24a)]=_0x527bd0[_0x468925(0x133)]||_0x468925(0x1fb),document[_0x468925(0x21e)](_0x468925(0x261))['value']=_0x527bd0[_0x468925(0x53d)]||'show_results_and_answers',document[_0x468925(0x21e)](_0x468925(0x2c4))['value']=_0x527bd0[_0x468925(0x266)]||_0x468925(0x1fb),document[_0x468925(0x21e)](_0x468925(0x750))['value']=_0x527bd0['timerDuration']||0xa,document[_0x468925(0x21e)](_0x468925(0x13b))[_0x468925(0x24a)]=_0x527bd0['passingScore']||Math['floor'](_0xa2a646/0x2),document[_0x468925(0x21e)](_0x468925(0x13b))[_0x468925(0x17d)]=_0xa2a646,document[_0x468925(0x21e)]('modal-adaptive-quiz-checkbox')['checked']=_0x527bd0[_0x468925(0x333)]||![],document['getElementById'](_0x468925(0x2c5))[_0x468925(0x780)]=_0x527bd0['loopUntilPass']||![],document[_0x468925(0x21e)](_0x468925(0x2c4))[_0x468925(0x3bf)](new Event(_0x468925(0x820))),quizSettingsModal[_0x468925(0x110)][_0x468925(0x892)](_0x468925(0x6c1));}else showMessage(_0x468925(0x495));}catch(_0xb2e52e){console[_0x468925(0x5e9)]('Error\x20fetching\x20quiz\x20settings:',_0xb2e52e),showMessage(_0x468925(0x8ed));}}async function confirmQuizSettings(){const _0x2fc01f=_0x13fc2f;if(!actionTargetId)return;const _0x4ca464=doc(db,'artifacts/'+appId+_0x2fc01f(0x51e),actionTargetId),_0x4c2c66={'shuffle':document[_0x2fc01f(0x21e)](_0x2fc01f(0x5d3))[_0x2fc01f(0x24a)],'resultsDisplay':document[_0x2fc01f(0x21e)](_0x2fc01f(0x261))['value'],'timerMode':document[_0x2fc01f(0x21e)](_0x2fc01f(0x2c4))[_0x2fc01f(0x24a)],'timerDuration':parseInt(document[_0x2fc01f(0x21e)](_0x2fc01f(0x750))[_0x2fc01f(0x24a)])||0xa,'passingScore':parseInt(document[_0x2fc01f(0x21e)]('modal-passing-score-input')[_0x2fc01f(0x24a)])||0x0,'passingScore':parseInt(document[_0x2fc01f(0x21e)](_0x2fc01f(0x13b))['value'])||0x0,'isAdaptive':document[_0x2fc01f(0x21e)](_0x2fc01f(0x27d))['checked'],'loopUntilPass':document[_0x2fc01f(0x21e)](_0x2fc01f(0x2c5))['checked']};try{await updateDoc(_0x4ca464,{'settings':_0x4c2c66}),showMessage(_0x2fc01f(0x6a4)),quizSettingsModal[_0x2fc01f(0x110)][_0x2fc01f(0x8fb)](_0x2fc01f(0x6c1)),actionTargetId=null;}catch(_0x33c698){console[_0x2fc01f(0x5e9)](_0x2fc01f(0x7d0),_0x33c698),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x302179){const _0x1343a6=_0x13fc2f;actionTargetId=_0x302179;const _0x38a9b4=doc(db,_0x1343a6(0x709)+appId+_0x1343a6(0x51e),_0x302179);try{const _0x4666d6=await getDoc(_0x38a9b4);if(_0x4666d6[_0x1343a6(0x610)]()){const _0xc6f09e=_0x4666d6['data'](),_0x59da52=_0xc6f09e[_0x1343a6(0x5f5)]||_0x1343a6(0x782),_0x44eb9d=document[_0x1343a6(0x21e)](_0x1343a6(0x8a3)),_0x23b4e9=document[_0x1343a6(0x21e)](_0x1343a6(0x2e7)),_0x3836ac=document[_0x1343a6(0x21e)](_0x1343a6(0x1bd));let _0x1be65e=_0x1343a6(0x581)+(_0x59da52==='active'?_0x1343a6(0x780):'')+_0x1343a6(0x4ea)+(_0x59da52==='inactive'?_0x1343a6(0x780):'')+_0x1343a6(0x362)+(_0x59da52==='scheduled'?'checked':'')+_0x1343a6(0x195);_0x44eb9d['innerHTML']=_0x1be65e;const _0x3a4780=_0x59da52===_0x1343a6(0x6d8);_0x23b4e9[_0x1343a6(0x110)][_0x1343a6(0x80d)](_0x1343a6(0x6c1),!_0x3a4780),_0x3836ac[_0x1343a6(0x110)][_0x1343a6(0x80d)](_0x1343a6(0x6c1),!_0x3a4780),document[_0x1343a6(0x21e)](_0x1343a6(0x1e5))[_0x1343a6(0x24a)]=_0xc6f09e['startTime']?_0xc6f09e[_0x1343a6(0x7c4)][_0x1343a6(0x7ab)](0x0,0x10):'',document['getElementById'](_0x1343a6(0x72b))[_0x1343a6(0x24a)]=_0xc6f09e[_0x1343a6(0x57d)]?_0xc6f09e[_0x1343a6(0x57d)][_0x1343a6(0x7ab)](0x0,0x10):'',_0x44eb9d['querySelectorAll'](_0x1343a6(0x180))[_0x1343a6(0x121)](_0x1b956a=>{const _0x191afe=_0x1343a6;_0x1b956a[_0x191afe(0xfd)](_0x191afe(0x820),_0x583067=>{const _0x131dbf=_0x191afe,_0x493c7c=_0x583067[_0x131dbf(0x456)]['value']==='schedule';_0x23b4e9[_0x131dbf(0x110)]['toggle']('hidden',!_0x493c7c),_0x3836ac['classList'][_0x131dbf(0x80d)](_0x131dbf(0x6c1),!_0x493c7c);});}),quizStatusModal[_0x1343a6(0x110)]['remove'](_0x1343a6(0x6c1));}}catch(_0x976af3){console[_0x1343a6(0x5e9)]('Error\x20fetching\x20quiz\x20status:',_0x976af3),showMessage(_0x1343a6(0x5aa));}}async function confirmQuizStatus(){const _0x408412=_0x13fc2f;if(!actionTargetId)return;const _0x4a2b74=doc(db,_0x408412(0x709)+appId+_0x408412(0x51e),actionTargetId),_0x52260e=document[_0x408412(0x920)](_0x408412(0x645));if(!_0x52260e){showMessage(_0x408412(0x19b));return;}const _0x4650d7=_0x52260e[_0x408412(0x24a)];let _0x847968={};if(_0x4650d7==='active'||_0x4650d7==='inactive')_0x847968={'status':_0x4650d7,'startTime':null,'endTime':null};else{if(_0x4650d7===_0x408412(0x3c3)){const _0x3ae862=document[_0x408412(0x21e)]('quiz-start-time')[_0x408412(0x24a)],_0x5b4968=document[_0x408412(0x21e)](_0x408412(0x72b))[_0x408412(0x24a)];if(!_0x3ae862&&!_0x5b4968){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x847968={'status':_0x408412(0x6d8),'startTime':_0x3ae862?new Date(_0x3ae862)[_0x408412(0x44c)]():null,'endTime':_0x5b4968?new Date(_0x5b4968)[_0x408412(0x44c)]():null};}}try{await updateDoc(_0x4a2b74,_0x847968),showMessage(_0x408412(0x5f6)),quizStatusModal[_0x408412(0x110)]['add'](_0x408412(0x6c1)),actionTargetId=null;}catch(_0x3eb427){console['error'](_0x408412(0x1a5),_0x3eb427),showMessage(_0x408412(0x120));}}function _0x14fe(_0x211c9d,_0x42de92){const _0x3ac850=_0x3ac8();return _0x14fe=function(_0x14fe9f,_0x43f145){_0x14fe9f=_0x14fe9f-0xd8;let _0x23f70d=_0x3ac850[_0x14fe9f];return _0x23f70d;},_0x14fe(_0x211c9d,_0x42de92);}function listenForStudentProfiles(_0x3b5690){const _0x3d9236=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x3b5690+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x3d9236,_0x3d8e75=>{const _0x7f0d24=_0x14fe,_0x2fc5dd=_0x3d8e75[_0x7f0d24(0x369)][_0x7f0d24(0x924)](_0x2e3024=>_0x2e3024[_0x7f0d24(0x7ed)]());renderLeaderboard(_0x2fc5dd,'leaderboard-table-body');},_0x194429=>{const _0x448617=_0x14fe;console['error'](_0x448617(0x50d),_0x194429),document[_0x448617(0x21e)](_0x448617(0x31d))['innerHTML']=_0x448617(0xe6);});}function renderLeaderboard(_0x2497ff,_0x3c71ba){const _0x5b8dcf=_0x13fc2f,_0x45cc9c=document[_0x5b8dcf(0x21e)](_0x3c71ba);if(!_0x2497ff||_0x2497ff['length']===0x0){_0x45cc9c['innerHTML']=_0x5b8dcf(0x176);return;}_0x2497ff['sort']((_0x1e2577,_0x4c10fc)=>{const _0x382cf4=_0x5b8dcf,_0x58d73d=(_0x4c10fc[_0x382cf4(0x4da)]||0x0)-(_0x1e2577[_0x382cf4(0x4da)]||0x0);if(_0x58d73d!==0x0)return _0x58d73d;const _0x45e74d=(_0x4c10fc['badgesCount']?.[_0x382cf4(0x872)]||0x0)-(_0x1e2577[_0x382cf4(0x8c5)]?.[_0x382cf4(0x872)]||0x0);if(_0x45e74d!==0x0)return _0x45e74d;const _0x2e32e9=(_0x4c10fc[_0x382cf4(0x8c5)]?.[_0x382cf4(0x733)]||0x0)-(_0x1e2577[_0x382cf4(0x8c5)]?.['first_try_ace']||0x0);if(_0x2e32e9!==0x0)return _0x2e32e9;const _0x33d42d=(_0x4c10fc[_0x382cf4(0x8c5)]?.[_0x382cf4(0x273)]||0x0)-(_0x1e2577[_0x382cf4(0x8c5)]?.['perfect_score']||0x0);if(_0x33d42d!==0x0)return _0x33d42d;const _0x2fe2ad=(_0x4c10fc[_0x382cf4(0x8c5)]?.[_0x382cf4(0x7f6)]||0x0)-(_0x1e2577[_0x382cf4(0x8c5)]?.[_0x382cf4(0x7f6)]||0x0);if(_0x2fe2ad!==0x0)return _0x2fe2ad;return _0x1e2577['studentName'][_0x382cf4(0x787)](_0x4c10fc[_0x382cf4(0x6b5)],'th');});let _0x3476d1='';_0x2497ff['forEach']((_0x5b84de,_0x49a6a4)=>{const _0x4bf15a=_0x5b8dcf,_0x5eb66f=_0x49a6a4+0x1,_0x557579=_0x5b84de[_0x4bf15a(0x8c5)]||{};let _0x2577cf='';const _0x718082=[_0x4bf15a(0x872),_0x4bf15a(0x273),_0x4bf15a(0x733),'quick_thinker'];_0x718082[_0x4bf15a(0x121)](_0x4147b0=>{const _0x4081da=_0x4bf15a;if(_0x557579[_0x4147b0]>0x0){const _0x5483ac=Object[_0x4081da(0x672)](BADGES)[_0x4081da(0x75b)](_0x2d8cd2=>_0x2d8cd2['id']===_0x4147b0);_0x5483ac&&(_0x4147b0==='specialist'?_0x2577cf+=_0x4081da(0x51d)+_0x5483ac['name']+_0x4081da(0x23a)+_0x5483ac['icon']+_0x4081da(0x28a):_0x2577cf+=_0x4081da(0x51d)+_0x5483ac['name']+'\x20('+_0x557579[_0x4147b0]+_0x4081da(0x1c9)+_0x5483ac['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x557579[_0x4147b0]+_0x4081da(0x5f8));}}),_0x3476d1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x5eb66f+_0x4bf15a(0x304)+_0x5b84de['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x5b84de[_0x4bf15a(0x4da)]||0x0)+_0x4bf15a(0x304)+(_0x2577cf||'-')+_0x4bf15a(0x2ba);}),_0x45cc9c[_0x5b8dcf(0x768)]=_0x3476d1;}function displayLoopScreen(_0x393a52,_0x2f2d9a,_0xf9600f){const _0x3d5338=_0x13fc2f;let _0xb7e9c='';_0xf9600f!==_0x3d5338(0x47c)&&(_0xb7e9c=_0x3d5338(0x14e)+_0x393a52+_0x3d5338(0x4cb)+_0x2f2d9a+_0x3d5338(0x812));const _0x1e2241=_0x3d5338(0x286)+_0xb7e9c+_0x3d5338(0x4d8);studentResultArea[_0x3d5338(0x768)]=_0x1e2241,studentResultArea[_0x3d5338(0x110)][_0x3d5338(0x892)](_0x3d5338(0x6c1)),studentQuizArea[_0x3d5338(0x110)][_0x3d5338(0x8fb)](_0x3d5338(0x6c1)),document[_0x3d5338(0x21e)](_0x3d5338(0x33f))[_0x3d5338(0xfd)](_0x3d5338(0x3bd),()=>{const _0xef3d8d=_0x3d5338;studentResultArea['classList'][_0xef3d8d(0x8fb)](_0xef3d8d(0x6c1)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x1dc28a,_0x195085,_0x358952){const _0x3004e5=_0x13fc2f,_0xc2b3a7=document[_0x3004e5(0x21e)](_0x358952),_0x4a4123=_0x358952==='student-quiz-leaderboard-table-body',_0xabcb46=_0x195085[_0x3004e5(0x218)][_0x3004e5(0x708)],_0x4b9ed9=document[_0x3004e5(0x21e)](_0x358952)['closest'](_0x3004e5(0x89a));if(_0x4b9ed9&&!_0x4a4123){const _0x4865a3=_0x4b9ed9[_0x3004e5(0x920)](_0x3004e5(0x2f5));_0x4865a3[_0x3004e5(0x768)]=_0x3004e5(0x2b8);}if(!_0x1dc28a||_0x1dc28a[_0x3004e5(0x708)]===0x0){_0xc2b3a7[_0x3004e5(0x768)]=_0x3004e5(0x300)+(_0x4a4123?0x6:0x8)+_0x3004e5(0x8c1);return;}const _0x1d12ef=[..._0x1dc28a];_0x1d12ef[_0x3004e5(0x212)]((_0x21b141,_0x447621)=>{const _0x36e3c5=_0x3004e5;let _0x5788c2,_0x262e3e;switch(quizLeaderboardSortBy){case _0x36e3c5(0x6b5):_0x5788c2=_0x21b141[_0x36e3c5(0x6b5)]||'',_0x262e3e=_0x447621[_0x36e3c5(0x6b5)]||'';return quizLeaderboardSortOrder===_0x36e3c5(0x602)?_0x5788c2[_0x36e3c5(0x787)](_0x262e3e,'th'):_0x262e3e[_0x36e3c5(0x787)](_0x5788c2,'th');case _0x36e3c5(0x7f2):_0x5788c2=_0x21b141[_0x36e3c5(0x7f2)]||0x0,_0x262e3e=_0x447621[_0x36e3c5(0x7f2)]||0x0;break;case'attempts':_0x5788c2=_0x21b141[_0x36e3c5(0x378)]?.['length']||0x1,_0x262e3e=_0x447621['attempts']?.[_0x36e3c5(0x708)]||0x1;break;case'latestSubmittedAt':_0x5788c2=new Date(_0x21b141[_0x36e3c5(0x30d)]),_0x262e3e=new Date(_0x447621[_0x36e3c5(0x30d)]);break;case _0x36e3c5(0x388):default:_0x5788c2=_0x21b141[_0x36e3c5(0x388)],_0x262e3e=_0x447621[_0x36e3c5(0x388)];break;}if(_0x5788c2<_0x262e3e)return quizLeaderboardSortOrder===_0x36e3c5(0x602)?-0x1:0x1;if(_0x5788c2>_0x262e3e)return quizLeaderboardSortOrder===_0x36e3c5(0x602)?0x1:-0x1;return 0x0;});const _0x3336aa=_0x195085[_0x3004e5(0x4f7)]===!![],_0x4af1dc=_0x195085[_0x3004e5(0x168)]?.[_0x3004e5(0x5ba)]??-0x1;let _0xabe303='';_0x1d12ef[_0x3004e5(0x121)]((_0x11987c,_0x350a6a)=>{const _0x1349d9=_0x3004e5,_0x1e9496=_0x350a6a+0x1;let _0x49b0b4='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x3336aa||_0x4af1dc!==-0x1){let _0x27caf5=_0x3336aa?_0x11987c['bestScore']===_0xabcb46:_0x11987c[_0x1349d9(0x388)]>=_0x4af1dc;const _0x335e16=_0x27caf5?_0x1349d9(0x213):'bg-red-100\x20text-red-800',_0x17b0d8=_0x27caf5?_0x1349d9(0x34b):_0x1349d9(0x426);_0x49b0b4=_0x1349d9(0x830)+_0x335e16+'\x22>'+_0x17b0d8+'</span></td>';}const _0x21b520=_0x11987c[_0x1349d9(0x378)][_0x11987c[_0x1349d9(0x378)]['length']-0x1],_0x39da2e=(_0x21b520[_0x1349d9(0x36d)]||[])['map'](_0x1913cb=>{const _0x2db66a=_0x1349d9,_0x3f132d=Object['values'](BADGES)[_0x2db66a(0x75b)](_0x4a6077=>_0x4a6077['id']===_0x1913cb);return _0x3f132d?_0x2db66a(0x5d5)+_0x3f132d[_0x2db66a(0x763)]+_0x2db66a(0x520)+_0x3f132d['icon']+_0x2db66a(0x23d):'';})['join']('');_0xabe303+=_0x1349d9(0x73b)+_0x1e9496+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x11987c[_0x1349d9(0x6b5)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x11987c['bestScore']+_0x1349d9(0x4cb)+_0xabcb46+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49b0b4+_0x1349d9(0x71e)+(_0x11987c['points']||0x0)+_0x1349d9(0x673)+(_0x4a4123?'':_0x1349d9(0x4fa)+(_0x11987c[_0x1349d9(0x378)]?.['length']||0x1)+_0x1349d9(0x713))+_0x1349d9(0x2a1)+(_0x4a4123?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x11987c[_0x1349d9(0x30d)])[_0x1349d9(0x164)]('th-TH')+_0x1349d9(0x713))+_0x1349d9(0x2b2)+(_0x39da2e||'-')+_0x1349d9(0x143);}),_0xc2b3a7[_0x3004e5(0x768)]=_0xabe303,_0x4b9ed9&&!_0x4a4123&&_0x4b9ed9[_0x3004e5(0x1af)](_0x3004e5(0x5eb))[_0x3004e5(0x121)](_0x108e3d=>{const _0x34b098=_0x3004e5,_0x142aaa=_0x108e3d[_0x34b098(0x920)](_0x34b098(0x412));if(_0x142aaa)_0x142aaa[_0x34b098(0x892)]();_0x108e3d[_0x34b098(0x3ca)][_0x34b098(0x212)]===quizLeaderboardSortBy&&(_0x108e3d[_0x34b098(0x768)]+=_0x34b098(0x50c)+(quizLeaderboardSortOrder===_0x34b098(0x602)?'▲':'▼')+_0x34b098(0x56b));});}async function handleDeleteSubmission(_0x1ca48f){const _0x57a9b1=_0x13fc2f;if(!currentQuizData||!currentQuizData['id']||!_0x1ca48f){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x57a9b1(0x3a0)+_0x1ca48f+_0x57a9b1(0x202),async()=>{const _0x5be033=_0x57a9b1,_0x4b3fa3=currentQuizData['id'],_0x3b7874=doc(db,_0x5be033(0x709)+appId+_0x5be033(0x823)+_0x4b3fa3+'/submissions',_0x1ca48f);try{await deleteDoc(_0x3b7874),showMessage(_0x5be033(0x18d)+_0x1ca48f+_0x5be033(0x1eb));}catch(_0x49b745){console[_0x5be033(0x5e9)](_0x5be033(0x5ff),_0x49b745),showMessage(_0x5be033(0x81e));}});}async function handleLoadQuiz(){const _0x75f9a0=_0x13fc2f,_0x3fd610=document[_0x75f9a0(0x21e)](_0x75f9a0(0x450)),_0x33991f=_0x3fd610[_0x75f9a0(0x24a)][_0x75f9a0(0x8de)]();if(!_0x33991f){showMessage(_0x75f9a0(0x6be));return;}loadQuizBtn[_0x75f9a0(0x506)]=!![],loadQuizBtn[_0x75f9a0(0x768)]=_0x75f9a0(0x7d1);try{const _0x7d4103=doc(db,_0x75f9a0(0x709)+appId+_0x75f9a0(0x51e),_0x33991f),_0x217653=await getDoc(_0x7d4103);if(!_0x217653[_0x75f9a0(0x610)]()){showMessage(_0x75f9a0(0x453));return;}currentQuizData={'id':_0x217653['id'],..._0x217653[_0x75f9a0(0x7ed)]()};const _0x21a86b=currentQuizData[_0x75f9a0(0x5f5)]||'active',_0x17d360=new Date();if(_0x21a86b===_0x75f9a0(0x7f4)){showMessage(_0x75f9a0(0x6e7));return;}if(_0x21a86b===_0x75f9a0(0x6d8)){const _0x42b094=currentQuizData[_0x75f9a0(0x7c4)]?new Date(currentQuizData[_0x75f9a0(0x7c4)]):null,_0x5088a6=currentQuizData[_0x75f9a0(0x57d)]?new Date(currentQuizData['endTime']):null;if(_0x42b094&&_0x17d360<_0x42b094){showMessage(_0x75f9a0(0x1d6)+_0x42b094[_0x75f9a0(0x164)](_0x75f9a0(0x832),{'hour12':![]}));return;}if(_0x5088a6&&_0x17d360>_0x5088a6){showMessage(_0x75f9a0(0x629));return;}}const _0x56fb84=currentQuizData['projectId'];currentProjectId=_0x56fb84;const _0x2c787e=doc(db,'artifacts/'+appId+_0x75f9a0(0x8df),_0x56fb84),_0x548f4e=await getDoc(_0x2c787e);if(!_0x548f4e['exists']()){showMessage(_0x75f9a0(0x60b));return;}const _0x5580a7=_0x548f4e[_0x75f9a0(0x7ed)]();currentStudentProjectData=_0x5580a7,displayStudentNameSelector(_0x5580a7[_0x75f9a0(0x1bf)],currentQuizData['topic']);}catch(_0xfc7ac5){console[_0x75f9a0(0x5e9)](_0x75f9a0(0x6fc),_0xfc7ac5),showMessage(_0x75f9a0(0x22d));}finally{loadQuizBtn[_0x75f9a0(0x506)]=![],loadQuizBtn['innerHTML']=_0x75f9a0(0x639);}}async function handleJoinLiveGame(){const _0x85afee=_0x13fc2f,_0xbd273b=document['getElementById'](_0x85afee(0x684)),_0x5445f1=document[_0x85afee(0x21e)]('nickname-input'),_0x2aedb4=document['getElementById'](_0x85afee(0x8cf)),_0x1c96ff=_0xbd273b[_0x85afee(0x24a)][_0x85afee(0x8de)](),_0x3385f9=_0x5445f1[_0x85afee(0x24a)][_0x85afee(0x8de)]();if(!_0x1c96ff||!_0x3385f9){showMessage(_0x85afee(0x11b));return;}_0x2aedb4[_0x85afee(0x506)]=!![],_0x2aedb4[_0x85afee(0x768)]=_0x85afee(0x4f4);try{const _0xb74dd1=collection(db,_0x85afee(0x709)+appId+_0x85afee(0x827)),_0x1bb7fe=query(_0xb74dd1,where(_0x85afee(0xea),'==',_0x1c96ff),where(_0x85afee(0x5f5),'in',[_0x85afee(0x61a),'question'])),_0x4f3e9b=await getDocs(_0x1bb7fe);if(_0x4f3e9b['empty']){showMessage(_0x85afee(0xef));return;}const _0x54a877=_0x4f3e9b['docs'][0x0],_0x594268=_0x54a877[_0x85afee(0x7ed)]();currentLiveGameId=_0x54a877['id'];const _0x298050=_0x594268[_0x85afee(0x653)],_0x2c95bc=doc(db,_0x85afee(0x709)+appId+'/public/data/quizzes',_0x298050),_0x5128d=await getDoc(_0x2c95bc);if(!_0x5128d[_0x85afee(0x610)]()){showMessage(_0x85afee(0x4cf));return;}currentQuizData={'id':_0x5128d['id'],..._0x5128d[_0x85afee(0x7ed)]()};if(_0x594268[_0x85afee(0x61c)]&&_0x594268[_0x85afee(0x61c)][_0x3385f9]){const _0x5bec57=_0x594268['players'][_0x3385f9];if(_0x5bec57['status']===_0x85afee(0x7f4)){_0x2aedb4['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x3d62f5={};_0x3d62f5['players.'+_0x3385f9+_0x85afee(0x7ef)]=_0x85afee(0x782),await updateDoc(doc(db,_0x85afee(0x709)+appId+_0x85afee(0x827),currentLiveGameId),_0x3d62f5),showView('live-game'),currentStudentName=_0x3385f9,listenForLiveGameUpdates();return;}else{showMessage(_0x85afee(0x163));return;}}if(_0x594268[_0x85afee(0x5f5)]!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x2aedb4[_0x85afee(0x768)]=_0x85afee(0x203);const _0x3f44b4={};_0x3f44b4[_0x85afee(0x15e)+_0x3385f9]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x85afee(0x782)},await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x3f44b4),currentStudentName=_0x3385f9,listenForLiveGameUpdates();}catch(_0x499c99){console[_0x85afee(0x5e9)]('Error\x20joining\x20live\x20game:',_0x499c99),showMessage(_0x85afee(0x1c0));}finally{_0x2aedb4[_0x85afee(0x506)]=![],_0x2aedb4[_0x85afee(0x768)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x2b9b16,_0x28375c){const _0x575caf=_0x13fc2f,_0x529a55=document[_0x575caf(0x21e)](_0x575caf(0x91b));document[_0x575caf(0x21e)]('student-quiz-topic')[_0x575caf(0x680)]=_0x575caf(0x140)+_0x28375c,!_0x2b9b16||_0x2b9b16[_0x575caf(0x708)]===0x0?(_0x529a55[_0x575caf(0x768)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x575caf(0x506)]=!![]):(_0x529a55[_0x575caf(0x768)]=_0x575caf(0x162),_0x2b9b16[_0x575caf(0x121)](_0x310d09=>{const _0x5b2a91=_0x575caf,_0x5c5aad=document[_0x5b2a91(0x511)](_0x5b2a91(0x540));_0x5c5aad[_0x5b2a91(0x24a)]=_0x310d09,_0x5c5aad[_0x5b2a91(0x680)]=_0x310d09,_0x529a55[_0x5b2a91(0x689)](_0x5c5aad);}),startQuizBtn[_0x575caf(0x506)]=![]),studentInitialView[_0x575caf(0x110)][_0x575caf(0x8fb)](_0x575caf(0x6c1)),studentNameSelectionView['classList'][_0x575caf(0x892)](_0x575caf(0x6c1));}function shuffleArray(_0x15e18f){const _0x27e78b=_0x13fc2f;for(let _0x3322e0=_0x15e18f['length']-0x1;_0x3322e0>0x0;_0x3322e0--){const _0x5e82a5=Math['floor'](Math[_0x27e78b(0x353)]()*(_0x3322e0+0x1));[_0x15e18f[_0x3322e0],_0x15e18f[_0x5e82a5]]=[_0x15e18f[_0x5e82a5],_0x15e18f[_0x3322e0]];}}function getShuffledQuiz(_0x13ee98){const _0x35b2c1=_0x13fc2f;let _0x2932a8=JSON[_0x35b2c1(0x4aa)](JSON[_0x35b2c1(0x6fd)](_0x13ee98));const _0x4610bf=_0x2932a8[_0x35b2c1(0x168)]?.[_0x35b2c1(0x133)]||_0x35b2c1(0x1fb);if(_0x4610bf==='none')return _0x2932a8;return(_0x4610bf===_0x35b2c1(0xe8)||_0x4610bf==='both')&&shuffleArray(_0x2932a8[_0x35b2c1(0x218)]),(_0x4610bf===_0x35b2c1(0x731)||_0x4610bf==='both')&&_0x2932a8[_0x35b2c1(0x218)][_0x35b2c1(0x121)](_0x233004=>{const _0x27d25f=_0x35b2c1,_0x32a2ab=_0x233004['questionType']||_0x2932a8[_0x27d25f(0x5a4)];if(_0x233004[_0x27d25f(0x138)]){let _0x59f0f6=_0x233004[_0x27d25f(0x138)][_0x27d25f(0x924)]((_0x52ba04,_0x5d28ce)=>({'text':_0x52ba04,'isCorrect':_0x5d28ce===_0x233004['correctAnswerIndex']}));shuffleArray(_0x59f0f6),_0x233004[_0x27d25f(0x138)]=_0x59f0f6['map'](_0x159f81=>_0x159f81[_0x27d25f(0x16e)]),_0x233004[_0x27d25f(0x455)]=_0x59f0f6[_0x27d25f(0x601)](_0x1dd41b=>_0x1dd41b['isCorrect']);}_0x32a2ab===_0x27d25f(0x48c)&&_0x233004['allResponses']&&shuffleArray(_0x233004[_0x27d25f(0x8b1)]);}),_0x2932a8;}function displayQuizForStudent(_0x15d023){const _0x206af1=_0x13fc2f;studentQuizArea[_0x206af1(0x110)][_0x206af1(0x892)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x15d023);currentMode!==_0x206af1(0x126)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x206af1(0x88f),handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x206af1(0xfd)]('mousemove',resetDimTimer),window[_0x206af1(0xfd)](_0x206af1(0x4ad),resetDimTimer),window[_0x206af1(0xfd)](_0x206af1(0x63d),resetDimTimer),window[_0x206af1(0xfd)](_0x206af1(0x8e3),resetDimTimer),resetDimTimer());const _0x136091=currentDisplayedQuiz[_0x206af1(0x168)]?.['timerMode']||_0x206af1(0x1fb);if(_0x136091===_0x206af1(0x113))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x206af1(0x168)][_0x206af1(0x877)]);else _0x136091===_0x206af1(0x474)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5f2007=_0x13fc2f;let _0x53af7e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x5f2007(0x3f8)]+_0x5f2007(0x7b2)+(currentMode===_0x5f2007(0x126)?_0x5f2007(0x4a3):'')+_0x5f2007(0x20e);currentDisplayedQuiz[_0x5f2007(0x218)][_0x5f2007(0x121)]((_0x1f5200,_0xcd9e5b)=>{const _0x434d59=_0x5f2007,_0xf4c38=_0x1f5200[_0x434d59(0x78e)]||currentDisplayedQuiz[_0x434d59(0x5a4)];_0x53af7e+=_0x434d59(0x197);_0xf4c38===_0x434d59(0x48c)?_0x53af7e+=_0x434d59(0x803)+(_0xcd9e5b+0x1)+'.\x20'+_0x1f5200['stem']+_0x434d59(0x917)+_0xcd9e5b+_0x434d59(0x850)+_0x1f5200[_0x434d59(0x8b1)][_0x434d59(0x924)](_0x1f181d=>'<option\x20value=\x22'+_0x1f181d+'\x22>'+_0x1f181d+_0x434d59(0x807))['join']('')+_0x434d59(0x252):(_0x53af7e+='<p>'+(_0xcd9e5b+0x1)+'.\x20'+(_0x1f5200[_0x434d59(0x878)]||_0x1f5200[_0x434d59(0x777)])+'</p>',_0x1f5200['imageCode']&&(_0x53af7e+=_0x434d59(0x2b7)+_0x1f5200['imageCode']+_0x434d59(0x165)));_0x53af7e+='</div><div\x20class=\x22space-y-2\x22>';switch(_0xf4c38){case'short_answer':_0x53af7e+=_0x434d59(0x50f)+_0xcd9e5b+_0x434d59(0x74f);break;case _0x434d59(0x69f):_0x53af7e+=_0x434d59(0x894)+_0xcd9e5b+_0x434d59(0x53b)+_0xcd9e5b+_0x434d59(0x63b)+_0xcd9e5b+_0x434d59(0x32b),_0x53af7e+=_0x434d59(0x894)+_0xcd9e5b+_0x434d59(0x42c)+_0xcd9e5b+_0x434d59(0x375)+_0xcd9e5b+_0x434d59(0x923);break;case _0x434d59(0x48c):break;case _0x434d59(0x55b):case'multiple_choice':default:_0x53af7e+=_0x1f5200['options'][_0x434d59(0x924)]((_0x47b025,_0x4d4d00)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0xcd9e5b+'_opt'+_0x4d4d00+'\x22\x20name=\x22question'+_0xcd9e5b+_0x434d59(0x1ad)+_0x4d4d00+_0x434d59(0x44d)+_0xcd9e5b+_0x434d59(0x6f9)+_0x4d4d00+'\x22>'+_0x47b025+_0x434d59(0x5cc))[_0x434d59(0x408)]('');break;}_0x53af7e+=_0x434d59(0xe9);}),_0x53af7e+=_0x5f2007(0x10a),_0x53af7e+='</form>',studentQuizArea[_0x5f2007(0x768)]=_0x53af7e;if(currentMode===_0x5f2007(0x126)){const _0x4a227f=document[_0x5f2007(0x21e)](_0x5f2007(0x493));if(_0x4a227f)_0x4a227f[_0x5f2007(0xfd)](_0x5f2007(0x3bd),cancelAdminTest);}document[_0x5f2007(0x21e)]('quiz-form')[_0x5f2007(0xfd)](_0x5f2007(0x848),handleSubmitQuiz);if(window[_0x5f2007(0x3ad)])window[_0x5f2007(0x3ad)][_0x5f2007(0x3ed)]([studentQuizArea]);}async function handleSubmitQuiz(_0x23421b){const _0x129a4a=_0x13fc2f;if(_0x23421b)_0x23421b[_0x129a4a(0x60a)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5e6e17=document[_0x129a4a(0x21e)](_0x129a4a(0x84e));if(!_0x5e6e17)return;const _0x598883=_0x5e6e17[_0x129a4a(0x920)](_0x129a4a(0x5df)),_0x2dbb32=currentDisplayedQuiz[_0x129a4a(0x218)]['some'](_0x3f0d69=>_0x3f0d69['questionType']===_0x129a4a(0x6ac));_0x598883&&(_0x598883[_0x129a4a(0x506)]=!![],_0x2dbb32?_0x598883[_0x129a4a(0x768)]=_0x129a4a(0x75a):_0x598883[_0x129a4a(0x768)]=_0x129a4a(0x4a5));const _0xc3b0ea=new FormData(_0x5e6e17),_0x2b5d26=currentDisplayedQuiz[_0x129a4a(0x218)]['map']((_0x2f31fd,_0x8a9cd9)=>{const _0x1d98eb=_0x129a4a,_0x119aa0=_0x2f31fd[_0x1d98eb(0x78e)]||currentDisplayedQuiz[_0x1d98eb(0x5a4)],_0x51bf8f=_0xc3b0ea['get'](_0x1d98eb(0x8c8)+_0x8a9cd9);if(_0x51bf8f!==null&&_0x51bf8f!==undefined){if(_0x119aa0===_0x1d98eb(0x8f6)||_0x119aa0===_0x1d98eb(0x55b))return parseInt(_0x51bf8f);return _0x51bf8f;}return null;}),_0x47b7b2=currentQuizData['id'],_0x11f80e=doc(db,_0x129a4a(0x709)+appId+_0x129a4a(0x823)+_0x47b7b2+_0x129a4a(0x1f4),currentStudentName),_0x30406b=await getDoc(_0x11f80e),_0x4e6ee1=_0x30406b[_0x129a4a(0x610)]()?_0x30406b[_0x129a4a(0x7ed)]():{},_0x18e50d=_0x4e6ee1[_0x129a4a(0x378)]||[];await processAndSubmitAnswers(_0x2b5d26,_0x18e50d);}async function gradeShortAnswerWithAI(_0x14c58c,_0x5f3424){const _0x32a926=_0x13fc2f;if(!_0x14c58c||!_0x5f3424)return![];try{const _0xefc72c=_0x32a926(0x38c)+_0x14c58c+_0x32a926(0x7ad)+_0x5f3424+_0x32a926(0x90f),_0x30620c={'contents':[{'role':_0x32a926(0x4f9),'parts':[{'text':_0xefc72c}]}]},_0x2e6a58=_0x32a926(0x15b),_0x3dec19=_0x32a926(0x310)+_0x2e6a58,_0x354973=await fetch(_0x3dec19,{'method':_0x32a926(0x2c1),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x30620c)});if(!_0x354973['ok'])throw new Error('API\x20call\x20failed');const _0x305d31=await _0x354973['json'](),_0x5a58c5=_0x305d31[_0x32a926(0x519)][0x0][_0x32a926(0x679)][_0x32a926(0x543)][0x0][_0x32a926(0x16e)]['trim']()['toLowerCase']();return _0x5a58c5===_0x32a926(0x269);}catch(_0x74af4b){return console[_0x32a926(0x5e9)]('AI\x20grading\x20failed:',_0x74af4b),![];}}async function processAndSubmitAnswers(_0x5bf3a8,_0x2328f2){const _0x511cda=_0x13fc2f;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x511cda(0x3c1)](_0x511cda(0x911),handleVisibilityChange);let _0x1185eb=0x0,_0x4e5f43=0x0,_0x1b5b6f=[];const _0x864da7=[],_0x244a08=currentDisplayedQuiz[_0x511cda(0x218)]['length'];let _0x3d4bac=0x0;const _0x20dce7=currentDisplayedQuiz[_0x511cda(0x218)];for(let _0x46fe3d=0x0;_0x46fe3d<_0x20dce7[_0x511cda(0x708)];_0x46fe3d++){const _0x560503=_0x20dce7[_0x46fe3d],_0x276094=_0x5bf3a8[_0x46fe3d],_0x2b33c3=_0x560503[_0x511cda(0x78e)]||currentDisplayedQuiz[_0x511cda(0x5a4)];let _0x4618da=![];if(_0x276094!==null&&_0x276094!=='')switch(_0x2b33c3){case _0x511cda(0x48c):_0x4618da=_0x276094===_0x560503[_0x511cda(0x349)];break;case _0x511cda(0x69f):const _0x17e2ab=_0x276094===!![]||_0x276094===_0x511cda(0x269);_0x4618da=_0x17e2ab===_0x560503[_0x511cda(0x8d9)];break;case _0x511cda(0x55b):case _0x511cda(0x8f6):default:_0x4618da=Number(_0x276094)===_0x560503[_0x511cda(0x455)];break;case _0x511cda(0x6ac):_0x4618da=await gradeShortAnswer(_0x276094,_0x560503);break;}_0x4618da?(_0x1185eb++,_0x3d4bac++,_0x3d4bac===0x3&&(_0x1b5b6f[_0x511cda(0x805)](BADGES[_0x511cda(0x8ee)]['id']),_0x3d4bac=0x0)):_0x3d4bac=0x0;let _0x197803=null;_0x560503[_0x511cda(0x138)]&&_0x276094!==null&&(_0x197803=_0x560503[_0x511cda(0x138)][_0x276094]),_0x864da7[_0x511cda(0x805)]({'questionId':_0x560503['id'],'answer':_0x276094,'answerText':_0x197803,'isCorrect':_0x4618da,'originalQuestionText':_0x560503[_0x511cda(0x700)]||_0x560503[_0x511cda(0x777)]});}_0x4e5f43=_0x1185eb*0xa;_0x1185eb===_0x244a08&&_0x244a08>0x0&&!currentDisplayedQuiz[_0x511cda(0x4f7)]&&(_0x4e5f43+=0x32,_0x1b5b6f[_0x511cda(0x805)](BADGES[_0x511cda(0x749)]['id']));const _0x1f92af=currentDisplayedQuiz[_0x511cda(0x168)]?.[_0x511cda(0x5ba)]??Math['floor'](_0x244a08/0x2),_0x387d0b=currentDisplayedQuiz[_0x511cda(0x168)]?.[_0x511cda(0x266)];if(_0x387d0b===_0x511cda(0x113)&&quizStartTime){const _0x51ed2d=(new Date()-quizStartTime)/0x3e8,_0x451971=currentDisplayedQuiz['settings'][_0x511cda(0x877)]*0x3c;_0x1185eb>=_0x1f92af&&_0x51ed2d<_0x451971/0x2&&(_0x4e5f43+=0x14,_0x1b5b6f[_0x511cda(0x805)](BADGES[_0x511cda(0x6f7)]['id']));}_0x2328f2[_0x511cda(0x708)]===0x0&&_0x1185eb===_0x244a08&&_0x244a08>0x0&&_0x1b5b6f[_0x511cda(0x805)](BADGES[_0x511cda(0x907)]['id']);if(_0x2328f2['length']>0x0){const _0x5ab572=_0x2328f2[0x0]['score'];if(_0x5ab572<_0x1f92af&&_0x1185eb>=_0x1f92af){const _0x20a5cf=_0x2328f2[_0x511cda(0x3e2)](_0x2ed742=>(_0x2ed742['badges']||[])[_0x511cda(0x1be)](BADGES['COMEBACK_KING']['id']));!_0x20a5cf&&_0x1b5b6f['push'](BADGES[_0x511cda(0x65c)]['id']);}}_0x2328f2[_0x511cda(0x708)]===0x4&&_0x1b5b6f[_0x511cda(0x805)](BADGES[_0x511cda(0x15d)]['id']);const _0x26eaac=currentDisplayedQuiz[_0x511cda(0x168)][_0x511cda(0x53d)];if(currentMode===_0x511cda(0x126)){handleResultDisplay(_0x26eaac,_0x1185eb,_0x4e5f43,_0x1b5b6f,_0x864da7,_0x244a08);return;}const _0x2eb94e=currentQuizData['id'],_0x2a9e30=doc(db,_0x511cda(0x709)+appId+_0x511cda(0x823)+_0x2eb94e+_0x511cda(0x1f4),currentStudentName);try{const _0x41c313=[..._0x2328f2],_0x390b68={'score':_0x1185eb,'points':_0x4e5f43,'badges':_0x1b5b6f,'submittedAt':new Date()[_0x511cda(0x44c)](),'answers':_0x864da7};_0x41c313[_0x511cda(0x805)](_0x390b68);const _0x592fae=_0x41c313[0x0][_0x511cda(0x510)],_0x507237=Math['max'](..._0x41c313[_0x511cda(0x924)](_0x5597dc=>_0x5597dc[_0x511cda(0x510)])),_0x42a42d=_0x1185eb,_0x2c5cb9=_0x390b68[_0x511cda(0x18b)];await setDoc(_0x2a9e30,{'studentName':currentStudentName,'totalQuestions':_0x244a08,'attempts':_0x41c313,'firstScore':_0x592fae,'bestScore':_0x507237,'latestScore':_0x42a42d,'points':_0x4e5f43,'latestSubmittedAt':_0x2c5cb9},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x511cda(0x779)],currentStudentName),handleResultDisplay(_0x26eaac,_0x1185eb,_0x4e5f43,_0x1b5b6f,_0x864da7,_0x244a08);}catch(_0x21e0d6){console[_0x511cda(0x5e9)]('Error\x20saving\x20submission:',_0x21e0d6),showMessage(_0x511cda(0x860));}}async function updateStudentProfile(_0x37be12,_0x33e8f0){const _0x5b83f4=_0x13fc2f,_0x2a0d5d=doc(db,_0x5b83f4(0x709)+appId+'/public/data/projects/'+_0x37be12+_0x5b83f4(0x63f),_0x33e8f0);try{const _0x14cd59=query(collection(db,'artifacts/'+appId+_0x5b83f4(0x51e)),where(_0x5b83f4(0x779),'==',_0x37be12)),_0x409c05=await getDocs(_0x14cd59),_0x54d3ce=new Map(_0x409c05[_0x5b83f4(0x369)][_0x5b83f4(0x924)](_0x2a7b6e=>[_0x2a7b6e['id'],_0x2a7b6e[_0x5b83f4(0x7ed)]()])),_0x101280=Array[_0x5b83f4(0x46d)](_0x54d3ce[_0x5b83f4(0x205)]());await runTransaction(db,async _0x5f1bb1=>{const _0x205468=_0x5b83f4;let _0x4ec140=0x0;const _0x4c643a={};let _0x4adf8c=!![],_0x5eb1ff=0x0,_0x4aa7b7=0x0;for(const _0x4b2340 of _0x101280){const _0xa7ebb1=_0x54d3ce[_0x205468(0x4c2)](_0x4b2340),_0x35ba64=doc(db,_0x205468(0x709)+appId+_0x205468(0x823)+_0x4b2340+_0x205468(0x1f4),_0x33e8f0),_0x5f40ca=await _0x5f1bb1['get'](_0x35ba64);if(_0x5f40ca[_0x205468(0x610)]()){const _0x204105=_0x5f40ca[_0x205468(0x7ed)](),_0x142599=_0x204105['attempts']||[];if(_0x142599[_0x205468(0x708)]>0x0){const _0x24cf1a=_0x142599[_0x205468(0x396)]((_0x65d4b6,_0x4b2c63)=>{const _0x1bd96a=_0x205468;if(_0x4b2c63[_0x1bd96a(0x510)]>_0x65d4b6[_0x1bd96a(0x510)])return _0x4b2c63;if(_0x4b2c63[_0x1bd96a(0x510)]===_0x65d4b6['score'])return(_0x4b2c63['points']||0x0)>(_0x65d4b6[_0x1bd96a(0x7f2)]||0x0)?_0x4b2c63:_0x65d4b6;return _0x65d4b6;},{'score':-0x1,'points':-0x1});_0x24cf1a[_0x205468(0x510)]>-0x1&&(_0x4ec140+=_0x24cf1a[_0x205468(0x7f2)]||0x0,(_0x24cf1a[_0x205468(0x36d)]||[])['forEach'](_0x852eff=>{_0x4c643a[_0x852eff]=(_0x4c643a[_0x852eff]||0x0)+0x1;}));}}if(_0xa7ebb1['topic']!==_0x205468(0x115)){_0x4aa7b7++;if(_0x5f40ca[_0x205468(0x610)]()){_0x5eb1ff++;const _0x54b0d5=_0x5f40ca['data']();_0x54b0d5[_0x205468(0x388)]!==_0x54b0d5[_0x205468(0x19d)]&&(_0x4adf8c=![]);}else _0x4adf8c=![];}}_0x4aa7b7>0x0&&_0x5eb1ff===_0x4aa7b7&&_0x4adf8c?_0x4c643a[_0x205468(0x872)]=0x1:_0x4c643a[_0x205468(0x872)]=0x0,_0x5f1bb1[_0x205468(0x1b1)](_0x2a0d5d,{'studentName':_0x33e8f0,'totalPoints':_0x4ec140,'unlockedBadges':Object[_0x205468(0x205)](_0x4c643a)[_0x205468(0x17f)](_0x2c9c38=>_0x4c643a[_0x2c9c38]>0x0),'badgesCount':_0x4c643a},{'merge':!![]});});}catch(_0x44fb9d){console[_0x5b83f4(0x5e9)](_0x5b83f4(0x3f5),_0x44fb9d),showMessage(_0x5b83f4(0x925));}}function startAdminTest(){const _0x50baaa=_0x13fc2f;if(!currentQuizData){showMessage(_0x50baaa(0x697));return;}let _0x42f44e=JSON[_0x50baaa(0x4aa)](JSON['stringify'](currentQuizData));currentMode=_0x50baaa(0x126),currentStudentName=_0x50baaa(0x6ee),adminView['classList'][_0x50baaa(0x8fb)]('hidden'),studentView[_0x50baaa(0x110)]['remove']('hidden'),studentInitialView[_0x50baaa(0x110)][_0x50baaa(0x8fb)]('hidden'),studentNameSelectionView[_0x50baaa(0x110)][_0x50baaa(0x8fb)](_0x50baaa(0x6c1)),studentResultArea[_0x50baaa(0x110)][_0x50baaa(0x8fb)]('hidden'),studentQuizArea[_0x50baaa(0x110)][_0x50baaa(0x892)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x42f44e);}function handleResultDisplay(_0x2ffe01,_0x56b028,_0x5917b2,_0x2b6774,_0x416728,_0x52c290){const _0x259211=_0x13fc2f;if(_0x2ffe01===_0x259211(0x2e3)){displaySubmissionConfirmation();return;}const _0xd0c4a8=currentDisplayedQuiz[_0x259211(0x168)]?.[_0x259211(0x5ba)]??Math['floor'](_0x52c290/0x2),_0x321dba=currentDisplayedQuiz[_0x259211(0x168)]?.[_0x259211(0x333)]??![],_0x95c9b5=currentDisplayedQuiz[_0x259211(0x168)]?.[_0x259211(0x74b)]===!![],_0x1a432c=_0x56b028<_0xd0c4a8,_0x5d7f8a=_0x2ffe01===_0x259211(0x717)||_0x2ffe01==='perfect_score_status';if(_0x95c9b5&&_0x1a432c&&!_0x5d7f8a){_0x2ffe01===_0x259211(0x4dc)?displayResultsWithAnswers(_0x56b028,_0x5917b2,_0x2b6774,_0x416728,_0x52c290,!![]):displayLoopScreen(_0x56b028,_0x52c290,_0x2ffe01);return;}if(_0x321dba&&_0x1a432c){startAdaptiveFlow(_0x416728,_0x56b028,_0x52c290);return;}switch(_0x2ffe01){case'show_results_and_answers':displayResultsWithAnswers(_0x56b028,_0x5917b2,_0x2b6774,_0x416728,_0x52c290);break;case _0x259211(0x77d):displayResultsScoreOnly(_0x56b028,_0x5917b2,_0x2b6774,_0x52c290);break;case'show_pass_fail_only':displayPassFailOnly(_0x56b028,_0x52c290);break;case'half_mark_status':displayHalfMarkResult(_0x56b028,_0x52c290);break;case _0x259211(0x246):displayPerfectScoreResult(_0x56b028,_0x52c290);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x26c323){const _0x2662d3=_0x13fc2f;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3a7206=_0x2662d3(0x86f)+_0x26c323+_0x2662d3(0x482)+simpleMathPrompt+_0x2662d3(0x404),_0x35a1b1={'type':_0x2662d3(0x1d7),'properties':{'questionText':{'type':_0x2662d3(0x69c)},'options':{'type':_0x2662d3(0x661),'items':{'type':_0x2662d3(0x69c)}},'correctAnswerIndex':{'type':_0x2662d3(0x58e)},'explanation':{'type':_0x2662d3(0x69c)}},'required':['questionText',_0x2662d3(0x138),_0x2662d3(0x455),'explanation']},_0x4b7605={'type':_0x2662d3(0x1d7),'properties':{'topic':{'type':_0x2662d3(0x69c)},'questions':{'type':_0x2662d3(0x661),'items':_0x35a1b1}},'required':['topic',_0x2662d3(0x218)]};try{const _0x1a8c07=await callAnalysisApi(_0x3a7206,_0x4b7605);_0x1a8c07[_0x2662d3(0x4f7)]=!![],studentReadingArea['classList'][_0x2662d3(0x8fb)](_0x2662d3(0x6c1));const _0x5bad4d={...currentDisplayedQuiz[_0x2662d3(0x168)],'isAdaptive':![],'resultsDisplay':_0x2662d3(0x4dc)};_0x1a8c07['settings']=_0x5bad4d,displayQuizForStudent(_0x1a8c07);}catch(_0x2abfb1){console[_0x2662d3(0x5e9)]('Remedial\x20quiz\x20generation\x20failed:',_0x2abfb1),showMessage(_0x2662d3(0x4b5)),showView(_0x2662d3(0x84d));}}function displayPassFailOnly(_0x529fd1,_0x275994){const _0x503197=_0x13fc2f,_0x57ee64=currentDisplayedQuiz[_0x503197(0x168)]?.[_0x503197(0x5ba)]??-0x1,_0x251cbc=currentDisplayedQuiz[_0x503197(0x4f7)]===!![];let _0x204043='',_0x127c1f=![];if(_0x251cbc||_0x57ee64!==-0x1){_0x127c1f=_0x251cbc?_0x529fd1===_0x275994:_0x529fd1>=_0x57ee64;const _0x2f2b4f=_0x127c1f?_0x503197(0x213):_0x503197(0x78c),_0x8088f3=_0x127c1f?_0x503197(0x34b):'ไม่ผ่าน';_0x204043=_0x503197(0x744)+_0x2f2b4f+'\x22>'+_0x8088f3+_0x503197(0x88b);}else _0x204043=_0x503197(0x5cf);let _0x307de6=_0x503197(0x345)+currentStudentName+_0x503197(0x1a0)+_0x204043+_0x503197(0x342);studentResultArea[_0x503197(0x768)]=_0x307de6,studentResultArea['classList'][_0x503197(0x892)](_0x503197(0x6c1)),studentQuizArea[_0x503197(0x110)][_0x503197(0x8fb)](_0x503197(0x6c1)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x127c1f});}function cancelAdminTest(){const _0x3f0338=_0x13fc2f;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x3f0338(0x3c1)](_0x3f0338(0x88f),handleFullscreenChange),document['removeEventListener'](_0x3f0338(0x911),handleVisibilityChange),currentMode=_0x3f0338(0x725),studentView[_0x3f0338(0x110)]['add'](_0x3f0338(0x6c1)),adminView['classList'][_0x3f0338(0x892)]('hidden'),showView('project-detail');}function setupResultScreenBackButton(_0x3dbb88){const _0x1a7938=_0x13fc2f,_0x497be3={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3dbb88};if(_0x497be3['isLooping']){const _0x5c28c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x1a7938(0x75d)]('beforeend',_0x5c28c2),document['getElementById'](_0x1a7938(0x33f))['addEventListener'](_0x1a7938(0x3bd),()=>{studentResultArea['classList']['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1718fc=_0x1a7938(0x87e),_0xcbd138=currentMode===_0x1a7938(0x126),_0x50b382=_0xcbd138?_0x1a7938(0x42f):_0x1a7938(0x146);let _0x16bb6e='';_0x497be3[_0x1a7938(0x745)]&&(_0x16bb6e+=_0x1a7938(0x1f2));let _0x2a46a0=_0x497be3[_0x1a7938(0x135)];_0x2a46a0===undefined&&(_0x2a46a0=_0x497be3[_0x1a7938(0x510)]<_0x497be3['totalQuestions']);_0x2a46a0&&(_0x16bb6e+=_0x1a7938(0x1ea));_0x16bb6e+=_0x1a7938(0x222)+_0x1718fc+_0x1a7938(0x5f7)+_0x50b382+_0x1a7938(0x2a4);const _0xb40619=_0x1a7938(0x619)+_0x16bb6e+'</div>';studentResultArea[_0x1a7938(0x75d)](_0x1a7938(0x816),_0xb40619),studentResultArea[_0x1a7938(0x920)](_0x1a7938(0x856))?.['addEventListener'](_0x1a7938(0x3bd),handleShowStudentRankings);const _0x336ce4=studentResultArea[_0x1a7938(0x920)](_0x1a7938(0x884));_0x336ce4&&_0x336ce4[_0x1a7938(0xfd)](_0x1a7938(0x3bd),()=>{const _0x2b9985=_0x1a7938;studentResultArea[_0x2b9985(0x110)]['add'](_0x2b9985(0x6c1)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1a7938(0x21e)](_0x1718fc)[_0x1a7938(0xfd)](_0x1a7938(0x3bd),()=>{const _0x23ba6a=_0x1a7938;_0xcbd138?(currentMode=_0x23ba6a(0x725),studentView['classList'][_0x23ba6a(0x8fb)](_0x23ba6a(0x6c1)),adminView[_0x23ba6a(0x110)][_0x23ba6a(0x892)](_0x23ba6a(0x6c1)),showView(_0x23ba6a(0x473))):(showView('student'),document[_0x23ba6a(0x21e)](_0x23ba6a(0x450))['value']='');});}function displayResultsWithAnswers(_0x3b0d4e,_0x1291e0,_0xc98429,_0x35b837,_0x3533dd,_0x321d01=![]){const _0xb64a59=_0x13fc2f,_0x4ac7ac=_0x3533dd>0x0?_0x3b0d4e/_0x3533dd*0x64:0x0,_0x52f088=currentDisplayedQuiz[_0xb64a59(0x168)]?.[_0xb64a59(0x5ba)]??-0x1,_0x1f559a=currentDisplayedQuiz[_0xb64a59(0x4f7)]===!![];let _0x2fad73='';if(_0x1f559a||_0x52f088!==-0x1){let _0x81421=_0x1f559a?_0x3b0d4e===_0x3533dd:_0x3b0d4e>=_0x52f088;const _0x2e779a=_0x81421?_0xb64a59(0x213):'bg-red-100\x20text-red-800',_0x41cb8e=_0x81421?_0xb64a59(0x34b):'ไม่ผ่าน';_0x2fad73=_0xb64a59(0x90c)+_0x2e779a+'\x22>'+_0x41cb8e+'</p>';}let _0x4f5ef3=_0xb64a59(0x5bd)+currentStudentName+_0xb64a59(0x355)+_0x3b0d4e+_0xb64a59(0x671)+_0x3533dd+_0xb64a59(0x363)+_0x2fad73+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x1291e0+_0xb64a59(0x159)+_0x4ac7ac[_0xb64a59(0x2a8)](0x0)+_0xb64a59(0x674);currentDisplayedQuiz[_0xb64a59(0x218)][_0xb64a59(0x121)]((_0x7f0d33,_0x30068a)=>{const _0x158f31=_0xb64a59,_0x3fc500=_0x35b837[_0x30068a],_0x3a096f=_0x3fc500['answer'],_0x3f6a1f=_0x3fc500[_0x158f31(0x41d)],_0x3a6fb5=_0x7f0d33['questionType']||currentDisplayedQuiz[_0x158f31(0x5a4)];_0x4f5ef3+=_0x158f31(0x56d)+(_0x3f6a1f?_0x158f31(0x844):_0x158f31(0x4e8))+_0x158f31(0x14f)+(_0x30068a+0x1)+'.\x20'+(_0x7f0d33[_0x158f31(0x700)]||_0x7f0d33['questionText'])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x3a6fb5){case _0x158f31(0x48c):const _0x3f266f=_0x3a096f||_0x158f31(0x8bc),_0x36933b=_0x7f0d33[_0x158f31(0x349)];_0x4f5ef3+=_0x158f31(0x73e)+(!_0x3f6a1f?_0x158f31(0x245):'')+'\x22>'+_0x3f266f+'</span></p>';!_0x3f6a1f&&(_0x4f5ef3+=_0x158f31(0x6cc)+_0x36933b+_0x158f31(0x30a));break;case _0x158f31(0x6ac):_0x4f5ef3+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x3a096f||_0x158f31(0x8bc))+_0x158f31(0x30a),_0x4f5ef3+=_0x158f31(0x394)+_0x7f0d33[_0x158f31(0x665)]+_0x158f31(0x30a);break;case _0x158f31(0x69f):_0x4f5ef3+=_0x158f31(0x855)+(_0x7f0d33[_0x158f31(0x8d9)]===!![]?_0x158f31(0x414):'')+'\x20'+(_0x3a096f===_0x158f31(0x269)&&!_0x3f6a1f?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x4f5ef3+=_0x158f31(0x855)+(_0x7f0d33['correctAnswer']===![]?_0x158f31(0x414):'')+'\x20'+(_0x3a096f===_0x158f31(0x77c)&&!_0x3f6a1f?_0x158f31(0x245):'')+'\x22>ไม่ใช่</p>';break;default:_0x4f5ef3+=_0x7f0d33[_0x158f31(0x138)][_0x158f31(0x924)]((_0x1ec539,_0x5c7cf0)=>{const _0x298744=_0x158f31;let _0x8d429f='',_0x44b09b='';if(_0x5c7cf0===_0x7f0d33[_0x298744(0x455)])_0x8d429f=_0x298744(0x414),_0x44b09b=_0x298744(0x663);else _0x5c7cf0===_0x3a096f&&(_0x8d429f='font-bold\x20text-red-700\x20line-through',_0x44b09b='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x298744(0x359)+_0x8d429f+'\x22>'+_0x44b09b+_0x1ec539+_0x298744(0x165);})['join']('');break;}_0x4f5ef3+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x7f0d33[_0x158f31(0x6e0)]||_0x158f31(0x267))+_0x158f31(0x165);if(!_0x3f6a1f){const _0x34b76e=_0x7f0d33[_0x158f31(0x700)]||_0x7f0d33[_0x158f31(0x777)];_0x4f5ef3+=_0x158f31(0x434)+escape(_0x34b76e)+_0x158f31(0x54b);}_0x4f5ef3+=_0x158f31(0x165);}),studentResultArea[_0xb64a59(0x768)]=_0x4f5ef3,renderEarnedBadges(_0xc98429,_0xb64a59(0x1a3)),studentResultArea[_0xb64a59(0x110)][_0xb64a59(0x892)](_0xb64a59(0x6c1)),studentQuizArea[_0xb64a59(0x110)][_0xb64a59(0x8fb)](_0xb64a59(0x6c1)),setupResultScreenBackButton({'isLooping':_0x321d01,'score':_0x3b0d4e,'totalQuestions':_0x3533dd,'showRankings':!![]});if(window[_0xb64a59(0x3ad)])window[_0xb64a59(0x3ad)][_0xb64a59(0x3ed)]([studentResultArea]);}function displayResultsScoreOnly(_0x55fbd4,_0x8fbd0e,_0x1e52ae,_0x10e012){const _0xac2fca=_0x13fc2f,_0x4a179a=_0x10e012>0x0?_0x55fbd4/_0x10e012*0x64:0x0,_0x495ba3=currentDisplayedQuiz[_0xac2fca(0x168)]?.[_0xac2fca(0x5ba)]??-0x1,_0x41509e=currentDisplayedQuiz[_0xac2fca(0x4f7)]===!![];let _0x179e5d='';if(_0x41509e||_0x495ba3!==-0x1){let _0x3e9f9f=_0x41509e?_0x55fbd4===_0x10e012:_0x55fbd4>=_0x495ba3;const _0xff6961=_0x3e9f9f?'bg-green-100\x20text-green-800':_0xac2fca(0x78c),_0x582852=_0x3e9f9f?_0xac2fca(0x34b):_0xac2fca(0x426);_0x179e5d=_0xac2fca(0x90c)+_0xff6961+'\x22>'+_0x582852+_0xac2fca(0x30a);}let _0x462372=_0xac2fca(0x345)+currentStudentName+_0xac2fca(0x73d)+_0x55fbd4+_0xac2fca(0x2ce)+_0x10e012+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x179e5d+_0xac2fca(0x452)+_0x8fbd0e+_0xac2fca(0x79f)+_0x4a179a[_0xac2fca(0x2a8)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xac2fca(0x768)]=_0x462372,renderEarnedBadges(_0x1e52ae,_0xac2fca(0x1a3)),studentResultArea[_0xac2fca(0x110)]['remove'](_0xac2fca(0x6c1)),studentQuizArea[_0xac2fca(0x110)][_0xac2fca(0x8fb)](_0xac2fca(0x6c1)),setupResultScreenBackButton({'score':_0x55fbd4,'totalQuestions':_0x10e012,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4a67ae=_0x13fc2f;let _0xe8d515=_0x4a67ae(0x32d)+currentStudentName+_0x4a67ae(0x5b5);studentResultArea['innerHTML']=_0xe8d515,studentResultArea[_0x4a67ae(0x110)][_0x4a67ae(0x892)]('hidden'),studentQuizArea[_0x4a67ae(0x110)]['add'](_0x4a67ae(0x6c1)),document[_0x4a67ae(0x21e)]('back-to-home-manual-release')[_0x4a67ae(0xfd)](_0x4a67ae(0x3bd),()=>{const _0x16cb13=_0x4a67ae;showView(_0x16cb13(0x84d)),document['getElementById'](_0x16cb13(0x450))[_0x16cb13(0x24a)]='';});}function renderEarnedBadges(_0x4188f8,_0x169293){const _0x49d6ee=_0x13fc2f,_0x5cef09=document[_0x49d6ee(0x21e)](_0x169293);if(!_0x5cef09||!_0x4188f8||_0x4188f8['length']===0x0)return;let _0x4c92d9='';_0x4188f8[_0x49d6ee(0x121)]((_0x2a64da,_0x582ffa)=>{const _0x2a1254=_0x49d6ee,_0x2b31b4=Object[_0x2a1254(0x672)](BADGES)[_0x2a1254(0x75b)](_0x1d713a=>_0x1d713a['id']===_0x2a64da);_0x2b31b4&&(_0x4c92d9+=_0x2a1254(0x59c)+_0x582ffa*0.2+_0x2a1254(0x756)+_0x2b31b4[_0x2a1254(0x612)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2b31b4[_0x2a1254(0x2e1)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x2b31b4[_0x2a1254(0x763)]+_0x2a1254(0x4ac));}),_0x5cef09[_0x49d6ee(0x768)]=_0x4c92d9;}function startPresentation(_0x382817){const _0x121ac1=_0x13fc2f;currentQuizData=getShuffledQuiz(_0x382817),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x121ac1(0x206),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x33d316=_0x13fc2f;document[_0x33d316(0x561)]&&document[_0x33d316(0x28e)](),presentationModal[_0x33d316(0x124)][_0x33d316(0x39f)]='none';}function renderPresentationSlide(_0xd01d39){const _0x1b7d6f=_0x13fc2f,_0x336948=document['getElementById'](_0x1b7d6f(0x577));if(!currentQuizData||!currentQuizData[_0x1b7d6f(0x218)]||!currentQuizData[_0x1b7d6f(0x218)][_0xd01d39]){_0x336948['innerHTML']=_0x1b7d6f(0x503);return;}const _0x207f7d=currentQuizData[_0x1b7d6f(0x218)][_0xd01d39],_0x257054=_0x207f7d[_0x1b7d6f(0x78e)]||currentQuizData['quizType'];_0x336948[_0x1b7d6f(0x768)]='';let _0x42e91e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x207f7d[_0x1b7d6f(0x130)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x207f7d[_0x1b7d6f(0x130)]+_0x1b7d6f(0x165):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0xd01d39+0x1)+'.\x20'+(_0x207f7d['stem']||_0x207f7d['questionText'])+_0x1b7d6f(0x8a2);switch(_0x257054){case _0x1b7d6f(0x48c):_0x42e91e+=_0x207f7d[_0x1b7d6f(0x8b1)][_0x1b7d6f(0x924)](_0x3300a3=>_0x1b7d6f(0x683)+_0x3300a3+_0x1b7d6f(0x65d))['join']('');break;case _0x1b7d6f(0x69f):_0x42e91e+=_0x1b7d6f(0x806),_0x42e91e+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x1b7d6f(0x4ee):case _0x1b7d6f(0x6ac):_0x42e91e+=_0x1b7d6f(0x18e);break;case _0x1b7d6f(0x55b):case _0x1b7d6f(0x8f6):default:_0x42e91e+=_0x207f7d[_0x1b7d6f(0x138)][_0x1b7d6f(0x924)]((_0x33dc4d,_0x2fb8dc)=>_0x1b7d6f(0x817)+_0x2fb8dc+_0x1b7d6f(0x2f4)+_0x33dc4d+_0x1b7d6f(0x65d))['join']('');break;}_0x42e91e+=_0x1b7d6f(0x23f)+(_0x207f7d[_0x1b7d6f(0x6e0)]||_0x1b7d6f(0x267))+_0x1b7d6f(0x3af),_0x336948[_0x1b7d6f(0x768)]=_0x42e91e;if(window[_0x1b7d6f(0x3ad)])window[_0x1b7d6f(0x3ad)]['typesetPromise']([_0x336948]);let _0x2fcfdb=[];switch(_0x257054){case'matching_item':_0x2fcfdb=_0x207f7d[_0x1b7d6f(0x8b1)]||[];break;case _0x1b7d6f(0x69f):_0x2fcfdb=[_0x1b7d6f(0x3db),_0x1b7d6f(0x69e)];break;default:_0x2fcfdb=_0x207f7d[_0x1b7d6f(0x138)]||[];break;}const _0x17af3b=document[_0x1b7d6f(0x21e)](_0x1b7d6f(0x374));_0x17af3b&&(_0x17af3b['onclick']=()=>{openScratchpad(_0x207f7d,_0x2fcfdb);});document['querySelectorAll']('.presentation-option')[_0x1b7d6f(0x121)](_0xff8f6d=>{const _0x13f8d7=_0x1b7d6f;_0xff8f6d[_0x13f8d7(0xfd)]('click',_0x4caef1=>revealAnswerForPresentation(_0xd01d39,_0x4caef1[_0x13f8d7(0x5a2)]));});const _0x1993aa=document[_0x1b7d6f(0x21e)]('check-presentation-answer-btn');_0x1993aa&&_0x1993aa[_0x1b7d6f(0xfd)](_0x1b7d6f(0x3bd),()=>checkShortAnswerForPresentation(_0xd01d39)),document[_0x1b7d6f(0x21e)](_0x1b7d6f(0x389))['textContent']='ข้อที่\x20'+(_0xd01d39+0x1)+_0x1b7d6f(0x4cb)+currentQuizData['questions'][_0x1b7d6f(0x708)],document[_0x1b7d6f(0x21e)]('prev-question-btn')[_0x1b7d6f(0x506)]=_0xd01d39===0x0,document[_0x1b7d6f(0x21e)](_0x1b7d6f(0x5a1))['disabled']=_0xd01d39===currentQuizData[_0x1b7d6f(0x218)][_0x1b7d6f(0x708)]-0x1;}async function checkShortAnswerForPresentation(_0x1d6641){const _0x321a2e=_0x13fc2f,_0x1fddca=currentQuizData[_0x321a2e(0x218)][_0x1d6641],_0x5d7bcf=document[_0x321a2e(0x21e)](_0x321a2e(0x73f)),_0x30b62b=document['getElementById']('check-presentation-answer-btn'),_0x49f63d=document[_0x321a2e(0x21e)](_0x321a2e(0x11a)),_0x595b32=document['getElementById']('presentation-explanation');if(!_0x5d7bcf||!_0x30b62b||!_0x49f63d||!_0x595b32)return;const _0x5a9a3c=_0x5d7bcf[_0x321a2e(0x24a)][_0x321a2e(0x8de)]();if(_0x5a9a3c==='')return;_0x30b62b['disabled']=!![],_0x30b62b['innerHTML']=_0x321a2e(0x3cf),_0x5d7bcf['disabled']=!![];const _0x5f4851=await gradeShortAnswer(_0x5a9a3c,_0x1fddca);_0x5f4851?_0x49f63d['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x49f63d[_0x321a2e(0x768)]=_0x321a2e(0x2cb)+_0x1fddca[_0x321a2e(0x665)]+')',_0x49f63d[_0x321a2e(0x110)][_0x321a2e(0x892)]('hidden'),_0x595b32['classList'][_0x321a2e(0x892)](_0x321a2e(0x6c1)),_0x30b62b['classList'][_0x321a2e(0x8fb)](_0x321a2e(0x6c1));}function revealAnswerForPresentation(_0x41b0b5,_0x5981e5){const _0x285bc4=_0x13fc2f,_0x594eec=currentQuizData[_0x285bc4(0x218)][_0x41b0b5],_0x3d15dc=_0x594eec['questionType']||currentQuizData[_0x285bc4(0x5a4)];document[_0x285bc4(0x1af)](_0x285bc4(0x5ed))[_0x285bc4(0x121)](_0x3d33e3=>{const _0x51e956=_0x285bc4;_0x3d33e3['disabled']=!![],_0x3d33e3['classList'][_0x51e956(0x892)]('hover:bg-indigo-100');let _0x5755d3=![];if(_0x3d15dc===_0x51e956(0x8f6)||_0x3d15dc===_0x51e956(0x55b)){const _0x4030c6=parseInt(_0x3d33e3[_0x51e956(0x3ca)]['index']);_0x5755d3=_0x4030c6===_0x594eec[_0x51e956(0x455)];}else{if(_0x3d15dc===_0x51e956(0x69f)){const _0x3f9524=_0x3d33e3[_0x51e956(0x3ca)][_0x51e956(0x3c7)]===_0x51e956(0x269);_0x5755d3=_0x3f9524===_0x594eec['correctAnswer'];}else _0x3d15dc==='matching_item'&&(_0x5755d3=_0x3d33e3[_0x51e956(0x680)][_0x51e956(0x8de)]()===_0x594eec[_0x51e956(0x349)]);}_0x5755d3?_0x3d33e3[_0x51e956(0x110)][_0x51e956(0x8fb)](_0x51e956(0x8cb),_0x51e956(0x7ac),_0x51e956(0x63c)):_0x3d33e3[_0x51e956(0x110)][_0x51e956(0x8fb)](_0x51e956(0x1d9));}),_0x5981e5[_0x285bc4(0x110)][_0x285bc4(0x892)](_0x285bc4(0x1d9));let _0x110cca=![];if(_0x3d15dc===_0x285bc4(0x8f6))_0x110cca=parseInt(_0x5981e5[_0x285bc4(0x3ca)]['index'])===_0x594eec[_0x285bc4(0x455)];else{if(_0x3d15dc==='true_false')_0x110cca=_0x5981e5[_0x285bc4(0x3ca)][_0x285bc4(0x3c7)]===_0x285bc4(0x269)===_0x594eec['correctAnswer'];else _0x3d15dc==='matching_item'&&(_0x110cca=_0x5981e5['textContent'][_0x285bc4(0x8de)]()===_0x594eec[_0x285bc4(0x349)]);}!_0x110cca&&_0x5981e5[_0x285bc4(0x110)][_0x285bc4(0x8fb)](_0x285bc4(0x576),_0x285bc4(0x7ac),_0x285bc4(0x1f9)),document[_0x285bc4(0x21e)](_0x285bc4(0x1d4))[_0x285bc4(0x110)][_0x285bc4(0x892)]('hidden');}function startWholeQuizTimer(_0x547ff9){const _0x22bdbc=_0x13fc2f,_0x1b29bc=document[_0x22bdbc(0x21e)]('timer-container');if(!_0x1b29bc)return;const _0x4a9da6=Date[_0x22bdbc(0x8d2)]()+_0x547ff9*0x3c*0x3e8;_0x1b29bc['innerHTML']=_0x22bdbc(0x7d5);const _0x572055=document[_0x22bdbc(0x21e)](_0x22bdbc(0x4e5));quizTimerInterval=setInterval(()=>{const _0x114dc8=_0x22bdbc,_0x260872=_0x4a9da6-Date[_0x114dc8(0x8d2)]();if(_0x260872<=0x0)clearInterval(quizTimerInterval),_0x572055[_0x114dc8(0x680)]=_0x114dc8(0x83d),showMessage(_0x114dc8(0x521)),handleSubmitQuiz(null);else{const _0x386585=Math['floor'](_0x260872/0x3e8/0x3c%0x3c)[_0x114dc8(0x319)]()[_0x114dc8(0x45b)](0x2,'0'),_0x5e4f82=Math['floor'](_0x260872/0x3e8%0x3c)[_0x114dc8(0x319)]()[_0x114dc8(0x45b)](0x2,'0');_0x572055[_0x114dc8(0x680)]=_0x386585+':'+_0x5e4f82;}},0x3e8);}function renderPerQuestionView(){const _0x4c2f4e=_0x13fc2f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4c8f63=currentDisplayedQuiz[_0x4c2f4e(0x218)][currentQuestionIndex],_0x362974=_0x4c8f63[_0x4c2f4e(0x78e)]||currentDisplayedQuiz[_0x4c2f4e(0x5a4)];let _0x1a0f5b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x4c2f4e(0x600)+currentDisplayedQuiz['questions'][_0x4c2f4e(0x708)]+_0x4c2f4e(0x151)+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x4c2f4e(0x75e)+currentDisplayedQuiz[_0x4c2f4e(0x3f8)]+_0x4c2f4e(0x1f1)+(currentQuestionIndex===currentDisplayedQuiz[_0x4c2f4e(0x218)][_0x4c2f4e(0x708)]-0x1?_0x4c2f4e(0x5d9):'คำถามถัดไป')+_0x4c2f4e(0x5dd);studentQuizArea[_0x4c2f4e(0x768)]=_0x1a0f5b;let _0x2436db='',_0x235657='';switch(_0x362974){case _0x4c2f4e(0x48c):_0x2436db=currentQuestionIndex+0x1+'.\x20'+_0x4c8f63['stem'],_0x235657=_0x4c2f4e(0x594)+_0x4c8f63[_0x4c2f4e(0x8b1)][_0x4c2f4e(0x924)](_0x340a6f=>_0x4c2f4e(0x621)+_0x340a6f+'\x22>'+_0x340a6f+'</option>')[_0x4c2f4e(0x408)]('')+_0x4c2f4e(0x2da);break;case'true_false':_0x2436db=currentQuestionIndex+0x1+'.\x20'+_0x4c8f63[_0x4c2f4e(0x777)],_0x235657=_0x4c2f4e(0x344);break;case _0x4c2f4e(0x6ac):case _0x4c2f4e(0x4ee):_0x2436db=currentQuestionIndex+0x1+'.\x20'+_0x4c8f63['questionText'],_0x235657=_0x4c2f4e(0x4e3);break;case _0x4c2f4e(0x8f6):case _0x4c2f4e(0x328):default:_0x2436db=currentQuestionIndex+0x1+'.\x20'+_0x4c8f63[_0x4c2f4e(0x777)],_0x235657=_0x4c8f63[_0x4c2f4e(0x138)][_0x4c2f4e(0x924)]((_0x23e73f,_0x13d244)=>_0x4c2f4e(0x515)+_0x13d244+_0x4c2f4e(0x611)+_0x13d244+_0x4c2f4e(0x347)+_0x13d244+'\x22>'+_0x23e73f+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4c2f4e(0x408)]('');break;}_0x4c8f63['imageCode']&&(_0x2436db+=_0x4c2f4e(0x2b7)+_0x4c8f63['imageCode']+_0x4c2f4e(0x165));document[_0x4c2f4e(0x21e)]('per-question-text')[_0x4c2f4e(0x768)]=_0x2436db,document[_0x4c2f4e(0x21e)]('per-question-options')['innerHTML']=_0x235657;if(currentMode===_0x4c2f4e(0x126)){const _0x413d5c=document['getElementById'](_0x4c2f4e(0x493));if(_0x413d5c)_0x413d5c[_0x4c2f4e(0xfd)](_0x4c2f4e(0x3bd),cancelAdminTest);}document[_0x4c2f4e(0x21e)](_0x4c2f4e(0x926))[_0x4c2f4e(0xfd)](_0x4c2f4e(0x3bd),()=>handleNextQuestionInTimedMode(![]));if(window[_0x4c2f4e(0x3ad)])window[_0x4c2f4e(0x3ad)][_0x4c2f4e(0x3ed)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x43b976=_0x13fc2f,_0x4eddac=currentDisplayedQuiz[_0x43b976(0x168)][_0x43b976(0x877)],_0x103792=document[_0x43b976(0x21e)]('per-question-timer-container');if(!_0x103792)return;let _0x43adb3=_0x4eddac;_0x103792[_0x43b976(0x768)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x43adb3+_0x43b976(0x825);const _0x1b90c7=document[_0x43b976(0x21e)](_0x43b976(0x75f)),_0x41d935=document[_0x43b976(0x21e)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x3cdf40=_0x43b976;_0x43adb3--;const _0x381106=_0x43adb3/_0x4eddac*0x64;_0x1b90c7[_0x3cdf40(0x124)][_0x3cdf40(0x478)]=_0x381106+'%',_0x41d935[_0x3cdf40(0x680)]=_0x43adb3,_0x43adb3<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x2a9ca4=![]){const _0x1591e3=_0x13fc2f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x42453a=null;if(!_0x2a9ca4){const _0x3c7434=currentDisplayedQuiz[_0x1591e3(0x218)][currentQuestionIndex],_0x17b6bf=_0x3c7434['questionType']||currentDisplayedQuiz['quizType'];if(_0x17b6bf===_0x1591e3(0x6ac)||_0x17b6bf===_0x1591e3(0x4ee)){const _0x256c1b=document[_0x1591e3(0x920)]('#per-question-options\x20textarea');_0x42453a=_0x256c1b?_0x256c1b[_0x1591e3(0x24a)]['trim']():'';}else{if(_0x17b6bf===_0x1591e3(0x48c)){const _0x165746=document[_0x1591e3(0x920)]('#per-question-options\x20select');_0x42453a=_0x165746?_0x165746[_0x1591e3(0x24a)]:'';}else{const _0x23845e=document['querySelector'](_0x1591e3(0x8ae));if(_0x23845e){const _0x51b16c=_0x23845e[_0x1591e3(0x24a)];_0x42453a=!isNaN(parseInt(_0x51b16c,0xa))&&_0x51b16c['trim']()!==''?parseInt(_0x51b16c,0xa):_0x51b16c;}}}}studentAnswersPerQuestion['push'](_0x42453a),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x1591e3(0x218)][_0x1591e3(0x708)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x2dc32f=_0x13fc2f,_0x2303d3=currentDisplayedQuiz[_0x2dc32f(0x218)][_0x2dc32f(0x3e2)](_0x56c39c=>_0x56c39c[_0x2dc32f(0x78e)]===_0x2dc32f(0x6ac));_0x2303d3?showMessage(_0x2dc32f(0x102)):showMessage(_0x2dc32f(0x915));const _0x490cbd=currentQuizData['id'],_0x4780aa=doc(db,_0x2dc32f(0x709)+appId+_0x2dc32f(0x823)+_0x490cbd+'/submissions',currentStudentName),_0x575d2e=await getDoc(_0x4780aa),_0xb1cbd9=_0x575d2e[_0x2dc32f(0x610)]()?_0x575d2e[_0x2dc32f(0x7ed)]():{},_0x3405bd=_0xb1cbd9[_0x2dc32f(0x378)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3405bd);}function getResultsFilename(){const _0x3106ee=_0x13fc2f,_0x45ca89=document[_0x3106ee(0x21e)]('results-quiz-title')[_0x3106ee(0x680)][_0x3106ee(0x6dc)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x45ca89||_0x3106ee(0x46f));}function exportResultsAsImage(){const _0x40203f=_0x13fc2f,_0x2ee01a=document[_0x40203f(0x21e)]('results-table-container');showMessage(_0x40203f(0x302)),html2canvas(_0x2ee01a)['then'](_0x4a9ff5=>{const _0x767a3d=_0x40203f,_0x5af252=document[_0x767a3d(0x511)]('a');_0x5af252[_0x767a3d(0x24b)]=getResultsFilename()+_0x767a3d(0x75c),_0x5af252['href']=_0x4a9ff5[_0x767a3d(0x62d)](_0x767a3d(0x76d)),_0x5af252[_0x767a3d(0x3bd)](),messageModal['classList']['add'](_0x767a3d(0x6c1));});}function exportResultsAsPDF(){const _0x2459a7=_0x13fc2f,{jsPDF:_0x22bf35}=window[_0x2459a7(0x33a)],_0x5d3625=new _0x22bf35();_0x5d3625[_0x2459a7(0x181)](_0x2459a7(0x28b),_0x2459a7(0x80e)),_0x5d3625[_0x2459a7(0x111)]({'html':'#results-table'}),_0x5d3625[_0x2459a7(0x4ce)](getResultsFilename()+_0x2459a7(0x6ad));}function exportResultsAsWord(){const _0x46f23a=_0x13fc2f,_0x19df29=_0x46f23a(0x571)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x46f23a(0x2ed),_0x5400de=_0x46f23a(0x6ae),_0xa100fc=_0x19df29+document['getElementById']('results-table-container')[_0x46f23a(0x768)]+_0x5400de,_0x1bab38='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0xa100fc),_0x156611=document[_0x46f23a(0x511)]('a');document['body']['appendChild'](_0x156611),_0x156611['href']=_0x1bab38,_0x156611['download']=getResultsFilename()+'.doc',_0x156611[_0x46f23a(0x3bd)](),document[_0x46f23a(0x7c7)][_0x46f23a(0x3d8)](_0x156611);}function exportResultsAsExcel(){const _0x32235f=_0x13fc2f,_0x454074=document[_0x32235f(0x21e)](_0x32235f(0x107));let _0x29c564=[];for(let _0x3dc620=0x0;_0x3dc620<_0x454074[_0x32235f(0x5a5)][_0x32235f(0x708)];_0x3dc620++){let _0x26d8d9=[],_0x47de2e=_0x454074[_0x32235f(0x5a5)][_0x3dc620]['querySelectorAll'](_0x32235f(0x6df));for(let _0x5ea7de=0x0;_0x5ea7de<_0x47de2e[_0x32235f(0x708)];_0x5ea7de++){_0x26d8d9['push']('\x22'+_0x47de2e[_0x5ea7de]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x29c564['push'](_0x26d8d9[_0x32235f(0x408)](','));}const _0x2f166d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x29c564[_0x32235f(0x408)]('\x0a')],{'type':_0x32235f(0x2f1)}),_0x223fe1=document[_0x32235f(0x511)]('a');_0x223fe1[_0x32235f(0x7f7)]=URL[_0x32235f(0x38a)](_0x2f166d),_0x223fe1['download']=getResultsFilename()+_0x32235f(0x253),_0x223fe1[_0x32235f(0x3bd)]();}function exportTableAsImage(_0x259615,_0x3ff75a){const _0x54058e=_0x13fc2f,_0x1352ca=document[_0x54058e(0x21e)](_0x259615);if(!_0x1352ca){showMessage(_0x54058e(0x3b5));return;}showMessage(_0x54058e(0x302)),html2canvas(_0x1352ca)['then'](_0x241d59=>{const _0x11a74e=_0x54058e,_0x4b8f36=document[_0x11a74e(0x511)]('a');_0x4b8f36['download']=_0x3ff75a+_0x11a74e(0x75c),_0x4b8f36[_0x11a74e(0x7f7)]=_0x241d59[_0x11a74e(0x62d)](_0x11a74e(0x76d)),_0x4b8f36[_0x11a74e(0x3bd)](),messageModal[_0x11a74e(0x110)][_0x11a74e(0x8fb)](_0x11a74e(0x6c1));});}function exportTableAsPDF(_0x35f3e5,_0xba04ba){const _0x41bd4d=_0x13fc2f,{jsPDF:_0x3f4152}=window['jspdf'],_0x3664d8=new _0x3f4152();_0x3664d8['setFont'](_0x41bd4d(0x28b),'normal'),_0x3664d8[_0x41bd4d(0x111)]({'html':'#'+_0x35f3e5}),_0x3664d8[_0x41bd4d(0x4ce)](_0xba04ba+_0x41bd4d(0x6ad));}function exportTableAsWord(_0x56c1be,_0x1e9592){const _0x4b9052=_0x13fc2f,_0x523950=document[_0x4b9052(0x21e)](_0x56c1be);if(!_0x523950){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0xe5e65='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4b9052(0x295)+_0x4b9052(0x655)+_0x4b9052(0x2ed),_0x55ee60=_0x4b9052(0x6ae),_0x3ca651=_0xe5e65+_0x523950[_0x4b9052(0x768)]+_0x55ee60,_0x2f32ad='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x3ca651),_0x47a80a=document[_0x4b9052(0x511)]('a');document[_0x4b9052(0x7c7)]['appendChild'](_0x47a80a),_0x47a80a[_0x4b9052(0x7f7)]=_0x2f32ad,_0x47a80a[_0x4b9052(0x24b)]=_0x1e9592+_0x4b9052(0x2f2),_0x47a80a[_0x4b9052(0x3bd)](),document[_0x4b9052(0x7c7)]['removeChild'](_0x47a80a);}function exportTableAsExcel(_0x15a7f8,_0x51943e){const _0x21198b=_0x13fc2f,_0x15168e=document[_0x21198b(0x21e)](_0x15a7f8);if(!_0x15168e){showMessage(_0x21198b(0x3b5));return;}let _0x4fc2b4=[];for(let _0x5f9322=0x0;_0x5f9322<_0x15168e[_0x21198b(0x5a5)][_0x21198b(0x708)];_0x5f9322++){let _0x8e4185=[],_0x90dfc5=_0x15168e[_0x21198b(0x5a5)][_0x5f9322]['querySelectorAll']('td,\x20th');for(let _0xb6edc3=0x0;_0xb6edc3<_0x90dfc5[_0x21198b(0x708)];_0xb6edc3++){_0x8e4185[_0x21198b(0x805)]('\x22'+_0x90dfc5[_0xb6edc3]['innerText'][_0x21198b(0x6dc)](/"/g,'\x22\x22')+'\x22');}_0x4fc2b4['push'](_0x8e4185[_0x21198b(0x408)](','));}const _0x5081bd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4fc2b4[_0x21198b(0x408)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x3f3be1=document['createElement']('a');_0x3f3be1[_0x21198b(0x7f7)]=URL[_0x21198b(0x38a)](_0x5081bd),_0x3f3be1[_0x21198b(0x24b)]=_0x51943e+_0x21198b(0x253),_0x3f3be1['click']();}function renderAnalytics(_0x45e7cb,_0x49eeb1){const _0x5cfce4=_0x13fc2f,_0x3b4471=_0x49eeb1['filter'](_0x193ed1=>_0x193ed1[_0x5cfce4(0x392)]!==undefined),_0x18311a=currentProjectData[_0x5cfce4(0x1bf)]['length'],_0x179da8=_0x3b4471[_0x5cfce4(0x708)],_0x151095=_0x18311a-_0x179da8,_0x2a7afc=_0x18311a>0x0?_0x179da8/_0x18311a*0x64:0x0,_0x577a2d=_0x3b4471['map'](_0x34acb8=>_0x34acb8[_0x5cfce4(0x392)]),_0x2f5bfb=_0x577a2d[_0x5cfce4(0x708)]>0x0?_0x577a2d[_0x5cfce4(0x396)]((_0x1fa418,_0x4bff94)=>_0x1fa418+_0x4bff94,0x0)/_0x577a2d[_0x5cfce4(0x708)]:0x0,_0x3b2e27=_0x45e7cb[_0x5cfce4(0x218)][_0x5cfce4(0x708)],_0x5ee489=_0x3b2e27>0x0?_0x2f5bfb/_0x3b2e27*0x64:0x0,_0x1c967f=calculateItemAnalysis(_0x45e7cb,_0x3b4471),_0x56a1e3=calculateReliabilityKR20(_0x45e7cb,_0x3b4471,_0x1c967f[_0x5cfce4(0x7fd)]);let _0x104ce9='';if(_0x56a1e3!==null){let _0x172cb7='';if(_0x56a1e3>=0.9)_0x172cb7='ยอดเยี่ยม';else{if(_0x56a1e3>=0.8)_0x172cb7=_0x5cfce4(0x57c);else{if(_0x56a1e3>=0.7)_0x172cb7='ดี';else{if(_0x56a1e3>=0.6)_0x172cb7=_0x5cfce4(0x20a);else _0x172cb7=_0x5cfce4(0x5ef);}}}_0x104ce9=_0x5cfce4(0x8f5)+_0x56a1e3[_0x5cfce4(0x2a8)](0x2)+_0x5cfce4(0x8bb)+_0x172cb7+_0x5cfce4(0x10c);}const _0x4e267b=document[_0x5cfce4(0x21e)]('analytics-summary-cards');_0x4e267b[_0x5cfce4(0x768)]=_0x5cfce4(0x6e3)+_0x2a7afc['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x179da8+'/'+_0x18311a+_0x5cfce4(0x3b6)+_0x2f5bfb[_0x5cfce4(0x2a8)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x5ee489[_0x5cfce4(0x2a8)](0x0)+_0x5cfce4(0x2b0)+(_0x577a2d[_0x5cfce4(0x708)]>0x0?Math['max'](..._0x577a2d):_0x5cfce4(0x808))+_0x5cfce4(0x87d)+(_0x577a2d[_0x5cfce4(0x708)]>0x0?Math[_0x5cfce4(0x49e)](..._0x577a2d):'N/A')+_0x5cfce4(0x857)+_0x104ce9+_0x5cfce4(0x404);const _0x38bd06=document[_0x5cfce4(0x21e)](_0x5cfce4(0x66f));_0x38bd06&&_0x38bd06[_0x5cfce4(0x892)]();const _0x47fb3a=_0x5cfce4(0x118);_0x4e267b[_0x5cfce4(0x75d)](_0x5cfce4(0x78f),_0x47fb3a);const _0x2c56f6=currentProjectData['students']||[];renderSubmissionChart(_0x179da8,_0x151095,_0x3b4471,_0x2c56f6),renderScoreDistributionChart(_0x3b4471,_0x3b2e27),renderQuestionAnalytics(_0x45e7cb,_0x3b4471,_0x2c56f6),renderInterestingStats(_0x45e7cb,_0x3b4471);}async function handleExportLessonPDF(){const _0x34980e=_0x13fc2f,_0x406b8c=document[_0x34980e(0x21e)]('lesson-plan-content'),_0x4edd0d=document[_0x34980e(0x21e)](_0x34980e(0x2ee))[_0x34980e(0x680)],_0x302908=window['open']('',_0x34980e(0x836)),_0x1091a3=_0x34980e(0x6b1)+_0x4edd0d+_0x34980e(0x43f)+_0x406b8c['innerHTML']+_0x34980e(0x409);_0x302908[_0x34980e(0x66a)]['write'](_0x1091a3),_0x302908[_0x34980e(0x66a)][_0x34980e(0x6ca)](),_0x302908[_0x34980e(0x229)]=function(){setTimeout(()=>{const _0x14d2b0=_0x14fe;_0x302908[_0x14d2b0(0x3e4)]();},0x5dc);};}function renderInterestingStats(_0x348738,_0x40b56a){const _0x3e9afc=_0x13fc2f,_0x5e63c1=document[_0x3e9afc(0x21e)](_0x3e9afc(0x65a));if(!_0x5e63c1)return;if(_0x40b56a[_0x3e9afc(0x708)]===0x0){_0x5e63c1[_0x3e9afc(0x768)]=_0x3e9afc(0x43c);return;}const _0x4f8b5c=_0x348738[_0x3e9afc(0x218)][_0x3e9afc(0x924)]((_0x3c2a21,_0xebc857)=>({'index':_0xebc857+0x1,'text':_0x3c2a21[_0x3e9afc(0x777)]||_0x3c2a21['stem'],'correct':0x0}));_0x40b56a[_0x3e9afc(0x121)](_0x4b8515=>{const _0x5a0dd9=_0x3e9afc,_0x3cebfa=_0x4b8515[_0x5a0dd9(0x378)][_0x4b8515[_0x5a0dd9(0x378)]['length']-0x1];_0x3cebfa&&_0x3cebfa['answers']&&_0x3cebfa[_0x5a0dd9(0x1e0)][_0x5a0dd9(0x121)](_0x1a9bb5=>{const _0x5b63db=_0x5a0dd9,_0x55993e=_0x4f8b5c[_0x5b63db(0x75b)](_0x3d3654=>_0x3d3654[_0x5b63db(0x16e)]===_0x1a9bb5[_0x5b63db(0x897)]);_0x1a9bb5[_0x5b63db(0x41d)]&&_0x55993e&&_0x55993e['correct']++;});});const _0x3deb56=_0x40b56a[_0x3e9afc(0x708)],_0x3c133e=Math[_0x3e9afc(0x17d)](..._0x4f8b5c[_0x3e9afc(0x924)](_0x5755a5=>_0x5755a5['correct'])),_0x266a7a=Math['min'](..._0x4f8b5c[_0x3e9afc(0x924)](_0x2ac646=>_0x2ac646[_0x3e9afc(0x729)])),_0x420996=_0x4f8b5c[_0x3e9afc(0x17f)](_0x4dd246=>_0x4dd246[_0x3e9afc(0x729)]===_0x3c133e)[_0x3e9afc(0x924)](_0x396884=>_0x3e9afc(0x69d)+_0x396884[_0x3e9afc(0x7ba)]),_0x563161=_0x4f8b5c[_0x3e9afc(0x17f)](_0x565d08=>_0x565d08[_0x3e9afc(0x729)]===_0x266a7a)['map'](_0x3433aa=>_0x3e9afc(0x69d)+_0x3433aa[_0x3e9afc(0x7ba)]),_0x2ec849=_0x40b56a['sort']((_0x9ec4dd,_0x22c2c0)=>_0x22c2c0[_0x3e9afc(0x392)]-_0x9ec4dd['latestScore'])['filter']((_0x5dd8fb,_0x2a87e7,_0x592185)=>_0x5dd8fb['latestScore']===_0x592185[0x0][_0x3e9afc(0x392)]),_0x56dcfb=_0x40b56a[_0x3e9afc(0x212)]((_0x559266,_0x257926)=>_0x559266[_0x3e9afc(0x392)]-_0x257926[_0x3e9afc(0x392)])[_0x3e9afc(0x17f)]((_0x2f3315,_0x6b04b0,_0xbfbef5)=>_0x2f3315[_0x3e9afc(0x392)]===_0xbfbef5[0x0]['latestScore']),_0x11c110=_0x3e9afc(0x14c)+_0x420996[_0x3e9afc(0x408)](',\x20')+_0x3e9afc(0x1d2)+_0x3c133e+'\x20/\x20'+_0x3deb56+_0x3e9afc(0x185)+_0x563161[_0x3e9afc(0x408)](',\x20')+_0x3e9afc(0x1d2)+(_0x3deb56-_0x266a7a)+_0x3e9afc(0x4cb)+_0x3deb56+_0x3e9afc(0x3d3)+_0x2ec849['map'](_0x46b141=>_0x46b141['studentName'])[_0x3e9afc(0x408)](',\x20')+_0x3e9afc(0x173)+_0x2ec849[0x0][_0x3e9afc(0x392)]+_0x3e9afc(0x3ea)+_0x56dcfb[_0x3e9afc(0x924)](_0x1a0455=>_0x1a0455[_0x3e9afc(0x6b5)])['join'](',\x20')+_0x3e9afc(0x173)+_0x56dcfb[0x0]['latestScore']+_0x3e9afc(0x90b);_0x5e63c1[_0x3e9afc(0x768)]=_0x11c110;}function renderSubmissionChart(_0x200356,_0x91bb58,_0x238cf6,_0x1f6db0){const _0x370782=_0x13fc2f,_0x24233c=document[_0x370782(0x21e)](_0x370782(0x1c2))[_0x370782(0x584)]('2d'),_0x599097=_0x238cf6['map'](_0x4f0769=>_0x4f0769['studentName']),_0xc7c0fc=_0x1f6db0[_0x370782(0x17f)](_0x386728=>!_0x599097[_0x370782(0x1be)](_0x386728));chartInstances[_0x370782(0x867)]&&chartInstances['submission'][_0x370782(0x37e)](),chartInstances[_0x370782(0x867)]=new Chart(_0x24233c,{'type':_0x370782(0x8a6),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x200356,_0x91bb58],'backgroundColor':[_0x370782(0x786),_0x370782(0x56c)],'borderColor':['#ffffff',_0x370782(0x512)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x370782(0x323)},'tooltip':{'callbacks':{'label':function(_0x16b4fb){const _0x4b0d2c=_0x370782;let _0x5ec9bd=_0x16b4fb[_0x4b0d2c(0x494)]||'';return _0x5ec9bd&&(_0x5ec9bd+=':\x20'),_0x5ec9bd+=_0x16b4fb[_0x4b0d2c(0x1f3)],_0x5ec9bd;},'afterLabel':function(_0x4cdd22){const _0x3bc6c9=_0x370782;let _0x2230ea;return _0x4cdd22[_0x3bc6c9(0x44b)]===0x0?_0x2230ea=_0x599097:_0x2230ea=_0xc7c0fc,_0x2230ea[_0x3bc6c9(0x708)]>0x0?_0x2230ea['join']('\x0a'):_0x3bc6c9(0x7fe);}}}}}});}function renderScoreDistributionChart(_0x1e8710,_0x30ff7d){const _0x5e251f=_0x13fc2f,_0x43a5f=document[_0x5e251f(0x21e)]('score-distribution-chart')[_0x5e251f(0x584)]('2d'),_0x798dbd={};for(let _0x24796b=0x0;_0x24796b<=_0x30ff7d;_0x24796b++){_0x798dbd[_0x24796b]=0x0;}_0x1e8710[_0x5e251f(0x121)](_0x451d14=>{const _0x2531d9=_0x5e251f;_0x798dbd[_0x451d14[_0x2531d9(0x392)]]!==undefined&&_0x798dbd[_0x451d14[_0x2531d9(0x392)]]++;}),chartInstances['score']&&chartInstances[_0x5e251f(0x510)][_0x5e251f(0x37e)](),chartInstances[_0x5e251f(0x510)]=new Chart(_0x43a5f,{'type':_0x5e251f(0x1b0),'data':{'labels':Object['keys'](_0x798dbd),'datasets':[{'label':_0x5e251f(0x38e),'data':Object['values'](_0x798dbd),'backgroundColor':_0x5e251f(0x21d),'borderColor':_0x5e251f(0x5f9),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5e251f(0x4ef)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4b5648){const _0x548962=_0x5e251f,_0x34d637=_0x4b5648[_0x548962(0x494)],_0x2bf285=_0x1e8710[_0x548962(0x17f)](_0x2dfe76=>_0x2dfe76[_0x548962(0x392)]==_0x34d637)[_0x548962(0x924)](_0x5d5cf3=>_0x5d5cf3[_0x548962(0x6b5)]);return _0x2bf285['length']>0x0?_0x2bf285[_0x548962(0x408)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x433dc2,_0x5c95c3,_0x339cce){const _0x3c1a17=_0x13fc2f,_0x45307e=document[_0x3c1a17(0x21e)](_0x3c1a17(0x5e5));if(_0x339cce[_0x3c1a17(0x708)]===0x0){_0x45307e['innerHTML']=_0x3c1a17(0x28c);return;}const _0x358afd=calculateItemAnalysis(_0x433dc2,_0x5c95c3),_0x28294e=calculateDistractorAnalysis(_0x433dc2,_0x5c95c3);let _0x2e9b28='';_0x358afd[_0x3c1a17(0x425)]&&(_0x2e9b28=_0x3c1a17(0x170)+_0x358afd['overallGroups'][_0x3c1a17(0x7da)][_0x3c1a17(0x708)]+_0x3c1a17(0x458)+_0x358afd[_0x3c1a17(0x425)]['upperGroupNames']['map'](_0x471ffa=>'<li>'+_0x471ffa+_0x3c1a17(0x83e))[_0x3c1a17(0x408)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x358afd[_0x3c1a17(0x425)]['lowerGroupNames'][_0x3c1a17(0x708)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x358afd[_0x3c1a17(0x425)][_0x3c1a17(0x4bd)][_0x3c1a17(0x924)](_0x48bc38=>_0x3c1a17(0x8e7)+_0x48bc38+_0x3c1a17(0x83e))[_0x3c1a17(0x408)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3ffd18='';const _0x3b45da=_0x5c95c3[_0x3c1a17(0x924)](_0x5858d6=>_0x5858d6[_0x3c1a17(0x6b5)]),_0x34ab0d=_0x45d0d3=>{const _0x485c4c=_0x3c1a17;if(_0x45d0d3>=0.8)return _0x485c4c(0x85b);if(_0x45d0d3>=0.6)return _0x485c4c(0x144);if(_0x45d0d3>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x45d0d3>=0.2)return _0x485c4c(0x461);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x5b208b=_0x568719=>{const _0x387a98=_0x3c1a17;if(_0x568719<0x0)return _0x387a98(0x734);if(_0x568719>=0.4)return _0x387a98(0x724);if(_0x568719>=0.3)return _0x387a98(0x677);if(_0x568719>=0.2)return _0x387a98(0x7bd);return _0x387a98(0x38f);},_0x1bb7c2=_0x447b66=>{const _0x156880=_0x3c1a17,_0x5b15bc=_0x447b66[_0x156880(0x2a8)](0x0);if(parseFloat(_0x5b15bc)===0x64)return _0x156880(0x5be)+_0x5b15bc+_0x156880(0x48a);if(_0x447b66>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x5b15bc+_0x156880(0x48a);return _0x156880(0x471)+_0x5b15bc+'%</span>';};_0x433dc2[_0x3c1a17(0x218)][_0x3c1a17(0x121)]((_0x179d4a,_0x4b1b86)=>{const _0x5ce6e1=_0x3c1a17,_0x538e2b=_0x358afd['perQuestionStats'][_0x4b1b86],_0x412546=_0x28294e[_0x4b1b86],_0x473625=_0x179d4a['stem']||_0x179d4a['questionText']||_0x179d4a['instructions'];let _0x27a1df=0x0;const _0x19fe5c=[],_0x3aad90=[];_0x5c95c3[_0x5ce6e1(0x121)](_0x119555=>{const _0x2c3066=_0x5ce6e1,_0x5b0d74=_0x119555['attempts'][_0x119555[_0x2c3066(0x378)][_0x2c3066(0x708)]-0x1];if(_0x5b0d74&&_0x5b0d74[_0x2c3066(0x1e0)]){const _0x2754e3=_0x5b0d74['answers']['find'](_0x25666b=>_0x25666b['originalQuestionText']===_0x473625)??_0x5b0d74[_0x2c3066(0x1e0)][_0x4b1b86]??null;_0x2754e3&&(_0x2754e3['isCorrect']?(_0x27a1df++,_0x19fe5c[_0x2c3066(0x805)](_0x119555[_0x2c3066(0x6b5)])):_0x3aad90[_0x2c3066(0x805)](_0x119555[_0x2c3066(0x6b5)]));}});const _0x1c6758=_0x5c95c3[_0x5ce6e1(0x708)]>0x0?_0x27a1df/_0x5c95c3[_0x5ce6e1(0x708)]*0x64:0x0,_0x380f74=_0x339cce[_0x5ce6e1(0x17f)](_0x4aca82=>!_0x3b45da['includes'](_0x4aca82)),_0x3ef120=_0x538e2b?_0x5ce6e1(0x7c3)+_0x538e2b['p'][_0x5ce6e1(0x2a8)](0x2)+_0x5ce6e1(0x4ab)+_0x34ab0d(_0x538e2b['p'])+_0x5ce6e1(0x51b)+_0x538e2b['r'][_0x5ce6e1(0x2a8)](0x2)+_0x5ce6e1(0x4ab)+_0x5b208b(_0x538e2b['r'])+_0x5ce6e1(0x214)+_0x1bb7c2(_0x1c6758)+_0x5ce6e1(0x1ec):'';let _0x214acf='';_0x412546&&(_0x214acf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x5ce6e1(0x205)](_0x412546)[_0x5ce6e1(0x924)](_0x239e9f=>{const _0x4a9dfa=_0x5ce6e1,_0x20d4f0=_0x412546[_0x239e9f],_0x3d9eb3=parseInt(_0x239e9f)===_0x179d4a[_0x4a9dfa(0x455)],_0x379653=!_0x3d9eb3&&_0x20d4f0[_0x4a9dfa(0x196)]>_0x20d4f0[_0x4a9dfa(0x788)];return _0x4a9dfa(0x7f0)+(_0x3d9eb3?_0x4a9dfa(0x299):'')+_0x4a9dfa(0x3bc)+(_0x3d9eb3?'✔\x20':'')+_0x20d4f0[_0x4a9dfa(0x16e)]+_0x4a9dfa(0x6a3)+_0x20d4f0[_0x4a9dfa(0x788)]+_0x4a9dfa(0x6a3)+_0x20d4f0[_0x4a9dfa(0x196)]+'\x20'+(_0x379653?'👍':'')+_0x4a9dfa(0x6a3)+_0x20d4f0[_0x4a9dfa(0x811)]+_0x4a9dfa(0x65b);})[_0x5ce6e1(0x408)]('')+_0x5ce6e1(0x1cc));let _0x145643='';_0x538e2b&&_0x538e2b[_0x5ce6e1(0x928)]&&(_0x145643=_0x5ce6e1(0x271)+_0x538e2b['upperGroupResponders']['length']+_0x5ce6e1(0x66b)+_0x538e2b[_0x5ce6e1(0x928)]['map'](_0x5b7126=>_0x5ce6e1(0x8e7)+(_0x5b7126[_0x5ce6e1(0x41d)]?_0x5ce6e1(0x6bf):_0x5ce6e1(0x579))+'\x20'+_0x5b7126['name']+_0x5ce6e1(0x83e))[_0x5ce6e1(0x408)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x538e2b[_0x5ce6e1(0x706)][_0x5ce6e1(0x708)]+_0x5ce6e1(0x66b)+_0x538e2b[_0x5ce6e1(0x706)]['map'](_0x404cbc=>_0x5ce6e1(0x8e7)+(_0x404cbc[_0x5ce6e1(0x41d)]?_0x5ce6e1(0x6bf):_0x5ce6e1(0x579))+'\x20'+_0x404cbc[_0x5ce6e1(0x763)]+_0x5ce6e1(0x83e))['join']('')+_0x5ce6e1(0x101)),_0x3ffd18+=_0x5ce6e1(0x8ef)+(_0x4b1b86+0x1)+':\x20'+_0x473625+_0x5ce6e1(0x313)+_0x3ef120+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x473625+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x27a1df+'\x20จาก\x20'+_0x5c95c3[_0x5ce6e1(0x708)]+_0x5ce6e1(0x59b)+_0x1c6758['toFixed'](0x0)+_0x5ce6e1(0x469)+_0x19fe5c[_0x5ce6e1(0x708)]+_0x5ce6e1(0x570)+(_0x19fe5c[_0x5ce6e1(0x708)]>0x0?_0x19fe5c[_0x5ce6e1(0x408)](',\x20'):_0x5ce6e1(0x7fe))+_0x5ce6e1(0x58d)+_0x3aad90['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3aad90[_0x5ce6e1(0x708)]>0x0?_0x3aad90['join'](',\x20'):_0x5ce6e1(0x7fe))+_0x5ce6e1(0x301)+_0x380f74[_0x5ce6e1(0x708)]+_0x5ce6e1(0x570)+(_0x380f74['length']>0x0?_0x380f74[_0x5ce6e1(0x408)](',\x20'):'ไม่มี')+_0x5ce6e1(0x423)+_0x214acf+_0x5ce6e1(0x6d0)+_0x145643+_0x5ce6e1(0x7f9);}),_0x45307e['innerHTML']=_0x2e9b28+_0x3ffd18;try{window[_0x3c1a17(0x3ad)]&&MathJax['typesetPromise']&&MathJax[_0x3c1a17(0x3ed)]([_0x45307e]);}catch(_0x29e194){console[_0x3c1a17(0x5e9)](_0x3c1a17(0x61e),_0x29e194);}}function calculateDistractorAnalysis(_0xb007f,_0x56f4a5){const _0xb04e10=_0x13fc2f,_0x17e2c6={};if(_0x56f4a5[_0xb04e10(0x708)]<0x2)return _0x17e2c6;const _0x4baf1b=[..._0x56f4a5][_0xb04e10(0x212)]((_0x3bb63e,_0x56e2c4)=>{const _0x31203c=_0xb04e10,_0x494a2a=_0x56e2c4[_0x31203c(0x392)]-_0x3bb63e[_0x31203c(0x392)];if(_0x494a2a!==0x0)return _0x494a2a;const _0x60b534=_0x3bb63e[_0x31203c(0x378)]?.['length']||0x1,_0x160365=_0x56e2c4['attempts']?.[_0x31203c(0x708)]||0x1,_0x1166d5=_0x60b534-_0x160365;if(_0x1166d5!==0x0)return _0x1166d5;const _0x292d2a=new Date(_0x3bb63e[_0x31203c(0x30d)]),_0x23aa17=new Date(_0x56e2c4[_0x31203c(0x30d)]),_0xbed2de=_0x292d2a-_0x23aa17;if(_0xbed2de!==0x0)return _0xbed2de;return _0x3bb63e['studentName']['localeCompare'](_0x56e2c4[_0x31203c(0x6b5)],'th');}),_0x55987c=_0x4baf1b[_0xb04e10(0x708)],_0x30dd2a=Math[_0xb04e10(0x17d)](0x1,Math['floor'](_0x55987c*0.33)),_0x369157=_0x4baf1b[_0xb04e10(0x182)](0x0,_0x30dd2a),_0x192afd=_0x4baf1b['slice'](-_0x30dd2a);return _0xb007f[_0xb04e10(0x218)]['forEach']((_0x5b1de1,_0x43ce20)=>{const _0x13a443=_0xb04e10;if(_0x5b1de1[_0x13a443(0x78e)]!==_0x13a443(0x8f6)||!_0x5b1de1['options'])return;const _0xb1248b=_0x5b1de1[_0x13a443(0x777)],_0x1a61de={};_0x5b1de1[_0x13a443(0x138)]['forEach']((_0x5d3057,_0x25aa99)=>{_0x1a61de[_0x25aa99]={'text':_0x5d3057,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x4baf1b[_0x13a443(0x121)](_0x49425e=>{const _0x1051fe=_0x13a443,_0x1c4025=_0x49425e[_0x1051fe(0x378)][_0x49425e[_0x1051fe(0x378)][_0x1051fe(0x708)]-0x1],_0x52e603=_0x1c4025['answers'][_0x1051fe(0x75b)](_0x4cf940=>_0x4cf940[_0x1051fe(0x897)]===_0xb1248b);if(_0x52e603&&_0x52e603[_0x1051fe(0x3c7)]!==null){const _0x2f676d=_0x5b1de1[_0x1051fe(0x138)]['findIndex'](_0x1ce61a=>_0x1ce61a===_0x52e603[_0x1051fe(0x895)]);_0x2f676d!==-0x1&&_0x1a61de[_0x2f676d]&&(_0x1a61de[_0x2f676d][_0x1051fe(0x811)]++,_0x369157['includes'](_0x49425e)&&_0x1a61de[_0x2f676d]['upper_group_count']++,_0x192afd[_0x1051fe(0x1be)](_0x49425e)&&_0x1a61de[_0x2f676d][_0x1051fe(0x196)]++);}}),_0x17e2c6[_0x43ce20]=_0x1a61de;}),_0x17e2c6;}function calculateReliabilityKR20(_0x387b66,_0x5dc4f5,_0x341df2){const _0x385a04=_0x13fc2f,_0x4ff3fb=_0x387b66[_0x385a04(0x218)][_0x385a04(0x708)];if(_0x4ff3fb<0x2||_0x5dc4f5[_0x385a04(0x708)]<0x2)return null;const _0x9eeb9b=_0x5dc4f5[_0x385a04(0x924)](_0x13bdfb=>_0x13bdfb['latestScore']),_0x2c27b8=_0x9eeb9b[_0x385a04(0x396)]((_0x31c075,_0x36cb59)=>_0x31c075+_0x36cb59,0x0)/_0x9eeb9b[_0x385a04(0x708)],_0x528855=_0x9eeb9b['map'](_0x4cb962=>Math[_0x385a04(0x224)](_0x4cb962-_0x2c27b8,0x2))[_0x385a04(0x396)]((_0x122b85,_0x251fe1)=>_0x122b85+_0x251fe1,0x0)/_0x9eeb9b[_0x385a04(0x708)];if(_0x528855===0x0)return null;let _0x36cfaf=0x0;for(let _0x3f4c76=0x0;_0x3f4c76<_0x4ff3fb;_0x3f4c76++){const _0x484b2c=_0x341df2[_0x3f4c76]?.['p'];if(_0x484b2c===undefined)continue;const _0x1224d2=0x1-_0x484b2c;_0x36cfaf+=_0x484b2c*_0x1224d2;}if(_0x36cfaf===0x0)return null;const _0x21310f=_0x4ff3fb/(_0x4ff3fb-0x1)*(0x1-_0x36cfaf/_0x528855);if(_0x21310f>0x1)return null;return _0x21310f;}async function handleAnalyzeClass(){const _0x277a7c=_0x13fc2f;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x277a7c(0x2c9));return;}const _0x4210e4=collection(db,'artifacts/'+appId+_0x277a7c(0x823)+currentQuizData['id']+'/submissions'),_0x34f7c1=await getDocs(_0x4210e4),_0x538956=_0x34f7c1[_0x277a7c(0x369)][_0x277a7c(0x924)](_0x1329f0=>_0x1329f0[_0x277a7c(0x7ed)]());if(_0x538956['length']<0x2){showMessage(_0x277a7c(0x3c4));return;}const _0x1a2cd0=document[_0x277a7c(0x21e)](_0x277a7c(0x748));_0x1a2cd0['innerHTML']=_0x277a7c(0x5bf),document[_0x277a7c(0x21e)](_0x277a7c(0x500))[_0x277a7c(0x506)]=!![];const _0x369405=_0x538956[_0x277a7c(0x924)]((_0x4314a6,_0x44f243)=>{const _0x4c1754=_0x277a7c,_0x2ffd5e=_0x4314a6[_0x4c1754(0x378)][_0x4314a6[_0x4c1754(0x378)][_0x4c1754(0x708)]-0x1];if(!_0x2ffd5e)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x44f243+0x1)+'\x20('+_0x4314a6['studentName']+_0x4c1754(0xe5)+_0x2ffd5e[_0x4c1754(0x510)]+'/'+_0x4314a6[_0x4c1754(0x19d)]+_0x4c1754(0x730)+JSON['stringify'](_0x2ffd5e[_0x4c1754(0x1e0)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x277a7c(0x408)](_0x277a7c(0xe4)),_0x4c2536='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData['topic']+_0x277a7c(0x4f6)+JSON[_0x277a7c(0x6fd)](currentQuizData[_0x277a7c(0x218)])+_0x277a7c(0x592)+_0x369405+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x2027e3={'type':_0x277a7c(0x1d7),'properties':{'classStrengths':{'type':_0x277a7c(0x661),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x277a7c(0x661),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x277a7c(0x661),'items':{'type':_0x277a7c(0x69c)}}},'required':['classStrengths',_0x277a7c(0x2c7),_0x277a7c(0x79a)]};try{const _0x115f4d=await callAnalysisApi(_0x4c2536,_0x2027e3);displayClassAnalysis(_0x115f4d);}catch(_0x434a6b){console[_0x277a7c(0x5e9)]('Error\x20during\x20class\x20analysis:',_0x434a6b),_0x1a2cd0[_0x277a7c(0x768)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x434a6b[_0x277a7c(0x73c)]+_0x277a7c(0x106);}finally{document[_0x277a7c(0x21e)]('analyze-strengths-btn')[_0x277a7c(0x506)]=![];}}function displayClassAnalysis(_0x5316a5){const _0xb6405=_0x13fc2f,_0x295887=document[_0xb6405(0x21e)](_0xb6405(0x748));if(!_0x5316a5){_0x295887[_0xb6405(0x768)]=_0xb6405(0x288);return;}_0x295887[_0xb6405(0x768)]=_0xb6405(0x82d)+_0x5316a5[_0xb6405(0x41e)][_0xb6405(0x924)](_0x492f29=>_0xb6405(0x8e7)+_0x492f29+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5316a5[_0xb6405(0x2c7)][_0xb6405(0x924)](_0x3f7d51=>'<li>'+_0x3f7d51+_0xb6405(0x83e))[_0xb6405(0x408)]('')+_0xb6405(0x329)+_0x5316a5[_0xb6405(0x79a)][_0xb6405(0x924)](_0x207fba=>_0xb6405(0x8e7)+_0x207fba+_0xb6405(0x83e))[_0xb6405(0x408)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x37efc6,_0x542e2a){const _0x1a77df=_0x13fc2f,_0x5c9c0a=_0x1a77df(0x718)+_0x37efc6[_0x1a77df(0x3f8)]+_0x1a77df(0x2c6)+_0x37efc6[_0x1a77df(0x3f8)]+_0x1a77df(0x74a)+_0x37efc6[_0x1a77df(0x218)]['map']((_0x25a602,_0x5133b7)=>_0x1a77df(0x76c)+(_0x5133b7+0x1)+'.\x20'+_0x25a602[_0x1a77df(0x777)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x25a602[_0x1a77df(0x130)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x25a602[_0x1a77df(0x130)]+_0x1a77df(0x165):'')+_0x1a77df(0x311))[_0x1a77df(0x408)]('')+_0x1a77df(0x131);_0x542e2a[_0x1a77df(0x66a)][_0x1a77df(0x3fb)](_0x5c9c0a),_0x542e2a[_0x1a77df(0x66a)][_0x1a77df(0x6ca)](),_0x542e2a[_0x1a77df(0x229)]=function(){setTimeout(()=>{const _0x3893c3=_0x14fe;_0x542e2a[_0x3893c3(0x3e4)]();},0x3e8);};}async function generateWorksheet(){const _0x4a798e=_0x13fc2f,_0x37a20b=document['getElementById'](_0x4a798e(0x26c))[_0x4a798e(0x24a)][_0x4a798e(0x8de)]();if(!_0x37a20b){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x37bed6=document[_0x4a798e(0x21e)](_0x4a798e(0x4fb))['checked'],_0x2052dc=_0x37bed6?'':_0x4a798e(0x190),_0x2b823c=window[_0x4a798e(0x666)]('',_0x4a798e(0x836));_0x2b823c[_0x4a798e(0x66a)][_0x4a798e(0x3fb)]('<h1></h1>');const _0x4c1702=parseInt(document[_0x4a798e(0x21e)](_0x4a798e(0x116))['value']),_0xe6a8a5=document[_0x4a798e(0x21e)](_0x4a798e(0x835))[_0x4a798e(0x780)],_0x1cd971=_0xe6a8a5?_0x4a798e(0x3c5):'',_0x1e605f=_0x4a798e(0x233)+_0x2052dc+_0x4a798e(0x7e1)+_0x4c1702+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x37a20b+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cd971+_0x4a798e(0x715)+simpleMathPrompt+_0x4a798e(0x846),_0x18f99e={'type':_0x4a798e(0x1d7),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x4a798e(0x1d7),'properties':{'questionText':{'type':_0x4a798e(0x69c)},'imageCode':{'type':_0x4a798e(0x69c)}},'required':[_0x4a798e(0x777)]}}},'required':[_0x4a798e(0x3f8),'questions']};document[_0x4a798e(0x21e)](_0x4a798e(0x642))['textContent']='',document[_0x4a798e(0x21e)]('loader')[_0x4a798e(0x110)][_0x4a798e(0x892)]('hidden'),document[_0x4a798e(0x21e)]('quiz-generation-area')[_0x4a798e(0x110)][_0x4a798e(0x892)](_0x4a798e(0x6c1)),generateWorksheetBtn[_0x4a798e(0x506)]=!![];try{const _0x482fff=await callAnalysisApi(_0x1e605f,_0x18f99e);formatAndPrintWorksheet(_0x482fff,_0x2b823c);}catch(_0x1f7f9e){console[_0x4a798e(0x5e9)]('Error\x20generating\x20worksheet:',_0x1f7f9e);if(_0x2b823c)_0x2b823c[_0x4a798e(0x6ca)]();showMessage(_0x4a798e(0x11f));}finally{document[_0x4a798e(0x21e)](_0x4a798e(0x21f))['classList']['add']('hidden'),document[_0x4a798e(0x21e)]('quiz-generation-area')['classList']['add'](_0x4a798e(0x6c1)),generateWorksheetBtn[_0x4a798e(0x506)]=![];}}async function callAnalysisApi(_0x4973ab,_0x33de1f){const _0x4e2c1f=_0x13fc2f,_0x439a39={'contents':[{'role':_0x4e2c1f(0x4f9),'parts':[{'text':_0x4973ab}]}],'generationConfig':{'responseMimeType':_0x4e2c1f(0x3bb),'responseSchema':_0x33de1f}},_0x5c2137=_0x4e2c1f(0x15b),_0x25f0aa=_0x4e2c1f(0x310)+_0x5c2137,_0x26d0f5=await fetch(_0x25f0aa,{'method':_0x4e2c1f(0x2c1),'headers':{'Content-Type':_0x4e2c1f(0x3bb)},'body':JSON[_0x4e2c1f(0x6fd)](_0x439a39)});if(!_0x26d0f5['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x26d0f5[_0x4e2c1f(0x5f5)]);const _0x1dba0f=await _0x26d0f5[_0x4e2c1f(0x150)]();if(_0x1dba0f['candidates']?.[0x0]?.[_0x4e2c1f(0x679)]?.[_0x4e2c1f(0x543)]?.[0x0])return JSON[_0x4e2c1f(0x4aa)](_0x1dba0f[_0x4e2c1f(0x519)][0x0]['content']['parts'][0x0][_0x4e2c1f(0x16e)]);else{let _0x260ac2='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x1dba0f[_0x4e2c1f(0x4df)]?.[_0x4e2c1f(0x262)])_0x260ac2=_0x4e2c1f(0x3e0)+_0x1dba0f[_0x4e2c1f(0x4df)][_0x4e2c1f(0x262)]+'.';else _0x1dba0f[_0x4e2c1f(0x519)]?.[0x0]?.['finishReason']&&_0x1dba0f[_0x4e2c1f(0x519)][0x0][_0x4e2c1f(0x360)]!=='STOP'&&(_0x260ac2='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x1dba0f[_0x4e2c1f(0x519)][0x0][_0x4e2c1f(0x360)]+'.');console[_0x4e2c1f(0x5e9)](_0x260ac2,JSON[_0x4e2c1f(0x6fd)](_0x1dba0f));throw new Error(_0x260ac2);}}initialize();
