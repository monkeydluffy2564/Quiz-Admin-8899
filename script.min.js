const _0x3d653b=_0x1c86;(function(_0x4118a3,_0x4c66a9){const _0x4668d6=_0x1c86,_0x1ce368=_0x4118a3();while(!![]){try{const _0x219f12=-parseInt(_0x4668d6(0x881))/0x1+-parseInt(_0x4668d6(0x355))/0x2*(parseInt(_0x4668d6(0xe4d))/0x3)+-parseInt(_0x4668d6(0x895))/0x4*(parseInt(_0x4668d6(0x616))/0x5)+parseInt(_0x4668d6(0x917))/0x6+parseInt(_0x4668d6(0x5df))/0x7*(-parseInt(_0x4668d6(0xcd0))/0x8)+-parseInt(_0x4668d6(0xbae))/0x9*(parseInt(_0x4668d6(0xeaa))/0xa)+parseInt(_0x4668d6(0x52c))/0xb;if(_0x219f12===_0x4c66a9)break;else _0x1ce368['push'](_0x1ce368['shift']());}catch(_0x1b5ea0){_0x1ce368['push'](_0x1ce368['shift']());}}}(_0x56fc,0x922a1));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x3d653b(0x723),_0x3d653b(0x9c4),_0x3d653b(0x5fd),'เหมียวขี้เซา',_0x3d653b(0xb67),_0x3d653b(0xd11),_0x3d653b(0xc2d),_0x3d653b(0x738),_0x3d653b(0x41c),'จิงโจ้สโลว์ไลฟ์',_0x3d653b(0xd3a),_0x3d653b(0x317),_0x3d653b(0x295),_0x3d653b(0xd67),_0x3d653b(0x1a1),'จอมเวทย์ขนมหวาน',_0x3d653b(0xe56),'ซามูไรสายเดี่ยว','โจรสลัดอวกาศ',_0x3d653b(0x521),_0x3d653b(0x452),_0x3d653b(0x753),'ปลาทูคะนอง','ไก่ฟ้าพญาลอ',_0x3d653b(0xcd2),'หมาป่าเดียวดาย','กระต่ายตื่นตูม','เสือซ่อนเล็บ','ม้าดีดกะโหลก',_0x3d653b(0xb73),'ยอดนักสืบ',_0x3d653b(0x21e),_0x3d653b(0xdcd),'ดาวTikTok',_0x3d653b(0x47c),_0x3d653b(0x298),_0x3d653b(0xcb3),_0x3d653b(0x9e3),_0x3d653b(0x686),_0x3d653b(0x37f),_0x3d653b(0x600),_0x3d653b(0x697),_0x3d653b(0x776),_0x3d653b(0xdc5),'ไอติมทอด','ข้าวมันไก่พิเศษ','หมูกระทะจะเยียวยาทุกสิ่ง',_0x3d653b(0xe05),'ชีสเค้ก',_0x3d653b(0xc02),_0x3d653b(0x30e),_0x3d653b(0x6bb),_0x3d653b(0x672),_0x3d653b(0x2f5),_0x3d653b(0x4f3),_0x3d653b(0x6de),_0x3d653b(0xf2c),_0x3d653b(0xe86),_0x3d653b(0xd4d),_0x3d653b(0xdad),_0x3d653b(0x60d),_0x3d653b(0x868),_0x3d653b(0xbfc),_0x3d653b(0x683),_0x3d653b(0xd36),_0x3d653b(0x665),'ทะเล',_0x3d653b(0xd90),_0x3d653b(0x54f),_0x3d653b(0x9fe),_0x3d653b(0x6bf),_0x3d653b(0x34a),'เกมเมอร์','ศิลปิน','นักดนตรี','นักเขียน',_0x3d653b(0xac1),_0x3d653b(0xb92),_0x3d653b(0x1d9),'ครูใหญ่',_0x3d653b(0x1bf),_0x3d653b(0x88e),_0x3d653b(0x6fb),'ตัวแทนแห่งดวงจันทร์',_0x3d653b(0x302),_0x3d653b(0xe01),'ธอร์ค้อนบิน','ไอรอนแมน',_0x3d653b(0xaca),_0x3d653b(0x549),_0x3d653b(0xf1c),_0x3d653b(0xbcb),_0x3d653b(0xb50),_0x3d653b(0x30f),_0x3d653b(0xe58),_0x3d653b(0x8a4),_0x3d653b(0x2b9),_0x3d653b(0x7d2),_0x3d653b(0x225),'มูเตลู'];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x3d653b(0x689),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x3d653b(0x689),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x5b5a50=_0x3d653b;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x5b5a50(0x425)][_0x5b5a50(0x288)](_0x5b5a50(0x630)),console[_0x5b5a50(0xee3)](_0x5b5a50(0xc59)),wakeLock[_0x5b5a50(0x652)](_0x5b5a50(0xd16),()=>{const _0x2212a5=_0x5b5a50;console[_0x2212a5(0xee3)](_0x2212a5(0x82c));});}catch(_0x4493a9){console[_0x5b5a50(0x3b5)](_0x5b5a50(0x246)+_0x4493a9[_0x5b5a50(0x77f)]+',\x20'+_0x4493a9[_0x5b5a50(0x837)]);}else console[_0x5b5a50(0x395)](_0x5b5a50(0xc63));},releaseWakeLock=async()=>{const _0x3b9f59=_0x3d653b;wakeLock!==null&&(await wakeLock[_0x3b9f59(0xd16)](),wakeLock=null,console[_0x3b9f59(0xee3)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x50fbab=_0x3d653b;if(!document['body'][_0x50fbab(0x26b)][_0x50fbab(0xa4c)](_0x50fbab(0x2ec))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x515c54=_0x50fbab;document[_0x515c54(0xbfe)][_0x515c54(0x26b)][_0x515c54(0x224)]('dimmed'),console[_0x515c54(0xee3)](_0x515c54(0x6c3));},inactivityTime);}}function wakeUpScreen(_0x3f562e){const _0x264492=_0x3d653b;_0x3f562e&&(_0x3f562e['stopPropagation'](),_0x3f562e['preventDefault']());document['body'][_0x264492(0x26b)][_0x264492(0x937)](_0x264492(0x2ec));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x18034d=_0x264492;document['body'][_0x18034d(0x26b)][_0x18034d(0x224)](_0x18034d(0x2ec));},inactivityTime);}function stopDimTimer(){const _0x290b89=_0x3d653b;if(dimTimer)clearTimeout(dimTimer);document[_0x290b89(0xbfe)][_0x290b89(0x26b)][_0x290b89(0x937)](_0x290b89(0x2ec)),window[_0x290b89(0xadb)](_0x290b89(0xb3c),resetDimTimer),window[_0x290b89(0xadb)](_0x290b89(0x4e8),resetDimTimer),window[_0x290b89(0xadb)](_0x290b89(0x253),resetDimTimer),window[_0x290b89(0xadb)](_0x290b89(0xb89),resetDimTimer),console['log'](_0x290b89(0x5ab));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x599e52,_0x4143de=![]){const _0x204500=_0x3d653b,_0x8e5384=allQuizzes[_0x204500(0xb46)](_0xcea3b9=>_0xcea3b9['id']===_0x599e52)||allQuizzesGlobal[_0x204500(0xb46)](_0x5c6433=>_0x5c6433['id']===_0x599e52);if(!_0x8e5384){showMessage(_0x204500(0xc8a));return;}currentQuizData=getShuffledQuiz(_0x8e5384);const _0x4b5938=Math[_0x204500(0x6ae)](0x3e8+Math[_0x204500(0xebc)]()*0x2328)['toString']();try{const _0x1d680e=await addDoc(collection(db,_0x204500(0xc9f)+appId+_0x204500(0x984)),{'quizId':_0x8e5384['id'],'projectId':_0x8e5384['projectId'],'status':_0x204500(0xa03),'pin':_0x4b5938,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4143de});currentTeamQuizId=_0x1d680e['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4b5938,_0x8e5384[_0x204500(0xf14)]),listenForTeamQuizUpdates();}catch(_0xb99aba){console[_0x204500(0x3b5)]('Error\x20starting\x20team\x20quiz:',_0xb99aba),showMessage(_0x204500(0xb1a));}}function renderAdminTeamQuizDashboard(_0x2f8ca8,_0x232400,_0x2eab7f=_0x3d653b(0xe0c)){const _0x1dbd28=_0x3d653b,_0x502f49=_0x2eab7f==='group'?_0x1dbd28(0x4a6):_0x1dbd28(0xb28);liveGameView[_0x1dbd28(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x502f49+':\x20'+_0x232400+_0x1dbd28(0x842)+_0x2f8ca8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x1dbd28(0xc9a))[_0x1dbd28(0x652)](_0x1dbd28(0xc7b),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x1fd6f5=_0x1c86;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x1fd6f5(0xc9f)+appId+_0x1fd6f5(0x984),currentTeamQuizId)),showView(_0x1fd6f5(0xcf3));});});}function listenForTeamQuizUpdates(){const _0x76544=_0x3d653b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4d56f8=doc(db,'artifacts/'+appId+_0x76544(0x984),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4d56f8,_0x2e0393=>{const _0x259e94=_0x76544;if(!_0x2e0393['exists']()){sessionStorage[_0x259e94(0x42c)](_0x259e94(0x8d3));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x259e94(0xcc1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x259e94(0x223)?showView(_0x259e94(0xcf3)):showView(_0x259e94(0x4d8));return;}const _0x4d9488=_0x2e0393['data']();if(currentMode===_0x259e94(0x223)){if(_0x4d9488[_0x259e94(0x720)]===_0x259e94(0xaac)&&_0x4d9488['status']!=='podium'&&_0x4d9488[_0x259e94(0x389)]!==_0x259e94(0x8c4)){const _0x399414=Object['values'](_0x4d9488[_0x259e94(0xa24)]||{});if(_0x399414[_0x259e94(0xe84)]>0x0){const _0xd124f=_0x399414[_0x259e94(0xd2a)](_0x27ac9c=>_0x27ac9c[_0x259e94(0x247)]===!![]);_0xd124f&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4d9488);}else{if(_0x4d9488[_0x259e94(0x389)]===_0x259e94(0x4da)||_0x4d9488[_0x259e94(0x389)]===_0x259e94(0x8c4)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4d9488['mode']===_0x259e94(0xaac)){const _0x106a0e=_0x4d9488['groups'][userId];(!_0x106a0e||!_0x106a0e[_0x259e94(0x247)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x17b10e){const _0x1cb4ab=_0x3d653b;console[_0x1cb4ab(0xee3)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x1b6070=doc(db,'artifacts/'+appId+_0x1cb4ab(0x984),_0x17b10e);try{const _0x4c7abe=await getDoc(_0x1b6070);if(_0x4c7abe[_0x1cb4ab(0x267)]()){const _0x56c76b=_0x4c7abe[_0x1cb4ab(0xcbd)]();_0x56c76b[_0x1cb4ab(0x7e7)]&&await saveGameResultsAsSubmissions(_0x56c76b);}await updateDoc(_0x1b6070,{'status':_0x1cb4ab(0x4da)});}catch(_0x20af7b){console['error'](_0x1cb4ab(0x9a8),_0x20af7b);}}function updateAdminTeamDashboard(_0x406286){const _0x271513=_0x3d653b,_0x54deb2=document[_0x271513(0xb29)](_0x271513(0xb0a));if(!_0x54deb2)return;const _0x2f1ad8=_0x406286['mode']||_0x271513(0xe0c),_0x47cd32=currentQuizData[_0x271513(0xaff)][_0x271513(0xe84)];if(_0x2f1ad8===_0x271513(0xaac)){const _0x3d4202=Object[_0x271513(0xf02)](_0x406286[_0x271513(0xa24)]||{});if(_0x3d4202[_0x271513(0xe84)]===0x0){_0x54deb2[_0x271513(0xd04)]=_0x271513(0x2fb);return;}const _0x4d01cf=[..._0x3d4202][_0x271513(0xb9f)]((_0x7e3922,_0x317a79)=>_0x317a79[_0x271513(0x5e3)]-_0x7e3922[_0x271513(0x5e3)]),_0x8f5ff1=_0x4d01cf[_0x271513(0x643)]((_0x4a46ff,_0x2fdf08)=>{const _0xa0bbec=_0x271513,_0x21e64b=_0x4a46ff[_0xa0bbec(0x91f)]?.['length']||0x0;return _0xa0bbec(0xe2d)+(_0x2fdf08+0x1)+_0xa0bbec(0x41f)+_0x4a46ff['members'][_0xa0bbec(0x87d)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x21e64b+'/'+_0x47cd32+_0xa0bbec(0x847)+_0x4a46ff[_0xa0bbec(0x5e3)]+_0xa0bbec(0x7d5);})['join'](''),_0xc4a951=currentQuizData[_0x271513(0xaff)][_0x271513(0x643)]((_0x184d30,_0x2b3eb7)=>{const _0x19f87f=_0x271513;let _0xcfe4eb=0x0,_0x420345=0x0;_0x3d4202[_0x19f87f(0x57b)](_0x30b6a9=>{const _0x51e3e1=_0x19f87f,_0x380b05=_0x30b6a9['answers']?.['find'](_0x50e11e=>_0x50e11e[_0x51e3e1(0xa40)]===_0x2b3eb7);if(_0x380b05){_0x420345++;if(_0x380b05[_0x51e3e1(0x1ce)])_0xcfe4eb++;}});const _0x518df4=_0x420345>0x0&&_0x420345===_0x3d4202['length'],_0x114dee=_0x518df4?_0x19f87f(0x746):_0x19f87f(0x364),_0x4e6f66=_0x518df4?_0x19f87f(0xef8):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x114dee+_0x19f87f(0xc5f)+(_0x2b3eb7+0x1)+':</span><span>'+_0x4e6f66+_0x19f87f(0xb6b)+_0xcfe4eb+'/'+_0x3d4202[_0x19f87f(0xe84)]+_0x19f87f(0x8da);})['join']('');_0x54deb2[_0x271513(0xd04)]=_0x271513(0xa28)+_0x8f5ff1+_0x271513(0xbe4)+_0xc4a951+'</div></div></div>';return;}const _0x4bfdd4=_0x406286[_0x271513(0x226)]||{},_0x256229=Object['keys'](_0x4bfdd4);if(_0x256229['length']===0x0){_0x54deb2[_0x271513(0xd04)]=_0x271513(0x3bc);return;}const _0x4e8365=_0x256229[_0x271513(0x643)](_0x1bae32=>({'name':_0x1bae32,'score':_0x4bfdd4[_0x1bae32][_0x271513(0x5e3)]||0x0}))[_0x271513(0xb9f)]((_0x50fbcd,_0xed0bc4)=>_0xed0bc4['score']-_0x50fbcd[_0x271513(0x5e3)]),_0x39ea0a=_0x4e8365[_0x271513(0x643)](_0x33fffe=>{const _0x114a9c=_0x271513,_0x34b5f1=_0x4bfdd4[_0x33fffe['name']]?.['answers']?.['length']||0x0,_0x37b663=Math[_0x114a9c(0xe70)](_0x47cd32/_0x256229[_0x114a9c(0xe84)]);return _0x114a9c(0xa93)+_0x33fffe[_0x114a9c(0x77f)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x34b5f1+'/'+_0x37b663+_0x114a9c(0x821)+_0x33fffe[_0x114a9c(0x5e3)]+_0x114a9c(0x8b1);})[_0x271513(0x87d)](''),_0x1e0f95=_0x256229[_0x271513(0x1eb)]((_0x1b8201,_0x3e9a51)=>_0x1b8201+(_0x4bfdd4[_0x3e9a51]['answers']?.[_0x271513(0xe84)]||0x0),0x0),_0x2913dc=currentQuizData[_0x271513(0xaff)][_0x271513(0x643)]((_0x358337,_0x18aac3)=>{const _0x388e85=_0x271513;let _0x5f89ec=null,_0x3d6423=null;for(const _0xb30b01 of _0x256229){const _0x5289f7=_0x4bfdd4[_0xb30b01][_0x388e85(0x91f)]?.[_0x388e85(0xb46)](_0x43d471=>_0x43d471[_0x388e85(0xa40)]===_0x18aac3);if(_0x5289f7){_0x5f89ec=_0x5289f7,_0x3d6423=_0xb30b01;break;}}const _0x3a9390=!!_0x5f89ec,_0x3cf089=_0x3a9390&&_0x5f89ec['isCorrect'],_0x60a6ee=(Math[_0x388e85(0x6ae)](_0x18aac3/_0x256229[_0x388e85(0xe84)])+0x1)*_0x256229[_0x388e85(0xe84)],_0x1569b8=_0x1e0f95>=_0x60a6ee,_0x3c67c0=_0x1569b8?_0x388e85(0x591):'bg-black/10',_0x3a55a9=_0x1569b8?_0x388e85(0xef8):'';let _0x15a6ba=_0x388e85(0xe02);return _0x3a9390&&(_0x15a6ba=_0x3d6423+_0x388e85(0xefb)+(_0x3cf089?_0x388e85(0xe26):_0x388e85(0x5da))),_0x388e85(0xa4e)+_0x3c67c0+_0x388e85(0xc5f)+(_0x18aac3+0x1)+':</span><span>'+_0x3a55a9+_0x388e85(0xdbe)+_0x15a6ba+_0x388e85(0xc1b);})[_0x271513(0x87d)]('');_0x54deb2[_0x271513(0xd04)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x39ea0a+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x2913dc+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x4fc18f=_0x3d653b,_0x59bc65=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x59bc65||_0x59bc65[_0x4fc18f(0x46f)]()[_0x4fc18f(0xe84)]!==0x4){showMessage(_0x4fc18f(0xca6));return;}try{const _0x2ce9fd=collection(db,_0x4fc18f(0xc9f)+appId+_0x4fc18f(0x984)),_0xc314aa=query(_0x2ce9fd,where('pin','==',_0x59bc65['trim']()),where('status','==',_0x4fc18f(0xa03))),_0x597bd3=await getDocs(_0xc314aa);if(_0x597bd3[_0x4fc18f(0xd9a)]){showMessage(_0x4fc18f(0x195));return;}const _0x1ad39e=_0x597bd3[_0x4fc18f(0x574)][0x0];currentTeamQuizId=_0x1ad39e['id'];const _0x1c500d=_0x1ad39e[_0x4fc18f(0xcbd)](),_0x235b27=doc(db,_0x4fc18f(0xc9f)+appId+'/public/data/projects',_0x1c500d[_0x4fc18f(0x6c4)]),_0x55051a=doc(db,_0x4fc18f(0xc9f)+appId+'/public/data/quizzes',_0x1c500d[_0x4fc18f(0x31e)]),[_0xe1910,_0x54fedd]=await Promise[_0x4fc18f(0x689)]([getDoc(_0x235b27),getDoc(_0x55051a)]);if(!_0xe1910['exists']()||!_0x54fedd[_0x4fc18f(0x267)]())throw new Error(_0x4fc18f(0xced));currentQuizData=getShuffledQuiz({'id':_0x54fedd['id'],..._0x54fedd[_0x4fc18f(0xcbd)]()});const _0x51bed4=_0xe1910[_0x4fc18f(0xcbd)]();showTeamPlayerSelection(_0x51bed4[_0x4fc18f(0x828)],currentQuizData[_0x4fc18f(0xf14)]);}catch(_0x578279){console['error'](_0x4fc18f(0x662),_0x578279),showMessage(_0x4fc18f(0xa19)+_0x578279['message']);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x1331f5=_0x3d653b;currentInputPin='',updatePinDisplay(),document[_0x1331f5(0xb29)](_0x1331f5(0x9f8))[_0x1331f5(0x26b)][_0x1331f5(0x937)]('hidden');}function updatePinDisplay(){const _0x603adf=_0x3d653b,_0x1196bf=document['querySelectorAll'](_0x603adf(0x3ee));_0x1196bf[_0x603adf(0x57b)]((_0x2518b2,_0x161ec1)=>{const _0x3b64d0=_0x603adf;_0x161ec1<currentInputPin[_0x3b64d0(0xe84)]?(_0x2518b2[_0x3b64d0(0x6ab)]=currentInputPin[_0x161ec1],_0x2518b2[_0x3b64d0(0x26b)]['add'](_0x3b64d0(0x5fb),_0x3b64d0(0x6f3)),_0x2518b2[_0x3b64d0(0x26b)][_0x3b64d0(0x937)]('border-gray-300',_0x3b64d0(0x362))):(_0x2518b2[_0x3b64d0(0x6ab)]='',_0x2518b2['classList'][_0x3b64d0(0x937)](_0x3b64d0(0x5fb),_0x3b64d0(0x6f3)),_0x2518b2[_0x3b64d0(0x26b)][_0x3b64d0(0x224)](_0x3b64d0(0x7fb),'bg-gray-50'));});}async function handlePinKeyPress(_0x5aeca4){const _0x7668a7=_0x3d653b;if(_0x5aeca4===_0x7668a7(0xde0))currentInputPin=currentInputPin[_0x7668a7(0x7e8)](0x0,-0x1);else currentInputPin[_0x7668a7(0xe84)]<0x4&&(currentInputPin+=_0x5aeca4);updatePinDisplay(),currentInputPin[_0x7668a7(0xe84)]===0x4&&setTimeout(async()=>{const _0x537ae6=_0x7668a7;document[_0x537ae6(0xb29)](_0x537ae6(0x9f8))[_0x537ae6(0x26b)][_0x537ae6(0x224)](_0x537ae6(0x932)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x5ca783){const _0x34b62b=_0x3d653b,_0x4957e3=_0x5ca783[_0x34b62b(0x46f)]();showMessage(_0x34b62b(0xdfa));try{const _0x509759=collection(db,'artifacts/'+appId+_0x34b62b(0x984)),_0x4c56e8=query(_0x509759,where(_0x34b62b(0xa9d),'==',_0x4957e3),where(_0x34b62b(0x389),'==',_0x34b62b(0xa03))),_0xa9f59f=await getDocs(_0x4c56e8);if(!_0xa9f59f['empty']){console[_0x34b62b(0xee3)](_0x34b62b(0x5e6)),await proceedWithTeamQuizJoin(_0xa9f59f['docs'][0x0]);return;}const _0x4efcb4=collection(db,_0x34b62b(0xc9f)+appId+_0x34b62b(0x8d6)),_0x1db963=query(_0x4efcb4,where(_0x34b62b(0xa9d),'==',_0x4957e3),where(_0x34b62b(0x389),'in',[_0x34b62b(0xa03),'question',_0x34b62b(0x8b2),_0x34b62b(0xa01)])),_0x343e9f=await getDocs(_0x1db963);if(!_0x343e9f[_0x34b62b(0xd9a)]){console[_0x34b62b(0xee3)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x343e9f[_0x34b62b(0x574)][0x0]);return;}showMessage(_0x34b62b(0xc1f));}catch(_0x4fa873){console[_0x34b62b(0x3b5)](_0x34b62b(0x812),_0x4fa873),showMessage(_0x34b62b(0x818)+_0x4fa873[_0x34b62b(0x837)]);}}async function proceedWithTeamQuizJoin(_0x5755be){const _0xfe3a4d=_0x3d653b;currentTeamQuizId=_0x5755be['id'];const _0x1d43a8=_0x5755be['data'](),_0x2e9e0b=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1d43a8['projectId']),_0x355ea2=doc(db,_0xfe3a4d(0xc9f)+appId+_0xfe3a4d(0xd47),_0x1d43a8[_0xfe3a4d(0x31e)]),[_0x27a2b8,_0x53ea50]=await Promise[_0xfe3a4d(0x689)]([getDoc(_0x2e9e0b),getDoc(_0x355ea2)]);if(!_0x27a2b8[_0xfe3a4d(0x267)]()||!_0x53ea50[_0xfe3a4d(0x267)]())throw new Error(_0xfe3a4d(0xced));currentQuizData=getShuffledQuiz({'id':_0x53ea50['id'],..._0x53ea50[_0xfe3a4d(0xcbd)]()}),showTeamPlayerSelection(_0x27a2b8['data']()[_0xfe3a4d(0x828)],currentQuizData['topic'],_0x1d43a8[_0xfe3a4d(0x720)]||_0xfe3a4d(0xe0c)),messageModal[_0xfe3a4d(0x26b)][_0xfe3a4d(0x224)](_0xfe3a4d(0x932));}async function proceedWithSyncQuizJoin(_0x58fb00){const _0x1cdc89=_0x3d653b;currentLiveGameId=_0x58fb00['id'];const _0x5ca43b=_0x58fb00[_0x1cdc89(0xcbd)](),_0xdfa540=doc(db,_0x1cdc89(0xc9f)+appId+'/public/data/quizzes',_0x5ca43b[_0x1cdc89(0x31e)]),_0x12636b=await getDoc(_0xdfa540);if(!_0x12636b['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x7de104=_0x12636b['data'](),_0x4d272d=doc(db,_0x1cdc89(0xc9f)+appId+_0x1cdc89(0x8ef),_0x7de104['projectId']),_0x146f0f=await getDoc(_0x4d272d);if(!_0x146f0f[_0x1cdc89(0x267)]())throw new Error(_0x1cdc89(0x787));currentQuizData=_0x5ca43b[_0x1cdc89(0xeb4)],showView(_0x1cdc89(0xec3)),showTeamPlayerSelection(_0x146f0f[_0x1cdc89(0xcbd)]()[_0x1cdc89(0x828)],_0x7de104['topic'],'sync');const _0x14c5d1=document[_0x1cdc89(0xb29)](_0x1cdc89(0x336)),_0x4f24e9=_0x14c5d1[_0x1cdc89(0x2e8)](!![]);_0x14c5d1[_0x1cdc89(0xc75)][_0x1cdc89(0xc4d)](_0x4f24e9,_0x14c5d1),_0x4f24e9['onclick']=confirmAndJoinSyncGame,messageModal[_0x1cdc89(0x26b)][_0x1cdc89(0x224)]('hidden');}function getCleanApplicationHTML(){const _0x17c42d=_0x3d653b,_0x14218e=document[_0x17c42d(0xb29)]('applicationContent');if(!_0x14218e)return'';const _0x290683=_0x14218e[_0x17c42d(0x2e8)](!![]);return _0x290683[_0x17c42d(0x948)](_0x17c42d(0x20d))[_0x17c42d(0x57b)](_0x1be8af=>{const _0x47adde=_0x17c42d;_0x1be8af[_0x47adde(0x26b)]['remove'](_0x47adde(0x276),_0x47adde(0x251)),_0x1be8af[_0x47adde(0xeee)]=![];}),_0x290683[_0x17c42d(0xd04)];}function showTeamPlayerSelection(_0x316a5a,_0x210934,_0x5e7490=_0x3d653b(0xe0c)){const _0x32a602=_0x3d653b;studentInitialView[_0x32a602(0x26b)][_0x32a602(0x224)](_0x32a602(0x932)),studentJoinGameView[_0x32a602(0x26b)][_0x32a602(0x224)](_0x32a602(0x932)),document['getElementById'](_0x32a602(0x861))[_0x32a602(0x26b)][_0x32a602(0x937)](_0x32a602(0x932));let _0x2222ec=_0x32a602(0xb28);if(_0x5e7490===_0x32a602(0xaac))_0x2222ec=_0x32a602(0x4a6);else _0x5e7490===_0x32a602(0x41d)&&(_0x2222ec=_0x32a602(0xc09));document['getElementById']('team-quiz-topic')[_0x32a602(0x6ab)]=_0x2222ec+':\x20'+_0x210934;const _0x2d0944=document[_0x32a602(0xb29)](_0x32a602(0xbd3));if(!_0x316a5a||_0x316a5a[_0x32a602(0xe84)]===0x0){_0x2d0944['innerHTML']=_0x32a602(0x4bd),document[_0x32a602(0xb29)](_0x32a602(0x336))[_0x32a602(0xeee)]=!![];return;}_0x2d0944['innerHTML']=_0x316a5a[_0x32a602(0x643)](_0x92a2a7=>_0x32a602(0x4b3)+_0x92a2a7+_0x32a602(0x37b)+_0x92a2a7+_0x32a602(0x2dd))['join'](''),document['getElementById'](_0x32a602(0x336))[_0x32a602(0xeee)]=![];}async function confirmAndStartTeamQuiz(){const _0xa96613=_0x3d653b,_0x4ef1d0=Array[_0xa96613(0x63b)](document['querySelectorAll'](_0xa96613(0x7b8)))[_0xa96613(0x643)](_0x22f354=>_0x22f354[_0xa96613(0xc4b)]);if(_0x4ef1d0[_0xa96613(0xe84)]===0x0){showMessage(_0xa96613(0x83e));return;}localTeamPlayers=_0x4ef1d0,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x49e23f=doc(db,'artifacts/'+appId+_0xa96613(0x984),currentTeamQuizId);try{const _0xd1097e=await getDoc(_0x49e23f);if(!_0xd1097e[_0xa96613(0x267)]())throw new Error(_0xa96613(0x897));const _0x3c4e0d=_0xd1097e[_0xa96613(0xcbd)]();if(_0x3c4e0d[_0xa96613(0x720)]===_0xa96613(0xaac)){const _0x16a56c={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x49e23f,_0x16a56c);}else{const _0x2e0c5d=_0x3c4e0d['responses']||{};localTeamPlayers[_0xa96613(0x57b)](_0x4240b4=>{!_0x2e0c5d[_0x4240b4]&&(_0x2e0c5d[_0x4240b4]={'score':0x0,'answers':[]});}),await updateDoc(_0x49e23f,{'responses':_0x2e0c5d});}document[_0xa96613(0xb29)](_0xa96613(0x861))[_0xa96613(0x26b)][_0xa96613(0x224)]('hidden'),renderTeamQuizQuestion();const _0x2c2c24={'gameId':currentTeamQuizId,'mode':_0x3c4e0d[_0xa96613(0x720)]||_0xa96613(0xe0c),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xa96613(0xef3)](_0xa96613(0x8d3),JSON['stringify'](_0x2c2c24)),listenForTeamQuizUpdates();}catch(_0x4a1ae1){console['error'](_0xa96613(0x8ed),_0x4a1ae1),showMessage(_0xa96613(0x1e1));}}async function renderTeamQuizQuestion(){const _0x870412=_0x3d653b;if(localQuestionIndex>=currentQuizData[_0x870412(0xaff)][_0x870412(0xe84)]){displayTeamQuizFinalResults();return;}const _0x20e6e6=currentQuizData[_0x870412(0xaff)][localQuestionIndex],_0x43f850=localTeamPlayers[localPlayerIndex],_0x28af06=_0x20e6e6[_0x870412(0xc4a)]||currentQuizData[_0x870412(0xca5)];let _0x52a034=_0x20e6e6['stem']||_0x20e6e6[_0x870412(0x4cd)],_0x3f2b41='';switch(_0x28af06){case _0x870412(0xa08):case'fill_in_with_choices':_0x3f2b41=_0x20e6e6[_0x870412(0x802)][_0x870412(0x643)]((_0x1416af,_0x4ea2a0)=>_0x870412(0xaef)+_0x4ea2a0+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x4ea2a0+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x4ea2a0+'\x22>'+_0x1416af+_0x870412(0x483))[_0x870412(0x87d)]('');break;case _0x870412(0x80d):_0x3f2b41=_0x870412(0xd0e);break;case _0x870412(0x9d6):case'fill_in_no_choices':_0x3f2b41=_0x870412(0x59e);break;case _0x870412(0x76e):_0x3f2b41=_0x870412(0x2f0)+_0x20e6e6[_0x870412(0x1e4)]['map'](_0xd4abeb=>'<option\x20value=\x22'+_0xd4abeb+'\x22>'+_0xd4abeb+_0x870412(0xdea))[_0x870412(0x87d)]('')+_0x870412(0x2cd);break;default:_0x3f2b41=_0x870412(0x45f);break;}studentQuizArea[_0x870412(0xd04)]=_0x870412(0x66e)+(localQuestionIndex+0x1)+_0x870412(0x490)+currentQuizData[_0x870412(0xaff)][_0x870412(0xe84)]+_0x870412(0xd8f)+_0x43f850+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x52a034+_0x870412(0x23b)+(_0x20e6e6[_0x870412(0x921)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x20e6e6['imageCode']+_0x870412(0xe78):'')+_0x870412(0x645)+_0x3f2b41+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x870412(0x26b)][_0x870412(0x937)](_0x870412(0x932));if(window[_0x870412(0x348)])MathJax[_0x870412(0x7e6)]([studentQuizArea]);document['getElementById']('submit-team-answer-btn')[_0x870412(0x652)](_0x870412(0xc7b),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x29d50c=_0x3d653b,_0x5ab94c=currentQuizData['questions'][localQuestionIndex],_0x1aa89f=_0x5ab94c[_0x29d50c(0xc4a)]||currentQuizData[_0x29d50c(0xca5)];let _0x21056d=null,_0x1b8b09=![];if(_0x1aa89f===_0x29d50c(0x9d6)||_0x1aa89f===_0x29d50c(0x2fc)){const _0x3b6e82=document[_0x29d50c(0x327)](_0x29d50c(0xd6f));if(!_0x3b6e82||!_0x3b6e82[_0x29d50c(0xc4b)][_0x29d50c(0x46f)]()){showMessage(_0x29d50c(0xc43));return;}_0x21056d=_0x3b6e82[_0x29d50c(0xc4b)]['trim'](),_0x1b8b09=await gradeShortAnswer(_0x21056d,_0x5ab94c);}else{const _0x56729f=document['querySelector'](_0x29d50c(0xb1f));if(!_0x56729f||_0x56729f['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x21056d=_0x56729f['value'];switch(_0x1aa89f){case _0x29d50c(0x80d):_0x1b8b09=_0x21056d===_0x29d50c(0xa82)===_0x5ab94c[_0x29d50c(0x1b0)];break;case _0x29d50c(0x76e):_0x1b8b09=_0x21056d===_0x5ab94c[_0x29d50c(0x500)];break;default:_0x1b8b09=parseInt(_0x21056d)===_0x5ab94c[_0x29d50c(0x857)];break;}}const _0xba55fb={'questionIndex':localQuestionIndex,'isCorrect':_0x1b8b09},_0x11022a=userId,_0x1f12de={['groups.'+_0x11022a+_0x29d50c(0xdfd)]:arrayUnion(_0xba55fb)};_0x1b8b09&&(_0x1f12de[_0x29d50c(0x83f)+_0x11022a+_0x29d50c(0xeec)]=increment(0x1));try{await updateDoc(doc(db,_0x29d50c(0xc9f)+appId+_0x29d50c(0x984),currentTeamQuizId),_0x1f12de),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x29d50c(0xaff)][_0x29d50c(0xe84)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0xff0da0){console['error']('Error\x20submitting\x20group\x20answer:',_0xff0da0),showMessage(_0x29d50c(0x38a));}}async function handleTeamAnswerSubmit(){const _0x32af62=_0x3d653b,_0x5269db=await getDoc(doc(db,_0x32af62(0xc9f)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x5269db[_0x32af62(0x267)]())return;const _0x2542ca=_0x5269db['data']();if(_0x2542ca[_0x32af62(0x720)]==='group'){handleGroupAnswerSubmit();return;}const _0x28b98a=localTeamPlayers[localPlayerIndex],_0x36815f=currentQuizData[_0x32af62(0xaff)][localQuestionIndex],_0x4f8ec0=_0x36815f[_0x32af62(0xc4a)]||currentQuizData[_0x32af62(0xca5)];let _0x29ca2f=null,_0x1603ee=![];if(_0x4f8ec0===_0x32af62(0x9d6)||_0x4f8ec0===_0x32af62(0x2fc)){const _0x14de21=document[_0x32af62(0x327)](_0x32af62(0xd6f));if(!_0x14de21||!_0x14de21['value'][_0x32af62(0x46f)]()){showMessage(_0x32af62(0xd15));return;}_0x29ca2f=_0x14de21['value'][_0x32af62(0x46f)](),_0x1603ee=await gradeShortAnswer(_0x29ca2f,_0x36815f);}else{const _0x253995=document[_0x32af62(0x327)](_0x32af62(0xb1f));if(!_0x253995||_0x253995['value']===''){showMessage(_0x32af62(0x5af));return;}_0x29ca2f=_0x253995[_0x32af62(0xc4b)];switch(_0x4f8ec0){case _0x32af62(0x80d):_0x1603ee=_0x29ca2f==='true'===_0x36815f['correctAnswer'];break;case'matching_item':_0x1603ee=_0x29ca2f===_0x36815f[_0x32af62(0x500)];break;default:_0x1603ee=parseInt(_0x29ca2f)===_0x36815f[_0x32af62(0x857)];break;}}const _0x7fbb5b={'questionIndex':localQuestionIndex,'isCorrect':_0x1603ee,'answerValue':_0x29ca2f},_0x5ef9c8={[_0x32af62(0xabc)+_0x28b98a+_0x32af62(0xdfd)]:arrayUnion(_0x7fbb5b)};_0x1603ee&&(_0x5ef9c8[_0x32af62(0xabc)+_0x28b98a+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x32af62(0xc9f)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5ef9c8),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x32af62(0xe84)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x4b4f99){console[_0x32af62(0x3b5)](_0x32af62(0x73c),_0x4b4f99),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x26f105=_0x3d653b;studentQuizArea[_0x26f105(0x26b)][_0x26f105(0x224)](_0x26f105(0x932)),studentResultArea['classList'][_0x26f105(0x937)](_0x26f105(0x932));const _0x11042a=doc(db,'artifacts/'+appId+_0x26f105(0x984),currentTeamQuizId),_0x2a8396=await getDoc(_0x11042a);if(!_0x2a8396[_0x26f105(0x267)]()){studentResultArea[_0x26f105(0xd04)]=_0x26f105(0x464);return;}const _0x40e52b=_0x2a8396[_0x26f105(0xcbd)]();let _0x10c6c1=[];const _0x38b6bc=_0x40e52b[_0x26f105(0x720)]||_0x26f105(0xe0c);if(_0x38b6bc===_0x26f105(0xaac)){const _0x17303f=_0x40e52b[_0x26f105(0xa24)][userId];_0x17303f?_0x10c6c1=[{'name':_0x26f105(0xa63)+localTeamPlayers[_0x26f105(0x87d)](',\x20'),'score':_0x17303f['score']||0x0}]:_0x10c6c1=[{'name':'กลุ่มของคุณ','score':_0x26f105(0x8c3)}];}else _0x10c6c1=localTeamPlayers[_0x26f105(0x643)](_0x16774f=>({'name':_0x16774f,'score':_0x40e52b[_0x26f105(0x226)][_0x16774f]?.['score']||0x0}))['sort']((_0x308e10,_0x54644e)=>_0x54644e['score']-_0x308e10[_0x26f105(0x5e3)]);studentResultArea[_0x26f105(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10c6c1['map'](_0x78ccb4=>_0x26f105(0xece)+_0x78ccb4[_0x26f105(0x77f)]+_0x26f105(0xb35)+_0x78ccb4['score']+_0x26f105(0x90f))[_0x26f105(0x87d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x26f105(0x42c)](_0x26f105(0x8d3)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x40e4a7=_0x26f105;deleteDoc(doc(db,_0x40e4a7(0xc9f)+appId+_0x40e4a7(0x984),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3d653b(0x8ea),'pinnedProjects':[],'projectView':_0x3d653b(0x4d6)};const allMathTopics=[{'category':_0x3d653b(0xada),'name':_0x3d653b(0xe3f)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x37e)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xa78)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x705)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x8d4)},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0xa9b)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x2f2)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xe49)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xdb4)},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0x219)},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0x526)},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0x393)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x89e)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x5ef)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x835)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xd23)},{'category':_0x3d653b(0xada),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0x3c6)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x3d653b(0xada),'name':'การบวกเศษส่วน'},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xbef)},{'category':_0x3d653b(0xada),'name':'การคูณเศษส่วน'},{'category':_0x3d653b(0xada),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x5d6)},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0xa17)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xad2)},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0x59d)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xa10)},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x622)},{'category':_0x3d653b(0xada),'name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x3d653b(0xada),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x3d653b(0xada),'name':_0x3d653b(0x878)},{'category':'จำนวนและการดำเนินการ','name':_0x3d653b(0xcca)},{'category':_0x3d653b(0xada),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x3d653b(0xada),'name':_0x3d653b(0xa79)},{'category':_0x3d653b(0x4f6),'name':'หน่วยความยาวและการแปลง'},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0x718)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0xb93)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0x7f3)},{'category':_0x3d653b(0x4f6),'name':'อุณหภูมิและการแปลง'},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0x411)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0x4ce)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0x827)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0xea1)},{'category':_0x3d653b(0x4f6),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0x8e9)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0xee4)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0x9c3)},{'category':_0x3d653b(0x4f6),'name':_0x3d653b(0xaa0)},{'category':'เรขาคณิต','name':_0x3d653b(0x377)},{'category':_0x3d653b(0x5e8),'name':'ความสัมพันธ์ของมุม'},{'category':_0x3d653b(0x5e8),'name':_0x3d653b(0x8fc)},{'category':'เรขาคณิต','name':_0x3d653b(0x827)},{'category':_0x3d653b(0x5e8),'name':_0x3d653b(0x1f6)},{'category':_0x3d653b(0x5e8),'name':'ความคล้ายของรูป'},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x3d653b(0x5e8),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x3d653b(0x5e8),'name':_0x3d653b(0x955)},{'category':_0x3d653b(0x5e8),'name':_0x3d653b(0x331)},{'category':_0x3d653b(0x5e8),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x3d653b(0x5e8),'name':_0x3d653b(0xa38)},{'category':'เรขาคณิต','name':_0x3d653b(0x9fc)},{'category':_0x3d653b(0x5e8),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x3d653b(0x453)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x6d8)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x985)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3d653b(0xc22)},{'category':_0x3d653b(0x638),'name':'การแยกตัวประกอบ'},{'category':_0x3d653b(0x638),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x3d653b(0x638),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x512)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xbd9)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xdb5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3d653b(0x9a4)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x18f)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':_0x3d653b(0x638),'name':'สมการลอการิทึม'},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x95b)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xb8e)},{'category':_0x3d653b(0x638),'name':'ระบบอสมการ'},{'category':_0x3d653b(0x638),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3d653b(0xda3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3d653b(0xea9)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xa3f)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x202)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x426)},{'category':_0x3d653b(0x638),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันพหุนาม'},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x7ee)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xda6)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x947)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x775)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xa43)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x9b5)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0x9fa)},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xc96)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x3d653b(0x638),'name':_0x3d653b(0xeda)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3d653b(0x458)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3d653b(0x494)},{'category':_0x3d653b(0x792),'name':'ความชันและเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x3d653b(0x9a5)},{'category':_0x3d653b(0x792),'name':_0x3d653b(0xa4b)},{'category':_0x3d653b(0x792),'name':_0x3d653b(0x2f7)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3d653b(0x20b)},{'category':_0x3d653b(0x792),'name':'พาราโบลา'},{'category':_0x3d653b(0x792),'name':_0x3d653b(0x2a0)},{'category':_0x3d653b(0x792),'name':'ไฮเพอร์โบลา'},{'category':'ตรีโกณมิติ','name':_0x3d653b(0x3ce)},{'category':_0x3d653b(0x206),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x3d653b(0x206),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x3d653b(0x206),'name':_0x3d653b(0x26f)},{'category':_0x3d653b(0x206),'name':_0x3d653b(0x6eb)},{'category':_0x3d653b(0x206),'name':_0x3d653b(0x2fe)},{'category':_0x3d653b(0x206),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x3d653b(0x206),'name':_0x3d653b(0x18d)},{'category':_0x3d653b(0x206),'name':_0x3d653b(0x9c1)},{'category':_0x3d653b(0x206),'name':_0x3d653b(0xf1b)},{'category':_0x3d653b(0x206),'name':_0x3d653b(0xd69)},{'category':_0x3d653b(0x1d8),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x9ac)},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0xd60)},{'category':'สถิติและความน่าจะเป็น','name':_0x3d653b(0x4c6)},{'category':_0x3d653b(0x1d8),'name':'ฮิสโตแกรม'},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x7a2)},{'category':'สถิติและความน่าจะเป็น','name':_0x3d653b(0x864)},{'category':_0x3d653b(0x1d8),'name':'มัธยฐาน'},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x3e0)},{'category':'สถิติและความน่าจะเป็น','name':_0x3d653b(0x238)},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x7f0)},{'category':_0x3d653b(0x1d8),'name':'ความแปรปรวน'},{'category':_0x3d653b(0x1d8),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x420)},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x6e2)},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x325)},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0x624)},{'category':_0x3d653b(0x1d8),'name':'แผนภาพเวนน์'},{'category':_0x3d653b(0x1d8),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0xe22)},{'category':'สถิติและความน่าจะเป็น','name':_0x3d653b(0xc04)},{'category':_0x3d653b(0x1d8),'name':_0x3d653b(0xaed)},{'category':_0x3d653b(0x1d8),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x3d653b(0x883)},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0x52d)},{'category':_0x3d653b(0x3d0),'name':'ความต่อเนื่อง'},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0x4f5)},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0xd38)},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0xbf6)},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0x2ff)},{'category':_0x3d653b(0x3d0),'name':'ความชันเส้นสัมผัส'},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0x846)},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0xe66)},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0x888)},{'category':_0x3d653b(0x3d0),'name':'ปริพันธ์จำกัด'},{'category':_0x3d653b(0x3d0),'name':_0x3d653b(0xb15)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3d653b(0x1db)},{'category':_0x3d653b(0xc16),'name':_0x3d653b(0x184)},{'category':_0x3d653b(0xc16),'name':_0x3d653b(0x199)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x3d653b(0xc16),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x3d653b(0xc16),'name':_0x3d653b(0x40c)},{'category':_0x3d653b(0xc16),'name':_0x3d653b(0x17c)},{'category':_0x3d653b(0xc16),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x3d653b(0x9d7),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x3d653b(0x9d7),'name':_0x3d653b(0x69e)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3d653b(0x2fa)},{'category':_0x3d653b(0x9d7),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3d653b(0x234)},{'category':_0x3d653b(0x2d6),'name':_0x3d653b(0x8af)},{'category':_0x3d653b(0x2d6),'name':_0x3d653b(0x62b)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x192244=_0x3d653b,_0x1b6a20=document['getElementById'](_0x192244(0x55e));if(!_0x1b6a20)return;const _0x3b9229=allMathTopics,_0x3d1b8e=customMathTopics[_0x192244(0x643)](_0x270b6c=>({'id':_0x270b6c['id'],'category':_0x192244(0x975),'name':_0x270b6c[_0x192244(0x77f)]})),_0x3a192e=[..._0x3b9229,..._0x3d1b8e],_0x51f6fb=_0x3a192e['reduce']((_0x2714b0,_0x4202ec)=>{const _0x138989=_0x192244;return!_0x2714b0[_0x4202ec[_0x138989(0x54b)]]&&(_0x2714b0[_0x4202ec[_0x138989(0x54b)]]=[]),_0x2714b0[_0x4202ec['category']][_0x138989(0xf06)](_0x4202ec),_0x2714b0;},{});let _0xa2d38e='';const _0x3c0fda=[_0x192244(0x975),...Object[_0x192244(0x754)](_0x51f6fb)[_0x192244(0x5f5)](_0x4d2980=>_0x4d2980!==_0x192244(0x975))];for(const _0x3f644 of _0x3c0fda){if(_0x51f6fb[_0x3f644]){const _0x319f48=_0x3f644===_0x192244(0x975),_0x4511e6=_0x319f48?_0x192244(0x36b):'fas\x20fa-bookmark',_0x5e9cfe=_0x319f48?_0x192244(0x92f):'text-indigo-700';_0xa2d38e+=_0x192244(0x9c0),_0xa2d38e+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x5e9cfe+_0x192244(0x777)+_0x4511e6+_0x192244(0xccf)+_0x3f644+_0x192244(0xdba),_0x51f6fb[_0x3f644][_0x192244(0x57b)](_0x2853bc=>{const _0x3fbfcb=_0x192244,_0x40a895=!!_0x2853bc['id'],_0x375184=_0x40a895?_0x3fbfcb(0x95d)+_0x2853bc['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2853bc['id']+_0x3fbfcb(0x695)+_0x2853bc['id']+_0x3fbfcb(0x86a)+_0x2853bc['id']+_0x3fbfcb(0xcf4):'';_0xa2d38e+=_0x3fbfcb(0xcfe)+(_0x2853bc['id']||'')+_0x3fbfcb(0x66c)+_0x2853bc[_0x3fbfcb(0x77f)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x2853bc[_0x3fbfcb(0x77f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40a895?_0x3fbfcb(0x4ad)+_0x2853bc['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x375184+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xa2d38e+=_0x192244(0xe78);}}_0x1b6a20[_0x192244(0xd04)]=_0xa2d38e||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x1b6a20[_0x192244(0xadb)](_0x192244(0xc95),updateSelectedTopicsCount),_0x1b6a20[_0x192244(0x652)](_0x192244(0xc95),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x204d84,_0x530075){const _0x2d8f04=_0x3d653b;if(!_0x204d84||!_0x530075['trim']()){showMessage(_0x2d8f04(0x271));return;}try{const _0x121ccb=doc(db,_0x2d8f04(0xc9f)+appId+_0x2d8f04(0xc6b),_0x204d84);await updateDoc(_0x121ccb,{'name':_0x530075[_0x2d8f04(0x46f)]()}),showMessage(_0x2d8f04(0xb9a));}catch(_0xeafe16){console[_0x2d8f04(0x3b5)](_0x2d8f04(0x527),_0xeafe16),showMessage(_0x2d8f04(0xb81));}}function toggleTopicEditMode(_0x4a4d27,_0x1e7325){const _0x2bd261=_0x3d653b;if(!_0x4a4d27)return;const _0x84ec5=_0x4a4d27[_0x2bd261(0x327)]('.topic-name-display'),_0x5b30d3=_0x4a4d27['querySelector']('.topic-name-input'),_0x588cbf=_0x4a4d27[_0x2bd261(0x327)]('.topic-actions-view'),_0x1c520a=_0x4a4d27[_0x2bd261(0x327)](_0x2bd261(0x5be));_0x84ec5[_0x2bd261(0x26b)][_0x2bd261(0xc28)](_0x2bd261(0x932),_0x1e7325),_0x5b30d3['classList']['toggle'](_0x2bd261(0x932),!_0x1e7325),_0x588cbf[_0x2bd261(0x26b)]['toggle'](_0x2bd261(0x932),_0x1e7325),_0x1c520a[_0x2bd261(0x26b)][_0x2bd261(0xc28)](_0x2bd261(0x932),!_0x1e7325),_0x1e7325&&(_0x5b30d3[_0x2bd261(0xba4)](),_0x5b30d3[_0x2bd261(0x4fd)]());}async function handleStartLiveRace(_0x4d3e33){const _0x5a914d=_0x3d653b;let _0x345ffe=allQuizzes['find'](_0x481242=>_0x481242['id']===_0x4d3e33);if(!_0x345ffe){const _0x4c5fb6=doc(db,_0x5a914d(0xc9f)+appId+_0x5a914d(0xd47),_0x4d3e33),_0x55b99d=await getDoc(_0x4c5fb6);if(!_0x55b99d[_0x5a914d(0x267)]()){showMessage(_0x5a914d(0xc8a));return;}_0x345ffe={'id':_0x55b99d['id'],..._0x55b99d[_0x5a914d(0xcbd)]()};}const _0x141454=getShuffledQuiz(_0x345ffe);currentQuizData=_0x141454;const _0x1b4029=_0x345ffe[_0x5a914d(0x6c4)]||currentProjectId||null,_0x20aafe=Math['floor'](0x3e8+Math[_0x5a914d(0xebc)]()*0x2328)[_0x5a914d(0xd43)]();currentLiveGamePin=_0x20aafe;try{const _0x1153fe=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x4d3e33,'projectId':_0x1b4029,'status':_0x5a914d(0xa03),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x20aafe,'createdAt':serverTimestamp(),'shuffledQuiz':_0x141454});currentLiveGameId=_0x1153fe['id'],showAdminLobbyView(_0x20aafe,_0x345ffe[_0x5a914d(0xf14)]),listenForLiveGameUpdates();}catch(_0x215361){console[_0x5a914d(0x3b5)]('Error\x20starting\x20live\x20race:',_0x215361),showMessage(_0x5a914d(0x617));}}function updateSelectedTopicsCount(){const _0x420673=_0x3d653b,_0x30a2ff=document[_0x420673(0xb29)]('math-topics-checkbox-container'),_0x45e32a=_0x30a2ff[_0x420673(0x948)](_0x420673(0x8cc))['length'],_0x12c353=document['getElementById'](_0x420673(0x242));_0x45e32a>0x0?_0x12c353[_0x420673(0x6ab)]='(เลือกแล้ว\x20'+_0x45e32a+_0x420673(0x4ec):_0x12c353['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3d653b(0xaae),quizLeaderboardSortOrder=_0x3d653b(0x9e9),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3d653b(0x76c),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x3d653b(0xae2),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5a0b74,_0xf897c5){const _0x4b893b=_0x3d653b;return Math[_0x4b893b(0xc78)](Math[_0x4b893b(0x663)](_0x5a0b74['x']-_0xf897c5['x'],0x2)+Math[_0x4b893b(0x663)](_0x5a0b74['y']-_0xf897c5['y'],0x2));}function getMidpoint(_0x235481,_0x21bc92){return{'x':(_0x235481['x']+_0x21bc92['x'])/0x2,'y':(_0x235481['y']+_0x21bc92['y'])/0x2};}function getTransformedPoint(_0x24d225,_0x9da574){return{'x':(_0x24d225-scratchpadOffset['x'])/scratchpadScale,'y':(_0x9da574-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x15db27=_0x3d653b;if(!scratchpadCtx)return;const _0x4558fe=scratchpadCtx[_0x15db27(0x89f)],_0x9cf51f=window[_0x15db27(0xaa8)]||0x1,_0xccad24=document[_0x15db27(0xb29)]('scratchpad-header');_0xccad24&&(_0xccad24['style'][_0x15db27(0xe03)]=_0x15db27(0x2b7),_0xccad24[_0x15db27(0xa90)][_0x15db27(0xc76)]=_0x15db27(0xc19)+scratchpadOffset['x']+_0x15db27(0x406)+scratchpadOffset['y']+_0x15db27(0xb5e)+scratchpadScale+')'),scratchpadCtx[_0x15db27(0x32b)](),scratchpadCtx['setTransform'](_0x9cf51f,0x0,0x0,_0x9cf51f,0x0,0x0),scratchpadCtx[_0x15db27(0x773)](0x0,0x0,_0x4558fe[_0x15db27(0x9f6)],_0x4558fe[_0x15db27(0x674)]),scratchpadCtx[_0x15db27(0x75a)](),scratchpadCtx[_0x15db27(0x32b)](),scratchpadCtx[_0x15db27(0x9a9)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x15db27(0x5a1)](scratchpadScale,scratchpadScale),strokes[_0x15db27(0x57b)](_0x2c417f=>{drawStroke(_0x2c417f);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x16e187=_0x3d653b;if(localQuestionIndex>=currentQuizData[_0x16e187(0xaff)]['length']){displayTeamQuizFinalResults();return;}const _0x374e02=currentQuizData[_0x16e187(0xaff)][localQuestionIndex],_0x339bcc=_0x374e02[_0x16e187(0xc4a)]||currentQuizData['quizType'];let _0x3dc293=_0x374e02[_0x16e187(0x3bf)]||_0x374e02[_0x16e187(0x4cd)],_0x5297f3='';switch(_0x339bcc){case _0x16e187(0xa08):case _0x16e187(0xcec):_0x5297f3=_0x374e02[_0x16e187(0x802)][_0x16e187(0x643)]((_0xada615,_0xe47f01)=>_0x16e187(0xaef)+_0xe47f01+_0x16e187(0x7b1)+_0xe47f01+_0x16e187(0x466)+_0xe47f01+'\x22>'+_0xada615+_0x16e187(0x483))[_0x16e187(0x87d)]('');break;case _0x16e187(0x80d):_0x5297f3='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x16e187(0x9d6):case _0x16e187(0x2fc):_0x5297f3='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0x16e187(0x76e):_0x5297f3=_0x16e187(0x2f0)+_0x374e02[_0x16e187(0x1e4)]['map'](_0x25841f=>_0x16e187(0x801)+_0x25841f+'\x22>'+_0x25841f+'</option>')['join']('')+_0x16e187(0x2cd);break;default:_0x5297f3='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x16e187(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x16e187(0xaff)][_0x16e187(0xe84)]+_0x16e187(0xe04)+localTeamPlayers[_0x16e187(0x87d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x3dc293+_0x16e187(0x23b)+(_0x374e02[_0x16e187(0x921)]?_0x16e187(0x52e)+_0x374e02[_0x16e187(0x921)]+_0x16e187(0xe78):'')+_0x16e187(0x645)+_0x5297f3+_0x16e187(0xd35),studentQuizArea[_0x16e187(0x26b)][_0x16e187(0x937)]('hidden');if(window[_0x16e187(0x348)])MathJax[_0x16e187(0x7e6)]([studentQuizArea]);document[_0x16e187(0xb29)](_0x16e187(0x4e7))[_0x16e187(0x652)](_0x16e187(0xc7b),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x13522c,_0x5adcd0=null,_0x4219df,_0x4c015c=null,_0x36f410=![],_0x789e3=null){const _0x23b0fb=_0x3d653b,_0x49aa39=document['getElementById'](_0x23b0fb(0xe8e));_0x49aa39&&_0x49aa39[_0x23b0fb(0x660)]({'behavior':_0x23b0fb(0x284),'block':_0x23b0fb(0x351)}),generateQuiz(_0x13522c,_0x5adcd0,null,_0x789e3,!![],_0x4219df,_0x4c015c,_0x36f410);}function handleGenerateAndShowLesson(_0x4a2a32,_0x3f753c){const _0xfb2e5b=_0x3d653b,_0x5964e6=document[_0xfb2e5b(0xb29)](_0xfb2e5b(0xb47)),_0x23c352=document['getElementById'](_0xfb2e5b(0x27f)),_0x55dd21=document['getElementById']('lesson-loader'),_0x15a753=document[_0xfb2e5b(0xb29)](_0xfb2e5b(0x6ac));[_0xfb2e5b(0xa73),'memoryContent','applicationContent','summaryContent'][_0xfb2e5b(0x57b)](_0x3c296c=>{const _0xd9aecd=_0xfb2e5b,_0x2f07ea=document[_0xd9aecd(0xb29)](_0x3c296c)[_0xd9aecd(0x3c2)];_0x2f07ea&&(_0x2f07ea[_0xd9aecd(0xa90)]['display']=_0xd9aecd(0x993));}),_0x23c352[_0xfb2e5b(0x6ab)]='กำลังสร้างบทเรียน:\x20'+_0x4a2a32,_0x15a753[_0xfb2e5b(0x26b)]['add'](_0xfb2e5b(0x932)),_0x55dd21[_0xfb2e5b(0x26b)][_0xfb2e5b(0x937)](_0xfb2e5b(0x932)),_0x5964e6[_0xfb2e5b(0x26b)][_0xfb2e5b(0x937)](_0xfb2e5b(0x932)),generateLesson(_0x4a2a32,_0x3f753c)[_0xfb2e5b(0xdcf)](_0x5f9b61=>{const _0x45650b=_0xfb2e5b;console[_0x45650b(0x3b5)](_0x45650b(0x4a2),_0x5f9b61),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x5964e6['classList']['add'](_0x45650b(0x932));});}function handlePointerDown(_0x3dd43a){const _0x27d4e0=_0x3d653b;_0x3dd43a['preventDefault']();const _0xd3a8b1=scratchpadCtx[_0x27d4e0(0x89f)],_0x255d9f=_0xd3a8b1[_0x27d4e0(0x561)](),_0x5e654a=_0x3dd43a[_0x27d4e0(0xc2c)]||(_0x3dd43a[_0x27d4e0(0x45e)]?_0x27d4e0(0x29c):_0x27d4e0(0x63f));if(_0x5e654a==='pen'||_0x5e654a==='mouse'){if(_0x3dd43a['pointerType']===_0x27d4e0(0x63f)&&_0x3dd43a[_0x27d4e0(0xd14)]!==0x0){_0x3dd43a[_0x27d4e0(0xd14)]===0x1&&(isMousePanning=!![],panStart={'x':_0x3dd43a[_0x27d4e0(0x2af)],'y':_0x3dd43a[_0x27d4e0(0xc72)]},_0xd3a8b1['style']['cursor']=_0x27d4e0(0xf00));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x26d567=getTransformedPoint(_0x3dd43a[_0x27d4e0(0x2af)]-_0x255d9f[_0x27d4e0(0x43e)],_0x3dd43a[_0x27d4e0(0xc72)]-_0x255d9f[_0x27d4e0(0x290)]);let _0x2bc1b0={'tool':activeTool,'points':[_0x26d567]};if(activeTool===_0x27d4e0(0x836))_0x2bc1b0[_0x27d4e0(0x4ef)]=scratchpadPenColor,_0x2bc1b0[_0x27d4e0(0x492)]=scratchpadPenSize;else{if(activeTool===_0x27d4e0(0x627))_0x2bc1b0[_0x27d4e0(0x4ef)]=scratchpadPenColor,_0x2bc1b0[_0x27d4e0(0x492)]=scratchpadEraserSize;else{if(activeTool===_0x27d4e0(0xd02))_0x2bc1b0['color']=scratchpadHighlighterColor,_0x2bc1b0[_0x27d4e0(0x492)]=scratchpadHighlighterSize;else activeTool===_0x27d4e0(0x76d)&&(_0x2bc1b0['color']=scratchpadPenColor,_0x2bc1b0[_0x27d4e0(0x492)]=scratchpadPenSize);}}currentStroke=_0x2bc1b0;}else _0x3dd43a[_0x27d4e0(0x45e)]&&(_0x3dd43a[_0x27d4e0(0x45e)][_0x27d4e0(0xe84)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3dd43a['touches'][0x0][_0x27d4e0(0x2af)],'y':_0x3dd43a[_0x27d4e0(0x45e)][0x0]['clientY']},{'x':_0x3dd43a[_0x27d4e0(0x45e)][0x1][_0x27d4e0(0x2af)],'y':_0x3dd43a['touches'][0x1][_0x27d4e0(0xc72)]}),initialPinchDistance=getDistance({'x':_0x3dd43a[_0x27d4e0(0x45e)][0x0][_0x27d4e0(0x2af)],'y':_0x3dd43a[_0x27d4e0(0x45e)][0x0][_0x27d4e0(0xc72)]},{'x':_0x3dd43a[_0x27d4e0(0x45e)][0x1][_0x27d4e0(0x2af)],'y':_0x3dd43a[_0x27d4e0(0x45e)][0x1][_0x27d4e0(0xc72)]})));}function animateTrail(){const _0x813792=_0x3d653b,_0x5e0408=Date[_0x813792(0xbd7)]();let _0x2343b1=![];for(let _0x201990=strokes[_0x813792(0xe84)]-0x1;_0x201990>=0x0;_0x201990--){const _0x551378=strokes[_0x201990];if(_0x551378['tool']===_0x813792(0x76d)&&_0x551378['fadeStartTime']){const _0x4bae95=_0x5e0408-_0x551378[_0x813792(0xb0b)];_0x4bae95>=TRAIL_DURATION?strokes[_0x813792(0xdf1)](_0x201990,0x1):(_0x551378['opacity']=0x1-_0x4bae95/TRAIL_DURATION,_0x2343b1=!![]);}}redrawScratchpad(),_0x2343b1?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5231f4){const _0x2b1aec=_0x3d653b;if(!_0x5231f4||_0x5231f4[_0x2b1aec(0x2ab)][_0x2b1aec(0xe84)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x2b1aec(0xbb2)]='round',scratchpadCtx[_0x2b1aec(0x70b)]=_0x2b1aec(0x3fc);if(_0x5231f4[_0x2b1aec(0xca9)]===_0x2b1aec(0x76d)){const _0x1cd49a=_0x5231f4[_0x2b1aec(0x492)]/scratchpadScale;scratchpadCtx[_0x2b1aec(0xe6b)]=_0x5231f4[_0x2b1aec(0x6e7)]??0x1,scratchpadCtx[_0x2b1aec(0x9de)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx['shadowBlur']=_0x1cd49a*0x3,scratchpadCtx['strokeStyle']=_0x2b1aec(0x8e5),scratchpadCtx[_0x2b1aec(0xf0e)]=_0x1cd49a*2.5,scratchpadCtx[_0x2b1aec(0x571)](),scratchpadCtx['moveTo'](_0x5231f4[_0x2b1aec(0x2ab)][0x0]['x'],_0x5231f4[_0x2b1aec(0x2ab)][0x0]['y']);for(let _0x1c4063=0x1;_0x1c4063<_0x5231f4['points'][_0x2b1aec(0xe84)]-0x1;_0x1c4063++){const _0x1bed1c=getMidpoint(_0x5231f4['points'][_0x1c4063],_0x5231f4[_0x2b1aec(0x2ab)][_0x1c4063+0x1]);scratchpadCtx[_0x2b1aec(0x919)](_0x5231f4[_0x2b1aec(0x2ab)][_0x1c4063]['x'],_0x5231f4[_0x2b1aec(0x2ab)][_0x1c4063]['y'],_0x1bed1c['x'],_0x1bed1c['y']);}scratchpadCtx[_0x2b1aec(0x800)](),scratchpadCtx[_0x2b1aec(0x9de)]=_0x2b1aec(0x2dc),scratchpadCtx[_0x2b1aec(0x7bd)]=0x0,scratchpadCtx['strokeStyle']=_0x2b1aec(0xe4c),scratchpadCtx[_0x2b1aec(0xf0e)]=_0x1cd49a,scratchpadCtx[_0x2b1aec(0x800)](),scratchpadCtx[_0x2b1aec(0xea2)]();}else{if(_0x5231f4[_0x2b1aec(0xca9)]===_0x2b1aec(0xd02)){scratchpadCtx[_0x2b1aec(0x542)]=_0x2b1aec(0xba7),scratchpadCtx[_0x2b1aec(0x940)]=_0x5231f4['color'],scratchpadCtx[_0x2b1aec(0xf0e)]=_0x5231f4['size'],scratchpadCtx[_0x2b1aec(0x571)](),scratchpadCtx[_0x2b1aec(0x488)](_0x5231f4['points'][0x0]['x'],_0x5231f4[_0x2b1aec(0x2ab)][0x0]['y']);for(let _0x3e656b=0x1;_0x3e656b<_0x5231f4[_0x2b1aec(0x2ab)][_0x2b1aec(0xe84)]-0x1;_0x3e656b++){const _0xbc393b=getMidpoint(_0x5231f4[_0x2b1aec(0x2ab)][_0x3e656b],_0x5231f4[_0x2b1aec(0x2ab)][_0x3e656b+0x1]);scratchpadCtx[_0x2b1aec(0x919)](_0x5231f4[_0x2b1aec(0x2ab)][_0x3e656b]['x'],_0x5231f4['points'][_0x3e656b]['y'],_0xbc393b['x'],_0xbc393b['y']);}scratchpadCtx[_0x2b1aec(0x800)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x5231f4[_0x2b1aec(0xca9)]===_0x2b1aec(0x627)?_0x2b1aec(0xd32):_0x2b1aec(0x40f),scratchpadCtx['strokeStyle']=_0x5231f4[_0x2b1aec(0x4ef)],scratchpadCtx[_0x2b1aec(0xf0e)]=_0x5231f4[_0x2b1aec(0x492)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x2b1aec(0x488)](_0x5231f4['points'][0x0]['x'],_0x5231f4[_0x2b1aec(0x2ab)][0x0]['y']);for(let _0x2fdfeb=0x1;_0x2fdfeb<_0x5231f4[_0x2b1aec(0x2ab)]['length']-0x1;_0x2fdfeb++){const _0x5c3632=getMidpoint(_0x5231f4[_0x2b1aec(0x2ab)][_0x2fdfeb],_0x5231f4[_0x2b1aec(0x2ab)][_0x2fdfeb+0x1]);scratchpadCtx[_0x2b1aec(0x919)](_0x5231f4['points'][_0x2fdfeb]['x'],_0x5231f4[_0x2b1aec(0x2ab)][_0x2fdfeb]['y'],_0x5c3632['x'],_0x5c3632['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x2b1aec(0x75a)]();}function handlePointerMove(_0x3fb861){const _0x40e001=_0x3d653b;_0x3fb861[_0x40e001(0x486)]();const _0x4a0c57=scratchpadCtx['canvas'],_0x5a6ce6=_0x4a0c57['getBoundingClientRect']();if(_0x3fb861[_0x40e001(0x45e)]){if(_0x3fb861[_0x40e001(0x45e)][_0x40e001(0xe84)]===0x1&&isDrawingOnScratchpad){const _0x515901=getTransformedPoint(_0x3fb861[_0x40e001(0x45e)][0x0][_0x40e001(0x2af)]-_0x5a6ce6[_0x40e001(0x43e)],_0x3fb861[_0x40e001(0x45e)][0x0][_0x40e001(0xc72)]-_0x5a6ce6[_0x40e001(0x290)]);currentStroke[_0x40e001(0x2ab)]['push'](_0x515901),redrawScratchpad();}else{if(_0x3fb861[_0x40e001(0x45e)][_0x40e001(0xe84)]===0x2&&isPanning){const _0x1a82b4=getDistance({'x':_0x3fb861[_0x40e001(0x45e)][0x0][_0x40e001(0x2af)],'y':_0x3fb861[_0x40e001(0x45e)][0x0][_0x40e001(0xc72)]},{'x':_0x3fb861['touches'][0x1][_0x40e001(0x2af)],'y':_0x3fb861['touches'][0x1][_0x40e001(0xc72)]}),_0x49af2c=getMidpoint({'x':_0x3fb861[_0x40e001(0x45e)][0x0][_0x40e001(0x2af)],'y':_0x3fb861[_0x40e001(0x45e)][0x0][_0x40e001(0xc72)]},{'x':_0x3fb861['touches'][0x1][_0x40e001(0x2af)],'y':_0x3fb861[_0x40e001(0x45e)][0x1][_0x40e001(0xc72)]}),_0x2558fc=_0x1a82b4/ initialPinchDistance,_0x10740f=Math[_0x40e001(0x748)](Math[_0x40e001(0xd18)](scratchpadScale*_0x2558fc,MIN_SCALE),MAX_SCALE),_0x90cf88=_0x49af2c['x']-panStart['x'],_0x129818=_0x49af2c['y']-panStart['y'];scratchpadOffset['x']=_0x49af2c['x']-(_0x49af2c['x']-scratchpadOffset['x'])*(_0x10740f/scratchpadScale),scratchpadOffset['y']=_0x49af2c['y']-(_0x49af2c['y']-scratchpadOffset['y'])*(_0x10740f/scratchpadScale),scratchpadOffset['x']+=_0x90cf88,scratchpadOffset['y']+=_0x129818,scratchpadScale=_0x10740f,initialPinchDistance=_0x1a82b4,panStart=_0x49af2c,redrawScratchpad();}}}else{if(isMousePanning){const _0x381bfc=_0x3fb861[_0x40e001(0x2af)]-panStart['x'],_0x18f731=_0x3fb861[_0x40e001(0xc72)]-panStart['y'];scratchpadOffset['x']+=_0x381bfc,scratchpadOffset['y']+=_0x18f731,panStart={'x':_0x3fb861[_0x40e001(0x2af)],'y':_0x3fb861[_0x40e001(0xc72)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x112bda=getTransformedPoint(_0x3fb861[_0x40e001(0x2af)]-_0x5a6ce6['left'],_0x3fb861[_0x40e001(0xc72)]-_0x5a6ce6[_0x40e001(0x290)]);currentStroke['points'][_0x40e001(0xf06)](_0x112bda),redrawScratchpad();}}}}function handlePointerUp(_0x182635){const _0x779270=_0x3d653b;_0x182635['preventDefault']();const _0x55f072=scratchpadCtx[_0x779270(0x89f)];isMousePanning&&(isMousePanning=![],_0x55f072[_0x779270(0xa90)][_0x779270(0x2a7)]=_0x779270(0x434)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x779270(0x2ab)][_0x779270(0xe84)]>0x1&&(strokes[_0x779270(0xf06)](currentStroke),currentStroke['tool']===_0x779270(0x76d)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3cece3=_0x779270,_0x2205c3=strokes[_0x3cece3(0x5f5)](_0x3d8e6b=>_0x3d8e6b[_0x3cece3(0xca9)]===_0x3cece3(0x76d)&&!_0x3d8e6b[_0x3cece3(0xb0b)]);if(_0x2205c3[_0x3cece3(0xe84)]>0x0){const _0x18c6c1=Date[_0x3cece3(0xbd7)]();_0x2205c3[_0x3cece3(0x57b)](_0x471879=>_0x471879['fadeStartTime']=_0x18c6c1),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x5c87a5){const _0x4f6789=_0x3d653b;_0x5c87a5[_0x4f6789(0x486)]();const _0x476132=_0x5c87a5['deltaY']*-0.005,_0x2641e7=Math[_0x4f6789(0x748)](Math['max'](scratchpadScale+_0x476132,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x5c87a5['clientX']-(_0x5c87a5[_0x4f6789(0x2af)]-scratchpadOffset['x'])*(_0x2641e7/scratchpadScale),scratchpadOffset['y']=_0x5c87a5[_0x4f6789(0xc72)]-(_0x5c87a5[_0x4f6789(0xc72)]-scratchpadOffset['y'])*(_0x2641e7/scratchpadScale),scratchpadScale=_0x2641e7,redrawScratchpad();}function undo(){const _0x230bab=_0x3d653b;strokes[_0x230bab(0xe84)]>0x0&&(redoStrokes[_0x230bab(0xf06)](strokes[_0x230bab(0x8a1)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x38afb8=_0x3d653b;redoStrokes[_0x38afb8(0xe84)]>0x0&&(strokes[_0x38afb8(0xf06)](redoStrokes[_0x38afb8(0x8a1)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1505a4=_0x3d653b;document[_0x1505a4(0xb29)](_0x1505a4(0x896))[_0x1505a4(0xeee)]=strokes[_0x1505a4(0xe84)]===0x0,document[_0x1505a4(0xb29)](_0x1505a4(0x170))[_0x1505a4(0xeee)]=redoStrokes['length']===0x0;}function openScratchpad(_0x42efa8,_0x527ec1){const _0xf90ffb=_0x3d653b,_0x3845ff=document[_0xf90ffb(0xb29)](_0xf90ffb(0xcf6)),_0x374d84=document[_0xf90ffb(0xb29)]('scratchpad-question'),_0x1f2c17=document[_0xf90ffb(0xb29)](_0xf90ffb(0xb7b)),_0x12a9d8=document[_0xf90ffb(0xb29)]('scratchpad-controls');_0x374d84[_0xf90ffb(0xd04)]=_0x42efa8[_0xf90ffb(0x3bf)]||_0x42efa8[_0xf90ffb(0x4cd)],_0x1f2c17[_0xf90ffb(0xd04)]=_0x527ec1[_0xf90ffb(0x643)]((_0x5f0392,_0x1adc70)=>_0xf90ffb(0xef5)+String[_0xf90ffb(0x9b7)](0x41+_0x1adc70)+'.\x20'+_0x5f0392+'</div>')[_0xf90ffb(0x87d)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3845ff[_0xf90ffb(0x26b)][_0xf90ffb(0x937)](_0xf90ffb(0x932)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0xf90ffb(0x7e6)]([_0x374d84,_0x1f2c17]);}function openBlueprintQuizSettings(){const _0x3ad319=_0x3d653b,_0x4abe6e=document[_0x3ad319(0xb29)](_0x3ad319(0x710)),_0xffbde5=blueprintPageSettings||(currentProjectData?currentProjectData[_0x3ad319(0x48b)]:{})||{};document['getElementById']('bp-modal-quiz-type-select')[_0x3ad319(0xc4b)]=_0xffbde5['quizType']||document['getElementById']('quiz-type-select')['value'],document['getElementById']('bp-modal-difficulty-level-select')['innerHTML']=document['getElementById'](_0x3ad319(0x3a5))[_0x3ad319(0xd04)],document[_0x3ad319(0xb29)]('bp-modal-difficulty-level-select')[_0x3ad319(0xc4b)]=_0xffbde5[_0x3ad319(0xd88)]||document[_0x3ad319(0xb29)](_0x3ad319(0x3a5))['value'],document[_0x3ad319(0xb29)]('bp-modal-question-complexity-select')[_0x3ad319(0xd04)]=document['getElementById']('question-complexity-select')[_0x3ad319(0xd04)],document[_0x3ad319(0xb29)](_0x3ad319(0xd10))[_0x3ad319(0xc4b)]=_0xffbde5[_0x3ad319(0xe74)]||document[_0x3ad319(0xb29)](_0x3ad319(0x79f))[_0x3ad319(0xc4b)],document[_0x3ad319(0xb29)](_0x3ad319(0xcdf))[_0x3ad319(0xc4b)]=_0xffbde5['numQuestions']||document[_0x3ad319(0xb29)](_0x3ad319(0x4a5))['value'],document[_0x3ad319(0xb29)](_0x3ad319(0x739))[_0x3ad319(0xc4b)]=_0xffbde5[_0x3ad319(0xd2b)]||document[_0x3ad319(0xb29)](_0x3ad319(0x95f))[_0x3ad319(0xc4b)],document[_0x3ad319(0xb29)]('bp-modal-num-choices')[_0x3ad319(0xc4b)]=_0xffbde5[_0x3ad319(0x1a7)]||document[_0x3ad319(0xb29)](_0x3ad319(0xc6d))[_0x3ad319(0xc4b)],document[_0x3ad319(0xb29)](_0x3ad319(0x862))[_0x3ad319(0xc4b)]=_0xffbde5[_0x3ad319(0xbe2)]||document['getElementById'](_0x3ad319(0x89c))[_0x3ad319(0xc4b)],document[_0x3ad319(0xb29)](_0x3ad319(0xd08))[_0x3ad319(0x21d)]=_0xffbde5['includeImages']||document[_0x3ad319(0xb29)](_0x3ad319(0x9a1))[_0x3ad319(0x21d)],_0x4abe6e['classList'][_0x3ad319(0x937)](_0x3ad319(0x932));}function handleSaveBlueprintPageSettings(){const _0x39361a=_0x3d653b;blueprintPageSettings={'quizType':document['getElementById'](_0x39361a(0x768))[_0x39361a(0xc4b)],'difficultyValue':document['getElementById'](_0x39361a(0x732))[_0x39361a(0xc4b)],'complexityValue':document[_0x39361a(0xb29)](_0x39361a(0xd10))['value'],'numQuestions':document['getElementById'](_0x39361a(0xcdf))[_0x39361a(0xc4b)],'passingScore':document[_0x39361a(0xb29)](_0x39361a(0x739))[_0x39361a(0xc4b)],'numChoices':document['getElementById'](_0x39361a(0xee5))['value'],'shuffle':document[_0x39361a(0xb29)](_0x39361a(0x862))['value'],'includeImages':document[_0x39361a(0xb29)](_0x39361a(0xd08))[_0x39361a(0x21d)]},showMessage(_0x39361a(0x7ae)),document['getElementById'](_0x39361a(0x710))[_0x39361a(0x26b)][_0x39361a(0x224)](_0x39361a(0x932));}function listenForParallelTestShortcuts(){const _0x9dc0cc=_0x3d653b,_0x481b29=doc(db,_0x9dc0cc(0x445),_0x9dc0cc(0x891));onSnapshot(_0x481b29,_0x43a3c8=>{const _0x264e19=_0x9dc0cc;let _0x5bb0a6=[],_0x2cd14a=[],_0x2236c7={};if(_0x43a3c8['exists']()){const _0x1fb15a=_0x43a3c8[_0x264e19(0xcbd)]();_0x5bb0a6=_0x1fb15a[_0x264e19(0xef1)]||[],_0x2cd14a=_0x1fb15a[_0x264e19(0xb8b)]||[],_0x2236c7=_0x1fb15a['parallelShortcutOrder']||{};}!_0x2cd14a['find'](_0x593060=>_0x593060['id']===_0x264e19(0x689))&&_0x2cd14a[_0x264e19(0x583)]({'id':_0x264e19(0x689),'name':_0x264e19(0x264),'isDefault':!![]}),!_0x5bb0a6[_0x264e19(0xb46)](_0x2e029b=>_0x2e029b['id']==='parallel-default-1')&&_0x5bb0a6[_0x264e19(0x583)]({'id':_0x264e19(0x8ad),'name':_0x264e19(0xb22),'url':'','isDefault':!![]}),!_0x5bb0a6[_0x264e19(0xb46)](_0x253b0f=>_0x253b0f['id']==='parallel-default-2')&&_0x5bb0a6[_0x264e19(0x583)]({'id':_0x264e19(0xd2d),'name':_0x264e19(0xaea),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x5bb0a6,parallelShortcutTabs=_0x2cd14a,parallelShortcutOrder=_0x2236c7,renderParallelTestShortcuts(),!document[_0x264e19(0xb29)](_0x264e19(0x24e))[_0x264e19(0x26b)][_0x264e19(0xa4c)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4d0f0c=_0x3d653b,_0x4afe55=doc(db,_0x4d0f0c(0x445),_0x4d0f0c(0x891));try{await setDoc(_0x4afe55,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x49d6a2){console[_0x4d0f0c(0x3b5)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x49d6a2);}}function renderAdditionalParallelShortcutsModal(){const _0x218bb9=_0x3d653b,_0x5306c0=document[_0x218bb9(0xb29)](_0x218bb9(0xc53)),_0x2fa936=document[_0x218bb9(0xb29)](_0x218bb9(0x3f8));if(!_0x5306c0||!_0x2fa936)return;_0x5306c0[_0x218bb9(0xd04)]=parallelShortcutTabs[_0x218bb9(0x643)](_0x433e83=>{const _0x2d0342=_0x218bb9,_0x123c77=_0x433e83['id']===activeParallelShortcutTabId;return _0x2d0342(0xed2)+_0x433e83['id']+_0x2d0342(0x538)+(_0x123c77?'border-indigo-500\x20text-indigo-600':_0x2d0342(0xab9))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x433e83[_0x2d0342(0x77f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x433e83[_0x2d0342(0x77f)]+_0x2d0342(0xbc7)+(!_0x433e83[_0x2d0342(0x66b)]?'<button\x20data-tab-id=\x22'+_0x433e83['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x2d0342(0x417);})[_0x218bb9(0x87d)]('');const _0x2287c4=parallelShortcutTabs['find'](_0x5704f1=>_0x5704f1['id']===activeParallelShortcutTabId);let _0x364d1e=_0x2287c4?.[_0x218bb9(0x66b)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x218bb9(0x5f5)](_0x1548a9=>(_0x2287c4?.[_0x218bb9(0x23f)]||[])[_0x218bb9(0xecb)](_0x1548a9['id']));const _0x3733d9=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x364d1e[_0x218bb9(0xb9f)]((_0xe04828,_0x3acc0e)=>{const _0x4da888=_0x218bb9,_0x2e600c=_0x3733d9[_0x4da888(0x629)](_0xe04828['id']),_0x1deff6=_0x3733d9['indexOf'](_0x3acc0e['id']);return(_0x2e600c===-0x1?Infinity:_0x2e600c)-(_0x1deff6===-0x1?Infinity:_0x1deff6);}),_0x2fa936[_0x218bb9(0xd04)]=_0x364d1e[_0x218bb9(0x643)](_0x59457a=>{const _0x124de9=_0x218bb9,_0x4f83b2=_0x59457a[_0x124de9(0x5a7)]?'🔁':'🔗',_0xa2b9d1=parallelShortcutTabs[_0x124de9(0x5f5)](_0x4134e8=>!_0x4134e8[_0x124de9(0x66b)]),_0x131c61=_0x2287c4[_0x124de9(0x66b)]&&_0xa2b9d1['length']>0x0?_0x124de9(0x2a2)+_0xa2b9d1[_0x124de9(0x643)](_0x1882ed=>_0x124de9(0x77c)+_0x59457a['id']+_0x124de9(0x337)+_0x1882ed['id']+'\x22>'+_0x1882ed[_0x124de9(0x77f)]+_0x124de9(0x7ce))[_0x124de9(0x87d)]('')+_0x124de9(0x5f3):'';return _0x124de9(0x1fb)+_0x59457a['id']+_0x124de9(0x45a)+_0x4f83b2+'\x20'+_0x59457a[_0x124de9(0x77f)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x59457a['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x59457a['id']+_0x124de9(0x8ba)+(!_0x59457a['isDefault']?_0x124de9(0x7ad)+_0x59457a['id']+_0x124de9(0xd07):'')+_0x124de9(0x3f7)+(!_0x2287c4[_0x124de9(0x66b)]?'<button\x20data-shortcut-id=\x22'+_0x59457a['id']+_0x124de9(0xe94):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x131c61+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||_0x218bb9(0x517),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x529633=_0x3d653b;document[_0x529633(0x948)]('.parallel-shortcut-tab-btn')['forEach'](_0x4e3b58=>{const _0x19f612=_0x529633;_0x4e3b58[_0x19f612(0x675)]=_0x5beee4=>{const _0x3175fc=_0x19f612;activeParallelShortcutTabId=_0x5beee4[_0x3175fc(0x47f)][_0x3175fc(0x63c)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x4e3b58[_0x19f612(0xa89)]=_0x33b8c2=>{const _0x497630=_0x19f612,_0x5c9f75=_0x33b8c2['currentTarget'][_0x497630(0x327)](_0x497630(0x734));_0x33b8c2[_0x497630(0x47f)][_0x497630(0x327)](_0x497630(0x7b5))['classList']['add'](_0x497630(0x932)),_0x5c9f75[_0x497630(0x26b)][_0x497630(0x937)](_0x497630(0x932)),_0x5c9f75[_0x497630(0xba4)](),_0x5c9f75[_0x497630(0x4fd)]();};}),document['querySelectorAll'](_0x529633(0xddb))['forEach'](_0x248bb5=>{const _0x1222c7=_0x529633,_0x4f0da8=()=>{const _0x34dc40=_0x1c86,_0x48a402=_0x248bb5[_0x34dc40(0x2e3)](_0x34dc40(0x1a2))['dataset'][_0x34dc40(0x2c0)],_0x41fa5b=parallelShortcutTabs[_0x34dc40(0xb46)](_0x12203f=>_0x12203f['id']===_0x48a402);_0x41fa5b&&(_0x41fa5b[_0x34dc40(0x77f)]=_0x248bb5[_0x34dc40(0xc4b)][_0x34dc40(0x46f)]()||_0x41fa5b['name'],saveParallelShortcutConfig());};_0x248bb5['onblur']=_0x4f0da8,_0x248bb5[_0x1222c7(0xd48)]=_0x2a42fe=>{const _0x25db07=_0x1222c7;if(_0x2a42fe['key']===_0x25db07(0x78d))_0x248bb5['blur']();};}),document[_0x529633(0x948)](_0x529633(0xa47))[_0x529633(0x57b)](_0x3753fc=>_0x3753fc[_0x529633(0x675)]=_0x33b3c0=>{const _0x188fcc=_0x529633,_0x5c624e=_0x33b3c0[_0x188fcc(0x47f)][_0x188fcc(0x63c)][_0x188fcc(0x2c0)];showConfirmation(_0x188fcc(0xbc4),()=>{const _0x150a2b=_0x188fcc;parallelShortcutTabs=parallelShortcutTabs[_0x150a2b(0x5f5)](_0x372ee4=>_0x372ee4['id']!==_0x5c624e),delete parallelShortcutOrder[_0x5c624e];if(activeParallelShortcutTabId===_0x5c624e)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document['querySelectorAll']('.move-parallel-shortcut-item')['forEach'](_0x365989=>_0x365989['onclick']=_0x35f105=>{const _0x155d16=_0x529633;_0x35f105['preventDefault']();const {shortcutId:_0x9b7acf,targetTabId:_0x42d3bb}=_0x35f105['currentTarget'][_0x155d16(0x63c)],_0xb63632=parallelShortcutTabs[_0x155d16(0xb46)](_0x181867=>_0x181867['id']===_0x42d3bb);_0xb63632&&!_0xb63632['shortcutIds'][_0x155d16(0xecb)](_0x9b7acf)&&(_0xb63632[_0x155d16(0x23f)][_0x155d16(0xf06)](_0x9b7acf),saveParallelShortcutConfig());}),document['querySelectorAll']('.remove-parallel-shortcut-from-tab-btn')['forEach'](_0x12d789=>_0x12d789[_0x529633(0x675)]=_0x48e23c=>{const _0x1aa2a7=_0x529633,_0x6db822=_0x48e23c[_0x1aa2a7(0x47f)][_0x1aa2a7(0x63c)][_0x1aa2a7(0x784)],_0x26002b=parallelShortcutTabs[_0x1aa2a7(0xb46)](_0x29b86b=>_0x29b86b['id']===activeParallelShortcutTabId);_0x26002b&&!_0x26002b['isDefault']&&(_0x26002b[_0x1aa2a7(0x23f)]=_0x26002b[_0x1aa2a7(0x23f)]['filter'](_0x29598f=>_0x29598f!==_0x6db822),saveParallelShortcutConfig());}),document[_0x529633(0x948)](_0x529633(0x510))[_0x529633(0x57b)](_0x4a20ce=>_0x4a20ce[_0x529633(0x675)]=_0x3c1817=>{const _0x55fde5=_0x529633;_0x3c1817['stopPropagation']();const _0x13403a=_0x3c1817[_0x55fde5(0x47f)][_0x55fde5(0x83d)];document[_0x55fde5(0x948)](_0x55fde5(0x233))[_0x55fde5(0x57b)](_0x6e06e4=>_0x6e06e4[_0x55fde5(0x26b)]['add']('hidden')),_0x13403a[_0x55fde5(0x26b)]['remove'](_0x55fde5(0x932));});const _0x199ae9=document[_0x529633(0xb29)](_0x529633(0x3f8));let _0x5ac394=null;_0x199ae9[_0x529633(0xbad)]=_0x38bc36=>{const _0x26b5b2=_0x529633;_0x5ac394=_0x38bc36['target'][_0x26b5b2(0x2e3)]('.shortcut-list-item');if(_0x5ac394)setTimeout(()=>_0x5ac394[_0x26b5b2(0x26b)]['add']('opacity-50'),0x0);},_0x199ae9[_0x529633(0x974)]=()=>{const _0x4e9142=_0x529633;_0x5ac394&&(_0x5ac394[_0x4e9142(0x26b)][_0x4e9142(0x937)](_0x4e9142(0xaa1)),_0x5ac394=null);},_0x199ae9[_0x529633(0x5d0)]=_0x5addc4=>{const _0x32ada1=_0x529633;_0x5addc4[_0x32ada1(0x486)]();},_0x199ae9[_0x529633(0xc07)]=_0x5db619=>{const _0x4ac6d7=_0x529633;_0x5db619['preventDefault']();if(_0x5ac394){const _0x5c77a3=[..._0x199ae9[_0x4ac6d7(0x948)](_0x4ac6d7(0x6bc))][_0x4ac6d7(0x1eb)]((_0x281d80,_0x37625f)=>{const _0x537af8=_0x4ac6d7,_0x13d11f=_0x37625f[_0x537af8(0x561)](),_0xe375e8=_0x5db619[_0x537af8(0xc72)]-_0x13d11f['top']-_0x13d11f[_0x537af8(0x674)]/0x2;return _0xe375e8<0x0&&_0xe375e8>_0x281d80['offset']?{'offset':_0xe375e8,'element':_0x37625f}:_0x281d80;},{'offset':Number[_0x4ac6d7(0x6e9)]})['element'];_0x5c77a3==null?_0x199ae9['appendChild'](_0x5ac394):_0x199ae9[_0x4ac6d7(0x192)](_0x5ac394,_0x5c77a3);const _0x587141=[..._0x199ae9[_0x4ac6d7(0x948)](_0x4ac6d7(0x38c))]['map'](_0x19ea25=>_0x19ea25['dataset'][_0x4ac6d7(0x784)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x587141,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x4c1887=_0x3d653b,_0x5cc381=prompt(_0x4c1887(0x8fe),'แท็บใหม่');_0x5cc381&&_0x5cc381[_0x4c1887(0x46f)]()&&(parallelShortcutTabs[_0x4c1887(0xf06)]({'id':'tab_'+Date['now'](),'name':_0x5cc381[_0x4c1887(0x46f)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x38b858=_0x3d653b,_0x99fb9b=document[_0x38b858(0xb29)]('parallel-shortcut-container'),_0x267483=document[_0x38b858(0xb29)](_0x38b858(0x3f8)),_0xc874de=document[_0x38b858(0xb29)](_0x38b858(0x703));if(_0xc874de)_0xc874de[_0x38b858(0x26b)][_0x38b858(0x224)](_0x38b858(0x932));if(!_0x99fb9b||!_0x267483)return;const _0xdd42c9=parallelTestShortcuts[_0x38b858(0x7e8)](0x0,0x4),_0x1816e5=parallelTestShortcuts['slice'](0x4);_0x99fb9b['innerHTML']=_0xdd42c9['map'](_0x5cff34=>{const _0x3d7ede=_0x38b858,_0x3df175=_0x5cff34[_0x3d7ede(0x5a7)]&&_0x5cff34[_0x3d7ede(0x5a7)][_0x3d7ede(0x46f)]()!=='',_0x88e7=_0x3df175?_0x3d7ede(0xb63):_0x3d7ede(0xf0f),_0x4ba341=_0x3df175?'🔁':'🔗',_0x15b714=!_0x5cff34[_0x3d7ede(0x66b)]?_0x3d7ede(0x7ad)+_0x5cff34['id']+_0x3d7ede(0x85f):'';return _0x3d7ede(0x6ff)+_0x5cff34['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x88e7+_0x3d7ede(0xc14)+_0x4ba341+'\x20'+_0x5cff34['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5cff34['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15b714+_0x3d7ede(0x2d9);})['join'](''),_0x1816e5[_0x38b858(0xe84)]>0x0&&(_0x99fb9b['innerHTML']+=_0x38b858(0xae9)),_0x1816e5[_0x38b858(0xe84)]>0x0?_0x267483[_0x38b858(0xd04)]=_0x1816e5[_0x38b858(0x643)](_0x51a45b=>_0x38b858(0xd3b)+(_0x51a45b[_0x38b858(0x5a7)]?'🔁':'🔗')+'\x20'+_0x51a45b[_0x38b858(0x77f)]+_0x38b858(0xd5b)+_0x51a45b['id']+_0x38b858(0xb26)+_0x51a45b['id']+_0x38b858(0x405)+(!_0x51a45b['isDefault']?'<button\x20data-id=\x22'+_0x51a45b['id']+_0x38b858(0xd07):'')+_0x38b858(0xce9))[_0x38b858(0x87d)](''):_0x267483[_0x38b858(0xd04)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x4742ac=null){const _0x452a7e=_0x3d653b,_0x35be69=document['getElementById'](_0x452a7e(0xe9f)),_0x465c3a=document[_0x452a7e(0xb29)](_0x452a7e(0xef6)),_0x152634=document[_0x452a7e(0xb29)](_0x452a7e(0x729)),_0x5dd216=document[_0x452a7e(0xb29)](_0x452a7e(0x2db)),_0x310603=document['getElementById'](_0x452a7e(0xab2));if(_0x4742ac){const _0x258eee=parallelTestShortcuts[_0x452a7e(0xb46)](_0x2c7d48=>_0x2c7d48['id']===_0x4742ac);if(!_0x258eee)return;_0x465c3a['textContent']=_0x452a7e(0xe7f),_0x152634[_0x452a7e(0xc4b)]=_0x258eee['id'],_0x5dd216[_0x452a7e(0xc4b)]=_0x258eee[_0x452a7e(0x77f)],_0x310603[_0x452a7e(0xc4b)]=_0x258eee['url']||'';}else _0x465c3a[_0x452a7e(0x6ab)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x152634['value']='',_0x5dd216[_0x452a7e(0xc4b)]='',_0x310603[_0x452a7e(0xc4b)]='';_0x35be69[_0x452a7e(0x26b)][_0x452a7e(0x937)](_0x452a7e(0x932));}async function saveParallelTestShortcutChanges(){const _0x3886f0=_0x3d653b,_0x3cc625=document[_0x3886f0(0xb29)](_0x3886f0(0x729))[_0x3886f0(0xc4b)],_0x70dbfa=document[_0x3886f0(0xb29)](_0x3886f0(0x2db))['value'][_0x3886f0(0x46f)](),_0x377f59=document['getElementById'](_0x3886f0(0xab2))[_0x3886f0(0xc4b)]['trim']();if(!_0x70dbfa){showMessage(_0x3886f0(0x1c7));return;}const _0x29ca72={'id':_0x3cc625||_0x3886f0(0x6cf)+Date['now'](),'name':_0x70dbfa,'url':_0x377f59,'isDefault':_0x3cc625[_0x3886f0(0x7f8)](_0x3886f0(0xe4e))};let _0x15e27d;_0x3cc625?_0x15e27d=parallelTestShortcuts[_0x3886f0(0x643)](_0x504bfd=>_0x504bfd['id']===_0x3cc625?_0x29ca72:_0x504bfd):_0x15e27d=[...parallelTestShortcuts,_0x29ca72];try{const _0x40ea01=doc(db,_0x3886f0(0x445),_0x3886f0(0x891));await setDoc(_0x40ea01,{'shortcuts':_0x15e27d},{'merge':!![]}),document[_0x3886f0(0xb29)]('parallel-shortcut-editor-modal')[_0x3886f0(0x26b)][_0x3886f0(0x224)](_0x3886f0(0x932));}catch(_0x26c551){console['error'](_0x3886f0(0x4a3),_0x26c551),showMessage(_0x3886f0(0xe36));}}async function handleParallelTestShortcutClick(_0x12c0c8){const _0x4bf332=_0x3d653b,_0x166c96=parallelTestShortcuts[_0x4bf332(0xb46)](_0x148bd2=>_0x148bd2['id']===_0x12c0c8);if(!_0x166c96)return;if(!_0x166c96['url']||_0x166c96[_0x4bf332(0x5a7)][_0x4bf332(0x46f)]()===''){openParallelTestShortcutEditor(_0x12c0c8);return;}const _0xc54b9=document[_0x4bf332(0xb29)](_0x4bf332(0x6dc)),_0x14d281=document[_0x4bf332(0xb29)]('loader-text');document['getElementById']('quiz-generation-area')[_0x4bf332(0x26b)][_0x4bf332(0x937)](_0x4bf332(0x932)),document[_0x4bf332(0xb29)](_0x4bf332(0xf24))[_0x4bf332(0xd04)]='',_0xc54b9[_0x4bf332(0x26b)]['remove'](_0x4bf332(0x932)),_0x14d281[_0x4bf332(0x6ab)]='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x4de32f;_0x166c96['url'][_0x4bf332(0xa99)]()[_0x4bf332(0xecb)]('.txt')?_0x4de32f='source_document.txt':_0x4de32f='source_document.pdf';const _0xd38d=await fetchFileFromUrl(_0x166c96[_0x4bf332(0x5a7)],_0x4de32f);await handleGenerateParallelTest(_0xd38d);}catch(_0x248b5e){console[_0x4bf332(0x3b5)](_0x4bf332(0xbf4),_0x248b5e),showMessage(_0x4bf332(0xa19)+_0x248b5e[_0x4bf332(0x837)]),_0xc54b9[_0x4bf332(0x26b)][_0x4bf332(0x224)](_0x4bf332(0x932));}}function initializeScratchpadCanvas(){const _0x5599bc=_0x3d653b,_0x18c3b0=document[_0x5599bc(0xb29)](_0x5599bc(0xeab)),_0x5e2e6e=document[_0x5599bc(0x327)](_0x5599bc(0xd4c));if(!_0x18c3b0||!_0x5e2e6e)return;scratchpadCtx=_0x18c3b0[_0x5599bc(0xab3)]('2d',{'willReadFrequently':!![]});const _0xe5d44c=window[_0x5599bc(0xaa8)]||0x1,_0x3ace43=_0x5e2e6e[_0x5599bc(0x561)]();_0x18c3b0[_0x5599bc(0x9f6)]=_0x3ace43[_0x5599bc(0x9f6)]*_0xe5d44c,_0x18c3b0['height']=_0x3ace43['height']*_0xe5d44c,_0x18c3b0[_0x5599bc(0xa90)][_0x5599bc(0x9f6)]=_0x3ace43[_0x5599bc(0x9f6)]+'px',_0x18c3b0[_0x5599bc(0xa90)][_0x5599bc(0x674)]=_0x3ace43[_0x5599bc(0x674)]+'px',scratchpadCtx[_0x5599bc(0x5a1)](_0xe5d44c,_0xe5d44c),scratchpadCtx[_0x5599bc(0xbb2)]=_0x5599bc(0x3fc),scratchpadCtx['lineCap']=_0x5599bc(0x3fc),_0x18c3b0[_0x5599bc(0xadb)](_0x5599bc(0x80b),handlePointerDown),_0x18c3b0[_0x5599bc(0xadb)]('pointermove',handlePointerMove),_0x18c3b0[_0x5599bc(0xadb)](_0x5599bc(0xbac),handlePointerUp),_0x18c3b0[_0x5599bc(0xadb)](_0x5599bc(0x8c5),handlePointerUp),_0x18c3b0[_0x5599bc(0xadb)](_0x5599bc(0x449),handleWheel),_0x18c3b0['removeEventListener']('touchstart',handlePointerDown),_0x18c3b0[_0x5599bc(0xadb)](_0x5599bc(0x5d2),handlePointerMove),_0x18c3b0[_0x5599bc(0xadb)](_0x5599bc(0xf11),handlePointerUp),_0x18c3b0[_0x5599bc(0x652)](_0x5599bc(0x80b),handlePointerDown),_0x18c3b0['addEventListener'](_0x5599bc(0x300),handlePointerMove),_0x18c3b0[_0x5599bc(0x652)](_0x5599bc(0xbac),handlePointerUp),_0x18c3b0[_0x5599bc(0x652)](_0x5599bc(0x8c5),handlePointerUp),_0x18c3b0[_0x5599bc(0x652)](_0x5599bc(0x449),handleWheel,{'passive':![]}),_0x18c3b0[_0x5599bc(0x652)](_0x5599bc(0x253),handlePointerDown,{'passive':![]}),_0x18c3b0['addEventListener']('touchmove',handlePointerMove,{'passive':![]}),_0x18c3b0[_0x5599bc(0x652)](_0x5599bc(0xf11),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x14a26c=_0x3d653b,_0x4e7c59=document[_0x14a26c(0xb29)](_0x14a26c(0xcf6)),_0x5493a4=document[_0x14a26c(0xb29)](_0x14a26c(0x709));_0x5493a4[_0x14a26c(0xd04)]=_0x14a26c(0x70f)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x46d448=document[_0x14a26c(0xb29)](_0x14a26c(0x382)),_0x2aed51=document['getElementById'](_0x14a26c(0xaa9)),_0x4e0bb1=document[_0x14a26c(0xb29)]('trail-tool-btn'),_0x429a98=document[_0x14a26c(0xb29)](_0x14a26c(0x315)),_0x2c54e4=document[_0x14a26c(0xb29)](_0x14a26c(0x935)),_0x5b9927=document[_0x14a26c(0xb29)]('highlighter-tools-group'),_0x526d90=document[_0x14a26c(0xb29)](_0x14a26c(0xe23)),_0x26a1d9=[_0x46d448,_0x2aed51,_0x4e0bb1,_0x429a98];document[_0x14a26c(0xb29)](_0x14a26c(0x54d))[_0x14a26c(0x652)](_0x14a26c(0xc7b),()=>_0x4e7c59[_0x14a26c(0x26b)][_0x14a26c(0x224)](_0x14a26c(0x932))),document['getElementById'](_0x14a26c(0x9df))[_0x14a26c(0x652)](_0x14a26c(0xc7b),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x14a26c(0xb29)]('scratchpad-clear-btn')[_0x14a26c(0x652)](_0x14a26c(0xc7b),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x14a26c(0xb29)](_0x14a26c(0x896))[_0x14a26c(0x652)](_0x14a26c(0xc7b),undo),document['getElementById']('redo-btn')[_0x14a26c(0x652)](_0x14a26c(0xc7b),redo);const _0x2abb85=_0x4dc571=>{const _0x2a462a=_0x14a26c;_0x26a1d9['forEach'](_0x49f20c=>_0x49f20c['classList']['remove'](_0x2a462a(0xd63))),_0x4dc571[_0x2a462a(0x26b)]['add'](_0x2a462a(0xd63)),_0x2c54e4[_0x2a462a(0x26b)]['add'](_0x2a462a(0x932)),_0x5b9927['classList'][_0x2a462a(0x224)](_0x2a462a(0x932)),_0x526d90[_0x2a462a(0x26b)]['add'](_0x2a462a(0x932));if(activeTool===_0x2a462a(0x836)||activeTool===_0x2a462a(0x76d))_0x2c54e4[_0x2a462a(0x26b)][_0x2a462a(0x937)](_0x2a462a(0x932));else{if(activeTool===_0x2a462a(0xd02))_0x5b9927[_0x2a462a(0x26b)][_0x2a462a(0x937)](_0x2a462a(0x932));else activeTool==='eraser'&&_0x526d90[_0x2a462a(0x26b)]['remove']('hidden');}};_0x46d448[_0x14a26c(0x652)]('click',()=>{const _0x1d531c=_0x14a26c;activeTool=_0x1d531c(0x836),_0x2abb85(_0x46d448);}),_0x2aed51[_0x14a26c(0x652)](_0x14a26c(0xc7b),()=>{const _0xc058d1=_0x14a26c;activeTool=_0xc058d1(0x627),_0x2abb85(_0x2aed51);}),_0x4e0bb1[_0x14a26c(0x652)](_0x14a26c(0xc7b),()=>{const _0x29c341=_0x14a26c;activeTool=_0x29c341(0x76d),_0x2abb85(_0x4e0bb1);}),_0x429a98[_0x14a26c(0x652)](_0x14a26c(0xc7b),()=>{const _0x30cd75=_0x14a26c;activeTool=_0x30cd75(0xd02),_0x2abb85(_0x429a98);}),_0x2c54e4[_0x14a26c(0x948)](_0x14a26c(0xb38))['forEach'](_0x205e26=>{const _0x14d7ed=_0x14a26c;_0x205e26[_0x14d7ed(0x652)](_0x14d7ed(0xc7b),_0x52376d=>{const _0x17a7a9=_0x14d7ed;scratchpadPenSize=parseInt(_0x52376d[_0x17a7a9(0xadf)][_0x17a7a9(0x63c)][_0x17a7a9(0x492)],0xa),_0x2c54e4[_0x17a7a9(0x948)](_0x17a7a9(0xb38))['forEach'](_0x5b306d=>_0x5b306d[_0x17a7a9(0x26b)][_0x17a7a9(0x937)](_0x17a7a9(0xd63))),_0x52376d['target'][_0x17a7a9(0x26b)][_0x17a7a9(0x224)]('active');});}),_0x526d90[_0x14a26c(0x948)](_0x14a26c(0x71e))['forEach'](_0x2216e7=>{const _0x5d87c5=_0x14a26c;_0x2216e7[_0x5d87c5(0x652)](_0x5d87c5(0xc7b),_0x169c3d=>{const _0x1e0d54=_0x5d87c5,_0x20171a=_0x169c3d['currentTarget'];scratchpadEraserSize=parseInt(_0x20171a[_0x1e0d54(0x63c)]['size'],0xa),_0x526d90[_0x1e0d54(0x948)](_0x1e0d54(0x71e))[_0x1e0d54(0x57b)](_0x51db9a=>_0x51db9a['classList'][_0x1e0d54(0x937)](_0x1e0d54(0xd63))),_0x20171a[_0x1e0d54(0x26b)][_0x1e0d54(0x224)](_0x1e0d54(0xd63));});}),_0x2c54e4['querySelectorAll'](_0x14a26c(0x177))['forEach'](_0x361fbe=>{const _0x30656b=_0x14a26c;_0x361fbe[_0x30656b(0x652)](_0x30656b(0xc7b),_0x1af163=>{const _0x2e25ff=_0x30656b;scratchpadPenColor=_0x1af163['target'][_0x2e25ff(0x63c)][_0x2e25ff(0x4ef)],_0x2c54e4[_0x2e25ff(0x948)](_0x2e25ff(0x177))[_0x2e25ff(0x57b)](_0x37c314=>_0x37c314[_0x2e25ff(0x26b)][_0x2e25ff(0x937)](_0x2e25ff(0xd63))),_0x1af163[_0x2e25ff(0xadf)][_0x2e25ff(0x26b)]['add']('active');});}),_0x5b9927[_0x14a26c(0x948)](_0x14a26c(0xdc1))[_0x14a26c(0x57b)](_0x4cee11=>{const _0x407d7b=_0x14a26c;_0x4cee11[_0x407d7b(0x652)](_0x407d7b(0xc7b),_0x13733f=>{const _0xb447f=_0x407d7b;scratchpadHighlighterColor=_0x13733f[_0xb447f(0xadf)]['dataset'][_0xb447f(0x4ef)],_0x5b9927['querySelectorAll'](_0xb447f(0xdc1))['forEach'](_0x97ef01=>_0x97ef01[_0xb447f(0x26b)][_0xb447f(0x937)]('active')),_0x13733f[_0xb447f(0xadf)][_0xb447f(0x26b)][_0xb447f(0x224)](_0xb447f(0xd63));});});const _0x3ac5af=document['getElementById'](_0x14a26c(0xc52)),_0xa75393=document['getElementById'](_0x14a26c(0xde3));_0x3ac5af['addEventListener']('input',_0x3dccf9=>{const _0x7debd=_0x14a26c,_0x462bb3=parseInt(_0x3dccf9[_0x7debd(0xadf)][_0x7debd(0xc4b)],0xa);scratchpadHighlighterSize=_0x462bb3,_0xa75393[_0x7debd(0x6ab)]=_0x462bb3;}),window[_0x14a26c(0x652)](_0x14a26c(0x715),()=>{const _0x3edaed=_0x14a26c;!_0x4e7c59['classList'][_0x3edaed(0xa4c)](_0x3edaed(0x932))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3d653b(0x2c7),'name':_0x3d653b(0x485),'description':_0x3d653b(0xeca),'icon':_0x3d653b(0xe12)},'QUICK_THINKER':{'id':_0x3d653b(0xd51),'name':'เซียนสมองไว','description':_0x3d653b(0xb68),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x3d653b(0xe19),'name':_0x3d653b(0x3dc),'description':_0x3d653b(0x2e7),'icon':_0x3d653b(0x412)},'FIRST_TRY_ACE':{'id':_0x3d653b(0x8c6),'name':_0x3d653b(0xb3b),'description':_0x3d653b(0x99d),'icon':_0x3d653b(0x551)},'COMEBACK_KING':{'id':_0x3d653b(0xf2b),'name':_0x3d653b(0x625),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x3d653b(0x20c)},'SPECIALIST':{'id':_0x3d653b(0x61a),'name':'ผู้เชี่ยวชาญ','description':_0x3d653b(0xbcf),'icon':_0x3d653b(0x207)},'PERSEVERANCE':{'id':_0x3d653b(0x668),'name':'ผู้ไม่ยอมแพ้','description':_0x3d653b(0x1e5),'icon':_0x3d653b(0xb99)}},firebaseConfig={'apiKey':_0x3d653b(0x7d6),'authDomain':_0x3d653b(0x931),'projectId':_0x3d653b(0x785),'storageBucket':'newappai.firebasestorage.app','messagingSenderId':_0x3d653b(0xd85),'appId':'1:516499432840:web:7b2a9a571fad2e3d68463d','measurementId':_0x3d653b(0x3ad)},appId=typeof __app_id!=='undefined'?__app_id:_0x3d653b(0x428),adminView=document[_0x3d653b(0xb29)](_0x3d653b(0xe07)),studentView=document[_0x3d653b(0xb29)](_0x3d653b(0xe5d)),projectDashboardView=document[_0x3d653b(0xb29)](_0x3d653b(0x7da)),projectDetailView=document['getElementById'](_0x3d653b(0xdd6)),quizResultsView=document['getElementById'](_0x3d653b(0xa70)),projectList=document[_0x3d653b(0xb29)]('project-list'),noProjectsMsg=document[_0x3d653b(0xb29)](_0x3d653b(0x69a)),projectTitle=document[_0x3d653b(0xb29)](_0x3d653b(0xbf5)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x3d653b(0xb29)](_0x3d653b(0x5c7)),messageModal=document[_0x3d653b(0xb29)](_0x3d653b(0x3ed)),modalMessage=document[_0x3d653b(0xb29)](_0x3d653b(0x595)),createProjectModal=document[_0x3d653b(0xb29)]('create-project-modal'),adminPasswordModal=document['getElementById'](_0x3d653b(0xd7d)),confirmationModal=document['getElementById'](_0x3d653b(0x56e)),userIdDisplay=document[_0x3d653b(0xb29)](_0x3d653b(0x236)),topicTab=document[_0x3d653b(0xb29)](_0x3d653b(0xe64)),textTab=document[_0x3d653b(0xb29)](_0x3d653b(0x825)),topicInputArea=document[_0x3d653b(0xb29)](_0x3d653b(0x5a5)),textInputArea=document[_0x3d653b(0xb29)](_0x3d653b(0xb33)),manageTab=document[_0x3d653b(0xb29)]('manage-tab'),resultsTab=document[_0x3d653b(0xb29)](_0x3d653b(0x212)),leaderboardTab=document[_0x3d653b(0xb29)](_0x3d653b(0x930)),manageTabContent=document['getElementById'](_0x3d653b(0x7c4)),resultsTabContent=document[_0x3d653b(0xb29)]('results-tab-content'),leaderboardTabContent=document[_0x3d653b(0xb29)](_0x3d653b(0x929)),projectQuizzesList=document[_0x3d653b(0xb29)](_0x3d653b(0xd8e)),fileTab=document[_0x3d653b(0xb29)](_0x3d653b(0x6d4)),fileInputArea=document['getElementById'](_0x3d653b(0x6be)),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document['getElementById'](_0x3d653b(0x8a9)),worksheetInputArea=document[_0x3d653b(0xb29)]('worksheet-input-area'),generateWorksheetBtn=document[_0x3d653b(0xb29)](_0x3d653b(0xbb7)),studentInitialView=document[_0x3d653b(0xb29)](_0x3d653b(0xa06)),studentNameSelectionView=document['getElementById'](_0x3d653b(0xb57)),studentQuizArea=document[_0x3d653b(0xb29)](_0x3d653b(0x76a)),studentResultArea=document[_0x3d653b(0xb29)](_0x3d653b(0xb59)),studentReadingArea=document['getElementById'](_0x3d653b(0xb4c)),loadQuizBtn=document[_0x3d653b(0xb29)](_0x3d653b(0x376)),startQuizBtn=document[_0x3d653b(0xb29)]('start-quiz-btn'),studentJoinGameView=document[_0x3d653b(0xb29)](_0x3d653b(0xd5d)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document['getElementById'](_0x3d653b(0x19c)),moveQuizModal=document[_0x3d653b(0xb29)](_0x3d653b(0xf01)),quizSettingsModal=document[_0x3d653b(0xb29)](_0x3d653b(0x8c2)),quizStatusModal=document['getElementById'](_0x3d653b(0x6ef)),liveGameView=document[_0x3d653b(0xb29)]('live-game-view');function handleFixLessonLatex(){const _0x430ba2=_0x3d653b,_0x3a501b=document[_0x430ba2(0xb29)](_0x430ba2(0x6fa));if(!_0x3a501b){showMessage(_0x430ba2(0x471));return;}const _0x1475a2=_0x3a501b[_0x430ba2(0x948)]([_0x430ba2(0xc46),_0x430ba2(0xd79),_0x430ba2(0xaa3),_0x430ba2(0x44a),_0x430ba2(0x51d)][_0x430ba2(0x87d)](','));let _0x5bc03d=0x0;const _0x50f65d=_0x265aee=>_0x265aee[_0x430ba2(0x6ab)]||'',_0x5be943=(_0x505c47,_0x516de6)=>{const _0x40c3e5=_0x430ba2;if(_0x505c47[_0x40c3e5(0x327)]&&_0x505c47[_0x40c3e5(0x327)](_0x40c3e5(0xe8a)))return;_0x505c47['textContent']=_0x516de6;},_0x37c7d4=_0x3840f5=>_0x3840f5[_0x430ba2(0x502)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x430ba2(0x502)](/\r\n?/g,'\x0a'),_0x4d55de=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5eb4c2=_0x539257=>{const _0x1bcbfc=_0x430ba2;let _0x39d393=_0x539257[_0x1bcbfc(0x46f)]();const _0x4baee9=[_0x1bcbfc(0x570),_0x1bcbfc(0x9a0),_0x1bcbfc(0xaf1),_0x1bcbfc(0xc78),_0x1bcbfc(0x922),_0x1bcbfc(0x4a8),_0x1bcbfc(0xb66),_0x1bcbfc(0xe00),_0x1bcbfc(0x1c9),_0x1bcbfc(0x6a7),'le','ge',_0x1bcbfc(0x31d),'pm',_0x1bcbfc(0x7cb),'sin',_0x1bcbfc(0x92c),_0x1bcbfc(0x173),_0x1bcbfc(0xee3),'ln','sum',_0x1bcbfc(0xcf7),_0x1bcbfc(0xc81),'left','right',_0x1bcbfc(0x29b),_0x1bcbfc(0xde1),_0x1bcbfc(0x8ae),_0x1bcbfc(0x210)];_0x4baee9[_0x1bcbfc(0x57b)](_0x509228=>{const _0x17ffef=_0x1bcbfc;_0x39d393=_0x39d393[_0x17ffef(0x502)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x509228+'\x5cb','g'),(_0x138fcf,_0x5a048e)=>_0x5a048e+'\x5c'+_0x509228);});const _0x5b9d13=[[/×/g,_0x1bcbfc(0x8ee)],[/·/g,_0x1bcbfc(0x61c)],[/÷/g,_0x1bcbfc(0x557)],[/≤/g,_0x1bcbfc(0xb00)],[/≥/g,'\x5cge'],[/≠/g,_0x1bcbfc(0x9ce)],[/±/g,_0x1bcbfc(0x9a2)],[/∑/g,_0x1bcbfc(0xa1a)],[/−/g,'-']];return _0x5b9d13[_0x1bcbfc(0x57b)](([_0x35857c,_0x53aa27])=>{const _0x2b7768=_0x1bcbfc;_0x39d393=_0x39d393[_0x2b7768(0x502)](_0x35857c,_0x53aa27);}),_0x39d393=_0x39d393[_0x1bcbfc(0x502)](/√\s*([A-Za-z0-9]+)/g,_0x1bcbfc(0x735)),_0x39d393=_0x39d393[_0x1bcbfc(0x502)](/(\d+)\s*%/g,_0x1bcbfc(0x6f9)),_0x39d393;},_0x23c0db=_0x1455c1=>{const _0x457cbb=_0x430ba2;if(/\$|\\\(|\\\[/['test'](_0x1455c1))return _0x1455c1;if(!_0x4d55de[_0x457cbb(0xe9d)](_0x1455c1))return _0x1455c1;const _0x44923a=_0x1455c1[_0x457cbb(0xcc2)](/^\s*/)[0x0],_0x47f1a6=_0x1455c1[_0x457cbb(0xcc2)](/\s*$/)[0x0],_0x58f35a=_0x1455c1[_0x457cbb(0x46f)]();return _0x44923a+'$'+_0x5eb4c2(_0x58f35a)+'$'+_0x47f1a6;};_0x1475a2[_0x430ba2(0x57b)](_0x18493d=>{const _0x35e0ac=_0x430ba2,_0x50d9b1=_0x50f65d(_0x18493d);let _0x18e0da=_0x37c7d4(_0x50d9b1);_0x18e0da=_0x18e0da[_0x35e0ac(0x502)](/\$([^$]*?)\$/g,(_0x2016c0,_0x3b7424)=>'$'+_0x5eb4c2(_0x3b7424)+'$');const _0x5d2cfa=_0x18e0da['split'](/(\s+)/),_0x373500=_0x5d2cfa[_0x35e0ac(0x643)](_0x247574=>{const _0x18f4cc=_0x35e0ac;if(/\s+/[_0x18f4cc(0xe9d)](_0x247574))return _0x247574;return _0x23c0db(_0x247574);});_0x18e0da=_0x373500['join'](''),_0x18e0da!==_0x50d9b1&&(_0x5be943(_0x18493d,_0x18e0da),_0x5bc03d++);});if(_0x5bc03d>0x0){showMessage(_0x430ba2(0x9cd)+_0x5bc03d+'\x20จุดเรียบร้อยแล้ว');try{window[_0x430ba2(0x348)]&&MathJax[_0x430ba2(0x7e6)]&&MathJax[_0x430ba2(0x7e6)]([_0x3a501b]);}catch(_0x18b634){console[_0x430ba2(0x3b5)](_0x430ba2(0x83b),_0x18b634);}}else showMessage(_0x430ba2(0xd71));}function handleAutoFixLatex(){const _0x28ba73=_0x3d653b,_0x1296e5=document[_0x28ba73(0xb29)](_0x28ba73(0x227))||document,_0x357dad=_0x1296e5[_0x28ba73(0x948)](_0x28ba73(0x820));let _0x3957b4=0x0;const _0x56ebf6=_0x57929f=>_0x28ba73(0xc4b)in _0x57929f?String(_0x57929f[_0x28ba73(0xc4b)]):_0x57929f['innerText']!==undefined?_0x57929f[_0x28ba73(0x1a0)]:_0x57929f['textContent']||'',_0x9dc078=(_0x45a58f,_0x298d4f)=>{const _0x2e9f16=_0x28ba73;if(_0x2e9f16(0xc4b)in _0x45a58f){_0x45a58f[_0x2e9f16(0xc4b)]=_0x298d4f;return;}if(_0x45a58f[_0x2e9f16(0x327)]&&_0x45a58f[_0x2e9f16(0x327)](_0x2e9f16(0xe8a)))return;if(_0x45a58f[_0x2e9f16(0x1a0)]!==undefined)_0x45a58f[_0x2e9f16(0x1a0)]=_0x298d4f;else _0x45a58f[_0x2e9f16(0x6ab)]=_0x298d4f;},_0x314504=_0x1c06b5=>_0x1c06b5['replace'](/\u00A0/g,'\x20')[_0x28ba73(0x502)](/\u200B/g,'')[_0x28ba73(0x502)](/\r\n?/g,'\x0a'),_0x19016e=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5ce219=_0x4624e2=>{const _0x2d5bd0=_0x28ba73;let _0x1ee2d3=_0x4624e2[_0x2d5bd0(0x46f)]();_0x1ee2d3=_0x1ee2d3[_0x2d5bd0(0x502)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x1ee2d3=_0x1ee2d3['replace'](/\bfrac(\d)(\d)/g,_0x2d5bd0(0xbe3));const _0x37fe85=[_0x2d5bd0(0x570),_0x2d5bd0(0xc78),'times',_0x2d5bd0(0xb66),'div',_0x2d5bd0(0x1c9),_0x2d5bd0(0x6a7),_0x2d5bd0(0x31d),'pm',_0x2d5bd0(0x90a),_0x2d5bd0(0x92c),_0x2d5bd0(0x173),_0x2d5bd0(0xee3),'ln'];_0x37fe85[_0x2d5bd0(0x57b)](_0x538480=>{const _0x10fb46=_0x2d5bd0;_0x1ee2d3=_0x1ee2d3[_0x10fb46(0x502)](new RegExp(_0x10fb46(0x326)+_0x538480+'\x5cb','g'),(_0x4b8b60,_0x1e7141)=>_0x1e7141+'\x5c'+_0x538480);});const _0x35cf34=[[/×/g,_0x2d5bd0(0x8ee)],[/·/g,_0x2d5bd0(0x61c)],[/÷/g,_0x2d5bd0(0x557)],[/≤/g,_0x2d5bd0(0xb00)],[/≥/g,_0x2d5bd0(0xabe)],[/≠/g,_0x2d5bd0(0x9ce)],[/±/g,_0x2d5bd0(0x9a2)]];return _0x35cf34[_0x2d5bd0(0x57b)](([_0xf66ce6,_0x2aec6b])=>{const _0x48c91d=_0x2d5bd0;_0x1ee2d3=_0x1ee2d3[_0x48c91d(0x502)](_0xf66ce6,_0x2aec6b);}),_0x1ee2d3;},_0x5f5472=_0x56249a=>{const _0x4165ed=_0x28ba73;if(/\$|\\\(|\\\[/[_0x4165ed(0xe9d)](_0x56249a))return _0x56249a;if(!_0x19016e[_0x4165ed(0xe9d)](_0x56249a))return _0x56249a;const _0x1251ab=_0x56249a[_0x4165ed(0xcc2)](/^\s*/)[0x0],_0x350dcb=_0x56249a[_0x4165ed(0xcc2)](/\s*$/)[0x0],_0x187631=_0x56249a[_0x4165ed(0x46f)]();return _0x1251ab+'$'+_0x5ce219(_0x187631)+'$'+_0x350dcb;};_0x357dad[_0x28ba73(0x57b)](_0x428af9=>{const _0x2d1ef5=_0x28ba73,_0x2cf37f=_0x56ebf6(_0x428af9);let _0x4137c7=_0x314504(_0x2cf37f);_0x4137c7=_0x4137c7[_0x2d1ef5(0x502)](/\$([^$]*?)\$/g,(_0x1bc858,_0x377135)=>'$'+_0x5ce219(_0x377135)+'$');const _0x50c425=_0x4137c7[_0x2d1ef5(0x28c)](/(\s+)/),_0x2874b5=_0x50c425[_0x2d1ef5(0x643)](_0x49300b=>/\s+/['test'](_0x49300b)?_0x49300b:_0x5f5472(_0x49300b));_0x4137c7=_0x2874b5[_0x2d1ef5(0x87d)](''),_0x4137c7!==_0x2cf37f&&(_0x9dc078(_0x428af9,_0x4137c7),_0x3957b4++);});if(_0x3957b4>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x3957b4+_0x28ba73(0x1be));try{if(window[_0x28ba73(0x348)]&&MathJax[_0x28ba73(0x7e6)])MathJax[_0x28ba73(0x7e6)]();}catch(_0x4e557a){}}else showMessage(_0x28ba73(0x782));}async function listenForCustomMathTopics(){const _0x22c72d=_0x3d653b,_0x24379b=collection(db,_0x22c72d(0xc9f)+appId+'/public/data/customMathTopics');onSnapshot(_0x24379b,_0x3e38e3=>{const _0x361129=_0x22c72d;customMathTopics=_0x3e38e3[_0x361129(0x574)][_0x361129(0x643)](_0xb358e9=>({'id':_0xb358e9['id'],..._0xb358e9[_0x361129(0xcbd)]()})),renderTopicCheckboxes();},_0x2e2ff0=>{const _0x424c38=_0x22c72d;console[_0x424c38(0x3b5)](_0x424c38(0x671),_0x2e2ff0);});}function handleSelectAllTopics(){const _0x1668b7=_0x3d653b,_0x5541af=document[_0x1668b7(0xb29)](_0x1668b7(0x55e)),_0x42ec77=_0x5541af[_0x1668b7(0x948)](_0x1668b7(0x6b2));_0x42ec77['forEach'](_0x52d381=>{_0x52d381['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x52d423=_0x3d653b,_0x2b3244=document['getElementById'](_0x52d423(0x55e)),_0x2a5654=_0x2b3244[_0x52d423(0x948)](_0x52d423(0x6b2));_0x2a5654[_0x52d423(0x57b)](_0x1c2837=>{const _0x2dd499=_0x52d423;_0x1c2837[_0x2dd499(0x21d)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x14dd84){const _0x2efad0=_0x3d653b;if(!_0x14dd84)return;try{const _0x230068=doc(db,_0x2efad0(0xc9f)+appId+_0x2efad0(0xc6b),_0x14dd84);await deleteDoc(_0x230068),showMessage(_0x2efad0(0x575));}catch(_0x4476c3){console[_0x2efad0(0x3b5)]('Error\x20deleting\x20custom\x20topic:',_0x4476c3),showMessage(_0x2efad0(0xdfc));}}async function handleAddCustomMathTopic(){const _0x42b4dc=_0x3d653b,_0x4395bd=document[_0x42b4dc(0xb29)]('custom-math-topic-input'),_0xb9906b=_0x4395bd[_0x42b4dc(0xc4b)][_0x42b4dc(0x46f)]();if(!_0xb9906b){showMessage(_0x42b4dc(0x9d8));return;}if(!userId){showMessage(_0x42b4dc(0x237));return;}try{const _0x4c4f30=collection(db,'artifacts/'+appId+_0x42b4dc(0xc6b));await addDoc(_0x4c4f30,{'name':_0xb9906b,'createdAt':serverTimestamp()}),_0x4395bd[_0x42b4dc(0xc4b)]='',showMessage(_0x42b4dc(0x465)+_0xb9906b+'\x22\x20สำเร็จ');}catch(_0x3ee604){console[_0x42b4dc(0x3b5)](_0x42b4dc(0x257),_0x3ee604),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x184489=_0x3d653b;showConfirmation(_0x184489(0x33e),async()=>{const _0x5e4597=_0x184489,_0x12cd32=document[_0x5e4597(0xb29)](_0x5e4597(0x6dc)),_0x2601c1=document[_0x5e4597(0xb29)](_0x5e4597(0x193)),_0x1e5d02=_0x2601c1[_0x5e4597(0x6ab)];_0x12cd32[_0x5e4597(0x26b)][_0x5e4597(0x937)](_0x5e4597(0x932)),_0x2601c1[_0x5e4597(0x6ab)]=_0x5e4597(0xa26);try{const _0x3bc893=collection(db,_0x5e4597(0xc9f)+appId+_0x5e4597(0xd47)),_0x58926d=await getDocs(_0x3bc893);if(_0x58926d[_0x5e4597(0xd9a)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0xc59f05=writeBatch(db);let _0x2af50a=0x0;_0x58926d[_0x5e4597(0x57b)](_0x5d2e6f=>{const _0x1e7b73=_0x5e4597,_0x24fa5e=_0x5d2e6f[_0x1e7b73(0xcbd)](),_0x316a17=_0x5d2e6f['id'];if(_0x24fa5e['questions']&&_0x24fa5e['questions'][_0x1e7b73(0xe84)]>0x0&&!_0x24fa5e[_0x1e7b73(0xaff)][0x0][_0x1e7b73(0x814)]('id')){console[_0x1e7b73(0xee3)](_0x1e7b73(0x684)+_0x316a17+'\x20('+_0x24fa5e[_0x1e7b73(0xf14)]+')'),_0x2af50a++;const _0x3e9078=_0x24fa5e[_0x1e7b73(0xaff)][_0x1e7b73(0x643)]((_0x30cb3d,_0x2321c6)=>{const _0xe97b25=_0x1e7b73;return{..._0x30cb3d,'id':_0x30cb3d['id']||'q_'+Date[_0xe97b25(0xbd7)]()+'_'+_0x316a17+'_'+_0x2321c6};}),_0x3f29f9=doc(db,_0x1e7b73(0xc9f)+appId+'/public/data/quizzes',_0x316a17);_0xc59f05[_0x1e7b73(0x5c5)](_0x3f29f9,{'questions':_0x3e9078});}}),_0x2af50a>0x0?(_0x2601c1[_0x5e4597(0x6ab)]=_0x5e4597(0xe81)+_0x2af50a+_0x5e4597(0x4f4),await _0xc59f05['commit'](),showMessage(_0x5e4597(0x830)+_0x2af50a+_0x5e4597(0xb98))):showMessage(_0x5e4597(0xc15));}catch(_0x54a31b){console[_0x5e4597(0x3b5)]('Error\x20updating\x20old\x20quizzes:',_0x54a31b),showMessage(_0x5e4597(0x19f)+_0x54a31b[_0x5e4597(0x837)]);}finally{_0x12cd32[_0x5e4597(0x26b)][_0x5e4597(0x224)]('hidden'),_0x2601c1[_0x5e4597(0x6ab)]=_0x1e5d02;}});}async function handleBulkUpdateQuizSettings(){const _0x366a8e=_0x3d653b,_0x268f1d={'shuffle':document[_0x366a8e(0xb29)](_0x366a8e(0x843))[_0x366a8e(0xc4b)],'resultsDisplay':document[_0x366a8e(0xb29)](_0x366a8e(0xa2a))['value'],'loopUntilPass':document[_0x366a8e(0xb29)](_0x366a8e(0xac7))[_0x366a8e(0x21d)],'isConfidenceScoringEnabled':document[_0x366a8e(0xb29)](_0x366a8e(0xd82))[_0x366a8e(0x21d)],'confidenceMode':document['getElementById']('bulk-confidence-mode-select')['value']};try{showMessage(_0x366a8e(0x928));const _0xec5f9e=await getDocs(collection(db,_0x366a8e(0xc9f)+appId+_0x366a8e(0xd47))),_0x32bb4c=_0xec5f9e['docs'][_0x366a8e(0x643)](_0x3e826e=>({'id':_0x3e826e['id'],'data':_0x3e826e['data']()})),_0x5efe6e=_0x32bb4c[_0x366a8e(0xe84)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x5efe6e+_0x366a8e(0xa86),async()=>{const _0x3f72ed=_0x366a8e,_0x37984c=document[_0x3f72ed(0xb29)](_0x3f72ed(0x55d));_0x37984c[_0x3f72ed(0xeee)]=!![],_0x37984c[_0x3f72ed(0xd04)]=_0x3f72ed(0xa55);try{const _0x5056a9=writeBatch(db);_0x32bb4c[_0x3f72ed(0x57b)](_0x13fbde=>{const _0x1cfdae=_0x3f72ed,_0x25f917=doc(db,_0x1cfdae(0xc9f)+appId+_0x1cfdae(0xd47),_0x13fbde['id']),_0xb5166e={..._0x13fbde[_0x1cfdae(0xcbd)][_0x1cfdae(0x48b)]||{},..._0x268f1d};_0x5056a9[_0x1cfdae(0x5c5)](_0x25f917,{'settings':_0xb5166e});}),await _0x5056a9['commit'](),document[_0x3f72ed(0xb29)](_0x3f72ed(0xc64))[_0x3f72ed(0x26b)][_0x3f72ed(0x224)](_0x3f72ed(0x932)),showMessage(_0x3f72ed(0x61e)+_0x5efe6e+_0x3f72ed(0x8be));}catch(_0x572fdc){console['error'](_0x3f72ed(0xf25),_0x572fdc),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x37984c[_0x3f72ed(0xeee)]=![],_0x37984c[_0x3f72ed(0xd04)]=_0x3f72ed(0x1ad);}});}catch(_0x220845){console[_0x366a8e(0x3b5)](_0x366a8e(0xe52),_0x220845),showMessage(_0x366a8e(0xe5a));}}async function handleSaveProjectName(){const _0x37fefd=_0x3d653b,_0xadec62=document[_0x37fefd(0xb29)](_0x37fefd(0xbf5)),_0x1bf161=document[_0x37fefd(0xb29)]('save-project-name-btn'),_0x12bbda=_0xadec62['textContent'][_0x37fefd(0x46f)]();if(!_0x12bbda||!currentProjectId){showMessage(_0x37fefd(0x28b)),_0xadec62[_0x37fefd(0x6ab)]=currentProjectData[_0x37fefd(0xa05)];return;}_0x1bf161['disabled']=!![],_0x1bf161[_0x37fefd(0xd04)]=_0x37fefd(0xee9);try{const _0x23448d=doc(db,'artifacts/'+appId+_0x37fefd(0x8ef),currentProjectId);await updateDoc(_0x23448d,{'projectName':_0x12bbda}),currentProjectData&&(currentProjectData[_0x37fefd(0xa05)]=_0x12bbda),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x5e8a2c){console[_0x37fefd(0x3b5)](_0x37fefd(0xcbe),_0x5e8a2c),showMessage(_0x37fefd(0xe36)),_0xadec62[_0x37fefd(0x6ab)]=currentProjectData[_0x37fefd(0xa05)];}finally{_0x1bf161['classList']['add'](_0x37fefd(0x932)),_0x1bf161[_0x37fefd(0xeee)]=![],_0x1bf161[_0x37fefd(0xd04)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x5d5078,_0x759ae4){const _0x36c59c=_0x3d653b,_0x43df59=document[_0x36c59c(0xb29)]('lesson-view-modal'),_0x7c3120=document['getElementById'](_0x36c59c(0x27f)),_0x1648ca=document['getElementById'](_0x36c59c(0x522)),_0x48a33a=document[_0x36c59c(0xb29)]('lesson-sections-container');_0x7c3120[_0x36c59c(0x6ab)]='กำลังสร้างแบบทดสอบ:\x20'+_0x5d5078,_0x48a33a[_0x36c59c(0x26b)][_0x36c59c(0x224)]('hidden'),_0x1648ca['classList'][_0x36c59c(0x937)](_0x36c59c(0x932)),_0x43df59[_0x36c59c(0x26b)]['remove'](_0x36c59c(0x932)),generatePracticeTest(_0x5d5078,_0x759ae4)[_0x36c59c(0xdcf)](_0x476f6b=>{const _0xbe5104=_0x36c59c;console['error'](_0xbe5104(0x889),_0x476f6b),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x43df59[_0xbe5104(0x26b)][_0xbe5104(0x224)](_0xbe5104(0x932));});}async function generatePracticeTest(_0x22fe40,_0x54d6cf){const _0x1fcb52=_0x3d653b;[_0x1fcb52(0xa73),_0x1fcb52(0x580),'applicationContent','summaryContent'][_0x1fcb52(0x57b)](_0x5ea251=>{const _0x24c325=_0x1fcb52,_0xce2d82=document['getElementById'](_0x5ea251)['parentElement'];_0xce2d82&&(_0xce2d82[_0x24c325(0xa90)]['display']=_0x24c325(0x1a6));});try{const _0x32d24e=_0x1fcb52(0x669),_0x2afa67=_0x1fcb52(0xa2c)+_0x54d6cf+'\x27\x20ในหัวข้อ\x20\x27'+_0x22fe40+_0x1fcb52(0x88a),_0x1ecb94=await callGemini(_0x2afa67,!![]),_0x86a1ad=document[_0x1fcb52(0xb29)](_0x1fcb52(0x27f)),_0x1160e7=document[_0x1fcb52(0xb29)]('lesson-loader'),_0x25d12f=document[_0x1fcb52(0xb29)](_0x1fcb52(0x6ac)),_0x40b358=document[_0x1fcb52(0xb29)](_0x1fcb52(0xe9e))[_0x1fcb52(0x3c2)];_0x86a1ad[_0x1fcb52(0x1a0)]=_0x1fcb52(0x587)+_0x22fe40['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x54d6cf+')',currentApplicationData=JSON[_0x1fcb52(0xf2d)](_0x1ecb94);const _0x1e4ee5=document[_0x1fcb52(0xb29)](_0x1fcb52(0xe9e));_0x1e4ee5[_0x1fcb52(0xd04)]=currentApplicationData[_0x1fcb52(0x643)]((_0x526d06,_0x2a1a39)=>_0x1fcb52(0x2a9)+(_0x2a1a39+0x1)+'.\x20'+marked[_0x1fcb52(0x84e)](_0x526d06[_0x1fcb52(0x92b)])+_0x1fcb52(0x457)+_0x2a1a39+_0x1fcb52(0xc44)+_0x526d06[_0x1fcb52(0x802)][_0x1fcb52(0x643)]((_0xb50c6,_0x3e35c9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x2a1a39+',\x20'+_0x3e35c9+_0x1fcb52(0x59a)+String['fromCharCode'](0x61+_0x3e35c9)+'.\x20'+marked[_0x1fcb52(0x84e)](_0xb50c6)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1fcb52(0x87d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),window[_0x1fcb52(0x348)]&&MathJax[_0x1fcb52(0x7e6)]([_0x1e4ee5]),_0x40b358&&(_0x40b358[_0x1fcb52(0xa90)]['display']='block'),_0x1160e7[_0x1fcb52(0x26b)][_0x1fcb52(0x224)]('hidden'),_0x25d12f['classList'][_0x1fcb52(0x937)](_0x1fcb52(0x932));}catch(_0x45482b){console[_0x1fcb52(0x3b5)](_0x45482b);throw _0x45482b;}}async function callGemini(_0x12c321,_0x5d9a4f=![]){const _0x1a34a4=_0x3d653b,_0x12531f=_0x1a34a4(0x678),_0x13c884=_0x1a34a4(0x879)+_0x12531f,_0x18b1f7={'contents':[{'parts':[{'text':_0x12c321}]}]};_0x5d9a4f&&(_0x18b1f7['generationConfig']={'responseMimeType':_0x1a34a4(0xee0)},_0x12c321[_0x1a34a4(0xecb)](_0x1a34a4(0xe0d))?_0x18b1f7[_0x1a34a4(0xa6d)]['responseSchema']={'type':_0x1a34a4(0x4d4),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x1a34a4(0x4d4),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x1a34a4(0xea8),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x1a34a4(0x43c)},'subTopics':{'type':_0x1a34a4(0xea8),'items':{'type':_0x1a34a4(0x43c)}}},'required':['topicName',_0x1a34a4(0x9fd)]}}},'required':['sara',_0x1a34a4(0x30a)]}}},'required':['gradeLevel','curriculum']}:_0x18b1f7[_0x1a34a4(0xa6d)][_0x1a34a4(0x717)]={'type':_0x1a34a4(0xea8),'items':{'type':'OBJECT','properties':{'question':{'type':_0x1a34a4(0x43c)},'options':{'type':_0x1a34a4(0xea8),'items':{'type':_0x1a34a4(0x43c)}},'answer':{'type':'NUMBER'}},'required':[_0x1a34a4(0x92b),_0x1a34a4(0x802),_0x1a34a4(0xa5b)]}});try{const _0x4c9f61=await fetch(_0x13c884,{'method':_0x1a34a4(0xc7c),'headers':{'Content-Type':_0x1a34a4(0xee0)},'body':JSON[_0x1a34a4(0x437)](_0x18b1f7)});if(!_0x4c9f61['ok']){const _0x2e8ba1=await _0x4c9f61[_0x1a34a4(0x922)]();console[_0x1a34a4(0x3b5)](_0x1a34a4(0xc68),_0x2e8ba1);throw new Error(_0x1a34a4(0x799)+_0x4c9f61[_0x1a34a4(0x389)]);}const _0x1f30f2=await _0x4c9f61[_0x1a34a4(0x385)]();if(_0x1f30f2[_0x1a34a4(0xb19)]&&_0x1f30f2['candidates'][0x0][_0x1a34a4(0x220)]&&_0x1f30f2[_0x1a34a4(0xb19)][0x0]['content'][_0x1a34a4(0x3c7)][0x0])return _0x1f30f2[_0x1a34a4(0xb19)][0x0]['content'][_0x1a34a4(0x3c7)][0x0]['text'];else{console[_0x1a34a4(0x3b5)](_0x1a34a4(0x312),_0x1f30f2);if(_0x1f30f2[_0x1a34a4(0xb19)]&&_0x1f30f2[_0x1a34a4(0xb19)][0x0][_0x1a34a4(0xab1)]===_0x1a34a4(0x360))return JSON[_0x1a34a4(0x437)]({'error':_0x1a34a4(0x4b6)});throw new Error(_0x1a34a4(0x70a));}}catch(_0x1a8670){console[_0x1a34a4(0x3b5)]('Error\x20calling\x20Gemini\x20API:',_0x1a8670);throw _0x1a8670;}}async function generateLesson(_0x43c794=null,_0x574123=null){const _0x475c92=_0x3d653b,_0x39c061=_0x43c794,_0x59e3a1=_0x574123||_0x475c92(0xa2f),_0xa008f9=document['getElementById']('lesson-loader'),_0x26fc6b=document[_0x475c92(0xb29)](_0x475c92(0x2bd));_0x26fc6b[_0x475c92(0x6ab)]=_0x475c92(0x72f)+_0x39c061+_0x475c92(0x4e3);try{let _0x5e0b72=[];const _0x22cd0f=document[_0x475c92(0xb29)](_0x475c92(0x341))?.[_0x475c92(0xc4b)][_0x475c92(0x46f)]();if(_0x22cd0f)try{_0x26fc6b[_0x475c92(0x6ab)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x4bc40c=await fetchFileFromUrl(_0x22cd0f,_0x475c92(0x3cc)),_0x15a9bb=await new Promise((_0x5d7c66,_0x11c776)=>{const _0x33bc5a=_0x475c92,_0x39a8f3=new FileReader();_0x39a8f3[_0x33bc5a(0x4ab)](_0x4bc40c),_0x39a8f3[_0x33bc5a(0x29f)]=()=>_0x5d7c66(_0x39a8f3[_0x33bc5a(0xf1f)]['split'](',')[0x1]),_0x39a8f3['onerror']=_0x11c776;});_0x5e0b72[_0x475c92(0xf06)]({'inlineData':{'mimeType':_0x4bc40c[_0x475c92(0x596)],'data':_0x15a9bb}});}catch(_0x93b364){console[_0x475c92(0x3b5)](_0x475c92(0x6cb),_0x93b364),showMessage(_0x475c92(0xca2));}const _0x3dd2eb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x39c061+_0x475c92(0x51c)+_0x39c061+_0x475c92(0x613);_0x26fc6b[_0x475c92(0x6ab)]=_0x475c92(0x72f)+_0x39c061+_0x475c92(0x4e3);const _0x143c86=_0x475c92(0x51f)+_0x59e3a1+_0x475c92(0x3eb)+_0x39c061+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x3dd2eb+_0x475c92(0x541),_0x28f994='สำหรับหัวข้อ\x20\x27'+_0x39c061+_0x475c92(0x7f1)+_0x59e3a1+_0x475c92(0x1d1)+_0x3dd2eb+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x4584d1=_0x475c92(0x71f),_0x9e2a77=_0x475c92(0xa2c)+_0x59e3a1+'\x27\x20ในหัวข้อ\x20\x27'+_0x39c061+_0x475c92(0x410)+_0x3dd2eb+_0x475c92(0xe67)+_0x4584d1+_0x475c92(0x4ca),_0x4225ff=_0x475c92(0xe82)+_0x39c061+_0x475c92(0x870)+_0x59e3a1+_0x475c92(0x484)+_0x3dd2eb+_0x475c92(0x179),_0x5c846f={'type':_0x475c92(0xea8),'items':{'type':_0x475c92(0x4d4),'properties':{'question':{'type':_0x475c92(0x43c)},'options':{'type':_0x475c92(0xea8),'items':{'type':_0x475c92(0x43c)}},'answer':{'type':'NUMBER'}},'required':[_0x475c92(0x92b),'options',_0x475c92(0xa5b)]}},[_0x285ee3,_0x2f2367,_0x5806f7,_0x206806]=await Promise[_0x475c92(0x689)]([handleApiCall([{'text':_0x143c86},..._0x5e0b72],_0x475c92(0xd59),null,null,![]),handleApiCall([{'text':_0x28f994},..._0x5e0b72],_0x475c92(0xd59),null,null,![]),handleApiCall([{'text':_0x9e2a77},..._0x5e0b72],_0x475c92(0xd59),_0x5c846f,null,![]),handleApiCall([{'text':_0x4225ff},..._0x5e0b72],'...',null,null,![])]),_0x5d7320=JSON['stringify'](_0x5806f7||[]),_0x64e556=document[_0x475c92(0xb29)]('lesson-view-title'),_0x136165=document[_0x475c92(0xb29)](_0x475c92(0x6ac));_0x64e556[_0x475c92(0x1a0)]=_0x475c92(0xdbc)+_0x39c061['replace'](/•\s/g,'')+_0x475c92(0x8a5)+_0x59e3a1+')',[_0x475c92(0xa73),_0x475c92(0x580),'summaryContent'][_0x475c92(0x57b)](_0xcc0813=>{const _0x37fa48=_0x475c92;document['getElementById'](_0xcc0813)[_0x37fa48(0xd04)]='';}),document[_0x475c92(0xb29)](_0x475c92(0xa73))[_0x475c92(0xd04)]=_0x285ee3?marked['parse'](_0x285ee3):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x475c92(0xb29)]('memoryContent')[_0x475c92(0xd04)]=_0x2f2367?marked[_0x475c92(0xf2d)](_0x2f2367):_0x475c92(0x47e),document[_0x475c92(0xb29)](_0x475c92(0x913))[_0x475c92(0xd04)]=_0x206806?marked[_0x475c92(0xf2d)](_0x206806):_0x475c92(0x47e),currentApplicationData=JSON[_0x475c92(0xf2d)](_0x5d7320);const _0x3378b2=document[_0x475c92(0xb29)](_0x475c92(0xe9e));_0x3378b2[_0x475c92(0xd04)]=(currentApplicationData||[])['map']((_0x21ad9e,_0x1f037f)=>_0x475c92(0x2a9)+(_0x1f037f+0x1)+'.\x20'+marked['parseInline'](_0x21ad9e[_0x475c92(0x92b)]||'')+_0x475c92(0x457)+_0x1f037f+_0x475c92(0xc44)+(_0x21ad9e[_0x475c92(0x802)]||[])[_0x475c92(0x643)]((_0x121af9,_0x47ec1f)=>_0x475c92(0x7ed)+_0x1f037f+',\x20'+_0x47ec1f+_0x475c92(0x59a)+String[_0x475c92(0x9b7)](0x61+_0x47ec1f)+'.\x20'+marked[_0x475c92(0x84e)](_0x121af9||'')+_0x475c92(0x2d4))[_0x475c92(0x87d)]('')+_0x475c92(0xce9))['join']('')||_0x475c92(0x6ad),window[_0x475c92(0x348)]&&MathJax[_0x475c92(0x7e6)]([_0x136165]),_0xa008f9['classList']['add'](_0x475c92(0x932)),_0x136165[_0x475c92(0x26b)]['remove'](_0x475c92(0x932));}catch(_0x57624d){console['error'](_0x57624d);throw _0x57624d;}}function checkAnswer(_0x1a384c,_0x285030){const _0x43266d=_0x3d653b,_0x5088fa=currentApplicationData[_0x1a384c],_0x1d3d4e=document['getElementById']('q'+_0x1a384c+_0x43266d(0x8d9)),_0x3f233e=_0x1d3d4e[_0x43266d(0x8c7)](_0x43266d(0xd14));for(let _0xe6583e of _0x3f233e){_0xe6583e[_0x43266d(0xeee)]=!![];}_0x285030===_0x5088fa['answer']?_0x3f233e[_0x285030][_0x43266d(0x26b)][_0x43266d(0x224)](_0x43266d(0x276)):(_0x3f233e[_0x285030][_0x43266d(0x26b)][_0x43266d(0x224)](_0x43266d(0x251)),_0x3f233e[_0x5088fa[_0x43266d(0xa5b)]][_0x43266d(0x26b)][_0x43266d(0x224)]('correct'));}window[_0x3d653b(0x49f)]=handleGenerateAndShowLesson,window[_0x3d653b(0x871)]=checkAnswer,window[_0x3d653b(0xc7d)]=handleGeneratePracticeTest,window[_0x3d653b(0x514)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x5b04e4=_0x3d653b;if(document[_0x5b04e4(0xb29)](_0x5b04e4(0x656)))return;const _0x35cbb8=_0x5b04e4(0x982);document[_0x5b04e4(0xbfe)][_0x5b04e4(0xc0d)]('beforeend',_0x35cbb8),setupCropperButtons();}function setupCropperButtons(){const _0x51b834=_0x3d653b;document[_0x51b834(0xb29)](_0x51b834(0xc5b))[_0x51b834(0x652)](_0x51b834(0xc7b),()=>{const _0x55a51c=_0x51b834;document[_0x55a51c(0xb29)](_0x55a51c(0x656))[_0x55a51c(0x26b)]['add']('hidden'),cropperInstance&&(cropperInstance['destroy'](),cropperInstance=null),document['getElementById'](_0x55a51c(0x2c1))[_0x55a51c(0xc4b)]='';}),document[_0x51b834(0xb29)](_0x51b834(0x64f))[_0x51b834(0x652)](_0x51b834(0xc7b),()=>{const _0x3a4eb0=_0x51b834;if(!cropperInstance)return;const _0x155aa0=document[_0x3a4eb0(0xb29)](_0x3a4eb0(0x64f)),_0x2c04bf=_0x155aa0[_0x3a4eb0(0xd04)];_0x155aa0[_0x3a4eb0(0xd04)]=_0x3a4eb0(0x743),_0x155aa0[_0x3a4eb0(0xeee)]=!![],cropperInstance['getCroppedCanvas']()[_0x3a4eb0(0x4ff)](async _0x37055b=>{const _0x5e2026=_0x3a4eb0;document[_0x5e2026(0xb29)](_0x5e2026(0x656))[_0x5e2026(0x26b)][_0x5e2026(0x224)](_0x5e2026(0x932));const _0x5d2b9d=new File([_0x37055b],_0x5e2026(0xd84),{'type':'image/png'});await handleScanImageForText(_0x5d2b9d),_0x155aa0[_0x5e2026(0xd04)]=_0x2c04bf,_0x155aa0['disabled']=![],cropperInstance['destroy'](),cropperInstance=null;},_0x3a4eb0(0xeff));});}function startCropper(_0xf2e1b5){const _0xc98544=_0x3d653b;ensureCropperModalExists();const _0x48f567=document[_0xc98544(0xb29)](_0xc98544(0x656)),_0x3abff=document[_0xc98544(0xb29)](_0xc98544(0xadc)),_0x22728f=new FileReader();_0x22728f[_0xc98544(0x29f)]=_0x1d3608=>{const _0x1fe984=_0xc98544;_0x3abff[_0x1fe984(0xc3f)]=_0x1d3608[_0x1fe984(0xadf)][_0x1fe984(0xf1f)],_0x48f567[_0x1fe984(0x26b)][_0x1fe984(0x937)](_0x1fe984(0x932));if(cropperInstance)cropperInstance[_0x1fe984(0x58e)]();cropperInstance=new Cropper(_0x3abff,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x22728f['readAsDataURL'](_0xf2e1b5);}document['addEventListener']('DOMContentLoaded',()=>{const _0x4221fa=_0x3d653b,_0x28b0dd=document[_0x4221fa(0xb29)](_0x4221fa(0x2c1)),_0x185a80=document[_0x4221fa(0xb29)]('camera-crop-btn');_0x185a80&&_0x28b0dd&&(_0x185a80[_0x4221fa(0x652)](_0x4221fa(0xc7b),()=>{const _0x6f024c=_0x4221fa;_0x28b0dd['value']='',_0x28b0dd[_0x6f024c(0xc7b)]();}),_0x28b0dd[_0x4221fa(0x652)](_0x4221fa(0xc95),_0x14cdc5=>{const _0x189e11=_0x4221fa;_0x14cdc5[_0x189e11(0xadf)][_0x189e11(0x4d5)]&&_0x14cdc5[_0x189e11(0xadf)][_0x189e11(0x4d5)][_0x189e11(0xe84)]>0x0&&startCropper(_0x14cdc5[_0x189e11(0xadf)]['files'][0x0]);}));});async function handleScanImageForText(_0x235536){const _0x102df4=_0x3d653b,_0x363a96=document['getElementById']('text-content-input'),_0x57b17d=document[_0x102df4(0xb29)]('scan-text-image-btn');if(!_0x235536)return;_0x57b17d['disabled']=!![],_0x57b17d[_0x102df4(0xd04)]=_0x102df4(0x742),_0x363a96[_0x102df4(0xd21)]=_0x102df4(0x59f);try{const _0x1fae0d=await new Promise((_0x56b173,_0xc934cd)=>{const _0xecf8f8=_0x102df4,_0x29a503=new FileReader();_0x29a503[_0xecf8f8(0x4ab)](_0x235536),_0x29a503['onload']=()=>_0x56b173(_0x29a503[_0xecf8f8(0xf1f)][_0xecf8f8(0x28c)](',')[0x1]),_0x29a503[_0xecf8f8(0x476)]=_0xc934cd;}),_0x47af51=_0x102df4(0x17f),_0x56833c=[{'text':_0x47af51},{'inlineData':{'mimeType':_0x235536['type'],'data':_0x1fae0d}}],_0x35c04b=await handleApiCall(_0x56833c,_0x102df4(0x3a9),null,null,![]);if(_0x35c04b){const _0x1b6c7f=_0x363a96[_0x102df4(0xc4b)][_0x102df4(0x46f)]();_0x363a96['value']=_0x1b6c7f?_0x1b6c7f+'\x0a\x0a'+_0x35c04b:_0x35c04b,showMessage(_0x102df4(0xd19));}else throw new Error(_0x102df4(0xce2));}catch(_0x1c564f){console[_0x102df4(0x3b5)](_0x102df4(0x53f),_0x1c564f),showMessage(_0x102df4(0xd5a)+_0x1c564f[_0x102df4(0x837)]);}finally{_0x57b17d[_0x102df4(0xeee)]=![],_0x57b17d[_0x102df4(0xd04)]=_0x102df4(0x637),document[_0x102df4(0xb29)]('scan-text-image-input')[_0x102df4(0xc4b)]='';}}async function initialize(){const _0x45027b=_0x3d653b;try{const _0x1f7e73=initializeApp(firebaseConfig);db=getFirestore(_0x1f7e73),auth=getAuth(_0x1f7e73),setupAuthListener(),setupEventListeners(),showView(_0x45027b(0x4d8)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x4d8b5c){console[_0x45027b(0x3b5)]('Firebase\x20initialization\x20failed:',_0x4d8b5c),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x14148b=_0x3d653b,_0xe10cfc=document[_0x14148b(0xb29)](_0x14148b(0xc5a));if(!_0xe10cfc)return;const _0x6b59d1=document[_0x14148b(0xb29)](_0x14148b(0x626));_0x6b59d1['disabled']=!![],_0x6b59d1[_0x14148b(0xd04)]=_0x14148b(0xe85);try{const _0x6769df=_0xe10cfc['querySelectorAll'](_0x14148b(0xd75)),_0x2d8342=Array[_0x14148b(0x63b)](_0x6769df)[_0x14148b(0x643)]((_0x225d02,_0x92ba53)=>{const _0x579f72=_0x14148b,_0x33793d=_0x225d02['dataset'][_0x579f72(0xedf)],_0x560c30=_0x225d02[_0x579f72(0x327)](_0x579f72(0x944))['value'];let _0x2fcce7=null,_0x42716e='';switch(_0x33793d){case _0x579f72(0xa08):const _0x3bb821=_0x225d02[_0x579f72(0x948)]('input[type=\x22text\x22]');_0x2fcce7=Array[_0x579f72(0x63b)](_0x3bb821)[_0x579f72(0x643)](_0xdb9dae=>_0xdb9dae['value']);const _0x5aa09c=_0x225d02[_0x579f72(0x327)]('input[type=\x22radio\x22]:checked');_0x5aa09c&&(_0x42716e=_0x2fcce7[parseInt(_0x5aa09c[_0x579f72(0xc4b)])]||'');break;case _0x579f72(0x9d6):case _0x579f72(0x2fc):_0x2fcce7=[],_0x42716e=_0x225d02[_0x579f72(0x327)]('.ideal-answer-input')[_0x579f72(0xc4b)];break;case _0x579f72(0x80d):_0x2fcce7=[_0x579f72(0xa82),'false'];const _0x3c8463=_0x225d02[_0x579f72(0x327)]('input[type=\x22radio\x22]:checked');_0x42716e=_0x3c8463?_0x3c8463[_0x579f72(0xc4b)]:'';break;case _0x579f72(0x76e):_0x2fcce7=[],_0x42716e=_0x225d02['querySelector'](_0x579f72(0x730))['value'];break;}return{'questionIndex':_0x92ba53,'questionType':_0x33793d,'question':_0x560c30,'options':_0x2fcce7,'proposedAnswer':_0x42716e};}),_0x4958f9=_0x14148b(0x680)+JSON[_0x14148b(0x437)](_0x2d8342)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4a6a92={'type':'ARRAY','items':{'type':_0x14148b(0x4d4),'properties':{'questionIndex':{'type':_0x14148b(0x1e3)},'isCorrect':{'type':_0x14148b(0x711)},'justification':{'type':_0x14148b(0x43c)},'correctOptionExists':{'type':_0x14148b(0x711)},'suggestedAnswer':{'type':_0x14148b(0x43c)},'newOptionsPayload':{'type':_0x14148b(0x4d4),'properties':{'newOptions':{'type':_0x14148b(0xea8),'items':{'type':_0x14148b(0x43c)}},'newCorrectIndex':{'type':_0x14148b(0x1e3)}},'required':[_0x14148b(0x9b6),_0x14148b(0xae1)]}},'required':[_0x14148b(0xa40),'isCorrect',_0x14148b(0xf10)]}},_0x3b812f=await callAnalysisApi(_0x4958f9,{'type':_0x14148b(0x4d4),'properties':{'result':_0x4a6a92},'required':[_0x14148b(0xf1f)]});if(_0x3b812f&&_0x3b812f[_0x14148b(0xf1f)])displayVerificationResultsInEditor(_0x3b812f['result']);else throw new Error(_0x14148b(0x3ea));}catch(_0x2d81a1){console[_0x14148b(0x3b5)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x2d81a1),showMessage(_0x14148b(0x259)+_0x2d81a1['message']);}finally{_0x6b59d1[_0x14148b(0xeee)]=![],_0x6b59d1[_0x14148b(0xd04)]=_0x14148b(0xcae);}}function displayVerificationResultsInEditor(_0x5df63){const _0x5253a2=_0x3d653b;_0x5df63[_0x5253a2(0x57b)](_0xaf2c60=>{const _0x560894=_0x5253a2,_0x43e68e=document[_0x560894(0x327)](_0x560894(0x82b)+_0xaf2c60[_0x560894(0xa40)]+'\x22]');if(!_0x43e68e)return;const _0x527e10=_0x43e68e[_0x560894(0x327)](_0x560894(0x9f7));if(_0x527e10)_0x527e10[_0x560894(0x937)]();let _0x35b692='';if(_0xaf2c60['newOptionsPayload']&&_0xaf2c60[_0x560894(0x608)][_0x560894(0x9b6)]){const _0xd8b24f=_0xaf2c60[_0x560894(0x608)]['newOptions'],_0x3ed913=_0xaf2c60[_0x560894(0x608)][_0x560894(0xae1)],_0x12f0b8=_0x43e68e[_0x560894(0x63c)][_0x560894(0xedf)];if(_0x12f0b8===_0x560894(0xa08)){const _0xd9cd9=_0x43e68e[_0x560894(0x948)](_0x560894(0x53e));_0xd9cd9[_0x560894(0x57b)]((_0x5378db,_0x4d7000)=>{const _0x13e6df=_0x560894;_0xd8b24f[_0x4d7000]?_0x5378db[_0x13e6df(0xc4b)]=_0xd8b24f[_0x4d7000]:_0x5378db[_0x13e6df(0xc4b)]=_0x13e6df(0x79b);});const _0x3f53d5=_0x43e68e[_0x560894(0x327)]('input[type=\x22radio\x22][value=\x22'+_0x3ed913+'\x22]');_0x3f53d5&&(_0x3f53d5[_0x560894(0x21d)]=!![]),_0x35b692=_0x560894(0xce4),_0x43e68e['classList'][_0x560894(0x224)](_0x560894(0xd9f),_0x560894(0xa1c),'duration-300'),setTimeout(()=>{const _0x1be1dc=_0x560894;_0x43e68e[_0x1be1dc(0x26b)][_0x1be1dc(0x937)](_0x1be1dc(0xd9f));},0x9c4);}}else{if(!_0xaf2c60['isCorrect']&&_0xaf2c60[_0x560894(0x404)]){const _0x3798a5=_0xaf2c60[_0x560894(0x404)]?_0x560894(0x5cc):'';_0x35b692=_0x560894(0x602)+_0x3798a5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0xaf2c60['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xaf2c60[_0x560894(0x404)]?_0x560894(0xe3d)+_0xaf2c60[_0x560894(0x404)]+_0x560894(0xdba):'')+_0x560894(0x657);const _0x5c4f57=_0x43e68e[_0x560894(0x63c)][_0x560894(0xedf)],_0x5ad855=_0x4af628=>{const _0x498138=_0x560894;if(!_0x4af628)return;_0x4af628[_0x498138(0x26b)][_0x498138(0x224)](_0x498138(0x7e2),_0x498138(0xa1c),'duration-300'),setTimeout(()=>{const _0xc95a33=_0x498138;_0x4af628['classList'][_0xc95a33(0x937)](_0xc95a33(0x7e2));},0x9c4);};if(_0x5c4f57===_0x560894(0xa08)){const _0x51066c=Array[_0x560894(0x63b)](_0x43e68e[_0x560894(0x948)](_0x560894(0x53e))),_0x3e2e74=_0x51066c['findIndex'](_0x20305f=>_0x20305f[_0x560894(0xc4b)][_0x560894(0x46f)]()[_0x560894(0xa99)]()===_0xaf2c60['suggestedAnswer'][_0x560894(0x46f)]()['toLowerCase']());if(_0x3e2e74!==-0x1){const _0x2d3619=_0x43e68e[_0x560894(0x327)](_0x560894(0x9fb)+_0x3e2e74+'\x22]');_0x2d3619&&(_0x2d3619[_0x560894(0x21d)]=!![],_0x5ad855(_0x2d3619[_0x560894(0x2e3)]('div')));}}else{if(_0x5c4f57===_0x560894(0x9d6)||_0x5c4f57===_0x560894(0x76e)){const _0x216314=_0x43e68e['querySelector'](_0x560894(0x86b));_0x216314&&(_0x216314[_0x560894(0xc4b)]=_0xaf2c60[_0x560894(0x404)],_0x5ad855(_0x216314));}else{if(_0x5c4f57===_0x560894(0x80d)){const _0x4febe7=_0xaf2c60[_0x560894(0x404)][_0x560894(0x46f)]()['toLowerCase'](),_0x3c7b80=_0x43e68e[_0x560894(0x327)](_0x560894(0x9fb)+_0x4febe7+'\x22]');_0x3c7b80&&(_0x3c7b80['checked']=!![],_0x5ad855(_0x3c7b80['closest']('div')));}}}}else _0xaf2c60[_0x560894(0x1ce)]&&(_0x35b692='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x43e68e[_0x560894(0xc0d)](_0x560894(0xbd5),_0x35b692);}),showMessage(_0x5253a2(0x370));}async function handleVerifyAnswers(){const _0x17ca7a=_0x3d653b;if(!currentQuizData||!currentQuizData[_0x17ca7a(0xaff)]){showMessage(_0x17ca7a(0x9cb));return;}const _0x4388b0=document['getElementById'](_0x17ca7a(0xbd6));_0x4388b0[_0x17ca7a(0xeee)]=!![],_0x4388b0[_0x17ca7a(0xd04)]=_0x17ca7a(0xe85);try{const _0x5a3922=currentQuizData[_0x17ca7a(0xaff)][_0x17ca7a(0x643)]((_0x1d08b1,_0x523d80)=>{const _0x5e093e=_0x17ca7a;let _0x2eed90='';const _0x4f8ab3=_0x1d08b1['questionType']||currentQuizData[_0x5e093e(0xca5)];switch(_0x4f8ab3){case _0x5e093e(0xa08):_0x2eed90=_0x1d08b1[_0x5e093e(0x802)][_0x1d08b1[_0x5e093e(0x857)]];break;case'short_answer':_0x2eed90=_0x1d08b1[_0x5e093e(0x5b2)];break;case _0x5e093e(0x80d):_0x2eed90=_0x1d08b1[_0x5e093e(0x1b0)][_0x5e093e(0xd43)]();break;case _0x5e093e(0x76e):_0x2eed90=_0x1d08b1[_0x5e093e(0x500)];break;}return{'question':_0x1d08b1[_0x5e093e(0x3bf)]||_0x1d08b1[_0x5e093e(0x4cd)],'options':_0x1d08b1[_0x5e093e(0x802)]||null,'proposedAnswer':_0x2eed90};}),_0x35bfd8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x17ca7a(0x437)](_0x5a3922)+_0x17ca7a(0x367),_0x3dfa84={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x17ca7a(0x711)},'justification':{'type':_0x17ca7a(0x43c)},'suggestedAnswer':{'type':_0x17ca7a(0x43c)}},'required':[_0x17ca7a(0xa40),'isCorrect',_0x17ca7a(0xf10)]}},_0x21a43b=await callAnalysisApi(_0x35bfd8,{'type':'OBJECT','properties':{'result':_0x3dfa84},'required':[_0x17ca7a(0xf1f)]});displayVerificationResults(_0x21a43b[_0x17ca7a(0xf1f)]);}catch(_0x3a672d){console[_0x17ca7a(0x3b5)](_0x17ca7a(0x189),_0x3a672d),showMessage(_0x17ca7a(0x255));}finally{_0x4388b0[_0x17ca7a(0xeee)]=![],_0x4388b0[_0x17ca7a(0xd04)]=_0x17ca7a(0xb2b);}}function displayVerificationResults(_0x3941cd){const _0x1f182a=_0x3d653b;_0x3941cd[_0x1f182a(0x57b)](_0x1d35a0=>{const _0x49ac88=_0x1f182a,_0x11764f=document[_0x49ac88(0x327)](_0x49ac88(0x39d)+_0x1d35a0[_0x49ac88(0xa40)]+'\x22]');if(_0x11764f){const _0x554029=_0x11764f[_0x49ac88(0x327)](_0x49ac88(0x2bc));if(_0x554029)_0x554029['remove']();let _0x1c6c59='';_0x1d35a0[_0x49ac88(0x1ce)]?_0x1c6c59=_0x49ac88(0x262):_0x1c6c59='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x1d35a0[_0x49ac88(0xf10)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1d35a0[_0x49ac88(0x404)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1d35a0[_0x49ac88(0x404)]+'</p>':'')+_0x49ac88(0xc92),_0x11764f[_0x49ac88(0xc0d)](_0x49ac88(0xbd5),_0x1c6c59);}}),showMessage(_0x1f182a(0x370));}function compareNumericalAnswers(_0x3fc6a6,_0x15ba88){const _0x4b5f5e=_0x3d653b,_0x3f27a6=String(_0x3fc6a6)[_0x4b5f5e(0x502)](',','.')[_0x4b5f5e(0x502)](/[^\d.-]/g,'')[_0x4b5f5e(0x46f)](),_0x140588=String(_0x15ba88)[_0x4b5f5e(0x502)](',','.')[_0x4b5f5e(0x502)](/[^\d.-]/g,'')['trim']();if(_0x3f27a6===''||_0x140588==='')return![];const _0x530257=parseFloat(_0x3f27a6),_0x573080=parseFloat(_0x140588);if(isNaN(_0x530257)||isNaN(_0x573080))return![];return Math[_0x4b5f5e(0x9a7)](_0x530257-_0x573080)<0.001;}function isPotentiallyNumeric(_0x4fa66d){const _0x563a43=_0x3d653b;if(typeof _0x4fa66d!=='string'&&typeof _0x4fa66d!==_0x563a43(0x1d4))return![];const _0x26e75f=String(_0x4fa66d)[_0x563a43(0x502)](',','.')['trim']();return _0x26e75f!==''&&!isNaN(parseFloat(_0x26e75f))&&isFinite(_0x26e75f);}async function gradeShortAnswer(_0x458cb4,_0x42428a){const _0x459497=_0x3d653b,_0x3d6f22=_0x42428a[_0x459497(0x5b2)],_0x1ae4b5=String(_0x458cb4)[_0x459497(0x502)](/\$/g,'')[_0x459497(0x46f)](),_0xa2f267=String(_0x3d6f22)[_0x459497(0x502)](/\$/g,'')['trim']();if(_0x1ae4b5['toLowerCase']()===_0xa2f267[_0x459497(0xa99)]())return!![];if(isPotentiallyNumeric(_0x1ae4b5)&&isPotentiallyNumeric(_0xa2f267)){if(compareNumericalAnswers(_0x1ae4b5,_0xa2f267))return!![];}return console[_0x459497(0xee3)](_0x459497(0x7b2)),![];}async function revealAnswerForAdmin(_0x2ea994,_0x15016d){const _0x1d618b=_0x3d653b,_0x823cd0=doc(db,_0x1d618b(0xc9f)+appId+_0x1d618b(0x291),currentLiveGameId);await updateDoc(_0x823cd0,{'questionStatus':_0x1d618b(0x396)});}function showTop5LeaderboardView(_0x36fa15){const _0x2fbbac=_0x3d653b,_0x3b0398=Object[_0x2fbbac(0xf02)](_0x36fa15[_0x2fbbac(0xe24)]||{})[_0x2fbbac(0x5f5)](_0x56b3db=>_0x56b3db[_0x2fbbac(0x389)]===_0x2fbbac(0xd63));_0x3b0398[_0x2fbbac(0xb9f)]((_0x193818,_0xc86333)=>_0xc86333[_0x2fbbac(0x5e3)]-_0x193818['score']);const _0x1a35ed=_0x3b0398[_0x2fbbac(0x7e8)](0x0,0x5),_0x29d8ba=_0x2fbbac(0x1a3)+_0x1a35ed[_0x2fbbac(0x643)]((_0x1b52c7,_0x13568e)=>_0x2fbbac(0x71b)+(_0x13568e+0x1)+'.\x20'+(_0x1b52c7['name']||Object[_0x2fbbac(0x754)](_0x36fa15['players'])[_0x2fbbac(0xb46)](_0x312a0f=>_0x36fa15['players'][_0x312a0f]===_0x1b52c7))+_0x2fbbac(0x863)+_0x1b52c7[_0x2fbbac(0x5e3)]+_0x2fbbac(0xcfc))[_0x2fbbac(0x87d)]('')+_0x2fbbac(0xec7)+(_0x36fa15['currentQuestionIndex']+0x1===currentQuizData[_0x2fbbac(0xaff)][_0x2fbbac(0xe84)]?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x2fbbac(0x3b4);liveGameView[_0x2fbbac(0xd04)]=_0x29d8ba,document['getElementById'](_0x2fbbac(0x450))[_0x2fbbac(0x652)](_0x2fbbac(0xc7b),async()=>{const _0x47b569=_0x2fbbac,_0x245c5f=doc(db,_0x47b569(0xc9f)+appId+_0x47b569(0x291),currentLiveGameId),_0x2bab32=_0x36fa15[_0x47b569(0x7d8)]+0x1;if(_0x2bab32<currentQuizData[_0x47b569(0xaff)][_0x47b569(0xe84)]){const _0x2bf1b1={'currentQuestionIndex':_0x2bab32,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x47b569(0x4f8)};Object[_0x47b569(0x754)](_0x36fa15[_0x47b569(0xe24)])[_0x47b569(0x57b)](_0x1840d7=>{const _0x11db4f=_0x47b569;_0x2bf1b1[_0x11db4f(0xf07)+_0x1840d7+_0x11db4f(0xad3)]=![];}),await updateDoc(_0x245c5f,_0x2bf1b1);}else await updateDoc(_0x245c5f,{'status':_0x47b569(0x4da)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5d3554=>{const _0x1047c0=_0x1c86;if(_0x5d3554){userId=_0x5d3554[_0x1047c0(0x4e4)],userIdDisplay[_0x1047c0(0x6ab)]=userId;const _0x7d43d2=await loadUserPreferences();_0x7d43d2[_0x1047c0(0x1ca)]&&(document[_0x1047c0(0xb29)](_0x1047c0(0x419))[_0x1047c0(0xc4b)]=_0x7d43d2[_0x1047c0(0x1ca)]);globalDashboardSettings[_0x1047c0(0x330)]=_0x7d43d2[_0x1047c0(0x330)]||_0x1047c0(0x4d6);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x73e70d,_0x12a54d){const _0x416a82=_0x3d653b;if(!userId)return;try{const _0x1b59ab=doc(db,'artifacts/'+appId+_0x416a82(0xa5c)+userId+_0x416a82(0x217)),_0x30a626={};_0x30a626[_0x73e70d]=_0x12a54d,await setDoc(_0x1b59ab,_0x30a626,{'merge':!![]});}catch(_0x2e1d8){console[_0x416a82(0x3b5)](_0x416a82(0xe8b),_0x2e1d8);}}async function loadUserPreferences(){const _0xe7f8b6=_0x3d653b;if(!userId)return{};try{const _0x48d05f=doc(db,_0xe7f8b6(0xc9f)+appId+'/users/'+userId+'/preferences/main'),_0x26ad5e=await getDoc(_0x48d05f);if(_0x26ad5e[_0xe7f8b6(0x267)]())return _0x26ad5e['data']();return{};}catch(_0x341d89){return console[_0xe7f8b6(0x3b5)](_0xe7f8b6(0x73e),_0x341d89),{};}}function parseIndentedBlueprint(_0x1d3b7a){const _0x2a8888=_0x3d653b,_0x579eb7=_0x1d3b7a[_0x2a8888(0x28c)]('\x0a')[_0x2a8888(0x5f5)](_0x357665=>_0x357665['trim']()!==''),_0x1cac8d=[];let _0x2663de=null,_0x585bff=null;return _0x579eb7[_0x2a8888(0x57b)](_0x3a459c=>{const _0x91caeb=_0x2a8888,_0x2c9372=_0x3a459c[_0x91caeb(0xcc2)](/^\s*/)[0x0][_0x91caeb(0xe84)],_0x107f3c=_0x3a459c[_0x91caeb(0x46f)]();if(_0x2c9372===0x0)_0x2663de={'sara':_0x107f3c,'mainTopics':[]},_0x1cac8d[_0x91caeb(0xf06)](_0x2663de),_0x585bff=null;else{if(_0x2c9372>0x0&&_0x2c9372<0x8&&_0x2663de)_0x585bff={'topicName':_0x107f3c,'subTopics':[]},_0x2663de['mainTopics'][_0x91caeb(0xf06)](_0x585bff);else _0x2c9372>=0x8&&_0x585bff&&_0x585bff[_0x91caeb(0x9fd)]['push'](_0x107f3c);}}),{'curriculum':_0x1cac8d};}async function handleManualBlueprintSave(){const _0x51d8dd=_0x3d653b,_0x2cf4fc=document[_0x51d8dd(0xb29)](_0x51d8dd(0x63a))['value'][_0x51d8dd(0x46f)](),_0x3c000a=document[_0x51d8dd(0xb29)](_0x51d8dd(0x67f))[_0x51d8dd(0xc4b)]['trim'](),_0x2bb58f=document['getElementById']('manual-bp-content')[_0x51d8dd(0xc4b)];if(!_0x2cf4fc||!_0x3c000a||!_0x2bb58f){showMessage(_0x51d8dd(0x721));return;}const _0x27a6fb=parseIndentedBlueprint(_0x2bb58f);if(!_0x27a6fb[_0x51d8dd(0xca4)]||_0x27a6fb[_0x51d8dd(0xca4)][_0x51d8dd(0xe84)]===0x0){showMessage(_0x51d8dd(0xaf0));return;}const _0x6ad421={};let _0x4f562f=0x0;_0x27a6fb['curriculum']['forEach'](_0x100829=>{const _0x32dfd3=_0x51d8dd;_0x100829[_0x32dfd3(0x30a)][_0x32dfd3(0x57b)](_0x4984b4=>{const _0xe3a084=_0x32dfd3;_0x4984b4[_0xe3a084(0x9fd)][_0xe3a084(0x57b)](_0x554315=>{const _0x1b99cc=_0xe3a084,_0x4e6222=_0x1b99cc(0x5dd)+Date['now']()+Math[_0x1b99cc(0xebc)]()[_0x1b99cc(0xd43)](0x24)[_0x1b99cc(0x8dc)](0x2,0x9);_0x6ad421[_0x4e6222]={'sara':_0x100829['sara'],'mainTopic':_0x4984b4['topicName'],'subTopic':_0x554315,'status':'not_generated','lessonContent':null,'order':_0x4f562f++};});});});try{const _0x35f6ef=collection(db,'artifacts/'+appId+_0x51d8dd(0x1c5));await addDoc(_0x35f6ef,{'projectName':_0x2cf4fc,'gradeLevel':_0x3c000a,'topics':_0x6ad421,'createdAt':serverTimestamp()}),showMessage(_0x51d8dd(0x772)+_0x2cf4fc+_0x51d8dd(0xb48)),document[_0x51d8dd(0xb29)](_0x51d8dd(0xdcb))['classList'][_0x51d8dd(0x224)](_0x51d8dd(0x932));}catch(_0x2c6391){console[_0x51d8dd(0x3b5)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x2c6391),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x34d0db){const _0x5e2fe9=_0x3d653b;showConfirmation(_0x5e2fe9(0xb20),async()=>{const _0x5c2442=_0x5e2fe9;try{const _0x4e4086=doc(db,_0x5c2442(0xc9f)+appId+_0x5c2442(0x1c5),currentBlueprintProjectId);await updateDoc(_0x4e4086,{[_0x5c2442(0xae4)+_0x34d0db+_0x5c2442(0xe3b)]:[]}),showMessage(_0x5c2442(0x268)),openTopicQuizBank(_0x34d0db),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x27b561){console[_0x5c2442(0x3b5)]('Error\x20clearing\x20all\x20links:',_0x27b561),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x737289,_0x5eb724=_0x3d653b(0x443),_0xf3a210=null){const _0x3e1b62=_0x3d653b,_0xf73084=_0xf3a210?.[_0x3e1b62(0xceb)]===!![],_0x39354c=Object[_0x3e1b62(0xe63)](_0x737289)[_0x3e1b62(0x643)](([_0x459bc6,_0x15b1ee])=>({'name':_0x459bc6,'realScore':_0x15b1ee[_0x3e1b62(0xb61)]||_0x15b1ee[_0x3e1b62(0x5e3)]||0x0,'totalPoints':_0x15b1ee['totalPoints']||0x0,'badges':_0x15b1ee[_0x3e1b62(0xc85)]||[],'hasPerfectScoreBonus':_0x15b1ee[_0x3e1b62(0x350)]||![],'correctStreak':_0x15b1ee['correctStreak']||0x0})),_0x591316=Math[_0x3e1b62(0xd18)](..._0x39354c[_0x3e1b62(0x643)](_0x4a017f=>_0x4a017f[_0x3e1b62(0xb1e)]),-Infinity),_0x5ed7bf=Math['max'](..._0x39354c['map'](_0x19998b=>_0x19998b[_0x3e1b62(0xb61)]),-Infinity);_0x39354c['sort']((_0x5433ec,_0xc38a1a)=>{const _0x4004ef=_0x3e1b62;if(_0xf73084){const _0x2e4e16=_0xc38a1a[_0x4004ef(0xb1e)]-_0x5433ec[_0x4004ef(0xb1e)];if(_0x2e4e16!==0x0)return _0x2e4e16;const _0x2df581=_0xc38a1a[_0x4004ef(0xb61)]-_0x5433ec['realScore'];if(_0x2df581!==0x0)return _0x2df581;return _0x5433ec[_0x4004ef(0x77f)][_0x4004ef(0x390)](_0xc38a1a[_0x4004ef(0x77f)],'th');}else{const _0x2afd4c=_0xc38a1a[_0x4004ef(0xb1e)]-_0x5433ec[_0x4004ef(0xb1e)];if(_0x2afd4c!==0x0)return _0x2afd4c;const _0x334ba1=_0xc38a1a[_0x4004ef(0xb61)]-_0x5433ec[_0x4004ef(0xb61)];if(_0x334ba1!==0x0)return _0x334ba1;return _0x5433ec[_0x4004ef(0x77f)]['localeCompare'](_0xc38a1a[_0x4004ef(0x77f)],'th');}});let _0x1fb142=0x1;for(let _0x4d5e71=0x0;_0x4d5e71<_0x39354c[_0x3e1b62(0xe84)];_0x4d5e71++){if(_0x4d5e71>0x0){const _0x31f517=_0x39354c[_0x4d5e71-0x1],_0x3b2201=_0x39354c[_0x4d5e71],_0x2e6bcc=_0x3b2201[_0x3e1b62(0xb1e)]===_0x31f517[_0x3e1b62(0xb1e)]&&_0x3b2201[_0x3e1b62(0xb61)]===_0x31f517[_0x3e1b62(0xb61)];!_0x2e6bcc&&(_0x1fb142=_0x4d5e71+0x1);}_0x39354c[_0x4d5e71][_0x3e1b62(0xe96)]=_0x1fb142;}const _0x1a22a5=_0x1b304d=>{const _0x2e1d75=_0x3e1b62;if(!_0x1b304d||_0x1b304d['length']===0x0)return'';const _0x23cbb6={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2e1d75(0xa71)+_0x1b304d['map'](_0x359fc7=>_0x23cbb6[_0x359fc7]||'')[_0x2e1d75(0x87d)]('')+_0x2e1d75(0xe78);},_0x540a62=_0x1bf7e9=>{const _0xf3c0de=_0x3e1b62;let _0x24a80b='';if(_0xf73084){if(_0x1bf7e9['totalPoints']===_0x591316&&_0x591316>0x0)_0x24a80b+=_0xf3c0de(0x996);if(_0x1bf7e9['realScore']===_0x5ed7bf&&_0x5ed7bf>0x0)_0x24a80b+=_0xf3c0de(0xe5c);}else{if(_0x1bf7e9[_0xf3c0de(0x350)])_0x24a80b=_0xf3c0de(0x540);}let _0x4aa1e3='';_0x1bf7e9[_0xf3c0de(0xb64)]>=0x3&&(_0x4aa1e3=_0xf3c0de(0x8c0)+_0x1bf7e9['correctStreak']+_0xf3c0de(0x8e8));if(_0xf73084){const _0x3578bf=_0x1bf7e9[_0xf3c0de(0xb1e)]>=0x0?'(+'+_0x1bf7e9[_0xf3c0de(0xb1e)][_0xf3c0de(0x901)]()+')':'('+_0x1bf7e9[_0xf3c0de(0xb1e)]['toLocaleString']()+')';return _0xf3c0de(0xd97)+_0x1bf7e9['realScore']+_0xf3c0de(0x59b)+_0x3578bf+_0xf3c0de(0xdca)+_0x24a80b+_0x4aa1e3+_0xf3c0de(0x885);}else return _0xf3c0de(0xd97)+_0x1bf7e9[_0xf3c0de(0xb1e)][_0xf3c0de(0x901)]()+_0xf3c0de(0xe47)+_0x24a80b+_0x4aa1e3+_0xf3c0de(0x885);},_0x2ea5cd=_0x209835=>{const _0x3f2590=_0x3e1b62;if(_0x209835>=0x3)return _0x3f2590(0xc31)+_0x209835+_0x3f2590(0x8e8);return'';},_0x1803bf=_0x39354c[_0x3e1b62(0x7e8)](0x3),_0x19be87=_0x1803bf[_0x3e1b62(0xe84)]>0x0?_0x3e1b62(0xac6)+_0x1803bf[_0x3e1b62(0x643)]((_0xff3be5,_0x317913)=>{const _0x1ca7e7=_0x3e1b62;let _0x19222d='';if(_0xf73084){if(_0xff3be5[_0x1ca7e7(0xb1e)]===_0x591316&&_0x591316>0x0)_0x19222d+='👑\x20';if(_0xff3be5[_0x1ca7e7(0xb61)]===_0x5ed7bf&&_0x5ed7bf>0x0)_0x19222d+=_0x1ca7e7(0x197);}let _0x285b01='';return _0xf73084?_0x285b01=_0xff3be5[_0x1ca7e7(0xb61)]+_0x1ca7e7(0x41b)+_0xff3be5[_0x1ca7e7(0xb1e)]['toLocaleString']()+')':_0x285b01=_0xff3be5[_0x1ca7e7(0xb1e)]['toLocaleString']()+_0x1ca7e7(0xc3a),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+_0xff3be5['displayRank']+_0x1ca7e7(0xd95)+_0xff3be5[_0x1ca7e7(0x77f)]+_0x1ca7e7(0x973)+_0x2ea5cd(_0xff3be5[_0x1ca7e7(0xb64)])+_0x1ca7e7(0xc49)+_0x285b01+'\x20'+_0x19222d+_0x1ca7e7(0xb6e);})[_0x3e1b62(0x87d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x520a8b=_0x3e1b62(0x2c4)+(_0x39354c[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>'+_0x39354c[0x1][_0x3e1b62(0x77f)]+'</p>'+_0x540a62(_0x39354c[0x1])+_0x3e1b62(0xf23)+_0x39354c[0x1][_0x3e1b62(0xe96)]+_0x3e1b62(0x651):_0x3e1b62(0x798))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x39354c[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>'+_0x39354c[0x0][_0x3e1b62(0x77f)]+_0x3e1b62(0xdba)+_0x540a62(_0x39354c[0x0])+_0x3e1b62(0x804)+_0x39354c[0x0]['displayRank']+_0x3e1b62(0x651):_0x3e1b62(0x798))+_0x3e1b62(0xaf9)+(_0x39354c[0x2]?_0x3e1b62(0x423)+_0x39354c[0x2][_0x3e1b62(0x77f)]+_0x3e1b62(0xdba)+_0x540a62(_0x39354c[0x2])+_0x3e1b62(0xeb7)+_0x39354c[0x2]['displayRank']+_0x3e1b62(0x651):_0x3e1b62(0x798))+_0x3e1b62(0x7f4)+_0x19be87+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?_0x3e1b62(0x35d):_0x3e1b62(0xdf3))+_0x3e1b62(0x4c1);liveGameView[_0x3e1b62(0xd04)]=_0x520a8b,currentMode==='admin'?document[_0x3e1b62(0xb29)](_0x3e1b62(0x7c5))[_0x3e1b62(0x652)](_0x3e1b62(0xc7b),async()=>{const _0x4aa963=_0x3e1b62;let _0x5e2607;_0x5eb724==='sync'?_0x5e2607=doc(db,_0x4aa963(0xc9f)+appId+_0x4aa963(0x8d6),currentLiveGameId):_0x5e2607=doc(db,'artifacts/'+appId+_0x4aa963(0x291),currentLiveGameId),await deleteDoc(_0x5e2607);}):document[_0x3e1b62(0xb29)](_0x3e1b62(0xd66))?.[_0x3e1b62(0x652)](_0x3e1b62(0xc7b),()=>{const _0xed471d=_0x3e1b62;showView(_0xed471d(0x4d8));});}function renderSyncSummaryView(_0x4b2a73,_0x3010e5,_0x3f7faf){const _0x214351=_0x3d653b,_0x304f04=_0x4b2a73[_0x214351(0x839)]||_0x214351(0x44f),_0x26e53e=(_0x304f04==='anonymous'||_0x304f04===_0x214351(0xf29))&&_0x4b2a73[_0x214351(0xdd0)]===![],_0x34fcd0=_0x304f04===_0x214351(0xacc)||_0x304f04===_0x214351(0xf29),_0x25c7eb=_0x4b2a73[_0x214351(0xeb4)][_0x214351(0xaff)],_0x378862=_0x3010e5[_0x214351(0xc4a)]||_0x4b2a73[_0x214351(0xeb4)][_0x214351(0xca5)],_0x341b96=_0x378862==='short_answer'||_0x378862===_0x214351(0x2fc);let _0x4706f5='';if(_0x341b96){let _0x302c07=0x0,_0x1fb53a=0x0;const _0x5d3dc9=[],_0x40d8b2=[];Object[_0x214351(0xe63)](_0x4b2a73[_0x214351(0xe24)]||{})[_0x214351(0x57b)](([_0x288b0c,_0x19461b])=>{const _0x3a49eb=_0x214351,_0x5dbee2=(_0x19461b['answers']||[])[_0x3a49eb(0xb46)](_0x123d99=>_0x123d99[_0x3a49eb(0xa40)]===_0x4b2a73['currentQuestionIndex']);if(_0x19461b[_0x3a49eb(0x389)]!==_0x3a49eb(0xefe)&&_0x5dbee2){const _0x2a045b=_0x5dbee2[_0x3a49eb(0x235)],_0x4498f0=_0x26e53e?_0x4b2a73[_0x3a49eb(0x7d7)][_0x288b0c]||_0x3a49eb(0x679):_0x288b0c;_0x5dbee2[_0x3a49eb(0x1ce)]?(_0x302c07++,_0x5d3dc9[_0x3a49eb(0xf06)](_0x4498f0)):(_0x1fb53a++,_0x40d8b2[_0x3a49eb(0xf06)]('<span\x20class=\x22text-yellow-200\x20font-bold\x22>'+_0x4498f0+'</span>:\x20'+(_0x2a045b||_0x3a49eb(0xdc3))));}}),_0x4706f5=_0x214351(0xdfe)+_0x302c07+_0x214351(0x8df)+(_0x5d3dc9[_0x214351(0xe84)]>0x0?_0x5d3dc9[_0x214351(0x87d)](',\x20'):'-')+_0x214351(0x6e3)+_0x1fb53a+_0x214351(0x447)+(_0x40d8b2['length']>0x0?_0x40d8b2[_0x214351(0x87d)](_0x214351(0x1ed)):'-')+_0x214351(0x497);}else{let _0x52120e=[];_0x378862==='true_false'?_0x52120e=[_0x214351(0x826),_0x214351(0x94c)]:_0x52120e=_0x3010e5[_0x214351(0x802)]||[];const _0x3ef735=new Array(_0x52120e[_0x214351(0xe84)])[_0x214351(0xd17)](0x0),_0x1c257d={};_0x52120e[_0x214351(0x57b)]((_0x31244b,_0x3fed02)=>{_0x1c257d[_0x3fed02]=[];}),Object[_0x214351(0xe63)](_0x4b2a73[_0x214351(0xe24)]||{})[_0x214351(0x57b)](([_0x1dcc77,_0x419d6f])=>{const _0x32275f=_0x214351,_0xbd2e93=(_0x419d6f[_0x32275f(0x91f)]||[])['find'](_0x2bf0ab=>_0x2bf0ab[_0x32275f(0xa40)]===_0x4b2a73[_0x32275f(0x7d8)]);if(_0x419d6f['status']!=='inactive'&&_0xbd2e93&&_0xbd2e93[_0x32275f(0xa5b)]!==null){const _0x58bc20=parseInt(_0xbd2e93[_0x32275f(0xa5b)]);if(!isNaN(_0x58bc20)&&_0x1c257d[_0x58bc20]!==undefined){const _0x24aabc=_0x26e53e?_0x4b2a73[_0x32275f(0x7d7)][_0x1dcc77]||'???':_0x1dcc77;_0x1c257d[_0x58bc20][_0x32275f(0xf06)](_0x24aabc),_0x3ef735[_0x58bc20]++;}}}),_0x4706f5=_0x214351(0x9f1)+_0x3ef735['map']((_0x3d9c35,_0x49086a)=>{const _0x307543=_0x214351,_0x186435=_0x1c257d[_0x49086a][_0x307543(0xe84)]>0x0?_0x1c257d[_0x49086a][_0x307543(0x87d)](',\x20'):_0x307543(0x4ed),_0x2615a5='#6366F1';return _0x307543(0x831)+_0x3d9c35+_0x307543(0x4d3)+_0x2615a5+';\x22\x20data-tooltip-target=\x22tooltip-'+_0x49086a+_0x307543(0x269)+_0x52120e[_0x49086a]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x49086a+_0x307543(0xf08)+_0x186435+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x214351(0x87d)]('')+_0x214351(0xc6c);}let _0x49334b='';const _0x575e30=_0x4b2a73[_0x214351(0x7d8)]>=_0x25c7eb[_0x214351(0xe84)]-0x1;_0x3f7faf?_0x34fcd0?_0x575e30?_0x49334b=_0x214351(0xe35):_0x49334b=_0x214351(0xacf):_0x49334b=_0x214351(0x7aa):_0x34fcd0?_0x49334b=_0x214351(0x454):_0x49334b=_0x214351(0xd6d);const _0x506ea0=_0x3f7faf?_0x214351(0x519)+_0x4b2a73[_0x214351(0xa9d)]+_0x214351(0xef4):'',_0x344e4c=_0x214351(0x74c)+_0x506ea0+_0x214351(0x3d7)+(_0x3010e5[_0x214351(0x4cd)]||_0x3010e5[_0x214351(0x3bf)]||'')+_0x214351(0x2ef)+_0x4706f5+_0x214351(0x6c0)+_0x49334b+_0x214351(0x970);liveGameView[_0x214351(0xd04)]=_0x344e4c;if(window[_0x214351(0x348)])MathJax['typesetPromise']();if(_0x3f7faf){const _0x4e1f5b=doc(db,_0x214351(0xc9f)+appId+_0x214351(0x8d6),currentLiveGameId);document['getElementById'](_0x214351(0x8a8))?.[_0x214351(0x652)](_0x214351(0xc7b),async()=>{const _0x5a164f=_0x214351,_0x22bdcf=Object['values'](_0x4b2a73['players']||{})[_0x5a164f(0x643)](_0x5a2a53=>({'name':_0x5a2a53[_0x5a164f(0x77f)],'score':_0x5a2a53['score']||0x0,'totalPoints':_0x5a2a53[_0x5a164f(0xb1e)]||0x0,'pointsLastRound':_0x5a2a53[_0x5a164f(0x55c)]||0x0,'answers':_0x5a2a53[_0x5a164f(0x91f)]||[],'correctStreak':_0x5a2a53[_0x5a164f(0xb64)]||0x0}));await updateDoc(_0x4e1f5b,{'status':_0x5a164f(0xa01),'publicLeaderboard':_0x22bdcf});}),document['getElementById'](_0x214351(0x2a1))?.[_0x214351(0x652)](_0x214351(0xc7b),()=>{openScratchpad(_0x3010e5,_0x3010e5['options']||[]);}),document[_0x214351(0xb29)](_0x214351(0xbf1))?.['addEventListener']('click',async()=>{const _0x958520=_0x214351,_0x9288f3=_0x4b2a73[_0x958520(0x7d8)]+0x1;await updateDoc(_0x4e1f5b,{'status':'question','currentQuestionIndex':_0x9288f3,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x214351(0xb29)]('show-final-results-btn')?.[_0x214351(0x652)](_0x214351(0xc7b),async()=>{const _0x2c1a4a=_0x214351,_0x171026=Object[_0x2c1a4a(0xf02)](_0x4b2a73[_0x2c1a4a(0xe24)]||{})[_0x2c1a4a(0x643)](_0x129252=>({'name':_0x129252[_0x2c1a4a(0x77f)],'score':_0x129252['score']||0x0,'totalPoints':_0x129252[_0x2c1a4a(0xb1e)]||0x0,'pointsLastRound':_0x129252[_0x2c1a4a(0x55c)]||0x0,'answers':_0x129252[_0x2c1a4a(0x91f)]||[],'correctStreak':_0x129252['correctStreak']||0x0}));await updateDoc(_0x4e1f5b,{'status':'results','reviewQuestionIndex':0x0,'publicLeaderboard':_0x171026});});}}function renderAnonymousStudentResultsView(_0x41bd45){const _0x4ecc6b=_0x3d653b,_0xaca5da=_0x41bd45['currentQuestionIndex']>=_0x41bd45[_0x4ecc6b(0xeb4)][_0x4ecc6b(0xaff)][_0x4ecc6b(0xe84)]-0x1;let _0x30900a='';if(_0x41bd45[_0x4ecc6b(0xdd0)]===!![]){const _0x2f5cba=_0x41bd45[_0x4ecc6b(0xe24)][localTeamPlayers[0x0]],_0x275af6=_0x2f5cba[_0x4ecc6b(0x77f)],_0x48c24e=_0x2f5cba['score'];_0x30900a=_0x4ecc6b(0x35a)+_0x275af6+_0x4ecc6b(0x472)+_0x48c24e+_0x4ecc6b(0x75c);}else _0x30900a=_0x4ecc6b(0xbc0)+(_0xaca5da?_0x4ecc6b(0x167):_0x4ecc6b(0xa65))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x258f53=_0x4ecc6b(0xd0f)+_0x30900a+_0x4ecc6b(0xa7c);liveGameView[_0x4ecc6b(0xd04)]=_0x258f53;}async function handleShowStudentRankings(){const _0x2d84fe=_0x3d653b,_0x6b6bfe=document[_0x2d84fe(0x327)](_0x2d84fe(0x216));_0x6b6bfe&&(_0x6b6bfe[_0x2d84fe(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x5c8a55=document[_0x2d84fe(0x327)](_0x2d84fe(0x700));_0x5c8a55&&(_0x5c8a55[_0x2d84fe(0xd04)]=_0x2d84fe(0x9b3));const _0x505c5d=document[_0x2d84fe(0xb29)](_0x2d84fe(0x478));_0x505c5d[_0x2d84fe(0x26b)]['remove']('hidden'),document[_0x2d84fe(0xb29)](_0x2d84fe(0x1ae))[_0x2d84fe(0x675)]=()=>_0x505c5d[_0x2d84fe(0x26b)][_0x2d84fe(0x224)](_0x2d84fe(0x932));const _0x2f02c7=document[_0x2d84fe(0xb29)](_0x2d84fe(0x17e)),_0x5c050a=document[_0x2d84fe(0xb29)](_0x2d84fe(0xa4d)),_0xb3307b=document[_0x2d84fe(0xb29)](_0x2d84fe(0x727)),_0x3895b6=document[_0x2d84fe(0xb29)](_0x2d84fe(0x60f));_0x2f02c7[_0x2d84fe(0x675)]=()=>{const _0x1429ab=_0x2d84fe;_0x2f02c7['classList'][_0x1429ab(0x224)]('active'),_0x5c050a[_0x1429ab(0x26b)][_0x1429ab(0x937)](_0x1429ab(0xd63)),_0xb3307b[_0x1429ab(0x26b)][_0x1429ab(0x937)](_0x1429ab(0x932)),_0x3895b6['classList'][_0x1429ab(0x224)](_0x1429ab(0x932));},_0x5c050a[_0x2d84fe(0x675)]=()=>{const _0x5c0278=_0x2d84fe;_0x5c050a[_0x5c0278(0x26b)][_0x5c0278(0x224)](_0x5c0278(0xd63)),_0x2f02c7['classList']['remove'](_0x5c0278(0xd63)),_0x3895b6[_0x5c0278(0x26b)][_0x5c0278(0x937)](_0x5c0278(0x932)),_0xb3307b[_0x5c0278(0x26b)][_0x5c0278(0x224)](_0x5c0278(0x932));};try{const _0x15fbda=collection(db,_0x2d84fe(0xc9f)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x2d84fe(0x9d1)),_0x2b913f=await getDocs(_0x15fbda),_0x333b4f=_0x2b913f['docs'][_0x2d84fe(0x643)](_0x5cb905=>_0x5cb905[_0x2d84fe(0xcbd)]());renderQuizLeaderboard(_0x333b4f,currentQuizData,_0x2d84fe(0x755));const _0xc36d7f=collection(db,_0x2d84fe(0xc9f)+appId+'/public/data/projects/'+currentQuizData['projectId']+'/studentProfiles'),_0xe8306c=await getDocs(_0xc36d7f),_0x527652=_0xe8306c['docs'][_0x2d84fe(0x643)](_0x5642d3=>_0x5642d3[_0x2d84fe(0xcbd)]());renderLeaderboard(_0x527652,_0x2d84fe(0x3cb));}catch(_0xb20daf){console['error'](_0x2d84fe(0x632),_0xb20daf),showMessage(_0x2d84fe(0xbc2));}}async function handleSaveToBank(_0x43c790){const _0x1b692e=_0x3d653b,_0x565201=_0x43c790[_0x1b692e(0x47f)],_0x9cb1ca=_0x565201[_0x1b692e(0x63c)][_0x1b692e(0x294)],_0x579576=currentQuizData[_0x1b692e(0xaff)][_0x9cb1ca];if(!userId){showMessage(_0x1b692e(0x328));return;}try{const _0x1e85a5={..._0x579576,'originalTopic':currentQuizData[_0x1b692e(0xf14)],'savedAt':serverTimestamp()},_0x596f3e=collection(db,_0x1b692e(0xc9f)+appId+_0x1b692e(0xa5c)+userId+_0x1b692e(0x305));await addDoc(_0x596f3e,_0x1e85a5),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x565201[_0x1b692e(0x26b)][_0x1b692e(0x937)]('text-purple-600'),_0x565201[_0x1b692e(0x26b)][_0x1b692e(0x224)]('text-green-600'),_0x565201[_0x1b692e(0xeee)]=!![];}catch(_0x414fe7){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x414fe7),showMessage(_0x1b692e(0xe36));}}async function selectProjectAndGenerateBlueprintQuiz(_0x205c1c,_0x44c854=null,_0x458283=null,_0x53851c=![]){const _0x49ee2d=_0x3d653b;cameFromBlueprint=!![];const _0x192753=document[_0x49ee2d(0xb29)]('bp-reference-file-url')?.['value'][_0x49ee2d(0x46f)]();let _0x48dd48=null;if(_0x192753){showMessage(_0x49ee2d(0x757));try{const _0x17f9ba=await fetchFileFromUrl(_0x192753,'reference_onet.pdf'),_0x8df5d5=await new Promise((_0x1f9b00,_0xda0351)=>{const _0x224f8d=_0x49ee2d,_0xdec314=new FileReader();_0xdec314[_0x224f8d(0x4ab)](_0x17f9ba),_0xdec314[_0x224f8d(0x29f)]=()=>_0x1f9b00(_0xdec314[_0x224f8d(0xf1f)][_0x224f8d(0x28c)](',')[0x1]),_0xdec314['onerror']=_0xda0351;});_0x48dd48=[{'inlineData':{'mimeType':_0x17f9ba[_0x49ee2d(0x596)],'data':_0x8df5d5}}],messageModal['classList']['add']('hidden');}catch(_0x4878de){console['error'](_0x49ee2d(0xae6),_0x4878de),showMessage(_0x49ee2d(0x572));}}const _0x2ab97d=document[_0x49ee2d(0xb29)](_0x49ee2d(0xf01)),_0x32bfd0=document[_0x49ee2d(0xb29)](_0x49ee2d(0x2ca)),_0x30f533=_0x2ab97d['querySelector']('h3'),_0x4896da=document[_0x49ee2d(0xb29)](_0x49ee2d(0x7f2)),_0x245163=document['getElementById'](_0x49ee2d(0x954));_0x30f533[_0x49ee2d(0x6ab)]=_0x49ee2d(0x5f9),_0x4896da[_0x49ee2d(0x6ab)]=_0x49ee2d(0xac2),_0x4896da['disabled']=!![];allProjects[_0x49ee2d(0xe84)]===0x0?_0x32bfd0[_0x49ee2d(0xd04)]=_0x49ee2d(0x48f):(_0x32bfd0[_0x49ee2d(0xd04)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x4271f7=>_0x49ee2d(0x801)+_0x4271f7['id']+'\x22>'+_0x4271f7[_0x49ee2d(0xa05)]+'</option>')[_0x49ee2d(0x87d)](''),_0x4896da[_0x49ee2d(0xeee)]=![]);_0x2ab97d[_0x49ee2d(0x26b)][_0x49ee2d(0x937)]('hidden');const _0x176b7b=async()=>{const _0x1490ea=_0x49ee2d,_0x5ef411=_0x32bfd0['value'];if(!_0x5ef411){showMessage(_0x1490ea(0xce1));return;}_0x2ab97d[_0x1490ea(0x26b)][_0x1490ea(0x224)]('hidden'),document[_0x1490ea(0xb29)]('blueprint-project-manager-view')['classList'][_0x1490ea(0x224)](_0x1490ea(0x932)),await loadProjectDetails(_0x5ef411),showView(_0x1490ea(0xcf3)),handleGenerateQuizFromBlueprintTopic(_0x205c1c,_0x44c854,_0x5ef411,_0x458283,_0x53851c,_0x48dd48),_0x1ffebd();},_0x1ffebd=()=>{const _0x22d722=_0x49ee2d;_0x30f533[_0x22d722(0x6ab)]=_0x22d722(0xa98),_0x4896da['textContent']=_0x22d722(0x5ee),_0x4896da['removeEventListener'](_0x22d722(0xc7b),_0x176b7b),_0x245163[_0x22d722(0xadb)](_0x22d722(0xc7b),_0x1ffebd),_0x4896da['addEventListener'](_0x22d722(0xc7b),confirmMoveQuiz);};_0x4896da[_0x49ee2d(0xadb)]('click',confirmMoveQuiz),_0x4896da[_0x49ee2d(0x652)]('click',_0x176b7b),_0x245163['addEventListener'](_0x49ee2d(0xc7b),_0x1ffebd);}function _0x1c86(_0x31720f,_0x2dcf4d){const _0x56fc80=_0x56fc();return _0x1c86=function(_0x1c8699,_0x189a6e){_0x1c8699=_0x1c8699-0x167;let _0x323901=_0x56fc80[_0x1c8699];return _0x323901;},_0x1c86(_0x31720f,_0x2dcf4d);}function listenForStarredQuizzes(){const _0x6b9b33=_0x3d653b;if(!userId)return;const _0x25eab3=collection(db,_0x6b9b33(0xc9f)+appId+_0x6b9b33(0xd47)),_0x1d4542=query(_0x25eab3,where(_0x6b9b33(0x82d),'==',!![]));onSnapshot(_0x1d4542,_0x39cf0e=>{const _0x321e11=_0x6b9b33;starredQuizzes=_0x39cf0e[_0x321e11(0x574)][_0x321e11(0x643)](_0x2ade8d=>({'id':_0x2ade8d['id'],..._0x2ade8d['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x3de8e3=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x3de8e3);});}function listenForFileShortcuts(){const _0x172c09=_0x3d653b,_0x277c07=doc(db,_0x172c09(0x445),_0x172c09(0xdc8));onSnapshot(_0x277c07,_0x151643=>{const _0x2b0197=_0x172c09;let _0x57df56=[],_0x35328f=[],_0x154dfd={};if(_0x151643[_0x2b0197(0x267)]()){const _0x5c73e9=_0x151643[_0x2b0197(0xcbd)]();_0x57df56=_0x5c73e9[_0x2b0197(0xef1)]||[],_0x35328f=_0x5c73e9[_0x2b0197(0x528)]||[],_0x154dfd=_0x5c73e9[_0x2b0197(0xec1)]||{};}!_0x35328f['find'](_0x31761c=>_0x31761c['id']==='all')&&_0x35328f[_0x2b0197(0x583)]({'id':_0x2b0197(0x689),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x57df56[_0x2b0197(0xb46)](_0x11c38f=>_0x11c38f['id']===_0x2b0197(0x25b))&&_0x57df56[_0x2b0197(0x583)]({'id':'file-default-1','name':_0x2b0197(0xc60),'url':'','isDefault':!![]}),!_0x57df56['find'](_0x38c75c=>_0x38c75c['id']===_0x2b0197(0xc06))&&_0x57df56[_0x2b0197(0x583)]({'id':_0x2b0197(0xc06),'name':_0x2b0197(0xcea),'url':'','isDefault':!![]}),fileShortcuts=_0x57df56,fileShortcutTabs=_0x35328f,fileShortcutOrder=_0x154dfd,renderFileShortcuts(),!document[_0x2b0197(0xb29)](_0x2b0197(0x661))['classList'][_0x2b0197(0xa4c)](_0x2b0197(0x932))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x482430=_0x3d653b,_0x5e2f56=doc(db,_0x482430(0x445),_0x482430(0xdc8));try{await setDoc(_0x5e2f56,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x7f2f64){console['error']('Error\x20saving\x20file\x20shortcut\x20config:',_0x7f2f64);}}function renderAdditionalFileShortcutsModal(){const _0x195b3d=_0x3d653b,_0x3b6481=document[_0x195b3d(0xb29)](_0x195b3d(0x9ba)),_0xbb983a=document['getElementById']('additional-file-shortcuts-list');if(!_0x3b6481||!_0xbb983a)return;_0x3b6481[_0x195b3d(0xd04)]=fileShortcutTabs[_0x195b3d(0x643)](_0x5b0346=>{const _0x4e81a6=_0x195b3d,_0x17f3a2=_0x5b0346['id']===activeFileShortcutTabId;return _0x4e81a6(0xed2)+_0x5b0346['id']+_0x4e81a6(0x907)+(_0x17f3a2?_0x4e81a6(0x523):_0x4e81a6(0xab9))+_0x4e81a6(0xc8e)+_0x5b0346['name']+_0x4e81a6(0xb0f)+_0x5b0346[_0x4e81a6(0x77f)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5b0346[_0x4e81a6(0x66b)]?_0x4e81a6(0x503)+_0x5b0346['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x4e81a6(0x417);})[_0x195b3d(0x87d)]('');const _0x3dc5c2=fileShortcutTabs[_0x195b3d(0xb46)](_0xb6785e=>_0xb6785e['id']===activeFileShortcutTabId);let _0x16e153=_0x3dc5c2?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0x195b3d(0x5f5)](_0x1a6f51=>(_0x3dc5c2?.[_0x195b3d(0x23f)]||[])[_0x195b3d(0xecb)](_0x1a6f51['id']));const _0x147db7=fileShortcutOrder[activeFileShortcutTabId]||[];_0x16e153[_0x195b3d(0xb9f)]((_0x17e531,_0x45a81f)=>{const _0x4e7e73=_0x195b3d,_0x43c63d=_0x147db7[_0x4e7e73(0x629)](_0x17e531['id']),_0x4e053b=_0x147db7[_0x4e7e73(0x629)](_0x45a81f['id']);return(_0x43c63d===-0x1?Infinity:_0x43c63d)-(_0x4e053b===-0x1?Infinity:_0x4e053b);}),_0xbb983a[_0x195b3d(0xd04)]=_0x16e153['map'](_0x56484e=>{const _0x165e5c=_0x195b3d,_0x84bde=_0x56484e[_0x165e5c(0x5a7)]?'📄':'🔗',_0x3d5634=fileShortcutTabs[_0x165e5c(0x5f5)](_0x5bde77=>!_0x5bde77[_0x165e5c(0x66b)]),_0x2a0e95=_0x3dc5c2[_0x165e5c(0x66b)]&&_0x3d5634[_0x165e5c(0xe84)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d5634[_0x165e5c(0x643)](_0x48d838=>_0x165e5c(0x91e)+_0x56484e['id']+_0x165e5c(0x337)+_0x48d838['id']+'\x22>'+_0x48d838[_0x165e5c(0x77f)]+_0x165e5c(0x7ce))['join']('')+_0x165e5c(0x5f3):'';return _0x165e5c(0x1fb)+_0x56484e['id']+_0x165e5c(0xbd1)+_0x84bde+'\x20'+_0x56484e[_0x165e5c(0x77f)]+_0x165e5c(0x646)+_0x56484e['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x56484e['id']+_0x165e5c(0x5f4)+(!_0x56484e[_0x165e5c(0x66b)]?_0x165e5c(0x7ad)+_0x56484e['id']+_0x165e5c(0x4f9):'')+_0x165e5c(0x3f7)+(!_0x3dc5c2[_0x165e5c(0x66b)]?'<button\x20data-shortcut-id=\x22'+_0x56484e['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x165e5c(0x3f7)+_0x2a0e95+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x195b3d(0x87d)]('')||_0x195b3d(0x517),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x18f26f=_0x3d653b;document[_0x18f26f(0x948)]('.file-shortcut-tab-btn')[_0x18f26f(0x57b)](_0x2cdb86=>{const _0x562bde=_0x18f26f;_0x2cdb86[_0x562bde(0x675)]=_0x1e9d86=>{const _0x3ef338=_0x562bde;activeFileShortcutTabId=_0x1e9d86['currentTarget']['dataset'][_0x3ef338(0x2c0)],renderAdditionalFileShortcutsModal();},_0x2cdb86['ondblclick']=_0xcbd2ef=>{const _0x41e496=_0x562bde,_0x28d946=_0xcbd2ef[_0x41e496(0x47f)][_0x41e496(0x327)]('.tab-name-input');_0xcbd2ef[_0x41e496(0x47f)][_0x41e496(0x327)](_0x41e496(0x7b5))[_0x41e496(0x26b)]['add'](_0x41e496(0x932)),_0x28d946[_0x41e496(0x26b)]['remove'](_0x41e496(0x932)),_0x28d946[_0x41e496(0xba4)](),_0x28d946[_0x41e496(0x4fd)]();};}),document['querySelectorAll'](_0x18f26f(0xbfb))[_0x18f26f(0x57b)](_0x2d1659=>{const _0x5a7f34=_0x18f26f,_0x18292a=()=>{const _0x5a8c5b=_0x1c86,_0x3bdefe=_0x2d1659['closest'](_0x5a8c5b(0x9ea))[_0x5a8c5b(0x63c)][_0x5a8c5b(0x2c0)],_0xda9cc7=fileShortcutTabs[_0x5a8c5b(0xb46)](_0x3d03c5=>_0x3d03c5['id']===_0x3bdefe);_0xda9cc7&&(_0xda9cc7[_0x5a8c5b(0x77f)]=_0x2d1659[_0x5a8c5b(0xc4b)][_0x5a8c5b(0x46f)]()||_0xda9cc7[_0x5a8c5b(0x77f)],saveFileShortcutConfig());};_0x2d1659[_0x5a7f34(0x33c)]=_0x18292a,_0x2d1659['onkeydown']=_0x2ea6f8=>{const _0x237c91=_0x5a7f34;if(_0x2ea6f8[_0x237c91(0xb5f)]==='Enter')_0x2d1659['blur']();};}),document['querySelectorAll'](_0x18f26f(0xb13))[_0x18f26f(0x57b)](_0x2cce72=>_0x2cce72[_0x18f26f(0x675)]=_0x5a7074=>{const _0x44ad27=_0x18f26f,_0x3b752d=_0x5a7074[_0x44ad27(0x47f)]['dataset']['tabId'];showConfirmation(_0x44ad27(0xbc4),()=>{const _0x33bab9=_0x44ad27;fileShortcutTabs=fileShortcutTabs['filter'](_0xe8b9c5=>_0xe8b9c5['id']!==_0x3b752d),delete fileShortcutOrder[_0x3b752d];if(activeFileShortcutTabId===_0x3b752d)activeFileShortcutTabId=_0x33bab9(0x689);saveFileShortcutConfig();});}),document[_0x18f26f(0x948)](_0x18f26f(0x642))[_0x18f26f(0x57b)](_0x2251b1=>_0x2251b1[_0x18f26f(0x675)]=_0x3cc1bf=>{const _0x5b8f96=_0x18f26f;_0x3cc1bf[_0x5b8f96(0x486)]();const {shortcutId:_0x1f3777,targetTabId:_0x55b333}=_0x3cc1bf[_0x5b8f96(0x47f)]['dataset'],_0x266a83=fileShortcutTabs['find'](_0xbf8f2a=>_0xbf8f2a['id']===_0x55b333);_0x266a83&&!_0x266a83[_0x5b8f96(0x23f)]['includes'](_0x1f3777)&&(_0x266a83[_0x5b8f96(0x23f)][_0x5b8f96(0xf06)](_0x1f3777),saveFileShortcutConfig());}),document[_0x18f26f(0x948)](_0x18f26f(0xb02))[_0x18f26f(0x57b)](_0x409b61=>_0x409b61[_0x18f26f(0x675)]=_0x3693f7=>{const _0x5401e0=_0x18f26f,_0x1aaf10=_0x3693f7[_0x5401e0(0x47f)]['dataset']['shortcutId'],_0x381999=fileShortcutTabs[_0x5401e0(0xb46)](_0x102397=>_0x102397['id']===activeFileShortcutTabId);_0x381999&&!_0x381999['isDefault']&&(_0x381999['shortcutIds']=_0x381999[_0x5401e0(0x23f)]['filter'](_0x17be09=>_0x17be09!==_0x1aaf10),saveFileShortcutConfig());}),document[_0x18f26f(0x948)]('.move-file-shortcut-menu-btn')['forEach'](_0x4a9f79=>_0x4a9f79['onclick']=_0xf201c5=>{const _0x3bffae=_0x18f26f;_0xf201c5[_0x3bffae(0x2eb)]();const _0x34b461=_0xf201c5[_0x3bffae(0x47f)][_0x3bffae(0x83d)];document[_0x3bffae(0x948)](_0x3bffae(0x80e))['forEach'](_0x1f661d=>_0x1f661d['classList'][_0x3bffae(0x224)]('hidden')),_0x34b461['classList'][_0x3bffae(0x937)](_0x3bffae(0x932));});const _0x76a5a2=document[_0x18f26f(0xb29)]('additional-file-shortcuts-list');let _0x3b2f2e=null;_0x76a5a2[_0x18f26f(0xbad)]=_0x1033b3=>{const _0x498502=_0x18f26f;_0x3b2f2e=_0x1033b3[_0x498502(0xadf)][_0x498502(0x2e3)](_0x498502(0x38c));if(_0x3b2f2e)setTimeout(()=>_0x3b2f2e[_0x498502(0x26b)][_0x498502(0x224)]('opacity-50'),0x0);},_0x76a5a2[_0x18f26f(0x974)]=()=>{const _0x1eaeb4=_0x18f26f;_0x3b2f2e&&(_0x3b2f2e['classList'][_0x1eaeb4(0x937)](_0x1eaeb4(0xaa1)),_0x3b2f2e=null);},_0x76a5a2[_0x18f26f(0x5d0)]=_0x383a48=>{const _0x29f8ea=_0x18f26f;_0x383a48[_0x29f8ea(0x486)]();},_0x76a5a2[_0x18f26f(0xc07)]=_0x22e512=>{const _0x2f7cfa=_0x18f26f;_0x22e512[_0x2f7cfa(0x486)]();if(_0x3b2f2e){const _0x5c50db=[..._0x76a5a2[_0x2f7cfa(0x948)](_0x2f7cfa(0x6bc))][_0x2f7cfa(0x1eb)]((_0x243d8a,_0x2cc0a4)=>{const _0x428f4b=_0x2f7cfa,_0x454226=_0x2cc0a4['getBoundingClientRect'](),_0x31b3f5=_0x22e512['clientY']-_0x454226[_0x428f4b(0x290)]-_0x454226[_0x428f4b(0x674)]/0x2;return _0x31b3f5<0x0&&_0x31b3f5>_0x243d8a[_0x428f4b(0x181)]?{'offset':_0x31b3f5,'element':_0x2cc0a4}:_0x243d8a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x2f7cfa(0x530)];_0x5c50db==null?_0x76a5a2['appendChild'](_0x3b2f2e):_0x76a5a2[_0x2f7cfa(0x192)](_0x3b2f2e,_0x5c50db);const _0x531535=[..._0x76a5a2['querySelectorAll'](_0x2f7cfa(0x38c))][_0x2f7cfa(0x643)](_0x5636ef=>_0x5636ef['dataset'][_0x2f7cfa(0x784)]);fileShortcutOrder[activeFileShortcutTabId]=_0x531535,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x40b625=_0x3d653b,_0x38816e=prompt(_0x40b625(0x8fe),_0x40b625(0x64d));_0x38816e&&_0x38816e[_0x40b625(0x46f)]()&&(fileShortcutTabs[_0x40b625(0xf06)]({'id':_0x40b625(0x5db)+Date[_0x40b625(0xbd7)](),'name':_0x38816e[_0x40b625(0x46f)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x5ab5ca=_0x3d653b,_0x2c9161=document[_0x5ab5ca(0xb29)](_0x5ab5ca(0x388)),_0x2220ae=document[_0x5ab5ca(0xb29)](_0x5ab5ca(0x29d)),_0x653f7d=document['getElementById']('file-shortcuts-loading-msg');if(_0x653f7d)_0x653f7d['classList'][_0x5ab5ca(0x224)](_0x5ab5ca(0x932));if(!_0x2c9161||!_0x2220ae)return;const _0x2e8f25=fileShortcuts['slice'](0x0,0x4),_0x1e0280=fileShortcuts['slice'](0x4);_0x2c9161[_0x5ab5ca(0xd04)]=_0x2e8f25[_0x5ab5ca(0x643)](_0x60b3fe=>{const _0x3e8e38=_0x5ab5ca,_0xa45487=_0x60b3fe[_0x3e8e38(0x5a7)]&&_0x60b3fe[_0x3e8e38(0x5a7)][_0x3e8e38(0x46f)]()!=='',_0x380f5a=selectedFile&&selectedFile[_0x3e8e38(0x784)]===_0x60b3fe['id'];let _0x169676=_0x3e8e38(0xf0f),_0x388276='🔗';if(_0x380f5a)_0x169676='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x388276='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0xa45487&&(_0x169676=_0x3e8e38(0x4bb),_0x388276='📄');const _0x1d07f8=!_0x60b3fe['isDefault']?_0x3e8e38(0x7ad)+_0x60b3fe['id']+_0x3e8e38(0xbd8):'';return _0x3e8e38(0x6ff)+_0x60b3fe['id']+_0x3e8e38(0xdef)+_0x169676+_0x3e8e38(0x7b0)+_0x388276+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x60b3fe[_0x3e8e38(0x77f)]+_0x3e8e38(0x2d7)+_0x60b3fe['id']+_0x3e8e38(0xdb7)+_0x1d07f8+_0x3e8e38(0x2d9);})[_0x5ab5ca(0x87d)](''),_0x1e0280[_0x5ab5ca(0xe84)]>0x0&&(_0x2c9161[_0x5ab5ca(0xd04)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1e0280[_0x5ab5ca(0xe84)]>0x0?_0x2220ae['innerHTML']=_0x1e0280[_0x5ab5ca(0x643)](_0x21e299=>_0x5ab5ca(0x1fa)+(_0x21e299[_0x5ab5ca(0x5a7)]?'📄':'🔗')+'\x20'+_0x21e299['name']+_0x5ab5ca(0xd5b)+_0x21e299['id']+_0x5ab5ca(0xe73)+_0x21e299['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x21e299[_0x5ab5ca(0x66b)]?_0x5ab5ca(0x7ad)+_0x21e299['id']+_0x5ab5ca(0x4f9):'')+_0x5ab5ca(0xce9))[_0x5ab5ca(0x87d)](''):_0x2220ae[_0x5ab5ca(0xd04)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0xa383c0=null){const _0x206b6d=_0x3d653b,_0x53d45c=document[_0x206b6d(0xb29)](_0x206b6d(0xe28)),_0x71ce81=document[_0x206b6d(0xb29)](_0x206b6d(0xab8)),_0x1183ef=document[_0x206b6d(0xb29)](_0x206b6d(0x724)),_0x23215e=document['getElementById']('file-shortcut-name-input'),_0x48ea75=document['getElementById'](_0x206b6d(0x194));if(_0xa383c0){const _0x22e1da=fileShortcuts[_0x206b6d(0xb46)](_0x57cee9=>_0x57cee9['id']===_0xa383c0);if(!_0x22e1da)return;_0x71ce81[_0x206b6d(0x6ab)]='แก้ไขปุ่มลัดจากไฟล์',_0x1183ef['value']=_0x22e1da['id'],_0x23215e['value']=_0x22e1da[_0x206b6d(0x77f)],_0x48ea75[_0x206b6d(0xc4b)]=_0x22e1da[_0x206b6d(0x5a7)]||'';}else _0x71ce81[_0x206b6d(0x6ab)]=_0x206b6d(0x174),_0x1183ef[_0x206b6d(0xc4b)]='',_0x23215e['value']='',_0x48ea75[_0x206b6d(0xc4b)]='';_0x53d45c[_0x206b6d(0x26b)][_0x206b6d(0x937)](_0x206b6d(0x932));}async function saveFileShortcutChanges(){const _0x25c9a6=_0x3d653b,_0xeef5bd=document[_0x25c9a6(0xb29)](_0x25c9a6(0x724))[_0x25c9a6(0xc4b)],_0xd7dc0a=document['getElementById'](_0x25c9a6(0x96b))['value'][_0x25c9a6(0x46f)](),_0x76b57c=document['getElementById'](_0x25c9a6(0x194))['value'][_0x25c9a6(0x46f)]();if(!_0xd7dc0a){showMessage(_0x25c9a6(0x1c7));return;}const _0x315418={'id':_0xeef5bd||_0x25c9a6(0xc00)+Date[_0x25c9a6(0xbd7)](),'name':_0xd7dc0a,'url':_0x76b57c,'isDefault':_0xeef5bd['startsWith']('file-default-')};let _0x506902;_0xeef5bd?_0x506902=fileShortcuts[_0x25c9a6(0x643)](_0x346848=>_0x346848['id']===_0xeef5bd?_0x315418:_0x346848):_0x506902=[...fileShortcuts,_0x315418];try{const _0x266330=doc(db,_0x25c9a6(0x445),_0x25c9a6(0xdc8));await setDoc(_0x266330,{'shortcuts':_0x506902},{'merge':!![]}),document[_0x25c9a6(0xb29)](_0x25c9a6(0xe28))[_0x25c9a6(0x26b)][_0x25c9a6(0x224)](_0x25c9a6(0x932));}catch(_0x7b152d){console[_0x25c9a6(0x3b5)](_0x25c9a6(0x46d),_0x7b152d),showMessage(_0x25c9a6(0xe36));}}async function handleFileShortcutClick(_0x2810e7){const _0x19721e=_0x3d653b,_0x1dda7e=fileShortcuts[_0x19721e(0xb46)](_0x25b3a2=>_0x25b3a2['id']===_0x2810e7);if(!_0x1dda7e)return;if(!_0x1dda7e[_0x19721e(0x5a7)]||_0x1dda7e[_0x19721e(0x5a7)]['trim']()===''){openFileShortcutEditor(_0x2810e7);return;}const _0x526243=document[_0x19721e(0x327)]('.file-shortcut-btn[data-id=\x22'+_0x2810e7+'\x22]');if(_0x526243){const _0x418c54=_0x526243['innerHTML'];_0x526243['innerHTML']=_0x19721e(0x513),_0x526243[_0x19721e(0xeee)]=!![];}document[_0x19721e(0x948)](_0x19721e(0xa0c))['forEach'](_0x38cd4b=>{const _0x323ee7=_0x19721e;if(_0x38cd4b[_0x323ee7(0x63c)]['id']!==_0x2810e7)_0x38cd4b['classList'][_0x323ee7(0x224)](_0x323ee7(0xaa1),_0x323ee7(0x586));});try{const _0x4f3966=new URL(_0x1dda7e['url'])[_0x19721e(0xb18)],_0x2dc221=_0x4f3966['substring'](_0x4f3966['lastIndexOf']('/')+0x1)||(_0x1dda7e[_0x19721e(0x5a7)][_0x19721e(0xecb)](_0x19721e(0x68a))?'file.txt':_0x19721e(0x88b)),_0x259ab5=await fetchFileFromUrl(_0x1dda7e['url'],_0x2dc221);_0x259ab5[_0x19721e(0x784)]=_0x2810e7,selectedFile=_0x259ab5,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x19721e(0xb29)](_0x19721e(0x6be))[_0x19721e(0x660)]({'behavior':_0x19721e(0x284),'block':_0x19721e(0x351)});}catch(_0x52ddf3){console['error'](_0x19721e(0x7c1),_0x52ddf3),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x52ddf3['message']),renderFileShortcuts();}finally{document[_0x19721e(0x948)](_0x19721e(0xa0c))['forEach'](_0x5ab3e8=>{const _0x2804f8=_0x19721e;_0x5ab3e8['classList'][_0x2804f8(0x937)](_0x2804f8(0xaa1),_0x2804f8(0x586)),_0x5ab3e8[_0x2804f8(0xeee)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x253657=_0x3d653b;if(allQuizzesGlobal[_0x253657(0xe84)]>0x0)return;console['log'](_0x253657(0x2d3)),showMessage(_0x253657(0x962));try{const _0x3241fc=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x3241fc[_0x253657(0x574)][_0x253657(0x643)](_0x20df38=>({'id':_0x20df38['id'],..._0x20df38[_0x253657(0xcbd)]()})),console[_0x253657(0xee3)]('Loaded\x20'+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x253657(0x26b)]['add'](_0x253657(0x932));}catch(_0x3473c1){console[_0x253657(0x3b5)](_0x253657(0xbb0),_0x3473c1),messageModal[_0x253657(0x26b)][_0x253657(0x224)](_0x253657(0x932));throw new Error(_0x253657(0xdaa));}}function exportQuizAsWorksheetPDF(){const _0x3b4005=_0x3d653b;if(!currentQuizData||!currentQuizData[_0x3b4005(0xaff)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3a5715=currentQuizData,_0x47b899=window[_0x3b4005(0xcd6)]('',_0x3b4005(0x4d9)),_0x127bce=_0x3367a2=>String[_0x3b4005(0x9b7)](0x41+_0x3367a2),_0x1e1c81='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x3a5715[_0x3b4005(0xf14)]+_0x3b4005(0xce6)+_0x3a5715[_0x3b4005(0xf14)]+_0x3b4005(0x200)+_0x3a5715['questions'][_0x3b4005(0x643)]((_0x3ee07c,_0x36754)=>{const _0x49b619=_0x3b4005;let _0x458adc='';const _0x1933c3=_0x3ee07c[_0x49b619(0xc4a)]||_0x3a5715[_0x49b619(0xca5)];switch(_0x1933c3){case _0x49b619(0xa08):case _0x49b619(0xcec):_0x458adc=_0x49b619(0xe1f)+_0x3ee07c[_0x49b619(0x802)][_0x49b619(0x643)]((_0x218ef1,_0x20e6a5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x127bce(_0x20e6a5)+'.\x20'+_0x218ef1+_0x49b619(0x973))[_0x49b619(0x87d)]('<br>')+_0x49b619(0xe78);break;case _0x49b619(0x80d):_0x458adc=_0x49b619(0x1cc);break;default:_0x458adc=_0x49b619(0xa5a);break;}return _0x49b619(0xb3d)+(_0x36754+0x1)+_0x49b619(0x353)+(_0x3ee07c[_0x49b619(0x3bf)]||_0x3ee07c[_0x49b619(0x4cd)])+_0x49b619(0x9b2)+(_0x3ee07c[_0x49b619(0x921)]?_0x49b619(0x9db)+_0x3ee07c[_0x49b619(0x921)]+'</div>':'')+_0x49b619(0x80a)+_0x458adc+_0x49b619(0xa3e);})['join']('')+_0x3b4005(0x87c);_0x47b899[_0x3b4005(0x77a)][_0x3b4005(0x8bd)](_0x1e1c81),_0x47b899[_0x3b4005(0x77a)][_0x3b4005(0x21f)](),_0x47b899[_0x3b4005(0x29f)]=function(){setTimeout(()=>{const _0x8ffbe8=_0x1c86;_0x47b899[_0x8ffbe8(0x6fc)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1e67fd=_0x3d653b;if(!currentQuizData||!currentQuizData[_0x1e67fd(0xaff)]){showMessage(_0x1e67fd(0x560));return;}const _0x410b4b=currentQuizData,_0x3cce3f=window[_0x1e67fd(0xcd6)]('',_0x1e67fd(0x4d9)),_0xf4d3f1=_0x27497e=>String[_0x1e67fd(0x9b7)](0x41+_0x27497e),_0x3e4fa8=_0x1e67fd(0xdb8)+_0x410b4b['topic']+_0x1e67fd(0x72c)+_0x410b4b['questions'][_0x1e67fd(0x643)]((_0x546df4,_0x132dd)=>{const _0x452e44=_0x1e67fd;let _0x27ef75='';const _0xc76444=_0x546df4[_0x452e44(0xc4a)]||_0x410b4b['quizType'];switch(_0xc76444){case _0x452e44(0xa08):case _0x452e44(0xcec):_0x27ef75=_0x452e44(0x95a)+_0x546df4[_0x452e44(0x802)][_0x452e44(0x643)]((_0x2d4137,_0x37f404)=>_0x452e44(0xa74)+_0xf4d3f1(_0x37f404)+'.\x20'+_0x2d4137+_0x452e44(0x8e8))['join'](_0x452e44(0x1ed))+_0x452e44(0x657);break;case'true_false':_0x27ef75=_0x452e44(0xbf2);break;default:_0x27ef75='';break;}return _0x452e44(0x9a6)+_0x410b4b[_0x452e44(0xf14)]+_0x452e44(0x5b3)+(_0x132dd+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x546df4[_0x452e44(0x3bf)]||_0x546df4['questionText'])+_0x452e44(0x9b2)+(_0x546df4[_0x452e44(0x921)]?'<div\x20class=\x22my-6\x22>'+_0x546df4[_0x452e44(0x921)]+_0x452e44(0xe78):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27ef75+_0x452e44(0x5d1);})['join']('')+_0x1e67fd(0x767);_0x3cce3f[_0x1e67fd(0x77a)][_0x1e67fd(0x8bd)](_0x3e4fa8),_0x3cce3f[_0x1e67fd(0x77a)][_0x1e67fd(0x21f)](),_0x3cce3f[_0x1e67fd(0x29f)]=function(){setTimeout(()=>{const _0xc49142=_0x1c86;_0x3cce3f[_0xc49142(0x6fc)]();},0x5dc);};}async function handleToggleStarQuiz(_0x23b6d9){const _0x1bb39a=_0x3d653b,_0x1041fb=doc(db,_0x1bb39a(0xc9f)+appId+_0x1bb39a(0xd47),_0x23b6d9);try{const _0x527163=await getDoc(_0x1041fb);if(_0x527163[_0x1bb39a(0x267)]()){const _0x4cfaf4=_0x527163[_0x1bb39a(0xcbd)]()[_0x1bb39a(0x82d)]||![];await updateDoc(_0x1041fb,{'isStarred':!_0x4cfaf4});}}catch(_0x457b19){console[_0x1bb39a(0x3b5)]('Error\x20toggling\x20star\x20status:',_0x457b19),showMessage(_0x1bb39a(0xde4));}}async function displayQuestionBank(){const _0x355cc5=_0x3d653b,_0x5ed5d3=document[_0x355cc5(0xb29)](_0x355cc5(0xc3c));_0x5ed5d3['innerHTML']=_0x355cc5(0x543);try{const _0x58501a=collection(db,_0x355cc5(0xc9f)+appId+_0x355cc5(0xa5c)+userId+_0x355cc5(0x305)),_0x3452e1=query(_0x58501a),_0x213212=await getDocs(_0x3452e1);if(_0x213212['empty']){_0x5ed5d3[_0x355cc5(0xd04)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x5afab6=_0x213212[_0x355cc5(0x574)]['map'](_0x370a15=>{const _0x4a51ba=_0x355cc5,_0x238ea3=_0x370a15['data'](),_0x3173ea=_0x370a15['id'];return _0x4a51ba(0xb0c)+JSON[_0x4a51ba(0x437)](_0x238ea3)+_0x4a51ba(0x1ee)+(_0x238ea3[_0x4a51ba(0x4cd)]||_0x238ea3[_0x4a51ba(0x3bf)])+_0x4a51ba(0x765)+_0x238ea3[_0x4a51ba(0x893)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x5ed5d3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x5afab6+_0x355cc5(0xa8c),document[_0x355cc5(0xb29)](_0x355cc5(0xb1b))[_0x355cc5(0x652)](_0x355cc5(0xc7b),createQuizFromBank);}catch(_0xda87d5){console[_0x355cc5(0x3b5)](_0x355cc5(0x9ae),_0xda87d5),_0x5ed5d3[_0x355cc5(0xd04)]=_0x355cc5(0xa1f);}}async function handleExportLessonToPDF(){const _0x4eadd4=_0x3d653b,_0x2ff10c=document[_0x4eadd4(0xb29)]('lesson-sections-container'),_0x4260bb=document[_0x4eadd4(0xb29)](_0x4eadd4(0x27f))[_0x4eadd4(0x6ab)]||_0x4eadd4(0x4b7);if(!_0x2ff10c){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x348e96=window['open']('',_0x4eadd4(0x4d9)),_0x6206ca=_0x4eadd4(0xcd4)+_0x4260bb+_0x4eadd4(0x65e)+_0x4260bb+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ff10c[_0x4eadd4(0xd04)]+_0x4eadd4(0x82f);_0x348e96[_0x4eadd4(0x77a)][_0x4eadd4(0x8bd)](_0x6206ca),_0x348e96['document']['close'](),_0x348e96[_0x4eadd4(0x29f)]=function(){setTimeout(()=>{_0x348e96['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x37734f,_0x292d21,_0x2f0591){const _0x17b42e=_0x3d653b,_0x4d0dff=_0x37734f[_0x17b42e(0xc4a)]||currentQuizData[_0x17b42e(0xca5)];let _0x12f2a1='';if(_0x4d0dff==='multiple_choice'||_0x4d0dff===_0x17b42e(0x80d)){const _0x619b52=_0x4d0dff===_0x17b42e(0x80d)?[_0x17b42e(0x8b6),'ไม่ใช่']:_0x37734f[_0x17b42e(0x802)],_0x102ae4=_0x4d0dff==='true_false'?_0x37734f['correctAnswer']?0x0:0x1:_0x37734f['correctAnswerIndex'];_0x12f2a1=_0x619b52[_0x17b42e(0x643)]((_0x2da3da,_0x521d1f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x521d1f===_0x102ae4)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2da3da+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17b42e(0x87d)]('');}else{if(_0x4d0dff===_0x17b42e(0x76e)){const _0x597ec9=_0x37734f['allResponses']||[];_0x12f2a1=_0x597ec9['map'](_0x47862a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x47862a===_0x37734f[_0x17b42e(0x500)])+_0x17b42e(0x1fc)+_0x47862a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17b42e(0x87d)]('');}}const _0x13d0a6=_0x37734f[_0x17b42e(0x3bf)]||_0x37734f[_0x17b42e(0x4cd)],_0x282f8e=_0x17b42e(0x65b)+(_0x292d21+0x1)+_0x17b42e(0x490)+_0x2f0591+_0x17b42e(0x394)+currentLiveGamePin+_0x17b42e(0x980)+_0x13d0a6+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12f2a1+_0x17b42e(0x4be);liveGameView[_0x17b42e(0xd04)]=_0x282f8e,window[_0x17b42e(0x348)]&&MathJax[_0x17b42e(0x7e6)]&&MathJax[_0x17b42e(0x7e6)]([liveGameView]),document[_0x17b42e(0xb29)](_0x17b42e(0xc9d))[_0x17b42e(0x652)]('click',()=>revealAnswerForAdmin(_0x292d21,_0x2f0591)),document[_0x17b42e(0xb29)](_0x17b42e(0x9da))['addEventListener'](_0x17b42e(0xc7b),async()=>{const _0x2b060c=_0x17b42e;showConfirmation(_0x2b060c(0xc86),async()=>{const _0x4205a9=_0x2b060c,_0x10a8bf=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x10a8bf,{'status':_0x4205a9(0x4da)});});}),document['getElementById'](_0x17b42e(0xd72))[_0x17b42e(0x652)](_0x17b42e(0xc7b),()=>{const _0x3cc4a9=_0x17b42e;document[_0x3cc4a9(0xb29)](_0x3cc4a9(0xd05))[_0x3cc4a9(0x26b)][_0x3cc4a9(0xc28)](_0x3cc4a9(0x932));});}function promptForProjectBeforeGenerating(_0xbaceab){const _0x4628fa=_0x3d653b,_0x425b28=document[_0x4628fa(0xb29)](_0x4628fa(0xf01)),_0x554104=document['getElementById'](_0x4628fa(0x2ca)),_0x4a4030=_0x425b28[_0x4628fa(0x327)]('h3'),_0x2db932=document[_0x4628fa(0xb29)](_0x4628fa(0x7f2)),_0x5f5029=document[_0x4628fa(0xb29)](_0x4628fa(0x954));_0x4a4030[_0x4628fa(0x6ab)]=_0x4628fa(0x5f9),_0x2db932[_0x4628fa(0x6ab)]=_0x4628fa(0xac2),_0x2db932[_0x4628fa(0xeee)]=!![];allProjects['length']===0x0?_0x554104['innerHTML']=_0x4628fa(0x48f):(_0x554104[_0x4628fa(0xd04)]=_0x4628fa(0xd3d)+allProjects[_0x4628fa(0x643)](_0x18ee33=>'<option\x20value=\x22'+_0x18ee33['id']+'\x22>'+_0x18ee33['projectName']+_0x4628fa(0xdea))['join'](''),_0x2db932[_0x4628fa(0xeee)]=![]);_0x425b28['classList']['remove'](_0x4628fa(0x932));const _0x526cf3=async()=>{const _0x270041=_0x4628fa,_0x21e6d6=_0x554104[_0x270041(0xc4b)];if(!_0x21e6d6){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x425b28['classList']['add'](_0x270041(0x932)),await loadProjectDetails(_0x21e6d6),showView(_0x270041(0xcf3)),handleGenerateQuizFromBlueprintTopic(_0xbaceab),_0x9f9142();},_0x9f9142=()=>{const _0x2831ff=_0x4628fa;_0x4a4030['textContent']=_0x2831ff(0xa98),_0x2db932[_0x2831ff(0x6ab)]=_0x2831ff(0x5ee),_0x2db932[_0x2831ff(0xadb)](_0x2831ff(0xc7b),_0x526cf3),_0x5f5029[_0x2831ff(0xadb)](_0x2831ff(0xc7b),_0x9f9142),_0x2db932[_0x2831ff(0x652)](_0x2831ff(0xc7b),confirmMoveQuiz);};_0x2db932[_0x4628fa(0xadb)](_0x4628fa(0xc7b),confirmMoveQuiz),_0x2db932['addEventListener'](_0x4628fa(0xc7b),_0x526cf3),_0x5f5029[_0x4628fa(0x652)](_0x4628fa(0xc7b),_0x9f9142);}function showStudentLiveQuestionView(_0x2feddd,_0x1413d8,_0x168b7f){const _0x28c2df=_0x3d653b,_0xa77b9b=_0x2feddd[_0x28c2df(0xc4a)]||currentQuizData[_0x28c2df(0xca5)];let _0x162bae='';if(_0xa77b9b==='multiple_choice'||_0xa77b9b==='true_false'){const _0x3ede96=_0xa77b9b===_0x28c2df(0x80d)?[_0x28c2df(0x8b6),'ไม่ใช่']:_0x2feddd[_0x28c2df(0x802)];_0x162bae=_0x3ede96[_0x28c2df(0x643)]((_0x1283c9,_0x278ab3)=>_0x28c2df(0x67c)+_0x278ab3+_0x28c2df(0xa85)+_0x1283c9+_0x28c2df(0x359))['join']('');}else{if(_0xa77b9b===_0x28c2df(0x76e)){const _0x1f3e1b=_0x2feddd[_0x28c2df(0x1e4)]||[];_0x162bae=_0x1f3e1b[_0x28c2df(0x643)]((_0x31c202,_0x262f7d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x262f7d+_0x28c2df(0xa85)+_0x31c202+_0x28c2df(0x359))[_0x28c2df(0x87d)]('');}else _0xa77b9b===_0x28c2df(0x9d6)&&(_0x162bae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x3ab723=_0x2feddd[_0x28c2df(0x3bf)]||_0x2feddd[_0x28c2df(0x4cd)],_0x18f0e1=_0x28c2df(0x57a)+(_0x1413d8+0x1)+_0x28c2df(0x490)+_0x168b7f+_0x28c2df(0x822)+_0x3ab723+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x162bae+_0x28c2df(0xa75);liveGameView[_0x28c2df(0xd04)]=_0x18f0e1;window['MathJax']&&MathJax[_0x28c2df(0x7e6)]&&MathJax[_0x28c2df(0x7e6)]([liveGameView]);const _0x2ed166=document[_0x28c2df(0xb29)](_0x28c2df(0x3d2));_0x2ed166&&_0x2ed166[_0x28c2df(0x652)](_0x28c2df(0xc7b),()=>{const _0x268d2b=_0x28c2df,_0xe5bcd1=document[_0x268d2b(0xb29)](_0x268d2b(0xae8))['value'];handleLiveAnswer(_0xe5bcd1,_0x2feddd);}),document[_0x28c2df(0xb29)](_0x28c2df(0xe1b))['addEventListener'](_0x28c2df(0xc7b),_0xcae7fa=>{const _0x458528=_0x28c2df,_0xca084d=_0xcae7fa['target'][_0x458528(0x2e3)](_0x458528(0x8ab));if(_0xca084d){const _0x10b754=parseInt(_0xca084d['dataset'][_0x458528(0x294)]);handleLiveAnswer(_0x10b754,_0x2feddd);}});}function listenForBlueprintShortcuts(){const _0xac2e3f=_0x3d653b,_0x5cd698=doc(db,_0xac2e3f(0x445),_0xac2e3f(0x6f8));onSnapshot(_0x5cd698,_0xa78284=>{const _0x23668c=_0xac2e3f;let _0x356ba1=[],_0x4c60d1=[],_0x5e58cc={};if(_0xa78284[_0x23668c(0x267)]()){const _0x443ef5=_0xa78284[_0x23668c(0xcbd)]();_0x356ba1=_0x443ef5['blueprintShortcuts']||[],_0x4c60d1=_0x443ef5['shortcutTabs']||[],_0x5e58cc=_0x443ef5[_0x23668c(0x91b)]||{};}!_0x4c60d1[_0x23668c(0xb46)](_0x51f7e1=>_0x51f7e1['id']===_0x23668c(0x689))&&_0x4c60d1[_0x23668c(0x583)]({'id':_0x23668c(0x689),'name':_0x23668c(0x3a0),'isDefault':!![]}),!_0x356ba1[_0x23668c(0xb46)](_0x2e75c2=>_0x2e75c2['id']===_0x23668c(0xb23))&&_0x356ba1[_0x23668c(0x583)]({'id':_0x23668c(0xb23),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x356ba1[_0x23668c(0xb46)](_0xe56e9f=>_0xe56e9f['id']===_0x23668c(0x2e6))&&_0x356ba1[_0x23668c(0x583)]({'id':_0x23668c(0x2e6),'name':_0x23668c(0xc0c),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x356ba1,shortcutTabs=_0x4c60d1,shortcutOrder=_0x5e58cc,renderBlueprintShortcuts(),!document[_0x23668c(0xb29)]('additional-shortcuts-modal')[_0x23668c(0x26b)]['contains'](_0x23668c(0x932))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x4b0dfd=_0x3d653b,_0x303609=document[_0x4b0dfd(0xb29)]('shortcut-tabs-nav'),_0x167761=document[_0x4b0dfd(0xb29)]('additional-shortcuts-list');if(!_0x303609||!_0x167761)return;_0x303609[_0x4b0dfd(0xd04)]=shortcutTabs[_0x4b0dfd(0x643)](_0x3dc260=>{const _0x371eda=_0x4b0dfd,_0x5ca048=_0x3dc260['id']===activeShortcutTabId,_0x273c89=_0x371eda(0x523),_0x4cb664='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3dc260['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5ca048?_0x273c89:_0x4cb664)+_0x371eda(0x5d7)+_0x3dc260[_0x371eda(0x77f)]+_0x371eda(0xe5b)+_0x3dc260[_0x371eda(0x77f)]+_0x371eda(0x6a4)+(!_0x3dc260[_0x371eda(0x66b)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3dc260['id']+_0x371eda(0x8fa):'')+_0x371eda(0x2d9);})[_0x4b0dfd(0x87d)]('');const _0x52cdf3=shortcutTabs[_0x4b0dfd(0xb46)](_0x377730=>_0x377730['id']===activeShortcutTabId);let _0x2e0ed7=[];if(_0x52cdf3){if(_0x52cdf3[_0x4b0dfd(0x66b)])_0x2e0ed7=[...blueprintShortcuts];else{const _0x643989=_0x52cdf3[_0x4b0dfd(0x23f)]||[];_0x2e0ed7=blueprintShortcuts[_0x4b0dfd(0x5f5)](_0x29abec=>_0x643989['includes'](_0x29abec['id']));}}const _0x56ae37=shortcutOrder[activeShortcutTabId]||[];_0x2e0ed7[_0x4b0dfd(0xb9f)]((_0x179a90,_0x3da3d1)=>{const _0x1fa067=_0x4b0dfd,_0x4b9f2e=_0x56ae37[_0x1fa067(0x629)](_0x179a90['id']),_0x313442=_0x56ae37[_0x1fa067(0x629)](_0x3da3d1['id']);if(_0x4b9f2e===-0x1)return 0x1;if(_0x313442===-0x1)return-0x1;return _0x4b9f2e-_0x313442;}),_0x167761[_0x4b0dfd(0xd04)]=_0x2e0ed7['length']>0x0?_0x2e0ed7[_0x4b0dfd(0x643)](_0x555768=>{const _0x5f4c65=_0x4b0dfd;let _0x416ef3='🧩';if(_0x555768[_0x5f4c65(0xce5)]&&_0x555768[_0x5f4c65(0x67e)])_0x416ef3='📗';else{if(_0x555768[_0x5f4c65(0xce5)])_0x416ef3='📘';}const _0x959fde=shortcutTabs[_0x5f4c65(0x5f5)](_0x461977=>!_0x461977['isDefault']),_0x55f2e2=_0x52cdf3['isDefault']&&_0x959fde[_0x5f4c65(0xe84)]>0x0?_0x5f4c65(0x73b)+_0x959fde[_0x5f4c65(0x643)](_0x47ae0e=>_0x5f4c65(0x7de)+_0x555768['id']+_0x5f4c65(0x337)+_0x47ae0e['id']+'\x22>'+_0x47ae0e[_0x5f4c65(0x77f)]+_0x5f4c65(0xdde))['join']('')+_0x5f4c65(0xb42):'';return _0x5f4c65(0x886)+_0x555768['id']+_0x5f4c65(0x2f4)+_0x416ef3+'\x20'+_0x555768[_0x5f4c65(0x77f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x555768['id']+_0x5f4c65(0x1d0)+_0x555768['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x555768['isDefault']?_0x5f4c65(0x7ad)+_0x555768['id']+_0x5f4c65(0x644):'')+_0x5f4c65(0x374)+(!_0x52cdf3['isDefault']?_0x5f4c65(0xde5)+_0x555768['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x5f4c65(0x374)+_0x55f2e2+_0x5f4c65(0x86e);})['join'](''):_0x4b0dfd(0x517),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0xc72132=_0x3d653b;document['querySelectorAll']('.shortcut-tab-btn')[_0xc72132(0x57b)](_0xfc63f8=>{const _0x1faff7=_0xc72132;_0xfc63f8[_0x1faff7(0x652)]('click',_0x27387d=>{const _0x415d81=_0x1faff7;activeShortcutTabId=_0x27387d['currentTarget'][_0x415d81(0x63c)]['tabId'],renderAdditionalShortcutsModal();}),_0xfc63f8[_0x1faff7(0x652)](_0x1faff7(0x805),_0x3d0efa=>{const _0x1ccb1a=_0x1faff7,_0x15eb6d=_0x3d0efa[_0x1ccb1a(0x47f)];_0x15eb6d[_0x1ccb1a(0x327)](_0x1ccb1a(0x7b5))[_0x1ccb1a(0x26b)][_0x1ccb1a(0x224)](_0x1ccb1a(0x932));const _0x5a0b7b=_0x15eb6d[_0x1ccb1a(0x327)](_0x1ccb1a(0x734));_0x5a0b7b[_0x1ccb1a(0x26b)]['remove'](_0x1ccb1a(0x932)),_0x5a0b7b[_0x1ccb1a(0xba4)](),_0x5a0b7b[_0x1ccb1a(0x4fd)]();});}),document[_0xc72132(0x948)](_0xc72132(0x734))[_0xc72132(0x57b)](_0x2845a7=>{const _0x3179a7=_0xc72132,_0x23d9be=()=>{const _0x212622=_0x1c86,_0x5043ad=_0x2845a7[_0x212622(0x2e3)](_0x212622(0xdd1))[_0x212622(0x63c)]['tabId'];handleRenameShortcutTab(_0x5043ad,_0x2845a7[_0x212622(0xc4b)]);};_0x2845a7[_0x3179a7(0x652)](_0x3179a7(0x3df),_0x23d9be),_0x2845a7[_0x3179a7(0x652)]('keydown',_0x1857ae=>{const _0x167d06=_0x3179a7;if(_0x1857ae[_0x167d06(0xb5f)]===_0x167d06(0x78d))_0x2845a7[_0x167d06(0x3df)]();});}),document[_0xc72132(0x948)](_0xc72132(0x2c9))['forEach'](_0x15c9da=>{const _0x53658a=_0xc72132;_0x15c9da[_0x53658a(0x652)](_0x53658a(0xc7b),_0x4b7974=>handleDeleteShortcutTab(_0x4b7974[_0x53658a(0x47f)][_0x53658a(0x63c)][_0x53658a(0x2c0)]));}),document[_0xc72132(0x948)](_0xc72132(0xf2a))[_0xc72132(0x57b)](_0x157811=>{const _0x282712=_0xc72132;_0x157811[_0x282712(0x652)](_0x282712(0xc7b),_0x3d36e2=>{const _0xc934c0=_0x282712;_0x3d36e2['preventDefault']();const {shortcutId:_0x50e44d,targetTabId:_0x4fe9a4}=_0x3d36e2[_0xc934c0(0x47f)]['dataset'];handleMoveShortcutToTab(_0x50e44d,_0x4fe9a4);});}),document[_0xc72132(0x948)](_0xc72132(0x431))[_0xc72132(0x57b)](_0x2ccba3=>{const _0x436a8d=_0xc72132;_0x2ccba3[_0x436a8d(0x652)](_0x436a8d(0xc7b),_0x994dbb=>{const _0xf895d0=_0x436a8d;handleRemoveShortcutFromTab(_0x994dbb[_0xf895d0(0x47f)][_0xf895d0(0x63c)][_0xf895d0(0x784)],activeShortcutTabId);});});const _0x4afcff=document[_0xc72132(0xb29)](_0xc72132(0x1df));_0x4afcff[_0xc72132(0x948)]('.use-hidden-shortcut-btn')[_0xc72132(0x57b)](_0x53cb01=>{const _0x2695c5=_0xc72132;_0x53cb01['addEventListener'](_0x2695c5(0xc7b),()=>{const _0x2230f9=_0x2695c5;document[_0x2230f9(0xb29)](_0x2230f9(0x8db))['classList'][_0x2230f9(0x224)](_0x2230f9(0x932)),handleShortcutClick(_0x53cb01[_0x2230f9(0x63c)]['id']);});});let _0x45356b=null;_0x4afcff['addEventListener']('dragstart',_0x4a76c6=>{const _0x44f0d8=_0xc72132;_0x45356b=_0x4a76c6[_0x44f0d8(0xadf)][_0x44f0d8(0x2e3)](_0x44f0d8(0x38c)),_0x45356b&&setTimeout(()=>_0x45356b['classList'][_0x44f0d8(0x224)](_0x44f0d8(0xaa1)),0x0);}),_0x4afcff['addEventListener'](_0xc72132(0x951),()=>{const _0x1a25d0=_0xc72132;_0x45356b&&(_0x45356b[_0x1a25d0(0x26b)][_0x1a25d0(0x937)](_0x1a25d0(0xaa1)),_0x45356b=null);}),_0x4afcff[_0xc72132(0x652)](_0xc72132(0x653),_0x13da8e=>{const _0x147d8a=_0xc72132;_0x13da8e[_0x147d8a(0x486)]();const _0x21d88c=[..._0x4afcff['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')][_0x147d8a(0x1eb)]((_0x3ed3ba,_0x103e6d)=>{const _0x4c5f52=_0x147d8a,_0x1ca4c7=_0x103e6d[_0x4c5f52(0x561)](),_0x39a856=_0x13da8e[_0x4c5f52(0xc72)]-_0x1ca4c7[_0x4c5f52(0x290)]-_0x1ca4c7[_0x4c5f52(0x674)]/0x2;return _0x39a856<0x0&&_0x39a856>_0x3ed3ba[_0x4c5f52(0x181)]?{'offset':_0x39a856,'element':_0x103e6d}:_0x3ed3ba;},{'offset':Number[_0x147d8a(0x6e9)]})[_0x147d8a(0x530)];_0x21d88c==null?_0x4afcff[_0x147d8a(0xd62)](_0x45356b):_0x4afcff[_0x147d8a(0x192)](_0x45356b,_0x21d88c);}),_0x4afcff[_0xc72132(0x652)](_0xc72132(0x6fe),_0xaaf7a=>{const _0x1e53ba=_0xc72132;_0xaaf7a[_0x1e53ba(0x486)]();if(_0x45356b){const _0x5df1aa=[..._0x4afcff['querySelectorAll'](_0x1e53ba(0x38c))]['map'](_0x15ff53=>_0x15ff53[_0x1e53ba(0x63c)][_0x1e53ba(0x784)]);handleShortcutOrderChange(activeShortcutTabId,_0x5df1aa);}}),document[_0xc72132(0x948)](_0xc72132(0x26d))[_0xc72132(0x57b)](_0x2111b1=>{const _0x1a3804=_0xc72132;_0x2111b1[_0x1a3804(0x652)](_0x1a3804(0xc7b),_0x5b6626=>{const _0x3ef031=_0x1a3804;_0x5b6626[_0x3ef031(0x2eb)]();const _0x94edf7=_0x5b6626[_0x3ef031(0x47f)]['nextElementSibling'],_0xadced8=_0x94edf7[_0x3ef031(0x26b)]['contains']('hidden');document['querySelectorAll'](_0x3ef031(0x803))[_0x3ef031(0x57b)](_0x292b87=>_0x292b87[_0x3ef031(0x26b)][_0x3ef031(0x224)]('hidden')),_0xadced8&&_0x94edf7[_0x3ef031(0x26b)][_0x3ef031(0x937)](_0x3ef031(0x932));});});}document[_0x3d653b(0x652)](_0x3d653b(0xc7b),_0x163450=>{const _0x5f2250=_0x3d653b;!_0x163450['target'][_0x5f2250(0x2e3)]('.group\x5c/dropdown')&&document['querySelectorAll'](_0x5f2250(0x803))[_0x5f2250(0x57b)](_0x57ca19=>_0x57ca19[_0x5f2250(0x26b)]['add'](_0x5f2250(0x932)));});async function saveShortcutConfig(){const _0x312503=_0x3d653b,_0x488495=doc(db,_0x312503(0x445),_0x312503(0x6f8));try{await setDoc(_0x488495,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x1c20c3){console[_0x312503(0x3b5)]('Error\x20saving\x20shortcut\x20config:',_0x1c20c3);}}async function handleAddShortcutTab(){const _0x1b3b6f=_0x3d653b,_0x1ed867=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x1b3b6f(0x64d));if(!_0x1ed867||_0x1ed867[_0x1b3b6f(0x46f)]()==='')return;shortcutTabs[_0x1b3b6f(0xf06)]({'id':_0x1b3b6f(0x5db)+Date[_0x1b3b6f(0xbd7)](),'name':_0x1ed867[_0x1b3b6f(0x46f)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x1f2a29,_0x51fbf6){const _0xbe9de4=_0x3d653b,_0x543238=shortcutTabs[_0xbe9de4(0xb46)](_0x3ffb36=>_0x3ffb36['id']===_0x1f2a29);_0x543238&&_0x51fbf6['trim']()!==''&&(_0x543238[_0xbe9de4(0x77f)]=_0x51fbf6[_0xbe9de4(0x46f)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x63a2d4){const _0x4b8b92=_0x3d653b,_0x474a3e=shortcutTabs[_0x4b8b92(0xb46)](_0x345ab6=>_0x345ab6['id']===_0x63a2d4);_0x474a3e&&!_0x474a3e[_0x4b8b92(0x66b)]&&showConfirmation(_0x4b8b92(0xc12)+_0x474a3e['name']+_0x4b8b92(0xcb2),async()=>{const _0x25c171=_0x4b8b92;shortcutTabs=shortcutTabs['filter'](_0x137b71=>_0x137b71['id']!==_0x63a2d4),delete shortcutOrder[_0x63a2d4];if(activeShortcutTabId===_0x63a2d4)activeShortcutTabId=_0x25c171(0x689);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1845cc,_0x479a1d){const _0x3e9006=_0x3d653b,_0xa9eb4b=shortcutTabs['find'](_0x147382=>_0x147382['id']===_0x479a1d);_0xa9eb4b&&!_0xa9eb4b[_0x3e9006(0x23f)][_0x3e9006(0xecb)](_0x1845cc)&&(_0xa9eb4b['shortcutIds']['push'](_0x1845cc),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x400ddc,_0x1a534a){const _0x5a0ac7=_0x3d653b,_0x5a8df1=shortcutTabs[_0x5a0ac7(0xb46)](_0x42caed=>_0x42caed['id']===_0x1a534a);_0x5a8df1&&!_0x5a8df1[_0x5a0ac7(0x66b)]&&(_0x5a8df1[_0x5a0ac7(0x23f)]=_0x5a8df1[_0x5a0ac7(0x23f)][_0x5a0ac7(0x5f5)](_0x590adc=>_0x590adc!==_0x400ddc),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x446dcc,_0x47ad0f){shortcutOrder[_0x446dcc]=_0x47ad0f,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3a5848=_0x3d653b,_0x3f6581=document[_0x3a5848(0xb29)](_0x3a5848(0x489)),_0x5f25e6=document[_0x3a5848(0xb29)](_0x3a5848(0x1df)),_0x5235e7=document[_0x3a5848(0xb29)](_0x3a5848(0xb80));_0x5235e7&&_0x5235e7['classList'][_0x3a5848(0x224)](_0x3a5848(0x932));if(!_0x3f6581||!_0x5f25e6)return;const _0xc02d47=blueprintShortcuts[_0x3a5848(0x7e8)](0x0,0x4),_0x256209=blueprintShortcuts[_0x3a5848(0x7e8)](0x4);_0x3f6581[_0x3a5848(0xd04)]=_0xc02d47['map'](_0x9672da=>{const _0x5175cf=_0x3a5848;let _0x572fe7=_0x5175cf(0xf0f),_0xfe11fc='🧩';if(_0x9672da['blueprintUrl']&&_0x9672da[_0x5175cf(0x67e)])_0x572fe7=_0x5175cf(0xd0d),_0xfe11fc='📗';else _0x9672da[_0x5175cf(0xce5)]&&(_0x572fe7=_0x5175cf(0x4bb),_0xfe11fc='📘');const _0x18dfab=!_0x9672da['isDefault']?'<button\x20data-id=\x22'+_0x9672da['id']+_0x5175cf(0x4d1):'';return _0x5175cf(0x6ff)+_0x9672da['id']+_0x5175cf(0x698)+_0x572fe7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0xfe11fc+'\x20'+_0x9672da['name']+_0x5175cf(0x1e0)+_0x9672da['id']+_0x5175cf(0xa1e)+_0x18dfab+_0x5175cf(0x2d9);})[_0x3a5848(0x87d)](''),_0x256209[_0x3a5848(0xe84)]>0x0&&(_0x3f6581[_0x3a5848(0xd04)]+=_0x3a5848(0x58c)),_0x256209['length']>0x0?_0x5f25e6[_0x3a5848(0xd04)]=_0x256209[_0x3a5848(0x643)](_0xc54401=>{const _0x5bbf42=_0x3a5848;let _0x1b8446='🧩';if(_0xc54401[_0x5bbf42(0xce5)]&&_0xc54401[_0x5bbf42(0x67e)])_0x1b8446='📗';else _0xc54401[_0x5bbf42(0xce5)]&&(_0x1b8446='📘');return _0x5bbf42(0xd13)+_0x1b8446+'\x20'+_0xc54401[_0x5bbf42(0x77f)]+_0x5bbf42(0xb86)+_0xc54401['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xc54401['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xc54401[_0x5bbf42(0x66b)]?_0x5bbf42(0x7ad)+_0xc54401['id']+_0x5bbf42(0x644):'')+_0x5bbf42(0x2b5);})[_0x3a5848(0x87d)](''):_0x5f25e6[_0x3a5848(0xd04)]=_0x3a5848(0x18e);}function getMimeTypeFromFilename(_0x314fcc){const _0x372562=_0x3d653b,_0x752fbb=_0x314fcc[_0x372562(0x28c)]('.')[_0x372562(0x8a1)]()['toLowerCase']();switch(_0x752fbb){case _0x372562(0xb54):return _0x372562(0xc08);case _0x372562(0x9d5):return'text/plain';default:return'application/pdf';}}function openShortcutEditor(_0x45835f=null){const _0x48f232=_0x3d653b,_0x5275fa=document[_0x48f232(0xb29)](_0x48f232(0x4fc)),_0x25c3e3=document[_0x48f232(0xb29)]('shortcut-modal-title'),_0x50b192=document[_0x48f232(0xb29)](_0x48f232(0x3e1)),_0xc10837=document[_0x48f232(0xb29)]('shortcut-name-input'),_0x272a4e=document['getElementById'](_0x48f232(0x6ec)),_0x13a845=document[_0x48f232(0xb29)](_0x48f232(0xcc4));if(_0x45835f){const _0x52aa4c=blueprintShortcuts[_0x48f232(0xb46)](_0x2f52ca=>_0x2f52ca['id']===_0x45835f);if(!_0x52aa4c)return;_0x25c3e3[_0x48f232(0x6ab)]=_0x48f232(0xd86),_0x50b192[_0x48f232(0xc4b)]=_0x52aa4c['id'],_0xc10837[_0x48f232(0xc4b)]=_0x52aa4c[_0x48f232(0x77f)],_0x272a4e[_0x48f232(0xc4b)]=_0x52aa4c[_0x48f232(0xce5)]||'',_0x13a845['value']=_0x52aa4c[_0x48f232(0x67e)]||'';}else _0x25c3e3[_0x48f232(0x6ab)]=_0x48f232(0x346),_0x50b192[_0x48f232(0xc4b)]='',_0xc10837['value']='',_0x272a4e[_0x48f232(0xc4b)]='',_0x13a845['value']='';_0x5275fa[_0x48f232(0x26b)][_0x48f232(0x937)](_0x48f232(0x932));}async function saveShortcutChanges(){const _0x16e90e=_0x3d653b,_0x547675=document['getElementById'](_0x16e90e(0x3e1))[_0x16e90e(0xc4b)],_0xb39107=document[_0x16e90e(0xb29)](_0x16e90e(0xad7))[_0x16e90e(0xc4b)][_0x16e90e(0x46f)](),_0x20af55=document[_0x16e90e(0xb29)]('shortcut-blueprint-url-input')[_0x16e90e(0xc4b)]['trim']();if(!_0xb39107||!_0x20af55){showMessage(_0x16e90e(0x33b));return;}const _0x5aaac2={'id':_0x547675||'shortcut_'+Date[_0x16e90e(0xbd7)](),'name':_0xb39107,'blueprintUrl':_0x20af55,'referenceUrl':document[_0x16e90e(0xb29)](_0x16e90e(0xcc4))[_0x16e90e(0xc4b)]['trim'](),'isDefault':_0x547675[_0x16e90e(0x7f8)]('default-')};let _0x2fa31f;_0x547675?_0x2fa31f=blueprintShortcuts[_0x16e90e(0x643)](_0x55a412=>_0x55a412['id']===_0x547675?_0x5aaac2:_0x55a412):_0x2fa31f=[...blueprintShortcuts,_0x5aaac2];try{const _0x2a35c3=doc(db,_0x16e90e(0x445),_0x16e90e(0x6f8));await setDoc(_0x2a35c3,{'blueprintShortcuts':_0x2fa31f},{'merge':!![]}),document['getElementById'](_0x16e90e(0x4fc))[_0x16e90e(0x26b)][_0x16e90e(0x224)]('hidden');}catch(_0x44efa3){console[_0x16e90e(0x3b5)](_0x16e90e(0x4bf),_0x44efa3),showMessage(_0x16e90e(0xe36));}}async function handleShortcutClick(_0x162b77){const _0x4c49b3=_0x3d653b,_0x156f22=blueprintShortcuts[_0x4c49b3(0xb46)](_0x5e9a33=>_0x5e9a33['id']===_0x162b77);if(!_0x156f22||!_0x156f22[_0x4c49b3(0xce5)])return;document[_0x4c49b3(0xb29)]('blueprint-options-container')[_0x4c49b3(0x26b)][_0x4c49b3(0x224)](_0x4c49b3(0x932)),document[_0x4c49b3(0xb29)](_0x4c49b3(0xc37))[_0x4c49b3(0xeee)]=!![];const _0x7394a5=document[_0x4c49b3(0xb29)]('loader'),_0x57e40e=document[_0x4c49b3(0xb29)](_0x4c49b3(0x193));document[_0x4c49b3(0xb29)]('quiz-generation-area')[_0x4c49b3(0x26b)][_0x4c49b3(0x937)](_0x4c49b3(0x932)),document['getElementById'](_0x4c49b3(0xf24))[_0x4c49b3(0xd04)]='',_0x7394a5['classList'][_0x4c49b3(0x937)]('hidden');try{_0x57e40e[_0x4c49b3(0x6ab)]=_0x4c49b3(0xe76);const _0xf360cc=await fetchFileFromUrl(_0x156f22[_0x4c49b3(0xce5)],'blueprint.pdf');let _0xe91fb8=null;if(_0x156f22['referenceUrl']){_0x57e40e[_0x4c49b3(0x6ab)]=_0x4c49b3(0xd8a);const _0x274f6b=_0x156f22[_0x4c49b3(0x67e)][_0x4c49b3(0xa99)]()[_0x4c49b3(0xd94)](_0x4c49b3(0x68a))?_0x4c49b3(0x398):_0x4c49b3(0x9be);_0xe91fb8=await fetchFileFromUrl(_0x156f22['referenceUrl'],_0x274f6b);}await handleGenerateFromBlueprintWithFiles(_0xf360cc,_0xe91fb8);}catch(_0x14a736){console['error'](_0x4c49b3(0x2c3),_0x14a736),showMessage(_0x4c49b3(0xa19)+_0x14a736[_0x4c49b3(0x837)]),_0x7394a5[_0x4c49b3(0x26b)][_0x4c49b3(0x224)](_0x4c49b3(0x932));}}function getDirectDownloadUrl(_0x255a09){const _0x5142ec=_0x3d653b,_0x3a5b39=_0x255a09[_0x5142ec(0xcc2)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x3a5b39&&_0x3a5b39[0x1])return _0x5142ec(0x332)+_0x3a5b39[0x1];return _0x255a09;}async function fetchFileFromUrl(_0x17309c,_0x4014fc){const _0x413f5a=_0x3d653b,_0x5d3c0d=getDirectDownloadUrl(_0x17309c),_0x14446b='https://corsproxy.io/?'+encodeURIComponent(_0x5d3c0d),_0x8fedc8=await fetch(_0x14446b);if(!_0x8fedc8['ok'])throw new Error(_0x413f5a(0xa66)+_0x8fedc8[_0x413f5a(0x389)]+')');const _0xd0d03d=await _0x8fedc8[_0x413f5a(0x7b7)](),_0x3f7324=await new Promise((_0x7ddb37,_0x4d6c82)=>{const _0xa10621=_0x413f5a,_0x144e93=new FileReader();_0x144e93[_0xa10621(0x849)]=()=>_0x7ddb37(new Uint8Array(_0x144e93[_0xa10621(0xf1f)])),_0x144e93[_0xa10621(0x476)]=_0x4d6c82,_0x144e93[_0xa10621(0xb31)](_0xd0d03d['slice'](0x0,0x4));});let _0x4fd121='';const _0x5952be=new TextDecoder()[_0x413f5a(0x80c)](_0x3f7324);return _0x5952be===_0x413f5a(0x979)?(_0x4fd121='application/pdf',console[_0x413f5a(0xee3)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x4fd121=_0x413f5a(0xcac),console['log'](_0x413f5a(0xe14))),new File([_0xd0d03d],_0x4014fc,{'type':_0x4fd121});}async function handleGenerateFromBlueprintWithFiles(_0x2e7da7,_0x225aea=null){const _0x122e02=_0x3d653b;if(!_0x2e7da7){showMessage(_0x122e02(0x858));return;}const _0x59a805=document[_0x122e02(0xb29)]('loader'),_0x298f01=document[_0x122e02(0xb29)](_0x122e02(0x193));_0x59a805['classList'][_0x122e02(0x937)](_0x122e02(0x932)),document[_0x122e02(0xb29)](_0x122e02(0xe8e))[_0x122e02(0x26b)][_0x122e02(0x937)]('hidden'),document[_0x122e02(0xb29)](_0x122e02(0xf24))['innerHTML']='';try{_0x298f01['textContent']='กำลังอ่านไฟล์\x20Test\x20Blueprint...';const _0x360b76=await new Promise((_0x5618e6,_0x349f1d)=>{const _0x42a49f=_0x122e02,_0x355d96=new FileReader();_0x355d96[_0x42a49f(0x4ab)](_0x2e7da7),_0x355d96[_0x42a49f(0x29f)]=()=>_0x5618e6(_0x355d96[_0x42a49f(0xf1f)][_0x42a49f(0x28c)](',')[0x1]),_0x355d96[_0x42a49f(0x476)]=_0x349f1d;}),_0x4fd3a2=[];if(_0x225aea){_0x298f01[_0x122e02(0x6ab)]=_0x122e02(0x34f);const _0x25f3c8=await _0x225aea[_0x122e02(0x922)]();_0x4fd3a2['push']({'text':_0x122e02(0xb96)+_0x25f3c8});}const _0x332021=[{'text':_0x122e02(0xd59)},{'inlineData':{'mimeType':_0x2e7da7['type'],'data':_0x360b76}},..._0x4fd3a2];await handleGenerateFromBlueprint(_0x332021);}catch(_0x1766b1){console['error'](_0x122e02(0x3da),_0x1766b1),showMessage(_0x122e02(0xa19)+_0x1766b1[_0x122e02(0x837)]),_0x59a805[_0x122e02(0x26b)][_0x122e02(0x224)](_0x122e02(0x932));}}async function handleLiveAnswer(_0x3e3d0f,_0x286116){const _0x12e042=_0x3d653b;document['querySelectorAll'](_0x12e042(0x47d))['forEach'](_0x3eb368=>_0x3eb368['disabled']=!![]);const _0x183093=_0x286116[_0x12e042(0xc4a)]||currentQuizData[_0x12e042(0xca5)];let _0x2e1f3f=![],_0x3cc47d=_0x3e3d0f;if(_0x183093==='short_answer'){const _0x20f728=(_0x3e3d0f||'')[_0x12e042(0xd43)]();_0x2e1f3f=await gradeShortAnswer(_0x20f728,_0x286116);}else{if(_0x183093===_0x12e042(0xa08))_0x2e1f3f=_0x3e3d0f===_0x286116[_0x12e042(0x857)];else{if(_0x183093===_0x12e042(0x80d)){const _0x3a1046=_0x286116[_0x12e042(0x1b0)];_0x2e1f3f=_0x3e3d0f===0x0&&_0x3a1046||_0x3e3d0f===0x1&&!_0x3a1046;}else{if(_0x183093==='matching_item'){const _0x5dd4b=_0x286116[_0x12e042(0x1e4)][_0x3e3d0f];_0x2e1f3f=_0x5dd4b===_0x286116[_0x12e042(0x500)],_0x3cc47d=_0x5dd4b;}}}}const _0x27e2c5=doc(db,_0x12e042(0xc9f)+appId+_0x12e042(0x291),currentLiveGameId),_0x3b7ee3={};_0x3b7ee3[_0x12e042(0xf07)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x3b7ee3[_0x12e042(0xf07)+currentStudentName+_0x12e042(0x1d5)]=_0x2e1f3f,_0x3b7ee3[_0x12e042(0xf07)+currentStudentName+_0x12e042(0xb32)]=_0x183093==='short_answer'||_0x183093===_0x12e042(0x76e)?null:_0x3e3d0f,_0x3b7ee3[_0x12e042(0xf07)+currentStudentName+'.lastAnswerValue']=_0x3cc47d,_0x3b7ee3[_0x12e042(0xf07)+currentStudentName+_0x12e042(0x834)]=serverTimestamp(),_0x3b7ee3['players.'+currentStudentName+_0x12e042(0xd34)]=![],await updateDoc(_0x27e2c5,_0x3b7ee3),liveGameView[_0x12e042(0xd04)]=_0x12e042(0x5fa);}function showAdminSummaryView(_0x562343,_0x19784d){const _0x38598c=_0x3d653b,_0x13c239=Object[_0x38598c(0xf02)](_0x562343[_0x38598c(0xe24)]||{}),_0x1f156c=_0x19784d[_0x38598c(0xc4a)]||currentQuizData[_0x38598c(0xca5)],_0x251e5f=_0x1f156c===_0x38598c(0x80d)?['ใช่',_0x38598c(0x1b1)]:_0x19784d[_0x38598c(0x802)]||_0x19784d['allResponses']||[],_0x12be64={},_0x357160=new Array(_0x251e5f[_0x38598c(0xe84)])[_0x38598c(0xd17)](0x0);_0x251e5f[_0x38598c(0x57b)]((_0x58b97d,_0x322ed5)=>{_0x12be64[_0x322ed5]=[];}),Object[_0x38598c(0xe63)](_0x562343[_0x38598c(0xe24)]||{})[_0x38598c(0x57b)](([_0x3beedd,_0x3b50c8])=>{const _0xd5fe42=_0x38598c;if(_0x3b50c8[_0xd5fe42(0x389)]===_0xd5fe42(0xd63)&&_0x3b50c8['lastAnswerIndex']!==undefined){const _0x1f2616=_0x3b50c8[_0xd5fe42(0x7fe)];_0x12be64[_0x1f2616]&&(_0x12be64[_0x1f2616][_0xd5fe42(0xf06)](_0x3beedd),_0x357160[_0x1f2616]++);}});const _0x263a94=Math[_0x38598c(0xd18)](..._0x357160,0x1),_0x33379c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x19784d['stem']||_0x19784d['questionText'])+_0x38598c(0x910)+_0x357160[_0x38598c(0x643)]((_0x966813,_0x3230bd)=>{const _0x340907=_0x38598c,_0x309cf7=_0x12be64[_0x3230bd][_0x340907(0xe84)]>0x0?_0x12be64[_0x3230bd][_0x340907(0x87d)](',\x20'):_0x340907(0x4ed);let _0xf81948=![];if(_0x1f156c==='multiple_choice')_0xf81948=_0x3230bd===_0x19784d[_0x340907(0x857)];else{if(_0x1f156c===_0x340907(0x80d)){const _0x505d1b=_0x19784d[_0x340907(0x1b0)];_0xf81948=_0x505d1b&&_0x3230bd===0x0||!_0x505d1b&&_0x3230bd===0x1;}else _0x1f156c==='matching_item'&&(_0xf81948=_0x251e5f[_0x3230bd]===_0x19784d[_0x340907(0x500)]);}const _0x52e167=_0xf81948?'#26890c':_0x340907(0x774);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x966813+_0x340907(0x23c)+_0x52e167+_0x340907(0xad6)+_0x3230bd+_0x340907(0x6e6)+_0x251e5f[_0x3230bd]+_0x340907(0x5b5)+_0x3230bd+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x309cf7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x38598c(0x87d)]('')+_0x38598c(0x555);liveGameView[_0x38598c(0xd04)]=_0x33379c;if(window[_0x38598c(0x348)])MathJax[_0x38598c(0x7e6)]();document['getElementById']('show-leaderboard-btn')[_0x38598c(0x652)]('click',async()=>{const _0x3fb05d=_0x38598c,_0x25c88f=doc(db,'artifacts/'+appId+_0x3fb05d(0x291),currentLiveGameId);await updateDoc(_0x25c88f,{'questionStatus':_0x3fb05d(0xb39)});}),document[_0x38598c(0xb29)](_0x38598c(0x86f))[_0x38598c(0x652)](_0x38598c(0xc7b),()=>{openScratchpad(_0x19784d,_0x251e5f);});}function showPlayerSummaryView(_0x16e7ba,_0x23c5b6){const _0x352518=_0x3d653b,_0x4438c2=Object[_0x352518(0xf02)](_0x16e7ba[_0x352518(0xe24)]||{}),_0x307f1d=_0x16e7ba['players'][_0x23c5b6],_0x267741=_0x4438c2[_0x352518(0x5f5)](_0x387105=>_0x387105[_0x352518(0x389)]===_0x352518(0xd63))['sort']((_0x53e3b9,_0x13ba21)=>_0x13ba21[_0x352518(0x5e3)]-_0x53e3b9[_0x352518(0x5e3)]),_0x4ac781=_0x267741[_0x352518(0xe9c)](_0x54ceb0=>_0x54ceb0===_0x307f1d)+0x1,_0x5f41c1=_0x307f1d['lastAnswerCorrect']?_0x352518(0xe40):_0x352518(0x5da),_0x2bb3f3=_0x307f1d['lastAnswerCorrect']?_0x352518(0x6d0):_0x352518(0x3a8),_0x5d0ff2=_0x307f1d['pointsLastQuestion']||0x0,_0x5bc75c='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x19422d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x5bc75c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x2bb3f3+_0x352518(0x1a9)+_0x5f41c1+_0x352518(0x793)+_0x5d0ff2+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x4ac781>0x0?_0x4ac781:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x352518(0xd04)]=_0x19422d;}function createQuizFromBank(){const _0x2258ad=_0x3d653b,_0x59a33a=document[_0x2258ad(0x948)](_0x2258ad(0x334));if(_0x59a33a[_0x2258ad(0xe84)]===0x0){showMessage(_0x2258ad(0x667));return;}const _0x51f13c=[];_0x59a33a[_0x2258ad(0x57b)](_0x26654c=>{const _0x450339=_0x2258ad;_0x51f13c[_0x450339(0xf06)](JSON['parse'](_0x26654c['value']));});const _0x3a25c1={'topic':_0x2258ad(0xc26),'questions':_0x51f13c};displayGeneratedQuiz(_0x3a25c1);}function showAdminLobbyView(_0x3e4b3e,_0x530b05){const _0x5c5fd6=_0x3d653b;showView(_0x5c5fd6(0x78c));const _0x597b2a=_0x5c5fd6(0x26a)+_0x530b05+_0x5c5fd6(0x842)+_0x3e4b3e+_0x5c5fd6(0x81d);liveGameView[_0x5c5fd6(0xd04)]=_0x597b2a,document[_0x5c5fd6(0xb29)](_0x5c5fd6(0x515))['addEventListener']('click',async()=>{const _0x13924e=_0x5c5fd6;if(!currentQuizData||!currentQuizData[_0x13924e(0xaff)]||currentQuizData[_0x13924e(0xaff)][_0x13924e(0xe84)]===0x0){showMessage(_0x13924e(0x46e));return;}try{const _0x44ecfb=doc(db,_0x13924e(0xc9f)+appId+_0x13924e(0x291),currentLiveGameId);await updateDoc(_0x44ecfb,{'status':_0x13924e(0x92b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3beb1e=currentQuizData['questions'][0x0],_0x2995a5=currentQuizData[_0x13924e(0xaff)]['length'];showAdminLiveQuestionView(_0x3beb1e,0x0,_0x2995a5);}catch(_0x19c0ff){console['error'](_0x13924e(0xd93),_0x19c0ff),showMessage(_0x13924e(0x278));}});}async function openQuizBankModal(){const _0x47cfe0=_0x3d653b;if(allQuizzesGlobal[_0x47cfe0(0xe84)]===0x0){const _0x2314f6=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2314f6[_0x47cfe0(0x574)][_0x47cfe0(0x643)](_0x484586=>({'id':_0x484586['id'],..._0x484586['data']()}));}renderQuizBankList(''),document[_0x47cfe0(0xb29)]('quiz-bank-modal')[_0x47cfe0(0x26b)][_0x47cfe0(0x937)]('hidden');}function renderQuizBankList(_0x2dccad='',_0x2c3999=![]){const _0x33d8cd=_0x3d653b,_0x4fce6d=document[_0x33d8cd(0xb29)](_0x33d8cd(0x28d)),_0x372862=_0x2dccad[_0x33d8cd(0xa99)]()[_0x33d8cd(0x46f)](),_0x53f7d7=allQuizzesGlobal[_0x33d8cd(0x643)](_0x2ffb08=>({..._0x2ffb08,'projectName':allProjects['find'](_0x1ad248=>_0x1ad248['id']===_0x2ffb08[_0x33d8cd(0x6c4)])?.[_0x33d8cd(0xa05)]||_0x33d8cd(0x8c3)}))[_0x33d8cd(0x5f5)](_0x2391c9=>(_0x2391c9['topic']||'')[_0x33d8cd(0xa99)]()['includes'](_0x372862)||(_0x2391c9[_0x33d8cd(0xa05)]||'')['toLowerCase']()[_0x33d8cd(0xecb)](_0x372862)||_0x2391c9['id'][_0x33d8cd(0xd43)]()['includes'](_0x372862));document[_0x33d8cd(0xb29)](_0x33d8cd(0x5d8))[_0x33d8cd(0x6ab)]='('+_0x53f7d7['length']+_0x33d8cd(0x2e5),_0x4fce6d['innerHTML']=_0x53f7d7[_0x33d8cd(0xe84)]?_0x53f7d7[_0x33d8cd(0x643)](_0x328975=>{const _0x2baca1=_0x33d8cd,_0xc6554=!_0x2c3999?_0x2baca1(0x986)+_0x328975['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x328975['id']+_0x2baca1(0xd64)+_0x328975['id']+_0x2baca1(0xed7)+_0x328975['id']+_0x2baca1(0xbed)+_0x328975['id']+_0x2baca1(0x5c9)+_0x328975['id']+_0x2baca1(0xaaa)+_0x328975['topic']+_0x2baca1(0x422):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x328975['id']+_0x2baca1(0xa13)+(_0x328975[_0x2baca1(0xf14)]||_0x2baca1(0x39a))+_0x2baca1(0x6ca)+(_0x328975['questions']?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x328975['projectName']+_0x2baca1(0xeaf)+_0x328975['id']+_0x2baca1(0xa46)+_0xc6554+_0x2baca1(0x75e);})['join'](''):_0x33d8cd(0x655),!_0x2c3999&&(_0x4fce6d[_0x33d8cd(0x948)](_0x33d8cd(0x30c))[_0x33d8cd(0x57b)](_0x38163b=>{const _0x2195ec=_0x33d8cd;_0x38163b[_0x2195ec(0x652)](_0x2195ec(0xc7b),()=>{const _0x126b11=_0x2195ec,_0x182a76=_0x38163b[_0x126b11(0x63c)]['id'];document['getElementById']('quiz-bank-modal')[_0x126b11(0x26b)][_0x126b11(0x224)](_0x126b11(0x932)),showQuizDetailView(_0x182a76);});}),_0x4fce6d[_0x33d8cd(0x948)]('.quiz-bank-try-btn')[_0x33d8cd(0x57b)](_0x1813aa=>{const _0x2626c7=_0x33d8cd;_0x1813aa[_0x2626c7(0x652)](_0x2626c7(0xc7b),_0x3e8882=>{const _0x45c54d=_0x2626c7;_0x3e8882[_0x45c54d(0x2eb)]();const _0xdff3b9=_0x1813aa['dataset']['id'],_0x5723bb=allQuizzesGlobal[_0x45c54d(0xb46)](_0x34f186=>_0x34f186['id']===_0xdff3b9);_0x5723bb?(currentQuizData=_0x5723bb,document[_0x45c54d(0xb29)](_0x45c54d(0xb2a))[_0x45c54d(0x26b)][_0x45c54d(0x224)](_0x45c54d(0x932)),startAdminTest()):showMessage(_0x45c54d(0xc8a));});}),_0x4fce6d[_0x33d8cd(0x948)](_0x33d8cd(0xd7b))[_0x33d8cd(0x57b)](_0x574d2e=>{const _0x2ea8b7=_0x33d8cd;_0x574d2e[_0x2ea8b7(0x652)](_0x2ea8b7(0xc7b),_0x548df0=>{const _0x3a56ab=_0x2ea8b7;_0x548df0['stopPropagation']();const _0x338b9e=_0x574d2e[_0x3a56ab(0x63c)]['id'],_0x8bed78=allQuizzesGlobal[_0x3a56ab(0xb46)](_0x47e3b8=>_0x47e3b8['id']===_0x338b9e);_0x8bed78?(document[_0x3a56ab(0xb29)]('quiz-bank-modal')[_0x3a56ab(0x26b)][_0x3a56ab(0x224)]('hidden'),handleGenerateParallelFromBank(_0x8bed78)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x4fce6d[_0x33d8cd(0x948)](_0x33d8cd(0x5ba))[_0x33d8cd(0x57b)](_0xf78a26=>{const _0x1e7685=_0x33d8cd;_0xf78a26[_0x1e7685(0x652)](_0x1e7685(0xc7b),_0x2bab59=>{const _0x258d4=_0x1e7685;_0x2bab59[_0x258d4(0x2eb)]();const _0x1b46d1=_0xf78a26[_0x258d4(0x63c)]['id'],_0x2e1736=allQuizzesGlobal['find'](_0xf97f16=>_0xf97f16['id']===_0x1b46d1);_0x2e1736?(document[_0x258d4(0xb29)]('quiz-bank-modal')[_0x258d4(0x26b)]['add']('hidden'),startPresentation(_0x2e1736)):showMessage(_0x258d4(0xc8a));});}),_0x4fce6d[_0x33d8cd(0x948)]('.quiz-bank-move-btn')[_0x33d8cd(0x57b)](_0x42caf3=>{const _0x42a6b5=_0x33d8cd;_0x42caf3['addEventListener'](_0x42a6b5(0xc7b),_0x12cca7=>{const _0x36da58=_0x42a6b5;_0x12cca7[_0x36da58(0x2eb)]();const _0x3796d6=_0x42caf3['dataset']['id'];document[_0x36da58(0xb29)](_0x36da58(0xb2a))[_0x36da58(0x26b)][_0x36da58(0x224)]('hidden'),handleMoveQuiz(_0x3796d6);});}),_0x4fce6d[_0x33d8cd(0x948)](_0x33d8cd(0xbec))[_0x33d8cd(0x57b)](_0x48137f=>{const _0x1f35c4=_0x33d8cd;_0x48137f[_0x1f35c4(0x652)]('click',_0x2a980a=>{const _0xddd937=_0x1f35c4;_0x2a980a['stopPropagation']();const _0x1a35ab=_0x48137f[_0xddd937(0x63c)]['id'];document['getElementById'](_0xddd937(0xb2a))['classList'][_0xddd937(0x224)]('hidden'),handleQuizSettings(_0x1a35ab);});}),_0x4fce6d[_0x33d8cd(0x948)](_0x33d8cd(0xa30))['forEach'](_0x298213=>{const _0x13f592=_0x33d8cd;_0x298213[_0x13f592(0x652)](_0x13f592(0xc7b),_0x29ecc1=>{const _0xde021b=_0x13f592;_0x29ecc1[_0xde021b(0x2eb)]();const _0x1fcf05=_0x298213[_0xde021b(0x63c)]['id'],_0x13bd6a=_0x298213['dataset'][_0xde021b(0xf14)];showConfirmation(_0xde021b(0x5e5)+_0x13bd6a+_0xde021b(0x9c8),()=>handleDeleteQuiz(_0x1fcf05));});}));}async function handleCompareResults(_0x12f2d6,_0x1ab3f7){const _0x443fb1=_0x3d653b,_0x5148cb=document[_0x443fb1(0xb29)](_0x443fb1(0xb1c)),_0x55b70e=document[_0x443fb1(0xb29)](_0x443fb1(0x4dd)),_0x4df0ea=document[_0x443fb1(0xb29)](_0x443fb1(0x1de));document[_0x443fb1(0xb29)](_0x443fb1(0x9b9))[_0x443fb1(0x26b)][_0x443fb1(0x224)]('active'),document[_0x443fb1(0xb29)](_0x443fb1(0x1ef))[_0x443fb1(0x26b)][_0x443fb1(0x937)](_0x443fb1(0xd63)),_0x55b70e[_0x443fb1(0x26b)]['remove']('hidden'),_0x4df0ea[_0x443fb1(0x26b)]['add'](_0x443fb1(0x932)),_0x55b70e[_0x443fb1(0xd04)]=_0x443fb1(0x543),_0x4df0ea[_0x443fb1(0xd04)]='',_0x5148cb['classList'][_0x443fb1(0x937)](_0x443fb1(0x932));try{const _0x4e46be=doc(db,_0x443fb1(0xc9f)+appId+'/public/data/quizzes',_0x12f2d6),_0x3b5b4a=await getDoc(_0x4e46be);if(!_0x3b5b4a[_0x443fb1(0x267)]())throw new Error(_0x443fb1(0x467));const _0x4a14f9=_0x3b5b4a['data'](),_0x426b27=_0x4a14f9['questions'][_0x443fb1(0xe84)],_0x3a360f=collection(db,_0x443fb1(0xc9f)+appId+'/public/data/quizzes/'+_0x1ab3f7+'/submissions'),_0x101eec=collection(db,_0x443fb1(0xc9f)+appId+_0x443fb1(0xec2)+_0x12f2d6+_0x443fb1(0x9d1)),[_0xf9242d,_0x129c1a]=await Promise[_0x443fb1(0x689)]([getDocs(_0x3a360f),getDocs(_0x101eec)]),_0x3441e4=_0xf9242d[_0x443fb1(0x574)][_0x443fb1(0x643)](_0x120e9c=>_0x120e9c[_0x443fb1(0xcbd)]()),_0x38d096=_0x129c1a['docs']['map'](_0x26c3a4=>_0x26c3a4[_0x443fb1(0xcbd)]()),_0x2a2a3b=_0x3441e4[_0x443fb1(0x643)](_0x5743d6=>_0x5743d6[_0x443fb1(0xc3e)]),_0x1d4cec=_0x38d096[_0x443fb1(0x643)](_0x669cce=>_0x669cce[_0x443fb1(0xc3e)]),_0x1f5100=calculateMeanAndStdDev(_0x2a2a3b),_0x488672=calculateMeanAndStdDev(_0x1d4cec),_0x54eb93=_0x1f5100[_0x443fb1(0xf18)],_0x33a2c7=_0x488672[_0x443fb1(0xf18)],_0x23328b=_0x33a2c7-_0x54eb93;let _0x479e=_0x443fb1(0x987)+_0x54eb93['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x33a2c7[_0x443fb1(0x924)](0x2)+_0x443fb1(0x93c)+(_0x23328b>=0x0?'bg-emerald-100':_0x443fb1(0xb8a))+_0x443fb1(0x958)+(_0x23328b>=0x0?_0x443fb1(0xd4a):_0x443fb1(0xd20))+_0x443fb1(0xb09)+(_0x23328b>=0x0?_0x443fb1(0x762):_0x443fb1(0x702))+'\x22>'+(_0x23328b>=0x0?'+':'')+_0x23328b['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x55b70e[_0x443fb1(0xd04)]=_0x479e;const _0x4d5a77=document['getElementById'](_0x443fb1(0x556))[_0x443fb1(0xab3)]('2d');if(chartInstances[_0x443fb1(0x97a)])chartInstances[_0x443fb1(0x97a)]['destroy']();chartInstances['comparison']=new Chart(_0x4d5a77,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x443fb1(0x75b),'data':[_0x54eb93],'backgroundColor':_0x443fb1(0xdb3)},{'label':_0x443fb1(0xdeb),'data':[_0x33a2c7],'backgroundColor':_0x443fb1(0x636)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x426b27}}}});const _0x1b0043=currentProjectData[_0x443fb1(0x828)]||[],_0x469a96=_0x1b0043[_0x443fb1(0x643)](_0x191c6c=>{const _0x249bf7=_0x443fb1,_0x5513b9=_0x3441e4[_0x249bf7(0xb46)](_0x181def=>_0x181def['studentName']===_0x191c6c),_0x215504=_0x38d096[_0x249bf7(0xb46)](_0x232598=>_0x232598[_0x249bf7(0xb34)]===_0x191c6c),_0x4aade9=_0x5513b9?_0x5513b9[_0x249bf7(0xc3e)]:null,_0x538964=_0x215504?_0x215504[_0x249bf7(0xc3e)]:null,_0x37b00e=_0x4aade9!==null&&_0x538964!==null?_0x538964-_0x4aade9:null,_0x44965e=_0x4aade9!==null?calculateZScore(_0x4aade9,_0x1f5100[_0x249bf7(0xf18)],_0x1f5100[_0x249bf7(0xda9)]):null,_0x3e3812=_0x538964!==null?calculateZScore(_0x538964,_0x488672['mean'],_0x488672['stdDev']):null,_0x40cb27=_0x44965e!==null?calculateTScore(_0x44965e):null,_0x5950c5=_0x3e3812!==null?calculateTScore(_0x3e3812):null,_0x1b62b9=_0x40cb27!==null&&_0x5950c5!==null?_0x5950c5-_0x40cb27:null;return{'name':_0x191c6c,'preScore':_0x4aade9,'postScore':_0x538964,'gain':_0x37b00e,'preTScore':_0x40cb27,'postTScore':_0x5950c5,'tGain':_0x1b62b9};});renderIndividualComparisonTable(_0x469a96,_0x4df0ea);}catch(_0x599a63){console[_0x443fb1(0x3b5)](_0x443fb1(0xdc7),_0x599a63),_0x55b70e[_0x443fb1(0xd04)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x2f0348=_0x3d653b;if(!extractedBlueprintData||!extractedBlueprintData[_0x2f0348(0xca4)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x1efc6a=prompt(_0x2f0348(0x906),_0x2f0348(0xa51));if(!_0x1efc6a||_0x1efc6a['trim']()==='')return;const _0x5bdcda={};extractedBlueprintData[_0x2f0348(0xca4)][_0x2f0348(0x57b)](_0x508a6d=>{const _0x2db82e=_0x2f0348;_0x508a6d[_0x2db82e(0x30a)][_0x2db82e(0x57b)](_0x52e85e=>{const _0x3035de=_0x2db82e;_0x52e85e['subTopics'][_0x3035de(0x57b)](_0x24ce8b=>{const _0x53a116=_0x3035de,_0x43d8f5=_0x53a116(0x5dd)+Date[_0x53a116(0xbd7)]()+Math[_0x53a116(0xebc)]()[_0x53a116(0xd43)](0x24)[_0x53a116(0x8dc)](0x2,0x9);_0x5bdcda[_0x43d8f5]={'sara':_0x508a6d[_0x53a116(0x8e2)],'mainTopic':_0x52e85e[_0x53a116(0x3fe)],'subTopic':_0x24ce8b,'status':_0x53a116(0x221),'lessonContent':null};});});});try{const _0x4424ad=collection(db,_0x2f0348(0xc9f)+appId+'/public/data/blueprintProjects');await addDoc(_0x4424ad,{'projectName':_0x1efc6a[_0x2f0348(0x46f)](),'gradeLevel':extractedBlueprintData[_0x2f0348(0x455)],'topics':_0x5bdcda,'createdAt':serverTimestamp()}),showMessage(_0x2f0348(0x772)+_0x1efc6a[_0x2f0348(0x46f)]()+_0x2f0348(0xb48)),document[_0x2f0348(0xb29)](_0x2f0348(0xa02))['classList'][_0x2f0348(0x224)](_0x2f0348(0x932));}catch(_0x46ea6b){console[_0x2f0348(0x3b5)](_0x2f0348(0x6a0),_0x46ea6b),showMessage(_0x2f0348(0x2a6));}}async function showBlueprintProjects(){const _0x226ebe=_0x3d653b,_0x3b0e56=document['getElementById'](_0x226ebe(0xbce)),_0x267244=document[_0x226ebe(0xb29)](_0x226ebe(0x72e));_0x267244[_0x226ebe(0xd04)]=_0x226ebe(0xe15),_0x3b0e56[_0x226ebe(0x26b)]['remove'](_0x226ebe(0x932));try{const _0x42ac7e=collection(db,_0x226ebe(0xc9f)+appId+_0x226ebe(0x1c5)),_0x383a10=await getDocs(_0x42ac7e);if(_0x383a10[_0x226ebe(0xd9a)]){_0x267244[_0x226ebe(0xd04)]=_0x226ebe(0x429);return;}const _0x5ea800=_0x383a10[_0x226ebe(0x574)][_0x226ebe(0x643)](_0x481e40=>({'id':_0x481e40['id'],..._0x481e40[_0x226ebe(0xcbd)]()}));_0x5ea800[_0x226ebe(0xb9f)]((_0x3c94ec,_0x46a5a5)=>_0x3c94ec[_0x226ebe(0xa05)][_0x226ebe(0x390)](_0x46a5a5[_0x226ebe(0xa05)],'th')),_0x267244[_0x226ebe(0xd04)]=_0x5ea800['map'](_0x783d2a=>_0x226ebe(0x16b)+_0x783d2a[_0x226ebe(0xa05)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x783d2a[_0x226ebe(0x455)]+_0x226ebe(0xa21)+Object[_0x226ebe(0x754)](_0x783d2a['topics'])['length']+_0x226ebe(0x6d7)+_0x783d2a['id']+_0x226ebe(0xae5)+_0x783d2a['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x226ebe(0x87d)]('');}catch(_0x420916){console[_0x226ebe(0x3b5)]('Error\x20loading\x20blueprint\x20projects:',_0x420916),_0x267244[_0x226ebe(0xd04)]=_0x226ebe(0x50d);}}async function displayBlueprintProjectManager(_0x48e82e){const _0x2d4c7c=_0x3d653b;currentBlueprintProjectId=_0x48e82e,document['getElementById'](_0x2d4c7c(0xbce))[_0x2d4c7c(0x26b)]['add'](_0x2d4c7c(0x932)),showView(_0x2d4c7c(0x2c2)),projectDashboardView[_0x2d4c7c(0x26b)][_0x2d4c7c(0x224)]('hidden');const _0xb94e63=document[_0x2d4c7c(0xb29)](_0x2d4c7c(0x763));_0xb94e63[_0x2d4c7c(0x26b)][_0x2d4c7c(0x937)](_0x2d4c7c(0x932)),document[_0x2d4c7c(0xb29)]('bp-topic-list-container')[_0x2d4c7c(0xd04)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x16bb3e=doc(db,_0x2d4c7c(0xc9f)+appId+_0x2d4c7c(0x1c5),_0x48e82e),_0x24fd5f=await getDoc(_0x16bb3e);if(!_0x24fd5f['exists']())throw new Error(_0x2d4c7c(0x50c));const _0x29f676={'id':_0x24fd5f['id'],..._0x24fd5f['data']()};document['getElementById']('bp-project-title')['textContent']=_0x29f676[_0x2d4c7c(0xa05)],document[_0x2d4c7c(0xb29)](_0x2d4c7c(0x341))[_0x2d4c7c(0xc4b)]=_0x29f676[_0x2d4c7c(0xcaf)]||'',renderBlueprintTopicManager(_0x29f676);}catch(_0x51a1c6){console[_0x2d4c7c(0x3b5)](_0x2d4c7c(0x925),_0x51a1c6),showMessage(_0x51a1c6['message']),showView(_0x2d4c7c(0x2c2));}}function renderBlueprintTopicManager(_0xadf1c1){const _0xe6871c=_0x3d653b,_0x2540e3=document[_0xe6871c(0xb29)](_0xe6871c(0x97b)),_0x1c1072=_0xadf1c1[_0xe6871c(0xc8b)]||{};if(Object[_0xe6871c(0x754)](_0x1c1072)['length']===0x0){_0x2540e3[_0xe6871c(0xd04)]=_0xe6871c(0x8bb);return;}const _0x475b36=Object[_0xe6871c(0xe63)](_0x1c1072)[_0xe6871c(0x643)](([_0x3b7838,_0x5735b4])=>({'id':_0x3b7838,..._0x5735b4}))[_0xe6871c(0xb9f)]((_0x5ee1ce,_0x45ce79)=>(_0x5ee1ce['order']??Infinity)-(_0x45ce79['order']??Infinity)),_0x2c83c0={};_0x475b36[_0xe6871c(0x57b)](_0x3b3fb7=>{const _0x283da9=_0xe6871c,{sara:_0x40320f,mainTopic:_0x12dc85}=_0x3b3fb7;!_0x2c83c0[_0x40320f]&&(_0x2c83c0[_0x40320f]={}),!_0x2c83c0[_0x40320f][_0x12dc85]&&(_0x2c83c0[_0x40320f][_0x12dc85]=[]),_0x2c83c0[_0x40320f][_0x12dc85][_0x283da9(0xf06)](_0x3b3fb7);});let _0x3c0a9e='';for(const _0x1abe9e in _0x2c83c0){_0x3c0a9e+=_0xe6871c(0xb03)+_0x1abe9e+_0xe6871c(0xd92);for(const _0x348d7a in _0x2c83c0[_0x1abe9e]){_0x3c0a9e+=_0xe6871c(0x222)+_0x348d7a+_0xe6871c(0xcf8),_0x2c83c0[_0x1abe9e][_0x348d7a][_0xe6871c(0x57b)](_0x8146cc=>{const _0x26f9b1=_0xe6871c,_0x1aca4e=_0x8146cc['id'],_0xab8401=_0x8146cc[_0x26f9b1(0x6ba)]||[],_0x26c347=_0xab8401[_0x26f9b1(0xe84)]>0x0,_0x2dbde8=_0x8146cc[_0x26f9b1(0x389)]===_0x26f9b1(0xb04);let _0x4e4fa7='';_0x26c347?_0x4e4fa7=_0x26f9b1(0x844)+_0xab8401[_0x26f9b1(0xe84)]+_0x26f9b1(0xea0):_0x4e4fa7=_0x26f9b1(0x694)+(_0x2dbde8?_0x26f9b1(0x27b):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x2dbde8?'สร้างแล้ว':_0x26f9b1(0x444))+'</span>';const _0x56c11d=!_0x2dbde8?_0x26f9b1(0xf0a):'',_0x4aa96d=!_0x2dbde8?_0x26f9b1(0xde2):'';let _0x1dfe3e=_0x2dbde8?_0x26f9b1(0x573):_0x26f9b1(0x9dc);_0x3c0a9e+=_0x26f9b1(0x51e)+_0x1aca4e+_0x26f9b1(0x525)+_0x8146cc[_0x26f9b1(0x2d1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e4fa7+_0x26f9b1(0xa88)+_0x56c11d+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x4aa96d+_0x26f9b1(0x3e5)+_0x1dfe3e+_0x26f9b1(0x44b);}),_0x3c0a9e+=_0xe6871c(0x651);}_0x3c0a9e+=_0xe6871c(0xe78);}_0x2540e3[_0xe6871c(0xd04)]=_0x3c0a9e;}async function handleDeepDeleteBlueprintProject(_0x25e1ed){const _0x1ea8d6=_0x3d653b,_0x27fdad=doc(db,'artifacts/'+appId+_0x1ea8d6(0x1c5),_0x25e1ed),_0x1b0f53=await getDoc(_0x27fdad);if(!_0x1b0f53[_0x1ea8d6(0x267)]()){showMessage(_0x1ea8d6(0x8a0));return;}const _0x135147=_0x1b0f53[_0x1ea8d6(0xcbd)]()[_0x1ea8d6(0xa05)];showConfirmation(_0x1ea8d6(0x496)+_0x135147+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x2d4a89=_0x1ea8d6;showMessage(_0x2d4a89(0xc62));try{const _0x3e6571=writeBatch(db),_0x5e2c65=_0x1b0f53[_0x2d4a89(0xcbd)](),_0x2fee97=_0x5e2c65['topics']||{};for(const _0x1afcdb in _0x2fee97){const _0x337145=doc(db,_0x2d4a89(0xc9f)+appId+_0x2d4a89(0x4ea)+_0x25e1ed+_0x2d4a89(0x559),_0x1afcdb);_0x3e6571['delete'](_0x337145);}const _0x275081=new Set();for(const _0x580625 in _0x2fee97){_0x2fee97[_0x580625][_0x2d4a89(0x6ba)]&&_0x2fee97[_0x580625]['linkedQuizIds']['forEach'](_0x470d65=>_0x275081[_0x2d4a89(0x224)](_0x470d65));}for(const _0x17eb71 of _0x275081){await handleDeleteQuiz(_0x17eb71,![]);}_0x3e6571[_0x2d4a89(0x939)](_0x27fdad),await _0x3e6571[_0x2d4a89(0x832)](),showMessage(_0x2d4a89(0xad8)+_0x135147+_0x2d4a89(0xedd)),showBlueprintProjects();}catch(_0x32c635){console[_0x2d4a89(0x3b5)](_0x2d4a89(0xd8b),_0x32c635),showMessage(_0x2d4a89(0x981));}});}async function openTopicQuizBank(_0x429aae){const _0x517d75=_0x3d653b,_0x2d6414=document['getElementById'](_0x517d75(0x19b)),_0x1ea407=document[_0x517d75(0xb29)](_0x517d75(0xe6e)),_0x5a177f=document[_0x517d75(0xb29)](_0x517d75(0xc29));try{await ensureGlobalQuizzesLoaded();const _0x3b786e=doc(db,_0x517d75(0xc9f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1db9e5=await getDoc(_0x3b786e);if(!_0x1db9e5[_0x517d75(0x267)]())return;const _0x4b1a03=_0x1db9e5[_0x517d75(0xcbd)](),_0x2058b6=_0x4b1a03['topics'][_0x429aae];document['getElementById'](_0x517d75(0x29e))['textContent']=_0x2058b6[_0x517d75(0x2d1)];const _0x2035a8=_0x2058b6['linkedQuizIds']||[];_0x5a177f[_0x517d75(0x26b)][_0x517d75(0xc28)](_0x517d75(0x932),_0x2035a8[_0x517d75(0xe84)]===0x0),_0x5a177f[_0x517d75(0x675)]=()=>handleClearAllLinksForTopic(_0x429aae);if(_0x2035a8[_0x517d75(0xe84)]===0x0)_0x1ea407[_0x517d75(0xd04)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x4029c9=allQuizzesGlobal[_0x517d75(0x5f5)](_0x19ebaf=>_0x2035a8[_0x517d75(0xecb)](_0x19ebaf['id']));_0x1ea407[_0x517d75(0xd04)]=_0x4029c9[_0x517d75(0x643)](_0x6f12a1=>_0x517d75(0xbe6)+_0x6f12a1['id']+_0x517d75(0x493)+_0x6f12a1[_0x517d75(0xf14)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x6f12a1['id']+_0x517d75(0xa21)+_0x6f12a1[_0x517d75(0xaff)]['length']+_0x517d75(0xa2d)+_0x6f12a1['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x6f12a1['id']+_0x517d75(0x9cc)+_0x6f12a1['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22'+_0x6f12a1['id']+_0x517d75(0xe21)+_0x429aae+'\x22\x20data-quiz-id=\x22'+_0x6f12a1['id']+_0x517d75(0xaad))[_0x517d75(0x87d)]('');}document['getElementById'](_0x517d75(0xb95))[_0x517d75(0x675)]=()=>{openQuizSelectorForBlueprint(_0x429aae);},document[_0x517d75(0xb29)]('close-topic-bank-btn')['onclick']=()=>_0x2d6414['classList'][_0x517d75(0x224)](_0x517d75(0x932)),_0x2d6414[_0x517d75(0x26b)][_0x517d75(0x937)](_0x517d75(0x932));}catch(_0x447eea){showMessage(_0x447eea[_0x517d75(0x837)]);}}async function openQuizSelectorForBlueprint(_0x3dae24){const _0x216448=_0x3d653b,_0x58f927=document[_0x216448(0xb29)]('quiz-bank-modal'),_0x5701f5=document[_0x216448(0xb29)](_0x216448(0x19b));_0x5701f5[_0x216448(0x26b)][_0x216448(0x224)](_0x216448(0x932)),document[_0x216448(0xb29)](_0x216448(0xd87))?.[_0x216448(0x937)]();const _0x5c7a2c=document[_0x216448(0x712)](_0x216448(0xd14));_0x5c7a2c['id']=_0x216448(0xd87),_0x5c7a2c[_0x216448(0x48c)]=_0x216448(0x972),_0x5c7a2c[_0x216448(0x6ab)]='เพิ่มรายการที่เลือก',_0x5c7a2c[_0x216448(0xeee)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x58f927[_0x216448(0x26b)][_0x216448(0x937)](_0x216448(0x932)),renderQuizBankListForMultiSelect(''),document[_0x216448(0xb29)]('bulk-quiz-settings-btn')[_0x216448(0xa90)][_0x216448(0xd27)]=_0x216448(0x1a6),_0x58f927[_0x216448(0x327)]('.flex.justify-between.items-center')[_0x216448(0xd62)](_0x5c7a2c);const _0x108a22=(_0x430c18=![])=>{const _0xb82509=_0x216448;_0x58f927[_0xb82509(0x26b)][_0xb82509(0x224)]('hidden'),document['getElementById'](_0xb82509(0xa95))[_0xb82509(0xa90)][_0xb82509(0xd27)]=_0xb82509(0xef9),_0x5c7a2c['remove'](),_0x430c18&&openTopicQuizBank(_0x3dae24);};_0x5c7a2c[_0x216448(0x675)]=async()=>{const _0xc0937c=_0x216448,_0x2e318b=Array[_0xc0937c(0x63b)](document[_0xc0937c(0x948)]('.quiz-bank-checkbox:checked'))[_0xc0937c(0x643)](_0x2b4e3f=>_0x2b4e3f[_0xc0937c(0xc4b)]);if(_0x2e318b[_0xc0937c(0xe84)]===0x0)return;try{const _0x249eeb=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3307e4=(await getDoc(_0x249eeb))[_0xc0937c(0xcbd)](),_0x2a0fc8=_0x3307e4[_0xc0937c(0xc8b)][_0x3dae24]['linkedQuizIds']||[],_0x398af0=[...new Set([..._0x2a0fc8,..._0x2e318b])];await updateDoc(_0x249eeb,{[_0xc0937c(0xae4)+_0x3dae24+_0xc0937c(0xe3b)]:_0x398af0}),showMessage('เพิ่ม\x20'+_0x2e318b[_0xc0937c(0xe84)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x108a22(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x448305){console['error'](_0xc0937c(0x65f),_0x448305);}},document[_0x216448(0xb29)](_0x216448(0xb5c))[_0x216448(0x675)]=()=>_0x108a22(!![]);}catch(_0x56d175){showMessage(_0x56d175[_0x216448(0x837)]),_0x5701f5[_0x216448(0x26b)]['remove'](_0x216448(0x932));}}function handleClearLinkedQuiz(_0x57bd5e){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x25a09e=_0x1c86;try{const _0x4356ab=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4356ab,{['topics.'+_0x57bd5e+_0x25a09e(0x75f)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5db31b){console[_0x25a09e(0x3b5)](_0x25a09e(0x7a1),_0x5db31b),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x59ec96=_0x3d653b,_0x2b5a1a=prompt(_0x59ec96(0x778));if(!_0x2b5a1a||_0x2b5a1a['trim']()==='')return;const _0x2eb497=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x59ec96(0xe06)),_0x1961f3=prompt(_0x59ec96(0x620),'หัวข้อหลักใหม่'),_0xff1fdf=_0x59ec96(0x5dd)+Date[_0x59ec96(0xbd7)]()+Math[_0x59ec96(0xebc)]()[_0x59ec96(0xd43)](0x24)[_0x59ec96(0x8dc)](0x2,0x9),_0x189409={'sara':_0x2eb497,'mainTopic':_0x1961f3,'subTopic':_0x2b5a1a[_0x59ec96(0x46f)](),'status':_0x59ec96(0x221),'lessonContent':null};try{const _0xfa9c8a=doc(db,_0x59ec96(0xc9f)+appId+_0x59ec96(0x1c5),currentBlueprintProjectId);await updateDoc(_0xfa9c8a,{[_0x59ec96(0xae4)+_0xff1fdf]:_0x189409}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x304e82){console['error'](_0x59ec96(0xe13),_0x304e82),showMessage(_0x59ec96(0x69b));}}async function editTopicInProject(_0x4e1bfa){const _0x46d930=_0x3d653b,_0x28960c=document[_0x46d930(0x327)](_0x46d930(0x6cd)+_0x4e1bfa+'\x22]'),_0x120328=_0x28960c[_0x46d930(0x327)](_0x46d930(0x9f5)),_0x201bdf=_0x120328[_0x46d930(0x6ab)],_0xf39d4c=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x201bdf);if(!_0xf39d4c||_0xf39d4c[_0x46d930(0x46f)]()===''||_0xf39d4c[_0x46d930(0x46f)]()===_0x201bdf)return;try{const _0x5b872c=doc(db,_0x46d930(0xc9f)+appId+_0x46d930(0x1c5),currentBlueprintProjectId);await updateDoc(_0x5b872c,{[_0x46d930(0xae4)+_0x4e1bfa+_0x46d930(0x1a4)]:_0xf39d4c[_0x46d930(0x46f)]()}),_0x120328[_0x46d930(0x6ab)]=_0xf39d4c[_0x46d930(0x46f)](),showMessage(_0x46d930(0xb9a));}catch(_0xab8ced){console['error'](_0x46d930(0x307),_0xab8ced),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x5f2db1){const _0xc589eb=_0x3d653b;if(!confirm(_0xc589eb(0xeb2)))return;try{const _0x15cfbb=doc(db,_0xc589eb(0xc9f)+appId+_0xc589eb(0x1c5),currentBlueprintProjectId);await updateDoc(_0x15cfbb,{[_0xc589eb(0xae4)+_0x5f2db1]:deleteField()}),document[_0xc589eb(0x327)](_0xc589eb(0x6cd)+_0x5f2db1+'\x22]')[_0xc589eb(0x937)](),showMessage(_0xc589eb(0x575));}catch(_0x4d6f10){console[_0xc589eb(0x3b5)]('Error\x20deleting\x20topic:',_0x4d6f10),showMessage(_0xc589eb(0x8eb));}}async function generateAndSaveLessonForBlueprint(_0x495286,_0x5af9a8,_0x6eb59e){handleGenerateAndShowLesson(_0x5af9a8,_0x6eb59e);const _0x4bfc75=setInterval(async()=>{const _0x366e78=_0x1c86,_0x2f8832=document['getElementById']('lesson-view-modal'),_0x5db0ff=_0x2f8832[_0x366e78(0x26b)]['contains'](_0x366e78(0x932));if(_0x5db0ff){clearInterval(_0x4bfc75);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x326833={'point':document[_0x366e78(0xb29)]('pointContent')[_0x366e78(0xd04)],'memory':document['getElementById'](_0x366e78(0x580))[_0x366e78(0xd04)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x366e78(0xb29)]('summaryContent')[_0x366e78(0xd04)]};try{const _0x39f019=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x445423=doc(db,_0x366e78(0xc9f)+appId+_0x366e78(0x4ea)+currentBlueprintProjectId+_0x366e78(0x559),_0x495286),_0x10bcb4=writeBatch(db);_0x10bcb4[_0x366e78(0x459)](_0x445423,{'content':_0x326833}),_0x10bcb4[_0x366e78(0x5c5)](_0x39f019,{[_0x366e78(0xae4)+_0x495286+_0x366e78(0x3c5)]:'generated'}),await _0x10bcb4[_0x366e78(0x832)](),console['log'](_0x366e78(0x99c)+_0x495286+_0x366e78(0x50b)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4a61a2){console[_0x366e78(0x3b5)](_0x366e78(0x39c),_0x4a61a2);}}}},0x3e8);}function displayHalfMarkResult(_0xeab6e8,_0x22a459){const _0x489e6a=_0x3d653b,_0x813476=_0xeab6e8>=_0x22a459/0x2,_0x2f3f6c=_0x813476?'bg-green-100':_0x489e6a(0xb8a),_0xef19bb=_0x813476?_0x489e6a(0x788):_0x489e6a(0x628),_0x3c01cd=_0x813476?_0x489e6a(0x998):'text-red-800',_0x4d664e=_0x813476?_0x489e6a(0xb72):_0x489e6a(0xad1),_0x2164ce=_0x813476?_0x489e6a(0x809):_0x489e6a(0xe33);let _0x38b34a=_0x489e6a(0x553)+_0x2f3f6c+_0x489e6a(0x7bf)+_0xef19bb+_0x489e6a(0xd01)+_0x3c01cd+'\x20mb-2\x22>'+_0x4d664e+_0x489e6a(0x5d3)+_0x2164ce+_0x489e6a(0x427);studentResultArea[_0x489e6a(0xd04)]=_0x38b34a,studentResultArea[_0x489e6a(0x26b)][_0x489e6a(0x937)](_0x489e6a(0x932)),studentQuizArea[_0x489e6a(0x26b)][_0x489e6a(0x224)](_0x489e6a(0x932)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x813476});}function displayPerfectScoreResult(_0x5caf18,_0x78b92b){const _0x11b8dc=_0x3d653b,_0x1a19f9=_0x5caf18===_0x78b92b,_0x34805b=_0x1a19f9?_0x11b8dc(0x6db):_0x11b8dc(0xa0b),_0x5ddd3c=_0x1a19f9?_0x11b8dc(0x436):_0x11b8dc(0x91d),_0x375b2f=_0x1a19f9?_0x11b8dc(0x582):'text-blue-800',_0x193995=_0x1a19f9?'คะแนนเต็ม!':_0x11b8dc(0x71c),_0x4ec42e=_0x1a19f9?_0x11b8dc(0xc4c):_0x11b8dc(0x8c1);let _0x35f1c8=_0x11b8dc(0x553)+_0x34805b+_0x11b8dc(0x7bf)+_0x5ddd3c+_0x11b8dc(0xd01)+_0x375b2f+_0x11b8dc(0x7d3)+_0x193995+_0x11b8dc(0x5d3)+_0x4ec42e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x11b8dc(0xd04)]=_0x35f1c8,studentResultArea[_0x11b8dc(0x26b)][_0x11b8dc(0x937)](_0x11b8dc(0x932)),studentQuizArea['classList'][_0x11b8dc(0x224)](_0x11b8dc(0x932)),setupResultScreenBackButton({'showRankings':![],'score':_0x5caf18,'totalQuestions':_0x78b92b});}function renderIndividualComparisonTable(_0x244cd0,_0x44730c){const _0x444b62=_0x3d653b;_0x244cd0[_0x444b62(0xb9f)]((_0x2a39ad,_0x485f17)=>(_0x485f17[_0x444b62(0x45b)]??-Infinity)-(_0x2a39ad['tGain']??-Infinity));let _0xbaa1f7=_0x444b62(0x687);_0x244cd0[_0x444b62(0xe84)]===0x0?_0xbaa1f7+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x244cd0[_0x444b62(0x57b)]((_0x290757,_0x2dc85b)=>{const _0x47894c=_0x444b62;let _0x57d6ea='-',_0x90b5ac='';if(_0x290757[_0x47894c(0x44e)]!==null){const _0x4a7784=_0x290757[_0x47894c(0x44e)]>0x0?_0x47894c(0xac4):_0x290757[_0x47894c(0x44e)]<0x0?_0x47894c(0xa1b):_0x47894c(0xcdd),_0x3036fd=_0x290757[_0x47894c(0x44e)]>0x0?'+':'';_0x57d6ea=_0x47894c(0x8cd)+_0x4a7784+'\x22>'+_0x3036fd+_0x290757['gain']+_0x47894c(0x8e8);if(_0x290757[_0x47894c(0x44e)]>0x0)_0x90b5ac='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x290757[_0x47894c(0x44e)]<0x0?_0x90b5ac='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x90b5ac=_0x47894c(0x810);}let _0x48ed96='-';if(_0x290757[_0x47894c(0x45b)]!==null){const _0x1b7127=_0x290757[_0x47894c(0x45b)]>0x0?_0x47894c(0xac4):_0x290757[_0x47894c(0x45b)]<0x0?_0x47894c(0xa1b):'text-gray-500',_0x3c039b=_0x290757[_0x47894c(0x45b)]>0x0?'+':'';_0x48ed96=_0x47894c(0x8cd)+_0x1b7127+'\x22>'+_0x3c039b+_0x290757[_0x47894c(0x45b)][_0x47894c(0x924)](0x2)+'</span>';}_0xbaa1f7+=_0x47894c(0x6c9)+(_0x2dc85b+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x290757['name']+_0x47894c(0x3b9)+(_0x290757[_0x47894c(0x3c8)]??'-')+_0x47894c(0x9ed)+(_0x290757[_0x47894c(0x8f4)]??'-')+_0x47894c(0x3b9)+_0x57d6ea+_0x47894c(0x8d7)+_0x90b5ac+_0x47894c(0xf05)+(_0x290757[_0x47894c(0x421)]?.[_0x47894c(0x924)](0x2)??'-')+_0x47894c(0x6da)+(_0x290757[_0x47894c(0xd73)]?.[_0x47894c(0x924)](0x2)??'-')+_0x47894c(0x3b9)+_0x48ed96+_0x47894c(0x941);}),_0xbaa1f7+=_0x444b62(0xf0b),_0x44730c[_0x444b62(0xd04)]=_0xbaa1f7;}function handleRenameQuiz(_0x20e396,_0x28ff94){const _0x4db180=_0x3d653b;actionTargetId=_0x20e396,document[_0x4db180(0xb29)]('rename-quiz-input')[_0x4db180(0xc4b)]=_0x28ff94,renameQuizModal[_0x4db180(0x26b)][_0x4db180(0x937)](_0x4db180(0x932));}function setupComparisonModalTabs(){const _0x10a38e=_0x3d653b,_0x1cf4e4=document['getElementById'](_0x10a38e(0x9b9)),_0x24f5d9=document['getElementById']('comparison-individual-tab'),_0x4b8518=document[_0x10a38e(0xb29)](_0x10a38e(0x4dd)),_0x5f1ddb=document[_0x10a38e(0xb29)](_0x10a38e(0x1de));_0x1cf4e4[_0x10a38e(0x652)](_0x10a38e(0xc7b),()=>{const _0x41d8ab=_0x10a38e;_0x1cf4e4[_0x41d8ab(0x26b)]['add'](_0x41d8ab(0xd63)),_0x24f5d9[_0x41d8ab(0x26b)][_0x41d8ab(0x937)](_0x41d8ab(0xd63)),_0x4b8518[_0x41d8ab(0x26b)]['remove'](_0x41d8ab(0x932)),_0x5f1ddb['classList'][_0x41d8ab(0x224)]('hidden');}),_0x24f5d9[_0x10a38e(0x652)](_0x10a38e(0xc7b),()=>{const _0x20696d=_0x10a38e;_0x24f5d9[_0x20696d(0x26b)][_0x20696d(0x224)]('active'),_0x1cf4e4[_0x20696d(0x26b)][_0x20696d(0x937)](_0x20696d(0xd63)),_0x5f1ddb[_0x20696d(0x26b)][_0x20696d(0x937)](_0x20696d(0x932)),_0x4b8518[_0x20696d(0x26b)][_0x20696d(0x224)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0xe3a9a4=_0x3d653b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3b0a20=doc(db,_0xe3a9a4(0xc9f)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3b0a20,_0x3eedae=>{const _0x471f3f=_0xe3a9a4;if(!_0x3eedae['exists']()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x471f3f(0x223)?showView('project-detail'):showView(_0x471f3f(0x4d8));return;}const _0x172925=_0x3eedae['data']();_0x172925['shuffledQuiz']&&(currentQuizData=_0x172925[_0x471f3f(0xeb4)]);!currentQuizData&&_0x172925['quizId']&&((async()=>{const _0x3dcad3=_0x471f3f;try{const _0x49363c=doc(db,'artifacts/'+appId+_0x3dcad3(0xd47),_0x172925[_0x3dcad3(0x31e)]),_0x424fa2=await getDoc(_0x49363c);_0x424fa2[_0x3dcad3(0x267)]()&&(currentQuizData={'id':_0x424fa2['id'],..._0x424fa2[_0x3dcad3(0xcbd)]()});}catch(_0x50dd72){console[_0x3dcad3(0x3b5)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x50dd72);}})());switch(_0x172925['status']){case _0x471f3f(0xa03):if(currentMode===_0x471f3f(0x223)){const _0x5770f7=_0x172925['players']?Object[_0x471f3f(0xe63)](_0x172925[_0x471f3f(0xe24)]):[],_0x581c71=_0x5770f7['filter'](([_0x63d31b,_0x52fd4f])=>_0x52fd4f['status']==='active'),_0x529fe6=document[_0x471f3f(0xb29)](_0x471f3f(0x7d4));if(_0x529fe6)_0x529fe6[_0x471f3f(0x6ab)]=_0x581c71['length'];const _0x5a2a47=document[_0x471f3f(0xb29)](_0x471f3f(0x568));_0x5a2a47&&(_0x5a2a47[_0x471f3f(0xd04)]=_0x581c71[_0x471f3f(0x643)](([_0xb6435f,_0x7429f7])=>_0x471f3f(0x93a)+_0xb6435f+_0x471f3f(0xc97)+_0xb6435f+_0x471f3f(0x44c))[_0x471f3f(0x87d)](''));const _0x21f202=document['getElementById'](_0x471f3f(0x515));_0x21f202&&(_0x21f202[_0x471f3f(0xeee)]=_0x581c71['length']===0x0);}else showView('live-game'),liveGameView[_0x471f3f(0xd04)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x471f3f(0xa92);break;case _0x471f3f(0x92b):const _0x1b9965=_0x172925['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x471f3f(0xaff)][_0x1b9965]){const _0x48402b=currentQuizData['questions'][_0x1b9965],_0x55089e=_0x172925[_0x471f3f(0xb7f)]||_0x471f3f(0x4f8);switch(_0x55089e){case _0x471f3f(0x396):currentMode===_0x471f3f(0x223)?showAdminSummaryView(_0x172925,_0x48402b):showPlayerSummaryView(_0x172925,currentStudentName);break;case _0x471f3f(0xb39):currentMode===_0x471f3f(0x223)&&showTop5LeaderboardView(_0x172925);break;case _0x471f3f(0x4f8):default:if(currentMode===_0x471f3f(0x223)){const _0x47fdf7=writeBatch(db);let _0x298e6a=![];Object[_0x471f3f(0xe63)](_0x172925[_0x471f3f(0xe24)])[_0x471f3f(0x57b)](([_0x1cb994,_0x59db26])=>{const _0x727bec=_0x471f3f;if(_0x59db26[_0x727bec(0x389)]===_0x727bec(0xd63)&&_0x59db26[_0x727bec(0x68c)]&&!_0x59db26['isScored']){_0x298e6a=!![];const _0x24e159=_0x59db26['submittedAt'][_0x727bec(0x1e8)]()-_0x172925[_0x727bec(0x5ea)][_0x727bec(0x1e8)]();let _0x4a5f2e=0x0;if(_0x59db26[_0x727bec(0x1d7)]){const _0x492ed0=0x3e8,_0x45aaae=0x1f4,_0x20e2e2=0x4e20;let _0x15f6d0=_0x24e159/_0x20e2e2;if(_0x15f6d0>0x1)_0x15f6d0=0x1;const _0x4d830d=Math['round'](_0x15f6d0*_0x45aaae);_0x4a5f2e=_0x492ed0-_0x4d830d;}const _0x1b717b=doc(db,_0x727bec(0xc9f)+appId+_0x727bec(0x291),currentLiveGameId);_0x47fdf7[_0x727bec(0x5c5)](_0x1b717b,{[_0x727bec(0xf07)+_0x1cb994+_0x727bec(0xeec)]:increment(_0x4a5f2e),['players.'+_0x1cb994+_0x727bec(0x9ee)]:_0x4a5f2e,[_0x727bec(0xf07)+_0x1cb994+_0x727bec(0xd34)]:!![]});}});_0x298e6a&&_0x47fdf7['commit']()[_0x471f3f(0xdcf)](_0x18b3a9=>console['error'](_0x471f3f(0x468),_0x18b3a9));lastRenderedAdminQuestionIndex!==_0x1b9965&&(showAdminLiveQuestionView(_0x48402b,_0x1b9965,currentQuizData['questions'][_0x471f3f(0xe84)]),lastRenderedAdminQuestionIndex=_0x1b9965);const _0x4f74d8=_0x172925[_0x471f3f(0xe24)]||{},_0x285162=Object[_0x471f3f(0xf02)](_0x4f74d8)[_0x471f3f(0x5f5)](_0x401bc9=>_0x401bc9[_0x471f3f(0x389)]==='active'),_0xa3e7e9=_0x285162[_0x471f3f(0xe84)],_0x577d91=_0x285162[_0x471f3f(0x5f5)](_0x273ebd=>_0x273ebd[_0x471f3f(0xa23)]===!![])[_0x471f3f(0xe84)],_0x2a76ba=document[_0x471f3f(0xb29)](_0x471f3f(0x6a6));if(_0x2a76ba)_0x2a76ba[_0x471f3f(0x6ab)]=_0x577d91+'/'+_0xa3e7e9;const _0x28539a=document[_0x471f3f(0xb29)](_0x471f3f(0x287));if(_0x28539a){let _0x3250c6=Object[_0x471f3f(0xe63)](_0x4f74d8)[_0x471f3f(0x5f5)](([_0x3387c0,_0x37ae98])=>_0x37ae98[_0x471f3f(0x389)]==='active')[_0x471f3f(0x643)](([_0x36a5e3,_0x3ab012])=>{const _0x170850=_0x471f3f,_0x495373=_0x3ab012[_0x170850(0xa23)]===!![],_0x3dafc5=_0x495373?_0x170850(0x6d0):_0x170850(0x507),_0x33bc9d=_0x495373?_0x170850(0x2df):_0x170850(0xa41);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x3dafc5+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33bc9d+_0x170850(0x747)+_0x36a5e3+_0x170850(0xaf4)+_0x36a5e3+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x471f3f(0x87d)]('');_0x28539a[_0x471f3f(0xd04)]=_0x3250c6||_0x471f3f(0xec9);}_0xa3e7e9>0x0&&_0x577d91===_0xa3e7e9&&revealAnswerForAdmin(_0x1b9965,currentQuizData[_0x471f3f(0xaff)][_0x471f3f(0xe84)]);}else{const _0x508bd1=_0x172925[_0x471f3f(0xe24)][currentStudentName];_0x508bd1&&!_0x508bd1[_0x471f3f(0xa23)]&&showStudentLiveQuestionView(_0x48402b,_0x1b9965,currentQuizData[_0x471f3f(0xaff)]['length']);}break;}}break;case'podium':showPodiumView(_0x172925[_0x471f3f(0xe24)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x5010ee=_0x3d653b;if(allQuizzesGlobal[_0x5010ee(0xe84)]===0x0){const _0xd8b1f1=await getDocs(collection(db,_0x5010ee(0xc9f)+appId+_0x5010ee(0xd47)));allQuizzesGlobal=_0xd8b1f1[_0x5010ee(0x574)][_0x5010ee(0x643)](_0x54ef72=>({'id':_0x54ef72['id'],..._0x54ef72['data']()}));}renderGlobalActivityList(''),document[_0x5010ee(0xb29)]('global-activity-modal')['classList'][_0x5010ee(0x937)](_0x5010ee(0x932));}function renderGlobalActivityList(_0x436f73=''){const _0x46d5c5=_0x3d653b,_0x56bfea=document[_0x46d5c5(0xb29)]('global-activity-quiz-list'),_0x2d698f=_0x436f73[_0x46d5c5(0xa99)]()[_0x46d5c5(0x46f)](),_0x160ec0=allQuizzesGlobal[_0x46d5c5(0x643)](_0x3a052f=>({..._0x3a052f,'projectName':allProjects[_0x46d5c5(0xb46)](_0x6387cb=>_0x6387cb['id']===_0x3a052f[_0x46d5c5(0x6c4)])?.[_0x46d5c5(0xa05)]||_0x46d5c5(0x8c3)}))['filter'](_0x2ad3a8=>(_0x2ad3a8[_0x46d5c5(0xf14)]||'')[_0x46d5c5(0xa99)]()['includes'](_0x2d698f)||(_0x2ad3a8['projectName']||'')[_0x46d5c5(0xa99)]()[_0x46d5c5(0xecb)](_0x2d698f));document[_0x46d5c5(0xb29)](_0x46d5c5(0x577))[_0x46d5c5(0x6ab)]='('+_0x160ec0[_0x46d5c5(0xe84)]+'\x20ชุด)',_0x56bfea['innerHTML']=_0x160ec0[_0x46d5c5(0xe84)]?_0x160ec0[_0x46d5c5(0x643)](_0x4d071b=>_0x46d5c5(0xa34)+(_0x4d071b['topic']||_0x46d5c5(0x39a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x4d071b[_0x46d5c5(0xaff)]?.[_0x46d5c5(0xe84)]||0x0)+_0x46d5c5(0xd7a)+_0x4d071b['projectName']+_0x46d5c5(0xc90)+_0x4d071b['id']+_0x46d5c5(0xd74)+_0x4d071b['id']+_0x46d5c5(0x1e6))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x910a5f){const _0x17d21c=_0x3d653b;if(!currentLiveGameId||!_0x910a5f)return;const _0x44bc47=doc(db,_0x17d21c(0xc9f)+appId+_0x17d21c(0x291),currentLiveGameId),_0x41158d={};_0x41158d['players.'+_0x910a5f+_0x17d21c(0x3c5)]='inactive';try{await updateDoc(_0x44bc47,_0x41158d);}catch(_0x3fd55a){console['error'](_0x17d21c(0xdaf)+_0x910a5f+':',_0x3fd55a),showMessage(_0x17d21c(0x1aa));}}async function authenticateUser(){const _0x34554f=_0x3d653b;try{typeof __initial_auth_token!==_0x34554f(0xd6b)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xa17d4b){console[_0x34554f(0x3b5)](_0x34554f(0x7a9),_0xa17d4b),showMessage(_0x34554f(0x850));}}function showView(_0x213259){const _0x24d4e5=_0x3d653b;adminView[_0x24d4e5(0x26b)][_0x24d4e5(0x224)]('hidden'),studentView[_0x24d4e5(0x26b)][_0x24d4e5(0x224)](_0x24d4e5(0x932)),projectDashboardView[_0x24d4e5(0x26b)][_0x24d4e5(0x224)]('hidden'),projectDetailView[_0x24d4e5(0x26b)][_0x24d4e5(0x224)]('hidden'),quizResultsView[_0x24d4e5(0x26b)][_0x24d4e5(0x224)](_0x24d4e5(0x932)),liveGameView[_0x24d4e5(0x26b)]['add'](_0x24d4e5(0x932)),document['getElementById'](_0x24d4e5(0x763))[_0x24d4e5(0x26b)][_0x24d4e5(0x224)](_0x24d4e5(0x932)),studentInitialView[_0x24d4e5(0x26b)]['add'](_0x24d4e5(0x932)),studentJoinGameView[_0x24d4e5(0x26b)][_0x24d4e5(0x224)](_0x24d4e5(0x932)),studentNameSelectionView['classList'][_0x24d4e5(0x224)](_0x24d4e5(0x932)),studentQuizArea['classList'][_0x24d4e5(0x224)]('hidden'),studentResultArea['classList']['add'](_0x24d4e5(0x932)),studentReadingArea[_0x24d4e5(0x26b)][_0x24d4e5(0x224)](_0x24d4e5(0x932));const _0x2f0d51=document[_0x24d4e5(0xb29)](_0x24d4e5(0x861)),_0x3959d2=document[_0x24d4e5(0xb29)]('student-progress-view');if(_0x2f0d51)_0x2f0d51['classList'][_0x24d4e5(0x224)](_0x24d4e5(0x932));if(_0x3959d2)_0x3959d2[_0x24d4e5(0x26b)][_0x24d4e5(0x224)](_0x24d4e5(0x932));switch(_0x213259){case _0x24d4e5(0x2c2):adminView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)]('hidden'),projectDashboardView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)]('hidden');break;case'project-detail':adminView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932)),projectDetailView['classList'][_0x24d4e5(0x937)](_0x24d4e5(0x932));break;case _0x24d4e5(0x190):adminView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932)),quizResultsView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932));break;case _0x24d4e5(0x4d8):studentView['classList']['remove'](_0x24d4e5(0x932)),studentInitialView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932));break;case _0x24d4e5(0x78c):liveGameView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932));break;case _0x24d4e5(0xec3):studentView['classList'][_0x24d4e5(0x937)](_0x24d4e5(0x932));if(_0x2f0d51)_0x2f0d51[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932));break;case _0x24d4e5(0x714):studentView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932));if(_0x3959d2)_0x3959d2['classList']['remove'](_0x24d4e5(0x932));break;default:studentView['classList'][_0x24d4e5(0x937)](_0x24d4e5(0x932)),studentInitialView[_0x24d4e5(0x26b)][_0x24d4e5(0x937)](_0x24d4e5(0x932));break;}}function showJoinGameView(){const _0x2cf738=_0x3d653b;studentInitialView['classList'][_0x2cf738(0x224)](_0x2cf738(0x932)),studentJoinGameView['classList']['remove']('hidden');}async function handleSaveVisibilitySettings(){const _0xf5f213=_0x3d653b;if(!currentProjectId)return;const _0x7e9250=doc(db,_0xf5f213(0xc9f)+appId+_0xf5f213(0x8ef),currentProjectId);try{await updateDoc(_0x7e9250,{'settings.showInStudentDashboard':document[_0xf5f213(0xb29)](_0xf5f213(0x281))[_0xf5f213(0x21d)],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')[_0xf5f213(0x21d)],'settings.passcode':document[_0xf5f213(0xb29)](_0xf5f213(0x72d))[_0xf5f213(0xc4b)]['trim']()}),showMessage(_0xf5f213(0x74a));}catch(_0x3a96fd){console[_0xf5f213(0x3b5)](_0xf5f213(0xb56),_0x3a96fd),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x14446c=_0x3d653b,_0x43cc9a=document['getElementById'](_0x14446c(0x2b0)),_0x3c5711=document[_0x14446c(0xb29)](_0x14446c(0x3ba));_0x43cc9a&&_0x3c5711&&(_0x3c5711[_0x14446c(0x652)](_0x14446c(0xc7b),()=>_0x43cc9a[_0x14446c(0xc7b)]()),_0x43cc9a[_0x14446c(0x652)](_0x14446c(0xc95),_0x3463ca=>{const _0x46eb32=_0x14446c;_0x3463ca['target'][_0x46eb32(0x4d5)][_0x46eb32(0xe84)]>0x0&&handleScanImageForText(_0x3463ca['target'][_0x46eb32(0x4d5)][0x0]);}));const _0x2d464c=document[_0x14446c(0xb29)]('wager-all-in-btn');_0x2d464c&&_0x2d464c[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x31c812=_0x14446c,_0x1e3f09=document[_0x31c812(0xb29)](_0x31c812(0x880)),_0x1235cc=document[_0x31c812(0xb29)](_0x31c812(0x685));_0x1e3f09&&(_0x1e3f09[_0x31c812(0xc4b)]=_0x1e3f09[_0x31c812(0xd18)],_0x1235cc&&(_0x1235cc['textContent']=_0x1e3f09[_0x31c812(0xc4b)],_0x1235cc[_0x31c812(0x26b)][_0x31c812(0x937)]('scale-125'),void _0x1235cc['offsetWidth'],_0x1235cc[_0x31c812(0x26b)][_0x31c812(0x224)](_0x31c812(0xc76),'transition-transform',_0x31c812(0x99a),_0x31c812(0xa1b)),setTimeout(()=>_0x1235cc[_0x31c812(0x26b)][_0x31c812(0x937)](_0x31c812(0x99a),_0x31c812(0xa1b)),0xc8)));});document['getElementById'](_0x14446c(0xabf))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x4b1adf=_0x14446c;document[_0x4b1adf(0xb29)](_0x4b1adf(0x49e))[_0x4b1adf(0x26b)]['add'](_0x4b1adf(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x5c4))[_0x14446c(0x652)]('click',()=>{const _0x54412f=_0x14446c,_0x145414=document['getElementById'](_0x54412f(0x49e)),_0x47747e=document['getElementById']('selected-answer-index-hidden-wager'),_0x2def4d=document['getElementById'](_0x54412f(0x880))[_0x54412f(0xc4b)],_0x1ad057=_0x47747e[_0x54412f(0x63c)][_0x54412f(0x2e9)],_0x3164c7=JSON['parse'](_0x47747e[_0x54412f(0x63c)][_0x54412f(0x92b)]),_0x37906d=JSON[_0x54412f(0xf2d)](_0x47747e[_0x54412f(0x63c)][_0x54412f(0xccc)]),_0x1fa64e=_0x47747e['dataset'][_0x54412f(0x5a4)];_0x145414['classList'][_0x54412f(0x224)](_0x54412f(0x932)),handleSyncAnswerSubmit(_0x1ad057,_0x3164c7,_0x37906d,_0x1fa64e,![],_0x2def4d);}),document[_0x14446c(0x948)](_0x14446c(0xbbd))[_0x14446c(0x57b)](_0x41fa22=>{const _0x389d4e=_0x14446c;_0x41fa22[_0x389d4e(0x652)](_0x389d4e(0xc95),_0x1a25c1=>{const _0xadd9e8=_0x389d4e,_0x13b987=document['getElementById']('anon-settings-container');_0x1a25c1['target'][_0xadd9e8(0xc4b)]===_0xadd9e8(0x872)?_0x13b987[_0xadd9e8(0x26b)][_0xadd9e8(0x937)](_0xadd9e8(0x932)):_0x13b987[_0xadd9e8(0x26b)][_0xadd9e8(0x224)](_0xadd9e8(0x932));});}),document[_0x14446c(0xb29)](_0x14446c(0x1ec))['addEventListener']('change',_0x356ac8=>{const _0x2daa64=_0x14446c;document['getElementById']('sync-timer-duration-container')[_0x2daa64(0x26b)][_0x2daa64(0xc28)]('hidden',!_0x356ac8[_0x2daa64(0xadf)][_0x2daa64(0x21d)]);});const _0x330c2c=document[_0x14446c(0xb29)](_0x14446c(0x790)),_0x37fddd=document['getElementById'](_0x14446c(0x361));_0x330c2c&&_0x37fddd&&_0x330c2c[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x1efbf0=_0x14446c;_0x37fddd[_0x1efbf0(0x26b)]['add'](_0x1efbf0(0x932)),_0x37fddd[_0x1efbf0(0x63c)][_0x1efbf0(0xc74)]='';});const _0x193bbf=document[_0x14446c(0xb29)](_0x14446c(0x566));_0x193bbf&&(_0x193bbf[_0x14446c(0x652)](_0x14446c(0x4e8),wakeUpScreen),_0x193bbf['addEventListener'](_0x14446c(0x253),wakeUpScreen));document[_0x14446c(0xb29)](_0x14446c(0xe61))[_0x14446c(0x652)](_0x14446c(0xc7b),async()=>{const _0x282da1=_0x14446c;if(!currentBlueprintProjectId)return;const _0x872b40=document[_0x282da1(0xb29)]('bp-reference-file-url')[_0x282da1(0xc4b)][_0x282da1(0x46f)](),_0x43c768=doc(db,_0x282da1(0xc9f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x43c768,{'referenceFileUrl':_0x872b40}),showMessage(_0x282da1(0xe87));}catch(_0x599f7){console[_0x282da1(0x3b5)]('Error\x20saving\x20reference\x20URL:',_0x599f7),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x14446c(0xb29)](_0x14446c(0x3f6))['addEventListener'](_0x14446c(0xc7b),handleAddParallelShortcutTab),document[_0x14446c(0xb29)](_0x14446c(0x397))['addEventListener']('click',_0x12e00e=>{const _0x241455=_0x14446c;_0x12e00e[_0x241455(0xadf)][_0x241455(0x2e3)](_0x241455(0x737))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x241455(0xb29)]('additional-parallel-shortcuts-modal')['classList'][_0x241455(0x937)](_0x241455(0x932)));}),document[_0x14446c(0xb29)](_0x14446c(0x55a))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x50660e=_0x14446c;document[_0x50660e(0xb29)](_0x50660e(0x24e))['classList'][_0x50660e(0x224)]('hidden');}),document['addEventListener']('click',_0x2e2509=>{const _0x1cbdc6=_0x14446c;!_0x2e2509['target'][_0x1cbdc6(0x2e3)](_0x1cbdc6(0x9af))&&document[_0x1cbdc6(0x948)]('.move-parallel-shortcut-dropdown')['forEach'](_0x4a1b14=>_0x4a1b14[_0x1cbdc6(0x26b)][_0x1cbdc6(0x224)](_0x1cbdc6(0x932)));}),document[_0x14446c(0xb29)]('add-file-shortcut-tab-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),handleAddFileShortcutTab),document[_0x14446c(0xb29)](_0x14446c(0x6be))[_0x14446c(0x652)](_0x14446c(0xc7b),_0x444e66=>{const _0x9ef95a=_0x14446c;_0x444e66[_0x9ef95a(0xadf)]['closest']('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x9ef95a(0x689),renderAdditionalFileShortcutsModal(),document[_0x9ef95a(0xb29)]('additional-file-shortcuts-modal')['classList'][_0x9ef95a(0x937)](_0x9ef95a(0x932)));}),document[_0x14446c(0xb29)]('close-additional-file-shortcuts-btn')['addEventListener'](_0x14446c(0xc7b),()=>{const _0x16fadd=_0x14446c;document['getElementById']('additional-file-shortcuts-modal')[_0x16fadd(0x26b)][_0x16fadd(0x224)]('hidden');}),document[_0x14446c(0x652)](_0x14446c(0xc7b),_0x2d35f5=>{const _0x3b37f2=_0x14446c;!_0x2d35f5['target'][_0x3b37f2(0x2e3)](_0x3b37f2(0x1b7))&&document['querySelectorAll'](_0x3b37f2(0x80e))[_0x3b37f2(0x57b)](_0x556dfd=>_0x556dfd[_0x3b37f2(0x26b)]['add'](_0x3b37f2(0x932)));}),document['getElementById'](_0x14446c(0xc24))[_0x14446c(0x652)]('click',handleAddShortcutTab),document[_0x14446c(0xb29)](_0x14446c(0x76b))[_0x14446c(0x652)]('click',_0x2a5223=>{const _0x2f7373=_0x14446c,_0x3d20f2=_0x2a5223['target'][_0x2f7373(0x2e3)](_0x2f7373(0x1c3)),_0x53d97e=_0x2a5223['target'][_0x2f7373(0x2e3)]('.edit-parallel-shortcut-btn'),_0x573c1c=_0x2a5223['target'][_0x2f7373(0x2e3)](_0x2f7373(0xc99));if(_0x53d97e)openParallelTestShortcutEditor(_0x53d97e[_0x2f7373(0x63c)]['id']);else{if(_0x573c1c){const _0x10c336=_0x573c1c[_0x2f7373(0x63c)]['id'];showConfirmation(_0x2f7373(0xee1),async()=>{const _0x125f43=_0x2f7373,_0x4ab017=parallelTestShortcuts['filter'](_0x596670=>_0x596670['id']!==_0x10c336),_0x5842d0=doc(db,_0x125f43(0x445),_0x125f43(0x891));await setDoc(_0x5842d0,{'shortcuts':_0x4ab017},{'merge':!![]});});}else _0x3d20f2&&handleParallelTestShortcutClick(_0x3d20f2[_0x2f7373(0x63c)]['id']);}}),document['getElementById'](_0x14446c(0xdd7))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>openParallelTestShortcutEditor(null)),document[_0x14446c(0xb29)](_0x14446c(0x365))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x4348d1=_0x14446c;document[_0x4348d1(0xb29)](_0x4348d1(0xe9f))[_0x4348d1(0x26b)]['add'](_0x4348d1(0x932));}),document[_0x14446c(0xb29)]('save-parallel-shortcut-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),saveParallelTestShortcutChanges),document[_0x14446c(0xb29)]('parallel-test-input-area')[_0x14446c(0x652)](_0x14446c(0xc7b),_0x59ea67=>{const _0x4be7e8=_0x14446c;_0x59ea67[_0x4be7e8(0xadf)][_0x4be7e8(0x2e3)](_0x4be7e8(0x737))&&document[_0x4be7e8(0xb29)](_0x4be7e8(0x24e))[_0x4be7e8(0x26b)]['remove'](_0x4be7e8(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x55a))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x3ad2a3=_0x14446c;document[_0x3ad2a3(0xb29)]('additional-parallel-shortcuts-modal')[_0x3ad2a3(0x26b)][_0x3ad2a3(0x224)](_0x3ad2a3(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x3f8))[_0x14446c(0x652)](_0x14446c(0xc7b),_0x59a22b=>{const _0x581a02=_0x14446c,_0x808886=document['getElementById'](_0x581a02(0x24e)),_0x2cc42e=_0x59a22b['target']['closest'](_0x581a02(0xa54)),_0x20b3b5=_0x59a22b[_0x581a02(0xadf)][_0x581a02(0x2e3)](_0x581a02(0xcb5)),_0x42ae6f=_0x59a22b[_0x581a02(0xadf)]['closest'](_0x581a02(0xbbe));if(_0x2cc42e)_0x808886[_0x581a02(0x26b)]['add']('hidden'),handleParallelTestShortcutClick(_0x2cc42e[_0x581a02(0x63c)]['id']);else{if(_0x20b3b5)_0x808886[_0x581a02(0x26b)][_0x581a02(0x224)](_0x581a02(0x932)),openParallelTestShortcutEditor(_0x20b3b5['dataset']['id']);else{if(_0x42ae6f){const _0x4e8dad=_0x42ae6f['dataset']['id'];showConfirmation(_0x581a02(0xee1),async()=>{const _0x34ea07=_0x581a02,_0x1053ef=parallelTestShortcuts[_0x34ea07(0x5f5)](_0x2939f5=>_0x2939f5['id']!==_0x4e8dad),_0x3eb2a4=doc(db,_0x34ea07(0x445),_0x34ea07(0x891));await setDoc(_0x3eb2a4,{'shortcuts':_0x1053ef},{'merge':!![]});});}}}}),document[_0x14446c(0xb29)]('file-shortcut-container')[_0x14446c(0x652)](_0x14446c(0xc7b),_0x33d3b2=>{const _0x545fc7=_0x14446c,_0x236f63=_0x33d3b2['target']['closest'](_0x545fc7(0xa0c)),_0x3599fb=_0x33d3b2['target'][_0x545fc7(0x2e3)]('.edit-file-shortcut-btn'),_0x17e124=_0x33d3b2['target'][_0x545fc7(0x2e3)]('.delete-file-shortcut-btn');if(_0x3599fb)openFileShortcutEditor(_0x3599fb[_0x545fc7(0x63c)]['id']);else{if(_0x17e124){const _0x2bf60f=_0x17e124[_0x545fc7(0x63c)]['id'];showConfirmation(_0x545fc7(0xee1),async()=>{const _0x2d2c47=_0x545fc7,_0x260f41=fileShortcuts[_0x2d2c47(0x5f5)](_0x9107f7=>_0x9107f7['id']!==_0x2bf60f),_0x12e89a=doc(db,_0x2d2c47(0x445),_0x2d2c47(0xdc8));await setDoc(_0x12e89a,{'shortcuts':_0x260f41},{'merge':!![]});});}else _0x236f63&&handleFileShortcutClick(_0x236f63[_0x545fc7(0x63c)]['id']);}}),document[_0x14446c(0xb29)](_0x14446c(0x692))['addEventListener'](_0x14446c(0xc7b),()=>openFileShortcutEditor(null)),document[_0x14446c(0xb29)](_0x14446c(0x4ae))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x590d76=_0x14446c;document[_0x590d76(0xb29)](_0x590d76(0xe28))[_0x590d76(0x26b)][_0x590d76(0x224)](_0x590d76(0x932));}),document[_0x14446c(0xb29)]('save-file-shortcut-btn')[_0x14446c(0x652)]('click',saveFileShortcutChanges),document[_0x14446c(0xb29)](_0x14446c(0x6be))[_0x14446c(0x652)]('click',_0x2a7100=>{const _0x48b93f=_0x14446c;_0x2a7100[_0x48b93f(0xadf)][_0x48b93f(0x2e3)](_0x48b93f(0x54a))&&document[_0x48b93f(0xb29)]('additional-file-shortcuts-modal')[_0x48b93f(0x26b)][_0x48b93f(0x937)](_0x48b93f(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0xb17))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x16250e=_0x14446c;document[_0x16250e(0xb29)]('additional-file-shortcuts-modal')['classList'][_0x16250e(0x224)](_0x16250e(0x932));}),document['getElementById'](_0x14446c(0x29d))[_0x14446c(0x652)](_0x14446c(0xc7b),_0x2a20c7=>{const _0x46b5fe=_0x14446c,_0x33f980=document[_0x46b5fe(0xb29)](_0x46b5fe(0x661)),_0x9ff175=_0x2a20c7[_0x46b5fe(0xadf)][_0x46b5fe(0x2e3)](_0x46b5fe(0x69f)),_0x473bc3=_0x2a20c7[_0x46b5fe(0xadf)][_0x46b5fe(0x2e3)](_0x46b5fe(0x180)),_0x47ccff=_0x2a20c7[_0x46b5fe(0xadf)][_0x46b5fe(0x2e3)](_0x46b5fe(0x2f1));if(_0x9ff175)_0x33f980[_0x46b5fe(0x26b)]['add'](_0x46b5fe(0x932)),handleFileShortcutClick(_0x9ff175[_0x46b5fe(0x63c)]['id']);else{if(_0x473bc3)_0x33f980[_0x46b5fe(0x26b)][_0x46b5fe(0x224)](_0x46b5fe(0x932)),openFileShortcutEditor(_0x473bc3[_0x46b5fe(0x63c)]['id']);else{if(_0x47ccff){const _0x580cb7=_0x47ccff[_0x46b5fe(0x63c)]['id'];showConfirmation(_0x46b5fe(0xee1),async()=>{const _0x2d925b=_0x46b5fe,_0x5b0aa0=fileShortcuts['filter'](_0x3e324c=>_0x3e324c['id']!==_0x580cb7),_0x1da318=doc(db,_0x2d925b(0x445),_0x2d925b(0xdc8));await setDoc(_0x1da318,{'shortcuts':_0x5b0aa0},{'merge':!![]});});}}}}),document[_0x14446c(0xb29)](_0x14446c(0x8e6))[_0x14446c(0x652)](_0x14446c(0xc7b),_0x3ecc12=>{const _0xf6967e=_0x14446c;_0x3ecc12[_0xf6967e(0xadf)][_0xf6967e(0x2e3)](_0xf6967e(0x358))&&(activeShortcutTabId=_0xf6967e(0x689),renderAdditionalShortcutsModal(),document[_0xf6967e(0xb29)](_0xf6967e(0x8db))[_0xf6967e(0x26b)]['remove'](_0xf6967e(0x932)));}),document[_0x14446c(0xb29)](_0x14446c(0x9e0))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x5bae26=_0x14446c;document[_0x5bae26(0xb29)](_0x5bae26(0x8db))['classList']['add'](_0x5bae26(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x1df))[_0x14446c(0x652)](_0x14446c(0xc7b),_0x5ebd73=>{const _0xa86a38=_0x14446c,_0x41c2a1=_0x5ebd73['target'][_0xa86a38(0x2e3)](_0xa86a38(0x98a)),_0x247b2c=_0x5ebd73['target'][_0xa86a38(0x2e3)](_0xa86a38(0x8ac)),_0x36a954=_0x5ebd73['target'][_0xa86a38(0x2e3)](_0xa86a38(0x66f)),_0x1dd67c=document[_0xa86a38(0xb29)]('additional-shortcuts-modal');if(_0x41c2a1)_0x1dd67c[_0xa86a38(0x26b)][_0xa86a38(0x224)]('hidden'),handleShortcutClick(_0x41c2a1[_0xa86a38(0x63c)]['id']);else{if(_0x247b2c)_0x1dd67c[_0xa86a38(0x26b)][_0xa86a38(0x224)](_0xa86a38(0x932)),openShortcutEditor(_0x247b2c[_0xa86a38(0x63c)]['id']);else{if(_0x36a954){const _0x3e1b27=_0x36a954[_0xa86a38(0x63c)]['id'],_0x15c5fc=blueprintShortcuts['find'](_0x265a1f=>_0x265a1f['id']===_0x3e1b27)?.[_0xa86a38(0x77f)];showConfirmation(_0xa86a38(0x43f)+_0x15c5fc+'\x22?',async()=>{const _0x4f7920=_0xa86a38,_0x2cd2ed=blueprintShortcuts[_0x4f7920(0x5f5)](_0x134280=>_0x134280['id']!==_0x3e1b27);try{const _0x3a23b3=doc(db,_0x4f7920(0x445),_0x4f7920(0x6f8));await setDoc(_0x3a23b3,{'blueprintShortcuts':_0x2cd2ed},{'merge':!![]});}catch(_0x3bb110){console[_0x4f7920(0x3b5)](_0x4f7920(0x7c9),_0x3bb110);}});}}}}),document['getElementById']('blueprint-shortcut-container')['addEventListener'](_0x14446c(0xc7b),_0x49c778=>{const _0xaf9a6c=_0x14446c,_0x264b55=_0x49c778[_0xaf9a6c(0xadf)][_0xaf9a6c(0x2e3)](_0xaf9a6c(0x838)),_0x2d5c68=_0x49c778['target'][_0xaf9a6c(0x2e3)](_0xaf9a6c(0x324)),_0x5eb868=_0x49c778[_0xaf9a6c(0xadf)][_0xaf9a6c(0x2e3)](_0xaf9a6c(0x2ed));if(_0x2d5c68)openShortcutEditor(_0x2d5c68[_0xaf9a6c(0x63c)]['id']);else{if(_0x5eb868){const _0x4b3792=_0x5eb868[_0xaf9a6c(0x63c)]['id'],_0x4906c6=blueprintShortcuts['find'](_0x76963e=>_0x76963e['id']===_0x4b3792)?.['name'];showConfirmation(_0xaf9a6c(0x43f)+_0x4906c6+'\x22?',async()=>{const _0x3dcabf=_0xaf9a6c,_0x22f8a2=blueprintShortcuts[_0x3dcabf(0x5f5)](_0x4da3f5=>_0x4da3f5['id']!==_0x4b3792);try{const _0x272ba5=doc(db,'globalSettings',_0x3dcabf(0x6f8));await setDoc(_0x272ba5,{'blueprintShortcuts':_0x22f8a2},{'merge':!![]});}catch(_0x2c5104){console['error'](_0x3dcabf(0x7c9),_0x2c5104);}});}else _0x264b55&&handleShortcutClick(_0x264b55[_0xaf9a6c(0x63c)]['id']);}}),document['getElementById']('add-shortcut-btn')['addEventListener'](_0x14446c(0xc7b),()=>openShortcutEditor(null)),document['getElementById']('cancel-shortcut-edit-btn')['addEventListener'](_0x14446c(0xc7b),()=>{const _0x4f4698=_0x14446c;document[_0x4f4698(0xb29)]('shortcut-editor-modal')[_0x4f4698(0x26b)]['add'](_0x4f4698(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x9d0))['addEventListener'](_0x14446c(0xc7b),saveShortcutChanges),document[_0x14446c(0xb29)](_0x14446c(0xc37))[_0x14446c(0x652)](_0x14446c(0xc7b),async()=>{const _0x48d438=_0x14446c,_0xb1081a=document['getElementById'](_0x48d438(0x80f)),_0x512546=document['getElementById'](_0x48d438(0xb43));_0xb1081a[_0x48d438(0x4d5)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0xb1081a[_0x48d438(0x4d5)][0x0],_0x512546[_0x48d438(0x4d5)][0x0]||null):showMessage(_0x48d438(0x853));}),document[_0x14446c(0xb29)](_0x14446c(0x19b))[_0x14446c(0x652)](_0x14446c(0xc7b),async _0x551398=>{const _0xd59649=_0x14446c,_0x421f48=document['getElementById'](_0xd59649(0x19b)),_0x297ff5=_0x551398['target']['closest']('.bp-view-analysis-btn'),_0x26e073=_0x551398['target']['closest']('.bp-unlink-quiz-btn'),_0x3ceb34=_0x551398['target'][_0xd59649(0x2e3)](_0xd59649(0xa32)),_0x22c392=_0x551398[_0xd59649(0xadf)]['closest'](_0xd59649(0x52a)),_0x4a0b72=_0x551398[_0xd59649(0xadf)][_0xd59649(0x2e3)](_0xd59649(0x899)),_0x194308=_0x551398['target'][_0xd59649(0x2e3)]('.bp-game-btn');if(_0x297ff5){cameFromBlueprint=!![];const _0x273f48=_0x297ff5[_0xd59649(0x63c)][_0xd59649(0x31e)];showQuizDetailView(_0x273f48),_0x421f48['classList'][_0xd59649(0x224)](_0xd59649(0x932));}else{if(_0x26e073){const _0x5b91c4=_0x26e073[_0xd59649(0x63c)][_0xd59649(0x7b9)],_0x4ee1dc=_0x26e073[_0xd59649(0x63c)][_0xd59649(0x31e)],_0x3a9bae=allQuizzesGlobal['find'](_0x5c0c2f=>_0x5c0c2f['id']===_0x4ee1dc),_0x43819e=_0x3a9bae?_0x3a9bae[_0xd59649(0xf14)]:_0xd59649(0x371);showConfirmation(_0xd59649(0x2ee)+_0x43819e+_0xd59649(0x9c6),async()=>{const _0x49c261=_0xd59649;try{const _0x2e57f0=doc(db,_0x49c261(0xc9f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2e57f0,{[_0x49c261(0xae4)+_0x5b91c4+'.linkedQuizIds']:arrayRemove(_0x4ee1dc)}),showMessage(_0x49c261(0x9f3)),openTopicQuizBank(_0x5b91c4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x592ed5){console[_0x49c261(0x3b5)](_0x49c261(0x90c),_0x592ed5),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x3ceb34){cameFromBlueprint=!![];const _0x236c75=_0x3ceb34['dataset'][_0xd59649(0x31e)],_0x45d25d=allQuizzesGlobal[_0xd59649(0xb46)](_0x566591=>_0x566591['id']===_0x236c75);_0x45d25d&&(startPresentation(_0x45d25d),_0x421f48[_0xd59649(0x26b)][_0xd59649(0x224)](_0xd59649(0x932)));}else{if(_0x22c392){cameFromBlueprint=!![];const _0x12038c=_0x22c392['dataset'][_0xd59649(0x31e)],_0x3cfa98=allQuizzesGlobal[_0xd59649(0xb46)](_0x45783f=>_0x45783f['id']===_0x12038c);_0x3cfa98&&(currentQuizData=_0x3cfa98,startAdminTest(),_0x421f48[_0xd59649(0x26b)]['add'](_0xd59649(0x932)));}else{if(_0x4a0b72)cameFromBlueprint=!![],handleStartLiveRace(_0x4a0b72[_0xd59649(0x63c)][_0xd59649(0x31e)]),_0x421f48['classList'][_0xd59649(0x224)](_0xd59649(0x932));else{if(_0x194308){cameFromBlueprint=!![];const _0x58208c=_0x194308[_0xd59649(0x63c)][_0xd59649(0x31e)],_0x527d7f=_0x194308[_0xd59649(0x63c)][_0xd59649(0x720)],_0x11499e=allQuizzesGlobal['find'](_0x27828e=>_0x27828e['id']===_0x58208c);_0x11499e&&(showGameStartConfirmationModal(_0x58208c,_0x527d7f,_0x11499e[_0xd59649(0xf14)]),_0x421f48['classList']['add']('hidden'));}}}}}}}),document[_0x14446c(0xb29)](_0x14446c(0x3e2))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0xbfe20c=_0x14446c;document[_0xbfe20c(0xb29)]('manual-blueprint-modal')['classList'][_0xbfe20c(0x937)](_0xbfe20c(0x932)),document[_0xbfe20c(0xb29)](_0xbfe20c(0x63a))[_0xbfe20c(0xc4b)]='',document['getElementById'](_0xbfe20c(0x67f))[_0xbfe20c(0xc4b)]='',document[_0xbfe20c(0xb29)]('manual-bp-content')[_0xbfe20c(0xc4b)]='';}),document[_0x14446c(0xb29)]('cancel-manual-bp-btn')['addEventListener'](_0x14446c(0xc7b),()=>{const _0x5b1fa0=_0x14446c;document[_0x5b1fa0(0xb29)]('manual-blueprint-modal')['classList'][_0x5b1fa0(0x224)]('hidden');}),document[_0x14446c(0xb29)](_0x14446c(0xaf5))['addEventListener'](_0x14446c(0xc7b),handleManualBlueprintSave),document[_0x14446c(0xb29)](_0x14446c(0x5f0))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>document[_0x14446c(0xb29)](_0x14446c(0x710))[_0x14446c(0x26b)][_0x14446c(0x224)]('hidden')),document[_0x14446c(0xb29)](_0x14446c(0x36d))[_0x14446c(0x652)]('click',handleSaveBlueprintPageSettings),document[_0x14446c(0xb29)](_0x14446c(0x898))[_0x14446c(0x652)]('click',openBlueprintQuizSettings),document[_0x14446c(0xb29)](_0x14446c(0xa02))[_0x14446c(0x652)](_0x14446c(0xc7b),saveBlueprintProject),document['getElementById'](_0x14446c(0xacb))[_0x14446c(0x652)](_0x14446c(0xc7b),showBlueprintProjects),document[_0x14446c(0xb29)](_0x14446c(0xdf0))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x567756=_0x14446c;document['getElementById'](_0x567756(0xbce))[_0x567756(0x26b)][_0x567756(0x224)](_0x567756(0x932));}),document['getElementById']('blueprint-project-list')[_0x14446c(0x652)](_0x14446c(0xc7b),_0xd2fffe=>{const _0x3a2c4c=_0x14446c,_0xa47304=_0xd2fffe[_0x3a2c4c(0xadf)][_0x3a2c4c(0x2e3)](_0x3a2c4c(0x771)),_0x3236c2=_0xd2fffe['target'][_0x3a2c4c(0x2e3)](_0x3a2c4c(0xb65));if(_0xa47304)displayBlueprintProjectManager(_0xa47304['dataset']['id']);else _0x3236c2&&handleDeepDeleteBlueprintProject(_0x3236c2['dataset']['id']);}),document['getElementById']('back-to-dashboard-from-bp-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x3b8a8a=_0x14446c;currentBlueprintProjectId=null,currentProjectId=null,document[_0x3b8a8a(0xb29)]('blueprint-project-manager-view')[_0x3b8a8a(0x26b)]['add'](_0x3b8a8a(0x932)),showView(_0x3b8a8a(0x2c2));}),document[_0x14446c(0xb29)](_0x14446c(0xcb1))['addEventListener'](_0x14446c(0xc7b),addTopicToProject),document['getElementById'](_0x14446c(0x97b))['addEventListener'](_0x14446c(0xc7b),async _0x4fff69=>{const _0x5e24ef=_0x14446c,_0x521924=_0x4fff69['target'][_0x5e24ef(0x2e3)](_0x5e24ef(0xa91));if(!_0x521924)return;const _0x48ae8d=_0x521924[_0x5e24ef(0x63c)][_0x5e24ef(0x7b9)],_0x45520f=_0x4fff69[_0x5e24ef(0xadf)][_0x5e24ef(0x2e3)](_0x5e24ef(0xc20)),_0x34ec1a=_0x4fff69['target'][_0x5e24ef(0x2e3)]('.bp-create-content-quiz-btn'),_0x1cd819=_0x4fff69[_0x5e24ef(0xadf)][_0x5e24ef(0x2e3)](_0x5e24ef(0x74e)),_0x424b4f=_0x4fff69['target']['closest']('.bp-open-topic-bank-btn'),_0x33730b=_0x4fff69['target']['closest'](_0x5e24ef(0xb83)),_0x151e10=_0x4fff69[_0x5e24ef(0xadf)][_0x5e24ef(0x2e3)](_0x5e24ef(0xc7f)),_0x441176=_0x4fff69['target']['closest'](_0x5e24ef(0xb52)),_0x22b3f9=_0x4fff69[_0x5e24ef(0xadf)][_0x5e24ef(0x2e3)](_0x5e24ef(0x182)),_0x30d7e5=_0x30b2fb=>{const _0x4c3544=_0x5e24ef,_0x389276=_0x30b2fb[_0x4c3544(0x327)]('[data-field=\x22subTopic\x22]')[_0x4c3544(0x6ab)][_0x4c3544(0x46f)](),_0xd08b16=_0x30b2fb[_0x4c3544(0x2e3)](_0x4c3544(0x5c8))['previousElementSibling'],_0x1d36a8=_0xd08b16?_0xd08b16[_0x4c3544(0x6ab)][_0x4c3544(0x46f)]():'';return _0x1d36a8+':\x20'+_0x389276;};if(_0x424b4f)openTopicQuizBank(_0x48ae8d);else{if(_0x45520f){const _0x119f50=_0x30d7e5(_0x521924);selectProjectAndGenerateBlueprintQuiz(_0x119f50,null,_0x48ae8d,!![]);}else{if(_0x34ec1a){const _0x308673=_0x30d7e5(_0x521924);try{const _0x39d099=doc(db,_0x5e24ef(0xc9f)+appId+_0x5e24ef(0x4ea)+currentBlueprintProjectId+_0x5e24ef(0x559),_0x48ae8d),_0x5b9bca=await getDoc(_0x39d099);if(_0x5b9bca['exists']()){const _0x193a86=_0x5b9bca[_0x5e24ef(0xcbd)]()[_0x5e24ef(0x220)],_0x2d895c=document[_0x5e24ef(0x712)](_0x5e24ef(0xe00)),_0x37cf49=_0x2f2d7d=>{const _0x4f3a90=_0x5e24ef;if(!_0x2f2d7d)return'';return _0x2d895c['innerHTML']=_0x2f2d7d,_0x2d895c[_0x4f3a90(0x6ab)]||_0x2d895c[_0x4f3a90(0x1a0)]||'';},_0x423f4f=(_0x37cf49(_0x193a86[_0x5e24ef(0xaeb)])+'\x20'+_0x37cf49(_0x193a86[_0x5e24ef(0x4e5)])+'\x20'+_0x37cf49(_0x193a86[_0x5e24ef(0x8b2)]))[_0x5e24ef(0x46f)]();selectProjectAndGenerateBlueprintQuiz(_0x308673,_0x423f4f,_0x48ae8d,![]);}else showMessage(_0x5e24ef(0x98b));}catch(_0x1b606f){console['error'](_0x5e24ef(0xe08),_0x1b606f),showMessage(_0x5e24ef(0x5bb));}}else{if(_0x1cd819){const _0x4870df=_0x30d7e5(_0x521924);selectProjectAndGenerateBlueprintQuiz(_0x4870df,null,_0x48ae8d,![]);}else{if(_0x33730b){const _0x10614d=doc(db,_0x5e24ef(0xc9f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x10664b=await getDoc(_0x10614d);if(_0x10664b[_0x5e24ef(0x267)]()){const _0x5344a2=_0x10664b[_0x5e24ef(0xcbd)](),_0xe96f91=_0x5344a2[_0x5e24ef(0xc8b)][_0x48ae8d];if(_0xe96f91&&_0xe96f91[_0x5e24ef(0x389)]===_0x5e24ef(0xb04))try{const _0xc804ff=doc(db,_0x5e24ef(0xc9f)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x5e24ef(0x559),_0x48ae8d),_0x2a00d1=await getDoc(_0xc804ff);if(_0x2a00d1[_0x5e24ef(0x267)]()){const _0x2a784c=_0x2a00d1[_0x5e24ef(0xcbd)]()[_0x5e24ef(0x220)];document[_0x5e24ef(0xb29)](_0x5e24ef(0x27f))[_0x5e24ef(0x6ab)]=_0x5e24ef(0xdbc)+_0x30d7e5(_0x521924),document['getElementById'](_0x5e24ef(0xa73))[_0x5e24ef(0xd04)]=_0x2a784c['point'],document[_0x5e24ef(0xb29)](_0x5e24ef(0x580))['innerHTML']=_0x2a784c[_0x5e24ef(0x4e5)],document[_0x5e24ef(0xb29)](_0x5e24ef(0x913))[_0x5e24ef(0xd04)]=_0x2a784c[_0x5e24ef(0x8b2)];const _0x13ec2d=document[_0x5e24ef(0xb29)](_0x5e24ef(0xe9e));_0x2a784c[_0x5e24ef(0xbe8)]?(currentApplicationData=_0x2a784c[_0x5e24ef(0xbe8)],_0x13ec2d[_0x5e24ef(0xd04)]=currentApplicationData[_0x5e24ef(0x643)]((_0x5a43f1,_0x44a175)=>_0x5e24ef(0x807)+(_0x44a175+0x1)+'.\x20'+marked[_0x5e24ef(0x84e)](_0x5a43f1[_0x5e24ef(0x92b)])+_0x5e24ef(0xc0f)+_0x44a175+'-options\x22>'+_0x5a43f1['options'][_0x5e24ef(0x643)]((_0x47cdfb,_0x2a0fba)=>_0x5e24ef(0xb6d)+_0x44a175+',\x20'+_0x2a0fba+_0x5e24ef(0x59a)+String[_0x5e24ef(0x9b7)](0x61+_0x2a0fba)+'.\x20'+marked['parseInline'](_0x47cdfb)+'</button>')[_0x5e24ef(0x87d)]('')+_0x5e24ef(0x651))[_0x5e24ef(0x87d)]('')):(currentApplicationData=[],_0x13ec2d['innerHTML']=_0x2a784c[_0x5e24ef(0xb71)]||_0x2a784c['application']),document[_0x5e24ef(0xb29)](_0x5e24ef(0x522))[_0x5e24ef(0x26b)][_0x5e24ef(0x224)](_0x5e24ef(0x932)),document[_0x5e24ef(0xb29)](_0x5e24ef(0x6ac))[_0x5e24ef(0x26b)]['remove'](_0x5e24ef(0x932)),document[_0x5e24ef(0xb29)](_0x5e24ef(0xb47))['classList'][_0x5e24ef(0x937)](_0x5e24ef(0x932)),window[_0x5e24ef(0x348)]&&MathJax['typesetPromise']([document[_0x5e24ef(0xb29)](_0x5e24ef(0x6fa))]);}else showMessage(_0x5e24ef(0x588));}catch(_0x24dcb6){console[_0x5e24ef(0x3b5)]('Error\x20fetching\x20lesson\x20content:',_0x24dcb6),showMessage(_0x5e24ef(0x558));}else showMessage(_0x5e24ef(0x670));}}else{if(_0x151e10){const _0x29f702=_0x30d7e5(_0x521924),_0xb499ff=doc(db,_0x5e24ef(0xc9f)+appId+_0x5e24ef(0x1c5),currentBlueprintProjectId),_0x83abaf=await getDoc(_0xb499ff);if(_0x83abaf[_0x5e24ef(0x267)]()){const _0x1f2c83=_0x83abaf[_0x5e24ef(0xcbd)]();generateAndSaveLessonForBlueprint(_0x48ae8d,_0x29f702,_0x1f2c83[_0x5e24ef(0x455)]);}}else{if(_0x441176)editTopicInProject(_0x48ae8d);else _0x22b3f9&&deleteTopicFromProject(_0x48ae8d);}}}}}}}),document['getElementById'](_0x14446c(0xe71))[_0x14446c(0x652)](_0x14446c(0xc7b),handleFixLessonLatex),document[_0x14446c(0xb29)]('export-lesson-to-pdf-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),handleExportLessonToPDF),document['getElementById'](_0x14446c(0x8bf))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x38b3b4=_0x14446c;document['getElementById']('lesson-view-modal')[_0x38b3b4(0x26b)]['add'](_0x38b3b4(0x932));});const _0x5351d0=document[_0x14446c(0xb29)](_0x14446c(0xd82)),_0x578563=document['getElementById'](_0x14446c(0x18b));_0x5351d0[_0x14446c(0x652)]('change',()=>{const _0x22efc3=_0x14446c;_0x578563[_0x22efc3(0x26b)][_0x22efc3(0xc28)](_0x22efc3(0x932),!_0x5351d0[_0x22efc3(0x21d)]);});const _0x3c73ad=document[_0x14446c(0xb29)]('confidence-scoring-checkbox'),_0xa042f2=document[_0x14446c(0xb29)](_0x14446c(0x9ec));_0x3c73ad[_0x14446c(0x652)](_0x14446c(0xc95),()=>{const _0x2965c9=_0x14446c;_0xa042f2[_0x2965c9(0x26b)]['toggle']('hidden',!_0x3c73ad[_0x2965c9(0x21d)]);});const _0x2ace61=document[_0x14446c(0xb29)]('modal-confidence-scoring-checkbox'),_0x15e7b7=document[_0x14446c(0xb29)](_0x14446c(0x728));_0x2ace61[_0x14446c(0x652)](_0x14446c(0xc95),()=>{const _0x258c69=_0x14446c;_0x15e7b7[_0x258c69(0x26b)][_0x258c69(0xc28)](_0x258c69(0x932),!_0x2ace61[_0x258c69(0x21d)]);});const _0x16d350=document[_0x14446c(0xb29)](_0x14446c(0x361)),_0x26eca0=async _0x2e15d9=>{const _0x4f74c6=_0x14446c,_0x54765d=document[_0x4f74c6(0xb29)](_0x4f74c6(0x361)),_0x29b60f=_0x54765d['dataset']['currentMode'],_0x30e7d1=document['getElementById'](_0x4f74c6(0xbd0));_0x54765d['classList']['add']('hidden');if(_0x29b60f===_0x4f74c6(0xb4d)){const _0xd1992b=_0x30e7d1['value'],_0x3bdd11={'answer':_0xd1992b,'wasConfident':_0x2e15d9};proceedToNextQuestion(_0x3bdd11);}else{if(_0x29b60f==='sync'){const _0x100190=_0x30e7d1[_0x4f74c6(0x63c)][_0x4f74c6(0x2e9)],_0xf0fc43=JSON[_0x4f74c6(0xf2d)](_0x30e7d1['dataset'][_0x4f74c6(0x92b)]),_0x3723c8=JSON['parse'](_0x30e7d1[_0x4f74c6(0x63c)][_0x4f74c6(0xccc)]),_0x2cf242=_0x30e7d1[_0x4f74c6(0x63c)][_0x4f74c6(0x5a4)];handleSyncAnswerSubmit(_0x100190,_0xf0fc43,_0x3723c8,_0x2cf242,_0x2e15d9);}}_0x54765d[_0x4f74c6(0x63c)][_0x4f74c6(0xc74)]='';};document[_0x14446c(0xb29)](_0x14446c(0xa87))['addEventListener']('click',()=>_0x26eca0(!![])),document[_0x14446c(0xb29)]('confirm-not-confident')[_0x14446c(0x652)](_0x14446c(0xc7b),()=>_0x26eca0(![])),liveGameView[_0x14446c(0x652)]('click',_0x3ca4b9=>{const _0x38a0d9=_0x14446c,_0x4f8338=_0x3ca4b9[_0x38a0d9(0xadf)][_0x38a0d9(0x2e3)](_0x38a0d9(0x19d));if(_0x4f8338){const _0x20bb77=_0x4f8338[_0x38a0d9(0x63c)][_0x38a0d9(0x5a4)];_0x20bb77&&handleKickPlayerSync(_0x20bb77);}});const _0x1c8843=document[_0x14446c(0xb29)]('confirm-game-start-btn'),_0xde6315=document[_0x14446c(0xb29)](_0x14446c(0x848));_0xde6315[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x92c62e=_0x14446c;document['getElementById'](_0x92c62e(0x36a))['classList']['add']('hidden');}),_0x1c8843[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x49abfd=_0x14446c,_0x490e4c=document[_0x49abfd(0xb29)](_0x49abfd(0xb05))[_0x49abfd(0xc4b)],_0x43055d=document[_0x49abfd(0xb29)](_0x49abfd(0xb14))[_0x49abfd(0xc4b)],_0x3977bb=document[_0x49abfd(0xb29)](_0x49abfd(0x169))[_0x49abfd(0x21d)];document['getElementById'](_0x49abfd(0x36a))[_0x49abfd(0x26b)]['add']('hidden');switch(_0x43055d){case'live-race':handleStartLiveRace(_0x490e4c,_0x3977bb);break;case'team':handleStartTeamQuiz(_0x490e4c,_0x3977bb);break;case _0x49abfd(0xaac):handleStartGroupMode(_0x490e4c,_0x3977bb);break;case'sync':const _0x24af21=document['querySelector'](_0x49abfd(0x612))[_0x49abfd(0xc4b)]||_0x49abfd(0x44f);handleStartSyncMode(_0x490e4c,_0x3977bb,_0x24af21);break;}}),document[_0x14446c(0xb29)](_0x14446c(0x4bc))[_0x14446c(0x652)](_0x14446c(0xc7b),handleJoinGroupActivity),liveGameView[_0x14446c(0x652)](_0x14446c(0xc7b),_0x40a068=>{const _0x90bdd8=_0x14446c,_0x27d048=_0x40a068[_0x90bdd8(0xadf)][_0x90bdd8(0x2e3)](_0x90bdd8(0x957));document[_0x90bdd8(0x948)]('.live-summary-tooltip.visible')['forEach'](_0xddd871=>{const _0x596326=_0x90bdd8;(!_0x27d048||_0xddd871['id']!==_0x27d048[_0x596326(0x63c)][_0x596326(0x9d2)])&&_0xddd871[_0x596326(0x26b)][_0x596326(0x937)](_0x596326(0xbd2));});if(!_0x27d048)return;const _0x490cb4=_0x27d048[_0x90bdd8(0x63c)]['tooltipTarget'],_0x4a47bd=document['getElementById'](_0x490cb4);_0x4a47bd&&_0x4a47bd[_0x90bdd8(0x26b)][_0x90bdd8(0xc28)](_0x90bdd8(0xbd2));}),liveGameView['addEventListener'](_0x14446c(0xc7b),_0x567bd7=>{const _0x214542=_0x14446c;if(_0x567bd7[_0x214542(0xadf)]['classList']['contains'](_0x214542(0xea6))){const _0x23e48c=_0x567bd7[_0x214542(0xadf)][_0x214542(0x63c)][_0x214542(0x5a4)];_0x23e48c&&handleKickPlayer(_0x23e48c);}}),document[_0x14446c(0xb29)](_0x14446c(0xbf5))['addEventListener'](_0x14446c(0xba4),()=>document[_0x14446c(0xb29)](_0x14446c(0xdbb))[_0x14446c(0x26b)][_0x14446c(0x937)](_0x14446c(0x932))),document[_0x14446c(0xb29)](_0x14446c(0xdbb))[_0x14446c(0x652)](_0x14446c(0xc7b),handleSaveProjectName),document[_0x14446c(0xb29)](_0x14446c(0xbf5))[_0x14446c(0x652)](_0x14446c(0xb89),_0x94dcfa=>{const _0x2ce53e=_0x14446c;_0x94dcfa['key']===_0x2ce53e(0x78d)&&(_0x94dcfa[_0x2ce53e(0x486)](),_0x94dcfa[_0x2ce53e(0xadf)][_0x2ce53e(0x3df)](),handleSaveProjectName());}),document['getElementById'](_0x14446c(0xa95))[_0x14446c(0x652)]('click',()=>{const _0x4eba8f=_0x14446c;document[_0x4eba8f(0xb29)](_0x4eba8f(0xc64))[_0x4eba8f(0x26b)][_0x4eba8f(0x937)](_0x4eba8f(0x932));}),document['getElementById'](_0x14446c(0x539))[_0x14446c(0x652)]('click',()=>{const _0x2a5bca=_0x14446c;document['getElementById'](_0x2a5bca(0xc64))[_0x2a5bca(0x26b)][_0x2a5bca(0x224)](_0x2a5bca(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x55d))[_0x14446c(0x652)](_0x14446c(0xc7b),handleBulkUpdateQuizSettings),document[_0x14446c(0xb29)]('mode-switcher-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),handleModeSwitch),document['getElementById']('update-old-quizzes-btn')['addEventListener'](_0x14446c(0xc7b),handleUpdateOldQuizzes),document[_0x14446c(0xb29)](_0x14446c(0x76f))[_0x14446c(0x652)](_0x14446c(0xc7b),handleResetProjectOrder),document[_0x14446c(0xb29)](_0x14446c(0x9e7))[_0x14446c(0x652)](_0x14446c(0xc7b),handleSaveVisibilitySettings),document[_0x14446c(0xb29)](_0x14446c(0x904))['addEventListener'](_0x14446c(0xc7b),handleAddCustomMathTopic),document[_0x14446c(0xb29)](_0x14446c(0x62d))[_0x14446c(0x652)]('click',handleSelectAllTopics),document[_0x14446c(0xb29)](_0x14446c(0xa37))['addEventListener']('click',handleDeselectAllTopics),document[_0x14446c(0xb29)](_0x14446c(0xbfa))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0x14446c(0xb29)](_0x14446c(0x26c))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x5be978=_0x14446c;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x5be978(0xcf3));}}),document[_0x14446c(0xb29)]('back-to-dashboard-from-results-btn')[_0x14446c(0x652)]('click',()=>{showView('admin-dashboard');}),document[_0x14446c(0xb29)]('modal-close-btn')['addEventListener'](_0x14446c(0xc7b),()=>{const _0x4f5f97=_0x14446c;messageModal['classList']['add']('hidden'),typeof modalConfirmAction===_0x4f5f97(0x942)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x14446c(0xbe0))[_0x14446c(0x652)]('click',()=>createProjectModal[_0x14446c(0x26b)][_0x14446c(0x937)]('hidden')),document[_0x14446c(0xb29)](_0x14446c(0xb4e))[_0x14446c(0x652)]('click',()=>createProjectModal[_0x14446c(0x26b)]['add'](_0x14446c(0x932))),document[_0x14446c(0xb29)]('cancel-admin-login-btn')['addEventListener'](_0x14446c(0xc7b),()=>adminPasswordModal['classList']['add'](_0x14446c(0x932))),document['getElementById'](_0x14446c(0x884))[_0x14446c(0x652)]('click',handleAdminLogin),document[_0x14446c(0xb29)](_0x14446c(0xe1c))['addEventListener'](_0x14446c(0x8fb),_0x1563b8=>{const _0x2ec067=_0x14446c;if(_0x1563b8[_0x2ec067(0xb5f)]===_0x2ec067(0x78d))handleAdminLogin();}),document['getElementById'](_0x14446c(0xae0))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0xbff9a2=_0x14446c;confirmationModal[_0xbff9a2(0x26b)][_0xbff9a2(0x224)](_0xbff9a2(0x932)),typeof cancelAction===_0xbff9a2(0x942)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x14446c(0xb29)](_0x14446c(0x3d8))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x80de31=_0x14446c;confirmAction&&confirmAction(),confirmationModal[_0x80de31(0x26b)][_0x80de31(0x224)](_0x80de31(0x932)),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x14446c(0xed0))['addEventListener'](_0x14446c(0xc7b),()=>renameQuizModal[_0x14446c(0x26b)]['add']('hidden')),document[_0x14446c(0xb29)](_0x14446c(0x34b))['addEventListener']('click',confirmRenameQuiz),document['getElementById'](_0x14446c(0x954))['addEventListener']('click',()=>moveQuizModal[_0x14446c(0x26b)][_0x14446c(0x224)]('hidden')),document[_0x14446c(0xb29)](_0x14446c(0x7f2))[_0x14446c(0x652)](_0x14446c(0xc7b),confirmMoveQuiz),document[_0x14446c(0xb29)](_0x14446c(0x3d5))['addEventListener'](_0x14446c(0xc7b),()=>quizSettingsModal[_0x14446c(0x26b)][_0x14446c(0x224)](_0x14446c(0x932))),document['getElementById'](_0x14446c(0xe51))[_0x14446c(0x652)](_0x14446c(0xc7b),confirmQuizSettings),document['getElementById'](_0x14446c(0xe55))['addEventListener'](_0x14446c(0xc7b),()=>quizStatusModal['classList'][_0x14446c(0x224)](_0x14446c(0x932))),document[_0x14446c(0xb29)](_0x14446c(0x491))[_0x14446c(0x652)](_0x14446c(0xc7b),confirmQuizStatus);const _0x20cdd0=document[_0x14446c(0xb29)]('export-pdf-modal');document[_0x14446c(0xb29)](_0x14446c(0xb9c))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x1ccd30=_0x14446c;_0x20cdd0[_0x1ccd30(0x26b)]['add'](_0x1ccd30(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x37d))[_0x14446c(0x652)]('click',async()=>{const _0x539d79=_0x14446c,_0x1a4c46=allQuizzes[_0x539d79(0xb46)](_0x49c3a4=>_0x49c3a4['id']===actionTargetId);_0x1a4c46?(currentQuizData=_0x1a4c46,exportQuizAsWorksheetPDF()):showMessage(_0x539d79(0xc8a)),_0x20cdd0['classList'][_0x539d79(0x224)](_0x539d79(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0xb82))[_0x14446c(0x652)](_0x14446c(0xc7b),async()=>{const _0x3c7a6c=_0x14446c,_0x11552c=allQuizzes[_0x3c7a6c(0xb46)](_0x586c5b=>_0x586c5b['id']===actionTargetId);_0x11552c?(currentQuizData=_0x11552c,exportQuizAsTutorPDF()):showMessage(_0x3c7a6c(0xc8a)),_0x20cdd0['classList'][_0x3c7a6c(0x224)](_0x3c7a6c(0x932));});const _0x279f10=document[_0x14446c(0xb29)]('open-global-live-btn');_0x279f10[_0x14446c(0xd04)]=_0x14446c(0xcf9),_0x279f10['addEventListener'](_0x14446c(0xc7b),openGlobalActivityModal),document['getElementById']('cancel-global-activity-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x5d2b3a=_0x14446c;document[_0x5d2b3a(0xb29)]('global-activity-modal')[_0x5d2b3a(0x26b)][_0x5d2b3a(0x224)](_0x5d2b3a(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x256))[_0x14446c(0x652)](_0x14446c(0xa58),_0x5ef989=>{const _0x87ae60=_0x14446c;renderGlobalActivityList(_0x5ef989[_0x87ae60(0xadf)][_0x87ae60(0xc4b)]);}),document['getElementById'](_0x14446c(0x213))[_0x14446c(0x652)](_0x14446c(0xc7b),_0xa9f811=>{const _0xc84afd=_0x14446c,_0x3d4584=_0xa9f811['target'][_0xc84afd(0x2e3)](_0xc84afd(0x902));if(!_0x3d4584)return;const _0x57ed35=_0x3d4584[_0xc84afd(0x63c)]['id'],_0x2d897f=_0x3d4584[_0xc84afd(0x63c)][_0xc84afd(0x720)],_0x29cbd0=allQuizzesGlobal[_0xc84afd(0xb46)](_0x5765d3=>_0x5765d3['id']===_0x57ed35);_0x29cbd0&&(document[_0xc84afd(0xb29)]('global-activity-modal')[_0xc84afd(0x26b)][_0xc84afd(0x224)]('hidden'),_0x2d897f===_0xc84afd(0x443)?handleStartLiveRace(_0x57ed35):showGameStartConfirmationModal(_0x57ed35,_0x2d897f,_0x29cbd0['topic']));}),document[_0x14446c(0xb29)](_0x14446c(0xe30))[_0x14446c(0x652)](_0x14446c(0xa58),renderProjects),document['getElementById'](_0x14446c(0x419))[_0x14446c(0x652)](_0x14446c(0xc95),async()=>{const _0x333c4f=_0x14446c,_0x1453a5=document[_0x333c4f(0xb29)](_0x333c4f(0x419))[_0x333c4f(0xc4b)],_0x22a62e=doc(db,_0x333c4f(0x445),'dashboardConfig');try{await setDoc(_0x22a62e,{'projectSort':_0x1453a5},{'merge':!![]});}catch(_0x5e31da){console[_0x333c4f(0x3b5)](_0x333c4f(0x168),_0x5e31da),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x14446c(0xb29)](_0x14446c(0xa2e))[_0x14446c(0x652)](_0x14446c(0xa58),renderQuizzes),document[_0x14446c(0xb29)]('grid-view-btn')[_0x14446c(0x652)]('click',()=>{const _0x3d7508=_0x14446c;globalDashboardSettings[_0x3d7508(0x330)]=_0x3d7508(0x4d6),saveUserPreference(_0x3d7508(0x330),_0x3d7508(0x4d6)),renderProjects();}),document[_0x14446c(0xb29)](_0x14446c(0x6a5))['addEventListener'](_0x14446c(0xc7b),()=>{const _0x448b20=_0x14446c;globalDashboardSettings['projectView']=_0x448b20(0x28f),saveUserPreference('projectView',_0x448b20(0x28f)),renderProjects();}),manageTab[_0x14446c(0x652)](_0x14446c(0xc7b),()=>switchProjectTab(_0x14446c(0x7ab))),resultsTab[_0x14446c(0x652)]('click',()=>switchProjectTab(_0x14446c(0xa01))),leaderboardTab[_0x14446c(0x652)](_0x14446c(0xc7b),()=>switchProjectTab(_0x14446c(0xb39))),document[_0x14446c(0xb29)]('analytics-tab-btn')[_0x14446c(0x652)]('click',()=>switchQuizDetailTab(_0x14446c(0x599))),document[_0x14446c(0xb29)](_0x14446c(0x1b4))['addEventListener'](_0x14446c(0xc7b),()=>switchQuizDetailTab(_0x14446c(0x6df))),document[_0x14446c(0xb29)](_0x14446c(0x6c6))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>switchQuizDetailTab(_0x14446c(0x318))),document['getElementById'](_0x14446c(0x42f))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>switchQuizDetailTab(_0x14446c(0xe9b))),document[_0x14446c(0xb29)]('analyze-strengths-btn')[_0x14446c(0x652)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x14446c(0x652)]('click',generateWorksheet);const _0x2726f8=document[_0x14446c(0xb29)](_0x14446c(0xe7b)),_0xf80319=document['getElementById'](_0x14446c(0xd89)),_0x2f7945=document[_0x14446c(0xb29)](_0x14446c(0x430)),_0x4da689=document[_0x14446c(0xb29)](_0x14446c(0x8e6)),_0x1711f2=document[_0x14446c(0xb29)](_0x14446c(0x851)),_0x4abd78=document[_0x14446c(0xb29)]('parallel-test-input-area');topicTab[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x345059=_0x14446c;topicTab[_0x345059(0x26b)][_0x345059(0x224)](_0x345059(0xd63)),textTab[_0x345059(0x26b)][_0x345059(0x937)](_0x345059(0xd63)),fileTab[_0x345059(0x26b)][_0x345059(0x937)]('active'),worksheetTab[_0x345059(0x26b)][_0x345059(0x937)]('active');if(_0x2726f8)_0x2726f8[_0x345059(0x26b)][_0x345059(0x937)](_0x345059(0xd63));if(_0x2f7945)_0x2f7945[_0x345059(0x26b)][_0x345059(0x937)](_0x345059(0xd63));if(_0x1711f2)_0x1711f2[_0x345059(0x26b)][_0x345059(0x937)]('active');topicInputArea[_0x345059(0x26b)][_0x345059(0x937)](_0x345059(0x932)),textInputArea[_0x345059(0x26b)]['add'](_0x345059(0x932)),fileInputArea[_0x345059(0x26b)][_0x345059(0x224)](_0x345059(0x932)),worksheetInputArea[_0x345059(0x26b)][_0x345059(0x224)](_0x345059(0x932));if(_0xf80319)_0xf80319['classList'][_0x345059(0x224)](_0x345059(0x932));if(_0x4da689)_0x4da689[_0x345059(0x26b)][_0x345059(0x224)](_0x345059(0x932));if(_0x4abd78)_0x4abd78['classList'][_0x345059(0x224)](_0x345059(0x932));}),textTab[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x211bec=_0x14446c;textTab[_0x211bec(0x26b)][_0x211bec(0x224)](_0x211bec(0xd63)),topicTab[_0x211bec(0x26b)][_0x211bec(0x937)](_0x211bec(0xd63)),fileTab[_0x211bec(0x26b)][_0x211bec(0x937)](_0x211bec(0xd63)),worksheetTab[_0x211bec(0x26b)][_0x211bec(0x937)]('active');if(_0x2726f8)_0x2726f8['classList'][_0x211bec(0x937)](_0x211bec(0xd63));if(_0x2f7945)_0x2f7945['classList'][_0x211bec(0x937)](_0x211bec(0xd63));if(_0x1711f2)_0x1711f2[_0x211bec(0x26b)][_0x211bec(0x937)](_0x211bec(0xd63));textInputArea[_0x211bec(0x26b)][_0x211bec(0x937)](_0x211bec(0x932)),topicInputArea[_0x211bec(0x26b)]['add'](_0x211bec(0x932)),fileInputArea[_0x211bec(0x26b)][_0x211bec(0x224)](_0x211bec(0x932)),worksheetInputArea['classList']['add'](_0x211bec(0x932));if(_0xf80319)_0xf80319[_0x211bec(0x26b)][_0x211bec(0x224)]('hidden');if(_0x4da689)_0x4da689[_0x211bec(0x26b)][_0x211bec(0x224)](_0x211bec(0x932));if(_0x4abd78)_0x4abd78[_0x211bec(0x26b)][_0x211bec(0x224)]('hidden');}),fileTab[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x43589a=_0x14446c;fileTab[_0x43589a(0x26b)][_0x43589a(0x224)]('active'),topicTab['classList'][_0x43589a(0x937)](_0x43589a(0xd63)),textTab[_0x43589a(0x26b)][_0x43589a(0x937)]('active'),worksheetTab['classList'][_0x43589a(0x937)](_0x43589a(0xd63));if(_0x2726f8)_0x2726f8[_0x43589a(0x26b)][_0x43589a(0x937)](_0x43589a(0xd63));if(_0x2f7945)_0x2f7945[_0x43589a(0x26b)][_0x43589a(0x937)](_0x43589a(0xd63));if(_0x1711f2)_0x1711f2[_0x43589a(0x26b)][_0x43589a(0x937)](_0x43589a(0xd63));fileInputArea['classList'][_0x43589a(0x937)](_0x43589a(0x932)),topicInputArea[_0x43589a(0x26b)][_0x43589a(0x224)](_0x43589a(0x932)),textInputArea[_0x43589a(0x26b)]['add'](_0x43589a(0x932)),worksheetInputArea['classList'][_0x43589a(0x224)](_0x43589a(0x932));if(_0xf80319)_0xf80319[_0x43589a(0x26b)][_0x43589a(0x224)](_0x43589a(0x932));if(_0x4da689)_0x4da689['classList'][_0x43589a(0x224)](_0x43589a(0x932));if(_0x4abd78)_0x4abd78[_0x43589a(0x26b)]['add']('hidden');}),worksheetTab[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x42d552=_0x14446c;worksheetTab[_0x42d552(0x26b)]['add'](_0x42d552(0xd63)),topicTab['classList'][_0x42d552(0x937)](_0x42d552(0xd63)),textTab[_0x42d552(0x26b)][_0x42d552(0x937)](_0x42d552(0xd63)),fileTab[_0x42d552(0x26b)][_0x42d552(0x937)](_0x42d552(0xd63));if(_0x2726f8)_0x2726f8[_0x42d552(0x26b)][_0x42d552(0x937)]('active');if(_0x2f7945)_0x2f7945[_0x42d552(0x26b)][_0x42d552(0x937)](_0x42d552(0xd63));if(_0x1711f2)_0x1711f2[_0x42d552(0x26b)][_0x42d552(0x937)]('active');worksheetInputArea['classList']['remove'](_0x42d552(0x932)),topicInputArea[_0x42d552(0x26b)][_0x42d552(0x224)](_0x42d552(0x932)),textInputArea[_0x42d552(0x26b)]['add']('hidden'),fileInputArea[_0x42d552(0x26b)][_0x42d552(0x224)](_0x42d552(0x932));if(_0xf80319)_0xf80319[_0x42d552(0x26b)]['add']('hidden');if(_0x4da689)_0x4da689[_0x42d552(0x26b)][_0x42d552(0x224)](_0x42d552(0x932));if(_0x4abd78)_0x4abd78[_0x42d552(0x26b)][_0x42d552(0x224)](_0x42d552(0x932));});const _0x393700=document['getElementById']('bank-tab'),_0x1c540c=document[_0x14446c(0xb29)](_0x14446c(0xc3c));_0x393700&&_0x393700[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x40a98a=_0x14446c;topicTab[_0x40a98a(0x26b)][_0x40a98a(0x937)](_0x40a98a(0xd63)),textTab[_0x40a98a(0x26b)][_0x40a98a(0x937)]('active'),fileTab[_0x40a98a(0x26b)]['remove'](_0x40a98a(0xd63)),worksheetTab[_0x40a98a(0x26b)][_0x40a98a(0x937)](_0x40a98a(0xd63));if(_0x2726f8)_0x2726f8[_0x40a98a(0x26b)][_0x40a98a(0x937)](_0x40a98a(0xd63));if(_0x2f7945)_0x2f7945[_0x40a98a(0x26b)][_0x40a98a(0x937)](_0x40a98a(0xd63));if(_0x1711f2)_0x1711f2[_0x40a98a(0x26b)][_0x40a98a(0x937)](_0x40a98a(0xd63));_0x393700['classList'][_0x40a98a(0x224)]('active'),topicInputArea[_0x40a98a(0x26b)]['add'](_0x40a98a(0x932)),textInputArea[_0x40a98a(0x26b)][_0x40a98a(0x224)](_0x40a98a(0x932)),fileInputArea[_0x40a98a(0x26b)][_0x40a98a(0x224)](_0x40a98a(0x932)),worksheetInputArea[_0x40a98a(0x26b)]['add'](_0x40a98a(0x932));if(_0xf80319)_0xf80319[_0x40a98a(0x26b)][_0x40a98a(0x224)](_0x40a98a(0x932));if(_0x4da689)_0x4da689[_0x40a98a(0x26b)][_0x40a98a(0x224)](_0x40a98a(0x932));if(_0x4abd78)_0x4abd78[_0x40a98a(0x26b)][_0x40a98a(0x224)]('hidden');_0x1c540c[_0x40a98a(0x26b)]['remove']('hidden'),displayQuestionBank();});_0x2726f8&&(_0x2726f8[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x559e0d=_0x14446c;_0x2726f8[_0x559e0d(0x26b)][_0x559e0d(0x224)]('active'),topicTab[_0x559e0d(0x26b)]['remove']('active'),textTab[_0x559e0d(0x26b)]['remove'](_0x559e0d(0xd63)),fileTab['classList'][_0x559e0d(0x937)](_0x559e0d(0xd63)),worksheetTab[_0x559e0d(0x26b)][_0x559e0d(0x937)](_0x559e0d(0xd63));if(_0x2f7945)_0x2f7945[_0x559e0d(0x26b)]['remove']('active');if(_0x1711f2)_0x1711f2[_0x559e0d(0x26b)][_0x559e0d(0x937)](_0x559e0d(0xd63));_0xf80319['classList'][_0x559e0d(0x937)](_0x559e0d(0x932)),topicInputArea[_0x559e0d(0x26b)][_0x559e0d(0x224)](_0x559e0d(0x932)),textInputArea[_0x559e0d(0x26b)]['add'](_0x559e0d(0x932)),fileInputArea[_0x559e0d(0x26b)]['add'](_0x559e0d(0x932)),worksheetInputArea[_0x559e0d(0x26b)][_0x559e0d(0x224)]('hidden');if(_0x4da689)_0x4da689[_0x559e0d(0x26b)][_0x559e0d(0x224)](_0x559e0d(0x932));if(_0x4abd78)_0x4abd78[_0x559e0d(0x26b)][_0x559e0d(0x224)]('hidden');}),document[_0x14446c(0xb29)](_0x14446c(0xbe9))[_0x14446c(0x652)]('click',handleGenerateFromLink));_0x2f7945&&_0x2f7945[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x1978c6=_0x14446c;_0x2f7945['classList']['add'](_0x1978c6(0xd63)),topicTab[_0x1978c6(0x26b)][_0x1978c6(0x937)](_0x1978c6(0xd63)),textTab['classList']['remove'](_0x1978c6(0xd63)),fileTab[_0x1978c6(0x26b)][_0x1978c6(0x937)]('active'),worksheetTab['classList']['remove'](_0x1978c6(0xd63));if(_0x2726f8)_0x2726f8['classList'][_0x1978c6(0x937)](_0x1978c6(0xd63));if(_0x393700)_0x393700['classList'][_0x1978c6(0x937)]('active');if(_0x1711f2)_0x1711f2[_0x1978c6(0x26b)][_0x1978c6(0x937)]('active');_0x4da689[_0x1978c6(0x26b)][_0x1978c6(0x937)]('hidden'),topicInputArea['classList']['add'](_0x1978c6(0x932)),textInputArea[_0x1978c6(0x26b)][_0x1978c6(0x224)](_0x1978c6(0x932)),fileInputArea[_0x1978c6(0x26b)][_0x1978c6(0x224)](_0x1978c6(0x932)),worksheetInputArea['classList']['add'](_0x1978c6(0x932));if(_0xf80319)_0xf80319[_0x1978c6(0x26b)][_0x1978c6(0x224)](_0x1978c6(0x932));if(_0x1c540c)_0x1c540c[_0x1978c6(0x26b)]['add'](_0x1978c6(0x932));if(_0x4abd78)_0x4abd78[_0x1978c6(0x26b)][_0x1978c6(0x224)](_0x1978c6(0x932));});_0x1711f2&&_0x1711f2['addEventListener'](_0x14446c(0xc7b),()=>{const _0x288a7f=_0x14446c;_0x1711f2['classList'][_0x288a7f(0x224)](_0x288a7f(0xd63)),topicTab[_0x288a7f(0x26b)][_0x288a7f(0x937)](_0x288a7f(0xd63)),textTab[_0x288a7f(0x26b)][_0x288a7f(0x937)]('active'),fileTab[_0x288a7f(0x26b)][_0x288a7f(0x937)](_0x288a7f(0xd63)),worksheetTab[_0x288a7f(0x26b)][_0x288a7f(0x937)]('active');if(_0x2726f8)_0x2726f8['classList'][_0x288a7f(0x937)](_0x288a7f(0xd63));if(_0x2f7945)_0x2f7945[_0x288a7f(0x26b)]['remove']('active');if(_0x393700)_0x393700[_0x288a7f(0x26b)][_0x288a7f(0x937)](_0x288a7f(0xd63));_0x4abd78[_0x288a7f(0x26b)]['remove']('hidden'),topicInputArea[_0x288a7f(0x26b)][_0x288a7f(0x224)]('hidden'),textInputArea[_0x288a7f(0x26b)]['add']('hidden'),fileInputArea[_0x288a7f(0x26b)]['add']('hidden'),worksheetInputArea[_0x288a7f(0x26b)][_0x288a7f(0x224)](_0x288a7f(0x932));if(_0xf80319)_0xf80319[_0x288a7f(0x26b)][_0x288a7f(0x224)](_0x288a7f(0x932));if(_0x4da689)_0x4da689[_0x288a7f(0x26b)]['add'](_0x288a7f(0x932));if(_0x1c540c)_0x1c540c['classList'][_0x288a7f(0x224)](_0x288a7f(0x932));});const _0x55c5d5=document[_0x14446c(0xb29)]('blueprint-upload-input'),_0x5a1c44=document[_0x14446c(0xb29)](_0x14446c(0xc37));if(_0x55c5d5){const _0x219fa5=document[_0x14446c(0xb29)](_0x14446c(0x80f)),_0x3b698a=document[_0x14446c(0xb29)]('generate-from-blueprint-btn'),_0xcd3289=document[_0x14446c(0xb29)](_0x14446c(0x4fe)),_0x4fbd53=document[_0x14446c(0xb29)](_0x14446c(0xe9a)),_0x297b4e=document['getElementById'](_0x14446c(0x815)),_0xd83067=document[_0x14446c(0xb29)](_0x14446c(0x567));_0x219fa5&&_0x219fa5[_0x14446c(0x652)](_0x14446c(0xc95),async _0x1f181f=>{const _0x28d9b9=_0x14446c;_0xcd3289['classList'][_0x28d9b9(0x224)](_0x28d9b9(0x932)),_0x297b4e[_0x28d9b9(0x26b)]['add']('hidden'),_0x4fbd53[_0x28d9b9(0x21d)]=![],_0x3b698a[_0x28d9b9(0xeee)]=!![];const _0x5e8a9e=_0x1f181f[_0x28d9b9(0xadf)][_0x28d9b9(0x4d5)][0x0];if(_0x5e8a9e){_0x3b698a[_0x28d9b9(0xeee)]=![];try{const _0x5618df=await extractTextFromPdf(_0x5e8a9e);await analyzeBlueprintForTopics(_0x5618df);}catch(_0x21ac50){showMessage(_0x28d9b9(0x2b1)),_0xcd3289[_0x28d9b9(0x26b)][_0x28d9b9(0x224)](_0x28d9b9(0x932));}}}),_0x4fbd53&&_0x4fbd53[_0x14446c(0x652)](_0x14446c(0xc95),_0x4cd385=>{const _0x597a11=_0x14446c,_0x135ac4=_0x4cd385[_0x597a11(0xadf)]['checked'];_0x297b4e[_0x597a11(0x26b)]['toggle'](_0x597a11(0x932),!_0x135ac4),_0x3b698a['disabled']=_0x135ac4;}),_0xd83067&&(_0xd83067&&_0xd83067[_0x14446c(0x652)]('click',_0x58b031=>{const _0x467ce7=_0x14446c,_0x345c73=_0x58b031['target']['closest']('.topic-selection-btn'),_0x5adaab=_0x58b031[_0x467ce7(0xadf)]['closest'](_0x467ce7(0x4fa));if(_0x345c73){const _0x1f01bd=unescape(_0x345c73['dataset']['topic']);generateQuizForSingleTopic(_0x1f01bd);}else{if(_0x5adaab){const _0x313ad5=unescape(_0x5adaab[_0x467ce7(0x63c)][_0x467ce7(0xf14)]);handleGenerateTeachingContent(_0x313ad5);}}}));}_0x5a1c44&&_0x5a1c44['addEventListener']('click',handleGenerateFromBlueprint);const _0x282dbe=document['getElementById']('parallel-test-upload-input'),_0xee0eea=document[_0x14446c(0xb29)](_0x14446c(0xc73));_0x282dbe&&_0x282dbe[_0x14446c(0x652)](_0x14446c(0xc95),_0x4780be=>{const _0x108954=_0x14446c;_0xee0eea[_0x108954(0xeee)]=_0x4780be[_0x108954(0xadf)][_0x108954(0x4d5)][_0x108954(0xe84)]===0x0;});_0xee0eea&&_0xee0eea[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x14446c(0x652)](_0x14446c(0xc7b),handleLoadQuiz),startQuizBtn[_0x14446c(0x652)]('click',async()=>{const _0x4170d4=_0x14446c,_0x1e07f0=document[_0x4170d4(0xb29)](_0x4170d4(0x33d));currentStudentName=_0x1e07f0[_0x4170d4(0xc4b)];if(!currentStudentName){showMessage(_0x4170d4(0x2be));return;}try{const _0x4ea33f=currentQuizData['id'],_0x2efd49=doc(db,_0x4170d4(0xc9f)+appId+_0x4170d4(0xec2)+_0x4ea33f+'/submissions',currentStudentName),_0x45d5ff=await getDoc(_0x2efd49);!_0x45d5ff[_0x4170d4(0x267)]()?await setDoc(_0x2efd49,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2efd49,{'startedAt':new Date()[_0x4170d4(0x529)]()});}catch(_0x5c4930){console['error'](_0x4170d4(0xdb2),_0x5c4930),showMessage(_0x4170d4(0x81a));return;}studentNameSelectionView[_0x4170d4(0x26b)]['add'](_0x4170d4(0x932)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x14446c(0x480))[_0x14446c(0x652)](_0x14446c(0xc7b),showJoinGameView),document[_0x14446c(0xb29)](_0x14446c(0xcc6))[_0x14446c(0x652)]('click',handleJoinLiveGame),document[_0x14446c(0xb29)](_0x14446c(0xa50))['addEventListener'](_0x14446c(0xc7b),()=>showView('student'));const _0x19bb60=()=>{const _0x1e9c1e=_0x14446c,_0x23302a=document['getElementById'](_0x1e9c1e(0xd25))[_0x1e9c1e(0x6ab)][_0x1e9c1e(0x502)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x1e9c1e(0x6f4)+(_0x23302a||_0x1e9c1e(0x4c0));},_0x4e2bab=document[_0x14446c(0xb29)]('math-topic-search-input');_0x4e2bab&&_0x4e2bab[_0x14446c(0x652)](_0x14446c(0xa58),_0x556dbf=>{const _0x1ad131=_0x14446c,_0x55d650=_0x556dbf['target']['value'][_0x1ad131(0xa99)]()[_0x1ad131(0x46f)](),_0x333b65=document['getElementById'](_0x1ad131(0x55e)),_0x1c2004=_0x333b65['querySelectorAll']('.topic-category');_0x1c2004[_0x1ad131(0x57b)](_0x4bf645=>{const _0x17e23d=_0x1ad131;let _0x413433=![];const _0x1e3cfc=_0x4bf645[_0x17e23d(0x948)](_0x17e23d(0x273));_0x1e3cfc[_0x17e23d(0x57b)](_0x124c92=>{const _0x3b73d8=_0x17e23d,_0x38d72=_0x124c92[_0x3b73d8(0x327)](_0x3b73d8(0xc51))[_0x3b73d8(0x6ab)][_0x3b73d8(0xa99)]();_0x38d72['includes'](_0x55d650)?(_0x124c92[_0x3b73d8(0xa90)][_0x3b73d8(0xd27)]=_0x3b73d8(0xef9),_0x413433=!![]):_0x124c92[_0x3b73d8(0xa90)]['display']=_0x3b73d8(0x1a6);}),_0x413433?_0x4bf645[_0x17e23d(0xa90)]['display']='block':_0x4bf645[_0x17e23d(0xa90)][_0x17e23d(0xd27)]=_0x17e23d(0x1a6);});});document[_0x14446c(0xb29)](_0x14446c(0x5fc))['addEventListener']('click',()=>exportTableAsImage('results-table-container',_0x19bb60())),document[_0x14446c(0xb29)](_0x14446c(0x547))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>exportTableAsPDF(_0x14446c(0x945),_0x19bb60())),document[_0x14446c(0xb29)](_0x14446c(0x58a))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>exportTableAsWord(_0x14446c(0x43a),_0x19bb60())),document[_0x14446c(0xb29)](_0x14446c(0xef0))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>exportTableAsExcel('results-table',_0x19bb60()));const _0x1b3ada=()=>{const _0x3403e9=_0x14446c,_0x288648=document[_0x3403e9(0xb29)]('results-quiz-title')[_0x3403e9(0x6ab)]['replace'](/[^a-z0-9]/gi,'_')[_0x3403e9(0xa99)]();return _0x3403e9(0x909)+(_0x288648||_0x3403e9(0x4c0));};document[_0x14446c(0xb29)]('export-leaderboard-image-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),()=>exportTableAsImage(_0x14446c(0x83a),_0x1b3ada())),document[_0x14446c(0xb29)](_0x14446c(0xc65))[_0x14446c(0x652)]('click',()=>exportTableAsPDF(_0x14446c(0xab0),_0x1b3ada())),document['getElementById'](_0x14446c(0x520))[_0x14446c(0x652)]('click',()=>exportTableAsWord('quiz-leaderboard-table-container',_0x1b3ada())),document['getElementById'](_0x14446c(0xd0c))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>exportTableAsExcel(_0x14446c(0xab0),_0x1b3ada())),projectQuizzesList['addEventListener'](_0x14446c(0xc7b),async _0x218786=>{const _0x232f7d=_0x14446c,_0xed389d=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)](_0x232f7d(0x22f)),_0x3ffeed=_0x218786['target'][_0x232f7d(0x2e3)]('.generate-post-test-btn'),_0x5dc0cf=_0x218786['target'][_0x232f7d(0x2e3)]('.compare-results-btn'),_0x540a31=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)]('.generate-lesson-btn'),_0x1c51cc=_0x218786['target'][_0x232f7d(0x2e3)]('.star-quiz-btn'),_0x5091cf=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)](_0x232f7d(0x7c6)),_0xb6144c=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)]('.edit-quiz-btn'),_0x5c3a8a=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)](_0x232f7d(0xddc)),_0xbddc9a=_0x218786[_0x232f7d(0xadf)]['closest'](_0x232f7d(0x5dc)),_0x2413c2=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)](_0x232f7d(0x4f0)),_0xeb5ae0=_0x218786['target']['closest'](_0x232f7d(0xc35)),_0xa52eeb=_0x218786['target']['closest'](_0x232f7d(0x21a)),_0x466589=_0x218786[_0x232f7d(0xadf)]['closest'](_0x232f7d(0x6af)),_0x595990=_0x218786[_0x232f7d(0xadf)]['closest']('.unpair-quiz-btn'),_0x4fda60=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)]('.start-presentation-list-btn'),_0x22e1db=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)](_0x232f7d(0x536)),_0x3d76d8=_0x218786['target']['closest'](_0x232f7d(0x1e9)),_0x1c5d95=_0x218786[_0x232f7d(0xadf)]['closest'](_0x232f7d(0xb10)),_0x38aebe=_0x218786[_0x232f7d(0xadf)]['closest'](_0x232f7d(0x2c5)),_0x192b50=_0x218786[_0x232f7d(0xadf)]['closest'](_0x232f7d(0x5b7)),_0x43e62b=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)](_0x232f7d(0x960)),_0x3a9c63=_0x218786[_0x232f7d(0xadf)]['closest'](_0x232f7d(0xb7c)),_0x20690f=_0x218786[_0x232f7d(0xadf)][_0x232f7d(0x2e3)](_0x232f7d(0x30d));if(_0x3a9c63){const _0x5e6b06=_0x3a9c63[_0x232f7d(0x63c)][_0x232f7d(0x31e)],_0x10d061=_0x3a9c63['dataset'][_0x232f7d(0x720)],_0x536de2=allQuizzes[_0x232f7d(0xb46)](_0x2e6d2b=>_0x2e6d2b['id']===_0x5e6b06);_0x536de2&&showGameStartConfirmationModal(_0x5e6b06,_0x10d061,_0x536de2['topic']);}else{if(_0x20690f){const _0x23cee1=_0x20690f['dataset']['quizId'];handleStartLiveRace(_0x23cee1);}else{if(_0x192b50){const _0x3bc69b=_0x192b50['dataset'][_0x232f7d(0x31e)],_0xaf47a2=document[_0x232f7d(0xb29)](_0x232f7d(0xdc6)+_0x3bc69b);_0xaf47a2&&_0xaf47a2[_0x232f7d(0x26b)]['toggle'](_0x232f7d(0x932));}else{if(_0x3ffeed){const _0x4cabdf=_0x3ffeed['dataset']['quizId'],_0x36675f=allQuizzes[_0x232f7d(0xb46)](_0x18d125=>_0x18d125['id']===_0x4cabdf);_0x36675f&&handleGenerateParallelPostTest(_0x36675f);}else{if(_0x5dc0cf)handleCompareResults(_0x5dc0cf[_0x232f7d(0x63c)]['quizId'],_0x5dc0cf[_0x232f7d(0x63c)][_0x232f7d(0x2d5)]);else{if(_0x540a31){const _0x30d63b=_0x540a31['dataset'][_0x232f7d(0x31e)],_0x223b02=allQuizzes[_0x232f7d(0xb46)](_0x11ac64=>_0x11ac64['id']===_0x30d63b);_0x223b02&&_0x223b02[_0x232f7d(0xa3a)]?(displayLessonPlan(_0x223b02[_0x232f7d(0xa3a)],_0x223b02),showConfirmation(_0x232f7d(0xcd9),()=>handleGenerateLessonPlan(_0x30d63b)),document[_0x232f7d(0xb29)]('confirmation-modal')['querySelector']('h3')[_0x232f7d(0x6ab)]=_0x232f7d(0x272),document['getElementById'](_0x232f7d(0x3d8))[_0x232f7d(0x6ab)]='สร้างใหม่'):handleGenerateLessonPlan(_0x30d63b);}else{if(_0x1c51cc)handleToggleStarQuiz(_0x1c51cc[_0x232f7d(0x63c)][_0x232f7d(0x31e)]);else{if(_0x5091cf)copyTextToClipboard(_0x5091cf[_0x232f7d(0x63c)][_0x232f7d(0x31e)],_0x232f7d(0x9e1));else{if(_0xb6144c)handleOpenQuizEditor(_0xb6144c[_0x232f7d(0x63c)]['quizId']);else{if(_0x5c3a8a)handleQuizSettings(_0x5c3a8a[_0x232f7d(0x63c)][_0x232f7d(0x31e)]);else{if(_0xbddc9a)handleDuplicateQuiz(_0xbddc9a[_0x232f7d(0x63c)]['quizId']);else{if(_0x2413c2)handleRenameQuiz(_0x2413c2[_0x232f7d(0x63c)]['quizId'],_0x2413c2['dataset']['topic']);else{if(_0xeb5ae0){const _0x5bca71=_0xeb5ae0[_0x232f7d(0x63c)]['quizId'],_0x5f43ce=allQuizzes[_0x232f7d(0xb46)](_0x5d77c1=>_0x5d77c1['id']===_0x5bca71);_0x5f43ce&&handleGenerateParallelFromBank(_0x5f43ce);}else{if(_0xa52eeb)handleMoveQuiz(_0xa52eeb[_0x232f7d(0x63c)][_0x232f7d(0x31e)]);else{if(_0x466589)handleManualQuizPairing(_0x466589[_0x232f7d(0x63c)][_0x232f7d(0x31e)]);else{if(_0x595990)handleUnpairQuiz(_0x595990[_0x232f7d(0x63c)][_0x232f7d(0x31e)]);else{if(_0x4fda60){const _0x58bac8=_0x4fda60[_0x232f7d(0x63c)]['quizId'],_0x347139=allQuizzes[_0x232f7d(0xb46)](_0x33c302=>_0x33c302['id']===_0x58bac8);if(_0x347139)startPresentation(_0x347139);}else{if(_0x22e1db){const _0x1e88ab=_0x22e1db[_0x232f7d(0x63c)][_0x232f7d(0x31e)],_0x41a2ee=allQuizzes[_0x232f7d(0xb46)](_0x20aaf9=>_0x20aaf9['id']===_0x1e88ab);_0x41a2ee&&(currentQuizData=_0x41a2ee,startAdminTest());}else{if(_0x3d76d8)actionTargetId=_0x3d76d8[_0x232f7d(0x63c)][_0x232f7d(0x31e)],document[_0x232f7d(0xb29)](_0x232f7d(0x23a))[_0x232f7d(0x26b)]['remove'](_0x232f7d(0x932));else{if(_0x1c5d95)showConfirmation(_0x232f7d(0x5e5)+_0x1c5d95[_0x232f7d(0x63c)]['topic']+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x1c5d95[_0x232f7d(0x63c)]['quizId']));else{if(_0x38aebe)handleQuizStatus(_0x38aebe[_0x232f7d(0x63c)]['quizId']);else{if(_0x43e62b)handleGenerateEasyVersionQuiz(_0x43e62b[_0x232f7d(0x63c)]['quizId']);else _0xed389d&&showQuizDetailView(_0xed389d[_0x232f7d(0x63c)][_0x232f7d(0x31e)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x14446c(0xb29)](_0x14446c(0xea4))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>showView(_0x14446c(0x4d8))),document['getElementById'](_0x14446c(0x336))[_0x14446c(0x652)](_0x14446c(0xc7b),confirmAndStartTeamQuiz),document[_0x14446c(0xb29)](_0x14446c(0xab0))['querySelector'](_0x14446c(0x699))[_0x14446c(0x652)](_0x14446c(0xc7b),_0x3c653c=>{const _0x1ef4f3=_0x14446c,_0x59e42f=_0x3c653c['target'][_0x1ef4f3(0x2e3)]('.sortable-header');if(!_0x59e42f||!_0x59e42f[_0x1ef4f3(0x63c)][_0x1ef4f3(0xb9f)])return;const _0x3b50eb=_0x59e42f[_0x1ef4f3(0x63c)]['sort'];if(quizLeaderboardSortBy===_0x3b50eb)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1ef4f3(0xa59)?'desc':'asc';else{quizLeaderboardSortBy=_0x3b50eb;const _0xa137e7=[_0x1ef4f3(0xb34)];quizLeaderboardSortOrder=_0xa137e7[_0x1ef4f3(0xecb)](_0x3b50eb)?_0x1ef4f3(0xa59):_0x1ef4f3(0x9e9);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1ef4f3(0x4e2));}),document[_0x14446c(0xb29)](_0x14446c(0x57d))[_0x14446c(0x652)](_0x14446c(0xc7b),closePresentation),document[_0x14446c(0xb29)](_0x14446c(0x309))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x14446c(0xb29)](_0x14446c(0xc9e))[_0x14446c(0x652)]('click',()=>{const _0x1f8729=_0x14446c;currentQuizData[_0x1f8729(0xaff)]&&currentPresentationSlide<currentQuizData['questions'][_0x1f8729(0xe84)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0xbc5bcd=_0x14446c;!document[_0xbc5bcd(0xe27)]&&(presentationModal[_0xbc5bcd(0xa90)][_0xbc5bcd(0xd27)]=_0xbc5bcd(0x1a6));}),document['getElementById']('delete-all-students-btn')['addEventListener'](_0x14446c(0xc7b),handleDeleteAllStudents),studentList[_0x14446c(0x652)]('click',_0xb6c8a5=>{const _0x969bdd=_0x14446c,_0x4c4690=_0xb6c8a5['target'][_0x969bdd(0x2e3)]('.delete-student-btn');if(_0x4c4690){const _0x5be701=_0x4c4690[_0x969bdd(0x63c)]['studentName'];handleDeleteStudent(_0x5be701);}}),document[_0x14446c(0xb29)]('generate-from-file-btn')[_0x14446c(0x652)]('click',handleGenerateFromFileClick),fileUploadInput[_0x14446c(0x652)]('change',_0x5c5ea5=>{const _0x17d10c=_0x14446c,_0xa2bfdc=_0x5c5ea5[_0x17d10c(0xadf)][_0x17d10c(0x4d5)][0x0],_0x139d85=document[_0x17d10c(0xb29)](_0x17d10c(0x40a)),_0x195f00=document[_0x17d10c(0xb29)]('file-topics-list-container'),_0x423fd8=document['getElementById'](_0x17d10c(0x89d));_0xa2bfdc?(selectedFile=_0xa2bfdc,_0x423fd8[_0x17d10c(0x21d)]?(_0x139d85[_0x17d10c(0xeee)]=!![],analyzeFileForTopics(_0xa2bfdc)):(_0x139d85[_0x17d10c(0xeee)]=![],_0x195f00[_0x17d10c(0x26b)][_0x17d10c(0x224)](_0x17d10c(0x932)))):(selectedFile=null,_0x139d85['disabled']=!![],_0x195f00['classList'][_0x17d10c(0x224)]('hidden'));}),document['getElementById'](_0x14446c(0x89d))[_0x14446c(0x652)](_0x14446c(0xc95),_0x157dd9=>{const _0x4669e6=_0x14446c,_0x34b93f=_0x157dd9['target'][_0x4669e6(0x21d)],_0x27fe05=document[_0x4669e6(0xb29)]('generate-from-file-btn'),_0xe96941=document[_0x4669e6(0xb29)](_0x4669e6(0xafb));_0x34b93f?(_0x27fe05[_0x4669e6(0xeee)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0xe96941['classList'][_0x4669e6(0x937)](_0x4669e6(0x932)),document[_0x4669e6(0xb29)](_0x4669e6(0x87b))[_0x4669e6(0xd04)]=_0x4669e6(0xc70))):(_0xe96941[_0x4669e6(0x26b)]['add'](_0x4669e6(0x932)),_0x27fe05[_0x4669e6(0xeee)]=!selectedFile);}),document[_0x14446c(0xb29)]('file-topics-list-container')[_0x14446c(0x652)](_0x14446c(0xc7b),_0x3f199b=>{const _0x38039f=_0x14446c,_0xdbbbe9=_0x3f199b[_0x38039f(0xadf)]['closest'](_0x38039f(0x8b5)),_0x1f9fdc=_0x3f199b[_0x38039f(0xadf)][_0x38039f(0x2e3)](_0x38039f(0x4fa));if(_0xdbbbe9){const _0x321b9f=unescape(_0xdbbbe9['dataset']['topic']);generateHybridQuizForTopic(_0x321b9f);}else{if(_0x1f9fdc){const _0x54674a=unescape(_0x1f9fdc['dataset'][_0x38039f(0xf14)]),_0x266046=document[_0x38039f(0xb29)](_0x38039f(0x3a5))[_0x38039f(0xc4b)];handleGenerateAndShowLesson(_0x54674a,_0x266046);}}}),document[_0x14446c(0xb29)]('timer-mode-select')['addEventListener'](_0x14446c(0xc95),_0x22c8d4=>{const _0x36ab04=_0x14446c,_0x59bc3e=document[_0x36ab04(0xb29)]('timer-duration-container'),_0x1b4da5=document[_0x36ab04(0xb29)](_0x36ab04(0x61d)),_0x33e6ee=document[_0x36ab04(0xb29)]('timer-duration-input');_0x22c8d4[_0x36ab04(0xadf)][_0x36ab04(0xc4b)]==='none'?_0x59bc3e['classList'][_0x36ab04(0x224)](_0x36ab04(0x932)):(_0x59bc3e[_0x36ab04(0x26b)][_0x36ab04(0x937)](_0x36ab04(0x932)),_0x22c8d4['target'][_0x36ab04(0xc4b)]===_0x36ab04(0xe6d)?(_0x1b4da5['textContent']=_0x36ab04(0x3aa),_0x33e6ee[_0x36ab04(0xc4b)]='10'):(_0x1b4da5['textContent']=_0x36ab04(0x2aa),_0x33e6ee['value']='30'));}),document['getElementById'](_0x14446c(0x6b8))[_0x14446c(0x652)](_0x14446c(0xc95),_0x564d80=>{const _0x3dd9ef=_0x14446c,_0x129faa=document[_0x3dd9ef(0xb29)](_0x3dd9ef(0x6dd)),_0x9b4611=_0x564d80['target'][_0x3dd9ef(0xc4b)],_0x38c908=document[_0x3dd9ef(0x327)](_0x3dd9ef(0x48d)),_0x18f993=document['getElementById'](_0x3dd9ef(0x95f)),_0x2b560f=document[_0x3dd9ef(0xb29)](_0x3dd9ef(0x4a5));_0x9b4611===_0x3dd9ef(0x340)?_0x38c908[_0x3dd9ef(0x6ab)]='จำนวนคู่:':_0x38c908[_0x3dd9ef(0x6ab)]=_0x3dd9ef(0x71d),_0x9b4611==='multiple_choice'||_0x9b4611==='fill_in_with_choices'||_0x9b4611===_0x3dd9ef(0x24a)?_0x129faa[_0x3dd9ef(0x26b)][_0x3dd9ef(0x937)](_0x3dd9ef(0x932)):_0x129faa[_0x3dd9ef(0x26b)][_0x3dd9ef(0x224)](_0x3dd9ef(0x932)),_0x18f993[_0x3dd9ef(0xd18)]=_0x2b560f['value'];}),document[_0x14446c(0xb29)](_0x14446c(0x4a5))[_0x14446c(0x652)](_0x14446c(0xa58),_0x1be833=>{const _0x298f11=_0x14446c;document['getElementById']('passing-score-input')[_0x298f11(0xd18)]=_0x1be833[_0x298f11(0xadf)]['value'];}),document[_0x14446c(0xb29)]('modal-timer-mode-select')[_0x14446c(0x652)](_0x14446c(0xc95),_0x4b2e48=>{const _0x336230=_0x14446c,_0xba9edb=document['getElementById'](_0x336230(0x4d7)),_0x22bd31=document[_0x336230(0xb29)](_0x336230(0x68d)),_0x4ad73b=document['getElementById']('modal-timer-duration-input');_0x4b2e48[_0x336230(0xadf)]['value']===_0x336230(0x1a6)?_0xba9edb['classList'][_0x336230(0x224)](_0x336230(0x932)):(_0xba9edb[_0x336230(0x26b)][_0x336230(0x937)](_0x336230(0x932)),_0x4b2e48[_0x336230(0xadf)][_0x336230(0xc4b)]===_0x336230(0xe6d)?_0x22bd31[_0x336230(0x6ab)]=_0x336230(0x3aa):_0x22bd31[_0x336230(0x6ab)]='ระยะเวลา\x20(วินาที):');}),document[_0x14446c(0xb29)](_0x14446c(0x1ab))[_0x14446c(0x652)]('click',()=>{const _0x478243=_0x14446c;document[_0x478243(0xb29)](_0x478243(0xc5a))[_0x478243(0x26b)][_0x478243(0x224)](_0x478243(0x932));}),document[_0x14446c(0xb29)]('cancel-quiz-edits-btn-footer')[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x4dcf2f=_0x14446c;document[_0x4dcf2f(0xb29)](_0x4dcf2f(0xc5a))['classList'][_0x4dcf2f(0x224)](_0x4dcf2f(0x932));}),document[_0x14446c(0xb29)]('verify-answers-editor-btn')['addEventListener']('click',handleVerifyAnswersInEditor),document['getElementById'](_0x14446c(0xdb6))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x900fff=_0x14446c;document[_0x900fff(0xb29)](_0x900fff(0xc5a))[_0x900fff(0x26b)]['add'](_0x900fff(0x932)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document['getElementById'](_0x14446c(0x84d))[_0x14446c(0x652)](_0x14446c(0xc7b),handleAutoFixLatex);const _0x29d585=document[_0x14446c(0xb29)](_0x14446c(0x227));_0x29d585&&_0x29d585[_0x14446c(0x652)]('click',_0x32a18f=>{const _0x67d1b3=_0x14446c,_0x3f94f5=_0x32a18f[_0x67d1b3(0xadf)]['closest'](_0x67d1b3(0xe79));if(_0x3f94f5){const _0x49b026=_0x3f94f5[_0x67d1b3(0x2e3)](_0x67d1b3(0xd75)),_0x3ede13=parseInt(_0x49b026[_0x67d1b3(0x63c)][_0x67d1b3(0x751)],0xa);handleRegenerateQuestionInEditor(_0x3ede13);return;}const _0x25133c=_0x32a18f[_0x67d1b3(0xadf)][_0x67d1b3(0x2e3)](_0x67d1b3(0xe75));if(_0x25133c){const _0x36655f=_0x25133c[_0x67d1b3(0x2e3)](_0x67d1b3(0xd75)),_0x1bf7a3=parseInt(_0x36655f[_0x67d1b3(0x63c)][_0x67d1b3(0x751)],0xa);handleDeleteQuestionInEditor(_0x1bf7a3);return;}const _0x385727=_0x32a18f[_0x67d1b3(0xadf)][_0x67d1b3(0x2e3)](_0x67d1b3(0xb87));if(_0x385727){handleAddQuestionInEditor();return;}});document[_0x14446c(0xb29)](_0x14446c(0xca1))[_0x14446c(0x652)](_0x14446c(0xc7b),openQuizBankModal),document['getElementById'](_0x14446c(0xb5c))[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x4cd389=_0x14446c;document[_0x4cd389(0xb29)](_0x4cd389(0xb2a))['classList'][_0x4cd389(0x224)](_0x4cd389(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0xab4))[_0x14446c(0x652)](_0x14446c(0xa58),_0x54a31d=>renderQuizBankList(_0x54a31d[_0x14446c(0xadf)][_0x14446c(0xc4b)]));const _0x288f1f=document[_0x14446c(0xb29)](_0x14446c(0x55e));if(_0x288f1f){let _0x5e1409=null;_0x288f1f['addEventListener'](_0x14446c(0xc7b),_0x129ed2=>{const _0xc16e38=_0x14446c,_0x4e6288=_0x129ed2['target'],_0x52c841=_0x4e6288[_0xc16e38(0x2e3)](_0xc16e38(0x882)),_0x1bd108=_0x4e6288[_0xc16e38(0x2e3)](_0xc16e38(0xd52)),_0x2c515f=_0x4e6288['closest']('.save-custom-topic-btn'),_0x3a5341=_0x4e6288[_0xc16e38(0x2e3)]('.cancel-edit-topic-btn');if(_0x1bd108){_0x129ed2[_0xc16e38(0x486)]();const _0x3ead1b=_0x1bd108['dataset']['id'],_0x5e6aac=_0x1bd108[_0xc16e38(0x2e3)]('.group')['querySelector'](_0xc16e38(0xc51))[_0xc16e38(0x6ab)];showConfirmation(_0xc16e38(0x175)+_0x5e6aac+'\x22?',()=>handleDeleteCustomTopic(_0x3ead1b));}else{if(_0x52c841){_0x129ed2[_0xc16e38(0x486)]();_0x5e1409&&toggleTopicEditMode(_0x5e1409,![]);const _0x46092b=_0x52c841['closest'](_0xc16e38(0x7c7));_0x5e1409=_0x46092b,toggleTopicEditMode(_0x46092b,!![]);}else{if(_0x2c515f){_0x129ed2['preventDefault']();const _0x344030=_0x2c515f[_0xc16e38(0x63c)]['id'],_0xf86df2=_0x2c515f[_0xc16e38(0x2e3)](_0xc16e38(0x7c7)),_0xc2fcfc=_0xf86df2[_0xc16e38(0x327)](_0xc16e38(0x68e))['value'];handleUpdateCustomTopic(_0x344030,_0xc2fcfc),_0x5e1409=null;}else{if(_0x3a5341){_0x129ed2[_0xc16e38(0x486)]();const _0x40ba9b=_0x3a5341['closest'](_0xc16e38(0x7c7));toggleTopicEditMode(_0x40ba9b,![]),_0x5e1409=null;}}}}}),document[_0x14446c(0xb29)]('close-lesson-plan-modal-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x38eeca=_0x14446c;document[_0x38eeca(0xb29)]('lesson-plan-modal')[_0x38eeca(0x26b)][_0x38eeca(0x224)](_0x38eeca(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0x60a))[_0x14446c(0x652)]('click',()=>{const _0x219f91=_0x14446c;document[_0x219f91(0xb29)](_0x219f91(0x813))[_0x219f91(0x26b)][_0x219f91(0x224)](_0x219f91(0x932));}),document[_0x14446c(0xb29)](_0x14446c(0xc8f))[_0x14446c(0x652)](_0x14446c(0xc7b),handleExportLessonPDF);}document[_0x14446c(0xb29)](_0x14446c(0x6c1))[_0x14446c(0x652)]('click',()=>{const _0x372ed0=_0x14446c;document[_0x372ed0(0xb29)](_0x372ed0(0xb1c))[_0x372ed0(0x26b)]['add'](_0x372ed0(0x932));}),document['getElementById']('close-comparison-modal-footer-btn')[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x1d5019=_0x14446c;document[_0x1d5019(0xb29)]('comparison-modal')['classList'][_0x1d5019(0x224)](_0x1d5019(0x932));}),setupComparisonModalTabs(),document[_0x14446c(0xbfe)][_0x14446c(0x652)](_0x14446c(0xc7b),function(_0xa56ceb){const _0x4c7f2c=_0x14446c;if(_0xa56ceb[_0x4c7f2c(0xadf)][_0x4c7f2c(0x26b)][_0x4c7f2c(0xa4c)]('practice-topic-btn')){const _0x36d825=unescape(_0xa56ceb[_0x4c7f2c(0xadf)][_0x4c7f2c(0x63c)]['topic']);startSkillPractice(_0x36d825);}}),document[_0x14446c(0xb29)](_0x14446c(0x6f5))['addEventListener'](_0x14446c(0xc7b),_0x407d69=>{const _0x4afb12=_0x14446c,_0x2baae9=_0x407d69[_0x4afb12(0xadf)][_0x4afb12(0x2e3)]('.delete-submission-btn');if(_0x2baae9){const _0xfa6101=_0x2baae9[_0x4afb12(0x63c)]['studentName'];handleDeleteSubmission(_0xfa6101);return;}const _0x1db2b7=_0x407d69[_0x4afb12(0xadf)][_0x4afb12(0x2e3)](_0x4afb12(0x306));if(_0x1db2b7){const _0x3584ea=_0x1db2b7['dataset'][_0x4afb12(0xb34)],_0x4b88f6=_0x1db2b7['dataset'][_0x4afb12(0x67b)],_0x2b2275=prompt(_0x4afb12(0x85b)+_0x3584ea+'\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)',_0x4b88f6);if(_0x2b2275!==null&&_0x2b2275[_0x4afb12(0x46f)]()!==''){const _0x5e7845=parseInt(_0x2b2275,0xa);!isNaN(_0x5e7845)?handleManualEditPoints(_0x3584ea,_0x5e7845):alert(_0x4afb12(0x6e8));}}}),document[_0x14446c(0xb29)](_0x14446c(0xa6b))?.[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x181b9c=_0x14446c;document['getElementById'](_0x181b9c(0x9f8))[_0x181b9c(0x26b)]['add'](_0x181b9c(0x932));}),document[_0x14446c(0x948)](_0x14446c(0x892))[_0x14446c(0x57b)](_0x33fe64=>{const _0x5f3fd7=_0x14446c;_0x33fe64[_0x5f3fd7(0x652)](_0x5f3fd7(0xc7b),()=>{const _0x430e46=_0x5f3fd7;handlePinKeyPress(_0x33fe64[_0x430e46(0x63c)]['val']);});}),document[_0x14446c(0xb29)]('pin-backspace-btn')?.[_0x14446c(0x652)](_0x14446c(0xc7b),()=>{const _0x3d7988=_0x14446c;handlePinKeyPress(_0x3d7988(0xde0));});}async function handleStartGroupMode(_0x15dcbd,_0x59c9e9=![]){const _0x3e2de4=_0x3d653b,_0x54744a=allQuizzes['find'](_0x4d78b4=>_0x4d78b4['id']===_0x15dcbd)||allQuizzesGlobal[_0x3e2de4(0xb46)](_0x118a6d=>_0x118a6d['id']===_0x15dcbd);if(!_0x54744a){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x54744a);const _0x22b92b=Math[_0x3e2de4(0x6ae)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x526965=await addDoc(collection(db,'artifacts/'+appId+_0x3e2de4(0x984)),{'quizId':_0x54744a['id'],'projectId':_0x54744a[_0x3e2de4(0x6c4)],'status':_0x3e2de4(0xa03),'pin':_0x22b92b,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x59c9e9});currentTeamQuizId=_0x526965['id'],showView(_0x3e2de4(0x78c)),renderAdminTeamQuizDashboard(_0x22b92b,_0x54744a['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x31db7e){console[_0x3e2de4(0x3b5)]('Error\x20starting\x20group\x20quiz:',_0x31db7e),showMessage(_0x3e2de4(0xe8c));}}async function showStudentProgressView(){const _0x157fca=_0x3d653b;studentInitialView['classList']['add'](_0x157fca(0x932)),document[_0x157fca(0xb29)]('student-progress-view')[_0x157fca(0x26b)][_0x157fca(0x937)](_0x157fca(0x932));const _0x38ac91=document['getElementById']('progress-project-select'),_0x145435=document['getElementById'](_0x157fca(0xde9)),_0x354dc7=document[_0x157fca(0xb29)](_0x157fca(0xe6f));_0x354dc7['innerHTML']=_0x157fca(0x5f1),_0x145435[_0x157fca(0xd04)]=_0x157fca(0x5ec),_0x145435['disabled']=!![],_0x38ac91['innerHTML']=_0x157fca(0xa4a);if(allProjects[_0x157fca(0xe84)]===0x0){const _0x2c3701=collection(db,_0x157fca(0xc9f)+appId+_0x157fca(0x8ef)),_0x244ca5=await getDocs(_0x2c3701);allProjects=_0x244ca5[_0x157fca(0x574)][_0x157fca(0x643)](_0x5c7bc4=>({'id':_0x5c7bc4['id'],..._0x5c7bc4[_0x157fca(0xcbd)]()}));}const _0x13a923=allProjects['filter'](_0x814080=>_0x814080['settings']?.[_0x157fca(0xae7)]!==![]);_0x13a923[_0x157fca(0xb9f)]((_0x4bb554,_0x195db5)=>_0x4bb554[_0x157fca(0xa05)][_0x157fca(0x390)](_0x195db5[_0x157fca(0xa05)],'th')),_0x38ac91[_0x157fca(0xd04)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x13a923[_0x157fca(0x643)](_0x46fdc2=>'<option\x20value=\x22'+_0x46fdc2['id']+'\x22>'+_0x46fdc2[_0x157fca(0xa05)]+_0x157fca(0xdea))[_0x157fca(0x87d)](''),_0x38ac91[_0x157fca(0xc84)]=()=>{const _0x3aefe5=_0x157fca,_0x1f6bcb=_0x145435[_0x3aefe5(0xc4b)],_0xbdddf0=_0x38ac91['value'];_0x145435[_0x3aefe5(0xeee)]=!![],_0x145435[_0x3aefe5(0xd04)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x354dc7['innerHTML']=_0x3aefe5(0xa1d);if(!_0xbdddf0)return;const _0x1ee35d=allProjects[_0x3aefe5(0xb46)](_0x327af0=>_0x327af0['id']===_0xbdddf0);if(!_0x1ee35d||!_0x1ee35d['students'])return;const _0x4f6531=()=>{const _0x165840=_0x3aefe5;_0x145435['innerHTML']=_0x165840(0x5ec)+_0x1ee35d[_0x165840(0x828)][_0x165840(0x643)](_0x47265d=>_0x165840(0x801)+_0x47265d+'\x22>'+_0x47265d+_0x165840(0xdea))[_0x165840(0x87d)](''),_0x145435[_0x165840(0xeee)]=![];const _0x1605ef=Array[_0x165840(0x63b)](_0x145435['options'])[_0x165840(0x643)](_0x187ffc=>_0x187ffc['value']);if(_0x1f6bcb&&_0x1605ef['includes'](_0x1f6bcb))_0x145435[_0x165840(0xc4b)]=_0x1f6bcb,_0x145435[_0x165840(0x4a1)](new Event('change'));else _0x1ee35d[_0x165840(0x828)]['length']===0x1&&(_0x145435['value']=_0x1ee35d[_0x165840(0x828)][0x0],_0x145435[_0x165840(0x4a1)](new Event(_0x165840(0xc95))));};if(_0x1ee35d[_0x3aefe5(0x48b)]?.[_0x3aefe5(0xa20)]){if(sessionStorage['getItem'](_0x3aefe5(0x304)+_0xbdddf0)===_0x3aefe5(0xa82)){_0x4f6531();return;}const _0x607f7d=document['getElementById'](_0x3aefe5(0xdfb)),_0x24ded7=document[_0x3aefe5(0xb29)](_0x3aefe5(0x22d)),_0x134864=document[_0x3aefe5(0xb29)](_0x3aefe5(0xcd5)),_0x13a879=document[_0x3aefe5(0xb29)](_0x3aefe5(0x289)),_0x267081=document[_0x3aefe5(0xb29)](_0x3aefe5(0xce7));document[_0x3aefe5(0xb29)](_0x3aefe5(0xdf4))[_0x3aefe5(0x6ab)]='สำหรับโปรเจค:\x20'+_0x1ee35d[_0x3aefe5(0xa05)],_0x13a879[_0x3aefe5(0xc4b)]='',_0x267081['classList']['add']('hidden'),_0x607f7d[_0x3aefe5(0x26b)][_0x3aefe5(0x937)](_0x3aefe5(0x932));const _0x9857c9=()=>{const _0x18417d=_0x3aefe5,_0x38fbbe=_0x13a879[_0x18417d(0xc4b)]['trim']();_0x38fbbe===_0x1ee35d[_0x18417d(0x48b)]['passcode']?(sessionStorage['setItem'](_0x18417d(0x304)+_0xbdddf0,_0x18417d(0xa82)),_0x607f7d[_0x18417d(0x26b)]['add'](_0x18417d(0x932)),_0x4f6531(),_0x24ded7[_0x18417d(0xadb)](_0x18417d(0xc7b),_0x9857c9)):_0x267081[_0x18417d(0x26b)]['remove'](_0x18417d(0x932));};_0x24ded7[_0x3aefe5(0x675)]=_0x9857c9,_0x134864[_0x3aefe5(0x675)]=()=>{const _0x18ea53=_0x3aefe5;_0x607f7d[_0x18ea53(0x26b)][_0x18ea53(0x224)](_0x18ea53(0x932)),_0x38ac91[_0x18ea53(0xc4b)]='',_0x24ded7[_0x18ea53(0xadb)]('click',_0x9857c9);};}else _0x4f6531();},_0x145435[_0x157fca(0xc84)]=()=>{const _0x21cc91=_0x157fca,_0x240a78=_0x38ac91[_0x21cc91(0xc4b)],_0x50fc9f=_0x145435['value'];_0x240a78&&_0x50fc9f&&renderStudentProgressDashboard(_0x240a78,_0x50fc9f);};}async function confirmAndJoinSyncGame(){const _0x295132=_0x3d653b;lastSeenQuestionIndex=-0x1,sessionStorage[_0x295132(0x42c)](_0x295132(0xea7)),sessionStorage[_0x295132(0x42c)](_0x295132(0xc80)),Object[_0x295132(0x754)](sessionStorage)[_0x295132(0x57b)](_0x156187=>{const _0x595f46=_0x295132;(_0x156187[_0x595f46(0x7f8)](_0x595f46(0xd30))||_0x156187[_0x595f46(0x7f8)](_0x595f46(0x780))||_0x156187[_0x595f46(0x7f8)]('hiddenOptions_q'))&&sessionStorage[_0x595f46(0x42c)](_0x156187);});const _0x34a629=Array[_0x295132(0x63b)](document[_0x295132(0x948)](_0x295132(0x7b8)))[_0x295132(0x643)](_0x459282=>_0x459282[_0x295132(0xc4b)]);if(_0x34a629[_0x295132(0xe84)]===0x0){showMessage(_0x295132(0x83e));return;}localTeamPlayers=_0x34a629,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x535900=writeBatch(db),_0x60d051=serverTimestamp();for(const _0x1aa5e7 of _0x34a629){const _0x46a743=doc(db,_0x295132(0xc9f)+appId+_0x295132(0x855)+currentLiveGameId+_0x295132(0x47b),_0x1aa5e7),_0x524cc4=await getDoc(_0x46a743);if(_0x524cc4[_0x295132(0x267)]())_0x535900[_0x295132(0x5c5)](_0x46a743,{'status':'active'}),console[_0x295132(0xee3)](_0x295132(0xf28)+_0x1aa5e7+_0x295132(0x1e7));else{const _0x24fcf3={'name':_0x1aa5e7,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x295132(0xd63),'answers':[],'joinedAt':_0x60d051,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x535900[_0x295132(0x459)](_0x46a743,_0x24fcf3);}}await _0x535900[_0x295132(0x832)](),showView(_0x295132(0x78c)),document['getElementById'](_0x295132(0x861))[_0x295132(0x26b)][_0x295132(0x224)](_0x295132(0x932)),currentStudentName=_0x34a629[0x0],listenForSyncGameUpdates();const _0x10c937={'gameId':currentLiveGameId,'mode':_0x295132(0x41d),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x295132(0xef3)](_0x295132(0x8d3),JSON[_0x295132(0x437)](_0x10c937));}catch(_0x333ad3){console[_0x295132(0x3b5)](_0x295132(0x499),_0x333ad3),showMessage(_0x295132(0xaec)+_0x333ad3[_0x295132(0x837)]);}}async function resumeActiveGameSession(){const _0x4aee71=_0x3d653b,_0x1ff071=sessionStorage[_0x4aee71(0xd6e)](_0x4aee71(0x8d3));if(!_0x1ff071)return;const _0x2bea12=JSON['parse'](_0x1ff071),{gameId:_0x1439f9,mode:_0x52cf26,role:_0x2d95fb,players:_0x2d878c,turnIndex:_0x56204e}=_0x2bea12;try{if(_0x2d95fb===_0x4aee71(0x223)&&_0x52cf26===_0x4aee71(0x41d)){const _0x2a7c22=doc(db,_0x4aee71(0xc9f)+appId+_0x4aee71(0x8d6),_0x1439f9),_0x549476=await getDoc(_0x2a7c22);if(!_0x549476[_0x4aee71(0x267)]()||_0x549476[_0x4aee71(0xcbd)]()[_0x4aee71(0x389)]==='podium'||_0x549476['data']()[_0x4aee71(0x389)]==='finished'){sessionStorage[_0x4aee71(0x42c)](_0x4aee71(0x8d3));return;}console[_0x4aee71(0xee3)](_0x4aee71(0xaa5)+_0x1439f9+')'),currentMode=_0x4aee71(0x223),currentLiveGameId=_0x1439f9,currentQuizData=_0x549476['data']()['shuffledQuiz'],showView(_0x4aee71(0x78c)),listenForSyncGameUpdates();}else{if(_0x52cf26===_0x4aee71(0x41d)&&_0x2d878c){const _0x4a3397=doc(db,_0x4aee71(0xc9f)+appId+_0x4aee71(0x8d6),_0x1439f9),_0x2a55bf=await getDoc(_0x4a3397);if(!_0x2a55bf[_0x4aee71(0x267)]()||_0x2a55bf['data']()[_0x4aee71(0x389)]===_0x4aee71(0x4da)||_0x2a55bf[_0x4aee71(0xcbd)]()[_0x4aee71(0x389)]===_0x4aee71(0x8c4)){sessionStorage[_0x4aee71(0x42c)](_0x4aee71(0x8d3));return;}console[_0x4aee71(0xee3)](_0x4aee71(0x196)+_0x1439f9+')'),currentLiveGameId=_0x1439f9,currentStudentName=_0x2d878c[0x0],localTeamPlayers=_0x2d878c,showView(_0x4aee71(0x78c)),listenForSyncGameUpdates();}else{if((_0x52cf26===_0x4aee71(0xe0c)||_0x52cf26==='group')&&_0x2d878c){const _0x40e419=doc(db,_0x4aee71(0xc9f)+appId+_0x4aee71(0x984),_0x1439f9),_0x40ccc9=await getDoc(_0x40e419);if(!_0x40ccc9[_0x4aee71(0x267)]()||_0x40ccc9[_0x4aee71(0xcbd)]()[_0x4aee71(0x389)]===_0x4aee71(0x4da)||_0x40ccc9['data']()[_0x4aee71(0x389)]==='finished'){sessionStorage[_0x4aee71(0x42c)](_0x4aee71(0x8d3));return;}console[_0x4aee71(0xee3)](_0x4aee71(0xf2e)+_0x52cf26+_0x4aee71(0xdee)+_0x1439f9+')'),currentTeamQuizId=_0x1439f9,localTeamPlayers=_0x2d878c,localQuestionIndex=_0x2bea12[_0x4aee71(0xa40)]||0x0,localPlayerIndex=_0x2bea12[_0x4aee71(0x791)]||0x0;const _0x17dd33=_0x40ccc9['data'](),_0x5b8c21=doc(db,_0x4aee71(0xc9f)+appId+'/public/data/quizzes',_0x17dd33[_0x4aee71(0x31e)]),_0x475cdc=await getDoc(_0x5b8c21);_0x475cdc[_0x4aee71(0x267)]()&&(currentQuizData=getShuffledQuiz({'id':_0x475cdc['id'],..._0x475cdc[_0x4aee71(0xcbd)]()}),showView(_0x4aee71(0x4d8)),studentInitialView[_0x4aee71(0x26b)]['add']('hidden'),_0x52cf26===_0x4aee71(0xaac)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x4ad86d){console[_0x4aee71(0x3b5)](_0x4aee71(0xe60),_0x4ad86d),sessionStorage[_0x4aee71(0x42c)]('activeGameSession');}}async function handleUsePowerup(_0x690bb3,_0x502d02,_0xb9c919,_0xf60061,_0x410004){const _0x10e065=_0x3d653b,_0x3cc132=_0xf60061[_0x10e065(0x7d8)],_0x51fd26=_0x10e065(0x780)+_0x3cc132+'_p'+_0x690bb3,_0x593e56=sessionStorage['getItem'](_0x51fd26);if(_0x593e56&&_0x502d02!==_0x10e065(0xa56)&&_0x502d02!==_0x10e065(0xc94)){showMessage('คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ');const _0xc01a37=document[_0x10e065(0xb29)](_0x10e065(0x3b6)+_0x502d02);if(_0xc01a37)_0xc01a37[_0x10e065(0xeee)]=![];return;}if(_0x502d02===_0x10e065(0x344)){sessionStorage[_0x10e065(0xef3)](_0x51fd26,_0x502d02),playSystemSound(_0x10e065(0xeb0)),renderStudentSyncQuestionView(_0xf60061);return;}const _0x49679b=doc(db,_0x10e065(0xc9f)+appId+_0x10e065(0x855)+currentLiveGameId+_0x10e065(0x47b),_0x690bb3);try{await runTransaction(db,async _0x5b1342=>{const _0x4c70d2=_0x10e065,_0x41e5b3=await _0x5b1342[_0x4c70d2(0x6ee)](_0x49679b);if(!_0x41e5b3['exists']())throw _0x4c70d2(0x16f);const _0x5e5262=_0x41e5b3[_0x4c70d2(0xcbd)](),_0x1a0a4b=_0x5e5262[_0x4c70d2(0xcc5)]||{},_0x35a114=_0x1a0a4b[_0x502d02]||0x0;if(_0x35a114<=0x0)throw _0x4c70d2(0x31b);const _0x20a91d={};_0x20a91d[_0x4c70d2(0x87f)+_0x502d02]=increment(-0x1);_0x502d02!==_0x4c70d2(0x344)&&(_0x20a91d[_0x4c70d2(0xb64)]=0x0);if(_0x502d02===_0x4c70d2(0xa56)){const _0x1d13ad=(_0xf60061[_0x4c70d2(0xbc8)]||0xf0)*0x3e8,_0x461868=_0x1d13ad*0.25;_0x20a91d[_0x4c70d2(0x4e0)]=increment(_0x461868);}_0x5b1342[_0x4c70d2(0x5c5)](_0x49679b,_0x20a91d);}),_0x502d02===_0x10e065(0xac5)&&sessionStorage[_0x10e065(0xef3)]('pollUsedThisTurn','true'),_0x502d02!=='buyTime'&&_0x502d02!==_0x10e065(0xc94)&&sessionStorage[_0x10e065(0xef3)](_0x51fd26,_0x502d02),playSystemSound(_0x10e065(0xeb0)),applyPowerupEffect(_0x690bb3,_0x502d02,_0xb9c919,_0xf60061,_0x410004),(_0x502d02===_0x10e065(0x384)||_0x502d02===_0x10e065(0xddf)||_0x502d02==='insurance'||_0x502d02===_0x10e065(0x811))&&renderStudentSyncQuestionView(_0xf60061),_0x502d02!==_0x10e065(0x344)&&_0x410004[_0x10e065(0xb64)]>0x0&&showMessage(_0x10e065(0x62a)+_0x502d02+_0x10e065(0xaba));}catch(_0x16339f){console['error'](_0x10e065(0x7f9),_0x16339f),showMessage(typeof _0x16339f===_0x10e065(0xad4)?_0x16339f:_0x10e065(0x208));const _0x1d5160=document[_0x10e065(0xb29)]('use-powerup-'+_0x502d02);if(_0x1d5160)_0x1d5160['disabled']=![];}}async function getCachedOtherPlayers(_0x27ad73,_0x4cf347){const _0x4d1523=_0x3d653b,_0x48c0f6=_0x27ad73[_0x4d1523(0x7d8)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x48c0f6)return console[_0x4d1523(0xee3)](_0x4d1523(0x2b6)),cachedOtherPlayersForQuestion;console['log']('โหลดข้อมูลเพื่อนใหม่จาก\x20Server...');const _0x2ee8d3=collection(db,_0x4d1523(0xc9f)+appId+_0x4d1523(0x855)+currentLiveGameId+_0x4d1523(0x47b)),_0x49413f=query(_0x2ee8d3,where(_0x4d1523(0x389),'==',_0x4d1523(0xd63))),_0x1a033b=await getDocs(_0x49413f),_0xfbceb3=[];return _0x1a033b[_0x4d1523(0x57b)](_0x316d1e=>{const _0x2b89d6=_0x4d1523,_0x5a418d=_0x316d1e[_0x2b89d6(0xcbd)]();_0xfbceb3[_0x2b89d6(0xf06)](_0x5a418d);}),cachedOtherPlayersForQuestion=_0xfbceb3,cachedQuestionIndexForPlayers=_0x48c0f6,_0xfbceb3;}async function applyPowerupEffect(_0x37cb1f,_0x11fdaa,_0x108ffc,_0x852390,_0x84b08e){const _0x291a08=_0x3d653b,_0x451a7d=_0x108ffc,_0x384580=_0x852390[_0x291a08(0x7d8)];switch(_0x11fdaa){case _0x291a08(0x344):showMessage('💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน');break;case _0x291a08(0x407):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;case _0x291a08(0xa56):const _0xa57267=(_0x852390[_0x291a08(0xbc8)]||0xf0)*0.25;showMessage(_0x291a08(0x3f3)+_0xa57267+_0x291a08(0xb97));break;case _0x291a08(0x384):case _0x291a08(0xddf):const _0x2979ff=document[_0x291a08(0x948)](_0x291a08(0x8ab));if(_0x2979ff['length']===0x0){showMessage(_0x291a08(0xa36));return;}const _0x2f6d12=_0x291a08(0x585)+_0x384580+'_p'+_0x37cb1f,_0xa4e271=JSON[_0x291a08(0xf2d)](sessionStorage[_0x291a08(0xd6e)](_0x2f6d12)||'[]');let _0x2a2bf7;const _0x29d9a4=_0x451a7d[_0x291a08(0xc4a)]||_0x852390[_0x291a08(0xeb4)]['quizType'];_0x29d9a4===_0x291a08(0x80d)?_0x2a2bf7=String(_0x451a7d[_0x291a08(0x1b0)])['toLowerCase']()==='true'?0x0:0x1:_0x2a2bf7=_0x451a7d[_0x291a08(0x857)];const _0x513f89=Array[_0x291a08(0x63b)](_0x2979ff)[_0x291a08(0x5f5)](_0x37e5d6=>parseInt(_0x37e5d6[_0x291a08(0x63c)][_0x291a08(0xc4b)])!==_0x2a2bf7&&!_0xa4e271[_0x291a08(0xecb)](_0x37e5d6['dataset'][_0x291a08(0xc4b)]));if(_0x513f89[_0x291a08(0xe84)]===0x0){showMessage(_0x291a08(0x469));return;}shuffleArray(_0x513f89);const _0x173903=_0x11fdaa===_0x291a08(0x384)?0x1:0x2,_0xf00e87=[];for(let _0x3af24d=0x0;_0x3af24d<_0x173903;_0x3af24d++){_0x513f89[_0x3af24d]&&(_0x513f89[_0x3af24d]['classList']['add']('hidden'),_0xf00e87[_0x291a08(0xf06)](_0x513f89[_0x3af24d][_0x291a08(0x63c)][_0x291a08(0xc4b)]));}const _0x983b2c=[..._0xa4e271,..._0xf00e87];sessionStorage[_0x291a08(0xef3)](_0x2f6d12,JSON[_0x291a08(0x437)](_0x983b2c)),showMessage(_0x11fdaa===_0x291a08(0x384)?_0x291a08(0xb88):_0x291a08(0x989));break;default:showMessage(_0x291a08(0xb76)+_0x11fdaa+'\x20แล้ว!');}}async function handleForceConfident(_0x415b82,_0x39b794){const _0xb8b367=_0x3d653b;if(!currentLiveGameId||!_0x415b82)return;const _0x3ebff7=doc(db,_0xb8b367(0xc9f)+appId+_0xb8b367(0x855)+currentLiveGameId+_0xb8b367(0x47b),_0x415b82);try{await updateDoc(_0x3ebff7,{'isForcedConfident':!![]}),showMessage(_0xb8b367(0x3f9)+_0x39b794+'\x20สำเร็จ!');}catch(_0x577ce9){console['error']('Failed\x20to\x20apply\x20forceConfident:',_0x577ce9),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x333bd9,_0x11e7ab){const _0x2214f7=_0x3d653b,_0x4af854=doc(db,_0x2214f7(0xc9f)+appId+_0x2214f7(0x855)+currentLiveGameId+_0x2214f7(0x47b),_0x333bd9);try{const _0x27ede9={};_0x27ede9['powerups.'+_0x11e7ab]=increment(0x1),await updateDoc(_0x4af854,_0x27ede9),console[_0x2214f7(0xee3)](_0x2214f7(0x5b1)+_0x11e7ab+'\x20to\x20'+_0x333bd9);}catch(_0x2fb654){console[_0x2214f7(0x3b5)](_0x2214f7(0x876),_0x2fb654);}}async function handleApplyJinx(_0x4cd2d9,_0x2d5899){const _0x57228c=_0x3d653b;if(!currentLiveGameId||!_0x4cd2d9)return;const _0x296c04=doc(db,_0x57228c(0xc9f)+appId+_0x57228c(0x855)+currentLiveGameId+_0x57228c(0x47b),_0x4cd2d9);try{await updateDoc(_0x296c04,{'isJinxed':!![]}),showMessage(_0x57228c(0x6c7)+_0x2d5899+'\x20สำเร็จ!');}catch(_0x30bf8a){console['error']('Failed\x20to\x20apply\x20jinx:',_0x30bf8a),showMessage(_0x57228c(0xd44));}}function activateFileInputAreaWithLoadedFile(){const _0x4b3646=_0x3d653b,_0x5de1df=document['getElementById']('generate-from-file-btn'),_0x4a2459=document[_0x4b3646(0xb29)](_0x4b3646(0xafb)),_0x175240=document[_0x4b3646(0xb29)](_0x4b3646(0x89d));selectedFile?_0x175240[_0x4b3646(0x21d)]?(_0x5de1df[_0x4b3646(0xeee)]=!![],analyzeFileForTopics(selectedFile)):(_0x5de1df[_0x4b3646(0xeee)]=![],_0x4a2459[_0x4b3646(0x26b)]['add'](_0x4b3646(0x932))):(_0x5de1df[_0x4b3646(0xeee)]=!![],_0x4a2459[_0x4b3646(0x26b)][_0x4b3646(0x224)](_0x4b3646(0x932)));}async function handleKickPlayerSync(_0x5ba995){const _0x446446=_0x3d653b;if(!currentLiveGameId||!_0x5ba995)return;const _0x54215e=doc(db,_0x446446(0xc9f)+appId+_0x446446(0x855)+currentLiveGameId+'/players',_0x5ba995);try{await updateDoc(_0x54215e,{'status':_0x446446(0xefe)});}catch(_0x356bcc){console[_0x446446(0x3b5)]('Failed\x20to\x20kick\x20player\x20'+_0x5ba995+':',_0x356bcc),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x29677a,_0x45e192){const _0x3a354c=_0x3d653b,_0x37214b=document[_0x3a354c(0xb29)]('student-progress-content');_0x37214b[_0x3a354c(0xd04)]=_0x3a354c(0x543);try{const _0x3d4eac=collection(db,_0x3a354c(0xc9f)+appId+'/public/data/quizzes'),_0x944ac7=query(_0x3d4eac,where(_0x3a354c(0x6c4),'==',_0x29677a)),_0x11efb1=await getDocs(_0x944ac7),_0xafe179=_0x11efb1[_0x3a354c(0x574)][_0x3a354c(0x643)](_0x4154e4=>({'id':_0x4154e4['id'],..._0x4154e4['data']()})),_0x3a98f3=_0xafe179[_0x3a354c(0x643)](_0x2be3e2=>getDoc(doc(db,'artifacts/'+appId+_0x3a354c(0xec2)+_0x2be3e2['id']+'/submissions',_0x45e192))),_0x1e689e=await Promise[_0x3a354c(0x689)](_0x3a98f3),_0x2901f7=_0x1e689e[_0x3a354c(0x5f5)](_0x5eb26b=>_0x5eb26b[_0x3a354c(0x267)]())['map'](_0x445f28=>({'quizId':_0x445f28['ref'][_0x3a354c(0x9dd)][_0x3a354c(0x9dd)]['id'],..._0x445f28[_0x3a354c(0xcbd)]()}));if(_0x2901f7[_0x3a354c(0xe84)]===0x0){_0x37214b[_0x3a354c(0xd04)]=_0x3a354c(0x3a7);return;}let _0x483a57=_0x3a354c(0x3be);_0x2901f7[_0x3a354c(0x57b)](_0x19aa17=>{const _0x27828b=_0x3a354c,_0x2c7cfb=_0xafe179['find'](_0x3ce473=>_0x3ce473['id']===_0x19aa17[_0x27828b(0x31e)]),_0x45e6f9=_0x2c7cfb[_0x27828b(0x48b)]?.[_0x27828b(0x978)]||_0x27828b(0xa83),_0xd2d186=_0x2c7cfb[_0x27828b(0x48b)]?.[_0x27828b(0xd2b)]??0x0,_0x46e352=_0x19aa17['bestScore']>=_0xd2d186;let _0x4bb302='',_0x27dc6a=_0x27828b(0x362);switch(_0x45e6f9){case _0x27828b(0xa83):case _0x27828b(0xca7):_0x27dc6a=_0x46e352?'bg-green-50':'bg-red-50',_0x4bb302='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x46e352?'text-green-700':_0x27828b(0x356))+'\x22>'+_0x19aa17[_0x27828b(0xaae)]+_0x27828b(0x490)+_0x19aa17[_0x27828b(0xd5f)]+_0x27828b(0x6b0)+(_0x46e352?'bg-green-200\x20text-green-800':_0x27828b(0x40b))+'\x22>'+(_0x46e352?_0x27828b(0x16d):_0x27828b(0xe53))+_0x27828b(0x23b);break;case _0x27828b(0x4f2):_0x27dc6a=_0x46e352?_0x27828b(0x6c8):_0x27828b(0xb41),_0x4bb302=_0x27828b(0x7df)+(_0x46e352?_0x27828b(0x27b):_0x27828b(0x40b))+'\x22>'+(_0x46e352?_0x27828b(0x16d):_0x27828b(0xe53))+_0x27828b(0x23b);break;case'manual_release':_0x27dc6a=_0x27828b(0x761),_0x4bb302='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x483a57+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x27dc6a+_0x27828b(0x323)+_0x2c7cfb['topic']+_0x27828b(0x7bc)+_0x19aa17[_0x27828b(0x84f)][_0x27828b(0xe84)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x19aa17[_0x27828b(0x368)])[_0x27828b(0x693)](_0x27828b(0x6d3))+_0x27828b(0xc0e)+_0x4bb302+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x483a57+=_0x3a354c(0xe78),_0x37214b[_0x3a354c(0xd04)]=_0x483a57;}catch(_0x186bde){console[_0x3a354c(0x3b5)](_0x3a354c(0x25f),_0x186bde),_0x37214b[_0x3a354c(0xd04)]=_0x3a354c(0xbcd);}}function renderQuizBankListForMultiSelect(_0x1fb3ca=''){const _0x1a07a2=_0x3d653b,_0x50eee8=document[_0x1a07a2(0xb29)](_0x1a07a2(0x28d)),_0x2a0f84=_0x1fb3ca[_0x1a07a2(0xa99)]()[_0x1a07a2(0x46f)](),_0x1503d0=allQuizzesGlobal[_0x1a07a2(0x643)](_0x426209=>({..._0x426209,'projectName':allProjects[_0x1a07a2(0xb46)](_0x3006f6=>_0x3006f6['id']===_0x426209[_0x1a07a2(0x6c4)])?.[_0x1a07a2(0xa05)]||_0x1a07a2(0x8c3)}))[_0x1a07a2(0x5f5)](_0x31b424=>(_0x31b424[_0x1a07a2(0xf14)]||'')[_0x1a07a2(0xa99)]()[_0x1a07a2(0xecb)](_0x2a0f84)||(_0x31b424[_0x1a07a2(0xa05)]||'')['toLowerCase']()[_0x1a07a2(0xecb)](_0x2a0f84)||_0x31b424['id'][_0x1a07a2(0xd43)]()[_0x1a07a2(0xecb)](_0x2a0f84));_0x50eee8['innerHTML']=_0x1503d0[_0x1a07a2(0xe84)]?_0x1503d0[_0x1a07a2(0x643)](_0x397be4=>_0x1a07a2(0x97c)+_0x397be4['id']+_0x1a07a2(0xdd5)+(_0x397be4[_0x1a07a2(0xf14)]||_0x1a07a2(0x39a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x397be4['projectName']+_0x1a07a2(0x968)+_0x397be4['id']+_0x1a07a2(0x676))[_0x1a07a2(0x87d)](''):_0x1a07a2(0x655),_0x50eee8[_0x1a07a2(0xc84)]=()=>{const _0x35ff98=_0x1a07a2,_0x1f0b6d=document[_0x35ff98(0x327)]('.quiz-bank-checkbox:checked');document[_0x35ff98(0xb29)](_0x35ff98(0xd87))['disabled']=!_0x1f0b6d;};}function setupStudentProgressListeners(){const _0x1e51e9=_0x3d653b;document[_0x1e51e9(0xb29)](_0x1e51e9(0x94d))[_0x1e51e9(0x652)](_0x1e51e9(0xc7b),showStudentProgressView),document[_0x1e51e9(0xb29)]('back-to-student-home-btn')[_0x1e51e9(0x652)]('click',()=>{const _0x4189e2=_0x1e51e9;document[_0x4189e2(0xb29)](_0x4189e2(0x749))[_0x4189e2(0x26b)][_0x4189e2(0x224)]('hidden'),document[_0x4189e2(0xb29)]('student-initial-view')[_0x4189e2(0x26b)]['remove'](_0x4189e2(0x932));});}async function startSkillPractice(_0x5a34da){const _0x24610b=_0x3d653b;studentResultArea[_0x24610b(0x26b)][_0x24610b(0x224)]('hidden'),studentQuizArea[_0x24610b(0xd04)]=_0x24610b(0x501),studentQuizArea['classList'][_0x24610b(0x937)](_0x24610b(0x932));try{const _0x1fefbc=await getStandardizedTopic(_0x5a34da);console[_0x24610b(0xee3)](_0x24610b(0xccb)+_0x5a34da+_0x24610b(0x67d)+_0x1fefbc+'\x22'),studentQuizArea[_0x24610b(0x327)]('p')[_0x24610b(0x6ab)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x1fefbc+_0x24610b(0x4e3);const _0x4a8b9e=collection(db,_0x24610b(0xc9f)+appId+_0x24610b(0x98c)),_0x2bf624=query(_0x4a8b9e,where(_0x24610b(0xf14),'==',_0x1fefbc)),_0xdad2b8=await getDocs(_0x2bf624);if(_0xdad2b8[_0x24610b(0x574)][_0x24610b(0xe84)]>=0x3){console[_0x24610b(0xee3)](_0x24610b(0x3d4)+_0xdad2b8[_0x24610b(0x574)]['length']+_0x24610b(0x25a)+_0x1fefbc+_0x24610b(0x6d2));let _0x5cbf98=_0xdad2b8[_0x24610b(0x574)]['map'](_0x593fe9=>_0x593fe9['data']());shuffleArray(_0x5cbf98);const _0x3a321c={'topic':_0x1fefbc,'questions':_0x5cbf98[_0x24610b(0x7e8)](0x0,0x3)};displaySkillPracticeDrill(_0x3a321c);}else{console[_0x24610b(0xee3)](_0x24610b(0xcbc)+_0x1fefbc+_0x24610b(0x3b0));const _0x44851a=await generatePracticeQuestions(_0x1fefbc);await saveDrillToPracticeBank(_0x44851a,_0x1fefbc),displaySkillPracticeDrill(_0x44851a);}}catch(_0x323db9){console['error'](_0x24610b(0x33a),_0x323db9),showMessage(_0x24610b(0xd81)),studentQuizArea['classList'][_0x24610b(0x224)](_0x24610b(0x932)),studentResultArea['classList']['remove']('hidden');}}async function saveDrillToPracticeBank(_0x31fcad,_0x125d67){const _0x34c2e7=_0x3d653b,_0x4840f6=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x1aa2f5=writeBatch(db);_0x31fcad[_0x34c2e7(0xaff)][_0x34c2e7(0x57b)](_0x41f888=>{const _0x3f7f43=_0x34c2e7,_0x1b9dfc=doc(_0x4840f6);_0x1aa2f5[_0x3f7f43(0x459)](_0x1b9dfc,{'topic':_0x125d67,'questionText':_0x41f888[_0x3f7f43(0x4cd)],'options':_0x41f888[_0x3f7f43(0x802)],'correctAnswerIndex':_0x41f888[_0x3f7f43(0x857)],'explanation':_0x41f888[_0x3f7f43(0x96c)],'createdAt':serverTimestamp()});});try{await _0x1aa2f5[_0x34c2e7(0x832)](),console[_0x34c2e7(0xee3)](_0x34c2e7(0xd26)+_0x31fcad[_0x34c2e7(0xaff)][_0x34c2e7(0xe84)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x33b1a6){console[_0x34c2e7(0x3b5)](_0x34c2e7(0x39e),_0x33b1a6);}}async function getStandardizedTopic(_0x1851a0){const _0x1a761f=_0x3d653b,_0x583e64=_0x1a761f(0xaee)+_0x1851a0+_0x1a761f(0xbba),_0x1ab13a={'type':_0x1a761f(0x4d4),'properties':{'standardTopic':{'type':_0x1a761f(0x43c)}},'required':[_0x1a761f(0x4b1)]};try{const _0x284f3b=await callAnalysisApi(_0x583e64,_0x1ab13a);return _0x284f3b[_0x1a761f(0x4b1)];}catch(_0x5300f7){return console['error'](_0x1a761f(0x94e),_0x5300f7),_0x1851a0;}}async function handleGenerateEasyVersionQuiz(_0x5a371b){const _0x5a7546=_0x3d653b,_0x4dd6e0=document['getElementById']('results-tab-content'),_0x8b125=document[_0x5a7546(0xb29)](_0x5a7546(0xd8e));_0x8b125[_0x5a7546(0x26b)][_0x5a7546(0x224)](_0x5a7546(0x932));const _0x137cd3=_0x5a7546(0xdb9);_0x4dd6e0[_0x5a7546(0xc0d)]('beforeend',_0x137cd3);try{const _0x28736b=allQuizzes['find'](_0x445d65=>_0x445d65['id']===_0x5a371b);if(!_0x28736b)throw new Error(_0x5a7546(0x7c3));const _0x24bc89=_0x5a7546(0xd50)+JSON[_0x5a7546(0x437)](_0x28736b['questions'])+_0x5a7546(0x7e1),_0x41e4fa={'type':_0x5a7546(0x4d4),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x5a7546(0xea8),'items':{'type':_0x5a7546(0x43c)}},'correctAnswerIndex':{'type':_0x5a7546(0x1e3)},'idealAnswer':{'type':_0x5a7546(0x43c)},'explanation':{'type':_0x5a7546(0x43c)},'imageCode':{'type':_0x5a7546(0x43c)}},'required':[_0x5a7546(0x4cd),_0x5a7546(0xc4a),_0x5a7546(0x96c)]},_0x1c181b={'type':_0x5a7546(0x4d4),'properties':{'questions':{'type':_0x5a7546(0xea8),'items':_0x41e4fa}},'required':[_0x5a7546(0xaff)]},_0x3579c9=await callAnalysisApi(_0x24bc89,_0x1c181b);_0x3579c9&&_0x3579c9[_0x5a7546(0xaff)]&&_0x3579c9['questions'][_0x5a7546(0x57b)](_0x37208e=>{const _0x46006f=_0x5a7546;if(_0x37208e[_0x46006f(0x814)](_0x46006f(0x921))){const _0x2e9a20=String(_0x37208e[_0x46006f(0x921)])[_0x46006f(0x46f)]();(_0x2e9a20===''||_0x2e9a20[_0x46006f(0xa99)]()===_0x46006f(0xda0)||!_0x2e9a20['startsWith']('<svg'))&&delete _0x37208e[_0x46006f(0x921)];}});if(!_0x3579c9||!_0x3579c9['questions']||_0x3579c9['questions'][_0x5a7546(0xe84)]===0x0)throw new Error(_0x5a7546(0x593));const _0x6c8314=_0x3579c9['questions'][_0x5a7546(0x643)]((_0x838834,_0x2512da)=>({..._0x838834,'id':'q_'+Date[_0x5a7546(0xbd7)]()+'_'+_0x2512da})),_0x350a08={'projectId':_0x28736b[_0x5a7546(0x6c4)],'quizType':_0x28736b[_0x5a7546(0xca5)],'settings':_0x28736b[_0x5a7546(0x48b)],'createdBy':_0x28736b[_0x5a7546(0xabb)],'status':_0x5a7546(0xd63),'topic':_0x5a7546(0x85d)+_0x28736b[_0x5a7546(0xf14)],'questions':_0x6c8314,'createdAt':new Date()[_0x5a7546(0x529)](),'quizMode':_0x5a7546(0xf1a),'pairedQuizId':null};let _0x2cc12d;while(!![]){_0x2cc12d=Math[_0x5a7546(0x6ae)](0x3e8+Math[_0x5a7546(0xebc)]()*0x2328)[_0x5a7546(0xd43)]();const _0x2f18c6=await getDoc(doc(db,_0x5a7546(0xc9f)+appId+_0x5a7546(0xd47),_0x2cc12d));if(!_0x2f18c6[_0x5a7546(0x267)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5a7546(0xd47),_0x2cc12d),_0x350a08),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x4e3707){console[_0x5a7546(0x3b5)](_0x5a7546(0x95c),_0x4e3707),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4e3707['message']);}finally{const _0x134e82=document[_0x5a7546(0xb29)](_0x5a7546(0xeed));_0x134e82&&_0x134e82['remove'](),_0x8b125[_0x5a7546(0x26b)]['remove'](_0x5a7546(0x932));}}async function generatePracticeQuestions(_0x54c467){const _0x3c5775=_0x3d653b,_0x8bd8ab=_0x3c5775(0x71a)+_0x54c467+_0x3c5775(0xda7)+simpleMathPrompt+_0x3c5775(0x354),_0x3da333={'type':_0x3c5775(0x4d4),'properties':{'questionText':{'type':_0x3c5775(0x43c)},'options':{'type':_0x3c5775(0xea8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3c5775(0x1e3)},'explanation':{'type':'STRING'}},'required':[_0x3c5775(0x4cd),_0x3c5775(0x802),'correctAnswerIndex',_0x3c5775(0x96c)]},_0x274680={'type':_0x3c5775(0x4d4),'properties':{'topic':{'type':_0x3c5775(0x43c)},'questions':{'type':_0x3c5775(0xea8),'items':_0x3da333}},'required':[_0x3c5775(0xf14),_0x3c5775(0xaff)]};return await callAnalysisApi(_0x8bd8ab,_0x274680);}function displayLessonPlan(_0x2b6e68,_0x4b9b8f){const _0x3eca43=_0x3d653b,_0x32b70c=_0x3eca43(0x915)+_0x4b9b8f[_0x3eca43(0xf14)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2b6e68[_0x3eca43(0xa9e)][_0x3eca43(0x643)](_0x82ec0b=>_0x3eca43(0xb06)+_0x82ec0b+'</li>')[_0x3eca43(0x87d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2b6e68['teachingContent']+_0x3eca43(0xa9c)+_0x2b6e68[_0x3eca43(0x816)][_0x3eca43(0x643)](_0xb2deda=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0xb2deda['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0xb2deda[_0x3eca43(0xea5)]+_0x3eca43(0xc1b))[_0x3eca43(0x87d)]('')+_0x3eca43(0xa67);document['getElementById'](_0x3eca43(0x6e5))[_0x3eca43(0x6ab)]=_0x3eca43(0x7be)+_0x4b9b8f[_0x3eca43(0xf14)],document[_0x3eca43(0xb29)](_0x3eca43(0x3a3))[_0x3eca43(0xd04)]=_0x32b70c,document[_0x3eca43(0xb29)](_0x3eca43(0x813))[_0x3eca43(0x26b)]['remove'](_0x3eca43(0x932));if(window[_0x3eca43(0x348)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x21f9bc){const _0x49e242=_0x3d653b;let _0x4e5016=0x0;const _0x46124c=_0x21f9bc[_0x49e242(0xaff)],_0x10c39d=()=>{const _0x205a50=_0x49e242,_0x19d52e=_0x46124c[_0x4e5016],_0x3e5699='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x4e5016+0x1)+_0x205a50(0x490)+_0x46124c[_0x205a50(0xe84)]+_0x205a50(0xcfa)+_0x19d52e[_0x205a50(0x4cd)]+_0x205a50(0xc11)+_0x19d52e[_0x205a50(0x802)][_0x205a50(0x643)]((_0x232c41,_0x516054)=>_0x205a50(0x623)+_0x516054+_0x205a50(0x1cb)+_0x516054+_0x205a50(0xf22)+_0x516054+'\x22>'+_0x232c41+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x205a50(0x87d)]('')+_0x205a50(0x3a6);studentQuizArea['innerHTML']=_0x3e5699;if(window[_0x205a50(0x348)])MathJax[_0x205a50(0x7e6)]([studentQuizArea]);document[_0x205a50(0xb29)](_0x205a50(0xd6a))[_0x205a50(0x652)]('click',async()=>{const _0x46349b=_0x205a50,_0x2a168b=await getHintForQuestion(_0x19d52e[_0x46349b(0x4cd)]);showMessage(_0x2a168b);}),document[_0x205a50(0xb29)]('check-answer-btn')['addEventListener']('click',()=>{const _0x2b736b=_0x205a50,_0x5976e3=document[_0x2b736b(0x327)](_0x2b736b(0x9c9));if(!_0x5976e3){showMessage(_0x2b736b(0x7b6));return;}const _0x3384ae=document[_0x2b736b(0xb29)](_0x2b736b(0xc3d)),_0x4a63b5=parseInt(_0x5976e3['value'])===_0x19d52e[_0x2b736b(0x857)];_0x4a63b5?(_0x3384ae[_0x2b736b(0x48c)]=_0x2b736b(0x79a),_0x3384ae['innerHTML']=_0x2b736b(0x4b2)+_0x19d52e[_0x2b736b(0x96c)]):(_0x3384ae[_0x2b736b(0x48c)]=_0x2b736b(0xcab),_0x3384ae[_0x2b736b(0xd04)]=_0x2b736b(0x62c)+_0x19d52e[_0x2b736b(0x96c)]);_0x3384ae[_0x2b736b(0x26b)][_0x2b736b(0x937)](_0x2b736b(0x932));if(window['MathJax'])MathJax['typesetPromise']([_0x3384ae]);document[_0x2b736b(0xb29)](_0x2b736b(0x258))[_0x2b736b(0x26b)]['add'](_0x2b736b(0x932)),document[_0x2b736b(0xb29)](_0x2b736b(0xd6a))[_0x2b736b(0x26b)][_0x2b736b(0x224)](_0x2b736b(0x932)),document['getElementById'](_0x2b736b(0x418))['classList']['remove'](_0x2b736b(0x932));}),document[_0x205a50(0xb29)](_0x205a50(0x418))[_0x205a50(0x652)](_0x205a50(0xc7b),()=>{const _0x55317f=_0x205a50;_0x4e5016++,_0x4e5016<_0x46124c[_0x55317f(0xe84)]?_0x10c39d():(studentQuizArea[_0x55317f(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x55317f(0xd29))['addEventListener']('click',()=>{const _0x8bcf58=_0x55317f;studentQuizArea[_0x8bcf58(0x26b)][_0x8bcf58(0x224)]('hidden'),studentResultArea['classList'][_0x8bcf58(0x937)](_0x8bcf58(0x932));}));});};_0x10c39d();}async function getHintForQuestion(_0x119d74){const _0x401bc6=_0x3d653b,_0x523e3e='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x119d74+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x3cd32c={'type':_0x401bc6(0x4d4),'properties':{'hint':{'type':_0x401bc6(0x43c)}},'required':[_0x401bc6(0x552)]};try{const _0x116673=await callAnalysisApi(_0x523e3e,_0x3cd32c);return _0x116673['hint'];}catch(_0x3f905c){return console[_0x401bc6(0x3b5)](_0x401bc6(0x7c8),_0x3f905c),_0x401bc6(0x209);}}async function extractTextFromPdf(_0x4d09aa){const _0x1c9a1e=_0x3d653b;pdfjsLib[_0x1c9a1e(0xbdf)]['workerSrc']=_0x1c9a1e(0x70d);const _0x1106c3=await _0x4d09aa[_0x1c9a1e(0xc82)](),_0x4b8bb4=await pdfjsLib[_0x1c9a1e(0xeba)](_0x1106c3)[_0x1c9a1e(0x70e)],_0x41e378=_0x4b8bb4['numPages'];let _0x4bd821='';for(let _0x242919=0x1;_0x242919<=_0x41e378;_0x242919++){const _0x1da9f2=await _0x4b8bb4[_0x1c9a1e(0xb90)](_0x242919),_0x517f0a=await _0x1da9f2[_0x1c9a1e(0xb85)](),_0x453acb=_0x517f0a[_0x1c9a1e(0xdf6)][_0x1c9a1e(0x643)](_0x3a6163=>_0x3a6163[_0x1c9a1e(0xc2f)])[_0x1c9a1e(0x87d)]('\x20');_0x4bd821+=_0x453acb+'\x0a\x0a';}return _0x4bd821;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x1c9b4d){const _0x3a649c=_0x3d653b,_0x47bcce=document['getElementById']('blueprint-options-container'),_0x4e863c=document[_0x3a649c(0xb29)]('blueprint-topics-list'),_0x341fed=document[_0x3a649c(0xb29)](_0x3a649c(0xa02));_0x47bcce[_0x3a649c(0x26b)][_0x3a649c(0x937)](_0x3a649c(0x932)),_0x4e863c[_0x3a649c(0xd04)]=_0x3a649c(0x383),_0x341fed['classList'][_0x3a649c(0x224)](_0x3a649c(0x932));try{const _0x106cdf='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x1c9b4d+_0x3a649c(0x9b4),_0x217ab2={'type':_0x3a649c(0x4d4),'properties':{'gradeLevel':{'type':_0x3a649c(0x43c)},'curriculum':{'type':_0x3a649c(0xea8),'items':{'type':_0x3a649c(0x4d4),'properties':{'sara':{'type':_0x3a649c(0x43c)},'mainTopics':{'type':_0x3a649c(0xea8),'items':{'type':_0x3a649c(0x4d4),'properties':{'topicName':{'type':_0x3a649c(0x43c)},'subTopics':{'type':'ARRAY','items':{'type':_0x3a649c(0x43c)}}},'required':['topicName','subTopics']}}},'required':[_0x3a649c(0x8e2),'mainTopics']}}},'required':[_0x3a649c(0x455),'curriculum']},_0x1a53c5=await callAnalysisApi(_0x106cdf,_0x217ab2);if(_0x1a53c5&&_0x1a53c5[_0x3a649c(0xca4)])extractedBlueprintData=_0x1a53c5,renderBlueprintTopics(_0x1a53c5),_0x341fed[_0x3a649c(0x26b)]['remove'](_0x3a649c(0x932));else throw new Error(_0x3a649c(0xee7));}catch(_0x7cb0e8){console['error']('Error\x20analyzing\x20blueprint\x20topics:',_0x7cb0e8),_0x4e863c[_0x3a649c(0xd04)]=_0x3a649c(0x5e4);}}function renderBlueprintTopics(_0xe7d9cf){const _0x272926=_0x3d653b,_0x5305ae=document[_0x272926(0xb29)](_0x272926(0x567)),_0x2632dd=_0xe7d9cf['gradeLevel'],_0x387be2=_0x272926(0x3b8)+_0x2632dd+'</h3>';let _0x2879c7='';_0xe7d9cf['curriculum']['forEach'](_0x11bed7=>{const _0x1534ed=_0x272926;_0x2879c7+=_0x1534ed(0x6cc)+_0x11bed7['sara']+_0x1534ed(0xd92),_0x11bed7['mainTopics'][_0x1534ed(0x57b)](_0x52a0c6=>{const _0x51f4f8=_0x1534ed;_0x2879c7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x52a0c6[_0x51f4f8(0x3fe)]+_0x51f4f8(0x845),_0x52a0c6[_0x51f4f8(0x9fd)]['forEach'](_0x2dc1cc=>{const _0x4a7ba3=_0x51f4f8;_0x2879c7+=_0x4a7ba3(0xc83)+_0x2dc1cc[_0x4a7ba3(0x502)](/'/g,'\x5c\x27')+_0x4a7ba3(0xc4e)+_0x2632dd['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x2dc1cc+_0x4a7ba3(0x5f7)+_0x2dc1cc[_0x4a7ba3(0x502)](/'/g,'\x5c\x27')+_0x4a7ba3(0xded);}),_0x2879c7+='</div></div>';}),_0x2879c7+=_0x1534ed(0xe78);}),_0x5305ae[_0x272926(0xd04)]=_0x387be2+_0x2879c7;}async function handleGenerateTeachingContent(_0x505575){const _0x30db07=_0x3d653b,_0xc95c39=document[_0x30db07(0xb29)](_0x30db07(0x813)),_0x3b2c4d=document[_0x30db07(0xb29)](_0x30db07(0x3a3));document[_0x30db07(0xb29)]('lesson-plan-title')[_0x30db07(0x6ab)]=_0x30db07(0xc56)+_0x505575,_0x3b2c4d[_0x30db07(0xd04)]=_0x30db07(0xd06),_0xc95c39['classList']['remove'](_0x30db07(0x932));try{const _0x322969='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x505575+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3b50b2={'type':_0x30db07(0x4d4),'properties':{'keyConcepts':{'type':_0x30db07(0xea8),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x30db07(0xea8),'items':{'type':_0x30db07(0x43c)}},'stepByStepExamples':{'type':_0x30db07(0xea8),'items':{'type':_0x30db07(0x4d4),'properties':{'question':{'type':_0x30db07(0x43c)},'solution':{'type':_0x30db07(0x43c)}},'required':[_0x30db07(0x92b),_0x30db07(0xea5)]}},'teacherTips':{'type':_0x30db07(0xea8),'items':{'type':_0x30db07(0x43c)}}},'required':[_0x30db07(0xd39),'commonMistakes','stepByStepExamples',_0x30db07(0x21b)]},_0x5f4d10=await callAnalysisApi(_0x322969,_0x3b50b2);displayTeachingContent(_0x5f4d10,_0x505575);}catch(_0x26e8a9){console[_0x30db07(0x3b5)](_0x30db07(0xda8),_0x26e8a9),_0x3b2c4d[_0x30db07(0xd04)]=_0x30db07(0x745)+_0x26e8a9[_0x30db07(0x837)]+'</p>';}}function displayTeachingContent(_0x3f8c7a,_0x3f184e){const _0x2a6c62=_0x3d653b,_0x16887d=document[_0x2a6c62(0xb29)](_0x2a6c62(0x3a3));document[_0x2a6c62(0xb29)](_0x2a6c62(0x6e5))[_0x2a6c62(0x6ab)]=_0x2a6c62(0xc1e)+_0x3f184e;const _0x1b4919=_0x2a6c62(0x8f0)+_0x3f8c7a[_0x2a6c62(0xd39)][_0x2a6c62(0x643)](_0x5369f6=>_0x2a6c62(0xb06)+_0x5369f6+_0x2a6c62(0x230))[_0x2a6c62(0x87d)]('')+_0x2a6c62(0x8ce)+_0x3f8c7a[_0x2a6c62(0x6ed)]['map'](_0x20fe6a=>_0x2a6c62(0xb06)+_0x20fe6a+_0x2a6c62(0x230))[_0x2a6c62(0x87d)]('')+_0x2a6c62(0xdbf)+_0x3f8c7a[_0x2a6c62(0xa16)][_0x2a6c62(0x643)](_0x2bce1e=>_0x2a6c62(0xa3c)+_0x2bce1e[_0x2a6c62(0x92b)]+_0x2a6c62(0x3a2)+_0x2bce1e[_0x2a6c62(0xea5)]+_0x2a6c62(0x1af))[_0x2a6c62(0x87d)]('')+_0x2a6c62(0x740)+_0x3f8c7a[_0x2a6c62(0x21b)][_0x2a6c62(0x643)](_0x4d917a=>_0x2a6c62(0xb06)+_0x4d917a+_0x2a6c62(0x230))['join']('')+_0x2a6c62(0xcb6);_0x16887d[_0x2a6c62(0xd04)]=_0x1b4919;if(window[_0x2a6c62(0x348)])MathJax['typesetPromise']([_0x16887d]);}async function generateQuizForSingleTopic(_0x334717){const _0x11e1ca=_0x3d653b;console[_0x11e1ca(0xee3)](_0x11e1ca(0xa11)+_0x334717+'\x22');const _0x4b9971=document[_0x11e1ca(0xb29)](_0x11e1ca(0xb43)),_0x40c9ac=_0x4b9971[_0x11e1ca(0x4d5)]['length']>0x0?_0x4b9971[_0x11e1ca(0x4d5)][0x0]:null;let _0xf96911=null;if(_0x40c9ac)try{const _0x339f4b=new FileReader();_0x339f4b[_0x11e1ca(0x4ab)](_0x40c9ac);const _0x1ee570=await new Promise((_0x4f3e9e,_0x13b681)=>{const _0x45c49e=_0x11e1ca;_0x339f4b['onload']=()=>_0x4f3e9e(_0x339f4b[_0x45c49e(0xf1f)][_0x45c49e(0x28c)](',')[0x1]),_0x339f4b[_0x45c49e(0x476)]=_0x424c66=>_0x13b681(_0x424c66);});_0xf96911=[{'inlineData':{'mimeType':_0x40c9ac[_0x11e1ca(0x596)],'data':_0x1ee570}}];}catch(_0x3ff17d){console['error'](_0x11e1ca(0xbbc),_0x3ff17d),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x334717,null,null,_0xf96911,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0xe95b10=null){const _0x16389f=_0x3d653b,_0x461555=document[_0x16389f(0xb29)](_0x16389f(0x6dc)),_0x5f1cbb=document[_0x16389f(0xb29)](_0x16389f(0x193));let _0x4ea7af,_0x131b0a=[];if(_0xe95b10)_0x4ea7af=_0xe95b10,_0x131b0a=_0x4ea7af[_0x16389f(0x7e8)](0x2);else{const _0x4d3cd4=document['getElementById']('blueprint-upload-input'),_0x1f3e67=document[_0x16389f(0xb29)](_0x16389f(0xb43)),_0x487cc4=_0x4d3cd4[_0x16389f(0x4d5)][0x0];if(!_0x487cc4){showMessage(_0x16389f(0x21c));return;}_0x5f1cbb['textContent']=_0x16389f(0xf21);const _0x195a01=await new Promise((_0x41db5e,_0x10c4bc)=>{const _0x38e68d=_0x16389f,_0x2e401c=new FileReader();_0x2e401c[_0x38e68d(0x4ab)](_0x487cc4),_0x2e401c[_0x38e68d(0x29f)]=()=>_0x41db5e(_0x2e401c[_0x38e68d(0xf1f)][_0x38e68d(0x28c)](',')[0x1]),_0x2e401c['onerror']=_0x10c4bc;});_0x4ea7af=[{'text':_0x16389f(0xba5)},{'inlineData':{'mimeType':_0x487cc4[_0x16389f(0x596)],'data':_0x195a01}}];if(_0x1f3e67[_0x16389f(0x4d5)]['length']>0x0){const _0x3fbbb6=_0x1f3e67[_0x16389f(0x4d5)][0x0];_0x5f1cbb[_0x16389f(0x6ab)]=_0x16389f(0xcc9);const _0x3c7169=await new Promise((_0x3d4709,_0xa1c26)=>{const _0xf48097=_0x16389f,_0x4c53de=new FileReader();_0x4c53de[_0xf48097(0x4ab)](_0x3fbbb6),_0x4c53de[_0xf48097(0x29f)]=()=>_0x3d4709(_0x4c53de[_0xf48097(0xf1f)][_0xf48097(0x28c)](',')[0x1]),_0x4c53de[_0xf48097(0x476)]=_0xa1c26;}),_0x38bab7={'inlineData':{'mimeType':_0x3fbbb6['type'],'data':_0x3c7169}};_0x4ea7af[_0x16389f(0xf06)](_0x38bab7),_0x131b0a[_0x16389f(0xf06)](_0x38bab7);}}const _0x34116b=_0x16389f(0xd24),_0x57e91f=_0x16389f(0x8f8);let _0x32d6a8='';_0x131b0a&&_0x131b0a[_0x16389f(0xe84)]>0x0?_0x32d6a8=_0x34116b:_0x32d6a8=_0x57e91f;const _0x30c879=_0x16389f(0xa8f)+_0x32d6a8+_0x16389f(0x203),_0x519038={'type':_0x16389f(0x4d4),'properties':{'questionText':{'type':_0x16389f(0x43c)},'questionType':{'type':_0x16389f(0x43c),'enum':[_0x16389f(0xa08),_0x16389f(0x9d6),_0x16389f(0x80d),_0x16389f(0x76e)]},'options':{'type':_0x16389f(0xea8),'items':{'type':_0x16389f(0x43c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x16389f(0x43c)},'correctAnswer':{'type':_0x16389f(0x711)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x16389f(0x43c)}},'required':['questionType',_0x16389f(0x96c)]},_0x4d2a2e={'type':_0x16389f(0x4d4),'properties':{'topic':{'type':_0x16389f(0x43c)},'questions':{'type':_0x16389f(0xea8),'items':_0x519038}},'required':['topic',_0x16389f(0xaff)]};_0x4ea7af[0x0][_0x16389f(0x922)]=_0x30c879,await handleApiCall(_0x4ea7af,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x4d2a2e);}function proceedToNextQuestion(_0x597364){const _0x406e72=_0x3d653b;studentAnswersPerQuestion[_0x406e72(0xf06)](_0x597364),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x406e72(0xaff)][_0x406e72(0xe84)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x21ffda,_0x2d6607,_0xfbb2d4){const _0x163afa=_0x3d653b,_0x3d79a0=Object[_0x163afa(0xf02)](_0x21ffda[_0x163afa(0xe24)]||{}),_0x2bb7e1=_0x3d79a0[_0x163afa(0xe84)],_0x5cb980=_0xfbb2d4,_0x16173d=_0x21ffda[_0x163afa(0x839)]||_0x163afa(0x44f),_0x43c274=_0x16173d===_0x163afa(0x872)||_0x16173d===_0x163afa(0xf29),_0x122f20=_0x16173d===_0x163afa(0xacc)||_0x16173d===_0x163afa(0xf29),_0x3a987d=_0x21ffda[_0x163afa(0xdd0)]===!![],_0x5ed1a2=_0x16173d===_0x163afa(0xc5e),_0x3b22e0=_0x21ffda[_0x163afa(0xeb4)][_0x163afa(0xaff)],_0x4d9c92=_0x3b22e0[_0x5cb980],_0x2e9264=_0x2cdc61=>String['fromCharCode'](0x41+_0x2cdc61),_0x1c6a03=_0x3d79a0[_0x163afa(0x643)](_0x5ebaa4=>{const _0x14c693=_0x163afa,_0x2db6c0=(_0x5ebaa4['answers']||[])[_0x14c693(0x5f5)](_0x3bce9a=>{const _0x58d1cf=_0x14c693;if(_0x122f20)return _0x3bce9a[_0x58d1cf(0xa40)]<=_0x5cb980;return!![];});let _0x1018bf=0x0,_0x21713=0x0;_0x122f20?(_0x1018bf=_0x2db6c0[_0x14c693(0x5f5)](_0x9f5c79=>_0x9f5c79['isCorrect'])[_0x14c693(0xe84)],_0x21713=_0x2db6c0[_0x14c693(0x1eb)]((_0x45f1c2,_0x57b679)=>_0x45f1c2+(_0x57b679[_0x14c693(0x4cf)]||0x0),0x0)):(_0x1018bf=_0x5ebaa4[_0x14c693(0x5e3)]||0x0,_0x21713=_0x5ebaa4[_0x14c693(0xb1e)]||0x0);const _0x50501a=[..._0x2db6c0][_0x14c693(0xb9f)]((_0x5a33f3,_0x45d9f8)=>_0x5a33f3[_0x14c693(0xa40)]-_0x45d9f8[_0x14c693(0xa40)]);let _0x165cb2=0x0;return _0x50501a[_0x14c693(0x57b)](_0x433cff=>{const _0x19775f=_0x14c693,_0x3966ce=_0x433cff[_0x19775f(0x47a)]&&_0x433cff[_0x19775f(0x47a)]!=='wagerMultiplier'||_0x433cff[_0x19775f(0xe16)];_0x433cff['isCorrect']?_0x3966ce?_0x165cb2=0x0:_0x165cb2++:_0x165cb2=0x0;}),{..._0x5ebaa4,'realScore':_0x1018bf,'totalPoints':_0x21713,'answers':_0x2db6c0,'correctStreak':_0x165cb2};}),_0x25940e=Math[_0x163afa(0xd18)](..._0x1c6a03['map'](_0x593c2a=>_0x593c2a[_0x163afa(0xb1e)]),-Infinity),_0x1b712d=Math[_0x163afa(0xd18)](..._0x1c6a03[_0x163afa(0x643)](_0x1e914c=>_0x1e914c['realScore']),-Infinity),_0x543062=_0x21ffda['isBlackMarketEnabled']===!![],_0x20c578=[..._0x1c6a03]['sort']((_0x667d03,_0x5932e7)=>{const _0x9029f6=_0x163afa;if(_0x543062){const _0x279f35=_0x5932e7[_0x9029f6(0xb1e)]-_0x667d03[_0x9029f6(0xb1e)];if(_0x279f35!==0x0)return _0x279f35;const _0x77933a=_0x5932e7[_0x9029f6(0xb61)]-_0x667d03[_0x9029f6(0xb61)];if(_0x77933a!==0x0)return _0x77933a;return(_0x667d03['name']||'')['localeCompare'](_0x5932e7[_0x9029f6(0x77f)]||'','th');}else{const _0x1bb3d4=_0x5932e7['totalPoints']-_0x667d03[_0x9029f6(0xb1e)];if(_0x1bb3d4!==0x0)return _0x1bb3d4;const _0x7eee9a=_0x5932e7[_0x9029f6(0xb61)]-_0x667d03['realScore'];if(_0x7eee9a!==0x0)return _0x7eee9a;return(_0x667d03[_0x9029f6(0x77f)]||'')['localeCompare'](_0x5932e7[_0x9029f6(0x77f)]||'','th');}});let _0x3dbf50=0x1;for(let _0x357484=0x0;_0x357484<_0x20c578[_0x163afa(0xe84)];_0x357484++){if(_0x357484>0x0){const _0x412b34=_0x20c578[_0x357484-0x1],_0x124192=_0x20c578[_0x357484],_0x4c9914=_0x124192[_0x163afa(0xb1e)]===_0x412b34['totalPoints']&&_0x124192[_0x163afa(0xb61)]===_0x412b34[_0x163afa(0xb61)];!_0x4c9914&&(_0x3dbf50=_0x357484+0x1);}_0x20c578[_0x357484][_0x163afa(0xe96)]=_0x3dbf50;}let _0x62b4b2='';const _0x5277ca=!_0x5ed1a2&&!(_0x43c274&&_0x21ffda[_0x163afa(0xbf0)]===![]);if(_0x4d9c92&&_0x5277ca){let _0x3efeec='',_0x558feb='';const _0x31e61d=_0x4d9c92[_0x163afa(0xc4a)]||_0x21ffda['shuffledQuiz'][_0x163afa(0xca5)];if(_0x31e61d==='multiple_choice'&&_0x4d9c92['options']){const _0x4c792c=_0x4d9c92['correctAnswerIndex'];_0x3efeec=_0x4d9c92[_0x163afa(0x802)][_0x4c792c],_0x558feb=_0x2e9264(_0x4c792c)+'.';}else{if(_0x31e61d===_0x163afa(0x80d)){const _0xfa2cf9=String(_0x4d9c92['correctAnswer'])[_0x163afa(0xa99)]()===_0x163afa(0xa82);_0x3efeec=_0xfa2cf9?'ใช่\x20/\x20ถูก':_0x163afa(0x94c),_0x558feb=_0xfa2cf9?'ก.':'ข.';}else{if(_0x31e61d===_0x163afa(0x76e))_0x3efeec=_0x4d9c92[_0x163afa(0x500)]||'-';else(_0x31e61d===_0x163afa(0x9d6)||_0x31e61d===_0x163afa(0x2fc))&&(_0x3efeec=_0x4d9c92[_0x163afa(0x5b2)]||'-');}}_0x3efeec&&(_0x62b4b2=_0x163afa(0xb58)+(_0x5cb980+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x558feb+'\x20'+_0x3efeec+_0x163afa(0x2b8));}const _0x49d40c=_0x20c578[_0x163afa(0x643)](_0x5c1226=>{const _0x44eeef=_0x163afa,_0x35853c=_0x5c1226[_0x44eeef(0xb61)],_0x55cead=_0x5c1226[_0x44eeef(0xb1e)],_0xf039e3=(_0x5c1226[_0x44eeef(0x91f)]||[])[_0x44eeef(0xb46)](_0x2527e8=>_0x2527e8['questionIndex']===_0xfbb2d4),_0x15e0aa=_0x5c1226['answers']['length'];let _0x2408ce='';if(_0xf039e3){if(_0xf039e3[_0x44eeef(0x442)])_0x2408ce+=_0x44eeef(0x967);if(_0xf039e3['wasJinxed'])_0x2408ce+=_0x44eeef(0x631);if(_0xf039e3[_0x44eeef(0xe16)])_0x2408ce+='<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>';const _0x327aa5=_0xf039e3['powerupUsed'];if(_0x327aa5){const _0x1cda72={'poll':'📊','cutOne':'✂️','insurance':_0x44eeef(0x439),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x44eeef(0x53b)};if(_0x1cda72[_0x327aa5])_0x2408ce+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x1cda72[_0x327aa5]+'</span>';}}let _0x14869a='';const _0x3e73eb=_0x5c1226[_0x44eeef(0xb64)]||0x0,_0x21d552=_0xf039e3&&_0xf039e3[_0x44eeef(0xe16)],_0x498b20=_0xf039e3&&_0xf039e3['powerupUsed']&&_0xf039e3[_0x44eeef(0x47a)]!==_0x44eeef(0x344);!_0x5ed1a2&&_0x3e73eb>=0x3&&!_0x21d552&&!_0x498b20&&(_0x14869a+=_0x44eeef(0x605)+_0x3e73eb+_0x44eeef(0x8e8));if(!_0x5ed1a2&&_0x15e0aa>0x0){if(_0x543062){if(_0x55cead===_0x25940e&&_0x25940e>0x0)_0x14869a+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x35853c===_0x1b712d&&_0x1b712d>0x0)_0x14869a+='<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>';}else{const _0x3b27a4=_0x5c1226[_0x44eeef(0xb61)]===_0xfbb2d4+0x1;if(_0x3b27a4)_0x14869a+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x14869a===''&&_0x55cead<0x0)_0x14869a+=_0x44eeef(0x435);}let _0x23abe0=_0x44eeef(0x6f2),_0xdbb0e5=![],_0x967d4b=![];if(!_0x5ed1a2){const _0x5c1f1e=(_0x5c1226[_0x44eeef(0x91f)]||[])['find'](_0x24a524=>_0x24a524[_0x44eeef(0xa40)]===_0x5cb980);if(_0x5c1f1e){const _0x599bc9=_0x5c1f1e['isCorrect'],_0x138c9d=_0x5c1f1e[_0x44eeef(0xf12)]===!![]||_0x5c1f1e['wasConfident']===_0x44eeef(0x4b9),_0x10ec63=_0x5c1f1e[_0x44eeef(0x47a)];if(_0x10ec63===_0x44eeef(0x344))_0x599bc9?(_0x23abe0=_0x44eeef(0xe4b),_0xdbb0e5=!![]):(_0x23abe0=_0x44eeef(0xc13),_0x967d4b=!![]);else{if(_0x138c9d)_0x23abe0=_0x599bc9?_0x44eeef(0xc8c):_0x44eeef(0x2cb);else _0x599bc9&&(_0x23abe0=_0x44eeef(0x9f0));}}}let _0x9e5d4c='';const _0x316621=_0x5c1226[_0x44eeef(0x77f)],_0x2dcbc7=_0x21ffda['playerNicknames'][_0x5c1226[_0x44eeef(0x77f)]]||_0x44eeef(0x679),_0x5e4284=_0x44eeef(0xd40),_0x4ebd23='word-break:\x20break-all;',_0x242189=_0xdbb0e5?_0x44eeef(0x582):_0x44eeef(0x2c6);let _0x5ba571='';const _0x189f32=_0x55cead>=0x0?'(+'+_0x55cead['toLocaleString']()+')':'('+_0x55cead[_0x44eeef(0x901)]()+')',_0x10e913=_0x44eeef(0xe41)+_0x35853c+_0x44eeef(0x59b)+_0x189f32+'</span>';if(_0x2d6607){if(_0x43c274&&!_0x3a987d)_0x967d4b?_0x9e5d4c='<div\x20style=\x22'+_0x5e4284+'\x22\x20title=\x22'+_0x316621+'\x20('+_0x2dcbc7+_0x44eeef(0xd2e)+_0x4ebd23+'\x22>'+_0x316621+_0x44eeef(0xbe7)+_0x2408ce+'\x20'+_0x14869a+_0x44eeef(0xbeb)+_0x242189+'\x22\x20style=\x22'+_0x4ebd23+_0x44eeef(0x726)+_0x2dcbc7+')</span></div>':_0x9e5d4c=_0x44eeef(0xa76)+_0x5e4284+_0x44eeef(0x260)+_0x2dcbc7+_0x44eeef(0x3cd)+_0x4ebd23+'\x22>'+_0x2dcbc7+'</span>\x20'+_0x2408ce+'\x20'+_0x14869a+_0x44eeef(0xe78),_0x5ba571=_0x10e913;else{if(_0x43c274&&_0x3a987d)_0x9e5d4c=_0x44eeef(0xa76)+_0x5e4284+'\x22\x20title=\x22'+_0x316621+'\x22><span\x20style=\x22'+_0x4ebd23+'\x22>'+_0x316621+_0x44eeef(0xbe7)+_0x2408ce+'\x20'+_0x14869a+_0x44eeef(0xbeb)+_0x242189+'\x22\x20style=\x22'+_0x4ebd23+'\x22>('+_0x2dcbc7+_0x44eeef(0x299),_0x5ba571=_0x10e913;else _0x5ed1a2?(_0x9e5d4c=_0x44eeef(0xa76)+_0x5e4284+'\x22\x20title=\x22'+_0x316621+_0x44eeef(0x3cd)+_0x4ebd23+'\x22>'+_0x316621+'</span>\x20'+_0x2408ce+'\x20'+_0x14869a+_0x44eeef(0xe78),_0x5ba571=''):(_0x9e5d4c='<div\x20style=\x22'+_0x5e4284+_0x44eeef(0x260)+_0x316621+_0x44eeef(0x3cd)+_0x4ebd23+'\x22>'+_0x316621+'</span>\x20'+_0x2408ce+'\x20'+_0x14869a+'</div>',_0x5ba571=_0x10e913);}}return _0x44eeef(0xa2b)+_0x23abe0+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+_0x5c1226[_0x44eeef(0xe96)]+_0x44eeef(0x314)+_0x9e5d4c+_0x44eeef(0x506)+_0x5ba571+_0x44eeef(0xc6c);})[_0x163afa(0x87d)](''),_0x3af0e2=_0x3b22e0['map']((_0x4311f7,_0x39d875)=>{const _0x2e0c67=_0x163afa;if(_0x122f20&&_0x39d875>_0x5cb980||_0x5ed1a2)return'';const _0x46e9eb=_0x1c6a03[_0x2e0c67(0x5f5)](_0x3290b8=>_0x3290b8['answers']&&_0x3290b8['answers'][_0x2e0c67(0xb46)](_0x288903=>_0x288903[_0x2e0c67(0xa40)]===_0x39d875&&_0x288903[_0x2e0c67(0x1ce)]))[_0x2e0c67(0xe84)],_0x34add7=_0x39d875===_0x5cb980,_0x5f214c=_0x34add7?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':'p-2\x20bg-black/10\x20rounded-md';return _0x2e0c67(0x1a8)+_0x5f214c+_0x2e0c67(0x8a3)+(_0x39d875+0x1)+_0x2e0c67(0xba1)+_0x46e9eb+'\x20/\x20'+_0x2bb7e1+_0x2e0c67(0xd42);})[_0x163afa(0x87d)]('');let _0x3920a7='',_0x189dd8='';if(_0x2d6607){const _0x5aba3b=_0x16173d===_0x163afa(0x44f)&&_0x21ffda[_0x163afa(0x7d8)]>=_0x3b22e0[_0x163afa(0xe84)]-0x1,_0x1b57ca=_0x122f20&&_0x21ffda['reviewQuestionIndex']>=_0x3b22e0['length']-0x1,_0x2abac2=_0x16173d===_0x163afa(0xc5e)&&_0x21ffda[_0x163afa(0x7d8)]>=_0x3b22e0[_0x163afa(0xe84)]-0x1,_0x165192=_0x43c274&&!_0x122f20&&_0x21ffda[_0x163afa(0x7d8)]>=_0x3b22e0[_0x163afa(0xe84)]-0x1;if(_0x122f20)_0x1b57ca?_0x43c274&&!_0x3a987d?_0x3920a7=_0x163afa(0x7ef):_0x3920a7=_0x163afa(0xa5d):_0x3920a7=_0x163afa(0xe2e);else _0x5aba3b||_0x2abac2||_0x165192?_0x43c274&&!_0x3a987d?_0x3920a7='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x3920a7=_0x163afa(0xa5d):_0x3920a7='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';_0x189dd8=_0x163afa(0x79e);}const _0x2d47ce=_0x5ed1a2||_0x43c274&&!_0x21ffda['showAnswerInAnonymous']?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x3af0e2+_0x163afa(0x651),_0x1b4a2e=_0x5ed1a2||_0x43c274&&!_0x21ffda[_0x163afa(0xbf0)]?_0x163afa(0xe97):_0x163afa(0x9d9),_0xcd099b=_0x163afa(0x5d9)+_0x21ffda[_0x163afa(0xeb4)][_0x163afa(0xf14)]+_0x163afa(0xaa2)+_0x21ffda[_0x163afa(0xa9d)]+_0x163afa(0x3de)+_0x189dd8+_0x163afa(0x7f4)+_0x62b4b2+_0x163afa(0x424)+_0x1b4a2e+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x49d40c||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x163afa(0xe37)+_0x2d47ce+_0x163afa(0x690)+(_0x2d6607?_0x163afa(0x82a)+_0x3920a7+_0x163afa(0xe78):'')+_0x163afa(0xa7c);liveGameView[_0x163afa(0xd04)]=_0xcd099b;if(window[_0x163afa(0x348)]){const _0x4a2c30=document['getElementById'](_0x163afa(0x214));_0x4a2c30&&MathJax[_0x163afa(0x7e6)]([_0x4a2c30]);}if(_0x2d6607){const _0x3781a5=document[_0x163afa(0xb29)]('next-sync-question-btn');_0x3781a5&&(_0x3781a5[_0x163afa(0x675)]=async()=>{const _0x3ceea0=_0x163afa,_0x2f0123=doc(db,_0x3ceea0(0xc9f)+appId+_0x3ceea0(0x8d6),currentLiveGameId),_0x3afb35=_0x21ffda['currentQuestionIndex']+0x1,_0x5ae46a=_0x21ffda[_0x3ceea0(0xeb4)]['questions'][_0x3ceea0(0xe84)];!_0x122f20&&_0x3afb35<_0x5ae46a?await updateDoc(_0x2f0123,{'status':_0x3ceea0(0x92b),'currentQuestionIndex':_0x3afb35,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x2f0123,{'status':'podium'});});const _0x3202b9=document[_0x163afa(0xb29)](_0x163afa(0x339));_0x3202b9&&(_0x3202b9[_0x163afa(0x675)]=async()=>{const _0x1e1d4f=_0x163afa,_0x2e059d=doc(db,'artifacts/'+appId+_0x1e1d4f(0x8d6),currentLiveGameId);await updateDoc(_0x2e059d,{'reviewQuestionIndex':increment(0x1)});});document[_0x163afa(0xb29)](_0x163afa(0xe5e))?.[_0x163afa(0x652)](_0x163afa(0xc7b),async()=>{const _0x182d67=_0x163afa;await updateDoc(doc(db,_0x182d67(0xc9f)+appId+'/public/data/syncGames',currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5aa2b2=document['getElementById']('end-sync-game-btn');_0x5aa2b2&&(_0x5aa2b2[_0x163afa(0x675)]=()=>{const _0x496e5b=_0x163afa;showConfirmation(_0x496e5b(0xc86),async()=>{const _0x58ecf2=_0x496e5b;await updateDoc(doc(db,_0x58ecf2(0xc9f)+appId+_0x58ecf2(0x8d6),currentLiveGameId),{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x1e87e6){const _0x2b459f=_0x3d653b,_0x4ff6ee=document['getElementById']('results-tab-content'),_0xaf3c4c=document[_0x2b459f(0xb29)](_0x2b459f(0xd8e));_0xaf3c4c[_0x2b459f(0x26b)][_0x2b459f(0x224)](_0x2b459f(0x932));const _0x20b07f=_0x2b459f(0x648)+_0x1e87e6[_0x2b459f(0xf14)]+_0x2b459f(0x277);_0x4ff6ee[_0x2b459f(0xc0d)](_0x2b459f(0xbd5),_0x20b07f);const _0x3a3549=document['getElementById']('temp-loader-text-results');try{const _0x6897c2=_0x1e87e6['questions'][_0x2b459f(0x643)]((_0x111673,_0x7c0856)=>{const _0xf811a4=_0x2b459f;let _0x33b6e3=_0x7c0856+0x1+'.\x20'+(_0x111673[_0xf811a4(0x4cd)]||_0x111673[_0xf811a4(0x3bf)])+'\x0a';if(_0x111673[_0xf811a4(0x802)])_0x33b6e3+=_0x111673['options'][_0xf811a4(0x643)]((_0x40cb81,_0x256da0)=>_0xf811a4(0x40e)+(_0x256da0===_0x111673['correctAnswerIndex']?'[*]':'')+'\x20'+_0x40cb81)[_0xf811a4(0x87d)]('\x0a');else _0x111673[_0xf811a4(0x5b2)]&&(_0x33b6e3+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x111673[_0xf811a4(0x5b2)]);return _0x33b6e3;})[_0x2b459f(0x87d)]('\x0a\x0a');_0x3a3549['textContent']=_0x2b459f(0x2a4);const _0x442b72=_0x2b459f(0xe8f)+_0x1e87e6[_0x2b459f(0xf14)]+_0x2b459f(0x9a3)+_0x6897c2+_0x2b459f(0x2f3)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1ed097={'type':_0x2b459f(0x4d4),'properties':{'questionText':{'type':_0x2b459f(0x43c)},'questionType':{'type':_0x2b459f(0x43c),'enum':[_0x2b459f(0xa08),_0x2b459f(0x9d6),_0x2b459f(0x80d),_0x2b459f(0x76e)]},'options':{'type':_0x2b459f(0xea8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2b459f(0x1e3)},'idealAnswer':{'type':_0x2b459f(0x43c)},'correctAnswer':{'type':_0x2b459f(0x711)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2b459f(0x43c)},'allResponses':{'type':_0x2b459f(0xea8),'items':{'type':_0x2b459f(0x43c)}},'explanation':{'type':_0x2b459f(0x43c)},'imageCode':{'type':_0x2b459f(0x43c)}},'required':['questionType','explanation']},_0x473a78={'type':_0x2b459f(0x4d4),'properties':{'topic':{'type':_0x2b459f(0x43c)},'questions':{'type':_0x2b459f(0xea8),'items':_0x1ed097}},'required':['topic',_0x2b459f(0xaff)]},_0x5b0b5a=await callAnalysisApi(_0x442b72,_0x473a78),_0x20b945=_0x5b0b5a[_0x2b459f(0xaff)][_0x2b459f(0x643)]((_0x1aa9d0,_0x33fb65)=>({..._0x1aa9d0,'id':'q_'+Date[_0x2b459f(0xbd7)]()+'_'+_0x33fb65})),_0x40f48f='(คู่ขนาน)\x20'+_0x1e87e6['topic'],_0x5b2906={'topic':_0x40f48f,'questions':_0x20b945,'quizType':_0x1e87e6[_0x2b459f(0xca5)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2b459f(0x529)](),'status':'active','settings':_0x1e87e6[_0x2b459f(0x48b)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0xfe105c;while(!![]){_0xfe105c=Math[_0x2b459f(0x6ae)](0x3e8+Math[_0x2b459f(0xebc)]()*0x2328)['toString']();const _0x4ef979=await getDoc(doc(db,_0x2b459f(0xc9f)+appId+_0x2b459f(0xd47),_0xfe105c));if(!_0x4ef979[_0x2b459f(0x267)]())break;}await setDoc(doc(db,_0x2b459f(0xc9f)+appId+'/public/data/quizzes',_0xfe105c),_0x5b2906),showMessage(_0x2b459f(0x3bd));}catch(_0x59f5f9){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x59f5f9),showMessage(_0x2b459f(0xa19)+_0x59f5f9[_0x2b459f(0x837)]);}finally{const _0x368256=document['getElementById'](_0x2b459f(0xeed));_0x368256&&_0x368256['remove'](),_0xaf3c4c[_0x2b459f(0x26b)][_0x2b459f(0x937)](_0x2b459f(0x932));}}async function handleGenerateParallelPostTest(_0x5d9e9b){const _0x7c923=_0x3d653b,_0xdaeb87=document['getElementById'](_0x7c923(0x971)),_0x25550b=document[_0x7c923(0xb29)](_0x7c923(0xd8e));_0x25550b['classList'][_0x7c923(0x224)]('hidden');const _0x1c6d9b=_0x7c923(0x9eb);_0xdaeb87['insertAdjacentHTML'](_0x7c923(0xbd5),_0x1c6d9b);try{const _0x5a002f=_0x5d9e9b[_0x7c923(0xaff)]['map']((_0x126976,_0x1864cd)=>{const _0x4a6a45=_0x7c923;let _0x284d0a=_0x1864cd+0x1+'.\x20'+(_0x126976[_0x4a6a45(0x4cd)]||_0x126976[_0x4a6a45(0x3bf)]);if(_0x126976[_0x4a6a45(0x802)])_0x284d0a+=_0x4a6a45(0x98e)+_0x126976[_0x4a6a45(0x802)][_0x4a6a45(0x87d)](',\x20');return _0x284d0a;})[_0x7c923(0x87d)]('\x0a\x0a'),_0x1ce1e1=_0x7c923(0xefa)+_0x5d9e9b[_0x7c923(0xf14)]+_0x7c923(0xe1e)+_0x5a002f+_0x7c923(0x936)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5e0dac={'type':'OBJECT','properties':{'topic':{'type':_0x7c923(0x43c)},'questions':{'type':'ARRAY','items':{'type':_0x7c923(0x4d4),'properties':{'questionText':{'type':_0x7c923(0x43c)},'questionType':{'type':_0x7c923(0x43c)},'options':{'type':_0x7c923(0xea8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x7c923(0x43c)},'explanation':{'type':'STRING'}},'required':[_0x7c923(0x4cd),_0x7c923(0x96c)]}}},'required':[_0x7c923(0xf14),_0x7c923(0xaff)]},_0x3fe87b=await callAnalysisApi(_0x1ce1e1,_0x5e0dac),_0x2832ab=_0x5d9e9b[_0x7c923(0xf14)][_0x7c923(0x502)](_0x7c923(0x53a),'')[_0x7c923(0x46f)](),_0x6b0eef='(หลังเรียน)\x20'+_0x2832ab,_0x3a2cf0={..._0x3fe87b,'topic':_0x6b0eef,'quizType':_0x5d9e9b[_0x7c923(0xca5)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x7c923(0x529)](),'status':_0x7c923(0xd63),'settings':_0x5d9e9b[_0x7c923(0x48b)],'quizMode':_0x7c923(0xc8d),'pairedQuizId':_0x5d9e9b['id']};let _0x4bc3fd;while(!![]){_0x4bc3fd=Math[_0x7c923(0x6ae)](0x3e8+Math[_0x7c923(0xebc)]()*0x2328)['toString']();const _0x44710b=await getDoc(doc(db,_0x7c923(0xc9f)+appId+_0x7c923(0xd47),_0x4bc3fd));if(!_0x44710b[_0x7c923(0x267)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x7c923(0xd47),_0x4bc3fd),_0x3a2cf0);const _0x4ddbce=doc(db,_0x7c923(0xc9f)+appId+_0x7c923(0xd47),_0x5d9e9b['id']);await updateDoc(_0x4ddbce,{'pairedQuizId':_0x4bc3fd}),showMessage(_0x7c923(0x887));}catch(_0x488aa1){console[_0x7c923(0x3b5)]('Error\x20generating\x20parallel\x20post-test:',_0x488aa1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x488aa1[_0x7c923(0x837)]);}finally{const _0x5da1b3=document[_0x7c923(0xb29)](_0x7c923(0xeed));if(_0x5da1b3)_0x5da1b3[_0x7c923(0x937)]();_0x25550b[_0x7c923(0x26b)][_0x7c923(0x937)](_0x7c923(0x932));}}async function handleGenerateParallelTest(_0x1911e5=null){const _0x271965=_0x3d653b;let _0x3c89c5=_0x1911e5;if(!_0x3c89c5){const _0x402d13=document[_0x271965(0xb29)](_0x271965(0x598));_0x402d13[_0x271965(0x4d5)][_0x271965(0xe84)]>0x0&&(_0x3c89c5=_0x402d13[_0x271965(0x4d5)][0x0]);}if(!_0x3c89c5){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x18dcc9=document['getElementById'](_0x271965(0x6dc)),_0x8edb4b=document[_0x271965(0xb29)](_0x271965(0x193)),_0x32c38a=document[_0x271965(0xb29)](_0x271965(0xf24)),_0x31062f=document['getElementById'](_0x271965(0xc73));_0x31062f[_0x271965(0xeee)]=!![],document['getElementById'](_0x271965(0xe8e))[_0x271965(0x26b)][_0x271965(0x937)]('hidden'),_0x32c38a['innerHTML']='',_0x18dcc9['classList'][_0x271965(0x937)](_0x271965(0x932)),_0x8edb4b[_0x271965(0x6ab)]=_0x271965(0xeea);const _0x2282dd=new FileReader();_0x2282dd[_0x271965(0x4ab)](_0x3c89c5),_0x2282dd[_0x271965(0x29f)]=async()=>{const _0x42fc22=_0x271965;try{const _0x133e54=_0x2282dd['result']['split'](',')[0x1],_0xbba231=_0x3c89c5[_0x42fc22(0x596)];_0x8edb4b['textContent']=_0x42fc22(0x487);const _0x148080=document['getElementById']('include-images-checkbox')['checked'],_0x140996=_0x148080?_0x42fc22(0x6d5):'',_0x5e5cf9=_0x42fc22(0x89b),_0x3dd662={'type':_0x42fc22(0x4d4),'properties':{'questionText':{'type':_0x42fc22(0x43c)},'questionType':{'type':_0x42fc22(0x43c),'enum':['multiple_choice',_0x42fc22(0x9d6)]},'options':{'type':'ARRAY','items':{'type':_0x42fc22(0x43c)}},'correctAnswerIndex':{'type':_0x42fc22(0x1e3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x42fc22(0x43c)}},'required':[_0x42fc22(0x4cd),_0x42fc22(0xc4a),_0x42fc22(0x96c)]},_0x22ca5a={'type':_0x42fc22(0x4d4),'properties':{'topic':{'type':_0x42fc22(0x43c)},'questions':{'type':'ARRAY','items':_0x3dd662}},'required':['topic',_0x42fc22(0xaff)]},_0x285052=[{'text':_0x5e5cf9},{'inlineData':{'mimeType':_0xbba231,'data':_0x133e54}}];await handleApiCall(_0x285052,_0x42fc22(0x4a4),_0x22ca5a);}catch(_0x1eb732){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x1eb732),showMessage(_0x42fc22(0xa19)+_0x1eb732[_0x42fc22(0x837)]),_0x32c38a[_0x42fc22(0xd04)]=_0x42fc22(0x4dc);}finally{_0x18dcc9['classList']['add'](_0x42fc22(0x932)),_0x31062f[_0x42fc22(0xeee)]=![];}},_0x2282dd[_0x271965(0x476)]=_0x2ea0cd=>{const _0x47171d=_0x271965;console['error']('FileReader\x20error:',_0x2ea0cd),showMessage(_0x47171d(0x6c5)),_0x18dcc9['classList'][_0x47171d(0x224)](_0x47171d(0x932)),_0x31062f[_0x47171d(0xeee)]=![];};}async function handleRegenerateQuestionInEditor(_0x3e91c5){const _0x35f1e2=_0x3d653b;if(currentEditingQuizData===null)return;const _0x490851=document[_0x35f1e2(0x327)](_0x35f1e2(0x82b)+_0x3e91c5+'\x22]');_0x490851&&(_0x490851[_0x35f1e2(0xd04)]=_0x35f1e2(0xeb8));const _0x3370b0=currentEditingQuizData['questions'][_0x3e91c5],_0xf5e70c=currentEditingQuizData[_0x35f1e2(0xf14)],_0x4171ca=_0x3370b0[_0x35f1e2(0xc4a)],_0x155a2e={'type':_0x35f1e2(0x4d4),'properties':{'questionText':{'type':_0x35f1e2(0x43c)},'options':{'type':_0x35f1e2(0xea8),'items':{'type':_0x35f1e2(0x43c)}},'correctAnswerIndex':{'type':_0x35f1e2(0x1e3)},'explanation':{'type':_0x35f1e2(0x43c)}},'required':[_0x35f1e2(0x4cd),'options',_0x35f1e2(0x857),_0x35f1e2(0x96c)]},_0x406f2a={'type':_0x35f1e2(0x4d4),'properties':{'questionText':{'type':_0x35f1e2(0x43c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x35f1e2(0x43c)}},'required':['questionText',_0x35f1e2(0x5b2),_0x35f1e2(0x96c)]};let _0xd34299,_0x4ceed3='';_0x4171ca==='multiple_choice'?(_0xd34299=_0x155a2e,_0x4ceed3=_0x35f1e2(0x5cd)):(_0xd34299=_0x406f2a,_0x4ceed3=_0x35f1e2(0xc98));const _0x5ebbe5=_0x35f1e2(0x7cf)+_0xf5e70c+_0x35f1e2(0x240)+_0x4ceed3+_0x35f1e2(0xdb1)+(_0x3370b0[_0x35f1e2(0x4cd)]||_0x3370b0['stem'])+_0x35f1e2(0x5e9)+simpleMathPrompt;try{const _0x1d9475=await callAnalysisApi(_0x5ebbe5,_0xd34299);currentEditingQuizData[_0x35f1e2(0xaff)][_0x3e91c5]={..._0x3370b0,..._0x1d9475},renderQuizEditor(currentEditingQuizData);}catch(_0x21645b){console['error'](_0x35f1e2(0xed5),_0x21645b),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x37f54e=_0x3d653b,_0x258c25=document[_0x37f54e(0xb29)]('mode-switcher-btn');currentMode==='student'?(currentMode=_0x37f54e(0x223),_0x258c25[_0x37f54e(0xd04)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x258c25['title']=_0x37f54e(0xb6c),showView(_0x37f54e(0x2c2))):(currentMode=_0x37f54e(0x4d8),_0x258c25[_0x37f54e(0xd04)]=_0x37f54e(0xdf7),_0x258c25[_0x37f54e(0x3c9)]=_0x37f54e(0x88d),showView(_0x37f54e(0x4d8)));}function handleAdminLogin(){const _0x453f40=_0x3d653b,_0x1680ea=document[_0x453f40(0xb29)](_0x453f40(0xe1c)),_0xdef889=document[_0x453f40(0xb29)](_0x453f40(0xa48));if(_0x1680ea[_0x453f40(0xc4b)]===_0x453f40(0xcfd)){adminPasswordModal[_0x453f40(0x26b)][_0x453f40(0x224)](_0x453f40(0x932)),_0x1680ea['value']='',_0xdef889[_0x453f40(0x26b)][_0x453f40(0x224)](_0x453f40(0x932)),currentMode=_0x453f40(0x223);const _0x468c48=document['getElementById'](_0x453f40(0x639));_0x468c48[_0x453f40(0xd04)]=_0x453f40(0xe0b),_0x468c48[_0x453f40(0x3c9)]=_0x453f40(0xb6c),showView(_0x453f40(0x2c2));}else _0xdef889['classList'][_0x453f40(0x937)]('hidden'),_0x1680ea[_0x453f40(0xc4b)]='';}function switchProjectTab(_0x45f47a){const _0x14d7e3=_0x3d653b;['manage',_0x14d7e3(0xa01),'leaderboard']['forEach'](_0x1e80c9=>{const _0xf84657=_0x14d7e3;document['getElementById'](_0x1e80c9+_0xf84657(0x905))[_0xf84657(0x26b)][_0xf84657(0x937)](_0xf84657(0xd63)),document[_0xf84657(0xb29)](_0x1e80c9+_0xf84657(0xc93))[_0xf84657(0x26b)][_0xf84657(0x224)]('hidden');}),document[_0x14d7e3(0xb29)](_0x45f47a+_0x14d7e3(0x905))['classList'][_0x14d7e3(0x224)](_0x14d7e3(0xd63)),document[_0x14d7e3(0xb29)](_0x45f47a+_0x14d7e3(0xc93))[_0x14d7e3(0x26b)][_0x14d7e3(0x937)](_0x14d7e3(0x932));}function switchQuizDetailTab(_0x954e5e){const _0x544860=_0x3d653b,_0x474552={'analytics':{'btn':_0x544860(0xc89),'content':_0x544860(0x4df)},'scores':{'btn':_0x544860(0x1b4),'content':_0x544860(0x6f5)},'leaderboard-quiz':{'btn':_0x544860(0x6c6),'content':_0x544860(0x509)},'behavior-log':{'btn':_0x544860(0x42f),'content':_0x544860(0xcee)}};for(const _0x56dc58 in _0x474552){document[_0x544860(0xb29)](_0x474552[_0x56dc58][_0x544860(0x3c0)])[_0x544860(0x26b)][_0x544860(0x937)](_0x544860(0xd63)),document['getElementById'](_0x474552[_0x56dc58][_0x544860(0x220)])[_0x544860(0x26b)][_0x544860(0x224)](_0x544860(0x932));}document['getElementById'](_0x474552[_0x954e5e]['btn'])['classList']['add']('active'),document[_0x544860(0xb29)](_0x474552[_0x954e5e][_0x544860(0x220)])[_0x544860(0x26b)][_0x544860(0x937)](_0x544860(0x932));}function showMessage(_0x4873a0,_0x5d34dc=null){const _0x22a484=_0x3d653b;modalMessage[_0x22a484(0xd04)]=_0x4873a0[_0x22a484(0x502)](/\n/g,'<br>'),modalConfirmAction=_0x5d34dc,messageModal[_0x22a484(0x26b)][_0x22a484(0x937)](_0x22a484(0x932));}function showConfirmation(_0x8fc595,_0x478dbc,_0x200c3c=null){const _0x38b203=_0x3d653b;document[_0x38b203(0xb29)](_0x38b203(0x3b7))[_0x38b203(0x6ab)]=_0x8fc595,document[_0x38b203(0xb29)](_0x38b203(0x56e))['querySelector']('h3')[_0x38b203(0x6ab)]=_0x38b203(0x86c),confirmAction=_0x478dbc,cancelAction=_0x200c3c,confirmationModal[_0x38b203(0x26b)]['remove'](_0x38b203(0x932));}function listenForProjects(){const _0x1e0b16=_0x3d653b,_0x443273=doc(db,_0x1e0b16(0x445),_0x1e0b16(0x6f8));onSnapshot(_0x443273,_0x333643=>{const _0x41ab70=_0x1e0b16;if(_0x333643[_0x41ab70(0x267)]()){const _0x388c6e=_0x333643[_0x41ab70(0xcbd)]();globalDashboardSettings[_0x41ab70(0x319)]=_0x388c6e[_0x41ab70(0x319)]||_0x41ab70(0x8ea),globalDashboardSettings[_0x41ab70(0xa68)]=_0x388c6e[_0x41ab70(0xa68)]||[],globalDashboardSettings[_0x41ab70(0xb40)]=_0x388c6e[_0x41ab70(0xb40)]||[];}allProjects[_0x41ab70(0xe84)]>0x0&&renderProjects();});const _0x729a9a=collection(db,'artifacts/'+appId+_0x1e0b16(0x8ef));unsubscribeProjectsListener=onSnapshot(_0x729a9a,_0x390fad=>{const _0x3155ef=_0x1e0b16;allProjects=_0x390fad[_0x3155ef(0x574)]['map'](_0x18f3ed=>({'id':_0x18f3ed['id'],..._0x18f3ed['data']()})),renderProjects();},_0x5ef891=>{const _0x288a32=_0x1e0b16;console['error'](_0x288a32(0xa69),_0x5ef891),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0xb00a9a,_0x2ecbc3){const _0x41c01f=_0x3d653b;document['querySelectorAll'](_0x41c01f(0x6b7))[_0x41c01f(0x57b)](_0x328d8c=>_0x328d8c['remove']());const _0x25bbfc=[_0x41c01f(0xe4c),_0x41c01f(0x91a),'#FEF3C7',_0x41c01f(0x475),_0x41c01f(0x409),_0x41c01f(0xaf2),'#F3E8FF',_0x41c01f(0xc18),_0x41c01f(0xe3a)],_0x1fc29a=document['createElement'](_0x41c01f(0xe00));_0x1fc29a[_0x41c01f(0x48c)]=_0x41c01f(0x7e3),_0x25bbfc['forEach'](_0x3b6310=>{const _0x33f9a4=_0x41c01f,_0x5c52bd=document[_0x33f9a4(0x712)](_0x33f9a4(0xe00));_0x5c52bd[_0x33f9a4(0x48c)]=_0x33f9a4(0x415),_0x5c52bd[_0x33f9a4(0xa90)][_0x33f9a4(0x5ce)]=_0x3b6310,_0x5c52bd[_0x33f9a4(0x652)](_0x33f9a4(0xc7b),()=>{handleProjectColorChange(_0x2ecbc3,_0x3b6310),_0x1fc29a['remove']();}),_0x1fc29a[_0x33f9a4(0xd62)](_0x5c52bd);}),document['body'][_0x41c01f(0xd62)](_0x1fc29a);const _0x524855=_0xb00a9a['getBoundingClientRect']();_0x1fc29a[_0x41c01f(0xa90)]['top']=_0x524855[_0x41c01f(0xdff)]+window[_0x41c01f(0x6a8)]+'px',_0x1fc29a[_0x41c01f(0xa90)][_0x41c01f(0x43e)]=_0x524855['left']+window[_0x41c01f(0x8f1)]-_0x1fc29a[_0x41c01f(0x32a)]/0x2+'px';}async function handleProjectColorChange(_0x53087e,_0xd68401){const _0x40825f=_0x3d653b,_0x546fb2=doc(db,_0x40825f(0xc9f)+appId+'/public/data/projects',_0x53087e);try{await updateDoc(_0x546fb2,{'color':_0xd68401});}catch(_0x25bac0){console[_0x40825f(0x3b5)](_0x40825f(0x7db),_0x25bac0),showMessage(_0x40825f(0x658));}}async function renderProjects(){const _0xb0947d=_0x3d653b,_0x29696b=globalDashboardSettings['projectSort']||_0xb0947d(0x8ea),_0x9b5cbd=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x3d9482=globalDashboardSettings[_0xb0947d(0x330)]||'grid',_0x2fc212=document['getElementById'](_0xb0947d(0x707)),_0x440575=document['getElementById'](_0xb0947d(0x6a5));_0x2fc212['classList']['toggle'](_0xb0947d(0xd63),_0x3d9482===_0xb0947d(0x4d6)),_0x440575[_0xb0947d(0x26b)][_0xb0947d(0xc28)](_0xb0947d(0xd63),_0x3d9482==='list'),document[_0xb0947d(0xb29)](_0xb0947d(0x419))['value']=_0x29696b;const _0x3116c1=document[_0xb0947d(0xb29)]('project-search-input')['value']['toLowerCase']();let _0x542323=allProjects[_0xb0947d(0x5f5)](_0x1db6b6=>_0x1db6b6[_0xb0947d(0xa05)]['toLowerCase']()['includes'](_0x3116c1));const _0x5f1cc0=_0x542323[_0xb0947d(0x5f5)](_0x1aa8c1=>_0x9b5cbd[_0xb0947d(0xf27)](_0x1aa8c1['id'])),_0x54190a=_0x542323[_0xb0947d(0x5f5)](_0xcba80c=>!_0x9b5cbd['has'](_0xcba80c['id'])),_0x1362dd=(_0x94e18d,_0x4feb8d)=>{const _0x4f4547=_0xb0947d;switch(_0x29696b){case _0x4f4547(0x187):return _0x94e18d['projectName'][_0x4f4547(0x390)](_0x4feb8d[_0x4f4547(0xa05)],'th');case _0x4f4547(0x3f4):return _0x4feb8d[_0x4f4547(0xa05)]['localeCompare'](_0x94e18d['projectName'],'th');case'date_asc':return new Date(_0x94e18d[_0x4f4547(0x292)])-new Date(_0x4feb8d[_0x4f4547(0x292)]);default:return new Date(_0x4feb8d[_0x4f4547(0x292)])-new Date(_0x94e18d[_0x4f4547(0x292)]);}};_0x5f1cc0['sort'](_0x1362dd),_0x54190a[_0xb0947d(0xb9f)](_0x1362dd);const _0x47cee8=[..._0x5f1cc0,..._0x54190a],_0x136860=globalDashboardSettings[_0xb0947d(0xb40)]||[];_0x136860[_0xb0947d(0xe84)]>0x0&&_0x3d9482===_0xb0947d(0x4d6)&&_0x47cee8[_0xb0947d(0xb9f)]((_0x58f470,_0x4c8199)=>{const _0x134de8=_0xb0947d,_0x2906b7=_0x136860[_0x134de8(0x629)](_0x58f470['id']),_0x20ccdb=_0x136860['indexOf'](_0x4c8199['id']);if(_0x2906b7===-0x1)return 0x1;if(_0x20ccdb===-0x1)return-0x1;return _0x2906b7-_0x20ccdb;});const _0x124b88={};await Promise[_0xb0947d(0x689)](_0x47cee8['map'](async _0x5e5c11=>{const _0x58b896=_0xb0947d,_0x95b8b5=query(collection(db,_0x58b896(0xc9f)+appId+_0x58b896(0xd47)),where('projectId','==',_0x5e5c11['id'])),_0x420975=await getCountFromServer(_0x95b8b5);_0x124b88[_0x5e5c11['id']]=_0x420975[_0x58b896(0xcbd)]()[_0x58b896(0x1f2)];}));const _0x258cf9=document['getElementById'](_0xb0947d(0x533));let _0x27c5a7='';if(_0x3d9482===_0xb0947d(0x4d6)){_0x258cf9[_0xb0947d(0x48c)]=_0xb0947d(0x9b1);if(starredQuizzes[_0xb0947d(0xe84)]>0x0&&_0x3116c1===''){const _0x410ded=starredQuizzes[_0xb0947d(0x643)](_0x2271ee=>{const _0x65db75=_0xb0947d,_0x4634fe=allProjects[_0x65db75(0xb46)](_0x591a57=>_0x591a57['id']===_0x2271ee[_0x65db75(0x6c4)]);return{..._0x2271ee,'projectName':_0x4634fe?_0x4634fe[_0x65db75(0xa05)]:'N/A'};});_0x27c5a7+=_0xb0947d(0xa0f)+_0x410ded['map'](_0x270618=>_0xb0947d(0xcb9)+_0x270618['topic']+'\x22>'+_0x270618['topic']+_0xb0947d(0xd12)+_0x270618[_0xb0947d(0xa05)]+'\x22>จาก:\x20'+_0x270618['projectName']+_0xb0947d(0x2a3))['join']('')+_0xb0947d(0xc01)+starredQuizzes[_0xb0947d(0xe84)]+_0xb0947d(0xa04);}_0x47cee8[_0xb0947d(0x57b)](_0x616683=>{const _0x23bb33=_0xb0947d,_0x3d8f14=_0x124b88[_0x616683['id']]??0x0,_0x4cdf27=_0x9b5cbd[_0x23bb33(0xf27)](_0x616683['id']),_0x31d52b=_0x616683[_0x23bb33(0x4ef)]||_0x23bb33(0xe4c),_0x1b0a8d=parseInt(_0x31d52b[_0x23bb33(0x232)](0x1,0x3),0x10)*0.299+parseInt(_0x31d52b[_0x23bb33(0x232)](0x3,0x5),0x10)*0.587+parseInt(_0x31d52b[_0x23bb33(0x232)](0x5,0x7),0x10)*0.114<0xba,_0x1492e8=_0x1b0a8d?_0x23bb33(0xaa6):_0x23bb33(0xdf9),_0x770b16=_0x1b0a8d?_0x23bb33(0x25d):_0x23bb33(0xcdd);_0x27c5a7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x4cdf27?_0x23bb33(0x3e7):_0x23bb33(0xbd4))+_0x23bb33(0xddd)+_0x31d52b+_0x23bb33(0xead)+_0x616683['id']+_0x23bb33(0xee6)+_0x616683['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x1b0a8d?'text-gray-300\x20hover:text-white':_0x23bb33(0xdda))+_0x23bb33(0x58f)+_0x616683['id']+_0x23bb33(0xe09)+(_0x1b0a8d?_0x23bb33(0x84b):_0x23bb33(0xdda))+_0x23bb33(0xb0e)+(_0x4cdf27?_0x1b0a8d?'text-yellow-300':'text-indigo-600':'')+_0x23bb33(0x498)+_0x616683['id']+_0x23bb33(0xc32)+_0x1492e8+_0x23bb33(0x833)+_0x616683[_0x23bb33(0xa05)]+_0x23bb33(0x81b)+_0x770b16+_0x23bb33(0xd8c)+new Date(_0x616683[_0x23bb33(0x292)])['toLocaleDateString'](_0x23bb33(0x6d3))+_0x23bb33(0x633)+(_0x1b0a8d?_0x23bb33(0xab6):'text-gray-700')+_0x23bb33(0x495)+_0x3d8f14+_0x23bb33(0x5e1)+_0x616683['id']+'\x22\x20data-name=\x22'+_0x616683[_0x23bb33(0xa05)]+_0x23bb33(0x995)+(_0x1b0a8d?_0x23bb33(0xa00):_0x23bb33(0xee8))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x258cf9[_0xb0947d(0x48c)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0xb0947d(0xe84)]>0x0&&_0x3116c1===''&&(_0x27c5a7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0xb0947d(0xe84)]+_0xb0947d(0xc42)),_0x27c5a7+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x47cee8[_0xb0947d(0x57b)](_0x5da4ca=>{const _0x7bb995=_0xb0947d,_0x37d991=_0x124b88[_0x5da4ca['id']]??0x0,_0x20e2f5=_0x9b5cbd[_0x7bb995(0xf27)](_0x5da4ca['id']);_0x27c5a7+=_0x7bb995(0xdb0)+(_0x5da4ca['color']||'#E5E7EB')+_0x7bb995(0xa42)+_0x5da4ca['id']+_0x7bb995(0x43d)+_0x5da4ca[_0x7bb995(0xa05)]+_0x7bb995(0x1b8)+_0x37d991+_0x7bb995(0x8e1)+new Date(_0x5da4ca['createdAt'])[_0x7bb995(0x901)](_0x7bb995(0x6d3))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5da4ca['id']+_0x7bb995(0xafa)+(_0x20e2f5?_0x7bb995(0x7ec):'')+_0x7bb995(0x88c)+_0x5da4ca['id']+'\x22\x20data-name=\x22'+_0x5da4ca[_0x7bb995(0xa05)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});_0x258cf9[_0xb0947d(0xd04)]=_0x27c5a7,noProjectsMsg[_0xb0947d(0x26b)][_0xb0947d(0xc28)](_0xb0947d(0x932),_0x27c5a7[_0xb0947d(0xe84)]>0x0);}document[_0x3d653b(0xb29)](_0x3d653b(0xd9b))['addEventListener'](_0x3d653b(0xc7b),async()=>{const _0x33e78e=_0x3d653b,_0x3f7a0e=document[_0x33e78e(0xb29)](_0x33e78e(0xc2b)),_0x352245=_0x3f7a0e[_0x33e78e(0xc4b)][_0x33e78e(0x46f)]();if(!_0x352245){showMessage(_0x33e78e(0x9e5));return;}try{const _0x1ad4b2=doc(collection(db,_0x33e78e(0xc9f)+appId+_0x33e78e(0x8ef)));await setDoc(_0x1ad4b2,{'projectName':_0x352245,'students':[],'settings':{'resultsDisplay':_0x33e78e(0xa83),'shuffleSetting':_0x33e78e(0x1a6),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x33e78e(0x1a6),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x33e78e(0x529)]()}),_0x3f7a0e[_0x33e78e(0xc4b)]='',createProjectModal['classList'][_0x33e78e(0x224)](_0x33e78e(0x932)),showMessage(_0x33e78e(0x4ee));}catch(_0x471b54){console[_0x33e78e(0x3b5)](_0x33e78e(0x402),_0x471b54),showMessage(_0x33e78e(0x3c4));}}),projectList[_0x3d653b(0x652)]('click',async _0x57cf30=>{const _0x26fc92=_0x3d653b,_0x17f9c6=_0x57cf30[_0x26fc92(0xadf)][_0x26fc92(0x2e3)](_0x26fc92(0x320)),_0x3d7ca5=_0x57cf30[_0x26fc92(0xadf)][_0x26fc92(0x2e3)](_0x26fc92(0x345)),_0x42671e=_0x57cf30['target'][_0x26fc92(0x2e3)](_0x26fc92(0x357)),_0x12cab0=_0x57cf30['target'][_0x26fc92(0x2e3)]('.color-palette-btn');if(_0x42671e){const _0x2b974e=_0x42671e['dataset']['id'],_0x134cd3=doc(db,_0x26fc92(0x445),_0x26fc92(0x6f8)),_0x4fe098=globalDashboardSettings[_0x26fc92(0xa68)];let _0x157e7b;_0x4fe098[_0x26fc92(0xecb)](_0x2b974e)?_0x157e7b=_0x4fe098[_0x26fc92(0x5f5)](_0x979a01=>_0x979a01!==_0x2b974e):_0x157e7b=[..._0x4fe098,_0x2b974e];try{await setDoc(_0x134cd3,{'pinnedProjects':_0x157e7b},{'merge':!![]});}catch(_0x1a298f){console[_0x26fc92(0x3b5)]('Error\x20updating\x20pin\x20status:',_0x1a298f),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x12cab0){const _0x7c7b0f=_0x12cab0[_0x26fc92(0x63c)]['id'];showColorPalette(_0x12cab0,_0x7c7b0f);}else{if(_0x17f9c6){const _0x5b98c2=_0x17f9c6['dataset']['id'];_0x5b98c2==='starred-project'?showStarredProjectView():(currentProjectId=_0x5b98c2,await loadProjectDetails(currentProjectId),showView(_0x26fc92(0xcf3)));}else{if(_0x3d7ca5){const _0x5d3a1a=_0x3d7ca5[_0x26fc92(0x63c)]['id'],_0x499b44=_0x3d7ca5['dataset']['name'];showConfirmation(_0x26fc92(0xcad)+_0x499b44+_0x26fc92(0x691),()=>handleDeleteProject(_0x5d3a1a));}}}}}),projectList[_0x3d653b(0x652)](_0x3d653b(0x49d),_0x1c859a=>{const _0x565bf9=_0x3d653b,_0x59c1c1=_0x1c859a[_0x565bf9(0xadf)][_0x565bf9(0x2e3)](_0x565bf9(0x63e));_0x59c1c1&&_0x59c1c1['classList'][_0x565bf9(0x224)](_0x565bf9(0xaa1));}),projectList[_0x3d653b(0x652)]('dragend',_0x84344=>{const _0x19675e=_0x3d653b,_0x31eb16=_0x84344['target'][_0x19675e(0x2e3)](_0x19675e(0x63e));_0x31eb16&&_0x31eb16[_0x19675e(0x26b)][_0x19675e(0x937)](_0x19675e(0xaa1));}),projectList[_0x3d653b(0x652)](_0x3d653b(0x653),_0x25eaf4=>{const _0x3808ce=_0x3d653b;_0x25eaf4[_0x3808ce(0x486)]();const _0x2a6a2b=document[_0x3808ce(0x327)](_0x3808ce(0x23e));if(!_0x2a6a2b)return;const _0xdac99a=getDragAfterElement(projectList,_0x25eaf4[_0x3808ce(0xc72)]);_0xdac99a==null?projectList['appendChild'](_0x2a6a2b):projectList['insertBefore'](_0x2a6a2b,_0xdac99a);}),projectList[_0x3d653b(0x652)](_0x3d653b(0x6fe),_0x35d2af=>{const _0x37b55c=_0x3d653b;_0x35d2af[_0x37b55c(0x486)]();const _0x2054a4=[...projectList[_0x37b55c(0x948)](_0x37b55c(0x4ac))][_0x37b55c(0x643)](_0x162537=>_0x162537[_0x37b55c(0x63c)]['id']);saveProjectOrder(_0x2054a4);});function renderBehaviorLog(_0x5ab8fe){const _0x5c87b2=_0x3d653b,_0x2c3497=document[_0x5c87b2(0xb29)](_0x5c87b2(0x894));if(!_0x2c3497)return;const _0x55c6be=_0x5ab8fe['filter'](_0x25e4b0=>_0x25e4b0[_0x5c87b2(0xe83)]&&_0x25e4b0[_0x5c87b2(0xe83)][_0x5c87b2(0xe84)]>0x0);if(_0x55c6be[_0x5c87b2(0xe84)]===0x0){_0x2c3497[_0x5c87b2(0xd04)]=_0x5c87b2(0xef7);return;}let _0x28e279='';_0x55c6be['forEach'](_0x3c418d=>{const _0x740fc0=_0x5c87b2;_0x28e279+=_0x740fc0(0x5ad)+_0x3c418d[_0x740fc0(0xb34)]+_0x740fc0(0x2ce),_0x3c418d[_0x740fc0(0xe83)][_0x740fc0(0xb9f)]((_0x3b39d6,_0x397239)=>new Date(_0x397239['timestamp'])-new Date(_0x3b39d6[_0x740fc0(0x716)]))[_0x740fc0(0x57b)](_0x2f3734=>{const _0xa75295=_0x740fc0,_0xd8f2a1=new Date(_0x2f3734[_0xa75295(0x716)])['toLocaleString']('th-TH',{'dateStyle':_0xa75295(0xad5),'timeStyle':_0xa75295(0xa31)});_0x28e279+=_0xa75295(0xaab)+_0x2f3734['attemptNumber']+_0xa75295(0x796)+_0xd8f2a1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x28e279+=_0x740fc0(0xce9);}),_0x2c3497['innerHTML']=_0x28e279;}function getDragAfterElement(_0x36e08e,_0xed3451){const _0x5966e0=_0x3d653b,_0x36ea40=[..._0x36e08e['querySelectorAll'](_0x5966e0(0xa8e))];return _0x36ea40[_0x5966e0(0x1eb)]((_0x2943b7,_0x55b40f)=>{const _0x195f8e=_0x5966e0,_0x22e476=_0x55b40f[_0x195f8e(0x561)](),_0x4e1e0b=_0xed3451-_0x22e476[_0x195f8e(0x290)]-_0x22e476[_0x195f8e(0x674)]/0x2;return _0x4e1e0b<0x0&&_0x4e1e0b>_0x2943b7[_0x195f8e(0x181)]?{'offset':_0x4e1e0b,'element':_0x55b40f}:_0x2943b7;},{'offset':Number['NEGATIVE_INFINITY']})[_0x5966e0(0x530)];}async function saveProjectOrder(_0x16f402){const _0x54bef0=_0x3d653b,_0x4973ba=doc(db,_0x54bef0(0x445),_0x54bef0(0x6f8));try{await setDoc(_0x4973ba,{'projectOrder':_0x16f402},{'merge':!![]});}catch(_0x294277){console['error']('Error\x20saving\x20project\x20order:',_0x294277),showMessage(_0x54bef0(0x725));}}async function logBehaviorEvent(_0x24097f,_0x2b2101={}){const _0x294c34=_0x3d653b;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x294c34(0x395)](_0x294c34(0x68f));return;}const _0x306c30=doc(db,_0x294c34(0xc9f)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions',currentStudentName),_0x52745b={'event':_0x24097f,'timestamp':new Date()[_0x294c34(0x529)](),..._0x2b2101};try{await updateDoc(_0x306c30,{'behaviorLog':arrayUnion(_0x52745b)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x294c34(0x50b));}catch(_0x50b5ca){_0x50b5ca[_0x294c34(0x5aa)]===_0x294c34(0x8d2)?console[_0x294c34(0x395)](_0x294c34(0xe80)+currentStudentName+_0x294c34(0xd31)):console[_0x294c34(0x3b5)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x50b5ca);}}function getScoreTier(_0x575d54,_0x2a7576){const _0x5d4b89=_0x3d653b;if(_0x2a7576===0x0){if(_0x575d54===0x0)return{'text':_0x5d4b89(0xda5),'icon':'⏳'};return{'text':_0x5d4b89(0x841),'icon':'😥'};}const _0x492f69=_0x575d54/(_0x2a7576===0x0?0x1:_0x2a7576);if(_0x492f69===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x492f69>=0.7)return{'text':_0x5d4b89(0x94b),'icon':'🔥'};if(_0x492f69>=0.4)return{'text':_0x5d4b89(0xebd),'icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0x419fce){const _0x206336=_0x3d653b;if(_0x419fce[_0x206336(0xe84)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x40b8f7=_0x419fce[_0x206336(0x1eb)]((_0x1b12d2,_0x1622f4)=>_0x1b12d2+_0x1622f4,0x0)/_0x419fce[_0x206336(0xe84)];if(_0x419fce['length']===0x1)return{'mean':_0x40b8f7,'stdDev':0x0};const _0x3f35ae=Math['sqrt'](_0x419fce[_0x206336(0x643)](_0x4646c0=>Math[_0x206336(0x663)](_0x4646c0-_0x40b8f7,0x2))[_0x206336(0x1eb)]((_0x1816d8,_0x48009d)=>_0x1816d8+_0x48009d,0x0)/(_0x419fce[_0x206336(0xe84)]-0x1));return{'mean':_0x40b8f7,'stdDev':_0x3f35ae};}function calculateZScore(_0x1b782f,_0x11e74d,_0x237224){if(_0x237224===0x0)return 0x0;return(_0x1b782f-_0x11e74d)/_0x237224;}function calculateTScore(_0x217f38){return 0xa*_0x217f38+0x32;}function showStarredProjectView(){const _0x3e48fd=_0x3d653b;currentProjectId=_0x3e48fd(0x31a),currentProjectData=null,projectTitle['textContent']=_0x3e48fd(0x4e1),projectIdDisplay['textContent']=_0x3e48fd(0x649),showView(_0x3e48fd(0xcf3)),manageTab['classList'][_0x3e48fd(0x224)](_0x3e48fd(0x932)),leaderboardTab[_0x3e48fd(0x26b)][_0x3e48fd(0x224)](_0x3e48fd(0x932)),switchProjectTab(_0x3e48fd(0xa01)),renderQuizzes();}async function loadProjectDetails(_0x23e40b){const _0x1ddbf8=_0x3d653b,_0xf58a12=doc(db,_0x1ddbf8(0xc9f)+appId+_0x1ddbf8(0x8ef),_0x23e40b),_0x233547=await getDoc(_0xf58a12);if(_0x233547[_0x1ddbf8(0x267)]()){manageTab[_0x1ddbf8(0x26b)][_0x1ddbf8(0x937)](_0x1ddbf8(0x932)),leaderboardTab[_0x1ddbf8(0x26b)]['remove'](_0x1ddbf8(0x932)),currentProjectData=_0x233547[_0x1ddbf8(0xcbd)](),projectTitle[_0x1ddbf8(0x6ab)]=currentProjectData[_0x1ddbf8(0xa05)],projectIdDisplay[_0x1ddbf8(0x6ab)]=_0x23e40b;const _0xfe5a73=currentProjectData[_0x1ddbf8(0x48b)]||{};document[_0x1ddbf8(0xb29)](_0x1ddbf8(0x89c))[_0x1ddbf8(0xc4b)]=_0xfe5a73['shuffleSetting']||_0x1ddbf8(0x1a6);const _0x4c6096=document[_0x1ddbf8(0xb29)](_0x1ddbf8(0x281));_0x4c6096['checked']=_0xfe5a73[_0x1ddbf8(0xae7)]!==![];const _0x4748eb=document[_0x1ddbf8(0xb29)](_0x1ddbf8(0x191)),_0x4434b0=document[_0x1ddbf8(0xb29)](_0x1ddbf8(0xa09)),_0x51a44d=document['getElementById']('project-passcode-input'),_0x504050=_0xfe5a73['isPasscodeEnabled']||![];_0x4748eb[_0x1ddbf8(0x21d)]=_0x504050,_0x51a44d[_0x1ddbf8(0xc4b)]=_0xfe5a73[_0x1ddbf8(0x97f)]||'',_0x4434b0[_0x1ddbf8(0x26b)][_0x1ddbf8(0xc28)]('hidden',!_0x504050),_0x4748eb[_0x1ddbf8(0xc84)]=()=>{const _0x20e4d6=_0x1ddbf8;_0x4434b0[_0x20e4d6(0x26b)]['toggle']('hidden',!_0x4748eb[_0x20e4d6(0x21d)]);},document[_0x1ddbf8(0xb29)](_0x1ddbf8(0x8ca))[_0x1ddbf8(0x21d)]=_0xfe5a73[_0x1ddbf8(0x5f8)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x23e40b),listenForProjectQuizzes(_0x23e40b),listenForStudentProfiles(_0x23e40b);}else showMessage(_0x1ddbf8(0x50c)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x57a3d3=_0x3d653b,_0x556927=doc(db,_0x57a3d3(0x445),_0x57a3d3(0x6f8));try{await setDoc(_0x556927,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x57a3d3(0x6fd));}catch(_0x41cceb){console[_0x57a3d3(0x3b5)](_0x57a3d3(0xb8f),_0x41cceb),showMessage(_0x57a3d3(0x3b2));}}async function handleTogglePinProject(_0x5de510){const _0x3fc0b7=_0x3d653b;if(!_0x5de510)return;const _0x1b2458=doc(db,'artifacts/'+appId+'/public/data/projects',_0x5de510);try{const _0x427488=await getDoc(_0x1b2458);if(_0x427488[_0x3fc0b7(0x267)]()){const _0x56ae7c=_0x427488['data']()['isPinned']||![];await updateDoc(_0x1b2458,{'isPinned':!_0x56ae7c});}}catch(_0x3c8ccd){console[_0x3fc0b7(0x3b5)](_0x3fc0b7(0xb11),_0x3c8ccd),showMessage(_0x3fc0b7(0xeb6));}}async function handleDeleteProject(_0x1c7d5d){const _0xb13229=_0x3d653b;try{const _0x4fa372=writeBatch(db),_0x2273f4=collection(db,_0xb13229(0xc9f)+appId+_0xb13229(0xd47)),_0x472f9a=query(_0x2273f4,where(_0xb13229(0x6c4),'==',_0x1c7d5d)),_0x599291=await getDocs(_0x472f9a);for(const _0x1cade7 of _0x599291[_0xb13229(0x574)]){const _0x50a51f=collection(db,'artifacts/'+appId+_0xb13229(0xec2)+_0x1cade7['id']+_0xb13229(0x9d1)),_0x4b5d41=await getDocs(_0x50a51f);_0x4b5d41[_0xb13229(0x57b)](_0x230597=>{const _0x41e989=_0xb13229;_0x4fa372[_0x41e989(0x939)](_0x230597['ref']);}),_0x4fa372[_0xb13229(0x939)](_0x1cade7[_0xb13229(0x218)]);}const _0x313101=collection(db,'artifacts/'+appId+_0xb13229(0x750)+_0x1c7d5d+_0xb13229(0x56a)),_0x1a3f84=await getDocs(_0x313101);_0x1a3f84[_0xb13229(0x57b)](_0x8afd8=>{const _0x4f19f8=_0xb13229;_0x4fa372[_0x4f19f8(0x939)](_0x8afd8[_0x4f19f8(0x218)]);});const _0x34a945=doc(db,_0xb13229(0xc9f)+appId+_0xb13229(0x8ef),_0x1c7d5d);_0x4fa372[_0xb13229(0x939)](_0x34a945),await _0x4fa372[_0xb13229(0x832)](),showMessage(_0xb13229(0x562)),showView(_0xb13229(0x2c2));}catch(_0x129070){console[_0xb13229(0x3b5)]('Error\x20deleting\x20project:',_0x129070),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x3d653b(0xb29)](_0x3d653b(0x1d3))[_0x3d653b(0x652)](_0x3d653b(0xc7b),async()=>{const _0x5ca664=_0x3d653b;if(!currentProjectId)return;const _0x211680={'defaultNumQuestions':parseInt(document[_0x5ca664(0xb29)](_0x5ca664(0x4a5))[_0x5ca664(0xc4b)]),'defaultNumChoices':parseInt(document['getElementById'](_0x5ca664(0xc6d))[_0x5ca664(0xc4b)]),'defaultPassingScore':parseInt(document[_0x5ca664(0xb29)](_0x5ca664(0x95f))[_0x5ca664(0xc4b)]),'resultsDisplay':document[_0x5ca664(0xb29)](_0x5ca664(0x27c))[_0x5ca664(0xc4b)],'shuffleSetting':document['getElementById'](_0x5ca664(0x89c))['value'],'timerMode':document['getElementById']('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x5ca664(0xb29)]('timer-duration-input')[_0x5ca664(0xc4b)]),'isConfidenceScoringEnabled':document[_0x5ca664(0xb29)](_0x5ca664(0x8ca))['checked'],'confidenceMode':document[_0x5ca664(0xb29)](_0x5ca664(0x57f))['value']};try{const _0x38cb08=doc(db,_0x5ca664(0xc9f)+appId+_0x5ca664(0x8ef),currentProjectId);await updateDoc(_0x38cb08,{'settings':_0x211680}),showMessage(_0x5ca664(0x1c2));}catch(_0x4ee0d4){console[_0x5ca664(0x3b5)](_0x5ca664(0x2ea),_0x4ee0d4),showMessage(_0x5ca664(0xec6));}});function listenForStudents(_0x1ca158){const _0x41a23d=_0x3d653b,_0x41fa13=doc(db,'artifacts/'+appId+_0x41a23d(0x8ef),_0x1ca158);unsubscribeStudentsListener=onSnapshot(_0x41fa13,_0x2e8916=>{const _0x844f98=_0x41a23d;if(_0x2e8916[_0x844f98(0x267)]()){const _0x32497d=_0x2e8916['data']();currentProjectData=_0x32497d,renderStudentList(_0x32497d[_0x844f98(0x828)]||[]);}});}function renderStudentList(_0x468d1b){const _0x460412=_0x3d653b,_0x275e58=document[_0x460412(0xb29)](_0x460412(0x9ca));_0x468d1b[_0x460412(0xe84)]===0x0?(studentList['innerHTML']=_0x460412(0x997),_0x275e58[_0x460412(0x26b)][_0x460412(0x224)]('hidden')):(studentList[_0x460412(0xd04)]=_0x468d1b[_0x460412(0x643)](_0x40edc3=>_0x460412(0x704)+_0x40edc3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x40edc3+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x460412(0x87d)](''),_0x275e58['classList'][_0x460412(0x937)]('hidden'));}document['getElementById'](_0x3d653b(0xe1a))['addEventListener']('click',async()=>{const _0x588a0c=_0x3d653b;if(!currentProjectId)return;const _0x11a61c=document[_0x588a0c(0xb29)](_0x588a0c(0x78b)),_0x25e3f5=_0x11a61c[_0x588a0c(0xc4b)][_0x588a0c(0x46f)]();if(!_0x25e3f5){showMessage(_0x588a0c(0x474));return;}const _0x2a9a56=_0x25e3f5[_0x588a0c(0x28c)]('\x0a')[_0x588a0c(0x643)](_0x2387aa=>_0x2387aa['trim']())[_0x588a0c(0x5f5)](_0x505776=>_0x505776);if(_0x2a9a56['length']===0x0)return;try{const _0x4c7ebc=doc(db,_0x588a0c(0xc9f)+appId+_0x588a0c(0x8ef),currentProjectId),_0x9b6910=await getDoc(_0x4c7ebc);if(_0x9b6910[_0x588a0c(0x267)]()){const _0x43f6c6=_0x9b6910[_0x588a0c(0xcbd)]()['students']||[],_0x139d9a=[...new Set([..._0x43f6c6,..._0x2a9a56])];await updateDoc(_0x4c7ebc,{'students':_0x139d9a}),_0x11a61c[_0x588a0c(0xc4b)]='';}}catch(_0xa68e6){console[_0x588a0c(0x3b5)]('Error\x20adding\x20students:',_0xa68e6),showMessage(_0x588a0c(0x963));}});async function handleManualQuizPairing(_0x28fbf9){const _0x4f26fd=_0x3d653b,_0x11a696=document['getElementById'](_0x4f26fd(0xf01)),_0x502839=document['getElementById'](_0x4f26fd(0x2ca)),_0x19b7b8=_0x11a696[_0x4f26fd(0x327)]('h3'),_0x4ff883=document[_0x4f26fd(0xb29)](_0x4f26fd(0x7f2)),_0x15038d=document['getElementById'](_0x4f26fd(0x954));_0x19b7b8['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x502839[_0x4f26fd(0xd04)]=_0x4f26fd(0x3f1),_0x4ff883[_0x4f26fd(0x6ab)]=_0x4f26fd(0x783),_0x11a696['classList'][_0x4f26fd(0x937)]('hidden');const _0x2b2022=allQuizzes[_0x4f26fd(0x5f5)](_0x52ce0f=>_0x52ce0f['id']!==_0x28fbf9);_0x2b2022['length']===0x0?(_0x502839[_0x4f26fd(0xd04)]=_0x4f26fd(0x482),_0x4ff883['disabled']=!![]):(_0x502839[_0x4f26fd(0xd04)]=_0x4f26fd(0x29a)+_0x2b2022[_0x4f26fd(0x643)](_0x54655e=>_0x4f26fd(0x801)+_0x54655e['id']+'\x22>'+_0x54655e[_0x4f26fd(0xf14)]+_0x4f26fd(0xdea))['join'](''),_0x4ff883[_0x4f26fd(0xeee)]=![]);const _0x438eb6=async()=>{const _0xef5f8d=_0x4f26fd,_0x5d5df7=_0x502839[_0xef5f8d(0xc4b)];if(!_0x5d5df7){showMessage(_0xef5f8d(0xf1d));return;}_0x4ff883[_0xef5f8d(0xeee)]=!![],_0x4ff883[_0xef5f8d(0x6ab)]=_0xef5f8d(0xb4b);try{const _0x3e9117=doc(db,'artifacts/'+appId+_0xef5f8d(0xd47),_0x28fbf9),_0x337548=doc(db,_0xef5f8d(0xc9f)+appId+_0xef5f8d(0xd47),_0x5d5df7),_0x5a8780=writeBatch(db);_0x5a8780[_0xef5f8d(0x5c5)](_0x3e9117,{'pairedQuizId':_0x5d5df7}),_0x5a8780['update'](_0x337548,{'pairedQuizId':_0x28fbf9}),await _0x5a8780[_0xef5f8d(0x832)](),showMessage(_0xef5f8d(0xd80)),_0x11a696['classList']['add'](_0xef5f8d(0x932));}catch(_0x2d0c62){console['error'](_0xef5f8d(0xbaf),_0x2d0c62),showMessage(_0xef5f8d(0xd55));}finally{_0x19b7b8['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4ff883[_0xef5f8d(0x6ab)]=_0xef5f8d(0x5ee),_0x4ff883[_0xef5f8d(0xeee)]=![],_0x4ff883[_0xef5f8d(0xadb)](_0xef5f8d(0xc7b),_0x438eb6),_0x15038d[_0xef5f8d(0xadb)](_0xef5f8d(0xc7b),_0x5a0313);}},_0x5a0313=()=>{const _0x29e0a2=_0x4f26fd;_0x11a696[_0x29e0a2(0x26b)][_0x29e0a2(0x224)]('hidden'),_0x19b7b8[_0x29e0a2(0x6ab)]=_0x29e0a2(0xa98),_0x4ff883[_0x29e0a2(0x6ab)]=_0x29e0a2(0x5ee),_0x4ff883['removeEventListener'](_0x29e0a2(0xc7b),_0x438eb6),_0x15038d[_0x29e0a2(0xadb)](_0x29e0a2(0xc7b),_0x5a0313);};_0x4ff883[_0x4f26fd(0x652)]('click',_0x438eb6),_0x15038d[_0x4f26fd(0x652)](_0x4f26fd(0xc7b),_0x5a0313);}function handleDeleteStudent(_0x4b3b0b){const _0xd08f33=_0x3d653b;showConfirmation(_0xd08f33(0x18a)+_0x4b3b0b+_0xd08f33(0x53c),async()=>{const _0x3c3c89=_0xd08f33;if(!currentProjectId||!currentProjectData)return;const _0xefdfce=currentProjectData['students'][_0x3c3c89(0x5f5)](_0x2ea67f=>_0x2ea67f!==_0x4b3b0b);try{const _0xe1ed83=doc(db,'artifacts/'+appId+_0x3c3c89(0x8ef),currentProjectId),_0x3bd9a6=doc(db,_0x3c3c89(0xc9f)+appId+'/public/data/projects/'+currentProjectId+_0x3c3c89(0x56a),_0x4b3b0b),_0xebba79=writeBatch(db);_0xebba79['update'](_0xe1ed83,{'students':_0xefdfce}),_0xebba79[_0x3c3c89(0x939)](_0x3bd9a6),await _0xebba79['commit']();}catch(_0x34ecba){console[_0x3c3c89(0x3b5)](_0x3c3c89(0x310),_0x34ecba),showMessage(_0x3c3c89(0x903));}});}function handleDeleteAllStudents(){const _0x4b939e=_0x3d653b;showConfirmation(_0x4b939e(0x7a8),async()=>{const _0x6d1c0e=_0x4b939e;if(!currentProjectId)return;try{const _0x1d3c55=doc(db,_0x6d1c0e(0xc9f)+appId+_0x6d1c0e(0x8ef),currentProjectId),_0x271d71=collection(db,'artifacts/'+appId+_0x6d1c0e(0x750)+currentProjectId+'/studentProfiles'),_0x329f2e=await getDocs(_0x271d71),_0x42cf2d=writeBatch(db);_0x42cf2d[_0x6d1c0e(0x5c5)](_0x1d3c55,{'students':[]}),_0x329f2e[_0x6d1c0e(0x57b)](_0x2ac778=>_0x42cf2d[_0x6d1c0e(0x939)](_0x2ac778[_0x6d1c0e(0x218)])),await _0x42cf2d[_0x6d1c0e(0x832)]();}catch(_0x47bd61){console[_0x6d1c0e(0x3b5)]('Error\x20deleting\x20all\x20students:',_0x47bd61),showMessage(_0x6d1c0e(0x3e9));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0xeb95b5){const _0x4f78ce=_0x3d653b,_0x553512=document[_0x4f78ce(0xb29)]('file-topics-list-container'),_0x34210e=document['getElementById'](_0x4f78ce(0x87b));_0x553512[_0x4f78ce(0x26b)]['remove']('hidden'),_0x34210e[_0x4f78ce(0xd04)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x5c1c90=new FileReader();_0x5c1c90[_0x4f78ce(0x4ab)](_0xeb95b5),await new Promise((_0x1e47a2,_0x1e8312)=>{const _0x546688=_0x4f78ce;_0x5c1c90[_0x546688(0x29f)]=()=>{const _0x83856d=_0x546688;fileDataBase64=_0x5c1c90[_0x83856d(0xf1f)][_0x83856d(0x28c)](',')[0x1],fileMimeType=_0xeb95b5[_0x83856d(0x596)],_0x1e47a2();},_0x5c1c90[_0x546688(0x476)]=_0x4f5e26=>_0x1e8312(_0x4f5e26);});if(!fileDataBase64)throw new Error(_0x4f78ce(0xa6a));const _0x1146c9=_0x4f78ce(0x283),_0x582e8b={'type':_0x4f78ce(0x4d4),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x4f78ce(0x43c)}}},'required':[_0x4f78ce(0xc8b)]},_0x1cefb2=[{'text':_0x1146c9},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x535a16=await handleApiCall(_0x1cefb2,_0x4f78ce(0xdc9),_0x582e8b,null,![]);if(_0x535a16&&_0x535a16[_0x4f78ce(0xc8b)])extractedFileTopics=_0x535a16[_0x4f78ce(0xc8b)],renderFileTopics();else throw new Error(_0x4f78ce(0x8f9));}catch(_0x34d404){console[_0x4f78ce(0x3b5)](_0x4f78ce(0xaf7),_0x34d404),_0x34210e[_0x4f78ce(0xd04)]=_0x4f78ce(0x7fd)+_0x34d404[_0x4f78ce(0x837)]+_0x4f78ce(0xdba);}}function renderFileTopics(){const _0x2a3ce8=_0x3d653b,_0xd52951=document['getElementById']('file-topics-list');if(extractedFileTopics[_0x2a3ce8(0xe84)]===0x0){_0xd52951['innerHTML']=_0x2a3ce8(0x41a);return;}_0xd52951[_0x2a3ce8(0xd04)]=extractedFileTopics[_0x2a3ce8(0x643)](_0x4ebf5f=>_0x2a3ce8(0x24f)+_0x4ebf5f+_0x2a3ce8(0xe44)+escape(_0x4ebf5f)+_0x2a3ce8(0x6e1)+escape(_0x4ebf5f)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x2a3ce8(0x87d)]('');}async function generateHybridQuizForTopic(_0x37e5f0){const _0x28ecba=_0x3d653b,_0x2187ad=parseInt(document['getElementById']('num-questions')[_0x28ecba(0xc4b)],0xa),_0x1faecd=document[_0x28ecba(0xb29)](_0x28ecba(0x6b8))[_0x28ecba(0xc4b)],_0x52fa30=document['getElementById'](_0x28ecba(0xc6d))[_0x28ecba(0xc4b)],_0x29bf1f=document[_0x28ecba(0xb29)](_0x28ecba(0x9a1))[_0x28ecba(0x21d)],_0x52cba1=_0x29bf1f?_0x28ecba(0xa25):_0x28ecba(0x990);let _0x55ba72='',_0x4252b5;const _0x5c3201={'type':'OBJECT','properties':{'questionText':{'type':_0x28ecba(0x43c)},'options':{'type':_0x28ecba(0xea8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x28ecba(0x1e3)},'explanation':{'type':_0x28ecba(0x43c)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x28ecba(0x857),'explanation']},_0xb69873={'type':'OBJECT','properties':{'questionText':{'type':_0x28ecba(0x43c)},'correctAnswer':{'type':_0x28ecba(0x711)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x28ecba(0x43c)}},'required':[_0x28ecba(0x4cd),_0x28ecba(0x1b0),'explanation']},_0x603e7e={'type':_0x28ecba(0x4d4),'properties':{'questionText':{'type':_0x28ecba(0x43c)},'idealAnswer':{'type':_0x28ecba(0x43c)},'explanation':{'type':_0x28ecba(0x43c)},'imageCode':{'type':_0x28ecba(0x43c)}},'required':[_0x28ecba(0x4cd),'idealAnswer',_0x28ecba(0x96c)]},_0x195179={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x28ecba(0x43c)},'correctResponse':{'type':_0x28ecba(0x43c)},'allResponses':{'type':_0x28ecba(0xea8),'items':{'type':'STRING'}},'explanation':{'type':_0x28ecba(0x43c)},'imageCode':{'type':_0x28ecba(0x43c)}},'required':[_0x28ecba(0xc4a),_0x28ecba(0x3bf),_0x28ecba(0x500),'allResponses',_0x28ecba(0x96c)]};switch(_0x1faecd){case _0x28ecba(0xa08):const _0x5ef417=_0x28ecba(0x250);prompt=_0x28ecba(0x32c)+subjectPrefix+'\x20'+settings['numQuestions']+'\x20ข้อ\x20'+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x28ecba(0x1bc)+settings[_0x28ecba(0x1a7)]+_0x28ecba(0x6c2)+_0x5ef417+_0x28ecba(0x8e3)+_0x52cba1+'\x20'+simpleMathPrompt,schema=_0x5c3201;break;case _0x28ecba(0x80d):_0x55ba72='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x4252b5=_0xb69873;break;case'fill_in_no_choices':_0x55ba72=_0x28ecba(0x569),_0x4252b5=_0x603e7e;break;case _0x28ecba(0x340):_0x55ba72=_0x28ecba(0x48a),_0x4252b5=_0x195179;break;case'fill_in_with_choices':_0x55ba72=_0x28ecba(0xbb8)+_0x52fa30+_0x28ecba(0x866),_0x4252b5=_0x5c3201;break;default:_0x55ba72=_0x28ecba(0x68b)+_0x52fa30+_0x28ecba(0x866),_0x4252b5=_0x5c3201;break;}const _0x510d1c='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x35f24c=document[_0x28ecba(0xb29)](_0x28ecba(0x6dc)),_0x38b8af=document['getElementById'](_0x28ecba(0x193)),_0x1e18e1=document[_0x28ecba(0xb29)]('generated-quiz-container');document['getElementById'](_0x28ecba(0xe8e))['classList'][_0x28ecba(0x937)](_0x28ecba(0x932)),_0x1e18e1[_0x28ecba(0xd04)]='',_0x35f24c[_0x28ecba(0x26b)][_0x28ecba(0x937)](_0x28ecba(0x932)),_0x38b8af[_0x28ecba(0x6ab)]=_0x28ecba(0x766)+_0x37e5f0+_0x28ecba(0x4c2)+_0x2187ad+_0x28ecba(0x3dd);try{const _0x3dbd2e=_0x28ecba(0x96f),_0x26cf79=_0x28ecba(0xd77)+_0x37e5f0+_0x28ecba(0x4c3)+_0x2187ad+_0x28ecba(0x57e)+_0x37e5f0+_0x28ecba(0x56d)+_0x2187ad+_0x28ecba(0xe7d)+_0x52cba1+_0x28ecba(0x274)+_0x55ba72+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x510d1c+_0x28ecba(0x363)+_0x3dbd2e+_0x28ecba(0x5ca)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5c392e={'type':_0x28ecba(0x4d4),'properties':{'topic':{'type':_0x28ecba(0x43c)},'questions':{'type':_0x28ecba(0xea8),'items':_0x4252b5}},'required':[_0x28ecba(0xf14),_0x28ecba(0xaff)]},_0x1ff684=[{'text':_0x26cf79},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x1ff684,_0x28ecba(0xd8d)+_0x37e5f0+'\x22...',_0x5c392e);}catch(_0x48003c){console[_0x28ecba(0x3b5)]('Error\x20generating\x20hybrid\x20quiz:',_0x48003c),showMessage(_0x28ecba(0xa19)+_0x48003c['message']),_0x1e18e1[_0x28ecba(0xd04)]=_0x28ecba(0x46c);}finally{_0x35f24c['classList'][_0x28ecba(0x224)]('hidden');}}async function handleGenerateFromFileClick(){const _0x19dfc0=_0x3d653b;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x3307dd=document[_0x19dfc0(0xb29)](_0x19dfc0(0x6dc)),_0x23115f=document[_0x19dfc0(0xb29)](_0x19dfc0(0x193)),_0x32df4a=document[_0x19dfc0(0xb29)]('generated-quiz-container'),_0x40f517=document[_0x19dfc0(0xb29)]('generate-from-file-btn');_0x40f517['disabled']=!![],document[_0x19dfc0(0xb29)]('quiz-generation-area')[_0x19dfc0(0x26b)][_0x19dfc0(0x937)](_0x19dfc0(0x932)),_0x32df4a['innerHTML']='',_0x3307dd['classList'][_0x19dfc0(0x937)](_0x19dfc0(0x932)),_0x23115f[_0x19dfc0(0x6ab)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x58b58a=await new Promise((_0x43d0d5,_0x531afe)=>{const _0x527762=_0x19dfc0,_0x5b5b48=new FileReader();_0x5b5b48[_0x527762(0x4ab)](selectedFile),_0x5b5b48[_0x527762(0x29f)]=()=>_0x43d0d5(_0x5b5b48[_0x527762(0xf1f)][_0x527762(0x28c)](',')[0x1]),_0x5b5b48['onerror']=_0x309dd8=>_0x531afe(_0x309dd8);});await generateQuizFromFile(selectedFile[_0x19dfc0(0x596)],_0x58b58a);}catch(_0x2fd84b){console[_0x19dfc0(0x3b5)](_0x19dfc0(0xe69),_0x2fd84b),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x2fd84b['message']),_0x3307dd[_0x19dfc0(0x26b)][_0x19dfc0(0x224)]('hidden'),_0x40f517['disabled']=![];}}function autoFormatMath(_0x4ceb1f){const _0xc41954=_0x3d653b;if(typeof _0x4ceb1f!=='string'||!_0x4ceb1f)return _0x4ceb1f;const _0x5f47c9=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x32e14f=_0x4ceb1f[_0xc41954(0x502)](_0x5f47c9,_0x31a955=>{return'$'+_0x31a955['trim']()+'$';});return _0x32e14f;}function sanitizeQuizData(_0x5e1091){const _0x25adb1=_0x3d653b;if(!_0x5e1091||!_0x5e1091[_0x25adb1(0xaff)])return _0x5e1091;const _0x321353=_0x3dd59c=>{const _0x2cda91=_0x25adb1;if(typeof _0x3dd59c!==_0x2cda91(0xad4))return _0x3dd59c;let _0x29b454=_0x3dd59c;_0x29b454=_0x29b454[_0x2cda91(0x502)](/\\\(/g,'$')['replace'](/\\\)/g,'$'),_0x29b454=_0x29b454[_0x2cda91(0x502)](/\\\[/g,'$$')[_0x2cda91(0x502)](/\\\]/g,'$$'),_0x29b454=_0x29b454[_0x2cda91(0x502)](/\\?imes\b/g,'\x5ctimes');const _0x1c51cb=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x29b454=_0x29b454['replace'](_0x1c51cb,_0x637ca8=>{const _0x5cd389=_0x2cda91;return'$'+_0x637ca8[_0x5cd389(0x46f)]()+'$';}),_0x29b454;};return _0x5e1091[_0x25adb1(0xf14)]&&(_0x5e1091['topic']=_0x321353(_0x5e1091[_0x25adb1(0xf14)])),_0x5e1091[_0x25adb1(0xaff)][_0x25adb1(0x57b)](_0x16e1ab=>{const _0x2df429=_0x25adb1;_0x16e1ab[_0x2df429(0x4cd)]=_0x321353(_0x16e1ab[_0x2df429(0x4cd)]),_0x16e1ab[_0x2df429(0x3bf)]=_0x321353(_0x16e1ab[_0x2df429(0x3bf)]),_0x16e1ab[_0x2df429(0x802)]&&(_0x16e1ab[_0x2df429(0x802)]=_0x16e1ab[_0x2df429(0x802)][_0x2df429(0x643)](_0x471cb1=>_0x321353(_0x471cb1))),_0x16e1ab[_0x2df429(0x96c)]&&(_0x16e1ab[_0x2df429(0x96c)]=_0x321353(_0x16e1ab[_0x2df429(0x96c)])),_0x16e1ab[_0x2df429(0x500)]&&(_0x16e1ab[_0x2df429(0x500)]=_0x321353(_0x16e1ab[_0x2df429(0x500)])),_0x16e1ab['allResponses']&&(_0x16e1ab[_0x2df429(0x1e4)]=_0x16e1ab[_0x2df429(0x1e4)][_0x2df429(0x643)](_0x5463db=>_0x321353(_0x5463db))),_0x16e1ab[_0x2df429(0x5b2)]&&(_0x16e1ab[_0x2df429(0x5b2)]=_0x321353(_0x16e1ab[_0x2df429(0x5b2)]));}),_0x5e1091;}const simpleMathPrompt=_0x3d653b(0xb7e);async function handleGenerateFromLink(){const _0xa1207a=_0x3d653b,_0x27ff09=document[_0xa1207a(0xb29)](_0xa1207a(0x7a0)),_0x21ec5d=document['getElementById']('link-topic-input'),_0x14f724=_0x27ff09['value']['trim'](),_0x3334de=_0x21ec5d[_0xa1207a(0xc4b)][_0xa1207a(0x46f)]();if(!_0x14f724){showMessage(_0xa1207a(0x2d0));return;}const _0x1593d5=document[_0xa1207a(0xb29)](_0xa1207a(0x6dc)),_0x52b26f=document['getElementById'](_0xa1207a(0x193)),_0x536e0a=document[_0xa1207a(0xb29)]('generated-quiz-container'),_0x27b733=document['getElementById'](_0xa1207a(0xbe9));document[_0xa1207a(0xb29)](_0xa1207a(0xe8e))[_0xa1207a(0x26b)][_0xa1207a(0x937)](_0xa1207a(0x932)),_0x536e0a[_0xa1207a(0xd04)]='',_0x1593d5[_0xa1207a(0x26b)]['remove']('hidden'),_0x52b26f[_0xa1207a(0x6ab)]='กำลังดึงข้อมูลจากลิงก์...',_0x27b733[_0xa1207a(0xeee)]=!![];try{const _0x43de84=_0xa1207a(0xb1d)+encodeURIComponent(_0x14f724),_0x26cac6=await fetch(_0x43de84);if(!_0x26cac6['ok'])throw new Error(_0xa1207a(0x50e)+_0x26cac6[_0xa1207a(0x389)]+')');const _0x4c05b1=await _0x26cac6[_0xa1207a(0x922)](),_0x3153ff=extractTextFromHtml(_0x4c05b1);if(!_0x3153ff||_0x3153ff['length']<0x64)throw new Error(_0xa1207a(0xba8));await generateQuiz(_0x3334de,_0x3153ff);}catch(_0x42e4db){console[_0xa1207a(0x3b5)](_0xa1207a(0x1d6),_0x42e4db),showMessage('เกิดข้อผิดพลาด:\x20'+_0x42e4db['message']),_0x536e0a[_0xa1207a(0xd04)]=_0xa1207a(0xe7e);}finally{_0x1593d5[_0xa1207a(0x26b)]['add'](_0xa1207a(0x932)),_0x27b733[_0xa1207a(0xeee)]=![];}}function extractTextFromHtml(_0x2081a1){const _0x5be778=_0x3d653b,_0x331552=new DOMParser()[_0x5be778(0x5ff)](_0x2081a1,'text/html');return _0x331552[_0x5be778(0x948)](_0x5be778(0x5bf))['forEach'](_0x5807cc=>_0x5807cc[_0x5be778(0x937)]()),_0x331552[_0x5be778(0xbfe)][_0x5be778(0x6ab)]||'';}document[_0x3d653b(0xb29)](_0x3d653b(0xdac))['addEventListener'](_0x3d653b(0xc7b),()=>{const _0x682f78=_0x3d653b,_0x4830a3=document[_0x682f78(0xb29)](_0x682f78(0x2ae))['value'][_0x682f78(0x46f)]();generateQuiz(_0x4830a3,null);}),document[_0x3d653b(0xb29)](_0x3d653b(0x2de))[_0x3d653b(0x652)](_0x3d653b(0xc7b),()=>{const _0x584367=_0x3d653b,_0x13ace0=document['getElementById'](_0x584367(0x5ae))[_0x584367(0xc4b)][_0x584367(0x46f)]();if(!_0x13ace0){showMessage(_0x584367(0x4a0));return;}const _0x51df00=document[_0x584367(0xb29)](_0x584367(0x2ae))[_0x584367(0xc4b)][_0x584367(0x46f)]();generateQuiz(_0x51df00,_0x13ace0);});async function generateQuiz(_0x348b7e,_0x4b1a9f,_0x25a451=null,_0x5425dc=null,_0x3fc482=![],_0x51b213=null,_0x36adea=null,_0x62d8c3=![]){const _0x2515d0=_0x3d653b;let _0x534562={};if(_0x3fc482&&blueprintPageSettings)_0x534562=blueprintPageSettings;else{const _0xc3c573=document[_0x2515d0(0x948)](_0x2515d0(0x701));_0x534562={'quizType':document[_0x2515d0(0xb29)](_0x2515d0(0x6b8))[_0x2515d0(0xc4b)],'numQuestions':document[_0x2515d0(0xb29)]('num-questions')[_0x2515d0(0xc4b)],'numChoices':document['getElementById'](_0x2515d0(0xc6d))[_0x2515d0(0xc4b)],'includeImages':document[_0x2515d0(0xb29)](_0x2515d0(0x9a1))[_0x2515d0(0x21d)],'isNormalTopic':document[_0x2515d0(0xb29)](_0x2515d0(0x3e8))['checked'],'difficultyValue':document[_0x2515d0(0xb29)](_0x2515d0(0x3a5))['value'],'complexityValue':document[_0x2515d0(0xb29)](_0x2515d0(0x79f))[_0x2515d0(0xc4b)],'selectedTopicNames':Array[_0x2515d0(0x63b)](_0xc3c573)[_0x2515d0(0x643)](_0x258ee1=>_0x258ee1[_0x2515d0(0xc4b)])};}const _0x2cb6d2=_0x534562['isNormalTopic']?'':'คณิตศาสตร์',_0x2e462e=_0x534562[_0x2515d0(0xd88)]!==_0x2515d0(0x18c)?_0x2515d0(0x6a9)+_0x534562[_0x2515d0(0xd88)]+'\x22':'',_0x21c133=_0x534562[_0x2515d0(0xe74)]!=='mixed'?_0x2515d0(0x4de)+_0x534562['complexityValue']+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x5d1e64='';_0x534562['selectedTopicNames']&&_0x534562[_0x2515d0(0xa7b)][_0x2515d0(0xe84)]>0x0&&(_0x5d1e64=_0x2515d0(0x79c)+_0x534562[_0x2515d0(0xa7b)][_0x2515d0(0x87d)](',\x20')+'.');let _0x38256e='';_0x5425dc&&(_0x38256e=_0x2515d0(0x7eb));let _0x261cf9='',_0x644e3b='',_0x1f5ba6,_0x91d107=_0x2515d0(0x829)+_0x348b7e+'\x22';if(!_0x348b7e&&_0x4b1a9f)_0x91d107=_0x2515d0(0x565);else!_0x348b7e&&!_0x4b1a9f&&(_0x91d107=_0x2515d0(0xca3));const _0x281126={'type':_0x2515d0(0x4d4),'properties':{'questionText':{'type':_0x2515d0(0x43c)},'options':{'type':_0x2515d0(0xea8),'items':{'type':_0x2515d0(0x43c)}},'correctAnswerIndex':{'type':_0x2515d0(0x1e3)},'explanation':{'type':_0x2515d0(0x43c)},'imageCode':{'type':'STRING'}},'required':[_0x2515d0(0x4cd),'options',_0x2515d0(0x857),_0x2515d0(0x96c)]},_0x57366f={'type':_0x2515d0(0x4d4),'properties':{'questionText':{'type':_0x2515d0(0x43c)},'idealAnswer':{'type':_0x2515d0(0x43c)},'explanation':{'type':_0x2515d0(0x43c)},'imageCode':{'type':'STRING'}},'required':[_0x2515d0(0x4cd),_0x2515d0(0x5b2),_0x2515d0(0x96c)]},_0x5002b2={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x2515d0(0xa08),'short_answer']},'options':{'type':_0x2515d0(0xea8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2515d0(0x1e3)},'idealAnswer':{'type':_0x2515d0(0x43c)},'explanation':{'type':_0x2515d0(0x43c)},'imageCode':{'type':'STRING'}},'required':[_0x2515d0(0x4cd),_0x2515d0(0xc4a),_0x2515d0(0x96c)]},_0x138858={'type':_0x2515d0(0x4d4),'properties':{'questionText':{'type':_0x2515d0(0x43c)},'correctAnswer':{'type':_0x2515d0(0x711)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2515d0(0x4cd),'correctAnswer',_0x2515d0(0x96c)]},_0x30c4ee={'type':_0x2515d0(0x4d4),'properties':{'questionType':{'type':_0x2515d0(0x43c),'enum':[_0x2515d0(0x76e)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2515d0(0x43c)},'allResponses':{'type':_0x2515d0(0xea8),'items':{'type':_0x2515d0(0x43c)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2515d0(0x43c)}},'required':[_0x2515d0(0xc4a),'stem',_0x2515d0(0x500),'allResponses',_0x2515d0(0x96c)]};let _0x3f115c;if(_0x25a451!==null){const _0xc149d0=currentQuizData[_0x2515d0(0xaff)][_0x25a451][_0x2515d0(0xc4a)],_0x3c61bd=_0x534562[_0x2515d0(0xbb3)]?_0x2515d0(0x6aa):'';_0x261cf9=_0x2515d0(0xa29)+_0x91d107+'\x20'+_0x5d1e64+'\x20'+_0x2e462e+_0x2515d0(0xedb)+_0x3c61bd+'\x20'+simpleMathPrompt;if(_0xc149d0===_0x2515d0(0xa08))_0x1f5ba6=_0x281126;else{if(_0xc149d0===_0x2515d0(0x76e))_0x1f5ba6={'type':_0x2515d0(0x4d4),'properties':{'questionType':{'type':_0x2515d0(0x43c),'enum':[_0x2515d0(0x76e)]},'stem':{'type':_0x2515d0(0x43c)},'correctResponse':{'type':_0x2515d0(0x43c)},'explanation':{'type':_0x2515d0(0x43c)},'imageCode':{'type':_0x2515d0(0x43c)}},'required':[_0x2515d0(0xc4a),'stem','correctResponse',_0x2515d0(0x96c)]};else _0x1f5ba6=_0x57366f;}_0x3f115c=_0x1f5ba6;}else{const _0x4d0663=_0x534562[_0x2515d0(0xbb3)]?_0x2515d0(0xc5d):'';switch(_0x534562[_0x2515d0(0xca5)]){case _0x2515d0(0xa08):const _0xb14f0=_0x2515d0(0x250);_0x261cf9=_0x2515d0(0x32c)+_0x2cb6d2+'\x20'+_0x534562[_0x2515d0(0x201)]+'\x20ข้อ\x20'+_0x91d107+'\x20'+_0x5d1e64+'\x20'+_0x2e462e+'\x20'+_0x21c133+'\x20'+_0x38256e+_0x2515d0(0x1bc)+_0x534562[_0x2515d0(0x1a7)]+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb14f0+_0x2515d0(0x8e3)+_0x4d0663+'\x20'+simpleMathPrompt,_0x1f5ba6=_0x281126;break;case _0x2515d0(0xcec):_0x261cf9=_0x2515d0(0x375)+_0x2cb6d2+'\x20'+_0x534562['numQuestions']+_0x2515d0(0x265)+_0x91d107+'\x20'+_0x5d1e64+'\x20'+_0x2e462e+'\x20'+_0x21c133+'\x20'+_0x38256e+_0x2515d0(0x3a4)+_0x534562[_0x2515d0(0x1a7)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4d0663+'\x20'+simpleMathPrompt,_0x1f5ba6=_0x281126;break;case _0x2515d0(0x2fc):_0x261cf9='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2cb6d2+'\x20'+_0x534562[_0x2515d0(0x201)]+_0x2515d0(0x265)+_0x91d107+'\x20'+_0x5d1e64+'\x20'+_0x2e462e+'\x20'+_0x21c133+'\x20'+_0x38256e+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4d0663+'\x20'+simpleMathPrompt,_0x1f5ba6=_0x57366f;break;case _0x2515d0(0x24a):_0x261cf9=_0x2515d0(0x1ba)+_0x2cb6d2+'\x20'+_0x534562[_0x2515d0(0x201)]+_0x2515d0(0x265)+_0x91d107+'\x20'+_0x5d1e64+'\x20'+_0x2e462e+'\x20'+_0x21c133+'\x20'+_0x38256e+_0x2515d0(0xade)+_0x534562[_0x2515d0(0x1a7)]+_0x2515d0(0x205)+_0x4d0663+'\x20'+simpleMathPrompt+'.',_0x1f5ba6=_0x5002b2;break;case _0x2515d0(0x80d):_0x261cf9='สร้างคำถามแบบใช่/ไม่ใช่'+_0x2cb6d2+'\x20'+_0x534562[_0x2515d0(0x201)]+_0x2515d0(0x265)+_0x91d107+'\x20'+_0x5d1e64+'\x20'+_0x2e462e+'\x20'+_0x21c133+'\x20'+_0x38256e+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x4d0663+'\x20'+simpleMathPrompt,_0x1f5ba6=_0x138858;break;case'matching':_0x261cf9=_0x2515d0(0xb3e)+_0x2cb6d2+'\x20'+_0x534562[_0x2515d0(0x201)]+_0x2515d0(0x87a)+_0x91d107+'\x20'+_0x5d1e64+'\x20'+_0x2e462e+'\x20'+_0x21c133+'\x20'+_0x38256e+_0x2515d0(0x2f6)+_0x4d0663+'\x20'+simpleMathPrompt,_0x1f5ba6=_0x30c4ee;break;}_0x3f115c={'type':'OBJECT','properties':{'topic':{'type':_0x2515d0(0x43c)},'questions':{'type':_0x2515d0(0xea8),'items':_0x1f5ba6}},'required':[_0x2515d0(0xf14),_0x2515d0(0xaff)]};}const _0x46625e='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a';_0x4b1a9f?(_0x62d8c3?_0x261cf9=_0x2515d0(0x5a3)+_0x4b1a9f+_0x2515d0(0xbee)+_0x261cf9+_0x46625e:_0x261cf9=_0x2515d0(0x5a3)+_0x4b1a9f+_0x2515d0(0xbee)+_0x261cf9,_0x644e3b=_0x2515d0(0xba9)):(_0x62d8c3&&(_0x261cf9+=_0x46625e),_0x644e3b=_0x2515d0(0x8d0));let _0x2bd0b4;return _0x5425dc?(_0x2bd0b4=[{'text':_0x261cf9},..._0x5425dc],_0x644e3b='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x2bd0b4=_0x261cf9,handleApiCall(_0x2bd0b4,_0x644e3b,_0x3f115c,_0x25a451,!![],_0x51b213,_0x36adea);}async function generateQuizFromFile(_0x3b8980,_0x1a35e5){const _0x8ac4fb=_0x3d653b,_0x47d13a=document['getElementById'](_0x8ac4fb(0x462))[_0x8ac4fb(0xc4b)][_0x8ac4fb(0x46f)](),_0x2854d0=document['getElementById'](_0x8ac4fb(0x6b8))[_0x8ac4fb(0xc4b)],_0x34eb45=document[_0x8ac4fb(0xb29)]('num-questions')['value'],_0x500d5c=document[_0x8ac4fb(0xb29)](_0x8ac4fb(0xc6d))[_0x8ac4fb(0xc4b)],_0x54597c=document[_0x8ac4fb(0xb29)](_0x8ac4fb(0x9a1))[_0x8ac4fb(0x21d)],_0x309b1a=document[_0x8ac4fb(0xb29)]('force-math-checkbox')[_0x8ac4fb(0x21d)],_0x730d3e=_0x309b1a?'':_0x8ac4fb(0x769),_0x59daa5=document[_0x8ac4fb(0xb29)](_0x8ac4fb(0x96e))[_0x8ac4fb(0x21d)];let _0x504a57='',_0x359fca;const _0x17c67f=_0x54597c?_0x8ac4fb(0xc5d):'';if(_0x59daa5)_0x504a57=_0x8ac4fb(0x5c3)+_0x17c67f+'\x0a'+simpleMathPrompt+'\x0a',_0x359fca={'type':_0x8ac4fb(0x4d4),'properties':{'questionText':{'type':_0x8ac4fb(0x43c)},'questionType':{'type':_0x8ac4fb(0x43c),'enum':[_0x8ac4fb(0xa08),_0x8ac4fb(0x9d6),_0x8ac4fb(0x80d),_0x8ac4fb(0x76e)]},'options':{'type':_0x8ac4fb(0xea8),'items':{'type':_0x8ac4fb(0x43c)}},'correctAnswerIndex':{'type':_0x8ac4fb(0x1e3)},'idealAnswer':{'type':_0x8ac4fb(0x43c)},'correctAnswer':{'type':_0x8ac4fb(0x711)},'stem':{'type':_0x8ac4fb(0x43c)},'correctResponse':{'type':_0x8ac4fb(0x43c)},'allResponses':{'type':'ARRAY','items':{'type':_0x8ac4fb(0x43c)}},'explanation':{'type':_0x8ac4fb(0x43c)},'imageCode':{'type':_0x8ac4fb(0x43c)}},'required':['questionType',_0x8ac4fb(0x96c)]};else{let _0xc1c5ee='เกี่ยวกับหัวข้อ\x20\x22'+_0x47d13a+'\x22';!_0x47d13a&&(_0xc1c5ee=_0x8ac4fb(0x5eb));switch(_0x2854d0){case _0x8ac4fb(0xa08):const _0x182b5a=_0x8ac4fb(0x62f);_0x504a57=_0x8ac4fb(0x32c)+_0x730d3e+'\x20'+_0x34eb45+'\x20ข้อ\x20'+_0xc1c5ee+'.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20'+_0x500d5c+_0x8ac4fb(0x61b)+_0x182b5a+_0x8ac4fb(0x308)+_0x17c67f+'\x20'+simpleMathPrompt,_0x359fca={'type':'OBJECT','properties':{'questionText':{'type':_0x8ac4fb(0x43c)},'options':{'type':'ARRAY','items':{'type':_0x8ac4fb(0x43c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x8ac4fb(0x43c)},'imageCode':{'type':_0x8ac4fb(0x43c)}},'required':['questionText','options',_0x8ac4fb(0x857),'explanation']};break;case'fill_in_with_choices':_0x504a57=_0x8ac4fb(0x375)+_0x730d3e+'\x20'+_0x34eb45+'\x20ข้อ\x20'+_0xc1c5ee+_0x8ac4fb(0x3a4)+_0x500d5c+_0x8ac4fb(0x239)+_0x17c67f+'\x20'+simpleMathPrompt,_0x359fca={'type':_0x8ac4fb(0x4d4),'properties':{'questionText':{'type':_0x8ac4fb(0x43c)},'options':{'type':_0x8ac4fb(0xea8),'items':{'type':_0x8ac4fb(0x43c)}},'correctAnswerIndex':{'type':_0x8ac4fb(0x1e3)},'explanation':{'type':_0x8ac4fb(0x43c)},'imageCode':{'type':_0x8ac4fb(0x43c)}},'required':['questionText',_0x8ac4fb(0x802),_0x8ac4fb(0x857),'explanation']};break;case _0x8ac4fb(0x2fc):_0x504a57=_0x8ac4fb(0x375)+_0x730d3e+'\x20'+_0x34eb45+_0x8ac4fb(0x265)+_0xc1c5ee+_0x8ac4fb(0x666)+_0x17c67f+'\x20'+simpleMathPrompt,_0x359fca={'type':_0x8ac4fb(0x4d4),'properties':{'questionText':{'type':_0x8ac4fb(0x43c)},'idealAnswer':{'type':_0x8ac4fb(0x43c)},'explanation':{'type':_0x8ac4fb(0x43c)},'imageCode':{'type':_0x8ac4fb(0x43c)}},'required':[_0x8ac4fb(0x4cd),'idealAnswer',_0x8ac4fb(0x96c)]};break;case'mixed':_0x504a57='สร้างแบบทดสอบ'+_0x730d3e+'\x20'+_0x34eb45+'\x20ข้อ\x20'+_0xc1c5ee+_0x8ac4fb(0x4af)+_0x500d5c+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x17c67f+'\x20'+simpleMathPrompt+_0x8ac4fb(0x99e),_0x359fca={'type':_0x8ac4fb(0x4d4),'properties':{'questionText':{'type':_0x8ac4fb(0x43c)},'questionType':{'type':_0x8ac4fb(0x43c),'enum':[_0x8ac4fb(0xa08),_0x8ac4fb(0x9d6)]},'options':{'type':_0x8ac4fb(0xea8),'items':{'type':_0x8ac4fb(0x43c)}},'correctAnswerIndex':{'type':_0x8ac4fb(0x1e3)},'idealAnswer':{'type':_0x8ac4fb(0x43c)},'explanation':{'type':_0x8ac4fb(0x43c)},'imageCode':{'type':_0x8ac4fb(0x43c)}},'required':[_0x8ac4fb(0x4cd),_0x8ac4fb(0xc4a),_0x8ac4fb(0x96c)]};break;case _0x8ac4fb(0x80d):_0x504a57=_0x8ac4fb(0x4c9)+_0x730d3e+'\x20'+_0x34eb45+'\x20ข้อ\x20'+_0xc1c5ee+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x17c67f+'\x20'+simpleMathPrompt,_0x359fca={'type':_0x8ac4fb(0x4d4),'properties':{'questionText':{'type':_0x8ac4fb(0x43c)},'correctAnswer':{'type':_0x8ac4fb(0x711)},'explanation':{'type':_0x8ac4fb(0x43c)},'imageCode':{'type':'STRING'}},'required':[_0x8ac4fb(0x4cd),_0x8ac4fb(0x1b0),_0x8ac4fb(0x96c)]};break;case _0x8ac4fb(0x340):_0x504a57=_0x8ac4fb(0xb3e)+_0x730d3e+'\x20'+_0x34eb45+'\x20คู่\x20'+_0xc1c5ee+_0x8ac4fb(0xb12)+_0x34eb45+_0x8ac4fb(0x4c5)+_0x17c67f+'\x20'+simpleMathPrompt,_0x359fca={'type':_0x8ac4fb(0x4d4),'properties':{'questionType':{'type':_0x8ac4fb(0x43c),'enum':[_0x8ac4fb(0x76e)]},'stem':{'type':_0x8ac4fb(0x43c)},'correctResponse':{'type':_0x8ac4fb(0x43c)},'allResponses':{'type':'ARRAY','items':{'type':_0x8ac4fb(0x43c)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x8ac4fb(0x43c)}},'required':[_0x8ac4fb(0xc4a),_0x8ac4fb(0x3bf),_0x8ac4fb(0x500),'allResponses',_0x8ac4fb(0x96c)]};break;}}const _0x484408={'type':'OBJECT','properties':{'topic':{'type':_0x8ac4fb(0x43c)},'questions':{'type':_0x8ac4fb(0xea8),'items':_0x359fca}},'required':[_0x8ac4fb(0xf14),_0x8ac4fb(0xaff)]},_0x26b464='จากไฟล์ที่แนบมานี้,\x20'+_0x504a57,_0x57474f={'contents':[{'parts':[{'text':_0x26b464},{'inlineData':{'mimeType':_0x3b8980,'data':_0x1a35e5}}]}],'generationConfig':{'responseMimeType':_0x8ac4fb(0xee0),'responseSchema':_0x484408}};return handleApiCall(_0x57474f[_0x8ac4fb(0x920)][0x0]['parts'],_0x8ac4fb(0x9d4),_0x484408);}async function handleApiCall(_0x35e5e7,_0x174c0e,_0x13d906,_0x2cfce4=null,_0x365aec=!![],_0x18e80c=null,_0x4fdd33=null){const _0x4a50d9=_0x3d653b,_0xf21001=document[_0x4a50d9(0xb29)](_0x4a50d9(0xe8e)),_0x356928=document[_0x4a50d9(0xb29)](_0x4a50d9(0x6dc)),_0x5b52e4=document[_0x4a50d9(0xb29)](_0x4a50d9(0x193)),_0x3a2bf5=document[_0x4a50d9(0xb29)](_0x4a50d9(0xf24));_0xf21001[_0x4a50d9(0x26b)][_0x4a50d9(0x937)](_0x4a50d9(0x932));_0x2cfce4===null&&_0x365aec&&(_0x3a2bf5[_0x4a50d9(0xd04)]='');_0x356928[_0x4a50d9(0x26b)]['remove'](_0x4a50d9(0x932)),_0x5b52e4['textContent']=_0x174c0e,document['getElementById'](_0x4a50d9(0xdac))[_0x4a50d9(0xeee)]=!![],document['getElementById'](_0x4a50d9(0x2de))[_0x4a50d9(0xeee)]=!![],document[_0x4a50d9(0xb29)](_0x4a50d9(0xbe9))[_0x4a50d9(0xeee)]=!![];const _0x51d337=document[_0x4a50d9(0xb29)](_0x4a50d9(0x40a));if(_0x51d337)_0x51d337[_0x4a50d9(0xeee)]=!![];const _0x4bab3b=document['getElementById'](_0x4a50d9(0xc37));if(_0x4bab3b)_0x4bab3b[_0x4a50d9(0xeee)]=!![];const _0x2feca4=document[_0x4a50d9(0xb29)](_0x4a50d9(0xc73));if(_0x2feca4)_0x2feca4[_0x4a50d9(0xeee)]=!![];try{const _0x46272d=Array[_0x4a50d9(0x51a)](_0x35e5e7)?_0x35e5e7:[{'text':_0x35e5e7}],_0x408560={'contents':[{'role':_0x4a50d9(0x30b),'parts':_0x46272d}]};_0x13d906&&(_0x408560[_0x4a50d9(0xa6d)]={'responseMimeType':_0x4a50d9(0xee0),'responseSchema':_0x13d906});const _0x5b1380=_0x4a50d9(0x678),_0x9c3931='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x5b1380,_0x1db46b=await fetch(_0x9c3931,{'method':_0x4a50d9(0xc7c),'headers':{'Content-Type':_0x4a50d9(0xee0)},'body':JSON[_0x4a50d9(0x437)](_0x408560)});if(!_0x1db46b['ok']){const _0x98eee4=await _0x1db46b[_0x4a50d9(0x922)]();console['error']('API\x20Error\x20Response:',_0x98eee4);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x1db46b[_0x4a50d9(0x389)]);}const _0x9e9aaf=await _0x1db46b[_0x4a50d9(0x385)]();if(!_0x9e9aaf['candidates']||_0x9e9aaf[_0x4a50d9(0xb19)]['length']===0x0){let _0x1cf6e5=_0x4a50d9(0xb55);return _0x9e9aaf[_0x4a50d9(0x36c)]?.['blockReason']&&(_0x1cf6e5=_0x4a50d9(0xcde)+_0x9e9aaf[_0x4a50d9(0x36c)][_0x4a50d9(0xb4f)]+'.'),console[_0x4a50d9(0x3b5)](_0x1cf6e5,JSON[_0x4a50d9(0x437)](_0x9e9aaf)),null;}const _0x347589=_0x9e9aaf['candidates'][0x0][_0x4a50d9(0x220)][_0x4a50d9(0x3c7)][0x0]['text'];if(_0x13d906){let _0x46172e=_0x347589;if(_0x46172e[_0x4a50d9(0x7f8)](_0x4a50d9(0x229)))_0x46172e=_0x46172e[_0x4a50d9(0x232)](0x7,_0x46172e[_0x4a50d9(0xe84)]-0x3)['trim']();else _0x46172e[_0x4a50d9(0x7f8)](_0x4a50d9(0x8c9))&&(_0x46172e=_0x46172e[_0x4a50d9(0x232)](0x3,_0x46172e['length']-0x3)[_0x4a50d9(0x46f)]());let _0x142843=JSON[_0x4a50d9(0xf2d)](_0x46172e);if(_0x142843[_0x4a50d9(0xaff)]&&Array[_0x4a50d9(0x51a)](_0x142843[_0x4a50d9(0xaff)])){const _0x477aaf=_0x142843[_0x4a50d9(0xaff)]['filter'](_0x39d322=>_0x39d322[_0x4a50d9(0xc4a)]===_0x4a50d9(0x76e));if(_0x477aaf[_0x4a50d9(0xe84)]>0x1){const _0x536c65=_0x477aaf[_0x4a50d9(0x643)](_0x2e88c5=>_0x2e88c5[_0x4a50d9(0x500)])[_0x4a50d9(0x5f5)](_0x2e9aa7=>_0x2e9aa7&&_0x2e9aa7[_0x4a50d9(0x46f)]()!=='');shuffleArray(_0x536c65),_0x477aaf['forEach'](_0x40116c=>{_0x40116c['allResponses']=[..._0x536c65];}),console[_0x4a50d9(0xee3)](_0x4a50d9(0xe4f),_0x536c65);}}if(_0x365aec){if(_0x2cfce4!==null){if(currentEditingQuizData&&currentEditingQuizData['questions']){}}else currentQuizData=_0x142843,displayGeneratedQuiz(currentQuizData,_0x18e80c,_0x4fdd33);}return _0x142843;}else return _0x347589;}catch(_0x5eb8ce){console[_0x4a50d9(0x3b5)](_0x4a50d9(0x7e9),_0x5eb8ce),showMessage(_0x4a50d9(0x9b8)+_0x5eb8ce[_0x4a50d9(0x837)]);_0x365aec&&(_0x3a2bf5['innerHTML']=_0x4a50d9(0x17d));throw _0x5eb8ce;}finally{_0x356928['classList'][_0x4a50d9(0x224)](_0x4a50d9(0x932)),document['getElementById']('generate-from-topic-btn')[_0x4a50d9(0xeee)]=![],document[_0x4a50d9(0xb29)](_0x4a50d9(0x2de))['disabled']=![],document['getElementById'](_0x4a50d9(0xbe9))['disabled']=![];if(_0x51d337)_0x51d337[_0x4a50d9(0xeee)]=![];if(_0x4bab3b)_0x4bab3b[_0x4a50d9(0xeee)]=![];if(_0x2feca4)_0x2feca4['disabled']=![];}}function exitFullscreen(){const _0x4412aa=_0x3d653b;if(document['exitFullscreen'])document[_0x4412aa(0xe3e)]()[_0x4412aa(0xdcf)](_0xc3a1f6=>console[_0x4412aa(0x3b5)](_0xc3a1f6));else{if(document[_0x4412aa(0xbe5)])document[_0x4412aa(0xbe5)]();else document[_0x4412aa(0x34c)]&&document[_0x4412aa(0x34c)]();}}function enterFullscreen(){const _0xc9ad24=_0x3d653b,_0x524c3c=document['documentElement'];if(_0x524c3c['requestFullscreen'])_0x524c3c[_0xc9ad24(0x81e)]()[_0xc9ad24(0xdcf)](_0x20ef17=>{const _0x27de24=_0xc9ad24;console[_0x27de24(0x3b5)](_0x27de24(0x44d)+_0x20ef17[_0x27de24(0x837)]+'\x20('+_0x20ef17['name']+')');});else{if(_0x524c3c[_0xc9ad24(0x764)])_0x524c3c['webkitRequestFullscreen']();else _0x524c3c[_0xc9ad24(0xc69)]&&_0x524c3c[_0xc9ad24(0xc69)]();}}function handleCheatingEvent(){const _0x1cfb29=_0x3d653b;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1cfb29(0x39b),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1cfb29(0x270)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x1cfb29(0xb29)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x1cfb29(0xadb)]('visibilitychange',handleVisibilityChange),document[_0x1cfb29(0xadb)](_0x1cfb29(0x5bc),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x1cfb29(0x38f),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2d4bd5=_0x3d653b;if(currentMode===_0x2d4bd5(0xcd8)||!isQuizActive)return;if(document[_0x2d4bd5(0xc10)]===_0x2d4bd5(0x932))handleCheatingEvent();else document[_0x2d4bd5(0xc10)]===_0x2d4bd5(0xbd2)&&(console[_0x2d4bd5(0xee3)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2322e3=_0x3d653b;if(currentMode===_0x2322e3(0xcd8)||!isQuizActive)return;!document[_0x2322e3(0xe27)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x13d5f6,_0x1bcd92=null,_0x5daaf5=null){const _0x4c409b=_0x3d653b,_0x31e99c=document[_0x4c409b(0xb29)]('generated-quiz-container');let _0x518acb='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x13d5f6[_0x4c409b(0xf14)]+_0x4c409b(0x51b);_0x13d5f6[_0x4c409b(0xaff)]['forEach']((_0x99d065,_0x8cad44)=>{const _0x571d1f=_0x4c409b;!_0x99d065['id']&&(_0x99d065['id']='q_'+Date['now']()+'_'+_0x8cad44);const _0x15b12d=_0x99d065['questionType']||_0x13d5f6['quizType'];_0x518acb+=_0x571d1f(0x579)+_0x8cad44+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x8cad44+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x8cad44+_0x571d1f(0x27e);_0x15b12d==='matching_item'?_0x518acb+=_0x571d1f(0xb16)+_0x8cad44+'\x22>'+(_0x8cad44+0x1)+'.\x20'+_0x99d065[_0x571d1f(0x3bf)]+_0x571d1f(0xdba):_0x518acb+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x8cad44+'\x22>'+(_0x8cad44+0x1)+'.\x20'+_0x99d065[_0x571d1f(0x4cd)]+'</p>';_0x99d065[_0x571d1f(0x921)]&&(_0x518acb+=_0x571d1f(0x524)+_0x8cad44+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x99d065[_0x571d1f(0x921)]+_0x571d1f(0xe78));if(_0x99d065['options']&&Array[_0x571d1f(0x51a)](_0x99d065['options'])&&_0x99d065[_0x571d1f(0x802)][_0x571d1f(0xe84)]>0x0)_0x518acb+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x8cad44+_0x571d1f(0xa9a)+_0x99d065[_0x571d1f(0x802)][_0x571d1f(0x643)]((_0x142e8f,_0x2b3739)=>_0x571d1f(0x856)+(_0x2b3739===_0x99d065['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x142e8f+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>';else{if(_0x15b12d===_0x571d1f(0x76e)||_0x99d065['correctResponse'])_0x518acb+=_0x571d1f(0x83c)+_0x8cad44+'\x22>'+_0x99d065[_0x571d1f(0x500)]+_0x571d1f(0x873);else{if(_0x15b12d===_0x571d1f(0x80d)||typeof _0x99d065[_0x571d1f(0x1b0)]===_0x571d1f(0x4b4))_0x518acb+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x99d065[_0x571d1f(0x1b0)]===!![]?_0x571d1f(0x914):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x99d065['correctAnswer']===![]?_0x571d1f(0x914):'')+_0x571d1f(0xc1c);else _0x99d065['idealAnswer']?_0x518acb+=_0x571d1f(0x231)+_0x8cad44+'\x22>'+_0x99d065[_0x571d1f(0x5b2)]+'</span></div>':_0x518acb+=_0x571d1f(0xe46);}}_0x518acb+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x8cad44+'\x22>'+_0x99d065[_0x571d1f(0x96c)]+_0x571d1f(0x873),_0x518acb+='</div>';}),_0x518acb+=_0x4c409b(0x2da),_0x31e99c[_0x4c409b(0xd04)]=_0x518acb,document[_0x4c409b(0x948)](_0x4c409b(0x5c0))[_0x4c409b(0x57b)](_0x3dc28f=>_0x3dc28f[_0x4c409b(0x652)](_0x4c409b(0xc7b),handleEditQuestion)),document[_0x4c409b(0x948)](_0x4c409b(0xd7c))['forEach'](_0x1a2a27=>_0x1a2a27[_0x4c409b(0x652)]('click',handleRegenerateQuestion)),document[_0x4c409b(0xb29)]('export-worksheet-pdf-btn')[_0x4c409b(0x652)](_0x4c409b(0xc7b),exportQuizAsWorksheetPDF),document[_0x4c409b(0xb29)](_0x4c409b(0xbd6))[_0x4c409b(0x652)](_0x4c409b(0xc7b),handleVerifyAnswers);const _0x41cc69=document[_0x4c409b(0xb29)]('save-quiz-btn');if(_0x41cc69){const _0xa852f4=_0x1bcd92||currentProjectId;_0x41cc69[_0x4c409b(0x652)](_0x4c409b(0xc7b),()=>saveQuiz(_0xa852f4,_0x5daaf5));}if(window[_0x4c409b(0x348)])window['MathJax'][_0x4c409b(0x7e6)]([_0x31e99c]);}function handleRegenerateQuestion(_0x1e6e37){const _0x45a9c1=_0x3d653b,_0x82371b=_0x1e6e37[_0x45a9c1(0x47f)][_0x45a9c1(0x63c)]['index'],_0x3854c8=currentQuizData[_0x45a9c1(0xf14)];showMessage(_0x45a9c1(0x24c)+(parseInt(_0x82371b)+0x1)+_0x45a9c1(0x69d)),generateQuiz(_0x3854c8,null,parseInt(_0x82371b));}function getPointerPosition(_0x22665a,_0x49cc42){const _0x170a4d=_0x3d653b,_0x5ebb37=_0x22665a[_0x170a4d(0xc7a)]();let _0x519855,_0x381676;return _0x49cc42[_0x170a4d(0x45e)]&&_0x49cc42[_0x170a4d(0x45e)][_0x170a4d(0xe84)]>0x0?(_0x519855=_0x49cc42[_0x170a4d(0x45e)][0x0][_0x170a4d(0x2af)],_0x381676=_0x49cc42['touches'][0x0][_0x170a4d(0xc72)]):(_0x519855=_0x49cc42[_0x170a4d(0x2af)],_0x381676=_0x49cc42['clientY']),{'x':(_0x519855-_0x5ebb37['e'])/_0x5ebb37['a'],'y':(_0x381676-_0x5ebb37['f'])/_0x5ebb37['d']};}function startDrag(_0x239019){const _0x17ccb6=_0x3d653b;_0x239019[_0x17ccb6(0x596)]==='touchstart'&&_0x239019['preventDefault']();const _0x282275=_0x239019[_0x17ccb6(0xadf)][_0x17ccb6(0x2e3)](_0x17ccb6(0x741));if(_0x282275){draggedSvgElement=_0x282275;const _0xe2c1b1=draggedSvgElement[_0x17ccb6(0x1b9)],_0x4aa127=getPointerPosition(_0xe2c1b1,_0x239019);svgOffset['x']=_0x4aa127['x']-parseFloat(draggedSvgElement[_0x17ccb6(0x992)](null,'x')),svgOffset['y']=_0x4aa127['y']-parseFloat(draggedSvgElement[_0x17ccb6(0x992)](null,'y'));}}function calculateItemAnalysis(_0x32a9a1,_0x23f20b){const _0x8f1ae7=_0x3d653b,_0x505f6d={};if(_0x23f20b[_0x8f1ae7(0xe84)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x341e8=[..._0x23f20b]['sort']((_0x3395f0,_0x4fa915)=>{const _0x4a3bfe=_0x8f1ae7,_0xa8ec85=_0x4fa915['latestScore']-_0x3395f0[_0x4a3bfe(0xc3e)];if(_0xa8ec85!==0x0)return _0xa8ec85;const _0x42027a=_0x3395f0['attempts']?.[_0x4a3bfe(0xe84)]||0x1,_0xf5cd36=_0x4fa915['attempts']?.[_0x4a3bfe(0xe84)]||0x1,_0xe6a475=_0x42027a-_0xf5cd36;if(_0xe6a475!==0x0)return _0xe6a475;const _0x36ecc6=new Date(_0x3395f0[_0x4a3bfe(0x368)]),_0x353614=new Date(_0x4fa915[_0x4a3bfe(0x368)]),_0x5924c2=_0x36ecc6-_0x353614;if(_0x5924c2!==0x0)return _0x5924c2;return _0x3395f0[_0x4a3bfe(0xb34)]['localeCompare'](_0x4fa915[_0x4a3bfe(0xb34)],'th');}),_0x2923c2=_0x341e8['length'],_0x35c3ae=Math[_0x8f1ae7(0xd18)](0x1,Math[_0x8f1ae7(0x6ae)](_0x2923c2*0.33));if(_0x35c3ae===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x51dd61=_0x341e8[_0x8f1ae7(0x7e8)](0x0,_0x35c3ae),_0x128636=_0x341e8[_0x8f1ae7(0x7e8)](-_0x35c3ae),_0x21328d=_0x51dd61['map'](_0x4131db=>_0x4131db[_0x8f1ae7(0xb34)]),_0x49e66b=_0x128636[_0x8f1ae7(0x643)](_0xe0de75=>_0xe0de75[_0x8f1ae7(0xb34)]);return _0x32a9a1[_0x8f1ae7(0xaff)][_0x8f1ae7(0x57b)]((_0x1ab668,_0x4cce36)=>{const _0x1e4a14=_0x8f1ae7,_0x579c4c=_0x1ab668[_0x1e4a14(0x3bf)]||_0x1ab668[_0x1e4a14(0x4cd)];let _0x279ec1=0x0,_0x1c4156=0x0,_0x5c83ba=0x0;const _0x1b8090=[],_0x313e38=[];_0x51dd61[_0x1e4a14(0x57b)](_0x1cbfec=>{const _0x4166b9=_0x1e4a14,_0x262418=_0x1cbfec[_0x4166b9(0x84f)][_0x1cbfec['attempts'][_0x4166b9(0xe84)]-0x1],_0x54eae5=_0x262418[_0x4166b9(0x91f)][_0x4166b9(0xb46)](_0x350472=>_0x350472[_0x4166b9(0xaf3)]===_0x579c4c);_0x1b8090['push']({'name':_0x1cbfec[_0x4166b9(0xb34)],'isCorrect':_0x54eae5?_0x54eae5[_0x4166b9(0x1ce)]:![]}),_0x54eae5&&_0x54eae5[_0x4166b9(0x1ce)]&&_0x1c4156++;}),_0x128636[_0x1e4a14(0x57b)](_0x2b6ffe=>{const _0x525437=_0x1e4a14,_0x20e953=_0x2b6ffe[_0x525437(0x84f)][_0x2b6ffe['attempts'][_0x525437(0xe84)]-0x1],_0x491404=_0x20e953[_0x525437(0x91f)][_0x525437(0xb46)](_0x3e5ed8=>_0x3e5ed8[_0x525437(0xaf3)]===_0x579c4c);_0x313e38[_0x525437(0xf06)]({'name':_0x2b6ffe['studentName'],'isCorrect':_0x491404?_0x491404[_0x525437(0x1ce)]:![]}),_0x491404&&_0x491404[_0x525437(0x1ce)]&&_0x5c83ba++;}),_0x23f20b[_0x1e4a14(0x57b)](_0xee2a49=>{const _0x145182=_0x1e4a14,_0x4b1967=_0xee2a49[_0x145182(0x84f)][_0xee2a49['attempts'][_0x145182(0xe84)]-0x1],_0x2a36c9=_0x4b1967[_0x145182(0x91f)][_0x145182(0xb46)](_0x282af1=>_0x282af1[_0x145182(0xaf3)]===_0x579c4c);_0x2a36c9&&_0x2a36c9[_0x145182(0x1ce)]&&_0x279ec1++;});const _0x5c6ae7=_0x2923c2>0x0?_0x279ec1/_0x2923c2:0x0,_0x44fcc8=_0x35c3ae>0x0?_0x1c4156/_0x35c3ae-_0x5c83ba/_0x35c3ae:0x0;_0x505f6d[_0x4cce36]={'p':_0x5c6ae7,'r':_0x44fcc8,'upperGroupResponders':_0x1b8090,'lowerGroupResponders':_0x313e38};}),{'perQuestionStats':_0x505f6d,'overallGroups':{'upperGroupNames':_0x21328d,'lowerGroupNames':_0x49e66b}};}function drag(_0x2dc3cf){const _0x308ba1=_0x3d653b;if(draggedSvgElement){_0x2dc3cf[_0x308ba1(0x486)]();const _0x57a360=draggedSvgElement[_0x308ba1(0x1b9)],_0xbe1e1c=getPointerPosition(_0x57a360,_0x2dc3cf),_0x1f8118=_0x57a360['viewBox'][_0x308ba1(0x877)];let _0x204646=_0xbe1e1c['x']-svgOffset['x'],_0x4daa68=_0xbe1e1c['y']-svgOffset['y'];const _0x5a08f5=draggedSvgElement[_0x308ba1(0xd91)]();_0x204646=Math[_0x308ba1(0xd18)](_0x1f8118['x'],Math[_0x308ba1(0x748)](_0x204646,_0x1f8118['x']+_0x1f8118[_0x308ba1(0x9f6)]-_0x5a08f5[_0x308ba1(0x9f6)])),_0x4daa68=Math[_0x308ba1(0xd18)](_0x1f8118['y'],Math[_0x308ba1(0x748)](_0x4daa68,_0x1f8118['y']+_0x1f8118['height']-_0x5a08f5[_0x308ba1(0x674)])),draggedSvgElement[_0x308ba1(0x56b)](null,'x',_0x204646),draggedSvgElement['setAttributeNS'](null,'y',_0x4daa68);}}function endDrag(_0xbe27bf){draggedSvgElement=null;}function handleSvgEditClick(_0x5eccda){const _0x4371fa=_0x3d653b;if(_0x5eccda[_0x4371fa(0xadf)][_0x4371fa(0x26b)][_0x4371fa(0xa4c)]('delete-svg-btn')){const _0x169b28=_0x5eccda[_0x4371fa(0xadf)][_0x4371fa(0x63c)][_0x4371fa(0xaaf)],_0x394045=_0x5eccda['currentTarget'],_0x51a00c=_0x394045[_0x4371fa(0x327)]('#'+_0x169b28);_0x51a00c&&_0x51a00c['remove'](),_0x5eccda[_0x4371fa(0xadf)]['remove']();}}function handleEditQuestion(_0x35c92d){const _0x4a2104=_0x3d653b,_0xb6bba3=_0x35c92d[_0x4a2104(0x47f)],_0x2c8ee8=_0xb6bba3[_0x4a2104(0x63c)][_0x4a2104(0x294)],_0x1840bd=currentQuizData['questions'][_0x2c8ee8],_0x3e8920=document[_0x4a2104(0xb29)]('q-text-'+_0x2c8ee8),_0x5683c2=document['getElementById'](_0x4a2104(0x943)+_0x2c8ee8),_0x1addf6=document['getElementById'](_0x4a2104(0x343)+_0x2c8ee8);if(_0xb6bba3['innerHTML'][_0x4a2104(0xecb)](_0x4a2104(0x381))){_0xb6bba3[_0x4a2104(0xd04)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0xb6bba3['title']=_0x4a2104(0x590);if(_0x3e8920)_0x3e8920[_0x4a2104(0x8f7)]=!![];if(_0x5683c2)_0x5683c2[_0x4a2104(0x8f7)]=!![];if(_0x1addf6){const _0x3f90db=_0x1addf6['querySelector'](_0x4a2104(0xee2));if(_0x3f90db){const _0x215b78=_0x3f90db[_0x4a2104(0x948)]('text');_0x215b78[_0x4a2104(0x57b)]((_0x521a4e,_0x650a52)=>{const _0x4cebc1=_0x4a2104,_0x26588a=_0x4cebc1(0x243)+_0x2c8ee8+'-'+_0x650a52;_0x521a4e['id']=_0x26588a,_0x521a4e[_0x4cebc1(0x26b)]['add'](_0x4cebc1(0xcda)),_0x521a4e[_0x4cebc1(0xa90)][_0x4cebc1(0x2a7)]='move';const _0x32d59f=document[_0x4cebc1(0x654)](_0x4cebc1(0x659),'circle'),_0x10695e=_0x521a4e[_0x4cebc1(0xd91)]();_0x32d59f[_0x4cebc1(0xbcc)]('cx',String(_0x10695e['x']+_0x10695e[_0x4cebc1(0x9f6)]+0x5)),_0x32d59f[_0x4cebc1(0xbcc)]('cy',String(_0x10695e['y']+_0x10695e[_0x4cebc1(0x674)]/0x2-0x5)),_0x32d59f['setAttribute']('r','5'),_0x32d59f[_0x4cebc1(0xbcc)](_0x4cebc1(0xd17),_0x4cebc1(0xb5d)),_0x32d59f[_0x4cebc1(0xbcc)]('class',_0x4cebc1(0x7ca)),_0x32d59f[_0x4cebc1(0x63c)][_0x4cebc1(0xaaf)]=_0x26588a,_0x521a4e['after'](_0x32d59f);}),_0x3f90db[_0x4a2104(0x652)](_0x4a2104(0x4e8),startDrag),_0x3f90db['addEventListener']('mousemove',drag),_0x3f90db[_0x4a2104(0x652)]('mouseup',endDrag),_0x3f90db['addEventListener'](_0x4a2104(0x280),endDrag),_0x3f90db['addEventListener'](_0x4a2104(0x253),startDrag,{'passive':![]}),_0x3f90db['addEventListener'](_0x4a2104(0x5d2),drag,{'passive':![]}),_0x3f90db[_0x4a2104(0x652)](_0x4a2104(0xf11),endDrag),_0x3f90db[_0x4a2104(0x652)](_0x4a2104(0x88f),endDrag),_0x3f90db[_0x4a2104(0x652)](_0x4a2104(0xc7b),handleSvgEditClick);}}if(_0x3e8920)_0x3e8920[_0x4a2104(0xba4)]();}else{_0xb6bba3['innerHTML']=_0x4a2104(0xb7d),_0xb6bba3['title']='แก้ไขข้อนี้';if(_0x3e8920){_0x3e8920[_0x4a2104(0x8f7)]=![];const _0x257acc=_0x1840bd['questionType']||currentQuizData['quizType'];_0x257acc===_0x4a2104(0x76e)?_0x1840bd[_0x4a2104(0x3bf)]=_0x3e8920[_0x4a2104(0x1a0)][_0x4a2104(0x232)](_0x3e8920[_0x4a2104(0x1a0)]['indexOf']('.')+0x2)[_0x4a2104(0x46f)]():_0x1840bd[_0x4a2104(0x4cd)]=_0x3e8920['innerText'][_0x4a2104(0x232)](_0x3e8920['innerText']['indexOf']('.')+0x2)[_0x4a2104(0x46f)]();}_0x5683c2&&(_0x5683c2[_0x4a2104(0x8f7)]=![],_0x1840bd['explanation']=_0x5683c2[_0x4a2104(0x1a0)]);if(_0x1addf6){const _0x1a8b19=_0x1addf6[_0x4a2104(0x327)]('svg');if(_0x1a8b19){const _0x409bc2=_0x1a8b19['cloneNode'](!![]);_0x409bc2[_0x4a2104(0x948)]('.delete-svg-btn')[_0x4a2104(0x57b)](_0x2c3732=>_0x2c3732['remove']()),_0x409bc2[_0x4a2104(0x948)](_0x4a2104(0x741))['forEach'](_0x41af6e=>{const _0x31c23b=_0x4a2104;_0x41af6e['classList'][_0x31c23b(0x937)](_0x31c23b(0xcda)),_0x41af6e['style'][_0x31c23b(0x2a7)]=_0x31c23b(0x434),_0x41af6e[_0x31c23b(0x87e)]('id');}),_0x1840bd['imageCode']=_0x409bc2[_0x4a2104(0xe38)],_0x1a8b19['removeEventListener'](_0x4a2104(0x4e8),startDrag),_0x1a8b19['removeEventListener']('mousemove',drag),_0x1a8b19[_0x4a2104(0xadb)]('mouseup',endDrag),_0x1a8b19[_0x4a2104(0xadb)](_0x4a2104(0x280),endDrag),_0x1a8b19[_0x4a2104(0xadb)](_0x4a2104(0x253),startDrag),_0x1a8b19['removeEventListener'](_0x4a2104(0x5d2),drag),_0x1a8b19[_0x4a2104(0xadb)](_0x4a2104(0xf11),endDrag),_0x1a8b19[_0x4a2104(0xadb)](_0x4a2104(0x88f),endDrag),_0x1a8b19['removeEventListener'](_0x4a2104(0xc7b),handleSvgEditClick),_0x1a8b19[_0x4a2104(0x948)]('.delete-svg-btn')[_0x4a2104(0x57b)](_0x1d0b65=>_0x1d0b65[_0x4a2104(0x937)]()),_0x1a8b19[_0x4a2104(0x948)](_0x4a2104(0x741))['forEach'](_0x205939=>{const _0x4dbce0=_0x4a2104;_0x205939['classList']['remove'](_0x4dbce0(0xcda)),_0x205939[_0x4dbce0(0xa90)][_0x4dbce0(0x2a7)]=_0x4dbce0(0x434);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5f1c89){const _0x5afa45=_0x3d653b,_0x47d4d7=document[_0x5afa45(0xb29)]('quiz-editor-modal'),_0x55830e=document[_0x5afa45(0xb29)]('quiz-editor-questions-container');_0x55830e[_0x5afa45(0xd04)]=_0x5afa45(0x543),_0x47d4d7[_0x5afa45(0x26b)][_0x5afa45(0x937)](_0x5afa45(0x932));try{const _0x904adc=doc(db,_0x5afa45(0xc9f)+appId+_0x5afa45(0xd47),_0x5f1c89),_0x594431=await getDoc(_0x904adc);if(!_0x594431[_0x5afa45(0x267)]())throw new Error(_0x5afa45(0x59c));currentEditingQuizData={'id':_0x5f1c89,..._0x594431[_0x5afa45(0xcbd)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x49fa9f){console['error']('Error\x20opening\x20quiz\x20editor:',_0x49fa9f),showMessage(_0x5afa45(0x311)),_0x47d4d7['classList'][_0x5afa45(0x224)](_0x5afa45(0x932));}}function renderQuizEditor(_0x3744f2){const _0x87759f=_0x3d653b;document['getElementById'](_0x87759f(0x97e))[_0x87759f(0xc4b)]=_0x3744f2[_0x87759f(0xf14)];const _0x410d38=document[_0x87759f(0xb29)](_0x87759f(0x227));let _0x243f5e=_0x3744f2['questions'][_0x87759f(0x643)]((_0x2979bc,_0x4bfcfa)=>{const _0x3e6fac=_0x87759f;let _0x537794='';const _0x10a9b9=_0x2979bc[_0x3e6fac(0xc4a)]||_0x3744f2[_0x3e6fac(0xca5)],_0x48cf93=(_0x10a9b9==='short_answer'||_0x10a9b9===_0x3e6fac(0x2fc))&&_0x2979bc[_0x3e6fac(0x802)]&&_0x2979bc[_0x3e6fac(0x802)][_0x3e6fac(0xe84)]>0x0;switch(_0x10a9b9){case _0x3e6fac(0xa08):const _0x3482cc=(_0x2979bc[_0x3e6fac(0x802)]||[])[_0x3e6fac(0x643)]((_0x564f69,_0x1c79d4)=>_0x3e6fac(0xa4f)+_0x4bfcfa+_0x3e6fac(0x9b0)+_0x1c79d4+'\x22\x20'+(_0x1c79d4===_0x2979bc['correctAnswerIndex']?'checked':'')+_0x3e6fac(0x550)+_0x564f69+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3e6fac(0x87d)]('');_0x537794='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x3482cc+_0x3e6fac(0xb5b);break;case _0x3e6fac(0x2fc):case _0x3e6fac(0x9d6):_0x537794=_0x3e6fac(0xb0d)+(_0x2979bc[_0x3e6fac(0x5b2)]||'')+_0x3e6fac(0xbc6);if(_0x48cf93){const _0x50cc98=(_0x2979bc[_0x3e6fac(0x802)]||[])[_0x3e6fac(0x643)]((_0x80a561,_0x5468e8)=>_0x3e6fac(0x1bb)+_0x4bfcfa+_0x3e6fac(0x9b0)+_0x5468e8+'\x22\x20'+(_0x5468e8===_0x2979bc['correctAnswerIndex']?_0x3e6fac(0x21d):'')+'\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x80a561+_0x3e6fac(0x594))[_0x3e6fac(0x87d)]('');_0x537794+=_0x3e6fac(0xe65)+_0x50cc98+_0x3e6fac(0xf15);}break;case _0x3e6fac(0x80d):_0x537794=_0x3e6fac(0xd53)+_0x4bfcfa+'\x22\x20value=\x22true\x22\x20'+(_0x2979bc['correctAnswer']===!![]?_0x3e6fac(0x21d):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x4bfcfa+_0x3e6fac(0xad9)+(_0x2979bc[_0x3e6fac(0x1b0)]===![]?_0x3e6fac(0x21d):'')+_0x3e6fac(0xbc1);break;case _0x3e6fac(0x76e):_0x537794='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2979bc[_0x3e6fac(0x500)]||'')+_0x3e6fac(0x607);break;}let _0x36cc90=_0x2979bc['questionText']||_0x2979bc[_0x3e6fac(0x3bf)]||'';_0x36cc90=_0x36cc90['replace'](/<br\s*\/?>/gi,'\x0a');let _0x174d53='';if(_0x10a9b9===_0x3e6fac(0xa08))_0x174d53='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>';else _0x48cf93&&(_0x174d53=_0x3e6fac(0xb4a));return _0x3e6fac(0x22c)+_0x4bfcfa+'\x22\x20data-q-type=\x22'+_0x10a9b9+_0x3e6fac(0x35b)+_0x174d53+_0x3e6fac(0x3f2)+(_0x4bfcfa+0x1)+'\x20('+_0x10a9b9+_0x3e6fac(0xf17)+_0x36cc90+_0x3e6fac(0x66d)+_0x537794+_0x3e6fac(0xe77);})[_0x87759f(0x87d)]('');_0x410d38[_0x87759f(0xd04)]=_0x243f5e;const _0x282dd5=_0x87759f(0xc47);_0x410d38['insertAdjacentHTML'](_0x87759f(0xbd5),_0x282dd5),_0x410d38[_0x87759f(0x948)](_0x87759f(0xbde))[_0x87759f(0x57b)](_0x16604e=>{const _0x28b4e2=_0x87759f;_0x16604e[_0x28b4e2(0xa90)][_0x28b4e2(0xde8)]=_0x28b4e2(0x932),_0x16604e[_0x28b4e2(0xa90)][_0x28b4e2(0x33f)]=_0x28b4e2(0xe2f),_0x16604e[_0x28b4e2(0x9f2)]=0x4;const _0x4b47f0=()=>{const _0xd5f7ab=_0x28b4e2;_0x16604e[_0xd5f7ab(0xa90)][_0xd5f7ab(0x674)]=_0xd5f7ab(0x18c),_0x16604e[_0xd5f7ab(0xa90)]['height']=_0x16604e[_0xd5f7ab(0xe2b)]+'px';};_0x16604e[_0x28b4e2(0x652)](_0x28b4e2(0xa58),_0x4b47f0),_0x4b47f0();}),_0x410d38[_0x87759f(0x948)]('.ai-fix-question-btn')[_0x87759f(0x57b)](_0x1c2342=>{const _0x10b6fd=_0x87759f;_0x1c2342[_0x10b6fd(0x652)](_0x10b6fd(0xc7b),handleAiFixQuestion);}),_0x410d38[_0x87759f(0x948)](_0x87759f(0x50f))[_0x87759f(0x57b)](_0x225482=>{const _0x3b186c=_0x87759f;_0x225482[_0x3b186c(0x652)]('click',_0x33a7f3=>{const _0xb909ee=_0x3b186c,_0x1bd0cf=parseInt(_0x33a7f3[_0xb909ee(0x47f)][_0xb909ee(0x2e3)](_0xb909ee(0xd75))['dataset']['qIndex'],0xa);handleAiFixFormula(_0x1bd0cf);});}),_0x410d38[_0x87759f(0x948)](_0x87759f(0x401))['forEach'](_0xdfba97=>{const _0x1a27ff=_0x87759f;_0xdfba97[_0x1a27ff(0x652)](_0x1a27ff(0xc7b),_0x3a72cb=>{const _0x165df5=_0x1a27ff,_0x535d07=parseInt(_0x3a72cb[_0x165df5(0x47f)][_0x165df5(0x2e3)](_0x165df5(0xd75))[_0x165df5(0x63c)]['qIndex'],0xa);handleToggleHiddenOptions(_0x535d07);});});}function handleToggleHiddenOptions(_0x270533){const _0x487840=_0x3d653b;if(!currentEditingQuizData||!currentEditingQuizData[_0x487840(0xaff)][_0x270533])return;const _0x3fa221=currentEditingQuizData[_0x487840(0xaff)][_0x270533],_0x2e82be=_0x3fa221[_0x487840(0xc4a)]||_0x487840(0xa08),_0x2b5885=document['querySelector'](_0x487840(0x82b)+_0x270533+'\x22]');if(_0x2b5885){_0x3fa221['questionText']=_0x2b5885['querySelector'](_0x487840(0x944))[_0x487840(0xc4b)];if(_0x2e82be===_0x487840(0xa08)){const _0x33722f=_0x2b5885['querySelectorAll'](_0x487840(0xa5e));_0x3fa221['options']=Array['from'](_0x33722f)[_0x487840(0x643)](_0x3d6b6f=>_0x3d6b6f[_0x487840(0xc4b)]);const _0x399873=_0x2b5885[_0x487840(0x327)](_0x487840(0x329));if(_0x399873)_0x3fa221['correctAnswerIndex']=parseInt(_0x399873[_0x487840(0xc4b)]);}else{if(_0x2e82be===_0x487840(0x9d6)||_0x2e82be==='fill_in_no_choices'){const _0x537838=_0x2b5885['querySelector'](_0x487840(0x322));if(_0x537838)_0x3fa221[_0x487840(0x5b2)]=_0x537838['value'];const _0x13fb3a=_0x2b5885[_0x487840(0x948)](_0x487840(0x7a7));_0x13fb3a[_0x487840(0xe84)]>0x0&&(_0x3fa221[_0x487840(0x802)]=Array[_0x487840(0x63b)](_0x13fb3a)['map'](_0x59bc43=>_0x59bc43[_0x487840(0xc4b)]));}}}_0x2e82be===_0x487840(0xa08)?(_0x3fa221[_0x487840(0xc4a)]='short_answer',_0x3fa221[_0x487840(0x802)]&&_0x3fa221[_0x487840(0x857)]!==undefined&&(_0x3fa221[_0x487840(0x5b2)]=_0x3fa221[_0x487840(0x802)][_0x3fa221[_0x487840(0x857)]]||'')):_0x3fa221[_0x487840(0xc4a)]='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x3e9b9e){const _0x52c55a=_0x3d653b;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x3e9b9e])return;const _0x3569f1=currentEditingQuizData[_0x52c55a(0xaff)][_0x3e9b9e][_0x52c55a(0x4cd)]||currentEditingQuizData['questions'][_0x3e9b9e][_0x52c55a(0x3bf)];showConfirmation(_0x52c55a(0x72b)+(_0x3e9b9e+0x1)+_0x52c55a(0xb75)+_0x3569f1[_0x52c55a(0x232)](0x0,0x14)+_0x52c55a(0xd58),()=>{const _0x541f22=_0x52c55a;currentEditingQuizData[_0x541f22(0xaff)][_0x541f22(0xdf1)](_0x3e9b9e,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x541f22(0x74d));});}function handleAddQuestionInEditor(){const _0x1f4d15=_0x3d653b;if(!currentEditingQuizData)return;const _0x23b1a2=document[_0x1f4d15(0xb29)](_0x1f4d15(0x4db)),_0x2fc360=_0x23b1a2?_0x23b1a2['value']:_0x1f4d15(0xa08);let _0x856a6c={'id':'q_'+Date[_0x1f4d15(0xbd7)]()+_0x1f4d15(0x78e),'questionType':_0x2fc360,'questionText':_0x1f4d15(0x50a),'explanation':'คำอธิบาย...'};switch(_0x2fc360){case'multiple_choice':_0x856a6c[_0x1f4d15(0x802)]=[_0x1f4d15(0x1cd),_0x1f4d15(0x19e),_0x1f4d15(0x49a),'ตัวเลือก\x20ง'],_0x856a6c[_0x1f4d15(0x857)]=0x0;break;case'short_answer':case'fill_in_no_choices':_0x856a6c['idealAnswer']=_0x1f4d15(0xc67);break;case _0x1f4d15(0x80d):_0x856a6c[_0x1f4d15(0x1b0)]=!![];break;case _0x1f4d15(0x76e):_0x856a6c[_0x1f4d15(0x3bf)]=_0x1f4d15(0xbda),_0x856a6c[_0x1f4d15(0x500)]=_0x1f4d15(0x8b9),_0x856a6c[_0x1f4d15(0x4cd)]=_0x1f4d15(0xbda);break;}currentEditingQuizData['questions'][_0x1f4d15(0xf06)](_0x856a6c),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x18c10f=_0x1f4d15,_0x42abc2=document[_0x18c10f(0x327)]('.question-editor-item:last-of-type');if(_0x42abc2){_0x42abc2[_0x18c10f(0x660)]({'behavior':_0x18c10f(0x284),'block':_0x18c10f(0x351)});const _0x7b1f82=_0x42abc2['querySelector']('textarea');if(_0x7b1f82)_0x7b1f82[_0x18c10f(0xba4)]();}},0x64);}async function handleAiFixQuestion(_0x3e6688){const _0x28842b=_0x3d653b,_0x26abe1=_0x3e6688[_0x28842b(0x47f)],_0x2346d7=_0x26abe1[_0x28842b(0x2e3)]('.question-editor-item');if(!_0x2346d7)return;const _0x253fb8=parseInt(_0x2346d7[_0x28842b(0x63c)]['qIndex'],0xa);if(isNaN(_0x253fb8)||!currentEditingQuizData['questions'][_0x253fb8]){showMessage(_0x28842b(0x9bc));return;}const _0x2f278d=currentEditingQuizData[_0x28842b(0xaff)][_0x253fb8];_0x26abe1['innerHTML']=_0x28842b(0xee9),_0x26abe1['disabled']=!![];const _0x7264fc=_0x28842b(0x6b6)+JSON[_0x28842b(0x437)](_0x2f278d)+_0x28842b(0x6f7);let _0x7738b6;const _0x3bc516=_0x2f278d[_0x28842b(0xc4a)]||currentEditingQuizData[_0x28842b(0xca5)];switch(_0x3bc516){case _0x28842b(0x9d6):_0x7738b6={'type':_0x28842b(0x4d4),'properties':{'questionText':{'type':_0x28842b(0x43c)},'idealAnswer':{'type':_0x28842b(0x43c)},'explanation':{'type':_0x28842b(0x43c)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x28842b(0x5b2),_0x28842b(0x96c)]};break;case _0x28842b(0xa08):default:_0x7738b6={'type':_0x28842b(0x4d4),'properties':{'questionText':{'type':_0x28842b(0x43c)},'options':{'type':_0x28842b(0xea8),'items':{'type':_0x28842b(0x43c)}},'correctAnswerIndex':{'type':_0x28842b(0x1e3)},'explanation':{'type':_0x28842b(0x43c)},'imageCode':{'type':_0x28842b(0x43c)}},'required':[_0x28842b(0x4cd),_0x28842b(0x802),_0x28842b(0x857),'explanation']};break;}try{let _0x27fc5a=await callAnalysisApi(_0x7264fc,_0x7738b6);_0x27fc5a[_0x28842b(0x802)]&&Array['isArray'](_0x27fc5a['options'])&&(_0x27fc5a[_0x28842b(0x802)]=_0x27fc5a['options'][_0x28842b(0x643)](_0x3b04ff=>typeof _0x3b04ff===_0x28842b(0xad4)?_0x3b04ff[_0x28842b(0x502)](/S(\s*[\d_]+?\s*)S/g,_0x28842b(0x91c)):_0x3b04ff)),_0x2f278d[_0x28842b(0x921)]&&_0x2f278d['imageCode'][_0x28842b(0xecb)]('fix\x20the\x20option')&&(_0x27fc5a[_0x28842b(0x921)]=''),currentEditingQuizData['questions'][_0x253fb8]={..._0x2f278d,..._0x27fc5a},renderQuizEditor(currentEditingQuizData),showMessage(_0x28842b(0x592));}catch(_0x23ff66){console[_0x28842b(0x3b5)]('AI\x20Fix\x20Error:',_0x23ff66),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x5d79e3=_0x3d653b,_0x1b2ef7=document['getElementById'](_0x5d79e3(0xdb6));_0x1b2ef7[_0x5d79e3(0xeee)]=!![],_0x1b2ef7[_0x5d79e3(0xd04)]=_0x5d79e3(0x20e);try{const _0x307dc2=document[_0x5d79e3(0xb29)](_0x5d79e3(0x97e))[_0x5d79e3(0xc4b)],_0x36a4f8=document['querySelectorAll'](_0x5d79e3(0xd75));let _0x49f327=[];const _0x3e5f7c=Array[_0x5d79e3(0x63b)](_0x36a4f8)['map']((_0x50df40,_0x473cfc)=>{const _0x4db90c=_0x5d79e3,_0x1b8b16=_0x50df40[_0x4db90c(0x63c)][_0x4db90c(0xedf)],_0x99c536=_0x50df40['querySelector'](_0x4db90c(0x944))['value'][_0x4db90c(0x502)](/\n/g,'<br>');let _0x325ca2={'questionType':_0x1b8b16};const _0x3a6e96=currentEditingQuizData[_0x4db90c(0xaff)][_0x473cfc]||{};switch(_0x1b8b16){case _0x4db90c(0xa08):_0x325ca2[_0x4db90c(0x4cd)]=_0x99c536;const _0x3c33e6=_0x50df40[_0x4db90c(0x948)]('.option-input');_0x325ca2['options']=Array[_0x4db90c(0x63b)](_0x3c33e6)[_0x4db90c(0x643)](_0x105e16=>_0x105e16[_0x4db90c(0xc4b)]);const _0x4a1957=_0x50df40[_0x4db90c(0x327)](_0x4db90c(0x329));_0x325ca2[_0x4db90c(0x857)]=_0x4a1957?parseInt(_0x4a1957[_0x4db90c(0xc4b)]):0x0;break;case _0x4db90c(0x2fc):case'short_answer':_0x325ca2[_0x4db90c(0x4cd)]=_0x99c536,_0x325ca2[_0x4db90c(0x5b2)]=_0x50df40['querySelector'](_0x4db90c(0x322))[_0x4db90c(0xc4b)];const _0xbbebfe=_0x50df40['querySelectorAll'](_0x4db90c(0x7a7));_0xbbebfe[_0x4db90c(0xe84)]>0x0?(_0x325ca2[_0x4db90c(0x802)]=Array['from'](_0xbbebfe)[_0x4db90c(0x643)](_0x311d9b=>_0x311d9b[_0x4db90c(0xc4b)]),_0x3a6e96[_0x4db90c(0x857)]!==undefined?_0x325ca2['correctAnswerIndex']=_0x3a6e96['correctAnswerIndex']:_0x325ca2['correctAnswerIndex']=0x0):(delete _0x325ca2['options'],delete _0x325ca2['correctAnswerIndex']);break;case _0x4db90c(0x80d):_0x325ca2[_0x4db90c(0x4cd)]=_0x99c536;const _0x322373=_0x50df40[_0x4db90c(0x327)](_0x4db90c(0x329));_0x325ca2[_0x4db90c(0x1b0)]=_0x322373?_0x322373[_0x4db90c(0xc4b)]===_0x4db90c(0xa82):!![];break;case _0x4db90c(0x76e):_0x325ca2[_0x4db90c(0x3bf)]=_0x99c536;const _0x158f46=_0x50df40['querySelector'](_0x4db90c(0x730));_0x325ca2['correctResponse']=_0x158f46?_0x158f46[_0x4db90c(0xc4b)]:'',_0x49f327[_0x4db90c(0xf06)](_0x325ca2[_0x4db90c(0x500)]);break;default:_0x325ca2[_0x4db90c(0x4cd)]=_0x99c536;break;}return{..._0x3a6e96,..._0x325ca2};});_0x49f327['length']>0x0&&_0x3e5f7c['forEach'](_0x58ad90=>{const _0x247503=_0x5d79e3;_0x58ad90[_0x247503(0xc4a)]===_0x247503(0x76e)&&(_0x58ad90[_0x247503(0x1e4)]=_0x49f327);});const _0x48bcf7=currentEditingQuizData['id'],_0x1782b1=doc(db,_0x5d79e3(0xc9f)+appId+'/public/data/quizzes',_0x48bcf7);await updateDoc(_0x1782b1,{'topic':_0x307dc2,'questions':_0x3e5f7c}),document['getElementById']('quiz-editor-modal')[_0x5d79e3(0x26b)][_0x5d79e3(0x224)](_0x5d79e3(0x932)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x48bcf7));}catch(_0x16e238){console[_0x5d79e3(0x3b5)](_0x5d79e3(0x1d2),_0x16e238),showMessage(_0x5d79e3(0xe36));}finally{_0x1b2ef7[_0x5d79e3(0xeee)]=![],_0x1b2ef7['innerHTML']=_0x5d79e3(0xccd);}}async function initiateReGradeProcess(_0x5b14f5){const _0x340979=_0x3d653b;showMessage(_0x340979(0x8b3));try{const _0x57ebb3=doc(db,_0x340979(0xc9f)+appId+_0x340979(0xd47),_0x5b14f5),_0xd4a41d=await getDoc(_0x57ebb3);if(!_0xd4a41d[_0x340979(0x267)]())throw new Error(_0x340979(0xc8a));const _0x2b9ff2={'id':_0x5b14f5,..._0xd4a41d[_0x340979(0xcbd)]()},_0x4a3302=collection(db,_0x340979(0xc9f)+appId+_0x340979(0xd47),_0x5b14f5,_0x340979(0x20f)),_0x3ab913=await getDocs(_0x4a3302);if(_0x3ab913[_0x340979(0xd9a)]){showMessage(_0x340979(0x2cc));return;}const _0x4cd6bb=_0x3ab913[_0x340979(0x574)][_0x340979(0x643)](_0x351082=>reGradeSingleSubmission(_0x351082,_0x2b9ff2));await Promise[_0x340979(0x689)](_0x4cd6bb);if(_0x2b9ff2[_0x340979(0x6c4)]){const _0x490b24=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2b9ff2[_0x340979(0x6c4)]),_0x10120a=await getDoc(_0x490b24);if(_0x10120a[_0x340979(0x267)]()&&_0x10120a[_0x340979(0xcbd)]()[_0x340979(0x828)]){const _0x23deef=_0x10120a['data']()[_0x340979(0x828)]['map'](_0x5ae3b7=>updateStudentProfile(_0x2b9ff2[_0x340979(0x6c4)],_0x5ae3b7));await Promise['all'](_0x23deef);}}showMessage(_0x340979(0xb37)+_0x3ab913[_0x340979(0x492)]+_0x340979(0xcd7));}catch(_0x5b9492){console[_0x340979(0x3b5)]('Re-grade\x20process\x20failed:',_0x5b9492),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x5b9492[_0x340979(0x837)]);}}async function reGradeSingleSubmission(_0x2c1c70,_0x5ee209){const _0x3fba21=_0x3d653b,_0x10771b=_0x2c1c70[_0x3fba21(0xcbd)](),_0xd61f60=_0x10771b[_0x3fba21(0xb34)],_0x5a0765=_0x10771b[_0x3fba21(0x84f)]||[],_0x40b2a3=[];for(const _0x18e737 of _0x5a0765){let _0x10e409=0x0,_0x196459=[],_0x58503b=0x0;const _0x1bbf4d=[];for(const _0x32076c of _0x18e737[_0x3fba21(0x91f)]){let _0x11f100;_0x32076c[_0x3fba21(0x23d)]&&(_0x11f100=_0x5ee209['questions'][_0x3fba21(0xb46)](_0x49c685=>_0x49c685['id']===_0x32076c[_0x3fba21(0x23d)]));!_0x11f100&&_0x32076c[_0x3fba21(0xaf3)]&&(_0x11f100=_0x5ee209[_0x3fba21(0xaff)]['find'](_0x30c26f=>(_0x30c26f[_0x3fba21(0x3bf)]||_0x30c26f[_0x3fba21(0x4cd)])===_0x32076c[_0x3fba21(0xaf3)]));let _0x1c5fc2=![];if(_0x11f100){const _0x5af876=_0x11f100[_0x3fba21(0xc4a)]||_0x5ee209['quizType'];switch(_0x5af876){case _0x3fba21(0xa08):if(_0x11f100[_0x3fba21(0x802)]&&_0x11f100[_0x3fba21(0x857)]<_0x11f100[_0x3fba21(0x802)][_0x3fba21(0xe84)]){const _0x2ce667=_0x11f100[_0x3fba21(0x802)][_0x11f100[_0x3fba21(0x857)]];_0x1c5fc2=_0x32076c[_0x3fba21(0x235)]===_0x2ce667;}break;case'true_false':const _0x54b4ac=_0x32076c[_0x3fba21(0xa5b)]===!![]||_0x32076c[_0x3fba21(0xa5b)]===_0x3fba21(0xa82);_0x1c5fc2=_0x54b4ac===_0x11f100[_0x3fba21(0x1b0)];break;case _0x3fba21(0x76e):_0x1c5fc2=_0x32076c['answer']===_0x11f100[_0x3fba21(0x500)];break;case _0x3fba21(0x9d6):_0x1c5fc2=await gradeShortAnswer(_0x32076c[_0x3fba21(0xa5b)],_0x11f100);break;default:_0x1c5fc2=_0x32076c[_0x3fba21(0x1ce)];break;}}if(_0x1c5fc2){_0x10e409++,_0x58503b++;if(_0x58503b===0x3)_0x196459['push'](BADGES[_0x3fba21(0x9bf)]['id']);}else _0x58503b=0x0;_0x1bbf4d['push']({..._0x32076c,'isCorrect':_0x1c5fc2});}let _0x4af9fe=0x0;const _0x410679=_0x18e737['isSyncGame']===!![]||_0x18e737[_0x3fba21(0x2ab)]>_0x5ee209[_0x3fba21(0xaff)][_0x3fba21(0xe84)]*0x14;_0x410679?_0x4af9fe=_0x18e737[_0x3fba21(0x2ab)]:(_0x4af9fe=_0x10e409*0xa,_0x10e409===_0x5ee209[_0x3fba21(0xaff)]['length']&&(_0x4af9fe+=0x32,_0x196459[_0x3fba21(0xf06)](BADGES[_0x3fba21(0x399)]['id']))),_0x40b2a3[_0x3fba21(0xf06)]({..._0x18e737,'score':_0x10e409,'points':_0x4af9fe,'badges':Array[_0x3fba21(0x63b)](new Set(_0x196459)),'answers':_0x1bbf4d});}const _0x8f839=_0x40b2a3[_0x3fba21(0xe84)]>0x0?_0x40b2a3[0x0]['score']:0x0,_0x294a81=Math[_0x3fba21(0xd18)](..._0x40b2a3[_0x3fba21(0x643)](_0x535d4=>_0x535d4['score'])),_0x1ffc02=_0x40b2a3[_0x3fba21(0xe84)]>0x0?_0x40b2a3[_0x40b2a3[_0x3fba21(0xe84)]-0x1][_0x3fba21(0x5e3)]:0x0,_0x4a907c=_0x40b2a3[_0x3fba21(0xe84)]>0x0?_0x40b2a3[_0x40b2a3[_0x3fba21(0xe84)]-0x1]['points']:0x0,_0x29b613=doc(db,_0x3fba21(0xc9f)+appId+_0x3fba21(0xec2)+_0x5ee209['id']+_0x3fba21(0x9d1),_0xd61f60);await updateDoc(_0x29b613,{'attempts':_0x40b2a3,'firstScore':_0x8f839,'bestScore':_0x294a81,'latestScore':_0x1ffc02,'points':_0x4a907c});}function cleanupQuizOptions(_0x386ceb){const _0x473d26=_0x3d653b,_0x10f6a5=(_0x37edbd,_0x585205)=>_0x585205===0x0?_0x37edbd:_0x10f6a5(_0x585205,_0x37edbd%_0x585205),_0x4d3a94=_0x3384ed=>{const _0x286801=_0x1c86;if(typeof _0x3384ed!==_0x286801(0xad4))return null;_0x3384ed=_0x3384ed[_0x286801(0x46f)]();const _0x175a32=_0x3384ed[_0x286801(0x28c)](/[ /]/)[_0x286801(0x5f5)](_0x31f104=>_0x31f104!=='');if(_0x175a32['length']===0x3)return parseInt(_0x175a32[0x0])+parseInt(_0x175a32[0x1])/parseInt(_0x175a32[0x2]);else{if(_0x175a32[_0x286801(0xe84)]===0x2)return parseInt(_0x175a32[0x0])/parseInt(_0x175a32[0x1]);else{if(_0x175a32[_0x286801(0xe84)]===0x1&&!isNaN(_0x175a32[0x0]))return parseFloat(_0x175a32[0x0]);}}return null;},_0x25eb32=_0x1c34e0=>{const _0x219e0c=_0x1c86;if(typeof _0x1c34e0!==_0x219e0c(0xad4))return _0x1c34e0;const _0x567ee4=_0x1c34e0[_0x219e0c(0xcc2)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x567ee4){const _0x228dea=parseInt(_0x567ee4[0x1]);let _0x183f0d=parseInt(_0x567ee4[0x2]),_0x3dcff2=parseInt(_0x567ee4[0x3]);const _0x44e59b=_0x10f6a5(_0x183f0d,_0x3dcff2);_0x183f0d/=_0x44e59b,_0x3dcff2/=_0x44e59b;if(_0x3dcff2===0x1)return(_0x228dea+_0x183f0d)['toString']();return _0x228dea+'\x20'+_0x183f0d+'/'+_0x3dcff2;}return _0x1c34e0;};return _0x386ceb&&_0x386ceb[_0x473d26(0xaff)]&&_0x386ceb[_0x473d26(0xaff)][_0x473d26(0x57b)](_0x178ce1=>{const _0x1dc5bd=_0x473d26;if(_0x178ce1[_0x1dc5bd(0xc4a)]===_0x1dc5bd(0xa08)&&_0x178ce1['options']){const _0x1316d2=new Map(),_0x15e3d2=_0x178ce1[_0x1dc5bd(0x802)][_0x178ce1[_0x1dc5bd(0x857)]];_0x178ce1[_0x1dc5bd(0x802)][_0x1dc5bd(0x57b)](_0x34e8d2=>{const _0x3233d8=_0x1dc5bd,_0x5ebda4=_0x25eb32(_0x34e8d2),_0x527fd3=_0x4d3a94(_0x5ebda4);_0x527fd3!==null&&!_0x1316d2[_0x3233d8(0xf27)](_0x527fd3)&&_0x1316d2[_0x3233d8(0x459)](_0x527fd3,_0x5ebda4);}),_0x178ce1['options']=Array[_0x1dc5bd(0x63b)](_0x1316d2[_0x1dc5bd(0xf02)]());const _0x2bede7=_0x178ce1[_0x1dc5bd(0x802)][_0x1dc5bd(0xe9c)](_0xf70d8f=>_0xf70d8f===_0x25eb32(_0x15e3d2));_0x178ce1[_0x1dc5bd(0x857)]=_0x2bede7!==-0x1?_0x2bede7:0x0;}}),_0x386ceb;}function showGameStartConfirmationModal(_0xe1fc78,_0x5836d7,_0x1df816){const _0x3e7940=_0x3d653b,_0x49259f=document[_0x3e7940(0xb29)](_0x3e7940(0x36a));document['getElementById'](_0x3e7940(0x93d))[_0x3e7940(0x6ab)]=_0x3e7940(0xe11)+_0x1df816,document[_0x3e7940(0xb29)](_0x3e7940(0xb05))[_0x3e7940(0xc4b)]=_0xe1fc78,document[_0x3e7940(0xb29)](_0x3e7940(0xb14))[_0x3e7940(0xc4b)]=_0x5836d7,document[_0x3e7940(0xb29)](_0x3e7940(0x169))['checked']=!![];const _0xba8a4a=document[_0x3e7940(0xb29)]('sync-variant-selector'),_0x556c4b=document[_0x3e7940(0xb29)](_0x3e7940(0x1ec)),_0x2ae864=document['getElementById'](_0x3e7940(0xc7e)),_0x4ef9e7=document[_0x3e7940(0xb29)](_0x3e7940(0xd0a)),_0x55d81f=document['getElementById'](_0x3e7940(0x372));if(_0x5836d7==='sync'){_0xba8a4a[_0x3e7940(0x26b)]['remove'](_0x3e7940(0x932));const _0x4cc903=_0x3e7940(0x872);document['querySelector'](_0x3e7940(0x5fe)+_0x4cc903+'\x22]')['checked']=!![];if(_0x55d81f)_0x55d81f[_0x3e7940(0x26b)]['remove'](_0x3e7940(0x932));_0x556c4b[_0x3e7940(0x21d)]=!![],_0x2ae864['classList'][_0x3e7940(0x937)](_0x3e7940(0x932)),document[_0x3e7940(0xb29)]('sync-timer-duration-input')[_0x3e7940(0xc4b)]=_0x3e7940(0x4eb),_0x4ef9e7['classList'][_0x3e7940(0x937)](_0x3e7940(0x932)),document[_0x3e7940(0xb29)](_0x3e7940(0xc03))[_0x3e7940(0x21d)]=!![];}else{_0xba8a4a[_0x3e7940(0x26b)][_0x3e7940(0x224)](_0x3e7940(0x932));if(_0x55d81f)_0x55d81f[_0x3e7940(0x26b)][_0x3e7940(0x224)](_0x3e7940(0x932));_0x556c4b['checked']=![],_0x2ae864[_0x3e7940(0x26b)][_0x3e7940(0x224)](_0x3e7940(0x932)),_0x4ef9e7[_0x3e7940(0x26b)][_0x3e7940(0x224)](_0x3e7940(0x932));}_0x49259f[_0x3e7940(0x26b)]['remove'](_0x3e7940(0x932));}async function saveGameResultsAsSubmissions(_0x31b725){const _0x1ed387=_0x3d653b;if(_0x31b725[_0x1ed387(0x5e2)]){console[_0x1ed387(0xee3)]('Game\x20results\x20already\x20saved.\x20Skipping.');return;}console['log'](_0x1ed387(0xcdb),_0x31b725);const _0x21980c=_0x31b725[_0x1ed387(0x31e)];let _0x402b99=[];if(_0x31b725['players'])_0x402b99=Object[_0x1ed387(0xe63)](_0x31b725[_0x1ed387(0xe24)])[_0x1ed387(0x643)](([_0x484135,_0x4bcda5])=>({'name':_0x484135,..._0x4bcda5}));else _0x31b725[_0x1ed387(0xa24)]&&Object[_0x1ed387(0xf02)](_0x31b725[_0x1ed387(0xa24)])[_0x1ed387(0x57b)](_0x27f321=>{const _0x15615e=_0x1ed387;_0x27f321[_0x15615e(0x3ec)][_0x15615e(0x57b)](_0x309bf9=>{const _0x28458a=_0x15615e;_0x402b99[_0x28458a(0xf06)]({'name':_0x309bf9,'score':_0x27f321[_0x28458a(0x5e3)],'answers':_0x27f321[_0x28458a(0x91f)]});});});if(_0x402b99[_0x1ed387(0xe84)]===0x0)return;const _0x21041c=_0x31b725[_0x1ed387(0xeb4)]?.[_0x1ed387(0xaff)][_0x1ed387(0xe84)]||currentQuizData[_0x1ed387(0xaff)][_0x1ed387(0xe84)],_0x2f5bca=writeBatch(db),_0x408ac9=_0x31b725[_0x1ed387(0xeb4)]?.[_0x1ed387(0x6c4)]||currentQuizData?.['projectId']||currentProjectId,_0x5925b4={};for(const _0x307547 of _0x402b99){const _0x27eb8a=doc(db,_0x1ed387(0xc9f)+appId+_0x1ed387(0xec2)+_0x21980c+_0x1ed387(0x9d1),_0x307547[_0x1ed387(0x77f)]),_0x4625d7=(_0x307547[_0x1ed387(0x91f)]||[])[_0x1ed387(0x5f5)](_0x584cae=>_0x584cae[_0x1ed387(0x1ce)])[_0x1ed387(0xe84)];let _0x222d21=_0x307547[_0x1ed387(0xb1e)]!==undefined?_0x307547[_0x1ed387(0xb1e)]:_0x4625d7,_0x2ef646=_0x307547['badges']||[];if(_0x4625d7===_0x21041c&&_0x21041c>0x0){if(!_0x2ef646[_0x1ed387(0xecb)](_0x1ed387(0x2c7)))_0x2ef646['push'](_0x1ed387(0x2c7));}const _0x25acf3={'score':_0x4625d7,'points':_0x222d21,'badges':_0x2ef646,'submittedAt':new Date()[_0x1ed387(0x529)](),'isSyncGame':!![],'answers':(_0x307547['answers']||[])[_0x1ed387(0x643)](_0x5bcc71=>({'questionId':_0x5bcc71[_0x1ed387(0x23d)],'answer':_0x5bcc71['answer'],'answerText':_0x5bcc71[_0x1ed387(0x235)],'isCorrect':_0x5bcc71[_0x1ed387(0x1ce)],'originalQuestionText':_0x5bcc71[_0x1ed387(0xaf3)],'wasConfident':_0x5bcc71['wasConfident'],'powerupUsed':_0x5bcc71[_0x1ed387(0x47a)]||null}))},_0x572e8a=await getDoc(_0x27eb8a),_0x42542f=_0x572e8a['exists']()?_0x572e8a[_0x1ed387(0xcbd)]():{},_0x23b9d6=_0x42542f['points']||0x0;let _0x18ea0e=0x0;_0x222d21>_0x23b9d6&&(_0x18ea0e=_0x222d21-_0x23b9d6);const _0x111cf8={'studentName':_0x307547[_0x1ed387(0x77f)],'totalQuestions':_0x21041c,'attempts':arrayUnion(_0x25acf3),'latestScore':_0x4625d7,'points':Math['max'](_0x23b9d6,_0x222d21),'latestSubmittedAt':_0x25acf3[_0x1ed387(0x68c)],'bestScore':Math[_0x1ed387(0xd18)](_0x42542f[_0x1ed387(0xaae)]||0x0,_0x4625d7),'firstScore':_0x42542f[_0x1ed387(0x36f)]!==undefined?_0x42542f[_0x1ed387(0x36f)]:_0x4625d7};_0x2f5bca[_0x1ed387(0x459)](_0x27eb8a,_0x111cf8,{'merge':!![]}),_0x408ac9&&(!_0x5925b4[_0x307547[_0x1ed387(0x77f)]]&&(_0x5925b4[_0x307547[_0x1ed387(0x77f)]]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x5925b4[_0x307547[_0x1ed387(0x77f)]]['pointsToAdd']+=_0x18ea0e,_0x2ef646[_0x1ed387(0x57b)](_0x44bad3=>{const _0x5c0724=_0x1ed387;_0x5925b4[_0x307547['name']][_0x5c0724(0x3c3)][_0x5c0724(0xf06)](_0x44bad3);}));}if(_0x408ac9)for(const [_0x46937f,_0x590c09]of Object['entries'](_0x5925b4)){if(_0x590c09[_0x1ed387(0x563)]>0x0||_0x590c09[_0x1ed387(0x3c3)][_0x1ed387(0xe84)]>0x0){const _0x201c4d=doc(db,_0x1ed387(0xc9f)+appId+'/public/data/projects/'+_0x408ac9+_0x1ed387(0x56a),_0x46937f),_0xc1f0d5={'studentName':_0x46937f,'totalPoints':increment(_0x590c09[_0x1ed387(0x563)])};_0x590c09[_0x1ed387(0x3c3)][_0x1ed387(0x57b)](_0x3d71cd=>{const _0x15d3d1=_0x1ed387;_0xc1f0d5[_0x15d3d1(0x481)+_0x3d71cd]=increment(0x1);}),_0x2f5bca['set'](_0x201c4d,_0xc1f0d5,{'merge':!![]});}}try{if(currentLiveGameId){const _0x5ddd0c=doc(db,_0x1ed387(0xc9f)+appId+'/public/data/syncGames',currentLiveGameId);_0x2f5bca[_0x1ed387(0x5c5)](_0x5ddd0c,{'resultsSaved':!![]});}await _0x2f5bca['commit'](),console['log'](_0x1ed387(0xcce)),showMessage(_0x1ed387(0x576));}catch(_0x587760){console['error'](_0x1ed387(0x969),_0x587760),showMessage(_0x1ed387(0x860));}}async function saveQuiz(_0x1e7b81=null,_0x5be3b5=null){const _0x35a728=_0x3d653b,_0x14b4ee=_0x1e7b81||currentProjectId;if(!_0x14b4ee){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x35a728(0xaff)]||!userId){showMessage(_0x35a728(0x7f6));return;}const _0x3ab2ae=document[_0x35a728(0xb29)](_0x35a728(0xb70));_0x3ab2ae[_0x35a728(0xeee)]=!![],_0x3ab2ae[_0x35a728(0xd04)]=_0x35a728(0x20e);const _0x48d6df=document[_0x35a728(0xb29)](_0x35a728(0x4d0))[_0x35a728(0x21d)];let _0x1195c5=document[_0x35a728(0xb29)](_0x35a728(0x301))['innerText'][_0x35a728(0x46f)]();_0x48d6df&&!_0x1195c5[_0x35a728(0x7f8)](_0x35a728(0x53a))&&(_0x1195c5=_0x35a728(0xb01)+_0x1195c5);try{const _0x48da04={'resultsDisplay':document[_0x35a728(0xb29)](_0x35a728(0x27c))['value'],'shuffle':document[_0x35a728(0xb29)](_0x35a728(0x89c))['value'],'timerMode':document['getElementById'](_0x35a728(0x6d1))[_0x35a728(0xc4b)],'timerDuration':parseInt(document[_0x35a728(0xb29)](_0x35a728(0x3fd))[_0x35a728(0xc4b)])||0xa,'passingScore':parseInt(document[_0x35a728(0xb29)](_0x35a728(0x95f))[_0x35a728(0xc4b)])||0x0,'isAdaptive':document[_0x35a728(0xb29)](_0x35a728(0x347))[_0x35a728(0x21d)],'loopUntilPass':document['getElementById'](_0x35a728(0x6b1))[_0x35a728(0x21d)]},_0xffa5a6=(currentQuizData['questions']||[])[_0x35a728(0x643)]((_0x4cb50a,_0x103834)=>{const _0x3addda=_0x35a728,_0x479f08=document[_0x3addda(0xb29)](_0x3addda(0x6b8))['value'],_0x1fcba9={'id':'q_'+Date['now']()+'_'+_0x103834,'questionText':_0x4cb50a[_0x3addda(0x4cd)]||'','explanation':_0x4cb50a[_0x3addda(0x96c)]||'ไม่มีคำอธิบาย','questionType':_0x4cb50a[_0x3addda(0xc4a)]||_0x479f08,'imageCode':_0x4cb50a[_0x3addda(0x921)]||null};return(_0x1fcba9[_0x3addda(0xc4a)]==='multiple_choice'||_0x1fcba9[_0x3addda(0xc4a)]==='fill_in_with_choices'||_0x1fcba9[_0x3addda(0xc4a)]===_0x3addda(0x24a)&&_0x4cb50a[_0x3addda(0x802)])&&(_0x1fcba9['options']=_0x4cb50a[_0x3addda(0x802)]||[],_0x1fcba9[_0x3addda(0x857)]=_0x4cb50a[_0x3addda(0x857)]!==undefined?_0x4cb50a[_0x3addda(0x857)]:0x0),(_0x1fcba9[_0x3addda(0xc4a)]===_0x3addda(0x9d6)||_0x1fcba9[_0x3addda(0xc4a)]==='fill_in_no_choices'||_0x1fcba9['questionType']==='mixed'&&_0x4cb50a[_0x3addda(0x5b2)])&&(_0x1fcba9[_0x3addda(0x5b2)]=_0x4cb50a[_0x3addda(0x5b2)]||''),_0x1fcba9[_0x3addda(0xc4a)]===_0x3addda(0x80d)&&(_0x1fcba9[_0x3addda(0x1b0)]=_0x4cb50a['correctAnswer']===!![]),_0x1fcba9['questionType']===_0x3addda(0x76e)&&(_0x1fcba9[_0x3addda(0x3bf)]=_0x4cb50a[_0x3addda(0x3bf)]||'',_0x1fcba9[_0x3addda(0x500)]=_0x4cb50a['correctResponse']||'',_0x1fcba9[_0x3addda(0x1e4)]=_0x4cb50a[_0x3addda(0x1e4)]||[]),_0x1fcba9;}),_0x10e16a={'topic':_0x1195c5,'quizType':currentQuizData[_0x35a728(0xca5)]||'multiple_choice','questions':_0xffa5a6,'projectId':_0x14b4ee,'createdBy':userId,'createdAt':new Date()[_0x35a728(0x529)](),'status':_0x35a728(0xd63),'settings':_0x48da04,'quizMode':_0x48d6df?_0x35a728(0x7d0):_0x35a728(0xf1a),'pairedQuizId':null,'lessonPlan':null};let _0x2552fb;while(!![]){_0x2552fb=Math['floor'](0x3e8+Math[_0x35a728(0xebc)]()*0x2328)['toString']();const _0x1be4cf=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2552fb));if(!_0x1be4cf[_0x35a728(0x267)]())break;}await setDoc(doc(db,_0x35a728(0xc9f)+appId+'/public/data/quizzes',_0x2552fb),_0x10e16a);if(_0x5be3b5&&currentBlueprintProjectId){console[_0x35a728(0xee3)]('Auto-linking\x20new\x20quiz\x20'+_0x2552fb+'\x20to\x20blueprint\x20topic\x20'+_0x5be3b5);try{const _0x492f70=doc(db,'artifacts/'+appId+_0x35a728(0x1c5),currentBlueprintProjectId);await updateDoc(_0x492f70,{[_0x35a728(0xae4)+_0x5be3b5+_0x35a728(0xe3b)]:arrayUnion(_0x2552fb)});}catch(_0x2a94e1){console[_0x35a728(0x3b5)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x2a94e1);}}currentQuizData[_0x35a728(0x48b)]=_0x48da04,currentQuizData['id']=_0x2552fb;const _0x2fcdb8=document[_0x35a728(0xb29)](_0x35a728(0xdd4));_0x2fcdb8[_0x35a728(0xd04)]=_0x35a728(0xa8b)+_0x2552fb+_0x35a728(0xf03),document[_0x35a728(0xb29)]('copy-quiz-id-btn')[_0x35a728(0x652)](_0x35a728(0xc7b),()=>copyTextToClipboard(_0x2552fb,'คัดลอกรหัสแล้ว!')),document[_0x35a728(0xb29)](_0x35a728(0x1f7))[_0x35a728(0x652)](_0x35a728(0xc7b),()=>handleStartLiveRace(_0x2552fb)),document['getElementById'](_0x35a728(0xac3))[_0x35a728(0x652)](_0x35a728(0xc7b),()=>startPresentation(currentQuizData)),document[_0x35a728(0xb29)](_0x35a728(0xa45))[_0x35a728(0x652)](_0x35a728(0xc7b),startAdminTest),showMessage(_0x35a728(0x414));}catch(_0x197ccf){console['error'](_0x35a728(0xa64),_0x197ccf),showMessage(_0x35a728(0xefd));}finally{_0x3ab2ae[_0x35a728(0xeee)]=![],_0x3ab2ae[_0x35a728(0xd04)]=_0x35a728(0x5a2);}}function promptForProjectAndSave(){const _0x4e331e=_0x3d653b,_0x5d2634=document[_0x4e331e(0xb29)](_0x4e331e(0xf01)),_0x3fe341=document[_0x4e331e(0xb29)]('move-quiz-project-select'),_0x15a83c=_0x5d2634['querySelector']('h3'),_0x220c0d=document[_0x4e331e(0xb29)](_0x4e331e(0x7f2));_0x15a83c[_0x4e331e(0x6ab)]='เลือกโปรเจคเพื่อบันทึก',_0x220c0d['textContent']='เลือกและบันทึก';allProjects[_0x4e331e(0xe84)]===0x0?(_0x3fe341['innerHTML']=_0x4e331e(0xa7e),_0x220c0d[_0x4e331e(0xeee)]=!![]):(_0x3fe341[_0x4e331e(0xd04)]=allProjects[_0x4e331e(0x643)](_0x30a700=>_0x4e331e(0x801)+_0x30a700['id']+'\x22>'+_0x30a700[_0x4e331e(0xa05)]+_0x4e331e(0xdea))['join'](''),_0x220c0d['disabled']=![]);_0x5d2634[_0x4e331e(0x26b)][_0x4e331e(0x937)](_0x4e331e(0x932));const _0x1d02d6=()=>{const _0xce0c2b=_0x4e331e,_0x482caa=_0x3fe341[_0xce0c2b(0xc4b)];_0x482caa?(currentProjectId=_0x482caa,_0x5d2634['classList'][_0xce0c2b(0x224)]('hidden'),saveQuiz(),_0x15a83c[_0xce0c2b(0x6ab)]=_0xce0c2b(0xa98),_0x220c0d[_0xce0c2b(0x6ab)]=_0xce0c2b(0x5ee),_0x220c0d[_0xce0c2b(0xadb)]('click',_0x1d02d6),_0x220c0d[_0xce0c2b(0x652)](_0xce0c2b(0xc7b),confirmMoveQuiz)):showMessage(_0xce0c2b(0xc1d));};_0x220c0d[_0x4e331e(0xadb)](_0x4e331e(0xc7b),confirmMoveQuiz),_0x220c0d[_0x4e331e(0x652)]('click',_0x1d02d6);}function copyTextToClipboard(_0x4347fb,_0x155acc){const _0x410e2f=_0x3d653b,_0x141340=document['createElement'](_0x410e2f(0x944));_0x141340['value']=_0x4347fb,_0x141340[_0x410e2f(0xa90)][_0x410e2f(0xc0b)]=_0x410e2f(0x49c),_0x141340[_0x410e2f(0xa90)][_0x410e2f(0x6e7)]='0',document[_0x410e2f(0xbfe)][_0x410e2f(0xd62)](_0x141340),_0x141340[_0x410e2f(0xba4)](),_0x141340[_0x410e2f(0x4fd)]();try{const _0x31942b=document[_0x410e2f(0x9bd)](_0x410e2f(0xaa4));showMessage(_0x31942b?_0x155acc:_0x410e2f(0x1ea));}catch(_0x389ff3){showMessage('คัดลอกไม่สำเร็จ'),console[_0x410e2f(0x3b5)](_0x410e2f(0xbfd),_0x389ff3);}document[_0x410e2f(0xbfe)][_0x410e2f(0xb74)](_0x141340);}function listenForProjectQuizzes(_0x39fc1c){const _0xff6d5a=_0x3d653b,_0x2263ec=collection(db,_0xff6d5a(0xc9f)+appId+'/public/data/quizzes'),_0x30ae6c=query(_0x2263ec,where(_0xff6d5a(0x6c4),'==',_0x39fc1c));unsubscribeQuizzesListener=onSnapshot(_0x30ae6c,async _0x27728c=>{const _0x4ab182=_0xff6d5a;allQuizzes=_0x27728c[_0x4ab182(0x574)][_0x4ab182(0x643)](_0x11af40=>({'id':_0x11af40['id'],..._0x11af40['data']()})),renderQuizzes();},_0x1031b6=>{const _0x26cb8b=_0xff6d5a;console[_0x26cb8b(0x3b5)](_0x26cb8b(0x32d),_0x1031b6),document[_0x26cb8b(0xb29)](_0x26cb8b(0xd8e))[_0x26cb8b(0xd04)]=_0x26cb8b(0x8d5);});}async function renderQuizzes(){const _0x2a6b39=_0x3d653b,_0x1cb812=document[_0x2a6b39(0xb29)]('project-quizzes-list'),_0x414322=document['getElementById'](_0x2a6b39(0xa2e))[_0x2a6b39(0xc4b)]['toLowerCase']();let _0x36c00d;currentProjectId===_0x2a6b39(0x31a)?_0x36c00d=starredQuizzes:_0x36c00d=allQuizzes;let _0x109f99=_0x36c00d[_0x2a6b39(0x5f5)](_0x13bdec=>_0x13bdec[_0x2a6b39(0xf14)]['toLowerCase']()['includes'](_0x414322));_0x109f99[_0x2a6b39(0xb9f)]((_0x3c210d,_0x5d9b57)=>new Date(_0x5d9b57['createdAt'])-new Date(_0x3c210d[_0x2a6b39(0x292)]));if(_0x109f99[_0x2a6b39(0xe84)]===0x0){_0x1cb812[_0x2a6b39(0xd04)]=_0x2a6b39(0x789);return;}const _0x101982={},_0x1899f3=_0x109f99[_0x2a6b39(0x643)](async _0x145bbf=>{const _0x3cd94c=_0x2a6b39,_0x5802c1=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x145bbf['id']+_0x3cd94c(0x9d1)),_0x38642a=await getCountFromServer(_0x5802c1);_0x101982[_0x145bbf['id']]=_0x38642a[_0x3cd94c(0xcbd)]()['count'];});await Promise[_0x2a6b39(0x689)](_0x1899f3);let _0x13f851='';_0x109f99[_0x2a6b39(0x57b)](_0x4070fb=>{const _0x5e2757=_0x2a6b39,_0x10f98c=_0x101982[_0x4070fb['id']]||0x0,_0x14ba0c=_0x4070fb[_0x5e2757(0x389)]||_0x5e2757(0xd63),_0x2b4473=_0x4070fb['settings']?.[_0x5e2757(0xc34)]||'none';let _0x10293f='',_0x1e88c2='';const _0x22f635=new Date();let _0x56c16e=_0x14ba0c;if(_0x14ba0c===_0x5e2757(0x93f)){const _0x210433=_0x4070fb['startTime']?new Date(_0x4070fb[_0x5e2757(0x946)]):null,_0x18a6c7=_0x4070fb[_0x5e2757(0x7bb)]?new Date(_0x4070fb['endTime']):null;if(_0x18a6c7&&_0x22f635>_0x18a6c7)_0x56c16e='inactive';else _0x210433&&_0x22f635<_0x210433?_0x56c16e=_0x5e2757(0x534):_0x56c16e=_0x5e2757(0xd63);}switch(_0x56c16e){case _0x5e2757(0xefe):_0x10293f='ปิดใช้งาน',_0x1e88c2=_0x5e2757(0x79d);break;case _0x5e2757(0x534):_0x10293f=_0x5e2757(0x73a),_0x1e88c2=_0x5e2757(0x779);break;case'active':_0x10293f=_0x2b4473!==_0x5e2757(0x1a6)?_0x5e2757(0x713):'เปิดใช้งาน',_0x1e88c2=_0x5e2757(0xeeb);break;default:_0x10293f=_0x5e2757(0x65d),_0x1e88c2='text-green-700\x20bg-green-100';break;}let _0x1ee65a='';const _0x44f4eb={'day':_0x5e2757(0x275),'month':_0x5e2757(0x275),'year':'numeric','hour':_0x5e2757(0x275),'minute':_0x5e2757(0x275),'hour12':![]};if(_0x14ba0c===_0x5e2757(0x93f)){if(_0x4070fb[_0x5e2757(0x946)])_0x1ee65a+=_0x5e2757(0xf20)+new Date(_0x4070fb['startTime'])[_0x5e2757(0x901)](_0x5e2757(0x6d3),_0x44f4eb)+_0x5e2757(0xdba);if(_0x4070fb['endTime'])_0x1ee65a+=_0x5e2757(0x8ec)+new Date(_0x4070fb['endTime'])['toLocaleString'](_0x5e2757(0x6d3),_0x44f4eb)+'</p>';}let _0x78bad8='';if(_0x4070fb['pairedQuizId']){const _0x2f90e7=allQuizzes[_0x5e2757(0xb46)](_0x26c190=>_0x26c190['id']===_0x4070fb[_0x5e2757(0x28e)]);if(_0x2f90e7){let _0x2a9eb8,_0x2492f3;new Date(_0x4070fb['createdAt'])<new Date(_0x2f90e7['createdAt'])?(_0x2a9eb8=_0x4070fb['id'],_0x2492f3=_0x2f90e7['id']):(_0x2a9eb8=_0x2f90e7['id'],_0x2492f3=_0x4070fb['id']),_0x78bad8+=_0x5e2757(0xc87)+_0x2492f3+_0x5e2757(0x20a)+_0x2a9eb8+_0x5e2757(0x3ab);}}else _0x4070fb[_0x5e2757(0x781)]===_0x5e2757(0x7d0)&&(_0x78bad8+=_0x5e2757(0x544)+_0x4070fb['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x4070fb[_0x5e2757(0x781)]===_0x5e2757(0x7d0)&&_0x10f98c>0x0)_0x78bad8+=_0x5e2757(0x544)+_0x4070fb['id']+_0x5e2757(0xe6c);else!_0x4070fb[_0x5e2757(0x28e)]&&_0x4070fb[_0x5e2757(0x781)]!==_0x5e2757(0x7d0)&&_0x10f98c>0x0&&(_0x78bad8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4070fb['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x4c4263='';_0x4070fb[_0x5e2757(0x28e)]?_0x4c4263=_0x5e2757(0xcfb)+_0x4070fb['id']+_0x5e2757(0x759):_0x4c4263=_0x5e2757(0xcfb)+_0x4070fb['id']+_0x5e2757(0x795);const _0xd19349=_0x5e2757(0x2ba)+_0x4070fb['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x13f851+=_0x5e2757(0xbc9)+_0x4070fb['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x4070fb[_0x5e2757(0xf14)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x4070fb['questions']['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x4070fb['createdAt'])['toLocaleString'](_0x5e2757(0x6d3))+_0x5e2757(0x916)+_0x10f98c+_0x5e2757(0xd76)+_0x1ee65a+_0x5e2757(0x2bb)+_0x1e88c2+'\x22>'+_0x10293f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4070fb['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4070fb['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x4070fb[_0x5e2757(0x82d)]?'fas\x20fa-star\x20text-yellow-500':_0x5e2757(0xb6a))+_0x5e2757(0xe25)+_0x78bad8+_0x5e2757(0x3f7)+_0xd19349+_0x5e2757(0xcf1)+_0x4070fb['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x4070fb['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4070fb['id']+_0x5e2757(0x38b)+_0x4070fb['id']+_0x5e2757(0xe17)+_0x4070fb['id']+_0x5e2757(0xd9e)+_0x4070fb['id']+_0x5e2757(0x875)+_0x4070fb['id']+_0x5e2757(0xaaa)+_0x4070fb[_0x5e2757(0xf14)]+_0x5e2757(0xd1e)+_0x4070fb['id']+_0x5e2757(0xa77)+_0x4070fb['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c4263+_0x5e2757(0xae3)+_0x4070fb['id']+_0x5e2757(0x460)+_0x4070fb['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4070fb['id']+_0x5e2757(0x890)+_0x4070fb['id']+_0x5e2757(0xb27)+_0x4070fb['id']+_0x5e2757(0xaaa)+_0x4070fb[_0x5e2757(0xf14)]+_0x5e2757(0x22b)+_0x4070fb['id']+_0x5e2757(0x25e);}),_0x1cb812['innerHTML']=_0x13f851,document[_0x2a6b39(0x948)]('.quiz-result-card')[_0x2a6b39(0x57b)](_0x29b237=>{const _0x336efa=_0x2a6b39;_0x29b237[_0x336efa(0x652)](_0x336efa(0xc7b),()=>{const _0x45eec0=_0x336efa,_0x32b7be=_0x29b237[_0x45eec0(0x63c)][_0x45eec0(0x31e)];showQuizDetailView(_0x32b7be);});});}async function handleUnpairQuiz(_0x247ccf){const _0x275615=_0x3d653b,_0x3ff56f=allQuizzes['find'](_0x4314dd=>_0x4314dd['id']===_0x247ccf);if(!_0x3ff56f||!_0x3ff56f[_0x275615(0x28e)]){showMessage(_0x275615(0x244));return;}showConfirmation(_0x275615(0x621),async()=>{const _0x4ece4c=_0x275615;try{const _0x3fc4f9=doc(db,_0x4ece4c(0xc9f)+appId+_0x4ece4c(0xd47),_0x247ccf),_0x4e7bd=doc(db,_0x4ece4c(0xc9f)+appId+_0x4ece4c(0xd47),_0x3ff56f[_0x4ece4c(0x28e)]),_0x4c1bee=writeBatch(db);_0x4c1bee[_0x4ece4c(0x5c5)](_0x3fc4f9,{'pairedQuizId':null}),_0x4c1bee[_0x4ece4c(0x5c5)](_0x4e7bd,{'pairedQuizId':null}),await _0x4c1bee[_0x4ece4c(0x832)](),showMessage(_0x4ece4c(0x81f));}catch(_0x30ae24){console[_0x4ece4c(0x3b5)](_0x4ece4c(0xe57),_0x30ae24),showMessage(_0x4ece4c(0x4e9));}});}function formatAndPrintLessonPlan(_0x64083b,_0x5afe47){const _0x3a909d=_0x3d653b,_0x149f3a=window[_0x3a909d(0xcd6)]('',_0x3a909d(0x4d9)),_0x3f39ab=_0x3a909d(0xb44)+_0x5afe47[_0x3a909d(0xf14)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x5afe47['topic']+_0x3a909d(0x1f1)+_0x64083b[_0x3a909d(0xa9e)][_0x3a909d(0x643)](_0x3c7116=>_0x3a909d(0xb06)+_0x3c7116+_0x3a909d(0x230))[_0x3a909d(0x87d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x64083b[_0x3a909d(0xc71)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x64083b[_0x3a909d(0x816)][_0x3a909d(0x643)](_0x1ef106=>_0x3a909d(0x3ef)+_0x1ef106['question']+_0x3a909d(0xb2d)+_0x1ef106[_0x3a909d(0xea5)]+_0x3a909d(0xc36))[_0x3a909d(0x87d)]('')+_0x3a909d(0x9f4);_0x149f3a[_0x3a909d(0x77a)]['write'](_0x3f39ab),_0x149f3a[_0x3a909d(0x77a)][_0x3a909d(0x21f)](),_0x149f3a['onload']=function(){setTimeout(()=>{_0x149f3a['print']();},0x3e8);};}async function handleAiFixFormula(_0x15d24a){const _0x55c113=_0x3d653b,_0x27366e=document[_0x55c113(0x327)](_0x55c113(0x82b)+_0x15d24a+'\x22]');if(!_0x27366e)return;const _0x268653=_0x27366e[_0x55c113(0x63c)][_0x55c113(0xedf)],_0x4bcad2=_0x27366e['querySelector'](_0x55c113(0x50f));let _0x27730a={'question':_0x27366e[_0x55c113(0x327)](_0x55c113(0x944))[_0x55c113(0xc4b)]};switch(_0x268653){case _0x55c113(0xa08):_0x27730a[_0x55c113(0x802)]=Array[_0x55c113(0x63b)](_0x27366e[_0x55c113(0x948)]('input[type=\x22text\x22]'))[_0x55c113(0x643)](_0x1fcca8=>_0x1fcca8[_0x55c113(0xc4b)]);break;case _0x55c113(0x2fc):case _0x55c113(0x9d6):_0x27730a['idealAnswer']=_0x27366e[_0x55c113(0x327)]('.ideal-answer-input')[_0x55c113(0xc4b)];break;case _0x55c113(0x76e):_0x27730a[_0x55c113(0x500)]=_0x27366e['querySelector'](_0x55c113(0x730))['value'];break;}_0x4bcad2['innerHTML']=_0x55c113(0xee9),_0x4bcad2[_0x55c113(0xeee)]=!![];try{const _0x6a5fd3=_0x55c113(0x5b8)+JSON[_0x55c113(0x437)](_0x27730a)+_0x55c113(0xc1a),_0x30459e={'type':_0x55c113(0x4d4),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x55c113(0x43c)},'options':{'type':_0x55c113(0xea8),'items':{'type':_0x55c113(0x43c)}},'idealAnswer':{'type':_0x55c113(0x43c)},'correctResponse':{'type':'STRING'}},'required':[_0x55c113(0x92b)]}},'required':[_0x55c113(0x619)]},_0x3c2da8=await callAnalysisApi(_0x6a5fd3,_0x30459e);if(_0x3c2da8&&_0x3c2da8[_0x55c113(0x619)]){const _0x423c0f=_0x3c2da8[_0x55c113(0x619)];_0x27366e[_0x55c113(0x327)](_0x55c113(0x944))[_0x55c113(0xc4b)]=_0x423c0f[_0x55c113(0x92b)]||_0x27730a[_0x55c113(0x92b)];switch(_0x268653){case _0x55c113(0xa08):_0x423c0f[_0x55c113(0x802)]&&_0x423c0f['options'][_0x55c113(0xe84)]>0x0&&_0x27366e['querySelectorAll'](_0x55c113(0x53e))[_0x55c113(0x57b)]((_0x2a2a2a,_0x8226b8)=>{const _0x57fdde=_0x55c113;_0x2a2a2a['value']=_0x423c0f[_0x57fdde(0x802)][_0x8226b8]||_0x27730a[_0x57fdde(0x802)][_0x8226b8];});break;case _0x55c113(0x2fc):case _0x55c113(0x9d6):_0x27366e[_0x55c113(0x327)](_0x55c113(0x322))[_0x55c113(0xc4b)]=_0x423c0f['idealAnswer']||_0x27730a[_0x55c113(0x5b2)];break;case _0x55c113(0x76e):_0x27366e[_0x55c113(0x327)](_0x55c113(0x730))['value']=_0x423c0f[_0x55c113(0x500)]||_0x27730a['correctResponse'];break;}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x55c113(0x5d4));}catch(_0x57fa84){console['error'](_0x55c113(0x440),_0x57fa84),showMessage(_0x55c113(0x3f0));}finally{_0x4bcad2[_0x55c113(0xd04)]=_0x55c113(0x7c2),_0x4bcad2[_0x55c113(0xeee)]=![];}}async function handleGenerateLessonPlan(_0x3712a6){const _0x5877c6=_0x3d653b;showMessage(_0x5877c6(0xe90));try{const _0x3bd8a8=doc(db,_0x5877c6(0xc9f)+appId+_0x5877c6(0xd47),_0x3712a6),_0x21173f=await getDoc(_0x3bd8a8);if(!_0x21173f[_0x5877c6(0x267)]())throw new Error(_0x5877c6(0xc8a));const _0x1769d0={'id':_0x3712a6,..._0x21173f[_0x5877c6(0xcbd)]()},_0x5d7bf2=collection(db,_0x5877c6(0xc9f)+appId+'/public/data/quizzes',_0x3712a6,_0x5877c6(0x20f)),_0x193f84=await getDocs(_0x5d7bf2),_0x5cfa99=_0x193f84[_0x5877c6(0x574)][_0x5877c6(0x643)](_0x394fd9=>_0x394fd9['data']());if(_0x5cfa99[_0x5877c6(0xe84)]===0x0)throw new Error(_0x5877c6(0x93b));const _0x52109c=calculateItemAnalysis(_0x1769d0,_0x5cfa99)[_0x5877c6(0xde6)],_0x4bddce=calculateDistractorAnalysis(_0x1769d0,_0x5cfa99),_0xb2528c=_0x33ffd1=>{const _0x739f97=_0x5877c6;if(!_0x33ffd1)return'';return _0x33ffd1[_0x739f97(0x502)](/\\/g,'\x5c\x5c')[_0x739f97(0x502)](/"/g,'\x5c\x22')[_0x739f97(0x502)](/\n/g,'\x5cn');};let _0x4016c6=_0x5877c6(0x1cf);_0x1769d0[_0x5877c6(0xaff)][_0x5877c6(0x57b)]((_0x3a9344,_0xdd65d)=>{const _0x20d36a=_0x5877c6,_0x2e2c92=_0x52109c[_0xdd65d]?.['p'][_0x20d36a(0x924)](0x2)||'N/A',_0x18c87c=_0x52109c[_0xdd65d]?.['r'][_0x20d36a(0x924)](0x2)||_0x20d36a(0x8c3),_0xec9f3=_0xb2528c(_0x3a9344[_0x20d36a(0x4cd)]||_0x3a9344[_0x20d36a(0x3bf)]);_0x4016c6+=_0x20d36a(0xd3c)+(_0xdd65d+0x1)+_0x20d36a(0x9e8)+_0x2e2c92+_0x20d36a(0x6ea)+_0x18c87c+_0x20d36a(0x53d)+_0xec9f3+'\x5cn';if(_0x3a9344[_0x20d36a(0xc4a)]===_0x20d36a(0xa08)&&_0x4bddce[_0xdd65d]){const _0x496d44=_0x4bddce[_0xdd65d],_0x146624=Object['keys'](_0x496d44)[_0x20d36a(0x5f5)](_0x290c39=>parseInt(_0x290c39)!==_0x3a9344[_0x20d36a(0x857)])[_0x20d36a(0xb9f)]((_0x44a4f1,_0x34f65c)=>_0x496d44[_0x34f65c]['total']-_0x496d44[_0x44a4f1][_0x20d36a(0x2e2)])[0x0];if(_0x146624&&_0x496d44[_0x146624][_0x20d36a(0x2e2)]>0x0){const _0x1acfa6=_0xb2528c(_0x496d44[_0x146624]['text']);_0x4016c6+=_0x20d36a(0xcef)+_0x1acfa6+_0x20d36a(0x8f2);}}});const _0x217b07=_0x5877c6(0xc77)+_0x1769d0[_0x5877c6(0xf14)]+_0x5877c6(0xbe1)+_0x4016c6+_0x5877c6(0x933),_0x2c7bae={'type':_0x5877c6(0x4d4),'properties':{'learningGaps':{'type':_0x5877c6(0xea8),'items':{'type':'STRING'}},'teachingContent':{'type':_0x5877c6(0x43c)},'practiceProblems':{'type':_0x5877c6(0xea8),'items':{'type':_0x5877c6(0x4d4),'properties':{'question':{'type':_0x5877c6(0x43c)},'solution':{'type':_0x5877c6(0x43c)}}}}},'required':[_0x5877c6(0xa9e),'teachingContent',_0x5877c6(0x816)]},_0x336af3=await callAnalysisApi(_0x217b07,_0x2c7bae);await updateDoc(_0x3bd8a8,{'lessonPlan':_0x336af3});const _0x19fb12=_0x5877c6(0x786)+_0x1769d0[_0x5877c6(0xf14)]+_0x5877c6(0x479)+_0x336af3[_0x5877c6(0xa9e)][_0x5877c6(0x643)](_0x3389c9=>_0x5877c6(0xb06)+_0x3389c9+_0x5877c6(0x230))[_0x5877c6(0x87d)]('')+_0x5877c6(0x535)+_0x336af3[_0x5877c6(0xc71)]+_0x5877c6(0x7f7)+_0x336af3[_0x5877c6(0x816)][_0x5877c6(0x643)](_0x3389cd=>_0x5877c6(0x77e)+_0x3389cd['question']+_0x5877c6(0x554)+_0x3389cd['solution']+_0x5877c6(0xc1b))['join']('')+_0x5877c6(0x42e);document[_0x5877c6(0xb29)](_0x5877c6(0x6e5))[_0x5877c6(0x6ab)]=_0x5877c6(0x7be)+_0x1769d0['topic'],document[_0x5877c6(0xb29)](_0x5877c6(0x3a3))[_0x5877c6(0xd04)]=_0x19fb12,document['getElementById'](_0x5877c6(0x813))['classList']['remove'](_0x5877c6(0x932));if(window[_0x5877c6(0x348)])MathJax[_0x5877c6(0x7e6)]();messageModal[_0x5877c6(0x26b)][_0x5877c6(0x224)](_0x5877c6(0x932));}catch(_0x2eccab){console['error'](_0x5877c6(0xa52),_0x2eccab),showMessage(_0x5877c6(0xa19)+_0x2eccab[_0x5877c6(0x837)]);}}async function handleDuplicateQuiz(_0x538972){const _0x39d3c3=_0x3d653b;try{const _0x2115a9=doc(db,_0x39d3c3(0xc9f)+appId+_0x39d3c3(0xd47),_0x538972),_0x36aeed=await getDoc(_0x2115a9);if(_0x36aeed[_0x39d3c3(0x267)]()){const _0x4af939=_0x36aeed[_0x39d3c3(0xcbd)]();let _0x4290fc='',_0x3015cc=_0x39d3c3(0xf1a),_0x647641=null;if(_0x4af939[_0x39d3c3(0x781)]==='pre-test'){let _0xdb517f=_0x4af939[_0x39d3c3(0xf14)][_0x39d3c3(0x502)](_0x39d3c3(0x53a),'')['trim']();_0x4290fc=_0x39d3c3(0xd3e)+_0xdb517f,_0x3015cc=_0x39d3c3(0xc8d),_0x647641=_0x538972;}else _0x4290fc='(คัดลอก)\x20'+_0x4af939[_0x39d3c3(0xf14)];const _0x39beac={..._0x4af939,'topic':_0x4290fc,'createdAt':new Date()['toISOString'](),'quizMode':_0x3015cc,'pairedQuizId':_0x647641};let _0xaecd30;while(!![]){_0xaecd30=Math[_0x39d3c3(0x6ae)](0x3e8+Math[_0x39d3c3(0xebc)]()*0x2328)[_0x39d3c3(0xd43)]();const _0x35f70c=await getDoc(doc(db,_0x39d3c3(0xc9f)+appId+_0x39d3c3(0xd47),_0xaecd30));if(!_0x35f70c[_0x39d3c3(0x267)]())break;}const _0xc055f8=doc(db,'artifacts/'+appId+_0x39d3c3(0xd47),_0xaecd30);await setDoc(_0xc055f8,_0x39beac),_0x39beac[_0x39d3c3(0x781)]===_0x39d3c3(0xc8d)&&await updateDoc(_0x2115a9,{'pairedQuizId':_0xaecd30}),showMessage(_0x39d3c3(0x516));}else throw new Error(_0x39d3c3(0x7a4));}catch(_0x2357d2){console[_0x39d3c3(0x3b5)](_0x39d3c3(0xcd1),_0x2357d2),showMessage(_0x39d3c3(0x2b3));}}async function handleDeleteQuiz(_0x4a9435,_0x56bcbc=!![]){const _0x38333a=_0x3d653b;try{const _0x38f6ea=writeBatch(db),_0x8fea46=collection(db,'artifacts/'+appId+_0x38333a(0xec2)+_0x4a9435+'/submissions'),_0x364d87=await getDocs(_0x8fea46);_0x364d87[_0x38333a(0x57b)](_0x2de4a3=>{const _0x3a9100=_0x38333a;_0x38f6ea[_0x3a9100(0x939)](doc(_0x8fea46,_0x2de4a3['id']));});const _0x1c453f=doc(db,_0x38333a(0xc9f)+appId+_0x38333a(0xd47),_0x4a9435);_0x38f6ea[_0x38333a(0x939)](_0x1c453f),await _0x38f6ea[_0x38333a(0x832)]();try{console[_0x38333a(0xee3)](_0x38333a(0xa18)+_0x4a9435+_0x38333a(0x926));const _0x57b8d1=collection(db,'artifacts/'+appId+_0x38333a(0x1c5)),_0x242e5d=await getDocs(_0x57b8d1),_0x19fa13=[];_0x242e5d[_0x38333a(0x57b)](_0x32b5df=>{const _0x4eb4f5=_0x38333a,_0x261cb4=_0x32b5df[_0x4eb4f5(0xcbd)](),_0x5f073b=_0x261cb4['topics']||{};let _0x5ab1a8=![];for(const _0x4091c4 in _0x5f073b){const _0x105d2e=_0x5f073b[_0x4091c4];if(_0x105d2e[_0x4eb4f5(0x6ba)]&&_0x105d2e['linkedQuizIds'][_0x4eb4f5(0xecb)](_0x4a9435)){_0x5ab1a8=!![];const _0x4eeba7=doc(db,_0x4eb4f5(0xc9f)+appId+_0x4eb4f5(0x1c5),_0x32b5df['id']),_0x218f71=updateDoc(_0x4eeba7,{[_0x4eb4f5(0xae4)+_0x4091c4+'.linkedQuizIds']:arrayRemove(_0x4a9435)});_0x19fa13['push'](_0x218f71);}}}),_0x19fa13['length']>0x0&&(await Promise[_0x38333a(0x689)](_0x19fa13),console[_0x38333a(0xee3)](_0x38333a(0x73f)+_0x19fa13[_0x38333a(0xe84)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x4a9435+'.'));}catch(_0x2b9ea4){console[_0x38333a(0x3b5)](_0x38333a(0xf09),_0x2b9ea4);}_0x56bcbc&&showMessage(_0x38333a(0xdd3));}catch(_0x418697){console[_0x38333a(0x3b5)](_0x38333a(0x3b1),_0x418697),_0x56bcbc&&showMessage(_0x38333a(0xa94));}}async function showQuizDetailView(_0x544a4d){const _0x49a0e5=_0x3d653b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x49a0e5(0x599));try{const _0x2a7a2c=doc(db,_0x49a0e5(0xc9f)+appId+_0x49a0e5(0xd47),_0x544a4d),_0x3ce94a=await getDoc(_0x2a7a2c);if(!_0x3ce94a[_0x49a0e5(0x267)]()){showMessage(_0x49a0e5(0xc8a));return;}const _0x696001={'id':_0x3ce94a['id'],..._0x3ce94a[_0x49a0e5(0xcbd)]()};currentQuizData=_0x696001;const _0x36b44b=doc(db,_0x49a0e5(0xc9f)+appId+_0x49a0e5(0x8ef),_0x696001[_0x49a0e5(0x6c4)]),_0x3c49ac=await getDoc(_0x36b44b);_0x3c49ac['exists']()?(currentProjectData=_0x3c49ac[_0x49a0e5(0xcbd)](),currentProjectId=_0x696001[_0x49a0e5(0x6c4)]):(currentProjectData={'students':[]},currentProjectId=_0x696001[_0x49a0e5(0x6c4)]);document[_0x49a0e5(0xb29)](_0x49a0e5(0xd25))[_0x49a0e5(0x6ab)]=_0x696001[_0x49a0e5(0xf14)],document[_0x49a0e5(0xb29)](_0x49a0e5(0x606))['textContent']=_0x544a4d;const _0x5ab199=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x544a4d,_0x49a0e5(0x20f));unsubscribeSubmissionsListener=onSnapshot(_0x5ab199,_0x24a043=>{const _0xd1aa19=_0x49a0e5,_0x463a8a=_0x24a043[_0xd1aa19(0x574)][_0xd1aa19(0x643)](_0x20dada=>({'id':_0x20dada['id'],..._0x20dada[_0xd1aa19(0xcbd)]()}));currentSubmissions=_0x463a8a;const _0x82d3df=_0x463a8a[_0xd1aa19(0x5f5)](_0x5d39ec=>_0x5d39ec[_0xd1aa19(0x84f)]&&_0x5d39ec[_0xd1aa19(0x84f)][_0xd1aa19(0xe84)]>0x0);renderBehaviorLog(_0x463a8a),renderAnswerGrid(currentProjectData[_0xd1aa19(0x828)],_0x82d3df,_0x696001),renderAnalytics(_0x696001,_0x82d3df),renderQuizResultsTable(currentProjectData[_0xd1aa19(0x828)],_0x463a8a,_0x696001),renderQuizLeaderboard(_0x82d3df,_0x696001,_0xd1aa19(0x4e2));}),showView(_0x49a0e5(0x190));}catch(_0x3bd353){console[_0x49a0e5(0x3b5)](_0x49a0e5(0x865),_0x3bd353),showMessage(_0x49a0e5(0x2a5));}}function renderAnswerGrid(_0x2389e5,_0x376d98,_0x499891){const _0x22356b=_0x3d653b,_0x344931=document[_0x22356b(0xb29)]('answer-grid-container');if(!_0x344931)return;if(!_0x2389e5||_0x2389e5['length']===0x0){_0x344931[_0x22356b(0xd04)]=_0x22356b(0xdbd);return;}const _0x119bce=_0x499891[_0x22356b(0xaff)],_0x2b168b=_0x376d98[_0x22356b(0x1eb)]((_0x133035,_0x494acc)=>{const _0x11eb2b=_0x22356b;return _0x133035[_0x494acc[_0x11eb2b(0xb34)]]=_0x494acc,_0x133035;},{}),_0x234798=_0x2c54b4=>String[_0x22356b(0x9b7)](0x41+_0x2c54b4),_0x5909a9=_0x11784c=>{const _0x48143f=_0x22356b,_0x5e766a=_0x11784c['questionType']||_0x499891[_0x48143f(0xca5)];switch(_0x5e766a){case'multiple_choice':return _0x11784c['options']&&_0x11784c[_0x48143f(0x802)]['length']>_0x11784c[_0x48143f(0x857)]?_0x234798(_0x11784c[_0x48143f(0x857)]):'-';case _0x48143f(0x80d):const _0x1ecd59=_0x11784c[_0x48143f(0x1b0)]===!![]||String(_0x11784c[_0x48143f(0x1b0)])[_0x48143f(0xa99)]()==='true';return _0x1ecd59?_0x48143f(0x8b6):'ไม่ใช่';case'matching_item':return _0x11784c[_0x48143f(0x500)]||'-';case _0x48143f(0x9d6):return _0x48143f(0x4ba);default:return'-';}},_0x283ab3=(_0x37bfdd,_0x58291d)=>{const _0x1f3857=_0x22356b;if(_0x58291d[_0x1f3857(0xa5b)]===null||_0x58291d[_0x1f3857(0xa5b)]===undefined)return'-';const _0x2641ca=_0x37bfdd[_0x1f3857(0xc4a)]||_0x499891[_0x1f3857(0xca5)];switch(_0x2641ca){case _0x1f3857(0xa08):const _0x584d58=_0x37bfdd[_0x1f3857(0x802)]['findIndex'](_0x3e1d57=>_0x3e1d57===_0x58291d[_0x1f3857(0x235)]);return _0x584d58!==-0x1?_0x234798(_0x584d58):_0x58291d['answerText']||'-';case'true_false':if(_0x58291d[_0x1f3857(0xa5b)]=='0'||_0x58291d[_0x1f3857(0xa5b)]===!![]||_0x58291d['answer']===_0x1f3857(0xa82))return _0x1f3857(0x8b6);return _0x1f3857(0x1b1);default:return _0x58291d[_0x1f3857(0xa5b)];}};let _0x2635c9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x119bce['map']((_0x17079f,_0x5afdd2)=>_0x22356b(0xac8)+(_0x5afdd2+0x1)+_0x22356b(0x403))['join']('')+_0x22356b(0x97d)+_0x119bce[_0x22356b(0x643)](_0x1aff97=>_0x22356b(0xd1d)+_0x5909a9(_0x1aff97)+_0x22356b(0x927))[_0x22356b(0x87d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x2389e5['forEach'](_0x1ed72e=>{const _0xc956e7=_0x22356b;_0x2635c9+=_0xc956e7(0x99b),_0x2635c9+=_0xc956e7(0x1ff)+_0x1ed72e+_0xc956e7(0x927);const _0x3fb4e4=_0x2b168b[_0x1ed72e];if(_0x3fb4e4){const _0x5cac5e=_0x3fb4e4[_0xc956e7(0x84f)][_0x3fb4e4[_0xc956e7(0x84f)][_0xc956e7(0xe84)]-0x1];_0x119bce['forEach']((_0x3f83b7,_0x1f29c1)=>{const _0x18071e=_0xc956e7,_0x35f17e=_0x5cac5e[_0x18071e(0x91f)][_0x18071e(0xb46)](_0x1a8592=>_0x1a8592[_0x18071e(0x23d)]===_0x3f83b7['id']);if(_0x35f17e){let _0x504e66='';const _0x5b7b49=_0x35f17e['isCorrect']===!![],_0x507c13=_0x35f17e['wasConfident']===!![]||_0x35f17e['wasConfident']===_0x18071e(0x4b9),_0x314520=_0x35f17e[_0x18071e(0x47a)];if(_0x314520===_0x18071e(0x344))_0x5b7b49?_0x504e66=_0x18071e(0xe4b):_0x504e66=_0x18071e(0xc13);else _0x507c13?_0x504e66=_0x5b7b49?_0x18071e(0x7fa):'bg-red-500\x20text-white\x20font-bold':_0x504e66=_0x5b7b49?_0x18071e(0xe4a):_0x18071e(0xebe);_0x2635c9+=_0x18071e(0x441)+_0x504e66+'\x22>'+_0x283ab3(_0x3f83b7,_0x35f17e)+'</td>';}else _0x2635c9+=_0x18071e(0x98f);});}else _0x2635c9+=_0x119bce['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0xc956e7(0x87d)]('');_0x2635c9+=_0xc956e7(0x3ac);}),_0x2635c9+='</tbody></table>',_0x344931[_0x22356b(0xd04)]=_0x2635c9;}function renderQuizResultsTable(_0x657016,_0x3f77d6,_0x45f975){const _0x19f646=_0x3d653b,_0x2a9e07=_0x3f77d6[_0x19f646(0x1eb)]((_0x5a55b8,_0x272565)=>{const _0x45456d=_0x19f646;return _0x5a55b8[_0x272565[_0x45456d(0xb34)]]=_0x272565,_0x5a55b8;},{}),_0x26ccb4=document[_0x19f646(0x327)](_0x19f646(0xba6));_0x26ccb4&&!_0x26ccb4[_0x19f646(0xd04)]['includes'](_0x19f646(0x3d6))&&(_0x26ccb4[_0x19f646(0xd04)]+=_0x19f646(0x38e));const _0x163dcc=document[_0x19f646(0xb29)](_0x19f646(0x46b));if(!_0x657016||_0x657016['length']===0x0){_0x163dcc[_0x19f646(0xd04)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x2ba075=_0x45f975[_0x19f646(0xd49)]===!![],_0x34bfba=_0x45f975['settings']?.[_0x19f646(0xd2b)]??-0x1;let _0x473570='';_0x657016[_0x19f646(0x57b)](_0x25bad5=>{const _0x480bad=_0x19f646,_0x307b48=_0x2a9e07[_0x25bad5];let _0x578619=_0x480bad(0xecf)+(_0x2ba075?_0x480bad(0x98d):_0x480bad(0xeac))+'\x22>'+(_0x2ba075?_0x480bad(0xb9e):_0x480bad(0x5bd))+'</span></td>';if(_0x307b48){if(_0x307b48[_0x480bad(0x84f)]&&_0x307b48[_0x480bad(0x84f)][_0x480bad(0xe84)]>0x0){let _0x17c071=_0x2ba075?_0x307b48['bestScore']===_0x307b48[_0x480bad(0xd5f)]:_0x34bfba!==-0x1&&_0x307b48[_0x480bad(0xaae)]>=_0x34bfba;const _0x2ef76a=_0x17c071?'bg-green-100\x20text-green-800':_0x480bad(0xebe),_0x21146a=_0x17c071?_0x480bad(0x16d):_0x480bad(0xe53),_0x1c51fb=_0x480bad(0xa7a)+_0x2ef76a+'\x22>'+_0x21146a+_0x480bad(0xcf5),_0x5ee4ad='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x307b48[_0x480bad(0x84f)]?.[_0x480bad(0xe84)]||0x1)+_0x480bad(0x32f),_0x28b6eb=_0x480bad(0x3e4)+(_0x307b48[_0x480bad(0x2ab)]||0x0)[_0x480bad(0x901)]()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22'+_0x25bad5+_0x480bad(0xbea)+(_0x307b48[_0x480bad(0x2ab)]||0x0)+_0x480bad(0x908);_0x473570+=_0x480bad(0xe32)+_0x25bad5+_0x480bad(0x8fd)+_0x307b48['bestScore']+_0x480bad(0x490)+_0x307b48['totalQuestions']+_0x480bad(0x45c)+_0x1c51fb+_0x480bad(0x3f7)+_0x578619+_0x480bad(0xce8)+_0x307b48[_0x480bad(0x36f)]+_0x480bad(0x490)+_0x307b48[_0x480bad(0xd5f)]+_0x480bad(0xc5c)+_0x307b48[_0x480bad(0xc3e)]+'\x20/\x20'+_0x307b48['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x28b6eb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ee4ad+_0x480bad(0xe43)+new Date(_0x307b48[_0x480bad(0x368)])[_0x480bad(0x901)](_0x480bad(0x6d3))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x25bad5+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0xc20a4a=_0x480bad(0xd70);_0x473570+=_0x480bad(0xd4e)+_0x25bad5+_0x480bad(0xe54)+_0x578619+_0x480bad(0xede)+_0xc20a4a+_0x480bad(0xe43)+new Date(_0x307b48[_0x480bad(0x42d)])[_0x480bad(0x901)](_0x480bad(0x6d3))+_0x480bad(0x4c4)+_0x25bad5+_0x480bad(0x24d);}}else{const _0x450f4b=_0x480bad(0x63d);_0x473570+=_0x480bad(0xbdd)+_0x25bad5+_0x480bad(0xedc)+_0x578619+_0x480bad(0x349)+_0x450f4b+_0x480bad(0x7a3);}}),_0x163dcc['innerHTML']=_0x473570;}async function confirmRenameQuiz(){const _0x28cd28=_0x3d653b,_0xed7681=document['getElementById']('rename-quiz-input')[_0x28cd28(0xc4b)][_0x28cd28(0x46f)]();if(!_0xed7681){showMessage(_0x28cd28(0x3e3));return;}if(!actionTargetId)return;const _0x3cb7e9=doc(db,_0x28cd28(0xc9f)+appId+_0x28cd28(0xd47),actionTargetId);try{await updateDoc(_0x3cb7e9,{'topic':_0xed7681}),showMessage(_0x28cd28(0xc30)),renameQuizModal[_0x28cd28(0x26b)][_0x28cd28(0x224)](_0x28cd28(0x932)),actionTargetId=null;}catch(_0x4cc8b9){console[_0x28cd28(0x3b5)](_0x28cd28(0xed8),_0x4cc8b9),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x291b72){const _0x6aa5b2=_0x3d653b;actionTargetId=_0x291b72;const _0x5c0bd3=document['getElementById']('move-quiz-project-select');_0x5c0bd3['innerHTML']=_0x6aa5b2(0x42a),moveQuizModal[_0x6aa5b2(0x26b)][_0x6aa5b2(0x937)](_0x6aa5b2(0x932));try{const _0x2e95dd=collection(db,_0x6aa5b2(0xc9f)+appId+_0x6aa5b2(0x8ef)),_0x51c6a0=await getDocs(_0x2e95dd),_0x83d70=_0x51c6a0['docs'][_0x6aa5b2(0x643)](_0x56b869=>({'id':_0x56b869['id'],..._0x56b869['data']()})),_0x2ed879=_0x83d70[_0x6aa5b2(0x5f5)](_0x3f17b2=>_0x3f17b2['id']!==currentProjectId);if(_0x2ed879[_0x6aa5b2(0xe84)]===0x0){_0x5c0bd3['innerHTML']=_0x6aa5b2(0xe93),document[_0x6aa5b2(0xb29)](_0x6aa5b2(0x7f2))[_0x6aa5b2(0xeee)]=!![];return;}_0x5c0bd3[_0x6aa5b2(0xd04)]=_0x2ed879[_0x6aa5b2(0x643)](_0x51d141=>_0x6aa5b2(0x801)+_0x51d141['id']+'\x22>'+_0x51d141[_0x6aa5b2(0xa05)]+_0x6aa5b2(0xdea))[_0x6aa5b2(0x87d)](''),document[_0x6aa5b2(0xb29)](_0x6aa5b2(0x7f2))[_0x6aa5b2(0xeee)]=![];}catch(_0x58d2a0){console[_0x6aa5b2(0x3b5)](_0x6aa5b2(0xa62),_0x58d2a0),showMessage(_0x6aa5b2(0xd0b)),moveQuizModal[_0x6aa5b2(0x26b)][_0x6aa5b2(0x224)](_0x6aa5b2(0x932));}}async function confirmMoveQuiz(){const _0x3d7ab1=_0x3d653b,_0x4195b9=document['getElementById'](_0x3d7ab1(0x2ca))[_0x3d7ab1(0xc4b)];if(!_0x4195b9){showMessage(_0x3d7ab1(0x90b));return;}if(!actionTargetId)return;const _0x472ea1=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x472ea1,{'projectId':_0x4195b9}),showMessage(_0x3d7ab1(0x8cf)),moveQuizModal[_0x3d7ab1(0x26b)]['add'](_0x3d7ab1(0x932)),actionTargetId=null;}catch(_0x1ec0de){console['error'](_0x3d7ab1(0xe0a),_0x1ec0de),showMessage(_0x3d7ab1(0x2a8));}}async function handleQuizSettings(_0xaf2b81){const _0x408b77=_0x3d653b;actionTargetId=_0xaf2b81;const _0x479e80=doc(db,_0x408b77(0xc9f)+appId+_0x408b77(0xd47),_0xaf2b81);try{const _0xf0a202=await getDoc(_0x479e80);if(_0xf0a202[_0x408b77(0x267)]()){const _0x3dee77=_0xf0a202[_0x408b77(0xcbd)](),_0x14ea64=_0x3dee77[_0x408b77(0x48b)]||{},_0x49350f=_0x3dee77[_0x408b77(0xaff)][_0x408b77(0xe84)];document[_0x408b77(0xb29)]('modal-shuffle-select')[_0x408b77(0xc4b)]=_0x14ea64['shuffle']||'none',document[_0x408b77(0xb29)](_0x408b77(0x16e))[_0x408b77(0xc4b)]=_0x14ea64['resultsDisplay']||_0x408b77(0xa83),document['getElementById'](_0x408b77(0xd54))[_0x408b77(0xc4b)]=_0x14ea64[_0x408b77(0xc34)]||'none',document[_0x408b77(0xb29)]('modal-timer-duration-input')[_0x408b77(0xc4b)]=_0x14ea64[_0x408b77(0xbc8)]||0xa,document[_0x408b77(0xb29)](_0x408b77(0x7cc))['value']=_0x14ea64[_0x408b77(0xd2b)]||Math[_0x408b77(0x6ae)](_0x49350f/0x2),document[_0x408b77(0xb29)](_0x408b77(0x7cc))[_0x408b77(0xd18)]=_0x49350f,document['getElementById'](_0x408b77(0x4a9))[_0x408b77(0x21d)]=_0x14ea64[_0x408b77(0x681)]||![],document['getElementById'](_0x408b77(0x3ca))[_0x408b77(0x21d)]=_0x14ea64[_0x408b77(0x8aa)]||![];const _0x7c1082=_0x14ea64[_0x408b77(0x5f8)]||![];document[_0x408b77(0xb29)]('modal-confidence-scoring-checkbox')[_0x408b77(0x21d)]=_0x7c1082,document[_0x408b77(0xb29)](_0x408b77(0xbbb))['value']=_0x14ea64['confidenceMode']||_0x408b77(0xd68);const _0x5609be=document[_0x408b77(0xb29)](_0x408b77(0x728));_0x5609be[_0x408b77(0x26b)]['toggle']('hidden',!_0x7c1082),document[_0x408b77(0xb29)](_0x408b77(0xd54))[_0x408b77(0x4a1)](new Event(_0x408b77(0xc95))),quizSettingsModal[_0x408b77(0x26b)][_0x408b77(0x937)](_0x408b77(0x932));}else showMessage(_0x408b77(0xc8a));}catch(_0x296536){console['error'](_0x408b77(0x96a),_0x296536),showMessage(_0x408b77(0x505));}}function _0x56fc(){const _0x2c0715=['แก้ไขปุ่มลัด','confirm-link-quiz-btn','difficultyValue','link-input-area','กำลังดึงไฟล์อ้างอิงจากลิงก์...','Error\x20during\x20deep\x20delete:','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','กำลังสร้างแบบทดสอบ\x20\x22','project-quizzes-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','ภูเขา','getBBox','</h4>','Error\x20starting\x20game:','endsWith','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','font-bold','empty','confirm-create-project-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-yellow-200','null','Error\x20calculating\x20final\x20scores:','insurance','โดเมนและเรนจ์','use-powerup-buyTime','(รอคะแนน)','ฟังก์ชันราก\x20(root)','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20teaching\x20content:','stdDev','ไม่สามารถโหลดคลังข้อสอบได้','leaderboard-table-body','generate-from-topic-btn','กองดอง','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','Failed\x20to\x20kick\x20player\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','Failed\x20to\x20create/update\x20submission\x20record:','rgba(59,\x20130,\x20246,\x200.7)','จำนวนเต็มบวก','สมการค่าสัมบูรณ์','save-quiz-edits-btn','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>','save-project-name-btn','บทเรียนเรื่อง:\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','href','.highlighter-color-btn','\x22\x20name=\x22question','(ไม่ตอบ)','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','พิซซ่าหน้าทุเรียน','actions-container-','Error\x20comparing\x20results:','fileShortcutsConfig','กำลังวิเคราะห์หัวข้อ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','คนดีศรีสยาม','anon-show-answer-toggle','catch','isAnonymousRevealed','.shortcut-tab-btn','<div\x20class=\x22','ลบแบบทดสอบสำเร็จแล้ว','generated-quiz-actions','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','project-detail-view','add-parallel-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','text-gray-400\x20hover:text-indigo-600','#parallel-shortcut-tabs-nav\x20.tab-name-input','.quiz-settings-btn','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fiftyFifty','backspace','underline','กรุณาสร้างบทเรียนก่อน','highlighter-size-value','เกิดข้อผิดพลาดในการติดดาว','<button\x20data-shortcut-id=\x22','perQuestionStats','overflow','overflowY','progress-student-select','</option>','หลังเรียน','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x20(Player)\x20(ID:\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','cancel-blueprint-projects-btn','splice','\x20คนที่ส่ง\x20ตอบถูก\x20(','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','passcode-prompt-message','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','items','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','ส่งคำตอบ','text-indigo-800','กำลังค้นหากิจกรรม...','project-passcode-modal','เกิดข้อผิดพลาดในการลบหัวข้อ','.answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','bottom','div','คาถาแยกเงาพันร่าง','รอ...','transformOrigin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','ครัวซองต์','สาระที่\x201','admin-view','Error\x20preparing\x20content\x20quiz:','\x22\x20class=\x22pin-project-btn\x20','Error\x20moving\x20quiz:','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','team','Test\x20Blueprint','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','เริ่มกิจกรรม:\x20','fa-crown\x20text-yellow-500','Error\x20adding\x20topic:','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','usedBuyTime','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','on_fire','add-student-btn','live-options-container','admin-password-input','close-market-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','download','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','ความเป็นอิสระของเหตุการณ์','eraser-tools-group','players','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถูก','fullscreenElement','file-shortcut-editor-modal','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','Export\x20Image\x20Error:','scrollHeight','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','100px','project-search-input','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','เกิดข้อผิดพลาดในการบันทึก','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','outerHTML','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','#E5E7EB','.linkedQuizIds','คะแนน','<p><strong>คำตอบที่แนะนำ:</strong>\x20','exitFullscreen','การนับ','ถูกต้อง!','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','ไม่มี','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','sync-short-answer-input','การหาร','bg-green-100\x20text-green-800','bg-yellow-300\x20text-yellow-900\x20font-bold','#FFFFFF','130443QUrfyD','parallel-default-','Matching\x20options\x20synced:','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','confirm-quiz-settings-btn','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','ไม่ผ่าน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-status-btn','นินจาชาเขียว','Error\x20unpairing\x20quizzes:','เพื่อนสนิท','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','student-view','reveal-names-btn','0\x20(รอโบนัส)','Failed\x20to\x20resume\x20game\x20session:','save-bp-reference-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','Error\x20processing\x20file\x20for\x20AI:','showRankings','globalAlpha','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','topic-bank-list','student-progress-content','ceil','fix-lesson-latex-btn','พอใช้','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','complexityValue','.delete-question-editor-btn','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>','.regenerate-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','wager-max-points','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','ไม่พบเอกสารการส่งงานของ\x20','กำลังอัปเดตแบบทดสอบ\x20','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','behaviorLog','length','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','โหลดนาน','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','isForcedConfident','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','mjx-container','Error\x20saving\x20user\x20preference:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','countdown-display','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a---\x0a','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','retake-quiz-loop-btn','displayRank','md:col-span-3','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างรูปภาพ','separate-by-content-checkbox','behavior-log','findIndex','test','applicationContent','parallel-shortcut-editor-modal','\x20ชุด)</span>','พื้นที่วงกลม/ส่วนของวงกลม','closePath','bar','cancel-team-selection-btn','solution','kick-player-btn','pollUsedThisTurn','ARRAY','องค์ประกอบของฟังก์ชัน','256590krXRwm','scratchpad-canvas','bg-blue-100\x20text-blue-800',';\x22\x20data-id=\x22','createObjectURL','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','powerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','MathJax\x20typeset\x20error\x20(analytics):','shuffledQuiz','wasJinxed','เกิดข้อผิดพลาดในการปักหมุด','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','use-powerup-secondChance','getDocument','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','random','(กำลังไล่ตาม)','bg-red-100\x20text-red-800','บันทึกการตั้งค่าสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutOrder','/public/data/quizzes/','student-team-join','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','.buy-time-confirm-btn','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ตอบถูกทุกข้อในแบบทดสอบนี้','includes','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','cancel-rename-quiz-btn','💰\x20โหมดเดิมพันทำงานอยู่!','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','FIRST_TRY_ACE','Error\x20regenerating\x20question\x20in\x20editor:','แบบทดสอบนี้หมดเวลาแล้ว','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20renaming\x20quiz:','ดูผลสรุปสุดท้าย','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qType','application/json','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','svg','log','มุมและการวัดมุม','bp-modal-num-choices','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','text-red-500\x20hover:text-red-700','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','text-green-700\x20bg-green-100','.score','temp-loader-results','disabled','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-excel-btn','shortcuts','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','setItem','</strong></div>','<div>','parallel-shortcut-modal-title','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x20ตอบ','toDataURL','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','inactive','image/png','grabbing','move-quiz-modal','values','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','push','players.','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','Error\x20during\x20blueprint\x20link\x20cleanup:','disabled\x20bg-gray-400\x20cursor-not-allowed','</tbody></table></div>','start','instructions','lineWidth','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','justification','touchend','wasConfident','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','topic','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','mean','#F59E0B','standard','กราฟฟังก์ชันตรีโกณ','รักแรกพบ','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','result','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','กำลังเตรียมไฟล์...','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>','generated-quiz-container','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','has','Welcome\x20back,\x20','anonymous_reveal_end','.move-shortcut-item','comeback_king','เน็ตช้า','parse','กำลังกลับเข้าสู่เกม\x20','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','Error\x20updating\x20sort\x20preference:','save-game-results-checkbox','width\x2060s\x20linear','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','ผ่าน','modal-results-display-select','ไม่พบข้อมูลผู้เล่น','redo-btn','confidence','!\x20ข้อมูลของคุณถูกกู้คืนแล้ว','tan','เพิ่มปุ่มลัดจากไฟล์ใหม่','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','sync-timer-countdown','.pen-color-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','ดีเทอร์มิแนนต์','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','student-quiz-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.edit-hidden-file-shortcut-btn','offset','.bp-delete-topic-btn','half_mark_status','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','dropdown-list-','per-question-text','name_asc','border-green-300\x20bg-green-50','Error\x20verifying\x20answers:','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','bulk-confidence-mode-container','auto','การแปลงรูปอัตลักษณ์','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','สมการราก\x20(radical)','quiz-results','enable-passcode-checkbox','insertBefore','loader-text','file-shortcut-url-input','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','🎓\x20','hover:bg-indigo-100','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','topic-quiz-bank-modal','rename-quiz-modal','.kick-player-btn-sync','ตัวเลือก\x20ข','เกิดข้อผิดพลาดในการอัปเดต:\x20','innerText','อัศวินรัตติกาล','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.subTopic','<p><strong>คำตอบของคุณ:</strong>\x20','none','numChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','เกิดข้อผิดพลาดในการนำผู้เล่นออก','cancel-quiz-edits-btn','createOscillator','ยืนยันและอัปเดตทั้งหมด','close-student-rankings-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','ไม่ใช่','doc','resume','scores-tab-btn','text-indigo-700','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','.group\x5c/dropdown-file','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ownerSVGElement','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x20จุด','พลังคลื่นเต่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าแล้ว','.parallel-shortcut-btn','กรุณาป้อนหัวข้อสำหรับใบงาน','/public/data/blueprintProjects','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leq','projectSortOrder','\x22\x20name=\x22drill_answer\x22\x20value=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตัวเลือก\x20ก','isCorrect','สรุปผลการวิเคราะห์:\x5cn','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','Error\x20saving\x20quiz\x20edits:','save-settings-btn','number','.lastAnswerCorrect','Error\x20generating\x20from\x20link:','lastAnswerCorrect','สถิติและความน่าจะเป็น','นักกีฬา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','comparison-individual-content','additional-shortcuts-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','label','NUMBER','allResponses','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','!\x20Restoring\x20stats...','toDate','.export-pdf-list-btn','คัดลอกไม่สำเร็จ','reduce','sync-timer-enable-checkbox','<br>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','comparison-individual-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','count','ไม่พบแบบทดสอบสำหรับรหัสนี้','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x20ชิ้น)','ความเท่ากันทุกประการของสามเหลี่ยม','start-live-race-generated-btn','selected-text-','28px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','PERSEVERANCE','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numQuestions','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','\x20ตัวเลือก.\x20','ตรีโกณมิติ','fa-user-astronaut\x20text-blue-700','เกิดข้อผิดพลาดในการใช้ตัวช่วย','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x22\x20data-pre-test-id=\x22','วงกลม:\x20สมการและสมบัติ','fa-shield-alt\x20text-gray-600','.application-options\x20button','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','submissions','deg','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','global-activity-quiz-list','main-correct-answer-display','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','#student-quiz-leaderboard-content\x20thead','/preferences/main','ref','จำนวนเต็มลบ','.move-quiz-btn','teacherTips','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','checked','สายลับจับบ้านเล็ก','close','content','not_generated','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','admin','add','สถานะไม่ชัดเจน','responses','quiz-editor-questions-container','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','```json','toggleMathDropdown','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','confirm-passcode-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','.quiz-result-card','</li>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','substring','.move-parallel-shortcut-dropdown','ร้อยละประยุกต์','answerText','user-id-display','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','พิสัย','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','export-pdf-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','questionId','.project-card-container.opacity-50','shortcutIds','\x22\x20ให้เป็นคำถามประเภท\x20\x22','per_question','selected-topics-count','editable-text-','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','isFinished','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','mixed','.answered','กำลังสร้างคำถามข้อ\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','incorrect','#ffffff','touchstart','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','global-quiz-search-input','Error\x20adding\x20custom\x20topic:','check-answer-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','file-default-1','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','text-gray-200','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','\x22\x20title=\x22','not_confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','ต้นฉบับทั้งหมด','\x20ข้อ\x20','textarea[name=\x22question_single\x22]','exists','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','classList','back-to-project-btn','.move-shortcut-menu-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรเดียนและการแปลงหน่วย','ตรวจพบการออกจากหน้าจอครบ\x20','ชื่อหัวข้อห้ามว่าง','แผนการสอน','.topic-row','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','2-digit','correct','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถเริ่มเกมได้','market-current-points','[id^=\x22dropdown-list-\x22]','bg-green-200\x20text-green-800','results-display-select','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-title','mouseleave','show-in-student-dashboard-checkbox','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','smooth','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','input[name=\x22status-option\x22]:checked','live-player-list','request','student-passcode-input','instantWager','ชื่อโปรเจคห้ามว่าง','split','bank-quiz-list','pairedQuizId','list','top','/public/data/liveGames','createdAt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','index','เงาปริศนา','data:application/vnd.ms-word;charset=utf-8,','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','CEOพันล้าน',')</span></div>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','overline','touch','additional-file-shortcuts-list','topic-bank-subtopic-name','onload','วงรี','open-sync-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','เกิดข้อผิดพลาดในการบันทึกโปรเจค','cursor','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ระยะเวลา\x20(วินาที):','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','topic-input','clientX','scan-text-image-input','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','rgba(79,\x2070,\x20229,\x200.8)','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','0\x200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แฟนทิพย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.verification-result','lesson-loader-text','กรุณาเลือกชื่อของคุณ','ตลาดมืด\x20(','tabId','camera-input','admin-dashboard','Error\x20processing\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-status-btn','text-gray-300','perfect_score','cancel-test-btn','.delete-shortcut-tab-btn','move-quiz-project-select','bg-[#EF4444]\x20text-white\x20font-bold','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','</select>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','selected-answer-index-hidden-wager','กรุณาวาง\x20URL\x20ของบทความก่อน','subTopic','หมดเวลา!\x20กำลังส่งคำตอบ...','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTestId','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','parallel-shortcut-name-input','transparent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','generate-from-text-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22ใช้\x20','total','closest','question-analytics-container','\x20ชุด)','default-2','ตอบถูก\x203\x20ข้อติดต่อกัน','cloneNode','answerValue','Error\x20saving\x20settings:','stopPropagation','dimmed','.delete-shortcut-btn','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','.delete-hidden-file-shortcut-btn','การคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','นอนไม่พอ','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ระยะจากจุดถึงเส้นตรง','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','line-through\x20text-red-700','เงินงวด\x20(อนุกรมเงินงวด)','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','fill_in_no_choices','analytics-summary-cards','กฎของโคไซน์','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','pointermove','editable-quiz-topic','ดาบพิฆาตอสูร','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','authed_project_','/questionBank','.edit-points-btn','Error\x20editing\x20topic:','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','prev-question-btn','mainTopics','user','.quiz-bank-item','.start-live-race-btn','สายตาสั้น','อกหัก','Error\x20deleting\x20student:','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','Unexpected\x20API\x20response\x20structure:','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tool-btn','Error\x20joining\x20live\x20game:','มือปราบสายรุ้ง','leaderboard-quiz','projectSort','starred','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','neq','quizId','isLooping','.project-card-content','word-break:\x20break-all;','.ideal-answer-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.edit-shortcut-btn','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','(^|[^\x5c\x5c])\x5cb','querySelector','ไม่พบข้อมูลผู้ใช้','input[type=\x22radio\x22]:checked','offsetWidth','save','สร้างแบบทดสอบปรนัย','Error\x20fetching\x20project\x20quizzes:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','projectView','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','https://drive.google.com/uc?export=download&id=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','currentTime','confirm-team-players-btn','\x22\x20data-target-tab-id=\x22','worksheet-topic-input','next-review-question-btn','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','onblur','student-name-select','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','minHeight','matching','bp-reference-file-url','quiz-end-time','q-image-container-','wagerMultiplier','.delete-project-btn','เพิ่มปุ่มลัดใหม่','adaptive-quiz-checkbox','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ช่างภาพ','confirm-rename-quiz-btn','msExitFullscreen','timer-bar','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','กำลังอ่านไฟล์อ้างอิง...','hasPerfectScoreBonus','center','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','22vDzPYX','text-red-700','.pin-project-btn','#open-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','#retake-for-improvement-btn','SAFETY','confidence-modal','bg-gray-50','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/10','cancel-parallel-shortcut-edit-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','confidenceMode','confirm-game-start-modal','fas\x20fa-user-edit','promptFeedback','save-bp-settings-btn','setValueAtTime','firstScore','ตรวจทานเฉลยเสร็จสิ้น!','รายการนี้','anon-settings-container','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','load-quiz-btn','จุด\x20เส้น\x20ระนาบ','ซื้อ\x20(','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','export-compact-pdf-btn','ระบบเลขและค่าประจำหลัก','ดาวสภา','frequency','fa-pen','pen-tool-btn','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','cutOne','json','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','text/csv;charset=utf-8;','file-shortcut-container','status','เกิดข้อผิดพลาดในการส่งคำตอบ','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.shortcut-list-item','.custom-math-dropdown','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','localeCompare','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','raw','ค่าสัมบูรณ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','warn','summary_chart','parallel-test-input-area','reference.txt','PERFECT_SCORE','(ไม่มีชื่อ)','screen_exit','Error\x20saving\x20lesson\x20to\x20project:','div[data-question-index=\x22','Error\x20saving\x20questions\x20to\x20practice\x20bank:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','ปุ่มลัดทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','lesson-plan-content','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','bg-red-500','AI\x20กำลังสแกนข้อความ...','ระยะเวลา\x20(นาที):','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tr>','G-JGJ3WNEQP3','earned-badges-container','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','Error\x20deleting\x20quiz:','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','use-powerup-','confirmation-message','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','scan-text-image-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','<div\x20class=\x22space-y-4\x22>','stem','btn','quiz-start-time','parentElement','badgesToAdd','ไม่สามารถสร้างโปรเจคได้','.status','อัตราและอัตราหน่วย','parts','preScore','title','modal-loop-until-pass-checkbox','student-project-leaderboard-table-body','reference_onet.pdf','\x22><span\x20style=\x22','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','choices_only','แคลคูลัสเบื้องต้น','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','firstElementChild','พบข้อสอบ\x20','cancel-quiz-settings-btn','จัดการ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','confirm-delete-btn','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','Error\x20in\x20generating\x20from\x20files:','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','ท็อปฟอร์ม','\x20ข้อ...','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blur','ฐานนิยม','shortcut-id-input','manual-create-blueprint-btn','กรุณาใส่ชื่อใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','border-indigo-400\x20ring-2\x20ring-indigo-200','force-math-checkbox','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','AI\x20ไม่ส่งผลลัพธ์กลับมา','\x27\x20ในหัวข้อ\x20\x27','members','message-modal','.pin-digit-box','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','name_desc','อัปเดตสถานะสำเร็จ','add-parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-list','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','font-bold\x20text-red-700\x20line-through','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','round','timer-duration-input','topicName','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','border-green-700','.toggle-hidden-options-btn','Error\x20creating\x20project:','</th>','suggestedAnswer','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px,\x20','secondChance','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#DBEAFE','generate-from-file-btn','bg-red-200\x20text-red-800','อินเวอร์สของเมทริกซ์','student-quiz-topic','\x20\x20\x20-\x20','source-over','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เส้นรอบรูป','fa-fire\x20text-orange-500','presentation-slide-container','บันทึกแบบทดสอบสำเร็จแล้ว!','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','next-drill-btn','project-sort-select','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x20คะแนน\x20(','เพนกวินไฟ','sync','</span><span\x20class=\x22font-bold\x22>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','การแจกแจงปกติและ\x20z-score','preTScore','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','wakeLock','ฟังก์ชันเชิงเส้นและกราฟ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ai-quiz-generator-v3','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','<option>กำลังโหลดโปรเจค...</option>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','removeItem','startedAt','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','behavior-log-tab-btn','blueprint-tab','.remove-shortcut-from-tab-btn','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.totalPoints','default','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','stringify','itemId','🛡️','results-table-container','fill_in_the_blank','STRING','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','left','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','AI\x20Formula\x20Fix\x20Error:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','wasForced','live-race','ยังไม่สร้าง','globalSettings','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','Error\x20updating\x20quiz\x20status:','wheel','.ai-content\x20td','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','gain','classic','goto-next-question-btn','sawtooth','หมีขั้วโลกใต้','ทฤษฎีบทพีทาโกรัสและการประยุกต์','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','จำนวนเชิงซ้อน\x20(เสริม)','set','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','tGain','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')</button>','touches','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22','file-topic-input','ส่งแล้ว','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','เพิ่มหัวข้อ\x20\x22','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','ไม่พบข้อมูลข้อสอบหลังเรียน','Error\x20committing\x20score\x20updates:','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','slide-counter','quiz-results-table-body','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','Error\x20saving\x20file\x20shortcut:','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','trim','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','</td></tr>','กรุณาใส่ชื่อนักเรียน','#D1FAE5','onerror','AI\x20grading\x20failed:','student-rankings-modal','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','powerupUsed','/players','ยูทูปเบอร์ฝึกหัด','.live-answer-btn,\x20#live-submit-short-answer-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','currentTarget','join-live-game-btn','badgesCount.','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','</label></div>','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','คะแนนเต็ม','preventDefault','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','moveTo','blueprint-shortcut-container','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','settings','className','label[for=\x22num-questions\x22]','</strong></p>','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x20/\x20','confirm-quiz-status-btn','size','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','ระยะทางและจุดกึ่งกลาง','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','Error\x20joining\x20sync\x20game:','ตัวเลือก\x20ค','/3</span></div>','fixed','dragstart','wager-modal','handleGenerateAndShowLesson','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','dispatchEvent','Failed\x20to\x20generate\x20lesson:','Error\x20saving\x20parallel\x20shortcut:','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','num-questions','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','times','modal-adaptive-quiz-checkbox','00:00','readAsDataURL','.project-card-container[data-id]','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','cancel-file-shortcut-edit-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','standardTopic','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','boolean','<tr><td\x20colspan=\x22','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','บทเรียน','classStrengths','confident','พิมพ์ตอบ','bg-blue-500\x20hover:bg-blue-600\x20text-white','join-group-activity-btn','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20shortcut:','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20จำนวน\x20','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','กราฟแท่ง\x20กราฟเส้น','gamePin','Error\x20generating\x20worksheet:','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ควรปรับปรุง','questionText','พื้นที่สี่เหลี่ยม','pointsAwarded','pre-test-checkbox','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','marginBottom','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','OBJECT','files','grid','modal-timer-duration-container','student','_blank','podium','new-question-type-select','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','comparison-overall-content','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','analytics-tab-content','timeBonusThisQuestion','แบบทดสอบที่ติดดาว','quiz-leaderboard-table-body','\x22...','uid','memory','use-powerup-revealOptions','submit-group-answer-btn','mousedown','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','/public/data/blueprintProjects/','300','\x20หัวข้อ)','ไม่มีผู้ตอบตัวเลือกนี้','สร้างโปรเจคสำเร็จ!','color','.rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','show_pass_fail_only','ติดซีรีส์','\x20รายการ...','อนุพันธ์:\x20กฎพื้นฐาน','การวัด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','answering','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.generate-content-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','shortcut-editor-modal','select','blueprint-options-container','toBlob','correctResponse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','replace','<button\x20data-tab-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-500','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','leaderboard-quiz-tab-content','---\x20[คำถามใหม่]\x20---','\x20สำเร็จ','ไม่พบโปรเจค','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','.ai-fix-formula-btn','.move-parallel-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','handleGenerateQuizFromBlueprintTopic','start-game-btn','คัดลอกแบบทดสอบสำเร็จ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x22>ไม่ใช่</p>','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','isArray','</h3>','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','.ai-content\x20h3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','export-leaderboard-word-btn','มังกรกินจุ','lesson-loader','border-indigo-500\x20text-indigo-600','<div\x20id=\x22q-image-container-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','ศูนย์','Error\x20updating\x20custom\x20topic:','fileShortcutTabs','toISOString','.bp-try-btn','👁️\x20เผยตัวเลือก','14821202pjUnWr','ลิมิต','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','element','<span\x20title=\x22โดนบังคับ\x22>👻</span>','back-from-results-btn','project-list','scheduled_pending','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.admin-try-quiz-list-btn','some','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','cancel-bulk-quiz-settings-btn','(ก่อนเรียน)','👁️','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','):\x20','input[type=\x22text\x22]','OCR\x20Error:','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','globalCompositeOperation','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนนักเรียน','<h1></h1>','export-pdf-btn','maxHeight','ฮัลค์','#open-additional-file-shortcuts-btn','category','\x22\x20id=\x22input-','scratchpad-close-btn','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ป่าไม้','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','fa-rocket\x20text-purple-500','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison-chart','\x5cdiv','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','/lessons','close-additional-parallel-shortcuts-btn','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','pointsLastRound','confirm-bulk-quiz-settings-btn','math-topics-checkbox-container','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','getBoundingClientRect','ลบโปรเจคสำเร็จแล้ว','pointsToAdd','20px','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','dim-overlay','blueprint-topics-list','player-list-lobby','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','/studentProfiles','setAttributeNS','ลบผลสอบของ\x20','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','frac','beginPath','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','docs','ลบหัวข้อสำเร็จ','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','global-quiz-count','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','forEach','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','close-presentation-btn','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','confidence-mode-select','memoryContent','QUICK_THINKER','text-yellow-800','unshift','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','hiddenOptions_q','pointer-events-none','แบบทดสอบฝึกฝนเรื่อง:\x20','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','export-word-btn','🚀\x20คุณเดิมพันหมดหน้าตัก!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22>ไม่ใช่</label></div>','destroy','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','บันทึกการแก้ไข','bg-green-200\x20text-green-900','AI\x20แก้ไขคำถามสำเร็จ!','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-message','type','overallGroups','parallel-test-upload-input','analytics',')\x22>','\x20คะแนน\x20','ไม่พบแบบทดสอบ','การคูณทศนิยม','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','scale','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','จากเนื้อหาต่อไปนี้:\x20\x22','playerName','topic-input-area','font-bold\x20text-green-700','url','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','doughnut','code','หยุดระบบจับเวลาหรี่หน้าจอ','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','text-content-input','กรุณาเลือกคำตอบ','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','Refunded\x20','idealAnswer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','then','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.quiz-bank-present-btn','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','fullscreenchange','สอบปกติ','.topic-actions-edit','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','.edit-question-btn','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','confirm-wager-btn','update','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','student-list','.space-y-1.pl-4','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','แบบปรนัย\x204\x20ตัวเลือก','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ON\x20FIRE!\x20คะแนน\x20x2</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','ondragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchmove','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','AI\x20ไม่สามารถประมวลผลข้อมูลได้','linearRampToValueAtTime','ทศนิยม\x20(ค่าประจำหลัก)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','quiz-bank-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','ผิด','tab_','.duplicate-quiz-btn','topic_','jspdf','21bQIGbc','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','resultsSaved','score','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','พบ\x20Team\x20Quiz!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เรขาคณิต','\x22.\x20','questionDisplayedAt','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','ย้าย','ตัวประกอบและตัวประกอบเฉพาะ','cancel-bp-settings-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','isConfidenceScoringEnabled','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','border-indigo-500','export-image-btn','เทพทรู','input[name=\x22syncVariant\x22][value=\x22','parseFromString','กาแฟขม','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','ซื้อ\x20\x22','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','results-quiz-id-display','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','newOptionsPayload','แบบทดสอบ:\x20','close-lesson-plan-modal-footer-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','จันทร์เจ้า','price','student-project-leaderboard-content','COMEBACK_KING','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','input[name=\x22syncVariant\x22]:checked','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','515915AfDlQV','เกิดข้อผิดพลาดในการสร้างห้องเกม','Profile\x20recalculation\x20error:','fixedData','specialist','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','\x5ccdot','timer-duration-label','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','อยู่ในหัวข้อหลักใด:','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','กฎบวกและกฎคูณ','ราชาคัมแบ็ก','verify-answers-editor-btn','eraser','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','indexOf','คุณใช้ตัวช่วย\x20\x22','รูปแบบการให้เหตุผล','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','select-all-topics-btn','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','screen','<span\x20title=\x22โดนคำสาป\x22>😈</span>','Error\x20fetching\x20student\x20rankings:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','modal-shuffle-select','_opt','rgba(16,\x20185,\x20129,\x200.7)','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','พีชคณิตและฟังก์ชัน','mode-switcher-btn','manual-bp-project-name','from','dataset','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','.project-card-container','mouse','<span\x20class=\x22sort-indicator\x20ml-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','.move-file-shortcut-item','map','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','suspended','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','pinned-items','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','padStart','แท็บใหม่','sync-matching-select','confirm-crop-btn','fontSize','</div></div>','addEventListener','dragover','createElementNS','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','cropper-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการเปลี่ยนสี','http://www.w3.org/2000/svg','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ตั้งเวลา\x20(เปิด)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','Error\x20linking\x20quizzes:','scrollIntoView','additional-file-shortcuts-modal','Error\x20joining\x20team\x20quiz:','pow','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','ท้องฟ้า','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','perseverance','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','td,\x20th','isDefault','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','.delete-hidden-shortcut-btn','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','Error\x20listening\x20for\x20custom\x20math\x20topics:','ออฟฟิศซินโดรม','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','height','onclick','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','???','</p><div>','currentPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','referenceUrl','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','isAdaptive','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','ก้อนเมฆ','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','wager-amount-display','เน็ตไอดอล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','sync-timer-bar','all','.txt','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','submittedAt','modal-timer-duration-label','.topic-name-input','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','add-file-shortcut-btn','toLocaleDateString','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</body></html>','ชาไข่มุก','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','thead','no-projects-msg','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','autoTable','\x20ใหม่...','ดอกเบี้ยทบต้น','.use-hidden-file-shortcut-btn','Error\x20saving\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textAlign','STOP','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-view-btn','answer-counter','geq','scrollY','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','textContent','lesson-sections-container','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','floor','.pair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','loop-until-pass-checkbox','input[type=\x22checkbox\x22]','transition','use-powerup-fiftyFifty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','.color-palette-popup','quiz-type-select','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','linkedQuizIds','ปวดหลัง','.shortcut-list-item:not(.opacity-50)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','file-input-area','นักเดินทาง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','close-comparison-modal-btn','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','projectId','เกิดข้อผิดพลาดในการอ่านไฟล์','leaderboard-quiz-tab-btn','ใช้\x20\x22คำสาป\x22\x20กับ\x20','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','parallel-shortcut_','bg-green-500','timer-mode-select','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','th-TH','file-tab','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','ผู้ควบคุม\x20(ทดสอบ)','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ตัวแปรและนิพจน์','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','bg-yellow-100','loader','num-choices-container','แบตหมด','scores','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','lesson-plan-title','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','opacity','กรุณากรอกเป็นตัวเลขเท่านั้น','NEGATIVE_INFINITY',',\x20r=','กฎของไซน์','shortcut-blueprint-url-input','commonMistakes','get','quiz-status-modal','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','sync-player-management','bg-black/20','bg-white','results_','scores-tab-content','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','dashboardConfig','$1\x5c%','lesson-view-content','แปลงร่าง','print','รีเซ็ตลำดับโปรเจคแล้ว','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','#student-project-leaderboard-content\x20thead','#math-topics-checkbox-container\x20input:checked','text-red-900','parallel-shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ลำดับการดำเนินการ\x20(PEMDAS)','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','grid-view-btn','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','scratchpad-controls','Invalid\x20response\x20structure\x20from\x20API.','lineCap','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','promise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','blueprint-settings-modal','BOOLEAN','createElement','เปิด\x20(จับเวลา)','student-progress','resize','timestamp','responseSchema','หน่วยมวล/น้ำหนักและการแปลง','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','ยังไม่เต็มนะ','จำนวนข้อ:','.eraser-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mode','กรุณากรอกข้อมูลให้ครบทุกช่อง','afterend','นักล่าฝัน','file-shortcut-id-input','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x22>(','student-quiz-leaderboard-content','modal-confidence-mode-container','parallel-shortcut-id-input','getTime','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','blueprint-project-list','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','.correct-response-input','exponentialRampToValueAtTime','bp-modal-difficulty-level-select','confidence_single','.tab-name-input','\x5csqrt{$1}','black-market-modal','#open-additional-parallel-shortcuts-btn','สิงโตยิ้ม','bp-modal-passing-score-input','รอเปิด','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20team\x20answer:','connect','Error\x20loading\x20user\x20preferences:','Successfully\x20removed\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.draggable-text','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','</span><button\x20data-player-name=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','bg-green-200\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','min','student-progress-view','บันทึกการตั้งค่าการแสดงผลสำเร็จ','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','.bp-create-topic-quiz-btn','ยินดีต้อนรับกลับ\x20','/public/data/projects/','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แมวเก้าชีวิต','keys','student-quiz-leaderboard-table-body','sync-submit-btn','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','interesting-stats-wrapper','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','restore','ก่อนเรียน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','.linkedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-yellow-50','text-emerald-900','blueprint-project-manager-view','webkitRequestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','bp-modal-quiz-type-select','คณิตศาสตร์','student-quiz-area','parallel-shortcut-container','rgba(255,\x20255,\x200,\x200.5)','trail','matching_item','reset-project-order-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','.open-bp-project-btn','บันทึกโปรเจค\x20\x22','clearRect','#e21b3c','ฟังก์ชันแบบชิ้นส่วน','ส้มตำปูปลาร้า','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','text-blue-700\x20bg-blue-100','document','false','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','confidence-scoring-toggle','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','name','powerupUsed_q','quizMode','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','ยืนยันการจับคู่','shortcutId','newappai','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ไม่พบข้อมูลโปรเจค','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','student-name-input','live-game','Enter','_new','bg-green-100\x20font-bold','cancel-confidence-btn','playerIndex','เรขาคณิตวิเคราะห์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','use-powerup-insurance','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','API\x20call\x20failed\x20with\x20status:\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','text-red-700\x20bg-red-100','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','question-complexity-select','link-url-input','Error\x20clearing\x20linked\x20quiz:','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','.hidden-option-input','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage','Error\x20loading\x20quiz\x20for\x20student:','<button\x20data-id=\x22','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','strength-weakness-analysis-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x22\x20name=\x22team_answer\x22\x20value=\x22','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','.sort-indicator','.tab-name-display','กรุณาเลือกคำตอบก่อนครับ','blob','input[name=\x22team_player\x22]:checked','topicId','100%','endTime','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','shadowBlur','แผนการสอน:\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','Error\x20processing\x20file\x20shortcut\x20click:','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','manage-tab-content','close-game-final-btn','.copy-quiz-id-list-btn','[data-topic-container-id]','Failed\x20to\x20get\x20hint:','Error\x20deleting\x20shortcut:','delete-svg-btn','approx','modal-passing-score-input','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','</a>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','pre-test','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','คนคุย','\x20mb-2\x22>','player-count','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','playerNicknames','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','project-dashboard-view','Error\x20updating\x20project\x20color:','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','typesetPromise','shouldSaveResults','slice','Error\x20in\x20handleApiCall:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','ฟังก์ชันสัมพัทธ์\x20(rational)','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','ส่วนเบี่ยงเบนเฉลี่ย','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','confirm-move-quiz-btn','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bold','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','startsWith','Powerup\x20use\x20failed:','bg-green-400\x20text-white\x20font-bold','border-gray-300','กรุณาป้อนรหัสแบบทดสอบ','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','lastAnswerIndex','use-powerup-cutOne','stroke','<option\x20value=\x22','options','.move-shortcut-dropdown','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>','dblclick','sync-manage-players-btn','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerdown','decode','true_false','.move-file-shortcut-dropdown','blueprint-upload-input','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','revealOptions','Error\x20joining\x20activity:','lesson-plan-modal','hasOwnProperty','blueprint-topics-list-container','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','visibilitychange','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','requestFullscreen','ยกเลิกการจับคู่สำเร็จ','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','isJinxed','text-tab','ใช่\x20/\x20ถูก','พื้นที่สามเหลี่ยม','students','เกี่ยวกับหัวข้อ\x20\x22','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','.question-editor-item[data-q-index=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','อัปเดตแบบทดสอบเก่า\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','commit','\x20pointer-events-none\x22>','.submittedAt','ห.ร.ม.\x20(GCD)','pen','message','.shortcut-btn','gameVariant','quiz-leaderboard-table-container','MathJax\x20re-render\x20failed:','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','nextElementSibling','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','groups.','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','(พยายามอยู่)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','bulk-shuffle-select','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','อัตราการเปลี่ยนแปลงทันที','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','cancel-game-start-btn','onloadend','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','text-gray-300\x20hover:text-white','buy-time-quantity-input','auto-fix-latex-btn','parseInline','attempts','การยืนยันตัวตนล้มเหลว','parallel-test-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','/public/data/syncGames/','<li\x20class=\x22','correctAnswerIndex','ไม่พบไฟล์\x20Test\x20Blueprint','✂️\x20ตัด\x201\x20ตัวเลือก','bg-white\x20text-gray-800','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','<span\x20title=\x22ใช้ไอเทม\x22>','(ฉบับง่าย)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','student-team-selection-view','bp-modal-shuffle-setting-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ค่าเฉลี่ย','Error\x20showing\x20quiz\x20detail\x20view:','\x20ตัวเลือก)','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ตะวันฉาย','input-','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.ideal-answer-input,\x20.correct-response-input','ยืนยันการกระทำ','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open-scratchpad-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','checkAnswer','anonymous','</span></div>','perfect_score_status','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20refund\x20powerup:','baseVal','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','\x20คู่\x20','file-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','join','removeAttribute','powerups.','wager-slider','81802cYbdKo','.edit-custom-topic-btn','ความคาดหมาย\x20(Expected\x20value)','confirm-admin-login-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','ปริพันธ์ไม่จำกัด','Failed\x20to\x20generate\x20practice\x20test:','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','file.pdf','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สลับไปโหมดผู้ควบคุม','ปล่อยพลัง','touchcancel','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallelTestShortcutsConfig','.pin-key','originalTopic','behavior-log-container','8PiQlLA','undo-btn','ไม่พบข้อมูลเกม','bp-quiz-settings-btn','.bp-live-btn','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','separate-by-content-from-file-checkbox','เส้นจำนวน','canvas','ไม่พบโปรเจคที่ต้องการลบ','pop','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','คู่จิ้น','\x20(สำหรับ\x20','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','show-results-btn','worksheet-tab','loopUntilPass','.live-answer-btn','.edit-hidden-shortcut-btn','parallel-default-1','circ','ค่าความจริง/ตารางค่าความจริง','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x20คะแนน</span></div>','summary','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','presentation-scratchpad-btn','.file-topic-selection-btn','ใช่','z-index:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คู่คำตอบ...','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x20จาก\x20','write','\x20ชุดสำเร็จ!','close-lesson-view-btn','\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','quiz-settings-modal','N/A','finished','pointercancel','first_try_ace','getElementsByTagName','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```','confidence-scoring-checkbox','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','input[type=\x22checkbox\x22]:checked','<span\x20class=\x22font-bold\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ย้ายแบบทดสอบสำเร็จ','กำลังสร้างแบบทดสอบจากหัวข้อ...','button[type=\x22submit\x22]','not-found','activeGameSession','การบวก','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','/public/data/syncGames','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','-options','\x20กลุ่ม</p></div>','additional-shortcuts-modal','substr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','thead\x20.sortable-header','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','sara','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','rgba(239,\x2068,\x2068,\x200.7)','blueprint-input-area','border-red-700','</span>','ปริมาตรรูปทรงสามมิติ','date_desc','เกิดข้อผิดพลาดในการลบ','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','Error\x20confirming\x20players:','\x5ctimes','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','scrollX','\x22\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','postScore','_opt0\x22>ใช่</label></div>','<span>','contentEditable','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keyup','สามเหลี่ยม\x20(ชนิด/สมบัติ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','กรุณาตั้งชื่อแท็บใหม่:','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','.game-start-btn','เกิดข้อผิดพลาดในการลบนักเรียน','add-custom-math-topic-btn','-tab','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','sin','กรุณาเลือกโปรเจคปลายทาง','Error\x20unlinking\x20quiz:','end-sync-game-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.confidence-choice-btn','state','summaryContent','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','4037094erhxoh','icon','quadraticCurveTo','#FEE2E2','shortcutOrder','$$$1$','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','answers','contents','imageCode','text','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','toFixed','Error\x20displaying\x20blueprint\x20project:','\x20in\x20all\x20blueprint\x20projects.','</td>','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','leaderboard-tab-content','.animate-pulse','question','cos','reviewQuestionIndex','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','text-blue-700','leaderboard-tab','newappai.firebaseapp.com','hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','mandatory','delete','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ยังไม่มีนักเรียนส่งงาน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','game-start-modal-title','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','scheduled','strokeStyle','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','q-explanation-','textarea','results-table','startTime','ฟังก์ชันค่าสัมบูรณ์','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr\x20class=\x22','(ตามมาติดๆ)','ไม่ใช่\x20/\x20ผิด','view-my-progress-btn','Failed\x20to\x20get\x20standardized\x20topic:','\x20สำเร็จ!','<span\x20title=\x22','dragend','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','cancel-move-quiz-btn','วงกลม:\x20คอร์ดและเส้นสัมผัส','added','.summary-bar-item','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','scoresCalculated','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','อสมการเชิงเส้น','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20listening\x20for\x20student\x20profiles:','passing-score-input','.generate-easy-version-btn','เกิดข้อผิดพลาดในการสร้างใบงาน','กำลังโหลดคลังข้อสอบทั้งหมด...','ไม่สามารถเพิ่มนักเรียนได้','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classWeaknesses','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','\x20|\x20ID:\x20','Error\x20saving\x20game\x20results:','Error\x20fetching\x20quiz\x20settings:','file-shortcut-name-input','explanation','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','original-mode-checkbox','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results-tab-content','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondragend','หัวข้อที่สร้างเอง','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตลาดมืด\x20(0\x20P)','resultsDisplay','%PDF','comparison','bp-topic-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editor-quiz-topic','passcode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','\x20P)','/public/data/teamQuizzes','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','.use-hidden-shortcut-btn','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','/public/data/practiceBank','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','getAttributeNS','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','text-green-800','questions_only','scale-125','<tr>','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ทำคะแนนเต็มในการทำครั้งแรก','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','dfrac','include-images-checkbox','\x5cpm','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเหตุผล\x20(rational)','เส้นตรง:\x20รูปแบบสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','abs','Failed\x20to\x20end\x20group\x20mode\x20game:','translate','รายงานผลคะแนน','teacherSuggestions','การจัดกลุ่มข้อมูล','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','Error\x20displaying\x20question\x20bank:','.group\x5c/dropdown-parallel','\x22\x20value=\x22','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','ฟังก์ชันลอการิทึม','newOptions','fromCharCode','เกิดข้อผิดพลาดในการสร้าง:\x20','comparison-overall-tab','file-shortcut-tabs-nav','%</span>','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','execCommand','reference.pdf','ON_FIRE','<div\x20class=\x22mb-3\x20topic-category\x22>','สมการตรีโกณมิติ','30px','สเกลและแผนที่','บักแตงโม','.pointsLastRound','\x22\x20ออกจากคลังนี้?','selectMathOption','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','input[name=\x22drill_answer\x22]:checked','delete-all-students-btn','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','แก้ไขสูตรคณิตศาสตร์\x20','\x5cneq','⏳\x20ซื้อเวลา','save-shortcut-btn','/submissions','tooltipTarget','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','txt','short_answer','คณิตการเงิน/บูรณาการ','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','md:col-span-1','end-game-btn','<div\x20class=\x22my-2\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','parent','shadowColor','reset-view-btn','close-additional-shortcuts-btn','คัดลอกรหัสแล้ว!','bg-indigo-600\x20hover:bg-indigo-700','อินฟลูเอนเซอร์','.doc','กรุณาใส่ชื่อโปรเจค','_opt1\x22\x20name=\x22question','save-visibility-settings-btn','\x20(p=','desc','.file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-mode-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','bg-[#DCFCE7]\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','[data-field=\x22subTopic\x22]','width','.verification-result-editor','pin-entry-modal','timer-container','ลำดับเลขคณิต\x20(AP)','input[type=\x22radio\x22][value=\x22','สมมาตร\x20(แกน/จุด)','subTopics','แม่น้ำ','isSyncGame','text-red-300\x20hover:text-red-100','results','save-blueprint-as-project-btn','lobby','\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','projectName','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','passcode-input-container','back-to-home-manual-release','bg-blue-100','.file-shortcut-btn','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหารทศนิยม','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','ไม่ได้ตอบ','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','bg-red-100\x20text-red-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stepByStepExamples','การบวกทศนิยม','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','เกิดข้อผิดพลาด:\x20','\x5csum','text-red-600','transition-all','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','isPasscodeEnabled','\x20|\x20','Invalid\x20response\x20structure\x20from\x20AI.','answeredCurrentQuestion','groups','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','กำลังสแกนหาแบบทดสอบเก่า...','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','bulk-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-search-input','ไม่ระบุ','.quiz-bank-delete-btn','medium','.bp-present-btn','🔁\x20โอกาสครั้งที่สอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','deselect-all-topics-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','spinner','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันผกผัน','questionIndex','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','ฟังก์ชันยกกำลัง','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','admin-try-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-parallel-shortcut-tab-btn','password-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','เส้นตรง:\x20ขนาน/ตั้งฉาก','contains','student-project-leaderboard-tab','<div\x20class=\x22p-2\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','back-to-student-initial-btn','Blueprint\x20O-NET\x20ป.6','Error\x20generating\x20lesson\x20plan:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','.use-hidden-parallel-shortcut-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','buyTime','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','input','asc','<div\x20class=\x22answer-space\x22></div>','answer','/users/','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','.option-input','🌗\x2050:50','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','.mb-6.p-4','Error\x20fetching\x20projects\x20for\x20move:','กลุ่ม:\x20','Error\x20saving\x20quiz:','รอผู้ควบคุมไปข้อต่อไป...','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','pinnedProjects','Error\x20listening\x20for\x20projects:','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','close-pin-modal-btn','quiz-form','generationConfig','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','pointContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20style=\x22','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การปัดเศษและประมาณค่า','สัญกรณ์วิทยาศาสตร์','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','selectedTopicNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20updating\x20points:','\x22><p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','true','show_results_and_answers','P/อัน)','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','confirm-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','ondblclick','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','market-timer-bar','.project-card-container:not(.opacity-50)','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','style','[data-topic-id]','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','bulk-quiz-settings-btn','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','analyze-strengths-btn','ย้ายแบบทดสอบไปโปรเจคอื่น','toLowerCase','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','pin','learningGaps','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ค่าคลาดเคลื่อนของการวัด','opacity-50','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','.ai-content\x20blockquote','copy','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','devicePixelRatio','eraser-tool-btn','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','group','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bestScore','targetId','quiz-leaderboard-table','finishReason','parallel-shortcut-url-input','getContext','bank-quiz-search-input','normal','text-gray-100','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','file-shortcut-modal-title','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','createdBy','responses.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x5cge','cancel-wager-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','นักวิทยาศาสตร์','เลือกและเริ่มสร้าง','start-presentation-btn','text-green-600','poll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-loop-until-pass-checkbox','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20','กัปตัน','open-blueprint-projects-btn','reveal_at_end','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','คะแนนยังไม่ถึงครึ่ง','การลบทศนิยม','.answeredCurrentQuestion','string','short',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','shortcut-name-input','ลบโปรเจค\x20\x22','\x22\x20value=\x22false\x22\x20','จำนวนและการดำเนินการ','removeEventListener','image-to-crop','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','target','cancel-delete-btn','newCorrectIndex','#000000','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','topics.','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Could\x20not\x20fetch\x20reference\x20file:','showInStudentDashboard','live-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ต้นฉบับ\x202','point','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','tfrac','#E0E7FF','originalQuestionText','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','confirm-manual-bp-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20analyzing\x20file\x20for\x20topics:','use-powerup-wagerMultiplier','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','file-topics-list-container','presentation-explanation','upper_group_count','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','questions','\x5cle','(ก่อนเรียน)\x20','.remove-file-shortcut-from-tab-btn','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','generated','game-start-quiz-id','<li>','ไม่พบตารางสำหรับ\x20Export','submission','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','team-player-status-grid','fadeStartTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.delete-quiz-btn','Error\x20toggling\x20pin\x20status:','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','.delete-file-shortcut-tab-btn','game-start-mode','ทฤษฎีบทพื้นฐานของแคลคูลัส','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','close-additional-file-shortcuts-btn','pathname','candidates','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','create-from-bank-btn','comparison-modal','https://corsproxy.io/?','totalPoints','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','ต้นฉบับ\x201','default-1','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Team\x20Quiz','getElementById','quiz-bank-modal','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','ที่พิมพ์ได้\x20จำนวน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','score-distribution-chart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','readAsArrayBuffer','.lastAnswerIndex','text-input-area','studentName','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20updating\x20quiz\x20settings:','ตรวจคะแนนใหม่\x20','.pen-size-btn','leaderboard','webkitAudioContext','ผ่านฉลุย','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','สร้างชุดคำถามจับคู่','dataIndex','projectOrder','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','1000px','find','lesson-view-modal','\x22\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','กำลังจับคู่...','student-reading-area','timed','cancel-create-project-btn','blockReason','แอบชอบ','เกิดข้อผิดพลาดในการเข้าตลาดมืด','.bp-edit-topic-btn','stop','pdf','AI\x20did\x20not\x20return\x20any\x20content.','Error\x20saving\x20visibility\x20settings:','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','student-result-area','ตลาดมืด\x20(-1\x20P)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-bank-btn','red','px)\x20scale(','key','AI\x20request\x20was\x20blocked.\x20Reason:\x20','realScore','presentation-short-answer-input','bg-teal-500\x20hover:bg-teal-600\x20text-white','correctStreak','.delete-bp-project-btn','cdot','นกฮูกกลางวัน','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','docChanges','far\x20fa-star','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','สลับไปโหมดนักเรียน','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','applicationHTML','ทำคะแนนได้เกินครึ่ง','หนอนหนังสือ','removeChild','\x20(\x22','ใช้ไอเทม\x20','#results-table','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22\x20name=\x22confidence','scratchpad-options','.start-game-btn','<i\x20class=\x22fas\x20fa-pen\x22></i>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','questionStatus','shortcuts-loading-msg','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','export-tutor-pdf-btn','.view-bp-lesson-btn','.text-indigo-200','getTextContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#add-question-editor-btn','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','keydown','bg-red-100','parallelShortcutTabs','powerupUsedThisTurn','.pdf','อสมการค่าสัมบูรณ์','Error\x20resetting\x20project\x20order:','getPage','AudioContext','นักประดิษฐ์','หน่วยเวลาและการคำนวณเวลา','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','add-from-global-bank-btn','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x20วินาที','\x20รายการสำเร็จ!','fa-dumbbell\x20text-gray-700','แก้ไขหัวข้อสำเร็จ','แบบทดสอบนี้ปิดใช้งานอยู่','cancel-export-pdf-btn','.buy-item-btn','สอบซ่อม','sort','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','start-sync-game-btn','modified','focus','PROMPT_PLACEHOLDER','#results-table\x20thead\x20tr','multiply','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pointerup','ondragstart','189KUmATU','Error\x20pairing\x20quizzes:','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','กำลังสร้างรูปภาพ...','lineJoin','includeImages','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','answered','generate-worksheet-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','Market\x20entry\x20payment\x20failed:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','modal-confidence-mode-select','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','input[name=\x22syncVariant\x22]','.delete-hidden-parallel-shortcut-btn','.live-answer-btn,\x20#sync-submit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดข้อมูลอันดับได้','.presentation-option','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','กรุณาเลือกสถานะ','คนโสด','setAttribute','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','blueprint-projects-modal','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','selected-answer-index-hidden','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','visible','team-student-list','border-gray-200','beforeend','verify-answers-btn','now','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','คำถาม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.auto-resize-textarea','GlobalWorkerOptions','create-project-btn','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle','\x5cfrac{$1}{$2}','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','</span>\x20','applicationData','generate-from-link-btn','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','<span\x20class=\x22block\x20text-sm\x20','.quiz-bank-settings-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22,\x20','การลบเศษส่วน','showAnswerInAnonymous','next-sync-question-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','Error\x20processing\x20parallel\x20shortcut\x20click:','project-title','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','back-to-dashboard-btn','#file-shortcut-tabs-nav\x20.tab-name-input','สายหมอก','Copy\x20command\x20failed','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','ลาเต้ไม่หวาน','enable-black-market-checkbox','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','file-default-2','ondrop','application/pdf','Sync\x20Mode','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','position','Blueprint\x202','insertAdjacentHTML','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','visibilityState','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','bg-red-700\x20text-white\x20font-bold','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x20\x0a\x20\x20\x20\x20','#FCE7F3','translate(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','เนื้อหาสำหรับสอน:\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','.bp-create-onet-quiz-btn','publicLeaderboard','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','เกิดข้อผิดพลาดในการบันทึกคะแนน','add-shortcut-tab-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','toggle','clear-all-links-btn','เกิดข้อผิดพลาดในการซื้อ','project-name-input','pointerType','โลมาบิน','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','str','เปลี่ยนชื่อแบบทดสอบสำเร็จ','<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','timerMode','.parallel-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน','#confidence-input-','bank-input-area','drill-feedback','latestScore','src','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาพิมพ์คำตอบของกลุ่ม','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','.ai-content\x20p','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','upperGroupNames','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','value','สุดยอด!\x20ตอบถูกทุกข้อ','replaceChild','\x27,\x20\x27','confidence-input-','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','.topic-name-display','highlighter-size-slider','parallel-shortcut-tabs-nav','ดีมาก','ข้อต่อไป','กำลังสร้างเนื้อหา:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','quiz-editor-modal','cancel-crop-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','competition','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','ไฟล์ลัด\x201','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','bulk-quiz-settings-modal','export-leaderboard-pdf-btn','modal-confidence-scoring-checkbox','คำตอบที่ถูกต้อง','API\x20Error\x20Body:','msRequestFullscreen','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','/public/data/customMathTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','num-choices','createGain','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','teachingContent','clientY','generate-from-parallel-test-btn','currentMode','parentNode','transform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','getScreenCTM','click','POST','handleGeneratePracticeTest','sync-timer-duration-container','.bp-generate-lesson-btn','onSecondChance','binom','arrayBuffer','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','onchange','badges','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','analytics-tab-btn','ไม่พบข้อมูลแบบทดสอบ','topics','bg-[#4ADE80]\x20text-green-900\x20font-bold','post-test','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','export-lesson-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab-content','strategyScan','change','ลำดับเรขาคณิต\x20(GP)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','แบบเติมคำตอบ','.delete-parallel-shortcut-btn','end-team-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22\x20style=\x22','reveal-answer-btn','next-question-btn','artifacts/','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open-quiz-bank-btn','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','curriculum','quizType','รหัสไม่ถูกต้อง','show_results_only','lower_group_count','tool','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','text/plain','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','referenceFileUrl','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','bp-add-topic-btn','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','เศรษฐีดูไบ','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','.edit-hidden-parallel-shortcut-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','sine','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','Error\x20submitting\x20answer:','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','data','Error\x20updating\x20project\x20name:','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','กิจกรรมสิ้นสุดลงแล้ว','match','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','shortcut-reference-url-input','powerups','confirm-join-game-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','New\x20question\x20detected.\x20Cleaning\x20up.','กำลังเตรียมไฟล์อ้างอิง...','รากที่สองและที่สาม','คำถามดิบ:\x20\x22','gameData','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','Save\x20complete\x20(Optimized\x20Read)','\x20mr-2\x22></i>','309984uhDIDj','Error\x20duplicating\x20quiz:','กุ้งเต้นแร้งกา','zIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','cancel-passcode-btn','open','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','admin-testing','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','draggable-text','Saving\x20game\x20results\x20(Optimized)...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','bp-modal-num-questions','padding','กรุณาเลือกโปรเจคก่อน','AI\x20ไม่สามารถอ่านข้อความได้','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprintUrl','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x202','isBlackMarketEnabled','fill_in_with_choices','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','behavior-log-tab-content','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','project-detail','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','scratchpad-modal','prod','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','เกิดข้อผิดพลาดในการลบผลสอบ','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','highlighter','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','bp-modal-include-images-checkbox','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','black-market-settings-container','ไม่สามารถโหลดรายการโปรเจคได้','export-leaderboard-excel-btn','bg-green-500\x20hover:bg-green-600\x20text-white','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-question-complexity-select','เต่าสายฟ้า','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','button','กรุณาพิมพ์คำตอบ','release','fill','max','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','bg-gray-400','confidence-scoring-description','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','destination','text-red-800','placeholder','#4338ca','ค.ร.น.\x20(LCM)','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','results-quiz-title','บันทึกคำถามใหม่\x20','display','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','back-to-results-btn','every','passingScore','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','parallel-default-2',')\x22><span\x20style=\x22','bg-gray-100\x20opacity-70','freeMarketEntryUsed_q','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','destination-out','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','.isScored','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดวงดาว','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','อนุพันธ์:\x20กฎลูกโซ่','keyConcepts','ผู้พิชิตดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','-\x20ข้อ\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','(หลังเรียน)\x20','<div\x20class=\x22space-y-2\x22>','line-height:\x201.3;\x20min-width:\x200;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เวลาโบนัสทำงาน!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toString','เกิดข้อผิดพลาดในการใช้ไอเทม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','/public/data/quizzes','onkeydown','isRemedial','text-emerald-800','fontWeight','.scratchpad-content-wrapper','404\x20Not\x20Found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','quick_thinker','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','modal-timer-mode-select','เกิดข้อผิดพลาดในการจับคู่','ไม่มีคำอธิบาย','ข้อ\x20','...\x22)?','...','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','per-question-options','student-join-game-view','lowerGroupNames','totalQuestions','ตารางความถี่','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','appendChild','active','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','use-powerup-wagerMultiplier-instant','student-back-to-home-btn','สายลมแห่งโชคชะตา','checkbox','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','hint-btn','undefined','\x22\x20data-index=\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','getItem','textarea[name=\x22team_answer\x22]','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','manage-players-btn','postTScore','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.question-editor-item','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','both','.ai-content\x20li','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','.quiz-bank-parallel-btn','.regenerate-question-btn','admin-password-modal','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','</span></p>','จับคู่แบบทดสอบสำเร็จ!','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','bulk-confidence-scoring-checkbox','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','cropped_image.png','516499432840'];_0x56fc=function(){return _0x2c0715;};return _0x56fc();}async function confirmQuizSettings(){const _0x5d913c=_0x3d653b;if(!actionTargetId)return;const _0x143e14=doc(db,_0x5d913c(0xc9f)+appId+_0x5d913c(0xd47),actionTargetId),_0x5e2465={'shuffle':document[_0x5d913c(0xb29)](_0x5d913c(0x634))[_0x5d913c(0xc4b)],'resultsDisplay':document[_0x5d913c(0xb29)](_0x5d913c(0x16e))[_0x5d913c(0xc4b)],'timerMode':document[_0x5d913c(0xb29)](_0x5d913c(0xd54))[_0x5d913c(0xc4b)],'timerDuration':parseInt(document[_0x5d913c(0xb29)](_0x5d913c(0x601))[_0x5d913c(0xc4b)])||0xa,'passingScore':parseInt(document[_0x5d913c(0xb29)](_0x5d913c(0x7cc))[_0x5d913c(0xc4b)])||0x0,'isAdaptive':document[_0x5d913c(0xb29)](_0x5d913c(0x4a9))[_0x5d913c(0x21d)],'loopUntilPass':document[_0x5d913c(0xb29)]('modal-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x5d913c(0xc66))[_0x5d913c(0x21d)],'confidenceMode':document[_0x5d913c(0xb29)](_0x5d913c(0xbbb))[_0x5d913c(0xc4b)]};try{await updateDoc(_0x143e14,{'settings':_0x5e2465}),showMessage(_0x5d913c(0xebf)),quizSettingsModal['classList'][_0x5d913c(0x224)]('hidden'),actionTargetId=null;}catch(_0x1801e5){console['error'](_0x5d913c(0xb36),_0x1801e5),showMessage(_0x5d913c(0xe36));}}async function confirmQuizStatus(){const _0x19d0de=_0x3d653b;if(!actionTargetId)return;const _0x3c1e03=doc(db,'artifacts/'+appId+_0x19d0de(0xd47),actionTargetId),_0x429f8=document['querySelector'](_0x19d0de(0x286));if(!_0x429f8){showMessage(_0x19d0de(0xbca));return;}const _0x546cab=_0x429f8[_0x19d0de(0xc4b)];let _0xc13968={};if(_0x546cab===_0x19d0de(0xd63)||_0x546cab===_0x19d0de(0xefe))_0xc13968={'status':_0x546cab,'startTime':null,'endTime':null};else{if(_0x546cab==='schedule'){const _0x1e0f27=document[_0x19d0de(0xb29)](_0x19d0de(0x3c1))['value'],_0x58fad3=document[_0x19d0de(0xb29)](_0x19d0de(0x342))[_0x19d0de(0xc4b)];if(!_0x1e0f27&&!_0x58fad3){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0xc13968={'status':_0x19d0de(0x93f),'startTime':_0x1e0f27?new Date(_0x1e0f27)[_0x19d0de(0x529)]():null,'endTime':_0x58fad3?new Date(_0x58fad3)['toISOString']():null};}}try{await updateDoc(_0x3c1e03,_0xc13968),showMessage(_0x19d0de(0x3f5)),quizStatusModal['classList'][_0x19d0de(0x224)](_0x19d0de(0x932)),actionTargetId=null;}catch(_0x5635dc){console[_0x19d0de(0x3b5)](_0x19d0de(0x448),_0x5635dc),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x496ae8){const _0x503b17=_0x3d653b,_0x2f0282=collection(db,_0x503b17(0xc9f)+appId+'/public/data/projects/'+_0x496ae8+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x2f0282,_0x472487=>{const _0xc1e5b7=_0x503b17,_0x1dfc59=_0x472487[_0xc1e5b7(0x574)]['map'](_0xf4d25=>_0xf4d25[_0xc1e5b7(0xcbd)]());renderLeaderboard(_0x1dfc59,_0xc1e5b7(0xdab));},_0x43dcb5=>{const _0x4b895b=_0x503b17;console[_0x4b895b(0x3b5)](_0x4b895b(0x95e),_0x43dcb5),document['getElementById'](_0x4b895b(0xdab))[_0x4b895b(0xd04)]=_0x4b895b(0xa44);});}function renderLeaderboard(_0x5bdbd7,_0x3ba716){const _0x8cf6cb=_0x3d653b,_0x215371=document[_0x8cf6cb(0xb29)](_0x3ba716);if(!_0x5bdbd7||_0x5bdbd7[_0x8cf6cb(0xe84)]===0x0){_0x215371[_0x8cf6cb(0xd04)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x5bdbd7[_0x8cf6cb(0xb9f)]((_0x1b74ec,_0x301e34)=>{const _0x48aa9c=_0x8cf6cb,_0x2e93ea=(_0x301e34[_0x48aa9c(0xb1e)]||0x0)-(_0x1b74ec[_0x48aa9c(0xb1e)]||0x0);if(_0x2e93ea!==0x0)return _0x2e93ea;const _0x1af3db=(_0x301e34[_0x48aa9c(0xe31)]?.[_0x48aa9c(0x61a)]||0x0)-(_0x1b74ec[_0x48aa9c(0xe31)]?.[_0x48aa9c(0x61a)]||0x0);if(_0x1af3db!==0x0)return _0x1af3db;const _0x4a2c77=(_0x301e34[_0x48aa9c(0xe31)]?.['first_try_ace']||0x0)-(_0x1b74ec[_0x48aa9c(0xe31)]?.[_0x48aa9c(0x8c6)]||0x0);if(_0x4a2c77!==0x0)return _0x4a2c77;const _0xd9e1e8=(_0x301e34['badgesCount']?.[_0x48aa9c(0x2c7)]||0x0)-(_0x1b74ec['badgesCount']?.[_0x48aa9c(0x2c7)]||0x0);if(_0xd9e1e8!==0x0)return _0xd9e1e8;const _0x17c19c=(_0x301e34['badgesCount']?.[_0x48aa9c(0xd51)]||0x0)-(_0x1b74ec[_0x48aa9c(0xe31)]?.['quick_thinker']||0x0);if(_0x17c19c!==0x0)return _0x17c19c;return _0x1b74ec[_0x48aa9c(0xb34)]['localeCompare'](_0x301e34[_0x48aa9c(0xb34)],'th');});let _0x2c9ce0='';_0x5bdbd7[_0x8cf6cb(0x57b)]((_0x3899ea,_0x8029c0)=>{const _0xdc703d=_0x8cf6cb,_0x159ca1=_0x8029c0+0x1,_0x431ed1=_0x3899ea['badgesCount']||{};let _0x337028='';const _0x3977ab=['specialist',_0xdc703d(0x2c7),'first_try_ace',_0xdc703d(0xd51)];_0x3977ab[_0xdc703d(0x57b)](_0xd4fd61=>{const _0x2cba0f=_0xdc703d;if(_0x431ed1[_0xd4fd61]>0x0){const _0x5226cb=Object['values'](BADGES)[_0x2cba0f(0xb46)](_0x4d1a08=>_0x4d1a08['id']===_0xd4fd61);_0x5226cb&&(_0xd4fd61===_0x2cba0f(0x61a)?_0x337028+=_0x2cba0f(0xc79)+_0x5226cb[_0x2cba0f(0x77f)]+_0x2cba0f(0xf04)+_0x5226cb[_0x2cba0f(0x918)]+_0x2cba0f(0x976):_0x337028+=_0x2cba0f(0xc79)+_0x5226cb[_0x2cba0f(0x77f)]+'\x20('+_0x431ed1[_0xd4fd61]+_0x2cba0f(0x840)+_0x5226cb[_0x2cba0f(0x918)]+_0x2cba0f(0x282)+_0x431ed1[_0xd4fd61]+_0x2cba0f(0x3d1));}}),_0x2c9ce0+=_0xdc703d(0x2ac)+_0x159ca1+_0xdc703d(0x81c)+_0x3899ea['studentName']+_0xdc703d(0xb79)+(_0x3899ea['totalPoints']||0x0)[_0xdc703d(0x901)]()+_0xdc703d(0x81c)+(_0x337028||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x215371[_0x8cf6cb(0xd04)]=_0x2c9ce0;}function displayLoopScreen(_0x26a3ac,_0xa994d0,_0x1b2056){const _0xd03d68=_0x3d653b;let _0x2d4db7='';_0x1b2056!==_0xd03d68(0x4f2)&&(_0x2d4db7=_0xd03d68(0x2ad)+_0x26a3ac+'\x20/\x20'+_0xa994d0+_0xd03d68(0x48e));const _0xda4710=_0xd03d68(0xf1e)+_0x2d4db7+_0xd03d68(0xc27);studentResultArea[_0xd03d68(0xd04)]=_0xda4710,studentResultArea[_0xd03d68(0x26b)][_0xd03d68(0x937)](_0xd03d68(0x932)),studentQuizArea['classList']['add'](_0xd03d68(0x932)),document[_0xd03d68(0xb29)](_0xd03d68(0xe95))[_0xd03d68(0x652)](_0xd03d68(0xc7b),()=>{const _0x759db=_0xd03d68;studentResultArea[_0x759db(0x26b)][_0x759db(0x224)](_0x759db(0x932)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x52717e,_0x61c296,_0x4701a0){const _0x5d799e=_0x3d653b,_0x486904=document[_0x5d799e(0xb29)](_0x4701a0),_0x23e2b3=_0x4701a0===_0x5d799e(0x755),_0x343462=_0x61c296['questions']['length'],_0x56053d=document[_0x5d799e(0xb29)](_0x4701a0)[_0x5d799e(0x2e3)](_0x5d799e(0x373));if(_0x56053d&&!_0x23e2b3){const _0x4b141a=_0x56053d[_0x5d799e(0x327)](_0x5d799e(0x699));_0x4b141a[_0x5d799e(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x52717e||_0x52717e[_0x5d799e(0xe84)]===0x0){_0x486904[_0x5d799e(0xd04)]=_0x5d799e(0x4b5)+(_0x23e2b3?0x6:0x8)+_0x5d799e(0x1b6);return;}const _0x1d0cc5=[..._0x52717e];_0x1d0cc5['sort']((_0x50bbc8,_0x277a20)=>{const _0x48aa28=_0x5d799e;let _0x46a7e6,_0x47fa1c;switch(quizLeaderboardSortBy){case'studentName':_0x46a7e6=_0x50bbc8['studentName']||'',_0x47fa1c=_0x277a20['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x46a7e6['localeCompare'](_0x47fa1c,'th'):_0x47fa1c[_0x48aa28(0x390)](_0x46a7e6,'th');case _0x48aa28(0x2ab):_0x46a7e6=_0x50bbc8[_0x48aa28(0x2ab)]||0x0,_0x47fa1c=_0x277a20['points']||0x0;break;case'attempts':_0x46a7e6=_0x50bbc8[_0x48aa28(0x84f)]?.[_0x48aa28(0xe84)]||0x1,_0x47fa1c=_0x277a20[_0x48aa28(0x84f)]?.[_0x48aa28(0xe84)]||0x1;break;case'latestSubmittedAt':_0x46a7e6=new Date(_0x50bbc8[_0x48aa28(0x368)]),_0x47fa1c=new Date(_0x277a20[_0x48aa28(0x368)]);break;case'bestScore':default:_0x46a7e6=_0x50bbc8[_0x48aa28(0xaae)],_0x47fa1c=_0x277a20[_0x48aa28(0xaae)];break;}if(_0x46a7e6<_0x47fa1c)return quizLeaderboardSortOrder===_0x48aa28(0xa59)?-0x1:0x1;if(_0x46a7e6>_0x47fa1c)return quizLeaderboardSortOrder===_0x48aa28(0xa59)?0x1:-0x1;return 0x0;});const _0x52ec16=_0x61c296['isRemedial']===!![],_0x1fe82d=_0x61c296[_0x5d799e(0x48b)]?.[_0x5d799e(0xd2b)]??-0x1;let _0x547cf5='';_0x1d0cc5[_0x5d799e(0x57b)]((_0x3f7469,_0x4bb85a)=>{const _0x414c3b=_0x5d799e,_0x598b20=_0x4bb85a+0x1;let _0x4ede1a=_0x414c3b(0xd1c);if(_0x52ec16||_0x1fe82d!==-0x1){let _0xf9c278=_0x52ec16?_0x3f7469[_0x414c3b(0xaae)]===_0x343462:_0x3f7469[_0x414c3b(0xaae)]>=_0x1fe82d;const _0x27b74f=_0xf9c278?'bg-green-100\x20text-green-800':_0x414c3b(0xebe),_0x2a558a=_0xf9c278?'ผ่าน':'ไม่ผ่าน';_0x4ede1a=_0x414c3b(0x2d8)+_0x27b74f+'\x22>'+_0x2a558a+_0x414c3b(0xcf5);}const _0x105820=_0x3f7469[_0x414c3b(0x84f)][_0x3f7469[_0x414c3b(0x84f)][_0x414c3b(0xe84)]-0x1],_0x20a692=(_0x105820[_0x414c3b(0xc85)]||[])[_0x414c3b(0x643)](_0xf0213e=>{const _0x5a780d=_0x414c3b,_0x29bb18=Object['values'](BADGES)[_0x5a780d(0xb46)](_0x55fc65=>_0x55fc65['id']===_0xf0213e);return _0x29bb18?_0x5a780d(0x950)+_0x29bb18[_0x5a780d(0x77f)]+'\x22><i\x20class=\x22fas\x20'+_0x29bb18['icon']+_0x5a780d(0x64a):'';})['join']('');_0x547cf5+=_0x414c3b(0xdcc)+_0x598b20+_0x414c3b(0x4f7)+_0x3f7469[_0x414c3b(0xb34)]+_0x414c3b(0x5a8)+_0x3f7469['bestScore']+_0x414c3b(0x490)+_0x343462+_0x414c3b(0xcc7)+_0x4ede1a+_0x414c3b(0x1c0)+(_0x3f7469['points']||0x0)['toLocaleString']()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x23e2b3?'':_0x414c3b(0xe10)+(_0x3f7469['attempts']?.['length']||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x23e2b3?'':_0x414c3b(0xc25)+new Date(_0x3f7469[_0x414c3b(0x368)])[_0x414c3b(0x901)](_0x414c3b(0x6d3))+_0x414c3b(0x927))+_0x414c3b(0x7a5)+(_0x20a692||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x486904['innerHTML']=_0x547cf5,_0x56053d&&!_0x23e2b3&&_0x56053d[_0x5d799e(0x948)](_0x5d799e(0x8de))[_0x5d799e(0x57b)](_0x19251d=>{const _0x17aa0f=_0x5d799e,_0x176767=_0x19251d[_0x17aa0f(0x327)](_0x17aa0f(0x7b4));if(_0x176767)_0x176767[_0x17aa0f(0x937)]();_0x19251d[_0x17aa0f(0x63c)][_0x17aa0f(0xb9f)]===quizLeaderboardSortBy&&(_0x19251d[_0x17aa0f(0xd04)]+=_0x17aa0f(0x640)+(quizLeaderboardSortOrder===_0x17aa0f(0xa59)?'▲':'▼')+_0x17aa0f(0x8e8));});}async function handleDeleteSubmission(_0x20ebc9){const _0x100199=_0x3d653b;if(!currentQuizData||!currentQuizData['id']||!_0x20ebc9){showMessage(_0x100199(0x379));return;}showConfirmation(_0x100199(0x5ed)+_0x20ebc9+_0x100199(0x55b),async()=>{const _0x5a6aec=_0x100199,_0x36aeee=currentQuizData['id'],_0x5c2876=doc(db,_0x5a6aec(0xc9f)+appId+'/public/data/quizzes/'+_0x36aeee+_0x5a6aec(0x9d1),_0x20ebc9);try{await deleteDoc(_0x5c2876),showMessage(_0x5a6aec(0x56c)+_0x20ebc9+_0x5a6aec(0x50b));}catch(_0x100d06){console[_0x5a6aec(0x3b5)]('Error\x20deleting\x20submission:',_0x100d06),showMessage(_0x5a6aec(0xcff));}});}async function handleLoadQuiz(){const _0x1cd457=_0x3d653b,_0xec78a3=document[_0x1cd457(0xb29)](_0x1cd457(0xa0e)),_0x4bee87=_0xec78a3[_0x1cd457(0xc4b)][_0x1cd457(0x46f)]();if(!_0x4bee87){showMessage(_0x1cd457(0x7fc));return;}loadQuizBtn[_0x1cd457(0xeee)]=!![],loadQuizBtn['innerHTML']=_0x1cd457(0x7e0);try{const _0x3bd419=doc(db,_0x1cd457(0xc9f)+appId+_0x1cd457(0xd47),_0x4bee87),_0x161f79=await getDoc(_0x3bd419);if(!_0x161f79[_0x1cd457(0x267)]()){showMessage(_0x1cd457(0x1f3));return;}currentQuizData={'id':_0x161f79['id'],..._0x161f79['data']()};const _0x526c8c=currentQuizData['status']||_0x1cd457(0xd63),_0x414dfd=new Date();if(_0x526c8c===_0x1cd457(0xefe)){showMessage(_0x1cd457(0xb9b));return;}if(_0x526c8c===_0x1cd457(0x93f)){const _0x307a7e=currentQuizData[_0x1cd457(0x946)]?new Date(currentQuizData['startTime']):null,_0x3d4e7f=currentQuizData[_0x1cd457(0x7bb)]?new Date(currentQuizData['endTime']):null;if(_0x307a7e&&_0x414dfd<_0x307a7e){showMessage(_0x1cd457(0x70c)+_0x307a7e['toLocaleString'](_0x1cd457(0x6d3),{'hour12':![]}));return;}if(_0x3d4e7f&&_0x414dfd>_0x3d4e7f){showMessage(_0x1cd457(0xed6));return;}}const _0x54493b=currentQuizData[_0x1cd457(0x6c4)];currentProjectId=_0x54493b;const _0x591c87=doc(db,_0x1cd457(0xc9f)+appId+_0x1cd457(0x8ef),_0x54493b),_0x13aa27=await getDoc(_0x591c87);if(!_0x13aa27['exists']()){showMessage(_0x1cd457(0x84a));return;}const _0x24471e=_0x13aa27['data']();currentStudentProjectData=_0x24471e,displayStudentNameSelector(_0x24471e[_0x1cd457(0x828)],currentQuizData[_0x1cd457(0xf14)]);}catch(_0x39e69f){console['error'](_0x1cd457(0x7ac),_0x39e69f),showMessage(_0x1cd457(0x5cb));}finally{loadQuizBtn[_0x1cd457(0xeee)]=![],loadQuizBtn['innerHTML']=_0x1cd457(0xa60);}}async function handleManualEditPoints(_0x3172d6,_0x106d13){const _0x378ffd=_0x3d653b;if(!currentQuizData||!currentQuizData['id'])return;const _0x57488b=currentQuizData['id'],_0x5c6162=doc(db,_0x378ffd(0xc9f)+appId+_0x378ffd(0xec2)+_0x57488b+_0x378ffd(0x9d1),_0x3172d6);try{const _0x42c35c=await getDoc(_0x5c6162);if(!_0x42c35c[_0x378ffd(0x267)]())return;const _0xf7b440=_0x42c35c['data'](),_0xd452d8=_0xf7b440[_0x378ffd(0x84f)]||[];_0xd452d8['length']>0x0&&(_0xd452d8[_0xd452d8['length']-0x1][_0x378ffd(0x2ab)]=_0x106d13,_0xd452d8[_0xd452d8['length']-0x1][_0x378ffd(0x9ff)]=!![]),await updateDoc(_0x5c6162,{'points':_0x106d13,'attempts':_0xd452d8}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x3172d6),showMessage('แก้ไข\x20Points\x20ของ\x20'+_0x3172d6+'\x20เป็น\x20'+_0x106d13+_0x378ffd(0x94f));}catch(_0x31f094){console[_0x378ffd(0x3b5)](_0x378ffd(0xa7f),_0x31f094),showMessage(_0x378ffd(0xc23));}}async function handleJoinLiveGame(){const _0x50f48b=_0x3d653b,_0x3a4407=document[_0x50f48b(0xb29)]('game-pin-input'),_0x26f501=document['getElementById'](_0x50f48b(0xcf0)),_0x1227eb=document[_0x50f48b(0xb29)](_0x50f48b(0xcc6)),_0x248080=_0x3a4407[_0x50f48b(0xc4b)][_0x50f48b(0x46f)](),_0x5953d2=_0x26f501[_0x50f48b(0xc4b)][_0x50f48b(0x46f)]();if(!_0x248080||!_0x5953d2){showMessage(_0x50f48b(0xc88));return;}_0x1227eb['disabled']=!![],_0x1227eb[_0x50f48b(0xd04)]=_0x50f48b(0x923);try{const _0x10a6fd=collection(db,_0x50f48b(0xc9f)+appId+'/public/data/syncGames'),_0x690553=query(_0x10a6fd,where(_0x50f48b(0xa9d),'==',_0x248080),where(_0x50f48b(0x389),'in',[_0x50f48b(0xa03),'question',_0x50f48b(0x8b2),'results'])),_0x1a1a6e=await getDocs(_0x690553);if(_0x1a1a6e['empty']){const _0x24f4d7=collection(db,_0x50f48b(0xc9f)+appId+_0x50f48b(0x291)),_0x6d98fe=query(_0x24f4d7,where(_0x50f48b(0x4c7),'==',_0x248080)),_0xb502da=await getDocs(_0x6d98fe);if(!_0xb502da[_0x50f48b(0xd9a)]){await proceedWithTeamQuizJoin(_0xb502da[_0x50f48b(0x574)][0x0]);return;}showMessage(_0x50f48b(0xcc0));return;}const _0xbbd95c=_0x1a1a6e[_0x50f48b(0x574)][0x0];currentLiveGameId=_0xbbd95c['id'];const _0x208746=_0xbbd95c[_0x50f48b(0xcbd)](),_0xae8c1e=doc(db,'artifacts/'+appId+_0x50f48b(0xd47),_0x208746[_0x50f48b(0x31e)]),_0x5e0994=await getDoc(_0xae8c1e);_0x5e0994[_0x50f48b(0x267)]()&&(currentQuizData=_0x208746[_0x50f48b(0xeb4)]);const _0x2a82b4=doc(db,_0x50f48b(0xc9f)+appId+_0x50f48b(0x855)+currentLiveGameId+_0x50f48b(0x47b),_0x5953d2),_0x80e77=await getDoc(_0x2a82b4);if(_0x80e77['exists']())_0x1227eb[_0x50f48b(0xd04)]=_0x50f48b(0xd9d),await updateDoc(_0x2a82b4,{'status':_0x50f48b(0xd63)}),showMessage(_0x50f48b(0x74f)+_0x5953d2+_0x50f48b(0x172));else{if(_0x208746[_0x50f48b(0x389)]!==_0x50f48b(0xa03)){}_0x1227eb[_0x50f48b(0xd04)]=_0x50f48b(0x60b);const _0xbf76f3={'name':_0x5953d2,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':'active','answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x2a82b4,_0xbf76f3);}currentStudentName=_0x5953d2,localTeamPlayers=[_0x5953d2],showView('live-game'),listenForSyncGameUpdates();const _0x52006a={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x50f48b(0x8d3),JSON['stringify'](_0x52006a));}catch(_0x1a58f4){console[_0x50f48b(0x3b5)](_0x50f48b(0x316),_0x1a58f4),showMessage(_0x50f48b(0xaec)+_0x1a58f4[_0x50f48b(0x837)]);}finally{_0x1227eb['disabled']=![];if(_0x1227eb[_0x50f48b(0xd04)][_0x50f48b(0xecb)](_0x50f48b(0xa39)))_0x1227eb['innerHTML']=_0x50f48b(0x313);}}function displayStudentNameSelector(_0x27155f,_0x38c592){const _0x2939cd=_0x3d653b,_0x150dce=document[_0x2939cd(0xb29)]('student-name-select');document[_0x2939cd(0xb29)](_0x2939cd(0x40d))['textContent']=_0x2939cd(0x609)+_0x38c592,!_0x27155f||_0x27155f[_0x2939cd(0xe84)]===0x0?(_0x150dce[_0x2939cd(0xd04)]=_0x2939cd(0x5ac),startQuizBtn[_0x2939cd(0xeee)]=!![]):(_0x150dce['innerHTML']=_0x2939cd(0x708),_0x27155f[_0x2939cd(0x57b)](_0x316deb=>{const _0x1ff6eb=_0x2939cd,_0x4db35e=document[_0x1ff6eb(0x712)]('option');_0x4db35e[_0x1ff6eb(0xc4b)]=_0x316deb,_0x4db35e[_0x1ff6eb(0x6ab)]=_0x316deb,_0x150dce[_0x1ff6eb(0xd62)](_0x4db35e);}),startQuizBtn['disabled']=![]),studentInitialView[_0x2939cd(0x26b)][_0x2939cd(0x224)](_0x2939cd(0x932)),studentNameSelectionView[_0x2939cd(0x26b)][_0x2939cd(0x937)](_0x2939cd(0x932));}function shuffleArray(_0x53f122){const _0x3c8e6a=_0x3d653b;for(let _0x4f9b03=_0x53f122[_0x3c8e6a(0xe84)]-0x1;_0x4f9b03>0x0;_0x4f9b03--){const _0x5f0928=Math[_0x3c8e6a(0x6ae)](Math[_0x3c8e6a(0xebc)]()*(_0x4f9b03+0x1));[_0x53f122[_0x4f9b03],_0x53f122[_0x5f0928]]=[_0x53f122[_0x5f0928],_0x53f122[_0x4f9b03]];}}function getShuffledQuiz(_0x514f1c){const _0x535f4a=_0x3d653b;let _0x3c445c=JSON[_0x535f4a(0xf2d)](JSON[_0x535f4a(0x437)](_0x514f1c));const _0x534e6e=_0x3c445c['settings']?.['shuffle']||'none';if(_0x534e6e===_0x535f4a(0x1a6))return _0x3c445c;return(_0x534e6e===_0x535f4a(0x999)||_0x534e6e===_0x535f4a(0xd78))&&shuffleArray(_0x3c445c[_0x535f4a(0xaff)]),(_0x534e6e===_0x535f4a(0x3cf)||_0x534e6e===_0x535f4a(0xd78))&&_0x3c445c[_0x535f4a(0xaff)][_0x535f4a(0x57b)](_0x4fecd4=>{const _0x52aa95=_0x535f4a,_0xab4766=_0x4fecd4[_0x52aa95(0xc4a)]||_0x3c445c['quizType'];if(_0x4fecd4[_0x52aa95(0x802)]){let _0x120acc=_0x4fecd4[_0x52aa95(0x802)][_0x52aa95(0x643)]((_0x310c49,_0x2fbd5f)=>({'text':_0x310c49,'isCorrect':_0x2fbd5f===_0x4fecd4[_0x52aa95(0x857)]}));shuffleArray(_0x120acc),_0x4fecd4['options']=_0x120acc[_0x52aa95(0x643)](_0x4aa33d=>_0x4aa33d[_0x52aa95(0x922)]),_0x4fecd4[_0x52aa95(0x857)]=_0x120acc[_0x52aa95(0xe9c)](_0x3e22d0=>_0x3e22d0[_0x52aa95(0x1ce)]);}_0xab4766===_0x52aa95(0x76e)&&_0x4fecd4['allResponses']&&shuffleArray(_0x4fecd4[_0x52aa95(0x1e4)]);}),_0x3c445c;}function displayQuizForStudent(_0xb57736){const _0x599aea=_0x3d653b;studentQuizArea[_0x599aea(0x26b)]['remove'](_0x599aea(0x932)),currentDisplayedQuiz=getShuffledQuiz(_0xb57736);currentMode!==_0x599aea(0xcd8)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x599aea(0x652)](_0x599aea(0x5bc),handleFullscreenChange),document[_0x599aea(0x652)](_0x599aea(0x819),handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window[_0x599aea(0x652)]('mousedown',resetDimTimer),window[_0x599aea(0x652)](_0x599aea(0x253),resetDimTimer),window[_0x599aea(0x652)](_0x599aea(0xb89),resetDimTimer),resetDimTimer());const _0x243dbb=currentDisplayedQuiz['settings']?.['timerMode']||_0x599aea(0x1a6);if(_0x243dbb===_0x599aea(0xe6d))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x599aea(0x48b)]['timerDuration']);else _0x243dbb===_0x599aea(0x241)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x3d653b(0x22a)]=function(_0x58d781){const _0x40394d=_0x3d653b,_0x319b58=document[_0x40394d(0xb29)]('dropdown-list-'+_0x58d781),_0x5696e6=document[_0x40394d(0x948)](_0x40394d(0x27a));_0x5696e6[_0x40394d(0x57b)](_0x452a98=>{const _0x33a58b=_0x40394d;if(_0x452a98['id']!=='dropdown-list-'+_0x58d781)_0x452a98[_0x33a58b(0x26b)][_0x33a58b(0x224)](_0x33a58b(0x932));});if(_0x319b58)_0x319b58[_0x40394d(0x26b)][_0x40394d(0xc28)](_0x40394d(0x932));},window[_0x3d653b(0x9c7)]=function(_0x110060,_0xe5afae){const _0x557241=_0x3d653b,_0x3e7b26=currentDisplayedQuiz;if(!_0x3e7b26)return;const _0x4713e1=_0x3e7b26[_0x557241(0xaff)][_0x110060],_0x3bb4fb=_0x4713e1[_0x557241(0x1e4)][_0xe5afae],_0x20f41b=document[_0x557241(0xb29)](_0x557241(0x869)+_0x110060);if(_0x20f41b)_0x20f41b[_0x557241(0xc4b)]=_0x3bb4fb;const _0x1fae28=document[_0x557241(0xb29)](_0x557241(0x1f8)+_0x110060);if(_0x1fae28){_0x1fae28[_0x557241(0xd04)]=_0x3bb4fb;if(window[_0x557241(0x348)])MathJax['typesetPromise']([_0x1fae28]);_0x1fae28[_0x557241(0x26b)]['add'](_0x557241(0x1b5),_0x557241(0xd99));}const _0x85d190=document[_0x557241(0xb29)](_0x557241(0x185)+_0x110060);if(_0x85d190)_0x85d190[_0x557241(0x26b)][_0x557241(0x224)](_0x557241(0x932));},document[_0x3d653b(0x652)](_0x3d653b(0xc7b),_0x352eb6=>{const _0x40ac54=_0x3d653b;!_0x352eb6[_0x40ac54(0xadf)]['closest'](_0x40ac54(0x38d))&&document[_0x40ac54(0x948)](_0x40ac54(0x27a))[_0x40ac54(0x57b)](_0xcf7a63=>_0xcf7a63[_0x40ac54(0x26b)][_0x40ac54(0x224)]('hidden'));});function renderFullQuizForm(){const _0x4f8917=_0x3d653b,_0x5e3c3c=currentDisplayedQuiz[_0x4f8917(0x48b)]?.['isConfidenceScoringEnabled']===!![],_0x53a80b=currentDisplayedQuiz[_0x4f8917(0x48b)]?.[_0x4f8917(0x369)]||_0x4f8917(0xd68);let _0x58f56e=![],_0x1bb618=_0x4f8917(0x19a)+currentDisplayedQuiz[_0x4f8917(0xf14)]+_0x4f8917(0x26e)+(currentMode===_0x4f8917(0xcd8)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x4f8917(0xd33);currentDisplayedQuiz[_0x4f8917(0xaff)][_0x4f8917(0x57b)]((_0x142925,_0x4b8a6c)=>{const _0x5e20ab=_0x4f8917,_0x449a79=_0x142925[_0x5e20ab(0xc4a)]||currentDisplayedQuiz[_0x5e20ab(0xca5)],_0x3a7636=_0x5e20ab(0x8b7)+(0x64-_0x4b8a6c)+';';_0x449a79===_0x5e20ab(0x76e)&&!_0x58f56e&&(_0x1bb618+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x58f56e=!![]);_0x1bb618+=_0x5e20ab(0x249)+_0x3a7636+'\x22>';_0x449a79!==_0x5e20ab(0x76e)&&(_0x1bb618+=_0x5e20ab(0xc41)+(_0x4b8a6c+0x1)+'.\x20'+(_0x142925['instructions']||_0x142925[_0x5e20ab(0x4cd)])+_0x5e20ab(0x23b)+(_0x142925['imageCode']?_0x5e20ab(0x52e)+_0x142925[_0x5e20ab(0x921)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');_0x1bb618+=_0x5e20ab(0xd3f);if(_0x449a79==='matching_item'&&_0x142925[_0x5e20ab(0x1e4)])_0x1bb618+=_0x5e20ab(0xad0)+(_0x4b8a6c+0x1)+_0x5e20ab(0xef2)+_0x142925[_0x5e20ab(0x3bf)]+_0x5e20ab(0x78a)+_0x4b8a6c+_0x5e20ab(0x54c)+_0x4b8a6c+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown('+_0x4b8a6c+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-'+_0x4b8a6c+_0x5e20ab(0x508)+_0x4b8a6c+_0x5e20ab(0x408)+_0x142925[_0x5e20ab(0x1e4)][_0x5e20ab(0x643)]((_0x39b159,_0x38b655)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption('+_0x4b8a6c+',\x20'+_0x38b655+_0x5e20ab(0x1c8)+_0x39b159+_0x5e20ab(0xa6f))['join']('')+_0x5e20ab(0x1c1);else{if(_0x449a79==='true_false')_0x1bb618+=_0x5e20ab(0x22e)+_0x4b8a6c+_0x5e20ab(0x62e)+_0x4b8a6c+_0x5e20ab(0x42b)+_0x4b8a6c+_0x5e20ab(0x8f5),_0x1bb618+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x4b8a6c+_0x5e20ab(0x9e6)+_0x4b8a6c+_0x5e20ab(0xc33)+_0x4b8a6c+_0x5e20ab(0x58d);else _0x142925[_0x5e20ab(0x802)]&&Array[_0x5e20ab(0x51a)](_0x142925['options'])&&_0x142925[_0x5e20ab(0x802)]['length']>0x0?_0x1bb618+=_0x142925[_0x5e20ab(0x802)][_0x5e20ab(0x643)]((_0x23bdbd,_0x52f4e8)=>_0x5e20ab(0x6e0)+_0x4b8a6c+'_opt'+_0x52f4e8+_0x5e20ab(0xdc2)+_0x4b8a6c+_0x5e20ab(0x9b0)+_0x52f4e8+_0x5e20ab(0x1bd)+_0x4b8a6c+_0x5e20ab(0x635)+_0x52f4e8+'\x22>'+_0x23bdbd+_0x5e20ab(0x254))[_0x5e20ab(0x87d)](''):_0x1bb618+='<textarea\x20name=\x22question'+_0x4b8a6c+_0x5e20ab(0xa81);}_0x1bb618+=_0x5e20ab(0xe78),_0x5e3c3c&&(_0x1bb618+=_0x5e20ab(0xb24),_0x53a80b===_0x5e20ab(0x938)?_0x1bb618+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x4b8a6c+'\x22\x20name=\x22confidence'+_0x4b8a6c+_0x5e20ab(0x391)+_0x4b8a6c+_0x5e20ab(0xd09)+_0x4b8a6c+_0x5e20ab(0x7e4):_0x1bb618+=_0x5e20ab(0x8e0)+_0x4b8a6c+_0x5e20ab(0xb7a)+_0x4b8a6c+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x4b8a6c+_0x5e20ab(0xc40),_0x1bb618+=_0x5e20ab(0xe78)),_0x1bb618+=_0x5e20ab(0xe78);}),_0x1bb618+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x1bb618+='</form>',studentQuizArea[_0x4f8917(0xd04)]=_0x1bb618;if(currentMode===_0x4f8917(0xcd8)){const _0x5571f1=document[_0x4f8917(0xb29)]('cancel-test-btn');if(_0x5571f1)_0x5571f1['addEventListener'](_0x4f8917(0xc7b),cancelAdminTest);}const _0x506e38=document[_0x4f8917(0xb29)](_0x4f8917(0xa6c));_0x506e38&&(_0x506e38[_0x4f8917(0x652)]('submit',handleSubmitQuiz),_0x506e38[_0x4f8917(0x652)](_0x4f8917(0xc7b),_0xf1f2c1=>{const _0x2c303c=_0x4f8917;if(_0xf1f2c1['target'][_0x2c303c(0x26b)][_0x2c303c(0xa4c)]('confidence-choice-btn')){const _0x3587a9=_0xf1f2c1[_0x2c303c(0xadf)],_0x717c5a=_0x3587a9[_0x2c303c(0x63c)][_0x2c303c(0xa40)],_0x49546a=_0x3587a9[_0x2c303c(0x63c)][_0x2c303c(0xc4b)];document[_0x2c303c(0xb29)](_0x2c303c(0xc4f)+_0x717c5a)['value']=_0x49546a;const _0x5df3f5=_0x3587a9[_0x2c303c(0x3c2)];_0x5df3f5['querySelectorAll'](_0x2c303c(0x911))[_0x2c303c(0x57b)](_0x1063d4=>_0x1063d4[_0x2c303c(0x26b)][_0x2c303c(0x937)](_0x2c303c(0xd63))),_0x3587a9[_0x2c303c(0x26b)]['add'](_0x2c303c(0xd63));}})),window[_0x4f8917(0x348)]&&setTimeout(()=>{const _0xfea6ce=_0x4f8917;window[_0xfea6ce(0x348)][_0xfea6ce(0x7e6)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0xd6308){const _0x1ecec3=_0x3d653b;if(_0xd6308)_0xd6308[_0x1ecec3(0x486)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x10bbdc=document[_0x1ecec3(0xb29)](_0x1ecec3(0xa6c));if(!_0x10bbdc)return;const _0x445ada=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x2a7fb3=currentDisplayedQuiz[_0x1ecec3(0x48b)]?.['confidenceMode']||_0x1ecec3(0xd68);if(_0x445ada&&_0x2a7fb3==='mandatory'){let _0x4a23af=!![];for(let _0x433d6d=0x0;_0x433d6d<currentDisplayedQuiz[_0x1ecec3(0xaff)][_0x1ecec3(0xe84)];_0x433d6d++){const _0x46912f=_0x10bbdc['querySelector'](_0x1ecec3(0xc3b)+_0x433d6d);if(!_0x46912f||_0x46912f[_0x1ecec3(0xc4b)]===''){_0x4a23af=![];break;}}if(!_0x4a23af){showMessage(_0x1ecec3(0x9d3));return;}}const _0x1ae50f=_0x10bbdc[_0x1ecec3(0x327)](_0x1ecec3(0x8d1)),_0x16f65f=currentDisplayedQuiz['questions'][_0x1ecec3(0x537)](_0x42fc0e=>_0x42fc0e['questionType']==='short_answer');_0x1ae50f&&(_0x1ae50f[_0x1ecec3(0xeee)]=!![],_0x1ae50f['innerHTML']=_0x16f65f?_0x1ecec3(0x5b9):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x3f0547=new FormData(_0x10bbdc),_0x37ca65=currentDisplayedQuiz[_0x1ecec3(0xaff)][_0x1ecec3(0x643)]((_0x2034ee,_0x1ec673)=>{const _0xd5ba02=_0x1ecec3,_0x166e8e=_0x3f0547[_0xd5ba02(0x6ee)]('question'+_0x1ec673);let _0x1f6b11;_0x2a7fb3===_0xd5ba02(0x938)?_0x1f6b11=_0x3f0547[_0xd5ba02(0x6ee)](_0xd5ba02(0x171)+_0x1ec673):_0x1f6b11=_0x3f0547[_0xd5ba02(0x6ee)](_0xd5ba02(0x171)+_0x1ec673)==='on';let _0x2ca212=null;if(_0x166e8e!==null&&_0x166e8e!==undefined){const _0xfdcbef=_0x2034ee[_0xd5ba02(0xc4a)]||currentDisplayedQuiz[_0xd5ba02(0xca5)];_0xfdcbef==='multiple_choice'||_0xfdcbef===_0xd5ba02(0x43b)?_0x2ca212=parseInt(_0x166e8e):_0x2ca212=_0x166e8e;}return{'answer':_0x2ca212,'wasConfident':_0x1f6b11};}),_0x534b33=currentQuizData['id'],_0x5eace2=doc(db,_0x1ecec3(0xc9f)+appId+_0x1ecec3(0xec2)+_0x534b33+_0x1ecec3(0x9d1),currentStudentName),_0x21f19a=await getDoc(_0x5eace2),_0x388677=_0x21f19a[_0x1ecec3(0x267)]()?_0x21f19a['data']():{},_0x421ef2=_0x388677[_0x1ecec3(0x84f)]||[];await processAndSubmitAnswers(_0x37ca65,_0x421ef2);}async function gradeShortAnswerWithAI(_0xc30e5c,_0x337849){const _0x41dd21=_0x3d653b;if(!_0xc30e5c||!_0x337849)return![];try{const _0x52ab12=_0x41dd21(0x7cd)+_0xc30e5c+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x337849+_0x41dd21(0x6e4),_0x3593a8={'contents':[{'role':_0x41dd21(0x30b),'parts':[{'text':_0x52ab12}]}]},_0x374ad0='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x29b003=_0x41dd21(0x879)+_0x374ad0,_0x40e79b=await fetch(_0x29b003,{'method':_0x41dd21(0xc7c),'headers':{'Content-Type':_0x41dd21(0xee0)},'body':JSON['stringify'](_0x3593a8)});if(!_0x40e79b['ok'])throw new Error('API\x20call\x20failed');const _0x1c4640=await _0x40e79b[_0x41dd21(0x385)](),_0x351f86=_0x1c4640[_0x41dd21(0xb19)][0x0]['content'][_0x41dd21(0x3c7)][0x0][_0x41dd21(0x922)][_0x41dd21(0x46f)]()[_0x41dd21(0xa99)]();return _0x351f86===_0x41dd21(0xa82);}catch(_0x205b4c){return console[_0x41dd21(0x3b5)](_0x41dd21(0x477),_0x205b4c),![];}}async function processAndSubmitAnswers(_0x39860b,_0x2a3eeb){const _0x37135b=_0x3d653b;releaseWakeLock(),stopDimTimer();try{document['fullscreenElement']&&await document[_0x37135b(0xe3e)]();}catch(_0x48e74d){console['warn'](_0x37135b(0x99f),_0x48e74d);}isQuizActive=![],document[_0x37135b(0xadb)](_0x37135b(0x5bc),handleFullscreenChange),document[_0x37135b(0xadb)](_0x37135b(0x819),handleVisibilityChange);let _0x225312=0x0;const _0x3ec476=[],_0x4d172a=currentDisplayedQuiz[_0x37135b(0xaff)][_0x37135b(0xe84)];let _0x22474a=0x0,_0x2f3c1a=[];const _0x3edcb7=currentDisplayedQuiz[_0x37135b(0xaff)];for(let _0x15c30a=0x0;_0x15c30a<_0x3edcb7['length'];_0x15c30a++){const _0x44ca22=_0x3edcb7[_0x15c30a],_0x9c253d=_0x39860b[_0x15c30a],_0x4f05e4=_0x9c253d?_0x9c253d[_0x37135b(0xa5b)]:null,_0x4c95ea=_0x9c253d?_0x9c253d[_0x37135b(0xf12)]:null;let _0x1b5a3c=![],_0xeb2606=0x0;if(_0x4f05e4!==null&&_0x4f05e4!==''){const _0x140e5b=_0x44ca22['questionType']||currentDisplayedQuiz[_0x37135b(0xca5)];switch(_0x140e5b){case _0x37135b(0x76e):_0x1b5a3c=_0x4f05e4===_0x44ca22[_0x37135b(0x500)];break;case _0x37135b(0x80d):const _0x19f8f2=_0x4f05e4===!![]||_0x4f05e4===_0x37135b(0xa82);_0x1b5a3c=_0x19f8f2===_0x44ca22[_0x37135b(0x1b0)];break;case _0x37135b(0x2fc):case _0x37135b(0x9d6):_0x1b5a3c=await gradeShortAnswer(_0x4f05e4,_0x44ca22);break;case'multiple_choice':case _0x37135b(0xcec):default:_0x1b5a3c=Number(_0x4f05e4)===_0x44ca22[_0x37135b(0x857)];break;}}if(currentDisplayedQuiz[_0x37135b(0x48b)]?.[_0x37135b(0x5f8)]){const _0x50248f=_0x9c253d?_0x9c253d['wasConfident']:null;if(_0x1b5a3c&&(_0x50248f===!![]||_0x50248f==='confident'))_0xeb2606=0x2;else{if(_0x1b5a3c)_0xeb2606=0x1;else{if(!_0x1b5a3c&&(_0x50248f===![]||_0x50248f==='not_confident'||_0x50248f===null))_0xeb2606=0x0;else!_0x1b5a3c&&(_0x50248f===!![]||_0x50248f===_0x37135b(0x4b9))&&(_0xeb2606=-0x1);}}}else _0xeb2606=_0x1b5a3c?0x1:0x0;_0x225312+=_0xeb2606;if(_0x1b5a3c){_0x22474a++;if(_0x22474a===0x3)_0x2f3c1a[_0x37135b(0xf06)](BADGES[_0x37135b(0x9bf)]['id']);}else _0x22474a=0x0;let _0x473ad2=null;_0x44ca22[_0x37135b(0x802)]&&(_0x44ca22[_0x37135b(0xc4a)]==='multiple_choice'||_0x44ca22[_0x37135b(0xc4a)]===_0x37135b(0xcec))&&_0x4f05e4!==null?_0x473ad2=_0x44ca22[_0x37135b(0x802)][_0x4f05e4]:_0x473ad2=_0x4f05e4,_0x3ec476[_0x37135b(0xf06)]({'questionId':_0x44ca22['id'],'answer':_0x4f05e4,'answerText':_0x473ad2,'isCorrect':_0x1b5a3c,'wasConfident':_0x4c95ea,'pointsAwarded':_0xeb2606,'originalQuestionText':_0x44ca22[_0x37135b(0x3bf)]||_0x44ca22[_0x37135b(0x4cd)]});}const _0x294a37=_0x3ec476[_0x37135b(0x5f5)](_0xd249ea=>_0xd249ea['isCorrect'])['length'],_0x29282e=currentDisplayedQuiz[_0x37135b(0x48b)]?.['passingScore']??Math['floor'](_0x4d172a/0x2);_0x294a37===_0x4d172a&&_0x4d172a>0x0&&!currentDisplayedQuiz[_0x37135b(0xd49)]&&_0x2f3c1a['push'](BADGES[_0x37135b(0x399)]['id']);const _0x5c2368=currentDisplayedQuiz[_0x37135b(0x48b)]?.['timerMode'];if(_0x5c2368===_0x37135b(0xe6d)&&quizStartTime){const _0x1651a0=(new Date()-quizStartTime)/0x3e8,_0x3e95b7=currentDisplayedQuiz[_0x37135b(0x48b)][_0x37135b(0xbc8)]*0x3c;_0x294a37>=_0x29282e&&_0x1651a0<_0x3e95b7/0x2&&_0x2f3c1a['push'](BADGES[_0x37135b(0x581)]['id']);}_0x2a3eeb[_0x37135b(0xe84)]===0x0&&_0x294a37===_0x4d172a&&_0x4d172a>0x0&&_0x2f3c1a[_0x37135b(0xf06)](BADGES[_0x37135b(0xed4)]['id']);if(_0x2a3eeb['length']>0x0){const _0x3c5536=_0x2a3eeb[0x0][_0x37135b(0x5e3)];if(_0x3c5536<_0x29282e&&_0x294a37>=_0x29282e){const _0x2af5bf=_0x2a3eeb['some'](_0x167dfb=>(_0x167dfb['badges']||[])[_0x37135b(0xecb)](BADGES[_0x37135b(0x610)]['id']));!_0x2af5bf&&_0x2f3c1a[_0x37135b(0xf06)](BADGES[_0x37135b(0x610)]['id']);}}_0x2a3eeb[_0x37135b(0xe84)]===0x4&&_0x2f3c1a[_0x37135b(0xf06)](BADGES[_0x37135b(0x1fe)]['id']);const _0x3b654e=currentDisplayedQuiz[_0x37135b(0x48b)][_0x37135b(0x978)];if(currentMode===_0x37135b(0xcd8)){handleResultDisplay(_0x3b654e,_0x294a37,_0x225312,_0x2f3c1a,_0x3ec476,_0x4d172a);return;}const _0x375799=currentQuizData['id'],_0x3a3c54=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x375799+'/submissions',currentStudentName);try{const _0x1cf48e=[..._0x2a3eeb],_0x7d9570={'score':_0x294a37,'points':_0x225312,'badges':Array[_0x37135b(0x63b)](new Set(_0x2f3c1a)),'submittedAt':new Date()[_0x37135b(0x529)](),'answers':_0x3ec476};_0x1cf48e[_0x37135b(0xf06)](_0x7d9570);const _0x292a33=_0x2a3eeb[_0x37135b(0xe84)]===0x0?_0x294a37:_0x2a3eeb[0x0][_0x37135b(0x5e3)]||0x0,_0x422736=Math[_0x37135b(0xd18)](..._0x1cf48e[_0x37135b(0x643)](_0x619019=>_0x619019['score']));await setDoc(_0x3a3c54,{'studentName':currentStudentName,'totalQuestions':_0x4d172a,'attempts':_0x1cf48e,'firstScore':_0x292a33,'bestScore':_0x422736,'latestScore':_0x294a37,'points':_0x225312,'latestSubmittedAt':_0x7d9570[_0x37135b(0x68c)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x37135b(0x6c4)],currentStudentName),handleResultDisplay(_0x3b654e,_0x294a37,_0x225312,_0x2f3c1a,_0x3ec476,_0x4d172a);}catch(_0x318bf5){console[_0x37135b(0x3b5)](_0x37135b(0x5f6),_0x318bf5),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x158b5d,_0x5c63e7){const _0x437112=_0x3d653b,_0x4e106c=doc(db,_0x437112(0xc9f)+appId+_0x437112(0x750)+_0x158b5d+_0x437112(0x56a),_0x5c63e7);try{const _0x37f951=query(collection(db,_0x437112(0xc9f)+appId+'/public/data/quizzes'),where(_0x437112(0x6c4),'==',_0x158b5d)),_0x23026b=await getDocs(_0x37f951),_0x3439cb=_0x23026b[_0x437112(0x574)][_0x437112(0x643)](_0x3d91e1=>_0x3d91e1['id']);let _0x17797d=0x0;const _0x5c6d7a={},_0x4b614a=_0x3439cb[_0x437112(0x643)](_0x45ab04=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x45ab04+'/submissions',_0x5c63e7))),_0x18bda0=await Promise[_0x437112(0x689)](_0x4b614a);_0x18bda0['forEach'](_0x468c19=>{const _0x4502e2=_0x437112;if(_0x468c19[_0x4502e2(0x267)]()){const _0x28fdba=_0x468c19['data']();_0x17797d+=_0x28fdba[_0x4502e2(0x2ab)]||0x0,_0x28fdba[_0x4502e2(0x84f)]&&_0x28fdba[_0x4502e2(0x84f)]['forEach'](_0x106f15=>{const _0x3a8160=_0x4502e2;_0x106f15[_0x3a8160(0xc85)]&&_0x106f15[_0x3a8160(0xc85)]['forEach'](_0x3f9b04=>{});});}}),await setDoc(_0x4e106c,{'studentName':_0x5c63e7,'totalPoints':_0x17797d},{'merge':!![]});}catch(_0x3bc483){console['error'](_0x437112(0x618),_0x3bc483);}}function startAdminTest(){const _0x5ecc92=_0x3d653b;if(!currentQuizData){showMessage(_0x5ecc92(0xcf2));return;}let _0x510238=JSON[_0x5ecc92(0xf2d)](JSON['stringify'](currentQuizData));currentMode=_0x5ecc92(0xcd8),currentStudentName=_0x5ecc92(0x6d6),adminView[_0x5ecc92(0x26b)][_0x5ecc92(0x224)]('hidden'),studentView['classList'][_0x5ecc92(0x937)](_0x5ecc92(0x932)),studentInitialView[_0x5ecc92(0x26b)][_0x5ecc92(0x224)](_0x5ecc92(0x932)),studentNameSelectionView['classList'][_0x5ecc92(0x224)](_0x5ecc92(0x932)),studentResultArea[_0x5ecc92(0x26b)][_0x5ecc92(0x224)]('hidden'),studentQuizArea[_0x5ecc92(0x26b)]['remove'](_0x5ecc92(0x932)),quizStartTime=new Date(),displayQuizForStudent(_0x510238);}function handleResultDisplay(_0x414ceb,_0x20796e,_0x5f2047,_0x2ac586,_0x12742a,_0x597102){const _0x5af549=_0x3d653b;if(_0x414ceb==='manual_release'){displaySubmissionConfirmation();return;}const _0x168fa8=currentDisplayedQuiz['settings']?.[_0x5af549(0xd2b)]??Math['floor'](_0x597102/0x2),_0x2fabc6=currentDisplayedQuiz[_0x5af549(0x48b)]?.['isAdaptive']??![],_0x1cf3f5=currentDisplayedQuiz[_0x5af549(0x48b)]?.['loopUntilPass']===!![],_0x1c1673=_0x20796e<_0x168fa8,_0x441e9c=_0x414ceb===_0x5af549(0x183)||_0x414ceb==='perfect_score_status';if(_0x1cf3f5&&_0x1c1673&&!_0x441e9c){_0x414ceb===_0x5af549(0xa83)?displayResultsWithAnswers(_0x20796e,_0x5f2047,_0x2ac586,_0x12742a,_0x597102,!![]):displayLoopScreen(_0x20796e,_0x597102,_0x414ceb);return;}if(_0x2fabc6&&_0x1c1673){startAdaptiveFlow(_0x12742a,_0x20796e,_0x597102);return;}switch(_0x414ceb){case _0x5af549(0xa83):displayResultsWithAnswers(_0x20796e,_0x5f2047,_0x2ac586,_0x12742a,_0x597102);break;case _0x5af549(0xca7):displayResultsScoreOnly(_0x20796e,_0x5f2047,_0x2ac586,_0x597102);break;case'show_pass_fail_only':displayPassFailOnly(_0x20796e,_0x597102);break;case _0x5af549(0x183):displayHalfMarkResult(_0x20796e,_0x597102);break;case _0x5af549(0x874):displayPerfectScoreResult(_0x20796e,_0x597102);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2674fc){const _0x11df1c=_0x3d653b;studentReadingArea[_0x11df1c(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x45ed52=_0x11df1c(0xec0)+_0x2674fc+_0x11df1c(0x5a0)+simpleMathPrompt+_0x11df1c(0xac9),_0x53d693={'type':_0x11df1c(0x4d4),'properties':{'questionText':{'type':_0x11df1c(0x43c)},'options':{'type':'ARRAY','items':{'type':_0x11df1c(0x43c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x11df1c(0x43c)}},'required':[_0x11df1c(0x4cd),_0x11df1c(0x802),_0x11df1c(0x857),_0x11df1c(0x96c)]},_0x51bc05={'type':_0x11df1c(0x4d4),'properties':{'topic':{'type':_0x11df1c(0x43c)},'questions':{'type':_0x11df1c(0xea8),'items':_0x53d693}},'required':['topic',_0x11df1c(0xaff)]};try{const _0x2321d8=await callAnalysisApi(_0x45ed52,_0x51bc05);_0x2321d8[_0x11df1c(0xd49)]=!![],studentReadingArea[_0x11df1c(0x26b)][_0x11df1c(0x224)]('hidden');const _0x173181={...currentDisplayedQuiz[_0x11df1c(0x48b)],'isAdaptive':![],'resultsDisplay':_0x11df1c(0xa83)};_0x2321d8[_0x11df1c(0x48b)]=_0x173181,displayQuizForStudent(_0x2321d8);}catch(_0x1fd251){console[_0x11df1c(0x3b5)](_0x11df1c(0xa7d),_0x1fd251),showMessage(_0x11df1c(0x65a)),showView(_0x11df1c(0x4d8));}}function displayPassFailOnly(_0x5ac4ae,_0x594c86){const _0x50ab3a=_0x3d653b,_0x49413c=currentDisplayedQuiz[_0x50ab3a(0x48b)]?.[_0x50ab3a(0xd2b)]??-0x1,_0x4df5c0=currentDisplayedQuiz[_0x50ab3a(0xd49)]===!![];let _0x4528b7='',_0x4cb2aa=![];if(_0x4df5c0||_0x49413c!==-0x1){_0x4cb2aa=_0x4df5c0?_0x5ac4ae===_0x594c86:_0x5ac4ae>=_0x49413c;const _0x1c8c6c=_0x4cb2aa?'bg-green-100\x20text-green-800':_0x50ab3a(0xebe),_0x4ec8ad=_0x4cb2aa?_0x50ab3a(0x16d):'ไม่ผ่าน';_0x4528b7=_0x50ab3a(0x719)+_0x1c8c6c+'\x22>'+_0x4ec8ad+_0x50ab3a(0x873);}else _0x4528b7='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x542549='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4528b7+_0x50ab3a(0xa7c);studentResultArea[_0x50ab3a(0xd04)]=_0x542549,studentResultArea['classList']['remove'](_0x50ab3a(0x932)),studentQuizArea[_0x50ab3a(0x26b)][_0x50ab3a(0x224)](_0x50ab3a(0x932)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4cb2aa});}function cancelAdminTest(){const _0x577a82=_0x3d653b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x577a82(0xadb)]('fullscreenchange',handleFullscreenChange),document[_0x577a82(0xadb)](_0x577a82(0x819),handleVisibilityChange),currentMode=_0x577a82(0x223),studentView[_0x577a82(0x26b)]['add'](_0x577a82(0x932)),adminView[_0x577a82(0x26b)][_0x577a82(0x937)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x577a82(0xcf3));}function setupResultScreenBackButton(_0x455a49){const _0x2b038a=_0x3d653b,_0x18c55f={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x455a49};if(_0x18c55f[_0x2b038a(0x31f)]){const _0x3b3c2c=_0x2b038a(0xa07);studentResultArea[_0x2b038a(0xc0d)](_0x2b038a(0xbd5),_0x3b3c2c),document['getElementById'](_0x2b038a(0xe95))[_0x2b038a(0x652)](_0x2b038a(0xc7b),()=>{const _0x2d08e3=_0x2b038a;studentResultArea[_0x2d08e3(0x26b)][_0x2d08e3(0x224)](_0x2d08e3(0x932)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x572296=_0x2b038a(0x532),_0x3bc98d=currentMode==='admin-testing',_0x44233a=_0x3bc98d?_0x2b038a(0x25c):_0x2b038a(0x3fb);let _0x23a63d='';_0x18c55f[_0x2b038a(0xe6a)]&&(_0x23a63d+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x1c9b3c=_0x18c55f[_0x2b038a(0x8a6)];_0x1c9b3c===undefined&&(_0x1c9b3c=_0x18c55f[_0x2b038a(0x5e3)]<_0x18c55f[_0x2b038a(0xd5f)]);_0x1c9b3c&&(_0x23a63d+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x23a63d+='<button\x20id=\x22'+_0x572296+_0x2b038a(0xe42)+_0x44233a+_0x2b038a(0xc45);const _0x2b9aed=_0x2b038a(0xbf9)+_0x23a63d+_0x2b038a(0xe78);studentResultArea['insertAdjacentHTML'](_0x2b038a(0xbd5),_0x2b9aed),studentResultArea['querySelector'](_0x2b038a(0xce3))?.[_0x2b038a(0x652)](_0x2b038a(0xc7b),handleShowStudentRankings);const _0x53a3ea=studentResultArea['querySelector'](_0x2b038a(0x35f));_0x53a3ea&&_0x53a3ea['addEventListener']('click',()=>{const _0x4d51b=_0x2b038a;studentResultArea[_0x4d51b(0x26b)]['add'](_0x4d51b(0x932)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2b038a(0xb29)](_0x572296)[_0x2b038a(0x652)]('click',()=>{const _0x5e05e2=_0x2b038a;_0x3bc98d?(currentMode=_0x5e05e2(0x223),studentView[_0x5e05e2(0x26b)][_0x5e05e2(0x224)](_0x5e05e2(0x932)),adminView[_0x5e05e2(0x26b)]['remove'](_0x5e05e2(0x932)),showView(_0x5e05e2(0xcf3))):(showView(_0x5e05e2(0x4d8)),document[_0x5e05e2(0xb29)]('quiz-id-input')[_0x5e05e2(0xc4b)]='');});}function displayResultsWithAnswers(_0x28a6dc,_0x8c8b67,_0x41e64b,_0x4d5a5f,_0x25fa9b,_0x54d279=![]){const _0x3a034b=_0x3d653b,_0x1af4e9=_0x25fa9b>0x0?_0x28a6dc/_0x25fa9b*0x64:0x0,_0x42c6e0=currentDisplayedQuiz[_0x3a034b(0x48b)]?.[_0x3a034b(0xd2b)]??-0x1,_0x40c8d6=currentDisplayedQuiz[_0x3a034b(0xd49)]===!![];let _0x2ae675='';if(_0x40c8d6||_0x42c6e0!==-0x1){let _0xbc0adb=_0x40c8d6?_0x28a6dc===_0x25fa9b:_0x28a6dc>=_0x42c6e0;const _0x2736c9=_0xbc0adb?'bg-green-100\x20text-green-800':_0x3a034b(0xebe),_0x170c8d=_0xbc0adb?_0x3a034b(0x16d):_0x3a034b(0xe53);_0x2ae675=_0x3a034b(0x8e4)+_0x2736c9+'\x22>'+_0x170c8d+'</p>';}let _0x25e725=_0x3a034b(0x511)+currentStudentName+_0x3a034b(0xdd9)+_0x28a6dc+_0x3a034b(0xa27)+_0x25fa9b+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ae675+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x8c8b67+_0x3a034b(0xa57)+_0x1af4e9[_0x3a034b(0x924)](0x0)+_0x3a034b(0xd9c);currentDisplayedQuiz[_0x3a034b(0xaff)][_0x3a034b(0x57b)]((_0x28eab7,_0x341d39)=>{const _0x2e6015=_0x3a034b,_0x1e9bc6=_0x4d5a5f[_0x341d39],_0x59d7b8=_0x1e9bc6[_0x2e6015(0xa5b)],_0x21ef6f=_0x1e9bc6[_0x2e6015(0x1ce)],_0x4f3fe9=_0x28eab7[_0x2e6015(0xc4a)]||currentDisplayedQuiz[_0x2e6015(0xca5)];_0x25e725+=_0x2e6015(0xadd)+(_0x21ef6f?_0x2e6015(0x188):'border-red-300\x20bg-red-50')+_0x2e6015(0xa80)+(_0x341d39+0x1)+'.\x20'+(_0x28eab7['stem']||_0x28eab7[_0x2e6015(0x4cd)])+_0x2e6015(0x589);switch(_0x4f3fe9){case'matching_item':const _0x5db849=_0x59d7b8||_0x2e6015(0xa12),_0x24022d=_0x28eab7['correctResponse'];_0x25e725+=_0x2e6015(0xc2e)+(!_0x21ef6f?_0x2e6015(0x2f9):'')+'\x22>'+_0x5db849+_0x2e6015(0xd7f);!_0x21ef6f&&(_0x25e725+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x24022d+_0x2e6015(0xdba));break;case _0x2e6015(0x2fc):case _0x2e6015(0x9d6):_0x25e725+=_0x2e6015(0x1a5)+(_0x59d7b8||_0x2e6015(0xa12))+'</p>',_0x25e725+=_0x2e6015(0xf16)+_0x28eab7[_0x2e6015(0x5b2)]+'</p>';break;case'true_false':_0x25e725+=_0x2e6015(0x461)+(_0x28eab7[_0x2e6015(0x1b0)]===!![]?_0x2e6015(0x5a6):'')+'\x20'+(_0x59d7b8===_0x2e6015(0xa82)&&!_0x21ef6f?_0x2e6015(0x2f9):'')+'\x22>ใช่</p>',_0x25e725+=_0x2e6015(0x461)+(_0x28eab7[_0x2e6015(0x1b0)]===![]?_0x2e6015(0x5a6):'')+'\x20'+(_0x59d7b8===_0x2e6015(0x77b)&&!_0x21ef6f?'line-through\x20text-red-700':'')+_0x2e6015(0x518);break;case _0x2e6015(0xa08):case _0x2e6015(0xcec):default:if(_0x28eab7[_0x2e6015(0x802)]&&Array['isArray'](_0x28eab7[_0x2e6015(0x802)]))_0x25e725+=_0x28eab7[_0x2e6015(0x802)]['map']((_0x1de03f,_0x3f92d0)=>{const _0x1f25d2=_0x2e6015;let _0x509f5b='',_0x176eb2='';if(_0x3f92d0===_0x28eab7[_0x1f25d2(0x857)])_0x509f5b='font-bold\x20text-green-700',_0x176eb2=_0x1f25d2(0x52f);else _0x3f92d0===_0x59d7b8&&(_0x509f5b=_0x1f25d2(0x3fa),_0x176eb2=_0x1f25d2(0x92e));return _0x1f25d2(0xdd2)+_0x509f5b+'\x22>'+_0x176eb2+_0x1de03f+_0x1f25d2(0xe78);})[_0x2e6015(0x87d)]('');else{_0x25e725+=_0x2e6015(0x1a5)+(_0x59d7b8||_0x2e6015(0xa12))+_0x2e6015(0xdba);if(!_0x21ef6f)_0x25e725+=_0x2e6015(0x248);}break;}_0x25e725+=_0x2e6015(0xc6a)+(_0x28eab7['explanation']||_0x2e6015(0xd56))+_0x2e6015(0xe78);if(!_0x21ef6f){const _0x5597a9=_0x28eab7['stem']||_0x28eab7[_0x2e6015(0x4cd)];_0x25e725+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x5597a9)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x25e725+='</div>';}),studentResultArea[_0x3a034b(0xd04)]=_0x25e725,renderEarnedBadges(_0x41e64b,_0x3a034b(0x3ae)),studentResultArea['classList'][_0x3a034b(0x937)](_0x3a034b(0x932)),studentQuizArea[_0x3a034b(0x26b)][_0x3a034b(0x224)](_0x3a034b(0x932)),setupResultScreenBackButton({'isLooping':_0x54d279,'score':_0x28a6dc,'totalQuestions':_0x25fa9b,'showRankings':!![]});if(window['MathJax'])window[_0x3a034b(0x348)][_0x3a034b(0x7e6)]([studentResultArea]);}function displayResultsScoreOnly(_0x5c821a,_0x14580e,_0x21bee3,_0x54d726){const _0x419c18=_0x3d653b,_0x37739f=_0x54d726>0x0?_0x5c821a/_0x54d726*0x64:0x0,_0x5cbfe8=currentDisplayedQuiz['settings']?.[_0x419c18(0xd2b)]??-0x1,_0x15e928=currentDisplayedQuiz[_0x419c18(0xd49)]===!![];let _0x428efe='';if(_0x15e928||_0x5cbfe8!==-0x1){let _0x74722=_0x15e928?_0x5c821a===_0x54d726:_0x5c821a>=_0x5cbfe8;const _0x21ed78=_0x74722?_0x419c18(0xe4a):_0x419c18(0xebe),_0x1af3a7=_0x74722?_0x419c18(0x16d):_0x419c18(0xe53);_0x428efe=_0x419c18(0x8e4)+_0x21ed78+'\x22>'+_0x1af3a7+_0x419c18(0xdba);}let _0x45db1c=_0x419c18(0x5e7)+currentStudentName+_0x419c18(0xc57)+_0x5c821a+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x54d726+_0x419c18(0xd03)+_0x428efe+_0x419c18(0xbf3)+_0x14580e+_0x419c18(0xbb5)+_0x37739f[_0x419c18(0x924)](0x0)+_0x419c18(0x90e);studentResultArea[_0x419c18(0xd04)]=_0x45db1c,renderEarnedBadges(_0x21bee3,_0x419c18(0x3ae)),studentResultArea[_0x419c18(0x26b)][_0x419c18(0x937)]('hidden'),studentQuizArea[_0x419c18(0x26b)][_0x419c18(0x224)](_0x419c18(0x932)),setupResultScreenBackButton({'score':_0x5c821a,'totalQuestions':_0x54d726,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x204475=_0x3d653b;let _0x515bc9=_0x204475(0xf26)+currentStudentName+_0x204475(0xbb4);studentResultArea[_0x204475(0xd04)]=_0x515bc9,studentResultArea[_0x204475(0x26b)]['remove'](_0x204475(0x932)),studentQuizArea[_0x204475(0x26b)][_0x204475(0x224)](_0x204475(0x932)),document[_0x204475(0xb29)](_0x204475(0xa0a))[_0x204475(0x652)](_0x204475(0xc7b),()=>{const _0x1bdcae=_0x204475;showView(_0x1bdcae(0x4d8)),document[_0x1bdcae(0xb29)](_0x1bdcae(0xa0e))[_0x1bdcae(0xc4b)]='';});}function renderEarnedBadges(_0x124b40,_0x5e776b){const _0x3912af=_0x3d653b,_0x3e6853=document[_0x3912af(0xb29)](_0x5e776b);if(!_0x3e6853||!_0x124b40||_0x124b40[_0x3912af(0xe84)]===0x0)return;let _0x4635b4='';_0x124b40['forEach']((_0x122aaf,_0x467556)=>{const _0x5aa557=_0x3912af,_0x563964=Object['values'](BADGES)[_0x5aa557(0xb46)](_0xebb1b9=>_0xebb1b9['id']===_0x122aaf);_0x563964&&(_0x4635b4+=_0x5aa557(0x8dd)+_0x467556*0.2+'s;\x22\x20title=\x22'+_0x563964['description']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x563964['icon']+_0x5aa557(0xdec)+_0x563964['name']+_0x5aa557(0x2a3));}),_0x3e6853[_0x3912af(0xd04)]=_0x4635b4;}function startPresentation(_0x563393){const _0xe7bde=_0x3d653b;currentQuizData=getShuffledQuiz(_0x563393),currentPresentationSlide=0x0,presentationModal[_0xe7bde(0xa90)][_0xe7bde(0xd27)]=_0xe7bde(0xef9),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x20828c=_0x3d653b;document['fullscreenElement']&&document[_0x20828c(0xe3e)](),presentationModal[_0x20828c(0xa90)]['display']='none';}function renderPresentationSlide(_0x5a343d){const _0x56784d=_0x3d653b,_0x2c0997=document[_0x56784d(0xb29)](_0x56784d(0x413));if(!currentQuizData||!currentQuizData[_0x56784d(0xaff)]||!currentQuizData['questions'][_0x5a343d]){_0x2c0997[_0x56784d(0xd04)]=_0x56784d(0xb21);return;}const _0x2dbcde=currentQuizData[_0x56784d(0xaff)][_0x5a343d],_0x360340=_0x2dbcde[_0x56784d(0xc4a)]||currentQuizData[_0x56784d(0xca5)];_0x2c0997[_0x56784d(0xd04)]='';let _0x5b6450=_0x56784d(0xa15)+(_0x2dbcde[_0x56784d(0x921)]?_0x56784d(0x52e)+_0x2dbcde[_0x56784d(0x921)]+_0x56784d(0xe78):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x5a343d+0x1)+'.\x20'+(_0x2dbcde[_0x56784d(0x3bf)]||_0x2dbcde['questionText'])+_0x56784d(0x5f2);switch(_0x360340){case _0x56784d(0x76e):_0x5b6450+=_0x2dbcde[_0x56784d(0x1e4)]['map'](_0x3853ec=>_0x56784d(0x614)+_0x3853ec+_0x56784d(0xbf7))[_0x56784d(0x87d)]('');break;case _0x56784d(0x80d):_0x5b6450+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x5b6450+=_0x56784d(0xd2c);break;case'fill_in_no_choices':case _0x56784d(0x9d6):_0x5b6450+=_0x56784d(0x245);break;case _0x56784d(0x43b):case _0x56784d(0xa08):default:_0x5b6450+=_0x2dbcde[_0x56784d(0x802)][_0x56784d(0x643)]((_0x48b4b6,_0x24cba4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x24cba4+_0x56784d(0x293)+_0x48b4b6+_0x56784d(0xbf7))[_0x56784d(0x87d)]('');break;}_0x5b6450+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x2dbcde['explanation']||_0x56784d(0xd56))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c0997['innerHTML']=_0x5b6450;if(window[_0x56784d(0x348)])window[_0x56784d(0x348)][_0x56784d(0x7e6)]([_0x2c0997]);let _0x34b27e=[];switch(_0x360340){case'matching_item':_0x34b27e=_0x2dbcde[_0x56784d(0x1e4)]||[];break;case _0x56784d(0x80d):_0x34b27e=[_0x56784d(0x8b6),_0x56784d(0x1b1)];break;default:_0x34b27e=_0x2dbcde[_0x56784d(0x802)]||[];break;}const _0x48939d=document[_0x56784d(0xb29)](_0x56784d(0x8b4));_0x48939d&&(_0x48939d[_0x56784d(0x675)]=()=>{openScratchpad(_0x2dbcde,_0x34b27e);});document[_0x56784d(0x948)]('.presentation-option')[_0x56784d(0x57b)](_0x441b67=>{const _0x3f0877=_0x56784d;_0x441b67['addEventListener'](_0x3f0877(0xc7b),_0x54d5bf=>revealAnswerForPresentation(_0x5a343d,_0x54d5bf[_0x3f0877(0x47f)]));});const _0x456f5f=document['getElementById']('check-presentation-answer-btn');_0x456f5f&&_0x456f5f[_0x56784d(0x652)]('click',()=>checkShortAnswerForPresentation(_0x5a343d)),document['getElementById'](_0x56784d(0x46a))['textContent']='ข้อที่\x20'+(_0x5a343d+0x1)+_0x56784d(0x490)+currentQuizData[_0x56784d(0xaff)][_0x56784d(0xe84)],document[_0x56784d(0xb29)]('prev-question-btn')['disabled']=_0x5a343d===0x0,document[_0x56784d(0xb29)](_0x56784d(0xc9e))[_0x56784d(0xeee)]=_0x5a343d===currentQuizData[_0x56784d(0xaff)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x564ce8){const _0x537f0b=_0x3d653b,_0x581ab4=currentQuizData[_0x537f0b(0xaff)][_0x564ce8],_0x2c5c3e=document[_0x537f0b(0xb29)](_0x537f0b(0xb62)),_0x1cad6e=document[_0x537f0b(0xb29)]('check-presentation-answer-btn'),_0x50c7cf=document[_0x537f0b(0xb29)]('presentation-ai-result'),_0x4b666f=document[_0x537f0b(0xb29)]('presentation-explanation');if(!_0x2c5c3e||!_0x1cad6e||!_0x50c7cf||!_0x4b666f)return;const _0xc99a98=_0x2c5c3e[_0x537f0b(0xc4b)]['trim']();if(_0xc99a98==='')return;_0x1cad6e[_0x537f0b(0xeee)]=!![],_0x1cad6e[_0x537f0b(0xd04)]=_0x537f0b(0x1c6),_0x2c5c3e[_0x537f0b(0xeee)]=!![];const _0x11cc19=await gradeShortAnswer(_0xc99a98,_0x581ab4);_0x11cc19?_0x50c7cf[_0x537f0b(0xd04)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x50c7cf[_0x537f0b(0xd04)]=_0x537f0b(0xed3)+_0x581ab4[_0x537f0b(0x5b2)]+')',_0x50c7cf['classList'][_0x537f0b(0x937)](_0x537f0b(0x932)),_0x4b666f['classList'][_0x537f0b(0x937)](_0x537f0b(0x932)),_0x1cad6e[_0x537f0b(0x26b)][_0x537f0b(0x224)](_0x537f0b(0x932));}function revealAnswerForPresentation(_0x273c67,_0xed4313){const _0x2dc7a8=_0x3d653b,_0x4d47b2=currentQuizData['questions'][_0x273c67],_0x395f04=_0x4d47b2[_0x2dc7a8(0xc4a)]||currentQuizData[_0x2dc7a8(0xca5)];document[_0x2dc7a8(0x948)](_0x2dc7a8(0xbc3))['forEach'](_0x1cc64b=>{const _0x2bcca8=_0x2dc7a8;_0x1cc64b['disabled']=!![],_0x1cc64b[_0x2bcca8(0x26b)][_0x2bcca8(0x937)](_0x2bcca8(0x198));let _0x13a387=![];if(_0x395f04===_0x2bcca8(0xa08)||_0x395f04===_0x2bcca8(0x43b)){const _0x30b797=parseInt(_0x1cc64b[_0x2bcca8(0x63c)][_0x2bcca8(0x294)]);_0x13a387=_0x30b797===_0x4d47b2[_0x2bcca8(0x857)];}else{if(_0x395f04==='true_false'){const _0x409d0b=_0x1cc64b[_0x2bcca8(0x63c)][_0x2bcca8(0xa5b)]===_0x2bcca8(0xa82);_0x13a387=_0x409d0b===_0x4d47b2[_0x2bcca8(0x1b0)];}else _0x395f04===_0x2bcca8(0x76e)&&(_0x13a387=_0x1cc64b[_0x2bcca8(0x6ab)]['trim']()===_0x4d47b2['correctResponse']);}_0x13a387?_0x1cc64b[_0x2bcca8(0x26b)][_0x2bcca8(0x224)](_0x2bcca8(0x6d0),'text-white',_0x2bcca8(0x400)):_0x1cc64b[_0x2bcca8(0x26b)][_0x2bcca8(0x224)](_0x2bcca8(0xaa1));}),_0xed4313[_0x2dc7a8(0x26b)][_0x2dc7a8(0x937)](_0x2dc7a8(0xaa1));let _0x33b267=![];if(_0x395f04===_0x2dc7a8(0xa08))_0x33b267=parseInt(_0xed4313[_0x2dc7a8(0x63c)][_0x2dc7a8(0x294)])===_0x4d47b2['correctAnswerIndex'];else{if(_0x395f04===_0x2dc7a8(0x80d))_0x33b267=_0xed4313[_0x2dc7a8(0x63c)][_0x2dc7a8(0xa5b)]===_0x2dc7a8(0xa82)===_0x4d47b2[_0x2dc7a8(0x1b0)];else _0x395f04===_0x2dc7a8(0x76e)&&(_0x33b267=_0xed4313[_0x2dc7a8(0x6ab)]['trim']()===_0x4d47b2[_0x2dc7a8(0x500)]);}!_0x33b267&&_0xed4313[_0x2dc7a8(0x26b)][_0x2dc7a8(0x224)]('bg-red-500',_0x2dc7a8(0xaa6),_0x2dc7a8(0x8e7)),document['getElementById'](_0x2dc7a8(0xafc))[_0x2dc7a8(0x26b)][_0x2dc7a8(0x937)](_0x2dc7a8(0x932));}function startWholeQuizTimer(_0xe5cff7){const _0x1180a3=_0x3d653b,_0x574459=document[_0x1180a3(0xb29)](_0x1180a3(0x9f9));if(!_0x574459)return;const _0x2a5221=Date[_0x1180a3(0xbd7)]()+_0xe5cff7*0x3c*0x3e8;_0x574459['innerHTML']=_0x1180a3(0x752);const _0xb77780=document[_0x1180a3(0xb29)](_0x1180a3(0xe8d));quizTimerInterval=setInterval(()=>{const _0x2a342b=_0x1180a3,_0x17a296=_0x2a5221-Date[_0x2a342b(0xbd7)]();if(_0x17a296<=0x0)clearInterval(quizTimerInterval),_0xb77780[_0x2a342b(0x6ab)]=_0x2a342b(0x4aa),showMessage(_0x2a342b(0x2d2)),handleSubmitQuiz(null);else{const _0x6814fb=Math[_0x2a342b(0x6ae)](_0x17a296/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x5277c0=Math[_0x2a342b(0x6ae)](_0x17a296/0x3e8%0x3c)[_0x2a342b(0xd43)]()[_0x2a342b(0x64c)](0x2,'0');_0xb77780[_0x2a342b(0x6ab)]=_0x6814fb+':'+_0x5277c0;}},0x3e8);}function renderPerQuestionView(){const _0xe94262=_0x3d653b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x12dd0f=currentDisplayedQuiz[_0xe94262(0xaff)][currentQuestionIndex],_0x30eec6=_0x12dd0f[_0xe94262(0xc4a)]||currentDisplayedQuiz['quizType'],_0x177052=currentDisplayedQuiz[_0xe94262(0x48b)]?.[_0xe94262(0x5f8)]===!![];let _0x5831ea=_0xe94262(0xa3b)+(currentQuestionIndex+0x1)+_0xe94262(0x8bc)+currentDisplayedQuiz[_0xe94262(0xaff)][_0xe94262(0xe84)]+_0xe94262(0xdd8)+(currentMode==='admin-testing'?_0xe94262(0x584):'')+_0xe94262(0xc05)+currentDisplayedQuiz[_0xe94262(0xf14)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0xe94262(0xd04)]=_0x5831ea;let _0x169a17=_0x12dd0f['stem']||_0x12dd0f[_0xe94262(0x4cd)];_0x12dd0f[_0xe94262(0x921)]&&(_0x169a17+=_0xe94262(0x52e)+_0x12dd0f[_0xe94262(0x921)]+_0xe94262(0xe78));let _0x36170d='';switch(_0x30eec6){case _0xe94262(0x9d6):case'fill_in_no_choices':_0x36170d=_0xe94262(0xd00);break;case _0xe94262(0x80d):_0x36170d=_0xe94262(0x6b9);break;case'matching_item':_0x36170d=_0xe94262(0x211)+(_0x12dd0f[_0xe94262(0x1e4)]||[])['map'](_0x41d2db=>_0xe94262(0x801)+_0x41d2db+'\x22>'+_0x41d2db+_0xe94262(0xdea))[_0xe94262(0x87d)]('')+_0xe94262(0xc9b);break;default:_0x12dd0f['options']&&(_0x36170d=_0x12dd0f[_0xe94262(0x802)]['map']((_0xc28413,_0x1f7210)=>_0xe94262(0x504)+_0x1f7210+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x1f7210+_0xe94262(0x57c)+_0x1f7210+'\x22>'+_0xc28413+'</label></div>')[_0xe94262(0x87d)](''));break;}document[_0xe94262(0xb29)](_0xe94262(0x186))[_0xe94262(0xd04)]=_0x169a17,document[_0xe94262(0xb29)](_0xe94262(0xd5c))[_0xe94262(0xd04)]=_0x36170d;const _0x1b6b6b=currentDisplayedQuiz[_0xe94262(0x48b)]?.[_0xe94262(0x5f8)]===!![],_0x16a9de=currentDisplayedQuiz[_0xe94262(0x48b)]?.[_0xe94262(0x369)]||'checkbox';if(_0x1b6b6b&&_0x16a9de===_0xe94262(0xd68)){const _0x24f876=_0xe94262(0x82e);studentQuizArea[_0xe94262(0x327)](_0xe94262(0xa61))[_0xe94262(0xc0d)](_0xe94262(0xbd5),_0x24f876);}studentQuizArea[_0xe94262(0xc0d)](_0xe94262(0xbd5),_0xe94262(0xbff)+(currentQuestionIndex===currentDisplayedQuiz[_0xe94262(0xaff)][_0xe94262(0xe84)]-0x1?_0xe94262(0xdf8):'คำถามถัดไป')+_0xe94262(0x797));currentMode===_0xe94262(0xcd8)&&document[_0xe94262(0xb29)](_0xe94262(0x2c8))?.['addEventListener'](_0xe94262(0xc7b),cancelAdminTest);document['getElementById']('next-question-timed-btn')[_0xe94262(0x652)](_0xe94262(0xc7b),()=>handleNextQuestionInTimedMode(![]));if(window[_0xe94262(0x348)])window[_0xe94262(0x348)][_0xe94262(0x7e6)]([studentQuizArea]);currentDisplayedQuiz[_0xe94262(0x48b)]?.[_0xe94262(0xc34)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x50a291=_0x3d653b,_0xca1f85=currentDisplayedQuiz[_0x50a291(0x48b)][_0x50a291(0xbc8)],_0x5e08ce=document['getElementById']('per-question-timer-container');if(!_0x5e08ce)return;let _0x7676f5=_0xca1f85;_0x5e08ce['innerHTML']=_0x50a291(0x85e)+_0x7676f5+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x72f36f=document[_0x50a291(0xb29)](_0x50a291(0x34d)),_0x2bc4b7=document[_0x50a291(0xb29)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x2f335d=_0x50a291;_0x7676f5--;const _0x35dcbf=_0x7676f5/_0xca1f85*0x64;_0x72f36f[_0x2f335d(0xa90)][_0x2f335d(0x9f6)]=_0x35dcbf+'%',_0x2bc4b7['textContent']=_0x7676f5,_0x7676f5<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x315383=![]){const _0x44943d=_0x3d653b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x54fd47=null,_0x689fdb=![];if(!_0x315383){const _0x1cb4a4=currentDisplayedQuiz[_0x44943d(0xaff)][currentQuestionIndex],_0x341934=_0x1cb4a4[_0x44943d(0xc4a)]||currentDisplayedQuiz[_0x44943d(0xca5)];if(_0x341934===_0x44943d(0x9d6)||_0x341934===_0x44943d(0x2fc))_0x54fd47=document[_0x44943d(0x327)](_0x44943d(0x266))?.[_0x44943d(0xc4b)][_0x44943d(0x46f)]()??'';else{if(_0x341934===_0x44943d(0x76e))_0x54fd47=document[_0x44943d(0x327)]('select[name=\x22question_single\x22]')?.[_0x44943d(0xc4b)]??'';else{const _0x53b998=document[_0x44943d(0x327)]('input[name=\x22question_single\x22]:checked');_0x53b998&&(_0x54fd47=_0x53b998[_0x44943d(0xc4b)]);}}if(_0x54fd47===null||_0x54fd47===''){showMessage(_0x44943d(0xecc)),startPerQuestionTimer();return;}const _0x45b63a=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x17bb72=currentDisplayedQuiz[_0x44943d(0x48b)]?.[_0x44943d(0x369)]||'checkbox';if(_0x45b63a&&_0x17bb72===_0x44943d(0x938)){document[_0x44943d(0xb29)]('confidence-modal')[_0x44943d(0x63c)]['currentMode']=_0x44943d(0xb4d),document['getElementById'](_0x44943d(0xbd0))['value']=_0x54fd47,document[_0x44943d(0xb29)](_0x44943d(0x361))['classList'][_0x44943d(0x937)](_0x44943d(0x932));return;}const _0x21d9ee=document[_0x44943d(0xb29)](_0x44943d(0x733));_0x21d9ee&&(_0x689fdb=_0x21d9ee[_0x44943d(0x21d)]);}const _0x9846f0={'answer':_0x54fd47,'wasConfident':_0x689fdb};proceedToNextQuestion(_0x9846f0);}async function finalizePerQuestionQuiz(){const _0x24965f=_0x3d653b,_0x131e50=currentDisplayedQuiz['questions'][_0x24965f(0x537)](_0x196a50=>_0x196a50[_0x24965f(0xc4a)]==='short_answer');_0x131e50?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x24965f(0xf13));const _0x12ae06=currentQuizData['id'],_0x227d68=doc(db,_0x24965f(0xc9f)+appId+_0x24965f(0xec2)+_0x12ae06+'/submissions',currentStudentName),_0x3c5e8f=await getDoc(_0x227d68),_0xf1de27=_0x3c5e8f[_0x24965f(0x267)]()?_0x3c5e8f[_0x24965f(0xcbd)]():{},_0x44e022=_0xf1de27[_0x24965f(0x84f)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x44e022);}function getResultsFilename(){const _0x58cd43=_0x3d653b,_0x41d48f=document[_0x58cd43(0xb29)](_0x58cd43(0xd25))[_0x58cd43(0x6ab)][_0x58cd43(0x502)](/[^a-z0-9]/gi,'_')[_0x58cd43(0xa99)]();return'results_'+(_0x41d48f||_0x58cd43(0x4c0));}function exportResultsAsImage(){const _0x32b9c3=_0x3d653b,_0x2ec23a=document[_0x32b9c3(0xb29)](_0x32b9c3(0x43a));showMessage(_0x32b9c3(0xbb1)),html2canvas(_0x2ec23a)['then'](_0x3dd71d=>{const _0xc7e988=_0x32b9c3,_0x107e51=document[_0xc7e988(0x712)]('a');_0x107e51['download']=getResultsFilename()+'.png',_0x107e51[_0xc7e988(0xdc0)]=_0x3dd71d['toDataURL'](_0xc7e988(0xeff)),_0x107e51['click'](),messageModal[_0xc7e988(0x26b)][_0xc7e988(0x224)](_0xc7e988(0x932));});}function exportResultsAsPDF(){const _0x3e6c3f=_0x3d653b,{jsPDF:_0x2848d0}=window[_0x3e6c3f(0x5de)],_0x146749=new _0x2848d0();_0x146749[_0x3e6c3f(0x1fd)](_0x3e6c3f(0x89a),_0x3e6c3f(0xab5)),_0x146749[_0x3e6c3f(0x69c)]({'html':_0x3e6c3f(0xb77)}),_0x146749[_0x3e6c3f(0x32b)](getResultsFilename()+_0x3e6c3f(0xb8d));}function exportResultsAsWord(){const _0x4b5290=_0x3d653b,_0x30979a='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4b5290(0x54e)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x4b5290(0x5c6),_0x2a39b9=_0x4b5290(0x696),_0xceea9a=_0x30979a+document[_0x4b5290(0xb29)](_0x4b5290(0x43a))[_0x4b5290(0xd04)]+_0x2a39b9,_0x2e99ef='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0xceea9a),_0x2d4a1a=document[_0x4b5290(0x712)]('a');document[_0x4b5290(0xbfe)][_0x4b5290(0xd62)](_0x2d4a1a),_0x2d4a1a['href']=_0x2e99ef,_0x2d4a1a[_0x4b5290(0xe20)]=getResultsFilename()+_0x4b5290(0x9e4),_0x2d4a1a[_0x4b5290(0xc7b)](),document[_0x4b5290(0xbfe)]['removeChild'](_0x2d4a1a);}function exportResultsAsExcel(){const _0x385e5c=_0x3d653b,_0x1290ea=document[_0x385e5c(0xb29)]('results-table');let _0x54d19f=[];for(let _0x12318c=0x0;_0x12318c<_0x1290ea['rows'][_0x385e5c(0xe84)];_0x12318c++){let _0x1292da=[],_0x2d3c42=_0x1290ea['rows'][_0x12318c][_0x385e5c(0x948)](_0x385e5c(0x66a));for(let _0x4ab9e5=0x0;_0x4ab9e5<_0x2d3c42[_0x385e5c(0xe84)];_0x4ab9e5++){_0x1292da[_0x385e5c(0xf06)]('\x22'+_0x2d3c42[_0x4ab9e5][_0x385e5c(0x1a0)][_0x385e5c(0x502)](/"/g,'\x22\x22')+'\x22');}_0x54d19f['push'](_0x1292da[_0x385e5c(0x87d)](','));}const _0x4744f5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x54d19f[_0x385e5c(0x87d)]('\x0a')],{'type':_0x385e5c(0x387)}),_0x264458=document[_0x385e5c(0x712)]('a');_0x264458[_0x385e5c(0xdc0)]=URL[_0x385e5c(0xeae)](_0x4744f5),_0x264458[_0x385e5c(0xe20)]=getResultsFilename()+'.csv',_0x264458[_0x385e5c(0xc7b)]();}function exportTableAsImage(_0x311c4a,_0x506816){const _0x355640=_0x3d653b,_0x2bbe3d=document[_0x355640(0xb29)](_0x311c4a),_0x411ea9=document['getElementById'](_0x355640(0xd25));if(!_0x2bbe3d){showMessage(_0x355640(0xb07));return;}showMessage(_0x355640(0x4b0));const _0x52a5de=document[_0x355640(0x712)](_0x355640(0xe00));_0x52a5de[_0x355640(0xa90)][_0x355640(0x5ce)]=_0x355640(0x252),_0x52a5de[_0x355640(0xa90)][_0x355640(0xce0)]=_0x355640(0x9c2),_0x52a5de['style'][_0x355640(0x9f6)]=_0x355640(0xb45),_0x52a5de[_0x355640(0xa90)][_0x355640(0xc0b)]='fixed',_0x52a5de['style'][_0x355640(0x43e)]='-9999px',_0x52a5de['style'][_0x355640(0x290)]='0',_0x52a5de[_0x355640(0xa90)][_0x355640(0xcd3)]='-1';const _0x3a80d2=document['createElement']('h1');_0x3a80d2[_0x355640(0x1a0)]=_0x411ea9?_0x411ea9[_0x355640(0x1a0)]:_0x355640(0x9aa),_0x3a80d2[_0x355640(0xa90)][_0x355640(0x6a2)]=_0x355640(0x351),_0x3a80d2[_0x355640(0xa90)]['fontFamily']='\x27Sarabun\x27,\x20sans-serif',_0x3a80d2[_0x355640(0xa90)][_0x355640(0x650)]=_0x355640(0x1f9),_0x3a80d2[_0x355640(0xa90)][_0x355640(0xd4b)]=_0x355640(0x7f5),_0x3a80d2[_0x355640(0xa90)][_0x355640(0x4ef)]=_0x355640(0xd22),_0x3a80d2[_0x355640(0xa90)][_0x355640(0x4d2)]=_0x355640(0x564);const _0x5a99ae=_0x2bbe3d[_0x355640(0x2e8)](!![]);_0x5a99ae['style'][_0x355640(0x548)]='none',_0x5a99ae[_0x355640(0xa90)][_0x355640(0xde7)]='visible';const _0x143756=_0x5a99ae[_0x355640(0x948)]('th');let _0x1942f5=-0x1;_0x143756[_0x355640(0x57b)]((_0x21f461,_0x1a4513)=>{const _0x354c41=_0x355640;_0x21f461[_0x354c41(0x6ab)][_0x354c41(0x46f)]()==='ผล'&&(_0x21f461[_0x354c41(0xa90)]['display']='none',_0x1942f5=_0x1a4513);});if(_0x1942f5!==-0x1){const _0x2126fa=_0x5a99ae[_0x355640(0x948)]('tr');_0x2126fa[_0x355640(0x57b)](_0x49a1ce=>{const _0xbb1608=_0x355640,_0x1c49e7=_0x49a1ce[_0xbb1608(0x948)]('td');_0x1c49e7['length']>_0x1942f5&&(_0x1c49e7[_0x1942f5][_0xbb1608(0xa90)][_0xbb1608(0xd27)]=_0xbb1608(0x1a6));});}_0x52a5de[_0x355640(0xd62)](_0x3a80d2),_0x52a5de[_0x355640(0xd62)](_0x5a99ae),document[_0x355640(0xbfe)][_0x355640(0xd62)](_0x52a5de),html2canvas(_0x52a5de,{'scale':0x2,'useCORS':!![],'backgroundColor':'#ffffff'})[_0x355640(0x5b6)](_0xbb3486=>{const _0x59b0eb=_0x355640,_0x46a585=document[_0x59b0eb(0x712)]('a');_0x46a585[_0x59b0eb(0xe20)]=_0x506816+_0x59b0eb(0x416),_0x46a585[_0x59b0eb(0xdc0)]=_0xbb3486[_0x59b0eb(0xefc)](_0x59b0eb(0xeff)),_0x46a585[_0x59b0eb(0xc7b)](),document[_0x59b0eb(0xbfe)]['removeChild'](_0x52a5de),messageModal[_0x59b0eb(0x26b)][_0x59b0eb(0x224)](_0x59b0eb(0x932));})[_0x355640(0xdcf)](_0x4eb8b0=>{const _0x5dcc9e=_0x355640;console[_0x5dcc9e(0x3b5)](_0x5dcc9e(0xe2a),_0x4eb8b0),document[_0x5dcc9e(0xbfe)][_0x5dcc9e(0xb74)](_0x52a5de),showMessage(_0x5dcc9e(0xe99));});}function exportTableAsPDF(_0x27d440,_0xb24cf5){const _0xe6edb1=_0x3d653b,{jsPDF:_0x5398ee}=window[_0xe6edb1(0x5de)],_0x19f94f=new _0x5398ee();_0x19f94f[_0xe6edb1(0x1fd)]('helvetica',_0xe6edb1(0xab5)),_0x19f94f[_0xe6edb1(0x69c)]({'html':'#'+_0x27d440}),_0x19f94f['save'](_0xb24cf5+_0xe6edb1(0xb8d));}function exportTableAsWord(_0x129fe4,_0x4b927f){const _0x3ba24b=_0x3d653b,_0x2b5c37=document[_0x3ba24b(0xb29)](_0x129fe4);if(!_0x2b5c37){showMessage(_0x3ba24b(0xb07));return;}const _0x36aa02=_0x3ba24b(0xe39)+_0x3ba24b(0x54e)+_0x3ba24b(0x603)+_0x3ba24b(0x5c6),_0x1cac5d='</body></html>',_0x2cc3fb=_0x36aa02+_0x2b5c37[_0x3ba24b(0xd04)]+_0x1cac5d,_0x485542=_0x3ba24b(0x296)+encodeURIComponent(_0x2cc3fb),_0x539dc3=document['createElement']('a');document['body'][_0x3ba24b(0xd62)](_0x539dc3),_0x539dc3[_0x3ba24b(0xdc0)]=_0x485542,_0x539dc3[_0x3ba24b(0xe20)]=_0x4b927f+_0x3ba24b(0x9e4),_0x539dc3[_0x3ba24b(0xc7b)](),document[_0x3ba24b(0xbfe)][_0x3ba24b(0xb74)](_0x539dc3);}function exportTableAsExcel(_0x1de948,_0x58cd41){const _0x3ca7c2=_0x3d653b,_0xd55598=document[_0x3ca7c2(0xb29)](_0x1de948);if(!_0xd55598){showMessage(_0x3ca7c2(0xb07));return;}let _0xb240a9=[];for(let _0xc1d1cd=0x0;_0xc1d1cd<_0xd55598[_0x3ca7c2(0x9f2)][_0x3ca7c2(0xe84)];_0xc1d1cd++){let _0x1339cf=[],_0x296a11=_0xd55598['rows'][_0xc1d1cd][_0x3ca7c2(0x948)]('td,\x20th');for(let _0x3dd9dc=0x0;_0x3dd9dc<_0x296a11[_0x3ca7c2(0xe84)];_0x3dd9dc++){_0x1339cf[_0x3ca7c2(0xf06)]('\x22'+_0x296a11[_0x3dd9dc][_0x3ca7c2(0x1a0)][_0x3ca7c2(0x502)](/"/g,'\x22\x22')+'\x22');}_0xb240a9[_0x3ca7c2(0xf06)](_0x1339cf[_0x3ca7c2(0x87d)](','));}const _0x535fbe=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xb240a9[_0x3ca7c2(0x87d)]('\x0a')],{'type':_0x3ca7c2(0x387)}),_0x131ae1=document[_0x3ca7c2(0x712)]('a');_0x131ae1[_0x3ca7c2(0xdc0)]=URL[_0x3ca7c2(0xeae)](_0x535fbe),_0x131ae1['download']=_0x58cd41+'.csv',_0x131ae1[_0x3ca7c2(0xc7b)]();}function renderAnalytics(_0x356bbe,_0x4652d3){const _0x106005=_0x3d653b,_0x3e897d=_0x4652d3[_0x106005(0x5f5)](_0x5d332b=>_0x5d332b['latestScore']!==undefined),_0x2486d5=currentProjectData[_0x106005(0x828)][_0x106005(0xe84)],_0x4c5734=_0x3e897d[_0x106005(0xe84)],_0x3f5e3b=_0x2486d5-_0x4c5734,_0x2650ba=_0x2486d5>0x0?_0x4c5734/_0x2486d5*0x64:0x0,_0x450c33=_0x3e897d[_0x106005(0x643)](_0xb1422c=>_0xb1422c['latestScore']),_0x256b49=_0x450c33[_0x106005(0xe84)]>0x0?_0x450c33[_0x106005(0x1eb)]((_0x271375,_0x2e92bc)=>_0x271375+_0x2e92bc,0x0)/_0x450c33[_0x106005(0xe84)]:0x0,_0xd33c7a=_0x356bbe[_0x106005(0xaff)][_0x106005(0xe84)],_0x1b1d76=_0xd33c7a>0x0?_0x256b49/_0xd33c7a*0x64:0x0,_0x3c51cf=calculateItemAnalysis(_0x356bbe,_0x3e897d),_0x849f7f=calculateReliabilityKR20(_0x356bbe,_0x3e897d,_0x3c51cf[_0x106005(0xde6)]);let _0x450cea='';if(_0x849f7f!==null){let _0x353dc0='';if(_0x849f7f>=0.9)_0x353dc0=_0x106005(0x263);else{if(_0x849f7f>=0.8)_0x353dc0=_0x106005(0xc54);else{if(_0x849f7f>=0.7)_0x353dc0='ดี';else{if(_0x849f7f>=0.6)_0x353dc0=_0x106005(0xe72);else _0x353dc0=_0x106005(0x4cc);}}}_0x450cea=_0x106005(0x6b5)+_0x849f7f['toFixed'](0x2)+_0x106005(0xb2f)+_0x353dc0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x28c4ec=document[_0x106005(0xb29)](_0x106005(0x2fd));_0x28c4ec[_0x106005(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x2650ba[_0x106005(0x924)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x4c5734+'/'+_0x2486d5+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x256b49[_0x106005(0x924)](0x2)+_0x106005(0x446)+_0x1b1d76[_0x106005(0x924)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x450c33[_0x106005(0xe84)]>0x0?Math['max'](..._0x450c33):_0x106005(0x8c3))+_0x106005(0x1f0)+(_0x450c33['length']>0x0?Math['min'](..._0x450c33):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x450cea+_0x106005(0xac9);const _0x459e98=document[_0x106005(0xb29)](_0x106005(0x758));_0x459e98&&_0x459e98['remove']();const _0x6cf8a=_0x106005(0xa49);_0x28c4ec[_0x106005(0xc0d)](_0x106005(0x722),_0x6cf8a);const _0x26a44e=currentProjectData[_0x106005(0x828)]||[];renderSubmissionChart(_0x4c5734,_0x3f5e3b,_0x3e897d,_0x26a44e),renderScoreDistributionChart(_0x3e897d,_0xd33c7a),renderQuestionAnalytics(_0x356bbe,_0x3e897d,_0x26a44e),renderInterestingStats(_0x356bbe,_0x3e897d);}async function handleExportLessonPDF(){const _0x10a0a5=_0x3d653b,_0x4f6699=document[_0x10a0a5(0xb29)](_0x10a0a5(0x3a3)),_0x36fedf=document[_0x10a0a5(0xb29)](_0x10a0a5(0x6e5))['textContent'],_0x376ceb=window['open']('','_blank'),_0x4c16ad=_0x10a0a5(0xcd4)+_0x36fedf+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f6699[_0x10a0a5(0xd04)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x376ceb['document']['write'](_0x4c16ad),_0x376ceb[_0x10a0a5(0x77a)][_0x10a0a5(0x21f)](),_0x376ceb[_0x10a0a5(0x29f)]=function(){setTimeout(()=>{const _0x5bf83d=_0x1c86;_0x376ceb[_0x5bf83d(0x6fc)]();},0x5dc);};}function renderInterestingStats(_0x23626a,_0x290f68){const _0x2705a9=_0x3d653b,_0x1bad08=document['getElementById']('interesting-stats-container');if(!_0x1bad08)return;if(_0x290f68[_0x2705a9(0xe84)]===0x0){_0x1bad08[_0x2705a9(0xd04)]=_0x2705a9(0x55f);return;}const _0x230fa2=_0x23626a[_0x2705a9(0xaff)][_0x2705a9(0x643)]((_0x1d9515,_0xd66d1)=>({'index':_0xd66d1+0x1,'text':_0x1d9515['questionText']||_0x1d9515[_0x2705a9(0x3bf)],'correct':0x0}));_0x290f68[_0x2705a9(0x57b)](_0x28fc34=>{const _0x5edc7f=_0x2705a9,_0x3ae470=_0x28fc34[_0x5edc7f(0x84f)][_0x28fc34[_0x5edc7f(0x84f)][_0x5edc7f(0xe84)]-0x1];_0x3ae470&&_0x3ae470[_0x5edc7f(0x91f)]&&_0x3ae470[_0x5edc7f(0x91f)][_0x5edc7f(0x57b)](_0x39ee9b=>{const _0x136be6=_0x5edc7f,_0x1e9b87=_0x230fa2[_0x136be6(0xb46)](_0xcf7bfc=>_0xcf7bfc['text']===_0x39ee9b[_0x136be6(0xaf3)]);_0x39ee9b[_0x136be6(0x1ce)]&&_0x1e9b87&&_0x1e9b87['correct']++;});});const _0x24492d=_0x290f68[_0x2705a9(0xe84)],_0x226297=Math['max'](..._0x230fa2[_0x2705a9(0x643)](_0x5a1e47=>_0x5a1e47[_0x2705a9(0x276)])),_0x32f53e=Math[_0x2705a9(0x748)](..._0x230fa2[_0x2705a9(0x643)](_0x10d9ad=>_0x10d9ad[_0x2705a9(0x276)])),_0x824f3c=_0x230fa2[_0x2705a9(0x5f5)](_0x7b0717=>_0x7b0717[_0x2705a9(0x276)]===_0x226297)['map'](_0x68485e=>_0x2705a9(0xd57)+_0x68485e[_0x2705a9(0x294)]),_0x2afde8=_0x230fa2[_0x2705a9(0x5f5)](_0x5b1963=>_0x5b1963['correct']===_0x32f53e)[_0x2705a9(0x643)](_0x403be5=>_0x2705a9(0xd57)+_0x403be5[_0x2705a9(0x294)]),_0x22c17e=_0x290f68['sort']((_0x5810c2,_0x3a1421)=>_0x3a1421[_0x2705a9(0xc3e)]-_0x5810c2[_0x2705a9(0xc3e)])[_0x2705a9(0x5f5)]((_0x2d044e,_0x331a47,_0x31420f)=>_0x2d044e['latestScore']===_0x31420f[0x0][_0x2705a9(0xc3e)]),_0x229da0=_0x290f68['sort']((_0x50b917,_0x49e9ec)=>_0x50b917[_0x2705a9(0xc3e)]-_0x49e9ec['latestScore'])[_0x2705a9(0x5f5)]((_0x57dffb,_0x28bfbb,_0x2fa0fe)=>_0x57dffb[_0x2705a9(0xc3e)]===_0x2fa0fe[0x0][_0x2705a9(0xc3e)]),_0x4e4d0e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x824f3c[_0x2705a9(0x87d)](',\x20')+_0x2705a9(0x6bd)+_0x226297+'\x20/\x20'+_0x24492d+_0x2705a9(0x5b4)+_0x2afde8[_0x2705a9(0x87d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x24492d-_0x32f53e)+_0x2705a9(0x490)+_0x24492d+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x22c17e[_0x2705a9(0x643)](_0x593535=>_0x593535[_0x2705a9(0xb34)])[_0x2705a9(0x87d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x22c17e[0x0][_0x2705a9(0xc3e)]+_0x2705a9(0xc6f)+_0x229da0['map'](_0x1f7c2a=>_0x1f7c2a[_0x2705a9(0xb34)])['join'](',\x20')+_0x2705a9(0x3bb)+_0x229da0[0x0][_0x2705a9(0xc3e)]+_0x2705a9(0x3af);_0x1bad08[_0x2705a9(0xd04)]=_0x4e4d0e;}function renderSubmissionChart(_0x57a7b6,_0x4b3e50,_0xa9f8bc,_0x380a63){const _0x38e928=_0x3d653b,_0x54eeca=document[_0x38e928(0xb29)]('submission-status-chart')['getContext']('2d'),_0x350f55=_0xa9f8bc[_0x38e928(0x643)](_0x3ee1f6=>_0x3ee1f6['studentName']),_0xb052c8=_0x380a63[_0x38e928(0x5f5)](_0x58d990=>!_0x350f55[_0x38e928(0xecb)](_0x58d990));chartInstances[_0x38e928(0xb08)]&&chartInstances['submission']['destroy'](),chartInstances[_0x38e928(0xb08)]=new Chart(_0x54eeca,{'type':_0x38e928(0x5a9),'data':{'labels':[_0x38e928(0x463),'ยังไม่ส่ง'],'datasets':[{'data':[_0x57a7b6,_0x4b3e50],'backgroundColor':[_0x38e928(0xd96),_0x38e928(0xf19)],'borderColor':[_0x38e928(0x252),_0x38e928(0x252)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x571875){const _0x55e3a1=_0x38e928;let _0x229332=_0x571875['label']||'';return _0x229332&&(_0x229332+=':\x20'),_0x229332+=_0x571875[_0x55e3a1(0x392)],_0x229332;},'afterLabel':function(_0x4655aa){const _0x30b5d5=_0x38e928;let _0xa64d36;return _0x4655aa[_0x30b5d5(0xb3f)]===0x0?_0xa64d36=_0x350f55:_0xa64d36=_0xb052c8,_0xa64d36[_0x30b5d5(0xe84)]>0x0?_0xa64d36[_0x30b5d5(0x87d)]('\x0a'):_0x30b5d5(0xe45);}}}}}});}function renderScoreDistributionChart(_0x516b6c,_0x3ff057){const _0x55cdbc=_0x3d653b,_0x45be80=document[_0x55cdbc(0xb29)](_0x55cdbc(0xb2e))[_0x55cdbc(0xab3)]('2d'),_0x47928d={};for(let _0x37512e=0x0;_0x37512e<=_0x3ff057;_0x37512e++){_0x47928d[_0x37512e]=0x0;}_0x516b6c['forEach'](_0x576af4=>{const _0xf32f2b=_0x55cdbc;_0x47928d[_0x576af4[_0xf32f2b(0xc3e)]]!==undefined&&_0x47928d[_0x576af4[_0xf32f2b(0xc3e)]]++;}),chartInstances[_0x55cdbc(0x5e3)]&&chartInstances['score']['destroy'](),chartInstances['score']=new Chart(_0x45be80,{'type':_0x55cdbc(0xea3),'data':{'labels':Object['keys'](_0x47928d),'datasets':[{'label':_0x55cdbc(0x545),'data':Object[_0x55cdbc(0xf02)](_0x47928d),'backgroundColor':_0x55cdbc(0x2b2),'borderColor':_0x55cdbc(0xa6e),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x55cdbc(0xe3c)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4e208b){const _0x27efec=_0x55cdbc,_0x52037d=_0x4e208b[_0x27efec(0x1e2)],_0x458a18=_0x516b6c['filter'](_0x5f2f8f=>_0x5f2f8f['latestScore']==_0x52037d)['map'](_0x498dcc=>_0x498dcc[_0x27efec(0xb34)]);return _0x458a18[_0x27efec(0xe84)]>0x0?_0x458a18[_0x27efec(0x87d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x19fec5,_0x303a5f,_0x2ae1da){const _0x102703=_0x3d653b,_0x11db31=document[_0x102703(0xb29)](_0x102703(0x2e4));if(_0x2ae1da[_0x102703(0xe84)]===0x0){_0x11db31['innerHTML']=_0x102703(0x8a2);return;}const _0x461bd9=calculateItemAnalysis(_0x19fec5,_0x303a5f),_0x3cd38d=calculateDistractorAnalysis(_0x19fec5,_0x303a5f);let _0x1a781e='';_0x461bd9[_0x102703(0x597)]&&(_0x1a781e=_0x102703(0x56f)+_0x461bd9['overallGroups'][_0x102703(0xc48)][_0x102703(0xe84)]+_0x102703(0x964)+_0x461bd9[_0x102703(0x597)]['upperGroupNames'][_0x102703(0x643)](_0x2e87b1=>_0x102703(0xb06)+_0x2e87b1+'</li>')[_0x102703(0x87d)]('')+_0x102703(0x953)+_0x461bd9[_0x102703(0x597)][_0x102703(0xd5e)][_0x102703(0xe84)]+_0x102703(0x964)+_0x461bd9[_0x102703(0x597)][_0x102703(0xd5e)][_0x102703(0x643)](_0x561382=>_0x102703(0xb06)+_0x561382+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x4afb31='';const _0x12397d=_0x303a5f['map'](_0x255f42=>_0x255f42[_0x102703(0xb34)]),_0x1cdd4c=_0xd6bc67=>{const _0x1d8327=_0x102703;if(_0xd6bc67>=0.8)return _0x1d8327(0xe18);if(_0xd6bc67>=0.6)return _0x1d8327(0x65c);if(_0xd6bc67>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0xd6bc67>=0.2)return _0x1d8327(0x770);return _0x1d8327(0x1f4);},_0x4a2bd2=_0x1a7d0b=>{const _0x5ef4b0=_0x102703;if(_0x1a7d0b<0x0)return _0x5ef4b0(0x854);if(_0x1a7d0b>=0.4)return _0x5ef4b0(0x7a6);if(_0x1a7d0b>=0.3)return _0x5ef4b0(0xa35);if(_0x1a7d0b>=0.2)return _0x5ef4b0(0xcb7);return _0x5ef4b0(0x4cb);},_0x44c120=_0x261948=>{const _0x232538=_0x102703,_0x11f4a3=_0x261948[_0x232538(0x924)](0x0);if(parseFloat(_0x11f4a3)===0x64)return _0x232538(0x215)+_0x11f4a3+_0x232538(0x9bb);if(_0x261948>=0x32)return _0x232538(0x934)+_0x11f4a3+_0x232538(0x9bb);return _0x232538(0xe0e)+_0x11f4a3+_0x232538(0x9bb);};_0x19fec5[_0x102703(0xaff)][_0x102703(0x57b)]((_0x4145e6,_0x2dc828)=>{const _0x588862=_0x102703,_0x54f3ef=_0x461bd9[_0x588862(0xde6)][_0x2dc828],_0x5636d0=_0x3cd38d[_0x2dc828],_0x37a325=_0x4145e6[_0x588862(0x3bf)]||_0x4145e6[_0x588862(0x4cd)]||_0x4145e6[_0x588862(0xf0d)];let _0x5d5409=0x0;const _0x2a90a6=[],_0x22a7dc=[];_0x303a5f[_0x588862(0x57b)](_0x457540=>{const _0x471dfd=_0x588862,_0xb1253=_0x457540[_0x471dfd(0x84f)][_0x457540[_0x471dfd(0x84f)][_0x471dfd(0xe84)]-0x1];if(_0xb1253&&_0xb1253[_0x471dfd(0x91f)]){const _0xdd479d=_0xb1253['answers'][_0x471dfd(0xb46)](_0x22a0d0=>_0x22a0d0[_0x471dfd(0xaf3)]===_0x37a325)??_0xb1253[_0x471dfd(0x91f)][_0x2dc828]??null;_0xdd479d&&(_0xdd479d[_0x471dfd(0x1ce)]?(_0x5d5409++,_0x2a90a6['push'](_0x457540[_0x471dfd(0xb34)])):_0x22a7dc[_0x471dfd(0xf06)](_0x457540['studentName']));}});const _0x2d9340=_0x303a5f[_0x588862(0xe84)]>0x0?_0x5d5409/_0x303a5f[_0x588862(0xe84)]*0x64:0x0,_0x1b72c9=_0x2ae1da[_0x588862(0x5f5)](_0x1661ae=>!_0x12397d[_0x588862(0xecb)](_0x1661ae)),_0x2b76c4=_0x54f3ef?_0x588862(0x7b3)+_0x54f3ef['p'][_0x588862(0x924)](0x2)+'</p><div>'+_0x1cdd4c(_0x54f3ef['p'])+_0x588862(0x6d9)+_0x54f3ef['r'][_0x588862(0x924)](0x2)+_0x588862(0x67a)+_0x4a2bd2(_0x54f3ef['r'])+_0x588862(0x75d)+_0x44c120(_0x2d9340)+_0x588862(0x4fb):'';let _0x4b64e4='';_0x5636d0&&(_0x4b64e4=_0x588862(0xbc5)+Object[_0x588862(0x754)](_0x5636d0)[_0x588862(0x643)](_0x54729e=>{const _0x5cbd74=_0x588862,_0xaa6c1d=_0x5636d0[_0x54729e],_0x1b967b=parseInt(_0x54729e)===_0x4145e6[_0x5cbd74(0x857)],_0x53f2fd=!_0x1b967b&&_0xaa6c1d['lower_group_count']>_0xaa6c1d[_0x5cbd74(0xafd)];return _0x5cbd74(0x94a)+(_0x1b967b?_0x5cbd74(0x78f):'')+_0x5cbd74(0xe50)+(_0x1b967b?'✔\x20':'')+_0xaa6c1d['text']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xaa6c1d[_0x5cbd74(0xafd)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xaa6c1d[_0x5cbd74(0xca8)]+'\x20'+(_0x53f2fd?'👍':'')+_0x5cbd74(0xa72)+_0xaa6c1d[_0x5cbd74(0x2e2)]+_0x5cbd74(0x473);})[_0x588862(0x87d)]('')+_0x588862(0x7ea));let _0x1c315f='';_0x54f3ef&&_0x54f3ef['upperGroupResponders']&&(_0x1c315f=_0x588862(0x7d9)+_0x54f3ef['upperGroupResponders'][_0x588862(0xe84)]+_0x588862(0x8b0)+_0x54f3ef[_0x588862(0xa3d)][_0x588862(0x643)](_0x161495=>_0x588862(0xb06)+(_0x161495[_0x588862(0x1ce)]?_0x588862(0x228):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x161495['name']+_0x588862(0x230))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x54f3ef[_0x588862(0x2b4)]['length']+_0x588862(0x8b0)+_0x54f3ef[_0x588862(0x2b4)]['map'](_0x4811c8=>_0x588862(0xb06)+(_0x4811c8['isCorrect']?_0x588862(0x228):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4811c8[_0x588862(0x77f)]+'</li>')['join']('')+_0x588862(0xca0)),_0x4afb31+=_0x588862(0x817)+(_0x2dc828+0x1)+':\x20'+_0x37a325+_0x588862(0x641)+_0x2b76c4+_0x588862(0x3ff)+_0x37a325+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x5d5409+'\x20จาก\x20'+_0x303a5f['length']+_0x588862(0xdf2)+_0x2d9340[_0x588862(0x924)](0x0)+_0x588862(0x178)+_0x2a90a6[_0x588862(0xe84)]+_0x588862(0xebb)+(_0x2a90a6[_0x588862(0xe84)]>0x0?_0x2a90a6[_0x588862(0x87d)](',\x20'):'ไม่มี')+_0x588862(0x17a)+_0x22a7dc[_0x588862(0xe84)]+_0x588862(0xebb)+(_0x22a7dc[_0x588862(0xe84)]>0x0?_0x22a7dc[_0x588862(0x87d)](',\x20'):_0x588862(0xe45))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x1b72c9[_0x588862(0xe84)]+_0x588862(0xebb)+(_0x1b72c9['length']>0x0?_0x1b72c9[_0x588862(0x87d)](',\x20'):'ไม่มี')+_0x588862(0xeef)+_0x4b64e4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c315f+_0x588862(0x994);}),_0x11db31[_0x102703(0xd04)]=_0x1a781e+_0x4afb31;try{window[_0x102703(0x348)]&&MathJax[_0x102703(0x7e6)]&&MathJax[_0x102703(0x7e6)]([_0x11db31]);}catch(_0x325803){console[_0x102703(0x3b5)](_0x102703(0xeb3),_0x325803);}}function calculateDistractorAnalysis(_0xa2a607,_0x435c7e){const _0x3d2bdc=_0x3d653b,_0x3aee15={};if(_0x435c7e[_0x3d2bdc(0xe84)]<0x2)return _0x3aee15;const _0xfd6a25=[..._0x435c7e][_0x3d2bdc(0xb9f)]((_0x3dbcef,_0x24480a)=>{const _0x1c7e09=_0x3d2bdc,_0x2d76d5=_0x24480a[_0x1c7e09(0xc3e)]-_0x3dbcef[_0x1c7e09(0xc3e)];if(_0x2d76d5!==0x0)return _0x2d76d5;const _0x1ef386=_0x3dbcef[_0x1c7e09(0x84f)]?.[_0x1c7e09(0xe84)]||0x1,_0xe36cab=_0x24480a[_0x1c7e09(0x84f)]?.[_0x1c7e09(0xe84)]||0x1,_0x1bd0df=_0x1ef386-_0xe36cab;if(_0x1bd0df!==0x0)return _0x1bd0df;const _0x2aba28=new Date(_0x3dbcef[_0x1c7e09(0x368)]),_0x268387=new Date(_0x24480a['latestSubmittedAt']),_0x7a90a5=_0x2aba28-_0x268387;if(_0x7a90a5!==0x0)return _0x7a90a5;return _0x3dbcef[_0x1c7e09(0xb34)]['localeCompare'](_0x24480a['studentName'],'th');}),_0x1f260c=_0xfd6a25[_0x3d2bdc(0xe84)],_0x40fa19=Math[_0x3d2bdc(0xd18)](0x1,Math[_0x3d2bdc(0x6ae)](_0x1f260c*0.33)),_0x5cb3bc=_0xfd6a25[_0x3d2bdc(0x7e8)](0x0,_0x40fa19),_0x14d9b9=_0xfd6a25['slice'](-_0x40fa19);return _0xa2a607[_0x3d2bdc(0xaff)][_0x3d2bdc(0x57b)]((_0x2d3ec6,_0x4a5e62)=>{const _0xe2ea03=_0x3d2bdc;if(_0x2d3ec6[_0xe2ea03(0xc4a)]!=='multiple_choice'||!_0x2d3ec6[_0xe2ea03(0x802)])return;const _0x56eaec=_0x2d3ec6['questionText'],_0x113d65={};_0x2d3ec6[_0xe2ea03(0x802)]['forEach']((_0xc27e8c,_0x3d97bb)=>{_0x113d65[_0x3d97bb]={'text':_0xc27e8c,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0xfd6a25[_0xe2ea03(0x57b)](_0x447764=>{const _0x4ffc5e=_0xe2ea03,_0x55c909=_0x447764[_0x4ffc5e(0x84f)][_0x447764[_0x4ffc5e(0x84f)][_0x4ffc5e(0xe84)]-0x1],_0x461d0a=_0x55c909[_0x4ffc5e(0x91f)][_0x4ffc5e(0xb46)](_0x16d3b9=>_0x16d3b9['originalQuestionText']===_0x56eaec);if(_0x461d0a&&_0x461d0a[_0x4ffc5e(0xa5b)]!==null){const _0x4d3ac4=_0x2d3ec6['options']['findIndex'](_0x2b5594=>_0x2b5594===_0x461d0a[_0x4ffc5e(0x235)]);_0x4d3ac4!==-0x1&&_0x113d65[_0x4d3ac4]&&(_0x113d65[_0x4d3ac4][_0x4ffc5e(0x2e2)]++,_0x5cb3bc[_0x4ffc5e(0xecb)](_0x447764)&&_0x113d65[_0x4d3ac4][_0x4ffc5e(0xafd)]++,_0x14d9b9[_0x4ffc5e(0xecb)](_0x447764)&&_0x113d65[_0x4d3ac4]['lower_group_count']++);}}),_0x3aee15[_0x4a5e62]=_0x113d65;}),_0x3aee15;}function calculateReliabilityKR20(_0x43129d,_0x3cd311,_0x16cd81){const _0x498485=_0x3d653b,_0x3f3d8a=_0x43129d[_0x498485(0xaff)]['length'];if(_0x3f3d8a<0x2||_0x3cd311[_0x498485(0xe84)]<0x2)return null;const _0x457308=_0x3cd311[_0x498485(0x643)](_0x380ec7=>_0x380ec7[_0x498485(0xc3e)]),_0x379300=_0x457308['reduce']((_0x35ac41,_0x4b42c4)=>_0x35ac41+_0x4b42c4,0x0)/_0x457308[_0x498485(0xe84)],_0x347226=_0x457308['map'](_0x329c90=>Math[_0x498485(0x663)](_0x329c90-_0x379300,0x2))[_0x498485(0x1eb)]((_0x450c9d,_0x39928f)=>_0x450c9d+_0x39928f,0x0)/_0x457308[_0x498485(0xe84)];if(_0x347226===0x0)return null;let _0x3f4576=0x0;for(let _0x15d23a=0x0;_0x15d23a<_0x3f3d8a;_0x15d23a++){const _0x4fc2df=_0x16cd81[_0x15d23a]?.['p'];if(_0x4fc2df===undefined)continue;const _0x3ff058=0x1-_0x4fc2df;_0x3f4576+=_0x4fc2df*_0x3ff058;}if(_0x3f4576===0x0)return null;const _0x1f2c21=_0x3f3d8a/(_0x3f3d8a-0x1)*(0x1-_0x3f4576/_0x347226);if(_0x1f2c21>0x1)return null;return _0x1f2c21;}async function handleAnalyzeClass(){const _0x350750=_0x3d653b;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x350750(0xd37));return;}const _0x619826=collection(db,_0x350750(0xc9f)+appId+_0x350750(0xec2)+currentQuizData['id']+_0x350750(0x9d1)),_0x4fafcc=await getDocs(_0x619826),_0x415a84=_0x4fafcc[_0x350750(0x574)][_0x350750(0x643)](_0x77e9f4=>_0x77e9f4['data']());if(_0x415a84['length']<0x2){showMessage(_0x350750(0xa0d));return;}const _0x36ece1=document[_0x350750(0xb29)](_0x350750(0x7af));_0x36ece1[_0x350750(0xd04)]=_0x350750(0x333),document[_0x350750(0xb29)](_0x350750(0xa97))[_0x350750(0xeee)]=!![];const _0x5abc9d=_0x415a84['map']((_0x11998a,_0x2706b4)=>{const _0x43510a=_0x350750,_0x2c4fd3=_0x11998a[_0x43510a(0x84f)][_0x11998a['attempts'][_0x43510a(0xe84)]-0x1];if(!_0x2c4fd3)return'';return _0x43510a(0xb25)+(_0x2706b4+0x1)+'\x20('+_0x11998a['studentName']+_0x43510a(0xe29)+_0x2c4fd3[_0x43510a(0x5e3)]+'/'+_0x11998a[_0x43510a(0xd5f)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x43510a(0x437)](_0x2c4fd3[_0x43510a(0x91f)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x350750(0x87d)](_0x350750(0xe92)),_0x3ac281='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x350750(0xf14)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x350750(0xaff)])+_0x350750(0xe98)+_0x5abc9d+_0x350750(0xd61),_0x5ac36b={'type':_0x350750(0x4d4),'properties':{'classStrengths':{'type':_0x350750(0xea8),'items':{'type':_0x350750(0x43c)}},'classWeaknesses':{'type':_0x350750(0xea8),'items':{'type':_0x350750(0x43c)}},'teacherSuggestions':{'type':_0x350750(0xea8),'items':{'type':_0x350750(0x43c)}}},'required':[_0x350750(0x4b8),_0x350750(0x966),_0x350750(0x9ab)]};try{const _0x19a4ce=await callAnalysisApi(_0x3ac281,_0x5ac36b);displayClassAnalysis(_0x19a4ce);}catch(_0x437cee){console[_0x350750(0x3b5)]('Error\x20during\x20class\x20analysis:',_0x437cee),_0x36ece1[_0x350750(0xd04)]=_0x350750(0xcb0)+_0x437cee[_0x350750(0x837)]+_0x350750(0xc1b);}finally{document[_0x350750(0xb29)](_0x350750(0xa97))['disabled']=![];}}function displayClassAnalysis(_0x2d6fae){const _0x25a298=_0x3d653b,_0xf212d=document['getElementById'](_0x25a298(0x7af));if(!_0x2d6fae){_0xf212d[_0x25a298(0xd04)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0xf212d[_0x25a298(0xd04)]=_0x25a298(0xcdc)+_0x2d6fae[_0x25a298(0x4b8)]['map'](_0x3fdfc9=>'<li>'+_0x3fdfc9+_0x25a298(0x230))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d6fae[_0x25a298(0x966)][_0x25a298(0x643)](_0x70ec2d=>_0x25a298(0xb06)+_0x70ec2d+_0x25a298(0x230))[_0x25a298(0x87d)]('')+_0x25a298(0xe0f)+_0x2d6fae['teacherSuggestions'][_0x25a298(0x643)](_0x2a6359=>'<li>'+_0x2a6359+_0x25a298(0x230))[_0x25a298(0x87d)]('')+_0x25a298(0xe91);}function formatAndPrintWorksheet(_0xcfe665,_0x5f9fdc){const _0x52fa1d=_0x3d653b,_0x2ffcca=_0x52fa1d(0x4f1)+_0xcfe665[_0x52fa1d(0xf14)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0xcfe665[_0x52fa1d(0xf14)]+_0x52fa1d(0xb78)+_0xcfe665['questions']['map']((_0x4ba616,_0x443421)=>_0x52fa1d(0xeb1)+(_0x443421+0x1)+'.\x20'+_0x4ba616[_0x52fa1d(0x4cd)]+_0x52fa1d(0xd45)+(_0x4ba616['imageCode']?_0x52fa1d(0xba0)+_0x4ba616[_0x52fa1d(0x921)]+_0x52fa1d(0xe78):'')+_0x52fa1d(0xe7a))['join']('')+_0x52fa1d(0x82f);_0x5f9fdc['document']['write'](_0x2ffcca),_0x5f9fdc[_0x52fa1d(0x77a)]['close'](),_0x5f9fdc[_0x52fa1d(0x29f)]=function(){setTimeout(()=>{const _0x9cd35a=_0x1c86;_0x5f9fdc[_0x9cd35a(0x6fc)]();},0x3e8);};}async function generateWorksheet(){const _0x2cfc0b=_0x3d653b,_0x8b8364=document[_0x2cfc0b(0xb29)](_0x2cfc0b(0x338))['value']['trim']();if(!_0x8b8364){showMessage(_0x2cfc0b(0x1c4));return;}const _0x498883=document[_0x2cfc0b(0xb29)](_0x2cfc0b(0x3e8))[_0x2cfc0b(0x21d)],_0x7af2f=_0x498883?'':_0x2cfc0b(0x769),_0x39c723=window['open']('',_0x2cfc0b(0x4d9));_0x39c723['document'][_0x2cfc0b(0x8bd)](_0x2cfc0b(0x546));const _0x4731e4=parseInt(document[_0x2cfc0b(0xb29)](_0x2cfc0b(0x4a5))[_0x2cfc0b(0xc4b)]),_0x47bb9f=document['getElementById']('include-images-checkbox')[_0x2cfc0b(0x21d)],_0x400a58=_0x47bb9f?_0x2cfc0b(0xec4):'',_0x1278ae=_0x2cfc0b(0x7c0)+_0x7af2f+_0x2cfc0b(0xb2c)+_0x4731e4+_0x2cfc0b(0x867)+_0x8b8364+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x400a58+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2cfc0b(0xc17),_0x543998={'type':_0x2cfc0b(0x4d4),'properties':{'topic':{'type':_0x2cfc0b(0x43c)},'questions':{'type':_0x2cfc0b(0xea8),'items':{'type':_0x2cfc0b(0x4d4),'properties':{'questionText':{'type':_0x2cfc0b(0x43c)},'imageCode':{'type':'STRING'}},'required':['questionText']}}},'required':[_0x2cfc0b(0xf14),_0x2cfc0b(0xaff)]};document[_0x2cfc0b(0xb29)](_0x2cfc0b(0x193))['textContent']='',document[_0x2cfc0b(0xb29)](_0x2cfc0b(0x6dc))[_0x2cfc0b(0x26b)][_0x2cfc0b(0x937)](_0x2cfc0b(0x932)),document['getElementById'](_0x2cfc0b(0xe8e))[_0x2cfc0b(0x26b)][_0x2cfc0b(0x937)](_0x2cfc0b(0x932)),generateWorksheetBtn['disabled']=!![];try{const _0x3e2420=await callAnalysisApi(_0x1278ae,_0x543998);formatAndPrintWorksheet(_0x3e2420,_0x39c723);}catch(_0x3a805b){console[_0x2cfc0b(0x3b5)](_0x2cfc0b(0x4c8),_0x3a805b);if(_0x39c723)_0x39c723[_0x2cfc0b(0x21f)]();showMessage(_0x2cfc0b(0x961));}finally{document[_0x2cfc0b(0xb29)](_0x2cfc0b(0x6dc))[_0x2cfc0b(0x26b)]['add'](_0x2cfc0b(0x932)),document['getElementById'](_0x2cfc0b(0xe8e))[_0x2cfc0b(0x26b)][_0x2cfc0b(0x224)](_0x2cfc0b(0x932)),generateWorksheetBtn[_0x2cfc0b(0xeee)]=![];}}async function callAnalysisApi(_0x4e152d,_0x2541e9){const _0x505da7=_0x3d653b,_0x53bb94={'contents':[{'role':'user','parts':[{'text':_0x4e152d}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x2541e9}},_0x2a12be=_0x505da7(0x678),_0x38ac63=_0x505da7(0x879)+_0x2a12be,_0x2a21c1=await fetch(_0x38ac63,{'method':_0x505da7(0xc7c),'headers':{'Content-Type':'application/json'},'body':JSON[_0x505da7(0x437)](_0x53bb94)});if(!_0x2a21c1['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x2a21c1[_0x505da7(0x389)]);const _0x45d0dd=await _0x2a21c1[_0x505da7(0x385)]();if(_0x45d0dd[_0x505da7(0xb19)]?.[0x0]?.[_0x505da7(0x220)]?.['parts']?.[0x0])return JSON[_0x505da7(0xf2d)](_0x45d0dd['candidates'][0x0][_0x505da7(0x220)]['parts'][0x0][_0x505da7(0x922)]);else{let _0x4b7c96=_0x505da7(0xa22);if(_0x45d0dd[_0x505da7(0x36c)]?.['blockReason'])_0x4b7c96=_0x505da7(0xb60)+_0x45d0dd[_0x505da7(0x36c)][_0x505da7(0xb4f)]+'.';else _0x45d0dd['candidates']?.[0x0]?.['finishReason']&&_0x45d0dd[_0x505da7(0xb19)][0x0]['finishReason']!==_0x505da7(0x6a3)&&(_0x4b7c96=_0x505da7(0x37c)+_0x45d0dd[_0x505da7(0xb19)][0x0][_0x505da7(0xab1)]+'.');console[_0x505da7(0x3b5)](_0x4b7c96,JSON['stringify'](_0x45d0dd));throw new Error(_0x4b7c96);}}async function handleStartSyncMode(_0xc61de1,_0x8041ea=![],_0x2febe8='classic'){const _0x35af0c=_0x3d653b,_0x19e125=allQuizzes[_0x35af0c(0xb46)](_0x4ae37d=>_0x4ae37d['id']===_0xc61de1)||allQuizzesGlobal[_0x35af0c(0xb46)](_0x3a4981=>_0x3a4981['id']===_0xc61de1);if(!_0x19e125){showMessage(_0x35af0c(0xc8a));return;}currentQuizData=getShuffledQuiz(_0x19e125);const _0x3447e4=Math[_0x35af0c(0x6ae)](0x3e8+Math[_0x35af0c(0xebc)]()*0x2328)['toString'](),_0x1d58ec=doc(db,_0x35af0c(0xc9f)+appId+'/public/data/projects',_0x19e125[_0x35af0c(0x6c4)]),_0x5d9361=await getDoc(_0x1d58ec);if(!_0x5d9361[_0x35af0c(0x267)]()){showMessage(_0x35af0c(0x7dd));return;}const _0x3c4ed9=_0x5d9361[_0x35af0c(0xcbd)]()[_0x35af0c(0x828)]||[],_0x2bd057={};if(_0x2febe8==='anonymous'||_0x2febe8===_0x35af0c(0xf29)){const _0xf4942d=[...ANONYMOUS_NAMES][_0x35af0c(0xb9f)](()=>0.5-Math[_0x35af0c(0xebc)]());_0x3c4ed9['forEach']((_0x4d7063,_0x5759c5)=>{_0x2bd057[_0x4d7063]=_0xf4942d[_0x5759c5]||'ผู้เล่น\x20'+(_0x5759c5+0x1);});}const _0x12a953=document['getElementById'](_0x35af0c(0x1ec))[_0x35af0c(0x21d)],_0x53eb66=parseInt(document[_0x35af0c(0xb29)]('sync-timer-duration-input')[_0x35af0c(0xc4b)],0xa);let _0x5c452e={'timerMode':'none','timerDuration':0x0};_0x12a953&&(_0x5c452e['timerMode']=_0x35af0c(0x241),_0x5c452e[_0x35af0c(0xbc8)]=_0x53eb66||0xf0);const _0x4e74bd=document[_0x35af0c(0xb29)](_0x35af0c(0xdce))['checked'],_0xfa9020=document[_0x35af0c(0xb29)](_0x35af0c(0xc03))[_0x35af0c(0x21d)];try{const _0x4c08d5=await addDoc(collection(db,_0x35af0c(0xc9f)+appId+'/public/data/syncGames'),{'quizId':_0x19e125['id'],'pin':_0x3447e4,'status':_0x35af0c(0xa03),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x8041ea,'players':{},'gameVariant':_0x2febe8,'reviewQuestionIndex':0x0,'playerNicknames':_0x2bd057,'isAnonymousRevealed':![],..._0x5c452e,'showAnswerInAnonymous':_0x4e74bd,'isBlackMarketEnabled':_0xfa9020});currentLiveGameId=_0x4c08d5['id'],showView(_0x35af0c(0x78c)),renderSyncLobbyView(_0x3447e4,_0x19e125[_0x35af0c(0xf14)]),listenForSyncGameUpdates();const _0x270390={'gameId':currentLiveGameId,'mode':'sync','role':_0x35af0c(0x223)};sessionStorage[_0x35af0c(0xef3)](_0x35af0c(0x8d3),JSON['stringify'](_0x270390));}catch(_0x35baac){console['error']('Error\x20starting\x20sync\x20game:',_0x35baac),showMessage(_0x35af0c(0xdf5));}}function calculateFinalPodiumScores(_0x1079f7){const _0x37ed5b=_0x3d653b;if(!_0x1079f7||!_0x1079f7['shuffledQuiz']||!_0x1079f7['players'])return _0x1079f7['players']||{};const _0x22b3d8=_0x1079f7[_0x37ed5b(0xeb4)]['questions'][_0x37ed5b(0xe84)],_0x206fe1=JSON[_0x37ed5b(0xf2d)](JSON['stringify'](_0x1079f7[_0x37ed5b(0xe24)]));return Object[_0x37ed5b(0xf02)](_0x206fe1)[_0x37ed5b(0x57b)](_0x1511c0=>{const _0x9297f5=_0x37ed5b,_0x59ef1a=_0x1511c0[_0x9297f5(0x5e3)]||0x0,_0x40194b=_0x1511c0[_0x9297f5(0xb1e)]||0x0;_0x22b3d8>0x0&&_0x59ef1a===_0x22b3d8?_0x1511c0[_0x9297f5(0x350)]=!![]:_0x1511c0['hasPerfectScoreBonus']=![],_0x1511c0[_0x9297f5(0xb61)]=_0x59ef1a,_0x1511c0[_0x9297f5(0xb1e)]=_0x40194b;}),_0x206fe1;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x3f7db9=_0x3d653b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x328a47=doc(db,_0x3f7db9(0xc9f)+appId+_0x3f7db9(0x8d6),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x328a47,_0x5e9c98=>{const _0x546b56=_0x3f7db9;if(!_0x5e9c98[_0x546b56(0x267)]()){sessionStorage[_0x546b56(0x42c)](_0x546b56(0x8d3)),showMessage(_0x546b56(0xcc1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x546b56(0x4d8));return;}cachedGameData=_0x5e9c98[_0x546b56(0xcbd)](),cachedGameData['shuffledQuiz']&&(currentQuizData=cachedGameData[_0x546b56(0xeb4)]),syncDataAndRender();});const _0x416919=collection(db,_0x3f7db9(0xc9f)+appId+_0x3f7db9(0x855)+currentLiveGameId+_0x3f7db9(0x47b));if(currentMode===_0x3f7db9(0x223))unsubscribePlayersCollectionListener=onSnapshot(_0x416919,_0x231e2a=>{const _0x9145c7=_0x3f7db9;_0x231e2a[_0x9145c7(0xb69)]()[_0x9145c7(0x57b)](_0x5815d8=>{const _0x267222=_0x9145c7;if(_0x5815d8[_0x267222(0x596)]===_0x267222(0x956)||_0x5815d8[_0x267222(0x596)]===_0x267222(0xba3))cachedPlayerData[_0x5815d8['doc']['id']]=_0x5815d8[_0x267222(0x1b2)][_0x267222(0xcbd)]();else _0x5815d8[_0x267222(0x596)]==='removed'&&delete cachedPlayerData[_0x5815d8[_0x267222(0x1b2)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers['length']>0x0){const _0x1cca49=query(_0x416919,where(_0x3f7db9(0x77f),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x1cca49,_0x1304d0=>{const _0x216ad2=_0x3f7db9;_0x1304d0[_0x216ad2(0xb69)]()[_0x216ad2(0x57b)](_0x34bf91=>{const _0x4e56ba=_0x216ad2;(_0x34bf91[_0x4e56ba(0x596)]==='added'||_0x34bf91['type']==='modified')&&(cachedPlayerData[_0x34bf91['doc']['id']]=_0x34bf91[_0x4e56ba(0x1b2)][_0x4e56ba(0xcbd)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x5dcc30=_0x3d653b;if(!cachedGameData)return;const _0x3cbc6d={},_0x4b9096=cachedGameData[_0x5dcc30(0x7d8)];Object['keys'](cachedPlayerData)[_0x5dcc30(0x57b)](_0x261f60=>{const _0x5dab29=_0x5dcc30,_0x36403e=cachedPlayerData[_0x261f60],_0x2ba67f=_0x36403e[_0x5dab29(0x91f)]&&_0x36403e['answers'][_0x5dab29(0x537)](_0x250ad4=>_0x250ad4[_0x5dab29(0xa40)]===_0x4b9096);_0x3cbc6d[_0x261f60]={..._0x36403e,'answered':_0x2ba67f};});const _0x44a481={...cachedGameData,'players':_0x3cbc6d};currentMode===_0x5dcc30(0x223)?updateAdminSyncView(_0x44a481):updateStudentSyncView(_0x44a481);}function renderSyncLobbyView(_0x519c1c,_0x183f6c){const _0x5b20d4=_0x3d653b;liveGameView['innerHTML']=_0x5b20d4(0x9ef)+_0x183f6c+_0x5b20d4(0x842)+_0x519c1c+_0x5b20d4(0xa9f);const _0x158a08=document[_0x5b20d4(0xb29)](_0x5b20d4(0x77d)),_0x33177d=document[_0x5b20d4(0xb29)](_0x5b20d4(0xd1b));_0x158a08[_0x5b20d4(0x652)](_0x5b20d4(0xc95),()=>{const _0x123eca=_0x5b20d4;_0x33177d[_0x123eca(0xa90)][_0x123eca(0xd27)]=_0x158a08[_0x123eca(0x21d)]?_0x123eca(0x993):'none';}),document[_0x5b20d4(0xb29)](_0x5b20d4(0xba2))[_0x5b20d4(0x652)]('click',async()=>{const _0x25177f=_0x5b20d4,_0x386b7b=doc(db,_0x25177f(0xc9f)+appId+_0x25177f(0x8d6),currentLiveGameId),_0x7fd838=document[_0x25177f(0xb29)]('confidence-scoring-toggle')[_0x25177f(0x21d)];await updateDoc(_0x386b7b,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x7fd838});});}function updateAdminSyncView(_0x3a34cb){const _0x51952a=_0x3d653b;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x3a34cb[_0x51952a(0x389)]){case'lobby':renderSyncLobbyView(_0x3a34cb[_0x51952a(0xa9d)],_0x3a34cb[_0x51952a(0xeb4)][_0x51952a(0xf14)]);const _0x2a95af=Object[_0x51952a(0xe63)](_0x3a34cb[_0x51952a(0xe24)]||{})[_0x51952a(0x5f5)](([_0x1737f0,_0x234f9f])=>_0x234f9f[_0x51952a(0x389)]!=='inactive');document[_0x51952a(0xb29)](_0x51952a(0x7d4))[_0x51952a(0x6ab)]=_0x2a95af[_0x51952a(0xe84)],document[_0x51952a(0xb29)](_0x51952a(0x568))[_0x51952a(0xd04)]=_0x2a95af[_0x51952a(0x643)](([_0x7d604f,_0x1e16fc])=>_0x51952a(0x1dd)+_0x7d604f+_0x51952a(0xaf6)+_0x7d604f+_0x51952a(0x8c8))[_0x51952a(0x87d)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x51952a(0xb29)]('start-sync-game-btn')[_0x51952a(0xeee)]=_0x2a95af[_0x51952a(0xe84)]===0x0;break;case'question':const _0x419577=Object[_0x51952a(0xf02)](_0x3a34cb[_0x51952a(0xe24)]||{})[_0x51952a(0x5f5)](_0x3209ad=>_0x3209ad['status']!==_0x51952a(0xefe)),_0x11d730=_0x419577[_0x51952a(0x5f5)](_0x308606=>_0x308606['answered'])[_0x51952a(0xe84)],_0x29f5af=_0x11d730===_0x419577['length']&&_0x419577[_0x51952a(0xe84)]>0x0;if(_0x29f5af&&_0x3a34cb[_0x51952a(0x389)]===_0x51952a(0x92b)){const _0x7f2b24=doc(db,_0x51952a(0xc9f)+appId+_0x51952a(0x8d6),currentLiveGameId);updateDoc(_0x7f2b24,{'status':'summary'});return;}if(document['getElementById'](_0x51952a(0x6f1))===null)renderAdminSyncQuestionView(_0x3a34cb);else{const _0x4aafea=document['getElementById'](_0x51952a(0x6a6));_0x4aafea&&(_0x4aafea['textContent']=_0x11d730+'/'+_0x419577[_0x51952a(0xe84)]);const _0x86a122=document[_0x51952a(0xb29)]('sync-player-list');_0x86a122&&(_0x86a122[_0x51952a(0xd04)]=_0x419577[_0x51952a(0x643)](_0x318aa3=>{const _0xfa31a3=_0x51952a,_0x19bd08=_0x318aa3['answered']?_0xfa31a3(0x6d0):_0xfa31a3(0x507),_0x4acaa8=_0x318aa3[_0xfa31a3(0xbb6)]?_0xfa31a3(0x2df):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0xfa31a3(0xdae)+_0x19bd08+'\x22>'+_0x4acaa8+_0xfa31a3(0x8f6)+_0x318aa3[_0xfa31a3(0x77f)]+_0xfa31a3(0x744)+_0x318aa3[_0xfa31a3(0x77f)]+_0xfa31a3(0x673);})[_0x51952a(0x87d)](''));}const _0x5cfc05=_0x3a34cb[_0x51952a(0xc34)]===_0x51952a(0x241)&&_0x3a34cb[_0x51952a(0x5ea)];if(_0x5cfc05){const _0x4ced80=_0x3a34cb['questionDisplayedAt'][_0x51952a(0x1e8)]()['getTime'](),_0x466f37=_0x3a34cb[_0x51952a(0xbc8)]*0x3e8,_0x41ee1e=_0x4ced80+_0x466f37,_0x40b250=document['getElementById'](_0x51952a(0x688)),_0x2c87cf=document[_0x51952a(0xb29)](_0x51952a(0x176));syncQuestionTimerInterval=setInterval(()=>{const _0x4b7e62=_0x51952a,_0x51918f=Date[_0x4b7e62(0xbd7)](),_0x460ea6=_0x419577[_0x4b7e62(0xe84)]>0x0&&_0x419577[_0x4b7e62(0xd2a)](_0x3644d6=>{const _0x21bc8b=_0x4b7e62;if(_0x3644d6[_0x21bc8b(0xbb6)])return!![];const _0x2890d6=_0x3644d6['timeBonusThisQuestion']||0x0;return _0x51918f>=_0x4ced80+_0x466f37+_0x2890d6;});if(_0x460ea6){clearInterval(syncQuestionTimerInterval);const _0x47387e=doc(db,'artifacts/'+appId+_0x4b7e62(0x8d6),currentLiveGameId);updateDoc(_0x47387e,{'status':_0x4b7e62(0x8b2)});return;}const _0x19401c=_0x41ee1e-_0x51918f;if(_0x19401c<=0x0){if(_0x40b250)_0x40b250[_0x4b7e62(0xa90)][_0x4b7e62(0x9f6)]='0%';if(_0x2c87cf)_0x2c87cf[_0x4b7e62(0x6ab)]=_0x4b7e62(0xe5f);}else{if(_0x40b250&&_0x2c87cf){const _0x2ae98a=_0x19401c/_0x466f37*0x64;_0x40b250['style']['width']=_0x2ae98a+'%',_0x2c87cf[_0x4b7e62(0x6ab)]=Math[_0x4b7e62(0xe70)](_0x19401c/0x3e8);}}},0x1f4);}break;case _0x51952a(0x8b2):const _0x77eb74=_0x3a34cb[_0x51952a(0x7d8)],_0x587d28=_0x3a34cb[_0x51952a(0xeb4)]['questions'][_0x77eb74];renderSyncSummaryView(_0x3a34cb,_0x587d28,!![]);break;case _0x51952a(0xa01):const _0x183e18=_0x3a34cb[_0x51952a(0x839)]||_0x51952a(0x44f);_0x183e18===_0x51952a(0xacc)||_0x183e18===_0x51952a(0xf29)?renderAdminSyncDashboard(_0x3a34cb,!![],_0x3a34cb[_0x51952a(0x92d)]):(_0x3a34cb['status']===_0x51952a(0xa01)&&!_0x3a34cb[_0x51952a(0x959)]&&((async()=>{const _0x27916d=_0x51952a;try{const _0x547af1=doc(db,_0x27916d(0xc9f)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x547af1,{'scoresCalculated':!![]});const _0xe3ac7c=cachedPlayerData||{},_0x5a9590=_0x3a34cb[_0x27916d(0xeb4)][_0x27916d(0xaff)][_0x27916d(0xe84)],_0x5470e0={};Object[_0x27916d(0xf02)](_0xe3ac7c)[_0x27916d(0x57b)](_0xc32803=>{const _0x3de378=_0x27916d;if(_0xc32803[_0x3de378(0x389)]!==_0x3de378(0xefe)){const _0x56c158=_0xc32803[_0x3de378(0x77f)],_0x372f12=_0xc32803[_0x3de378(0x5e3)]||0x0,_0x2e0f28=_0xc32803[_0x3de378(0xb1e)]||0x0;let _0x23c4bc=_0x2e0f28;_0x5a9590>0x0&&_0x372f12===_0x5a9590&&(_0x23c4bc+=0x1),_0x5470e0[_0x3de378(0xf07)+_0x56c158+_0x3de378(0xeec)]=_0x372f12,_0x5470e0[_0x3de378(0xf07)+_0x56c158+_0x3de378(0x433)]=_0x23c4bc,_0x5470e0[_0x3de378(0xf07)+_0x56c158+_0x3de378(0x9c5)]=_0x23c4bc;}}),await updateDoc(_0x547af1,{..._0x5470e0});}catch(_0x10665d){console[_0x27916d(0x3b5)](_0x27916d(0xda1),_0x10665d);}})()),renderAdminSyncDashboard(_0x3a34cb,!![],_0x3a34cb[_0x51952a(0x7d8)]));break;case _0x51952a(0x4da):const _0x5a4434=Object['keys'](_0x3a34cb[_0x51952a(0xe24)]||{})[_0x51952a(0xe84)]>0x0,_0x1865bf=_0x3a34cb[_0x51952a(0x5e2)]===!![],_0x4170a3=_0x3a34cb[_0x51952a(0x7e7)]===!![];_0x4170a3&&!_0x1865bf&&_0x5a4434&&saveGameResultsAsSubmissions(_0x3a34cb);sessionStorage[_0x51952a(0x42c)](_0x51952a(0x8d3));const _0x45c038=calculateFinalPodiumScores(_0x3a34cb);showPodiumView(_0x45c038,_0x51952a(0x41d),_0x3a34cb);break;}}function renderAdminSyncQuestionView(_0x3f73c4){const _0x27a5c6=_0x3d653b,_0x456ab9=_0x3f73c4['currentQuestionIndex'],_0x3bb3db=_0x3f73c4['shuffledQuiz'][_0x27a5c6(0xaff)][_0x456ab9],_0x488301=_0x3f73c4[_0x27a5c6(0xeb4)][_0x27a5c6(0xaff)][_0x27a5c6(0xe84)],_0x1e63e4=Object['values'](_0x3f73c4[_0x27a5c6(0xe24)]||{})['filter'](_0x2bf157=>_0x2bf157[_0x27a5c6(0x389)]!==_0x27a5c6(0xefe)),_0x421064=_0x1e63e4['filter'](_0x2ad218=>_0x2ad218[_0x27a5c6(0xbb6)])[_0x27a5c6(0xe84)],_0x5448e2=_0x421064===_0x1e63e4[_0x27a5c6(0xe84)]&&_0x1e63e4['length']>0x0,_0x1deacb=_0x3bb3db[_0x27a5c6(0xc4a)]||_0x3f73c4['shuffledQuiz'][_0x27a5c6(0xca5)],_0x32101b=(_0x1deacb===_0x27a5c6(0x9d6)||_0x1deacb==='fill_in_no_choices')&&_0x3bb3db['options']&&_0x3bb3db[_0x27a5c6(0x802)][_0x27a5c6(0xe84)]>0x0;let _0x2c80e3='';_0x32101b?_0x2c80e3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x2c80e3=(_0x3bb3db[_0x27a5c6(0x802)]||[])[_0x27a5c6(0x643)](_0x16176a=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x16176a+'</div>')[_0x27a5c6(0x87d)]('');let _0x4bf9bd='';_0x3f73c4[_0x27a5c6(0xc34)]===_0x27a5c6(0x241)&&(_0x4bf9bd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x3f73c4[_0x27a5c6(0xbc8)]+_0x27a5c6(0xcbf));liveGameView['innerHTML']=_0x27a5c6(0xecd)+(_0x456ab9+0x1)+'\x20/\x20'+_0x488301+_0x27a5c6(0x394)+_0x3f73c4[_0x27a5c6(0xa9d)]+_0x27a5c6(0x470)+_0x421064+'/'+_0x1e63e4['length']+_0x27a5c6(0x32e)+_0x4bf9bd+_0x27a5c6(0x93e)+(_0x3bb3db[_0x27a5c6(0x4cd)]||_0x3bb3db[_0x27a5c6(0x3bf)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x2c80e3+_0x27a5c6(0x852)+(!_0x5448e2?_0x27a5c6(0xeee):'')+_0x27a5c6(0xbab);if(window[_0x27a5c6(0x348)])MathJax['typesetPromise']();const _0x5762f0=doc(db,_0x27a5c6(0xc9f)+appId+_0x27a5c6(0x8d6),currentLiveGameId);document[_0x27a5c6(0xb29)](_0x27a5c6(0x8a8))[_0x27a5c6(0x652)](_0x27a5c6(0xc7b),async()=>{const _0x1900f1=_0x27a5c6;await updateDoc(_0x5762f0,{'status':_0x1900f1(0x8b2)});}),document[_0x27a5c6(0xb29)](_0x27a5c6(0x2a1))[_0x27a5c6(0x675)]=()=>{const _0x2129e9=_0x27a5c6;openScratchpad(_0x3bb3db,_0x3bb3db[_0x2129e9(0x802)]||[]);},document[_0x27a5c6(0xb29)](_0x27a5c6(0x806))['addEventListener'](_0x27a5c6(0xc7b),()=>{const _0x361789=_0x27a5c6;document[_0x361789(0xb29)]('sync-player-management')[_0x361789(0x26b)]['toggle'](_0x361789(0x932));});const _0x533601=document[_0x27a5c6(0xb29)](_0x27a5c6(0x90d));_0x533601&&(_0x533601[_0x27a5c6(0x675)]=()=>{const _0x5cb458=_0x27a5c6;showConfirmation(_0x5cb458(0xc86),async()=>{const _0x2de2dd=_0x5cb458;await updateDoc(_0x5762f0,{'status':_0x2de2dd(0x4da)});});});}function renderSyncLeaderboardView(_0x558407,_0x1c71ca){const _0x19f2da=_0x3d653b,_0x4b303b=Object[_0x19f2da(0xf02)](_0x558407[_0x19f2da(0xe24)]||{});_0x4b303b[_0x19f2da(0xb9f)]((_0x2ea167,_0x382fe6)=>_0x382fe6[_0x19f2da(0x5e3)]-_0x2ea167[_0x19f2da(0x5e3)]);const _0x59deb4=_0x4b303b[_0x19f2da(0x7e8)](0x0,0x5);let _0x5c4e02='';if(_0x1c71ca){const _0x51dddd=_0x558407[_0x19f2da(0x7d8)]>=_0x558407['shuffledQuiz'][_0x19f2da(0xaff)][_0x19f2da(0xe84)]-0x1;_0x5c4e02=_0x19f2da(0x5c2)+(_0x51dddd?_0x19f2da(0xed9):_0x19f2da(0xc55))+_0x19f2da(0x3e6);}else _0x5c4e02='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x19f2da(0xd04)]=_0x19f2da(0xac0)+_0x59deb4[_0x19f2da(0x643)]((_0x2568c,_0x1ee52d)=>_0x19f2da(0x35c)+(_0x1ee52d+0x1)+'.\x20'+_0x2568c['name']+_0x19f2da(0x41e)+_0x2568c[_0x19f2da(0x5e3)]+_0x19f2da(0x873))[_0x19f2da(0x87d)]('')+_0x19f2da(0xb6f)+_0x5c4e02+_0x19f2da(0xa7c),_0x1c71ca&&document[_0x19f2da(0xb29)](_0x19f2da(0xbf1))[_0x19f2da(0x652)]('click',async()=>{const _0x8b4637=_0x19f2da,_0x7e3f9f=doc(db,'artifacts/'+appId+_0x8b4637(0x8d6),currentLiveGameId),_0x30da96=_0x558407['currentQuestionIndex']+0x1;if(_0x30da96<_0x558407['shuffledQuiz'][_0x8b4637(0xaff)]['length']){const _0x58af8a={};Object[_0x8b4637(0x754)](_0x558407['players'])[_0x8b4637(0x57b)](_0x4ff873=>{const _0x158191=_0x8b4637;_0x58af8a[_0x158191(0xf07)+_0x4ff873+_0x158191(0x24b)]=![];}),await updateDoc(_0x7e3f9f,{'status':_0x8b4637(0x92b),'currentQuestionIndex':_0x30da96,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x7e3f9f,{'status':_0x8b4637(0x4da)});});}async function handleJoinSyncGame(){const _0x5a73c8=_0x3d653b,_0x3b515c=prompt(_0x5a73c8(0xafe));if(!_0x3b515c||_0x3b515c[_0x5a73c8(0x46f)]()[_0x5a73c8(0xe84)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x2ae306=collection(db,_0x5a73c8(0xc9f)+appId+_0x5a73c8(0x8d6)),_0x2d0cb7=query(_0x2ae306,where(_0x5a73c8(0xa9d),'==',_0x3b515c[_0x5a73c8(0x46f)]()),where('status','==',_0x5a73c8(0xa03))),_0x34b2ec=await getDocs(_0x2d0cb7);if(_0x34b2ec[_0x5a73c8(0xd9a)]){showMessage(_0x5a73c8(0xb30));return;}const _0xa5ae4e=_0x34b2ec[_0x5a73c8(0x574)][0x0];currentLiveGameId=_0xa5ae4e['id'];const _0x11d936=_0xa5ae4e[_0x5a73c8(0xcbd)](),_0x49c495=doc(db,_0x5a73c8(0xc9f)+appId+'/public/data/quizzes',_0x11d936[_0x5a73c8(0x31e)]),_0x50d7e9=await getDoc(_0x49c495);if(!_0x50d7e9[_0x5a73c8(0x267)]())throw new Error(_0x5a73c8(0xc91));const _0xbf8c12=_0x50d7e9[_0x5a73c8(0xcbd)](),_0x21567c=doc(db,_0x5a73c8(0xc9f)+appId+_0x5a73c8(0x8ef),_0xbf8c12['projectId']),_0x9ce70f=await getDoc(_0x21567c);if(!_0x9ce70f[_0x5a73c8(0x267)]())throw new Error(_0x5a73c8(0x787));currentQuizData=_0x11d936[_0x5a73c8(0xeb4)];const _0x509f3c=_0x9ce70f['data']();showView(_0x5a73c8(0xec3)),showTeamPlayerSelection(_0x509f3c[_0x5a73c8(0x828)],_0xbf8c12[_0x5a73c8(0xf14)]);const _0x2f53ca=document[_0x5a73c8(0xb29)](_0x5a73c8(0x336));_0x2f53ca[_0x5a73c8(0x675)]=confirmAndJoinSyncGame;}catch(_0x612524){console['error']('Error\x20joining\x20sync\x20game:',_0x612524),showMessage('เกิดข้อผิดพลาด:\x20'+_0x612524[_0x5a73c8(0x837)]);}}function updateStudentSyncView(_0x44d046){const _0x70df88=_0x3d653b,_0x466b85=localTeamPlayers[0x0],_0x425585=_0x44d046[_0x70df88(0xe24)][_0x466b85]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x44d046[_0x70df88(0x389)]){case _0x70df88(0xa03):showView(_0x70df88(0x78c)),liveGameView['innerHTML']=_0x70df88(0xd46);break;case _0x70df88(0x92b):if(_0x44d046[_0x70df88(0x7d8)]!==lastSeenQuestionIndex){console['log'](_0x70df88(0xcc8)),sessionStorage[_0x70df88(0x42c)](_0x70df88(0xb8c)),sessionStorage[_0x70df88(0x42c)](_0x70df88(0xc80)),sessionStorage[_0x70df88(0x42c)]('pollUsedThisTurn');const _0xcabb5f=_0x70df88(0xd30)+lastSeenQuestionIndex,_0x2ed54a=_0x70df88(0x780)+lastSeenQuestionIndex,_0x432109=_0x70df88(0x585)+lastSeenQuestionIndex;Object[_0x70df88(0x754)](sessionStorage)['forEach'](_0xeb21d6=>{const _0x28156e=_0x70df88;(_0xeb21d6[_0x28156e(0x7f8)](_0xcabb5f)||_0xeb21d6[_0x28156e(0x7f8)](_0x2ed54a)||_0xeb21d6[_0x28156e(0x7f8)](_0x432109))&&sessionStorage['removeItem'](_0xeb21d6);});if(_0x425585[_0x70df88(0x824)]||_0x425585[_0x70df88(0xe88)]||(_0x425585['timeBonusThisQuestion']||0x0)>0x0){const _0x42e043=doc(db,'artifacts/'+appId+_0x70df88(0x855)+currentLiveGameId+_0x70df88(0x47b),_0x466b85);updateDoc(_0x42e043,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x70df88(0xdcf)](_0x543deb=>console[_0x70df88(0x3b5)]('Auto-cleanup\x20failed:',_0x543deb));}lastSeenQuestionIndex=_0x44d046[_0x70df88(0x7d8)];}localPlayerTurnIndex=0x0;const _0x4c6c4c=localTeamPlayers[_0x70df88(0xd2a)](_0x4251b5=>_0x44d046[_0x70df88(0xe24)][_0x4251b5]?.[_0x70df88(0xbb6)]===!![]);if(_0x4c6c4c)liveGameView[_0x70df88(0xd04)]=_0x70df88(0x3db);else{renderStudentSyncQuestionView(_0x44d046);if(_0x44d046[_0x70df88(0xc34)]==='per_question'){if(!_0x44d046[_0x70df88(0x5ea)]){console[_0x70df88(0xee3)](_0x70df88(0x952));return;}const _0x537f89=_0x44d046[_0x70df88(0x5ea)][_0x70df88(0x1e8)]()[_0x70df88(0x72a)](),_0x2774c1=_0x44d046['timerDuration']*0x3e8,_0x635124=localTeamPlayers[_0x70df88(0x643)](_0x744102=>_0x44d046[_0x70df88(0xe24)][_0x744102]?.['timeBonusThisQuestion']||0x0),_0x357b3a=Math[_0x70df88(0xd18)](..._0x635124,0x0),_0x24ecf5=_0x537f89+_0x2774c1+_0x357b3a;syncQuestionTimerInterval=setInterval(()=>{const _0x510c4e=_0x70df88,_0x435eae=_0x24ecf5-Date[_0x510c4e(0xbd7)](),_0x114b9b=document[_0x510c4e(0xb29)](_0x510c4e(0x688)),_0x4c018a=document[_0x510c4e(0xb29)](_0x510c4e(0x176));if(_0x435eae<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x114b9b)_0x114b9b['style'][_0x510c4e(0x9f6)]='0%';if(_0x4c018a)_0x4c018a['textContent']='0';liveGameView[_0x510c4e(0xd04)]=_0x510c4e(0xe62);}else{if(_0x114b9b&&_0x4c018a){const _0x391d89=_0x2774c1+_0x357b3a,_0x551625=_0x391d89>0x0?_0x435eae/_0x391d89*0x64:0x0;_0x114b9b[_0x510c4e(0xa90)][_0x510c4e(0x9f6)]=_0x551625+'%',_0x4c018a[_0x510c4e(0x6ab)]=Math[_0x510c4e(0xe70)](_0x435eae/0x3e8);}}},0x1f4);}}break;case _0x70df88(0x8b2):liveGameView[_0x70df88(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x70df88(0xa01):localPlayerTurnIndex=0x0;const _0x669cd0=_0x44d046['gameVariant']||_0x70df88(0x44f);if(_0x669cd0==='anonymous'||_0x669cd0===_0x70df88(0xf29))renderStudentAnonymousResultsView(_0x44d046,_0x44d046[_0x70df88(0x7d8)]);else _0x669cd0===_0x70df88(0xc5e)?renderStudentCompetitionResultsView(_0x44d046,_0x44d046[_0x70df88(0x7d8)]):renderStudentSyncResultsView(_0x44d046);break;case _0x70df88(0x4da):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x70df88(0xadb)](_0x70df88(0x5bc),handleFullscreenChange),document[_0x70df88(0xadb)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x70df88(0x42c)](_0x70df88(0x8d3));const _0x1f8ecd=_0x44d046[_0x70df88(0x839)]||'classic',_0x3f1aed=_0x44d046['shuffledQuiz']['questions'][_0x70df88(0xe84)]-0x1;if(_0x1f8ecd===_0x70df88(0x872)||_0x1f8ecd==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x44d046,_0x3f1aed);else _0x1f8ecd===_0x70df88(0xc5e)?renderStudentCompetitionResultsView(_0x44d046,_0x3f1aed):renderStudentSyncResultsView(_0x44d046);const _0x1bebe3=liveGameView[_0x70df88(0x327)](_0x70df88(0x92a));_0x1bebe3&&(_0x1bebe3[_0x70df88(0xa90)][_0x70df88(0xd27)]=_0x70df88(0x1a6));const _0x838ff1=liveGameView[_0x70df88(0x327)](_0x70df88(0xb84));_0x838ff1&&(_0x838ff1[_0x70df88(0xa90)][_0x70df88(0xd27)]=_0x70df88(0x1a6));const _0x449d42=_0x70df88(0x8b8);liveGameView[_0x70df88(0x3d3)]?liveGameView['firstElementChild'][_0x70df88(0xc0d)](_0x70df88(0xbd5),_0x449d42):liveGameView['insertAdjacentHTML'](_0x70df88(0xbd5),_0x449d42);break;}}function renderStudentSyncResultsView(_0x50d0ff){const _0x3e115c=_0x3d653b;let _0x40ad48=[];_0x50d0ff[_0x3e115c(0xc21)]&&Array[_0x3e115c(0x51a)](_0x50d0ff[_0x3e115c(0xc21)])&&_0x50d0ff['publicLeaderboard'][_0x3e115c(0xe84)]>0x0?_0x40ad48=_0x50d0ff[_0x3e115c(0xc21)]:_0x40ad48=Object[_0x3e115c(0xf02)](_0x50d0ff[_0x3e115c(0xe24)]||{});const _0x2d092b=_0x50d0ff[_0x3e115c(0x839)]||_0x3e115c(0x44f),_0x3de19e=_0x2d092b==='reveal_at_end'||_0x2d092b===_0x3e115c(0xf29),_0x11ca42=_0x50d0ff[_0x3e115c(0xeb4)][_0x3e115c(0xaff)],_0x19fd3b=_0x3de19e&&_0x50d0ff[_0x3e115c(0x92d)]!==undefined?_0x50d0ff[_0x3e115c(0x92d)]:_0x50d0ff['currentQuestionIndex'],_0x8dd028=_0x3de19e?_0x50d0ff[_0x3e115c(0x92d)]:_0x50d0ff[_0x3e115c(0x7d8)],_0x5be7b7=_0x40ad48[_0x3e115c(0x643)](_0x3f9788=>{const _0x428438=_0x3e115c,_0x245cb8=(_0x3f9788[_0x428438(0x91f)]||[])[_0x428438(0x5f5)](_0x59d657=>_0x59d657['questionIndex']<=_0x19fd3b);let _0x23a2b9=0x0,_0x324167=0x0;_0x3de19e?(_0x23a2b9=_0x245cb8[_0x428438(0x5f5)](_0xada310=>_0xada310[_0x428438(0x1ce)])[_0x428438(0xe84)],_0x324167=_0x245cb8['reduce']((_0x4fc979,_0x3707fd)=>_0x4fc979+(_0x3707fd[_0x428438(0x4cf)]||0x0),0x0)):(_0x23a2b9=_0x3f9788[_0x428438(0x5e3)]||0x0,_0x324167=_0x3f9788[_0x428438(0xb1e)]||0x0);const _0x115f06=[..._0x245cb8][_0x428438(0xb9f)]((_0x1a0556,_0x5704ec)=>_0x1a0556[_0x428438(0xa40)]-_0x5704ec[_0x428438(0xa40)]);let _0x22d1e5=0x0;return _0x115f06[_0x428438(0x57b)](_0x4fdab0=>{const _0x4c691e=_0x428438,_0x3e90a1=_0x4fdab0[_0x4c691e(0x47a)]&&_0x4fdab0[_0x4c691e(0x47a)]!==_0x4c691e(0x344)||_0x4fdab0[_0x4c691e(0xe16)];_0x4fdab0['isCorrect']?_0x22d1e5=_0x3e90a1?0x0:_0x22d1e5+0x1:_0x22d1e5=0x0;}),{..._0x3f9788,'realScore':_0x23a2b9,'totalPoints':_0x324167,'answers':_0x3f9788[_0x428438(0x91f)],'correctStreak':_0x22d1e5};}),_0xdd203b=Math['max'](..._0x5be7b7[_0x3e115c(0x643)](_0x6266b1=>_0x6266b1[_0x3e115c(0xb1e)]),-Infinity),_0x502413=Math['max'](..._0x5be7b7['map'](_0xee390a=>_0xee390a[_0x3e115c(0xb61)]),-Infinity),_0x3fd945=_0x50d0ff[_0x3e115c(0xceb)]===!![];_0x5be7b7['sort']((_0x5656bb,_0xa9d1c)=>{const _0x23d727=_0x3e115c;if(_0x3fd945){if(_0xa9d1c[_0x23d727(0xb1e)]!==_0x5656bb[_0x23d727(0xb1e)])return _0xa9d1c['totalPoints']-_0x5656bb[_0x23d727(0xb1e)];if(_0xa9d1c[_0x23d727(0xb61)]!==_0x5656bb['realScore'])return _0xa9d1c[_0x23d727(0xb61)]-_0x5656bb['realScore'];}else{if(_0xa9d1c[_0x23d727(0xb1e)]!==_0x5656bb[_0x23d727(0xb1e)])return _0xa9d1c[_0x23d727(0xb1e)]-_0x5656bb[_0x23d727(0xb1e)];if(_0xa9d1c[_0x23d727(0xb61)]!==_0x5656bb[_0x23d727(0xb61)])return _0xa9d1c['realScore']-_0x5656bb[_0x23d727(0xb61)];}return(_0x5656bb['name']||'')[_0x23d727(0x390)](_0xa9d1c['name']||'','th');});let _0x60af13=0x1;for(let _0x4fd02d=0x0;_0x4fd02d<_0x5be7b7[_0x3e115c(0xe84)];_0x4fd02d++){if(_0x4fd02d>0x0){const _0x4559da=_0x5be7b7[_0x4fd02d-0x1],_0x591062=_0x5be7b7[_0x4fd02d],_0x89c3e7=_0x591062[_0x3e115c(0xb1e)]===_0x4559da[_0x3e115c(0xb1e)]&&_0x591062[_0x3e115c(0xb61)]===_0x4559da[_0x3e115c(0xb61)];if(!_0x89c3e7)_0x60af13=_0x4fd02d+0x1;}_0x5be7b7[_0x4fd02d][_0x3e115c(0xe96)]=_0x60af13;}let _0x134bd4=_0x5be7b7[_0x3e115c(0x5f5)](_0x1dc69a=>localTeamPlayers[_0x3e115c(0xecb)](_0x1dc69a['name'])),_0x341d90='';const _0x150712=_0x3de19e?_0x19fd3b>=_0x11ca42['length']-0x1:_0x50d0ff[_0x3e115c(0x7d8)]>=_0x11ca42[_0x3e115c(0xe84)]-0x1;if(_0x50d0ff['status']===_0x3e115c(0x4da))_0x341d90='';else _0x150712?_0x341d90=_0x3e115c(0xe59):_0x341d90=_0x3e115c(0x454);const _0x12aba2=_0x3e115c(0x949)+_0x134bd4[_0x3e115c(0x643)](_0x37adee=>{const _0x4cefc5=_0x3e115c;let _0x531a17=_0x4cefc5(0x85a);const _0x3085e9=(_0x37adee[_0x4cefc5(0x91f)]||[])[_0x4cefc5(0xb46)](_0x13b81c=>_0x13b81c[_0x4cefc5(0xa40)]===_0x8dd028);let _0x261e1f='';if(_0x3085e9){if(_0x3085e9[_0x4cefc5(0x442)])_0x261e1f+=_0x4cefc5(0x531);if(_0x3085e9['wasJinxed'])_0x261e1f+=_0x4cefc5(0x631);if(_0x3085e9[_0x4cefc5(0xe16)])_0x261e1f+=_0x4cefc5(0xb94);const _0x20b695=_0x3085e9[_0x4cefc5(0x47a)];if(_0x20b695){const _0x1c8c9f={'poll':'📊','cutOne':'✂️','insurance':_0x4cefc5(0x439),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x4cefc5(0x53b)};if(_0x1c8c9f[_0x20b695])_0x261e1f+=_0x4cefc5(0x2e1)+_0x20b695+'\x22>'+_0x1c8c9f[_0x20b695]+_0x4cefc5(0x8e8);}}if(_0x3085e9){const _0x5edbaa=_0x3085e9[_0x4cefc5(0x1ce)],_0x1f97dd=_0x3085e9[_0x4cefc5(0xf12)]===!![]||_0x3085e9[_0x4cefc5(0xf12)]===_0x4cefc5(0x4b9),_0x1aacef=_0x3085e9[_0x4cefc5(0x47a)];if(_0x1aacef===_0x4cefc5(0x344))_0x531a17=_0x5edbaa?_0x4cefc5(0xe4b):'bg-red-700\x20text-white\x20font-bold';else{if(_0x1f97dd)_0x531a17=_0x5edbaa?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x4cefc5(0x2cb);else _0x5edbaa?_0x531a17=_0x4cefc5(0x9f0):_0x531a17=_0x4cefc5(0xa14);}}let _0x1d5161='';_0x3085e9&&_0x3085e9['powerupUsed']==='wagerMultiplier'&&!_0x3085e9['isCorrect']&&(_0x1d5161=_0x4cefc5(0xc58));const _0x11d555=_0x37adee[_0x4cefc5(0xb1e)]>=0x0?'(+'+_0x37adee['totalPoints']['toLocaleString']()+')':'('+_0x37adee[_0x4cefc5(0xb1e)][_0x4cefc5(0x901)]()+')';let _0x2914a0='';const _0x4b1418=_0x37adee[_0x4cefc5(0x91f)][_0x4cefc5(0xe84)],_0x2a8b04=_0x19fd3b+0x1;if(_0x4b1418>0x0){if(_0x3fd945){if(_0x37adee[_0x4cefc5(0xb1e)]===_0xdd203b&&_0xdd203b>0x0)_0x2914a0+=_0x4cefc5(0x1dc);if(_0x37adee[_0x4cefc5(0xb61)]===_0x502413&&_0x502413>0x0)_0x2914a0+=_0x4cefc5(0x7e5);}else{if(_0x37adee[_0x4cefc5(0xb61)]===_0x2a8b04)_0x2914a0+=_0x4cefc5(0xd7e);}const _0xf100d3=_0x2914a0[_0x4cefc5(0xecb)]('👑')||_0x2914a0[_0x4cefc5(0xecb)]('🎓')||_0x2914a0[_0x4cefc5(0xecb)]('⭐');if(!_0xf100d3&&_0x37adee[_0x4cefc5(0xb1e)]<0x0)_0x2914a0+=_0x4cefc5(0xe89);}let _0x305845='';const _0x362d43=_0x3085e9&&_0x3085e9['usedBuyTime'],_0x510602=_0x3085e9&&_0x3085e9['powerupUsed']&&_0x3085e9[_0x4cefc5(0x47a)]!==_0x4cefc5(0x344);if(!_0x362d43&&!_0x510602){const _0x339515=_0x37adee[_0x4cefc5(0xb64)]||0x0;_0x339515>=0x3&&(_0x305845=_0x4cefc5(0xcbb)+_0x339515+_0x4cefc5(0x8e8));}return _0x4cefc5(0xe34)+_0x531a17+'\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37adee[_0x4cefc5(0xe96)]+_0x4cefc5(0x456)+_0x37adee[_0x4cefc5(0x77f)]+_0x4cefc5(0x4a7)+_0x261e1f+'\x20'+_0x2914a0+'\x20'+_0x305845+_0x4cefc5(0x61f)+_0x37adee[_0x4cefc5(0xb61)]+_0x4cefc5(0x823)+_0x11d555+_0x4cefc5(0x31c)+_0x1d5161+_0x4cefc5(0x900);})[_0x3e115c(0x87d)]('')+_0x3e115c(0x7f4)+_0x341d90+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3e115c(0xd04)]=_0x12aba2;}function renderStudentAnonymousResultsView(_0x1e1f98,_0x13b743){const _0x5991f1=_0x3d653b;let _0x3374eb=[];_0x1e1f98[_0x5991f1(0xc21)]?_0x3374eb=_0x1e1f98[_0x5991f1(0xc21)]:_0x3374eb=Object[_0x5991f1(0xf02)](_0x1e1f98[_0x5991f1(0xe24)]||{});const _0x4388e8=_0x1e1f98['gameVariant']||'classic',_0x13752b=_0x4388e8===_0x5991f1(0xacc)||_0x4388e8===_0x5991f1(0xf29),_0x52d784=_0x1e1f98['isAnonymousRevealed']===!![],_0x696e66=_0x1e1f98[_0x5991f1(0xeb4)][_0x5991f1(0xaff)],_0xbe448d=_0x13752b&&_0x1e1f98[_0x5991f1(0x92d)]!==undefined?_0x1e1f98[_0x5991f1(0x92d)]:_0x13b743,_0x4a6a60=_0x3374eb[_0x5991f1(0x643)](_0x587c37=>{const _0x4a7cfb=_0x5991f1,_0x1a2f9c=(_0x587c37[_0x4a7cfb(0x91f)]||[])['filter'](_0x217578=>_0x217578['questionIndex']<=_0xbe448d);let _0x3fb45d=0x0,_0x4642ad=0x0;_0x13752b?(_0x3fb45d=_0x1a2f9c['filter'](_0x14dea0=>_0x14dea0['isCorrect'])[_0x4a7cfb(0xe84)],_0x4642ad=_0x1a2f9c[_0x4a7cfb(0x1eb)]((_0x75e564,_0x43e7fd)=>_0x75e564+(_0x43e7fd['pointsAwarded']||0x0),0x0)):(_0x3fb45d=_0x587c37[_0x4a7cfb(0x5e3)]||0x0,_0x4642ad=_0x587c37[_0x4a7cfb(0xb1e)]||0x0);const _0x26fda8=[..._0x1a2f9c][_0x4a7cfb(0xb9f)]((_0x416fd0,_0x14e8dc)=>_0x416fd0[_0x4a7cfb(0xa40)]-_0x14e8dc['questionIndex']);let _0x24b17b=0x0;return _0x26fda8['forEach'](_0x2fc071=>{const _0x3f6058=_0x4a7cfb,_0x50851d=_0x2fc071['powerupUsed']&&_0x2fc071[_0x3f6058(0x47a)]!=='wagerMultiplier'||_0x2fc071[_0x3f6058(0xe16)];_0x2fc071[_0x3f6058(0x1ce)]?_0x24b17b=_0x50851d?0x0:_0x24b17b+0x1:_0x24b17b=0x0;}),{..._0x587c37,'realScore':_0x3fb45d,'totalPoints':_0x4642ad,'answers':_0x1a2f9c,'correctStreak':_0x24b17b};}),_0x18fb7e=Math['max'](..._0x4a6a60[_0x5991f1(0x643)](_0x248bf9=>_0x248bf9['totalPoints']),-Infinity),_0x2059c8=Math['max'](..._0x4a6a60[_0x5991f1(0x643)](_0x201794=>_0x201794['realScore']),-Infinity),_0x17f5b1=_0x1e1f98[_0x5991f1(0xceb)]===!![],_0x366483=[..._0x4a6a60][_0x5991f1(0xb9f)]((_0x5e3ac0,_0x194194)=>{const _0xf3ad4f=_0x5991f1;if(_0x17f5b1){if(_0x194194[_0xf3ad4f(0xb1e)]!==_0x5e3ac0['totalPoints'])return _0x194194['totalPoints']-_0x5e3ac0[_0xf3ad4f(0xb1e)];if(_0x194194[_0xf3ad4f(0xb61)]!==_0x5e3ac0[_0xf3ad4f(0xb61)])return _0x194194[_0xf3ad4f(0xb61)]-_0x5e3ac0['realScore'];}else{if(_0x194194['totalPoints']!==_0x5e3ac0[_0xf3ad4f(0xb1e)])return _0x194194[_0xf3ad4f(0xb1e)]-_0x5e3ac0['totalPoints'];if(_0x194194[_0xf3ad4f(0xb61)]!==_0x5e3ac0[_0xf3ad4f(0xb61)])return _0x194194[_0xf3ad4f(0xb61)]-_0x5e3ac0[_0xf3ad4f(0xb61)];}return(_0x5e3ac0[_0xf3ad4f(0x77f)]||'')['localeCompare'](_0x194194[_0xf3ad4f(0x77f)]||'','th');});let _0x326929=0x1;for(let _0x191139=0x0;_0x191139<_0x366483[_0x5991f1(0xe84)];_0x191139++){if(_0x191139>0x0){const _0xa3c1aa=_0x366483[_0x191139-0x1],_0x41063d=_0x366483[_0x191139],_0x29ed69=_0x41063d[_0x5991f1(0xb1e)]===_0xa3c1aa[_0x5991f1(0xb1e)]&&_0x41063d[_0x5991f1(0xb61)]===_0xa3c1aa[_0x5991f1(0xb61)];if(!_0x29ed69)_0x326929=_0x191139+0x1;}_0x366483[_0x191139][_0x5991f1(0xe96)]=_0x326929;}let _0x397d0b=null;const _0x46d572=_0x366483[_0x5991f1(0x5f5)](_0x2c3621=>localTeamPlayers[_0x5991f1(0xecb)](_0x2c3621[_0x5991f1(0x77f)]));_0x397d0b=_0x46d572[_0x5991f1(0xe84)]>0x0?_0x46d572[0x0]:null;if(!_0x397d0b){liveGameView[_0x5991f1(0xd04)]=_0x5991f1(0x16c);return;}const _0x3b4691=_0x17f5b1?_0x397d0b[_0x5991f1(0xb1e)]:_0x397d0b[_0x5991f1(0xb1e)],_0x2c1040=_0xbe448d+0x1,_0xd4a4b5=_0x366483['map'](_0x33825b=>{const _0x596673=_0x5991f1,_0x401e67=_0x33825b['realScore'],_0x229a5e=_0x33825b[_0x596673(0xb1e)],_0xfca220=(_0x33825b[_0x596673(0x91f)]||[])[_0x596673(0xb46)](_0x106362=>_0x106362[_0x596673(0xa40)]===_0xbe448d);let _0x35a67e='';if(_0xfca220){if(_0xfca220['wasForced'])_0x35a67e+=_0x596673(0x578);if(_0xfca220[_0x596673(0xeb5)])_0x35a67e+=_0x596673(0x27d);if(_0xfca220['usedBuyTime'])_0x35a67e+=_0x596673(0x611);const _0x41a8df=_0xfca220[_0x596673(0x47a)];if(_0x41a8df){const _0x84869a={'poll':'📊','cutOne':'✂️','insurance':_0x596673(0x439),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':'👁️'};if(_0x84869a[_0x41a8df])_0x35a67e+=_0x596673(0x85c)+_0x84869a[_0x41a8df]+_0x596673(0x8e8);}}let _0x59b8c5='';if(_0x2c1040>0x0){if(_0x17f5b1){if(_0x229a5e===_0x18fb7e&&_0x18fb7e>0x0)_0x59b8c5+=_0x596673(0xa96);if(_0x401e67===_0x2059c8&&_0x2059c8>0x0)_0x59b8c5+=_0x596673(0xdc4);}else{const _0x2a2269=_0x33825b['realScore']===_0x2c1040&&_0x2c1040>0x0;if(_0x2a2269)_0x59b8c5=_0x596673(0x5b0);}if(_0x59b8c5===''&&_0x229a5e<0x0)_0x59b8c5=_0x596673(0x435);}let _0x2f8e38='';const _0x3f11a1=_0xfca220&&_0xfca220[_0x596673(0xe16)],_0x457834=_0xfca220&&_0xfca220[_0x596673(0x47a)]&&_0xfca220[_0x596673(0x47a)]!=='wagerMultiplier';if(!_0x3f11a1&&!_0x457834){const _0x2ee5c1=_0x33825b['correctStreak']||0x0;_0x2ee5c1>=0x3&&(_0x2f8e38=_0x596673(0xd83)+_0x2ee5c1+_0x596673(0x8e8));}let _0x53ce31=_0x596673(0x6f2),_0x1d8df4=![];if(_0xfca220){const _0x442d44=_0xfca220['isCorrect'],_0x4ec5f5=_0xfca220[_0x596673(0xf12)]===!![]||_0xfca220['wasConfident']===_0x596673(0x4b9),_0x36ae64=_0xfca220[_0x596673(0x47a)];if(_0x36ae64==='wagerMultiplier')_0x442d44?(_0x53ce31=_0x596673(0xe4b),_0x1d8df4=!![]):_0x53ce31=_0x596673(0xc13);else{if(_0x4ec5f5)_0x53ce31=_0x442d44?_0x596673(0xc8c):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x442d44&&(_0x53ce31='bg-[#DCFCE7]\x20text-green-900');}}let _0x278002='';const _0x2b3954=_0x33825b['name'],_0x4483ce=_0x1e1f98[_0x596673(0x7d7)][_0x33825b['name']]||_0x596673(0x679),_0x1143da=_0x596673(0xd40),_0x40500f='word-break:\x20break-all;',_0x57bc2c=localTeamPlayers[_0x596673(0xecb)](_0x2b3954),_0x558379=_0x1d8df4?_0x596673(0x582):_0x596673(0x2c6),_0x3e2f15=_0x17f5b1?_0x33825b['totalPoints']:_0x33825b[_0x596673(0xb1e)],_0x22fe79=_0x52d784||_0x57bc2c||_0x3b4691>_0x3e2f15;_0x22fe79?_0x278002='<div\x20style=\x22'+_0x1143da+_0x596673(0x260)+_0x2b3954+'\x20('+_0x4483ce+_0x596673(0xd2e)+_0x40500f+'\x22>'+_0x2b3954+_0x596673(0xbe7)+_0x35a67e+'\x20'+_0x59b8c5+'\x20'+_0x2f8e38+'<span\x20class=\x22block\x20text-sm\x20'+_0x558379+_0x596673(0xc9c)+_0x40500f+_0x596673(0x726)+_0x4483ce+_0x596673(0x299):_0x278002=_0x596673(0xa76)+_0x1143da+_0x596673(0x260)+_0x4483ce+_0x596673(0x3cd)+_0x40500f+'\x22>'+_0x4483ce+_0x596673(0xbe7)+_0x35a67e+'\x20'+_0x59b8c5+'\x20'+_0x2f8e38+_0x596673(0xe78);_0x57bc2c&&(_0x278002='<div\x20class=\x22flex\x20items-center\x20gap-2\x22>'+_0x278002+_0x596673(0xc50));const _0x4efad6=_0x229a5e>=0x0?'(+'+_0x229a5e[_0x596673(0x901)]()+')':'('+_0x229a5e[_0x596673(0x901)]()+')',_0x1850a3=_0x596673(0xe41)+_0x401e67+_0x596673(0x59b)+_0x4efad6+_0x596673(0x8e8);return _0x596673(0x677)+_0x53ce31+_0x596673(0x352)+_0x33825b[_0x596673(0xe96)]+_0x596673(0xd98)+_0x278002+_0x596673(0xb5b)+_0x1850a3+_0x596673(0xc6c);})[_0x5991f1(0x87d)]('');let _0x16e482='';const _0x560d92=_0x13752b?_0xbe448d>=_0x696e66['length']-0x1:_0x1e1f98[_0x5991f1(0x7d8)]>=_0x696e66[_0x5991f1(0xe84)]-0x1;if(_0x1e1f98[_0x5991f1(0x389)]===_0x5991f1(0x4da))_0x16e482='';else _0x560d92?_0x16e482=_0x5991f1(0xe59):_0x16e482=_0x5991f1(0x454);const _0x12c8be=_0x5991f1(0x991)+_0xd4a4b5+_0x5991f1(0xb6f)+_0x16e482+_0x5991f1(0xa7c);liveGameView['innerHTML']=_0x12c8be;}function renderStudentCompetitionResultsView(_0x4b46be,_0x515bba){const _0x59947e=_0x3d653b,_0x4ea177=Object['values'](_0x4b46be[_0x59947e(0xe24)]||{}),_0x5d948f=_0x515bba,_0x15c567=_0x4b46be[_0x59947e(0x839)]||_0x59947e(0x44f),_0x348b07=_0x4b46be[_0x59947e(0xeb4)]['questions'],_0x13bfde=_0x4ea177[_0x59947e(0x643)](_0x193b26=>{const _0x380c38=_0x59947e,_0x472d28=_0x193b26[_0x380c38(0x5e3)]||0x0,_0x25ab37=_0x193b26[_0x380c38(0xb1e)]||0x0,_0x445bb5=(_0x193b26[_0x380c38(0x91f)]||[])['filter'](_0x18be2b=>_0x15c567===_0x380c38(0xacc)?_0x18be2b['questionIndex']<=_0x5d948f:!![]);return{..._0x193b26,'realScore':_0x472d28,'totalPoints':_0x25ab37,'answers':_0x445bb5};}),_0xac84c3=_0x4b46be['isBlackMarketEnabled']===!![],_0xa7c32d=[..._0x13bfde][_0x59947e(0xb9f)]((_0x3b9603,_0x163b67)=>{const _0x2e284d=_0x59947e;if(_0xac84c3){const _0x3edd0d=_0x163b67[_0x2e284d(0xb61)]-_0x3b9603[_0x2e284d(0xb61)];if(_0x3edd0d!==0x0)return _0x3edd0d;const _0x301838=_0x163b67[_0x2e284d(0xb1e)]-_0x3b9603[_0x2e284d(0xb1e)];if(_0x301838!==0x0)return _0x301838;return(_0x3b9603[_0x2e284d(0x77f)]||'')[_0x2e284d(0x390)](_0x163b67[_0x2e284d(0x77f)]||'','th');}else{const _0x32278a=_0x163b67[_0x2e284d(0xb1e)]-_0x3b9603[_0x2e284d(0xb1e)];if(_0x32278a!==0x0)return _0x32278a;const _0xb36e67=_0x163b67['realScore']-_0x3b9603[_0x2e284d(0xb61)];if(_0xb36e67!==0x0)return _0xb36e67;return(_0x3b9603[_0x2e284d(0x77f)]||'')['localeCompare'](_0x163b67['name']||'','th');}}),_0x337b5f=_0xa7c32d[_0x59947e(0x643)]((_0x51b4e3,_0x4874db)=>{const _0xd099b6=_0x59947e,_0x29d4f6='';let _0x59f532='bg-black/20';const _0x39b11b=_0x51b4e3[_0xd099b6(0x77f)],_0x28e163='line-height:\x201.3;\x20min-width:\x200;',_0x3e28ca=_0xd099b6(0x321),_0xedf18f=_0xd099b6(0xa76)+_0x28e163+_0xd099b6(0x260)+_0x39b11b+'\x22><span\x20style=\x22'+_0x3e28ca+'\x22>'+_0x39b11b+_0xd099b6(0x8e8)+_0x29d4f6+_0xd099b6(0xe78),_0x5284be='';return _0xd099b6(0x677)+_0x59f532+_0xd099b6(0x352)+(_0x4874db+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0xedf18f+_0xd099b6(0xb5b)+_0x5284be+_0xd099b6(0xc6c);})[_0x59947e(0x87d)]('');let _0x2233bf='';const _0x18f00d=_0x15c567===_0x59947e(0xacc)?_0x4b46be[_0x59947e(0x92d)]>=_0x348b07[_0x59947e(0xe84)]-0x1:_0x4b46be[_0x59947e(0x7d8)]>=_0x348b07[_0x59947e(0xe84)]-0x1;_0x18f00d?_0x2233bf=_0x59947e(0xe59):_0x2233bf=_0x59947e(0x454);const _0x56eb50='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x337b5f+_0x59947e(0x690)+_0x2233bf+_0x59947e(0xa7c);liveGameView['innerHTML']=_0x56eb50;}function renderStudentSyncQuestionView(_0x4babef){const _0x369544=_0x3d653b;while(localPlayerTurnIndex<localTeamPlayers[_0x369544(0xe84)]&&_0x4babef[_0x369544(0xe24)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x369544(0xbb6)]===!![]){localPlayerTurnIndex++;}const _0x58f555=localTeamPlayers[localPlayerTurnIndex];if(!_0x58f555)return;const _0xb74e54=_0x4babef[_0x369544(0xe24)][_0x58f555],_0x4cc129=_0x4babef['currentQuestionIndex'],_0x2181f9=_0x4babef[_0x369544(0xeb4)][_0x369544(0xaff)]['length'],_0x5d3ef3=_0x4babef['shuffledQuiz'][_0x369544(0xaff)][_0x4cc129],_0x14909a=_0x5d3ef3[_0x369544(0xc4a)]||_0x4babef[_0x369544(0xeb4)][_0x369544(0xca5)];let _0x39226f='',_0x584ce4=![];const _0x58b0d1='powerupUsed_q'+_0x4cc129+'_p'+_0x58f555,_0x4ff6d0=sessionStorage[_0x369544(0xd6e)](_0x58b0d1),_0x185d7b=_0x4ff6d0===_0x369544(0x811),_0x3fef4e=_0x369544(0x585)+_0x4cc129+'_p'+_0x58f555,_0x3674bd=JSON[_0x369544(0xf2d)](sessionStorage['getItem'](_0x3fef4e)||'[]')[_0x369544(0x643)](String);if((_0x14909a===_0x369544(0x9d6)||_0x14909a===_0x369544(0x2fc))&&_0x185d7b&&_0x5d3ef3['options']&&_0x5d3ef3[_0x369544(0x802)][_0x369544(0xe84)]>0x0)_0x39226f=_0x5d3ef3[_0x369544(0x802)]['map']((_0x580039,_0x2dc930)=>{const _0x8a90=_0x369544;if(_0x3674bd[_0x8a90(0xecb)](String(_0x2dc930)))return'';return'<button\x20data-value=\x22'+_0x580039+_0x8a90(0xd6c)+_0x2dc930+_0x8a90(0x6f0)+_0x580039+_0x8a90(0xc45);})['join']('');else{if(_0x14909a===_0x369544(0x9d6)||_0x14909a===_0x369544(0x2fc)){_0x584ce4=!![];const _0x16526b=_0x5d3ef3[_0x369544(0x5b2)]&&/^-?[\d.,]+$/[_0x369544(0xe9d)](String(_0x5d3ef3[_0x369544(0x5b2)])['trim']());let _0x3fcfe9='';_0x16526b?_0x3fcfe9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3fcfe9=_0x369544(0xbaa),_0x39226f=_0x369544(0xb49)+_0x3fcfe9+_0x369544(0x64b);}else switch(_0x14909a){case _0x369544(0x80d):const _0x39f88f=_0x3674bd['includes']('0')?'':_0x369544(0xacd),_0xb38b49=_0x3674bd[_0x369544(0xecb)]('1')?'':_0x369544(0x7d1);_0x39226f=_0x39f88f+_0xb38b49;break;case'matching_item':_0x584ce4=!![],_0x39226f=_0x369544(0xaa7)+(_0x5d3ef3[_0x369544(0x1e4)]||[])[_0x369544(0x643)](_0x5289bf=>_0x369544(0x801)+_0x5289bf+'\x22>'+_0x5289bf+_0x369544(0xdea))[_0x369544(0x87d)]('')+_0x369544(0x6a1);break;case _0x369544(0xa08):default:_0x39226f=(_0x5d3ef3['options']||[])[_0x369544(0x643)]((_0x2ea13c,_0xe5947f)=>{const _0x5b60cd=_0x369544;if(_0x3674bd[_0x5b60cd(0xecb)](String(_0xe5947f)))return'';return'<button\x20data-value=\x22'+_0xe5947f+_0x5b60cd(0xd6c)+_0xe5947f+_0x5b60cd(0xcb4)+_0x2ea13c+_0x5b60cd(0xc45);})[_0x369544(0x87d)]('');break;}}let _0x41cad5='';_0x4babef[_0x369544(0xc34)]===_0x369544(0x241)&&(_0x41cad5=_0x369544(0x3a1)+_0x4babef[_0x369544(0xbc8)]+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x197235='';const _0x140317=_0x4babef[_0x369544(0x839)]||_0x369544(0x44f),_0x1a9e5e=[_0x369544(0xacc),'anonymous_reveal_end','competition']['includes'](_0x140317);if(_0x4babef[_0x369544(0xceb)]===!![]){if(_0x1a9e5e)!_0x4ff6d0&&(_0x197235='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');else{const _0x33ff56=_0xb74e54['totalPoints']||0x0,_0x174641=_0xb74e54[_0x369544(0xcc5)]||{},_0x560149=[_0x174641['buyTime']>0x0?_0x369544(0x3d9)+_0x174641['buyTime']+')</button>':'',_0x174641[_0x369544(0x811)]>0x0?_0x369544(0x9ad)+_0x174641[_0x369544(0x811)]+_0x369544(0x45d):'',_0x174641[_0x369544(0x384)]>0x0?_0x369544(0x7dc)+_0x174641['cutOne']+_0x369544(0x45d):'',_0x174641['insurance']>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20('+_0x174641['insurance']+')</button>':'',_0x174641[_0x369544(0xddf)]>0x0?_0x369544(0x35e)+_0x174641[_0x369544(0xddf)]+_0x369544(0x45d):'',_0x174641[_0x369544(0x407)]>0x0?'<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20('+_0x174641['secondChance']+_0x369544(0x45d):'']['filter'](Boolean)[_0x369544(0x87d)]('\x20'),_0x45035c=_0x369544(0xd30)+_0x4cc129+'_p'+_0x58f555,_0x208dc9=sessionStorage[_0x369544(0xd6e)](_0x45035c)===_0x369544(0xa82),_0x4ed2d8=_0x33ff56>0x0&&(!_0x208dc9||_0x33ff56>=0x1),_0x68c3bd=_0x33ff56===0x0?_0x369544(0x977):_0x208dc9?_0x369544(0xb5a):_0x369544(0x2bf)+_0x33ff56+_0x369544(0x983),_0x206acf=_0x4ed2d8?_0x369544(0x204):_0x369544(0xc61),_0x290dca=_0x4ed2d8?'':_0x369544(0xeee);let _0x58297f='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x206acf+_0x369544(0xab7)+_0x290dca+_0x369544(0x96d)+_0x68c3bd+_0x369544(0xc45);if(!_0x4ff6d0){const _0x4dd83d=_0x33ff56>0x0,_0x46be46=_0x4dd83d?_0x369544(0x615):_0x369544(0x5e0),_0x2557f4=_0x4dd83d?'bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1':'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x1221e8=_0x4dd83d?'':_0x369544(0xeee);_0x58297f+=_0x369544(0x6ce)+_0x46be46+_0x369544(0xcc3)+_0x1221e8+_0x369544(0x366)+_0x2557f4+_0x369544(0xcc3)+_0x1221e8+_0x369544(0xace);}_0x197235='<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>'+_0x58297f+'</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>'+(_0x560149||'')+'</div></div>';}}let _0x11b0e9='';_0xb74e54['isJinxed']&&(_0x11b0e9+=_0x369544(0x760));_0xb74e54[_0x369544(0xe88)]&&(_0x11b0e9+=_0x369544(0x8f3));(_0xb74e54['timeBonusThisQuestion']||0x0)>0x0&&(_0x11b0e9+=_0x369544(0xd41));if(_0x4ff6d0){if(_0x4ff6d0===_0x369544(0x344)){const _0xdc56b9=_0x1a9e5e?_0x369544(0x58b):_0x369544(0xed1);_0x11b0e9+=_0x369544(0xd4f)+_0xdc56b9+_0x369544(0x432);}else{if(_0x4ff6d0===_0x369544(0x384))_0x11b0e9+=_0x369544(0xbdb);else{if(_0x4ff6d0===_0x369544(0xddf))_0x11b0e9+=_0x369544(0xec8);else{if(_0x4ff6d0===_0x369544(0x407))_0x11b0e9+=_0x369544(0x8a7);else{if(_0x4ff6d0==='revealOptions')_0x11b0e9+=_0x369544(0xc38);else _0x4ff6d0===_0x369544(0xda2)?_0x11b0e9+=_0x369544(0x1da):_0x11b0e9+=_0x369544(0x17b)+_0x4ff6d0+'\x20ทำงานอยู่!</div>';}}}}}let _0x397916='';if(!_0x1a9e5e){const _0x16cbf7=_0xb74e54[_0x369544(0xb64)]||0x0;if(_0x16cbf7>=0x3)_0x397916=_0x369544(0x5cf)+_0x16cbf7+_0x369544(0x5c1);else _0x16cbf7>0x0&&(_0x397916=_0x369544(0x60c)+_0x16cbf7+_0x369544(0x49b));}liveGameView[_0x369544(0xd04)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x4cc129+0x1)+_0x369544(0x490)+_0x2181f9+_0x369544(0xa53)+_0x58f555+_0x369544(0x3b3)+_0x397916+_0x369544(0x2e0)+_0x41cad5+_0x369544(0x2e0)+_0x197235+_0x369544(0x808)+_0x11b0e9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x5d3ef3['questionText']||_0x5d3ef3[_0x369544(0x3bf)])+_0x369544(0x8cb)+_0x39226f+_0x369544(0xc0a);if(window[_0x369544(0x348)])MathJax[_0x369544(0x7e6)]();function _0x1b866d(_0x14da2f,_0x2630eb,_0x56358e,_0x4e4a76){const _0x44ec94=_0x369544,_0x383acd=_0x56358e['isConfidenceScoringEnabled']===!![],_0x4dbb92=_0x56358e['currentQuestionIndex'],_0x522370=_0x44ec94(0x780)+_0x4dbb92+'_p'+_0x4e4a76,_0x3d1ebc=sessionStorage[_0x44ec94(0xd6e)](_0x522370),_0x28f4f4=_0x3d1ebc===_0x44ec94(0x344),_0xc7d8a7=_0x56358e[_0x44ec94(0xe24)][_0x4e4a76];if(_0x28f4f4){const _0x33de48=sessionStorage[_0x44ec94(0xd6e)](_0x44ec94(0x28a))===_0x44ec94(0xa82);if(_0x1a9e5e||_0x33de48){const _0xd4f38c=_0xc7d8a7['totalPoints']||0x0;sessionStorage[_0x44ec94(0x42c)](_0x44ec94(0x28a)),handleSyncAnswerSubmit(_0x14da2f,_0x2630eb,_0x56358e,_0x4e4a76,![],_0xd4f38c);}else{const _0x3e5984=document[_0x44ec94(0xb29)]('wager-modal'),_0x21a4ff=document[_0x44ec94(0xb29)](_0x44ec94(0x880)),_0x40c125=document[_0x44ec94(0xb29)](_0x44ec94(0x685)),_0x3b788b=document['getElementById'](_0x44ec94(0xe7c)),_0x35e935=_0xc7d8a7[_0x44ec94(0xb1e)]||0x0;_0x21a4ff[_0x44ec94(0xd18)]=_0x35e935,_0x21a4ff[_0x44ec94(0xc4b)]=_0x35e935,_0x40c125['textContent']=_0x35e935,_0x3b788b[_0x44ec94(0x6ab)]=_0x35e935,_0x21a4ff['oninput']=()=>{const _0x31cca1=_0x44ec94;_0x40c125[_0x31cca1(0x6ab)]=_0x21a4ff[_0x31cca1(0xc4b)];};const _0x45334=document[_0x44ec94(0xb29)](_0x44ec94(0x2cf));_0x45334[_0x44ec94(0x63c)][_0x44ec94(0x2e9)]=_0x14da2f,_0x45334[_0x44ec94(0x63c)][_0x44ec94(0x92b)]=JSON[_0x44ec94(0x437)](_0x2630eb),_0x45334[_0x44ec94(0x63c)][_0x44ec94(0xccc)]=JSON[_0x44ec94(0x437)](_0x56358e),_0x45334[_0x44ec94(0x63c)]['playerName']=_0x4e4a76,_0x3e5984[_0x44ec94(0x26b)][_0x44ec94(0x937)](_0x44ec94(0x932));}}else{if(_0x383acd){document[_0x44ec94(0xb29)](_0x44ec94(0x361))[_0x44ec94(0x63c)]['currentMode']=_0x44ec94(0x41d);const _0x5509c8=document[_0x44ec94(0xb29)](_0x44ec94(0xbd0));_0x5509c8[_0x44ec94(0x63c)][_0x44ec94(0x2e9)]=_0x14da2f,_0x5509c8['dataset'][_0x44ec94(0x92b)]=JSON[_0x44ec94(0x437)](_0x2630eb),_0x5509c8[_0x44ec94(0x63c)][_0x44ec94(0xccc)]=JSON[_0x44ec94(0x437)](_0x56358e),_0x5509c8['dataset'][_0x44ec94(0x5a4)]=_0x4e4a76,document['getElementById']('confidence-modal')[_0x44ec94(0x26b)]['remove'](_0x44ec94(0x932));}else handleSyncAnswerSubmit(_0x14da2f,_0x2630eb,_0x56358e,_0x4e4a76,![],0x0);}}_0x584ce4?document[_0x369544(0xb29)](_0x369544(0x756))[_0x369544(0x652)](_0x369544(0xc7b),()=>{const _0x5897e8=_0x369544,_0x3efc31=document['getElementById'](_0x5897e8(0xe48))||document[_0x5897e8(0xb29)](_0x5897e8(0x64e));if(_0x3efc31[_0x5897e8(0xc4b)][_0x5897e8(0x46f)]()===''){showMessage(_0x5897e8(0xe68));return;}_0x1b866d(_0x3efc31[_0x5897e8(0xc4b)],_0x5d3ef3,_0x4babef,_0x58f555);}):document[_0x369544(0x948)](_0x369544(0x8ab))[_0x369544(0x57b)](_0x269bfe=>{const _0x463d58=_0x369544;_0x269bfe[_0x463d58(0x652)](_0x463d58(0xc7b),()=>{const _0xde0d64=_0x463d58;_0x1b866d(_0x269bfe[_0xde0d64(0x63c)][_0xde0d64(0xc4b)],_0x5d3ef3,_0x4babef,_0x58f555);});});if(_0x4babef[_0x369544(0xceb)]===!![]){if(!_0x1a9e5e){const _0xf9e042=document['getElementById']('open-market-btn');_0xf9e042&&_0xf9e042[_0x369544(0x652)](_0x369544(0xc7b),()=>{const _0x5afd35=_0x369544,_0x3eba90=_0x5afd35(0xd30)+_0x4cc129+'_p'+_0x58f555,_0x229efe=sessionStorage[_0x5afd35(0xd6e)](_0x3eba90)===_0x5afd35(0xa82);if(!_0x229efe)openBlackMarket(_0x4babef,_0xb74e54),sessionStorage[_0x5afd35(0xef3)](_0x3eba90,'true'),renderStudentSyncQuestionView(_0x4babef);else{if(_0xb74e54[_0x5afd35(0xb1e)]<0x1){showMessage(_0x5afd35(0x297));return;}showConfirmation(_0x5afd35(0x86d),()=>{handlePayForMarketEntry(_0x58f555,_0x4babef,_0xb74e54);});}}),document['getElementById'](_0x369544(0xda4))?.[_0x369544(0x652)]('click',_0x4287f0=>{const _0x3fa27f=_0x369544;_0x4287f0[_0x3fa27f(0xadf)][_0x3fa27f(0xeee)]=!![],handleUsePowerup(_0x58f555,'buyTime',_0x5d3ef3,_0x4babef,_0xb74e54);}),document['getElementById'](_0x369544(0x7ff))?.[_0x369544(0x652)](_0x369544(0xc7b),_0xe0f8b=>{const _0x1be487=_0x369544;_0xe0f8b[_0x1be487(0xadf)][_0x1be487(0xeee)]=!![],handleUsePowerup(_0x58f555,'cutOne',_0x5d3ef3,_0x4babef,_0xb74e54);}),document[_0x369544(0xb29)](_0x369544(0x794))?.[_0x369544(0x652)](_0x369544(0xc7b),_0x462b82=>{const _0x1f9751=_0x369544;_0x462b82[_0x1f9751(0xadf)][_0x1f9751(0xeee)]=!![],handleUsePowerup(_0x58f555,_0x1f9751(0xda2),_0x5d3ef3,_0x4babef,_0xb74e54);}),document[_0x369544(0xb29)](_0x369544(0x6b4))?.[_0x369544(0x652)]('click',_0x25406a=>{const _0x34f980=_0x369544;_0x25406a[_0x34f980(0xadf)][_0x34f980(0xeee)]=!![],handleUsePowerup(_0x58f555,_0x34f980(0xddf),_0x5d3ef3,_0x4babef,_0xb74e54);}),document[_0x369544(0xb29)](_0x369544(0xeb9))?.['addEventListener'](_0x369544(0xc7b),_0x1508b0=>{const _0x391040=_0x369544;_0x1508b0[_0x391040(0xadf)][_0x391040(0xeee)]=!![],handleUsePowerup(_0x58f555,'secondChance',_0x5d3ef3,_0x4babef,_0xb74e54);}),document[_0x369544(0xb29)](_0x369544(0x4e6))?.['addEventListener'](_0x369544(0xc7b),_0x2dd05=>{const _0x2912d1=_0x369544;_0x2dd05[_0x2912d1(0xadf)][_0x2912d1(0xeee)]=!![],handleUsePowerup(_0x58f555,_0x2912d1(0x811),_0x5d3ef3,_0x4babef,_0xb74e54);}),document[_0x369544(0xb29)](_0x369544(0xaf8))?.[_0x369544(0x652)](_0x369544(0xc7b),_0x1a0807=>{const _0x124642=_0x369544;_0x1a0807[_0x124642(0xadf)][_0x124642(0xeee)]=!![],sessionStorage[_0x124642(0xef3)](_0x124642(0x28a),'false'),handleUsePowerup(_0x58f555,_0x124642(0x344),_0x5d3ef3,_0x4babef,_0xb74e54);});}document[_0x369544(0xb29)](_0x369544(0xd65))?.['addEventListener'](_0x369544(0xc7b),_0x50e72e=>{const _0x23e475=_0x369544;_0x50e72e[_0x23e475(0xadf)][_0x23e475(0xeee)]=!![],sessionStorage[_0x23e475(0xef3)](_0x23e475(0x28a),_0x23e475(0xa82)),handleUsePowerup(_0x58f555,'wagerMultiplier',_0x5d3ef3,_0x4babef,_0xb74e54);});}}async function handleSyncAnswerSubmit(_0xf1083f,_0x5d1ff5,_0x2b7169,_0x255849,_0x1fe161,_0x1bf18b=0x0){const _0x423943=_0x3d653b;document['querySelectorAll'](_0x423943(0xbbf))[_0x423943(0x57b)](_0x49ea94=>_0x49ea94[_0x423943(0xeee)]=!![]);const _0x54af64=_0x2b7169[_0x423943(0x7d8)],_0x166c09=_0x423943(0x780)+_0x54af64+'_p'+_0x255849,_0x4fccfd=sessionStorage[_0x423943(0xd6e)](_0x166c09),_0x2ec809=_0x2b7169[_0x423943(0xe24)][_0x255849]||{},_0x3f11dd=_0x2ec809[_0x423943(0xe88)]===!![],_0x1b7833=sessionStorage['getItem']('onSecondChance')===_0x423943(0xa82);let _0x409736=_0x2ec809[_0x423943(0xb64)]||0x0;_0x4fccfd&&_0x4fccfd!==_0x423943(0x344)&&(_0x409736=0x0);const _0x1d4a8d=_0x409736>=0x3,_0x4dae23=_0x5d1ff5[_0x423943(0xc4a)]||_0x2b7169[_0x423943(0xeb4)][_0x423943(0xca5)];let _0x468a06=![],_0x43043e=_0xf1083f;switch(_0x4dae23){case'true_false':const _0x327ce6=parseInt(_0xf1083f),_0x941387=_0x5d1ff5['correctAnswer']===!![]||String(_0x5d1ff5['correctAnswer'])[_0x423943(0xa99)]()==='true';_0x468a06=_0x327ce6===0x0&&_0x941387||_0x327ce6===0x1&&!_0x941387,_0x43043e=_0x327ce6===0x0?_0x423943(0x826):_0x423943(0x94c);break;case _0x423943(0x9d6):case _0x423943(0x2fc):_0x468a06=await gradeShortAnswer(_0xf1083f,_0x5d1ff5);break;case'matching_item':_0x468a06=_0xf1083f===_0x5d1ff5[_0x423943(0x500)];break;case _0x423943(0xa08):default:const _0x3c89ea=parseInt(_0xf1083f);_0x468a06=_0x3c89ea===_0x5d1ff5[_0x423943(0x857)];_0x5d1ff5['options']&&_0x5d1ff5[_0x423943(0x802)][_0x3c89ea]&&(_0x43043e=_0x5d1ff5['options'][_0x3c89ea]);break;}if(!_0x468a06&&_0x4fccfd===_0x423943(0x407)&&!_0x1b7833){sessionStorage[_0x423943(0x42c)](_0x166c09),sessionStorage[_0x423943(0xef3)](_0x423943(0xc80),_0x423943(0xa82)),showMessage('คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง'),document['querySelectorAll'](_0x423943(0xbbf))[_0x423943(0x57b)](_0x6ed791=>{const _0x3e8a01=_0x423943;if(!_0x6ed791[_0x3e8a01(0x26b)][_0x3e8a01(0xa4c)](_0x3e8a01(0x932)))_0x6ed791[_0x3e8a01(0xeee)]=![];});return;}let _0x27616c=0x0;const _0x5e22d8=_0x4fccfd==='wagerMultiplier',_0x80933=_0x4fccfd===_0x423943(0xda2),_0x5bf00a=sessionStorage[_0x423943(0xd6e)](_0x423943(0xea7))===_0x423943(0xa82),_0x982467=_0x2ec809['isJinxed']===!![];if(_0x5e22d8){const _0x5bcb54=parseInt(_0x1bf18b,0xa)||0x0;_0x27616c=_0x468a06?_0x5bcb54*0x2:-_0x5bcb54;}else{if(_0x5bf00a&&!_0x468a06)_0x27616c=_0x1fe161===!![]||_0x1fe161===_0x423943(0x4b9)||_0x3f11dd?-0x4:-0x2;else{if(_0x3f11dd)_0x27616c=_0x468a06?0x2:-0x1;else{if(_0x2b7169[_0x423943(0x5f8)]){if(_0x468a06&&(_0x1fe161===!![]||_0x1fe161==='confident'))_0x27616c=0x2;else{if(_0x468a06)_0x27616c=0x1;else{if(!_0x468a06&&(_0x1fe161===![]||_0x1fe161===_0x423943(0x261)||_0x1fe161===null))_0x27616c=0x0;else{if(!_0x468a06&&(_0x1fe161===!![]||_0x1fe161===_0x423943(0x4b9)))_0x27616c=-0x1;}}}}else _0x27616c=_0x468a06?0x1:0x0;}}}_0x1d4a8d&&_0x27616c>0x0&&(_0x27616c*=0x2);if(_0x982467&&!_0x468a06&&_0x27616c<0x0)_0x27616c*=0x2;if(!_0x468a06&&_0x80933)_0x27616c=0x0;const _0x2f1977=(_0x2ec809[_0x423943(0x4e0)]||0x0)>0x0,_0x5706fd=_0x4fccfd&&_0x4fccfd!=='wagerMultiplier';let _0x543725=0x0;_0x468a06&&(_0x543725=_0x5706fd?0x0:_0x409736+0x1);const _0x4b474d={'questionIndex':_0x2b7169[_0x423943(0x7d8)],'questionId':_0x5d1ff5['id'],'answer':_0xf1083f,'answerText':_0x43043e,'isCorrect':_0x468a06,'originalQuestionText':_0x5d1ff5[_0x423943(0x4cd)]||_0x5d1ff5[_0x423943(0x3bf)],'wasConfident':_0x3f11dd?_0x423943(0x4b9):_0x1fe161||![],'pointsAwarded':_0x27616c,'powerupUsed':_0x4fccfd||null,'wasJinxed':_0x982467||![],'wasForced':_0x3f11dd||![],'usedPoll':_0x5bf00a||![],'usedBuyTime':_0x2f1977,'streakActive':_0x1d4a8d},_0x17908c=doc(db,_0x423943(0xc9f)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x423943(0x47b),_0x255849),_0x59ac51=_0x2ec809[_0x423943(0x91f)]||[],_0x47d9cd=_0x59ac51[_0x423943(0x5f5)](_0x5570c1=>_0x5570c1[_0x423943(0xa40)]!==_0x2b7169[_0x423943(0x7d8)]),_0x1cb594=[..._0x47d9cd,_0x4b474d],_0x3eaed3=_0x1cb594[_0x423943(0x5f5)](_0x23cb77=>_0x23cb77[_0x423943(0x1ce)])[_0x423943(0xe84)],_0x120866={'answers':_0x1cb594,'score':_0x3eaed3,'totalPoints':increment(_0x27616c),'answered':!![],'lastAnswerIndex':_0x4dae23==='multiple_choice'||_0x4dae23===_0x423943(0x80d)?parseInt(_0xf1083f):null,'lastAnswerValue':_0x43043e,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x543725};if(_0x1b7833)sessionStorage['removeItem'](_0x423943(0xc80));try{await updateDoc(_0x17908c,_0x120866);}catch(_0x14e8b8){console[_0x423943(0x3b5)](_0x423943(0xcba),_0x14e8b8),showMessage(_0x423943(0xcaa)),document['querySelectorAll'](_0x423943(0xbbf))['forEach'](_0xdc923c=>_0xdc923c[_0x423943(0xeee)]=![]);}}const allMarketItems=[{'id':_0x3d653b(0xa56),'name':_0x3d653b(0x9cf),'price':0x1,'desc':_0x3d653b(0x2f8)},{'id':_0x3d653b(0x384),'name':_0x3d653b(0x859),'price':0x2,'desc':_0x3d653b(0x285)},{'id':_0x3d653b(0xddf),'name':_0x3d653b(0xa5f),'price':0x5,'desc':_0x3d653b(0x303)},{'id':_0x3d653b(0x407),'name':_0x3d653b(0xa33),'price':0x7,'desc':_0x3d653b(0x8d8)},{'id':_0x3d653b(0x811),'name':_0x3d653b(0x52b),'price':0xc,'desc':_0x3d653b(0xbf8)}];function openBlackMarket(_0x272980,_0x121c4e){const _0x3ce6c5=_0x3d653b;let _0x143df2=null;const _0x845b2c=document['getElementById'](_0x3ce6c5(0x736)),_0xc73c21=document[_0x3ce6c5(0xb29)]('market-item-list'),_0x43b347=document[_0x3ce6c5(0xb29)](_0x3ce6c5(0x279)),_0x157d4c=document[_0x3ce6c5(0xb29)](_0x3ce6c5(0xa8d)),_0x34001a=_0x121c4e[_0x3ce6c5(0xb1e)]||0x0;_0x43b347[_0x3ce6c5(0x6ab)]=_0x34001a;const _0x1d8151=_0x272980[_0x3ce6c5(0x7d8)],_0x155083=_0x272980[_0x3ce6c5(0xeb4)][_0x3ce6c5(0xaff)][_0x1d8151],_0x48dc38=_0x155083['questionType']||_0x272980[_0x3ce6c5(0xeb4)][_0x3ce6c5(0xca5)],_0x5523fc=_0x272980[_0x3ce6c5(0xc34)]===_0x3ce6c5(0x241),_0x46b40f=allMarketItems;_0xc73c21[_0x3ce6c5(0xd04)]=_0x46b40f[_0x3ce6c5(0x643)](_0xd41b4c=>{const _0x23901c=_0x3ce6c5,_0x418b97=_0x34001a>=_0xd41b4c[_0x23901c(0x60e)];if(_0xd41b4c['id']===_0x23901c(0xa56)){const _0x231255=_0x418b97?Math[_0x23901c(0x6ae)](_0x34001a/_0xd41b4c[_0x23901c(0x60e)]):0x0,_0x1a74cb=_0x418b97&&_0x5523fc;let _0x41c87b='ซื้อ\x20('+_0xd41b4c[_0x23901c(0x60e)]+_0x23901c(0xa84),_0x2eb128=_0x1a74cb?_0x23901c(0x9e2):_0x23901c(0xd1a);return!_0x5523fc&&(_0x41c87b=_0x23901c(0x74b),_0x2eb128='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),_0x23901c(0x37a)+(!_0x1a74cb?'bg-gray-100\x20opacity-70':_0x23901c(0x6f3))+_0x23901c(0x682)+_0xd41b4c[_0x23901c(0x77f)]+_0x23901c(0xabd)+_0xd41b4c[_0x23901c(0x9e9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x231255+'\x22\x20'+(!_0x1a74cb?_0x23901c(0xeee):'')+_0x23901c(0x706)+_0x2eb128+_0x23901c(0xa8a)+_0xd41b4c['id']+_0x23901c(0x6f6)+_0xd41b4c[_0x23901c(0x60e)]+_0x23901c(0x965)+(!_0x1a74cb?'disabled':'')+_0x23901c(0xbdc)+_0x41c87b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{let _0x2d235b=!_0x418b97,_0x551485=_0x418b97?_0x23901c(0x9e2):_0x23901c(0xd1a),_0x12fbc8=_0x23901c(0x378)+_0xd41b4c[_0x23901c(0x60e)]+'P)';if(_0xd41b4c['id']==='revealOptions'){const _0x188eab=_0x155083[_0x23901c(0x802)]&&_0x155083[_0x23901c(0x802)][_0x23901c(0xe84)]>0x0,_0x149c3c=_0x48dc38===_0x23901c(0x9d6)||_0x48dc38===_0x23901c(0x2fc);(!_0x188eab||!_0x149c3c)&&(_0x2d235b=!![],_0x551485=_0x23901c(0xe2c),_0x12fbc8=_0x23901c(0x988));}if(_0xd41b4c['id']===_0x23901c(0x384)||_0xd41b4c['id']==='fiftyFifty'){const _0x1a575a=_0x48dc38===_0x23901c(0x9d6)||_0x48dc38==='fill_in_no_choices',_0x546b6f=_0x155083[_0x23901c(0x802)]&&_0x155083[_0x23901c(0x802)][_0x23901c(0xe84)]>0x0;(_0x1a575a||!_0x546b6f)&&(_0x2d235b=!![],_0x551485=_0x23901c(0xe2c),_0x12fbc8=_0x23901c(0x386));}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(_0x2d235b?_0x23901c(0xd2f):'bg-white')+_0x23901c(0x682)+_0xd41b4c[_0x23901c(0x77f)]+_0x23901c(0xabd)+_0xd41b4c[_0x23901c(0x9e9)]+_0x23901c(0x39f)+_0x551485+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0xd41b4c['id']+_0x23901c(0x664)+_0xd41b4c[_0x23901c(0x60e)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2d235b?_0x23901c(0xeee):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12fbc8+_0x23901c(0xc39);}})[_0x3ce6c5(0x87d)](''),_0x845b2c[_0x3ce6c5(0x26b)][_0x3ce6c5(0x937)](_0x3ce6c5(0x932)),_0x157d4c[_0x3ce6c5(0xa90)][_0x3ce6c5(0x6b3)]=_0x3ce6c5(0x1a6),_0x157d4c[_0x3ce6c5(0xa90)]['width']=_0x3ce6c5(0x7ba),setTimeout(()=>{const _0x3db051=_0x3ce6c5;_0x157d4c['style'][_0x3db051(0x6b3)]=_0x3db051(0x16a),_0x157d4c[_0x3db051(0xa90)][_0x3db051(0x9f6)]='0%';},0x32),_0x143df2=setTimeout(()=>{const _0x1f9234=_0x3ce6c5;_0x845b2c[_0x1f9234(0x26b)][_0x1f9234(0x224)](_0x1f9234(0x932));},0xea60),document['getElementById'](_0x3ce6c5(0xe1d))[_0x3ce6c5(0x675)]=()=>{const _0x352a4a=_0x3ce6c5;clearTimeout(_0x143df2),_0x845b2c[_0x352a4a(0x26b)][_0x352a4a(0x224)](_0x352a4a(0x932));},_0xc73c21[_0x3ce6c5(0x948)](_0x3ce6c5(0xb9d))['forEach'](_0x44b209=>{const _0x20e941=_0x3ce6c5;_0x44b209[_0x20e941(0x675)]=_0x25bc59=>{const _0x504bf2=_0x20e941,_0x55baa3=_0x25bc59[_0x504bf2(0xadf)][_0x504bf2(0x63c)][_0x504bf2(0x438)],_0x2dbe33=parseInt(_0x25bc59[_0x504bf2(0xadf)][_0x504bf2(0x63c)][_0x504bf2(0x60e)],0xa);clearTimeout(_0x143df2),_0x845b2c[_0x504bf2(0x26b)]['add'](_0x504bf2(0x932)),handleBuyItem(_0x121c4e['name'],_0x55baa3,_0x2dbe33,0x1);};}),_0xc73c21[_0x3ce6c5(0x948)](_0x3ce6c5(0xec5))[_0x3ce6c5(0x57b)](_0x3ab50a=>{const _0x2fdc73=_0x3ce6c5;_0x3ab50a[_0x2fdc73(0x675)]=_0x31356e=>{const _0x33e161=_0x2fdc73,_0x32e2de=_0x31356e[_0x33e161(0xadf)][_0x33e161(0x63c)][_0x33e161(0x438)],_0x567367=parseInt(_0x31356e['target'][_0x33e161(0x63c)][_0x33e161(0x60e)],0xa),_0x2e037d=document[_0x33e161(0xb29)](_0x33e161(0x84c)),_0x145398=parseInt(_0x2e037d['value'],0xa),_0x865d70=parseInt(_0x2e037d[_0x33e161(0xd18)],0xa);if(!_0x145398||_0x145398<0x1){showMessage(_0x33e161(0x34e));return;}if(_0x145398>_0x865d70){showMessage(_0x33e161(0x8ff)+_0x865d70+_0x33e161(0x1f5));return;}clearTimeout(_0x143df2),_0x845b2c[_0x33e161(0x26b)][_0x33e161(0x224)]('hidden'),handleBuyItem(_0x121c4e[_0x33e161(0x77f)],_0x32e2de,_0x567367,_0x145398);};});}async function handleBuyItem(_0x3f2eaa,_0x13e8fa,_0x4909d4,_0x2821cd=0x1){const _0x43e549=_0x3d653b,_0x914ca7=doc(db,_0x43e549(0xc9f)+appId+_0x43e549(0x855)+currentLiveGameId+_0x43e549(0x47b),_0x3f2eaa);try{await runTransaction(db,async _0x4ba78b=>{const _0x2b7751=_0x43e549,_0x28806a=await _0x4ba78b[_0x2b7751(0x6ee)](_0x914ca7);if(!_0x28806a['exists']())throw _0x2b7751(0x16f);const _0x325090=_0x28806a[_0x2b7751(0xcbd)]()[_0x2b7751(0xb1e)]||0x0,_0x5cae01=_0x4909d4*_0x2821cd;if(_0x325090<_0x5cae01)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x5529f3={};_0x5529f3[_0x2b7751(0xb1e)]=increment(-_0x5cae01),_0x5529f3[_0x2b7751(0x87f)+_0x13e8fa]=increment(_0x2821cd),_0x4ba78b[_0x2b7751(0x5c5)](_0x914ca7,_0x5529f3);}),showMessage(_0x43e549(0x604)+_0x13e8fa+'\x22\x20x'+_0x2821cd+_0x43e549(0x94f));}catch(_0x500442){console[_0x43e549(0x3b5)]('Buy\x20Item\x20failed:\x20',_0x500442),showMessage(typeof _0x500442===_0x43e549(0xad4)?_0x500442:_0x43e549(0xc2a));}}async function handlePayForMarketEntry(_0x6024ac,_0x55a008,_0x24c7b8){const _0x212da2=_0x3d653b,_0x5b9b21=doc(db,_0x212da2(0xc9f)+appId+_0x212da2(0x855)+currentLiveGameId+_0x212da2(0x47b),_0x6024ac);try{await runTransaction(db,async _0x44b3a4=>{const _0xcfa7cf=_0x212da2,_0x112805=await _0x44b3a4[_0xcfa7cf(0x6ee)](_0x5b9b21);if(!_0x112805['exists']())throw _0xcfa7cf(0x16f);const _0x291c92=_0x112805[_0xcfa7cf(0xcbd)]()[_0xcfa7cf(0xb1e)]||0x0;if(_0x291c92<0x1)throw _0xcfa7cf(0xd28);const _0x6dfde5={};_0x6dfde5[_0xcfa7cf(0xb1e)]=increment(-0x1),_0x44b3a4[_0xcfa7cf(0x5c5)](_0x5b9b21,_0x6dfde5);});const _0x14a6d0={..._0x24c7b8,'totalPoints':(_0x24c7b8[_0x212da2(0xb1e)]||0x0)-0x1};openBlackMarket(_0x55a008,_0x14a6d0);}catch(_0x16ca82){console[_0x212da2(0x3b5)](_0x212da2(0xbb9),_0x16ca82),showMessage(typeof _0x16ca82===_0x212da2(0xad4)?_0x16ca82:_0x212da2(0xb51));}}const audioCtx=new(window[(_0x3d653b(0xb91))]||window[(_0x3d653b(0xb3a))])();function playSystemSound(_0x3c4719){const _0x249704=_0x3d653b;if(audioCtx[_0x249704(0x912)]===_0x249704(0x647))audioCtx[_0x249704(0x1b3)]();const _0x1cc124=audioCtx[_0x249704(0x1ac)](),_0x33d6f0=audioCtx[_0x249704(0xc6e)]();_0x1cc124[_0x249704(0x73d)](_0x33d6f0),_0x33d6f0[_0x249704(0x73d)](audioCtx[_0x249704(0xd1f)]);const _0x51a02a=audioCtx[_0x249704(0x335)];if(_0x3c4719==='correct')_0x1cc124[_0x249704(0x596)]=_0x249704(0xcb8),_0x1cc124[_0x249704(0x380)][_0x249704(0x36e)](0x258,_0x51a02a),_0x1cc124[_0x249704(0x380)][_0x249704(0x731)](0x4b0,_0x51a02a+0.1),_0x33d6f0[_0x249704(0x44e)][_0x249704(0x36e)](0.1,_0x51a02a),_0x33d6f0['gain']['exponentialRampToValueAtTime'](0.01,_0x51a02a+0.5),_0x1cc124[_0x249704(0xf0c)](_0x51a02a),_0x1cc124[_0x249704(0xb53)](_0x51a02a+0.5);else{if(_0x3c4719===_0x249704(0x251))_0x1cc124[_0x249704(0x596)]=_0x249704(0x451),_0x1cc124[_0x249704(0x380)]['setValueAtTime'](0x96,_0x51a02a),_0x1cc124[_0x249704(0x380)][_0x249704(0x731)](0x64,_0x51a02a+0.2),_0x33d6f0[_0x249704(0x44e)][_0x249704(0x36e)](0.1,_0x51a02a),_0x33d6f0[_0x249704(0x44e)][_0x249704(0x731)](0.01,_0x51a02a+0.3),_0x1cc124['start'](_0x51a02a),_0x1cc124[_0x249704(0xb53)](_0x51a02a+0.3);else _0x3c4719===_0x249704(0xeb0)&&(_0x1cc124[_0x249704(0x596)]='triangle',_0x1cc124['frequency'][_0x249704(0x36e)](0x12c,_0x51a02a),_0x1cc124[_0x249704(0x380)][_0x249704(0x5d5)](0x258,_0x51a02a+0.1),_0x33d6f0[_0x249704(0x44e)][_0x249704(0x36e)](0.1,_0x51a02a),_0x33d6f0[_0x249704(0x44e)][_0x249704(0x5d5)](0.01,_0x51a02a+0.3),_0x1cc124[_0x249704(0xf0c)](_0x51a02a),_0x1cc124[_0x249704(0xb53)](_0x51a02a+0.3));}}initialize();
