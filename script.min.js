const _0x3ac816=_0x4938;(function(_0x2e4a9a,_0x5a15b6){const _0x19248b=_0x4938,_0x291035=_0x2e4a9a();while(!![]){try{const _0x5b5d9f=parseInt(_0x19248b(0x9f4))/0x1*(-parseInt(_0x19248b(0x61f))/0x2)+parseInt(_0x19248b(0x664))/0x3*(-parseInt(_0x19248b(0x574))/0x4)+parseInt(_0x19248b(0x65f))/0x5+-parseInt(_0x19248b(0x909))/0x6+parseInt(_0x19248b(0x65d))/0x7+parseInt(_0x19248b(0x961))/0x8*(-parseInt(_0x19248b(0x386))/0x9)+parseInt(_0x19248b(0x416))/0xa;if(_0x5b5d9f===_0x5a15b6)break;else _0x291035['push'](_0x291035['shift']());}catch(_0x36f6a5){_0x291035['push'](_0x291035['shift']());}}}(_0x1fcb,0x38548));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x489207=_0x4938;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x489207(0x495)]['request'](_0x489207(0x6e8)),console[_0x489207(0x274)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener']('release',()=>{const _0x2f4fec=_0x489207;console[_0x2f4fec(0x274)](_0x2f4fec(0x8fc));});}catch(_0x496a24){console[_0x489207(0x2fa)](_0x489207(0xa49)+_0x496a24[_0x489207(0x6e0)]+',\x20'+_0x496a24['message']);}else console['warn'](_0x489207(0x254));},releaseWakeLock=async()=>{const _0x585264=_0x4938;wakeLock!==null&&(await wakeLock[_0x585264(0x8ce)](),wakeLock=null,console[_0x585264(0x274)](_0x585264(0x3b0)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0xd192d=_0x4938;if(dimTimer)clearTimeout(dimTimer);document[_0xd192d(0x23e)][_0xd192d(0x6d9)][_0xd192d(0x309)](_0xd192d(0x691)),dimTimer=setTimeout(()=>{const _0x45ba17=_0xd192d;document[_0x45ba17(0x23e)][_0x45ba17(0x6d9)][_0x45ba17(0x992)](_0x45ba17(0x691)),console['log'](_0x45ba17(0xa0d));},inactivityTime);}function stopDimTimer(){const _0x42aa59=_0x4938;if(dimTimer)clearTimeout(dimTimer);document['body']['classList'][_0x42aa59(0x309)](_0x42aa59(0x691)),window[_0x42aa59(0x24d)]('mousemove',resetDimTimer),window[_0x42aa59(0x24d)](_0x42aa59(0xa06),resetDimTimer),window['removeEventListener'](_0x42aa59(0x675),resetDimTimer),window[_0x42aa59(0x24d)](_0x42aa59(0x7e0),resetDimTimer),console[_0x42aa59(0x274)](_0x42aa59(0x684));}let history=[],historyStep=-0x1,scratchpadPenColor=_0x3ac816(0x8a8),modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3ac816(0x60c),'pinnedProjects':[],'projectView':_0x3ac816(0x76d)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x3ac816(0xa36)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x224)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x499)},{'category':_0x3ac816(0x87b),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x1f3)},{'category':_0x3ac816(0x87b),'name':'การลบ'},{'category':_0x3ac816(0x87b),'name':'การคูณ'},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x9c9)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x902)},{'category':_0x3ac816(0x87b),'name':'จำนวนเต็มลบ'},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x7c5)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x20c)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x822)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x3c3)},{'category':'จำนวนและการดำเนินการ','name':_0x3ac816(0x427)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x291)},{'category':'จำนวนและการดำเนินการ','name':_0x3ac816(0xa28)},{'category':'จำนวนและการดำเนินการ','name':_0x3ac816(0x4fc)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x2c0)},{'category':_0x3ac816(0x87b),'name':'การบวกเศษส่วน'},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x34f)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x48f)},{'category':'จำนวนและการดำเนินการ','name':_0x3ac816(0x55a)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x24b)},{'category':_0x3ac816(0x87b),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x3ac816(0x86a)},{'category':_0x3ac816(0x87b),'name':'การลบทศนิยม'},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x332)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x334)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x95a)},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x6df)},{'category':_0x3ac816(0x87b),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x3ac816(0x87b),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x3ac816(0x87b),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x3ac816(0x87b),'name':'รากที่สองและที่สาม'},{'category':_0x3ac816(0x87b),'name':_0x3ac816(0x74c)},{'category':_0x3ac816(0x87b),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x4fd)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x3bd)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x384)},{'category':'การวัด','name':_0x3ac816(0x718)},{'category':'การวัด','name':'อุณหภูมิและการแปลง'},{'category':'การวัด','name':_0x3ac816(0x940)},{'category':'การวัด','name':_0x3ac816(0x531)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x907)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x4b1)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x9d0)},{'category':'การวัด','name':_0x3ac816(0x34e)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x28f)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x519)},{'category':_0x3ac816(0x401),'name':_0x3ac816(0x9fc)},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x518)},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x477)},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x9cb)},{'category':'เรขาคณิต','name':'พื้นที่สามเหลี่ยม'},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x701)},{'category':'เรขาคณิต','name':_0x3ac816(0x9e3)},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x45b)},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x40b)},{'category':'เรขาคณิต','name':_0x3ac816(0x249)},{'category':'เรขาคณิต','name':_0x3ac816(0x9be)},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x888)},{'category':_0x3ac816(0x4d1),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':'สมมาตร\x20(แกน/จุด)'},{'category':'เรขาคณิต','name':_0x3ac816(0x313)},{'category':_0x3ac816(0x4d1),'name':_0x3ac816(0x84a)},{'category':_0x3ac816(0x483),'name':'ตัวแปรและนิพจน์'},{'category':_0x3ac816(0x483),'name':'การกระจายและการจัดหมู่'},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x4da)},{'category':_0x3ac816(0x483),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x517)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3ac816(0x391)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x93a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3ac816(0x207)},{'category':_0x3ac816(0x483),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x388)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x6ab)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3ac816(0x556)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x47c)},{'category':_0x3ac816(0x483),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x4b0)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x912)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3ac816(0x7de)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x63c)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x841)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x2e2)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x2ab)},{'category':_0x3ac816(0x483),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3ac816(0x6f5)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x7ae)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x9f9)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x1fa)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x9ce)},{'category':_0x3ac816(0x483),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3ac816(0x927)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x9f6)},{'category':_0x3ac816(0x483),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x9f5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3ac816(0x4e9)},{'category':_0x3ac816(0x483),'name':_0x3ac816(0x4cc)},{'category':_0x3ac816(0x2ae),'name':_0x3ac816(0x708)},{'category':_0x3ac816(0x2ae),'name':'ความชันและเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x3ac816(0x5f1)},{'category':_0x3ac816(0x2ae),'name':_0x3ac816(0x88b)},{'category':_0x3ac816(0x2ae),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x3ac816(0x2ae),'name':_0x3ac816(0x73c)},{'category':_0x3ac816(0x2ae),'name':_0x3ac816(0x93d)},{'category':_0x3ac816(0x2ae),'name':_0x3ac816(0x712)},{'category':_0x3ac816(0x2ae),'name':_0x3ac816(0x206)},{'category':_0x3ac816(0x611),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x3ac816(0x611),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':_0x3ac816(0x24f)},{'category':_0x3ac816(0x611),'name':_0x3ac816(0x978)},{'category':_0x3ac816(0x611),'name':_0x3ac816(0x3f2)},{'category':_0x3ac816(0x611),'name':_0x3ac816(0xa19)},{'category':_0x3ac816(0x611),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x3ac816(0x611),'name':'สมการตรีโกณมิติ'},{'category':_0x3ac816(0x611),'name':_0x3ac816(0x593)},{'category':_0x3ac816(0x611),'name':_0x3ac816(0x573)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x775)},{'category':'สถิติและความน่าจะเป็น','name':_0x3ac816(0x7f5)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x792)},{'category':'สถิติและความน่าจะเป็น','name':_0x3ac816(0x7d6)},{'category':_0x3ac816(0x817),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x8ed)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x859)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x515)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0xa10)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x58c)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x4c3)},{'category':_0x3ac816(0x817),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x41d)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x97f)},{'category':_0x3ac816(0x817),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x545)},{'category':'สถิติและความน่าจะเป็น','name':_0x3ac816(0x894)},{'category':_0x3ac816(0x817),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x3ac816(0x817),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x3ac816(0x817),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x3ac816(0x817),'name':'การจัดหมู่\x20(Combination)'},{'category':'สถิติและความน่าจะเป็น','name':_0x3ac816(0x975)},{'category':_0x3ac816(0x817),'name':_0x3ac816(0x530)},{'category':_0x3ac816(0x9c8),'name':_0x3ac816(0x46e)},{'category':_0x3ac816(0x9c8),'name':_0x3ac816(0x230)},{'category':_0x3ac816(0x9c8),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x3ac816(0x9c8),'name':_0x3ac816(0x4e1)},{'category':_0x3ac816(0x9c8),'name':_0x3ac816(0x8fd)},{'category':_0x3ac816(0x9c8),'name':_0x3ac816(0x537)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3ac816(0x623)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3ac816(0x9dd)},{'category':_0x3ac816(0x9c8),'name':_0x3ac816(0x308)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3ac816(0x26b)},{'category':_0x3ac816(0x9c8),'name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3ac816(0x344)},{'category':_0x3ac816(0x9c8),'name':_0x3ac816(0x92d)},{'category':_0x3ac816(0x9c3),'name':_0x3ac816(0xa2d)},{'category':_0x3ac816(0x9c3),'name':_0x3ac816(0x816)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3ac816(0x9c0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x3ac816(0x9c3),'name':_0x3ac816(0x2ee)},{'category':_0x3ac816(0x9c3),'name':_0x3ac816(0x3b1)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x3ac816(0x920),'name':_0x3ac816(0xa27)},{'category':_0x3ac816(0x920),'name':_0x3ac816(0x340)},{'category':_0x3ac816(0x920),'name':_0x3ac816(0x9ab)},{'category':_0x3ac816(0x920),'name':_0x3ac816(0x598)},{'category':_0x3ac816(0x920),'name':'ร้อยละประยุกต์'},{'category':_0x3ac816(0x511),'name':_0x3ac816(0x7d0)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x3ac816(0x511),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x235480=_0x3ac816,_0x3d0a3d=document['getElementById'](_0x235480(0x62e));if(!_0x3d0a3d)return;const _0x19bebb=allMathTopics,_0x9f338e=customMathTopics[_0x235480(0x3f8)](_0x4ed186=>({'id':_0x4ed186['id'],'category':_0x235480(0x871),'name':_0x4ed186['name']})),_0x49eb72=[..._0x19bebb,..._0x9f338e],_0x33bef3=_0x49eb72[_0x235480(0x67f)]((_0x441d6d,_0x339f4a)=>{const _0x4350d6=_0x235480;return!_0x441d6d[_0x339f4a['category']]&&(_0x441d6d[_0x339f4a[_0x4350d6(0x7bc)]]=[]),_0x441d6d[_0x339f4a[_0x4350d6(0x7bc)]][_0x4350d6(0x6cc)](_0x339f4a),_0x441d6d;},{});let _0x2ee7a8='';const _0x5d1400=[_0x235480(0x871),...Object['keys'](_0x33bef3)['filter'](_0x52b95b=>_0x52b95b!==_0x235480(0x871))];for(const _0x41e44a of _0x5d1400){if(_0x33bef3[_0x41e44a]){const _0x3704b6=_0x41e44a===_0x235480(0x871),_0x40494a=_0x3704b6?'fas\x20fa-user-edit':_0x235480(0x4d7),_0x1b7b8a=_0x3704b6?'text-blue-700':_0x235480(0x8a5);_0x2ee7a8+=_0x235480(0x3db),_0x2ee7a8+=_0x235480(0x468)+_0x1b7b8a+_0x235480(0x406)+_0x40494a+_0x235480(0x875)+_0x41e44a+_0x235480(0x59f),_0x33bef3[_0x41e44a][_0x235480(0x568)](_0x24a138=>{const _0x15fbb0=_0x235480,_0x29487a=!!_0x24a138['id'],_0x1f2a97=_0x29487a?_0x15fbb0(0x205)+_0x24a138['id']+_0x15fbb0(0x526)+_0x24a138['id']+_0x15fbb0(0x2ef)+_0x24a138['id']+_0x15fbb0(0x831)+_0x24a138['id']+_0x15fbb0(0xa42):'';_0x2ee7a8+=_0x15fbb0(0x8ad)+(_0x24a138['id']||'')+_0x15fbb0(0x872)+_0x24a138[_0x15fbb0(0x6e0)]+_0x15fbb0(0x96d)+_0x24a138[_0x15fbb0(0x6e0)]+_0x15fbb0(0x4b4)+(_0x29487a?_0x15fbb0(0x397)+_0x24a138[_0x15fbb0(0x6e0)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f2a97+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2ee7a8+='</div>';}}_0x3d0a3d[_0x235480(0x49f)]=_0x2ee7a8||_0x235480(0x3a7),_0x3d0a3d[_0x235480(0x24d)](_0x235480(0x96a),updateSelectedTopicsCount),_0x3d0a3d[_0x235480(0x84f)](_0x235480(0x96a),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1f9c07,_0x41fa74){const _0x1f8cb5=_0x3ac816;if(!_0x1f9c07||!_0x41fa74[_0x1f8cb5(0x855)]()){showMessage(_0x1f8cb5(0x752));return;}try{const _0x5a48bd=doc(db,'artifacts/'+appId+_0x1f8cb5(0x25e),_0x1f9c07);await updateDoc(_0x5a48bd,{'name':_0x41fa74[_0x1f8cb5(0x855)]()}),showMessage(_0x1f8cb5(0x2b5));}catch(_0x24c7ed){console[_0x1f8cb5(0x2fa)](_0x1f8cb5(0xa22),_0x24c7ed),showMessage(_0x1f8cb5(0x918));}}function _0x4938(_0x354c37,_0x558dcd){const _0x1fcb41=_0x1fcb();return _0x4938=function(_0x4938e7,_0x1d9612){_0x4938e7=_0x4938e7-0x1ee;let _0x12c198=_0x1fcb41[_0x4938e7];return _0x12c198;},_0x4938(_0x354c37,_0x558dcd);}function toggleTopicEditMode(_0x3c0a81,_0x1292cf){const _0x29e65c=_0x3ac816;if(!_0x3c0a81)return;const _0xf3a785=_0x3c0a81[_0x29e65c(0x46d)](_0x29e65c(0x649)),_0x91c07f=_0x3c0a81[_0x29e65c(0x46d)]('.topic-name-input'),_0x4f2c44=_0x3c0a81[_0x29e65c(0x46d)](_0x29e65c(0x620)),_0x178938=_0x3c0a81['querySelector'](_0x29e65c(0x741));_0xf3a785[_0x29e65c(0x6d9)][_0x29e65c(0x31f)]('hidden',_0x1292cf),_0x91c07f[_0x29e65c(0x6d9)][_0x29e65c(0x31f)](_0x29e65c(0x8da),!_0x1292cf),_0x4f2c44['classList'][_0x29e65c(0x31f)]('hidden',_0x1292cf),_0x178938[_0x29e65c(0x6d9)][_0x29e65c(0x31f)](_0x29e65c(0x8da),!_0x1292cf),_0x1292cf&&(_0x91c07f[_0x29e65c(0x6d0)](),_0x91c07f[_0x29e65c(0x58f)]());}function updateSelectedTopicsCount(){const _0x14989e=_0x3ac816,_0x47f617=document[_0x14989e(0xa1e)](_0x14989e(0x62e)),_0x484864=_0x47f617[_0x14989e(0x8e6)](_0x14989e(0x8dc))[_0x14989e(0x475)],_0x4695c6=document['getElementById'](_0x14989e(0x1ee));_0x484864>0x0?_0x4695c6[_0x14989e(0x32e)]='(เลือกแล้ว\x20'+_0x484864+_0x14989e(0x60d):_0x4695c6[_0x14989e(0x32e)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3ac816(0x7cc),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x3ac816(0x6c1),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadLastPos={'x':0x0,'y':0x0};function openScratchpad(_0x437f8c,_0x14ab22){const _0x40ed89=_0x3ac816,_0x7d7990=document[_0x40ed89(0xa1e)](_0x40ed89(0x9f3)),_0x10a65f=document[_0x40ed89(0xa1e)](_0x40ed89(0x4cb)),_0x3da570=document[_0x40ed89(0xa1e)](_0x40ed89(0x494));_0x10a65f[_0x40ed89(0x32e)]=_0x437f8c[_0x40ed89(0x799)]||_0x437f8c[_0x40ed89(0x414)],_0x3da570[_0x40ed89(0x49f)]=_0x14ab22[_0x40ed89(0x3f8)]((_0x418995,_0x20c84b)=>{const _0x2a3ad7=_0x40ed89;let _0x15cd64=![];if(_0x437f8c[_0x2a3ad7(0x7bf)]==='multiple_choice')_0x15cd64=_0x20c84b===_0x437f8c[_0x2a3ad7(0x825)];else{if(_0x437f8c[_0x2a3ad7(0x7bf)]==='true_false')_0x15cd64=_0x437f8c[_0x2a3ad7(0x8db)]&&_0x20c84b===0x0||!_0x437f8c['correctAnswer']&&_0x20c84b===0x1;else{if(_0x437f8c['questionType']===_0x2a3ad7(0x541))_0x15cd64=_0x14ab22[_0x20c84b]===_0x437f8c['correctResponse'];}}const _0x124b47=_0x15cd64?_0x2a3ad7(0x8a6):'';return _0x2a3ad7(0x7a9)+_0x124b47+'\x22>'+String['fromCharCode'](0x41+_0x20c84b)+'.\x20'+_0x418995+_0x2a3ad7(0x516);})[_0x40ed89(0x6b7)](''),history=[],historyStep=-0x1,setTimeout(()=>{scratchpadCtx&&saveHistory();},0x64),_0x7d7990[_0x40ed89(0x6d9)][_0x40ed89(0x309)](_0x40ed89(0x8da)),setTimeout(initializeScratchpadCanvas,0x32);if(window[_0x40ed89(0x60a)])MathJax[_0x40ed89(0x59b)]([_0x10a65f,_0x3da570]);}function initializeScratchpadCanvas(){const _0x408f2d=_0x3ac816,_0x4bdbb5=document['getElementById'](_0x408f2d(0x9eb)),_0x4cf161=document[_0x408f2d(0xa1e)](_0x408f2d(0x5b6));if(!_0x4bdbb5||!_0x4cf161)return;scratchpadCtx=_0x4bdbb5[_0x408f2d(0x9e9)]('2d'),_0x4bdbb5[_0x408f2d(0x3e4)]=_0x4cf161[_0x408f2d(0x2b6)],_0x4bdbb5[_0x408f2d(0x2f5)]=_0x4cf161[_0x408f2d(0x867)],scratchpadCtx[_0x408f2d(0x81d)]=scratchpadPenColor,scratchpadCtx[_0x408f2d(0x4c6)]=0x5,scratchpadCtx[_0x408f2d(0x3a6)]='round',scratchpadCtx[_0x408f2d(0x6b3)]=_0x408f2d(0x3d4);let _0x41d6d0={'x':0x0,'y':0x0};const _0x25c178=_0x3ae161=>{const _0x5b5a59=_0x408f2d,_0x47ac26=_0x4bdbb5['getBoundingClientRect'](),_0x2a5e31=_0x3ae161[_0x5b5a59(0x3e6)]?_0x3ae161[_0x5b5a59(0x3e6)][0x0]['clientX']:_0x3ae161['clientX'],_0xf172cd=_0x3ae161[_0x5b5a59(0x3e6)]?_0x3ae161['touches'][0x0][_0x5b5a59(0x7ff)]:_0x3ae161['clientY'];return{'x':_0x2a5e31-_0x47ac26[_0x5b5a59(0x7d8)],'y':_0xf172cd-_0x47ac26['top']};},_0x3427c0=_0x9033e3=>{const _0x2504e8=_0x408f2d;_0x9033e3['preventDefault'](),isDrawingOnScratchpad=!![],scratchpadLastPos=_0x25c178(_0x9033e3),_0x41d6d0=scratchpadLastPos,scratchpadCtx[_0x2504e8(0x766)](),scratchpadCtx[_0x2504e8(0x86b)](_0x41d6d0['x'],_0x41d6d0['y']);},_0x3680c6=_0x30c79f=>{const _0x3f94e3=_0x408f2d;if(!isDrawingOnScratchpad)return;_0x30c79f[_0x3f94e3(0x209)]();const _0x49bc51=_0x25c178(_0x30c79f);_0x41d6d0={'x':(scratchpadLastPos['x']+_0x49bc51['x'])/0x2,'y':(scratchpadLastPos['y']+_0x49bc51['y'])/0x2},scratchpadCtx[_0x3f94e3(0x24a)](scratchpadLastPos['x'],scratchpadLastPos['y'],_0x41d6d0['x'],_0x41d6d0['y']),scratchpadCtx[_0x3f94e3(0x34d)](),scratchpadLastPos=_0x49bc51;},_0x31a4c8=()=>{if(!isDrawingOnScratchpad)return;isDrawingOnScratchpad=![],saveHistory();};_0x4bdbb5[_0x408f2d(0x450)]=_0x3427c0,_0x4bdbb5[_0x408f2d(0x706)]=_0x3680c6,_0x4bdbb5['onmouseup']=_0x31a4c8,_0x4bdbb5[_0x408f2d(0x3f9)]=_0x31a4c8,_0x4bdbb5[_0x408f2d(0x70a)]=_0x3427c0,_0x4bdbb5[_0x408f2d(0x512)]=_0x3680c6,_0x4bdbb5[_0x408f2d(0x3e1)]=_0x31a4c8;}function saveHistory(){const _0x483190=_0x3ac816;historyStep<history[_0x483190(0x475)]-0x1&&(history=history['slice'](0x0,historyStep+0x1)),history[_0x483190(0x6cc)](scratchpadCtx[_0x483190(0x4dc)][_0x483190(0x21a)]()),historyStep++,updateUndoRedoButtons();}function undo(){const _0x1025da=_0x3ac816;if(historyStep>0x0){historyStep--;const _0x294a60=new Image();_0x294a60[_0x1025da(0x586)]=history[historyStep],_0x294a60[_0x1025da(0x886)]=()=>{const _0x55e7b2=_0x1025da;scratchpadCtx[_0x55e7b2(0x720)](0x0,0x0,scratchpadCtx[_0x55e7b2(0x4dc)][_0x55e7b2(0x3e4)],scratchpadCtx[_0x55e7b2(0x4dc)][_0x55e7b2(0x2f5)]),scratchpadCtx['drawImage'](_0x294a60,0x0,0x0);},updateUndoRedoButtons();}}function redo(){const _0x2c70e3=_0x3ac816;if(historyStep<history[_0x2c70e3(0x475)]-0x1){historyStep++;const _0x78a057=new Image();_0x78a057[_0x2c70e3(0x586)]=history[historyStep],_0x78a057[_0x2c70e3(0x886)]=()=>{const _0x1a28d1=_0x2c70e3;scratchpadCtx[_0x1a28d1(0x720)](0x0,0x0,scratchpadCtx[_0x1a28d1(0x4dc)]['width'],scratchpadCtx['canvas']['height']),scratchpadCtx[_0x1a28d1(0x342)](_0x78a057,0x0,0x0);},updateUndoRedoButtons();}}function updateUndoRedoButtons(){const _0x1c419c=_0x3ac816;document['getElementById'](_0x1c419c(0x895))[_0x1c419c(0x370)]=historyStep<=0x0,document['getElementById'](_0x1c419c(0x1f0))[_0x1c419c(0x370)]=historyStep>=history['length']-0x1;}function setupScratchpadControls(){const _0x835ef1=_0x3ac816,_0x9ba156=document[_0x835ef1(0xa1e)](_0x835ef1(0x9f3));document[_0x835ef1(0xa1e)](_0x835ef1(0x554))['addEventListener'](_0x835ef1(0x321),()=>{const _0x154eae=_0x835ef1;_0x9ba156['classList'][_0x154eae(0x992)]('hidden');}),document[_0x835ef1(0xa1e)](_0x835ef1(0x895))[_0x835ef1(0x84f)](_0x835ef1(0x321),undo),document[_0x835ef1(0xa1e)](_0x835ef1(0x1f0))[_0x835ef1(0x84f)](_0x835ef1(0x321),redo),document['getElementById'](_0x835ef1(0xa00))[_0x835ef1(0x84f)]('click',()=>{const _0x240781=_0x835ef1;scratchpadCtx&&(scratchpadCtx[_0x240781(0x720)](0x0,0x0,scratchpadCtx[_0x240781(0x4dc)][_0x240781(0x3e4)],scratchpadCtx[_0x240781(0x4dc)][_0x240781(0x2f5)]),saveHistory());}),document[_0x835ef1(0x8e6)](_0x835ef1(0x997))['forEach'](_0x5e181f=>{const _0x5a7959=_0x835ef1;_0x5e181f[_0x5a7959(0x84f)](_0x5a7959(0x321),()=>{const _0x59d5f7=_0x5a7959;if(scratchpadCtx){const _0x3042cd=parseInt(_0x5e181f[_0x59d5f7(0x7b1)][_0x59d5f7(0x97d)],0xa);scratchpadCtx['lineWidth']=_0x3042cd,document[_0x59d5f7(0x8e6)](_0x59d5f7(0x997))[_0x59d5f7(0x568)](_0x111f47=>_0x111f47[_0x59d5f7(0x6d9)][_0x59d5f7(0x309)](_0x59d5f7(0x745))),_0x5e181f['classList'][_0x59d5f7(0x992)](_0x59d5f7(0x745));}});}),document['querySelectorAll'](_0x835ef1(0x524))[_0x835ef1(0x568)](_0x1a5c97=>{const _0x25058e=_0x835ef1;_0x1a5c97[_0x25058e(0x84f)](_0x25058e(0x321),()=>{const _0x453908=_0x25058e;if(scratchpadCtx){const _0x5ebdd8=_0x1a5c97['dataset'][_0x453908(0x6fd)];scratchpadCtx[_0x453908(0x81d)]=_0x5ebdd8,document[_0x453908(0x8e6)]('.pen-color-btn')[_0x453908(0x568)](_0xec2ad4=>_0xec2ad4[_0x453908(0x6d9)]['remove'](_0x453908(0x745))),_0x1a5c97[_0x453908(0x6d9)]['add'](_0x453908(0x745));}});});const _0x2e69fb=document[_0x835ef1(0xa1e)](_0x835ef1(0x7be)),_0x2363cc=document[_0x835ef1(0xa1e)](_0x835ef1(0x7fd));_0x2e69fb[_0x835ef1(0x84f)]('click',()=>{const _0x428f9c=_0x835ef1;scratchpadCtx[_0x428f9c(0x6ec)]='source-over',scratchpadCtx['strokeStyle']=scratchpadPenColor,_0x2e69fb[_0x428f9c(0x6d9)][_0x428f9c(0x992)](_0x428f9c(0x745)),_0x2363cc['classList'][_0x428f9c(0x309)](_0x428f9c(0x745));}),_0x2363cc[_0x835ef1(0x84f)](_0x835ef1(0x321),()=>{const _0x1e359a=_0x835ef1;scratchpadCtx[_0x1e359a(0x6ec)]=_0x1e359a(0x9a6),_0x2e69fb[_0x1e359a(0x6d9)][_0x1e359a(0x309)](_0x1e359a(0x745)),_0x2363cc['classList']['add'](_0x1e359a(0x745));}),document[_0x835ef1(0x8e6)]('.pen-color-btn')[_0x835ef1(0x568)](_0x68250f=>{const _0x1ad282=_0x835ef1;_0x68250f[_0x1ad282(0x84f)](_0x1ad282(0x321),()=>{const _0x5ba2fe=_0x1ad282;if(scratchpadCtx){const _0xe4bed6=_0x68250f['dataset'][_0x5ba2fe(0x6fd)];scratchpadPenColor=_0xe4bed6,scratchpadCtx[_0x5ba2fe(0x81d)]=_0xe4bed6,scratchpadCtx['globalCompositeOperation']=_0x5ba2fe(0x507),_0x2e69fb[_0x5ba2fe(0x6d9)][_0x5ba2fe(0x992)](_0x5ba2fe(0x745)),_0x2363cc[_0x5ba2fe(0x6d9)][_0x5ba2fe(0x309)]('active'),document[_0x5ba2fe(0x8e6)]('.pen-color-btn')[_0x5ba2fe(0x568)](_0x5cfcf6=>_0x5cfcf6[_0x5ba2fe(0x6d9)][_0x5ba2fe(0x309)](_0x5ba2fe(0x745))),_0x68250f['classList'][_0x5ba2fe(0x992)]('active');}});}),window[_0x835ef1(0x84f)](_0x835ef1(0x78b),()=>{const _0xc675e4=_0x835ef1;!_0x9ba156[_0xc675e4(0x6d9)][_0xc675e4(0x76b)](_0xc675e4(0x8da))&&initializeScratchpadCanvas();});}const BADGES={'PERFECT_SCORE':{'id':_0x3ac816(0x8bd),'name':_0x3ac816(0x99f),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x3ac816(0x6bf)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x3ac816(0x22c),'description':_0x3ac816(0x24e),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':'on_fire','name':_0x3ac816(0x781),'description':_0x3ac816(0x5b4),'icon':_0x3ac816(0x9cc)},'FIRST_TRY_ACE':{'id':_0x3ac816(0x86d),'name':_0x3ac816(0x7e6),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x3ac816(0x857)},'COMEBACK_KING':{'id':_0x3ac816(0x535),'name':_0x3ac816(0x89c),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x3ac816(0x361)},'SPECIALIST':{'id':'specialist','name':'ผู้เชี่ยวชาญ','description':_0x3ac816(0x580),'icon':_0x3ac816(0x6bd)},'PERSEVERANCE':{'id':_0x3ac816(0x549),'name':'ผู้ไม่ยอมแพ้','description':_0x3ac816(0xa35),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x3ac816(0x7dc),'authDomain':_0x3ac816(0x8e7),'projectId':_0x3ac816(0x7e3),'storageBucket':_0x3ac816(0x7ca),'messagingSenderId':'274192258111','appId':_0x3ac816(0x774),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x3ac816(0x834)?__app_id:_0x3ac816(0x65c),adminView=document[_0x3ac816(0xa1e)]('admin-view'),studentView=document['getElementById'](_0x3ac816(0x8a1)),projectDashboardView=document[_0x3ac816(0xa1e)](_0x3ac816(0x307)),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document[_0x3ac816(0xa1e)](_0x3ac816(0x2dd)),projectList=document[_0x3ac816(0xa1e)](_0x3ac816(0x20a)),noProjectsMsg=document[_0x3ac816(0xa1e)](_0x3ac816(0x202)),projectTitle=document['getElementById'](_0x3ac816(0x54f)),projectIdDisplay=document[_0x3ac816(0xa1e)]('project-id-display'),studentList=document[_0x3ac816(0xa1e)](_0x3ac816(0x463)),messageModal=document[_0x3ac816(0xa1e)](_0x3ac816(0x59d)),modalMessage=document[_0x3ac816(0xa1e)]('modal-message'),createProjectModal=document[_0x3ac816(0xa1e)](_0x3ac816(0x436)),adminPasswordModal=document[_0x3ac816(0xa1e)]('admin-password-modal'),confirmationModal=document[_0x3ac816(0xa1e)]('confirmation-modal'),userIdDisplay=document[_0x3ac816(0xa1e)](_0x3ac816(0x971)),topicTab=document[_0x3ac816(0xa1e)]('topic-tab'),textTab=document[_0x3ac816(0xa1e)](_0x3ac816(0x848)),topicInputArea=document[_0x3ac816(0xa1e)](_0x3ac816(0x627)),textInputArea=document[_0x3ac816(0xa1e)](_0x3ac816(0x892)),manageTab=document[_0x3ac816(0xa1e)](_0x3ac816(0x223)),resultsTab=document[_0x3ac816(0xa1e)](_0x3ac816(0x99c)),leaderboardTab=document[_0x3ac816(0xa1e)](_0x3ac816(0x314)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x3ac816(0xa1e)](_0x3ac816(0x791)),leaderboardTabContent=document[_0x3ac816(0xa1e)](_0x3ac816(0x63b)),projectQuizzesList=document[_0x3ac816(0xa1e)](_0x3ac816(0x5a2)),fileTab=document[_0x3ac816(0xa1e)](_0x3ac816(0x78a)),fileInputArea=document[_0x3ac816(0xa1e)](_0x3ac816(0x727)),fileUploadInput=document[_0x3ac816(0xa1e)](_0x3ac816(0x270)),worksheetTab=document[_0x3ac816(0xa1e)](_0x3ac816(0x28a)),worksheetInputArea=document[_0x3ac816(0xa1e)](_0x3ac816(0x70c)),generateWorksheetBtn=document[_0x3ac816(0xa1e)]('generate-worksheet-btn'),studentInitialView=document[_0x3ac816(0xa1e)](_0x3ac816(0x5e1)),studentNameSelectionView=document[_0x3ac816(0xa1e)](_0x3ac816(0x72c)),studentQuizArea=document[_0x3ac816(0xa1e)](_0x3ac816(0x82d)),studentResultArea=document[_0x3ac816(0xa1e)](_0x3ac816(0x6b0)),studentReadingArea=document['getElementById'](_0x3ac816(0x8c9)),loadQuizBtn=document[_0x3ac816(0xa1e)](_0x3ac816(0x47a)),startQuizBtn=document['getElementById'](_0x3ac816(0xa24)),studentJoinGameView=document[_0x3ac816(0xa1e)]('student-join-game-view'),presentationModal=document[_0x3ac816(0xa1e)](_0x3ac816(0x398)),renameQuizModal=document[_0x3ac816(0xa1e)](_0x3ac816(0x2df)),moveQuizModal=document['getElementById'](_0x3ac816(0x233)),quizSettingsModal=document[_0x3ac816(0xa1e)](_0x3ac816(0x7c0)),quizStatusModal=document[_0x3ac816(0xa1e)](_0x3ac816(0x54e)),liveGameView=document[_0x3ac816(0xa1e)](_0x3ac816(0x45f));function handleAutoFixLatex(){const _0x239899=_0x3ac816,_0x2a963e=document[_0x239899(0xa1e)]('quiz-editor-questions-container')||document,_0xa42cbd=_0x2a963e['querySelectorAll']([_0x239899(0x3ae),_0x239899(0x6b8),_0x239899(0x3d9),'[role=\x22textbox\x22]',_0x239899(0x20e),_0x239899(0x3e3),_0x239899(0x3dd),_0x239899(0x5d6),_0x239899(0x779)][_0x239899(0x6b7)](','));let _0x4d2802=0x0;const _0x352942=_0x330a5=>_0x239899(0x3b8)in _0x330a5?String(_0x330a5[_0x239899(0x3b8)]):_0x330a5[_0x239899(0x389)]!==undefined?_0x330a5[_0x239899(0x389)]:_0x330a5[_0x239899(0x32e)]||'',_0x596210=(_0x3c6fee,_0xdc375d)=>{const _0x8f7aa1=_0x239899;if(_0x8f7aa1(0x3b8)in _0x3c6fee){_0x3c6fee[_0x8f7aa1(0x3b8)]=_0xdc375d;return;}if(_0x3c6fee[_0x8f7aa1(0x46d)]&&_0x3c6fee['querySelector'](_0x8f7aa1(0x969)))return;if(_0x3c6fee['innerText']!==undefined)_0x3c6fee[_0x8f7aa1(0x389)]=_0xdc375d;else _0x3c6fee['textContent']=_0xdc375d;},_0x5ac335=_0x511c3e=>_0x511c3e[_0x239899(0x2f9)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x239899(0x2f9)](/\r\n?/g,'\x0a'),_0x45d7c7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2e71ef=_0x1af683=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x239899(0x4e6)](_0x1af683),_0x131972=_0x54103e=>{const _0x28ac3d=_0x239899,_0x57f665=(_0x54103e['match'](/\{/g)||[])[_0x28ac3d(0x475)],_0x401644=(_0x54103e[_0x28ac3d(0x81f)](/\}/g)||[])[_0x28ac3d(0x475)];if(_0x57f665>_0x401644)_0x54103e=_0x54103e+'}'['repeat'](_0x57f665-_0x401644);return _0x54103e;},_0x3a3cb9=_0x4334c0=>{const _0x1d086a=_0x239899;let _0x4f0fc9=_0x4334c0['trim']();const _0x13f5d8=['frac',_0x1d086a(0x98a),_0x1d086a(0x8d0),_0x1d086a(0x97a),_0x1d086a(0x453),_0x1d086a(0x318),_0x1d086a(0x3f4),_0x1d086a(0x3b2),_0x1d086a(0x3f5),_0x1d086a(0x99a),'le','ge',_0x1d086a(0x4a9),'pm','approx',_0x1d086a(0x8a2),_0x1d086a(0x66d),_0x1d086a(0x603),'log','ln','sum',_0x1d086a(0x6fc),_0x1d086a(0x2a2),_0x1d086a(0x7d8),_0x1d086a(0x378),_0x1d086a(0x6da),_0x1d086a(0x814),_0x1d086a(0x6f4),'deg'];_0x4f0fc9=_0x4f0fc9['replace'](new RegExp(_0x1d086a(0x62a)+_0x13f5d8[_0x1d086a(0x6b7)]('|')+')\x5cb)','g'),'\x5c'),_0x13f5d8['forEach'](_0xc60cf1=>{const _0x23769d=_0x1d086a;_0x4f0fc9=_0x4f0fc9[_0x23769d(0x2f9)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0xc60cf1+'\x5cb','g'),(_0x1d5282,_0xc06b06)=>_0xc06b06+'\x5c'+_0xc60cf1);});const _0x524845=[[/×/g,_0x1d086a(0x771)],[/·/g,_0x1d086a(0x4eb)],[/÷/g,_0x1d086a(0x2bb)],[/≤/g,_0x1d086a(0x58a)],[/≥/g,_0x1d086a(0x8d5)],[/≠/g,_0x1d086a(0x297)],[/±/g,_0x1d086a(0x681)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x524845['forEach'](([_0x45ab64,_0xb3076])=>{const _0x2814d8=_0x1d086a;_0x4f0fc9=_0x4f0fc9[_0x2814d8(0x2f9)](_0x45ab64,_0xb3076);}),_0x4f0fc9=_0x4f0fc9[_0x1d086a(0x2f9)](/√\s*\(([^)]*)\)/g,_0x1d086a(0x600)),_0x4f0fc9=_0x4f0fc9[_0x1d086a(0x2f9)](/√\s*([A-Za-z0-9]+)/g,_0x1d086a(0x600)),_0x4f0fc9=_0x4f0fc9[_0x1d086a(0x2f9)](/(^|[^\\])\bimes\b/g,_0x1d086a(0x810))[_0x1d086a(0x2f9)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x1d086a(0x590))[_0x1d086a(0x2f9)](/(^|[^\\])ext\{/g,_0x1d086a(0x3a1))[_0x1d086a(0x2f9)](/(^|[^\\])ext\(/g,'$1\x5ctext(')['replace'](/\\text\(([^)]*)\)/g,_0x1d086a(0x973))[_0x1d086a(0x2f9)](/\s\\frac/g,'\x5cfrac'),_0x4f0fc9=_0x4f0fc9[_0x1d086a(0x2f9)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x1662ef,_0x2ea892,_0x495ab2,_0x1f6837)=>_0x2ea892+_0x1d086a(0x5ed)+_0x495ab2+'}{'+_0x1f6837+'}'),_0x4f0fc9=_0x4f0fc9['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x1d086a(0x56d))[_0x1d086a(0x2f9)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x1d086a(0x56d))[_0x1d086a(0x2f9)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x1d086a(0x56d)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x1d086a(0x31c)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x1d086a(0x31c)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x1d086a(0x31c)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x1d086a(0x4ba)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x1d086a(0x31c)]][_0x1d086a(0x568)](([_0x464e98,_0x3a207d])=>{_0x4f0fc9=_0x4f0fc9['replace'](_0x464e98,_0x3a207d);}),_0x4f0fc9=_0x4f0fc9[_0x1d086a(0x2f9)](/(\d+)\s*%/g,_0x1d086a(0x721)),_0x4f0fc9=_0x4f0fc9['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x1d086a(0x977))[_0x1d086a(0x2f9)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x1d086a(0x305))[_0x1d086a(0x2f9)](/\{\{([^\{\}]+)\}\}/g,_0x1d086a(0x2f3)),[_0x1d086a(0x8a2),_0x1d086a(0x66d),_0x1d086a(0x603),_0x1d086a(0x274),'ln'][_0x1d086a(0x568)](_0x20b05e=>{const _0x4e7824=_0x1d086a;_0x4f0fc9=_0x4f0fc9['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x20b05e+_0x4e7824(0x999),'g'),(_0x1ec0b0,_0x4d8b71)=>_0x4d8b71+'\x5c'+_0x20b05e+'(');});const _0x18232f=(_0x4f0fc9[_0x1d086a(0x81f)](/\\left\b/g)||[])['length'],_0x1ab92c=(_0x4f0fc9['match'](/\\right\b/g)||[])[_0x1d086a(0x475)];if(_0x18232f!==_0x1ab92c)_0x4f0fc9=_0x4f0fc9['replace'](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x4f0fc9=_0x131972(_0x4f0fc9),_0x4f0fc9;},_0x426348=_0x18ca9f=>{const _0x14aef4=_0x239899;if(/\$|\\\(|\\\[/[_0x14aef4(0x4e6)](_0x18ca9f))return _0x18ca9f;if(!_0x45d7c7[_0x14aef4(0x4e6)](_0x18ca9f))return _0x18ca9f;const _0x51f621=_0x18ca9f[_0x14aef4(0x81f)](/^\s*/)[0x0],_0x1e76cd=_0x18ca9f[_0x14aef4(0x81f)](/\s*$/)[0x0],_0x1a8c51=_0x18ca9f['trim']();return _0x51f621+'$'+_0x3a3cb9(_0x1a8c51)+'$'+_0x1e76cd;},_0x53232b=_0x53ccdd=>_0x53ccdd[_0x239899(0x413)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0xa42cbd[_0x239899(0x568)](_0x5062f8=>{const _0x1aca69=_0x239899;if(_0x5062f8['querySelector']&&_0x5062f8[_0x1aca69(0x46d)](_0x1aca69(0x969)))return;const _0x3fd931=_0x352942(_0x5062f8);let _0x2b1ab4=_0x5ac335(_0x3fd931);_0x2b1ab4=_0x2b1ab4['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x179411,_0x435ba0)=>'$$'+_0x3a3cb9(_0x435ba0)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x5b201f,_0x21c984)=>'$'+_0x3a3cb9(_0x21c984)+'$')[_0x1aca69(0x2f9)](/\\\(([\s\S]*?)\\\)/g,(_0x38da8c,_0x234ccc)=>'\x5c('+_0x3a3cb9(_0x234ccc)+'\x5c)')[_0x1aca69(0x2f9)](/\\\[([\s\S]*?)\\\]/g,(_0x965904,_0xea4e95)=>'\x5c['+_0x3a3cb9(_0xea4e95)+'\x5c]');let _0x51fe6b=_0x2b1ab4,_0x2ce39a=0x0;const _0x4ff731=_0x23139d=>_0x23139d[_0x1aca69(0x2f9)](/S([^S]{0,2000}?)S/g,(_0xb27eac,_0x38b263)=>_0x45d7c7['test'](_0x38b263)?'$'+_0x3a3cb9(_0x38b263)+'$':_0xb27eac);while(_0x2ce39a++<0x14){const _0x20964c=_0x4ff731(_0x51fe6b);if(_0x20964c===_0x51fe6b)break;_0x51fe6b=_0x20964c;}_0x2b1ab4=_0x51fe6b,_0x2b1ab4=_0x2b1ab4[_0x1aca69(0x413)]('\x0a')[_0x1aca69(0x3f8)](_0x389b59=>{const _0x27423b=_0x1aca69;if(!(/[,\u3001，;；]/[_0x27423b(0x4e6)](_0x389b59)||/\s(?:และ|หรือ)\s/[_0x27423b(0x4e6)](_0x389b59))||!_0x45d7c7['test'](_0x389b59))return _0x389b59;return _0x53232b(_0x389b59)[_0x27423b(0x3f8)](_0x44e482=>{const _0xb744ee=_0x27423b;if(/^\s(?:และ|หรือ)\s$/[_0xb744ee(0x4e6)](_0x44e482)||/^[,\u3001，;；]$/[_0xb744ee(0x4e6)](_0x44e482))return _0x44e482;return _0x426348(_0x44e482);})[_0x27423b(0x6b7)]('');})['join']('\x0a'),_0x2b1ab4=_0x2b1ab4[_0x1aca69(0x413)]('\x0a')['map'](_0x8fd1a8=>{const _0x371af9=_0x1aca69,_0x5cf1c2=_0x8fd1a8[_0x371af9(0x855)]();if(!_0x5cf1c2)return _0x8fd1a8;const _0xd06736=/\$|\\\(|\\\[/[_0x371af9(0x4e6)](_0x5cf1c2),_0x2a3bee=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x371af9(0x4e6)](_0x5cf1c2);if(_0xd06736||!_0x2a3bee||_0x2e71ef(_0x5cf1c2))return _0x8fd1a8;return _0x8fd1a8['replace'](_0x5cf1c2,'$'+_0x3a3cb9(_0x5cf1c2)+'$');})[_0x1aca69(0x6b7)]('\x0a'),_0x2b1ab4=_0x2b1ab4[_0x1aca69(0x2f9)](/(\d+)\s*°\s*C\b/g,(_0x95be80,_0x28e44c,_0x25fc58,_0x290657)=>{const _0x3aeb41=_0x1aca69,_0x284f40=_0x290657[_0x25fc58-0x1];if(_0x284f40==='$'||_0x284f40==='S'||_0x284f40==='\x5c')return _0x95be80;return'$'+_0x28e44c+_0x3aeb41(0x60b);})[_0x1aca69(0x2f9)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5a2b9e,_0x355b72,_0xcf2904,_0x212626)=>{const _0x374d5c=_0x1aca69,_0x582e97=_0x212626[_0xcf2904-0x1];if(_0x582e97==='$'||_0x582e97==='S'||_0x582e97==='\x5c')return _0x5a2b9e;return'$'+_0x355b72+_0x374d5c(0x60b);})[_0x1aca69(0x2f9)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x10f33e,_0x3b39ed,_0x3b446e,_0x3143bc)=>{const _0x43fa1f=_0x1aca69,_0x6d81cd=_0x3143bc[_0x3b446e-0x1];if(_0x6d81cd==='$'||_0x6d81cd==='S'||_0x6d81cd==='\x5c')return _0x10f33e;return'$'+_0x3b39ed+_0x43fa1f(0x60b);}),_0x2b1ab4=_0x2b1ab4['replace'](/\$\s*\$/g,'$$'),_0x2b1ab4!==_0x3fd931&&(_0x596210(_0x5062f8,_0x2b1ab4),_0x4d2802++);});if(_0x4d2802>0x0){showMessage(_0x239899(0x5f9)+_0x4d2802+_0x239899(0x74e));try{if(window[_0x239899(0x60a)]&&MathJax['typesetPromise'])MathJax[_0x239899(0x59b)]();window['katex']&&typeof renderMathInElement===_0x239899(0x837)&&renderMathInElement(_0x2a963e,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0xc1dc4e){}}else showMessage(_0x239899(0x994));}async function listenForCustomMathTopics(){const _0x3a585b=_0x3ac816,_0xdfd73c=collection(db,'artifacts/'+appId+_0x3a585b(0x25e));onSnapshot(_0xdfd73c,_0x10440e=>{const _0x42d355=_0x3a585b;customMathTopics=_0x10440e[_0x42d355(0x336)][_0x42d355(0x3f8)](_0x570bf2=>({'id':_0x570bf2['id'],..._0x570bf2[_0x42d355(0x22a)]()})),renderTopicCheckboxes();},_0x42ad3b=>{const _0x520d8f=_0x3a585b;console[_0x520d8f(0x2fa)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x42ad3b);});}function handleSelectAllTopics(){const _0x3fb18f=_0x3ac816,_0x5c64ad=document['getElementById'](_0x3fb18f(0x62e)),_0x4147e6=_0x5c64ad[_0x3fb18f(0x8e6)]('input[type=\x22checkbox\x22]');_0x4147e6[_0x3fb18f(0x568)](_0x1ab9b3=>{const _0x344919=_0x3fb18f;_0x1ab9b3[_0x344919(0x33d)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xdcee4c=_0x3ac816,_0x11e6f6=document[_0xdcee4c(0xa1e)](_0xdcee4c(0x62e)),_0x3ec696=_0x11e6f6[_0xdcee4c(0x8e6)](_0xdcee4c(0xa32));_0x3ec696['forEach'](_0x36e9b5=>{const _0x3e1825=_0xdcee4c;_0x36e9b5[_0x3e1825(0x33d)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0xb60f6e){const _0x423eb4=_0x3ac816;if(!_0xb60f6e)return;try{const _0x3f17d5=doc(db,'artifacts/'+appId+_0x423eb4(0x25e),_0xb60f6e);await deleteDoc(_0x3f17d5),showMessage(_0x423eb4(0x938));}catch(_0x330a62){console['error'](_0x423eb4(0x81b),_0x330a62),showMessage(_0x423eb4(0x589));}}async function handleAddCustomMathTopic(){const _0x38f854=_0x3ac816,_0x115501=document[_0x38f854(0xa1e)](_0x38f854(0x647)),_0x100868=_0x115501[_0x38f854(0x3b8)][_0x38f854(0x855)]();if(!_0x100868){showMessage(_0x38f854(0x808));return;}if(!userId){showMessage(_0x38f854(0x456));return;}try{const _0x46613d=collection(db,_0x38f854(0xa0c)+appId+_0x38f854(0x25e));await addDoc(_0x46613d,{'name':_0x100868,'createdAt':serverTimestamp()}),_0x115501[_0x38f854(0x3b8)]='',showMessage(_0x38f854(0xa29)+_0x100868+_0x38f854(0x5e7));}catch(_0x1e5112){console[_0x38f854(0x2fa)](_0x38f854(0x498),_0x1e5112),showMessage(_0x38f854(0x5a4));}}async function handleUpdateOldQuizzes(){const _0x223008=_0x3ac816;showConfirmation(_0x223008(0x654),async()=>{const _0x3bca2a=_0x223008,_0x5bbbae=document[_0x3bca2a(0xa1e)](_0x3bca2a(0x8b8)),_0x3c9e0b=document['getElementById'](_0x3bca2a(0x295)),_0x5df74c=_0x3c9e0b[_0x3bca2a(0x32e)];_0x5bbbae['classList'][_0x3bca2a(0x309)](_0x3bca2a(0x8da)),_0x3c9e0b[_0x3bca2a(0x32e)]=_0x3bca2a(0x621);try{const _0x1323a7=collection(db,_0x3bca2a(0xa0c)+appId+'/public/data/quizzes'),_0x43e71c=await getDocs(_0x1323a7);if(_0x43e71c[_0x3bca2a(0x914)]){showMessage(_0x3bca2a(0x9ed));return;}const _0x3d28b5=writeBatch(db);let _0x5245ba=0x0;_0x43e71c['forEach'](_0x515328=>{const _0x5cddee=_0x3bca2a,_0x6ad9e3=_0x515328[_0x5cddee(0x22a)](),_0x80175a=_0x515328['id'];if(_0x6ad9e3['questions']&&_0x6ad9e3[_0x5cddee(0x2c3)][_0x5cddee(0x475)]>0x0&&!_0x6ad9e3[_0x5cddee(0x2c3)][0x0][_0x5cddee(0x316)]('id')){console[_0x5cddee(0x274)](_0x5cddee(0x6a2)+_0x80175a+'\x20('+_0x6ad9e3[_0x5cddee(0x633)]+')'),_0x5245ba++;const _0x52056f=_0x6ad9e3[_0x5cddee(0x2c3)][_0x5cddee(0x3f8)]((_0x469e0d,_0x10450b)=>{const _0x5a19fb=_0x5cddee;return{..._0x469e0d,'id':_0x469e0d['id']||'q_'+Date[_0x5a19fb(0x7c6)]()+'_'+_0x80175a+'_'+_0x10450b};}),_0x7dbe15=doc(db,_0x5cddee(0xa0c)+appId+_0x5cddee(0x7a0),_0x80175a);_0x3d28b5[_0x5cddee(0x643)](_0x7dbe15,{'questions':_0x52056f});}}),_0x5245ba>0x0?(_0x3c9e0b[_0x3bca2a(0x32e)]=_0x3bca2a(0x6b1)+_0x5245ba+_0x3bca2a(0x645),await _0x3d28b5['commit'](),showMessage(_0x3bca2a(0x9de)+_0x5245ba+_0x3bca2a(0x79c))):showMessage(_0x3bca2a(0x320));}catch(_0x1a3b56){console[_0x3bca2a(0x2fa)]('Error\x20updating\x20old\x20quizzes:',_0x1a3b56),showMessage(_0x3bca2a(0x8bc)+_0x1a3b56['message']);}finally{_0x5bbbae[_0x3bca2a(0x6d9)][_0x3bca2a(0x992)](_0x3bca2a(0x8da)),_0x3c9e0b[_0x3bca2a(0x32e)]=_0x5df74c;}});}async function handleBulkUpdateQuizSettings(){const _0x53b663=_0x3ac816,_0x1494d0={'shuffle':document[_0x53b663(0xa1e)](_0x53b663(0x954))[_0x53b663(0x3b8)],'resultsDisplay':document[_0x53b663(0xa1e)](_0x53b663(0x95e))[_0x53b663(0x3b8)],'loopUntilPass':document[_0x53b663(0xa1e)](_0x53b663(0x69d))[_0x53b663(0x33d)]},_0x50ec9a=allQuizzesGlobal['length'];showConfirmation(_0x53b663(0x64b)+_0x50ec9a+_0x53b663(0xa03),async()=>{const _0xb25331=_0x53b663,_0x4ed854=document[_0xb25331(0xa1e)](_0xb25331(0x87e));_0x4ed854['disabled']=!![],_0x4ed854[_0xb25331(0x49f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x43a35c=writeBatch(db);allQuizzesGlobal[_0xb25331(0x568)](_0x3c9c7f=>{const _0x19a9cf=_0xb25331,_0x3946cf=doc(db,_0x19a9cf(0xa0c)+appId+_0x19a9cf(0x7a0),_0x3c9c7f['id']),_0x123c2e={..._0x3c9c7f[_0x19a9cf(0x419)]||{},..._0x1494d0};_0x43a35c[_0x19a9cf(0x643)](_0x3946cf,{'settings':_0x123c2e});}),await _0x43a35c[_0xb25331(0x243)](),document['getElementById'](_0xb25331(0x852))[_0xb25331(0x6d9)][_0xb25331(0x992)](_0xb25331(0x8da)),showMessage(_0xb25331(0x876)+_0x50ec9a+_0xb25331(0x592));}catch(_0x5ac0ff){console[_0xb25331(0x2fa)](_0xb25331(0x4aa),_0x5ac0ff),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x4ed854[_0xb25331(0x370)]=![],_0x4ed854[_0xb25331(0x49f)]=_0xb25331(0x445);}});}async function handleSaveProjectName(){const _0x32b805=_0x3ac816,_0x39b481=document[_0x32b805(0xa1e)](_0x32b805(0x54f)),_0x55c7e6=document[_0x32b805(0xa1e)]('save-project-name-btn'),_0x49bfc9=_0x39b481['textContent'][_0x32b805(0x855)]();if(!_0x49bfc9||!currentProjectId){showMessage(_0x32b805(0x833)),_0x39b481[_0x32b805(0x32e)]=currentProjectData[_0x32b805(0x8c5)];return;}_0x55c7e6[_0x32b805(0x370)]=!![],_0x55c7e6['innerHTML']=_0x32b805(0x8ef);try{const _0xe44410=doc(db,_0x32b805(0xa0c)+appId+_0x32b805(0x6de),currentProjectId);await updateDoc(_0xe44410,{'projectName':_0x49bfc9}),currentProjectData&&(currentProjectData[_0x32b805(0x8c5)]=_0x49bfc9),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x1ade96){console[_0x32b805(0x2fa)]('Error\x20updating\x20project\x20name:',_0x1ade96),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x39b481['textContent']=currentProjectData[_0x32b805(0x8c5)];}finally{_0x55c7e6['classList'][_0x32b805(0x992)](_0x32b805(0x8da)),_0x55c7e6[_0x32b805(0x370)]=![],_0x55c7e6[_0x32b805(0x49f)]=_0x32b805(0x692);}}async function initialize(){const _0x59db91=_0x3ac816;try{const _0x242c26=initializeApp(firebaseConfig);db=getFirestore(_0x242c26),auth=getAuth(_0x242c26),setupAuthListener(),setupEventListeners(),setupScratchpadControls(),showView(_0x59db91(0x7cc)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x282a62){console[_0x59db91(0x2fa)](_0x59db91(0x753),_0x282a62),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x1f35a9=_0x3ac816,_0x3f8804=document[_0x1f35a9(0xa1e)]('quiz-editor-modal');if(!_0x3f8804)return;const _0xf5065d=document[_0x1f35a9(0xa1e)]('verify-answers-editor-btn');_0xf5065d[_0x1f35a9(0x370)]=!![],_0xf5065d[_0x1f35a9(0x49f)]=_0x1f35a9(0x967);try{const _0x103026=_0x3f8804[_0x1f35a9(0x8e6)](_0x1f35a9(0xa26)),_0x124013=Array[_0x1f35a9(0x800)](_0x103026)[_0x1f35a9(0x3f8)]((_0x174bc4,_0x2691b2)=>{const _0x3e04c1=_0x1f35a9,_0x3eb30e=_0x174bc4['dataset']['qType'],_0x3da4c2=_0x174bc4[_0x3e04c1(0x46d)](_0x3e04c1(0x3ae))[_0x3e04c1(0x3b8)];let _0x108aef=null,_0x2a57fe='';switch(_0x3eb30e){case _0x3e04c1(0x882):const _0x501d45=_0x174bc4[_0x3e04c1(0x8e6)](_0x3e04c1(0x6b8));_0x108aef=Array[_0x3e04c1(0x800)](_0x501d45)[_0x3e04c1(0x3f8)](_0x49cdff=>_0x49cdff[_0x3e04c1(0x3b8)]);const _0xfa5f0=_0x174bc4[_0x3e04c1(0x46d)](_0x3e04c1(0x557));_0xfa5f0&&(_0x2a57fe=_0x108aef[parseInt(_0xfa5f0['value'])]);break;case _0x3e04c1(0xa05):_0x2a57fe=_0x174bc4[_0x3e04c1(0x46d)](_0x3e04c1(0x804))[_0x3e04c1(0x3b8)];break;case'true_false':const _0x18187e=_0x174bc4[_0x3e04c1(0x46d)](_0x3e04c1(0x557));_0x2a57fe=_0x18187e?_0x18187e[_0x3e04c1(0x3b8)]:'';break;case _0x3e04c1(0x541):_0x2a57fe=_0x174bc4[_0x3e04c1(0x46d)]('.correct-response-input')[_0x3e04c1(0x3b8)];break;}return{'question':_0x3da4c2,'options':_0x108aef,'proposedAnswer':_0x2a57fe};}),_0x53536d=_0x1f35a9(0x4ef)+JSON[_0x1f35a9(0x567)](_0x124013)+_0x1f35a9(0x751),_0x3c8898={'type':_0x1f35a9(0x8b1),'items':{'type':_0x1f35a9(0x5f8),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1f35a9(0x311)},'justification':{'type':_0x1f35a9(0x4d0)},'suggestedAnswer':{'type':_0x1f35a9(0x4d0)}},'required':[_0x1f35a9(0x6c8),_0x1f35a9(0x594),'justification']}},_0x19dd8d=await callAnalysisApi(_0x53536d,{'type':'OBJECT','properties':{'result':_0x3c8898},'required':[_0x1f35a9(0x832)]});displayVerificationResultsInEditor(_0x19dd8d['result']);}catch(_0x888683){console[_0x1f35a9(0x2fa)](_0x1f35a9(0x23b),_0x888683),showMessage(_0x1f35a9(0x350));}finally{_0xf5065d[_0x1f35a9(0x370)]=![],_0xf5065d[_0x1f35a9(0x49f)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0xad99){const _0x27c7c1=_0x3ac816;_0xad99[_0x27c7c1(0x568)](_0x430a1e=>{const _0x1092af=_0x27c7c1,_0x4f3f74=document[_0x1092af(0x46d)](_0x1092af(0x399)+_0x430a1e[_0x1092af(0x6c8)]+'\x22]');if(!_0x4f3f74)return;const _0x29b620=_0x4f3f74[_0x1092af(0x46d)]('.verification-result-editor');if(_0x29b620)_0x29b620[_0x1092af(0x309)]();let _0x3a02ef='';if(_0x430a1e[_0x1092af(0x594)])_0x3a02ef=_0x1092af(0x4fe);else{const _0x1547fa=_0x430a1e[_0x1092af(0x25c)]?_0x1092af(0x503):'';_0x3a02ef='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x1547fa+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x430a1e[_0x1092af(0xa40)]+_0x1092af(0x761)+(_0x430a1e[_0x1092af(0x25c)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x430a1e[_0x1092af(0x25c)]+_0x1092af(0x59f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x4f3f74[_0x1092af(0x89d)](_0x1092af(0x55d),_0x3a02ef);if(!_0x430a1e[_0x1092af(0x594)]&&_0x430a1e[_0x1092af(0x25c)]){const _0x3bccd8=_0x4f3f74['dataset'][_0x1092af(0x5f2)],_0x4bc7ed=_0x417a44=>{const _0x5c7dc8=_0x1092af;if(!_0x417a44)return;_0x417a44[_0x5c7dc8(0x6d9)][_0x5c7dc8(0x992)]('bg-green-200','transition-all',_0x5c7dc8(0x97b)),setTimeout(()=>{_0x417a44['classList']['remove']('bg-green-200');},0x9c4);};if(_0x3bccd8==='multiple_choice'){const _0x5ddf8a=Array[_0x1092af(0x800)](_0x4f3f74[_0x1092af(0x8e6)]('input[type=\x22text\x22]')),_0x244d3c=_0x5ddf8a['findIndex'](_0x1a3c48=>_0x1a3c48[_0x1092af(0x3b8)][_0x1092af(0x855)]()[_0x1092af(0x4c0)]()===_0x430a1e['suggestedAnswer'][_0x1092af(0x855)]()[_0x1092af(0x4c0)]());if(_0x244d3c!==-0x1){const _0x593f24=_0x4f3f74[_0x1092af(0x46d)](_0x1092af(0x637)+_0x244d3c+'\x22]');_0x593f24&&(_0x593f24[_0x1092af(0x33d)]=!![],_0x4bc7ed(_0x593f24[_0x1092af(0x310)](_0x1092af(0x3b2))));}}else{if(_0x3bccd8==='short_answer'||_0x3bccd8==='matching_item'){const _0x471bd2=_0x4f3f74[_0x1092af(0x46d)](_0x1092af(0x75d));_0x471bd2&&(_0x471bd2['value']=_0x430a1e[_0x1092af(0x25c)],_0x4bc7ed(_0x471bd2));}else{if(_0x3bccd8===_0x1092af(0x8f5)){const _0x268f08=_0x430a1e[_0x1092af(0x25c)][_0x1092af(0x855)]()['toLowerCase'](),_0x7e3b8d=_0x4f3f74[_0x1092af(0x46d)](_0x1092af(0x637)+_0x268f08+'\x22]');_0x7e3b8d&&(_0x7e3b8d[_0x1092af(0x33d)]=!![],_0x4bc7ed(_0x7e3b8d[_0x1092af(0x310)]('div')));}}}}}),showMessage(_0x27c7c1(0x8d4));}async function handleVerifyAnswers(){const _0x5a243d=_0x3ac816;if(!currentQuizData||!currentQuizData[_0x5a243d(0x2c3)]){showMessage(_0x5a243d(0x84d));return;}const _0x5baea3=document[_0x5a243d(0xa1e)](_0x5a243d(0x980));_0x5baea3['disabled']=!![],_0x5baea3[_0x5a243d(0x49f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x490883=currentQuizData[_0x5a243d(0x2c3)][_0x5a243d(0x3f8)]((_0x5e5c4d,_0x73587e)=>{const _0x7807=_0x5a243d;let _0x115742='';const _0x49cbeb=_0x5e5c4d[_0x7807(0x7bf)]||currentQuizData[_0x7807(0x41e)];switch(_0x49cbeb){case _0x7807(0x882):_0x115742=_0x5e5c4d[_0x7807(0x431)][_0x5e5c4d['correctAnswerIndex']];break;case'short_answer':_0x115742=_0x5e5c4d['idealAnswer'];break;case _0x7807(0x8f5):_0x115742=_0x5e5c4d[_0x7807(0x8db)][_0x7807(0x697)]();break;case'matching_item':_0x115742=_0x5e5c4d[_0x7807(0x4bd)];break;}return{'question':_0x5e5c4d['stem']||_0x5e5c4d[_0x7807(0x414)],'options':_0x5e5c4d[_0x7807(0x431)]||null,'proposedAnswer':_0x115742};}),_0x495f4b=_0x5a243d(0x2de)+JSON[_0x5a243d(0x567)](_0x490883)+_0x5a243d(0xa2b),_0x493ec0={'type':_0x5a243d(0x8b1),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x5a243d(0x6a3)},'isCorrect':{'type':_0x5a243d(0x311)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x5a243d(0x4d0)}},'required':[_0x5a243d(0x6c8),'isCorrect','justification']}},_0x256c49=await callAnalysisApi(_0x495f4b,{'type':_0x5a243d(0x5f8),'properties':{'result':_0x493ec0},'required':['result']});displayVerificationResults(_0x256c49[_0x5a243d(0x832)]);}catch(_0x11fbba){console['error'](_0x5a243d(0x547),_0x11fbba),showMessage(_0x5a243d(0x350));}finally{_0x5baea3[_0x5a243d(0x370)]=![],_0x5baea3[_0x5a243d(0x49f)]=_0x5a243d(0x2c7);}}function displayVerificationResults(_0x438d18){const _0x1145d0=_0x3ac816;_0x438d18[_0x1145d0(0x568)](_0x5ef82f=>{const _0x4dabbf=_0x1145d0,_0xd5fd72=document[_0x4dabbf(0x46d)](_0x4dabbf(0x905)+_0x5ef82f[_0x4dabbf(0x6c8)]+'\x22]');if(_0xd5fd72){const _0xa48df9=_0xd5fd72['querySelector'](_0x4dabbf(0x64f));if(_0xa48df9)_0xa48df9[_0x4dabbf(0x309)]();let _0x44bb3c='';_0x5ef82f[_0x4dabbf(0x594)]?_0x44bb3c=_0x4dabbf(0x44c):_0x44bb3c=_0x4dabbf(0x8ee)+_0x5ef82f[_0x4dabbf(0xa40)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ef82f['suggestedAnswer']?_0x4dabbf(0x8c6)+_0x5ef82f[_0x4dabbf(0x25c)]+_0x4dabbf(0x59f):'')+_0x4dabbf(0x747),_0xd5fd72[_0x4dabbf(0x89d)](_0x4dabbf(0x55d),_0x44bb3c);}}),showMessage(_0x1145d0(0x8d4));}function compareNumericalAnswers(_0x4d4e9c,_0x41c62b){const _0x323440=_0x3ac816,_0xe8bf24=String(_0x4d4e9c)[_0x323440(0x2f9)](',','.')[_0x323440(0x2f9)](/[^\d.-]/g,'')[_0x323440(0x855)](),_0x213a97=String(_0x41c62b)[_0x323440(0x2f9)](',','.')['replace'](/[^\d.-]/g,'')[_0x323440(0x855)]();if(_0xe8bf24===''||_0x213a97==='')return![];const _0x1ec1d1=parseFloat(_0xe8bf24),_0x5f27a9=parseFloat(_0x213a97);if(isNaN(_0x1ec1d1)||isNaN(_0x5f27a9))return![];return Math['abs'](_0x1ec1d1-_0x5f27a9)<0.001;}async function gradeShortAnswer(_0x2ef7d7,_0x1041fd){const _0x2a83f7=_0x3ac816,_0x31104f=_0x1041fd[_0x2a83f7(0x6c0)];if(String(_0x2ef7d7)['trim']()[_0x2a83f7(0x4c0)]()===String(_0x31104f)['trim']()[_0x2a83f7(0x4c0)]())return!![];if(compareNumericalAnswers(_0x2ef7d7,_0x31104f))return!![];return console[_0x2a83f7(0x274)](_0x2a83f7(0x4d5)),await gradeShortAnswerWithAI(_0x2ef7d7,_0x31104f);}async function revealAnswerForAdmin(_0x2e755a,_0x1c094a){const _0x809089=_0x3ac816,_0xb5f35b=doc(db,_0x809089(0xa0c)+appId+_0x809089(0x2b7),currentLiveGameId);await updateDoc(_0xb5f35b,{'questionStatus':_0x809089(0x656)});}function showTop5LeaderboardView(_0x402542){const _0x5a331a=_0x3ac816,_0x517591=Object[_0x5a331a(0x587)](_0x402542['players']||{})[_0x5a331a(0x417)](_0xfab021=>_0xfab021[_0x5a331a(0x93b)]===_0x5a331a(0x745));_0x517591[_0x5a331a(0x9a5)]((_0x19dd2e,_0x38ac95)=>_0x38ac95[_0x5a331a(0x582)]-_0x19dd2e[_0x5a331a(0x582)]);const _0x4a5f0f=_0x517591[_0x5a331a(0x493)](0x0,0x5),_0x2df6ba='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a5f0f['map']((_0x443ad8,_0x7a4095)=>_0x5a331a(0x5d3)+(_0x7a4095+0x1)+'.\x20'+(_0x443ad8['name']||Object['keys'](_0x402542['players'])[_0x5a331a(0x3a9)](_0x4bef7c=>_0x402542[_0x5a331a(0x82e)][_0x4bef7c]===_0x443ad8))+_0x5a331a(0x9d3)+_0x443ad8[_0x5a331a(0x582)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5a331a(0x6b7)]('')+_0x5a331a(0x764)+(_0x402542[_0x5a331a(0x6be)]+0x1===currentQuizData[_0x5a331a(0x2c3)][_0x5a331a(0x475)]?'สรุปผลสุดท้าย':_0x5a331a(0x784))+_0x5a331a(0x4c2);liveGameView[_0x5a331a(0x49f)]=_0x2df6ba,document[_0x5a331a(0xa1e)](_0x5a331a(0x24c))[_0x5a331a(0x84f)](_0x5a331a(0x321),async()=>{const _0xdc1be1=_0x5a331a,_0x48d685=doc(db,_0xdc1be1(0xa0c)+appId+_0xdc1be1(0x2b7),currentLiveGameId),_0x53d5c2=_0x402542[_0xdc1be1(0x6be)]+0x1;if(_0x53d5c2<currentQuizData[_0xdc1be1(0x2c3)]['length']){const _0x563f14={'currentQuestionIndex':_0x53d5c2,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0xdc1be1(0x38f)};Object[_0xdc1be1(0x4e0)](_0x402542['players'])[_0xdc1be1(0x568)](_0x1bf51b=>{const _0x244580=_0xdc1be1;_0x563f14[_0x244580(0x7b5)+_0x1bf51b+_0x244580(0x8b9)]=![];}),await updateDoc(_0x48d685,_0x563f14);}else await updateDoc(_0x48d685,{'status':_0xdc1be1(0xa13)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x48a08b=>{const _0x42b8b4=_0x4938;if(_0x48a08b){userId=_0x48a08b[_0x42b8b4(0x759)],userIdDisplay[_0x42b8b4(0x32e)]=userId;const _0x512eff=await loadUserPreferences();_0x512eff['projectSortOrder']&&(document['getElementById']('project-sort-select')['value']=_0x512eff[_0x42b8b4(0x1f9)]);globalDashboardSettings['projectView']=_0x512eff[_0x42b8b4(0x924)]||_0x42b8b4(0x76d);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x23a57a,_0x137004){const _0xee4a6c=_0x3ac816;if(!userId)return;try{const _0x52efa5=doc(db,_0xee4a6c(0xa0c)+appId+_0xee4a6c(0x6ae)+userId+_0xee4a6c(0xa25)),_0x2f1730={};_0x2f1730[_0x23a57a]=_0x137004,await setDoc(_0x52efa5,_0x2f1730,{'merge':!![]});}catch(_0x11a801){console['error']('Error\x20saving\x20user\x20preference:',_0x11a801);}}async function loadUserPreferences(){const _0x5ae71d=_0x3ac816;if(!userId)return{};try{const _0xb0b99e=doc(db,'artifacts/'+appId+'/users/'+userId+_0x5ae71d(0xa25)),_0xcb780b=await getDoc(_0xb0b99e);if(_0xcb780b[_0x5ae71d(0x72f)]())return _0xcb780b['data']();return{};}catch(_0x3cf1e7){return console['error'](_0x5ae71d(0x733),_0x3cf1e7),{};}}function showPodiumView(_0x4b2052){const _0x4bcf25=_0x3ac816,_0x47d14d=Object[_0x4bcf25(0x80b)](_0x4b2052)['map'](([_0x4f8b7a,_0x500623])=>({'name':_0x4f8b7a,'score':_0x500623['score']||0x0,'badges':_0x500623['badges']||[]}));_0x47d14d[_0x4bcf25(0x9a5)]((_0x1ba95c,_0x40dcf2)=>{const _0x26f172=_0x4bcf25,_0xbb517b=_0x40dcf2['score']-_0x1ba95c[_0x26f172(0x582)];if(_0xbb517b!==0x0)return _0xbb517b;return(_0x40dcf2[_0x26f172(0x84c)][_0x26f172(0x475)]||0x0)-(_0x1ba95c['badges'][_0x26f172(0x475)]||0x0);});const _0x3cf0d2=_0x384320=>{const _0x42befd=_0x4bcf25;if(!_0x384320||_0x384320['length']===0x0)return'';const _0x4a4934={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x42befd(0x367)+_0x384320['map'](_0x35a72e=>_0x4a4934[_0x35a72e]||'')[_0x42befd(0x6b7)]('')+_0x42befd(0x516);},_0x2a47c2=_0x47d14d[_0x4bcf25(0x493)](0x3),_0x5b3575=_0x2a47c2[_0x4bcf25(0x475)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a47c2[_0x4bcf25(0x3f8)]((_0x10a239,_0x3f5ddb)=>_0x4bcf25(0x851)+(_0x3f5ddb+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x10a239[_0x4bcf25(0x6e0)]+_0x4bcf25(0x77e)+_0x10a239[_0x4bcf25(0x582)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x4bcf25(0x604):'',_0x458ef0=_0x4bcf25(0x4ea)+(_0x47d14d[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x47d14d[0x1][_0x4bcf25(0x6e0)]+_0x4bcf25(0x761)+_0x3cf0d2(_0x47d14d[0x1][_0x4bcf25(0x84c)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x47d14d[0x1]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4bcf25(0x3ff))+_0x4bcf25(0x7d7)+(_0x47d14d[0x0]?_0x4bcf25(0xa2a)+_0x47d14d[0x0][_0x4bcf25(0x6e0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cf0d2(_0x47d14d[0x0]['badges'])+_0x4bcf25(0x866)+_0x47d14d[0x0][_0x4bcf25(0x582)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4bcf25(0x3ff))+_0x4bcf25(0x7d7)+(_0x47d14d[0x2]?_0x4bcf25(0x5eb)+_0x47d14d[0x2][_0x4bcf25(0x6e0)]+_0x4bcf25(0x761)+_0x3cf0d2(_0x47d14d[0x2][_0x4bcf25(0x84c)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x47d14d[0x2]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+_0x4bcf25(0x4c5)+_0x5b3575+_0x4bcf25(0x4a2)+(currentMode===_0x4bcf25(0x50e)?_0x4bcf25(0x880):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x4bcf25(0x6b4);liveGameView[_0x4bcf25(0x49f)]=_0x458ef0,currentMode===_0x4bcf25(0x50e)&&document['getElementById'](_0x4bcf25(0x508))[_0x4bcf25(0x84f)](_0x4bcf25(0x321),async()=>{const _0x5e689a=_0x4bcf25,_0x79e0e7=doc(db,'artifacts/'+appId+_0x5e689a(0x2b7),currentLiveGameId);await deleteDoc(_0x79e0e7),showView(_0x5e689a(0x6c7));});}async function handleStartLiveRace(_0x40c70e){const _0x125f2b=_0x3ac816;let _0x3772c5=allQuizzes[_0x125f2b(0x3a9)](_0x5acff9=>_0x5acff9['id']===_0x40c70e);if(!_0x3772c5){const _0x3a0149=doc(db,'artifacts/'+appId+_0x125f2b(0x7a0),_0x40c70e),_0x2ebd03=await getDoc(_0x3a0149);if(!_0x2ebd03['exists']()){showMessage(_0x125f2b(0x2cb));return;}_0x3772c5={'id':_0x2ebd03['id'],..._0x2ebd03[_0x125f2b(0x22a)]()};}const _0x4b6cf5=getShuffledQuiz(_0x3772c5);currentQuizData=_0x4b6cf5;const _0x16ee9e=_0x3772c5[_0x125f2b(0x6f3)]||currentProjectId||null,_0x381ccc=Math['floor'](0x3e8+Math[_0x125f2b(0x5ff)]()*0x2328)[_0x125f2b(0x697)]();currentLiveGamePin=_0x381ccc;try{const _0x180f49=await addDoc(collection(db,'artifacts/'+appId+_0x125f2b(0x2b7)),{'quizId':_0x40c70e,'projectId':_0x16ee9e,'status':_0x125f2b(0x43e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x381ccc,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4b6cf5});currentLiveGameId=_0x180f49['id'],showAdminLobbyView(_0x381ccc,_0x3772c5['topic']),listenForLiveGameUpdates();}catch(_0x52b6de){console['error'](_0x125f2b(0x89f),_0x52b6de),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x4f8146=_0x3ac816,_0x5e09f8=document[_0x4f8146(0x46d)](_0x4f8146(0x58d));_0x5e09f8&&(_0x5e09f8[_0x4f8146(0x49f)]=_0x4f8146(0x653));const _0x256ffe=document[_0x4f8146(0x46d)](_0x4f8146(0x40c));_0x256ffe&&(_0x256ffe[_0x4f8146(0x49f)]=_0x4f8146(0x942));const _0x4a2c77=document['getElementById']('student-rankings-modal');_0x4a2c77['classList'][_0x4f8146(0x309)]('hidden'),document[_0x4f8146(0xa1e)](_0x4f8146(0x481))[_0x4f8146(0x7ea)]=()=>_0x4a2c77['classList']['add'](_0x4f8146(0x8da));const _0x2f7c8a=document['getElementById'](_0x4f8146(0xa3c)),_0x2b545f=document[_0x4f8146(0xa1e)](_0x4f8146(0x64c)),_0x2afa8f=document[_0x4f8146(0xa1e)]('student-quiz-leaderboard-content'),_0x51b379=document[_0x4f8146(0xa1e)](_0x4f8146(0x606));_0x2f7c8a[_0x4f8146(0x7ea)]=()=>{const _0x54c815=_0x4f8146;_0x2f7c8a[_0x54c815(0x6d9)][_0x54c815(0x992)](_0x54c815(0x745)),_0x2b545f['classList']['remove'](_0x54c815(0x745)),_0x2afa8f['classList'][_0x54c815(0x309)](_0x54c815(0x8da)),_0x51b379[_0x54c815(0x6d9)][_0x54c815(0x992)](_0x54c815(0x8da));},_0x2b545f[_0x4f8146(0x7ea)]=()=>{const _0x530a65=_0x4f8146;_0x2b545f[_0x530a65(0x6d9)]['add'](_0x530a65(0x745)),_0x2f7c8a[_0x530a65(0x6d9)][_0x530a65(0x309)](_0x530a65(0x745)),_0x51b379[_0x530a65(0x6d9)][_0x530a65(0x309)](_0x530a65(0x8da)),_0x2afa8f['classList'][_0x530a65(0x992)]('hidden');};try{const _0x298522=collection(db,_0x4f8146(0xa0c)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x4f8146(0x50f)),_0x33a248=await getDocs(_0x298522),_0x1d64be=_0x33a248['docs'][_0x4f8146(0x3f8)](_0x32db35=>_0x32db35[_0x4f8146(0x22a)]());renderQuizLeaderboard(_0x1d64be,currentQuizData,_0x4f8146(0x6e6));const _0x1afec0=collection(db,_0x4f8146(0xa0c)+appId+_0x4f8146(0x501)+currentQuizData['projectId']+_0x4f8146(0x2d8)),_0x213453=await getDocs(_0x1afec0),_0x3eb03c=_0x213453[_0x4f8146(0x336)]['map'](_0x327170=>_0x327170['data']());renderLeaderboard(_0x3eb03c,_0x4f8146(0x226));}catch(_0x44ea0b){console[_0x4f8146(0x2fa)](_0x4f8146(0x85f),_0x44ea0b),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x2701e4){const _0x180a30=_0x3ac816,_0x38e813=_0x2701e4[_0x180a30(0x713)],_0x3d50ca=_0x38e813[_0x180a30(0x7b1)]['index'],_0x5178c1=currentQuizData[_0x180a30(0x2c3)][_0x3d50ca];if(!userId){showMessage(_0x180a30(0x893));return;}try{const _0x2bd921={..._0x5178c1,'originalTopic':currentQuizData[_0x180a30(0x633)],'savedAt':serverTimestamp()},_0x3a556c=collection(db,_0x180a30(0xa0c)+appId+_0x180a30(0x6ae)+userId+_0x180a30(0x8c0));await addDoc(_0x3a556c,_0x2bd921),showMessage(_0x180a30(0x83f)),_0x38e813[_0x180a30(0x6d9)]['remove'](_0x180a30(0x35f)),_0x38e813[_0x180a30(0x6d9)]['add'](_0x180a30(0x726)),_0x38e813[_0x180a30(0x370)]=!![];}catch(_0x6277c1){console[_0x180a30(0x2fa)](_0x180a30(0x709),_0x6277c1),showMessage(_0x180a30(0x539));}}function listenForStarredQuizzes(){const _0x4bdb5b=_0x3ac816;if(!userId)return;const _0x3c1503=collection(db,_0x4bdb5b(0xa0c)+appId+_0x4bdb5b(0x7a0)),_0x3baf9f=query(_0x3c1503,where(_0x4bdb5b(0x85b),'==',!![]));onSnapshot(_0x3baf9f,_0x3fb4b0=>{const _0x52e74c=_0x4bdb5b;starredQuizzes=_0x3fb4b0[_0x52e74c(0x336)][_0x52e74c(0x3f8)](_0x4f50bd=>({'id':_0x4f50bd['id'],..._0x4f50bd[_0x52e74c(0x22a)]()})),currentProjectId===_0x52e74c(0x383)?renderQuizzes():renderProjects();},_0x1dd9f8=>{const _0x927e7f=_0x4bdb5b;console[_0x927e7f(0x2fa)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x1dd9f8);});}function exportQuizAsWorksheetPDF(){const _0x220d16=_0x3ac816;if(!currentQuizData||!currentQuizData[_0x220d16(0x2c3)]){showMessage(_0x220d16(0x266));return;}const _0x7c98ee=currentQuizData,_0x52e4f2=window[_0x220d16(0x824)]('',_0x220d16(0x758)),_0x4c73f4=_0x2b166a=>String[_0x220d16(0x8e0)](0x41+_0x2b166a),_0x515b80='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x7c98ee[_0x220d16(0x633)]+_0x220d16(0x9c6)+_0x7c98ee[_0x220d16(0x633)]+_0x220d16(0x43a)+_0x7c98ee[_0x220d16(0x2c3)]['map']((_0x38d06a,_0x47068e)=>{const _0x95b45b=_0x220d16;let _0x895579='';const _0x3b9a93=_0x38d06a[_0x95b45b(0x7bf)]||_0x7c98ee['quizType'];switch(_0x3b9a93){case'multiple_choice':case _0x95b45b(0x523):_0x895579=_0x95b45b(0x409)+_0x38d06a[_0x95b45b(0x431)][_0x95b45b(0x3f8)]((_0x33f148,_0x190716)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4c73f4(_0x190716)+'.\x20'+_0x33f148+_0x95b45b(0x686))[_0x95b45b(0x6b7)]('<br>')+_0x95b45b(0x516);break;case _0x95b45b(0x8f5):_0x895579=_0x95b45b(0x510);break;default:_0x895579=_0x95b45b(0x366);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x47068e+0x1)+_0x95b45b(0x5be)+(_0x38d06a['stem']||_0x38d06a[_0x95b45b(0x414)])+_0x95b45b(0x213)+(_0x38d06a['imageCode']?_0x95b45b(0x6ca)+_0x38d06a[_0x95b45b(0x2fb)]+_0x95b45b(0x516):'')+_0x95b45b(0x648)+_0x895579+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x220d16(0x6b7)]('')+_0x220d16(0x34c);_0x52e4f2[_0x220d16(0x53f)][_0x220d16(0x98d)](_0x515b80),_0x52e4f2[_0x220d16(0x53f)]['close'](),_0x52e4f2[_0x220d16(0x886)]=function(){setTimeout(()=>{const _0x2a73a5=_0x4938;_0x52e4f2[_0x2a73a5(0x88d)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3b8b66=_0x3ac816;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3b8b66(0x266));return;}const _0x49583b=currentQuizData,_0xd360f1=window['open']('',_0x3b8b66(0x758)),_0x354450=_0x524915=>String[_0x3b8b66(0x8e0)](0x41+_0x524915),_0x4e895f=_0x3b8b66(0x636)+_0x49583b[_0x3b8b66(0x633)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49583b[_0x3b8b66(0x2c3)][_0x3b8b66(0x3f8)]((_0x1332e1,_0x959f0b)=>{const _0x22fadd=_0x3b8b66;let _0xf55932='';const _0xc67683=_0x1332e1[_0x22fadd(0x7bf)]||_0x49583b[_0x22fadd(0x41e)];switch(_0xc67683){case _0x22fadd(0x882):case'fill_in_with_choices':_0xf55932=_0x22fadd(0x368)+_0x1332e1['options'][_0x22fadd(0x3f8)]((_0x8c5949,_0x3bf4cb)=>_0x22fadd(0x7b4)+_0x354450(_0x3bf4cb)+'.\x20'+_0x8c5949+_0x22fadd(0x2bd))[_0x22fadd(0x6b7)]('<br>')+_0x22fadd(0x44a);break;case _0x22fadd(0x8f5):_0xf55932=_0x22fadd(0x3d5);break;default:_0xf55932='';break;}return _0x22fadd(0x9f8)+_0x49583b[_0x22fadd(0x633)]+_0x22fadd(0x48c)+(_0x959f0b+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x1332e1[_0x22fadd(0x799)]||_0x1332e1[_0x22fadd(0x414)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1332e1[_0x22fadd(0x2fb)]?_0x22fadd(0x786)+_0x1332e1[_0x22fadd(0x2fb)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf55932+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3b8b66(0x6b7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xd360f1[_0x3b8b66(0x53f)][_0x3b8b66(0x98d)](_0x4e895f),_0xd360f1[_0x3b8b66(0x53f)][_0x3b8b66(0x2b2)](),_0xd360f1[_0x3b8b66(0x886)]=function(){setTimeout(()=>{const _0x4dfca1=_0x4938;_0xd360f1[_0x4dfca1(0x88d)]();},0x5dc);};}async function handleToggleStarQuiz(_0xfa89bf){const _0x5928d6=_0x3ac816,_0x5c1b2e=doc(db,_0x5928d6(0xa0c)+appId+'/public/data/quizzes',_0xfa89bf);try{const _0x140d2d=await getDoc(_0x5c1b2e);if(_0x140d2d[_0x5928d6(0x72f)]()){const _0x5e93b6=_0x140d2d[_0x5928d6(0x22a)]()[_0x5928d6(0x85b)]||![];await updateDoc(_0x5c1b2e,{'isStarred':!_0x5e93b6});}}catch(_0x58839b){console[_0x5928d6(0x2fa)](_0x5928d6(0x253),_0x58839b),showMessage(_0x5928d6(0x666));}}async function displayQuestionBank(){const _0xc80ece=_0x3ac816,_0x5da440=document[_0xc80ece(0xa1e)](_0xc80ece(0x570));_0x5da440['innerHTML']=_0xc80ece(0x36c);try{const _0x9798f=collection(db,_0xc80ece(0xa0c)+appId+_0xc80ece(0x6ae)+userId+_0xc80ece(0x8c0)),_0x3345b8=query(_0x9798f),_0x415b26=await getDocs(_0x3345b8);if(_0x415b26[_0xc80ece(0x914)]){_0x5da440[_0xc80ece(0x49f)]=_0xc80ece(0x41b);return;}let _0x3900df=_0x415b26[_0xc80ece(0x336)]['map'](_0x5b6c37=>{const _0x1a0901=_0xc80ece,_0x1d1028=_0x5b6c37[_0x1a0901(0x22a)](),_0x15259e=_0x5b6c37['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x1a0901(0x567)](_0x1d1028)+_0x1a0901(0x585)+(_0x1d1028[_0x1a0901(0x414)]||_0x1d1028['stem'])+_0x1a0901(0x2ed)+_0x1d1028[_0x1a0901(0x58b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xc80ece(0x6b7)]('');_0x5da440[_0xc80ece(0x49f)]=_0xc80ece(0x815)+_0x3900df+_0xc80ece(0x735),document[_0xc80ece(0xa1e)]('create-from-bank-btn')[_0xc80ece(0x84f)](_0xc80ece(0x321),createQuizFromBank);}catch(_0x5158d4){console['error'](_0xc80ece(0x3b7),_0x5158d4),_0x5da440['innerHTML']=_0xc80ece(0x6b5);}}function showAdminLiveQuestionView(_0x5a77f9,_0x313d73,_0x113cbd){const _0x3e609c=_0x3ac816,_0x3a1a10=_0x5a77f9[_0x3e609c(0x7bf)]||currentQuizData[_0x3e609c(0x41e)];let _0x59ec8a='';if(_0x3a1a10===_0x3e609c(0x882)||_0x3a1a10===_0x3e609c(0x8f5)){const _0xba4b7d=_0x3a1a10==='true_false'?[_0x3e609c(0x2ba),_0x3e609c(0x641)]:_0x5a77f9[_0x3e609c(0x431)],_0x5a6696=_0x3a1a10===_0x3e609c(0x8f5)?_0x5a77f9[_0x3e609c(0x8db)]?0x0:0x1:_0x5a77f9[_0x3e609c(0x825)];_0x59ec8a=_0xba4b7d[_0x3e609c(0x3f8)]((_0xb48432,_0x31329b)=>_0x3e609c(0x794)+(_0x31329b===_0x5a6696)+_0x3e609c(0x597)+_0xb48432+_0x3e609c(0x426))[_0x3e609c(0x6b7)]('');}else{if(_0x3a1a10===_0x3e609c(0x541)){const _0x58eef5=_0x5a77f9['allResponses']||[];_0x59ec8a=_0x58eef5[_0x3e609c(0x3f8)](_0x245298=>_0x3e609c(0x794)+(_0x245298===_0x5a77f9[_0x3e609c(0x4bd)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x245298+_0x3e609c(0x426))[_0x3e609c(0x6b7)]('');}}const _0x34d030=_0x5a77f9[_0x3e609c(0x799)]||_0x5a77f9[_0x3e609c(0x414)],_0x13d5ad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x313d73+0x1)+_0x3e609c(0x3f3)+_0x113cbd+_0x3e609c(0x3fb)+currentLiveGamePin+_0x3e609c(0x8b0)+_0x34d030+_0x3e609c(0x7cd)+_0x59ec8a+_0x3e609c(0x241);liveGameView['innerHTML']=_0x13d5ad,window['MathJax']&&MathJax[_0x3e609c(0x59b)]&&MathJax['typesetPromise']([liveGameView]),document[_0x3e609c(0xa1e)]('reveal-answer-btn')['addEventListener'](_0x3e609c(0x321),()=>revealAnswerForAdmin(_0x313d73,_0x113cbd)),document[_0x3e609c(0xa1e)](_0x3e609c(0x885))[_0x3e609c(0x84f)](_0x3e609c(0x321),async()=>{const _0x2fb2f6=_0x3e609c;showConfirmation(_0x2fb2f6(0x6b6),async()=>{const _0x1aab76=_0x2fb2f6,_0x4181d0=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4181d0,{'status':_0x1aab76(0xa13)});});}),document[_0x3e609c(0xa1e)](_0x3e609c(0x5c9))['addEventListener'](_0x3e609c(0x321),()=>{const _0x80f93=_0x3e609c;document[_0x80f93(0xa1e)](_0x80f93(0x248))['classList'][_0x80f93(0x31f)]('hidden');});}function showStudentLiveQuestionView(_0x1b0aa6,_0x32bf78,_0x832f34){const _0x3a66bf=_0x3ac816,_0x53a288=_0x1b0aa6[_0x3a66bf(0x7bf)]||currentQuizData[_0x3a66bf(0x41e)];let _0xd88164='';if(_0x53a288===_0x3a66bf(0x882)||_0x53a288===_0x3a66bf(0x8f5)){const _0x598722=_0x53a288===_0x3a66bf(0x8f5)?[_0x3a66bf(0x2ba),'ไม่ใช่']:_0x1b0aa6[_0x3a66bf(0x431)];_0xd88164=_0x598722['map']((_0x13d1da,_0x5b17f8)=>_0x3a66bf(0x95c)+_0x5b17f8+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13d1da+_0x3a66bf(0x9bf))[_0x3a66bf(0x6b7)]('');}else{if(_0x53a288===_0x3a66bf(0x541)){const _0x3ad337=_0x1b0aa6[_0x3a66bf(0x440)]||[];_0xd88164=_0x3ad337[_0x3a66bf(0x3f8)]((_0x19137c,_0x40bcae)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x40bcae+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19137c+_0x3a66bf(0x9bf))['join']('');}else _0x53a288==='short_answer'&&(_0xd88164='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0xa60d44=_0x1b0aa6[_0x3a66bf(0x799)]||_0x1b0aa6[_0x3a66bf(0x414)],_0x5af4fe=_0x3a66bf(0x916)+(_0x32bf78+0x1)+_0x3a66bf(0x3f3)+_0x832f34+_0x3a66bf(0x298)+_0xa60d44+_0x3a66bf(0x492)+_0xd88164+_0x3a66bf(0x5da);liveGameView[_0x3a66bf(0x49f)]=_0x5af4fe;window[_0x3a66bf(0x60a)]&&MathJax['typesetPromise']&&MathJax[_0x3a66bf(0x59b)]([liveGameView]);const _0x14b184=document[_0x3a66bf(0xa1e)]('live-submit-short-answer-btn');_0x14b184&&_0x14b184[_0x3a66bf(0x84f)](_0x3a66bf(0x321),()=>{const _0x1f4136=_0x3a66bf,_0x4b37e9=document[_0x1f4136(0xa1e)](_0x1f4136(0x4f4))['value'];handleLiveAnswer(_0x4b37e9,_0x1b0aa6);}),document[_0x3a66bf(0xa1e)](_0x3a66bf(0x86e))[_0x3a66bf(0x84f)](_0x3a66bf(0x321),_0x5645d9=>{const _0x524415=_0x3a66bf,_0x4f3fd1=_0x5645d9[_0x524415(0x2da)][_0x524415(0x310)]('.live-answer-btn');if(_0x4f3fd1){const _0x19d2e7=parseInt(_0x4f3fd1[_0x524415(0x7b1)][_0x524415(0x2e8)]);handleLiveAnswer(_0x19d2e7,_0x1b0aa6);}});}async function handleLiveAnswer(_0x411f60,_0x43a3f7){const _0x1da9a5=_0x3ac816;document['querySelectorAll'](_0x1da9a5(0x7db))[_0x1da9a5(0x568)](_0x130aff=>_0x130aff[_0x1da9a5(0x370)]=!![]);const _0x26b1da=_0x43a3f7[_0x1da9a5(0x7bf)]||currentQuizData[_0x1da9a5(0x41e)];let _0x2606d7=![],_0x4cb41f=_0x411f60;if(_0x26b1da===_0x1da9a5(0xa05)){const _0x500abb=(_0x411f60||'')[_0x1da9a5(0x697)]();_0x2606d7=await gradeShortAnswer(_0x500abb,_0x43a3f7);}else{if(_0x26b1da==='multiple_choice')_0x2606d7=_0x411f60===_0x43a3f7[_0x1da9a5(0x825)];else{if(_0x26b1da===_0x1da9a5(0x8f5)){const _0x1279da=_0x43a3f7[_0x1da9a5(0x8db)];_0x2606d7=_0x411f60===0x0&&_0x1279da||_0x411f60===0x1&&!_0x1279da;}else{if(_0x26b1da==='matching_item'){const _0x4c84a2=_0x43a3f7[_0x1da9a5(0x440)][_0x411f60];_0x2606d7=_0x4c84a2===_0x43a3f7[_0x1da9a5(0x4bd)],_0x4cb41f=_0x4c84a2;}}}}const _0x3667cb=doc(db,_0x1da9a5(0xa0c)+appId+_0x1da9a5(0x2b7),currentLiveGameId),_0x285af9={};_0x285af9[_0x1da9a5(0x7b5)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x285af9[_0x1da9a5(0x7b5)+currentStudentName+_0x1da9a5(0x8f7)]=_0x2606d7,_0x285af9['players.'+currentStudentName+_0x1da9a5(0x59a)]=_0x26b1da===_0x1da9a5(0xa05)||_0x26b1da===_0x1da9a5(0x541)?null:_0x411f60,_0x285af9['players.'+currentStudentName+_0x1da9a5(0x90c)]=_0x4cb41f,_0x285af9[_0x1da9a5(0x7b5)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x285af9[_0x1da9a5(0x7b5)+currentStudentName+_0x1da9a5(0x676)]=![],await updateDoc(_0x3667cb,_0x285af9),liveGameView[_0x1da9a5(0x49f)]=_0x1da9a5(0x31d);}function showAdminSummaryView(_0x4ab68a,_0x2c7341){const _0x1b2dbb=_0x3ac816,_0x41bcea=Object['values'](_0x4ab68a[_0x1b2dbb(0x82e)]||{}),_0x4fb440=_0x2c7341[_0x1b2dbb(0x7bf)]||currentQuizData[_0x1b2dbb(0x41e)],_0x2e6a1e=_0x4fb440===_0x1b2dbb(0x8f5)?[_0x1b2dbb(0x2ba),'ไม่ใช่']:_0x2c7341[_0x1b2dbb(0x431)]||_0x2c7341['allResponses']||[],_0x3e5b61={},_0x251ba3=new Array(_0x2e6a1e[_0x1b2dbb(0x475)])[_0x1b2dbb(0x2d5)](0x0);_0x2e6a1e[_0x1b2dbb(0x568)]((_0x386ef8,_0x1b265f)=>{_0x3e5b61[_0x1b265f]=[];}),Object[_0x1b2dbb(0x80b)](_0x4ab68a[_0x1b2dbb(0x82e)]||{})[_0x1b2dbb(0x568)](([_0x53c36b,_0x1bbfb0])=>{const _0x3d9037=_0x1b2dbb;if(_0x1bbfb0['status']===_0x3d9037(0x745)&&_0x1bbfb0[_0x3d9037(0x5db)]!==undefined){const _0x19aa60=_0x1bbfb0[_0x3d9037(0x5db)];_0x3e5b61[_0x19aa60]&&(_0x3e5b61[_0x19aa60][_0x3d9037(0x6cc)](_0x53c36b),_0x251ba3[_0x19aa60]++);}});const _0x2bb013=Math['max'](..._0x251ba3,0x1),_0x968d75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x2c7341['stem']||_0x2c7341['questionText'])+_0x1b2dbb(0x4f5)+_0x251ba3[_0x1b2dbb(0x3f8)]((_0x2c118d,_0x448116)=>{const _0x367e36=_0x1b2dbb,_0x439dce=_0x3e5b61[_0x448116]['length']>0x0?_0x3e5b61[_0x448116][_0x367e36(0x6b7)](',\x20'):_0x367e36(0x319);let _0x49b922=![];if(_0x4fb440==='multiple_choice')_0x49b922=_0x448116===_0x2c7341[_0x367e36(0x825)];else{if(_0x4fb440==='true_false'){const _0x2d55e1=_0x2c7341[_0x367e36(0x8db)];_0x49b922=_0x2d55e1&&_0x448116===0x0||!_0x2d55e1&&_0x448116===0x1;}else _0x4fb440===_0x367e36(0x541)&&(_0x49b922=_0x2e6a1e[_0x448116]===_0x2c7341[_0x367e36(0x4bd)]);}const _0x6d9c53=_0x49b922?_0x367e36(0x790):'#e21b3c';return _0x367e36(0x34a)+_0x2c118d+_0x367e36(0x4d8)+_0x6d9c53+_0x367e36(0x341)+_0x448116+_0x367e36(0x5e3)+_0x2e6a1e[_0x448116]+_0x367e36(0x5f7)+_0x448116+_0x367e36(0x5ba)+_0x439dce+_0x367e36(0x40e);})[_0x1b2dbb(0x6b7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1b2dbb(0x49f)]=_0x968d75;if(window['MathJax'])MathJax[_0x1b2dbb(0x59b)]();document['getElementById'](_0x1b2dbb(0x214))[_0x1b2dbb(0x84f)](_0x1b2dbb(0x321),async()=>{const _0x2d37f3=_0x1b2dbb,_0x262147=doc(db,_0x2d37f3(0xa0c)+appId+_0x2d37f3(0x2b7),currentLiveGameId);await updateDoc(_0x262147,{'questionStatus':'leaderboard'});}),document['getElementById'](_0x1b2dbb(0x7ab))['addEventListener'](_0x1b2dbb(0x321),()=>{openScratchpad(_0x2c7341,_0x2e6a1e);});}function showPlayerSummaryView(_0x5eb042,_0x1be5d4){const _0x4db124=_0x3ac816,_0x249102=Object[_0x4db124(0x587)](_0x5eb042[_0x4db124(0x82e)]||{}),_0x2308ce=_0x5eb042[_0x4db124(0x82e)][_0x1be5d4],_0x4b258d=_0x249102[_0x4db124(0x417)](_0x4b5a47=>_0x4b5a47[_0x4db124(0x93b)]==='active')['sort']((_0x51ea8c,_0x2e804c)=>_0x2e804c[_0x4db124(0x582)]-_0x51ea8c[_0x4db124(0x582)]),_0xcf32c4=_0x4b258d[_0x4db124(0xa43)](_0xe190b6=>_0xe190b6===_0x2308ce)+0x1,_0x42d1c8=_0x2308ce[_0x4db124(0x9ee)]?_0x4db124(0x5e2):_0x4db124(0x3a5),_0x5bb5ed=_0x2308ce[_0x4db124(0x9ee)]?_0x4db124(0x279):_0x4db124(0x31e),_0x3d8799=_0x2308ce['pointsLastQuestion']||0x0,_0x20fbc3=_0x4db124(0x88a),_0x1b7fd5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x20fbc3+_0x4db124(0xa3f)+_0x5bb5ed+_0x4db124(0x91f)+_0x42d1c8+_0x4db124(0xa48)+_0x3d8799+_0x4db124(0x2fe)+(_0xcf32c4>0x0?_0xcf32c4:'-')+_0x4db124(0x7e5);liveGameView['innerHTML']=_0x1b7fd5;}function createQuizFromBank(){const _0x4f841b=_0x3ac816,_0x3d3f2d=document[_0x4f841b(0x8e6)](_0x4f841b(0x47f));if(_0x3d3f2d[_0x4f841b(0x475)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x24f52a=[];_0x3d3f2d['forEach'](_0x21b379=>{const _0x2e99a8=_0x4f841b;_0x24f52a[_0x2e99a8(0x6cc)](JSON[_0x2e99a8(0xa33)](_0x21b379[_0x2e99a8(0x3b8)]));});const _0x126fc7={'topic':_0x4f841b(0x45d),'questions':_0x24f52a};displayGeneratedQuiz(_0x126fc7);}function showAdminLobbyView(_0x59dcc1,_0x276f78){const _0x36033c=_0x3ac816;showView(_0x36033c(0x6d5));const _0x1e59e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x276f78+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x59dcc1+_0x36033c(0x710);liveGameView[_0x36033c(0x49f)]=_0x1e59e,document[_0x36033c(0xa1e)](_0x36033c(0x877))['addEventListener'](_0x36033c(0x321),async()=>{const _0x4a546e=_0x36033c;if(!currentQuizData||!currentQuizData[_0x4a546e(0x2c3)]||currentQuizData[_0x4a546e(0x2c3)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x4def0f=doc(db,_0x4a546e(0xa0c)+appId+_0x4a546e(0x2b7),currentLiveGameId);await updateDoc(_0x4def0f,{'status':_0x4a546e(0x743),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1b8c84=currentQuizData['questions'][0x0],_0x52d138=currentQuizData[_0x4a546e(0x2c3)][_0x4a546e(0x475)];showAdminLiveQuestionView(_0x1b8c84,0x0,_0x52d138);}catch(_0x518270){console[_0x4a546e(0x2fa)](_0x4a546e(0x7f7),_0x518270),showMessage(_0x4a546e(0x8a4));}});}async function openGlobalLiveModal(){const _0x325982=_0x3ac816;if(allQuizzesGlobal[_0x325982(0x475)]===0x0){const _0x2a591c=await getDocs(collection(db,_0x325982(0xa0c)+appId+_0x325982(0x7a0)));allQuizzesGlobal=_0x2a591c[_0x325982(0x336)]['map'](_0x3583f8=>({'id':_0x3583f8['id'],..._0x3583f8[_0x325982(0x22a)]()}));}renderGlobalQuizList(''),document[_0x325982(0xa1e)](_0x325982(0x6a9))['classList']['remove'](_0x325982(0x8da));}async function openQuizBankModal(){const _0x594b85=_0x3ac816;if(allQuizzesGlobal[_0x594b85(0x475)]===0x0){const _0x5d03ce=await getDocs(collection(db,'artifacts/'+appId+_0x594b85(0x7a0)));allQuizzesGlobal=_0x5d03ce['docs']['map'](_0x5e261d=>({'id':_0x5e261d['id'],..._0x5e261d[_0x594b85(0x22a)]()}));}renderQuizBankList(''),document[_0x594b85(0xa1e)](_0x594b85(0x323))[_0x594b85(0x6d9)]['remove'](_0x594b85(0x8da));}function renderQuizBankList(_0x488d88=''){const _0x5afa31=_0x3ac816,_0x203fd3=document[_0x5afa31(0xa1e)](_0x5afa31(0x970)),_0x1e7ab3=_0x488d88[_0x5afa31(0x4c0)]()[_0x5afa31(0x855)](),_0x532ff9=allQuizzesGlobal['map'](_0x2d66cb=>({..._0x2d66cb,'projectName':allProjects[_0x5afa31(0x3a9)](_0x5bb1e3=>_0x5bb1e3['id']===_0x2d66cb['projectId'])?.[_0x5afa31(0x8c5)]||_0x5afa31(0x1f7)}))[_0x5afa31(0x417)](_0x5825cc=>(_0x5825cc[_0x5afa31(0x633)]||'')[_0x5afa31(0x4c0)]()['includes'](_0x1e7ab3)||(_0x5825cc[_0x5afa31(0x8c5)]||'')[_0x5afa31(0x4c0)]()['includes'](_0x1e7ab3)||_0x5825cc['id']['toString']()['includes'](_0x1e7ab3));document[_0x5afa31(0xa1e)](_0x5afa31(0x502))['textContent']='('+_0x532ff9[_0x5afa31(0x475)]+_0x5afa31(0x688),_0x203fd3[_0x5afa31(0x49f)]=_0x532ff9[_0x5afa31(0x475)]?_0x532ff9['map'](_0x5292b4=>_0x5afa31(0x4ed)+_0x5292b4['id']+_0x5afa31(0x671)+(_0x5292b4[_0x5afa31(0x633)]||_0x5afa31(0x746))+_0x5afa31(0x716)+(_0x5292b4['questions']?.[_0x5afa31(0x475)]||0x0)+_0x5afa31(0x411)+_0x5292b4[_0x5afa31(0x8c5)]+_0x5afa31(0x8af)+_0x5292b4['id']+_0x5afa31(0x60e)+_0x5292b4['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5292b4['id']+_0x5afa31(0x96b)+_0x5292b4['id']+_0x5afa31(0x5e6)+_0x5292b4['id']+_0x5afa31(0x529)+_0x5292b4['id']+_0x5afa31(0x9e5)+_0x5292b4['id']+_0x5afa31(0x376)+_0x5292b4[_0x5afa31(0x633)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x5afa31(0x6b7)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x203fd3[_0x5afa31(0x8e6)](_0x5afa31(0x443))[_0x5afa31(0x568)](_0x2ea983=>{const _0x85dd94=_0x5afa31;_0x2ea983['addEventListener'](_0x85dd94(0x321),()=>{const _0x450fb0=_0x85dd94,_0x52b7d5=_0x2ea983[_0x450fb0(0x7b1)]['id'];document[_0x450fb0(0xa1e)]('quiz-bank-modal')[_0x450fb0(0x6d9)]['add'](_0x450fb0(0x8da)),showQuizDetailView(_0x52b7d5);});}),_0x203fd3[_0x5afa31(0x8e6)](_0x5afa31(0x56b))[_0x5afa31(0x568)](_0x254e28=>{const _0x8bcee5=_0x5afa31;_0x254e28[_0x8bcee5(0x84f)]('click',_0x512115=>{const _0x1b705b=_0x8bcee5;_0x512115[_0x1b705b(0x607)]();const _0x17d0c6=_0x254e28[_0x1b705b(0x7b1)]['id'],_0x423cdb=allQuizzesGlobal[_0x1b705b(0x3a9)](_0x425a38=>_0x425a38['id']===_0x17d0c6);_0x423cdb?(currentQuizData=_0x423cdb,document[_0x1b705b(0xa1e)](_0x1b705b(0x323))[_0x1b705b(0x6d9)][_0x1b705b(0x992)]('hidden'),startAdminTest()):showMessage(_0x1b705b(0x2cb));});}),_0x203fd3[_0x5afa31(0x8e6)](_0x5afa31(0xa0f))[_0x5afa31(0x568)](_0x56cdae=>{const _0x8c2f98=_0x5afa31;_0x56cdae[_0x8c2f98(0x84f)](_0x8c2f98(0x321),_0x2c14ba=>{const _0x8d698=_0x8c2f98;_0x2c14ba[_0x8d698(0x607)]();const _0x3e247f=_0x56cdae[_0x8d698(0x7b1)]['id'],_0x31352d=allQuizzesGlobal['find'](_0x211c09=>_0x211c09['id']===_0x3e247f);_0x31352d?(document['getElementById']('quiz-bank-modal')['classList']['add'](_0x8d698(0x8da)),handleGenerateParallelFromBank(_0x31352d)):showMessage(_0x8d698(0x2cb));});}),_0x203fd3[_0x5afa31(0x8e6)](_0x5afa31(0x780))[_0x5afa31(0x568)](_0x4c5fc5=>{const _0x28d2db=_0x5afa31;_0x4c5fc5[_0x28d2db(0x84f)]('click',_0x344a45=>{const _0xb23e7=_0x28d2db;_0x344a45[_0xb23e7(0x607)]();const _0x208b63=_0x4c5fc5['dataset']['id'],_0x2f9d9b=allQuizzesGlobal[_0xb23e7(0x3a9)](_0x24bfaf=>_0x24bfaf['id']===_0x208b63);_0x2f9d9b?(document[_0xb23e7(0xa1e)](_0xb23e7(0x323))[_0xb23e7(0x6d9)][_0xb23e7(0x992)](_0xb23e7(0x8da)),startPresentation(_0x2f9d9b)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x203fd3[_0x5afa31(0x8e6)](_0x5afa31(0x642))[_0x5afa31(0x568)](_0x314808=>{const _0x2e5c5a=_0x5afa31;_0x314808[_0x2e5c5a(0x84f)](_0x2e5c5a(0x321),_0x2e6427=>{const _0x5c8116=_0x2e5c5a;_0x2e6427[_0x5c8116(0x607)]();const _0x3d6629=_0x314808[_0x5c8116(0x7b1)]['id'];document[_0x5c8116(0xa1e)](_0x5c8116(0x323))[_0x5c8116(0x6d9)][_0x5c8116(0x992)]('hidden'),handleMoveQuiz(_0x3d6629);});}),_0x203fd3['querySelectorAll'](_0x5afa31(0x4e3))[_0x5afa31(0x568)](_0x43fb91=>{const _0x391063=_0x5afa31;_0x43fb91[_0x391063(0x84f)]('click',_0x13cf6d=>{const _0xa5ff8c=_0x391063;_0x13cf6d[_0xa5ff8c(0x607)]();const _0x5d045b=_0x43fb91[_0xa5ff8c(0x7b1)]['id'];document[_0xa5ff8c(0xa1e)](_0xa5ff8c(0x323))['classList'][_0xa5ff8c(0x992)](_0xa5ff8c(0x8da)),handleQuizSettings(_0x5d045b);});}),_0x203fd3[_0x5afa31(0x8e6)](_0x5afa31(0x88f))[_0x5afa31(0x568)](_0x217546=>{const _0x186bbd=_0x5afa31;_0x217546[_0x186bbd(0x84f)](_0x186bbd(0x321),_0xc968e6=>{const _0x47eded=_0x186bbd;_0xc968e6[_0x47eded(0x607)]();const _0x4ad4d8=_0x217546[_0x47eded(0x7b1)]['id'],_0x4d47a7=_0x217546[_0x47eded(0x7b1)]['topic'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4d47a7+_0x47eded(0x9d8),()=>handleDeleteQuiz(_0x4ad4d8));});});}async function handleCompareResults(_0x5830df,_0x410308){const _0xe25c40=_0x3ac816,_0x2aac84=document[_0xe25c40(0xa1e)](_0xe25c40(0x5a0)),_0x2571bd=document[_0xe25c40(0xa1e)](_0xe25c40(0x78e)),_0x8ef314=document[_0xe25c40(0xa1e)](_0xe25c40(0xa15));document[_0xe25c40(0xa1e)](_0xe25c40(0x37f))[_0xe25c40(0x6d9)][_0xe25c40(0x992)]('active'),document[_0xe25c40(0xa1e)](_0xe25c40(0x536))[_0xe25c40(0x6d9)]['remove'](_0xe25c40(0x745)),_0x2571bd[_0xe25c40(0x6d9)][_0xe25c40(0x309)](_0xe25c40(0x8da)),_0x8ef314[_0xe25c40(0x6d9)][_0xe25c40(0x992)](_0xe25c40(0x8da)),_0x2571bd[_0xe25c40(0x49f)]=_0xe25c40(0x36c),_0x8ef314[_0xe25c40(0x49f)]='',_0x2aac84[_0xe25c40(0x6d9)][_0xe25c40(0x309)](_0xe25c40(0x8da));try{const _0x10d831=doc(db,_0xe25c40(0xa0c)+appId+_0xe25c40(0x7a0),_0x5830df),_0x4e7094=await getDoc(_0x10d831);if(!_0x4e7094[_0xe25c40(0x72f)]())throw new Error(_0xe25c40(0x731));const _0x43000f=_0x4e7094['data'](),_0x480052=_0x43000f[_0xe25c40(0x2c3)]['length'],_0x4fd578=collection(db,_0xe25c40(0xa0c)+appId+'/public/data/quizzes/'+_0x410308+_0xe25c40(0x50f)),_0x4fda94=collection(db,_0xe25c40(0xa0c)+appId+_0xe25c40(0x630)+_0x5830df+_0xe25c40(0x50f)),[_0x38d87f,_0x50029f]=await Promise[_0xe25c40(0x9a8)]([getDocs(_0x4fd578),getDocs(_0x4fda94)]),_0x3bb20f=_0x38d87f[_0xe25c40(0x336)][_0xe25c40(0x3f8)](_0x57f0b8=>_0x57f0b8[_0xe25c40(0x22a)]()),_0x5ec2f1=_0x50029f[_0xe25c40(0x336)][_0xe25c40(0x3f8)](_0x3a019e=>_0x3a019e['data']()),_0x18f973=_0x3bb20f[_0xe25c40(0x3f8)](_0x3a1f56=>_0x3a1f56['latestScore']),_0x1ff16a=_0x5ec2f1[_0xe25c40(0x3f8)](_0x1c5b94=>_0x1c5b94[_0xe25c40(0x4b2)]),_0x4a184b=calculateMeanAndStdDev(_0x18f973),_0x345e27=calculateMeanAndStdDev(_0x1ff16a),_0x3b5b46=_0x4a184b[_0xe25c40(0x35b)],_0x1c3501=_0x345e27['mean'],_0x2ac76f=_0x1c3501-_0x3b5b46;let _0x4f5966=_0xe25c40(0x68d)+_0x3b5b46[_0xe25c40(0x4af)](0x2)+_0xe25c40(0x203)+_0x1c3501[_0xe25c40(0x4af)](0x2)+_0xe25c40(0x327)+(_0x2ac76f>=0x0?_0xe25c40(0x561):_0xe25c40(0x423))+_0xe25c40(0x36f)+(_0x2ac76f>=0x0?_0xe25c40(0x95f):'text-red-800')+_0xe25c40(0x25f)+(_0x2ac76f>=0x0?_0xe25c40(0x6a0):_0xe25c40(0x998))+'\x22>'+(_0x2ac76f>=0x0?'+':'')+_0x2ac76f[_0xe25c40(0x4af)](0x2)+_0xe25c40(0x699);_0x2571bd[_0xe25c40(0x49f)]=_0x4f5966;const _0x28be55=document['getElementById'](_0xe25c40(0x5b5))[_0xe25c40(0x9e9)]('2d');if(chartInstances[_0xe25c40(0x678)])chartInstances[_0xe25c40(0x678)][_0xe25c40(0x73b)]();chartInstances[_0xe25c40(0x678)]=new Chart(_0x28be55,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0xe25c40(0xa47),'data':[_0x3b5b46],'backgroundColor':_0xe25c40(0x869)},{'label':_0xe25c40(0x38d),'data':[_0x1c3501],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x480052}}}});const _0x46dfd5=currentProjectData[_0xe25c40(0x4b9)]||[],_0x1615ab=_0x46dfd5[_0xe25c40(0x3f8)](_0x553e08=>{const _0x5922c7=_0xe25c40,_0xa5a73d=_0x3bb20f['find'](_0x46816d=>_0x46816d[_0x5922c7(0x660)]===_0x553e08),_0x3b1cb2=_0x5ec2f1['find'](_0x20c22b=>_0x20c22b['studentName']===_0x553e08),_0x1a26f0=_0xa5a73d?_0xa5a73d['latestScore']:null,_0x143c9b=_0x3b1cb2?_0x3b1cb2[_0x5922c7(0x4b2)]:null,_0x344751=_0x1a26f0!==null&&_0x143c9b!==null?_0x143c9b-_0x1a26f0:null,_0x4e9960=_0x1a26f0!==null?calculateZScore(_0x1a26f0,_0x4a184b['mean'],_0x4a184b[_0x5922c7(0x839)]):null,_0x374974=_0x143c9b!==null?calculateZScore(_0x143c9b,_0x345e27['mean'],_0x345e27['stdDev']):null,_0x144f25=_0x4e9960!==null?calculateTScore(_0x4e9960):null,_0x194d39=_0x374974!==null?calculateTScore(_0x374974):null,_0x460917=_0x144f25!==null&&_0x194d39!==null?_0x194d39-_0x144f25:null;return{'name':_0x553e08,'preScore':_0x1a26f0,'postScore':_0x143c9b,'gain':_0x344751,'preTScore':_0x144f25,'postTScore':_0x194d39,'tGain':_0x460917};});renderIndividualComparisonTable(_0x1615ab,_0x8ef314);}catch(_0x482194){console['error']('Error\x20comparing\x20results:',_0x482194),_0x2571bd['innerHTML']=_0xe25c40(0x7a6);}}function displayHalfMarkResult(_0x3afea7,_0x570a26){const _0x1844df=_0x3ac816,_0x5cca08=_0x3afea7>=_0x570a26/0x2,_0x5967fc=_0x5cca08?_0x1844df(0x3fe):_0x1844df(0x423),_0xc34cb1=_0x5cca08?_0x1844df(0x69a):_0x1844df(0x849),_0xdc9246=_0x5cca08?_0x1844df(0x31a):_0x1844df(0xa41),_0x273f42=_0x5cca08?_0x1844df(0x315):'คะแนนยังไม่ถึงครึ่ง',_0x30f4a4=_0x5cca08?'ยอดเยี่ยม!':_0x1844df(0x571);let _0x2b9b94=_0x1844df(0x222)+_0x5967fc+_0x1844df(0x835)+_0xc34cb1+_0x1844df(0x962)+_0xdc9246+_0x1844df(0x7c3)+_0x273f42+_0x1844df(0x204)+_0x30f4a4+_0x1844df(0x36a);studentResultArea[_0x1844df(0x49f)]=_0x2b9b94,studentResultArea['classList'][_0x1844df(0x309)](_0x1844df(0x8da)),studentQuizArea[_0x1844df(0x6d9)][_0x1844df(0x992)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5cca08});}function displayPerfectScoreResult(_0x1e116c,_0xab9519){const _0x3de76e=_0x3ac816,_0x3d991e=_0x1e116c===_0xab9519,_0x1264e8=_0x3d991e?_0x3de76e(0x7eb):_0x3de76e(0x6e5),_0xfa9d1c=_0x3d991e?_0x3de76e(0x91c):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x560b6a=_0x3d991e?_0x3de76e(0x953):'text-blue-800',_0x55fc65=_0x3d991e?_0x3de76e(0x4f9):_0x3de76e(0x9cd),_0x424ab8=_0x3d991e?'สุดยอด!\x20ตอบถูกทุกข้อ':'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x1cae5d=_0x3de76e(0x222)+_0x1264e8+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfa9d1c+_0x3de76e(0x962)+_0x560b6a+_0x3de76e(0x7c3)+_0x55fc65+_0x3de76e(0x204)+_0x424ab8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3de76e(0x49f)]=_0x1cae5d,studentResultArea[_0x3de76e(0x6d9)][_0x3de76e(0x309)]('hidden'),studentQuizArea['classList'][_0x3de76e(0x992)](_0x3de76e(0x8da)),setupResultScreenBackButton({'showRankings':![],'score':_0x1e116c,'totalQuestions':_0xab9519});}function renderIndividualComparisonTable(_0x55f5ff,_0xf6418a){const _0x25b489=_0x3ac816;_0x55f5ff[_0x25b489(0x9a5)]((_0x31b453,_0x109e03)=>(_0x109e03[_0x25b489(0x9ec)]??-Infinity)-(_0x31b453['tGain']??-Infinity));let _0x298a82=_0x25b489(0x36b);_0x55f5ff['length']===0x0?_0x298a82+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x55f5ff[_0x25b489(0x568)]((_0x35f79c,_0x5d09fb)=>{const _0x35bd19=_0x25b489;let _0x197431='-',_0x450ac0='';if(_0x35f79c[_0x35bd19(0x250)]!==null){const _0x446fe2=_0x35f79c[_0x35bd19(0x250)]>0x0?_0x35bd19(0x726):_0x35f79c[_0x35bd19(0x250)]<0x0?_0x35bd19(0xa0b):_0x35bd19(0x6c4),_0x208e93=_0x35f79c[_0x35bd19(0x250)]>0x0?'+':'';_0x197431=_0x35bd19(0x5e4)+_0x446fe2+'\x22>'+_0x208e93+_0x35f79c[_0x35bd19(0x250)]+_0x35bd19(0x2bd);if(_0x35f79c[_0x35bd19(0x250)]>0x0)_0x450ac0=_0x35bd19(0x901);else _0x35f79c[_0x35bd19(0x250)]<0x0?_0x450ac0='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x450ac0=_0x35bd19(0x52c);}let _0x2910cd='-';if(_0x35f79c[_0x35bd19(0x9ec)]!==null){const _0x9de363=_0x35f79c[_0x35bd19(0x9ec)]>0x0?_0x35bd19(0x726):_0x35f79c['tGain']<0x0?'text-red-600':'text-gray-500',_0x59e4da=_0x35f79c[_0x35bd19(0x9ec)]>0x0?'+':'';_0x2910cd=_0x35bd19(0x5e4)+_0x9de363+'\x22>'+_0x59e4da+_0x35f79c[_0x35bd19(0x9ec)][_0x35bd19(0x4af)](0x2)+_0x35bd19(0x2bd);}_0x298a82+=_0x35bd19(0x776)+(_0x5d09fb+0x1)+_0x35bd19(0x7a8)+_0x35f79c[_0x35bd19(0x6e0)]+_0x35bd19(0x98f)+(_0x35f79c[_0x35bd19(0x734)]??'-')+_0x35bd19(0x5b1)+(_0x35f79c[_0x35bd19(0x29e)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x197431+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x450ac0+_0x35bd19(0x2d4)+(_0x35f79c[_0x35bd19(0x5c4)]?.[_0x35bd19(0x4af)](0x2)??'-')+_0x35bd19(0x324)+(_0x35f79c['postTScore']?.['toFixed'](0x2)??'-')+_0x35bd19(0x98f)+_0x2910cd+_0x35bd19(0x76a);}),_0x298a82+=_0x25b489(0x6e1),_0xf6418a[_0x25b489(0x49f)]=_0x298a82;}function handleRenameQuiz(_0x11cc6a,_0x846a35){const _0x492516=_0x3ac816;actionTargetId=_0x11cc6a,document[_0x492516(0xa1e)](_0x492516(0x485))['value']=_0x846a35,renameQuizModal[_0x492516(0x6d9)][_0x492516(0x309)](_0x492516(0x8da));}function setupComparisonModalTabs(){const _0x486b90=_0x3ac816,_0x39ea7f=document['getElementById'](_0x486b90(0x37f)),_0x461705=document[_0x486b90(0xa1e)](_0x486b90(0x536)),_0x1a3d22=document[_0x486b90(0xa1e)]('comparison-overall-content'),_0x27af33=document[_0x486b90(0xa1e)](_0x486b90(0xa15));_0x39ea7f[_0x486b90(0x84f)](_0x486b90(0x321),()=>{const _0x12a284=_0x486b90;_0x39ea7f[_0x12a284(0x6d9)][_0x12a284(0x992)](_0x12a284(0x745)),_0x461705['classList'][_0x12a284(0x309)]('active'),_0x1a3d22[_0x12a284(0x6d9)][_0x12a284(0x309)](_0x12a284(0x8da)),_0x27af33[_0x12a284(0x6d9)][_0x12a284(0x992)](_0x12a284(0x8da));}),_0x461705[_0x486b90(0x84f)](_0x486b90(0x321),()=>{const _0x3b478e=_0x486b90;_0x461705[_0x3b478e(0x6d9)][_0x3b478e(0x992)]('active'),_0x39ea7f[_0x3b478e(0x6d9)][_0x3b478e(0x309)](_0x3b478e(0x745)),_0x27af33[_0x3b478e(0x6d9)]['remove'](_0x3b478e(0x8da)),_0x1a3d22[_0x3b478e(0x6d9)][_0x3b478e(0x992)](_0x3b478e(0x8da));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x560d7a=''){const _0xc13ab7=_0x3ac816,_0x225d88=document[_0xc13ab7(0xa1e)](_0xc13ab7(0x5cd)),_0x10fcde=_0x560d7a['toLowerCase']()[_0xc13ab7(0x855)](),_0x427640=allQuizzesGlobal[_0xc13ab7(0x3f8)](_0x5117de=>({..._0x5117de,'projectName':allProjects[_0xc13ab7(0x3a9)](_0x5757c5=>_0x5757c5['id']===_0x5117de[_0xc13ab7(0x6f3)])?.['projectName']||_0x5117de[_0xc13ab7(0x6f3)]}))['filter'](_0x546cf5=>(_0x546cf5[_0xc13ab7(0x633)]||'')[_0xc13ab7(0x4c0)]()[_0xc13ab7(0x85e)](_0x10fcde)||(_0x546cf5[_0xc13ab7(0x8c5)]||'')[_0xc13ab7(0x4c0)]()[_0xc13ab7(0x85e)](_0x10fcde));document[_0xc13ab7(0xa1e)](_0xc13ab7(0x282))['textContent']='('+_0x427640[_0xc13ab7(0x475)]+'\x20ชุด)',_0x225d88[_0xc13ab7(0x49f)]=_0x427640[_0xc13ab7(0x475)]?_0x427640['map'](_0x492f2b=>_0xc13ab7(0x33c)+_0x492f2b['id']+_0xc13ab7(0x922)+(_0x492f2b['topic']||_0xc13ab7(0x746))+_0xc13ab7(0x578)+(_0x492f2b['questions']?.['length']||0x0)+_0xc13ab7(0x49d)+_0x492f2b['projectName']+_0xc13ab7(0x4f3))[_0xc13ab7(0x6b7)](''):_0xc13ab7(0xa17),selectedGlobalQuizId=null,document[_0xc13ab7(0xa1e)](_0xc13ab7(0x5ea))[_0xc13ab7(0x370)]=!![],_0x225d88[_0xc13ab7(0x8e6)](_0xc13ab7(0x38e))[_0xc13ab7(0x568)](_0x3d795a=>{const _0x1cbc2d=_0xc13ab7;_0x3d795a[_0x1cbc2d(0x84f)]('click',()=>{const _0x24800a=_0x1cbc2d;selectedGlobalQuizId=_0x3d795a['dataset']['id'],_0x225d88[_0x24800a(0x8e6)]('button')[_0x24800a(0x568)](_0x45a88e=>_0x45a88e[_0x24800a(0x6d9)][_0x24800a(0x309)](_0x24800a(0x5b9),_0x24800a(0x41c),_0x24800a(0x8d6))),_0x3d795a['classList'][_0x24800a(0x992)](_0x24800a(0x5b9),_0x24800a(0x41c),'ring-purple-400'),document[_0x24800a(0xa1e)]('confirm-global-live-btn')[_0x24800a(0x370)]=![];});});}function listenForLiveGameUpdates(){const _0x53aa59=_0x3ac816;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xb8826=doc(db,_0x53aa59(0xa0c)+appId+_0x53aa59(0x2b7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xb8826,_0x3e7ef3=>{const _0x250a60=_0x53aa59;if(!_0x3e7ef3['exists']()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x287d1f=_0x3e7ef3['data']();_0x287d1f[_0x250a60(0xa09)]&&(currentQuizData=_0x287d1f[_0x250a60(0xa09)]);!currentQuizData&&_0x287d1f['quizId']&&((async()=>{const _0x51672a=_0x250a60;try{const _0x1e2b4b=doc(db,_0x51672a(0xa0c)+appId+'/public/data/quizzes',_0x287d1f[_0x51672a(0x420)]),_0x196478=await getDoc(_0x1e2b4b);_0x196478['exists']()&&(currentQuizData={'id':_0x196478['id'],..._0x196478[_0x51672a(0x22a)]()});}catch(_0x5ade12){console[_0x51672a(0x2fa)](_0x51672a(0x616),_0x5ade12);}})());switch(_0x287d1f[_0x250a60(0x93b)]){case'lobby':if(currentMode===_0x250a60(0x50e)){const _0x3a0896=_0x287d1f[_0x250a60(0x82e)]?Object[_0x250a60(0x80b)](_0x287d1f['players']):[],_0x101475=_0x3a0896['filter'](([_0x589577,_0x1c9f5d])=>_0x1c9f5d['status']==='active'),_0x506ea2=document[_0x250a60(0xa1e)](_0x250a60(0x363));if(_0x506ea2)_0x506ea2['textContent']=_0x101475['length'];const _0x3df539=document[_0x250a60(0xa1e)](_0x250a60(0x33e));_0x3df539&&(_0x3df539['innerHTML']=_0x101475[_0x250a60(0x3f8)](([_0x1e531c,_0x5dc099])=>_0x250a60(0x5ec)+_0x1e531c+_0x250a60(0x346)+_0x1e531c+_0x250a60(0x2c4))[_0x250a60(0x6b7)](''));const _0x15b86e=document[_0x250a60(0xa1e)](_0x250a60(0x877));_0x15b86e&&(_0x15b86e[_0x250a60(0x370)]=_0x101475[_0x250a60(0x475)]===0x0);}else showView('live-game'),liveGameView['innerHTML']=_0x250a60(0xa0e)+currentStudentName+_0x250a60(0x2cc);break;case _0x250a60(0x743):const _0x26111b=_0x287d1f[_0x250a60(0x6be)];if(currentQuizData&&currentQuizData[_0x250a60(0x2c3)][_0x26111b]){const _0x264428=currentQuizData[_0x250a60(0x2c3)][_0x26111b],_0x14eb4b=_0x287d1f[_0x250a60(0x4f8)]||_0x250a60(0x38f);switch(_0x14eb4b){case _0x250a60(0x656):currentMode===_0x250a60(0x50e)?showAdminSummaryView(_0x287d1f,_0x264428):showPlayerSummaryView(_0x287d1f,currentStudentName);break;case _0x250a60(0x64a):currentMode===_0x250a60(0x50e)&&showTop5LeaderboardView(_0x287d1f);break;case'answering':default:if(currentMode===_0x250a60(0x50e)){const _0x2e1e21=writeBatch(db);let _0x351327=![];Object['entries'](_0x287d1f[_0x250a60(0x82e)])[_0x250a60(0x568)](([_0x4f6a70,_0x5672b6])=>{const _0x47b9de=_0x250a60;if(_0x5672b6[_0x47b9de(0x93b)]==='active'&&_0x5672b6[_0x47b9de(0x2a4)]&&!_0x5672b6[_0x47b9de(0x8c1)]){_0x351327=!![];const _0x3ddf4a=_0x5672b6['submittedAt']['toDate']()-_0x287d1f[_0x47b9de(0x404)][_0x47b9de(0x9e4)]();let _0x1c7ba1=0x0;if(_0x5672b6[_0x47b9de(0x9ee)]){const _0x202147=0x3e8,_0x28e4dd=0x1f4,_0x47739e=0x4e20;let _0x5a4548=_0x3ddf4a/_0x47739e;if(_0x5a4548>0x1)_0x5a4548=0x1;const _0x4d9ecd=Math[_0x47b9de(0x3d4)](_0x5a4548*_0x28e4dd);_0x1c7ba1=_0x202147-_0x4d9ecd;}const _0x22a802=doc(db,_0x47b9de(0xa0c)+appId+_0x47b9de(0x2b7),currentLiveGameId);_0x2e1e21[_0x47b9de(0x643)](_0x22a802,{['players.'+_0x4f6a70+_0x47b9de(0x738)]:increment(_0x1c7ba1),['players.'+_0x4f6a70+'.pointsLastQuestion']:_0x1c7ba1,[_0x47b9de(0x7b5)+_0x4f6a70+_0x47b9de(0x676)]:!![]});}});_0x351327&&_0x2e1e21[_0x250a60(0x243)]()[_0x250a60(0x4d6)](_0x5dbe7b=>console[_0x250a60(0x2fa)](_0x250a60(0x61b),_0x5dbe7b));lastRenderedAdminQuestionIndex!==_0x26111b&&(showAdminLiveQuestionView(_0x264428,_0x26111b,currentQuizData[_0x250a60(0x2c3)]['length']),lastRenderedAdminQuestionIndex=_0x26111b);const _0x3dc414=_0x287d1f[_0x250a60(0x82e)]||{},_0x46a449=Object['values'](_0x3dc414)['filter'](_0x321bea=>_0x321bea[_0x250a60(0x93b)]==='active'),_0x3e9877=_0x46a449[_0x250a60(0x475)],_0x88d10=_0x46a449['filter'](_0x54c96f=>_0x54c96f[_0x250a60(0x35d)]===!![])[_0x250a60(0x475)],_0x55a67a=document['getElementById'](_0x250a60(0x201));if(_0x55a67a)_0x55a67a[_0x250a60(0x32e)]=_0x88d10+'/'+_0x3e9877;const _0x12573a=document[_0x250a60(0xa1e)](_0x250a60(0x7f1));if(_0x12573a){let _0x3381ee=Object[_0x250a60(0x80b)](_0x3dc414)[_0x250a60(0x417)](([_0x534ed8,_0x4eecab])=>_0x4eecab[_0x250a60(0x93b)]===_0x250a60(0x745))[_0x250a60(0x3f8)](([_0x3e402a,_0x3924a5])=>{const _0x1be177=_0x250a60,_0x21e9b0=_0x3924a5[_0x1be177(0x35d)]===!![],_0x5b4b57=_0x21e9b0?_0x1be177(0x279):'bg-gray-500',_0x5ca334=_0x21e9b0?_0x1be177(0x93f):_0x1be177(0x422);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x5b4b57+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ca334+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3e402a+_0x1be177(0x903)+_0x3e402a+_0x1be177(0x819);})['join']('');_0x12573a[_0x250a60(0x49f)]=_0x3381ee||_0x250a60(0x8ff);}_0x3e9877>0x0&&_0x88d10===_0x3e9877&&revealAnswerForAdmin(_0x26111b,currentQuizData[_0x250a60(0x2c3)]['length']);}else{const _0x596c03=_0x287d1f[_0x250a60(0x82e)][currentStudentName];_0x596c03&&!_0x596c03[_0x250a60(0x35d)]&&showStudentLiveQuestionView(_0x264428,_0x26111b,currentQuizData[_0x250a60(0x2c3)]['length']);}break;}}break;case'podium':showPodiumView(_0x287d1f['players']);break;}});}async function handleKickPlayer(_0x48e792){const _0x5aea7c=_0x3ac816;if(!currentLiveGameId||!_0x48e792)return;const _0x5d344a=doc(db,_0x5aea7c(0xa0c)+appId+_0x5aea7c(0x2b7),currentLiveGameId),_0x400d9a={};_0x400d9a[_0x5aea7c(0x7b5)+_0x48e792+_0x5aea7c(0x4a7)]=_0x5aea7c(0x489);try{await updateDoc(_0x5d344a,_0x400d9a);}catch(_0x415c3f){console['error'](_0x5aea7c(0x9cf)+_0x48e792+':',_0x415c3f),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x5f2f73=_0x3ac816;try{typeof __initial_auth_token!==_0x5f2f73(0x834)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x30eb7a){console['error'](_0x5f2f73(0x613),_0x30eb7a),showMessage(_0x5f2f73(0x301));}}function showView(_0x4db162){const _0x2b2185=_0x3ac816,_0x279b51=[_0x2b2185(0x5d4),_0x2b2185(0x8a1),_0x2b2185(0x307),_0x2b2185(0x5dd),_0x2b2185(0x2dd),'live-game-view','student-progress-view'];_0x279b51[_0x2b2185(0x568)](_0x15878c=>document[_0x2b2185(0xa1e)](_0x15878c)?.[_0x2b2185(0x6d9)][_0x2b2185(0x992)](_0x2b2185(0x8da)));if(_0x4db162==='admin-dashboard')adminView[_0x2b2185(0x6d9)]['remove']('hidden'),projectDashboardView[_0x2b2185(0x6d9)][_0x2b2185(0x309)](_0x2b2185(0x8da));else{if(_0x4db162==='student')studentView[_0x2b2185(0x6d9)][_0x2b2185(0x309)](_0x2b2185(0x8da)),studentInitialView['classList']['remove'](_0x2b2185(0x8da)),studentNameSelectionView['classList'][_0x2b2185(0x992)](_0x2b2185(0x8da)),studentQuizArea[_0x2b2185(0x6d9)]['add'](_0x2b2185(0x8da)),studentResultArea[_0x2b2185(0x6d9)][_0x2b2185(0x992)](_0x2b2185(0x8da)),studentReadingArea['classList'][_0x2b2185(0x992)](_0x2b2185(0x8da)),studentJoinGameView['classList'][_0x2b2185(0x992)](_0x2b2185(0x8da));else{if(_0x4db162===_0x2b2185(0x79a))adminView['classList'][_0x2b2185(0x309)]('hidden'),projectDetailView[_0x2b2185(0x6d9)][_0x2b2185(0x309)](_0x2b2185(0x8da));else{if(_0x4db162===_0x2b2185(0x9b6))adminView[_0x2b2185(0x6d9)][_0x2b2185(0x309)](_0x2b2185(0x8da)),quizResultsView[_0x2b2185(0x6d9)][_0x2b2185(0x309)](_0x2b2185(0x8da));else _0x4db162===_0x2b2185(0x6d5)&&liveGameView[_0x2b2185(0x6d9)][_0x2b2185(0x309)](_0x2b2185(0x8da));}}}}function showJoinGameView(){const _0x21af59=_0x3ac816;studentInitialView[_0x21af59(0x6d9)][_0x21af59(0x992)](_0x21af59(0x8da)),studentJoinGameView['classList'][_0x21af59(0x309)]('hidden');}async function handleSaveVisibilitySettings(){const _0x408b72=_0x3ac816;if(!currentProjectId)return;const _0x2fcfd9=doc(db,_0x408b72(0xa0c)+appId+_0x408b72(0x6de),currentProjectId);try{await updateDoc(_0x2fcfd9,{'settings.showInStudentDashboard':document[_0x408b72(0xa1e)](_0x408b72(0x9bd))['checked'],'settings.isPasscodeEnabled':document[_0x408b72(0xa1e)](_0x408b72(0x79e))['checked'],'settings.passcode':document[_0x408b72(0xa1e)](_0x408b72(0x3b5))[_0x408b72(0x3b8)]['trim']()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x589d24){console[_0x408b72(0x2fa)](_0x408b72(0x354),_0x589d24),showMessage(_0x408b72(0x539));}}function setupEventListeners(){const _0x161596=_0x3ac816,_0x2b5236=document['getElementById'](_0x161596(0x45f));_0x2b5236[_0x161596(0x84f)](_0x161596(0x321),_0x4925b5=>{const _0x32aae5=_0x161596,_0x5e4f47=_0x4925b5['target'][_0x32aae5(0x310)](_0x32aae5(0x474));document[_0x32aae5(0x8e6)]('.live-summary-tooltip.visible')[_0x32aae5(0x568)](_0x24a8d6=>{const _0x43f164=_0x32aae5;(!_0x5e4f47||_0x24a8d6['id']!==_0x5e4f47['dataset'][_0x43f164(0x725)])&&_0x24a8d6[_0x43f164(0x6d9)][_0x43f164(0x309)](_0x43f164(0x3a0));});if(!_0x5e4f47)return;const _0x1f0c77=_0x5e4f47[_0x32aae5(0x7b1)]['tooltipTarget'],_0x54dc73=document['getElementById'](_0x1f0c77);_0x54dc73&&_0x54dc73[_0x32aae5(0x6d9)][_0x32aae5(0x31f)]('visible');}),_0x2b5236['addEventListener'](_0x161596(0x321),_0x3885fd=>{const _0x4107c6=_0x161596;if(_0x3885fd[_0x4107c6(0x2da)][_0x4107c6(0x6d9)]['contains']('kick-player-btn')){const _0x50cb96=_0x3885fd['target'][_0x4107c6(0x7b1)][_0x4107c6(0x272)];_0x50cb96&&handleKickPlayer(_0x50cb96);}}),document['getElementById'](_0x161596(0x54f))[_0x161596(0x84f)](_0x161596(0x6d0),()=>document['getElementById'](_0x161596(0x96e))[_0x161596(0x6d9)][_0x161596(0x309)](_0x161596(0x8da))),document['getElementById'](_0x161596(0x96e))[_0x161596(0x84f)](_0x161596(0x321),handleSaveProjectName),document[_0x161596(0xa1e)]('project-title')[_0x161596(0x84f)]('keydown',_0x3bb319=>{const _0xb5edd9=_0x161596;_0x3bb319[_0xb5edd9(0x2a5)]===_0xb5edd9(0x1f5)&&(_0x3bb319[_0xb5edd9(0x209)](),_0x3bb319['target']['blur'](),handleSaveProjectName());}),document['getElementById'](_0x161596(0x933))[_0x161596(0x84f)]('click',()=>{const _0x1906a2=_0x161596;document[_0x1906a2(0xa1e)](_0x1906a2(0x852))[_0x1906a2(0x6d9)][_0x1906a2(0x309)]('hidden');}),document[_0x161596(0xa1e)]('cancel-bulk-quiz-settings-btn')[_0x161596(0x84f)]('click',()=>{const _0x13163b=_0x161596;document[_0x13163b(0xa1e)](_0x13163b(0x852))[_0x13163b(0x6d9)][_0x13163b(0x992)](_0x13163b(0x8da));}),document[_0x161596(0xa1e)](_0x161596(0x87e))[_0x161596(0x84f)]('click',handleBulkUpdateQuizSettings),document[_0x161596(0xa1e)](_0x161596(0x6e7))[_0x161596(0x84f)](_0x161596(0x321),handleModeSwitch),document['getElementById'](_0x161596(0x25b))['addEventListener'](_0x161596(0x321),handleUpdateOldQuizzes),document[_0x161596(0xa1e)](_0x161596(0x212))[_0x161596(0x84f)](_0x161596(0x321),handleResetProjectOrder),document[_0x161596(0xa1e)]('save-visibility-settings-btn')[_0x161596(0x84f)](_0x161596(0x321),handleSaveVisibilitySettings),document[_0x161596(0xa1e)](_0x161596(0x392))[_0x161596(0x84f)](_0x161596(0x321),handleAddCustomMathTopic),document[_0x161596(0xa1e)](_0x161596(0x7df))[_0x161596(0x84f)](_0x161596(0x321),handleSelectAllTopics),document[_0x161596(0xa1e)](_0x161596(0x8a7))['addEventListener'](_0x161596(0x321),handleDeselectAllTopics),document[_0x161596(0xa1e)]('back-to-dashboard-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x2b7f9d=_0x161596;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2b7f9d(0x6c7));}),document[_0x161596(0xa1e)](_0x161596(0x7d5))['addEventListener'](_0x161596(0x321),()=>{const _0xa36510=_0x161596;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0xa36510(0x79a));}),document[_0x161596(0xa1e)](_0x161596(0x6db))['addEventListener'](_0x161596(0x321),()=>{const _0x3e63e0=_0x161596;showView(_0x3e63e0(0x6c7));}),document[_0x161596(0xa1e)]('modal-close-btn')[_0x161596(0x84f)]('click',()=>{const _0x424a3a=_0x161596;messageModal[_0x424a3a(0x6d9)][_0x424a3a(0x992)](_0x424a3a(0x8da)),typeof modalConfirmAction===_0x424a3a(0x837)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById']('create-project-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>createProjectModal['classList']['remove'](_0x161596(0x8da))),document['getElementById'](_0x161596(0x680))[_0x161596(0x84f)](_0x161596(0x321),()=>createProjectModal[_0x161596(0x6d9)][_0x161596(0x992)]('hidden')),document[_0x161596(0xa1e)](_0x161596(0x6ee))[_0x161596(0x84f)](_0x161596(0x321),()=>adminPasswordModal[_0x161596(0x6d9)][_0x161596(0x992)](_0x161596(0x8da))),document[_0x161596(0xa1e)]('confirm-admin-login-btn')['addEventListener'](_0x161596(0x321),handleAdminLogin),document[_0x161596(0xa1e)](_0x161596(0x238))[_0x161596(0x84f)]('keyup',_0x145ad7=>{const _0x3c6366=_0x161596;if(_0x145ad7[_0x3c6366(0x2a5)]===_0x3c6366(0x1f5))handleAdminLogin();}),document[_0x161596(0xa1e)](_0x161596(0x425))[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0xe99c69=_0x161596;confirmationModal['classList'][_0xe99c69(0x992)](_0xe99c69(0x8da)),confirmAction=null;}),document['getElementById']('confirm-delete-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x277756=_0x161596;confirmAction&&confirmAction(),confirmationModal[_0x277756(0x6d9)]['add'](_0x277756(0x8da)),confirmAction=null;}),document[_0x161596(0xa1e)]('cancel-rename-quiz-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>renameQuizModal['classList'][_0x161596(0x992)](_0x161596(0x8da))),document[_0x161596(0xa1e)](_0x161596(0x32b))[_0x161596(0x84f)](_0x161596(0x321),confirmRenameQuiz),document[_0x161596(0xa1e)]('cancel-move-quiz-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>moveQuizModal[_0x161596(0x6d9)]['add'](_0x161596(0x8da))),document[_0x161596(0xa1e)](_0x161596(0x2d3))[_0x161596(0x84f)](_0x161596(0x321),confirmMoveQuiz),document[_0x161596(0xa1e)](_0x161596(0xa11))[_0x161596(0x84f)]('click',()=>quizSettingsModal['classList'][_0x161596(0x992)](_0x161596(0x8da))),document[_0x161596(0xa1e)](_0x161596(0x896))[_0x161596(0x84f)](_0x161596(0x321),confirmQuizSettings),document[_0x161596(0xa1e)]('cancel-quiz-status-btn')['addEventListener'](_0x161596(0x321),()=>quizStatusModal[_0x161596(0x6d9)]['add'](_0x161596(0x8da))),document['getElementById'](_0x161596(0x9a0))['addEventListener'](_0x161596(0x321),confirmQuizStatus);const _0x4a4e74=document[_0x161596(0xa1e)](_0x161596(0x9a7));document[_0x161596(0xa1e)](_0x161596(0x5fc))['addEventListener'](_0x161596(0x321),()=>{const _0x302565=_0x161596;_0x4a4e74[_0x302565(0x6d9)][_0x302565(0x992)](_0x302565(0x8da));}),document[_0x161596(0xa1e)](_0x161596(0x65a))[_0x161596(0x84f)](_0x161596(0x321),async()=>{const _0xf72707=_0x161596,_0x5f3ef6=allQuizzes[_0xf72707(0x3a9)](_0x543a87=>_0x543a87['id']===actionTargetId);_0x5f3ef6?(currentQuizData=_0x5f3ef6,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4a4e74['classList'][_0xf72707(0x992)]('hidden');}),document[_0x161596(0xa1e)](_0x161596(0x9b4))['addEventListener'](_0x161596(0x321),async()=>{const _0x5ce666=_0x161596,_0x13c36e=allQuizzes['find'](_0x2f9192=>_0x2f9192['id']===actionTargetId);_0x13c36e?(currentQuizData=_0x13c36e,exportQuizAsTutorPDF()):showMessage(_0x5ce666(0x2cb)),_0x4a4e74[_0x5ce666(0x6d9)][_0x5ce666(0x992)]('hidden');}),document[_0x161596(0xa1e)](_0x161596(0x8e2))[_0x161596(0x84f)](_0x161596(0x321),openGlobalLiveModal),document[_0x161596(0xa1e)]('cancel-global-live-btn')['addEventListener'](_0x161596(0x321),()=>{const _0x4a7cc8=_0x161596;document['getElementById'](_0x4a7cc8(0x6a9))['classList']['add'](_0x4a7cc8(0x8da)),selectedGlobalQuizId=null;}),document[_0x161596(0xa1e)](_0x161596(0x4db))['addEventListener'](_0x161596(0x4e7),_0x485c51=>renderGlobalQuizList(_0x485c51[_0x161596(0x2da)][_0x161596(0x3b8)])),document['getElementById']('confirm-global-live-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x198bf2=_0x161596,_0x237a33=selectedGlobalQuizId;if(!_0x237a33)return;document[_0x198bf2(0xa1e)]('global-live-game-modal')[_0x198bf2(0x6d9)][_0x198bf2(0x992)](_0x198bf2(0x8da)),handleStartLiveRace(_0x237a33);}),document[_0x161596(0xa1e)]('project-search-input')[_0x161596(0x84f)](_0x161596(0x4e7),renderProjects),document['getElementById'](_0x161596(0x458))[_0x161596(0x84f)](_0x161596(0x96a),async()=>{const _0x722d88=_0x161596,_0x386d40=document[_0x722d88(0xa1e)]('project-sort-select')[_0x722d88(0x3b8)],_0x4c1a02=doc(db,_0x722d88(0x3ed),_0x722d88(0x80a));try{await setDoc(_0x4c1a02,{'projectSort':_0x386d40},{'merge':!![]});}catch(_0x47dd69){console[_0x722d88(0x2fa)](_0x722d88(0x35c),_0x47dd69),showMessage(_0x722d88(0x948));}}),document['getElementById'](_0x161596(0x812))[_0x161596(0x84f)](_0x161596(0x4e7),renderQuizzes),document[_0x161596(0xa1e)]('grid-view-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x26c98c=_0x161596;globalDashboardSettings['projectView']='grid',saveUserPreference(_0x26c98c(0x924),'grid'),renderProjects();}),document[_0x161596(0xa1e)](_0x161596(0x42a))[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x5e3cd8=_0x161596;globalDashboardSettings[_0x5e3cd8(0x924)]=_0x5e3cd8(0x22f),saveUserPreference('projectView',_0x5e3cd8(0x22f)),renderProjects();}),manageTab[_0x161596(0x84f)](_0x161596(0x321),()=>switchProjectTab(_0x161596(0x68e))),resultsTab[_0x161596(0x84f)]('click',()=>switchProjectTab(_0x161596(0x655))),leaderboardTab[_0x161596(0x84f)](_0x161596(0x321),()=>switchProjectTab(_0x161596(0x64a))),document['getElementById'](_0x161596(0x8a9))['addEventListener'](_0x161596(0x321),()=>switchQuizDetailTab(_0x161596(0x840))),document[_0x161596(0xa1e)](_0x161596(0x63f))['addEventListener'](_0x161596(0x321),()=>switchQuizDetailTab(_0x161596(0xa2f))),document['getElementById'](_0x161596(0x9ef))[_0x161596(0x84f)](_0x161596(0x321),()=>switchQuizDetailTab(_0x161596(0x930))),document[_0x161596(0xa1e)](_0x161596(0x8b7))[_0x161596(0x84f)](_0x161596(0x321),()=>switchQuizDetailTab(_0x161596(0x682))),document['getElementById'](_0x161596(0x6ac))[_0x161596(0x84f)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x161596(0x84f)]('click',generateWorksheet);const _0x2e388c=document[_0x161596(0xa1e)](_0x161596(0x28d)),_0x12311b=document[_0x161596(0xa1e)](_0x161596(0x4e5)),_0x1c7dd3=document['getElementById']('blueprint-tab'),_0x560fe1=document[_0x161596(0xa1e)](_0x161596(0x2a3)),_0x141636=document[_0x161596(0xa1e)](_0x161596(0x8d1)),_0xeede2c=document['getElementById'](_0x161596(0x2a7));topicTab[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x2812de=_0x161596;topicTab['classList']['add'](_0x2812de(0x745)),textTab[_0x2812de(0x6d9)][_0x2812de(0x309)]('active'),fileTab[_0x2812de(0x6d9)][_0x2812de(0x309)](_0x2812de(0x745)),worksheetTab[_0x2812de(0x6d9)]['remove'](_0x2812de(0x745));if(_0x2e388c)_0x2e388c[_0x2812de(0x6d9)][_0x2812de(0x309)](_0x2812de(0x745));if(_0x1c7dd3)_0x1c7dd3[_0x2812de(0x6d9)][_0x2812de(0x309)]('active');if(_0x141636)_0x141636[_0x2812de(0x6d9)][_0x2812de(0x309)](_0x2812de(0x745));topicInputArea[_0x2812de(0x6d9)][_0x2812de(0x309)](_0x2812de(0x8da)),textInputArea[_0x2812de(0x6d9)][_0x2812de(0x992)](_0x2812de(0x8da)),fileInputArea['classList'][_0x2812de(0x992)]('hidden'),worksheetInputArea[_0x2812de(0x6d9)][_0x2812de(0x992)](_0x2812de(0x8da));if(_0x12311b)_0x12311b['classList'][_0x2812de(0x992)](_0x2812de(0x8da));if(_0x560fe1)_0x560fe1['classList'][_0x2812de(0x992)](_0x2812de(0x8da));if(_0xeede2c)_0xeede2c[_0x2812de(0x6d9)]['add'](_0x2812de(0x8da));}),textTab['addEventListener']('click',()=>{const _0x4fc8d2=_0x161596;textTab[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x992)](_0x4fc8d2(0x745)),topicTab[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x309)]('active'),fileTab[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x309)](_0x4fc8d2(0x745)),worksheetTab[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x309)](_0x4fc8d2(0x745));if(_0x2e388c)_0x2e388c[_0x4fc8d2(0x6d9)]['remove'](_0x4fc8d2(0x745));if(_0x1c7dd3)_0x1c7dd3[_0x4fc8d2(0x6d9)]['remove'](_0x4fc8d2(0x745));if(_0x141636)_0x141636[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x309)](_0x4fc8d2(0x745));textInputArea['classList'][_0x4fc8d2(0x309)]('hidden'),topicInputArea[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x992)](_0x4fc8d2(0x8da)),fileInputArea[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x992)](_0x4fc8d2(0x8da)),worksheetInputArea[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x992)]('hidden');if(_0x12311b)_0x12311b[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x992)]('hidden');if(_0x560fe1)_0x560fe1['classList'][_0x4fc8d2(0x992)]('hidden');if(_0xeede2c)_0xeede2c[_0x4fc8d2(0x6d9)][_0x4fc8d2(0x992)](_0x4fc8d2(0x8da));}),fileTab[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x5195c3=_0x161596;fileTab['classList']['add'](_0x5195c3(0x745)),topicTab['classList'][_0x5195c3(0x309)]('active'),textTab[_0x5195c3(0x6d9)]['remove'](_0x5195c3(0x745)),worksheetTab[_0x5195c3(0x6d9)][_0x5195c3(0x309)](_0x5195c3(0x745));if(_0x2e388c)_0x2e388c[_0x5195c3(0x6d9)]['remove'](_0x5195c3(0x745));if(_0x1c7dd3)_0x1c7dd3['classList']['remove'](_0x5195c3(0x745));if(_0x141636)_0x141636[_0x5195c3(0x6d9)][_0x5195c3(0x309)]('active');fileInputArea[_0x5195c3(0x6d9)][_0x5195c3(0x309)](_0x5195c3(0x8da)),topicInputArea[_0x5195c3(0x6d9)][_0x5195c3(0x992)](_0x5195c3(0x8da)),textInputArea[_0x5195c3(0x6d9)][_0x5195c3(0x992)](_0x5195c3(0x8da)),worksheetInputArea[_0x5195c3(0x6d9)][_0x5195c3(0x992)]('hidden');if(_0x12311b)_0x12311b['classList'][_0x5195c3(0x992)](_0x5195c3(0x8da));if(_0x560fe1)_0x560fe1[_0x5195c3(0x6d9)][_0x5195c3(0x992)](_0x5195c3(0x8da));if(_0xeede2c)_0xeede2c[_0x5195c3(0x6d9)][_0x5195c3(0x992)](_0x5195c3(0x8da));}),worksheetTab[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x5d21a0=_0x161596;worksheetTab[_0x5d21a0(0x6d9)][_0x5d21a0(0x992)](_0x5d21a0(0x745)),topicTab[_0x5d21a0(0x6d9)]['remove']('active'),textTab[_0x5d21a0(0x6d9)][_0x5d21a0(0x309)]('active'),fileTab['classList'][_0x5d21a0(0x309)](_0x5d21a0(0x745));if(_0x2e388c)_0x2e388c[_0x5d21a0(0x6d9)][_0x5d21a0(0x309)](_0x5d21a0(0x745));if(_0x1c7dd3)_0x1c7dd3[_0x5d21a0(0x6d9)][_0x5d21a0(0x309)](_0x5d21a0(0x745));if(_0x141636)_0x141636[_0x5d21a0(0x6d9)][_0x5d21a0(0x309)](_0x5d21a0(0x745));worksheetInputArea[_0x5d21a0(0x6d9)][_0x5d21a0(0x309)](_0x5d21a0(0x8da)),topicInputArea['classList'][_0x5d21a0(0x992)]('hidden'),textInputArea['classList']['add'](_0x5d21a0(0x8da)),fileInputArea[_0x5d21a0(0x6d9)][_0x5d21a0(0x992)]('hidden');if(_0x12311b)_0x12311b[_0x5d21a0(0x6d9)][_0x5d21a0(0x992)]('hidden');if(_0x560fe1)_0x560fe1[_0x5d21a0(0x6d9)][_0x5d21a0(0x992)](_0x5d21a0(0x8da));if(_0xeede2c)_0xeede2c[_0x5d21a0(0x6d9)][_0x5d21a0(0x992)](_0x5d21a0(0x8da));});const _0x3ae165=document['getElementById'](_0x161596(0x20b)),_0xc6f364=document['getElementById']('bank-input-area');_0x3ae165&&_0x3ae165['addEventListener']('click',()=>{const _0x3a5315=_0x161596;topicTab[_0x3a5315(0x6d9)]['remove'](_0x3a5315(0x745)),textTab['classList']['remove'](_0x3a5315(0x745)),fileTab[_0x3a5315(0x6d9)][_0x3a5315(0x309)](_0x3a5315(0x745)),worksheetTab['classList'][_0x3a5315(0x309)](_0x3a5315(0x745));if(_0x2e388c)_0x2e388c[_0x3a5315(0x6d9)][_0x3a5315(0x309)](_0x3a5315(0x745));if(_0x1c7dd3)_0x1c7dd3[_0x3a5315(0x6d9)]['remove'](_0x3a5315(0x745));if(_0x141636)_0x141636[_0x3a5315(0x6d9)][_0x3a5315(0x309)](_0x3a5315(0x745));_0x3ae165[_0x3a5315(0x6d9)][_0x3a5315(0x992)]('active'),topicInputArea['classList'][_0x3a5315(0x992)](_0x3a5315(0x8da)),textInputArea['classList'][_0x3a5315(0x992)](_0x3a5315(0x8da)),fileInputArea['classList']['add'](_0x3a5315(0x8da)),worksheetInputArea[_0x3a5315(0x6d9)][_0x3a5315(0x992)](_0x3a5315(0x8da));if(_0x12311b)_0x12311b[_0x3a5315(0x6d9)][_0x3a5315(0x992)]('hidden');if(_0x560fe1)_0x560fe1['classList'][_0x3a5315(0x992)](_0x3a5315(0x8da));if(_0xeede2c)_0xeede2c[_0x3a5315(0x6d9)][_0x3a5315(0x992)](_0x3a5315(0x8da));_0xc6f364['classList'][_0x3a5315(0x309)](_0x3a5315(0x8da)),displayQuestionBank();});_0x2e388c&&(_0x2e388c[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x5b604f=_0x161596;_0x2e388c['classList']['add']('active'),topicTab['classList'][_0x5b604f(0x309)](_0x5b604f(0x745)),textTab['classList'][_0x5b604f(0x309)](_0x5b604f(0x745)),fileTab[_0x5b604f(0x6d9)][_0x5b604f(0x309)](_0x5b604f(0x745)),worksheetTab[_0x5b604f(0x6d9)]['remove'](_0x5b604f(0x745));if(_0x1c7dd3)_0x1c7dd3[_0x5b604f(0x6d9)][_0x5b604f(0x309)](_0x5b604f(0x745));if(_0x141636)_0x141636[_0x5b604f(0x6d9)]['remove']('active');_0x12311b[_0x5b604f(0x6d9)][_0x5b604f(0x309)]('hidden'),topicInputArea[_0x5b604f(0x6d9)]['add']('hidden'),textInputArea[_0x5b604f(0x6d9)][_0x5b604f(0x992)](_0x5b604f(0x8da)),fileInputArea[_0x5b604f(0x6d9)]['add'](_0x5b604f(0x8da)),worksheetInputArea[_0x5b604f(0x6d9)][_0x5b604f(0x992)](_0x5b604f(0x8da));if(_0x560fe1)_0x560fe1['classList']['add']('hidden');if(_0xeede2c)_0xeede2c[_0x5b604f(0x6d9)]['add'](_0x5b604f(0x8da));}),document[_0x161596(0xa1e)]('generate-from-link-btn')[_0x161596(0x84f)](_0x161596(0x321),handleGenerateFromLink));_0x1c7dd3&&_0x1c7dd3[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x26252d=_0x161596;_0x1c7dd3[_0x26252d(0x6d9)]['add'](_0x26252d(0x745)),topicTab[_0x26252d(0x6d9)][_0x26252d(0x309)](_0x26252d(0x745)),textTab[_0x26252d(0x6d9)][_0x26252d(0x309)]('active'),fileTab[_0x26252d(0x6d9)][_0x26252d(0x309)](_0x26252d(0x745)),worksheetTab[_0x26252d(0x6d9)][_0x26252d(0x309)](_0x26252d(0x745));if(_0x2e388c)_0x2e388c[_0x26252d(0x6d9)][_0x26252d(0x309)]('active');if(_0x3ae165)_0x3ae165[_0x26252d(0x6d9)][_0x26252d(0x309)](_0x26252d(0x745));if(_0x141636)_0x141636[_0x26252d(0x6d9)]['remove'](_0x26252d(0x745));_0x560fe1['classList'][_0x26252d(0x309)](_0x26252d(0x8da)),topicInputArea[_0x26252d(0x6d9)][_0x26252d(0x992)](_0x26252d(0x8da)),textInputArea[_0x26252d(0x6d9)]['add'](_0x26252d(0x8da)),fileInputArea[_0x26252d(0x6d9)][_0x26252d(0x992)](_0x26252d(0x8da)),worksheetInputArea[_0x26252d(0x6d9)][_0x26252d(0x992)](_0x26252d(0x8da));if(_0x12311b)_0x12311b[_0x26252d(0x6d9)][_0x26252d(0x992)](_0x26252d(0x8da));if(_0xc6f364)_0xc6f364['classList']['add'](_0x26252d(0x8da));if(_0xeede2c)_0xeede2c['classList']['add'](_0x26252d(0x8da));});_0x141636&&_0x141636['addEventListener'](_0x161596(0x321),()=>{const _0x553567=_0x161596;_0x141636[_0x553567(0x6d9)][_0x553567(0x992)](_0x553567(0x745)),topicTab['classList'][_0x553567(0x309)](_0x553567(0x745)),textTab['classList'][_0x553567(0x309)](_0x553567(0x745)),fileTab[_0x553567(0x6d9)][_0x553567(0x309)](_0x553567(0x745)),worksheetTab['classList'][_0x553567(0x309)](_0x553567(0x745));if(_0x2e388c)_0x2e388c[_0x553567(0x6d9)]['remove'](_0x553567(0x745));if(_0x1c7dd3)_0x1c7dd3[_0x553567(0x6d9)][_0x553567(0x309)](_0x553567(0x745));if(_0x3ae165)_0x3ae165[_0x553567(0x6d9)]['remove']('active');_0xeede2c[_0x553567(0x6d9)][_0x553567(0x309)](_0x553567(0x8da)),topicInputArea[_0x553567(0x6d9)]['add'](_0x553567(0x8da)),textInputArea['classList'][_0x553567(0x992)](_0x553567(0x8da)),fileInputArea['classList']['add'](_0x553567(0x8da)),worksheetInputArea[_0x553567(0x6d9)][_0x553567(0x992)](_0x553567(0x8da));if(_0x12311b)_0x12311b['classList'][_0x553567(0x992)]('hidden');if(_0x560fe1)_0x560fe1[_0x553567(0x6d9)][_0x553567(0x992)]('hidden');if(_0xc6f364)_0xc6f364[_0x553567(0x6d9)][_0x553567(0x992)](_0x553567(0x8da));});const _0xdfc387=document['getElementById'](_0x161596(0x484)),_0x181198=document[_0x161596(0xa1e)](_0x161596(0x926));_0xdfc387&&_0xdfc387[_0x161596(0x84f)](_0x161596(0x96a),_0x3ff046=>{const _0x5b676f=_0x161596;_0x3ff046['target']['files'][_0x5b676f(0x475)]>0x0?_0x181198[_0x5b676f(0x370)]=![]:_0x181198[_0x5b676f(0x370)]=!![];});_0x181198&&_0x181198[_0x161596(0x84f)](_0x161596(0x321),handleGenerateFromBlueprint);const _0x10a81c=document['getElementById'](_0x161596(0x730)),_0x2a9c63=document['getElementById'](_0x161596(0x491));_0x10a81c&&_0x10a81c[_0x161596(0x84f)](_0x161596(0x96a),_0x100cc5=>{const _0x158951=_0x161596;_0x2a9c63['disabled']=_0x100cc5['target'][_0x158951(0x9df)][_0x158951(0x475)]===0x0;});_0x2a9c63&&_0x2a9c63['addEventListener'](_0x161596(0x321),handleGenerateParallelTest);loadQuizBtn[_0x161596(0x84f)]('click',handleLoadQuiz),startQuizBtn['addEventListener'](_0x161596(0x321),async()=>{const _0x25bd57=_0x161596,_0x2b87f5=document[_0x25bd57(0xa1e)](_0x25bd57(0x2a0));currentStudentName=_0x2b87f5[_0x25bd57(0x3b8)];if(!currentStudentName){showMessage(_0x25bd57(0x3bc));return;}try{const _0x239739=currentQuizData['id'],_0xe27308=doc(db,_0x25bd57(0xa0c)+appId+_0x25bd57(0x630)+_0x239739+_0x25bd57(0x50f),currentStudentName);await setDoc(_0xe27308,{'studentName':currentStudentName,'startedAt':new Date()[_0x25bd57(0x490)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x53ad98){console[_0x25bd57(0x2fa)](_0x25bd57(0x4f7),_0x53ad98),showMessage(_0x25bd57(0x965));return;}studentNameSelectionView[_0x25bd57(0x6d9)][_0x25bd57(0x992)](_0x25bd57(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x161596(0xa1e)](_0x161596(0x23c))[_0x161596(0x84f)](_0x161596(0x321),showJoinGameView),document[_0x161596(0xa1e)](_0x161596(0x39b))[_0x161596(0x84f)](_0x161596(0x321),handleJoinLiveGame),document[_0x161596(0xa1e)](_0x161596(0x80d))[_0x161596(0x84f)](_0x161596(0x321),()=>showView(_0x161596(0x7cc)));const _0x14cc61=()=>{const _0x3b81f4=_0x161596,_0x3bd804=document['getElementById'](_0x3b81f4(0x9ba))[_0x3b81f4(0x32e)][_0x3b81f4(0x2f9)](/[^a-z0-9]/gi,'_')[_0x3b81f4(0x4c0)]();return _0x3b81f4(0x6cf)+(_0x3bd804||_0x3b81f4(0x49b));},_0x194e6b=document[_0x161596(0xa1e)]('math-topic-search-input');_0x194e6b&&_0x194e6b[_0x161596(0x84f)](_0x161596(0x4e7),_0x196b28=>{const _0x4551d9=_0x161596,_0xc5395=_0x196b28['target'][_0x4551d9(0x3b8)][_0x4551d9(0x4c0)]()['trim'](),_0x464719=document['getElementById'](_0x4551d9(0x62e)),_0x55e134=_0x464719['querySelectorAll'](_0x4551d9(0x372));_0x55e134[_0x4551d9(0x568)](_0x4954a2=>{const _0x35b3ed=_0x4551d9;let _0x2e8eef=![];const _0x53f378=_0x4954a2['querySelectorAll'](_0x35b3ed(0x39a));_0x53f378[_0x35b3ed(0x568)](_0x464cc6=>{const _0x5d6c22=_0x35b3ed,_0x47d959=_0x464cc6['querySelector'](_0x5d6c22(0x649))[_0x5d6c22(0x32e)][_0x5d6c22(0x4c0)]();_0x47d959[_0x5d6c22(0x85e)](_0xc5395)?(_0x464cc6[_0x5d6c22(0x2a9)][_0x5d6c22(0x421)]=_0x5d6c22(0x9ea),_0x2e8eef=!![]):_0x464cc6[_0x5d6c22(0x2a9)][_0x5d6c22(0x421)]=_0x5d6c22(0x75a);}),_0x2e8eef?_0x4954a2[_0x35b3ed(0x2a9)][_0x35b3ed(0x421)]=_0x35b3ed(0x32c):_0x4954a2[_0x35b3ed(0x2a9)]['display']=_0x35b3ed(0x75a);});});document[_0x161596(0xa1e)](_0x161596(0x669))[_0x161596(0x84f)](_0x161596(0x321),()=>exportTableAsImage(_0x161596(0xa02),_0x14cc61())),document['getElementById'](_0x161596(0x99d))['addEventListener']('click',()=>exportTableAsPDF(_0x161596(0x68b),_0x14cc61())),document[_0x161596(0xa1e)](_0x161596(0x8ac))[_0x161596(0x84f)](_0x161596(0x321),()=>exportTableAsWord(_0x161596(0xa02),_0x14cc61())),document[_0x161596(0xa1e)](_0x161596(0x43c))[_0x161596(0x84f)](_0x161596(0x321),()=>exportTableAsExcel(_0x161596(0x68b),_0x14cc61()));const _0x4c651d=()=>{const _0x1686a5=_0x161596,_0x307e30=document[_0x1686a5(0xa1e)](_0x1686a5(0x9ba))[_0x1686a5(0x32e)][_0x1686a5(0x2f9)](/[^a-z0-9]/gi,'_')[_0x1686a5(0x4c0)]();return _0x1686a5(0x638)+(_0x307e30||'quiz');};document[_0x161596(0xa1e)](_0x161596(0x899))[_0x161596(0x84f)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4c651d())),document[_0x161596(0xa1e)](_0x161596(0x6d8))[_0x161596(0x84f)](_0x161596(0x321),()=>exportTableAsPDF(_0x161596(0x67c),_0x4c651d())),document[_0x161596(0xa1e)]('export-leaderboard-word-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>exportTableAsWord(_0x161596(0xa4d),_0x4c651d())),document[_0x161596(0xa1e)]('export-leaderboard-excel-btn')[_0x161596(0x84f)](_0x161596(0x321),()=>exportTableAsExcel('quiz-leaderboard-table',_0x4c651d())),projectQuizzesList[_0x161596(0x84f)]('click',async _0x53ad36=>{const _0x1ca9f0=_0x161596,_0x2d64af=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x85d)),_0x34c2c5=_0x53ad36['target'][_0x1ca9f0(0x310)](_0x1ca9f0(0x2b3)),_0x5ad8a3=_0x53ad36[_0x1ca9f0(0x2da)]['closest'](_0x1ca9f0(0x748)),_0x5f1fe4=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x26d)),_0x3edca7=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)]('.star-quiz-btn'),_0x5cc987=_0x53ad36[_0x1ca9f0(0x2da)]['closest'](_0x1ca9f0(0x5a7)),_0x5edfb3=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x7b2)),_0x5ba5fd=_0x53ad36['target']['closest']('.quiz-settings-btn'),_0x5cd872=_0x53ad36['target'][_0x1ca9f0(0x310)](_0x1ca9f0(0x1f1)),_0x2f6600=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)]('.rename-quiz-btn'),_0x20e53c=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x41f)),_0x314f60=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x769)),_0x33573f=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x6d6)),_0x46dcf5=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x216)),_0x2da378=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)]('.start-presentation-list-btn'),_0x2036cc=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x7ec)),_0x1019dc=_0x53ad36[_0x1ca9f0(0x2da)]['closest'](_0x1ca9f0(0x7a7)),_0x364510=_0x53ad36[_0x1ca9f0(0x2da)]['closest'](_0x1ca9f0(0x843)),_0x5b8b48=_0x53ad36['target'][_0x1ca9f0(0x310)](_0x1ca9f0(0x8d2)),_0x479fc2=_0x53ad36[_0x1ca9f0(0x2da)]['closest'](_0x1ca9f0(0x3d7)),_0x35f2c6=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)](_0x1ca9f0(0x4fb)),_0x45fe82=_0x53ad36[_0x1ca9f0(0x2da)][_0x1ca9f0(0x310)]('.generate-easy-version-btn');if(_0x35f2c6){const _0x3cbbfc=_0x35f2c6[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)],_0x16cf1c=document[_0x1ca9f0(0xa1e)](_0x1ca9f0(0x619)+_0x3cbbfc);_0x16cf1c&&_0x16cf1c[_0x1ca9f0(0x6d9)][_0x1ca9f0(0x31f)](_0x1ca9f0(0x8da));}else{if(_0x34c2c5){const _0x4e33d1=_0x34c2c5[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)],_0x54e70e=allQuizzes[_0x1ca9f0(0x3a9)](_0x11df8d=>_0x11df8d['id']===_0x4e33d1);_0x54e70e&&handleGenerateParallelPostTest(_0x54e70e);}else{if(_0x5ad8a3)handleCompareResults(_0x5ad8a3['dataset']['quizId'],_0x5ad8a3['dataset'][_0x1ca9f0(0x53a)]);else{if(_0x5f1fe4){const _0x15705d=_0x5f1fe4['dataset'][_0x1ca9f0(0x420)],_0x54f9f6=allQuizzes[_0x1ca9f0(0x3a9)](_0xaabbdd=>_0xaabbdd['id']===_0x15705d);_0x54f9f6&&_0x54f9f6[_0x1ca9f0(0x232)]?(displayLessonPlan(_0x54f9f6[_0x1ca9f0(0x232)],_0x54f9f6),showConfirmation(_0x1ca9f0(0x2f0),()=>handleGenerateLessonPlan(_0x15705d)),document[_0x1ca9f0(0xa1e)](_0x1ca9f0(0x711))[_0x1ca9f0(0x46d)]('h3')[_0x1ca9f0(0x32e)]=_0x1ca9f0(0x4e8),document[_0x1ca9f0(0xa1e)](_0x1ca9f0(0x246))['textContent']=_0x1ca9f0(0x46b)):handleGenerateLessonPlan(_0x15705d);}else{if(_0x3edca7)handleToggleStarQuiz(_0x3edca7['dataset'][_0x1ca9f0(0x420)]);else{if(_0x5cc987)copyTextToClipboard(_0x5cc987[_0x1ca9f0(0x7b1)]['quizId'],_0x1ca9f0(0x27d));else{if(_0x5edfb3)handleOpenQuizEditor(_0x5edfb3['dataset'][_0x1ca9f0(0x420)]);else{if(_0x5ba5fd)handleQuizSettings(_0x5ba5fd[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)]);else{if(_0x5cd872)handleDuplicateQuiz(_0x5cd872[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)]);else{if(_0x2f6600)handleRenameQuiz(_0x2f6600[_0x1ca9f0(0x7b1)]['quizId'],_0x2f6600[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x633)]);else{if(_0x20e53c){const _0x55da17=_0x20e53c[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)],_0x52789b=allQuizzes['find'](_0x37d37d=>_0x37d37d['id']===_0x55da17);_0x52789b&&handleGenerateParallelFromBank(_0x52789b);}else{if(_0x314f60)handleMoveQuiz(_0x314f60[_0x1ca9f0(0x7b1)]['quizId']);else{if(_0x33573f)handleManualQuizPairing(_0x33573f[_0x1ca9f0(0x7b1)]['quizId']);else{if(_0x46dcf5)handleUnpairQuiz(_0x46dcf5['dataset']['quizId']);else{if(_0x2da378){const _0x1f285c=_0x2da378[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)],_0x7865ff=allQuizzes[_0x1ca9f0(0x3a9)](_0x46fa77=>_0x46fa77['id']===_0x1f285c);if(_0x7865ff)startPresentation(_0x7865ff);}else{if(_0x2036cc){const _0x52e9c1=_0x2036cc[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)],_0x3f56a5=allQuizzes[_0x1ca9f0(0x3a9)](_0x1dc815=>_0x1dc815['id']===_0x52e9c1);_0x3f56a5&&(currentQuizData=_0x3f56a5,startAdminTest());}else{if(_0x1019dc)handleStartLiveRace(_0x1019dc['dataset'][_0x1ca9f0(0x420)]);else{if(_0x364510)actionTargetId=_0x364510[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)],document[_0x1ca9f0(0xa1e)]('export-pdf-modal')[_0x1ca9f0(0x6d9)][_0x1ca9f0(0x309)](_0x1ca9f0(0x8da));else{if(_0x5b8b48)showConfirmation(_0x1ca9f0(0x2f2)+_0x5b8b48['dataset']['topic']+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x5b8b48[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)]));else{if(_0x479fc2)handleQuizStatus(_0x479fc2[_0x1ca9f0(0x7b1)][_0x1ca9f0(0x420)]);else{if(_0x45fe82)handleGenerateEasyVersionQuiz(_0x45fe82['dataset'][_0x1ca9f0(0x420)]);else _0x2d64af&&showQuizDetailView(_0x2d64af[_0x1ca9f0(0x7b1)]['quizId']);}}}}}}}}}}}}}}}}}}}}}),document[_0x161596(0xa1e)](_0x161596(0x67c))[_0x161596(0x46d)](_0x161596(0x635))[_0x161596(0x84f)](_0x161596(0x321),_0x370dec=>{const _0x3d9748=_0x161596,_0x4e0da0=_0x370dec[_0x3d9748(0x2da)][_0x3d9748(0x310)](_0x3d9748(0x773));if(!_0x4e0da0||!_0x4e0da0[_0x3d9748(0x7b1)][_0x3d9748(0x9a5)])return;const _0x56f8f8=_0x4e0da0[_0x3d9748(0x7b1)][_0x3d9748(0x9a5)];if(quizLeaderboardSortBy===_0x56f8f8)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3d9748(0x447)?_0x3d9748(0x6c1):_0x3d9748(0x447);else{quizLeaderboardSortBy=_0x56f8f8;const _0x245cea=[_0x3d9748(0x660)];quizLeaderboardSortOrder=_0x245cea[_0x3d9748(0x85e)](_0x56f8f8)?_0x3d9748(0x447):_0x3d9748(0x6c1);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x3d9748(0x634));}),document[_0x161596(0xa1e)](_0x161596(0x575))[_0x161596(0x84f)]('click',closePresentation),document[_0x161596(0xa1e)](_0x161596(0x941))[_0x161596(0x84f)](_0x161596(0x321),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x161596(0xa1e)](_0x161596(0x57a))['addEventListener']('click',()=>{const _0x5e6034=_0x161596;currentQuizData[_0x5e6034(0x2c3)]&&currentPresentationSlide<currentQuizData[_0x5e6034(0x2c3)][_0x5e6034(0x475)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x161596(0x84f)](_0x161596(0x7ce),()=>{const _0x5828ca=_0x161596;!document[_0x5828ca(0x879)]&&(presentationModal['style'][_0x5828ca(0x421)]=_0x5828ca(0x75a));}),document[_0x161596(0xa1e)](_0x161596(0x57e))[_0x161596(0x84f)](_0x161596(0x321),handleDeleteAllStudents),studentList[_0x161596(0x84f)](_0x161596(0x321),_0x172f85=>{const _0x6003d8=_0x161596,_0x1e06b6=_0x172f85['target'][_0x6003d8(0x310)]('.delete-student-btn');if(_0x1e06b6){const _0x2579d0=_0x1e06b6[_0x6003d8(0x7b1)][_0x6003d8(0x660)];handleDeleteStudent(_0x2579d0);}}),document[_0x161596(0xa1e)](_0x161596(0x8a3))[_0x161596(0x84f)](_0x161596(0x321),handleGenerateFromFileClick),fileUploadInput[_0x161596(0x84f)](_0x161596(0x96a),_0x3ca570=>{const _0x5182e7=_0x161596,_0x420aa5=_0x3ca570[_0x5182e7(0x2da)]['files'][0x0],_0x2f5bc5=document[_0x5182e7(0xa1e)](_0x5182e7(0x8a3));_0x420aa5?(selectedFile=_0x420aa5,_0x2f5bc5[_0x5182e7(0x370)]=![]):(selectedFile=null,_0x2f5bc5['disabled']=!![]);}),document[_0x161596(0xa1e)]('timer-mode-select')[_0x161596(0x84f)](_0x161596(0x96a),_0x5c1fca=>{const _0x3ff762=_0x161596,_0x315b5a=document[_0x3ff762(0xa1e)](_0x3ff762(0x3fd)),_0xfc4b5b=document[_0x3ff762(0xa1e)](_0x3ff762(0x5a5)),_0xf6c5e1=document['getElementById']('timer-duration-input');_0x5c1fca[_0x3ff762(0x2da)][_0x3ff762(0x3b8)]===_0x3ff762(0x75a)?_0x315b5a[_0x3ff762(0x6d9)]['add'](_0x3ff762(0x8da)):(_0x315b5a[_0x3ff762(0x6d9)][_0x3ff762(0x309)](_0x3ff762(0x8da)),_0x5c1fca['target']['value']===_0x3ff762(0x61a)?(_0xfc4b5b['textContent']=_0x3ff762(0x966),_0xf6c5e1[_0x3ff762(0x3b8)]='10'):(_0xfc4b5b[_0x3ff762(0x32e)]=_0x3ff762(0x375),_0xf6c5e1['value']='30'));}),document[_0x161596(0xa1e)](_0x161596(0x583))[_0x161596(0x84f)]('change',_0x57e12b=>{const _0x5249cf=_0x161596,_0x4c2c6d=document[_0x5249cf(0xa1e)]('num-choices-container'),_0x5f04a7=_0x57e12b[_0x5249cf(0x2da)][_0x5249cf(0x3b8)],_0x30e0db=document[_0x5249cf(0x46d)](_0x5249cf(0x362)),_0x57c3fe=document[_0x5249cf(0xa1e)](_0x5249cf(0x8ae)),_0x456be0=document['getElementById'](_0x5249cf(0x754));_0x5f04a7===_0x5249cf(0xa4a)?_0x30e0db[_0x5249cf(0x32e)]=_0x5249cf(0x478):_0x30e0db['textContent']='จำนวนข้อ:',_0x5f04a7===_0x5249cf(0x882)||_0x5f04a7===_0x5249cf(0x523)||_0x5f04a7===_0x5249cf(0x9c5)?_0x4c2c6d[_0x5249cf(0x6d9)][_0x5249cf(0x309)](_0x5249cf(0x8da)):_0x4c2c6d[_0x5249cf(0x6d9)][_0x5249cf(0x992)](_0x5249cf(0x8da)),_0x57c3fe[_0x5249cf(0x985)]=_0x456be0[_0x5249cf(0x3b8)];}),document[_0x161596(0xa1e)]('num-questions')[_0x161596(0x84f)](_0x161596(0x4e7),_0x2404fe=>{const _0x5d493b=_0x161596;document['getElementById'](_0x5d493b(0x8ae))[_0x5d493b(0x985)]=_0x2404fe['target'][_0x5d493b(0x3b8)];}),document[_0x161596(0xa1e)](_0x161596(0x3d3))[_0x161596(0x84f)](_0x161596(0x96a),_0x3bf745=>{const _0x4beba9=_0x161596,_0xf7d57d=document['getElementById']('modal-timer-duration-container'),_0x293236=document[_0x4beba9(0xa1e)](_0x4beba9(0x96f)),_0x537afd=document[_0x4beba9(0xa1e)]('modal-timer-duration-input');_0x3bf745['target'][_0x4beba9(0x3b8)]==='none'?_0xf7d57d[_0x4beba9(0x6d9)][_0x4beba9(0x992)](_0x4beba9(0x8da)):(_0xf7d57d[_0x4beba9(0x6d9)][_0x4beba9(0x309)](_0x4beba9(0x8da)),_0x3bf745[_0x4beba9(0x2da)][_0x4beba9(0x3b8)]===_0x4beba9(0x61a)?_0x293236['textContent']=_0x4beba9(0x966):_0x293236[_0x4beba9(0x32e)]='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x161596(0x37e))[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x258f9b=_0x161596;document[_0x258f9b(0xa1e)]('quiz-editor-modal')['classList'][_0x258f9b(0x992)](_0x258f9b(0x8da));}),document[_0x161596(0xa1e)](_0x161596(0x8c7))[_0x161596(0x84f)]('click',()=>{const _0x1dd09f=_0x161596;document[_0x1dd09f(0xa1e)](_0x1dd09f(0x846))[_0x1dd09f(0x6d9)]['add'](_0x1dd09f(0x8da));}),document[_0x161596(0xa1e)](_0x161596(0x2e5))[_0x161596(0x84f)](_0x161596(0x321),handleVerifyAnswersInEditor),document[_0x161596(0xa1e)](_0x161596(0x705))[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x1e3182=_0x161596;document[_0x1e3182(0xa1e)](_0x1e3182(0x846))[_0x1e3182(0x6d9)][_0x1e3182(0x992)]('hidden'),showConfirmation(_0x1e3182(0x30f),handleSaveChanges);}),document[_0x161596(0xa1e)](_0x161596(0x8ba))[_0x161596(0x84f)](_0x161596(0x321),handleAutoFixLatex);const _0x59ca60=document[_0x161596(0xa1e)](_0x161596(0x644));_0x59ca60&&_0x59ca60[_0x161596(0x84f)](_0x161596(0x321),_0x44cf52=>{const _0x1a9d09=_0x161596,_0x339bbd=_0x44cf52[_0x1a9d09(0x2da)]['closest']('.regenerate-question-editor-btn'),_0x5d45f0=_0x44cf52[_0x1a9d09(0x2da)][_0x1a9d09(0x310)](_0x1a9d09(0x5c8));if(_0x339bbd){const _0x18098d=_0x339bbd[_0x1a9d09(0x310)](_0x1a9d09(0xa26)),_0x13d14a=parseInt(_0x18098d['dataset']['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x13d14a);}else{if(_0x5d45f0){const _0x9f3e26=_0x5d45f0[_0x1a9d09(0x310)](_0x1a9d09(0xa26)),_0x36976a=parseInt(_0x9f3e26[_0x1a9d09(0x7b1)][_0x1a9d09(0x861)],0xa);handleAiFixFormula(_0x36976a);}}});document['getElementById'](_0x161596(0x355))[_0x161596(0x84f)](_0x161596(0x321),openQuizBankModal),document[_0x161596(0xa1e)](_0x161596(0x85a))[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x5dc6d3=_0x161596;document['getElementById'](_0x5dc6d3(0x323))[_0x5dc6d3(0x6d9)]['add'](_0x5dc6d3(0x8da));}),document['getElementById'](_0x161596(0x4e2))[_0x161596(0x84f)](_0x161596(0x4e7),_0x140d5d=>renderQuizBankList(_0x140d5d[_0x161596(0x2da)][_0x161596(0x3b8)]));const _0x241422=document['getElementById']('math-topics-checkbox-container');if(_0x241422){let _0x2cb126=null;_0x241422[_0x161596(0x84f)]('click',_0x540600=>{const _0x3e14de=_0x161596,_0x9dcb38=_0x540600[_0x3e14de(0x2da)],_0x4c41d6=_0x9dcb38[_0x3e14de(0x310)](_0x3e14de(0x1fb)),_0x21ab9d=_0x9dcb38['closest'](_0x3e14de(0x5a9)),_0x500d22=_0x9dcb38['closest'](_0x3e14de(0x31b)),_0x411321=_0x9dcb38[_0x3e14de(0x310)]('.cancel-edit-topic-btn');if(_0x21ab9d){_0x540600[_0x3e14de(0x209)]();const _0x1ff00a=_0x21ab9d[_0x3e14de(0x7b1)]['id'],_0x533e51=_0x21ab9d['closest']('.group')[_0x3e14de(0x46d)](_0x3e14de(0x649))[_0x3e14de(0x32e)];showConfirmation(_0x3e14de(0x95d)+_0x533e51+'\x22?',()=>handleDeleteCustomTopic(_0x1ff00a));}else{if(_0x4c41d6){_0x540600[_0x3e14de(0x209)]();_0x2cb126&&toggleTopicEditMode(_0x2cb126,![]);const _0x47b518=_0x4c41d6['closest']('[data-topic-container-id]');_0x2cb126=_0x47b518,toggleTopicEditMode(_0x47b518,!![]);}else{if(_0x500d22){_0x540600[_0x3e14de(0x209)]();const _0x4b4ce0=_0x500d22[_0x3e14de(0x7b1)]['id'],_0x18b8e7=_0x500d22[_0x3e14de(0x310)]('[data-topic-container-id]'),_0x44fb58=_0x18b8e7[_0x3e14de(0x46d)](_0x3e14de(0x599))['value'];handleUpdateCustomTopic(_0x4b4ce0,_0x44fb58),_0x2cb126=null;}else{if(_0x411321){_0x540600[_0x3e14de(0x209)]();const _0x33fbd1=_0x411321['closest'](_0x3e14de(0x473));toggleTopicEditMode(_0x33fbd1,![]),_0x2cb126=null;}}}}}),document[_0x161596(0xa1e)](_0x161596(0x3fc))[_0x161596(0x84f)](_0x161596(0x321),()=>{const _0x4b6c4c=_0x161596;document[_0x4b6c4c(0xa1e)](_0x4b6c4c(0x3af))['classList']['add'](_0x4b6c4c(0x8da));}),document['getElementById'](_0x161596(0x343))['addEventListener']('click',()=>{const _0x3cadfc=_0x161596;document['getElementById'](_0x3cadfc(0x3af))[_0x3cadfc(0x6d9)][_0x3cadfc(0x992)](_0x3cadfc(0x8da));}),document[_0x161596(0xa1e)](_0x161596(0x6bc))[_0x161596(0x84f)](_0x161596(0x321),handleExportLessonPDF);}document[_0x161596(0xa1e)](_0x161596(0x760))[_0x161596(0x84f)]('click',()=>{const _0x3e8483=_0x161596;document[_0x3e8483(0xa1e)](_0x3e8483(0x5a0))[_0x3e8483(0x6d9)][_0x3e8483(0x992)](_0x3e8483(0x8da));}),document[_0x161596(0xa1e)](_0x161596(0x61e))[_0x161596(0x84f)]('click',()=>{const _0x15ea91=_0x161596;document['getElementById']('comparison-modal')[_0x15ea91(0x6d9)]['add'](_0x15ea91(0x8da));}),setupComparisonModalTabs(),document[_0x161596(0x23e)][_0x161596(0x84f)](_0x161596(0x321),function(_0x154b28){const _0x3cb4cd=_0x161596;if(_0x154b28[_0x3cb4cd(0x2da)][_0x3cb4cd(0x6d9)][_0x3cb4cd(0x76b)](_0x3cb4cd(0x8f9))){const _0x55c657=unescape(_0x154b28[_0x3cb4cd(0x2da)][_0x3cb4cd(0x7b1)][_0x3cb4cd(0x633)]);startSkillPractice(_0x55c657);}}),document[_0x161596(0xa1e)](_0x161596(0x289))[_0x161596(0x84f)]('click',_0xf05207=>{const _0x5711e3=_0x161596,_0x116679=_0xf05207[_0x5711e3(0x2da)][_0x5711e3(0x310)]('.delete-submission-btn');if(_0x116679){const _0x3b22b7=_0x116679[_0x5711e3(0x7b1)][_0x5711e3(0x660)];handleDeleteSubmission(_0x3b22b7);}});}async function showStudentProgressView(){const _0xdef3bf=_0x3ac816;studentInitialView['classList']['add'](_0xdef3bf(0x8da)),document[_0xdef3bf(0xa1e)]('student-progress-view')[_0xdef3bf(0x6d9)][_0xdef3bf(0x309)]('hidden');const _0x226d1c=document[_0xdef3bf(0xa1e)](_0xdef3bf(0x52b)),_0x3de28f=document[_0xdef3bf(0xa1e)](_0xdef3bf(0x57c)),_0x1e4897=document[_0xdef3bf(0xa1e)](_0xdef3bf(0x90a));_0x1e4897['innerHTML']=_0xdef3bf(0x56f),_0x3de28f['innerHTML']=_0xdef3bf(0x349),_0x3de28f[_0xdef3bf(0x370)]=!![],_0x226d1c[_0xdef3bf(0x49f)]=_0xdef3bf(0x667);if(allProjects[_0xdef3bf(0x475)]===0x0){const _0x542052=collection(db,_0xdef3bf(0xa0c)+appId+'/public/data/projects'),_0x58fb9f=await getDocs(_0x542052);allProjects=_0x58fb9f[_0xdef3bf(0x336)]['map'](_0x2a34d7=>({'id':_0x2a34d7['id'],..._0x2a34d7[_0xdef3bf(0x22a)]()}));}const _0x56cb50=allProjects[_0xdef3bf(0x417)](_0x365b4e=>_0x365b4e[_0xdef3bf(0x419)]?.['showInStudentDashboard']!==![]);_0x56cb50['sort']((_0x2c0551,_0x1980c1)=>_0x2c0551['projectName'][_0xdef3bf(0x820)](_0x1980c1[_0xdef3bf(0x8c5)],'th')),_0x226d1c[_0xdef3bf(0x49f)]=_0xdef3bf(0x827)+_0x56cb50['map'](_0x3bd9a9=>_0xdef3bf(0x286)+_0x3bd9a9['id']+'\x22>'+_0x3bd9a9['projectName']+_0xdef3bf(0xa08))[_0xdef3bf(0x6b7)](''),_0x226d1c['onchange']=()=>{const _0x3d970f=_0xdef3bf,_0x4af3f1=_0x3de28f[_0x3d970f(0x3b8)],_0x4af2b8=_0x226d1c['value'];_0x3de28f[_0x3d970f(0x370)]=!![],_0x3de28f['innerHTML']=_0x3d970f(0x349),_0x1e4897[_0x3d970f(0x49f)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x4af2b8)return;const _0x341b22=allProjects[_0x3d970f(0x3a9)](_0x1b20dc=>_0x1b20dc['id']===_0x4af2b8);if(!_0x341b22||!_0x341b22[_0x3d970f(0x4b9)])return;const _0x76a3bb=()=>{const _0x32c2a9=_0x3d970f;_0x3de28f[_0x32c2a9(0x49f)]=_0x32c2a9(0x349)+_0x341b22['students'][_0x32c2a9(0x3f8)](_0x4d63e0=>_0x32c2a9(0x286)+_0x4d63e0+'\x22>'+_0x4d63e0+'</option>')[_0x32c2a9(0x6b7)](''),_0x3de28f['disabled']=![];const _0x3f3696=Array['from'](_0x3de28f[_0x32c2a9(0x431)])[_0x32c2a9(0x3f8)](_0x1145e7=>_0x1145e7[_0x32c2a9(0x3b8)]);if(_0x4af3f1&&_0x3f3696[_0x32c2a9(0x85e)](_0x4af3f1))_0x3de28f['value']=_0x4af3f1,_0x3de28f[_0x32c2a9(0x52e)](new Event(_0x32c2a9(0x96a)));else _0x341b22[_0x32c2a9(0x4b9)][_0x32c2a9(0x475)]===0x1&&(_0x3de28f[_0x32c2a9(0x3b8)]=_0x341b22[_0x32c2a9(0x4b9)][0x0],_0x3de28f[_0x32c2a9(0x52e)](new Event('change')));};if(_0x341b22[_0x3d970f(0x419)]?.[_0x3d970f(0x685)]){if(sessionStorage[_0x3d970f(0x77b)](_0x3d970f(0x3b4)+_0x4af2b8)===_0x3d970f(0x70f)){_0x76a3bb();return;}const _0x15dbce=document['getElementById'](_0x3d970f(0x335)),_0x5e17b3=document[_0x3d970f(0xa1e)](_0x3d970f(0x982)),_0x57ac6d=document['getElementById'](_0x3d970f(0x581)),_0x4487c2=document[_0x3d970f(0xa1e)](_0x3d970f(0xa3b)),_0x3d3fe1=document['getElementById'](_0x3d970f(0x8b2));document[_0x3d970f(0xa1e)](_0x3d970f(0x7b3))[_0x3d970f(0x32e)]=_0x3d970f(0x7f0)+_0x341b22[_0x3d970f(0x8c5)],_0x4487c2['value']='',_0x3d3fe1['classList']['add'](_0x3d970f(0x8da)),_0x15dbce[_0x3d970f(0x6d9)]['remove']('hidden');const _0x4398f2=()=>{const _0x214f4f=_0x3d970f,_0x4d6cb7=_0x4487c2[_0x214f4f(0x3b8)][_0x214f4f(0x855)]();_0x4d6cb7===_0x341b22[_0x214f4f(0x419)][_0x214f4f(0x26f)]?(sessionStorage[_0x214f4f(0x6aa)](_0x214f4f(0x3b4)+_0x4af2b8,_0x214f4f(0x70f)),_0x15dbce[_0x214f4f(0x6d9)]['add'](_0x214f4f(0x8da)),_0x76a3bb(),_0x5e17b3[_0x214f4f(0x24d)](_0x214f4f(0x321),_0x4398f2)):_0x3d3fe1['classList'][_0x214f4f(0x309)](_0x214f4f(0x8da));};_0x5e17b3['onclick']=_0x4398f2,_0x57ac6d[_0x3d970f(0x7ea)]=()=>{const _0x39de29=_0x3d970f;_0x15dbce[_0x39de29(0x6d9)][_0x39de29(0x992)]('hidden'),_0x226d1c[_0x39de29(0x3b8)]='',_0x5e17b3[_0x39de29(0x24d)]('click',_0x4398f2);};}else _0x76a3bb();},_0x3de28f['onchange']=()=>{const _0xba6f3d=_0xdef3bf,_0x3607f0=_0x226d1c[_0xba6f3d(0x3b8)],_0x13ffe6=_0x3de28f[_0xba6f3d(0x3b8)];_0x3607f0&&_0x13ffe6&&renderStudentProgressDashboard(_0x3607f0,_0x13ffe6);};}async function renderStudentProgressDashboard(_0x432224,_0x10dc5b){const _0x7cad2=_0x3ac816,_0x55391b=document['getElementById'](_0x7cad2(0x90a));_0x55391b[_0x7cad2(0x49f)]=_0x7cad2(0x36c);try{const _0x3c0857=collection(db,_0x7cad2(0xa0c)+appId+_0x7cad2(0x7a0)),_0x1f91c9=query(_0x3c0857,where(_0x7cad2(0x6f3),'==',_0x432224)),_0x4e5c28=await getDocs(_0x1f91c9),_0x5e8342=_0x4e5c28[_0x7cad2(0x336)][_0x7cad2(0x3f8)](_0x5c3892=>({'id':_0x5c3892['id'],..._0x5c3892[_0x7cad2(0x22a)]()})),_0x590701=_0x5e8342['map'](_0x21f976=>getDoc(doc(db,_0x7cad2(0xa0c)+appId+'/public/data/quizzes/'+_0x21f976['id']+_0x7cad2(0x50f),_0x10dc5b))),_0x1838ea=await Promise[_0x7cad2(0x9a8)](_0x590701),_0x28afae=_0x1838ea[_0x7cad2(0x417)](_0x4eabbf=>_0x4eabbf[_0x7cad2(0x72f)]())[_0x7cad2(0x3f8)](_0x3e1b7d=>({'quizId':_0x3e1b7d[_0x7cad2(0x944)][_0x7cad2(0x21f)][_0x7cad2(0x21f)]['id'],..._0x3e1b7d['data']()}));if(_0x28afae[_0x7cad2(0x475)]===0x0){_0x55391b[_0x7cad2(0x49f)]=_0x7cad2(0xa1f);return;}let _0x4da33a=_0x7cad2(0x435);_0x28afae['forEach'](_0x51dc54=>{const _0x353bb0=_0x7cad2,_0x33afba=_0x5e8342['find'](_0x2b4edc=>_0x2b4edc['id']===_0x51dc54[_0x353bb0(0x420)]),_0x14991a=_0x33afba[_0x353bb0(0x419)]?.['resultsDisplay']||_0x353bb0(0x3c0),_0x25b652=_0x33afba[_0x353bb0(0x419)]?.[_0x353bb0(0x231)]??0x0,_0x193573=_0x51dc54[_0x353bb0(0x487)]>=_0x25b652;let _0xdac07b='',_0x34a700=_0x353bb0(0x465);switch(_0x14991a){case'show_results_and_answers':case _0x353bb0(0x3cf):_0x34a700=_0x193573?_0x353bb0(0x6d3):_0x353bb0(0x9e8),_0xdac07b=_0x353bb0(0x8d7)+(_0x193573?_0x353bb0(0x27f):_0x353bb0(0x9fe))+'\x22>'+_0x51dc54['bestScore']+_0x353bb0(0x3f3)+_0x51dc54[_0x353bb0(0x3cc)]+_0x353bb0(0x390)+(_0x193573?'bg-green-200\x20text-green-800':_0x353bb0(0x47d))+'\x22>'+(_0x193573?'ผ่าน':_0x353bb0(0x81a))+_0x353bb0(0x407);break;case _0x353bb0(0x4ff):_0x34a700=_0x193573?_0x353bb0(0x6d3):'bg-red-50',_0xdac07b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x193573?_0x353bb0(0x2e7):_0x353bb0(0x47d))+'\x22>'+(_0x193573?_0x353bb0(0x795):_0x353bb0(0x81a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x353bb0(0x30e):_0x34a700='bg-yellow-50',_0xdac07b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x4da33a+=_0x353bb0(0x527)+_0x34a700+_0x353bb0(0x3ca)+_0x33afba[_0x353bb0(0x633)]+_0x353bb0(0x3b9)+_0x51dc54[_0x353bb0(0x67a)][_0x353bb0(0x475)]+_0x353bb0(0x219)+new Date(_0x51dc54[_0x353bb0(0x5b7)])[_0x353bb0(0x60f)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xdac07b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4da33a+=_0x7cad2(0x516),_0x55391b[_0x7cad2(0x49f)]=_0x4da33a;}catch(_0x4f4971){console[_0x7cad2(0x2fa)](_0x7cad2(0x609),_0x4f4971),_0x55391b[_0x7cad2(0x49f)]=_0x7cad2(0x595);}}function setupStudentProgressListeners(){const _0x45cf08=_0x3ac816;document[_0x45cf08(0xa1e)]('view-my-progress-btn')[_0x45cf08(0x84f)](_0x45cf08(0x321),showStudentProgressView),document[_0x45cf08(0xa1e)]('back-to-student-home-btn')[_0x45cf08(0x84f)](_0x45cf08(0x321),()=>{const _0x118a9d=_0x45cf08;document[_0x118a9d(0xa1e)](_0x118a9d(0x2e3))[_0x118a9d(0x6d9)]['add']('hidden'),document[_0x118a9d(0xa1e)](_0x118a9d(0x5e1))[_0x118a9d(0x6d9)][_0x118a9d(0x309)](_0x118a9d(0x8da));});}async function startSkillPractice(_0x841b8d){const _0x177d41=_0x3ac816;studentResultArea['classList']['add'](_0x177d41(0x8da)),studentQuizArea[_0x177d41(0x49f)]=_0x177d41(0x471),studentQuizArea[_0x177d41(0x6d9)]['remove'](_0x177d41(0x8da));try{const _0x5b625c=await getStandardizedTopic(_0x841b8d);console[_0x177d41(0x274)](_0x177d41(0x7a1)+_0x841b8d+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x5b625c+'\x22'),studentQuizArea[_0x177d41(0x46d)]('p')[_0x177d41(0x32e)]=_0x177d41(0x9d1)+_0x5b625c+_0x177d41(0x569);const _0x36cef7=collection(db,_0x177d41(0xa0c)+appId+'/public/data/practiceBank'),_0x287f4c=query(_0x36cef7,where(_0x177d41(0x633),'==',_0x5b625c)),_0x54b490=await getDocs(_0x287f4c);if(_0x54b490['docs']['length']>=0x3){console[_0x177d41(0x274)]('พบข้อสอบ\x20'+_0x54b490[_0x177d41(0x336)][_0x177d41(0x475)]+_0x177d41(0x622)+_0x5b625c+_0x177d41(0x951));let _0x4bc493=_0x54b490['docs']['map'](_0x598542=>_0x598542['data']());shuffleArray(_0x4bc493);const _0x4bb3da={'topic':_0x5b625c,'questions':_0x4bc493[_0x177d41(0x493)](0x0,0x3)};displaySkillPracticeDrill(_0x4bb3da);}else{console[_0x177d41(0x274)](_0x177d41(0x8e5)+_0x5b625c+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x68fd89=await generatePracticeQuestions(_0x5b625c);await saveDrillToPracticeBank(_0x68fd89,_0x5b625c),displaySkillPracticeDrill(_0x68fd89);}}catch(_0xb7192d){console[_0x177d41(0x2fa)](_0x177d41(0x57f),_0xb7192d),showMessage(_0x177d41(0x4c1)),studentQuizArea[_0x177d41(0x6d9)][_0x177d41(0x992)](_0x177d41(0x8da)),studentResultArea[_0x177d41(0x6d9)]['remove'](_0x177d41(0x8da));}}async function saveDrillToPracticeBank(_0x4b9228,_0x3f3d44){const _0x54a6e6=_0x3ac816,_0x4382e7=collection(db,_0x54a6e6(0xa0c)+appId+_0x54a6e6(0x995)),_0xe26430=writeBatch(db);_0x4b9228[_0x54a6e6(0x2c3)][_0x54a6e6(0x568)](_0xbd1a1c=>{const _0x7450cc=_0x54a6e6,_0x19b35b=doc(_0x4382e7);_0xe26430['set'](_0x19b35b,{'topic':_0x3f3d44,'questionText':_0xbd1a1c[_0x7450cc(0x414)],'options':_0xbd1a1c[_0x7450cc(0x431)],'correctAnswerIndex':_0xbd1a1c[_0x7450cc(0x825)],'explanation':_0xbd1a1c[_0x7450cc(0x722)],'createdAt':serverTimestamp()});});try{await _0xe26430[_0x54a6e6(0x243)](),console[_0x54a6e6(0x274)]('บันทึกคำถามใหม่\x20'+_0x4b9228[_0x54a6e6(0x2c3)][_0x54a6e6(0x475)]+_0x54a6e6(0x4ee));}catch(_0x448b2e){console[_0x54a6e6(0x2fa)](_0x54a6e6(0x65b),_0x448b2e);}}async function getStandardizedTopic(_0x3ade9c){const _0x57fc77=_0x3ac816,_0x699487=_0x57fc77(0x74f)+_0x3ade9c+_0x57fc77(0x53d),_0x4cbe2b={'type':_0x57fc77(0x5f8),'properties':{'standardTopic':{'type':_0x57fc77(0x4d0)}},'required':[_0x57fc77(0xa20)]};try{const _0x29222a=await callAnalysisApi(_0x699487,_0x4cbe2b);return _0x29222a[_0x57fc77(0xa20)];}catch(_0x494d29){return console[_0x57fc77(0x2fa)](_0x57fc77(0x2cd),_0x494d29),_0x3ade9c;}}async function handleGenerateEasyVersionQuiz(_0x4d02f8){const _0x3ed6c9=_0x3ac816;showConfirmation(_0x3ed6c9(0x715),async()=>{const _0x38eb7f=_0x3ed6c9;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0x48e780=allQuizzes[_0x38eb7f(0x3a9)](_0x272ca7=>_0x272ca7['id']===_0x4d02f8);if(!_0x48e780)throw new Error(_0x38eb7f(0x762));const _0xaf6b5c=_0x38eb7f(0x6cb)+JSON[_0x38eb7f(0x567)](_0x48e780[_0x38eb7f(0x2c3)])+_0x38eb7f(0x257),_0x2328a3={'type':_0x38eb7f(0x5f8),'properties':{'questionText':{'type':_0x38eb7f(0x4d0)},'questionType':{'type':_0x38eb7f(0x4d0)},'options':{'type':_0x38eb7f(0x8b1),'items':{'type':_0x38eb7f(0x4d0)}},'correctAnswerIndex':{'type':_0x38eb7f(0x6a3)},'idealAnswer':{'type':_0x38eb7f(0x4d0)},'explanation':{'type':_0x38eb7f(0x4d0)},'imageCode':{'type':_0x38eb7f(0x4d0)}},'required':['questionText','questionType',_0x38eb7f(0x722)]},_0x1a831c={'type':'OBJECT','properties':{'questions':{'type':_0x38eb7f(0x8b1),'items':_0x2328a3}},'required':['questions']},_0x3953bf=await callAnalysisApi(_0xaf6b5c,_0x1a831c);_0x3953bf&&_0x3953bf[_0x38eb7f(0x2c3)]&&_0x3953bf['questions'][_0x38eb7f(0x568)](_0x17c9dd=>{const _0x2a4181=_0x38eb7f;_0x17c9dd[_0x2a4181(0x414)]&&(_0x17c9dd[_0x2a4181(0x414)]=_0x17c9dd['questionText'][_0x2a4181(0x855)]()[_0x2a4181(0x2f9)](/,$/,'')[_0x2a4181(0x855)]());_0x17c9dd['options']&&Array[_0x2a4181(0x740)](_0x17c9dd[_0x2a4181(0x431)])&&(_0x17c9dd[_0x2a4181(0x431)]=_0x17c9dd[_0x2a4181(0x431)]['map'](_0x2deb7c=>_0x2deb7c||_0x2a4181(0x77f)));if(_0x17c9dd['imageCode']){const _0x58dcb0=_0x17c9dd[_0x2a4181(0x2fb)][_0x2a4181(0x855)]();_0x58dcb0===''||_0x58dcb0['toLowerCase']()===_0x2a4181(0x83a)||!_0x58dcb0[_0x2a4181(0x77d)]('<svg')?delete _0x17c9dd[_0x2a4181(0x2fb)]:_0x17c9dd[_0x2a4181(0x2fb)]=_0x58dcb0;}});if(!_0x3953bf||!_0x3953bf[_0x38eb7f(0x2c3)]||_0x3953bf[_0x38eb7f(0x2c3)]['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x369493={'projectId':_0x48e780[_0x38eb7f(0x6f3)],'quizType':_0x48e780['quizType'],'settings':_0x48e780['settings'],'createdBy':_0x48e780['createdBy'],'status':_0x38eb7f(0x745),'topic':'(ฉบับง่าย)\x20'+_0x48e780[_0x38eb7f(0x633)],'questions':_0x3953bf['questions'],'createdAt':new Date()[_0x38eb7f(0x490)](),'quizMode':_0x38eb7f(0x75f),'pairedQuizId':null};let _0x1cb4c8;while(!![]){_0x1cb4c8=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x38eb7f(0x697)]();const _0x46a0a4=await getDoc(doc(db,_0x38eb7f(0xa0c)+appId+_0x38eb7f(0x7a0),_0x1cb4c8));if(!_0x46a0a4[_0x38eb7f(0x72f)]())break;}await setDoc(doc(db,_0x38eb7f(0xa0c)+appId+_0x38eb7f(0x7a0),_0x1cb4c8),_0x369493),showMessage(_0x38eb7f(0x275));}catch(_0x524fea){console[_0x38eb7f(0x2fa)](_0x38eb7f(0x2e1),_0x524fea),showMessage(_0x38eb7f(0x46a)+_0x524fea[_0x38eb7f(0x360)]);}});}async function generatePracticeQuestions(_0x281412){const _0x5cf0dc=_0x3ac816,_0x5f05e3=_0x5cf0dc(0x3ce)+_0x281412+_0x5cf0dc(0x89e)+simpleMathPrompt+_0x5cf0dc(0x62f),_0x409c04={'type':_0x5cf0dc(0x5f8),'properties':{'questionText':{'type':_0x5cf0dc(0x4d0)},'options':{'type':_0x5cf0dc(0x8b1),'items':{'type':_0x5cf0dc(0x4d0)}},'correctAnswerIndex':{'type':_0x5cf0dc(0x6a3)},'explanation':{'type':_0x5cf0dc(0x4d0)}},'required':['questionText',_0x5cf0dc(0x431),_0x5cf0dc(0x825),_0x5cf0dc(0x722)]},_0x14f185={'type':_0x5cf0dc(0x5f8),'properties':{'topic':{'type':_0x5cf0dc(0x4d0)},'questions':{'type':_0x5cf0dc(0x8b1),'items':_0x409c04}},'required':['topic',_0x5cf0dc(0x2c3)]};return await callAnalysisApi(_0x5f05e3,_0x14f185);}function displayLessonPlan(_0x4775cc,_0x4664bf){const _0x4d0ca1=_0x3ac816,_0x11c970=_0x4d0ca1(0x8d9)+_0x4664bf[_0x4d0ca1(0x633)]+_0x4d0ca1(0x3bf)+_0x4775cc['learningGaps']['map'](_0x33e3ce=>'<li>'+_0x33e3ce+_0x4d0ca1(0x6d1))[_0x4d0ca1(0x6b7)]('')+_0x4d0ca1(0x348)+_0x4775cc[_0x4d0ca1(0x44d)]+_0x4d0ca1(0x9f7)+_0x4775cc['practiceProblems'][_0x4d0ca1(0x3f8)](_0x3d4032=>_0x4d0ca1(0x9d4)+_0x3d4032[_0x4d0ca1(0x743)]+_0x4d0ca1(0x8cd)+_0x3d4032[_0x4d0ca1(0x936)]+_0x4d0ca1(0xa2e))[_0x4d0ca1(0x6b7)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById']('lesson-plan-title')['textContent']=_0x4d0ca1(0x61c)+_0x4664bf['topic'],document[_0x4d0ca1(0xa1e)]('lesson-plan-content')[_0x4d0ca1(0x49f)]=_0x11c970,document[_0x4d0ca1(0xa1e)](_0x4d0ca1(0x3af))[_0x4d0ca1(0x6d9)][_0x4d0ca1(0x309)](_0x4d0ca1(0x8da));if(window[_0x4d0ca1(0x60a)])MathJax[_0x4d0ca1(0x59b)]();}function displaySkillPracticeDrill(_0x58a481){let _0x465c13=0x0;const _0x151df7=_0x58a481['questions'],_0x1c8a7a=()=>{const _0x387176=_0x4938,_0x3f8d1d=_0x151df7[_0x465c13],_0x53d6b0=_0x387176(0x90f)+(_0x465c13+0x1)+_0x387176(0x3f3)+_0x151df7[_0x387176(0x475)]+_0x387176(0x464)+_0x3f8d1d[_0x387176(0x414)]+_0x387176(0x4ec)+_0x3f8d1d[_0x387176(0x431)][_0x387176(0x3f8)]((_0x56ef8c,_0x5f5940)=>_0x387176(0x228)+_0x5f5940+_0x387176(0x958)+_0x5f5940+_0x387176(0x92a)+_0x5f5940+'\x22>'+_0x56ef8c+_0x387176(0x91d))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x387176(0x49f)]=_0x53d6b0;if(window[_0x387176(0x60a)])MathJax[_0x387176(0x59b)]([studentQuizArea]);document[_0x387176(0xa1e)](_0x387176(0x972))[_0x387176(0x84f)](_0x387176(0x321),async()=>{const _0x3657cd=await getHintForQuestion(_0x3f8d1d['questionText']);showMessage(_0x3657cd);}),document[_0x387176(0xa1e)](_0x387176(0x7c8))[_0x387176(0x84f)](_0x387176(0x321),()=>{const _0x1e5a2c=_0x387176,_0x26aa1f=document[_0x1e5a2c(0x46d)](_0x1e5a2c(0x369));if(!_0x26aa1f){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x4bf3b8=document[_0x1e5a2c(0xa1e)](_0x1e5a2c(0x29b)),_0x14dc3e=parseInt(_0x26aa1f[_0x1e5a2c(0x3b8)])===_0x3f8d1d['correctAnswerIndex'];_0x14dc3e?(_0x4bf3b8['className']='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x4bf3b8[_0x1e5a2c(0x49f)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x3f8d1d[_0x1e5a2c(0x722)]):(_0x4bf3b8['className']=_0x1e5a2c(0x7fc),_0x4bf3b8[_0x1e5a2c(0x49f)]=_0x1e5a2c(0x4d2)+_0x3f8d1d[_0x1e5a2c(0x722)]);_0x4bf3b8['classList']['remove'](_0x1e5a2c(0x8da));if(window[_0x1e5a2c(0x60a)])MathJax[_0x1e5a2c(0x59b)]([_0x4bf3b8]);document[_0x1e5a2c(0xa1e)](_0x1e5a2c(0x7c8))[_0x1e5a2c(0x6d9)][_0x1e5a2c(0x992)](_0x1e5a2c(0x8da)),document[_0x1e5a2c(0xa1e)](_0x1e5a2c(0x972))[_0x1e5a2c(0x6d9)]['add'](_0x1e5a2c(0x8da)),document[_0x1e5a2c(0xa1e)]('next-drill-btn')['classList']['remove'](_0x1e5a2c(0x8da));}),document[_0x387176(0xa1e)](_0x387176(0x33b))[_0x387176(0x84f)]('click',()=>{const _0x8e3886=_0x387176;_0x465c13++,_0x465c13<_0x151df7[_0x8e3886(0x475)]?_0x1c8a7a():(studentQuizArea[_0x8e3886(0x49f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x8e3886(0xa1e)](_0x8e3886(0x312))[_0x8e3886(0x84f)]('click',()=>{const _0x5d9a88=_0x8e3886;studentQuizArea[_0x5d9a88(0x6d9)]['add']('hidden'),studentResultArea[_0x5d9a88(0x6d9)]['remove'](_0x5d9a88(0x8da));}));});};_0x1c8a7a();}async function getHintForQuestion(_0x5dcc9f){const _0xc63d9a=_0x3ac816,_0x32dafd=_0xc63d9a(0x3f1)+_0x5dcc9f+_0xc63d9a(0x544),_0x10a8e5={'type':_0xc63d9a(0x5f8),'properties':{'hint':{'type':_0xc63d9a(0x4d0)}},'required':[_0xc63d9a(0x5ab)]};try{const _0x4920dc=await callAnalysisApi(_0x32dafd,_0x10a8e5);return _0x4920dc[_0xc63d9a(0x5ab)];}catch(_0x22fa51){return console[_0xc63d9a(0x2fa)](_0xc63d9a(0x7ee),_0x22fa51),_0xc63d9a(0x915);}}async function extractTextFromPdf(_0x3dfe0d){const _0x4369aa=_0x3ac816;pdfjsLib[_0x4369aa(0x53b)][_0x4369aa(0x614)]=_0x4369aa(0x687);const _0x681b3a=await _0x3dfe0d['arrayBuffer'](),_0x2148e3=await pdfjsLib[_0x4369aa(0x6f9)](_0x681b3a)[_0x4369aa(0x802)],_0x434aeb=_0x2148e3[_0x4369aa(0x2e0)];let _0x51e36d='';for(let _0x41d6f6=0x1;_0x41d6f6<=_0x434aeb;_0x41d6f6++){const _0x159d5e=await _0x2148e3[_0x4369aa(0xa45)](_0x41d6f6),_0x273549=await _0x159d5e[_0x4369aa(0x7d2)](),_0x1513da=_0x273549[_0x4369aa(0x8ea)][_0x4369aa(0x3f8)](_0x199523=>_0x199523[_0x4369aa(0x3ad)])[_0x4369aa(0x6b7)]('\x20');_0x51e36d+=_0x1513da+'\x0a\x0a';}return _0x51e36d;}async function handleGenerateFromBlueprint(){const _0x34fc25=_0x3ac816,_0x3e2559=document[_0x34fc25(0xa1e)]('blueprint-upload-input'),_0x55079a=document[_0x34fc25(0xa1e)](_0x34fc25(0x429)),_0x4d26a0=_0x3e2559[_0x34fc25(0x9df)][0x0],_0x4955ee=_0x55079a[_0x34fc25(0x9df)][_0x34fc25(0x475)]>0x0?_0x55079a[_0x34fc25(0x9df)][0x0]:null;if(!_0x4d26a0){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0xa42f80=document[_0x34fc25(0xa1e)](_0x34fc25(0x8b8)),_0x2e6e04=document[_0x34fc25(0xa1e)]('loader-text'),_0x50e16f=document[_0x34fc25(0xa1e)]('generated-quiz-container'),_0x40e4e7=document[_0x34fc25(0xa1e)](_0x34fc25(0x926));_0x40e4e7[_0x34fc25(0x370)]=!![],document[_0x34fc25(0xa1e)](_0x34fc25(0x923))[_0x34fc25(0x6d9)][_0x34fc25(0x309)](_0x34fc25(0x8da)),_0x50e16f[_0x34fc25(0x49f)]='',_0xa42f80[_0x34fc25(0x6d9)][_0x34fc25(0x309)](_0x34fc25(0x8da));try{_0x2e6e04[_0x34fc25(0x32e)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x5059a9=await extractTextFromPdf(_0x4d26a0);if(!_0x5059a9[_0x34fc25(0x855)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x348762='';_0x4955ee&&(_0x2e6e04[_0x34fc25(0x32e)]=_0x34fc25(0x51d),_0x348762=await extractTextFromPdf(_0x4955ee));_0x2e6e04['textContent']=_0x34fc25(0x2d7);const _0x1ff1e3=document[_0x34fc25(0xa1e)]('include-images-checkbox')[_0x34fc25(0x33d)],_0x2e101a=_0x1ff1e3?_0x34fc25(0x6dd):'',_0x458925=_0x348762?_0x34fc25(0x81c)+_0x348762+_0x34fc25(0x217):'',_0x385ffb=_0x34fc25(0x615)+(_0x348762?_0x34fc25(0x74b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5059a9+_0x34fc25(0x217)+_0x458925+_0x34fc25(0x7d1)+_0x2e101a+_0x34fc25(0x983)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4d58e7={'type':_0x34fc25(0x5f8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x34fc25(0x4d0),'enum':[_0x34fc25(0x882),_0x34fc25(0xa05)]},'options':{'type':_0x34fc25(0x8b1),'items':{'type':_0x34fc25(0x4d0)}},'correctAnswerIndex':{'type':_0x34fc25(0x6a3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x34fc25(0x4d0)}},'required':['questionText',_0x34fc25(0x7bf),_0x34fc25(0x722)]},_0x1f7256={'type':_0x34fc25(0x5f8),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x34fc25(0x8b1),'items':_0x4d58e7}},'required':['topic',_0x34fc25(0x2c3)]};await handleApiCall(_0x385ffb,_0x34fc25(0x21d),_0x1f7256);}catch(_0x5d96dd){console['error'](_0x34fc25(0x8cb),_0x5d96dd),showMessage(_0x34fc25(0x46a)+_0x5d96dd[_0x34fc25(0x360)]),_0x50e16f['innerHTML']=_0x34fc25(0x565);}finally{_0xa42f80[_0x34fc25(0x6d9)][_0x34fc25(0x992)](_0x34fc25(0x8da)),_0x40e4e7[_0x34fc25(0x370)]=![];}}async function handleGenerateParallelFromBank(_0x51d15e){const _0x4f5045=_0x3ac816;switchProjectTab(_0x4f5045(0x68e));const _0x393c8b=document[_0x4f5045(0xa1e)](_0x4f5045(0x8b8)),_0x58fc57=document[_0x4f5045(0xa1e)](_0x4f5045(0x295)),_0x5ec6ad=document[_0x4f5045(0xa1e)](_0x4f5045(0x80e));document[_0x4f5045(0xa1e)]('quiz-generation-area')['classList'][_0x4f5045(0x309)](_0x4f5045(0x8da)),_0x5ec6ad[_0x4f5045(0x49f)]='',_0x393c8b[_0x4f5045(0x6d9)]['remove'](_0x4f5045(0x8da)),_0x58fc57['textContent']=_0x4f5045(0x26e)+_0x51d15e[_0x4f5045(0x633)]+_0x4f5045(0x4a6);try{const _0x2f9b6e=_0x51d15e[_0x4f5045(0x2c3)]['map']((_0x711e91,_0x2b7635)=>{const _0x57787c=_0x4f5045;let _0x325ed2=_0x2b7635+0x1+'.\x20'+(_0x711e91['questionText']||_0x711e91['stem'])+'\x0a';if(_0x711e91['options'])_0x325ed2+=_0x711e91[_0x57787c(0x431)][_0x57787c(0x3f8)]((_0x40c95e,_0x2336b7)=>_0x57787c(0x8e9)+(_0x2336b7===_0x711e91[_0x57787c(0x825)]?_0x57787c(0x6e4):'')+'\x20'+_0x40c95e)[_0x57787c(0x6b7)]('\x0a');else _0x711e91[_0x57787c(0x6c0)]&&(_0x325ed2+=_0x57787c(0x92f)+_0x711e91[_0x57787c(0x6c0)]);return _0x325ed2;})[_0x4f5045(0x6b7)]('\x0a\x0a');_0x58fc57[_0x4f5045(0x32e)]=_0x4f5045(0x41a);const _0x19d21e=_0x51d15e[_0x4f5045(0x2c3)][_0x4f5045(0x475)],_0x1fbc98='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22'+_0x51d15e['topic']+'\x22\x20ซึ่งมีทั้งหมด\x20'+_0x19d21e+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f9b6e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**'+_0x19d21e+'\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x43e25a={'type':_0x4f5045(0x5f8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4f5045(0x4d0),'enum':[_0x4f5045(0x882),_0x4f5045(0xa05),_0x4f5045(0x8f5),_0x4f5045(0x541)]},'options':{'type':_0x4f5045(0x8b1),'items':{'type':_0x4f5045(0x4d0)}},'correctAnswerIndex':{'type':_0x4f5045(0x6a3)},'idealAnswer':{'type':_0x4f5045(0x4d0)},'correctAnswer':{'type':_0x4f5045(0x311)},'stem':{'type':_0x4f5045(0x4d0)},'correctResponse':{'type':_0x4f5045(0x4d0)},'allResponses':{'type':_0x4f5045(0x8b1),'items':{'type':_0x4f5045(0x4d0)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4f5045(0x4d0)}},'required':[_0x4f5045(0x414),_0x4f5045(0x7bf),_0x4f5045(0x722)]},_0x553ad3={'type':_0x4f5045(0x5f8),'properties':{'topic':{'type':_0x4f5045(0x4d0)},'questions':{'type':'ARRAY','items':_0x43e25a}},'required':[_0x4f5045(0x633),_0x4f5045(0x2c3)]},_0x3d2ddd=await callAnalysisApi(_0x1fbc98,_0x553ad3);_0x3d2ddd[_0x4f5045(0x2c3)][_0x4f5045(0x475)]>_0x19d21e&&(_0x3d2ddd[_0x4f5045(0x2c3)]=_0x3d2ddd[_0x4f5045(0x2c3)]['slice'](0x0,_0x19d21e)),_0x3d2ddd['topic']=_0x4f5045(0x947)+_0x51d15e['topic'],_0x3d2ddd['quizType']=_0x51d15e[_0x4f5045(0x41e)],currentQuizData=_0x3d2ddd,displayGeneratedQuiz(_0x3d2ddd),document[_0x4f5045(0xa1e)](_0x4f5045(0x863))['scrollIntoView']({'behavior':_0x4f5045(0x9e0)});}catch(_0x3dfee5){console['error'](_0x4f5045(0x505),_0x3dfee5),showMessage(_0x4f5045(0x46a)+_0x3dfee5[_0x4f5045(0x360)]),_0x5ec6ad[_0x4f5045(0x49f)]=_0x4f5045(0x82c);}finally{_0x393c8b[_0x4f5045(0x6d9)][_0x4f5045(0x992)](_0x4f5045(0x8da));}}async function handleGenerateParallelPostTest(_0x1573ae){const _0x558f21=_0x3ac816,_0x347c9e=document[_0x558f21(0xa1e)](_0x558f21(0x791)),_0x91cac4=document[_0x558f21(0xa1e)](_0x558f21(0x5a2));_0x91cac4[_0x558f21(0x6d9)][_0x558f21(0x992)](_0x558f21(0x8da));const _0xcbec7=_0x558f21(0x67b);_0x347c9e[_0x558f21(0x89d)]('beforeend',_0xcbec7);try{const _0x462d02=_0x1573ae[_0x558f21(0x2c3)][_0x558f21(0x3f8)]((_0x40f777,_0x29d567)=>{const _0xe50461=_0x558f21;let _0x14f0cc=_0x29d567+0x1+'.\x20'+(_0x40f777['questionText']||_0x40f777[_0xe50461(0x799)]);if(_0x40f777[_0xe50461(0x431)])_0x14f0cc+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x40f777[_0xe50461(0x431)][_0xe50461(0x6b7)](',\x20');return _0x14f0cc;})[_0x558f21(0x6b7)]('\x0a\x0a'),_0x1b589b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x1573ae[_0x558f21(0x633)]+_0x558f21(0x9c7)+_0x462d02+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x558f21(0x49e),_0x4e603a={'type':'OBJECT','properties':{'topic':{'type':_0x558f21(0x4d0)},'questions':{'type':_0x558f21(0x8b1),'items':{'type':_0x558f21(0x5f8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x558f21(0x4d0)},'options':{'type':_0x558f21(0x8b1),'items':{'type':_0x558f21(0x4d0)}},'correctAnswerIndex':{'type':_0x558f21(0x6a3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x558f21(0x414),_0x558f21(0x722)]}}},'required':[_0x558f21(0x633),_0x558f21(0x2c3)]},_0x511d10=await callAnalysisApi(_0x1b589b,_0x4e603a),_0x6a2810=_0x1573ae[_0x558f21(0x633)][_0x558f21(0x2f9)](_0x558f21(0x6d7),'')['trim'](),_0x20e469=_0x558f21(0x6e2)+_0x6a2810,_0x178e6c={..._0x511d10,'topic':_0x20e469,'quizType':_0x1573ae[_0x558f21(0x41e)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x558f21(0x490)](),'status':_0x558f21(0x745),'settings':_0x1573ae['settings'],'quizMode':_0x558f21(0x6f8),'pairedQuizId':_0x1573ae['id']};let _0x21d468;while(!![]){_0x21d468=Math[_0x558f21(0x2f8)](0x3e8+Math[_0x558f21(0x5ff)]()*0x2328)[_0x558f21(0x697)]();const _0x4509b3=await getDoc(doc(db,_0x558f21(0xa0c)+appId+_0x558f21(0x7a0),_0x21d468));if(!_0x4509b3[_0x558f21(0x72f)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x558f21(0x7a0),_0x21d468),_0x178e6c);const _0x241fb1=doc(db,_0x558f21(0xa0c)+appId+_0x558f21(0x7a0),_0x1573ae['id']);await updateDoc(_0x241fb1,{'pairedQuizId':_0x21d468}),showMessage(_0x558f21(0x6a8));}catch(_0x4c439a){console[_0x558f21(0x2fa)](_0x558f21(0xa01),_0x4c439a),showMessage(_0x558f21(0x46a)+_0x4c439a[_0x558f21(0x360)]);}finally{const _0xcade7e=document[_0x558f21(0xa1e)]('temp-loader-results');if(_0xcade7e)_0xcade7e[_0x558f21(0x309)]();_0x91cac4[_0x558f21(0x6d9)][_0x558f21(0x309)](_0x558f21(0x8da));}}async function handleGenerateParallelTest(){const _0x1da7a6=_0x3ac816,_0x56c7f7=document[_0x1da7a6(0xa1e)](_0x1da7a6(0x730)),_0x606667=_0x56c7f7[_0x1da7a6(0x9df)][0x0];if(!_0x606667){showMessage(_0x1da7a6(0x7a3));return;}const _0xfba91f=document[_0x1da7a6(0xa1e)](_0x1da7a6(0x8b8)),_0x6899e5=document[_0x1da7a6(0xa1e)]('loader-text'),_0x1ccf50=document[_0x1da7a6(0xa1e)]('generated-quiz-container'),_0x29638e=document[_0x1da7a6(0xa1e)](_0x1da7a6(0x491));_0x29638e['disabled']=!![],document['getElementById'](_0x1da7a6(0x923))['classList'][_0x1da7a6(0x309)]('hidden'),_0x1ccf50[_0x1da7a6(0x49f)]='',_0xfba91f[_0x1da7a6(0x6d9)]['remove'](_0x1da7a6(0x8da)),_0x6899e5[_0x1da7a6(0x32e)]=_0x1da7a6(0x9b8);try{const _0x310cab=await extractTextFromPdf(_0x606667);if(!_0x310cab[_0x1da7a6(0x855)]())throw new Error(_0x1da7a6(0x466));_0x6899e5[_0x1da7a6(0x32e)]=_0x1da7a6(0x41a);const _0xc75977=document[_0x1da7a6(0xa1e)](_0x1da7a6(0x7aa))['checked'],_0x9bbe6e=_0xc75977?_0x1da7a6(0x6dd):'',_0x443347=_0x1da7a6(0x288)+_0x310cab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9bbe6e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1da7a6(0x49e),_0xb6129f={'type':_0x1da7a6(0x5f8),'properties':{'questionText':{'type':_0x1da7a6(0x4d0)},'questionType':{'type':_0x1da7a6(0x4d0),'enum':['multiple_choice',_0x1da7a6(0xa05)]},'options':{'type':_0x1da7a6(0x8b1),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1da7a6(0x4d0)},'imageCode':{'type':'STRING'}},'required':[_0x1da7a6(0x414),_0x1da7a6(0x7bf),_0x1da7a6(0x722)]},_0x5cec39={'type':_0x1da7a6(0x5f8),'properties':{'topic':{'type':_0x1da7a6(0x4d0)},'questions':{'type':_0x1da7a6(0x8b1),'items':_0xb6129f}},'required':[_0x1da7a6(0x633),_0x1da7a6(0x2c3)]};await handleApiCall(_0x443347,_0x1da7a6(0x92b),_0x5cec39);}catch(_0x596cec){console[_0x1da7a6(0x2fa)](_0x1da7a6(0x9dc),_0x596cec),showMessage(_0x1da7a6(0x46a)+_0x596cec[_0x1da7a6(0x360)]),_0x1ccf50[_0x1da7a6(0x49f)]=_0x1da7a6(0x82c);}finally{_0xfba91f[_0x1da7a6(0x6d9)][_0x1da7a6(0x992)]('hidden'),_0x29638e[_0x1da7a6(0x370)]=![];}}async function handleRegenerateQuestionInEditor(_0x4789cd){const _0x5b7af9=_0x3ac816;if(currentEditingQuizData===null)return;const _0x56a911=document['querySelector'](_0x5b7af9(0x399)+_0x4789cd+'\x22]');_0x56a911&&(_0x56a911[_0x5b7af9(0x49f)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x468c31=currentEditingQuizData[_0x5b7af9(0x2c3)][_0x4789cd],_0x2dbaef=currentEditingQuizData[_0x5b7af9(0x633)],_0x8d7ed2=_0x468c31[_0x5b7af9(0x7bf)],_0x2c9b5d={'type':_0x5b7af9(0x5f8),'properties':{'questionText':{'type':_0x5b7af9(0x4d0)},'options':{'type':_0x5b7af9(0x8b1),'items':{'type':_0x5b7af9(0x4d0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x5b7af9(0x431),_0x5b7af9(0x825),_0x5b7af9(0x722)]},_0x5714e8={'type':_0x5b7af9(0x5f8),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x5b7af9(0x414),_0x5b7af9(0x6c0),'explanation']};let _0x228082,_0x1ff716='';_0x8d7ed2==='multiple_choice'?(_0x228082=_0x2c9b5d,_0x1ff716='แบบปรนัย\x204\x20ตัวเลือก'):(_0x228082=_0x5714e8,_0x1ff716=_0x5b7af9(0x976));const _0x2a04fe=_0x5b7af9(0x21b)+_0x2dbaef+_0x5b7af9(0x3b3)+_0x1ff716+_0x5b7af9(0x5a3)+(_0x468c31[_0x5b7af9(0x414)]||_0x468c31[_0x5b7af9(0x799)])+_0x5b7af9(0x704)+simpleMathPrompt;try{const _0x8715ce=await callAnalysisApi(_0x2a04fe,_0x228082);currentEditingQuizData[_0x5b7af9(0x2c3)][_0x4789cd]={..._0x468c31,..._0x8715ce},renderQuizEditor(currentEditingQuizData);}catch(_0x2cb065){console[_0x5b7af9(0x2fa)](_0x5b7af9(0x993),_0x2cb065),showMessage(_0x5b7af9(0x37b)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x37a8ae=_0x3ac816,_0x3a15c2=document['getElementById'](_0x37a8ae(0x6e7));currentMode===_0x37a8ae(0x7cc)?(currentMode=_0x37a8ae(0x50e),_0x3a15c2[_0x37a8ae(0x49f)]=_0x37a8ae(0x525),_0x3a15c2[_0x37a8ae(0x6ff)]=_0x37a8ae(0x54d),showView(_0x37a8ae(0x6c7))):(currentMode='student',_0x3a15c2[_0x37a8ae(0x49f)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x3a15c2[_0x37a8ae(0x6ff)]=_0x37a8ae(0x90d),showView('student'));}function handleAdminLogin(){const _0x413c67=_0x3ac816,_0x71df90=document[_0x413c67(0xa1e)](_0x413c67(0x238)),_0x4f19c2=document['getElementById'](_0x413c67(0x7b8));if(_0x71df90[_0x413c67(0x3b8)]===_0x413c67(0x42e)){adminPasswordModal['classList'][_0x413c67(0x992)](_0x413c67(0x8da)),_0x71df90['value']='',_0x4f19c2[_0x413c67(0x6d9)][_0x413c67(0x992)]('hidden'),currentMode=_0x413c67(0x50e);const _0x32ae2d=document[_0x413c67(0xa1e)](_0x413c67(0x6e7));_0x32ae2d[_0x413c67(0x49f)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x32ae2d['title']=_0x413c67(0x54d),showView(_0x413c67(0x6c7));}else _0x4f19c2[_0x413c67(0x6d9)][_0x413c67(0x309)](_0x413c67(0x8da)),_0x71df90[_0x413c67(0x3b8)]='';}function switchProjectTab(_0x1398fc){const _0xaa9bd0=_0x3ac816;[_0xaa9bd0(0x68e),_0xaa9bd0(0x655),_0xaa9bd0(0x64a)][_0xaa9bd0(0x568)](_0x212270=>{const _0x3dd7d7=_0xaa9bd0;document[_0x3dd7d7(0xa1e)](_0x212270+_0x3dd7d7(0x90b))['classList']['remove'](_0x3dd7d7(0x745)),document['getElementById'](_0x212270+_0x3dd7d7(0x3de))[_0x3dd7d7(0x6d9)][_0x3dd7d7(0x992)]('hidden');}),document['getElementById'](_0x1398fc+_0xaa9bd0(0x90b))[_0xaa9bd0(0x6d9)]['add'](_0xaa9bd0(0x745)),document[_0xaa9bd0(0xa1e)](_0x1398fc+_0xaa9bd0(0x3de))[_0xaa9bd0(0x6d9)][_0xaa9bd0(0x309)](_0xaa9bd0(0x8da));}function switchQuizDetailTab(_0x23b0a9){const _0x2e0424=_0x3ac816,_0x251e20={'analytics':{'btn':'analytics-tab-btn','content':_0x2e0424(0x6ce)},'scores':{'btn':'scores-tab-btn','content':_0x2e0424(0x289)},'leaderboard-quiz':{'btn':_0x2e0424(0x9ef),'content':_0x2e0424(0x86c)},'behavior-log':{'btn':_0x2e0424(0x8b7),'content':_0x2e0424(0x1ef)}};for(const _0x2f6680 in _0x251e20){document[_0x2e0424(0xa1e)](_0x251e20[_0x2f6680][_0x2e0424(0x74a)])['classList'][_0x2e0424(0x309)](_0x2e0424(0x745)),document[_0x2e0424(0xa1e)](_0x251e20[_0x2f6680][_0x2e0424(0x9aa)])[_0x2e0424(0x6d9)][_0x2e0424(0x992)](_0x2e0424(0x8da));}document[_0x2e0424(0xa1e)](_0x251e20[_0x23b0a9]['btn'])[_0x2e0424(0x6d9)][_0x2e0424(0x992)]('active'),document['getElementById'](_0x251e20[_0x23b0a9][_0x2e0424(0x9aa)])[_0x2e0424(0x6d9)][_0x2e0424(0x309)](_0x2e0424(0x8da));}function showMessage(_0xfdeae8,_0x4c511a=null){const _0x4142fb=_0x3ac816;modalMessage[_0x4142fb(0x32e)]=_0xfdeae8,modalConfirmAction=_0x4c511a,messageModal[_0x4142fb(0x6d9)][_0x4142fb(0x309)]('hidden');}function showConfirmation(_0x17cabd,_0x337fa4){const _0x1e5e24=_0x3ac816;document['getElementById']('confirmation-message')[_0x1e5e24(0x32e)]=_0x17cabd,document[_0x1e5e24(0xa1e)]('confirmation-modal')[_0x1e5e24(0x46d)]('h3')[_0x1e5e24(0x32e)]=_0x1e5e24(0x3b6),confirmAction=_0x337fa4,confirmationModal[_0x1e5e24(0x6d9)][_0x1e5e24(0x309)]('hidden');}function listenForProjects(){const _0x61d797=_0x3ac816,_0x1b542a=doc(db,'globalSettings',_0x61d797(0x80a));onSnapshot(_0x1b542a,_0x119a64=>{const _0x37e58b=_0x61d797;if(_0x119a64[_0x37e58b(0x72f)]()){const _0x3119e3=_0x119a64[_0x37e58b(0x22a)]();globalDashboardSettings[_0x37e58b(0x293)]=_0x3119e3[_0x37e58b(0x293)]||_0x37e58b(0x60c),globalDashboardSettings[_0x37e58b(0x71a)]=_0x3119e3[_0x37e58b(0x71a)]||[],globalDashboardSettings[_0x37e58b(0x57b)]=_0x3119e3[_0x37e58b(0x57b)]||[];}allProjects[_0x37e58b(0x475)]>0x0&&renderProjects();});const _0x2a9abc=collection(db,'artifacts/'+appId+_0x61d797(0x6de));unsubscribeProjectsListener=onSnapshot(_0x2a9abc,_0x58464e=>{const _0xd8e866=_0x61d797;allProjects=_0x58464e['docs'][_0xd8e866(0x3f8)](_0x410ed0=>({'id':_0x410ed0['id'],..._0x410ed0['data']()})),renderProjects();},_0x8747d7=>{const _0x7fcb74=_0x61d797;console[_0x7fcb74(0x2fa)](_0x7fcb74(0x579),_0x8747d7),showMessage(_0x7fcb74(0x736));});}function showColorPalette(_0xd12121,_0x33cad5){const _0x3c790e=_0x3ac816;document[_0x3c790e(0x8e6)](_0x3c790e(0x949))['forEach'](_0x32f7c9=>_0x32f7c9['remove']());const _0x5eb0f1=[_0x3c790e(0x70e),_0x3c790e(0x5d1),'#FEF3C7',_0x3c790e(0x3f6),'#DBEAFE',_0x3c790e(0x934),_0x3c790e(0x700),_0x3c790e(0x256),_0x3c790e(0x921)],_0x18dbe9=document[_0x3c790e(0x560)](_0x3c790e(0x3b2));_0x18dbe9[_0x3c790e(0xa23)]=_0x3c790e(0x353),_0x5eb0f1[_0x3c790e(0x568)](_0x12f71c=>{const _0xe77032=_0x3c790e,_0x29737a=document[_0xe77032(0x560)]('div');_0x29737a[_0xe77032(0xa23)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x29737a[_0xe77032(0x2a9)][_0xe77032(0x629)]=_0x12f71c,_0x29737a[_0xe77032(0x84f)](_0xe77032(0x321),()=>{const _0xba52a0=_0xe77032;handleProjectColorChange(_0x33cad5,_0x12f71c),_0x18dbe9[_0xba52a0(0x309)]();}),_0x18dbe9[_0xe77032(0xa21)](_0x29737a);}),document[_0x3c790e(0x23e)][_0x3c790e(0xa21)](_0x18dbe9);const _0x140952=_0xd12121[_0x3c790e(0x3c1)]();_0x18dbe9[_0x3c790e(0x2a9)][_0x3c790e(0x432)]=_0x140952[_0x3c790e(0x2ac)]+window[_0x3c790e(0x4bc)]+'px',_0x18dbe9[_0x3c790e(0x2a9)]['left']=_0x140952[_0x3c790e(0x7d8)]+window[_0x3c790e(0x30c)]-_0x18dbe9[_0x3c790e(0x304)]/0x2+'px';}async function handleProjectColorChange(_0x59b2af,_0x272842){const _0x153a97=_0x3ac816,_0x5b1799=doc(db,_0x153a97(0xa0c)+appId+_0x153a97(0x6de),_0x59b2af);try{await updateDoc(_0x5b1799,{'color':_0x272842});}catch(_0x5f1307){console[_0x153a97(0x2fa)](_0x153a97(0x9ff),_0x5f1307),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x22f8d3=_0x3ac816,_0x45a22c=globalDashboardSettings[_0x22f8d3(0x293)]||_0x22f8d3(0x60c),_0xdc85af=new Set(globalDashboardSettings[_0x22f8d3(0x71a)]||[]),_0x384045=globalDashboardSettings[_0x22f8d3(0x924)]||_0x22f8d3(0x76d),_0x5ceeb7=document['getElementById'](_0x22f8d3(0x5c5)),_0x51d037=document[_0x22f8d3(0xa1e)](_0x22f8d3(0x42a));_0x5ceeb7['classList']['toggle']('active',_0x384045==='grid'),_0x51d037[_0x22f8d3(0x6d9)][_0x22f8d3(0x31f)](_0x22f8d3(0x745),_0x384045===_0x22f8d3(0x22f)),document[_0x22f8d3(0xa1e)](_0x22f8d3(0x458))[_0x22f8d3(0x3b8)]=_0x45a22c;const _0x54093b=document['getElementById'](_0x22f8d3(0x93e))[_0x22f8d3(0x3b8)][_0x22f8d3(0x4c0)]();let _0x377cb6=allProjects['filter'](_0x31967c=>_0x31967c[_0x22f8d3(0x8c5)][_0x22f8d3(0x4c0)]()[_0x22f8d3(0x85e)](_0x54093b));const _0x185db5=_0x377cb6[_0x22f8d3(0x417)](_0x138222=>_0xdc85af['has'](_0x138222['id'])),_0x30a221=_0x377cb6[_0x22f8d3(0x417)](_0x13e206=>!_0xdc85af['has'](_0x13e206['id'])),_0x4c7659=(_0x35a83c,_0x310dea)=>{const _0x50f744=_0x22f8d3;switch(_0x45a22c){case _0x50f744(0x50b):return _0x35a83c[_0x50f744(0x8c5)][_0x50f744(0x820)](_0x310dea[_0x50f744(0x8c5)],'th');case _0x50f744(0x33a):return _0x310dea[_0x50f744(0x8c5)]['localeCompare'](_0x35a83c[_0x50f744(0x8c5)],'th');case _0x50f744(0x20d):return new Date(_0x35a83c[_0x50f744(0x617)])-new Date(_0x310dea['createdAt']);default:return new Date(_0x310dea[_0x50f744(0x617)])-new Date(_0x35a83c[_0x50f744(0x617)]);}};_0x185db5['sort'](_0x4c7659),_0x30a221['sort'](_0x4c7659);const _0x220bd6=[..._0x185db5,..._0x30a221],_0xfd90d=globalDashboardSettings[_0x22f8d3(0x57b)]||[];_0xfd90d[_0x22f8d3(0x475)]>0x0&&_0x384045===_0x22f8d3(0x76d)&&_0x220bd6[_0x22f8d3(0x9a5)]((_0x4b0cdc,_0x24dbd0)=>{const _0x3ec702=_0x22f8d3,_0x3b5a1a=_0xfd90d[_0x3ec702(0x693)](_0x4b0cdc['id']),_0x14f906=_0xfd90d['indexOf'](_0x24dbd0['id']);if(_0x3b5a1a===-0x1)return 0x1;if(_0x14f906===-0x1)return-0x1;return _0x3b5a1a-_0x14f906;});const _0x26a799={};await Promise['all'](_0x220bd6[_0x22f8d3(0x3f8)](async _0x50c2d3=>{const _0x5c4988=_0x22f8d3,_0x12804e=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x5c4988(0x6f3),'==',_0x50c2d3['id'])),_0x4f13df=await getDocs(_0x12804e);_0x26a799[_0x50c2d3['id']]=_0x4f13df['size'];}));const _0x5c14ed=document[_0x22f8d3(0xa1e)](_0x22f8d3(0x20a));let _0x18710c='';if(_0x384045===_0x22f8d3(0x76d)){_0x5c14ed[_0x22f8d3(0xa23)]=_0x22f8d3(0x452);if(starredQuizzes['length']>0x0&&_0x54093b===''){const _0x387d0d=starredQuizzes[_0x22f8d3(0x3f8)](_0x4820c8=>{const _0x2ca03e=_0x22f8d3,_0x1ff5a5=allProjects['find'](_0x219ab1=>_0x219ab1['id']===_0x4820c8['projectId']);return{..._0x4820c8,'projectName':_0x1ff5a5?_0x1ff5a5[_0x2ca03e(0x8c5)]:'N/A'};});_0x18710c+=_0x22f8d3(0x245)+_0x387d0d['map'](_0x24e4b8=>_0x22f8d3(0x898)+_0x24e4b8[_0x22f8d3(0x633)]+'\x22>'+_0x24e4b8[_0x22f8d3(0x633)]+_0x22f8d3(0x988)+_0x24e4b8[_0x22f8d3(0x8c5)]+_0x22f8d3(0x809)+_0x24e4b8[_0x22f8d3(0x8c5)]+_0x22f8d3(0xa14))['join']('')+_0x22f8d3(0x553)+starredQuizzes[_0x22f8d3(0x475)]+_0x22f8d3(0x469);}_0x220bd6[_0x22f8d3(0x568)](_0x437ad3=>{const _0x38f354=_0x22f8d3,_0x3df8f9=_0x26a799[_0x437ad3['id']]??0x0,_0x369759=_0xdc85af[_0x38f354(0x7bd)](_0x437ad3['id']),_0x16cb96=_0x437ad3[_0x38f354(0x6fd)]||'#FFFFFF',_0x205871=parseInt(_0x16cb96['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x16cb96[_0x38f354(0x45a)](0x3,0x5),0x10)*0.587+parseInt(_0x16cb96[_0x38f354(0x45a)](0x5,0x7),0x10)*0.114<0xba,_0x5d8d49=_0x205871?_0x38f354(0x6a4):'text-indigo-800',_0xbb63b7=_0x205871?_0x38f354(0x4a0):_0x38f354(0x6c4);_0x18710c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x369759?_0x38f354(0x9fb):_0x38f354(0x911))+_0x38f354(0x45e)+_0x16cb96+_0x38f354(0x3c7)+_0x437ad3['id']+_0x38f354(0x63e)+_0x437ad3['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x205871?_0x38f354(0x793):_0x38f354(0x2e4))+_0x38f354(0x853)+_0x437ad3['id']+_0x38f354(0x2eb)+(_0x205871?_0x38f354(0x793):_0x38f354(0x2e4))+_0x38f354(0x8e8)+(_0x369759?_0x205871?_0x38f354(0xa37):'text-indigo-600':'')+_0x38f354(0x9fd)+_0x437ad3['id']+_0x38f354(0x53c)+_0x5d8d49+_0x38f354(0x9e6)+_0x437ad3[_0x38f354(0x8c5)]+_0x38f354(0x9d6)+_0xbb63b7+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x437ad3[_0x38f354(0x617)])['toLocaleDateString'](_0x38f354(0x97e))+_0x38f354(0x25a)+(_0x205871?'text-gray-100':_0x38f354(0x576))+_0x38f354(0x504)+_0x3df8f9+_0x38f354(0x542)+_0x437ad3['id']+_0x38f354(0x83e)+_0x437ad3['projectName']+_0x38f354(0x2c6)+(_0x205871?_0x38f354(0x486):_0x38f354(0x7f6))+_0x38f354(0x555);});}else _0x5c14ed[_0x22f8d3(0xa23)]=_0x22f8d3(0x322),starredQuizzes['length']>0x0&&_0x54093b===''&&(_0x18710c+=_0x22f8d3(0x5d9)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x18710c+=_0x22f8d3(0x5cf),_0x220bd6[_0x22f8d3(0x568)](_0x4aa711=>{const _0x2b704c=_0x22f8d3,_0x5b2e67=_0x26a799[_0x4aa711['id']]??0x0,_0x3538a3=_0xdc85af[_0x2b704c(0x7bd)](_0x4aa711['id']);_0x18710c+=_0x2b704c(0x444)+(_0x4aa711[_0x2b704c(0x6fd)]||_0x2b704c(0x921))+_0x2b704c(0x6cd)+_0x4aa711['id']+_0x2b704c(0x847)+_0x4aa711[_0x2b704c(0x8c5)]+_0x2b704c(0x7a2)+_0x5b2e67+_0x2b704c(0x39d)+new Date(_0x4aa711[_0x2b704c(0x617)])[_0x2b704c(0x39e)](_0x2b704c(0x97e))+_0x2b704c(0x987)+_0x4aa711['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x3538a3?'text-indigo-600':'')+_0x2b704c(0x9c1)+_0x4aa711['id']+_0x2b704c(0x83e)+_0x4aa711['projectName']+_0x2b704c(0x696);});projectList[_0x22f8d3(0x49f)]=_0x18710c,noProjectsMsg[_0x22f8d3(0x6d9)][_0x22f8d3(0x31f)](_0x22f8d3(0x8da),_0x18710c[_0x22f8d3(0x475)]>0x0);}document['getElementById'](_0x3ac816(0x5ac))['addEventListener'](_0x3ac816(0x321),async()=>{const _0x35f67e=_0x3ac816,_0x1b6739=document['getElementById'](_0x35f67e(0x300)),_0x505152=_0x1b6739[_0x35f67e(0x3b8)][_0x35f67e(0x855)]();if(!_0x505152){showMessage(_0x35f67e(0x874));return;}try{const _0x3d7993=doc(collection(db,_0x35f67e(0xa0c)+appId+'/public/data/projects'));await setDoc(_0x3d7993,{'projectName':_0x505152,'students':[],'settings':{'resultsDisplay':_0x35f67e(0x3c0),'shuffleSetting':_0x35f67e(0x75a),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x35f67e(0x75a),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x35f67e(0x490)]()}),_0x1b6739[_0x35f67e(0x3b8)]='',createProjectModal[_0x35f67e(0x6d9)]['add'](_0x35f67e(0x8da)),showMessage(_0x35f67e(0x71d));}catch(_0x232d6a){console['error']('Error\x20creating\x20project:',_0x232d6a),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x3ac816(0x84f)](_0x3ac816(0x321),async _0x583721=>{const _0x5d4fa3=_0x3ac816,_0x4aeaea=_0x583721['target'][_0x5d4fa3(0x310)](_0x5d4fa3(0x326)),_0xf62c44=_0x583721[_0x5d4fa3(0x2da)][_0x5d4fa3(0x310)](_0x5d4fa3(0x1ff)),_0x5217d0=_0x583721['target'][_0x5d4fa3(0x310)](_0x5d4fa3(0x5c2)),_0x2ce257=_0x583721[_0x5d4fa3(0x2da)][_0x5d4fa3(0x310)]('.color-palette-btn');if(_0x5217d0){const _0x1495aa=_0x5217d0[_0x5d4fa3(0x7b1)]['id'],_0xcffa17=doc(db,'globalSettings','dashboardConfig'),_0x5cdd06=globalDashboardSettings['pinnedProjects'];let _0x377c10;_0x5cdd06['includes'](_0x1495aa)?_0x377c10=_0x5cdd06[_0x5d4fa3(0x417)](_0x1bd00a=>_0x1bd00a!==_0x1495aa):_0x377c10=[..._0x5cdd06,_0x1495aa];try{await setDoc(_0xcffa17,{'pinnedProjects':_0x377c10},{'merge':!![]});}catch(_0x114f87){console[_0x5d4fa3(0x2fa)](_0x5d4fa3(0x40a),_0x114f87),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x2ce257){const _0x52b7dd=_0x2ce257[_0x5d4fa3(0x7b1)]['id'];showColorPalette(_0x2ce257,_0x52b7dd);}else{if(_0x4aeaea){const _0x2b8cc0=_0x4aeaea[_0x5d4fa3(0x7b1)]['id'];_0x2b8cc0===_0x5d4fa3(0x225)?showStarredProjectView():(currentProjectId=_0x2b8cc0,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0xf62c44){const _0x616e3e=_0xf62c44['dataset']['id'],_0x39ffb8=_0xf62c44[_0x5d4fa3(0x7b1)][_0x5d4fa3(0x6e0)];showConfirmation(_0x5d4fa3(0x639)+_0x39ffb8+_0x5d4fa3(0x2ad),()=>handleDeleteProject(_0x616e3e));}}}}}),projectList[_0x3ac816(0x84f)](_0x3ac816(0x543),_0x403ed2=>{const _0x479b73=_0x3ac816,_0x300a78=_0x403ed2[_0x479b73(0x2da)][_0x479b73(0x310)](_0x479b73(0xa0a));_0x300a78&&_0x300a78[_0x479b73(0x6d9)]['add'](_0x479b73(0x73d));}),projectList['addEventListener'](_0x3ac816(0x520),_0x46b9b0=>{const _0xc45e7f=_0x3ac816,_0x34c188=_0x46b9b0[_0xc45e7f(0x2da)][_0xc45e7f(0x310)](_0xc45e7f(0xa0a));_0x34c188&&_0x34c188['classList'][_0xc45e7f(0x309)](_0xc45e7f(0x73d));}),projectList[_0x3ac816(0x84f)](_0x3ac816(0x7b6),_0x1c481a=>{const _0xc26bab=_0x3ac816;_0x1c481a[_0xc26bab(0x209)]();const _0x4d2a0e=document[_0xc26bab(0x46d)](_0xc26bab(0x333));if(!_0x4d2a0e)return;const _0x333153=getDragAfterElement(projectList,_0x1c481a[_0xc26bab(0x7ff)]);_0x333153==null?projectList['appendChild'](_0x4d2a0e):projectList['insertBefore'](_0x4d2a0e,_0x333153);}),projectList[_0x3ac816(0x84f)](_0x3ac816(0x32f),_0x3dd659=>{const _0x5a1ee0=_0x3ac816;_0x3dd659[_0x5a1ee0(0x209)]();const _0x4e21ba=[...projectList[_0x5a1ee0(0x8e6)](_0x5a1ee0(0x9e1))][_0x5a1ee0(0x3f8)](_0x2d8ddf=>_0x2d8ddf[_0x5a1ee0(0x7b1)]['id']);saveProjectOrder(_0x4e21ba);});function renderBehaviorLog(_0x55bd03){const _0x4de389=_0x3ac816,_0x465417=document[_0x4de389(0xa1e)]('behavior-log-container');if(!_0x465417)return;const _0x5c1c75=_0x55bd03[_0x4de389(0x417)](_0x2aaced=>_0x2aaced[_0x4de389(0x40d)]&&_0x2aaced[_0x4de389(0x40d)]['length']>0x0);if(_0x5c1c75[_0x4de389(0x475)]===0x0){_0x465417[_0x4de389(0x49f)]=_0x4de389(0x28b);return;}let _0x316c2f='';_0x5c1c75[_0x4de389(0x568)](_0x2e6798=>{const _0xb64fa6=_0x4de389;_0x316c2f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2e6798[_0xb64fa6(0x660)]+_0xb64fa6(0x588),_0x2e6798[_0xb64fa6(0x40d)]['sort']((_0x29c72d,_0xbca201)=>new Date(_0xbca201['timestamp'])-new Date(_0x29c72d['timestamp']))[_0xb64fa6(0x568)](_0x9fb453=>{const _0x308428=_0xb64fa6,_0x5047c2=new Date(_0x9fb453['timestamp'])[_0x308428(0x39e)](_0x308428(0x97e),{'dateStyle':_0x308428(0x610),'timeStyle':_0x308428(0x51b)});_0x316c2f+=_0x308428(0x86f)+_0x9fb453[_0x308428(0x2fd)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x5047c2+_0x308428(0x4f0);}),_0x316c2f+=_0xb64fa6(0x35e);}),_0x465417['innerHTML']=_0x316c2f;}function getDragAfterElement(_0x5d92a7,_0x13648e){const _0xa60dd6=_0x3ac816,_0xde1548=[..._0x5d92a7['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0xde1548[_0xa60dd6(0x67f)]((_0x27cb90,_0x5418a9)=>{const _0x21aac9=_0xa60dd6,_0x8aae6e=_0x5418a9[_0x21aac9(0x3c1)](),_0x16f40b=_0x13648e-_0x8aae6e['top']-_0x8aae6e['height']/0x2;return _0x16f40b<0x0&&_0x16f40b>_0x27cb90[_0x21aac9(0x6e9)]?{'offset':_0x16f40b,'element':_0x5418a9}:_0x27cb90;},{'offset':Number[_0xa60dd6(0x71e)]})[_0xa60dd6(0x39f)];}async function saveProjectOrder(_0x43e83e){const _0x1c48e9=_0x3ac816,_0x11ad6f=doc(db,_0x1c48e9(0x3ed),_0x1c48e9(0x80a));try{await setDoc(_0x11ad6f,{'projectOrder':_0x43e83e},{'merge':!![]});}catch(_0x489868){console['error']('Error\x20saving\x20project\x20order:',_0x489868),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x3be2ba,_0x17adc0={}){const _0x1bfcfb=_0x3ac816;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1bfcfb(0x803)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x374d72=doc(db,_0x1bfcfb(0xa0c)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1bfcfb(0x50f),currentStudentName),_0x170568={'event':_0x3be2ba,'timestamp':new Date()['toISOString'](),..._0x17adc0};try{await updateDoc(_0x374d72,{'behaviorLog':arrayUnion(_0x170568)}),console[_0x1bfcfb(0x274)](_0x1bfcfb(0x30a)+currentStudentName+_0x1bfcfb(0x596));}catch(_0x5be2b4){_0x5be2b4[_0x1bfcfb(0x82f)]===_0x1bfcfb(0x694)?console['warn'](_0x1bfcfb(0x227)+currentStudentName+_0x1bfcfb(0x796)):console['error'](_0x1bfcfb(0x339),_0x5be2b4);}}function calculateMeanAndStdDev(_0x43fce2){const _0x2b135d=_0x3ac816;if(_0x43fce2['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4f5997=_0x43fce2[_0x2b135d(0x67f)]((_0x5cdfce,_0x58054b)=>_0x5cdfce+_0x58054b,0x0)/_0x43fce2['length'];if(_0x43fce2['length']===0x1)return{'mean':_0x4f5997,'stdDev':0x0};const _0x40e555=Math[_0x2b135d(0x97a)](_0x43fce2[_0x2b135d(0x3f8)](_0x1cc438=>Math[_0x2b135d(0x439)](_0x1cc438-_0x4f5997,0x2))['reduce']((_0x395ec4,_0x48bbdc)=>_0x395ec4+_0x48bbdc,0x0)/(_0x43fce2[_0x2b135d(0x475)]-0x1));return{'mean':_0x4f5997,'stdDev':_0x40e555};}function calculateZScore(_0x5f398e,_0x54a5ed,_0x30576a){if(_0x30576a===0x0)return 0x0;return(_0x5f398e-_0x54a5ed)/_0x30576a;}function calculateTScore(_0x2c49f4){return 0xa*_0x2c49f4+0x32;}function showStarredProjectView(){const _0x5857c4=_0x3ac816;currentProjectId=_0x5857c4(0x383),currentProjectData=null,projectTitle[_0x5857c4(0x32e)]=_0x5857c4(0x52f),projectIdDisplay[_0x5857c4(0x32e)]=_0x5857c4(0x6f0),showView(_0x5857c4(0x79a)),manageTab[_0x5857c4(0x6d9)]['add'](_0x5857c4(0x8da)),leaderboardTab['classList'][_0x5857c4(0x992)](_0x5857c4(0x8da)),switchProjectTab(_0x5857c4(0x655)),renderQuizzes();}async function loadProjectDetails(_0x57d08c){const _0x2c0acf=_0x3ac816,_0x53ea30=doc(db,_0x2c0acf(0xa0c)+appId+_0x2c0acf(0x6de),_0x57d08c),_0x4aa555=await getDoc(_0x53ea30);if(_0x4aa555[_0x2c0acf(0x72f)]()){manageTab['classList'][_0x2c0acf(0x309)](_0x2c0acf(0x8da)),leaderboardTab[_0x2c0acf(0x6d9)][_0x2c0acf(0x309)](_0x2c0acf(0x8da)),currentProjectData=_0x4aa555[_0x2c0acf(0x22a)](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay[_0x2c0acf(0x32e)]=_0x57d08c;const _0x2dd276=currentProjectData[_0x2c0acf(0x419)]||{};document[_0x2c0acf(0xa1e)](_0x2c0acf(0x63d))['value']=_0x2dd276['shuffleSetting']||_0x2c0acf(0x75a);const _0x12c557=document[_0x2c0acf(0xa1e)](_0x2c0acf(0x9bd));_0x12c557[_0x2c0acf(0x33d)]=_0x2dd276['showInStudentDashboard']!==![];const _0x479840=document[_0x2c0acf(0xa1e)](_0x2c0acf(0x79e)),_0x4faf1b=document[_0x2c0acf(0xa1e)]('passcode-input-container'),_0x1612a3=document['getElementById'](_0x2c0acf(0x3b5)),_0x5150af=_0x2dd276['isPasscodeEnabled']||![];_0x479840[_0x2c0acf(0x33d)]=_0x5150af,_0x1612a3[_0x2c0acf(0x3b8)]=_0x2dd276['passcode']||'',_0x4faf1b[_0x2c0acf(0x6d9)][_0x2c0acf(0x31f)](_0x2c0acf(0x8da),!_0x5150af),_0x479840[_0x2c0acf(0x9e2)]=()=>{const _0x4bb1f0=_0x2c0acf;_0x4faf1b[_0x4bb1f0(0x6d9)][_0x4bb1f0(0x31f)]('hidden',!_0x479840['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x57d08c),listenForProjectQuizzes(_0x57d08c),listenForStudentProfiles(_0x57d08c);}else showMessage(_0x2c0acf(0x268)),showView(_0x2c0acf(0x6c7));}async function handleResetProjectOrder(){const _0x6e8b7d=_0x3ac816,_0x315d4b=doc(db,_0x6e8b7d(0x3ed),_0x6e8b7d(0x80a));try{await setDoc(_0x315d4b,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x6e8b7d(0x7e4));}catch(_0x3f9010){console[_0x6e8b7d(0x2fa)]('Error\x20resetting\x20project\x20order:',_0x3f9010),showMessage(_0x6e8b7d(0x2e9));}}async function handleTogglePinProject(_0x1da55f){const _0x1fd0f2=_0x3ac816;if(!_0x1da55f)return;const _0x3b37dd=doc(db,_0x1fd0f2(0xa0c)+appId+_0x1fd0f2(0x6de),_0x1da55f);try{const _0x55bdb8=await getDoc(_0x3b37dd);if(_0x55bdb8[_0x1fd0f2(0x72f)]()){const _0x5e3908=_0x55bdb8[_0x1fd0f2(0x22a)]()['isPinned']||![];await updateDoc(_0x3b37dd,{'isPinned':!_0x5e3908});}}catch(_0x3db966){console['error'](_0x1fd0f2(0x658),_0x3db966),showMessage(_0x1fd0f2(0x6f7));}}async function handleDeleteProject(_0x4999df){const _0x138f12=_0x3ac816;try{const _0x233ae9=writeBatch(db),_0x99aa9d=collection(db,'artifacts/'+appId+_0x138f12(0x7a0)),_0x4488aa=query(_0x99aa9d,where(_0x138f12(0x6f3),'==',_0x4999df)),_0x238748=await getDocs(_0x4488aa);for(const _0xbff3d0 of _0x238748['docs']){const _0x2c6e24=collection(db,_0x138f12(0xa0c)+appId+_0x138f12(0x630)+_0xbff3d0['id']+_0x138f12(0x50f)),_0x451b76=await getDocs(_0x2c6e24);_0x451b76[_0x138f12(0x568)](_0x49f0e2=>{_0x233ae9['delete'](_0x49f0e2['ref']);}),_0x233ae9[_0x138f12(0x695)](_0xbff3d0[_0x138f12(0x944)]);}const _0x22412f=collection(db,_0x138f12(0xa0c)+appId+'/public/data/projects/'+_0x4999df+'/studentProfiles'),_0x104c0b=await getDocs(_0x22412f);_0x104c0b[_0x138f12(0x568)](_0x2facaa=>{_0x233ae9['delete'](_0x2facaa['ref']);});const _0x288420=doc(db,_0x138f12(0xa0c)+appId+_0x138f12(0x6de),_0x4999df);_0x233ae9[_0x138f12(0x695)](_0x288420),await _0x233ae9['commit'](),showMessage(_0x138f12(0x287)),showView(_0x138f12(0x6c7));}catch(_0x36fb4f){console[_0x138f12(0x2fa)]('Error\x20deleting\x20project:',_0x36fb4f),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x3ac816(0xa1e)](_0x3ac816(0x878))['addEventListener'](_0x3ac816(0x321),async()=>{const _0x4d640f=_0x3ac816;if(!currentProjectId)return;const _0x348da9={'defaultNumQuestions':parseInt(document['getElementById'](_0x4d640f(0x754))['value']),'defaultNumChoices':parseInt(document[_0x4d640f(0xa1e)]('num-choices')[_0x4d640f(0x3b8)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x4d640f(0x3b8)]),'resultsDisplay':document[_0x4d640f(0xa1e)]('results-display-select')[_0x4d640f(0x3b8)],'shuffleSetting':document[_0x4d640f(0xa1e)]('shuffle-setting-select')[_0x4d640f(0x3b8)],'timerMode':document[_0x4d640f(0xa1e)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x4d640f(0xa1e)](_0x4d640f(0x8e4))[_0x4d640f(0x3b8)])};try{const _0x5012b6=doc(db,_0x4d640f(0xa0c)+appId+_0x4d640f(0x6de),currentProjectId);await updateDoc(_0x5012b6,{'settings':_0x348da9}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x324a02){console[_0x4d640f(0x2fa)](_0x4d640f(0x739),_0x324a02),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x2cd292){const _0x759952=_0x3ac816,_0x3a9889=doc(db,_0x759952(0xa0c)+appId+_0x759952(0x6de),_0x2cd292);unsubscribeStudentsListener=onSnapshot(_0x3a9889,_0x479c7c=>{const _0x47a561=_0x759952;if(_0x479c7c[_0x47a561(0x72f)]()){const _0x3b55fb=_0x479c7c[_0x47a561(0x22a)]();currentProjectData=_0x3b55fb,renderStudentList(_0x3b55fb[_0x47a561(0x4b9)]||[]);}});}function renderStudentList(_0x3cd199){const _0x21ab2c=_0x3ac816,_0xfd09a5=document['getElementById'](_0x21ab2c(0x57e));_0x3cd199[_0x21ab2c(0x475)]===0x0?(studentList[_0x21ab2c(0x49f)]=_0x21ab2c(0x269),_0xfd09a5[_0x21ab2c(0x6d9)]['add']('hidden')):(studentList[_0x21ab2c(0x49f)]=_0x3cd199['map'](_0x413962=>_0x21ab2c(0x7ac)+_0x413962+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x413962+_0x21ab2c(0x68f))[_0x21ab2c(0x6b7)](''),_0xfd09a5[_0x21ab2c(0x6d9)]['remove'](_0x21ab2c(0x8da)));}document[_0x3ac816(0xa1e)]('add-student-btn')[_0x3ac816(0x84f)](_0x3ac816(0x321),async()=>{const _0x6c1689=_0x3ac816;if(!currentProjectId)return;const _0x322e4e=document[_0x6c1689(0xa1e)]('student-name-input'),_0x4801a8=_0x322e4e[_0x6c1689(0x3b8)][_0x6c1689(0x855)]();if(!_0x4801a8){showMessage(_0x6c1689(0xa3d));return;}const _0xd2e58e=_0x4801a8['split']('\x0a')['map'](_0x1820f8=>_0x1820f8['trim']())[_0x6c1689(0x417)](_0x54583d=>_0x54583d);if(_0xd2e58e[_0x6c1689(0x475)]===0x0)return;try{const _0x446134=doc(db,'artifacts/'+appId+_0x6c1689(0x6de),currentProjectId),_0x153418=await getDoc(_0x446134);if(_0x153418['exists']()){const _0x3eafed=_0x153418[_0x6c1689(0x22a)]()[_0x6c1689(0x4b9)]||[],_0x3fd76d=[...new Set([..._0x3eafed,..._0xd2e58e])];await updateDoc(_0x446134,{'students':_0x3fd76d}),_0x322e4e['value']='';}}catch(_0x4a5864){console[_0x6c1689(0x2fa)]('Error\x20adding\x20students:',_0x4a5864),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x2ce213){const _0x5e8e43=_0x3ac816,_0x262077=document[_0x5e8e43(0xa1e)]('move-quiz-modal'),_0x12544a=document[_0x5e8e43(0xa1e)]('move-quiz-project-select'),_0x491598=_0x262077[_0x5e8e43(0x46d)]('h3'),_0x1bee8e=document['getElementById']('confirm-move-quiz-btn'),_0x7668a=document[_0x5e8e43(0xa1e)]('cancel-move-quiz-btn');_0x491598[_0x5e8e43(0x32e)]=_0x5e8e43(0x5bd),_0x12544a[_0x5e8e43(0x49f)]=_0x5e8e43(0x5ae),_0x1bee8e['textContent']='ยืนยันการจับคู่',_0x262077[_0x5e8e43(0x6d9)][_0x5e8e43(0x309)](_0x5e8e43(0x8da));const _0x4ce5cb=allQuizzes[_0x5e8e43(0x417)](_0x8eee79=>_0x8eee79['id']!==_0x2ce213);_0x4ce5cb[_0x5e8e43(0x475)]===0x0?(_0x12544a[_0x5e8e43(0x49f)]=_0x5e8e43(0x8f6),_0x1bee8e[_0x5e8e43(0x370)]=!![]):(_0x12544a[_0x5e8e43(0x49f)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x4ce5cb[_0x5e8e43(0x3f8)](_0x57b52d=>'<option\x20value=\x22'+_0x57b52d['id']+'\x22>'+_0x57b52d['topic']+'</option>')[_0x5e8e43(0x6b7)](''),_0x1bee8e['disabled']=![]);const _0x59c837=async()=>{const _0x21a996=_0x5e8e43,_0x3d4825=_0x12544a[_0x21a996(0x3b8)];if(!_0x3d4825){showMessage(_0x21a996(0x6c6));return;}_0x1bee8e[_0x21a996(0x370)]=!![],_0x1bee8e['textContent']=_0x21a996(0x6d2);try{const _0x5cc08c=doc(db,_0x21a996(0xa0c)+appId+_0x21a996(0x7a0),_0x2ce213),_0x5b7047=doc(db,'artifacts/'+appId+_0x21a996(0x7a0),_0x3d4825),_0x4e8c47=writeBatch(db);_0x4e8c47[_0x21a996(0x643)](_0x5cc08c,{'pairedQuizId':_0x3d4825}),_0x4e8c47[_0x21a996(0x643)](_0x5b7047,{'pairedQuizId':_0x2ce213}),await _0x4e8c47[_0x21a996(0x243)](),showMessage(_0x21a996(0x9d5)),_0x262077[_0x21a996(0x6d9)][_0x21a996(0x992)]('hidden');}catch(_0x42b153){console['error'](_0x21a996(0x381),_0x42b153),showMessage(_0x21a996(0x276));}finally{_0x491598[_0x21a996(0x32e)]=_0x21a996(0x3d1),_0x1bee8e['textContent']=_0x21a996(0x1f4),_0x1bee8e[_0x21a996(0x370)]=![],_0x1bee8e[_0x21a996(0x24d)]('click',_0x59c837),_0x7668a['removeEventListener'](_0x21a996(0x321),_0x28ff81);}},_0x28ff81=()=>{const _0x31331b=_0x5e8e43;_0x262077['classList'][_0x31331b(0x992)](_0x31331b(0x8da)),_0x491598['textContent']=_0x31331b(0x3d1),_0x1bee8e['textContent']=_0x31331b(0x1f4),_0x1bee8e[_0x31331b(0x24d)]('click',_0x59c837),_0x7668a[_0x31331b(0x24d)]('click',_0x28ff81);};_0x1bee8e['addEventListener'](_0x5e8e43(0x321),_0x59c837),_0x7668a[_0x5e8e43(0x84f)](_0x5e8e43(0x321),_0x28ff81);}function handleDeleteStudent(_0x45fc1f){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x45fc1f+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x30940f=_0x4938;if(!currentProjectId||!currentProjectData)return;const _0x560255=currentProjectData[_0x30940f(0x4b9)]['filter'](_0x6fe3fe=>_0x6fe3fe!==_0x45fc1f);try{const _0x4f5572=doc(db,_0x30940f(0xa0c)+appId+'/public/data/projects',currentProjectId),_0x39327f=doc(db,_0x30940f(0xa0c)+appId+'/public/data/projects/'+currentProjectId+_0x30940f(0x2d8),_0x45fc1f),_0x363dbd=writeBatch(db);_0x363dbd['update'](_0x4f5572,{'students':_0x560255}),_0x363dbd['delete'](_0x39327f),await _0x363dbd[_0x30940f(0x243)]();}catch(_0x5b2ad6){console[_0x30940f(0x2fa)](_0x30940f(0x5c6),_0x5b2ad6),showMessage(_0x30940f(0x548));}});}function handleDeleteAllStudents(){const _0x5b3bb8=_0x3ac816;showConfirmation(_0x5b3bb8(0x210),async()=>{const _0x4d2f9b=_0x5b3bb8;if(!currentProjectId)return;try{const _0x111395=doc(db,_0x4d2f9b(0xa0c)+appId+'/public/data/projects',currentProjectId),_0x3639c9=collection(db,_0x4d2f9b(0xa0c)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0x174db5=await getDocs(_0x3639c9),_0x2d51d5=writeBatch(db);_0x2d51d5[_0x4d2f9b(0x643)](_0x111395,{'students':[]}),_0x174db5[_0x4d2f9b(0x568)](_0x144041=>_0x2d51d5[_0x4d2f9b(0x695)](_0x144041['ref'])),await _0x2d51d5[_0x4d2f9b(0x243)]();}catch(_0xc6e239){console[_0x4d2f9b(0x2fa)](_0x4d2f9b(0x97c),_0xc6e239),showMessage(_0x4d2f9b(0x80f));}});}async function handleGenerateFromFileClick(){const _0x32f2a1=_0x3ac816;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x37caf6=document[_0x32f2a1(0xa1e)](_0x32f2a1(0x8b8)),_0x2e298a=document[_0x32f2a1(0xa1e)](_0x32f2a1(0x295)),_0x2b754b=document[_0x32f2a1(0xa1e)](_0x32f2a1(0x80e)),_0x1e5bde=document[_0x32f2a1(0xa1e)]('generate-from-file-btn');_0x1e5bde[_0x32f2a1(0x370)]=!![],document[_0x32f2a1(0xa1e)](_0x32f2a1(0x923))['classList'][_0x32f2a1(0x309)](_0x32f2a1(0x8da)),_0x2b754b[_0x32f2a1(0x49f)]='',_0x37caf6['classList'][_0x32f2a1(0x309)](_0x32f2a1(0x8da)),_0x2e298a[_0x32f2a1(0x32e)]=_0x32f2a1(0x5a6);const _0x301033=new FileReader();_0x301033[_0x32f2a1(0x73a)](selectedFile),_0x301033[_0x32f2a1(0x886)]=async()=>{const _0x1b83d0=_0x32f2a1;try{const _0x202da1=_0x301033['result'][_0x1b83d0(0x413)](',')[0x1],_0x965689=selectedFile[_0x1b83d0(0x88e)];await generateQuizFromFile(_0x965689,_0x202da1);}catch(_0x56ec0c){console['error'](_0x1b83d0(0x755),_0x56ec0c),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x56ec0c[_0x1b83d0(0x360)]),_0x37caf6[_0x1b83d0(0x6d9)][_0x1b83d0(0x992)](_0x1b83d0(0x8da));}finally{}},_0x301033[_0x32f2a1(0x4a8)]=_0x1d5398=>{const _0x3fda38=_0x32f2a1;console['error'](_0x3fda38(0x94d),_0x1d5398),showMessage(_0x3fda38(0xa1a)),_0x37caf6[_0x3fda38(0x6d9)][_0x3fda38(0x992)](_0x3fda38(0x8da)),_0x1e5bde[_0x3fda38(0x370)]=![];};}function autoFormatMath(_0x69be25){const _0x3673de=_0x3ac816;if(typeof _0x69be25!=='string'||!_0x69be25)return _0x69be25;const _0x312f0c=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x21bf9=_0x69be25[_0x3673de(0x2f9)](_0x312f0c,_0x1e849b=>{const _0x3282c4=_0x3673de;return'$'+_0x1e849b[_0x3282c4(0x855)]()+'$';});return _0x21bf9;}function sanitizeQuizData(_0x986251){const _0xcca7af=_0x3ac816;if(!_0x986251||!_0x986251[_0xcca7af(0x2c3)])return _0x986251;const _0x541a92={'imes':'\x5ctimes','div':'\x5cdiv'},_0x236164=_0x371c80=>{const _0x3b1893=_0xcca7af;if(typeof _0x371c80!=='string')return _0x371c80;let _0x1327ce=_0x371c80;for(const [_0x6ea55,_0x511e47]of Object[_0x3b1893(0x80b)](_0x541a92)){const _0xee27aa=new RegExp('\x5cb'+_0x6ea55+'\x5cb','g');_0x1327ce=_0x1327ce['replace'](_0xee27aa,_0x511e47);}return _0x1327ce=_0x1327ce[_0x3b1893(0x2f9)](/\\\//g,_0x3b1893(0x2bb)),_0x1327ce=_0x1327ce['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3b1893(0x2bb))[_0x3b1893(0x2f9)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x3b1893(0x771))[_0x3b1893(0x2f9)](/÷/g,_0x3b1893(0x2bb))[_0x3b1893(0x2f9)](/×/g,_0x3b1893(0x771)),_0x1327ce=_0x1327ce['replace'](/(\d)(\\frac)/g,_0x3b1893(0x56a)),_0x1327ce=autoFormatMath(_0x1327ce),_0x1327ce;};return _0x986251[_0xcca7af(0x633)]&&(_0x986251[_0xcca7af(0x633)]=_0x236164(_0x986251[_0xcca7af(0x633)])),_0x986251[_0xcca7af(0x2c3)]['forEach'](_0x10d3e2=>{const _0x30bbd7=_0xcca7af;_0x10d3e2[_0x30bbd7(0x414)]=_0x236164(_0x10d3e2[_0x30bbd7(0x414)]),_0x10d3e2[_0x30bbd7(0x431)]&&(_0x10d3e2['options']=_0x10d3e2[_0x30bbd7(0x431)][_0x30bbd7(0x3f8)](_0x236164)),_0x10d3e2[_0x30bbd7(0x722)]&&(_0x10d3e2[_0x30bbd7(0x722)]=_0x236164(_0x10d3e2[_0x30bbd7(0x722)])),_0x10d3e2[_0x30bbd7(0x799)]&&(_0x10d3e2[_0x30bbd7(0x799)]=_0x236164(_0x10d3e2[_0x30bbd7(0x799)])),_0x10d3e2['correctResponse']&&(_0x10d3e2[_0x30bbd7(0x4bd)]=_0x236164(_0x10d3e2['correctResponse'])),_0x10d3e2[_0x30bbd7(0x440)]&&(_0x10d3e2['allResponses']=_0x10d3e2[_0x30bbd7(0x440)]['map'](_0x236164));}),_0x986251;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x48ea67=_0x3ac816,_0x3239d1=document[_0x48ea67(0xa1e)](_0x48ea67(0x830)),_0x4b2f7d=document[_0x48ea67(0xa1e)](_0x48ea67(0x5af)),_0x3abc90=_0x3239d1[_0x48ea67(0x3b8)][_0x48ea67(0x855)](),_0x3760fd=_0x4b2f7d[_0x48ea67(0x3b8)]['trim']();if(!_0x3abc90){showMessage(_0x48ea67(0x925));return;}const _0x101fe1=document['getElementById'](_0x48ea67(0x8b8)),_0x309d59=document[_0x48ea67(0xa1e)](_0x48ea67(0x295)),_0x402129=document['getElementById'](_0x48ea67(0x80e)),_0x12fe15=document[_0x48ea67(0xa1e)](_0x48ea67(0x5a1));document[_0x48ea67(0xa1e)](_0x48ea67(0x923))[_0x48ea67(0x6d9)]['remove']('hidden'),_0x402129['innerHTML']='',_0x101fe1[_0x48ea67(0x6d9)][_0x48ea67(0x309)]('hidden'),_0x309d59['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x12fe15[_0x48ea67(0x370)]=!![];try{const _0x55f9f3=_0x48ea67(0x928)+encodeURIComponent(_0x3abc90),_0x316c71=await fetch(_0x55f9f3);if(!_0x316c71['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x316c71[_0x48ea67(0x93b)]+')');const _0x54cf5a=await _0x316c71[_0x48ea67(0x453)](),_0x5af204=extractTextFromHtml(_0x54cf5a);if(!_0x5af204||_0x5af204[_0x48ea67(0x475)]<0x64)throw new Error(_0x48ea67(0x6b2));await generateQuiz(_0x3760fd,_0x5af204);}catch(_0x320e50){console[_0x48ea67(0x2fa)](_0x48ea67(0xa44),_0x320e50),showMessage(_0x48ea67(0x46a)+_0x320e50[_0x48ea67(0x360)]),_0x402129['innerHTML']=_0x48ea67(0x806);}finally{_0x101fe1[_0x48ea67(0x6d9)][_0x48ea67(0x992)]('hidden'),_0x12fe15[_0x48ea67(0x370)]=![];}}function extractTextFromHtml(_0x1c433f){const _0x1eb179=_0x3ac816,_0x1ca96a=new DOMParser()[_0x1eb179(0x38b)](_0x1c433f,'text/html');return _0x1ca96a['querySelectorAll'](_0x1eb179(0x42c))[_0x1eb179(0x568)](_0x48790a=>_0x48790a[_0x1eb179(0x309)]()),_0x1ca96a['body'][_0x1eb179(0x32e)]||'';}document[_0x3ac816(0xa1e)](_0x3ac816(0x528))[_0x3ac816(0x84f)](_0x3ac816(0x321),()=>{const _0x402435=_0x3ac816,_0x4d49fd=document[_0x402435(0xa1e)](_0x402435(0x352))['value'][_0x402435(0x855)]();generateQuiz(_0x4d49fd,null);}),document[_0x3ac816(0xa1e)](_0x3ac816(0xa30))[_0x3ac816(0x84f)](_0x3ac816(0x321),()=>{const _0x1ebe91=_0x3ac816,_0x158edb=document[_0x1ebe91(0xa1e)](_0x1ebe91(0x317))[_0x1ebe91(0x3b8)]['trim']();if(!_0x158edb){showMessage(_0x1ebe91(0x79b));return;}const _0x2c2226=document[_0x1ebe91(0xa1e)](_0x1ebe91(0x352))[_0x1ebe91(0x3b8)]['trim']();generateQuiz(_0x2c2226,_0x158edb);});async function generateQuiz(_0x237901,_0x5c792f,_0x11fc25=null){const _0x474acc=_0x3ac816,_0x2143ad=document[_0x474acc(0xa1e)]('include-images-checkbox')['checked'],_0xfb950c=document[_0x474acc(0xa1e)]('quiz-type-select')[_0x474acc(0x3b8)],_0x2bca7a=document['getElementById']('num-questions')[_0x474acc(0x3b8)],_0x170fc3=document[_0x474acc(0xa1e)](_0x474acc(0x57d))['value'],_0x1f24e7=document[_0x474acc(0xa1e)](_0x474acc(0x540))[_0x474acc(0x33d)],_0x51284d=_0x1f24e7?'':'คณิตศาสตร์',_0x238a66=document['getElementById']('difficulty-level-select'),_0x1f4226=_0x238a66[_0x474acc(0x3b8)];let _0xa7d660='';_0x1f4226!==_0x474acc(0x55e)&&(_0xa7d660='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x1f4226+'\x22');const _0x1c0d8a=document[_0x474acc(0xa1e)]('question-complexity-select'),_0x5b9c15=_0x1c0d8a[_0x474acc(0x3b8)];let _0x1fe4ae='';_0x5b9c15!==_0x474acc(0x9c5)&&(_0x1fe4ae=_0x474acc(0x7c1)+_0x5b9c15+_0x474acc(0x5c3));const _0x372a73=document[_0x474acc(0x8e6)](_0x474acc(0x72e)),_0x86a02f=Array[_0x474acc(0x800)](_0x372a73)[_0x474acc(0x3f8)](_0xa5fdf0=>_0xa5fdf0[_0x474acc(0x3b8)]);let _0x5bf8a0='';_0x86a02f[_0x474acc(0x475)]>0x0&&(_0x5bf8a0=_0x474acc(0x48e)+_0x86a02f[_0x474acc(0x6b7)](',\x20')+_0x474acc(0x273));let _0x1757ff='',_0xca8a92='',_0x25c83a,_0x5f4857=_0x474acc(0x479)+_0x237901+'\x22';if(!_0x237901&&_0x5c792f)_0x5f4857='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x237901&&!_0x5c792f&&(_0x5f4857=_0x474acc(0x8cc));const _0x206a1a={'type':_0x474acc(0x5f8),'properties':{'questionText':{'type':_0x474acc(0x4d0)},'options':{'type':_0x474acc(0x8b1),'items':{'type':_0x474acc(0x4d0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x474acc(0x4d0)}},'required':['questionText',_0x474acc(0x431),'correctAnswerIndex',_0x474acc(0x722)]},_0x460abb={'type':'OBJECT','properties':{'questionText':{'type':_0x474acc(0x4d0)},'idealAnswer':{'type':_0x474acc(0x4d0)},'explanation':{'type':_0x474acc(0x4d0)},'imageCode':{'type':_0x474acc(0x4d0)}},'required':['questionText',_0x474acc(0x6c0),'explanation']},_0x2f06e8={'type':_0x474acc(0x5f8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x474acc(0x882),'short_answer']},'options':{'type':_0x474acc(0x8b1),'items':{'type':_0x474acc(0x4d0)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x474acc(0x4d0)},'explanation':{'type':_0x474acc(0x4d0)},'imageCode':{'type':_0x474acc(0x4d0)}},'required':[_0x474acc(0x414),_0x474acc(0x7bf),_0x474acc(0x722)]},_0x50c7a9={'type':_0x474acc(0x5f8),'properties':{'questionText':{'type':_0x474acc(0x4d0)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x474acc(0x4d0)}},'required':[_0x474acc(0x414),'correctAnswer',_0x474acc(0x722)]},_0x287b65={'type':'OBJECT','properties':{'questionType':{'type':_0x474acc(0x4d0),'enum':['matching_item']},'stem':{'type':_0x474acc(0x4d0)},'correctResponse':{'type':_0x474acc(0x4d0)},'allResponses':{'type':_0x474acc(0x8b1),'items':{'type':_0x474acc(0x4d0)}},'explanation':{'type':_0x474acc(0x4d0)},'imageCode':{'type':'STRING'}},'required':[_0x474acc(0x7bf),_0x474acc(0x799),_0x474acc(0x4bd),_0x474acc(0x440),_0x474acc(0x722)]};let _0x18a241;if(_0x11fc25!==null){const _0x594455=currentQuizData[_0x474acc(0x2c3)][_0x11fc25]['questionType'],_0x5a39e5=_0x2143ad?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x1757ff=_0x474acc(0x908)+_0x5f4857+'\x20'+_0x5bf8a0+'\x20'+_0xa7d660+_0x474acc(0x449)+_0x5a39e5+'\x20'+simpleMathPrompt;if(_0x594455===_0x474acc(0x882))_0x25c83a=_0x206a1a;else{if(_0x594455===_0x474acc(0x541))_0x25c83a={'type':_0x474acc(0x5f8),'properties':{'questionType':{'type':'STRING','enum':[_0x474acc(0x541)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x474acc(0x4d0)},'imageCode':{'type':_0x474acc(0x4d0)}},'required':[_0x474acc(0x7bf),_0x474acc(0x799),'correctResponse',_0x474acc(0x722)]};else _0x25c83a=_0x460abb;}_0x18a241=_0x25c83a;}else{const _0x5d15bf=_0x2143ad?_0x474acc(0x8dd):'',_0x397f40=_0x474acc(0x27a);switch(_0xfb950c){case _0x474acc(0x882):_0x1757ff=_0x474acc(0x566)+_0x51284d+'\x20'+_0x2bca7a+_0x474acc(0x823)+_0x5f4857+'\x20'+_0x5bf8a0+'\x20'+_0xa7d660+'\x20'+_0x1fe4ae+_0x474acc(0x990)+_0x170fc3+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5d15bf+'\x20'+simpleMathPrompt,_0x25c83a=_0x206a1a;break;case'fill_in_with_choices':_0x1757ff=_0x474acc(0x986)+_0x51284d+'\x20'+_0x2bca7a+_0x474acc(0x823)+_0x5f4857+'\x20'+_0x5bf8a0+'\x20'+_0xa7d660+'\x20'+_0x1fe4ae+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x170fc3+_0x474acc(0x42b)+_0x5d15bf+'\x20'+simpleMathPrompt,_0x25c83a=_0x206a1a;break;case _0x474acc(0x756):_0x1757ff=_0x474acc(0x986)+_0x51284d+'\x20'+_0x2bca7a+_0x474acc(0x823)+_0x5f4857+'\x20'+_0x5bf8a0+'\x20'+_0xa7d660+'\x20'+_0x1fe4ae+_0x474acc(0x674)+_0x5d15bf+'\x20'+simpleMathPrompt,_0x25c83a=_0x460abb;break;case _0x474acc(0x9c5):_0x1757ff=_0x474acc(0x854)+_0x51284d+'\x20'+_0x2bca7a+_0x474acc(0x823)+_0x5f4857+'\x20'+_0x5bf8a0+'\x20'+_0xa7d660+'\x20'+_0x1fe4ae+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x170fc3+_0x474acc(0x87f)+_0x5d15bf+'\x20'+simpleMathPrompt+'.',_0x25c83a=_0x2f06e8;break;case _0x474acc(0x8f5):_0x1757ff=_0x474acc(0x79d)+_0x51284d+'\x20'+_0x2bca7a+_0x474acc(0x823)+_0x5f4857+'\x20'+_0x5bf8a0+'\x20'+_0xa7d660+'\x20'+_0x1fe4ae+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x5d15bf+'\x20'+simpleMathPrompt,_0x25c83a=_0x50c7a9;break;case'matching':_0x1757ff=_0x474acc(0x7d4)+_0x51284d+'\x20'+_0x2bca7a+_0x474acc(0x45c)+_0x5f4857+'\x20'+_0x5bf8a0+'\x20'+_0xa7d660+'\x20'+_0x1fe4ae+_0x474acc(0x996)+_0x5d15bf+'\x20'+simpleMathPrompt,_0x25c83a=_0x287b65;break;}_0x18a241={'type':_0x474acc(0x5f8),'properties':{'topic':{'type':_0x474acc(0x4d0)},'questions':{'type':_0x474acc(0x8b1),'items':_0x25c83a}},'required':[_0x474acc(0x633),_0x474acc(0x2c3)]};}return _0x5c792f?(_0x1757ff=_0x474acc(0x4be)+_0x5c792f+_0x474acc(0x732)+_0x1757ff,_0xca8a92='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0xca8a92='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x1757ff,_0xca8a92,_0x18a241,_0x11fc25);}async function generateQuizFromFile(_0x5be0b1,_0x26d05d){const _0x560e2f=_0x3ac816,_0x4f0ec8=document[_0x560e2f(0xa1e)]('file-topic-input')['value'][_0x560e2f(0x855)](),_0x2dc6af=document['getElementById'](_0x560e2f(0x583))['value'],_0x3ae6d0=document[_0x560e2f(0xa1e)](_0x560e2f(0x754))[_0x560e2f(0x3b8)],_0x40805d=document[_0x560e2f(0xa1e)](_0x560e2f(0x57d))['value'],_0x43d560=document[_0x560e2f(0xa1e)]('include-images-checkbox')[_0x560e2f(0x33d)],_0x440d42=document[_0x560e2f(0xa1e)]('force-math-checkbox')[_0x560e2f(0x33d)],_0x2ded0e=_0x440d42?'':_0x560e2f(0x79f);let _0x3ef4ee='',_0x1b488f,_0xb4ca61=_0x560e2f(0x479)+_0x4f0ec8+'\x22';!_0x4f0ec8&&(_0xb4ca61='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x4f7c1d=_0x43d560?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x2dc6af){case'multiple_choice':_0x3ef4ee=_0x560e2f(0x566)+_0x2ded0e+'\x20'+_0x3ae6d0+_0x560e2f(0x823)+_0xb4ca61+_0x560e2f(0x990)+_0x40805d+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x4f7c1d+'\x20'+simpleMathPrompt,_0x1b488f={'type':'OBJECT','properties':{'questionText':{'type':_0x560e2f(0x4d0)},'options':{'type':_0x560e2f(0x8b1),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x560e2f(0x6a3)},'explanation':{'type':_0x560e2f(0x4d0)},'imageCode':{'type':_0x560e2f(0x4d0)}},'required':[_0x560e2f(0x414),_0x560e2f(0x431),_0x560e2f(0x825),_0x560e2f(0x722)]};break;case _0x560e2f(0x523):_0x3ef4ee=_0x560e2f(0x986)+_0x2ded0e+'\x20'+_0x3ae6d0+_0x560e2f(0x823)+_0xb4ca61+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x40805d+_0x560e2f(0x42b)+_0x4f7c1d+'\x20'+simpleMathPrompt,_0x1b488f={'type':'OBJECT','properties':{'questionText':{'type':_0x560e2f(0x4d0)},'options':{'type':_0x560e2f(0x8b1),'items':{'type':_0x560e2f(0x4d0)}},'correctAnswerIndex':{'type':_0x560e2f(0x6a3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x560e2f(0x4d0)}},'required':[_0x560e2f(0x414),'options',_0x560e2f(0x825),_0x560e2f(0x722)]};break;case _0x560e2f(0x756):_0x3ef4ee=_0x560e2f(0x986)+_0x2ded0e+'\x20'+_0x3ae6d0+_0x560e2f(0x823)+_0xb4ca61+_0x560e2f(0x674)+_0x4f7c1d+'\x20'+simpleMathPrompt,_0x1b488f={'type':'OBJECT','properties':{'questionText':{'type':_0x560e2f(0x4d0)},'idealAnswer':{'type':_0x560e2f(0x4d0)},'explanation':{'type':_0x560e2f(0x4d0)},'imageCode':{'type':_0x560e2f(0x4d0)}},'required':[_0x560e2f(0x414),_0x560e2f(0x6c0),_0x560e2f(0x722)]};break;case _0x560e2f(0x9c5):_0x3ef4ee=_0x560e2f(0x854)+_0x2ded0e+'\x20'+_0x3ae6d0+_0x560e2f(0x823)+_0xb4ca61+_0x560e2f(0x8b5)+_0x40805d+_0x560e2f(0x87f)+_0x4f7c1d+'\x20'+simpleMathPrompt+_0x560e2f(0x338),_0x1b488f={'type':'OBJECT','properties':{'questionText':{'type':_0x560e2f(0x4d0)},'questionType':{'type':_0x560e2f(0x4d0),'enum':[_0x560e2f(0x882),_0x560e2f(0xa05)]},'options':{'type':_0x560e2f(0x8b1),'items':{'type':_0x560e2f(0x4d0)}},'correctAnswerIndex':{'type':_0x560e2f(0x6a3)},'idealAnswer':{'type':_0x560e2f(0x4d0)},'explanation':{'type':_0x560e2f(0x4d0)},'imageCode':{'type':'STRING'}},'required':[_0x560e2f(0x414),_0x560e2f(0x7bf),_0x560e2f(0x722)]};break;case _0x560e2f(0x8f5):_0x3ef4ee=_0x560e2f(0x79d)+_0x2ded0e+'\x20'+_0x3ae6d0+_0x560e2f(0x823)+_0xb4ca61+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4f7c1d+'\x20'+simpleMathPrompt,_0x1b488f={'type':_0x560e2f(0x5f8),'properties':{'questionText':{'type':_0x560e2f(0x4d0)},'correctAnswer':{'type':_0x560e2f(0x311)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x560e2f(0x4d0)}},'required':['questionText','correctAnswer',_0x560e2f(0x722)]};break;case _0x560e2f(0xa4a):_0x3ef4ee='สร้างชุดคำถามจับคู่'+_0x2ded0e+'\x20'+_0x3ae6d0+_0x560e2f(0x45c)+_0xb4ca61+_0x560e2f(0x562)+_0x3ae6d0+_0x560e2f(0x9db)+_0x4f7c1d+'\x20'+simpleMathPrompt,_0x1b488f={'type':_0x560e2f(0x5f8),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x560e2f(0x4d0)},'allResponses':{'type':_0x560e2f(0x8b1),'items':{'type':'STRING'}},'explanation':{'type':_0x560e2f(0x4d0)},'imageCode':{'type':_0x560e2f(0x4d0)}},'required':[_0x560e2f(0x7bf),_0x560e2f(0x799),'correctResponse',_0x560e2f(0x440),_0x560e2f(0x722)]};break;}const _0x28faa6={'type':_0x560e2f(0x5f8),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x560e2f(0x8b1),'items':_0x1b488f}},'required':['topic','questions']},_0x730391=_0x560e2f(0x69e)+_0x3ef4ee,_0x4e7621={'contents':[{'parts':[{'text':_0x730391},{'inlineData':{'mimeType':_0x5be0b1,'data':_0x26d05d}}]}],'generationConfig':{'responseMimeType':_0x560e2f(0x4de),'responseSchema':_0x28faa6}};return handleApiCall(_0x4e7621[_0x560e2f(0x50a)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x28faa6);}async function handleApiCall(_0x58d669,_0x10a82f,_0xb86013,_0x50d9d0=null){const _0x1c2b5c=_0x3ac816,_0x303229=document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0x923)),_0x2af495=document['getElementById'](_0x1c2b5c(0x8b8)),_0x48cb12=document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0x295)),_0x102d28=document[_0x1c2b5c(0xa1e)]('generated-quiz-container');_0x303229[_0x1c2b5c(0x6d9)][_0x1c2b5c(0x309)]('hidden');_0x50d9d0===null&&(_0x102d28[_0x1c2b5c(0x49f)]='');_0x2af495[_0x1c2b5c(0x6d9)]['remove']('hidden'),_0x48cb12[_0x1c2b5c(0x32e)]=_0x10a82f,document[_0x1c2b5c(0xa1e)]('generate-from-topic-btn')[_0x1c2b5c(0x370)]=!![],document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0xa30))['disabled']=!![],document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0x5a1))[_0x1c2b5c(0x370)]=!![];try{const _0x380645={'responseMimeType':_0x1c2b5c(0x4de),'responseSchema':_0xb86013},_0x42011e=Array[_0x1c2b5c(0x740)](_0x58d669)?_0x58d669:[{'text':_0x58d669}],_0x26b6e5={'contents':[{'role':_0x1c2b5c(0x5b8),'parts':_0x42011e}],'generationConfig':_0x380645},_0x2a1dc9=_0x1c2b5c(0x8bb),_0x4de438=_0x1c2b5c(0x380)+_0x2a1dc9,_0x35ab37=await fetch(_0x4de438,{'method':_0x1c2b5c(0x25d),'headers':{'Content-Type':_0x1c2b5c(0x4de)},'body':JSON[_0x1c2b5c(0x567)](_0x26b6e5)});if(!_0x35ab37['ok'])throw new Error(_0x1c2b5c(0x382)+_0x35ab37[_0x1c2b5c(0x93b)]);const _0x494947=await _0x35ab37[_0x1c2b5c(0x4df)]();if(_0x494947[_0x1c2b5c(0x984)]?.[0x0]?.[_0x1c2b5c(0x9aa)]?.['parts']?.[0x0]){let _0x46cbd5=_0x494947[_0x1c2b5c(0x984)][0x0][_0x1c2b5c(0x9aa)]['parts'][0x0][_0x1c2b5c(0x453)],_0x570f39;try{if(_0x46cbd5[_0x1c2b5c(0x77d)](_0x1c2b5c(0x5d5)))_0x46cbd5=_0x46cbd5['substring'](0x7,_0x46cbd5[_0x1c2b5c(0x475)]-0x3)[_0x1c2b5c(0x855)]();else _0x46cbd5[_0x1c2b5c(0x77d)](_0x1c2b5c(0xa1c))&&(_0x46cbd5=_0x46cbd5[_0x1c2b5c(0x45a)](0x3,_0x46cbd5[_0x1c2b5c(0x475)]-0x3)[_0x1c2b5c(0x855)]());_0x570f39=JSON[_0x1c2b5c(0xa33)](_0x46cbd5);}catch(_0x2b1e74){console[_0x1c2b5c(0x2fa)](_0x1c2b5c(0x550),_0x2b1e74,_0x46cbd5);throw new Error(_0x1c2b5c(0x845));}if(_0x50d9d0!==null){if(_0x570f39[_0x1c2b5c(0x7bf)]===_0x1c2b5c(0x541)){const _0x20d262=currentQuizData[_0x1c2b5c(0x2c3)][_0x1c2b5c(0x3f8)](_0xf56e53=>_0xf56e53['correctResponse']);_0x570f39[_0x1c2b5c(0x440)]=_0x20d262;const _0x1c2e18=currentQuizData[_0x1c2b5c(0x2c3)][_0x50d9d0][_0x1c2b5c(0x4bd)],_0x5082f1=_0x20d262[_0x1c2b5c(0x693)](_0x1c2e18);_0x5082f1>-0x1&&(_0x20d262[_0x5082f1]=_0x570f39[_0x1c2b5c(0x4bd)]),currentQuizData[_0x1c2b5c(0x2c3)]['forEach'](_0x5448ab=>{const _0x2e9e6e=_0x1c2b5c;if(_0x5448ab[_0x2e9e6e(0x7bf)]===_0x2e9e6e(0x541))_0x5448ab['allResponses']=_0x20d262;});}currentQuizData[_0x1c2b5c(0x2c3)][_0x50d9d0]=_0x570f39,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x570f39;const _0x3f0813=document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0x583))[_0x1c2b5c(0x3b8)];currentQuizData[_0x1c2b5c(0x41e)]=_0x3f0813,currentQuizData[_0x1c2b5c(0x2c3)]&&currentQuizData[_0x1c2b5c(0x2c3)][_0x1c2b5c(0x568)](_0x5935a2=>{const _0x1ed984=_0x1c2b5c;if(!_0x5935a2[_0x1ed984(0x7bf)]){if(_0x3f0813===_0x1ed984(0x523))_0x5935a2[_0x1ed984(0x7bf)]=_0x1ed984(0x882);else _0x3f0813===_0x1ed984(0x756)?_0x5935a2[_0x1ed984(0x7bf)]='short_answer':_0x5935a2[_0x1ed984(0x7bf)]=_0x3f0813;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x1c2b5c(0x2fa)](_0x1c2b5c(0x49c),JSON[_0x1c2b5c(0x567)](_0x494947));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x27e77b){console[_0x1c2b5c(0x2fa)](_0x1c2b5c(0x584),_0x27e77b),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x50d9d0===null&&(_0x102d28[_0x1c2b5c(0x49f)]=_0x1c2b5c(0x7ef));}finally{_0x2af495[_0x1c2b5c(0x6d9)][_0x1c2b5c(0x992)](_0x1c2b5c(0x8da)),document[_0x1c2b5c(0xa1e)]('generate-from-topic-btn')[_0x1c2b5c(0x370)]=![],document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0xa30))[_0x1c2b5c(0x370)]=![],document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0x5a1))[_0x1c2b5c(0x370)]=![];const _0x444196=document[_0x1c2b5c(0xa1e)](_0x1c2b5c(0x8a3));_0x444196&&(_0x444196['disabled']=![]);}}function exitFullscreen(){const _0xe4d5bf=_0x3ac816;if(document['exitFullscreen'])document[_0xe4d5bf(0x89b)]()[_0xe4d5bf(0x4d6)](_0x4f2025=>console[_0xe4d5bf(0x2fa)](_0x4f2025));else{if(document[_0xe4d5bf(0x3e2)])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0xe4d5bf(0x979)]();}}function enterFullscreen(){const _0x293b6d=_0x3ac816,_0x1d4124=document[_0x293b6d(0x235)];if(_0x1d4124[_0x293b6d(0x4cf)])_0x1d4124[_0x293b6d(0x4cf)]()['catch'](_0x30f3d4=>{const _0x352abc=_0x293b6d;console[_0x352abc(0x2fa)](_0x352abc(0x261)+_0x30f3d4['message']+'\x20('+_0x30f3d4[_0x352abc(0x6e0)]+')');});else{if(_0x1d4124[_0x293b6d(0x9f0)])_0x1d4124['webkitRequestFullscreen']();else _0x1d4124[_0x293b6d(0x939)]&&_0x1d4124[_0x293b6d(0x939)]();}}function handleCheatingEvent(){const _0x5f528b=_0x3ac816;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x5f528b(0x91e),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x5f528b(0xa1e)](_0x5f528b(0x818))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x5f528b(0x7ce),handleFullscreenChange)):showMessage(_0x5f528b(0x943)+cheatAttempts+'/'+maxCheatAttempts+_0x5f528b(0x50d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x243496=_0x3ac816;if(currentMode==='admin-testing'||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0x243496(0x6ed)]==='visible'&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4e8fbc=_0x3ac816;if(currentMode===_0x4e8fbc(0xa12)||!isQuizActive)return;!document[_0x4e8fbc(0x879)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5f2b11){const _0xda8e2f=_0x3ac816,_0x3beeaa=document[_0xda8e2f(0xa1e)](_0xda8e2f(0x80e));let _0x48a435='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x5f2b11[_0xda8e2f(0x633)]+_0xda8e2f(0x506);_0x5f2b11[_0xda8e2f(0x2c3)][_0xda8e2f(0x568)]((_0x3ae716,_0x2b8db1)=>{const _0xce5015=_0xda8e2f;!_0x3ae716['id']&&(_0x3ae716['id']='q_'+Date['now']()+'_'+_0x2b8db1);const _0x307973=_0x3ae716[_0xce5015(0x7bf)]||_0x5f2b11[_0xce5015(0x41e)];_0x48a435+=_0xce5015(0x461)+_0x2b8db1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2b8db1+_0xce5015(0x8ec)+_0x2b8db1+_0xce5015(0x50c)+_0x2b8db1+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x307973){case _0xce5015(0x541):_0x48a435+=_0xce5015(0x48a)+_0x2b8db1+'\x22>'+(_0x2b8db1+0x1)+'.\x20'+_0x3ae716[_0xce5015(0x799)]+_0xce5015(0x59f);_0x3ae716['imageCode']&&(_0x48a435+=_0xce5015(0x285)+_0x2b8db1+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3ae716[_0xce5015(0x2fb)]+_0xce5015(0x516));_0x48a435+=_0xce5015(0x81e)+_0x2b8db1+'\x22>'+_0x3ae716[_0xce5015(0x4bd)]+_0xce5015(0x9f1),_0x48a435+=_0xce5015(0x640)+_0x2b8db1+'\x22>'+_0x3ae716[_0xce5015(0x722)]+'</span></div>';break;case _0xce5015(0xa05):_0x48a435+=_0xce5015(0x48a)+_0x2b8db1+'\x22>'+(_0x2b8db1+0x1)+'.\x20'+_0x3ae716[_0xce5015(0x414)]+_0xce5015(0x59f);_0x3ae716[_0xce5015(0x2fb)]&&(_0x48a435+=_0xce5015(0x285)+_0x2b8db1+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3ae716[_0xce5015(0x2fb)]+'</div>');_0x48a435+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x2b8db1+'\x22>'+_0x3ae716[_0xce5015(0x6c0)]+_0xce5015(0x9f1),_0x48a435+=_0xce5015(0x640)+_0x2b8db1+'\x22>'+_0x3ae716[_0xce5015(0x722)]+_0xce5015(0x9f1);break;case'true_false':_0x48a435+=_0xce5015(0x48a)+_0x2b8db1+'\x22>'+(_0x2b8db1+0x1)+'.\x20'+_0x3ae716['questionText']+_0xce5015(0x59f);_0x3ae716[_0xce5015(0x2fb)]&&(_0x48a435+=_0xce5015(0x285)+_0x2b8db1+_0xce5015(0x211)+_0x3ae716['imageCode']+_0xce5015(0x516));_0x48a435+=_0xce5015(0x4b5)+(_0x3ae716['correctAnswer']===!![]?_0xce5015(0x8a6):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x3ae716[_0xce5015(0x8db)]===![]?'text-green-600\x20font-bold':'')+_0xce5015(0x552),_0x48a435+=_0xce5015(0x640)+_0x2b8db1+'\x22>'+_0x3ae716[_0xce5015(0x722)]+'</span></div>';break;case _0xce5015(0x7b0):case _0xce5015(0x882):default:_0x48a435+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2b8db1+'\x22>'+(_0x2b8db1+0x1)+'.\x20'+_0x3ae716[_0xce5015(0x414)]+_0xce5015(0x59f);_0x3ae716[_0xce5015(0x2fb)]&&(_0x48a435+='<div\x20id=\x22q-image-container-'+_0x2b8db1+_0xce5015(0x211)+_0x3ae716[_0xce5015(0x2fb)]+_0xce5015(0x516));_0x48a435+=_0xce5015(0x3be)+_0x2b8db1+_0xce5015(0x52d)+_0x3ae716[_0xce5015(0x431)][_0xce5015(0x3f8)]((_0x908ad7,_0x22bb72)=>_0xce5015(0x3c2)+(_0x22bb72===_0x3ae716[_0xce5015(0x825)]?_0xce5015(0x8a6):'')+'\x22>'+_0x908ad7+_0xce5015(0x6d1))[_0xce5015(0x6b7)]('')+_0xce5015(0x44e),_0x48a435+=_0xce5015(0x640)+_0x2b8db1+'\x22>'+_0x3ae716[_0xce5015(0x722)]+_0xce5015(0x9f1);break;}_0x48a435+=_0xce5015(0x516);}),_0x48a435+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3beeaa[_0xda8e2f(0x49f)]=_0x48a435,document[_0xda8e2f(0x8e6)](_0xda8e2f(0x4ae))[_0xda8e2f(0x568)](_0x356376=>_0x356376['addEventListener'](_0xda8e2f(0x321),handleEditQuestion)),document[_0xda8e2f(0x8e6)]('.regenerate-question-btn')[_0xda8e2f(0x568)](_0x493ae8=>_0x493ae8[_0xda8e2f(0x84f)](_0xda8e2f(0x321),handleRegenerateQuestion)),document[_0xda8e2f(0x8e6)](_0xda8e2f(0x5ce))[_0xda8e2f(0x568)](_0x13e5f0=>_0x13e5f0[_0xda8e2f(0x84f)](_0xda8e2f(0x321),handleSaveToBank)),document['getElementById'](_0xda8e2f(0x255))['addEventListener']('click',exportQuizAsWorksheetPDF),document[_0xda8e2f(0xa1e)]('save-quiz-btn')[_0xda8e2f(0x84f)]('click',saveQuiz),document[_0xda8e2f(0xa1e)](_0xda8e2f(0x980))[_0xda8e2f(0x84f)](_0xda8e2f(0x321),handleVerifyAnswers);if(window[_0xda8e2f(0x60a)])window[_0xda8e2f(0x60a)][_0xda8e2f(0x59b)]([_0x3beeaa]);}function handleRegenerateQuestion(_0x45ca04){const _0x46606e=_0x3ac816,_0x43e9d3=_0x45ca04[_0x46606e(0x713)][_0x46606e(0x7b1)]['index'],_0x240797=currentQuizData['topic'];showMessage(_0x46606e(0x7d3)+(parseInt(_0x43e9d3)+0x1)+_0x46606e(0x8c2)),generateQuiz(_0x240797,null,parseInt(_0x43e9d3));}function getPointerPosition(_0x88a01a,_0x512638){const _0x3b0990=_0x3ac816,_0x1ab3d7=_0x88a01a['getScreenCTM']();let _0x37156d,_0x7d5f0c;return _0x512638[_0x3b0990(0x3e6)]&&_0x512638[_0x3b0990(0x3e6)]['length']>0x0?(_0x37156d=_0x512638[_0x3b0990(0x3e6)][0x0][_0x3b0990(0x8aa)],_0x7d5f0c=_0x512638['touches'][0x0][_0x3b0990(0x7ff)]):(_0x37156d=_0x512638[_0x3b0990(0x8aa)],_0x7d5f0c=_0x512638[_0x3b0990(0x7ff)]),{'x':(_0x37156d-_0x1ab3d7['e'])/_0x1ab3d7['a'],'y':(_0x7d5f0c-_0x1ab3d7['f'])/_0x1ab3d7['d']};}function startDrag(_0x20ecfd){const _0x447c23=_0x3ac816;_0x20ecfd[_0x447c23(0x88e)]==='touchstart'&&_0x20ecfd[_0x447c23(0x209)]();const _0x124a3b=_0x20ecfd['target']['closest'](_0x447c23(0x563));if(_0x124a3b){draggedSvgElement=_0x124a3b;const _0x2645fb=draggedSvgElement['ownerSVGElement'],_0x464bf3=getPointerPosition(_0x2645fb,_0x20ecfd);svgOffset['x']=_0x464bf3['x']-parseFloat(draggedSvgElement[_0x447c23(0x702)](null,'x')),svgOffset['y']=_0x464bf3['y']-parseFloat(draggedSvgElement[_0x447c23(0x702)](null,'y'));}}function calculateItemAnalysis(_0x1d8a45,_0x1f3843){const _0x4ce6a0=_0x3ac816,_0x3bed84={};if(_0x1f3843['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x173375=[..._0x1f3843]['sort']((_0x505ca9,_0x1410d3)=>{const _0x24ed85=_0x4938,_0x46513a=_0x1410d3[_0x24ed85(0x4b2)]-_0x505ca9[_0x24ed85(0x4b2)];if(_0x46513a!==0x0)return _0x46513a;const _0x2b87fc=_0x505ca9[_0x24ed85(0x67a)]?.[_0x24ed85(0x475)]||0x1,_0x441f81=_0x1410d3[_0x24ed85(0x67a)]?.[_0x24ed85(0x475)]||0x1,_0x1135a3=_0x2b87fc-_0x441f81;if(_0x1135a3!==0x0)return _0x1135a3;const _0x35060f=new Date(_0x505ca9[_0x24ed85(0x5b7)]),_0x11b61b=new Date(_0x1410d3[_0x24ed85(0x5b7)]),_0x3916c5=_0x35060f-_0x11b61b;if(_0x3916c5!==0x0)return _0x3916c5;return _0x505ca9['studentName']['localeCompare'](_0x1410d3['studentName'],'th');}),_0x5d39f7=_0x173375[_0x4ce6a0(0x475)],_0x313a4e=Math[_0x4ce6a0(0x985)](0x1,Math[_0x4ce6a0(0x2f8)](_0x5d39f7*0.33));if(_0x313a4e===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x108e25=_0x173375[_0x4ce6a0(0x493)](0x0,_0x313a4e),_0x2629dc=_0x173375[_0x4ce6a0(0x493)](-_0x313a4e),_0x24a388=_0x108e25[_0x4ce6a0(0x3f8)](_0x1af5a0=>_0x1af5a0[_0x4ce6a0(0x660)]),_0x5ca5cd=_0x2629dc[_0x4ce6a0(0x3f8)](_0x1770fe=>_0x1770fe[_0x4ce6a0(0x660)]);return _0x1d8a45['questions'][_0x4ce6a0(0x568)]((_0x11e45c,_0x554e1a)=>{const _0x5782b3=_0x4ce6a0,_0x3684f4=_0x11e45c['stem']||_0x11e45c[_0x5782b3(0x414)];let _0x390cde=0x0,_0x2bc32e=0x0,_0x41e9ba=0x0;const _0x58d2c5=[],_0x441920=[];_0x108e25['forEach'](_0x7ea05=>{const _0x2e4419=_0x5782b3,_0x6e01a0=_0x7ea05['attempts'][_0x7ea05['attempts'][_0x2e4419(0x475)]-0x1],_0x2fe3c0=_0x6e01a0['answers']['find'](_0x597e15=>_0x597e15['originalQuestionText']===_0x3684f4);_0x58d2c5[_0x2e4419(0x6cc)]({'name':_0x7ea05[_0x2e4419(0x660)],'isCorrect':_0x2fe3c0?_0x2fe3c0[_0x2e4419(0x594)]:![]}),_0x2fe3c0&&_0x2fe3c0[_0x2e4419(0x594)]&&_0x2bc32e++;}),_0x2629dc[_0x5782b3(0x568)](_0x58ef21=>{const _0x34df15=_0x5782b3,_0x1af595=_0x58ef21[_0x34df15(0x67a)][_0x58ef21['attempts'][_0x34df15(0x475)]-0x1],_0xac7608=_0x1af595['answers'][_0x34df15(0x3a9)](_0x215d2d=>_0x215d2d[_0x34df15(0x66e)]===_0x3684f4);_0x441920[_0x34df15(0x6cc)]({'name':_0x58ef21[_0x34df15(0x660)],'isCorrect':_0xac7608?_0xac7608[_0x34df15(0x594)]:![]}),_0xac7608&&_0xac7608[_0x34df15(0x594)]&&_0x41e9ba++;}),_0x1f3843[_0x5782b3(0x568)](_0xf7f89c=>{const _0x57bb7b=_0x5782b3,_0x5271a5=_0xf7f89c[_0x57bb7b(0x67a)][_0xf7f89c['attempts'][_0x57bb7b(0x475)]-0x1],_0x1631a4=_0x5271a5[_0x57bb7b(0x1fe)]['find'](_0x58d839=>_0x58d839[_0x57bb7b(0x66e)]===_0x3684f4);_0x1631a4&&_0x1631a4[_0x57bb7b(0x594)]&&_0x390cde++;});const _0x119ff8=_0x5d39f7>0x0?_0x390cde/_0x5d39f7:0x0,_0x2fc84c=_0x313a4e>0x0?_0x2bc32e/_0x313a4e-_0x41e9ba/_0x313a4e:0x0;_0x3bed84[_0x554e1a]={'p':_0x119ff8,'r':_0x2fc84c,'upperGroupResponders':_0x58d2c5,'lowerGroupResponders':_0x441920};}),{'perQuestionStats':_0x3bed84,'overallGroups':{'upperGroupNames':_0x24a388,'lowerGroupNames':_0x5ca5cd}};}function drag(_0x35e8d8){const _0x3ccb2a=_0x3ac816;if(draggedSvgElement){_0x35e8d8['preventDefault']();const _0x44507e=draggedSvgElement[_0x3ccb2a(0x2dc)],_0x34decb=getPointerPosition(_0x44507e,_0x35e8d8),_0x17f6e2=_0x44507e[_0x3ccb2a(0x83c)]['baseVal'];let _0x21103f=_0x34decb['x']-svgOffset['x'],_0x123f8e=_0x34decb['y']-svgOffset['y'];const _0x1af773=draggedSvgElement[_0x3ccb2a(0x5b3)]();_0x21103f=Math[_0x3ccb2a(0x985)](_0x17f6e2['x'],Math['min'](_0x21103f,_0x17f6e2['x']+_0x17f6e2['width']-_0x1af773[_0x3ccb2a(0x3e4)])),_0x123f8e=Math[_0x3ccb2a(0x985)](_0x17f6e2['y'],Math[_0x3ccb2a(0x37a)](_0x123f8e,_0x17f6e2['y']+_0x17f6e2[_0x3ccb2a(0x2f5)]-_0x1af773[_0x3ccb2a(0x2f5)])),draggedSvgElement[_0x3ccb2a(0x8b4)](null,'x',_0x21103f),draggedSvgElement[_0x3ccb2a(0x8b4)](null,'y',_0x123f8e);}}function endDrag(_0x905407){draggedSvgElement=null;}function handleSvgEditClick(_0x191968){const _0x1a27d3=_0x3ac816;if(_0x191968[_0x1a27d3(0x2da)]['classList'][_0x1a27d3(0x76b)](_0x1a27d3(0x1f8))){const _0x1c91ea=_0x191968[_0x1a27d3(0x2da)][_0x1a27d3(0x7b1)][_0x1a27d3(0x32a)],_0x470d59=_0x191968[_0x1a27d3(0x713)],_0x3276a5=_0x470d59['querySelector']('#'+_0x1c91ea);_0x3276a5&&_0x3276a5[_0x1a27d3(0x309)](),_0x191968[_0x1a27d3(0x2da)]['remove']();}}function _0x1fcb(){const _0x11f0d3=['ฟังก์ชันแบบชิ้นส่วน','Failed\x20to\x20kick\x20player\x20','พื้นที่ผิวรูปทรงสามมิติ','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','interesting-stats-wrapper','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','จับคู่แบบทดสอบสำเร็จ!','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Error\x20saving\x20quiz\x20edits:','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','border-green-300\x20bg-green-50','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','อัตราการเปลี่ยนแปลงทันที','อัปเดตแบบทดสอบเก่า\x20','files','smooth','.project-card-container[data-id]','onchange','ความคล้ายของรูป','toDate','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','bg-red-50','getContext','flex','scratchpad-canvas','tGain','ไม่พบแบบทดสอบในระบบเลย','lastAnswerCorrect','leaderboard-quiz-tab-btn','webkitRequestFullscreen','</span></div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-modal','178616aqrDbk','ผลรวมอนุกรม\x20(Σ)','ลำดับเลขคณิต\x20(AP)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ฟังก์ชันราก\x20(root)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','ค่าคลาดเคลื่อนของการวัด','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','text-red-700','Error\x20updating\x20project\x20color:','scratchpad-clear-btn','Error\x20generating\x20parallel\x20post-test:','results-table-container','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</form>','short_answer','mousedown','PERSEVERANCE','</option>','shuffledQuiz','.project-card-container','text-red-600','artifacts/','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','.quiz-bank-parallel-btn','พิสัย','cancel-quiz-settings-btn','admin-testing','podium','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการอ่านไฟล์','timer-mode-select','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','standardTopic','appendChild','Error\x20updating\x20custom\x20topic:','className','start-quiz-btn','/preferences/main','.question-editor-item','ดอกเบี้ยอย่างง่าย','อัตราส่วนและสัดส่วน','เพิ่มหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','</p></div>','scores','generate-from-text-btn','schedule','input[type=\x22checkbox\x22]','parse','Error\x20fetching\x20project\x20quizzes:','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','การนับ','text-yellow-300','blockReason','upperGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','student-passcode-input','student-quiz-leaderboard-tab','กรุณาใส่ชื่อนักเรียน','save-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','justification','text-red-800','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','findIndex','Error\x20generating\x20from\x20link:','getPage','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ก่อนเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','matching','#view-rankings-btn','then','quiz-leaderboard-table-container','selected-topics-count','behavior-log-tab-content','redo-btn','.duplicate-quiz-btn','fa-pen','การบวก','ย้าย','Enter','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','N/A','delete-svg-btn','projectSortOrder','ฟังก์ชันค่าสัมบูรณ์','.edit-custom-topic-btn','td,\x20th','ย้ายแบบทดสอบสำเร็จ','answers','.delete-project-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','answer-counter','no-projects-msg','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไฮเพอร์โบลา','สมการค่าสัมบูรณ์','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','preventDefault','project-list','bank-tab','ค่าสัมบูรณ์','date_asc','.ql-editor','visibilitychange','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','reset-project-order-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-leaderboard-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','.unpair-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','s;\x22\x20title=\x22','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','toDataURL','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','parent','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','manage-tab','ระบบเลขและค่าประจำหลัก','starred-project','student-project-leaderboard-table-body','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','data','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','เซียนสมองไว','bg-blue-100\x20text-blue-800','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','list','ความต่อเนื่อง','passingScore','lessonPlan','move-quiz-modal','Error\x20showing\x20quiz\x20detail\x20view:','documentElement','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','promptFeedback','admin-password-input','bg-green-100\x20text-green-800','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','Error\x20verifying\x20answers\x20in\x20editor:','join-live-game-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','body','Error\x20loading\x20quiz\x20for\x20student:','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','commit','ตรวจคะแนนใหม่\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-delete-btn','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','live-player-management','วงกลม:\x20คอร์ดและเส้นสัมผัส','quadraticCurveTo','จำนวนคละ','goto-next-question-btn','removeEventListener','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','เรเดียนและการแปลงหน่วย','gain','after','editable-quiz-topic','Error\x20toggling\x20star\x20status:','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','export-worksheet-pdf-btn','#FCE7F3','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','update-old-quizzes-btn','suggestedAnswer','POST','/public/data/customMathTopics','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','cursor','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','mousemove','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','<tr\x20class=\x22','ไม่พบโปรเจค','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ปริพันธ์ไม่จำกัด','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','.generate-lesson-btn','กำลังวิเคราะห์ข้อสอบ\x20\x22','passcode','file-upload-input','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','playerName','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','log','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','เกิดข้อผิดพลาดในการจับคู่','กรุณาเลือกโปรเจคปลายทาง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-500','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','</p><div>','คัดลอกรหัสแล้ว!','.sort-indicator','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','global-live-game-count','\x22>ใช่</p>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<div\x20id=\x22q-image-container-','<option\x20value=\x22','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-content','worksheet-tab','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</tr>','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','มุมและการวัดมุม','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','ค.ร.น.\x20(LCM)','\x22\x20value=\x22true\x22\x20','projectSort','ข้อที่\x20','loader-text','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cneq','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','drill-feedback','afterend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','postScore','font-bold\x20text-green-700','student-name-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','binom','blueprint-input-area','submittedAt','key','\x22>ไม่ใช่</p>','parallel-test-input-area','string','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ฟังก์ชันเชิงเส้นและกราฟ','bottom','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','เรขาคณิตวิเคราะห์','</td></tr>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','close','.generate-post-test-btn','\x22><p\x20class=\x22font-semibold\x22>','แก้ไขหัวข้อสำเร็จ','clientWidth','/public/data/liveGames','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','ใช่','\x5cdiv','Error\x20opening\x20quiz\x20editor:','</span>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','retake-quiz-loop-btn','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','points','questions','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x22\x20class=\x22delete-project-btn\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','practiceProblems','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','ไม่พบข้อมูลแบบทดสอบ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Failed\x20to\x20get\x20standardized\x20topic:','timer-bar','<textarea\x20name=\x22question','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseleave','confirm-move-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','fill','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','/studentProfiles','isAdaptive','target','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','ownerSVGElement','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','rename-quiz-modal','numPages','Error\x20generating\x20easy\x20version\x20quiz:','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','student-progress-view','text-gray-400\x20hover:text-indigo-600','verify-answers-editor-btn','start-presentation-btn','bg-green-200\x20text-green-800','index','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','showImproveButton','\x22\x20class=\x22pin-project-btn\x20','rgba(79,\x2070,\x20229,\x200.8)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','อินเวอร์สของเมทริกซ์','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ไม่พบข้อมูลการจับคู่','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','{$1}','class','height','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','results-quiz-id-display','floor','replace','error','imageCode','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','attemptNumber','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ไม่ได้ตอบ','project-name-input','การยืนยันตัวตนล้มเหลว','</span></td>','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','offsetWidth','$1_{$2}','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','project-dashboard-view','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','remove','อัปเดตพฤติกรรมสำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','scrollX','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','manual_release','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','closest','BOOLEAN','back-to-results-btn','การสร้างรูปด้วยวงเวียน–สันตรง','leaderboard-tab','ทำคะแนนได้เกินครึ่ง','hasOwnProperty','text-content-input','times','ไม่มีผู้ตอบตัวเลือกนี้','text-green-800','.save-custom-topic-btn','$1^{\x5ccirc}\x5ctext{C}','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','bg-red-500','toggle','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','click','flex\x20flex-col\x20gap-2','quiz-bank-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-schedule-start-container','targetId','confirm-rename-quiz-btn','block','</div>\x0a</div>\x0a','textContent','drop','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','false','การคูณทศนิยม','.project-card-container.opacity-50','การหารทศนิยม','project-passcode-modal','docs','answer','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','name_desc','next-drill-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','checked','player-list-lobby','Remedial\x20quiz\x20generation\x20failed:','ดอกเบี้ยทบต้น',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','drawImage','close-lesson-plan-modal-footer-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','submit','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','stroke','ปริมาตรรูปทรงสามมิติ','การลบเศษส่วน','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','topic-input','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','Error\x20saving\x20visibility\x20settings:','open-quiz-bank-btn','border-red-300\x20bg-red-50','quick_thinker','คำถามถัดไป','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mean','Error\x20updating\x20sort\x20preference:','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-purple-600','message','fa-shield-alt\x20text-gray-600','label[for=\x22num-questions\x22]','player-count','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22answer-space\x22></div>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','input[name=\x22drill_answer\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','disabled','setFont','.topic-category','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','parts','ระยะเวลา\x20(วินาที):','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','right','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','min','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','lowerGroupResponders','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','cancel-quiz-edits-btn','comparison-overall-tab','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20pairing\x20quizzes:','API\x20call\x20failed\x20with\x20status:\x20','starred','หน่วยเวลาและการคำนวณเวลา','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','225RpikgZ','<span\x20title=\x22','สมการราก\x20(radical)','innerText','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','หลังเรียน','button[data-id]','answering','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','ส่งแล้ว','questions_only','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','presentation-modal','.question-editor-item[data-q-index=\x22','.topic-row','confirm-join-game-btn','timer-container','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','toLocaleString','element','visible','$1\x5ctext{','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','ผู้ควบคุม\x20(ทดสอบ)','ผิด','lineJoin','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','<span\x20class=\x22sort-indicator\x20ml-2\x22>','find','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-topic-input','str','textarea','lesson-plan-modal','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','ดีเทอร์มิแนนต์','div','\x22\x20ให้เป็นคำถามประเภท\x20\x22','authed_project_','project-passcode-input','ยืนยันการกระทำ','Error\x20displaying\x20question\x20bank:','value','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','กรุณาเลือกชื่อของคุณ','หน่วยมวล/น้ำหนักและการแปลง','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','show_results_and_answers','getBoundingClientRect','<li\x20class=\x22','ตัวประกอบและตัวประกอบเฉพาะ','far\x20fa-star','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20',';\x22\x20data-id=\x22','\x22\x20value=\x22false\x22\x20','<p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','totalQuestions','สอบปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','show_results_only','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ย้ายแบบทดสอบไปโปรเจคอื่น','helvetica','modal-timer-mode-select','round','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','.quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','[contenteditable=\x22true\x22]','jspdf','<div\x20class=\x22mb-3\x20topic-category\x22>','.presentation-option','.choice-text','-tab-content','_opt1\x22\x20name=\x22question','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ontouchend','webkitExitFullscreen','label','width','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','touches','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','PERFECT_SCORE','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','<li>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','globalSettings','question-analytics-container','timerMode','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','กฎของโคไซน์','\x20/\x20','cdot','leq','#D1FAE5','cancel-test-btn','map','onmouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','close-lesson-plan-modal-btn','timer-duration-container','bg-green-100','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','การวัด','editable-text-','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','questionDisplayedAt','bg-red-100\x20text-red-800','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','Error\x20updating\x20pin\x20status:','รูปหลายเหลี่ยมและมุมภายใน','#student-project-leaderboard-content\x20thead','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','touchmove','#10B981','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','split','questionText','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','7703180jzmorO','filter','</tbody></table>','settings','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','ring-2','การแจกแจงปกติและ\x20z-score','quizType','.parallel-quiz-btn','quizId','display','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','loop-until-pass-checkbox','reference-pdf-upload','list-view-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','27411472','finishReason','border-green-700','options','top','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','แบบทดสอบนี้หมดเวลาแล้ว','<div\x20class=\x22space-y-4\x22>','create-project-modal','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','pow','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','export-excel-btn','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','allResponses','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','.quiz-bank-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','ยืนยันและอัปเดตทั้งหมด','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','asc','modal-loop-until-pass-checkbox','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','FIRST_TRY_ACE','onmousedown','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','text','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','specialist','project-sort-select','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','substring','รูปสี่เหลี่ยมและสมบัติ','\x20คู่\x20','แบบทดสอบจากคลังส่วนตัว','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','live-game-view','save','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','student-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','bg-gray-50','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','pre-test','<p\x20class=\x22font-bold\x20text-sm\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','querySelector','ลิมิต','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','default','[data-topic-container-id]','.summary-bar-item','length','\x20จาก\x20','ความสัมพันธ์ของมุม','จำนวนคู่:','เกี่ยวกับหัวข้อ\x20\x22','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','อสมการเชิงเส้น','bg-red-200\x20text-red-800','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','close-student-rankings-btn','nickname-input','พีชคณิตและฟังก์ชัน','blueprint-upload-input','rename-quiz-input','text-red-300\x20hover:text-red-100','bestScore','bg-amber-100\x20text-amber-800','inactive','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','การคูณเศษส่วน','toISOString','generate-from-parallel-test-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','scratchpad-options','wakeLock','ยังไม่มีนักเรียนส่งงาน','createObjectURL','Error\x20adding\x20custom\x20topic:','การปัดเศษและประมาณค่า','answer-grid-container','quiz','Invalid\x20response\x20structure\x20from\x20AI:','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','text-gray-200','quizMode','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','AI\x20แก้ไขคำถามสำเร็จ!','\x22\x20เพื่อสร้างชุดคู่ขนาน...','.status','onerror','neq','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','#per-question-options\x20select','\x22\x20value=\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','.edit-question-btn','toFixed','ระบบอสมการ','พื้นที่วงกลม/ส่วนของวงกลม','latestScore','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','#retake-for-improvement-btn','%</span>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','students','$1^{\x5ccirc}','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','scrollY','correctResponse','จากเนื้อหาต่อไปนี้:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-end-time','QUICK_THINKER','scratchpad-question','จำนวนเชิงซ้อน\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','instructions','requestFullscreen','STRING','เรขาคณิต','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','text-blue-700\x20bg-blue-100','แบบทดสอบนี้ปิดใช้งานอยู่','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','catch','fas\x20fa-bookmark','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','global-quiz-search-input','canvas','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','application/json','json','keys','อนุพันธ์:\x20กฎลูกโซ่','bank-quiz-search-input','.quiz-bank-settings-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','link-input-area','test','input','แผนการสอน','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ccdot','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-slide-container','<i\x20class=\x22fas\x20fa-pen\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','live-short-answer-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Failed\x20to\x20create\x20initial\x20submission\x20record:','questionStatus','คะแนนเต็ม!','กรุณาเลือกโปรเจคที่ต้องการบันทึก','.toggle-actions-btn','อัตราและอัตราหน่วย','หน่วยความยาวและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','show_pass_fail_only','isRemedial','/public/data/projects/','quiz-bank-count','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','</h3>','source-over','close-game-final-btn','lower_group_count','contents','name_asc','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','admin','/submissions','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ontouchmove','questionId','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','ฐานนิยม','</div>','ระบบสมการเชิงเส้นสองตัวแปร','จุด\x20เส้น\x20ระนาบ','สเกลและแผนที่','.ai-fix-question-btn','medium','AI\x20ไม่สามารถประมวลผลข้อมูลได้','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','เกิดข้อผิดพลาดในการลบผลสอบ','teacherSuggestions','dragend','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','upper_group_count','fill_in_with_choices','.pen-color-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','generate-from-topic-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','input[name=\x22status-option\x22]:checked','progress-project-select','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','แบบทดสอบที่ติดดาว','ความคาดหมาย\x20(Expected\x20value)','พื้นที่สี่เหลี่ยม','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x22\x20name=\x22question_single\x22\x20value=\x22','comeback_king','comparison-individual-tab','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','shuffle','เกิดข้อผิดพลาดในการบันทึก','preTestId','GlobalWorkerOptions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<tr>','document','force-math-checkbox','matching_item','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dragstart','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','กฎบวกและกฎคูณ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','Error\x20verifying\x20answers:','เกิดข้อผิดพลาดในการลบนักเรียน','perseverance','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','outerHTML','สลับไปโหมดนักเรียน','quiz-status-modal','project-title','Failed\x20to\x20parse\x20JSON\x20from\x20AI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','scratchpad-close-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สมการลอการิทึม','input[type=\x22radio\x22]:checked','\x22><i\x20class=\x22fas\x20','$$$1$','การหารเศษส่วน','สรุปผลการวิเคราะห์:\x5cn','createElementNS','beforeend','auto','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','createElement','bg-emerald-100','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','สร้างแบบทดสอบปรนัย','stringify','forEach','\x22...','$1\x20\x5cfrac','.quiz-bank-try-btn','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x5cfrac{$1}{$2}','</div><div\x20class=\x22space-y-2\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','bank-input-area','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','40kWZzOR','close-presentation-btn','text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20listening\x20for\x20projects:','next-question-btn','projectOrder','progress-student-select','num-choices','delete-all-students-btn','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','cancel-passcode-btn','score','quiz-type-select','Error\x20generating\x20quiz:','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','src','values','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','\x5cle','originalTopic','ส่วนเบี่ยงเบนเฉลี่ย','#student-quiz-leaderboard-content\x20thead','AI\x20Formula\x20Fix\x20Error:','select','$1\x5cfrac','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุดสำเร็จ!','กราฟฟังก์ชันตรีโกณ','isCorrect','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x20สำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเสื่อมราคา','.topic-name-input','.lastAnswerIndex','typesetPromise','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','message-modal','generated-quiz-actions','</p>','comparison-modal','generate-from-link-btn','project-quizzes-list','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','timer-duration-label','กำลังอ่านและเตรียมไฟล์...','.copy-quiz-id-list-btn','submission','.delete-custom-topic-btn','removeChild','hint','confirm-create-project-btn','กรุณาใส่ชื่อใหม่','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','link-topic-input','กรุณาป้อนหัวข้อสำหรับใบงาน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBBox','ตอบถูก\x203\x20ข้อติดต่อกัน','comparison-chart','scratchpad-canvas-container','latestSubmittedAt','user','bg-purple-50','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','STOP','จับคู่เพื่อเปรียบเทียบผล','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','copy','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','.pin-project-btn','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','preTScore','grid-view-btn','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-fix-formula-btn','manage-players-btn','Error\x20deleting\x20submission:','</label>\x0a\x20\x20\x20\x20</div>\x0a','Error\x20updating\x20quiz\x20settings:','global-quiz-list','.save-to-bank-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.delete-svg-btn','#FEE2E2','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','admin-view','```json','.option-text','\x22\x20data-q-type=\x22','upperGroupResponders','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lastAnswerIndex','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','project-detail-view','submissions','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','href','student-initial-view','ถูกต้อง!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<span\x20class=\x22font-bold\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20สำเร็จ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x20mx-1\x20text-lg\x22></i></span>','confirm-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x5cfrac{','คัดลอกไม่สำเร็จ','badgesCount','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','เส้นตรง:\x20รูปแบบสมการ','qType','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','countdown-display','mouseup','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','OBJECT','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','2-digit','quiz-id-input','cancel-export-pdf-btn','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','\x5csqrt{$1}','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20grading\x20failed:','student-project-leaderboard-content','stopPropagation','#results-table\x20thead\x20tr','Error\x20rendering\x20student\x20progress:','MathJax','^{\x5ccirc}\x5ctext{C}$','date_desc','\x20หัวข้อ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','toLocaleDateString','short','ตรีโกณมิติ','.doc','Authentication\x20failed:','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','createdAt','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','actions-container-','whole_quiz','Error\x20committing\x20score\x20updates:','แผนการสอน:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-comparison-modal-footer-btn','4NeiECa','.topic-actions-view','กำลังสแกนหาแบบทดสอบเก่า...','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ความชันเส้นสัมผัส','back-from-results-btn','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input-area','admin-try-quiz-btn','backgroundColor','\x5c\x5c\x5c\x5c(?=(','data:application/vnd.ms-word;charset=utf-8,','Leaderboard\x20update\x20transaction\x20failed:\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','math-topics-checkbox-container','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','/public/data/quizzes/','download','some','topic','quiz-leaderboard-table-body','thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','input[type=\x22radio\x22][value=\x22','leaderboard_','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','leaderboard-tab-content','องค์ประกอบของฟังก์ชัน','shuffle-setting-select','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scores-tab-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','ไม่ใช่','.quiz-bank-move-btn','update','quiz-editor-questions-container','\x20รายการ...','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','leaderboard','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','student-project-leaderboard-tab','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','.verification-result','\x22\x20data-pre-test-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','raw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','results','summary_chart','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','export-compact-pdf-btn','Error\x20saving\x20questions\x20to\x20practice\x20bank:','ai-quiz-generator-v3','2680867dhRLqA','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','849200lsFIwz','studentName','ข้อ\x20','บันทึกการแก้ไข','ตั้งเวลา\x20(เปิด)','4386biemHX','contentEditable','เกิดข้อผิดพลาดในการติดดาว','<option\x20value=\x22\x22>กำลังโหลด...</option>','learningGaps','export-image-btn','execCommand','/public/data/learnedFixes','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','cos','originalQuestionText','ไม่พบแบบทดสอบ','กำลังสร้างรูปภาพ...','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','quiz-start-time','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','touchstart','.isScored','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','comparison','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-leaderboard-table','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.csv','reduce','cancel-create-project-btn','\x5cpm','behavior-log','autoTable','หยุดระบบจับเวลาหรี่หน้าจอ','isPasscodeEnabled','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x20ชุด)','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','results-table','classStrengths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','manage','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','dimmed','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','indexOf','not-found','delete','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toString','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','correct','AI\x20Fix\x20Error:','bulk-loop-until-pass-checkbox','จากไฟล์ที่แนบมานี้,\x20','</strong></p>','text-emerald-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','NUMBER','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','global-live-game-modal','setItem','สมการยกกำลัง','analyze-strengths-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','/users/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-result-area','กำลังอัปเดตแบบทดสอบ\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','lineCap','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','join','input[type=\x22text\x22]','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','export-lesson-pdf-btn','fa-user-astronaut\x20text-blue-700','currentQuestionIndex','fa-crown\x20text-yellow-500','idealAnswer','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','text-gray-500','ไม่สามารถโหลดรายการโปรเจคได้','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','admin-dashboard','questionIndex','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','push','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','analytics-tab-content','results_','focus','</li>','กำลังจับคู่...','bg-green-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game','.pair-quiz-btn','(ก่อนเรียน)','export-leaderboard-pdf-btn','classList','overline','back-to-dashboard-from-results-btn','per-question-timer-container','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','/public/data/projects','ร้อยละพื้นฐาน','name','</tbody></table></div>','(หลังเรียน)\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','[*]','bg-blue-100','student-quiz-leaderboard-table-body','mode-switcher-btn','screen','offset','Error\x20fetching\x20projects\x20for\x20move:','MathJax\x20typeset\x20error\x20(analytics):','globalCompositeOperation','visibilityState','cancel-admin-login-btn','คัดลอกแบบทดสอบสำเร็จ','pinned-items','#results-table','scheduled_pending','projectId','circ','ฟังก์ชันพหุนาม','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','เกิดข้อผิดพลาดในการปักหมุด','post-test','getDocument','fixedData','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prod','color','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','title','#F3E8FF','ความเท่ากันทุกประการของสามเหลี่ยม','getAttributeNS','copy-quiz-id-btn','\x22.\x20','save-quiz-edits-btn','onmousemove','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','ระยะทางและจุดกึ่งกลาง','Error\x20saving\x20to\x20question\x20bank:','ontouchstart','earned-badges-container','worksheet-input-area','modal-passing-score-input','#FFFFFF','true','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','วงรี','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ปริมาตร/ความจุและการแปลง','<button\x20data-quiz-id=\x22','pinnedProjects','leaderboard-table-body','เกิดข้อผิดพลาดในการลบแบบทดสอบ','สร้างโปรเจคสำเร็จ!','NEGATIVE_INFINITY','text/csv;charset=utf-8;','clearRect','$1\x5c%','explanation','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','</button>','tooltipTarget','text-green-600','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ที่พิมพ์ได้\x20จำนวน\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','interesting-stats-container','student-name-selection-view','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','#math-topics-checkbox-container\x20input:checked','exists','parallel-test-upload-input','ไม่พบข้อมูลข้อสอบหลังเรียน','\x22,\x20','Error\x20loading\x20user\x20preferences:','preScore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.score','Error\x20saving\x20settings:','readAsDataURL','destroy','วงกลม:\x20สมการและสมบัติ','opacity-50','.correct-response-input','input[name=\x22status-option\x22]','isArray','.topic-actions-edit','Error\x20during\x20class\x20analysis:','question','หมดเวลาสำหรับข้อนี้!','active','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.compare-results-btn','q-text-','btn','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','รูปสแควร์รูท\x20(surd)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','Firebase\x20initialization\x20failed:','num-questions','Error\x20processing\x20file\x20for\x20AI:','fill_in_no_choices','Error\x20moving\x20quiz:','_blank','uid','none','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','.ideal-answer-input,\x20.correct-response-input','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','standard','close-comparison-modal-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','beginPath','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','ไม่มีคำอธิบาย','.move-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','rows','\x5ctimes','modal-timer-duration-input','.sortable-header','1:274192258111:web:4120c9118229b5644dd48a','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.answer-text','per-question-text','getItem','<button\x20id=\x22','startsWith','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','(ตัวเลือกผิดพลาด)','.quiz-bank-present-btn','ท็อปฟอร์ม','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','ข้อต่อไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<div\x20class=\x22my-6\x22>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','circle','file-tab','resize','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','Error\x20saving\x20submission:','comparison-overall-content','lowerGroupNames','#26890c','results-tab-content','กราฟแท่ง\x20กราฟเส้น','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','ผ่าน','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','stem','project-detail','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x20รายการสำเร็จ!','สร้างคำถามแบบใช่/ไม่ใช่','enable-passcode-checkbox','คณิตศาสตร์','/public/data/quizzes','คำถามดิบ:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','.start-live-race-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<div\x20class=\x22','include-images-checkbox','open-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div><input\x20type=\x22radio\x22\x20id=\x22q','ฟังก์ชันสัมพัทธ์\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank','dataset','.edit-quiz-btn','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','players.','dragover','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','password-error-msg','q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-summary-cards','category','has','pen-tool-btn','questionType','quiz-settings-modal','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x20mb-2\x22>','overallGroups','ศูนย์','now','บันทึกการตั้งค่าสำเร็จ','check-answer-btn','endTime','ai-quiz-app-aefee.firebasestorage.app','ลบแบบทดสอบสำเร็จแล้ว','student','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenchange','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ค่าความจริง/ตารางค่าความจริง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTextContent','กำลังสร้างคำถามข้อ\x20','สร้างชุดคำถามจับคู่','back-to-project-btn','ฮิสโตแกรม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','modal-adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.live-answer-btn,\x20#live-submit-short-answer-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','pairedQuizId','โดเมนและเรนจ์','select-all-topics-btn','keydown','#ffffff','lesson-plan-content','ai-quiz-app-aefee','รีเซ็ตลำดับโปรเจคแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่านฉลุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','touchcancel','onclick','bg-yellow-100','.admin-try-quiz-list-btn','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','Failed\x20to\x20get\x20hint:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','สำหรับโปรเจค:\x20','live-player-list','</td>','modal-shuffle-select','rgba(79,\x2070,\x20229,\x201)','ตารางความถี่','text-red-500\x20hover:text-red-700','Error\x20starting\x20game:','quiz-schedule-end-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','startedAt','หมดเวลา!\x20กำลังส่งคำตอบ...','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','eraser-tool-btn','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','clientY','from','กรุณาป้อนรหัสแบบทดสอบ','promise','warn','.ideal-answer-input','อัปเดตสถานะสำเร็จ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x22>จาก:\x20','dashboardConfig','entries','\x0a\x20\x20\x20\x20','back-to-student-initial-btn','generated-quiz-container','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','$1\x5ctimes','text-green-700\x20bg-green-100','quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','ดอทโปรดักต์\x20(dot)','สถิติและความน่าจะเป็น','quiz-form','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','Error\x20deleting\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strokeStyle','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','match','localeCompare','fixed','เส้นจำนวน','\x20ข้อ\x20','open','correctAnswerIndex','normal','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','setAttribute','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','padStart','แบบทดสอบ:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','student-quiz-area','players','code','link-url-input','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','result','ชื่อโปรเจคห้ามว่าง','undefined','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','null','text-red-700\x20bg-red-100','viewBox','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20data-name=\x22','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','analytics','ฟังก์ชันผกผัน','modal-results-display-select','.export-pdf-list-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI.','quiz-editor-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','text-tab','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','Error\x20unpairing\x20quizzes:','badges','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','bulk-quiz-settings-modal','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างแบบทดสอบ','trim','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','fa-rocket\x20text-purple-500','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','มัธยฐาน','cancel-quiz-bank-btn','isStarred','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','.quiz-result-card','includes','Error\x20fetching\x20student\x20rankings:','position','qIndex','Re-grade\x20process\x20failed:','manage-tab-content','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','clientHeight','perfect_score_status','rgba(59,\x20130,\x20246,\x200.7)','การบวกทศนิยม','moveTo','leaderboard-quiz-tab-content','first_try_ace','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','draggable-text','หัวข้อที่สร้างเอง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','COMEBACK_KING','กรุณาใส่ชื่อโปรเจค','\x20mr-2\x22></i>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','start-game-btn','save-settings-btn','fullscreenElement','</span></p>','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','cloneNode','confirm-bulk-quiz-settings-btn','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิด\x20(จับเวลา)','multiple_choice','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<tr><td\x20colspan=\x22','end-game-btn','onload','ไม่พบตารางสำหรับ\x20Export','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','เส้นตรง:\x20ขนาน/ตั้งฉาก','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','print','type','.quiz-bank-delete-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-input-area','ไม่พบข้อมูลผู้ใช้','แผนภาพเวนน์','undo-btn','confirm-quiz-settings-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','export-leaderboard-image-btn','totalPoints','exitFullscreen','ราชาคัมแบ็ก','insertAdjacentHTML','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20live\x20race:','classWeaknesses','student-view','sin','generate-from-file-btn','ไม่สามารถเริ่มเกมได้','text-indigo-700','text-green-600\x20font-bold','deselect-all-topics-btn','#000000','analytics-tab-btn','clientX','ส่งคำตอบ','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','passing-score-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ARRAY','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','setAttributeNS',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','per-question-options','behavior-log-tab-btn','loader','.answeredCurrentQuestion','auto-fix-latex-btn','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','เกิดข้อผิดพลาดในการอัปเดต:\x20','perfect_score','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','move-quiz-project-select','/questionBank','isScored','\x20ใหม่...','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','เลือกโปรเจคเพื่อบันทึก','projectName','<p><strong>คำตอบที่แนะนำ:</strong>\x20','cancel-quiz-edits-btn-footer','แบบทดสอบซ่อมเสริม','student-reading-area','bar','Error\x20generating\x20from\x20blueprint:','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</p><p><strong>เฉลย:</strong>\x20','release','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','tfrac','parallel-test-tab','.delete-quiz-btn','lesson-plan-title','ตรวจทานเฉลยเสร็จสิ้น!','\x5cge','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','hidden','correctAnswer','input[type=\x22checkbox\x22]:checked','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','hover:bg-indigo-100','ยกเลิกการจับคู่สำเร็จ','fromCharCode','q-image-container-','open-global-live-btn','#F59E0B','timer-duration-input','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','querySelectorAll','ai-quiz-app-aefee.firebaseapp.com','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20\x20\x20-\x20','items','บันทึกแบบทดสอบสำเร็จแล้ว!','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','doughnut','.png','border-red-700','true_false','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','.lastAnswerCorrect','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','practice-topic-btn','\x20\x0a\x20\x20\x20\x20','Error\x20generating\x20worksheet:','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','อนุพันธ์:\x20ผลคูณ/ผลหาร','<p><strong>คำตอบของคุณ:</strong>\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ปิดใช้งาน','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','จำนวนเต็มบวก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20fetching\x20quiz\x20status:','div[data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','สร้างคำถามใหม่\x201\x20ข้อ\x20','1930704RwiNgh','student-progress-content','-tab','.lastAnswerValue','สลับไปโหมดผู้ควบคุม','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','Original\x20quiz\x20not\x20found','border-gray-200','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','line-through\x20text-red-700','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','move','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','คณิตการเงิน/บูรณาการ','#E5E7EB','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','quiz-generation-area','projectView','กรุณาวาง\x20URL\x20ของบทความก่อน','generate-from-blueprint-btn','ฟังก์ชันลอการิทึม','https://corsproxy.io/?','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','leaderboard-quiz','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','bulk-quiz-settings-btn','#E0E7FF','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','solution','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ลบหัวข้อสำเร็จ','msRequestFullscreen','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','status','</th>','พาราโบลา','project-search-input','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','เส้นรอบรูป','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','คำเตือน\x20(','ref','half_mark_status','API\x20call\x20failed','(คู่ขนาน)\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','.color-palette-popup','quiz-status-options','answerText','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','FileReader\x20error:','touchend','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.pdf','text-yellow-800','bulk-shuffle-select','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','perQuestionStats','\x22\x20name=\x22drill_answer\x22\x20value=\x22','พอใช้','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','http://www.w3.org/2000/svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','bulk-results-display-select','text-emerald-800','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','127608EwXNoh','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','thead\x20.sortable-header','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','ระยะเวลา\x20(นาที):','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mjx-container','change','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','start-live-race-generated-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','save-project-name-btn','modal-timer-duration-label','bank-quiz-list','user-id-display','hint-btn','\x5ctext{$1}','startTime','การแจกแจงทวินาม\x20(พื้นฐาน)','แบบเติมคำตอบ','$1^{$2}','กฎของไซน์','msExitFullscreen','sqrt','duration-300','Error\x20deleting\x20all\x20students:','size','th-TH','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','verify-answers-btn','_opt0\x22>ใช่</label></div>','confirm-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','max','สร้างคำถามแบบเติมคำในช่องว่าง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','dfrac','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','เกิดข้อผิดพลาดในการโหลดสถานะ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','.\x20แต่ละข้อมี\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','add','Error\x20regenerating\x20question\x20in\x20editor:','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','/public/data/practiceBank','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','.pen-size-btn','text-red-900','\x5cs*\x5c(','geq','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','results-tab','export-pdf-btn','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','คะแนนเต็ม','confirm-quiz-status-btn','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','icon','removeAttribute','sort','destination-out','export-pdf-modal','all','00:00','content','เงินงวด\x20(อนุกรมเงินงวด)','เปิดใช้งาน','ไม่มี','numeric','fix\x20the\x20option','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','resultsDisplay','export-tutor-pdf-btn','strength-weakness-analysis-container','quiz-results','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','quiz-results-table-body','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','show-in-student-dashboard-checkbox','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การประยุกต์เวกเตอร์พื้นฐาน','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','เวกเตอร์และเมทริกซ์\x20(เสริม)','<p\x20class=\x22','mixed','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','การหาร','image/png','สามเหลี่ยม\x20(ชนิด/สมบัติ)','fa-fire\x20text-orange-500','ยังไม่เต็มนะ'];_0x1fcb=function(){return _0x11f0d3;};return _0x1fcb();}function handleEditQuestion(_0x1b4cad){const _0x21366c=_0x3ac816,_0x5930c1=_0x1b4cad[_0x21366c(0x713)],_0x1100bc=_0x5930c1['dataset'][_0x21366c(0x2e8)],_0x2741fa=currentQuizData[_0x21366c(0x2c3)][_0x1100bc],_0x1afcf7=document[_0x21366c(0xa1e)](_0x21366c(0x749)+_0x1100bc),_0x15058b=document[_0x21366c(0xa1e)](_0x21366c(0x7b9)+_0x1100bc),_0x54a732=document[_0x21366c(0xa1e)](_0x21366c(0x8e1)+_0x1100bc);if(_0x5930c1['innerHTML'][_0x21366c(0x85e)](_0x21366c(0x1f2))){_0x5930c1[_0x21366c(0x49f)]=_0x21366c(0x72a),_0x5930c1[_0x21366c(0x6ff)]=_0x21366c(0x662);if(_0x1afcf7)_0x1afcf7[_0x21366c(0x665)]=!![];if(_0x15058b)_0x15058b['contentEditable']=!![];if(_0x54a732){const _0x4a4816=_0x54a732[_0x21366c(0x46d)]('svg');if(_0x4a4816){const _0x3aad32=_0x4a4816[_0x21366c(0x8e6)](_0x21366c(0x453));_0x3aad32[_0x21366c(0x568)]((_0x2a20b4,_0x31656f)=>{const _0x514fb8=_0x21366c,_0x58ed91=_0x514fb8(0x402)+_0x1100bc+'-'+_0x31656f;_0x2a20b4['id']=_0x58ed91,_0x2a20b4[_0x514fb8(0x6d9)][_0x514fb8(0x992)](_0x514fb8(0x870)),_0x2a20b4[_0x514fb8(0x2a9)][_0x514fb8(0x260)]=_0x514fb8(0x91a);const _0x21e65b=document[_0x514fb8(0x55c)](_0x514fb8(0x95b),_0x514fb8(0x789)),_0x84df5e=_0x2a20b4[_0x514fb8(0x5b3)]();_0x21e65b[_0x514fb8(0x828)]('cx',String(_0x84df5e['x']+_0x84df5e['width']+0x5)),_0x21e65b[_0x514fb8(0x828)]('cy',String(_0x84df5e['y']+_0x84df5e[_0x514fb8(0x2f5)]/0x2-0x5)),_0x21e65b['setAttribute']('r','5'),_0x21e65b[_0x514fb8(0x828)](_0x514fb8(0x2d5),'red'),_0x21e65b['setAttribute'](_0x514fb8(0x2f4),'delete-svg-btn'),_0x21e65b[_0x514fb8(0x7b1)][_0x514fb8(0x32a)]=_0x58ed91,_0x2a20b4[_0x514fb8(0x251)](_0x21e65b);}),_0x4a4816['addEventListener'](_0x21366c(0xa06),startDrag),_0x4a4816[_0x21366c(0x84f)](_0x21366c(0x262),drag),_0x4a4816[_0x21366c(0x84f)](_0x21366c(0x5f5),endDrag),_0x4a4816[_0x21366c(0x84f)](_0x21366c(0x2d2),endDrag),_0x4a4816['addEventListener'](_0x21366c(0x675),startDrag,{'passive':![]}),_0x4a4816['addEventListener'](_0x21366c(0x40f),drag,{'passive':![]}),_0x4a4816[_0x21366c(0x84f)](_0x21366c(0x94e),endDrag),_0x4a4816[_0x21366c(0x84f)](_0x21366c(0x7e9),endDrag),_0x4a4816[_0x21366c(0x84f)](_0x21366c(0x321),handleSvgEditClick);}}if(_0x1afcf7)_0x1afcf7[_0x21366c(0x6d0)]();}else{_0x5930c1[_0x21366c(0x49f)]=_0x21366c(0x4f2),_0x5930c1[_0x21366c(0x6ff)]='แก้ไขข้อนี้';if(_0x1afcf7){_0x1afcf7[_0x21366c(0x665)]=![];const _0x27322a=_0x2741fa[_0x21366c(0x7bf)]||currentQuizData['quizType'];_0x27322a==='matching_item'?_0x2741fa[_0x21366c(0x799)]=_0x1afcf7[_0x21366c(0x389)][_0x21366c(0x45a)](_0x1afcf7[_0x21366c(0x389)][_0x21366c(0x693)]('.')+0x2)['trim']():_0x2741fa['questionText']=_0x1afcf7['innerText'][_0x21366c(0x45a)](_0x1afcf7['innerText'][_0x21366c(0x693)]('.')+0x2)['trim']();}_0x15058b&&(_0x15058b['contentEditable']=![],_0x2741fa[_0x21366c(0x722)]=_0x15058b[_0x21366c(0x389)]);if(_0x54a732){const _0x3be273=_0x54a732[_0x21366c(0x46d)]('svg');if(_0x3be273){const _0x2ae00b=_0x3be273[_0x21366c(0x87d)](!![]);_0x2ae00b[_0x21366c(0x8e6)]('.delete-svg-btn')[_0x21366c(0x568)](_0x2435a7=>_0x2435a7['remove']()),_0x2ae00b['querySelectorAll']('.draggable-text')['forEach'](_0x532f2e=>{const _0x29783c=_0x21366c;_0x532f2e[_0x29783c(0x6d9)]['remove']('draggable-text'),_0x532f2e[_0x29783c(0x2a9)][_0x29783c(0x260)]=_0x29783c(0x472),_0x532f2e[_0x29783c(0x9a4)]('id');}),_0x2741fa[_0x21366c(0x2fb)]=_0x2ae00b[_0x21366c(0x54c)],_0x3be273[_0x21366c(0x24d)](_0x21366c(0xa06),startDrag),_0x3be273[_0x21366c(0x24d)](_0x21366c(0x262),drag),_0x3be273[_0x21366c(0x24d)](_0x21366c(0x5f5),endDrag),_0x3be273['removeEventListener'](_0x21366c(0x2d2),endDrag),_0x3be273['removeEventListener']('touchstart',startDrag),_0x3be273[_0x21366c(0x24d)](_0x21366c(0x40f),drag),_0x3be273['removeEventListener']('touchend',endDrag),_0x3be273[_0x21366c(0x24d)](_0x21366c(0x7e9),endDrag),_0x3be273['removeEventListener'](_0x21366c(0x321),handleSvgEditClick),_0x3be273[_0x21366c(0x8e6)](_0x21366c(0x5d0))['forEach'](_0x552adf=>_0x552adf['remove']()),_0x3be273[_0x21366c(0x8e6)](_0x21366c(0x563))[_0x21366c(0x568)](_0x5cb3a2=>{const _0x3b3a56=_0x21366c;_0x5cb3a2['classList']['remove']('draggable-text'),_0x5cb3a2['style'][_0x3b3a56(0x260)]=_0x3b3a56(0x472);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4246ed){const _0x213ee4=_0x3ac816,_0x354b88=document['getElementById']('quiz-editor-modal'),_0xf5efc4=document[_0x213ee4(0xa1e)]('quiz-editor-questions-container');_0xf5efc4[_0x213ee4(0x49f)]=_0x213ee4(0x36c),_0x354b88[_0x213ee4(0x6d9)]['remove'](_0x213ee4(0x8da));try{const _0x54c2d8=doc(db,_0x213ee4(0xa0c)+appId+_0x213ee4(0x7a0),_0x4246ed),_0x34673a=await getDoc(_0x54c2d8);if(!_0x34673a['exists']())throw new Error(_0x213ee4(0x66f));currentEditingQuizData={'id':_0x4246ed,..._0x34673a[_0x213ee4(0x22a)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x31ebcb){console[_0x213ee4(0x2fa)](_0x213ee4(0x2bc),_0x31ebcb),showMessage(_0x213ee4(0x75c)),_0x354b88[_0x213ee4(0x6d9)][_0x213ee4(0x992)]('hidden');}}function renderQuizEditor(_0x2ac980){const _0x3a39c9=_0x3ac816;document[_0x3a39c9(0xa1e)](_0x3a39c9(0x44b))['value']=_0x2ac980['topic'];const _0x32f7b1=document[_0x3a39c9(0xa1e)](_0x3a39c9(0x644));let _0x218ebd=_0x2ac980[_0x3a39c9(0x2c3)]['map']((_0x4e3351,_0x28e8c7)=>{const _0x170513=_0x3a39c9;let _0x52e599='';const _0x4c6698=_0x4e3351[_0x170513(0x7bf)]||_0x2ac980[_0x170513(0x41e)];switch(_0x4c6698){case _0x170513(0x882):const _0x130b68=(_0x4e3351[_0x170513(0x431)]||[])[_0x170513(0x3f8)]((_0x50ed9b,_0x136e9d)=>_0x170513(0x408)+_0x28e8c7+'\x22\x20value=\x22'+_0x136e9d+'\x22\x20'+(_0x136e9d===_0x4e3351['correctAnswerIndex']?_0x170513(0x33d):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x50ed9b+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x52e599=_0x170513(0x7f9)+_0x130b68+_0x170513(0x9fa);break;case _0x170513(0xa05):_0x52e599=_0x170513(0x29a)+(_0x4e3351[_0x170513(0x6c0)]||'')+_0x170513(0x84e);break;case _0x170513(0x8f5):_0x52e599=_0x170513(0x7e7)+_0x28e8c7+_0x170513(0x292)+(_0x4e3351[_0x170513(0x8db)]===!![]?_0x170513(0x33d):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x28e8c7+_0x170513(0x3c8)+(_0x4e3351[_0x170513(0x8db)]===![]?'checked':'')+_0x170513(0x61d);break;case _0x170513(0x541):_0x52e599=_0x170513(0x43f)+(_0x4e3351[_0x170513(0x4bd)]||'')+_0x170513(0x3ab);break;}const _0xa8a44a=_0x4e3351[_0x170513(0x414)]||_0x4e3351['stem']||'';return _0x170513(0x303)+_0x28e8c7+_0x170513(0x5d7)+_0x4c6698+_0x170513(0x602)+(_0x28e8c7+0x1)+'\x20('+_0x4c6698+_0x170513(0x38a)+_0xa8a44a+_0x170513(0x937)+_0x52e599+_0x170513(0x32d);})['join']('');_0x32f7b1[_0x3a39c9(0x49f)]=_0x218ebd,_0x32f7b1[_0x3a39c9(0x8e6)](_0x3a39c9(0x51a))[_0x3a39c9(0x568)](_0xc145a6=>{const _0x255fda=_0x3a39c9;_0xc145a6[_0x255fda(0x84f)](_0x255fda(0x321),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x63d4b7){const _0x3e5f62=_0x3ac816,_0x1bc4db=_0x63d4b7['currentTarget'],_0x4f7ae8=_0x1bc4db['closest'](_0x3e5f62(0xa26));if(!_0x4f7ae8)return;const _0x160df3=parseInt(_0x4f7ae8[_0x3e5f62(0x7b1)]['qIndex'],0xa);if(isNaN(_0x160df3)||!currentEditingQuizData[_0x3e5f62(0x2c3)][_0x160df3]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x256353=currentEditingQuizData[_0x3e5f62(0x2c3)][_0x160df3];_0x1bc4db[_0x3e5f62(0x49f)]=_0x3e5f62(0x8ef),_0x1bc4db[_0x3e5f62(0x370)]=!![];const _0x465512=_0x3e5f62(0x5bf)+JSON[_0x3e5f62(0x567)](_0x256353)+_0x3e5f62(0x394);let _0x4556c8;const _0x54a531=_0x256353['questionType']||currentEditingQuizData['quizType'];switch(_0x54a531){case'short_answer':_0x4556c8={'type':_0x3e5f62(0x5f8),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3e5f62(0x4d0)},'imageCode':{'type':_0x3e5f62(0x4d0)}},'required':[_0x3e5f62(0x414),_0x3e5f62(0x6c0),_0x3e5f62(0x722)]};break;case _0x3e5f62(0x882):default:_0x4556c8={'type':_0x3e5f62(0x5f8),'properties':{'questionText':{'type':_0x3e5f62(0x4d0)},'options':{'type':'ARRAY','items':{'type':_0x3e5f62(0x4d0)}},'correctAnswerIndex':{'type':_0x3e5f62(0x6a3)},'explanation':{'type':_0x3e5f62(0x4d0)},'imageCode':{'type':_0x3e5f62(0x4d0)}},'required':[_0x3e5f62(0x414),_0x3e5f62(0x431),_0x3e5f62(0x825),_0x3e5f62(0x722)]};break;}try{let _0xcf8c8b=await callAnalysisApi(_0x465512,_0x4556c8);_0xcf8c8b[_0x3e5f62(0x431)]&&Array[_0x3e5f62(0x740)](_0xcf8c8b[_0x3e5f62(0x431)])&&(_0xcf8c8b['options']=_0xcf8c8b[_0x3e5f62(0x431)][_0x3e5f62(0x3f8)](_0x356eee=>typeof _0x356eee===_0x3e5f62(0x2a8)?_0x356eee[_0x3e5f62(0x2f9)](/S(\s*[\d_]+?\s*)S/g,_0x3e5f62(0x559)):_0x356eee)),_0x256353[_0x3e5f62(0x2fb)]&&_0x256353[_0x3e5f62(0x2fb)][_0x3e5f62(0x85e)](_0x3e5f62(0x9af))&&(_0xcf8c8b['imageCode']=''),currentEditingQuizData['questions'][_0x160df3]={..._0x256353,..._0xcf8c8b},renderQuizEditor(currentEditingQuizData),showMessage(_0x3e5f62(0x4a5));}catch(_0x272ae8){console[_0x3e5f62(0x2fa)](_0x3e5f62(0x69c),_0x272ae8),showMessage(_0x3e5f62(0x7ed)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x18f6ae=_0x3ac816,_0x317415=document[_0x18f6ae(0xa1e)](_0x18f6ae(0x705));_0x317415[_0x18f6ae(0x370)]=!![],_0x317415[_0x18f6ae(0x49f)]=_0x18f6ae(0x673);try{const _0x5861fd=document[_0x18f6ae(0xa1e)](_0x18f6ae(0x44b))[_0x18f6ae(0x3b8)],_0x237cf0=document[_0x18f6ae(0x8e6)]('.question-editor-item');let _0x45674e=[];const _0x4289c4=Array[_0x18f6ae(0x800)](_0x237cf0)['map']((_0x352d93,_0x4101d8)=>{const _0x377857=_0x18f6ae,_0x2b306e=_0x352d93[_0x377857(0x7b1)][_0x377857(0x5f2)],_0x5c3a16=_0x352d93['querySelector'](_0x377857(0x3ae))[_0x377857(0x3b8)];let _0x54025f={'questionType':_0x2b306e};const _0x18e887=currentEditingQuizData[_0x377857(0x2c3)][_0x4101d8];switch(_0x2b306e){case _0x377857(0x882):_0x54025f['questionText']=_0x5c3a16;const _0x46e645=_0x352d93[_0x377857(0x8e6)]('input[type=\x22text\x22]');_0x54025f['options']=Array['from'](_0x46e645)[_0x377857(0x3f8)](_0x1ea5f4=>_0x1ea5f4['value']);const _0x187202=_0x352d93[_0x377857(0x46d)](_0x377857(0x557));_0x54025f[_0x377857(0x825)]=_0x187202?parseInt(_0x187202[_0x377857(0x3b8)]):0x0;break;case'short_answer':_0x54025f[_0x377857(0x414)]=_0x5c3a16,_0x54025f[_0x377857(0x6c0)]=_0x352d93[_0x377857(0x46d)](_0x377857(0x804))['value'];break;case'true_false':_0x54025f[_0x377857(0x414)]=_0x5c3a16;const _0x39e586=_0x352d93[_0x377857(0x46d)](_0x377857(0x557));_0x54025f['correctAnswer']=_0x39e586?_0x39e586['value']===_0x377857(0x70f):!![];break;case _0x377857(0x541):_0x54025f['stem']=_0x5c3a16;const _0xf24f67=_0x352d93['querySelector'](_0x377857(0x73e));_0x54025f[_0x377857(0x4bd)]=_0xf24f67?_0xf24f67[_0x377857(0x3b8)]:'',_0x45674e['push'](_0x54025f[_0x377857(0x4bd)]);break;default:_0x54025f[_0x377857(0x414)]=_0x5c3a16;break;}return{..._0x18e887,..._0x54025f};});_0x45674e['length']>0x0&&_0x4289c4[_0x18f6ae(0x568)](_0x381829=>{const _0x43f5f3=_0x18f6ae;_0x381829['questionType']===_0x43f5f3(0x541)&&(_0x381829[_0x43f5f3(0x440)]=_0x45674e);});const _0x4f8a1a=currentEditingQuizData['id'],_0x5aabe6=doc(db,_0x18f6ae(0xa0c)+appId+_0x18f6ae(0x7a0),_0x4f8a1a);await updateDoc(_0x5aabe6,{'topic':_0x5861fd,'questions':_0x4289c4}),document[_0x18f6ae(0xa1e)]('quiz-editor-modal')[_0x18f6ae(0x6d9)]['add']('hidden'),showMessage(_0x18f6ae(0x64d),()=>initiateReGradeProcess(_0x4f8a1a));}catch(_0xd2b5fb){console[_0x18f6ae(0x2fa)](_0x18f6ae(0x9d7),_0xd2b5fb),showMessage(_0x18f6ae(0x539));}finally{_0x317415[_0x18f6ae(0x370)]=![],_0x317415[_0x18f6ae(0x49f)]=_0x18f6ae(0x75e);}}async function initiateReGradeProcess(_0x50267d){const _0x430392=_0x3ac816;showMessage(_0x430392(0x2d6));try{const _0x377759=doc(db,_0x430392(0xa0c)+appId+_0x430392(0x7a0),_0x50267d),_0x1af9f6=await getDoc(_0x377759);if(!_0x1af9f6[_0x430392(0x72f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x4d84a6={'id':_0x50267d,..._0x1af9f6[_0x430392(0x22a)]()},_0x4cf9d5=collection(db,'artifacts/'+appId+_0x430392(0x7a0),_0x50267d,'submissions'),_0x39f0c8=await getDocs(_0x4cf9d5);if(_0x39f0c8[_0x430392(0x914)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x4fb929=_0x39f0c8[_0x430392(0x336)][_0x430392(0x3f8)](_0x59451e=>reGradeSingleSubmission(_0x59451e,_0x4d84a6));await Promise[_0x430392(0x9a8)](_0x4fb929);if(_0x4d84a6[_0x430392(0x6f3)]){const _0xc9bf01=doc(db,'artifacts/'+appId+_0x430392(0x6de),_0x4d84a6[_0x430392(0x6f3)]),_0x262eea=await getDoc(_0xc9bf01);if(_0x262eea['exists']()&&_0x262eea[_0x430392(0x22a)]()['students']){const _0x50c840=_0x262eea[_0x430392(0x22a)]()[_0x430392(0x4b9)][_0x430392(0x3f8)](_0x5c8ef2=>updateStudentProfile(_0x4d84a6['projectId'],_0x5c8ef2));await Promise[_0x430392(0x9a8)](_0x50c840);}}showMessage(_0x430392(0x244)+_0x39f0c8[_0x430392(0x97d)]+_0x430392(0x47e));}catch(_0x4ad914){console[_0x430392(0x2fa)](_0x430392(0x862),_0x4ad914),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x4ad914[_0x430392(0x360)]);}}async function reGradeSingleSubmission(_0x203bd2,_0x314f68){const _0xb600cf=_0x3ac816,_0x61c33d=_0x203bd2[_0xb600cf(0x22a)](),_0x4b22b9=_0x61c33d[_0xb600cf(0x660)],_0x41544c=_0x61c33d[_0xb600cf(0x67a)]||[],_0x135ccb=[];for(const _0x4a1aa5 of _0x41544c){let _0x5535a2=0x0,_0x64a947=[],_0x4d2f47=0x0;const _0x1efeef=[];for(const _0x182a3a of _0x4a1aa5[_0xb600cf(0x1fe)]){let _0x1faf83;_0x182a3a[_0xb600cf(0x513)]&&(_0x1faf83=_0x314f68[_0xb600cf(0x2c3)][_0xb600cf(0x3a9)](_0x3072fa=>_0x3072fa['id']===_0x182a3a['questionId']));!_0x1faf83&&_0x182a3a[_0xb600cf(0x66e)]&&(_0x1faf83=_0x314f68['questions'][_0xb600cf(0x3a9)](_0x2dbeee=>(_0x2dbeee[_0xb600cf(0x799)]||_0x2dbeee[_0xb600cf(0x414)])===_0x182a3a[_0xb600cf(0x66e)]));let _0x14414f=![];if(_0x1faf83){const _0x599f2e=_0x1faf83[_0xb600cf(0x7bf)]||_0x314f68[_0xb600cf(0x41e)];switch(_0x599f2e){case _0xb600cf(0x882):if(_0x1faf83['options']&&_0x1faf83[_0xb600cf(0x825)]<_0x1faf83[_0xb600cf(0x431)][_0xb600cf(0x475)]){const _0xa024e8=_0x1faf83['options'][_0x1faf83[_0xb600cf(0x825)]];_0x14414f=_0x182a3a[_0xb600cf(0x94b)]===_0xa024e8;}break;case _0xb600cf(0x8f5):const _0x423459=_0x182a3a['answer']===!![]||_0x182a3a[_0xb600cf(0x337)]==='true';_0x14414f=_0x423459===_0x1faf83[_0xb600cf(0x8db)];break;case _0xb600cf(0x541):_0x14414f=_0x182a3a['answer']===_0x1faf83[_0xb600cf(0x4bd)];break;case _0xb600cf(0xa05):_0x14414f=await gradeShortAnswer(_0x182a3a[_0xb600cf(0x337)],_0x1faf83);break;default:_0x14414f=_0x182a3a['isCorrect'];break;}}if(_0x14414f){_0x5535a2++,_0x4d2f47++;if(_0x4d2f47===0x3)_0x64a947[_0xb600cf(0x6cc)](BADGES[_0xb600cf(0x4c4)]['id']);}else _0x4d2f47=0x0;_0x1efeef[_0xb600cf(0x6cc)]({..._0x182a3a,'isCorrect':_0x14414f});}let _0x35e153=_0x5535a2*0xa;_0x5535a2===_0x314f68['questions'][_0xb600cf(0x475)]&&(_0x35e153+=0x32,_0x64a947[_0xb600cf(0x6cc)](BADGES['PERFECT_SCORE']['id'])),_0x135ccb[_0xb600cf(0x6cc)]({..._0x4a1aa5,'score':_0x5535a2,'points':_0x35e153,'badges':Array[_0xb600cf(0x800)](new Set(_0x64a947)),'answers':_0x1efeef});}const _0x58fcf6=_0x135ccb['length']>0x0?_0x135ccb[0x0][_0xb600cf(0x582)]:0x0,_0x2f12ff=Math[_0xb600cf(0x985)](..._0x135ccb['map'](_0x130375=>_0x130375[_0xb600cf(0x582)])),_0x398b43=_0x135ccb[_0xb600cf(0x475)]>0x0?_0x135ccb[_0x135ccb['length']-0x1][_0xb600cf(0x582)]:0x0,_0xf6a37=_0x135ccb[_0xb600cf(0x475)]>0x0?_0x135ccb[_0x135ccb[_0xb600cf(0x475)]-0x1][_0xb600cf(0x2c2)]:0x0,_0x47f8c1=doc(db,_0xb600cf(0xa0c)+appId+_0xb600cf(0x630)+_0x314f68['id']+'/submissions',_0x4b22b9);await updateDoc(_0x47f8c1,{'attempts':_0x135ccb,'firstScore':_0x58fcf6,'bestScore':_0x2f12ff,'latestScore':_0x398b43,'points':_0xf6a37});}function cleanupQuizOptions(_0x24d8b6){const _0x5c04f6=_0x3ac816,_0xf70d57=(_0x14755d,_0x43ab88)=>_0x43ab88===0x0?_0x14755d:_0xf70d57(_0x43ab88,_0x14755d%_0x43ab88),_0x57f6ce=_0x155154=>{const _0x4359b4=_0x4938;if(typeof _0x155154!=='string')return null;_0x155154=_0x155154[_0x4359b4(0x855)]();const _0x2aa436=_0x155154[_0x4359b4(0x413)](/[ /]/)[_0x4359b4(0x417)](_0x285b74=>_0x285b74!=='');if(_0x2aa436['length']===0x3)return parseInt(_0x2aa436[0x0])+parseInt(_0x2aa436[0x1])/parseInt(_0x2aa436[0x2]);else{if(_0x2aa436[_0x4359b4(0x475)]===0x2)return parseInt(_0x2aa436[0x0])/parseInt(_0x2aa436[0x1]);else{if(_0x2aa436[_0x4359b4(0x475)]===0x1&&!isNaN(_0x2aa436[0x0]))return parseFloat(_0x2aa436[0x0]);}}return null;},_0x36edd7=_0x4518bb=>{const _0x19be56=_0x4938;if(typeof _0x4518bb!=='string')return _0x4518bb;const _0x34303a=_0x4518bb[_0x19be56(0x81f)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x34303a){const _0x38f714=parseInt(_0x34303a[0x1]);let _0xd03629=parseInt(_0x34303a[0x2]),_0x5c3e04=parseInt(_0x34303a[0x3]);const _0x4b3e5b=_0xf70d57(_0xd03629,_0x5c3e04);_0xd03629/=_0x4b3e5b,_0x5c3e04/=_0x4b3e5b;if(_0x5c3e04===0x1)return(_0x38f714+_0xd03629)[_0x19be56(0x697)]();return _0x38f714+'\x20'+_0xd03629+'/'+_0x5c3e04;}return _0x4518bb;};return _0x24d8b6&&_0x24d8b6[_0x5c04f6(0x2c3)]&&_0x24d8b6[_0x5c04f6(0x2c3)]['forEach'](_0x5bb718=>{const _0x1de7f3=_0x5c04f6;if(_0x5bb718[_0x1de7f3(0x7bf)]===_0x1de7f3(0x882)&&_0x5bb718[_0x1de7f3(0x431)]){const _0x673b8b=new Map(),_0x1b171d=_0x5bb718['options'][_0x5bb718[_0x1de7f3(0x825)]];_0x5bb718[_0x1de7f3(0x431)][_0x1de7f3(0x568)](_0x11f735=>{const _0x3d7498=_0x1de7f3,_0x46d153=_0x36edd7(_0x11f735),_0x100fd0=_0x57f6ce(_0x46d153);_0x100fd0!==null&&!_0x673b8b[_0x3d7498(0x7bd)](_0x100fd0)&&_0x673b8b['set'](_0x100fd0,_0x46d153);}),_0x5bb718[_0x1de7f3(0x431)]=Array[_0x1de7f3(0x800)](_0x673b8b[_0x1de7f3(0x587)]());const _0x558a46=_0x5bb718[_0x1de7f3(0x431)]['findIndex'](_0x202dbe=>_0x202dbe===_0x36edd7(_0x1b171d));_0x5bb718[_0x1de7f3(0x825)]=_0x558a46!==-0x1?_0x558a46:0x0;}}),_0x24d8b6;}async function saveQuiz(){const _0x52c532=_0x3ac816;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x52c532(0x2c3)]||!userId){showMessage(_0x52c532(0x521));return;}const _0x35ad5d=document[_0x52c532(0xa1e)](_0x52c532(0xa3e));_0x35ad5d[_0x52c532(0x370)]=!![],_0x35ad5d[_0x52c532(0x49f)]=_0x52c532(0x673);const _0x5bfd12=document[_0x52c532(0xa1e)]('pre-test-checkbox')[_0x52c532(0x33d)];let _0x331e83=document[_0x52c532(0xa1e)](_0x52c532(0x252))['innerText'][_0x52c532(0x855)]();_0x5bfd12&&!_0x331e83['startsWith'](_0x52c532(0x6d7))&&(_0x331e83='(ก่อนเรียน)\x20'+_0x331e83);try{const _0x4aa889={'resultsDisplay':document['getElementById']('results-display-select')[_0x52c532(0x3b8)],'shuffle':document[_0x52c532(0xa1e)](_0x52c532(0x63d))[_0x52c532(0x3b8)],'timerMode':document[_0x52c532(0xa1e)](_0x52c532(0xa1b))['value'],'timerDuration':parseInt(document[_0x52c532(0xa1e)](_0x52c532(0x8e4))['value'])||0xa,'passingScore':parseInt(document[_0x52c532(0xa1e)](_0x52c532(0x8ae))[_0x52c532(0x3b8)])||0x0,'isAdaptive':document[_0x52c532(0xa1e)]('adaptive-quiz-checkbox')[_0x52c532(0x33d)],'loopUntilPass':document[_0x52c532(0xa1e)](_0x52c532(0x428))[_0x52c532(0x33d)]},_0x509c48=(currentQuizData[_0x52c532(0x2c3)]||[])[_0x52c532(0x3f8)]((_0x4f775a,_0x243b60)=>{const _0x36537c=_0x52c532,_0x156a82=document[_0x36537c(0xa1e)]('quiz-type-select')['value'],_0x41c744={'id':'q_'+Date[_0x36537c(0x7c6)]()+'_'+_0x243b60,'questionText':_0x4f775a[_0x36537c(0x414)]||'','explanation':_0x4f775a[_0x36537c(0x722)]||_0x36537c(0x768),'questionType':_0x4f775a[_0x36537c(0x7bf)]||_0x156a82,'imageCode':_0x4f775a[_0x36537c(0x2fb)]||null};return(_0x41c744[_0x36537c(0x7bf)]===_0x36537c(0x882)||_0x41c744[_0x36537c(0x7bf)]==='fill_in_with_choices'||_0x41c744[_0x36537c(0x7bf)]===_0x36537c(0x9c5)&&_0x4f775a['options'])&&(_0x41c744['options']=_0x4f775a[_0x36537c(0x431)]||[],_0x41c744['correctAnswerIndex']=_0x4f775a[_0x36537c(0x825)]!==undefined?_0x4f775a[_0x36537c(0x825)]:0x0),(_0x41c744['questionType']===_0x36537c(0xa05)||_0x41c744[_0x36537c(0x7bf)]===_0x36537c(0x756)||_0x41c744[_0x36537c(0x7bf)]===_0x36537c(0x9c5)&&_0x4f775a[_0x36537c(0x6c0)])&&(_0x41c744[_0x36537c(0x6c0)]=_0x4f775a[_0x36537c(0x6c0)]||''),_0x41c744[_0x36537c(0x7bf)]===_0x36537c(0x8f5)&&(_0x41c744[_0x36537c(0x8db)]=_0x4f775a[_0x36537c(0x8db)]===!![]),_0x41c744[_0x36537c(0x7bf)]===_0x36537c(0x541)&&(_0x41c744['stem']=_0x4f775a[_0x36537c(0x799)]||'',_0x41c744[_0x36537c(0x4bd)]=_0x4f775a[_0x36537c(0x4bd)]||'',_0x41c744[_0x36537c(0x440)]=_0x4f775a['allResponses']||[]),_0x41c744;}),_0x4c4d9f={'topic':_0x331e83,'quizType':currentQuizData[_0x52c532(0x41e)]||_0x52c532(0x882),'questions':_0x509c48,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x52c532(0x490)](),'status':'active','settings':_0x4aa889,'quizMode':_0x5bfd12?_0x52c532(0x467):_0x52c532(0x75f),'pairedQuizId':null,'lessonPlan':null};let _0x2021d9;while(!![]){_0x2021d9=Math['floor'](0x3e8+Math[_0x52c532(0x5ff)]()*0x2328)[_0x52c532(0x697)]();const _0x3157c0=await getDoc(doc(db,'artifacts/'+appId+_0x52c532(0x7a0),_0x2021d9));if(!_0x3157c0[_0x52c532(0x72f)]())break;}await setDoc(doc(db,_0x52c532(0xa0c)+appId+_0x52c532(0x7a0),_0x2021d9),_0x4c4d9f),currentQuizData['settings']=_0x4aa889,currentQuizData['id']=_0x2021d9;const _0x8710e1=document[_0x52c532(0xa1e)](_0x52c532(0x59e));_0x8710e1[_0x52c532(0x49f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x2021d9+_0x52c532(0x385),document['getElementById'](_0x52c532(0x703))[_0x52c532(0x84f)](_0x52c532(0x321),()=>copyTextToClipboard(_0x2021d9,_0x52c532(0x27d))),document['getElementById'](_0x52c532(0x96c))['addEventListener'](_0x52c532(0x321),()=>handleStartLiveRace(_0x2021d9)),document['getElementById'](_0x52c532(0x2e6))[_0x52c532(0x84f)](_0x52c532(0x321),()=>startPresentation(currentQuizData)),document[_0x52c532(0xa1e)](_0x52c532(0x628))[_0x52c532(0x84f)](_0x52c532(0x321),startAdminTest),showMessage(_0x52c532(0x8eb));}catch(_0xd052d4){console[_0x52c532(0x2fa)]('Error\x20saving\x20quiz:',_0xd052d4),showMessage(_0x52c532(0x5fd)),_0x35ad5d['disabled']=![],_0x35ad5d['innerHTML']=_0x52c532(0x446);}}function promptForProjectAndSave(){const _0x49a46b=_0x3ac816,_0x57665e=document[_0x49a46b(0xa1e)](_0x49a46b(0x233)),_0x31574d=document[_0x49a46b(0xa1e)](_0x49a46b(0x8bf)),_0x3ffe4c=_0x57665e[_0x49a46b(0x46d)]('h3'),_0x57806e=document[_0x49a46b(0xa1e)](_0x49a46b(0x2d3));_0x3ffe4c['textContent']=_0x49a46b(0x8c4),_0x57806e[_0x49a46b(0x32e)]='เลือกและบันทึก';allProjects[_0x49a46b(0x475)]===0x0?(_0x31574d[_0x49a46b(0x49f)]=_0x49a46b(0x6ad),_0x57806e[_0x49a46b(0x370)]=!![]):(_0x31574d['innerHTML']=allProjects[_0x49a46b(0x3f8)](_0x31f56a=>'<option\x20value=\x22'+_0x31f56a['id']+'\x22>'+_0x31f56a[_0x49a46b(0x8c5)]+'</option>')[_0x49a46b(0x6b7)](''),_0x57806e[_0x49a46b(0x370)]=![]);_0x57665e[_0x49a46b(0x6d9)][_0x49a46b(0x309)](_0x49a46b(0x8da));const _0x58d2e4=()=>{const _0x3a3f78=_0x49a46b,_0x455c1b=_0x31574d['value'];_0x455c1b?(currentProjectId=_0x455c1b,_0x57665e[_0x3a3f78(0x6d9)][_0x3a3f78(0x992)](_0x3a3f78(0x8da)),saveQuiz(),_0x3ffe4c[_0x3a3f78(0x32e)]=_0x3a3f78(0x3d1),_0x57806e['textContent']=_0x3a3f78(0x1f4),_0x57806e[_0x3a3f78(0x24d)](_0x3a3f78(0x321),_0x58d2e4),_0x57806e['addEventListener'](_0x3a3f78(0x321),confirmMoveQuiz)):showMessage(_0x3a3f78(0x4fa));};_0x57806e[_0x49a46b(0x24d)](_0x49a46b(0x321),confirmMoveQuiz),_0x57806e[_0x49a46b(0x84f)](_0x49a46b(0x321),_0x58d2e4);}function copyTextToClipboard(_0x735686,_0x1f40cd){const _0xc8c83b=_0x3ac816,_0x275781=document['createElement'](_0xc8c83b(0x3ae));_0x275781[_0xc8c83b(0x3b8)]=_0x735686,_0x275781['style'][_0xc8c83b(0x860)]=_0xc8c83b(0x821),_0x275781[_0xc8c83b(0x2a9)][_0xc8c83b(0x625)]='0',document[_0xc8c83b(0x23e)][_0xc8c83b(0xa21)](_0x275781),_0x275781[_0xc8c83b(0x6d0)](),_0x275781[_0xc8c83b(0x58f)]();try{const _0x3347b7=document[_0xc8c83b(0x66a)](_0xc8c83b(0x5c0));showMessage(_0x3347b7?_0x1f40cd:'คัดลอกไม่สำเร็จ');}catch(_0x18b76e){showMessage(_0xc8c83b(0x5ee)),console[_0xc8c83b(0x2fa)]('Copy\x20command\x20failed',_0x18b76e);}document['body'][_0xc8c83b(0x5aa)](_0x275781);}function listenForProjectQuizzes(_0x208d37){const _0x48f2c6=_0x3ac816,_0x57c634=collection(db,_0x48f2c6(0xa0c)+appId+'/public/data/quizzes'),_0x15fe27=query(_0x57c634,where(_0x48f2c6(0x6f3),'==',_0x208d37));unsubscribeQuizzesListener=onSnapshot(_0x15fe27,async _0xa46867=>{allQuizzes=_0xa46867['docs']['map'](_0x5215bf=>({'id':_0x5215bf['id'],..._0x5215bf['data']()})),renderQuizzes();},_0x196ebd=>{const _0x32c2f8=_0x48f2c6;console[_0x32c2f8(0x2fa)](_0x32c2f8(0xa34),_0x196ebd),document[_0x32c2f8(0xa1e)](_0x32c2f8(0x5a2))[_0x32c2f8(0x49f)]=_0x32c2f8(0x62d);});}async function renderQuizzes(){const _0x54f894=_0x3ac816,_0x3342c4=document[_0x54f894(0xa1e)]('project-quizzes-list'),_0x3e92db=document[_0x54f894(0xa1e)](_0x54f894(0x812))[_0x54f894(0x3b8)][_0x54f894(0x4c0)]();let _0x33d881;currentProjectId===_0x54f894(0x383)?_0x33d881=starredQuizzes:_0x33d881=allQuizzes;let _0x21c011=_0x33d881[_0x54f894(0x417)](_0x2835e4=>_0x2835e4['topic'][_0x54f894(0x4c0)]()[_0x54f894(0x85e)](_0x3e92db));_0x21c011['sort']((_0x163c88,_0x1b2d89)=>new Date(_0x1b2d89[_0x54f894(0x617)])-new Date(_0x163c88[_0x54f894(0x617)]));if(_0x21c011[_0x54f894(0x475)]===0x0){_0x3342c4[_0x54f894(0x49f)]=_0x54f894(0x441);return;}const _0x57bc05={},_0x202cf8=_0x21c011[_0x54f894(0x3f8)](async _0x5515e4=>{const _0xbfbb44=_0x54f894,_0x2c3f97=collection(db,_0xbfbb44(0xa0c)+appId+'/public/data/quizzes/'+_0x5515e4['id']+_0xbfbb44(0x50f)),_0x1a5c57=await getDocs(_0x2c3f97);_0x57bc05[_0x5515e4['id']]=_0x1a5c57['size'];});await Promise[_0x54f894(0x9a8)](_0x202cf8);let _0x3d5845='';_0x21c011[_0x54f894(0x568)](_0x38b758=>{const _0x403c68=_0x54f894,_0x26c750=_0x57bc05[_0x38b758['id']]||0x0,_0x34ff8f=_0x38b758[_0x403c68(0x93b)]||_0x403c68(0x745),_0x1ef2a1=_0x38b758[_0x403c68(0x419)]?.[_0x403c68(0x3ef)]||_0x403c68(0x75a);let _0x19e1f0='',_0x193594='';const _0x5f16a4=new Date();let _0x2d0749=_0x34ff8f;if(_0x34ff8f===_0x403c68(0x240)){const _0x5a26aa=_0x38b758[_0x403c68(0x974)]?new Date(_0x38b758['startTime']):null,_0x279991=_0x38b758[_0x403c68(0x7c9)]?new Date(_0x38b758['endTime']):null;if(_0x279991&&_0x5f16a4>_0x279991)_0x2d0749=_0x403c68(0x489);else _0x5a26aa&&_0x5f16a4<_0x5a26aa?_0x2d0749=_0x403c68(0x6f2):_0x2d0749=_0x403c68(0x745);}switch(_0x2d0749){case _0x403c68(0x489):_0x19e1f0=_0x403c68(0x900),_0x193594=_0x403c68(0x83b);break;case _0x403c68(0x6f2):_0x19e1f0='รอเปิด',_0x193594=_0x403c68(0x4d3);break;case _0x403c68(0x745):_0x19e1f0=_0x1ef2a1!=='none'?_0x403c68(0x881):_0x403c68(0x9ac),_0x193594=_0x403c68(0x811);break;default:_0x19e1f0=_0x403c68(0x663),_0x193594='text-green-700\x20bg-green-100';break;}let _0x308e0a='';const _0x29602e={'day':_0x403c68(0x5fa),'month':_0x403c68(0x5fa),'year':_0x403c68(0x9ae),'hour':_0x403c68(0x5fa),'minute':_0x403c68(0x5fa),'hour12':![]};if(_0x34ff8f==='scheduled'){if(_0x38b758[_0x403c68(0x974)])_0x308e0a+=_0x403c68(0x6f6)+new Date(_0x38b758[_0x403c68(0x974)])[_0x403c68(0x39e)](_0x403c68(0x97e),_0x29602e)+_0x403c68(0x59f);if(_0x38b758[_0x403c68(0x7c9)])_0x308e0a+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x38b758[_0x403c68(0x7c9)])['toLocaleString'](_0x403c68(0x97e),_0x29602e)+_0x403c68(0x59f);}let _0x1d6c34='';if(_0x38b758[_0x403c68(0x7dd)]){const _0x510fd3=allQuizzes[_0x403c68(0x3a9)](_0x2588ba=>_0x2588ba['id']===_0x38b758[_0x403c68(0x7dd)]);if(_0x510fd3){let _0x20e10c,_0x14d58b;new Date(_0x38b758[_0x403c68(0x617)])<new Date(_0x510fd3[_0x403c68(0x617)])?(_0x20e10c=_0x38b758['id'],_0x14d58b=_0x510fd3['id']):(_0x20e10c=_0x510fd3['id'],_0x14d58b=_0x38b758['id']),_0x1d6c34+=_0x403c68(0x651)+_0x14d58b+_0x403c68(0x650)+_0x20e10c+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x38b758['quizMode']===_0x403c68(0x467)&&(_0x1d6c34+=_0x403c68(0x2c1)+_0x38b758['id']+_0x403c68(0x23d));if(_0x38b758['quizMode']===_0x403c68(0x467)&&_0x26c750>0x0)_0x1d6c34+=_0x403c68(0x2c1)+_0x38b758['id']+_0x403c68(0x838);else!_0x38b758['pairedQuizId']&&_0x38b758[_0x403c68(0x4a1)]!==_0x403c68(0x467)&&_0x26c750>0x0&&(_0x1d6c34+=_0x403c68(0x2c1)+_0x38b758['id']+_0x403c68(0x5fe));let _0x27c815='';_0x38b758[_0x403c68(0x7dd)]?_0x27c815=_0x403c68(0x719)+_0x38b758['id']+_0x403c68(0x4b3):_0x27c815='<button\x20data-quiz-id=\x22'+_0x38b758['id']+_0x403c68(0x4b8),_0x3d5845+=_0x403c68(0x34b)+_0x38b758['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x38b758[_0x403c68(0x633)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x38b758['questions'][_0x403c68(0x475)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x38b758[_0x403c68(0x617)])[_0x403c68(0x39e)](_0x403c68(0x97e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x26c750+_0x403c68(0x220)+_0x308e0a+_0x403c68(0x29d)+_0x193594+'\x22>'+_0x19e1f0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38b758['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38b758['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x38b758[_0x403c68(0x85b)]?'fas\x20fa-star\x20text-yellow-500':_0x403c68(0x3c4))+_0x403c68(0x2b0)+_0x1d6c34+_0x403c68(0x798)+_0x38b758['id']+_0x403c68(0xa16)+_0x38b758['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38b758['id']+_0x403c68(0x3ec)+_0x38b758['id']+_0x403c68(0x94c)+_0x38b758['id']+_0x403c68(0x90e)+_0x38b758['id']+_0x403c68(0x7cf)+_0x38b758['id']+_0x403c68(0x376)+_0x38b758[_0x403c68(0x633)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38b758['id']+_0x403c68(0x365)+_0x38b758['id']+_0x403c68(0x325)+_0x27c815+_0x403c68(0x577)+_0x38b758['id']+_0x403c68(0x3a2)+_0x38b758['id']+_0x403c68(0x59c)+_0x38b758['id']+_0x403c68(0xa46)+_0x38b758['id']+_0x403c68(0x3ba)+_0x38b758['id']+_0x403c68(0x376)+_0x38b758[_0x403c68(0x633)]+_0x403c68(0x459)+_0x38b758['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3342c4[_0x54f894(0x49f)]=_0x3d5845,document[_0x54f894(0x8e6)]('.quiz-result-card')[_0x54f894(0x568)](_0x32f312=>{const _0x32aba6=_0x54f894;_0x32f312[_0x32aba6(0x84f)](_0x32aba6(0x321),()=>{const _0x1fc265=_0x32aba6,_0x18f1ba=_0x32f312[_0x1fc265(0x7b1)][_0x1fc265(0x420)];showQuizDetailView(_0x18f1ba);});});}async function handleUnpairQuiz(_0x4d12b0){const _0x393503=_0x3ac816,_0x4b7243=allQuizzes['find'](_0x4f5781=>_0x4f5781['id']===_0x4d12b0);if(!_0x4b7243||!_0x4b7243[_0x393503(0x7dd)]){showMessage(_0x393503(0x2f1));return;}showConfirmation(_0x393503(0x7fe),async()=>{const _0x1fde3e=_0x393503;try{const _0x657fa5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4d12b0),_0x204e73=doc(db,_0x1fde3e(0xa0c)+appId+_0x1fde3e(0x7a0),_0x4b7243[_0x1fde3e(0x7dd)]),_0x48d846=writeBatch(db);_0x48d846[_0x1fde3e(0x643)](_0x657fa5,{'pairedQuizId':null}),_0x48d846[_0x1fde3e(0x643)](_0x204e73,{'pairedQuizId':null}),await _0x48d846['commit'](),showMessage(_0x1fde3e(0x8df));}catch(_0x5662e0){console[_0x1fde3e(0x2fa)](_0x1fde3e(0x84b),_0x5662e0),showMessage(_0x1fde3e(0x284));}});}function formatAndPrintLessonPlan(_0x1b063e,_0xc84774){const _0x6153c9=_0x3ac816,_0x487009=window[_0x6153c9(0x824)]('','_blank'),_0x553ce9=_0x6153c9(0x659)+_0xc84774[_0x6153c9(0x633)]+_0x6153c9(0x412)+_0xc84774[_0x6153c9(0x633)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b063e[_0x6153c9(0x668)][_0x6153c9(0x3f8)](_0xaf4b2b=>_0x6153c9(0x3eb)+_0xaf4b2b+'</li>')[_0x6153c9(0x6b7)]('')+_0x6153c9(0x400)+_0x1b063e[_0x6153c9(0x44d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b063e[_0x6153c9(0x2c8)][_0x6153c9(0x3f8)](_0x5dde66=>_0x6153c9(0x9bb)+_0x5dde66[_0x6153c9(0x743)]+_0x6153c9(0x55f)+_0x5dde66[_0x6153c9(0x936)]+_0x6153c9(0x844))[_0x6153c9(0x6b7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x487009[_0x6153c9(0x53f)][_0x6153c9(0x98d)](_0x553ce9),_0x487009[_0x6153c9(0x53f)][_0x6153c9(0x2b2)](),_0x487009[_0x6153c9(0x886)]=function(){setTimeout(()=>{const _0x3092b3=_0x4938;_0x487009[_0x3092b3(0x88d)]();},0x3e8);};}async function handleAiFixFormula(_0x512306){const _0x132920=_0x3ac816,_0x555074=document[_0x132920(0x46d)]('.question-editor-item[data-q-index=\x22'+_0x512306+'\x22]');if(!_0x555074)return;const _0x548b62=_0x555074['dataset']['qType'],_0x75b9ab=_0x555074['querySelector']('.ai-fix-formula-btn');let _0x4c676e={'question':_0x555074[_0x132920(0x46d)]('textarea')[_0x132920(0x3b8)]};switch(_0x548b62){case _0x132920(0x882):_0x4c676e[_0x132920(0x431)]=Array[_0x132920(0x800)](_0x555074['querySelectorAll'](_0x132920(0x6b8)))[_0x132920(0x3f8)](_0x5b4cf=>_0x5b4cf[_0x132920(0x3b8)]);break;case _0x132920(0xa05):_0x4c676e[_0x132920(0x6c0)]=_0x555074[_0x132920(0x46d)](_0x132920(0x804))['value'];break;case _0x132920(0x541):_0x4c676e[_0x132920(0x4bd)]=_0x555074[_0x132920(0x46d)](_0x132920(0x73e))[_0x132920(0x3b8)];break;}_0x75b9ab['innerHTML']=_0x132920(0x8ef),_0x75b9ab[_0x132920(0x370)]=!![];try{const _0x5d2f68=_0x132920(0x8b3)+JSON[_0x132920(0x567)](_0x4c676e)+_0x132920(0x265),_0xb19c99={'type':_0x132920(0x5f8),'properties':{'fixedData':{'type':_0x132920(0x5f8),'properties':{'question':{'type':_0x132920(0x4d0)},'options':{'type':_0x132920(0x8b1),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x132920(0x4d0)}},'required':[_0x132920(0x743)]}},'required':[_0x132920(0x6fa)]},_0x2661b4=await callAnalysisApi(_0x5d2f68,_0xb19c99);if(_0x2661b4&&_0x2661b4[_0x132920(0x6fa)]){const _0x4c78d8=_0x2661b4[_0x132920(0x6fa)];_0x555074[_0x132920(0x46d)](_0x132920(0x3ae))[_0x132920(0x3b8)]=_0x4c78d8[_0x132920(0x743)]||_0x4c676e[_0x132920(0x743)];switch(_0x548b62){case _0x132920(0x882):_0x4c78d8['options']&&_0x4c78d8[_0x132920(0x431)][_0x132920(0x475)]>0x0&&_0x555074[_0x132920(0x8e6)](_0x132920(0x6b8))['forEach']((_0x4458d2,_0x19b0bf)=>{const _0x4517ed=_0x132920;_0x4458d2[_0x4517ed(0x3b8)]=_0x4c78d8[_0x4517ed(0x431)][_0x19b0bf]||_0x4c676e[_0x4517ed(0x431)][_0x19b0bf];});break;case _0x132920(0xa05):_0x555074[_0x132920(0x46d)](_0x132920(0x804))['value']=_0x4c78d8['idealAnswer']||_0x4c676e[_0x132920(0x6c0)];break;case _0x132920(0x541):_0x555074[_0x132920(0x46d)](_0x132920(0x73e))['value']=_0x4c78d8[_0x132920(0x4bd)]||_0x4c676e[_0x132920(0x4bd)];break;}if(_0x4c676e['question']!==_0x4c78d8['question'])try{const _0xe0aee1=collection(db,_0x132920(0xa0c)+appId+_0x132920(0x66b));await addDoc(_0xe0aee1,{'broken':_0x4c676e[_0x132920(0x743)],'fixed':_0x4c78d8[_0x132920(0x743)],'createdAt':serverTimestamp()});}catch(_0x334da5){console[_0x132920(0x2fa)](_0x132920(0x858),_0x334da5);}showMessage(_0x132920(0x91b));}else throw new Error(_0x132920(0x51c));}catch(_0x26b746){console[_0x132920(0x2fa)](_0x132920(0x58e),_0x26b746),showMessage(_0x132920(0x68a));}finally{_0x75b9ab[_0x132920(0x49f)]=_0x132920(0x56c),_0x75b9ab[_0x132920(0x370)]=![];}}async function handleGenerateLessonPlan(_0x4a9c23){const _0x1fbbfd=_0x3ac816;showMessage(_0x1fbbfd(0x437));try{const _0x3e5909=doc(db,_0x1fbbfd(0xa0c)+appId+_0x1fbbfd(0x7a0),_0x4a9c23),_0x3f58e9=await getDoc(_0x3e5909);if(!_0x3f58e9[_0x1fbbfd(0x72f)]())throw new Error(_0x1fbbfd(0x2cb));const _0x26977e={'id':_0x4a9c23,..._0x3f58e9[_0x1fbbfd(0x22a)]()},_0x2bcc3a=collection(db,_0x1fbbfd(0xa0c)+appId+_0x1fbbfd(0x7a0),_0x4a9c23,'submissions'),_0x5d49b7=await getDocs(_0x2bcc3a),_0x2553b9=_0x5d49b7[_0x1fbbfd(0x336)][_0x1fbbfd(0x3f8)](_0x1e08e2=>_0x1e08e2[_0x1fbbfd(0x22a)]());if(_0x2553b9[_0x1fbbfd(0x475)]===0x0)throw new Error(_0x1fbbfd(0x496));const _0x10f458=calculateItemAnalysis(_0x26977e,_0x2553b9)[_0x1fbbfd(0x957)],_0x39a9fd=calculateDistractorAnalysis(_0x26977e,_0x2553b9),_0x3b51b7=_0x40adc1=>{const _0x5d5435=_0x1fbbfd;if(!_0x40adc1)return'';return _0x40adc1[_0x5d5435(0x2f9)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x5d5435(0x2f9)](/\n/g,'\x5cn');};let _0x29cb3a=_0x1fbbfd(0x55b);_0x26977e[_0x1fbbfd(0x2c3)]['forEach']((_0xf0df7a,_0x1390ed)=>{const _0x2e02f6=_0x1fbbfd,_0x5bff00=_0x10f458[_0x1390ed]?.['p'][_0x2e02f6(0x4af)](0x2)||_0x2e02f6(0x1f7),_0x474ea4=_0x10f458[_0x1390ed]?.['r'][_0x2e02f6(0x4af)](0x2)||'N/A',_0x2094f0=_0x3b51b7(_0xf0df7a['questionText']||_0xf0df7a[_0x2e02f6(0x799)]);_0x29cb3a+='-\x20ข้อ\x20'+(_0x1390ed+0x1)+_0x2e02f6(0x98b)+_0x5bff00+',\x20r='+_0x474ea4+'):\x20'+_0x2094f0+'\x5cn';if(_0xf0df7a[_0x2e02f6(0x7bf)]===_0x2e02f6(0x882)&&_0x39a9fd[_0x1390ed]){const _0x503f0e=_0x39a9fd[_0x1390ed],_0xd01d12=Object[_0x2e02f6(0x4e0)](_0x503f0e)['filter'](_0x5c803f=>parseInt(_0x5c803f)!==_0xf0df7a[_0x2e02f6(0x825)])[_0x2e02f6(0x9a5)]((_0x28cd46,_0x5b9e6b)=>_0x503f0e[_0x5b9e6b][_0x2e02f6(0x5d2)]-_0x503f0e[_0x28cd46][_0x2e02f6(0x5d2)])[0x0];if(_0xd01d12&&_0x503f0e[_0xd01d12]['total']>0x0){const _0x5efeb3=_0x3b51b7(_0x503f0e[_0xd01d12][_0x2e02f6(0x453)]);_0x29cb3a+=_0x2e02f6(0x433)+_0x5efeb3+'\x22\x5cn';}}});const _0xd2489b=_0x1fbbfd(0x87c)+_0x26977e[_0x1fbbfd(0x633)]+_0x1fbbfd(0x9a2)+_0x29cb3a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x339093={'type':_0x1fbbfd(0x5f8),'properties':{'learningGaps':{'type':_0x1fbbfd(0x8b1),'items':{'type':'STRING'}},'teachingContent':{'type':_0x1fbbfd(0x4d0)},'practiceProblems':{'type':_0x1fbbfd(0x8b1),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x1fbbfd(0x668),_0x1fbbfd(0x44d),_0x1fbbfd(0x2c8)]},_0x55bb0d=await callAnalysisApi(_0xd2489b,_0x339093);await updateDoc(_0x3e5909,{'lessonPlan':_0x55bb0d});const _0x412c27=_0x1fbbfd(0x3fa)+_0x26977e[_0x1fbbfd(0x633)]+_0x1fbbfd(0x883)+_0x55bb0d['learningGaps']['map'](_0x15b3c8=>'<li>'+_0x15b3c8+_0x1fbbfd(0x6d1))[_0x1fbbfd(0x6b7)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x55bb0d[_0x1fbbfd(0x44d)]+_0x1fbbfd(0x3c5)+_0x55bb0d[_0x1fbbfd(0x2c8)][_0x1fbbfd(0x3f8)](_0xe1c58b=>_0x1fbbfd(0x9d4)+_0xe1c58b['question']+_0x1fbbfd(0x8cd)+_0xe1c58b[_0x1fbbfd(0x936)]+'</p></div>')[_0x1fbbfd(0x6b7)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x1fbbfd(0xa1e)](_0x1fbbfd(0x8d3))[_0x1fbbfd(0x32e)]=_0x1fbbfd(0x61c)+_0x26977e[_0x1fbbfd(0x633)],document[_0x1fbbfd(0xa1e)](_0x1fbbfd(0x7e2))[_0x1fbbfd(0x49f)]=_0x412c27,document['getElementById'](_0x1fbbfd(0x3af))[_0x1fbbfd(0x6d9)][_0x1fbbfd(0x309)](_0x1fbbfd(0x8da));if(window[_0x1fbbfd(0x60a)])MathJax[_0x1fbbfd(0x59b)]();messageModal['classList']['add'](_0x1fbbfd(0x8da));}catch(_0x5b7cf6){console[_0x1fbbfd(0x2fa)]('Error\x20generating\x20lesson\x20plan:',_0x5b7cf6),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5b7cf6['message']);}}async function handleDuplicateQuiz(_0x5e766f){const _0x27a5fc=_0x3ac816;try{const _0x11ddfe=doc(db,_0x27a5fc(0xa0c)+appId+'/public/data/quizzes',_0x5e766f),_0x5ccc28=await getDoc(_0x11ddfe);if(_0x5ccc28[_0x27a5fc(0x72f)]()){const _0x51d43f=_0x5ccc28['data']();let _0x62ff21='',_0x57942a=_0x27a5fc(0x75f),_0x240732=null;if(_0x51d43f[_0x27a5fc(0x4a1)]===_0x27a5fc(0x467)){let _0x218c2c=_0x51d43f['topic'][_0x27a5fc(0x2f9)](_0x27a5fc(0x6d7),'')[_0x27a5fc(0x855)]();_0x62ff21=_0x27a5fc(0x6e2)+_0x218c2c,_0x57942a=_0x27a5fc(0x6f8),_0x240732=_0x5e766f;}else _0x62ff21='(คัดลอก)\x20'+_0x51d43f[_0x27a5fc(0x633)];const _0x533687={..._0x51d43f,'topic':_0x62ff21,'createdAt':new Date()['toISOString'](),'quizMode':_0x57942a,'pairedQuizId':_0x240732};let _0x7ee609;while(!![]){_0x7ee609=Math[_0x27a5fc(0x2f8)](0x3e8+Math[_0x27a5fc(0x5ff)]()*0x2328)[_0x27a5fc(0x697)]();const _0x409fec=await getDoc(doc(db,_0x27a5fc(0xa0c)+appId+'/public/data/quizzes',_0x7ee609));if(!_0x409fec['exists']())break;}const _0x3dfffe=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x7ee609);await setDoc(_0x3dfffe,_0x533687),_0x533687['quizMode']===_0x27a5fc(0x6f8)&&await updateDoc(_0x11ddfe,{'pairedQuizId':_0x7ee609}),showMessage(_0x27a5fc(0x6ef));}else throw new Error(_0x27a5fc(0x910));}catch(_0xc2ba14){console['error']('Error\x20duplicating\x20quiz:',_0xc2ba14),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x1a6e83,_0x5cd571=!![]){const _0x18eb19=_0x3ac816;try{const _0xaa3ba=writeBatch(db),_0x41a6a7=collection(db,_0x18eb19(0xa0c)+appId+_0x18eb19(0x630)+_0x1a6e83+_0x18eb19(0x50f)),_0x30d8a6=await getDocs(_0x41a6a7);_0x30d8a6['forEach'](_0x5a3aa1=>{const _0x2c0eaa=_0x18eb19;_0xaa3ba[_0x2c0eaa(0x695)](doc(_0x41a6a7,_0x5a3aa1['id']));});const _0x22e26f=doc(db,'artifacts/'+appId+_0x18eb19(0x7a0),_0x1a6e83);_0xaa3ba[_0x18eb19(0x695)](_0x22e26f),await _0xaa3ba[_0x18eb19(0x243)](),_0x5cd571&&showMessage(_0x18eb19(0x7cb));}catch(_0x2d1f08){console[_0x18eb19(0x2fa)]('Error\x20deleting\x20quiz:',_0x2d1f08),_0x5cd571&&showMessage(_0x18eb19(0x71c));}}async function showQuizDetailView(_0x29779d){const _0x3106e6=_0x3ac816;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3106e6(0x840));try{const _0x1657ef=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x29779d),_0x582ee1=await getDoc(_0x1657ef);if(!_0x582ee1[_0x3106e6(0x72f)]()){showMessage(_0x3106e6(0x2cb));return;}const _0x2d67ed={'id':_0x582ee1['id'],..._0x582ee1['data']()};currentQuizData=_0x2d67ed;const _0xc84104=doc(db,_0x3106e6(0xa0c)+appId+_0x3106e6(0x6de),_0x2d67ed[_0x3106e6(0x6f3)]),_0xb96b31=await getDoc(_0xc84104);_0xb96b31[_0x3106e6(0x72f)]()?(currentProjectData=_0xb96b31[_0x3106e6(0x22a)](),currentProjectId=_0x2d67ed[_0x3106e6(0x6f3)]):(currentProjectData={'students':[]},currentProjectId=_0x2d67ed[_0x3106e6(0x6f3)]);document['getElementById'](_0x3106e6(0x9ba))[_0x3106e6(0x32e)]=_0x2d67ed[_0x3106e6(0x633)],document[_0x3106e6(0xa1e)](_0x3106e6(0x2f7))['textContent']=_0x29779d;const _0x51f3f9=collection(db,_0x3106e6(0xa0c)+appId+_0x3106e6(0x7a0),_0x29779d,_0x3106e6(0x5de));unsubscribeSubmissionsListener=onSnapshot(_0x51f3f9,_0x517143=>{const _0x1e2071=_0x3106e6,_0x4bb00b=_0x517143['docs']['map'](_0x40af8b=>({'id':_0x40af8b['id'],..._0x40af8b[_0x1e2071(0x22a)]()}));currentSubmissions=_0x4bb00b;const _0x66302e=_0x4bb00b[_0x1e2071(0x417)](_0x5b2387=>_0x5b2387[_0x1e2071(0x67a)]&&_0x5b2387[_0x1e2071(0x67a)][_0x1e2071(0x475)]>0x0);renderBehaviorLog(_0x4bb00b),renderAnswerGrid(currentProjectData[_0x1e2071(0x4b9)],_0x66302e,_0x2d67ed),renderAnalytics(_0x2d67ed,_0x66302e),renderQuizResultsTable(currentProjectData['students'],_0x4bb00b,_0x2d67ed),renderQuizLeaderboard(_0x66302e,_0x2d67ed,_0x1e2071(0x634));}),showView(_0x3106e6(0x9b6));}catch(_0x2de6e6){console[_0x3106e6(0x2fa)](_0x3106e6(0x234),_0x2de6e6),showMessage(_0x3106e6(0x7c2));}}function renderAnswerGrid(_0xa660f4,_0x3c4f62,_0x5f0114){const _0x399568=_0x3ac816,_0x8628b2=document[_0x399568(0xa1e)](_0x399568(0x49a));if(!_0x8628b2)return;if(!_0xa660f4||_0xa660f4[_0x399568(0x475)]===0x0){_0x8628b2['innerHTML']=_0x399568(0x4ad);return;}const _0x4b3cf4=_0x5f0114[_0x399568(0x2c3)],_0x33e6af=_0x3c4f62[_0x399568(0x67f)]((_0x259bdb,_0x167af9)=>{return _0x259bdb[_0x167af9['studentName']]=_0x167af9,_0x259bdb;},{}),_0x430464=_0x1a33b9=>String[_0x399568(0x8e0)](0x41+_0x1a33b9),_0x50c656=_0x584800=>{const _0x195c31=_0x399568,_0x4eb1ee=_0x584800['questionType']||_0x5f0114[_0x195c31(0x41e)];switch(_0x4eb1ee){case'multiple_choice':return _0x584800[_0x195c31(0x431)]&&_0x584800[_0x195c31(0x431)][_0x195c31(0x475)]>_0x584800[_0x195c31(0x825)]?_0x430464(_0x584800[_0x195c31(0x825)]):'-';case _0x195c31(0x8f5):return _0x584800[_0x195c31(0x8db)]?_0x195c31(0x2ba):_0x195c31(0x641);case _0x195c31(0x541):return _0x584800[_0x195c31(0x4bd)]||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x285b3c=(_0x5a0c0d,_0x387b64)=>{const _0x482450=_0x399568;if(_0x387b64[_0x482450(0x337)]===null||_0x387b64[_0x482450(0x337)]===undefined)return'-';const _0x493e55=_0x5a0c0d[_0x482450(0x7bf)]||_0x5f0114[_0x482450(0x41e)];switch(_0x493e55){case'multiple_choice':const _0x298cba=_0x5a0c0d['options'][_0x482450(0xa43)](_0xb94ca4=>_0xb94ca4===_0x387b64['answerText']);return _0x298cba!==-0x1?_0x430464(_0x298cba):_0x387b64[_0x482450(0x94b)]||'-';case _0x482450(0x8f5):return _0x387b64[_0x482450(0x337)]===_0x482450(0x70f)||_0x387b64[_0x482450(0x337)]===!![]?_0x482450(0x2ba):_0x482450(0x641);default:return _0x387b64[_0x482450(0x337)];}};let _0x3b416f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b3cf4['map']((_0x2189b0,_0x17d903)=>_0x399568(0x533)+(_0x17d903+0x1)+_0x399568(0x93c))[_0x399568(0x6b7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b3cf4[_0x399568(0x3f8)](_0x40869b=>_0x399568(0x6bb)+_0x50c656(_0x40869b)+_0x399568(0x7f2))[_0x399568(0x6b7)]('')+_0x399568(0x906);_0xa660f4[_0x399568(0x568)](_0x318d94=>{const _0x31d2ff=_0x399568;_0x3b416f+=_0x31d2ff(0x53e),_0x3b416f+=_0x31d2ff(0x290)+_0x318d94+_0x31d2ff(0x7f2);const _0x13dac1=_0x33e6af[_0x318d94];if(_0x13dac1){const _0x47e22a=_0x13dac1['attempts'][_0x13dac1['attempts'][_0x31d2ff(0x475)]-0x1];_0x4b3cf4['forEach']((_0x7de271,_0x6f0207)=>{const _0x6d7cac=_0x31d2ff,_0x220c65=_0x47e22a[_0x6d7cac(0x1fe)][_0x6d7cac(0x3a9)](_0x3c2a18=>_0x3c2a18[_0x6d7cac(0x66e)]===(_0x7de271['stem']||_0x7de271[_0x6d7cac(0x414)]));if(_0x220c65){let _0x5396c3=![];const _0x56e6a4=_0x7de271['questionType']||_0x5f0114[_0x6d7cac(0x41e)];if(_0x220c65[_0x6d7cac(0x337)]!==null&&_0x220c65[_0x6d7cac(0x337)]!==undefined)switch(_0x56e6a4){case _0x6d7cac(0x882):const _0x38b533=_0x7de271['options'][_0x7de271[_0x6d7cac(0x825)]];_0x5396c3=_0x220c65['answerText']===_0x38b533;break;case _0x6d7cac(0x8f5):const _0xb1f3b1=_0x220c65[_0x6d7cac(0x337)]===!![]||_0x220c65[_0x6d7cac(0x337)]===_0x6d7cac(0x70f);_0x5396c3=_0xb1f3b1===_0x7de271[_0x6d7cac(0x8db)];break;case _0x6d7cac(0x541):_0x5396c3=_0x220c65['answer']===_0x7de271[_0x6d7cac(0x4bd)];break;default:_0x5396c3=_0x220c65[_0x6d7cac(0x594)];break;}const _0x41551c=_0x5396c3?_0x6d7cac(0x3fe):_0x6d7cac(0x423);_0x3b416f+=_0x6d7cac(0x9b1)+_0x41551c+'\x22>'+_0x285b3c(_0x7de271,_0x220c65)+_0x6d7cac(0x7f2);}else _0x3b416f+=_0x6d7cac(0x788);});}else _0x3b416f+=_0x4b3cf4['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x31d2ff(0x6b7)]('');_0x3b416f+=_0x31d2ff(0x28c);}),_0x3b416f+=_0x399568(0x418),_0x8628b2[_0x399568(0x49f)]=_0x3b416f;}function renderQuizResultsTable(_0x5a8641,_0x1df13b,_0x190b20){const _0x5ef02f=_0x3ac816,_0x23b4bc=_0x1df13b[_0x5ef02f(0x67f)]((_0x3363a2,_0x21644b)=>{const _0x24921a=_0x5ef02f;return _0x3363a2[_0x21644b[_0x24921a(0x660)]]=_0x21644b,_0x3363a2;},{}),_0x1db02b=document[_0x5ef02f(0x46d)](_0x5ef02f(0x608));_0x1db02b&&!_0x1db02b[_0x5ef02f(0x49f)]['includes']('จัดการ')&&(_0x1db02b[_0x5ef02f(0x49f)]+=_0x5ef02f(0x3f0));const _0x5bfc28=document[_0x5ef02f(0xa1e)](_0x5ef02f(0x9b9));if(!_0x5a8641||_0x5a8641[_0x5ef02f(0x475)]===0x0){_0x5bfc28['innerHTML']=_0x5ef02f(0x3aa);return;}const _0x99fc66=_0x190b20['isRemedial']===!![],_0x305af5=_0x190b20[_0x5ef02f(0x419)]?.[_0x5ef02f(0x231)]??-0x1;let _0x57d37e='';_0x5a8641[_0x5ef02f(0x568)](_0x3a9ae7=>{const _0x15c6dc=_0x5ef02f,_0x236755=_0x23b4bc[_0x3a9ae7];let _0x62e076=_0x15c6dc(0x2be)+(_0x99fc66?_0x15c6dc(0x488):_0x15c6dc(0x22d))+'\x22>'+(_0x99fc66?'สอบซ่อม':_0x15c6dc(0x3cd))+_0x15c6dc(0x302);if(_0x236755){if(_0x236755['attempts']&&_0x236755[_0x15c6dc(0x67a)][_0x15c6dc(0x475)]>0x0){let _0x444bc6=_0x99fc66?_0x236755[_0x15c6dc(0x487)]===_0x236755[_0x15c6dc(0x3cc)]:_0x305af5!==-0x1&&_0x236755[_0x15c6dc(0x487)]>=_0x305af5;const _0x580e5e=_0x444bc6?_0x15c6dc(0x239):_0x15c6dc(0x405),_0x10de53=_0x444bc6?'ผ่าน':_0x15c6dc(0x81a),_0x1c9a38='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x580e5e+'\x22>'+_0x10de53+_0x15c6dc(0x302),_0x5aaa94=_0x15c6dc(0x3cb)+(_0x236755['attempts']?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x57d37e+=_0x15c6dc(0x393)+_0x3a9ae7+_0x15c6dc(0x99b)+_0x236755[_0x15c6dc(0x487)]+_0x15c6dc(0x3f3)+_0x236755[_0x15c6dc(0x3cc)]+_0x15c6dc(0x1f6)+_0x1c9a38+_0x15c6dc(0x7af)+_0x62e076+_0x15c6dc(0x4f6)+_0x236755['firstScore']+_0x15c6dc(0x3f3)+_0x236755[_0x15c6dc(0x3cc)]+_0x15c6dc(0x717)+_0x236755[_0x15c6dc(0x4b2)]+'\x20/\x20'+_0x236755[_0x15c6dc(0x3cc)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x236755['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5aaa94+_0x15c6dc(0x30b)+new Date(_0x236755[_0x15c6dc(0x5b7)])['toLocaleString'](_0x15c6dc(0x97e))+_0x15c6dc(0x65e)+_0x3a9ae7+_0x15c6dc(0x6fb);}else{const _0x113aaf=_0x15c6dc(0x698);_0x57d37e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3a9ae7+_0x15c6dc(0x3e9)+_0x62e076+_0x15c6dc(0x424)+_0x113aaf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x236755[_0x15c6dc(0x7fa)])[_0x15c6dc(0x39e)](_0x15c6dc(0x97e))+_0x15c6dc(0x8be)+_0x3a9ae7+_0x15c6dc(0x6fb);}}else{const _0x3321c0='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x57d37e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3a9ae7+_0x15c6dc(0x6d4)+_0x62e076+_0x15c6dc(0x807)+_0x3321c0+_0x15c6dc(0x836);}}),_0x5bfc28[_0x5ef02f(0x49f)]=_0x57d37e;}async function confirmRenameQuiz(){const _0x10f46d=_0x3ac816,_0x3b4c4b=document[_0x10f46d(0xa1e)]('rename-quiz-input')[_0x10f46d(0x3b8)][_0x10f46d(0x855)]();if(!_0x3b4c4b){showMessage(_0x10f46d(0x5ad));return;}if(!actionTargetId)return;const _0xc35f26=doc(db,_0x10f46d(0xa0c)+appId+_0x10f46d(0x7a0),actionTargetId);try{await updateDoc(_0xc35f26,{'topic':_0x3b4c4b}),showMessage(_0x10f46d(0x787)),renameQuizModal[_0x10f46d(0x6d9)][_0x10f46d(0x992)](_0x10f46d(0x8da)),actionTargetId=null;}catch(_0x59adba){console[_0x10f46d(0x2fa)](_0x10f46d(0x7a5),_0x59adba),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x14b9f3){const _0x202e89=_0x3ac816;actionTargetId=_0x14b9f3;const _0x196828=document[_0x202e89(0xa1e)](_0x202e89(0x8bf));_0x196828[_0x202e89(0x49f)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x202e89(0x6d9)]['remove'](_0x202e89(0x8da));try{const _0x28bf9b=collection(db,_0x202e89(0xa0c)+appId+_0x202e89(0x6de)),_0x26ea3=await getDocs(_0x28bf9b),_0x28bf64=_0x26ea3[_0x202e89(0x336)][_0x202e89(0x3f8)](_0x417c58=>({'id':_0x417c58['id'],..._0x417c58[_0x202e89(0x22a)]()})),_0x2b2383=_0x28bf64[_0x202e89(0x417)](_0x461915=>_0x461915['id']!==currentProjectId);if(_0x2b2383[_0x202e89(0x475)]===0x0){_0x196828['innerHTML']=_0x202e89(0x306),document[_0x202e89(0xa1e)](_0x202e89(0x2d3))['disabled']=!![];return;}_0x196828[_0x202e89(0x49f)]=_0x2b2383[_0x202e89(0x3f8)](_0x32dcd6=>'<option\x20value=\x22'+_0x32dcd6['id']+'\x22>'+_0x32dcd6['projectName']+_0x202e89(0xa08))['join'](''),document['getElementById']('confirm-move-quiz-btn')[_0x202e89(0x370)]=![];}catch(_0x140b57){console['error'](_0x202e89(0x6ea),_0x140b57),showMessage(_0x202e89(0x6c5)),moveQuizModal[_0x202e89(0x6d9)][_0x202e89(0x992)](_0x202e89(0x8da));}}async function confirmMoveQuiz(){const _0x51d021=_0x3ac816,_0x4fde18=document[_0x51d021(0xa1e)](_0x51d021(0x8bf))[_0x51d021(0x3b8)];if(!_0x4fde18){showMessage(_0x51d021(0x277));return;}if(!actionTargetId)return;const _0x224069=doc(db,_0x51d021(0xa0c)+appId+_0x51d021(0x7a0),actionTargetId);try{await updateDoc(_0x224069,{'projectId':_0x4fde18}),showMessage(_0x51d021(0x1fd)),moveQuizModal[_0x51d021(0x6d9)][_0x51d021(0x992)](_0x51d021(0x8da)),actionTargetId=null;}catch(_0x52f0c8){console['error'](_0x51d021(0x757),_0x52f0c8),showMessage(_0x51d021(0x442));}}async function handleQuizSettings(_0x24a4e5){const _0xadd8df=_0x3ac816;actionTargetId=_0x24a4e5;const _0x4946ef=doc(db,_0xadd8df(0xa0c)+appId+_0xadd8df(0x7a0),_0x24a4e5);try{const _0x73374e=await getDoc(_0x4946ef);if(_0x73374e[_0xadd8df(0x72f)]()){const _0x385586=_0x73374e[_0xadd8df(0x22a)](),_0x710b73=_0x385586['settings']||{},_0x3627af=_0x385586['questions'][_0xadd8df(0x475)];document[_0xadd8df(0xa1e)](_0xadd8df(0x7f3))['value']=_0x710b73[_0xadd8df(0x538)]||_0xadd8df(0x75a),document[_0xadd8df(0xa1e)](_0xadd8df(0x842))['value']=_0x710b73[_0xadd8df(0x9b3)]||_0xadd8df(0x3c0),document[_0xadd8df(0xa1e)]('modal-timer-mode-select')[_0xadd8df(0x3b8)]=_0x710b73[_0xadd8df(0x3ef)]||_0xadd8df(0x75a),document[_0xadd8df(0xa1e)](_0xadd8df(0x772))['value']=_0x710b73[_0xadd8df(0x690)]||0xa,document[_0xadd8df(0xa1e)](_0xadd8df(0x70d))['value']=_0x710b73[_0xadd8df(0x231)]||Math[_0xadd8df(0x2f8)](_0x3627af/0x2),document[_0xadd8df(0xa1e)]('modal-passing-score-input')['max']=_0x3627af,document['getElementById'](_0xadd8df(0x7d9))[_0xadd8df(0x33d)]=_0x710b73[_0xadd8df(0x2d9)]||![],document['getElementById'](_0xadd8df(0x448))[_0xadd8df(0x33d)]=_0x710b73[_0xadd8df(0x46f)]||![],document[_0xadd8df(0xa1e)](_0xadd8df(0x3d3))['dispatchEvent'](new Event(_0xadd8df(0x96a))),quizSettingsModal[_0xadd8df(0x6d9)][_0xadd8df(0x309)](_0xadd8df(0x8da));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x226374){console[_0xadd8df(0x2fa)]('Error\x20fetching\x20quiz\x20settings:',_0x226374),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x2cae38=_0x3ac816;if(!actionTargetId)return;const _0x595910=doc(db,_0x2cae38(0xa0c)+appId+'/public/data/quizzes',actionTargetId),_0x54a765={'shuffle':document[_0x2cae38(0xa1e)](_0x2cae38(0x7f3))[_0x2cae38(0x3b8)],'resultsDisplay':document['getElementById'](_0x2cae38(0x842))[_0x2cae38(0x3b8)],'timerMode':document[_0x2cae38(0xa1e)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0x2cae38(0xa1e)]('modal-timer-duration-input')[_0x2cae38(0x3b8)])||0xa,'passingScore':parseInt(document['getElementById'](_0x2cae38(0x70d))['value'])||0x0,'passingScore':parseInt(document['getElementById'](_0x2cae38(0x70d))['value'])||0x0,'isAdaptive':document[_0x2cae38(0xa1e)](_0x2cae38(0x7d9))[_0x2cae38(0x33d)],'loopUntilPass':document[_0x2cae38(0xa1e)](_0x2cae38(0x448))['checked']};try{await updateDoc(_0x595910,{'settings':_0x54a765}),showMessage(_0x2cae38(0x7c7)),quizSettingsModal[_0x2cae38(0x6d9)][_0x2cae38(0x992)]('hidden'),actionTargetId=null;}catch(_0x3c9638){console['error'](_0x2cae38(0x5cc),_0x3c9638),showMessage(_0x2cae38(0x539));}}async function handleQuizStatus(_0x336ae9){const _0x143c7f=_0x3ac816;actionTargetId=_0x336ae9;const _0x497c55=doc(db,'artifacts/'+appId+_0x143c7f(0x7a0),_0x336ae9);try{const _0xec333d=await getDoc(_0x497c55);if(_0xec333d[_0x143c7f(0x72f)]()){const _0x24b57d=_0xec333d[_0x143c7f(0x22a)](),_0x10b5c9=_0x24b57d[_0x143c7f(0x93b)]||_0x143c7f(0x745),_0x57421c=document[_0x143c7f(0xa1e)](_0x143c7f(0x94a)),_0x23f6ac=document['getElementById'](_0x143c7f(0x329)),_0x15b57f=document[_0x143c7f(0xa1e)](_0x143c7f(0x7f8));let _0x284e30=_0x143c7f(0x932)+(_0x10b5c9===_0x143c7f(0x745)?'checked':'')+_0x143c7f(0x9b7)+(_0x10b5c9===_0x143c7f(0x489)?'checked':'')+_0x143c7f(0x48d)+(_0x10b5c9===_0x143c7f(0x240)?_0x143c7f(0x33d):'')+_0x143c7f(0x258);_0x57421c[_0x143c7f(0x49f)]=_0x284e30;const _0x548829=_0x10b5c9===_0x143c7f(0x240);_0x23f6ac[_0x143c7f(0x6d9)][_0x143c7f(0x31f)](_0x143c7f(0x8da),!_0x548829),_0x15b57f['classList'][_0x143c7f(0x31f)](_0x143c7f(0x8da),!_0x548829),document['getElementById']('quiz-start-time')[_0x143c7f(0x3b8)]=_0x24b57d[_0x143c7f(0x974)]?_0x24b57d[_0x143c7f(0x974)]['substring'](0x0,0x10):'',document['getElementById'](_0x143c7f(0x4c9))['value']=_0x24b57d[_0x143c7f(0x7c9)]?_0x24b57d[_0x143c7f(0x7c9)][_0x143c7f(0x45a)](0x0,0x10):'',_0x57421c[_0x143c7f(0x8e6)](_0x143c7f(0x73f))[_0x143c7f(0x568)](_0x29d016=>{const _0x2933a0=_0x143c7f;_0x29d016['addEventListener'](_0x2933a0(0x96a),_0xc5280a=>{const _0x51a431=_0x2933a0,_0x36dc22=_0xc5280a[_0x51a431(0x2da)][_0x51a431(0x3b8)]===_0x51a431(0xa31);_0x23f6ac[_0x51a431(0x6d9)][_0x51a431(0x31f)](_0x51a431(0x8da),!_0x36dc22),_0x15b57f['classList'][_0x51a431(0x31f)](_0x51a431(0x8da),!_0x36dc22);});}),quizStatusModal['classList'][_0x143c7f(0x309)](_0x143c7f(0x8da));}}catch(_0x3b18d1){console['error'](_0x143c7f(0x904),_0x3b18d1),showMessage(_0x143c7f(0x98e));}}async function confirmQuizStatus(){const _0x5cc252=_0x3ac816;if(!actionTargetId)return;const _0x3c46bf=doc(db,_0x5cc252(0xa0c)+appId+_0x5cc252(0x7a0),actionTargetId),_0x28454d=document[_0x5cc252(0x46d)](_0x5cc252(0x52a));if(!_0x28454d){showMessage('กรุณาเลือกสถานะ');return;}const _0x3f6312=_0x28454d['value'];let _0x4b4783={};if(_0x3f6312===_0x5cc252(0x745)||_0x3f6312===_0x5cc252(0x489))_0x4b4783={'status':_0x3f6312,'startTime':null,'endTime':null};else{if(_0x3f6312===_0x5cc252(0xa31)){const _0x375b7b=document[_0x5cc252(0xa1e)](_0x5cc252(0x672))[_0x5cc252(0x3b8)],_0x11fad0=document[_0x5cc252(0xa1e)](_0x5cc252(0x4c9))['value'];if(!_0x375b7b&&!_0x11fad0){showMessage(_0x5cc252(0x9a1));return;}_0x4b4783={'status':'scheduled','startTime':_0x375b7b?new Date(_0x375b7b)[_0x5cc252(0x490)]():null,'endTime':_0x11fad0?new Date(_0x11fad0)[_0x5cc252(0x490)]():null};}}try{await updateDoc(_0x3c46bf,_0x4b4783),showMessage(_0x5cc252(0x805)),quizStatusModal[_0x5cc252(0x6d9)][_0x5cc252(0x992)](_0x5cc252(0x8da)),actionTargetId=null;}catch(_0x14e4fa){console[_0x5cc252(0x2fa)]('Error\x20updating\x20quiz\x20status:',_0x14e4fa),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x2d6221){const _0x3024ae=_0x3ac816,_0x51f8a1=collection(db,_0x3024ae(0xa0c)+appId+_0x3024ae(0x501)+_0x2d6221+_0x3024ae(0x2d8));unsubscribeStudentProfilesListener=onSnapshot(_0x51f8a1,_0x5709e1=>{const _0x247429=_0x3024ae,_0x1a3d99=_0x5709e1[_0x247429(0x336)][_0x247429(0x3f8)](_0x1f03b3=>_0x1f03b3['data']());renderLeaderboard(_0x1a3d99,_0x247429(0x71b));},_0x479f18=>{const _0x39776f=_0x3024ae;console[_0x39776f(0x2fa)]('Error\x20listening\x20for\x20student\x20profiles:',_0x479f18),document[_0x39776f(0xa1e)](_0x39776f(0x71b))[_0x39776f(0x49f)]=_0x39776f(0x6b9);});}function renderLeaderboard(_0x225858,_0x160c0a){const _0x2ae363=_0x3ac816,_0x581f29=document[_0x2ae363(0xa1e)](_0x160c0a);if(!_0x225858||_0x225858[_0x2ae363(0x475)]===0x0){_0x581f29['innerHTML']=_0x2ae363(0x27b);return;}_0x225858['sort']((_0x4c167d,_0x3fdb95)=>{const _0x18a53=_0x2ae363,_0x1ed171=(_0x3fdb95[_0x18a53(0x89a)]||0x0)-(_0x4c167d[_0x18a53(0x89a)]||0x0);if(_0x1ed171!==0x0)return _0x1ed171;const _0x5acf52=(_0x3fdb95['badgesCount']?.[_0x18a53(0x457)]||0x0)-(_0x4c167d[_0x18a53(0x5ef)]?.['specialist']||0x0);if(_0x5acf52!==0x0)return _0x5acf52;const _0x59e8a8=(_0x3fdb95[_0x18a53(0x5ef)]?.[_0x18a53(0x86d)]||0x0)-(_0x4c167d['badgesCount']?.[_0x18a53(0x86d)]||0x0);if(_0x59e8a8!==0x0)return _0x59e8a8;const _0x421bcf=(_0x3fdb95[_0x18a53(0x5ef)]?.['perfect_score']||0x0)-(_0x4c167d[_0x18a53(0x5ef)]?.[_0x18a53(0x8bd)]||0x0);if(_0x421bcf!==0x0)return _0x421bcf;const _0x18631f=(_0x3fdb95[_0x18a53(0x5ef)]?.[_0x18a53(0x357)]||0x0)-(_0x4c167d[_0x18a53(0x5ef)]?.[_0x18a53(0x357)]||0x0);if(_0x18631f!==0x0)return _0x18631f;return _0x4c167d[_0x18a53(0x660)][_0x18a53(0x820)](_0x3fdb95[_0x18a53(0x660)],'th');});let _0x5e182b='';_0x225858[_0x2ae363(0x568)]((_0x4c7a67,_0x19f95c)=>{const _0x20ffd8=_0x2ae363,_0x17fd07=_0x19f95c+0x1,_0x2e0031=_0x4c7a67[_0x20ffd8(0x5ef)]||{};let _0x3f7c0='';const _0x91d939=[_0x20ffd8(0x457),_0x20ffd8(0x8bd),_0x20ffd8(0x86d),_0x20ffd8(0x357)];_0x91d939['forEach'](_0x5a1c5c=>{const _0x25cd27=_0x20ffd8;if(_0x2e0031[_0x5a1c5c]>0x0){const _0x29d408=Object[_0x25cd27(0x587)](BADGES)['find'](_0x4a1cf1=>_0x4a1cf1['id']===_0x5a1c5c);_0x29d408&&(_0x5a1c5c===_0x25cd27(0x457)?_0x3f7c0+=_0x25cd27(0x38c)+_0x29d408[_0x25cd27(0x6e0)]+_0x25cd27(0x6e3)+_0x29d408[_0x25cd27(0x9a3)]+_0x25cd27(0x328):_0x3f7c0+=_0x25cd27(0x38c)+_0x29d408[_0x25cd27(0x6e0)]+'\x20('+_0x2e0031[_0x5a1c5c]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x29d408[_0x25cd27(0x9a3)]+_0x25cd27(0x5c1)+_0x2e0031[_0x5a1c5c]+_0x25cd27(0x48b));}}),_0x5e182b+=_0x20ffd8(0x76f)+_0x17fd07+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4c7a67[_0x20ffd8(0x660)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x4c7a67[_0x20ffd8(0x89a)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x3f7c0||'-')+_0x20ffd8(0x6af);}),_0x581f29[_0x2ae363(0x49f)]=_0x5e182b;}function displayLoopScreen(_0x29863a,_0x21a9cd,_0x56c69c){const _0x3e2c9a=_0x3ac816;let _0x43fdeb='';_0x56c69c!==_0x3e2c9a(0x4ff)&&(_0x43fdeb=_0x3e2c9a(0x43b)+_0x29863a+'\x20/\x20'+_0x21a9cd+_0x3e2c9a(0x69f));const _0x166d27=_0x3e2c9a(0x98c)+_0x43fdeb+_0x3e2c9a(0x737);studentResultArea[_0x3e2c9a(0x49f)]=_0x166d27,studentResultArea[_0x3e2c9a(0x6d9)][_0x3e2c9a(0x309)](_0x3e2c9a(0x8da)),studentQuizArea['classList'][_0x3e2c9a(0x992)](_0x3e2c9a(0x8da)),document[_0x3e2c9a(0xa1e)](_0x3e2c9a(0x2bf))[_0x3e2c9a(0x84f)]('click',()=>{const _0x3e7c8f=_0x3e2c9a;studentResultArea[_0x3e7c8f(0x6d9)][_0x3e7c8f(0x992)](_0x3e7c8f(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x298b45,_0x342d77,_0x525f8c){const _0x2d1338=_0x3ac816,_0x51daf9=document[_0x2d1338(0xa1e)](_0x525f8c),_0x375312=_0x525f8c===_0x2d1338(0x6e6),_0x5857e3=_0x342d77['questions'][_0x2d1338(0x475)],_0x157e42=document[_0x2d1338(0xa1e)](_0x525f8c)[_0x2d1338(0x310)]('table');if(_0x157e42&&!_0x375312){const _0x35d39b=_0x157e42[_0x2d1338(0x46d)]('thead');_0x35d39b[_0x2d1338(0x49f)]=_0x2d1338(0x813);}if(!_0x298b45||_0x298b45[_0x2d1338(0x475)]===0x0){_0x51daf9[_0x2d1338(0x49f)]=_0x2d1338(0x884)+(_0x375312?0x6:0x8)+_0x2d1338(0x72d);return;}const _0x49d4fd=[..._0x298b45];_0x49d4fd['sort']((_0x11bdb5,_0x4aa5f7)=>{const _0xa41b44=_0x2d1338;let _0x1731ea,_0x1b0033;switch(quizLeaderboardSortBy){case'studentName':_0x1731ea=_0x11bdb5[_0xa41b44(0x660)]||'',_0x1b0033=_0x4aa5f7['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x1731ea[_0xa41b44(0x820)](_0x1b0033,'th'):_0x1b0033['localeCompare'](_0x1731ea,'th');case _0xa41b44(0x2c2):_0x1731ea=_0x11bdb5[_0xa41b44(0x2c2)]||0x0,_0x1b0033=_0x4aa5f7[_0xa41b44(0x2c2)]||0x0;break;case _0xa41b44(0x67a):_0x1731ea=_0x11bdb5[_0xa41b44(0x67a)]?.[_0xa41b44(0x475)]||0x1,_0x1b0033=_0x4aa5f7[_0xa41b44(0x67a)]?.['length']||0x1;break;case _0xa41b44(0x5b7):_0x1731ea=new Date(_0x11bdb5[_0xa41b44(0x5b7)]),_0x1b0033=new Date(_0x4aa5f7['latestSubmittedAt']);break;case _0xa41b44(0x487):default:_0x1731ea=_0x11bdb5[_0xa41b44(0x487)],_0x1b0033=_0x4aa5f7[_0xa41b44(0x487)];break;}if(_0x1731ea<_0x1b0033)return quizLeaderboardSortOrder===_0xa41b44(0x447)?-0x1:0x1;if(_0x1731ea>_0x1b0033)return quizLeaderboardSortOrder===_0xa41b44(0x447)?0x1:-0x1;return 0x0;});const _0x31360a=_0x342d77[_0x2d1338(0x500)]===!![],_0x38d0bc=_0x342d77[_0x2d1338(0x419)]?.[_0x2d1338(0x231)]??-0x1;let _0x6e6523='';_0x49d4fd[_0x2d1338(0x568)]((_0xab2552,_0x1bf49a)=>{const _0x17a894=_0x2d1338,_0x31231c=_0x1bf49a+0x1;let _0x2abb09=_0x17a894(0x438);if(_0x31360a||_0x38d0bc!==-0x1){let _0x4b9453=_0x31360a?_0xab2552[_0x17a894(0x487)]===_0x5857e3:_0xab2552[_0x17a894(0x487)]>=_0x38d0bc;const _0x460f21=_0x4b9453?_0x17a894(0x239):_0x17a894(0x405),_0xfa8002=_0x4b9453?_0x17a894(0x795):_0x17a894(0x81a);_0x2abb09=_0x17a894(0x3e7)+_0x460f21+'\x22>'+_0xfa8002+_0x17a894(0x302);}const _0x55d4d6=_0xab2552[_0x17a894(0x67a)][_0xab2552[_0x17a894(0x67a)][_0x17a894(0x475)]-0x1],_0x231d0a=(_0x55d4d6[_0x17a894(0x84c)]||[])[_0x17a894(0x3f8)](_0x471fd2=>{const _0x681a15=_0x17a894,_0x24f4cd=Object['values'](BADGES)[_0x681a15(0x3a9)](_0x11ba97=>_0x11ba97['id']===_0x471fd2);return _0x24f4cd?_0x681a15(0x387)+_0x24f4cd[_0x681a15(0x6e0)]+_0x681a15(0x558)+_0x24f4cd[_0x681a15(0x9a3)]+_0x681a15(0x5e9):'';})[_0x17a894(0x6b7)]('');_0x6e6523+=_0x17a894(0x714)+_0x31231c+_0x17a894(0x480)+_0xab2552[_0x17a894(0x660)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0xab2552['bestScore']+_0x17a894(0x3f3)+_0x5857e3+_0x17a894(0x278)+_0x2abb09+_0x17a894(0x42d)+(_0xab2552[_0x17a894(0x2c2)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x375312?'':_0x17a894(0xa18)+(_0xab2552[_0x17a894(0x67a)]?.[_0x17a894(0x475)]||0x1)+'</td>')+_0x17a894(0x891)+(_0x375312?'':_0x17a894(0x83d)+new Date(_0xab2552['latestSubmittedAt'])[_0x17a894(0x39e)](_0x17a894(0x97e))+_0x17a894(0x7f2))+_0x17a894(0x2a1)+(_0x231d0a||'-')+_0x17a894(0x7a4);}),_0x51daf9[_0x2d1338(0x49f)]=_0x6e6523,_0x157e42&&!_0x375312&&_0x157e42[_0x2d1338(0x8e6)](_0x2d1338(0x964))['forEach'](_0x50e352=>{const _0x28bbda=_0x2d1338,_0x4048a5=_0x50e352['querySelector'](_0x28bbda(0x27e));if(_0x4048a5)_0x4048a5[_0x28bbda(0x309)]();_0x50e352[_0x28bbda(0x7b1)][_0x28bbda(0x9a5)]===quizLeaderboardSortBy&&(_0x50e352[_0x28bbda(0x49f)]+=_0x28bbda(0x3a8)+(quizLeaderboardSortOrder===_0x28bbda(0x447)?'▲':'▼')+_0x28bbda(0x2bd));});}async function handleDeleteSubmission(_0x24974e){const _0x1c15b3=_0x3ac816;if(!currentQuizData||!currentQuizData['id']||!_0x24974e){showMessage(_0x1c15b3(0x451));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x24974e+_0x1c15b3(0x54b),async()=>{const _0x52d159=_0x1c15b3,_0x300d51=currentQuizData['id'],_0x42d13e=doc(db,_0x52d159(0xa0c)+appId+_0x52d159(0x630)+_0x300d51+_0x52d159(0x50f),_0x24974e);try{await deleteDoc(_0x42d13e),showMessage('ลบผลสอบของ\x20'+_0x24974e+_0x52d159(0x596));}catch(_0x18de0b){console[_0x52d159(0x2fa)](_0x52d159(0x5ca),_0x18de0b),showMessage(_0x52d159(0x51e));}});}async function handleLoadQuiz(){const _0x5ab1f6=_0x3ac816,_0x27e470=document[_0x5ab1f6(0xa1e)](_0x5ab1f6(0x5fb)),_0x4a424a=_0x27e470[_0x5ab1f6(0x3b8)][_0x5ab1f6(0x855)]();if(!_0x4a424a){showMessage(_0x5ab1f6(0x801));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x5ab1f6(0x49f)]=_0x5ab1f6(0x379);try{const _0x56eb27=doc(db,_0x5ab1f6(0xa0c)+appId+_0x5ab1f6(0x7a0),_0x4a424a),_0x5968b2=await getDoc(_0x56eb27);if(!_0x5968b2['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x5968b2['id'],..._0x5968b2[_0x5ab1f6(0x22a)]()};const _0x6d409c=currentQuizData['status']||_0x5ab1f6(0x745),_0x5d0398=new Date();if(_0x6d409c==='inactive'){showMessage(_0x5ab1f6(0x4d4));return;}if(_0x6d409c==='scheduled'){const _0x216bba=currentQuizData[_0x5ab1f6(0x974)]?new Date(currentQuizData[_0x5ab1f6(0x974)]):null,_0x44486b=currentQuizData['endTime']?new Date(currentQuizData[_0x5ab1f6(0x7c9)]):null;if(_0x216bba&&_0x5d0398<_0x216bba){showMessage(_0x5ab1f6(0x689)+_0x216bba[_0x5ab1f6(0x39e)](_0x5ab1f6(0x97e),{'hour12':![]}));return;}if(_0x44486b&&_0x5d0398>_0x44486b){showMessage(_0x5ab1f6(0x434));return;}}const _0x1c31f1=currentQuizData['projectId'];currentProjectId=_0x1c31f1;const _0x546315=doc(db,_0x5ab1f6(0xa0c)+appId+_0x5ab1f6(0x6de),_0x1c31f1),_0xbd7d41=await getDoc(_0x546315);if(!_0xbd7d41['exists']()){showMessage(_0x5ab1f6(0x4bb));return;}const _0x5e913c=_0xbd7d41[_0x5ab1f6(0x22a)]();currentStudentProjectData=_0x5e913c,displayStudentNameSelector(_0x5e913c[_0x5ab1f6(0x4b9)],currentQuizData[_0x5ab1f6(0x633)]);}catch(_0x150b4e){console['error'](_0x5ab1f6(0x23f),_0x150b4e),showMessage(_0x5ab1f6(0x23a));}finally{loadQuizBtn[_0x5ab1f6(0x370)]=![],loadQuizBtn['innerHTML']=_0x5ab1f6(0x956);}}async function handleJoinLiveGame(){const _0x7ec86c=_0x3ac816,_0x1cb6c7=document[_0x7ec86c(0xa1e)](_0x7ec86c(0x359)),_0xf6ca63=document[_0x7ec86c(0xa1e)](_0x7ec86c(0x482)),_0x16e198=document[_0x7ec86c(0xa1e)](_0x7ec86c(0x39b)),_0xcc1550=_0x1cb6c7[_0x7ec86c(0x3b8)][_0x7ec86c(0x855)](),_0x2ac7a4=_0xf6ca63['value'][_0x7ec86c(0x855)]();if(!_0xcc1550||!_0x2ac7a4){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x16e198['disabled']=!![],_0x16e198['innerHTML']=_0x7ec86c(0x546);try{const _0x4d35e3=collection(db,_0x7ec86c(0xa0c)+appId+_0x7ec86c(0x2b7)),_0x559b61=query(_0x4d35e3,where(_0x7ec86c(0x221),'==',_0xcc1550),where(_0x7ec86c(0x93b),'in',['lobby',_0x7ec86c(0x743)])),_0x334a64=await getDocs(_0x559b61);if(_0x334a64[_0x7ec86c(0x914)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x512a21=_0x334a64[_0x7ec86c(0x336)][0x0],_0x11c130=_0x512a21[_0x7ec86c(0x22a)]();currentLiveGameId=_0x512a21['id'];const _0x3af3c1=_0x11c130['quizId'],_0x1d9329=doc(db,_0x7ec86c(0xa0c)+appId+_0x7ec86c(0x7a0),_0x3af3c1),_0x3a64f5=await getDoc(_0x1d9329);if(!_0x3a64f5['exists']()){showMessage(_0x7ec86c(0x3e5));return;}currentQuizData={'id':_0x3a64f5['id'],..._0x3a64f5[_0x7ec86c(0x22a)]()};if(_0x11c130[_0x7ec86c(0x82e)]&&_0x11c130[_0x7ec86c(0x82e)][_0x2ac7a4]){const _0x3efcf1=_0x11c130[_0x7ec86c(0x82e)][_0x2ac7a4];if(_0x3efcf1[_0x7ec86c(0x93b)]===_0x7ec86c(0x489)){_0x16e198[_0x7ec86c(0x49f)]=_0x7ec86c(0x6a6);const _0x5d6add={};_0x5d6add[_0x7ec86c(0x7b5)+_0x2ac7a4+'.status']=_0x7ec86c(0x745),await updateDoc(doc(db,_0x7ec86c(0xa0c)+appId+'/public/data/liveGames',currentLiveGameId),_0x5d6add),showView(_0x7ec86c(0x6d5)),currentStudentName=_0x2ac7a4,listenForLiveGameUpdates();return;}else{showMessage(_0x7ec86c(0x6ba));return;}}if(_0x11c130[_0x7ec86c(0x93b)]!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x16e198[_0x7ec86c(0x49f)]=_0x7ec86c(0x364);const _0x2dbff7={};_0x2dbff7[_0x7ec86c(0x7b5)+_0x2ac7a4]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x7ec86c(0x745)},await updateDoc(doc(db,_0x7ec86c(0xa0c)+appId+'/public/data/liveGames',currentLiveGameId),_0x2dbff7),currentStudentName=_0x2ac7a4,listenForLiveGameUpdates();}catch(_0x36827f){console[_0x7ec86c(0x2fa)]('Error\x20joining\x20live\x20game:',_0x36827f),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x16e198[_0x7ec86c(0x370)]=![],_0x16e198[_0x7ec86c(0x49f)]=_0x7ec86c(0x707);}}function displayStudentNameSelector(_0x388d47,_0x317807){const _0x3150f4=_0x3ac816,_0x44acbc=document['getElementById']('student-name-select');document[_0x3150f4(0xa1e)](_0x3150f4(0x8d8))[_0x3150f4(0x32e)]=_0x3150f4(0x82b)+_0x317807,!_0x388d47||_0x388d47[_0x3150f4(0x475)]===0x0?(_0x44acbc[_0x3150f4(0x49f)]=_0x3150f4(0x9c2),startQuizBtn['disabled']=!![]):(_0x44acbc[_0x3150f4(0x49f)]=_0x3150f4(0x236),_0x388d47[_0x3150f4(0x568)](_0x105065=>{const _0x342b80=_0x3150f4,_0x14942f=document[_0x342b80(0x560)]('option');_0x14942f[_0x342b80(0x3b8)]=_0x105065,_0x14942f[_0x342b80(0x32e)]=_0x105065,_0x44acbc[_0x342b80(0xa21)](_0x14942f);}),startQuizBtn['disabled']=![]),studentInitialView[_0x3150f4(0x6d9)][_0x3150f4(0x992)](_0x3150f4(0x8da)),studentNameSelectionView[_0x3150f4(0x6d9)][_0x3150f4(0x309)](_0x3150f4(0x8da));}function shuffleArray(_0x2eb759){const _0x397f6c=_0x3ac816;for(let _0xee4ea0=_0x2eb759[_0x397f6c(0x475)]-0x1;_0xee4ea0>0x0;_0xee4ea0--){const _0x22e19f=Math[_0x397f6c(0x2f8)](Math[_0x397f6c(0x5ff)]()*(_0xee4ea0+0x1));[_0x2eb759[_0xee4ea0],_0x2eb759[_0x22e19f]]=[_0x2eb759[_0x22e19f],_0x2eb759[_0xee4ea0]];}}function getShuffledQuiz(_0x5a8b4a){const _0x348926=_0x3ac816;let _0x396c40=JSON['parse'](JSON[_0x348926(0x567)](_0x5a8b4a));const _0x25934a=_0x396c40[_0x348926(0x419)]?.[_0x348926(0x538)]||_0x348926(0x75a);if(_0x25934a===_0x348926(0x75a))return _0x396c40;return(_0x25934a===_0x348926(0x396)||_0x25934a===_0x348926(0x2d0))&&shuffleArray(_0x396c40[_0x348926(0x2c3)]),(_0x25934a==='choices_only'||_0x25934a===_0x348926(0x2d0))&&_0x396c40[_0x348926(0x2c3)][_0x348926(0x568)](_0xa3c04b=>{const _0x255881=_0x348926,_0x3d3e01=_0xa3c04b[_0x255881(0x7bf)]||_0x396c40['quizType'];if(_0xa3c04b[_0x255881(0x431)]){let _0x181a15=_0xa3c04b[_0x255881(0x431)][_0x255881(0x3f8)]((_0x35c9bf,_0x5c5cb6)=>({'text':_0x35c9bf,'isCorrect':_0x5c5cb6===_0xa3c04b[_0x255881(0x825)]}));shuffleArray(_0x181a15),_0xa3c04b[_0x255881(0x431)]=_0x181a15[_0x255881(0x3f8)](_0x5056ef=>_0x5056ef[_0x255881(0x453)]),_0xa3c04b[_0x255881(0x825)]=_0x181a15[_0x255881(0xa43)](_0x647a50=>_0x647a50[_0x255881(0x594)]);}_0x3d3e01===_0x255881(0x541)&&_0xa3c04b[_0x255881(0x440)]&&shuffleArray(_0xa3c04b[_0x255881(0x440)]);}),_0x396c40;}function displayQuizForStudent(_0x5a7461){const _0x3a8ac7=_0x3ac816;studentQuizArea['classList'][_0x3a8ac7(0x309)](_0x3a8ac7(0x8da)),currentDisplayedQuiz=getShuffledQuiz(_0x5a7461);currentMode!==_0x3a8ac7(0xa12)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x3a8ac7(0x7ce),handleFullscreenChange),document[_0x3a8ac7(0x84f)](_0x3a8ac7(0x20f),handleVisibilityChange),enterFullscreen(),window[_0x3a8ac7(0x84f)]('mousemove',resetDimTimer),window['addEventListener'](_0x3a8ac7(0xa06),resetDimTimer),window['addEventListener'](_0x3a8ac7(0x675),resetDimTimer),window[_0x3a8ac7(0x84f)]('keydown',resetDimTimer),resetDimTimer());const _0x5c22ea=currentDisplayedQuiz['settings']?.[_0x3a8ac7(0x3ef)]||'none';if(_0x5c22ea===_0x3a8ac7(0x61a))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x3a8ac7(0x419)][_0x3a8ac7(0x690)]);else _0x5c22ea==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x47f8ff=_0x3ac816;let _0xf15893=_0x47f8ff(0x963)+currentDisplayedQuiz[_0x47f8ff(0x633)]+_0x47f8ff(0x601)+(currentMode===_0x47f8ff(0xa12)?_0x47f8ff(0x215):'')+_0x47f8ff(0x797);currentDisplayedQuiz[_0x47f8ff(0x2c3)]['forEach']((_0x472c6a,_0x5a3acd)=>{const _0x29ca40=_0x47f8ff,_0x213746=_0x472c6a[_0x29ca40(0x7bf)]||currentDisplayedQuiz[_0x29ca40(0x41e)];_0xf15893+=_0x29ca40(0x7ba);_0x213746===_0x29ca40(0x541)?_0xf15893+=_0x29ca40(0x4a3)+(_0x5a3acd+0x1)+'.\x20'+_0x472c6a[_0x29ca40(0x799)]+_0x29ca40(0x22e)+_0x5a3acd+_0x29ca40(0x657)+_0x472c6a[_0x29ca40(0x440)]['map'](_0x3b544c=>_0x29ca40(0x286)+_0x3b544c+'\x22>'+_0x3b544c+_0x29ca40(0xa08))[_0x29ca40(0x6b7)]('')+_0x29ca40(0x259):(_0xf15893+=_0x29ca40(0x3c9)+(_0x5a3acd+0x1)+'.\x20'+(_0x472c6a[_0x29ca40(0x4ce)]||_0x472c6a[_0x29ca40(0x414)])+_0x29ca40(0x59f),_0x472c6a[_0x29ca40(0x2fb)]&&(_0xf15893+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x472c6a[_0x29ca40(0x2fb)]+'</div>'));_0xf15893+=_0x29ca40(0x56e);switch(_0x213746){case'short_answer':_0xf15893+=_0x29ca40(0x2cf)+_0x5a3acd+_0x29ca40(0x991);break;case'true_false':_0xf15893+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x5a3acd+'_opt0\x22\x20name=\x22question'+_0x5a3acd+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x5a3acd+_0x29ca40(0x981),_0xf15893+=_0x29ca40(0x7ad)+_0x5a3acd+_0x29ca40(0x3df)+_0x5a3acd+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x5a3acd+_0x29ca40(0x763);break;case _0x29ca40(0x541):break;case'fill_in_the_blank':case'multiple_choice':default:_0xf15893+=_0x472c6a[_0x29ca40(0x431)][_0x29ca40(0x3f8)]((_0x59dc81,_0x15c2bb)=>_0x29ca40(0x5f0)+_0x5a3acd+_0x29ca40(0x765)+_0x15c2bb+'\x22\x20name=\x22question'+_0x5a3acd+_0x29ca40(0x4ac)+_0x15c2bb+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x5a3acd+_0x29ca40(0x765)+_0x15c2bb+'\x22>'+_0x59dc81+_0x29ca40(0x5cb))[_0x29ca40(0x6b7)]('');break;}_0xf15893+=_0x29ca40(0x4c8);}),_0xf15893+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0xf15893+=_0x47f8ff(0xa04),studentQuizArea[_0x47f8ff(0x49f)]=_0xf15893;if(currentMode===_0x47f8ff(0xa12)){const _0x48606b=document[_0x47f8ff(0xa1e)](_0x47f8ff(0x3f7));if(_0x48606b)_0x48606b[_0x47f8ff(0x84f)]('click',cancelAdminTest);}document['getElementById'](_0x47f8ff(0x818))['addEventListener'](_0x47f8ff(0x345),handleSubmitQuiz);if(window[_0x47f8ff(0x60a)])window['MathJax'][_0x47f8ff(0x59b)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2dc8ac){const _0x3f7a3e=_0x3ac816;if(_0x2dc8ac)_0x2dc8ac[_0x3f7a3e(0x209)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x95cddf=document[_0x3f7a3e(0xa1e)](_0x3f7a3e(0x818));if(!_0x95cddf)return;const _0x20764c=_0x95cddf['querySelector']('button[type=\x22submit\x22]'),_0x238aa4=currentDisplayedQuiz[_0x3f7a3e(0x2c3)][_0x3f7a3e(0x632)](_0x17fa22=>_0x17fa22[_0x3f7a3e(0x7bf)]==='short_answer');_0x20764c&&(_0x20764c[_0x3f7a3e(0x370)]=!![],_0x238aa4?_0x20764c[_0x3f7a3e(0x49f)]=_0x3f7a3e(0x767):_0x20764c[_0x3f7a3e(0x49f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x32be7a=new FormData(_0x95cddf),_0x1de647=currentDisplayedQuiz['questions'][_0x3f7a3e(0x3f8)]((_0x44581d,_0x2ed5bb)=>{const _0x529571=_0x3f7a3e,_0x2dcf1b=_0x44581d[_0x529571(0x7bf)]||currentDisplayedQuiz['quizType'],_0xcd56d3=_0x32be7a[_0x529571(0x864)]('question'+_0x2ed5bb);if(_0xcd56d3!==null&&_0xcd56d3!==undefined){if(_0x2dcf1b===_0x529571(0x882)||_0x2dcf1b===_0x529571(0x7b0))return parseInt(_0xcd56d3);return _0xcd56d3;}return null;}),_0x5861fb=currentQuizData['id'],_0x15a360=doc(db,_0x3f7a3e(0xa0c)+appId+_0x3f7a3e(0x630)+_0x5861fb+_0x3f7a3e(0x50f),currentStudentName),_0x52ce2b=await getDoc(_0x15a360),_0x531424=_0x52ce2b[_0x3f7a3e(0x72f)]()?_0x52ce2b[_0x3f7a3e(0x22a)]():{},_0x4211c1=_0x531424['attempts']||[];await processAndSubmitAnswers(_0x1de647,_0x4211c1);}async function gradeShortAnswerWithAI(_0x486bda,_0x221125){const _0x523764=_0x3ac816;if(!_0x486bda||!_0x221125)return![];try{const _0x444725=_0x523764(0x281)+_0x486bda+_0x523764(0x242)+_0x221125+_0x523764(0x78c),_0x27e8b8={'contents':[{'role':'user','parts':[{'text':_0x444725}]}]},_0x443255=_0x523764(0x8bb),_0x3d7327=_0x523764(0x380)+_0x443255,_0x2e1d2f=await fetch(_0x3d7327,{'method':_0x523764(0x25d),'headers':{'Content-Type':'application/json'},'body':JSON[_0x523764(0x567)](_0x27e8b8)});if(!_0x2e1d2f['ok'])throw new Error(_0x523764(0x946));const _0x51f4cd=await _0x2e1d2f[_0x523764(0x4df)](),_0x203650=_0x51f4cd[_0x523764(0x984)][0x0][_0x523764(0x9aa)][_0x523764(0x374)][0x0]['text'][_0x523764(0x855)]()['toLowerCase']();return _0x203650==='true';}catch(_0x3045f4){return console[_0x523764(0x2fa)](_0x523764(0x605),_0x3045f4),![];}}async function processAndSubmitAnswers(_0x5a65d1,_0x5abd19){const _0x50d810=_0x3ac816;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x50d810(0x24d)](_0x50d810(0x7ce),handleFullscreenChange),document[_0x50d810(0x24d)](_0x50d810(0x20f),handleVisibilityChange);let _0x417178=0x0,_0x1f523a=0x0,_0x2f19a1=[];const _0x42269c=[],_0x2755b9=currentDisplayedQuiz['questions'][_0x50d810(0x475)];let _0x3c0276=0x0;const _0x475fc9=currentDisplayedQuiz[_0x50d810(0x2c3)];for(let _0x19b432=0x0;_0x19b432<_0x475fc9[_0x50d810(0x475)];_0x19b432++){const _0x3f2457=_0x475fc9[_0x19b432],_0x109061=_0x5a65d1[_0x19b432],_0x2cdfed=_0x3f2457[_0x50d810(0x7bf)]||currentDisplayedQuiz[_0x50d810(0x41e)];let _0x41cf33=![];if(_0x109061!==null&&_0x109061!=='')switch(_0x2cdfed){case _0x50d810(0x541):_0x41cf33=_0x109061===_0x3f2457[_0x50d810(0x4bd)];break;case'true_false':const _0xd82478=_0x109061===!![]||_0x109061===_0x50d810(0x70f);_0x41cf33=_0xd82478===_0x3f2457[_0x50d810(0x8db)];break;case'fill_in_the_blank':case'multiple_choice':default:_0x41cf33=Number(_0x109061)===_0x3f2457[_0x50d810(0x825)];break;case'short_answer':_0x41cf33=await gradeShortAnswer(_0x109061,_0x3f2457);break;}_0x41cf33?(_0x417178++,_0x3c0276++,_0x3c0276===0x3&&(_0x2f19a1[_0x50d810(0x6cc)](BADGES['ON_FIRE']['id']),_0x3c0276=0x0)):_0x3c0276=0x0;let _0x20a75f=null;_0x3f2457[_0x50d810(0x431)]&&_0x109061!==null&&(_0x20a75f=_0x3f2457[_0x50d810(0x431)][_0x109061]),_0x42269c[_0x50d810(0x6cc)]({'questionId':_0x3f2457['id'],'answer':_0x109061,'answerText':_0x20a75f,'isCorrect':_0x41cf33,'originalQuestionText':_0x3f2457[_0x50d810(0x799)]||_0x3f2457[_0x50d810(0x414)]});}_0x1f523a=_0x417178*0xa;_0x417178===_0x2755b9&&_0x2755b9>0x0&&!currentDisplayedQuiz[_0x50d810(0x500)]&&(_0x1f523a+=0x32,_0x2f19a1[_0x50d810(0x6cc)](BADGES[_0x50d810(0x3e8)]['id']));const _0x371300=currentDisplayedQuiz[_0x50d810(0x419)]?.[_0x50d810(0x231)]??Math[_0x50d810(0x2f8)](_0x2755b9/0x2),_0x25f872=currentDisplayedQuiz[_0x50d810(0x419)]?.[_0x50d810(0x3ef)];if(_0x25f872===_0x50d810(0x61a)&&quizStartTime){const _0x1cce6a=(new Date()-quizStartTime)/0x3e8,_0x3bfc62=currentDisplayedQuiz['settings'][_0x50d810(0x690)]*0x3c;_0x417178>=_0x371300&&_0x1cce6a<_0x3bfc62/0x2&&(_0x1f523a+=0x14,_0x2f19a1[_0x50d810(0x6cc)](BADGES[_0x50d810(0x4ca)]['id']));}_0x5abd19[_0x50d810(0x475)]===0x0&&_0x417178===_0x2755b9&&_0x2755b9>0x0&&_0x2f19a1[_0x50d810(0x6cc)](BADGES[_0x50d810(0x44f)]['id']);if(_0x5abd19[_0x50d810(0x475)]>0x0){const _0x5efad5=_0x5abd19[0x0][_0x50d810(0x582)];if(_0x5efad5<_0x371300&&_0x417178>=_0x371300){const _0x3f4172=_0x5abd19[_0x50d810(0x632)](_0x5016fb=>(_0x5016fb[_0x50d810(0x84c)]||[])[_0x50d810(0x85e)](BADGES[_0x50d810(0x873)]['id']));!_0x3f4172&&_0x2f19a1[_0x50d810(0x6cc)](BADGES[_0x50d810(0x873)]['id']);}}_0x5abd19[_0x50d810(0x475)]===0x4&&_0x2f19a1['push'](BADGES[_0x50d810(0xa07)]['id']);const _0x426b44=currentDisplayedQuiz[_0x50d810(0x419)][_0x50d810(0x9b3)];if(currentMode===_0x50d810(0xa12)){handleResultDisplay(_0x426b44,_0x417178,_0x1f523a,_0x2f19a1,_0x42269c,_0x2755b9);return;}const _0x44e10c=currentQuizData['id'],_0x2b1ec3=doc(db,_0x50d810(0xa0c)+appId+_0x50d810(0x630)+_0x44e10c+'/submissions',currentStudentName);try{const _0x32e3f7=[..._0x5abd19],_0x36a4ae={'score':_0x417178,'points':_0x1f523a,'badges':_0x2f19a1,'submittedAt':new Date()[_0x50d810(0x490)](),'answers':_0x42269c};_0x32e3f7['push'](_0x36a4ae);const _0x51d5b5=_0x32e3f7[0x0]['score'],_0x1ed7a2=Math['max'](..._0x32e3f7[_0x50d810(0x3f8)](_0x564bb1=>_0x564bb1[_0x50d810(0x582)])),_0x3e6f4e=_0x417178,_0x3014e6=_0x36a4ae[_0x50d810(0x2a4)];await setDoc(_0x2b1ec3,{'studentName':currentStudentName,'totalQuestions':_0x2755b9,'attempts':_0x32e3f7,'firstScore':_0x51d5b5,'bestScore':_0x1ed7a2,'latestScore':_0x3e6f4e,'points':_0x1f523a,'latestSubmittedAt':_0x3014e6},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x50d810(0x6f3)],currentStudentName),handleResultDisplay(_0x426b44,_0x417178,_0x1f523a,_0x2f19a1,_0x42269c,_0x2755b9);}catch(_0x44b917){console[_0x50d810(0x2fa)](_0x50d810(0x78d),_0x44b917),showMessage(_0x50d810(0x2c5));}}async function updateStudentProfile(_0x3a13e9,_0x4c2bf3){const _0x2cde94=_0x3ac816,_0x5a44aa=doc(db,_0x2cde94(0xa0c)+appId+_0x2cde94(0x501)+_0x3a13e9+_0x2cde94(0x2d8),_0x4c2bf3);try{const _0x1a580c=query(collection(db,_0x2cde94(0xa0c)+appId+'/public/data/quizzes'),where(_0x2cde94(0x6f3),'==',_0x3a13e9)),_0x1dad4d=await getDocs(_0x1a580c),_0x215ad3=new Map(_0x1dad4d[_0x2cde94(0x336)]['map'](_0x39dc60=>[_0x39dc60['id'],_0x39dc60['data']()])),_0x210dd6=Array[_0x2cde94(0x800)](_0x215ad3['keys']());await runTransaction(db,async _0xb25cd9=>{const _0x1f7f0d=_0x2cde94;let _0x334f0e=0x0;const _0x42d7be={};let _0x5c83e1=!![],_0x2c50fd=0x0,_0x5301fb=0x0;for(const _0x2a9ed0 of _0x210dd6){const _0x30357e=_0x215ad3[_0x1f7f0d(0x864)](_0x2a9ed0),_0x3d908d=doc(db,'artifacts/'+appId+_0x1f7f0d(0x630)+_0x2a9ed0+'/submissions',_0x4c2bf3),_0x51d827=await _0xb25cd9[_0x1f7f0d(0x864)](_0x3d908d);if(_0x51d827['exists']()){const _0x3e35de=_0x51d827[_0x1f7f0d(0x22a)](),_0x5cef3b=_0x3e35de[_0x1f7f0d(0x67a)]||[];if(_0x5cef3b[_0x1f7f0d(0x475)]>0x0){const _0x28c253=_0x5cef3b[_0x1f7f0d(0x67f)]((_0x2456f0,_0x42edff)=>{const _0x5c1162=_0x1f7f0d;if(_0x42edff[_0x5c1162(0x582)]>_0x2456f0[_0x5c1162(0x582)])return _0x42edff;if(_0x42edff[_0x5c1162(0x582)]===_0x2456f0[_0x5c1162(0x582)])return(_0x42edff[_0x5c1162(0x2c2)]||0x0)>(_0x2456f0[_0x5c1162(0x2c2)]||0x0)?_0x42edff:_0x2456f0;return _0x2456f0;},{'score':-0x1,'points':-0x1});_0x28c253[_0x1f7f0d(0x582)]>-0x1&&(_0x334f0e+=_0x28c253[_0x1f7f0d(0x2c2)]||0x0,(_0x28c253[_0x1f7f0d(0x84c)]||[])['forEach'](_0x431887=>{_0x42d7be[_0x431887]=(_0x42d7be[_0x431887]||0x0)+0x1;}));}}if(_0x30357e[_0x1f7f0d(0x633)]!==_0x1f7f0d(0x8c8)){_0x5301fb++;if(_0x51d827[_0x1f7f0d(0x72f)]()){_0x2c50fd++;const _0x13f2a3=_0x51d827[_0x1f7f0d(0x22a)]();_0x13f2a3[_0x1f7f0d(0x487)]!==_0x13f2a3['totalQuestions']&&(_0x5c83e1=![]);}else _0x5c83e1=![];}}_0x5301fb>0x0&&_0x2c50fd===_0x5301fb&&_0x5c83e1?_0x42d7be[_0x1f7f0d(0x457)]=0x1:_0x42d7be[_0x1f7f0d(0x457)]=0x0,_0xb25cd9['set'](_0x5a44aa,{'studentName':_0x4c2bf3,'totalPoints':_0x334f0e,'unlockedBadges':Object[_0x1f7f0d(0x4e0)](_0x42d7be)[_0x1f7f0d(0x417)](_0x1cfdb1=>_0x42d7be[_0x1cfdb1]>0x0),'badgesCount':_0x42d7be},{'merge':!![]});});}catch(_0x6e4045){console[_0x2cde94(0x2fa)](_0x2cde94(0x62c),_0x6e4045),showMessage(_0x2cde94(0x454));}}function startAdminTest(){const _0x818864=_0x3ac816;if(!currentQuizData){showMessage(_0x818864(0x3d0));return;}let _0x4de8db=JSON[_0x818864(0xa33)](JSON['stringify'](currentQuizData));currentMode=_0x818864(0xa12),currentStudentName=_0x818864(0x3a4),adminView[_0x818864(0x6d9)][_0x818864(0x992)]('hidden'),studentView[_0x818864(0x6d9)][_0x818864(0x309)](_0x818864(0x8da)),studentInitialView[_0x818864(0x6d9)]['add'](_0x818864(0x8da)),studentNameSelectionView['classList'][_0x818864(0x992)](_0x818864(0x8da)),studentResultArea['classList']['add'](_0x818864(0x8da)),studentQuizArea['classList'][_0x818864(0x309)](_0x818864(0x8da)),quizStartTime=new Date(),displayQuizForStudent(_0x4de8db);}function handleResultDisplay(_0x26076e,_0x5efdbc,_0x586803,_0x170754,_0xd8c788,_0x52dc78){const _0x32c4b6=_0x3ac816;if(_0x26076e===_0x32c4b6(0x30e)){displaySubmissionConfirmation();return;}const _0x3041fc=currentDisplayedQuiz['settings']?.['passingScore']??Math['floor'](_0x52dc78/0x2),_0x5a8f2f=currentDisplayedQuiz[_0x32c4b6(0x419)]?.['isAdaptive']??![],_0x50377f=currentDisplayedQuiz[_0x32c4b6(0x419)]?.[_0x32c4b6(0x46f)]===!![],_0x347620=_0x5efdbc<_0x3041fc,_0x34e04c=_0x26076e===_0x32c4b6(0x945)||_0x26076e===_0x32c4b6(0x868);if(_0x50377f&&_0x347620&&!_0x34e04c){_0x26076e==='show_results_and_answers'?displayResultsWithAnswers(_0x5efdbc,_0x586803,_0x170754,_0xd8c788,_0x52dc78,!![]):displayLoopScreen(_0x5efdbc,_0x52dc78,_0x26076e);return;}if(_0x5a8f2f&&_0x347620){startAdaptiveFlow(_0xd8c788,_0x5efdbc,_0x52dc78);return;}switch(_0x26076e){case'show_results_and_answers':displayResultsWithAnswers(_0x5efdbc,_0x586803,_0x170754,_0xd8c788,_0x52dc78);break;case'show_results_only':displayResultsScoreOnly(_0x5efdbc,_0x586803,_0x170754,_0x52dc78);break;case _0x32c4b6(0x4ff):displayPassFailOnly(_0x5efdbc,_0x52dc78);break;case _0x32c4b6(0x945):displayHalfMarkResult(_0x5efdbc,_0x52dc78);break;case'perfect_score_status':displayPerfectScoreResult(_0x5efdbc,_0x52dc78);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x41f315){const _0x42af52=_0x3ac816;studentReadingArea[_0x42af52(0x49f)]=_0x42af52(0x2aa);const _0x144fd6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41f315+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x42af52(0x80c),_0x397564={'type':'OBJECT','properties':{'questionText':{'type':_0x42af52(0x4d0)},'options':{'type':_0x42af52(0x8b1),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x42af52(0x6a3)},'explanation':{'type':_0x42af52(0x4d0)}},'required':[_0x42af52(0x414),_0x42af52(0x431),_0x42af52(0x825),'explanation']},_0x443bea={'type':'OBJECT','properties':{'topic':{'type':_0x42af52(0x4d0)},'questions':{'type':_0x42af52(0x8b1),'items':_0x397564}},'required':[_0x42af52(0x633),'questions']};try{const _0x6550bb=await callAnalysisApi(_0x144fd6,_0x443bea);_0x6550bb[_0x42af52(0x500)]=!![],studentReadingArea[_0x42af52(0x6d9)][_0x42af52(0x992)](_0x42af52(0x8da));const _0xb6d48f={...currentDisplayedQuiz[_0x42af52(0x419)],'isAdaptive':![],'resultsDisplay':_0x42af52(0x3c0)};_0x6550bb[_0x42af52(0x419)]=_0xb6d48f,displayQuizForStudent(_0x6550bb);}catch(_0x566da4){console[_0x42af52(0x2fa)](_0x42af52(0x33f),_0x566da4),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x42af52(0x7cc));}}function displayPassFailOnly(_0x16307f,_0x2ec934){const _0x4e3f84=_0x3ac816,_0x28a910=currentDisplayedQuiz[_0x4e3f84(0x419)]?.['passingScore']??-0x1,_0x94e87f=currentDisplayedQuiz[_0x4e3f84(0x500)]===!![];let _0x3bdb32='',_0x524b1a=![];if(_0x94e87f||_0x28a910!==-0x1){_0x524b1a=_0x94e87f?_0x16307f===_0x2ec934:_0x16307f>=_0x28a910;const _0x13796f=_0x524b1a?_0x4e3f84(0x239):'bg-red-100\x20text-red-800',_0x1f24f6=_0x524b1a?_0x4e3f84(0x795):_0x4e3f84(0x81a);_0x3bdb32=_0x4e3f84(0x2f6)+_0x13796f+'\x22>'+_0x1f24f6+'</span></div>';}else _0x3bdb32=_0x4e3f84(0x618);let _0x32310e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x4e3f84(0x9f2)+_0x3bdb32+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4e3f84(0x49f)]=_0x32310e,studentResultArea['classList']['remove'](_0x4e3f84(0x8da)),studentQuizArea[_0x4e3f84(0x6d9)]['add'](_0x4e3f84(0x8da)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x524b1a});}function cancelAdminTest(){const _0x4f707f=_0x3ac816;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4f707f(0x24d)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x4f707f(0x20f),handleVisibilityChange),currentMode=_0x4f707f(0x50e),studentView[_0x4f707f(0x6d9)][_0x4f707f(0x992)](_0x4f707f(0x8da)),adminView['classList'][_0x4f707f(0x309)](_0x4f707f(0x8da)),showView(_0x4f707f(0x79a));}function setupResultScreenBackButton(_0x4cfbd3){const _0x47b982=_0x3ac816,_0x25ce54={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4cfbd3};if(_0x25ce54['isLooping']){const _0xf1e9ab=_0x47b982(0xa1d);studentResultArea['insertAdjacentHTML']('beforeend',_0xf1e9ab),document['getElementById']('retake-quiz-loop-btn')[_0x47b982(0x84f)](_0x47b982(0x321),()=>{const _0x3f1ea1=_0x47b982;studentResultArea['classList']['add'](_0x3f1ea1(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xa1a446=_0x47b982(0x624),_0x3bf934=currentMode===_0x47b982(0xa12),_0xaf7c0e=_0x3bf934?_0x47b982(0x890):_0x47b982(0x6fe);let _0x50f3a7='';_0x25ce54['showRankings']&&(_0x50f3a7+=_0x47b982(0x43d));let _0x4286fa=_0x25ce54[_0x47b982(0x2ea)];_0x4286fa===undefined&&(_0x4286fa=_0x25ce54[_0x47b982(0x582)]<_0x25ce54[_0x47b982(0x3cc)]);_0x4286fa&&(_0x50f3a7+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x50f3a7+=_0x47b982(0x77c)+_0xa1a446+_0x47b982(0x21e)+_0xaf7c0e+_0x47b982(0x724);const _0x87a2e3=_0x47b982(0x919)+_0x50f3a7+'</div>';studentResultArea['insertAdjacentHTML'](_0x47b982(0x55d),_0x87a2e3),studentResultArea['querySelector'](_0x47b982(0xa4b))?.[_0x47b982(0x84f)](_0x47b982(0x321),handleShowStudentRankings);const _0x46ce12=studentResultArea[_0x47b982(0x46d)](_0x47b982(0x4b6));_0x46ce12&&_0x46ce12[_0x47b982(0x84f)](_0x47b982(0x321),()=>{const _0x17b2a0=_0x47b982;studentResultArea[_0x17b2a0(0x6d9)][_0x17b2a0(0x992)](_0x17b2a0(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x47b982(0xa1e)](_0xa1a446)['addEventListener'](_0x47b982(0x321),()=>{const _0x5526b7=_0x47b982;_0x3bf934?(currentMode=_0x5526b7(0x50e),studentView[_0x5526b7(0x6d9)]['add'](_0x5526b7(0x8da)),adminView['classList'][_0x5526b7(0x309)](_0x5526b7(0x8da)),showView('project-detail')):(showView(_0x5526b7(0x7cc)),document[_0x5526b7(0xa1e)](_0x5526b7(0x5fb))[_0x5526b7(0x3b8)]='');});}function displayResultsWithAnswers(_0x21b822,_0x50145e,_0x4dd7d1,_0x19c41b,_0x2c4e7e,_0x7257f1=![]){const _0xedfbb8=_0x3ac816,_0x1346a2=_0x2c4e7e>0x0?_0x21b822/_0x2c4e7e*0x64:0x0,_0x5edd57=currentDisplayedQuiz[_0xedfbb8(0x419)]?.['passingScore']??-0x1,_0xc3a8a3=currentDisplayedQuiz[_0xedfbb8(0x500)]===!![];let _0x1c0621='';if(_0xc3a8a3||_0x5edd57!==-0x1){let _0x1d2020=_0xc3a8a3?_0x21b822===_0x2c4e7e:_0x21b822>=_0x5edd57;const _0x2376c7=_0x1d2020?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x474b8e=_0x1d2020?_0xedfbb8(0x795):_0xedfbb8(0x81a);_0x1c0621=_0xedfbb8(0x75b)+_0x2376c7+'\x22>'+_0x474b8e+'</p>';}let _0x452440=_0xedfbb8(0x28e)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x21b822+_0xedfbb8(0x229)+_0x2c4e7e+_0xedfbb8(0x929)+_0x1c0621+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x50145e+_0xedfbb8(0x5e5)+_0x1346a2[_0xedfbb8(0x4af)](0x0)+_0xedfbb8(0x462);currentDisplayedQuiz[_0xedfbb8(0x2c3)][_0xedfbb8(0x568)]((_0x20857b,_0x1a138d)=>{const _0x5e6098=_0xedfbb8,_0x2f9956=_0x19c41b[_0x1a138d],_0x1d0fec=_0x2f9956[_0x5e6098(0x337)],_0x3815f3=_0x2f9956['isCorrect'],_0xf84bde=_0x20857b[_0x5e6098(0x7bf)]||currentDisplayedQuiz[_0x5e6098(0x41e)];_0x452440+=_0x5e6098(0x989)+(_0x3815f3?_0x5e6098(0x9da):_0x5e6098(0x356))+_0x5e6098(0x2b4)+(_0x1a138d+0x1)+'.\x20'+(_0x20857b['stem']||_0x20857b[_0x5e6098(0x414)])+_0x5e6098(0x514);switch(_0xf84bde){case _0x5e6098(0x541):const _0x407272=_0x1d0fec||_0x5e6098(0x2ff),_0x13a025=_0x20857b[_0x5e6098(0x4bd)];_0x452440+=_0x5e6098(0x9b0)+(!_0x3815f3?_0x5e6098(0x917):'')+'\x22>'+_0x407272+_0x5e6098(0x87a);!_0x3815f3&&(_0x452440+=_0x5e6098(0x54a)+_0x13a025+_0x5e6098(0x59f));break;case _0x5e6098(0xa05):_0x452440+=_0x5e6098(0x8fe)+(_0x1d0fec||'ไม่ได้ตอบ')+_0x5e6098(0x59f),_0x452440+=_0x5e6098(0x247)+_0x20857b['idealAnswer']+_0x5e6098(0x59f);break;case _0x5e6098(0x8f5):_0x452440+='<p\x20class=\x22'+(_0x20857b['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x1d0fec===_0x5e6098(0x70f)&&!_0x3815f3?_0x5e6098(0x917):'')+_0x5e6098(0x283),_0x452440+=_0x5e6098(0x9c4)+(_0x20857b[_0x5e6098(0x8db)]===![]?_0x5e6098(0x29f):'')+'\x20'+(_0x1d0fec===_0x5e6098(0x331)&&!_0x3815f3?_0x5e6098(0x917):'')+_0x5e6098(0x2a6);break;default:_0x452440+=_0x20857b[_0x5e6098(0x431)][_0x5e6098(0x3f8)]((_0x51bac3,_0x226fe7)=>{const _0x213feb=_0x5e6098;let _0x19525a='',_0x550f19='';if(_0x226fe7===_0x20857b[_0x213feb(0x825)])_0x19525a=_0x213feb(0x29f),_0x550f19=_0x213feb(0x5dc);else _0x226fe7===_0x1d0fec&&(_0x19525a='font-bold\x20text-red-700\x20line-through',_0x550f19='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x213feb(0x7a9)+_0x19525a+'\x22>'+_0x550f19+_0x51bac3+_0x213feb(0x516);})[_0x5e6098(0x6b7)]('');break;}_0x452440+=_0x5e6098(0x7b7)+(_0x20857b[_0x5e6098(0x722)]||_0x5e6098(0x768))+_0x5e6098(0x516);if(!_0x3815f3){const _0x3d59aa=_0x20857b[_0x5e6098(0x799)]||_0x20857b[_0x5e6098(0x414)];_0x452440+=_0x5e6098(0x677)+escape(_0x3d59aa)+_0x5e6098(0x99e);}_0x452440+=_0x5e6098(0x516);}),studentResultArea[_0xedfbb8(0x49f)]=_0x452440,renderEarnedBadges(_0x4dd7d1,_0xedfbb8(0x70b)),studentResultArea[_0xedfbb8(0x6d9)]['remove'](_0xedfbb8(0x8da)),studentQuizArea[_0xedfbb8(0x6d9)]['add'](_0xedfbb8(0x8da)),setupResultScreenBackButton({'isLooping':_0x7257f1,'score':_0x21b822,'totalQuestions':_0x2c4e7e,'showRankings':!![]});if(window['MathJax'])window[_0xedfbb8(0x60a)][_0xedfbb8(0x59b)]([studentResultArea]);}function displayResultsScoreOnly(_0x53bab6,_0x43c6f2,_0x1d4897,_0x52da3a){const _0x13d460=_0x3ac816,_0x49c7f9=_0x52da3a>0x0?_0x53bab6/_0x52da3a*0x64:0x0,_0x57f244=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x4fbe66=currentDisplayedQuiz['isRemedial']===!![];let _0x4203fc='';if(_0x4fbe66||_0x57f244!==-0x1){let _0x13cfa7=_0x4fbe66?_0x53bab6===_0x52da3a:_0x53bab6>=_0x57f244;const _0x1ef5da=_0x13cfa7?'bg-green-100\x20text-green-800':_0x13d460(0x405),_0x1fdb28=_0x13cfa7?'ผ่าน':_0x13d460(0x81a);_0x4203fc=_0x13d460(0x75b)+_0x1ef5da+'\x22>'+_0x1fdb28+_0x13d460(0x59f);}let _0x34d2a4=_0x13d460(0x36d)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x53bab6+_0x13d460(0x4e4)+_0x52da3a+_0x13d460(0x929)+_0x4203fc+_0x13d460(0x4cd)+_0x43c6f2+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x49c7f9[_0x13d460(0x4af)](0x0)+_0x13d460(0x271);studentResultArea['innerHTML']=_0x34d2a4,renderEarnedBadges(_0x1d4897,_0x13d460(0x70b)),studentResultArea[_0x13d460(0x6d9)]['remove'](_0x13d460(0x8da)),studentQuizArea['classList'][_0x13d460(0x992)](_0x13d460(0x8da)),setupResultScreenBackButton({'score':_0x53bab6,'totalQuestions':_0x52da3a,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x206aab=_0x3ac816;let _0x4d4ff7=_0x206aab(0x3d6)+currentStudentName+_0x206aab(0x2b8);studentResultArea['innerHTML']=_0x4d4ff7,studentResultArea['classList'][_0x206aab(0x309)]('hidden'),studentQuizArea[_0x206aab(0x6d9)]['add'](_0x206aab(0x8da)),document[_0x206aab(0xa1e)](_0x206aab(0x750))[_0x206aab(0x84f)](_0x206aab(0x321),()=>{const _0x23bd41=_0x206aab;showView(_0x23bd41(0x7cc)),document[_0x23bd41(0xa1e)](_0x23bd41(0x5fb))[_0x23bd41(0x3b8)]='';});}function renderEarnedBadges(_0x43f569,_0x44e49e){const _0x26bd4b=_0x3ac816,_0x1c6deb=document[_0x26bd4b(0xa1e)](_0x44e49e);if(!_0x1c6deb||!_0x43f569||_0x43f569['length']===0x0)return;let _0x40f089='';_0x43f569[_0x26bd4b(0x568)]((_0xde29a,_0x4b30d5)=>{const _0x44ffbb=_0x26bd4b,_0x379e60=Object['values'](BADGES)[_0x44ffbb(0x3a9)](_0x466768=>_0x466768['id']===_0xde29a);_0x379e60&&(_0x40f089+=_0x44ffbb(0x3d8)+_0x4b30d5*0.2+_0x44ffbb(0x218)+_0x379e60[_0x44ffbb(0x263)]+_0x44ffbb(0x26a)+_0x379e60['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x379e60[_0x44ffbb(0x6e0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x1c6deb[_0x26bd4b(0x49f)]=_0x40f089;}function startPresentation(_0x4edabd){const _0x17471a=_0x3ac816;currentQuizData=getShuffledQuiz(_0x4edabd),currentPresentationSlide=0x0,presentationModal[_0x17471a(0x2a9)]['display']=_0x17471a(0x9ea),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x9f3fb7=_0x3ac816;document[_0x9f3fb7(0x879)]&&document['exitFullscreen'](),presentationModal[_0x9f3fb7(0x2a9)][_0x9f3fb7(0x421)]=_0x9f3fb7(0x75a);}function renderPresentationSlide(_0x42b406){const _0x1055e7=_0x3ac816,_0xdcf5df=document[_0x1055e7(0xa1e)](_0x1055e7(0x4f1));if(!currentQuizData||!currentQuizData[_0x1055e7(0x2c3)]||!currentQuizData[_0x1055e7(0x2c3)][_0x42b406]){_0xdcf5df['innerHTML']=_0x1055e7(0x723);return;}const _0xd2d53c=currentQuizData[_0x1055e7(0x2c3)][_0x42b406],_0x30fcaa=_0xd2d53c[_0x1055e7(0x7bf)]||currentQuizData['quizType'];_0xdcf5df[_0x1055e7(0x49f)]='';let _0x282b15=_0x1055e7(0x92e)+(_0xd2d53c[_0x1055e7(0x2fb)]?_0x1055e7(0x8c3)+_0xd2d53c[_0x1055e7(0x2fb)]+'</div>':'')+_0x1055e7(0x46c)+(_0x42b406+0x1)+'.\x20'+(_0xd2d53c['stem']||_0xd2d53c[_0x1055e7(0x414)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x30fcaa){case _0x1055e7(0x541):_0x282b15+=_0xd2d53c[_0x1055e7(0x440)]['map'](_0x55bc74=>_0x1055e7(0x5c7)+_0x55bc74+_0x1055e7(0x626))[_0x1055e7(0x6b7)]('');break;case _0x1055e7(0x8f5):_0x282b15+=_0x1055e7(0x5df),_0x282b15+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x1055e7(0x756):case _0x1055e7(0xa05):_0x282b15+=_0x1055e7(0x35a);break;case _0x1055e7(0x7b0):case _0x1055e7(0x882):default:_0x282b15+=_0xd2d53c[_0x1055e7(0x431)][_0x1055e7(0x3f8)]((_0x584961,_0x24f611)=>_0x1055e7(0x3ea)+_0x24f611+_0x1055e7(0x960)+_0x584961+_0x1055e7(0x626))['join']('');break;}_0x282b15+=_0x1055e7(0x6a5)+(_0xd2d53c['explanation']||_0x1055e7(0x768))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xdcf5df[_0x1055e7(0x49f)]=_0x282b15;if(window['MathJax'])window[_0x1055e7(0x60a)][_0x1055e7(0x59b)]([_0xdcf5df]);document['querySelectorAll'](_0x1055e7(0x3dc))['forEach'](_0x41073a=>{const _0x3dc074=_0x1055e7;_0x41073a['addEventListener'](_0x3dc074(0x321),_0x34b315=>revealAnswerForPresentation(_0x42b406,_0x34b315['currentTarget']));});const _0x58cc6f=document[_0x1055e7(0xa1e)]('check-presentation-answer-btn');_0x58cc6f&&_0x58cc6f[_0x1055e7(0x84f)]('click',()=>checkShortAnswerForPresentation(_0x42b406)),document['getElementById']('slide-counter')[_0x1055e7(0x32e)]=_0x1055e7(0x294)+(_0x42b406+0x1)+'\x20/\x20'+currentQuizData[_0x1055e7(0x2c3)][_0x1055e7(0x475)],document[_0x1055e7(0xa1e)](_0x1055e7(0x941))['disabled']=_0x42b406===0x0,document[_0x1055e7(0xa1e)](_0x1055e7(0x57a))[_0x1055e7(0x370)]=_0x42b406===currentQuizData[_0x1055e7(0x2c3)][_0x1055e7(0x475)]-0x1;}async function checkShortAnswerForPresentation(_0x538ea0){const _0x407dea=_0x3ac816,_0xc35cc8=currentQuizData[_0x407dea(0x2c3)][_0x538ea0],_0x7e74cf=document[_0x407dea(0xa1e)]('presentation-short-answer-input'),_0x57385d=document[_0x407dea(0xa1e)](_0x407dea(0x2ca)),_0x57dafc=document[_0x407dea(0xa1e)]('presentation-ai-result'),_0x469620=document['getElementById']('presentation-explanation');if(!_0x7e74cf||!_0x57385d||!_0x57dafc||!_0x469620)return;const _0x5bece2=_0x7e74cf[_0x407dea(0x3b8)][_0x407dea(0x855)]();if(_0x5bece2==='')return;_0x57385d[_0x407dea(0x370)]=!![],_0x57385d[_0x407dea(0x49f)]=_0x407dea(0x21c),_0x7e74cf[_0x407dea(0x370)]=!![];const _0x51ee77=await gradeShortAnswer(_0x5bece2,_0xc35cc8);_0x51ee77?_0x57dafc['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x57dafc[_0x407dea(0x49f)]=_0x407dea(0x66c)+_0xc35cc8[_0x407dea(0x6c0)]+')',_0x57dafc[_0x407dea(0x6d9)][_0x407dea(0x309)]('hidden'),_0x469620['classList'][_0x407dea(0x309)](_0x407dea(0x8da)),_0x57385d[_0x407dea(0x6d9)]['add']('hidden');}function revealAnswerForPresentation(_0x15d8d6,_0x392722){const _0x1f98ed=_0x3ac816,_0x43d49b=currentQuizData['questions'][_0x15d8d6],_0x4bc7c7=_0x43d49b[_0x1f98ed(0x7bf)]||currentQuizData[_0x1f98ed(0x41e)];document[_0x1f98ed(0x8e6)](_0x1f98ed(0x3dc))[_0x1f98ed(0x568)](_0x13e544=>{const _0x90189f=_0x1f98ed;_0x13e544[_0x90189f(0x370)]=!![],_0x13e544[_0x90189f(0x6d9)]['remove'](_0x90189f(0x8de));let _0x19afdc=![];if(_0x4bc7c7==='multiple_choice'||_0x4bc7c7===_0x90189f(0x7b0)){const _0x4071a4=parseInt(_0x13e544[_0x90189f(0x7b1)][_0x90189f(0x2e8)]);_0x19afdc=_0x4071a4===_0x43d49b['correctAnswerIndex'];}else{if(_0x4bc7c7===_0x90189f(0x8f5)){const _0x5a821e=_0x13e544[_0x90189f(0x7b1)]['answer']==='true';_0x19afdc=_0x5a821e===_0x43d49b['correctAnswer'];}else _0x4bc7c7===_0x90189f(0x541)&&(_0x19afdc=_0x13e544['textContent'][_0x90189f(0x855)]()===_0x43d49b[_0x90189f(0x4bd)]);}_0x19afdc?_0x13e544[_0x90189f(0x6d9)][_0x90189f(0x992)](_0x90189f(0x279),'text-white',_0x90189f(0x430)):_0x13e544['classList']['add'](_0x90189f(0x73d));}),_0x392722['classList'][_0x1f98ed(0x309)](_0x1f98ed(0x73d));let _0x5c6e6a=![];if(_0x4bc7c7==='multiple_choice')_0x5c6e6a=parseInt(_0x392722[_0x1f98ed(0x7b1)][_0x1f98ed(0x2e8)])===_0x43d49b[_0x1f98ed(0x825)];else{if(_0x4bc7c7===_0x1f98ed(0x8f5))_0x5c6e6a=_0x392722[_0x1f98ed(0x7b1)]['answer']===_0x1f98ed(0x70f)===_0x43d49b[_0x1f98ed(0x8db)];else _0x4bc7c7==='matching_item'&&(_0x5c6e6a=_0x392722['textContent'][_0x1f98ed(0x855)]()===_0x43d49b[_0x1f98ed(0x4bd)]);}!_0x5c6e6a&&_0x392722['classList']['add'](_0x1f98ed(0x31e),'text-white',_0x1f98ed(0x8f4)),document[_0x1f98ed(0xa1e)]('presentation-explanation')[_0x1f98ed(0x6d9)][_0x1f98ed(0x309)](_0x1f98ed(0x8da));}function startWholeQuizTimer(_0x5a2e44){const _0x32391a=_0x3ac816,_0x1a72f4=document[_0x32391a(0xa1e)](_0x32391a(0x39c));if(!_0x1a72f4)return;const _0x3a0c97=Date['now']()+_0x5a2e44*0x3c*0x3e8;_0x1a72f4[_0x32391a(0x49f)]=_0x32391a(0x76e);const _0x8e265f=document[_0x32391a(0xa1e)](_0x32391a(0x5f4));quizTimerInterval=setInterval(()=>{const _0x511de5=_0x32391a,_0x4712bf=_0x3a0c97-Date[_0x511de5(0x7c6)]();if(_0x4712bf<=0x0)clearInterval(quizTimerInterval),_0x8e265f[_0x511de5(0x32e)]=_0x511de5(0x9a9),showMessage(_0x511de5(0x7fb)),handleSubmitQuiz(null);else{const _0x1da7a4=Math['floor'](_0x4712bf/0x3e8/0x3c%0x3c)[_0x511de5(0x697)]()[_0x511de5(0x82a)](0x2,'0'),_0xf1aa1c=Math[_0x511de5(0x2f8)](_0x4712bf/0x3e8%0x3c)[_0x511de5(0x697)]()[_0x511de5(0x82a)](0x2,'0');_0x8e265f[_0x511de5(0x32e)]=_0x1da7a4+':'+_0xf1aa1c;}},0x3e8);}function renderPerQuestionView(){const _0x50c96c=_0x3ac816;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x380c32=currentDisplayedQuiz[_0x50c96c(0x2c3)][currentQuestionIndex],_0x2411f0=_0x380c32['questionType']||currentDisplayedQuiz[_0x50c96c(0x41e)];let _0x3ffb99=_0x50c96c(0x64e)+(currentQuestionIndex+0x1)+_0x50c96c(0x476)+currentDisplayedQuiz[_0x50c96c(0x2c3)][_0x50c96c(0x475)]+_0x50c96c(0x913)+(currentMode==='admin-testing'?_0x50c96c(0x215):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x50c96c(0x633)]+_0x50c96c(0x5b2)+(currentQuestionIndex===currentDisplayedQuiz[_0x50c96c(0x2c3)][_0x50c96c(0x475)]-0x1?_0x50c96c(0x8ab):_0x50c96c(0x358))+_0x50c96c(0x377);studentQuizArea[_0x50c96c(0x49f)]=_0x3ffb99;let _0x2974f9='',_0x517a9d='';switch(_0x2411f0){case'matching_item':_0x2974f9=currentQuestionIndex+0x1+'.\x20'+_0x380c32['stem'],_0x517a9d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x380c32[_0x50c96c(0x440)]['map'](_0x56c6b9=>_0x50c96c(0x286)+_0x56c6b9+'\x22>'+_0x56c6b9+_0x50c96c(0xa08))[_0x50c96c(0x6b7)]('')+_0x50c96c(0x728);break;case _0x50c96c(0x8f5):_0x2974f9=currentQuestionIndex+0x1+'.\x20'+_0x380c32[_0x50c96c(0x414)],_0x517a9d=_0x50c96c(0x470);break;case _0x50c96c(0xa05):case _0x50c96c(0x756):_0x2974f9=currentQuestionIndex+0x1+'.\x20'+_0x380c32[_0x50c96c(0x414)],_0x517a9d=_0x50c96c(0x3a3);break;case _0x50c96c(0x882):case _0x50c96c(0x523):default:_0x2974f9=currentQuestionIndex+0x1+'.\x20'+_0x380c32['questionText'],_0x517a9d=_0x380c32[_0x50c96c(0x431)][_0x50c96c(0x3f8)]((_0xc50845,_0xbf58dc)=>_0x50c96c(0x8f1)+_0xbf58dc+_0x50c96c(0x534)+_0xbf58dc+_0x50c96c(0x2fc)+_0xbf58dc+'\x22>'+_0xc50845+_0x50c96c(0x296))['join']('');break;}_0x380c32[_0x50c96c(0x2fb)]&&(_0x2974f9+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x380c32['imageCode']+_0x50c96c(0x516));document[_0x50c96c(0xa1e)](_0x50c96c(0x77a))['innerHTML']=_0x2974f9,document[_0x50c96c(0xa1e)](_0x50c96c(0x8b6))[_0x50c96c(0x49f)]=_0x517a9d;if(currentMode==='admin-testing'){const _0xbfd8dd=document['getElementById'](_0x50c96c(0x3f7));if(_0xbfd8dd)_0xbfd8dd['addEventListener'](_0x50c96c(0x321),cancelAdminTest);}document[_0x50c96c(0xa1e)]('next-question-timed-btn')[_0x50c96c(0x84f)](_0x50c96c(0x321),()=>handleNextQuestionInTimedMode(![]));if(window[_0x50c96c(0x60a)])window[_0x50c96c(0x60a)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0xd26266=_0x3ac816,_0x3d6c8e=currentDisplayedQuiz[_0xd26266(0x419)]['timerDuration'],_0x2f010a=document[_0xd26266(0xa1e)](_0xd26266(0x6dc));if(!_0x2f010a)return;let _0x12b9a0=_0x3d6c8e;_0x2f010a['innerHTML']=_0xd26266(0x36e)+_0x12b9a0+_0xd26266(0x591);const _0xf348ee=document[_0xd26266(0xa1e)](_0xd26266(0x2ce)),_0x3ecced=document[_0xd26266(0xa1e)](_0xd26266(0xa2c));perQuestionTimerInterval=setInterval(()=>{const _0x321ddd=_0xd26266;_0x12b9a0--;const _0x1d0aa2=_0x12b9a0/_0x3d6c8e*0x64;_0xf348ee['style'][_0x321ddd(0x3e4)]=_0x1d0aa2+'%',_0x3ecced['textContent']=_0x12b9a0,_0x12b9a0<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x321ddd(0x744)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5bb9d7=![]){const _0x2e240d=_0x3ac816;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x6a8bfa=null;if(!_0x5bb9d7){const _0x4f791f=currentDisplayedQuiz[_0x2e240d(0x2c3)][currentQuestionIndex],_0x1d85d5=_0x4f791f[_0x2e240d(0x7bf)]||currentDisplayedQuiz[_0x2e240d(0x41e)];if(_0x1d85d5===_0x2e240d(0xa05)||_0x1d85d5===_0x2e240d(0x756)){const _0x312ce2=document[_0x2e240d(0x46d)]('#per-question-options\x20textarea');_0x6a8bfa=_0x312ce2?_0x312ce2['value'][_0x2e240d(0x855)]():'';}else{if(_0x1d85d5==='matching_item'){const _0x1a4cb0=document['querySelector'](_0x2e240d(0x4ab));_0x6a8bfa=_0x1a4cb0?_0x1a4cb0['value']:'';}else{const _0x543ba8=document[_0x2e240d(0x46d)]('input[name=\x22question_single\x22]:checked');if(_0x543ba8){const _0x2ca068=_0x543ba8[_0x2e240d(0x3b8)];_0x6a8bfa=!isNaN(parseInt(_0x2ca068,0xa))&&_0x2ca068[_0x2e240d(0x855)]()!==''?parseInt(_0x2ca068,0xa):_0x2ca068;}}}}studentAnswersPerQuestion[_0x2e240d(0x6cc)](_0x6a8bfa),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2e240d(0x2c3)][_0x2e240d(0x475)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x1b31c4=_0x3ac816,_0x351074=currentDisplayedQuiz[_0x1b31c4(0x2c3)]['some'](_0x29dbcc=>_0x29dbcc[_0x1b31c4(0x7bf)]==='short_answer');_0x351074?showMessage(_0x1b31c4(0x8f0)):showMessage(_0x1b31c4(0x37d));const _0x205608=currentQuizData['id'],_0x38d4b5=doc(db,_0x1b31c4(0xa0c)+appId+'/public/data/quizzes/'+_0x205608+_0x1b31c4(0x50f),currentStudentName),_0x18a9dd=await getDoc(_0x38d4b5),_0x35eabb=_0x18a9dd['exists']()?_0x18a9dd[_0x1b31c4(0x22a)]():{},_0x160821=_0x35eabb['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x160821);}function getResultsFilename(){const _0x3ca02c=_0x3ac816,_0x5405bf=document[_0x3ca02c(0xa1e)](_0x3ca02c(0x9ba))[_0x3ca02c(0x32e)][_0x3ca02c(0x2f9)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3ca02c(0x6cf)+(_0x5405bf||'quiz');}function exportResultsAsImage(){const _0x5c121c=_0x3ac816,_0x373a91=document[_0x5c121c(0xa1e)]('results-table-container');showMessage(_0x5c121c(0x670)),html2canvas(_0x373a91)['then'](_0x3a0a41=>{const _0x42a3f3=_0x5c121c,_0x1c2268=document[_0x42a3f3(0x560)]('a');_0x1c2268[_0x42a3f3(0x631)]=getResultsFilename()+_0x42a3f3(0x8f3),_0x1c2268[_0x42a3f3(0x5e0)]=_0x3a0a41['toDataURL'](_0x42a3f3(0x9ca)),_0x1c2268[_0x42a3f3(0x321)](),messageModal['classList'][_0x42a3f3(0x992)](_0x42a3f3(0x8da));});}function exportResultsAsPDF(){const _0xd1805f=_0x3ac816,{jsPDF:_0x23def9}=window['jspdf'],_0x143532=new _0x23def9();_0x143532[_0xd1805f(0x371)](_0xd1805f(0x3d2),_0xd1805f(0x826)),_0x143532['autoTable']({'html':_0xd1805f(0x6f1)}),_0x143532[_0xd1805f(0x460)](getResultsFilename()+_0xd1805f(0x952));}function exportResultsAsWord(){const _0x51c08c=_0x3ac816,_0x40826b=_0x51c08c(0x330)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x51c08c(0x778)+_0x51c08c(0x856),_0x3a5e8d='</body></html>',_0x222635=_0x40826b+document['getElementById'](_0x51c08c(0xa02))[_0x51c08c(0x49f)]+_0x3a5e8d,_0x37f1cb=_0x51c08c(0x62b)+encodeURIComponent(_0x222635),_0x282c07=document[_0x51c08c(0x560)]('a');document[_0x51c08c(0x23e)][_0x51c08c(0xa21)](_0x282c07),_0x282c07[_0x51c08c(0x5e0)]=_0x37f1cb,_0x282c07[_0x51c08c(0x631)]=getResultsFilename()+_0x51c08c(0x612),_0x282c07[_0x51c08c(0x321)](),document['body'][_0x51c08c(0x5aa)](_0x282c07);}function exportResultsAsExcel(){const _0x56d903=_0x3ac816,_0x52ee9e=document[_0x56d903(0xa1e)](_0x56d903(0x68b));let _0x9f4c08=[];for(let _0x5167f9=0x0;_0x5167f9<_0x52ee9e[_0x56d903(0x770)][_0x56d903(0x475)];_0x5167f9++){let _0x286788=[],_0x55bfe1=_0x52ee9e['rows'][_0x5167f9][_0x56d903(0x8e6)](_0x56d903(0x1fc));for(let _0x40b520=0x0;_0x40b520<_0x55bfe1['length'];_0x40b520++){_0x286788[_0x56d903(0x6cc)]('\x22'+_0x55bfe1[_0x40b520][_0x56d903(0x389)][_0x56d903(0x2f9)](/"/g,'\x22\x22')+'\x22');}_0x9f4c08[_0x56d903(0x6cc)](_0x286788['join'](','));}const _0xbf7e13=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x9f4c08['join']('\x0a')],{'type':_0x56d903(0x71f)}),_0x5c659c=document[_0x56d903(0x560)]('a');_0x5c659c[_0x56d903(0x5e0)]=URL[_0x56d903(0x497)](_0xbf7e13),_0x5c659c[_0x56d903(0x631)]=getResultsFilename()+_0x56d903(0x67e),_0x5c659c['click']();}function exportTableAsImage(_0x451666,_0x463a3b){const _0x5ce9a6=_0x3ac816,_0xc86d13=document[_0x5ce9a6(0xa1e)](_0x451666);if(!_0xc86d13){showMessage(_0x5ce9a6(0x887));return;}showMessage(_0x5ce9a6(0x670)),html2canvas(_0xc86d13)[_0x5ce9a6(0xa4c)](_0xe0e0f8=>{const _0x1d7ddf=_0x5ce9a6,_0x28ce18=document[_0x1d7ddf(0x560)]('a');_0x28ce18['download']=_0x463a3b+_0x1d7ddf(0x8f3),_0x28ce18[_0x1d7ddf(0x5e0)]=_0xe0e0f8[_0x1d7ddf(0x21a)](_0x1d7ddf(0x9ca)),_0x28ce18['click'](),messageModal[_0x1d7ddf(0x6d9)][_0x1d7ddf(0x992)](_0x1d7ddf(0x8da));});}function exportTableAsPDF(_0x3a4eca,_0x216e5d){const _0x274ee2=_0x3ac816,{jsPDF:_0x2bcee8}=window[_0x274ee2(0x3da)],_0x46eea9=new _0x2bcee8();_0x46eea9['setFont'](_0x274ee2(0x3d2),_0x274ee2(0x826)),_0x46eea9[_0x274ee2(0x683)]({'html':'#'+_0x3a4eca}),_0x46eea9[_0x274ee2(0x460)](_0x216e5d+_0x274ee2(0x952));}function exportTableAsWord(_0x1b9f2c,_0x3e5981){const _0x4c7a88=_0x3ac816,_0x17222c=document['getElementById'](_0x1b9f2c);if(!_0x17222c){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x4cae0e='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x4c7a88(0x778)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x4706c2='</body></html>',_0x5284a4=_0x4cae0e+_0x17222c[_0x4c7a88(0x49f)]+_0x4706c2,_0x3d9b09=_0x4c7a88(0x62b)+encodeURIComponent(_0x5284a4),_0x1f836d=document[_0x4c7a88(0x560)]('a');document[_0x4c7a88(0x23e)][_0x4c7a88(0xa21)](_0x1f836d),_0x1f836d[_0x4c7a88(0x5e0)]=_0x3d9b09,_0x1f836d[_0x4c7a88(0x631)]=_0x3e5981+_0x4c7a88(0x612),_0x1f836d[_0x4c7a88(0x321)](),document[_0x4c7a88(0x23e)][_0x4c7a88(0x5aa)](_0x1f836d);}function exportTableAsExcel(_0x5aed91,_0x4ae581){const _0x41586e=_0x3ac816,_0x286d90=document['getElementById'](_0x5aed91);if(!_0x286d90){showMessage(_0x41586e(0x887));return;}let _0x5f350e=[];for(let _0x36ca66=0x0;_0x36ca66<_0x286d90[_0x41586e(0x770)]['length'];_0x36ca66++){let _0x1ad21a=[],_0x39c5ec=_0x286d90[_0x41586e(0x770)][_0x36ca66][_0x41586e(0x8e6)](_0x41586e(0x1fc));for(let _0x4c51f7=0x0;_0x4c51f7<_0x39c5ec['length'];_0x4c51f7++){_0x1ad21a['push']('\x22'+_0x39c5ec[_0x4c51f7][_0x41586e(0x389)][_0x41586e(0x2f9)](/"/g,'\x22\x22')+'\x22');}_0x5f350e['push'](_0x1ad21a[_0x41586e(0x6b7)](','));}const _0x5b5146=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5f350e[_0x41586e(0x6b7)]('\x0a')],{'type':_0x41586e(0x71f)}),_0x5e082b=document[_0x41586e(0x560)]('a');_0x5e082b[_0x41586e(0x5e0)]=URL[_0x41586e(0x497)](_0x5b5146),_0x5e082b[_0x41586e(0x631)]=_0x4ae581+'.csv',_0x5e082b[_0x41586e(0x321)]();}function renderAnalytics(_0x28b495,_0x434982){const _0x2153b5=_0x3ac816,_0x3b8b51=_0x434982[_0x2153b5(0x417)](_0x4e3088=>_0x4e3088['latestScore']!==undefined),_0x420c04=currentProjectData[_0x2153b5(0x4b9)][_0x2153b5(0x475)],_0x467059=_0x3b8b51[_0x2153b5(0x475)],_0x50ab16=_0x420c04-_0x467059,_0x1f5d96=_0x420c04>0x0?_0x467059/_0x420c04*0x64:0x0,_0x5cf191=_0x3b8b51['map'](_0x4700fc=>_0x4700fc[_0x2153b5(0x4b2)]),_0x14fd91=_0x5cf191[_0x2153b5(0x475)]>0x0?_0x5cf191[_0x2153b5(0x67f)]((_0x2d9a02,_0x542704)=>_0x2d9a02+_0x542704,0x0)/_0x5cf191[_0x2153b5(0x475)]:0x0,_0x345383=_0x28b495[_0x2153b5(0x2c3)][_0x2153b5(0x475)],_0x136f74=_0x345383>0x0?_0x14fd91/_0x345383*0x64:0x0,_0x1aea76=calculateItemAnalysis(_0x28b495,_0x3b8b51),_0x290b25=calculateReliabilityKR20(_0x28b495,_0x3b8b51,_0x1aea76['perQuestionStats']);let _0x15fe2a='';if(_0x290b25!==null){let _0x1585c9='';if(_0x290b25>=0.9)_0x1585c9='ยอดเยี่ยม';else{if(_0x290b25>=0.8)_0x1585c9='ดีมาก';else{if(_0x290b25>=0.7)_0x1585c9='ดี';else{if(_0x290b25>=0.6)_0x1585c9=_0x2153b5(0x959);else _0x1585c9='ควรปรับปรุง';}}}_0x15fe2a=_0x2153b5(0x785)+_0x290b25[_0x2153b5(0x4af)](0x2)+_0x2153b5(0x22b)+_0x1585c9+_0x2153b5(0x4bf);}const _0x76f3c9=document[_0x2153b5(0xa1e)](_0x2153b5(0x7bb));_0x76f3c9[_0x2153b5(0x49f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x1f5d96[_0x2153b5(0x4af)](0x0)+_0x2153b5(0x5e8)+_0x467059+'/'+_0x420c04+_0x2153b5(0x8f8)+_0x14fd91[_0x2153b5(0x4af)](0x2)+_0x2153b5(0x9d9)+_0x136f74[_0x2153b5(0x4af)](0x0)+_0x2153b5(0x897)+(_0x5cf191[_0x2153b5(0x475)]>0x0?Math[_0x2153b5(0x985)](..._0x5cf191):_0x2153b5(0x1f7))+_0x2153b5(0x4a4)+(_0x5cf191['length']>0x0?Math['min'](..._0x5cf191):_0x2153b5(0x1f7))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15fe2a+'\x0a\x20\x20\x20\x20';const _0x45905a=document['getElementById'](_0x2153b5(0x9d2));_0x45905a&&_0x45905a[_0x2153b5(0x309)]();const _0x4f56fd=_0x2153b5(0x92c);_0x76f3c9[_0x2153b5(0x89d)](_0x2153b5(0x29c),_0x4f56fd);const _0x1b40a5=currentProjectData[_0x2153b5(0x4b9)]||[];renderSubmissionChart(_0x467059,_0x50ab16,_0x3b8b51,_0x1b40a5),renderScoreDistributionChart(_0x3b8b51,_0x345383),renderQuestionAnalytics(_0x28b495,_0x3b8b51,_0x1b40a5),renderInterestingStats(_0x28b495,_0x3b8b51);}async function handleExportLessonPDF(){const _0x561b1f=_0x3ac816,_0xdb045b=document[_0x561b1f(0xa1e)](_0x561b1f(0x7e2)),_0x54462d=document[_0x561b1f(0xa1e)](_0x561b1f(0x8d3))[_0x561b1f(0x32e)],_0x124c18=window[_0x561b1f(0x824)]('',_0x561b1f(0x758)),_0x4eeb31='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x54462d+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xdb045b[_0x561b1f(0x49f)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x124c18[_0x561b1f(0x53f)]['write'](_0x4eeb31),_0x124c18[_0x561b1f(0x53f)][_0x561b1f(0x2b2)](),_0x124c18[_0x561b1f(0x886)]=function(){setTimeout(()=>{const _0x36e7b6=_0x4938;_0x124c18[_0x36e7b6(0x88d)]();},0x5dc);};}function renderInterestingStats(_0x12984b,_0x57d135){const _0x47f698=_0x3ac816,_0x36085d=document[_0x47f698(0xa1e)](_0x47f698(0x72b));if(!_0x36085d)return;if(_0x57d135[_0x47f698(0x475)]===0x0){_0x36085d['innerHTML']=_0x47f698(0x2db);return;}const _0x2e85a7=_0x12984b[_0x47f698(0x2c3)][_0x47f698(0x3f8)]((_0x38c6ae,_0x5ea3e5)=>({'index':_0x5ea3e5+0x1,'text':_0x38c6ae[_0x47f698(0x414)]||_0x38c6ae[_0x47f698(0x799)],'correct':0x0}));_0x57d135[_0x47f698(0x568)](_0x41136e=>{const _0x57c5a1=_0x47f698,_0x1ccc74=_0x41136e[_0x57c5a1(0x67a)][_0x41136e[_0x57c5a1(0x67a)][_0x57c5a1(0x475)]-0x1];_0x1ccc74&&_0x1ccc74[_0x57c5a1(0x1fe)]&&_0x1ccc74[_0x57c5a1(0x1fe)]['forEach'](_0x3d8483=>{const _0x191c8a=_0x57c5a1,_0x211eaa=_0x2e85a7['find'](_0x545c29=>_0x545c29[_0x191c8a(0x453)]===_0x3d8483[_0x191c8a(0x66e)]);_0x3d8483['isCorrect']&&_0x211eaa&&_0x211eaa['correct']++;});});const _0x2bbbae=_0x57d135['length'],_0x362b57=Math[_0x47f698(0x985)](..._0x2e85a7['map'](_0x34cccd=>_0x34cccd[_0x47f698(0x69b)])),_0x224b07=Math[_0x47f698(0x37a)](..._0x2e85a7['map'](_0xb911d8=>_0xb911d8[_0x47f698(0x69b)])),_0x103165=_0x2e85a7[_0x47f698(0x417)](_0x378617=>_0x378617[_0x47f698(0x69b)]===_0x362b57)[_0x47f698(0x3f8)](_0x233e67=>_0x47f698(0x661)+_0x233e67['index']),_0x40717f=_0x2e85a7[_0x47f698(0x417)](_0x41d163=>_0x41d163[_0x47f698(0x69b)]===_0x224b07)[_0x47f698(0x3f8)](_0x944f6e=>'ข้อ\x20'+_0x944f6e[_0x47f698(0x2e8)]),_0x1c3a7b=_0x57d135[_0x47f698(0x9a5)]((_0x2aebb9,_0x55427d)=>_0x55427d['latestScore']-_0x2aebb9[_0x47f698(0x4b2)])[_0x47f698(0x417)]((_0x565685,_0x281dae,_0x2534c2)=>_0x565685[_0x47f698(0x4b2)]===_0x2534c2[0x0]['latestScore']),_0x2909b9=_0x57d135[_0x47f698(0x9a5)]((_0x19ec02,_0x5033ab)=>_0x19ec02['latestScore']-_0x5033ab['latestScore'])[_0x47f698(0x417)]((_0x19e317,_0x16c6fd,_0x3e678e)=>_0x19e317[_0x47f698(0x4b2)]===_0x3e678e[0x0][_0x47f698(0x4b2)]),_0x3eb07f=_0x47f698(0x6c2)+_0x103165['join'](',\x20')+_0x47f698(0x935)+_0x362b57+_0x47f698(0x3f3)+_0x2bbbae+_0x47f698(0x200)+_0x40717f[_0x47f698(0x6b7)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x2bbbae-_0x224b07)+_0x47f698(0x3f3)+_0x2bbbae+_0x47f698(0x950)+_0x1c3a7b[_0x47f698(0x3f8)](_0x174f27=>_0x174f27[_0x47f698(0x660)])[_0x47f698(0x6b7)](',\x20')+_0x47f698(0x373)+_0x1c3a7b[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x2909b9['map'](_0x1275c6=>_0x1275c6[_0x47f698(0x660)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x2909b9[0x0][_0x47f698(0x4b2)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x36085d['innerHTML']=_0x3eb07f;}function renderSubmissionChart(_0x20c980,_0xb4ff71,_0x381fc9,_0x38c30c){const _0xd1ab55=_0x3ac816,_0x3d6124=document['getElementById']('submission-status-chart')[_0xd1ab55(0x9e9)]('2d'),_0x467042=_0x381fc9['map'](_0x56c110=>_0x56c110[_0xd1ab55(0x660)]),_0x262613=_0x38c30c[_0xd1ab55(0x417)](_0x2a818c=>!_0x467042[_0xd1ab55(0x85e)](_0x2a818c));chartInstances[_0xd1ab55(0x5a8)]&&chartInstances[_0xd1ab55(0x5a8)][_0xd1ab55(0x73b)](),chartInstances[_0xd1ab55(0x5a8)]=new Chart(_0x3d6124,{'type':_0xd1ab55(0x8f2),'data':{'labels':[_0xd1ab55(0x395),'ยังไม่ส่ง'],'datasets':[{'data':[_0x20c980,_0xb4ff71],'backgroundColor':[_0xd1ab55(0x410),_0xd1ab55(0x8e3)],'borderColor':[_0xd1ab55(0x7e1),_0xd1ab55(0x7e1)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x202da0){const _0x1110aa=_0xd1ab55;let _0x129ec9=_0x202da0[_0x1110aa(0x3e3)]||'';return _0x129ec9&&(_0x129ec9+=':\x20'),_0x129ec9+=_0x202da0[_0x1110aa(0x652)],_0x129ec9;},'afterLabel':function(_0x3be4ec){const _0x4433b4=_0xd1ab55;let _0x4f68e3;return _0x3be4ec['dataIndex']===0x0?_0x4f68e3=_0x467042:_0x4f68e3=_0x262613,_0x4f68e3[_0x4433b4(0x475)]>0x0?_0x4f68e3[_0x4433b4(0x6b7)]('\x0a'):_0x4433b4(0x9ad);}}}}}});}function renderScoreDistributionChart(_0x400eb6,_0x461b07){const _0x4d0409=_0x3ac816,_0x180b66=document[_0x4d0409(0xa1e)]('score-distribution-chart')[_0x4d0409(0x9e9)]('2d'),_0x224e55={};for(let _0x5dd06c=0x0;_0x5dd06c<=_0x461b07;_0x5dd06c++){_0x224e55[_0x5dd06c]=0x0;}_0x400eb6[_0x4d0409(0x568)](_0x2e93f8=>{const _0x216a35=_0x4d0409;_0x224e55[_0x2e93f8[_0x216a35(0x4b2)]]!==undefined&&_0x224e55[_0x2e93f8[_0x216a35(0x4b2)]]++;}),chartInstances['score']&&chartInstances[_0x4d0409(0x582)]['destroy'](),chartInstances['score']=new Chart(_0x180b66,{'type':_0x4d0409(0x8ca),'data':{'labels':Object[_0x4d0409(0x4e0)](_0x224e55),'datasets':[{'label':_0x4d0409(0x782),'data':Object[_0x4d0409(0x587)](_0x224e55),'backgroundColor':_0x4d0409(0x2ec),'borderColor':_0x4d0409(0x7f4),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x40871d){const _0x3d5067=_0x4d0409,_0x127333=_0x40871d[_0x3d5067(0x3e3)],_0x2123c8=_0x400eb6['filter'](_0x525a61=>_0x525a61['latestScore']==_0x127333)[_0x3d5067(0x3f8)](_0x193c93=>_0x193c93[_0x3d5067(0x660)]);return _0x2123c8['length']>0x0?_0x2123c8[_0x3d5067(0x6b7)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x23bfc5,_0x1b17c6,_0xe2650e){const _0x1c7672=_0x3ac816,_0x2c956=document[_0x1c7672(0xa1e)](_0x1c7672(0x3ee));if(_0xe2650e['length']===0x0){_0x2c956['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x1841bb=calculateItemAnalysis(_0x23bfc5,_0x1b17c6),_0x5d25de=calculateDistractorAnalysis(_0x23bfc5,_0x1b17c6);let _0x3b24bd='';_0x1841bb[_0x1c7672(0x7c4)]&&(_0x3b24bd=_0x1c7672(0x783)+_0x1841bb[_0x1c7672(0x7c4)][_0x1c7672(0xa39)][_0x1c7672(0x475)]+_0x1c7672(0x4d9)+_0x1841bb['overallGroups'][_0x1c7672(0xa39)]['map'](_0x3db982=>_0x1c7672(0x3eb)+_0x3db982+_0x1c7672(0x6d1))[_0x1c7672(0x6b7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1841bb[_0x1c7672(0x7c4)][_0x1c7672(0x78f)][_0x1c7672(0x475)]+_0x1c7672(0x4d9)+_0x1841bb['overallGroups']['lowerGroupNames']['map'](_0x374374=>_0x1c7672(0x3eb)+_0x374374+_0x1c7672(0x6d1))[_0x1c7672(0x6b7)]('')+_0x1c7672(0x6a7));let _0x846fbf='';const _0x2967cd=_0x1b17c6[_0x1c7672(0x3f8)](_0x2f313c=>_0x2f313c['studentName']),_0x201d62=_0x3ccf88=>{const _0xec7c25=_0x1c7672;if(_0x3ccf88>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x3ccf88>=0.6)return _0xec7c25(0x5f3);if(_0x3ccf88>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x3ccf88>=0.2)return _0xec7c25(0x88c);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x52e78a=_0x2bd167=>{const _0x294928=_0x1c7672;if(_0x2bd167<0x0)return _0x294928(0x3bb);if(_0x2bd167>=0.4)return _0x294928(0x8cf);if(_0x2bd167>=0.3)return _0x294928(0x646);if(_0x2bd167>=0.2)return _0x294928(0x208);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x4da074=_0x331bc3=>{const _0x2283b9=_0x1c7672,_0x30b974=_0x331bc3[_0x2283b9(0x4af)](0x0);if(parseFloat(_0x30b974)===0x64)return _0x2283b9(0x299)+_0x30b974+_0x2283b9(0x4b7);if(_0x331bc3>=0x32)return _0x2283b9(0x30d)+_0x30b974+'%</span>';return _0x2283b9(0x3c6)+_0x30b974+_0x2283b9(0x4b7);};_0x23bfc5[_0x1c7672(0x2c3)][_0x1c7672(0x568)]((_0x5ee768,_0xbe8afb)=>{const _0x5c86bc=_0x1c7672,_0x3ad305=_0x1841bb[_0x5c86bc(0x957)][_0xbe8afb],_0x513d82=_0x5d25de[_0xbe8afb],_0x4963d7=_0x5ee768['stem']||_0x5ee768['questionText']||_0x5ee768[_0x5c86bc(0x4ce)];let _0x2d627f=0x0;const _0x25cda9=[],_0x32bdaa=[];_0x1b17c6[_0x5c86bc(0x568)](_0x4f1e3e=>{const _0xab7814=_0x5c86bc,_0x411362=_0x4f1e3e[_0xab7814(0x67a)][_0x4f1e3e['attempts'][_0xab7814(0x475)]-0x1];if(_0x411362&&_0x411362[_0xab7814(0x1fe)]){const _0x3e24b9=_0x411362[_0xab7814(0x1fe)]['find'](_0x524bf7=>_0x524bf7['originalQuestionText']===_0x4963d7)??_0x411362[_0xab7814(0x1fe)][_0xbe8afb]??null;_0x3e24b9&&(_0x3e24b9[_0xab7814(0x594)]?(_0x2d627f++,_0x25cda9[_0xab7814(0x6cc)](_0x4f1e3e[_0xab7814(0x660)])):_0x32bdaa[_0xab7814(0x6cc)](_0x4f1e3e['studentName']));}});const _0x51dd0c=_0x1b17c6[_0x5c86bc(0x475)]>0x0?_0x2d627f/_0x1b17c6[_0x5c86bc(0x475)]*0x64:0x0,_0xee1ea7=_0xe2650e[_0x5c86bc(0x417)](_0x199061=>!_0x2967cd['includes'](_0x199061)),_0x5b1ea3=_0x3ad305?_0x5c86bc(0x572)+_0x3ad305['p'][_0x5c86bc(0x4af)](0x2)+_0x5c86bc(0x27c)+_0x201d62(_0x3ad305['p'])+_0x5c86bc(0x9bc)+_0x3ad305['r'][_0x5c86bc(0x4af)](0x2)+_0x5c86bc(0x27c)+_0x52e78a(_0x3ad305['r'])+_0x5c86bc(0x67d)+_0x4da074(_0x51dd0c)+_0x5c86bc(0x7da):'';let _0x1faa90='';_0x513d82&&(_0x1faa90=_0x5c86bc(0x76c)+Object[_0x5c86bc(0x4e0)](_0x513d82)[_0x5c86bc(0x3f8)](_0x5c2672=>{const _0x404cbb=_0x5c86bc,_0x1ef54b=_0x513d82[_0x5c2672],_0xa984a8=parseInt(_0x5c2672)===_0x5ee768[_0x404cbb(0x825)],_0x326f52=!_0xa984a8&&_0x1ef54b[_0x404cbb(0x509)]>_0x1ef54b[_0x404cbb(0x522)];return _0x404cbb(0x267)+(_0xa984a8?'bg-green-100\x20font-bold':'')+_0x404cbb(0x3e0)+(_0xa984a8?'✔\x20':'')+_0x1ef54b['text']+_0x404cbb(0x679)+_0x1ef54b[_0x404cbb(0x522)]+_0x404cbb(0x679)+_0x1ef54b[_0x404cbb(0x509)]+'\x20'+(_0x326f52?'👍':'')+_0x404cbb(0x679)+_0x1ef54b['total']+_0x404cbb(0x2af);})[_0x5c86bc(0x6b7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x336bab='';_0x3ad305&&_0x3ad305[_0x5c86bc(0x5d8)]&&(_0x336bab=_0x5c86bc(0x2b1)+_0x3ad305['upperGroupResponders']['length']+_0x5c86bc(0x532)+_0x3ad305[_0x5c86bc(0x5d8)][_0x5c86bc(0x3f8)](_0x53c223=>_0x5c86bc(0x3eb)+(_0x53c223[_0x5c86bc(0x594)]?_0x5c86bc(0x9e7):_0x5c86bc(0x5bb))+'\x20'+_0x53c223[_0x5c86bc(0x6e0)]+'</li>')['join']('')+_0x5c86bc(0x5f6)+_0x3ad305[_0x5c86bc(0x37c)][_0x5c86bc(0x475)]+_0x5c86bc(0x532)+_0x3ad305[_0x5c86bc(0x37c)][_0x5c86bc(0x3f8)](_0xf95563=>_0x5c86bc(0x3eb)+(_0xf95563[_0x5c86bc(0x594)]?_0x5c86bc(0x9e7):_0x5c86bc(0x5bb))+'\x20'+_0xf95563[_0x5c86bc(0x6e0)]+_0x5c86bc(0x6d1))[_0x5c86bc(0x6b7)]('')+_0x5c86bc(0x955)),_0x846fbf+=_0x5c86bc(0x6c3)+(_0xbe8afb+0x1)+':\x20'+_0x4963d7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x5b1ea3+_0x5c86bc(0x4dd)+_0x4963d7+_0x5c86bc(0x829)+_0x2d627f+_0x5c86bc(0x476)+_0x1b17c6['length']+_0x5c86bc(0x4c7)+_0x51dd0c[_0x5c86bc(0x4af)](0x0)+_0x5c86bc(0x415)+_0x25cda9['length']+_0x5c86bc(0x63a)+(_0x25cda9[_0x5c86bc(0x475)]>0x0?_0x25cda9[_0x5c86bc(0x6b7)](',\x20'):_0x5c86bc(0x9ad))+_0x5c86bc(0x9b2)+_0x32bdaa[_0x5c86bc(0x475)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x32bdaa[_0x5c86bc(0x475)]>0x0?_0x32bdaa['join'](',\x20'):_0x5c86bc(0x9ad))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0xee1ea7[_0x5c86bc(0x475)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xee1ea7['length']>0x0?_0xee1ea7[_0x5c86bc(0x6b7)](',\x20'):_0x5c86bc(0x9ad))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1faa90+_0x5c86bc(0x2d1)+_0x336bab+_0x5c86bc(0x564);}),_0x2c956['innerHTML']=_0x3b24bd+_0x846fbf;try{window[_0x1c7672(0x60a)]&&MathJax[_0x1c7672(0x59b)]&&MathJax[_0x1c7672(0x59b)]([_0x2c956]);}catch(_0x32cd1d){console[_0x1c7672(0x2fa)](_0x1c7672(0x6eb),_0x32cd1d);}}function calculateDistractorAnalysis(_0x51db5a,_0x107363){const _0x1d7b31=_0x3ac816,_0x34d6f0={};if(_0x107363['length']<0x2)return _0x34d6f0;const _0x2ec486=[..._0x107363][_0x1d7b31(0x9a5)]((_0x4132c2,_0x26d7df)=>{const _0x51b05b=_0x1d7b31,_0x1a510f=_0x26d7df['latestScore']-_0x4132c2[_0x51b05b(0x4b2)];if(_0x1a510f!==0x0)return _0x1a510f;const _0x4eca3e=_0x4132c2[_0x51b05b(0x67a)]?.['length']||0x1,_0x16e7c3=_0x26d7df[_0x51b05b(0x67a)]?.[_0x51b05b(0x475)]||0x1,_0x50ad68=_0x4eca3e-_0x16e7c3;if(_0x50ad68!==0x0)return _0x50ad68;const _0x269bd8=new Date(_0x4132c2['latestSubmittedAt']),_0x43aeab=new Date(_0x26d7df['latestSubmittedAt']),_0x72d998=_0x269bd8-_0x43aeab;if(_0x72d998!==0x0)return _0x72d998;return _0x4132c2[_0x51b05b(0x660)][_0x51b05b(0x820)](_0x26d7df[_0x51b05b(0x660)],'th');}),_0x40de86=_0x2ec486[_0x1d7b31(0x475)],_0x3d6dc3=Math['max'](0x1,Math[_0x1d7b31(0x2f8)](_0x40de86*0.33)),_0x3b2060=_0x2ec486[_0x1d7b31(0x493)](0x0,_0x3d6dc3),_0x34805e=_0x2ec486[_0x1d7b31(0x493)](-_0x3d6dc3);return _0x51db5a[_0x1d7b31(0x2c3)]['forEach']((_0x38d248,_0x24e66)=>{const _0x521f2d=_0x1d7b31;if(_0x38d248[_0x521f2d(0x7bf)]!=='multiple_choice'||!_0x38d248[_0x521f2d(0x431)])return;const _0xd6fc94=_0x38d248[_0x521f2d(0x414)],_0x359c57={};_0x38d248[_0x521f2d(0x431)][_0x521f2d(0x568)]((_0x337104,_0x307e4c)=>{_0x359c57[_0x307e4c]={'text':_0x337104,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2ec486[_0x521f2d(0x568)](_0x4fd6e5=>{const _0x1e31e=_0x521f2d,_0x3ae1c0=_0x4fd6e5[_0x1e31e(0x67a)][_0x4fd6e5[_0x1e31e(0x67a)]['length']-0x1],_0x3f0a9c=_0x3ae1c0[_0x1e31e(0x1fe)]['find'](_0x50348b=>_0x50348b[_0x1e31e(0x66e)]===_0xd6fc94);if(_0x3f0a9c&&_0x3f0a9c[_0x1e31e(0x337)]!==null){const _0xb00140=_0x38d248[_0x1e31e(0x431)][_0x1e31e(0xa43)](_0x1274c2=>_0x1274c2===_0x3f0a9c[_0x1e31e(0x94b)]);_0xb00140!==-0x1&&_0x359c57[_0xb00140]&&(_0x359c57[_0xb00140][_0x1e31e(0x5d2)]++,_0x3b2060['includes'](_0x4fd6e5)&&_0x359c57[_0xb00140]['upper_group_count']++,_0x34805e[_0x1e31e(0x85e)](_0x4fd6e5)&&_0x359c57[_0xb00140][_0x1e31e(0x509)]++);}}),_0x34d6f0[_0x24e66]=_0x359c57;}),_0x34d6f0;}function calculateReliabilityKR20(_0x2c56b7,_0x197538,_0x397bda){const _0xcc505b=_0x3ac816,_0x382b96=_0x2c56b7[_0xcc505b(0x2c3)][_0xcc505b(0x475)];if(_0x382b96<0x2||_0x197538[_0xcc505b(0x475)]<0x2)return null;const _0x15d3d2=_0x197538['map'](_0x40e4f6=>_0x40e4f6[_0xcc505b(0x4b2)]),_0x540c41=_0x15d3d2['reduce']((_0x64f1a2,_0x3ab417)=>_0x64f1a2+_0x3ab417,0x0)/_0x15d3d2[_0xcc505b(0x475)],_0x1a8462=_0x15d3d2['map'](_0x3a4802=>Math[_0xcc505b(0x439)](_0x3a4802-_0x540c41,0x2))[_0xcc505b(0x67f)]((_0x50f097,_0x11e7ba)=>_0x50f097+_0x11e7ba,0x0)/_0x15d3d2[_0xcc505b(0x475)];if(_0x1a8462===0x0)return null;let _0x5f52ce=0x0;for(let _0x358ccd=0x0;_0x358ccd<_0x382b96;_0x358ccd++){const _0x5beac1=_0x397bda[_0x358ccd]?.['p'];if(_0x5beac1===undefined)continue;const _0x4ecc88=0x1-_0x5beac1;_0x5f52ce+=_0x5beac1*_0x4ecc88;}if(_0x5f52ce===0x0)return null;const _0x1b2348=_0x382b96/(_0x382b96-0x1)*(0x1-_0x5f52ce/_0x1a8462);if(_0x1b2348>0x1)return null;return _0x1b2348;}async function handleAnalyzeClass(){const _0x7ed962=_0x3ac816;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x7ed962(0x351));return;}const _0x35bb23=collection(db,_0x7ed962(0xa0c)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x1697dc=await getDocs(_0x35bb23),_0x8b102c=_0x1697dc['docs'][_0x7ed962(0x3f8)](_0x2ccd81=>_0x2ccd81['data']());if(_0x8b102c[_0x7ed962(0x475)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x39d667=document['getElementById']('strength-weakness-analysis-container');_0x39d667[_0x7ed962(0x49f)]=_0x7ed962(0x280),document['getElementById'](_0x7ed962(0x6ac))[_0x7ed962(0x370)]=!![];const _0x331054=_0x8b102c[_0x7ed962(0x3f8)]((_0x4fe3f9,_0xf76f87)=>{const _0x14b58f=_0x7ed962,_0x2d9f82=_0x4fe3f9[_0x14b58f(0x67a)][_0x4fe3f9[_0x14b58f(0x67a)][_0x14b58f(0x475)]-0x1];if(!_0x2d9f82)return'';return _0x14b58f(0x347)+(_0xf76f87+0x1)+'\x20('+_0x4fe3f9[_0x14b58f(0x660)]+_0x14b58f(0x85c)+_0x2d9f82[_0x14b58f(0x582)]+'/'+_0x4fe3f9[_0x14b58f(0x3cc)]+_0x14b58f(0x551)+JSON[_0x14b58f(0x567)](_0x2d9f82[_0x14b58f(0x1fe)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x7ed962(0x6b7)]('\x0a---\x0a'),_0x172358=_0x7ed962(0xa3a)+currentQuizData[_0x7ed962(0x633)]+_0x7ed962(0x455)+JSON['stringify'](currentQuizData['questions'])+_0x7ed962(0x74d)+_0x331054+_0x7ed962(0x931),_0x55fabf={'type':_0x7ed962(0x5f8),'properties':{'classStrengths':{'type':_0x7ed962(0x8b1),'items':{'type':_0x7ed962(0x4d0)}},'classWeaknesses':{'type':_0x7ed962(0x8b1),'items':{'type':_0x7ed962(0x4d0)}},'teacherSuggestions':{'type':_0x7ed962(0x8b1),'items':{'type':_0x7ed962(0x4d0)}}},'required':['classStrengths',_0x7ed962(0x8a0),_0x7ed962(0x51f)]};try{const _0x7045c3=await callAnalysisApi(_0x172358,_0x55fabf);displayClassAnalysis(_0x7045c3);}catch(_0x10cc71){console[_0x7ed962(0x2fa)](_0x7ed962(0x742),_0x10cc71),_0x39d667[_0x7ed962(0x49f)]=_0x7ed962(0x94f)+_0x10cc71['message']+'</p></div>';}finally{document[_0x7ed962(0xa1e)]('analyze-strengths-btn')['disabled']=![];}}function displayClassAnalysis(_0x379598){const _0x1e892c=_0x3ac816,_0x5d606f=document[_0x1e892c(0xa1e)](_0x1e892c(0x9b5));if(!_0x379598){_0x5d606f[_0x1e892c(0x49f)]=_0x1e892c(0x403);return;}_0x5d606f['innerHTML']=_0x1e892c(0x865)+_0x379598[_0x1e892c(0x68c)][_0x1e892c(0x3f8)](_0x2a7b9c=>'<li>'+_0x2a7b9c+_0x1e892c(0x6d1))[_0x1e892c(0x6b7)]('')+_0x1e892c(0x264)+_0x379598[_0x1e892c(0x8a0)]['map'](_0x564306=>_0x1e892c(0x3eb)+_0x564306+_0x1e892c(0x6d1))[_0x1e892c(0x6b7)]('')+_0x1e892c(0x850)+_0x379598['teacherSuggestions'][_0x1e892c(0x3f8)](_0x1a9e8d=>'<li>'+_0x1a9e8d+'</li>')[_0x1e892c(0x6b7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x2070aa,_0x1eb420){const _0x2bdedc=_0x3ac816,_0x1f7807=_0x2bdedc(0x889)+_0x2070aa['topic']+_0x2bdedc(0x7e8)+_0x2070aa[_0x2bdedc(0x633)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2070aa[_0x2bdedc(0x2c3)]['map']((_0x57003a,_0x19cc98)=>_0x2bdedc(0x47b)+(_0x19cc98+0x1)+'.\x20'+_0x57003a[_0x2bdedc(0x414)]+_0x2bdedc(0x968)+(_0x57003a[_0x2bdedc(0x2fb)]?_0x2bdedc(0x26c)+_0x57003a['imageCode']+_0x2bdedc(0x516):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2bdedc(0x6b7)]('')+_0x2bdedc(0x34c);_0x1eb420['document']['write'](_0x1f7807),_0x1eb420[_0x2bdedc(0x53f)][_0x2bdedc(0x2b2)](),_0x1eb420['onload']=function(){setTimeout(()=>{_0x1eb420['print']();},0x3e8);};}async function generateWorksheet(){const _0x380750=_0x3ac816,_0x2b738c=document[_0x380750(0xa1e)](_0x380750(0x3ac))[_0x380750(0x3b8)]['trim']();if(!_0x2b738c){showMessage(_0x380750(0x5b0));return;}const _0x569cf9=document[_0x380750(0xa1e)](_0x380750(0x540))[_0x380750(0x33d)],_0xef77ab=_0x569cf9?'':_0x380750(0x79f),_0x3803ad=window[_0x380750(0x824)]('',_0x380750(0x758));_0x3803ad[_0x380750(0x53f)][_0x380750(0x98d)]('<h1></h1>');const _0x3f8f29=parseInt(document[_0x380750(0xa1e)](_0x380750(0x754))[_0x380750(0x3b8)]),_0x16beb7=document[_0x380750(0xa1e)]('include-images-checkbox')['checked'],_0x5ec7c7=_0x16beb7?_0x380750(0x777):'',_0x552b4a=_0x380750(0x6a1)+_0xef77ab+_0x380750(0x729)+_0x3f8f29+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x2b738c+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ec7c7+_0x380750(0x2c9)+simpleMathPrompt+_0x380750(0x8fa),_0x2ea6f4={'type':_0x380750(0x5f8),'properties':{'topic':{'type':_0x380750(0x4d0)},'questions':{'type':'ARRAY','items':{'type':_0x380750(0x5f8),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x380750(0x414)]}}},'required':[_0x380750(0x633),_0x380750(0x2c3)]};document[_0x380750(0xa1e)](_0x380750(0x295))[_0x380750(0x32e)]='',document[_0x380750(0xa1e)](_0x380750(0x8b8))[_0x380750(0x6d9)][_0x380750(0x309)](_0x380750(0x8da)),document['getElementById'](_0x380750(0x923))['classList']['remove'](_0x380750(0x8da)),generateWorksheetBtn[_0x380750(0x370)]=!![];try{const _0x46e3db=await callAnalysisApi(_0x552b4a,_0x2ea6f4);formatAndPrintWorksheet(_0x46e3db,_0x3803ad);}catch(_0x4324f2){console[_0x380750(0x2fa)](_0x380750(0x8fb),_0x4324f2);if(_0x3803ad)_0x3803ad[_0x380750(0x2b2)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x380750(0xa1e)](_0x380750(0x8b8))['classList'][_0x380750(0x992)](_0x380750(0x8da)),document[_0x380750(0xa1e)]('quiz-generation-area')['classList'][_0x380750(0x992)](_0x380750(0x8da)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x2c2438,_0x2690f4){const _0x46bedb=_0x3ac816,_0x480aa9={'contents':[{'role':_0x46bedb(0x5b8),'parts':[{'text':_0x2c2438}]}],'generationConfig':{'responseMimeType':_0x46bedb(0x4de),'responseSchema':_0x2690f4}},_0x23e1f9='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x22be39=_0x46bedb(0x380)+_0x23e1f9,_0x5401d6=await fetch(_0x22be39,{'method':_0x46bedb(0x25d),'headers':{'Content-Type':_0x46bedb(0x4de)},'body':JSON['stringify'](_0x480aa9)});if(!_0x5401d6['ok'])throw new Error(_0x46bedb(0x382)+_0x5401d6[_0x46bedb(0x93b)]);const _0x582423=await _0x5401d6[_0x46bedb(0x4df)]();if(_0x582423['candidates']?.[0x0]?.['content']?.[_0x46bedb(0x374)]?.[0x0])return JSON[_0x46bedb(0xa33)](_0x582423[_0x46bedb(0x984)][0x0][_0x46bedb(0x9aa)][_0x46bedb(0x374)][0x0]['text']);else{let _0x433005=_0x46bedb(0x845);if(_0x582423['promptFeedback']?.[_0x46bedb(0xa38)])_0x433005=_0x46bedb(0x6c9)+_0x582423[_0x46bedb(0x237)][_0x46bedb(0xa38)]+'.';else _0x582423[_0x46bedb(0x984)]?.[0x0]?.[_0x46bedb(0x42f)]&&_0x582423[_0x46bedb(0x984)][0x0]['finishReason']!==_0x46bedb(0x5bc)&&(_0x433005=_0x46bedb(0x2b9)+_0x582423['candidates'][0x0][_0x46bedb(0x42f)]+'.');console[_0x46bedb(0x2fa)](_0x433005,JSON[_0x46bedb(0x567)](_0x582423));throw new Error(_0x433005);}}initialize();
