const _0x4a01bc=_0x551a;(function(_0x2674a4,_0x5a72ce){const _0x1a51b4=_0x551a,_0x3c86fb=_0x2674a4();while(!![]){try{const _0x167fd4=-parseInt(_0x1a51b4(0xcce))/0x1+-parseInt(_0x1a51b4(0xae2))/0x2*(parseInt(_0x1a51b4(0xca4))/0x3)+-parseInt(_0x1a51b4(0x245))/0x4*(-parseInt(_0x1a51b4(0x866))/0x5)+-parseInt(_0x1a51b4(0x16d))/0x6+-parseInt(_0x1a51b4(0xa0d))/0x7*(-parseInt(_0x1a51b4(0x5f7))/0x8)+parseInt(_0x1a51b4(0xb91))/0x9+-parseInt(_0x1a51b4(0xe2f))/0xa;if(_0x167fd4===_0x5a72ce)break;else _0x3c86fb['push'](_0x3c86fb['shift']());}catch(_0x5b4925){_0x3c86fb['push'](_0x3c86fb['shift']());}}}(_0x1832,0x73cc3));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x4a01bc(0xa56),_0x4a01bc(0xf19),_0x4a01bc(0x24b),_0x4a01bc(0x958),_0x4a01bc(0x40f),'เต่าสายฟ้า','โลมาบิน',_0x4a01bc(0x75e),_0x4a01bc(0xcd4),_0x4a01bc(0x1b3),_0x4a01bc(0x94f),_0x4a01bc(0x17a),_0x4a01bc(0x7a5),_0x4a01bc(0x59c),'อัศวินรัตติกาล','จอมเวทย์ขนมหวาน',_0x4a01bc(0x751),_0x4a01bc(0xd93),'โจรสลัดอวกาศ',_0x4a01bc(0x60e),_0x4a01bc(0xde0),_0x4a01bc(0xc95),_0x4a01bc(0x844),_0x4a01bc(0xf03),_0x4a01bc(0xa1c),_0x4a01bc(0xce4),_0x4a01bc(0x814),_0x4a01bc(0xc2b),_0x4a01bc(0xd51),_0x4a01bc(0xbf7),_0x4a01bc(0x366),_0x4a01bc(0x972),_0x4a01bc(0xd94),_0x4a01bc(0x1c4),'ยูทูปเบอร์ฝึกหัด',_0x4a01bc(0x873),_0x4a01bc(0x5d2),_0x4a01bc(0xb74),'เน็ตไอดอล',_0x4a01bc(0xb6f),'กาแฟขม',_0x4a01bc(0x7e0),_0x4a01bc(0x983),_0x4a01bc(0x27d),_0x4a01bc(0x81f),'ข้าวมันไก่พิเศษ',_0x4a01bc(0x215),'ครัวซองต์',_0x4a01bc(0x4b0),'ลาเต้ไม่หวาน',_0x4a01bc(0x2ee),_0x4a01bc(0x686),_0x4a01bc(0x64d),'นอนไม่พอ',_0x4a01bc(0xb2c),_0x4a01bc(0xaaa),_0x4a01bc(0xad4),_0x4a01bc(0xbc2),_0x4a01bc(0x271),'กองดอง',_0x4a01bc(0x50c),'ตะวันฉาย',_0x4a01bc(0xe24),_0x4a01bc(0xa18),_0x4a01bc(0xda8),'ท้องฟ้า','ทะเล',_0x4a01bc(0xe0a),_0x4a01bc(0xd8a),_0x4a01bc(0x758),_0x4a01bc(0x39d),_0x4a01bc(0x18a),_0x4a01bc(0x6dd),_0x4a01bc(0x742),_0x4a01bc(0x7c0),'นักเขียน','นักวิทยาศาสตร์','นักประดิษฐ์','นักกีฬา',_0x4a01bc(0xc80),'พลังคลื่นเต่า',_0x4a01bc(0x267),'แปลงร่าง',_0x4a01bc(0xc28),'ดาบพิฆาตอสูร',_0x4a01bc(0x564),_0x4a01bc(0xafa),_0x4a01bc(0x35b),_0x4a01bc(0x524),'ฮัลค์',_0x4a01bc(0xbee),_0x4a01bc(0xa0c),_0x4a01bc(0x67d),_0x4a01bc(0x716),_0x4a01bc(0xe31),_0x4a01bc(0xd76),_0x4a01bc(0xb51),_0x4a01bc(0x4ab),_0x4a01bc(0x803),_0x4a01bc(0x543)];let lastSeenQuestionIndex=-0x1,orderedPlayerSelection=[],clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x4a01bc(0xa87),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x4a01bc(0xa87),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4b2afb=_0x4a01bc;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x4b2afb(0x181)][_0x4b2afb(0xf1b)](_0x4b2afb(0xd9c)),console['log'](_0x4b2afb(0x738)),wakeLock['addEventListener'](_0x4b2afb(0x6f2),()=>{const _0x10baf1=_0x4b2afb;console[_0x10baf1(0x546)](_0x10baf1(0x67e));});}catch(_0x517401){console[_0x4b2afb(0xcb6)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x517401[_0x4b2afb(0x9ce)]+',\x20'+_0x517401['message']);}else console['warn'](_0x4b2afb(0x306));},releaseWakeLock=async()=>{const _0x406a89=_0x4a01bc;wakeLock!==null&&(await wakeLock[_0x406a89(0x6f2)](),wakeLock=null,console[_0x406a89(0x546)](_0x406a89(0x7c2)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x45d1ab=_0x4a01bc;if(!document['body'][_0x45d1ab(0xb6d)][_0x45d1ab(0x650)](_0x45d1ab(0xe34))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x362817=_0x45d1ab;document[_0x362817(0x754)][_0x362817(0xb6d)]['add'](_0x362817(0xe34)),console[_0x362817(0x546)](_0x362817(0x3c4));},inactivityTime);}}function wakeUpScreen(_0x241b1c){const _0x51f393=_0x4a01bc;_0x241b1c&&(_0x241b1c[_0x51f393(0xe59)](),_0x241b1c[_0x51f393(0xd66)]());document['body'][_0x51f393(0xb6d)][_0x51f393(0x66f)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x2cc247=_0x51f393;document['body'][_0x2cc247(0xb6d)][_0x2cc247(0xa52)](_0x2cc247(0xe34));},inactivityTime);}function stopDimTimer(){const _0x1a4f68=_0x4a01bc;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x1a4f68(0xb6d)][_0x1a4f68(0x66f)](_0x1a4f68(0xe34)),window[_0x1a4f68(0xb77)](_0x1a4f68(0xde3),resetDimTimer),window[_0x1a4f68(0xb77)](_0x1a4f68(0xbb9),resetDimTimer),window[_0x1a4f68(0xb77)]('touchstart',resetDimTimer),window[_0x1a4f68(0xb77)](_0x1a4f68(0x9a4),resetDimTimer),console[_0x1a4f68(0x546)](_0x1a4f68(0x95b));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x2164e1,_0x190dd9=![]){const _0x4f58db=_0x4a01bc,_0x2396c0=allQuizzes['find'](_0x200689=>_0x200689['id']===_0x2164e1)||allQuizzesGlobal[_0x4f58db(0x1d5)](_0x27f0ca=>_0x27f0ca['id']===_0x2164e1);if(!_0x2396c0){showMessage(_0x4f58db(0x6d4));return;}currentQuizData=getShuffledQuiz(_0x2396c0);const _0x2904ee=Math[_0x4f58db(0xd62)](0x3e8+Math[_0x4f58db(0xf11)]()*0x2328)[_0x4f58db(0x830)]();try{const _0x5192ef=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0x2396c0['id'],'projectId':_0x2396c0[_0x4f58db(0x401)],'status':_0x4f58db(0x31a),'pin':_0x2904ee,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x190dd9});currentTeamQuizId=_0x5192ef['id'],showView(_0x4f58db(0xdc0)),renderAdminTeamQuizDashboard(_0x2904ee,_0x2396c0[_0x4f58db(0xb1c)]),listenForTeamQuizUpdates();}catch(_0x85443e){console[_0x4f58db(0xcb6)](_0x4f58db(0x508),_0x85443e),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x3a058f,_0x25ef92,_0x7c2da0=_0x4a01bc(0x885)){const _0x39a8a3=_0x4a01bc,_0x4a62a6=_0x7c2da0===_0x39a8a3(0x651)?_0x39a8a3(0xd92):_0x39a8a3(0x7fd);liveGameView[_0x39a8a3(0x891)]=_0x39a8a3(0x79e)+_0x4a62a6+':\x20'+_0x25ef92+_0x39a8a3(0xde4)+_0x3a058f+_0x39a8a3(0xc9c),document[_0x39a8a3(0x657)](_0x39a8a3(0x361))[_0x39a8a3(0xdc6)](_0x39a8a3(0x4ca),async()=>{const _0x8b456a=_0x39a8a3;showConfirmation(_0x8b456a(0xd08),async()=>{const _0x30dbf2=_0x8b456a;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x30dbf2(0x4b1)+appId+_0x30dbf2(0xc32),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x9aeff6=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x9aeff6,_0xa20494=>{const _0x2e5960=_0x551a;if(!_0xa20494[_0x2e5960(0xce9)]()){sessionStorage['removeItem'](_0x2e5960(0xe70));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x2e5960(0xa3b));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2e5960(0xf2b)?showView(_0x2e5960(0x478)):showView('student');return;}const _0x13902a=_0xa20494[_0x2e5960(0xd0c)]();if(currentMode===_0x2e5960(0xf2b)){if(_0x13902a['mode']===_0x2e5960(0x651)&&_0x13902a['status']!==_0x2e5960(0x9e2)&&_0x13902a[_0x2e5960(0x531)]!==_0x2e5960(0x6cd)){const _0x58af31=Object['values'](_0x13902a[_0x2e5960(0x9d9)]||{});if(_0x58af31[_0x2e5960(0x8ca)]>0x0){const _0x356e2e=_0x58af31[_0x2e5960(0x733)](_0x12ce89=>_0x12ce89[_0x2e5960(0xcb2)]===!![]);_0x356e2e&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x13902a);}else{if(_0x13902a[_0x2e5960(0x531)]===_0x2e5960(0x9e2)||_0x13902a['status']===_0x2e5960(0x6cd)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x13902a[_0x2e5960(0x4c6)]==='group'){const _0x18e15c=_0x13902a['groups'][userId];(!_0x18e15c||!_0x18e15c['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1ae83e){const _0x3bc228=_0x4a01bc;console[_0x3bc228(0x546)](_0x3bc228(0xa9e));const _0x4296b5=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',_0x1ae83e);try{const _0x826dd2=await getDoc(_0x4296b5);if(_0x826dd2[_0x3bc228(0xce9)]()){const _0x2e577c=_0x826dd2['data']();_0x2e577c[_0x3bc228(0xadf)]&&await saveGameResultsAsSubmissions(_0x2e577c);}await updateDoc(_0x4296b5,{'status':_0x3bc228(0x9e2)});}catch(_0x45f382){console[_0x3bc228(0xcb6)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x45f382);}}function updateAdminTeamDashboard(_0x595571){const _0x9de805=_0x4a01bc,_0x23ae91=document['getElementById'](_0x9de805(0xccf));if(!_0x23ae91)return;const _0x47bccc=_0x595571[_0x9de805(0x4c6)]||_0x9de805(0x885),_0x2773c1=currentQuizData[_0x9de805(0x3ef)][_0x9de805(0x8ca)];if(_0x47bccc==='group'){const _0x4aef63=Object[_0x9de805(0x7ef)](_0x595571[_0x9de805(0x9d9)]||{});if(_0x4aef63[_0x9de805(0x8ca)]===0x0){_0x23ae91[_0x9de805(0x891)]=_0x9de805(0x49e);return;}const _0x32fc9d=[..._0x4aef63]['sort']((_0x5d72ea,_0x254b55)=>_0x254b55[_0x9de805(0x43c)]-_0x5d72ea[_0x9de805(0x43c)]),_0x189652=_0x32fc9d[_0x9de805(0x823)]((_0x5a2693,_0x2e9864)=>{const _0x17859b=_0x9de805,_0x469545=_0x5a2693[_0x17859b(0xbd1)]?.['length']||0x0;return _0x17859b(0xcbb)+(_0x2e9864+0x1)+_0x17859b(0x66d)+_0x5a2693['members']['join'](',\x20')+_0x17859b(0x319)+_0x469545+'/'+_0x2773c1+_0x17859b(0x9b1)+_0x5a2693[_0x17859b(0x43c)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x9de805(0x566)](''),_0x490605=currentQuizData[_0x9de805(0x3ef)][_0x9de805(0x823)]((_0x2b8075,_0xcebd50)=>{const _0x383edf=_0x9de805;let _0x4d68f4=0x0,_0x365f3b=0x0;_0x4aef63[_0x383edf(0x427)](_0x58a508=>{const _0x465b6a=_0x383edf,_0x1740a3=_0x58a508[_0x465b6a(0xbd1)]?.[_0x465b6a(0x1d5)](_0x390f21=>_0x390f21['questionIndex']===_0xcebd50);if(_0x1740a3){_0x365f3b++;if(_0x1740a3['isCorrect'])_0x4d68f4++;}});const _0x3e084b=_0x365f3b>0x0&&_0x365f3b===_0x4aef63[_0x383edf(0x8ca)],_0x176d82=_0x3e084b?_0x383edf(0x38d):_0x383edf(0x400),_0x51ec1b=_0x3e084b?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x383edf(0xb9e)+_0x176d82+_0x383edf(0xa6d)+(_0xcebd50+0x1)+_0x383edf(0xcf2)+_0x51ec1b+_0x383edf(0x9f8)+_0x4d68f4+'/'+_0x4aef63[_0x383edf(0x8ca)]+_0x383edf(0xd25);})['join']('');_0x23ae91[_0x9de805(0x891)]=_0x9de805(0xe76)+_0x189652+_0x9de805(0x9d3)+_0x490605+_0x9de805(0x1b9);return;}const _0x4abda1=_0x595571[_0x9de805(0x2fa)]||{},_0x379b2b=Object[_0x9de805(0xde1)](_0x4abda1);if(_0x379b2b['length']===0x0){_0x23ae91[_0x9de805(0x891)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x2524f8=_0x379b2b[_0x9de805(0x823)](_0x3837ba=>({'name':_0x3837ba,'score':_0x4abda1[_0x3837ba][_0x9de805(0x43c)]||0x0}))['sort']((_0x469d7d,_0xfd14b9)=>_0xfd14b9['score']-_0x469d7d[_0x9de805(0x43c)]),_0x4d2db7=_0x2524f8[_0x9de805(0x823)](_0x337fcb=>{const _0x38893e=_0x9de805,_0x43b02e=_0x4abda1[_0x337fcb['name']]?.[_0x38893e(0xbd1)]?.['length']||0x0,_0x11278e=Math[_0x38893e(0x322)](_0x2773c1/_0x379b2b[_0x38893e(0x8ca)]);return _0x38893e(0xdd5)+_0x337fcb['name']+_0x38893e(0x489)+_0x43b02e+'/'+_0x11278e+_0x38893e(0x1ac)+_0x337fcb[_0x38893e(0x43c)]+_0x38893e(0x37d);})[_0x9de805(0x566)](''),_0x4ce519=_0x379b2b[_0x9de805(0xc91)]((_0x1b96fc,_0x4282e1)=>_0x1b96fc+(_0x4abda1[_0x4282e1][_0x9de805(0xbd1)]?.[_0x9de805(0x8ca)]||0x0),0x0),_0x4d545a=currentQuizData[_0x9de805(0x3ef)][_0x9de805(0x823)]((_0x1c068a,_0x51c66b)=>{const _0x43f0a=_0x9de805;let _0x414d8f=null,_0x3d0a9a=null;for(const _0x1c85c7 of _0x379b2b){const _0x8e07f9=_0x4abda1[_0x1c85c7]['answers']?.['find'](_0x577d3d=>_0x577d3d[_0x43f0a(0x683)]===_0x51c66b);if(_0x8e07f9){_0x414d8f=_0x8e07f9,_0x3d0a9a=_0x1c85c7;break;}}const _0x1aa8c3=!!_0x414d8f,_0x57429c=_0x1aa8c3&&_0x414d8f['isCorrect'],_0x5c7267=(Math[_0x43f0a(0xd62)](_0x51c66b/_0x379b2b['length'])+0x1)*_0x379b2b[_0x43f0a(0x8ca)],_0x4d9f65=_0x4ce519>=_0x5c7267,_0x5d8ee3=_0x4d9f65?_0x43f0a(0x83e):_0x43f0a(0x400),_0x481de3=_0x4d9f65?_0x43f0a(0x221):'';let _0x390b85=_0x43f0a(0x8bd);return _0x1aa8c3&&(_0x390b85=_0x3d0a9a+'\x20ตอบ'+(_0x57429c?_0x43f0a(0xdb8):'ผิด')),_0x43f0a(0xb9e)+_0x5d8ee3+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x51c66b+0x1)+_0x43f0a(0xcf2)+_0x481de3+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x390b85+_0x43f0a(0x298);})[_0x9de805(0x566)]('');_0x23ae91[_0x9de805(0x891)]=_0x9de805(0x30d)+_0x4d2db7+_0x9de805(0xa89)+_0x4d545a+_0x9de805(0x1b9);}async function handleJoinTeamQuiz(){const _0x57770d=_0x4a01bc,_0x2706e0=prompt(_0x57770d(0x539));if(!_0x2706e0||_0x2706e0[_0x57770d(0x5b2)]()['length']!==0x4){showMessage(_0x57770d(0x856));return;}try{const _0x1b6f70=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x168f61=query(_0x1b6f70,where(_0x57770d(0x7a7),'==',_0x2706e0[_0x57770d(0x5b2)]()),where(_0x57770d(0x531),'==',_0x57770d(0x31a))),_0x277ecb=await getDocs(_0x168f61);if(_0x277ecb['empty']){showMessage(_0x57770d(0x3c8));return;}const _0x41672b=_0x277ecb[_0x57770d(0xb70)][0x0];currentTeamQuizId=_0x41672b['id'];const _0x328fd4=_0x41672b[_0x57770d(0xd0c)](),_0x32f140=doc(db,'artifacts/'+appId+'/public/data/projects',_0x328fd4['projectId']),_0x7fd3ed=doc(db,_0x57770d(0x4b1)+appId+'/public/data/quizzes',_0x328fd4[_0x57770d(0x8a3)]),[_0x379938,_0x982ff3]=await Promise[_0x57770d(0xa87)]([getDoc(_0x32f140),getDoc(_0x7fd3ed)]);if(!_0x379938[_0x57770d(0xce9)]()||!_0x982ff3['exists']())throw new Error(_0x57770d(0xb8e));currentQuizData=getShuffledQuiz({'id':_0x982ff3['id'],..._0x982ff3[_0x57770d(0xd0c)]()});const _0x3566e0=_0x379938[_0x57770d(0xd0c)]();showTeamPlayerSelection(_0x3566e0[_0x57770d(0xc2e)],currentQuizData[_0x57770d(0xb1c)]);}catch(_0x1bae90){console['error'](_0x57770d(0xe1b),_0x1bae90),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1bae90[_0x57770d(0x9a1)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x1ad688=_0x4a01bc;currentInputPin='',updatePinDisplay(),document['getElementById'](_0x1ad688(0x236))[_0x1ad688(0xb6d)][_0x1ad688(0x66f)]('hidden');}function updatePinDisplay(){const _0x336408=_0x4a01bc,_0x269a2f=document[_0x336408(0x180)](_0x336408(0x9b6));_0x269a2f[_0x336408(0x427)]((_0x3dc70c,_0x283ba1)=>{const _0x38bc09=_0x336408;_0x283ba1<currentInputPin[_0x38bc09(0x8ca)]?(_0x3dc70c[_0x38bc09(0x54c)]=currentInputPin[_0x283ba1],_0x3dc70c[_0x38bc09(0xb6d)][_0x38bc09(0xa52)](_0x38bc09(0xf25),_0x38bc09(0x317)),_0x3dc70c[_0x38bc09(0xb6d)][_0x38bc09(0x66f)](_0x38bc09(0xc6b),_0x38bc09(0xb28))):(_0x3dc70c[_0x38bc09(0x54c)]='',_0x3dc70c['classList'][_0x38bc09(0x66f)](_0x38bc09(0xf25),'bg-white'),_0x3dc70c['classList']['add'](_0x38bc09(0xc6b),_0x38bc09(0xb28)));});}async function handlePinKeyPress(_0xfa0c1b){const _0x56f626=_0x4a01bc;if(_0xfa0c1b===_0x56f626(0x224))currentInputPin=currentInputPin['slice'](0x0,-0x1);else currentInputPin['length']<0x4&&(currentInputPin+=_0xfa0c1b);updatePinDisplay(),currentInputPin[_0x56f626(0x8ca)]===0x4&&setTimeout(async()=>{const _0x5579ca=_0x56f626;document['getElementById'](_0x5579ca(0x236))['classList']['add'](_0x5579ca(0x599)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x2c27ed){const _0x440b49=_0x4a01bc,_0x1bf7c2=_0x2c27ed[_0x440b49(0x5b2)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x417c8c=collection(db,_0x440b49(0x4b1)+appId+_0x440b49(0xc32)),_0x4f5c47=query(_0x417c8c,where(_0x440b49(0x7a7),'==',_0x1bf7c2),where(_0x440b49(0x531),'==',_0x440b49(0x31a))),_0x40d4dd=await getDocs(_0x4f5c47);if(!_0x40d4dd[_0x440b49(0x8fd)]){console[_0x440b49(0x546)](_0x440b49(0x685)),await proceedWithTeamQuizJoin(_0x40d4dd[_0x440b49(0xb70)][0x0]);return;}const _0x1ed026=collection(db,'artifacts/'+appId+_0x440b49(0xa25)),_0x17364a=query(_0x1ed026,where(_0x440b49(0x7a7),'==',_0x1bf7c2),where(_0x440b49(0x531),'in',[_0x440b49(0x31a),_0x440b49(0xe3b),_0x440b49(0x613),_0x440b49(0x23b)])),_0x57f777=await getDocs(_0x17364a);if(!_0x57f777[_0x440b49(0x8fd)]){console['log'](_0x440b49(0xe42)),await proceedWithSyncQuizJoin(_0x57f777[_0x440b49(0xb70)][0x0]);return;}showMessage(_0x440b49(0x93a));}catch(_0xce39e8){console[_0x440b49(0xcb6)](_0x440b49(0x3d9),_0xce39e8),showMessage(_0x440b49(0xc5a)+_0xce39e8['message']);}}async function proceedWithTeamQuizJoin(_0x50c591){const _0x1e6cc3=_0x4a01bc;currentTeamQuizId=_0x50c591['id'];const _0x7b1028=_0x50c591[_0x1e6cc3(0xd0c)](),_0xcbe4c5=doc(db,'artifacts/'+appId+_0x1e6cc3(0x780),_0x7b1028[_0x1e6cc3(0x401)]),_0x8cd9e3=doc(db,_0x1e6cc3(0x4b1)+appId+_0x1e6cc3(0x8cb),_0x7b1028[_0x1e6cc3(0x8a3)]),[_0x60444f,_0x16139a]=await Promise['all']([getDoc(_0xcbe4c5),getDoc(_0x8cd9e3)]);if(!_0x60444f['exists']()||!_0x16139a[_0x1e6cc3(0xce9)]())throw new Error(_0x1e6cc3(0xb8e));currentQuizData=getShuffledQuiz({'id':_0x16139a['id'],..._0x16139a[_0x1e6cc3(0xd0c)]()}),showTeamPlayerSelection(_0x60444f[_0x1e6cc3(0xd0c)]()['students'],currentQuizData[_0x1e6cc3(0xb1c)],_0x7b1028['mode']||_0x1e6cc3(0x885)),messageModal[_0x1e6cc3(0xb6d)][_0x1e6cc3(0xa52)](_0x1e6cc3(0x599));}async function proceedWithSyncQuizJoin(_0x4b5d05){const _0x334412=_0x4a01bc;currentLiveGameId=_0x4b5d05['id'];const _0x24f368=_0x4b5d05[_0x334412(0xd0c)](),_0x2396ed=doc(db,'artifacts/'+appId+_0x334412(0x8cb),_0x24f368[_0x334412(0x8a3)]),_0x400184=await getDoc(_0x2396ed);if(!_0x400184[_0x334412(0xce9)]())throw new Error(_0x334412(0x6d4));const _0x298d83=_0x400184[_0x334412(0xd0c)](),_0xf91ad8=doc(db,_0x334412(0x4b1)+appId+_0x334412(0x780),_0x298d83[_0x334412(0x401)]),_0xfe765b=await getDoc(_0xf91ad8);if(!_0xfe765b['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x24f368[_0x334412(0x7ce)],showView(_0x334412(0x604)),showTeamPlayerSelection(_0xfe765b[_0x334412(0xd0c)]()['students'],_0x298d83[_0x334412(0xb1c)],'sync');const _0x5ccf22=document[_0x334412(0x657)](_0x334412(0xca6)),_0x3195e7=_0x5ccf22[_0x334412(0x8cd)](!![]);_0x5ccf22[_0x334412(0xb71)][_0x334412(0x4bc)](_0x3195e7,_0x5ccf22),_0x3195e7['onclick']=confirmAndJoinSyncGame,messageModal[_0x334412(0xb6d)][_0x334412(0xa52)](_0x334412(0x599));}function getCleanApplicationHTML(){const _0x3333b0=_0x4a01bc,_0x54f8f7=document[_0x3333b0(0x657)](_0x3333b0(0xb03));if(!_0x54f8f7)return'';const _0x31ce4f=_0x54f8f7[_0x3333b0(0x8cd)](!![]);return _0x31ce4f[_0x3333b0(0x180)](_0x3333b0(0x4f1))[_0x3333b0(0x427)](_0x45acb7=>{const _0x1cf5cc=_0x3333b0;_0x45acb7['classList'][_0x1cf5cc(0x66f)](_0x1cf5cc(0x3b5),_0x1cf5cc(0xbf1)),_0x45acb7[_0x1cf5cc(0x4b4)]=![];}),_0x31ce4f['innerHTML'];}function showTeamPlayerSelection(_0x52186e,_0x5075f6,_0x1cc2de='team'){const _0x4994a1=_0x4a01bc;studentInitialView[_0x4994a1(0xb6d)][_0x4994a1(0xa52)](_0x4994a1(0x599)),studentJoinGameView[_0x4994a1(0xb6d)][_0x4994a1(0xa52)]('hidden'),document[_0x4994a1(0x657)]('student-team-selection-view')[_0x4994a1(0xb6d)][_0x4994a1(0x66f)](_0x4994a1(0x599)),orderedPlayerSelection=[];let _0x23e61d=_0x4994a1(0x7fd);if(_0x1cc2de==='group')_0x23e61d=_0x4994a1(0xd92);else _0x1cc2de==='sync'&&(_0x23e61d='Sync\x20Mode');document[_0x4994a1(0x657)](_0x4994a1(0x216))['textContent']=_0x23e61d+':\x20'+_0x5075f6;const _0x54de14=document[_0x4994a1(0x657)]('team-student-list');if(!_0x52186e||_0x52186e['length']===0x0){_0x54de14[_0x4994a1(0x891)]=_0x4994a1(0xa57),document['getElementById']('confirm-team-players-btn')[_0x4994a1(0x4b4)]=!![];return;}_0x54de14[_0x4994a1(0x891)]=_0x52186e[_0x4994a1(0x823)](_0x26e912=>_0x4994a1(0x929)+_0x26e912+_0x4994a1(0xd5b)+_0x26e912+_0x4994a1(0xd7b))[_0x4994a1(0x566)](''),document['getElementById'](_0x4994a1(0xca6))[_0x4994a1(0x4b4)]=![];const _0x2f938b=_0x54de14[_0x4994a1(0x180)](_0x4994a1(0xed0));_0x2f938b[_0x4994a1(0x427)](_0x25f289=>{const _0x28aacc=_0x4994a1;_0x25f289['addEventListener'](_0x28aacc(0x79d),_0x56813f=>{const _0x2d1e8c=_0x28aacc,_0x516925=_0x56813f[_0x2d1e8c(0x6f7)][_0x2d1e8c(0x68e)];_0x56813f[_0x2d1e8c(0x6f7)][_0x2d1e8c(0x536)]?!orderedPlayerSelection['includes'](_0x516925)&&orderedPlayerSelection['push'](_0x516925):orderedPlayerSelection=orderedPlayerSelection['filter'](_0x103f4e=>_0x103f4e!==_0x516925),updateSelectionOrderVisuals(_0x54de14);});});}function updateSelectionOrderVisuals(_0x9cf285){const _0x25278b=_0x4a01bc,_0x5064f2=_0x9cf285[_0x25278b(0x180)](_0x25278b(0xed0));_0x5064f2[_0x25278b(0x427)](_0x2dc90e=>{const _0x588e0b=_0x25278b,_0x48a36d=_0x2dc90e['closest'](_0x588e0b(0x4a1)),_0x503f98=_0x48a36d[_0x588e0b(0x5cd)]('.order-badge');if(_0x2dc90e[_0x588e0b(0x536)]){const _0x3ee8b5=orderedPlayerSelection[_0x588e0b(0xc27)](_0x2dc90e[_0x588e0b(0x68e)]);_0x3ee8b5!==-0x1&&(_0x503f98['textContent']=_0x588e0b(0x1db)+(_0x3ee8b5+0x1),_0x503f98[_0x588e0b(0xb6d)]['remove'](_0x588e0b(0x599)),_0x48a36d[_0x588e0b(0xb6d)]['add']('bg-indigo-50',_0x588e0b(0x3ac)));}else _0x503f98[_0x588e0b(0xb6d)][_0x588e0b(0xa52)](_0x588e0b(0x599)),_0x48a36d[_0x588e0b(0xb6d)]['remove']('bg-indigo-50',_0x588e0b(0x3ac));});}async function confirmAndStartTeamQuiz(){const _0xd8e8b5=_0x4a01bc,_0xf9749f=[...orderedPlayerSelection];if(_0xf9749f[_0xd8e8b5(0x8ca)]===0x0){showMessage(_0xd8e8b5(0x893));return;}localTeamPlayers=_0xf9749f,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x4b4626=doc(db,_0xd8e8b5(0x4b1)+appId+_0xd8e8b5(0xc32),currentTeamQuizId);try{const _0x41a76d=await getDoc(_0x4b4626);if(!_0x41a76d[_0xd8e8b5(0xce9)]())throw new Error(_0xd8e8b5(0xa5b));const _0xf7bba4=_0x41a76d[_0xd8e8b5(0xd0c)]();if(_0xf7bba4['mode']===_0xd8e8b5(0x651)){const _0x550d39={[_0xd8e8b5(0xd48)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x4b4626,_0x550d39);}else{const _0x241ea9=_0xf7bba4[_0xd8e8b5(0x2fa)]||{};localTeamPlayers['forEach'](_0x244edd=>{!_0x241ea9[_0x244edd]&&(_0x241ea9[_0x244edd]={'score':0x0,'answers':[]});}),await updateDoc(_0x4b4626,{'responses':_0x241ea9});}document[_0xd8e8b5(0x657)](_0xd8e8b5(0x9f9))[_0xd8e8b5(0xb6d)][_0xd8e8b5(0xa52)]('hidden'),renderTeamQuizQuestion();const _0xf20308={'gameId':currentTeamQuizId,'mode':_0xf7bba4[_0xd8e8b5(0x4c6)]||_0xd8e8b5(0x885),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0xd8e8b5(0xe70),JSON[_0xd8e8b5(0x7ba)](_0xf20308)),listenForTeamQuizUpdates();}catch(_0x5f02d7){console[_0xd8e8b5(0xcb6)](_0xd8e8b5(0x1d0),_0x5f02d7),showMessage(_0xd8e8b5(0x2e9));}}async function renderTeamQuizQuestion(){const _0x32ac82=_0x4a01bc;if(localQuestionIndex>=currentQuizData[_0x32ac82(0x3ef)][_0x32ac82(0x8ca)]){displayTeamQuizFinalResults();return;}const _0x378258=currentQuizData[_0x32ac82(0x3ef)][localQuestionIndex],_0xe05a61=localTeamPlayers[localPlayerIndex],_0x1eaeff=_0x378258[_0x32ac82(0x7ed)]||currentQuizData[_0x32ac82(0x335)];let _0x9d8cf7=_0x378258[_0x32ac82(0x472)]||_0x378258['questionText'],_0x1714c3='';switch(_0x1eaeff){case _0x32ac82(0xa7c):case _0x32ac82(0xbe6):_0x1714c3=_0x378258[_0x32ac82(0x5e9)][_0x32ac82(0x823)]((_0x2af4f5,_0x225877)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x225877+_0x32ac82(0x7bf)+_0x225877+_0x32ac82(0xa32)+_0x225877+'\x22>'+_0x2af4f5+_0x32ac82(0x527))[_0x32ac82(0x566)]('');break;case _0x32ac82(0x446):_0x1714c3='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0x32ac82(0x467):_0x1714c3=_0x32ac82(0x331);break;case'matching_item':_0x1714c3=_0x32ac82(0x3a3)+_0x378258[_0x32ac82(0xa5e)][_0x32ac82(0x823)](_0xc1c742=>_0x32ac82(0xd75)+_0xc1c742+'\x22>'+_0xc1c742+_0x32ac82(0xdb1))[_0x32ac82(0x566)]('')+'</select>';break;default:_0x1714c3=_0x32ac82(0xe78);break;}studentQuizArea[_0x32ac82(0x891)]=_0x32ac82(0x9b0)+(localQuestionIndex+0x1)+_0x32ac82(0xa47)+currentQuizData[_0x32ac82(0x3ef)][_0x32ac82(0x8ca)]+_0x32ac82(0x1eb)+_0xe05a61+_0x32ac82(0x931)+(localQuestionIndex+0x1)+'.\x20'+_0x9d8cf7+_0x32ac82(0x5e0)+(_0x378258[_0x32ac82(0x277)]?_0x32ac82(0x8c6)+_0x378258['imageCode']+_0x32ac82(0xbfc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1714c3+_0x32ac82(0x7ca),studentQuizArea[_0x32ac82(0xb6d)][_0x32ac82(0x66f)](_0x32ac82(0x599));if(window[_0x32ac82(0x436)])MathJax[_0x32ac82(0xdce)]([studentQuizArea]);document[_0x32ac82(0x657)](_0x32ac82(0xe1d))[_0x32ac82(0xdc6)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x257c7d=_0x4a01bc,_0x81674=currentQuizData['questions'][localQuestionIndex],_0x1f91e4=_0x81674[_0x257c7d(0x7ed)]||currentQuizData[_0x257c7d(0x335)];let _0x30a4f2=null,_0xe0d62f=![];if(_0x1f91e4==='short_answer'||_0x1f91e4===_0x257c7d(0x467)){const _0x14138e=document[_0x257c7d(0x5cd)](_0x257c7d(0xa91));if(!_0x14138e||!_0x14138e['value'][_0x257c7d(0x5b2)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x30a4f2=_0x14138e[_0x257c7d(0x68e)][_0x257c7d(0x5b2)](),_0xe0d62f=await gradeShortAnswer(_0x30a4f2,_0x81674);}else{const _0x4f6783=document[_0x257c7d(0x5cd)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4f6783||_0x4f6783[_0x257c7d(0x68e)]===''){showMessage(_0x257c7d(0xcda));return;}_0x30a4f2=_0x4f6783[_0x257c7d(0x68e)];switch(_0x1f91e4){case _0x257c7d(0x446):_0xe0d62f=_0x30a4f2===_0x257c7d(0x804)===_0x81674['correctAnswer'];break;case'matching_item':_0xe0d62f=_0x30a4f2===_0x81674[_0x257c7d(0xdf0)];break;default:_0xe0d62f=parseInt(_0x30a4f2)===_0x81674[_0x257c7d(0xf16)];break;}}const _0x34ff7e={'questionIndex':localQuestionIndex,'isCorrect':_0xe0d62f},_0x1ac9a6=userId,_0x1a2197={[_0x257c7d(0xd48)+_0x1ac9a6+_0x257c7d(0xeec)]:arrayUnion(_0x34ff7e)};_0xe0d62f&&(_0x1a2197[_0x257c7d(0xd48)+_0x1ac9a6+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x257c7d(0x4b1)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x1a2197),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x257c7d(0x3ef)][_0x257c7d(0x8ca)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x544b8){console['error'](_0x257c7d(0xb4b),_0x544b8),showMessage(_0x257c7d(0xd50));}}async function handleTeamAnswerSubmit(){const _0x3f24f7=_0x4a01bc,_0x44a0fa=await getDoc(doc(db,_0x3f24f7(0x4b1)+appId+_0x3f24f7(0xc32),currentTeamQuizId));if(!_0x44a0fa['exists']())return;const _0x4001e3=_0x44a0fa['data']();if(_0x4001e3[_0x3f24f7(0x4c6)]==='group'){handleGroupAnswerSubmit();return;}const _0xcbac77=localTeamPlayers[localPlayerIndex],_0x21d420=currentQuizData['questions'][localQuestionIndex],_0x5353b9=_0x21d420['questionType']||currentQuizData[_0x3f24f7(0x335)];let _0x5d27a3=null,_0x467a67=![];if(_0x5353b9===_0x3f24f7(0x190)||_0x5353b9===_0x3f24f7(0x467)){const _0x3d3840=document[_0x3f24f7(0x5cd)]('textarea[name=\x22team_answer\x22]');if(!_0x3d3840||!_0x3d3840['value']['trim']()){showMessage(_0x3f24f7(0x36a));return;}_0x5d27a3=_0x3d3840[_0x3f24f7(0x68e)][_0x3f24f7(0x5b2)](),_0x467a67=await gradeShortAnswer(_0x5d27a3,_0x21d420);}else{const _0x1cf589=document[_0x3f24f7(0x5cd)](_0x3f24f7(0x5fa));if(!_0x1cf589||_0x1cf589[_0x3f24f7(0x68e)]===''){showMessage(_0x3f24f7(0xdf9));return;}_0x5d27a3=_0x1cf589[_0x3f24f7(0x68e)];switch(_0x5353b9){case'true_false':_0x467a67=_0x5d27a3===_0x3f24f7(0x804)===_0x21d420[_0x3f24f7(0x315)];break;case _0x3f24f7(0xd13):_0x467a67=_0x5d27a3===_0x21d420[_0x3f24f7(0xdf0)];break;default:_0x467a67=parseInt(_0x5d27a3)===_0x21d420[_0x3f24f7(0xf16)];break;}}const _0x5f49d1={'questionIndex':localQuestionIndex,'isCorrect':_0x467a67,'answerValue':_0x5d27a3},_0x31aada={[_0x3f24f7(0x74b)+_0xcbac77+'.answers']:arrayUnion(_0x5f49d1)};_0x467a67&&(_0x31aada[_0x3f24f7(0x74b)+_0xcbac77+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x3f24f7(0x4b1)+appId+_0x3f24f7(0xc32),currentTeamQuizId),_0x31aada),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x3f24f7(0x8ca)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x2fe24d){console[_0x3f24f7(0xcb6)](_0x3f24f7(0xc26),_0x2fe24d),showMessage(_0x3f24f7(0xd50));}}async function displayTeamQuizFinalResults(){const _0x157c9a=_0x4a01bc;studentQuizArea[_0x157c9a(0xb6d)][_0x157c9a(0xa52)](_0x157c9a(0x599)),studentResultArea[_0x157c9a(0xb6d)][_0x157c9a(0x66f)]('hidden');const _0x47de9c=doc(db,_0x157c9a(0x4b1)+appId+_0x157c9a(0xc32),currentTeamQuizId),_0x1dc46f=await getDoc(_0x47de9c);if(!_0x1dc46f['exists']()){studentResultArea[_0x157c9a(0x891)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x4c3dfd=_0x1dc46f[_0x157c9a(0xd0c)]();let _0xf13a10=[];const _0x3cf4c3=_0x4c3dfd[_0x157c9a(0x4c6)]||_0x157c9a(0x885);if(_0x3cf4c3===_0x157c9a(0x651)){const _0x2431cb=_0x4c3dfd['groups'][userId];_0x2431cb?_0xf13a10=[{'name':_0x157c9a(0x802)+localTeamPlayers[_0x157c9a(0x566)](',\x20'),'score':_0x2431cb['score']||0x0}]:_0xf13a10=[{'name':_0x157c9a(0xce3),'score':'N/A'}];}else _0xf13a10=localTeamPlayers[_0x157c9a(0x823)](_0x5afb84=>({'name':_0x5afb84,'score':_0x4c3dfd[_0x157c9a(0x2fa)][_0x5afb84]?.['score']||0x0}))['sort']((_0x54be3b,_0xa9ba)=>_0xa9ba['score']-_0x54be3b[_0x157c9a(0x43c)]);studentResultArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf13a10[_0x157c9a(0x823)](_0x41552f=>_0x157c9a(0x2a1)+_0x41552f[_0x157c9a(0x9ce)]+_0x157c9a(0x292)+_0x41552f['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x157c9a(0x566)]('')+_0x157c9a(0xa71),sessionStorage['removeItem'](_0x157c9a(0xe70)),currentMode===_0x157c9a(0xf2b)&&currentTeamQuizId&&setTimeout(()=>{const _0xf4df7c=_0x157c9a;deleteDoc(doc(db,_0xf4df7c(0x4b1)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4a01bc(0xc72),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0xb8f)},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0xb39)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0xb89)},{'category':_0x4a01bc(0xb5e),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0x739)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0xa79)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0xeb0)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0xd06)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x586)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x69b)},{'category':_0x4a01bc(0xb5e),'name':'ศูนย์'},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0xc9a)},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0xea9)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x973)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x703)},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0xeeb)},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0xe2e)},{'category':_0x4a01bc(0xb5e),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0x4d3)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x992)},{'category':'จำนวนและการดำเนินการ','name':'การลบเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0x247)},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0x174)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x1c1)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x309)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x2d7)},{'category':_0x4a01bc(0xb5e),'name':'การลบทศนิยม'},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x671)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x70b)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x18e)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x475)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x19a)},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0x497)},{'category':'จำนวนและการดำเนินการ','name':_0x4a01bc(0xef2)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x98c)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0xae6)},{'category':_0x4a01bc(0xb5e),'name':_0x4a01bc(0x87f)},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0x49d)},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0xe92)},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0x959)},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0x5c0)},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0x47d)},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0x442)},{'category':_0x4a01bc(0x61f),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':_0x4a01bc(0xc68)},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0x56b)},{'category':'การวัด','name':_0x4a01bc(0x36e)},{'category':_0x4a01bc(0x61f),'name':_0x4a01bc(0x438)},{'category':'การวัด','name':_0x4a01bc(0xc77)},{'category':'เรขาคณิต','name':_0x4a01bc(0x311)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0x8f1)},{'category':_0x4a01bc(0x5d1),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':'เรขาคณิต','name':_0x4a01bc(0x442)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0x841)},{'category':_0x4a01bc(0x5d1),'name':'ความคล้ายของรูป'},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0xe6a)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0x773)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0x2d0)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0x8b6)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0x8ec)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0x327)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0xa2d)},{'category':_0x4a01bc(0x5d1),'name':_0x4a01bc(0xba1)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a01bc(0x834)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x48e)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x272)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a01bc(0xaff)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x702)},{'category':_0x4a01bc(0xaf6),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x29a)},{'category':_0x4a01bc(0xaf6),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x641)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x96b)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x909)},{'category':_0x4a01bc(0xaf6),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a01bc(0xef1)},{'category':_0x4a01bc(0xaf6),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x665)},{'category':_0x4a01bc(0xaf6),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0xa31)},{'category':_0x4a01bc(0xaf6),'name':'องค์ประกอบของฟังก์ชัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a01bc(0x7c6)},{'category':_0x4a01bc(0xaf6),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0xe37)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x7f0)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x1a2)},{'category':_0x4a01bc(0xaf6),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0xb6c)},{'category':_0x4a01bc(0xaf6),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a01bc(0x237)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0xcaf)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x6f1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a01bc(0xf13)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0xcd8)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0x2d9)},{'category':_0x4a01bc(0xaf6),'name':_0x4a01bc(0xd82)},{'category':_0x4a01bc(0xaf6),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x4a01bc(0xa05),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x4a01bc(0xa05),'name':'ความชันและเส้นตรง'},{'category':_0x4a01bc(0xa05),'name':_0x4a01bc(0xb60)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4a01bc(0xf06)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4a01bc(0xae7)},{'category':_0x4a01bc(0xa05),'name':_0x4a01bc(0x9d1)},{'category':_0x4a01bc(0xa05),'name':_0x4a01bc(0x17c)},{'category':_0x4a01bc(0xa05),'name':_0x4a01bc(0x69f)},{'category':'ตรีโกณมิติ','name':_0x4a01bc(0xd34)},{'category':_0x4a01bc(0x6e4),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x4a01bc(0x6e4),'name':_0x4a01bc(0x2c8)},{'category':'ตรีโกณมิติ','name':_0x4a01bc(0x629)},{'category':_0x4a01bc(0x6e4),'name':_0x4a01bc(0x661)},{'category':_0x4a01bc(0x6e4),'name':_0x4a01bc(0xaa3)},{'category':_0x4a01bc(0x6e4),'name':_0x4a01bc(0x714)},{'category':_0x4a01bc(0x6e4),'name':_0x4a01bc(0x6c1)},{'category':_0x4a01bc(0x6e4),'name':_0x4a01bc(0x903)},{'category':'ตรีโกณมิติ','name':_0x4a01bc(0x7ec)},{'category':_0x4a01bc(0x6e4),'name':_0x4a01bc(0x61e)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x80c)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0xc3a)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0x4a01bc(0x440)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x6e3)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x384)},{'category':_0x4a01bc(0xf2c),'name':'ค่าเฉลี่ย'},{'category':_0x4a01bc(0xf2c),'name':'มัธยฐาน'},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0xf27)},{'category':_0x4a01bc(0xf2c),'name':'พิสัย'},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x89b)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0xe5c)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x2fe)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0xc52)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x3d4)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x829)},{'category':'สถิติและความน่าจะเป็น','name':_0x4a01bc(0x2e2)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0xcd0)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0x280)},{'category':_0x4a01bc(0xf2c),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':_0x4a01bc(0x5cc)},{'category':_0x4a01bc(0xf2c),'name':_0x4a01bc(0xbfb)},{'category':'สถิติและความน่าจะเป็น','name':_0x4a01bc(0x968)},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0x8d0)},{'category':_0x4a01bc(0x99b),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4a01bc(0xe52)},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0x943)},{'category':_0x4a01bc(0x99b),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0xdbd)},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0xc30)},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0xd05)},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0x7dd)},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0xcf5)},{'category':_0x4a01bc(0x99b),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x4a01bc(0x99b),'name':_0x4a01bc(0xa33)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x4a01bc(0x404),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x4a01bc(0x404),'name':_0x4a01bc(0x20a)},{'category':_0x4a01bc(0x404),'name':_0x4a01bc(0x93f)},{'category':_0x4a01bc(0x404),'name':_0x4a01bc(0x6ca)},{'category':_0x4a01bc(0x404),'name':'ดีเทอร์มิแนนต์'},{'category':_0x4a01bc(0x404),'name':_0x4a01bc(0x57c)},{'category':_0x4a01bc(0x7d1),'name':_0x4a01bc(0x94d)},{'category':_0x4a01bc(0x7d1),'name':_0x4a01bc(0x643)},{'category':_0x4a01bc(0x7d1),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x4a01bc(0x7d1),'name':_0x4a01bc(0xc18)},{'category':_0x4a01bc(0x7d1),'name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x4a01bc(0xe81)},{'category':_0x4a01bc(0xcf8),'name':'รูปแบบการให้เหตุผล'},{'category':_0x4a01bc(0xcf8),'name':_0x4a01bc(0x49f)}];function renderTopicCheckboxes(){const _0x1c2104=_0x4a01bc,_0x584c10=document['getElementById']('math-topics-checkbox-container');if(!_0x584c10)return;const _0x5b24a3=allMathTopics,_0x2756a5=customMathTopics[_0x1c2104(0x823)](_0xdded00=>({'id':_0xdded00['id'],'category':'หัวข้อที่สร้างเอง','name':_0xdded00[_0x1c2104(0x9ce)]})),_0x187004=[..._0x5b24a3,..._0x2756a5],_0x2f086b=_0x187004[_0x1c2104(0xc91)]((_0x19e1b8,_0x163475)=>{const _0x4fcd87=_0x1c2104;return!_0x19e1b8[_0x163475[_0x4fcd87(0x975)]]&&(_0x19e1b8[_0x163475['category']]=[]),_0x19e1b8[_0x163475[_0x4fcd87(0x975)]][_0x4fcd87(0xe7d)](_0x163475),_0x19e1b8;},{});let _0x58f089='';const _0x5b55c4=[_0x1c2104(0x32d),...Object[_0x1c2104(0xde1)](_0x2f086b)[_0x1c2104(0xc4c)](_0x206d0e=>_0x206d0e!==_0x1c2104(0x32d))];for(const _0x386628 of _0x5b55c4){if(_0x2f086b[_0x386628]){const _0x27329e=_0x386628===_0x1c2104(0x32d),_0x2f81e2=_0x27329e?_0x1c2104(0xefb):_0x1c2104(0xf29),_0x4eedf1=_0x27329e?'text-blue-700':_0x1c2104(0xa17);_0x58f089+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x58f089+=_0x1c2104(0x85e)+_0x4eedf1+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x2f81e2+_0x1c2104(0xe00)+_0x386628+'</p>',_0x2f086b[_0x386628][_0x1c2104(0x427)](_0x209ea5=>{const _0x393beb=_0x1c2104,_0x51a337=!!_0x209ea5['id'],_0x25dbe6=_0x51a337?_0x393beb(0xb0d)+_0x209ea5['id']+_0x393beb(0x771)+_0x209ea5['id']+_0x393beb(0x1cb)+_0x209ea5['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x209ea5['id']+_0x393beb(0xaec):'';_0x58f089+=_0x393beb(0x83a)+(_0x209ea5['id']||'')+_0x393beb(0xa4a)+_0x209ea5[_0x393beb(0x9ce)]+_0x393beb(0x5e6)+_0x209ea5[_0x393beb(0x9ce)]+_0x393beb(0x3e7)+(_0x51a337?_0x393beb(0xda4)+_0x209ea5[_0x393beb(0x9ce)]+'\x22>':'')+_0x393beb(0x58f)+_0x25dbe6+_0x393beb(0xef5);}),_0x58f089+=_0x1c2104(0xbfc);}}_0x584c10[_0x1c2104(0x891)]=_0x58f089||_0x1c2104(0x17e),_0x584c10[_0x1c2104(0xb77)](_0x1c2104(0x79d),updateSelectedTopicsCount),_0x584c10[_0x1c2104(0xdc6)](_0x1c2104(0x79d),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4cb899,_0x44c3d0){const _0x5d0fac=_0x4a01bc;if(!_0x4cb899||!_0x44c3d0[_0x5d0fac(0x5b2)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x1581f1=doc(db,_0x5d0fac(0x4b1)+appId+'/public/data/customMathTopics',_0x4cb899);await updateDoc(_0x1581f1,{'name':_0x44c3d0[_0x5d0fac(0x5b2)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x5cb32b){console[_0x5d0fac(0xcb6)]('Error\x20updating\x20custom\x20topic:',_0x5cb32b),showMessage(_0x5d0fac(0xd45));}}function toggleTopicEditMode(_0x26a484,_0x5bc18f){const _0x23f2ac=_0x4a01bc;if(!_0x26a484)return;const _0x34e198=_0x26a484[_0x23f2ac(0x5cd)](_0x23f2ac(0xbf9)),_0x410ccf=_0x26a484[_0x23f2ac(0x5cd)](_0x23f2ac(0xb34)),_0x1a5111=_0x26a484[_0x23f2ac(0x5cd)]('.topic-actions-view'),_0x2eb7c2=_0x26a484['querySelector'](_0x23f2ac(0x5f0));_0x34e198[_0x23f2ac(0xb6d)][_0x23f2ac(0x1f4)](_0x23f2ac(0x599),_0x5bc18f),_0x410ccf['classList'][_0x23f2ac(0x1f4)]('hidden',!_0x5bc18f),_0x1a5111[_0x23f2ac(0xb6d)][_0x23f2ac(0x1f4)](_0x23f2ac(0x599),_0x5bc18f),_0x2eb7c2[_0x23f2ac(0xb6d)]['toggle'](_0x23f2ac(0x599),!_0x5bc18f),_0x5bc18f&&(_0x410ccf['focus'](),_0x410ccf[_0x23f2ac(0x5d6)]());}async function handleStartLiveRace(_0x2427f5){const _0x3ecf57=_0x4a01bc;let _0x33bc73=allQuizzes[_0x3ecf57(0x1d5)](_0x472bdc=>_0x472bdc['id']===_0x2427f5);if(!_0x33bc73){const _0x570670=doc(db,_0x3ecf57(0x4b1)+appId+_0x3ecf57(0x8cb),_0x2427f5),_0x48a561=await getDoc(_0x570670);if(!_0x48a561['exists']()){showMessage(_0x3ecf57(0x6d4));return;}_0x33bc73={'id':_0x48a561['id'],..._0x48a561['data']()};}const _0x858ecb=getShuffledQuiz(_0x33bc73);currentQuizData=_0x858ecb;const _0xaeb078=_0x33bc73[_0x3ecf57(0x401)]||currentProjectId||null,_0x456167=Math['floor'](0x3e8+Math[_0x3ecf57(0xf11)]()*0x2328)[_0x3ecf57(0x830)]();currentLiveGamePin=_0x456167;try{const _0x58fa2d=await addDoc(collection(db,_0x3ecf57(0x4b1)+appId+_0x3ecf57(0x722)),{'quizId':_0x2427f5,'projectId':_0xaeb078,'status':_0x3ecf57(0x31a),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x456167,'createdAt':serverTimestamp(),'shuffledQuiz':_0x858ecb});currentLiveGameId=_0x58fa2d['id'],showAdminLobbyView(_0x456167,_0x33bc73[_0x3ecf57(0xb1c)]),listenForLiveGameUpdates();}catch(_0x346ea2){console['error']('Error\x20starting\x20live\x20race:',_0x346ea2),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x44c0b2=_0x4a01bc,_0x4f63a0=document[_0x44c0b2(0x657)](_0x44c0b2(0xa64)),_0x285aac=_0x4f63a0[_0x44c0b2(0x180)]('input[type=\x22checkbox\x22]:checked')[_0x44c0b2(0x8ca)],_0x170961=document[_0x44c0b2(0x657)](_0x44c0b2(0x255));_0x285aac>0x0?_0x170961[_0x44c0b2(0x54c)]=_0x44c0b2(0x886)+_0x285aac+_0x44c0b2(0xdb3):_0x170961[_0x44c0b2(0x54c)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x4a01bc(0x6c5),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4a01bc(0x46e),quizLeaderboardSortOrder=_0x4a01bc(0x1c2),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x4a01bc(0xd26),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4a01bc(0xb8d),scratchpadPenColor=_0x4a01bc(0x323),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x46fd87,_0x58517b){const _0x410af9=_0x4a01bc;return Math[_0x410af9(0x717)](Math[_0x410af9(0x94c)](_0x46fd87['x']-_0x58517b['x'],0x2)+Math['pow'](_0x46fd87['y']-_0x58517b['y'],0x2));}function getMidpoint(_0x4c68da,_0x48c25d){return{'x':(_0x4c68da['x']+_0x48c25d['x'])/0x2,'y':(_0x4c68da['y']+_0x48c25d['y'])/0x2};}function getTransformedPoint(_0x5b1c3a,_0x632c53){return{'x':(_0x5b1c3a-scratchpadOffset['x'])/scratchpadScale,'y':(_0x632c53-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x2dae3f=_0x4a01bc;if(!scratchpadCtx)return;const _0x450c05=scratchpadCtx[_0x2dae3f(0x379)],_0x384e6c=window[_0x2dae3f(0xd69)]||0x1,_0x522986=document[_0x2dae3f(0x657)](_0x2dae3f(0x8d7));_0x522986&&(_0x522986[_0x2dae3f(0xd7a)][_0x2dae3f(0x5ca)]=_0x2dae3f(0xd86),_0x522986['style']['transform']='translate('+scratchpadOffset['x']+_0x2dae3f(0xd02)+scratchpadOffset['y']+_0x2dae3f(0x24f)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x384e6c,0x0,0x0,_0x384e6c,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x450c05['width'],_0x450c05[_0x2dae3f(0x711)]),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x2dae3f(0x278)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x2dae3f(0x387)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x5e6bb0=>{drawStroke(_0x5e6bb0);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x2dae3f(0x534)]();}function renderGroupModeQuestion(){const _0x1a0a42=_0x4a01bc;if(localQuestionIndex>=currentQuizData['questions'][_0x1a0a42(0x8ca)]){displayTeamQuizFinalResults();return;}const _0x7895df=currentQuizData[_0x1a0a42(0x3ef)][localQuestionIndex],_0x5039a4=_0x7895df[_0x1a0a42(0x7ed)]||currentQuizData[_0x1a0a42(0x335)];let _0x30e0a7=_0x7895df[_0x1a0a42(0x472)]||_0x7895df[_0x1a0a42(0xbf2)],_0x1f77a9='';switch(_0x5039a4){case _0x1a0a42(0xa7c):case _0x1a0a42(0xbe6):_0x1f77a9=_0x7895df[_0x1a0a42(0x5e9)]['map']((_0x4d6c3d,_0xdd1e39)=>_0x1a0a42(0xf24)+_0xdd1e39+_0x1a0a42(0x7bf)+_0xdd1e39+_0x1a0a42(0xa32)+_0xdd1e39+'\x22>'+_0x4d6c3d+_0x1a0a42(0x527))[_0x1a0a42(0x566)]('');break;case _0x1a0a42(0x446):_0x1f77a9=_0x1a0a42(0x632);break;case _0x1a0a42(0x190):case _0x1a0a42(0x467):_0x1f77a9=_0x1a0a42(0xb52);break;case _0x1a0a42(0xd13):_0x1f77a9='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x7895df[_0x1a0a42(0xa5e)]['map'](_0x3e9765=>_0x1a0a42(0xd75)+_0x3e9765+'\x22>'+_0x3e9765+_0x1a0a42(0xdb1))['join']('')+_0x1a0a42(0xe4d);break;default:_0x1f77a9='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x1a0a42(0x891)]=_0x1a0a42(0x9b0)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x1a0a42(0x3ef)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x1a0a42(0x566)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x30e0a7+_0x1a0a42(0x5e0)+(_0x7895df['imageCode']?_0x1a0a42(0x8c6)+_0x7895df[_0x1a0a42(0x277)]+'</div>':'')+_0x1a0a42(0xcc0)+_0x1f77a9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x1a0a42(0xb6d)][_0x1a0a42(0x66f)](_0x1a0a42(0x599));if(window['MathJax'])MathJax[_0x1a0a42(0xdce)]([studentQuizArea]);document[_0x1a0a42(0x657)](_0x1a0a42(0x4d4))['addEventListener'](_0x1a0a42(0x4ca),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x3c6270,_0x304dee=null,_0x3c2da8,_0x26396d=null,_0xb3b84d=![],_0x171bd3=null){const _0x25cec3=_0x4a01bc,_0x481196=document[_0x25cec3(0x657)](_0x25cec3(0xcf4));_0x481196&&_0x481196[_0x25cec3(0x228)]({'behavior':_0x25cec3(0x50d),'block':_0x25cec3(0x3ab)}),generateQuiz(_0x3c6270,_0x304dee,null,_0x171bd3,!![],_0x3c2da8,_0x26396d,_0xb3b84d);}function handleGenerateAndShowLesson(_0x3e6d23,_0x4b3ae7){const _0x34b8cd=_0x4a01bc,_0x2bd5ef=document[_0x34b8cd(0x657)](_0x34b8cd(0x85f)),_0x29c728=document[_0x34b8cd(0x657)](_0x34b8cd(0x3bc)),_0x4d6eb0=document[_0x34b8cd(0x657)](_0x34b8cd(0xe9f)),_0xb476d1=document[_0x34b8cd(0x657)](_0x34b8cd(0xc04));['pointContent',_0x34b8cd(0x9ba),_0x34b8cd(0xb03),_0x34b8cd(0x677)][_0x34b8cd(0x427)](_0x181bb3=>{const _0x4ec8ec=_0x34b8cd,_0x3822c9=document[_0x4ec8ec(0x657)](_0x181bb3)[_0x4ec8ec(0x835)];_0x3822c9&&(_0x3822c9[_0x4ec8ec(0xd7a)]['display']=_0x4ec8ec(0xab6));}),_0x29c728['textContent']=_0x34b8cd(0xdda)+_0x3e6d23,_0xb476d1[_0x34b8cd(0xb6d)][_0x34b8cd(0xa52)](_0x34b8cd(0x599)),_0x4d6eb0[_0x34b8cd(0xb6d)][_0x34b8cd(0x66f)](_0x34b8cd(0x599)),_0x2bd5ef[_0x34b8cd(0xb6d)][_0x34b8cd(0x66f)]('hidden'),generateLesson(_0x3e6d23,_0x4b3ae7)[_0x34b8cd(0x91e)](_0x5a7c04=>{const _0x260b15=_0x34b8cd;console[_0x260b15(0xcb6)](_0x260b15(0x39e),_0x5a7c04),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x2bd5ef[_0x260b15(0xb6d)]['add'](_0x260b15(0x599));});}function handlePointerDown(_0x632acf){const _0x3a5a09=_0x4a01bc;_0x632acf[_0x3a5a09(0xd66)]();const _0x237547=scratchpadCtx[_0x3a5a09(0x379)],_0x495abc=_0x237547[_0x3a5a09(0x390)](),_0x5747e5=_0x632acf[_0x3a5a09(0xbde)]||(_0x632acf[_0x3a5a09(0x492)]?_0x3a5a09(0xa0b):_0x3a5a09(0xeed));if(_0x5747e5===_0x3a5a09(0xb8d)||_0x5747e5===_0x3a5a09(0xeed)){if(_0x632acf[_0x3a5a09(0xbde)]==='mouse'&&_0x632acf['button']!==0x0){_0x632acf[_0x3a5a09(0x898)]===0x1&&(isMousePanning=!![],panStart={'x':_0x632acf[_0x3a5a09(0x892)],'y':_0x632acf[_0x3a5a09(0x78f)]},_0x237547[_0x3a5a09(0xd7a)][_0x3a5a09(0xe62)]=_0x3a5a09(0xeac));return;}activeTool===_0x3a5a09(0x6b6)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1a75b7=getTransformedPoint(_0x632acf[_0x3a5a09(0x892)]-_0x495abc['left'],_0x632acf[_0x3a5a09(0x78f)]-_0x495abc['top']);let _0x70cf88={'tool':activeTool,'points':[_0x1a75b7]};if(activeTool===_0x3a5a09(0xb8d))_0x70cf88['color']=scratchpadPenColor,_0x70cf88[_0x3a5a09(0xd83)]=scratchpadPenSize;else{if(activeTool===_0x3a5a09(0xc82))_0x70cf88[_0x3a5a09(0x20d)]=scratchpadPenColor,_0x70cf88[_0x3a5a09(0xd83)]=scratchpadEraserSize;else{if(activeTool===_0x3a5a09(0x2c2))_0x70cf88[_0x3a5a09(0x20d)]=scratchpadHighlighterColor,_0x70cf88[_0x3a5a09(0xd83)]=scratchpadHighlighterSize;else activeTool===_0x3a5a09(0x6b6)&&(_0x70cf88['color']=scratchpadPenColor,_0x70cf88[_0x3a5a09(0xd83)]=scratchpadPenSize);}}currentStroke=_0x70cf88;}else _0x632acf[_0x3a5a09(0x492)]&&(_0x632acf['touches']['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x632acf['touches'][0x0][_0x3a5a09(0x892)],'y':_0x632acf[_0x3a5a09(0x492)][0x0][_0x3a5a09(0x78f)]},{'x':_0x632acf[_0x3a5a09(0x492)][0x1][_0x3a5a09(0x892)],'y':_0x632acf[_0x3a5a09(0x492)][0x1][_0x3a5a09(0x78f)]}),initialPinchDistance=getDistance({'x':_0x632acf[_0x3a5a09(0x492)][0x0]['clientX'],'y':_0x632acf['touches'][0x0]['clientY']},{'x':_0x632acf[_0x3a5a09(0x492)][0x1][_0x3a5a09(0x892)],'y':_0x632acf[_0x3a5a09(0x492)][0x1][_0x3a5a09(0x78f)]})));}function animateTrail(){const _0x1e53ca=_0x4a01bc,_0xe429df=Date[_0x1e53ca(0x42d)]();let _0x4f3fc0=![];for(let _0x91bcd5=strokes[_0x1e53ca(0x8ca)]-0x1;_0x91bcd5>=0x0;_0x91bcd5--){const _0x735669=strokes[_0x91bcd5];if(_0x735669[_0x1e53ca(0x749)]===_0x1e53ca(0x6b6)&&_0x735669[_0x1e53ca(0x4fc)]){const _0xb669f3=_0xe429df-_0x735669['fadeStartTime'];_0xb669f3>=TRAIL_DURATION?strokes[_0x1e53ca(0x290)](_0x91bcd5,0x1):(_0x735669[_0x1e53ca(0xe36)]=0x1-_0xb669f3/TRAIL_DURATION,_0x4f3fc0=!![]);}}redrawScratchpad(),_0x4f3fc0?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2d8fb6){const _0x5c4987=_0x4a01bc;if(!_0x2d8fb6||_0x2d8fb6[_0x5c4987(0x92f)][_0x5c4987(0x8ca)]<0x1)return;scratchpadCtx[_0x5c4987(0x639)](),scratchpadCtx['lineJoin']='round',scratchpadCtx[_0x5c4987(0xa77)]=_0x5c4987(0x430);if(_0x2d8fb6[_0x5c4987(0x749)]===_0x5c4987(0x6b6)){const _0xac053a=_0x2d8fb6[_0x5c4987(0xd83)]/scratchpadScale;scratchpadCtx[_0x5c4987(0x2b0)]=_0x2d8fb6['opacity']??0x1,scratchpadCtx[_0x5c4987(0x785)]=_0x5c4987(0x219),scratchpadCtx['shadowBlur']=_0xac053a*0x3,scratchpadCtx[_0x5c4987(0x6a1)]=_0x5c4987(0xf12),scratchpadCtx[_0x5c4987(0x97a)]=_0xac053a*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x5c4987(0x95a)](_0x2d8fb6[_0x5c4987(0x92f)][0x0]['x'],_0x2d8fb6['points'][0x0]['y']);for(let _0x109291=0x1;_0x109291<_0x2d8fb6[_0x5c4987(0x92f)]['length']-0x1;_0x109291++){const _0x2d01b9=getMidpoint(_0x2d8fb6[_0x5c4987(0x92f)][_0x109291],_0x2d8fb6['points'][_0x109291+0x1]);scratchpadCtx[_0x5c4987(0x1fd)](_0x2d8fb6[_0x5c4987(0x92f)][_0x109291]['x'],_0x2d8fb6['points'][_0x109291]['y'],_0x2d01b9['x'],_0x2d01b9['y']);}scratchpadCtx[_0x5c4987(0x9c0)](),scratchpadCtx['shadowColor']='transparent',scratchpadCtx[_0x5c4987(0x880)]=0x0,scratchpadCtx[_0x5c4987(0x6a1)]=_0x5c4987(0xd81),scratchpadCtx[_0x5c4987(0x97a)]=_0xac053a,scratchpadCtx['stroke'](),scratchpadCtx[_0x5c4987(0x31c)]();}else{if(_0x2d8fb6[_0x5c4987(0x749)]==='highlighter'){scratchpadCtx[_0x5c4987(0x6e0)]=_0x5c4987(0x6b4),scratchpadCtx[_0x5c4987(0x6a1)]=_0x2d8fb6[_0x5c4987(0x20d)],scratchpadCtx['lineWidth']=_0x2d8fb6[_0x5c4987(0xd83)],scratchpadCtx[_0x5c4987(0xe98)](),scratchpadCtx[_0x5c4987(0x95a)](_0x2d8fb6[_0x5c4987(0x92f)][0x0]['x'],_0x2d8fb6[_0x5c4987(0x92f)][0x0]['y']);for(let _0x3a531f=0x1;_0x3a531f<_0x2d8fb6[_0x5c4987(0x92f)][_0x5c4987(0x8ca)]-0x1;_0x3a531f++){const _0x5b7748=getMidpoint(_0x2d8fb6[_0x5c4987(0x92f)][_0x3a531f],_0x2d8fb6['points'][_0x3a531f+0x1]);scratchpadCtx[_0x5c4987(0x1fd)](_0x2d8fb6[_0x5c4987(0x92f)][_0x3a531f]['x'],_0x2d8fb6[_0x5c4987(0x92f)][_0x3a531f]['y'],_0x5b7748['x'],_0x5b7748['y']);}scratchpadCtx[_0x5c4987(0x9c0)](),scratchpadCtx[_0x5c4987(0x31c)]();}else{scratchpadCtx[_0x5c4987(0x6e0)]=_0x2d8fb6[_0x5c4987(0x749)]===_0x5c4987(0xc82)?'destination-out':_0x5c4987(0x908),scratchpadCtx[_0x5c4987(0x6a1)]=_0x2d8fb6[_0x5c4987(0x20d)],scratchpadCtx[_0x5c4987(0x97a)]=_0x2d8fb6[_0x5c4987(0xd83)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x5c4987(0x95a)](_0x2d8fb6[_0x5c4987(0x92f)][0x0]['x'],_0x2d8fb6['points'][0x0]['y']);for(let _0x5a0254=0x1;_0x5a0254<_0x2d8fb6[_0x5c4987(0x92f)]['length']-0x1;_0x5a0254++){const _0x248fcd=getMidpoint(_0x2d8fb6[_0x5c4987(0x92f)][_0x5a0254],_0x2d8fb6[_0x5c4987(0x92f)][_0x5a0254+0x1]);scratchpadCtx[_0x5c4987(0x1fd)](_0x2d8fb6[_0x5c4987(0x92f)][_0x5a0254]['x'],_0x2d8fb6['points'][_0x5a0254]['y'],_0x248fcd['x'],_0x248fcd['y']);}scratchpadCtx[_0x5c4987(0x9c0)](),scratchpadCtx[_0x5c4987(0x31c)]();}}scratchpadCtx[_0x5c4987(0x534)]();}function handlePointerMove(_0x380a28){const _0x4774f8=_0x4a01bc;_0x380a28[_0x4774f8(0xd66)]();const _0x276c96=scratchpadCtx[_0x4774f8(0x379)],_0x154b9d=_0x276c96['getBoundingClientRect']();if(_0x380a28['touches']){if(_0x380a28['touches'][_0x4774f8(0x8ca)]===0x1&&isDrawingOnScratchpad){const _0x3489b0=getTransformedPoint(_0x380a28[_0x4774f8(0x492)][0x0][_0x4774f8(0x892)]-_0x154b9d[_0x4774f8(0xe65)],_0x380a28['touches'][0x0][_0x4774f8(0x78f)]-_0x154b9d[_0x4774f8(0xf2f)]);currentStroke[_0x4774f8(0x92f)]['push'](_0x3489b0),redrawScratchpad();}else{if(_0x380a28[_0x4774f8(0x492)][_0x4774f8(0x8ca)]===0x2&&isPanning){const _0x303695=getDistance({'x':_0x380a28[_0x4774f8(0x492)][0x0][_0x4774f8(0x892)],'y':_0x380a28[_0x4774f8(0x492)][0x0][_0x4774f8(0x78f)]},{'x':_0x380a28[_0x4774f8(0x492)][0x1]['clientX'],'y':_0x380a28['touches'][0x1]['clientY']}),_0xc7ff1=getMidpoint({'x':_0x380a28[_0x4774f8(0x492)][0x0][_0x4774f8(0x892)],'y':_0x380a28[_0x4774f8(0x492)][0x0][_0x4774f8(0x78f)]},{'x':_0x380a28[_0x4774f8(0x492)][0x1][_0x4774f8(0x892)],'y':_0x380a28[_0x4774f8(0x492)][0x1][_0x4774f8(0x78f)]}),_0x4a32b4=_0x303695/ initialPinchDistance,_0x5f2501=Math[_0x4774f8(0x80d)](Math[_0x4774f8(0xf23)](scratchpadScale*_0x4a32b4,MIN_SCALE),MAX_SCALE),_0x4a1a11=_0xc7ff1['x']-panStart['x'],_0x16cc4f=_0xc7ff1['y']-panStart['y'];scratchpadOffset['x']=_0xc7ff1['x']-(_0xc7ff1['x']-scratchpadOffset['x'])*(_0x5f2501/scratchpadScale),scratchpadOffset['y']=_0xc7ff1['y']-(_0xc7ff1['y']-scratchpadOffset['y'])*(_0x5f2501/scratchpadScale),scratchpadOffset['x']+=_0x4a1a11,scratchpadOffset['y']+=_0x16cc4f,scratchpadScale=_0x5f2501,initialPinchDistance=_0x303695,panStart=_0xc7ff1,redrawScratchpad();}}}else{if(isMousePanning){const _0x20491f=_0x380a28[_0x4774f8(0x892)]-panStart['x'],_0x151e38=_0x380a28[_0x4774f8(0x78f)]-panStart['y'];scratchpadOffset['x']+=_0x20491f,scratchpadOffset['y']+=_0x151e38,panStart={'x':_0x380a28[_0x4774f8(0x892)],'y':_0x380a28[_0x4774f8(0x78f)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3e5fcb=getTransformedPoint(_0x380a28['clientX']-_0x154b9d[_0x4774f8(0xe65)],_0x380a28[_0x4774f8(0x78f)]-_0x154b9d[_0x4774f8(0xf2f)]);currentStroke[_0x4774f8(0x92f)][_0x4774f8(0xe7d)](_0x3e5fcb),redrawScratchpad();}}}}function handlePointerUp(_0x13b2cc){const _0x57ced8=_0x4a01bc;_0x13b2cc[_0x57ced8(0xd66)]();const _0x17d45f=scratchpadCtx[_0x57ced8(0x379)];isMousePanning&&(isMousePanning=![],_0x17d45f[_0x57ced8(0xd7a)][_0x57ced8(0xe62)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x57ced8(0x92f)][_0x57ced8(0x8ca)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x57ced8(0x749)]===_0x57ced8(0x6b6)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x394ab0=_0x57ced8,_0x37318b=strokes['filter'](_0x18e68c=>_0x18e68c[_0x394ab0(0x749)]==='trail'&&!_0x18e68c[_0x394ab0(0x4fc)]);if(_0x37318b[_0x394ab0(0x8ca)]>0x0){const _0x4f3004=Date[_0x394ab0(0x42d)]();_0x37318b[_0x394ab0(0x427)](_0x4c384c=>_0x4c384c[_0x394ab0(0x4fc)]=_0x4f3004),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x6f8288){const _0x30b94a=_0x4a01bc;_0x6f8288[_0x30b94a(0xd66)]();const _0x5f3a28=_0x6f8288[_0x30b94a(0x4c5)]*-0.005,_0x1934f9=Math[_0x30b94a(0x80d)](Math[_0x30b94a(0xf23)](scratchpadScale+_0x5f3a28,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x6f8288['clientX']-(_0x6f8288[_0x30b94a(0x892)]-scratchpadOffset['x'])*(_0x1934f9/scratchpadScale),scratchpadOffset['y']=_0x6f8288[_0x30b94a(0x78f)]-(_0x6f8288[_0x30b94a(0x78f)]-scratchpadOffset['y'])*(_0x1934f9/scratchpadScale),scratchpadScale=_0x1934f9,redrawScratchpad();}function undo(){const _0x40e0b9=_0x4a01bc;strokes['length']>0x0&&(redoStrokes[_0x40e0b9(0xe7d)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5cb183=_0x4a01bc;redoStrokes[_0x5cb183(0x8ca)]>0x0&&(strokes['push'](redoStrokes[_0x5cb183(0x40b)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x147c12=_0x4a01bc;document[_0x147c12(0x657)](_0x147c12(0xe9c))[_0x147c12(0x4b4)]=strokes[_0x147c12(0x8ca)]===0x0,document[_0x147c12(0x657)](_0x147c12(0x37c))[_0x147c12(0x4b4)]=redoStrokes[_0x147c12(0x8ca)]===0x0;}function openScratchpad(_0x4e316f,_0x5595fc){const _0x374b7e=_0x4a01bc,_0x3cbcad=document['getElementById'](_0x374b7e(0x54f)),_0x51a44d=document['getElementById'](_0x374b7e(0xbe2)),_0x1cf457=document[_0x374b7e(0x657)](_0x374b7e(0xe10)),_0x448bad=document[_0x374b7e(0x657)](_0x374b7e(0xe14));_0x51a44d[_0x374b7e(0x891)]=_0x4e316f[_0x374b7e(0x472)]||_0x4e316f[_0x374b7e(0xbf2)],_0x1cf457[_0x374b7e(0x891)]=_0x5595fc[_0x374b7e(0x823)]((_0x48350a,_0x315406)=>_0x374b7e(0x50b)+String['fromCharCode'](0x41+_0x315406)+'.\x20'+_0x48350a+_0x374b7e(0xbfc))[_0x374b7e(0x566)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3cbcad['classList'][_0x374b7e(0x66f)](_0x374b7e(0x599)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x374b7e(0x436)])MathJax['typesetPromise']([_0x51a44d,_0x1cf457]);}function openBlueprintQuizSettings(){const _0x1efbe1=_0x4a01bc,_0x2551a2=document[_0x1efbe1(0x657)](_0x1efbe1(0xc6a)),_0x3937fb=blueprintPageSettings||(currentProjectData?currentProjectData[_0x1efbe1(0xf0c)]:{})||{};document[_0x1efbe1(0x657)]('bp-modal-quiz-type-select')['value']=_0x3937fb[_0x1efbe1(0x335)]||document['getElementById'](_0x1efbe1(0xc09))['value'],document['getElementById']('bp-modal-difficulty-level-select')['innerHTML']=document[_0x1efbe1(0x657)](_0x1efbe1(0xa19))[_0x1efbe1(0x891)],document[_0x1efbe1(0x657)](_0x1efbe1(0xea0))['value']=_0x3937fb[_0x1efbe1(0x66c)]||document[_0x1efbe1(0x657)](_0x1efbe1(0xa19))['value'],document[_0x1efbe1(0x657)](_0x1efbe1(0x378))[_0x1efbe1(0x891)]=document[_0x1efbe1(0x657)](_0x1efbe1(0xafe))[_0x1efbe1(0x891)],document[_0x1efbe1(0x657)]('bp-modal-question-complexity-select')[_0x1efbe1(0x68e)]=_0x3937fb[_0x1efbe1(0x4e4)]||document['getElementById'](_0x1efbe1(0xafe))[_0x1efbe1(0x68e)],document[_0x1efbe1(0x657)](_0x1efbe1(0x5d8))[_0x1efbe1(0x68e)]=_0x3937fb[_0x1efbe1(0xd1c)]||document[_0x1efbe1(0x657)](_0x1efbe1(0x949))['value'],document[_0x1efbe1(0x657)]('bp-modal-passing-score-input')[_0x1efbe1(0x68e)]=_0x3937fb[_0x1efbe1(0x606)]||document[_0x1efbe1(0x657)](_0x1efbe1(0xaae))[_0x1efbe1(0x68e)],document[_0x1efbe1(0x657)](_0x1efbe1(0xc63))[_0x1efbe1(0x68e)]=_0x3937fb[_0x1efbe1(0x22a)]||document['getElementById']('num-choices')['value'],document[_0x1efbe1(0x657)]('bp-modal-shuffle-setting-select')['value']=_0x3937fb[_0x1efbe1(0xbf3)]||document['getElementById'](_0x1efbe1(0xc73))[_0x1efbe1(0x68e)],document[_0x1efbe1(0x657)]('bp-modal-include-images-checkbox')[_0x1efbe1(0x536)]=_0x3937fb[_0x1efbe1(0x27e)]||document[_0x1efbe1(0x657)]('include-images-checkbox')[_0x1efbe1(0x536)],_0x2551a2[_0x1efbe1(0xb6d)][_0x1efbe1(0x66f)](_0x1efbe1(0x599));}function handleSaveBlueprintPageSettings(){const _0x5bc2c4=_0x4a01bc;blueprintPageSettings={'quizType':document['getElementById'](_0x5bc2c4(0x462))[_0x5bc2c4(0x68e)],'difficultyValue':document[_0x5bc2c4(0x657)](_0x5bc2c4(0xea0))['value'],'complexityValue':document['getElementById']('bp-modal-question-complexity-select')[_0x5bc2c4(0x68e)],'numQuestions':document[_0x5bc2c4(0x657)](_0x5bc2c4(0x5d8))['value'],'passingScore':document[_0x5bc2c4(0x657)](_0x5bc2c4(0x963))[_0x5bc2c4(0x68e)],'numChoices':document['getElementById'](_0x5bc2c4(0xc63))['value'],'shuffle':document[_0x5bc2c4(0x657)]('bp-modal-shuffle-setting-select')[_0x5bc2c4(0x68e)],'includeImages':document[_0x5bc2c4(0x657)](_0x5bc2c4(0x623))[_0x5bc2c4(0x536)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x5bc2c4(0x657)](_0x5bc2c4(0xc6a))[_0x5bc2c4(0xb6d)][_0x5bc2c4(0xa52)](_0x5bc2c4(0x599));}function listenForParallelTestShortcuts(){const _0x539249=_0x4a01bc,_0x5a958c=doc(db,'globalSettings',_0x539249(0x465));onSnapshot(_0x5a958c,_0x4be3a0=>{const _0x311c03=_0x539249;let _0x28eac9=[],_0x3b24db=[],_0x15e124={};if(_0x4be3a0[_0x311c03(0xce9)]()){const _0x485369=_0x4be3a0[_0x311c03(0xd0c)]();_0x28eac9=_0x485369[_0x311c03(0xdd3)]||[],_0x3b24db=_0x485369[_0x311c03(0x69a)]||[],_0x15e124=_0x485369[_0x311c03(0x1e2)]||{};}!_0x3b24db[_0x311c03(0x1d5)](_0x4deeb2=>_0x4deeb2['id']==='all')&&_0x3b24db[_0x311c03(0xcd6)]({'id':_0x311c03(0xa87),'name':_0x311c03(0x7b2),'isDefault':!![]}),!_0x28eac9[_0x311c03(0x1d5)](_0x2493ae=>_0x2493ae['id']===_0x311c03(0x6f0))&&_0x28eac9[_0x311c03(0xcd6)]({'id':_0x311c03(0x6f0),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x28eac9[_0x311c03(0x1d5)](_0x2723d1=>_0x2723d1['id']===_0x311c03(0x76f))&&_0x28eac9[_0x311c03(0xcd6)]({'id':_0x311c03(0x76f),'name':_0x311c03(0xb86),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x28eac9,parallelShortcutTabs=_0x3b24db,parallelShortcutOrder=_0x15e124,renderParallelTestShortcuts(),!document[_0x311c03(0x657)](_0x311c03(0x367))['classList'][_0x311c03(0x650)](_0x311c03(0x599))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4aacab=_0x4a01bc,_0xe0335b=doc(db,_0x4aacab(0x56a),_0x4aacab(0x465));try{await setDoc(_0xe0335b,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x356b33){console[_0x4aacab(0xcb6)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x356b33);}}function renderAdditionalParallelShortcutsModal(){const _0xf0dbae=_0x4a01bc,_0x26577a=document[_0xf0dbae(0x657)](_0xf0dbae(0x6a2)),_0x278e07=document['getElementById'](_0xf0dbae(0xcc8));if(!_0x26577a||!_0x278e07)return;_0x26577a[_0xf0dbae(0x891)]=parallelShortcutTabs['map'](_0x1ae4c1=>{const _0x25d1c2=_0xf0dbae,_0x3b6dc8=_0x1ae4c1['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x1ae4c1['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x3b6dc8?_0x25d1c2(0xb95):_0x25d1c2(0x941))+_0x25d1c2(0x505)+_0x1ae4c1[_0x25d1c2(0x9ce)]+_0x25d1c2(0xf18)+_0x1ae4c1['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1ae4c1['isDefault']?'<button\x20data-tab-id=\x22'+_0x1ae4c1['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');const _0x54ebc7=parallelShortcutTabs[_0xf0dbae(0x1d5)](_0x3304fc=>_0x3304fc['id']===activeParallelShortcutTabId);let _0x5325e7=_0x54ebc7?.[_0xf0dbae(0x61d)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0xf0dbae(0xc4c)](_0x2daf7d=>(_0x54ebc7?.['shortcutIds']||[])['includes'](_0x2daf7d['id']));const _0x17674b=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5325e7['sort']((_0x4d56a8,_0x313c01)=>{const _0xca78a0=_0xf0dbae,_0x44ffd5=_0x17674b[_0xca78a0(0xc27)](_0x4d56a8['id']),_0x184973=_0x17674b['indexOf'](_0x313c01['id']);return(_0x44ffd5===-0x1?Infinity:_0x44ffd5)-(_0x184973===-0x1?Infinity:_0x184973);}),_0x278e07[_0xf0dbae(0x891)]=_0x5325e7[_0xf0dbae(0x823)](_0xe0962c=>{const _0x11e6ce=_0xf0dbae,_0x5e324e=_0xe0962c[_0x11e6ce(0x4b3)]?'🔁':'🔗',_0xc2f295=parallelShortcutTabs['filter'](_0x5140bb=>!_0x5140bb[_0x11e6ce(0x61d)]),_0x5b0ff6=_0x54ebc7['isDefault']&&_0xc2f295[_0x11e6ce(0x8ca)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc2f295['map'](_0x157feb=>_0x11e6ce(0xec8)+_0xe0962c['id']+_0x11e6ce(0xb2e)+_0x157feb['id']+'\x22>'+_0x157feb[_0x11e6ce(0x9ce)]+'</a>')[_0x11e6ce(0x566)]('')+_0x11e6ce(0x5e3):'';return _0x11e6ce(0x4db)+_0xe0962c['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x5e324e+'\x20'+_0xe0962c[_0x11e6ce(0x9ce)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xe0962c['id']+_0x11e6ce(0xaeb)+_0xe0962c['id']+_0x11e6ce(0x3b9)+(!_0xe0962c[_0x11e6ce(0x61d)]?_0x11e6ce(0x51b)+_0xe0962c['id']+_0x11e6ce(0x6b1):'')+_0x11e6ce(0x1a4)+(!_0x54ebc7[_0x11e6ce(0x61d)]?_0x11e6ce(0x351)+_0xe0962c['id']+_0x11e6ce(0x82f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b0ff6+_0x11e6ce(0x9b5);})[_0xf0dbae(0x566)]('')||_0xf0dbae(0xe2b),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x57c231=_0x4a01bc;document[_0x57c231(0x180)](_0x57c231(0x1e6))['forEach'](_0x47c471=>{const _0x26f4f4=_0x57c231;_0x47c471[_0x26f4f4(0x385)]=_0x5a2370=>{const _0x25f1b4=_0x26f4f4;activeParallelShortcutTabId=_0x5a2370['currentTarget'][_0x25f1b4(0x320)][_0x25f1b4(0x8e2)],renderAdditionalParallelShortcutsModal();},_0x47c471[_0x26f4f4(0x944)]=_0x3edb7b=>{const _0x26f047=_0x26f4f4,_0x23dd5d=_0x3edb7b[_0x26f047(0xcfd)][_0x26f047(0x5cd)](_0x26f047(0x7e4));_0x3edb7b['currentTarget'][_0x26f047(0x5cd)](_0x26f047(0xd2f))[_0x26f047(0xb6d)]['add']('hidden'),_0x23dd5d['classList']['remove'](_0x26f047(0x599)),_0x23dd5d['focus'](),_0x23dd5d['select']();};}),document[_0x57c231(0x180)](_0x57c231(0xc5c))[_0x57c231(0x427)](_0x38b148=>{const _0x1fbcfa=_0x57c231,_0x4670e1=()=>{const _0x34af1f=_0x551a,_0x3e0f99=_0x38b148[_0x34af1f(0xa5a)](_0x34af1f(0x1e6))[_0x34af1f(0x320)][_0x34af1f(0x8e2)],_0x1d20b8=parallelShortcutTabs[_0x34af1f(0x1d5)](_0x725515=>_0x725515['id']===_0x3e0f99);_0x1d20b8&&(_0x1d20b8[_0x34af1f(0x9ce)]=_0x38b148['value'][_0x34af1f(0x5b2)]()||_0x1d20b8[_0x34af1f(0x9ce)],saveParallelShortcutConfig());};_0x38b148[_0x1fbcfa(0xa1d)]=_0x4670e1,_0x38b148[_0x1fbcfa(0x22d)]=_0x45dbc3=>{const _0x4c3ad0=_0x1fbcfa;if(_0x45dbc3[_0x4c3ad0(0x1f3)]===_0x4c3ad0(0x7ff))_0x38b148['blur']();};}),document['querySelectorAll']('.delete-parallel-shortcut-tab-btn')[_0x57c231(0x427)](_0x1e32bf=>_0x1e32bf[_0x57c231(0x385)]=_0x41d76d=>{const _0x347c95=_0x57c231,_0x1afd85=_0x41d76d[_0x347c95(0xcfd)][_0x347c95(0x320)][_0x347c95(0x8e2)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x5ab516=_0x347c95;parallelShortcutTabs=parallelShortcutTabs[_0x5ab516(0xc4c)](_0x291c18=>_0x291c18['id']!==_0x1afd85),delete parallelShortcutOrder[_0x1afd85];if(activeParallelShortcutTabId===_0x1afd85)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x57c231(0x180)](_0x57c231(0x2b7))['forEach'](_0x54df22=>_0x54df22[_0x57c231(0x385)]=_0x31dfdd=>{const _0x17d765=_0x57c231;_0x31dfdd['preventDefault']();const {shortcutId:_0x250140,targetTabId:_0x348fa4}=_0x31dfdd[_0x17d765(0xcfd)]['dataset'],_0x18584e=parallelShortcutTabs[_0x17d765(0x1d5)](_0x524d86=>_0x524d86['id']===_0x348fa4);_0x18584e&&!_0x18584e[_0x17d765(0x7d3)][_0x17d765(0x484)](_0x250140)&&(_0x18584e[_0x17d765(0x7d3)][_0x17d765(0xe7d)](_0x250140),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x57c231(0x1ae))[_0x57c231(0x427)](_0x286a49=>_0x286a49[_0x57c231(0x385)]=_0x5d0749=>{const _0x2dd431=_0x57c231,_0x30e822=_0x5d0749[_0x2dd431(0xcfd)][_0x2dd431(0x320)]['shortcutId'],_0x7b8dfd=parallelShortcutTabs[_0x2dd431(0x1d5)](_0x26f966=>_0x26f966['id']===activeParallelShortcutTabId);_0x7b8dfd&&!_0x7b8dfd[_0x2dd431(0x61d)]&&(_0x7b8dfd[_0x2dd431(0x7d3)]=_0x7b8dfd[_0x2dd431(0x7d3)][_0x2dd431(0xc4c)](_0x5b0210=>_0x5b0210!==_0x30e822),saveParallelShortcutConfig());}),document[_0x57c231(0x180)]('.move-parallel-shortcut-menu-btn')['forEach'](_0x3ff3e2=>_0x3ff3e2[_0x57c231(0x385)]=_0x15478b=>{const _0x32f295=_0x57c231;_0x15478b['stopPropagation']();const _0xb3d5b9=_0x15478b[_0x32f295(0xcfd)]['nextElementSibling'];document[_0x32f295(0x180)](_0x32f295(0x47e))[_0x32f295(0x427)](_0x46795e=>_0x46795e[_0x32f295(0xb6d)][_0x32f295(0xa52)](_0x32f295(0x599))),_0xb3d5b9[_0x32f295(0xb6d)]['remove'](_0x32f295(0x599));});const _0x3ffe25=document[_0x57c231(0x657)]('additional-parallel-shortcuts-list');let _0x835568=null;_0x3ffe25[_0x57c231(0xcde)]=_0x52142e=>{const _0x235224=_0x57c231;_0x835568=_0x52142e[_0x235224(0x6f7)][_0x235224(0xa5a)](_0x235224(0x86c));if(_0x835568)setTimeout(()=>_0x835568[_0x235224(0xb6d)][_0x235224(0xa52)]('opacity-50'),0x0);},_0x3ffe25['ondragend']=()=>{const _0x23f110=_0x57c231;_0x835568&&(_0x835568['classList'][_0x23f110(0x66f)]('opacity-50'),_0x835568=null);},_0x3ffe25[_0x57c231(0x32c)]=_0x12529a=>{const _0x7e0d0d=_0x57c231;_0x12529a[_0x7e0d0d(0xd66)]();},_0x3ffe25[_0x57c231(0x87e)]=_0x471b41=>{const _0x32db55=_0x57c231;_0x471b41[_0x32db55(0xd66)]();if(_0x835568){const _0x4aac4f=[..._0x3ffe25[_0x32db55(0x180)]('.shortcut-list-item:not(.opacity-50)')][_0x32db55(0xc91)]((_0x4ae0cf,_0x3763b3)=>{const _0xf53ceb=_0x32db55,_0x5a305c=_0x3763b3[_0xf53ceb(0x390)](),_0x504341=_0x471b41[_0xf53ceb(0x78f)]-_0x5a305c['top']-_0x5a305c[_0xf53ceb(0x711)]/0x2;return _0x504341<0x0&&_0x504341>_0x4ae0cf[_0xf53ceb(0xb59)]?{'offset':_0x504341,'element':_0x3763b3}:_0x4ae0cf;},{'offset':Number[_0x32db55(0x888)]})[_0x32db55(0x4ea)];_0x4aac4f==null?_0x3ffe25[_0x32db55(0x612)](_0x835568):_0x3ffe25[_0x32db55(0xd2d)](_0x835568,_0x4aac4f);const _0x2c54cc=[..._0x3ffe25[_0x32db55(0x180)](_0x32db55(0x86c))][_0x32db55(0x823)](_0x408886=>_0x408886[_0x32db55(0x320)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x2c54cc,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0xf258e5=_0x4a01bc,_0x22162d=prompt(_0xf258e5(0xee1),_0xf258e5(0x7c9));_0x22162d&&_0x22162d[_0xf258e5(0x5b2)]()&&(parallelShortcutTabs[_0xf258e5(0xe7d)]({'id':_0xf258e5(0x222)+Date[_0xf258e5(0x42d)](),'name':_0x22162d[_0xf258e5(0x5b2)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x49d7ef=_0x4a01bc,_0x43ecb4=document['getElementById'](_0x49d7ef(0x3e8)),_0x4c7642=document[_0x49d7ef(0x657)]('additional-parallel-shortcuts-list'),_0x5e8f8b=document[_0x49d7ef(0x657)](_0x49d7ef(0xbfe));if(_0x5e8f8b)_0x5e8f8b[_0x49d7ef(0xb6d)][_0x49d7ef(0xa52)](_0x49d7ef(0x599));if(!_0x43ecb4||!_0x4c7642)return;const _0x6a70f=parallelTestShortcuts[_0x49d7ef(0xe0b)](0x0,0x4),_0x530a79=parallelTestShortcuts['slice'](0x4);_0x43ecb4[_0x49d7ef(0x891)]=_0x6a70f[_0x49d7ef(0x823)](_0x1bb159=>{const _0x345e63=_0x49d7ef,_0xb5c93e=_0x1bb159['url']&&_0x1bb159[_0x345e63(0x4b3)][_0x345e63(0x5b2)]()!=='',_0x17a93b=_0xb5c93e?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x345e63(0x6c4),_0x4e0833=_0xb5c93e?'🔁':'🔗',_0x13f7e1=!_0x1bb159[_0x345e63(0x61d)]?'<button\x20data-id=\x22'+_0x1bb159['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x345e63(0x8de)+_0x1bb159['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x17a93b+_0x345e63(0x781)+_0x4e0833+'\x20'+_0x1bb159['name']+_0x345e63(0x9b3)+_0x1bb159['id']+_0x345e63(0xcc4)+_0x13f7e1+_0x345e63(0xe5d);})['join'](''),_0x530a79[_0x49d7ef(0x8ca)]>0x0&&(_0x43ecb4[_0x49d7ef(0x891)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x530a79[_0x49d7ef(0x8ca)]>0x0?_0x4c7642['innerHTML']=_0x530a79[_0x49d7ef(0x823)](_0x251fc7=>_0x49d7ef(0x5c1)+(_0x251fc7[_0x49d7ef(0x4b3)]?'🔁':'🔗')+'\x20'+_0x251fc7[_0x49d7ef(0x9ce)]+_0x49d7ef(0xbac)+_0x251fc7['id']+_0x49d7ef(0xc87)+_0x251fc7['id']+_0x49d7ef(0x545)+(!_0x251fc7[_0x49d7ef(0x61d)]?'<button\x20data-id=\x22'+_0x251fc7['id']+_0x49d7ef(0x6b1):'')+_0x49d7ef(0x6c7))['join'](''):_0x4c7642['innerHTML']=_0x49d7ef(0x2f8);}function openParallelTestShortcutEditor(_0x58372d=null){const _0x8d4de1=_0x4a01bc,_0x19e7b9=document[_0x8d4de1(0x657)](_0x8d4de1(0xe11)),_0x5e8c46=document['getElementById'](_0x8d4de1(0x266)),_0x587763=document[_0x8d4de1(0x657)](_0x8d4de1(0xa65)),_0x537a54=document[_0x8d4de1(0x657)](_0x8d4de1(0xdff)),_0x5cad08=document[_0x8d4de1(0x657)](_0x8d4de1(0xae4));if(_0x58372d){const _0x266eab=parallelTestShortcuts['find'](_0x50330d=>_0x50330d['id']===_0x58372d);if(!_0x266eab)return;_0x5e8c46[_0x8d4de1(0x54c)]=_0x8d4de1(0x399),_0x587763[_0x8d4de1(0x68e)]=_0x266eab['id'],_0x537a54['value']=_0x266eab['name'],_0x5cad08[_0x8d4de1(0x68e)]=_0x266eab[_0x8d4de1(0x4b3)]||'';}else _0x5e8c46[_0x8d4de1(0x54c)]=_0x8d4de1(0xeb8),_0x587763[_0x8d4de1(0x68e)]='',_0x537a54[_0x8d4de1(0x68e)]='',_0x5cad08[_0x8d4de1(0x68e)]='';_0x19e7b9['classList']['remove'](_0x8d4de1(0x599));}async function saveParallelTestShortcutChanges(){const _0x257311=_0x4a01bc,_0x5d8307=document[_0x257311(0x657)]('parallel-shortcut-id-input')[_0x257311(0x68e)],_0x2ae206=document[_0x257311(0x657)](_0x257311(0xdff))['value']['trim'](),_0x19eca0=document[_0x257311(0x657)](_0x257311(0xae4))['value'][_0x257311(0x5b2)]();if(!_0x2ae206){showMessage(_0x257311(0x4a2));return;}const _0x46d743={'id':_0x5d8307||'parallel-shortcut_'+Date[_0x257311(0x42d)](),'name':_0x2ae206,'url':_0x19eca0,'isDefault':_0x5d8307[_0x257311(0x1ce)](_0x257311(0xa03))};let _0x36ccd4;_0x5d8307?_0x36ccd4=parallelTestShortcuts[_0x257311(0x823)](_0x6db1dd=>_0x6db1dd['id']===_0x5d8307?_0x46d743:_0x6db1dd):_0x36ccd4=[...parallelTestShortcuts,_0x46d743];try{const _0x2a102c=doc(db,_0x257311(0x56a),'parallelTestShortcutsConfig');await setDoc(_0x2a102c,{'shortcuts':_0x36ccd4},{'merge':!![]}),document[_0x257311(0x657)](_0x257311(0xe11))[_0x257311(0xb6d)]['add'](_0x257311(0x599));}catch(_0x18d8a5){console[_0x257311(0xcb6)](_0x257311(0xba5),_0x18d8a5),showMessage(_0x257311(0x597));}}async function handleParallelTestShortcutClick(_0x520f20){const _0x117c6d=_0x4a01bc,_0x2303f4=parallelTestShortcuts[_0x117c6d(0x1d5)](_0x33fb96=>_0x33fb96['id']===_0x520f20);if(!_0x2303f4)return;if(!_0x2303f4[_0x117c6d(0x4b3)]||_0x2303f4[_0x117c6d(0x4b3)][_0x117c6d(0x5b2)]()===''){openParallelTestShortcutEditor(_0x520f20);return;}const _0x214153=document[_0x117c6d(0x657)](_0x117c6d(0x653)),_0x3fd047=document[_0x117c6d(0x657)](_0x117c6d(0x616));document[_0x117c6d(0x657)]('quiz-generation-area')[_0x117c6d(0xb6d)][_0x117c6d(0x66f)]('hidden'),document[_0x117c6d(0x657)](_0x117c6d(0x197))['innerHTML']='',_0x214153[_0x117c6d(0xb6d)]['remove'](_0x117c6d(0x599)),_0x3fd047[_0x117c6d(0x54c)]=_0x117c6d(0xd8d);try{let _0x4b3094;_0x2303f4['url'][_0x117c6d(0x2c0)]()[_0x117c6d(0x484)](_0x117c6d(0x188))?_0x4b3094=_0x117c6d(0x9f6):_0x4b3094='source_document.pdf';const _0x427bed=await fetchFileFromUrl(_0x2303f4[_0x117c6d(0x4b3)],_0x4b3094);await handleGenerateParallelTest(_0x427bed);}catch(_0x67859){console[_0x117c6d(0xcb6)](_0x117c6d(0x5ec),_0x67859),showMessage('เกิดข้อผิดพลาด:\x20'+_0x67859[_0x117c6d(0x9a1)]),_0x214153[_0x117c6d(0xb6d)]['add'](_0x117c6d(0x599));}}function initializeScratchpadCanvas(){const _0x2b86c0=_0x4a01bc,_0x119208=document['getElementById'](_0x2b86c0(0x70f)),_0x34aec0=document['querySelector'](_0x2b86c0(0x35e));if(!_0x119208||!_0x34aec0)return;scratchpadCtx=_0x119208[_0x2b86c0(0x28e)]('2d',{'willReadFrequently':!![]});const _0xf40074=window['devicePixelRatio']||0x1,_0x7029a4=_0x34aec0['getBoundingClientRect']();_0x119208['width']=_0x7029a4[_0x2b86c0(0x1c6)]*_0xf40074,_0x119208[_0x2b86c0(0x711)]=_0x7029a4['height']*_0xf40074,_0x119208['style'][_0x2b86c0(0x1c6)]=_0x7029a4[_0x2b86c0(0x1c6)]+'px',_0x119208['style'][_0x2b86c0(0x711)]=_0x7029a4[_0x2b86c0(0x711)]+'px',scratchpadCtx['scale'](_0xf40074,_0xf40074),scratchpadCtx[_0x2b86c0(0xed6)]='round',scratchpadCtx[_0x2b86c0(0xa77)]=_0x2b86c0(0x430),_0x119208[_0x2b86c0(0xb77)]('pointerdown',handlePointerDown),_0x119208['removeEventListener'](_0x2b86c0(0x934),handlePointerMove),_0x119208[_0x2b86c0(0xb77)](_0x2b86c0(0xabd),handlePointerUp),_0x119208[_0x2b86c0(0xb77)](_0x2b86c0(0x34c),handlePointerUp),_0x119208[_0x2b86c0(0xb77)](_0x2b86c0(0x53f),handleWheel),_0x119208[_0x2b86c0(0xb77)](_0x2b86c0(0x1ab),handlePointerDown),_0x119208[_0x2b86c0(0xb77)](_0x2b86c0(0xb7c),handlePointerMove),_0x119208[_0x2b86c0(0xb77)](_0x2b86c0(0x43f),handlePointerUp),_0x119208[_0x2b86c0(0xdc6)](_0x2b86c0(0x828),handlePointerDown),_0x119208[_0x2b86c0(0xdc6)](_0x2b86c0(0x934),handlePointerMove),_0x119208[_0x2b86c0(0xdc6)](_0x2b86c0(0xabd),handlePointerUp),_0x119208[_0x2b86c0(0xdc6)]('pointercancel',handlePointerUp),_0x119208[_0x2b86c0(0xdc6)](_0x2b86c0(0x53f),handleWheel,{'passive':![]}),_0x119208[_0x2b86c0(0xdc6)](_0x2b86c0(0x1ab),handlePointerDown,{'passive':![]}),_0x119208[_0x2b86c0(0xdc6)]('touchmove',handlePointerMove,{'passive':![]}),_0x119208['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x21aea1=_0x4a01bc,_0x366b8c=document[_0x21aea1(0x657)](_0x21aea1(0x54f)),_0x21cfe4=document['getElementById'](_0x21aea1(0xe14));_0x21cfe4['innerHTML']=_0x21aea1(0xe87)+scratchpadHighlighterSize+_0x21aea1(0x90f);const _0x2b9dd3=document[_0x21aea1(0x657)](_0x21aea1(0x6fa)),_0x4e5c5c=document[_0x21aea1(0x657)](_0x21aea1(0x3bb)),_0x4ef743=document['getElementById'](_0x21aea1(0xbf8)),_0xa8bc6a=document['getElementById'](_0x21aea1(0x28c)),_0x1b136c=document['getElementById'](_0x21aea1(0xeb1)),_0x4048b5=document[_0x21aea1(0x657)](_0x21aea1(0x38a)),_0x394b0e=document[_0x21aea1(0x657)](_0x21aea1(0x2d4)),_0x56ecc8=[_0x2b9dd3,_0x4e5c5c,_0x4ef743,_0xa8bc6a];document[_0x21aea1(0x657)]('scratchpad-close-btn')[_0x21aea1(0xdc6)](_0x21aea1(0x4ca),()=>_0x366b8c[_0x21aea1(0xb6d)]['add'](_0x21aea1(0x599))),document['getElementById'](_0x21aea1(0xc67))[_0x21aea1(0xdc6)](_0x21aea1(0x4ca),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x21aea1(0x657)](_0x21aea1(0x4c7))['addEventListener']('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x21aea1(0x657)](_0x21aea1(0xe9c))[_0x21aea1(0xdc6)](_0x21aea1(0x4ca),undo),document['getElementById'](_0x21aea1(0x37c))['addEventListener'](_0x21aea1(0x4ca),redo);const _0x28be93=_0x46c7fe=>{const _0x20ee6b=_0x21aea1;_0x56ecc8[_0x20ee6b(0x427)](_0x3f3019=>_0x3f3019['classList'][_0x20ee6b(0x66f)]('active')),_0x46c7fe[_0x20ee6b(0xb6d)]['add']('active'),_0x1b136c[_0x20ee6b(0xb6d)][_0x20ee6b(0xa52)](_0x20ee6b(0x599)),_0x4048b5['classList'][_0x20ee6b(0xa52)]('hidden'),_0x394b0e[_0x20ee6b(0xb6d)][_0x20ee6b(0xa52)](_0x20ee6b(0x599));if(activeTool===_0x20ee6b(0xb8d)||activeTool===_0x20ee6b(0x6b6))_0x1b136c[_0x20ee6b(0xb6d)][_0x20ee6b(0x66f)](_0x20ee6b(0x599));else{if(activeTool===_0x20ee6b(0x2c2))_0x4048b5['classList']['remove']('hidden');else activeTool===_0x20ee6b(0xc82)&&_0x394b0e['classList'][_0x20ee6b(0x66f)](_0x20ee6b(0x599));}};_0x2b9dd3['addEventListener']('click',()=>{const _0x34c869=_0x21aea1;activeTool=_0x34c869(0xb8d),_0x28be93(_0x2b9dd3);}),_0x4e5c5c[_0x21aea1(0xdc6)]('click',()=>{const _0x7edaef=_0x21aea1;activeTool=_0x7edaef(0xc82),_0x28be93(_0x4e5c5c);}),_0x4ef743[_0x21aea1(0xdc6)](_0x21aea1(0x4ca),()=>{const _0x241508=_0x21aea1;activeTool=_0x241508(0x6b6),_0x28be93(_0x4ef743);}),_0xa8bc6a[_0x21aea1(0xdc6)](_0x21aea1(0x4ca),()=>{const _0x37c4bc=_0x21aea1;activeTool=_0x37c4bc(0x2c2),_0x28be93(_0xa8bc6a);}),_0x1b136c['querySelectorAll'](_0x21aea1(0x1f0))[_0x21aea1(0x427)](_0x5e7a80=>{const _0x26dd0d=_0x21aea1;_0x5e7a80[_0x26dd0d(0xdc6)](_0x26dd0d(0x4ca),_0x5e1484=>{const _0x325411=_0x26dd0d;scratchpadPenSize=parseInt(_0x5e1484[_0x325411(0x6f7)][_0x325411(0x320)][_0x325411(0xd83)],0xa),_0x1b136c[_0x325411(0x180)](_0x325411(0x1f0))[_0x325411(0x427)](_0x36eb59=>_0x36eb59[_0x325411(0xb6d)][_0x325411(0x66f)](_0x325411(0x670))),_0x5e1484['target'][_0x325411(0xb6d)][_0x325411(0xa52)]('active');});}),_0x394b0e[_0x21aea1(0x180)]('.eraser-size-btn')['forEach'](_0x1dbad7=>{const _0x42d646=_0x21aea1;_0x1dbad7[_0x42d646(0xdc6)](_0x42d646(0x4ca),_0x4ab79c=>{const _0x223e58=_0x42d646,_0xe5d9c4=_0x4ab79c[_0x223e58(0xcfd)];scratchpadEraserSize=parseInt(_0xe5d9c4[_0x223e58(0x320)]['size'],0xa),_0x394b0e[_0x223e58(0x180)](_0x223e58(0x815))[_0x223e58(0x427)](_0x449093=>_0x449093[_0x223e58(0xb6d)][_0x223e58(0x66f)](_0x223e58(0x670))),_0xe5d9c4[_0x223e58(0xb6d)]['add']('active');});}),_0x1b136c[_0x21aea1(0x180)](_0x21aea1(0xaf3))['forEach'](_0x3757ea=>{const _0x46f24d=_0x21aea1;_0x3757ea[_0x46f24d(0xdc6)](_0x46f24d(0x4ca),_0x167d77=>{const _0xe893c9=_0x46f24d;scratchpadPenColor=_0x167d77[_0xe893c9(0x6f7)][_0xe893c9(0x320)][_0xe893c9(0x20d)],_0x1b136c[_0xe893c9(0x180)](_0xe893c9(0xaf3))[_0xe893c9(0x427)](_0x34f0b6=>_0x34f0b6['classList'][_0xe893c9(0x66f)](_0xe893c9(0x670))),_0x167d77[_0xe893c9(0x6f7)]['classList']['add'](_0xe893c9(0x670));});}),_0x4048b5['querySelectorAll'](_0x21aea1(0xe06))[_0x21aea1(0x427)](_0x526422=>{const _0x21beb8=_0x21aea1;_0x526422[_0x21beb8(0xdc6)]('click',_0x4ebc83=>{const _0x2cc5ea=_0x21beb8;scratchpadHighlighterColor=_0x4ebc83[_0x2cc5ea(0x6f7)][_0x2cc5ea(0x320)]['color'],_0x4048b5[_0x2cc5ea(0x180)]('.highlighter-color-btn')[_0x2cc5ea(0x427)](_0x96d6ac=>_0x96d6ac[_0x2cc5ea(0xb6d)][_0x2cc5ea(0x66f)](_0x2cc5ea(0x670))),_0x4ebc83[_0x2cc5ea(0x6f7)][_0x2cc5ea(0xb6d)][_0x2cc5ea(0xa52)](_0x2cc5ea(0x670));});});const _0x488364=document[_0x21aea1(0x657)](_0x21aea1(0xb73)),_0xc57ac=document[_0x21aea1(0x657)](_0x21aea1(0x77b));_0x488364[_0x21aea1(0xdc6)](_0x21aea1(0x699),_0x15fe0a=>{const _0x34390b=_0x21aea1,_0x8805be=parseInt(_0x15fe0a[_0x34390b(0x6f7)][_0x34390b(0x68e)],0xa);scratchpadHighlighterSize=_0x8805be,_0xc57ac[_0x34390b(0x54c)]=_0x8805be;}),window[_0x21aea1(0xdc6)]('resize',()=>{const _0x1b4a83=_0x21aea1;!_0x366b8c[_0x1b4a83(0xb6d)][_0x1b4a83(0x650)](_0x1b4a83(0x599))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4a01bc(0xa9d),'name':_0x4a01bc(0xa90),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x4a01bc(0xcdb)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x4a01bc(0x5dc),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x4a01bc(0x5a3)},'ON_FIRE':{'id':_0x4a01bc(0x96a),'name':_0x4a01bc(0xd04),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x4a01bc(0x777),'name':_0x4a01bc(0x952),'description':_0x4a01bc(0x589),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x4a01bc(0x74d),'name':_0x4a01bc(0xf1e),'description':_0x4a01bc(0x3ad),'icon':_0x4a01bc(0x30a)},'SPECIALIST':{'id':_0x4a01bc(0x246),'name':'ผู้เชี่ยวชาญ','description':_0x4a01bc(0x500),'icon':_0x4a01bc(0x432)},'PERSEVERANCE':{'id':_0x4a01bc(0xbb3),'name':_0x4a01bc(0x422),'description':_0x4a01bc(0x63d),'icon':_0x4a01bc(0xbf0)}},firebaseConfig={'apiKey':_0x4a01bc(0x2e6),'authDomain':_0x4a01bc(0xaea),'projectId':_0x4a01bc(0x700),'storageBucket':_0x4a01bc(0x40c),'messagingSenderId':_0x4a01bc(0xb3a),'appId':_0x4a01bc(0xd5a),'measurementId':_0x4a01bc(0xb7f)},appId=typeof __app_id!==_0x4a01bc(0xd95)?__app_id:_0x4a01bc(0x340),adminView=document[_0x4a01bc(0x657)]('admin-view'),studentView=document['getElementById'](_0x4a01bc(0x757)),projectDashboardView=document[_0x4a01bc(0x657)](_0x4a01bc(0x1f2)),projectDetailView=document[_0x4a01bc(0x657)](_0x4a01bc(0xaf1)),quizResultsView=document[_0x4a01bc(0x657)](_0x4a01bc(0x9ca)),projectList=document['getElementById'](_0x4a01bc(0xddd)),noProjectsMsg=document['getElementById']('no-projects-msg'),projectTitle=document[_0x4a01bc(0x657)](_0x4a01bc(0xc15)),projectIdDisplay=document[_0x4a01bc(0x657)]('project-id-display'),studentList=document['getElementById'](_0x4a01bc(0xddc)),messageModal=document[_0x4a01bc(0x657)]('message-modal'),modalMessage=document[_0x4a01bc(0x657)](_0x4a01bc(0x7d2)),createProjectModal=document[_0x4a01bc(0x657)](_0x4a01bc(0x745)),adminPasswordModal=document[_0x4a01bc(0x657)]('admin-password-modal'),confirmationModal=document[_0x4a01bc(0x657)](_0x4a01bc(0xe63)),userIdDisplay=document[_0x4a01bc(0x657)]('user-id-display'),topicTab=document[_0x4a01bc(0x657)](_0x4a01bc(0x25f)),textTab=document['getElementById'](_0x4a01bc(0xcd3)),topicInputArea=document[_0x4a01bc(0x657)](_0x4a01bc(0xb5d)),textInputArea=document['getElementById']('text-input-area'),manageTab=document['getElementById'](_0x4a01bc(0x297)),resultsTab=document[_0x4a01bc(0x657)](_0x4a01bc(0xc88)),leaderboardTab=document[_0x4a01bc(0x657)](_0x4a01bc(0x8fb)),manageTabContent=document[_0x4a01bc(0x657)]('manage-tab-content'),resultsTabContent=document[_0x4a01bc(0x657)](_0x4a01bc(0xe9b)),leaderboardTabContent=document[_0x4a01bc(0x657)](_0x4a01bc(0x76a)),projectQuizzesList=document['getElementById']('project-quizzes-list'),fileTab=document[_0x4a01bc(0x657)](_0x4a01bc(0x77e)),fileInputArea=document[_0x4a01bc(0x657)](_0x4a01bc(0x259)),fileUploadInput=document[_0x4a01bc(0x657)](_0x4a01bc(0xca8)),worksheetTab=document[_0x4a01bc(0x657)](_0x4a01bc(0xeaf)),worksheetInputArea=document[_0x4a01bc(0x657)](_0x4a01bc(0x2dc)),generateWorksheetBtn=document[_0x4a01bc(0x657)](_0x4a01bc(0x256)),studentInitialView=document[_0x4a01bc(0x657)](_0x4a01bc(0xbff)),studentNameSelectionView=document[_0x4a01bc(0x657)]('student-name-selection-view'),studentQuizArea=document[_0x4a01bc(0x657)](_0x4a01bc(0x7b4)),studentResultArea=document[_0x4a01bc(0x657)](_0x4a01bc(0xc74)),studentReadingArea=document[_0x4a01bc(0x657)](_0x4a01bc(0x55d)),loadQuizBtn=document[_0x4a01bc(0x657)](_0x4a01bc(0x684)),startQuizBtn=document[_0x4a01bc(0x657)]('start-quiz-btn'),studentJoinGameView=document[_0x4a01bc(0x657)]('student-join-game-view'),presentationModal=document['getElementById'](_0x4a01bc(0xb14)),renameQuizModal=document[_0x4a01bc(0x657)](_0x4a01bc(0x71c)),moveQuizModal=document[_0x4a01bc(0x657)](_0x4a01bc(0x490)),quizSettingsModal=document[_0x4a01bc(0x657)](_0x4a01bc(0x5a4)),quizStatusModal=document['getElementById'](_0x4a01bc(0xe83)),liveGameView=document[_0x4a01bc(0x657)](_0x4a01bc(0xb10));function handleFixLessonLatex(){const _0x44bbab=_0x4a01bc,_0x221aae=document[_0x44bbab(0x657)]('lesson-view-content');if(!_0x221aae){showMessage(_0x44bbab(0x8b1));return;}const _0x3ec31b=_0x221aae[_0x44bbab(0x180)]([_0x44bbab(0xe39),'.ai-content\x20li','.ai-content\x20blockquote',_0x44bbab(0x710),'.ai-content\x20h3'][_0x44bbab(0x566)](','));let _0x3feb8a=0x0;const _0x82c64=_0x254ba9=>_0x254ba9[_0x44bbab(0x54c)]||'',_0x5dc06d=(_0x3f66d9,_0x2ec72e)=>{const _0x18d450=_0x44bbab;if(_0x3f66d9[_0x18d450(0x5cd)]&&_0x3f66d9[_0x18d450(0x5cd)](_0x18d450(0x663)))return;_0x3f66d9['textContent']=_0x2ec72e;},_0x25b872=_0x594ccc=>_0x594ccc['replace'](/\u00A0/g,'\x20')[_0x44bbab(0xdf2)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x1ef913=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xd2ac3b=_0x1da70a=>{const _0x5ae7d0=_0x44bbab;let _0x2826f5=_0x1da70a['trim']();const _0x23de72=['frac','dfrac',_0x5ae7d0(0xcd7),_0x5ae7d0(0x717),'text','times',_0x5ae7d0(0xaca),_0x5ae7d0(0x41e),'leq',_0x5ae7d0(0x2f5),'le','ge','neq','pm',_0x5ae7d0(0x28a),'sin',_0x5ae7d0(0xe5e),'tan','log','ln',_0x5ae7d0(0x8ab),_0x5ae7d0(0xa6f),_0x5ae7d0(0x89f),'left','right',_0x5ae7d0(0xb18),'underline',_0x5ae7d0(0xccc),_0x5ae7d0(0x1d7)];_0x23de72[_0x5ae7d0(0x427)](_0x4be5c4=>{const _0x502b86=_0x5ae7d0;_0x2826f5=_0x2826f5[_0x502b86(0xdf2)](new RegExp(_0x502b86(0x8e7)+_0x4be5c4+'\x5cb','g'),(_0x217158,_0x2548cc)=>_0x2548cc+'\x5c'+_0x4be5c4);});const _0x55f3a1=[[/×/g,_0x5ae7d0(0x383)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,_0x5ae7d0(0xca0)],[/≠/g,_0x5ae7d0(0x4f6)],[/±/g,_0x5ae7d0(0x73a)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x55f3a1[_0x5ae7d0(0x427)](([_0x5f4e12,_0x2071e0])=>{const _0x564874=_0x5ae7d0;_0x2826f5=_0x2826f5[_0x564874(0xdf2)](_0x5f4e12,_0x2071e0);}),_0x2826f5=_0x2826f5['replace'](/√\s*([A-Za-z0-9]+)/g,_0x5ae7d0(0x67a)),_0x2826f5=_0x2826f5[_0x5ae7d0(0xdf2)](/(\d+)\s*%/g,_0x5ae7d0(0xb9f)),_0x2826f5;},_0x1039d8=_0x1a9f53=>{const _0x5f186f=_0x44bbab;if(/\$|\\\(|\\\[/[_0x5f186f(0xbef)](_0x1a9f53))return _0x1a9f53;if(!_0x1ef913[_0x5f186f(0xbef)](_0x1a9f53))return _0x1a9f53;const _0x512dc4=_0x1a9f53[_0x5f186f(0xaf5)](/^\s*/)[0x0],_0x240b3a=_0x1a9f53['match'](/\s*$/)[0x0],_0x48ea7b=_0x1a9f53[_0x5f186f(0x5b2)]();return _0x512dc4+'$'+_0xd2ac3b(_0x48ea7b)+'$'+_0x240b3a;};_0x3ec31b['forEach'](_0xb25582=>{const _0x83c760=_0x44bbab,_0x53c100=_0x82c64(_0xb25582);let _0x51d9a2=_0x25b872(_0x53c100);_0x51d9a2=_0x51d9a2[_0x83c760(0xdf2)](/\$([^$]*?)\$/g,(_0x4dc20a,_0x241615)=>'$'+_0xd2ac3b(_0x241615)+'$');const _0x4c044e=_0x51d9a2[_0x83c760(0x805)](/(\s+)/),_0x40d98b=_0x4c044e['map'](_0x41345e=>{if(/\s+/['test'](_0x41345e))return _0x41345e;return _0x1039d8(_0x41345e);});_0x51d9a2=_0x40d98b[_0x83c760(0x566)](''),_0x51d9a2!==_0x53c100&&(_0x5dc06d(_0xb25582,_0x51d9a2),_0x3feb8a++);});if(_0x3feb8a>0x0){showMessage(_0x44bbab(0xa4b)+_0x3feb8a+_0x44bbab(0x559));try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x44bbab(0xdce)]([_0x221aae]);}catch(_0x33589a){console[_0x44bbab(0xcb6)]('MathJax\x20re-render\x20failed:',_0x33589a);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x28fd3e=_0x4a01bc,_0x23a416=document['getElementById'](_0x28fd3e(0x23c))||document,_0x207c39=_0x23a416[_0x28fd3e(0x180)](_0x28fd3e(0xe23));let _0x43aa9b=0x0;const _0x1d2f1d=_0x488490=>_0x28fd3e(0x68e)in _0x488490?String(_0x488490[_0x28fd3e(0x68e)]):_0x488490[_0x28fd3e(0xbb1)]!==undefined?_0x488490[_0x28fd3e(0xbb1)]:_0x488490[_0x28fd3e(0x54c)]||'',_0x4b6034=(_0x37e438,_0x4c3607)=>{const _0x332301=_0x28fd3e;if(_0x332301(0x68e)in _0x37e438){_0x37e438[_0x332301(0x68e)]=_0x4c3607;return;}if(_0x37e438[_0x332301(0x5cd)]&&_0x37e438['querySelector'](_0x332301(0x663)))return;if(_0x37e438[_0x332301(0xbb1)]!==undefined)_0x37e438[_0x332301(0xbb1)]=_0x4c3607;else _0x37e438[_0x332301(0x54c)]=_0x4c3607;},_0x42ce45=_0x350b5d=>_0x350b5d[_0x28fd3e(0xdf2)](/\u00A0/g,'\x20')[_0x28fd3e(0xdf2)](/\u200B/g,'')[_0x28fd3e(0xdf2)](/\r\n?/g,'\x0a'),_0x520281=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2aafbe=_0x648533=>{const _0x2ca8db=_0x28fd3e;let _0x56bc33=_0x648533[_0x2ca8db(0x5b2)]();_0x56bc33=_0x56bc33[_0x2ca8db(0xdf2)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x2ca8db(0xdc8)),_0x56bc33=_0x56bc33[_0x2ca8db(0xdf2)](/\bfrac(\d)(\d)/g,_0x2ca8db(0xdc8));const _0x21dc50=[_0x2ca8db(0x283),_0x2ca8db(0x717),'times',_0x2ca8db(0xaca),_0x2ca8db(0x41e),_0x2ca8db(0xeb9),'geq','neq','pm',_0x2ca8db(0xafd),_0x2ca8db(0xe5e),_0x2ca8db(0x96e),_0x2ca8db(0x546),'ln'];_0x21dc50['forEach'](_0x5cf06b=>{const _0x5aceaa=_0x2ca8db;_0x56bc33=_0x56bc33[_0x5aceaa(0xdf2)](new RegExp(_0x5aceaa(0x8e7)+_0x5cf06b+'\x5cb','g'),(_0x312b85,_0x198ada)=>_0x198ada+'\x5c'+_0x5cf06b);});const _0x105704=[[/×/g,_0x2ca8db(0x383)],[/·/g,_0x2ca8db(0x556)],[/÷/g,_0x2ca8db(0xc84)],[/≤/g,'\x5cle'],[/≥/g,_0x2ca8db(0xca0)],[/≠/g,_0x2ca8db(0x4f6)],[/±/g,_0x2ca8db(0x73a)]];return _0x105704[_0x2ca8db(0x427)](([_0x22e0da,_0x197884])=>{const _0x1599c6=_0x2ca8db;_0x56bc33=_0x56bc33[_0x1599c6(0xdf2)](_0x22e0da,_0x197884);}),_0x56bc33;},_0x1f83cd=_0x3c397b=>{const _0x55b8ab=_0x28fd3e;if(/\$|\\\(|\\\[/[_0x55b8ab(0xbef)](_0x3c397b))return _0x3c397b;if(!_0x520281[_0x55b8ab(0xbef)](_0x3c397b))return _0x3c397b;const _0x3d11ea=_0x3c397b[_0x55b8ab(0xaf5)](/^\s*/)[0x0],_0x56a91e=_0x3c397b[_0x55b8ab(0xaf5)](/\s*$/)[0x0],_0x196b5f=_0x3c397b[_0x55b8ab(0x5b2)]();return _0x3d11ea+'$'+_0x2aafbe(_0x196b5f)+'$'+_0x56a91e;};_0x207c39['forEach'](_0x1bc906=>{const _0x2c64dc=_0x28fd3e,_0x3edec4=_0x1d2f1d(_0x1bc906);let _0x196283=_0x42ce45(_0x3edec4);_0x196283=_0x196283[_0x2c64dc(0xdf2)](/\$([^$]*?)\$/g,(_0x1a66dc,_0x6f833b)=>'$'+_0x2aafbe(_0x6f833b)+'$');const _0x5a3801=_0x196283['split'](/(\s+)/),_0x2da2f6=_0x5a3801[_0x2c64dc(0x823)](_0x4f6b70=>/\s+/['test'](_0x4f6b70)?_0x4f6b70:_0x1f83cd(_0x4f6b70));_0x196283=_0x2da2f6['join'](''),_0x196283!==_0x3edec4&&(_0x4b6034(_0x1bc906,_0x196283),_0x43aa9b++);});if(_0x43aa9b>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x43aa9b+_0x28fd3e(0x954));try{if(window[_0x28fd3e(0x436)]&&MathJax[_0x28fd3e(0xdce)])MathJax[_0x28fd3e(0xdce)]();}catch(_0x15bc33){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x5f4dd7=_0x4a01bc,_0x4c9701=collection(db,'artifacts/'+appId+_0x5f4dd7(0x50f));onSnapshot(_0x4c9701,_0x214c75=>{const _0x135602=_0x5f4dd7;customMathTopics=_0x214c75[_0x135602(0xb70)][_0x135602(0x823)](_0x4cbf23=>({'id':_0x4cbf23['id'],..._0x4cbf23[_0x135602(0xd0c)]()})),renderTopicCheckboxes();},_0x355ad8=>{const _0x7476f1=_0x5f4dd7;console[_0x7476f1(0xcb6)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x355ad8);});}function handleSelectAllTopics(){const _0x5bdfbb=_0x4a01bc,_0x32bb21=document['getElementById'](_0x5bdfbb(0xa64)),_0x580a7c=_0x32bb21[_0x5bdfbb(0x180)](_0x5bdfbb(0x44d));_0x580a7c['forEach'](_0x2760f7=>{const _0x21f5bf=_0x5bdfbb;_0x2760f7[_0x21f5bf(0x536)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x757767=_0x4a01bc,_0x225699=document[_0x757767(0x657)](_0x757767(0xa64)),_0x3a9ddc=_0x225699['querySelectorAll']('input[type=\x22checkbox\x22]');_0x3a9ddc[_0x757767(0x427)](_0x195932=>{_0x195932['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4d92c5){const _0x4494cb=_0x4a01bc;if(!_0x4d92c5)return;try{const _0x52d231=doc(db,'artifacts/'+appId+_0x4494cb(0x50f),_0x4d92c5);await deleteDoc(_0x52d231),showMessage(_0x4494cb(0x389));}catch(_0x1f1a58){console[_0x4494cb(0xcb6)]('Error\x20deleting\x20custom\x20topic:',_0x1f1a58),showMessage(_0x4494cb(0xd4f));}}async function handleAddCustomMathTopic(){const _0x1bbc3e=_0x4a01bc,_0xcc4c1e=document[_0x1bbc3e(0x657)]('custom-math-topic-input'),_0x222493=_0xcc4c1e['value'][_0x1bbc3e(0x5b2)]();if(!_0x222493){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x1bbc3e(0x205));return;}try{const _0xa018ef=collection(db,_0x1bbc3e(0x4b1)+appId+_0x1bbc3e(0x50f));await addDoc(_0xa018ef,{'name':_0x222493,'createdAt':serverTimestamp()}),_0xcc4c1e[_0x1bbc3e(0x68e)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x222493+'\x22\x20สำเร็จ');}catch(_0x4c7140){console['error']('Error\x20adding\x20custom\x20topic:',_0x4c7140),showMessage(_0x1bbc3e(0x450));}}async function handleUpdateOldQuizzes(){const _0xe880b7=_0x4a01bc;showConfirmation(_0xe880b7(0xe96),async()=>{const _0x1320c9=_0xe880b7,_0x4bf0a7=document[_0x1320c9(0x657)](_0x1320c9(0x653)),_0x4fca55=document[_0x1320c9(0x657)](_0x1320c9(0x616)),_0x39288d=_0x4fca55[_0x1320c9(0x54c)];_0x4bf0a7[_0x1320c9(0xb6d)][_0x1320c9(0x66f)](_0x1320c9(0x599)),_0x4fca55[_0x1320c9(0x54c)]=_0x1320c9(0x3ec);try{const _0x3dd2a0=collection(db,_0x1320c9(0x4b1)+appId+_0x1320c9(0x8cb)),_0x2db147=await getDocs(_0x3dd2a0);if(_0x2db147[_0x1320c9(0x8fd)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0xae9d1e=writeBatch(db);let _0x1ac782=0x0;_0x2db147[_0x1320c9(0x427)](_0x3fed97=>{const _0x13a10a=_0x1320c9,_0xc23c36=_0x3fed97[_0x13a10a(0xd0c)](),_0x100276=_0x3fed97['id'];if(_0xc23c36[_0x13a10a(0x3ef)]&&_0xc23c36[_0x13a10a(0x3ef)][_0x13a10a(0x8ca)]>0x0&&!_0xc23c36['questions'][0x0][_0x13a10a(0x3e5)]('id')){console[_0x13a10a(0x546)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x100276+'\x20('+_0xc23c36[_0x13a10a(0xb1c)]+')'),_0x1ac782++;const _0x5096ec=_0xc23c36[_0x13a10a(0x3ef)][_0x13a10a(0x823)]((_0x4846fc,_0x55989b)=>{return{..._0x4846fc,'id':_0x4846fc['id']||'q_'+Date['now']()+'_'+_0x100276+'_'+_0x55989b};}),_0x543968=doc(db,'artifacts/'+appId+_0x13a10a(0x8cb),_0x100276);_0xae9d1e[_0x13a10a(0x294)](_0x543968,{'questions':_0x5096ec});}}),_0x1ac782>0x0?(_0x4fca55[_0x1320c9(0x54c)]=_0x1320c9(0xf34)+_0x1ac782+_0x1320c9(0x960),await _0xae9d1e[_0x1320c9(0xb4a)](),showMessage(_0x1320c9(0x471)+_0x1ac782+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x1e584a){console[_0x1320c9(0xcb6)](_0x1320c9(0xe33),_0x1e584a),showMessage(_0x1320c9(0x565)+_0x1e584a[_0x1320c9(0x9a1)]);}finally{_0x4bf0a7[_0x1320c9(0xb6d)][_0x1320c9(0xa52)](_0x1320c9(0x599)),_0x4fca55['textContent']=_0x39288d;}});}async function handleBulkUpdateQuizSettings(){const _0x67613f=_0x4a01bc,_0x2c9e72={'shuffle':document[_0x67613f(0x657)]('bulk-shuffle-select')['value'],'resultsDisplay':document['getElementById'](_0x67613f(0x9e8))[_0x67613f(0x68e)],'loopUntilPass':document[_0x67613f(0x657)](_0x67613f(0xb29))[_0x67613f(0x536)],'isConfidenceScoringEnabled':document[_0x67613f(0x657)]('bulk-confidence-scoring-checkbox')[_0x67613f(0x536)],'confidenceMode':document['getElementById'](_0x67613f(0x520))[_0x67613f(0x68e)]};try{showMessage(_0x67613f(0x4b8));const _0x4c3fcd=await getDocs(collection(db,'artifacts/'+appId+_0x67613f(0x8cb))),_0x2e894c=_0x4c3fcd[_0x67613f(0xb70)]['map'](_0x186058=>({'id':_0x186058['id'],'data':_0x186058[_0x67613f(0xd0c)]()})),_0x4cb6be=_0x2e894c[_0x67613f(0x8ca)];showConfirmation(_0x67613f(0xdb2)+_0x4cb6be+_0x67613f(0xc99),async()=>{const _0x28efac=_0x67613f,_0x1ad3dc=document[_0x28efac(0x657)](_0x28efac(0xeda));_0x1ad3dc[_0x28efac(0x4b4)]=!![],_0x1ad3dc[_0x28efac(0x891)]=_0x28efac(0xb44);try{const _0x46f94d=writeBatch(db);_0x2e894c[_0x28efac(0x427)](_0x4dfb45=>{const _0x1feee3=_0x28efac,_0x1adde7=doc(db,_0x1feee3(0x4b1)+appId+'/public/data/quizzes',_0x4dfb45['id']),_0x88fdbc={..._0x4dfb45[_0x1feee3(0xd0c)][_0x1feee3(0xf0c)]||{},..._0x2c9e72};_0x46f94d[_0x1feee3(0x294)](_0x1adde7,{'settings':_0x88fdbc});}),await _0x46f94d[_0x28efac(0xb4a)](),document[_0x28efac(0x657)](_0x28efac(0x8b7))[_0x28efac(0xb6d)][_0x28efac(0xa52)](_0x28efac(0x599)),showMessage(_0x28efac(0x2ed)+_0x4cb6be+_0x28efac(0x798));}catch(_0x1c37ab){console[_0x28efac(0xcb6)](_0x28efac(0x92d),_0x1c37ab),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x1ad3dc[_0x28efac(0x4b4)]=![],_0x1ad3dc[_0x28efac(0x891)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x56efa2){console[_0x67613f(0xcb6)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x56efa2),showMessage(_0x67613f(0x978));}}async function handleSaveProjectName(){const _0xf26708=_0x4a01bc,_0xad5f0f=document[_0xf26708(0x657)](_0xf26708(0xc15)),_0x404104=document[_0xf26708(0x657)](_0xf26708(0x4da)),_0x18eced=_0xad5f0f[_0xf26708(0x54c)][_0xf26708(0x5b2)]();if(!_0x18eced||!currentProjectId){showMessage(_0xf26708(0x95d)),_0xad5f0f[_0xf26708(0x54c)]=currentProjectData[_0xf26708(0x37f)];return;}_0x404104[_0xf26708(0x4b4)]=!![],_0x404104[_0xf26708(0x891)]=_0xf26708(0xb6e);try{const _0x2db5f6=doc(db,_0xf26708(0x4b1)+appId+_0xf26708(0x780),currentProjectId);await updateDoc(_0x2db5f6,{'projectName':_0x18eced}),currentProjectData&&(currentProjectData[_0xf26708(0x37f)]=_0x18eced),showMessage(_0xf26708(0x503));}catch(_0x9db14){console[_0xf26708(0xcb6)](_0xf26708(0x18b),_0x9db14),showMessage(_0xf26708(0x597)),_0xad5f0f[_0xf26708(0x54c)]=currentProjectData['projectName'];}finally{_0x404104[_0xf26708(0xb6d)][_0xf26708(0xa52)]('hidden'),_0x404104[_0xf26708(0x4b4)]=![],_0x404104[_0xf26708(0x891)]=_0xf26708(0xee3);}}function handleGeneratePracticeTest(_0x4ad7ad,_0x3c16f5){const _0x4f77d7=_0x4a01bc,_0x2442c7=document[_0x4f77d7(0x657)]('lesson-view-modal'),_0x153b60=document[_0x4f77d7(0x657)](_0x4f77d7(0x3bc)),_0x42726c=document[_0x4f77d7(0x657)](_0x4f77d7(0xe9f)),_0x21b2e1=document[_0x4f77d7(0x657)]('lesson-sections-container');_0x153b60[_0x4f77d7(0x54c)]=_0x4f77d7(0xc31)+_0x4ad7ad,_0x21b2e1[_0x4f77d7(0xb6d)][_0x4f77d7(0xa52)](_0x4f77d7(0x599)),_0x42726c[_0x4f77d7(0xb6d)][_0x4f77d7(0x66f)](_0x4f77d7(0x599)),_0x2442c7['classList'][_0x4f77d7(0x66f)](_0x4f77d7(0x599)),generatePracticeTest(_0x4ad7ad,_0x3c16f5)[_0x4f77d7(0x91e)](_0x7b11ec=>{const _0x2dcbb1=_0x4f77d7;console[_0x2dcbb1(0xcb6)](_0x2dcbb1(0xcdf),_0x7b11ec),showMessage(_0x2dcbb1(0x6c8)),_0x2442c7[_0x2dcbb1(0xb6d)][_0x2dcbb1(0xa52)](_0x2dcbb1(0x599));});}async function generatePracticeTest(_0x5f4f13,_0x5bfaa6){const _0x3b1edd=_0x4a01bc;[_0x3b1edd(0x723),_0x3b1edd(0x9ba),_0x3b1edd(0xb03),_0x3b1edd(0x677)]['forEach'](_0x56063e=>{const _0x49b6ad=_0x3b1edd,_0xb22bc3=document['getElementById'](_0x56063e)[_0x49b6ad(0x835)];_0xb22bc3&&(_0xb22bc3[_0x49b6ad(0xd7a)][_0x49b6ad(0xb0b)]=_0x49b6ad(0x813));});try{const _0x2be4a4=_0x3b1edd(0xd54),_0x920fe3=_0x3b1edd(0x882)+_0x5bfaa6+_0x3b1edd(0x818)+_0x5f4f13+_0x3b1edd(0x951),_0x379f9c=await callGemini(_0x920fe3,!![]),_0x153820=document[_0x3b1edd(0x657)](_0x3b1edd(0x3bc)),_0x3a116d=document[_0x3b1edd(0x657)]('lesson-loader'),_0x1909fc=document[_0x3b1edd(0x657)](_0x3b1edd(0xc04)),_0x4349ac=document[_0x3b1edd(0x657)](_0x3b1edd(0xb03))['parentElement'];_0x153820[_0x3b1edd(0xbb1)]=_0x3b1edd(0xdc3)+_0x5f4f13[_0x3b1edd(0xdf2)](/•\s/g,'')+_0x3b1edd(0x3e2)+_0x5bfaa6+')',currentApplicationData=JSON[_0x3b1edd(0xf3e)](_0x379f9c);const _0x587434=document['getElementById'](_0x3b1edd(0xb03));_0x587434[_0x3b1edd(0x891)]=currentApplicationData[_0x3b1edd(0x823)]((_0x2d2ccf,_0x364af8)=>_0x3b1edd(0x7cd)+(_0x364af8+0x1)+'.\x20'+marked[_0x3b1edd(0xd23)](_0x2d2ccf['question'])+_0x3b1edd(0x413)+_0x364af8+_0x3b1edd(0xcbe)+_0x2d2ccf[_0x3b1edd(0x5e9)][_0x3b1edd(0x823)]((_0x54dae6,_0x5bbf4a)=>_0x3b1edd(0xa0f)+_0x364af8+',\x20'+_0x5bbf4a+_0x3b1edd(0x648)+String[_0x3b1edd(0x3f4)](0x61+_0x5bbf4a)+'.\x20'+marked['parseInline'](_0x54dae6)+_0x3b1edd(0x45d))[_0x3b1edd(0x566)]('')+_0x3b1edd(0x6c7))[_0x3b1edd(0x566)](''),window[_0x3b1edd(0x436)]&&MathJax[_0x3b1edd(0xdce)]([_0x587434]),_0x4349ac&&(_0x4349ac[_0x3b1edd(0xd7a)][_0x3b1edd(0xb0b)]='block'),_0x3a116d['classList'][_0x3b1edd(0xa52)]('hidden'),_0x1909fc['classList'][_0x3b1edd(0x66f)](_0x3b1edd(0x599));}catch(_0x528937){console[_0x3b1edd(0xcb6)](_0x528937);throw _0x528937;}}async function callGemini(_0x417e4d,_0x31f078=![]){const _0x3415df=_0x4a01bc,_0x3a2b08=_0x3415df(0x20f),_0x568d31='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x3a2b08,_0x5181b0={'contents':[{'parts':[{'text':_0x417e4d}]}]};_0x31f078&&(_0x5181b0[_0x3415df(0x6af)]={'responseMimeType':_0x3415df(0x35a)},_0x417e4d[_0x3415df(0x484)](_0x3415df(0xc48))?_0x5181b0[_0x3415df(0x6af)][_0x3415df(0x5d7)]={'type':_0x3415df(0x73e),'properties':{'gradeLevel':{'type':_0x3415df(0xcf1)},'curriculum':{'type':'ARRAY','items':{'type':_0x3415df(0x73e),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x3415df(0x614),'items':{'type':_0x3415df(0x73e),'properties':{'topicName':{'type':_0x3415df(0xcf1)},'subTopics':{'type':'ARRAY','items':{'type':_0x3415df(0xcf1)}}},'required':[_0x3415df(0x325),_0x3415df(0x9d0)]}}},'required':[_0x3415df(0x4d7),'mainTopics']}}},'required':['gradeLevel',_0x3415df(0xd3d)]}:_0x5181b0[_0x3415df(0x6af)][_0x3415df(0x5d7)]={'type':'ARRAY','items':{'type':_0x3415df(0x73e),'properties':{'question':{'type':_0x3415df(0xcf1)},'options':{'type':_0x3415df(0x614),'items':{'type':'STRING'}},'answer':{'type':'NUMBER'}},'required':['question',_0x3415df(0x5e9),'answer']}});try{const _0x56638e=await fetch(_0x568d31,{'method':_0x3415df(0xe17),'headers':{'Content-Type':_0x3415df(0x35a)},'body':JSON[_0x3415df(0x7ba)](_0x5181b0)});if(!_0x56638e['ok']){const _0x3765eb=await _0x56638e['text']();console[_0x3415df(0xcb6)](_0x3415df(0x83f),_0x3765eb);throw new Error(_0x3415df(0xa21)+_0x56638e[_0x3415df(0x531)]);}const _0x118e82=await _0x56638e[_0x3415df(0x8df)]();if(_0x118e82[_0x3415df(0xa8d)]&&_0x118e82[_0x3415df(0xa8d)][0x0][_0x3415df(0xced)]&&_0x118e82['candidates'][0x0][_0x3415df(0xced)][_0x3415df(0x5d5)][0x0])return _0x118e82[_0x3415df(0xa8d)][0x0][_0x3415df(0xced)]['parts'][0x0][_0x3415df(0xe09)];else{console[_0x3415df(0xcb6)]('Unexpected\x20API\x20response\x20structure:',_0x118e82);if(_0x118e82[_0x3415df(0xa8d)]&&_0x118e82[_0x3415df(0xa8d)][0x0]['finishReason']===_0x3415df(0x9a7))return JSON[_0x3415df(0x7ba)]({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error(_0x3415df(0xaf9));}}catch(_0x107a24){console[_0x3415df(0xcb6)]('Error\x20calling\x20Gemini\x20API:',_0x107a24);throw _0x107a24;}}async function generateLesson(_0x5b92b4=null,_0x8ef831=null){const _0x2ca9ef=_0x4a01bc,_0x20b7fb=_0x5b92b4,_0x3db4d0=_0x8ef831||_0x2ca9ef(0xbd4),_0x16d7bc=document[_0x2ca9ef(0x657)](_0x2ca9ef(0xe9f)),_0x415a60=document[_0x2ca9ef(0x657)](_0x2ca9ef(0xac8));_0x415a60[_0x2ca9ef(0x54c)]=_0x2ca9ef(0xb53)+_0x20b7fb+_0x2ca9ef(0x689);try{let _0x44db2d=[];const _0x5423d5=document[_0x2ca9ef(0x657)]('bp-reference-file-url')?.[_0x2ca9ef(0x68e)]['trim']();if(_0x5423d5)try{_0x415a60[_0x2ca9ef(0x54c)]=_0x2ca9ef(0x3d8);const _0x451ca4=await fetchFileFromUrl(_0x5423d5,'reference_onet.pdf'),_0x4b4481=await new Promise((_0x17c461,_0x14f3e4)=>{const _0x37662e=_0x2ca9ef,_0x549aa1=new FileReader();_0x549aa1[_0x37662e(0x6d9)](_0x451ca4),_0x549aa1['onload']=()=>_0x17c461(_0x549aa1[_0x37662e(0x3fa)][_0x37662e(0x805)](',')[0x1]),_0x549aa1[_0x37662e(0xa4c)]=_0x14f3e4;});_0x44db2d[_0x2ca9ef(0xe7d)]({'inlineData':{'mimeType':_0x451ca4[_0x2ca9ef(0xd6c)],'data':_0x4b4481}});}catch(_0x5e6a53){console[_0x2ca9ef(0xcb6)](_0x2ca9ef(0x206),_0x5e6a53),showMessage(_0x2ca9ef(0x9b8));}const _0x203e71='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x20b7fb+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x20b7fb+_0x2ca9ef(0xb19);_0x415a60[_0x2ca9ef(0x54c)]=_0x2ca9ef(0xb53)+_0x20b7fb+_0x2ca9ef(0x689);const _0x26e99a=_0x2ca9ef(0xd5c)+_0x3db4d0+_0x2ca9ef(0x818)+_0x20b7fb+_0x2ca9ef(0x6f6)+_0x203e71+_0x2ca9ef(0x90d),_0x289965=_0x2ca9ef(0xa45)+_0x20b7fb+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3db4d0+_0x2ca9ef(0x760)+_0x203e71+_0x2ca9ef(0x5cf),_0x3ebdd8=_0x2ca9ef(0x6fb),_0x4bb1a3='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x3db4d0+'\x27\x20ในหัวข้อ\x20\x27'+_0x20b7fb+_0x2ca9ef(0xdf1)+_0x203e71+_0x2ca9ef(0x77a)+_0x3ebdd8+_0x2ca9ef(0x9f0),_0x516f6f=_0x2ca9ef(0xabe)+_0x20b7fb+_0x2ca9ef(0xbc7)+_0x3db4d0+_0x2ca9ef(0x2e4)+_0x203e71+_0x2ca9ef(0xdc2),_0x4b132e={'type':_0x2ca9ef(0x614),'items':{'type':_0x2ca9ef(0x73e),'properties':{'question':{'type':_0x2ca9ef(0xcf1)},'options':{'type':_0x2ca9ef(0x614),'items':{'type':_0x2ca9ef(0xcf1)}},'answer':{'type':_0x2ca9ef(0x24a)}},'required':['question',_0x2ca9ef(0x5e9),_0x2ca9ef(0x457)]}},[_0x4c75e2,_0xdf8197,_0x4bdb9d,_0x2e91ba]=await Promise['all']([handleApiCall([{'text':_0x26e99a},..._0x44db2d],_0x2ca9ef(0x740),null,null,![]),handleApiCall([{'text':_0x289965},..._0x44db2d],_0x2ca9ef(0x740),null,null,![]),handleApiCall([{'text':_0x4bb1a3},..._0x44db2d],_0x2ca9ef(0x740),_0x4b132e,null,![]),handleApiCall([{'text':_0x516f6f},..._0x44db2d],_0x2ca9ef(0x740),null,null,![])]),_0x169a93=JSON[_0x2ca9ef(0x7ba)](_0x4bdb9d||[]),_0x33ee8a=document[_0x2ca9ef(0x657)](_0x2ca9ef(0x3bc)),_0x2779d2=document[_0x2ca9ef(0x657)](_0x2ca9ef(0xc04));_0x33ee8a[_0x2ca9ef(0xbb1)]=_0x2ca9ef(0x672)+_0x20b7fb[_0x2ca9ef(0xdf2)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x3db4d0+')',['pointContent',_0x2ca9ef(0x9ba),'summaryContent'][_0x2ca9ef(0x427)](_0x263f5a=>{const _0x581976=_0x2ca9ef;document[_0x581976(0x657)](_0x263f5a)[_0x581976(0x891)]='';}),document['getElementById']('pointContent')[_0x2ca9ef(0x891)]=_0x4c75e2?marked['parse'](_0x4c75e2):_0x2ca9ef(0x279),document[_0x2ca9ef(0x657)]('memoryContent')[_0x2ca9ef(0x891)]=_0xdf8197?marked['parse'](_0xdf8197):_0x2ca9ef(0x279),document[_0x2ca9ef(0x657)]('summaryContent')[_0x2ca9ef(0x891)]=_0x2e91ba?marked[_0x2ca9ef(0xf3e)](_0x2e91ba):_0x2ca9ef(0x279),currentApplicationData=JSON[_0x2ca9ef(0xf3e)](_0x169a93);const _0x37c7bb=document[_0x2ca9ef(0x657)]('applicationContent');_0x37c7bb[_0x2ca9ef(0x891)]=(currentApplicationData||[])['map']((_0x57082d,_0x30efdf)=>_0x2ca9ef(0x7cd)+(_0x30efdf+0x1)+'.\x20'+marked[_0x2ca9ef(0xd23)](_0x57082d['question']||'')+_0x2ca9ef(0x413)+_0x30efdf+_0x2ca9ef(0xcbe)+(_0x57082d[_0x2ca9ef(0x5e9)]||[])[_0x2ca9ef(0x823)]((_0x3911de,_0x3fb80a)=>_0x2ca9ef(0xa0f)+_0x30efdf+',\x20'+_0x3fb80a+_0x2ca9ef(0x648)+String[_0x2ca9ef(0x3f4)](0x61+_0x3fb80a)+'.\x20'+marked[_0x2ca9ef(0xd23)](_0x3911de||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2ca9ef(0x566)]('')+_0x2ca9ef(0x6c7))[_0x2ca9ef(0x566)]('')||_0x2ca9ef(0x4e7),window[_0x2ca9ef(0x436)]&&MathJax[_0x2ca9ef(0xdce)]([_0x2779d2]),_0x16d7bc[_0x2ca9ef(0xb6d)][_0x2ca9ef(0xa52)](_0x2ca9ef(0x599)),_0x2779d2['classList']['remove']('hidden');}catch(_0x41627d){console[_0x2ca9ef(0xcb6)](_0x41627d);throw _0x41627d;}}function checkAnswer(_0x44d88e,_0x4ea8d2){const _0x375bff=_0x4a01bc,_0x1fca0b=currentApplicationData[_0x44d88e],_0x2b6a16=document['getElementById']('q'+_0x44d88e+_0x375bff(0x575)),_0x2a3f65=_0x2b6a16[_0x375bff(0x68c)](_0x375bff(0x898));for(let _0x349352 of _0x2a3f65){_0x349352[_0x375bff(0x4b4)]=!![];}_0x4ea8d2===_0x1fca0b[_0x375bff(0x457)]?_0x2a3f65[_0x4ea8d2][_0x375bff(0xb6d)][_0x375bff(0xa52)](_0x375bff(0x3b5)):(_0x2a3f65[_0x4ea8d2][_0x375bff(0xb6d)][_0x375bff(0xa52)](_0x375bff(0xbf1)),_0x2a3f65[_0x1fca0b['answer']][_0x375bff(0xb6d)][_0x375bff(0xa52)](_0x375bff(0x3b5)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x4a01bc(0xabf)]=handleGeneratePracticeTest,window[_0x4a01bc(0xbcc)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x100b1d=_0x4a01bc;if(document[_0x100b1d(0x657)](_0x100b1d(0x809)))return;const _0x162c2f='\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>';document[_0x100b1d(0x754)][_0x100b1d(0xc14)]('beforeend',_0x162c2f),setupCropperButtons();}function setupCropperButtons(){const _0x133a11=_0x4a01bc;document[_0x133a11(0x657)]('cancel-crop-btn')[_0x133a11(0xdc6)](_0x133a11(0x4ca),()=>{const _0x43f5ed=_0x133a11;document[_0x43f5ed(0x657)](_0x43f5ed(0x809))[_0x43f5ed(0xb6d)][_0x43f5ed(0xa52)](_0x43f5ed(0x599)),cropperInstance&&(cropperInstance[_0x43f5ed(0xb88)](),cropperInstance=null),document[_0x43f5ed(0x657)](_0x43f5ed(0x1e1))[_0x43f5ed(0x68e)]='';}),document[_0x133a11(0x657)](_0x133a11(0xe84))['addEventListener']('click',()=>{const _0x5e0c11=_0x133a11;if(!cropperInstance)return;const _0x1303a9=document['getElementById'](_0x5e0c11(0xe84)),_0x1b5e29=_0x1303a9[_0x5e0c11(0x891)];_0x1303a9[_0x5e0c11(0x891)]=_0x5e0c11(0xd6a),_0x1303a9[_0x5e0c11(0x4b4)]=!![],cropperInstance['getCroppedCanvas']()[_0x5e0c11(0xa81)](async _0x50e280=>{const _0x1158c8=_0x5e0c11;document[_0x1158c8(0x657)](_0x1158c8(0x809))[_0x1158c8(0xb6d)][_0x1158c8(0xa52)](_0x1158c8(0x599));const _0x55c3eb=new File([_0x50e280],_0x1158c8(0x786),{'type':_0x1158c8(0xd7d)});await handleScanImageForText(_0x55c3eb),_0x1303a9[_0x1158c8(0x891)]=_0x1b5e29,_0x1303a9[_0x1158c8(0x4b4)]=![],cropperInstance[_0x1158c8(0xb88)](),cropperInstance=null;},_0x5e0c11(0xd7d));});}function startCropper(_0x2566a4){const _0x1570c1=_0x4a01bc;ensureCropperModalExists();const _0x4fd4de=document[_0x1570c1(0x657)]('cropper-modal'),_0x1abe7e=document[_0x1570c1(0x657)](_0x1570c1(0x7c3)),_0x28117d=new FileReader();_0x28117d[_0x1570c1(0x9ee)]=_0x5252a=>{const _0x4d7ef5=_0x1570c1;_0x1abe7e[_0x4d7ef5(0x350)]=_0x5252a[_0x4d7ef5(0x6f7)][_0x4d7ef5(0x3fa)],_0x4fd4de[_0x4d7ef5(0xb6d)]['remove'](_0x4d7ef5(0x599));if(cropperInstance)cropperInstance['destroy']();cropperInstance=new Cropper(_0x1abe7e,{'viewMode':0x1,'dragMode':_0x4d7ef5(0x585),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x28117d[_0x1570c1(0x6d9)](_0x2566a4);}document[_0x4a01bc(0xdc6)](_0x4a01bc(0x8a9),()=>{const _0x44c192=_0x4a01bc,_0x4f8e86=document['getElementById'](_0x44c192(0x1e1)),_0x106bc6=document[_0x44c192(0x657)](_0x44c192(0x33a));_0x106bc6&&_0x4f8e86&&(_0x106bc6[_0x44c192(0xdc6)](_0x44c192(0x4ca),()=>{const _0x230509=_0x44c192;_0x4f8e86[_0x230509(0x68e)]='',_0x4f8e86[_0x230509(0x4ca)]();}),_0x4f8e86[_0x44c192(0xdc6)]('change',_0x40f191=>{const _0x2e5d16=_0x44c192;_0x40f191[_0x2e5d16(0x6f7)][_0x2e5d16(0x3a5)]&&_0x40f191[_0x2e5d16(0x6f7)]['files'][_0x2e5d16(0x8ca)]>0x0&&startCropper(_0x40f191[_0x2e5d16(0x6f7)][_0x2e5d16(0x3a5)][0x0]);}));});async function handleScanImageForText(_0x472910){const _0x6fe142=_0x4a01bc,_0x4a73d1=document['getElementById'](_0x6fe142(0x732)),_0x5442be=document[_0x6fe142(0x657)]('scan-text-image-btn');if(!_0x472910)return;_0x5442be['disabled']=!![],_0x5442be[_0x6fe142(0x891)]=_0x6fe142(0x926),_0x4a73d1[_0x6fe142(0x4c1)]=_0x6fe142(0x468);try{const _0x2ad12e=await new Promise((_0x29e657,_0x54d146)=>{const _0x3dcd5d=_0x6fe142,_0x3ab4b9=new FileReader();_0x3ab4b9[_0x3dcd5d(0x6d9)](_0x472910),_0x3ab4b9[_0x3dcd5d(0x9ee)]=()=>_0x29e657(_0x3ab4b9[_0x3dcd5d(0x3fa)][_0x3dcd5d(0x805)](',')[0x1]),_0x3ab4b9['onerror']=_0x54d146;}),_0x1c8ce8=_0x6fe142(0xbbb),_0x2259f3=[{'text':_0x1c8ce8},{'inlineData':{'mimeType':_0x472910['type'],'data':_0x2ad12e}}],_0x44efd9=await handleApiCall(_0x2259f3,_0x6fe142(0xbab),null,null,![]);if(_0x44efd9){const _0x92bc33=_0x4a73d1['value']['trim']();_0x4a73d1[_0x6fe142(0x68e)]=_0x92bc33?_0x92bc33+'\x0a\x0a'+_0x44efd9:_0x44efd9,showMessage(_0x6fe142(0xbaa));}else throw new Error(_0x6fe142(0xb21));}catch(_0x58e537){console[_0x6fe142(0xcb6)](_0x6fe142(0x8ff),_0x58e537),showMessage(_0x6fe142(0xe97)+_0x58e537['message']);}finally{_0x5442be[_0x6fe142(0x4b4)]=![],_0x5442be[_0x6fe142(0x891)]=_0x6fe142(0x53a),document['getElementById']('scan-text-image-input')[_0x6fe142(0x68e)]='';}}async function initialize(){const _0x3d7c5b=_0x4a01bc;try{const _0x261c3b=initializeApp(firebaseConfig);db=getFirestore(_0x261c3b),auth=getAuth(_0x261c3b),setupAuthListener(),setupEventListeners(),showView(_0x3d7c5b(0x6c5)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x377214){console[_0x3d7c5b(0xcb6)]('Firebase\x20initialization\x20failed:',_0x377214),showMessage(_0x3d7c5b(0x82b));}}async function handleVerifyAnswersInEditor(){const _0x42cf0c=_0x4a01bc,_0x30a636=document['getElementById'](_0x42cf0c(0xe79));if(!_0x30a636)return;const _0x393279=document[_0x42cf0c(0x657)](_0x42cf0c(0x3de));_0x393279[_0x42cf0c(0x4b4)]=!![],_0x393279[_0x42cf0c(0x891)]=_0x42cf0c(0xbb0);try{const _0x395e21=_0x30a636['querySelectorAll'](_0x42cf0c(0xc39)),_0x4ca699=Array[_0x42cf0c(0x5ac)](_0x395e21)[_0x42cf0c(0x823)]((_0x53668d,_0x33bdfc)=>{const _0x541972=_0x42cf0c,_0x3653fd=_0x53668d[_0x541972(0x320)][_0x541972(0xd70)],_0x4b0723=_0x53668d[_0x541972(0x5cd)](_0x541972(0x789))[_0x541972(0x68e)];let _0x3bdaa2=null,_0xcf7b48='';switch(_0x3653fd){case _0x541972(0xa7c):const _0x111859=_0x53668d[_0x541972(0x180)](_0x541972(0xe15));_0x3bdaa2=Array[_0x541972(0x5ac)](_0x111859)['map'](_0xb62a25=>_0xb62a25[_0x541972(0x68e)]);const _0x573c96=_0x53668d[_0x541972(0x5cd)](_0x541972(0x7da));_0x573c96&&(_0xcf7b48=_0x3bdaa2[parseInt(_0x573c96[_0x541972(0x68e)])]||'');break;case _0x541972(0x190):case'fill_in_no_choices':_0x3bdaa2=[],_0xcf7b48=_0x53668d[_0x541972(0x5cd)](_0x541972(0x5bb))[_0x541972(0x68e)];break;case'true_false':_0x3bdaa2=[_0x541972(0x804),_0x541972(0xe41)];const _0x324ce1=_0x53668d[_0x541972(0x5cd)](_0x541972(0x7da));_0xcf7b48=_0x324ce1?_0x324ce1[_0x541972(0x68e)]:'';break;case _0x541972(0xd13):_0x3bdaa2=[],_0xcf7b48=_0x53668d[_0x541972(0x5cd)]('.correct-response-input')[_0x541972(0x68e)];break;}return{'questionIndex':_0x33bdfc,'questionType':_0x3653fd,'question':_0x4b0723,'options':_0x3bdaa2,'proposedAnswer':_0xcf7b48};}),_0x2867aa=_0x42cf0c(0x8d4)+JSON[_0x42cf0c(0x7ba)](_0x4ca699)+_0x42cf0c(0xc20),_0x893aaf={'type':_0x42cf0c(0x614),'items':{'type':_0x42cf0c(0x73e),'properties':{'questionIndex':{'type':_0x42cf0c(0x24a)},'isCorrect':{'type':_0x42cf0c(0x9b7)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x42cf0c(0x9b7)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x42cf0c(0x73e),'properties':{'newOptions':{'type':_0x42cf0c(0x614),'items':{'type':'STRING'}},'newCorrectIndex':{'type':_0x42cf0c(0x24a)}},'required':['newOptions','newCorrectIndex']}},'required':[_0x42cf0c(0x683),_0x42cf0c(0x41b),_0x42cf0c(0xd9a)]}},_0x463c22=await callAnalysisApi(_0x2867aa,{'type':'OBJECT','properties':{'result':_0x893aaf},'required':[_0x42cf0c(0x3fa)]});if(_0x463c22&&_0x463c22[_0x42cf0c(0x3fa)])displayVerificationResultsInEditor(_0x463c22['result']);else throw new Error(_0x42cf0c(0x54b));}catch(_0x51ee95){console[_0x42cf0c(0xcb6)](_0x42cf0c(0xb67),_0x51ee95),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20'+_0x51ee95[_0x42cf0c(0x9a1)]);}finally{_0x393279[_0x42cf0c(0x4b4)]=![],_0x393279[_0x42cf0c(0x891)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x501e57){const _0x22a113=_0x4a01bc;_0x501e57[_0x22a113(0x427)](_0x434956=>{const _0x292ceb=_0x22a113,_0x48e868=document[_0x292ceb(0x5cd)]('.question-editor-item[data-q-index=\x22'+_0x434956[_0x292ceb(0x683)]+'\x22]');if(!_0x48e868)return;const _0x1255b4=_0x48e868[_0x292ceb(0x5cd)](_0x292ceb(0xe43));if(_0x1255b4)_0x1255b4['remove']();let _0x3d6628='';if(_0x434956[_0x292ceb(0x87a)]&&_0x434956['newOptionsPayload'][_0x292ceb(0x640)]){const _0x19e7c1=_0x434956[_0x292ceb(0x87a)][_0x292ceb(0x640)],_0x5229d4=_0x434956[_0x292ceb(0x87a)]['newCorrectIndex'],_0x16884e=_0x48e868[_0x292ceb(0x320)][_0x292ceb(0xd70)];if(_0x16884e===_0x292ceb(0xa7c)){const _0x17a22f=_0x48e868[_0x292ceb(0x180)](_0x292ceb(0xe15));_0x17a22f[_0x292ceb(0x427)]((_0x59e5d0,_0x4b854c)=>{const _0x1be026=_0x292ceb;_0x19e7c1[_0x4b854c]?_0x59e5d0['value']=_0x19e7c1[_0x4b854c]:_0x59e5d0['value']=_0x1be026(0xbe4);});const _0x50e139=_0x48e868[_0x292ceb(0x5cd)](_0x292ceb(0xb64)+_0x5229d4+'\x22]');_0x50e139&&(_0x50e139[_0x292ceb(0x536)]=!![]),_0x3d6628=_0x292ceb(0xa27),_0x48e868[_0x292ceb(0xb6d)][_0x292ceb(0xa52)](_0x292ceb(0xa58),_0x292ceb(0x791),_0x292ceb(0x2d1)),setTimeout(()=>{const _0x1b9c2a=_0x292ceb;_0x48e868['classList'][_0x1b9c2a(0x66f)](_0x1b9c2a(0xa58));},0x9c4);}}else{if(!_0x434956[_0x292ceb(0x41b)]&&_0x434956[_0x292ceb(0x65c)]){const _0x5af974=_0x434956[_0x292ceb(0x65c)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x3d6628=_0x292ceb(0x7bc)+_0x5af974+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x434956['justification']+_0x292ceb(0x2ce)+(_0x434956[_0x292ceb(0x65c)]?_0x292ceb(0xe02)+_0x434956[_0x292ceb(0x65c)]+_0x292ceb(0xcec):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0xfa477d=_0x48e868[_0x292ceb(0x320)][_0x292ceb(0xd70)],_0x1181f5=_0x32c41f=>{const _0x25813c=_0x292ceb;if(!_0x32c41f)return;_0x32c41f[_0x25813c(0xb6d)][_0x25813c(0xa52)](_0x25813c(0xc46),_0x25813c(0x791),_0x25813c(0x2d1)),setTimeout(()=>{const _0x2807dd=_0x25813c;_0x32c41f[_0x2807dd(0xb6d)][_0x2807dd(0x66f)]('bg-green-200');},0x9c4);};if(_0xfa477d===_0x292ceb(0xa7c)){const _0x488a99=Array[_0x292ceb(0x5ac)](_0x48e868['querySelectorAll'](_0x292ceb(0xe15))),_0x3270ac=_0x488a99[_0x292ceb(0x65b)](_0x1ba5b0=>_0x1ba5b0[_0x292ceb(0x68e)][_0x292ceb(0x5b2)]()[_0x292ceb(0x2c0)]()===_0x434956[_0x292ceb(0x65c)]['trim']()[_0x292ceb(0x2c0)]());if(_0x3270ac!==-0x1){const _0x142f51=_0x48e868[_0x292ceb(0x5cd)]('input[type=\x22radio\x22][value=\x22'+_0x3270ac+'\x22]');_0x142f51&&(_0x142f51['checked']=!![],_0x1181f5(_0x142f51[_0x292ceb(0xa5a)](_0x292ceb(0x41e))));}}else{if(_0xfa477d===_0x292ceb(0x190)||_0xfa477d===_0x292ceb(0xd13)){const _0x219f36=_0x48e868[_0x292ceb(0x5cd)](_0x292ceb(0x2df));_0x219f36&&(_0x219f36[_0x292ceb(0x68e)]=_0x434956['suggestedAnswer'],_0x1181f5(_0x219f36));}else{if(_0xfa477d===_0x292ceb(0x446)){const _0x30e03a=_0x434956[_0x292ceb(0x65c)]['trim']()[_0x292ceb(0x2c0)](),_0x4104c9=_0x48e868[_0x292ceb(0x5cd)](_0x292ceb(0xb64)+_0x30e03a+'\x22]');_0x4104c9&&(_0x4104c9['checked']=!![],_0x1181f5(_0x4104c9['closest'](_0x292ceb(0x41e))));}}}}else _0x434956[_0x292ceb(0x41b)]&&(_0x3d6628=_0x292ceb(0x7d8));}_0x48e868['insertAdjacentHTML'](_0x292ceb(0x494),_0x3d6628);}),showMessage(_0x22a113(0x993));}async function handleVerifyAnswers(){const _0x1a6ae3=_0x4a01bc;if(!currentQuizData||!currentQuizData[_0x1a6ae3(0x3ef)]){showMessage(_0x1a6ae3(0x680));return;}const _0x3f3202=document[_0x1a6ae3(0x657)]('verify-answers-btn');_0x3f3202[_0x1a6ae3(0x4b4)]=!![],_0x3f3202[_0x1a6ae3(0x891)]=_0x1a6ae3(0xbb0);try{const _0x8f37db=currentQuizData['questions']['map']((_0x11e14b,_0x378866)=>{const _0x154383=_0x1a6ae3;let _0x205923='';const _0x4f7488=_0x11e14b[_0x154383(0x7ed)]||currentQuizData['quizType'];switch(_0x4f7488){case'multiple_choice':_0x205923=_0x11e14b['options'][_0x11e14b['correctAnswerIndex']];break;case'short_answer':_0x205923=_0x11e14b['idealAnswer'];break;case'true_false':_0x205923=_0x11e14b[_0x154383(0x315)][_0x154383(0x830)]();break;case _0x154383(0xd13):_0x205923=_0x11e14b[_0x154383(0xdf0)];break;}return{'question':_0x11e14b[_0x154383(0x472)]||_0x11e14b['questionText'],'options':_0x11e14b[_0x154383(0x5e9)]||null,'proposedAnswer':_0x205923};}),_0x1eda4c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x1a6ae3(0x7ba)](_0x8f37db)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x236b89={'type':'ARRAY','items':{'type':_0x1a6ae3(0x73e),'properties':{'questionIndex':{'type':_0x1a6ae3(0x24a)},'isCorrect':{'type':_0x1a6ae3(0x9b7)},'justification':{'type':_0x1a6ae3(0xcf1)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x1a6ae3(0x683),_0x1a6ae3(0x41b),'justification']}},_0x201faf=await callAnalysisApi(_0x1eda4c,{'type':_0x1a6ae3(0x73e),'properties':{'result':_0x236b89},'required':[_0x1a6ae3(0x3fa)]});displayVerificationResults(_0x201faf[_0x1a6ae3(0x3fa)]);}catch(_0x4c346e){console['error'](_0x1a6ae3(0x99c),_0x4c346e),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3f3202['disabled']=![],_0x3f3202[_0x1a6ae3(0x891)]=_0x1a6ae3(0x4bf);}}function displayVerificationResults(_0x2a061e){const _0x3e2e5a=_0x4a01bc;_0x2a061e[_0x3e2e5a(0x427)](_0x286819=>{const _0x1d6091=_0x3e2e5a,_0x5ead07=document['querySelector']('div[data-question-index=\x22'+_0x286819['questionIndex']+'\x22]');if(_0x5ead07){const _0x2061f5=_0x5ead07['querySelector'](_0x1d6091(0x47b));if(_0x2061f5)_0x2061f5[_0x1d6091(0x66f)]();let _0x50ac49='';_0x286819[_0x1d6091(0x41b)]?_0x50ac49='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x50ac49=_0x1d6091(0x58a)+_0x286819['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x286819[_0x1d6091(0x65c)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x286819[_0x1d6091(0x65c)]+_0x1d6091(0xcec):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5ead07['insertAdjacentHTML'](_0x1d6091(0x494),_0x50ac49);}}),showMessage(_0x3e2e5a(0x993));}function compareNumericalAnswers(_0x58db0a,_0x8bc8bd){const _0x78e763=_0x4a01bc,_0x2c9463=String(_0x58db0a)[_0x78e763(0xdf2)](',','.')[_0x78e763(0xdf2)](/[^\d.-]/g,'')[_0x78e763(0x5b2)](),_0x3d46bc=String(_0x8bc8bd)[_0x78e763(0xdf2)](',','.')[_0x78e763(0xdf2)](/[^\d.-]/g,'')[_0x78e763(0x5b2)]();if(_0x2c9463===''||_0x3d46bc==='')return![];const _0x1c8864=parseFloat(_0x2c9463),_0x54bdf8=parseFloat(_0x3d46bc);if(isNaN(_0x1c8864)||isNaN(_0x54bdf8))return![];return Math[_0x78e763(0x849)](_0x1c8864-_0x54bdf8)<0.001;}function isPotentiallyNumeric(_0x421417){const _0x26ac08=_0x4a01bc;if(typeof _0x421417!==_0x26ac08(0x9a5)&&typeof _0x421417!==_0x26ac08(0x43e))return![];const _0x2eb55c=String(_0x421417)[_0x26ac08(0xdf2)](',','.')[_0x26ac08(0x5b2)]();return _0x2eb55c!==''&&!isNaN(parseFloat(_0x2eb55c))&&isFinite(_0x2eb55c);}async function gradeShortAnswer(_0x58ba58,_0x1c0941){const _0x12a4e9=_0x4a01bc,_0x570856=_0x1c0941[_0x12a4e9(0x9c1)],_0x1e2a87=String(_0x58ba58)[_0x12a4e9(0xdf2)](/\$/g,'')['trim'](),_0x3c2667=String(_0x570856)[_0x12a4e9(0xdf2)](/\$/g,'')['trim']();if(_0x1e2a87['toLowerCase']()===_0x3c2667[_0x12a4e9(0x2c0)]())return!![];if(isPotentiallyNumeric(_0x1e2a87)&&isPotentiallyNumeric(_0x3c2667)){if(compareNumericalAnswers(_0x1e2a87,_0x3c2667))return!![];}return console[_0x12a4e9(0x546)]('Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.'),![];}async function revealAnswerForAdmin(_0x31a78d,_0x60772b){const _0x2af70d=_0x4a01bc,_0x18391f=doc(db,'artifacts/'+appId+_0x2af70d(0x722),currentLiveGameId);await updateDoc(_0x18391f,{'questionStatus':_0x2af70d(0x30b)});}function showTop5LeaderboardView(_0x19aa26){const _0xdf123b=_0x4a01bc,_0x10e6b3=Object[_0xdf123b(0x7ef)](_0x19aa26[_0xdf123b(0x4f7)]||{})[_0xdf123b(0xc4c)](_0x22f768=>_0x22f768[_0xdf123b(0x531)]===_0xdf123b(0x670));_0x10e6b3[_0xdf123b(0xc1a)]((_0x9dccd0,_0x576c53)=>_0x576c53['score']-_0x9dccd0[_0xdf123b(0x43c)]);const _0x5ade78=_0x10e6b3['slice'](0x0,0x5),_0x184d45=_0xdf123b(0xc7e)+_0x5ade78[_0xdf123b(0x823)]((_0x37a3c5,_0x3e0fb3)=>_0xdf123b(0x291)+(_0x3e0fb3+0x1)+'.\x20'+(_0x37a3c5[_0xdf123b(0x9ce)]||Object['keys'](_0x19aa26[_0xdf123b(0x4f7)])['find'](_0x135e26=>_0x19aa26[_0xdf123b(0x4f7)][_0x135e26]===_0x37a3c5))+_0xdf123b(0xa2f)+_0x37a3c5['score']+_0xdf123b(0x443))[_0xdf123b(0x566)]('')+_0xdf123b(0x984)+(_0x19aa26[_0xdf123b(0x567)]+0x1===currentQuizData[_0xdf123b(0x3ef)][_0xdf123b(0x8ca)]?_0xdf123b(0x2ad):_0xdf123b(0xccd))+_0xdf123b(0x8c7);liveGameView[_0xdf123b(0x891)]=_0x184d45,document[_0xdf123b(0x657)](_0xdf123b(0x9a3))[_0xdf123b(0xdc6)](_0xdf123b(0x4ca),async()=>{const _0x1d4a54=_0xdf123b,_0x1e7152=doc(db,_0x1d4a54(0x4b1)+appId+_0x1d4a54(0x722),currentLiveGameId),_0x29f94a=_0x19aa26['currentQuestionIndex']+0x1;if(_0x29f94a<currentQuizData[_0x1d4a54(0x3ef)][_0x1d4a54(0x8ca)]){const _0x1b5257={'currentQuestionIndex':_0x29f94a,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x1d4a54(0xde1)](_0x19aa26[_0x1d4a54(0x4f7)])[_0x1d4a54(0x427)](_0x854b89=>{const _0xf26c7a=_0x1d4a54;_0x1b5257['players.'+_0x854b89+_0xf26c7a(0xc3f)]=![];}),await updateDoc(_0x1e7152,_0x1b5257);}else await updateDoc(_0x1e7152,{'status':_0x1d4a54(0x9e2)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x247223=>{const _0x3f669f=_0x551a;if(_0x247223){userId=_0x247223[_0x3f669f(0x2fd)],userIdDisplay[_0x3f669f(0x54c)]=userId;const _0x4e5fd6=await loadUserPreferences();_0x4e5fd6[_0x3f669f(0x7f7)]&&(document[_0x3f669f(0x657)]('project-sort-select')['value']=_0x4e5fd6['projectSortOrder']);globalDashboardSettings['projectView']=_0x4e5fd6[_0x3f669f(0xc0e)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2fd6c2,_0x216463){const _0x5e1e6d=_0x4a01bc;if(!userId)return;try{const _0x5e2b47=doc(db,_0x5e1e6d(0x4b1)+appId+_0x5e1e6d(0x9bd)+userId+_0x5e1e6d(0xa95)),_0x335f22={};_0x335f22[_0x2fd6c2]=_0x216463,await setDoc(_0x5e2b47,_0x335f22,{'merge':!![]});}catch(_0x544359){console['error'](_0x5e1e6d(0xad7),_0x544359);}}async function loadUserPreferences(){const _0x4df7dd=_0x4a01bc;if(!userId)return{};try{const _0x4252af=doc(db,_0x4df7dd(0x4b1)+appId+_0x4df7dd(0x9bd)+userId+_0x4df7dd(0xa95)),_0x361c84=await getDoc(_0x4252af);if(_0x361c84[_0x4df7dd(0xce9)]())return _0x361c84['data']();return{};}catch(_0xad4dc2){return console[_0x4df7dd(0xcb6)](_0x4df7dd(0x56c),_0xad4dc2),{};}}function parseIndentedBlueprint(_0xdd4621){const _0x29cd19=_0x4a01bc,_0x3bd752=_0xdd4621['split']('\x0a')[_0x29cd19(0xc4c)](_0x25eab9=>_0x25eab9['trim']()!==''),_0x30ba45=[];let _0x52c056=null,_0x540b81=null;return _0x3bd752[_0x29cd19(0x427)](_0x1fbb30=>{const _0x110784=_0x29cd19,_0x87278a=_0x1fbb30[_0x110784(0xaf5)](/^\s*/)[0x0]['length'],_0x384c70=_0x1fbb30[_0x110784(0x5b2)]();if(_0x87278a===0x0)_0x52c056={'sara':_0x384c70,'mainTopics':[]},_0x30ba45['push'](_0x52c056),_0x540b81=null;else{if(_0x87278a>0x0&&_0x87278a<0x8&&_0x52c056)_0x540b81={'topicName':_0x384c70,'subTopics':[]},_0x52c056[_0x110784(0x795)][_0x110784(0xe7d)](_0x540b81);else _0x87278a>=0x8&&_0x540b81&&_0x540b81[_0x110784(0x9d0)][_0x110784(0xe7d)](_0x384c70);}}),{'curriculum':_0x30ba45};}async function handleManualBlueprintSave(){const _0x3e95a3=_0x4a01bc,_0x3009aa=document[_0x3e95a3(0x657)](_0x3e95a3(0x4aa))[_0x3e95a3(0x68e)][_0x3e95a3(0x5b2)](),_0x757b89=document[_0x3e95a3(0x657)](_0x3e95a3(0x5c8))[_0x3e95a3(0x68e)][_0x3e95a3(0x5b2)](),_0x43e5ae=document['getElementById']('manual-bp-content')[_0x3e95a3(0x68e)];if(!_0x3009aa||!_0x757b89||!_0x43e5ae){showMessage(_0x3e95a3(0x51a));return;}const _0x2759e2=parseIndentedBlueprint(_0x43e5ae);if(!_0x2759e2[_0x3e95a3(0xd3d)]||_0x2759e2[_0x3e95a3(0xd3d)][_0x3e95a3(0x8ca)]===0x0){showMessage(_0x3e95a3(0xa68));return;}const _0x2a18d1={};let _0x18cdcd=0x0;_0x2759e2[_0x3e95a3(0xd3d)]['forEach'](_0x97844f=>{_0x97844f['mainTopics']['forEach'](_0x5a5ba0=>{const _0x3b96fa=_0x551a;_0x5a5ba0[_0x3b96fa(0x9d0)][_0x3b96fa(0x427)](_0x4d20e2=>{const _0x434a6c=_0x3b96fa,_0x1a912e=_0x434a6c(0xd20)+Date[_0x434a6c(0x42d)]()+Math[_0x434a6c(0xf11)]()['toString'](0x24)[_0x434a6c(0xa38)](0x2,0x9);_0x2a18d1[_0x1a912e]={'sara':_0x97844f[_0x434a6c(0x4d7)],'mainTopic':_0x5a5ba0[_0x434a6c(0x325)],'subTopic':_0x4d20e2,'status':'not_generated','lessonContent':null,'order':_0x18cdcd++};});});});try{const _0x4a08df=collection(db,'artifacts/'+appId+_0x3e95a3(0xef8));await addDoc(_0x4a08df,{'projectName':_0x3009aa,'gradeLevel':_0x757b89,'topics':_0x2a18d1,'createdAt':serverTimestamp()}),showMessage(_0x3e95a3(0x274)+_0x3009aa+'\x22\x20สำเร็จ!'),document[_0x3e95a3(0x657)](_0x3e95a3(0x26e))[_0x3e95a3(0xb6d)]['add'](_0x3e95a3(0x599));}catch(_0x20ff6c){console['error'](_0x3e95a3(0x9ad),_0x20ff6c),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x2c12ac){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x436e9d=_0x551a;try{const _0x1ec0a6=doc(db,_0x436e9d(0x4b1)+appId+_0x436e9d(0xef8),currentBlueprintProjectId);await updateDoc(_0x1ec0a6,{[_0x436e9d(0xe7c)+_0x2c12ac+'.linkedQuizIds']:[]}),showMessage(_0x436e9d(0x8d2)),openTopicQuizBank(_0x2c12ac),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x336752){console[_0x436e9d(0xcb6)](_0x436e9d(0xc7b),_0x336752),showMessage(_0x436e9d(0x4ff));}});}function showPodiumView(_0x54df3c,_0x2664a3=_0x4a01bc(0x83c),_0xbd9885=null){const _0x232751=_0x4a01bc,_0x32619b=_0xbd9885?.[_0x232751(0x744)]===!![],_0x360e85=Object[_0x232751(0x1f7)](_0x54df3c)[_0x232751(0x823)](([_0x58d81a,_0x1ad531])=>({'name':_0x58d81a,'realScore':_0x1ad531[_0x232751(0x7d5)]||_0x1ad531['score']||0x0,'totalPoints':_0x1ad531[_0x232751(0x2e5)]||0x0,'badges':_0x1ad531[_0x232751(0x485)]||[],'hasPerfectScoreBonus':_0x1ad531[_0x232751(0x2c4)]||![],'correctStreak':_0x1ad531[_0x232751(0x64c)]||0x0})),_0x513e42=Math[_0x232751(0xf23)](..._0x360e85[_0x232751(0x823)](_0x3402bf=>_0x3402bf['totalPoints']),-Infinity),_0x389af8=Math['max'](..._0x360e85[_0x232751(0x823)](_0x4d3415=>_0x4d3415[_0x232751(0x7d5)]),-Infinity);_0x360e85[_0x232751(0xc1a)]((_0x12cddd,_0xd9ffc8)=>{const _0x5303fd=_0x232751;if(_0x32619b){const _0x19b526=_0xd9ffc8[_0x5303fd(0x2e5)]-_0x12cddd[_0x5303fd(0x2e5)];if(_0x19b526!==0x0)return _0x19b526;const _0x325bf7=_0xd9ffc8[_0x5303fd(0x7d5)]-_0x12cddd[_0x5303fd(0x7d5)];if(_0x325bf7!==0x0)return _0x325bf7;return _0x12cddd[_0x5303fd(0x9ce)][_0x5303fd(0x8c8)](_0xd9ffc8[_0x5303fd(0x9ce)],'th');}else{const _0x2de528=_0xd9ffc8['totalPoints']-_0x12cddd[_0x5303fd(0x2e5)];if(_0x2de528!==0x0)return _0x2de528;const _0x5c869a=_0xd9ffc8[_0x5303fd(0x7d5)]-_0x12cddd['realScore'];if(_0x5c869a!==0x0)return _0x5c869a;return _0x12cddd[_0x5303fd(0x9ce)][_0x5303fd(0x8c8)](_0xd9ffc8[_0x5303fd(0x9ce)],'th');}});let _0x29bd70=0x1;for(let _0x3d1c5e=0x0;_0x3d1c5e<_0x360e85[_0x232751(0x8ca)];_0x3d1c5e++){if(_0x3d1c5e>0x0){const _0x283316=_0x360e85[_0x3d1c5e-0x1],_0x20d606=_0x360e85[_0x3d1c5e],_0xe305fe=_0x20d606[_0x232751(0x2e5)]===_0x283316[_0x232751(0x2e5)]&&_0x20d606[_0x232751(0x7d5)]===_0x283316[_0x232751(0x7d5)];!_0xe305fe&&(_0x29bd70=_0x3d1c5e+0x1);}_0x360e85[_0x3d1c5e][_0x232751(0xb04)]=_0x29bd70;}const _0x207c9f=_0x1d6227=>{const _0x206c3a=_0x232751;if(!_0x1d6227||_0x1d6227[_0x206c3a(0x8ca)]===0x0)return'';const _0x8e5cae={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x206c3a(0x6a6)+_0x1d6227[_0x206c3a(0x823)](_0xd9f1da=>_0x8e5cae[_0xd9f1da]||'')[_0x206c3a(0x566)]('')+_0x206c3a(0xbfc);},_0x1bde31=_0x40d3d7=>{const _0x21b2d1=_0x232751;let _0x29be71='';if(_0x32619b){if(_0x40d3d7[_0x21b2d1(0x2e5)]===_0x513e42&&_0x513e42>0x0)_0x29be71+=_0x21b2d1(0x596);if(_0x40d3d7['realScore']===_0x389af8&&_0x389af8>0x0)_0x29be71+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x40d3d7[_0x21b2d1(0x2c4)])_0x29be71=_0x21b2d1(0x9e1);}let _0x33cbf0='';_0x40d3d7[_0x21b2d1(0x64c)]>=0x3&&(_0x33cbf0=_0x21b2d1(0x5db)+_0x40d3d7[_0x21b2d1(0x64c)]+'</span>');if(_0x32619b){const _0x5a5eef=_0x40d3d7[_0x21b2d1(0x2e5)]>=0x0?'(+'+_0x40d3d7[_0x21b2d1(0x2e5)][_0x21b2d1(0x6bb)]()+')':'('+_0x40d3d7[_0x21b2d1(0x2e5)][_0x21b2d1(0x6bb)]()+')';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x40d3d7['realScore']+_0x21b2d1(0x522)+_0x5a5eef+_0x21b2d1(0xd9f)+_0x29be71+_0x33cbf0+_0x21b2d1(0x1cf);}else return _0x21b2d1(0xc0f)+_0x40d3d7[_0x21b2d1(0x2e5)][_0x21b2d1(0x6bb)]()+_0x21b2d1(0x4f4)+_0x29be71+_0x33cbf0+_0x21b2d1(0x1cf);},_0x3b6551=_0x27f0fa=>{const _0x4eecb3=_0x232751;if(_0x27f0fa>=0x3)return _0x4eecb3(0x847)+_0x27f0fa+_0x4eecb3(0x5b0);return'';},_0x50de8e=_0x360e85[_0x232751(0xe0b)](0x3),_0x10c5ba=_0x50de8e['length']>0x0?_0x232751(0x655)+_0x50de8e[_0x232751(0x823)]((_0x20e7e0,_0x325263)=>{const _0x3ac661=_0x232751;let _0x1aea46='';if(_0x32619b){if(_0x20e7e0['totalPoints']===_0x513e42&&_0x513e42>0x0)_0x1aea46+=_0x3ac661(0xc9f);if(_0x20e7e0[_0x3ac661(0x7d5)]===_0x389af8&&_0x389af8>0x0)_0x1aea46+='🎓\x20';}let _0x17ef6d='';return _0x32619b?_0x17ef6d=_0x20e7e0['realScore']+_0x3ac661(0x3be)+_0x20e7e0[_0x3ac661(0x2e5)]['toLocaleString']()+')':_0x17ef6d=_0x20e7e0[_0x3ac661(0x2e5)][_0x3ac661(0x6bb)]()+_0x3ac661(0x6c0),_0x3ac661(0xa51)+_0x20e7e0['displayRank']+_0x3ac661(0x32f)+_0x20e7e0[_0x3ac661(0x9ce)]+_0x3ac661(0x380)+_0x3b6551(_0x20e7e0['correctStreak'])+_0x3ac661(0xbb4)+_0x17ef6d+'\x20'+_0x1aea46+_0x3ac661(0xd73);})[_0x232751(0x566)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x4bc134=_0x232751(0x6bd)+(_0x360e85[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>'+_0x360e85[0x1][_0x232751(0x9ce)]+_0x232751(0xcec)+_0x1bde31(_0x360e85[0x1])+_0x232751(0xdca)+_0x360e85[0x1][_0x232751(0xb04)]+_0x232751(0x502):_0x232751(0x396))+_0x232751(0x7f1)+(_0x360e85[0x0]?_0x232751(0x28b)+_0x360e85[0x0][_0x232751(0x9ce)]+_0x232751(0xcec)+_0x1bde31(_0x360e85[0x0])+'<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>'+_0x360e85[0x0][_0x232751(0xb04)]+_0x232751(0x502):'<div\x20class=\x22flex-1\x22></div>')+_0x232751(0x7f1)+(_0x360e85[0x2]?_0x232751(0xb27)+_0x360e85[0x2][_0x232751(0x9ce)]+_0x232751(0xcec)+_0x1bde31(_0x360e85[0x2])+_0x232751(0xef0)+_0x360e85[0x2][_0x232751(0xb04)]+_0x232751(0x502):_0x232751(0x396))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10c5ba+_0x232751(0x3a1)+(currentMode===_0x232751(0xf2b)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x232751(0x925))+_0x232751(0xd11);liveGameView[_0x232751(0x891)]=_0x4bc134,currentMode===_0x232751(0xf2b)?document['getElementById'](_0x232751(0x17d))[_0x232751(0xdc6)]('click',async()=>{const _0x4d874f=_0x232751;let _0x108ff2;_0x2664a3==='sync'?_0x108ff2=doc(db,_0x4d874f(0x4b1)+appId+'/public/data/syncGames',currentLiveGameId):_0x108ff2=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x108ff2);}):document[_0x232751(0x657)]('student-back-to-home-btn')?.[_0x232751(0xdc6)](_0x232751(0x4ca),()=>{const _0x180ee1=_0x232751;showView(_0x180ee1(0x6c5));});}function renderSyncSummaryView(_0x548322,_0x57e164,_0x9a20f3){const _0x410e68=_0x4a01bc,_0x437476=_0x548322[_0x410e68(0x97e)]||_0x410e68(0x890),_0x5c570b=(_0x437476===_0x410e68(0x870)||_0x437476===_0x410e68(0x2fb))&&_0x548322[_0x410e68(0x4fd)]===![],_0x27fc0e=_0x437476===_0x410e68(0x199)||_0x437476===_0x410e68(0x2fb),_0x11e9b8=_0x548322['shuffledQuiz']['questions'],_0x12cef6=_0x57e164[_0x410e68(0x7ed)]||_0x548322[_0x410e68(0x7ce)]['quizType'],_0x8e5708=_0x12cef6===_0x410e68(0x190)||_0x12cef6===_0x410e68(0x467);let _0x5b428c='';if(_0x8e5708){let _0x5d708d=0x0,_0x33e380=0x0;const _0x5acce6=[],_0x1117eb=[];Object[_0x410e68(0x1f7)](_0x548322[_0x410e68(0x4f7)]||{})[_0x410e68(0x427)](([_0x269825,_0x26c04d])=>{const _0x228d38=_0x410e68,_0x195728=(_0x26c04d['answers']||[])[_0x228d38(0x1d5)](_0x16c166=>_0x16c166[_0x228d38(0x683)]===_0x548322[_0x228d38(0x567)]);if(_0x26c04d[_0x228d38(0x531)]!==_0x228d38(0x285)&&_0x195728){const _0xb6d60e=_0x195728[_0x228d38(0x79f)],_0x2b1f94=_0x5c570b?_0x548322[_0x228d38(0x7cc)][_0x269825]||'???':_0x269825;_0x195728['isCorrect']?(_0x5d708d++,_0x5acce6[_0x228d38(0xe7d)](_0x2b1f94)):(_0x33e380++,_0x1117eb[_0x228d38(0xe7d)](_0x228d38(0xf1a)+_0x2b1f94+'</span>:\x20'+(_0xb6d60e||_0x228d38(0x74c))));}}),_0x5b428c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x5d708d+_0x410e68(0x5a5)+(_0x5acce6[_0x410e68(0x8ca)]>0x0?_0x5acce6[_0x410e68(0x566)](',\x20'):'-')+_0x410e68(0x84d)+_0x33e380+_0x410e68(0x7fc)+(_0x1117eb[_0x410e68(0x8ca)]>0x0?_0x1117eb[_0x410e68(0x566)](_0x410e68(0xa80)):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{let _0x46c792=[];_0x12cef6===_0x410e68(0x446)?_0x46c792=[_0x410e68(0x41f),_0x410e68(0x652)]:_0x46c792=_0x57e164[_0x410e68(0x5e9)]||[];const _0x5e0952=new Array(_0x46c792['length'])[_0x410e68(0x9de)](0x0),_0x285dde={};_0x46c792[_0x410e68(0x427)]((_0x251c1b,_0x542dbc)=>{_0x285dde[_0x542dbc]=[];}),Object[_0x410e68(0x1f7)](_0x548322[_0x410e68(0x4f7)]||{})[_0x410e68(0x427)](([_0x58d4a9,_0x1cae28])=>{const _0x5c2209=_0x410e68,_0x56704b=(_0x1cae28[_0x5c2209(0xbd1)]||[])[_0x5c2209(0x1d5)](_0x1b5986=>_0x1b5986['questionIndex']===_0x548322['currentQuestionIndex']);if(_0x1cae28[_0x5c2209(0x531)]!=='inactive'&&_0x56704b&&_0x56704b[_0x5c2209(0x457)]!==null){const _0xb2dcf5=parseInt(_0x56704b[_0x5c2209(0x457)]);if(!isNaN(_0xb2dcf5)&&_0x285dde[_0xb2dcf5]!==undefined){const _0x373e92=_0x5c570b?_0x548322[_0x5c2209(0x7cc)][_0x58d4a9]||_0x5c2209(0xc2f):_0x58d4a9;_0x285dde[_0xb2dcf5][_0x5c2209(0xe7d)](_0x373e92),_0x5e0952[_0xb2dcf5]++;}}}),_0x5b428c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e0952[_0x410e68(0x823)]((_0x6a24ba,_0x969121)=>{const _0x2f8137=_0x410e68,_0x4b9b0b=_0x285dde[_0x969121][_0x2f8137(0x8ca)]>0x0?_0x285dde[_0x969121][_0x2f8137(0x566)](',\x20'):_0x2f8137(0x3fe),_0x1daf98=_0x2f8137(0x6d7);return _0x2f8137(0xb01)+_0x6a24ba+_0x2f8137(0x6e7)+_0x1daf98+_0x2f8137(0x330)+_0x969121+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x46c792[_0x969121]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x969121+_0x2f8137(0x3e9)+_0x4b9b0b+_0x2f8137(0x357);})[_0x410e68(0x566)]('')+_0x410e68(0x1dc);}let _0x2d1148='';const _0x4be1fa=_0x548322[_0x410e68(0x567)]>=_0x11e9b8[_0x410e68(0x8ca)]-0x1;_0x9a20f3?_0x27fc0e?_0x4be1fa?_0x2d1148=_0x410e68(0x3ba):_0x2d1148='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x2d1148=_0x410e68(0x8c1):_0x27fc0e?_0x2d1148='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x2d1148='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x138cba=_0x9a20f3?_0x410e68(0x9d2)+_0x548322[_0x410e68(0x7a7)]+_0x410e68(0x764):'',_0x3dd0c6=_0x410e68(0x3a0)+_0x138cba+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+(_0x57e164[_0x410e68(0xbf2)]||_0x57e164[_0x410e68(0x472)]||'')+_0x410e68(0xc7d)+_0x5b428c+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>'+_0x2d1148+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x410e68(0x891)]=_0x3dd0c6;if(window[_0x410e68(0x436)])MathJax['typesetPromise']();if(_0x9a20f3){const _0x102f85=doc(db,_0x410e68(0x4b1)+appId+_0x410e68(0xa25),currentLiveGameId);document[_0x410e68(0x657)]('show-results-btn')?.[_0x410e68(0xdc6)](_0x410e68(0x4ca),async()=>{const _0x1826b8=_0x410e68,_0x2fdb5f=Object['values'](_0x548322['players']||{})[_0x1826b8(0x823)](_0x539ae5=>({'name':_0x539ae5[_0x1826b8(0x9ce)],'score':_0x539ae5[_0x1826b8(0x43c)]||0x0,'totalPoints':_0x539ae5[_0x1826b8(0x2e5)]||0x0,'pointsLastRound':_0x539ae5['pointsLastRound']||0x0,'answers':_0x539ae5[_0x1826b8(0xbd1)]||[],'correctStreak':_0x539ae5[_0x1826b8(0x64c)]||0x0}));await updateDoc(_0x102f85,{'status':_0x1826b8(0x23b),'publicLeaderboard':_0x2fdb5f});}),document[_0x410e68(0x657)](_0x410e68(0x899))?.[_0x410e68(0xdc6)]('click',()=>{openScratchpad(_0x57e164,_0x57e164['options']||[]);}),document[_0x410e68(0x657)]('next-sync-question-btn')?.[_0x410e68(0xdc6)](_0x410e68(0x4ca),async()=>{const _0x4cba6e=_0x410e68,_0x53644a=_0x548322[_0x4cba6e(0x567)]+0x1;await updateDoc(_0x102f85,{'status':_0x4cba6e(0xe3b),'currentQuestionIndex':_0x53644a,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x410e68(0x657)]('show-final-results-btn')?.['addEventListener'](_0x410e68(0x4ca),async()=>{const _0x4fc34f=_0x410e68,_0x9dfc66=Object[_0x4fc34f(0x7ef)](_0x548322[_0x4fc34f(0x4f7)]||{})[_0x4fc34f(0x823)](_0x270abf=>({'name':_0x270abf[_0x4fc34f(0x9ce)],'score':_0x270abf[_0x4fc34f(0x43c)]||0x0,'totalPoints':_0x270abf[_0x4fc34f(0x2e5)]||0x0,'pointsLastRound':_0x270abf[_0x4fc34f(0xe86)]||0x0,'answers':_0x270abf[_0x4fc34f(0xbd1)]||[],'correctStreak':_0x270abf[_0x4fc34f(0x64c)]||0x0}));await updateDoc(_0x102f85,{'status':_0x4fc34f(0x23b),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x9dfc66});});}}function renderAnonymousStudentResultsView(_0x32f242){const _0x48273d=_0x4a01bc,_0x5053b9=_0x32f242[_0x48273d(0x567)]>=_0x32f242[_0x48273d(0x7ce)][_0x48273d(0x3ef)][_0x48273d(0x8ca)]-0x1;let _0xc1865a='';if(_0x32f242[_0x48273d(0x4fd)]===!![]){const _0x2f72d7=_0x32f242[_0x48273d(0x4f7)][localTeamPlayers[0x0]],_0x5a994c=_0x2f72d7[_0x48273d(0x9ce)],_0x41abe3=_0x2f72d7[_0x48273d(0x43c)];_0xc1865a=_0x48273d(0xd56)+_0x5a994c+_0x48273d(0x269)+_0x41abe3+_0x48273d(0x7c1);}else _0xc1865a=_0x48273d(0xa72)+(_0x5053b9?_0x48273d(0x45a):_0x48273d(0x69d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x472e98=_0x48273d(0x488)+_0xc1865a+_0x48273d(0x304);liveGameView[_0x48273d(0x891)]=_0x472e98;}async function handleShowStudentRankings(){const _0x5dd76b=_0x4a01bc,_0xe6c330=document[_0x5dd76b(0x5cd)](_0x5dd76b(0x7a2));_0xe6c330&&(_0xe6c330['innerHTML']=_0x5dd76b(0x74f));const _0x226e96=document[_0x5dd76b(0x5cd)](_0x5dd76b(0xac6));_0x226e96&&(_0x226e96[_0x5dd76b(0x891)]=_0x5dd76b(0x6e2));const _0x1cb4e4=document[_0x5dd76b(0x657)](_0x5dd76b(0x45f));_0x1cb4e4[_0x5dd76b(0xb6d)][_0x5dd76b(0x66f)](_0x5dd76b(0x599)),document[_0x5dd76b(0x657)](_0x5dd76b(0x9ed))['onclick']=()=>_0x1cb4e4['classList'][_0x5dd76b(0xa52)]('hidden');const _0x28c8e6=document[_0x5dd76b(0x657)](_0x5dd76b(0x1aa)),_0x55681f=document[_0x5dd76b(0x657)](_0x5dd76b(0x355)),_0x2f4a8d=document[_0x5dd76b(0x657)]('student-quiz-leaderboard-content'),_0xd552d3=document['getElementById'](_0x5dd76b(0x548));_0x28c8e6[_0x5dd76b(0x385)]=()=>{const _0x55a49c=_0x5dd76b;_0x28c8e6[_0x55a49c(0xb6d)]['add'](_0x55a49c(0x670)),_0x55681f[_0x55a49c(0xb6d)][_0x55a49c(0x66f)](_0x55a49c(0x670)),_0x2f4a8d[_0x55a49c(0xb6d)][_0x55a49c(0x66f)](_0x55a49c(0x599)),_0xd552d3['classList'][_0x55a49c(0xa52)]('hidden');},_0x55681f[_0x5dd76b(0x385)]=()=>{const _0x340745=_0x5dd76b;_0x55681f[_0x340745(0xb6d)][_0x340745(0xa52)]('active'),_0x28c8e6[_0x340745(0xb6d)][_0x340745(0x66f)]('active'),_0xd552d3[_0x340745(0xb6d)][_0x340745(0x66f)](_0x340745(0x599)),_0x2f4a8d[_0x340745(0xb6d)][_0x340745(0xa52)](_0x340745(0x599));};try{const _0x538d2d=collection(db,_0x5dd76b(0x4b1)+appId+_0x5dd76b(0xb20)+currentQuizData['id']+_0x5dd76b(0x411)),_0x495b97=await getDocs(_0x538d2d),_0x718ab3=_0x495b97[_0x5dd76b(0xb70)][_0x5dd76b(0x823)](_0x3c3002=>_0x3c3002[_0x5dd76b(0xd0c)]());renderQuizLeaderboard(_0x718ab3,currentQuizData,_0x5dd76b(0xec2));const _0x1c2bbf=collection(db,_0x5dd76b(0x4b1)+appId+'/public/data/projects/'+currentQuizData['projectId']+_0x5dd76b(0x9f2)),_0x370141=await getDocs(_0x1c2bbf),_0x29f196=_0x370141[_0x5dd76b(0xb70)][_0x5dd76b(0x823)](_0x46ffa2=>_0x46ffa2[_0x5dd76b(0xd0c)]());renderLeaderboard(_0x29f196,_0x5dd76b(0x6e9));}catch(_0x8488bd){console[_0x5dd76b(0xcb6)](_0x5dd76b(0x46f),_0x8488bd),showMessage(_0x5dd76b(0xc97));}}async function handleSaveToBank(_0x37c156){const _0xd6bcb1=_0x4a01bc,_0x3f3f66=_0x37c156[_0xd6bcb1(0xcfd)],_0x30ad44=_0x3f3f66[_0xd6bcb1(0x320)][_0xd6bcb1(0xca1)],_0x4836fc=currentQuizData[_0xd6bcb1(0x3ef)][_0x30ad44];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x41a24c={..._0x4836fc,'originalTopic':currentQuizData[_0xd6bcb1(0xb1c)],'savedAt':serverTimestamp()},_0x808d7a=collection(db,_0xd6bcb1(0x4b1)+appId+_0xd6bcb1(0x9bd)+userId+_0xd6bcb1(0xedc));await addDoc(_0x808d7a,_0x41a24c),showMessage(_0xd6bcb1(0x21c)),_0x3f3f66[_0xd6bcb1(0xb6d)][_0xd6bcb1(0x66f)]('text-purple-600'),_0x3f3f66[_0xd6bcb1(0xb6d)][_0xd6bcb1(0xa52)](_0xd6bcb1(0xe66)),_0x3f3f66[_0xd6bcb1(0x4b4)]=!![];}catch(_0x18856b){console[_0xd6bcb1(0xcb6)](_0xd6bcb1(0xcbf),_0x18856b),showMessage(_0xd6bcb1(0x597));}}async function selectProjectAndGenerateBlueprintQuiz(_0x5dd0b9,_0x293773=null,_0x1194eb=null,_0xa30e68=![]){const _0x2929ff=_0x4a01bc;cameFromBlueprint=!![];const _0x3a3d4b=document['getElementById']('bp-reference-file-url')?.['value'][_0x2929ff(0x5b2)]();let _0x4e7254=null;if(_0x3a3d4b){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x5adb2f=await fetchFileFromUrl(_0x3a3d4b,'reference_onet.pdf'),_0xb6ce39=await new Promise((_0xa8d0d9,_0x58b7c2)=>{const _0x578910=_0x2929ff,_0xdc1868=new FileReader();_0xdc1868[_0x578910(0x6d9)](_0x5adb2f),_0xdc1868['onload']=()=>_0xa8d0d9(_0xdc1868[_0x578910(0x3fa)]['split'](',')[0x1]),_0xdc1868[_0x578910(0xa4c)]=_0x58b7c2;});_0x4e7254=[{'inlineData':{'mimeType':_0x5adb2f[_0x2929ff(0xd6c)],'data':_0xb6ce39}}],messageModal[_0x2929ff(0xb6d)]['add'](_0x2929ff(0x599));}catch(_0xa1ec66){console['error'](_0x2929ff(0xae9),_0xa1ec66),showMessage(_0x2929ff(0x62a));}}const _0x4b87de=document[_0x2929ff(0x657)]('move-quiz-modal'),_0x3a4e4d=document[_0x2929ff(0x657)]('move-quiz-project-select'),_0x1a29bd=_0x4b87de['querySelector']('h3'),_0x2815bf=document[_0x2929ff(0x657)](_0x2929ff(0x257)),_0xbfe675=document[_0x2929ff(0x657)](_0x2929ff(0x8a0));_0x1a29bd[_0x2929ff(0x54c)]=_0x2929ff(0xa34),_0x2815bf['textContent']=_0x2929ff(0xab0),_0x2815bf[_0x2929ff(0x4b4)]=!![];allProjects['length']===0x0?_0x3a4e4d[_0x2929ff(0x891)]=_0x2929ff(0x8bf):(_0x3a4e4d[_0x2929ff(0x891)]=_0x2929ff(0x356)+allProjects[_0x2929ff(0x823)](_0x2e3744=>_0x2929ff(0xd75)+_0x2e3744['id']+'\x22>'+_0x2e3744[_0x2929ff(0x37f)]+'</option>')[_0x2929ff(0x566)](''),_0x2815bf[_0x2929ff(0x4b4)]=![]);_0x4b87de['classList']['remove']('hidden');const _0x2b4115=async()=>{const _0x5e75ba=_0x2929ff,_0x120a39=_0x3a4e4d[_0x5e75ba(0x68e)];if(!_0x120a39){showMessage(_0x5e75ba(0xa28));return;}_0x4b87de[_0x5e75ba(0xb6d)][_0x5e75ba(0xa52)](_0x5e75ba(0x599)),document[_0x5e75ba(0x657)](_0x5e75ba(0x776))['classList'][_0x5e75ba(0xa52)](_0x5e75ba(0x599)),await loadProjectDetails(_0x120a39),showView(_0x5e75ba(0x478)),handleGenerateQuizFromBlueprintTopic(_0x5dd0b9,_0x293773,_0x120a39,_0x1194eb,_0xa30e68,_0x4e7254),_0x73e063();},_0x73e063=()=>{const _0x51e12b=_0x2929ff;_0x1a29bd[_0x51e12b(0x54c)]=_0x51e12b(0xee9),_0x2815bf[_0x51e12b(0x54c)]='ย้าย',_0x2815bf['removeEventListener'](_0x51e12b(0x4ca),_0x2b4115),_0xbfe675[_0x51e12b(0xb77)](_0x51e12b(0x4ca),_0x73e063),_0x2815bf[_0x51e12b(0xdc6)]('click',confirmMoveQuiz);};_0x2815bf[_0x2929ff(0xb77)]('click',confirmMoveQuiz),_0x2815bf['addEventListener']('click',_0x2b4115),_0xbfe675[_0x2929ff(0xdc6)]('click',_0x73e063);}function listenForStarredQuizzes(){const _0xa9e121=_0x4a01bc;if(!userId)return;const _0x4ab16f=collection(db,_0xa9e121(0x4b1)+appId+_0xa9e121(0x8cb)),_0x1747f0=query(_0x4ab16f,where(_0xa9e121(0x474),'==',!![]));onSnapshot(_0x1747f0,_0x188202=>{const _0x2632f4=_0xa9e121;starredQuizzes=_0x188202[_0x2632f4(0xb70)][_0x2632f4(0x823)](_0x1d220f=>({'id':_0x1d220f['id'],..._0x1d220f[_0x2632f4(0xd0c)]()})),currentProjectId===_0x2632f4(0x8dd)?renderQuizzes():renderProjects();},_0x13f16b=>{const _0x14e52e=_0xa9e121;console[_0x14e52e(0xcb6)](_0x14e52e(0x7e3),_0x13f16b);});}function listenForFileShortcuts(){const _0x53ef88=_0x4a01bc,_0x10d53d=doc(db,'globalSettings',_0x53ef88(0xaee));onSnapshot(_0x10d53d,_0x329b5c=>{const _0x1eecdc=_0x53ef88;let _0x2988a1=[],_0x33a918=[],_0x29da5e={};if(_0x329b5c[_0x1eecdc(0xce9)]()){const _0x4e532d=_0x329b5c[_0x1eecdc(0xd0c)]();_0x2988a1=_0x4e532d['shortcuts']||[],_0x33a918=_0x4e532d[_0x1eecdc(0x7c7)]||[],_0x29da5e=_0x4e532d[_0x1eecdc(0x466)]||{};}!_0x33a918[_0x1eecdc(0x1d5)](_0x27222f=>_0x27222f['id']===_0x1eecdc(0xa87))&&_0x33a918[_0x1eecdc(0xcd6)]({'id':_0x1eecdc(0xa87),'name':_0x1eecdc(0x662),'isDefault':!![]}),!_0x2988a1['find'](_0xc65b85=>_0xc65b85['id']===_0x1eecdc(0x712))&&_0x2988a1[_0x1eecdc(0xcd6)]({'id':_0x1eecdc(0x712),'name':_0x1eecdc(0xb6a),'url':'','isDefault':!![]}),!_0x2988a1[_0x1eecdc(0x1d5)](_0x203aff=>_0x203aff['id']===_0x1eecdc(0x550))&&_0x2988a1['unshift']({'id':'file-default-2','name':_0x1eecdc(0x2a3),'url':'','isDefault':!![]}),fileShortcuts=_0x2988a1,fileShortcutTabs=_0x33a918,fileShortcutOrder=_0x29da5e,renderFileShortcuts(),!document[_0x1eecdc(0x657)](_0x1eecdc(0xb85))[_0x1eecdc(0xb6d)][_0x1eecdc(0x650)](_0x1eecdc(0x599))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x2493d=_0x4a01bc,_0x125f6c=doc(db,_0x2493d(0x56a),_0x2493d(0xaee));try{await setDoc(_0x125f6c,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x492425){console[_0x2493d(0xcb6)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x492425);}}function renderAdditionalFileShortcutsModal(){const _0x3820ff=_0x4a01bc,_0xc9cb7b=document['getElementById'](_0x3820ff(0xbe7)),_0x2c9c46=document['getElementById']('additional-file-shortcuts-list');if(!_0xc9cb7b||!_0x2c9c46)return;_0xc9cb7b['innerHTML']=fileShortcutTabs['map'](_0x339843=>{const _0x49a7c7=_0x3820ff,_0x9c160=_0x339843['id']===activeFileShortcutTabId;return _0x49a7c7(0x3f6)+_0x339843['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x9c160?_0x49a7c7(0xb95):_0x49a7c7(0x941))+_0x49a7c7(0x505)+_0x339843[_0x49a7c7(0x9ce)]+_0x49a7c7(0xf18)+_0x339843['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x339843[_0x49a7c7(0x61d)]?_0x49a7c7(0x942)+_0x339843['id']+_0x49a7c7(0x808):'')+_0x49a7c7(0xa6a);})[_0x3820ff(0x566)]('');const _0x37db00=fileShortcutTabs[_0x3820ff(0x1d5)](_0x185774=>_0x185774['id']===activeFileShortcutTabId);let _0x2c61b5=_0x37db00?.[_0x3820ff(0x61d)]?[...fileShortcuts]:fileShortcuts[_0x3820ff(0xc4c)](_0x26ac52=>(_0x37db00?.[_0x3820ff(0x7d3)]||[])[_0x3820ff(0x484)](_0x26ac52['id']));const _0x1414d3=fileShortcutOrder[activeFileShortcutTabId]||[];_0x2c61b5['sort']((_0x262dee,_0x12ee58)=>{const _0x4b4185=_0x3820ff,_0x5506e8=_0x1414d3[_0x4b4185(0xc27)](_0x262dee['id']),_0x302dbf=_0x1414d3[_0x4b4185(0xc27)](_0x12ee58['id']);return(_0x5506e8===-0x1?Infinity:_0x5506e8)-(_0x302dbf===-0x1?Infinity:_0x302dbf);}),_0x2c9c46['innerHTML']=_0x2c61b5[_0x3820ff(0x823)](_0x45b0dd=>{const _0x4a6514=_0x3820ff,_0x339fed=_0x45b0dd[_0x4a6514(0x4b3)]?'📄':'🔗',_0x3b2ea7=fileShortcutTabs[_0x4a6514(0xc4c)](_0x287cbc=>!_0x287cbc[_0x4a6514(0x61d)]),_0x47d8cc=_0x37db00[_0x4a6514(0x61d)]&&_0x3b2ea7[_0x4a6514(0x8ca)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b2ea7['map'](_0x31a271=>'<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x45b0dd['id']+'\x22\x20data-target-tab-id=\x22'+_0x31a271['id']+'\x22>'+_0x31a271[_0x4a6514(0x9ce)]+_0x4a6514(0x719))[_0x4a6514(0x566)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x4a6514(0x4db)+_0x45b0dd['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x339fed+'\x20'+_0x45b0dd['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x45b0dd['id']+_0x4a6514(0x58d)+_0x45b0dd['id']+_0x4a6514(0xf36)+(!_0x45b0dd[_0x4a6514(0x61d)]?_0x4a6514(0x51b)+_0x45b0dd['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x37db00[_0x4a6514(0x61d)]?_0x4a6514(0x351)+_0x45b0dd['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x4a6514(0x1a4)+_0x47d8cc+_0x4a6514(0x9b5);})[_0x3820ff(0x566)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x4c8969=_0x4a01bc;document[_0x4c8969(0x180)](_0x4c8969(0x7d6))[_0x4c8969(0x427)](_0x16f3ad=>{const _0x2ce0be=_0x4c8969;_0x16f3ad[_0x2ce0be(0x385)]=_0x284006=>{const _0x1749a9=_0x2ce0be;activeFileShortcutTabId=_0x284006[_0x1749a9(0xcfd)][_0x1749a9(0x320)][_0x1749a9(0x8e2)],renderAdditionalFileShortcutsModal();},_0x16f3ad['ondblclick']=_0x279cac=>{const _0x33e182=_0x2ce0be,_0xb43371=_0x279cac[_0x33e182(0xcfd)][_0x33e182(0x5cd)](_0x33e182(0x7e4));_0x279cac['currentTarget'][_0x33e182(0x5cd)](_0x33e182(0xd2f))[_0x33e182(0xb6d)][_0x33e182(0xa52)](_0x33e182(0x599)),_0xb43371[_0x33e182(0xb6d)][_0x33e182(0x66f)]('hidden'),_0xb43371['focus'](),_0xb43371[_0x33e182(0x5d6)]();};}),document['querySelectorAll']('#file-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x342196=>{const _0x2f3bc9=_0x4c8969,_0x117881=()=>{const _0x2338ac=_0x551a,_0x1bd13e=_0x342196[_0x2338ac(0xa5a)]('.file-shortcut-tab-btn')[_0x2338ac(0x320)][_0x2338ac(0x8e2)],_0x1327b4=fileShortcutTabs['find'](_0x3e1998=>_0x3e1998['id']===_0x1bd13e);_0x1327b4&&(_0x1327b4[_0x2338ac(0x9ce)]=_0x342196[_0x2338ac(0x68e)][_0x2338ac(0x5b2)]()||_0x1327b4[_0x2338ac(0x9ce)],saveFileShortcutConfig());};_0x342196[_0x2f3bc9(0xa1d)]=_0x117881,_0x342196[_0x2f3bc9(0x22d)]=_0x5b570a=>{const _0x3dd41e=_0x2f3bc9;if(_0x5b570a[_0x3dd41e(0x1f3)]===_0x3dd41e(0x7ff))_0x342196[_0x3dd41e(0xd58)]();};}),document[_0x4c8969(0x180)](_0x4c8969(0xec7))[_0x4c8969(0x427)](_0x5521f2=>_0x5521f2[_0x4c8969(0x385)]=_0x47b1c0=>{const _0x407732=_0x4c8969,_0x50ef37=_0x47b1c0[_0x407732(0xcfd)][_0x407732(0x320)][_0x407732(0x8e2)];showConfirmation(_0x407732(0x8ac),()=>{const _0x3a35a6=_0x407732;fileShortcutTabs=fileShortcutTabs['filter'](_0xf3f864=>_0xf3f864['id']!==_0x50ef37),delete fileShortcutOrder[_0x50ef37];if(activeFileShortcutTabId===_0x50ef37)activeFileShortcutTabId=_0x3a35a6(0xa87);saveFileShortcutConfig();});}),document[_0x4c8969(0x180)](_0x4c8969(0xa98))[_0x4c8969(0x427)](_0x3b174d=>_0x3b174d['onclick']=_0x27c872=>{const _0xb185cc=_0x4c8969;_0x27c872[_0xb185cc(0xd66)]();const {shortcutId:_0x359d4f,targetTabId:_0x26c1e7}=_0x27c872['currentTarget'][_0xb185cc(0x320)],_0x337d40=fileShortcutTabs[_0xb185cc(0x1d5)](_0x1d7af7=>_0x1d7af7['id']===_0x26c1e7);_0x337d40&&!_0x337d40[_0xb185cc(0x7d3)]['includes'](_0x359d4f)&&(_0x337d40[_0xb185cc(0x7d3)][_0xb185cc(0xe7d)](_0x359d4f),saveFileShortcutConfig());}),document[_0x4c8969(0x180)](_0x4c8969(0xe21))[_0x4c8969(0x427)](_0x51874b=>_0x51874b[_0x4c8969(0x385)]=_0x3d7167=>{const _0x6e1037=_0x4c8969,_0x2f77a6=_0x3d7167[_0x6e1037(0xcfd)]['dataset']['shortcutId'],_0x16a922=fileShortcutTabs['find'](_0x7c3dd2=>_0x7c3dd2['id']===activeFileShortcutTabId);_0x16a922&&!_0x16a922[_0x6e1037(0x61d)]&&(_0x16a922['shortcutIds']=_0x16a922[_0x6e1037(0x7d3)][_0x6e1037(0xc4c)](_0x308d34=>_0x308d34!==_0x2f77a6),saveFileShortcutConfig());}),document['querySelectorAll']('.move-file-shortcut-menu-btn')[_0x4c8969(0x427)](_0x1f0320=>_0x1f0320['onclick']=_0x2776fd=>{const _0x1dda20=_0x4c8969;_0x2776fd[_0x1dda20(0xe59)]();const _0x5e4c1d=_0x2776fd['currentTarget']['nextElementSibling'];document[_0x1dda20(0x180)](_0x1dda20(0x644))[_0x1dda20(0x427)](_0x3b526d=>_0x3b526d[_0x1dda20(0xb6d)][_0x1dda20(0xa52)](_0x1dda20(0x599))),_0x5e4c1d[_0x1dda20(0xb6d)][_0x1dda20(0x66f)](_0x1dda20(0x599));});const _0x126561=document['getElementById'](_0x4c8969(0xcab));let _0x20ff25=null;_0x126561[_0x4c8969(0xcde)]=_0x5ddd7f=>{const _0x4dc58c=_0x4c8969;_0x20ff25=_0x5ddd7f[_0x4dc58c(0x6f7)]['closest'](_0x4dc58c(0x86c));if(_0x20ff25)setTimeout(()=>_0x20ff25['classList']['add'](_0x4dc58c(0x498)),0x0);},_0x126561[_0x4c8969(0xb42)]=()=>{const _0x30947e=_0x4c8969;_0x20ff25&&(_0x20ff25['classList'][_0x30947e(0x66f)](_0x30947e(0x498)),_0x20ff25=null);},_0x126561['ondragover']=_0x4b361f=>{const _0x1aeeb5=_0x4c8969;_0x4b361f[_0x1aeeb5(0xd66)]();},_0x126561['ondrop']=_0x37d892=>{const _0x2c2df9=_0x4c8969;_0x37d892[_0x2c2df9(0xd66)]();if(_0x20ff25){const _0x2d36b6=[..._0x126561[_0x2c2df9(0x180)](_0x2c2df9(0xbb6))]['reduce']((_0x2b349a,_0x5381e1)=>{const _0x6712e0=_0x2c2df9,_0x508fc7=_0x5381e1[_0x6712e0(0x390)](),_0x29c7a7=_0x37d892[_0x6712e0(0x78f)]-_0x508fc7[_0x6712e0(0xf2f)]-_0x508fc7[_0x6712e0(0x711)]/0x2;return _0x29c7a7<0x0&&_0x29c7a7>_0x2b349a[_0x6712e0(0xb59)]?{'offset':_0x29c7a7,'element':_0x5381e1}:_0x2b349a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x2c2df9(0x4ea)];_0x2d36b6==null?_0x126561['appendChild'](_0x20ff25):_0x126561[_0x2c2df9(0xd2d)](_0x20ff25,_0x2d36b6);const _0x3932f4=[..._0x126561[_0x2c2df9(0x180)](_0x2c2df9(0x86c))][_0x2c2df9(0x823)](_0x187a23=>_0x187a23[_0x2c2df9(0x320)][_0x2c2df9(0x563)]);fileShortcutOrder[activeFileShortcutTabId]=_0x3932f4,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x1dd31f=_0x4a01bc,_0x12df74=prompt(_0x1dd31f(0xee1),_0x1dd31f(0x7c9));_0x12df74&&_0x12df74[_0x1dd31f(0x5b2)]()&&(fileShortcutTabs['push']({'id':_0x1dd31f(0x222)+Date[_0x1dd31f(0x42d)](),'name':_0x12df74['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3a2a10=_0x4a01bc,_0x5b7f41=document[_0x3a2a10(0x657)]('file-shortcut-container'),_0x3827bc=document[_0x3a2a10(0x657)](_0x3a2a10(0xcab)),_0x1ca515=document['getElementById'](_0x3a2a10(0xed5));if(_0x1ca515)_0x1ca515[_0x3a2a10(0xb6d)][_0x3a2a10(0xa52)](_0x3a2a10(0x599));if(!_0x5b7f41||!_0x3827bc)return;const _0x4468df=fileShortcuts[_0x3a2a10(0xe0b)](0x0,0x4),_0x11c7a1=fileShortcuts[_0x3a2a10(0xe0b)](0x4);_0x5b7f41[_0x3a2a10(0x891)]=_0x4468df['map'](_0x28104c=>{const _0x49b612=_0x3a2a10,_0x45d3bd=_0x28104c[_0x49b612(0x4b3)]&&_0x28104c['url'][_0x49b612(0x5b2)]()!=='',_0x434edc=selectedFile&&selectedFile[_0x49b612(0x563)]===_0x28104c['id'];let _0x7624f6=_0x49b612(0x6c4),_0x337ca7='🔗';if(_0x434edc)_0x7624f6=_0x49b612(0x426),_0x337ca7='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x45d3bd&&(_0x7624f6='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x337ca7='📄');const _0x671b9d=!_0x28104c[_0x49b612(0x61d)]?'<button\x20data-id=\x22'+_0x28104c['id']+_0x49b612(0x704):'';return _0x49b612(0x8de)+_0x28104c['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x7624f6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x337ca7+_0x49b612(0x7e6)+_0x28104c[_0x49b612(0x9ce)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x28104c['id']+_0x49b612(0xb4c)+_0x671b9d+_0x49b612(0xe5d);})[_0x3a2a10(0x566)](''),_0x11c7a1['length']>0x0&&(_0x5b7f41['innerHTML']+=_0x3a2a10(0x676)),_0x11c7a1[_0x3a2a10(0x8ca)]>0x0?_0x3827bc[_0x3a2a10(0x891)]=_0x11c7a1[_0x3a2a10(0x823)](_0x5a76a7=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x5a76a7[_0x3a2a10(0x4b3)]?'📄':'🔗')+'\x20'+_0x5a76a7[_0x3a2a10(0x9ce)]+_0x3a2a10(0xbac)+_0x5a76a7['id']+_0x3a2a10(0xb13)+_0x5a76a7['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5a76a7[_0x3a2a10(0x61d)]?_0x3a2a10(0x51b)+_0x5a76a7['id']+_0x3a2a10(0x994):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3a2a10(0x566)](''):_0x3827bc[_0x3a2a10(0x891)]=_0x3a2a10(0x2f8);}function openFileShortcutEditor(_0x294457=null){const _0x30a20d=_0x4a01bc,_0x475c84=document[_0x30a20d(0x657)](_0x30a20d(0xd96)),_0x475b7f=document[_0x30a20d(0x657)](_0x30a20d(0x6df)),_0x128623=document[_0x30a20d(0x657)](_0x30a20d(0x362)),_0x21b1b4=document[_0x30a20d(0x657)](_0x30a20d(0x905)),_0x195ebe=document[_0x30a20d(0x657)]('file-shortcut-url-input');if(_0x294457){const _0x217328=fileShortcuts['find'](_0x2702f5=>_0x2702f5['id']===_0x294457);if(!_0x217328)return;_0x475b7f[_0x30a20d(0x54c)]=_0x30a20d(0x73f),_0x128623[_0x30a20d(0x68e)]=_0x217328['id'],_0x21b1b4[_0x30a20d(0x68e)]=_0x217328[_0x30a20d(0x9ce)],_0x195ebe['value']=_0x217328['url']||'';}else _0x475b7f[_0x30a20d(0x54c)]=_0x30a20d(0xb63),_0x128623[_0x30a20d(0x68e)]='',_0x21b1b4[_0x30a20d(0x68e)]='',_0x195ebe[_0x30a20d(0x68e)]='';_0x475c84[_0x30a20d(0xb6d)][_0x30a20d(0x66f)](_0x30a20d(0x599));}async function saveFileShortcutChanges(){const _0x574cb7=_0x4a01bc,_0x49851b=document[_0x574cb7(0x657)]('file-shortcut-id-input')[_0x574cb7(0x68e)],_0x11c736=document[_0x574cb7(0x657)](_0x574cb7(0x905))['value'][_0x574cb7(0x5b2)](),_0x1322e2=document[_0x574cb7(0x657)](_0x574cb7(0xe0d))['value'][_0x574cb7(0x5b2)]();if(!_0x11c736){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x43465a={'id':_0x49851b||_0x574cb7(0xc3d)+Date['now'](),'name':_0x11c736,'url':_0x1322e2,'isDefault':_0x49851b['startsWith'](_0x574cb7(0xad8))};let _0x7219d;_0x49851b?_0x7219d=fileShortcuts[_0x574cb7(0x823)](_0x5621eb=>_0x5621eb['id']===_0x49851b?_0x43465a:_0x5621eb):_0x7219d=[...fileShortcuts,_0x43465a];try{const _0x41e0d1=doc(db,_0x574cb7(0x56a),_0x574cb7(0xaee));await setDoc(_0x41e0d1,{'shortcuts':_0x7219d},{'merge':!![]}),document['getElementById']('file-shortcut-editor-modal')['classList'][_0x574cb7(0xa52)](_0x574cb7(0x599));}catch(_0xf690cb){console[_0x574cb7(0xcb6)]('Error\x20saving\x20file\x20shortcut:',_0xf690cb),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0xba4257){const _0x26e921=_0x4a01bc,_0xe87d79=fileShortcuts['find'](_0x3bc400=>_0x3bc400['id']===_0xba4257);if(!_0xe87d79)return;if(!_0xe87d79['url']||_0xe87d79[_0x26e921(0x4b3)][_0x26e921(0x5b2)]()===''){openFileShortcutEditor(_0xba4257);return;}const _0x3e7aa1=document[_0x26e921(0x5cd)]('.file-shortcut-btn[data-id=\x22'+_0xba4257+'\x22]');if(_0x3e7aa1){const _0x1962bf=_0x3e7aa1[_0x26e921(0x891)];_0x3e7aa1['innerHTML']=_0x26e921(0xa7f),_0x3e7aa1[_0x26e921(0x4b4)]=!![];}document[_0x26e921(0x180)](_0x26e921(0xe28))[_0x26e921(0x427)](_0x43f049=>{const _0x2786d7=_0x26e921;if(_0x43f049['dataset']['id']!==_0xba4257)_0x43f049[_0x2786d7(0xb6d)][_0x2786d7(0xa52)]('opacity-50',_0x2786d7(0xa4e));});try{const _0x1447a1=new URL(_0xe87d79[_0x26e921(0x4b3)])[_0x26e921(0xaf8)],_0xdac32c=_0x1447a1[_0x26e921(0x67b)](_0x1447a1[_0x26e921(0xaa8)]('/')+0x1)||(_0xe87d79['url']['includes']('.txt')?_0x26e921(0x459):_0x26e921(0x1bf)),_0x255f86=await fetchFileFromUrl(_0xe87d79[_0x26e921(0x4b3)],_0xdac32c);_0x255f86[_0x26e921(0x563)]=_0xba4257,selectedFile=_0x255f86,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x26e921(0x657)](_0x26e921(0x259))[_0x26e921(0x228)]({'behavior':_0x26e921(0x50d),'block':_0x26e921(0x3ab)});}catch(_0xb5a80a){console['error'](_0x26e921(0xaad),_0xb5a80a),showMessage(_0x26e921(0x217)+_0xb5a80a[_0x26e921(0x9a1)]),renderFileShortcuts();}finally{document[_0x26e921(0x180)](_0x26e921(0xe28))['forEach'](_0x174cde=>{const _0x2d8eca=_0x26e921;_0x174cde[_0x2d8eca(0xb6d)][_0x2d8eca(0x66f)]('opacity-50',_0x2d8eca(0xa4e)),_0x174cde[_0x2d8eca(0x4b4)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x342a25=_0x4a01bc;if(allQuizzesGlobal[_0x342a25(0x8ca)]>0x0)return;console[_0x342a25(0x546)](_0x342a25(0xd77)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0xc38bf0=await getDocs(collection(db,_0x342a25(0x4b1)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xc38bf0[_0x342a25(0xb70)][_0x342a25(0x823)](_0x36ef4f=>({'id':_0x36ef4f['id'],..._0x36ef4f['data']()})),console[_0x342a25(0x546)](_0x342a25(0xc42)+allQuizzesGlobal[_0x342a25(0x8ca)]+_0x342a25(0x9e6)),messageModal['classList'][_0x342a25(0xa52)](_0x342a25(0x599));}catch(_0x1143e5){console[_0x342a25(0xcb6)](_0x342a25(0x234),_0x1143e5),messageModal[_0x342a25(0xb6d)][_0x342a25(0xa52)](_0x342a25(0x599));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x5c6107=_0x4a01bc;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x5c6107(0x94b));return;}const _0x45f7b6=currentQuizData,_0x2415a4=window[_0x5c6107(0x321)]('','_blank'),_0x4a4d83=_0x39cdc9=>String[_0x5c6107(0x3f4)](0x41+_0x39cdc9),_0x6d36d3=_0x5c6107(0x5ef)+_0x45f7b6[_0x5c6107(0xb1c)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x45f7b6[_0x5c6107(0xb1c)]+_0x5c6107(0x9b9)+_0x45f7b6[_0x5c6107(0x3ef)][_0x5c6107(0x823)]((_0x360639,_0x4ceb1c)=>{const _0x133347=_0x5c6107;let _0x1566cc='';const _0x15ae0b=_0x360639[_0x133347(0x7ed)]||_0x45f7b6[_0x133347(0x335)];switch(_0x15ae0b){case _0x133347(0xa7c):case _0x133347(0xbe6):_0x1566cc=_0x133347(0x2e1)+_0x360639[_0x133347(0x5e9)][_0x133347(0x823)]((_0x470bec,_0xb6c84b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4a4d83(_0xb6c84b)+'.\x20'+_0x470bec+_0x133347(0x380))[_0x133347(0x566)](_0x133347(0xa80))+_0x133347(0xbfc);break;case _0x133347(0x446):_0x1566cc=_0x133347(0xbe3);break;default:_0x1566cc=_0x133347(0x55f);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x4ceb1c+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x360639[_0x133347(0x472)]||_0x360639[_0x133347(0xbf2)])+_0x133347(0x617)+(_0x360639['imageCode']?_0x133347(0xb75)+_0x360639['imageCode']+_0x133347(0xbfc):'')+_0x133347(0xb17)+_0x1566cc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5c6107(0x566)]('')+_0x5c6107(0xae8);_0x2415a4[_0x5c6107(0xdb5)][_0x5c6107(0x333)](_0x6d36d3),_0x2415a4['document'][_0x5c6107(0xddb)](),_0x2415a4['onload']=function(){setTimeout(()=>{const _0x315e2d=_0x551a;_0x2415a4[_0x315e2d(0xdc7)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2cd34a=_0x4a01bc;if(!currentQuizData||!currentQuizData[_0x2cd34a(0x3ef)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x62987d=currentQuizData,_0x26da5a=window[_0x2cd34a(0x321)]('',_0x2cd34a(0x24c)),_0x2f0797=_0xb50e0=>String[_0x2cd34a(0x3f4)](0x41+_0xb50e0),_0x45708f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x62987d[_0x2cd34a(0xb1c)]+_0x2cd34a(0xba3)+_0x62987d[_0x2cd34a(0x3ef)][_0x2cd34a(0x823)]((_0xb4833d,_0x2846d4)=>{const _0x2aa1fd=_0x2cd34a;let _0x427f94='';const _0x587507=_0xb4833d[_0x2aa1fd(0x7ed)]||_0x62987d[_0x2aa1fd(0x335)];switch(_0x587507){case'multiple_choice':case'fill_in_with_choices':_0x427f94=_0x2aa1fd(0x2c1)+_0xb4833d['options']['map']((_0x3fd2ae,_0x43c2c0)=>_0x2aa1fd(0xbea)+_0x2f0797(_0x43c2c0)+'.\x20'+_0x3fd2ae+'</span>')[_0x2aa1fd(0x566)]('<br>')+_0x2aa1fd(0x7eb);break;case _0x2aa1fd(0x446):_0x427f94=_0x2aa1fd(0xe60);break;default:_0x427f94='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x62987d[_0x2aa1fd(0xb1c)]+_0x2aa1fd(0xf26)+(_0x2846d4+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0xb4833d[_0x2aa1fd(0x472)]||_0xb4833d['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb4833d[_0x2aa1fd(0x277)]?'<div\x20class=\x22my-6\x22>'+_0xb4833d[_0x2aa1fd(0x277)]+_0x2aa1fd(0xbfc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x427f94+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x2cd34a(0x499);_0x26da5a[_0x2cd34a(0xdb5)][_0x2cd34a(0x333)](_0x45708f),_0x26da5a[_0x2cd34a(0xdb5)][_0x2cd34a(0xddb)](),_0x26da5a[_0x2cd34a(0x9ee)]=function(){setTimeout(()=>{_0x26da5a['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x4150ed){const _0x2f09bd=_0x4a01bc,_0x4313ea=doc(db,_0x2f09bd(0x4b1)+appId+'/public/data/quizzes',_0x4150ed);try{const _0x2901ae=await getDoc(_0x4313ea);if(_0x2901ae[_0x2f09bd(0xce9)]()){const _0x5f00b5=_0x2901ae[_0x2f09bd(0xd0c)]()[_0x2f09bd(0x474)]||![];await updateDoc(_0x4313ea,{'isStarred':!_0x5f00b5});}}catch(_0xb3754e){console['error'](_0x2f09bd(0xee2),_0xb3754e),showMessage(_0x2f09bd(0x509));}}async function displayQuestionBank(){const _0x1315f0=_0x4a01bc,_0x37825c=document[_0x1315f0(0x657)](_0x1315f0(0x772));_0x37825c[_0x1315f0(0x891)]=_0x1315f0(0x633);try{const _0x5636e0=collection(db,'artifacts/'+appId+_0x1315f0(0x9bd)+userId+_0x1315f0(0xedc)),_0x59fa54=query(_0x5636e0),_0x3bab49=await getDocs(_0x59fa54);if(_0x3bab49[_0x1315f0(0x8fd)]){_0x37825c[_0x1315f0(0x891)]=_0x1315f0(0x5c7);return;}let _0x123d08=_0x3bab49[_0x1315f0(0xb70)]['map'](_0xe162b7=>{const _0x508ad0=_0x1315f0,_0x52ad9c=_0xe162b7['data'](),_0x4e5daf=_0xe162b7['id'];return _0x508ad0(0x66a)+JSON[_0x508ad0(0x7ba)](_0x52ad9c)+_0x508ad0(0xa13)+(_0x52ad9c['questionText']||_0x52ad9c[_0x508ad0(0x472)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x52ad9c[_0x508ad0(0xde2)]+_0x508ad0(0xbc3);})[_0x1315f0(0x566)]('');_0x37825c[_0x1315f0(0x891)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x123d08+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x1315f0(0x657)](_0x1315f0(0xb15))[_0x1315f0(0xdc6)](_0x1315f0(0x4ca),createQuizFromBank);}catch(_0xf717a1){console[_0x1315f0(0xcb6)]('Error\x20displaying\x20question\x20bank:',_0xf717a1),_0x37825c[_0x1315f0(0x891)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x2ac4d7=_0x4a01bc,_0x1d0a95=document[_0x2ac4d7(0x657)](_0x2ac4d7(0xc04)),_0x3ece11=document[_0x2ac4d7(0x657)](_0x2ac4d7(0x3bc))[_0x2ac4d7(0x54c)]||_0x2ac4d7(0x557);if(!_0x1d0a95){showMessage(_0x2ac4d7(0x8d5));return;}const _0x4ab502=window['open']('',_0x2ac4d7(0x24c)),_0x394562=_0x2ac4d7(0xd01)+_0x3ece11+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x3ece11+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d0a95[_0x2ac4d7(0x891)]+_0x2ac4d7(0x4cf);_0x4ab502[_0x2ac4d7(0xdb5)][_0x2ac4d7(0x333)](_0x394562),_0x4ab502['document'][_0x2ac4d7(0xddb)](),_0x4ab502[_0x2ac4d7(0x9ee)]=function(){setTimeout(()=>{const _0x35a701=_0x551a;_0x4ab502[_0x35a701(0xdc7)]();},0x7d0);};}function showAdminLiveQuestionView(_0x44fe1d,_0x15de07,_0x2b8209){const _0x19676e=_0x4a01bc,_0xa554ad=_0x44fe1d[_0x19676e(0x7ed)]||currentQuizData['quizType'];let _0x22c1a4='';if(_0xa554ad===_0x19676e(0xa7c)||_0xa554ad===_0x19676e(0x446)){const _0xd67c6a=_0xa554ad===_0x19676e(0x446)?['ใช่',_0x19676e(0x3ed)]:_0x44fe1d[_0x19676e(0x5e9)],_0x373a9a=_0xa554ad===_0x19676e(0x446)?_0x44fe1d[_0x19676e(0x315)]?0x0:0x1:_0x44fe1d[_0x19676e(0xf16)];_0x22c1a4=_0xd67c6a[_0x19676e(0x823)]((_0x3b1e0b,_0x19bdb9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x19bdb9===_0x373a9a)+_0x19676e(0x44c)+_0x3b1e0b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0xa554ad===_0x19676e(0xd13)){const _0x5456e6=_0x44fe1d['allResponses']||[];_0x22c1a4=_0x5456e6[_0x19676e(0x823)](_0xc4a151=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0xc4a151===_0x44fe1d['correctResponse'])+_0x19676e(0x44c)+_0xc4a151+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}}const _0x4b69ee=_0x44fe1d[_0x19676e(0x472)]||_0x44fe1d['questionText'],_0x3edfb1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x15de07+0x1)+_0x19676e(0xa47)+_0x2b8209+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4b69ee+_0x19676e(0xb46)+_0x22c1a4+_0x19676e(0x7be);liveGameView[_0x19676e(0x891)]=_0x3edfb1,window[_0x19676e(0x436)]&&MathJax[_0x19676e(0xdce)]&&MathJax[_0x19676e(0xdce)]([liveGameView]),document[_0x19676e(0x657)]('reveal-answer-btn')[_0x19676e(0xdc6)](_0x19676e(0x4ca),()=>revealAnswerForAdmin(_0x15de07,_0x2b8209)),document[_0x19676e(0x657)](_0x19676e(0xeef))[_0x19676e(0xdc6)](_0x19676e(0x4ca),async()=>{const _0x317c12=_0x19676e;showConfirmation(_0x317c12(0x6d8),async()=>{const _0x32ab7b=_0x317c12,_0x4a34fd=doc(db,_0x32ab7b(0x4b1)+appId+_0x32ab7b(0x722),currentLiveGameId);await updateDoc(_0x4a34fd,{'status':'podium'});});}),document[_0x19676e(0x657)](_0x19676e(0x673))['addEventListener'](_0x19676e(0x4ca),()=>{const _0x4d056b=_0x19676e;document[_0x4d056b(0x657)](_0x4d056b(0x3ff))[_0x4d056b(0xb6d)][_0x4d056b(0x1f4)]('hidden');});}function promptForProjectBeforeGenerating(_0x342172){const _0x2aaae3=_0x4a01bc,_0xc07151=document['getElementById'](_0x2aaae3(0x490)),_0x5c45c8=document[_0x2aaae3(0x657)](_0x2aaae3(0x72e)),_0x5e6802=_0xc07151[_0x2aaae3(0x5cd)]('h3'),_0x5bf5e4=document['getElementById'](_0x2aaae3(0x257)),_0x56eaba=document['getElementById'](_0x2aaae3(0x8a0));_0x5e6802[_0x2aaae3(0x54c)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x5bf5e4[_0x2aaae3(0x54c)]=_0x2aaae3(0xab0),_0x5bf5e4[_0x2aaae3(0x4b4)]=!![];allProjects[_0x2aaae3(0x8ca)]===0x0?_0x5c45c8['innerHTML']=_0x2aaae3(0x8bf):(_0x5c45c8[_0x2aaae3(0x891)]=_0x2aaae3(0x356)+allProjects[_0x2aaae3(0x823)](_0xea8094=>_0x2aaae3(0xd75)+_0xea8094['id']+'\x22>'+_0xea8094['projectName']+'</option>')[_0x2aaae3(0x566)](''),_0x5bf5e4['disabled']=![]);_0xc07151['classList'][_0x2aaae3(0x66f)](_0x2aaae3(0x599));const _0x4e5e8e=async()=>{const _0x1bd3ab=_0x2aaae3,_0x22b77a=_0x5c45c8[_0x1bd3ab(0x68e)];if(!_0x22b77a){showMessage(_0x1bd3ab(0xa28));return;}_0xc07151[_0x1bd3ab(0xb6d)][_0x1bd3ab(0xa52)]('hidden'),await loadProjectDetails(_0x22b77a),showView(_0x1bd3ab(0x478)),handleGenerateQuizFromBlueprintTopic(_0x342172),_0x414884();},_0x414884=()=>{const _0x10ce92=_0x2aaae3;_0x5e6802[_0x10ce92(0x54c)]=_0x10ce92(0xee9),_0x5bf5e4[_0x10ce92(0x54c)]=_0x10ce92(0x727),_0x5bf5e4[_0x10ce92(0xb77)](_0x10ce92(0x4ca),_0x4e5e8e),_0x56eaba['removeEventListener'](_0x10ce92(0x4ca),_0x414884),_0x5bf5e4['addEventListener'](_0x10ce92(0x4ca),confirmMoveQuiz);};_0x5bf5e4[_0x2aaae3(0xb77)](_0x2aaae3(0x4ca),confirmMoveQuiz),_0x5bf5e4['addEventListener'](_0x2aaae3(0x4ca),_0x4e5e8e),_0x56eaba[_0x2aaae3(0xdc6)](_0x2aaae3(0x4ca),_0x414884);}function showStudentLiveQuestionView(_0x206773,_0x463934,_0x4e174f){const _0x2377cc=_0x4a01bc,_0xe8506d=_0x206773[_0x2377cc(0x7ed)]||currentQuizData['quizType'];let _0x34109b='';if(_0xe8506d===_0x2377cc(0xa7c)||_0xe8506d==='true_false'){const _0x13d9fc=_0xe8506d===_0x2377cc(0x446)?[_0x2377cc(0xa74),_0x2377cc(0x3ed)]:_0x206773[_0x2377cc(0x5e9)];_0x34109b=_0x13d9fc[_0x2377cc(0x823)]((_0x14edfe,_0x54a8d9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x54a8d9+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14edfe+_0x2377cc(0xd12))[_0x2377cc(0x566)]('');}else{if(_0xe8506d===_0x2377cc(0xd13)){const _0x778484=_0x206773['allResponses']||[];_0x34109b=_0x778484[_0x2377cc(0x823)]((_0x5ef9ad,_0x1429ed)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1429ed+_0x2377cc(0x21d)+_0x5ef9ad+_0x2377cc(0xd12))[_0x2377cc(0x566)]('');}else _0xe8506d===_0x2377cc(0x190)&&(_0x34109b=_0x2377cc(0xee8));}const _0x2bc136=_0x206773[_0x2377cc(0x472)]||_0x206773[_0x2377cc(0xbf2)],_0x3f5c27=_0x2377cc(0xaa7)+(_0x463934+0x1)+'\x20/\x20'+_0x4e174f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x2bc136+_0x2377cc(0xd2a)+_0x34109b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2377cc(0x891)]=_0x3f5c27;window[_0x2377cc(0x436)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x576a2b=document[_0x2377cc(0x657)](_0x2377cc(0x250));_0x576a2b&&_0x576a2b['addEventListener'](_0x2377cc(0x4ca),()=>{const _0x5df9d0=_0x2377cc,_0x22d1bb=document[_0x5df9d0(0x657)](_0x5df9d0(0x5b8))[_0x5df9d0(0x68e)];handleLiveAnswer(_0x22d1bb,_0x206773);}),document[_0x2377cc(0x657)](_0x2377cc(0x687))['addEventListener']('click',_0x15ea8b=>{const _0x574ba2=_0x2377cc,_0x4a4254=_0x15ea8b[_0x574ba2(0x6f7)][_0x574ba2(0xa5a)]('.live-answer-btn');if(_0x4a4254){const _0x3a91c4=parseInt(_0x4a4254[_0x574ba2(0x320)][_0x574ba2(0xca1)]);handleLiveAnswer(_0x3a91c4,_0x206773);}});}function listenForBlueprintShortcuts(){const _0x4e2a70=_0x4a01bc,_0x4fb840=doc(db,_0x4e2a70(0x56a),_0x4e2a70(0x3ae));onSnapshot(_0x4fb840,_0x13835e=>{const _0x3353ba=_0x4e2a70;let _0x2d35da=[],_0x4aad3f=[],_0x5242a0={};if(_0x13835e[_0x3353ba(0xce9)]()){const _0x19e1b9=_0x13835e[_0x3353ba(0xd0c)]();_0x2d35da=_0x19e1b9[_0x3353ba(0x68d)]||[],_0x4aad3f=_0x19e1b9[_0x3353ba(0xdcf)]||[],_0x5242a0=_0x19e1b9[_0x3353ba(0x2de)]||{};}!_0x4aad3f['find'](_0x1771e2=>_0x1771e2['id']===_0x3353ba(0xa87))&&_0x4aad3f[_0x3353ba(0xcd6)]({'id':'all','name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x2d35da[_0x3353ba(0x1d5)](_0x538988=>_0x538988['id']===_0x3353ba(0xca2))&&_0x2d35da[_0x3353ba(0xcd6)]({'id':_0x3353ba(0xca2),'name':_0x3353ba(0x7b0),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2d35da[_0x3353ba(0x1d5)](_0x52c01c=>_0x52c01c['id']===_0x3353ba(0x4c9))&&_0x2d35da['unshift']({'id':_0x3353ba(0x4c9),'name':_0x3353ba(0x99d),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2d35da,shortcutTabs=_0x4aad3f,shortcutOrder=_0x5242a0,renderBlueprintShortcuts(),!document['getElementById'](_0x3353ba(0x57f))[_0x3353ba(0xb6d)][_0x3353ba(0x650)](_0x3353ba(0x599))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x549ac2=_0x4a01bc,_0xca9951=document['getElementById'](_0x549ac2(0xde5)),_0xb6111c=document[_0x549ac2(0x657)](_0x549ac2(0xd8b));if(!_0xca9951||!_0xb6111c)return;_0xca9951[_0x549ac2(0x891)]=shortcutTabs[_0x549ac2(0x823)](_0x540fa5=>{const _0x11f307=_0x549ac2,_0x200b55=_0x540fa5['id']===activeShortcutTabId,_0x45a8e9=_0x11f307(0xb95),_0x4211c1=_0x11f307(0x941);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x540fa5['id']+_0x11f307(0x338)+(_0x200b55?_0x45a8e9:_0x4211c1)+_0x11f307(0x5c2)+_0x540fa5[_0x11f307(0x9ce)]+_0x11f307(0x22b)+_0x540fa5[_0x11f307(0x9ce)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x540fa5['isDefault']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x540fa5['id']+_0x11f307(0xe01):'')+_0x11f307(0xe5d);})[_0x549ac2(0x566)]('');const _0x2f33e2=shortcutTabs[_0x549ac2(0x1d5)](_0x484d3c=>_0x484d3c['id']===activeShortcutTabId);let _0x492a5a=[];if(_0x2f33e2){if(_0x2f33e2[_0x549ac2(0x61d)])_0x492a5a=[...blueprintShortcuts];else{const _0x1b96f7=_0x2f33e2[_0x549ac2(0x7d3)]||[];_0x492a5a=blueprintShortcuts[_0x549ac2(0xc4c)](_0x661943=>_0x1b96f7[_0x549ac2(0x484)](_0x661943['id']));}}const _0x355a30=shortcutOrder[activeShortcutTabId]||[];_0x492a5a[_0x549ac2(0xc1a)]((_0xeeaf3d,_0x3e076b)=>{const _0xc2f9d4=_0x549ac2,_0x3d637a=_0x355a30[_0xc2f9d4(0xc27)](_0xeeaf3d['id']),_0x59bd23=_0x355a30['indexOf'](_0x3e076b['id']);if(_0x3d637a===-0x1)return 0x1;if(_0x59bd23===-0x1)return-0x1;return _0x3d637a-_0x59bd23;}),_0xb6111c[_0x549ac2(0x891)]=_0x492a5a[_0x549ac2(0x8ca)]>0x0?_0x492a5a[_0x549ac2(0x823)](_0x1c5a77=>{const _0x1167bf=_0x549ac2;let _0x1625d9='🧩';if(_0x1c5a77['blueprintUrl']&&_0x1c5a77[_0x1167bf(0xa6e)])_0x1625d9='📗';else{if(_0x1c5a77[_0x1167bf(0x9fb)])_0x1625d9='📘';}const _0x47ef82=shortcutTabs['filter'](_0xe831d1=>!_0xe831d1['isDefault']),_0x3f309=_0x2f33e2[_0x1167bf(0x61d)]&&_0x47ef82[_0x1167bf(0x8ca)]>0x0?_0x1167bf(0xe71)+_0x47ef82[_0x1167bf(0x823)](_0x5da280=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x1c5a77['id']+'\x22\x20data-target-tab-id=\x22'+_0x5da280['id']+'\x22>'+_0x5da280[_0x1167bf(0x9ce)]+_0x1167bf(0x33f))['join']('')+_0x1167bf(0x33e):'';return _0x1167bf(0xc69)+_0x1c5a77['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x1625d9+'\x20'+_0x1c5a77[_0x1167bf(0x9ce)]+_0x1167bf(0x953)+_0x1c5a77['id']+_0x1167bf(0xa09)+_0x1c5a77['id']+_0x1167bf(0x6dc)+(!_0x1c5a77[_0x1167bf(0x61d)]?_0x1167bf(0x51b)+_0x1c5a77['id']+_0x1167bf(0x44b):'')+_0x1167bf(0x82e)+(!_0x2f33e2['isDefault']?_0x1167bf(0x351)+_0x1c5a77['id']+_0x1167bf(0x310):'')+_0x1167bf(0x82e)+_0x3f309+_0x1167bf(0xbe9);})[_0x549ac2(0x566)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x3b565f=_0x4a01bc;document['querySelectorAll']('.shortcut-tab-btn')[_0x3b565f(0x427)](_0x4e6b33=>{const _0x3e07b6=_0x3b565f;_0x4e6b33[_0x3e07b6(0xdc6)](_0x3e07b6(0x4ca),_0x3a5d28=>{const _0x43cf4c=_0x3e07b6;activeShortcutTabId=_0x3a5d28[_0x43cf4c(0xcfd)][_0x43cf4c(0x320)][_0x43cf4c(0x8e2)],renderAdditionalShortcutsModal();}),_0x4e6b33['addEventListener'](_0x3e07b6(0x881),_0x3b4058=>{const _0x260454=_0x3e07b6,_0x5132b1=_0x3b4058[_0x260454(0xcfd)];_0x5132b1['querySelector'](_0x260454(0xd2f))[_0x260454(0xb6d)][_0x260454(0xa52)](_0x260454(0x599));const _0xfcbd47=_0x5132b1[_0x260454(0x5cd)](_0x260454(0x7e4));_0xfcbd47[_0x260454(0xb6d)][_0x260454(0x66f)](_0x260454(0x599)),_0xfcbd47[_0x260454(0xcc9)](),_0xfcbd47['select']();});}),document[_0x3b565f(0x180)](_0x3b565f(0x7e4))[_0x3b565f(0x427)](_0x533cb0=>{const _0x5953c9=_0x3b565f,_0x1e26f3=()=>{const _0x4f9286=_0x551a,_0x3194b3=_0x533cb0[_0x4f9286(0xa5a)](_0x4f9286(0x26d))[_0x4f9286(0x320)][_0x4f9286(0x8e2)];handleRenameShortcutTab(_0x3194b3,_0x533cb0[_0x4f9286(0x68e)]);};_0x533cb0[_0x5953c9(0xdc6)](_0x5953c9(0xd58),_0x1e26f3),_0x533cb0[_0x5953c9(0xdc6)](_0x5953c9(0x9a4),_0x5a440d=>{const _0x390d03=_0x5953c9;if(_0x5a440d[_0x390d03(0x1f3)]===_0x390d03(0x7ff))_0x533cb0[_0x390d03(0xd58)]();});}),document['querySelectorAll'](_0x3b565f(0x3d7))[_0x3b565f(0x427)](_0x5c7c06=>{const _0x483668=_0x3b565f;_0x5c7c06[_0x483668(0xdc6)]('click',_0x3df229=>handleDeleteShortcutTab(_0x3df229[_0x483668(0xcfd)]['dataset'][_0x483668(0x8e2)]));}),document[_0x3b565f(0x180)]('.move-shortcut-item')['forEach'](_0x5806cc=>{const _0x1575bf=_0x3b565f;_0x5806cc[_0x1575bf(0xdc6)]('click',_0x20491d=>{const _0xf05536=_0x1575bf;_0x20491d['preventDefault']();const {shortcutId:_0x12e988,targetTabId:_0x24fce7}=_0x20491d[_0xf05536(0xcfd)][_0xf05536(0x320)];handleMoveShortcutToTab(_0x12e988,_0x24fce7);});}),document[_0x3b565f(0x180)](_0x3b565f(0x2b1))['forEach'](_0x4c54f9=>{const _0x28d384=_0x3b565f;_0x4c54f9[_0x28d384(0xdc6)](_0x28d384(0x4ca),_0x201af2=>{const _0x2e5554=_0x28d384;handleRemoveShortcutFromTab(_0x201af2[_0x2e5554(0xcfd)][_0x2e5554(0x320)]['shortcutId'],activeShortcutTabId);});});const _0x56fa2d=document[_0x3b565f(0x657)](_0x3b565f(0xd8b));_0x56fa2d[_0x3b565f(0x180)](_0x3b565f(0x2a6))['forEach'](_0x36d6ff=>{const _0x1a09eb=_0x3b565f;_0x36d6ff[_0x1a09eb(0xdc6)](_0x1a09eb(0x4ca),()=>{const _0x2ad500=_0x1a09eb;document[_0x2ad500(0x657)](_0x2ad500(0x57f))[_0x2ad500(0xb6d)][_0x2ad500(0xa52)]('hidden'),handleShortcutClick(_0x36d6ff[_0x2ad500(0x320)]['id']);});});let _0x7dc40e=null;_0x56fa2d[_0x3b565f(0xdc6)](_0x3b565f(0xad0),_0x352dee=>{const _0x49a2ec=_0x3b565f;_0x7dc40e=_0x352dee[_0x49a2ec(0x6f7)][_0x49a2ec(0xa5a)](_0x49a2ec(0x86c)),_0x7dc40e&&setTimeout(()=>_0x7dc40e[_0x49a2ec(0xb6d)][_0x49a2ec(0xa52)](_0x49a2ec(0x498)),0x0);}),_0x56fa2d[_0x3b565f(0xdc6)](_0x3b565f(0x6d1),()=>{const _0x352b68=_0x3b565f;_0x7dc40e&&(_0x7dc40e[_0x352b68(0xb6d)][_0x352b68(0x66f)](_0x352b68(0x498)),_0x7dc40e=null);}),_0x56fa2d[_0x3b565f(0xdc6)](_0x3b565f(0xea3),_0x538559=>{const _0x30233f=_0x3b565f;_0x538559[_0x30233f(0xd66)]();const _0x397825=[..._0x56fa2d['querySelectorAll'](_0x30233f(0xbb6))][_0x30233f(0xc91)]((_0x496121,_0x237d73)=>{const _0x3044cb=_0x30233f,_0x37e05c=_0x237d73[_0x3044cb(0x390)](),_0x47f3d6=_0x538559[_0x3044cb(0x78f)]-_0x37e05c['top']-_0x37e05c[_0x3044cb(0x711)]/0x2;return _0x47f3d6<0x0&&_0x47f3d6>_0x496121['offset']?{'offset':_0x47f3d6,'element':_0x237d73}:_0x496121;},{'offset':Number[_0x30233f(0x888)]})[_0x30233f(0x4ea)];_0x397825==null?_0x56fa2d[_0x30233f(0x612)](_0x7dc40e):_0x56fa2d[_0x30233f(0xd2d)](_0x7dc40e,_0x397825);}),_0x56fa2d['addEventListener'](_0x3b565f(0x784),_0x4ba3b0=>{const _0x57f9e8=_0x3b565f;_0x4ba3b0[_0x57f9e8(0xd66)]();if(_0x7dc40e){const _0x4cb692=[..._0x56fa2d['querySelectorAll']('.shortcut-list-item')]['map'](_0x4b39ec=>_0x4b39ec[_0x57f9e8(0x320)][_0x57f9e8(0x563)]);handleShortcutOrderChange(activeShortcutTabId,_0x4cb692);}}),document[_0x3b565f(0x180)]('.move-shortcut-menu-btn')[_0x3b565f(0x427)](_0x5dda20=>{const _0x12e0c2=_0x3b565f;_0x5dda20[_0x12e0c2(0xdc6)]('click',_0x272fde=>{const _0x259801=_0x12e0c2;_0x272fde[_0x259801(0xe59)]();const _0x4d606a=_0x272fde['currentTarget'][_0x259801(0x429)],_0x224d23=_0x4d606a[_0x259801(0xb6d)][_0x259801(0x650)](_0x259801(0x599));document[_0x259801(0x180)](_0x259801(0xb06))[_0x259801(0x427)](_0x384069=>_0x384069[_0x259801(0xb6d)][_0x259801(0xa52)](_0x259801(0x599))),_0x224d23&&_0x4d606a[_0x259801(0xb6d)][_0x259801(0x66f)](_0x259801(0x599));});});}document[_0x4a01bc(0xdc6)]('click',_0x84244b=>{const _0x220386=_0x4a01bc;!_0x84244b[_0x220386(0x6f7)][_0x220386(0xa5a)](_0x220386(0xd6d))&&document[_0x220386(0x180)]('.move-shortcut-dropdown')[_0x220386(0x427)](_0xe50d06=>_0xe50d06[_0x220386(0xb6d)][_0x220386(0xa52)](_0x220386(0x599)));});async function saveShortcutConfig(){const _0x696a06=_0x4a01bc,_0x5d27ac=doc(db,_0x696a06(0x56a),_0x696a06(0x3ae));try{await setDoc(_0x5d27ac,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x2106e2){console[_0x696a06(0xcb6)](_0x696a06(0xe8d),_0x2106e2);}}async function handleAddShortcutTab(){const _0x47a016=_0x4a01bc,_0x30fe94=prompt(_0x47a016(0xee1),_0x47a016(0x7c9));if(!_0x30fe94||_0x30fe94[_0x47a016(0x5b2)]()==='')return;shortcutTabs['push']({'id':_0x47a016(0x222)+Date[_0x47a016(0x42d)](),'name':_0x30fe94['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5ca878,_0x1be135){const _0x4f3de4=_0x4a01bc,_0x5e0d13=shortcutTabs[_0x4f3de4(0x1d5)](_0x42ccd5=>_0x42ccd5['id']===_0x5ca878);_0x5e0d13&&_0x1be135[_0x4f3de4(0x5b2)]()!==''&&(_0x5e0d13[_0x4f3de4(0x9ce)]=_0x1be135['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4f90ad){const _0x47575a=_0x4a01bc,_0x42e1b7=shortcutTabs[_0x47575a(0x1d5)](_0x36dbbd=>_0x36dbbd['id']===_0x4f90ad);_0x42e1b7&&!_0x42e1b7[_0x47575a(0x61d)]&&showConfirmation(_0x47575a(0x9c2)+_0x42e1b7[_0x47575a(0x9ce)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x443727=_0x47575a;shortcutTabs=shortcutTabs[_0x443727(0xc4c)](_0x22bc7f=>_0x22bc7f['id']!==_0x4f90ad),delete shortcutOrder[_0x4f90ad];if(activeShortcutTabId===_0x4f90ad)activeShortcutTabId=_0x443727(0xa87);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0xb2b666,_0x36343b){const _0x5b7a27=_0x4a01bc,_0x2d9245=shortcutTabs[_0x5b7a27(0x1d5)](_0x206c6b=>_0x206c6b['id']===_0x36343b);_0x2d9245&&!_0x2d9245[_0x5b7a27(0x7d3)]['includes'](_0xb2b666)&&(_0x2d9245['shortcutIds'][_0x5b7a27(0xe7d)](_0xb2b666),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x43fa49,_0x3920d3){const _0x33d46b=_0x4a01bc,_0x571065=shortcutTabs['find'](_0x59800f=>_0x59800f['id']===_0x3920d3);_0x571065&&!_0x571065['isDefault']&&(_0x571065[_0x33d46b(0x7d3)]=_0x571065[_0x33d46b(0x7d3)]['filter'](_0x10330a=>_0x10330a!==_0x43fa49),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x395cb8,_0x3b9ec6){shortcutOrder[_0x395cb8]=_0x3b9ec6,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x269fd2=_0x4a01bc,_0x49f29b=document['getElementById'](_0x269fd2(0x583)),_0x44bf80=document[_0x269fd2(0x657)](_0x269fd2(0xd8b)),_0x24eb8d=document[_0x269fd2(0x657)]('shortcuts-loading-msg');_0x24eb8d&&_0x24eb8d[_0x269fd2(0xb6d)][_0x269fd2(0xa52)]('hidden');if(!_0x49f29b||!_0x44bf80)return;const _0x49aa26=blueprintShortcuts[_0x269fd2(0xe0b)](0x0,0x4),_0x259e0b=blueprintShortcuts[_0x269fd2(0xe0b)](0x4);_0x49f29b[_0x269fd2(0x891)]=_0x49aa26['map'](_0xbb0a56=>{const _0x5010aa=_0x269fd2;let _0x1405a8=_0x5010aa(0x6c4),_0x2374d7='🧩';if(_0xbb0a56[_0x5010aa(0x9fb)]&&_0xbb0a56[_0x5010aa(0xa6e)])_0x1405a8=_0x5010aa(0x54d),_0x2374d7='📗';else _0xbb0a56['blueprintUrl']&&(_0x1405a8=_0x5010aa(0xc93),_0x2374d7='📘');const _0x2a3954=!_0xbb0a56['isDefault']?_0x5010aa(0x51b)+_0xbb0a56['id']+_0x5010aa(0x342):'';return _0x5010aa(0x8de)+_0xbb0a56['id']+_0x5010aa(0xe4b)+_0x1405a8+_0x5010aa(0x781)+_0x2374d7+'\x20'+_0xbb0a56[_0x5010aa(0x9ce)]+_0x5010aa(0x9b3)+_0xbb0a56['id']+_0x5010aa(0xebd)+_0x2a3954+_0x5010aa(0xe5d);})['join'](''),_0x259e0b['length']>0x0&&(_0x49f29b[_0x269fd2(0x891)]+=_0x269fd2(0x2a2)),_0x259e0b[_0x269fd2(0x8ca)]>0x0?_0x44bf80[_0x269fd2(0x891)]=_0x259e0b[_0x269fd2(0x823)](_0x37db30=>{const _0x1d59f3=_0x269fd2;let _0x231eeb='🧩';if(_0x37db30[_0x1d59f3(0x9fb)]&&_0x37db30['referenceUrl'])_0x231eeb='📗';else _0x37db30[_0x1d59f3(0x9fb)]&&(_0x231eeb='📘');return _0x1d59f3(0x9b4)+_0x231eeb+'\x20'+_0x37db30[_0x1d59f3(0x9ce)]+_0x1d59f3(0x953)+_0x37db30['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x37db30['id']+_0x1d59f3(0x6dc)+(!_0x37db30[_0x1d59f3(0x61d)]?'<button\x20data-id=\x22'+_0x37db30['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x1d59f3(0x675);})[_0x269fd2(0x566)](''):_0x44bf80[_0x269fd2(0x891)]=_0x269fd2(0x2f8);}function getMimeTypeFromFilename(_0x465939){const _0x27f6f3=_0x4a01bc,_0x4e3a8d=_0x465939['split']('.')[_0x27f6f3(0x40b)]()['toLowerCase']();switch(_0x4e3a8d){case _0x27f6f3(0xe54):return _0x27f6f3(0x50a);case _0x27f6f3(0x8fe):return _0x27f6f3(0xa9b);default:return _0x27f6f3(0x50a);}}function openShortcutEditor(_0x814986=null){const _0x3fab70=_0x4a01bc,_0x199944=document[_0x3fab70(0x657)](_0x3fab70(0x46b)),_0x242adc=document[_0x3fab70(0x657)](_0x3fab70(0x4f5)),_0x1cde73=document['getElementById'](_0x3fab70(0x19d)),_0x1f8771=document[_0x3fab70(0x657)](_0x3fab70(0x5f3)),_0x4250d4=document['getElementById']('shortcut-blueprint-url-input'),_0x5ed595=document[_0x3fab70(0x657)](_0x3fab70(0x63b));if(_0x814986){const _0xb9b1a6=blueprintShortcuts[_0x3fab70(0x1d5)](_0x26e8f5=>_0x26e8f5['id']===_0x814986);if(!_0xb9b1a6)return;_0x242adc[_0x3fab70(0x54c)]='แก้ไขปุ่มลัด',_0x1cde73[_0x3fab70(0x68e)]=_0xb9b1a6['id'],_0x1f8771['value']=_0xb9b1a6['name'],_0x4250d4[_0x3fab70(0x68e)]=_0xb9b1a6['blueprintUrl']||'',_0x5ed595[_0x3fab70(0x68e)]=_0xb9b1a6[_0x3fab70(0xa6e)]||'';}else _0x242adc['textContent']=_0x3fab70(0x3f2),_0x1cde73[_0x3fab70(0x68e)]='',_0x1f8771[_0x3fab70(0x68e)]='',_0x4250d4[_0x3fab70(0x68e)]='',_0x5ed595['value']='';_0x199944['classList'][_0x3fab70(0x66f)](_0x3fab70(0x599));}async function saveShortcutChanges(){const _0x30a59d=_0x4a01bc,_0x405e24=document[_0x30a59d(0x657)](_0x30a59d(0x19d))[_0x30a59d(0x68e)],_0x12c85=document['getElementById'](_0x30a59d(0x5f3))[_0x30a59d(0x68e)][_0x30a59d(0x5b2)](),_0x57a5e5=document['getElementById'](_0x30a59d(0xdb0))[_0x30a59d(0x68e)]['trim']();if(!_0x12c85||!_0x57a5e5){showMessage(_0x30a59d(0x3c6));return;}const _0x4a7517={'id':_0x405e24||_0x30a59d(0xe64)+Date[_0x30a59d(0x42d)](),'name':_0x12c85,'blueprintUrl':_0x57a5e5,'referenceUrl':document['getElementById'](_0x30a59d(0x63b))[_0x30a59d(0x68e)]['trim'](),'isDefault':_0x405e24['startsWith'](_0x30a59d(0xf0d))};let _0x39d52c;_0x405e24?_0x39d52c=blueprintShortcuts[_0x30a59d(0x823)](_0x3fffa9=>_0x3fffa9['id']===_0x405e24?_0x4a7517:_0x3fffa9):_0x39d52c=[...blueprintShortcuts,_0x4a7517];try{const _0x4da2c0=doc(db,_0x30a59d(0x56a),_0x30a59d(0x3ae));await setDoc(_0x4da2c0,{'blueprintShortcuts':_0x39d52c},{'merge':!![]}),document[_0x30a59d(0x657)](_0x30a59d(0x46b))[_0x30a59d(0xb6d)][_0x30a59d(0xa52)](_0x30a59d(0x599));}catch(_0x4a442d){console['error'](_0x30a59d(0x594),_0x4a442d),showMessage(_0x30a59d(0x597));}}async function handleShortcutClick(_0x22fccd){const _0x1817e9=_0x4a01bc,_0x2776dc=blueprintShortcuts[_0x1817e9(0x1d5)](_0x3a2700=>_0x3a2700['id']===_0x22fccd);if(!_0x2776dc||!_0x2776dc[_0x1817e9(0x9fb)])return;document['getElementById'](_0x1817e9(0x38e))[_0x1817e9(0xb6d)]['add']('hidden'),document[_0x1817e9(0x657)](_0x1817e9(0x7b6))[_0x1817e9(0x4b4)]=!![];const _0x4fc54b=document[_0x1817e9(0x657)](_0x1817e9(0x653)),_0x2ea370=document['getElementById'](_0x1817e9(0x616));document[_0x1817e9(0x657)](_0x1817e9(0xcf4))[_0x1817e9(0xb6d)][_0x1817e9(0x66f)]('hidden'),document[_0x1817e9(0x657)](_0x1817e9(0x197))[_0x1817e9(0x891)]='',_0x4fc54b['classList'][_0x1817e9(0x66f)](_0x1817e9(0x599));try{_0x2ea370[_0x1817e9(0x54c)]=_0x1817e9(0xeae);const _0x5180f2=await fetchFileFromUrl(_0x2776dc[_0x1817e9(0x9fb)],'blueprint.pdf');let _0x504323=null;if(_0x2776dc['referenceUrl']){_0x2ea370[_0x1817e9(0x54c)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x272e7e=_0x2776dc[_0x1817e9(0xa6e)][_0x1817e9(0x2c0)]()[_0x1817e9(0x721)](_0x1817e9(0x188))?_0x1817e9(0x4b2):_0x1817e9(0xceb);_0x504323=await fetchFileFromUrl(_0x2776dc['referenceUrl'],_0x272e7e);}await handleGenerateFromBlueprintWithFiles(_0x5180f2,_0x504323);}catch(_0x12d2cf){console[_0x1817e9(0xcb6)](_0x1817e9(0x4e2),_0x12d2cf),showMessage(_0x1817e9(0xc44)+_0x12d2cf[_0x1817e9(0x9a1)]),_0x4fc54b[_0x1817e9(0xb6d)][_0x1817e9(0xa52)](_0x1817e9(0x599));}}function getDirectDownloadUrl(_0x50aa88){const _0x4d6561=_0x4a01bc,_0x5b2f05=_0x50aa88[_0x4d6561(0xaf5)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5b2f05&&_0x5b2f05[0x1])return _0x4d6561(0x4ec)+_0x5b2f05[0x1];return _0x50aa88;}async function fetchFileFromUrl(_0x1a2f01,_0x128993){const _0x3a2c9f=_0x4a01bc,_0x5798f6=getDirectDownloadUrl(_0x1a2f01),_0x2f4270=_0x3a2c9f(0x5fd)+encodeURIComponent(_0x5798f6),_0xecf952=await fetch(_0x2f4270);if(!_0xecf952['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0xecf952['status']+')');const _0x3999ec=await _0xecf952[_0x3a2c9f(0xf2d)](),_0x448a7d=await new Promise((_0x3f0659,_0x37a5ca)=>{const _0x4df6b0=_0x3a2c9f,_0x4f4dce=new FileReader();_0x4f4dce[_0x4df6b0(0x7a9)]=()=>_0x3f0659(new Uint8Array(_0x4f4dce['result'])),_0x4f4dce[_0x4df6b0(0xa4c)]=_0x37a5ca,_0x4f4dce[_0x4df6b0(0xc50)](_0x3999ec[_0x4df6b0(0xe0b)](0x0,0x4));});let _0x6b1d92='';const _0xffe179=new TextDecoder()[_0x3a2c9f(0x182)](_0x448a7d);return _0xffe179===_0x3a2c9f(0xd2e)?(_0x6b1d92=_0x3a2c9f(0x50a),console[_0x3a2c9f(0x546)](_0x3a2c9f(0xc6e))):(_0x6b1d92=_0x3a2c9f(0xa9b),console[_0x3a2c9f(0x546)](_0x3a2c9f(0x602))),new File([_0x3999ec],_0x128993,{'type':_0x6b1d92});}async function handleGenerateFromBlueprintWithFiles(_0x45240d,_0x1b1491=null){const _0xfc7f19=_0x4a01bc;if(!_0x45240d){showMessage(_0xfc7f19(0x819));return;}const _0x1b1570=document['getElementById']('loader'),_0x5589b3=document[_0xfc7f19(0x657)](_0xfc7f19(0x616));_0x1b1570[_0xfc7f19(0xb6d)][_0xfc7f19(0x66f)](_0xfc7f19(0x599)),document[_0xfc7f19(0x657)]('quiz-generation-area')[_0xfc7f19(0xb6d)][_0xfc7f19(0x66f)](_0xfc7f19(0x599)),document[_0xfc7f19(0x657)](_0xfc7f19(0x197))[_0xfc7f19(0x891)]='';try{_0x5589b3[_0xfc7f19(0x54c)]=_0xfc7f19(0x4a9);const _0x5194=await new Promise((_0x6ba2cd,_0x2cc9d9)=>{const _0x438bf5=_0xfc7f19,_0x2b032f=new FileReader();_0x2b032f['readAsDataURL'](_0x45240d),_0x2b032f[_0x438bf5(0x9ee)]=()=>_0x6ba2cd(_0x2b032f['result'][_0x438bf5(0x805)](',')[0x1]),_0x2b032f[_0x438bf5(0xa4c)]=_0x2cc9d9;}),_0x25f067=[];if(_0x1b1491){_0x5589b3[_0xfc7f19(0x54c)]='กำลังอ่านไฟล์อ้างอิง...';const _0x360d32=await _0x1b1491[_0xfc7f19(0xe09)]();_0x25f067['push']({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x360d32});}const _0x3e3e75=[{'text':_0xfc7f19(0x740)},{'inlineData':{'mimeType':_0x45240d['type'],'data':_0x5194}},..._0x25f067];await handleGenerateFromBlueprint(_0x3e3e75);}catch(_0x241c6f){console[_0xfc7f19(0xcb6)](_0xfc7f19(0xe03),_0x241c6f),showMessage(_0xfc7f19(0xc44)+_0x241c6f['message']),_0x1b1570[_0xfc7f19(0xb6d)][_0xfc7f19(0xa52)]('hidden');}}async function handleLiveAnswer(_0x5de681,_0x89fd97){const _0x1fe3ad=_0x4a01bc;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x1fe3ad(0x427)](_0x370c55=>_0x370c55['disabled']=!![]);const _0x4d2935=_0x89fd97[_0x1fe3ad(0x7ed)]||currentQuizData[_0x1fe3ad(0x335)];let _0x2980ed=![],_0x5b76aa=_0x5de681;if(_0x4d2935==='short_answer'){const _0x307f5c=(_0x5de681||'')[_0x1fe3ad(0x830)]();_0x2980ed=await gradeShortAnswer(_0x307f5c,_0x89fd97);}else{if(_0x4d2935===_0x1fe3ad(0xa7c))_0x2980ed=_0x5de681===_0x89fd97[_0x1fe3ad(0xf16)];else{if(_0x4d2935===_0x1fe3ad(0x446)){const _0x4ad814=_0x89fd97[_0x1fe3ad(0x315)];_0x2980ed=_0x5de681===0x0&&_0x4ad814||_0x5de681===0x1&&!_0x4ad814;}else{if(_0x4d2935===_0x1fe3ad(0xd13)){const _0x146c3e=_0x89fd97['allResponses'][_0x5de681];_0x2980ed=_0x146c3e===_0x89fd97[_0x1fe3ad(0xdf0)],_0x5b76aa=_0x146c3e;}}}}const _0x4f70c7=doc(db,'artifacts/'+appId+_0x1fe3ad(0x722),currentLiveGameId),_0x2cc11d={};_0x2cc11d['players.'+currentStudentName+_0x1fe3ad(0xc3f)]=!![],_0x2cc11d['players.'+currentStudentName+_0x1fe3ad(0x6c3)]=_0x2980ed,_0x2cc11d[_0x1fe3ad(0x729)+currentStudentName+'.lastAnswerIndex']=_0x4d2935===_0x1fe3ad(0x190)||_0x4d2935===_0x1fe3ad(0xd13)?null:_0x5de681,_0x2cc11d['players.'+currentStudentName+_0x1fe3ad(0xb0e)]=_0x5b76aa,_0x2cc11d[_0x1fe3ad(0x729)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x2cc11d[_0x1fe3ad(0x729)+currentStudentName+_0x1fe3ad(0x3eb)]=![],await updateDoc(_0x4f70c7,_0x2cc11d),liveGameView[_0x1fe3ad(0x891)]=_0x1fe3ad(0x75b);}function showAdminSummaryView(_0x259d44,_0x50c56e){const _0x458f66=_0x4a01bc,_0x3108d8=Object[_0x458f66(0x7ef)](_0x259d44[_0x458f66(0x4f7)]||{}),_0x292148=_0x50c56e[_0x458f66(0x7ed)]||currentQuizData[_0x458f66(0x335)],_0x390cdd=_0x292148==='true_false'?[_0x458f66(0xa74),'ไม่ใช่']:_0x50c56e[_0x458f66(0x5e9)]||_0x50c56e[_0x458f66(0xa5e)]||[],_0x33c08f={},_0x4a74a3=new Array(_0x390cdd[_0x458f66(0x8ca)])[_0x458f66(0x9de)](0x0);_0x390cdd['forEach']((_0x46f7f1,_0x6b97db)=>{_0x33c08f[_0x6b97db]=[];}),Object['entries'](_0x259d44[_0x458f66(0x4f7)]||{})[_0x458f66(0x427)](([_0x4da3b,_0x25be20])=>{const _0x2cc0e7=_0x458f66;if(_0x25be20[_0x2cc0e7(0x531)]===_0x2cc0e7(0x670)&&_0x25be20[_0x2cc0e7(0x93b)]!==undefined){const _0x5c479b=_0x25be20[_0x2cc0e7(0x93b)];_0x33c08f[_0x5c479b]&&(_0x33c08f[_0x5c479b][_0x2cc0e7(0xe7d)](_0x4da3b),_0x4a74a3[_0x5c479b]++);}});const _0x2284e5=Math[_0x458f66(0xf23)](..._0x4a74a3,0x1),_0x2e1d7f=_0x458f66(0x769)+(_0x50c56e[_0x458f66(0x472)]||_0x50c56e[_0x458f66(0xbf2)])+_0x458f66(0xa59)+_0x4a74a3[_0x458f66(0x823)]((_0xc43f34,_0x3f236d)=>{const _0x2845ee=_0x458f66,_0x384b50=_0x33c08f[_0x3f236d]['length']>0x0?_0x33c08f[_0x3f236d][_0x2845ee(0x566)](',\x20'):_0x2845ee(0x3fe);let _0x5bdaa9=![];if(_0x292148===_0x2845ee(0xa7c))_0x5bdaa9=_0x3f236d===_0x50c56e['correctAnswerIndex'];else{if(_0x292148===_0x2845ee(0x446)){const _0x26a062=_0x50c56e[_0x2845ee(0x315)];_0x5bdaa9=_0x26a062&&_0x3f236d===0x0||!_0x26a062&&_0x3f236d===0x1;}else _0x292148===_0x2845ee(0xd13)&&(_0x5bdaa9=_0x390cdd[_0x3f236d]===_0x50c56e[_0x2845ee(0xdf0)]);}const _0xddba64=_0x5bdaa9?'#26890c':_0x2845ee(0xaed);return _0x2845ee(0xa15)+_0xc43f34+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0xddba64+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x3f236d+_0x2845ee(0x523)+_0x390cdd[_0x3f236d]+_0x2845ee(0x452)+_0x3f236d+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x384b50+_0x2845ee(0x357);})[_0x458f66(0x566)]('')+_0x458f66(0x244);liveGameView[_0x458f66(0x891)]=_0x2e1d7f;if(window['MathJax'])MathJax[_0x458f66(0xdce)]();document[_0x458f66(0x657)](_0x458f66(0x4f9))['addEventListener']('click',async()=>{const _0x57433c=_0x458f66,_0x2db7d6=doc(db,_0x57433c(0x4b1)+appId+_0x57433c(0x722),currentLiveGameId);await updateDoc(_0x2db7d6,{'questionStatus':_0x57433c(0x8ba)});}),document[_0x458f66(0x657)](_0x458f66(0xc86))[_0x458f66(0xdc6)](_0x458f66(0x4ca),()=>{openScratchpad(_0x50c56e,_0x390cdd);});}function showPlayerSummaryView(_0x535172,_0x248c89){const _0xbae908=_0x4a01bc,_0x4d6a93=Object['values'](_0x535172[_0xbae908(0x4f7)]||{}),_0x300b78=_0x535172[_0xbae908(0x4f7)][_0x248c89],_0x416912=_0x4d6a93['filter'](_0x4e8593=>_0x4e8593[_0xbae908(0x531)]==='active')[_0xbae908(0xc1a)]((_0x45e2af,_0x1cf096)=>_0x1cf096[_0xbae908(0x43c)]-_0x45e2af[_0xbae908(0x43c)]),_0x1255c1=_0x416912[_0xbae908(0x65b)](_0x53e347=>_0x53e347===_0x300b78)+0x1,_0x39ff85=_0x300b78[_0xbae908(0x5fb)]?'ถูกต้อง!':_0xbae908(0x47c),_0x1a7a1a=_0x300b78[_0xbae908(0x5fb)]?_0xbae908(0x965):_0xbae908(0xb2b),_0x5a90d2=_0x300b78[_0xbae908(0x6f8)]||0x0,_0x5d49cc='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x41aa5f=_0xbae908(0x801)+_0x5d49cc+_0xbae908(0xefe)+_0x1a7a1a+_0xbae908(0x3df)+_0x39ff85+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x5a90d2+_0xbae908(0x3f9)+(_0x1255c1>0x0?_0x1255c1:'-')+_0xbae908(0x979);liveGameView[_0xbae908(0x891)]=_0x41aa5f;}function createQuizFromBank(){const _0x12dcb4=_0x4a01bc,_0x55b3fd=document[_0x12dcb4(0x180)](_0x12dcb4(0xa0a));if(_0x55b3fd['length']===0x0){showMessage(_0x12dcb4(0x284));return;}const _0x491367=[];_0x55b3fd['forEach'](_0x17eded=>{const _0x38f2cd=_0x12dcb4;_0x491367[_0x38f2cd(0xe7d)](JSON['parse'](_0x17eded['value']));});const _0x394118={'topic':_0x12dcb4(0x5a7),'questions':_0x491367};displayGeneratedQuiz(_0x394118);}function showAdminLobbyView(_0x3e4731,_0x32fae7){const _0xd45054=_0x4a01bc;showView('live-game');const _0x235838='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x32fae7+_0xd45054(0xde4)+_0x3e4731+_0xd45054(0xbd6);liveGameView['innerHTML']=_0x235838,document[_0xd45054(0x657)](_0xd45054(0x649))[_0xd45054(0xdc6)](_0xd45054(0x4ca),async()=>{const _0x3668e5=_0xd45054;if(!currentQuizData||!currentQuizData[_0x3668e5(0x3ef)]||currentQuizData['questions']['length']===0x0){showMessage(_0x3668e5(0x706));return;}try{const _0x2f6cfa=doc(db,'artifacts/'+appId+_0x3668e5(0x722),currentLiveGameId);await updateDoc(_0x2f6cfa,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2276c7=currentQuizData[_0x3668e5(0x3ef)][0x0],_0x3caec5=currentQuizData[_0x3668e5(0x3ef)]['length'];showAdminLiveQuestionView(_0x2276c7,0x0,_0x3caec5);}catch(_0x326e27){console['error'](_0x3668e5(0x175),_0x326e27),showMessage(_0x3668e5(0xc16));}});}async function openQuizBankModal(){const _0x295185=_0x4a01bc;if(allQuizzesGlobal[_0x295185(0x8ca)]===0x0){const _0x30f35b=await getDocs(collection(db,_0x295185(0x4b1)+appId+_0x295185(0x8cb)));allQuizzesGlobal=_0x30f35b[_0x295185(0xb70)][_0x295185(0x823)](_0x20e753=>({'id':_0x20e753['id'],..._0x20e753[_0x295185(0xd0c)]()}));}renderQuizBankList(''),document[_0x295185(0x657)](_0x295185(0x7db))['classList'][_0x295185(0x66f)](_0x295185(0x599));}function renderQuizBankList(_0xf465e3='',_0x777701=![]){const _0x3c0928=_0x4a01bc,_0x540b04=document[_0x3c0928(0x657)](_0x3c0928(0xc23)),_0x145100=_0xf465e3[_0x3c0928(0x2c0)]()['trim'](),_0x2e6e52=allQuizzesGlobal[_0x3c0928(0x823)](_0x368107=>({..._0x368107,'projectName':allProjects[_0x3c0928(0x1d5)](_0x1a2414=>_0x1a2414['id']===_0x368107[_0x3c0928(0x401)])?.['projectName']||_0x3c0928(0xdf4)}))['filter'](_0x715ff5=>(_0x715ff5[_0x3c0928(0xb1c)]||'')[_0x3c0928(0x2c0)]()['includes'](_0x145100)||(_0x715ff5['projectName']||'')[_0x3c0928(0x2c0)]()[_0x3c0928(0x484)](_0x145100)||_0x715ff5['id'][_0x3c0928(0x830)]()[_0x3c0928(0x484)](_0x145100));document[_0x3c0928(0x657)]('quiz-bank-count')['textContent']='('+_0x2e6e52[_0x3c0928(0x8ca)]+_0x3c0928(0x191),_0x540b04[_0x3c0928(0x891)]=_0x2e6e52[_0x3c0928(0x8ca)]?_0x2e6e52[_0x3c0928(0x823)](_0xf91eed=>{const _0x1b6144=_0x3c0928,_0x1d40ea=!_0x777701?_0x1b6144(0x6be)+_0xf91eed['id']+_0x1b6144(0x41a)+_0xf91eed['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf91eed['id']+_0x1b6144(0xd85)+_0xf91eed['id']+_0x1b6144(0x878)+_0xf91eed['id']+_0x1b6144(0x5ad)+_0xf91eed['id']+_0x1b6144(0xa62)+_0xf91eed['topic']+_0x1b6144(0xe3e):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0xf91eed['id']+_0x1b6144(0x766)+(_0xf91eed[_0x1b6144(0xb1c)]||_0x1b6144(0x2af))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xf91eed[_0x1b6144(0x3ef)]?.[_0x1b6144(0x8ca)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0xf91eed['projectName']+_0x1b6144(0x535)+_0xf91eed['id']+_0x1b6144(0x6eb)+_0x1d40ea+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x3c0928(0x566)](''):_0x3c0928(0x8aa),!_0x777701&&(_0x540b04['querySelectorAll'](_0x3c0928(0x1af))[_0x3c0928(0x427)](_0x298534=>{const _0x3fe4e5=_0x3c0928;_0x298534['addEventListener'](_0x3fe4e5(0x4ca),()=>{const _0x35c93e=_0x3fe4e5,_0x2146d5=_0x298534['dataset']['id'];document[_0x35c93e(0x657)](_0x35c93e(0x7db))['classList'][_0x35c93e(0xa52)](_0x35c93e(0x599)),showQuizDetailView(_0x2146d5);});}),_0x540b04[_0x3c0928(0x180)](_0x3c0928(0x8c2))['forEach'](_0x11e8f0=>{const _0x5d81e3=_0x3c0928;_0x11e8f0[_0x5d81e3(0xdc6)](_0x5d81e3(0x4ca),_0x5e88dd=>{const _0x2407be=_0x5d81e3;_0x5e88dd[_0x2407be(0xe59)]();const _0x53d2c0=_0x11e8f0[_0x2407be(0x320)]['id'],_0x436bc6=allQuizzesGlobal['find'](_0x487a7e=>_0x487a7e['id']===_0x53d2c0);_0x436bc6?(currentQuizData=_0x436bc6,document[_0x2407be(0x657)](_0x2407be(0x7db))[_0x2407be(0xb6d)][_0x2407be(0xa52)]('hidden'),startAdminTest()):showMessage(_0x2407be(0x6d4));});}),_0x540b04['querySelectorAll'](_0x3c0928(0xcb1))[_0x3c0928(0x427)](_0x48e19f=>{const _0x5d6cf8=_0x3c0928;_0x48e19f['addEventListener'](_0x5d6cf8(0x4ca),_0x954637=>{const _0x4bdc1d=_0x5d6cf8;_0x954637['stopPropagation']();const _0x3e0a61=_0x48e19f[_0x4bdc1d(0x320)]['id'],_0xa566e4=allQuizzesGlobal[_0x4bdc1d(0x1d5)](_0x39c4ef=>_0x39c4ef['id']===_0x3e0a61);_0xa566e4?(document[_0x4bdc1d(0x657)]('quiz-bank-modal')[_0x4bdc1d(0xb6d)][_0x4bdc1d(0xa52)](_0x4bdc1d(0x599)),handleGenerateParallelFromBank(_0xa566e4)):showMessage(_0x4bdc1d(0x6d4));});}),_0x540b04['querySelectorAll']('.quiz-bank-present-btn')['forEach'](_0x5e06a3=>{const _0x44e24b=_0x3c0928;_0x5e06a3[_0x44e24b(0xdc6)](_0x44e24b(0x4ca),_0x564b28=>{const _0xfd2753=_0x44e24b;_0x564b28[_0xfd2753(0xe59)]();const _0x2d7cfb=_0x5e06a3[_0xfd2753(0x320)]['id'],_0x315c4d=allQuizzesGlobal['find'](_0x533b8d=>_0x533b8d['id']===_0x2d7cfb);_0x315c4d?(document['getElementById'](_0xfd2753(0x7db))[_0xfd2753(0xb6d)]['add'](_0xfd2753(0x599)),startPresentation(_0x315c4d)):showMessage(_0xfd2753(0x6d4));});}),_0x540b04[_0x3c0928(0x180)](_0x3c0928(0x407))[_0x3c0928(0x427)](_0x41a911=>{const _0x3d640b=_0x3c0928;_0x41a911[_0x3d640b(0xdc6)](_0x3d640b(0x4ca),_0xc022d2=>{const _0x16bb87=_0x3d640b;_0xc022d2[_0x16bb87(0xe59)]();const _0x445317=_0x41a911[_0x16bb87(0x320)]['id'];document['getElementById'](_0x16bb87(0x7db))[_0x16bb87(0xb6d)][_0x16bb87(0xa52)](_0x16bb87(0x599)),handleMoveQuiz(_0x445317);});}),_0x540b04[_0x3c0928(0x180)]('.quiz-bank-settings-btn')[_0x3c0928(0x427)](_0x509de1=>{const _0x2ea330=_0x3c0928;_0x509de1[_0x2ea330(0xdc6)](_0x2ea330(0x4ca),_0x5b63c2=>{const _0x3cc3b3=_0x2ea330;_0x5b63c2['stopPropagation']();const _0x4ebd1c=_0x509de1['dataset']['id'];document[_0x3cc3b3(0x657)](_0x3cc3b3(0x7db))[_0x3cc3b3(0xb6d)][_0x3cc3b3(0xa52)](_0x3cc3b3(0x599)),handleQuizSettings(_0x4ebd1c);});}),_0x540b04[_0x3c0928(0x180)](_0x3c0928(0x84a))[_0x3c0928(0x427)](_0x31fb22=>{const _0x130d79=_0x3c0928;_0x31fb22[_0x130d79(0xdc6)](_0x130d79(0x4ca),_0x313236=>{const _0x13bffe=_0x130d79;_0x313236[_0x13bffe(0xe59)]();const _0x4ece3d=_0x31fb22[_0x13bffe(0x320)]['id'],_0x643db=_0x31fb22[_0x13bffe(0x320)][_0x13bffe(0xb1c)];showConfirmation(_0x13bffe(0x5f8)+_0x643db+_0x13bffe(0xe1f),()=>handleDeleteQuiz(_0x4ece3d));});}));}async function handleCompareResults(_0x3b28fe,_0x52cddc){const _0x3cd4a3=_0x4a01bc,_0xdbda2c=document[_0x3cd4a3(0x657)]('comparison-modal'),_0x5bbeb6=document[_0x3cd4a3(0x657)](_0x3cd4a3(0xf14)),_0x260973=document[_0x3cd4a3(0x657)](_0x3cd4a3(0xc92));document[_0x3cd4a3(0x657)](_0x3cd4a3(0xaa9))[_0x3cd4a3(0xb6d)][_0x3cd4a3(0xa52)](_0x3cd4a3(0x670)),document[_0x3cd4a3(0x657)](_0x3cd4a3(0x6ef))[_0x3cd4a3(0xb6d)][_0x3cd4a3(0x66f)](_0x3cd4a3(0x670)),_0x5bbeb6[_0x3cd4a3(0xb6d)][_0x3cd4a3(0x66f)](_0x3cd4a3(0x599)),_0x260973[_0x3cd4a3(0xb6d)][_0x3cd4a3(0xa52)](_0x3cd4a3(0x599)),_0x5bbeb6[_0x3cd4a3(0x891)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x260973[_0x3cd4a3(0x891)]='',_0xdbda2c[_0x3cd4a3(0xb6d)][_0x3cd4a3(0x66f)](_0x3cd4a3(0x599));try{const _0xe3b1ae=doc(db,_0x3cd4a3(0x4b1)+appId+_0x3cd4a3(0x8cb),_0x3b28fe),_0x576420=await getDoc(_0xe3b1ae);if(!_0x576420[_0x3cd4a3(0xce9)]())throw new Error(_0x3cd4a3(0x3bf));const _0x5ccdef=_0x576420['data'](),_0x587554=_0x5ccdef[_0x3cd4a3(0x3ef)][_0x3cd4a3(0x8ca)],_0x42e5b4=collection(db,_0x3cd4a3(0x4b1)+appId+_0x3cd4a3(0xb20)+_0x52cddc+_0x3cd4a3(0x411)),_0x4f683d=collection(db,_0x3cd4a3(0x4b1)+appId+'/public/data/quizzes/'+_0x3b28fe+_0x3cd4a3(0x411)),[_0x58a546,_0x4ebbf2]=await Promise[_0x3cd4a3(0xa87)]([getDocs(_0x42e5b4),getDocs(_0x4f683d)]),_0x5c0525=_0x58a546[_0x3cd4a3(0xb70)][_0x3cd4a3(0x823)](_0x7f48b9=>_0x7f48b9[_0x3cd4a3(0xd0c)]()),_0x11f6c7=_0x4ebbf2[_0x3cd4a3(0xb70)][_0x3cd4a3(0x823)](_0xb81e7e=>_0xb81e7e['data']()),_0x399ec9=_0x5c0525[_0x3cd4a3(0x823)](_0x30e096=>_0x30e096[_0x3cd4a3(0xdfa)]),_0x167648=_0x11f6c7[_0x3cd4a3(0x823)](_0x2b0a9d=>_0x2b0a9d[_0x3cd4a3(0xdfa)]),_0x59c403=calculateMeanAndStdDev(_0x399ec9),_0x36f313=calculateMeanAndStdDev(_0x167648),_0x51a3f6=_0x59c403[_0x3cd4a3(0x1d1)],_0x45fa7b=_0x36f313['mean'],_0xc5aaf=_0x45fa7b-_0x51a3f6;let _0x4931a2=_0x3cd4a3(0xc98)+_0x51a3f6['toFixed'](0x2)+_0x3cd4a3(0x8bb)+_0x45fa7b['toFixed'](0x2)+_0x3cd4a3(0x4e5)+(_0xc5aaf>=0x0?_0x3cd4a3(0xe35):_0x3cd4a3(0xa82))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0xc5aaf>=0x0?_0x3cd4a3(0xd0b):_0x3cd4a3(0x5f2))+_0x3cd4a3(0x77c)+(_0xc5aaf>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0xc5aaf>=0x0?'+':'')+_0xc5aaf[_0x3cd4a3(0xb05)](0x2)+_0x3cd4a3(0x412);_0x5bbeb6[_0x3cd4a3(0x891)]=_0x4931a2;const _0x40907c=document['getElementById'](_0x3cd4a3(0xc01))['getContext']('2d');if(chartInstances[_0x3cd4a3(0xdcd)])chartInstances[_0x3cd4a3(0xdcd)][_0x3cd4a3(0xb88)]();chartInstances[_0x3cd4a3(0xdcd)]=new Chart(_0x40907c,{'type':'bar','data':{'labels':[_0x3cd4a3(0x607)],'datasets':[{'label':_0x3cd4a3(0x5f1),'data':[_0x51a3f6],'backgroundColor':_0x3cd4a3(0x4f2)},{'label':'หลังเรียน','data':[_0x45fa7b],'backgroundColor':_0x3cd4a3(0x9e7)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x587554}}}});const _0x2f3685=currentProjectData[_0x3cd4a3(0xc2e)]||[],_0x576789=_0x2f3685['map'](_0x24a68f=>{const _0xfd61fb=_0x3cd4a3,_0x1bdd88=_0x5c0525[_0xfd61fb(0x1d5)](_0xf150c6=>_0xf150c6['studentName']===_0x24a68f),_0x57cde0=_0x11f6c7['find'](_0x2d9d8d=>_0x2d9d8d[_0xfd61fb(0xbf5)]===_0x24a68f),_0x5b7e1b=_0x1bdd88?_0x1bdd88['latestScore']:null,_0x29e110=_0x57cde0?_0x57cde0['latestScore']:null,_0x474131=_0x5b7e1b!==null&&_0x29e110!==null?_0x29e110-_0x5b7e1b:null,_0x4f03de=_0x5b7e1b!==null?calculateZScore(_0x5b7e1b,_0x59c403[_0xfd61fb(0x1d1)],_0x59c403['stdDev']):null,_0x5643a4=_0x29e110!==null?calculateZScore(_0x29e110,_0x36f313['mean'],_0x36f313['stdDev']):null,_0x9f17b1=_0x4f03de!==null?calculateTScore(_0x4f03de):null,_0x35e5f5=_0x5643a4!==null?calculateTScore(_0x5643a4):null,_0x3d2b74=_0x9f17b1!==null&&_0x35e5f5!==null?_0x35e5f5-_0x9f17b1:null;return{'name':_0x24a68f,'preScore':_0x5b7e1b,'postScore':_0x29e110,'gain':_0x474131,'preTScore':_0x9f17b1,'postTScore':_0x35e5f5,'tGain':_0x3d2b74};});renderIndividualComparisonTable(_0x576789,_0x260973);}catch(_0x335310){console[_0x3cd4a3(0xcb6)](_0x3cd4a3(0x3a8),_0x335310),_0x5bbeb6['innerHTML']=_0x3cd4a3(0x299);}}async function saveBlueprintProject(){const _0x180021=_0x4a01bc;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x17e6a6=prompt(_0x180021(0xd03),_0x180021(0x3fb));if(!_0x17e6a6||_0x17e6a6[_0x180021(0x5b2)]()==='')return;const _0xaf730c={};extractedBlueprintData[_0x180021(0xd3d)][_0x180021(0x427)](_0x72716d=>{const _0x7aae48=_0x180021;_0x72716d['mainTopics'][_0x7aae48(0x427)](_0x1e5187=>{_0x1e5187['subTopics']['forEach'](_0x47864a=>{const _0x5e7565=_0x551a,_0x5d063f=_0x5e7565(0xd20)+Date[_0x5e7565(0x42d)]()+Math[_0x5e7565(0xf11)]()[_0x5e7565(0x830)](0x24)[_0x5e7565(0xa38)](0x2,0x9);_0xaf730c[_0x5d063f]={'sara':_0x72716d['sara'],'mainTopic':_0x1e5187[_0x5e7565(0x325)],'subTopic':_0x47864a,'status':_0x5e7565(0xc37),'lessonContent':null};});});});try{const _0x161715=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x161715,{'projectName':_0x17e6a6[_0x180021(0x5b2)](),'gradeLevel':extractedBlueprintData[_0x180021(0xac4)],'topics':_0xaf730c,'createdAt':serverTimestamp()}),showMessage(_0x180021(0x274)+_0x17e6a6[_0x180021(0x5b2)]()+_0x180021(0xd9b)),document[_0x180021(0x657)](_0x180021(0x1c0))[_0x180021(0xb6d)]['add'](_0x180021(0x599));}catch(_0x4e534a){console[_0x180021(0xcb6)]('Error\x20saving\x20blueprint\x20project:',_0x4e534a),showMessage(_0x180021(0xbd8));}}async function showBlueprintProjects(){const _0x1ca6ca=_0x4a01bc,_0x2e4ced=document[_0x1ca6ca(0x657)](_0x1ca6ca(0xc17)),_0x366727=document['getElementById'](_0x1ca6ca(0xe4f));_0x366727['innerHTML']=_0x1ca6ca(0x45c),_0x2e4ced[_0x1ca6ca(0xb6d)][_0x1ca6ca(0x66f)](_0x1ca6ca(0x599));try{const _0x4aa570=collection(db,'artifacts/'+appId+_0x1ca6ca(0xef8)),_0x2c7d70=await getDocs(_0x4aa570);if(_0x2c7d70[_0x1ca6ca(0x8fd)]){_0x366727[_0x1ca6ca(0x891)]=_0x1ca6ca(0x4d5);return;}const _0xdf807e=_0x2c7d70[_0x1ca6ca(0xb70)]['map'](_0x45a781=>({'id':_0x45a781['id'],..._0x45a781['data']()}));_0xdf807e[_0x1ca6ca(0xc1a)]((_0x33df97,_0x4f2df0)=>_0x33df97['projectName']['localeCompare'](_0x4f2df0[_0x1ca6ca(0x37f)],'th')),_0x366727[_0x1ca6ca(0x891)]=_0xdf807e[_0x1ca6ca(0x823)](_0x9ec4f4=>_0x1ca6ca(0xd18)+_0x9ec4f4[_0x1ca6ca(0x37f)]+_0x1ca6ca(0x971)+_0x9ec4f4[_0x1ca6ca(0xac4)]+_0x1ca6ca(0x5f9)+Object[_0x1ca6ca(0xde1)](_0x9ec4f4[_0x1ca6ca(0x8b3)])['length']+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x9ec4f4['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x9ec4f4['id']+_0x1ca6ca(0xc4e))[_0x1ca6ca(0x566)]('');}catch(_0x49870e){console[_0x1ca6ca(0xcb6)](_0x1ca6ca(0x858),_0x49870e),_0x366727[_0x1ca6ca(0x891)]=_0x1ca6ca(0xf32);}}async function displayBlueprintProjectManager(_0x129ea9){const _0x11ad33=_0x4a01bc;currentBlueprintProjectId=_0x129ea9,document[_0x11ad33(0x657)]('blueprint-projects-modal')[_0x11ad33(0xb6d)][_0x11ad33(0xa52)]('hidden'),showView('admin-dashboard'),projectDashboardView[_0x11ad33(0xb6d)][_0x11ad33(0xa52)](_0x11ad33(0x599));const _0x3a8026=document[_0x11ad33(0x657)](_0x11ad33(0x776));_0x3a8026['classList'][_0x11ad33(0x66f)](_0x11ad33(0x599)),document[_0x11ad33(0x657)](_0x11ad33(0x19b))['innerHTML']=_0x11ad33(0x633);try{const _0x4673c7=doc(db,_0x11ad33(0x4b1)+appId+_0x11ad33(0xef8),_0x129ea9),_0x57446a=await getDoc(_0x4673c7);if(!_0x57446a[_0x11ad33(0xce9)]())throw new Error(_0x11ad33(0xd14));const _0x2b86c2={'id':_0x57446a['id'],..._0x57446a['data']()};document['getElementById']('bp-project-title')[_0x11ad33(0x54c)]=_0x2b86c2[_0x11ad33(0x37f)],document[_0x11ad33(0x657)](_0x11ad33(0x95c))[_0x11ad33(0x68e)]=_0x2b86c2['referenceFileUrl']||'',renderBlueprintTopicManager(_0x2b86c2);}catch(_0x1d15ca){console[_0x11ad33(0xcb6)](_0x11ad33(0x5a8),_0x1d15ca),showMessage(_0x1d15ca[_0x11ad33(0x9a1)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x4b1a74){const _0x9f9a6a=_0x4a01bc,_0x2b951f=document[_0x9f9a6a(0x657)](_0x9f9a6a(0x19b)),_0x435e39=_0x4b1a74[_0x9f9a6a(0x8b3)]||{};if(Object[_0x9f9a6a(0xde1)](_0x435e39)[_0x9f9a6a(0x8ca)]===0x0){_0x2b951f[_0x9f9a6a(0x891)]=_0x9f9a6a(0x73b);return;}const _0x2015c9=Object['entries'](_0x435e39)[_0x9f9a6a(0x823)](([_0xc142f4,_0x5cd3f3])=>({'id':_0xc142f4,..._0x5cd3f3}))[_0x9f9a6a(0xc1a)]((_0x2f6565,_0x50bd62)=>(_0x2f6565[_0x9f9a6a(0x402)]??Infinity)-(_0x50bd62[_0x9f9a6a(0x402)]??Infinity)),_0x18e21b={};_0x2015c9[_0x9f9a6a(0x427)](_0x14a907=>{const {sara:_0x53625a,mainTopic:_0xb9227}=_0x14a907;!_0x18e21b[_0x53625a]&&(_0x18e21b[_0x53625a]={}),!_0x18e21b[_0x53625a][_0xb9227]&&(_0x18e21b[_0x53625a][_0xb9227]=[]),_0x18e21b[_0x53625a][_0xb9227]['push'](_0x14a907);});let _0x1db5a3='';for(const _0x355fdc in _0x18e21b){_0x1db5a3+=_0x9f9a6a(0x6a9)+_0x355fdc+'</h4>';for(const _0x1e489a in _0x18e21b[_0x355fdc]){_0x1db5a3+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x1e489a+_0x9f9a6a(0xd6b),_0x18e21b[_0x355fdc][_0x1e489a][_0x9f9a6a(0x427)](_0x4b3b58=>{const _0x4d4c9b=_0x9f9a6a,_0x4507c8=_0x4b3b58['id'],_0xb007e9=_0x4b3b58[_0x4d4c9b(0xf1d)]||[],_0x2f226b=_0xb007e9[_0x4d4c9b(0x8ca)]>0x0,_0x1aa2e2=_0x4b3b58[_0x4d4c9b(0x531)]===_0x4d4c9b(0x5aa);let _0x4eaee8='';_0x2f226b?_0x4eaee8=_0x4d4c9b(0x92b)+_0xb007e9[_0x4d4c9b(0x8ca)]+_0x4d4c9b(0x990):_0x4eaee8='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x1aa2e2?'bg-green-200\x20text-green-800':_0x4d4c9b(0x3a9))+'\x22>'+(_0x1aa2e2?_0x4d4c9b(0x7a3):_0x4d4c9b(0x619))+_0x4d4c9b(0x5b0);const _0x164a27=!_0x1aa2e2?_0x4d4c9b(0x99e):'',_0x28e6b3=!_0x1aa2e2?_0x4d4c9b(0xa23):'';let _0x3e9a7f=_0x1aa2e2?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x4d4c9b(0xe69);_0x1db5a3+=_0x4d4c9b(0x72b)+_0x4507c8+_0x4d4c9b(0x187)+_0x4b3b58['subTopic']+_0x4d4c9b(0xe90)+_0x4eaee8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x164a27+_0x4d4c9b(0xa37)+_0x28e6b3+_0x4d4c9b(0xc83)+_0x3e9a7f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1db5a3+=_0x9f9a6a(0x502);}_0x1db5a3+='</div>';}_0x2b951f[_0x9f9a6a(0x891)]=_0x1db5a3;}async function handleDeepDeleteBlueprintProject(_0x12a343){const _0x193189=_0x4a01bc,_0x46d5e6=doc(db,_0x193189(0x4b1)+appId+_0x193189(0xef8),_0x12a343),_0x21e4fa=await getDoc(_0x46d5e6);if(!_0x21e4fa[_0x193189(0xce9)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x1a0655=_0x21e4fa[_0x193189(0xd0c)]()[_0x193189(0x37f)];showConfirmation(_0x193189(0x90e)+_0x1a0655+_0x193189(0xba9),async()=>{const _0x5dd527=_0x193189;showMessage(_0x5dd527(0x300));try{const _0x301b29=writeBatch(db),_0x53a238=_0x21e4fa[_0x5dd527(0xd0c)](),_0x101306=_0x53a238['topics']||{};for(const _0x36aab7 in _0x101306){const _0x273736=doc(db,'artifacts/'+appId+_0x5dd527(0x324)+_0x12a343+_0x5dd527(0xbc8),_0x36aab7);_0x301b29[_0x5dd527(0x95e)](_0x273736);}const _0x1bbdee=new Set();for(const _0x5bb2e6 in _0x101306){_0x101306[_0x5bb2e6]['linkedQuizIds']&&_0x101306[_0x5bb2e6][_0x5dd527(0xf1d)][_0x5dd527(0x427)](_0x54c204=>_0x1bbdee[_0x5dd527(0xa52)](_0x54c204));}for(const _0x4d70ba of _0x1bbdee){await handleDeleteQuiz(_0x4d70ba,![]);}_0x301b29['delete'](_0x46d5e6),await _0x301b29['commit'](),showMessage(_0x5dd527(0xbc4)+_0x1a0655+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x1eac6f){console[_0x5dd527(0xcb6)]('Error\x20during\x20deep\x20delete:',_0x1eac6f),showMessage(_0x5dd527(0x7a0));}});}async function openTopicQuizBank(_0x3f186e){const _0x20e560=_0x4a01bc,_0x43c791=document[_0x20e560(0x657)](_0x20e560(0x877)),_0x53bb57=document[_0x20e560(0x657)](_0x20e560(0x3c2)),_0x10334b=document[_0x20e560(0x657)](_0x20e560(0x3a2));try{await ensureGlobalQuizzesLoaded();const _0x396e95=doc(db,_0x20e560(0x4b1)+appId+_0x20e560(0xef8),currentBlueprintProjectId),_0x21895c=await getDoc(_0x396e95);if(!_0x21895c['exists']())return;const _0xa0c547=_0x21895c[_0x20e560(0xd0c)](),_0x30ea7b=_0xa0c547['topics'][_0x3f186e];document[_0x20e560(0x657)]('topic-bank-subtopic-name')[_0x20e560(0x54c)]=_0x30ea7b[_0x20e560(0x4ed)];const _0x3a1826=_0x30ea7b[_0x20e560(0xf1d)]||[];_0x10334b[_0x20e560(0xb6d)][_0x20e560(0x1f4)](_0x20e560(0x599),_0x3a1826[_0x20e560(0x8ca)]===0x0),_0x10334b['onclick']=()=>handleClearAllLinksForTopic(_0x3f186e);if(_0x3a1826[_0x20e560(0x8ca)]===0x0)_0x53bb57[_0x20e560(0x891)]=_0x20e560(0xb1d);else{const _0x5f3e9c=allQuizzesGlobal['filter'](_0x366f41=>_0x3a1826[_0x20e560(0x484)](_0x366f41['id']));_0x53bb57[_0x20e560(0x891)]=_0x5f3e9c['map'](_0xdeefd6=>_0x20e560(0xade)+_0xdeefd6['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0xdeefd6[_0x20e560(0xb1c)]+_0x20e560(0xd38)+_0xdeefd6['id']+_0x20e560(0x5f9)+_0xdeefd6[_0x20e560(0x3ef)]['length']+_0x20e560(0x4fe)+_0xdeefd6['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0xdeefd6['id']+_0x20e560(0xc4d)+_0xdeefd6['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22'+_0xdeefd6['id']+_0x20e560(0x513)+_0x3f186e+_0x20e560(0xe1a)+_0xdeefd6['id']+_0x20e560(0x248))[_0x20e560(0x566)]('');}document['getElementById'](_0x20e560(0x4f3))[_0x20e560(0x385)]=()=>{openQuizSelectorForBlueprint(_0x3f186e);},document[_0x20e560(0x657)](_0x20e560(0x3ce))['onclick']=()=>_0x43c791[_0x20e560(0xb6d)][_0x20e560(0xa52)]('hidden'),_0x43c791[_0x20e560(0xb6d)][_0x20e560(0x66f)](_0x20e560(0x599));}catch(_0x56920c){showMessage(_0x56920c[_0x20e560(0x9a1)]);}}async function openQuizSelectorForBlueprint(_0x28a9c7){const _0x48c6c8=_0x4a01bc,_0xd60162=document[_0x48c6c8(0x657)](_0x48c6c8(0x7db)),_0x36912c=document['getElementById'](_0x48c6c8(0x877));_0x36912c['classList'][_0x48c6c8(0xa52)](_0x48c6c8(0x599)),document['getElementById']('confirm-link-quiz-btn')?.[_0x48c6c8(0x66f)]();const _0xaad46b=document[_0x48c6c8(0xbfd)]('button');_0xaad46b['id']='confirm-link-quiz-btn',_0xaad46b[_0x48c6c8(0x293)]=_0x48c6c8(0xea7),_0xaad46b[_0x48c6c8(0x54c)]='เพิ่มรายการที่เลือก',_0xaad46b[_0x48c6c8(0x4b4)]=!![];try{await ensureGlobalQuizzesLoaded(),_0xd60162[_0x48c6c8(0xb6d)][_0x48c6c8(0x66f)](_0x48c6c8(0x599)),renderQuizBankListForMultiSelect(''),document[_0x48c6c8(0x657)]('bulk-quiz-settings-btn')[_0x48c6c8(0xd7a)]['display']=_0x48c6c8(0x813),_0xd60162[_0x48c6c8(0x5cd)]('.flex.justify-between.items-center')['appendChild'](_0xaad46b);const _0x21e563=(_0x2e2672=![])=>{const _0x1818a7=_0x48c6c8;_0xd60162['classList']['add'](_0x1818a7(0x599)),document[_0x1818a7(0x657)](_0x1818a7(0x921))[_0x1818a7(0xd7a)]['display']=_0x1818a7(0x229),_0xaad46b[_0x1818a7(0x66f)](),_0x2e2672&&openTopicQuizBank(_0x28a9c7);};_0xaad46b[_0x48c6c8(0x385)]=async()=>{const _0x4685c1=_0x48c6c8,_0x1c803e=Array[_0x4685c1(0x5ac)](document[_0x4685c1(0x180)]('.quiz-bank-checkbox:checked'))[_0x4685c1(0x823)](_0x1b02e7=>_0x1b02e7[_0x4685c1(0x68e)]);if(_0x1c803e[_0x4685c1(0x8ca)]===0x0)return;try{const _0x82d84a=doc(db,_0x4685c1(0x4b1)+appId+_0x4685c1(0xef8),currentBlueprintProjectId),_0x36bf54=(await getDoc(_0x82d84a))[_0x4685c1(0xd0c)](),_0x119eec=_0x36bf54[_0x4685c1(0x8b3)][_0x28a9c7]['linkedQuizIds']||[],_0xc62f92=[...new Set([..._0x119eec,..._0x1c803e])];await updateDoc(_0x82d84a,{[_0x4685c1(0xe7c)+_0x28a9c7+_0x4685c1(0x2bd)]:_0xc62f92}),showMessage(_0x4685c1(0x8b4)+_0x1c803e['length']+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x21e563(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x32d7ed){console[_0x4685c1(0xcb6)](_0x4685c1(0x1e7),_0x32d7ed);}},document[_0x48c6c8(0x657)](_0x48c6c8(0xcf0))['onclick']=()=>_0x21e563(!![]);}catch(_0x25c879){showMessage(_0x25c879['message']),_0x36912c['classList'][_0x48c6c8(0x66f)]('hidden');}}function handleClearLinkedQuiz(_0x5af1f7){const _0x2ec337=_0x4a01bc;showConfirmation(_0x2ec337(0x5df),async()=>{const _0x31191c=_0x2ec337;try{const _0x6b70d0=doc(db,_0x31191c(0x4b1)+appId+_0x31191c(0xef8),currentBlueprintProjectId);await updateDoc(_0x6b70d0,{[_0x31191c(0xe7c)+_0x5af1f7+_0x31191c(0xbd2)]:deleteField()}),showMessage(_0x31191c(0xdf6)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3ca6a0){console[_0x31191c(0xcb6)](_0x31191c(0x9cf),_0x3ca6a0),showMessage(_0x31191c(0xda2));}});}async function addTopicToProject(){const _0x31b829=_0x4a01bc,_0x1ae054=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x1ae054||_0x1ae054[_0x31b829(0x5b2)]()==='')return;const _0x5d0e59=prompt(_0x31b829(0x6ba),_0x31b829(0x8fc)),_0x3ef167=prompt('อยู่ในหัวข้อหลักใด:',_0x31b829(0x5ee)),_0x4ff2d9=_0x31b829(0xd20)+Date[_0x31b829(0x42d)]()+Math[_0x31b829(0xf11)]()['toString'](0x24)[_0x31b829(0xa38)](0x2,0x9),_0x3e8f78={'sara':_0x5d0e59,'mainTopic':_0x3ef167,'subTopic':_0x1ae054[_0x31b829(0x5b2)](),'status':'not_generated','lessonContent':null};try{const _0x2d3b21=doc(db,_0x31b829(0x4b1)+appId+_0x31b829(0xef8),currentBlueprintProjectId);await updateDoc(_0x2d3b21,{['topics.'+_0x4ff2d9]:_0x3e8f78}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x44b157){console[_0x31b829(0xcb6)]('Error\x20adding\x20topic:',_0x44b157),showMessage(_0x31b829(0x25d));}}async function editTopicInProject(_0x567428){const _0x2f25c8=_0x4a01bc,_0x573129=document[_0x2f25c8(0x5cd)](_0x2f25c8(0xb8a)+_0x567428+'\x22]'),_0x363f83=_0x573129[_0x2f25c8(0x5cd)](_0x2f25c8(0x6aa)),_0x559c81=_0x363f83[_0x2f25c8(0x54c)],_0x112d78=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x559c81);if(!_0x112d78||_0x112d78[_0x2f25c8(0x5b2)]()===''||_0x112d78[_0x2f25c8(0x5b2)]()===_0x559c81)return;try{const _0x3bb4e3=doc(db,_0x2f25c8(0x4b1)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3bb4e3,{[_0x2f25c8(0xe7c)+_0x567428+'.subTopic']:_0x112d78[_0x2f25c8(0x5b2)]()}),_0x363f83['textContent']=_0x112d78[_0x2f25c8(0x5b2)](),showMessage(_0x2f25c8(0x3bd));}catch(_0x37a585){console[_0x2f25c8(0xcb6)](_0x2f25c8(0x349),_0x37a585),showMessage(_0x2f25c8(0xb38));}}async function deleteTopicFromProject(_0x2b7740){const _0x496651=_0x4a01bc;if(!confirm(_0x496651(0x8a5)))return;try{const _0x46eb3e=doc(db,_0x496651(0x4b1)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x46eb3e,{['topics.'+_0x2b7740]:deleteField()}),document[_0x496651(0x5cd)]('[data-topic-id=\x22'+_0x2b7740+'\x22]')[_0x496651(0x66f)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x15f36f){console['error'](_0x496651(0x7e8),_0x15f36f),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x3be735,_0x100279,_0x59bb82){handleGenerateAndShowLesson(_0x100279,_0x59bb82);const _0x191ceb=setInterval(async()=>{const _0x3b4ecb=_0x551a,_0xc73068=document[_0x3b4ecb(0x657)](_0x3b4ecb(0x85f)),_0x5e154c=_0xc73068[_0x3b4ecb(0xb6d)][_0x3b4ecb(0x650)](_0x3b4ecb(0x599));if(_0x5e154c){clearInterval(_0x191ceb);if(currentApplicationData&&currentApplicationData[_0x3b4ecb(0x8ca)]>0x0){const _0x455962={'point':document[_0x3b4ecb(0x657)](_0x3b4ecb(0x723))[_0x3b4ecb(0x891)],'memory':document[_0x3b4ecb(0x657)](_0x3b4ecb(0x9ba))[_0x3b4ecb(0x891)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x3b4ecb(0x657)](_0x3b4ecb(0x677))[_0x3b4ecb(0x891)]};try{const _0x3bb6db=doc(db,_0x3b4ecb(0x4b1)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x50a8eb=doc(db,_0x3b4ecb(0x4b1)+appId+_0x3b4ecb(0x324)+currentBlueprintProjectId+_0x3b4ecb(0xbc8),_0x3be735),_0x3d197a=writeBatch(db);_0x3d197a[_0x3b4ecb(0x799)](_0x50a8eb,{'content':_0x455962}),_0x3d197a[_0x3b4ecb(0x294)](_0x3bb6db,{['topics.'+_0x3be735+_0x3b4ecb(0x8e0)]:_0x3b4ecb(0x5aa)}),await _0x3d197a[_0x3b4ecb(0xb4a)](),console[_0x3b4ecb(0x546)](_0x3b4ecb(0xa85)+_0x3be735+_0x3b4ecb(0x61c)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5614ed){console[_0x3b4ecb(0xcb6)](_0x3b4ecb(0xe29),_0x5614ed);}}}},0x3e8);}function displayHalfMarkResult(_0x1b7ae6,_0x45ab2e){const _0x289f1c=_0x4a01bc,_0x3a36be=_0x1b7ae6>=_0x45ab2e/0x2,_0x46b6d7=_0x3a36be?'bg-green-100':_0x289f1c(0xa82),_0x49259b=_0x3a36be?_0x289f1c(0x80f):_0x289f1c(0x9ef),_0x22f24f=_0x3a36be?'text-green-800':_0x289f1c(0x5f2),_0x4493cd=_0x3a36be?_0x289f1c(0xb61):_0x289f1c(0x28f),_0x1560b7=_0x3a36be?_0x289f1c(0xc1c):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x1b0bbf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x46b6d7+_0x289f1c(0x678)+_0x49259b+_0x289f1c(0xbe5)+_0x22f24f+_0x289f1c(0xdc4)+_0x4493cd+_0x289f1c(0x92e)+_0x1560b7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x289f1c(0x891)]=_0x1b0bbf,studentResultArea['classList'][_0x289f1c(0x66f)]('hidden'),studentQuizArea[_0x289f1c(0xb6d)][_0x289f1c(0xa52)](_0x289f1c(0x599)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3a36be});}function displayPerfectScoreResult(_0x3051b6,_0x5c825d){const _0x3fe481=_0x4a01bc,_0x3ed970=_0x3051b6===_0x5c825d,_0xde52ef=_0x3ed970?'bg-yellow-100':_0x3fe481(0xcea),_0x4b5e0c=_0x3ed970?_0x3fe481(0x375):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x51ea9d=_0x3ed970?_0x3fe481(0x81e):_0x3fe481(0xd49),_0x410eb9=_0x3ed970?_0x3fe481(0xb8c):_0x3fe481(0x282),_0x1f4485=_0x3ed970?_0x3fe481(0x4c2):_0x3fe481(0x445);let _0x24a601='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0xde52ef+_0x3fe481(0x678)+_0x4b5e0c+_0x3fe481(0xbe5)+_0x51ea9d+_0x3fe481(0xdc4)+_0x410eb9+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x1f4485+_0x3fe481(0xb98);studentResultArea[_0x3fe481(0x891)]=_0x24a601,studentResultArea[_0x3fe481(0xb6d)][_0x3fe481(0x66f)]('hidden'),studentQuizArea[_0x3fe481(0xb6d)]['add'](_0x3fe481(0x599)),setupResultScreenBackButton({'showRankings':![],'score':_0x3051b6,'totalQuestions':_0x5c825d});}function renderIndividualComparisonTable(_0x3a0bbe,_0x2b38aa){const _0x452cdc=_0x4a01bc;_0x3a0bbe[_0x452cdc(0xc1a)]((_0x157d6d,_0x2e3832)=>(_0x2e3832[_0x452cdc(0x87d)]??-Infinity)-(_0x157d6d[_0x452cdc(0x87d)]??-Infinity));let _0x2b0bf2=_0x452cdc(0x762);_0x3a0bbe[_0x452cdc(0x8ca)]===0x0?_0x2b0bf2+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x3a0bbe[_0x452cdc(0x427)]((_0x5ac7b8,_0x5f5ddc)=>{const _0x5479ea=_0x452cdc;let _0x1f2fd7='-',_0x4087b6='';if(_0x5ac7b8[_0x5479ea(0x341)]!==null){const _0x1adf60=_0x5ac7b8['gain']>0x0?_0x5479ea(0xe66):_0x5ac7b8[_0x5479ea(0x341)]<0x0?'text-red-600':'text-gray-500',_0x3bf137=_0x5ac7b8[_0x5479ea(0x341)]>0x0?'+':'';_0x1f2fd7=_0x5479ea(0x637)+_0x1adf60+'\x22>'+_0x3bf137+_0x5ac7b8['gain']+'</span>';if(_0x5ac7b8[_0x5479ea(0x341)]>0x0)_0x4087b6=_0x5479ea(0x4a6);else _0x5ac7b8['gain']<0x0?_0x4087b6=_0x5479ea(0xd17):_0x4087b6='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x4ceffd='-';if(_0x5ac7b8['tGain']!==null){const _0x24ae67=_0x5ac7b8[_0x5479ea(0x87d)]>0x0?_0x5479ea(0xe66):_0x5ac7b8[_0x5479ea(0x87d)]<0x0?_0x5479ea(0xc2d):_0x5479ea(0xc5f),_0x2ebcc0=_0x5ac7b8['tGain']>0x0?'+':'';_0x4ceffd=_0x5479ea(0x637)+_0x24ae67+'\x22>'+_0x2ebcc0+_0x5ac7b8[_0x5479ea(0x87d)][_0x5479ea(0xb05)](0x2)+_0x5479ea(0x5b0);}_0x2b0bf2+=_0x5479ea(0x56f)+(_0x5f5ddc+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x5ac7b8['name']+_0x5479ea(0xe9e)+(_0x5ac7b8[_0x5479ea(0xec1)]??'-')+_0x5479ea(0x7d7)+(_0x5ac7b8[_0x5479ea(0x957)]??'-')+_0x5479ea(0xe9e)+_0x1f2fd7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x4087b6+_0x5479ea(0x61a)+(_0x5ac7b8['preTScore']?.[_0x5479ea(0xb05)](0x2)??'-')+_0x5479ea(0xcdc)+(_0x5ac7b8[_0x5479ea(0x75d)]?.[_0x5479ea(0xb05)](0x2)??'-')+_0x5479ea(0xe9e)+_0x4ceffd+_0x5479ea(0x286);}),_0x2b0bf2+=_0x452cdc(0xbaf),_0x2b38aa[_0x452cdc(0x891)]=_0x2b0bf2;}function handleRenameQuiz(_0xd59fd,_0x134aa4){const _0x4bb6ab=_0x4a01bc;actionTargetId=_0xd59fd,document[_0x4bb6ab(0x657)](_0x4bb6ab(0x491))[_0x4bb6ab(0x68e)]=_0x134aa4,renameQuizModal[_0x4bb6ab(0xb6d)]['remove'](_0x4bb6ab(0x599));}function setupComparisonModalTabs(){const _0x310a38=_0x4a01bc,_0x449d49=document['getElementById']('comparison-overall-tab'),_0x57c5e2=document[_0x310a38(0x657)](_0x310a38(0x6ef)),_0x504edc=document[_0x310a38(0x657)]('comparison-overall-content'),_0x986ec=document[_0x310a38(0x657)](_0x310a38(0xc92));_0x449d49['addEventListener'](_0x310a38(0x4ca),()=>{const _0x3017cc=_0x310a38;_0x449d49['classList'][_0x3017cc(0xa52)]('active'),_0x57c5e2[_0x3017cc(0xb6d)][_0x3017cc(0x66f)](_0x3017cc(0x670)),_0x504edc[_0x3017cc(0xb6d)][_0x3017cc(0x66f)](_0x3017cc(0x599)),_0x986ec[_0x3017cc(0xb6d)][_0x3017cc(0xa52)](_0x3017cc(0x599));}),_0x57c5e2[_0x310a38(0xdc6)](_0x310a38(0x4ca),()=>{const _0x3f2291=_0x310a38;_0x57c5e2[_0x3f2291(0xb6d)][_0x3f2291(0xa52)](_0x3f2291(0x670)),_0x449d49[_0x3f2291(0xb6d)][_0x3f2291(0x66f)](_0x3f2291(0x670)),_0x986ec[_0x3f2291(0xb6d)]['remove']('hidden'),_0x504edc[_0x3f2291(0xb6d)][_0x3f2291(0xa52)](_0x3f2291(0x599));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x16046a=_0x4a01bc;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3de5f8=doc(db,_0x16046a(0x4b1)+appId+_0x16046a(0x722),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3de5f8,_0x287db9=>{const _0x1a6534=_0x16046a;if(!_0x287db9[_0x1a6534(0xce9)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView('student');return;}const _0x325c24=_0x287db9[_0x1a6534(0xd0c)]();_0x325c24[_0x1a6534(0x7ce)]&&(currentQuizData=_0x325c24[_0x1a6534(0x7ce)]);!currentQuizData&&_0x325c24['quizId']&&((async()=>{const _0x566eb7=_0x1a6534;try{const _0x271f01=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x325c24['quizId']),_0x171a1c=await getDoc(_0x271f01);_0x171a1c['exists']()&&(currentQuizData={'id':_0x171a1c['id'],..._0x171a1c['data']()});}catch(_0x15518a){console[_0x566eb7(0xcb6)](_0x566eb7(0xb0f),_0x15518a);}})());switch(_0x325c24[_0x1a6534(0x531)]){case _0x1a6534(0x31a):if(currentMode==='admin'){const _0x39bd1d=_0x325c24[_0x1a6534(0x4f7)]?Object['entries'](_0x325c24['players']):[],_0x3baaf3=_0x39bd1d[_0x1a6534(0xc4c)](([_0x913b15,_0x1f52c2])=>_0x1f52c2['status']===_0x1a6534(0x670)),_0x16df17=document[_0x1a6534(0x657)]('player-count');if(_0x16df17)_0x16df17[_0x1a6534(0x54c)]=_0x3baaf3[_0x1a6534(0x8ca)];const _0x24dfdf=document['getElementById'](_0x1a6534(0x867));_0x24dfdf&&(_0x24dfdf[_0x1a6534(0x891)]=_0x3baaf3[_0x1a6534(0x823)](([_0x394646,_0x4e7331])=>_0x1a6534(0x420)+_0x394646+_0x1a6534(0x897)+_0x394646+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1a6534(0x566)](''));const _0x5df9b5=document['getElementById'](_0x1a6534(0x649));_0x5df9b5&&(_0x5df9b5[_0x1a6534(0x4b4)]=_0x3baaf3[_0x1a6534(0x8ca)]===0x0);}else showView(_0x1a6534(0xdc0)),liveGameView[_0x1a6534(0x891)]=_0x1a6534(0xb5b)+currentStudentName+_0x1a6534(0x193);break;case _0x1a6534(0xe3b):const _0x5bc4d6=_0x325c24['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x1a6534(0x3ef)][_0x5bc4d6]){const _0x485d3b=currentQuizData[_0x1a6534(0x3ef)][_0x5bc4d6],_0x58d1dc=_0x325c24[_0x1a6534(0x5ea)]||'answering';switch(_0x58d1dc){case _0x1a6534(0x30b):currentMode===_0x1a6534(0xf2b)?showAdminSummaryView(_0x325c24,_0x485d3b):showPlayerSummaryView(_0x325c24,currentStudentName);break;case _0x1a6534(0x8ba):currentMode===_0x1a6534(0xf2b)&&showTop5LeaderboardView(_0x325c24);break;case _0x1a6534(0x8e9):default:if(currentMode===_0x1a6534(0xf2b)){const _0x20b0cc=writeBatch(db);let _0x460a50=![];Object['entries'](_0x325c24['players'])[_0x1a6534(0x427)](([_0x303620,_0x5c1875])=>{const _0x3cb5ef=_0x1a6534;if(_0x5c1875[_0x3cb5ef(0x531)]==='active'&&_0x5c1875[_0x3cb5ef(0x884)]&&!_0x5c1875[_0x3cb5ef(0xc64)]){_0x460a50=!![];const _0x5f0ea4=_0x5c1875[_0x3cb5ef(0x884)][_0x3cb5ef(0x410)]()-_0x325c24[_0x3cb5ef(0x615)][_0x3cb5ef(0x410)]();let _0x3891c7=0x0;if(_0x5c1875['lastAnswerCorrect']){const _0x25b87b=0x3e8,_0x3aa604=0x1f4,_0x3bc2d0=0x4e20;let _0x1ff6e1=_0x5f0ea4/_0x3bc2d0;if(_0x1ff6e1>0x1)_0x1ff6e1=0x1;const _0x359302=Math['round'](_0x1ff6e1*_0x3aa604);_0x3891c7=_0x25b87b-_0x359302;}const _0x1c0625=doc(db,_0x3cb5ef(0x4b1)+appId+_0x3cb5ef(0x722),currentLiveGameId);_0x20b0cc[_0x3cb5ef(0x294)](_0x1c0625,{['players.'+_0x303620+_0x3cb5ef(0x252)]:increment(_0x3891c7),['players.'+_0x303620+'.pointsLastQuestion']:_0x3891c7,[_0x3cb5ef(0x729)+_0x303620+_0x3cb5ef(0x3eb)]:!![]});}});_0x460a50&&_0x20b0cc['commit']()[_0x1a6534(0x91e)](_0x131717=>console[_0x1a6534(0xcb6)](_0x1a6534(0x7df),_0x131717));lastRenderedAdminQuestionIndex!==_0x5bc4d6&&(showAdminLiveQuestionView(_0x485d3b,_0x5bc4d6,currentQuizData[_0x1a6534(0x3ef)][_0x1a6534(0x8ca)]),lastRenderedAdminQuestionIndex=_0x5bc4d6);const _0x4d66dd=_0x325c24[_0x1a6534(0x4f7)]||{},_0x437611=Object['values'](_0x4d66dd)[_0x1a6534(0xc4c)](_0x21f768=>_0x21f768[_0x1a6534(0x531)]===_0x1a6534(0x670)),_0x2ce172=_0x437611['length'],_0xffed75=_0x437611[_0x1a6534(0xc4c)](_0x262c9f=>_0x262c9f[_0x1a6534(0x713)]===!![])[_0x1a6534(0x8ca)],_0x465994=document[_0x1a6534(0x657)](_0x1a6534(0x7f6));if(_0x465994)_0x465994[_0x1a6534(0x54c)]=_0xffed75+'/'+_0x2ce172;const _0x16b25d=document[_0x1a6534(0x657)](_0x1a6534(0x34a));if(_0x16b25d){let _0x21097a=Object[_0x1a6534(0x1f7)](_0x4d66dd)[_0x1a6534(0xc4c)](([_0x16e035,_0x4eebdd])=>_0x4eebdd[_0x1a6534(0x531)]===_0x1a6534(0x670))['map'](([_0x39e4bc,_0x53ffb2])=>{const _0x56ebe4=_0x1a6534,_0xf57a87=_0x53ffb2['answeredCurrentQuestion']===!![],_0x141b08=_0xf57a87?_0x56ebe4(0x965):'bg-gray-500',_0xc5fc00=_0xf57a87?_0x56ebe4(0xd6f):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x56ebe4(0x393)+_0x141b08+_0x56ebe4(0x3e4)+_0xc5fc00+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x39e4bc+_0x56ebe4(0xc8d)+_0x39e4bc+_0x56ebe4(0x4b6);})[_0x1a6534(0x566)]('');_0x16b25d[_0x1a6534(0x891)]=_0x21097a||_0x1a6534(0x9a8);}_0x2ce172>0x0&&_0xffed75===_0x2ce172&&revealAnswerForAdmin(_0x5bc4d6,currentQuizData[_0x1a6534(0x3ef)][_0x1a6534(0x8ca)]);}else{const _0x527708=_0x325c24[_0x1a6534(0x4f7)][currentStudentName];_0x527708&&!_0x527708[_0x1a6534(0x713)]&&showStudentLiveQuestionView(_0x485d3b,_0x5bc4d6,currentQuizData['questions'][_0x1a6534(0x8ca)]);}break;}}break;case _0x1a6534(0x9e2):showPodiumView(_0x325c24['players'],_0x1a6534(0x83c));break;}});}async function openGlobalActivityModal(){const _0xb3b0d7=_0x4a01bc;if(allQuizzesGlobal[_0xb3b0d7(0x8ca)]===0x0){const _0x590ad1=await getDocs(collection(db,_0xb3b0d7(0x4b1)+appId+_0xb3b0d7(0x8cb)));allQuizzesGlobal=_0x590ad1[_0xb3b0d7(0xb70)][_0xb3b0d7(0x823)](_0xa93daf=>({'id':_0xa93daf['id'],..._0xa93daf[_0xb3b0d7(0xd0c)]()}));}renderGlobalActivityList(''),document['getElementById'](_0xb3b0d7(0x64a))[_0xb3b0d7(0xb6d)][_0xb3b0d7(0x66f)]('hidden');}function renderGlobalActivityList(_0x5c86c3=''){const _0x4d0c18=_0x4a01bc,_0x41a0c9=document['getElementById'](_0x4d0c18(0xc49)),_0x7be25d=_0x5c86c3['toLowerCase']()['trim'](),_0xdc47d3=allQuizzesGlobal[_0x4d0c18(0x823)](_0x22b7a7=>({..._0x22b7a7,'projectName':allProjects[_0x4d0c18(0x1d5)](_0x1e740f=>_0x1e740f['id']===_0x22b7a7[_0x4d0c18(0x401)])?.['projectName']||_0x4d0c18(0xdf4)}))['filter'](_0x53a586=>(_0x53a586[_0x4d0c18(0xb1c)]||'')[_0x4d0c18(0x2c0)]()['includes'](_0x7be25d)||(_0x53a586[_0x4d0c18(0x37f)]||'')[_0x4d0c18(0x2c0)]()[_0x4d0c18(0x484)](_0x7be25d));document[_0x4d0c18(0x657)]('global-quiz-count')[_0x4d0c18(0x54c)]='('+_0xdc47d3[_0x4d0c18(0x8ca)]+_0x4d0c18(0x191),_0x41a0c9['innerHTML']=_0xdc47d3[_0x4d0c18(0x8ca)]?_0xdc47d3[_0x4d0c18(0x823)](_0x46bd17=>_0x4d0c18(0xf31)+(_0x46bd17['topic']||_0x4d0c18(0x2af))+_0x4d0c18(0x2d5)+(_0x46bd17[_0x4d0c18(0x3ef)]?.[_0x4d0c18(0x8ca)]||0x0)+_0x4d0c18(0x7ae)+_0x46bd17['projectName']+_0x4d0c18(0x2aa)+_0x46bd17['id']+_0x4d0c18(0x65d)+_0x46bd17['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x4d0c18(0x566)](''):_0x4d0c18(0x8aa);}async function handleKickPlayer(_0x4078d7){const _0x365e7a=_0x4a01bc;if(!currentLiveGameId||!_0x4078d7)return;const _0xf7fddf=doc(db,_0x365e7a(0x4b1)+appId+'/public/data/liveGames',currentLiveGameId),_0x48e4af={};_0x48e4af['players.'+_0x4078d7+_0x365e7a(0x8e0)]=_0x365e7a(0x285);try{await updateDoc(_0xf7fddf,_0x48e4af);}catch(_0x1e424f){console[_0x365e7a(0xcb6)](_0x365e7a(0x57a)+_0x4078d7+':',_0x1e424f),showMessage(_0x365e7a(0xad1));}}async function authenticateUser(){const _0x171daf=_0x4a01bc;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x413c7c){console[_0x171daf(0xcb6)]('Authentication\x20failed:',_0x413c7c),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x54edcf){const _0x3b666d=_0x4a01bc;adminView[_0x3b666d(0xb6d)][_0x3b666d(0xa52)](_0x3b666d(0x599)),studentView[_0x3b666d(0xb6d)]['add']('hidden'),projectDashboardView[_0x3b666d(0xb6d)][_0x3b666d(0xa52)](_0x3b666d(0x599)),projectDetailView[_0x3b666d(0xb6d)]['add'](_0x3b666d(0x599)),quizResultsView[_0x3b666d(0xb6d)]['add'](_0x3b666d(0x599)),liveGameView[_0x3b666d(0xb6d)][_0x3b666d(0xa52)](_0x3b666d(0x599)),document[_0x3b666d(0x657)](_0x3b666d(0x776))[_0x3b666d(0xb6d)]['add'](_0x3b666d(0x599)),studentInitialView['classList']['add'](_0x3b666d(0x599)),studentJoinGameView[_0x3b666d(0xb6d)]['add'](_0x3b666d(0x599)),studentNameSelectionView[_0x3b666d(0xb6d)][_0x3b666d(0xa52)](_0x3b666d(0x599)),studentQuizArea[_0x3b666d(0xb6d)]['add'](_0x3b666d(0x599)),studentResultArea['classList']['add'](_0x3b666d(0x599)),studentReadingArea[_0x3b666d(0xb6d)][_0x3b666d(0xa52)](_0x3b666d(0x599));const _0x6762bc=document[_0x3b666d(0x657)](_0x3b666d(0x9f9)),_0x3cbc29=document[_0x3b666d(0x657)](_0x3b666d(0x226));if(_0x6762bc)_0x6762bc[_0x3b666d(0xb6d)]['add'](_0x3b666d(0x599));if(_0x3cbc29)_0x3cbc29[_0x3b666d(0xb6d)][_0x3b666d(0xa52)](_0x3b666d(0x599));switch(_0x54edcf){case'admin-dashboard':adminView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)](_0x3b666d(0x599)),projectDashboardView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)]('hidden');break;case'project-detail':adminView[_0x3b666d(0xb6d)]['remove'](_0x3b666d(0x599)),projectDetailView[_0x3b666d(0xb6d)]['remove'](_0x3b666d(0x599));break;case _0x3b666d(0x6f4):adminView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)](_0x3b666d(0x599)),quizResultsView['classList']['remove'](_0x3b666d(0x599));break;case _0x3b666d(0x6c5):studentView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)](_0x3b666d(0x599)),studentInitialView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)]('hidden');break;case'live-game':liveGameView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)]('hidden');break;case'student-team-join':studentView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)]('hidden');if(_0x6762bc)_0x6762bc['classList'][_0x3b666d(0x66f)](_0x3b666d(0x599));break;case _0x3b666d(0x696):studentView['classList'][_0x3b666d(0x66f)](_0x3b666d(0x599));if(_0x3cbc29)_0x3cbc29[_0x3b666d(0xb6d)][_0x3b666d(0x66f)]('hidden');break;default:studentView[_0x3b666d(0xb6d)][_0x3b666d(0x66f)]('hidden'),studentInitialView[_0x3b666d(0xb6d)]['remove'](_0x3b666d(0x599));break;}}function showJoinGameView(){const _0x29fe49=_0x4a01bc;studentInitialView[_0x29fe49(0xb6d)][_0x29fe49(0xa52)](_0x29fe49(0x599)),studentJoinGameView[_0x29fe49(0xb6d)][_0x29fe49(0x66f)](_0x29fe49(0x599));}async function handleSaveVisibilitySettings(){const _0x5aaee2=_0x4a01bc;if(!currentProjectId)return;const _0x35e54c=doc(db,_0x5aaee2(0x4b1)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x35e54c,{'settings.showInStudentDashboard':document['getElementById']('show-in-student-dashboard-checkbox')[_0x5aaee2(0x536)],'settings.isPasscodeEnabled':document['getElementById'](_0x5aaee2(0x483))[_0x5aaee2(0x536)],'settings.passcode':document['getElementById'](_0x5aaee2(0xb24))[_0x5aaee2(0x68e)][_0x5aaee2(0x5b2)]()}),showMessage(_0x5aaee2(0x7ea));}catch(_0x16283c){console[_0x5aaee2(0xcb6)](_0x5aaee2(0x1b0),_0x16283c),showMessage(_0x5aaee2(0x597));}}function setupEventListeners(){const _0x459ab4=_0x4a01bc,_0x1ff569=document[_0x459ab4(0x657)](_0x459ab4(0x463)),_0x80285c=document[_0x459ab4(0x657)](_0x459ab4(0x8c5));_0x1ff569&&_0x80285c&&(_0x80285c[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>_0x1ff569[_0x459ab4(0x4ca)]()),_0x1ff569[_0x459ab4(0xdc6)](_0x459ab4(0x79d),_0xc00432=>{const _0x4bbcf0=_0x459ab4;_0xc00432['target'][_0x4bbcf0(0x3a5)][_0x4bbcf0(0x8ca)]>0x0&&handleScanImageForText(_0xc00432[_0x4bbcf0(0x6f7)][_0x4bbcf0(0x3a5)][0x0]);}));const _0x1627fb=document[_0x459ab4(0x657)](_0x459ab4(0x622));_0x1627fb&&_0x1627fb[_0x459ab4(0xdc6)]('click',()=>{const _0x49dfe2=_0x459ab4,_0x3b0603=document['getElementById'](_0x49dfe2(0xbcd)),_0xd3c138=document['getElementById']('wager-amount-display');_0x3b0603&&(_0x3b0603[_0x49dfe2(0x68e)]=_0x3b0603['max'],_0xd3c138&&(_0xd3c138[_0x49dfe2(0x54c)]=_0x3b0603[_0x49dfe2(0x68e)],_0xd3c138[_0x49dfe2(0xb6d)]['remove']('scale-125'),void _0xd3c138['offsetWidth'],_0xd3c138[_0x49dfe2(0xb6d)][_0x49dfe2(0xa52)](_0x49dfe2(0x81c),'transition-transform','scale-125','text-red-600'),setTimeout(()=>_0xd3c138['classList']['remove'](_0x49dfe2(0x263),_0x49dfe2(0xc2d)),0xc8)));});document[_0x459ab4(0x657)](_0x459ab4(0x5a2))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x911111=_0x459ab4;document[_0x911111(0x657)](_0x911111(0x39a))[_0x911111(0xb6d)][_0x911111(0xa52)]('hidden');}),document['getElementById']('confirm-wager-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0xfc0d19=_0x459ab4,_0x163ffe=document[_0xfc0d19(0x657)](_0xfc0d19(0x39a)),_0x925b4b=document[_0xfc0d19(0x657)](_0xfc0d19(0xc53)),_0x35fb96=document['getElementById'](_0xfc0d19(0xbcd))[_0xfc0d19(0x68e)],_0x510174=_0x925b4b[_0xfc0d19(0x320)][_0xfc0d19(0x6f9)],_0x2e2391=JSON[_0xfc0d19(0xf3e)](_0x925b4b[_0xfc0d19(0x320)]['question']),_0x334b12=JSON[_0xfc0d19(0xf3e)](_0x925b4b['dataset'][_0xfc0d19(0x4c0)]),_0x54f634=_0x925b4b[_0xfc0d19(0x320)][_0xfc0d19(0x3b4)];_0x163ffe[_0xfc0d19(0xb6d)][_0xfc0d19(0xa52)](_0xfc0d19(0x599)),handleSyncAnswerSubmit(_0x510174,_0x2e2391,_0x334b12,_0x54f634,![],_0x35fb96);}),document[_0x459ab4(0x180)]('input[name=\x22syncVariant\x22]')['forEach'](_0x15e4fa=>{const _0x149363=_0x459ab4;_0x15e4fa[_0x149363(0xdc6)]('change',_0x9b1a9d=>{const _0x4d10f2=_0x149363,_0xfac3ab=document[_0x4d10f2(0x657)](_0x4d10f2(0xad5));_0x9b1a9d['target'][_0x4d10f2(0x68e)]===_0x4d10f2(0x870)?_0xfac3ab[_0x4d10f2(0xb6d)][_0x4d10f2(0x66f)]('hidden'):_0xfac3ab[_0x4d10f2(0xb6d)]['add']('hidden');});}),document['getElementById'](_0x459ab4(0xae1))[_0x459ab4(0xdc6)](_0x459ab4(0x79d),_0x3edeba=>{const _0x49639c=_0x459ab4;document[_0x49639c(0x657)](_0x49639c(0x20e))[_0x49639c(0xb6d)][_0x49639c(0x1f4)]('hidden',!_0x3edeba[_0x49639c(0x6f7)][_0x49639c(0x536)]);});const _0x1ba79e=document[_0x459ab4(0x657)]('cancel-confidence-btn'),_0x58b4c2=document[_0x459ab4(0x657)](_0x459ab4(0x444));_0x1ba79e&&_0x58b4c2&&_0x1ba79e['addEventListener'](_0x459ab4(0x4ca),()=>{const _0x319bbf=_0x459ab4;_0x58b4c2['classList'][_0x319bbf(0xa52)]('hidden'),_0x58b4c2[_0x319bbf(0x320)][_0x319bbf(0xe72)]='';});const _0x33d953=document[_0x459ab4(0x657)]('dim-overlay');_0x33d953&&(_0x33d953[_0x459ab4(0xdc6)](_0x459ab4(0xbb9),wakeUpScreen),_0x33d953[_0x459ab4(0xdc6)](_0x459ab4(0x1ab),wakeUpScreen));document[_0x459ab4(0x657)](_0x459ab4(0x2b6))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),async()=>{const _0x20aa74=_0x459ab4;if(!currentBlueprintProjectId)return;const _0x528e15=document[_0x20aa74(0x657)](_0x20aa74(0x95c))[_0x20aa74(0x68e)][_0x20aa74(0x5b2)](),_0x383882=doc(db,_0x20aa74(0x4b1)+appId+_0x20aa74(0xef8),currentBlueprintProjectId);try{await updateDoc(_0x383882,{'referenceFileUrl':_0x528e15}),showMessage(_0x20aa74(0xa94));}catch(_0xb98487){console['error']('Error\x20saving\x20reference\x20URL:',_0xb98487),showMessage(_0x20aa74(0x597));}}),document['getElementById']('add-parallel-shortcut-tab-btn')['addEventListener'](_0x459ab4(0x4ca),handleAddParallelShortcutTab),document['getElementById'](_0x459ab4(0xb02))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x291cf5=>{const _0xe09ce5=_0x459ab4;_0x291cf5['target'][_0xe09ce5(0xa5a)](_0xe09ce5(0x71d))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document['getElementById'](_0xe09ce5(0x367))[_0xe09ce5(0xb6d)][_0xe09ce5(0x66f)]('hidden'));}),document[_0x459ab4(0x657)](_0x459ab4(0xd7f))['addEventListener'](_0x459ab4(0x4ca),()=>{const _0xb59697=_0x459ab4;document[_0xb59697(0x657)](_0xb59697(0x367))[_0xb59697(0xb6d)][_0xb59697(0xa52)]('hidden');}),document[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x1215d9=>{const _0x376766=_0x459ab4;!_0x1215d9[_0x376766(0x6f7)][_0x376766(0xa5a)](_0x376766(0x386))&&document['querySelectorAll'](_0x376766(0x47e))[_0x376766(0x427)](_0x18f574=>_0x18f574[_0x376766(0xb6d)][_0x376766(0xa52)]('hidden'));}),document[_0x459ab4(0x657)](_0x459ab4(0x659))[_0x459ab4(0xdc6)]('click',handleAddFileShortcutTab),document[_0x459ab4(0x657)](_0x459ab4(0x259))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0xf5977=>{const _0x29701d=_0x459ab4;_0xf5977['target'][_0x29701d(0xa5a)](_0x29701d(0x2d3))&&(activeFileShortcutTabId=_0x29701d(0xa87),renderAdditionalFileShortcutsModal(),document['getElementById'](_0x29701d(0xb85))[_0x29701d(0xb6d)][_0x29701d(0x66f)](_0x29701d(0x599)));}),document[_0x459ab4(0x657)](_0x459ab4(0x95f))[_0x459ab4(0xdc6)]('click',()=>{const _0x4c4960=_0x459ab4;document[_0x4c4960(0x657)]('additional-file-shortcuts-modal')['classList']['add']('hidden');}),document['addEventListener']('click',_0x33e39b=>{const _0x233bd2=_0x459ab4;!_0x33e39b[_0x233bd2(0x6f7)][_0x233bd2(0xa5a)]('.group\x5c/dropdown-file')&&document[_0x233bd2(0x180)](_0x233bd2(0x644))['forEach'](_0x2cb4b2=>_0x2cb4b2[_0x233bd2(0xb6d)][_0x233bd2(0xa52)](_0x233bd2(0x599)));}),document[_0x459ab4(0x657)](_0x459ab4(0x692))[_0x459ab4(0xdc6)]('click',handleAddShortcutTab),document[_0x459ab4(0x657)]('parallel-shortcut-container')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x4dc84f=>{const _0xc9a901=_0x459ab4,_0x48d549=_0x4dc84f[_0xc9a901(0x6f7)][_0xc9a901(0xa5a)](_0xc9a901(0x29e)),_0x3c1134=_0x4dc84f[_0xc9a901(0x6f7)]['closest'](_0xc9a901(0x9bb)),_0x46a663=_0x4dc84f[_0xc9a901(0x6f7)]['closest'](_0xc9a901(0x314));if(_0x3c1134)openParallelTestShortcutEditor(_0x3c1134[_0xc9a901(0x320)]['id']);else{if(_0x46a663){const _0x228c62=_0x46a663[_0xc9a901(0x320)]['id'];showConfirmation(_0xc9a901(0x634),async()=>{const _0x51a411=_0xc9a901,_0x146f04=parallelTestShortcuts[_0x51a411(0xc4c)](_0xc9e948=>_0xc9e948['id']!==_0x228c62),_0x5b5dac=doc(db,_0x51a411(0x56a),'parallelTestShortcutsConfig');await setDoc(_0x5b5dac,{'shortcuts':_0x146f04},{'merge':!![]});});}else _0x48d549&&handleParallelTestShortcutClick(_0x48d549['dataset']['id']);}}),document[_0x459ab4(0x657)](_0x459ab4(0x989))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x459ab4(0x669))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x150e8c=_0x459ab4;document[_0x150e8c(0x657)](_0x150e8c(0xe11))[_0x150e8c(0xb6d)][_0x150e8c(0xa52)]('hidden');}),document[_0x459ab4(0x657)](_0x459ab4(0xa20))['addEventListener'](_0x459ab4(0x4ca),saveParallelTestShortcutChanges),document[_0x459ab4(0x657)](_0x459ab4(0xb02))['addEventListener']('click',_0x152ab1=>{const _0x2f2d0b=_0x459ab4;_0x152ab1['target'][_0x2f2d0b(0xa5a)]('#open-additional-parallel-shortcuts-btn')&&document[_0x2f2d0b(0x657)](_0x2f2d0b(0x367))[_0x2f2d0b(0xb6d)][_0x2f2d0b(0x66f)](_0x2f2d0b(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0xd7f))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x23cdb1=_0x459ab4;document[_0x23cdb1(0x657)](_0x23cdb1(0x367))[_0x23cdb1(0xb6d)][_0x23cdb1(0xa52)](_0x23cdb1(0x599));}),document['getElementById'](_0x459ab4(0xcc8))['addEventListener'](_0x459ab4(0x4ca),_0x4cb7a1=>{const _0x3d0452=_0x459ab4,_0x539cdc=document[_0x3d0452(0x657)]('additional-parallel-shortcuts-modal'),_0x4aae77=_0x4cb7a1[_0x3d0452(0x6f7)][_0x3d0452(0xa5a)](_0x3d0452(0x93c)),_0x1615cf=_0x4cb7a1[_0x3d0452(0x6f7)][_0x3d0452(0xa5a)](_0x3d0452(0xb9b)),_0x1bd5d1=_0x4cb7a1[_0x3d0452(0x6f7)][_0x3d0452(0xa5a)](_0x3d0452(0x83b));if(_0x4aae77)_0x539cdc[_0x3d0452(0xb6d)][_0x3d0452(0xa52)]('hidden'),handleParallelTestShortcutClick(_0x4aae77[_0x3d0452(0x320)]['id']);else{if(_0x1615cf)_0x539cdc[_0x3d0452(0xb6d)]['add']('hidden'),openParallelTestShortcutEditor(_0x1615cf[_0x3d0452(0x320)]['id']);else{if(_0x1bd5d1){const _0x138bae=_0x1bd5d1['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x5c16f9=_0x3d0452,_0x463f1a=parallelTestShortcuts['filter'](_0x1ac119=>_0x1ac119['id']!==_0x138bae),_0x195417=doc(db,_0x5c16f9(0x56a),_0x5c16f9(0x465));await setDoc(_0x195417,{'shortcuts':_0x463f1a},{'merge':!![]});});}}}}),document['getElementById']('file-shortcut-container')['addEventListener'](_0x459ab4(0x4ca),_0x5fba1f=>{const _0x1797cb=_0x459ab4,_0x51f35d=_0x5fba1f['target']['closest'](_0x1797cb(0xe28)),_0x468265=_0x5fba1f[_0x1797cb(0x6f7)][_0x1797cb(0xa5a)](_0x1797cb(0x9fe)),_0x3ee67e=_0x5fba1f[_0x1797cb(0x6f7)][_0x1797cb(0xa5a)]('.delete-file-shortcut-btn');if(_0x468265)openFileShortcutEditor(_0x468265[_0x1797cb(0x320)]['id']);else{if(_0x3ee67e){const _0x23387c=_0x3ee67e[_0x1797cb(0x320)]['id'];showConfirmation(_0x1797cb(0x634),async()=>{const _0x317a98=_0x1797cb,_0x30206d=fileShortcuts[_0x317a98(0xc4c)](_0x1481c8=>_0x1481c8['id']!==_0x23387c),_0x314b4d=doc(db,_0x317a98(0x56a),'fileShortcutsConfig');await setDoc(_0x314b4d,{'shortcuts':_0x30206d},{'merge':!![]});});}else _0x51f35d&&handleFileShortcutClick(_0x51f35d[_0x1797cb(0x320)]['id']);}}),document[_0x459ab4(0x657)](_0x459ab4(0x9ea))['addEventListener'](_0x459ab4(0x4ca),()=>openFileShortcutEditor(null)),document[_0x459ab4(0x657)]('cancel-file-shortcut-edit-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x230aab=_0x459ab4;document[_0x230aab(0x657)](_0x230aab(0xd96))[_0x230aab(0xb6d)][_0x230aab(0xa52)](_0x230aab(0x599));}),document['getElementById'](_0x459ab4(0x807))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),saveFileShortcutChanges),document[_0x459ab4(0x657)](_0x459ab4(0x259))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0xcc9614=>{const _0x506c0e=_0x459ab4;_0xcc9614[_0x506c0e(0x6f7)][_0x506c0e(0xa5a)](_0x506c0e(0x2d3))&&document[_0x506c0e(0x657)](_0x506c0e(0xb85))['classList']['remove'](_0x506c0e(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0x95f))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x982938=_0x459ab4;document['getElementById'](_0x982938(0xb85))[_0x982938(0xb6d)][_0x982938(0xa52)]('hidden');}),document[_0x459ab4(0x657)](_0x459ab4(0xcab))[_0x459ab4(0xdc6)]('click',_0x4e69c6=>{const _0x1c0f79=_0x459ab4,_0x23f459=document[_0x1c0f79(0x657)](_0x1c0f79(0xb85)),_0x3da3ef=_0x4e69c6[_0x1c0f79(0x6f7)]['closest'](_0x1c0f79(0xa49)),_0x558e7d=_0x4e69c6[_0x1c0f79(0x6f7)][_0x1c0f79(0xa5a)]('.edit-hidden-file-shortcut-btn'),_0x4222d5=_0x4e69c6[_0x1c0f79(0x6f7)][_0x1c0f79(0xa5a)](_0x1c0f79(0x67f));if(_0x3da3ef)_0x23f459[_0x1c0f79(0xb6d)][_0x1c0f79(0xa52)](_0x1c0f79(0x599)),handleFileShortcutClick(_0x3da3ef[_0x1c0f79(0x320)]['id']);else{if(_0x558e7d)_0x23f459[_0x1c0f79(0xb6d)][_0x1c0f79(0xa52)](_0x1c0f79(0x599)),openFileShortcutEditor(_0x558e7d[_0x1c0f79(0x320)]['id']);else{if(_0x4222d5){const _0x310445=_0x4222d5[_0x1c0f79(0x320)]['id'];showConfirmation(_0x1c0f79(0x634),async()=>{const _0x2c943f=_0x1c0f79,_0x9c5c19=fileShortcuts['filter'](_0x5e4430=>_0x5e4430['id']!==_0x310445),_0x4744c8=doc(db,_0x2c943f(0x56a),'fileShortcutsConfig');await setDoc(_0x4744c8,{'shortcuts':_0x9c5c19},{'merge':!![]});});}}}}),document['getElementById']('blueprint-input-area')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x24aaf2=>{const _0x4fcc86=_0x459ab4;_0x24aaf2['target']['closest'](_0x4fcc86(0x7e1))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x4fcc86(0x657)]('additional-shortcuts-modal')['classList'][_0x4fcc86(0x66f)](_0x4fcc86(0x599)));}),document[_0x459ab4(0x657)]('close-additional-shortcuts-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x1f1f53=_0x459ab4;document['getElementById']('additional-shortcuts-modal')[_0x1f1f53(0xb6d)]['add'](_0x1f1f53(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0xd8b))[_0x459ab4(0xdc6)]('click',_0x3f1bd9=>{const _0x30dff3=_0x459ab4,_0x62164b=_0x3f1bd9[_0x30dff3(0x6f7)][_0x30dff3(0xa5a)](_0x30dff3(0x2a6)),_0x23640c=_0x3f1bd9[_0x30dff3(0x6f7)][_0x30dff3(0xa5a)](_0x30dff3(0x731)),_0xa067e1=_0x3f1bd9[_0x30dff3(0x6f7)][_0x30dff3(0xa5a)](_0x30dff3(0x783)),_0x9396c9=document[_0x30dff3(0x657)](_0x30dff3(0x57f));if(_0x62164b)_0x9396c9[_0x30dff3(0xb6d)][_0x30dff3(0xa52)](_0x30dff3(0x599)),handleShortcutClick(_0x62164b[_0x30dff3(0x320)]['id']);else{if(_0x23640c)_0x9396c9[_0x30dff3(0xb6d)]['add'](_0x30dff3(0x599)),openShortcutEditor(_0x23640c[_0x30dff3(0x320)]['id']);else{if(_0xa067e1){const _0x3e94da=_0xa067e1[_0x30dff3(0x320)]['id'],_0x52b23d=blueprintShortcuts[_0x30dff3(0x1d5)](_0x130053=>_0x130053['id']===_0x3e94da)?.[_0x30dff3(0x9ce)];showConfirmation(_0x30dff3(0x4af)+_0x52b23d+'\x22?',async()=>{const _0x2f7fbf=_0x30dff3,_0x3f8d61=blueprintShortcuts['filter'](_0x5671c7=>_0x5671c7['id']!==_0x3e94da);try{const _0x31fe91=doc(db,_0x2f7fbf(0x56a),_0x2f7fbf(0x3ae));await setDoc(_0x31fe91,{'blueprintShortcuts':_0x3f8d61},{'merge':!![]});}catch(_0x461bbb){console[_0x2f7fbf(0xcb6)](_0x2f7fbf(0x4cc),_0x461bbb);}});}}}}),document[_0x459ab4(0x657)](_0x459ab4(0x583))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x244839=>{const _0x565b92=_0x459ab4,_0x45e96b=_0x244839[_0x565b92(0x6f7)][_0x565b92(0xa5a)](_0x565b92(0x2c3)),_0x1584d0=_0x244839[_0x565b92(0x6f7)][_0x565b92(0xa5a)](_0x565b92(0xcd2)),_0x57946b=_0x244839[_0x565b92(0x6f7)][_0x565b92(0xa5a)]('.delete-shortcut-btn');if(_0x1584d0)openShortcutEditor(_0x1584d0[_0x565b92(0x320)]['id']);else{if(_0x57946b){const _0x5ec504=_0x57946b[_0x565b92(0x320)]['id'],_0x17dc23=blueprintShortcuts[_0x565b92(0x1d5)](_0x1e6755=>_0x1e6755['id']===_0x5ec504)?.['name'];showConfirmation(_0x565b92(0x4af)+_0x17dc23+'\x22?',async()=>{const _0x37865c=_0x565b92,_0x322295=blueprintShortcuts[_0x37865c(0xc4c)](_0x46aa10=>_0x46aa10['id']!==_0x5ec504);try{const _0x2f0420=doc(db,_0x37865c(0x56a),'dashboardConfig');await setDoc(_0x2f0420,{'blueprintShortcuts':_0x322295},{'merge':!![]});}catch(_0x2d35d6){console[_0x37865c(0xcb6)](_0x37865c(0x4cc),_0x2d35d6);}});}else _0x45e96b&&handleShortcutClick(_0x45e96b[_0x565b92(0x320)]['id']);}}),document[_0x459ab4(0x657)](_0x459ab4(0x1e3))['addEventListener']('click',()=>openShortcutEditor(null)),document[_0x459ab4(0x657)](_0x459ab4(0x8c3))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x480fbd=_0x459ab4;document['getElementById'](_0x480fbd(0x46b))[_0x480fbd(0xb6d)][_0x480fbd(0xa52)]('hidden');}),document['getElementById']('save-shortcut-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),saveShortcutChanges),document[_0x459ab4(0x657)](_0x459ab4(0x7b6))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),async()=>{const _0x21622e=_0x459ab4,_0x33ed33=document[_0x21622e(0x657)]('blueprint-upload-input'),_0x5c45e4=document[_0x21622e(0x657)](_0x21622e(0xe4e));_0x33ed33[_0x21622e(0x3a5)][_0x21622e(0x8ca)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x33ed33[_0x21622e(0x3a5)][0x0],_0x5c45e4['files'][0x0]||null):showMessage(_0x21622e(0xe50));}),document[_0x459ab4(0x657)](_0x459ab4(0x877))['addEventListener'](_0x459ab4(0x4ca),async _0x3eae62=>{const _0x5087f5=_0x459ab4,_0x47178a=document[_0x5087f5(0x657)](_0x5087f5(0x877)),_0x93aa12=_0x3eae62['target'][_0x5087f5(0xa5a)](_0x5087f5(0x35d)),_0x520cef=_0x3eae62[_0x5087f5(0x6f7)][_0x5087f5(0xa5a)](_0x5087f5(0x3e0)),_0x7dc952=_0x3eae62[_0x5087f5(0x6f7)][_0x5087f5(0xa5a)](_0x5087f5(0x569)),_0x304720=_0x3eae62[_0x5087f5(0x6f7)][_0x5087f5(0xa5a)](_0x5087f5(0x30c)),_0x121738=_0x3eae62[_0x5087f5(0x6f7)]['closest'](_0x5087f5(0xc51)),_0x50e551=_0x3eae62[_0x5087f5(0x6f7)][_0x5087f5(0xa5a)](_0x5087f5(0x63f));if(_0x93aa12){cameFromBlueprint=!![];const _0x3b68ba=_0x93aa12[_0x5087f5(0x320)][_0x5087f5(0x8a3)];showQuizDetailView(_0x3b68ba),_0x47178a[_0x5087f5(0xb6d)]['add'](_0x5087f5(0x599));}else{if(_0x520cef){const _0x439f25=_0x520cef[_0x5087f5(0x320)][_0x5087f5(0x308)],_0x49bcb2=_0x520cef[_0x5087f5(0x320)][_0x5087f5(0x8a3)],_0x455200=allQuizzesGlobal[_0x5087f5(0x1d5)](_0x2b2dfe=>_0x2b2dfe['id']===_0x49bcb2),_0xe18cbc=_0x455200?_0x455200['topic']:_0x5087f5(0xec4);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0xe18cbc+_0x5087f5(0x7e5),async()=>{const _0x438aef=_0x5087f5;try{const _0x2ffcff=doc(db,_0x438aef(0x4b1)+appId+_0x438aef(0xef8),currentBlueprintProjectId);await updateDoc(_0x2ffcff,{[_0x438aef(0xe7c)+_0x439f25+_0x438aef(0x2bd)]:arrayRemove(_0x49bcb2)}),showMessage(_0x438aef(0x71e)),openTopicQuizBank(_0x439f25),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xb34200){console[_0x438aef(0xcb6)](_0x438aef(0xa83),_0xb34200),showMessage(_0x438aef(0x621));}});}else{if(_0x7dc952){cameFromBlueprint=!![];const _0x3a7878=_0x7dc952[_0x5087f5(0x320)][_0x5087f5(0x8a3)],_0x1a13e3=allQuizzesGlobal['find'](_0x5929dc=>_0x5929dc['id']===_0x3a7878);_0x1a13e3&&(startPresentation(_0x1a13e3),_0x47178a[_0x5087f5(0xb6d)][_0x5087f5(0xa52)](_0x5087f5(0x599)));}else{if(_0x304720){cameFromBlueprint=!![];const _0x1deb9b=_0x304720[_0x5087f5(0x320)][_0x5087f5(0x8a3)],_0x58e7fa=allQuizzesGlobal['find'](_0x2ec09a=>_0x2ec09a['id']===_0x1deb9b);_0x58e7fa&&(currentQuizData=_0x58e7fa,startAdminTest(),_0x47178a['classList'][_0x5087f5(0xa52)]('hidden'));}else{if(_0x121738)cameFromBlueprint=!![],handleStartLiveRace(_0x121738[_0x5087f5(0x320)][_0x5087f5(0x8a3)]),_0x47178a[_0x5087f5(0xb6d)]['add'](_0x5087f5(0x599));else{if(_0x50e551){cameFromBlueprint=!![];const _0x183165=_0x50e551[_0x5087f5(0x320)][_0x5087f5(0x8a3)],_0x335fc8=_0x50e551[_0x5087f5(0x320)][_0x5087f5(0x4c6)],_0xb1805f=allQuizzesGlobal[_0x5087f5(0x1d5)](_0x381f99=>_0x381f99['id']===_0x183165);_0xb1805f&&(showGameStartConfirmationModal(_0x183165,_0x335fc8,_0xb1805f[_0x5087f5(0xb1c)]),_0x47178a[_0x5087f5(0xb6d)][_0x5087f5(0xa52)](_0x5087f5(0x599)));}}}}}}}),document[_0x459ab4(0x657)]('manual-create-blueprint-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0xcd6df7=_0x459ab4;document['getElementById']('manual-blueprint-modal')['classList'][_0xcd6df7(0x66f)](_0xcd6df7(0x599)),document['getElementById'](_0xcd6df7(0x4aa))[_0xcd6df7(0x68e)]='',document[_0xcd6df7(0x657)](_0xcd6df7(0x5c8))[_0xcd6df7(0x68e)]='',document[_0xcd6df7(0x657)](_0xcd6df7(0x947))[_0xcd6df7(0x68e)]='';}),document[_0x459ab4(0x657)]('cancel-manual-bp-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x19b57b=_0x459ab4;document[_0x19b57b(0x657)](_0x19b57b(0x26e))[_0x19b57b(0xb6d)][_0x19b57b(0xa52)](_0x19b57b(0x599));}),document['getElementById'](_0x459ab4(0xcc5))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleManualBlueprintSave),document[_0x459ab4(0x657)](_0x459ab4(0x5e4))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>document['getElementById'](_0x459ab4(0xc6a))[_0x459ab4(0xb6d)][_0x459ab4(0xa52)](_0x459ab4(0x599))),document[_0x459ab4(0x657)](_0x459ab4(0x734))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleSaveBlueprintPageSettings),document[_0x459ab4(0x657)](_0x459ab4(0x753))['addEventListener'](_0x459ab4(0x4ca),openBlueprintQuizSettings),document[_0x459ab4(0x657)](_0x459ab4(0x1c0))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),saveBlueprintProject),document['getElementById'](_0x459ab4(0x553))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),showBlueprintProjects),document[_0x459ab4(0x657)](_0x459ab4(0x635))['addEventListener'](_0x459ab4(0x4ca),()=>{const _0x41d37d=_0x459ab4;document[_0x41d37d(0x657)]('blueprint-projects-modal')['classList'][_0x41d37d(0xa52)](_0x41d37d(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0xe4f))['addEventListener'](_0x459ab4(0x4ca),_0x25abba=>{const _0x13f867=_0x459ab4,_0x7f36a1=_0x25abba['target'][_0x13f867(0xa5a)](_0x13f867(0xc9d)),_0xbafd30=_0x25abba[_0x13f867(0x6f7)][_0x13f867(0xa5a)]('.delete-bp-project-btn');if(_0x7f36a1)displayBlueprintProjectManager(_0x7f36a1[_0x13f867(0x320)]['id']);else _0xbafd30&&handleDeepDeleteBlueprintProject(_0xbafd30[_0x13f867(0x320)]['id']);}),document[_0x459ab4(0x657)]('back-to-dashboard-from-bp-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x30d64f=_0x459ab4;currentBlueprintProjectId=null,currentProjectId=null,document[_0x30d64f(0x657)](_0x30d64f(0x776))[_0x30d64f(0xb6d)]['add'](_0x30d64f(0x599)),showView('admin-dashboard');}),document['getElementById'](_0x459ab4(0x9aa))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),addTopicToProject),document[_0x459ab4(0x657)](_0x459ab4(0x19b))['addEventListener'](_0x459ab4(0x4ca),async _0x2285e0=>{const _0x72e280=_0x459ab4,_0x268748=_0x2285e0[_0x72e280(0x6f7)][_0x72e280(0xa5a)](_0x72e280(0xc8c));if(!_0x268748)return;const _0x8abf42=_0x268748[_0x72e280(0x320)][_0x72e280(0x308)],_0x2cd60c=_0x2285e0[_0x72e280(0x6f7)][_0x72e280(0xa5a)]('.bp-create-onet-quiz-btn'),_0x3eeaab=_0x2285e0[_0x72e280(0x6f7)][_0x72e280(0xa5a)](_0x72e280(0xee5)),_0x5b2900=_0x2285e0[_0x72e280(0x6f7)][_0x72e280(0xa5a)](_0x72e280(0x66e)),_0x4d836e=_0x2285e0[_0x72e280(0x6f7)]['closest'](_0x72e280(0x22e)),_0x4213b9=_0x2285e0[_0x72e280(0x6f7)][_0x72e280(0xa5a)](_0x72e280(0x406)),_0x6f3706=_0x2285e0[_0x72e280(0x6f7)]['closest']('.bp-generate-lesson-btn'),_0x275a5c=_0x2285e0['target'][_0x72e280(0xa5a)](_0x72e280(0x4e0)),_0x2b1453=_0x2285e0[_0x72e280(0x6f7)][_0x72e280(0xa5a)](_0x72e280(0x9dd)),_0x50f82d=_0x1fc51c=>{const _0x49a668=_0x72e280,_0x31c4c9=_0x1fc51c[_0x49a668(0x5cd)]('[data-field=\x22subTopic\x22]')['textContent'][_0x49a668(0x5b2)](),_0x18bc3a=_0x1fc51c[_0x49a668(0xa5a)](_0x49a668(0x854))['previousElementSibling'],_0x53819b=_0x18bc3a?_0x18bc3a[_0x49a668(0x54c)][_0x49a668(0x5b2)]():'';return _0x53819b+':\x20'+_0x31c4c9;};if(_0x4d836e)openTopicQuizBank(_0x8abf42);else{if(_0x2cd60c){const _0x230466=_0x50f82d(_0x268748);selectProjectAndGenerateBlueprintQuiz(_0x230466,null,_0x8abf42,!![]);}else{if(_0x3eeaab){const _0x38f54b=_0x50f82d(_0x268748);try{const _0x32ea51=doc(db,_0x72e280(0x4b1)+appId+_0x72e280(0x324)+currentBlueprintProjectId+_0x72e280(0xbc8),_0x8abf42),_0x831a6c=await getDoc(_0x32ea51);if(_0x831a6c['exists']()){const _0x137fab=_0x831a6c[_0x72e280(0xd0c)]()['content'],_0x30ba12=document['createElement'](_0x72e280(0x41e)),_0x2e9333=_0x15d315=>{const _0x567dbb=_0x72e280;if(!_0x15d315)return'';return _0x30ba12[_0x567dbb(0x891)]=_0x15d315,_0x30ba12[_0x567dbb(0x54c)]||_0x30ba12[_0x567dbb(0xbb1)]||'';},_0x22df42=(_0x2e9333(_0x137fab[_0x72e280(0x6a4)])+'\x20'+_0x2e9333(_0x137fab[_0x72e280(0xd4b)])+'\x20'+_0x2e9333(_0x137fab[_0x72e280(0x613)]))[_0x72e280(0x5b2)]();selectProjectAndGenerateBlueprintQuiz(_0x38f54b,_0x22df42,_0x8abf42,![]);}else showMessage(_0x72e280(0x1fc));}catch(_0x5c47c3){console['error'](_0x72e280(0xdea),_0x5c47c3),showMessage(_0x72e280(0x6f5));}}else{if(_0x5b2900){const _0x3f9df9=_0x50f82d(_0x268748);selectProjectAndGenerateBlueprintQuiz(_0x3f9df9,null,_0x8abf42,![]);}else{if(_0x4213b9){const _0x2f075f=doc(db,_0x72e280(0x4b1)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x449cc1=await getDoc(_0x2f075f);if(_0x449cc1[_0x72e280(0xce9)]()){const _0x1876c6=_0x449cc1['data'](),_0xb6097a=_0x1876c6['topics'][_0x8abf42];if(_0xb6097a&&_0xb6097a['status']===_0x72e280(0x5aa))try{const _0x4583fd=doc(db,_0x72e280(0x4b1)+appId+_0x72e280(0x324)+currentBlueprintProjectId+_0x72e280(0xbc8),_0x8abf42),_0xa8dabd=await getDoc(_0x4583fd);if(_0xa8dabd[_0x72e280(0xce9)]()){const _0x39182b=_0xa8dabd[_0x72e280(0xd0c)]()[_0x72e280(0xced)];document['getElementById'](_0x72e280(0x3bc))['textContent']='บทเรียนเรื่อง:\x20'+_0x50f82d(_0x268748),document[_0x72e280(0x657)](_0x72e280(0x723))[_0x72e280(0x891)]=_0x39182b['point'],document[_0x72e280(0x657)]('memoryContent')['innerHTML']=_0x39182b[_0x72e280(0xd4b)],document['getElementById'](_0x72e280(0x677))[_0x72e280(0x891)]=_0x39182b[_0x72e280(0x613)];const _0x403adb=document[_0x72e280(0x657)](_0x72e280(0xb03));_0x39182b[_0x72e280(0x3d0)]?(currentApplicationData=_0x39182b[_0x72e280(0x3d0)],_0x403adb[_0x72e280(0x891)]=currentApplicationData[_0x72e280(0x823)]((_0x46b36,_0x22393e)=>_0x72e280(0x395)+(_0x22393e+0x1)+'.\x20'+marked[_0x72e280(0xd23)](_0x46b36[_0x72e280(0xe3b)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x22393e+_0x72e280(0x8f2)+_0x46b36['options']['map']((_0x5c1ebc,_0x3d0593)=>_0x72e280(0x374)+_0x22393e+',\x20'+_0x3d0593+_0x72e280(0x648)+String[_0x72e280(0x3f4)](0x61+_0x3d0593)+'.\x20'+marked['parseInline'](_0x5c1ebc)+_0x72e280(0x85b))[_0x72e280(0x566)]('')+_0x72e280(0x502))['join']('')):(currentApplicationData=[],_0x403adb['innerHTML']=_0x39182b['applicationHTML']||_0x39182b['application']),document[_0x72e280(0x657)](_0x72e280(0xe9f))[_0x72e280(0xb6d)][_0x72e280(0xa52)](_0x72e280(0x599)),document['getElementById'](_0x72e280(0xc04))[_0x72e280(0xb6d)][_0x72e280(0x66f)](_0x72e280(0x599)),document['getElementById']('lesson-view-modal')[_0x72e280(0xb6d)][_0x72e280(0x66f)](_0x72e280(0x599)),window['MathJax']&&MathJax[_0x72e280(0xdce)]([document[_0x72e280(0x657)](_0x72e280(0xd39))]);}else showMessage(_0x72e280(0x49b));}catch(_0x4ecbb1){console[_0x72e280(0xcb6)](_0x72e280(0xd4d),_0x4ecbb1),showMessage(_0x72e280(0x5e1));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x6f3706){const _0x4929c5=_0x50f82d(_0x268748),_0x17544c=doc(db,_0x72e280(0x4b1)+appId+_0x72e280(0xef8),currentBlueprintProjectId),_0x309ec5=await getDoc(_0x17544c);if(_0x309ec5['exists']()){const _0x3b9b97=_0x309ec5['data']();generateAndSaveLessonForBlueprint(_0x8abf42,_0x4929c5,_0x3b9b97[_0x72e280(0xac4)]);}}else{if(_0x275a5c)editTopicInProject(_0x8abf42);else _0x2b1453&&deleteTopicFromProject(_0x8abf42);}}}}}}}),document[_0x459ab4(0x657)](_0x459ab4(0x4d2))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleFixLessonLatex),document[_0x459ab4(0x657)]('export-lesson-to-pdf-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleExportLessonToPDF),document['getElementById'](_0x459ab4(0x223))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x24be88=_0x459ab4;document[_0x24be88(0x657)]('lesson-view-modal')[_0x24be88(0xb6d)][_0x24be88(0xa52)](_0x24be88(0x599));});const _0x530f0a=document[_0x459ab4(0x657)](_0x459ab4(0xdd8)),_0x3a9968=document[_0x459ab4(0x657)]('bulk-confidence-mode-container');_0x530f0a[_0x459ab4(0xdc6)](_0x459ab4(0x79d),()=>{const _0x532144=_0x459ab4;_0x3a9968['classList'][_0x532144(0x1f4)]('hidden',!_0x530f0a['checked']);});const _0xeb6c51=document[_0x459ab4(0x657)]('confidence-scoring-checkbox'),_0x180f3c=document[_0x459ab4(0x657)](_0x459ab4(0x5e7));_0xeb6c51[_0x459ab4(0xdc6)]('change',()=>{const _0x356bdb=_0x459ab4;_0x180f3c['classList'][_0x356bdb(0x1f4)](_0x356bdb(0x599),!_0xeb6c51[_0x356bdb(0x536)]);});const _0x48c4f6=document[_0x459ab4(0x657)](_0x459ab4(0x19e)),_0x633e1f=document['getElementById'](_0x459ab4(0xc7f));_0x48c4f6[_0x459ab4(0xdc6)](_0x459ab4(0x79d),()=>{const _0x3ef0e4=_0x459ab4;_0x633e1f['classList'][_0x3ef0e4(0x1f4)](_0x3ef0e4(0x599),!_0x48c4f6[_0x3ef0e4(0x536)]);});const _0x50b15f=document['getElementById'](_0x459ab4(0x444)),_0x23556b=async _0x227604=>{const _0x1563ec=_0x459ab4,_0x2d76b8=document[_0x1563ec(0x657)]('confidence-modal'),_0x3c238f=_0x2d76b8[_0x1563ec(0x320)][_0x1563ec(0xe72)],_0x4c95cc=document[_0x1563ec(0x657)]('selected-answer-index-hidden');_0x2d76b8[_0x1563ec(0xb6d)]['add'](_0x1563ec(0x599));if(_0x3c238f===_0x1563ec(0x816)){const _0x21c720=_0x4c95cc[_0x1563ec(0x68e)],_0x15dae0={'answer':_0x21c720,'wasConfident':_0x227604};proceedToNextQuestion(_0x15dae0);}else{if(_0x3c238f===_0x1563ec(0x988)){const _0x2decb8=_0x4c95cc[_0x1563ec(0x320)][_0x1563ec(0x6f9)],_0x1f976c=JSON['parse'](_0x4c95cc[_0x1563ec(0x320)][_0x1563ec(0xe3b)]),_0x12eccf=JSON[_0x1563ec(0xf3e)](_0x4c95cc[_0x1563ec(0x320)][_0x1563ec(0x4c0)]),_0x34044d=_0x4c95cc[_0x1563ec(0x320)][_0x1563ec(0x3b4)];handleSyncAnswerSubmit(_0x2decb8,_0x1f976c,_0x12eccf,_0x34044d,_0x227604);}}_0x2d76b8['dataset']['currentMode']='';};document[_0x459ab4(0x657)](_0x459ab4(0xbe1))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>_0x23556b(!![])),document[_0x459ab4(0x657)](_0x459ab4(0xdf3))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>_0x23556b(![])),liveGameView[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x7ce2d=>{const _0x16eb4d=_0x459ab4,_0x5ef905=_0x7ce2d['target']['closest'](_0x16eb4d(0xce1));if(_0x5ef905){const _0x1e0eab=_0x5ef905[_0x16eb4d(0x320)][_0x16eb4d(0x3b4)];_0x1e0eab&&handleKickPlayerSync(_0x1e0eab);}});const _0x39ecec=document[_0x459ab4(0x657)](_0x459ab4(0x343)),_0x45a114=document['getElementById']('cancel-game-start-btn');_0x45a114[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x280f6e=_0x459ab4;document[_0x280f6e(0x657)](_0x280f6e(0xb99))[_0x280f6e(0xb6d)][_0x280f6e(0xa52)](_0x280f6e(0x599));}),_0x39ecec['addEventListener'](_0x459ab4(0x4ca),()=>{const _0x5a5213=_0x459ab4,_0x485496=document['getElementById'](_0x5a5213(0x9c4))[_0x5a5213(0x68e)],_0x3df340=document[_0x5a5213(0x657)](_0x5a5213(0x7ad))[_0x5a5213(0x68e)],_0x28da56=document['getElementById'](_0x5a5213(0x57b))['checked'];document['getElementById'](_0x5a5213(0xb99))[_0x5a5213(0xb6d)][_0x5a5213(0xa52)](_0x5a5213(0x599));switch(_0x3df340){case _0x5a5213(0x83c):handleStartLiveRace(_0x485496,_0x28da56);break;case _0x5a5213(0x885):handleStartTeamQuiz(_0x485496,_0x28da56);break;case _0x5a5213(0x651):handleStartGroupMode(_0x485496,_0x28da56);break;case _0x5a5213(0x988):const _0x5e2edc=document[_0x5a5213(0x5cd)](_0x5a5213(0x7de))[_0x5a5213(0x68e)]||_0x5a5213(0x890);handleStartSyncMode(_0x485496,_0x28da56,_0x5e2edc);break;}}),document['getElementById'](_0x459ab4(0x1da))['addEventListener'](_0x459ab4(0x4ca),handleJoinGroupActivity),liveGameView[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0xa5c83b=>{const _0x4247dc=_0x459ab4,_0x5c2930=_0xa5c83b[_0x4247dc(0x6f7)][_0x4247dc(0xa5a)](_0x4247dc(0x940));document[_0x4247dc(0x180)](_0x4247dc(0xa00))[_0x4247dc(0x427)](_0x20f29c=>{const _0x7a1e0b=_0x4247dc;(!_0x5c2930||_0x20f29c['id']!==_0x5c2930[_0x7a1e0b(0x320)][_0x7a1e0b(0xef7)])&&_0x20f29c[_0x7a1e0b(0xb6d)][_0x7a1e0b(0x66f)](_0x7a1e0b(0x38b));});if(!_0x5c2930)return;const _0x267e37=_0x5c2930[_0x4247dc(0x320)]['tooltipTarget'],_0x248e62=document[_0x4247dc(0x657)](_0x267e37);_0x248e62&&_0x248e62[_0x4247dc(0xb6d)][_0x4247dc(0x1f4)](_0x4247dc(0x38b));}),liveGameView[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x5708e8=>{const _0x36a3a7=_0x459ab4;if(_0x5708e8[_0x36a3a7(0x6f7)][_0x36a3a7(0xb6d)][_0x36a3a7(0x650)](_0x36a3a7(0x295))){const _0x15e1b5=_0x5708e8[_0x36a3a7(0x6f7)][_0x36a3a7(0x320)]['playerName'];_0x15e1b5&&handleKickPlayer(_0x15e1b5);}}),document[_0x459ab4(0x657)](_0x459ab4(0xc15))[_0x459ab4(0xdc6)](_0x459ab4(0xcc9),()=>document['getElementById']('save-project-name-btn')['classList'][_0x459ab4(0x66f)]('hidden')),document[_0x459ab4(0x657)](_0x459ab4(0x4da))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleSaveProjectName),document['getElementById'](_0x459ab4(0xc15))[_0x459ab4(0xdc6)](_0x459ab4(0x9a4),_0x351023=>{const _0x656b4a=_0x459ab4;_0x351023[_0x656b4a(0x1f3)]===_0x656b4a(0x7ff)&&(_0x351023['preventDefault'](),_0x351023[_0x656b4a(0x6f7)]['blur'](),handleSaveProjectName());}),document[_0x459ab4(0x657)](_0x459ab4(0x921))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x2ffbad=_0x459ab4;document[_0x2ffbad(0x657)]('bulk-quiz-settings-modal')[_0x2ffbad(0xb6d)]['remove'](_0x2ffbad(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0xa6c))[_0x459ab4(0xdc6)]('click',()=>{const _0x1d1c8e=_0x459ab4;document['getElementById'](_0x1d1c8e(0x8b7))[_0x1d1c8e(0xb6d)][_0x1d1c8e(0xa52)](_0x1d1c8e(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0xeda))[_0x459ab4(0xdc6)]('click',handleBulkUpdateQuizSettings),document['getElementById'](_0x459ab4(0x625))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleModeSwitch),document[_0x459ab4(0x657)](_0x459ab4(0x2e7))['addEventListener'](_0x459ab4(0x4ca),handleUpdateOldQuizzes),document[_0x459ab4(0x657)]('reset-project-order-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleResetProjectOrder),document[_0x459ab4(0x657)](_0x459ab4(0xf08))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleSaveVisibilitySettings),document[_0x459ab4(0x657)](_0x459ab4(0x90a))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleAddCustomMathTopic),document[_0x459ab4(0x657)]('select-all-topics-btn')[_0x459ab4(0xdc6)]('click',handleSelectAllTopics),document['getElementById'](_0x459ab4(0x4b9))['addEventListener'](_0x459ab4(0x4ca),handleDeselectAllTopics),document[_0x459ab4(0x657)](_0x459ab4(0xeb7))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x633568=_0x459ab4;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x633568(0xe85));}}),document['getElementById'](_0x459ab4(0xe77))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x459ab4(0x657)](_0x459ab4(0x519))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x2e71a1=_0x459ab4;showView(_0x2e71a1(0xe85));}),document[_0x459ab4(0x657)](_0x459ab4(0x658))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x25f0ec=_0x459ab4;messageModal[_0x25f0ec(0xb6d)]['add']('hidden'),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x459ab4(0x657)](_0x459ab4(0x2bc))['addEventListener'](_0x459ab4(0x4ca),()=>createProjectModal[_0x459ab4(0xb6d)][_0x459ab4(0x66f)](_0x459ab4(0x599))),document[_0x459ab4(0x657)](_0x459ab4(0x55c))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>createProjectModal['classList'][_0x459ab4(0xa52)](_0x459ab4(0x599))),document[_0x459ab4(0x657)](_0x459ab4(0xdc1))[_0x459ab4(0xdc6)]('click',()=>adminPasswordModal[_0x459ab4(0xb6d)][_0x459ab4(0xa52)](_0x459ab4(0x599))),document[_0x459ab4(0x657)](_0x459ab4(0x682))['addEventListener']('click',handleAdminLogin),document[_0x459ab4(0x657)]('admin-password-input')[_0x459ab4(0xdc6)](_0x459ab4(0x3e6),_0x35f7eb=>{const _0x239316=_0x459ab4;if(_0x35f7eb[_0x239316(0x1f3)]===_0x239316(0x7ff))handleAdminLogin();}),document['getElementById'](_0x459ab4(0xba2))[_0x459ab4(0xdc6)]('click',()=>{const _0x4b6ac9=_0x459ab4;confirmationModal['classList'][_0x4b6ac9(0xa52)](_0x4b6ac9(0x599)),typeof cancelAction==='function'&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x459ab4(0x78c))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x7f48c4=_0x459ab4;confirmAction&&confirmAction(),confirmationModal['classList'][_0x7f48c4(0xa52)]('hidden'),confirmAction=null,cancelAction=null;}),document[_0x459ab4(0x657)]('cancel-rename-quiz-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>renameQuizModal[_0x459ab4(0xb6d)][_0x459ab4(0xa52)](_0x459ab4(0x599))),document[_0x459ab4(0x657)](_0x459ab4(0xef9))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),confirmRenameQuiz),document['getElementById'](_0x459ab4(0x8a0))['addEventListener'](_0x459ab4(0x4ca),()=>moveQuizModal['classList'][_0x459ab4(0xa52)](_0x459ab4(0x599))),document[_0x459ab4(0x657)]('confirm-move-quiz-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),confirmMoveQuiz),document[_0x459ab4(0x657)](_0x459ab4(0x51d))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>quizSettingsModal[_0x459ab4(0xb6d)][_0x459ab4(0xa52)](_0x459ab4(0x599))),document[_0x459ab4(0x657)](_0x459ab4(0x6c9))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),confirmQuizSettings),document[_0x459ab4(0x657)]('cancel-quiz-status-btn')['addEventListener'](_0x459ab4(0x4ca),()=>quizStatusModal[_0x459ab4(0xb6d)][_0x459ab4(0xa52)]('hidden')),document[_0x459ab4(0x657)](_0x459ab4(0x2ff))['addEventListener'](_0x459ab4(0x4ca),confirmQuizStatus);const _0x1eace3=document[_0x459ab4(0x657)](_0x459ab4(0x907));document[_0x459ab4(0x657)]('cancel-export-pdf-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x16cb44=_0x459ab4;_0x1eace3['classList'][_0x16cb44(0xa52)](_0x16cb44(0x599));}),document['getElementById']('export-compact-pdf-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),async()=>{const _0x67f0f8=_0x459ab4,_0xeb7a0f=allQuizzes['find'](_0x5405f6=>_0x5405f6['id']===actionTargetId);_0xeb7a0f?(currentQuizData=_0xeb7a0f,exportQuizAsWorksheetPDF()):showMessage(_0x67f0f8(0x6d4)),_0x1eace3[_0x67f0f8(0xb6d)][_0x67f0f8(0xa52)]('hidden');}),document[_0x459ab4(0x657)]('export-tutor-pdf-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),async()=>{const _0x324afc=_0x459ab4,_0x4ac984=allQuizzes[_0x324afc(0x1d5)](_0x17263d=>_0x17263d['id']===actionTargetId);_0x4ac984?(currentQuizData=_0x4ac984,exportQuizAsTutorPDF()):showMessage(_0x324afc(0x6d4)),_0x1eace3['classList']['add'](_0x324afc(0x599));});const _0x177638=document['getElementById']('open-global-live-btn');_0x177638[_0x459ab4(0x891)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x177638[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),openGlobalActivityModal),document[_0x459ab4(0x657)](_0x459ab4(0xd97))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x49439d=_0x459ab4;document[_0x49439d(0x657)]('global-activity-modal')['classList'][_0x49439d(0xa52)](_0x49439d(0x599));}),document['getElementById'](_0x459ab4(0xdf5))[_0x459ab4(0xdc6)]('input',_0x55d789=>{const _0x1c592c=_0x459ab4;renderGlobalActivityList(_0x55d789['target'][_0x1c592c(0x68e)]);}),document[_0x459ab4(0x657)]('global-activity-quiz-list')['addEventListener'](_0x459ab4(0x4ca),_0x3f9b84=>{const _0x3d1d4a=_0x459ab4,_0x2d7715=_0x3f9b84[_0x3d1d4a(0x6f7)][_0x3d1d4a(0xa5a)](_0x3d1d4a(0xdaa));if(!_0x2d7715)return;const _0x5757df=_0x2d7715[_0x3d1d4a(0x320)]['id'],_0x486522=_0x2d7715[_0x3d1d4a(0x320)][_0x3d1d4a(0x4c6)],_0x56a2b5=allQuizzesGlobal[_0x3d1d4a(0x1d5)](_0xb186e9=>_0xb186e9['id']===_0x5757df);_0x56a2b5&&(document[_0x3d1d4a(0x657)](_0x3d1d4a(0x64a))[_0x3d1d4a(0xb6d)][_0x3d1d4a(0xa52)](_0x3d1d4a(0x599)),_0x486522===_0x3d1d4a(0x83c)?handleStartLiveRace(_0x5757df):showGameStartConfirmationModal(_0x5757df,_0x486522,_0x56a2b5[_0x3d1d4a(0xb1c)]));}),document['getElementById'](_0x459ab4(0x85a))[_0x459ab4(0xdc6)](_0x459ab4(0x699),renderProjects),document[_0x459ab4(0x657)](_0x459ab4(0xab2))[_0x459ab4(0xdc6)]('change',async()=>{const _0x3a8058=_0x459ab4,_0x1939dd=document[_0x3a8058(0x657)]('project-sort-select')['value'],_0x445e46=doc(db,_0x3a8058(0x56a),'dashboardConfig');try{await setDoc(_0x445e46,{'projectSort':_0x1939dd},{'merge':!![]});}catch(_0x1293c7){console[_0x3a8058(0xcb6)](_0x3a8058(0xe58),_0x1293c7),showMessage(_0x3a8058(0x810));}}),document[_0x459ab4(0x657)](_0x459ab4(0x6ad))[_0x459ab4(0xdc6)]('input',renderQuizzes),document[_0x459ab4(0x657)](_0x459ab4(0x44e))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x33e31e=_0x459ab4;globalDashboardSettings[_0x33e31e(0xc0e)]=_0x33e31e(0xa12),saveUserPreference(_0x33e31e(0xc0e),_0x33e31e(0xa12)),renderProjects();}),document[_0x459ab4(0x657)]('list-view-btn')[_0x459ab4(0xdc6)]('click',()=>{const _0x450103=_0x459ab4;globalDashboardSettings[_0x450103(0xc0e)]=_0x450103(0x394),saveUserPreference(_0x450103(0xc0e),_0x450103(0x394)),renderProjects();}),manageTab['addEventListener'](_0x459ab4(0x4ca),()=>switchProjectTab('manage')),resultsTab[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>switchProjectTab(_0x459ab4(0x23b))),leaderboardTab[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>switchProjectTab(_0x459ab4(0x8ba))),document[_0x459ab4(0x657)](_0x459ab4(0xc59))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>switchQuizDetailTab('analytics')),document[_0x459ab4(0x657)](_0x459ab4(0xebc))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>switchQuizDetailTab(_0x459ab4(0x584))),document[_0x459ab4(0x657)](_0x459ab4(0x42b))['addEventListener'](_0x459ab4(0x4ca),()=>switchQuizDetailTab(_0x459ab4(0x6ab))),document['getElementById'](_0x459ab4(0x938))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>switchQuizDetailTab(_0x459ab4(0xab9))),document[_0x459ab4(0x657)](_0x459ab4(0x576))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x459ab4(0x4ca),generateWorksheet);const _0x49a7aa=document['getElementById'](_0x459ab4(0xe2d)),_0x271315=document[_0x459ab4(0x657)](_0x459ab4(0xacc)),_0x5cb27e=document[_0x459ab4(0x657)](_0x459ab4(0x5c6)),_0x39b514=document[_0x459ab4(0x657)]('blueprint-input-area'),_0x4a73af=document['getElementById'](_0x459ab4(0xca3)),_0x419f21=document['getElementById'](_0x459ab4(0xb02));topicTab[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x6fe6d9=_0x459ab4;topicTab[_0x6fe6d9(0xb6d)][_0x6fe6d9(0xa52)](_0x6fe6d9(0x670)),textTab[_0x6fe6d9(0xb6d)][_0x6fe6d9(0x66f)](_0x6fe6d9(0x670)),fileTab[_0x6fe6d9(0xb6d)]['remove']('active'),worksheetTab[_0x6fe6d9(0xb6d)]['remove'](_0x6fe6d9(0x670));if(_0x49a7aa)_0x49a7aa['classList'][_0x6fe6d9(0x66f)](_0x6fe6d9(0x670));if(_0x5cb27e)_0x5cb27e[_0x6fe6d9(0xb6d)][_0x6fe6d9(0x66f)](_0x6fe6d9(0x670));if(_0x4a73af)_0x4a73af['classList']['remove'](_0x6fe6d9(0x670));topicInputArea[_0x6fe6d9(0xb6d)][_0x6fe6d9(0x66f)](_0x6fe6d9(0x599)),textInputArea[_0x6fe6d9(0xb6d)][_0x6fe6d9(0xa52)]('hidden'),fileInputArea[_0x6fe6d9(0xb6d)][_0x6fe6d9(0xa52)]('hidden'),worksheetInputArea[_0x6fe6d9(0xb6d)][_0x6fe6d9(0xa52)]('hidden');if(_0x271315)_0x271315[_0x6fe6d9(0xb6d)][_0x6fe6d9(0xa52)](_0x6fe6d9(0x599));if(_0x39b514)_0x39b514['classList'][_0x6fe6d9(0xa52)](_0x6fe6d9(0x599));if(_0x419f21)_0x419f21['classList'][_0x6fe6d9(0xa52)](_0x6fe6d9(0x599));}),textTab[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x303241=_0x459ab4;textTab[_0x303241(0xb6d)][_0x303241(0xa52)](_0x303241(0x670)),topicTab[_0x303241(0xb6d)][_0x303241(0x66f)](_0x303241(0x670)),fileTab[_0x303241(0xb6d)][_0x303241(0x66f)](_0x303241(0x670)),worksheetTab[_0x303241(0xb6d)][_0x303241(0x66f)](_0x303241(0x670));if(_0x49a7aa)_0x49a7aa[_0x303241(0xb6d)][_0x303241(0x66f)]('active');if(_0x5cb27e)_0x5cb27e[_0x303241(0xb6d)][_0x303241(0x66f)](_0x303241(0x670));if(_0x4a73af)_0x4a73af['classList'][_0x303241(0x66f)](_0x303241(0x670));textInputArea[_0x303241(0xb6d)]['remove']('hidden'),topicInputArea[_0x303241(0xb6d)]['add']('hidden'),fileInputArea[_0x303241(0xb6d)][_0x303241(0xa52)]('hidden'),worksheetInputArea[_0x303241(0xb6d)][_0x303241(0xa52)](_0x303241(0x599));if(_0x271315)_0x271315[_0x303241(0xb6d)][_0x303241(0xa52)](_0x303241(0x599));if(_0x39b514)_0x39b514['classList'][_0x303241(0xa52)](_0x303241(0x599));if(_0x419f21)_0x419f21[_0x303241(0xb6d)]['add'](_0x303241(0x599));}),fileTab[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x4005ec=_0x459ab4;fileTab[_0x4005ec(0xb6d)][_0x4005ec(0xa52)](_0x4005ec(0x670)),topicTab[_0x4005ec(0xb6d)][_0x4005ec(0x66f)](_0x4005ec(0x670)),textTab[_0x4005ec(0xb6d)][_0x4005ec(0x66f)](_0x4005ec(0x670)),worksheetTab[_0x4005ec(0xb6d)][_0x4005ec(0x66f)]('active');if(_0x49a7aa)_0x49a7aa[_0x4005ec(0xb6d)][_0x4005ec(0x66f)](_0x4005ec(0x670));if(_0x5cb27e)_0x5cb27e['classList']['remove'](_0x4005ec(0x670));if(_0x4a73af)_0x4a73af['classList'][_0x4005ec(0x66f)]('active');fileInputArea[_0x4005ec(0xb6d)][_0x4005ec(0x66f)](_0x4005ec(0x599)),topicInputArea['classList'][_0x4005ec(0xa52)]('hidden'),textInputArea[_0x4005ec(0xb6d)]['add'](_0x4005ec(0x599)),worksheetInputArea['classList'][_0x4005ec(0xa52)](_0x4005ec(0x599));if(_0x271315)_0x271315['classList']['add']('hidden');if(_0x39b514)_0x39b514[_0x4005ec(0xb6d)][_0x4005ec(0xa52)]('hidden');if(_0x419f21)_0x419f21[_0x4005ec(0xb6d)][_0x4005ec(0xa52)](_0x4005ec(0x599));}),worksheetTab[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0xd70c22=_0x459ab4;worksheetTab[_0xd70c22(0xb6d)][_0xd70c22(0xa52)](_0xd70c22(0x670)),topicTab[_0xd70c22(0xb6d)][_0xd70c22(0x66f)](_0xd70c22(0x670)),textTab[_0xd70c22(0xb6d)][_0xd70c22(0x66f)]('active'),fileTab[_0xd70c22(0xb6d)][_0xd70c22(0x66f)](_0xd70c22(0x670));if(_0x49a7aa)_0x49a7aa['classList'][_0xd70c22(0x66f)](_0xd70c22(0x670));if(_0x5cb27e)_0x5cb27e[_0xd70c22(0xb6d)][_0xd70c22(0x66f)]('active');if(_0x4a73af)_0x4a73af[_0xd70c22(0xb6d)][_0xd70c22(0x66f)]('active');worksheetInputArea[_0xd70c22(0xb6d)][_0xd70c22(0x66f)]('hidden'),topicInputArea[_0xd70c22(0xb6d)][_0xd70c22(0xa52)](_0xd70c22(0x599)),textInputArea['classList'][_0xd70c22(0xa52)](_0xd70c22(0x599)),fileInputArea[_0xd70c22(0xb6d)][_0xd70c22(0xa52)](_0xd70c22(0x599));if(_0x271315)_0x271315['classList'][_0xd70c22(0xa52)](_0xd70c22(0x599));if(_0x39b514)_0x39b514[_0xd70c22(0xb6d)][_0xd70c22(0xa52)](_0xd70c22(0x599));if(_0x419f21)_0x419f21[_0xd70c22(0xb6d)][_0xd70c22(0xa52)](_0xd70c22(0x599));});const _0x43020b=document['getElementById'](_0x459ab4(0xc94)),_0x22d78d=document[_0x459ab4(0x657)](_0x459ab4(0x772));_0x43020b&&_0x43020b[_0x459ab4(0xdc6)]('click',()=>{const _0x1f5c27=_0x459ab4;topicTab[_0x1f5c27(0xb6d)][_0x1f5c27(0x66f)](_0x1f5c27(0x670)),textTab[_0x1f5c27(0xb6d)]['remove'](_0x1f5c27(0x670)),fileTab[_0x1f5c27(0xb6d)]['remove'](_0x1f5c27(0x670)),worksheetTab['classList'][_0x1f5c27(0x66f)](_0x1f5c27(0x670));if(_0x49a7aa)_0x49a7aa[_0x1f5c27(0xb6d)][_0x1f5c27(0x66f)](_0x1f5c27(0x670));if(_0x5cb27e)_0x5cb27e[_0x1f5c27(0xb6d)][_0x1f5c27(0x66f)](_0x1f5c27(0x670));if(_0x4a73af)_0x4a73af[_0x1f5c27(0xb6d)]['remove'](_0x1f5c27(0x670));_0x43020b[_0x1f5c27(0xb6d)][_0x1f5c27(0xa52)](_0x1f5c27(0x670)),topicInputArea[_0x1f5c27(0xb6d)]['add'](_0x1f5c27(0x599)),textInputArea[_0x1f5c27(0xb6d)][_0x1f5c27(0xa52)](_0x1f5c27(0x599)),fileInputArea[_0x1f5c27(0xb6d)][_0x1f5c27(0xa52)](_0x1f5c27(0x599)),worksheetInputArea['classList'][_0x1f5c27(0xa52)](_0x1f5c27(0x599));if(_0x271315)_0x271315['classList'][_0x1f5c27(0xa52)](_0x1f5c27(0x599));if(_0x39b514)_0x39b514['classList'][_0x1f5c27(0xa52)](_0x1f5c27(0x599));if(_0x419f21)_0x419f21[_0x1f5c27(0xb6d)][_0x1f5c27(0xa52)](_0x1f5c27(0x599));_0x22d78d[_0x1f5c27(0xb6d)][_0x1f5c27(0x66f)](_0x1f5c27(0x599)),displayQuestionBank();});_0x49a7aa&&(_0x49a7aa[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x36f344=_0x459ab4;_0x49a7aa['classList'][_0x36f344(0xa52)](_0x36f344(0x670)),topicTab['classList']['remove']('active'),textTab[_0x36f344(0xb6d)][_0x36f344(0x66f)](_0x36f344(0x670)),fileTab[_0x36f344(0xb6d)][_0x36f344(0x66f)](_0x36f344(0x670)),worksheetTab[_0x36f344(0xb6d)][_0x36f344(0x66f)](_0x36f344(0x670));if(_0x5cb27e)_0x5cb27e[_0x36f344(0xb6d)]['remove'](_0x36f344(0x670));if(_0x4a73af)_0x4a73af[_0x36f344(0xb6d)][_0x36f344(0x66f)](_0x36f344(0x670));_0x271315[_0x36f344(0xb6d)][_0x36f344(0x66f)](_0x36f344(0x599)),topicInputArea[_0x36f344(0xb6d)][_0x36f344(0xa52)](_0x36f344(0x599)),textInputArea[_0x36f344(0xb6d)][_0x36f344(0xa52)]('hidden'),fileInputArea['classList'][_0x36f344(0xa52)]('hidden'),worksheetInputArea[_0x36f344(0xb6d)]['add'](_0x36f344(0x599));if(_0x39b514)_0x39b514[_0x36f344(0xb6d)][_0x36f344(0xa52)](_0x36f344(0x599));if(_0x419f21)_0x419f21[_0x36f344(0xb6d)][_0x36f344(0xa52)](_0x36f344(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0x5fe))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleGenerateFromLink));_0x5cb27e&&_0x5cb27e[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x139f44=_0x459ab4;_0x5cb27e[_0x139f44(0xb6d)][_0x139f44(0xa52)](_0x139f44(0x670)),topicTab[_0x139f44(0xb6d)]['remove'](_0x139f44(0x670)),textTab['classList']['remove'](_0x139f44(0x670)),fileTab[_0x139f44(0xb6d)]['remove']('active'),worksheetTab[_0x139f44(0xb6d)]['remove']('active');if(_0x49a7aa)_0x49a7aa[_0x139f44(0xb6d)][_0x139f44(0x66f)](_0x139f44(0x670));if(_0x43020b)_0x43020b[_0x139f44(0xb6d)]['remove']('active');if(_0x4a73af)_0x4a73af[_0x139f44(0xb6d)][_0x139f44(0x66f)](_0x139f44(0x670));_0x39b514[_0x139f44(0xb6d)][_0x139f44(0x66f)]('hidden'),topicInputArea['classList'][_0x139f44(0xa52)](_0x139f44(0x599)),textInputArea['classList'][_0x139f44(0xa52)]('hidden'),fileInputArea['classList'][_0x139f44(0xa52)](_0x139f44(0x599)),worksheetInputArea['classList'][_0x139f44(0xa52)](_0x139f44(0x599));if(_0x271315)_0x271315[_0x139f44(0xb6d)][_0x139f44(0xa52)](_0x139f44(0x599));if(_0x22d78d)_0x22d78d['classList'][_0x139f44(0xa52)](_0x139f44(0x599));if(_0x419f21)_0x419f21['classList'][_0x139f44(0xa52)]('hidden');});_0x4a73af&&_0x4a73af['addEventListener'](_0x459ab4(0x4ca),()=>{const _0x68ed85=_0x459ab4;_0x4a73af[_0x68ed85(0xb6d)][_0x68ed85(0xa52)]('active'),topicTab[_0x68ed85(0xb6d)][_0x68ed85(0x66f)](_0x68ed85(0x670)),textTab[_0x68ed85(0xb6d)][_0x68ed85(0x66f)](_0x68ed85(0x670)),fileTab[_0x68ed85(0xb6d)][_0x68ed85(0x66f)]('active'),worksheetTab[_0x68ed85(0xb6d)][_0x68ed85(0x66f)]('active');if(_0x49a7aa)_0x49a7aa[_0x68ed85(0xb6d)][_0x68ed85(0x66f)](_0x68ed85(0x670));if(_0x5cb27e)_0x5cb27e[_0x68ed85(0xb6d)][_0x68ed85(0x66f)]('active');if(_0x43020b)_0x43020b['classList'][_0x68ed85(0x66f)](_0x68ed85(0x670));_0x419f21[_0x68ed85(0xb6d)][_0x68ed85(0x66f)](_0x68ed85(0x599)),topicInputArea[_0x68ed85(0xb6d)][_0x68ed85(0xa52)]('hidden'),textInputArea[_0x68ed85(0xb6d)][_0x68ed85(0xa52)](_0x68ed85(0x599)),fileInputArea[_0x68ed85(0xb6d)][_0x68ed85(0xa52)]('hidden'),worksheetInputArea['classList'][_0x68ed85(0xa52)](_0x68ed85(0x599));if(_0x271315)_0x271315[_0x68ed85(0xb6d)]['add'](_0x68ed85(0x599));if(_0x39b514)_0x39b514[_0x68ed85(0xb6d)][_0x68ed85(0xa52)](_0x68ed85(0x599));if(_0x22d78d)_0x22d78d[_0x68ed85(0xb6d)][_0x68ed85(0xa52)](_0x68ed85(0x599));});const _0x2b92f0=document['getElementById']('blueprint-upload-input'),_0x5761ac=document[_0x459ab4(0x657)](_0x459ab4(0x7b6));if(_0x2b92f0){const _0x5849c1=document[_0x459ab4(0x657)]('blueprint-upload-input'),_0x2cba47=document[_0x459ab4(0x657)]('generate-from-blueprint-btn'),_0x174873=document[_0x459ab4(0x657)](_0x459ab4(0x38e)),_0x22dfcc=document[_0x459ab4(0x657)](_0x459ab4(0xc00)),_0x274b01=document[_0x459ab4(0x657)](_0x459ab4(0xc8b)),_0x20adb5=document[_0x459ab4(0x657)](_0x459ab4(0xbbf));_0x5849c1&&_0x5849c1['addEventListener'](_0x459ab4(0x79d),async _0x314538=>{const _0x3c47b1=_0x459ab4;_0x174873[_0x3c47b1(0xb6d)][_0x3c47b1(0xa52)](_0x3c47b1(0x599)),_0x274b01[_0x3c47b1(0xb6d)][_0x3c47b1(0xa52)](_0x3c47b1(0x599)),_0x22dfcc['checked']=![],_0x2cba47[_0x3c47b1(0x4b4)]=!![];const _0x13eb6b=_0x314538['target'][_0x3c47b1(0x3a5)][0x0];if(_0x13eb6b){_0x2cba47[_0x3c47b1(0x4b4)]=![];try{const _0x5c1108=await extractTextFromPdf(_0x13eb6b);await analyzeBlueprintForTopics(_0x5c1108);}catch(_0x24f73c){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x174873[_0x3c47b1(0xb6d)][_0x3c47b1(0xa52)](_0x3c47b1(0x599));}}}),_0x22dfcc&&_0x22dfcc[_0x459ab4(0xdc6)](_0x459ab4(0x79d),_0x24fa71=>{const _0x79af0a=_0x459ab4,_0x3be777=_0x24fa71[_0x79af0a(0x6f7)][_0x79af0a(0x536)];_0x274b01[_0x79af0a(0xb6d)]['toggle'](_0x79af0a(0x599),!_0x3be777),_0x2cba47['disabled']=_0x3be777;}),_0x20adb5&&(_0x20adb5&&_0x20adb5[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x129643=>{const _0x17f0de=_0x459ab4,_0x427f89=_0x129643[_0x17f0de(0x6f7)][_0x17f0de(0xa5a)](_0x17f0de(0x1c3)),_0x177371=_0x129643[_0x17f0de(0x6f7)][_0x17f0de(0xa5a)]('.generate-content-btn');if(_0x427f89){const _0x368994=unescape(_0x427f89[_0x17f0de(0x320)][_0x17f0de(0xb1c)]);generateQuizForSingleTopic(_0x368994);}else{if(_0x177371){const _0x4af800=unescape(_0x177371[_0x17f0de(0x320)][_0x17f0de(0xb1c)]);handleGenerateTeachingContent(_0x4af800);}}}));}_0x5761ac&&_0x5761ac[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleGenerateFromBlueprint);const _0x194dff=document[_0x459ab4(0x657)]('parallel-test-upload-input'),_0x2033dd=document[_0x459ab4(0x657)]('generate-from-parallel-test-btn');_0x194dff&&_0x194dff[_0x459ab4(0xdc6)](_0x459ab4(0x79d),_0x3806a3=>{const _0x1a8002=_0x459ab4;_0x2033dd[_0x1a8002(0x4b4)]=_0x3806a3[_0x1a8002(0x6f7)]['files']['length']===0x0;});_0x2033dd&&_0x2033dd['addEventListener']('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleLoadQuiz),startQuizBtn['addEventListener'](_0x459ab4(0x4ca),async()=>{const _0xcde8cc=_0x459ab4,_0x2040c6=document[_0xcde8cc(0x657)](_0xcde8cc(0x195));currentStudentName=_0x2040c6[_0xcde8cc(0x68e)];if(!currentStudentName){showMessage(_0xcde8cc(0x18c));return;}try{const _0x18b4d2=currentQuizData['id'],_0x33a52d=doc(db,_0xcde8cc(0x4b1)+appId+'/public/data/quizzes/'+_0x18b4d2+_0xcde8cc(0x411),currentStudentName),_0x400e44=await getDoc(_0x33a52d);!_0x400e44[_0xcde8cc(0xce9)]()?await setDoc(_0x33a52d,{'studentName':currentStudentName,'startedAt':new Date()[_0xcde8cc(0xeca)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x33a52d,{'startedAt':new Date()['toISOString']()});}catch(_0x36c7ff){console[_0xcde8cc(0xcb6)](_0xcde8cc(0xdf7),_0x36c7ff),showMessage(_0xcde8cc(0xeb2));return;}studentNameSelectionView['classList'][_0xcde8cc(0xa52)](_0xcde8cc(0x599)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x459ab4(0x657)](_0x459ab4(0x204))[_0x459ab4(0xdc6)]('click',showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleJoinLiveGame),document[_0x459ab4(0x657)](_0x459ab4(0x239))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>showView(_0x459ab4(0x6c5)));const _0xfddc31=()=>{const _0x43bef7=_0x459ab4,_0x2c64b8=document[_0x43bef7(0x657)](_0x43bef7(0x7cb))['textContent'][_0x43bef7(0xdf2)](/[^a-z0-9]/gi,'_')[_0x43bef7(0x2c0)]();return'results_'+(_0x2c64b8||'quiz');},_0x235818=document['getElementById']('math-topic-search-input');_0x235818&&_0x235818[_0x459ab4(0xdc6)](_0x459ab4(0x699),_0x96ad56=>{const _0x449ed1=_0x459ab4,_0x4a1179=_0x96ad56[_0x449ed1(0x6f7)]['value']['toLowerCase']()[_0x449ed1(0x5b2)](),_0x11d346=document[_0x449ed1(0x657)]('math-topics-checkbox-container'),_0x76e8b5=_0x11d346[_0x449ed1(0x180)](_0x449ed1(0xe7f));_0x76e8b5[_0x449ed1(0x427)](_0x356646=>{const _0x5a08cf=_0x449ed1;let _0x5a4dd9=![];const _0x1d0867=_0x356646[_0x5a08cf(0x180)](_0x5a08cf(0x2ac));_0x1d0867[_0x5a08cf(0x427)](_0x1c89ac=>{const _0xd52b97=_0x5a08cf,_0x463d3c=_0x1c89ac[_0xd52b97(0x5cd)]('.topic-name-display')[_0xd52b97(0x54c)]['toLowerCase']();_0x463d3c['includes'](_0x4a1179)?(_0x1c89ac['style'][_0xd52b97(0xb0b)]=_0xd52b97(0x229),_0x5a4dd9=!![]):_0x1c89ac['style']['display']=_0xd52b97(0x813);}),_0x5a4dd9?_0x356646[_0x5a08cf(0xd7a)][_0x5a08cf(0xb0b)]='block':_0x356646['style'][_0x5a08cf(0xb0b)]='none';});});document[_0x459ab4(0x657)](_0x459ab4(0x254))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>exportTableAsImage(_0x459ab4(0x70c),_0xfddc31())),document[_0x459ab4(0x657)](_0x459ab4(0x208))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>exportTableAsPDF('results-table',_0xfddc31())),document[_0x459ab4(0x657)](_0x459ab4(0x774))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>exportTableAsWord(_0x459ab4(0x70c),_0xfddc31())),document['getElementById'](_0x459ab4(0x358))['addEventListener'](_0x459ab4(0x4ca),()=>exportTableAsExcel(_0x459ab4(0xcf7),_0xfddc31()));const _0x27218e=()=>{const _0x3d9700=_0x459ab4,_0x1389cb=document[_0x3d9700(0x657)](_0x3d9700(0x7cb))[_0x3d9700(0x54c)][_0x3d9700(0xdf2)](/[^a-z0-9]/gi,'_')[_0x3d9700(0x2c0)]();return _0x3d9700(0xde8)+(_0x1389cb||_0x3d9700(0xa04));};document[_0x459ab4(0x657)](_0x459ab4(0x493))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x27218e())),document[_0x459ab4(0x657)]('export-leaderboard-pdf-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>exportTableAsPDF(_0x459ab4(0xa3c),_0x27218e())),document['getElementById'](_0x459ab4(0xdcb))[_0x459ab4(0xdc6)]('click',()=>exportTableAsWord(_0x459ab4(0x39b),_0x27218e())),document[_0x459ab4(0x657)](_0x459ab4(0xec9))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>exportTableAsExcel(_0x459ab4(0xa3c),_0x27218e())),projectQuizzesList[_0x459ab4(0xdc6)]('click',async _0x501928=>{const _0x3b93d8=_0x459ab4,_0x2613e0=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0x7c8)),_0x1d4025=_0x501928[_0x3b93d8(0x6f7)]['closest'](_0x3b93d8(0xe94)),_0x26d997=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0x730)),_0x2a4a59=_0x501928['target'][_0x3b93d8(0xa5a)](_0x3b93d8(0x674)),_0x543d0e=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)]('.star-quiz-btn'),_0x3cd24b=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)]('.copy-quiz-id-list-btn'),_0x4cfb3a=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)]('.edit-quiz-btn'),_0x4a7cbb=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0xbc6)),_0x57fb43=_0x501928['target'][_0x3b93d8(0xa5a)](_0x3b93d8(0xd0a)),_0x2c3f30=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)]('.rename-quiz-btn'),_0x2c530e=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0xcb9)),_0x192b65=_0x501928[_0x3b93d8(0x6f7)]['closest'](_0x3b93d8(0x470)),_0x56e4c7=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0x7fa)),_0x56862b=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0x58b)),_0x93de1b=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0xb3c)),_0x1117e5=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0x78b)),_0x2f4b43=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0x59a)),_0x63d80d=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0xa44)),_0x3f0543=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0xb33)),_0x34de5e=_0x501928[_0x3b93d8(0x6f7)]['closest'](_0x3b93d8(0xaa1)),_0x56a353=_0x501928['target'][_0x3b93d8(0xa5a)](_0x3b93d8(0x3cd)),_0x584f13=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0xe0e)),_0x162608=_0x501928[_0x3b93d8(0x6f7)][_0x3b93d8(0xa5a)](_0x3b93d8(0x3db));if(_0x584f13){const _0x44344a=_0x584f13[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],_0x241107=_0x584f13[_0x3b93d8(0x320)][_0x3b93d8(0x4c6)],_0x14e07c=allQuizzes['find'](_0x50fca4=>_0x50fca4['id']===_0x44344a);_0x14e07c&&showGameStartConfirmationModal(_0x44344a,_0x241107,_0x14e07c[_0x3b93d8(0xb1c)]);}else{if(_0x162608){const _0x13fed7=_0x162608[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)];handleStartLiveRace(_0x13fed7);}else{if(_0x34de5e){const _0x132d99=_0x34de5e[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],_0x487bac=document['getElementById'](_0x3b93d8(0x20b)+_0x132d99);_0x487bac&&_0x487bac[_0x3b93d8(0xb6d)][_0x3b93d8(0x1f4)]('hidden');}else{if(_0x1d4025){const _0x40d766=_0x1d4025[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],_0x5c2fc6=allQuizzes[_0x3b93d8(0x1d5)](_0x1fb65d=>_0x1fb65d['id']===_0x40d766);_0x5c2fc6&&handleGenerateParallelPostTest(_0x5c2fc6);}else{if(_0x26d997)handleCompareResults(_0x26d997[_0x3b93d8(0x320)]['quizId'],_0x26d997[_0x3b93d8(0x320)][_0x3b93d8(0xd99)]);else{if(_0x2a4a59){const _0x325d05=_0x2a4a59['dataset'][_0x3b93d8(0x8a3)],_0x501be1=allQuizzes[_0x3b93d8(0x1d5)](_0x43865a=>_0x43865a['id']===_0x325d05);_0x501be1&&_0x501be1[_0x3b93d8(0xe27)]?(displayLessonPlan(_0x501be1[_0x3b93d8(0xe27)],_0x501be1),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x325d05)),document[_0x3b93d8(0x657)](_0x3b93d8(0xe63))[_0x3b93d8(0x5cd)]('h3')[_0x3b93d8(0x54c)]=_0x3b93d8(0xb43),document[_0x3b93d8(0x657)](_0x3b93d8(0x78c))['textContent']=_0x3b93d8(0xbd9)):handleGenerateLessonPlan(_0x325d05);}else{if(_0x543d0e)handleToggleStarQuiz(_0x543d0e['dataset'][_0x3b93d8(0x8a3)]);else{if(_0x3cd24b)copyTextToClipboard(_0x3cd24b[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],'คัดลอกรหัสแล้ว!');else{if(_0x4cfb3a)handleOpenQuizEditor(_0x4cfb3a[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)]);else{if(_0x4a7cbb)handleQuizSettings(_0x4a7cbb[_0x3b93d8(0x320)]['quizId']);else{if(_0x57fb43)handleDuplicateQuiz(_0x57fb43[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)]);else{if(_0x2c3f30)handleRenameQuiz(_0x2c3f30[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],_0x2c3f30[_0x3b93d8(0x320)][_0x3b93d8(0xb1c)]);else{if(_0x2c530e){const _0x38ef23=_0x2c530e[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],_0x41e509=allQuizzes[_0x3b93d8(0x1d5)](_0x3f82ce=>_0x3f82ce['id']===_0x38ef23);_0x41e509&&handleGenerateParallelFromBank(_0x41e509);}else{if(_0x192b65)handleMoveQuiz(_0x192b65[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)]);else{if(_0x56e4c7)handleManualQuizPairing(_0x56e4c7[_0x3b93d8(0x320)]['quizId']);else{if(_0x56862b)handleUnpairQuiz(_0x56862b[_0x3b93d8(0x320)]['quizId']);else{if(_0x93de1b){const _0x3298e6=_0x93de1b[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],_0x1c139f=allQuizzes['find'](_0x36dc6c=>_0x36dc6c['id']===_0x3298e6);if(_0x1c139f)startPresentation(_0x1c139f);}else{if(_0x1117e5){const _0x349ee1=_0x1117e5[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],_0x80bf56=allQuizzes[_0x3b93d8(0x1d5)](_0x364a8a=>_0x364a8a['id']===_0x349ee1);_0x80bf56&&(currentQuizData=_0x80bf56,startAdminTest());}else{if(_0x2f4b43)actionTargetId=_0x2f4b43[_0x3b93d8(0x320)][_0x3b93d8(0x8a3)],document[_0x3b93d8(0x657)]('export-pdf-modal')['classList'][_0x3b93d8(0x66f)](_0x3b93d8(0x599));else{if(_0x63d80d)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x63d80d[_0x3b93d8(0x320)]['topic']+_0x3b93d8(0x1dd),()=>handleDeleteQuiz(_0x63d80d[_0x3b93d8(0x320)]['quizId']));else{if(_0x3f0543)handleQuizStatus(_0x3f0543['dataset'][_0x3b93d8(0x8a3)]);else{if(_0x56a353)handleGenerateEasyVersionQuiz(_0x56a353['dataset'][_0x3b93d8(0x8a3)]);else _0x2613e0&&showQuizDetailView(_0x2613e0[_0x3b93d8(0x320)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x459ab4(0x657)]('cancel-team-selection-btn')[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>showView(_0x459ab4(0x6c5))),document[_0x459ab4(0x657)](_0x459ab4(0xca6))[_0x459ab4(0xdc6)]('click',confirmAndStartTeamQuiz),document['getElementById'](_0x459ab4(0xa3c))[_0x459ab4(0x5cd)](_0x459ab4(0x8d9))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x4a7ba6=>{const _0x4d4d94=_0x459ab4,_0x2c2127=_0x4a7ba6[_0x4d4d94(0x6f7)][_0x4d4d94(0xa5a)](_0x4d4d94(0xe61));if(!_0x2c2127||!_0x2c2127[_0x4d4d94(0x320)][_0x4d4d94(0xc1a)])return;const _0x2c7042=_0x2c2127[_0x4d4d94(0x320)][_0x4d4d94(0xc1a)];if(quizLeaderboardSortBy===_0x2c7042)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4d4d94(0x79b)?_0x4d4d94(0x1c2):'asc';else{quizLeaderboardSortBy=_0x2c7042;const _0x440faf=[_0x4d4d94(0xbf5)];quizLeaderboardSortOrder=_0x440faf[_0x4d4d94(0x484)](_0x2c7042)?_0x4d4d94(0x79b):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x459ab4(0x657)](_0x459ab4(0xe56))['addEventListener'](_0x459ab4(0x4ca),closePresentation),document[_0x459ab4(0x657)](_0x459ab4(0xa29))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x459ab4(0x657)](_0x459ab4(0x373))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x566e60=_0x459ab4;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x566e60(0x3ef)][_0x566e60(0x8ca)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x459ab4(0x29c),()=>{const _0x4832af=_0x459ab4;!document[_0x4832af(0xb6b)]&&(presentationModal[_0x4832af(0xd7a)][_0x4832af(0xb0b)]='none');}),document['getElementById'](_0x459ab4(0xc41))[_0x459ab4(0xdc6)]('click',handleDeleteAllStudents),studentList[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x481f5a=>{const _0x4cc4d3=_0x459ab4,_0x4f299c=_0x481f5a[_0x4cc4d3(0x6f7)]['closest'](_0x4cc4d3(0x381));if(_0x4f299c){const _0x36f846=_0x4f299c['dataset']['studentName'];handleDeleteStudent(_0x36f846);}}),document[_0x459ab4(0x657)](_0x459ab4(0x9e3))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleGenerateFromFileClick),fileUploadInput[_0x459ab4(0xdc6)](_0x459ab4(0x79d),_0x291780=>{const _0x4000d1=_0x459ab4,_0x5ea65f=_0x291780[_0x4000d1(0x6f7)][_0x4000d1(0x3a5)][0x0],_0x5429ec=document[_0x4000d1(0x657)]('generate-from-file-btn'),_0x1936c4=document[_0x4000d1(0x657)](_0x4000d1(0xb79)),_0x28ff5c=document['getElementById'](_0x4000d1(0x33c));_0x5ea65f?(selectedFile=_0x5ea65f,_0x28ff5c[_0x4000d1(0x536)]?(_0x5429ec[_0x4000d1(0x4b4)]=!![],analyzeFileForTopics(_0x5ea65f)):(_0x5429ec['disabled']=![],_0x1936c4['classList'][_0x4000d1(0xa52)](_0x4000d1(0x599)))):(selectedFile=null,_0x5429ec['disabled']=!![],_0x1936c4[_0x4000d1(0xb6d)][_0x4000d1(0xa52)]('hidden'));}),document[_0x459ab4(0x657)](_0x459ab4(0x33c))[_0x459ab4(0xdc6)](_0x459ab4(0x79d),_0x1c24bd=>{const _0x1fed29=_0x459ab4,_0x2342e7=_0x1c24bd['target'][_0x1fed29(0x536)],_0x1ce1c8=document[_0x1fed29(0x657)](_0x1fed29(0x9e3)),_0x3f5fa3=document[_0x1fed29(0x657)](_0x1fed29(0xb79));_0x2342e7?(_0x1ce1c8[_0x1fed29(0x4b4)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x3f5fa3['classList'][_0x1fed29(0x66f)]('hidden'),document['getElementById'](_0x1fed29(0x26a))[_0x1fed29(0x891)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x3f5fa3['classList'][_0x1fed29(0xa52)](_0x1fed29(0x599)),_0x1ce1c8[_0x1fed29(0x4b4)]=!selectedFile);}),document[_0x459ab4(0x657)](_0x459ab4(0xb79))['addEventListener'](_0x459ab4(0x4ca),_0x26ec84=>{const _0x57bfbd=_0x459ab4,_0x10e6d5=_0x26ec84['target']['closest'](_0x57bfbd(0x570)),_0x12197a=_0x26ec84[_0x57bfbd(0x6f7)][_0x57bfbd(0xa5a)](_0x57bfbd(0xd89));if(_0x10e6d5){const _0x433502=unescape(_0x10e6d5[_0x57bfbd(0x320)]['topic']);generateHybridQuizForTopic(_0x433502);}else{if(_0x12197a){const _0xd84b89=unescape(_0x12197a['dataset'][_0x57bfbd(0xb1c)]),_0x18a972=document[_0x57bfbd(0x657)](_0x57bfbd(0xa19))[_0x57bfbd(0x68e)];handleGenerateAndShowLesson(_0xd84b89,_0x18a972);}}}),document[_0x459ab4(0x657)](_0x459ab4(0xd74))[_0x459ab4(0xdc6)]('change',_0x4518f5=>{const _0x2c3660=_0x459ab4,_0x2fc727=document[_0x2c3660(0x657)](_0x2c3660(0x198)),_0x2addfa=document['getElementById'](_0x2c3660(0x276)),_0x5d4786=document[_0x2c3660(0x657)](_0x2c3660(0x2b5));_0x4518f5['target']['value']===_0x2c3660(0x813)?_0x2fc727[_0x2c3660(0xb6d)]['add'](_0x2c3660(0x599)):(_0x2fc727[_0x2c3660(0xb6d)][_0x2c3660(0x66f)](_0x2c3660(0x599)),_0x4518f5[_0x2c3660(0x6f7)]['value']===_0x2c3660(0x8ea)?(_0x2addfa[_0x2c3660(0x54c)]=_0x2c3660(0xaef),_0x5d4786[_0x2c3660(0x68e)]='10'):(_0x2addfa[_0x2c3660(0x54c)]=_0x2c3660(0x210),_0x5d4786[_0x2c3660(0x68e)]='30'));}),document[_0x459ab4(0x657)](_0x459ab4(0xc09))[_0x459ab4(0xdc6)](_0x459ab4(0x79d),_0x1940fc=>{const _0x57dbeb=_0x459ab4,_0x3936e4=document[_0x57dbeb(0x657)]('num-choices-container'),_0x52aea7=_0x1940fc[_0x57dbeb(0x6f7)]['value'],_0xfc433a=document['querySelector'](_0x57dbeb(0x512)),_0x1b5a25=document[_0x57dbeb(0x657)]('passing-score-input'),_0x54f5bc=document[_0x57dbeb(0x657)](_0x57dbeb(0x949));_0x52aea7===_0x57dbeb(0xc21)?_0xfc433a[_0x57dbeb(0x54c)]=_0x57dbeb(0x70e):_0xfc433a[_0x57dbeb(0x54c)]=_0x57dbeb(0x8c9),_0x52aea7===_0x57dbeb(0xa7c)||_0x52aea7===_0x57dbeb(0xbe6)||_0x52aea7===_0x57dbeb(0xb2f)?_0x3936e4[_0x57dbeb(0xb6d)][_0x57dbeb(0x66f)]('hidden'):_0x3936e4['classList'][_0x57dbeb(0xa52)](_0x57dbeb(0x599)),_0x1b5a25[_0x57dbeb(0xf23)]=_0x54f5bc['value'];}),document[_0x459ab4(0x657)](_0x459ab4(0x949))['addEventListener'](_0x459ab4(0x699),_0x2160c3=>{const _0x5f95e2=_0x459ab4;document['getElementById']('passing-score-input')[_0x5f95e2(0xf23)]=_0x2160c3[_0x5f95e2(0x6f7)][_0x5f95e2(0x68e)];}),document[_0x459ab4(0x657)]('modal-timer-mode-select')[_0x459ab4(0xdc6)]('change',_0x151da2=>{const _0x21dff5=_0x459ab4,_0x46b111=document[_0x21dff5(0x657)]('modal-timer-duration-container'),_0x4ce430=document['getElementById'](_0x21dff5(0x5f6)),_0x25c0c3=document[_0x21dff5(0x657)](_0x21dff5(0x618));_0x151da2[_0x21dff5(0x6f7)]['value']===_0x21dff5(0x813)?_0x46b111[_0x21dff5(0xb6d)][_0x21dff5(0xa52)](_0x21dff5(0x599)):(_0x46b111[_0x21dff5(0xb6d)][_0x21dff5(0x66f)](_0x21dff5(0x599)),_0x151da2['target']['value']===_0x21dff5(0x8ea)?_0x4ce430[_0x21dff5(0x54c)]=_0x21dff5(0xaef):_0x4ce430[_0x21dff5(0x54c)]='ระยะเวลา\x20(วินาที):');}),document[_0x459ab4(0x657)](_0x459ab4(0xa7e))[_0x459ab4(0xdc6)]('click',()=>{const _0x255810=_0x459ab4;document[_0x255810(0x657)](_0x255810(0xe79))[_0x255810(0xb6d)][_0x255810(0xa52)]('hidden');}),document[_0x459ab4(0x657)](_0x459ab4(0x82c))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x29ee3a=_0x459ab4;document[_0x29ee3a(0x657)](_0x29ee3a(0xe79))['classList'][_0x29ee3a(0xa52)]('hidden');}),document[_0x459ab4(0x657)](_0x459ab4(0x3de))['addEventListener'](_0x459ab4(0x4ca),handleVerifyAnswersInEditor),document[_0x459ab4(0x657)](_0x459ab4(0x8e4))[_0x459ab4(0xdc6)]('click',()=>{const _0x5d2126=_0x459ab4;document[_0x5d2126(0x657)]('quiz-editor-modal')[_0x5d2126(0xb6d)]['add']('hidden'),showConfirmation(_0x5d2126(0xc3e),handleSaveChanges);}),document['getElementById'](_0x459ab4(0xbec))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),handleAutoFixLatex);const _0x114fe3=document['getElementById'](_0x459ab4(0x23c));_0x114fe3&&_0x114fe3[_0x459ab4(0xdc6)]('click',_0x594674=>{const _0x45b1e8=_0x459ab4,_0x165f5c=_0x594674[_0x45b1e8(0x6f7)][_0x45b1e8(0xa5a)](_0x45b1e8(0xed8));if(_0x165f5c){const _0x4af558=_0x165f5c[_0x45b1e8(0xa5a)](_0x45b1e8(0xc39)),_0x5d402d=parseInt(_0x4af558[_0x45b1e8(0x320)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x5d402d);return;}const _0x1b729d=_0x594674['target']['closest']('.delete-question-editor-btn');if(_0x1b729d){const _0x1f2b4d=_0x1b729d[_0x45b1e8(0xa5a)](_0x45b1e8(0xc39)),_0x14c73b=parseInt(_0x1f2b4d[_0x45b1e8(0x320)][_0x45b1e8(0xb5a)],0xa);handleDeleteQuestionInEditor(_0x14c73b);return;}const _0x5cd17c=_0x594674['target'][_0x45b1e8(0xa5a)](_0x45b1e8(0x72a));if(_0x5cd17c){handleAddQuestionInEditor();return;}});document['getElementById'](_0x459ab4(0xd37))['addEventListener']('click',openQuizBankModal),document[_0x459ab4(0x657)](_0x459ab4(0xcf0))['addEventListener'](_0x459ab4(0x4ca),()=>{const _0x557cf7=_0x459ab4;document['getElementById'](_0x557cf7(0x7db))[_0x557cf7(0xb6d)][_0x557cf7(0xa52)](_0x557cf7(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0x796))[_0x459ab4(0xdc6)](_0x459ab4(0x699),_0x37d5c5=>renderQuizBankList(_0x37d5c5['target'][_0x459ab4(0x68e)]));const _0x5c2a2c=document[_0x459ab4(0x657)]('math-topics-checkbox-container');if(_0x5c2a2c){let _0x285193=null;_0x5c2a2c[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),_0x18267a=>{const _0x12f662=_0x459ab4,_0x37c137=_0x18267a['target'],_0x473cd4=_0x37c137['closest'](_0x12f662(0x185)),_0x4a13b5=_0x37c137[_0x12f662(0xa5a)](_0x12f662(0x2ea)),_0xb3aa2e=_0x37c137['closest'](_0x12f662(0x2a4)),_0xb8a1b=_0x37c137[_0x12f662(0xa5a)](_0x12f662(0x326));if(_0x4a13b5){_0x18267a[_0x12f662(0xd66)]();const _0x2ba8c9=_0x4a13b5[_0x12f662(0x320)]['id'],_0x2fd6d5=_0x4a13b5[_0x12f662(0xa5a)](_0x12f662(0x3b6))[_0x12f662(0x5cd)](_0x12f662(0xbf9))[_0x12f662(0x54c)];showConfirmation(_0x12f662(0xa8f)+_0x2fd6d5+'\x22?',()=>handleDeleteCustomTopic(_0x2ba8c9));}else{if(_0x473cd4){_0x18267a[_0x12f662(0xd66)]();_0x285193&&toggleTopicEditMode(_0x285193,![]);const _0x1b8df9=_0x473cd4['closest']('[data-topic-container-id]');_0x285193=_0x1b8df9,toggleTopicEditMode(_0x1b8df9,!![]);}else{if(_0xb3aa2e){_0x18267a[_0x12f662(0xd66)]();const _0x590e4c=_0xb3aa2e[_0x12f662(0x320)]['id'],_0x275f57=_0xb3aa2e[_0x12f662(0xa5a)](_0x12f662(0xefc)),_0x2e84fb=_0x275f57[_0x12f662(0x5cd)](_0x12f662(0xb34))['value'];handleUpdateCustomTopic(_0x590e4c,_0x2e84fb),_0x285193=null;}else{if(_0xb8a1b){_0x18267a[_0x12f662(0xd66)]();const _0x4c634b=_0xb8a1b['closest'](_0x12f662(0xefc));toggleTopicEditMode(_0x4c634b,![]),_0x285193=null;}}}}}),document[_0x459ab4(0x657)]('close-lesson-plan-modal-btn')[_0x459ab4(0xdc6)]('click',()=>{const _0x3d7ad7=_0x459ab4;document[_0x3d7ad7(0x657)]('lesson-plan-modal')['classList']['add'](_0x3d7ad7(0x599));}),document[_0x459ab4(0x657)](_0x459ab4(0x4ad))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x1494a0=_0x459ab4;document[_0x1494a0(0x657)](_0x1494a0(0x609))[_0x1494a0(0xb6d)][_0x1494a0(0xa52)](_0x1494a0(0x599));}),document['getElementById']('export-lesson-pdf-btn')[_0x459ab4(0xdc6)]('click',handleExportLessonPDF);}document['getElementById']('close-comparison-modal-btn')[_0x459ab4(0xdc6)]('click',()=>{const _0x517641=_0x459ab4;document['getElementById']('comparison-modal')[_0x517641(0xb6d)]['add'](_0x517641(0x599));}),document['getElementById'](_0x459ab4(0x16f))[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x83b081=_0x459ab4;document[_0x83b081(0x657)](_0x83b081(0x213))[_0x83b081(0xb6d)][_0x83b081(0xa52)]('hidden');}),setupComparisonModalTabs(),document[_0x459ab4(0x754)][_0x459ab4(0xdc6)](_0x459ab4(0x4ca),function(_0x1f889c){const _0x114f52=_0x459ab4;if(_0x1f889c[_0x114f52(0x6f7)][_0x114f52(0xb6d)][_0x114f52(0x650)](_0x114f52(0x526))){const _0x2f4914=unescape(_0x1f889c[_0x114f52(0x6f7)][_0x114f52(0x320)][_0x114f52(0xb1c)]);startSkillPractice(_0x2f4914);}}),document[_0x459ab4(0x657)](_0x459ab4(0x1b2))[_0x459ab4(0xdc6)]('click',_0x4815f2=>{const _0x5d0272=_0x459ab4,_0x1f7d96=_0x4815f2['target'][_0x5d0272(0xa5a)]('.delete-submission-btn');if(_0x1f7d96){const _0x2d5fde=_0x1f7d96['dataset'][_0x5d0272(0xbf5)];handleDeleteSubmission(_0x2d5fde);return;}const _0x2ca260=_0x4815f2['target'][_0x5d0272(0xa5a)]('.edit-points-btn');if(_0x2ca260){const _0x43b6d9=_0x2ca260[_0x5d0272(0x320)][_0x5d0272(0xbf5)],_0x13cabf=_0x2ca260['dataset'][_0x5d0272(0x1f8)],_0x199395=prompt(_0x5d0272(0x848)+_0x43b6d9+_0x5d0272(0x461),_0x13cabf);if(_0x199395!==null&&_0x199395['trim']()!==''){const _0x525acd=parseInt(_0x199395,0xa);!isNaN(_0x525acd)?handleManualEditPoints(_0x43b6d9,_0x525acd):alert('กรุณากรอกเป็นตัวเลขเท่านั้น');}}}),document[_0x459ab4(0x657)](_0x459ab4(0xe82))?.[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x351ee2=_0x459ab4;document[_0x351ee2(0x657)](_0x351ee2(0x236))[_0x351ee2(0xb6d)][_0x351ee2(0xa52)](_0x351ee2(0x599));}),document[_0x459ab4(0x180)]('.pin-key')['forEach'](_0x585ed1=>{const _0x384a63=_0x459ab4;_0x585ed1[_0x384a63(0xdc6)](_0x384a63(0x4ca),()=>{const _0x4622aa=_0x384a63;handlePinKeyPress(_0x585ed1[_0x4622aa(0x320)][_0x4622aa(0xeb6)]);});}),document[_0x459ab4(0x657)](_0x459ab4(0xace))?.[_0x459ab4(0xdc6)](_0x459ab4(0x4ca),()=>{const _0x567aff=_0x459ab4;handlePinKeyPress(_0x567aff(0x224));});}async function handleStartGroupMode(_0x254c4b,_0x5cda47=![]){const _0x51d4a8=_0x4a01bc,_0x83db80=allQuizzes[_0x51d4a8(0x1d5)](_0x33ff22=>_0x33ff22['id']===_0x254c4b)||allQuizzesGlobal[_0x51d4a8(0x1d5)](_0x4b8fca=>_0x4b8fca['id']===_0x254c4b);if(!_0x83db80){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x83db80);const _0x4e29c9=Math[_0x51d4a8(0xd62)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x156077=await addDoc(collection(db,_0x51d4a8(0x4b1)+appId+_0x51d4a8(0xc32)),{'quizId':_0x83db80['id'],'projectId':_0x83db80['projectId'],'status':'lobby','pin':_0x4e29c9,'mode':_0x51d4a8(0x651),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5cda47});currentTeamQuizId=_0x156077['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4e29c9,_0x83db80[_0x51d4a8(0xb1c)],'group'),listenForTeamQuizUpdates();}catch(_0x314705){console[_0x51d4a8(0xcb6)](_0x51d4a8(0x19c),_0x314705),showMessage(_0x51d4a8(0xf0b));}}async function showStudentProgressView(){const _0x1cb8a1=_0x4a01bc;studentInitialView[_0x1cb8a1(0xb6d)][_0x1cb8a1(0xa52)](_0x1cb8a1(0x599)),document[_0x1cb8a1(0x657)](_0x1cb8a1(0x226))[_0x1cb8a1(0xb6d)][_0x1cb8a1(0x66f)]('hidden');const _0x356868=document['getElementById'](_0x1cb8a1(0x364)),_0x33fa37=document[_0x1cb8a1(0x657)](_0x1cb8a1(0x987)),_0x4ee7d7=document['getElementById']('student-progress-content');_0x4ee7d7[_0x1cb8a1(0x891)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x33fa37[_0x1cb8a1(0x891)]=_0x1cb8a1(0xb1a),_0x33fa37['disabled']=!![],_0x356868[_0x1cb8a1(0x891)]=_0x1cb8a1(0x482);if(allProjects[_0x1cb8a1(0x8ca)]===0x0){const _0x3f70ad=collection(db,'artifacts/'+appId+_0x1cb8a1(0x780)),_0x49e0f5=await getDocs(_0x3f70ad);allProjects=_0x49e0f5[_0x1cb8a1(0xb70)][_0x1cb8a1(0x823)](_0x1342fb=>({'id':_0x1342fb['id'],..._0x1342fb[_0x1cb8a1(0xd0c)]()}));}const _0x441d9f=allProjects['filter'](_0x3b47a2=>_0x3b47a2[_0x1cb8a1(0xf0c)]?.[_0x1cb8a1(0x241)]!==![]);_0x441d9f[_0x1cb8a1(0xc1a)]((_0x3a5422,_0x421b28)=>_0x3a5422[_0x1cb8a1(0x37f)][_0x1cb8a1(0x8c8)](_0x421b28[_0x1cb8a1(0x37f)],'th')),_0x356868['innerHTML']=_0x1cb8a1(0x356)+_0x441d9f[_0x1cb8a1(0x823)](_0x2ab30d=>'<option\x20value=\x22'+_0x2ab30d['id']+'\x22>'+_0x2ab30d[_0x1cb8a1(0x37f)]+_0x1cb8a1(0xdb1))[_0x1cb8a1(0x566)](''),_0x356868[_0x1cb8a1(0xb7a)]=()=>{const _0x3c055c=_0x1cb8a1,_0x50f5ce=_0x33fa37[_0x3c055c(0x68e)],_0x54a951=_0x356868[_0x3c055c(0x68e)];_0x33fa37['disabled']=!![],_0x33fa37[_0x3c055c(0x891)]=_0x3c055c(0xb1a),_0x4ee7d7['innerHTML']=_0x3c055c(0x78d);if(!_0x54a951)return;const _0x16a674=allProjects['find'](_0x583cbc=>_0x583cbc['id']===_0x54a951);if(!_0x16a674||!_0x16a674[_0x3c055c(0xc2e)])return;const _0x317373=()=>{const _0x4ccf61=_0x3c055c;_0x33fa37[_0x4ccf61(0x891)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x16a674[_0x4ccf61(0xc2e)][_0x4ccf61(0x823)](_0x43dc36=>_0x4ccf61(0xd75)+_0x43dc36+'\x22>'+_0x43dc36+_0x4ccf61(0xdb1))[_0x4ccf61(0x566)](''),_0x33fa37[_0x4ccf61(0x4b4)]=![];const _0x138234=Array[_0x4ccf61(0x5ac)](_0x33fa37[_0x4ccf61(0x5e9)])[_0x4ccf61(0x823)](_0x39c2b1=>_0x39c2b1[_0x4ccf61(0x68e)]);if(_0x50f5ce&&_0x138234[_0x4ccf61(0x484)](_0x50f5ce))_0x33fa37['value']=_0x50f5ce,_0x33fa37[_0x4ccf61(0xb48)](new Event(_0x4ccf61(0x79d)));else _0x16a674[_0x4ccf61(0xc2e)][_0x4ccf61(0x8ca)]===0x1&&(_0x33fa37['value']=_0x16a674[_0x4ccf61(0xc2e)][0x0],_0x33fa37[_0x4ccf61(0xb48)](new Event(_0x4ccf61(0x79d))));};if(_0x16a674[_0x3c055c(0xf0c)]?.[_0x3c055c(0x1d9)]){if(sessionStorage[_0x3c055c(0xe75)](_0x3c055c(0xde7)+_0x54a951)==='true'){_0x317373();return;}const _0x11fd56=document[_0x3c055c(0x657)](_0x3c055c(0x25b)),_0x3d8134=document[_0x3c055c(0x657)](_0x3c055c(0x82d)),_0x370982=document[_0x3c055c(0x657)](_0x3c055c(0x1fb)),_0x178864=document[_0x3c055c(0x657)](_0x3c055c(0xbd7)),_0x57ded3=document[_0x3c055c(0x657)]('passcode-error-msg');document[_0x3c055c(0x657)](_0x3c055c(0x939))['textContent']='สำหรับโปรเจค:\x20'+_0x16a674[_0x3c055c(0x37f)],_0x178864[_0x3c055c(0x68e)]='',_0x57ded3['classList'][_0x3c055c(0xa52)](_0x3c055c(0x599)),_0x11fd56[_0x3c055c(0xb6d)][_0x3c055c(0x66f)](_0x3c055c(0x599));const _0x1309d2=()=>{const _0xf55960=_0x3c055c,_0x481b2d=_0x178864[_0xf55960(0x68e)][_0xf55960(0x5b2)]();_0x481b2d===_0x16a674[_0xf55960(0xf0c)][_0xf55960(0x537)]?(sessionStorage[_0xf55960(0x924)](_0xf55960(0xde7)+_0x54a951,_0xf55960(0x804)),_0x11fd56[_0xf55960(0xb6d)][_0xf55960(0xa52)](_0xf55960(0x599)),_0x317373(),_0x3d8134[_0xf55960(0xb77)](_0xf55960(0x4ca),_0x1309d2)):_0x57ded3[_0xf55960(0xb6d)][_0xf55960(0x66f)]('hidden');};_0x3d8134[_0x3c055c(0x385)]=_0x1309d2,_0x370982[_0x3c055c(0x385)]=()=>{const _0xb3acfb=_0x3c055c;_0x11fd56[_0xb3acfb(0xb6d)][_0xb3acfb(0xa52)]('hidden'),_0x356868[_0xb3acfb(0x68e)]='',_0x3d8134['removeEventListener']('click',_0x1309d2);};}else _0x317373();},_0x33fa37[_0x1cb8a1(0xb7a)]=()=>{const _0x58f5a3=_0x1cb8a1,_0x30ca7f=_0x356868[_0x58f5a3(0x68e)],_0x412a11=_0x33fa37[_0x58f5a3(0x68e)];_0x30ca7f&&_0x412a11&&renderStudentProgressDashboard(_0x30ca7f,_0x412a11);};}async function confirmAndJoinSyncGame(){const _0x8b1739=_0x4a01bc;lastSeenQuestionIndex=-0x1,sessionStorage[_0x8b1739(0x9be)]('pollUsedThisTurn'),sessionStorage[_0x8b1739(0x9be)](_0x8b1739(0x8d3)),Object['keys'](sessionStorage)[_0x8b1739(0x427)](_0x1a5c2a=>{const _0xebc9c8=_0x8b1739;(_0x1a5c2a[_0xebc9c8(0x1ce)](_0xebc9c8(0xa60))||_0x1a5c2a[_0xebc9c8(0x1ce)](_0xebc9c8(0xdb4))||_0x1a5c2a[_0xebc9c8(0x1ce)]('hiddenOptions_q'))&&sessionStorage[_0xebc9c8(0x9be)](_0x1a5c2a);});const _0x2bc4ab=[...orderedPlayerSelection];if(_0x2bc4ab[_0x8b1739(0x8ca)]===0x0){showMessage(_0x8b1739(0x893));return;}localTeamPlayers=_0x2bc4ab,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0xaed499=writeBatch(db),_0x33ce76=serverTimestamp();for(const _0x2c1d41 of _0x2bc4ab){const _0x22be36=doc(db,_0x8b1739(0x4b1)+appId+_0x8b1739(0x392)+currentLiveGameId+_0x8b1739(0x5b4),_0x2c1d41),_0x3365b3=await getDoc(_0x22be36);if(_0x3365b3[_0x8b1739(0xce9)]())_0xaed499[_0x8b1739(0x294)](_0x22be36,{'status':'active'});else{const _0x52e7f1={'name':_0x2c1d41,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x8b1739(0x670),'answers':[],'joinedAt':_0x33ce76,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0xaed499[_0x8b1739(0x799)](_0x22be36,_0x52e7f1);}}await _0xaed499['commit'](),showView(_0x8b1739(0xdc0)),document[_0x8b1739(0x657)](_0x8b1739(0x9f9))['classList'][_0x8b1739(0xa52)](_0x8b1739(0x599)),currentStudentName=_0x2bc4ab[0x0],listenForSyncGameUpdates();const _0x168f98={'gameId':currentLiveGameId,'mode':_0x8b1739(0x988),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON[_0x8b1739(0x7ba)](_0x168f98)),currentMode!==_0x8b1739(0x233)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x8b1739(0x29c),handleFullscreenChange),document[_0x8b1739(0xdc6)](_0x8b1739(0x4a0),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x8b1739(0xde3),resetDimTimer),window[_0x8b1739(0xdc6)](_0x8b1739(0xbb9),resetDimTimer),window[_0x8b1739(0xdc6)]('touchstart',resetDimTimer),window['addEventListener'](_0x8b1739(0x9a4),resetDimTimer),resetDimTimer());}catch(_0x47c464){console[_0x8b1739(0xcb6)](_0x8b1739(0x1fe),_0x47c464),showMessage(_0x8b1739(0xbae)+_0x47c464[_0x8b1739(0x9a1)]);}}async function resumeActiveGameSession(){const _0x113abb=_0x4a01bc,_0x1e91f9=sessionStorage[_0x113abb(0xe75)](_0x113abb(0xe70));if(!_0x1e91f9)return;const _0x3b834b=JSON[_0x113abb(0xf3e)](_0x1e91f9),{gameId:_0x5238bb,mode:_0x1337d5,role:_0xf48a15,players:_0x569258,turnIndex:_0x1dc69c}=_0x3b834b;try{if(_0xf48a15===_0x113abb(0xf2b)&&_0x1337d5===_0x113abb(0x988)){const _0x24d8c5=doc(db,_0x113abb(0x4b1)+appId+_0x113abb(0xa25),_0x5238bb),_0x54a6bd=await getDoc(_0x24d8c5);if(!_0x54a6bd[_0x113abb(0xce9)]()||_0x54a6bd[_0x113abb(0xd0c)]()[_0x113abb(0x531)]===_0x113abb(0x9e2)||_0x54a6bd[_0x113abb(0xd0c)]()[_0x113abb(0x531)]===_0x113abb(0x6cd)){sessionStorage[_0x113abb(0x9be)]('activeGameSession');return;}console[_0x113abb(0x546)](_0x113abb(0x36f)+_0x5238bb+')'),currentMode='admin',currentLiveGameId=_0x5238bb,currentQuizData=_0x54a6bd[_0x113abb(0xd0c)]()[_0x113abb(0x7ce)],showView(_0x113abb(0xdc0)),listenForSyncGameUpdates();}else{if(_0x1337d5===_0x113abb(0x988)&&_0x569258){const _0x5d360d=doc(db,'artifacts/'+appId+'/public/data/syncGames',_0x5238bb),_0x152134=await getDoc(_0x5d360d);if(!_0x152134[_0x113abb(0xce9)]()||_0x152134['data']()['status']==='podium'||_0x152134[_0x113abb(0xd0c)]()[_0x113abb(0x531)]===_0x113abb(0x6cd)){sessionStorage[_0x113abb(0x9be)]('activeGameSession');return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20'+_0x5238bb+')'),currentLiveGameId=_0x5238bb,currentStudentName=_0x569258[0x0],localTeamPlayers=_0x569258,showView(_0x113abb(0xdc0)),listenForSyncGameUpdates();}else{if((_0x1337d5==='team'||_0x1337d5==='group')&&_0x569258){const _0x1beb09=doc(db,_0x113abb(0x4b1)+appId+_0x113abb(0xc32),_0x5238bb),_0x232bfc=await getDoc(_0x1beb09);if(!_0x232bfc[_0x113abb(0xce9)]()||_0x232bfc[_0x113abb(0xd0c)]()[_0x113abb(0x531)]==='podium'||_0x232bfc['data']()[_0x113abb(0x531)]==='finished'){sessionStorage[_0x113abb(0x9be)](_0x113abb(0xe70));return;}console[_0x113abb(0x546)](_0x113abb(0x36b)+_0x1337d5+_0x113abb(0xc58)+_0x5238bb+')'),currentTeamQuizId=_0x5238bb,localTeamPlayers=_0x569258,localQuestionIndex=_0x3b834b[_0x113abb(0x683)]||0x0,localPlayerIndex=_0x3b834b[_0x113abb(0xe55)]||0x0;const _0x5c445f=_0x232bfc[_0x113abb(0xd0c)](),_0xc67c28=doc(db,_0x113abb(0x4b1)+appId+'/public/data/quizzes',_0x5c445f[_0x113abb(0x8a3)]),_0x1051be=await getDoc(_0xc67c28);_0x1051be['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x1051be['id'],..._0x1051be[_0x113abb(0xd0c)]()}),showView(_0x113abb(0x6c5)),studentInitialView[_0x113abb(0xb6d)]['add']('hidden'),_0x1337d5===_0x113abb(0x651)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x3eb4c4){console[_0x113abb(0xcb6)](_0x113abb(0xb45),_0x3eb4c4),sessionStorage['removeItem'](_0x113abb(0xe70));}}async function handleUsePowerup(_0x4e0260,_0x4e49d9,_0x4c955d,_0x31fb21,_0x26f1b3){const _0x5351a7=_0x4a01bc,_0x485be4=_0x31fb21[_0x5351a7(0x567)],_0xbc3c49=_0x5351a7(0xdb4)+_0x485be4+'_p'+_0x4e0260,_0x1b7107=sessionStorage['getItem'](_0xbc3c49);if(_0x1b7107&&_0x4e49d9!==_0x5351a7(0xcbd)&&_0x4e49d9!==_0x5351a7(0x200)){showMessage(_0x5351a7(0xc70));const _0x41e508=document['getElementById'](_0x5351a7(0x913)+_0x4e49d9);if(_0x41e508)_0x41e508[_0x5351a7(0x4b4)]=![];return;}if(_0x4e49d9===_0x5351a7(0xbdf)){sessionStorage['setItem'](_0xbc3c49,_0x4e49d9),playSystemSound(_0x5351a7(0xdc5)),renderStudentSyncQuestionView(_0x31fb21);return;}const _0x59d673=doc(db,'artifacts/'+appId+_0x5351a7(0x392)+currentLiveGameId+_0x5351a7(0x5b4),_0x4e0260);try{await runTransaction(db,async _0x409914=>{const _0xd4eedf=_0x5351a7,_0x3dd038=await _0x409914[_0xd4eedf(0x3b1)](_0x59d673);if(!_0x3dd038[_0xd4eedf(0xce9)]())throw _0xd4eedf(0x89a);const _0x186447=_0x3dd038['data'](),_0x3dffa9=_0x186447['powerups']||{},_0x3d173c=_0x3dffa9[_0x4e49d9]||0x0;if(_0x3d173c<=0x0)throw _0xd4eedf(0x417);const _0x1b71f4={};_0x1b71f4[_0xd4eedf(0xeba)+_0x4e49d9]=increment(-0x1);_0x4e49d9!==_0xd4eedf(0xbdf)&&(_0x1b71f4[_0xd4eedf(0x64c)]=0x0);if(_0x4e49d9===_0xd4eedf(0xcbd)){const _0xbce522=(_0x31fb21[_0xd4eedf(0x5c4)]||0xf0)*0x3e8,_0x5d79e1=_0xbce522*0.25;_0x1b71f4[_0xd4eedf(0x919)]=increment(_0x5d79e1);}_0x409914[_0xd4eedf(0x294)](_0x59d673,_0x1b71f4);}),_0x4e49d9===_0x5351a7(0x5ff)&&sessionStorage[_0x5351a7(0x924)](_0x5351a7(0x2f2),_0x5351a7(0x804)),_0x4e49d9!==_0x5351a7(0xcbd)&&_0x4e49d9!==_0x5351a7(0x200)&&sessionStorage[_0x5351a7(0x924)](_0xbc3c49,_0x4e49d9),playSystemSound('powerup'),applyPowerupEffect(_0x4e0260,_0x4e49d9,_0x4c955d,_0x31fb21,_0x26f1b3),(_0x4e49d9===_0x5351a7(0x2cb)||_0x4e49d9==='fiftyFifty'||_0x4e49d9===_0x5351a7(0xdfc)||_0x4e49d9===_0x5351a7(0x636))&&renderStudentSyncQuestionView(_0x31fb21),_0x4e49d9!==_0x5351a7(0xbdf)&&_0x26f1b3['correctStreak']>0x0&&showMessage('คุณใช้ตัวช่วย\x20\x22'+_0x4e49d9+_0x5351a7(0x354));}catch(_0x5dc8f8){console[_0x5351a7(0xcb6)](_0x5351a7(0x97b),_0x5dc8f8),showMessage(typeof _0x5dc8f8==='string'?_0x5dc8f8:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x4da392=document['getElementById'](_0x5351a7(0x913)+_0x4e49d9);if(_0x4da392)_0x4da392['disabled']=![];}}async function getCachedOtherPlayers(_0x20ce01,_0x1ed911){const _0x413985=_0x4a01bc,_0x14d118=_0x20ce01[_0x413985(0x567)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x14d118)return console[_0x413985(0x546)]('ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)'),cachedOtherPlayersForQuestion;console[_0x413985(0x546)](_0x413985(0xe7e));const _0x1fdfd6=collection(db,_0x413985(0x4b1)+appId+_0x413985(0x392)+currentLiveGameId+_0x413985(0x5b4)),_0x9b954c=query(_0x1fdfd6,where(_0x413985(0x531),'==',_0x413985(0x670))),_0x5f4674=await getDocs(_0x9b954c),_0x1952ea=[];return _0x5f4674[_0x413985(0x427)](_0x512f66=>{const _0x4e2515=_0x413985,_0x42014b=_0x512f66[_0x4e2515(0xd0c)]();_0x1952ea[_0x4e2515(0xe7d)](_0x42014b);}),cachedOtherPlayersForQuestion=_0x1952ea,cachedQuestionIndexForPlayers=_0x14d118,_0x1952ea;}async function applyPowerupEffect(_0x732bf5,_0x5cdc05,_0x54010e,_0x102faa,_0x4cb314){const _0x549185=_0x4a01bc,_0x538eee=_0x54010e,_0x3da376=_0x102faa['currentQuestionIndex'];switch(_0x5cdc05){case _0x549185(0xbdf):showMessage(_0x549185(0x20c));break;case _0x549185(0xae3):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;case _0x549185(0xcbd):const _0x2aeafe=(_0x102faa[_0x549185(0x5c4)]||0xf0)*0.25;showMessage(_0x549185(0xb65)+_0x2aeafe+'\x20วินาที');break;case _0x549185(0x2cb):case _0x549185(0x21a):const _0x2f1953=document['querySelectorAll'](_0x549185(0xabb));if(_0x2f1953['length']===0x0){showMessage(_0x549185(0xda7));return;}const _0x305130=_0x549185(0xb56)+_0x3da376+'_p'+_0x732bf5,_0x3b028a=JSON[_0x549185(0xf3e)](sessionStorage[_0x549185(0xe75)](_0x305130)||'[]');let _0x1cb9c8;const _0x3c70bc=_0x538eee[_0x549185(0x7ed)]||_0x102faa['shuffledQuiz']['quizType'];_0x3c70bc===_0x549185(0x446)?_0x1cb9c8=String(_0x538eee[_0x549185(0x315)])[_0x549185(0x2c0)]()===_0x549185(0x804)?0x0:0x1:_0x1cb9c8=_0x538eee[_0x549185(0xf16)];const _0x16f771=Array['from'](_0x2f1953)[_0x549185(0xc4c)](_0x2ede2e=>parseInt(_0x2ede2e[_0x549185(0x320)][_0x549185(0x68e)])!==_0x1cb9c8&&!_0x3b028a['includes'](_0x2ede2e[_0x549185(0x320)]['value']));if(_0x16f771[_0x549185(0x8ca)]===0x0){showMessage(_0x549185(0xcb3));return;}shuffleArray(_0x16f771);const _0x488253=_0x5cdc05===_0x549185(0x2cb)?0x1:0x2,_0x472d55=[];for(let _0x503c85=0x0;_0x503c85<_0x488253;_0x503c85++){_0x16f771[_0x503c85]&&(_0x16f771[_0x503c85]['classList'][_0x549185(0xa52)](_0x549185(0x599)),_0x472d55['push'](_0x16f771[_0x503c85][_0x549185(0x320)][_0x549185(0x68e)]));}const _0x2ae3c6=[..._0x3b028a,..._0x472d55];sessionStorage['setItem'](_0x305130,JSON[_0x549185(0x7ba)](_0x2ae3c6)),showMessage(_0x5cdc05===_0x549185(0x2cb)?_0x549185(0x81b):_0x549185(0xb58));break;default:showMessage(_0x549185(0xb9a)+_0x5cdc05+_0x549185(0x1f9));}}async function handleForceConfident(_0xc6f191,_0xdc2b0a){const _0x2ee243=_0x4a01bc;if(!currentLiveGameId||!_0xc6f191)return;const _0x264742=doc(db,_0x2ee243(0x4b1)+appId+_0x2ee243(0x392)+currentLiveGameId+_0x2ee243(0x5b4),_0xc6f191);try{await updateDoc(_0x264742,{'isForcedConfident':!![]}),showMessage(_0x2ee243(0x9df)+_0xdc2b0a+'\x20สำเร็จ!');}catch(_0x291004){console[_0x2ee243(0xcb6)](_0x2ee243(0x8f8),_0x291004),showMessage(_0x2ee243(0x84c));}}async function handleRefundPowerup(_0x430dbf,_0x514d50){const _0x4a4d8c=_0x4a01bc,_0x105978=doc(db,_0x4a4d8c(0x4b1)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x4a4d8c(0x5b4),_0x430dbf);try{const _0x1efe0b={};_0x1efe0b[_0x4a4d8c(0xeba)+_0x514d50]=increment(0x1),await updateDoc(_0x105978,_0x1efe0b),console['log'](_0x4a4d8c(0xc76)+_0x514d50+_0x4a4d8c(0x86f)+_0x430dbf);}catch(_0x350335){console[_0x4a4d8c(0xcb6)](_0x4a4d8c(0x995),_0x350335);}}async function handleApplyJinx(_0x12b111,_0x5ab753){const _0x3217d0=_0x4a01bc;if(!currentLiveGameId||!_0x12b111)return;const _0x1f7601=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x12b111);try{await updateDoc(_0x1f7601,{'isJinxed':!![]}),showMessage(_0x3217d0(0xd16)+_0x5ab753+_0x3217d0(0x7a6));}catch(_0x1b5705){console[_0x3217d0(0xcb6)](_0x3217d0(0x7f2),_0x1b5705),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x428410=_0x4a01bc,_0x5f17bd=document[_0x428410(0x657)]('generate-from-file-btn'),_0x233cf4=document[_0x428410(0x657)](_0x428410(0xb79)),_0x599193=document[_0x428410(0x657)](_0x428410(0x33c));selectedFile?_0x599193[_0x428410(0x536)]?(_0x5f17bd['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x5f17bd[_0x428410(0x4b4)]=![],_0x233cf4[_0x428410(0xb6d)][_0x428410(0xa52)]('hidden')):(_0x5f17bd[_0x428410(0x4b4)]=!![],_0x233cf4[_0x428410(0xb6d)][_0x428410(0xa52)](_0x428410(0x599)));}async function handleKickPlayerSync(_0x23c083){const _0x275725=_0x4a01bc;if(!currentLiveGameId||!_0x23c083)return;const _0x41084e=doc(db,_0x275725(0x4b1)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x23c083);try{await updateDoc(_0x41084e,{'status':'inactive'});}catch(_0x5e8faf){console['error'](_0x275725(0x57a)+_0x23c083+':',_0x5e8faf),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x167184,_0x3b6fa1){const _0x2259d2=_0x4a01bc,_0x508bc9=document[_0x2259d2(0x657)](_0x2259d2(0x78a));_0x508bc9[_0x2259d2(0x891)]=_0x2259d2(0x633);try{const _0x4c9966=collection(db,'artifacts/'+appId+_0x2259d2(0x8cb)),_0x359e54=query(_0x4c9966,where(_0x2259d2(0x401),'==',_0x167184)),_0x1fc09b=await getDocs(_0x359e54),_0x56466e=_0x1fc09b[_0x2259d2(0xb70)][_0x2259d2(0x823)](_0xa5ff51=>({'id':_0xa5ff51['id'],..._0xa5ff51[_0x2259d2(0xd0c)]()})),_0x27b4cf=_0x56466e[_0x2259d2(0x823)](_0x2ce084=>getDoc(doc(db,_0x2259d2(0x4b1)+appId+'/public/data/quizzes/'+_0x2ce084['id']+'/submissions',_0x3b6fa1))),_0x551f6c=await Promise['all'](_0x27b4cf),_0x3c12db=_0x551f6c[_0x2259d2(0xc4c)](_0x30e74e=>_0x30e74e[_0x2259d2(0xce9)]())['map'](_0x4c19ee=>({'quizId':_0x4c19ee[_0x2259d2(0xcff)][_0x2259d2(0xee0)]['parent']['id'],..._0x4c19ee[_0x2259d2(0xd0c)]()}));if(_0x3c12db['length']===0x0){_0x508bc9[_0x2259d2(0x891)]=_0x2259d2(0x47f);return;}let _0x2b6e7d='<div\x20class=\x22space-y-4\x22>';_0x3c12db[_0x2259d2(0x427)](_0x46918b=>{const _0x31a8bf=_0x2259d2,_0x5ac419=_0x56466e['find'](_0x4cfd3e=>_0x4cfd3e['id']===_0x46918b[_0x31a8bf(0x8a3)]),_0x47b448=_0x5ac419[_0x31a8bf(0xf0c)]?.[_0x31a8bf(0x69c)]||_0x31a8bf(0xad6),_0x2fd22e=_0x5ac419['settings']?.[_0x31a8bf(0x606)]??0x0,_0x12d03b=_0x46918b['bestScore']>=_0x2fd22e;let _0x38990b='',_0x34fa21='bg-gray-50';switch(_0x47b448){case _0x31a8bf(0xad6):case _0x31a8bf(0xbdb):_0x34fa21=_0x12d03b?_0x31a8bf(0xdb7):'bg-red-50',_0x38990b=_0x31a8bf(0x46a)+(_0x12d03b?'text-green-700':_0x31a8bf(0x5da))+'\x22>'+_0x46918b['bestScore']+'\x20/\x20'+_0x46918b[_0x31a8bf(0xb37)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x12d03b?'bg-green-200\x20text-green-800':_0x31a8bf(0x9ae))+'\x22>'+(_0x12d03b?_0x31a8bf(0xdd4):_0x31a8bf(0xdba))+_0x31a8bf(0x5e0);break;case _0x31a8bf(0x5c9):_0x34fa21=_0x12d03b?_0x31a8bf(0xdb7):_0x31a8bf(0xce5),_0x38990b=_0x31a8bf(0x558)+(_0x12d03b?_0x31a8bf(0xeff):_0x31a8bf(0x9ae))+'\x22>'+(_0x12d03b?_0x31a8bf(0xdd4):_0x31a8bf(0xdba))+_0x31a8bf(0x5e0);break;case _0x31a8bf(0x74e):_0x34fa21=_0x31a8bf(0x34e),_0x38990b=_0x31a8bf(0xa1a);break;}_0x2b6e7d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x34fa21+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x5ac419['topic']+_0x31a8bf(0x45b)+_0x46918b['attempts'][_0x31a8bf(0x8ca)]+_0x31a8bf(0xa22)+new Date(_0x46918b[_0x31a8bf(0xbd3)])[_0x31a8bf(0xc1f)](_0x31a8bf(0xf09))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38990b+_0x31a8bf(0x6c6);}),_0x2b6e7d+=_0x2259d2(0xbfc),_0x508bc9[_0x2259d2(0x891)]=_0x2b6e7d;}catch(_0x4854a8){console[_0x2259d2(0xcb6)]('Error\x20rendering\x20student\x20progress:',_0x4854a8),_0x508bc9[_0x2259d2(0x891)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x1f1820=''){const _0x305f42=_0x4a01bc,_0x310bd1=document[_0x305f42(0x657)](_0x305f42(0xc23)),_0x106f7d=_0x1f1820[_0x305f42(0x2c0)]()[_0x305f42(0x5b2)](),_0x3f5c4c=allQuizzesGlobal[_0x305f42(0x823)](_0x2d184c=>({..._0x2d184c,'projectName':allProjects[_0x305f42(0x1d5)](_0xaf0856=>_0xaf0856['id']===_0x2d184c[_0x305f42(0x401)])?.[_0x305f42(0x37f)]||'N/A'}))[_0x305f42(0xc4c)](_0x4ccf21=>(_0x4ccf21[_0x305f42(0xb1c)]||'')[_0x305f42(0x2c0)]()[_0x305f42(0x484)](_0x106f7d)||(_0x4ccf21[_0x305f42(0x37f)]||'')[_0x305f42(0x2c0)]()[_0x305f42(0x484)](_0x106f7d)||_0x4ccf21['id']['toString']()[_0x305f42(0x484)](_0x106f7d));_0x310bd1[_0x305f42(0x891)]=_0x3f5c4c[_0x305f42(0x8ca)]?_0x3f5c4c[_0x305f42(0x823)](_0x533de0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x533de0['id']+_0x305f42(0x923)+(_0x533de0[_0x305f42(0xb1c)]||_0x305f42(0x2af))+_0x305f42(0x6ff)+_0x533de0[_0x305f42(0x37f)]+_0x305f42(0xa10)+_0x533de0['id']+_0x305f42(0x6a3))['join'](''):_0x305f42(0x8aa),_0x310bd1[_0x305f42(0xb7a)]=()=>{const _0x33c2a7=_0x305f42,_0x5a33ff=document['querySelector'](_0x33c2a7(0x4ef));document[_0x33c2a7(0x657)](_0x33c2a7(0x6e8))['disabled']=!_0x5a33ff;};}function setupStudentProgressListeners(){const _0x381fd3=_0x4a01bc;document['getElementById'](_0x381fd3(0x1a8))[_0x381fd3(0xdc6)](_0x381fd3(0x4ca),showStudentProgressView),document[_0x381fd3(0x657)]('back-to-student-home-btn')[_0x381fd3(0xdc6)]('click',()=>{const _0xcf9b16=_0x381fd3;document[_0xcf9b16(0x657)](_0xcf9b16(0x226))['classList']['add']('hidden'),document['getElementById'](_0xcf9b16(0xbff))[_0xcf9b16(0xb6d)][_0xcf9b16(0x66f)]('hidden');});}async function startSkillPractice(_0x33f24d){const _0x5e597e=_0x4a01bc;studentResultArea[_0x5e597e(0xb6d)][_0x5e597e(0xa52)](_0x5e597e(0x599)),studentQuizArea[_0x5e597e(0x891)]=_0x5e597e(0xea4),studentQuizArea[_0x5e597e(0xb6d)]['remove'](_0x5e597e(0x599));try{const _0x2e8647=await getStandardizedTopic(_0x33f24d);console[_0x5e597e(0x546)](_0x5e597e(0xa9a)+_0x33f24d+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x2e8647+'\x22'),studentQuizArea[_0x5e597e(0x5cd)]('p')['textContent']=_0x5e597e(0xddf)+_0x2e8647+_0x5e597e(0x689);const _0x54a24b=collection(db,'artifacts/'+appId+_0x5e597e(0x695)),_0x155b09=query(_0x54a24b,where(_0x5e597e(0xb1c),'==',_0x2e8647)),_0xc0cf07=await getDocs(_0x155b09);if(_0xc0cf07[_0x5e597e(0xb70)][_0x5e597e(0x8ca)]>=0x3){console[_0x5e597e(0x546)](_0x5e597e(0xd29)+_0xc0cf07[_0x5e597e(0xb70)][_0x5e597e(0x8ca)]+_0x5e597e(0x51c)+_0x2e8647+_0x5e597e(0xeaa));let _0x1646e4=_0xc0cf07[_0x5e597e(0xb70)][_0x5e597e(0x823)](_0x12a486=>_0x12a486['data']());shuffleArray(_0x1646e4);const _0x1bcba2={'topic':_0x2e8647,'questions':_0x1646e4['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x1bcba2);}else{console[_0x5e597e(0x546)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x2e8647+_0x5e597e(0x227));const _0x5cfecb=await generatePracticeQuestions(_0x2e8647);await saveDrillToPracticeBank(_0x5cfecb,_0x2e8647),displaySkillPracticeDrill(_0x5cfecb);}}catch(_0x36cd9a){console['error'](_0x5e597e(0x638),_0x36cd9a),showMessage(_0x5e597e(0xcc1)),studentQuizArea[_0x5e597e(0xb6d)]['add']('hidden'),studentResultArea[_0x5e597e(0xb6d)][_0x5e597e(0x66f)]('hidden');}}async function saveDrillToPracticeBank(_0x39bcc9,_0x369cee){const _0x50657f=_0x4a01bc,_0x30d1d0=collection(db,'artifacts/'+appId+_0x50657f(0x695)),_0x23cc2a=writeBatch(db);_0x39bcc9['questions'][_0x50657f(0x427)](_0x954a93=>{const _0x446cd7=_0x50657f,_0x17b7db=doc(_0x30d1d0);_0x23cc2a['set'](_0x17b7db,{'topic':_0x369cee,'questionText':_0x954a93[_0x446cd7(0xbf2)],'options':_0x954a93[_0x446cd7(0x5e9)],'correctAnswerIndex':_0x954a93[_0x446cd7(0xf16)],'explanation':_0x954a93[_0x446cd7(0xa6b)],'createdAt':serverTimestamp()});});try{await _0x23cc2a[_0x50657f(0xb4a)](),console[_0x50657f(0x546)]('บันทึกคำถามใหม่\x20'+_0x39bcc9[_0x50657f(0x3ef)]['length']+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0xdca9f3){console[_0x50657f(0xcb6)](_0x50657f(0x253),_0xdca9f3);}}async function getStandardizedTopic(_0x36463c){const _0x1e5eee=_0x4a01bc,_0x1ad6ab=_0x1e5eee(0x7dc)+_0x36463c+_0x1e5eee(0x5fc),_0x1f9d02={'type':_0x1e5eee(0x73e),'properties':{'standardTopic':{'type':_0x1e5eee(0xcf1)}},'required':['standardTopic']};try{const _0xb69da9=await callAnalysisApi(_0x1ad6ab,_0x1f9d02);return _0xb69da9[_0x1e5eee(0x845)];}catch(_0x5d449a){return console[_0x1e5eee(0xcb6)](_0x1e5eee(0xc1b),_0x5d449a),_0x36463c;}}async function handleGenerateEasyVersionQuiz(_0x4aba5e){const _0x7c6c00=_0x4a01bc,_0x5d354b=document[_0x7c6c00(0x657)](_0x7c6c00(0xe9b)),_0x15781b=document[_0x7c6c00(0x657)]('project-quizzes-list');_0x15781b[_0x7c6c00(0xb6d)][_0x7c6c00(0xa52)](_0x7c6c00(0x599));const _0x4bdb31='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5d354b[_0x7c6c00(0xc14)]('beforeend',_0x4bdb31);try{const _0x65ee6e=allQuizzes[_0x7c6c00(0x1d5)](_0x36519a=>_0x36519a['id']===_0x4aba5e);if(!_0x65ee6e)throw new Error(_0x7c6c00(0x172));const _0x34a8bf=_0x7c6c00(0x3d2)+JSON['stringify'](_0x65ee6e[_0x7c6c00(0x3ef)])+_0x7c6c00(0x568),_0x362bf8={'type':_0x7c6c00(0x73e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x7c6c00(0xcf1)},'options':{'type':'ARRAY','items':{'type':_0x7c6c00(0xcf1)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x7c6c00(0xcf1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x7c6c00(0xcf1)}},'required':[_0x7c6c00(0xbf2),'questionType',_0x7c6c00(0xa6b)]},_0x491e95={'type':_0x7c6c00(0x73e),'properties':{'questions':{'type':'ARRAY','items':_0x362bf8}},'required':[_0x7c6c00(0x3ef)]},_0xc21a95=await callAnalysisApi(_0x34a8bf,_0x491e95);_0xc21a95&&_0xc21a95[_0x7c6c00(0x3ef)]&&_0xc21a95[_0x7c6c00(0x3ef)][_0x7c6c00(0x427)](_0x5accfd=>{const _0x3238e4=_0x7c6c00;if(_0x5accfd[_0x3238e4(0x3e5)](_0x3238e4(0x277))){const _0x25dfa9=String(_0x5accfd[_0x3238e4(0x277)])[_0x3238e4(0x5b2)]();(_0x25dfa9===''||_0x25dfa9['toLowerCase']()==='null'||!_0x25dfa9[_0x3238e4(0x1ce)](_0x3238e4(0x4a8)))&&delete _0x5accfd[_0x3238e4(0x277)];}});if(!_0xc21a95||!_0xc21a95['questions']||_0xc21a95[_0x7c6c00(0x3ef)][_0x7c6c00(0x8ca)]===0x0)throw new Error(_0x7c6c00(0xa26));const _0x4ae251=_0xc21a95['questions']['map']((_0x48b3fb,_0x277986)=>({..._0x48b3fb,'id':'q_'+Date[_0x7c6c00(0x42d)]()+'_'+_0x277986})),_0x5a69fa={'projectId':_0x65ee6e[_0x7c6c00(0x401)],'quizType':_0x65ee6e[_0x7c6c00(0x335)],'settings':_0x65ee6e[_0x7c6c00(0xf0c)],'createdBy':_0x65ee6e[_0x7c6c00(0x240)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x65ee6e[_0x7c6c00(0xb1c)],'questions':_0x4ae251,'createdAt':new Date()[_0x7c6c00(0xeca)](),'quizMode':'standard','pairedQuizId':null};let _0x1fc2eb;while(!![]){_0x1fc2eb=Math['floor'](0x3e8+Math[_0x7c6c00(0xf11)]()*0x2328)[_0x7c6c00(0x830)]();const _0x4e886d=await getDoc(doc(db,_0x7c6c00(0x4b1)+appId+'/public/data/quizzes',_0x1fc2eb));if(!_0x4e886d[_0x7c6c00(0xce9)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x7c6c00(0x8cb),_0x1fc2eb),_0x5a69fa),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x4a9331){console['error']('Error\x20generating\x20easy\x20version\x20quiz:',_0x4a9331),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4a9331[_0x7c6c00(0x9a1)]);}finally{const _0x3b8de8=document[_0x7c6c00(0x657)]('temp-loader-results');_0x3b8de8&&_0x3b8de8[_0x7c6c00(0x66f)](),_0x15781b[_0x7c6c00(0xb6d)][_0x7c6c00(0x66f)]('hidden');}}async function generatePracticeQuestions(_0x4b63e1){const _0x1aab6a=_0x4a01bc,_0x1f8044='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x4b63e1+_0x1aab6a(0x339)+simpleMathPrompt+_0x1aab6a(0x9ab),_0xbb3689={'type':_0x1aab6a(0x73e),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x1aab6a(0xcf1)}},'correctAnswerIndex':{'type':_0x1aab6a(0x24a)},'explanation':{'type':_0x1aab6a(0xcf1)}},'required':['questionText',_0x1aab6a(0x5e9),'correctAnswerIndex',_0x1aab6a(0xa6b)]},_0x11417a={'type':'OBJECT','properties':{'topic':{'type':_0x1aab6a(0xcf1)},'questions':{'type':'ARRAY','items':_0xbb3689}},'required':[_0x1aab6a(0xb1c),_0x1aab6a(0x3ef)]};return await callAnalysisApi(_0x1f8044,_0x11417a);}function displayLessonPlan(_0x11588f,_0x4ab8fb){const _0x4517e4=_0x4a01bc,_0xf120d6=_0x4517e4(0x346)+_0x4ab8fb[_0x4517e4(0xb1c)]+_0x4517e4(0x855)+_0x11588f['learningGaps'][_0x4517e4(0x823)](_0x2f94e8=>'<li>'+_0x2f94e8+_0x4517e4(0x7ab))['join']('')+_0x4517e4(0x582)+_0x11588f[_0x4517e4(0x4cd)]+_0x4517e4(0x768)+_0x11588f[_0x4517e4(0xda6)][_0x4517e4(0x823)](_0x4d23e3=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4d23e3[_0x4517e4(0xe3b)]+_0x4517e4(0x51f)+_0x4d23e3[_0x4517e4(0x99a)]+_0x4517e4(0x298))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x4517e4(0x657)](_0x4517e4(0xadd))[_0x4517e4(0x54c)]=_0x4517e4(0x580)+_0x4ab8fb[_0x4517e4(0xb1c)],document[_0x4517e4(0x657)](_0x4517e4(0x2fc))[_0x4517e4(0x891)]=_0xf120d6,document[_0x4517e4(0x657)](_0x4517e4(0x609))[_0x4517e4(0xb6d)][_0x4517e4(0x66f)](_0x4517e4(0x599));if(window['MathJax'])MathJax[_0x4517e4(0xdce)]();}function displaySkillPracticeDrill(_0xc88bed){const _0x1b81ca=_0x4a01bc;let _0x519324=0x0;const _0x205643=_0xc88bed[_0x1b81ca(0x3ef)],_0x5bdeb9=()=>{const _0x5a09e2=_0x1b81ca,_0x474931=_0x205643[_0x519324],_0x8dfd84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x519324+0x1)+_0x5a09e2(0xa47)+_0x205643['length']+_0x5a09e2(0x831)+_0x474931[_0x5a09e2(0xbf2)]+_0x5a09e2(0x7aa)+_0x474931[_0x5a09e2(0x5e9)]['map']((_0x19cd40,_0x23a143)=>_0x5a09e2(0x397)+_0x23a143+_0x5a09e2(0x46c)+_0x23a143+_0x5a09e2(0x88e)+_0x23a143+'\x22>'+_0x19cd40+_0x5a09e2(0x258))[_0x5a09e2(0x566)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x5a09e2(0x891)]=_0x8dfd84;if(window[_0x5a09e2(0x436)])MathJax[_0x5a09e2(0xdce)]([studentQuizArea]);document[_0x5a09e2(0x657)](_0x5a09e2(0x725))['addEventListener'](_0x5a09e2(0x4ca),async()=>{const _0x43619c=_0x5a09e2,_0x12033e=await getHintForQuestion(_0x474931[_0x43619c(0xbf2)]);showMessage(_0x12033e);}),document[_0x5a09e2(0x657)]('check-answer-btn')[_0x5a09e2(0xdc6)](_0x5a09e2(0x4ca),()=>{const _0x504f0c=_0x5a09e2,_0x3cfcb7=document[_0x504f0c(0x5cd)](_0x504f0c(0x2b2));if(!_0x3cfcb7){showMessage(_0x504f0c(0x3c1));return;}const _0x656cc1=document[_0x504f0c(0x657)](_0x504f0c(0x5bf)),_0x13be47=parseInt(_0x3cfcb7[_0x504f0c(0x68e)])===_0x474931[_0x504f0c(0xf16)];_0x13be47?(_0x656cc1[_0x504f0c(0x293)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x656cc1[_0x504f0c(0x891)]=_0x504f0c(0xac3)+_0x474931[_0x504f0c(0xa6b)]):(_0x656cc1[_0x504f0c(0x293)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x656cc1[_0x504f0c(0x891)]=_0x504f0c(0xc11)+_0x474931[_0x504f0c(0xa6b)]);_0x656cc1[_0x504f0c(0xb6d)][_0x504f0c(0x66f)](_0x504f0c(0x599));if(window[_0x504f0c(0x436)])MathJax[_0x504f0c(0xdce)]([_0x656cc1]);document[_0x504f0c(0x657)]('check-answer-btn')[_0x504f0c(0xb6d)][_0x504f0c(0xa52)]('hidden'),document[_0x504f0c(0x657)](_0x504f0c(0x725))[_0x504f0c(0xb6d)]['add'](_0x504f0c(0x599)),document['getElementById'](_0x504f0c(0x8b8))[_0x504f0c(0xb6d)]['remove'](_0x504f0c(0x599));}),document[_0x5a09e2(0x657)](_0x5a09e2(0x8b8))[_0x5a09e2(0xdc6)]('click',()=>{const _0xa2a4ec=_0x5a09e2;_0x519324++,_0x519324<_0x205643[_0xa2a4ec(0x8ca)]?_0x5bdeb9():(studentQuizArea[_0xa2a4ec(0x891)]=_0xa2a4ec(0x530),document[_0xa2a4ec(0x657)]('back-to-results-btn')[_0xa2a4ec(0xdc6)](_0xa2a4ec(0x4ca),()=>{const _0x484950=_0xa2a4ec;studentQuizArea[_0x484950(0xb6d)][_0x484950(0xa52)](_0x484950(0x599)),studentResultArea[_0x484950(0xb6d)][_0x484950(0x66f)](_0x484950(0x599));}));});};_0x5bdeb9();}async function getHintForQuestion(_0x46499e){const _0x42df67=_0x4a01bc,_0x47cdd8=_0x42df67(0xd68)+_0x46499e+_0x42df67(0x948),_0x46e629={'type':'OBJECT','properties':{'hint':{'type':_0x42df67(0xcf1)}},'required':[_0x42df67(0x647)]};try{const _0x825f3e=await callAnalysisApi(_0x47cdd8,_0x46e629);return _0x825f3e[_0x42df67(0x647)];}catch(_0x32609d){return console[_0x42df67(0xcb6)](_0x42df67(0x1ca),_0x32609d),_0x42df67(0x746);}}async function extractTextFromPdf(_0x1ad5b5){const _0x242441=_0x4a01bc;pdfjsLib['GlobalWorkerOptions'][_0x242441(0xd4a)]=_0x242441(0x171);const _0x42a753=await _0x1ad5b5[_0x242441(0xa4f)](),_0x59069f=await pdfjsLib[_0x242441(0x4ce)](_0x42a753)['promise'],_0xa775a3=_0x59069f[_0x242441(0xd9d)];let _0xc608ff='';for(let _0x17da69=0x1;_0x17da69<=_0xa775a3;_0x17da69++){const _0xef2fb9=await _0x59069f[_0x242441(0x4ae)](_0x17da69),_0x293222=await _0xef2fb9[_0x242441(0x55b)](),_0x443c8a=_0x293222[_0x242441(0x359)][_0x242441(0x823)](_0x337ca8=>_0x337ca8[_0x242441(0x3c9)])[_0x242441(0x566)]('\x20');_0xc608ff+=_0x443c8a+'\x0a\x0a';}return _0xc608ff;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x34ca20){const _0x46aa78=_0x4a01bc,_0x31098d=document[_0x46aa78(0x657)](_0x46aa78(0x38e)),_0x3f0289=document[_0x46aa78(0x657)](_0x46aa78(0xbbf)),_0x38018a=document[_0x46aa78(0x657)](_0x46aa78(0x1c0));_0x31098d['classList']['remove'](_0x46aa78(0x599)),_0x3f0289['innerHTML']=_0x46aa78(0x9a6),_0x38018a[_0x46aa78(0xb6d)][_0x46aa78(0xa52)]('hidden');try{const _0x402850='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x34ca20+_0x46aa78(0x87b),_0x2cc6af={'type':_0x46aa78(0x73e),'properties':{'gradeLevel':{'type':_0x46aa78(0xcf1)},'curriculum':{'type':'ARRAY','items':{'type':_0x46aa78(0x73e),'properties':{'sara':{'type':_0x46aa78(0xcf1)},'mainTopics':{'type':_0x46aa78(0x614),'items':{'type':_0x46aa78(0x73e),'properties':{'topicName':{'type':_0x46aa78(0xcf1)},'subTopics':{'type':_0x46aa78(0x614),'items':{'type':_0x46aa78(0xcf1)}}},'required':[_0x46aa78(0x325),'subTopics']}}},'required':[_0x46aa78(0x4d7),_0x46aa78(0x795)]}}},'required':[_0x46aa78(0xac4),_0x46aa78(0xd3d)]},_0x458632=await callAnalysisApi(_0x402850,_0x2cc6af);if(_0x458632&&_0x458632[_0x46aa78(0xd3d)])extractedBlueprintData=_0x458632,renderBlueprintTopics(_0x458632),_0x38018a[_0x46aa78(0xb6d)][_0x46aa78(0x66f)]('hidden');else throw new Error(_0x46aa78(0x1ec));}catch(_0x3a05d0){console['error'](_0x46aa78(0xbb5),_0x3a05d0),_0x3f0289[_0x46aa78(0x891)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x377a96){const _0x161fe3=_0x4a01bc,_0x3b0625=document[_0x161fe3(0x657)](_0x161fe3(0xbbf)),_0x50809e=_0x377a96[_0x161fe3(0xac4)],_0x337097=_0x161fe3(0x825)+_0x50809e+_0x161fe3(0xf01);let _0x4ae444='';_0x377a96['curriculum'][_0x161fe3(0x427)](_0x58793c=>{const _0x4d42de=_0x161fe3;_0x4ae444+=_0x4d42de(0x540)+_0x58793c[_0x4d42de(0x4d7)]+_0x4d42de(0xc2a),_0x58793c[_0x4d42de(0x795)][_0x4d42de(0x427)](_0x57a39b=>{const _0x234113=_0x4d42de;_0x4ae444+=_0x234113(0x1b1)+_0x57a39b[_0x234113(0x325)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x57a39b[_0x234113(0x9d0)][_0x234113(0x427)](_0x467f9b=>{const _0x3af6b=_0x234113;_0x4ae444+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x467f9b[_0x3af6b(0xdf2)](/'/g,'\x5c\x27')+_0x3af6b(0xaa2)+_0x50809e[_0x3af6b(0xdf2)](/'/g,'\x5c\x27')+_0x3af6b(0x9a2)+_0x467f9b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x467f9b['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x4ae444+='</div></div>';}),_0x4ae444+=_0x4d42de(0xbfc);}),_0x3b0625[_0x161fe3(0x891)]=_0x337097+_0x4ae444;}async function handleGenerateTeachingContent(_0x3c6e0c){const _0xf5e78e=_0x4a01bc,_0x3a20a7=document[_0xf5e78e(0x657)](_0xf5e78e(0x609)),_0x306905=document[_0xf5e78e(0x657)](_0xf5e78e(0x2fc));document[_0xf5e78e(0x657)](_0xf5e78e(0xadd))[_0xf5e78e(0x54c)]=_0xf5e78e(0x8a4)+_0x3c6e0c,_0x306905[_0xf5e78e(0x891)]=_0xf5e78e(0x2e8),_0x3a20a7[_0xf5e78e(0xb6d)][_0xf5e78e(0x66f)](_0xf5e78e(0x599));try{const _0x1c3884='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x3c6e0c+_0xf5e78e(0x654),_0xc8ce53={'type':_0xf5e78e(0x73e),'properties':{'keyConcepts':{'type':_0xf5e78e(0x614),'items':{'type':_0xf5e78e(0xcf1)}},'commonMistakes':{'type':_0xf5e78e(0x614),'items':{'type':_0xf5e78e(0xcf1)}},'stepByStepExamples':{'type':_0xf5e78e(0x614),'items':{'type':_0xf5e78e(0x73e),'properties':{'question':{'type':_0xf5e78e(0xcf1)},'solution':{'type':_0xf5e78e(0xcf1)}},'required':[_0xf5e78e(0xe3b),_0xf5e78e(0x99a)]}},'teacherTips':{'type':_0xf5e78e(0x614),'items':{'type':_0xf5e78e(0xcf1)}}},'required':[_0xf5e78e(0x281),_0xf5e78e(0x34d),'stepByStepExamples','teacherTips']},_0x462ba6=await callAnalysisApi(_0x1c3884,_0xc8ce53);displayTeachingContent(_0x462ba6,_0x3c6e0c);}catch(_0x4f4e0c){console['error'](_0xf5e78e(0x43d),_0x4f4e0c),_0x306905[_0xf5e78e(0x891)]=_0xf5e78e(0x842)+_0x4f4e0c[_0xf5e78e(0x9a1)]+_0xf5e78e(0xcec);}}function displayTeachingContent(_0x488a85,_0x2e9480){const _0x175921=_0x4a01bc,_0x48d07f=document['getElementById']('lesson-plan-content');document[_0x175921(0x657)](_0x175921(0xadd))[_0x175921(0x54c)]=_0x175921(0xb2a)+_0x2e9480;const _0x3bdb81=_0x175921(0x8a7)+_0x488a85[_0x175921(0x281)][_0x175921(0x823)](_0x1f3ade=>_0x175921(0x1c9)+_0x1f3ade+_0x175921(0x7ab))[_0x175921(0x566)]('')+_0x175921(0x3cf)+_0x488a85[_0x175921(0x34d)][_0x175921(0x823)](_0x2be83a=>_0x175921(0x1c9)+_0x2be83a+_0x175921(0x7ab))[_0x175921(0x566)]('')+_0x175921(0x2f3)+_0x488a85[_0x175921(0x7bd)]['map'](_0x1dc756=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x1dc756[_0x175921(0xe3b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x1dc756['solution']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x488a85['teacherTips'][_0x175921(0x823)](_0xcff4bd=>_0x175921(0x1c9)+_0xcff4bd+'</li>')[_0x175921(0x566)]('')+_0x175921(0x3a6);_0x48d07f[_0x175921(0x891)]=_0x3bdb81;if(window[_0x175921(0x436)])MathJax[_0x175921(0xdce)]([_0x48d07f]);}async function generateQuizForSingleTopic(_0x51fab6){const _0x19975b=_0x4a01bc;console['log'](_0x19975b(0x68b)+_0x51fab6+'\x22');const _0x341036=document[_0x19975b(0x657)](_0x19975b(0xe4e)),_0x263917=_0x341036[_0x19975b(0x3a5)][_0x19975b(0x8ca)]>0x0?_0x341036[_0x19975b(0x3a5)][0x0]:null;let _0x35ddc4=null;if(_0x263917)try{const _0x533c72=new FileReader();_0x533c72[_0x19975b(0x6d9)](_0x263917);const _0xbf74df=await new Promise((_0x153d38,_0x50871a)=>{const _0x24924d=_0x19975b;_0x533c72['onload']=()=>_0x153d38(_0x533c72['result']['split'](',')[0x1]),_0x533c72[_0x24924d(0xa4c)]=_0x845191=>_0x50871a(_0x845191);});_0x35ddc4=[{'inlineData':{'mimeType':_0x263917[_0x19975b(0xd6c)],'data':_0xbf74df}}];}catch(_0x1b10f5){console[_0x19975b(0xcb6)](_0x19975b(0x7b8),_0x1b10f5),showMessage(_0x19975b(0x763));return;}generateQuiz(_0x51fab6,null,null,_0x35ddc4,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x115b05=null){const _0x2d8942=_0x4a01bc,_0x17bcb6=document[_0x2d8942(0x657)]('loader'),_0x1c8fc8=document[_0x2d8942(0x657)](_0x2d8942(0x616));let _0x34a680,_0x1a33a0=[];if(_0x115b05)_0x34a680=_0x115b05,_0x1a33a0=_0x34a680[_0x2d8942(0xe0b)](0x2);else{const _0x45a92f=document['getElementById'](_0x2d8942(0xe44)),_0x52d7a3=document['getElementById']('reference-pdf-upload'),_0x2a357e=_0x45a92f['files'][0x0];if(!_0x2a357e){showMessage(_0x2d8942(0xded));return;}_0x1c8fc8[_0x2d8942(0x54c)]=_0x2d8942(0xd42);const _0x464e33=await new Promise((_0x5592f1,_0x4a5678)=>{const _0x9dc9dd=_0x2d8942,_0x1c0917=new FileReader();_0x1c0917[_0x9dc9dd(0x6d9)](_0x2a357e),_0x1c0917['onload']=()=>_0x5592f1(_0x1c0917[_0x9dc9dd(0x3fa)][_0x9dc9dd(0x805)](',')[0x1]),_0x1c0917['onerror']=_0x4a5678;});_0x34a680=[{'text':_0x2d8942(0x3a7)},{'inlineData':{'mimeType':_0x2a357e['type'],'data':_0x464e33}}];if(_0x52d7a3[_0x2d8942(0x3a5)]['length']>0x0){const _0x1f95a3=_0x52d7a3[_0x2d8942(0x3a5)][0x0];_0x1c8fc8['textContent']=_0x2d8942(0xc96);const _0x473056=await new Promise((_0x2d94d9,_0x296bb7)=>{const _0x39029b=_0x2d8942,_0x26e655=new FileReader();_0x26e655[_0x39029b(0x6d9)](_0x1f95a3),_0x26e655[_0x39029b(0x9ee)]=()=>_0x2d94d9(_0x26e655['result']['split'](',')[0x1]),_0x26e655[_0x39029b(0xa4c)]=_0x296bb7;}),_0x517fbd={'inlineData':{'mimeType':_0x1f95a3[_0x2d8942(0xd6c)],'data':_0x473056}};_0x34a680[_0x2d8942(0xe7d)](_0x517fbd),_0x1a33a0[_0x2d8942(0xe7d)](_0x517fbd);}}const _0x5186ec='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a',_0x24412b=_0x2d8942(0x42a);let _0x3ac448='';_0x1a33a0&&_0x1a33a0[_0x2d8942(0x8ca)]>0x0?_0x3ac448=_0x5186ec:_0x3ac448=_0x24412b;const _0x322f0b=_0x2d8942(0x9db)+_0x3ac448+_0x2d8942(0x8e1),_0x43ae90={'type':_0x2d8942(0x73e),'properties':{'questionText':{'type':_0x2d8942(0xcf1)},'questionType':{'type':_0x2d8942(0xcf1),'enum':[_0x2d8942(0xa7c),_0x2d8942(0x190),_0x2d8942(0x446),_0x2d8942(0xd13)]},'options':{'type':'ARRAY','items':{'type':_0x2d8942(0xcf1)}},'correctAnswerIndex':{'type':_0x2d8942(0x24a)},'idealAnswer':{'type':_0x2d8942(0xcf1)},'correctAnswer':{'type':_0x2d8942(0x9b7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2d8942(0xcf1)}},'required':[_0x2d8942(0x7ed),'explanation']},_0x4fb2f9={'type':_0x2d8942(0x73e),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2d8942(0x614),'items':_0x43ae90}},'required':[_0x2d8942(0xb1c),_0x2d8942(0x3ef)]};_0x34a680[0x0][_0x2d8942(0xe09)]=_0x322f0b,await handleApiCall(_0x34a680,_0x2d8942(0x8b2),_0x4fb2f9);}function proceedToNextQuestion(_0x9ec0a3){const _0x2fad7a=_0x4a01bc;studentAnswersPerQuestion['push'](_0x9ec0a3),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2fad7a(0x3ef)][_0x2fad7a(0x8ca)]?finalizePerQuestionQuiz():renderPerQuestionView();}function getCentralPotHTML(_0x298a43){const _0x2dab3f=_0x4a01bc,_0x3655ec=_0x298a43[_0x2dab3f(0xb00)]||0x0,_0x313bdf=_0x298a43[_0x2dab3f(0x744)]===!![];if(!_0x313bdf)return'';if(_0x3655ec===0x0)return _0x2dab3f(0x6a5);return _0x2dab3f(0x332)+_0x3655ec[_0x2dab3f(0x6bb)]()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function renderAdminSyncDashboard(_0x45aa05,_0x29f906,_0x44cccc){const _0x105610=_0x4a01bc,_0x3ce132=Object[_0x105610(0x7ef)](_0x45aa05[_0x105610(0x4f7)]||{}),_0x5de0e1=_0x3ce132['length'],_0x11fd85=_0x44cccc,_0x3f758b=_0x45aa05[_0x105610(0x97e)]||_0x105610(0x890),_0x5f109e=_0x3f758b==='anonymous'||_0x3f758b===_0x105610(0x2fb),_0x431457=_0x3f758b===_0x105610(0x199)||_0x3f758b===_0x105610(0x2fb),_0x4859f4=_0x45aa05['isAnonymousRevealed']===!![],_0x827e88=_0x3f758b===_0x105610(0x3ee),_0x48d710=_0x45aa05['shuffledQuiz'][_0x105610(0x3ef)],_0x23b8d4=_0x48d710[_0x11fd85],_0x1ba9d1=_0xa12dbc=>String['fromCharCode'](0x41+_0xa12dbc),_0x1d2314=_0x3ce132[_0x105610(0x823)](_0x24f5e5=>{const _0x42e649=_0x105610,_0x526ba1=(_0x24f5e5[_0x42e649(0xbd1)]||[])[_0x42e649(0xc4c)](_0x3e2a42=>{const _0x4319ba=_0x42e649;if(_0x431457)return _0x3e2a42[_0x4319ba(0x683)]<=_0x11fd85;return!![];});let _0x52388a=0x0,_0x2c50b6=0x0;_0x431457?(_0x52388a=_0x526ba1['filter'](_0x424ded=>_0x424ded[_0x42e649(0x41b)])[_0x42e649(0x8ca)],_0x2c50b6=_0x526ba1['reduce']((_0x58dbc2,_0xf1d4ba)=>_0x58dbc2+(_0xf1d4ba[_0x42e649(0x4e9)]||0x0),0x0)):(_0x52388a=_0x24f5e5[_0x42e649(0x43c)]||0x0,_0x2c50b6=_0x24f5e5[_0x42e649(0x2e5)]||0x0);const _0x3890c1=[..._0x526ba1][_0x42e649(0xc1a)]((_0x8602f,_0x2f0a31)=>_0x8602f[_0x42e649(0x683)]-_0x2f0a31[_0x42e649(0x683)]);let _0x1eda2a=0x0;return _0x3890c1[_0x42e649(0x427)](_0x1c1f6c=>{const _0x367707=_0x42e649,_0x14f925=_0x1c1f6c[_0x367707(0xd19)]&&_0x1c1f6c['powerupUsed']!=='wagerMultiplier'||_0x1c1f6c['usedBuyTime'];_0x1c1f6c['isCorrect']?_0x14f925?_0x1eda2a=0x0:_0x1eda2a++:_0x1eda2a=0x0;}),{..._0x24f5e5,'realScore':_0x52388a,'totalPoints':_0x2c50b6,'answers':_0x526ba1,'correctStreak':_0x1eda2a};}),_0x59e3df=Math['max'](..._0x1d2314[_0x105610(0x823)](_0x44b0b6=>_0x44b0b6[_0x105610(0x2e5)]),-Infinity),_0x458dbf=Math[_0x105610(0xf23)](..._0x1d2314['map'](_0x4f2eed=>_0x4f2eed['realScore']),-Infinity),_0x547e11=_0x45aa05['isBlackMarketEnabled']===!![],_0x1a8e6d=[..._0x1d2314]['sort']((_0x395f5e,_0x2d95a5)=>{const _0x32b2be=_0x105610;if(_0x547e11){const _0x4e0aa7=_0x2d95a5[_0x32b2be(0x2e5)]-_0x395f5e[_0x32b2be(0x2e5)];if(_0x4e0aa7!==0x0)return _0x4e0aa7;const _0x54816b=_0x2d95a5['realScore']-_0x395f5e[_0x32b2be(0x7d5)];if(_0x54816b!==0x0)return _0x54816b;return(_0x395f5e[_0x32b2be(0x9ce)]||'')['localeCompare'](_0x2d95a5[_0x32b2be(0x9ce)]||'','th');}else{const _0x2f875d=_0x2d95a5[_0x32b2be(0x2e5)]-_0x395f5e[_0x32b2be(0x2e5)];if(_0x2f875d!==0x0)return _0x2f875d;const _0x1e8b2f=_0x2d95a5[_0x32b2be(0x7d5)]-_0x395f5e[_0x32b2be(0x7d5)];if(_0x1e8b2f!==0x0)return _0x1e8b2f;return(_0x395f5e[_0x32b2be(0x9ce)]||'')['localeCompare'](_0x2d95a5['name']||'','th');}});let _0x4ef7f0=0x1;for(let _0x1aea4e=0x0;_0x1aea4e<_0x1a8e6d[_0x105610(0x8ca)];_0x1aea4e++){if(_0x1aea4e>0x0){const _0x189d95=_0x1a8e6d[_0x1aea4e-0x1],_0x303dfc=_0x1a8e6d[_0x1aea4e];let _0x270aa9=![];_0x547e11?_0x270aa9=_0x303dfc[_0x105610(0x2e5)]===_0x189d95[_0x105610(0x2e5)]&&_0x303dfc['realScore']===_0x189d95[_0x105610(0x7d5)]:_0x270aa9=_0x303dfc['totalPoints']===_0x189d95[_0x105610(0x2e5)]&&_0x303dfc[_0x105610(0x7d5)]===_0x189d95[_0x105610(0x7d5)],!_0x270aa9&&(_0x4ef7f0=_0x1aea4e+0x1);}_0x1a8e6d[_0x1aea4e][_0x105610(0xb04)]=_0x4ef7f0;}let _0x224102='';const _0x3ed3a9=!_0x827e88&&!(_0x5f109e&&_0x45aa05['showAnswerInAnonymous']===![]);if(_0x23b8d4&&_0x3ed3a9){let _0x447ac0='',_0x21f8aa='';const _0x3ba958=_0x23b8d4['questionType']||_0x45aa05[_0x105610(0x7ce)]['quizType'];if(_0x3ba958===_0x105610(0xa7c)&&_0x23b8d4[_0x105610(0x5e9)]){const _0x6e895a=_0x23b8d4[_0x105610(0xf16)];_0x447ac0=_0x23b8d4[_0x105610(0x5e9)][_0x6e895a],_0x21f8aa=_0x1ba9d1(_0x6e895a)+'.';}else{if(_0x3ba958==='true_false'){const _0x27a763=String(_0x23b8d4[_0x105610(0x315)])['toLowerCase']()===_0x105610(0x804);_0x447ac0=_0x27a763?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด',_0x21f8aa=_0x27a763?'ก.':'ข.';}else{if(_0x3ba958===_0x105610(0xd13))_0x447ac0=_0x23b8d4[_0x105610(0xdf0)]||'-';else(_0x3ba958===_0x105610(0x190)||_0x3ba958===_0x105610(0x467))&&(_0x447ac0=_0x23b8d4[_0x105610(0x9c1)]||'-');}}_0x447ac0&&(_0x224102=_0x105610(0xe91)+(_0x11fd85+0x1)+_0x105610(0x755)+_0x21f8aa+'\x20'+_0x447ac0+_0x105610(0x9e4));}const _0x27a454=_0x1a8e6d[_0x105610(0x823)]((_0x4363f8,_0x574b6f)=>{const _0xd8e0c1=_0x105610,_0x1fd577=_0x4363f8['realScore'],_0x39826d=_0x4363f8[_0xd8e0c1(0x2e5)],_0x4fd187=(_0x4363f8[_0xd8e0c1(0xbd1)]||[])[_0xd8e0c1(0x1d5)](_0x39b774=>_0x39b774[_0xd8e0c1(0x683)]===_0x44cccc),_0x41295f=_0x4363f8[_0xd8e0c1(0xbd1)][_0xd8e0c1(0x8ca)];let _0xa19649='';_0x4fd187&&_0x4fd187[_0xd8e0c1(0x21f)]>0x0&&(_0xa19649=_0xd8e0c1(0x3fc)+_0x4fd187[_0xd8e0c1(0x21f)]+'\x20Pot</span>');let _0x28c983='';if(_0x4fd187){if(_0x4fd187[_0xd8e0c1(0x74a)])_0x28c983+=_0xd8e0c1(0xe4a);if(_0x4fd187[_0xd8e0c1(0xf3b)])_0x28c983+=_0xd8e0c1(0x408);if(_0x4fd187['usedBuyTime'])_0x28c983+=_0xd8e0c1(0x9a0);const _0x2315ab=_0x4fd187[_0xd8e0c1(0xd19)];if(_0x2315ab){const _0x599c49={'poll':'📊','cutOne':'✂️','insurance':_0xd8e0c1(0x2c9),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0xd8e0c1(0x1d2)};if(_0x599c49[_0x2315ab])_0x28c983+=_0xd8e0c1(0x192)+_0x599c49[_0x2315ab]+_0xd8e0c1(0x5b0);}}let _0x21fd50='';const _0x8135f8=_0x4363f8['correctStreak']||0x0,_0x8b60e=_0x4fd187&&_0x4fd187['usedBuyTime'],_0x306092=_0x4fd187&&_0x4fd187[_0xd8e0c1(0xd19)]&&_0x4fd187['powerupUsed']!==_0xd8e0c1(0xbdf);!_0x827e88&&_0x8135f8>=0x3&&!_0x8b60e&&!_0x306092&&(_0x21fd50+=_0xd8e0c1(0x3f5)+_0x8135f8+_0xd8e0c1(0x5b0));if(!_0x827e88&&_0x41295f>0x0){if(_0x547e11){if(_0x39826d===_0x59e3df&&_0x59e3df>0x0)_0x21fd50+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x1fd577===_0x458dbf&&_0x458dbf>0x0)_0x21fd50+=_0xd8e0c1(0xd9e);}else{const _0x1e540e=_0x4363f8['realScore']===_0x44cccc+0x1;if(_0x1e540e)_0x21fd50+=_0xd8e0c1(0x679);}if(_0x21fd50===''&&_0x39826d<0x0)_0x21fd50+=_0xd8e0c1(0x5c5);}let _0x4dbc6d=_0xd8e0c1(0xb09),_0x52e339=![],_0x459c65=![];if(!_0x827e88){const _0xdac060=(_0x4363f8[_0xd8e0c1(0xbd1)]||[])[_0xd8e0c1(0x1d5)](_0x3bc09b=>_0x3bc09b[_0xd8e0c1(0x683)]===_0x11fd85);if(_0xdac060){const _0x34ffba=_0xdac060[_0xd8e0c1(0x41b)],_0x201c48=_0xdac060[_0xd8e0c1(0x2b8)]===!![]||_0xdac060[_0xd8e0c1(0x2b8)]===_0xd8e0c1(0xe13),_0x1a9000=_0xdac060[_0xd8e0c1(0xd19)];if(_0x1a9000==='wagerMultiplier')_0x34ffba?(_0x4dbc6d=_0xd8e0c1(0xdb9),_0x52e339=!![]):(_0x4dbc6d='bg-red-700\x20text-white\x20font-bold',_0x459c65=!![]);else{if(_0x201c48)_0x4dbc6d=_0x34ffba?_0xd8e0c1(0xd31):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x34ffba&&(_0x4dbc6d=_0xd8e0c1(0x9da));}}}let _0x1d5efe='';const _0x54e038=_0x4363f8[_0xd8e0c1(0x9ce)],_0x236f86=_0x45aa05[_0xd8e0c1(0x7cc)][_0x4363f8[_0xd8e0c1(0x9ce)]]||'???',_0x2c3bdb=_0xd8e0c1(0xa99),_0x17cbf4=_0xd8e0c1(0x9c9),_0x47c93c=_0x52e339?'text-yellow-800':_0xd8e0c1(0xe95);let _0x1a3e7b='';const _0x79788=_0x39826d>=0x0?'(+'+_0x39826d[_0xd8e0c1(0x6bb)]()+')':'('+_0x39826d[_0xd8e0c1(0x6bb)]()+')',_0x33b69e=_0xd8e0c1(0xc78)+_0x1fd577+_0xd8e0c1(0x522)+_0x79788+'\x20'+_0xa19649+_0xd8e0c1(0xb94);if(_0x29f906){if(_0x5f109e&&!_0x4859f4)_0x459c65?_0x1d5efe=_0xd8e0c1(0x7af)+_0x2c3bdb+_0xd8e0c1(0x9bc)+_0x54e038+'\x20('+_0x236f86+_0xd8e0c1(0xe8e)+_0x17cbf4+'\x22>'+_0x54e038+_0xd8e0c1(0x32a)+_0x28c983+'\x20'+_0x21fd50+_0xd8e0c1(0xb47)+_0x47c93c+_0xd8e0c1(0x62f)+_0x17cbf4+_0xd8e0c1(0x86a)+_0x236f86+_0xd8e0c1(0x2db):_0x1d5efe='<div\x20style=\x22'+_0x2c3bdb+_0xd8e0c1(0x9bc)+_0x236f86+_0xd8e0c1(0x305)+_0x17cbf4+'\x22>'+_0x236f86+_0xd8e0c1(0x32a)+_0x28c983+'\x20'+_0x21fd50+'</div>',_0x1a3e7b=_0x33b69e;else{if(_0x5f109e&&_0x4859f4)_0x1d5efe=_0xd8e0c1(0x7af)+_0x2c3bdb+'\x22\x20title=\x22'+_0x54e038+_0xd8e0c1(0x305)+_0x17cbf4+'\x22>'+_0x54e038+_0xd8e0c1(0x32a)+_0x28c983+'\x20'+_0x21fd50+_0xd8e0c1(0xb47)+_0x47c93c+'\x22\x20style=\x22'+_0x17cbf4+_0xd8e0c1(0x86a)+_0x236f86+_0xd8e0c1(0x2db),_0x1a3e7b=_0x33b69e;else _0x827e88?(_0x1d5efe=_0xd8e0c1(0x7af)+_0x2c3bdb+_0xd8e0c1(0x9bc)+_0x54e038+_0xd8e0c1(0x305)+_0x17cbf4+'\x22>'+_0x54e038+_0xd8e0c1(0x32a)+_0x28c983+'\x20'+_0x21fd50+'</div>',_0x1a3e7b=''):(_0x1d5efe='<div\x20style=\x22'+_0x2c3bdb+_0xd8e0c1(0x9bc)+_0x54e038+_0xd8e0c1(0x305)+_0x17cbf4+'\x22>'+_0x54e038+_0xd8e0c1(0x32a)+_0x28c983+'\x20'+_0x21fd50+'</div>',_0x1a3e7b=_0x33b69e);}}return _0xd8e0c1(0xa48)+_0x4dbc6d+_0xd8e0c1(0xd28)+_0x4363f8[_0xd8e0c1(0xb04)]+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d5efe+_0xd8e0c1(0xef5)+_0x1a3e7b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x105610(0x566)](''),_0x52e40=_0x48d710[_0x105610(0x823)]((_0x579d9a,_0x53fe89)=>{const _0x25013c=_0x105610;if(_0x431457&&_0x53fe89>_0x11fd85||_0x827e88)return'';const _0xb9d9c2=_0x1d2314['filter'](_0x33aba6=>_0x33aba6[_0x25013c(0xbd1)]&&_0x33aba6[_0x25013c(0xbd1)]['find'](_0x4c9072=>_0x4c9072[_0x25013c(0x683)]===_0x53fe89&&_0x4c9072[_0x25013c(0x41b)]))[_0x25013c(0x8ca)],_0x322b36=_0x53fe89===_0x11fd85,_0x3d0488=_0x322b36?_0x25013c(0xdd9):_0x25013c(0xad2);return _0x25013c(0xb35)+_0x3d0488+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x53fe89+0x1)+_0x25013c(0x63a)+_0xb9d9c2+_0x25013c(0xa47)+_0x5de0e1+_0x25013c(0x917);})[_0x105610(0x566)]('');let _0x425bf1='',_0x48ce0f='';if(_0x29f906){const _0x2b3460=_0x3f758b===_0x105610(0x890)&&_0x45aa05[_0x105610(0x567)]>=_0x48d710[_0x105610(0x8ca)]-0x1,_0x12d490=_0x431457&&_0x45aa05[_0x105610(0x76d)]>=_0x48d710[_0x105610(0x8ca)]-0x1,_0x1043ef=_0x3f758b==='competition'&&_0x45aa05['currentQuestionIndex']>=_0x48d710['length']-0x1,_0x73df4d=_0x5f109e&&!_0x431457&&_0x45aa05[_0x105610(0x567)]>=_0x48d710['length']-0x1;if(_0x431457)_0x12d490?_0x5f109e&&!_0x4859f4?_0x425bf1=_0x105610(0x2a8):_0x425bf1=_0x105610(0x368):_0x425bf1=_0x105610(0x48c);else _0x2b3460||_0x1043ef||_0x73df4d?_0x5f109e&&!_0x4859f4?_0x425bf1=_0x105610(0x2a8):_0x425bf1=_0x105610(0x368):_0x425bf1=_0x105610(0x600);_0x48ce0f='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0xb99952=_0x827e88||_0x5f109e&&!_0x45aa05[_0x105610(0xcac)]?'':_0x105610(0x5e5)+_0x52e40+_0x105610(0x502),_0x160b61=_0x827e88||_0x5f109e&&!_0x45aa05['showAnswerInAnonymous']?_0x105610(0x7f8):_0x105610(0xd36),_0x58ac19=getCentralPotHTML(_0x45aa05),_0x3f121f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x45aa05[_0x105610(0x7ce)][_0x105610(0xb1c)]+_0x105610(0x4bb)+_0x45aa05[_0x105610(0x7a7)]+_0x105610(0xbdc)+_0x58ac19+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48ce0f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x224102+_0x105610(0x265)+_0x160b61+_0x105610(0x7f3)+(_0x27a454||_0x105610(0x961))+_0x105610(0x980)+_0xb99952+_0x105610(0x9c6)+(_0x29f906?_0x105610(0x53b)+_0x425bf1+_0x105610(0xbfc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x105610(0x891)]=_0x3f121f;if(window[_0x105610(0x436)]){const _0x150daa=document[_0x105610(0x657)](_0x105610(0x735));_0x150daa&&MathJax[_0x105610(0xdce)]([_0x150daa]);}if(_0x29f906){const _0x3410e6=document[_0x105610(0x657)](_0x105610(0x759));_0x3410e6&&(_0x3410e6[_0x105610(0x385)]=async()=>{const _0x62c03a=_0x105610,_0x26e1a3=doc(db,_0x62c03a(0x4b1)+appId+'/public/data/syncGames',currentLiveGameId),_0x470048=_0x45aa05['currentQuestionIndex']+0x1,_0x48f362=_0x45aa05[_0x62c03a(0x7ce)]['questions'][_0x62c03a(0x8ca)];!_0x431457&&_0x470048<_0x48f362?await updateDoc(_0x26e1a3,{'status':'question','currentQuestionIndex':_0x470048,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x26e1a3,{'status':_0x62c03a(0x9e2)});});const _0x2b4068=document[_0x105610(0x657)](_0x105610(0x2da));_0x2b4068&&(_0x2b4068[_0x105610(0x385)]=async()=>{const _0x57a5d6=_0x105610,_0x4574ed=doc(db,'artifacts/'+appId+_0x57a5d6(0xa25),currentLiveGameId);await updateDoc(_0x4574ed,{'reviewQuestionIndex':increment(0x1)});});document[_0x105610(0x657)]('reveal-names-btn')?.['addEventListener'](_0x105610(0x4ca),async()=>{const _0x41bfee=_0x105610;await updateDoc(doc(db,_0x41bfee(0x4b1)+appId+_0x41bfee(0xa25),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5c2559=document[_0x105610(0x657)](_0x105610(0x902));_0x5c2559&&(_0x5c2559[_0x105610(0x385)]=()=>{const _0x2b15c4=_0x105610;showConfirmation(_0x2b15c4(0x6d8),async()=>{const _0x33224d=_0x2b15c4;await updateDoc(doc(db,_0x33224d(0x4b1)+appId+_0x33224d(0xa25),currentLiveGameId),{'status':_0x33224d(0x9e2)});});});}}async function handleGenerateParallelFromBank(_0x305a29){const _0x7fee78=_0x4a01bc,_0x2b7e3a=document[_0x7fee78(0x657)](_0x7fee78(0xe9b)),_0x271568=document['getElementById'](_0x7fee78(0xe89));_0x271568[_0x7fee78(0xb6d)][_0x7fee78(0xa52)](_0x7fee78(0x599));const _0x5481e5=_0x7fee78(0x9ec)+_0x305a29[_0x7fee78(0xb1c)]+_0x7fee78(0xc9e);_0x2b7e3a[_0x7fee78(0xc14)](_0x7fee78(0x494),_0x5481e5);const _0x4d2a9b=document['getElementById']('temp-loader-text-results');try{const _0x509e80=_0x305a29[_0x7fee78(0x3ef)][_0x7fee78(0x823)]((_0x17ad5d,_0x417eed)=>{const _0x51bda1=_0x7fee78;let _0x1de175=_0x417eed+0x1+'.\x20'+(_0x17ad5d[_0x51bda1(0xbf2)]||_0x17ad5d[_0x51bda1(0x472)])+'\x0a';if(_0x17ad5d[_0x51bda1(0x5e9)])_0x1de175+=_0x17ad5d['options'][_0x51bda1(0x823)]((_0x86347f,_0x330c8e)=>_0x51bda1(0x840)+(_0x330c8e===_0x17ad5d[_0x51bda1(0xf16)]?_0x51bda1(0xaa4):'')+'\x20'+_0x86347f)['join']('\x0a');else _0x17ad5d['idealAnswer']&&(_0x1de175+=_0x51bda1(0x44f)+_0x17ad5d[_0x51bda1(0x9c1)]);return _0x1de175;})[_0x7fee78(0x566)]('\x0a\x0a');_0x4d2a9b['textContent']=_0x7fee78(0xd63);const _0x572987=_0x7fee78(0x3f1)+_0x305a29[_0x7fee78(0xb1c)]+_0x7fee78(0xa76)+_0x509e80+_0x7fee78(0xebb)+simpleMathPrompt+_0x7fee78(0xc20),_0x37a314={'type':_0x7fee78(0x73e),'properties':{'questionText':{'type':_0x7fee78(0xcf1)},'questionType':{'type':_0x7fee78(0xcf1),'enum':[_0x7fee78(0xa7c),_0x7fee78(0x190),'true_false',_0x7fee78(0xd13)]},'options':{'type':_0x7fee78(0x614),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x7fee78(0x24a)},'idealAnswer':{'type':_0x7fee78(0xcf1)},'correctAnswer':{'type':_0x7fee78(0x9b7)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x7fee78(0xcf1)},'allResponses':{'type':'ARRAY','items':{'type':_0x7fee78(0xcf1)}},'explanation':{'type':_0x7fee78(0xcf1)},'imageCode':{'type':'STRING'}},'required':['questionType','explanation']},_0x4ad5e3={'type':_0x7fee78(0x73e),'properties':{'topic':{'type':_0x7fee78(0xcf1)},'questions':{'type':_0x7fee78(0x614),'items':_0x37a314}},'required':[_0x7fee78(0xb1c),'questions']},_0x2ff386=await callAnalysisApi(_0x572987,_0x4ad5e3),_0x582abc=_0x2ff386[_0x7fee78(0x3ef)][_0x7fee78(0x823)]((_0x15a535,_0x30d9f3)=>({..._0x15a535,'id':'q_'+Date['now']()+'_'+_0x30d9f3})),_0x1782d3=_0x7fee78(0x510)+_0x305a29[_0x7fee78(0xb1c)],_0x5e5d79={'topic':_0x1782d3,'questions':_0x582abc,'quizType':_0x305a29[_0x7fee78(0x335)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x7fee78(0xeca)](),'status':_0x7fee78(0x670),'settings':_0x305a29[_0x7fee78(0xf0c)],'quizMode':_0x7fee78(0xd8c),'pairedQuizId':null,'lessonPlan':null};let _0x450ca0;while(!![]){_0x450ca0=Math[_0x7fee78(0xd62)](0x3e8+Math[_0x7fee78(0xf11)]()*0x2328)[_0x7fee78(0x830)]();const _0x5a1eec=await getDoc(doc(db,_0x7fee78(0x4b1)+appId+_0x7fee78(0x8cb),_0x450ca0));if(!_0x5a1eec[_0x7fee78(0xce9)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x450ca0),_0x5e5d79),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x4de836){console[_0x7fee78(0xcb6)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x4de836),showMessage(_0x7fee78(0xc44)+_0x4de836[_0x7fee78(0x9a1)]);}finally{const _0x468091=document[_0x7fee78(0x657)]('temp-loader-results');_0x468091&&_0x468091[_0x7fee78(0x66f)](),_0x271568[_0x7fee78(0xb6d)][_0x7fee78(0x66f)](_0x7fee78(0x599));}}async function handleGenerateParallelPostTest(_0x55beab){const _0x44afa7=_0x4a01bc,_0x260bb8=document[_0x44afa7(0x657)](_0x44afa7(0xe9b)),_0x5aa8a1=document[_0x44afa7(0x657)]('project-quizzes-list');_0x5aa8a1[_0x44afa7(0xb6d)][_0x44afa7(0xa52)]('hidden');const _0x539493=_0x44afa7(0x313);_0x260bb8['insertAdjacentHTML'](_0x44afa7(0x494),_0x539493);try{const _0x3737ff=_0x55beab[_0x44afa7(0x3ef)][_0x44afa7(0x823)]((_0x551c6b,_0x532690)=>{const _0xeb9bc8=_0x44afa7;let _0x176527=_0x532690+0x1+'.\x20'+(_0x551c6b['questionText']||_0x551c6b[_0xeb9bc8(0x472)]);if(_0x551c6b[_0xeb9bc8(0x5e9)])_0x176527+=_0xeb9bc8(0xd52)+_0x551c6b[_0xeb9bc8(0x5e9)][_0xeb9bc8(0x566)](',\x20');return _0x176527;})['join']('\x0a\x0a'),_0x4df689=_0x44afa7(0x196)+_0x55beab[_0x44afa7(0xb1c)]+_0x44afa7(0x7ac)+_0x3737ff+_0x44afa7(0x83d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x508357={'type':_0x44afa7(0x73e),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x44afa7(0x614),'items':{'type':_0x44afa7(0x73e),'properties':{'questionText':{'type':_0x44afa7(0xcf1)},'questionType':{'type':_0x44afa7(0xcf1)},'options':{'type':_0x44afa7(0x614),'items':{'type':_0x44afa7(0xcf1)}},'correctAnswerIndex':{'type':_0x44afa7(0x24a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x44afa7(0xcf1)}},'required':[_0x44afa7(0xbf2),_0x44afa7(0xa6b)]}}},'required':['topic',_0x44afa7(0x3ef)]},_0x2ffb44=await callAnalysisApi(_0x4df689,_0x508357),_0x4c0f2f=_0x55beab[_0x44afa7(0xb1c)][_0x44afa7(0xdf2)](_0x44afa7(0xecd),'')[_0x44afa7(0x5b2)](),_0x4deda1=_0x44afa7(0x981)+_0x4c0f2f,_0x2a85d6={..._0x2ffb44,'topic':_0x4deda1,'quizType':_0x55beab[_0x44afa7(0x335)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x44afa7(0xeca)](),'status':_0x44afa7(0x670),'settings':_0x55beab[_0x44afa7(0xf0c)],'quizMode':_0x44afa7(0x821),'pairedQuizId':_0x55beab['id']};let _0x349e05;while(!![]){_0x349e05=Math[_0x44afa7(0xd62)](0x3e8+Math['random']()*0x2328)[_0x44afa7(0x830)]();const _0x7761c7=await getDoc(doc(db,_0x44afa7(0x4b1)+appId+_0x44afa7(0x8cb),_0x349e05));if(!_0x7761c7[_0x44afa7(0xce9)]())break;}await setDoc(doc(db,_0x44afa7(0x4b1)+appId+_0x44afa7(0x8cb),_0x349e05),_0x2a85d6);const _0x50dfc5=doc(db,_0x44afa7(0x4b1)+appId+'/public/data/quizzes',_0x55beab['id']);await updateDoc(_0x50dfc5,{'pairedQuizId':_0x349e05}),showMessage(_0x44afa7(0x96d));}catch(_0x501286){console[_0x44afa7(0xcb6)](_0x44afa7(0x98f),_0x501286),showMessage(_0x44afa7(0xc44)+_0x501286[_0x44afa7(0x9a1)]);}finally{const _0x196bdb=document[_0x44afa7(0x657)](_0x44afa7(0x6ed));if(_0x196bdb)_0x196bdb[_0x44afa7(0x66f)]();_0x5aa8a1[_0x44afa7(0xb6d)][_0x44afa7(0x66f)](_0x44afa7(0x599));}}async function handleGenerateParallelTest(_0x5619b5=null){const _0x53c26c=_0x4a01bc;let _0x4c3f63=_0x5619b5;if(!_0x4c3f63){const _0x475036=document['getElementById'](_0x53c26c(0x25a));_0x475036[_0x53c26c(0x3a5)][_0x53c26c(0x8ca)]>0x0&&(_0x4c3f63=_0x475036[_0x53c26c(0x3a5)][0x0]);}if(!_0x4c3f63){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x22f834=document[_0x53c26c(0x657)](_0x53c26c(0x653)),_0x34a502=document[_0x53c26c(0x657)]('loader-text'),_0x26185c=document[_0x53c26c(0x657)]('generated-quiz-container'),_0x67e62c=document[_0x53c26c(0x657)](_0x53c26c(0x2ab));_0x67e62c['disabled']=!![],document['getElementById']('quiz-generation-area')[_0x53c26c(0xb6d)]['remove'](_0x53c26c(0x599)),_0x26185c[_0x53c26c(0x891)]='',_0x22f834[_0x53c26c(0xb6d)][_0x53c26c(0x66f)](_0x53c26c(0x599)),_0x34a502['textContent']=_0x53c26c(0x48b);const _0x2a985f=new FileReader();_0x2a985f[_0x53c26c(0x6d9)](_0x4c3f63),_0x2a985f['onload']=async()=>{const _0x37a461=_0x53c26c;try{const _0x34837d=_0x2a985f[_0x37a461(0x3fa)][_0x37a461(0x805)](',')[0x1],_0x7fefa6=_0x4c3f63['type'];_0x34a502[_0x37a461(0x54c)]=_0x37a461(0xb9d);const _0x254e82=document['getElementById']('include-images-checkbox')['checked'],_0x1a153b=_0x254e82?_0x37a461(0xac0):'',_0x1a700b=_0x37a461(0x56d),_0x4da4ca={'type':_0x37a461(0x73e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x37a461(0xcf1),'enum':[_0x37a461(0xa7c),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x37a461(0xcf1)}},'correctAnswerIndex':{'type':_0x37a461(0x24a)},'idealAnswer':{'type':_0x37a461(0xcf1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x37a461(0xcf1)}},'required':[_0x37a461(0xbf2),_0x37a461(0x7ed),_0x37a461(0xa6b)]},_0x32385e={'type':_0x37a461(0x73e),'properties':{'topic':{'type':_0x37a461(0xcf1)},'questions':{'type':_0x37a461(0x614),'items':_0x4da4ca}},'required':[_0x37a461(0xb1c),_0x37a461(0x3ef)]},_0x72977a=[{'text':_0x1a700b},{'inlineData':{'mimeType':_0x7fefa6,'data':_0x34837d}}];await handleApiCall(_0x72977a,_0x37a461(0x97d),_0x32385e);}catch(_0x3e003a){console[_0x37a461(0xcb6)](_0x37a461(0x667),_0x3e003a),showMessage(_0x37a461(0xc44)+_0x3e003a[_0x37a461(0x9a1)]),_0x26185c[_0x37a461(0x891)]=_0x37a461(0xe26);}finally{_0x22f834['classList'][_0x37a461(0xa52)](_0x37a461(0x599)),_0x67e62c[_0x37a461(0x4b4)]=![];}},_0x2a985f[_0x53c26c(0xa4c)]=_0x2a82af=>{const _0x1e2d96=_0x53c26c;console['error']('FileReader\x20error:',_0x2a82af),showMessage(_0x1e2d96(0xb5f)),_0x22f834[_0x1e2d96(0xb6d)][_0x1e2d96(0xa52)](_0x1e2d96(0x599)),_0x67e62c['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x1e2340){const _0xecc61e=_0x4a01bc;if(currentEditingQuizData===null)return;const _0x5a9f76=document[_0xecc61e(0x5cd)]('.question-editor-item[data-q-index=\x22'+_0x1e2340+'\x22]');_0x5a9f76&&(_0x5a9f76[_0xecc61e(0x891)]=_0xecc61e(0xf0a));const _0x5ee37e=currentEditingQuizData['questions'][_0x1e2340],_0x2594c8=currentEditingQuizData[_0xecc61e(0xb1c)],_0x3f9923=_0x5ee37e[_0xecc61e(0x7ed)],_0x505d80={'type':_0xecc61e(0x73e),'properties':{'questionText':{'type':_0xecc61e(0xcf1)},'options':{'type':_0xecc61e(0x614),'items':{'type':_0xecc61e(0xcf1)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0xecc61e(0xbf2),_0xecc61e(0x5e9),_0xecc61e(0xf16),_0xecc61e(0xa6b)]},_0x504a8a={'type':_0xecc61e(0x73e),'properties':{'questionText':{'type':_0xecc61e(0xcf1)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xecc61e(0xcf1)}},'required':[_0xecc61e(0xbf2),_0xecc61e(0x9c1),_0xecc61e(0xa6b)]};let _0x4bef6e,_0x597e2d='';_0x3f9923===_0xecc61e(0xa7c)?(_0x4bef6e=_0x505d80,_0x597e2d=_0xecc61e(0x65f)):(_0x4bef6e=_0x504a8a,_0x597e2d=_0xecc61e(0x479));const _0x17c139='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x2594c8+_0xecc61e(0x48f)+_0x597e2d+_0xecc61e(0x9cb)+(_0x5ee37e[_0xecc61e(0xbf2)]||_0x5ee37e[_0xecc61e(0x472)])+_0xecc61e(0x344)+simpleMathPrompt;try{const _0x2560aa=await callAnalysisApi(_0x17c139,_0x4bef6e);currentEditingQuizData['questions'][_0x1e2340]={..._0x5ee37e,..._0x2560aa},renderQuizEditor(currentEditingQuizData);}catch(_0x35f19f){console['error'](_0xecc61e(0x6b0),_0x35f19f),showMessage(_0xecc61e(0xef6)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x245ead=_0x4a01bc,_0x12c7e0=document[_0x245ead(0x657)]('mode-switcher-btn');currentMode===_0x245ead(0x6c5)?(currentMode=_0x245ead(0xf2b),_0x12c7e0[_0x245ead(0x891)]=_0x245ead(0x207),_0x12c7e0[_0x245ead(0x82a)]=_0x245ead(0x8ce),showView(_0x245ead(0xe85))):(currentMode=_0x245ead(0x6c5),_0x12c7e0[_0x245ead(0x891)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x12c7e0[_0x245ead(0x82a)]=_0x245ead(0x458),showView('student'));}function handleAdminLogin(){const _0x2305e9=_0x4a01bc,_0x5b5e09=document[_0x2305e9(0x657)](_0x2305e9(0x345)),_0x5b3467=document[_0x2305e9(0x657)](_0x2305e9(0x7f5));if(_0x5b5e09[_0x2305e9(0x68e)]===_0x2305e9(0xa67)){adminPasswordModal[_0x2305e9(0xb6d)][_0x2305e9(0xa52)](_0x2305e9(0x599)),_0x5b5e09[_0x2305e9(0x68e)]='',_0x5b3467[_0x2305e9(0xb6d)][_0x2305e9(0xa52)](_0x2305e9(0x599)),currentMode='admin';const _0x84ebfa=document[_0x2305e9(0x657)](_0x2305e9(0x625));_0x84ebfa[_0x2305e9(0x891)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x84ebfa[_0x2305e9(0x82a)]='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x5b3467[_0x2305e9(0xb6d)]['remove']('hidden'),_0x5b5e09[_0x2305e9(0x68e)]='';}function switchProjectTab(_0x44b3ee){const _0x25986b=_0x4a01bc;['manage',_0x25986b(0x23b),'leaderboard'][_0x25986b(0x427)](_0x392358=>{const _0x281d32=_0x25986b;document[_0x281d32(0x657)](_0x392358+_0x281d32(0xc07))[_0x281d32(0xb6d)][_0x281d32(0x66f)](_0x281d32(0x670)),document[_0x281d32(0x657)](_0x392358+_0x281d32(0x456))['classList'][_0x281d32(0xa52)]('hidden');}),document['getElementById'](_0x44b3ee+_0x25986b(0xc07))[_0x25986b(0xb6d)][_0x25986b(0xa52)]('active'),document['getElementById'](_0x44b3ee+'-tab-content')['classList'][_0x25986b(0x66f)](_0x25986b(0x599));}function switchQuizDetailTab(_0x22cc17){const _0x278865=_0x4a01bc,_0x94b01d={'analytics':{'btn':_0x278865(0xc59),'content':_0x278865(0x697)},'scores':{'btn':_0x278865(0xebc),'content':_0x278865(0x1b2)},'leaderboard-quiz':{'btn':_0x278865(0x42b),'content':_0x278865(0xcae)},'behavior-log':{'btn':_0x278865(0x938),'content':'behavior-log-tab-content'}};for(const _0x5ccba9 in _0x94b01d){document[_0x278865(0x657)](_0x94b01d[_0x5ccba9][_0x278865(0xafc)])[_0x278865(0xb6d)]['remove']('active'),document[_0x278865(0x657)](_0x94b01d[_0x5ccba9]['content'])[_0x278865(0xb6d)]['add'](_0x278865(0x599));}document[_0x278865(0x657)](_0x94b01d[_0x22cc17][_0x278865(0xafc)])[_0x278865(0xb6d)][_0x278865(0xa52)](_0x278865(0x670)),document[_0x278865(0x657)](_0x94b01d[_0x22cc17][_0x278865(0xced)])['classList'][_0x278865(0x66f)](_0x278865(0x599));}function showMessage(_0x2ccce7,_0x52ef2b=null){const _0x372072=_0x4a01bc;modalMessage['innerHTML']=_0x2ccce7[_0x372072(0xdf2)](/\n/g,_0x372072(0xa80)),modalConfirmAction=_0x52ef2b,messageModal[_0x372072(0xb6d)][_0x372072(0x66f)](_0x372072(0x599));}function showConfirmation(_0x1c26f0,_0x222c20,_0x295679=null){const _0x5bd93b=_0x4a01bc;document[_0x5bd93b(0x657)](_0x5bd93b(0xbc9))['textContent']=_0x1c26f0,document[_0x5bd93b(0x657)](_0x5bd93b(0xe63))[_0x5bd93b(0x5cd)]('h3')['textContent']=_0x5bd93b(0x56e),confirmAction=_0x222c20,cancelAction=_0x295679,confirmationModal[_0x5bd93b(0xb6d)][_0x5bd93b(0x66f)]('hidden');}function listenForProjects(){const _0x2558ac=_0x4a01bc,_0x29c39b=doc(db,'globalSettings',_0x2558ac(0x3ae));onSnapshot(_0x29c39b,_0x4f9af8=>{const _0x372e59=_0x2558ac;if(_0x4f9af8[_0x372e59(0xce9)]()){const _0x31a2e1=_0x4f9af8[_0x372e59(0xd0c)]();globalDashboardSettings[_0x372e59(0x4f0)]=_0x31a2e1[_0x372e59(0x4f0)]||_0x372e59(0xc72),globalDashboardSettings[_0x372e59(0xe99)]=_0x31a2e1[_0x372e59(0xe99)]||[],globalDashboardSettings[_0x372e59(0x2ec)]=_0x31a2e1[_0x372e59(0x2ec)]||[];}allProjects[_0x372e59(0x8ca)]>0x0&&renderProjects();});const _0x4ba45d=collection(db,_0x2558ac(0x4b1)+appId+_0x2558ac(0x780));unsubscribeProjectsListener=onSnapshot(_0x4ba45d,_0x24e5d1=>{const _0x4ab0cf=_0x2558ac;allProjects=_0x24e5d1[_0x4ab0cf(0xb70)][_0x4ab0cf(0x823)](_0x19b842=>({'id':_0x19b842['id'],..._0x19b842[_0x4ab0cf(0xd0c)]()})),renderProjects();},_0x1200da=>{const _0x7e15e4=_0x2558ac;console[_0x7e15e4(0xcb6)](_0x7e15e4(0xc0c),_0x1200da),showMessage(_0x7e15e4(0xd09));});}function showColorPalette(_0x5bb9f7,_0x2835b3){const _0x6199a6=_0x4a01bc;document[_0x6199a6(0x180)](_0x6199a6(0xc2c))['forEach'](_0x39d36b=>_0x39d36b[_0x6199a6(0x66f)]());const _0x31f780=[_0x6199a6(0xd81),'#FEE2E2',_0x6199a6(0xb12),_0x6199a6(0x31d),_0x6199a6(0x409),_0x6199a6(0xef4),_0x6199a6(0x997),_0x6199a6(0x31f),_0x6199a6(0x1f6)],_0xb514e0=document['createElement']('div');_0xb514e0['className']=_0x6199a6(0xcee),_0x31f780[_0x6199a6(0x427)](_0x247013=>{const _0x46407b=_0x6199a6,_0x438e8b=document[_0x46407b(0xbfd)]('div');_0x438e8b[_0x46407b(0x293)]=_0x46407b(0x1cc),_0x438e8b[_0x46407b(0xd7a)][_0x46407b(0x875)]=_0x247013,_0x438e8b[_0x46407b(0xdc6)]('click',()=>{handleProjectColorChange(_0x2835b3,_0x247013),_0xb514e0['remove']();}),_0xb514e0[_0x46407b(0x612)](_0x438e8b);}),document[_0x6199a6(0x754)][_0x6199a6(0x612)](_0xb514e0);const _0x218bc7=_0x5bb9f7[_0x6199a6(0x390)]();_0xb514e0[_0x6199a6(0xd7a)][_0x6199a6(0xf2f)]=_0x218bc7[_0x6199a6(0xe5a)]+window[_0x6199a6(0x3d6)]+'px',_0xb514e0[_0x6199a6(0xd7a)][_0x6199a6(0xe65)]=_0x218bc7[_0x6199a6(0xe65)]+window['scrollX']-_0xb514e0[_0x6199a6(0xda0)]/0x2+'px';}async function handleProjectColorChange(_0x3f9693,_0x12550e){const _0x48a97a=_0x4a01bc,_0xb0f061=doc(db,'artifacts/'+appId+_0x48a97a(0x780),_0x3f9693);try{await updateDoc(_0xb0f061,{'color':_0x12550e});}catch(_0x5ab5e4){console[_0x48a97a(0xcb6)](_0x48a97a(0x811),_0x5ab5e4),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x5a59c0=_0x4a01bc,_0x2711d7=globalDashboardSettings[_0x5a59c0(0x4f0)]||_0x5a59c0(0xc72),_0x3cf8a5=new Set(globalDashboardSettings[_0x5a59c0(0xe99)]||[]),_0x31018e=globalDashboardSettings[_0x5a59c0(0xc0e)]||_0x5a59c0(0xa12),_0x2864a8=document['getElementById'](_0x5a59c0(0x44e)),_0x57c0e4=document[_0x5a59c0(0x657)]('list-view-btn');_0x2864a8[_0x5a59c0(0xb6d)]['toggle'](_0x5a59c0(0x670),_0x31018e==='grid'),_0x57c0e4[_0x5a59c0(0xb6d)][_0x5a59c0(0x1f4)]('active',_0x31018e===_0x5a59c0(0x394)),document['getElementById'](_0x5a59c0(0xab2))[_0x5a59c0(0x68e)]=_0x2711d7;const _0x4ba168=document[_0x5a59c0(0x657)](_0x5a59c0(0x85a))[_0x5a59c0(0x68e)][_0x5a59c0(0x2c0)]();let _0x1fe4ce=allProjects[_0x5a59c0(0xc4c)](_0x1d9db6=>_0x1d9db6[_0x5a59c0(0x37f)][_0x5a59c0(0x2c0)]()[_0x5a59c0(0x484)](_0x4ba168));const _0x141929=_0x1fe4ce['filter'](_0x310680=>_0x3cf8a5[_0x5a59c0(0x2f0)](_0x310680['id'])),_0x4f5eee=_0x1fe4ce['filter'](_0x4127ed=>!_0x3cf8a5['has'](_0x4127ed['id'])),_0x4e0253=(_0x505d3f,_0x15783d)=>{const _0x57ca7d=_0x5a59c0;switch(_0x2711d7){case'name_asc':return _0x505d3f['projectName']['localeCompare'](_0x15783d[_0x57ca7d(0x37f)],'th');case _0x57ca7d(0xd4e):return _0x15783d[_0x57ca7d(0x37f)][_0x57ca7d(0x8c8)](_0x505d3f[_0x57ca7d(0x37f)],'th');case _0x57ca7d(0x98b):return new Date(_0x505d3f[_0x57ca7d(0x6a8)])-new Date(_0x15783d[_0x57ca7d(0x6a8)]);default:return new Date(_0x15783d[_0x57ca7d(0x6a8)])-new Date(_0x505d3f[_0x57ca7d(0x6a8)]);}};_0x141929[_0x5a59c0(0xc1a)](_0x4e0253),_0x4f5eee['sort'](_0x4e0253);const _0x40f3c9=[..._0x141929,..._0x4f5eee],_0x2107cb=globalDashboardSettings[_0x5a59c0(0x2ec)]||[];_0x2107cb[_0x5a59c0(0x8ca)]>0x0&&_0x31018e===_0x5a59c0(0xa12)&&_0x40f3c9['sort']((_0x5cb05a,_0x5c8952)=>{const _0x26ff9f=_0x5a59c0,_0x13bcc2=_0x2107cb[_0x26ff9f(0xc27)](_0x5cb05a['id']),_0x4e5d89=_0x2107cb['indexOf'](_0x5c8952['id']);if(_0x13bcc2===-0x1)return 0x1;if(_0x4e5d89===-0x1)return-0x1;return _0x13bcc2-_0x4e5d89;});const _0x5c0989={};await Promise[_0x5a59c0(0xa87)](_0x40f3c9[_0x5a59c0(0x823)](async _0x345b3b=>{const _0x19033f=_0x5a59c0,_0x189022=query(collection(db,'artifacts/'+appId+_0x19033f(0x8cb)),where('projectId','==',_0x345b3b['id'])),_0x48d22a=await getCountFromServer(_0x189022);_0x5c0989[_0x345b3b['id']]=_0x48d22a['data']()['count'];}));const _0x169877=document[_0x5a59c0(0x657)](_0x5a59c0(0xddd));let _0x5a781c='';if(_0x31018e===_0x5a59c0(0xa12)){_0x169877['className']=_0x5a59c0(0xa50);if(starredQuizzes[_0x5a59c0(0x8ca)]>0x0&&_0x4ba168===''){const _0x2cc422=starredQuizzes['map'](_0x4b2aba=>{const _0x57dfc3=_0x5a59c0,_0x37dfca=allProjects[_0x57dfc3(0x1d5)](_0x6af947=>_0x6af947['id']===_0x4b2aba[_0x57dfc3(0x401)]);return{..._0x4b2aba,'projectName':_0x37dfca?_0x37dfca[_0x57dfc3(0x37f)]:_0x57dfc3(0xdf4)};});_0x5a781c+=_0x5a59c0(0x839)+_0x2cc422[_0x5a59c0(0x823)](_0x514eb1=>_0x5a59c0(0x40a)+_0x514eb1[_0x5a59c0(0xb1c)]+'\x22>'+_0x514eb1['topic']+_0x5a59c0(0x4cb)+_0x514eb1[_0x5a59c0(0x37f)]+'\x22>จาก:\x20'+_0x514eb1[_0x5a59c0(0x37f)]+_0x5a59c0(0x5b1))[_0x5a59c0(0x566)]('')+_0x5a59c0(0x970)+starredQuizzes[_0x5a59c0(0x8ca)]+_0x5a59c0(0x986);}_0x40f3c9[_0x5a59c0(0x427)](_0x39c1e2=>{const _0x5716f6=_0x5a59c0,_0x5b02fb=_0x5c0989[_0x39c1e2['id']]??0x0,_0x159b8a=_0x3cf8a5[_0x5716f6(0x2f0)](_0x39c1e2['id']),_0x2367c7=_0x39c1e2[_0x5716f6(0x20d)]||_0x5716f6(0xd81),_0x3b8b7a=parseInt(_0x2367c7[_0x5716f6(0x67b)](0x1,0x3),0x10)*0.299+parseInt(_0x2367c7[_0x5716f6(0x67b)](0x3,0x5),0x10)*0.587+parseInt(_0x2367c7[_0x5716f6(0x67b)](0x5,0x7),0x10)*0.114<0xba,_0x40ad8b=_0x3b8b7a?'text-white':_0x5716f6(0x1b4),_0x20e467=_0x3b8b7a?_0x5716f6(0x29d):_0x5716f6(0xc5f);_0x5a781c+=_0x5716f6(0xaf0)+(_0x159b8a?_0x5716f6(0xe46):_0x5716f6(0xc90))+_0x5716f6(0xacb)+_0x2367c7+_0x5716f6(0xccb)+_0x39c1e2['id']+_0x5716f6(0x8ad)+_0x39c1e2['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x3b8b7a?'text-gray-300\x20hover:text-white':_0x5716f6(0x24d))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x39c1e2['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x3b8b7a?'text-gray-300\x20hover:text-white':_0x5716f6(0x24d))+_0x5716f6(0x60a)+(_0x159b8a?_0x3b8b7a?_0x5716f6(0x5a1):_0x5716f6(0xcd9):'')+_0x5716f6(0x194)+_0x39c1e2['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x40ad8b+_0x5716f6(0x8e5)+_0x39c1e2['projectName']+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x20e467+_0x5716f6(0x765)+new Date(_0x39c1e2[_0x5716f6(0x6a8)])[_0x5716f6(0xc1f)](_0x5716f6(0xf09))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x3b8b7a?_0x5716f6(0x933):_0x5716f6(0xac9))+_0x5716f6(0xebf)+_0x5b02fb+_0x5716f6(0xcc6)+_0x39c1e2['id']+_0x5716f6(0xe6b)+_0x39c1e2[_0x5716f6(0x37f)]+_0x5716f6(0xb72)+(_0x3b8b7a?_0x5716f6(0x817):_0x5716f6(0x5d3))+_0x5716f6(0xc06);});}else _0x169877[_0x5a59c0(0x293)]=_0x5a59c0(0xebe),starredQuizzes[_0x5a59c0(0x8ca)]>0x0&&_0x4ba168===''&&(_0x5a781c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x5a59c0(0xc6d)),_0x5a781c+=_0x5a59c0(0x31b),_0x40f3c9[_0x5a59c0(0x427)](_0x33b8a8=>{const _0x2a2240=_0x5a59c0,_0x560a2f=_0x5c0989[_0x33b8a8['id']]??0x0,_0x37cc54=_0x3cf8a5[_0x2a2240(0x2f0)](_0x33b8a8['id']);_0x5a781c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x33b8a8[_0x2a2240(0x20d)]||_0x2a2240(0x1f6))+_0x2a2240(0x6b7)+_0x33b8a8['id']+_0x2a2240(0xd55)+_0x33b8a8[_0x2a2240(0x37f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x560a2f+_0x2a2240(0xc8f)+new Date(_0x33b8a8['createdAt'])[_0x2a2240(0x6bb)](_0x2a2240(0xf09))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x33b8a8['id']+_0x2a2240(0x5de)+(_0x37cc54?_0x2a2240(0xcd9):'')+_0x2a2240(0x212)+_0x33b8a8['id']+_0x2a2240(0xe6b)+_0x33b8a8[_0x2a2240(0x37f)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});_0x169877[_0x5a59c0(0x891)]=_0x5a781c,noProjectsMsg[_0x5a59c0(0xb6d)][_0x5a59c0(0x1f4)]('hidden',_0x5a781c['length']>0x0);}document[_0x4a01bc(0x657)](_0x4a01bc(0xd30))[_0x4a01bc(0xdc6)](_0x4a01bc(0x4ca),async()=>{const _0x4598f9=_0x4a01bc,_0x377856=document[_0x4598f9(0x657)](_0x4598f9(0x89c)),_0x36013f=_0x377856['value']['trim']();if(!_0x36013f){showMessage(_0x4598f9(0xd8f));return;}try{const _0x39bb19=doc(collection(db,'artifacts/'+appId+_0x4598f9(0x780)));await setDoc(_0x39bb19,{'projectName':_0x36013f,'students':[],'settings':{'resultsDisplay':_0x4598f9(0xad6),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4598f9(0xeca)]()}),_0x377856[_0x4598f9(0x68e)]='',createProjectModal[_0x4598f9(0xb6d)][_0x4598f9(0xa52)](_0x4598f9(0x599)),showMessage(_0x4598f9(0x610));}catch(_0x5a506){console[_0x4598f9(0xcb6)](_0x4598f9(0x481),_0x5a506),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x4a01bc(0x4ca),async _0x379f25=>{const _0x480b30=_0x4a01bc,_0x5bbb0d=_0x379f25['target'][_0x480b30(0xa5a)](_0x480b30(0xe4c)),_0x40e557=_0x379f25['target'][_0x480b30(0xa5a)](_0x480b30(0x843)),_0x18123b=_0x379f25['target']['closest'](_0x480b30(0x391)),_0x92e72a=_0x379f25[_0x480b30(0x6f7)][_0x480b30(0xa5a)]('.color-palette-btn');if(_0x18123b){const _0x1ff53d=_0x18123b[_0x480b30(0x320)]['id'],_0x2fe087=doc(db,_0x480b30(0x56a),_0x480b30(0x3ae)),_0x49fafd=globalDashboardSettings['pinnedProjects'];let _0x48eb8c;_0x49fafd['includes'](_0x1ff53d)?_0x48eb8c=_0x49fafd[_0x480b30(0xc4c)](_0xf56f10=>_0xf56f10!==_0x1ff53d):_0x48eb8c=[..._0x49fafd,_0x1ff53d];try{await setDoc(_0x2fe087,{'pinnedProjects':_0x48eb8c},{'merge':!![]});}catch(_0xfc3bfd){console[_0x480b30(0xcb6)](_0x480b30(0x1c8),_0xfc3bfd),showMessage(_0x480b30(0x218));}}else{if(_0x92e72a){const _0xb5ac34=_0x92e72a['dataset']['id'];showColorPalette(_0x92e72a,_0xb5ac34);}else{if(_0x5bbb0d){const _0x3e1cf9=_0x5bbb0d['dataset']['id'];_0x3e1cf9===_0x480b30(0x9fc)?showStarredProjectView():(currentProjectId=_0x3e1cf9,await loadProjectDetails(currentProjectId),showView(_0x480b30(0x478)));}else{if(_0x40e557){const _0x10380c=_0x40e557['dataset']['id'],_0x127d87=_0x40e557[_0x480b30(0x320)][_0x480b30(0x9ce)];showConfirmation(_0x480b30(0x249)+_0x127d87+_0x480b30(0x1dd),()=>handleDeleteProject(_0x10380c));}}}}}),projectList[_0x4a01bc(0xdc6)](_0x4a01bc(0xad0),_0x53ef02=>{const _0x3b1800=_0x4a01bc,_0x35f962=_0x53ef02['target']['closest'](_0x3b1800(0x21b));_0x35f962&&_0x35f962[_0x3b1800(0xb6d)]['add'](_0x3b1800(0x498));}),projectList[_0x4a01bc(0xdc6)](_0x4a01bc(0x6d1),_0xa0558d=>{const _0x2f663d=_0x4a01bc,_0x4179ae=_0xa0558d[_0x2f663d(0x6f7)][_0x2f663d(0xa5a)](_0x2f663d(0x21b));_0x4179ae&&_0x4179ae[_0x2f663d(0xb6d)][_0x2f663d(0x66f)](_0x2f663d(0x498));}),projectList['addEventListener'](_0x4a01bc(0xea3),_0x555a23=>{const _0x5f13ef=_0x4a01bc;_0x555a23['preventDefault']();const _0x14ef36=document[_0x5f13ef(0x5cd)](_0x5f13ef(0xe38));if(!_0x14ef36)return;const _0x31736d=getDragAfterElement(projectList,_0x555a23[_0x5f13ef(0x78f)]);_0x31736d==null?projectList[_0x5f13ef(0x612)](_0x14ef36):projectList['insertBefore'](_0x14ef36,_0x31736d);}),projectList['addEventListener'](_0x4a01bc(0x784),_0x327e8a=>{const _0x53ec80=_0x4a01bc;_0x327e8a[_0x53ec80(0xd66)]();const _0x4b86f1=[...projectList['querySelectorAll'](_0x53ec80(0xc62))][_0x53ec80(0x823)](_0x107517=>_0x107517[_0x53ec80(0x320)]['id']);saveProjectOrder(_0x4b86f1);});function renderBehaviorLog(_0x46d91c){const _0x2de44d=_0x4a01bc,_0x4986fc=document[_0x2de44d(0x657)](_0x2de44d(0x7cf));if(!_0x4986fc)return;const _0x38caf5=_0x46d91c['filter'](_0x3b848b=>_0x3b848b['behaviorLog']&&_0x3b848b[_0x2de44d(0xb68)]['length']>0x0);if(_0x38caf5['length']===0x0){_0x4986fc[_0x2de44d(0x891)]=_0x2de44d(0x1de);return;}let _0x3f8326='';_0x38caf5[_0x2de44d(0x427)](_0x4cd358=>{const _0x2f8e7e=_0x2de44d;_0x3f8326+=_0x2f8e7e(0x514)+_0x4cd358[_0x2f8e7e(0xbf5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4cd358[_0x2f8e7e(0xb68)][_0x2f8e7e(0xc1a)]((_0x56a904,_0x150005)=>new Date(_0x150005['timestamp'])-new Date(_0x56a904[_0x2f8e7e(0x79c)]))[_0x2f8e7e(0x427)](_0x326f2b=>{const _0x3b2165=_0x2f8e7e,_0x3b2323=new Date(_0x326f2b[_0x3b2165(0x79c)])[_0x3b2165(0x6bb)]('th-TH',{'dateStyle':_0x3b2165(0xda3),'timeStyle':_0x3b2165(0xe9a)});_0x3f8326+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x326f2b['attemptNumber']+_0x3b2165(0x179)+_0x3b2323+_0x3b2165(0xbda);}),_0x3f8326+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4986fc['innerHTML']=_0x3f8326;}function getDragAfterElement(_0x344bea,_0x51ed8a){const _0x120d78=_0x4a01bc,_0x29e178=[..._0x344bea[_0x120d78(0x180)]('.project-card-container:not(.opacity-50)')];return _0x29e178[_0x120d78(0xc91)]((_0x393510,_0x2e403b)=>{const _0x1b08f5=_0x120d78,_0x34bd34=_0x2e403b[_0x1b08f5(0x390)](),_0x3b4ce3=_0x51ed8a-_0x34bd34[_0x1b08f5(0xf2f)]-_0x34bd34['height']/0x2;return _0x3b4ce3<0x0&&_0x3b4ce3>_0x393510['offset']?{'offset':_0x3b4ce3,'element':_0x2e403b}:_0x393510;},{'offset':Number[_0x120d78(0x888)]})[_0x120d78(0x4ea)];}async function saveProjectOrder(_0x3c858c){const _0x3a43fa=_0x4a01bc,_0x236ecd=doc(db,'globalSettings',_0x3a43fa(0x3ae));try{await setDoc(_0x236ecd,{'projectOrder':_0x3c858c},{'merge':!![]});}catch(_0x49057a){console[_0x3a43fa(0xcb6)]('Error\x20saving\x20project\x20order:',_0x49057a),showMessage(_0x3a43fa(0xd71));}}async function logBehaviorEvent(_0x1a3051,_0x328760={}){const _0x6810d5=_0x4a01bc;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x6810d5(0x60c)](_0x6810d5(0xb7e));return;}const _0x4458c8=doc(db,_0x6810d5(0x4b1)+appId+_0x6810d5(0xb20)+currentQuizData['id']+_0x6810d5(0x411),currentStudentName),_0xb2280d={'event':_0x1a3051,'timestamp':new Date()[_0x6810d5(0xeca)](),..._0x328760};try{await updateDoc(_0x4458c8,{'behaviorLog':arrayUnion(_0xb2280d)}),console['log'](_0x6810d5(0xe08)+currentStudentName+_0x6810d5(0x61c));}catch(_0xb0a8b1){_0xb0a8b1[_0x6810d5(0x8e6)]==='not-found'?console[_0x6810d5(0x60c)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x6810d5(0x901)):console[_0x6810d5(0xcb6)](_0x6810d5(0x31e),_0xb0a8b1);}}function getScoreTier(_0x49948e,_0x44d38b){const _0x410381=_0x4a01bc;if(_0x44d38b===0x0){if(_0x49948e===0x0)return{'text':_0x410381(0xe93),'icon':'⏳'};return{'text':_0x410381(0x81d),'icon':'😥'};}const _0x526f03=_0x49948e/(_0x44d38b===0x0?0x1:_0x44d38b);if(_0x526f03===0x1)return{'text':_0x410381(0x1bd),'icon':'👑'};if(_0x526f03>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x526f03>=0.4)return{'text':_0x410381(0x76e),'icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0x23cd04){const _0x1412e8=_0x4a01bc;if(_0x23cd04[_0x1412e8(0x8ca)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x471a5=_0x23cd04['reduce']((_0x1393d5,_0x148c1f)=>_0x1393d5+_0x148c1f,0x0)/_0x23cd04[_0x1412e8(0x8ca)];if(_0x23cd04[_0x1412e8(0x8ca)]===0x1)return{'mean':_0x471a5,'stdDev':0x0};const _0x4895f5=Math[_0x1412e8(0x717)](_0x23cd04[_0x1412e8(0x823)](_0x1f27a2=>Math['pow'](_0x1f27a2-_0x471a5,0x2))[_0x1412e8(0xc91)]((_0x6e49b9,_0x2e73e7)=>_0x6e49b9+_0x2e73e7,0x0)/(_0x23cd04[_0x1412e8(0x8ca)]-0x1));return{'mean':_0x471a5,'stdDev':_0x4895f5};}function calculateZScore(_0x724ac3,_0x25f6f0,_0x3d92c1){if(_0x3d92c1===0x0)return 0x0;return(_0x724ac3-_0x25f6f0)/_0x3d92c1;}function calculateTScore(_0x3b7bab){return 0xa*_0x3b7bab+0x32;}function showStarredProjectView(){const _0x3b0c50=_0x4a01bc;currentProjectId=_0x3b0c50(0x8dd),currentProjectData=null,projectTitle[_0x3b0c50(0x54c)]=_0x3b0c50(0x264),projectIdDisplay['textContent']='pinned-items',showView(_0x3b0c50(0x478)),manageTab['classList']['add'](_0x3b0c50(0x599)),leaderboardTab[_0x3b0c50(0xb6d)][_0x3b0c50(0xa52)]('hidden'),switchProjectTab(_0x3b0c50(0x23b)),renderQuizzes();}async function loadProjectDetails(_0x40c73f){const _0x4949f5=_0x4a01bc,_0x2532fe=doc(db,_0x4949f5(0x4b1)+appId+_0x4949f5(0x780),_0x40c73f),_0x42ba3f=await getDoc(_0x2532fe);if(_0x42ba3f[_0x4949f5(0xce9)]()){manageTab[_0x4949f5(0xb6d)]['remove'](_0x4949f5(0x599)),leaderboardTab[_0x4949f5(0xb6d)][_0x4949f5(0x66f)](_0x4949f5(0x599)),currentProjectData=_0x42ba3f[_0x4949f5(0xd0c)](),projectTitle[_0x4949f5(0x54c)]=currentProjectData['projectName'],projectIdDisplay[_0x4949f5(0x54c)]=_0x40c73f;const _0x129121=currentProjectData['settings']||{};document[_0x4949f5(0x657)](_0x4949f5(0xc73))[_0x4949f5(0x68e)]=_0x129121[_0x4949f5(0xe88)]||_0x4949f5(0x813);const _0x7b62f0=document[_0x4949f5(0x657)](_0x4949f5(0xcfb));_0x7b62f0[_0x4949f5(0x536)]=_0x129121[_0x4949f5(0x241)]!==![];const _0x142d19=document['getElementById']('enable-passcode-checkbox'),_0x66de8f=document[_0x4949f5(0x657)]('passcode-input-container'),_0x34604f=document['getElementById'](_0x4949f5(0xb24)),_0x56e0ff=_0x129121[_0x4949f5(0x1d9)]||![];_0x142d19['checked']=_0x56e0ff,_0x34604f[_0x4949f5(0x68e)]=_0x129121['passcode']||'',_0x66de8f['classList'][_0x4949f5(0x1f4)](_0x4949f5(0x599),!_0x56e0ff),_0x142d19['onchange']=()=>{const _0x49656d=_0x4949f5;_0x66de8f['classList'][_0x49656d(0x1f4)](_0x49656d(0x599),!_0x142d19[_0x49656d(0x536)]);},document[_0x4949f5(0x657)](_0x4949f5(0xc10))['checked']=_0x129121[_0x4949f5(0x974)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x40c73f),listenForProjectQuizzes(_0x40c73f),listenForStudentProfiles(_0x40c73f);}else showMessage(_0x4949f5(0xd14)),showView(_0x4949f5(0xe85));}async function handleResetProjectOrder(){const _0x5345c8=_0x4a01bc,_0x288659=doc(db,_0x5345c8(0x56a),_0x5345c8(0x3ae));try{await setDoc(_0x288659,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5345c8(0xa08));}catch(_0x1b1a61){console[_0x5345c8(0xcb6)](_0x5345c8(0x370),_0x1b1a61),showMessage(_0x5345c8(0x2b4));}}async function handleTogglePinProject(_0x572f9a){const _0x2f7101=_0x4a01bc;if(!_0x572f9a)return;const _0x5ed9ee=doc(db,_0x2f7101(0x4b1)+appId+_0x2f7101(0x780),_0x572f9a);try{const _0x6f8b33=await getDoc(_0x5ed9ee);if(_0x6f8b33[_0x2f7101(0xce9)]()){const _0x7d50f7=_0x6f8b33[_0x2f7101(0xd0c)]()['isPinned']||![];await updateDoc(_0x5ed9ee,{'isPinned':!_0x7d50f7});}}catch(_0x3e960f){console[_0x2f7101(0xcb6)](_0x2f7101(0x656),_0x3e960f),showMessage(_0x2f7101(0x218));}}async function handleDeleteProject(_0x1413f0){const _0x1d8bc7=_0x4a01bc;try{const _0x444322=writeBatch(db),_0x1409ed=collection(db,_0x1d8bc7(0x4b1)+appId+'/public/data/quizzes'),_0x972aac=query(_0x1409ed,where(_0x1d8bc7(0x401),'==',_0x1413f0)),_0x4430fa=await getDocs(_0x972aac);for(const _0xadeb61 of _0x4430fa[_0x1d8bc7(0xb70)]){const _0x1b2b57=collection(db,_0x1d8bc7(0x4b1)+appId+_0x1d8bc7(0xb20)+_0xadeb61['id']+_0x1d8bc7(0x411)),_0x4f268c=await getDocs(_0x1b2b57);_0x4f268c[_0x1d8bc7(0x427)](_0x21a6a0=>{const _0x396898=_0x1d8bc7;_0x444322['delete'](_0x21a6a0[_0x396898(0xcff)]);}),_0x444322[_0x1d8bc7(0x95e)](_0xadeb61[_0x1d8bc7(0xcff)]);}const _0xc1f1ee=collection(db,_0x1d8bc7(0x4b1)+appId+_0x1d8bc7(0x53e)+_0x1413f0+'/studentProfiles'),_0x1c0bde=await getDocs(_0xc1f1ee);_0x1c0bde['forEach'](_0x213bd9=>{const _0x3a6eb4=_0x1d8bc7;_0x444322[_0x3a6eb4(0x95e)](_0x213bd9[_0x3a6eb4(0xcff)]);});const _0x23c73e=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1413f0);_0x444322[_0x1d8bc7(0x95e)](_0x23c73e),await _0x444322['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x1d8bc7(0xe85));}catch(_0x204414){console['error'](_0x1d8bc7(0x26c),_0x204414),showMessage(_0x1d8bc7(0xed1));}}document[_0x4a01bc(0x657)]('save-settings-btn')['addEventListener'](_0x4a01bc(0x4ca),async()=>{const _0x105eed=_0x4a01bc;if(!currentProjectId)return;const _0x1097d0={'defaultNumQuestions':parseInt(document[_0x105eed(0x657)](_0x105eed(0x949))[_0x105eed(0x68e)]),'defaultNumChoices':parseInt(document[_0x105eed(0x657)](_0x105eed(0xedf))[_0x105eed(0x68e)]),'defaultPassingScore':parseInt(document['getElementById'](_0x105eed(0xaae))[_0x105eed(0x68e)]),'resultsDisplay':document[_0x105eed(0x657)](_0x105eed(0xdad))[_0x105eed(0x68e)],'shuffleSetting':document['getElementById'](_0x105eed(0xc73))[_0x105eed(0x68e)],'timerMode':document['getElementById'](_0x105eed(0xd74))[_0x105eed(0x68e)],'timerDuration':parseInt(document[_0x105eed(0x657)](_0x105eed(0x2b5))[_0x105eed(0x68e)]),'isConfidenceScoringEnabled':document[_0x105eed(0x657)]('confidence-scoring-checkbox')[_0x105eed(0x536)],'confidenceMode':document[_0x105eed(0x657)](_0x105eed(0xec5))['value']};try{const _0x4a2662=doc(db,_0x105eed(0x4b1)+appId+_0x105eed(0x780),currentProjectId);await updateDoc(_0x4a2662,{'settings':_0x1097d0}),showMessage(_0x105eed(0xb84));}catch(_0x6f54d5){console[_0x105eed(0xcb6)](_0x105eed(0x52c),_0x6f54d5),showMessage(_0x105eed(0x506));}});function listenForStudents(_0x11404d){const _0x5de990=_0x4a01bc,_0x474c25=doc(db,_0x5de990(0x4b1)+appId+_0x5de990(0x780),_0x11404d);unsubscribeStudentsListener=onSnapshot(_0x474c25,_0x23111b=>{const _0x42294b=_0x5de990;if(_0x23111b[_0x42294b(0xce9)]()){const _0x8ca63e=_0x23111b[_0x42294b(0xd0c)]();currentProjectData=_0x8ca63e,renderStudentList(_0x8ca63e[_0x42294b(0xc2e)]||[]);}});}function renderStudentList(_0x703481){const _0x3f8452=_0x4a01bc,_0x5a9c09=document[_0x3f8452(0x657)](_0x3f8452(0xc41));_0x703481[_0x3f8452(0x8ca)]===0x0?(studentList[_0x3f8452(0x891)]=_0x3f8452(0x1ff),_0x5a9c09[_0x3f8452(0xb6d)]['add'](_0x3f8452(0x599))):(studentList[_0x3f8452(0x891)]=_0x703481['map'](_0xcf143a=>_0x3f8452(0x4be)+_0xcf143a+_0x3f8452(0x211)+_0xcf143a+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3f8452(0x566)](''),_0x5a9c09['classList'][_0x3f8452(0x66f)]('hidden'));}document[_0x4a01bc(0x657)](_0x4a01bc(0x91b))[_0x4a01bc(0xdc6)](_0x4a01bc(0x4ca),async()=>{const _0x4375e1=_0x4a01bc;if(!currentProjectId)return;const _0x1fc870=document['getElementById'](_0x4375e1(0xc03)),_0x15a1e3=_0x1fc870[_0x4375e1(0x68e)][_0x4375e1(0x5b2)]();if(!_0x15a1e3){showMessage(_0x4375e1(0x1b7));return;}const _0x41985d=_0x15a1e3[_0x4375e1(0x805)]('\x0a')['map'](_0x4baac5=>_0x4baac5[_0x4375e1(0x5b2)]())['filter'](_0x137a1f=>_0x137a1f);if(_0x41985d[_0x4375e1(0x8ca)]===0x0)return;try{const _0x1ab1c3=doc(db,_0x4375e1(0x4b1)+appId+_0x4375e1(0x780),currentProjectId),_0x34c270=await getDoc(_0x1ab1c3);if(_0x34c270[_0x4375e1(0xce9)]()){const _0xd6c9cb=_0x34c270[_0x4375e1(0xd0c)]()[_0x4375e1(0xc2e)]||[],_0x527edc=[...new Set([..._0xd6c9cb,..._0x41985d])];await updateDoc(_0x1ab1c3,{'students':_0x527edc}),_0x1fc870['value']='';}}catch(_0x8d39ef){console[_0x4375e1(0xcb6)](_0x4375e1(0x50e),_0x8d39ef),showMessage(_0x4375e1(0xb96));}});async function handleManualQuizPairing(_0x5a3f3){const _0x52aa6b=_0x4a01bc,_0x2eec19=document['getElementById'](_0x52aa6b(0x490)),_0x56714e=document[_0x52aa6b(0x657)]('move-quiz-project-select'),_0x44b3aa=_0x2eec19['querySelector']('h3'),_0x3ac558=document[_0x52aa6b(0x657)]('confirm-move-quiz-btn'),_0x425704=document['getElementById'](_0x52aa6b(0x8a0));_0x44b3aa['textContent']=_0x52aa6b(0xaf7),_0x56714e[_0x52aa6b(0x891)]=_0x52aa6b(0x88c),_0x3ac558[_0x52aa6b(0x54c)]=_0x52aa6b(0xcd1),_0x2eec19['classList']['remove'](_0x52aa6b(0x599));const _0x36b666=allQuizzes['filter'](_0x1b51f9=>_0x1b51f9['id']!==_0x5a3f3);_0x36b666[_0x52aa6b(0x8ca)]===0x0?(_0x56714e[_0x52aa6b(0x891)]=_0x52aa6b(0x231),_0x3ac558['disabled']=!![]):(_0x56714e[_0x52aa6b(0x891)]=_0x52aa6b(0x8f5)+_0x36b666['map'](_0x13218e=>'<option\x20value=\x22'+_0x13218e['id']+'\x22>'+_0x13218e[_0x52aa6b(0xb1c)]+_0x52aa6b(0xdb1))[_0x52aa6b(0x566)](''),_0x3ac558['disabled']=![]);const _0x219f02=async()=>{const _0x148aa1=_0x52aa6b,_0xfed1c6=_0x56714e[_0x148aa1(0x68e)];if(!_0xfed1c6){showMessage(_0x148aa1(0x220));return;}_0x3ac558[_0x148aa1(0x4b4)]=!![],_0x3ac558[_0x148aa1(0x54c)]='กำลังจับคู่...';try{const _0x3b3b4c=doc(db,_0x148aa1(0x4b1)+appId+'/public/data/quizzes',_0x5a3f3),_0x3382f0=doc(db,_0x148aa1(0x4b1)+appId+'/public/data/quizzes',_0xfed1c6),_0x23c24d=writeBatch(db);_0x23c24d[_0x148aa1(0x294)](_0x3b3b4c,{'pairedQuizId':_0xfed1c6}),_0x23c24d[_0x148aa1(0x294)](_0x3382f0,{'pairedQuizId':_0x5a3f3}),await _0x23c24d['commit'](),showMessage(_0x148aa1(0xc0d)),_0x2eec19[_0x148aa1(0xb6d)][_0x148aa1(0xa52)](_0x148aa1(0x599));}catch(_0x5d09a3){console[_0x148aa1(0xcb6)](_0x148aa1(0xd24),_0x5d09a3),showMessage(_0x148aa1(0x59f));}finally{_0x44b3aa['textContent']=_0x148aa1(0xee9),_0x3ac558[_0x148aa1(0x54c)]=_0x148aa1(0x727),_0x3ac558[_0x148aa1(0x4b4)]=![],_0x3ac558[_0x148aa1(0xb77)](_0x148aa1(0x4ca),_0x219f02),_0x425704['removeEventListener'](_0x148aa1(0x4ca),_0x1953cd);}},_0x1953cd=()=>{const _0x3f3744=_0x52aa6b;_0x2eec19[_0x3f3744(0xb6d)][_0x3f3744(0xa52)](_0x3f3744(0x599)),_0x44b3aa[_0x3f3744(0x54c)]=_0x3f3744(0xee9),_0x3ac558[_0x3f3744(0x54c)]=_0x3f3744(0x727),_0x3ac558[_0x3f3744(0xb77)](_0x3f3744(0x4ca),_0x219f02),_0x425704[_0x3f3744(0xb77)](_0x3f3744(0x4ca),_0x1953cd);};_0x3ac558['addEventListener'](_0x52aa6b(0x4ca),_0x219f02),_0x425704['addEventListener']('click',_0x1953cd);}function handleDeleteStudent(_0xd40220){const _0x5b69e6=_0x4a01bc;showConfirmation(_0x5b69e6(0xd3e)+_0xd40220+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x441893=_0x5b69e6;if(!currentProjectId||!currentProjectData)return;const _0x1c7c0f=currentProjectData[_0x441893(0xc2e)][_0x441893(0xc4c)](_0x236493=>_0x236493!==_0xd40220);try{const _0x44b213=doc(db,_0x441893(0x4b1)+appId+'/public/data/projects',currentProjectId),_0x10dfe7=doc(db,_0x441893(0x4b1)+appId+_0x441893(0x53e)+currentProjectId+_0x441893(0x9f2),_0xd40220),_0x5a7e12=writeBatch(db);_0x5a7e12['update'](_0x44b213,{'students':_0x1c7c0f}),_0x5a7e12[_0x441893(0x95e)](_0x10dfe7),await _0x5a7e12['commit']();}catch(_0x26a7b8){console[_0x441893(0xcb6)]('Error\x20deleting\x20student:',_0x26a7b8),showMessage(_0x441893(0x574));}});}function handleDeleteAllStudents(){const _0x14c2db=_0x4a01bc;showConfirmation(_0x14c2db(0x3dd),async()=>{const _0x24b516=_0x14c2db;if(!currentProjectId)return;try{const _0x3e537c=doc(db,_0x24b516(0x4b1)+appId+_0x24b516(0x780),currentProjectId),_0x9c787e=collection(db,_0x24b516(0x4b1)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0x192d5=await getDocs(_0x9c787e),_0x1a0337=writeBatch(db);_0x1a0337['update'](_0x3e537c,{'students':[]}),_0x192d5[_0x24b516(0x427)](_0x2dd3e8=>_0x1a0337['delete'](_0x2dd3e8[_0x24b516(0xcff)])),await _0x1a0337[_0x24b516(0xb4a)]();}catch(_0x3ecbc9){console[_0x24b516(0xcb6)]('Error\x20deleting\x20all\x20students:',_0x3ecbc9),showMessage(_0x24b516(0xa1b));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x465f8d){const _0x3a293e=_0x4a01bc,_0x2a6eb3=document[_0x3a293e(0x657)](_0x3a293e(0xb79)),_0x1929c6=document[_0x3a293e(0x657)]('file-topics-list');_0x2a6eb3[_0x3a293e(0xb6d)][_0x3a293e(0x66f)](_0x3a293e(0x599)),_0x1929c6[_0x3a293e(0x891)]=_0x3a293e(0x25c);try{const _0xf2575c=new FileReader();_0xf2575c['readAsDataURL'](_0x465f8d),await new Promise((_0x5a864c,_0x43c51d)=>{const _0x3b5c6e=_0x3a293e;_0xf2575c['onload']=()=>{const _0x1b4f23=_0x551a;fileDataBase64=_0xf2575c[_0x1b4f23(0x3fa)][_0x1b4f23(0x805)](',')[0x1],fileMimeType=_0x465f8d['type'],_0x5a864c();},_0xf2575c[_0x3b5c6e(0xa4c)]=_0x57d9bb=>_0x43c51d(_0x57d9bb);});if(!fileDataBase64)throw new Error(_0x3a293e(0xce6));const _0x4d964d=_0x3a293e(0x668),_0xac648={'type':_0x3a293e(0x73e),'properties':{'topics':{'type':_0x3a293e(0x614),'items':{'type':_0x3a293e(0xcf1)}}},'required':[_0x3a293e(0x8b3)]},_0x386ba=[{'text':_0x4d964d},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x1f9a97=await handleApiCall(_0x386ba,_0x3a293e(0xe32),_0xac648,null,![]);if(_0x1f9a97&&_0x1f9a97[_0x3a293e(0x8b3)])extractedFileTopics=_0x1f9a97[_0x3a293e(0x8b3)],renderFileTopics();else throw new Error(_0x3a293e(0x918));}catch(_0x1f7752){console[_0x3a293e(0xcb6)](_0x3a293e(0xbb7),_0x1f7752),_0x1929c6[_0x3a293e(0x891)]=_0x3a293e(0x3d3)+_0x1f7752[_0x3a293e(0x9a1)]+_0x3a293e(0xcec);}}function renderFileTopics(){const _0xecd6e1=_0x4a01bc,_0x4b8c76=document[_0xecd6e1(0x657)](_0xecd6e1(0x26a));if(extractedFileTopics[_0xecd6e1(0x8ca)]===0x0){_0x4b8c76[_0xecd6e1(0x891)]=_0xecd6e1(0x64e);return;}_0x4b8c76[_0xecd6e1(0x891)]=extractedFileTopics[_0xecd6e1(0x823)](_0x530f56=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x530f56+_0xecd6e1(0x914)+escape(_0x530f56)+_0xecd6e1(0x371)+escape(_0x530f56)+_0xecd6e1(0x7f9))[_0xecd6e1(0x566)]('');}async function generateHybridQuizForTopic(_0xc24aba){const _0x3a98e4=_0x4a01bc,_0xd6edce=parseInt(document[_0x3a98e4(0x657)](_0x3a98e4(0x949))[_0x3a98e4(0x68e)],0xa),_0x33d808=document[_0x3a98e4(0x657)](_0x3a98e4(0xc09))['value'],_0x497ee6=document['getElementById'](_0x3a98e4(0xedf))[_0x3a98e4(0x68e)],_0x43e6b0=document[_0x3a98e4(0x657)](_0x3a98e4(0xf04))[_0x3a98e4(0x536)],_0x4fb673=_0x43e6b0?_0x3a98e4(0xcb7):_0x3a98e4(0x4d0);let _0x246fe1='',_0x48b1d1;const _0x3e8719={'type':_0x3a98e4(0x73e),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3a98e4(0x614),'items':{'type':_0x3a98e4(0xcf1)}},'correctAnswerIndex':{'type':_0x3a98e4(0x24a)},'explanation':{'type':_0x3a98e4(0xcf1)},'imageCode':{'type':_0x3a98e4(0xcf1)}},'required':[_0x3a98e4(0xbf2),_0x3a98e4(0x5e9),_0x3a98e4(0xf16),_0x3a98e4(0xa6b)]},_0x1440c6={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x3a98e4(0x9b7)},'explanation':{'type':_0x3a98e4(0xcf1)},'imageCode':{'type':_0x3a98e4(0xcf1)}},'required':[_0x3a98e4(0xbf2),'correctAnswer',_0x3a98e4(0xa6b)]},_0x24a78c={'type':_0x3a98e4(0x73e),'properties':{'questionText':{'type':_0x3a98e4(0xcf1)},'idealAnswer':{'type':_0x3a98e4(0xcf1)},'explanation':{'type':_0x3a98e4(0xcf1)},'imageCode':{'type':_0x3a98e4(0xcf1)}},'required':[_0x3a98e4(0xbf2),'idealAnswer',_0x3a98e4(0xa6b)]},_0x616c9a={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x3a98e4(0xd13)]},'stem':{'type':_0x3a98e4(0xcf1)},'correctResponse':{'type':_0x3a98e4(0xcf1)},'allResponses':{'type':_0x3a98e4(0x614),'items':{'type':_0x3a98e4(0xcf1)}},'explanation':{'type':_0x3a98e4(0xcf1)},'imageCode':{'type':_0x3a98e4(0xcf1)}},'required':[_0x3a98e4(0x7ed),_0x3a98e4(0x472),_0x3a98e4(0xdf0),_0x3a98e4(0xa5e),_0x3a98e4(0xa6b)]};switch(_0x33d808){case _0x3a98e4(0xa7c):const _0x36d63b=_0x3a98e4(0xdfb);prompt=_0x3a98e4(0xf0e)+subjectPrefix+'\x20'+settings[_0x3a98e4(0xd1c)]+'\x20ข้อ\x20'+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x3a98e4(0xf17)+settings['numChoices']+_0x3a98e4(0xb31)+_0x36d63b+_0x3a98e4(0xaf2)+_0x4fb673+'\x20'+simpleMathPrompt,schema=_0x3e8719;break;case _0x3a98e4(0x446):_0x246fe1='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x48b1d1=_0x1440c6;break;case _0x3a98e4(0x467):_0x246fe1=_0x3a98e4(0x863),_0x48b1d1=_0x24a78c;break;case _0x3a98e4(0xc21):_0x246fe1=_0x3a98e4(0x9b2),_0x48b1d1=_0x616c9a;break;case'fill_in_with_choices':_0x246fe1=_0x3a98e4(0x423)+_0x497ee6+_0x3a98e4(0xd80),_0x48b1d1=_0x3e8719;break;default:_0x246fe1='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x497ee6+_0x3a98e4(0xd80),_0x48b1d1=_0x3e8719;break;}const _0x3a2c85=_0x3a98e4(0x3dc),_0x59d2f8=document['getElementById'](_0x3a98e4(0x653)),_0x32c90c=document[_0x3a98e4(0x657)](_0x3a98e4(0x616)),_0x59f5c0=document[_0x3a98e4(0x657)]('generated-quiz-container');document['getElementById'](_0x3a98e4(0xcf4))[_0x3a98e4(0xb6d)][_0x3a98e4(0x66f)]('hidden'),_0x59f5c0[_0x3a98e4(0x891)]='',_0x59d2f8[_0x3a98e4(0xb6d)][_0x3a98e4(0x66f)]('hidden'),_0x32c90c[_0x3a98e4(0x54c)]=_0x3a98e4(0xeab)+_0xc24aba+_0x3a98e4(0xc9b)+_0xd6edce+_0x3a98e4(0xe5b);try{const _0x48b734=_0x3a98e4(0xe30),_0x33f9ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0xc24aba+_0x3a98e4(0xd41)+_0xd6edce+_0x3a98e4(0xbb8)+_0xc24aba+_0x3a98e4(0x8d8)+_0xd6edce+_0x3a98e4(0x601)+_0x4fb673+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x246fe1+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x3a2c85+_0x3a98e4(0xb7b)+_0x48b734+_0x3a98e4(0x822)+simpleMathPrompt+_0x3a98e4(0xc20),_0xcb897c={'type':'OBJECT','properties':{'topic':{'type':_0x3a98e4(0xcf1)},'questions':{'type':_0x3a98e4(0x614),'items':_0x48b1d1}},'required':[_0x3a98e4(0xb1c),_0x3a98e4(0x3ef)]},_0x4172ff=[{'text':_0x33f9ae},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4172ff,_0x3a98e4(0xe8b)+_0xc24aba+_0x3a98e4(0x689),_0xcb897c);}catch(_0x83d177){console[_0x3a98e4(0xcb6)](_0x3a98e4(0xc38),_0x83d177),showMessage(_0x3a98e4(0xc44)+_0x83d177[_0x3a98e4(0x9a1)]),_0x59f5c0[_0x3a98e4(0x891)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x59d2f8[_0x3a98e4(0xb6d)]['add'](_0x3a98e4(0x599));}}async function handleGenerateFromFileClick(){const _0x37550e=_0x4a01bc;if(!selectedFile){showMessage(_0x37550e(0x1d8));return;}const _0x625611=document[_0x37550e(0x657)](_0x37550e(0x653)),_0x449dff=document['getElementById'](_0x37550e(0x616)),_0x579fa4=document[_0x37550e(0x657)](_0x37550e(0x197)),_0x407ec1=document[_0x37550e(0x657)]('generate-from-file-btn');_0x407ec1['disabled']=!![],document[_0x37550e(0x657)](_0x37550e(0xcf4))[_0x37550e(0xb6d)][_0x37550e(0x66f)](_0x37550e(0x599)),_0x579fa4['innerHTML']='',_0x625611[_0x37550e(0xb6d)]['remove'](_0x37550e(0x599)),_0x449dff[_0x37550e(0x54c)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x3344a3=await new Promise((_0x4d3247,_0x2d3357)=>{const _0x592ad1=_0x37550e,_0x43c823=new FileReader();_0x43c823[_0x592ad1(0x6d9)](selectedFile),_0x43c823[_0x592ad1(0x9ee)]=()=>_0x4d3247(_0x43c823[_0x592ad1(0x3fa)][_0x592ad1(0x805)](',')[0x1]),_0x43c823['onerror']=_0x417672=>_0x2d3357(_0x417672);});await generateQuizFromFile(selectedFile[_0x37550e(0xd6c)],_0x3344a3);}catch(_0x8e7b65){console[_0x37550e(0xcb6)](_0x37550e(0x6a7),_0x8e7b65),showMessage(_0x37550e(0xf07)+_0x8e7b65[_0x37550e(0x9a1)]),_0x625611[_0x37550e(0xb6d)][_0x37550e(0xa52)](_0x37550e(0x599)),_0x407ec1[_0x37550e(0x4b4)]=![];}}function autoFormatMath(_0x156a27){const _0x3a98fc=_0x4a01bc;if(typeof _0x156a27!==_0x3a98fc(0x9a5)||!_0x156a27)return _0x156a27;const _0x39fec5=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x428429=_0x156a27['replace'](_0x39fec5,_0x2294f0=>{return'$'+_0x2294f0['trim']()+'$';});return _0x428429;}function sanitizeQuizData(_0x1a39d5){const _0x49f587=_0x4a01bc;if(!_0x1a39d5||!_0x1a39d5[_0x49f587(0x3ef)])return _0x1a39d5;const _0x4c497c=_0x192a73=>{const _0x1b2716=_0x49f587;if(typeof _0x192a73!==_0x1b2716(0x9a5))return _0x192a73;let _0x5c6959=_0x192a73;_0x5c6959=_0x5c6959['replace'](/\\\(/g,'$')[_0x1b2716(0xdf2)](/\\\)/g,'$'),_0x5c6959=_0x5c6959['replace'](/\\\[/g,'$$')[_0x1b2716(0xdf2)](/\\\]/g,'$$'),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?imes\b/g,'\x5ctimes'),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?text\b/g,_0x1b2716(0xc0a)),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?sqrt\b/g,'\x5csqrt'),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?frac\b/g,'\x5cfrac'),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?cdot\b/g,'\x5ccdot'),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?pi\b/g,_0x1b2716(0xba7)),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?div\b/g,'\x5cdiv'),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?leq\b/g,'\x5cleq'),_0x5c6959=_0x5c6959['replace'](/\\?geq\b/g,_0x1b2716(0x316)),_0x5c6959=_0x5c6959['replace'](/\\?approx\b/g,_0x1b2716(0xd0f)),_0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](/\\?ne\b/g,'\x5cne');const _0x62719b=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x5c6959=_0x5c6959[_0x1b2716(0xdf2)](_0x62719b,_0x434624=>{return'$'+_0x434624['trim']()+'$';}),_0x5c6959;};return _0x1a39d5[_0x49f587(0xb1c)]&&(_0x1a39d5[_0x49f587(0xb1c)]=_0x4c497c(_0x1a39d5[_0x49f587(0xb1c)])),_0x1a39d5['questions'][_0x49f587(0x427)](_0x35248a=>{const _0x360e59=_0x49f587;_0x35248a[_0x360e59(0xbf2)]=_0x4c497c(_0x35248a[_0x360e59(0xbf2)]),_0x35248a['stem']=_0x4c497c(_0x35248a[_0x360e59(0x472)]),_0x35248a['options']&&(_0x35248a['options']=_0x35248a[_0x360e59(0x5e9)][_0x360e59(0x823)](_0x2e3263=>_0x4c497c(_0x2e3263))),_0x35248a[_0x360e59(0xa6b)]&&(_0x35248a[_0x360e59(0xa6b)]=_0x4c497c(_0x35248a['explanation'])),_0x35248a[_0x360e59(0xdf0)]&&(_0x35248a['correctResponse']=_0x4c497c(_0x35248a[_0x360e59(0xdf0)])),_0x35248a[_0x360e59(0xa5e)]&&(_0x35248a[_0x360e59(0xa5e)]=_0x35248a['allResponses']['map'](_0x124ea7=>_0x4c497c(_0x124ea7))),_0x35248a['idealAnswer']&&(_0x35248a[_0x360e59(0x9c1)]=_0x4c497c(_0x35248a[_0x360e59(0x9c1)]));}),_0x1a39d5;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x288198=_0x4a01bc,_0x51cb2c=document['getElementById'](_0x288198(0xa01)),_0x3742a8=document[_0x288198(0x657)](_0x288198(0xdd1)),_0x439427=_0x51cb2c[_0x288198(0x68e)][_0x288198(0x5b2)](),_0xc94706=_0x3742a8[_0x288198(0x68e)][_0x288198(0x5b2)]();if(!_0x439427){showMessage(_0x288198(0xb25));return;}const _0x183eb7=document[_0x288198(0x657)]('loader'),_0x22fc66=document['getElementById'](_0x288198(0x616)),_0xe60216=document[_0x288198(0x657)](_0x288198(0x197)),_0x44dad5=document['getElementById'](_0x288198(0x5fe));document['getElementById'](_0x288198(0xcf4))[_0x288198(0xb6d)][_0x288198(0x66f)]('hidden'),_0xe60216[_0x288198(0x891)]='',_0x183eb7[_0x288198(0xb6d)][_0x288198(0x66f)](_0x288198(0x599)),_0x22fc66['textContent']=_0x288198(0x666),_0x44dad5[_0x288198(0x4b4)]=!![];try{const _0x13d06a='https://corsproxy.io/?'+encodeURIComponent(_0x439427),_0x32f73b=await fetch(_0x13d06a);if(!_0x32f73b['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x32f73b[_0x288198(0x531)]+')');const _0x12295f=await _0x32f73b[_0x288198(0xe09)](),_0x10a330=extractTextFromHtml(_0x12295f);if(!_0x10a330||_0x10a330['length']<0x64)throw new Error(_0x288198(0x4de));await generateQuiz(_0xc94706,_0x10a330);}catch(_0x1820f0){console['error'](_0x288198(0x3d1),_0x1820f0),showMessage(_0x288198(0xc44)+_0x1820f0[_0x288198(0x9a1)]),_0xe60216[_0x288198(0x891)]=_0x288198(0xf3d);}finally{_0x183eb7[_0x288198(0xb6d)][_0x288198(0xa52)](_0x288198(0x599)),_0x44dad5[_0x288198(0x4b4)]=![];}}function extractTextFromHtml(_0x4f944c){const _0x50657b=_0x4a01bc,_0x570e06=new DOMParser()[_0x50657b(0x864)](_0x4f944c,_0x50657b(0x3ca));return _0x570e06[_0x50657b(0x180)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x50657b(0x427)](_0x4fc5ab=>_0x4fc5ab[_0x50657b(0x66f)]()),_0x570e06[_0x50657b(0x754)][_0x50657b(0x54c)]||'';}document[_0x4a01bc(0x657)]('generate-from-topic-btn')[_0x4a01bc(0xdc6)](_0x4a01bc(0x4ca),()=>{const _0x5695b8=_0x4a01bc,_0x30f296=document[_0x5695b8(0x657)](_0x5695b8(0x68f))[_0x5695b8(0x68e)]['trim']();generateQuiz(_0x30f296,null);}),document[_0x4a01bc(0x657)]('generate-from-text-btn')['addEventListener'](_0x4a01bc(0x4ca),()=>{const _0x4a1639=_0x4a01bc,_0x76aff8=document['getElementById'](_0x4a1639(0x732))['value']['trim']();if(!_0x76aff8){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x166aa5=document[_0x4a1639(0x657)](_0x4a1639(0x68f))[_0x4a1639(0x68e)]['trim']();generateQuiz(_0x166aa5,_0x76aff8);});async function generateQuiz(_0x362a91,_0x2c11e1,_0x490176=null,_0x4ab69f=null,_0x2fc946=![],_0x4a46d0=null,_0x23fd9d=null,_0x3b7b82=![]){const _0x4fe7a2=_0x4a01bc;let _0x5a9cff={};if(_0x2fc946&&blueprintPageSettings)_0x5a9cff=blueprintPageSettings;else{const _0x8691d=document[_0x4fe7a2(0x180)]('#math-topics-checkbox-container\x20input:checked');_0x5a9cff={'quizType':document[_0x4fe7a2(0x657)](_0x4fe7a2(0xc09))[_0x4fe7a2(0x68e)],'numQuestions':document[_0x4fe7a2(0x657)](_0x4fe7a2(0x949))[_0x4fe7a2(0x68e)],'numChoices':document[_0x4fe7a2(0x657)](_0x4fe7a2(0xedf))['value'],'includeImages':document[_0x4fe7a2(0x657)](_0x4fe7a2(0xf04))[_0x4fe7a2(0x536)],'isNormalTopic':document[_0x4fe7a2(0x657)](_0x4fe7a2(0xaaf))[_0x4fe7a2(0x536)],'difficultyValue':document[_0x4fe7a2(0x657)]('difficulty-level-select')[_0x4fe7a2(0x68e)],'complexityValue':document[_0x4fe7a2(0x657)](_0x4fe7a2(0xafe))['value'],'selectedTopicNames':Array[_0x4fe7a2(0x5ac)](_0x8691d)[_0x4fe7a2(0x823)](_0x1a4a3f=>_0x1a4a3f['value'])};}const _0x268509=_0x5a9cff[_0x4fe7a2(0x5ba)]?'':_0x4fe7a2(0xcad),_0x325286=_0x5a9cff[_0x4fe7a2(0x66c)]!==_0x4fe7a2(0x2dd)?_0x4fe7a2(0x969)+_0x5a9cff[_0x4fe7a2(0x66c)]+'\x22':'',_0x2195d4=_0x5a9cff[_0x4fe7a2(0x4e4)]!==_0x4fe7a2(0xb2f)?_0x4fe7a2(0x544)+_0x5a9cff[_0x4fe7a2(0x4e4)]+_0x4fe7a2(0x464):'';let _0x4e00d9='';_0x5a9cff[_0x4fe7a2(0x976)]&&_0x5a9cff[_0x4fe7a2(0x976)][_0x4fe7a2(0x8ca)]>0x0&&(_0x4e00d9=_0x4fe7a2(0x2cc)+_0x5a9cff[_0x4fe7a2(0x976)]['join'](',\x20')+'.');let _0x4b299f='';_0x4ab69f&&(_0x4b299f=_0x4fe7a2(0xf39));let _0x12df4c='',_0x3c6a99='',_0x172efe,_0x4d39c6='เกี่ยวกับหัวข้อ\x20\x22'+_0x362a91+'\x22';if(!_0x362a91&&_0x2c11e1)_0x4d39c6=_0x4fe7a2(0x7c4);else!_0x362a91&&!_0x2c11e1&&(_0x4d39c6='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0xb399f9={'type':_0x4fe7a2(0x73e),'properties':{'questionText':{'type':_0x4fe7a2(0xcf1)},'options':{'type':'ARRAY','items':{'type':_0x4fe7a2(0xcf1)}},'correctAnswerIndex':{'type':_0x4fe7a2(0x24a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4fe7a2(0xcf1)}},'required':[_0x4fe7a2(0xbf2),_0x4fe7a2(0x5e9),'correctAnswerIndex',_0x4fe7a2(0xa6b)]},_0x424d8a={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4fe7a2(0xcf1)}},'required':[_0x4fe7a2(0xbf2),'idealAnswer',_0x4fe7a2(0xa6b)]},_0x55870c={'type':'OBJECT','properties':{'questionText':{'type':_0x4fe7a2(0xcf1)},'questionType':{'type':_0x4fe7a2(0xcf1),'enum':[_0x4fe7a2(0xa7c),_0x4fe7a2(0x190)]},'options':{'type':_0x4fe7a2(0x614),'items':{'type':_0x4fe7a2(0xcf1)}},'correctAnswerIndex':{'type':_0x4fe7a2(0x24a)},'idealAnswer':{'type':_0x4fe7a2(0xcf1)},'explanation':{'type':_0x4fe7a2(0xcf1)},'imageCode':{'type':_0x4fe7a2(0xcf1)}},'required':[_0x4fe7a2(0xbf2),_0x4fe7a2(0x7ed),_0x4fe7a2(0xa6b)]},_0x46130a={'type':_0x4fe7a2(0x73e),'properties':{'questionText':{'type':_0x4fe7a2(0xcf1)},'correctAnswer':{'type':_0x4fe7a2(0x9b7)},'explanation':{'type':_0x4fe7a2(0xcf1)},'imageCode':{'type':'STRING'}},'required':[_0x4fe7a2(0xbf2),_0x4fe7a2(0x315),'explanation']},_0x254fcf={'type':_0x4fe7a2(0x73e),'properties':{'questionType':{'type':_0x4fe7a2(0xcf1),'enum':[_0x4fe7a2(0xd13)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x4fe7a2(0xcf1)}},'explanation':{'type':_0x4fe7a2(0xcf1)},'imageCode':{'type':_0x4fe7a2(0xcf1)}},'required':[_0x4fe7a2(0x7ed),_0x4fe7a2(0x472),'correctResponse',_0x4fe7a2(0xa5e),_0x4fe7a2(0xa6b)]};let _0x5ef91b;if(_0x490176!==null){const _0x5d7f66=currentQuizData['questions'][_0x490176][_0x4fe7a2(0x7ed)],_0x4c348b=_0x5a9cff[_0x4fe7a2(0x27e)]?_0x4fe7a2(0x72c):'';_0x12df4c=_0x4fe7a2(0x945)+_0x4d39c6+'\x20'+_0x4e00d9+'\x20'+_0x325286+_0x4fe7a2(0xa35)+_0x4c348b+'\x20'+simpleMathPrompt;if(_0x5d7f66===_0x4fe7a2(0xa7c))_0x172efe=_0xb399f9;else{if(_0x5d7f66===_0x4fe7a2(0xd13))_0x172efe={'type':'OBJECT','properties':{'questionType':{'type':_0x4fe7a2(0xcf1),'enum':[_0x4fe7a2(0xd13)]},'stem':{'type':_0x4fe7a2(0xcf1)},'correctResponse':{'type':_0x4fe7a2(0xcf1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4fe7a2(0xcf1)}},'required':[_0x4fe7a2(0x7ed),_0x4fe7a2(0x472),'correctResponse',_0x4fe7a2(0xa6b)]};else _0x172efe=_0x424d8a;}_0x5ef91b=_0x172efe;}else{const _0x4290ff=_0x5a9cff[_0x4fe7a2(0x27e)]?_0x4fe7a2(0xdb6):'';switch(_0x5a9cff['quizType']){case'multiple_choice':const _0x9709ec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';_0x12df4c=_0x4fe7a2(0xf0e)+_0x268509+'\x20'+_0x5a9cff[_0x4fe7a2(0xd1c)]+_0x4fe7a2(0x6bf)+_0x4d39c6+'\x20'+_0x4e00d9+'\x20'+_0x325286+'\x20'+_0x2195d4+'\x20'+_0x4b299f+_0x4fe7a2(0xf17)+_0x5a9cff[_0x4fe7a2(0x22a)]+_0x4fe7a2(0xb31)+_0x9709ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x4290ff+'\x20'+simpleMathPrompt,_0x172efe=_0xb399f9;break;case _0x4fe7a2(0xbe6):_0x12df4c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x268509+'\x20'+_0x5a9cff[_0x4fe7a2(0xd1c)]+_0x4fe7a2(0x6bf)+_0x4d39c6+'\x20'+_0x4e00d9+'\x20'+_0x325286+'\x20'+_0x2195d4+'\x20'+_0x4b299f+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x5a9cff[_0x4fe7a2(0x22a)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4290ff+'\x20'+simpleMathPrompt,_0x172efe=_0xb399f9;break;case _0x4fe7a2(0x467):_0x12df4c=_0x4fe7a2(0xd35)+_0x268509+'\x20'+_0x5a9cff[_0x4fe7a2(0xd1c)]+'\x20ข้อ\x20'+_0x4d39c6+'\x20'+_0x4e00d9+'\x20'+_0x325286+'\x20'+_0x2195d4+'\x20'+_0x4b299f+_0x4fe7a2(0xafb)+_0x4290ff+'\x20'+simpleMathPrompt,_0x172efe=_0x424d8a;break;case _0x4fe7a2(0xb2f):_0x12df4c=_0x4fe7a2(0xe6d)+_0x268509+'\x20'+_0x5a9cff[_0x4fe7a2(0xd1c)]+_0x4fe7a2(0x6bf)+_0x4d39c6+'\x20'+_0x4e00d9+'\x20'+_0x325286+'\x20'+_0x2195d4+'\x20'+_0x4b299f+_0x4fe7a2(0x41c)+_0x5a9cff[_0x4fe7a2(0x22a)]+_0x4fe7a2(0xb41)+_0x4290ff+'\x20'+simpleMathPrompt+'.',_0x172efe=_0x55870c;break;case _0x4fe7a2(0x446):_0x12df4c='สร้างคำถามแบบใช่/ไม่ใช่'+_0x268509+'\x20'+_0x5a9cff['numQuestions']+_0x4fe7a2(0x6bf)+_0x4d39c6+'\x20'+_0x4e00d9+'\x20'+_0x325286+'\x20'+_0x2195d4+'\x20'+_0x4b299f+_0x4fe7a2(0xdde)+_0x4290ff+'\x20'+simpleMathPrompt,_0x172efe=_0x46130a;break;case _0x4fe7a2(0xc21):_0x12df4c=_0x4fe7a2(0x528)+_0x268509+'\x20'+_0x5a9cff['numQuestions']+_0x4fe7a2(0xec3)+_0x4d39c6+'\x20'+_0x4e00d9+'\x20'+_0x325286+'\x20'+_0x2195d4+'\x20'+_0x4b299f+_0x4fe7a2(0xd43)+_0x5a9cff[_0x4fe7a2(0xd1c)]+_0x4fe7a2(0x477)+_0x4290ff+'\x20'+simpleMathPrompt,_0x172efe=_0x254fcf;break;}_0x5ef91b={'type':'OBJECT','properties':{'topic':{'type':_0x4fe7a2(0xcf1)},'questions':{'type':'ARRAY','items':_0x172efe}},'required':['topic',_0x4fe7a2(0x3ef)]};}const _0x510170=_0x4fe7a2(0x887);_0x2c11e1?(_0x3b7b82?_0x12df4c=_0x4fe7a2(0x4df)+_0x2c11e1+_0x4fe7a2(0x6fc)+_0x12df4c+_0x510170:_0x12df4c=_0x4fe7a2(0x4df)+_0x2c11e1+_0x4fe7a2(0x6fc)+_0x12df4c,_0x3c6a99=_0x4fe7a2(0x18d)):(_0x3b7b82&&(_0x12df4c+=_0x510170),_0x3c6a99=_0x4fe7a2(0x6a0));let _0x30b8f1;return _0x4ab69f?(_0x30b8f1=[{'text':_0x12df4c},..._0x4ab69f],_0x3c6a99=_0x4fe7a2(0x45e)):_0x30b8f1=_0x12df4c,handleApiCall(_0x30b8f1,_0x3c6a99,_0x5ef91b,_0x490176,!![],_0x4a46d0,_0x23fd9d);}async function generateQuizFromFile(_0x2ff39c,_0x7972a9){const _0x5bb88c=_0x4a01bc,_0x34bbc3=document[_0x5bb88c(0x657)](_0x5bb88c(0xd78))[_0x5bb88c(0x68e)][_0x5bb88c(0x5b2)](),_0x5a1f4a=document[_0x5bb88c(0x657)](_0x5bb88c(0xc09))[_0x5bb88c(0x68e)],_0x415608=document[_0x5bb88c(0x657)](_0x5bb88c(0x949))['value'],_0x41ae2e=document[_0x5bb88c(0x657)](_0x5bb88c(0xedf))['value'],_0x4665ef=document['getElementById'](_0x5bb88c(0xf04))['checked'],_0x2c4beb=document[_0x5bb88c(0x657)](_0x5bb88c(0xaaf))[_0x5bb88c(0x536)],_0x1231e0=_0x2c4beb?'':'คณิตศาสตร์',_0x25a69b=document['getElementById'](_0x5bb88c(0x691))[_0x5bb88c(0x536)];let _0x3634d6='',_0x25d4f8;const _0x162a94=_0x4665ef?_0x5bb88c(0xdb6):'';if(_0x25a69b)_0x3634d6='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x162a94+'\x0a'+simpleMathPrompt+'\x0a',_0x25d4f8={'type':_0x5bb88c(0x73e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5bb88c(0xcf1),'enum':[_0x5bb88c(0xa7c),_0x5bb88c(0x190),_0x5bb88c(0x446),_0x5bb88c(0xd13)]},'options':{'type':_0x5bb88c(0x614),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5bb88c(0x24a)},'idealAnswer':{'type':_0x5bb88c(0xcf1)},'correctAnswer':{'type':_0x5bb88c(0x9b7)},'stem':{'type':_0x5bb88c(0xcf1)},'correctResponse':{'type':_0x5bb88c(0xcf1)},'allResponses':{'type':'ARRAY','items':{'type':_0x5bb88c(0xcf1)}},'explanation':{'type':_0x5bb88c(0xcf1)},'imageCode':{'type':_0x5bb88c(0xcf1)}},'required':[_0x5bb88c(0x7ed),'explanation']};else{let _0x9c6d2='เกี่ยวกับหัวข้อ\x20\x22'+_0x34bbc3+'\x22';!_0x34bbc3&&(_0x9c6d2=_0x5bb88c(0xacd));switch(_0x5a1f4a){case'multiple_choice':const _0x2a5c3a=_0x5bb88c(0xc89);_0x3634d6=_0x5bb88c(0xf0e)+_0x1231e0+'\x20'+_0x415608+_0x5bb88c(0x6bf)+_0x9c6d2+_0x5bb88c(0xb1e)+_0x41ae2e+_0x5bb88c(0x851)+_0x2a5c3a+_0x5bb88c(0xbce)+_0x162a94+'\x20'+simpleMathPrompt,_0x25d4f8={'type':_0x5bb88c(0x73e),'properties':{'questionText':{'type':_0x5bb88c(0xcf1)},'options':{'type':_0x5bb88c(0x614),'items':{'type':_0x5bb88c(0xcf1)}},'correctAnswerIndex':{'type':_0x5bb88c(0x24a)},'explanation':{'type':_0x5bb88c(0xcf1)},'imageCode':{'type':'STRING'}},'required':[_0x5bb88c(0xbf2),_0x5bb88c(0x5e9),'correctAnswerIndex',_0x5bb88c(0xa6b)]};break;case _0x5bb88c(0xbe6):_0x3634d6=_0x5bb88c(0xd35)+_0x1231e0+'\x20'+_0x415608+_0x5bb88c(0x6bf)+_0x9c6d2+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x41ae2e+_0x5bb88c(0x518)+_0x162a94+'\x20'+simpleMathPrompt,_0x25d4f8={'type':_0x5bb88c(0x73e),'properties':{'questionText':{'type':_0x5bb88c(0xcf1)},'options':{'type':_0x5bb88c(0x614),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5bb88c(0x24a)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5bb88c(0xbf2),_0x5bb88c(0x5e9),_0x5bb88c(0xf16),'explanation']};break;case'fill_in_no_choices':_0x3634d6=_0x5bb88c(0xd35)+_0x1231e0+'\x20'+_0x415608+_0x5bb88c(0x6bf)+_0x9c6d2+_0x5bb88c(0x2f6)+_0x162a94+'\x20'+simpleMathPrompt,_0x25d4f8={'type':'OBJECT','properties':{'questionText':{'type':_0x5bb88c(0xcf1)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5bb88c(0xcf1)},'imageCode':{'type':_0x5bb88c(0xcf1)}},'required':['questionText',_0x5bb88c(0x9c1),_0x5bb88c(0xa6b)]};break;case _0x5bb88c(0xb2f):_0x3634d6=_0x5bb88c(0xe6d)+_0x1231e0+'\x20'+_0x415608+'\x20ข้อ\x20'+_0x9c6d2+_0x5bb88c(0x551)+_0x41ae2e+_0x5bb88c(0x1ad)+_0x162a94+'\x20'+simpleMathPrompt+_0x5bb88c(0x788),_0x25d4f8={'type':'OBJECT','properties':{'questionText':{'type':_0x5bb88c(0xcf1)},'questionType':{'type':_0x5bb88c(0xcf1),'enum':[_0x5bb88c(0xa7c),_0x5bb88c(0x190)]},'options':{'type':_0x5bb88c(0x614),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5bb88c(0xcf1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5bb88c(0xcf1)}},'required':[_0x5bb88c(0xbf2),'questionType',_0x5bb88c(0xa6b)]};break;case _0x5bb88c(0x446):_0x3634d6='สร้างคำถามแบบใช่/ไม่ใช่'+_0x1231e0+'\x20'+_0x415608+_0x5bb88c(0x6bf)+_0x9c6d2+_0x5bb88c(0xf02)+_0x162a94+'\x20'+simpleMathPrompt,_0x25d4f8={'type':_0x5bb88c(0x73e),'properties':{'questionText':{'type':_0x5bb88c(0xcf1)},'correctAnswer':{'type':_0x5bb88c(0x9b7)},'explanation':{'type':_0x5bb88c(0xcf1)},'imageCode':{'type':_0x5bb88c(0xcf1)}},'required':['questionText','correctAnswer',_0x5bb88c(0xa6b)]};break;case _0x5bb88c(0xc21):_0x3634d6=_0x5bb88c(0x528)+_0x1231e0+'\x20'+_0x415608+_0x5bb88c(0xec3)+_0x9c6d2+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x415608+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x162a94+'\x20'+simpleMathPrompt,_0x25d4f8={'type':_0x5bb88c(0x73e),'properties':{'questionType':{'type':_0x5bb88c(0xcf1),'enum':[_0x5bb88c(0xd13)]},'stem':{'type':_0x5bb88c(0xcf1)},'correctResponse':{'type':_0x5bb88c(0xcf1)},'allResponses':{'type':'ARRAY','items':{'type':_0x5bb88c(0xcf1)}},'explanation':{'type':_0x5bb88c(0xcf1)},'imageCode':{'type':_0x5bb88c(0xcf1)}},'required':[_0x5bb88c(0x7ed),'stem','correctResponse',_0x5bb88c(0xa5e),'explanation']};break;}}const _0x2ced79={'type':_0x5bb88c(0x73e),'properties':{'topic':{'type':_0x5bb88c(0xcf1)},'questions':{'type':_0x5bb88c(0x614),'items':_0x25d4f8}},'required':[_0x5bb88c(0xb1c),_0x5bb88c(0x3ef)]},_0x42fabf=_0x5bb88c(0xeb4)+_0x3634d6,_0x4513bf={'contents':[{'parts':[{'text':_0x42fabf},{'inlineData':{'mimeType':_0x2ff39c,'data':_0x7972a9}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x2ced79}};return handleApiCall(_0x4513bf[_0x5bb88c(0x88b)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x2ced79);}async function handleApiCall(_0x2f6d7e,_0x427df2,_0x32fa7c,_0x53423b=null,_0x3b501c=!![],_0x486fa0=null,_0x236007=null){const _0x1bf754=_0x4a01bc,_0x437060=document[_0x1bf754(0x657)](_0x1bf754(0xcf4)),_0x5e6f7e=document['getElementById']('loader'),_0x4e6996=document['getElementById'](_0x1bf754(0x616)),_0x26b8d7=document[_0x1bf754(0x657)]('generated-quiz-container');_0x437060[_0x1bf754(0xb6d)][_0x1bf754(0x66f)](_0x1bf754(0x599));_0x53423b===null&&_0x3b501c&&(_0x26b8d7[_0x1bf754(0x891)]='');_0x5e6f7e[_0x1bf754(0xb6d)][_0x1bf754(0x66f)](_0x1bf754(0x599)),_0x4e6996[_0x1bf754(0x54c)]=_0x427df2,document[_0x1bf754(0x657)]('generate-from-topic-btn')[_0x1bf754(0x4b4)]=!![],document[_0x1bf754(0x657)](_0x1bf754(0xa41))[_0x1bf754(0x4b4)]=!![],document[_0x1bf754(0x657)](_0x1bf754(0x5fe))[_0x1bf754(0x4b4)]=!![];const _0x54eafa=document[_0x1bf754(0x657)](_0x1bf754(0x9e3));if(_0x54eafa)_0x54eafa[_0x1bf754(0x4b4)]=!![];const _0x34baf6=document[_0x1bf754(0x657)](_0x1bf754(0x7b6));if(_0x34baf6)_0x34baf6[_0x1bf754(0x4b4)]=!![];const _0x27301d=document[_0x1bf754(0x657)](_0x1bf754(0x2ab));if(_0x27301d)_0x27301d['disabled']=!![];try{const _0x14086d=Array[_0x1bf754(0x94e)](_0x2f6d7e)?_0x2f6d7e:[{'text':_0x2f6d7e}],_0x20281b={'contents':[{'role':_0x1bf754(0x53c),'parts':_0x14086d}]};_0x32fa7c&&(_0x20281b[_0x1bf754(0x6af)]={'responseMimeType':_0x1bf754(0x35a),'responseSchema':_0x32fa7c});const _0x4838f3=_0x1bf754(0x20f),_0x295e17=_0x1bf754(0xa3a)+_0x4838f3,_0x4f8a2b=await fetch(_0x295e17,{'method':_0x1bf754(0xe17),'headers':{'Content-Type':_0x1bf754(0x35a)},'body':JSON[_0x1bf754(0x7ba)](_0x20281b)});if(!_0x4f8a2b['ok']){const _0x5b161d=await _0x4f8a2b[_0x1bf754(0xe09)]();console[_0x1bf754(0xcb6)](_0x1bf754(0xa07),_0x5b161d);throw new Error(_0x1bf754(0xa21)+_0x4f8a2b[_0x1bf754(0x531)]);}const _0x203dcc=await _0x4f8a2b[_0x1bf754(0x8df)]();if(!_0x203dcc['candidates']||_0x203dcc['candidates'][_0x1bf754(0x8ca)]===0x0){let _0x5b4dc8='AI\x20did\x20not\x20return\x20any\x20content.';return _0x203dcc[_0x1bf754(0x826)]?.[_0x1bf754(0x40e)]&&(_0x5b4dc8=_0x1bf754(0xa0e)+_0x203dcc[_0x1bf754(0x826)][_0x1bf754(0x40e)]+'.'),console[_0x1bf754(0xcb6)](_0x5b4dc8,JSON[_0x1bf754(0x7ba)](_0x203dcc)),null;}const _0x2c54e9=_0x203dcc[_0x1bf754(0xa8d)][0x0][_0x1bf754(0xced)]['parts'][0x0]['text'];if(_0x32fa7c){let _0x24ad56=_0x2c54e9;if(_0x24ad56[_0x1bf754(0x1ce)](_0x1bf754(0xa8c)))_0x24ad56=_0x24ad56['substring'](0x7,_0x24ad56['length']-0x3)[_0x1bf754(0x5b2)]();else _0x24ad56[_0x1bf754(0x1ce)](_0x1bf754(0x6ae))&&(_0x24ad56=_0x24ad56[_0x1bf754(0x67b)](0x3,_0x24ad56[_0x1bf754(0x8ca)]-0x3)[_0x1bf754(0x5b2)]());let _0x246f3e=JSON[_0x1bf754(0xf3e)](_0x24ad56);if(_0x246f3e['questions']&&Array[_0x1bf754(0x94e)](_0x246f3e['questions'])){const _0xc872f5=_0x246f3e[_0x1bf754(0x3ef)][_0x1bf754(0xc4c)](_0x33b6c7=>_0x33b6c7[_0x1bf754(0x7ed)]==='matching_item');if(_0xc872f5[_0x1bf754(0x8ca)]>0x1){const _0x100642=_0xc872f5[_0x1bf754(0x823)](_0x3a17bb=>_0x3a17bb[_0x1bf754(0xdf0)])[_0x1bf754(0xc4c)](_0x5c7296=>_0x5c7296&&_0x5c7296['trim']()!=='');shuffleArray(_0x100642),_0xc872f5[_0x1bf754(0x427)](_0x3edc97=>{_0x3edc97['allResponses']=[..._0x100642];}),console['log'](_0x1bf754(0x318),_0x100642);}}if(_0x3b501c){if(_0x53423b!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x1bf754(0x3ef)]){}}else currentQuizData=_0x246f3e,displayGeneratedQuiz(currentQuizData,_0x486fa0,_0x236007);}return _0x246f3e;}else return _0x2c54e9;}catch(_0x5ae603){console['error'](_0x1bf754(0x415),_0x5ae603),showMessage(_0x1bf754(0x2a9)+_0x5ae603[_0x1bf754(0x9a1)]);_0x3b501c&&(_0x26b8d7[_0x1bf754(0x891)]=_0x1bf754(0xee6));throw _0x5ae603;}finally{_0x5e6f7e[_0x1bf754(0xb6d)][_0x1bf754(0xa52)]('hidden'),document[_0x1bf754(0x657)](_0x1bf754(0x486))[_0x1bf754(0x4b4)]=![],document[_0x1bf754(0x657)](_0x1bf754(0xa41))['disabled']=![],document['getElementById'](_0x1bf754(0x5fe))[_0x1bf754(0x4b4)]=![];if(_0x54eafa)_0x54eafa['disabled']=![];if(_0x34baf6)_0x34baf6[_0x1bf754(0x4b4)]=![];if(_0x27301d)_0x27301d['disabled']=![];}}function exitFullscreen(){const _0x2fb90a=_0x4a01bc;if(document[_0x2fb90a(0xb30)])document[_0x2fb90a(0xb30)]()[_0x2fb90a(0x91e)](_0x42e6ae=>console[_0x2fb90a(0xcb6)](_0x42e6ae));else{if(document[_0x2fb90a(0xc4b)])document['webkitExitFullscreen']();else document[_0x2fb90a(0x71f)]&&document[_0x2fb90a(0x71f)]();}}function enterFullscreen(){const _0x57e939=_0x4a01bc,_0x5a87e0=document['documentElement'];if(_0x5a87e0['requestFullscreen'])_0x5a87e0[_0x57e939(0x1ef)]()[_0x57e939(0x91e)](_0x50c7fd=>{const _0x1a6b0a=_0x57e939;console[_0x1a6b0a(0xcb6)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x50c7fd[_0x1a6b0a(0x9a1)]+'\x20('+_0x50c7fd[_0x1a6b0a(0x9ce)]+')');});else{if(_0x5a87e0['webkitRequestFullscreen'])_0x5a87e0['webkitRequestFullscreen']();else _0x5a87e0[_0x57e939(0xf35)]&&_0x5a87e0['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x51ec23=_0x4a01bc;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x51ec23(0xcc7)),document[_0x51ec23(0x657)](_0x51ec23(0x1d4))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x51ec23(0xb77)](_0x51ec23(0x4a0),handleVisibilityChange),document[_0x51ec23(0xb77)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x51ec23(0x43a),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x230095=_0x4a01bc;if(currentMode===_0x230095(0x233)||!isQuizActive)return;if(document['visibilityState']===_0x230095(0x599))handleCheatingEvent();else document[_0x230095(0x39f)]===_0x230095(0x38b)&&(console[_0x230095(0x546)](_0x230095(0xead)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x158696=_0x4a01bc;if(currentMode===_0x158696(0x233)||!isQuizActive)return;!document[_0x158696(0xb6b)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3be1cb,_0x3244c1=null,_0x39ec60=null){const _0x2c2059=_0x4a01bc,_0x353d57=document[_0x2c2059(0x657)](_0x2c2059(0x197));let _0x57ee79=_0x2c2059(0x287)+_0x3be1cb['topic']+_0x2c2059(0xf01);_0x3be1cb[_0x2c2059(0x3ef)]['forEach']((_0xc30ded,_0x408040)=>{const _0x3ec9ba=_0x2c2059;!_0xc30ded['id']&&(_0xc30ded['id']='q_'+Date[_0x3ec9ba(0x42d)]()+'_'+_0x408040);const _0x41a17e=_0xc30ded[_0x3ec9ba(0x7ed)]||_0x3be1cb[_0x3ec9ba(0x335)];_0x57ee79+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x408040+_0x3ec9ba(0x6f3)+_0x408040+_0x3ec9ba(0x96f)+_0x408040+_0x3ec9ba(0x25e);_0x41a17e===_0x3ec9ba(0xd13)?_0x57ee79+=_0x3ec9ba(0x3aa)+_0x408040+'\x22>'+(_0x408040+0x1)+'.\x20'+_0xc30ded['stem']+_0x3ec9ba(0xcec):_0x57ee79+=_0x3ec9ba(0x3aa)+_0x408040+'\x22>'+(_0x408040+0x1)+'.\x20'+_0xc30ded[_0x3ec9ba(0xbf2)]+'</p>';_0xc30ded[_0x3ec9ba(0x277)]&&(_0x57ee79+='<div\x20id=\x22q-image-container-'+_0x408040+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xc30ded[_0x3ec9ba(0x277)]+_0x3ec9ba(0xbfc));if(_0xc30ded[_0x3ec9ba(0x5e9)]&&Array[_0x3ec9ba(0x94e)](_0xc30ded['options'])&&_0xc30ded[_0x3ec9ba(0x5e9)][_0x3ec9ba(0x8ca)]>0x0)_0x57ee79+=_0x3ec9ba(0xb23)+_0x408040+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc30ded['options']['map']((_0x3411a8,_0x3d6806)=>_0x3ec9ba(0x3f0)+(_0x3d6806===_0xc30ded[_0x3ec9ba(0xf16)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x3411a8+_0x3ec9ba(0x7ab))[_0x3ec9ba(0x566)]('')+_0x3ec9ba(0x871);else{if(_0x41a17e==='matching_item'||_0xc30ded[_0x3ec9ba(0xdf0)])_0x57ee79+=_0x3ec9ba(0x85d)+_0x408040+'\x22>'+_0xc30ded['correctResponse']+_0x3ec9ba(0x260);else{if(_0x41a17e===_0x3ec9ba(0x446)||typeof _0xc30ded['correctAnswer']==='boolean')_0x57ee79+=_0x3ec9ba(0x8ed)+(_0xc30ded[_0x3ec9ba(0x315)]===!![]?'text-green-600\x20font-bold':'')+_0x3ec9ba(0xb82)+(_0xc30ded['correctAnswer']===![]?_0x3ec9ba(0xa75):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0xc30ded[_0x3ec9ba(0x9c1)]?_0x57ee79+=_0x3ec9ba(0x9d6)+_0x408040+'\x22>'+_0xc30ded[_0x3ec9ba(0x9c1)]+_0x3ec9ba(0x260):_0x57ee79+='<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>';}}_0x57ee79+=_0x3ec9ba(0xa88)+_0x408040+'\x22>'+_0xc30ded[_0x3ec9ba(0xa6b)]+'</span></div>',_0x57ee79+='</div>';}),_0x57ee79+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x353d57[_0x2c2059(0x891)]=_0x57ee79,document[_0x2c2059(0x180)](_0x2c2059(0xda1))[_0x2c2059(0x427)](_0x4eeec9=>_0x4eeec9[_0x2c2059(0xdc6)](_0x2c2059(0x4ca),handleEditQuestion)),document[_0x2c2059(0x180)](_0x2c2059(0x1e9))[_0x2c2059(0x427)](_0x58690c=>_0x58690c[_0x2c2059(0xdc6)](_0x2c2059(0x4ca),handleRegenerateQuestion)),document[_0x2c2059(0x657)](_0x2c2059(0xa2e))[_0x2c2059(0xdc6)](_0x2c2059(0x4ca),exportQuizAsWorksheetPDF),document[_0x2c2059(0x657)](_0x2c2059(0xa7a))[_0x2c2059(0xdc6)]('click',handleVerifyAnswers);const _0x482601=document['getElementById']('save-quiz-btn');if(_0x482601){const _0x39a1ec=_0x3244c1||currentProjectId;_0x482601['addEventListener']('click',()=>saveQuiz(_0x39a1ec,_0x39ec60));}if(window[_0x2c2059(0x436)])window['MathJax'][_0x2c2059(0xdce)]([_0x353d57]);}function handleRegenerateQuestion(_0x6bfb54){const _0x397bc2=_0x4a01bc,_0x54c8e3=_0x6bfb54[_0x397bc2(0xcfd)]['dataset'][_0x397bc2(0xca1)],_0x411bc8=currentQuizData[_0x397bc2(0xb1c)];showMessage(_0x397bc2(0x2ca)+(parseInt(_0x54c8e3)+0x1)+'\x20ใหม่...'),generateQuiz(_0x411bc8,null,parseInt(_0x54c8e3));}function getPointerPosition(_0x2eea93,_0xc7d8ac){const _0x4483da=_0x4a01bc,_0x31844f=_0x2eea93[_0x4483da(0x23f)]();let _0x35ed5d,_0x65bb0d;return _0xc7d8ac['touches']&&_0xc7d8ac[_0x4483da(0x492)][_0x4483da(0x8ca)]>0x0?(_0x35ed5d=_0xc7d8ac['touches'][0x0][_0x4483da(0x892)],_0x65bb0d=_0xc7d8ac[_0x4483da(0x492)][0x0]['clientY']):(_0x35ed5d=_0xc7d8ac['clientX'],_0x65bb0d=_0xc7d8ac[_0x4483da(0x78f)]),{'x':(_0x35ed5d-_0x31844f['e'])/_0x31844f['a'],'y':(_0x65bb0d-_0x31844f['f'])/_0x31844f['d']};}function startDrag(_0x50b6af){const _0x4d10d0=_0x4a01bc;_0x50b6af[_0x4d10d0(0xd6c)]==='touchstart'&&_0x50b6af[_0x4d10d0(0xd66)]();const _0x22aed9=_0x50b6af[_0x4d10d0(0x6f7)]['closest'](_0x4d10d0(0x17b));if(_0x22aed9){draggedSvgElement=_0x22aed9;const _0x1f4723=draggedSvgElement[_0x4d10d0(0x225)],_0x461188=getPointerPosition(_0x1f4723,_0x50b6af);svgOffset['x']=_0x461188['x']-parseFloat(draggedSvgElement[_0x4d10d0(0x6b9)](null,'x')),svgOffset['y']=_0x461188['y']-parseFloat(draggedSvgElement[_0x4d10d0(0x6b9)](null,'y'));}}function calculateItemAnalysis(_0x554190,_0x2a6712){const _0x272e07=_0x4a01bc,_0x61d3f6={};if(_0x2a6712[_0x272e07(0x8ca)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xf3d00=[..._0x2a6712][_0x272e07(0xc1a)]((_0x137c22,_0x3626a4)=>{const _0x2ffbd1=_0x272e07,_0x113e5e=_0x3626a4[_0x2ffbd1(0xdfa)]-_0x137c22[_0x2ffbd1(0xdfa)];if(_0x113e5e!==0x0)return _0x113e5e;const _0x3de437=_0x137c22['attempts']?.[_0x2ffbd1(0x8ca)]||0x1,_0x24a4b5=_0x3626a4[_0x2ffbd1(0x469)]?.['length']||0x1,_0x4705b2=_0x3de437-_0x24a4b5;if(_0x4705b2!==0x0)return _0x4705b2;const _0x37b2a6=new Date(_0x137c22[_0x2ffbd1(0xbd3)]),_0x1acfd4=new Date(_0x3626a4['latestSubmittedAt']),_0xa7a765=_0x37b2a6-_0x1acfd4;if(_0xa7a765!==0x0)return _0xa7a765;return _0x137c22[_0x2ffbd1(0xbf5)][_0x2ffbd1(0x8c8)](_0x3626a4['studentName'],'th');}),_0xacf3ac=_0xf3d00['length'],_0xf4be18=Math[_0x272e07(0xf23)](0x1,Math[_0x272e07(0xd62)](_0xacf3ac*0.33));if(_0xf4be18===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5e49f8=_0xf3d00['slice'](0x0,_0xf4be18),_0x456974=_0xf3d00[_0x272e07(0xe0b)](-_0xf4be18),_0x3efae0=_0x5e49f8[_0x272e07(0x823)](_0x75cca2=>_0x75cca2[_0x272e07(0xbf5)]),_0x4c146d=_0x456974[_0x272e07(0x823)](_0x4c889a=>_0x4c889a[_0x272e07(0xbf5)]);return _0x554190[_0x272e07(0x3ef)]['forEach']((_0x5a1f4c,_0x5d590c)=>{const _0x1f11e4=_0x272e07,_0xf665c8=_0x5a1f4c[_0x1f11e4(0x472)]||_0x5a1f4c[_0x1f11e4(0xbf2)];let _0x2730ac=0x0,_0x286d30=0x0,_0x233790=0x0;const _0x19a49f=[],_0x4f8f2c=[];_0x5e49f8[_0x1f11e4(0x427)](_0xbd9697=>{const _0x2d1285=_0x1f11e4,_0xe63aa0=_0xbd9697[_0x2d1285(0x469)][_0xbd9697[_0x2d1285(0x469)]['length']-0x1],_0x2ae8e1=_0xe63aa0[_0x2d1285(0xbd1)]['find'](_0x3c50a3=>_0x3c50a3['originalQuestionText']===_0xf665c8);_0x19a49f[_0x2d1285(0xe7d)]({'name':_0xbd9697[_0x2d1285(0xbf5)],'isCorrect':_0x2ae8e1?_0x2ae8e1[_0x2d1285(0x41b)]:![]}),_0x2ae8e1&&_0x2ae8e1[_0x2d1285(0x41b)]&&_0x286d30++;}),_0x456974[_0x1f11e4(0x427)](_0x36f2c7=>{const _0x5a3d1b=_0x1f11e4,_0x2c14b2=_0x36f2c7['attempts'][_0x36f2c7[_0x5a3d1b(0x469)][_0x5a3d1b(0x8ca)]-0x1],_0x4bded6=_0x2c14b2[_0x5a3d1b(0xbd1)]['find'](_0x38a20f=>_0x38a20f[_0x5a3d1b(0x900)]===_0xf665c8);_0x4f8f2c[_0x5a3d1b(0xe7d)]({'name':_0x36f2c7[_0x5a3d1b(0xbf5)],'isCorrect':_0x4bded6?_0x4bded6[_0x5a3d1b(0x41b)]:![]}),_0x4bded6&&_0x4bded6[_0x5a3d1b(0x41b)]&&_0x233790++;}),_0x2a6712['forEach'](_0x1363e3=>{const _0x409fde=_0x1f11e4,_0x5149bd=_0x1363e3[_0x409fde(0x469)][_0x1363e3[_0x409fde(0x469)][_0x409fde(0x8ca)]-0x1],_0x21f682=_0x5149bd[_0x409fde(0xbd1)][_0x409fde(0x1d5)](_0x1ce22d=>_0x1ce22d[_0x409fde(0x900)]===_0xf665c8);_0x21f682&&_0x21f682[_0x409fde(0x41b)]&&_0x2730ac++;});const _0x24de3f=_0xacf3ac>0x0?_0x2730ac/_0xacf3ac:0x0,_0x1b8e82=_0xf4be18>0x0?_0x286d30/_0xf4be18-_0x233790/_0xf4be18:0x0;_0x61d3f6[_0x5d590c]={'p':_0x24de3f,'r':_0x1b8e82,'upperGroupResponders':_0x19a49f,'lowerGroupResponders':_0x4f8f2c};}),{'perQuestionStats':_0x61d3f6,'overallGroups':{'upperGroupNames':_0x3efae0,'lowerGroupNames':_0x4c146d}};}function drag(_0x3bc30c){const _0xc9f9ef=_0x4a01bc;if(draggedSvgElement){_0x3bc30c[_0xc9f9ef(0xd66)]();const _0x7bc4dd=draggedSvgElement['ownerSVGElement'],_0x55ff8b=getPointerPosition(_0x7bc4dd,_0x3bc30c),_0x22bdbb=_0x7bc4dd['viewBox']['baseVal'];let _0x319830=_0x55ff8b['x']-svgOffset['x'],_0x164ec0=_0x55ff8b['y']-svgOffset['y'];const _0x348d1c=draggedSvgElement[_0xc9f9ef(0xa53)]();_0x319830=Math['max'](_0x22bdbb['x'],Math['min'](_0x319830,_0x22bdbb['x']+_0x22bdbb[_0xc9f9ef(0x1c6)]-_0x348d1c['width'])),_0x164ec0=Math[_0xc9f9ef(0xf23)](_0x22bdbb['y'],Math[_0xc9f9ef(0x80d)](_0x164ec0,_0x22bdbb['y']+_0x22bdbb[_0xc9f9ef(0x711)]-_0x348d1c[_0xc9f9ef(0x711)])),draggedSvgElement[_0xc9f9ef(0x1c5)](null,'x',_0x319830),draggedSvgElement[_0xc9f9ef(0x1c5)](null,'y',_0x164ec0);}}function endDrag(_0x14d6ca){draggedSvgElement=null;}function handleSvgEditClick(_0x10e7f3){const _0x554962=_0x4a01bc;if(_0x10e7f3['target']['classList'][_0x554962(0x650)](_0x554962(0xbcb))){const _0x4c4568=_0x10e7f3[_0x554962(0x6f7)]['dataset']['targetId'],_0x2c8797=_0x10e7f3[_0x554962(0xcfd)],_0x477d04=_0x2c8797[_0x554962(0x5cd)]('#'+_0x4c4568);_0x477d04&&_0x477d04[_0x554962(0x66f)](),_0x10e7f3['target'][_0x554962(0x66f)]();}}function handleEditQuestion(_0xfd8d0e){const _0x41ab57=_0x4a01bc,_0x5158e6=_0xfd8d0e[_0x41ab57(0xcfd)],_0x3a411a=_0x5158e6['dataset'][_0x41ab57(0xca1)],_0x1903bd=currentQuizData[_0x41ab57(0x3ef)][_0x3a411a],_0x4f2002=document[_0x41ab57(0x657)](_0x41ab57(0xbf6)+_0x3a411a),_0x88f201=document[_0x41ab57(0x657)](_0x41ab57(0x65a)+_0x3a411a),_0xf063ce=document[_0x41ab57(0x657)](_0x41ab57(0x68a)+_0x3a411a);if(_0x5158e6[_0x41ab57(0x891)][_0x41ab57(0x484)](_0x41ab57(0xe20))){_0x5158e6['innerHTML']=_0x41ab57(0x17f),_0x5158e6[_0x41ab57(0x82a)]=_0x41ab57(0xc55);if(_0x4f2002)_0x4f2002[_0x41ab57(0xcdd)]=!![];if(_0x88f201)_0x88f201[_0x41ab57(0xcdd)]=!![];if(_0xf063ce){const _0x486287=_0xf063ce[_0x41ab57(0x5cd)](_0x41ab57(0x595));if(_0x486287){const _0x2d6444=_0x486287['querySelectorAll'](_0x41ab57(0xe09));_0x2d6444[_0x41ab57(0x427)]((_0x4f9cf,_0x41a54b)=>{const _0x537d94=_0x41ab57,_0x2e2d32=_0x537d94(0xe3f)+_0x3a411a+'-'+_0x41a54b;_0x4f9cf['id']=_0x2e2d32,_0x4f9cf['classList']['add'](_0x537d94(0x794)),_0x4f9cf['style']['cursor']=_0x537d94(0x585);const _0x5dd544=document[_0x537d94(0x937)](_0x537d94(0x388),_0x537d94(0x64b)),_0x505b72=_0x4f9cf['getBBox']();_0x5dd544[_0x537d94(0x6ea)]('cx',String(_0x505b72['x']+_0x505b72['width']+0x5)),_0x5dd544[_0x537d94(0x6ea)]('cy',String(_0x505b72['y']+_0x505b72[_0x537d94(0x711)]/0x2-0x5)),_0x5dd544[_0x537d94(0x6ea)]('r','5'),_0x5dd544[_0x537d94(0x6ea)](_0x537d94(0x9de),_0x537d94(0x460)),_0x5dd544[_0x537d94(0x6ea)](_0x537d94(0x1f1),_0x537d94(0xbcb)),_0x5dd544[_0x537d94(0x320)][_0x537d94(0x7fe)]=_0x2e2d32,_0x4f9cf[_0x537d94(0x288)](_0x5dd544);}),_0x486287['addEventListener']('mousedown',startDrag),_0x486287[_0x41ab57(0xdc6)](_0x41ab57(0xde3),drag),_0x486287[_0x41ab57(0xdc6)](_0x41ab57(0x453),endDrag),_0x486287[_0x41ab57(0xdc6)](_0x41ab57(0xf28),endDrag),_0x486287[_0x41ab57(0xdc6)]('touchstart',startDrag,{'passive':![]}),_0x486287[_0x41ab57(0xdc6)](_0x41ab57(0xb7c),drag,{'passive':![]}),_0x486287['addEventListener'](_0x41ab57(0x43f),endDrag),_0x486287[_0x41ab57(0xdc6)](_0x41ab57(0x3a4),endDrag),_0x486287[_0x41ab57(0xdc6)](_0x41ab57(0x4ca),handleSvgEditClick);}}if(_0x4f2002)_0x4f2002['focus']();}else{_0x5158e6['innerHTML']=_0x41ab57(0x90b),_0x5158e6['title']=_0x41ab57(0xc08);if(_0x4f2002){_0x4f2002[_0x41ab57(0xcdd)]=![];const _0x5ad6ff=_0x1903bd[_0x41ab57(0x7ed)]||currentQuizData[_0x41ab57(0x335)];_0x5ad6ff===_0x41ab57(0xd13)?_0x1903bd['stem']=_0x4f2002['innerText'][_0x41ab57(0x67b)](_0x4f2002[_0x41ab57(0xbb1)][_0x41ab57(0xc27)]('.')+0x2)['trim']():_0x1903bd[_0x41ab57(0xbf2)]=_0x4f2002['innerText'][_0x41ab57(0x67b)](_0x4f2002[_0x41ab57(0xbb1)]['indexOf']('.')+0x2)[_0x41ab57(0x5b2)]();}_0x88f201&&(_0x88f201[_0x41ab57(0xcdd)]=![],_0x1903bd[_0x41ab57(0xa6b)]=_0x88f201[_0x41ab57(0xbb1)]);if(_0xf063ce){const _0x15a808=_0xf063ce['querySelector']('svg');if(_0x15a808){const _0x34ec73=_0x15a808['cloneNode'](!![]);_0x34ec73[_0x41ab57(0x180)](_0x41ab57(0x511))[_0x41ab57(0x427)](_0x5d3914=>_0x5d3914['remove']()),_0x34ec73[_0x41ab57(0x180)](_0x41ab57(0x17b))['forEach'](_0xcf531a=>{const _0x4cd5f3=_0x41ab57;_0xcf531a[_0x4cd5f3(0xb6d)][_0x4cd5f3(0x66f)]('draggable-text'),_0xcf531a[_0x4cd5f3(0xd7a)][_0x4cd5f3(0xe62)]=_0x4cd5f3(0xe49),_0xcf531a['removeAttribute']('id');}),_0x1903bd[_0x41ab57(0x277)]=_0x34ec73['outerHTML'],_0x15a808['removeEventListener'](_0x41ab57(0xbb9),startDrag),_0x15a808[_0x41ab57(0xb77)](_0x41ab57(0xde3),drag),_0x15a808[_0x41ab57(0xb77)]('mouseup',endDrag),_0x15a808[_0x41ab57(0xb77)]('mouseleave',endDrag),_0x15a808[_0x41ab57(0xb77)]('touchstart',startDrag),_0x15a808['removeEventListener']('touchmove',drag),_0x15a808[_0x41ab57(0xb77)]('touchend',endDrag),_0x15a808[_0x41ab57(0xb77)](_0x41ab57(0x3a4),endDrag),_0x15a808[_0x41ab57(0xb77)]('click',handleSvgEditClick),_0x15a808['querySelectorAll']('.delete-svg-btn')[_0x41ab57(0x427)](_0x174716=>_0x174716[_0x41ab57(0x66f)]()),_0x15a808[_0x41ab57(0x180)](_0x41ab57(0x17b))['forEach'](_0xce0db3=>{const _0x2647b1=_0x41ab57;_0xce0db3['classList'][_0x2647b1(0x66f)](_0x2647b1(0x794)),_0xce0db3[_0x2647b1(0xd7a)][_0x2647b1(0xe62)]=_0x2647b1(0xe49);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x397289){const _0x375095=_0x4a01bc,_0x392e9a=document[_0x375095(0x657)](_0x375095(0xe79)),_0x1bf616=document[_0x375095(0x657)](_0x375095(0x23c));_0x1bf616['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x392e9a[_0x375095(0xb6d)]['remove']('hidden');try{const _0x39397a=doc(db,_0x375095(0x4b1)+appId+_0x375095(0x8cb),_0x397289),_0x4728c2=await getDoc(_0x39397a);if(!_0x4728c2[_0x375095(0xce9)]())throw new Error(_0x375095(0xd72));currentEditingQuizData={'id':_0x397289,..._0x4728c2[_0x375095(0xd0c)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x27a7cf){console[_0x375095(0xcb6)]('Error\x20opening\x20quiz\x20editor:',_0x27a7cf),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x392e9a[_0x375095(0xb6d)]['add'](_0x375095(0x599));}}function renderQuizEditor(_0x400be2){const _0x58fd9b=_0x4a01bc;document[_0x58fd9b(0x657)](_0x58fd9b(0x1fa))['value']=_0x400be2[_0x58fd9b(0xb1c)];const _0x493788=document[_0x58fd9b(0x657)](_0x58fd9b(0x23c));let _0x47b1a0=_0x400be2[_0x58fd9b(0x3ef)][_0x58fd9b(0x823)]((_0x2f3f9d,_0x5b9139)=>{const _0x583478=_0x58fd9b;let _0x2f83da='';const _0x3eeb39=_0x2f3f9d[_0x583478(0x7ed)]||_0x400be2[_0x583478(0x335)],_0x48b536=(_0x3eeb39===_0x583478(0x190)||_0x3eeb39===_0x583478(0x467))&&_0x2f3f9d[_0x583478(0x5e9)]&&_0x2f3f9d[_0x583478(0x5e9)][_0x583478(0x8ca)]>0x0;switch(_0x3eeb39){case _0x583478(0xa7c):const _0xe81e90=(_0x2f3f9d[_0x583478(0x5e9)]||[])[_0x583478(0x823)]((_0x1a3fc4,_0x38eb86)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x5b9139+_0x583478(0xecb)+_0x38eb86+'\x22\x20'+(_0x38eb86===_0x2f3f9d['correctAnswerIndex']?_0x583478(0x536):'')+_0x583478(0x5eb)+_0x1a3fc4+_0x583478(0x22c))['join']('');_0x2f83da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0xe81e90+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_no_choices':case _0x583478(0x190):_0x2f83da=_0x583478(0xdab)+(_0x2f3f9d[_0x583478(0x9c1)]||'')+_0x583478(0x238);if(_0x48b536){const _0xfe49d4=(_0x2f3f9d['options']||[])[_0x583478(0x823)]((_0x140ec1,_0x57f73d)=>_0x583478(0xb8b)+_0x5b9139+_0x583478(0xecb)+_0x57f73d+'\x22\x20'+(_0x57f73d===_0x2f3f9d[_0x583478(0xf16)]?'checked':'')+_0x583478(0x5ab)+_0x140ec1+_0x583478(0x62b))[_0x583478(0x566)]('');_0x2f83da+=_0x583478(0xb0c)+_0xfe49d4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}break;case'true_false':_0x2f83da=_0x583478(0xb66)+_0x5b9139+_0x583478(0x6ee)+(_0x2f3f9d[_0x583478(0x315)]===!![]?'checked':'')+_0x583478(0x1ed)+_0x5b9139+_0x583478(0x516)+(_0x2f3f9d[_0x583478(0x315)]===![]?'checked':'')+_0x583478(0xe6c);break;case _0x583478(0xd13):_0x2f83da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2f3f9d[_0x583478(0xdf0)]||'')+_0x583478(0x588);break;}let _0x124412=_0x2f3f9d[_0x583478(0xbf2)]||_0x2f3f9d['stem']||'';_0x124412=_0x124412['replace'](/<br\s*\/?>/gi,'\x0a');let _0x526ef5='';if(_0x3eeb39===_0x583478(0xa7c))_0x526ef5=_0x583478(0x455);else _0x48b536&&(_0x526ef5=_0x583478(0xdeb));return _0x583478(0x27c)+_0x5b9139+_0x583478(0xcb5)+_0x3eeb39+_0x583478(0x243)+_0x526ef5+_0x583478(0x184)+(_0x5b9139+0x1)+'\x20('+_0x3eeb39+_0x583478(0x9c8)+_0x124412+_0x583478(0x2f1)+_0x2f83da+_0x583478(0x242);})[_0x58fd9b(0x566)]('');_0x493788[_0x58fd9b(0x891)]=_0x47b1a0;const _0x3b953d=_0x58fd9b(0x176);_0x493788[_0x58fd9b(0xc14)](_0x58fd9b(0x494),_0x3b953d),_0x493788[_0x58fd9b(0x180)](_0x58fd9b(0xc12))[_0x58fd9b(0x427)](_0xa6f86f=>{const _0x39e215=_0x58fd9b;_0xa6f86f[_0x39e215(0xd7a)][_0x39e215(0x611)]=_0x39e215(0x599),_0xa6f86f[_0x39e215(0xd7a)][_0x39e215(0xeee)]=_0x39e215(0xe1e),_0xa6f86f[_0x39e215(0xea2)]=0x4;const _0x415ffb=()=>{const _0x54f702=_0x39e215;_0xa6f86f[_0x54f702(0xd7a)][_0x54f702(0x711)]=_0x54f702(0x2dd),_0xa6f86f[_0x54f702(0xd7a)]['height']=_0xa6f86f['scrollHeight']+'px';};_0xa6f86f['addEventListener']('input',_0x415ffb),_0x415ffb();}),_0x493788[_0x58fd9b(0x180)](_0x58fd9b(0x4a4))[_0x58fd9b(0x427)](_0x602b8a=>{_0x602b8a['addEventListener']('click',handleAiFixQuestion);}),_0x493788[_0x58fd9b(0x180)](_0x58fd9b(0xdbc))['forEach'](_0x353f94=>{const _0x2538c5=_0x58fd9b;_0x353f94[_0x2538c5(0xdc6)]('click',_0x4bf23f=>{const _0x4423bf=_0x2538c5,_0x4e83df=parseInt(_0x4bf23f[_0x4423bf(0xcfd)][_0x4423bf(0xa5a)](_0x4423bf(0xc39))[_0x4423bf(0x320)][_0x4423bf(0xb5a)],0xa);handleAiFixFormula(_0x4e83df);});}),_0x493788['querySelectorAll']('.toggle-hidden-options-btn')['forEach'](_0x3cb488=>{const _0x402ed9=_0x58fd9b;_0x3cb488[_0x402ed9(0xdc6)](_0x402ed9(0x4ca),_0x1ac884=>{const _0x43ca2f=_0x402ed9,_0xe2c4aa=parseInt(_0x1ac884[_0x43ca2f(0xcfd)][_0x43ca2f(0xa5a)]('.question-editor-item')[_0x43ca2f(0x320)][_0x43ca2f(0xb5a)],0xa);handleToggleHiddenOptions(_0xe2c4aa);});});}function handleToggleHiddenOptions(_0x430594){const _0x2f2b79=_0x4a01bc;if(!currentEditingQuizData||!currentEditingQuizData[_0x2f2b79(0x3ef)][_0x430594])return;const _0x3a75be=currentEditingQuizData[_0x2f2b79(0x3ef)][_0x430594],_0x4bd923=_0x3a75be[_0x2f2b79(0x7ed)]||_0x2f2b79(0xa7c),_0x1f7b88=document[_0x2f2b79(0x5cd)]('.question-editor-item[data-q-index=\x22'+_0x430594+'\x22]');if(_0x1f7b88){_0x3a75be[_0x2f2b79(0xbf2)]=_0x1f7b88[_0x2f2b79(0x5cd)]('textarea')['value'];if(_0x4bd923===_0x2f2b79(0xa7c)){const _0x5038b0=_0x1f7b88[_0x2f2b79(0x180)](_0x2f2b79(0x7a1));_0x3a75be[_0x2f2b79(0x5e9)]=Array[_0x2f2b79(0x5ac)](_0x5038b0)[_0x2f2b79(0x823)](_0x4856a0=>_0x4856a0['value']);const _0x461a3b=_0x1f7b88[_0x2f2b79(0x5cd)](_0x2f2b79(0x7da));if(_0x461a3b)_0x3a75be[_0x2f2b79(0xf16)]=parseInt(_0x461a3b[_0x2f2b79(0x68e)]);}else{if(_0x4bd923===_0x2f2b79(0x190)||_0x4bd923===_0x2f2b79(0x467)){const _0x2af04d=_0x1f7b88[_0x2f2b79(0x5cd)](_0x2f2b79(0x5bb));if(_0x2af04d)_0x3a75be[_0x2f2b79(0x9c1)]=_0x2af04d[_0x2f2b79(0x68e)];const _0x438994=_0x1f7b88[_0x2f2b79(0x180)](_0x2f2b79(0x8f4));_0x438994[_0x2f2b79(0x8ca)]>0x0&&(_0x3a75be['options']=Array[_0x2f2b79(0x5ac)](_0x438994)['map'](_0x3bc907=>_0x3bc907['value']));}}}_0x4bd923===_0x2f2b79(0xa7c)?(_0x3a75be[_0x2f2b79(0x7ed)]='short_answer',_0x3a75be[_0x2f2b79(0x5e9)]&&_0x3a75be[_0x2f2b79(0xf16)]!==undefined&&(_0x3a75be[_0x2f2b79(0x9c1)]=_0x3a75be[_0x2f2b79(0x5e9)][_0x3a75be[_0x2f2b79(0xf16)]]||'')):_0x3a75be['questionType']=_0x2f2b79(0xa7c),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x49ef7a){const _0x289ea4=_0x4a01bc;if(!currentEditingQuizData||!currentEditingQuizData[_0x289ea4(0x3ef)][_0x49ef7a])return;const _0x5c9562=currentEditingQuizData['questions'][_0x49ef7a][_0x289ea4(0xbf2)]||currentEditingQuizData[_0x289ea4(0x3ef)][_0x49ef7a][_0x289ea4(0x472)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x49ef7a+0x1)+_0x289ea4(0x29b)+_0x5c9562[_0x289ea4(0x67b)](0x0,0x14)+_0x289ea4(0xe22),()=>{const _0x1faa09=_0x289ea4;currentEditingQuizData['questions'][_0x1faa09(0x290)](_0x49ef7a,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x1faa09(0x8cc));});}function handleAddQuestionInEditor(){const _0x398a9f=_0x4a01bc;if(!currentEditingQuizData)return;const _0xa3da70=document[_0x398a9f(0x657)](_0x398a9f(0x904)),_0xbfe3ce=_0xa3da70?_0xa3da70[_0x398a9f(0x68e)]:_0x398a9f(0xa7c);let _0x338152={'id':'q_'+Date[_0x398a9f(0x42d)]()+_0x398a9f(0x51e),'questionType':_0xbfe3ce,'questionText':'---\x20[คำถามใหม่]\x20---','explanation':_0x398a9f(0x7e9)};switch(_0xbfe3ce){case'multiple_choice':_0x338152[_0x398a9f(0x5e9)]=[_0x398a9f(0x561),_0x398a9f(0x555),_0x398a9f(0xc5b),'ตัวเลือก\x20ง'],_0x338152[_0x398a9f(0xf16)]=0x0;break;case _0x398a9f(0x190):case _0x398a9f(0x467):_0x338152[_0x398a9f(0x9c1)]=_0x398a9f(0x833);break;case _0x398a9f(0x446):_0x338152[_0x398a9f(0x315)]=!![];break;case _0x398a9f(0xd13):_0x338152[_0x398a9f(0x472)]=_0x398a9f(0xd1f),_0x338152[_0x398a9f(0xdf0)]=_0x398a9f(0x660),_0x338152[_0x398a9f(0xbf2)]=_0x398a9f(0xd1f);break;}currentEditingQuizData[_0x398a9f(0x3ef)][_0x398a9f(0xe7d)](_0x338152),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x37f983=_0x398a9f,_0x3872d0=document['querySelector'](_0x37f983(0xc02));if(_0x3872d0){_0x3872d0[_0x37f983(0x228)]({'behavior':_0x37f983(0x50d),'block':_0x37f983(0x3ab)});const _0x2551c8=_0x3872d0[_0x37f983(0x5cd)]('textarea');if(_0x2551c8)_0x2551c8[_0x37f983(0xcc9)]();}},0x64);}async function handleAiFixQuestion(_0x282e57){const _0x16c124=_0x4a01bc,_0x14b9d5=_0x282e57[_0x16c124(0xcfd)],_0xd2fb49=_0x14b9d5[_0x16c124(0xa5a)](_0x16c124(0xc39));if(!_0xd2fb49)return;const _0x11f4ca=parseInt(_0xd2fb49[_0x16c124(0x320)][_0x16c124(0xb5a)],0xa);if(isNaN(_0x11f4ca)||!currentEditingQuizData[_0x16c124(0x3ef)][_0x11f4ca]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x9ed2fa=currentEditingQuizData[_0x16c124(0x3ef)][_0x11f4ca];_0x14b9d5[_0x16c124(0x891)]=_0x16c124(0xb6e),_0x14b9d5['disabled']=!![];const _0x302c8d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x9ed2fa)+_0x16c124(0xea8);let _0x142771;const _0x207b21=_0x9ed2fa[_0x16c124(0x7ed)]||currentEditingQuizData[_0x16c124(0x335)];switch(_0x207b21){case _0x16c124(0x190):_0x142771={'type':_0x16c124(0x73e),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x16c124(0xcf1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x16c124(0xcf1)}},'required':[_0x16c124(0xbf2),_0x16c124(0x9c1),'explanation']};break;case _0x16c124(0xa7c):default:_0x142771={'type':_0x16c124(0x73e),'properties':{'questionText':{'type':_0x16c124(0xcf1)},'options':{'type':_0x16c124(0x614),'items':{'type':_0x16c124(0xcf1)}},'correctAnswerIndex':{'type':_0x16c124(0x24a)},'explanation':{'type':_0x16c124(0xcf1)},'imageCode':{'type':_0x16c124(0xcf1)}},'required':['questionText',_0x16c124(0x5e9),'correctAnswerIndex',_0x16c124(0xa6b)]};break;}try{let _0x5830fc=await callAnalysisApi(_0x302c8d,_0x142771);_0x5830fc[_0x16c124(0x5e9)]&&Array['isArray'](_0x5830fc[_0x16c124(0x5e9)])&&(_0x5830fc['options']=_0x5830fc['options'][_0x16c124(0x823)](_0x350dbb=>typeof _0x350dbb===_0x16c124(0x9a5)?_0x350dbb[_0x16c124(0xdf2)](/S(\s*[\d_]+?\s*)S/g,_0x16c124(0xcfa)):_0x350dbb)),_0x9ed2fa[_0x16c124(0x277)]&&_0x9ed2fa[_0x16c124(0x277)][_0x16c124(0x484)]('fix\x20the\x20option')&&(_0x5830fc[_0x16c124(0x277)]=''),currentEditingQuizData[_0x16c124(0x3ef)][_0x11f4ca]={..._0x9ed2fa,..._0x5830fc},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x461a96){console['error'](_0x16c124(0x955),_0x461a96),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x51416a=_0x4a01bc,_0x335e56=document[_0x51416a(0x657)](_0x51416a(0x8e4));_0x335e56[_0x51416a(0x4b4)]=!![],_0x335e56[_0x51416a(0x891)]=_0x51416a(0x4c3);try{const _0x54a31e=document[_0x51416a(0x657)](_0x51416a(0x1fa))[_0x51416a(0x68e)],_0x222881=document['querySelectorAll']('.question-editor-item');let _0x5836dc=[];const _0x55c93d=Array['from'](_0x222881)[_0x51416a(0x823)]((_0x5b2cca,_0xc5d339)=>{const _0x3e5b89=_0x51416a,_0x105e9c=_0x5b2cca['dataset'][_0x3e5b89(0xd70)],_0x43d28d=_0x5b2cca[_0x3e5b89(0x5cd)](_0x3e5b89(0x789))[_0x3e5b89(0x68e)][_0x3e5b89(0xdf2)](/\n/g,_0x3e5b89(0xa80));let _0x23b464={'questionType':_0x105e9c};const _0x45898d=currentEditingQuizData[_0x3e5b89(0x3ef)][_0xc5d339]||{};switch(_0x105e9c){case'multiple_choice':_0x23b464[_0x3e5b89(0xbf2)]=_0x43d28d;const _0x4bb726=_0x5b2cca['querySelectorAll'](_0x3e5b89(0x7a1));_0x23b464[_0x3e5b89(0x5e9)]=Array[_0x3e5b89(0x5ac)](_0x4bb726)[_0x3e5b89(0x823)](_0x2441e7=>_0x2441e7[_0x3e5b89(0x68e)]);const _0x60b4d6=_0x5b2cca[_0x3e5b89(0x5cd)]('input[type=\x22radio\x22]:checked');_0x23b464[_0x3e5b89(0xf16)]=_0x60b4d6?parseInt(_0x60b4d6['value']):0x0;break;case'fill_in_no_choices':case _0x3e5b89(0x190):_0x23b464[_0x3e5b89(0xbf2)]=_0x43d28d,_0x23b464[_0x3e5b89(0x9c1)]=_0x5b2cca[_0x3e5b89(0x5cd)]('.ideal-answer-input')['value'];const _0x3eaef6=_0x5b2cca[_0x3e5b89(0x180)](_0x3e5b89(0x8f4));_0x3eaef6[_0x3e5b89(0x8ca)]>0x0?(_0x23b464[_0x3e5b89(0x5e9)]=Array[_0x3e5b89(0x5ac)](_0x3eaef6)[_0x3e5b89(0x823)](_0x558b25=>_0x558b25[_0x3e5b89(0x68e)]),_0x45898d['correctAnswerIndex']!==undefined?_0x23b464[_0x3e5b89(0xf16)]=_0x45898d['correctAnswerIndex']:_0x23b464[_0x3e5b89(0xf16)]=0x0):(delete _0x23b464['options'],delete _0x23b464['correctAnswerIndex']);break;case _0x3e5b89(0x446):_0x23b464['questionText']=_0x43d28d;const _0x2518a3=_0x5b2cca[_0x3e5b89(0x5cd)](_0x3e5b89(0x7da));_0x23b464['correctAnswer']=_0x2518a3?_0x2518a3[_0x3e5b89(0x68e)]===_0x3e5b89(0x804):!![];break;case _0x3e5b89(0xd13):_0x23b464[_0x3e5b89(0x472)]=_0x43d28d;const _0xa0c93b=_0x5b2cca[_0x3e5b89(0x5cd)](_0x3e5b89(0x1ea));_0x23b464['correctResponse']=_0xa0c93b?_0xa0c93b[_0x3e5b89(0x68e)]:'',_0x5836dc[_0x3e5b89(0xe7d)](_0x23b464['correctResponse']);break;default:_0x23b464['questionText']=_0x43d28d;break;}return{..._0x45898d,..._0x23b464};});_0x5836dc['length']>0x0&&_0x55c93d[_0x51416a(0x427)](_0x1ce8da=>{const _0xd647fa=_0x51416a;_0x1ce8da['questionType']===_0xd647fa(0xd13)&&(_0x1ce8da['allResponses']=_0x5836dc);});const _0x212e40=currentEditingQuizData['id'],_0x23a224=doc(db,_0x51416a(0x4b1)+appId+_0x51416a(0x8cb),_0x212e40);await updateDoc(_0x23a224,{'topic':_0x54a31e,'questions':_0x55c93d}),document['getElementById']('quiz-editor-modal')[_0x51416a(0xb6d)]['add'](_0x51416a(0x599)),showMessage(_0x51416a(0x178),()=>initiateReGradeProcess(_0x212e40));}catch(_0xc34190){console[_0x51416a(0xcb6)]('Error\x20saving\x20quiz\x20edits:',_0xc34190),showMessage(_0x51416a(0x597));}finally{_0x335e56[_0x51416a(0x4b4)]=![],_0x335e56[_0x51416a(0x891)]=_0x51416a(0xa2c);}}async function initiateReGradeProcess(_0x3efc61){const _0x2ead72=_0x4a01bc;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x586460=doc(db,_0x2ead72(0x4b1)+appId+'/public/data/quizzes',_0x3efc61),_0x1e2e85=await getDoc(_0x586460);if(!_0x1e2e85[_0x2ead72(0xce9)]())throw new Error(_0x2ead72(0x6d4));const _0x508d7a={'id':_0x3efc61,..._0x1e2e85[_0x2ead72(0xd0c)]()},_0x1b0e9b=collection(db,_0x2ead72(0x4b1)+appId+_0x2ead72(0x8cb),_0x3efc61,'submissions'),_0x124ab0=await getDocs(_0x1b0e9b);if(_0x124ab0[_0x2ead72(0x8fd)]){showMessage(_0x2ead72(0x62c));return;}const _0x3bf5b0=_0x124ab0[_0x2ead72(0xb70)][_0x2ead72(0x823)](_0x37ea2f=>reGradeSingleSubmission(_0x37ea2f,_0x508d7a));await Promise[_0x2ead72(0xa87)](_0x3bf5b0);if(_0x508d7a[_0x2ead72(0x401)]){const _0xef971f=doc(db,_0x2ead72(0x4b1)+appId+_0x2ead72(0x780),_0x508d7a['projectId']),_0x26f663=await getDoc(_0xef971f);if(_0x26f663[_0x2ead72(0xce9)]()&&_0x26f663[_0x2ead72(0xd0c)]()['students']){const _0x374ae4=_0x26f663[_0x2ead72(0xd0c)]()[_0x2ead72(0xc2e)][_0x2ead72(0x823)](_0x1ee790=>updateStudentProfile(_0x508d7a[_0x2ead72(0x401)],_0x1ee790));await Promise[_0x2ead72(0xa87)](_0x374ae4);}}showMessage(_0x2ead72(0x552)+_0x124ab0[_0x2ead72(0xd83)]+_0x2ead72(0x562));}catch(_0x5f5a63){console['error']('Re-grade\x20process\x20failed:',_0x5f5a63),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x5f5a63[_0x2ead72(0x9a1)]);}}async function reGradeSingleSubmission(_0xc09a4b,_0x17af86){const _0x32ae43=_0x4a01bc,_0x229864=_0xc09a4b[_0x32ae43(0xd0c)](),_0x4b72e1=_0x229864[_0x32ae43(0xbf5)],_0x247ba4=_0x229864[_0x32ae43(0x469)]||[],_0x20967b=[];for(const _0x3ca5c0 of _0x247ba4){let _0x5a6682=0x0,_0x4e2b3b=[],_0x4da26f=0x0;const _0x37fbaa=[];for(const _0x1286b8 of _0x3ca5c0['answers']){let _0x14431d;_0x1286b8[_0x32ae43(0xa14)]&&(_0x14431d=_0x17af86[_0x32ae43(0x3ef)][_0x32ae43(0x1d5)](_0x39f161=>_0x39f161['id']===_0x1286b8[_0x32ae43(0xa14)]));!_0x14431d&&_0x1286b8[_0x32ae43(0x900)]&&(_0x14431d=_0x17af86['questions'][_0x32ae43(0x1d5)](_0x535436=>(_0x535436[_0x32ae43(0x472)]||_0x535436['questionText'])===_0x1286b8['originalQuestionText']));let _0x4e25fb=![];if(_0x14431d){const _0xf9d245=_0x14431d[_0x32ae43(0x7ed)]||_0x17af86[_0x32ae43(0x335)];switch(_0xf9d245){case _0x32ae43(0xa7c):if(_0x14431d['options']&&_0x14431d[_0x32ae43(0xf16)]<_0x14431d[_0x32ae43(0x5e9)]['length']){const _0x8913df=_0x14431d['options'][_0x14431d['correctAnswerIndex']];_0x4e25fb=_0x1286b8[_0x32ae43(0x79f)]===_0x8913df;}break;case _0x32ae43(0x446):const _0x42cb80=_0x1286b8[_0x32ae43(0x457)]===!![]||_0x1286b8[_0x32ae43(0x457)]==='true';_0x4e25fb=_0x42cb80===_0x14431d[_0x32ae43(0x315)];break;case _0x32ae43(0xd13):_0x4e25fb=_0x1286b8['answer']===_0x14431d[_0x32ae43(0xdf0)];break;case'short_answer':_0x4e25fb=await gradeShortAnswer(_0x1286b8['answer'],_0x14431d);break;default:_0x4e25fb=_0x1286b8[_0x32ae43(0x41b)];break;}}if(_0x4e25fb){_0x5a6682++,_0x4da26f++;if(_0x4da26f===0x3)_0x4e2b3b[_0x32ae43(0xe7d)](BADGES[_0x32ae43(0x8d6)]['id']);}else _0x4da26f=0x0;_0x37fbaa[_0x32ae43(0xe7d)]({..._0x1286b8,'isCorrect':_0x4e25fb});}let _0x25d66c=0x0;const _0x4439d2=_0x3ca5c0['isSyncGame']===!![]||_0x3ca5c0[_0x32ae43(0x92f)]>_0x17af86[_0x32ae43(0x3ef)][_0x32ae43(0x8ca)]*0x14;_0x4439d2?_0x25d66c=_0x3ca5c0[_0x32ae43(0x92f)]:(_0x25d66c=_0x5a6682*0xa,_0x5a6682===_0x17af86[_0x32ae43(0x3ef)]['length']&&(_0x25d66c+=0x32,_0x4e2b3b['push'](BADGES['PERFECT_SCORE']['id']))),_0x20967b['push']({..._0x3ca5c0,'score':_0x5a6682,'points':_0x25d66c,'badges':Array[_0x32ae43(0x5ac)](new Set(_0x4e2b3b)),'answers':_0x37fbaa});}const _0x2c5ef6=_0x20967b[_0x32ae43(0x8ca)]>0x0?_0x20967b[0x0]['score']:0x0,_0x32e809=Math[_0x32ae43(0xf23)](..._0x20967b[_0x32ae43(0x823)](_0xebbb67=>_0xebbb67[_0x32ae43(0x43c)])),_0x510397=_0x20967b[_0x32ae43(0x8ca)]>0x0?_0x20967b[_0x20967b[_0x32ae43(0x8ca)]-0x1]['score']:0x0,_0x83fc2d=_0x20967b[_0x32ae43(0x8ca)]>0x0?_0x20967b[_0x20967b['length']-0x1][_0x32ae43(0x92f)]:0x0,_0x1dbd20=doc(db,_0x32ae43(0x4b1)+appId+_0x32ae43(0xb20)+_0x17af86['id']+_0x32ae43(0x411),_0x4b72e1);await updateDoc(_0x1dbd20,{'attempts':_0x20967b,'firstScore':_0x2c5ef6,'bestScore':_0x32e809,'latestScore':_0x510397,'points':_0x83fc2d});}function cleanupQuizOptions(_0x336c1f){const _0x177114=_0x4a01bc,_0x5b0112=(_0x1dc93d,_0x2f7577)=>_0x2f7577===0x0?_0x1dc93d:_0x5b0112(_0x2f7577,_0x1dc93d%_0x2f7577),_0xf65458=_0x429be6=>{const _0x40de29=_0x551a;if(typeof _0x429be6!==_0x40de29(0x9a5))return null;_0x429be6=_0x429be6['trim']();const _0x7ef604=_0x429be6[_0x40de29(0x805)](/[ /]/)[_0x40de29(0xc4c)](_0x4c16a8=>_0x4c16a8!=='');if(_0x7ef604[_0x40de29(0x8ca)]===0x3)return parseInt(_0x7ef604[0x0])+parseInt(_0x7ef604[0x1])/parseInt(_0x7ef604[0x2]);else{if(_0x7ef604[_0x40de29(0x8ca)]===0x2)return parseInt(_0x7ef604[0x0])/parseInt(_0x7ef604[0x1]);else{if(_0x7ef604[_0x40de29(0x8ca)]===0x1&&!isNaN(_0x7ef604[0x0]))return parseFloat(_0x7ef604[0x0]);}}return null;},_0x50fc87=_0x31e030=>{const _0xfb1813=_0x551a;if(typeof _0x31e030!==_0xfb1813(0x9a5))return _0x31e030;const _0x80d660=_0x31e030[_0xfb1813(0xaf5)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x80d660){const _0x39c78d=parseInt(_0x80d660[0x1]);let _0x46bfab=parseInt(_0x80d660[0x2]),_0x2e58d7=parseInt(_0x80d660[0x3]);const _0x4d7ab4=_0x5b0112(_0x46bfab,_0x2e58d7);_0x46bfab/=_0x4d7ab4,_0x2e58d7/=_0x4d7ab4;if(_0x2e58d7===0x1)return(_0x39c78d+_0x46bfab)[_0xfb1813(0x830)]();return _0x39c78d+'\x20'+_0x46bfab+'/'+_0x2e58d7;}return _0x31e030;};return _0x336c1f&&_0x336c1f[_0x177114(0x3ef)]&&_0x336c1f[_0x177114(0x3ef)][_0x177114(0x427)](_0x53cb5b=>{const _0xec499=_0x177114;if(_0x53cb5b[_0xec499(0x7ed)]===_0xec499(0xa7c)&&_0x53cb5b['options']){const _0x4ade4f=new Map(),_0x18d4af=_0x53cb5b[_0xec499(0x5e9)][_0x53cb5b[_0xec499(0xf16)]];_0x53cb5b['options'][_0xec499(0x427)](_0x5c6be8=>{const _0x24b885=_0xec499,_0x141ebf=_0x50fc87(_0x5c6be8),_0x247931=_0xf65458(_0x141ebf);_0x247931!==null&&!_0x4ade4f[_0x24b885(0x2f0)](_0x247931)&&_0x4ade4f[_0x24b885(0x799)](_0x247931,_0x141ebf);}),_0x53cb5b['options']=Array[_0xec499(0x5ac)](_0x4ade4f[_0xec499(0x7ef)]());const _0x1ad5b3=_0x53cb5b[_0xec499(0x5e9)][_0xec499(0x65b)](_0x281ecd=>_0x281ecd===_0x50fc87(_0x18d4af));_0x53cb5b[_0xec499(0xf16)]=_0x1ad5b3!==-0x1?_0x1ad5b3:0x0;}}),_0x336c1f;}function showGameStartConfirmationModal(_0x19f8c5,_0x40a580,_0x4821ab){const _0x473484=_0x4a01bc,_0x29b8d0=document[_0x473484(0x657)](_0x473484(0xb99));document[_0x473484(0x657)](_0x473484(0x16e))[_0x473484(0x54c)]='เริ่มกิจกรรม:\x20'+_0x4821ab,document[_0x473484(0x657)](_0x473484(0x9c4))[_0x473484(0x68e)]=_0x19f8c5,document[_0x473484(0x657)]('game-start-mode')['value']=_0x40a580,document[_0x473484(0x657)](_0x473484(0x57b))[_0x473484(0x536)]=!![];const _0x1d4b83=document[_0x473484(0x657)]('sync-variant-selector'),_0x685109=document[_0x473484(0x657)](_0x473484(0xae1)),_0x220f6d=document['getElementById']('sync-timer-duration-container'),_0x5126d6=document[_0x473484(0x657)](_0x473484(0xc4f)),_0x2750e9=document[_0x473484(0x657)]('anon-settings-container');if(_0x40a580===_0x473484(0x988)){_0x1d4b83[_0x473484(0xb6d)][_0x473484(0x66f)](_0x473484(0x599));const _0x50f38c='anonymous';document[_0x473484(0x5cd)](_0x473484(0xcfc)+_0x50f38c+'\x22]')[_0x473484(0x536)]=!![];if(_0x2750e9)_0x2750e9[_0x473484(0xb6d)][_0x473484(0x66f)]('hidden');_0x685109['checked']=!![],_0x220f6d['classList']['remove'](_0x473484(0x599)),document[_0x473484(0x657)](_0x473484(0xd60))[_0x473484(0x68e)]=_0x473484(0xaa6),_0x5126d6[_0x473484(0xb6d)]['remove'](_0x473484(0x599)),document[_0x473484(0x657)](_0x473484(0x9a9))[_0x473484(0x536)]=!![];}else{_0x1d4b83['classList'][_0x473484(0xa52)](_0x473484(0x599));if(_0x2750e9)_0x2750e9[_0x473484(0xb6d)][_0x473484(0xa52)](_0x473484(0x599));_0x685109[_0x473484(0x536)]=![],_0x220f6d[_0x473484(0xb6d)][_0x473484(0xa52)](_0x473484(0x599)),_0x5126d6[_0x473484(0xb6d)][_0x473484(0xa52)](_0x473484(0x599));}_0x29b8d0[_0x473484(0xb6d)]['remove'](_0x473484(0x599));}async function saveGameResultsAsSubmissions(_0x1e0a9f){const _0x300adb=_0x4a01bc;if(_0x1e0a9f[_0x300adb(0x177)]){console[_0x300adb(0x546)](_0x300adb(0x6fe));return;}console[_0x300adb(0x546)](_0x300adb(0x793),_0x1e0a9f);const _0x594c6f=_0x1e0a9f[_0x300adb(0x8a3)];let _0x5973e8=[];if(_0x1e0a9f[_0x300adb(0x4f7)])_0x5973e8=Object[_0x300adb(0x1f7)](_0x1e0a9f[_0x300adb(0x4f7)])[_0x300adb(0x823)](([_0xe6fc1d,_0x268125])=>({'name':_0xe6fc1d,..._0x268125}));else _0x1e0a9f['groups']&&Object[_0x300adb(0x7ef)](_0x1e0a9f[_0x300adb(0x9d9)])[_0x300adb(0x427)](_0x163092=>{const _0x39c0c1=_0x300adb;_0x163092[_0x39c0c1(0x5e8)][_0x39c0c1(0x427)](_0x3b8027=>{const _0x561712=_0x39c0c1;_0x5973e8[_0x561712(0xe7d)]({'name':_0x3b8027,'score':_0x163092['score'],'answers':_0x163092['answers']});});});if(_0x5973e8[_0x300adb(0x8ca)]===0x0)return;const _0x69d0c4=_0x1e0a9f[_0x300adb(0x7ce)]?.[_0x300adb(0x3ef)][_0x300adb(0x8ca)]||currentQuizData['questions'][_0x300adb(0x8ca)],_0x48a9dd=writeBatch(db),_0x38d64c=_0x1e0a9f[_0x300adb(0x7ce)]?.[_0x300adb(0x401)]||currentQuizData?.[_0x300adb(0x401)]||currentProjectId,_0x44a5b7={};for(const _0x48ece8 of _0x5973e8){const _0x4bddbb=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x594c6f+'/submissions',_0x48ece8[_0x300adb(0x9ce)]),_0x538ac2=(_0x48ece8[_0x300adb(0xbd1)]||[])[_0x300adb(0xc4c)](_0xb59bb7=>_0xb59bb7[_0x300adb(0x41b)])[_0x300adb(0x8ca)];let _0x159491=_0x48ece8[_0x300adb(0x2e5)]!==undefined?_0x48ece8['totalPoints']:_0x538ac2,_0x41aaba=_0x48ece8[_0x300adb(0x485)]||[];if(_0x538ac2===_0x69d0c4&&_0x69d0c4>0x0){if(!_0x41aaba[_0x300adb(0x484)](_0x300adb(0xa9d)))_0x41aaba['push']('perfect_score');}const _0x430722={'score':_0x538ac2,'points':_0x159491,'badges':_0x41aaba,'submittedAt':new Date()['toISOString'](),'isSyncGame':!![],'answers':(_0x48ece8[_0x300adb(0xbd1)]||[])[_0x300adb(0x823)](_0x584499=>({'questionId':_0x584499['questionId'],'answer':_0x584499['answer'],'answerText':_0x584499[_0x300adb(0x79f)],'isCorrect':_0x584499[_0x300adb(0x41b)],'originalQuestionText':_0x584499[_0x300adb(0x900)],'wasConfident':_0x584499[_0x300adb(0x2b8)],'powerupUsed':_0x584499[_0x300adb(0xd19)]||null}))},_0x19534b=await getDoc(_0x4bddbb),_0x44e76a=_0x19534b['exists']()?_0x19534b[_0x300adb(0xd0c)]():{},_0x2b8e64=_0x44e76a[_0x300adb(0x92f)]||0x0;let _0x28025f=0x0;_0x159491>_0x2b8e64&&(_0x28025f=_0x159491-_0x2b8e64);const _0x6f8dd2={'studentName':_0x48ece8[_0x300adb(0x9ce)],'totalQuestions':_0x69d0c4,'attempts':arrayUnion(_0x430722),'latestScore':_0x538ac2,'points':Math[_0x300adb(0xf23)](_0x2b8e64,_0x159491),'latestSubmittedAt':_0x430722['submittedAt'],'bestScore':Math[_0x300adb(0xf23)](_0x44e76a[_0x300adb(0x46e)]||0x0,_0x538ac2),'firstScore':_0x44e76a[_0x300adb(0xd90)]!==undefined?_0x44e76a[_0x300adb(0xd90)]:_0x538ac2};_0x48a9dd[_0x300adb(0x799)](_0x4bddbb,_0x6f8dd2,{'merge':!![]}),_0x38d64c&&(!_0x44a5b7[_0x48ece8[_0x300adb(0x9ce)]]&&(_0x44a5b7[_0x48ece8[_0x300adb(0x9ce)]]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x44a5b7[_0x48ece8['name']]['pointsToAdd']+=_0x28025f,_0x41aaba['forEach'](_0x3047a9=>{const _0x3d33d6=_0x300adb;_0x44a5b7[_0x48ece8[_0x3d33d6(0x9ce)]]['badgesToAdd'][_0x3d33d6(0xe7d)](_0x3047a9);}));}if(_0x38d64c)for(const [_0x1ebf64,_0x2baf38]of Object[_0x300adb(0x1f7)](_0x44a5b7)){if(_0x2baf38[_0x300adb(0x6e5)]>0x0||_0x2baf38['badgesToAdd'][_0x300adb(0x8ca)]>0x0){const _0x22f475=doc(db,'artifacts/'+appId+_0x300adb(0x53e)+_0x38d64c+_0x300adb(0x9f2),_0x1ebf64),_0x166961={'studentName':_0x1ebf64,'totalPoints':increment(_0x2baf38[_0x300adb(0x6e5)])};_0x2baf38[_0x300adb(0x8db)][_0x300adb(0x427)](_0x288109=>{_0x166961['badgesCount.'+_0x288109]=increment(0x1);}),_0x48a9dd[_0x300adb(0x799)](_0x22f475,_0x166961,{'merge':!![]});}}try{if(currentLiveGameId){const _0x464fe3=doc(db,_0x300adb(0x4b1)+appId+_0x300adb(0xa25),currentLiveGameId);_0x48a9dd['update'](_0x464fe3,{'resultsSaved':!![]});}await _0x48a9dd['commit'](),console[_0x300adb(0x546)](_0x300adb(0xdee)),showMessage(_0x300adb(0x49a));}catch(_0x309361){console[_0x300adb(0xcb6)](_0x300adb(0xf2a),_0x309361),showMessage('เกิดข้อผิดพลาดในการบันทึกผลคะแนน');}}async function saveQuiz(_0x1aaaaf=null,_0x33608d=null){const _0x1b171b=_0x4a01bc,_0x145a66=_0x1aaaaf||currentProjectId;if(!_0x145a66){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x1b171b(0x63c));return;}const _0xa0e0e1=document[_0x1b171b(0x657)](_0x1b171b(0xed4));_0xa0e0e1['disabled']=!![],_0xa0e0e1[_0x1b171b(0x891)]=_0x1b171b(0x4c3);const _0x41c71a=document[_0x1b171b(0x657)](_0x1b171b(0xed3))['checked'];let _0x35cb25=document[_0x1b171b(0x657)]('editable-quiz-topic')['innerText'][_0x1b171b(0x5b2)]();_0x41c71a&&!_0x35cb25[_0x1b171b(0x1ce)](_0x1b171b(0xecd))&&(_0x35cb25='(ก่อนเรียน)\x20'+_0x35cb25);try{const _0x31af22={'resultsDisplay':document['getElementById'](_0x1b171b(0xdad))[_0x1b171b(0x68e)],'shuffle':document[_0x1b171b(0x657)]('shuffle-setting-select')['value'],'timerMode':document[_0x1b171b(0x657)](_0x1b171b(0xd74))[_0x1b171b(0x68e)],'timerDuration':parseInt(document['getElementById'](_0x1b171b(0x2b5))['value'])||0xa,'passingScore':parseInt(document[_0x1b171b(0x657)]('passing-score-input')[_0x1b171b(0x68e)])||0x0,'isAdaptive':document['getElementById'](_0x1b171b(0xb9c))[_0x1b171b(0x536)],'loopUntilPass':document[_0x1b171b(0x657)](_0x1b171b(0x8c0))['checked']},_0x2b5274=(currentQuizData[_0x1b171b(0x3ef)]||[])[_0x1b171b(0x823)]((_0x923bd2,_0x385518)=>{const _0x496c84=_0x1b171b,_0x3f32ee=document[_0x496c84(0x657)](_0x496c84(0xc09))[_0x496c84(0x68e)],_0x5bb375={'id':'q_'+Date['now']()+'_'+_0x385518,'questionText':_0x923bd2['questionText']||'','explanation':_0x923bd2[_0x496c84(0xa6b)]||_0x496c84(0xe57),'questionType':_0x923bd2[_0x496c84(0x7ed)]||_0x3f32ee,'imageCode':_0x923bd2[_0x496c84(0x277)]||null};return(_0x5bb375[_0x496c84(0x7ed)]==='multiple_choice'||_0x5bb375[_0x496c84(0x7ed)]===_0x496c84(0xbe6)||_0x5bb375['questionType']==='mixed'&&_0x923bd2[_0x496c84(0x5e9)])&&(_0x5bb375['options']=_0x923bd2['options']||[],_0x5bb375[_0x496c84(0xf16)]=_0x923bd2[_0x496c84(0xf16)]!==undefined?_0x923bd2[_0x496c84(0xf16)]:0x0),(_0x5bb375[_0x496c84(0x7ed)]===_0x496c84(0x190)||_0x5bb375[_0x496c84(0x7ed)]==='fill_in_no_choices'||_0x5bb375[_0x496c84(0x7ed)]==='mixed'&&_0x923bd2['idealAnswer'])&&(_0x5bb375[_0x496c84(0x9c1)]=_0x923bd2['idealAnswer']||''),_0x5bb375['questionType']===_0x496c84(0x446)&&(_0x5bb375[_0x496c84(0x315)]=_0x923bd2[_0x496c84(0x315)]===!![]),_0x5bb375['questionType']==='matching_item'&&(_0x5bb375[_0x496c84(0x472)]=_0x923bd2['stem']||'',_0x5bb375[_0x496c84(0xdf0)]=_0x923bd2[_0x496c84(0xdf0)]||'',_0x5bb375[_0x496c84(0xa5e)]=_0x923bd2[_0x496c84(0xa5e)]||[]),_0x5bb375;}),_0x41e2de={'topic':_0x35cb25,'quizType':currentQuizData[_0x1b171b(0x335)]||'multiple_choice','questions':_0x2b5274,'projectId':_0x145a66,'createdBy':userId,'createdAt':new Date()[_0x1b171b(0xeca)](),'status':'active','settings':_0x31af22,'quizMode':_0x41c71a?_0x1b171b(0x5a0):_0x1b171b(0xd8c),'pairedQuizId':null,'lessonPlan':null};let _0x1b3554;while(!![]){_0x1b3554=Math[_0x1b171b(0xd62)](0x3e8+Math[_0x1b171b(0xf11)]()*0x2328)[_0x1b171b(0x830)]();const _0x510e0b=await getDoc(doc(db,'artifacts/'+appId+_0x1b171b(0x8cb),_0x1b3554));if(!_0x510e0b[_0x1b171b(0xce9)]())break;}await setDoc(doc(db,_0x1b171b(0x4b1)+appId+_0x1b171b(0x8cb),_0x1b3554),_0x41e2de);if(_0x33608d&&currentBlueprintProjectId){console[_0x1b171b(0x546)](_0x1b171b(0x19f)+_0x1b3554+_0x1b171b(0xa16)+_0x33608d);try{const _0x2780ff=doc(db,_0x1b171b(0x4b1)+appId+_0x1b171b(0xef8),currentBlueprintProjectId);await updateDoc(_0x2780ff,{[_0x1b171b(0xe7c)+_0x33608d+_0x1b171b(0x2bd)]:arrayUnion(_0x1b3554)});}catch(_0x787354){console[_0x1b171b(0xcb6)](_0x1b171b(0x4b7),_0x787354);}}currentQuizData[_0x1b171b(0xf0c)]=_0x31af22,currentQuizData['id']=_0x1b3554;const _0x4bfa03=document[_0x1b171b(0x657)](_0x1b171b(0xd1a));_0x4bfa03[_0x1b171b(0x891)]=_0x1b171b(0x235)+_0x1b3554+_0x1b171b(0xb11),document['getElementById'](_0x1b171b(0x861))['addEventListener']('click',()=>copyTextToClipboard(_0x1b3554,_0x1b171b(0x9e9))),document[_0x1b171b(0x657)]('start-live-race-generated-btn')['addEventListener'](_0x1b171b(0x4ca),()=>handleStartLiveRace(_0x1b3554)),document['getElementById'](_0x1b171b(0x5d0))[_0x1b171b(0xdc6)]('click',()=>startPresentation(currentQuizData)),document[_0x1b171b(0x657)](_0x1b171b(0x92c))[_0x1b171b(0xdc6)]('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x27950b){console[_0x1b171b(0xcb6)](_0x1b171b(0xa92),_0x27950b),showMessage(_0x1b171b(0x8cf));}finally{_0xa0e0e1[_0x1b171b(0x4b4)]=![],_0xa0e0e1['innerHTML']=_0x1b171b(0x86b);}}function promptForProjectAndSave(){const _0x3418b4=_0x4a01bc,_0x119c5b=document[_0x3418b4(0x657)]('move-quiz-modal'),_0x507443=document[_0x3418b4(0x657)]('move-quiz-project-select'),_0x2e3dbf=_0x119c5b[_0x3418b4(0x5cd)]('h3'),_0xc7cada=document[_0x3418b4(0x657)](_0x3418b4(0x257));_0x2e3dbf['textContent']='เลือกโปรเจคเพื่อบันทึก',_0xc7cada['textContent']='เลือกและบันทึก';allProjects[_0x3418b4(0x8ca)]===0x0?(_0x507443[_0x3418b4(0x891)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0xc7cada['disabled']=!![]):(_0x507443[_0x3418b4(0x891)]=allProjects[_0x3418b4(0x823)](_0x45d121=>'<option\x20value=\x22'+_0x45d121['id']+'\x22>'+_0x45d121[_0x3418b4(0x37f)]+'</option>')[_0x3418b4(0x566)](''),_0xc7cada[_0x3418b4(0x4b4)]=![]);_0x119c5b['classList'][_0x3418b4(0x66f)](_0x3418b4(0x599));const _0x3ad573=()=>{const _0xe2506=_0x3418b4,_0x3f2c0d=_0x507443[_0xe2506(0x68e)];_0x3f2c0d?(currentProjectId=_0x3f2c0d,_0x119c5b['classList']['add']('hidden'),saveQuiz(),_0x2e3dbf[_0xe2506(0x54c)]=_0xe2506(0xee9),_0xc7cada[_0xe2506(0x54c)]=_0xe2506(0x727),_0xc7cada[_0xe2506(0xb77)](_0xe2506(0x4ca),_0x3ad573),_0xc7cada[_0xe2506(0xdc6)](_0xe2506(0x4ca),confirmMoveQuiz)):showMessage(_0xe2506(0x1a3));};_0xc7cada[_0x3418b4(0xb77)](_0x3418b4(0x4ca),confirmMoveQuiz),_0xc7cada['addEventListener'](_0x3418b4(0x4ca),_0x3ad573);}function copyTextToClipboard(_0x42e3ef,_0x958ca7){const _0x21e6db=_0x4a01bc,_0x1437f9=document['createElement'](_0x21e6db(0x789));_0x1437f9['value']=_0x42e3ef,_0x1437f9[_0x21e6db(0xd7a)][_0x21e6db(0x437)]=_0x21e6db(0x3f3),_0x1437f9[_0x21e6db(0xd7a)][_0x21e6db(0xe36)]='0',document[_0x21e6db(0x754)]['appendChild'](_0x1437f9),_0x1437f9[_0x21e6db(0xcc9)](),_0x1437f9[_0x21e6db(0x5d6)]();try{const _0x242ad1=document[_0x21e6db(0xda5)](_0x21e6db(0x9f7));showMessage(_0x242ad1?_0x958ca7:_0x21e6db(0x626));}catch(_0x455f4e){showMessage('คัดลอกไม่สำเร็จ'),console[_0x21e6db(0xcb6)]('Copy\x20command\x20failed',_0x455f4e);}document[_0x21e6db(0x754)][_0x21e6db(0xd47)](_0x1437f9);}function listenForProjectQuizzes(_0x298fbc){const _0x5bd1d2=_0x4a01bc,_0x30c4d9=collection(db,'artifacts/'+appId+_0x5bd1d2(0x8cb)),_0x57d58b=query(_0x30c4d9,where(_0x5bd1d2(0x401),'==',_0x298fbc));unsubscribeQuizzesListener=onSnapshot(_0x57d58b,async _0x407e24=>{const _0x54ec3b=_0x5bd1d2;allQuizzes=_0x407e24[_0x54ec3b(0xb70)][_0x54ec3b(0x823)](_0x23d533=>({'id':_0x23d533['id'],..._0x23d533[_0x54ec3b(0xd0c)]()})),renderQuizzes();},_0x2e3230=>{const _0x381495=_0x5bd1d2;console['error'](_0x381495(0x631),_0x2e3230),document[_0x381495(0x657)](_0x381495(0xe89))[_0x381495(0x891)]=_0x381495(0x91a);});}async function renderQuizzes(){const _0x97f165=_0x4a01bc,_0x17e7f9=document[_0x97f165(0x657)]('project-quizzes-list'),_0x8024db=document['getElementById'](_0x97f165(0x6ad))[_0x97f165(0x68e)]['toLowerCase']();let _0x4a3338;currentProjectId===_0x97f165(0x8dd)?_0x4a3338=starredQuizzes:_0x4a3338=allQuizzes;let _0x46786d=_0x4a3338[_0x97f165(0xc4c)](_0xc4739=>_0xc4739[_0x97f165(0xb1c)]['toLowerCase']()[_0x97f165(0x484)](_0x8024db));_0x46786d[_0x97f165(0xc1a)]((_0x518e64,_0x49818a)=>new Date(_0x49818a['createdAt'])-new Date(_0x518e64['createdAt']));if(_0x46786d[_0x97f165(0x8ca)]===0x0){_0x17e7f9[_0x97f165(0x891)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x13997a={},_0x4703a0=_0x46786d['map'](async _0x2e3ee5=>{const _0xe1c45f=_0x97f165,_0x1577f6=collection(db,'artifacts/'+appId+_0xe1c45f(0xb20)+_0x2e3ee5['id']+_0xe1c45f(0x411)),_0x4f1cd6=await getCountFromServer(_0x1577f6);_0x13997a[_0x2e3ee5['id']]=_0x4f1cd6['data']()[_0xe1c45f(0x4bd)];});await Promise[_0x97f165(0xa87)](_0x4703a0);let _0x5f16b0='';_0x46786d['forEach'](_0xd3ef26=>{const _0xaaf7bd=_0x97f165,_0xd54ba0=_0x13997a[_0xd3ef26['id']]||0x0,_0xd0a7b2=_0xd3ef26['status']||_0xaaf7bd(0x670),_0x111961=_0xd3ef26['settings']?.['timerMode']||_0xaaf7bd(0x813);let _0x1507ad='',_0x4c95f5='';const _0x2a623d=new Date();let _0x428673=_0xd0a7b2;if(_0xd0a7b2===_0xaaf7bd(0x592)){const _0x1d9092=_0xd3ef26[_0xaaf7bd(0xb4e)]?new Date(_0xd3ef26[_0xaaf7bd(0xb4e)]):null,_0x40ae17=_0xd3ef26[_0xaaf7bd(0x6c2)]?new Date(_0xd3ef26[_0xaaf7bd(0x6c2)]):null;if(_0x40ae17&&_0x2a623d>_0x40ae17)_0x428673='inactive';else _0x1d9092&&_0x2a623d<_0x1d9092?_0x428673=_0xaaf7bd(0xf05):_0x428673=_0xaaf7bd(0x670);}switch(_0x428673){case _0xaaf7bd(0x285):_0x1507ad=_0xaaf7bd(0x533),_0x4c95f5='text-red-700\x20bg-red-100';break;case _0xaaf7bd(0xf05):_0x1507ad=_0xaaf7bd(0xe2c),_0x4c95f5=_0xaaf7bd(0x3c0);break;case'active':_0x1507ad=_0x111961!==_0xaaf7bd(0x813)?_0xaaf7bd(0x173):'เปิดใช้งาน',_0x4c95f5='text-green-700\x20bg-green-100';break;default:_0x1507ad=_0xaaf7bd(0xf1f),_0x4c95f5=_0xaaf7bd(0xa1e);break;}let _0x4d679b='';const _0xe846aa={'day':_0xaaf7bd(0xd7c),'month':'2-digit','year':_0xaaf7bd(0x36d),'hour':_0xaaf7bd(0xd7c),'minute':_0xaaf7bd(0xd7c),'hour12':![]};if(_0xd0a7b2==='scheduled'){if(_0xd3ef26[_0xaaf7bd(0xb4e)])_0x4d679b+=_0xaaf7bd(0x41d)+new Date(_0xd3ef26[_0xaaf7bd(0xb4e)])['toLocaleString']('th-TH',_0xe846aa)+'</p>';if(_0xd3ef26[_0xaaf7bd(0x6c2)])_0x4d679b+=_0xaaf7bd(0x8b9)+new Date(_0xd3ef26[_0xaaf7bd(0x6c2)])['toLocaleString']('th-TH',_0xe846aa)+_0xaaf7bd(0xcec);}let _0x574e7e='';if(_0xd3ef26[_0xaaf7bd(0x946)]){const _0x1a9853=allQuizzes[_0xaaf7bd(0x1d5)](_0x14dfda=>_0x14dfda['id']===_0xd3ef26[_0xaaf7bd(0x946)]);if(_0x1a9853){let _0x3e8060,_0x37729f;new Date(_0xd3ef26[_0xaaf7bd(0x6a8)])<new Date(_0x1a9853[_0xaaf7bd(0x6a8)])?(_0x3e8060=_0xd3ef26['id'],_0x37729f=_0x1a9853['id']):(_0x3e8060=_0x1a9853['id'],_0x37729f=_0xd3ef26['id']),_0x574e7e+=_0xaaf7bd(0x587)+_0x37729f+_0xaaf7bd(0x71a)+_0x3e8060+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0xd3ef26[_0xaaf7bd(0x962)]===_0xaaf7bd(0x5a0)&&(_0x574e7e+=_0xaaf7bd(0xbc1)+_0xd3ef26['id']+_0xaaf7bd(0x538));if(_0xd3ef26[_0xaaf7bd(0x962)]===_0xaaf7bd(0x5a0)&&_0xd54ba0>0x0)_0x574e7e+=_0xaaf7bd(0xbc1)+_0xd3ef26['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0xd3ef26[_0xaaf7bd(0x946)]&&_0xd3ef26[_0xaaf7bd(0x962)]!==_0xaaf7bd(0x5a0)&&_0xd54ba0>0x0&&(_0x574e7e+=_0xaaf7bd(0xbc1)+_0xd3ef26['id']+_0xaaf7bd(0x39c));let _0x3477ec='';_0xd3ef26[_0xaaf7bd(0x946)]?_0x3477ec=_0xaaf7bd(0x982)+_0xd3ef26['id']+_0xaaf7bd(0x431):_0x3477ec=_0xaaf7bd(0x982)+_0xd3ef26['id']+_0xaaf7bd(0x67c);const _0x160a9f=_0xaaf7bd(0x27a)+_0xd3ef26['id']+_0xaaf7bd(0x4f8);_0x5f16b0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0xd3ef26['id']+_0xaaf7bd(0xe73)+_0xd3ef26[_0xaaf7bd(0xb1c)]+_0xaaf7bd(0x865)+_0xd3ef26['questions'][_0xaaf7bd(0x8ca)]+_0xaaf7bd(0x421)+new Date(_0xd3ef26[_0xaaf7bd(0x6a8)])[_0xaaf7bd(0x6bb)]('th-TH')+_0xaaf7bd(0x9d5)+_0xd54ba0+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d679b+_0xaaf7bd(0xd57)+_0x4c95f5+'\x22>'+_0x1507ad+_0xaaf7bd(0xc8e)+_0xd3ef26['id']+_0xaaf7bd(0x312)+_0xd3ef26['id']+_0xaaf7bd(0x303)+(_0xd3ef26['isStarred']?_0xaaf7bd(0x790):_0xaaf7bd(0xc34))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x574e7e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x160a9f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd3ef26['id']+_0xaaf7bd(0x58c)+_0xd3ef26['id']+_0xaaf7bd(0x2c6)+_0xd3ef26['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd3ef26['id']+_0xaaf7bd(0x850)+_0xd3ef26['id']+_0xaaf7bd(0xdcc)+_0xd3ef26['id']+_0xaaf7bd(0x4eb)+_0xd3ef26['id']+_0xaaf7bd(0xa62)+_0xd3ef26[_0xaaf7bd(0xb1c)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd3ef26['id']+_0xaaf7bd(0x72f)+_0xd3ef26['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3477ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd3ef26['id']+_0xaaf7bd(0xbdd)+_0xd3ef26['id']+_0xaaf7bd(0x424)+_0xd3ef26['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd3ef26['id']+_0xaaf7bd(0x912)+_0xd3ef26['id']+'\x22\x20data-topic=\x22'+_0xd3ef26[_0xaaf7bd(0xb1c)]+_0xaaf7bd(0xdf8)+_0xd3ef26['id']+_0xaaf7bd(0xe16);}),_0x17e7f9[_0x97f165(0x891)]=_0x5f16b0,document[_0x97f165(0x180)](_0x97f165(0x7c8))[_0x97f165(0x427)](_0x56cfdc=>{const _0x3b2157=_0x97f165;_0x56cfdc[_0x3b2157(0xdc6)](_0x3b2157(0x4ca),()=>{const _0x5603f4=_0x3b2157,_0x18a414=_0x56cfdc[_0x5603f4(0x320)]['quizId'];showQuizDetailView(_0x18a414);});});}async function handleUnpairQuiz(_0x3de2fc){const _0x1f698c=_0x4a01bc,_0x4fc22d=allQuizzes[_0x1f698c(0x1d5)](_0x2291be=>_0x2291be['id']===_0x3de2fc);if(!_0x4fc22d||!_0x4fc22d[_0x1f698c(0x946)]){showMessage(_0x1f698c(0x698));return;}showConfirmation(_0x1f698c(0x874),async()=>{const _0x1e6f2c=_0x1f698c;try{const _0x163312=doc(db,_0x1e6f2c(0x4b1)+appId+'/public/data/quizzes',_0x3de2fc),_0x25c5da=doc(db,'artifacts/'+appId+_0x1e6f2c(0x8cb),_0x4fc22d['pairedQuizId']),_0x5f4355=writeBatch(db);_0x5f4355[_0x1e6f2c(0x294)](_0x163312,{'pairedQuizId':null}),_0x5f4355['update'](_0x25c5da,{'pairedQuizId':null}),await _0x5f4355[_0x1e6f2c(0xb4a)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0xe74e3){console['error'](_0x1e6f2c(0x756),_0xe74e3),showMessage(_0x1e6f2c(0x7b5));}});}function formatAndPrintLessonPlan(_0x5a1b72,_0x354b2a){const _0x318b11=_0x4a01bc,_0x24732f=window[_0x318b11(0x321)]('',_0x318b11(0x24c)),_0x929e97=_0x318b11(0x473)+_0x354b2a[_0x318b11(0xb1c)]+_0x318b11(0x1e0)+_0x354b2a[_0x318b11(0xb1c)]+_0x318b11(0xd67)+_0x5a1b72[_0x318b11(0xd3f)][_0x318b11(0x823)](_0x2953bc=>'<li>'+_0x2953bc+'</li>')[_0x318b11(0x566)]('')+_0x318b11(0x8ef)+_0x5a1b72[_0x318b11(0x4cd)]+_0x318b11(0x84b)+_0x5a1b72['practiceProblems'][_0x318b11(0x823)](_0x1bd3a8=>_0x318b11(0xbba)+_0x1bd3a8[_0x318b11(0xe3b)]+_0x318b11(0x495)+_0x1bd3a8['solution']+_0x318b11(0xd5f))[_0x318b11(0x566)]('')+_0x318b11(0xa2a);_0x24732f[_0x318b11(0xdb5)][_0x318b11(0x333)](_0x929e97),_0x24732f[_0x318b11(0xdb5)][_0x318b11(0xddb)](),_0x24732f[_0x318b11(0x9ee)]=function(){setTimeout(()=>{const _0x5bcfbc=_0x551a;_0x24732f[_0x5bcfbc(0xdc7)]();},0x3e8);};}async function handleAiFixFormula(_0x2b517b){const _0x4829e5=_0x4a01bc,_0xf490ea=document['querySelector'](_0x4829e5(0xabc)+_0x2b517b+'\x22]');if(!_0xf490ea)return;const _0x2f5e87=_0xf490ea['dataset']['qType'],_0x2fc36a=_0xf490ea[_0x4829e5(0x5cd)](_0x4829e5(0xdbc));let _0x1a0ee8={'question':_0xf490ea[_0x4829e5(0x5cd)](_0x4829e5(0x789))[_0x4829e5(0x68e)]};switch(_0x2f5e87){case _0x4829e5(0xa7c):_0x1a0ee8[_0x4829e5(0x5e9)]=Array['from'](_0xf490ea['querySelectorAll'](_0x4829e5(0xe15)))[_0x4829e5(0x823)](_0x25d504=>_0x25d504[_0x4829e5(0x68e)]);break;case _0x4829e5(0x467):case'short_answer':_0x1a0ee8[_0x4829e5(0x9c1)]=_0xf490ea['querySelector'](_0x4829e5(0x5bb))['value'];break;case'matching_item':_0x1a0ee8[_0x4829e5(0xdf0)]=_0xf490ea[_0x4829e5(0x5cd)](_0x4829e5(0x1ea))['value'];break;}_0x2fc36a[_0x4829e5(0x891)]=_0x4829e5(0xb6e),_0x2fc36a[_0x4829e5(0x4b4)]=!![];try{const _0x14346d=_0x4829e5(0x232)+JSON[_0x4829e5(0x7ba)](_0x1a0ee8)+_0x4829e5(0x950),_0x47f567={'type':_0x4829e5(0x73e),'properties':{'fixedData':{'type':_0x4829e5(0x73e),'properties':{'question':{'type':'STRING'},'options':{'type':_0x4829e5(0x614),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x4829e5(0xcf1)}},'required':[_0x4829e5(0xe3b)]}},'required':[_0x4829e5(0x21e)]},_0x361c91=await callAnalysisApi(_0x14346d,_0x47f567);if(_0x361c91&&_0x361c91[_0x4829e5(0x21e)]){const _0x3af94b=_0x361c91[_0x4829e5(0x21e)];_0xf490ea[_0x4829e5(0x5cd)]('textarea')[_0x4829e5(0x68e)]=_0x3af94b[_0x4829e5(0xe3b)]||_0x1a0ee8['question'];switch(_0x2f5e87){case _0x4829e5(0xa7c):_0x3af94b[_0x4829e5(0x5e9)]&&_0x3af94b[_0x4829e5(0x5e9)][_0x4829e5(0x8ca)]>0x0&&_0xf490ea['querySelectorAll'](_0x4829e5(0xe15))[_0x4829e5(0x427)]((_0x3eb3aa,_0x71348d)=>{const _0x463ce4=_0x4829e5;_0x3eb3aa[_0x463ce4(0x68e)]=_0x3af94b['options'][_0x71348d]||_0x1a0ee8[_0x463ce4(0x5e9)][_0x71348d];});break;case _0x4829e5(0x467):case _0x4829e5(0x190):_0xf490ea[_0x4829e5(0x5cd)](_0x4829e5(0x5bb))[_0x4829e5(0x68e)]=_0x3af94b[_0x4829e5(0x9c1)]||_0x1a0ee8[_0x4829e5(0x9c1)];break;case'matching_item':_0xf490ea['querySelector'](_0x4829e5(0x1ea))[_0x4829e5(0x68e)]=_0x3af94b[_0x4829e5(0xdf0)]||_0x1a0ee8[_0x4829e5(0xdf0)];break;}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x4829e5(0xa39));}catch(_0x28ab2c){console[_0x4829e5(0xcb6)](_0x4829e5(0xa7b),_0x28ab2c),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x2fc36a['innerHTML']='<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>',_0x2fc36a[_0x4829e5(0x4b4)]=![];}}async function handleGenerateLessonPlan(_0x3f5332){const _0x272d8b=_0x4a01bc;showMessage(_0x272d8b(0x52d));try{const _0x4b9513=doc(db,_0x272d8b(0x4b1)+appId+'/public/data/quizzes',_0x3f5332),_0x55d4f0=await getDoc(_0x4b9513);if(!_0x55d4f0[_0x272d8b(0xce9)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x1d8188={'id':_0x3f5332,..._0x55d4f0[_0x272d8b(0xd0c)]()},_0x28a947=collection(db,_0x272d8b(0x4b1)+appId+_0x272d8b(0x8cb),_0x3f5332,_0x272d8b(0x71b)),_0x586547=await getDocs(_0x28a947),_0x5b2f99=_0x586547[_0x272d8b(0xb70)][_0x272d8b(0x823)](_0x2541be=>_0x2541be[_0x272d8b(0xd0c)]());if(_0x5b2f99['length']===0x0)throw new Error(_0x272d8b(0x966));const _0x1503b4=calculateItemAnalysis(_0x1d8188,_0x5b2f99)[_0x272d8b(0xbbc)],_0x53d999=calculateDistractorAnalysis(_0x1d8188,_0x5b2f99),_0x42116e=_0x529cf1=>{const _0x3d85c6=_0x272d8b;if(!_0x529cf1)return'';return _0x529cf1[_0x3d85c6(0xdf2)](/\\/g,'\x5c\x5c')[_0x3d85c6(0xdf2)](/"/g,'\x5c\x22')[_0x3d85c6(0xdf2)](/\n/g,'\x5cn');};let _0x109a54=_0x272d8b(0x5b7);_0x1d8188['questions'][_0x272d8b(0x427)]((_0x4fa326,_0x12a0fd)=>{const _0x1a29ed=_0x272d8b,_0x38a1b3=_0x1503b4[_0x12a0fd]?.['p']['toFixed'](0x2)||_0x1a29ed(0xdf4),_0x57dc03=_0x1503b4[_0x12a0fd]?.['r']['toFixed'](0x2)||'N/A',_0x35f325=_0x42116e(_0x4fa326[_0x1a29ed(0xbf2)]||_0x4fa326[_0x1a29ed(0x472)]);_0x109a54+=_0x1a29ed(0x86e)+(_0x12a0fd+0x1)+_0x1a29ed(0x26b)+_0x38a1b3+',\x20r='+_0x57dc03+'):\x20'+_0x35f325+'\x5cn';if(_0x4fa326[_0x1a29ed(0x7ed)]===_0x1a29ed(0xa7c)&&_0x53d999[_0x12a0fd]){const _0x3fdea1=_0x53d999[_0x12a0fd],_0x3e3d9c=Object[_0x1a29ed(0xde1)](_0x3fdea1)[_0x1a29ed(0xc4c)](_0x58df5b=>parseInt(_0x58df5b)!==_0x4fa326[_0x1a29ed(0xf16)])[_0x1a29ed(0xc1a)]((_0x49329d,_0x990319)=>_0x3fdea1[_0x990319][_0x1a29ed(0x63e)]-_0x3fdea1[_0x49329d]['total'])[0x0];if(_0x3e3d9c&&_0x3fdea1[_0x3e3d9c]['total']>0x0){const _0x2b58be=_0x42116e(_0x3fdea1[_0x3e3d9c][_0x1a29ed(0xe09)]);_0x109a54+=_0x1a29ed(0x750)+_0x2b58be+'\x22\x5cn';}}});const _0x4dd1a7=_0x272d8b(0x6d5)+_0x1d8188['topic']+_0x272d8b(0xa43)+_0x109a54+_0x272d8b(0x60b),_0x471080={'type':_0x272d8b(0x73e),'properties':{'learningGaps':{'type':_0x272d8b(0x614),'items':{'type':_0x272d8b(0xcf1)}},'teachingContent':{'type':_0x272d8b(0xcf1)},'practiceProblems':{'type':_0x272d8b(0x614),'items':{'type':_0x272d8b(0x73e),'properties':{'question':{'type':_0x272d8b(0xcf1)},'solution':{'type':'STRING'}}}}},'required':[_0x272d8b(0xd3f),'teachingContent',_0x272d8b(0xda6)]},_0x10dd81=await callAnalysisApi(_0x4dd1a7,_0x471080);await updateDoc(_0x4b9513,{'lessonPlan':_0x10dd81});const _0x141482=_0x272d8b(0x2f7)+_0x1d8188[_0x272d8b(0xb1c)]+_0x272d8b(0x642)+_0x10dd81[_0x272d8b(0xd3f)][_0x272d8b(0x823)](_0x4b9c09=>_0x272d8b(0x1c9)+_0x4b9c09+_0x272d8b(0x7ab))['join']('')+_0x272d8b(0x2bf)+_0x10dd81['teachingContent']+_0x272d8b(0xadb)+_0x10dd81[_0x272d8b(0xda6)][_0x272d8b(0x823)](_0xa103b=>_0x272d8b(0xcc2)+_0xa103b[_0x272d8b(0xe3b)]+_0x272d8b(0x51f)+_0xa103b[_0x272d8b(0x99a)]+_0x272d8b(0x298))[_0x272d8b(0x566)]('')+_0x272d8b(0xf38);document[_0x272d8b(0x657)](_0x272d8b(0xadd))[_0x272d8b(0x54c)]=_0x272d8b(0x580)+_0x1d8188[_0x272d8b(0xb1c)],document['getElementById'](_0x272d8b(0x2fc))[_0x272d8b(0x891)]=_0x141482,document['getElementById'](_0x272d8b(0x609))[_0x272d8b(0xb6d)]['remove']('hidden');if(window[_0x272d8b(0x436)])MathJax['typesetPromise']();messageModal[_0x272d8b(0xb6d)][_0x272d8b(0xa52)]('hidden');}catch(_0x4c6719){console[_0x272d8b(0xcb6)](_0x272d8b(0x3b8),_0x4c6719),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4c6719[_0x272d8b(0x9a1)]);}}async function handleDuplicateQuiz(_0x373195){const _0x1cef76=_0x4a01bc;try{const _0x4027e3=doc(db,_0x1cef76(0x4b1)+appId+_0x1cef76(0x8cb),_0x373195),_0x20ddf7=await getDoc(_0x4027e3);if(_0x20ddf7[_0x1cef76(0xce9)]()){const _0x3fa225=_0x20ddf7[_0x1cef76(0xd0c)]();let _0x28a26e='',_0x4c5908=_0x1cef76(0xd8c),_0x3e411a=null;if(_0x3fa225[_0x1cef76(0x962)]===_0x1cef76(0x5a0)){let _0x4a3de0=_0x3fa225[_0x1cef76(0xb1c)][_0x1cef76(0xdf2)](_0x1cef76(0xecd),'')[_0x1cef76(0x5b2)]();_0x28a26e=_0x1cef76(0x981)+_0x4a3de0,_0x4c5908=_0x1cef76(0x821),_0x3e411a=_0x373195;}else _0x28a26e=_0x1cef76(0xaa5)+_0x3fa225[_0x1cef76(0xb1c)];const _0x21fefe={..._0x3fa225,'topic':_0x28a26e,'createdAt':new Date()[_0x1cef76(0xeca)](),'quizMode':_0x4c5908,'pairedQuizId':_0x3e411a};let _0x1736a3;while(!![]){_0x1736a3=Math[_0x1cef76(0xd62)](0x3e8+Math[_0x1cef76(0xf11)]()*0x2328)[_0x1cef76(0x830)]();const _0x1ba233=await getDoc(doc(db,_0x1cef76(0x4b1)+appId+_0x1cef76(0x8cb),_0x1736a3));if(!_0x1ba233[_0x1cef76(0xce9)]())break;}const _0x3c22d3=doc(db,_0x1cef76(0x4b1)+appId+'/public/data/quizzes',_0x1736a3);await setDoc(_0x3c22d3,_0x21fefe),_0x21fefe[_0x1cef76(0x962)]==='post-test'&&await updateDoc(_0x4027e3,{'pairedQuizId':_0x1736a3}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x1cef76(0xe80));}catch(_0x435736){console['error']('Error\x20duplicating\x20quiz:',_0x435736),showMessage(_0x1cef76(0xa5c));}}async function handleDeleteQuiz(_0x3fbf7f,_0x260b6c=!![]){const _0x10f5ce=_0x4a01bc;try{const _0xf5267=writeBatch(db),_0x1310ad=collection(db,_0x10f5ce(0x4b1)+appId+'/public/data/quizzes/'+_0x3fbf7f+_0x10f5ce(0x411)),_0x33ce9d=await getDocs(_0x1310ad);_0x33ce9d['forEach'](_0x59b3e9=>{_0xf5267['delete'](doc(_0x1310ad,_0x59b3e9['id']));});const _0x27f0e1=doc(db,_0x10f5ce(0x4b1)+appId+_0x10f5ce(0x8cb),_0x3fbf7f);_0xf5267[_0x10f5ce(0x95e)](_0x27f0e1),await _0xf5267[_0x10f5ce(0xb4a)]();try{console[_0x10f5ce(0x546)](_0x10f5ce(0xcef)+_0x3fbf7f+_0x10f5ce(0xa02));const _0x2f24bf=collection(db,_0x10f5ce(0x4b1)+appId+_0x10f5ce(0xef8)),_0x108694=await getDocs(_0x2f24bf),_0x32438f=[];_0x108694[_0x10f5ce(0x427)](_0x26b3b1=>{const _0xca6be2=_0x10f5ce,_0x4f9fc9=_0x26b3b1[_0xca6be2(0xd0c)](),_0xb928bb=_0x4f9fc9['topics']||{};let _0x43e942=![];for(const _0x42bd59 in _0xb928bb){const _0x99da3e=_0xb928bb[_0x42bd59];if(_0x99da3e[_0xca6be2(0xf1d)]&&_0x99da3e['linkedQuizIds']['includes'](_0x3fbf7f)){_0x43e942=!![];const _0x576ef1=doc(db,_0xca6be2(0x4b1)+appId+_0xca6be2(0xef8),_0x26b3b1['id']),_0x1cb224=updateDoc(_0x576ef1,{[_0xca6be2(0xe7c)+_0x42bd59+'.linkedQuizIds']:arrayRemove(_0x3fbf7f)});_0x32438f['push'](_0x1cb224);}}}),_0x32438f[_0x10f5ce(0x8ca)]>0x0&&(await Promise[_0x10f5ce(0xa87)](_0x32438f),console[_0x10f5ce(0x546)]('Successfully\x20removed\x20'+_0x32438f[_0x10f5ce(0x8ca)]+_0x10f5ce(0xea1)+_0x3fbf7f+'.'));}catch(_0x1d6272){console[_0x10f5ce(0xcb6)](_0x10f5ce(0x930),_0x1d6272);}_0x260b6c&&showMessage(_0x10f5ce(0x52e));}catch(_0x37cdee){console[_0x10f5ce(0xcb6)](_0x10f5ce(0x7bb),_0x37cdee),_0x260b6c&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x33baa5){const _0x4a023f=_0x4a01bc;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x3b432a=doc(db,_0x4a023f(0x4b1)+appId+_0x4a023f(0x8cb),_0x33baa5),_0x4a6af7=await getDoc(_0x3b432a);if(!_0x4a6af7['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x5c76f0={'id':_0x4a6af7['id'],..._0x4a6af7[_0x4a023f(0xd0c)]()};currentQuizData=_0x5c76f0;const _0x537f3d=doc(db,_0x4a023f(0x4b1)+appId+'/public/data/projects',_0x5c76f0[_0x4a023f(0x401)]),_0x489e78=await getDoc(_0x537f3d);_0x489e78[_0x4a023f(0xce9)]()?(currentProjectData=_0x489e78['data'](),currentProjectId=_0x5c76f0['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x5c76f0[_0x4a023f(0x401)]);document[_0x4a023f(0x657)]('results-quiz-title')[_0x4a023f(0x54c)]=_0x5c76f0[_0x4a023f(0xb1c)],document[_0x4a023f(0x657)](_0x4a023f(0x40d))[_0x4a023f(0x54c)]=_0x33baa5;const _0x275f28=collection(db,_0x4a023f(0x4b1)+appId+_0x4a023f(0x8cb),_0x33baa5,_0x4a023f(0x71b));unsubscribeSubmissionsListener=onSnapshot(_0x275f28,_0x1c730d=>{const _0x2ef1c9=_0x4a023f,_0x56f1a5=_0x1c730d[_0x2ef1c9(0xb70)][_0x2ef1c9(0x823)](_0x248406=>({'id':_0x248406['id'],..._0x248406['data']()}));currentSubmissions=_0x56f1a5;const _0x4627e4=_0x56f1a5['filter'](_0x1817ef=>_0x1817ef[_0x2ef1c9(0x469)]&&_0x1817ef['attempts'][_0x2ef1c9(0x8ca)]>0x0);renderBehaviorLog(_0x56f1a5),renderAnswerGrid(currentProjectData[_0x2ef1c9(0xc2e)],_0x4627e4,_0x5c76f0),renderAnalytics(_0x5c76f0,_0x4627e4),renderQuizResultsTable(currentProjectData[_0x2ef1c9(0xc2e)],_0x56f1a5,_0x5c76f0),renderQuizLeaderboard(_0x4627e4,_0x5c76f0,_0x2ef1c9(0x554));}),showView(_0x4a023f(0x6f4));}catch(_0x5b93a3){console[_0x4a023f(0xcb6)](_0x4a023f(0x4d6),_0x5b93a3),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x206975,_0x2f230d,_0x108538){const _0x560c77=_0x4a01bc,_0x47df2d=document[_0x560c77(0x657)](_0x560c77(0x48a));if(!_0x47df2d)return;if(!_0x206975||_0x206975[_0x560c77(0x8ca)]===0x0){_0x47df2d[_0x560c77(0x891)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x5a4096=_0x108538['questions'],_0x4cf58d=_0x2f230d['reduce']((_0x5054c8,_0x580c77)=>{return _0x5054c8[_0x580c77['studentName']]=_0x580c77,_0x5054c8;},{}),_0x59c50f=_0xc25c5a=>String['fromCharCode'](0x41+_0xc25c5a),_0x2bec99=_0x376027=>{const _0x390d7c=_0x560c77,_0x4c17ce=_0x376027['questionType']||_0x108538[_0x390d7c(0x335)];switch(_0x4c17ce){case'multiple_choice':return _0x376027[_0x390d7c(0x5e9)]&&_0x376027[_0x390d7c(0x5e9)][_0x390d7c(0x8ca)]>_0x376027[_0x390d7c(0xf16)]?_0x59c50f(_0x376027[_0x390d7c(0xf16)]):'-';case _0x390d7c(0x446):const _0x44ba2f=_0x376027[_0x390d7c(0x315)]===!![]||String(_0x376027['correctAnswer'])[_0x390d7c(0x2c0)]()===_0x390d7c(0x804);return _0x44ba2f?_0x390d7c(0xa74):'ไม่ใช่';case _0x390d7c(0xd13):return _0x376027[_0x390d7c(0xdf0)]||'-';case'short_answer':return _0x390d7c(0xdbb);default:return'-';}},_0x3e37c2=(_0x472fc4,_0x201904)=>{const _0x3cefa4=_0x560c77;if(_0x201904[_0x3cefa4(0x457)]===null||_0x201904['answer']===undefined)return'-';const _0x538f9a=_0x472fc4[_0x3cefa4(0x7ed)]||_0x108538['quizType'];switch(_0x538f9a){case _0x3cefa4(0xa7c):const _0x12a6e9=_0x472fc4[_0x3cefa4(0x5e9)][_0x3cefa4(0x65b)](_0x50393e=>_0x50393e===_0x201904[_0x3cefa4(0x79f)]);return _0x12a6e9!==-0x1?_0x59c50f(_0x12a6e9):_0x201904[_0x3cefa4(0x79f)]||'-';case _0x3cefa4(0x446):if(_0x201904['answer']=='0'||_0x201904[_0x3cefa4(0x457)]===!![]||_0x201904[_0x3cefa4(0x457)]===_0x3cefa4(0x804))return _0x3cefa4(0xa74);return _0x3cefa4(0x3ed);default:return _0x201904[_0x3cefa4(0x457)];}};let _0x2bad87=_0x560c77(0x61b)+_0x5a4096['map']((_0x3879a5,_0x2cf553)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x2cf553+0x1)+_0x560c77(0xcb8))[_0x560c77(0x566)]('')+_0x560c77(0xeb3)+_0x5a4096['map'](_0xa9c020=>_0x560c77(0x6cf)+_0x2bec99(_0xa9c020)+_0x560c77(0x883))[_0x560c77(0x566)]('')+_0x560c77(0xba4);_0x206975[_0x560c77(0x427)](_0x303cd8=>{const _0x43aabc=_0x560c77;_0x2bad87+='<tr>',_0x2bad87+=_0x43aabc(0x577)+_0x303cd8+'</td>';const _0x25d081=_0x4cf58d[_0x303cd8];if(_0x25d081){const _0x1fdb01=_0x25d081[_0x43aabc(0x469)][_0x25d081[_0x43aabc(0x469)]['length']-0x1];_0x5a4096[_0x43aabc(0x427)]((_0x58cc93,_0x45d32d)=>{const _0x4d6bfb=_0x43aabc,_0x39659c=_0x1fdb01[_0x4d6bfb(0xbd1)][_0x4d6bfb(0x1d5)](_0x1ac666=>_0x1ac666[_0x4d6bfb(0xa14)]===_0x58cc93['id']);if(_0x39659c){let _0x2c5ef2='';const _0x47fbf9=_0x39659c[_0x4d6bfb(0x41b)]===!![],_0x15c0a8=_0x39659c[_0x4d6bfb(0x2b8)]===!![]||_0x39659c[_0x4d6bfb(0x2b8)]===_0x4d6bfb(0xe13),_0x56f30d=_0x39659c['powerupUsed'];if(_0x56f30d===_0x4d6bfb(0xbdf))_0x47fbf9?_0x2c5ef2=_0x4d6bfb(0xdb9):_0x2c5ef2=_0x4d6bfb(0x1a1);else _0x15c0a8?_0x2c5ef2=_0x47fbf9?_0x4d6bfb(0xa3f):_0x4d6bfb(0xa9f):_0x2c5ef2=_0x47fbf9?_0x4d6bfb(0xbf4):_0x4d6bfb(0x4e8);_0x2bad87+=_0x4d6bfb(0xd53)+_0x2c5ef2+'\x22>'+_0x3e37c2(_0x58cc93,_0x39659c)+_0x4d6bfb(0x883);}else _0x2bad87+=_0x4d6bfb(0x3af);});}else _0x2bad87+=_0x5a4096['map'](()=>_0x43aabc(0xaab))[_0x43aabc(0x566)]('');_0x2bad87+=_0x43aabc(0xf10);}),_0x2bad87+=_0x560c77(0xbcf),_0x47df2d[_0x560c77(0x891)]=_0x2bad87;}function renderQuizResultsTable(_0x4c3904,_0x2b1681,_0x402ee0){const _0x460e4d=_0x4a01bc,_0xaea152=_0x2b1681[_0x460e4d(0xc91)]((_0x249c6e,_0x1e90c1)=>{const _0x55daa2=_0x460e4d;return _0x249c6e[_0x1e90c1[_0x55daa2(0xbf5)]]=_0x1e90c1,_0x249c6e;},{}),_0x4a2d88=document[_0x460e4d(0x5cd)](_0x460e4d(0x6d3));if(_0x4a2d88&&!document[_0x460e4d(0x657)](_0x460e4d(0x70a))){const _0x4870ad=document[_0x460e4d(0xbfd)]('button');_0x4870ad['id']='bulk-delete-submissions-btn',_0x4870ad[_0x460e4d(0x293)]=_0x460e4d(0x8dc),_0x4870ad['innerHTML']='<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบรายการที่เลือก\x20(<span\x20id=\x22selected-count\x22>0</span>)',_0x4a2d88['appendChild'](_0x4870ad),_0x4870ad[_0x460e4d(0xdc6)](_0x460e4d(0x4ca),handleBulkDeleteSubmissions);}const _0x2d827e=document[_0x460e4d(0x5cd)](_0x460e4d(0x1ba));_0x2d827e&&(_0x2d827e['innerHTML']=_0x460e4d(0x7d0));const _0x19c84c=document[_0x460e4d(0x657)](_0x460e4d(0xab1));if(!_0x4c3904||_0x4c3904[_0x460e4d(0x8ca)]===0x0){_0x19c84c[_0x460e4d(0x891)]='<tr><td\x20colspan=\x2211\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x362195=_0x402ee0[_0x460e4d(0x6ac)]===!![],_0x13811e=_0x402ee0[_0x460e4d(0xf0c)]?.['passingScore']??-0x1;let _0x45e8ae='';_0x4c3904[_0x460e4d(0x427)](_0x44b488=>{const _0xa8a128=_0x460e4d,_0x19cbf3=_0xaea152[_0x44b488];let _0x3f5a3b=_0xa8a128(0x268)+(_0x362195?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x362195?_0xa8a128(0x77f):_0xa8a128(0x6d0))+_0xa8a128(0x525),_0x3a76f1='';_0x19cbf3?_0x3a76f1=_0xa8a128(0xb0a)+_0x44b488+'\x22>':_0x3a76f1=_0xa8a128(0x7a4);if(_0x19cbf3){if(_0x19cbf3[_0xa8a128(0x469)]&&_0x19cbf3[_0xa8a128(0x469)][_0xa8a128(0x8ca)]>0x0){let _0x502308=_0x362195?_0x19cbf3['bestScore']===_0x19cbf3[_0xa8a128(0xb37)]:_0x13811e!==-0x1&&_0x19cbf3['bestScore']>=_0x13811e;const _0x4e1014=_0x502308?_0xa8a128(0xbf4):'bg-red-100\x20text-red-800',_0xc85793=_0x502308?_0xa8a128(0xdd4):_0xa8a128(0xdba),_0x380629='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x4e1014+'\x22>'+_0xc85793+_0xa8a128(0x525),_0x1e4290=_0xa8a128(0xadc)+(_0x19cbf3[_0xa8a128(0x469)]?.[_0xa8a128(0x8ca)]||0x1)+_0xa8a128(0xf3c),_0x10fe7d=_0xa8a128(0x1b5)+(_0x19cbf3[_0xa8a128(0x92f)]||0x0)['toLocaleString']()+_0xa8a128(0x170)+_0x44b488+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22'+(_0x19cbf3[_0xa8a128(0x92f)]||0x0)+_0xa8a128(0x9eb);_0x45e8ae+=_0xa8a128(0x836)+_0x3a76f1+_0xa8a128(0x54e)+_0x44b488+_0xa8a128(0xd32)+_0x19cbf3[_0xa8a128(0x46e)]+'\x20/\x20'+_0x19cbf3[_0xa8a128(0xb37)]+_0xa8a128(0xc79)+_0x380629+_0xa8a128(0x1a4)+_0x3f5a3b+_0xa8a128(0xad3)+_0x19cbf3[_0xa8a128(0xd90)]+_0xa8a128(0xa47)+_0x19cbf3[_0xa8a128(0xb37)]+_0xa8a128(0xe68)+_0x19cbf3[_0xa8a128(0xdfa)]+_0xa8a128(0xa47)+_0x19cbf3[_0xa8a128(0xb37)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x10fe7d+_0xa8a128(0xc79)+_0x1e4290+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x19cbf3[_0xa8a128(0xbd3)])[_0xa8a128(0x6bb)](_0xa8a128(0xf09))+_0xa8a128(0x1a5)+_0x44b488+_0xa8a128(0xba8);}else{const _0x4190f7=_0xa8a128(0x69e);_0x45e8ae+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+_0x3a76f1+_0xa8a128(0x54e)+_0x44b488+_0xa8a128(0x646)+_0x3f5a3b+_0xa8a128(0xd10)+_0x4190f7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x19cbf3[_0xa8a128(0xf33)])[_0xa8a128(0x6bb)](_0xa8a128(0xf09))+_0xa8a128(0x895)+_0x44b488+_0xa8a128(0xba8);}}else{const _0xc5e212=_0xa8a128(0xd6e);_0x45e8ae+=_0xa8a128(0xee7)+_0x3a76f1+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x44b488+_0xa8a128(0x360)+_0x3f5a3b+_0xa8a128(0x5be)+_0xc5e212+_0xa8a128(0x37e);}}),_0x19c84c['innerHTML']=_0x45e8ae;const _0x3523b1=document[_0x460e4d(0x657)](_0x460e4d(0xab4)),_0x3440be=document[_0x460e4d(0x180)](_0x460e4d(0x1a6)),_0x3375ac=document[_0x460e4d(0x657)]('bulk-delete-submissions-btn'),_0x48dccf=document['getElementById'](_0x460e4d(0x347)),_0x2fada4=()=>{const _0xd4b0aa=_0x460e4d,_0x2eadb5=document[_0xd4b0aa(0x180)](_0xd4b0aa(0x838))[_0xd4b0aa(0x8ca)];if(_0x48dccf)_0x48dccf[_0xd4b0aa(0x54c)]=_0x2eadb5;_0x2eadb5>0x0?_0x3375ac[_0xd4b0aa(0xb6d)]['remove'](_0xd4b0aa(0x599)):_0x3375ac['classList']['add'](_0xd4b0aa(0x599));};_0x3523b1&&_0x3523b1[_0x460e4d(0xdc6)](_0x460e4d(0x79d),_0x8b3622=>{const _0x192933=_0x460e4d;_0x3440be[_0x192933(0x427)](_0x35de77=>_0x35de77['checked']=_0x8b3622[_0x192933(0x6f7)]['checked']),_0x2fada4();}),_0x3440be[_0x460e4d(0x427)](_0x40cc7f=>{const _0x2abc15=_0x460e4d;_0x40cc7f[_0x2abc15(0xdc6)]('change',()=>{const _0x3b52a8=_0x2abc15;if(!_0x40cc7f['checked']&&_0x3523b1)_0x3523b1['checked']=![];if(_0x40cc7f['checked']&&_0x3523b1){const _0x2958ec=document[_0x3b52a8(0x180)]('.submission-checkbox:checked')[_0x3b52a8(0x8ca)]===_0x3440be[_0x3b52a8(0x8ca)];if(_0x2958ec)_0x3523b1[_0x3b52a8(0x536)]=!![];}_0x2fada4();});});}async function handleBulkDeleteSubmissions(){const _0x22e466=_0x4a01bc,_0x5be21e=document[_0x22e466(0x180)](_0x22e466(0x838)),_0x18013e=Array[_0x22e466(0x5ac)](_0x5be21e)[_0x22e466(0x823)](_0x4d0e27=>_0x4d0e27[_0x22e466(0x68e)]);if(_0x18013e[_0x22e466(0x8ca)]===0x0)return;if(!currentQuizData||!currentQuizData['id']){showMessage('ข้อมูลแบบทดสอบไม่ถูกต้อง');return;}showConfirmation(_0x22e466(0x183)+_0x18013e[_0x22e466(0x8ca)]+_0x22e466(0x590),async()=>{const _0x2db2a3=_0x22e466,_0x363824=currentQuizData['id'],_0x20b506=writeBatch(db);_0x18013e[_0x2db2a3(0x427)](_0x4f7777=>{const _0x255909=_0x2db2a3,_0x21f98=doc(db,_0x255909(0x4b1)+appId+_0x255909(0xb20)+_0x363824+'/submissions',_0x4f7777);_0x20b506[_0x255909(0x95e)](_0x21f98);});try{await _0x20b506['commit'](),showMessage(_0x2db2a3(0xcf6)+_0x18013e[_0x2db2a3(0x8ca)]+_0x2db2a3(0x8f7)),document[_0x2db2a3(0x657)](_0x2db2a3(0x70a))[_0x2db2a3(0xb6d)]['add'](_0x2db2a3(0x599));const _0x505cb8=document['getElementById']('select-all-submissions');if(_0x505cb8)_0x505cb8[_0x2db2a3(0x536)]=![];}catch(_0x2db92f){console['error'](_0x2db2a3(0x6db),_0x2db92f),showMessage(_0x2db2a3(0xc13));}});}async function confirmRenameQuiz(){const _0xd1105=_0x4a01bc,_0x883bdc=document[_0xd1105(0x657)](_0xd1105(0x491))['value']['trim']();if(!_0x883bdc){showMessage(_0xd1105(0xece));return;}if(!actionTargetId)return;const _0xe23f63=doc(db,'artifacts/'+appId+_0xd1105(0x8cb),actionTargetId);try{await updateDoc(_0xe23f63,{'topic':_0x883bdc}),showMessage(_0xd1105(0x336)),renameQuizModal[_0xd1105(0xb6d)]['add'](_0xd1105(0x599)),actionTargetId=null;}catch(_0x10fea5){console[_0xd1105(0xcb6)](_0xd1105(0x5a6),_0x10fea5),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x5caf32){const _0x2481b3=_0x4a01bc;actionTargetId=_0x5caf32;const _0x9d495e=document[_0x2481b3(0x657)](_0x2481b3(0x72e));_0x9d495e[_0x2481b3(0x891)]=_0x2481b3(0xe7b),moveQuizModal[_0x2481b3(0xb6d)][_0x2481b3(0x66f)]('hidden');try{const _0x94ee5=collection(db,_0x2481b3(0x4b1)+appId+_0x2481b3(0x780)),_0x31f61a=await getDocs(_0x94ee5),_0x48c9bd=_0x31f61a[_0x2481b3(0xb70)][_0x2481b3(0x823)](_0x290119=>({'id':_0x290119['id'],..._0x290119['data']()})),_0x59aa53=_0x48c9bd[_0x2481b3(0xc4c)](_0x1ff802=>_0x1ff802['id']!==currentProjectId);if(_0x59aa53[_0x2481b3(0x8ca)]===0x0){_0x9d495e['innerHTML']=_0x2481b3(0xc56),document[_0x2481b3(0x657)](_0x2481b3(0x257))[_0x2481b3(0x4b4)]=!![];return;}_0x9d495e[_0x2481b3(0x891)]=_0x59aa53[_0x2481b3(0x823)](_0x52eebd=>'<option\x20value=\x22'+_0x52eebd['id']+'\x22>'+_0x52eebd[_0x2481b3(0x37f)]+_0x2481b3(0xdb1))['join'](''),document['getElementById'](_0x2481b3(0x257))[_0x2481b3(0x4b4)]=![];}catch(_0x2f29f3){console[_0x2481b3(0xcb6)](_0x2481b3(0x736),_0x2f29f3),showMessage(_0x2481b3(0x779)),moveQuizModal[_0x2481b3(0xb6d)][_0x2481b3(0xa52)](_0x2481b3(0x599));}}async function confirmMoveQuiz(){const _0x72636=_0x4a01bc,_0x5ac444=document[_0x72636(0x657)](_0x72636(0x72e))['value'];if(!_0x5ac444){showMessage(_0x72636(0x18f));return;}if(!actionTargetId)return;const _0x7eb7d2=doc(db,_0x72636(0x4b1)+appId+_0x72636(0x8cb),actionTargetId);try{await updateDoc(_0x7eb7d2,{'projectId':_0x5ac444}),showMessage(_0x72636(0x910)),moveQuizModal[_0x72636(0xb6d)][_0x72636(0xa52)]('hidden'),actionTargetId=null;}catch(_0x599c47){console['error'](_0x72636(0x30f),_0x599c47),showMessage(_0x72636(0x448));}}async function handleQuizSettings(_0x4c71f9){const _0x4c0deb=_0x4a01bc;actionTargetId=_0x4c71f9;const _0x1cab14=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4c71f9);try{const _0x3cd96b=await getDoc(_0x1cab14);if(_0x3cd96b[_0x4c0deb(0xce9)]()){const _0x57872e=_0x3cd96b['data'](),_0x1cd48f=_0x57872e[_0x4c0deb(0xf0c)]||{},_0x598d1c=_0x57872e[_0x4c0deb(0x3ef)]['length'];document[_0x4c0deb(0x657)]('modal-shuffle-select')['value']=_0x1cd48f[_0x4c0deb(0xbf3)]||_0x4c0deb(0x813),document[_0x4c0deb(0x657)](_0x4c0deb(0xe47))[_0x4c0deb(0x68e)]=_0x1cd48f['resultsDisplay']||_0x4c0deb(0xad6),document['getElementById'](_0x4c0deb(0x6cb))[_0x4c0deb(0x68e)]=_0x1cd48f[_0x4c0deb(0xc54)]||'none',document[_0x4c0deb(0x657)]('modal-timer-duration-input')[_0x4c0deb(0x68e)]=_0x1cd48f[_0x4c0deb(0x5c4)]||0xa,document[_0x4c0deb(0x657)]('modal-passing-score-input')[_0x4c0deb(0x68e)]=_0x1cd48f[_0x4c0deb(0x606)]||Math['floor'](_0x598d1c/0x2),document[_0x4c0deb(0x657)]('modal-passing-score-input')[_0x4c0deb(0xf23)]=_0x598d1c,document['getElementById'](_0x4c0deb(0xa93))['checked']=_0x1cd48f[_0x4c0deb(0xd7e)]||![],document['getElementById']('modal-loop-until-pass-checkbox')[_0x4c0deb(0x536)]=_0x1cd48f[_0x4c0deb(0x792)]||![];const _0x1b601d=_0x1cd48f[_0x4c0deb(0x974)]||![];document[_0x4c0deb(0x657)]('modal-confidence-scoring-checkbox')[_0x4c0deb(0x536)]=_0x1b601d,document[_0x4c0deb(0x657)](_0x4c0deb(0x209))[_0x4c0deb(0x68e)]=_0x1cd48f['confidenceMode']||_0x4c0deb(0x365);const _0x2f6288=document['getElementById'](_0x4c0deb(0xc7f));_0x2f6288[_0x4c0deb(0xb6d)]['toggle']('hidden',!_0x1b601d),document['getElementById']('modal-timer-mode-select')['dispatchEvent'](new Event('change')),quizSettingsModal[_0x4c0deb(0xb6d)][_0x4c0deb(0x66f)](_0x4c0deb(0x599));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0xa8ff6b){console[_0x4c0deb(0xcb6)](_0x4c0deb(0xd33),_0xa8ff6b),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x1f61f9=_0x4a01bc;if(!actionTargetId)return;const _0x1bcaa6=doc(db,_0x1f61f9(0x4b1)+appId+'/public/data/quizzes',actionTargetId),_0x1ad692={'shuffle':document[_0x1f61f9(0x657)](_0x1f61f9(0x201))['value'],'resultsDisplay':document[_0x1f61f9(0x657)](_0x1f61f9(0xe47))[_0x1f61f9(0x68e)],'timerMode':document[_0x1f61f9(0x657)](_0x1f61f9(0x6cb))[_0x1f61f9(0x68e)],'timerDuration':parseInt(document[_0x1f61f9(0x657)](_0x1f61f9(0x618))[_0x1f61f9(0x68e)])||0xa,'passingScore':parseInt(document[_0x1f61f9(0x657)](_0x1f61f9(0x2b9))[_0x1f61f9(0x68e)])||0x0,'isAdaptive':document[_0x1f61f9(0x657)](_0x1f61f9(0xa93))['checked'],'loopUntilPass':document[_0x1f61f9(0x657)](_0x1f61f9(0xe3a))[_0x1f61f9(0x536)],'isConfidenceScoringEnabled':document[_0x1f61f9(0x657)](_0x1f61f9(0x19e))['checked'],'confidenceMode':document[_0x1f61f9(0x657)](_0x1f61f9(0x209))[_0x1f61f9(0x68e)]};try{await updateDoc(_0x1bcaa6,{'settings':_0x1ad692}),showMessage(_0x1f61f9(0x9fa)),quizSettingsModal[_0x1f61f9(0xb6d)][_0x1f61f9(0xa52)](_0x1f61f9(0x599)),actionTargetId=null;}catch(_0x102e86){console[_0x1f61f9(0xcb6)](_0x1f61f9(0x8e8),_0x102e86),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x388927=_0x4a01bc;if(!actionTargetId)return;const _0x7562c6=doc(db,'artifacts/'+appId+_0x388927(0x8cb),actionTargetId),_0x55ac1b=document['querySelector'](_0x388927(0x62d));if(!_0x55ac1b){showMessage(_0x388927(0x812));return;}const _0x7faaa1=_0x55ac1b['value'];let _0x470a10={};if(_0x7faaa1===_0x388927(0x670)||_0x7faaa1===_0x388927(0x285))_0x470a10={'status':_0x7faaa1,'startTime':null,'endTime':null};else{if(_0x7faaa1===_0x388927(0x521)){const _0x5471ee=document[_0x388927(0x657)](_0x388927(0x76c))[_0x388927(0x68e)],_0x10a53e=document[_0x388927(0x657)](_0x388927(0x9f5))[_0x388927(0x68e)];if(!_0x5471ee&&!_0x10a53e){showMessage(_0x388927(0x860));return;}_0x470a10={'status':'scheduled','startTime':_0x5471ee?new Date(_0x5471ee)[_0x388927(0xeca)]():null,'endTime':_0x10a53e?new Date(_0x10a53e)[_0x388927(0xeca)]():null};}}try{await updateDoc(_0x7562c6,_0x470a10),showMessage(_0x388927(0x999)),quizStatusModal[_0x388927(0xb6d)][_0x388927(0xa52)](_0x388927(0x599)),actionTargetId=null;}catch(_0x385f49){console[_0x388927(0xcb6)](_0x388927(0xe48),_0x385f49),showMessage(_0x388927(0x72d));}}function listenForStudentProfiles(_0xfd939){const _0x17f6b8=_0x4a01bc,_0x399337=collection(db,'artifacts/'+appId+_0x17f6b8(0x53e)+_0xfd939+_0x17f6b8(0x9f2));unsubscribeStudentProfilesListener=onSnapshot(_0x399337,_0x55d2e4=>{const _0x4a5442=_0x17f6b8,_0x2fb6d6=_0x55d2e4['docs'][_0x4a5442(0x823)](_0x223915=>_0x223915[_0x4a5442(0xd0c)]());renderLeaderboard(_0x2fb6d6,_0x4a5442(0xbd0));},_0x104eb4=>{const _0x4e9cd5=_0x17f6b8;console[_0x4e9cd5(0xcb6)](_0x4e9cd5(0xab3),_0x104eb4),document[_0x4e9cd5(0x657)](_0x4e9cd5(0xbd0))[_0x4e9cd5(0x891)]=_0x4e9cd5(0xd64);});}function renderLeaderboard(_0x346d4f,_0x39a690){const _0x5b3bed=_0x4a01bc,_0x590501=document[_0x5b3bed(0x657)](_0x39a690);if(!_0x346d4f||_0x346d4f[_0x5b3bed(0x8ca)]===0x0){_0x590501['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x346d4f[_0x5b3bed(0xc1a)]((_0x7168c2,_0x4e98ef)=>{const _0x4b072c=_0x5b3bed,_0x254569=(_0x4e98ef[_0x4b072c(0x2e5)]||0x0)-(_0x7168c2[_0x4b072c(0x2e5)]||0x0);if(_0x254569!==0x0)return _0x254569;const _0x4a6175=(_0x4e98ef['badgesCount']?.[_0x4b072c(0x246)]||0x0)-(_0x7168c2[_0x4b072c(0x529)]?.[_0x4b072c(0x246)]||0x0);if(_0x4a6175!==0x0)return _0x4a6175;const _0x5764a6=(_0x4e98ef[_0x4b072c(0x529)]?.['first_try_ace']||0x0)-(_0x7168c2[_0x4b072c(0x529)]?.[_0x4b072c(0x777)]||0x0);if(_0x5764a6!==0x0)return _0x5764a6;const _0x4c6164=(_0x4e98ef[_0x4b072c(0x529)]?.[_0x4b072c(0xa9d)]||0x0)-(_0x7168c2[_0x4b072c(0x529)]?.[_0x4b072c(0xa9d)]||0x0);if(_0x4c6164!==0x0)return _0x4c6164;const _0x48367d=(_0x4e98ef[_0x4b072c(0x529)]?.[_0x4b072c(0x5d4)]||0x0)-(_0x7168c2[_0x4b072c(0x529)]?.[_0x4b072c(0x5d4)]||0x0);if(_0x48367d!==0x0)return _0x48367d;return _0x7168c2[_0x4b072c(0xbf5)][_0x4b072c(0x8c8)](_0x4e98ef['studentName'],'th');});let _0x4f4160='';_0x346d4f[_0x5b3bed(0x427)]((_0x1c048d,_0x4b8539)=>{const _0x2c79e7=_0x5b3bed,_0x562300=_0x4b8539+0x1,_0x1789e9=_0x1c048d[_0x2c79e7(0x529)]||{};let _0x12e0ed='';const _0x254110=[_0x2c79e7(0x246),'perfect_score','first_try_ace',_0x2c79e7(0x5d4)];_0x254110[_0x2c79e7(0x427)](_0x4cfa4d=>{const _0x4de34a=_0x2c79e7;if(_0x1789e9[_0x4cfa4d]>0x0){const _0x188b09=Object[_0x4de34a(0x7ef)](BADGES)[_0x4de34a(0x1d5)](_0x38de18=>_0x38de18['id']===_0x4cfa4d);_0x188b09&&(_0x4cfa4d==='specialist'?_0x12e0ed+=_0x4de34a(0x2e0)+_0x188b09[_0x4de34a(0x9ce)]+_0x4de34a(0x9c3)+_0x188b09[_0x4de34a(0x70d)]+_0x4de34a(0x7b1):_0x12e0ed+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x188b09[_0x4de34a(0x9ce)]+'\x20('+_0x1789e9[_0x4cfa4d]+_0x4de34a(0x889)+_0x188b09['icon']+_0x4de34a(0xba6)+_0x1789e9[_0x4cfa4d]+_0x4de34a(0x9c5));}}),_0x4f4160+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x562300+_0x2c79e7(0x54e)+_0x1c048d[_0x2c79e7(0xbf5)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x1c048d[_0x2c79e7(0x2e5)]||0x0)[_0x2c79e7(0x6bb)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x12e0ed||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x590501[_0x5b3bed(0x891)]=_0x4f4160;}function displayLoopScreen(_0x40d145,_0x5f119e,_0x5c78df){const _0x526f13=_0x4a01bc;let _0xfc913e='';_0x5c78df!==_0x526f13(0x5c9)&&(_0xfc913e=_0x526f13(0x6ce)+_0x40d145+_0x526f13(0xa47)+_0x5f119e+_0x526f13(0xb07));const _0x3f12cf=_0x526f13(0xa54)+_0xfc913e+_0x526f13(0x549);studentResultArea[_0x526f13(0x891)]=_0x3f12cf,studentResultArea[_0x526f13(0xb6d)][_0x526f13(0x66f)](_0x526f13(0x599)),studentQuizArea['classList']['add'](_0x526f13(0x599)),document[_0x526f13(0x657)]('retake-quiz-loop-btn')[_0x526f13(0xdc6)](_0x526f13(0x4ca),()=>{const _0x31301b=_0x526f13;studentResultArea[_0x31301b(0xb6d)][_0x31301b(0xa52)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3f7973,_0x199d78,_0x58b5d9){const _0x15de22=_0x4a01bc,_0x25b3b2=document['getElementById'](_0x58b5d9),_0x4bf0d5=_0x58b5d9==='student-quiz-leaderboard-table-body',_0x6400c5=_0x199d78['questions'][_0x15de22(0x8ca)],_0x24211c=document[_0x15de22(0x657)](_0x58b5d9)[_0x15de22(0xa5a)]('table');if(_0x24211c&&!_0x4bf0d5){const _0x122be9=_0x24211c[_0x15de22(0x5cd)](_0x15de22(0x8d9));_0x122be9[_0x15de22(0x891)]=_0x15de22(0x8af);}if(!_0x3f7973||_0x3f7973[_0x15de22(0x8ca)]===0x0){_0x25b3b2[_0x15de22(0x891)]='<tr><td\x20colspan=\x22'+(_0x4bf0d5?0x6:0x8)+_0x15de22(0xb90);return;}const _0x3384bf=[..._0x3f7973];_0x3384bf['sort']((_0x1e078c,_0x321a1c)=>{const _0xc20c64=_0x15de22;let _0x32e065,_0x740ca8;switch(quizLeaderboardSortBy){case _0xc20c64(0xbf5):_0x32e065=_0x1e078c[_0xc20c64(0xbf5)]||'',_0x740ca8=_0x321a1c[_0xc20c64(0xbf5)]||'';return quizLeaderboardSortOrder===_0xc20c64(0x79b)?_0x32e065[_0xc20c64(0x8c8)](_0x740ca8,'th'):_0x740ca8[_0xc20c64(0x8c8)](_0x32e065,'th');case'points':_0x32e065=_0x1e078c['points']||0x0,_0x740ca8=_0x321a1c[_0xc20c64(0x92f)]||0x0;break;case _0xc20c64(0x469):_0x32e065=_0x1e078c['attempts']?.[_0xc20c64(0x8ca)]||0x1,_0x740ca8=_0x321a1c[_0xc20c64(0x469)]?.['length']||0x1;break;case'latestSubmittedAt':_0x32e065=new Date(_0x1e078c['latestSubmittedAt']),_0x740ca8=new Date(_0x321a1c[_0xc20c64(0xbd3)]);break;case _0xc20c64(0x46e):default:_0x32e065=_0x1e078c[_0xc20c64(0x46e)],_0x740ca8=_0x321a1c[_0xc20c64(0x46e)];break;}if(_0x32e065<_0x740ca8)return quizLeaderboardSortOrder===_0xc20c64(0x79b)?-0x1:0x1;if(_0x32e065>_0x740ca8)return quizLeaderboardSortOrder===_0xc20c64(0x79b)?0x1:-0x1;return 0x0;});const _0x5ac14e=_0x199d78['isRemedial']===!![],_0x2a7bac=_0x199d78[_0x15de22(0xf0c)]?.[_0x15de22(0x606)]??-0x1;let _0xb7a15b='';_0x3384bf[_0x15de22(0x427)]((_0x579cf7,_0x28fa75)=>{const _0x53f440=_0x15de22,_0xe9569d=_0x28fa75+0x1;let _0x394762=_0x53f440(0xb16);if(_0x5ac14e||_0x2a7bac!==-0x1){let _0x1b777b=_0x5ac14e?_0x579cf7[_0x53f440(0x46e)]===_0x6400c5:_0x579cf7[_0x53f440(0x46e)]>=_0x2a7bac;const _0x5d9b4b=_0x1b777b?_0x53f440(0xbf4):_0x53f440(0x4e8),_0x22be7f=_0x1b777b?_0x53f440(0xdd4):'ไม่ผ่าน';_0x394762=_0x53f440(0x927)+_0x5d9b4b+'\x22>'+_0x22be7f+_0x53f440(0x525);}const _0x395c17=_0x579cf7[_0x53f440(0x469)][_0x579cf7[_0x53f440(0x469)]['length']-0x1],_0x5b1a76=(_0x395c17[_0x53f440(0x485)]||[])[_0x53f440(0x823)](_0x32aa65=>{const _0x3af93d=_0x53f440,_0x300194=Object[_0x3af93d(0x7ef)](BADGES)[_0x3af93d(0x1d5)](_0xa55d1f=>_0xa55d1f['id']===_0x32aa65);return _0x300194?_0x3af93d(0xf30)+_0x300194['name']+_0x3af93d(0xe6f)+_0x300194['icon']+_0x3af93d(0xd21):'';})[_0x53f440(0x566)]('');_0xb7a15b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0xe9569d+_0x53f440(0xe45)+_0x579cf7['studentName']+_0x53f440(0x906)+_0x579cf7[_0x53f440(0x46e)]+'\x20/\x20'+_0x6400c5+_0x53f440(0x5cb)+_0x394762+_0x53f440(0x5b6)+(_0x579cf7[_0x53f440(0x92f)]||0x0)[_0x53f440(0x6bb)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4bf0d5?'':_0x53f440(0x186)+(_0x579cf7[_0x53f440(0x469)]?.[_0x53f440(0x8ca)]||0x1)+_0x53f440(0x883))+_0x53f440(0x7f1)+(_0x4bf0d5?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x579cf7['latestSubmittedAt'])['toLocaleString'](_0x53f440(0xf09))+_0x53f440(0x883))+_0x53f440(0x6da)+(_0x5b1a76||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x25b3b2[_0x15de22(0x891)]=_0xb7a15b,_0x24211c&&!_0x4bf0d5&&_0x24211c[_0x15de22(0x180)](_0x15de22(0xc6f))[_0x15de22(0x427)](_0x40e6b3=>{const _0x3165a3=_0x15de22,_0x52503e=_0x40e6b3[_0x3165a3(0x5cd)]('.sort-indicator');if(_0x52503e)_0x52503e[_0x3165a3(0x66f)]();_0x40e6b3[_0x3165a3(0x320)][_0x3165a3(0xc1a)]===quizLeaderboardSortBy&&(_0x40e6b3['innerHTML']+=_0x3165a3(0xa96)+(quizLeaderboardSortOrder===_0x3165a3(0x79b)?'▲':'▼')+_0x3165a3(0x5b0));});}async function handleDeleteSubmission(_0x170941){const _0x596b02=_0x4a01bc;if(!currentQuizData||!currentQuizData['id']||!_0x170941){showMessage(_0x596b02(0x3cc));return;}showConfirmation(_0x596b02(0x55e)+_0x170941+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x8022d2=_0x596b02,_0x568a9e=currentQuizData['id'],_0x59a2bf=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x568a9e+_0x8022d2(0x411),_0x170941);try{await deleteDoc(_0x59a2bf),showMessage(_0x8022d2(0xdfe)+_0x170941+_0x8022d2(0x61c));}catch(_0x5586eb){console[_0x8022d2(0xcb6)](_0x8022d2(0xbd5),_0x5586eb),showMessage(_0x8022d2(0xb1f));}});}async function handleLoadQuiz(){const _0x52ec9b=_0x4a01bc,_0x2a6de3=document[_0x52ec9b(0x657)](_0x52ec9b(0x857)),_0x570a3e=_0x2a6de3[_0x52ec9b(0x68e)][_0x52ec9b(0x5b2)]();if(!_0x570a3e){showMessage(_0x52ec9b(0xc61));return;}loadQuizBtn[_0x52ec9b(0x4b4)]=!![],loadQuizBtn[_0x52ec9b(0x891)]=_0x52ec9b(0xed7);try{const _0x1456b0=doc(db,_0x52ec9b(0x4b1)+appId+_0x52ec9b(0x8cb),_0x570a3e),_0x46bfd3=await getDoc(_0x1456b0);if(!_0x46bfd3['exists']()){showMessage(_0x52ec9b(0x991));return;}currentQuizData={'id':_0x46bfd3['id'],..._0x46bfd3[_0x52ec9b(0xd0c)]()};const _0x4b5540=currentQuizData[_0x52ec9b(0x531)]||_0x52ec9b(0x670),_0x1cde54=new Date();if(_0x4b5540===_0x52ec9b(0x285)){showMessage(_0x52ec9b(0xbe8));return;}if(_0x4b5540===_0x52ec9b(0x592)){const _0x44b4ae=currentQuizData[_0x52ec9b(0xb4e)]?new Date(currentQuizData[_0x52ec9b(0xb4e)]):null,_0x24a985=currentQuizData['endTime']?new Date(currentQuizData[_0x52ec9b(0x6c2)]):null;if(_0x44b4ae&&_0x1cde54<_0x44b4ae){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x44b4ae[_0x52ec9b(0x6bb)](_0x52ec9b(0xf09),{'hour12':![]}));return;}if(_0x24a985&&_0x1cde54>_0x24a985){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x3b443a=currentQuizData['projectId'];currentProjectId=_0x3b443a;const _0xd665e6=doc(db,'artifacts/'+appId+_0x52ec9b(0x780),_0x3b443a),_0x20826c=await getDoc(_0xd665e6);if(!_0x20826c[_0x52ec9b(0xce9)]()){showMessage(_0x52ec9b(0x414));return;}const _0x1c6cbe=_0x20826c['data']();currentStudentProjectData=_0x1c6cbe,displayStudentNameSelector(_0x1c6cbe[_0x52ec9b(0xc2e)],currentQuizData[_0x52ec9b(0xb1c)]);}catch(_0xdfd47a){console[_0x52ec9b(0xcb6)](_0x52ec9b(0x270),_0xdfd47a),showMessage(_0x52ec9b(0xdef));}finally{loadQuizBtn[_0x52ec9b(0x4b4)]=![],loadQuizBtn[_0x52ec9b(0x891)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x4091a5,_0x5908e8){const _0x573b20=_0x4a01bc;if(!currentQuizData||!currentQuizData['id'])return;const _0x4021d7=currentQuizData['id'],_0x4f5a6c=doc(db,_0x573b20(0x4b1)+appId+'/public/data/quizzes/'+_0x4021d7+'/submissions',_0x4091a5);try{const _0x3cab6c=await getDoc(_0x4f5a6c);if(!_0x3cab6c['exists']())return;const _0x4ae774=_0x3cab6c[_0x573b20(0xd0c)](),_0x170884=_0x4ae774[_0x573b20(0x469)]||[];_0x170884[_0x573b20(0x8ca)]>0x0&&(_0x170884[_0x170884[_0x573b20(0x8ca)]-0x1][_0x573b20(0x92f)]=_0x5908e8,_0x170884[_0x170884['length']-0x1][_0x573b20(0x59e)]=!![]),await updateDoc(_0x4f5a6c,{'points':_0x5908e8,'attempts':_0x170884}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x4091a5),showMessage(_0x573b20(0x3b0)+_0x4091a5+_0x573b20(0xe9d)+_0x5908e8+_0x573b20(0x7a6));}catch(_0x2390da){console['error']('Error\x20updating\x20points:',_0x2390da),showMessage(_0x573b20(0xc7a));}}async function handleJoinLiveGame(){const _0x2b4793=_0x4a01bc,_0x2d73d2=document[_0x2b4793(0x657)](_0x2b4793(0xc71)),_0x469448=document[_0x2b4793(0x657)]('nickname-input'),_0xbf211b=document[_0x2b4793(0x657)](_0x2b4793(0x52f)),_0x1f0e1e=_0x2d73d2[_0x2b4793(0x68e)]['trim'](),_0x58a94b=_0x469448[_0x2b4793(0x68e)]['trim']();if(!_0x1f0e1e||!_0x58a94b){showMessage(_0x2b4793(0x451));return;}_0xbf211b[_0x2b4793(0x4b4)]=!![],_0xbf211b['innerHTML']=_0x2b4793(0xc3b);try{const _0x48de49=collection(db,_0x2b4793(0x4b1)+appId+_0x2b4793(0xa25)),_0x5ead4f=query(_0x48de49,where('pin','==',_0x1f0e1e),where(_0x2b4793(0x531),'in',['lobby',_0x2b4793(0xe3b),_0x2b4793(0x613),_0x2b4793(0x23b)])),_0x68ab45=await getDocs(_0x5ead4f);if(_0x68ab45[_0x2b4793(0x8fd)]){const _0x312689=collection(db,_0x2b4793(0x4b1)+appId+_0x2b4793(0x722)),_0x45b83d=query(_0x312689,where(_0x2b4793(0x4dd),'==',_0x1f0e1e)),_0x71a8c3=await getDocs(_0x45b83d);if(!_0x71a8c3[_0x2b4793(0x8fd)]){await proceedWithTeamQuizJoin(_0x71a8c3['docs'][0x0]);return;}showMessage('ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว');return;}const _0x5898da=_0x68ab45['docs'][0x0];currentLiveGameId=_0x5898da['id'];const _0x2cc49a=_0x5898da[_0x2b4793(0xd0c)](),_0x2935f3=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2cc49a[_0x2b4793(0x8a3)]),_0x30a21e=await getDoc(_0x2935f3);_0x30a21e[_0x2b4793(0xce9)]()&&(currentQuizData=_0x2cc49a[_0x2b4793(0x7ce)]);const _0x299075=doc(db,_0x2b4793(0x4b1)+appId+_0x2b4793(0x392)+currentLiveGameId+_0x2b4793(0x5b4),_0x58a94b),_0xb81138=await getDoc(_0x299075);if(_0xb81138['exists']())_0xbf211b[_0x2b4793(0x891)]=_0x2b4793(0x894),await updateDoc(_0x299075,{'status':_0x2b4793(0x670)}),showMessage('ยินดีต้อนรับกลับ\x20'+_0x58a94b+_0x2b4793(0x8a8));else{if(_0x2cc49a[_0x2b4793(0x531)]!==_0x2b4793(0x31a)){}_0xbf211b[_0x2b4793(0x891)]=_0x2b4793(0xb1b);const _0x1b7b13={'name':_0x58a94b,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x2b4793(0x670),'answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x299075,_0x1b7b13);}currentStudentName=_0x58a94b,localTeamPlayers=[_0x58a94b],showView(_0x2b4793(0xdc0)),listenForSyncGameUpdates();const _0x2e65ef={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2b4793(0x924)](_0x2b4793(0xe70),JSON[_0x2b4793(0x7ba)](_0x2e65ef));}catch(_0x3191d1){console[_0x2b4793(0xcb6)]('Error\x20joining\x20live\x20game:',_0x3191d1),showMessage(_0x2b4793(0xbae)+_0x3191d1[_0x2b4793(0x9a1)]);}finally{_0xbf211b[_0x2b4793(0x4b4)]=![];if(_0xbf211b[_0x2b4793(0x891)][_0x2b4793(0x484)](_0x2b4793(0x73d)))_0xbf211b['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x10142f,_0x3688b3){const _0x1e2204=_0x4a01bc,_0x327260=document['getElementById'](_0x1e2204(0x195));document[_0x1e2204(0x657)]('student-quiz-topic')['textContent']=_0x1e2204(0x9fd)+_0x3688b3,!_0x10142f||_0x10142f['length']===0x0?(_0x327260['innerHTML']=_0x1e2204(0x591),startQuizBtn['disabled']=!![]):(_0x327260[_0x1e2204(0x891)]=_0x1e2204(0x85c),_0x10142f[_0x1e2204(0x427)](_0x51a183=>{const _0x27e530=_0x1e2204,_0xd14a7a=document[_0x27e530(0xbfd)](_0x27e530(0x9f4));_0xd14a7a[_0x27e530(0x68e)]=_0x51a183,_0xd14a7a[_0x27e530(0x54c)]=_0x51a183,_0x327260['appendChild'](_0xd14a7a);}),startQuizBtn[_0x1e2204(0x4b4)]=![]),studentInitialView[_0x1e2204(0xb6d)]['add'](_0x1e2204(0x599)),studentNameSelectionView['classList']['remove']('hidden');}function shuffleArray(_0x1abc8c){const _0x1bff02=_0x4a01bc;for(let _0x17c10f=_0x1abc8c['length']-0x1;_0x17c10f>0x0;_0x17c10f--){const _0x4f73e3=Math[_0x1bff02(0xd62)](Math['random']()*(_0x17c10f+0x1));[_0x1abc8c[_0x17c10f],_0x1abc8c[_0x4f73e3]]=[_0x1abc8c[_0x4f73e3],_0x1abc8c[_0x17c10f]];}}function getShuffledQuiz(_0xb90011){const _0x4784a7=_0x4a01bc;let _0x150ab7=JSON[_0x4784a7(0xf3e)](JSON[_0x4784a7(0x7ba)](_0xb90011));const _0x3caf53=_0x150ab7[_0x4784a7(0xf0c)]?.[_0x4784a7(0xbf3)]||'none';if(_0x3caf53==='none')return _0x150ab7;return(_0x3caf53===_0x4784a7(0x5f4)||_0x3caf53===_0x4784a7(0xee4))&&shuffleArray(_0x150ab7[_0x4784a7(0x3ef)]),(_0x3caf53===_0x4784a7(0x88a)||_0x3caf53===_0x4784a7(0xee4))&&_0x150ab7[_0x4784a7(0x3ef)][_0x4784a7(0x427)](_0x3e1e47=>{const _0x37b48a=_0x4784a7,_0x5b1f1d=_0x3e1e47[_0x37b48a(0x7ed)]||_0x150ab7[_0x37b48a(0x335)];if(_0x3e1e47['options']){let _0x49a9e4=_0x3e1e47['options'][_0x37b48a(0x823)]((_0x1832e3,_0x4bc815)=>({'text':_0x1832e3,'isCorrect':_0x4bc815===_0x3e1e47[_0x37b48a(0xf16)]}));shuffleArray(_0x49a9e4),_0x3e1e47['options']=_0x49a9e4['map'](_0x7e51ec=>_0x7e51ec['text']),_0x3e1e47['correctAnswerIndex']=_0x49a9e4['findIndex'](_0x1e3f35=>_0x1e3f35[_0x37b48a(0x41b)]);}_0x5b1f1d===_0x37b48a(0xd13)&&_0x3e1e47[_0x37b48a(0xa5e)]&&shuffleArray(_0x3e1e47[_0x37b48a(0xa5e)]);}),_0x150ab7;}function displayQuizForStudent(_0x4914c2){const _0xbd5149=_0x4a01bc;studentQuizArea['classList'][_0xbd5149(0x66f)](_0xbd5149(0x599)),currentDisplayedQuiz=getShuffledQuiz(_0x4914c2);currentMode!==_0xbd5149(0x233)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0xbd5149(0xdc6)]('fullscreenchange',handleFullscreenChange),document[_0xbd5149(0xdc6)](_0xbd5149(0x4a0),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0xbd5149(0xde3),resetDimTimer),window['addEventListener'](_0xbd5149(0xbb9),resetDimTimer),window['addEventListener'](_0xbd5149(0x1ab),resetDimTimer),window[_0xbd5149(0xdc6)]('keydown',resetDimTimer),resetDimTimer());const _0x57ba15=currentDisplayedQuiz[_0xbd5149(0xf0c)]?.['timerMode']||_0xbd5149(0x813);if(_0x57ba15===_0xbd5149(0x8ea))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0xbd5149(0xf0c)][_0xbd5149(0x5c4)]);else _0x57ba15==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x4a01bc(0x48d)]=function(_0x1d7cd9){const _0x6ebab0=_0x4a01bc,_0x3990ab=document[_0x6ebab0(0x657)]('dropdown-list-'+_0x1d7cd9),_0x21f27a=document[_0x6ebab0(0x180)](_0x6ebab0(0xb92));_0x21f27a[_0x6ebab0(0x427)](_0x238c24=>{const _0x6597d0=_0x6ebab0;if(_0x238c24['id']!==_0x6597d0(0x778)+_0x1d7cd9)_0x238c24[_0x6597d0(0xb6d)][_0x6597d0(0xa52)](_0x6597d0(0x599));});if(_0x3990ab)_0x3990ab['classList']['toggle'](_0x6ebab0(0x599));},window[_0x4a01bc(0x922)]=function(_0x1bc089,_0x4ec416){const _0x17871d=_0x4a01bc,_0xbda1b4=currentDisplayedQuiz;if(!_0xbda1b4)return;const _0x2e3ca6=_0xbda1b4['questions'][_0x1bc089],_0x1ed839=_0x2e3ca6[_0x17871d(0xa5e)][_0x4ec416],_0x99cb3c=document['getElementById'](_0x17871d(0xa7d)+_0x1bc089);if(_0x99cb3c)_0x99cb3c[_0x17871d(0x68e)]=_0x1ed839;const _0x28eedb=document[_0x17871d(0x657)](_0x17871d(0x9f3)+_0x1bc089);if(_0x28eedb){_0x28eedb[_0x17871d(0x891)]=_0x1ed839;if(window[_0x17871d(0x436)])MathJax[_0x17871d(0xdce)]([_0x28eedb]);_0x28eedb[_0x17871d(0xb6d)]['add'](_0x17871d(0xa17),_0x17871d(0xb40));}const _0xf7b9bf=document[_0x17871d(0x657)]('dropdown-list-'+_0x1bc089);if(_0xf7b9bf)_0xf7b9bf[_0x17871d(0xb6d)][_0x17871d(0xa52)](_0x17871d(0x599));},document[_0x4a01bc(0xdc6)](_0x4a01bc(0x4ca),_0x48dc3d=>{const _0x58128b=_0x4a01bc;!_0x48dc3d[_0x58128b(0x6f7)][_0x58128b(0xa5a)](_0x58128b(0xa8e))&&document[_0x58128b(0x180)]('[id^=\x22dropdown-list-\x22]')[_0x58128b(0x427)](_0x3a95c5=>_0x3a95c5[_0x58128b(0xb6d)][_0x58128b(0xa52)]('hidden'));});function _0x1832(){const _0x572edf=['...\x22)?','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','สายหมอก','width\x2060s\x20linear','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','lessonPlan','.file-shortcut-btn','Error\x20saving\x20lesson\x20to\x20project:','finishReason','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','รอเปิด','link-tab','อัตราส่วนและสัดส่วน','2574540EXfqJc','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','เพื่อนสนิท','กำลังวิเคราะห์หัวข้อ...','Error\x20updating\x20old\x20quizzes:','dimmed','bg-emerald-100','opacity','ฟังก์ชันเชิงเส้นและกราฟ','.project-card-container.opacity-50','.ai-content\x20p','modal-loop-until-pass-checkbox','question','bg-[#EF4444]\x20text-white\x20font-bold','presentation-short-answer-input','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','editable-text-','#results-table','false','พบ\x20Sync\x20Game!','.verification-result-editor','blueprint-upload-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','border-indigo-400\x20ring-2\x20ring-indigo-200','modal-results-display-select','Error\x20updating\x20quiz\x20status:','default','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','.project-card-content','</select>','reference-pdf-upload','blueprint-project-list','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','อนุพันธ์:\x20กฎลูกโซ่','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','pdf','playerIndex','close-presentation-btn','ไม่มีคำอธิบาย','Error\x20updating\x20sort\x20preference:','stopPropagation','bottom','\x20ข้อ...','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cos','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.sortable-header','cursor','confirmation-modal','shortcut_','left','text-green-600','sine','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','รูปสี่เหลี่ยมและสมบัติ','\x22\x20data-name=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','wager-max-points','\x22><i\x20class=\x22fas\x20','activeGameSession','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentMode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getItem','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','back-to-project-btn','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','quiz-editor-modal','per_question','<option>กำลังโหลดโปรเจค...</option>','topics.','push','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','.topic-category','Original\x20quiz\x20not\x20found','ค่าความจริง/ตารางค่าความจริง','close-pin-modal-btn','quiz-status-modal','confirm-crop-btn','admin-dashboard','pointsLastRound','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','shuffleSetting','project-quizzes-list','half_mark_status','กำลังสร้างแบบทดสอบ\x20\x22','ไม่พบตารางสำหรับ\x20Export','Error\x20saving\x20shortcut\x20config:',')\x22><span\x20style=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','ปริมาตร/ความจุและการแปลง','(รอคะแนน)','.generate-post-test-btn','text-gray-300','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','beginPath','pinnedProjects','medium','results-tab-content','undo-btn','\x20เป็น\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','lesson-loader','bp-modal-difficulty-level-select','\x20link(s)\x20for\x20quiz\x20ID:\x20','rows','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','lower_group_count','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','เส้นจำนวน','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','grabbing','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','worksheet-tab','การคูณ','pen-tools-group','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากไฟล์ที่แนบมานี้,\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','val','back-to-dashboard-btn','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','leq','powerups.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex\x20flex-col\x20gap-2','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','👁️\x20เผยตัวเลือก','preScore','student-quiz-leaderboard-table-body','\x20คู่\x20','รายการนี้','confidence-mode-select','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','.delete-file-shortcut-tab-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','export-leaderboard-excel-btn','toISOString','\x22\x20value=\x22','ยอดเยี่ยม','(ก่อนเรียน)','กรุณาใส่ชื่อใหม่','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้?','input[name=\x22team_player\x22]','เกิดข้อผิดพลาดในการลบโปรเจค','\x20ทำงานอยู่!</div>','pre-test-checkbox','save-quiz-btn','file-shortcuts-loading-msg','lineJoin','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.regenerate-question-editor-btn','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','confirm-bulk-quiz-settings-btn','use-powerup-buyTime','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','ยังไม่ส่ง','num-choices','parent','กรุณาตั้งชื่อแท็บใหม่:','Error\x20toggling\x20star\x20status:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','both','.bp-create-content-quiz-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','</span><button\x20data-player-name=\x22','ค.ร.น.\x20(LCM)','.answers','mouse','minHeight','end-game-btn','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>','อสมการเชิงเส้น','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','</form>','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','tooltipTarget','/public/data/blueprintProjects','confirm-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','fas\x20fa-user-edit','[data-topic-container-id]','instructions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x20drop-shadow-md\x22>ตาของ:\x20','</h3>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ไก่ฟ้าพญาลอ','include-images-checkbox','scheduled_pending','ระยะจากจุดถึงเส้นตรง','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','save-visibility-settings-btn','th-TH','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','settings','default-','สร้างแบบทดสอบปรนัย','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','</tr>','random','rgba(239,\x2068,\x2068,\x200.7)','ลำดับเลขคณิต\x20(AP)','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','correctAnswerIndex','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','บักแตงโม','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','request','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linkedQuizIds','ราชาคัมแบ็ก','ตั้งเวลา\x20(เปิด)','\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','max','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','border-indigo-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','ฐานนิยม','mouseleave','fas\x20fa-bookmark','Error\x20saving\x20game\x20results:','admin','สถิติและความน่าจะเป็น','blob','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','top','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','startedAt','กำลังอัปเดตแบบทดสอบ\x20','msRequestFullscreen','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','raw','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','wasJinxed','\x20ครั้ง)</span></td>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','parse','3631938zKWsRs','game-start-modal-title','close-comparison-modal-footer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','เปิด\x20(จับเวลา)','การหารเศษส่วน','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','resultsSaved','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','มือปราบสายรุ้ง','.draggable-text','วงรี','close-game-final-btn','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','<i\x20class=\x22fas\x20fa-save\x22></i>','querySelectorAll','wakeLock','decode','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของนักเรียน\x20','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.edit-custom-topic-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','.txt','firstElementChild','ช่างภาพ','Error\x20updating\x20project\x20name:','กรุณาเลือกชื่อของคุณ','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','กรุณาเลือกโปรเจคปลายทาง','short_answer','\x20ชุด)','<span\x20title=\x22ใช้ไอเทม\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','student-name-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','generated-quiz-container','timer-duration-container','reveal_at_end','ปรับเพิ่ม/ลดเป็นร้อยละ','bp-topic-list-container','Error\x20starting\x20group\x20quiz:','shortcut-id-input','modal-confidence-scoring-checkbox','Auto-linking\x20new\x20quiz\x20','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','bg-red-700\x20text-white\x20font-bold','ฟังก์ชันพหุนาม','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.submission-checkbox','powerups','view-my-progress-btn','not_confident','student-quiz-leaderboard-tab','touchstart','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','.remove-parallel-shortcut-from-tab-btn','.quiz-bank-item','Error\x20saving\x20visibility\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','scores-tab-content','จิงโจ้สโลว์ไลฟ์','text-indigo-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-3\x20items-center\x20mb-4\x20relative\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','</div></div></div>','#results-table\x20thead\x20tr','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>','(นำโด่ง)','showSlowResponders','file.pdf','save-blueprint-as-project-btn','จำนวนคละ','desc','.topic-selection-btn','ดาวTikTok','setAttributeNS','width','fontFamily','Error\x20updating\x20pin\x20status:','<li>','Failed\x20to\x20get\x20hint:','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20confirming\x20players:','mean','👁️','จำนวนนักเรียน','quiz-form','find','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','deg','กรุณาเลือกไฟล์ก่อน','isPasscodeEnabled','join-group-activity-btn','คนที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mb-8\x20drop-shadow-md\x22>ใครพร้อมตอบ?</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','camera-input','parallelShortcutOrder','add-shortcut-btn','30px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-shortcut-tab-btn','Error\x20linking\x20quizzes:','_opt1\x22\x20name=\x22question','.regenerate-question-btn','.correct-response-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','requestFullscreen','.pen-size-btn','class','project-dashboard-view','key','toggle','sync-timer-bar','#E5E7EB','entries','currentPoints','\x20แล้ว!','editor-quiz-topic','cancel-passcode-btn','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','quadraticCurveTo','Error\x20joining\x20sync\x20game:','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','strategyScan','modal-shuffle-select','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','🚀\x20คุณเดิมพันหมดหน้าตัก!','join-live-game-btn','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','export-pdf-btn','modal-confidence-mode-select','การประยุกต์เวกเตอร์พื้นฐาน','actions-container-','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','color','sync-timer-duration-container','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','ระยะเวลา\x20(วินาที):','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','comparison-modal','toDataURL','หมูกระทะจะเยียวยาทุกสิ่ง','team-quiz-topic','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','เกิดข้อผิดพลาดในการปักหมุด','rgba(239,\x2068,\x2068,\x200.9)','fiftyFifty','.project-card-container','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','potBonus','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','tab_','close-lesson-view-btn','backspace','ownerSVGElement','student-progress-view','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','scrollIntoView','flex','numChoices','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onkeydown','.bp-open-topic-bank-btn','confidenceMode','.pdf','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','admin-testing','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','pin-entry-modal','ฟังก์ชันแบบชิ้นส่วน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','data:application/vnd.ms-word;charset=utf-8,','results','quiz-editor-questions-container','transition','line-through\x20text-red-700','getScreenCTM','createdBy','showInStudentDashboard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','636236syGVly','specialist','การคูณเศษส่วน','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','NUMBER','เทพทรู','_blank','text-gray-400\x20hover:text-indigo-600','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','px)\x20scale(','live-submit-short-answer-btn','</body></html>','.score','Error\x20saving\x20questions\x20to\x20practice\x20bank:','export-image-btn','selected-topics-count','generate-worksheet-btn','confirm-move-quiz-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-input-area','parallel-test-upload-input','project-passcode-modal','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topic-tab','</span></div>','getTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-4\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-0\x20left-0\x20w-full\x20h-full\x20bg-white\x20opacity-10\x20transform\x20-skew-x-12\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20mb-2\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x20fa-lg\x22></i>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>รออีก\x20','scale-125','แบบทดสอบที่ติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','parallel-shortcut-modal-title','ปล่อยพลัง','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','file-topics-list','\x20(p=','Error\x20deleting\x20project:','.shortcut-tab-btn','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x20backdrop-blur-sm\x20border\x20border-white/20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-500\x20disabled:cursor-not-allowed\x20shadow-lg\x22\x20','Error\x20loading\x20quiz\x20for\x20student:','404\x20Not\x20Found','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','PERSEVERANCE','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','timer-duration-label','imageCode','translate','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','พิซซ่าหน้าทุเรียน','includeImages','close-responder-overlay','ความเป็นอิสระของเหตุการณ์','keyConcepts','ยังไม่เต็มนะ','frac','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','inactive','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','after','Auto-cleanup\x20failed:','approx','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>','highlighter-tool-btn','perfect_score_status','getContext','คะแนนยังไม่ถึงครึ่ง','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','className','update','kick-player-btn','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','manage-tab','</p></div>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x20(\x22','fullscreenchange','text-gray-200','.parallel-shortcut-btn','ส่งคำตอบ','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x202','.save-custom-topic-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x22>','.use-hidden-shortcut-btn','</td></tr>','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','เกิดข้อผิดพลาดในการสร้าง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generate-from-parallel-test-btn','.topic-row','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','globalAlpha','.remove-shortcut-from-tab-btn','input[name=\x22drill_answer\x22]:checked','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','timer-duration-input','save-bp-reference-btn','.move-parallel-shortcut-item','wasConfident','modal-passing-score-input','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','</select><button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button></div>','create-project-btn','.linkedQuizIds','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','toLowerCase','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','highlighter','.shortcut-btn','hasPerfectScoreBonus','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','use-powerup-wagerMultiplier','มุมพิเศษ\x2045°-45°-90°','🛡️','กำลังสร้างคำถามข้อ\x20','cutOne','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-indigo-600\x20hover:bg-indigo-700','วงกลม:\x20คอร์ดและเส้นสัมผัส','duration-300','QUICK_THINKER','#open-additional-file-shortcuts-btn','eraser-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','การบวกทศนิยม','<p\x20class=\x22','ผลรวมอนุกรม\x20(Σ)','next-review-question-btn',')</span></div>','worksheet-input-area','auto','shortcutOrder','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','แผนภาพเวนน์','ผู้ควบคุม\x20(ทดสอบ)','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','totalPoints','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','update-old-quizzes-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','.delete-custom-topic-btn','fill_in_the_blank','projectOrder','อัปเดตการตั้งค่าของแบบทดสอบ\x20','สายตาสั้น','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','has','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','pollUsedThisTurn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','geq','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','responses','anonymous_reveal_end','lesson-plan-content','uid','การแจกแจงปกติและ\x20z-score','confirm-quiz-status-btn','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22><span\x20style=\x22','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topicId','ทศนิยม\x20(ค่าประจำหลัก)','fa-shield-alt\x20text-gray-600','summary_chart','.bp-try-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','href','Error\x20moving\x20quiz:','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','จุด\x20เส้น\x20ระนาบ','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.delete-parallel-shortcut-btn','correctAnswer','\x5cgeq','bg-white','Matching\x20options\x20synced:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','lobby','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','closePath','#D1FAE5','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','#FCE7F3','dataset','open','ceil','#000000','/public/data/blueprintProjects/','topicName','.cancel-edit-topic-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</span>\x20','border-red-700','ondragover','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-end\x20transform\x20scale-90\x20origin-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>',';\x22\x20data-tooltip-target=\x22tooltip-','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-gradient-to-r\x20from-yellow-500\x20to-amber-600\x20text-white\x20px-4\x20py-1\x20rounded-full\x20border-2\x20border-yellow-200\x20shadow-lg\x20shadow-yellow-500/50\x20animate-pulse\x20transform\x20hover:scale-105\x20transition-transform\x20cursor-help\x22\x20title=\x22เงินรางวัลส่วนเกินจากรอบที่แล้ว\x20จะถูกนำมาหารเพิ่มให้ผู้ชนะในรอบนี้!\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x20text-xl\x20animate-bounce\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20drop-shadow-md\x22>กองกลาง:\x20','write','ดูผลสรุปสุดท้าย','quizType','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','camera-crop-btn','ตลาดมืด\x20(-1\x20P)','separate-by-content-from-file-checkbox','เกิดข้อผิดพลาดในการสร้างรูปภาพ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-generator-v3','gain','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','confirm-game-start-btn','\x22.\x20','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','selected-count','bg-gray-600','Error\x20editing\x20topic:','live-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','pointercancel','commonMistakes','bg-yellow-50','sync-submit-btn','src','<button\x20data-shortcut-id=\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','manage-total-players','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','student-project-leaderboard-tab','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-excel-btn','items','application/json','ไอรอนแมน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.bp-view-analysis-btn','.scratchpad-content-wrapper','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-team-quiz-btn','file-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','checkbox','ยอดนักสืบ','additional-parallel-shortcuts-modal','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','confidence-choice-btn','กรุณาพิมพ์คำตอบ','กำลังกลับเข้าสู่เกม\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','numeric','มุมและการวัดมุม','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','Error\x20resetting\x20project\x20order:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','next-question-btn','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','submit','bp-modal-question-complexity-select','canvas','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','slow-responder-container','redo-btn','\x20คะแนน</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','COMEBACK_KING','\x5ctimes','แผนภาพกล่อง\x20(box\x20plot)','onclick','.group\x5c/dropdown-parallel','scale','http://www.w3.org/2000/svg','ลบหัวข้อสำเร็จ','highlighter-tools-group','visible','fontSize','bg-green-200\x20text-green-900\x20font-bold','blueprint-options-container','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','getBoundingClientRect','.pin-project-btn','/public/data/syncGames/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','list','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','กรุณาป้อนหัวข้อสำหรับใบงาน','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','wager-modal','quiz-leaderboard-table-container','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักเดินทาง','Failed\x20to\x20generate\x20lesson:','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clear-all-links-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','touchcancel','files','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','PROMPT_PLACEHOLDER','Error\x20comparing\x20results:','bg-gray-200\x20text-gray-700','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','center','border-indigo-200','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','dashboardConfig','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','แก้ไข\x20Points\x20ของ\x20','get','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x20mr-2\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','black-market-modal','playerName','correct','.group','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','Error\x20generating\x20lesson\x20plan:','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','eraser-tool-btn','lesson-view-title','แก้ไขหัวข้อสำเร็จ','\x20คะแนน\x20(','ไม่พบข้อมูลข้อสอบหลังเรียน','text-blue-700\x20bg-blue-100','กรุณาเลือกคำตอบก่อนครับ','topic-bank-list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','str','text/html','stop','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','.generate-easy-version-btn','close-topic-bank-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','applicationData','Error\x20generating\x20from\x20link:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','มี\x20Points\x20ไม่เพียงพอ','scrollY','.delete-shortcut-tab-btn','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','Error\x20joining\x20activity:','.doc','.start-live-race-btn','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','verify-answers-editor-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','.bp-unlink-quiz-btn','100%','\x20(สำหรับ\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hasOwnProperty','keyup','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-container','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','.isScored','กำลังสแกนหาแบบทดสอบเก่า...','ไม่ใช่','competition','questions','<li\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','เพิ่มปุ่มลัดใหม่','fixed','fromCharCode','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','result','Blueprint\x20O-NET\x20ป.6','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20border\x20border-yellow-300\x20shadow-sm\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+','input-slow-count','ไม่มีผู้ตอบตัวเลือกนี้','live-player-management','bg-black/10','projectId','order','🔁\x20โอกาสครั้งที่สอง','เวกเตอร์และเมทริกซ์\x20(เสริม)','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','.view-bp-lesson-btn','.quiz-bank-move-btn','<span\x20title=\x22โดนคำสาป\x22>😈</span>','#DBEAFE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','pop','ai-quiz-app-aefee.firebasestorage.app','results-quiz-id-display','blockReason','นกฮูกกลางวัน','toDate','/submissions','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','Error\x20in\x20handleApiCall:','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','afterend','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isCorrect',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','div','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ผู้ไม่ยอมแพ้','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-900/50\x20px-4\x20py-1.5\x20rounded-full\x20border\x20border-indigo-400/30\x20backdrop-blur-sm\x20shadow-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20font-bold\x20text-white\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อที่\x20<span\x20class=\x22text-yellow-300\x22>','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','forEach','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','nextElementSibling','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hand-holding-usd\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>เดิมพันผิด!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>💸\x20เงินถูกยึดเข้ากองกลาง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','MathJax\x20typeset\x20error\x20(analytics):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','round','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','fa-user-astronaut\x20text-blue-700','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','position','สเกลและแผนที่','<div\x20class=\x22flex\x20justify-center\x20my-4\x22><button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22><div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div><span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span></button></div>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','score','Error\x20generating\x20teaching\x20content:','number','touchend','กราฟแท่ง\x20กราฟเส้น','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','พื้นที่สามเหลี่ยม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-modal','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','true_false','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','helvetica','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22checkbox\x22]','grid-view-btn','\x20\x20\x20-\x20คำตอบ:\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','mouseup','sync-player-management','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','-tab-content','answer','สลับไปโหมดผู้ควบคุม','file.txt','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','student-rankings-modal','red','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','bp-modal-quiz-type-select','scan-text-image-input','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','parallelTestShortcutsConfig','fileShortcutOrder','fill_in_no_choices','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','shortcut-editor-modal','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','bestScore','Error\x20fetching\x20student\x20rankings:','.move-quiz-btn','อัปเดตแบบทดสอบเก่า\x20','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','isStarred','ร้อยละพื้นฐาน','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎสำคัญ\x20(Critical):\x20สำหรับสูตรคณิตศาสตร์\x20(LaTeX)\x20ต้องใช้\x20Double\x20Backslash\x20(\x5c\x5c)\x20นำหน้าคำสั่งเสมอ\x20เช่น\x20\x5c\x5ctimes,\x20\x5c\x5cpi,\x20\x5c\x5cfrac,\x20\x5c\x5csqrt\x20เพื่อป้องกันความผิดพลาดในการอ่านไฟล์\x20JSON**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail','แบบเติมคำตอบ','ควรปรับปรุง','.verification-result','ผิด','พื้นที่สี่เหลี่ยม','.move-parallel-shortcut-dropdown','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','timer-container','Error\x20creating\x20project:','<option\x20value=\x22\x22>กำลังโหลด...</option>','enable-passcode-checkbox','includes','badges','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20bg-white\x20text-indigo-700\x20font-bold\x20py-4\x20px-6\x20rounded-xl\x20shadow-md\x20hover:shadow-lg\x20transition-all\x20transform\x20hover:scale-105\x20flex\x20justify-between\x20items-center\x20group\x20select-responder-btn\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','answer-grid-container','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','toggleMathDropdown','การกระจายและการจัดหมู่','\x22\x20ให้เป็นคำถามประเภท\x20\x22','move-quiz-modal','rename-quiz-input','touches','export-leaderboard-image-btn','beforeend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','overallGroups','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','submission','หน่วยความยาวและการแปลง','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','visibilitychange','label','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-fix-question-btn','border-green-300\x20bg-green-50','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22student-exit-game-btn\x22\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg','กำลังอ่านไฟล์\x20Test\x20Blueprint...','manual-bp-project-name','คนคุย','confidence-input-','close-lesson-plan-modal-footer-btn','getPage','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','ชีสเค้ก','artifacts/','reference.txt','url','disabled','zIndex','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','deselect-all-topics-btn','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','replaceChild','count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','gameData','placeholder','สุดยอด!\x20ตอบถูกทุกข้อ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...',')</button>','deltaY','mode','scratchpad-clear-btn','manage-waiting-players','default-2','click','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Error\x20deleting\x20shortcut:','teachingContent','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','fix-lesson-latex-btn','เศษส่วน\x20(ย่อ/ขยาย)','submit-group-answer-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','Error\x20showing\x20quiz\x20detail\x20view:','sara','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupNames','save-project-name-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play-circle\x20text-3xl\x20text-indigo-400\x20group-hover:text-indigo-600\x20transition-colors\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','gamePin','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','จากเนื้อหาต่อไปนี้:\x20\x22','.bp-edit-topic-btn','AI\x20grading\x20failed:','Error\x20processing\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','complexityValue','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','bg-red-100\x20text-red-800','pointsAwarded','element','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','https://drive.google.com/uc?export=download&id=','subTopic','<div\x20class=\x22space-y-2\x22>','.quiz-bank-checkbox:checked','projectSort','.application-options\x20button','rgba(59,\x20130,\x20246,\x200.7)','add-from-global-bank-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','shortcut-modal-title','\x5cneq','players','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','fadeStartTime','isAnonymousRevealed','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x22>ใช่</p>','</div></div>','เปลี่ยนชื่อโปรเจคสำเร็จ','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','ไม่สามารถบันทึกการตั้งค่าได้','\x22\x20name=\x22confidence','Error\x20starting\x20team\x20quiz:','เกิดข้อผิดพลาดในการติดดาว','application/pdf','<div>','จันทร์เจ้า','smooth','Error\x20adding\x20students:','/public/data/customMathTopics','(คู่ขนาน)\x20','.delete-svg-btn','label[for=\x22num-questions\x22]','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','toggle-slow-responders','\x22\x20value=\x22false\x22\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','back-to-dashboard-from-results-btn','กรุณากรอกข้อมูลให้ครบทุกช่อง','<button\x20data-id=\x22','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','cancel-quiz-settings-btn','_new','</p><p><strong>เฉลย:</strong>\x20','bulk-confidence-mode-select','schedule','\x20คะแนน\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','กัปตัน','</span></td>','practice-topic-btn','</label></div>','สร้างชุดคำถามจับคู่','badgesCount','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการสร้างใบงาน','Error\x20saving\x20settings:','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','ลบแบบทดสอบสำเร็จแล้ว','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','sync-timer-countdown','ปิดใช้งาน','restore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','checked','passcode','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','user','<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>','/public/data/projects/','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','\x22><p\x20class=\x22font-semibold\x22>','มูเตลู','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','\x22>ไม่ใช่</p>','student-project-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','AI\x20ไม่ส่งผลลัพธ์กลับมา','textContent','bg-green-500\x20hover:bg-green-600\x20text-white','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','scratchpad-modal','file-default-2',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ตรวจคะแนนใหม่\x20','open-blueprint-projects-btn','quiz-leaderboard-table-body','ตัวเลือก\x20ข','\x5ccdot','บทเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','\x20จุดเรียบร้อยแล้ว','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','getTextContent','cancel-create-project-btn','student-reading-area','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','<div\x20class=\x22answer-space\x22></div>','anon-show-answer-toggle','ตัวเลือก\x20ก','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','shortcutId','คาถาแยกเงาพันร่าง','เกิดข้อผิดพลาดในการอัปเดต:\x20','join','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.bp-present-btn','globalSettings','ปริมาตรรูปทรงสามมิติ','Error\x20loading\x20user\x20preferences:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.file-topic-selection-btn','\x20Pot</span>','td,\x20th','player-count','เกิดข้อผิดพลาดในการลบนักเรียน','-options','analyze-strengths-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22\x20name=\x22question','Failed\x20to\x20kick\x20player\x20','save-game-results-checkbox','แก้ระบบสมการด้วยเมทริกซ์','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22.\x20Ideal\x20Answer:\x20\x22','additional-shortcuts-modal','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','blueprint-shortcut-container','scores','move','จำนวนเต็มบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.unpair-quiz-btn','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คนที่เลือก?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','scheduled','<span\x20title=\x22ใช้\x20','Error\x20saving\x20shortcut:','svg','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','เกิดข้อผิดพลาดในการบันทึก','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ตอบถูก\x20x2\x20/\x20ตอบผิดเสียเงินเข้ากองกลาง!)</span></div>','hidden','.export-pdf-list-btn','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','สายลมแห่งโชคชะตา','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','isSyncGame','เกิดข้อผิดพลาดในการจับคู่','pre-test','text-yellow-300','cancel-wager-btn','fa-bolt\x20text-blue-500','quiz-settings-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','Error\x20renaming\x20quiz:','แบบทดสอบจากคลังส่วนตัว','Error\x20displaying\x20blueprint\x20project:','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','generated','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','from','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x22\x20id=\x22input-','</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','/players','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','สรุปผลการวิเคราะห์:\x5cn','live-short-answer-input','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','isNormalTopic','.ideal-answer-input','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','ไม่พบข้อมูลโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drill-feedback','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','</span>\x20วินาที</p></div>','timerDuration','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','blueprint-tab','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','manual-bp-grade-level','show_pass_fail_only','transformOrigin','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การจัดหมู่\x20(Combination)','querySelector','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','start-presentation-btn','เรขาคณิต','เศรษฐีดูไบ','text-red-500\x20hover:text-red-700','quick_thinker','parts','select','responseSchema','bp-modal-num-questions','overflow','text-red-700','\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','\x22\x20min=\x221\x22\x20max=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-bp-settings-btn','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','confidence-mode-container','members','options','questionStatus','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20processing\x20parallel\x20shortcut\x20click:','suspended','หัวข้อหลักใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.topic-actions-edit','ก่อนเรียน','text-red-800','shortcut-name-input','questions_only','AudioContext','modal-timer-duration-label','118312RcvdAf','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x20|\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','lastAnswerCorrect','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','https://corsproxy.io/?','generate-from-link-btn','poll','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','student-team-join','responder-selection-overlay','passingScore','คะแนนเฉลี่ย','isForcedConfident','lesson-plan-modal','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','warn','_opt1\x22>ไม่ใช่</label></div>','มังกรกินจุ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','สร้างโปรเจคสำเร็จ!','overflowY','appendChild','summary','ARRAY','questionDisplayedAt','loader-text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-input','ยังไม่สร้าง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ','isDefault','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','การวัด','PERFECT_SCORE','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','wager-all-in-btn','bp-modal-include-images-checkbox','New\x20question\x20detected.\x20Cleaning\x20up.','mode-switcher-btn','คัดลอกไม่สำเร็จ','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','เรเดียนและการแปลงหน่วย','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','input[name=\x22status-option\x22]:checked','<button\x20data-value=\x22','\x22\x20style=\x22','_opt','Error\x20fetching\x20project\x20quizzes:','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<div\x20class=\x22loader\x20mx-auto\x22></div>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','cancel-blueprint-projects-btn','revealOptions','<span\x20class=\x22font-bold\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','save',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','shortcut-reference-url-input','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','total','.bp-game-btn','newOptions','สมการเหตุผล\x20(rational)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','ดอกเบี้ยทบต้น','.move-file-shortcut-dropdown','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint',')\x22>','start-game-btn','global-activity-modal','circle','correctStreak','ออฟฟิศซินโดรม','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','contains','group','ไม่ใช่\x20/\x20ผิด','loader','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','getElementById','modal-close-btn','add-file-shortcut-tab-btn','q-explanation-','findIndex','suggestedAnswer','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','แบบปรนัย\x204\x20ตัวเลือก','คู่คำตอบ...','กฎของไซน์','ไฟล์ทั้งหมด','mjx-container','sawtooth','ระบบอสมการ','กำลังดึงข้อมูลจากลิงก์...','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-parallel-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','Error\x20calculating\x20final\x20scores\x20with\x20pot:','difficultyValue','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','.bp-create-topic-quiz-btn','remove','active','การคูณทศนิยม','บทเรียนเรื่อง:\x20','manage-players-btn','.generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','summaryContent','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','\x5csqrt{$1}','substring','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','แอบชอบ','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.delete-hidden-file-shortcut-btn','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','lowerGroupResponders','confirm-admin-login-btn','questionIndex','load-quiz-btn','พบ\x20Team\x20Quiz!','ปวดหลัง','live-options-container','.select-responder-btn','\x22...','q-image-container-','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','getElementsByTagName','blueprintShortcuts','value','topic-input','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','original-mode-checkbox','add-shortcut-tab-btn','Error\x20generating\x20worksheet:','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','/public/data/practiceBank','student-progress','analytics-tab-content','ไม่พบข้อมูลการจับคู่','input','parallelShortcutTabs','จำนวนเต็มลบ','resultsDisplay','รอผู้ควบคุมไปข้อต่อไป...','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','ไฮเพอร์โบลา','กำลังสร้างแบบทดสอบจากหัวข้อ...','strokeStyle','parallel-shortcut-tabs-nav','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','point','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-black/20\x20px-3\x20py-1\x20rounded-full\x20border\x20border-white/10\x20text-gray-300\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>กองกลาง:\x200</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','Error\x20processing\x20file\x20for\x20AI:','createdAt','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','[data-field=\x22subTopic\x22]','leaderboard-quiz','isRemedial','quiz-search-input','```','generationConfig','Error\x20regenerating\x20question\x20in\x20editor:','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/3</span></div>','multiply','<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>','trail','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','อยู่ในสาระการเรียนรู้ใด:','toLocaleString','isJinxed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ\x20','\x20คะแนน','การแปลงรูปอัตลักษณ์','endTime','.lastAnswerCorrect','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','student','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','confirm-quiz-settings-btn','อินเวอร์สของเมทริกซ์','modal-timer-mode-select','font-bold\x20text-green-700','finished','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','สอบปกติ','dragend','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','#scores-tab-content\x20.mb-4.flex','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','upper_group_count','#6366F1','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20bulk\x20deleting\x20submissions:','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกมเมอร์','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากคนตอบผิด\x22>+','file-shortcut-modal-title','globalCompositeOperation','เกิดข้อผิดพลาดในการเข้าตลาดมืด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ฮิสโตแกรม','ตรีโกณมิติ','pointsToAdd','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','confirm-link-quiz-btn','student-project-leaderboard-table-body','setAttribute','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-white\x20text-gray-800','temp-loader-results','\x22\x20value=\x22true\x22\x20','comparison-individual-tab','parallel-default-1','ฟังก์ชันลอการิทึม','release','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','quiz-results','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','target','pointsLastQuestion','answerValue','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','Game\x20results\x20already\x20saved.\x20Skipping.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','ห.ร.ม.\x20(GCD)','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20font-extrabold\x20text-yellow-300\x20tracking-wide\x20drop-shadow-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x20border\x20border-white/10\x20shadow-sm\x22>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','doc','bulk-delete-submissions-btn','การหารทศนิยม','results-table-container','icon','จำนวนคู่:','scratchpad-canvas','.ai-content\x20td','height','file-default-1','answeredCurrentQuestion','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','close-manage-btn','อกหัก','sqrt','ข้อที่\x20','</a>','\x22\x20data-pre-test-id=\x22','submissions','rename-quiz-modal','#open-additional-parallel-shortcuts-btn','นำแบบทดสอบออกจากคลังนี้แล้ว','msExitFullscreen','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div><p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p></div>','endsWith','/public/data/liveGames','pointContent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','show-results-btn','players.','#add-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','เกิดข้อผิดพลาดในการอัปเดตสถานะ','move-quiz-project-select','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.compare-results-btn','.edit-hidden-shortcut-btn','text-content-input','every','save-bp-settings-btn','main-correct-answer-display','Error\x20fetching\x20projects\x20for\x20move:','state','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','การบวก','\x5cpm','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','ซื้อ\x20\x22','spinner','OBJECT','แก้ไขปุ่มลัดจากไฟล์','...','back-to-home-manual-release','ศิลปิน','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','isBlackMarketEnabled','create-project-modal','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','00:00','#ffffff','tool','wasForced','responses.','(ไม่ตอบ)','comeback_king','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','นินจาชาเขียว','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','bp-quiz-settings-btn','body',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','Error\x20unpairing\x20quizzes:','student-view','แม่น้ำ','next-sync-question-btn','setValueAtTime','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x20ชิ้น)','postTScore','สิงโตยิ้ม','</span>\x20/\x20','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</strong></div>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','sync-manage-players-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','leaderboard-tab-content','#4338ca','quiz-start-time','reviewQuestionIndex','(กำลังไล่ตาม)','parallel-default-2','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bank-input-area','รูปหลายเหลี่ยมและมุมภายใน','export-word-btn','showImproveButton','blueprint-project-manager-view','first_try_ace','dropdown-list-','ไม่สามารถโหลดรายการโปรเจคได้','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-value','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-tab','สอบซ่อม','/public/data/projects','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','.delete-hidden-shortcut-btn','drop','shadowColor','cropped_image.png','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','textarea','student-progress-content','.admin-try-quiz-list-btn','confirm-delete-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','clientY','fas\x20fa-star\x20text-yellow-500','transition-all','loopUntilPass','Saving\x20game\x20results\x20(Optimized)...','draggable-text','mainTopics','bank-quiz-search-input','showRankings','\x20ชุดสำเร็จ!','set','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asc','timestamp','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','answerText','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','.option-input','#student-quiz-leaderboard-content\x20thead','สร้างแล้ว','<input\x20type=\x22checkbox\x22\x20disabled\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-200\x20text-gray-300\x20cursor-not-allowed\x22>','เงาปริศนา','\x20สำเร็จ!','pin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','onloadend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-mode','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<div\x20style=\x22','Blueprint\x201','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้นฉบับทั้งหมด','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','student-quiz-area','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','generate-from-blueprint-btn','price','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','🌗\x2050:50','stringify','Error\x20deleting\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','stepByStepExamples','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','นักดนตรี','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','image-to-crop','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ฟังก์ชันผกผัน','fileShortcutTabs','.quiz-result-card','แท็บใหม่','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results-quiz-title','playerNicknames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','shuffledQuiz','behavior-log-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22select-all-submissions\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ประเภท</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนครั้งแรก</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>สถานะ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','modal-message','shortcutIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','realScore','.file-shortcut-tab-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','interesting-stats-container','input[type=\x22radio\x22]:checked','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ปริพันธ์ไม่จำกัด','input[name=\x22syncVariant\x22]:checked','Error\x20committing\x20score\x20updates:','ชาไข่มุก','#open-additional-shortcuts-btn','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Error\x20listening\x20for\x20starred\x20quizzes:','.tab-name-input','\x22\x20ออกจากคลังนี้?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','resume','Error\x20deleting\x20topic:','คำอธิบาย...','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กราฟฟังก์ชันตรีโกณ','questionType','<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>','values','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20apply\x20jinx:','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','%</span>','password-error-msg','answer-counter','projectSortOrder','md:col-span-3','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.pair-quiz-btn','wager-amount-display','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','Team\x20Quiz','targetId','Enter','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','กลุ่ม:\x20','สถานะไม่ชัดเจน','true','split','<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','save-file-shortcut-btn','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','cropper-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20P)','ชนิดของข้อมูลและการเก็บข้อมูล','min','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','Error\x20updating\x20project\x20color:','กรุณาเลือกสถานะ','none','กระต่ายตื่นตูม','.eraser-size-btn','timed','text-red-300\x20hover:text-red-100','\x27\x20ในหัวข้อ\x20\x27','ไม่พบไฟล์\x20Test\x20Blueprint','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','transform','(พยายามอยู่)','text-yellow-800','ไอติมทอด','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','promptFeedback','.presentation-option','pointerdown','กฎบวกและกฎคูณ','title','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','cancel-quiz-edits-btn-footer','confirm-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','toString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','คำตอบที่ถูกต้อง','ตัวแปรและนิพจน์','parentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p></div>','.submission-checkbox:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','.delete-hidden-parallel-shortcut-btn','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-900','API\x20Error\x20Body:','\x20\x20\x20-\x20','ความเท่ากันทุกประการของสามเหลี่ยม','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','.delete-project-btn','ปลาทูคะนอง','standardTopic','ซื้อ\x20(','<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','abs','.quiz-bank-delete-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการใช้ไอเทม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','use-powerup-revealOptions','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p></div>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','classStrengths','.space-y-1.pl-4','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','รหัสไม่ถูกต้อง','quiz-id-input','Error\x20loading\x20blueprint\x20projects:','submission-status-chart','project-search-input','</button>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<p\x20class=\x22font-bold\x20text-sm\x20','lesson-view-modal','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','copy-quiz-id-btn','สรุปคะแนนของคุณ','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','parseFromString','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','5cKAVRV','player-list-lobby','normal','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x22>(','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.shortcut-list-item','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22><div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div><p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','-\x20ข้อ\x20','\x20to\x20','anonymous','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','CEOพันล้าน','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','backgroundColor','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-quiz-bank-modal','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','newOptionsPayload','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','tGain','ondrop','สัญกรณ์วิทยาศาสตร์','shadowBlur','dblclick','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','</td>','submittedAt','team','(เลือกแล้ว\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','NEGATIVE_INFINITY','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','choices_only','contents','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','P/อัน)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','classic','innerHTML','clientX','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','button','open-sync-scratchpad-btn','ไม่พบข้อมูลผู้เล่น','ความแปรปรวน','project-name-input','bold','confidence','binom','cancel-move-quiz-btn','ที่พิมพ์ได้\x20จำนวน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','quizId','กำลังสร้างเนื้อหา:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','use-powerup-secondChance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','!\x20ข้อมูลของคุณถูกกู้คืนแล้ว','DOMContentLoaded','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','sum','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','topics','เพิ่ม\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','bulk-quiz-settings-modal','next-drill-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','leaderboard','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ผู้เล่น\x20','รอ...','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-try-btn','cancel-shortcut-edit-btn','cancel-test-btn','scan-text-image-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','จำนวนข้อ:','length','/public/data/quizzes','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','cloneNode','สลับไปโหมดนักเรียน','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ลิมิต','28px','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','onSecondChance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','ON_FIRE','scratchpad-header','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','thead','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','badgesToAdd','hidden\x20bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20flex\x20items-center\x20gap-2\x20ml-auto\x20transition-all','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','json','.status','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','tabId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save-quiz-edits-btn','\x20pointer-events-none\x22>','code','(^|[^\x5c\x5c])\x5cb','Error\x20updating\x20quiz\x20settings:','answering','whole_quiz','mandatory','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','download','ความสัมพันธ์ของมุม','-options\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','.hidden-option-input','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','✂️\x20ตัด\x201\x20ตัวเลือก','\x20รายการเรียบร้อยแล้ว','Failed\x20to\x20apply\x20forceConfident:','Market\x20entry\x20payment\x20failed:','hover:bg-indigo-100','leaderboard-tab','สาระที่\x201','empty','txt','OCR\x20Error:','originalQuestionText','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','end-sync-game-btn','สมการตรีโกณมิติ','new-question-type-select','file-shortcut-name-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','export-pdf-modal','source-over','สมการยกกำลัง','add-custom-math-topic-btn','<i\x20class=\x22fas\x20fa-pen\x22></i>','webkitAudioContext','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ย้ายแบบทดสอบสำเร็จ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','use-powerup-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','bg-gray-100\x20opacity-70','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','timeBonusThisQuestion','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','add-student-btn','><span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span></button>','<span>','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bulk-quiz-settings-btn','selectMathOption','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','setItem','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20rounded-md\x20hover:bg-gray-100\x20cursor-pointer\x20border\x20border-transparent\x20hover:border-gray-200\x20transition-all\x20select-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','linearRampToValueAtTime','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','admin-try-quiz-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','points','Error\x20during\x20blueprint\x20link\x20cleanup:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22responder-selection-overlay\x22\x20class=\x22fixed\x20inset-0\x20bg-indigo-700\x20z-[999]\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-6\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/20\x20px-4\x20py-1\x20rounded-full\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-white\x20text-sm\x22>ข้อที่\x20','text-gray-100','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','createElementNS','behavior-log-tab-btn','passcode-prompt-message','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','lastAnswerIndex','.use-hidden-parallel-shortcut-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เมทริกซ์:\x20บวก/คูณ','.summary-bar-item','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','<button\x20data-tab-id=\x22','อนุพันธ์:\x20ผลคูณ/ผลหาร','ondblclick','สร้างคำถามใหม่\x201\x20ข้อ\x20','pairedQuizId','manual-bp-content','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','num-questions','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','pow','ดอกเบี้ยอย่างง่าย','isArray','ผู้พิชิตดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ผ่านฉลุย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20จุด','AI\x20Fix\x20Error:','Invalid\x20response\x20structure\x20from\x20AI.','postScore','เหมียวขี้เซา','อุณหภูมิและการแปลง','moveTo','หยุดระบบจับเวลาหรี่หน้าจอ','bp-reference-file-url','ชื่อโปรเจคห้ามว่าง','delete','close-additional-file-shortcuts-btn','\x20รายการ...','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','quizMode','bp-modal-passing-score-input','removed','bg-green-500','ยังไม่มีนักเรียนส่งงาน','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ความคาดหมาย\x20(Expected\x20value)','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','on_fire','สมการราก\x20(radical)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','tan','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','สายลับจับบ้านเล็ก','ตัวประกอบและตัวประกอบเฉพาะ','isConfidenceScoringEnabled','category','selectedTopicNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x20fade-in\x22\x20id=\x22slow-responder-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-3\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-bold\x20mb-1\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x22></i>\x20<span>รออีก\x20','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','Powerup\x20use\x20failed:','selected-answer-index-hidden','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','gameVariant','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(หลังเรียน)\x20','<button\x20data-quiz-id=\x22','ส้มตำปูปลาร้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-index=\x22','\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','progress-student-select','sync','add-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','date_asc','รากที่สองและที่สาม','padding','<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22><select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','Error\x20generating\x20parallel\x20post-test:','\x20ชุด)</span>','ไม่พบแบบทดสอบสำหรับรหัสนี้','การบวกเศษส่วน','ตรวจทานเฉลยเสร็จสิ้น!','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','Failed\x20to\x20refund\x20powerup:','description','#F3E8FF','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','อัปเดตสถานะสำเร็จ','solution','แคลคูลัสเบื้องต้น','Error\x20verifying\x20answers:','Blueprint\x202','disabled\x20bg-gray-400\x20cursor-not-allowed','\x22\x20class=\x22w-12\x20p-0.5\x20text-black\x20text-center\x20rounded\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-manage-btn\x22\x20class=\x22text-gray-400\x20hover:text-white\x20px-2\x22><i\x20class=\x22fas\x20fa-chevron-up\x22></i>\x20ซ่อน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-start\x20gap-2\x20max-h-32\x20overflow-y-auto\x20custom-scrollbar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','message','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','goto-next-question-btn','keydown','string','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','SAFETY','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','enable-black-market-checkbox','bp-add-topic-btn','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','Error\x20saving\x20manual\x20blueprint\x20project:','bg-red-200\x20text-red-800','#retake-for-improvement-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.pin-digit-box','BOOLEAN','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','memoryContent','.edit-parallel-shortcut-btn','\x22\x20title=\x22','/users/','removeItem','per-question-text','stroke','idealAnswer','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','game-start-quiz-id','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-matching-select','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','word-break:\x20break-all;','quiz-results-view','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22><i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i><p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','name','Error\x20clearing\x20linked\x20quiz:','subTopics','พาราโบลา','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22><i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','isLooping','<div><input\x20type=\x22radio\x22\x20id=\x22q','groups','bg-[#DCFCE7]\x20text-green-900','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','.bp-delete-topic-btn','fill','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','question-analytics-container','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','podium','generate-from-file-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x20quizzes\x20into\x20global\x20cache.','rgba(16,\x20185,\x20129,\x200.7)','bulk-results-display-select','คัดลอกรหัสแล้ว!','add-file-shortcut-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','close-student-rankings-btn','onload','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','/studentProfiles','selected-text-','option','quiz-end-time','source_document.txt','copy','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','student-team-selection-view','บันทึกการตั้งค่าสำเร็จ','blueprintUrl','starred-project','แบบทดสอบ:\x20','.edit-file-shortcut-btn','20px','.live-summary-tooltip.visible','link-url-input','\x20in\x20all\x20blueprint\x20projects.','parallel-default-','quiz','เรขาคณิตวิเคราะห์','exponentialRampToValueAtTime','API\x20Error\x20Response:','รีเซ็ตลำดับโปรเจคแล้ว','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','touch','คนโสด','343rmYycD','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x20|\x20ID:\x20','instantWager','grid','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x20to\x20blueprint\x20topic\x20','text-indigo-700','ก้อนเมฆ','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','กุ้งเต้นแร้งกา','onblur','text-green-700\x20bg-green-100','<span\x20class=\x22font-bold\x22>','save-parallel-shortcut-btn','API\x20call\x20failed\x20with\x20status:\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','กรุณาสร้างบทเรียนก่อน','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-2\x20font-semibold\x22><i\x20class=\x22fas\x20fa-bell\x22></i>\x20แจ้งเตือนคนช้า</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20text-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เตือนเมื่อเหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22input-slow-count\x22\x20value=\x22','/public/data/syncGames','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาเลือกโปรเจคก่อน','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','API\x20call\x20failed','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','สมมาตร\x20(แกน/จุด)','export-worksheet-pdf-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20','โดเมนและเรนจ์','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','พื้นที่ใต้กราฟ/ระหว่างกราฟ','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','substr','AI\x20ไม่สามารถประมวลผลข้อมูลได้','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','กิจกรรมสิ้นสุดลงแล้ว','quiz-leaderboard-table','<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>','connect','bg-green-400\x20text-white\x20font-bold','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','generate-from-text-btn','<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-quiz-btn','สำหรับหัวข้อ\x20\x27','</span></p>','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','.use-hidden-file-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','แก้ไขสูตรคณิตศาสตร์\x20','onerror','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','pointer-events-none','arrayBuffer','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','add','getBBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','นักล่าฝัน','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','bg-yellow-200','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','ไม่พบข้อมูลเกม','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','<button\x20id=\x22','allResponses','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','freeMarketEntryUsed_q','<div\x20class=\x22','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','math-topics-checkbox-container','parallel-shortcut-id-input','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','27411472','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','explanation','cancel-bulk-quiz-settings-btn','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','referenceUrl','prod','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','retake-quiz-loop-btn','ใช่','text-green-600\x20font-bold','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','start','การลบ','verify-answers-btn','AI\x20Formula\x20Fix\x20Error:','multiple_choice','input-','cancel-quiz-edits-btn','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','<br>','toBlob','bg-red-100','Error\x20unlinking\x20quiz:','per-q-countdown','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','all','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','```json','candidates','.custom-math-dropdown','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','คะแนนเต็ม','textarea[name=\x22team_answer\x22]','Error\x20saving\x20quiz:','modal-adaptive-quiz-checkbox','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','/preferences/main','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-file-shortcut-item','line-height:\x201.3;\x20min-width:\x200;','คำถามดิบ:\x20\x22','text/plain','_opt0\x22>ใช่</label></div>','perfect_score','All\x20groups\x20have\x20finished.\x20Ending\x20game.','bg-red-500\x20text-white\x20font-bold','</span><span\x20class=\x22font-bold\x22>','.toggle-actions-btn','\x27,\x20\x27','กฎของโคไซน์','[*]','(คัดลอก)\x20','300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','lastIndexOf','comparison-overall-tab','แบตหมด','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','Error\x20starting\x20sync\x20game:','Error\x20processing\x20file\x20shortcut\x20click:','passing-score-input','force-math-checkbox','เลือกและเริ่มสร้าง','quiz-results-table-body','project-sort-select','Error\x20listening\x20for\x20student\x20profiles:','select-all-submissions','market-current-points','block','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','behavior-log','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x20max-w-5xl\x22>','.live-answer-btn','.question-editor-item[data-q-index=\x22','pointerup','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','handleGeneratePracticeTest','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','buy-time-quantity-input','start-sync-game-btn','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','gradeLevel','confidence_single','#student-project-leaderboard-content\x20thead','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-loader-text','text-gray-700','cdot','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','link-input-area','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','pin-backspace-btn','ไม่มี','dragstart','เกิดข้อผิดพลาดในการนำผู้เล่นออก','p-2\x20bg-black/10\x20rounded-md','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','เน็ตช้า','anon-settings-container','show_results_and_answers','Error\x20saving\x20user\x20preference:','file-default-','หมดเวลาสำหรับข้อนี้!','then','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','shouldSaveResults','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-enable-checkbox','12RvyOfh','secondChance','parallel-shortcut-url-input','\x22\x20name=\x22question_single\x22\x20value=\x22','รูปสแควร์รูท\x20(surd)','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Could\x20not\x20fetch\x20reference\x20file:','ai-quiz-app-aefee.firebaseapp.com','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#e21b3c','fileShortcutsConfig','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','.pen-color-btn','analytics-summary-cards','match','พีชคณิตและฟังก์ชัน','จับคู่เพื่อเปรียบเทียบผล','pathname','Invalid\x20response\x20structure\x20from\x20API.','ธอร์ค้อนบิน','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','btn','sin','question-complexity-select','การแยกตัวประกอบ','centralPot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','parallel-test-input-area','applicationContent','displayRank','toFixed','.move-shortcut-dropdown','</strong></p>','เตรียมพบกับผลสรุปสุดท้าย','bg-black/20','<input\x20type=\x22checkbox\x22\x20class=\x22submission-checkbox\x20h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x20cursor-pointer\x22\x20value=\x22','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.lastAnswerValue','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','live-game-view','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#FEF3C7','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','presentation-modal','create-from-bank-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overline','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','topic','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','เกิดข้อผิดพลาดในการลบผลสอบ','/public/data/quizzes/','AI\x20ไม่สามารถอ่านข้อความได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','project-passcode-input','กรุณาวาง\x20URL\x20ของบทความก่อน','\x22\x20x','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','bg-gray-50','bulk-loop-until-pass-checkbox','เนื้อหาสำหรับสอน:\x20','bg-red-500','ติดซีรีส์','<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button></div>','\x22\x20data-target-tab-id=\x22','mixed','exitFullscreen','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20font-extrabold\x20text-yellow-300\x20drop-shadow-md\x22>','.quiz-status-btn','.topic-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','เกิดข้อผิดพลาดในการแก้ไข','ระบบเลขและค่าประจำหลัก','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','.start-presentation-list-btn','s;\x22\x20title=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','doughnut','font-bold','\x20ตัวเลือก.\x20','ondragend','แผนการสอน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','Failed\x20to\x20resume\x20game\x20session:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22block\x20text-sm\x20','dispatchEvent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commit','Error\x20submitting\x20group\x20answer:','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fontWeight','startTime','<h1></h1>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','แฟนทิพย์','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','hiddenOptions_q','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','offset','qIndex','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','docChanges','topic-input-area','จำนวนและการดำเนินการ','เกิดข้อผิดพลาดในการอ่านไฟล์','เส้นตรง:\x20รูปแบบสมการ','ทำคะแนนได้เกินครึ่ง','use-powerup-fiftyFifty','เพิ่มปุ่มลัดจากไฟล์ใหม่','input[type=\x22radio\x22][value=\x22','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Error\x20verifying\x20answers\x20in\x20editor:','behaviorLog','earned-badges-container','ไฟล์ลัด\x201','fullscreenElement','ฟังก์ชันราก\x20(root)','classList','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ดาวสภา','docs','parentNode','\x22\x20class=\x22delete-project-btn\x20','highlighter-size-slider','อินฟลูเอนเซอร์','<div\x20class=\x22my-2\x22>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','removeEventListener','slide-counter','file-topics-list-container','onchange','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchmove','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าแล้ว','additional-file-shortcuts-modal','ต้นฉบับ\x202','\x20จาก\x20','destroy','การปัดเศษและประมาณค่า','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','คะแนนเต็ม!','pen','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','การนับ','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','7374375DzoZkX','[id^=\x22dropdown-list-\x22]','worksheet-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>','border-indigo-500\x20text-indigo-600','ไม่สามารถเพิ่มนักเรียนได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-game-start-modal','ใช้ไอเทม\x20','.edit-hidden-parallel-shortcut-btn','adaptive-quiz-checkbox','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<div\x20class=\x22p-2\x20rounded-md\x20','$1\x5c%','Export\x20Image\x20Error:','การสร้างรูปด้วยวงเวียน–สันตรง','cancel-delete-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','Error\x20saving\x20parallel\x20shortcut:','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x5cpi','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','AI\x20กำลังสแกนข้อความ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','</tbody></table></div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','innerText','presentation-explanation','perseverance','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20analyzing\x20blueprint\x20topics:','.shortcut-list-item:not(.opacity-50)','Error\x20analyzing\x20file\x20for\x20topics:','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','blueprint-topics-list','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','โหลดนาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-responder-overlay\x22\x20class=\x22mt-12\x20text-indigo-200\x20hover:text-white\x20underline\x20text-sm\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กลับไปตามลำดับปกติ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-settings-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','/lessons','confirmation-message','interesting-stats-wrapper','delete-svg-btn','handleGenerateQuizFromBlueprintTopic','wager-slider','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','</tbody></table>','leaderboard-table-body','answers','.linkedQuizId','latestSubmittedAt','ไม่ระบุ','Error\x20deleting\x20submission:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-passcode-input','เกิดข้อผิดพลาดในการบันทึกโปรเจค','สร้างใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pointerType','wagerMultiplier','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','confirm-confident','scratchpad-question','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','fill_in_with_choices','file-shortcut-tabs-nav','แบบทดสอบนี้ปิดใช้งานอยู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','use-powerup-wagerMultiplier-instant','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','รักแรกพบ','test','fa-dumbbell\x20text-gray-700','incorrect','questionText','shuffle','bg-green-100\x20text-green-800','studentName','q-text-','หนอนหนังสือ','trail-tool-btn','.topic-name-display','Profile\x20recalculation\x20error:','การแจกแจงทวินาม\x20(พื้นฐาน)','</div>','createElement','parallel-shortcuts-loading-msg','student-initial-view','separate-by-content-checkbox','comparison-chart','.question-editor-item:last-of-type','student-name-input','lesson-sections-container','bg-gray-400','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','-tab','แก้ไขข้อนี้','quiz-type-select','\x5ctext','upperGroupNames','Error\x20listening\x20for\x20projects:','จับคู่แบบทดสอบสำเร็จ!','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','confidence-scoring-checkbox','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','.auto-resize-textarea','เกิดข้อผิดพลาดในการลบข้อมูล','insertAdjacentHTML','project-title','ไม่สามารถเริ่มเกมได้','blueprint-projects-modal','ค่าเสื่อมราคา','select[name=\x22question_single\x22]','sort','Failed\x20to\x20get\x20standardized\x20topic:','ยอดเยี่ยม!','.confidence-choice-btn','usedBuyTime','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','matching','<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','bank-quiz-list','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','Error\x20submitting\x20team\x20answer:','indexOf','ตัวแทนแห่งดวงจันทร์','ตลาดมืด\x20(','</h4>','เสือซ่อนเล็บ','.color-palette-popup','text-red-600','students','???','อัตราการเปลี่ยนแปลงทันที','กำลังสร้างแบบทดสอบ:\x20','/public/data/teamQuizzes','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','far\x20fa-star','frequency','#confidence-input-','not_generated','Error\x20generating\x20hybrid\x20quiz:','.question-editor-item','การจัดกลุ่มข้อมูล','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','file-shortcut_','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','delete-all-students-btn','Loaded\x20','<span\x20title=\x22โดนบังคับ\x22>👻</span>','เกิดข้อผิดพลาด:\x20','Buy\x20Item\x20failed:\x20','bg-green-200','</p><div>','Test\x20Blueprint','global-activity-quiz-list','text/csv;charset=utf-8;','webkitExitFullscreen','filter','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','black-market-settings-container','readAsArrayBuffer','.bp-live-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','selected-answer-index-hidden-wager','timerMode','บันทึกการแก้ไข','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x20(Player)\x20(ID:\x20','analytics-tab-btn','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','ตัวเลือก\x20ค','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','STOP','กรุณาป้อนรหัสแบบทดสอบ','.project-card-container[data-id]','bp-modal-num-choices','isScored','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','marginBottom','reset-view-btn','พื้นที่ผิวรูปทรงสามมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','blueprint-settings-modal','border-gray-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','thead\x20.sortable-header','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','game-pin-input','date_desc','shuffle-setting-select','student-result-area','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','Refunded\x20','ค่าคลาดเคลื่อนของการวัด','<span\x20class=\x22font-bold\x20text-right\x20flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-1\x22\x20style=\x22flex-shrink:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคะแนน','Error\x20clearing\x20all\x20links:','jspdf','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-container','ครูใหญ่','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','eraser','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','กำลังสร้างรูปภาพ...','open-scratchpad-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','results-tab','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-topics-list-container','[data-topic-id]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','border-gray-200','reduce','comparison-individual-content','bg-blue-500\x20hover:bg-blue-600\x20text-white','bank-tab','แมวเก้าชีวิต','กำลังเตรียมไฟล์อ้างอิง...','ไม่สามารถโหลดข้อมูลอันดับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ค่าสัมบูรณ์','\x22\x20จำนวน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.open-bp-project-btn','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','👑\x20','\x5cge','index','default-1','parallel-test-tab','139665XkFXIt','.live-answer-btn,\x20#sync-submit-btn','confirm-team-players-btn','#view-rankings-btn','file-upload-input','\x20คนที่ส่ง\x20ตอบถูก\x20(','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','additional-file-shortcuts-list','showAnswerInAnonymous','คณิตศาสตร์','leaderboard-quiz-tab-content','ฟังก์ชันยกกำลัง','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','.quiz-bank-parallel-btn','isFinished','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','error','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','</th>','.parallel-quiz-btn','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<button\x20id=\x22open-market-btn\x22\x20class=\x22','buyTime','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','itemId','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-manual-bp-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','additional-parallel-shortcuts-list','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20',';\x22\x20data-id=\x22','circ','ข้อต่อไป','86681bxJOCA','team-player-status-grid','ความน่าจะเป็นแบบมีเงื่อนไข','ยืนยันการจับคู่','.edit-shortcut-btn','text-tab','เพนกวินไฟ','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p></div>','unshift','tfrac','ลำดับเรขาคณิต\x20(GP)','text-indigo-600','กรุณาเลือกคำตอบของกลุ่ม','fa-crown\x20text-yellow-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','contentEditable','ondragstart','Failed\x20to\x20generate\x20practice\x20test:','some','.kick-player-btn-sync','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','กลุ่มของคุณ','หมาป่าเดียวดาย','bg-red-50','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','ไม่ได้ตอบ','><span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span></button><button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','exists','bg-blue-100','reference.pdf','</p>','content','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','cancel-quiz-bank-btn','STRING',':</span><span>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-generation-area','ปริพันธ์จำกัด','ลบผลการสอบ\x20','results-table','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','$$$1$','show-in-student-dashboard-checkbox','input[name=\x22syncVariant\x22][value=\x22','currentTarget','<tr\x20class=\x22','ref','#F59E0B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','px,\x20','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','ท็อปฟอร์ม','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','การหาร','destination','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','เกิดข้อผิดพลาดในการโหลดโปรเจค','.duplicate-quiz-btn','text-emerald-800','data','slowResponderCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20mt-2\x20opacity-90\x20font-medium\x20bg-black/20\x20inline-block\x20px-3\x20py-1\x20rounded-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20รีบตอบหน่อยจ้า!\x20เพื่อนรออยู่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x5capprox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching_item','ไม่พบโปรเจค','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช้\x20\x22คำสาป\x22\x20กับ\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','powerupUsed','generated-quiz-actions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numQuestions','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x20backdrop-blur-sm\x20border\x20border-white/10\x20shadow-sm\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','คำถาม...','topic_','\x20mx-1\x20text-lg\x22></i></span>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','parseInline','Error\x20pairing\x20quizzes:','\x20กลุ่ม</p></div>','rgba(255,\x20255,\x200,\x200.5)','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','พบข้อสอบ\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','%PDF','.tab-name-display','confirm-create-project-btn','bg-[#4ADE80]\x20text-green-900\x20font-bold','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Error\x20fetching\x20quiz\x20settings:','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','สร้างคำถามแบบเติมคำในช่องว่าง','md:col-span-1','open-quiz-bank-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','lesson-view-content','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','market-item-list','curriculum','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','learningGaps','textAlign','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','กำลังเตรียมไฟล์...','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','groups.','text-blue-800','workerSrc','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20lesson\x20content:','name_desc','เกิดข้อผิดพลาดในการลบหัวข้อ','เกิดข้อผิดพลาดในการส่งคำตอบ','ม้าดีดกะโหลก','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','blur','#10B981','1:274192258111:web:4120c9118229b5644dd48a','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20text-gray-700\x22>','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','.csv','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-duration-input','💰\x20โหมดเดิมพันทำงานอยู่!','floor','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','devicePixelRatio','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','type','.group\x5c/dropdown','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','qType','เกิดข้อผิดพลาดในการบันทึกลำดับ','ไม่พบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-mode-select','<option\x20value=\x22','คู่จิ้น','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','file-topic-input','createObjectURL','style','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22order-badge\x20bg-indigo-600\x20text-white\x20text-xs\x20font-bold\x20px-2\x20py-1\x20rounded-full\x20hidden\x20shadow-sm\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','2-digit','image/png','isAdaptive','close-additional-parallel-shortcuts-btn','\x20ตัวเลือก)','#FFFFFF','ทฤษฎีทวินาม\x20(เบื้องต้น)','size',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','0\x200','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','answered','.generate-content-btn','ป่าไม้','additional-shortcuts-list','standard','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','autoTable','กรุณาใส่ชื่อโปรเจค','firstScore','strength-weakness-analysis-container','Group\x20Mode','ซามูไรสายเดี่ยว','คนดีศรีสยาม','undefined','file-shortcut-editor-modal','cancel-global-activity-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTestId','justification','\x22\x20สำเร็จ!','screen','numPages','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','offsetWidth','.edit-question-btn','เกิดข้อผิดพลาด','short','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','execCommand','practiceProblems','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','ดวงดาว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','.game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.buy-item-btn','results-display-select','presentation-scratchpad-btn','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','shortcut-blueprint-url-input','</option>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x20หัวข้อ)','powerupUsed_q','document','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','bg-green-50','ถูก','bg-yellow-300\x20text-yellow-900\x20font-bold','ไม่ผ่าน','พิมพ์ตอบ','.ai-fix-formula-btn','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','live-game','cancel-admin-login-btn','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','แบบทดสอบฝึกฝนเรื่อง:\x20','\x20mb-2\x22>','powerup','addEventListener','print','\x5cfrac{$1}{$2}','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>','export-leaderboard-word-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','comparison','typesetPromise','shortcutTabs','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','link-topic-input','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','shortcuts','ผ่าน','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','ดีมาก','publicLeaderboard','bulk-confidence-scoring-checkbox','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','กำลังสร้างบทเรียน:\x20','close','student-list','project-list','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎสำคัญ\x20(Critical):\x20สำหรับสูตรคณิตศาสตร์\x20(LaTeX)\x20ต้องใช้\x20Double\x20Backslash\x20(\x5c\x5c)\x20นำหน้าคำสั่งเสมอ\x20เช่น\x20\x5c\x5ctimes,\x20\x5c\x5cpi,\x20\x5c\x5cfrac,\x20\x5c\x5csqrt\x20เพื่อป้องกันความผิดพลาดในการอ่านไฟล์\x20JSON**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','หมีขั้วโลกใต้','keys','originalTopic','mousemove','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','shortcut-tabs-nav','-9999px','authed_project_','leaderboard_','รายงานผลคะแนน','Error\x20preparing\x20content\x20quiz:','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','rgba(79,\x2070,\x20229,\x200.8)','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','Save\x20complete\x20(Optimized\x20Read)','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','correctResponse','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','replace','confirm-not-confident','N/A','global-quiz-search-input','ยกเลิกการเชื่อมโยงสำเร็จ','Failed\x20to\x20create/update\x20submission\x20record:','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกคำตอบ','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','insurance','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i><span>เวลาโบนัสทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p></div>','ลบผลสอบของ\x20','parallel-shortcut-name-input','\x20mr-2\x22></i>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','Error\x20in\x20generating\x20from\x20files:','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22switch-responder-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20text-sm\x20font-semibold\x20px-3\x20py-2\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20transition-all\x20border\x20border-white/30\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x22></i>\x20เปลี่ยน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','text','ภูเขา','slice','classWeaknesses','file-shortcut-url-input','.start-game-btn','ส่งแล้ว','scratchpad-options','parallel-shortcut-editor-modal','upperGroupResponders','confident','scratchpad-controls','input[type=\x22text\x22]','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','POST','rgba(79,\x2070,\x20229,\x201)','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x22\x20data-quiz-id=\x22','Error\x20joining\x20team\x20quiz:','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','submit-team-answer-btn','100px','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','fa-pen','.remove-file-shortcut-from-tab-btn'];_0x1832=function(){return _0x572edf;};return _0x1832();}function renderFullQuizForm(){const _0x14a692=_0x4a01bc,_0x2a6eb6=currentDisplayedQuiz[_0x14a692(0xf0c)]?.['isConfidenceScoringEnabled']===!![],_0xab45b3=currentDisplayedQuiz[_0x14a692(0xf0c)]?.['confidenceMode']||'checkbox';let _0x384e1b=![],_0x370b3e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x14a692(0x79a)+(currentMode===_0x14a692(0x233)?_0x14a692(0x65e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x14a692(0x3ef)][_0x14a692(0x427)]((_0x3aef85,_0x2b467d)=>{const _0x3d224f=_0x14a692,_0x39dca4=_0x3aef85[_0x3d224f(0x7ed)]||currentDisplayedQuiz[_0x3d224f(0x335)],_0x4f894e='z-index:\x20'+(0x64-_0x2b467d)+';';_0x39dca4===_0x3d224f(0xd13)&&!_0x384e1b&&(_0x370b3e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x384e1b=!![]);_0x370b3e+=_0x3d224f(0x8b0)+_0x4f894e+'\x22>';_0x39dca4!==_0x3d224f(0xd13)&&(_0x370b3e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(_0x2b467d+0x1)+'.\x20'+(_0x3aef85[_0x3d224f(0xefd)]||_0x3aef85['questionText'])+_0x3d224f(0x5e0)+(_0x3aef85[_0x3d224f(0x277)]?_0x3d224f(0x8c6)+_0x3aef85[_0x3d224f(0x277)]+_0x3d224f(0xbfc):'')+_0x3d224f(0x80a));_0x370b3e+=_0x3d224f(0x4ee);if(_0x39dca4==='matching_item'&&_0x3aef85[_0x3d224f(0xa5e)])_0x370b3e+=_0x3d224f(0x935)+(_0x2b467d+0x1)+_0x3d224f(0x7b3)+_0x3aef85[_0x3d224f(0x472)]+_0x3d224f(0x724)+_0x2b467d+_0x3d224f(0x5af)+_0x2b467d+_0x3d224f(0x690)+_0x2b467d+_0x3d224f(0xa86)+_0x2b467d+'\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-'+_0x2b467d+_0x3d224f(0xcf3)+_0x3aef85[_0x3d224f(0xa5e)][_0x3d224f(0x823)]((_0x1462cf,_0x128d78)=>_0x3d224f(0x872)+_0x2b467d+',\x20'+_0x128d78+_0x3d224f(0xd84)+_0x1462cf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3d224f(0x566)]('')+_0x3d224f(0x7d4);else{if(_0x39dca4===_0x3d224f(0x446))_0x370b3e+=_0x3d224f(0x9d8)+_0x2b467d+'_opt0\x22\x20name=\x22question'+_0x2b467d+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2b467d+_0x3d224f(0xa9c),_0x370b3e+=_0x3d224f(0x9d8)+_0x2b467d+_0x3d224f(0x1e8)+_0x2b467d+_0x3d224f(0xa5f)+_0x2b467d+_0x3d224f(0x60d);else _0x3aef85[_0x3d224f(0x5e9)]&&Array['isArray'](_0x3aef85['options'])&&_0x3aef85[_0x3d224f(0x5e9)][_0x3d224f(0x8ca)]>0x0?_0x370b3e+=_0x3aef85[_0x3d224f(0x5e9)][_0x3d224f(0x823)]((_0x55cd34,_0x326947)=>_0x3d224f(0x7c5)+_0x2b467d+_0x3d224f(0x630)+_0x326947+_0x3d224f(0x579)+_0x2b467d+_0x3d224f(0xecb)+_0x326947+_0x3d224f(0x832)+_0x2b467d+_0x3d224f(0x630)+_0x326947+'\x22>'+_0x55cd34+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x370b3e+=_0x3d224f(0x2a0)+_0x2b467d+_0x3d224f(0x434);}_0x370b3e+=_0x3d224f(0xbfc),_0x2a6eb6&&(_0x370b3e+=_0x3d224f(0x59b),_0xab45b3===_0x3d224f(0x8eb)?_0x370b3e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x2b467d+_0x3d224f(0x507)+_0x2b467d+'\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x2b467d+_0x3d224f(0x476)+_0x2b467d+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x370b3e+=_0x3d224f(0xc57)+_0x2b467d+_0x3d224f(0x507)+_0x2b467d+_0x3d224f(0xe1c)+_0x2b467d+_0x3d224f(0xc8a),_0x370b3e+=_0x3d224f(0xbfc)),_0x370b3e+=_0x3d224f(0xbfc);}),_0x370b3e+=_0x14a692(0xa55),_0x370b3e+=_0x14a692(0xef3),studentQuizArea[_0x14a692(0x891)]=_0x370b3e;if(currentMode==='admin-testing'){const _0x1ad70d=document['getElementById'](_0x14a692(0x8c4));if(_0x1ad70d)_0x1ad70d[_0x14a692(0xdc6)](_0x14a692(0x4ca),cancelAdminTest);}const _0x581ca3=document['getElementById'](_0x14a692(0x1d4));_0x581ca3&&(_0x581ca3[_0x14a692(0xdc6)](_0x14a692(0x377),handleSubmitQuiz),_0x581ca3[_0x14a692(0xdc6)](_0x14a692(0x4ca),_0x5f4b1a=>{const _0x24884a=_0x14a692;if(_0x5f4b1a[_0x24884a(0x6f7)]['classList']['contains'](_0x24884a(0x369))){const _0x35120f=_0x5f4b1a[_0x24884a(0x6f7)],_0x17c9dc=_0x35120f['dataset'][_0x24884a(0x683)],_0x26c401=_0x35120f[_0x24884a(0x320)][_0x24884a(0x68e)];document[_0x24884a(0x657)](_0x24884a(0x4ac)+_0x17c9dc)[_0x24884a(0x68e)]=_0x26c401;const _0x5089b6=_0x35120f[_0x24884a(0x835)];_0x5089b6['querySelectorAll'](_0x24884a(0xc1d))[_0x24884a(0x427)](_0x16f9c5=>_0x16f9c5[_0x24884a(0xb6d)]['remove'](_0x24884a(0x670))),_0x35120f[_0x24884a(0xb6d)][_0x24884a(0xa52)](_0x24884a(0x670));}})),window[_0x14a692(0x436)]&&setTimeout(()=>{const _0x5acc2a=_0x14a692;window[_0x5acc2a(0x436)]['typesetPromise']([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x54266b){const _0x4c1e8d=_0x4a01bc;if(_0x54266b)_0x54266b[_0x4c1e8d(0xd66)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2d4dd7=document[_0x4c1e8d(0x657)](_0x4c1e8d(0x1d4));if(!_0x2d4dd7)return;const _0xd855a=currentDisplayedQuiz[_0x4c1e8d(0xf0c)]?.[_0x4c1e8d(0x974)]===!![],_0x5aee99=currentDisplayedQuiz[_0x4c1e8d(0xf0c)]?.[_0x4c1e8d(0x22f)]||_0x4c1e8d(0x365);if(_0xd855a&&_0x5aee99===_0x4c1e8d(0x8eb)){let _0xfd4291=!![];for(let _0x1168b5=0x0;_0x1168b5<currentDisplayedQuiz[_0x4c1e8d(0x3ef)][_0x4c1e8d(0x8ca)];_0x1168b5++){const _0x3deee2=_0x2d4dd7[_0x4c1e8d(0x5cd)](_0x4c1e8d(0xc36)+_0x1168b5);if(!_0x3deee2||_0x3deee2[_0x4c1e8d(0x68e)]===''){_0xfd4291=![];break;}}if(!_0xfd4291){showMessage(_0x4c1e8d(0xa70));return;}}const _0x1ac2d8=_0x2d4dd7[_0x4c1e8d(0x5cd)]('button[type=\x22submit\x22]'),_0x1266af=currentDisplayedQuiz[_0x4c1e8d(0x3ef)][_0x4c1e8d(0xce0)](_0x217fde=>_0x217fde['questionType']===_0x4c1e8d(0x190));_0x1ac2d8&&(_0x1ac2d8[_0x4c1e8d(0x4b4)]=!![],_0x1ac2d8['innerHTML']=_0x1266af?_0x4c1e8d(0x911):_0x4c1e8d(0xda9));const _0xad0c5f=new FormData(_0x2d4dd7),_0xb04bed=currentDisplayedQuiz[_0x4c1e8d(0x3ef)][_0x4c1e8d(0x823)]((_0x39722a,_0x4e449d)=>{const _0xc9ac25=_0x4c1e8d,_0x2417ac=_0xad0c5f[_0xc9ac25(0x3b1)]('question'+_0x4e449d);let _0x4269c8;_0x5aee99==='mandatory'?_0x4269c8=_0xad0c5f[_0xc9ac25(0x3b1)](_0xc9ac25(0x89e)+_0x4e449d):_0x4269c8=_0xad0c5f[_0xc9ac25(0x3b1)](_0xc9ac25(0x89e)+_0x4e449d)==='on';let _0x591e97=null;if(_0x2417ac!==null&&_0x2417ac!==undefined){const _0x11ea06=_0x39722a[_0xc9ac25(0x7ed)]||currentDisplayedQuiz[_0xc9ac25(0x335)];_0x11ea06===_0xc9ac25(0xa7c)||_0x11ea06==='fill_in_the_blank'?_0x591e97=parseInt(_0x2417ac):_0x591e97=_0x2417ac;}return{'answer':_0x591e97,'wasConfident':_0x4269c8};}),_0xf55a06=currentQuizData['id'],_0x3ee8b2=doc(db,_0x4c1e8d(0x4b1)+appId+'/public/data/quizzes/'+_0xf55a06+_0x4c1e8d(0x411),currentStudentName),_0x1044e2=await getDoc(_0x3ee8b2),_0x5508f0=_0x1044e2['exists']()?_0x1044e2[_0x4c1e8d(0xd0c)]():{},_0x4b9fc5=_0x5508f0[_0x4c1e8d(0x469)]||[];await processAndSubmitAnswers(_0xb04bed,_0x4b9fc5);}async function gradeShortAnswerWithAI(_0x353804,_0x3773c4){const _0x5a8426=_0x4a01bc;if(!_0x353804||!_0x3773c4)return![];try{const _0x4da8c8=_0x5a8426(0x2c5)+_0x353804+_0x5a8426(0x57e)+_0x3773c4+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x449f85={'contents':[{'role':_0x5a8426(0x53c),'parts':[{'text':_0x4da8c8}]}]},_0x514738=_0x5a8426(0x20f),_0x265be1=_0x5a8426(0xa3a)+_0x514738,_0x2c8028=await fetch(_0x265be1,{'method':_0x5a8426(0xe17),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5a8426(0x7ba)](_0x449f85)});if(!_0x2c8028['ok'])throw new Error(_0x5a8426(0xa2b));const _0x26b1bb=await _0x2c8028['json'](),_0x18a350=_0x26b1bb[_0x5a8426(0xa8d)][0x0]['content'][_0x5a8426(0x5d5)][0x0][_0x5a8426(0xe09)][_0x5a8426(0x5b2)]()[_0x5a8426(0x2c0)]();return _0x18a350==='true';}catch(_0x3f79e1){return console[_0x5a8426(0xcb6)](_0x5a8426(0x4e1),_0x3f79e1),![];}}async function processAndSubmitAnswers(_0x45d734,_0x5aad1e){const _0x487221=_0x4a01bc;releaseWakeLock(),stopDimTimer();try{document['fullscreenElement']&&await document[_0x487221(0xb30)]();}catch(_0x39998a){console[_0x487221(0x60c)](_0x487221(0xc75),_0x39998a);}isQuizActive=![],document[_0x487221(0xb77)](_0x487221(0x29c),handleFullscreenChange),document['removeEventListener'](_0x487221(0x4a0),handleVisibilityChange);let _0x269cd9=0x0;const _0x4474c5=[],_0x29e885=currentDisplayedQuiz[_0x487221(0x3ef)][_0x487221(0x8ca)];let _0x2f0a32=0x0,_0x22997b=[];const _0x77b4b7=currentDisplayedQuiz[_0x487221(0x3ef)];for(let _0x5e8fe9=0x0;_0x5e8fe9<_0x77b4b7[_0x487221(0x8ca)];_0x5e8fe9++){const _0x527480=_0x77b4b7[_0x5e8fe9],_0x5a8026=_0x45d734[_0x5e8fe9],_0x1d530d=_0x5a8026?_0x5a8026[_0x487221(0x457)]:null,_0x1eb961=_0x5a8026?_0x5a8026['wasConfident']:null;let _0x3b917b=![],_0x27d06b=0x0;if(_0x1d530d!==null&&_0x1d530d!==''){const _0x21119d=_0x527480['questionType']||currentDisplayedQuiz[_0x487221(0x335)];switch(_0x21119d){case _0x487221(0xd13):_0x3b917b=_0x1d530d===_0x527480['correctResponse'];break;case _0x487221(0x446):const _0x3a1a48=_0x1d530d===!![]||_0x1d530d===_0x487221(0x804);_0x3b917b=_0x3a1a48===_0x527480[_0x487221(0x315)];break;case _0x487221(0x467):case _0x487221(0x190):_0x3b917b=await gradeShortAnswer(_0x1d530d,_0x527480);break;case _0x487221(0xa7c):case _0x487221(0xbe6):default:_0x3b917b=Number(_0x1d530d)===_0x527480['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x487221(0xf0c)]?.['isConfidenceScoringEnabled']){const _0x1457aa=_0x5a8026?_0x5a8026['wasConfident']:null;if(_0x3b917b&&(_0x1457aa===!![]||_0x1457aa===_0x487221(0xe13)))_0x27d06b=0x2;else{if(_0x3b917b)_0x27d06b=0x1;else{if(!_0x3b917b&&(_0x1457aa===![]||_0x1457aa==='not_confident'||_0x1457aa===null))_0x27d06b=0x0;else!_0x3b917b&&(_0x1457aa===!![]||_0x1457aa===_0x487221(0xe13))&&(_0x27d06b=-0x1);}}}else _0x27d06b=_0x3b917b?0x1:0x0;_0x269cd9+=_0x27d06b;if(_0x3b917b){_0x2f0a32++;if(_0x2f0a32===0x3)_0x22997b[_0x487221(0xe7d)](BADGES[_0x487221(0x8d6)]['id']);}else _0x2f0a32=0x0;let _0x286adf=null;_0x527480['options']&&(_0x527480[_0x487221(0x7ed)]===_0x487221(0xa7c)||_0x527480[_0x487221(0x7ed)]===_0x487221(0xbe6))&&_0x1d530d!==null?_0x286adf=_0x527480['options'][_0x1d530d]:_0x286adf=_0x1d530d,_0x4474c5[_0x487221(0xe7d)]({'questionId':_0x527480['id'],'answer':_0x1d530d,'answerText':_0x286adf,'isCorrect':_0x3b917b,'wasConfident':_0x1eb961,'pointsAwarded':_0x27d06b,'originalQuestionText':_0x527480['stem']||_0x527480[_0x487221(0xbf2)]});}const _0x3cae86=_0x4474c5['filter'](_0xf91bfb=>_0xf91bfb[_0x487221(0x41b)])['length'],_0x2b2699=currentDisplayedQuiz[_0x487221(0xf0c)]?.[_0x487221(0x606)]??Math[_0x487221(0xd62)](_0x29e885/0x2);_0x3cae86===_0x29e885&&_0x29e885>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x22997b[_0x487221(0xe7d)](BADGES[_0x487221(0x620)]['id']);const _0x272521=currentDisplayedQuiz[_0x487221(0xf0c)]?.[_0x487221(0xc54)];if(_0x272521===_0x487221(0x8ea)&&quizStartTime){const _0x547cc6=(new Date()-quizStartTime)/0x3e8,_0x37c614=currentDisplayedQuiz['settings'][_0x487221(0x5c4)]*0x3c;_0x3cae86>=_0x2b2699&&_0x547cc6<_0x37c614/0x2&&_0x22997b[_0x487221(0xe7d)](BADGES[_0x487221(0x2d2)]['id']);}_0x5aad1e['length']===0x0&&_0x3cae86===_0x29e885&&_0x29e885>0x0&&_0x22997b[_0x487221(0xe7d)](BADGES['FIRST_TRY_ACE']['id']);if(_0x5aad1e[_0x487221(0x8ca)]>0x0){const _0x5615be=_0x5aad1e[0x0][_0x487221(0x43c)];if(_0x5615be<_0x2b2699&&_0x3cae86>=_0x2b2699){const _0x1dc1fc=_0x5aad1e[_0x487221(0xce0)](_0x499450=>(_0x499450[_0x487221(0x485)]||[])[_0x487221(0x484)](BADGES[_0x487221(0x382)]['id']));!_0x1dc1fc&&_0x22997b[_0x487221(0xe7d)](BADGES[_0x487221(0x382)]['id']);}}_0x5aad1e[_0x487221(0x8ca)]===0x4&&_0x22997b[_0x487221(0xe7d)](BADGES[_0x487221(0x273)]['id']);const _0x1f7c7d=currentDisplayedQuiz[_0x487221(0xf0c)][_0x487221(0x69c)];if(currentMode===_0x487221(0x233)){handleResultDisplay(_0x1f7c7d,_0x3cae86,_0x269cd9,_0x22997b,_0x4474c5,_0x29e885);return;}const _0x3e99dd=currentQuizData['id'],_0x535c30=doc(db,_0x487221(0x4b1)+appId+_0x487221(0xb20)+_0x3e99dd+_0x487221(0x411),currentStudentName);try{const _0x665e5e=[..._0x5aad1e],_0x4ce1c2={'score':_0x3cae86,'points':_0x269cd9,'badges':Array['from'](new Set(_0x22997b)),'submittedAt':new Date()[_0x487221(0xeca)](),'answers':_0x4474c5};_0x665e5e['push'](_0x4ce1c2);const _0x5332a8=_0x5aad1e['length']===0x0?_0x3cae86:_0x5aad1e[0x0][_0x487221(0x43c)]||0x0,_0x5075c9=Math[_0x487221(0xf23)](..._0x665e5e[_0x487221(0x823)](_0x51d397=>_0x51d397['score']));await setDoc(_0x535c30,{'studentName':currentStudentName,'totalQuestions':_0x29e885,'attempts':_0x665e5e,'firstScore':_0x5332a8,'bestScore':_0x5075c9,'latestScore':_0x3cae86,'points':_0x269cd9,'latestSubmittedAt':_0x4ce1c2[_0x487221(0x884)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x487221(0x401)],currentStudentName),handleResultDisplay(_0x1f7c7d,_0x3cae86,_0x269cd9,_0x22997b,_0x4474c5,_0x29e885);}catch(_0x40c3a0){console[_0x487221(0xcb6)]('Error\x20saving\x20submission:',_0x40c3a0),showMessage(_0x487221(0xf22));}}async function updateStudentProfile(_0x2bb11b,_0x62f7a0){const _0x3c71ff=_0x4a01bc,_0x42d97e=doc(db,_0x3c71ff(0x4b1)+appId+_0x3c71ff(0x53e)+_0x2bb11b+'/studentProfiles',_0x62f7a0);try{const _0x482e99=query(collection(db,_0x3c71ff(0x4b1)+appId+'/public/data/quizzes'),where(_0x3c71ff(0x401),'==',_0x2bb11b)),_0x1ee2b2=await getDocs(_0x482e99),_0x1b1bcf=_0x1ee2b2[_0x3c71ff(0xb70)][_0x3c71ff(0x823)](_0x51d9ac=>_0x51d9ac['id']);let _0x1f7585=0x0;const _0x42c3fe={},_0x857475=_0x1b1bcf[_0x3c71ff(0x823)](_0x56fc20=>getDoc(doc(db,'artifacts/'+appId+_0x3c71ff(0xb20)+_0x56fc20+_0x3c71ff(0x411),_0x62f7a0))),_0x504bf2=await Promise['all'](_0x857475);_0x504bf2[_0x3c71ff(0x427)](_0x5cd8dc=>{const _0x2f52b3=_0x3c71ff;if(_0x5cd8dc[_0x2f52b3(0xce9)]()){const _0xcc44ac=_0x5cd8dc[_0x2f52b3(0xd0c)]();_0x1f7585+=_0xcc44ac['points']||0x0,_0xcc44ac['attempts']&&_0xcc44ac[_0x2f52b3(0x469)]['forEach'](_0x405e4a=>{const _0x45fa26=_0x2f52b3;_0x405e4a['badges']&&_0x405e4a[_0x45fa26(0x485)]['forEach'](_0x5871f4=>{});});}}),await setDoc(_0x42d97e,{'studentName':_0x62f7a0,'totalPoints':_0x1f7585},{'merge':!![]});}catch(_0x3e6388){console[_0x3c71ff(0xcb6)](_0x3c71ff(0xbfa),_0x3e6388);}}function startAdminTest(){const _0x9c20cb=_0x4a01bc;if(!currentQuizData){showMessage(_0x9c20cb(0xc65));return;}let _0x35d5d4=JSON[_0x9c20cb(0xf3e)](JSON[_0x9c20cb(0x7ba)](currentQuizData));currentMode=_0x9c20cb(0x233),currentStudentName=_0x9c20cb(0x2e3),adminView[_0x9c20cb(0xb6d)][_0x9c20cb(0xa52)](_0x9c20cb(0x599)),studentView[_0x9c20cb(0xb6d)][_0x9c20cb(0x66f)](_0x9c20cb(0x599)),studentInitialView['classList'][_0x9c20cb(0xa52)]('hidden'),studentNameSelectionView[_0x9c20cb(0xb6d)]['add'](_0x9c20cb(0x599)),studentResultArea['classList'][_0x9c20cb(0xa52)](_0x9c20cb(0x599)),studentQuizArea['classList'][_0x9c20cb(0x66f)](_0x9c20cb(0x599)),quizStartTime=new Date(),displayQuizForStudent(_0x35d5d4);}function handleResultDisplay(_0x1498c3,_0x54e8bb,_0x24a56f,_0x539deb,_0x4a986e,_0x137078){const _0x4a10d8=_0x4a01bc;if(_0x1498c3===_0x4a10d8(0x74e)){displaySubmissionConfirmation();return;}const _0x115bce=currentDisplayedQuiz[_0x4a10d8(0xf0c)]?.[_0x4a10d8(0x606)]??Math[_0x4a10d8(0xd62)](_0x137078/0x2),_0x4159d7=currentDisplayedQuiz[_0x4a10d8(0xf0c)]?.[_0x4a10d8(0xd7e)]??![],_0xa5e04b=currentDisplayedQuiz['settings']?.[_0x4a10d8(0x792)]===!![],_0x5a7530=_0x54e8bb<_0x115bce,_0x158f4c=_0x1498c3===_0x4a10d8(0xe8a)||_0x1498c3===_0x4a10d8(0x28d);if(_0xa5e04b&&_0x5a7530&&!_0x158f4c){_0x1498c3==='show_results_and_answers'?displayResultsWithAnswers(_0x54e8bb,_0x24a56f,_0x539deb,_0x4a986e,_0x137078,!![]):displayLoopScreen(_0x54e8bb,_0x137078,_0x1498c3);return;}if(_0x4159d7&&_0x5a7530){startAdaptiveFlow(_0x4a986e,_0x54e8bb,_0x137078);return;}switch(_0x1498c3){case'show_results_and_answers':displayResultsWithAnswers(_0x54e8bb,_0x24a56f,_0x539deb,_0x4a986e,_0x137078);break;case'show_results_only':displayResultsScoreOnly(_0x54e8bb,_0x24a56f,_0x539deb,_0x137078);break;case _0x4a10d8(0x5c9):displayPassFailOnly(_0x54e8bb,_0x137078);break;case _0x4a10d8(0xe8a):displayHalfMarkResult(_0x54e8bb,_0x137078);break;case'perfect_score_status':displayPerfectScoreResult(_0x54e8bb,_0x137078);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x49aef3){const _0x149ac4=_0x4a01bc;studentReadingArea[_0x149ac4(0x891)]=_0x149ac4(0x9cd);const _0x83ef64=_0x149ac4(0x1e5)+_0x49aef3+_0x149ac4(0x852)+simpleMathPrompt+_0x149ac4(0xf20),_0x56b63d={'type':_0x149ac4(0x73e),'properties':{'questionText':{'type':_0x149ac4(0xcf1)},'options':{'type':'ARRAY','items':{'type':_0x149ac4(0xcf1)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x149ac4(0xcf1)}},'required':[_0x149ac4(0xbf2),_0x149ac4(0x5e9),'correctAnswerIndex',_0x149ac4(0xa6b)]},_0x8f1810={'type':_0x149ac4(0x73e),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x56b63d}},'required':[_0x149ac4(0xb1c),_0x149ac4(0x3ef)]};try{const _0x56001a=await callAnalysisApi(_0x83ef64,_0x8f1810);_0x56001a['isRemedial']=!![],studentReadingArea[_0x149ac4(0xb6d)][_0x149ac4(0xa52)](_0x149ac4(0x599));const _0x5b9c3d={...currentDisplayedQuiz[_0x149ac4(0xf0c)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x56001a['settings']=_0x5b9c3d,displayQuizForStudent(_0x56001a);}catch(_0x1ddac0){console[_0x149ac4(0xcb6)]('Remedial\x20quiz\x20generation\x20failed:',_0x1ddac0),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x149ac4(0x6c5));}}function displayPassFailOnly(_0x1ab9b7,_0x5cc735){const _0x19a440=_0x4a01bc,_0x5a90e7=currentDisplayedQuiz[_0x19a440(0xf0c)]?.['passingScore']??-0x1,_0x1f08fc=currentDisplayedQuiz[_0x19a440(0x6ac)]===!![];let _0x4edcd7='',_0x5132d3=![];if(_0x1f08fc||_0x5a90e7!==-0x1){_0x5132d3=_0x1f08fc?_0x1ab9b7===_0x5cc735:_0x1ab9b7>=_0x5a90e7;const _0x460fc4=_0x5132d3?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x287322=_0x5132d3?'ผ่าน':_0x19a440(0xdba);_0x4edcd7='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x460fc4+'\x22>'+_0x287322+'</span></div>';}else _0x4edcd7='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x4ec4ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x19a440(0xae0)+_0x4edcd7+_0x19a440(0x304);studentResultArea['innerHTML']=_0x4ec4ff,studentResultArea['classList'][_0x19a440(0x66f)](_0x19a440(0x599)),studentQuizArea[_0x19a440(0xb6d)][_0x19a440(0xa52)](_0x19a440(0x599)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5132d3});}function cancelAdminTest(){const _0x391a94=_0x4a01bc;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x391a94(0x29c),handleFullscreenChange),document['removeEventListener'](_0x391a94(0x4a0),handleVisibilityChange),currentMode=_0x391a94(0xf2b),studentView[_0x391a94(0xb6d)][_0x391a94(0xa52)](_0x391a94(0x599)),adminView[_0x391a94(0xb6d)][_0x391a94(0x66f)](_0x391a94(0x599)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x34eb02){const _0x1c734a=_0x4a01bc,_0x1f09cc={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x34eb02};if(_0x1f09cc[_0x1c734a(0x9d7)]){const _0x267e3b=_0x1c734a(0x701);studentResultArea[_0x1c734a(0xc14)](_0x1c734a(0x494),_0x267e3b),document['getElementById'](_0x1c734a(0xa73))['addEventListener'](_0x1c734a(0x4ca),()=>{const _0x217c65=_0x1c734a;studentResultArea[_0x217c65(0xb6d)][_0x217c65(0xa52)](_0x217c65(0x599)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1ba2dd='back-from-results-btn',_0x19148f=currentMode===_0x1c734a(0x233),_0x8b246d=_0x19148f?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x211c7c='';_0x1f09cc[_0x1c734a(0x797)]&&(_0x211c7c+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x12e77c=_0x1f09cc[_0x1c734a(0x775)];_0x12e77c===undefined&&(_0x12e77c=_0x1f09cc[_0x1c734a(0x43c)]<_0x1f09cc[_0x1c734a(0xb37)]);_0x12e77c&&(_0x211c7c+=_0x1c734a(0x4e6));_0x211c7c+=_0x1c734a(0xa5d)+_0x1ba2dd+_0x1c734a(0xd22)+_0x8b246d+_0x1c734a(0x85b);const _0x3a2285=_0x1c734a(0xa69)+_0x211c7c+_0x1c734a(0xbfc);studentResultArea[_0x1c734a(0xc14)](_0x1c734a(0x494),_0x3a2285),studentResultArea[_0x1c734a(0x5cd)](_0x1c734a(0xca7))?.['addEventListener'](_0x1c734a(0x4ca),handleShowStudentRankings);const _0x8c293=studentResultArea[_0x1c734a(0x5cd)](_0x1c734a(0x9af));_0x8c293&&_0x8c293['addEventListener'](_0x1c734a(0x4ca),()=>{const _0x502257=_0x1c734a;studentResultArea[_0x502257(0xb6d)][_0x502257(0xa52)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1c734a(0x657)](_0x1ba2dd)[_0x1c734a(0xdc6)](_0x1c734a(0x4ca),()=>{const _0x15c1e6=_0x1c734a;_0x19148f?(currentMode=_0x15c1e6(0xf2b),studentView[_0x15c1e6(0xb6d)][_0x15c1e6(0xa52)](_0x15c1e6(0x599)),adminView[_0x15c1e6(0xb6d)]['remove'](_0x15c1e6(0x599)),showView('project-detail')):(showView(_0x15c1e6(0x6c5)),document[_0x15c1e6(0x657)](_0x15c1e6(0x857))[_0x15c1e6(0x68e)]='');});}function displayResultsWithAnswers(_0x59216a,_0x6d5f99,_0x25ab2d,_0x454cfe,_0x1a9e93,_0x31f085=![]){const _0xf28e5b=_0x4a01bc,_0x36cd1c=_0x1a9e93>0x0?_0x59216a/_0x1a9e93*0x64:0x0,_0x4277c1=currentDisplayedQuiz[_0xf28e5b(0xf0c)]?.['passingScore']??-0x1,_0x2881b5=currentDisplayedQuiz[_0xf28e5b(0x6ac)]===!![];let _0x3e015b='';if(_0x2881b5||_0x4277c1!==-0x1){let _0x143054=_0x2881b5?_0x59216a===_0x1a9e93:_0x59216a>=_0x4277c1;const _0x5c27c6=_0x143054?_0xf28e5b(0xbf4):'bg-red-100\x20text-red-800',_0x7cdcec=_0x143054?_0xf28e5b(0xdd4):_0xf28e5b(0xdba);_0x3e015b=_0xf28e5b(0x78e)+_0x5c27c6+'\x22>'+_0x7cdcec+_0xf28e5b(0xcec);}let _0x92ed3f=_0xf28e5b(0xefa)+currentStudentName+_0xf28e5b(0x55a)+_0x59216a+_0xf28e5b(0xf3a)+_0x1a9e93+_0xf28e5b(0x3e3)+_0x3e015b+_0xf28e5b(0x88f)+_0x6d5f99+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x36cd1c[_0xf28e5b(0xb05)](0x0)+_0xf28e5b(0x824);currentDisplayedQuiz[_0xf28e5b(0x3ef)]['forEach']((_0x448c1a,_0x55d14e)=>{const _0xc5921d=_0xf28e5b,_0x2be460=_0x454cfe[_0x55d14e],_0x5784c6=_0x2be460[_0xc5921d(0x457)],_0x2871d6=_0x2be460[_0xc5921d(0x41b)],_0x47c618=_0x448c1a[_0xc5921d(0x7ed)]||currentDisplayedQuiz['quizType'];_0x92ed3f+=_0xc5921d(0x6d2)+(_0x2871d6?_0xc5921d(0x4a5):'border-red-300\x20bg-red-50')+_0xc5921d(0x542)+(_0x55d14e+0x1)+'.\x20'+(_0x448c1a[_0xc5921d(0x472)]||_0x448c1a[_0xc5921d(0xbf2)])+_0xc5921d(0xd27);switch(_0x47c618){case _0xc5921d(0xd13):const _0x3e0d57=_0x5784c6||_0xc5921d(0xce7),_0x4cae8e=_0x448c1a[_0xc5921d(0xdf0)];_0x92ed3f+=_0xc5921d(0x2be)+(!_0x2871d6?_0xc5921d(0x23e):'')+'\x22>'+_0x3e0d57+_0xc5921d(0xa46);!_0x2871d6&&(_0x92ed3f+=_0xc5921d(0x38f)+_0x4cae8e+'</p>');break;case _0xc5921d(0x467):case'short_answer':_0x92ed3f+=_0xc5921d(0xd1e)+(_0x5784c6||'ไม่ได้ตอบ')+_0xc5921d(0xcec),_0x92ed3f+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x448c1a[_0xc5921d(0x9c1)]+_0xc5921d(0xcec);break;case'true_false':_0x92ed3f+=_0xc5921d(0x2d8)+(_0x448c1a[_0xc5921d(0x315)]===!![]?_0xc5921d(0x6cc):'')+'\x20'+(_0x5784c6===_0xc5921d(0x804)&&!_0x2871d6?_0xc5921d(0x23e):'')+_0xc5921d(0x501),_0x92ed3f+=_0xc5921d(0x2d8)+(_0x448c1a[_0xc5921d(0x315)]===![]?_0xc5921d(0x6cc):'')+'\x20'+(_0x5784c6==='false'&&!_0x2871d6?'line-through\x20text-red-700':'')+_0xc5921d(0x547);break;case'multiple_choice':case _0xc5921d(0xbe6):default:if(_0x448c1a[_0xc5921d(0x5e9)]&&Array[_0xc5921d(0x94e)](_0x448c1a['options']))_0x92ed3f+=_0x448c1a[_0xc5921d(0x5e9)][_0xc5921d(0x823)]((_0x211f35,_0x156c69)=>{const _0x1ead0a=_0xc5921d;let _0x15c4b7='',_0x316ad5='';if(_0x156c69===_0x448c1a[_0x1ead0a(0xf16)])_0x15c4b7=_0x1ead0a(0x6cc),_0x316ad5='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x156c69===_0x5784c6&&(_0x15c4b7=_0x1ead0a(0x800),_0x316ad5=_0x1ead0a(0x761));return _0x1ead0a(0xa61)+_0x15c4b7+'\x22>'+_0x316ad5+_0x211f35+_0x1ead0a(0xbfc);})[_0xc5921d(0x566)]('');else{_0x92ed3f+=_0xc5921d(0xd1e)+(_0x5784c6||_0xc5921d(0xce7))+_0xc5921d(0xcec);if(!_0x2871d6)_0x92ed3f+=_0xc5921d(0xd87);}break;}_0x92ed3f+=_0xc5921d(0xdd0)+(_0x448c1a[_0xc5921d(0xa6b)]||_0xc5921d(0xe57))+_0xc5921d(0xbfc);if(!_0x2871d6){const _0x5df22c=_0x448c1a[_0xc5921d(0x472)]||_0x448c1a[_0xc5921d(0xbf2)];_0x92ed3f+=_0xc5921d(0x43b)+escape(_0x5df22c)+_0xc5921d(0x64f);}_0x92ed3f+=_0xc5921d(0xbfc);}),studentResultArea[_0xf28e5b(0x891)]=_0x92ed3f,renderEarnedBadges(_0x25ab2d,'earned-badges-container'),studentResultArea[_0xf28e5b(0xb6d)]['remove']('hidden'),studentQuizArea['classList'][_0xf28e5b(0xa52)](_0xf28e5b(0x599)),setupResultScreenBackButton({'isLooping':_0x31f085,'score':_0x59216a,'totalQuestions':_0x1a9e93,'showRankings':!![]});if(window[_0xf28e5b(0x436)])window[_0xf28e5b(0x436)][_0xf28e5b(0xdce)]([studentResultArea]);}function displayResultsScoreOnly(_0x53fd64,_0x5e64ee,_0x1e1d8c,_0x11412f){const _0x3ba749=_0x4a01bc,_0xb6aaca=_0x11412f>0x0?_0x53fd64/_0x11412f*0x64:0x0,_0x4837d8=currentDisplayedQuiz[_0x3ba749(0xf0c)]?.[_0x3ba749(0x606)]??-0x1,_0x541be3=currentDisplayedQuiz['isRemedial']===!![];let _0x2e4fbc='';if(_0x541be3||_0x4837d8!==-0x1){let _0x220508=_0x541be3?_0x53fd64===_0x11412f:_0x53fd64>=_0x4837d8;const _0x387b95=_0x220508?_0x3ba749(0xbf4):_0x3ba749(0x4e8),_0x4f78c5=_0x220508?_0x3ba749(0xdd4):'ไม่ผ่าน';_0x2e4fbc=_0x3ba749(0x78e)+_0x387b95+'\x22>'+_0x4f78c5+'</p>';}let _0x22421e=_0x3ba749(0xbed)+currentStudentName+_0x3ba749(0x9dc)+_0x53fd64+_0x3ba749(0x1bb)+_0x11412f+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e4fbc+_0x3ba749(0x88f)+_0x5e64ee+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0xb6aaca['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3ba749(0x891)]=_0x22421e,renderEarnedBadges(_0x1e1d8c,_0x3ba749(0xb69)),studentResultArea[_0x3ba749(0xb6d)][_0x3ba749(0x66f)](_0x3ba749(0x599)),studentQuizArea[_0x3ba749(0xb6d)]['add'](_0x3ba749(0x599)),setupResultScreenBackButton({'score':_0x53fd64,'totalQuestions':_0x11412f,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x57a1ef=_0x4a01bc;let _0x51e41b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x57a1ef(0x920);studentResultArea[_0x57a1ef(0x891)]=_0x51e41b,studentResultArea['classList'][_0x57a1ef(0x66f)]('hidden'),studentQuizArea['classList']['add'](_0x57a1ef(0x599)),document['getElementById'](_0x57a1ef(0x741))[_0x57a1ef(0xdc6)](_0x57a1ef(0x4ca),()=>{const _0x31dbaf=_0x57a1ef;showView(_0x31dbaf(0x6c5)),document['getElementById']('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x5e95e8,_0x425128){const _0x2e41b5=_0x4a01bc,_0x433c9b=document[_0x2e41b5(0x657)](_0x425128);if(!_0x433c9b||!_0x5e95e8||_0x5e95e8[_0x2e41b5(0x8ca)]===0x0)return;let _0x326f6a='';_0x5e95e8[_0x2e41b5(0x427)]((_0x161726,_0x2eb44c)=>{const _0xd6f840=_0x2e41b5,_0xaf2d98=Object[_0xd6f840(0x7ef)](BADGES)[_0xd6f840(0x1d5)](_0x1c6789=>_0x1c6789['id']===_0x161726);_0xaf2d98&&(_0x326f6a+=_0xd6f840(0xa63)+_0x2eb44c*0.2+_0xd6f840(0xb3d)+_0xaf2d98[_0xd6f840(0x996)]+_0xd6f840(0xb50)+_0xaf2d98[_0xd6f840(0x70d)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0xaf2d98[_0xd6f840(0x9ce)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x433c9b['innerHTML']=_0x326f6a;}function startPresentation(_0x3310f9){const _0x2b2fb4=_0x4a01bc;currentQuizData=getShuffledQuiz(_0x3310f9),currentPresentationSlide=0x0,presentationModal[_0x2b2fb4(0xd7a)][_0x2b2fb4(0xb0b)]=_0x2b2fb4(0x229),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x13d0f8=_0x4a01bc;document[_0x13d0f8(0xb6b)]&&document['exitFullscreen'](),presentationModal[_0x13d0f8(0xd7a)]['display']=_0x13d0f8(0x813);}function renderPresentationSlide(_0x532e76){const _0x4198f8=_0x4a01bc,_0x1ed097=document[_0x4198f8(0x657)]('presentation-slide-container');if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x4198f8(0x3ef)][_0x532e76]){_0x1ed097[_0x4198f8(0x891)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x16edae=currentQuizData[_0x4198f8(0x3ef)][_0x532e76],_0x252609=_0x16edae[_0x4198f8(0x7ed)]||currentQuizData[_0x4198f8(0x335)];_0x1ed097[_0x4198f8(0x891)]='';let _0x275c71='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16edae['imageCode']?_0x4198f8(0x8c6)+_0x16edae[_0x4198f8(0x277)]+_0x4198f8(0xbfc):'')+_0x4198f8(0xb3b)+(_0x532e76+0x1)+'.\x20'+(_0x16edae['stem']||_0x16edae[_0x4198f8(0xbf2)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x252609){case _0x4198f8(0xd13):_0x275c71+=_0x16edae[_0x4198f8(0xa5e)]['map'](_0x2dd70a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dd70a+_0x4198f8(0xb49))[_0x4198f8(0x566)]('');break;case _0x4198f8(0x446):_0x275c71+=_0x4198f8(0xb3e),_0x275c71+=_0x4198f8(0x5bc);break;case _0x4198f8(0x467):case'short_answer':_0x275c71+=_0x4198f8(0x2ae);break;case _0x4198f8(0x2eb):case _0x4198f8(0xa7c):default:_0x275c71+=_0x16edae['options'][_0x4198f8(0x823)]((_0x2ae785,_0x43330d)=>_0x4198f8(0x896)+_0x43330d+_0x4198f8(0xd15)+_0x2ae785+_0x4198f8(0xb49))['join']('');break;}_0x275c71+=_0x4198f8(0x7a8)+(_0x16edae[_0x4198f8(0xa6b)]||'ไม่มีคำอธิบาย')+_0x4198f8(0x6c6),_0x1ed097[_0x4198f8(0x891)]=_0x275c71;if(window[_0x4198f8(0x436)])window[_0x4198f8(0x436)]['typesetPromise']([_0x1ed097]);let _0x19be08=[];switch(_0x252609){case'matching_item':_0x19be08=_0x16edae[_0x4198f8(0xa5e)]||[];break;case'true_false':_0x19be08=[_0x4198f8(0xa74),_0x4198f8(0x3ed)];break;default:_0x19be08=_0x16edae[_0x4198f8(0x5e9)]||[];break;}const _0x3cf28d=document[_0x4198f8(0x657)](_0x4198f8(0xdae));_0x3cf28d&&(_0x3cf28d['onclick']=()=>{openScratchpad(_0x16edae,_0x19be08);});document[_0x4198f8(0x180)](_0x4198f8(0x827))[_0x4198f8(0x427)](_0x5eb9bf=>{const _0x5e3d34=_0x4198f8;_0x5eb9bf[_0x5e3d34(0xdc6)](_0x5e3d34(0x4ca),_0xc665a3=>revealAnswerForPresentation(_0x532e76,_0xc665a3['currentTarget']));});const _0x27c2b9=document['getElementById'](_0x4198f8(0xbbe));_0x27c2b9&&_0x27c2b9[_0x4198f8(0xdc6)](_0x4198f8(0x4ca),()=>checkShortAnswerForPresentation(_0x532e76)),document['getElementById'](_0x4198f8(0xb78))[_0x4198f8(0x54c)]=_0x4198f8(0x718)+(_0x532e76+0x1)+_0x4198f8(0xa47)+currentQuizData[_0x4198f8(0x3ef)][_0x4198f8(0x8ca)],document[_0x4198f8(0x657)]('prev-question-btn')[_0x4198f8(0x4b4)]=_0x532e76===0x0,document[_0x4198f8(0x657)](_0x4198f8(0x373))[_0x4198f8(0x4b4)]=_0x532e76===currentQuizData[_0x4198f8(0x3ef)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x5b3238){const _0x21922e=_0x4a01bc,_0x3118ae=currentQuizData[_0x21922e(0x3ef)][_0x5b3238],_0x587e69=document[_0x21922e(0x657)](_0x21922e(0xe3d)),_0x13c62c=document[_0x21922e(0x657)](_0x21922e(0xbbe)),_0x8b5088=document[_0x21922e(0x657)]('presentation-ai-result'),_0x4943ae=document[_0x21922e(0x657)](_0x21922e(0xbb2));if(!_0x587e69||!_0x13c62c||!_0x8b5088||!_0x4943ae)return;const _0x37a369=_0x587e69[_0x21922e(0x68e)][_0x21922e(0x5b2)]();if(_0x37a369==='')return;_0x13c62c[_0x21922e(0x4b4)]=!![],_0x13c62c[_0x21922e(0x891)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x587e69[_0x21922e(0x4b4)]=!![];const _0xa9e5b7=await gradeShortAnswer(_0x37a369,_0x3118ae);_0xa9e5b7?_0x8b5088[_0x21922e(0x891)]=_0x21922e(0x3c7):_0x8b5088[_0x21922e(0x891)]=_0x21922e(0x517)+_0x3118ae[_0x21922e(0x9c1)]+')',_0x8b5088[_0x21922e(0xb6d)][_0x21922e(0x66f)]('hidden'),_0x4943ae[_0x21922e(0xb6d)][_0x21922e(0x66f)]('hidden'),_0x13c62c['classList']['add'](_0x21922e(0x599));}function revealAnswerForPresentation(_0x2c895b,_0x3a3f02){const _0x3f2b49=_0x4a01bc,_0x3208ba=currentQuizData[_0x3f2b49(0x3ef)][_0x2c895b],_0x163771=_0x3208ba[_0x3f2b49(0x7ed)]||currentQuizData[_0x3f2b49(0x335)];document[_0x3f2b49(0x180)](_0x3f2b49(0x827))['forEach'](_0x3cf4f9=>{const _0x1cb07c=_0x3f2b49;_0x3cf4f9[_0x1cb07c(0x4b4)]=!![],_0x3cf4f9['classList']['remove'](_0x1cb07c(0x8fa));let _0x3f3e1f=![];if(_0x163771===_0x1cb07c(0xa7c)||_0x163771===_0x1cb07c(0x2eb)){const _0x42071b=parseInt(_0x3cf4f9['dataset']['index']);_0x3f3e1f=_0x42071b===_0x3208ba['correctAnswerIndex'];}else{if(_0x163771===_0x1cb07c(0x446)){const _0x1e85b7=_0x3cf4f9[_0x1cb07c(0x320)][_0x1cb07c(0x457)]==='true';_0x3f3e1f=_0x1e85b7===_0x3208ba[_0x1cb07c(0x315)];}else _0x163771===_0x1cb07c(0xd13)&&(_0x3f3e1f=_0x3cf4f9[_0x1cb07c(0x54c)]['trim']()===_0x3208ba[_0x1cb07c(0xdf0)]);}_0x3f3e1f?_0x3cf4f9[_0x1cb07c(0xb6d)][_0x1cb07c(0xa52)]('bg-green-500','text-white','border-green-700'):_0x3cf4f9['classList'][_0x1cb07c(0xa52)](_0x1cb07c(0x498));}),_0x3a3f02[_0x3f2b49(0xb6d)][_0x3f2b49(0x66f)](_0x3f2b49(0x498));let _0x126da3=![];if(_0x163771==='multiple_choice')_0x126da3=parseInt(_0x3a3f02[_0x3f2b49(0x320)][_0x3f2b49(0xca1)])===_0x3208ba[_0x3f2b49(0xf16)];else{if(_0x163771===_0x3f2b49(0x446))_0x126da3=_0x3a3f02['dataset'][_0x3f2b49(0x457)]===_0x3f2b49(0x804)===_0x3208ba[_0x3f2b49(0x315)];else _0x163771===_0x3f2b49(0xd13)&&(_0x126da3=_0x3a3f02[_0x3f2b49(0x54c)][_0x3f2b49(0x5b2)]()===_0x3208ba[_0x3f2b49(0xdf0)]);}!_0x126da3&&_0x3a3f02[_0x3f2b49(0xb6d)]['add'](_0x3f2b49(0xb2b),'text-white',_0x3f2b49(0x32b)),document['getElementById'](_0x3f2b49(0xbb2))['classList']['remove'](_0x3f2b49(0x599));}function startWholeQuizTimer(_0x48423a){const _0x1fc76c=_0x4a01bc,_0x3da521=document[_0x1fc76c(0x657)](_0x1fc76c(0x480));if(!_0x3da521)return;const _0x4c95ff=Date[_0x1fc76c(0x42d)]()+_0x48423a*0x3c*0x3e8;_0x3da521[_0x1fc76c(0x891)]=_0x1fc76c(0x3f7);const _0x3a6417=document[_0x1fc76c(0x657)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0xd4e918=_0x1fc76c,_0x14a5a6=_0x4c95ff-Date[_0xd4e918(0x42d)]();if(_0x14a5a6<=0x0)clearInterval(quizTimerInterval),_0x3a6417[_0xd4e918(0x54c)]=_0xd4e918(0x747),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x5ec5f8=Math[_0xd4e918(0xd62)](_0x14a5a6/0x3e8/0x3c%0x3c)[_0xd4e918(0x830)]()['padStart'](0x2,'0'),_0x4d4755=Math[_0xd4e918(0xd62)](_0x14a5a6/0x3e8%0x3c)[_0xd4e918(0x830)]()['padStart'](0x2,'0');_0x3a6417['textContent']=_0x5ec5f8+':'+_0x4d4755;}},0x3e8);}function renderPerQuestionView(){const _0x2618fc=_0x4a01bc;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4bca9a=currentDisplayedQuiz[_0x2618fc(0x3ef)][currentQuestionIndex],_0x11457b=_0x4bca9a['questionType']||currentDisplayedQuiz[_0x2618fc(0x335)],_0x1ac168=currentDisplayedQuiz[_0x2618fc(0xf0c)]?.[_0x2618fc(0x974)]===!![];let _0x2c2cc3=_0x2618fc(0x98a)+(currentQuestionIndex+0x1)+_0x2618fc(0xb87)+currentDisplayedQuiz['questions'][_0x2618fc(0x8ca)]+_0x2618fc(0x4a3)+(currentMode==='admin-testing'?_0x2618fc(0x65e):'')+_0x2618fc(0x3c5)+currentDisplayedQuiz[_0x2618fc(0xb1c)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x2618fc(0x891)]=_0x2c2cc3;let _0x2b720e=_0x4bca9a[_0x2618fc(0x472)]||_0x4bca9a[_0x2618fc(0xbf2)];_0x4bca9a['imageCode']&&(_0x2b720e+=_0x2618fc(0x8c6)+_0x4bca9a[_0x2618fc(0x277)]+'</div>');let _0x1e9dce='';switch(_0x11457b){case _0x2618fc(0x190):case'fill_in_no_choices':_0x1e9dce='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x1e9dce=_0x2618fc(0xa8a);break;case _0x2618fc(0xd13):_0x1e9dce='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4bca9a[_0x2618fc(0xa5e)]||[])['map'](_0x285a01=>_0x2618fc(0xd75)+_0x285a01+'\x22>'+_0x285a01+_0x2618fc(0xdb1))[_0x2618fc(0x566)]('')+_0x2618fc(0x578);break;default:_0x4bca9a[_0x2618fc(0x5e9)]&&(_0x1e9dce=_0x4bca9a['options'][_0x2618fc(0x823)]((_0x41d16e,_0x2b91dc)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x2b91dc+_0x2618fc(0xae5)+_0x2b91dc+_0x2618fc(0x787)+_0x2b91dc+'\x22>'+_0x41d16e+_0x2618fc(0x527))[_0x2618fc(0x566)](''));break;}document['getElementById'](_0x2618fc(0x9bf))['innerHTML']=_0x2b720e,document[_0x2618fc(0x657)]('per-question-options')[_0x2618fc(0x891)]=_0x1e9dce;const _0x1698fa=currentDisplayedQuiz[_0x2618fc(0xf0c)]?.['isConfidenceScoringEnabled']===!![],_0x45dca7=currentDisplayedQuiz[_0x2618fc(0xf0c)]?.['confidenceMode']||_0x2618fc(0x365);if(_0x1698fa&&_0x45dca7==='checkbox'){const _0x46b444=_0x2618fc(0x581);studentQuizArea['querySelector']('.mb-6.p-4')[_0x2618fc(0xc14)](_0x2618fc(0x494),_0x46b444);}studentQuizArea[_0x2618fc(0xc14)]('beforeend',_0x2618fc(0x307)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x2618fc(0x8ca)]-0x1?_0x2618fc(0x29f):_0x2618fc(0x8ae))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x2618fc(0x233)&&document[_0x2618fc(0x657)]('cancel-test-btn')?.[_0x2618fc(0xdc6)](_0x2618fc(0x4ca),cancelAdminTest);document[_0x2618fc(0x657)](_0x2618fc(0x301))[_0x2618fc(0xdc6)](_0x2618fc(0x4ca),()=>handleNextQuestionInTimedMode(![]));if(window[_0x2618fc(0x436)])window[_0x2618fc(0x436)][_0x2618fc(0xdce)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x2618fc(0xc54)]===_0x2618fc(0xe7a)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x42ae44=_0x4a01bc,_0x5b500c=currentDisplayedQuiz[_0x42ae44(0xf0c)]['timerDuration'],_0x5f27ef=document[_0x42ae44(0x657)]('per-question-timer-container');if(!_0x5f27ef)return;let _0x95e21d=_0x5b500c;_0x5f27ef[_0x42ae44(0x891)]=_0x42ae44(0xdbe)+_0x95e21d+_0x42ae44(0xb36);const _0x1777f9=document[_0x42ae44(0x657)](_0x42ae44(0xb81)),_0x2c6b40=document[_0x42ae44(0x657)](_0x42ae44(0xa84));perQuestionTimerInterval=setInterval(()=>{const _0x5e92fa=_0x42ae44;_0x95e21d--;const _0x3cd533=_0x95e21d/_0x5b500c*0x64;_0x1777f9['style'][_0x5e92fa(0x1c6)]=_0x3cd533+'%',_0x2c6b40[_0x5e92fa(0x54c)]=_0x95e21d,_0x95e21d<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x5e92fa(0xad9)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xb7992b=![]){const _0x284084=_0x4a01bc;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x38383c=null,_0x2b3b9b=![];if(!_0xb7992b){const _0x29e56b=currentDisplayedQuiz[_0x284084(0x3ef)][currentQuestionIndex],_0x1a8c65=_0x29e56b[_0x284084(0x7ed)]||currentDisplayedQuiz[_0x284084(0x335)];if(_0x1a8c65==='short_answer'||_0x1a8c65==='fill_in_no_choices')_0x38383c=document[_0x284084(0x5cd)]('textarea[name=\x22question_single\x22]')?.[_0x284084(0x68e)][_0x284084(0x5b2)]()??'';else{if(_0x1a8c65===_0x284084(0xd13))_0x38383c=document[_0x284084(0x5cd)](_0x284084(0xc19))?.[_0x284084(0x68e)]??'';else{const _0x509312=document['querySelector']('input[name=\x22question_single\x22]:checked');_0x509312&&(_0x38383c=_0x509312[_0x284084(0x68e)]);}}if(_0x38383c===null||_0x38383c===''){showMessage(_0x284084(0x418)),startPerQuestionTimer();return;}const _0x2fba66=currentDisplayedQuiz[_0x284084(0xf0c)]?.[_0x284084(0x974)]===!![],_0x2e1acf=currentDisplayedQuiz[_0x284084(0xf0c)]?.[_0x284084(0x22f)]||_0x284084(0x365);if(_0x2fba66&&_0x2e1acf===_0x284084(0x8eb)){document['getElementById'](_0x284084(0x444))[_0x284084(0x320)][_0x284084(0xe72)]=_0x284084(0x816),document[_0x284084(0x657)](_0x284084(0x97c))[_0x284084(0x68e)]=_0x38383c,document['getElementById'](_0x284084(0x444))[_0x284084(0xb6d)][_0x284084(0x66f)](_0x284084(0x599));return;}const _0x273176=document[_0x284084(0x657)](_0x284084(0xac5));_0x273176&&(_0x2b3b9b=_0x273176[_0x284084(0x536)]);}const _0x53a5ea={'answer':_0x38383c,'wasConfident':_0x2b3b9b};proceedToNextQuestion(_0x53a5ea);}async function finalizePerQuestionQuiz(){const _0x14cc43=_0x4a01bc,_0x133e6d=currentDisplayedQuiz[_0x14cc43(0x3ef)][_0x14cc43(0xce0)](_0x48c766=>_0x48c766[_0x14cc43(0x7ed)]===_0x14cc43(0x190));_0x133e6d?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x14cc43(0x967));const _0x1dcb9c=currentQuizData['id'],_0x1a5303=doc(db,'artifacts/'+appId+_0x14cc43(0xb20)+_0x1dcb9c+_0x14cc43(0x411),currentStudentName),_0x3a0c3e=await getDoc(_0x1a5303),_0xd1673c=_0x3a0c3e[_0x14cc43(0xce9)]()?_0x3a0c3e[_0x14cc43(0xd0c)]():{},_0x55f145=_0xd1673c['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x55f145);}function getResultsFilename(){const _0x1192ac=_0x4a01bc,_0x5baf55=document[_0x1192ac(0x657)]('results-quiz-title')['textContent']['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x5baf55||_0x1192ac(0xa04));}function exportResultsAsImage(){const _0x8e0435=_0x4a01bc,_0x35feeb=document[_0x8e0435(0x657)](_0x8e0435(0x70c));showMessage(_0x8e0435(0xc85)),html2canvas(_0x35feeb)[_0x8e0435(0xada)](_0x31900e=>{const _0x66d07c=_0x8e0435,_0x806a5f=document['createElement']('a');_0x806a5f[_0x66d07c(0x8f0)]=getResultsFilename()+'.png',_0x806a5f['href']=_0x31900e[_0x66d07c(0x214)](_0x66d07c(0xd7d)),_0x806a5f[_0x66d07c(0x4ca)](),messageModal['classList'][_0x66d07c(0xa52)](_0x66d07c(0x599));});}function exportResultsAsPDF(){const _0x2d41fa=_0x4a01bc,{jsPDF:_0x5abdd0}=window[_0x2d41fa(0xc7c)],_0x59b7ab=new _0x5abdd0();_0x59b7ab['setFont']('helvetica',_0x2d41fa(0x868)),_0x59b7ab[_0x2d41fa(0xd8e)]({'html':_0x2d41fa(0xe40)}),_0x59b7ab[_0x2d41fa(0x639)](getResultsFilename()+_0x2d41fa(0x230));}function exportResultsAsWord(){const _0x4f3c89=_0x4a01bc,_0x44267f='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x4f3c89(0x352),_0x46da19=_0x4f3c89(0x251),_0xa5dd00=_0x44267f+document[_0x4f3c89(0x657)]('results-table-container')[_0x4f3c89(0x891)]+_0x46da19,_0x13d79b=_0x4f3c89(0x23a)+encodeURIComponent(_0xa5dd00),_0x242394=document[_0x4f3c89(0xbfd)]('a');document[_0x4f3c89(0x754)][_0x4f3c89(0x612)](_0x242394),_0x242394['href']=_0x13d79b,_0x242394[_0x4f3c89(0x8f0)]=getResultsFilename()+_0x4f3c89(0x3da),_0x242394[_0x4f3c89(0x4ca)](),document['body'][_0x4f3c89(0xd47)](_0x242394);}function exportResultsAsExcel(){const _0x42b2d5=_0x4a01bc,_0x303742=document[_0x42b2d5(0x657)]('results-table');let _0x4359ec=[];for(let _0xb2aac4=0x0;_0xb2aac4<_0x303742[_0x42b2d5(0xea2)][_0x42b2d5(0x8ca)];_0xb2aac4++){let _0x4aaa63=[],_0x364fcf=_0x303742[_0x42b2d5(0xea2)][_0xb2aac4][_0x42b2d5(0x180)](_0x42b2d5(0x572));for(let _0xc4e080=0x0;_0xc4e080<_0x364fcf[_0x42b2d5(0x8ca)];_0xc4e080++){_0x4aaa63[_0x42b2d5(0xe7d)]('\x22'+_0x364fcf[_0xc4e080][_0x42b2d5(0xbb1)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x4359ec[_0x42b2d5(0xe7d)](_0x4aaa63[_0x42b2d5(0x566)](','));}const _0x569b63=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4359ec[_0x42b2d5(0x566)]('\x0a')],{'type':_0x42b2d5(0xc4a)}),_0x5c3720=document['createElement']('a');_0x5c3720[_0x42b2d5(0x30e)]=URL['createObjectURL'](_0x569b63),_0x5c3720[_0x42b2d5(0x8f0)]=getResultsFilename()+'.csv',_0x5c3720[_0x42b2d5(0x4ca)]();}function exportTableAsImage(_0x11a32e,_0x2fac6c){const _0x5aa504=_0x4a01bc,_0x168203=document[_0x5aa504(0x657)](_0x11a32e),_0x51ba5e=document[_0x5aa504(0x657)](_0x5aa504(0x7cb));if(!_0x168203){showMessage(_0x5aa504(0xe8c));return;}showMessage(_0x5aa504(0x24e));const _0x47df30=document[_0x5aa504(0xbfd)](_0x5aa504(0x41e));_0x47df30[_0x5aa504(0xd7a)][_0x5aa504(0x875)]=_0x5aa504(0x748),_0x47df30[_0x5aa504(0xd7a)][_0x5aa504(0x98d)]=_0x5aa504(0x1e4),_0x47df30['style'][_0x5aa504(0x1c6)]='1000px',_0x47df30[_0x5aa504(0xd7a)][_0x5aa504(0x437)]='fixed',_0x47df30[_0x5aa504(0xd7a)][_0x5aa504(0xe65)]=_0x5aa504(0xde6),_0x47df30[_0x5aa504(0xd7a)][_0x5aa504(0xf2f)]='0',_0x47df30[_0x5aa504(0xd7a)][_0x5aa504(0x4b5)]='-1';const _0xf4c27b=document[_0x5aa504(0xbfd)]('h1');_0xf4c27b['innerText']=_0x51ba5e?_0x51ba5e[_0x5aa504(0xbb1)]:_0x5aa504(0xde9),_0xf4c27b[_0x5aa504(0xd7a)][_0x5aa504(0xd40)]=_0x5aa504(0x3ab),_0xf4c27b['style'][_0x5aa504(0x1c7)]='\x27Sarabun\x27,\x20sans-serif',_0xf4c27b[_0x5aa504(0xd7a)][_0x5aa504(0x38c)]=_0x5aa504(0x8d1),_0xf4c27b[_0x5aa504(0xd7a)][_0x5aa504(0xb4d)]=_0x5aa504(0x89d),_0xf4c27b[_0x5aa504(0xd7a)]['color']=_0x5aa504(0x76b),_0xf4c27b['style'][_0x5aa504(0xc66)]=_0x5aa504(0x9ff);const _0x275ee1=_0x168203['cloneNode'](!![]);_0x275ee1[_0x5aa504(0xd7a)]['maxHeight']=_0x5aa504(0x813),_0x275ee1[_0x5aa504(0xd7a)][_0x5aa504(0x5d9)]=_0x5aa504(0x38b);const _0x565a35=_0x275ee1['querySelectorAll']('th');let _0x5b3646=-0x1;_0x565a35[_0x5aa504(0x427)]((_0x69d41d,_0xa81f4)=>{const _0xc85db8=_0x5aa504;_0x69d41d[_0xc85db8(0x54c)]['trim']()==='ผล'&&(_0x69d41d[_0xc85db8(0xd7a)][_0xc85db8(0xb0b)]=_0xc85db8(0x813),_0x5b3646=_0xa81f4);});if(_0x5b3646!==-0x1){const _0x258760=_0x275ee1[_0x5aa504(0x180)]('tr');_0x258760[_0x5aa504(0x427)](_0x5e099c=>{const _0x572626=_0x5aa504,_0x5b2606=_0x5e099c['querySelectorAll']('td');_0x5b2606[_0x572626(0x8ca)]>_0x5b3646&&(_0x5b2606[_0x5b3646][_0x572626(0xd7a)]['display']='none');});}_0x47df30['appendChild'](_0xf4c27b),_0x47df30[_0x5aa504(0x612)](_0x275ee1),document[_0x5aa504(0x754)][_0x5aa504(0x612)](_0x47df30),html2canvas(_0x47df30,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x5aa504(0x748)})[_0x5aa504(0xada)](_0x4bef6f=>{const _0x2825e5=_0x5aa504,_0x15f73e=document['createElement']('a');_0x15f73e[_0x2825e5(0x8f0)]=_0x2fac6c+_0x2825e5(0xab7),_0x15f73e[_0x2825e5(0x30e)]=_0x4bef6f['toDataURL']('image/png'),_0x15f73e[_0x2825e5(0x4ca)](),document[_0x2825e5(0x754)]['removeChild'](_0x47df30),messageModal[_0x2825e5(0xb6d)][_0x2825e5(0xa52)](_0x2825e5(0x599));})[_0x5aa504(0x91e)](_0x437fc5=>{const _0x51a21b=_0x5aa504;console['error'](_0x51a21b(0xba0),_0x437fc5),document[_0x51a21b(0x754)]['removeChild'](_0x47df30),showMessage(_0x51a21b(0x33d));});}function exportTableAsPDF(_0x40fafc,_0x1b0975){const _0x268c7e=_0x4a01bc,{jsPDF:_0x593a70}=window[_0x268c7e(0xc7c)],_0x54a774=new _0x593a70();_0x54a774['setFont'](_0x268c7e(0x449),'normal'),_0x54a774[_0x268c7e(0xd8e)]({'html':'#'+_0x40fafc}),_0x54a774['save'](_0x1b0975+_0x268c7e(0x230));}function exportTableAsWord(_0x233efe,_0x15198b){const _0x43d994=_0x4a01bc,_0x267ebf=document[_0x43d994(0x657)](_0x233efe);if(!_0x267ebf){showMessage(_0x43d994(0xe8c));return;}const _0xeafa66=_0x43d994(0xe19)+_0x43d994(0x94a)+_0x43d994(0x8b5)+_0x43d994(0x352),_0x36373c=_0x43d994(0x251),_0xda3c16=_0xeafa66+_0x267ebf[_0x43d994(0x891)]+_0x36373c,_0x57f24c=_0x43d994(0x23a)+encodeURIComponent(_0xda3c16),_0x4ef78b=document[_0x43d994(0xbfd)]('a');document[_0x43d994(0x754)][_0x43d994(0x612)](_0x4ef78b),_0x4ef78b[_0x43d994(0x30e)]=_0x57f24c,_0x4ef78b['download']=_0x15198b+_0x43d994(0x3da),_0x4ef78b[_0x43d994(0x4ca)](),document[_0x43d994(0x754)][_0x43d994(0xd47)](_0x4ef78b);}function exportTableAsExcel(_0x498940,_0x5d04a4){const _0x38e8c4=_0x4a01bc,_0x39ede8=document[_0x38e8c4(0x657)](_0x498940);if(!_0x39ede8){showMessage(_0x38e8c4(0xe8c));return;}let _0x3e649f=[];for(let _0x2d07fe=0x0;_0x2d07fe<_0x39ede8['rows'][_0x38e8c4(0x8ca)];_0x2d07fe++){let _0xb3f992=[],_0x219ed2=_0x39ede8['rows'][_0x2d07fe][_0x38e8c4(0x180)]('td,\x20th');for(let _0x336518=0x0;_0x336518<_0x219ed2[_0x38e8c4(0x8ca)];_0x336518++){_0xb3f992[_0x38e8c4(0xe7d)]('\x22'+_0x219ed2[_0x336518][_0x38e8c4(0xbb1)][_0x38e8c4(0xdf2)](/"/g,'\x22\x22')+'\x22');}_0x3e649f[_0x38e8c4(0xe7d)](_0xb3f992['join'](','));}const _0x5b33dd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3e649f[_0x38e8c4(0x566)]('\x0a')],{'type':_0x38e8c4(0xc4a)}),_0x136a74=document[_0x38e8c4(0xbfd)]('a');_0x136a74[_0x38e8c4(0x30e)]=URL[_0x38e8c4(0xd79)](_0x5b33dd),_0x136a74[_0x38e8c4(0x8f0)]=_0x5d04a4+_0x38e8c4(0xd5d),_0x136a74[_0x38e8c4(0x4ca)]();}function renderAnalytics(_0x1e1f11,_0x148ee6){const _0x29865d=_0x4a01bc,_0x3b542c=_0x148ee6[_0x29865d(0xc4c)](_0x4dcd8e=>_0x4dcd8e[_0x29865d(0xdfa)]!==undefined),_0x2ba30c=currentProjectData[_0x29865d(0xc2e)][_0x29865d(0x8ca)],_0x4d37d4=_0x3b542c[_0x29865d(0x8ca)],_0x5259b7=_0x2ba30c-_0x4d37d4,_0x5b5581=_0x2ba30c>0x0?_0x4d37d4/_0x2ba30c*0x64:0x0,_0x34642f=_0x3b542c[_0x29865d(0x823)](_0x1dfd97=>_0x1dfd97['latestScore']),_0x545abb=_0x34642f[_0x29865d(0x8ca)]>0x0?_0x34642f['reduce']((_0x383eff,_0x5aad4b)=>_0x383eff+_0x5aad4b,0x0)/_0x34642f['length']:0x0,_0x342f62=_0x1e1f11['questions'][_0x29865d(0x8ca)],_0x8169ad=_0x342f62>0x0?_0x545abb/_0x342f62*0x64:0x0,_0x19a8e0=calculateItemAnalysis(_0x1e1f11,_0x3b542c),_0x11c8be=calculateReliabilityKR20(_0x1e1f11,_0x3b542c,_0x19a8e0['perQuestionStats']);let _0x17e69a='';if(_0x11c8be!==null){let _0x1a9d73='';if(_0x11c8be>=0.9)_0x1a9d73=_0x29865d(0xecc);else{if(_0x11c8be>=0.8)_0x1a9d73=_0x29865d(0xdd6);else{if(_0x11c8be>=0.7)_0x1a9d73='ดี';else{if(_0x11c8be>=0.6)_0x1a9d73='พอใช้';else _0x1a9d73=_0x29865d(0x47a);}}}_0x17e69a=_0x29865d(0x1d6)+_0x11c8be[_0x29865d(0xb05)](0x2)+_0x29865d(0x42f)+_0x1a9d73+_0x29865d(0xb22);}const _0x26227e=document[_0x29865d(0x657)](_0x29865d(0xaf4));_0x26227e[_0x29865d(0x891)]=_0x29865d(0x6fd)+_0x5b5581[_0x29865d(0xb05)](0x0)+_0x29865d(0x60f)+_0x4d37d4+'/'+_0x2ba30c+_0x29865d(0xeb5)+_0x545abb[_0x29865d(0xb05)](0x2)+_0x29865d(0x8a2)+_0x8169ad[_0x29865d(0xb05)](0x0)+_0x29865d(0x3b7)+(_0x34642f[_0x29865d(0x8ca)]>0x0?Math[_0x29865d(0xf23)](..._0x34642f):_0x29865d(0xdf4))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x34642f[_0x29865d(0x8ca)]>0x0?Math[_0x29865d(0x80d)](..._0x34642f):_0x29865d(0xdf4))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17e69a+_0x29865d(0xf20);const _0x2cee61=document[_0x29865d(0x657)](_0x29865d(0xbca));_0x2cee61&&_0x2cee61['remove']();const _0x4ccd21='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x26227e['insertAdjacentHTML'](_0x29865d(0x419),_0x4ccd21);const _0x3a6086=currentProjectData[_0x29865d(0xc2e)]||[];renderSubmissionChart(_0x4d37d4,_0x5259b7,_0x3b542c,_0x3a6086),renderScoreDistributionChart(_0x3b542c,_0x342f62),renderQuestionAnalytics(_0x1e1f11,_0x3b542c,_0x3a6086),renderInterestingStats(_0x1e1f11,_0x3b542c);}async function handleExportLessonPDF(){const _0x52a80a=_0x4a01bc,_0x5302af=document[_0x52a80a(0x657)]('lesson-plan-content'),_0x5afd9d=document[_0x52a80a(0x657)](_0x52a80a(0xadd))[_0x52a80a(0x54c)],_0x5d9dee=window[_0x52a80a(0x321)]('',_0x52a80a(0x24c)),_0x23edcc=_0x52a80a(0xd01)+_0x5afd9d+_0x52a80a(0xc5e)+_0x5302af[_0x52a80a(0x891)]+_0x52a80a(0xc33);_0x5d9dee['document'][_0x52a80a(0x333)](_0x23edcc),_0x5d9dee[_0x52a80a(0xdb5)][_0x52a80a(0xddb)](),_0x5d9dee['onload']=function(){setTimeout(()=>{const _0x20ac9b=_0x551a;_0x5d9dee[_0x20ac9b(0xdc7)]();},0x5dc);};}function renderInterestingStats(_0x58847b,_0x40ff8a){const _0x52769b=_0x4a01bc,_0xdc8b40=document[_0x52769b(0x657)](_0x52769b(0x7d9));if(!_0xdc8b40)return;if(_0x40ff8a[_0x52769b(0x8ca)]===0x0){_0xdc8b40[_0x52769b(0x891)]=_0x52769b(0x97f);return;}const _0x360fda=_0x58847b[_0x52769b(0x3ef)][_0x52769b(0x823)]((_0x1d0486,_0x537cee)=>({'index':_0x537cee+0x1,'text':_0x1d0486[_0x52769b(0xbf2)]||_0x1d0486[_0x52769b(0x472)],'correct':0x0}));_0x40ff8a[_0x52769b(0x427)](_0x2febc5=>{const _0x146281=_0x52769b,_0x1b7c73=_0x2febc5[_0x146281(0x469)][_0x2febc5[_0x146281(0x469)]['length']-0x1];_0x1b7c73&&_0x1b7c73['answers']&&_0x1b7c73['answers'][_0x146281(0x427)](_0xd7f871=>{const _0x4d6600=_0x146281,_0x557ca5=_0x360fda[_0x4d6600(0x1d5)](_0x4f28c3=>_0x4f28c3[_0x4d6600(0xe09)]===_0xd7f871[_0x4d6600(0x900)]);_0xd7f871['isCorrect']&&_0x557ca5&&_0x557ca5[_0x4d6600(0x3b5)]++;});});const _0x485f67=_0x40ff8a[_0x52769b(0x8ca)],_0x394436=Math[_0x52769b(0xf23)](..._0x360fda[_0x52769b(0x823)](_0x2e1ad1=>_0x2e1ad1['correct'])),_0x3a4bf9=Math[_0x52769b(0x80d)](..._0x360fda[_0x52769b(0x823)](_0x58a3a9=>_0x58a3a9[_0x52769b(0x3b5)])),_0x2acce4=_0x360fda['filter'](_0xe47ee2=>_0xe47ee2['correct']===_0x394436)[_0x52769b(0x823)](_0x2cf39f=>'ข้อ\x20'+_0x2cf39f['index']),_0x19e1b6=_0x360fda[_0x52769b(0xc4c)](_0x2a2fb=>_0x2a2fb[_0x52769b(0x3b5)]===_0x3a4bf9)['map'](_0xa7d81d=>'ข้อ\x20'+_0xa7d81d[_0x52769b(0xca1)]),_0x1a025d=_0x40ff8a[_0x52769b(0xc1a)]((_0x1d071c,_0x4fb29a)=>_0x4fb29a['latestScore']-_0x1d071c[_0x52769b(0xdfa)])[_0x52769b(0xc4c)]((_0x1bf8f8,_0x552e74,_0x13aff4)=>_0x1bf8f8[_0x52769b(0xdfa)]===_0x13aff4[0x0]['latestScore']),_0x1dc220=_0x40ff8a[_0x52769b(0xc1a)]((_0x642c91,_0x26a654)=>_0x642c91[_0x52769b(0xdfa)]-_0x26a654['latestScore'])[_0x52769b(0xc4c)]((_0x552486,_0xc80138,_0xe0c391)=>_0x552486[_0x52769b(0xdfa)]===_0xe0c391[0x0]['latestScore']),_0x20669f=_0x52769b(0xab8)+_0x2acce4[_0x52769b(0x566)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x394436+_0x52769b(0xa47)+_0x485f67+_0x52769b(0x5b9)+_0x19e1b6[_0x52769b(0x566)](',\x20')+_0x52769b(0xe8f)+(_0x485f67-_0x3a4bf9)+'\x20/\x20'+_0x485f67+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x1a025d[_0x52769b(0x823)](_0xee0381=>_0xee0381[_0x52769b(0xbf5)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x1a025d[0x0]['latestScore']+_0x52769b(0xa66)+_0x1dc220['map'](_0x1414f6=>_0x1414f6['studentName'])[_0x52769b(0x566)](',\x20')+_0x52769b(0x96c)+_0x1dc220[0x0]['latestScore']+_0x52769b(0x876);_0xdc8b40[_0x52769b(0x891)]=_0x20669f;}function renderSubmissionChart(_0x4e8d23,_0x145181,_0x2cc7ce,_0x1e4d1f){const _0x2bbbcf=_0x4a01bc,_0x54e023=document['getElementById'](_0x2bbbcf(0x859))[_0x2bbbcf(0x28e)]('2d'),_0x52e62d=_0x2cc7ce[_0x2bbbcf(0x823)](_0x27e466=>_0x27e466[_0x2bbbcf(0xbf5)]),_0x5172f8=_0x1e4d1f[_0x2bbbcf(0xc4c)](_0x3c86bc=>!_0x52e62d['includes'](_0x3c86bc));chartInstances[_0x2bbbcf(0x49c)]&&chartInstances[_0x2bbbcf(0x49c)][_0x2bbbcf(0xb88)](),chartInstances[_0x2bbbcf(0x49c)]=new Chart(_0x54e023,{'type':_0x2bbbcf(0xb3f),'data':{'labels':[_0x2bbbcf(0xe0f),_0x2bbbcf(0xede)],'datasets':[{'data':[_0x4e8d23,_0x145181],'backgroundColor':[_0x2bbbcf(0xd59),_0x2bbbcf(0xd00)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2bbbcf(0xe5a)},'tooltip':{'callbacks':{'label':function(_0x3cc4ab){const _0x573d63=_0x2bbbcf;let _0x418616=_0x3cc4ab['label']||'';return _0x418616&&(_0x418616+=':\x20'),_0x418616+=_0x3cc4ab[_0x573d63(0xf37)],_0x418616;},'afterLabel':function(_0x599b98){const _0x33a42b=_0x2bbbcf;let _0x33d1cc;return _0x599b98['dataIndex']===0x0?_0x33d1cc=_0x52e62d:_0x33d1cc=_0x5172f8,_0x33d1cc[_0x33a42b(0x8ca)]>0x0?_0x33d1cc[_0x33a42b(0x566)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x194f03,_0x295ecc){const _0x271d4d=_0x4a01bc,_0x278510=document[_0x271d4d(0x657)]('score-distribution-chart')[_0x271d4d(0x28e)]('2d'),_0x469dc7={};for(let _0x291c27=0x0;_0x291c27<=_0x295ecc;_0x291c27++){_0x469dc7[_0x291c27]=0x0;}_0x194f03[_0x271d4d(0x427)](_0x4afdbc=>{const _0x4478c1=_0x271d4d;_0x469dc7[_0x4afdbc[_0x4478c1(0xdfa)]]!==undefined&&_0x469dc7[_0x4afdbc[_0x4478c1(0xdfa)]]++;}),chartInstances['score']&&chartInstances['score']['destroy'](),chartInstances[_0x271d4d(0x43c)]=new Chart(_0x278510,{'type':'bar','data':{'labels':Object[_0x271d4d(0xde1)](_0x469dc7),'datasets':[{'label':_0x271d4d(0x1d3),'data':Object[_0x271d4d(0x7ef)](_0x469dc7),'backgroundColor':_0x271d4d(0xdec),'borderColor':_0x271d4d(0xe18),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3cb11d){const _0x2c38e8=_0x271d4d,_0x130ba5=_0x3cb11d[_0x2c38e8(0x4a1)],_0x2d351b=_0x194f03['filter'](_0x91f513=>_0x91f513[_0x2c38e8(0xdfa)]==_0x130ba5)['map'](_0x37fc90=>_0x37fc90['studentName']);return _0x2d351b['length']>0x0?_0x2d351b[_0x2c38e8(0x566)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x537663,_0x2d291c,_0x8b232b){const _0x4212f6=_0x4a01bc,_0x762f8a=document['getElementById'](_0x4212f6(0x9e0));if(_0x8b232b[_0x4212f6(0x8ca)]===0x0){_0x762f8a[_0x4212f6(0x891)]=_0x4212f6(0x372);return;}const _0x305895=calculateItemAnalysis(_0x537663,_0x2d291c),_0x567ae0=calculateDistractorAnalysis(_0x537663,_0x2d291c);let _0x398f56='';_0x305895[_0x4212f6(0x496)]&&(_0x398f56=_0x4212f6(0xc5d)+_0x305895[_0x4212f6(0x496)][_0x4212f6(0xc0b)][_0x4212f6(0x8ca)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x305895[_0x4212f6(0x496)][_0x4212f6(0xc0b)][_0x4212f6(0x823)](_0x42029e=>_0x4212f6(0x1c9)+_0x42029e+_0x4212f6(0x7ab))[_0x4212f6(0x566)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x305895[_0x4212f6(0x496)][_0x4212f6(0x4d9)][_0x4212f6(0x8ca)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x305895[_0x4212f6(0x496)][_0x4212f6(0x4d9)][_0x4212f6(0x823)](_0x4c3e88=>_0x4212f6(0x1c9)+_0x4c3e88+_0x4212f6(0x7ab))['join']('')+_0x4212f6(0x1cd));let _0x2c5f90='';const _0x53405d=_0x2d291c['map'](_0x49446a=>_0x49446a[_0x4212f6(0xbf5)]),_0x13f914=_0x371af0=>{const _0x3bba5c=_0x4212f6;if(_0x371af0>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x371af0>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x371af0>=0.4)return _0x3bba5c(0x2ef);if(_0x371af0>=0.2)return _0x3bba5c(0xf21);return _0x3bba5c(0x329);},_0x20f762=_0x3e09e9=>{const _0x1678f6=_0x4212f6;if(_0x3e09e9<0x0)return _0x1678f6(0x376);if(_0x3e09e9>=0.4)return _0x1678f6(0x3ea);if(_0x3e09e9>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x3e09e9>=0.2)return _0x1678f6(0x59d);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x1fa450=_0xcacf69=>{const _0x28de58=_0x4212f6,_0x4df59c=_0xcacf69[_0x28de58(0xb05)](0x0);if(parseFloat(_0x4df59c)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x4df59c+_0x28de58(0x7f4);if(_0xcacf69>=0x32)return _0x28de58(0x5a9)+_0x4df59c+_0x28de58(0x7f4);return _0x28de58(0x2f9)+_0x4df59c+'%</span>';};_0x537663[_0x4212f6(0x3ef)][_0x4212f6(0x427)]((_0xe2f898,_0x27be0f)=>{const _0x4693be=_0x4212f6,_0x4cacac=_0x305895['perQuestionStats'][_0x27be0f],_0x4d667d=_0x567ae0[_0x27be0f],_0x52001f=_0xe2f898[_0x4693be(0x472)]||_0xe2f898[_0x4693be(0xbf2)]||_0xe2f898[_0x4693be(0xefd)];let _0x51e6bb=0x0;const _0xfb4e21=[],_0x26aee6=[];_0x2d291c['forEach'](_0x79726c=>{const _0x3e2564=_0x4693be,_0x5ad072=_0x79726c[_0x3e2564(0x469)][_0x79726c[_0x3e2564(0x469)][_0x3e2564(0x8ca)]-0x1];if(_0x5ad072&&_0x5ad072[_0x3e2564(0xbd1)]){const _0x3a0146=_0x5ad072[_0x3e2564(0xbd1)][_0x3e2564(0x1d5)](_0x2e1329=>_0x2e1329[_0x3e2564(0x900)]===_0x52001f)??_0x5ad072[_0x3e2564(0xbd1)][_0x27be0f]??null;_0x3a0146&&(_0x3a0146[_0x3e2564(0x41b)]?(_0x51e6bb++,_0xfb4e21[_0x3e2564(0xe7d)](_0x79726c[_0x3e2564(0xbf5)])):_0x26aee6[_0x3e2564(0xe7d)](_0x79726c['studentName']));}});const _0x390422=_0x2d291c['length']>0x0?_0x51e6bb/_0x2d291c[_0x4693be(0x8ca)]*0x64:0x0,_0x2fc9ce=_0x8b232b[_0x4693be(0xc4c)](_0x2c37a7=>!_0x53405d[_0x4693be(0x484)](_0x2c37a7)),_0x20f792=_0x4cacac?_0x4693be(0x4fa)+_0x4cacac['p'][_0x4693be(0xb05)](0x2)+_0x4693be(0xc47)+_0x13f914(_0x4cacac['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x4cacac['r'][_0x4693be(0xb05)](0x2)+'</p><div>'+_0x20f762(_0x4cacac['r'])+_0x4693be(0x2f4)+_0x1fa450(_0x390422)+_0x4693be(0x93e):'';let _0x35e248='';_0x4d667d&&(_0x35e248=_0x4693be(0xc40)+Object[_0x4693be(0xde1)](_0x4d667d)[_0x4693be(0x823)](_0x3a509f=>{const _0x4d7352=_0x4693be,_0x24b7ea=_0x4d667d[_0x3a509f],_0x3e67ce=parseInt(_0x3a509f)===_0xe2f898[_0x4d7352(0xf16)],_0x437afb=!_0x3e67ce&&_0x24b7ea[_0x4d7352(0xea6)]>_0x24b7ea[_0x4d7352(0x6d6)];return _0x4d7352(0xcfe)+(_0x3e67ce?'bg-green-100\x20font-bold':'')+_0x4d7352(0x708)+(_0x3e67ce?'✔\x20':'')+_0x24b7ea[_0x4d7352(0xe09)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x24b7ea[_0x4d7352(0x6d6)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x24b7ea[_0x4d7352(0xea6)]+'\x20'+(_0x437afb?'👍':'')+_0x4d7352(0x782)+_0x24b7ea[_0x4d7352(0x63e)]+_0x4d7352(0x2a7);})[_0x4693be(0x566)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x50b735='';_0x4cacac&&_0x4cacac[_0x4693be(0xe12)]&&(_0x50b735='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x4cacac[_0x4693be(0xe12)][_0x4693be(0x8ca)]+_0x4693be(0x7e2)+_0x4cacac[_0x4693be(0xe12)][_0x4693be(0x823)](_0x466f61=>'<li>'+(_0x466f61[_0x4693be(0x41b)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x4693be(0x405))+'\x20'+_0x466f61[_0x4693be(0x9ce)]+_0x4693be(0x7ab))[_0x4693be(0x566)]('')+_0x4693be(0x57d)+_0x4cacac[_0x4693be(0x681)][_0x4693be(0x8ca)]+_0x4693be(0x7e2)+_0x4cacac[_0x4693be(0x681)][_0x4693be(0x823)](_0x58e42f=>_0x4693be(0x1c9)+(_0x58e42f[_0x4693be(0x41b)]?_0x4693be(0x628):_0x4693be(0x405))+'\x20'+_0x58e42f['name']+'</li>')[_0x4693be(0x566)]('')+_0x4693be(0x52a)),_0x2c5f90+=_0x4693be(0xa4d)+(_0x27be0f+0x1)+':\x20'+_0x52001f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x20f792+_0x4693be(0x4d1)+_0x52001f+_0x4693be(0xd44)+_0x51e6bb+_0x4693be(0xb87)+_0x2d291c[_0x4693be(0x8ca)]+_0x4693be(0xca9)+_0x390422[_0x4693be(0xb05)](0x0)+_0x4693be(0xec6)+_0xfb4e21[_0x4693be(0x8ca)]+_0x4693be(0x5ae)+(_0xfb4e21['length']>0x0?_0xfb4e21[_0x4693be(0x566)](',\x20'):_0x4693be(0xacf))+_0x4693be(0x37a)+_0x26aee6[_0x4693be(0x8ca)]+_0x4693be(0x5ae)+(_0x26aee6[_0x4693be(0x8ca)]>0x0?_0x26aee6[_0x4693be(0x566)](',\x20'):_0x4693be(0xacf))+_0x4693be(0x36c)+_0x2fc9ce[_0x4693be(0x8ca)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x2fc9ce[_0x4693be(0x8ca)]>0x0?_0x2fc9ce[_0x4693be(0x566)](',\x20'):_0x4693be(0xacf))+_0x4693be(0x4d8)+_0x35e248+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50b735+_0x4693be(0x35c);}),_0x762f8a[_0x4212f6(0x891)]=_0x398f56+_0x2c5f90;try{window[_0x4212f6(0x436)]&&MathJax[_0x4212f6(0xdce)]&&MathJax[_0x4212f6(0xdce)]([_0x762f8a]);}catch(_0x4981cb){console[_0x4212f6(0xcb6)](_0x4212f6(0x42e),_0x4981cb);}}function calculateDistractorAnalysis(_0xbfb20c,_0x36c296){const _0x16c8eb=_0x4a01bc,_0x52d23e={};if(_0x36c296[_0x16c8eb(0x8ca)]<0x2)return _0x52d23e;const _0x51a59e=[..._0x36c296][_0x16c8eb(0xc1a)]((_0x3c1ea4,_0x1603ed)=>{const _0x2b6b34=_0x16c8eb,_0x10c858=_0x1603ed[_0x2b6b34(0xdfa)]-_0x3c1ea4[_0x2b6b34(0xdfa)];if(_0x10c858!==0x0)return _0x10c858;const _0x32cc46=_0x3c1ea4[_0x2b6b34(0x469)]?.[_0x2b6b34(0x8ca)]||0x1,_0x415ec4=_0x1603ed[_0x2b6b34(0x469)]?.[_0x2b6b34(0x8ca)]||0x1,_0x1367f7=_0x32cc46-_0x415ec4;if(_0x1367f7!==0x0)return _0x1367f7;const _0x4259bf=new Date(_0x3c1ea4[_0x2b6b34(0xbd3)]),_0x283f83=new Date(_0x1603ed[_0x2b6b34(0xbd3)]),_0x518ab5=_0x4259bf-_0x283f83;if(_0x518ab5!==0x0)return _0x518ab5;return _0x3c1ea4[_0x2b6b34(0xbf5)][_0x2b6b34(0x8c8)](_0x1603ed['studentName'],'th');}),_0x9e2d45=_0x51a59e['length'],_0x505e62=Math[_0x16c8eb(0xf23)](0x1,Math[_0x16c8eb(0xd62)](_0x9e2d45*0.33)),_0x4b2def=_0x51a59e[_0x16c8eb(0xe0b)](0x0,_0x505e62),_0x44ac65=_0x51a59e['slice'](-_0x505e62);return _0xbfb20c[_0x16c8eb(0x3ef)][_0x16c8eb(0x427)]((_0x4a62e8,_0x19a6b5)=>{const _0x153895=_0x16c8eb;if(_0x4a62e8[_0x153895(0x7ed)]!==_0x153895(0xa7c)||!_0x4a62e8[_0x153895(0x5e9)])return;const _0x51a376=_0x4a62e8[_0x153895(0xbf2)],_0x29b6d0={};_0x4a62e8[_0x153895(0x5e9)][_0x153895(0x427)]((_0x2f4fa1,_0x16a2ed)=>{_0x29b6d0[_0x16a2ed]={'text':_0x2f4fa1,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x51a59e['forEach'](_0x28a32b=>{const _0x195e9b=_0x153895,_0x2c5b23=_0x28a32b[_0x195e9b(0x469)][_0x28a32b[_0x195e9b(0x469)]['length']-0x1],_0x52e8ca=_0x2c5b23[_0x195e9b(0xbd1)][_0x195e9b(0x1d5)](_0x4c5a1f=>_0x4c5a1f['originalQuestionText']===_0x51a376);if(_0x52e8ca&&_0x52e8ca[_0x195e9b(0x457)]!==null){const _0x5ec600=_0x4a62e8[_0x195e9b(0x5e9)][_0x195e9b(0x65b)](_0x3734ec=>_0x3734ec===_0x52e8ca[_0x195e9b(0x79f)]);_0x5ec600!==-0x1&&_0x29b6d0[_0x5ec600]&&(_0x29b6d0[_0x5ec600][_0x195e9b(0x63e)]++,_0x4b2def['includes'](_0x28a32b)&&_0x29b6d0[_0x5ec600]['upper_group_count']++,_0x44ac65[_0x195e9b(0x484)](_0x28a32b)&&_0x29b6d0[_0x5ec600][_0x195e9b(0xea6)]++);}}),_0x52d23e[_0x19a6b5]=_0x29b6d0;}),_0x52d23e;}function calculateReliabilityKR20(_0x7dec5c,_0x565fad,_0x137fac){const _0x1e10f3=_0x4a01bc,_0x26c9c9=_0x7dec5c['questions'][_0x1e10f3(0x8ca)];if(_0x26c9c9<0x2||_0x565fad[_0x1e10f3(0x8ca)]<0x2)return null;const _0xfaab7c=_0x565fad['map'](_0x485a4c=>_0x485a4c['latestScore']),_0x52488=_0xfaab7c[_0x1e10f3(0xc91)]((_0x4af40b,_0x26c09c)=>_0x4af40b+_0x26c09c,0x0)/_0xfaab7c[_0x1e10f3(0x8ca)],_0x4e2fb0=_0xfaab7c[_0x1e10f3(0x823)](_0x29474b=>Math['pow'](_0x29474b-_0x52488,0x2))[_0x1e10f3(0xc91)]((_0x396841,_0x5e78d4)=>_0x396841+_0x5e78d4,0x0)/_0xfaab7c[_0x1e10f3(0x8ca)];if(_0x4e2fb0===0x0)return null;let _0x2a8b37=0x0;for(let _0x3616d6=0x0;_0x3616d6<_0x26c9c9;_0x3616d6++){const _0x366c33=_0x137fac[_0x3616d6]?.['p'];if(_0x366c33===undefined)continue;const _0x2ab6ab=0x1-_0x366c33;_0x2a8b37+=_0x366c33*_0x2ab6ab;}if(_0x2a8b37===0x0)return null;const _0x20887b=_0x26c9c9/(_0x26c9c9-0x1)*(0x1-_0x2a8b37/_0x4e2fb0);if(_0x20887b>0x1)return null;return _0x20887b;}async function handleAnalyzeClass(){const _0x4cc867=_0x4a01bc;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4cc867(0x93d));return;}const _0x426104=collection(db,_0x4cc867(0x4b1)+appId+_0x4cc867(0xb20)+currentQuizData['id']+_0x4cc867(0x411)),_0x45f3e4=await getDocs(_0x426104),_0x2c3650=_0x45f3e4[_0x4cc867(0xb70)][_0x4cc867(0x823)](_0x3b851d=>_0x3b851d['data']());if(_0x2c3650['length']<0x2){showMessage(_0x4cc867(0x54a));return;}const _0x254d23=document['getElementById'](_0x4cc867(0xd91));_0x254d23[_0x4cc867(0x891)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x4cc867(0x657)](_0x4cc867(0x576))[_0x4cc867(0x4b4)]=!![];const _0x550a4d=_0x2c3650[_0x4cc867(0x823)]((_0x50f8b8,_0x3ce950)=>{const _0x3352a6=_0x4cc867,_0x4954d0=_0x50f8b8[_0x3352a6(0x469)][_0x50f8b8[_0x3352a6(0x469)][_0x3352a6(0x8ca)]-0x1];if(!_0x4954d0)return'';return _0x3352a6(0x8ee)+(_0x3ce950+0x1)+'\x20('+_0x50f8b8['studentName']+_0x3352a6(0xcaa)+_0x4954d0[_0x3352a6(0x43c)]+'/'+_0x50f8b8[_0x3352a6(0xb37)]+_0x3352a6(0xcca)+JSON[_0x3352a6(0x7ba)](_0x4954d0[_0x3352a6(0xbd1)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4cc867(0x566)]('\x0a---\x0a'),_0x1011b5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x4cc867(0xb1c)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x4cc867(0x7ba)](currentQuizData[_0x4cc867(0x3ef)])+_0x4cc867(0x5b5)+_0x550a4d+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x5dc777={'type':_0x4cc867(0x73e),'properties':{'classStrengths':{'type':_0x4cc867(0x614),'items':{'type':_0x4cc867(0xcf1)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x4cc867(0x614),'items':{'type':_0x4cc867(0xcf1)}}},'required':[_0x4cc867(0x853),'classWeaknesses',_0x4cc867(0xe04)]};try{const _0x594425=await callAnalysisApi(_0x1011b5,_0x5dc777);displayClassAnalysis(_0x594425);}catch(_0x54cc02){console[_0x4cc867(0xcb6)](_0x4cc867(0x9ac),_0x54cc02),_0x254d23[_0x4cc867(0x891)]=_0x4cc867(0xa40)+_0x54cc02[_0x4cc867(0x9a1)]+_0x4cc867(0x298);}finally{document[_0x4cc867(0x657)](_0x4cc867(0x576))[_0x4cc867(0x4b4)]=![];}}function displayClassAnalysis(_0x123af8){const _0x2bd759=_0x4a01bc,_0x4cbc1b=document[_0x2bd759(0x657)]('strength-weakness-analysis-container');if(!_0x123af8){_0x4cbc1b[_0x2bd759(0x891)]=_0x2bd759(0xb54);return;}_0x4cbc1b[_0x2bd759(0x891)]=_0x2bd759(0x91f)+_0x123af8[_0x2bd759(0x853)][_0x2bd759(0x823)](_0x4d1e88=>_0x2bd759(0x1c9)+_0x4d1e88+'</li>')[_0x2bd759(0x566)]('')+_0x2bd759(0xb80)+_0x123af8[_0x2bd759(0xe0c)][_0x2bd759(0x823)](_0x1b98bc=>_0x2bd759(0x1c9)+_0x1b98bc+'</li>')[_0x2bd759(0x566)]('')+_0x2bd759(0x4e3)+_0x123af8['teacherSuggestions']['map'](_0x44ac46=>_0x2bd759(0x1c9)+_0x44ac46+_0x2bd759(0x7ab))[_0x2bd759(0x566)]('')+_0x2bd759(0x8e3);}function formatAndPrintWorksheet(_0x25c16c,_0x128541){const _0x410c64=_0x4a01bc,_0x186ecc=_0x410c64(0x46d)+_0x25c16c['topic']+_0x410c64(0xd3a)+_0x25c16c[_0x410c64(0xb1c)]+_0x410c64(0x6b8)+_0x25c16c[_0x410c64(0x3ef)][_0x410c64(0x823)]((_0x45fd4f,_0x2d77c6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x2d77c6+0x1)+'.\x20'+_0x45fd4f[_0x410c64(0xbf2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x45fd4f[_0x410c64(0x277)]?_0x410c64(0x820)+_0x45fd4f['imageCode']+_0x410c64(0xbfc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x410c64(0x566)]('')+_0x410c64(0x4cf);_0x128541[_0x410c64(0xdb5)][_0x410c64(0x333)](_0x186ecc),_0x128541[_0x410c64(0xdb5)][_0x410c64(0xddb)](),_0x128541[_0x410c64(0x9ee)]=function(){setTimeout(()=>{const _0x4f6395=_0x551a;_0x128541[_0x4f6395(0xdc7)]();},0x3e8);};}async function generateWorksheet(){const _0x168717=_0x4a01bc,_0x35f196=document[_0x168717(0x657)](_0x168717(0xb93))[_0x168717(0x68e)][_0x168717(0x5b2)]();if(!_0x35f196){showMessage(_0x168717(0x398));return;}const _0x595179=document[_0x168717(0x657)](_0x168717(0xaaf))['checked'],_0x42f1da=_0x595179?'':_0x168717(0xcad),_0x6dd806=window[_0x168717(0x321)]('',_0x168717(0x24c));_0x6dd806['document'][_0x168717(0x333)](_0x168717(0xb4f));const _0xd13fdd=parseInt(document[_0x168717(0x657)](_0x168717(0x949))['value']),_0x13b915=document[_0x168717(0x657)]('include-images-checkbox')[_0x168717(0x536)],_0xae4625=_0x13b915?_0x168717(0xd2b):'',_0x32cd37=_0x168717(0x5dd)+_0x42f1da+_0x168717(0x8a1)+_0xd13fdd+_0x168717(0x87c)+_0x35f196+_0x168717(0xb83)+_0xae4625+_0x168717(0xac7)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x26c104={'type':_0x168717(0x73e),'properties':{'topic':{'type':_0x168717(0xcf1)},'questions':{'type':_0x168717(0x614),'items':{'type':_0x168717(0x73e),'properties':{'questionText':{'type':_0x168717(0xcf1)},'imageCode':{'type':_0x168717(0xcf1)}},'required':[_0x168717(0xbf2)]}}},'required':[_0x168717(0xb1c),'questions']};document[_0x168717(0x657)](_0x168717(0x616))['textContent']='',document[_0x168717(0x657)](_0x168717(0x653))[_0x168717(0xb6d)][_0x168717(0x66f)](_0x168717(0x599)),document[_0x168717(0x657)]('quiz-generation-area')[_0x168717(0xb6d)]['remove'](_0x168717(0x599)),generateWorksheetBtn['disabled']=!![];try{const _0x597c53=await callAnalysisApi(_0x32cd37,_0x26c104);formatAndPrintWorksheet(_0x597c53,_0x6dd806);}catch(_0x4e948f){console[_0x168717(0xcb6)](_0x168717(0x693),_0x4e948f);if(_0x6dd806)_0x6dd806[_0x168717(0xddb)]();showMessage(_0x168717(0x52b));}finally{document['getElementById'](_0x168717(0x653))[_0x168717(0xb6d)][_0x168717(0xa52)](_0x168717(0x599)),document[_0x168717(0x657)](_0x168717(0xcf4))[_0x168717(0xb6d)][_0x168717(0xa52)](_0x168717(0x599)),generateWorksheetBtn[_0x168717(0x4b4)]=![];}}async function callAnalysisApi(_0x5b06d3,_0x415e7f){const _0x3c2a27=_0x4a01bc,_0x3f598c={'contents':[{'role':_0x3c2a27(0x53c),'parts':[{'text':_0x5b06d3}]}],'generationConfig':{'responseMimeType':_0x3c2a27(0x35a),'responseSchema':_0x415e7f}},_0x47d7c8=_0x3c2a27(0x20f),_0x4053f8=_0x3c2a27(0xa3a)+_0x47d7c8,_0x48ec05=await fetch(_0x4053f8,{'method':_0x3c2a27(0xe17),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3c2a27(0x7ba)](_0x3f598c)});if(!_0x48ec05['ok'])throw new Error(_0x3c2a27(0xa21)+_0x48ec05[_0x3c2a27(0x531)]);const _0x3a5169=await _0x48ec05[_0x3c2a27(0x8df)]();if(_0x3a5169[_0x3c2a27(0xa8d)]?.[0x0]?.[_0x3c2a27(0xced)]?.[_0x3c2a27(0x5d5)]?.[0x0])return JSON['parse'](_0x3a5169['candidates'][0x0][_0x3c2a27(0xced)][_0x3c2a27(0x5d5)][0x0][_0x3c2a27(0xe09)]);else{let _0x57e74e=_0x3c2a27(0x956);if(_0x3a5169[_0x3c2a27(0x826)]?.[_0x3c2a27(0x40e)])_0x57e74e=_0x3c2a27(0x627)+_0x3a5169[_0x3c2a27(0x826)][_0x3c2a27(0x40e)]+'.';else _0x3a5169['candidates']?.[0x0]?.[_0x3c2a27(0xe2a)]&&_0x3a5169[_0x3c2a27(0xa8d)][0x0]['finishReason']!==_0x3c2a27(0xc60)&&(_0x57e74e=_0x3c2a27(0x936)+_0x3a5169['candidates'][0x0][_0x3c2a27(0xe2a)]+'.');console[_0x3c2a27(0xcb6)](_0x57e74e,JSON[_0x3c2a27(0x7ba)](_0x3a5169));throw new Error(_0x57e74e);}}async function handleStartSyncMode(_0x3b12d1,_0x4a3aaf=![],_0xa6315c=_0x4a01bc(0x890)){const _0x165214=_0x4a01bc,_0x231f7f=allQuizzes[_0x165214(0x1d5)](_0x3791cc=>_0x3791cc['id']===_0x3b12d1)||allQuizzesGlobal[_0x165214(0x1d5)](_0x5b0a5b=>_0x5b0a5b['id']===_0x3b12d1);if(!_0x231f7f){showMessage(_0x165214(0x6d4));return;}currentQuizData=getShuffledQuiz(_0x231f7f);const _0x11f2fa=Math['floor'](0x3e8+Math[_0x165214(0xf11)]()*0x2328)[_0x165214(0x830)](),_0x18c53e=doc(db,'artifacts/'+appId+_0x165214(0x780),_0x231f7f[_0x165214(0x401)]),_0x480707=await getDoc(_0x18c53e);if(!_0x480707[_0x165214(0xce9)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x7739e4=_0x480707[_0x165214(0xd0c)]()[_0x165214(0xc2e)]||[],_0x528677={};if(_0xa6315c==='anonymous'||_0xa6315c==='anonymous_reveal_end'){const _0x52c047=[...ANONYMOUS_NAMES][_0x165214(0xc1a)](()=>0.5-Math[_0x165214(0xf11)]());_0x7739e4[_0x165214(0x427)]((_0x4c2e9e,_0x27fea9)=>{const _0x3074e9=_0x165214;_0x528677[_0x4c2e9e]=_0x52c047[_0x27fea9]||_0x3074e9(0x8bc)+(_0x27fea9+0x1);});}const _0x51444e=document[_0x165214(0x657)](_0x165214(0xae1))[_0x165214(0x536)],_0x544bb2=parseInt(document['getElementById'](_0x165214(0xd60))[_0x165214(0x68e)],0xa);let _0x43094d={'timerMode':_0x165214(0x813),'timerDuration':0x0};_0x51444e&&(_0x43094d[_0x165214(0xc54)]=_0x165214(0xe7a),_0x43094d[_0x165214(0x5c4)]=_0x544bb2||0xf0);const _0x52fc36=document[_0x165214(0x657)](_0x165214(0x560))[_0x165214(0x536)],_0x30feab=document[_0x165214(0x657)](_0x165214(0x9a9))['checked'];try{const _0x3fc631=await addDoc(collection(db,_0x165214(0x4b1)+appId+_0x165214(0xa25)),{'quizId':_0x231f7f['id'],'pin':_0x11f2fa,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4a3aaf,'players':{},'gameVariant':_0xa6315c,'reviewQuestionIndex':0x0,'playerNicknames':_0x528677,'isAnonymousRevealed':![],..._0x43094d,'showAnswerInAnonymous':_0x52fc36,'isBlackMarketEnabled':_0x30feab,'showSlowResponders':!![],'slowResponderCount':0x3});currentLiveGameId=_0x3fc631['id'],showView(_0x165214(0xdc0)),renderSyncLobbyView(_0x11f2fa,_0x231f7f[_0x165214(0xb1c)]),listenForSyncGameUpdates();const _0x1a92f0={'gameId':currentLiveGameId,'mode':_0x165214(0x988),'role':_0x165214(0xf2b)};sessionStorage[_0x165214(0x924)](_0x165214(0xe70),JSON[_0x165214(0x7ba)](_0x1a92f0));}catch(_0x330411){console['error'](_0x165214(0xaac),_0x330411),showMessage(_0x165214(0x770));}}function calculateFinalPodiumScores(_0x1c6c74){const _0x6b3244=_0x4a01bc;if(!_0x1c6c74||!_0x1c6c74[_0x6b3244(0x7ce)]||!_0x1c6c74['players'])return _0x1c6c74[_0x6b3244(0x4f7)]||{};const _0x50020a=_0x1c6c74[_0x6b3244(0x7ce)]['questions'][_0x6b3244(0x8ca)],_0x2d3ad6=JSON['parse'](JSON[_0x6b3244(0x7ba)](_0x1c6c74[_0x6b3244(0x4f7)]));return Object[_0x6b3244(0x7ef)](_0x2d3ad6)[_0x6b3244(0x427)](_0x1b4e27=>{const _0x519b64=_0x6b3244,_0x170e9f=_0x1b4e27[_0x519b64(0x43c)]||0x0,_0x282f94=_0x1b4e27[_0x519b64(0x2e5)]||0x0;_0x50020a>0x0&&_0x170e9f===_0x50020a?_0x1b4e27[_0x519b64(0x2c4)]=!![]:_0x1b4e27[_0x519b64(0x2c4)]=![],_0x1b4e27[_0x519b64(0x7d5)]=_0x170e9f,_0x1b4e27[_0x519b64(0x2e5)]=_0x282f94;}),_0x2d3ad6;}function _0x551a(_0x1a1b90,_0x43109b){const _0x183294=_0x1832();return _0x551a=function(_0x551ad5,_0x12c24f){_0x551ad5=_0x551ad5-0x16d;let _0x45ef0c=_0x183294[_0x551ad5];return _0x45ef0c;},_0x551a(_0x1a1b90,_0x43109b);}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x14a6a6=_0x4a01bc;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x396359=doc(db,'artifacts/'+appId+_0x14a6a6(0xa25),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x396359,_0x425df7=>{const _0x5419fc=_0x14a6a6;if(!_0x425df7[_0x5419fc(0xce9)]()){sessionStorage[_0x5419fc(0x9be)]('activeGameSession'),showMessage(_0x5419fc(0xa3b));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5419fc(0xf2b)?showView(_0x5419fc(0x478)):showView(_0x5419fc(0x6c5));return;}cachedGameData=_0x425df7[_0x5419fc(0xd0c)](),cachedGameData[_0x5419fc(0x7ce)]&&(currentQuizData=cachedGameData[_0x5419fc(0x7ce)]),syncDataAndRender();});const _0x4e2454=collection(db,'artifacts/'+appId+_0x14a6a6(0x392)+currentLiveGameId+_0x14a6a6(0x5b4));if(currentMode==='admin')unsubscribePlayersCollectionListener=onSnapshot(_0x4e2454,_0x38147c=>{const _0x34870e=_0x14a6a6;_0x38147c[_0x34870e(0xb5c)]()[_0x34870e(0x427)](_0x1367e8=>{const _0x157b43=_0x34870e;if(_0x1367e8['type']==='added'||_0x1367e8['type']==='modified')cachedPlayerData[_0x1367e8['doc']['id']]=_0x1367e8[_0x157b43(0x709)][_0x157b43(0xd0c)]();else _0x1367e8[_0x157b43(0xd6c)]===_0x157b43(0x964)&&delete cachedPlayerData[_0x1367e8['doc']['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x14a6a6(0x8ca)]>0x0){const _0x21f7db=query(_0x4e2454,where(_0x14a6a6(0x9ce),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x21f7db,_0x229145=>{const _0x2e8f5a=_0x14a6a6;_0x229145[_0x2e8f5a(0xb5c)]()[_0x2e8f5a(0x427)](_0x32deb9=>{const _0x4057f2=_0x2e8f5a;(_0x32deb9[_0x4057f2(0xd6c)]==='added'||_0x32deb9[_0x4057f2(0xd6c)]==='modified')&&(cachedPlayerData[_0x32deb9[_0x4057f2(0x709)]['id']]=_0x32deb9[_0x4057f2(0x709)][_0x4057f2(0xd0c)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x49bc38=_0x4a01bc;if(!cachedGameData)return;const _0x4f938c={},_0x269eec=cachedGameData[_0x49bc38(0x567)];Object[_0x49bc38(0xde1)](cachedPlayerData)['forEach'](_0x3236e1=>{const _0x52b0c5=_0x49bc38,_0x5efda6=cachedPlayerData[_0x3236e1],_0x1009fc=_0x5efda6['answers']&&_0x5efda6[_0x52b0c5(0xbd1)][_0x52b0c5(0xce0)](_0x1b350d=>_0x1b350d[_0x52b0c5(0x683)]===_0x269eec);_0x4f938c[_0x3236e1]={..._0x5efda6,'answered':_0x1009fc};});const _0x171dc4={...cachedGameData,'players':_0x4f938c};currentMode===_0x49bc38(0xf2b)?updateAdminSyncView(_0x171dc4):updateStudentSyncView(_0x171dc4);}function renderSyncLobbyView(_0x11c111,_0x2d2368){const _0x30d0dd=_0x4a01bc;liveGameView[_0x30d0dd(0x891)]=_0x30d0dd(0x928)+_0x2d2368+_0x30d0dd(0xde4)+_0x11c111+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x30a8aa=document[_0x30d0dd(0x657)]('confidence-scoring-toggle'),_0x1bee88=document['getElementById']('confidence-scoring-description');_0x30a8aa['addEventListener'](_0x30d0dd(0x79d),()=>{const _0x145ecb=_0x30d0dd;_0x1bee88[_0x145ecb(0xd7a)]['display']=_0x30a8aa[_0x145ecb(0x536)]?_0x145ecb(0xab6):_0x145ecb(0x813);}),document['getElementById'](_0x30d0dd(0xac2))[_0x30d0dd(0xdc6)]('click',async()=>{const _0x213343=_0x30d0dd,_0xc16cb0=doc(db,_0x213343(0x4b1)+appId+_0x213343(0xa25),currentLiveGameId),_0x13f04f=document['getElementById'](_0x213343(0xcba))[_0x213343(0x536)];await updateDoc(_0xc16cb0,{'status':_0x213343(0xe3b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x13f04f});});}function updateAdminSyncView(_0x5b38d0){const _0x3767d3=_0x4a01bc;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x5b38d0[_0x3767d3(0x531)]){case _0x3767d3(0x31a):renderSyncLobbyView(_0x5b38d0[_0x3767d3(0x7a7)],_0x5b38d0['shuffledQuiz'][_0x3767d3(0xb1c)]);const _0x4558c2=Object[_0x3767d3(0x1f7)](_0x5b38d0['players']||{})[_0x3767d3(0xc4c)](([_0x165746,_0x351c82])=>_0x351c82[_0x3767d3(0x531)]!==_0x3767d3(0x285));document['getElementById'](_0x3767d3(0x573))[_0x3767d3(0x54c)]=_0x4558c2['length'],document['getElementById'](_0x3767d3(0x867))['innerHTML']=_0x4558c2['map'](([_0x5c897c,_0x2c40d2])=>_0x3767d3(0xf15)+_0x5c897c+_0x3767d3(0x447)+_0x5c897c+_0x3767d3(0xf1c))[_0x3767d3(0x566)]('')||_0x3767d3(0xb76),document['getElementById'](_0x3767d3(0xac2))[_0x3767d3(0x4b4)]=_0x4558c2[_0x3767d3(0x8ca)]===0x0;break;case _0x3767d3(0xe3b):const _0x3ceeeb=Object[_0x3767d3(0x7ef)](_0x5b38d0[_0x3767d3(0x4f7)]||{})[_0x3767d3(0xc4c)](_0x1320fc=>_0x1320fc['status']!==_0x3767d3(0x285)),_0x44ccab=_0x3ceeeb[_0x3767d3(0xc4c)](_0x5e6300=>_0x5e6300[_0x3767d3(0xd88)]===!![]||_0x5e6300['answeredCurrentQuestion']===!![]),_0x281390=_0x3ceeeb[_0x3767d3(0xc4c)](_0x388a1e=>!_0x388a1e[_0x3767d3(0xd88)]&&!_0x388a1e[_0x3767d3(0x713)]),_0x4fb39b=_0x44ccab[_0x3767d3(0x8ca)],_0x3dae63=_0x281390['length'],_0x2356ad=_0x3ceeeb[_0x3767d3(0x8ca)],_0x1d7efa=_0x4fb39b===_0x2356ad&&_0x2356ad>0x0;if(_0x1d7efa&&_0x5b38d0[_0x3767d3(0x531)]===_0x3767d3(0xe3b)){const _0x49233c=doc(db,_0x3767d3(0x4b1)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x49233c,{'status':_0x3767d3(0x613)});return;}if(document[_0x3767d3(0x657)](_0x3767d3(0x454))===null)renderAdminSyncQuestionView(_0x5b38d0);else{const _0x293876=document['getElementById'](_0x3767d3(0x7f6));_0x293876&&(_0x293876[_0x3767d3(0x54c)]=_0x4fb39b+'/'+_0x2356ad);const _0x5f096d=document[_0x3767d3(0x657)]('show-results-btn');if(_0x5f096d)_0x5f096d[_0x3767d3(0x4b4)]=!_0x1d7efa;const _0x1a8440=document['getElementById']('sync-player-list');_0x1a8440&&(_0x1a8440[_0x3767d3(0x891)]=_0x3ceeeb['map'](_0xa3fd10=>{const _0x2a48db=_0x3767d3,_0x421820=_0xa3fd10[_0x2a48db(0xd88)]===!![]||_0xa3fd10[_0x2a48db(0x713)]===!![],_0x57ac1e=_0x421820?'bg-green-500':_0x2a48db(0x348),_0x323808=_0x421820?_0x2a48db(0xd6f):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x2a48db(0x8be)+_0x57ac1e+'\x20border\x20border-white/10\x20shadow-sm\x22>'+_0x323808+_0x2a48db(0x91d)+_0xa3fd10[_0x2a48db(0x9ce)]+_0x2a48db(0xeea)+_0xa3fd10[_0x2a48db(0x9ce)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})[_0x3767d3(0x566)](''));const _0x4d0538=document[_0x3767d3(0x657)](_0x3767d3(0x353)),_0x3d9983=document[_0x3767d3(0x657)](_0x3767d3(0x4c8));if(_0x4d0538)_0x4d0538['textContent']=_0x2356ad;if(_0x3d9983)_0x3d9983[_0x3767d3(0x54c)]=_0x3dae63;const _0x2a6b80=_0x5b38d0[_0x3767d3(0x1be)]!==![],_0x4c22c8=parseInt(_0x5b38d0[_0x3767d3(0xd0d)]||0x3,0xa),_0x372458=document[_0x3767d3(0x657)](_0x3767d3(0x37b));if(_0x372458){if(_0x2a6b80&&_0x3dae63>0x0&&_0x3dae63<=_0x4c22c8&&_0x2356ad>_0x3dae63){const _0x14d561=_0x281390[_0x3767d3(0x823)](_0x58d173=>_0x58d173['name'])[_0x3767d3(0x566)](',\x20');_0x372458[_0x3767d3(0x891)]=_0x3767d3(0x262)+_0x3dae63+_0x3767d3(0x705)+_0x14d561+_0x3767d3(0xd0e);}else _0x372458[_0x3767d3(0x891)]='';}}const _0x4ce4f0=_0x5b38d0[_0x3767d3(0xc54)]==='per_question'&&_0x5b38d0[_0x3767d3(0x615)];if(_0x4ce4f0){const _0x48a983=_0x5b38d0[_0x3767d3(0x615)][_0x3767d3(0x410)]()[_0x3767d3(0x261)](),_0x546e9a=_0x5b38d0[_0x3767d3(0x5c4)]*0x3e8,_0x3042b1=_0x48a983+_0x546e9a,_0x33ce20=document[_0x3767d3(0x657)](_0x3767d3(0x1f5)),_0x426885=document[_0x3767d3(0x657)](_0x3767d3(0x532));syncQuestionTimerInterval=setInterval(()=>{const _0x522d7c=_0x3767d3,_0x7ae671=Date['now'](),_0x4679f9=_0x3ceeeb['length']>0x0&&_0x3ceeeb['every'](_0x21279b=>{const _0xf57185=_0x551a;if(_0x21279b[_0xf57185(0xd88)])return!![];const _0x5195a5=_0x21279b[_0xf57185(0x919)]||0x0;return _0x7ae671>=_0x48a983+_0x546e9a+_0x5195a5;});if(_0x4679f9){clearInterval(syncQuestionTimerInterval);const _0x3013a0=doc(db,'artifacts/'+appId+_0x522d7c(0xa25),currentLiveGameId);updateDoc(_0x3013a0,{'status':'summary'});return;}const _0x595781=_0x3042b1-_0x7ae671;if(_0x595781<=0x0){if(_0x33ce20)_0x33ce20[_0x522d7c(0xd7a)][_0x522d7c(0x1c6)]='0%';if(_0x426885)_0x426885['textContent']='0\x20(รอโบนัส)';}else{if(_0x33ce20&&_0x426885){const _0x5007a9=_0x595781/_0x546e9a*0x64;_0x33ce20[_0x522d7c(0xd7a)][_0x522d7c(0x1c6)]=_0x5007a9+'%',_0x426885[_0x522d7c(0x54c)]=Math[_0x522d7c(0x322)](_0x595781/0x3e8);}}},0x1f4);}break;case _0x3767d3(0x613):const _0x3131e8=_0x5b38d0[_0x3767d3(0x567)],_0x2c033f=_0x5b38d0[_0x3767d3(0x7ce)]['questions'][_0x3131e8];renderSyncSummaryView(_0x5b38d0,_0x2c033f,!![]);break;case _0x3767d3(0x23b):const _0x46b09c=_0x5b38d0['gameVariant']||_0x3767d3(0x890);_0x46b09c===_0x3767d3(0x199)||_0x46b09c===_0x3767d3(0x2fb)?renderAdminSyncDashboard(_0x5b38d0,!![],_0x5b38d0[_0x3767d3(0x76d)]):(_0x5b38d0[_0x3767d3(0x531)]===_0x3767d3(0x23b)&&!_0x5b38d0['scoresCalculated']&&((async()=>{const _0x3e6a39=_0x3767d3;try{const _0x24a02b=doc(db,_0x3e6a39(0x4b1)+appId+_0x3e6a39(0xa25),currentLiveGameId);await updateDoc(_0x24a02b,{'scoresCalculated':!![]});const _0xc47a95=cachedPlayerData||{},_0x223ec1=_0x5b38d0[_0x3e6a39(0x7ce)]['questions'][_0x3e6a39(0x8ca)],_0x307726=_0x5b38d0[_0x3e6a39(0x567)],_0x4e3080=writeBatch(db);let _0x492aa7=0x0;const _0x12165b=[];Object[_0x3e6a39(0x1f7)](_0xc47a95)[_0x3e6a39(0x427)](([_0x31d759,_0x2c7c73])=>{const _0x24f841=_0x3e6a39;if(_0x2c7c73[_0x24f841(0x531)]!==_0x24f841(0x285)){const _0x144861=(_0x2c7c73[_0x24f841(0xbd1)]||[])[_0x24f841(0x1d5)](_0x3855b5=>_0x3855b5[_0x24f841(0x683)]===_0x307726);if(_0x144861&&_0x144861[_0x24f841(0xd19)]===_0x24f841(0xbdf)){const _0xe282a3=_0x144861['wagerAmount']||0x0;_0x144861['isCorrect']?_0x12165b[_0x24f841(0xe7d)](_0x31d759):_0x492aa7+=_0xe282a3;}}});const _0x181d1b=_0x5b38d0['centralPot']||0x0,_0x4e9b36=_0x181d1b+_0x492aa7;let _0xa9121a=0x0,_0x48f417=_0x4e9b36;_0x12165b['length']>0x0&&_0x4e9b36>0x0&&(_0xa9121a=Math[_0x3e6a39(0xd62)](_0x4e9b36/_0x12165b['length']),_0x48f417=_0x4e9b36%_0x12165b['length']);const _0x349a43=[];Object[_0x3e6a39(0x7ef)](_0xc47a95)[_0x3e6a39(0x427)](_0x18f626=>{const _0x4285f1=_0x3e6a39;if(_0x18f626[_0x4285f1(0x531)]!==_0x4285f1(0x285)){const _0x1ee712=_0x18f626[_0x4285f1(0x9ce)],_0x2764db=doc(db,_0x4285f1(0x4b1)+appId+_0x4285f1(0x392)+currentLiveGameId+_0x4285f1(0x5b4),_0x1ee712);let _0x63ee27=0x0,_0x43875b=_0x18f626[_0x4285f1(0xbd1)];_0x12165b[_0x4285f1(0x484)](_0x1ee712)&&_0xa9121a>0x0&&(_0x63ee27=_0xa9121a,_0x43875b=(_0x18f626[_0x4285f1(0xbd1)]||[])[_0x4285f1(0x823)](_0x1eded4=>{const _0x3649ba=_0x4285f1;if(_0x1eded4[_0x3649ba(0x683)]===_0x307726)return{..._0x1eded4,'potBonus':_0xa9121a};return _0x1eded4;}),_0x4e3080[_0x4285f1(0x294)](_0x2764db,{'answers':_0x43875b}));const _0x3321ed=_0x18f626[_0x4285f1(0x43c)]||0x0;let _0x50aa6f=_0x18f626[_0x4285f1(0x2e5)]||0x0;_0x50aa6f+=_0x63ee27,_0x223ec1>0x0&&_0x3321ed===_0x223ec1&&(_0x50aa6f+=0x1),_0x4e3080[_0x4285f1(0x294)](_0x2764db,{'score':_0x3321ed,'totalPoints':_0x50aa6f,'pointsLastRound':_0x50aa6f}),_0x349a43[_0x4285f1(0xe7d)]({..._0x18f626,'score':_0x3321ed,'totalPoints':_0x50aa6f,'pointsLastRound':_0x50aa6f,'answers':_0x43875b,'correctStreak':_0x18f626[_0x4285f1(0x64c)]});}}),_0x4e3080[_0x3e6a39(0x294)](_0x24a02b,{'centralPot':_0x48f417,'publicLeaderboard':_0x349a43}),await _0x4e3080[_0x3e6a39(0xb4a)](),console[_0x3e6a39(0x546)]('Pot\x20Distributed.\x20Leaderboard\x20Updated.');}catch(_0x460ac1){console[_0x3e6a39(0xcb6)](_0x3e6a39(0x66b),_0x460ac1);}})()),renderAdminSyncDashboard(_0x5b38d0,!![],_0x5b38d0['currentQuestionIndex']));break;case _0x3767d3(0x9e2):const _0x31c56c=Object['keys'](_0x5b38d0[_0x3767d3(0x4f7)]||{})[_0x3767d3(0x8ca)]>0x0,_0x1420cc=_0x5b38d0[_0x3767d3(0x177)]===!![],_0x1e2309=_0x5b38d0[_0x3767d3(0xadf)]===!![];_0x1e2309&&!_0x1420cc&&_0x31c56c&&(console['log']('Detecting\x20unsaved\x20game\x20upon\x20resume...\x20Saving\x20now.'),saveGameResultsAsSubmissions(_0x5b38d0));sessionStorage[_0x3767d3(0x9be)]('activeGameSession');const _0x3f2051=calculateFinalPodiumScores(_0x5b38d0);showPodiumView(_0x3f2051,_0x3767d3(0x988),_0x5b38d0);break;}}function renderAdminSyncQuestionView(_0x131c4e){const _0x1020f9=_0x4a01bc,_0x1f5032=_0x131c4e[_0x1020f9(0x567)],_0x4fc13e=_0x131c4e[_0x1020f9(0x7ce)][_0x1020f9(0x3ef)][_0x1f5032],_0x44feb6=_0x131c4e[_0x1020f9(0x7ce)][_0x1020f9(0x3ef)][_0x1020f9(0x8ca)],_0x24eb8b=Object[_0x1020f9(0x7ef)](_0x131c4e[_0x1020f9(0x4f7)]||{})['filter'](_0x3b48ae=>_0x3b48ae['status']!==_0x1020f9(0x285)),_0x2ecc0a=_0x24eb8b[_0x1020f9(0xc4c)](_0xec3a49=>_0xec3a49[_0x1020f9(0xd88)]===!![]||_0xec3a49[_0x1020f9(0x713)]===!![]),_0x2b39d0=_0x24eb8b[_0x1020f9(0xc4c)](_0x5ef455=>!_0x5ef455[_0x1020f9(0xd88)]&&!_0x5ef455['answeredCurrentQuestion']),_0x15d764=_0x2ecc0a['length'],_0x2b3fdc=_0x24eb8b[_0x1020f9(0x8ca)],_0x12f2d8=_0x2b39d0[_0x1020f9(0x8ca)],_0x26aefd=_0x15d764===_0x2b3fdc&&_0x2b3fdc>0x0,_0x9ee3fa=_0x131c4e[_0x1020f9(0x1be)]!==![],_0x1b8e88=parseInt(_0x131c4e[_0x1020f9(0xd0d)]||0x3,0xa),_0x215eec=getCentralPotHTML(_0x131c4e),_0x4f71a4=_0x4fc13e[_0x1020f9(0x7ed)]||_0x131c4e[_0x1020f9(0x7ce)][_0x1020f9(0x335)];let _0xcfdb98='';(_0x4f71a4===_0x1020f9(0x190)||_0x4f71a4===_0x1020f9(0x467))&&_0x4fc13e['options']&&_0x4fc13e[_0x1020f9(0x5e9)][_0x1020f9(0x8ca)]>0x0?_0xcfdb98=_0x1020f9(0x9cc):_0xcfdb98=(_0x4fc13e['options']||[])[_0x1020f9(0x823)](_0x44ade1=>_0x1020f9(0xd1d)+_0x44ade1+_0x1020f9(0xbfc))['join']('');let _0x5e0499='';_0x131c4e[_0x1020f9(0xc54)]===_0x1020f9(0xe7a)&&(_0x5e0499='<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x131c4e[_0x1020f9(0x5c4)]+_0x1020f9(0x5c3));const _0x5f9b9a=_0x24eb8b[_0x1020f9(0x823)](_0x19f4dc=>{const _0x1ebc79=_0x1020f9,_0x495a4b=_0x19f4dc[_0x1ebc79(0xd88)]===!![]||_0x19f4dc[_0x1ebc79(0x713)]===!![],_0x4aa937=_0x495a4b?_0x1ebc79(0x965):_0x1ebc79(0x348),_0x192d17=_0x495a4b?_0x1ebc79(0xd6f):_0x1ebc79(0xc25);return _0x1ebc79(0x8be)+_0x4aa937+_0x1ebc79(0x707)+_0x192d17+_0x1ebc79(0x91d)+_0x19f4dc[_0x1ebc79(0x9ce)]+_0x1ebc79(0xeea)+_0x19f4dc[_0x1ebc79(0x9ce)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})[_0x1020f9(0x566)]('');let _0x2690b0='';if(_0x9ee3fa&&_0x12f2d8>0x0&&_0x12f2d8<=_0x1b8e88&&_0x2b3fdc>_0x12f2d8){const _0xf86d16=_0x2b39d0[_0x1020f9(0x823)](_0x18db05=>_0x18db05[_0x1020f9(0x9ce)])[_0x1020f9(0x566)](',\x20');_0x2690b0=_0x1020f9(0x977)+_0x12f2d8+_0x1020f9(0xb32)+_0xf86d16+_0x1020f9(0xb97);}else _0x2690b0='<div\x20id=\x22slow-responder-container\x22\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x22></div>';liveGameView[_0x1020f9(0x891)]=_0x1020f9(0xedd)+(_0x1f5032+0x1)+_0x1020f9(0xa47)+_0x44feb6+_0x1020f9(0x9d4)+_0x131c4e['pin']+_0x1020f9(0xd2c)+_0x215eec+_0x1020f9(0x34b)+_0x15d764+'/'+_0x2b3fdc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x20border\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users-cog\x20mr-1\x22></i>\x20จัดการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-sm\x20border\x20border-white/10\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20justify-between\x20mb-3\x20pb-2\x20border-b\x20border-white/10\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20cursor-pointer\x20text-yellow-300\x20hover:text-yellow-200\x20select-none\x20bg-black/20\x20px-2\x20py-1\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22toggle-slow-responders\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20rounded\x22\x20'+(_0x9ee3fa?'checked':'')+_0x1020f9(0xa24)+_0x1b8e88+_0x1020f9(0x5e2)+Math[_0x1020f9(0xf23)](0x1,_0x2b3fdc-0x1)+_0x1020f9(0x99f)+_0x5f9b9a+_0x1020f9(0x675)+_0x5e0499+_0x1020f9(0xaba)+(_0x4fc13e[_0x1020f9(0xbf2)]||_0x4fc13e[_0x1020f9(0x472)])+_0x1020f9(0x752)+_0xcfdb98+_0x1020f9(0x3c3)+_0x2690b0+_0x1020f9(0x26f)+(!_0x26aefd?_0x1020f9(0x4b4):'')+_0x1020f9(0x3b2);if(window[_0x1020f9(0x436)])MathJax[_0x1020f9(0xdce)]();const _0x532ad2=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);document[_0x1020f9(0x657)](_0x1020f9(0x728))[_0x1020f9(0xdc6)](_0x1020f9(0x4ca),async()=>{await updateDoc(_0x532ad2,{'status':'summary'});}),document[_0x1020f9(0x657)](_0x1020f9(0x899))[_0x1020f9(0x385)]=()=>{openScratchpad(_0x4fc13e,_0x4fc13e['options']||[]);};const _0x46d80b=document[_0x1020f9(0x657)](_0x1020f9(0x454));document['getElementById'](_0x1020f9(0x767))[_0x1020f9(0xdc6)](_0x1020f9(0x4ca),()=>{const _0x2fd359=_0x1020f9;_0x46d80b['classList'][_0x2fd359(0x66f)](_0x2fd359(0x599));}),document[_0x1020f9(0x657)](_0x1020f9(0x715))['addEventListener'](_0x1020f9(0x4ca),()=>{const _0x2cc04f=_0x1020f9;_0x46d80b['classList'][_0x2cc04f(0xa52)](_0x2cc04f(0x599));}),document['getElementById'](_0x1020f9(0x515))[_0x1020f9(0xdc6)](_0x1020f9(0x79d),async _0x543e6c=>{const _0x1bc49f=_0x1020f9;await updateDoc(_0x532ad2,{'showSlowResponders':_0x543e6c[_0x1bc49f(0x6f7)][_0x1bc49f(0x536)]});}),document['getElementById'](_0x1020f9(0x3fd))[_0x1020f9(0xdc6)](_0x1020f9(0x79d),async _0x7b7d4=>{const _0x392265=_0x1020f9;let _0x1ad3c2=parseInt(_0x7b7d4[_0x392265(0x6f7)][_0x392265(0x68e)]);if(_0x1ad3c2<0x1)_0x1ad3c2=0x1;await updateDoc(_0x532ad2,{'slowResponderCount':_0x1ad3c2});});const _0x1e339c=document[_0x1020f9(0x657)](_0x1020f9(0x902));_0x1e339c&&(_0x1e339c[_0x1020f9(0x385)]=()=>{const _0x4ea843=_0x1020f9;showConfirmation(_0x4ea843(0xecf),async()=>{const _0x46bd92=_0x4ea843;await updateDoc(_0x532ad2,{'status':_0x46bd92(0x9e2)});});});}function renderSyncLeaderboardView(_0x3bcfcc,_0x2fd517){const _0x4e1148=_0x4a01bc,_0x503c3f=Object[_0x4e1148(0x7ef)](_0x3bcfcc[_0x4e1148(0x4f7)]||{});_0x503c3f[_0x4e1148(0xc1a)]((_0x1d6962,_0x22e58a)=>_0x22e58a['score']-_0x1d6962[_0x4e1148(0x43c)]);const _0x1c1a21=_0x503c3f[_0x4e1148(0xe0b)](0x0,0x5);let _0x5351e7='';if(_0x2fd517){const _0x35c1ad=_0x3bcfcc[_0x4e1148(0x567)]>=_0x3bcfcc[_0x4e1148(0x7ce)][_0x4e1148(0x3ef)][_0x4e1148(0x8ca)]-0x1;_0x5351e7=_0x4e1148(0x5b3)+(_0x35c1ad?_0x4e1148(0x334):_0x4e1148(0xccd))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x5351e7=_0x4e1148(0x433);liveGameView[_0x4e1148(0x891)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x1c1a21['map']((_0x4576e5,_0x2948b6)=>_0x4e1148(0xdaf)+(_0x2948b6+0x1)+'.\x20'+_0x4576e5[_0x4e1148(0x9ce)]+_0x4e1148(0xaa0)+_0x4576e5[_0x4e1148(0x43c)]+'</span></div>')['join']('')+_0x4e1148(0x879)+_0x5351e7+_0x4e1148(0x304),_0x2fd517&&document[_0x4e1148(0x657)](_0x4e1148(0x759))['addEventListener'](_0x4e1148(0x4ca),async()=>{const _0x5b8349=_0x4e1148,_0xf0009d=doc(db,_0x5b8349(0x4b1)+appId+_0x5b8349(0xa25),currentLiveGameId),_0x26f86a=_0x3bcfcc[_0x5b8349(0x567)]+0x1;if(_0x26f86a<_0x3bcfcc[_0x5b8349(0x7ce)]['questions'][_0x5b8349(0x8ca)]){const _0x4db3a3={};Object[_0x5b8349(0xde1)](_0x3bcfcc['players'])['forEach'](_0x1d8353=>{const _0x6ed806=_0x5b8349;_0x4db3a3[_0x6ed806(0x729)+_0x1d8353+'.answered']=![];}),await updateDoc(_0xf0009d,{'status':_0x5b8349(0xe3b),'currentQuestionIndex':_0x26f86a,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0xf0009d,{'status':_0x5b8349(0x9e2)});});}async function handleJoinSyncGame(){const _0x402886=_0x4a01bc,_0x465f95=prompt(_0x402886(0x869));if(!_0x465f95||_0x465f95['trim']()[_0x402886(0x8ca)]!==0x2){showMessage(_0x402886(0x856));return;}try{const _0xb80c32=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x57dab6=query(_0xb80c32,where(_0x402886(0x7a7),'==',_0x465f95['trim']()),where('status','==',_0x402886(0x31a))),_0x1240cd=await getDocs(_0x57dab6);if(_0x1240cd[_0x402886(0x8fd)]){showMessage(_0x402886(0x44a));return;}const _0x2d414a=_0x1240cd[_0x402886(0xb70)][0x0];currentLiveGameId=_0x2d414a['id'];const _0xae229a=_0x2d414a[_0x402886(0xd0c)](),_0x401e43=doc(db,_0x402886(0x4b1)+appId+'/public/data/quizzes',_0xae229a[_0x402886(0x8a3)]),_0x2f02ed=await getDoc(_0x401e43);if(!_0x2f02ed[_0x402886(0xce9)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x30137d=_0x2f02ed[_0x402886(0xd0c)](),_0x1ec484=doc(db,_0x402886(0x4b1)+appId+_0x402886(0x780),_0x30137d[_0x402886(0x401)]),_0x1c3871=await getDoc(_0x1ec484);if(!_0x1c3871[_0x402886(0xce9)]())throw new Error(_0x402886(0x5bd));currentQuizData=_0xae229a[_0x402886(0x7ce)];const _0x2b3cdb=_0x1c3871[_0x402886(0xd0c)]();showView(_0x402886(0x604)),showTeamPlayerSelection(_0x2b3cdb[_0x402886(0xc2e)],_0x30137d[_0x402886(0xb1c)]);const _0x2bd8c7=document['getElementById'](_0x402886(0xca6));_0x2bd8c7[_0x402886(0x385)]=confirmAndJoinSyncGame;}catch(_0x5cb38d){console[_0x402886(0xcb6)](_0x402886(0x1fe),_0x5cb38d),showMessage(_0x402886(0xc44)+_0x5cb38d[_0x402886(0x9a1)]);}}function updateStudentSyncView(_0x6e8806){const _0x152ee3=_0x4a01bc,_0x3bd79f=localTeamPlayers[0x0],_0x22be6c=_0x6e8806[_0x152ee3(0x4f7)][_0x3bd79f]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x6e8806[_0x152ee3(0x531)]){case'lobby':showView(_0x152ee3(0xdc0)),liveGameView[_0x152ee3(0x891)]=_0x152ee3(0xcf9);break;case _0x152ee3(0xe3b):if(_0x6e8806[_0x152ee3(0x567)]!==lastSeenQuestionIndex){console[_0x152ee3(0x546)](_0x152ee3(0x624)),localPlayerTurnIndex=0x0,sessionStorage[_0x152ee3(0x9be)]('powerupUsedThisTurn'),sessionStorage['removeItem'](_0x152ee3(0x8d3)),sessionStorage[_0x152ee3(0x9be)](_0x152ee3(0x2f2));const _0x1d1935=_0x152ee3(0xa60)+lastSeenQuestionIndex,_0xeeb1ff=_0x152ee3(0xdb4)+lastSeenQuestionIndex,_0x95e663=_0x152ee3(0xb56)+lastSeenQuestionIndex;Object['keys'](sessionStorage)[_0x152ee3(0x427)](_0x2abb09=>{const _0x839a9c=_0x152ee3;(_0x2abb09['startsWith'](_0x1d1935)||_0x2abb09[_0x839a9c(0x1ce)](_0xeeb1ff)||_0x2abb09[_0x839a9c(0x1ce)](_0x95e663))&&sessionStorage[_0x839a9c(0x9be)](_0x2abb09);});if(_0x22be6c['isJinxed']||_0x22be6c[_0x152ee3(0x608)]||(_0x22be6c[_0x152ee3(0x919)]||0x0)>0x0){const _0x97cbf6=doc(db,'artifacts/'+appId+_0x152ee3(0x392)+currentLiveGameId+_0x152ee3(0x5b4),_0x3bd79f);updateDoc(_0x97cbf6,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})['catch'](_0x21ac5a=>console['error'](_0x152ee3(0x289),_0x21ac5a));}lastSeenQuestionIndex=_0x6e8806[_0x152ee3(0x567)];}const _0x25d164=localTeamPlayers[_0x152ee3(0x733)](_0x37d9f2=>_0x6e8806['players'][_0x37d9f2]?.[_0x152ee3(0xd88)]===!![]);if(_0x25d164)liveGameView['innerHTML']=_0x152ee3(0x4fb);else{renderStudentSyncQuestionView(_0x6e8806);if(_0x6e8806[_0x152ee3(0xc54)]===_0x152ee3(0xe7a)){if(!_0x6e8806[_0x152ee3(0x615)])return;const _0x270b30=_0x6e8806[_0x152ee3(0x615)][_0x152ee3(0x410)]()[_0x152ee3(0x261)](),_0x3586f6=_0x6e8806['timerDuration']*0x3e8,_0x3d8cfd=localTeamPlayers[_0x152ee3(0x823)](_0x4e70fe=>_0x6e8806[_0x152ee3(0x4f7)][_0x4e70fe]?.[_0x152ee3(0x919)]||0x0),_0x4266f6=Math[_0x152ee3(0xf23)](..._0x3d8cfd,0x0),_0x36b7a3=_0x270b30+_0x3586f6+_0x4266f6;syncQuestionTimerInterval=setInterval(()=>{const _0xce9989=_0x152ee3,_0x561930=_0x36b7a3-Date[_0xce9989(0x42d)](),_0xf3bb66=document[_0xce9989(0x657)](_0xce9989(0x1f5)),_0x579901=document['getElementById'](_0xce9989(0x532));if(_0x561930<=0x0){clearInterval(syncQuestionTimerInterval);if(_0xf3bb66)_0xf3bb66[_0xce9989(0xd7a)][_0xce9989(0x1c6)]='0%';if(_0x579901)_0x579901[_0xce9989(0x54c)]='0';const _0x434890=localTeamPlayers[localPlayerTurnIndex];_0x6e8806['players'][_0x434890]?.[_0xce9989(0xd88)]!==!![]&&(liveGameView['innerHTML']=_0xce9989(0xcb4));}else{if(_0xf3bb66&&_0x579901){const _0x5de690=_0x3586f6+_0x4266f6,_0x346eb7=_0x5de690>0x0?_0x561930/_0x5de690*0x64:0x0;_0xf3bb66[_0xce9989(0xd7a)]['width']=_0x346eb7+'%',_0x579901['textContent']=Math[_0xce9989(0x322)](_0x561930/0x3e8);}}},0x1f4);}}break;case _0x152ee3(0x613):liveGameView['innerHTML']=_0x152ee3(0x363);break;case'results':localPlayerTurnIndex=0x0;const _0x191195=_0x6e8806[_0x152ee3(0x97e)]||_0x152ee3(0x890);if(_0x191195===_0x152ee3(0x870)||_0x191195===_0x152ee3(0x2fb))renderStudentAnonymousResultsView(_0x6e8806,_0x6e8806[_0x152ee3(0x567)]);else _0x191195===_0x152ee3(0x3ee)?renderStudentCompetitionResultsView(_0x6e8806,_0x6e8806[_0x152ee3(0x567)]):renderStudentSyncResultsView(_0x6e8806);break;case _0x152ee3(0x9e2):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x152ee3(0xb77)](_0x152ee3(0x29c),handleFullscreenChange),document[_0x152ee3(0xb77)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x152ee3(0x9be)](_0x152ee3(0xe70));const _0x377071=liveGameView[_0x152ee3(0x891)],_0x108d3b=_0x377071[_0x152ee3(0x484)](_0x152ee3(0x862))||_0x377071['includes']('สรุปอันดับ');if(!_0x108d3b){const _0x4b8f87=_0x6e8806['gameVariant']||'classic',_0x35e8f4=_0x6e8806[_0x152ee3(0x7ce)][_0x152ee3(0x3ef)][_0x152ee3(0x8ca)]-0x1;if(_0x4b8f87===_0x152ee3(0x870)||_0x4b8f87===_0x152ee3(0x2fb))renderStudentAnonymousResultsView(_0x6e8806,_0x35e8f4);else _0x4b8f87===_0x152ee3(0x3ee)?renderStudentCompetitionResultsView(_0x6e8806,_0x35e8f4):renderStudentSyncResultsView(_0x6e8806);}const _0x305a0f=liveGameView['querySelectorAll']('p');_0x305a0f[_0x152ee3(0x427)](_0x57f9bd=>{const _0x2b34aa=_0x152ee3;(_0x57f9bd[_0x2b34aa(0x54c)]['includes'](_0x2b34aa(0xb08))||_0x57f9bd[_0x2b34aa(0x54c)]['includes']('รอผู้ควบคุม'))&&(_0x57f9bd[_0x2b34aa(0xd7a)][_0x2b34aa(0xb0b)]=_0x2b34aa(0x813));});if(!document[_0x152ee3(0x657)]('student-exit-game-btn')){const _0x210a64=_0x152ee3(0x4a7);liveGameView['firstElementChild']?liveGameView[_0x152ee3(0x189)][_0x152ee3(0xc14)]('beforeend',_0x210a64):liveGameView[_0x152ee3(0xc14)](_0x152ee3(0x494),_0x210a64);}break;}}function renderStudentSyncResultsView(_0x32d531){const _0x1c4ca0=_0x4a01bc;let _0x1f3061=[];_0x32d531[_0x1c4ca0(0xdd7)]&&Array['isArray'](_0x32d531[_0x1c4ca0(0xdd7)])&&_0x32d531[_0x1c4ca0(0xdd7)][_0x1c4ca0(0x8ca)]>0x0?_0x1f3061=_0x32d531[_0x1c4ca0(0xdd7)]:_0x1f3061=Object[_0x1c4ca0(0x7ef)](_0x32d531[_0x1c4ca0(0x4f7)]||{});const _0x44d680=_0x32d531[_0x1c4ca0(0x97e)]||_0x1c4ca0(0x890),_0x15af22=_0x44d680===_0x1c4ca0(0x199)||_0x44d680===_0x1c4ca0(0x2fb),_0x1c27f6=_0x32d531[_0x1c4ca0(0x7ce)][_0x1c4ca0(0x3ef)],_0x5e4e34=_0x15af22&&_0x32d531[_0x1c4ca0(0x76d)]!==undefined?_0x32d531[_0x1c4ca0(0x76d)]:_0x32d531[_0x1c4ca0(0x567)],_0x45569e=_0x15af22?_0x32d531[_0x1c4ca0(0x76d)]:_0x32d531[_0x1c4ca0(0x567)],_0x2ed7c9=_0x1f3061[_0x1c4ca0(0x823)](_0x583296=>{const _0xfdebcd=_0x1c4ca0,_0x23f48f=(_0x583296[_0xfdebcd(0xbd1)]||[])[_0xfdebcd(0xc4c)](_0x55ffbd=>_0x55ffbd['questionIndex']<=_0x5e4e34);let _0x3c46af=0x0,_0x3fb68f=0x0;_0x15af22?(_0x3c46af=_0x23f48f[_0xfdebcd(0xc4c)](_0x4d2034=>_0x4d2034[_0xfdebcd(0x41b)])[_0xfdebcd(0x8ca)],_0x3fb68f=_0x23f48f[_0xfdebcd(0xc91)]((_0x4fc488,_0x7af163)=>_0x4fc488+(_0x7af163['pointsAwarded']||0x0),0x0)):(_0x3c46af=_0x583296[_0xfdebcd(0x43c)]||0x0,_0x3fb68f=_0x583296[_0xfdebcd(0x2e5)]||0x0);const _0x5a2057=[..._0x23f48f]['sort']((_0x66af3b,_0x59cf91)=>_0x66af3b['questionIndex']-_0x59cf91[_0xfdebcd(0x683)]);let _0x12b6e5=0x0;return _0x5a2057['forEach'](_0x3dff59=>{const _0x4d4941=_0xfdebcd,_0x3191bc=_0x3dff59[_0x4d4941(0xd19)]&&_0x3dff59[_0x4d4941(0xd19)]!==_0x4d4941(0xbdf)||_0x3dff59[_0x4d4941(0xc1e)];_0x3dff59['isCorrect']?_0x12b6e5=_0x3191bc?0x0:_0x12b6e5+0x1:_0x12b6e5=0x0;}),{..._0x583296,'realScore':_0x3c46af,'totalPoints':_0x3fb68f,'answers':_0x583296[_0xfdebcd(0xbd1)],'correctStreak':_0x12b6e5};}),_0x2de82d=Math[_0x1c4ca0(0xf23)](..._0x2ed7c9[_0x1c4ca0(0x823)](_0x786600=>_0x786600['totalPoints']),-Infinity),_0x5debee=Math['max'](..._0x2ed7c9['map'](_0x4a601e=>_0x4a601e['realScore']),-Infinity),_0x439f9a=_0x32d531[_0x1c4ca0(0x744)]===!![],_0x517c0f=[..._0x2ed7c9][_0x1c4ca0(0xc1a)]((_0x5abef3,_0x55de13)=>{const _0x3fc9cd=_0x1c4ca0;if(_0x439f9a){const _0x378fab=_0x55de13[_0x3fc9cd(0x2e5)]-_0x5abef3[_0x3fc9cd(0x2e5)];if(_0x378fab!==0x0)return _0x378fab;const _0x1b04ec=_0x55de13[_0x3fc9cd(0x7d5)]-_0x5abef3[_0x3fc9cd(0x7d5)];if(_0x1b04ec!==0x0)return _0x1b04ec;return(_0x5abef3[_0x3fc9cd(0x9ce)]||'')[_0x3fc9cd(0x8c8)](_0x55de13[_0x3fc9cd(0x9ce)]||'','th');}else{const _0x470c0a=_0x55de13[_0x3fc9cd(0x2e5)]-_0x5abef3[_0x3fc9cd(0x2e5)];if(_0x470c0a!==0x0)return _0x470c0a;const _0x18ce8d=_0x55de13['realScore']-_0x5abef3[_0x3fc9cd(0x7d5)];if(_0x18ce8d!==0x0)return _0x18ce8d;return(_0x5abef3['name']||'')[_0x3fc9cd(0x8c8)](_0x55de13[_0x3fc9cd(0x9ce)]||'','th');}});let _0x49e3bc=0x1;for(let _0x4d55e5=0x0;_0x4d55e5<_0x517c0f[_0x1c4ca0(0x8ca)];_0x4d55e5++){if(_0x4d55e5>0x0){const _0x22e202=_0x517c0f[_0x4d55e5-0x1],_0x18caf3=_0x517c0f[_0x4d55e5];let _0x349857=_0x18caf3[_0x1c4ca0(0x2e5)]===_0x22e202[_0x1c4ca0(0x2e5)]&&_0x18caf3['realScore']===_0x22e202[_0x1c4ca0(0x7d5)];!_0x349857&&(_0x49e3bc=_0x4d55e5+0x1);}_0x517c0f[_0x4d55e5][_0x1c4ca0(0xb04)]=_0x49e3bc;}let _0x95f9aa=_0x517c0f[_0x1c4ca0(0xc4c)](_0x444927=>localTeamPlayers[_0x1c4ca0(0x484)](_0x444927['name']));_0x95f9aa[_0x1c4ca0(0xc1a)]((_0x2e5a33,_0x410aa1)=>(_0x410aa1[_0x1c4ca0(0x2e5)]||0x0)-(_0x2e5a33[_0x1c4ca0(0x2e5)]||0x0));let _0x5ab981='';const _0x3027c3=_0x15af22?_0x5e4e34>=_0x1c27f6['length']-0x1:_0x32d531['currentQuestionIndex']>=_0x1c27f6[_0x1c4ca0(0x8ca)]-0x1;if(_0x32d531[_0x1c4ca0(0x531)]===_0x1c4ca0(0x9e2))_0x5ab981='';else _0x3027c3?_0x5ab981=_0x1c4ca0(0x9e5):_0x5ab981='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x1314fe=getCentralPotHTML(_0x32d531),_0x484406=_0x1c4ca0(0x1bc)+_0x1314fe+_0x1c4ca0(0x328)+_0x95f9aa[_0x1c4ca0(0x823)]((_0x48542f,_0x3808e8)=>{const _0x52310f=_0x1c4ca0;let _0x298789=_0x52310f(0x6ec);const _0x53298f=(_0x48542f[_0x52310f(0xbd1)]||[])['find'](_0x46d7bc=>_0x46d7bc['questionIndex']===_0x45569e);let _0x9eda96='';_0x53298f&&_0x53298f[_0x52310f(0x21f)]>0x0&&(_0x9eda96=_0x52310f(0x6de)+_0x53298f['potBonus']+_0x52310f(0x571));let _0x2106ed='';if(_0x53298f){if(_0x53298f['wasForced'])_0x2106ed+='<span\x20title=\x22โดนบังคับ\x22>👻</span>';if(_0x53298f[_0x52310f(0xf3b)])_0x2106ed+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x53298f[_0x52310f(0xc1e)])_0x2106ed+='<span\x20title=\x22ใช้เวลา\x22>⏳</span>';const _0x41560c=_0x53298f[_0x52310f(0xd19)];if(_0x41560c){const _0x2679a6={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x52310f(0x1d2)};if(_0x2679a6[_0x41560c])_0x2106ed+=_0x52310f(0x593)+_0x41560c+'\x22>'+_0x2679a6[_0x41560c]+_0x52310f(0x5b0);}}if(_0x53298f){const _0x589d41=_0x53298f['isCorrect'],_0x54495d=_0x53298f[_0x52310f(0x2b8)]===!![]||_0x53298f['wasConfident']==='confident',_0x4cbae2=_0x53298f[_0x52310f(0xd19)];if(_0x4cbae2===_0x52310f(0xbdf))_0x298789=_0x589d41?_0x52310f(0xdb9):_0x52310f(0x1a1);else{if(_0x54495d)_0x298789=_0x589d41?_0x52310f(0xd31):_0x52310f(0xe3c);else _0x589d41?_0x298789=_0x52310f(0x9da):_0x298789='bg-red-100\x20text-red-900';}}let _0x40da08='';_0x53298f&&_0x53298f[_0x52310f(0xd19)]===_0x52310f(0xbdf)&&!_0x53298f[_0x52310f(0x41b)]&&(_0x40da08=_0x52310f(0x42c));const _0x4736c9=_0x48542f[_0x52310f(0x2e5)]>=0x0?'(+'+_0x48542f[_0x52310f(0x2e5)][_0x52310f(0x6bb)]()+')':'('+_0x48542f[_0x52310f(0x2e5)][_0x52310f(0x6bb)]()+')';let _0x5729fd='';const _0x12c322=_0x48542f['answers'][_0x52310f(0x8ca)],_0x2f5c34=_0x5e4e34+0x1;if(_0x12c322>0x0){if(_0x439f9a){if(_0x48542f[_0x52310f(0x2e5)]===_0x2de82d&&_0x2de82d>0x0)_0x5729fd+='<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>';if(_0x48542f[_0x52310f(0x7d5)]===_0x5debee&&_0x5debee>0x0)_0x5729fd+='<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>';}else{if(_0x48542f[_0x52310f(0x7d5)]===_0x2f5c34)_0x5729fd+=_0x52310f(0xdbf);}const _0x4e531a=_0x5729fd['includes']('👑')||_0x5729fd[_0x52310f(0x484)]('🎓')||_0x5729fd[_0x52310f(0x484)]('⭐');if(!_0x4e531a&&_0x48542f[_0x52310f(0x2e5)]<0x0)_0x5729fd+=_0x52310f(0x603);}let _0x1958ba='';const _0x3c0eba=_0x53298f&&_0x53298f[_0x52310f(0xc1e)],_0x12bc5b=_0x53298f&&_0x53298f[_0x52310f(0xd19)]&&_0x53298f[_0x52310f(0xd19)]!==_0x52310f(0xbdf);if(!_0x3c0eba&&!_0x12bc5b){const _0x42d4ab=_0x48542f[_0x52310f(0x64c)]||0x0;_0x42d4ab>=0x3&&(_0x1958ba=_0x52310f(0xd5e)+_0x42d4ab+_0x52310f(0x5b0));}return _0x52310f(0xc3c)+_0x298789+_0x52310f(0xbbd)+_0x48542f[_0x52310f(0xb04)]+_0x52310f(0xa97)+_0x48542f[_0x52310f(0x9ce)]+_0x52310f(0x435)+_0x2106ed+'\x20'+_0x5729fd+'\x20'+_0x1958ba+_0x52310f(0x275)+_0x48542f['realScore']+_0x52310f(0xf2e)+_0x4736c9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9eda96+_0x52310f(0xd4c)+_0x40da08+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1c4ca0(0x566)]('')+_0x1c4ca0(0xd1b)+_0x5ab981+_0x1c4ca0(0x77d);liveGameView[_0x1c4ca0(0x891)]=_0x484406;}function renderStudentAnonymousResultsView(_0x32ed27,_0x249333){const _0x51c26a=_0x4a01bc;let _0x5320fe=[];_0x32ed27['publicLeaderboard']?_0x5320fe=_0x32ed27[_0x51c26a(0xdd7)]:_0x5320fe=Object[_0x51c26a(0x7ef)](_0x32ed27[_0x51c26a(0x4f7)]||{});const _0xbce9db=_0x32ed27[_0x51c26a(0x97e)]||_0x51c26a(0x890),_0xecf04c=_0xbce9db===_0x51c26a(0x199)||_0xbce9db===_0x51c26a(0x2fb),_0x3e5d8a=_0x32ed27[_0x51c26a(0x4fd)]===!![],_0x2ae114=_0x32ed27[_0x51c26a(0x7ce)][_0x51c26a(0x3ef)],_0x3a0f6c=_0xecf04c&&_0x32ed27['reviewQuestionIndex']!==undefined?_0x32ed27[_0x51c26a(0x76d)]:_0x249333,_0x5d4afd=_0x5320fe[_0x51c26a(0x823)](_0xb808e4=>{const _0x496293=_0x51c26a,_0x5709c8=(_0xb808e4[_0x496293(0xbd1)]||[])[_0x496293(0xc4c)](_0x41e262=>_0x41e262[_0x496293(0x683)]<=_0x3a0f6c);let _0x41a7fd=0x0,_0x164dc5=0x0;_0xecf04c?(_0x41a7fd=_0x5709c8[_0x496293(0xc4c)](_0x1d83b3=>_0x1d83b3[_0x496293(0x41b)])[_0x496293(0x8ca)],_0x164dc5=_0x5709c8[_0x496293(0xc91)]((_0x5393de,_0x2b2981)=>_0x5393de+(_0x2b2981['pointsAwarded']||0x0),0x0)):(_0x41a7fd=_0xb808e4[_0x496293(0x43c)]||0x0,_0x164dc5=_0xb808e4[_0x496293(0x2e5)]||0x0);const _0x554082=[..._0x5709c8][_0x496293(0xc1a)]((_0x14452d,_0x53c20b)=>_0x14452d[_0x496293(0x683)]-_0x53c20b['questionIndex']);let _0x6f09f2=0x0;return _0x554082[_0x496293(0x427)](_0xb4d9bc=>{const _0x1b642e=_0x496293,_0x20bb24=_0xb4d9bc[_0x1b642e(0xd19)]&&_0xb4d9bc[_0x1b642e(0xd19)]!==_0x1b642e(0xbdf)||_0xb4d9bc[_0x1b642e(0xc1e)];_0xb4d9bc[_0x1b642e(0x41b)]?_0x6f09f2=_0x20bb24?0x0:_0x6f09f2+0x1:_0x6f09f2=0x0;}),{..._0xb808e4,'realScore':_0x41a7fd,'totalPoints':_0x164dc5,'answers':_0x5709c8,'correctStreak':_0x6f09f2};}),_0x8ad516=Math['max'](..._0x5d4afd[_0x51c26a(0x823)](_0x5e6bd0=>_0x5e6bd0[_0x51c26a(0x2e5)]),-Infinity),_0x278d91=Math[_0x51c26a(0xf23)](..._0x5d4afd[_0x51c26a(0x823)](_0x81fe86=>_0x81fe86[_0x51c26a(0x7d5)]),-Infinity),_0x4f9884=_0x32ed27[_0x51c26a(0x744)]===!![],_0x106db1=[..._0x5d4afd][_0x51c26a(0xc1a)]((_0x2dc497,_0x33286c)=>{const _0x3f8e17=_0x51c26a;if(_0x4f9884){if(_0x33286c[_0x3f8e17(0x2e5)]!==_0x2dc497[_0x3f8e17(0x2e5)])return _0x33286c['totalPoints']-_0x2dc497[_0x3f8e17(0x2e5)];if(_0x33286c[_0x3f8e17(0x7d5)]!==_0x2dc497['realScore'])return _0x33286c['realScore']-_0x2dc497[_0x3f8e17(0x7d5)];}else{if(_0x33286c['totalPoints']!==_0x2dc497[_0x3f8e17(0x2e5)])return _0x33286c[_0x3f8e17(0x2e5)]-_0x2dc497[_0x3f8e17(0x2e5)];if(_0x33286c[_0x3f8e17(0x7d5)]!==_0x2dc497[_0x3f8e17(0x7d5)])return _0x33286c[_0x3f8e17(0x7d5)]-_0x2dc497[_0x3f8e17(0x7d5)];}return(_0x2dc497[_0x3f8e17(0x9ce)]||'')[_0x3f8e17(0x8c8)](_0x33286c[_0x3f8e17(0x9ce)]||'','th');});let _0x1cba0d=0x1;for(let _0x351778=0x0;_0x351778<_0x106db1[_0x51c26a(0x8ca)];_0x351778++){if(_0x351778>0x0){const _0xf836b2=_0x106db1[_0x351778-0x1],_0x491c05=_0x106db1[_0x351778];let _0x5f339c=_0x491c05[_0x51c26a(0x2e5)]===_0xf836b2[_0x51c26a(0x2e5)]&&_0x491c05[_0x51c26a(0x7d5)]===_0xf836b2[_0x51c26a(0x7d5)];!_0x5f339c&&(_0x1cba0d=_0x351778+0x1);}_0x106db1[_0x351778][_0x51c26a(0xb04)]=_0x1cba0d;}let _0x57ef86=null;const _0x36f46c=_0x5d4afd[_0x51c26a(0xc4c)](_0x1023d3=>localTeamPlayers[_0x51c26a(0x484)](_0x1023d3[_0x51c26a(0x9ce)]));_0x57ef86=_0x36f46c[_0x51c26a(0x8ca)]>0x0?_0x36f46c[_0x51c26a(0xc1a)]((_0x25bea1,_0x4ba22e)=>_0x4ba22e['totalPoints']-_0x25bea1[_0x51c26a(0x2e5)])[0x0]:null;if(!_0x57ef86){liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>';return;}const _0x41956a=_0x4f9884?_0x57ef86[_0x51c26a(0x2e5)]:_0x57ef86['totalPoints'],_0x246c5f=_0x3a0f6c+0x1,_0x192bbc=_0x106db1['map']((_0x5a025d,_0x476b8c)=>{const _0x5327ae=_0x51c26a,_0x5d79f8=_0x5a025d[_0x5327ae(0x7d5)],_0x222cff=_0x5a025d[_0x5327ae(0x2e5)],_0x2c501a=(_0x5a025d[_0x5327ae(0xbd1)]||[])[_0x5327ae(0x1d5)](_0x290804=>_0x290804[_0x5327ae(0x683)]===_0x3a0f6c);let _0x1b5fa1='';_0x2c501a&&_0x2c501a[_0x5327ae(0x21f)]>0x0&&(_0x1b5fa1='<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+'+_0x2c501a[_0x5327ae(0x21f)]+_0x5327ae(0x571));let _0x2a127e='';if(_0x2c501a){if(_0x2c501a[_0x5327ae(0x74a)])_0x2a127e+=_0x5327ae(0xc43);if(_0x2c501a[_0x5327ae(0xf3b)])_0x2a127e+=_0x5327ae(0x408);if(_0x2c501a[_0x5327ae(0xc1e)])_0x2a127e+=_0x5327ae(0xcb0);const _0x410636=_0x2c501a[_0x5327ae(0xd19)];if(_0x410636){const _0x539697={'poll':'📊','cutOne':'✂️','insurance':_0x5327ae(0x2c9),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x5327ae(0x1d2)};if(_0x539697[_0x410636])_0x2a127e+=_0x5327ae(0x593)+_0x410636+'\x22>'+_0x539697[_0x410636]+_0x5327ae(0x5b0);}}let _0x435d2a='';if(_0x246c5f>0x0){if(_0x4f9884){if(_0x222cff===_0x8ad516&&_0x8ad516>0x0)_0x435d2a+=_0x5327ae(0x806);if(_0x5d79f8===_0x278d91&&_0x278d91>0x0)_0x435d2a+=_0x5327ae(0x3f8);}else{const _0x150d71=_0x5a025d[_0x5327ae(0x7d5)]===_0x246c5f&&_0x246c5f>0x0;if(_0x150d71)_0x435d2a=_0x5327ae(0x679);}if(_0x435d2a===''&&_0x222cff<0x0)_0x435d2a=_0x5327ae(0x5c5);}let _0x1aca2b='';const _0x4371f3=_0x2c501a&&_0x2c501a[_0x5327ae(0xc1e)],_0x2f7916=_0x2c501a&&_0x2c501a[_0x5327ae(0xd19)]&&_0x2c501a[_0x5327ae(0xd19)]!==_0x5327ae(0xbdf);if(!_0x4371f3&&!_0x2f7916){const _0x4b96e5=_0x5a025d[_0x5327ae(0x64c)]||0x0;_0x4b96e5>=0x3&&(_0x1aca2b='<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x'+_0x4b96e5+_0x5327ae(0x5b0));}let _0x15c77a=_0x5327ae(0xb09),_0x596aa8=![];if(_0x2c501a){const _0xef59b=_0x2c501a[_0x5327ae(0x41b)],_0x195291=_0x2c501a['wasConfident']===!![]||_0x2c501a[_0x5327ae(0x2b8)]===_0x5327ae(0xe13),_0x54fa38=_0x2c501a[_0x5327ae(0xd19)];if(_0x54fa38==='wagerMultiplier')_0xef59b?(_0x15c77a=_0x5327ae(0xdb9),_0x596aa8=!![]):_0x15c77a='bg-red-700\x20text-white\x20font-bold';else{if(_0x195291)_0x15c77a=_0xef59b?_0x5327ae(0xd31):_0x5327ae(0xe3c);else _0xef59b&&(_0x15c77a=_0x5327ae(0x9da));}}let _0x4cca8c='';const _0x2bd236=_0x5a025d['name'],_0x276ea5=_0x32ed27[_0x5327ae(0x7cc)][_0x5a025d[_0x5327ae(0x9ce)]]||_0x5327ae(0xc2f),_0x43583c=localTeamPlayers[_0x5327ae(0x484)](_0x2bd236),_0x2d844c=_0x596aa8?_0x5327ae(0x81e):_0x5327ae(0xe95),_0x4d62cf=_0x4f9884?_0x5a025d['totalPoints']:_0x5a025d['totalPoints'],_0x433254=_0x3e5d8a||_0x43583c||_0x41956a>_0x4d62cf;_0x433254?_0x4cca8c=_0x5327ae(0x337)+_0x2bd236+_0x5327ae(0xa30)+_0x2d844c+'\x22>('+_0x276ea5+')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x4cca8c=_0x5327ae(0xa1f)+_0x276ea5+_0x5327ae(0x5b0);_0x43583c&&(_0x4cca8c=_0x5327ae(0x6b5)+_0x4cca8c+'</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>');const _0xed4c6=_0x5327ae(0xa42)+_0x2a127e+'\x20'+_0x435d2a+'\x20'+_0x1aca2b+_0x5327ae(0xbfc),_0x29123f=_0x222cff>=0x0?'(+'+_0x222cff[_0x5327ae(0x6bb)]()+')':'('+_0x222cff[_0x5327ae(0x6bb)]()+')';return _0x5327ae(0xd3b)+_0x15c77a+_0x5327ae(0xd46)+_0x5a025d['displayRank']+_0x5327ae(0xe74)+_0x4cca8c+_0x5327ae(0xd65)+_0xed4c6+_0x5327ae(0xb55)+_0x5d79f8+_0x5327ae(0x645)+_0x29123f+_0x5327ae(0x380)+_0x1b5fa1+_0x5327ae(0x416);})[_0x51c26a(0x566)]('');let _0x20c327='';const _0x2a2904=_0xecf04c?_0x3a0f6c>=_0x2ae114[_0x51c26a(0x8ca)]-0x1:_0x32ed27['currentQuestionIndex']>=_0x2ae114[_0x51c26a(0x8ca)]-0x1;if(_0x32ed27[_0x51c26a(0x531)]===_0x51c26a(0x9e2))_0x20c327='';else _0x2a2904?_0x20c327=_0x51c26a(0x9e5):_0x20c327=_0x51c26a(0x1ee);const _0xe72adb=getCentralPotHTML(_0x32ed27),_0x8770c9=_0x51c26a(0x1bc)+_0xe72adb+_0x51c26a(0x504)+_0x192bbc+_0x51c26a(0x879)+_0x20c327+_0x51c26a(0x304);liveGameView[_0x51c26a(0x891)]=_0x8770c9;}function renderStudentCompetitionResultsView(_0x18b128,_0xc3494e){const _0x4bb843=_0x4a01bc,_0x392e55=Object['values'](_0x18b128[_0x4bb843(0x4f7)]||{}),_0x1ad8c6=_0xc3494e,_0x411339=_0x18b128['gameVariant']||_0x4bb843(0x890),_0x28eba2=_0x18b128[_0x4bb843(0x7ce)][_0x4bb843(0x3ef)],_0x5d2439=_0x392e55['map'](_0x32baca=>{const _0x5e992e=_0x4bb843,_0x3bb53c=_0x32baca[_0x5e992e(0x43c)]||0x0,_0xbed4e=_0x32baca[_0x5e992e(0x2e5)]||0x0,_0x56d2b5=(_0x32baca[_0x5e992e(0xbd1)]||[])[_0x5e992e(0xc4c)](_0x4369d3=>_0x411339==='reveal_at_end'?_0x4369d3['questionIndex']<=_0x1ad8c6:!![]);return{..._0x32baca,'realScore':_0x3bb53c,'totalPoints':_0xbed4e,'answers':_0x56d2b5};}),_0xa6039c=_0x18b128[_0x4bb843(0x744)]===!![],_0x2697fa=[..._0x5d2439]['sort']((_0x4a3efa,_0x1a1b96)=>{const _0x271de4=_0x4bb843;if(_0xa6039c){const _0x10aacd=_0x1a1b96[_0x271de4(0x7d5)]-_0x4a3efa[_0x271de4(0x7d5)];if(_0x10aacd!==0x0)return _0x10aacd;const _0x11c662=_0x1a1b96[_0x271de4(0x2e5)]-_0x4a3efa[_0x271de4(0x2e5)];if(_0x11c662!==0x0)return _0x11c662;return(_0x4a3efa[_0x271de4(0x9ce)]||'')['localeCompare'](_0x1a1b96['name']||'','th');}else{const _0x1ce4b1=_0x1a1b96[_0x271de4(0x2e5)]-_0x4a3efa['totalPoints'];if(_0x1ce4b1!==0x0)return _0x1ce4b1;const _0x502883=_0x1a1b96[_0x271de4(0x7d5)]-_0x4a3efa[_0x271de4(0x7d5)];if(_0x502883!==0x0)return _0x502883;return(_0x4a3efa[_0x271de4(0x9ce)]||'')[_0x271de4(0x8c8)](_0x1a1b96[_0x271de4(0x9ce)]||'','th');}});let _0x13187b=0x1;for(let _0x20aabf=0x0;_0x20aabf<_0x2697fa[_0x4bb843(0x8ca)];_0x20aabf++){if(_0x20aabf>0x0){const _0x42f4b8=_0x2697fa[_0x20aabf-0x1],_0x54f255=_0x2697fa[_0x20aabf];let _0x3b0d9e=![];_0xa6039c?_0x3b0d9e=_0x54f255[_0x4bb843(0x7d5)]===_0x42f4b8['realScore']&&_0x54f255[_0x4bb843(0x2e5)]===_0x42f4b8[_0x4bb843(0x2e5)]:_0x3b0d9e=_0x54f255[_0x4bb843(0x2e5)]===_0x42f4b8['totalPoints']&&_0x54f255[_0x4bb843(0x7d5)]===_0x42f4b8[_0x4bb843(0x7d5)],!_0x3b0d9e&&(_0x13187b=_0x20aabf+0x1);}_0x2697fa[_0x20aabf][_0x4bb843(0xb04)]=_0x13187b;}const _0xebdfe=_0x2697fa[_0x4bb843(0x823)]((_0x6aed38,_0x4a9e0e)=>{const _0x2054a1=_0x4bb843,_0x32f7eb='';let _0x986deb=_0x2054a1(0xb09);const _0x127bf0=_0x6aed38[_0x2054a1(0x9ce)],_0x12b15e=_0x2054a1(0xa99),_0x11203f=_0x2054a1(0x9c9),_0x3ec3f0='<div\x20style=\x22'+_0x12b15e+_0x2054a1(0x9bc)+_0x127bf0+_0x2054a1(0x305)+_0x11203f+'\x22>'+_0x127bf0+_0x2054a1(0x5b0)+_0x32f7eb+_0x2054a1(0xbfc),_0x1e92cb='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x986deb+_0x2054a1(0xe53)+_0x6aed38[_0x2054a1(0xb04)]+_0x2054a1(0x8f3)+_0x3ec3f0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e92cb+_0x2054a1(0x1dc);})['join']('');let _0x497641='';const _0x1355d7=_0x411339==='reveal_at_end'?_0x18b128['reviewQuestionIndex']>=_0x28eba2['length']-0x1:_0x18b128[_0x4bb843(0x567)]>=_0x28eba2[_0x4bb843(0x8ca)]-0x1;_0x1355d7?_0x497641=_0x4bb843(0x9e5):_0x497641=_0x4bb843(0x1ee);const _0x4342b9=_0x4bb843(0x726)+_0xebdfe+_0x4bb843(0x9c6)+_0x497641+_0x4bb843(0x304);liveGameView[_0x4bb843(0x891)]=_0x4342b9;}function renderStudentSyncQuestionView(_0x180479){const _0x444371=_0x4a01bc;while(localPlayerTurnIndex<localTeamPlayers[_0x444371(0x8ca)]&&_0x180479[_0x444371(0x4f7)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x444371(0xd88)]===!![]){localPlayerTurnIndex++;}localPlayerTurnIndex>=localTeamPlayers[_0x444371(0x8ca)]&&(localPlayerTurnIndex=localTeamPlayers[_0x444371(0x65b)](_0x38eb81=>_0x180479[_0x444371(0x4f7)][_0x38eb81]?.[_0x444371(0xd88)]!==!![]));const _0x3c93b7=localTeamPlayers[localPlayerTurnIndex];if(!_0x3c93b7)return;const _0x497b36=_0x180479['players'][_0x3c93b7],_0x47feaf=_0x180479[_0x444371(0x567)],_0x3562a1=_0x180479[_0x444371(0x7ce)]['questions'][_0x444371(0x8ca)],_0x4804fc=_0x180479[_0x444371(0x7ce)][_0x444371(0x3ef)][_0x47feaf],_0x1a419e=_0x4804fc[_0x444371(0x7ed)]||_0x180479[_0x444371(0x7ce)][_0x444371(0x335)];let _0x10e3d3='',_0x2c082e=![];const _0x4e4868=_0x444371(0xdb4)+_0x47feaf+'_p'+_0x3c93b7,_0x3e1713=sessionStorage[_0x444371(0xe75)](_0x4e4868),_0x1888b1=_0x3e1713===_0x444371(0x636),_0x486574=_0x444371(0xb56)+_0x47feaf+'_p'+_0x3c93b7,_0x45b0b5=JSON['parse'](sessionStorage[_0x444371(0xe75)](_0x486574)||'[]')[_0x444371(0x823)](String);if((_0x1a419e==='short_answer'||_0x1a419e===_0x444371(0x467))&&_0x1888b1&&_0x4804fc['options']&&_0x4804fc['options']['length']>0x0)_0x10e3d3=_0x4804fc[_0x444371(0x5e9)][_0x444371(0x823)]((_0x3a7e47,_0x475780)=>{const _0x366b8f=_0x444371;if(_0x45b0b5[_0x366b8f(0x484)](String(_0x475780)))return'';return _0x366b8f(0x62e)+_0x3a7e47+_0x366b8f(0x985)+_0x475780+_0x366b8f(0xc24)+_0x3a7e47+_0x366b8f(0x85b);})['join']('');else{if(_0x1a419e===_0x444371(0x190)||_0x1a419e===_0x444371(0x467)){_0x2c082e=!![];const _0x294804=_0x4804fc[_0x444371(0x9c1)]&&/^-?[\d.,]+$/[_0x444371(0xbef)](String(_0x4804fc['idealAnswer'])[_0x444371(0x5b2)]());let _0x13eb27=_0x294804?_0x444371(0xa3d):_0x444371(0xc22);_0x10e3d3=_0x444371(0x53d)+_0x13eb27+_0x444371(0xb2d);}else switch(_0x1a419e){case _0x444371(0x446):const _0xa3d5b7=_0x45b0b5[_0x444371(0x484)]('0')?'':'<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>',_0x24f703=_0x45b0b5[_0x444371(0x484)]('1')?'':_0x444371(0x202);_0x10e3d3=_0xa3d5b7+_0x24f703;break;case'matching_item':_0x2c082e=!![],_0x10e3d3=_0x444371(0x98e)+(_0x4804fc[_0x444371(0xa5e)]||[])[_0x444371(0x823)](_0x2888c4=>_0x444371(0xd75)+_0x2888c4+'\x22>'+_0x2888c4+_0x444371(0xdb1))[_0x444371(0x566)]('')+_0x444371(0x2bb);break;case _0x444371(0xa7c):default:_0x10e3d3=(_0x4804fc[_0x444371(0x5e9)]||[])[_0x444371(0x823)]((_0xfc513b,_0x4a527e)=>{const _0x31fee0=_0x444371;if(_0x45b0b5[_0x31fee0(0x484)](String(_0x4a527e)))return'';return'<button\x20data-value=\x22'+_0x4a527e+'\x22\x20data-index=\x22'+_0x4a527e+_0x31fee0(0xbad)+_0xfc513b+'</button>';})['join']('');break;}}let _0x4a7233='';_0x180479[_0x444371(0xc54)]===_0x444371(0xe7a)&&(_0x4a7233='<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x180479['timerDuration']+_0x444371(0x5c3));let _0x3de1fa='';const _0x5d754d=_0x180479['gameVariant']||'classic',_0x9fb2d=[_0x444371(0x199),_0x444371(0x2fb),_0x444371(0x3ee)][_0x444371(0x484)](_0x5d754d);if(_0x180479[_0x444371(0x744)]===!![]){if(_0x9fb2d)!_0x3e1713&&(_0x3de1fa=_0x444371(0x439));else{const _0x105fdd=_0x497b36[_0x444371(0x2e5)]||0x0,_0x27ec26=_0x497b36[_0x444371(0x1a7)]||{},_0x2642b8=[_0x27ec26[_0x444371(0xcbd)]>0x0?_0x444371(0x4ba)+_0x27ec26[_0x444371(0xcbd)]+_0x444371(0x4c4):'',_0x27ec26[_0x444371(0x636)]>0x0?_0x444371(0x296)+_0x27ec26[_0x444371(0x636)]+')</button>':'',_0x27ec26[_0x444371(0x2cb)]>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x27ec26['cutOne']+_0x444371(0x4c4):'',_0x27ec26[_0x444371(0xdfc)]>0x0?_0x444371(0x694)+_0x27ec26[_0x444371(0xdfc)]+_0x444371(0x4c4):'',_0x27ec26['fiftyFifty']>0x0?_0x444371(0x441)+_0x27ec26[_0x444371(0x21a)]+')</button>':'',_0x27ec26[_0x444371(0xae3)]>0x0?_0x444371(0x27b)+_0x27ec26['secondChance']+_0x444371(0x4c4):''][_0x444371(0xc4c)](Boolean)[_0x444371(0x566)]('\x20'),_0x4adee1=_0x444371(0xa60)+_0x47feaf+'_p'+_0x3c93b7,_0x3f0a33=sessionStorage[_0x444371(0xe75)](_0x4adee1)===_0x444371(0x804),_0x42f7bd=_0x105fdd>0x0&&(!_0x3f0a33||_0x105fdd>=0x1),_0x18282e=_0x105fdd===0x0?'ตลาดมืด\x20(0\x20P)':_0x3f0a33?_0x444371(0x33b):_0x444371(0xc29)+_0x105fdd+_0x444371(0x80b),_0x2e4e0a=_0x42f7bd?'bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md':'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70',_0x1c942f=_0x42f7bd?'':_0x444371(0x4b4);let _0x4d6678=_0x444371(0xcbc)+_0x2e4e0a+_0x444371(0x5ce)+_0x1c942f+_0x444371(0x9f1)+_0x18282e+'</button>';if(!_0x3e1713){const _0x5e825a=_0x105fdd>0x0,_0x41a0a8=_0x5e825a?_0x444371(0x2ba):_0x444371(0xf0f),_0x319c9d=_0x5e825a?_0x444371(0x1a0):_0x444371(0xdd2),_0x5e18c1=_0x5e825a?'':_0x444371(0x4b4);_0x4d6678+=_0x444371(0xc81)+_0x41a0a8+_0x444371(0xbc0)+_0x5e18c1+_0x444371(0xce8)+_0x319c9d+_0x444371(0xbc0)+_0x5e18c1+_0x444371(0x91c);}_0x3de1fa='<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>'+_0x4d6678+'</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>'+(_0x2642b8||'')+_0x444371(0x502);}}let _0x2bb87e='';if(_0x497b36['isJinxed'])_0x2bb87e+=_0x444371(0x720);if(_0x497b36['isForcedConfident'])_0x2bb87e+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div><p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p></div>';if((_0x497b36[_0x444371(0x919)]||0x0)>0x0)_0x2bb87e+=_0x444371(0xdfd);if(_0x3e1713){if(_0x3e1713===_0x444371(0xbdf)){const _0x1e3157=_0x9fb2d?_0x444371(0x203):_0x444371(0xd61);_0x2bb87e+=_0x444371(0x7ee)+_0x1e3157+_0x444371(0x598);}else{if(_0x3e1713==='cutOne')_0x2bb87e+=_0x444371(0x84f);else{if(_0x3e1713===_0x444371(0x21a))_0x2bb87e+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p></div>';else{if(_0x3e1713==='secondChance')_0x2bb87e+=_0x444371(0xcd5);else{if(_0x3e1713==='revealOptions')_0x2bb87e+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p></div>';else _0x3e1713==='insurance'?_0x2bb87e+=_0x444371(0x837):_0x2bb87e+=_0x444371(0xb57)+_0x3e1713+_0x444371(0xed2);}}}}}let _0x262232='';if(!_0x9fb2d){const _0x45dca0=_0x497b36['correctStreak']||0x0;if(_0x45dca0>=0x3)_0x262232=_0x444371(0x86d)+_0x45dca0+'\x20ข้อแล้ว!</p><p\x20class=\x22text--[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p></div>';else _0x45dca0>0x0&&(_0x262232=_0x444371(0x2b3)+_0x45dca0+_0x444371(0x6b3));}const _0x2ee8d2=getCentralPotHTML(_0x180479);let _0x14d8e7='';const _0x2c7deb=localTeamPlayers[_0x444371(0xc4c)](_0x5ae8ea=>_0x180479[_0x444371(0x4f7)][_0x5ae8ea]?.['answered']!==!![]);localTeamPlayers[_0x444371(0x8ca)]>0x1&&_0x2c7deb[_0x444371(0x8ca)]>0x1&&(_0x14d8e7=_0x444371(0xe05));liveGameView['innerHTML']=_0x444371(0x1b6)+_0x14d8e7+_0x444371(0x425)+(_0x47feaf+0x1)+_0x444371(0x75f)+_0x3562a1+_0x444371(0x32e)+_0x2ee8d2+_0x444371(0xf00)+_0x3c93b7+_0x444371(0xe07)+_0x262232+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a7233+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3de1fa+_0x444371(0x35f)+_0x2bb87e+_0x444371(0x302)+(_0x4804fc[_0x444371(0xbf2)]||_0x4804fc[_0x444371(0x472)])+_0x444371(0x752)+_0x10e3d3+_0x444371(0xe5f);if(window[_0x444371(0x436)])MathJax[_0x444371(0xdce)]();function _0x2346df(_0x36a437,_0x4489ac,_0x1f2c48,_0x384588){const _0x4ea7a3=_0x444371,_0x17bb69=_0x1f2c48[_0x4ea7a3(0x974)]===!![],_0x422e1b=_0x1f2c48[_0x4ea7a3(0x567)],_0x4a83bd=_0x4ea7a3(0xdb4)+_0x422e1b+'_p'+_0x384588,_0x1435fd=sessionStorage[_0x4ea7a3(0xe75)](_0x4a83bd),_0x2ea00a=_0x1435fd===_0x4ea7a3(0xbdf),_0x41d88d=_0x1f2c48[_0x4ea7a3(0x4f7)][_0x384588];if(_0x2ea00a){const _0xf0af69=sessionStorage[_0x4ea7a3(0xe75)](_0x4ea7a3(0xa11))==='true';if(_0x9fb2d||_0xf0af69){const _0x548562=_0x41d88d[_0x4ea7a3(0x2e5)]||0x0;sessionStorage[_0x4ea7a3(0x9be)]('instantWager'),handleSyncAnswerSubmit(_0x36a437,_0x4489ac,_0x1f2c48,_0x384588,![],_0x548562);}else{const _0x3ecf78=document[_0x4ea7a3(0x657)](_0x4ea7a3(0x39a)),_0x47039e=document[_0x4ea7a3(0x657)]('wager-slider'),_0x46d7f9=document['getElementById'](_0x4ea7a3(0x7fb)),_0x499d15=document[_0x4ea7a3(0x657)](_0x4ea7a3(0xe6e)),_0x22cdde=_0x41d88d['totalPoints']||0x0;_0x47039e[_0x4ea7a3(0xf23)]=_0x22cdde,_0x47039e[_0x4ea7a3(0x68e)]=_0x22cdde,_0x46d7f9['textContent']=_0x22cdde,_0x499d15[_0x4ea7a3(0x54c)]=_0x22cdde,_0x47039e['oninput']=()=>{const _0x1fe7c8=_0x4ea7a3;_0x46d7f9[_0x1fe7c8(0x54c)]=_0x47039e[_0x1fe7c8(0x68e)];};const _0x4322c2=document[_0x4ea7a3(0x657)]('selected-answer-index-hidden-wager');_0x4322c2['dataset'][_0x4ea7a3(0x6f9)]=_0x36a437,_0x4322c2[_0x4ea7a3(0x320)][_0x4ea7a3(0xe3b)]=JSON['stringify'](_0x4489ac),_0x4322c2[_0x4ea7a3(0x320)][_0x4ea7a3(0x4c0)]=JSON[_0x4ea7a3(0x7ba)](_0x1f2c48),_0x4322c2[_0x4ea7a3(0x320)][_0x4ea7a3(0x3b4)]=_0x384588,_0x3ecf78[_0x4ea7a3(0xb6d)]['remove'](_0x4ea7a3(0x599));}}else{if(_0x17bb69){document[_0x4ea7a3(0x657)](_0x4ea7a3(0x444))[_0x4ea7a3(0x320)]['currentMode']='sync';const _0x559e04=document['getElementById'](_0x4ea7a3(0x97c));_0x559e04[_0x4ea7a3(0x320)][_0x4ea7a3(0x6f9)]=_0x36a437,_0x559e04[_0x4ea7a3(0x320)][_0x4ea7a3(0xe3b)]=JSON['stringify'](_0x4489ac),_0x559e04[_0x4ea7a3(0x320)][_0x4ea7a3(0x4c0)]=JSON[_0x4ea7a3(0x7ba)](_0x1f2c48),_0x559e04['dataset'][_0x4ea7a3(0x3b4)]=_0x384588,document['getElementById']('confidence-modal')[_0x4ea7a3(0xb6d)][_0x4ea7a3(0x66f)](_0x4ea7a3(0x599));}else handleSyncAnswerSubmit(_0x36a437,_0x4489ac,_0x1f2c48,_0x384588,![],0x0);}}_0x2c082e?document[_0x444371(0x657)](_0x444371(0x34f))[_0x444371(0xdc6)]('click',()=>{const _0x14d1df=_0x444371,_0xdfac45=document[_0x14d1df(0x657)]('sync-short-answer-input')||document[_0x14d1df(0x657)](_0x14d1df(0x9c7));if(_0xdfac45['value']['trim']()===''){showMessage(_0x14d1df(0x8da));return;}_0x2346df(_0xdfac45[_0x14d1df(0x68e)],_0x4804fc,_0x180479,_0x3c93b7);}):document[_0x444371(0x180)]('.live-answer-btn')[_0x444371(0x427)](_0x5911ba=>{const _0x523d64=_0x444371;_0x5911ba[_0x523d64(0xdc6)](_0x523d64(0x4ca),()=>{const _0x429ca6=_0x523d64;_0x2346df(_0x5911ba[_0x429ca6(0x320)][_0x429ca6(0x68e)],_0x4804fc,_0x180479,_0x3c93b7);});});const _0x141f2b=document[_0x444371(0x657)]('switch-responder-btn');_0x141f2b&&_0x141f2b['addEventListener'](_0x444371(0x4ca),()=>{showResponderSelectionModal(_0x180479);});if(_0x180479[_0x444371(0x744)]===!![]&&!_0x9fb2d){const _0x209ff8=document[_0x444371(0x657)]('open-market-btn');_0x209ff8&&_0x209ff8[_0x444371(0xdc6)]('click',()=>{const _0x3078cb=_0x444371,_0x2595f1=_0x3078cb(0xa60)+_0x47feaf+'_p'+_0x3c93b7,_0x430905=sessionStorage[_0x3078cb(0xe75)](_0x2595f1)==='true';if(!_0x430905)openBlackMarket(_0x180479,_0x497b36),sessionStorage['setItem'](_0x2595f1,_0x3078cb(0x804)),renderStudentSyncQuestionView(_0x180479);else{if(_0x497b36[_0x3078cb(0x2e5)]<0x1){showMessage(_0x3078cb(0x743));return;}showConfirmation(_0x3078cb(0x6e6),()=>{handlePayForMarketEntry(_0x3c93b7,_0x180479,_0x497b36);});}}),document[_0x444371(0x657)](_0x444371(0xedb))?.[_0x444371(0xdc6)](_0x444371(0x4ca),_0x376b46=>{const _0xa444fe=_0x444371;_0x376b46[_0xa444fe(0x6f7)][_0xa444fe(0x4b4)]=!![],handleUsePowerup(_0x3c93b7,_0xa444fe(0xcbd),_0x4804fc,_0x180479,_0x497b36);}),document[_0x444371(0x657)]('use-powerup-cutOne')?.[_0x444371(0xdc6)](_0x444371(0x4ca),_0x1144b1=>{const _0x490313=_0x444371;_0x1144b1[_0x490313(0x6f7)][_0x490313(0x4b4)]=!![],handleUsePowerup(_0x3c93b7,_0x490313(0x2cb),_0x4804fc,_0x180479,_0x497b36);}),document['getElementById']('use-powerup-insurance')?.['addEventListener'](_0x444371(0x4ca),_0x2d26f9=>{const _0x2a3848=_0x444371;_0x2d26f9['target'][_0x2a3848(0x4b4)]=!![],handleUsePowerup(_0x3c93b7,_0x2a3848(0xdfc),_0x4804fc,_0x180479,_0x497b36);}),document[_0x444371(0x657)](_0x444371(0xb62))?.[_0x444371(0xdc6)](_0x444371(0x4ca),_0xd5c7b3=>{const _0x39c1fa=_0x444371;_0xd5c7b3[_0x39c1fa(0x6f7)][_0x39c1fa(0x4b4)]=!![],handleUsePowerup(_0x3c93b7,_0x39c1fa(0x21a),_0x4804fc,_0x180479,_0x497b36);}),document[_0x444371(0x657)](_0x444371(0x8a6))?.['addEventListener'](_0x444371(0x4ca),_0x304ae6=>{const _0x4f4a6e=_0x444371;_0x304ae6[_0x4f4a6e(0x6f7)][_0x4f4a6e(0x4b4)]=!![],handleUsePowerup(_0x3c93b7,'secondChance',_0x4804fc,_0x180479,_0x497b36);}),document['getElementById'](_0x444371(0x84e))?.['addEventListener'](_0x444371(0x4ca),_0x1cf72f=>{const _0x3e2a66=_0x444371;_0x1cf72f[_0x3e2a66(0x6f7)][_0x3e2a66(0x4b4)]=!![],handleUsePowerup(_0x3c93b7,_0x3e2a66(0x636),_0x4804fc,_0x180479,_0x497b36);}),document['getElementById'](_0x444371(0x2c7))?.[_0x444371(0xdc6)](_0x444371(0x4ca),_0x1f0701=>{const _0x47273f=_0x444371;_0x1f0701[_0x47273f(0x6f7)][_0x47273f(0x4b4)]=!![],sessionStorage[_0x47273f(0x924)](_0x47273f(0xa11),_0x47273f(0xe41)),handleUsePowerup(_0x3c93b7,'wagerMultiplier',_0x4804fc,_0x180479,_0x497b36);});}_0x180479[_0x444371(0x744)]===!![]&&document[_0x444371(0x657)](_0x444371(0xbeb))?.[_0x444371(0xdc6)]('click',_0x398b6e=>{const _0x26c3a6=_0x444371;_0x398b6e[_0x26c3a6(0x6f7)][_0x26c3a6(0x4b4)]=!![],sessionStorage[_0x26c3a6(0x924)](_0x26c3a6(0xa11),_0x26c3a6(0x804)),handleUsePowerup(_0x3c93b7,_0x26c3a6(0xbdf),_0x4804fc,_0x180479,_0x497b36);});}function showResponderSelectionModal(_0x4295d7){const _0x5c1ce9=_0x4a01bc,_0x3e04dd=_0x4295d7[_0x5c1ce9(0x567)],_0x284ee4=_0x4295d7[_0x5c1ce9(0x7ce)][_0x5c1ce9(0x3ef)]['length'],_0x17dd43=localTeamPlayers[_0x5c1ce9(0xc4c)](_0x16ee29=>_0x4295d7[_0x5c1ce9(0x4f7)][_0x16ee29]?.[_0x5c1ce9(0xd88)]!==!![]),_0x5fec51=_0x17dd43[_0x5c1ce9(0x823)](_0x4bb01b=>_0x5c1ce9(0x487)+_0x4bb01b+_0x5c1ce9(0x2a5)+_0x4bb01b+_0x5c1ce9(0x4dc))[_0x5c1ce9(0x566)](''),_0x5005a0=_0x5c1ce9(0x932)+(_0x3e04dd+0x1)+_0x5c1ce9(0xa47)+_0x284ee4+_0x5c1ce9(0x1df)+_0x5fec51+_0x5c1ce9(0xbc5);document['body'][_0x5c1ce9(0xc14)](_0x5c1ce9(0x494),_0x5005a0),document['querySelectorAll'](_0x5c1ce9(0x688))[_0x5c1ce9(0x427)](_0x172f37=>{const _0x3f64cf=_0x5c1ce9;_0x172f37[_0x3f64cf(0xdc6)]('click',()=>{const _0x1911ed=_0x3f64cf,_0x47bdf0=_0x172f37['dataset'][_0x1911ed(0x9ce)];switchPlayerOnDevice(_0x47bdf0,_0x4295d7),document[_0x1911ed(0x657)](_0x1911ed(0x605))[_0x1911ed(0x66f)]();});}),document[_0x5c1ce9(0x657)](_0x5c1ce9(0x27f))[_0x5c1ce9(0xdc6)](_0x5c1ce9(0x4ca),()=>{const _0x588556=_0x5c1ce9;document['getElementById'](_0x588556(0x605))['remove']();});}function switchPlayerOnDevice(_0x1ed0bd,_0x4b2703){const _0x5ce084=_0x4a01bc,_0x431718=localTeamPlayers[_0x5ce084(0xc27)](_0x1ed0bd);_0x431718!==-0x1&&(localPlayerTurnIndex=_0x431718,renderStudentSyncQuestionView(_0x4b2703));}async function handleSyncAnswerSubmit(_0x2cc555,_0x3babc1,_0x41756c,_0x5938ca,_0x4cb73a,_0x36b9a4=0x0){const _0x14ad82=_0x4a01bc;document[_0x14ad82(0x180)](_0x14ad82(0xca5))['forEach'](_0x755b36=>_0x755b36[_0x14ad82(0x4b4)]=!![]);const _0x18bf94=_0x41756c[_0x14ad82(0x567)],_0x5390fc=_0x14ad82(0xdb4)+_0x18bf94+'_p'+_0x5938ca,_0x42dc34=sessionStorage['getItem'](_0x5390fc),_0x1c46c8=_0x41756c[_0x14ad82(0x4f7)][_0x5938ca]||{},_0xb6ff8f=_0x1c46c8['isForcedConfident']===!![],_0x447092=sessionStorage[_0x14ad82(0xe75)](_0x14ad82(0x8d3))===_0x14ad82(0x804);let _0x192790=_0x1c46c8[_0x14ad82(0x64c)]||0x0;_0x42dc34&&_0x42dc34!==_0x14ad82(0xbdf)&&(_0x192790=0x0);const _0x140682=_0x192790>=0x3,_0x33bb4c=_0x3babc1[_0x14ad82(0x7ed)]||_0x41756c[_0x14ad82(0x7ce)][_0x14ad82(0x335)];let _0x28bbe7=![],_0x501250=_0x2cc555;switch(_0x33bb4c){case _0x14ad82(0x446):const _0x26bc7c=parseInt(_0x2cc555),_0x596f87=_0x3babc1[_0x14ad82(0x315)]===!![]||String(_0x3babc1[_0x14ad82(0x315)])[_0x14ad82(0x2c0)]()===_0x14ad82(0x804);_0x28bbe7=_0x26bc7c===0x0&&_0x596f87||_0x26bc7c===0x1&&!_0x596f87,_0x501250=_0x26bc7c===0x0?_0x14ad82(0x41f):'ไม่ใช่\x20/\x20ผิด';break;case _0x14ad82(0x190):case _0x14ad82(0x467):_0x28bbe7=await gradeShortAnswer(_0x2cc555,_0x3babc1);break;case _0x14ad82(0xd13):_0x28bbe7=_0x2cc555===_0x3babc1[_0x14ad82(0xdf0)];break;case _0x14ad82(0xa7c):default:const _0x51d2a2=parseInt(_0x2cc555);_0x28bbe7=_0x51d2a2===_0x3babc1[_0x14ad82(0xf16)];_0x3babc1[_0x14ad82(0x5e9)]&&_0x3babc1[_0x14ad82(0x5e9)][_0x51d2a2]&&(_0x501250=_0x3babc1['options'][_0x51d2a2]);break;}if(!_0x28bbe7&&_0x42dc34===_0x14ad82(0xae3)&&!_0x447092){sessionStorage['removeItem'](_0x5390fc),sessionStorage[_0x14ad82(0x924)](_0x14ad82(0x8d3),_0x14ad82(0x804)),showMessage(_0x14ad82(0x81a)),document[_0x14ad82(0x180)](_0x14ad82(0xca5))['forEach'](_0xeb2e16=>{const _0xdb628e=_0x14ad82;if(!_0xeb2e16[_0xdb628e(0xb6d)][_0xdb628e(0x650)]('hidden'))_0xeb2e16[_0xdb628e(0x4b4)]=![];});return;}let _0x219ddf=0x0;const _0x4c8fe9=_0x42dc34===_0x14ad82(0xbdf),_0xfe48c1=_0x42dc34===_0x14ad82(0xdfc),_0x4c2434=sessionStorage['getItem'](_0x14ad82(0x2f2))===_0x14ad82(0x804),_0xd68ab9=_0x1c46c8[_0x14ad82(0x6bc)]===!![];if(_0x4c8fe9){const _0x4f7f47=parseInt(_0x36b9a4,0xa)||0x0;_0x219ddf=_0x28bbe7?_0x4f7f47*0x2:-_0x4f7f47;}else{if(_0x4c2434&&!_0x28bbe7)_0x219ddf=_0x4cb73a===!![]||_0x4cb73a===_0x14ad82(0xe13)||_0xb6ff8f?-0x4:-0x2;else{if(_0xb6ff8f)_0x219ddf=_0x28bbe7?0x2:-0x1;else{if(_0x41756c['isConfidenceScoringEnabled']){if(_0x28bbe7&&(_0x4cb73a===!![]||_0x4cb73a===_0x14ad82(0xe13)))_0x219ddf=0x2;else{if(_0x28bbe7)_0x219ddf=0x1;else{if(!_0x28bbe7&&(_0x4cb73a===![]||_0x4cb73a===_0x14ad82(0x1a9)||_0x4cb73a===null))_0x219ddf=0x0;else{if(!_0x28bbe7&&(_0x4cb73a===!![]||_0x4cb73a===_0x14ad82(0xe13)))_0x219ddf=-0x1;}}}}else _0x219ddf=_0x28bbe7?0x1:0x0;}}}_0x140682&&_0x219ddf>0x0&&(_0x219ddf*=0x2);_0xd68ab9&&!_0x28bbe7&&_0x219ddf<0x0&&(_0x219ddf*=0x2);!_0x28bbe7&&_0xfe48c1&&(_0x219ddf=0x0);const _0x59b21d=(_0x1c46c8[_0x14ad82(0x919)]||0x0)>0x0,_0x123150=_0x42dc34&&_0x42dc34!==_0x14ad82(0xbdf);let _0x1ada42=0x0;_0x28bbe7&&(_0x1ada42=_0x123150?0x0:_0x192790+0x1);const _0x379763={'questionIndex':_0x41756c['currentQuestionIndex'],'questionId':_0x3babc1['id'],'answer':_0x2cc555,'answerText':_0x501250,'isCorrect':_0x28bbe7,'originalQuestionText':_0x3babc1[_0x14ad82(0xbf2)]||_0x3babc1['stem'],'wasConfident':_0xb6ff8f?'confident':_0x4cb73a||![],'pointsAwarded':_0x219ddf,'powerupUsed':_0x42dc34||null,'wagerAmount':_0x4c8fe9?parseInt(_0x36b9a4,0xa)||0x0:0x0,'wasJinxed':_0xd68ab9||![],'wasForced':_0xb6ff8f||![],'usedPoll':_0x4c2434||![],'usedBuyTime':_0x59b21d,'streakActive':_0x140682},_0x5cfbc0=doc(db,_0x14ad82(0x4b1)+appId+_0x14ad82(0x392)+currentLiveGameId+'/players',_0x5938ca),_0x3ddd0b=_0x1c46c8[_0x14ad82(0xbd1)]||[],_0xcead6f=_0x3ddd0b['filter'](_0x3c9d2e=>_0x3c9d2e[_0x14ad82(0x683)]!==_0x41756c[_0x14ad82(0x567)]),_0x4a49a3=[..._0xcead6f,_0x379763],_0x481132=_0x4a49a3[_0x14ad82(0xc4c)](_0x39734c=>_0x39734c[_0x14ad82(0x41b)])[_0x14ad82(0x8ca)],_0x3e2d5d={'answers':_0x4a49a3,'score':_0x481132,'totalPoints':increment(_0x219ddf),'answered':!![],'lastAnswerIndex':_0x33bb4c==='multiple_choice'||_0x33bb4c===_0x14ad82(0x446)?parseInt(_0x2cc555):null,'lastAnswerValue':_0x501250,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x1ada42};if(_0x447092)sessionStorage[_0x14ad82(0x9be)](_0x14ad82(0x8d3));try{await updateDoc(_0x5cfbc0,_0x3e2d5d);}catch(_0xf4ca20){console['error']('Error\x20submitting\x20answer:',_0xf4ca20),showMessage('ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่'),document['querySelectorAll'](_0x14ad82(0xca5))['forEach'](_0x286537=>_0x286537[_0x14ad82(0x4b4)]=![]);}}const allMarketItems=[{'id':_0x4a01bc(0xcbd),'name':'⏳\x20ซื้อเวลา','price':0x1,'desc':_0x4a01bc(0xe51)},{'id':_0x4a01bc(0x2cb),'name':_0x4a01bc(0x8f6),'price':0x2,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ'},{'id':_0x4a01bc(0x21a),'name':_0x4a01bc(0x7b9),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':_0x4a01bc(0xae3),'name':_0x4a01bc(0x403),'price':0x7,'desc':_0x4a01bc(0xed9)},{'id':_0x4a01bc(0x636),'name':_0x4a01bc(0xec0),'price':0xc,'desc':_0x4a01bc(0x1b8)}];function openBlackMarket(_0x549437,_0x5aff85){const _0x4d1f26=_0x4a01bc;let _0x47e9fb=null;const _0x14dd60=document[_0x4d1f26(0x657)](_0x4d1f26(0x3b3)),_0x148175=document[_0x4d1f26(0x657)](_0x4d1f26(0xd3c)),_0x519531=document[_0x4d1f26(0x657)](_0x4d1f26(0xab5)),_0x4b0498=document[_0x4d1f26(0x657)]('market-timer-bar'),_0x2b1839=_0x5aff85[_0x4d1f26(0x2e5)]||0x0;_0x519531['textContent']=_0x2b1839;const _0x3206fd=_0x549437[_0x4d1f26(0x567)],_0x4e7a06=_0x549437[_0x4d1f26(0x7ce)][_0x4d1f26(0x3ef)][_0x3206fd],_0x53ea1d=_0x4e7a06[_0x4d1f26(0x7ed)]||_0x549437[_0x4d1f26(0x7ce)]['quizType'],_0x5f093b=_0x549437[_0x4d1f26(0xc54)]===_0x4d1f26(0xe7a),_0x309bbe=allMarketItems;_0x148175[_0x4d1f26(0x891)]=_0x309bbe['map'](_0x11c9f4=>{const _0x395c6a=_0x4d1f26,_0x522bd5=_0x2b1839>=_0x11c9f4[_0x395c6a(0x7b7)];if(_0x11c9f4['id']==='buyTime'){const _0x56e446=_0x522bd5?Math[_0x395c6a(0xd62)](_0x2b1839/_0x11c9f4[_0x395c6a(0x7b7)]):0x0,_0x310ee6=_0x522bd5&&_0x5f093b;let _0x166591=_0x395c6a(0x846)+_0x11c9f4[_0x395c6a(0x7b7)]+_0x395c6a(0x88d),_0x1ec965=_0x310ee6?_0x395c6a(0x2cf):_0x395c6a(0xc05);return!_0x5f093b&&(_0x166591='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา',_0x1ec965='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),_0x395c6a(0xc6c)+(!_0x310ee6?_0x395c6a(0x915):_0x395c6a(0x317))+_0x395c6a(0x2cd)+_0x11c9f4['name']+_0x395c6a(0x971)+_0x11c9f4[_0x395c6a(0x1c2)]+_0x395c6a(0x916)+_0x56e446+'\x22\x20'+(!_0x310ee6?'disabled':'')+_0x395c6a(0xa36)+_0x1ec965+_0x395c6a(0xdc9)+_0x11c9f4['id']+_0x395c6a(0x428)+_0x11c9f4[_0x395c6a(0x7b7)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x310ee6?_0x395c6a(0x4b4):'')+_0x395c6a(0xb7d)+_0x166591+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{let _0x327434=!_0x522bd5,_0x582ce3=_0x522bd5?_0x395c6a(0x2cf):_0x395c6a(0xc05),_0x105727=_0x395c6a(0x846)+_0x11c9f4[_0x395c6a(0x7b7)]+'P)';if(_0x11c9f4['id']===_0x395c6a(0x636)){const _0x2bdd0b=_0x4e7a06[_0x395c6a(0x5e9)]&&_0x4e7a06[_0x395c6a(0x5e9)][_0x395c6a(0x8ca)]>0x0,_0x146b9f=_0x53ea1d===_0x395c6a(0x190)||_0x53ea1d==='fill_in_no_choices';(!_0x2bdd0b||!_0x146b9f)&&(_0x327434=!![],_0x582ce3=_0x395c6a(0x541),_0x105727=_0x395c6a(0xea5));}if(_0x11c9f4['id']===_0x395c6a(0x2cb)||_0x11c9f4['id']===_0x395c6a(0x21a)){const _0x1ffa47=_0x53ea1d===_0x395c6a(0x190)||_0x53ea1d===_0x395c6a(0x467),_0x5de3da=_0x4e7a06[_0x395c6a(0x5e9)]&&_0x4e7a06[_0x395c6a(0x5e9)][_0x395c6a(0x8ca)]>0x0;(_0x1ffa47||!_0x5de3da)&&(_0x327434=!![],_0x582ce3='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x105727=_0x395c6a(0x58e));}return _0x395c6a(0xc6c)+(_0x327434?_0x395c6a(0x915):_0x395c6a(0x317))+_0x395c6a(0x2cd)+_0x11c9f4[_0x395c6a(0x9ce)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x11c9f4[_0x395c6a(0x1c2)]+_0x395c6a(0xbe0)+_0x582ce3+_0x395c6a(0x2d6)+_0x11c9f4['id']+_0x395c6a(0x80e)+_0x11c9f4[_0x395c6a(0x7b7)]+_0x395c6a(0xd98)+(_0x327434?_0x395c6a(0x4b4):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x105727+_0x395c6a(0x6b2);}})[_0x4d1f26(0x566)](''),_0x14dd60[_0x4d1f26(0xb6d)]['remove'](_0x4d1f26(0x599)),_0x4b0498[_0x4d1f26(0xd7a)][_0x4d1f26(0x23d)]=_0x4d1f26(0x813),_0x4b0498[_0x4d1f26(0xd7a)][_0x4d1f26(0x1c6)]=_0x4d1f26(0x3e1),setTimeout(()=>{const _0x5291f1=_0x4d1f26;_0x4b0498['style'][_0x5291f1(0x23d)]=_0x5291f1(0xe25),_0x4b0498['style'][_0x5291f1(0x1c6)]='0%';},0x32),_0x47e9fb=setTimeout(()=>{const _0x398b7d=_0x4d1f26;_0x14dd60['classList'][_0x398b7d(0xa52)](_0x398b7d(0x599));},0xea60),document[_0x4d1f26(0x657)]('close-market-btn')[_0x4d1f26(0x385)]=()=>{const _0x16152b=_0x4d1f26;clearTimeout(_0x47e9fb),_0x14dd60[_0x16152b(0xb6d)][_0x16152b(0xa52)](_0x16152b(0x599));},_0x148175[_0x4d1f26(0x180)](_0x4d1f26(0xdac))[_0x4d1f26(0x427)](_0x994345=>{const _0x1d17c7=_0x4d1f26;_0x994345[_0x1d17c7(0x385)]=_0x52f68f=>{const _0x293486=_0x1d17c7,_0x1994c2=_0x52f68f[_0x293486(0x6f7)][_0x293486(0x320)][_0x293486(0xcc3)],_0x1161b4=parseInt(_0x52f68f[_0x293486(0x6f7)][_0x293486(0x320)][_0x293486(0x7b7)],0xa);clearTimeout(_0x47e9fb),_0x14dd60[_0x293486(0xb6d)][_0x293486(0xa52)](_0x293486(0x599)),handleBuyItem(_0x5aff85[_0x293486(0x9ce)],_0x1994c2,_0x1161b4,0x1);};}),_0x148175[_0x4d1f26(0x180)]('.buy-time-confirm-btn')['forEach'](_0xda0318=>{const _0x104e3b=_0x4d1f26;_0xda0318[_0x104e3b(0x385)]=_0x2160e7=>{const _0x5d75da=_0x104e3b,_0x4c9bb0=_0x2160e7['target']['dataset'][_0x5d75da(0xcc3)],_0x20ead0=parseInt(_0x2160e7['target'][_0x5d75da(0x320)][_0x5d75da(0x7b7)],0xa),_0xb65499=document['getElementById'](_0x5d75da(0xac1)),_0xdc6341=parseInt(_0xb65499[_0x5d75da(0x68e)],0xa),_0x10c934=parseInt(_0xb65499[_0x5d75da(0xf23)],0xa);if(!_0xdc6341||_0xdc6341<0x1){showMessage(_0x5d75da(0xce2));return;}if(_0xdc6341>_0x10c934){showMessage(_0x5d75da(0x998)+_0x10c934+_0x5d75da(0x75c));return;}clearTimeout(_0x47e9fb),_0x14dd60[_0x5d75da(0xb6d)][_0x5d75da(0xa52)]('hidden'),handleBuyItem(_0x5aff85[_0x5d75da(0x9ce)],_0x4c9bb0,_0x20ead0,_0xdc6341);};});}async function handleBuyItem(_0x2a9a93,_0x1adfcb,_0x38df1d,_0x466db=0x1){const _0x551e3e=_0x4a01bc,_0x2887d1=doc(db,_0x551e3e(0x4b1)+appId+_0x551e3e(0x392)+currentLiveGameId+_0x551e3e(0x5b4),_0x2a9a93);try{await runTransaction(db,async _0x48b0e0=>{const _0x4a9227=_0x551e3e,_0x1adb5b=await _0x48b0e0[_0x4a9227(0x3b1)](_0x2887d1);if(!_0x1adb5b[_0x4a9227(0xce9)]())throw _0x4a9227(0x89a);const _0x2455cc=_0x1adb5b['data']()[_0x4a9227(0x2e5)]||0x0,_0x5d4c49=_0x38df1d*_0x466db;if(_0x2455cc<_0x5d4c49)throw _0x4a9227(0x3d5);const _0x3ed7ed={};_0x3ed7ed[_0x4a9227(0x2e5)]=increment(-_0x5d4c49),_0x3ed7ed[_0x4a9227(0xeba)+_0x1adfcb]=increment(_0x466db),_0x48b0e0['update'](_0x2887d1,_0x3ed7ed);}),showMessage(_0x551e3e(0x73c)+_0x1adfcb+_0x551e3e(0xb26)+_0x466db+_0x551e3e(0x7a6));}catch(_0x55d017){console[_0x551e3e(0xcb6)](_0x551e3e(0xc45),_0x55d017),showMessage(typeof _0x55d017===_0x551e3e(0x9a5)?_0x55d017:'เกิดข้อผิดพลาดในการซื้อ');}}async function handlePayForMarketEntry(_0x368270,_0xe9824c,_0x1a64bc){const _0x5499a3=_0x4a01bc,_0x169fa6=doc(db,_0x5499a3(0x4b1)+appId+_0x5499a3(0x392)+currentLiveGameId+_0x5499a3(0x5b4),_0x368270);try{await runTransaction(db,async _0x275239=>{const _0x44b02a=_0x5499a3,_0x382480=await _0x275239[_0x44b02a(0x3b1)](_0x169fa6);if(!_0x382480[_0x44b02a(0xce9)]())throw _0x44b02a(0x89a);const _0x60d9cb=_0x382480['data']()[_0x44b02a(0x2e5)]||0x0;if(_0x60d9cb<0x1)throw _0x44b02a(0xa8b);const _0x119d2d={};_0x119d2d['totalPoints']=increment(-0x1),_0x275239['update'](_0x169fa6,_0x119d2d);});const _0x209091={..._0x1a64bc,'totalPoints':(_0x1a64bc[_0x5499a3(0x2e5)]||0x0)-0x1};openBlackMarket(_0xe9824c,_0x209091);}catch(_0x247e95){console[_0x5499a3(0xcb6)](_0x5499a3(0x8f9),_0x247e95),showMessage(typeof _0x247e95==='string'?_0x247e95:_0x5499a3(0x6e1));}}const audioCtx=new(window[(_0x4a01bc(0x5f5))]||window[(_0x4a01bc(0x90c))])();function playSystemSound(_0x3f6dfb){const _0x307bf7=_0x4a01bc;if(audioCtx[_0x307bf7(0x737)]===_0x307bf7(0x5ed))audioCtx[_0x307bf7(0x7e7)]();const _0x5cb78f=audioCtx['createOscillator'](),_0x143d1b=audioCtx['createGain']();_0x5cb78f[_0x307bf7(0xa3e)](_0x143d1b),_0x143d1b['connect'](audioCtx[_0x307bf7(0xd07)]);const _0x5da6ad=audioCtx['currentTime'];if(_0x3f6dfb===_0x307bf7(0x3b5))_0x5cb78f[_0x307bf7(0xd6c)]=_0x307bf7(0xe67),_0x5cb78f[_0x307bf7(0xc35)][_0x307bf7(0x75a)](0x258,_0x5da6ad),_0x5cb78f[_0x307bf7(0xc35)]['exponentialRampToValueAtTime'](0x4b0,_0x5da6ad+0.1),_0x143d1b[_0x307bf7(0x341)][_0x307bf7(0x75a)](0.1,_0x5da6ad),_0x143d1b['gain']['exponentialRampToValueAtTime'](0.01,_0x5da6ad+0.5),_0x5cb78f[_0x307bf7(0xa78)](_0x5da6ad),_0x5cb78f[_0x307bf7(0x3cb)](_0x5da6ad+0.5);else{if(_0x3f6dfb===_0x307bf7(0xbf1))_0x5cb78f[_0x307bf7(0xd6c)]=_0x307bf7(0x664),_0x5cb78f[_0x307bf7(0xc35)][_0x307bf7(0x75a)](0x96,_0x5da6ad),_0x5cb78f[_0x307bf7(0xc35)][_0x307bf7(0xa06)](0x64,_0x5da6ad+0.2),_0x143d1b[_0x307bf7(0x341)][_0x307bf7(0x75a)](0.1,_0x5da6ad),_0x143d1b[_0x307bf7(0x341)][_0x307bf7(0xa06)](0.01,_0x5da6ad+0.3),_0x5cb78f[_0x307bf7(0xa78)](_0x5da6ad),_0x5cb78f[_0x307bf7(0x3cb)](_0x5da6ad+0.3);else _0x3f6dfb==='powerup'&&(_0x5cb78f[_0x307bf7(0xd6c)]='triangle',_0x5cb78f['frequency'][_0x307bf7(0x75a)](0x12c,_0x5da6ad),_0x5cb78f[_0x307bf7(0xc35)][_0x307bf7(0x92a)](0x258,_0x5da6ad+0.1),_0x143d1b[_0x307bf7(0x341)]['setValueAtTime'](0.1,_0x5da6ad),_0x143d1b[_0x307bf7(0x341)]['linearRampToValueAtTime'](0.01,_0x5da6ad+0.3),_0x5cb78f[_0x307bf7(0xa78)](_0x5da6ad),_0x5cb78f['stop'](_0x5da6ad+0.3));}}initialize();
