const _0x52e79a=_0x228e;(function(_0x1c713e,_0x27d1d3){const _0x5d7eb7=_0x228e,_0x59d77a=_0x1c713e();while(!![]){try{const _0x10722e=-parseInt(_0x5d7eb7(0x320))/0x1+parseInt(_0x5d7eb7(0x40f))/0x2*(-parseInt(_0x5d7eb7(0x4f2))/0x3)+parseInt(_0x5d7eb7(0x47f))/0x4+parseInt(_0x5d7eb7(0x3c9))/0x5+parseInt(_0x5d7eb7(0x4f8))/0x6+-parseInt(_0x5d7eb7(0x313))/0x7*(parseInt(_0x5d7eb7(0x3d4))/0x8)+parseInt(_0x5d7eb7(0x297))/0x9;if(_0x10722e===_0x27d1d3)break;else _0x59d77a['push'](_0x59d77a['shift']());}catch(_0x4c6067){_0x59d77a['push'](_0x59d77a['shift']());}}}(_0x45cf,0x7bf47));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x52e79a(0x52e)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x27e)},{'category':_0x52e79a(0x52d),'name':'การปัดเศษและประมาณค่า'},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x1c4)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x144)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x363)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x3f4)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x2ab)},{'category':_0x52e79a(0x52d),'name':'จำนวนเต็มลบ'},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x642)},{'category':'จำนวนและการดำเนินการ','name':_0x52e79a(0x118)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x24f)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x2a6)},{'category':'จำนวนและการดำเนินการ','name':_0x52e79a(0x678)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x41b)},{'category':'จำนวนและการดำเนินการ','name':_0x52e79a(0x61b)},{'category':_0x52e79a(0x52d),'name':'อัตราและอัตราหน่วย'},{'category':_0x52e79a(0x52d),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x589)},{'category':'จำนวนและการดำเนินการ','name':_0x52e79a(0x151)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x611)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x50b)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x316)},{'category':_0x52e79a(0x52d),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x3d2)},{'category':'จำนวนและการดำเนินการ','name':'การลบทศนิยม'},{'category':_0x52e79a(0x52d),'name':'การคูณทศนิยม'},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x1af)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x181)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x207)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0xd4)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0xd9)},{'category':'จำนวนและการดำเนินการ','name':_0x52e79a(0x356)},{'category':_0x52e79a(0x52d),'name':_0x52e79a(0x3f8)},{'category':_0x52e79a(0x52d),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x52e79a(0xd8),'name':_0x52e79a(0x310)},{'category':'การวัด','name':_0x52e79a(0x199)},{'category':_0x52e79a(0xd8),'name':_0x52e79a(0x3c2)},{'category':_0x52e79a(0xd8),'name':_0x52e79a(0x131)},{'category':_0x52e79a(0xd8),'name':'อุณหภูมิและการแปลง'},{'category':_0x52e79a(0xd8),'name':'เส้นรอบรูป'},{'category':_0x52e79a(0xd8),'name':_0x52e79a(0x408)},{'category':_0x52e79a(0xd8),'name':_0x52e79a(0x2df)},{'category':'การวัด','name':_0x52e79a(0x577)},{'category':_0x52e79a(0xd8),'name':_0x52e79a(0x45b)},{'category':_0x52e79a(0xd8),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x52e79a(0xd8),'name':_0x52e79a(0x4cb)},{'category':'การวัด','name':_0x52e79a(0x576)},{'category':'การวัด','name':'ค่าคลาดเคลื่อนของการวัด'},{'category':'เรขาคณิต','name':_0x52e79a(0x442)},{'category':_0x52e79a(0x114),'name':_0x52e79a(0xf7)},{'category':_0x52e79a(0x114),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x52e79a(0x114),'name':_0x52e79a(0x2df)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x52e79a(0x114),'name':_0x52e79a(0x5e5)},{'category':'เรขาคณิต','name':_0x52e79a(0x2d4)},{'category':_0x52e79a(0x114),'name':_0x52e79a(0x314)},{'category':_0x52e79a(0x114),'name':_0x52e79a(0x464)},{'category':_0x52e79a(0x114),'name':_0x52e79a(0xe7)},{'category':'เรขาคณิต','name':_0x52e79a(0x548)},{'category':'เรขาคณิต','name':_0x52e79a(0x31f)},{'category':_0x52e79a(0x114),'name':_0x52e79a(0x373)},{'category':'เรขาคณิต','name':_0x52e79a(0x19f)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x34b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x517)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x17c)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x245)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x38a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x112)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x169)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x2ba)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x40b)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x303)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x4a2)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x2a9)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x440)},{'category':_0x52e79a(0x669),'name':'ระบบอสมการ'},{'category':_0x52e79a(0x669),'name':_0x52e79a(0xf8)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0xe8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x5ba)},{'category':_0x52e79a(0x669),'name':'ฟังก์ชันผกผัน'},{'category':_0x52e79a(0x669),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x52e79a(0x669),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x61d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x56c)},{'category':_0x52e79a(0x669),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x52e79a(0x669),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x52e79a(0x669),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52e79a(0x55a)},{'category':_0x52e79a(0x669),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x52e79a(0x669),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x44a)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x491)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0x41a)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0xda)},{'category':_0x52e79a(0x669),'name':_0x52e79a(0xff)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x52e79a(0x184),'name':_0x52e79a(0xd6)},{'category':'เรขาคณิตวิเคราะห์','name':_0x52e79a(0x25d)},{'category':_0x52e79a(0x184),'name':_0x52e79a(0x4ff)},{'category':_0x52e79a(0x184),'name':_0x52e79a(0x28f)},{'category':_0x52e79a(0x184),'name':_0x52e79a(0x5d1)},{'category':_0x52e79a(0x184),'name':_0x52e79a(0x644)},{'category':_0x52e79a(0x184),'name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x52e79a(0x5ac),'name':_0x52e79a(0x3cf)},{'category':_0x52e79a(0x5ac),'name':_0x52e79a(0x1ac)},{'category':_0x52e79a(0x5ac),'name':_0x52e79a(0x253)},{'category':'ตรีโกณมิติ','name':_0x52e79a(0x36d)},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x52e79a(0x5ac),'name':'กฎของโคไซน์'},{'category':_0x52e79a(0x5ac),'name':_0x52e79a(0x4d6)},{'category':_0x52e79a(0x5ac),'name':_0x52e79a(0x1b0)},{'category':_0x52e79a(0x5ac),'name':_0x52e79a(0x620)},{'category':_0x52e79a(0x5ac),'name':_0x52e79a(0x102)},{'category':'ตรีโกณมิติ','name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x52e79a(0x4be),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x503)},{'category':_0x52e79a(0x4be),'name':'ตารางความถี่'},{'category':_0x52e79a(0x4be),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x3b2)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x52e79a(0x4be),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x52e79a(0x2c4)},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x180)},{'category':_0x52e79a(0x4be),'name':'พิสัย'},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x185)},{'category':'สถิติและความน่าจะเป็น','name':'ความแปรปรวน'},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x4ed)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0xfc)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x593)},{'category':'สถิติและความน่าจะเป็น','name':_0x52e79a(0x1cc)},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x5c4)},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x2e5)},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x1d5)},{'category':_0x52e79a(0x4be),'name':_0x52e79a(0x58b)},{'category':_0x52e79a(0x4be),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x52e79a(0x1ae)},{'category':_0x52e79a(0x10d),'name':'ลิมิต'},{'category':_0x52e79a(0x10d),'name':'ความต่อเนื่อง'},{'category':_0x52e79a(0x10d),'name':_0x52e79a(0x45d)},{'category':_0x52e79a(0x10d),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x52e79a(0x10d),'name':_0x52e79a(0x682)},{'category':_0x52e79a(0x10d),'name':_0x52e79a(0x432)},{'category':'แคลคูลัสเบื้องต้น','name':_0x52e79a(0x5fd)},{'category':_0x52e79a(0x10d),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x52e79a(0x10d),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x52e79a(0x10d),'name':_0x52e79a(0x282)},{'category':'แคลคูลัสเบื้องต้น','name':_0x52e79a(0x532)},{'category':_0x52e79a(0x10d),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x52e79a(0x5da)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x52e79a(0x5ea)},{'category':_0x52e79a(0x48a),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x52e79a(0x48a),'name':_0x52e79a(0x402)},{'category':_0x52e79a(0x48a),'name':_0x52e79a(0x5e6)},{'category':_0x52e79a(0x48a),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x52e79a(0x48a),'name':'ดีเทอร์มิแนนต์'},{'category':_0x52e79a(0x48a),'name':_0x52e79a(0x2ec)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x52e79a(0x126),'name':_0x52e79a(0x3fe)},{'category':_0x52e79a(0x126),'name':_0x52e79a(0x3f9)},{'category':_0x52e79a(0x126),'name':_0x52e79a(0x405)},{'category':_0x52e79a(0x126),'name':_0x52e79a(0x18e)},{'category':_0x52e79a(0x1f4),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x52e79a(0x1f4),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x31aeef=_0x52e79a,_0xd21ddb=document['getElementById'](_0x31aeef(0x5e2));if(!_0xd21ddb)return;const _0x238f14=allMathTopics,_0x2a122b=customMathTopics[_0x31aeef(0x2ce)](_0x2909e2=>({'id':_0x2909e2['id'],'category':_0x31aeef(0xe6),'name':_0x2909e2[_0x31aeef(0x5b7)]})),_0x6f7691=[..._0x238f14,..._0x2a122b],_0xc1b5b0=_0x6f7691['reduce']((_0x4f9951,_0x4c343a)=>{const _0xfe43bf=_0x31aeef;return!_0x4f9951[_0x4c343a[_0xfe43bf(0x4fa)]]&&(_0x4f9951[_0x4c343a['category']]=[]),_0x4f9951[_0x4c343a['category']][_0xfe43bf(0x2e0)](_0x4c343a),_0x4f9951;},{});let _0x1bea72='';const _0x49772e=[_0x31aeef(0xe6),...Object[_0x31aeef(0x570)](_0xc1b5b0)[_0x31aeef(0x3d5)](_0x4c5d39=>_0x4c5d39!==_0x31aeef(0xe6))];for(const _0x210bb2 of _0x49772e){if(_0xc1b5b0[_0x210bb2]){const _0x284b42=_0x210bb2===_0x31aeef(0xe6),_0x1e5cdd=_0x284b42?_0x31aeef(0x610):_0x31aeef(0x344),_0x53684a=_0x284b42?_0x31aeef(0x2b5):_0x31aeef(0x3cc);_0x1bea72+=_0x31aeef(0x162),_0x1bea72+=_0x31aeef(0x636)+_0x53684a+_0x31aeef(0x409)+_0x1e5cdd+_0x31aeef(0x2bb)+_0x210bb2+'</p>',_0xc1b5b0[_0x210bb2][_0x31aeef(0x5bc)](_0x482dca=>{const _0x20dc5e=_0x31aeef,_0x167543=!!_0x482dca['id'],_0x32594c=_0x167543?_0x20dc5e(0x401)+_0x482dca['id']+_0x20dc5e(0x478)+_0x482dca['id']+_0x20dc5e(0x13c)+_0x482dca['id']+_0x20dc5e(0x20b)+_0x482dca['id']+_0x20dc5e(0x117):'';_0x1bea72+=_0x20dc5e(0x295)+(_0x482dca['id']||'')+_0x20dc5e(0x309)+_0x482dca[_0x20dc5e(0x5b7)]+_0x20dc5e(0x44b)+_0x482dca[_0x20dc5e(0x5b7)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x167543?_0x20dc5e(0x202)+_0x482dca['name']+'\x22>':'')+_0x20dc5e(0x5a3)+_0x32594c+_0x20dc5e(0x59b);}),_0x1bea72+=_0x31aeef(0x5ca);}}_0xd21ddb[_0x31aeef(0xeb)]=_0x1bea72||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0xd21ddb[_0x31aeef(0x607)](_0x31aeef(0x31b),updateSelectedTopicsCount),_0xd21ddb[_0x31aeef(0x413)](_0x31aeef(0x31b),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3cff94,_0x43315c){const _0x13160c=_0x52e79a;if(!_0x3cff94||!_0x43315c[_0x13160c(0xfd)]()){showMessage(_0x13160c(0x242));return;}try{const _0x548079=doc(db,_0x13160c(0x21f)+appId+'/public/data/customMathTopics',_0x3cff94);await updateDoc(_0x548079,{'name':_0x43315c[_0x13160c(0xfd)]()}),showMessage(_0x13160c(0x330));}catch(_0x250493){console[_0x13160c(0x567)]('Error\x20updating\x20custom\x20topic:',_0x250493),showMessage(_0x13160c(0x5b1));}}function toggleTopicEditMode(_0x15e17c,_0x560c3d){const _0x257ba9=_0x52e79a;if(!_0x15e17c)return;const _0x283b1a=_0x15e17c[_0x257ba9(0x2ad)](_0x257ba9(0x44f)),_0x60e2df=_0x15e17c[_0x257ba9(0x2ad)]('.topic-name-input'),_0x341478=_0x15e17c['querySelector'](_0x257ba9(0x1c5)),_0x54963c=_0x15e17c[_0x257ba9(0x2ad)](_0x257ba9(0x387));_0x283b1a['classList']['toggle']('hidden',_0x560c3d),_0x60e2df[_0x257ba9(0x200)]['toggle'](_0x257ba9(0x4c1),!_0x560c3d),_0x341478['classList']['toggle'](_0x257ba9(0x4c1),_0x560c3d),_0x54963c[_0x257ba9(0x200)]['toggle'](_0x257ba9(0x4c1),!_0x560c3d),_0x560c3d&&(_0x60e2df[_0x257ba9(0x40e)](),_0x60e2df[_0x257ba9(0x1f2)]());}function updateSelectedTopicsCount(){const _0x486fce=_0x52e79a,_0xbc1c79=document[_0x486fce(0x4eb)](_0x486fce(0x5e2)),_0x325a30=_0xbc1c79['querySelectorAll'](_0x486fce(0x266))[_0x486fce(0x665)],_0x4ce2db=document[_0x486fce(0x4eb)](_0x486fce(0x606));_0x325a30>0x0?_0x4ce2db[_0x486fce(0x3cd)]='(เลือกแล้ว\x20'+_0x325a30+_0x486fce(0x113):_0x4ce2db[_0x486fce(0x3cd)]='';}let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x52e79a(0x4c3),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':'คะแนนเต็ม','description':_0x52e79a(0x2b0),'icon':_0x52e79a(0x496)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x52e79a(0x1e6),'icon':_0x52e79a(0x3c1)},'ON_FIRE':{'id':_0x52e79a(0x609),'name':'ท็อปฟอร์ม','description':_0x52e79a(0x470),'icon':_0x52e79a(0x51d)},'FIRST_TRY_ACE':{'id':_0x52e79a(0x53c),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x52e79a(0x388)},'COMEBACK_KING':{'id':'comeback_king','name':_0x52e79a(0x32e),'description':_0x52e79a(0x3f3),'icon':_0x52e79a(0x1ea)},'SPECIALIST':{'id':_0x52e79a(0x4dd),'name':_0x52e79a(0x446),'description':_0x52e79a(0xe0),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x52e79a(0x586),'name':_0x52e79a(0x2a8),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x52e79a(0x2e1),'authDomain':_0x52e79a(0x568),'projectId':_0x52e79a(0xf2),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':_0x52e79a(0x5df),'appId':_0x52e79a(0x5e0),'measurementId':_0x52e79a(0x5fa)},appId=typeof __app_id!==_0x52e79a(0x10c)?__app_id:_0x52e79a(0x2b7),adminView=document[_0x52e79a(0x4eb)]('admin-view'),studentView=document[_0x52e79a(0x4eb)](_0x52e79a(0x1cf)),projectDashboardView=document[_0x52e79a(0x4eb)]('project-dashboard-view'),projectDetailView=document[_0x52e79a(0x4eb)](_0x52e79a(0x25f)),quizResultsView=document[_0x52e79a(0x4eb)]('quiz-results-view'),projectList=document[_0x52e79a(0x4eb)](_0x52e79a(0x54c)),noProjectsMsg=document[_0x52e79a(0x4eb)](_0x52e79a(0x3eb)),projectTitle=document[_0x52e79a(0x4eb)](_0x52e79a(0x1c2)),projectIdDisplay=document['getElementById'](_0x52e79a(0x2f0)),studentList=document['getElementById'](_0x52e79a(0x337)),messageModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x272)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x51b)),adminPasswordModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x32d)),confirmationModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x573)),userIdDisplay=document[_0x52e79a(0x4eb)](_0x52e79a(0x44d)),topicTab=document[_0x52e79a(0x4eb)](_0x52e79a(0x129)),textTab=document[_0x52e79a(0x4eb)]('text-tab'),topicInputArea=document[_0x52e79a(0x4eb)](_0x52e79a(0x554)),textInputArea=document[_0x52e79a(0x4eb)](_0x52e79a(0x38c)),manageTab=document['getElementById'](_0x52e79a(0x12d)),resultsTab=document[_0x52e79a(0x4eb)](_0x52e79a(0x64d)),leaderboardTab=document[_0x52e79a(0x4eb)]('leaderboard-tab'),manageTabContent=document[_0x52e79a(0x4eb)](_0x52e79a(0x3c0)),resultsTabContent=document['getElementById'](_0x52e79a(0x424)),leaderboardTabContent=document[_0x52e79a(0x4eb)]('leaderboard-tab-content'),projectQuizzesList=document[_0x52e79a(0x4eb)](_0x52e79a(0x211)),fileTab=document[_0x52e79a(0x4eb)](_0x52e79a(0x39c)),fileInputArea=document[_0x52e79a(0x4eb)](_0x52e79a(0x10f)),fileUploadInput=document[_0x52e79a(0x4eb)](_0x52e79a(0x4e9)),worksheetTab=document[_0x52e79a(0x4eb)](_0x52e79a(0x617)),worksheetInputArea=document[_0x52e79a(0x4eb)]('worksheet-input-area'),generateWorksheetBtn=document[_0x52e79a(0x4eb)](_0x52e79a(0x3be)),studentInitialView=document['getElementById'](_0x52e79a(0x22d)),studentNameSelectionView=document[_0x52e79a(0x4eb)](_0x52e79a(0x1b4)),studentQuizArea=document[_0x52e79a(0x4eb)](_0x52e79a(0x2c8)),studentResultArea=document[_0x52e79a(0x4eb)](_0x52e79a(0x1a3)),studentReadingArea=document[_0x52e79a(0x4eb)](_0x52e79a(0x281)),loadQuizBtn=document['getElementById'](_0x52e79a(0x525)),startQuizBtn=document['getElementById'](_0x52e79a(0x3e0)),studentJoinGameView=document['getElementById'](_0x52e79a(0x12f)),presentationModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x4c8)),renameQuizModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x660)),moveQuizModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x12a)),quizSettingsModal=document[_0x52e79a(0x4eb)]('quiz-settings-modal'),quizStatusModal=document[_0x52e79a(0x4eb)](_0x52e79a(0x550)),liveGameView=document[_0x52e79a(0x4eb)](_0x52e79a(0x19d));function handleAutoFixLatex(){const _0x11c7f3=_0x52e79a,_0x5e5d21=document[_0x11c7f3(0x4eb)]('quiz-editor-questions-container')||document,_0x2a130f=_0x5e5d21['querySelectorAll'](['textarea',_0x11c7f3(0x476),_0x11c7f3(0x637),'[role=\x22textbox\x22]',_0x11c7f3(0x48e),'label',_0x11c7f3(0x490),_0x11c7f3(0xe9),_0x11c7f3(0x31a)][_0x11c7f3(0x42d)](','));let _0xca0936=0x0;const _0x3a3a85=_0x81f914=>_0x11c7f3(0x4d7)in _0x81f914?String(_0x81f914['value']):_0x81f914[_0x11c7f3(0x40a)]!==undefined?_0x81f914['innerText']:_0x81f914[_0x11c7f3(0x3cd)]||'',_0x293e6a=(_0x48814f,_0x3c28ec)=>{const _0x1bf08f=_0x11c7f3;if(_0x1bf08f(0x4d7)in _0x48814f){_0x48814f[_0x1bf08f(0x4d7)]=_0x3c28ec;return;}if(_0x48814f[_0x1bf08f(0x2ad)]&&_0x48814f[_0x1bf08f(0x2ad)](_0x1bf08f(0x530)))return;if(_0x48814f[_0x1bf08f(0x40a)]!==undefined)_0x48814f[_0x1bf08f(0x40a)]=_0x3c28ec;else _0x48814f[_0x1bf08f(0x3cd)]=_0x3c28ec;},_0x22b90e=_0x5d5bfd=>_0x5d5bfd[_0x11c7f3(0x235)](/\u00A0/g,'\x20')[_0x11c7f3(0x235)](/\u200B/g,'')[_0x11c7f3(0x235)](/\r\n?/g,'\x0a'),_0x1ec7e5=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4d0ad1=_0x5b96fc=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x5b96fc),_0x1452a1=_0x4f249b=>{const _0x1ebed0=_0x11c7f3,_0xf22d3b=(_0x4f249b[_0x1ebed0(0x18c)](/\{/g)||[])[_0x1ebed0(0x665)],_0x4a0678=(_0x4f249b[_0x1ebed0(0x18c)](/\}/g)||[])[_0x1ebed0(0x665)];if(_0xf22d3b>_0x4a0678)_0x4f249b=_0x4f249b+'}'['repeat'](_0xf22d3b-_0x4a0678);return _0x4f249b;},_0x2a5023=_0x141f78=>{const _0x487299=_0x11c7f3;let _0x1b8f5f=_0x141f78[_0x487299(0xfd)]();const _0xf8c938=['frac',_0x487299(0x39d),'tfrac',_0x487299(0x659),_0x487299(0x1cd),_0x487299(0x317),'cdot',_0x487299(0x43f),_0x487299(0x39f),_0x487299(0x340),'le','ge',_0x487299(0x1e1),'pm',_0x487299(0x24a),_0x487299(0x4a5),'cos',_0x487299(0x471),_0x487299(0x3bb),'ln',_0x487299(0x218),_0x487299(0x1be),_0x487299(0x5e9),_0x487299(0x300),_0x487299(0x5e4),_0x487299(0x2be),_0x487299(0x3b6),_0x487299(0x16f),_0x487299(0x4bb)];_0x1b8f5f=_0x1b8f5f[_0x487299(0x235)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0xf8c938[_0x487299(0x42d)]('|')+_0x487299(0x21d),'g'),'\x5c'),_0xf8c938[_0x487299(0x5bc)](_0x396ac3=>{const _0x3fc0b1=_0x487299;_0x1b8f5f=_0x1b8f5f[_0x3fc0b1(0x235)](new RegExp(_0x3fc0b1(0x2c1)+_0x396ac3+'\x5cb','g'),(_0x3324a9,_0x384006)=>_0x384006+'\x5c'+_0x396ac3);});const _0x3fa653=[[/×/g,_0x487299(0x14a)],[/·/g,_0x487299(0x120)],[/÷/g,_0x487299(0x16c)],[/≤/g,_0x487299(0x403)],[/≥/g,_0x487299(0x64a)],[/≠/g,_0x487299(0x397)],[/±/g,_0x487299(0x2dc)],[/∑/g,_0x487299(0x504)],[/−/g,'-']];_0x3fa653[_0x487299(0x5bc)](([_0x17f947,_0x527393])=>{const _0x7445a4=_0x487299;_0x1b8f5f=_0x1b8f5f[_0x7445a4(0x235)](_0x17f947,_0x527393);}),_0x1b8f5f=_0x1b8f5f[_0x487299(0x235)](/√\s*\(([^)]*)\)/g,_0x487299(0x486)),_0x1b8f5f=_0x1b8f5f[_0x487299(0x235)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x1b8f5f=_0x1b8f5f['replace'](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x487299(0x235)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x487299(0x4c6))['replace'](/(^|[^\\])ext\{/g,_0x487299(0x3f2))[_0x487299(0x235)](/(^|[^\\])ext\(/g,_0x487299(0x60d))[_0x487299(0x235)](/\\text\(([^)]*)\)/g,_0x487299(0x5be))['replace'](/\s\\frac/g,'\x5cfrac'),_0x1b8f5f=_0x1b8f5f[_0x487299(0x235)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0xb7a360,_0x2d1480,_0x4c3853,_0x3ba8ec)=>_0x2d1480+'\x5cfrac{'+_0x4c3853+'}{'+_0x3ba8ec+'}'),_0x1b8f5f=_0x1b8f5f[_0x487299(0x235)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x487299(0x1a5))[_0x487299(0x235)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x487299(0x1a5))[_0x487299(0x235)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x487299(0x498)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x487299(0x498)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x487299(0x498)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x487299(0x581)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']]['forEach'](([_0xe300d0,_0x575724])=>{const _0x1ca968=_0x487299;_0x1b8f5f=_0x1b8f5f[_0x1ca968(0x235)](_0xe300d0,_0x575724);}),_0x1b8f5f=_0x1b8f5f[_0x487299(0x235)](/(\d+)\s*%/g,'$1\x5c%'),_0x1b8f5f=_0x1b8f5f['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x487299(0x30f))[_0x487299(0x235)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x487299(0x235)](/\{\{([^\{\}]+)\}\}/g,_0x487299(0x1e9)),[_0x487299(0x4a5),_0x487299(0x276),_0x487299(0x471),_0x487299(0x3bb),'ln'][_0x487299(0x5bc)](_0x2afd73=>{const _0x5b580a=_0x487299;_0x1b8f5f=_0x1b8f5f[_0x5b580a(0x235)](new RegExp(_0x5b580a(0x2c1)+_0x2afd73+_0x5b580a(0x47a),'g'),(_0x27a5e6,_0x44f439)=>_0x44f439+'\x5c'+_0x2afd73+'(');});const _0x1b7624=(_0x1b8f5f[_0x487299(0x18c)](/\\left\b/g)||[])[_0x487299(0x665)],_0x9953d3=(_0x1b8f5f['match'](/\\right\b/g)||[])['length'];if(_0x1b7624!==_0x9953d3)_0x1b8f5f=_0x1b8f5f[_0x487299(0x235)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x1b8f5f=_0x1452a1(_0x1b8f5f),_0x1b8f5f;},_0x3cfa5a=_0x853cb1=>{const _0x4940f9=_0x11c7f3;if(/\$|\\\(|\\\[/[_0x4940f9(0x396)](_0x853cb1))return _0x853cb1;if(!_0x1ec7e5[_0x4940f9(0x396)](_0x853cb1))return _0x853cb1;const _0x2232cc=_0x853cb1[_0x4940f9(0x18c)](/^\s*/)[0x0],_0x22df1c=_0x853cb1['match'](/\s*$/)[0x0],_0x4c7816=_0x853cb1[_0x4940f9(0xfd)]();return _0x2232cc+'$'+_0x2a5023(_0x4c7816)+'$'+_0x22df1c;},_0x40a2cf=_0x4583d3=>_0x4583d3[_0x11c7f3(0xf9)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x2a130f[_0x11c7f3(0x5bc)](_0x302ee1=>{const _0x2d610=_0x11c7f3;if(_0x302ee1[_0x2d610(0x2ad)]&&_0x302ee1[_0x2d610(0x2ad)](_0x2d610(0x530)))return;const _0x46d3e3=_0x3a3a85(_0x302ee1);let _0x3cb569=_0x22b90e(_0x46d3e3);_0x3cb569=_0x3cb569[_0x2d610(0x235)](/\$\$([\s\S]*?)\$\$/g,(_0x254c82,_0x19093e)=>'$$'+_0x2a5023(_0x19093e)+'$$')[_0x2d610(0x235)](/\$([^$]*?)\$/g,(_0x3d82bd,_0x47d612)=>'$'+_0x2a5023(_0x47d612)+'$')[_0x2d610(0x235)](/\\\(([\s\S]*?)\\\)/g,(_0x4e4b41,_0x180841)=>'\x5c('+_0x2a5023(_0x180841)+'\x5c)')[_0x2d610(0x235)](/\\\[([\s\S]*?)\\\]/g,(_0x3997bb,_0x4bd654)=>'\x5c['+_0x2a5023(_0x4bd654)+'\x5c]');let _0x1a0541=_0x3cb569,_0x4dbc5c=0x0;const _0x2a8436=_0x55ad0f=>_0x55ad0f['replace'](/S([^S]{0,2000}?)S/g,(_0x293b20,_0x314323)=>_0x1ec7e5[_0x2d610(0x396)](_0x314323)?'$'+_0x2a5023(_0x314323)+'$':_0x293b20);while(_0x4dbc5c++<0x14){const _0x8073fe=_0x2a8436(_0x1a0541);if(_0x8073fe===_0x1a0541)break;_0x1a0541=_0x8073fe;}_0x3cb569=_0x1a0541,_0x3cb569=_0x3cb569[_0x2d610(0xf9)]('\x0a')[_0x2d610(0x2ce)](_0x14265a=>{const _0x49904c=_0x2d610;if(!(/[,\u3001，;；]/[_0x49904c(0x396)](_0x14265a)||/\s(?:และ|หรือ)\s/['test'](_0x14265a))||!_0x1ec7e5['test'](_0x14265a))return _0x14265a;return _0x40a2cf(_0x14265a)[_0x49904c(0x2ce)](_0xdb6e57=>{if(/^\s(?:และ|หรือ)\s$/['test'](_0xdb6e57)||/^[,\u3001，;；]$/['test'](_0xdb6e57))return _0xdb6e57;return _0x3cfa5a(_0xdb6e57);})[_0x49904c(0x42d)]('');})['join']('\x0a'),_0x3cb569=_0x3cb569[_0x2d610(0xf9)]('\x0a')[_0x2d610(0x2ce)](_0xc9116f=>{const _0x134f18=_0x2d610,_0x215c40=_0xc9116f[_0x134f18(0xfd)]();if(!_0x215c40)return _0xc9116f;const _0x343568=/\$|\\\(|\\\[/[_0x134f18(0x396)](_0x215c40),_0x45abf2=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x134f18(0x396)](_0x215c40);if(_0x343568||!_0x45abf2||_0x4d0ad1(_0x215c40))return _0xc9116f;return _0xc9116f[_0x134f18(0x235)](_0x215c40,'$'+_0x2a5023(_0x215c40)+'$');})[_0x2d610(0x42d)]('\x0a'),_0x3cb569=_0x3cb569[_0x2d610(0x235)](/(\d+)\s*°\s*C\b/g,(_0x5c2fd6,_0x2b0abd,_0x10dc41,_0x3bd289)=>{const _0x4edb6d=_0x2d610,_0x2e2386=_0x3bd289[_0x10dc41-0x1];if(_0x2e2386==='$'||_0x2e2386==='S'||_0x2e2386==='\x5c')return _0x5c2fd6;return'$'+_0x2b0abd+_0x4edb6d(0x319);})[_0x2d610(0x235)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5911e5,_0x29d93b,_0x22ab60,_0x2e352d)=>{const _0x5ed47e=_0x2e352d[_0x22ab60-0x1];if(_0x5ed47e==='$'||_0x5ed47e==='S'||_0x5ed47e==='\x5c')return _0x5911e5;return'$'+_0x29d93b+'^{\x5ccirc}\x5ctext{C}$';})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5b60fc,_0x18a5c7,_0x548e50,_0x303c04)=>{const _0x3c52b1=_0x303c04[_0x548e50-0x1];if(_0x3c52b1==='$'||_0x3c52b1==='S'||_0x3c52b1==='\x5c')return _0x5b60fc;return'$'+_0x18a5c7+'^{\x5ccirc}\x5ctext{C}$';}),_0x3cb569=_0x3cb569[_0x2d610(0x235)](/\$\s*\$/g,'$$'),_0x3cb569!==_0x46d3e3&&(_0x293e6a(_0x302ee1,_0x3cb569),_0xca0936++);});if(_0xca0936>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0xca0936+_0x11c7f3(0x21a));try{if(window[_0x11c7f3(0x222)]&&MathJax['typesetPromise'])MathJax['typesetPromise']();window[_0x11c7f3(0x60c)]&&typeof renderMathInElement===_0x11c7f3(0x575)&&renderMathInElement(_0x5e5d21,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x5f0f81){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x4c35e7=_0x52e79a,_0x378af4=collection(db,'artifacts/'+appId+_0x4c35e7(0x16d));onSnapshot(_0x378af4,_0x1eb63e=>{const _0x5dd16d=_0x4c35e7;customMathTopics=_0x1eb63e[_0x5dd16d(0x45c)][_0x5dd16d(0x2ce)](_0x243f79=>({'id':_0x243f79['id'],..._0x243f79[_0x5dd16d(0x67a)]()})),renderTopicCheckboxes();},_0x2512f0=>{const _0x57d93b=_0x4c35e7;console[_0x57d93b(0x567)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x2512f0);});}function handleSelectAllTopics(){const _0x6986ce=_0x52e79a,_0x3d51eb=document['getElementById'](_0x6986ce(0x5e2)),_0xaf59c3=_0x3d51eb[_0x6986ce(0x574)]('input[type=\x22checkbox\x22]');_0xaf59c3[_0x6986ce(0x5bc)](_0x524556=>{_0x524556['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xe9f6fe=_0x52e79a,_0x523566=document['getElementById'](_0xe9f6fe(0x5e2)),_0x1526d2=_0x523566[_0xe9f6fe(0x574)]('input[type=\x22checkbox\x22]');_0x1526d2[_0xe9f6fe(0x5bc)](_0x41d512=>{const _0x22d6c2=_0xe9f6fe;_0x41d512[_0x22d6c2(0x21b)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1f7ff4){const _0x493ff4=_0x52e79a;if(!_0x1f7ff4)return;try{const _0x340761=doc(db,_0x493ff4(0x21f)+appId+_0x493ff4(0x16d),_0x1f7ff4);await deleteDoc(_0x340761),showMessage(_0x493ff4(0x1a0));}catch(_0x5c43e5){console[_0x493ff4(0x567)](_0x493ff4(0x1d2),_0x5c43e5),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x2895c0=_0x52e79a,_0x238bec=document[_0x2895c0(0x4eb)](_0x2895c0(0x3ab)),_0x18831e=_0x238bec['value']['trim']();if(!_0x18831e){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x2895c0(0x3d0));return;}try{const _0x4f9fe5=collection(db,_0x2895c0(0x21f)+appId+_0x2895c0(0x16d));await addDoc(_0x4f9fe5,{'name':_0x18831e,'createdAt':serverTimestamp()}),_0x238bec[_0x2895c0(0x4d7)]='',showMessage(_0x2895c0(0x156)+_0x18831e+_0x2895c0(0x483));}catch(_0x40d0f0){console[_0x2895c0(0x567)]('Error\x20adding\x20custom\x20topic:',_0x40d0f0),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function initialize(){const _0x539098=_0x52e79a;try{const _0x36401b=initializeApp(firebaseConfig);db=getFirestore(_0x36401b),auth=getAuth(_0x36401b),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes();}catch(_0x15dd8e){console[_0x539098(0x567)](_0x539098(0x22c),_0x15dd8e),showMessage(_0x539098(0x216));}}function compareNumericalAnswers(_0x1eef3b,_0xb71762){const _0x346687=_0x52e79a,_0x237147=String(_0x1eef3b)['replace'](',','.')[_0x346687(0x235)](/[^\d.-]/g,'')[_0x346687(0xfd)](),_0x216e12=String(_0xb71762)[_0x346687(0x235)](',','.')[_0x346687(0x235)](/[^\d.-]/g,'')[_0x346687(0xfd)]();if(_0x237147===''||_0x216e12==='')return![];const _0x3272e8=parseFloat(_0x237147),_0x3841bf=parseFloat(_0x216e12);if(isNaN(_0x3272e8)||isNaN(_0x3841bf))return![];return Math['abs'](_0x3272e8-_0x3841bf)<0.001;}async function gradeShortAnswer(_0x290e07,_0x119800){const _0x362bdc=_0x52e79a,_0x4c2eaf=_0x119800[_0x362bdc(0x19a)];if(String(_0x290e07)[_0x362bdc(0xfd)]()[_0x362bdc(0x177)]()===String(_0x4c2eaf)[_0x362bdc(0xfd)]()[_0x362bdc(0x177)]())return!![];if(compareNumericalAnswers(_0x290e07,_0x4c2eaf))return!![];return console[_0x362bdc(0x3bb)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x290e07,_0x4c2eaf);}async function revealAnswerForAdmin(_0x451561,_0x3d26cf){const _0x38dd15=_0x52e79a;if(document[_0x38dd15(0x4eb)](_0x38dd15(0x1ba)))return;const _0x1b00ff=doc(db,_0x38dd15(0x21f)+appId+_0x38dd15(0xe2),currentLiveGameId);await updateDoc(_0x1b00ff,{'questionStatus':_0x38dd15(0x4b9)});const _0x3f63c7=liveGameView[_0x38dd15(0x2ad)](_0x38dd15(0x4fc));_0x3f63c7&&(_0x3f63c7['classList'][_0x38dd15(0x1fd)](_0x38dd15(0x2c0)),_0x3f63c7[_0x38dd15(0x200)][_0x38dd15(0x57b)](_0x38dd15(0x600),'text-green-900',_0x38dd15(0x338),'border-4','border-green-500'),_0x3f63c7[_0x38dd15(0xeb)]=_0x38dd15(0x4d2)+_0x3f63c7[_0x38dd15(0xeb)]);const _0x190f41=document[_0x38dd15(0x4eb)](_0x38dd15(0x477));_0x190f41&&(_0x190f41[_0x38dd15(0xeb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x451561+0x1===_0x3d26cf?_0x38dd15(0x465):_0x38dd15(0x198))+_0x38dd15(0x57d),document['getElementById'](_0x38dd15(0x1ba))['addEventListener']('click',async()=>{const _0x312cb5=_0x38dd15,_0x59ca71=doc(db,_0x312cb5(0x21f)+appId+_0x312cb5(0xe2),currentLiveGameId),_0x37c485=await getDoc(_0x59ca71);if(!_0x37c485[_0x312cb5(0x10e)]())return;const _0x4decc5=_0x37c485[_0x312cb5(0x67a)](),_0x5e4680={};if(_0x4decc5[_0x312cb5(0x163)])for(const _0x3af26e in _0x4decc5[_0x312cb5(0x163)]){_0x5e4680[_0x312cb5(0x291)+_0x3af26e+_0x312cb5(0x1d4)]=![];}const _0x458259=_0x451561+0x1;_0x458259<_0x3d26cf?(_0x5e4680[_0x312cb5(0x179)]=_0x458259,_0x5e4680[_0x312cb5(0x1d3)]=serverTimestamp(),_0x5e4680[_0x312cb5(0x17e)]=_0x312cb5(0x1bb),await updateDoc(_0x59ca71,_0x5e4680)):await updateDoc(_0x59ca71,{'status':_0x312cb5(0x460)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0xfb1969=>{const _0x2f7a33=_0x228e;if(_0xfb1969){userId=_0xfb1969[_0x2f7a33(0x4de)],userIdDisplay[_0x2f7a33(0x3cd)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x3ee84f){const _0x17b270=_0x52e79a,_0x326075=Object[_0x17b270(0x197)](_0x3ee84f)[_0x17b270(0x2ce)](([_0x5487c7,_0x3a3168])=>({'name':_0x5487c7,'score':_0x3a3168[_0x17b270(0x53a)]||0x0,'badges':_0x3a3168[_0x17b270(0x20a)]||[]}));_0x326075[_0x17b270(0x328)]((_0x5f5d2e,_0x555d64)=>{const _0x245df9=_0x17b270,_0x5d088d=_0x555d64[_0x245df9(0x53a)]-_0x5f5d2e[_0x245df9(0x53a)];if(_0x5d088d!==0x0)return _0x5d088d;return(_0x555d64['badges'][_0x245df9(0x665)]||0x0)-(_0x5f5d2e[_0x245df9(0x20a)]['length']||0x0);});const _0x4716ab=_0x2b7514=>{const _0x34167f=_0x17b270;if(!_0x2b7514||_0x2b7514[_0x34167f(0x665)]===0x0)return'';const _0x141b03={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x2b7514['map'](_0x592cc5=>_0x141b03[_0x592cc5]||'')[_0x34167f(0x42d)]('')+_0x34167f(0x5ca);},_0x1ffc5f=_0x326075['slice'](0x3),_0x82ce27=_0x1ffc5f[_0x17b270(0x665)]>0x0?_0x17b270(0x2d1)+_0x1ffc5f[_0x17b270(0x2ce)]((_0x9cbac7,_0x335e93)=>_0x17b270(0x451)+(_0x335e93+0x4)+_0x17b270(0x192)+_0x9cbac7[_0x17b270(0x5b7)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x9cbac7[_0x17b270(0x53a)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17b270(0x42d)]('')+_0x17b270(0x19c):'',_0x3d4308=_0x17b270(0x138)+(_0x326075[0x1]?_0x17b270(0x415)+_0x326075[0x1][_0x17b270(0x5b7)]+_0x17b270(0x108)+_0x4716ab(_0x326075[0x1]['badges'])+_0x17b270(0x38d)+_0x326075[0x1][_0x17b270(0x53a)]+_0x17b270(0x196):'<div\x20class=\x22flex-1\x22></div>')+_0x17b270(0x5f7)+(_0x326075[0x0]?_0x17b270(0x487)+_0x326075[0x0]['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4716ab(_0x326075[0x0]['badges'])+_0x17b270(0x4a9)+_0x326075[0x0][_0x17b270(0x53a)]+_0x17b270(0x3b7):_0x17b270(0x5b2))+_0x17b270(0x5f7)+(_0x326075[0x2]?_0x17b270(0x213)+_0x326075[0x2][_0x17b270(0x5b7)]+_0x17b270(0x108)+_0x4716ab(_0x326075[0x2]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x326075[0x2]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+_0x17b270(0x3a2)+_0x82ce27+_0x17b270(0x469)+(currentMode===_0x17b270(0x33b)?_0x17b270(0x485):_0x17b270(0x5b6))+_0x17b270(0x5af);liveGameView[_0x17b270(0xeb)]=_0x3d4308,currentMode===_0x17b270(0x33b)&&document['getElementById']('close-game-final-btn')[_0x17b270(0x413)](_0x17b270(0x354),async()=>{const _0x38d038=_0x17b270,_0x2e8363=doc(db,_0x38d038(0x21f)+appId+_0x38d038(0xe2),currentLiveGameId);await deleteDoc(_0x2e8363),showView('admin-dashboard');});}function _0x45cf(){const _0x3cb75b=['แบบทดสอบที่ติดดาว','ไม่ผ่าน','export-word-btn','setAttribute','per_question','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','confirmation-message','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','confirm-rename-quiz-btn','project-list','Invalid\x20response\x20structure\x20from\x20AI:','mode-switcher-btn','contentEditable','quiz-status-modal','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','active','topic-input-area','modal-timer-duration-container','quiz-schedule-start-container','จากเนื้อหาต่อไปนี้:\x20\x22','timer-duration-container','project-detail','ฟังก์ชันแบบชิ้นส่วน','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-topic-input','thead','clientX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchend','.topic-name-input','student-quiz-leaderboard-content','error','ai-quiz-app-aefee.firebaseapp.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันพหุนาม','toDataURL','สร้างชุดคำถามจับคู่','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','keys','Error\x20joining\x20live\x20game:','scores-tab-btn','confirmation-modal','querySelectorAll','function','สเกลและแผนที่','พื้นที่วงกลม/ส่วนของวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','toggle','default','add','content','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','now','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','$1^{\x5ccirc}','เปิดใช้งาน','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','perseverance','Error\x20listening\x20for\x20projects:','clientY','การบวกเศษส่วน','confirm-move-quiz-btn','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','confirm-join-game-btn','.quiz-status-btn','PERSEVERANCE','generate-from-blueprint-btn','includes','กฎบวกและกฎคูณ','API\x20call\x20failed\x20with\x20status:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','ไม่ได้ตอบ','quiz-leaderboard-table','GlobalWorkerOptions','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeAttribute','reduce','player-count','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','date_asc','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22space-y-2\x22>','correctResponse','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quick_thinker','true_false','createElement','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','ตรีโกณมิติ','button[type=\x22submit\x22]','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','<div\x20class=\x22flex-1\x22></div>','.live-answer-btn,\x20#live-submit-short-answer-btn','fill_in_no_choices','#results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','readAsDataURL','Error\x20generating\x20from\x20parallel\x20test\x20file:','องค์ประกอบของฟังก์ชัน','bg-blue-100\x20text-blue-800','forEach','findIndex','\x5ctext{$1}','สร้างคำถามแบบเติมคำในช่องว่าง','_opt1\x22\x20name=\x22question','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ความน่าจะเป็นแบบมีเงื่อนไข','options','แบบทดสอบนี้หมดเวลาแล้ว','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','</div>','disabled','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','cancel-admin-login-btn','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','autoTable','วงกลม:\x20สมการและสมบัติ','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-rankings-modal','\x22.\x20','prev-question-btn','เกิดข้อผิดพลาดในการโหลดสถานะ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<h1></h1>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','text-green-900','timer-container','274192258111','1:274192258111:web:4120c9118229b5644dd48a','\x20คู่\x20','math-topics-checkbox-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','right','ความคล้ายของรูป','เมทริกซ์:\x20บวก/คูณ','correctAnswerIndex','back-to-project-btn','binom','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','generate-from-topic-btn','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x20/\x20','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','whole_quiz','border-green-500','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','ความชันเส้นสัมผัส','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','false','bg-green-300','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','cursor','ปิดใช้งาน','#ffffff','totalPoints','selected-topics-count','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','on_fire','nickname-input','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','katex','$1\x5ctext(','leaderboard-quiz','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','fas\x20fa-user-edit','การคูณเศษส่วน','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','matching_item','student-quiz-leaderboard-table-body','worksheet-tab','width','quiz-results','border-red-700','อัตราส่วนและสัดส่วน','Error\x20duplicating\x20quiz:','ฟังก์ชันกำลังสองและกราฟ','quizId','FileReader\x20error:','สมการตรีโกณมิติ','modal-timer-duration-input','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','update','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ไม่สามารถเพิ่มนักเรียนได้','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','แบบทดสอบซ่อมเสริม','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','passingScore','q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','option','getAttributeNS','empty','floor','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','<p\x20class=\x22font-bold\x20text-sm\x20','[contenteditable=\x22true\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','delete','Error\x20during\x20class\x20analysis:','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Error\x20regenerating\x20question\x20in\x20editor:','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','ศูนย์','points','พาราโบลา','analytics-summary-cards','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','next-question-timed-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','bg-green-100\x20text-green-800','\x5cge','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','.correct-response-input','results-tab','.rename-quiz-btn','back-from-results-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','live-game','correctStreak','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','#student-project-leaderboard-content\x20thead','status','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','sqrt','defaultNumQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','00:00','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','rename-quiz-modal','reference-pdf-upload','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','dataIndex','FIRST_TRY_ACE','length','.png','cloneNode','answer-counter','พีชคณิตและฟังก์ชัน','text-green-700\x20bg-green-100','set','</td>','.ideal-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','บันทึกแบบทดสอบสำเร็จแล้ว!','เกิดข้อผิดพลาดในการสร้างใบงาน','round','per-q-countdown','start-remedial-quiz-btn','ห.ร.ม.\x20(GCD)','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','data','scheduled','create-project-btn','class','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','save','),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```','อนุพันธ์:\x20ผลคูณ/ผลหาร','href','Error\x20saving\x20to\x20question\x20bank:','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.edit-custom-topic-btn','touches','ปรับเพิ่ม/ลดเป็นร้อยละ','mouseup','ความชันและเส้นตรง','explanation','การวัด','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','ทฤษฎีทวินาม\x20(เบื้องต้น)','add-custom-math-topic-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20generating\x20quiz:','Leaderboard\x20update\x20transaction\x20failed:\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','/public/data/liveGames','อัปเดตสถานะสำเร็จ','raw','เปลี่ยนชื่อแบบทดสอบสำเร็จ','หัวข้อที่สร้างเอง','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','โดเมนและเรนจ์','.option-text','bg-red-100\x20text-red-800','innerHTML','height','mousedown','quiz-type-select','message','ย้าย','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','ai-quiz-app-aefee','-tab-content','<div\x20class=\x22loader\x20mx-auto\x22></div>','สร้างโปรเจคสำเร็จ!','submittedAt','ความสัมพันธ์ของมุม','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','split','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','trim','latestSubmittedAt','จำนวนเชิงซ้อน\x20(เสริม)','badgesCount','reveal-answer-btn','กราฟฟังก์ชันตรีโกณ','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','.topic-category','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','สร้างแบบทดสอบ','undefined','แคลคูลัสเบื้องต้น','exists','file-input-area','_opt1\x22>ไม่ใช่</label></div>','bg-red-500','ระบบสมการเชิงเส้นสองตัวแปร','\x20หัวข้อ)','เรขาคณิต','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าสัมบูรณ์','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','min','quiz-bank-count','.star-quiz-btn','.delete-student-btn','typesetPromise','generated-quiz-container','\x5ccdot','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','เกิดข้อผิดพลาดในการลบนักเรียน','ไม่สามารถสร้างโปรเจคได้','topic-tab','move-quiz-modal','bg-green-200\x20text-green-800','กรุณาวาง\x20URL\x20ของบทความก่อน','manage-tab','OBJECT','student-join-game-view','<br>','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred','analytics-tab-content','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','admin-password-input','QUICK_THINKER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-quiz-settings-btn','<option\x20value=\x22','/studentProfiles','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลแบบทดสอบ','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','modal-close-btn','results-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','generate-from-file-btn','การบวก','size','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x5ctimes','export-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.edit-quiz-btn','body','_opt','การลบเศษส่วน','เกิดข้อผิดพลาดในการสร้างห้องเกม','fa-pen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','เพิ่มหัวข้อ\x20\x22','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editor-quiz-topic','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','กรุณาป้อนหัวข้อสำหรับใบงาน','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','.topic-row','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','global-quiz-search-input','<div\x20class=\x22mb-3\x20topic-category\x22>','players','inactive','opacity','button','move','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','after','input[name=\x22status-option\x22]:checked','\x5cdiv','/public/data/customMathTopics','fill_in_the_blank','circ','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','delete-svg-btn','getBBox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','(ไม่มีชื่อ)','results-quiz-title','toLowerCase','num-questions','currentQuestionIndex','close','border-green-700','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','createObjectURL','questionStatus','<li\x20class=\x22','ฐานนิยม','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','Error\x20fetching\x20quiz\x20status:','เรขาคณิตวิเคราะห์','ส่วนเบี่ยงเบนเฉลี่ย','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ครั้ง)</span></td>','คณิตศาสตร์','ลบโปรเจคสำเร็จแล้ว','modal-shuffle-select','.start-presentation-list-btn','match','fixed','ร้อยละประยุกต์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20\x20\x20-\x20คำตอบ:\x20','icon','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quiz-start-time','ใช่','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','ข้อต่อไป','หน่วยมวล/น้ำหนักและการแปลง','idealAnswer','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game-view','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','การสร้างรูปด้วยวงเวียน–สันตรง','ลบหัวข้อสำเร็จ','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','settings','student-result-area','Error\x20starting\x20game:','\x5cfrac{$1}{$2}','promise','cancel-rename-quiz-btn','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20quiz\x20settings:','มุมพิเศษ\x2030°-60°-90°','text/csv;charset=utf-8;','ความคาดหมาย\x20(Expected\x20value)','การหารทศนิยม','การแปลงรูปอัตลักษณ์','numeric','num-choices','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','student-name-selection-view','all','getContext','earned-badges-container','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','editable-quiz-topic','next-live-question-btn','answering','live-submit-short-answer-btn','bg-red-200\x20text-red-800','prod','Error\x20fetching\x20projects\x20for\x20move:','.doc','type','project-title','.cancel-edit-topic-btn','ลำดับการดำเนินการ\x20(PEMDAS)','.topic-actions-view','setAttributeNS','check-presentation-answer-btn','doughnut','bg-green-500','cancel-quiz-status-btn','correctAnswer','แผนภาพเวนน์','text','bg-yellow-200\x20text-yellow-800','student-view','from','link-tab','Error\x20deleting\x20custom\x20topic:','questionDisplayedAt','.answeredCurrentQuestion','การเรียงสับเปลี่ยน\x20(Permutation)','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ลบแบบทดสอบสำเร็จแล้ว','both','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-actions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','Error\x20saving\x20submission:','date_desc','leaderboard-quiz-tab-btn','neq','confirm-delete-btn','originalTopic','onclick','</form>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','.presentation-option','padStart','{$1}','fa-shield-alt\x20text-gray-600','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','กรุณาเลือกไฟล์ก่อน','pinned-items','values','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','select','random','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ownerSVGElement','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','indexOf','/questionBank','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','remove','bottom','\x20จาก\x20','classList','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','matching','timer-duration-input','bg-amber-100\x20text-amber-800','per-question-options','ร้อยละพื้นฐาน','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','badges','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-id-input','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','table','ไม่พบข้อมูลผู้ใช้','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','Remedial\x20quiz\x20generation\x20failed:','add-student-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sum','mouseleave','\x20ช่อง','checked','insertAdjacentHTML',')\x5cb)','answeredCurrentQuestion','artifacts/','toFixed','กรุณาใส่ชื่อโปรเจค','MathJax','appendChild','setFont','เปิด\x20(จับเวลา)','Error\x20deleting\x20all\x20students:','Error\x20generating\x20worksheet:','</p></div>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','starred-project','\x20ชุด)','Firebase\x20initialization\x20failed:','student-initial-view','MathJax\x20typeset\x20error\x20(analytics):','quiz-end-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','str','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','stopPropagation','jspdf','replace','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','student-quiz-leaderboard-tab','.group','\x22.\x20Ideal\x20Answer:\x20\x22','[*]','COMEBACK_KING','Error\x20listening\x20for\x20student\x20profiles:','questionType','project-name-input','[data-topic-container-id]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.draggable-text','ชื่อหัวข้อห้ามว่าง','<i\x20class=\x22fas\x20fa-save\x22></i>','generate-from-parallel-test-btn','การแยกตัวประกอบ','timerDuration','timerMode','label','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','approx','cancel-test-btn','image/png','execCommand','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','เส้นจำนวน','toDate','student-project-leaderboard-content','</label>\x0a\x20\x20\x20\x20</div>\x0a','มุมพิเศษ\x2045°-45°-90°','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','export-pdf-btn','back-to-dashboard-btn','ring-purple-400','blockReason','admin-dashboard','ไม่สามารถโหลดข้อมูลอันดับได้','เส้นตรง:\x20รูปแบบสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','project-detail-view','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','style','quiz-results-table-body','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','input[type=\x22checkbox\x22]:checked','save-settings-btn','results-display-select','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','mixed','textarea','Error\x20toggling\x20star\x20status:','จากไฟล์ที่แนบมานี้,\x20','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','message-modal','open-global-live-btn','btn','เกิดข้อผิดพลาด:\x20','cos','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.delete-custom-topic-btn','\x22\x20value=\x22','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','STRING','short_answer','ระบบเลขและค่าประจำหลัก','questions','.question-editor-item','student-reading-area','ปริพันธ์ไม่จำกัด','open','$1\x20\x5cfrac','Error\x20starting\x20live\x20race:','write','leaderboard_','student-project-leaderboard-table-body','onload','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','Error\x20generating\x20from\x20link:','cancel-global-live-btn','ระยะจากจุดถึงเส้นตรง','admin-try-quiz-btn','players.','project-search-input','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','text-purple-600','580356bpCHgD','find','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','true','toString','link-input-area','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','เกิดข้อผิดพลาดในการอัปเดตสถานะ','ย้ายแบบทดสอบสำเร็จ','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics','ตัวประกอบและตัวประกอบเฉพาะ','ย้ายแบบทดสอบไปโปรเจคอื่น','ผู้ไม่ยอมแพ้','อสมการเชิงเส้น','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','จำนวนเต็มบวก','originalQuestion','querySelector','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','text-white','ตอบถูกทุกข้อในแบบทดสอบนี้','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','cancel-move-quiz-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','fill_in_with_choices','text-blue-700','ไม่มีคำอธิบาย','ai-quiz-generator-v3','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x20mr-2\x22></i>','สร้างแบบทดสอบปรนัย','index','overline','preventDefault','bg-white/30','(^|[^\x5c\x5c])\x5cb','finishReason','helvetica','มัธยฐาน','totalQuestions','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบเติมคำตอบ','student-quiz-area','open-quiz-bank-btn','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','questionText','หมดเวลา!\x20กำลังส่งคำตอบ...','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','map','</span></td>','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','workerSrc','cancel-create-project-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','schedule','project-sort-select','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cpm','<div\x20class=\x22','text-green-600\x20font-bold','พื้นที่สามเหลี่ยม','push','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำตอบผิด','เกี่ยวกับหัวข้อ\x20\x22','ความเป็นอิสระของเหตุการณ์','allResponses','auto','deselect-all-topics-btn','submission-status-chart','draggable-text','studentName','แก้ระบบสมการด้วยเมทริกซ์','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','แบบปรนัย\x204\x20ตัวเลือก','close-student-rankings-btn','project-id-display','touchmove','viewBox','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-quiz-btn','modal-passing-score-input','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','manage','เลือกโปรเจคเพื่อบันทึก','แบบทดสอบจากคลังส่วนตัว','then','desc','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','left','สร้างคำถามใหม่\x201\x20ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','สมการราก\x20(radical)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-link-btn','parallel-test-tab','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','cancel-delete-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','student-name-select','บันทึกการแก้ไขสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','$1^{$2}','หน่วยความยาวและการแปลง','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','460264fqtHzj','รูปหลายเหลี่ยมและมุมภายใน','opacity-50','จำนวนคละ','times','</span></div>','^{\x5ccirc}\x5ctext{C}$','.answer-text','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','กำลังสร้างรูปภาพ...','ไม่สามารถโหลดรายการโปรเจคได้','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','637388kLqtQS','currentTarget','student','lobby','generate-from-text-btn','modal-timer-duration-label','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','.regenerate-question-btn','sort','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','display','admin-password-modal','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขหัวข้อสำเร็จ','ไม่พบตารางสำหรับ\x20Export','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','closest','far\x20fa-star','fill','student-list','font-bold','เกิดข้อผิดพลาดในการอ่านไฟล์','Error\x20fetching\x20student\x20rankings:','admin','student-project-leaderboard-tab','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','geq','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','countdown-display','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','fas\x20fa-bookmark','confirm-admin-login-btn','<li>','ตั้งเวลา\x20(เปิด)','สอบปกติ','blueprint-upload-input','analyze-strengths-btn','ตัวแปรและนิพจน์','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','start-live-race-generated-btn','results-quiz-id-display','.delete-svg-btn','flex','modal-adaptive-quiz-checkbox','click','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','firstScore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','global-live-game-modal','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','Error\x20deleting\x20project:','ไม่พบแบบทดสอบสำหรับรหัสนี้','score-distribution-chart','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','leaderboard','perfect_score','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','การลบ','none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','bank-quiz-list','STOP','removeChild','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','destroy','เรเดียนและการแปลงหน่วย','confirm-global-live-btn','title','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','start-presentation-btn','สมมาตร\x20(แกน/จุด)','กรุณาเลือกโปรเจคปลายทาง','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','ไม่พบโปรเจค','isStarred','defaultNumChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','promptFeedback','ผ่าน','quiz-leaderboard-table-container','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','rename-quiz-input','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','global-quiz-list','join-live-game-btn','.topic-actions-edit','fa-rocket\x20text-purple-500','startTime','สมการเชิงเส้นตัวแปรเดียว','/users/','text-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','parseFromString','ARRAY','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','quiz-form','numPages','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20','submission','test','\x5cneq','classWeaknesses','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','กำลังวิเคราะห์ข้อสอบ\x20\x22','classStrengths','file-tab','dfrac','เกมสิ้นสุดลงแล้ว','leq','live-short-answer-input','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','td,\x20th','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','text-red-700\x20bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','bank-quiz-search-input','custom-math-topic-input','endTime','admin-view','</p>','การยืนยันตัวตนล้มเหลว','data:application/vnd.ms-word;charset=utf-8,','target','ฮิสโตแกรม','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','underline','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','download','.\x20แต่ละข้อมี\x20','dispatchEvent','log','ไม่สามารถเริ่มเกมได้','instructions','generate-worksheet-btn','include-images-checkbox','manage-tab-content','fa-bolt\x20text-blue-500','หน่วยเวลาและการคำนวณเวลา','/public/data/projects/','\x22\x20name=\x22question_single\x22\x20value=\x22','loader-text','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-parallel-btn','4517505Choipe','กำลังสร้างแบบทดสอบคู่ขนาน...','q-explanation-','text-indigo-700','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','การบวกทศนิยม','\x22\x20data-name=\x22','64EwKaGA','filter','copy-quiz-id-btn','.project-card-content','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','ring-2','\x20mx-1\x20text-lg\x22></i></span>','line-through\x20text-red-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','input','files','start-quiz-btn','presentation-explanation','user','baseVal','shuffleSetting','.sort-indicator','quizType','th-TH','onerror','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','-tab','no-projects-msg','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','2-digit','force-math-checkbox','export-excel-btn','$1\x5ctext{','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','การหาร','export-leaderboard-excel-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rows','รากที่สองและที่สาม','เงินงวด\x20(อนุกรมเงินงวด)','rgba(79,\x2070,\x20229,\x201)','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','player-list-lobby','ดอกเบี้ยทบต้น','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การประยุกต์เวกเตอร์พื้นฐาน','\x5cle','document','ค่าเสื่อมราคา','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','innerText','สมการค่าสัมบูรณ์','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','focus','806906YdUhGl','POST','Error\x20renaming\x20quiz:','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','addEventListener','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','ส่งคำตอบ','รอเปิด','results_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','ผลรวมอนุกรม\x20(Σ)','ค.ร.น.\x20(LCM)','quiz-bank-modal','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','_blank','N/A','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','blueprint-input-area','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','results-tab-content','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','link-topic-input','leaderboard-table-body','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','font-bold\x20text-green-700','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','NUMBER','join','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','ส่งแล้ว','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','คัดลอกแบบทดสอบสำเร็จ','Error\x20saving\x20quiz:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','isCorrect','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','svg','toISOString','#per-question-options\x20textarea','fullscreenElement','toLocaleString','div','อสมการค่าสัมบูรณ์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','จุด\x20เส้น\x20ระนาบ','block','timer-duration-label','\x20ตัวเลือก.\x20','ผู้เชี่ยวชาญ','คะแนน','contains','student-quiz-topic','ลำดับเลขคณิต\x20(AP)','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','analytics-tab-btn','.topic-name-display','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','คัดลอกไม่สำเร็จ','topic','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','/public/data/quizzes/','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','students','math-topic-search-input','พื้นที่ผิวรูปทรงสามมิติ','docs','อนุพันธ์:\x20กฎพื้นฐาน','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','podium','quiz-search-input','แบบทดสอบไม่มีชื่อ','<textarea\x20name=\x22question','วงกลม:\x20คอร์ดและเส้นสัมผัส','ดูสรุปผล','teacherSuggestions','quiz-leaderboard-table-body','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','loader','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','gamePin','results-table','input[name=\x22status-option\x22]','ตอบถูก\x203\x20ข้อติดต่อกัน','tan','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','per-question-text','border-red-300\x20bg-red-50','latestScore','input[type=\x22text\x22]','admin-action-buttons','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x5cs*\x5c(','quiz','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','next-question-btn','BOOLEAN','2744088MeiXzf','/submissions','Error\x20saving\x20quiz\x20edits:','<p>','\x22\x20สำเร็จ','จำนวนคู่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','move-quiz-project-select','เวกเตอร์และเมทริกซ์\x20(เสริม)','#student-quiz-leaderboard-content\x20thead','show_results_and_answers','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','.ql-editor','circle','.choice-text','ลำดับเรขาคณิต\x20(GP)','substring','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slide-counter','fa-crown\x20text-yellow-500','quiz-editor-modal','$1^{\x5ccirc}\x5ctext{C}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asc','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','</body></html>','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','quiz-editor-questions-container','สมการยกกำลัง','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sin','position','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','Error\x20showing\x20quiz\x20detail\x20view:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','parallel-test-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบใช่/ไม่ใช่','normal','2741','จำนวนข้อ:','font-bold\x20text-red-700\x20line-through','Error\x20deleting\x20quiz:','fas\x20fa-star\x20text-yellow-500','resultsDisplay','export-leaderboard-word-btn','revealed','<div\x20id=\x22q-image-container-','deg','AI\x20grading\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สถิติและความน่าจะเป็น','commit','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','bestScore','แบบทดสอบนี้ปิดใช้งานอยู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','$1\x5cfrac','Error\x20fetching\x20project\x20quizzes:','presentation-modal','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','editable-text-','มุมและการวัดมุม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','projectName','string','bar','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','Error\x20updating\x20quiz\x20status:','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','presentation-slide-container','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','select-all-topics-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','เกิดข้อผิดพลาดในการลบแบบทดสอบ','timer-mode-select','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','specialist','uid','show_pass_fail_only','</span>','Invalid\x20response\x20structure\x20from\x20AI.','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','isRemedial','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','Error\x20listening\x20for\x20starred\x20quizzes:','.pdf','border-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','file-upload-input','สอบซ่อม','getElementById','remedialContent','ส่วนเบี่ยงเบนมาตรฐาน','\x22\x20data-q-type=\x22','ref','getPage','สลับไปโหมดนักเรียน','3WVQsHH','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','live-options-container','2523414ehFfYp','.quiz-bank-present-btn','category','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','[data-is-correct=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20opening\x20quiz\x20editor:','เส้นตรง:\x20ขนาน/ตั้งฉาก','Enter','passing-score-input','หมดเวลาสำหรับข้อนี้!','การจัดกลุ่มข้อมูล','\x5csum','PERFECT_SCORE','touchstart','ยังไม่ส่ง','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shuffle','การหารเศษส่วน','beforeend','toLocaleDateString','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','delete-all-students-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','แก้ไขข้อนี้','get','results','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.save-to-bank-btn','เกิดข้อผิดพลาดในการลบโปรเจค','การกระจายและการจัดหมู่','ไม่ใช่','save-quiz-btn','ไม่พบแบบทดสอบ','create-project-modal','localeCompare','fa-fire\x20text-orange-500','qType','attempts','result','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','question','load-quiz-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','getScreenCTM','name_desc','</h3>','.score','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','back-to-home-manual-release','จำนวนและการดำเนินการ','การนับ','isAdaptive','mjx-container','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ปริพันธ์จำกัด','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','parallel-test-upload-input','.lastAnswerCorrect','กรุณาใส่ชื่อใหม่','button[data-id]','</span></p>','กรุณาใส่ชื่อนักเรียน','score','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','first_try_ace','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','#10B981','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','strength-weakness-analysis-container','projectId'];_0x45cf=function(){return _0x3cb75b;};return _0x45cf();}async function handleStartLiveRace(_0x5255c5){const _0x3c7e38=_0x52e79a;let _0x56c4f4=allQuizzes[_0x3c7e38(0x298)](_0x354524=>_0x354524['id']===_0x5255c5);if(!_0x56c4f4){const _0x51f5b1=doc(db,_0x3c7e38(0x21f)+appId+'/public/data/quizzes',_0x5255c5),_0x2d538d=await getDoc(_0x51f5b1);if(!_0x2d538d[_0x3c7e38(0x10e)]()){showMessage(_0x3c7e38(0x13d));return;}_0x56c4f4={'id':_0x2d538d['id'],..._0x2d538d[_0x3c7e38(0x67a)]()};}currentQuizData=getShuffledQuiz(_0x56c4f4);const _0x577b57=_0x56c4f4[_0x3c7e38(0x542)]||currentProjectId||null,_0x50a5a6=Math[_0x3c7e38(0x634)](0x3e8+Math[_0x3c7e38(0x1f3)]()*0x2328)[_0x3c7e38(0x29c)]();currentLiveGamePin=_0x50a5a6;try{const _0x34e1a0=await addDoc(collection(db,_0x3c7e38(0x21f)+appId+_0x3c7e38(0xe2)),{'quizId':_0x5255c5,'projectId':_0x577b57,'status':_0x3c7e38(0x323),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x50a5a6,'createdAt':serverTimestamp()});currentLiveGameId=_0x34e1a0['id'],showAdminLobbyView(_0x50a5a6,_0x56c4f4[_0x3c7e38(0x453)]),listenForLiveGameUpdates();}catch(_0x2166cd){console['error'](_0x3c7e38(0x285),_0x2166cd),showMessage(_0x3c7e38(0x152));}}async function handleShowStudentRankings(){const _0x47f1ee=_0x52e79a,_0x2b99ab=document[_0x47f1ee(0x2ad)](_0x47f1ee(0x48b));_0x2b99ab&&(_0x2b99ab[_0x47f1ee(0xeb)]=_0x47f1ee(0x40d));const _0x209cac=document[_0x47f1ee(0x2ad)](_0x47f1ee(0x656));_0x209cac&&(_0x209cac[_0x47f1ee(0xeb)]=_0x47f1ee(0x65b));const _0x4635f9=document['getElementById'](_0x47f1ee(0x5d3));_0x4635f9[_0x47f1ee(0x200)]['remove']('hidden'),document['getElementById'](_0x47f1ee(0x2ef))['onclick']=()=>_0x4635f9[_0x47f1ee(0x200)][_0x47f1ee(0x57b)]('hidden');const _0x33d205=document[_0x47f1ee(0x4eb)](_0x47f1ee(0x237)),_0xa9f300=document[_0x47f1ee(0x4eb)](_0x47f1ee(0x33c)),_0x2b2d1b=document['getElementById'](_0x47f1ee(0x566)),_0x372e71=document[_0x47f1ee(0x4eb)](_0x47f1ee(0x251));_0x33d205[_0x47f1ee(0x1e4)]=()=>{const _0x1217ef=_0x47f1ee;_0x33d205['classList'][_0x1217ef(0x57b)](_0x1217ef(0x553)),_0xa9f300[_0x1217ef(0x200)][_0x1217ef(0x1fd)]('active'),_0x2b2d1b[_0x1217ef(0x200)][_0x1217ef(0x1fd)](_0x1217ef(0x4c1)),_0x372e71[_0x1217ef(0x200)][_0x1217ef(0x57b)]('hidden');},_0xa9f300['onclick']=()=>{const _0x3bf01c=_0x47f1ee;_0xa9f300['classList'][_0x3bf01c(0x57b)](_0x3bf01c(0x553)),_0x33d205[_0x3bf01c(0x200)]['remove'](_0x3bf01c(0x553)),_0x372e71[_0x3bf01c(0x200)][_0x3bf01c(0x1fd)]('hidden'),_0x2b2d1b[_0x3bf01c(0x200)]['add'](_0x3bf01c(0x4c1));};try{const _0x16849e=collection(db,'artifacts/'+appId+_0x47f1ee(0x457)+currentQuizData['id']+_0x47f1ee(0x480)),_0x2f7338=await getDocs(_0x16849e),_0x456cdc=_0x2f7338[_0x47f1ee(0x45c)][_0x47f1ee(0x2ce)](_0x2003a8=>_0x2003a8[_0x47f1ee(0x67a)]());renderQuizLeaderboard(_0x456cdc,currentQuizData,_0x47f1ee(0x616));const _0x3636b5=collection(db,_0x47f1ee(0x21f)+appId+'/public/data/projects/'+currentQuizData[_0x47f1ee(0x542)]+_0x47f1ee(0x13b)),_0x11fac2=await getDocs(_0x3636b5),_0x328d13=_0x11fac2['docs']['map'](_0x30bc94=>_0x30bc94[_0x47f1ee(0x67a)]());renderLeaderboard(_0x328d13,_0x47f1ee(0x288));}catch(_0x3d050a){console['error'](_0x47f1ee(0x33a),_0x3d050a),showMessage(_0x47f1ee(0x25c));}}async function handleSaveToBank(_0x1192c2){const _0x23d1f1=_0x52e79a,_0xa8643a=_0x1192c2[_0x23d1f1(0x321)],_0x12b787=_0xa8643a[_0x23d1f1(0x3b5)]['index'],_0x181dea=currentQuizData[_0x23d1f1(0x27f)][_0x12b787];if(!userId){showMessage(_0x23d1f1(0x20f));return;}try{const _0x6355c2={..._0x181dea,'originalTopic':currentQuizData[_0x23d1f1(0x453)],'savedAt':serverTimestamp()},_0x2421c8=collection(db,_0x23d1f1(0x21f)+appId+'/users/'+userId+_0x23d1f1(0x1fb));await addDoc(_0x2421c8,_0x6355c2),showMessage(_0x23d1f1(0x236)),_0xa8643a[_0x23d1f1(0x200)][_0x23d1f1(0x1fd)](_0x23d1f1(0x296)),_0xa8643a[_0x23d1f1(0x200)]['add']('text-green-600'),_0xa8643a[_0x23d1f1(0x5cb)]=!![];}catch(_0x3753dc){console[_0x23d1f1(0x567)](_0x23d1f1(0xd0),_0x3753dc),showMessage(_0x23d1f1(0x264));}}function listenForStarredQuizzes(){const _0x242bba=_0x52e79a;if(!userId)return;const _0x284229=collection(db,_0x242bba(0x21f)+appId+_0x242bba(0x46a)),_0x8200f5=query(_0x284229,where(_0x242bba(0x37b),'==',!![]));onSnapshot(_0x8200f5,_0xc56b34=>{const _0x1a9141=_0x242bba;starredQuizzes=_0xc56b34['docs'][_0x1a9141(0x2ce)](_0x4af7fc=>({'id':_0x4af7fc['id'],..._0x4af7fc['data']()})),renderProjects();},_0x30d7ec=>{const _0x3549c7=_0x242bba;console[_0x3549c7(0x567)](_0x3549c7(0x4e5),_0x30d7ec);});}async function handleToggleStarQuiz(_0x44325e){const _0xa005ee=_0x52e79a,_0x2e6bde=doc(db,_0xa005ee(0x21f)+appId+'/public/data/quizzes',_0x44325e);try{const _0x412d94=await getDoc(_0x2e6bde);if(_0x412d94[_0xa005ee(0x10e)]()){const _0x52bf2d=_0x412d94['data']()[_0xa005ee(0x37b)]||![];await updateDoc(_0x2e6bde,{'isStarred':!_0x52bf2d});}}catch(_0x1bcedc){console['error'](_0xa005ee(0x26c),_0x1bcedc),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x3e775c=_0x52e79a,_0x4b41ae=document[_0x3e775c(0x4eb)](_0x3e775c(0x438));_0x4b41ae['innerHTML']=_0x3e775c(0xf4);try{const _0x150560=collection(db,'artifacts/'+appId+_0x3e775c(0x38b)+userId+_0x3e775c(0x1fb)),_0x2a1bfd=query(_0x150560),_0x8c39e0=await getDocs(_0x2a1bfd);if(_0x8c39e0[_0x3e775c(0x633)]){_0x4b41ae['innerHTML']=_0x3e775c(0x658);return;}let _0x524671=_0x8c39e0[_0x3e775c(0x45c)][_0x3e775c(0x2ce)](_0x3f1ccb=>{const _0x3a4e6d=_0x3e775c,_0x2d8688=_0x3f1ccb['data'](),_0x4a5734=_0x3f1ccb['id'];return _0x3a4e6d(0x439)+JSON['stringify'](_0x2d8688)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2d8688[_0x3a4e6d(0x2cb)]||_0x2d8688[_0x3a4e6d(0x55b)])+_0x3a4e6d(0x149)+_0x2d8688[_0x3a4e6d(0x1e3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3e775c(0x42d)]('');_0x4b41ae[_0x3e775c(0xeb)]=_0x3e775c(0x3ed)+_0x524671+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3e775c(0x4eb)]('create-from-bank-btn')[_0x3e775c(0x413)](_0x3e775c(0x354),createQuizFromBank);}catch(_0x452f44){console[_0x3e775c(0x567)]('Error\x20displaying\x20question\x20bank:',_0x452f44),_0x4b41ae[_0x3e775c(0xeb)]=_0x3e775c(0x3a5);}}function showAdminLiveQuestionView(_0x1ee97f,_0x2aa097,_0x55bb2c){const _0x3528a4=_0x52e79a,_0x3295c5=_0x1ee97f[_0x3528a4(0x23d)]||currentQuizData[_0x3528a4(0x3e6)];let _0x1816d7='';if(_0x3295c5===_0x3528a4(0xfa)||_0x3295c5===_0x3528a4(0x5a8)){const _0x9e07c4=_0x3295c5===_0x3528a4(0x5a8)?[_0x3528a4(0x194),_0x3528a4(0x518)]:_0x1ee97f[_0x3528a4(0x5c5)],_0x18f4da=_0x3295c5===_0x3528a4(0x5a8)?_0x1ee97f['correctAnswer']?0x0:0x1:_0x1ee97f[_0x3528a4(0x5e7)];_0x1816d7=_0x9e07c4['map']((_0xea85e8,_0x2f408d)=>_0x3528a4(0x278)+(_0x2f408d===_0x18f4da)+_0x3528a4(0x1f8)+_0xea85e8+_0x3528a4(0x3a7))[_0x3528a4(0x42d)]('');}else{if(_0x3295c5===_0x3528a4(0x615)){const _0x4cfd3e=_0x1ee97f[_0x3528a4(0x2e6)]||[];_0x1816d7=_0x4cfd3e[_0x3528a4(0x2ce)](_0x5ea228=>_0x3528a4(0x278)+(_0x5ea228===_0x1ee97f[_0x3528a4(0x5a5)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ea228+_0x3528a4(0x3a7))['join']('');}}const _0x3b59f9=_0x1ee97f[_0x3528a4(0x55b)]||_0x1ee97f['questionText'],_0x2b894c=_0x3528a4(0x4e8)+(_0x2aa097+0x1)+_0x3528a4(0x5ee)+_0x55bb2c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x3b59f9+_0x3528a4(0x5c7)+_0x1816d7+_0x3528a4(0x5f2);liveGameView[_0x3528a4(0xeb)]=_0x2b894c;window[_0x3528a4(0x222)]&&MathJax['typesetPromise']&&MathJax[_0x3528a4(0x11e)]([liveGameView]);const _0x68d1be=document[_0x3528a4(0x4eb)](_0x3528a4(0x477));document[_0x3528a4(0x4eb)](_0x3528a4(0x101))[_0x3528a4(0x413)](_0x3528a4(0x354),async()=>{const _0x3e10d4=_0x3528a4,_0x41b5cf=doc(db,_0x3e10d4(0x21f)+appId+_0x3e10d4(0xe2),currentLiveGameId);await updateDoc(_0x41b5cf,{'questionStatus':_0x3e10d4(0x4b9)});const _0x241c7b=liveGameView[_0x3e10d4(0x2ad)]('[data-is-correct=\x22true\x22]');_0x241c7b&&(_0x241c7b[_0x3e10d4(0x200)][_0x3e10d4(0x1fd)](_0x3e10d4(0x2c0)),_0x241c7b[_0x3e10d4(0x200)][_0x3e10d4(0x57b)](_0x3e10d4(0x600),_0x3e10d4(0x5dd),_0x3e10d4(0x338),_0x3e10d4(0x4e7),_0x3e10d4(0x5f6)),_0x241c7b[_0x3e10d4(0xeb)]=_0x3e10d4(0x4d2)+_0x241c7b[_0x3e10d4(0xeb)]),_0x68d1be[_0x3e10d4(0xeb)]=_0x3e10d4(0x14c)+(_0x2aa097+0x1===_0x55bb2c?_0x3e10d4(0x465):_0x3e10d4(0x198))+_0x3e10d4(0x57d),document['getElementById'](_0x3e10d4(0x1ba))[_0x3e10d4(0x413)](_0x3e10d4(0x354),async()=>{const _0x1956eb=_0x3e10d4,_0x422997=doc(db,_0x1956eb(0x21f)+appId+_0x1956eb(0xe2),currentLiveGameId),_0x1966c7=await getDoc(_0x422997);if(!_0x1966c7[_0x1956eb(0x10e)]())return;const _0x17c6c9=_0x1966c7[_0x1956eb(0x67a)](),_0x5a1270={};if(_0x17c6c9['players'])for(const _0x9aea32 in _0x17c6c9[_0x1956eb(0x163)]){_0x5a1270[_0x1956eb(0x291)+_0x9aea32+_0x1956eb(0x1d4)]=![];}const _0x10fe44=_0x2aa097+0x1;_0x10fe44<_0x55bb2c?(_0x5a1270[_0x1956eb(0x179)]=_0x10fe44,_0x5a1270[_0x1956eb(0x1d3)]=serverTimestamp(),_0x5a1270[_0x1956eb(0x17e)]=_0x1956eb(0x1bb),await updateDoc(_0x422997,_0x5a1270)):await updateDoc(_0x422997,{'status':_0x1956eb(0x460)});});}),document[_0x3528a4(0x4eb)]('end-game-btn')[_0x3528a4(0x413)](_0x3528a4(0x354),async()=>{const _0x53aafb=_0x3528a4,_0x4b75ad=doc(db,_0x53aafb(0x21f)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x4b75ad),showView(_0x53aafb(0x25b));});}function showStudentLiveQuestionView(_0x13729f,_0x5cc653,_0x1b0554){const _0x1f3b3b=_0x52e79a,_0x4d52e9=_0x13729f['questionType']||currentQuizData[_0x1f3b3b(0x3e6)];let _0xb595f8='';if(_0x4d52e9===_0x1f3b3b(0xfa)||_0x4d52e9===_0x1f3b3b(0x5a8)){const _0x24bcf6=_0x4d52e9==='true_false'?['ใช่',_0x1f3b3b(0x518)]:_0x13729f[_0x1f3b3b(0x5c5)];_0xb595f8=_0x24bcf6[_0x1f3b3b(0x2ce)]((_0x2b1653,_0x1dd832)=>_0x1f3b3b(0x4fd)+_0x1dd832+_0x1f3b3b(0x125)+_0x2b1653+_0x1f3b3b(0x4bd))[_0x1f3b3b(0x42d)]('');}else{if(_0x4d52e9==='matching_item'){const _0x594776=_0x13729f[_0x1f3b3b(0x2e6)]||[];_0xb595f8=_0x594776[_0x1f3b3b(0x2ce)]((_0x441499,_0x492a30)=>_0x1f3b3b(0x4fd)+_0x492a30+_0x1f3b3b(0x125)+_0x441499+_0x1f3b3b(0x4bd))['join']('');}else _0x4d52e9===_0x1f3b3b(0x27d)&&(_0xb595f8=_0x1f3b3b(0x2f6));}const _0x206fd7=_0x13729f[_0x1f3b3b(0x55b)]||_0x13729f[_0x1f3b3b(0x2cb)],_0x449064=_0x1f3b3b(0x578)+(_0x5cc653+0x1)+_0x1f3b3b(0x5ee)+_0x1b0554+_0x1f3b3b(0x53f)+_0x206fd7+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb595f8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x449064;window[_0x1f3b3b(0x222)]&&MathJax[_0x1f3b3b(0x11e)]&&MathJax[_0x1f3b3b(0x11e)]([liveGameView]);const _0x4549b7=document[_0x1f3b3b(0x4eb)](_0x1f3b3b(0x1bc));_0x4549b7&&_0x4549b7[_0x1f3b3b(0x413)](_0x1f3b3b(0x354),()=>{const _0xe5d113=_0x1f3b3b,_0x555045=document[_0xe5d113(0x4eb)](_0xe5d113(0x3a0))[_0xe5d113(0x4d7)];handleLiveAnswer(_0x555045,_0x13729f);}),document['getElementById'](_0x1f3b3b(0x4f7))[_0x1f3b3b(0x413)](_0x1f3b3b(0x354),_0x46de52=>{const _0x45a768=_0x1f3b3b,_0x49fc1e=_0x46de52[_0x45a768(0x3b1)][_0x45a768(0x334)]('.live-answer-btn');if(_0x49fc1e){const _0x221950=parseInt(_0x49fc1e['dataset'][_0x45a768(0x2bd)]);handleLiveAnswer(_0x221950,_0x13729f);}});}async function handleLiveAnswer(_0x4ffc06,_0x447804){const _0x21aefa=_0x52e79a;document[_0x21aefa(0x574)](_0x21aefa(0x5b3))[_0x21aefa(0x5bc)](_0x2d90c6=>_0x2d90c6[_0x21aefa(0x5cb)]=!![]);const _0x44ede8=_0x447804[_0x21aefa(0x23d)]||currentQuizData[_0x21aefa(0x3e6)];let _0x2788a2=![];if(_0x44ede8===_0x21aefa(0x27d)){const _0x303d45=(_0x4ffc06||'')[_0x21aefa(0x29c)]();_0x2788a2=await gradeShortAnswer(_0x303d45,_0x447804);}else{if(_0x44ede8==='multiple_choice')_0x2788a2=_0x4ffc06===_0x447804[_0x21aefa(0x5e7)];else{if(_0x44ede8===_0x21aefa(0x5a8)){const _0x249aac=_0x447804[_0x21aefa(0x1cb)];_0x2788a2=_0x4ffc06===0x0&&_0x249aac||_0x4ffc06===0x1&&!_0x249aac;}else{if(_0x44ede8===_0x21aefa(0x615)){const _0x58c3da=_0x447804[_0x21aefa(0x2e6)][_0x4ffc06];_0x2788a2=_0x58c3da===_0x447804[_0x21aefa(0x5a5)];}}}}const _0x299ba3=doc(db,_0x21aefa(0x21f)+appId+_0x21aefa(0xe2),currentLiveGameId),_0x537772=await getDoc(_0x299ba3);if(!_0x537772[_0x21aefa(0x10e)]())return;const _0x4580af=_0x537772['data'](),_0x224cb0=_0x4580af[_0x21aefa(0x163)][currentStudentName];let _0x51c79c=_0x224cb0[_0x21aefa(0x20a)]||[],_0x50894e=_0x224cb0[_0x21aefa(0x652)]||0x0;const _0xb4612={};let _0x4c1845=0x0;if(_0x4580af[_0x21aefa(0x1d3)]){const _0x296690=_0x4580af[_0x21aefa(0x1d3)][_0x21aefa(0x250)](),_0x44281f=new Date()-_0x296690;if(_0x2788a2){const _0x246de3=0x3e8,_0x5b4232=0x1f4,_0x196fd0=0x4e20;let _0x3dc341=_0x44281f/_0x196fd0;if(_0x3dc341>0x1)_0x3dc341=0x1;const _0x5548ff=Math[_0x21aefa(0x675)](_0x3dc341*_0x5b4232);_0x4c1845=_0x246de3-_0x5548ff,_0x44281f<=0x1388&&!_0x51c79c[_0x21aefa(0x592)](_0x21aefa(0x5a7))&&_0x51c79c[_0x21aefa(0x2e0)](_0x21aefa(0x5a7));}}_0x2788a2?(_0x50894e++,_0x50894e===0x3&&!_0x51c79c[_0x21aefa(0x592)]('on_fire')&&(_0x51c79c['push'](_0x21aefa(0x609)),_0x50894e=0x0)):_0x50894e=0x0,_0x2788a2&&(_0xb4612[_0x21aefa(0x291)+currentStudentName+_0x21aefa(0x52a)]=increment(_0x4c1845)),_0xb4612['players.'+currentStudentName+'.badges']=_0x51c79c,_0xb4612['players.'+currentStudentName+'.correctStreak']=_0x50894e,_0xb4612[_0x21aefa(0x291)+currentStudentName+_0x21aefa(0x1d4)]=!![],_0xb4612['players.'+currentStudentName+_0x21aefa(0x535)]=_0x2788a2,_0xb4612['players.'+currentStudentName+'.pointsLastQuestion']=_0x4c1845,await updateDoc(_0x299ba3,_0xb4612),liveGameView[_0x21aefa(0xeb)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function createQuizFromBank(){const _0x5ad503=_0x52e79a,_0x3ce540=document[_0x5ad503(0x574)](_0x5ad503(0x382));if(_0x3ce540['length']===0x0){showMessage(_0x5ad503(0x3fb));return;}const _0x21a9db=[];_0x3ce540[_0x5ad503(0x5bc)](_0x1ded4b=>{const _0x1a69d2=_0x5ad503;_0x21a9db[_0x1a69d2(0x2e0)](JSON[_0x1a69d2(0x5ab)](_0x1ded4b['value']));});const _0x74d5f={'topic':_0x5ad503(0x2fc),'questions':_0x21a9db};displayGeneratedQuiz(_0x74d5f);}function showAdminLobbyView(_0x4b257f,_0x320686){const _0xb9cf62=_0x52e79a;showView('live-game');const _0x59b201=_0xb9cf62(0x28c)+_0x320686+_0xb9cf62(0x271)+_0x4b257f+_0xb9cf62(0x2d3);liveGameView[_0xb9cf62(0xeb)]=_0x59b201,document[_0xb9cf62(0x4eb)](_0xb9cf62(0x15f))[_0xb9cf62(0x413)](_0xb9cf62(0x354),async()=>{const _0x5be807=_0xb9cf62;if(!currentQuizData||!currentQuizData[_0x5be807(0x27f)]||currentQuizData[_0x5be807(0x27f)][_0x5be807(0x665)]===0x0){showMessage(_0x5be807(0x49e));return;}try{const _0x304aab=doc(db,'artifacts/'+appId+_0x5be807(0xe2),currentLiveGameId);await updateDoc(_0x304aab,{'status':_0x5be807(0x524),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x152c7=currentQuizData[_0x5be807(0x27f)][0x0],_0x4e41cd=currentQuizData[_0x5be807(0x27f)][_0x5be807(0x665)];showAdminLiveQuestionView(_0x152c7,0x0,_0x4e41cd);}catch(_0xc61ba3){console['error'](_0x5be807(0x1a4),_0xc61ba3),showMessage(_0x5be807(0x3bc));}});}async function openGlobalLiveModal(){const _0xfdb8b8=_0x52e79a;if(allQuizzesGlobal[_0xfdb8b8(0x665)]===0x0){const _0x2240f1=await getDocs(collection(db,_0xfdb8b8(0x21f)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2240f1[_0xfdb8b8(0x45c)][_0xfdb8b8(0x2ce)](_0x25070e=>({'id':_0x25070e['id'],..._0x25070e[_0xfdb8b8(0x67a)]()}));}renderGlobalQuizList(''),document['getElementById']('global-live-game-modal')[_0xfdb8b8(0x200)][_0xfdb8b8(0x1fd)](_0xfdb8b8(0x4c1));}async function openQuizBankModal(){const _0x34b218=_0x52e79a;if(allQuizzesGlobal[_0x34b218(0x665)]===0x0){const _0x58ac72=await getDocs(collection(db,'artifacts/'+appId+_0x34b218(0x46a)));allQuizzesGlobal=_0x58ac72['docs'][_0x34b218(0x2ce)](_0x118274=>({'id':_0x118274['id'],..._0x118274[_0x34b218(0x67a)]()}));}renderQuizBankList(''),document['getElementById'](_0x34b218(0x41c))['classList'][_0x34b218(0x1fd)](_0x34b218(0x4c1));}function renderQuizBankList(_0x1eaa89=''){const _0x42d691=_0x52e79a,_0x4e2618=document[_0x42d691(0x4eb)](_0x42d691(0x367)),_0x46b469=_0x1eaa89[_0x42d691(0x177)]()[_0x42d691(0xfd)](),_0x13f5ba=allQuizzesGlobal['map'](_0x198a7f=>({..._0x198a7f,'projectName':allProjects['find'](_0x43c1ee=>_0x43c1ee['id']===_0x198a7f[_0x42d691(0x542)])?.[_0x42d691(0x4cd)]||'N/A'}))[_0x42d691(0x3d5)](_0x462c67=>(_0x462c67['topic']||'')[_0x42d691(0x177)]()['includes'](_0x46b469)||(_0x462c67['projectName']||'')[_0x42d691(0x177)]()[_0x42d691(0x592)](_0x46b469)||_0x462c67['id'][_0x42d691(0x29c)]()[_0x42d691(0x592)](_0x46b469));document['getElementById'](_0x42d691(0x11b))[_0x42d691(0x3cd)]='('+_0x13f5ba[_0x42d691(0x665)]+'\x20ชุด)',_0x4e2618[_0x42d691(0xeb)]=_0x13f5ba['length']?_0x13f5ba[_0x42d691(0x2ce)](_0x5dcd0e=>_0x42d691(0x311)+_0x5dcd0e['id']+_0x42d691(0x612)+(_0x5dcd0e['topic']||'(ไม่มีชื่อ)')+_0x42d691(0x66e)+(_0x5dcd0e[_0x42d691(0x27f)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x5dcd0e[_0x42d691(0x4cd)]+_0x42d691(0x595)+_0x5dcd0e['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5dcd0e['id']+_0x42d691(0x540)+_0x5dcd0e['id']+_0x42d691(0x5a6)+_0x5dcd0e['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x42d691(0x42d)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x4e2618[_0x42d691(0x574)]('.quiz-bank-item')['forEach'](_0x69b817=>{const _0x3d5657=_0x42d691;_0x69b817[_0x3d5657(0x413)](_0x3d5657(0x354),()=>{const _0x367669=_0x3d5657,_0x57bcdb=_0x69b817[_0x367669(0x3b5)]['id'];document[_0x367669(0x4eb)](_0x367669(0x41c))[_0x367669(0x200)][_0x367669(0x57b)]('hidden'),showQuizDetailView(_0x57bcdb);});}),_0x4e2618[_0x42d691(0x574)]('.quiz-bank-try-btn')[_0x42d691(0x5bc)](_0x3a74de=>{const _0x1e7c40=_0x42d691;_0x3a74de['addEventListener'](_0x1e7c40(0x354),_0x2d073f=>{const _0x3cd959=_0x1e7c40;_0x2d073f[_0x3cd959(0x233)]();const _0x5a809e=_0x3a74de[_0x3cd959(0x3b5)]['id'],_0x205d06=allQuizzesGlobal[_0x3cd959(0x298)](_0xe607da=>_0xe607da['id']===_0x5a809e);_0x205d06?(currentQuizData=_0x205d06,document[_0x3cd959(0x4eb)](_0x3cd959(0x41c))['classList'][_0x3cd959(0x57b)](_0x3cd959(0x4c1)),startAdminTest()):showMessage(_0x3cd959(0x13d));});}),_0x4e2618[_0x42d691(0x574)](_0x42d691(0x3c8))[_0x42d691(0x5bc)](_0x1f71e1=>{const _0x2602ed=_0x42d691;_0x1f71e1[_0x2602ed(0x413)](_0x2602ed(0x354),_0x542fb3=>{const _0x4bcb35=_0x2602ed;_0x542fb3['stopPropagation']();const _0x20b2b3=_0x1f71e1[_0x4bcb35(0x3b5)]['id'],_0x15d544=allQuizzesGlobal[_0x4bcb35(0x298)](_0x4ab142=>_0x4ab142['id']===_0x20b2b3);_0x15d544?(document[_0x4bcb35(0x4eb)]('quiz-bank-modal')[_0x4bcb35(0x200)][_0x4bcb35(0x57b)](_0x4bcb35(0x4c1)),handleGenerateParallelFromBank(_0x15d544)):showMessage(_0x4bcb35(0x13d));});}),_0x4e2618[_0x42d691(0x574)](_0x42d691(0x4f9))[_0x42d691(0x5bc)](_0x306091=>{const _0x54ad05=_0x42d691;_0x306091[_0x54ad05(0x413)](_0x54ad05(0x354),_0x15e36a=>{const _0x57247d=_0x54ad05;_0x15e36a['stopPropagation']();const _0x348309=_0x306091[_0x57247d(0x3b5)]['id'],_0x10b05e=allQuizzesGlobal[_0x57247d(0x298)](_0xd61c50=>_0xd61c50['id']===_0x348309);_0x10b05e?(document[_0x57247d(0x4eb)](_0x57247d(0x41c))[_0x57247d(0x200)][_0x57247d(0x57b)](_0x57247d(0x4c1)),startPresentation(_0x10b05e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});});}function renderGlobalQuizList(_0x3c8cfd=''){const _0x340a51=_0x52e79a,_0x5134c3=document[_0x340a51(0x4eb)](_0x340a51(0x385)),_0x59504c=_0x3c8cfd[_0x340a51(0x177)]()['trim'](),_0xfaa86b=allQuizzesGlobal[_0x340a51(0x2ce)](_0x34878d=>({..._0x34878d,'projectName':allProjects['find'](_0x7450bb=>_0x7450bb['id']===_0x34878d[_0x340a51(0x542)])?.[_0x340a51(0x4cd)]||_0x34878d['projectId']}))[_0x340a51(0x3d5)](_0x5b7f9e=>(_0x5b7f9e[_0x340a51(0x453)]||'')['toLowerCase']()[_0x340a51(0x592)](_0x59504c)||(_0x5b7f9e[_0x340a51(0x4cd)]||'')[_0x340a51(0x177)]()['includes'](_0x59504c));document['getElementById']('global-live-game-count')[_0x340a51(0x3cd)]='('+_0xfaa86b[_0x340a51(0x665)]+_0x340a51(0x22b),_0x5134c3['innerHTML']=_0xfaa86b[_0x340a51(0x665)]?_0xfaa86b[_0x340a51(0x2ce)](_0x3f0fe6=>_0x340a51(0x4c5)+_0x3f0fe6['id']+_0x340a51(0x104)+(_0x3f0fe6[_0x340a51(0x453)]||_0x340a51(0x175))+_0x340a51(0x624)+(_0x3f0fe6[_0x340a51(0x27f)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x3f0fe6['projectName']+_0x340a51(0x359))[_0x340a51(0x42d)](''):_0x340a51(0x254),selectedGlobalQuizId=null,document[_0x340a51(0x4eb)](_0x340a51(0x36e))[_0x340a51(0x5cb)]=!![],_0x5134c3[_0x340a51(0x574)](_0x340a51(0x537))[_0x340a51(0x5bc)](_0x12007c=>{const _0x230a0f=_0x340a51;_0x12007c[_0x230a0f(0x413)]('click',()=>{const _0x164b53=_0x230a0f;selectedGlobalQuizId=_0x12007c[_0x164b53(0x3b5)]['id'],_0x5134c3[_0x164b53(0x574)](_0x164b53(0x166))[_0x164b53(0x5bc)](_0x1cc29b=>_0x1cc29b['classList'][_0x164b53(0x1fd)]('bg-purple-50','ring-2',_0x164b53(0x259))),_0x12007c[_0x164b53(0x200)]['add']('bg-purple-50',_0x164b53(0x3d9),_0x164b53(0x259)),document[_0x164b53(0x4eb)](_0x164b53(0x36e))[_0x164b53(0x5cb)]=![];});});}function listenForLiveGameUpdates(){const _0x5130b3=_0x52e79a;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x348485=doc(db,_0x5130b3(0x21f)+appId+_0x5130b3(0xe2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x348485,_0x1a978e=>{const _0x3c27d7=_0x5130b3;if(!_0x1a978e[_0x3c27d7(0x10e)]()){showMessage(_0x3c27d7(0x39e)),showView(currentMode);return;}const _0x56d0f7=_0x1a978e[_0x3c27d7(0x67a)]();!currentQuizData&&_0x56d0f7['quizId']&&((async()=>{const _0x13432e=_0x3c27d7;try{const _0x15ee0=doc(db,_0x13432e(0x21f)+appId+_0x13432e(0x46a),_0x56d0f7['quizId']),_0x5c7f47=await getDoc(_0x15ee0);_0x5c7f47['exists']()&&(currentQuizData={'id':_0x5c7f47['id'],..._0x5c7f47[_0x13432e(0x67a)]()});}catch(_0x335883){console[_0x13432e(0x567)](_0x13432e(0x249),_0x335883);}})());switch(_0x56d0f7[_0x3c27d7(0x657)]){case _0x3c27d7(0x323):if(currentMode==='admin'){const _0x5b7f5d=_0x56d0f7[_0x3c27d7(0x163)]?Object[_0x3c27d7(0x570)](_0x56d0f7[_0x3c27d7(0x163)]):[];document[_0x3c27d7(0x4eb)](_0x3c27d7(0x59e))[_0x3c27d7(0x3cd)]=_0x5b7f5d[_0x3c27d7(0x665)],document[_0x3c27d7(0x4eb)](_0x3c27d7(0x3fd))[_0x3c27d7(0xeb)]=_0x5b7f5d[_0x3c27d7(0x2ce)](_0x7e2ccc=>_0x3c27d7(0x119)+_0x7e2ccc+_0x3c27d7(0x4e0))[_0x3c27d7(0x42d)]('');const _0x32ac26=document[_0x3c27d7(0x4eb)](_0x3c27d7(0x15f));_0x32ac26&&(_0x32ac26[_0x3c27d7(0x5cb)]=_0x5b7f5d[_0x3c27d7(0x665)]===0x0);}else showView(_0x3c27d7(0x651)),liveGameView[_0x3c27d7(0xeb)]=_0x3c27d7(0x2ed)+currentStudentName+_0x3c27d7(0x5d7);break;case _0x3c27d7(0x524):const _0x4e9650=_0x56d0f7[_0x3c27d7(0x179)];if(currentQuizData&&currentQuizData[_0x3c27d7(0x27f)][_0x4e9650]){const _0x1771ff=currentQuizData[_0x3c27d7(0x27f)][_0x4e9650],_0x1383c1=currentQuizData['questions']['length'];if(currentMode===_0x3c27d7(0x33b)){lastRenderedAdminQuestionIndex!==_0x4e9650&&(showAdminLiveQuestionView(_0x1771ff,_0x4e9650,_0x1383c1),lastRenderedAdminQuestionIndex=_0x4e9650);const _0x26b639=document[_0x3c27d7(0x4eb)](_0x3c27d7(0x668));if(_0x26b639&&_0x56d0f7['players']){const _0x2919ea=Object[_0x3c27d7(0x570)](_0x56d0f7['players'])[_0x3c27d7(0x665)],_0xc2d845=Object[_0x3c27d7(0x1ee)](_0x56d0f7[_0x3c27d7(0x163)])[_0x3c27d7(0x3d5)](_0x5b03c8=>_0x5b03c8[_0x3c27d7(0x21e)]===!![])[_0x3c27d7(0x665)];_0x26b639[_0x3c27d7(0x3cd)]=_0xc2d845+'/'+_0x2919ea,_0x2919ea>0x0&&_0xc2d845===_0x2919ea&&_0x56d0f7[_0x3c27d7(0x17e)]!==_0x3c27d7(0x4b9)&&revealAnswerForAdmin(_0x4e9650,_0x1383c1);}}else{const _0x380025=_0x56d0f7[_0x3c27d7(0x163)][currentStudentName];if(_0x56d0f7[_0x3c27d7(0x17e)]===_0x3c27d7(0x4b9)){if(_0x380025[_0x3c27d7(0x21e)]){const _0xecf6a1=_0x380025['lastAnswerCorrect'],_0x35e404=_0x380025[_0x3c27d7(0x332)]||0x0,_0x49d96c=_0xecf6a1?'คำตอบถูกต้อง!\x20+'+_0x35e404+'\x20คะแนน':_0x3c27d7(0x2e3);liveGameView[_0x3c27d7(0xeb)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x49d96c+_0x3c27d7(0x277);}else liveGameView[_0x3c27d7(0xeb)]=_0x3c27d7(0x52b);}else!_0x380025[_0x3c27d7(0x21e)]&&showStudentLiveQuestionView(_0x1771ff,_0x4e9650,_0x1383c1);}}break;case'podium':showPodiumView(_0x56d0f7[_0x3c27d7(0x163)]);break;}});}async function authenticateUser(){const _0x282bcb=_0x52e79a;try{typeof __initial_auth_token!==_0x282bcb(0x10c)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5356dc){console[_0x282bcb(0x567)]('Authentication\x20failed:',_0x5356dc),showMessage(_0x282bcb(0x3af));}}function showView(_0x3a8282){const _0xe2d480=_0x52e79a,_0xaf79ef=[_0xe2d480(0x3ad),_0xe2d480(0x1cf),'project-dashboard-view',_0xe2d480(0x25f),'quiz-results-view',_0xe2d480(0x19d)];_0xaf79ef[_0xe2d480(0x5bc)](_0x28f802=>document[_0xe2d480(0x4eb)](_0x28f802)?.['classList'][_0xe2d480(0x57b)]('hidden'));if(_0x3a8282===_0xe2d480(0x25b))adminView[_0xe2d480(0x200)][_0xe2d480(0x1fd)](_0xe2d480(0x4c1)),projectDashboardView['classList']['remove'](_0xe2d480(0x4c1));else{if(_0x3a8282===_0xe2d480(0x322))studentView[_0xe2d480(0x200)]['remove'](_0xe2d480(0x4c1)),studentInitialView[_0xe2d480(0x200)][_0xe2d480(0x1fd)](_0xe2d480(0x4c1)),studentNameSelectionView[_0xe2d480(0x200)][_0xe2d480(0x57b)]('hidden'),studentQuizArea['classList']['add'](_0xe2d480(0x4c1)),studentResultArea[_0xe2d480(0x200)][_0xe2d480(0x57b)]('hidden'),studentReadingArea[_0xe2d480(0x200)][_0xe2d480(0x57b)]('hidden'),studentJoinGameView['classList'][_0xe2d480(0x57b)]('hidden');else{if(_0x3a8282===_0xe2d480(0x559))adminView[_0xe2d480(0x200)][_0xe2d480(0x1fd)](_0xe2d480(0x4c1)),projectDetailView['classList'][_0xe2d480(0x1fd)](_0xe2d480(0x4c1));else{if(_0x3a8282===_0xe2d480(0x619))adminView['classList'][_0xe2d480(0x1fd)]('hidden'),quizResultsView[_0xe2d480(0x200)][_0xe2d480(0x1fd)](_0xe2d480(0x4c1));else _0x3a8282===_0xe2d480(0x651)&&liveGameView[_0xe2d480(0x200)][_0xe2d480(0x1fd)](_0xe2d480(0x4c1));}}}}function showJoinGameView(){const _0x19b6a4=_0x52e79a;studentInitialView['classList']['add'](_0x19b6a4(0x4c1)),studentJoinGameView[_0x19b6a4(0x200)][_0x19b6a4(0x1fd)](_0x19b6a4(0x4c1));}function setupEventListeners(){const _0x34739b=_0x52e79a;document[_0x34739b(0x4eb)](_0x34739b(0x54e))[_0x34739b(0x413)](_0x34739b(0x354),handleModeSwitch),document[_0x34739b(0x4eb)](_0x34739b(0xdb))[_0x34739b(0x413)]('click',handleAddCustomMathTopic),document[_0x34739b(0x4eb)](_0x34739b(0x4d5))['addEventListener']('click',handleSelectAllTopics),document[_0x34739b(0x4eb)](_0x34739b(0x2e8))[_0x34739b(0x413)](_0x34739b(0x354),handleDeselectAllTopics),document[_0x34739b(0x4eb)](_0x34739b(0x258))[_0x34739b(0x413)](_0x34739b(0x354),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x34739b(0x4eb)](_0x34739b(0x5e8))['addEventListener'](_0x34739b(0x354),()=>{const _0x432805=_0x34739b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x432805(0x559));}),document['getElementById']('back-to-dashboard-from-results-btn')['addEventListener'](_0x34739b(0x354),()=>{showView('admin-dashboard');}),document[_0x34739b(0x4eb)](_0x34739b(0x140))['addEventListener'](_0x34739b(0x354),()=>messageModal[_0x34739b(0x200)][_0x34739b(0x57b)](_0x34739b(0x4c1))),document[_0x34739b(0x4eb)](_0x34739b(0x67c))['addEventListener'](_0x34739b(0x354),()=>createProjectModal[_0x34739b(0x200)][_0x34739b(0x1fd)](_0x34739b(0x4c1))),document['getElementById'](_0x34739b(0x2d7))[_0x34739b(0x413)]('click',()=>createProjectModal['classList']['add'](_0x34739b(0x4c1))),document[_0x34739b(0x4eb)](_0x34739b(0x5cd))[_0x34739b(0x413)](_0x34739b(0x354),()=>adminPasswordModal['classList'][_0x34739b(0x57b)](_0x34739b(0x4c1))),document[_0x34739b(0x4eb)](_0x34739b(0x345))[_0x34739b(0x413)](_0x34739b(0x354),handleAdminLogin),document[_0x34739b(0x4eb)](_0x34739b(0x136))[_0x34739b(0x413)]('keyup',_0x5b3cd2=>{const _0x1ad554=_0x34739b;if(_0x5b3cd2['key']===_0x1ad554(0x500))handleAdminLogin();}),document[_0x34739b(0x4eb)](_0x34739b(0x308))[_0x34739b(0x413)]('click',()=>{const _0x351467=_0x34739b;confirmationModal[_0x351467(0x200)][_0x351467(0x57b)]('hidden'),confirmAction=null;}),document[_0x34739b(0x4eb)](_0x34739b(0x1e2))[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x51dc5e=_0x34739b;confirmAction&&confirmAction(),confirmationModal[_0x51dc5e(0x200)][_0x51dc5e(0x57b)](_0x51dc5e(0x4c1)),confirmAction=null;}),document[_0x34739b(0x4eb)](_0x34739b(0x1a7))[_0x34739b(0x413)](_0x34739b(0x354),()=>renameQuizModal[_0x34739b(0x200)][_0x34739b(0x57b)]('hidden')),document['getElementById'](_0x34739b(0x54b))[_0x34739b(0x413)]('click',confirmRenameQuiz),document[_0x34739b(0x4eb)](_0x34739b(0x2b2))['addEventListener'](_0x34739b(0x354),()=>moveQuizModal[_0x34739b(0x200)]['add'](_0x34739b(0x4c1))),document[_0x34739b(0x4eb)](_0x34739b(0x58a))[_0x34739b(0x413)](_0x34739b(0x354),confirmMoveQuiz),document[_0x34739b(0x4eb)]('cancel-quiz-settings-btn')['addEventListener'](_0x34739b(0x354),()=>quizSettingsModal[_0x34739b(0x200)][_0x34739b(0x57b)](_0x34739b(0x4c1))),document['getElementById'](_0x34739b(0x139))[_0x34739b(0x413)](_0x34739b(0x354),confirmQuizSettings),document[_0x34739b(0x4eb)](_0x34739b(0x1ca))[_0x34739b(0x413)](_0x34739b(0x354),()=>quizStatusModal[_0x34739b(0x200)][_0x34739b(0x57b)](_0x34739b(0x4c1))),document[_0x34739b(0x4eb)]('confirm-quiz-status-btn')['addEventListener']('click',confirmQuizStatus),document[_0x34739b(0x4eb)](_0x34739b(0x273))[_0x34739b(0x413)](_0x34739b(0x354),openGlobalLiveModal),document[_0x34739b(0x4eb)](_0x34739b(0x28e))[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x30e5a8=_0x34739b;document[_0x30e5a8(0x4eb)](_0x30e5a8(0x35a))['classList'][_0x30e5a8(0x57b)]('hidden'),selectedGlobalQuizId=null;}),document[_0x34739b(0x4eb)](_0x34739b(0x161))[_0x34739b(0x413)]('input',_0x2267f2=>renderGlobalQuizList(_0x2267f2[_0x34739b(0x3b1)][_0x34739b(0x4d7)])),document[_0x34739b(0x4eb)]('confirm-global-live-btn')[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x53975b=_0x34739b,_0x5331d4=selectedGlobalQuizId;if(!_0x5331d4)return;document[_0x53975b(0x4eb)](_0x53975b(0x35a))['classList']['add']('hidden'),handleStartLiveRace(_0x5331d4);}),document[_0x34739b(0x4eb)]('project-search-input')['addEventListener'](_0x34739b(0x3de),renderProjects),document[_0x34739b(0x4eb)]('project-sort-select')[_0x34739b(0x413)]('change',renderProjects),document[_0x34739b(0x4eb)]('quiz-search-input')[_0x34739b(0x413)](_0x34739b(0x3de),renderQuizzes),manageTab['addEventListener'](_0x34739b(0x354),()=>switchProjectTab(_0x34739b(0x2fa))),resultsTab[_0x34739b(0x413)]('click',()=>switchProjectTab(_0x34739b(0x513))),leaderboardTab[_0x34739b(0x413)]('click',()=>switchProjectTab(_0x34739b(0x360))),document['getElementById'](_0x34739b(0x44e))['addEventListener'](_0x34739b(0x354),()=>switchQuizDetailTab(_0x34739b(0x2a5))),document[_0x34739b(0x4eb)](_0x34739b(0x572))[_0x34739b(0x413)](_0x34739b(0x354),()=>switchQuizDetailTab('scores')),document[_0x34739b(0x4eb)](_0x34739b(0x1e0))[_0x34739b(0x413)](_0x34739b(0x354),()=>switchQuizDetailTab(_0x34739b(0x60e))),document[_0x34739b(0x4eb)]('analyze-strengths-btn')[_0x34739b(0x413)](_0x34739b(0x354),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x49f7db=document[_0x34739b(0x4eb)](_0x34739b(0x1d1)),_0x5e5c9f=document['getElementById'](_0x34739b(0x29d)),_0x3a4635=document[_0x34739b(0x4eb)]('blueprint-tab'),_0x31b1d2=document[_0x34739b(0x4eb)](_0x34739b(0x421)),_0x5cddb1=document['getElementById'](_0x34739b(0x306)),_0x533463=document[_0x34739b(0x4eb)](_0x34739b(0x4ad));topicTab[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x16cea9=_0x34739b;topicTab['classList']['add'](_0x16cea9(0x553)),textTab[_0x16cea9(0x200)][_0x16cea9(0x1fd)]('active'),fileTab['classList']['remove'](_0x16cea9(0x553)),worksheetTab['classList'][_0x16cea9(0x1fd)](_0x16cea9(0x553));if(_0x49f7db)_0x49f7db[_0x16cea9(0x200)][_0x16cea9(0x1fd)](_0x16cea9(0x553));if(_0x3a4635)_0x3a4635[_0x16cea9(0x200)]['remove'](_0x16cea9(0x553));if(_0x5cddb1)_0x5cddb1[_0x16cea9(0x200)][_0x16cea9(0x1fd)](_0x16cea9(0x553));topicInputArea['classList'][_0x16cea9(0x1fd)](_0x16cea9(0x4c1)),textInputArea['classList']['add'](_0x16cea9(0x4c1)),fileInputArea['classList'][_0x16cea9(0x57b)]('hidden'),worksheetInputArea[_0x16cea9(0x200)]['add'](_0x16cea9(0x4c1));if(_0x5e5c9f)_0x5e5c9f[_0x16cea9(0x200)][_0x16cea9(0x57b)](_0x16cea9(0x4c1));if(_0x31b1d2)_0x31b1d2[_0x16cea9(0x200)][_0x16cea9(0x57b)](_0x16cea9(0x4c1));if(_0x533463)_0x533463['classList'][_0x16cea9(0x57b)](_0x16cea9(0x4c1));}),textTab['addEventListener'](_0x34739b(0x354),()=>{const _0x4bbe14=_0x34739b;textTab[_0x4bbe14(0x200)][_0x4bbe14(0x57b)](_0x4bbe14(0x553)),topicTab[_0x4bbe14(0x200)]['remove'](_0x4bbe14(0x553)),fileTab[_0x4bbe14(0x200)][_0x4bbe14(0x1fd)]('active'),worksheetTab[_0x4bbe14(0x200)]['remove'](_0x4bbe14(0x553));if(_0x49f7db)_0x49f7db['classList'][_0x4bbe14(0x1fd)](_0x4bbe14(0x553));if(_0x3a4635)_0x3a4635[_0x4bbe14(0x200)]['remove'](_0x4bbe14(0x553));if(_0x5cddb1)_0x5cddb1[_0x4bbe14(0x200)]['remove'](_0x4bbe14(0x553));textInputArea[_0x4bbe14(0x200)][_0x4bbe14(0x1fd)](_0x4bbe14(0x4c1)),topicInputArea[_0x4bbe14(0x200)][_0x4bbe14(0x57b)]('hidden'),fileInputArea[_0x4bbe14(0x200)]['add'](_0x4bbe14(0x4c1)),worksheetInputArea['classList'][_0x4bbe14(0x57b)]('hidden');if(_0x5e5c9f)_0x5e5c9f[_0x4bbe14(0x200)]['add'](_0x4bbe14(0x4c1));if(_0x31b1d2)_0x31b1d2['classList']['add']('hidden');if(_0x533463)_0x533463[_0x4bbe14(0x200)]['add'](_0x4bbe14(0x4c1));}),fileTab['addEventListener']('click',()=>{const _0x846a1c=_0x34739b;fileTab['classList'][_0x846a1c(0x57b)](_0x846a1c(0x553)),topicTab[_0x846a1c(0x200)][_0x846a1c(0x1fd)]('active'),textTab[_0x846a1c(0x200)]['remove'](_0x846a1c(0x553)),worksheetTab[_0x846a1c(0x200)][_0x846a1c(0x1fd)]('active');if(_0x49f7db)_0x49f7db[_0x846a1c(0x200)][_0x846a1c(0x1fd)]('active');if(_0x3a4635)_0x3a4635[_0x846a1c(0x200)][_0x846a1c(0x1fd)]('active');if(_0x5cddb1)_0x5cddb1[_0x846a1c(0x200)][_0x846a1c(0x1fd)](_0x846a1c(0x553));fileInputArea[_0x846a1c(0x200)][_0x846a1c(0x1fd)](_0x846a1c(0x4c1)),topicInputArea[_0x846a1c(0x200)][_0x846a1c(0x57b)](_0x846a1c(0x4c1)),textInputArea[_0x846a1c(0x200)]['add'](_0x846a1c(0x4c1)),worksheetInputArea['classList'][_0x846a1c(0x57b)]('hidden');if(_0x5e5c9f)_0x5e5c9f['classList'][_0x846a1c(0x57b)](_0x846a1c(0x4c1));if(_0x31b1d2)_0x31b1d2['classList'][_0x846a1c(0x57b)](_0x846a1c(0x4c1));if(_0x533463)_0x533463['classList'][_0x846a1c(0x57b)](_0x846a1c(0x4c1));}),worksheetTab['addEventListener'](_0x34739b(0x354),()=>{const _0x2c3f79=_0x34739b;worksheetTab[_0x2c3f79(0x200)][_0x2c3f79(0x57b)](_0x2c3f79(0x553)),topicTab[_0x2c3f79(0x200)]['remove'](_0x2c3f79(0x553)),textTab[_0x2c3f79(0x200)]['remove']('active'),fileTab[_0x2c3f79(0x200)][_0x2c3f79(0x1fd)](_0x2c3f79(0x553));if(_0x49f7db)_0x49f7db[_0x2c3f79(0x200)][_0x2c3f79(0x1fd)]('active');if(_0x3a4635)_0x3a4635[_0x2c3f79(0x200)][_0x2c3f79(0x1fd)]('active');if(_0x5cddb1)_0x5cddb1[_0x2c3f79(0x200)][_0x2c3f79(0x1fd)](_0x2c3f79(0x553));worksheetInputArea[_0x2c3f79(0x200)]['remove'](_0x2c3f79(0x4c1)),topicInputArea[_0x2c3f79(0x200)][_0x2c3f79(0x57b)](_0x2c3f79(0x4c1)),textInputArea[_0x2c3f79(0x200)][_0x2c3f79(0x57b)](_0x2c3f79(0x4c1)),fileInputArea[_0x2c3f79(0x200)]['add'](_0x2c3f79(0x4c1));if(_0x5e5c9f)_0x5e5c9f[_0x2c3f79(0x200)][_0x2c3f79(0x57b)](_0x2c3f79(0x4c1));if(_0x31b1d2)_0x31b1d2[_0x2c3f79(0x200)][_0x2c3f79(0x57b)](_0x2c3f79(0x4c1));if(_0x533463)_0x533463[_0x2c3f79(0x200)][_0x2c3f79(0x57b)](_0x2c3f79(0x4c1));});const _0x514a8f=document[_0x34739b(0x4eb)]('bank-tab'),_0xb868d5=document[_0x34739b(0x4eb)](_0x34739b(0x438));_0x514a8f&&_0x514a8f[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x3becc1=_0x34739b;topicTab[_0x3becc1(0x200)][_0x3becc1(0x1fd)](_0x3becc1(0x553)),textTab[_0x3becc1(0x200)][_0x3becc1(0x1fd)]('active'),fileTab['classList']['remove'](_0x3becc1(0x553)),worksheetTab['classList']['remove'](_0x3becc1(0x553));if(_0x49f7db)_0x49f7db[_0x3becc1(0x200)][_0x3becc1(0x1fd)](_0x3becc1(0x553));if(_0x3a4635)_0x3a4635[_0x3becc1(0x200)][_0x3becc1(0x1fd)]('active');if(_0x5cddb1)_0x5cddb1['classList'][_0x3becc1(0x1fd)](_0x3becc1(0x553));_0x514a8f[_0x3becc1(0x200)][_0x3becc1(0x57b)](_0x3becc1(0x553)),topicInputArea[_0x3becc1(0x200)][_0x3becc1(0x57b)](_0x3becc1(0x4c1)),textInputArea['classList'][_0x3becc1(0x57b)]('hidden'),fileInputArea['classList'][_0x3becc1(0x57b)]('hidden'),worksheetInputArea[_0x3becc1(0x200)][_0x3becc1(0x57b)](_0x3becc1(0x4c1));if(_0x5e5c9f)_0x5e5c9f[_0x3becc1(0x200)][_0x3becc1(0x57b)](_0x3becc1(0x4c1));if(_0x31b1d2)_0x31b1d2[_0x3becc1(0x200)][_0x3becc1(0x57b)]('hidden');if(_0x533463)_0x533463[_0x3becc1(0x200)][_0x3becc1(0x57b)]('hidden');_0xb868d5['classList'][_0x3becc1(0x1fd)]('hidden'),displayQuestionBank();});_0x49f7db&&(_0x49f7db[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x30b318=_0x34739b;_0x49f7db['classList'][_0x30b318(0x57b)]('active'),topicTab[_0x30b318(0x200)]['remove'](_0x30b318(0x553)),textTab[_0x30b318(0x200)][_0x30b318(0x1fd)](_0x30b318(0x553)),fileTab['classList'][_0x30b318(0x1fd)](_0x30b318(0x553)),worksheetTab['classList'][_0x30b318(0x1fd)](_0x30b318(0x553));if(_0x3a4635)_0x3a4635['classList'][_0x30b318(0x1fd)](_0x30b318(0x553));if(_0x5cddb1)_0x5cddb1[_0x30b318(0x200)][_0x30b318(0x1fd)](_0x30b318(0x553));_0x5e5c9f[_0x30b318(0x200)][_0x30b318(0x1fd)]('hidden'),topicInputArea[_0x30b318(0x200)][_0x30b318(0x57b)](_0x30b318(0x4c1)),textInputArea[_0x30b318(0x200)]['add']('hidden'),fileInputArea[_0x30b318(0x200)][_0x30b318(0x57b)](_0x30b318(0x4c1)),worksheetInputArea[_0x30b318(0x200)]['add'](_0x30b318(0x4c1));if(_0x31b1d2)_0x31b1d2[_0x30b318(0x200)][_0x30b318(0x57b)](_0x30b318(0x4c1));if(_0x533463)_0x533463[_0x30b318(0x200)][_0x30b318(0x57b)](_0x30b318(0x4c1));}),document[_0x34739b(0x4eb)](_0x34739b(0x305))['addEventListener'](_0x34739b(0x354),handleGenerateFromLink));_0x3a4635&&_0x3a4635[_0x34739b(0x413)]('click',()=>{const _0x4bd425=_0x34739b;_0x3a4635[_0x4bd425(0x200)][_0x4bd425(0x57b)]('active'),topicTab[_0x4bd425(0x200)][_0x4bd425(0x1fd)](_0x4bd425(0x553)),textTab[_0x4bd425(0x200)][_0x4bd425(0x1fd)](_0x4bd425(0x553)),fileTab['classList']['remove'](_0x4bd425(0x553)),worksheetTab['classList'][_0x4bd425(0x1fd)](_0x4bd425(0x553));if(_0x49f7db)_0x49f7db['classList'][_0x4bd425(0x1fd)]('active');if(_0x514a8f)_0x514a8f[_0x4bd425(0x200)][_0x4bd425(0x1fd)](_0x4bd425(0x553));if(_0x5cddb1)_0x5cddb1[_0x4bd425(0x200)]['remove'](_0x4bd425(0x553));_0x31b1d2[_0x4bd425(0x200)][_0x4bd425(0x1fd)](_0x4bd425(0x4c1)),topicInputArea['classList'][_0x4bd425(0x57b)]('hidden'),textInputArea[_0x4bd425(0x200)][_0x4bd425(0x57b)](_0x4bd425(0x4c1)),fileInputArea['classList'][_0x4bd425(0x57b)](_0x4bd425(0x4c1)),worksheetInputArea[_0x4bd425(0x200)][_0x4bd425(0x57b)](_0x4bd425(0x4c1));if(_0x5e5c9f)_0x5e5c9f[_0x4bd425(0x200)][_0x4bd425(0x57b)](_0x4bd425(0x4c1));if(_0xb868d5)_0xb868d5['classList']['add'](_0x4bd425(0x4c1));if(_0x533463)_0x533463['classList'][_0x4bd425(0x57b)](_0x4bd425(0x4c1));});_0x5cddb1&&_0x5cddb1['addEventListener']('click',()=>{const _0x2bfc3f=_0x34739b;_0x5cddb1[_0x2bfc3f(0x200)]['add'](_0x2bfc3f(0x553)),topicTab['classList'][_0x2bfc3f(0x1fd)](_0x2bfc3f(0x553)),textTab[_0x2bfc3f(0x200)]['remove'](_0x2bfc3f(0x553)),fileTab[_0x2bfc3f(0x200)][_0x2bfc3f(0x1fd)]('active'),worksheetTab[_0x2bfc3f(0x200)][_0x2bfc3f(0x1fd)]('active');if(_0x49f7db)_0x49f7db['classList'][_0x2bfc3f(0x1fd)](_0x2bfc3f(0x553));if(_0x3a4635)_0x3a4635[_0x2bfc3f(0x200)][_0x2bfc3f(0x1fd)](_0x2bfc3f(0x553));if(_0x514a8f)_0x514a8f[_0x2bfc3f(0x200)][_0x2bfc3f(0x1fd)](_0x2bfc3f(0x553));_0x533463['classList'][_0x2bfc3f(0x1fd)](_0x2bfc3f(0x4c1)),topicInputArea[_0x2bfc3f(0x200)][_0x2bfc3f(0x57b)](_0x2bfc3f(0x4c1)),textInputArea[_0x2bfc3f(0x200)]['add'](_0x2bfc3f(0x4c1)),fileInputArea[_0x2bfc3f(0x200)][_0x2bfc3f(0x57b)](_0x2bfc3f(0x4c1)),worksheetInputArea[_0x2bfc3f(0x200)][_0x2bfc3f(0x57b)](_0x2bfc3f(0x4c1));if(_0x5e5c9f)_0x5e5c9f[_0x2bfc3f(0x200)][_0x2bfc3f(0x57b)]('hidden');if(_0x31b1d2)_0x31b1d2[_0x2bfc3f(0x200)][_0x2bfc3f(0x57b)](_0x2bfc3f(0x4c1));if(_0xb868d5)_0xb868d5[_0x2bfc3f(0x200)][_0x2bfc3f(0x57b)]('hidden');});const _0x597bec=document[_0x34739b(0x4eb)](_0x34739b(0x349)),_0x31aae4=document[_0x34739b(0x4eb)](_0x34739b(0x591));_0x597bec&&_0x597bec[_0x34739b(0x413)](_0x34739b(0x31b),_0x2b6847=>{const _0x305a3a=_0x34739b;_0x2b6847['target']['files'][_0x305a3a(0x665)]>0x0?_0x31aae4[_0x305a3a(0x5cb)]=![]:_0x31aae4[_0x305a3a(0x5cb)]=!![];});_0x31aae4&&_0x31aae4['addEventListener'](_0x34739b(0x354),handleGenerateFromBlueprint);const _0x30de84=document[_0x34739b(0x4eb)](_0x34739b(0x534)),_0x194e02=document[_0x34739b(0x4eb)]('generate-from-parallel-test-btn');_0x30de84&&_0x30de84['addEventListener'](_0x34739b(0x31b),_0x2080a6=>{const _0x5714b3=_0x34739b;_0x194e02[_0x5714b3(0x5cb)]=_0x2080a6[_0x5714b3(0x3b1)][_0x5714b3(0x3df)]['length']===0x0;});_0x194e02&&_0x194e02['addEventListener'](_0x34739b(0x354),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x34739b(0x354),handleLoadQuiz),startQuizBtn[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x116093=_0x34739b,_0x231986=document[_0x116093(0x4eb)](_0x116093(0x30c));currentStudentName=_0x231986[_0x116093(0x4d7)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}studentNameSelectionView[_0x116093(0x200)]['add'](_0x116093(0x4c1)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x34739b(0x4eb)](_0x34739b(0x386))[_0x34739b(0x413)]('click',showJoinGameView),document[_0x34739b(0x4eb)](_0x34739b(0x58e))['addEventListener'](_0x34739b(0x354),handleJoinLiveGame),document[_0x34739b(0x4eb)]('back-to-student-initial-btn')[_0x34739b(0x413)](_0x34739b(0x354),()=>showView(_0x34739b(0x322)));const _0x2814e7=()=>{const _0x209d97=_0x34739b,_0x4fa196=document[_0x209d97(0x4eb)](_0x209d97(0x176))[_0x209d97(0x3cd)][_0x209d97(0x235)](/[^a-z0-9]/gi,'_')[_0x209d97(0x177)]();return'results_'+(_0x4fa196||_0x209d97(0x47b));},_0x429033=document['getElementById'](_0x34739b(0x45a));_0x429033&&_0x429033['addEventListener'](_0x34739b(0x3de),_0x332ccc=>{const _0x2c05d0=_0x34739b,_0x810f4f=_0x332ccc[_0x2c05d0(0x3b1)][_0x2c05d0(0x4d7)][_0x2c05d0(0x177)]()[_0x2c05d0(0xfd)](),_0x1cf1fb=document[_0x2c05d0(0x4eb)](_0x2c05d0(0x5e2)),_0x41f932=_0x1cf1fb[_0x2c05d0(0x574)](_0x2c05d0(0x105));_0x41f932[_0x2c05d0(0x5bc)](_0x3da243=>{const _0x57aac4=_0x2c05d0;let _0xf0ca10=![];const _0x28a8cb=_0x3da243['querySelectorAll'](_0x57aac4(0x15d));_0x28a8cb[_0x57aac4(0x5bc)](_0x3ce558=>{const _0x3e5847=_0x57aac4,_0x1c9977=_0x3ce558[_0x3e5847(0x2ad)](_0x3e5847(0x44f))['textContent'][_0x3e5847(0x177)]();_0x1c9977[_0x3e5847(0x592)](_0x810f4f)?(_0x3ce558['style'][_0x3e5847(0x32c)]='flex',_0xf0ca10=!![]):_0x3ce558['style']['display']=_0x3e5847(0x364);}),_0xf0ca10?_0x3da243['style'][_0x57aac4(0x32c)]=_0x57aac4(0x443):_0x3da243['style'][_0x57aac4(0x32c)]=_0x57aac4(0x364);});});document[_0x34739b(0x4eb)](_0x34739b(0x14b))[_0x34739b(0x413)]('click',()=>exportTableAsImage(_0x34739b(0x141),_0x2814e7())),document['getElementById'](_0x34739b(0x257))[_0x34739b(0x413)](_0x34739b(0x354),()=>exportTableAsPDF(_0x34739b(0x46e),_0x2814e7())),document[_0x34739b(0x4eb)](_0x34739b(0x545))[_0x34739b(0x413)](_0x34739b(0x354),()=>exportTableAsWord(_0x34739b(0x141),_0x2814e7())),document[_0x34739b(0x4eb)](_0x34739b(0x3f1))[_0x34739b(0x413)]('click',()=>exportTableAsExcel(_0x34739b(0x46e),_0x2814e7()));const _0x70f74c=()=>{const _0x3dc2a6=_0x34739b,_0x4a4a78=document[_0x3dc2a6(0x4eb)](_0x3dc2a6(0x176))[_0x3dc2a6(0x3cd)][_0x3dc2a6(0x235)](/[^a-z0-9]/gi,'_')[_0x3dc2a6(0x177)]();return _0x3dc2a6(0x287)+(_0x4a4a78||'quiz');};document[_0x34739b(0x4eb)]('export-leaderboard-image-btn')[_0x34739b(0x413)](_0x34739b(0x354),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x70f74c())),document[_0x34739b(0x4eb)]('export-leaderboard-pdf-btn')['addEventListener'](_0x34739b(0x354),()=>exportTableAsPDF(_0x34739b(0x597),_0x70f74c())),document[_0x34739b(0x4eb)](_0x34739b(0x4b8))[_0x34739b(0x413)](_0x34739b(0x354),()=>exportTableAsWord(_0x34739b(0x381),_0x70f74c())),document[_0x34739b(0x4eb)](_0x34739b(0x3f5))[_0x34739b(0x413)](_0x34739b(0x354),()=>exportTableAsExcel(_0x34739b(0x597),_0x70f74c())),projectQuizzesList['addEventListener'](_0x34739b(0x354),async _0x5ba653=>{const _0x58ae45=_0x34739b,_0x11b567=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)](_0x58ae45(0x11c)),_0x551082=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)](_0x58ae45(0x2f7)),_0x325c26=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)]('.copy-quiz-id-list-btn'),_0x425296=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)](_0x58ae45(0x18b)),_0x514d61=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)]('.admin-try-quiz-list-btn'),_0x21332b=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)](_0x58ae45(0x64e)),_0x279e64=_0x5ba653['target'][_0x58ae45(0x334)]('.move-quiz-btn'),_0x570bb0=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)]('.quiz-settings-btn'),_0x34d4bd=_0x5ba653['target']['closest'](_0x58ae45(0x58f)),_0x39dbdb=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)]('.duplicate-quiz-btn'),_0x3bd37e=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)]('.start-live-race-btn'),_0x7ca35=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)](_0x58ae45(0x14e)),_0x3fe9cc=_0x5ba653[_0x58ae45(0x3b1)][_0x58ae45(0x334)]('.parallel-quiz-btn');if(_0x7ca35){const _0x285d43=_0x7ca35['dataset'][_0x58ae45(0x61e)];handleOpenQuizEditor(_0x285d43);}else{if(_0x3fe9cc){const _0xa4f65c=_0x3fe9cc[_0x58ae45(0x3b5)][_0x58ae45(0x61e)],_0x513162=allQuizzes[_0x58ae45(0x298)](_0xc3c260=>_0xc3c260['id']===_0xa4f65c);_0x513162?handleGenerateParallelFromBank(_0x513162):showMessage(_0x58ae45(0x13d));}else{if(_0x11b567){const _0x506fd4=_0x11b567[_0x58ae45(0x3b5)]['quizId'];handleToggleStarQuiz(_0x506fd4);}else{if(_0x3bd37e){const _0x13d70a=_0x3bd37e[_0x58ae45(0x3b5)][_0x58ae45(0x61e)];handleStartLiveRace(_0x13d70a);}else{if(_0x551082){const _0x2867a0=_0x551082[_0x58ae45(0x3b5)]['quizId'],_0x39b1ae=_0x551082['dataset'][_0x58ae45(0x453)];showConfirmation(_0x58ae45(0x479)+_0x39b1ae+_0x58ae45(0x4a0),()=>handleDeleteQuiz(_0x2867a0));}else{if(_0x325c26){const _0x6e2a06=_0x325c26[_0x58ae45(0x3b5)]['quizId'];copyTextToClipboard(_0x6e2a06,_0x58ae45(0x456));}else{if(_0x425296){const _0x34c30e=_0x425296['dataset']['quizId'],_0xb4d52=doc(db,_0x58ae45(0x21f)+appId+_0x58ae45(0x46a),_0x34c30e),_0x4743b1=await getDoc(_0xb4d52);if(_0x4743b1[_0x58ae45(0x10e)]()){const _0x4c8de6={'id':_0x4743b1['id'],..._0x4743b1[_0x58ae45(0x67a)]()};startPresentation(_0x4c8de6);}else showMessage(_0x58ae45(0x13d));}else{if(_0x514d61){const _0xae84e=_0x514d61[_0x58ae45(0x3b5)][_0x58ae45(0x61e)],_0x19f5e2=doc(db,_0x58ae45(0x21f)+appId+_0x58ae45(0x46a),_0xae84e),_0x36ceef=await getDoc(_0x19f5e2);_0x36ceef['exists']()?(currentQuizData={'id':_0x36ceef['id'],..._0x36ceef[_0x58ae45(0x67a)]()},startAdminTest()):showMessage(_0x58ae45(0x13d));}else{if(_0x21332b){const _0x4dd4fe=_0x21332b[_0x58ae45(0x3b5)][_0x58ae45(0x61e)],_0x1ff501=_0x21332b[_0x58ae45(0x3b5)]['topic'];handleRenameQuiz(_0x4dd4fe,_0x1ff501);}else{if(_0x279e64){const _0x2605b5=_0x279e64['dataset'][_0x58ae45(0x61e)];handleMoveQuiz(_0x2605b5);}else{if(_0x570bb0){const _0x40bc96=_0x570bb0[_0x58ae45(0x3b5)]['quizId'];handleQuizSettings(_0x40bc96);}else{if(_0x34d4bd){const _0x294531=_0x34d4bd[_0x58ae45(0x3b5)][_0x58ae45(0x61e)];handleQuizStatus(_0x294531);}else{if(_0x39dbdb){const _0x1e83e4=_0x39dbdb[_0x58ae45(0x3b5)][_0x58ae45(0x61e)];handleDuplicateQuiz(_0x1e83e4);}}}}}}}}}}}}}}),document[_0x34739b(0x4eb)](_0x34739b(0x597))['querySelector'](_0x34739b(0x561))[_0x34739b(0x413)](_0x34739b(0x354),_0x1a7a7b=>{const _0x421193=_0x34739b,_0x560767=_0x1a7a7b['target'][_0x421193(0x334)]('.sortable-header');if(!_0x560767||!_0x560767[_0x421193(0x3b5)][_0x421193(0x328)])return;const _0x46be0f=_0x560767[_0x421193(0x3b5)][_0x421193(0x328)];if(quizLeaderboardSortBy===_0x46be0f)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?'desc':_0x421193(0x49c);else{quizLeaderboardSortBy=_0x46be0f;const _0x31ece3=[_0x421193(0x2eb)];quizLeaderboardSortOrder=_0x31ece3[_0x421193(0x592)](_0x46be0f)?_0x421193(0x49c):_0x421193(0x2fe);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x421193(0x467));}),document[_0x34739b(0x4eb)]('close-presentation-btn')[_0x34739b(0x413)](_0x34739b(0x354),closePresentation),document[_0x34739b(0x4eb)](_0x34739b(0x5d5))[_0x34739b(0x413)](_0x34739b(0x354),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x34739b(0x4eb)](_0x34739b(0x47d))[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x5627fa=_0x34739b;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x5627fa(0x27f)][_0x5627fa(0x665)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x34739b(0x413)]('fullscreenchange',()=>{const _0x2c55bb=_0x34739b;!document[_0x2c55bb(0x43d)]&&(presentationModal[_0x2c55bb(0x262)]['display']=_0x2c55bb(0x364));}),document['getElementById'](_0x34739b(0x50f))[_0x34739b(0x413)](_0x34739b(0x354),handleDeleteAllStudents),studentList[_0x34739b(0x413)](_0x34739b(0x354),_0x408dc7=>{const _0x416221=_0x34739b,_0x504321=_0x408dc7[_0x416221(0x3b1)][_0x416221(0x334)](_0x416221(0x11d));if(_0x504321){const _0x5cc3dd=_0x504321[_0x416221(0x3b5)][_0x416221(0x2eb)];handleDeleteStudent(_0x5cc3dd);}}),document[_0x34739b(0x4eb)](_0x34739b(0x143))[_0x34739b(0x413)]('click',handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x34739b(0x31b),_0x40e08d=>{const _0x54b19f=_0x34739b,_0x4aae0b=_0x40e08d[_0x54b19f(0x3b1)]['files'][0x0],_0x4abb21=document[_0x54b19f(0x4eb)](_0x54b19f(0x143));_0x4aae0b?(selectedFile=_0x4aae0b,_0x4abb21[_0x54b19f(0x5cb)]=![]):(selectedFile=null,_0x4abb21[_0x54b19f(0x5cb)]=!![]);}),document[_0x34739b(0x4eb)](_0x34739b(0x4db))[_0x34739b(0x413)](_0x34739b(0x31b),_0x2e85db=>{const _0xe96a3b=_0x34739b,_0x35ba14=document[_0xe96a3b(0x4eb)](_0xe96a3b(0x558)),_0x43150c=document[_0xe96a3b(0x4eb)](_0xe96a3b(0x444)),_0x4eb91a=document[_0xe96a3b(0x4eb)](_0xe96a3b(0x204));_0x2e85db[_0xe96a3b(0x3b1)][_0xe96a3b(0x4d7)]===_0xe96a3b(0x364)?_0x35ba14[_0xe96a3b(0x200)][_0xe96a3b(0x57b)](_0xe96a3b(0x4c1)):(_0x35ba14[_0xe96a3b(0x200)][_0xe96a3b(0x1fd)](_0xe96a3b(0x4c1)),_0x2e85db['target'][_0xe96a3b(0x4d7)]===_0xe96a3b(0x5f5)?(_0x43150c['textContent']=_0xe96a3b(0x1dd),_0x4eb91a[_0xe96a3b(0x4d7)]='10'):(_0x43150c[_0xe96a3b(0x3cd)]='ระยะเวลา\x20(วินาที):',_0x4eb91a[_0xe96a3b(0x4d7)]='30'));}),document[_0x34739b(0x4eb)](_0x34739b(0xee))[_0x34739b(0x413)](_0x34739b(0x31b),_0x5d54a5=>{const _0x14a704=_0x34739b,_0x44a8ca=document[_0x14a704(0x4eb)]('num-choices-container'),_0x2fd139=_0x5d54a5[_0x14a704(0x3b1)][_0x14a704(0x4d7)],_0xcdfa5c=document[_0x14a704(0x2ad)]('label[for=\x22num-questions\x22]'),_0x30bd32=document[_0x14a704(0x4eb)]('passing-score-input'),_0x3f3ce3=document[_0x14a704(0x4eb)]('num-questions');_0x2fd139==='matching'?_0xcdfa5c[_0x14a704(0x3cd)]=_0x14a704(0x484):_0xcdfa5c[_0x14a704(0x3cd)]=_0x14a704(0x4b3),_0x2fd139===_0x14a704(0xfa)||_0x2fd139===_0x14a704(0x2b4)||_0x2fd139==='mixed'?_0x44a8ca[_0x14a704(0x200)][_0x14a704(0x1fd)](_0x14a704(0x4c1)):_0x44a8ca[_0x14a704(0x200)][_0x14a704(0x57b)](_0x14a704(0x4c1)),_0x30bd32[_0x14a704(0x641)]=_0x3f3ce3['value'];}),document['getElementById'](_0x34739b(0x178))['addEventListener']('input',_0x137602=>{const _0x419eb8=_0x34739b;document[_0x419eb8(0x4eb)](_0x419eb8(0x501))[_0x419eb8(0x641)]=_0x137602['target'][_0x419eb8(0x4d7)];}),document['getElementById'](_0x34739b(0x5c9))['addEventListener'](_0x34739b(0x31b),_0x4a7e61=>{const _0x393678=_0x34739b,_0x2c7211=document[_0x393678(0x4eb)](_0x393678(0x555)),_0x508a7c=document[_0x393678(0x4eb)](_0x393678(0x325)),_0x379aa5=document[_0x393678(0x4eb)](_0x393678(0x621));_0x4a7e61[_0x393678(0x3b1)][_0x393678(0x4d7)]===_0x393678(0x364)?_0x2c7211[_0x393678(0x200)][_0x393678(0x57b)](_0x393678(0x4c1)):(_0x2c7211[_0x393678(0x200)]['remove'](_0x393678(0x4c1)),_0x4a7e61[_0x393678(0x3b1)][_0x393678(0x4d7)]===_0x393678(0x5f5)?_0x508a7c['textContent']=_0x393678(0x1dd):_0x508a7c[_0x393678(0x3cd)]='ระยะเวลา\x20(วินาที):');}),document[_0x34739b(0x4eb)]('cancel-quiz-edits-btn')[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x247697=_0x34739b;document[_0x247697(0x4eb)](_0x247697(0x497))[_0x247697(0x200)][_0x247697(0x57b)](_0x247697(0x4c1));}),document[_0x34739b(0x4eb)](_0x34739b(0x29a))['addEventListener'](_0x34739b(0x354),()=>{const _0x19cb94=_0x34739b;document[_0x19cb94(0x4eb)](_0x19cb94(0x497))['classList'][_0x19cb94(0x57b)]('hidden');}),document[_0x34739b(0x4eb)](_0x34739b(0x493))['addEventListener'](_0x34739b(0x354),()=>{const _0x15a06c=_0x34739b;document[_0x15a06c(0x4eb)](_0x15a06c(0x497))[_0x15a06c(0x200)][_0x15a06c(0x57b)](_0x15a06c(0x4c1)),showConfirmation(_0x15a06c(0x420),handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')[_0x34739b(0x413)](_0x34739b(0x354),handleAutoFixLatex);const _0x12c842=document[_0x34739b(0x4eb)](_0x34739b(0x4a1));_0x12c842&&_0x12c842[_0x34739b(0x413)](_0x34739b(0x354),_0x43849e=>{const _0x38cf15=_0x34739b,_0x464c24=_0x43849e['target'][_0x38cf15(0x334)]('.regenerate-question-editor-btn');if(_0x464c24){const _0x54d444=_0x464c24[_0x38cf15(0x334)]('.question-editor-item'),_0x299c3d=parseInt(_0x54d444[_0x38cf15(0x3b5)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x299c3d);}});document[_0x34739b(0x4eb)](_0x34739b(0x2c9))[_0x34739b(0x413)]('click',openQuizBankModal),document[_0x34739b(0x4eb)]('cancel-quiz-bank-btn')[_0x34739b(0x413)](_0x34739b(0x354),()=>{const _0x4cac78=_0x34739b;document['getElementById'](_0x4cac78(0x41c))['classList']['add'](_0x4cac78(0x4c1));}),document[_0x34739b(0x4eb)](_0x34739b(0x3aa))[_0x34739b(0x413)](_0x34739b(0x3de),_0x18d0c6=>renderQuizBankList(_0x18d0c6[_0x34739b(0x3b1)][_0x34739b(0x4d7)]));const _0xddc573=document[_0x34739b(0x4eb)](_0x34739b(0x5e2));if(_0xddc573){let _0x55d07b=null;_0xddc573[_0x34739b(0x413)](_0x34739b(0x354),_0x51d5f3=>{const _0xfb1c66=_0x34739b,_0x21a95c=_0x51d5f3[_0xfb1c66(0x3b1)],_0x245870=_0x21a95c[_0xfb1c66(0x334)](_0xfb1c66(0xd2)),_0x139261=_0x21a95c['closest'](_0xfb1c66(0x279)),_0x1a0158=_0x21a95c[_0xfb1c66(0x334)]('.save-custom-topic-btn'),_0x1e9be4=_0x21a95c[_0xfb1c66(0x334)](_0xfb1c66(0x1c3));if(_0x139261){_0x51d5f3[_0xfb1c66(0x2bf)]();const _0x394664=_0x139261[_0xfb1c66(0x3b5)]['id'],_0x3b0a86=_0x139261['closest'](_0xfb1c66(0x238))[_0xfb1c66(0x2ad)]('.topic-name-display')[_0xfb1c66(0x3cd)];showConfirmation(_0xfb1c66(0x293)+_0x3b0a86+'\x22?',()=>handleDeleteCustomTopic(_0x394664));}else{if(_0x245870){_0x51d5f3['preventDefault']();_0x55d07b&&toggleTopicEditMode(_0x55d07b,![]);const _0x49f528=_0x245870[_0xfb1c66(0x334)](_0xfb1c66(0x23f));_0x55d07b=_0x49f528,toggleTopicEditMode(_0x49f528,!![]);}else{if(_0x1a0158){_0x51d5f3[_0xfb1c66(0x2bf)]();const _0x3dece7=_0x1a0158[_0xfb1c66(0x3b5)]['id'],_0x3a5d1b=_0x1a0158[_0xfb1c66(0x334)](_0xfb1c66(0x23f)),_0x1afe55=_0x3a5d1b['querySelector'](_0xfb1c66(0x565))[_0xfb1c66(0x4d7)];handleUpdateCustomTopic(_0x3dece7,_0x1afe55),_0x55d07b=null;}else{if(_0x1e9be4){_0x51d5f3[_0xfb1c66(0x2bf)]();const _0x4bdf20=_0x1e9be4[_0xfb1c66(0x334)](_0xfb1c66(0x23f));toggleTopicEditMode(_0x4bdf20,![]),_0x55d07b=null;}}}}});}}async function extractTextFromPdf(_0x3999be){const _0x271a29=_0x52e79a;pdfjsLib[_0x271a29(0x598)][_0x271a29(0x2d6)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x3b3e43=await _0x3999be['arrayBuffer'](),_0xf06ac1=await pdfjsLib[_0x271a29(0x260)](_0x3b3e43)[_0x271a29(0x1a6)],_0x203e16=_0xf06ac1[_0x271a29(0x392)];let _0x2d8a61='';for(let _0x3d4a92=0x1;_0x3d4a92<=_0x203e16;_0x3d4a92++){const _0x1c4f6d=await _0xf06ac1[_0x271a29(0x4f0)](_0x3d4a92),_0x5c10d7=await _0x1c4f6d['getTextContent'](),_0x14b53a=_0x5c10d7['items'][_0x271a29(0x2ce)](_0x2e3a70=>_0x2e3a70[_0x271a29(0x231)])[_0x271a29(0x42d)]('\x20');_0x2d8a61+=_0x14b53a+'\x0a\x0a';}return _0x2d8a61;}async function handleGenerateFromBlueprint(){const _0x54c4d6=_0x52e79a,_0x295bb6=document[_0x54c4d6(0x4eb)](_0x54c4d6(0x349)),_0x19fcd8=document['getElementById'](_0x54c4d6(0x661)),_0x4b0adb=_0x295bb6[_0x54c4d6(0x3df)][0x0],_0x5196f3=_0x19fcd8[_0x54c4d6(0x3df)][_0x54c4d6(0x665)]>0x0?_0x19fcd8[_0x54c4d6(0x3df)][0x0]:null;if(!_0x4b0adb){showMessage(_0x54c4d6(0x3ff));return;}const _0x3374aa=document[_0x54c4d6(0x4eb)](_0x54c4d6(0x46b)),_0x2fe69c=document['getElementById'](_0x54c4d6(0x3c5)),_0x47737a=document[_0x54c4d6(0x4eb)](_0x54c4d6(0x11f)),_0x1b069e=document[_0x54c4d6(0x4eb)](_0x54c4d6(0x591));_0x1b069e[_0x54c4d6(0x5cb)]=!![],document[_0x54c4d6(0x4eb)](_0x54c4d6(0x2d0))[_0x54c4d6(0x200)][_0x54c4d6(0x1fd)](_0x54c4d6(0x4c1)),_0x47737a[_0x54c4d6(0xeb)]='',_0x3374aa[_0x54c4d6(0x200)][_0x54c4d6(0x1fd)]('hidden');try{_0x2fe69c[_0x54c4d6(0x3cd)]=_0x54c4d6(0x1b3);const _0x2b1e72=await extractTextFromPdf(_0x4b0adb);if(!_0x2b1e72['trim']())throw new Error(_0x54c4d6(0x5ef));let _0x44bc36='';_0x5196f3&&(_0x2fe69c['textContent']=_0x54c4d6(0x468),_0x44bc36=await extractTextFromPdf(_0x5196f3));_0x2fe69c['textContent']='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x1968cc=document[_0x54c4d6(0x4eb)](_0x54c4d6(0x3bf))[_0x54c4d6(0x21b)],_0x36705b=_0x1968cc?_0x54c4d6(0x488):'',_0x540ea2=_0x44bc36?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44bc36+_0x54c4d6(0x4a4):'',_0x59ede8=_0x54c4d6(0x3b4)+(_0x44bc36?_0x54c4d6(0x27b):'')+_0x54c4d6(0x608)+_0x2b1e72+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x540ea2+_0x54c4d6(0x2c6)+_0x36705b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x54c4d6(0x509),_0x46ff05={'type':_0x54c4d6(0x12e),'properties':{'questionText':{'type':_0x54c4d6(0x27c)},'questionType':{'type':'STRING','enum':[_0x54c4d6(0xfa),_0x54c4d6(0x27d)]},'options':{'type':_0x54c4d6(0x38f),'items':{'type':_0x54c4d6(0x27c)}},'correctAnswerIndex':{'type':_0x54c4d6(0x42c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x54c4d6(0x27c)},'imageCode':{'type':_0x54c4d6(0x27c)}},'required':[_0x54c4d6(0x2cb),_0x54c4d6(0x23d),_0x54c4d6(0xd7)]},_0x24a5b2={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x54c4d6(0x38f),'items':_0x46ff05}},'required':[_0x54c4d6(0x453),_0x54c4d6(0x27f)]};await handleApiCall(_0x59ede8,_0x54c4d6(0x33d),_0x24a5b2);}catch(_0x1fb579){console[_0x54c4d6(0x567)]('Error\x20generating\x20from\x20blueprint:',_0x1fb579),showMessage(_0x54c4d6(0x275)+_0x1fb579['message']),_0x47737a['innerHTML']=_0x54c4d6(0x42e);}finally{_0x3374aa['classList'][_0x54c4d6(0x57b)](_0x54c4d6(0x4c1)),_0x1b069e[_0x54c4d6(0x5cb)]=![];}}async function handleGenerateParallelFromBank(_0x4a5fcd){const _0x4de02f=_0x52e79a,_0x55920f=document['getElementById'](_0x4de02f(0x46b)),_0x576789=document[_0x4de02f(0x4eb)](_0x4de02f(0x3c5)),_0x576c98=document[_0x4de02f(0x4eb)](_0x4de02f(0x11f)),_0x4ac002=document['getElementById'](_0x4de02f(0x2d0));showView('project-detail'),switchProjectTab(_0x4de02f(0x2fa)),_0x4ac002['classList'][_0x4de02f(0x1fd)]('hidden'),_0x576c98[_0x4de02f(0xeb)]='',_0x55920f[_0x4de02f(0x200)][_0x4de02f(0x1fd)](_0x4de02f(0x4c1)),_0x576789[_0x4de02f(0x3cd)]=_0x4de02f(0x39a)+_0x4a5fcd[_0x4de02f(0x453)]+'\x22...';try{const _0x2dd0de=_0x4a5fcd[_0x4de02f(0x27f)][_0x4de02f(0x2ce)]((_0x25834f,_0x134d1c)=>{const _0x569298=_0x4de02f;let _0x14cb9a=_0x134d1c+0x1+'.\x20'+(_0x25834f[_0x569298(0x2cb)]||_0x25834f[_0x569298(0x55b)])+'\x0a';if(_0x25834f[_0x569298(0x5c5)])_0x14cb9a+=_0x25834f['options']['map']((_0x42b57b,_0x53b541)=>'\x20\x20\x20-\x20'+(_0x53b541===_0x25834f['correctAnswerIndex']?_0x569298(0x23a):'')+'\x20'+_0x42b57b)[_0x569298(0x42d)]('\x0a');else{if(_0x25834f[_0x569298(0x19a)])_0x14cb9a+=_0x569298(0x190)+_0x25834f['idealAnswer'];else _0x25834f['correctResponse']&&(_0x14cb9a+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x25834f[_0x569298(0x5a5)]);}return _0x14cb9a;})[_0x4de02f(0x42d)]('\x0a\x0a');_0x576789[_0x4de02f(0x3cd)]=_0x4de02f(0x13e);const _0x192671=_0x4de02f(0x3fc)+_0x4a5fcd[_0x4de02f(0x453)]+_0x4de02f(0x2e2)+_0x2dd0de+_0x4de02f(0x5d9)+_0x4a5fcd[_0x4de02f(0x3e6)]+_0x4de02f(0x680)+simpleMathPrompt+_0x4de02f(0x509),_0x431826={'type':_0x4de02f(0x12e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4de02f(0x27c),'enum':[_0x4de02f(0xfa),_0x4de02f(0x27d),_0x4de02f(0x5a8),_0x4de02f(0x615)]},'options':{'type':_0x4de02f(0x38f),'items':{'type':_0x4de02f(0x27c)}},'correctAnswerIndex':{'type':_0x4de02f(0x42c)},'idealAnswer':{'type':_0x4de02f(0x27c)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x4de02f(0x27c)},'correctResponse':{'type':_0x4de02f(0x27c)},'allResponses':{'type':'ARRAY','items':{'type':_0x4de02f(0x27c)}},'explanation':{'type':_0x4de02f(0x27c)},'imageCode':{'type':_0x4de02f(0x27c)}},'required':[_0x4de02f(0x23d),_0x4de02f(0xd7)]},_0x4fd504={'type':_0x4de02f(0x12e),'properties':{'topic':{'type':_0x4de02f(0x27c)},'questions':{'type':'ARRAY','items':_0x431826}},'required':[_0x4de02f(0x453),_0x4de02f(0x27f)]};await handleApiCall(_0x192671,_0x4de02f(0x3ca),_0x4fd504);}catch(_0x46c62f){console[_0x4de02f(0x567)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x46c62f),showMessage(_0x4de02f(0x275)+_0x46c62f[_0x4de02f(0xef)]),_0x576c98[_0x4de02f(0xeb)]=_0x4de02f(0x1fc);}finally{_0x55920f[_0x4de02f(0x200)][_0x4de02f(0x57b)](_0x4de02f(0x4c1));}}async function handleGenerateParallelTest(){const _0x1c0857=_0x52e79a,_0x1f7e43=document[_0x1c0857(0x4eb)](_0x1c0857(0x534)),_0x156013=_0x1f7e43[_0x1c0857(0x3df)][0x0];if(!_0x156013){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x2a1861=document[_0x1c0857(0x4eb)](_0x1c0857(0x46b)),_0x29f81d=document[_0x1c0857(0x4eb)]('loader-text'),_0x1cf918=document['getElementById'](_0x1c0857(0x11f)),_0x1dc427=document['getElementById'](_0x1c0857(0x244));_0x1dc427[_0x1c0857(0x5cb)]=!![],document[_0x1c0857(0x4eb)](_0x1c0857(0x2d0))[_0x1c0857(0x200)][_0x1c0857(0x1fd)](_0x1c0857(0x4c1)),_0x1cf918[_0x1c0857(0xeb)]='',_0x2a1861[_0x1c0857(0x200)][_0x1c0857(0x1fd)](_0x1c0857(0x4c1)),_0x29f81d[_0x1c0857(0x3cd)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x35231a=await extractTextFromPdf(_0x156013);if(!_0x35231a[_0x1c0857(0xfd)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x29f81d[_0x1c0857(0x3cd)]=_0x1c0857(0x13e);const _0xdcf6c4=document[_0x1c0857(0x4eb)](_0x1c0857(0x3bf))['checked'],_0x3f922f=_0xdcf6c4?_0x1c0857(0x488):'',_0x280314=_0x1c0857(0x63c)+_0x35231a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f922f+_0x1c0857(0x563)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x428585={'type':_0x1c0857(0x12e),'properties':{'questionText':{'type':_0x1c0857(0x27c)},'questionType':{'type':_0x1c0857(0x27c),'enum':[_0x1c0857(0xfa),'short_answer']},'options':{'type':_0x1c0857(0x38f),'items':{'type':_0x1c0857(0x27c)}},'correctAnswerIndex':{'type':_0x1c0857(0x42c)},'idealAnswer':{'type':_0x1c0857(0x27c)},'explanation':{'type':_0x1c0857(0x27c)},'imageCode':{'type':_0x1c0857(0x27c)}},'required':[_0x1c0857(0x2cb),_0x1c0857(0x23d),_0x1c0857(0xd7)]},_0x5222a2={'type':_0x1c0857(0x12e),'properties':{'topic':{'type':_0x1c0857(0x27c)},'questions':{'type':_0x1c0857(0x38f),'items':_0x428585}},'required':[_0x1c0857(0x453),_0x1c0857(0x27f)]};await handleApiCall(_0x280314,_0x1c0857(0x3ca),_0x5222a2);}catch(_0x5254b3){console[_0x1c0857(0x567)](_0x1c0857(0x5b9),_0x5254b3),showMessage(_0x1c0857(0x275)+_0x5254b3[_0x1c0857(0xef)]),_0x1cf918[_0x1c0857(0xeb)]=_0x1c0857(0x1fc);}finally{_0x2a1861[_0x1c0857(0x200)][_0x1c0857(0x57b)](_0x1c0857(0x4c1)),_0x1dc427[_0x1c0857(0x5cb)]=![];}}async function handleRegenerateQuestionInEditor(_0x14f3d7){const _0x317ddd=_0x52e79a;if(currentEditingQuizData===null)return;const _0x4990ab=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x14f3d7+'\x22]');_0x4990ab&&(_0x4990ab['innerHTML']=_0x317ddd(0x1eb));const _0x29ea18=currentEditingQuizData['questions'][_0x14f3d7],_0x81de66=currentEditingQuizData[_0x317ddd(0x453)],_0x417b01=_0x29ea18['questionType'],_0x34fec8={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x317ddd(0x38f),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x317ddd(0x42c)},'explanation':{'type':'STRING'}},'required':[_0x317ddd(0x2cb),'options',_0x317ddd(0x5e7),'explanation']},_0x21862e={'type':_0x317ddd(0x12e),'properties':{'questionText':{'type':_0x317ddd(0x27c)},'idealAnswer':{'type':_0x317ddd(0x27c)},'explanation':{'type':_0x317ddd(0x27c)}},'required':[_0x317ddd(0x2cb),_0x317ddd(0x19a),_0x317ddd(0xd7)]};let _0x58e0aa,_0x5464ac='';_0x417b01==='multiple_choice'?(_0x58e0aa=_0x34fec8,_0x5464ac=_0x317ddd(0x2ee)):(_0x58e0aa=_0x21862e,_0x5464ac=_0x317ddd(0x2c7));const _0x430bdb=_0x317ddd(0x53d)+_0x81de66+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x5464ac+_0x317ddd(0x583)+(_0x29ea18[_0x317ddd(0x2cb)]||_0x29ea18['stem'])+_0x317ddd(0x5d4)+simpleMathPrompt;try{const _0x265373=await callAnalysisApi(_0x430bdb,_0x58e0aa);currentEditingQuizData[_0x317ddd(0x27f)][_0x14f3d7]={..._0x29ea18,..._0x265373},renderQuizEditor(currentEditingQuizData);}catch(_0x21d607){console[_0x317ddd(0x567)](_0x317ddd(0x63f),_0x21d607),showMessage(_0x317ddd(0x35f)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5aa68e=_0x52e79a,_0xf8e6d7=document['getElementById'](_0x5aa68e(0x54e));currentMode==='student'?(currentMode='admin',_0xf8e6d7['innerHTML']=_0x5aa68e(0x627),_0xf8e6d7[_0x5aa68e(0x36f)]=_0x5aa68e(0x4f1),showView(_0x5aa68e(0x25b))):(currentMode='student',_0xf8e6d7[_0x5aa68e(0xeb)]=_0x5aa68e(0x174),_0xf8e6d7[_0x5aa68e(0x36f)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x3853a1=_0x52e79a,_0x26e786=document[_0x3853a1(0x4eb)](_0x3853a1(0x136)),_0x205eea=document[_0x3853a1(0x4eb)]('password-error-msg');if(_0x26e786['value']===_0x3853a1(0x4b2)){adminPasswordModal[_0x3853a1(0x200)][_0x3853a1(0x57b)](_0x3853a1(0x4c1)),_0x26e786['value']='',_0x205eea[_0x3853a1(0x200)][_0x3853a1(0x57b)](_0x3853a1(0x4c1)),currentMode=_0x3853a1(0x33b);const _0x145e2e=document[_0x3853a1(0x4eb)](_0x3853a1(0x54e));_0x145e2e['innerHTML']=_0x3853a1(0x627),_0x145e2e['title']=_0x3853a1(0x4f1),showView(_0x3853a1(0x25b));}else _0x205eea['classList'][_0x3853a1(0x1fd)](_0x3853a1(0x4c1)),_0x26e786[_0x3853a1(0x4d7)]='';}function switchProjectTab(_0x4d9bae){const _0x673200=_0x52e79a;['manage',_0x673200(0x513),_0x673200(0x360)][_0x673200(0x5bc)](_0x55a53b=>{const _0x8f9b90=_0x673200;document[_0x8f9b90(0x4eb)](_0x55a53b+_0x8f9b90(0x3ea))[_0x8f9b90(0x200)][_0x8f9b90(0x1fd)](_0x8f9b90(0x553)),document[_0x8f9b90(0x4eb)](_0x55a53b+_0x8f9b90(0xf3))[_0x8f9b90(0x200)][_0x8f9b90(0x57b)](_0x8f9b90(0x4c1));}),document[_0x673200(0x4eb)](_0x4d9bae+_0x673200(0x3ea))[_0x673200(0x200)][_0x673200(0x57b)](_0x673200(0x553)),document['getElementById'](_0x4d9bae+_0x673200(0xf3))['classList']['remove']('hidden');}function switchQuizDetailTab(_0x152257){const _0x59d838=_0x52e79a,_0x57b2ec={'analytics':{'btn':_0x59d838(0x44e),'content':_0x59d838(0x134)},'scores':{'btn':_0x59d838(0x572),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'}};for(const _0x4c173d in _0x57b2ec){document[_0x59d838(0x4eb)](_0x57b2ec[_0x4c173d][_0x59d838(0x274)])[_0x59d838(0x200)][_0x59d838(0x1fd)](_0x59d838(0x553)),document['getElementById'](_0x57b2ec[_0x4c173d][_0x59d838(0x57c)])['classList'][_0x59d838(0x57b)](_0x59d838(0x4c1));}document['getElementById'](_0x57b2ec[_0x152257][_0x59d838(0x274)])[_0x59d838(0x200)][_0x59d838(0x57b)](_0x59d838(0x553)),document[_0x59d838(0x4eb)](_0x57b2ec[_0x152257]['content'])['classList']['remove']('hidden');}function showMessage(_0x287acb){const _0x3be548=_0x52e79a;modalMessage[_0x3be548(0x3cd)]=_0x287acb,messageModal[_0x3be548(0x200)][_0x3be548(0x1fd)](_0x3be548(0x4c1));}function showConfirmation(_0x36fe67,_0x14a62d){const _0x17041f=_0x52e79a;document[_0x17041f(0x4eb)](_0x17041f(0x549))['textContent']=_0x36fe67,document[_0x17041f(0x4eb)]('confirmation-modal')[_0x17041f(0x2ad)]('h3')[_0x17041f(0x3cd)]='ยืนยันการกระทำ',confirmAction=_0x14a62d,confirmationModal['classList'][_0x17041f(0x1fd)](_0x17041f(0x4c1));}function listenForProjects(){const _0x3c08a9=_0x52e79a,_0x93ae22=collection(db,_0x3c08a9(0x21f)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x93ae22,_0x6d26b7=>{const _0x5d749e=_0x3c08a9;allProjects=_0x6d26b7['docs'][_0x5d749e(0x2ce)](_0xa8deee=>({'id':_0xa8deee['id'],..._0xa8deee[_0x5d749e(0x67a)]()})),renderProjects();},_0x2c280a=>{const _0x2c228f=_0x3c08a9;console['error'](_0x2c228f(0x587),_0x2c280a),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0x5537e2=_0x52e79a,_0x5f3a42=document['getElementById'](_0x5537e2(0x292))['value'][_0x5537e2(0x177)](),_0x284aff=document[_0x5537e2(0x4eb)](_0x5537e2(0x2da))[_0x5537e2(0x4d7)];let _0x2f6ec7=allProjects[_0x5537e2(0x3d5)](_0x497a5a=>_0x497a5a[_0x5537e2(0x4cd)][_0x5537e2(0x177)]()[_0x5537e2(0x592)](_0x5f3a42));_0x2f6ec7['sort']((_0x366033,_0x5ab1f6)=>{const _0x50196c=_0x5537e2;switch(_0x284aff){case'name_asc':return _0x366033[_0x50196c(0x4cd)][_0x50196c(0x51c)](_0x5ab1f6['projectName'],'th');case _0x50196c(0x528):return _0x5ab1f6[_0x50196c(0x4cd)]['localeCompare'](_0x366033['projectName'],'th');case _0x50196c(0x5a1):return new Date(_0x366033[_0x50196c(0x329)])-new Date(_0x5ab1f6[_0x50196c(0x329)]);case _0x50196c(0x1df):default:return new Date(_0x5ab1f6[_0x50196c(0x329)])-new Date(_0x366033[_0x50196c(0x329)]);}});const _0x2c523b={};await Promise[_0x5537e2(0x1b5)](_0x2f6ec7[_0x5537e2(0x2ce)](async _0x24a2d0=>{const _0x3c200d=_0x5537e2,_0x3a0e6d=query(collection(db,_0x3c200d(0x21f)+appId+_0x3c200d(0x46a)),where(_0x3c200d(0x542),'==',_0x24a2d0['id'])),_0x5a6571=await getDocs(_0x3a0e6d);_0x2c523b[_0x24a2d0['id']]=_0x5a6571[_0x3c200d(0x145)];}));let _0x38d9f2='';starredQuizzes[_0x5537e2(0x665)]>0x0&&(_0x38d9f2+=_0x5537e2(0x63d)+starredQuizzes[_0x5537e2(0x665)]+_0x5537e2(0x3c7)),_0x2f6ec7[_0x5537e2(0x5bc)](_0x18bde5=>{const _0x4ed40c=_0x5537e2,_0x36be08=_0x2c523b[_0x18bde5['id']]??0x0;_0x38d9f2+=_0x4ed40c(0x146)+_0x18bde5['id']+_0x4ed40c(0x428)+_0x18bde5[_0x4ed40c(0x4cd)]+_0x4ed40c(0x377)+new Date(_0x18bde5['createdAt'])[_0x4ed40c(0x50d)](_0x4ed40c(0x3e7))+_0x4ed40c(0x3dc)+_0x36be08+_0x4ed40c(0x186)+_0x18bde5['id']+_0x4ed40c(0x3d3)+_0x18bde5[_0x4ed40c(0x4cd)]+_0x4ed40c(0x640);}),projectList['innerHTML']=_0x38d9f2,noProjectsMsg[_0x5537e2(0x200)][_0x5537e2(0x579)](_0x5537e2(0x4c1),_0x38d9f2['length']>0x0);}document['getElementById'](_0x52e79a(0x423))[_0x52e79a(0x413)]('click',async()=>{const _0x2d8758=_0x52e79a,_0x187df9=document[_0x2d8758(0x4eb)](_0x2d8758(0x23e)),_0x2d488c=_0x187df9[_0x2d8758(0x4d7)]['trim']();if(!_0x2d488c){showMessage(_0x2d8758(0x221));return;}try{const _0x2a3aa4=doc(collection(db,_0x2d8758(0x21f)+appId+_0x2d8758(0x40c)));await setDoc(_0x2a3aa4,{'projectName':_0x2d488c,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x2d8758(0x364),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x2d8758(0x364),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x2d8758(0x43b)]()}),_0x187df9[_0x2d8758(0x4d7)]='',createProjectModal[_0x2d8758(0x200)][_0x2d8758(0x57b)](_0x2d8758(0x4c1)),showMessage(_0x2d8758(0xf5));}catch(_0x4ddce7){console['error']('Error\x20creating\x20project:',_0x4ddce7),showMessage(_0x2d8758(0x128));}}),projectList[_0x52e79a(0x413)]('click',async _0x48a9bb=>{const _0xb41588=_0x52e79a,_0x39449e=_0x48a9bb[_0xb41588(0x3b1)][_0xb41588(0x334)](_0xb41588(0x3d7)),_0x3643a3=_0x48a9bb['target']['closest']('.delete-project-btn');if(_0x39449e){const _0x15047d=_0x39449e[_0xb41588(0x3b5)]['id'];_0x15047d===_0xb41588(0x22a)?showStarredProjectView():(currentProjectId=_0x15047d,await loadProjectDetails(currentProjectId),showView(_0xb41588(0x559)));}else{if(_0x3643a3){const _0x274815=_0x3643a3[_0xb41588(0x3b5)]['id'],_0x2c3156=_0x3643a3['dataset'][_0xb41588(0x5b7)];showConfirmation(_0xb41588(0x2ae)+_0x2c3156+_0xb41588(0x35b),()=>handleDeleteProject(_0x274815));}}});function showStarredProjectView(){const _0x3bf267=_0x52e79a;currentProjectId=_0x3bf267(0x133),currentProjectData=null,projectTitle[_0x3bf267(0x3cd)]=_0x3bf267(0x543),projectIdDisplay['textContent']=_0x3bf267(0x1ed),showView('project-detail'),manageTab['classList'][_0x3bf267(0x57b)]('hidden'),leaderboardTab[_0x3bf267(0x200)]['add']('hidden'),switchProjectTab(_0x3bf267(0x513)),renderQuizzes();}async function loadProjectDetails(_0x4417df){const _0x47e170=_0x52e79a,_0x20a6fe=doc(db,_0x47e170(0x21f)+appId+_0x47e170(0x40c),_0x4417df),_0x882a0d=await getDoc(_0x20a6fe);if(_0x882a0d[_0x47e170(0x10e)]()){manageTab['classList'][_0x47e170(0x1fd)](_0x47e170(0x4c1)),leaderboardTab[_0x47e170(0x200)][_0x47e170(0x1fd)](_0x47e170(0x4c1)),currentProjectData=_0x882a0d[_0x47e170(0x67a)](),projectTitle[_0x47e170(0x3cd)]=currentProjectData[_0x47e170(0x4cd)],projectIdDisplay[_0x47e170(0x3cd)]=_0x4417df;const _0x3e8291=currentProjectData[_0x47e170(0x1a2)]||{};document[_0x47e170(0x4eb)](_0x47e170(0x178))['value']=_0x3e8291['defaultNumQuestions']||0x5,document[_0x47e170(0x4eb)]('num-choices')['value']=_0x3e8291[_0x47e170(0x37c)]||0x4,document[_0x47e170(0x4eb)](_0x47e170(0x501))[_0x47e170(0x4d7)]=_0x3e8291['defaultPassingScore']||Math[_0x47e170(0x634)]((_0x3e8291[_0x47e170(0x65a)]||0x5)/0x2),document[_0x47e170(0x4eb)]('passing-score-input')['max']=_0x3e8291[_0x47e170(0x65a)]||0x5,document[_0x47e170(0x4eb)](_0x47e170(0x268))[_0x47e170(0x4d7)]=_0x3e8291[_0x47e170(0x4b7)]||_0x47e170(0x48c),document[_0x47e170(0x4eb)]('shuffle-setting-select')['value']=_0x3e8291[_0x47e170(0x3e4)]||_0x47e170(0x364);const _0x25a9a2=_0x3e8291[_0x47e170(0x247)]||'none',_0x5d9991=_0x3e8291[_0x47e170(0x246)]||0xa,_0x3a1cfd=document[_0x47e170(0x4eb)](_0x47e170(0x4db)),_0x3ab483=document[_0x47e170(0x4eb)](_0x47e170(0x558)),_0x3f0087=document[_0x47e170(0x4eb)](_0x47e170(0x204));_0x3a1cfd[_0x47e170(0x4d7)]=_0x25a9a2,_0x3f0087[_0x47e170(0x4d7)]=_0x5d9991;_0x25a9a2==='none'?_0x3ab483[_0x47e170(0x200)][_0x47e170(0x57b)](_0x47e170(0x4c1)):_0x3ab483[_0x47e170(0x200)][_0x47e170(0x1fd)]('hidden');_0x3a1cfd[_0x47e170(0x3ba)](new Event(_0x47e170(0x31b)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4417df),listenForProjectQuizzes(_0x4417df),listenForStudentProfiles(_0x4417df);}else showMessage(_0x47e170(0x37a)),showView('admin-dashboard');}async function handleDeleteProject(_0x5a1293){const _0x379d2a=_0x52e79a;try{const _0x32c990=writeBatch(db),_0x5d6e8f=collection(db,'artifacts/'+appId+_0x379d2a(0x46a)),_0x2ad57f=query(_0x5d6e8f,where(_0x379d2a(0x542),'==',_0x5a1293)),_0x487b74=await getDocs(_0x2ad57f);for(const _0x87f829 of _0x487b74[_0x379d2a(0x45c)]){const _0x193c0f=collection(db,'artifacts/'+appId+_0x379d2a(0x457)+_0x87f829['id']+'/submissions'),_0x4a2b7b=await getDocs(_0x193c0f);_0x4a2b7b[_0x379d2a(0x5bc)](_0xce1075=>{_0x32c990['delete'](_0xce1075['ref']);}),_0x32c990[_0x379d2a(0x639)](_0x87f829[_0x379d2a(0x4ef)]);}const _0x285790=collection(db,_0x379d2a(0x21f)+appId+_0x379d2a(0x3c3)+_0x5a1293+_0x379d2a(0x13b)),_0x4e39c2=await getDocs(_0x285790);_0x4e39c2['forEach'](_0xd91e95=>{const _0x37fa85=_0x379d2a;_0x32c990[_0x37fa85(0x639)](_0xd91e95[_0x37fa85(0x4ef)]);});const _0x19167c=doc(db,_0x379d2a(0x21f)+appId+_0x379d2a(0x40c),_0x5a1293);_0x32c990[_0x379d2a(0x639)](_0x19167c),await _0x32c990['commit'](),showMessage(_0x379d2a(0x189)),showView(_0x379d2a(0x25b));}catch(_0x54f657){console[_0x379d2a(0x567)](_0x379d2a(0x35c),_0x54f657),showMessage(_0x379d2a(0x516));}}document[_0x52e79a(0x4eb)](_0x52e79a(0x267))[_0x52e79a(0x413)](_0x52e79a(0x354),async()=>{const _0x3bb129=_0x52e79a;if(!currentProjectId)return;const _0x4ba182={'defaultNumQuestions':parseInt(document[_0x3bb129(0x4eb)](_0x3bb129(0x178))[_0x3bb129(0x4d7)]),'defaultNumChoices':parseInt(document['getElementById']('num-choices')[_0x3bb129(0x4d7)]),'defaultPassingScore':parseInt(document[_0x3bb129(0x4eb)](_0x3bb129(0x501))[_0x3bb129(0x4d7)]),'resultsDisplay':document[_0x3bb129(0x4eb)](_0x3bb129(0x268))['value'],'shuffleSetting':document[_0x3bb129(0x4eb)](_0x3bb129(0x1f9))[_0x3bb129(0x4d7)],'timerMode':document['getElementById'](_0x3bb129(0x4db))['value'],'timerDuration':parseInt(document[_0x3bb129(0x4eb)]('timer-duration-input')[_0x3bb129(0x4d7)])};try{const _0x38ada0=doc(db,_0x3bb129(0x21f)+appId+_0x3bb129(0x40c),currentProjectId);await updateDoc(_0x38ada0,{'settings':_0x4ba182}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0xaf01a9){console[_0x3bb129(0x567)]('Error\x20saving\x20settings:',_0xaf01a9),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x573a3d){const _0x2b4561=_0x52e79a,_0x263cb6=doc(db,_0x2b4561(0x21f)+appId+_0x2b4561(0x40c),_0x573a3d);unsubscribeStudentsListener=onSnapshot(_0x263cb6,_0xa86279=>{const _0x576cf0=_0x2b4561;if(_0xa86279[_0x576cf0(0x10e)]()){const _0x11e64e=_0xa86279[_0x576cf0(0x67a)]();currentProjectData=_0x11e64e,renderStudentList(_0x11e64e[_0x576cf0(0x459)]||[]);}});}function renderStudentList(_0x31c87b){const _0x5b46fd=_0x52e79a,_0x96d7cc=document[_0x5b46fd(0x4eb)]('delete-all-students-btn');_0x31c87b['length']===0x0?(studentList[_0x5b46fd(0xeb)]=_0x5b46fd(0x375),_0x96d7cc[_0x5b46fd(0x200)]['add']('hidden')):(studentList[_0x5b46fd(0xeb)]=_0x31c87b['map'](_0x47d45f=>_0x5b46fd(0x630)+_0x47d45f+_0x5b46fd(0x5c3)+_0x47d45f+_0x5b46fd(0x270))['join'](''),_0x96d7cc['classList']['remove']('hidden'));}document[_0x52e79a(0x4eb)](_0x52e79a(0x215))['addEventListener'](_0x52e79a(0x354),async()=>{const _0xac40db=_0x52e79a;if(!currentProjectId)return;const _0x3a4c7d=document[_0xac40db(0x4eb)]('student-name-input'),_0x522ecb=_0x3a4c7d[_0xac40db(0x4d7)][_0xac40db(0xfd)]();if(!_0x522ecb){showMessage(_0xac40db(0x539));return;}const _0x2f267d=_0x522ecb[_0xac40db(0xf9)]('\x0a')['map'](_0x240029=>_0x240029[_0xac40db(0xfd)]())[_0xac40db(0x3d5)](_0x5a7422=>_0x5a7422);if(_0x2f267d[_0xac40db(0x665)]===0x0)return;try{const _0x4d6cb6=doc(db,_0xac40db(0x21f)+appId+_0xac40db(0x40c),currentProjectId),_0x310972=await getDoc(_0x4d6cb6);if(_0x310972[_0xac40db(0x10e)]()){const _0x547603=_0x310972[_0xac40db(0x67a)]()['students']||[],_0xee905a=[...new Set([..._0x547603,..._0x2f267d])];await updateDoc(_0x4d6cb6,{'students':_0xee905a}),_0x3a4c7d['value']='';}}catch(_0x2ed377){console['error']('Error\x20adding\x20students:',_0x2ed377),showMessage(_0xac40db(0x628));}});function handleDeleteStudent(_0x5edd82){const _0x372b48=_0x52e79a;showConfirmation(_0x372b48(0x36a)+_0x5edd82+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x2f579f=_0x372b48;if(!currentProjectId||!currentProjectData)return;const _0x4ca71b=currentProjectData[_0x2f579f(0x459)]['filter'](_0x5a07aa=>_0x5a07aa!==_0x5edd82);try{const _0x34d001=doc(db,_0x2f579f(0x21f)+appId+'/public/data/projects',currentProjectId),_0x4a237c=doc(db,'artifacts/'+appId+_0x2f579f(0x3c3)+currentProjectId+_0x2f579f(0x13b),_0x5edd82),_0x3b1f1e=writeBatch(db);_0x3b1f1e[_0x2f579f(0x625)](_0x34d001,{'students':_0x4ca71b}),_0x3b1f1e['delete'](_0x4a237c),await _0x3b1f1e['commit']();}catch(_0x3d18b7){console[_0x2f579f(0x567)]('Error\x20deleting\x20student:',_0x3d18b7),showMessage(_0x2f579f(0x127));}});}function handleDeleteAllStudents(){const _0x10300a=_0x52e79a;showConfirmation(_0x10300a(0x370),async()=>{const _0x4e8bbb=_0x10300a;if(!currentProjectId)return;try{const _0x4e031f=doc(db,_0x4e8bbb(0x21f)+appId+'/public/data/projects',currentProjectId),_0x274af2=collection(db,'artifacts/'+appId+_0x4e8bbb(0x3c3)+currentProjectId+_0x4e8bbb(0x13b)),_0x45d48e=await getDocs(_0x274af2),_0x13aa7b=writeBatch(db);_0x13aa7b[_0x4e8bbb(0x625)](_0x4e031f,{'students':[]}),_0x45d48e[_0x4e8bbb(0x5bc)](_0x530962=>_0x13aa7b[_0x4e8bbb(0x639)](_0x530962[_0x4e8bbb(0x4ef)])),await _0x13aa7b[_0x4e8bbb(0x4bf)]();}catch(_0x369338){console[_0x4e8bbb(0x567)](_0x4e8bbb(0x226),_0x369338),showMessage(_0x4e8bbb(0x5a0));}});}async function handleGenerateFromFileClick(){const _0x4eb4f4=_0x52e79a;if(!selectedFile){showMessage(_0x4eb4f4(0x1ec));return;}const _0x247fea=document[_0x4eb4f4(0x4eb)]('loader'),_0xba31e=document[_0x4eb4f4(0x4eb)]('loader-text'),_0x165d0e=document['getElementById'](_0x4eb4f4(0x11f)),_0x848a8a=document[_0x4eb4f4(0x4eb)](_0x4eb4f4(0x143));_0x848a8a[_0x4eb4f4(0x5cb)]=!![],document['getElementById'](_0x4eb4f4(0x2d0))[_0x4eb4f4(0x200)][_0x4eb4f4(0x1fd)]('hidden'),_0x165d0e[_0x4eb4f4(0xeb)]='',_0x247fea[_0x4eb4f4(0x200)][_0x4eb4f4(0x1fd)]('hidden'),_0xba31e[_0x4eb4f4(0x3cd)]='กำลังอ่านและเตรียมไฟล์...';const _0x4cc293=new FileReader();_0x4cc293[_0x4eb4f4(0x5b8)](selectedFile),_0x4cc293[_0x4eb4f4(0x289)]=async()=>{const _0x123741=_0x4eb4f4;try{const _0x2f4d77=_0x4cc293[_0x123741(0x520)][_0x123741(0xf9)](',')[0x1],_0x2ff3b9=selectedFile[_0x123741(0x1c1)];await generateQuizFromFile(_0x2ff3b9,_0x2f4d77);}catch(_0x3f0836){console['error'](_0x123741(0x2f5),_0x3f0836),showMessage(_0x123741(0x343)+_0x3f0836[_0x123741(0xef)]),_0x247fea[_0x123741(0x200)][_0x123741(0x57b)]('hidden');}finally{}},_0x4cc293[_0x4eb4f4(0x3e8)]=_0x17da4b=>{const _0x2425d7=_0x4eb4f4;console[_0x2425d7(0x567)](_0x2425d7(0x61f),_0x17da4b),showMessage(_0x2425d7(0x339)),_0x247fea[_0x2425d7(0x200)]['add'](_0x2425d7(0x4c1)),_0x848a8a[_0x2425d7(0x5cb)]=![];};}function autoFormatMath(_0x3c4dfe){if(typeof _0x3c4dfe!=='string'||!_0x3c4dfe)return _0x3c4dfe;const _0x41bfe6=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3c2538=_0x3c4dfe['replace'](_0x41bfe6,_0x6816c5=>{return'$'+_0x6816c5['trim']()+'$';});return _0x3c2538;}function sanitizeQuizData(_0x35fa01){const _0x159125=_0x52e79a;if(!_0x35fa01||!_0x35fa01[_0x159125(0x27f)])return _0x35fa01;const _0x580819={'imes':_0x159125(0x14a),'div':'\x5cdiv'},_0x3ea7f3=_0x424fe9=>{const _0x40de3c=_0x159125;if(typeof _0x424fe9!==_0x40de3c(0x4ce))return _0x424fe9;let _0xcc6d7a=_0x424fe9;for(const [_0x18ccab,_0x267a4e]of Object[_0x40de3c(0x197)](_0x580819)){const _0xe00897=new RegExp('\x5cb'+_0x18ccab+'\x5cb','g');_0xcc6d7a=_0xcc6d7a['replace'](_0xe00897,_0x267a4e);}return _0xcc6d7a=_0xcc6d7a[_0x40de3c(0x235)](/\\\//g,_0x40de3c(0x16c)),_0xcc6d7a=_0xcc6d7a[_0x40de3c(0x235)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x40de3c(0x16c))[_0x40de3c(0x235)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x40de3c(0x14a))[_0x40de3c(0x235)](/÷/g,_0x40de3c(0x16c))[_0x40de3c(0x235)](/×/g,'\x5ctimes'),_0xcc6d7a=_0xcc6d7a[_0x40de3c(0x235)](/(\d)(\\frac)/g,_0x40de3c(0x284)),_0xcc6d7a=autoFormatMath(_0xcc6d7a),_0xcc6d7a;};return _0x35fa01['topic']&&(_0x35fa01[_0x159125(0x453)]=_0x3ea7f3(_0x35fa01['topic'])),_0x35fa01[_0x159125(0x27f)][_0x159125(0x5bc)](_0x206608=>{const _0x945a8b=_0x159125;_0x206608[_0x945a8b(0x2cb)]=_0x3ea7f3(_0x206608[_0x945a8b(0x2cb)]),_0x206608['options']&&(_0x206608[_0x945a8b(0x5c5)]=_0x206608[_0x945a8b(0x5c5)][_0x945a8b(0x2ce)](_0x3ea7f3)),_0x206608['explanation']&&(_0x206608[_0x945a8b(0xd7)]=_0x3ea7f3(_0x206608['explanation'])),_0x206608[_0x945a8b(0x55b)]&&(_0x206608[_0x945a8b(0x55b)]=_0x3ea7f3(_0x206608['stem'])),_0x206608['correctResponse']&&(_0x206608[_0x945a8b(0x5a5)]=_0x3ea7f3(_0x206608[_0x945a8b(0x5a5)])),_0x206608[_0x945a8b(0x2e6)]&&(_0x206608[_0x945a8b(0x2e6)]=_0x206608[_0x945a8b(0x2e6)][_0x945a8b(0x2ce)](_0x3ea7f3));}),_0x35fa01;}const simpleMathPrompt=_0x52e79a(0x4e2);async function handleGenerateFromLink(){const _0x398688=_0x52e79a,_0x462758=document[_0x398688(0x4eb)]('link-url-input'),_0x323505=document[_0x398688(0x4eb)](_0x398688(0x426)),_0x3bc7bf=_0x462758[_0x398688(0x4d7)]['trim'](),_0x357158=_0x323505[_0x398688(0x4d7)]['trim']();if(!_0x3bc7bf){showMessage(_0x398688(0x12c));return;}const _0x3b366d=document[_0x398688(0x4eb)](_0x398688(0x46b)),_0x44095d=document['getElementById'](_0x398688(0x3c5)),_0x7d163a=document[_0x398688(0x4eb)](_0x398688(0x11f)),_0x48abb8=document['getElementById'](_0x398688(0x305));document[_0x398688(0x4eb)](_0x398688(0x2d0))[_0x398688(0x200)]['remove'](_0x398688(0x4c1)),_0x7d163a['innerHTML']='',_0x3b366d[_0x398688(0x200)][_0x398688(0x1fd)](_0x398688(0x4c1)),_0x44095d['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x48abb8['disabled']=!![];try{const _0x1219da='https://corsproxy.io/?'+encodeURIComponent(_0x3bc7bf),_0x351386=await fetch(_0x1219da);if(!_0x351386['ok'])throw new Error(_0x398688(0x5d8)+_0x351386[_0x398688(0x657)]+')');const _0x3be3d9=await _0x351386['text'](),_0xd6a8fe=extractTextFromHtml(_0x3be3d9);if(!_0xd6a8fe||_0xd6a8fe[_0x398688(0x665)]<0x64)throw new Error(_0x398688(0x60f));await generateQuiz(_0x357158,_0xd6a8fe);}catch(_0x4590d0){console[_0x398688(0x567)](_0x398688(0x28d),_0x4590d0),showMessage(_0x398688(0x275)+_0x4590d0['message']),_0x7d163a[_0x398688(0xeb)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x3b366d[_0x398688(0x200)][_0x398688(0x57b)](_0x398688(0x4c1)),_0x48abb8[_0x398688(0x5cb)]=![];}}function extractTextFromHtml(_0x45b7d5){const _0x808357=_0x52e79a,_0x15c9fd=new DOMParser()[_0x808357(0x38e)](_0x45b7d5,'text/html');return _0x15c9fd[_0x808357(0x574)](_0x808357(0x393))['forEach'](_0x476559=>_0x476559[_0x808357(0x1fd)]()),_0x15c9fd[_0x808357(0x14f)][_0x808357(0x3cd)]||'';}document['getElementById']('generate-from-topic-btn')[_0x52e79a(0x413)](_0x52e79a(0x354),()=>{const _0xe1495f=_0x52e79a,_0x2b6a99=document[_0xe1495f(0x4eb)]('topic-input')['value']['trim']();generateQuiz(_0x2b6a99,null);});async function generateQuiz(_0x4ffcc5,_0x4f1bf0,_0x202dbe=null){const _0x5b9830=_0x52e79a,_0x5bba0f=document[_0x5b9830(0x4eb)](_0x5b9830(0x3bf))['checked'],_0x53931d=document[_0x5b9830(0x4eb)]('quiz-type-select')['value'],_0x5913dd=document[_0x5b9830(0x4eb)](_0x5b9830(0x178))[_0x5b9830(0x4d7)],_0x13e4e6=document[_0x5b9830(0x4eb)]('num-choices')[_0x5b9830(0x4d7)],_0x1c2a9e=document['getElementById'](_0x5b9830(0x3f0))[_0x5b9830(0x21b)],_0xfc7635=_0x1c2a9e?'':'คณิตศาสตร์',_0x16f7fd=document[_0x5b9830(0x4eb)]('difficulty-level-select'),_0x36473e=_0x16f7fd[_0x5b9830(0x4d7)];let _0x117f6f='';_0x36473e!==_0x5b9830(0x2e7)&&(_0x117f6f=_0x5b9830(0x5cc)+_0x36473e+'\x22');const _0x1d3470=document['getElementById']('question-complexity-select'),_0x45e3c6=_0x1d3470[_0x5b9830(0x4d7)];let _0x2217d8='';_0x45e3c6!==_0x5b9830(0x26a)&&(_0x2217d8=_0x5b9830(0xf1)+_0x45e3c6+_0x5b9830(0x208));const _0x27ee8c=document[_0x5b9830(0x574)]('#math-topics-checkbox-container\x20input:checked'),_0x12668b=Array[_0x5b9830(0x1d0)](_0x27ee8c)[_0x5b9830(0x2ce)](_0x5d268e=>_0x5d268e['value']);let _0x38781f='';_0x12668b['length']>0x0&&(_0x38781f=_0x5b9830(0x210)+_0x12668b['join'](',\x20')+_0x5b9830(0x34e));let _0x196923='',_0x36fe6c='',_0x4eaa71,_0x652e61=_0x5b9830(0x2e4)+_0x4ffcc5+'\x22';if(!_0x4ffcc5&&_0x4f1bf0)_0x652e61='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x4ffcc5&&!_0x4f1bf0&&(_0x652e61='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x222dde={'type':'OBJECT','properties':{'questionText':{'type':_0x5b9830(0x27c)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5b9830(0x42c)},'explanation':{'type':_0x5b9830(0x27c)},'imageCode':{'type':_0x5b9830(0x27c)}},'required':['questionText','options',_0x5b9830(0x5e7),_0x5b9830(0xd7)]},_0x12b112={'type':'OBJECT','properties':{'questionText':{'type':_0x5b9830(0x27c)},'idealAnswer':{'type':_0x5b9830(0x27c)},'explanation':{'type':_0x5b9830(0x27c)},'imageCode':{'type':_0x5b9830(0x27c)}},'required':['questionText','idealAnswer',_0x5b9830(0xd7)]},_0x13b950={'type':'OBJECT','properties':{'questionText':{'type':_0x5b9830(0x27c)},'questionType':{'type':_0x5b9830(0x27c),'enum':[_0x5b9830(0xfa),_0x5b9830(0x27d)]},'options':{'type':'ARRAY','items':{'type':_0x5b9830(0x27c)}},'correctAnswerIndex':{'type':_0x5b9830(0x42c)},'idealAnswer':{'type':_0x5b9830(0x27c)},'explanation':{'type':_0x5b9830(0x27c)},'imageCode':{'type':_0x5b9830(0x27c)}},'required':[_0x5b9830(0x2cb),_0x5b9830(0x23d),_0x5b9830(0xd7)]},_0x34a92b={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x5b9830(0x27c)},'imageCode':{'type':'STRING'}},'required':[_0x5b9830(0x2cb),_0x5b9830(0x1cb),_0x5b9830(0xd7)]},_0x1331a1={'type':_0x5b9830(0x12e),'properties':{'questionType':{'type':_0x5b9830(0x27c),'enum':[_0x5b9830(0x615)]},'stem':{'type':_0x5b9830(0x27c)},'correctResponse':{'type':_0x5b9830(0x27c)},'allResponses':{'type':_0x5b9830(0x38f),'items':{'type':_0x5b9830(0x27c)}},'explanation':{'type':_0x5b9830(0x27c)},'imageCode':{'type':_0x5b9830(0x27c)}},'required':[_0x5b9830(0x23d),_0x5b9830(0x55b),_0x5b9830(0x5a5),_0x5b9830(0x2e6),_0x5b9830(0xd7)]};let _0x31d863;if(_0x202dbe!==null){const _0x37aef2=currentQuizData['questions'][_0x202dbe][_0x5b9830(0x23d)],_0x318d23=_0x5bba0f?_0x5b9830(0x1b8):'';_0x196923=_0x5b9830(0x301)+_0x652e61+'\x20'+_0x38781f+'\x20'+_0x117f6f+_0x5b9830(0x50e)+_0x318d23+'\x20'+simpleMathPrompt;if(_0x37aef2==='multiple_choice')_0x4eaa71=_0x222dde;else{if(_0x37aef2==='matching_item')_0x4eaa71={'type':_0x5b9830(0x12e),'properties':{'questionType':{'type':'STRING','enum':[_0x5b9830(0x615)]},'stem':{'type':_0x5b9830(0x27c)},'correctResponse':{'type':_0x5b9830(0x27c)},'explanation':{'type':_0x5b9830(0x27c)},'imageCode':{'type':'STRING'}},'required':['questionType','stem',_0x5b9830(0x5a5),_0x5b9830(0xd7)]};else _0x4eaa71=_0x12b112;}_0x31d863=_0x4eaa71;}else{const _0x320795=_0x5bba0f?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x53931d){case _0x5b9830(0xfa):_0x196923=_0x5b9830(0x2bc)+_0xfc7635+'\x20'+_0x5913dd+_0x5b9830(0x599)+_0x652e61+'\x20'+_0x38781f+'\x20'+_0x117f6f+'\x20'+_0x2217d8+'.\x20แต่ละข้อมี\x20'+_0x13e4e6+_0x5b9830(0x662)+_0x320795+'\x20'+simpleMathPrompt,_0x4eaa71=_0x222dde;break;case _0x5b9830(0x2b4):_0x196923=_0x5b9830(0x5bf)+_0xfc7635+'\x20'+_0x5913dd+_0x5b9830(0x599)+_0x652e61+'\x20'+_0x38781f+'\x20'+_0x117f6f+'\x20'+_0x2217d8+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x13e4e6+_0x5b9830(0x2cd)+_0x320795+'\x20'+simpleMathPrompt,_0x4eaa71=_0x222dde;break;case'fill_in_no_choices':_0x196923='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xfc7635+'\x20'+_0x5913dd+_0x5b9830(0x599)+_0x652e61+'\x20'+_0x38781f+'\x20'+_0x117f6f+'\x20'+_0x2217d8+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x320795+'\x20'+simpleMathPrompt,_0x4eaa71=_0x12b112;break;case _0x5b9830(0x26a):_0x196923=_0x5b9830(0x10b)+_0xfc7635+'\x20'+_0x5913dd+_0x5b9830(0x599)+_0x652e61+'\x20'+_0x38781f+'\x20'+_0x117f6f+'\x20'+_0x2217d8+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x13e4e6+_0x5b9830(0x445)+_0x320795+'\x20'+simpleMathPrompt+'.',_0x4eaa71=_0x13b950;break;case _0x5b9830(0x5a8):_0x196923='สร้างคำถามแบบใช่/ไม่ใช่'+_0xfc7635+'\x20'+_0x5913dd+_0x5b9830(0x599)+_0x652e61+'\x20'+_0x38781f+'\x20'+_0x117f6f+'\x20'+_0x2217d8+_0x5b9830(0x526)+_0x320795+'\x20'+simpleMathPrompt,_0x4eaa71=_0x34a92b;break;case'matching':_0x196923='สร้างชุดคำถามจับคู่'+_0xfc7635+'\x20'+_0x5913dd+_0x5b9830(0x5e1)+_0x652e61+'\x20'+_0x38781f+'\x20'+_0x117f6f+'\x20'+_0x2217d8+_0x5b9830(0x3a9)+_0x320795+'\x20'+simpleMathPrompt,_0x4eaa71=_0x1331a1;break;}_0x31d863={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4eaa71}},'required':[_0x5b9830(0x453),'questions']};}return _0x4f1bf0?(_0x196923=_0x5b9830(0x557)+_0x4f1bf0+_0x5b9830(0x551)+_0x196923,_0x36fe6c=_0x5b9830(0x15a)):_0x36fe6c='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x196923,_0x36fe6c,_0x31d863,_0x202dbe);}async function generateQuizFromFile(_0x53f687,_0x1f37d9){const _0x5b429b=_0x52e79a,_0x5c1c9b=document[_0x5b429b(0x4eb)](_0x5b429b(0x560))['value']['trim'](),_0x3a7f22=document[_0x5b429b(0x4eb)](_0x5b429b(0xee))['value'],_0x643369=document[_0x5b429b(0x4eb)](_0x5b429b(0x178))[_0x5b429b(0x4d7)],_0x4b2ef3=document[_0x5b429b(0x4eb)](_0x5b429b(0x1b2))[_0x5b429b(0x4d7)],_0x578dc3=document['getElementById'](_0x5b429b(0x3bf))[_0x5b429b(0x21b)],_0x1927d9=document[_0x5b429b(0x4eb)](_0x5b429b(0x3f0))[_0x5b429b(0x21b)],_0x5341c2=_0x1927d9?'':_0x5b429b(0x188);let _0x3bad7e='',_0x20171b,_0x259e0e='เกี่ยวกับหัวข้อ\x20\x22'+_0x5c1c9b+'\x22';!_0x5c1c9b&&(_0x259e0e=_0x5b429b(0x4ac));const _0x4f644b=_0x578dc3?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x3a7f22){case'multiple_choice':_0x3bad7e=_0x5b429b(0x2bc)+_0x5341c2+'\x20'+_0x643369+_0x5b429b(0x599)+_0x259e0e+_0x5b429b(0x3b9)+_0x4b2ef3+_0x5b429b(0x662)+_0x4f644b+'\x20'+simpleMathPrompt,_0x20171b={'type':_0x5b429b(0x12e),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5b429b(0x38f),'items':{'type':_0x5b429b(0x27c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5b429b(0x27c)},'imageCode':{'type':_0x5b429b(0x27c)}},'required':[_0x5b429b(0x2cb),_0x5b429b(0x5c5),_0x5b429b(0x5e7),_0x5b429b(0xd7)]};break;case _0x5b429b(0x2b4):_0x3bad7e=_0x5b429b(0x5bf)+_0x5341c2+'\x20'+_0x643369+_0x5b429b(0x599)+_0x259e0e+_0x5b429b(0x103)+_0x4b2ef3+_0x5b429b(0x2cd)+_0x4f644b+'\x20'+simpleMathPrompt,_0x20171b={'type':_0x5b429b(0x12e),'properties':{'questionText':{'type':_0x5b429b(0x27c)},'options':{'type':'ARRAY','items':{'type':_0x5b429b(0x27c)}},'correctAnswerIndex':{'type':_0x5b429b(0x42c)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5b429b(0x2cb),_0x5b429b(0x5c5),'correctAnswerIndex',_0x5b429b(0xd7)]};break;case'fill_in_no_choices':_0x3bad7e=_0x5b429b(0x5bf)+_0x5341c2+'\x20'+_0x643369+'\x20ข้อ\x20'+_0x259e0e+_0x5b429b(0x64b)+_0x4f644b+'\x20'+simpleMathPrompt,_0x20171b={'type':_0x5b429b(0x12e),'properties':{'questionText':{'type':_0x5b429b(0x27c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5b429b(0x27c)},'imageCode':{'type':_0x5b429b(0x27c)}},'required':[_0x5b429b(0x2cb),_0x5b429b(0x19a),_0x5b429b(0xd7)]};break;case _0x5b429b(0x26a):_0x3bad7e=_0x5b429b(0x10b)+_0x5341c2+'\x20'+_0x643369+'\x20ข้อ\x20'+_0x259e0e+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x4b2ef3+'\x20ตัวเลือก.\x20'+_0x4f644b+'\x20'+simpleMathPrompt+_0x5b429b(0x182),_0x20171b={'type':'OBJECT','properties':{'questionText':{'type':_0x5b429b(0x27c)},'questionType':{'type':_0x5b429b(0x27c),'enum':[_0x5b429b(0xfa),_0x5b429b(0x27d)]},'options':{'type':_0x5b429b(0x38f),'items':{'type':_0x5b429b(0x27c)}},'correctAnswerIndex':{'type':_0x5b429b(0x42c)},'idealAnswer':{'type':_0x5b429b(0x27c)},'explanation':{'type':_0x5b429b(0x27c)},'imageCode':{'type':'STRING'}},'required':[_0x5b429b(0x2cb),_0x5b429b(0x23d),_0x5b429b(0xd7)]};break;case'true_false':_0x3bad7e=_0x5b429b(0x4b0)+_0x5341c2+'\x20'+_0x643369+_0x5b429b(0x599)+_0x259e0e+_0x5b429b(0x28a)+_0x4f644b+'\x20'+simpleMathPrompt,_0x20171b={'type':_0x5b429b(0x12e),'properties':{'questionText':{'type':_0x5b429b(0x27c)},'correctAnswer':{'type':_0x5b429b(0x47e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5b429b(0x27c)}},'required':['questionText',_0x5b429b(0x1cb),'explanation']};break;case _0x5b429b(0x203):_0x3bad7e=_0x5b429b(0x56e)+_0x5341c2+'\x20'+_0x643369+'\x20คู่\x20'+_0x259e0e+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x643369+_0x5b429b(0x629)+_0x4f644b+'\x20'+simpleMathPrompt,_0x20171b={'type':_0x5b429b(0x12e),'properties':{'questionType':{'type':_0x5b429b(0x27c),'enum':[_0x5b429b(0x615)]},'stem':{'type':_0x5b429b(0x27c)},'correctResponse':{'type':_0x5b429b(0x27c)},'allResponses':{'type':_0x5b429b(0x38f),'items':{'type':_0x5b429b(0x27c)}},'explanation':{'type':_0x5b429b(0x27c)},'imageCode':{'type':_0x5b429b(0x27c)}},'required':[_0x5b429b(0x23d),_0x5b429b(0x55b),_0x5b429b(0x5a5),_0x5b429b(0x2e6),'explanation']};break;}const _0x2d9bcb={'type':_0x5b429b(0x12e),'properties':{'topic':{'type':_0x5b429b(0x27c)},'questions':{'type':_0x5b429b(0x38f),'items':_0x20171b}},'required':[_0x5b429b(0x453),_0x5b429b(0x27f)]},_0x2ec018=_0x5b429b(0x26d)+_0x3bad7e,_0x53da9b={'contents':[{'parts':[{'text':_0x2ec018},{'inlineData':{'mimeType':_0x53f687,'data':_0x1f37d9}}]}],'generationConfig':{'responseMimeType':_0x5b429b(0x115),'responseSchema':_0x2d9bcb}};return handleApiCall(_0x53da9b['contents'][0x0][_0x5b429b(0x30a)],_0x5b429b(0x450),_0x2d9bcb);}async function handleApiCall(_0x30f201,_0x2bc3e6,_0x54f306,_0x216b21=null){const _0x5ac318=_0x52e79a,_0x36e83b=document[_0x5ac318(0x4eb)]('quiz-generation-area'),_0x11419c=document['getElementById'](_0x5ac318(0x46b)),_0x5c02bc=document[_0x5ac318(0x4eb)](_0x5ac318(0x3c5)),_0x597bd2=document['getElementById'](_0x5ac318(0x11f));_0x36e83b[_0x5ac318(0x200)][_0x5ac318(0x1fd)](_0x5ac318(0x4c1));_0x216b21===null&&(_0x597bd2[_0x5ac318(0xeb)]='');_0x11419c['classList']['remove']('hidden'),_0x5c02bc[_0x5ac318(0x3cd)]=_0x2bc3e6,document[_0x5ac318(0x4eb)](_0x5ac318(0x5eb))['disabled']=!![],document[_0x5ac318(0x4eb)](_0x5ac318(0x324))[_0x5ac318(0x5cb)]=!![],document['getElementById'](_0x5ac318(0x305))[_0x5ac318(0x5cb)]=!![];try{const _0x5b828e={'responseMimeType':_0x5ac318(0x115),'responseSchema':_0x54f306},_0x3c18b9=Array['isArray'](_0x30f201)?_0x30f201:[{'text':_0x30f201}],_0x101336={'contents':[{'role':_0x5ac318(0x3e2),'parts':_0x3c18b9}],'generationConfig':_0x5b828e},_0x3647a9='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x53715a='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3647a9,_0x22c56a=await fetch(_0x53715a,{'method':_0x5ac318(0x410),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5ac318(0x508)](_0x101336)});if(!_0x22c56a['ok'])throw new Error(_0x5ac318(0x594)+_0x22c56a[_0x5ac318(0x657)]);const _0x331729=await _0x22c56a[_0x5ac318(0x654)]();if(_0x331729[_0x5ac318(0x3b3)]?.[0x0]?.[_0x5ac318(0x57c)]?.[_0x5ac318(0x30a)]?.[0x0]){let _0x2ab3ee=_0x331729['candidates'][0x0][_0x5ac318(0x57c)][_0x5ac318(0x30a)][0x0][_0x5ac318(0x1cd)],_0x20c596;try{if(_0x2ab3ee[_0x5ac318(0x55e)]('```json'))_0x2ab3ee=_0x2ab3ee['substring'](0x7,_0x2ab3ee[_0x5ac318(0x665)]-0x3)[_0x5ac318(0xfd)]();else _0x2ab3ee['startsWith'](_0x5ac318(0x681))&&(_0x2ab3ee=_0x2ab3ee['substring'](0x3,_0x2ab3ee[_0x5ac318(0x665)]-0x3)[_0x5ac318(0xfd)]());_0x20c596=JSON[_0x5ac318(0x5ab)](_0x2ab3ee);}catch(_0x5dc679){console['error']('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x5dc679,_0x2ab3ee);throw new Error(_0x5ac318(0x4e1));}if(_0x216b21!==null){if(_0x20c596[_0x5ac318(0x23d)]===_0x5ac318(0x615)){const _0x30b545=currentQuizData[_0x5ac318(0x27f)][_0x5ac318(0x2ce)](_0x445202=>_0x445202['correctResponse']);_0x20c596[_0x5ac318(0x2e6)]=_0x30b545;const _0x530a89=currentQuizData[_0x5ac318(0x27f)][_0x216b21][_0x5ac318(0x5a5)],_0x28ed23=_0x30b545[_0x5ac318(0x1fa)](_0x530a89);_0x28ed23>-0x1&&(_0x30b545[_0x28ed23]=_0x20c596['correctResponse']),currentQuizData[_0x5ac318(0x27f)][_0x5ac318(0x5bc)](_0x4dc11c=>{const _0x100ca5=_0x5ac318;if(_0x4dc11c[_0x100ca5(0x23d)]===_0x100ca5(0x615))_0x4dc11c['allResponses']=_0x30b545;});}currentQuizData['questions'][_0x216b21]=_0x20c596,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x20c596;const _0x3a965e=document[_0x5ac318(0x4eb)](_0x5ac318(0xee))[_0x5ac318(0x4d7)];currentQuizData['quizType']=_0x3a965e,currentQuizData[_0x5ac318(0x27f)]&&currentQuizData['questions'][_0x5ac318(0x5bc)](_0x5d6f10=>{const _0x568028=_0x5ac318;if(!_0x5d6f10[_0x568028(0x23d)]){if(_0x3a965e==='fill_in_with_choices')_0x5d6f10[_0x568028(0x23d)]=_0x568028(0xfa);else _0x3a965e===_0x568028(0x5b4)?_0x5d6f10[_0x568028(0x23d)]=_0x568028(0x27d):_0x5d6f10['questionType']=_0x3a965e;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x5ac318(0x54d),JSON['stringify'](_0x331729));throw new Error(_0x5ac318(0x4e1));}}catch(_0x561239){console[_0x5ac318(0x567)](_0x5ac318(0xde),_0x561239),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x216b21===null&&(_0x597bd2[_0x5ac318(0xeb)]=_0x5ac318(0x431));}finally{_0x11419c[_0x5ac318(0x200)]['add'](_0x5ac318(0x4c1)),document['getElementById']('generate-from-topic-btn')['disabled']=![],document[_0x5ac318(0x4eb)](_0x5ac318(0x324))['disabled']=![],document[_0x5ac318(0x4eb)](_0x5ac318(0x305))['disabled']=![];const _0x259096=document[_0x5ac318(0x4eb)](_0x5ac318(0x143));_0x259096&&(_0x259096['disabled']=![]);}}function displayGeneratedQuiz(_0x5cdf02){const _0x491958=_0x52e79a,_0x2a0736=document[_0x491958(0x4eb)]('generated-quiz-container');let _0x5e62ef=_0x491958(0x458)+_0x5cdf02[_0x491958(0x453)]+_0x491958(0x529);_0x5cdf02[_0x491958(0x27f)][_0x491958(0x5bc)]((_0x396176,_0x1cda84)=>{const _0x45a6e1=_0x491958,_0x2b634a=_0x396176[_0x45a6e1(0x23d)]||_0x5cdf02[_0x45a6e1(0x3e6)];_0x5e62ef+=_0x45a6e1(0x552)+_0x1cda84+_0x45a6e1(0x63b)+_0x1cda84+_0x45a6e1(0x1d6)+_0x1cda84+_0x45a6e1(0x5c1);switch(_0x2b634a){case _0x45a6e1(0x615):_0x5e62ef+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1cda84+'\x22>'+(_0x1cda84+0x1)+'.\x20'+_0x396176[_0x45a6e1(0x55b)]+_0x45a6e1(0x3ae);_0x396176['imageCode']&&(_0x5e62ef+='<div\x20id=\x22q-image-container-'+_0x1cda84+_0x45a6e1(0x106)+_0x396176[_0x45a6e1(0x26e)]+_0x45a6e1(0x5ca));_0x5e62ef+=_0x45a6e1(0x412)+_0x1cda84+'\x22>'+_0x396176[_0x45a6e1(0x5a5)]+_0x45a6e1(0x318),_0x5e62ef+=_0x45a6e1(0x2d5)+_0x1cda84+'\x22>'+_0x396176[_0x45a6e1(0xd7)]+_0x45a6e1(0x318);break;case _0x45a6e1(0x27d):_0x5e62ef+=_0x45a6e1(0x67e)+_0x1cda84+'\x22>'+(_0x1cda84+0x1)+'.\x20'+_0x396176[_0x45a6e1(0x2cb)]+_0x45a6e1(0x3ae);_0x396176['imageCode']&&(_0x5e62ef+=_0x45a6e1(0x4ba)+_0x1cda84+_0x45a6e1(0x106)+_0x396176[_0x45a6e1(0x26e)]+'</div>');_0x5e62ef+=_0x45a6e1(0x24e)+_0x1cda84+'\x22>'+_0x396176[_0x45a6e1(0x19a)]+_0x45a6e1(0x318),_0x5e62ef+=_0x45a6e1(0x2d5)+_0x1cda84+'\x22>'+_0x396176[_0x45a6e1(0xd7)]+'</span></div>';break;case'true_false':_0x5e62ef+=_0x45a6e1(0x67e)+_0x1cda84+'\x22>'+(_0x1cda84+0x1)+'.\x20'+_0x396176['questionText']+_0x45a6e1(0x3ae);_0x396176[_0x45a6e1(0x26e)]&&(_0x5e62ef+=_0x45a6e1(0x4ba)+_0x1cda84+_0x45a6e1(0x106)+_0x396176[_0x45a6e1(0x26e)]+_0x45a6e1(0x5ca));_0x5e62ef+=_0x45a6e1(0x371)+(_0x396176[_0x45a6e1(0x1cb)]===!![]?'text-green-600\x20font-bold':'')+_0x45a6e1(0x62a)+(_0x396176[_0x45a6e1(0x1cb)]===![]?_0x45a6e1(0x2de):'')+_0x45a6e1(0x5cf),_0x5e62ef+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1cda84+'\x22>'+_0x396176[_0x45a6e1(0xd7)]+_0x45a6e1(0x318);break;case'fill_in_the_blank':case _0x45a6e1(0xfa):default:_0x5e62ef+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1cda84+'\x22>'+(_0x1cda84+0x1)+'.\x20'+_0x396176[_0x45a6e1(0x2cb)]+_0x45a6e1(0x3ae);_0x396176[_0x45a6e1(0x26e)]&&(_0x5e62ef+=_0x45a6e1(0x4ba)+_0x1cda84+_0x45a6e1(0x106)+_0x396176[_0x45a6e1(0x26e)]+_0x45a6e1(0x5ca));_0x5e62ef+=_0x45a6e1(0x3dd)+_0x1cda84+_0x45a6e1(0x299)+_0x396176[_0x45a6e1(0x5c5)][_0x45a6e1(0x2ce)]((_0x90014b,_0x3a1aa7)=>_0x45a6e1(0x17f)+(_0x3a1aa7===_0x396176['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x90014b+_0x45a6e1(0x33e))[_0x45a6e1(0x42d)]('')+_0x45a6e1(0x10a),_0x5e62ef+=_0x45a6e1(0x2d5)+_0x1cda84+'\x22>'+_0x396176['explanation']+_0x45a6e1(0x318);break;}_0x5e62ef+=_0x45a6e1(0x5ca);}),_0x5e62ef+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2a0736[_0x491958(0xeb)]=_0x5e62ef,document['querySelectorAll']('.edit-question-btn')['forEach'](_0x4c45d4=>_0x4c45d4[_0x491958(0x413)]('click',handleEditQuestion)),document['querySelectorAll'](_0x491958(0x327))[_0x491958(0x5bc)](_0x4c6637=>_0x4c6637[_0x491958(0x413)](_0x491958(0x354),handleRegenerateQuestion)),document['querySelectorAll'](_0x491958(0x515))['forEach'](_0x5addb5=>_0x5addb5[_0x491958(0x413)](_0x491958(0x354),handleSaveToBank)),document[_0x491958(0x4eb)]('save-quiz-btn')['addEventListener']('click',saveQuiz);if(window[_0x491958(0x222)])window[_0x491958(0x222)][_0x491958(0x11e)]([_0x2a0736]);}function handleRegenerateQuestion(_0x331fa6){const _0x19da5c=_0x52e79a,_0x3e1e4b=_0x331fa6[_0x19da5c(0x321)][_0x19da5c(0x3b5)]['index'],_0x44f538=currentQuizData['topic'];showMessage(_0x19da5c(0x3ec)+(parseInt(_0x3e1e4b)+0x1)+'\x20ใหม่...'),generateQuiz(_0x44f538,null,parseInt(_0x3e1e4b));}function getPointerPosition(_0x4c7b5f,_0x7f17e0){const _0x355e56=_0x52e79a,_0x2c00a0=_0x4c7b5f[_0x355e56(0x527)]();let _0x265dfd,_0x4b8575;return _0x7f17e0[_0x355e56(0xd3)]&&_0x7f17e0[_0x355e56(0xd3)][_0x355e56(0x665)]>0x0?(_0x265dfd=_0x7f17e0[_0x355e56(0xd3)][0x0][_0x355e56(0x562)],_0x4b8575=_0x7f17e0[_0x355e56(0xd3)][0x0][_0x355e56(0x588)]):(_0x265dfd=_0x7f17e0[_0x355e56(0x562)],_0x4b8575=_0x7f17e0[_0x355e56(0x588)]),{'x':(_0x265dfd-_0x2c00a0['e'])/_0x2c00a0['a'],'y':(_0x4b8575-_0x2c00a0['f'])/_0x2c00a0['d']};}function startDrag(_0x2cb458){const _0x2bb80f=_0x52e79a;_0x2cb458['type']===_0x2bb80f(0x506)&&_0x2cb458[_0x2bb80f(0x2bf)]();const _0x2a9562=_0x2cb458[_0x2bb80f(0x3b1)][_0x2bb80f(0x334)](_0x2bb80f(0x241));if(_0x2a9562){draggedSvgElement=_0x2a9562;const _0x184be8=draggedSvgElement[_0x2bb80f(0x1f7)],_0x34d614=getPointerPosition(_0x184be8,_0x2cb458);svgOffset['x']=_0x34d614['x']-parseFloat(draggedSvgElement[_0x2bb80f(0x632)](null,'x')),svgOffset['y']=_0x34d614['y']-parseFloat(draggedSvgElement[_0x2bb80f(0x632)](null,'y'));}}function drag(_0x1b71e1){const _0x349c12=_0x52e79a;if(draggedSvgElement){_0x1b71e1[_0x349c12(0x2bf)]();const _0x23ed65=draggedSvgElement[_0x349c12(0x1f7)],_0x1b98e2=getPointerPosition(_0x23ed65,_0x1b71e1),_0x1a9b2d=_0x23ed65[_0x349c12(0x2f2)][_0x349c12(0x3e3)];let _0x2131fa=_0x1b98e2['x']-svgOffset['x'],_0x1f2e01=_0x1b98e2['y']-svgOffset['y'];const _0x2d9b5e=draggedSvgElement[_0x349c12(0x172)]();_0x2131fa=Math['max'](_0x1a9b2d['x'],Math[_0x349c12(0x11a)](_0x2131fa,_0x1a9b2d['x']+_0x1a9b2d[_0x349c12(0x618)]-_0x2d9b5e[_0x349c12(0x618)])),_0x1f2e01=Math[_0x349c12(0x641)](_0x1a9b2d['y'],Math[_0x349c12(0x11a)](_0x1f2e01,_0x1a9b2d['y']+_0x1a9b2d[_0x349c12(0xec)]-_0x2d9b5e[_0x349c12(0xec)])),draggedSvgElement['setAttributeNS'](null,'x',_0x2131fa),draggedSvgElement[_0x349c12(0x1c6)](null,'y',_0x1f2e01);}}function endDrag(_0x40e58c){draggedSvgElement=null;}function handleSvgEditClick(_0x1cb03d){const _0x1829c2=_0x52e79a;if(_0x1cb03d[_0x1829c2(0x3b1)][_0x1829c2(0x200)][_0x1829c2(0x448)](_0x1829c2(0x171))){const _0x3ca832=_0x1cb03d[_0x1829c2(0x3b1)][_0x1829c2(0x3b5)]['targetId'],_0x1d9c7f=_0x1cb03d[_0x1829c2(0x321)],_0x153115=_0x1d9c7f[_0x1829c2(0x2ad)]('#'+_0x3ca832);_0x153115&&_0x153115[_0x1829c2(0x1fd)](),_0x1cb03d[_0x1829c2(0x3b1)][_0x1829c2(0x1fd)]();}}function handleEditQuestion(_0x2333f2){const _0x2de061=_0x52e79a,_0x53f260=_0x2333f2[_0x2de061(0x321)],_0x1e211a=_0x53f260[_0x2de061(0x3b5)][_0x2de061(0x2bd)],_0x343bc3=currentQuizData['questions'][_0x1e211a],_0x25ff37=document[_0x2de061(0x4eb)]('q-text-'+_0x1e211a),_0xef6794=document[_0x2de061(0x4eb)](_0x2de061(0x3cb)+_0x1e211a),_0x57b6d1=document[_0x2de061(0x4eb)](_0x2de061(0x62f)+_0x1e211a);if(_0x53f260[_0x2de061(0xeb)][_0x2de061(0x592)](_0x2de061(0x153))){_0x53f260[_0x2de061(0xeb)]=_0x2de061(0x243),_0x53f260[_0x2de061(0x36f)]=_0x2de061(0x406);if(_0x25ff37)_0x25ff37[_0x2de061(0x54f)]=!![];if(_0xef6794)_0xef6794[_0x2de061(0x54f)]=!![];if(_0x57b6d1){const _0x37076b=_0x57b6d1[_0x2de061(0x2ad)]('svg');if(_0x37076b){const _0x4844cf=_0x37076b[_0x2de061(0x574)]('text');_0x4844cf[_0x2de061(0x5bc)]((_0x48ec4b,_0x15e20c)=>{const _0x18b3f2=_0x2de061,_0x1f2d74=_0x18b3f2(0x4ca)+_0x1e211a+'-'+_0x15e20c;_0x48ec4b['id']=_0x1f2d74,_0x48ec4b[_0x18b3f2(0x200)][_0x18b3f2(0x57b)]('draggable-text'),_0x48ec4b['style'][_0x18b3f2(0x602)]=_0x18b3f2(0x167);const _0x385b3d=document['createElementNS']('http://www.w3.org/2000/svg',_0x18b3f2(0x48f)),_0x549a31=_0x48ec4b['getBBox']();_0x385b3d[_0x18b3f2(0x546)]('cx',String(_0x549a31['x']+_0x549a31[_0x18b3f2(0x618)]+0x5)),_0x385b3d[_0x18b3f2(0x546)]('cy',String(_0x549a31['y']+_0x549a31['height']/0x2-0x5)),_0x385b3d[_0x18b3f2(0x546)]('r','5'),_0x385b3d['setAttribute'](_0x18b3f2(0x336),'red'),_0x385b3d['setAttribute'](_0x18b3f2(0x67d),_0x18b3f2(0x171)),_0x385b3d[_0x18b3f2(0x3b5)]['targetId']=_0x1f2d74,_0x48ec4b[_0x18b3f2(0x16a)](_0x385b3d);}),_0x37076b[_0x2de061(0x413)]('mousedown',startDrag),_0x37076b[_0x2de061(0x413)](_0x2de061(0x109),drag),_0x37076b[_0x2de061(0x413)](_0x2de061(0xd5),endDrag),_0x37076b[_0x2de061(0x413)](_0x2de061(0x219),endDrag),_0x37076b[_0x2de061(0x413)](_0x2de061(0x506),startDrag,{'passive':![]}),_0x37076b[_0x2de061(0x413)](_0x2de061(0x2f1),drag,{'passive':![]}),_0x37076b[_0x2de061(0x413)](_0x2de061(0x564),endDrag),_0x37076b['addEventListener'](_0x2de061(0x366),endDrag),_0x37076b[_0x2de061(0x413)](_0x2de061(0x354),handleSvgEditClick);}}if(_0x25ff37)_0x25ff37[_0x2de061(0x40e)]();}else{_0x53f260[_0x2de061(0xeb)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x53f260[_0x2de061(0x36f)]=_0x2de061(0x511);if(_0x25ff37){_0x25ff37[_0x2de061(0x54f)]=![];const _0x3a0717=_0x343bc3[_0x2de061(0x23d)]||currentQuizData[_0x2de061(0x3e6)];_0x3a0717==='matching_item'?_0x343bc3[_0x2de061(0x55b)]=_0x25ff37[_0x2de061(0x40a)][_0x2de061(0x492)](_0x25ff37[_0x2de061(0x40a)][_0x2de061(0x1fa)]('.')+0x2)['trim']():_0x343bc3['questionText']=_0x25ff37[_0x2de061(0x40a)]['substring'](_0x25ff37[_0x2de061(0x40a)]['indexOf']('.')+0x2)[_0x2de061(0xfd)]();}_0xef6794&&(_0xef6794[_0x2de061(0x54f)]=![],_0x343bc3[_0x2de061(0xd7)]=_0xef6794['innerText']);if(_0x57b6d1){const _0x5df4cd=_0x57b6d1[_0x2de061(0x2ad)](_0x2de061(0x43a));if(_0x5df4cd){const _0x21a54e=_0x5df4cd[_0x2de061(0x667)](!![]);_0x21a54e['querySelectorAll'](_0x2de061(0x351))[_0x2de061(0x5bc)](_0xb9f6d1=>_0xb9f6d1[_0x2de061(0x1fd)]()),_0x21a54e[_0x2de061(0x574)](_0x2de061(0x241))['forEach'](_0x57d6e9=>{const _0x46fe24=_0x2de061;_0x57d6e9[_0x46fe24(0x200)][_0x46fe24(0x1fd)](_0x46fe24(0x2ea)),_0x57d6e9[_0x46fe24(0x262)][_0x46fe24(0x602)]=_0x46fe24(0x57a),_0x57d6e9[_0x46fe24(0x59c)]('id');}),_0x343bc3[_0x2de061(0x26e)]=_0x21a54e['outerHTML'],_0x5df4cd['removeEventListener'](_0x2de061(0xed),startDrag),_0x5df4cd[_0x2de061(0x607)]('mousemove',drag),_0x5df4cd[_0x2de061(0x607)]('mouseup',endDrag),_0x5df4cd['removeEventListener'](_0x2de061(0x219),endDrag),_0x5df4cd[_0x2de061(0x607)](_0x2de061(0x506),startDrag),_0x5df4cd[_0x2de061(0x607)](_0x2de061(0x2f1),drag),_0x5df4cd[_0x2de061(0x607)](_0x2de061(0x564),endDrag),_0x5df4cd[_0x2de061(0x607)](_0x2de061(0x366),endDrag),_0x5df4cd[_0x2de061(0x607)](_0x2de061(0x354),handleSvgEditClick),_0x5df4cd[_0x2de061(0x574)](_0x2de061(0x351))[_0x2de061(0x5bc)](_0xfb91b8=>_0xfb91b8[_0x2de061(0x1fd)]()),_0x5df4cd[_0x2de061(0x574)](_0x2de061(0x241))[_0x2de061(0x5bc)](_0x5be62a=>{const _0x2532b6=_0x2de061;_0x5be62a[_0x2532b6(0x200)][_0x2532b6(0x1fd)]('draggable-text'),_0x5be62a[_0x2532b6(0x262)][_0x2532b6(0x602)]=_0x2532b6(0x57a);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1548ac){const _0x3992fd=_0x52e79a,_0x15a8ec=document['getElementById'](_0x3992fd(0x497)),_0x352e0d=document[_0x3992fd(0x4eb)](_0x3992fd(0x4a1));_0x352e0d[_0x3992fd(0xeb)]=_0x3992fd(0xf4),_0x15a8ec[_0x3992fd(0x200)][_0x3992fd(0x1fd)](_0x3992fd(0x4c1));try{const _0x35c148=doc(db,_0x3992fd(0x21f)+appId+_0x3992fd(0x46a),_0x1548ac),_0x28c3b5=await getDoc(_0x35c148);if(!_0x28c3b5[_0x3992fd(0x10e)]())throw new Error(_0x3992fd(0x51a));currentEditingQuizData={'id':_0x1548ac,..._0x28c3b5[_0x3992fd(0x67a)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x152a72){console[_0x3992fd(0x567)](_0x3992fd(0x4fe),_0x152a72),showMessage(_0x3992fd(0x5ce)),_0x15a8ec[_0x3992fd(0x200)][_0x3992fd(0x57b)]('hidden');}}function renderQuizEditor(_0x3c1e6c){const _0x3328cf=_0x52e79a;document[_0x3328cf(0x4eb)](_0x3328cf(0x159))[_0x3328cf(0x4d7)]=_0x3c1e6c[_0x3328cf(0x453)];const _0x3470f1=document[_0x3328cf(0x4eb)](_0x3328cf(0x4a1));let _0x111ceb=_0x3c1e6c[_0x3328cf(0x27f)][_0x3328cf(0x2ce)]((_0x5cd52d,_0x5f3d85)=>{const _0xa21d76=_0x3328cf;let _0x4743b0='';const _0x1985c9=_0x5cd52d['questionType']||_0x3c1e6c[_0xa21d76(0x3e6)];switch(_0x1985c9){case'multiple_choice':const _0x22b0ad=(_0x5cd52d[_0xa21d76(0x5c5)]||[])[_0xa21d76(0x2ce)]((_0x156037,_0x23ba29)=>_0xa21d76(0x59a)+_0x5f3d85+_0xa21d76(0x27a)+_0x23ba29+'\x22\x20'+(_0x23ba29===_0x5cd52d[_0xa21d76(0x5e7)]?'checked':'')+_0xa21d76(0xd1)+_0x156037+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xa21d76(0x42d)]('');_0x4743b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x22b0ad+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xa21d76(0x27d):_0x4743b0=_0xa21d76(0x4d8)+(_0x5cd52d[_0xa21d76(0x19a)]||'')+_0xa21d76(0x44c);break;case _0xa21d76(0x5a8):_0x4743b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x5f3d85+_0xa21d76(0x66f)+(_0x5cd52d[_0xa21d76(0x1cb)]===!![]?_0xa21d76(0x21b):'')+_0xa21d76(0x614)+_0x5f3d85+'\x22\x20value=\x22false\x22\x20'+(_0x5cd52d[_0xa21d76(0x1cb)]===![]?_0xa21d76(0x21b):'')+_0xa21d76(0x2db);break;case _0xa21d76(0x615):_0x4743b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x5cd52d[_0xa21d76(0x5a5)]||'')+_0xa21d76(0x5aa);break;}const _0x1ec87a=_0x5cd52d['questionText']||_0x5cd52d[_0xa21d76(0x55b)]||'';return'\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x5f3d85+_0xa21d76(0x4ee)+_0x1985c9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x5f3d85+0x1)+'\x20('+_0x1985c9+_0xa21d76(0x229)+_0x1ec87a+_0xa21d76(0x4f3)+_0x4743b0+_0xa21d76(0x4dc);})[_0x3328cf(0x42d)]('');_0x3470f1['innerHTML']=_0x111ceb;}async function handleSaveChanges(){const _0x3cdaab=_0x52e79a,_0x35226e=document[_0x3cdaab(0x4eb)](_0x3cdaab(0x493));_0x35226e[_0x3cdaab(0x5cb)]=!![],_0x35226e[_0x3cdaab(0xeb)]=_0x3cdaab(0x46c);try{const _0x1858b7=document[_0x3cdaab(0x4eb)](_0x3cdaab(0x159))[_0x3cdaab(0x4d7)],_0x2afb48=document['querySelectorAll'](_0x3cdaab(0x280));let _0x3351d2=[];const _0x2d8cd8=Array[_0x3cdaab(0x1d0)](_0x2afb48)[_0x3cdaab(0x2ce)]((_0x5b116b,_0x488087)=>{const _0x36e6a0=_0x3cdaab,_0x189ec6=_0x5b116b[_0x36e6a0(0x3b5)][_0x36e6a0(0x51e)],_0x4118ff=_0x5b116b[_0x36e6a0(0x2ad)](_0x36e6a0(0x26b))['value'];let _0x28ee85={'questionType':_0x189ec6};const _0x523fa8=currentEditingQuizData['questions'][_0x488087];switch(_0x189ec6){case _0x36e6a0(0xfa):_0x28ee85[_0x36e6a0(0x2cb)]=_0x4118ff;const _0x2ebaf0=_0x5b116b[_0x36e6a0(0x574)](_0x36e6a0(0x476));_0x28ee85[_0x36e6a0(0x5c5)]=Array[_0x36e6a0(0x1d0)](_0x2ebaf0)['map'](_0x42c832=>_0x42c832['value']);const _0x22fceb=_0x5b116b['querySelector']('input[type=\x22radio\x22]:checked');_0x28ee85['correctAnswerIndex']=_0x22fceb?parseInt(_0x22fceb[_0x36e6a0(0x4d7)]):0x0;break;case'short_answer':_0x28ee85[_0x36e6a0(0x2cb)]=_0x4118ff,_0x28ee85[_0x36e6a0(0x19a)]=_0x5b116b[_0x36e6a0(0x2ad)](_0x36e6a0(0x66d))[_0x36e6a0(0x4d7)];break;case _0x36e6a0(0x5a8):_0x28ee85[_0x36e6a0(0x2cb)]=_0x4118ff;const _0x579918=_0x5b116b[_0x36e6a0(0x2ad)](_0x36e6a0(0x5f3));_0x28ee85[_0x36e6a0(0x1cb)]=_0x579918?_0x579918['value']===_0x36e6a0(0x29b):!![];break;case _0x36e6a0(0x615):_0x28ee85[_0x36e6a0(0x55b)]=_0x4118ff;const _0x287e76=_0x5b116b[_0x36e6a0(0x2ad)](_0x36e6a0(0x64c));_0x28ee85[_0x36e6a0(0x5a5)]=_0x287e76?_0x287e76[_0x36e6a0(0x4d7)]:'',_0x3351d2[_0x36e6a0(0x2e0)](_0x28ee85[_0x36e6a0(0x5a5)]);break;default:_0x28ee85[_0x36e6a0(0x2cb)]=_0x4118ff;break;}return{..._0x523fa8,..._0x28ee85};});_0x3351d2[_0x3cdaab(0x665)]>0x0&&_0x2d8cd8['forEach'](_0x5f23d7=>{const _0x329760=_0x3cdaab;_0x5f23d7[_0x329760(0x23d)]===_0x329760(0x615)&&(_0x5f23d7[_0x329760(0x2e6)]=_0x3351d2);});const _0x38ef88=doc(db,'artifacts/'+appId+_0x3cdaab(0x46a),currentEditingQuizData['id']);await updateDoc(_0x38ef88,{'topic':_0x1858b7,'questions':_0x2d8cd8}),showMessage(_0x3cdaab(0x30d)),document[_0x3cdaab(0x4eb)](_0x3cdaab(0x497))['classList']['add'](_0x3cdaab(0x4c1));}catch(_0x3f420b){console['error'](_0x3cdaab(0x481),_0x3f420b),showMessage(_0x3cdaab(0x264));}finally{_0x35226e[_0x3cdaab(0x5cb)]=![],_0x35226e[_0x3cdaab(0xeb)]=_0x3cdaab(0x57e);}}async function saveQuiz(){const _0x13f14e=_0x52e79a;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x13f14e(0x27f)]||!userId){showMessage(_0x13f14e(0x635));return;}const _0x5bd898=document['getElementById'](_0x13f14e(0x519));_0x5bd898[_0x13f14e(0x5cb)]=!![],_0x5bd898[_0x13f14e(0xeb)]=_0x13f14e(0x46c),currentQuizData[_0x13f14e(0x453)]=document[_0x13f14e(0x4eb)](_0x13f14e(0x1b9))[_0x13f14e(0x40a)];try{const _0x300852={'resultsDisplay':document[_0x13f14e(0x4eb)]('results-display-select')['value'],'shuffle':document[_0x13f14e(0x4eb)](_0x13f14e(0x1f9))[_0x13f14e(0x4d7)],'timerMode':document[_0x13f14e(0x4eb)](_0x13f14e(0x4db))[_0x13f14e(0x4d7)],'timerDuration':parseInt(document[_0x13f14e(0x4eb)](_0x13f14e(0x204))[_0x13f14e(0x4d7)])||0xa,'passingScore':parseInt(document['getElementById'](_0x13f14e(0x501))[_0x13f14e(0x4d7)])||0x0,'isAdaptive':document[_0x13f14e(0x4eb)]('adaptive-quiz-checkbox')[_0x13f14e(0x21b)]},_0x245761=(currentQuizData[_0x13f14e(0x27f)]||[])[_0x13f14e(0x2ce)](_0x442a6d=>{const _0x1cd0f5=_0x13f14e,_0x1dda6e=document[_0x1cd0f5(0x4eb)](_0x1cd0f5(0xee))[_0x1cd0f5(0x4d7)],_0x2e5739={'questionText':_0x442a6d[_0x1cd0f5(0x2cb)]||'','explanation':_0x442a6d[_0x1cd0f5(0xd7)]||_0x1cd0f5(0x2b6),'questionType':_0x442a6d[_0x1cd0f5(0x23d)]||_0x1dda6e,'imageCode':_0x442a6d[_0x1cd0f5(0x26e)]||null};return(_0x2e5739['questionType']==='multiple_choice'||_0x2e5739[_0x1cd0f5(0x23d)]===_0x1cd0f5(0x2b4)||_0x2e5739[_0x1cd0f5(0x23d)]===_0x1cd0f5(0x26a)&&_0x442a6d[_0x1cd0f5(0x5c5)])&&(_0x2e5739[_0x1cd0f5(0x5c5)]=_0x442a6d[_0x1cd0f5(0x5c5)]||[],_0x2e5739[_0x1cd0f5(0x5e7)]=_0x442a6d[_0x1cd0f5(0x5e7)]!==undefined?_0x442a6d[_0x1cd0f5(0x5e7)]:0x0),(_0x2e5739[_0x1cd0f5(0x23d)]===_0x1cd0f5(0x27d)||_0x2e5739[_0x1cd0f5(0x23d)]===_0x1cd0f5(0x5b4)||_0x2e5739[_0x1cd0f5(0x23d)]===_0x1cd0f5(0x26a)&&_0x442a6d[_0x1cd0f5(0x19a)])&&(_0x2e5739[_0x1cd0f5(0x19a)]=_0x442a6d[_0x1cd0f5(0x19a)]||''),_0x2e5739[_0x1cd0f5(0x23d)]===_0x1cd0f5(0x5a8)&&(_0x2e5739[_0x1cd0f5(0x1cb)]=_0x442a6d[_0x1cd0f5(0x1cb)]===!![]),_0x2e5739['questionType']===_0x1cd0f5(0x615)&&(_0x2e5739['stem']=_0x442a6d[_0x1cd0f5(0x55b)]||'',_0x2e5739[_0x1cd0f5(0x5a5)]=_0x442a6d['correctResponse']||'',_0x2e5739[_0x1cd0f5(0x2e6)]=_0x442a6d[_0x1cd0f5(0x2e6)]||[]),_0x2e5739;}),_0x133a5d={'topic':currentQuizData[_0x13f14e(0x453)]||_0x13f14e(0x462),'quizType':currentQuizData[_0x13f14e(0x3e6)]||_0x13f14e(0xfa),'questions':_0x245761,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x13f14e(0x43b)](),'status':_0x13f14e(0x553),'settings':_0x300852};let _0x694ff5;while(!![]){_0x694ff5=Math[_0x13f14e(0x634)](0x3e8+Math[_0x13f14e(0x1f3)]()*0x2328)[_0x13f14e(0x29c)]();const _0x5789e3=await getDoc(doc(db,_0x13f14e(0x21f)+appId+_0x13f14e(0x46a),_0x694ff5));if(!_0x5789e3['exists']())break;}await setDoc(doc(db,_0x13f14e(0x21f)+appId+'/public/data/quizzes',_0x694ff5),_0x133a5d),currentQuizData[_0x13f14e(0x1a2)]=_0x300852,currentQuizData['id']=_0x694ff5;const _0x5bed00=document['getElementById'](_0x13f14e(0x1db));_0x5bed00[_0x13f14e(0xeb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x694ff5+_0x13f14e(0x15e),document['getElementById'](_0x13f14e(0x3d6))[_0x13f14e(0x413)]('click',()=>copyTextToClipboard(_0x694ff5,_0x13f14e(0x456))),document['getElementById'](_0x13f14e(0x34f))['addEventListener'](_0x13f14e(0x354),()=>handleStartLiveRace(_0x694ff5)),document[_0x13f14e(0x4eb)](_0x13f14e(0x372))[_0x13f14e(0x413)](_0x13f14e(0x354),()=>startPresentation(currentQuizData)),document[_0x13f14e(0x4eb)](_0x13f14e(0x290))[_0x13f14e(0x413)](_0x13f14e(0x354),startAdminTest),showMessage(_0x13f14e(0x673));}catch(_0x5577eb){console[_0x13f14e(0x567)](_0x13f14e(0x434),_0x5577eb),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x5bd898[_0x13f14e(0x5cb)]=![],_0x5bd898['innerHTML']=_0x13f14e(0x124);}}function promptForProjectAndSave(){const _0x1e0284=_0x52e79a,_0x3aeeaf=document[_0x1e0284(0x4eb)](_0x1e0284(0x12a)),_0x153143=document[_0x1e0284(0x4eb)](_0x1e0284(0x489)),_0x459e2c=_0x3aeeaf['querySelector']('h3'),_0x5cdd04=document[_0x1e0284(0x4eb)](_0x1e0284(0x58a));_0x459e2c[_0x1e0284(0x3cd)]=_0x1e0284(0x2fb),_0x5cdd04[_0x1e0284(0x3cd)]='เลือกและบันทึก';allProjects[_0x1e0284(0x665)]===0x0?(_0x153143['innerHTML']=_0x1e0284(0xdd),_0x5cdd04['disabled']=!![]):(_0x153143[_0x1e0284(0xeb)]=allProjects[_0x1e0284(0x2ce)](_0x5928ef=>'<option\x20value=\x22'+_0x5928ef['id']+'\x22>'+_0x5928ef['projectName']+_0x1e0284(0x3a1))[_0x1e0284(0x42d)](''),_0x5cdd04[_0x1e0284(0x5cb)]=![]);_0x3aeeaf[_0x1e0284(0x200)][_0x1e0284(0x1fd)](_0x1e0284(0x4c1));const _0x274d86=()=>{const _0x28dab2=_0x1e0284,_0x5e9134=_0x153143[_0x28dab2(0x4d7)];_0x5e9134?(currentProjectId=_0x5e9134,_0x3aeeaf[_0x28dab2(0x200)][_0x28dab2(0x57b)](_0x28dab2(0x4c1)),saveQuiz(),_0x459e2c[_0x28dab2(0x3cd)]=_0x28dab2(0x2a7),_0x5cdd04['textContent']=_0x28dab2(0xf0),_0x5cdd04[_0x28dab2(0x607)]('click',_0x274d86),_0x5cdd04[_0x28dab2(0x413)](_0x28dab2(0x354),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x5cdd04['removeEventListener'](_0x1e0284(0x354),confirmMoveQuiz),_0x5cdd04[_0x1e0284(0x413)](_0x1e0284(0x354),_0x274d86);}function copyTextToClipboard(_0x1341ea,_0x38ef71){const _0x1799e6=_0x52e79a,_0xaeff9b=document[_0x1799e6(0x5a9)](_0x1799e6(0x26b));_0xaeff9b[_0x1799e6(0x4d7)]=_0x1341ea,_0xaeff9b[_0x1799e6(0x262)][_0x1799e6(0x4a6)]=_0x1799e6(0x18d),_0xaeff9b[_0x1799e6(0x262)][_0x1799e6(0x165)]='0',document['body'][_0x1799e6(0x223)](_0xaeff9b),_0xaeff9b[_0x1799e6(0x40e)](),_0xaeff9b[_0x1799e6(0x1f2)]();try{const _0x40a3a9=document[_0x1799e6(0x24d)]('copy');showMessage(_0x40a3a9?_0x38ef71:'คัดลอกไม่สำเร็จ');}catch(_0x5f1e69){showMessage(_0x1799e6(0x452)),console['error']('Copy\x20command\x20failed',_0x5f1e69);}document[_0x1799e6(0x14f)][_0x1799e6(0x369)](_0xaeff9b);}function listenForProjectQuizzes(_0x509fec){const _0xb644cd=_0x52e79a,_0x56e391=collection(db,_0xb644cd(0x21f)+appId+_0xb644cd(0x46a)),_0x1a99ba=query(_0x56e391,where(_0xb644cd(0x542),'==',_0x509fec));unsubscribeQuizzesListener=onSnapshot(_0x1a99ba,async _0x45c6d2=>{const _0x3eebfb=_0xb644cd;allQuizzes=_0x45c6d2[_0x3eebfb(0x45c)][_0x3eebfb(0x2ce)](_0x3a7833=>({'id':_0x3a7833['id'],..._0x3a7833[_0x3eebfb(0x67a)]()})),renderQuizzes();},_0x32c3d0=>{const _0x56f5a3=_0xb644cd;console['error'](_0x56f5a3(0x4c7),_0x32c3d0),document[_0x56f5a3(0x4eb)](_0x56f5a3(0x211))[_0x56f5a3(0xeb)]=_0x56f5a3(0x20d);});}async function renderQuizzes(){const _0x41d77e=_0x52e79a,_0xf5bea4=document[_0x41d77e(0x4eb)](_0x41d77e(0x211)),_0x453752=document[_0x41d77e(0x4eb)](_0x41d77e(0x461))[_0x41d77e(0x4d7)][_0x41d77e(0x177)]();let _0x5f346c;currentProjectId===_0x41d77e(0x133)?_0x5f346c=starredQuizzes:_0x5f346c=allQuizzes;let _0x1a89b9=_0x5f346c[_0x41d77e(0x3d5)](_0x25bb9b=>_0x25bb9b[_0x41d77e(0x453)][_0x41d77e(0x177)]()[_0x41d77e(0x592)](_0x453752));_0x1a89b9[_0x41d77e(0x328)]((_0x24b682,_0x5e4bcf)=>new Date(_0x5e4bcf[_0x41d77e(0x329)])-new Date(_0x24b682['createdAt']));if(_0x1a89b9['length']===0x0){_0xf5bea4[_0x41d77e(0xeb)]=_0x41d77e(0x232);return;}const _0x3be6ae={},_0x5c95c8=_0x1a89b9[_0x41d77e(0x2ce)](async _0x3eaca9=>{const _0x1aba61=_0x41d77e,_0x568cfd=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x3eaca9['id']+_0x1aba61(0x480)),_0x457d0f=await getDocs(_0x568cfd);_0x3be6ae[_0x3eaca9['id']]=_0x457d0f[_0x1aba61(0x145)];});await Promise[_0x41d77e(0x1b5)](_0x5c95c8);let _0x1b81b3='';_0x1a89b9[_0x41d77e(0x5bc)](_0x5b1de5=>{const _0x47539d=_0x41d77e,_0x5152d1=_0x3be6ae[_0x5b1de5['id']]||0x0,_0x3830a6=_0x5b1de5[_0x47539d(0x657)]||_0x47539d(0x553),_0x462a25=_0x5b1de5[_0x47539d(0x1a2)]?.['timerMode']||_0x47539d(0x364);let _0x2ea7b6='',_0x2ca293='';const _0x1d42e4=new Date();let _0x1209db=_0x3830a6;if(_0x3830a6===_0x47539d(0x67b)){const _0x577960=_0x5b1de5[_0x47539d(0x389)]?new Date(_0x5b1de5[_0x47539d(0x389)]):null,_0x1028d3=_0x5b1de5[_0x47539d(0x3ac)]?new Date(_0x5b1de5[_0x47539d(0x3ac)]):null;if(_0x1028d3&&_0x1d42e4>_0x1028d3)_0x1209db=_0x47539d(0x164);else _0x577960&&_0x1d42e4<_0x577960?_0x1209db=_0x47539d(0x29e):_0x1209db=_0x47539d(0x553);}switch(_0x1209db){case _0x47539d(0x164):_0x2ea7b6=_0x47539d(0x603),_0x2ca293=_0x47539d(0x3a6);break;case _0x47539d(0x29e):_0x2ea7b6=_0x47539d(0x417),_0x2ca293='text-blue-700\x20bg-blue-100';break;case'active':_0x2ea7b6=_0x462a25!==_0x47539d(0x364)?_0x47539d(0x225):_0x47539d(0x582),_0x2ca293=_0x47539d(0x66a);break;default:_0x2ea7b6=_0x47539d(0x347),_0x2ca293=_0x47539d(0x66a);}let _0x8e9a1='';const _0x1ec5c0={'day':_0x47539d(0x3ef),'month':_0x47539d(0x3ef),'year':_0x47539d(0x1b1),'hour':_0x47539d(0x3ef),'minute':_0x47539d(0x3ef),'hour12':![]};_0x3830a6===_0x47539d(0x67b)&&(_0x5b1de5[_0x47539d(0x389)]&&(_0x8e9a1+=_0x47539d(0x41d)+new Date(_0x5b1de5[_0x47539d(0x389)])[_0x47539d(0x43e)](_0x47539d(0x3e7),_0x1ec5c0)+_0x47539d(0x3ae)),_0x5b1de5[_0x47539d(0x3ac)]&&(_0x8e9a1+=_0x47539d(0x650)+new Date(_0x5b1de5[_0x47539d(0x3ac)])[_0x47539d(0x43e)](_0x47539d(0x3e7),_0x1ec5c0)+_0x47539d(0x3ae))),_0x1b81b3+=_0x47539d(0xe1)+_0x5b1de5['id']+_0x47539d(0x435)+_0x5b1de5[_0x47539d(0x453)]+_0x47539d(0x472)+_0x5b1de5['questions'][_0x47539d(0x665)]+_0x47539d(0x122)+new Date(_0x5b1de5[_0x47539d(0x329)])[_0x47539d(0x43e)]('th-TH')+_0x47539d(0x419)+_0x5152d1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8e9a1+_0x47539d(0x29f)+_0x2ca293+'\x22>'+_0x2ea7b6+_0x47539d(0x55d)+_0x5b1de5['id']+_0x47539d(0x2ca)+_0x5b1de5['id']+_0x47539d(0x312)+(_0x5b1de5[_0x47539d(0x37b)]?_0x47539d(0x4b6):_0x47539d(0x335))+_0x47539d(0x217)+_0x5b1de5['id']+_0x47539d(0xdc)+_0x5b1de5['id']+'\x22\x20data-topic=\x22'+_0x5b1de5[_0x47539d(0x453)]+_0x47539d(0x147)+_0x5b1de5['id']+_0x47539d(0x5dc)+_0x5b1de5['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b1de5['id']+_0x47539d(0x1ef)+_0x5b1de5['id']+_0x47539d(0x1a9)+_0x5b1de5['id']+_0x47539d(0x34d)+_0x5b1de5['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b1de5['id']+_0x47539d(0x4d4)+_0x5b1de5['id']+_0x47539d(0x1aa)+_0x5b1de5['id']+'\x22\x20data-topic=\x22'+_0x5b1de5['topic']+_0x47539d(0x422);}),_0xf5bea4[_0x41d77e(0xeb)]=_0x1b81b3,document[_0x41d77e(0x574)]('.quiz-result-card')[_0x41d77e(0x5bc)](_0x119cef=>{const _0x587ffc=_0x41d77e;_0x119cef['addEventListener'](_0x587ffc(0x354),()=>{const _0xa816b0=_0x587ffc,_0x49ad92=_0x119cef[_0xa816b0(0x3b5)][_0xa816b0(0x61e)];showQuizDetailView(_0x49ad92);});});}async function handleDuplicateQuiz(_0x63dbe4){const _0x5f5d88=_0x52e79a;try{const _0x177582=doc(db,_0x5f5d88(0x21f)+appId+_0x5f5d88(0x46a),_0x63dbe4),_0x18111d=await getDoc(_0x177582);if(_0x18111d['exists']()){const _0x7cd3e1=_0x18111d['data'](),_0x5974c4={..._0x7cd3e1,'topic':_0x5f5d88(0x157)+_0x7cd3e1[_0x5f5d88(0x453)],'createdAt':new Date()['toISOString']()};await addDoc(collection(db,_0x5f5d88(0x21f)+appId+_0x5f5d88(0x46a)),_0x5974c4),showMessage(_0x5f5d88(0x433));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x19e7a8){console[_0x5f5d88(0x567)](_0x5f5d88(0x61c),_0x19e7a8),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x3b23c8,_0x3d2788=!![]){const _0x3758ed=_0x52e79a;try{const _0x2b9f7b=writeBatch(db),_0x59aac8=collection(db,_0x3758ed(0x21f)+appId+'/public/data/quizzes/'+_0x3b23c8+_0x3758ed(0x480)),_0xa3784d=await getDocs(_0x59aac8);_0xa3784d[_0x3758ed(0x5bc)](_0x5bb0f0=>{_0x2b9f7b['delete'](doc(_0x59aac8,_0x5bb0f0['id']));});const _0x250898=doc(db,_0x3758ed(0x21f)+appId+_0x3758ed(0x46a),_0x3b23c8);_0x2b9f7b[_0x3758ed(0x639)](_0x250898),await _0x2b9f7b[_0x3758ed(0x4bf)](),_0x3d2788&&showMessage(_0x3758ed(0x1d7));}catch(_0x505742){console[_0x3758ed(0x567)](_0x3758ed(0x4b5),_0x505742),_0x3d2788&&showMessage(_0x3758ed(0x4da));}}async function showQuizDetailView(_0x15a13a){const _0x165d17=_0x52e79a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x165d17(0x2a5));try{const _0x332dd2=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x15a13a),_0xe0d3fd=await getDoc(_0x332dd2);if(!_0xe0d3fd[_0x165d17(0x10e)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0xed2447={'id':_0xe0d3fd['id'],..._0xe0d3fd['data']()};currentQuizData=_0xed2447;const _0x2c61f0=doc(db,_0x165d17(0x21f)+appId+_0x165d17(0x40c),_0xed2447['projectId']),_0x2eefba=await getDoc(_0x2c61f0);_0x2eefba[_0x165d17(0x10e)]()?(currentProjectData=_0x2eefba['data'](),currentProjectId=_0xed2447[_0x165d17(0x542)]):(currentProjectData={'students':[]},currentProjectId=_0xed2447[_0x165d17(0x542)]);document[_0x165d17(0x4eb)](_0x165d17(0x176))[_0x165d17(0x3cd)]=_0xed2447[_0x165d17(0x453)],document[_0x165d17(0x4eb)](_0x165d17(0x350))['textContent']=_0x15a13a;const _0x5c7ac5=collection(db,_0x165d17(0x21f)+appId+_0x165d17(0x46a),_0x15a13a,_0x165d17(0x400));unsubscribeSubmissionsListener=onSnapshot(_0x5c7ac5,_0x82f101=>{const _0x2074b1=_0x165d17,_0x393c1d=_0x82f101[_0x2074b1(0x45c)]['map'](_0x4deaec=>({'id':_0x4deaec['id'],..._0x4deaec[_0x2074b1(0x67a)]()}));currentSubmissions=_0x393c1d,renderAnalytics(_0xed2447,_0x393c1d),renderQuizResultsTable(currentProjectData['students'],_0x393c1d,_0xed2447),renderQuizLeaderboard(_0x393c1d,_0xed2447,_0x2074b1(0x467));}),showView(_0x165d17(0x619));}catch(_0x531efd){console[_0x165d17(0x567)](_0x165d17(0x4ab),_0x531efd),showMessage(_0x165d17(0x390));}}function renderQuizResultsTable(_0x72980,_0x4cd3b9,_0x4e9e2f){const _0x4f6f17=_0x52e79a,_0x48a109=_0x4cd3b9[_0x4f6f17(0x59d)]((_0x347ee9,_0x2dd24a)=>{return _0x347ee9[_0x2dd24a['studentName']]=_0x2dd24a,_0x347ee9;},{}),_0x1593f7=document[_0x4f6f17(0x4eb)](_0x4f6f17(0x263));if(!_0x72980||_0x72980[_0x4f6f17(0x665)]===0x0){_0x1593f7[_0x4f6f17(0xeb)]=_0x4f6f17(0x523);return;}const _0x292e83=_0x4e9e2f['isRemedial']===!![],_0x417153=_0x4e9e2f['settings']?.[_0x4f6f17(0x62e)]??-0x1;let _0x92a32a='';_0x72980[_0x4f6f17(0x5bc)](_0x305ddb=>{const _0x20d6e5=_0x4f6f17,_0x1891ab=_0x48a109[_0x305ddb];let _0xae75e9='<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>',_0x3b5629=_0x20d6e5(0x135)+(_0x292e83?_0x20d6e5(0x205):_0x20d6e5(0x5bb))+'\x22>'+(_0x292e83?_0x20d6e5(0x4ea):_0x20d6e5(0x348))+'</span></td>';if(_0x1891ab){let _0x4685f0;_0x292e83?_0x4685f0=_0x1891ab[_0x20d6e5(0x4c3)]===_0x1891ab['totalQuestions']:_0x4685f0=_0x417153!==-0x1&&_0x1891ab[_0x20d6e5(0x4c3)]>=_0x417153;if(_0x292e83||_0x417153!==-0x1){const _0x1ab7ea=_0x4685f0?_0x20d6e5(0x649):_0x20d6e5(0xea),_0x33d34d=_0x4685f0?'ผ่าน':'ไม่ผ่าน';_0xae75e9='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1ab7ea+'\x22>'+_0x33d34d+'</span></td>';}const _0x542962=_0x20d6e5(0x123)+(_0x1891ab['attempts']?.[_0x20d6e5(0x665)]||0x1)+_0x20d6e5(0x187);_0x92a32a+=_0x20d6e5(0x230)+_0x305ddb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x1891ab[_0x20d6e5(0x4c3)]+'\x20/\x20'+_0x1891ab['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xae75e9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b5629+_0x20d6e5(0x569)+_0x1891ab[_0x20d6e5(0x358)]+_0x20d6e5(0x5ee)+_0x1891ab['totalQuestions']+_0x20d6e5(0x209)+_0x1891ab[_0x20d6e5(0x475)]+_0x20d6e5(0x53b)+(_0x1891ab[_0x20d6e5(0x643)]||0x0)+_0x20d6e5(0x4ae)+_0x542962+_0x20d6e5(0x3a3)+new Date(_0x1891ab[_0x20d6e5(0xfe)])[_0x20d6e5(0x43e)](_0x20d6e5(0x3e7))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x4eff67='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x92a32a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x305ddb+_0x20d6e5(0x201)+_0x3b5629+_0x20d6e5(0x1da)+_0x4eff67+_0x20d6e5(0x158);}}),_0x1593f7[_0x4f6f17(0xeb)]=_0x92a32a;}function handleRenameQuiz(_0x51742d,_0x4aa0fb){const _0x283f0d=_0x52e79a;actionTargetId=_0x51742d,document[_0x283f0d(0x4eb)](_0x283f0d(0x383))[_0x283f0d(0x4d7)]=_0x4aa0fb,renameQuizModal[_0x283f0d(0x200)]['remove'](_0x283f0d(0x4c1));}async function confirmRenameQuiz(){const _0x41b48d=_0x52e79a,_0x37ed4c=document[_0x41b48d(0x4eb)](_0x41b48d(0x383))[_0x41b48d(0x4d7)][_0x41b48d(0xfd)]();if(!_0x37ed4c){showMessage(_0x41b48d(0x536));return;}if(!actionTargetId)return;const _0x5320b3=doc(db,_0x41b48d(0x21f)+appId+_0x41b48d(0x46a),actionTargetId);try{await updateDoc(_0x5320b3,{'topic':_0x37ed4c}),showMessage(_0x41b48d(0xe5)),renameQuizModal['classList'][_0x41b48d(0x57b)](_0x41b48d(0x4c1)),actionTargetId=null;}catch(_0x1fc25d){console[_0x41b48d(0x567)](_0x41b48d(0x411),_0x1fc25d),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0xd65018){const _0x2d58ed=_0x52e79a;actionTargetId=_0xd65018;const _0x511ff2=document['getElementById'](_0x2d58ed(0x489));_0x511ff2[_0x2d58ed(0xeb)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x2d58ed(0x200)][_0x2d58ed(0x1fd)]('hidden');try{const _0x312bb2=collection(db,'artifacts/'+appId+_0x2d58ed(0x40c)),_0x1e4c3e=await getDocs(_0x312bb2),_0x7f9e68=_0x1e4c3e[_0x2d58ed(0x45c)][_0x2d58ed(0x2ce)](_0x134aa4=>({'id':_0x134aa4['id'],..._0x134aa4[_0x2d58ed(0x67a)]()})),_0x4280cf=_0x7f9e68[_0x2d58ed(0x3d5)](_0x31274c=>_0x31274c['id']!==currentProjectId);if(_0x4280cf[_0x2d58ed(0x665)]===0x0){_0x511ff2[_0x2d58ed(0xeb)]=_0x2d58ed(0x155),document[_0x2d58ed(0x4eb)](_0x2d58ed(0x58a))[_0x2d58ed(0x5cb)]=!![];return;}_0x511ff2[_0x2d58ed(0xeb)]=_0x4280cf[_0x2d58ed(0x2ce)](_0x4db2b6=>_0x2d58ed(0x13a)+_0x4db2b6['id']+'\x22>'+_0x4db2b6['projectName']+_0x2d58ed(0x3a1))[_0x2d58ed(0x42d)](''),document['getElementById'](_0x2d58ed(0x58a))[_0x2d58ed(0x5cb)]=![];}catch(_0x3288e0){console[_0x2d58ed(0x567)](_0x2d58ed(0x1bf),_0x3288e0),showMessage(_0x2d58ed(0x31e)),moveQuizModal[_0x2d58ed(0x200)][_0x2d58ed(0x57b)](_0x2d58ed(0x4c1));}}async function confirmMoveQuiz(){const _0xaa6917=_0x52e79a,_0x27658a=document[_0xaa6917(0x4eb)](_0xaa6917(0x489))[_0xaa6917(0x4d7)];if(!_0x27658a){showMessage(_0xaa6917(0x374));return;}if(!actionTargetId)return;const _0x1a1a3e=doc(db,_0xaa6917(0x21f)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1a1a3e,{'projectId':_0x27658a}),showMessage(_0xaa6917(0x2a2)),moveQuizModal['classList']['add']('hidden'),actionTargetId=null;}catch(_0x18cd3b){console['error']('Error\x20moving\x20quiz:',_0x18cd3b),showMessage(_0xaa6917(0x1d9));}}async function handleQuizSettings(_0x100932){const _0x4e7fac=_0x52e79a;actionTargetId=_0x100932;const _0x2a5563=doc(db,_0x4e7fac(0x21f)+appId+_0x4e7fac(0x46a),_0x100932);try{const _0x5dd147=await getDoc(_0x2a5563);if(_0x5dd147[_0x4e7fac(0x10e)]()){const _0x9f9d8a=_0x5dd147[_0x4e7fac(0x67a)](),_0x12db5d=_0x9f9d8a[_0x4e7fac(0x1a2)]||{},_0x4ec29f=_0x9f9d8a['questions']['length'];document[_0x4e7fac(0x4eb)](_0x4e7fac(0x18a))[_0x4e7fac(0x4d7)]=_0x12db5d[_0x4e7fac(0x50a)]||_0x4e7fac(0x364),document['getElementById'](_0x4e7fac(0x672))[_0x4e7fac(0x4d7)]=_0x12db5d['resultsDisplay']||_0x4e7fac(0x48c),document[_0x4e7fac(0x4eb)]('modal-timer-mode-select')['value']=_0x12db5d[_0x4e7fac(0x247)]||'none',document['getElementById'](_0x4e7fac(0x621))[_0x4e7fac(0x4d7)]=_0x12db5d[_0x4e7fac(0x246)]||0xa,document[_0x4e7fac(0x4eb)](_0x4e7fac(0x2f8))['value']=_0x12db5d[_0x4e7fac(0x62e)]||Math[_0x4e7fac(0x634)](_0x4ec29f/0x2),document[_0x4e7fac(0x4eb)](_0x4e7fac(0x2f8))[_0x4e7fac(0x641)]=_0x4ec29f,document['getElementById'](_0x4e7fac(0x353))['checked']=_0x12db5d[_0x4e7fac(0x52f)]||![],document[_0x4e7fac(0x4eb)]('modal-timer-mode-select')[_0x4e7fac(0x3ba)](new Event('change')),quizSettingsModal[_0x4e7fac(0x200)][_0x4e7fac(0x1fd)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x57cbf8){console[_0x4e7fac(0x567)]('Error\x20fetching\x20quiz\x20settings:',_0x57cbf8),showMessage(_0x4e7fac(0x59f));}}async function confirmQuizSettings(){const _0x387a29=_0x52e79a;if(!actionTargetId)return;const _0x4965c9=doc(db,_0x387a29(0x21f)+appId+_0x387a29(0x46a),actionTargetId),_0x230d97={'shuffle':document[_0x387a29(0x4eb)](_0x387a29(0x18a))[_0x387a29(0x4d7)],'resultsDisplay':document[_0x387a29(0x4eb)](_0x387a29(0x672))[_0x387a29(0x4d7)],'timerMode':document[_0x387a29(0x4eb)](_0x387a29(0x5c9))[_0x387a29(0x4d7)],'timerDuration':parseInt(document[_0x387a29(0x4eb)](_0x387a29(0x621))[_0x387a29(0x4d7)])||0xa,'passingScore':parseInt(document[_0x387a29(0x4eb)](_0x387a29(0x2f8))['value'])||0x0,'passingScore':parseInt(document[_0x387a29(0x4eb)](_0x387a29(0x2f8))[_0x387a29(0x4d7)])||0x0,'isAdaptive':document[_0x387a29(0x4eb)](_0x387a29(0x353))['checked']};try{await updateDoc(_0x4965c9,{'settings':_0x230d97}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList']['add'](_0x387a29(0x4c1)),actionTargetId=null;}catch(_0x5aaf44){console['error'](_0x387a29(0x1ab),_0x5aaf44),showMessage(_0x387a29(0x264));}}async function handleQuizStatus(_0x44605c){const _0x4496fb=_0x52e79a;actionTargetId=_0x44605c;const _0x1620ea=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x44605c);try{const _0x27fb19=await getDoc(_0x1620ea);if(_0x27fb19[_0x4496fb(0x10e)]()){const _0x58dc07=_0x27fb19[_0x4496fb(0x67a)](),_0x5f24ef=_0x58dc07[_0x4496fb(0x657)]||'active',_0x4f71e9=document[_0x4496fb(0x4eb)]('quiz-status-options'),_0x13293d=document[_0x4496fb(0x4eb)](_0x4496fb(0x556)),_0x26f2c8=document['getElementById']('quiz-schedule-end-container');let _0x2fed4c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x5f24ef===_0x4496fb(0x553)?_0x4496fb(0x21b):'')+_0x4496fb(0x45e)+(_0x5f24ef===_0x4496fb(0x164)?_0x4496fb(0x21b):'')+_0x4496fb(0x626)+(_0x5f24ef===_0x4496fb(0x67b)?_0x4496fb(0x21b):'')+_0x4496fb(0x121);_0x4f71e9['innerHTML']=_0x2fed4c;const _0x5be5c9=_0x5f24ef===_0x4496fb(0x67b);_0x13293d['classList'][_0x4496fb(0x579)]('hidden',!_0x5be5c9),_0x26f2c8[_0x4496fb(0x200)][_0x4496fb(0x579)](_0x4496fb(0x4c1),!_0x5be5c9),document[_0x4496fb(0x4eb)](_0x4496fb(0x193))[_0x4496fb(0x4d7)]=_0x58dc07['startTime']?_0x58dc07[_0x4496fb(0x389)][_0x4496fb(0x492)](0x0,0x10):'',document['getElementById'](_0x4496fb(0x22f))[_0x4496fb(0x4d7)]=_0x58dc07['endTime']?_0x58dc07[_0x4496fb(0x3ac)][_0x4496fb(0x492)](0x0,0x10):'',_0x4f71e9['querySelectorAll'](_0x4496fb(0x46f))['forEach'](_0x422b40=>{const _0x1617aa=_0x4496fb;_0x422b40[_0x1617aa(0x413)](_0x1617aa(0x31b),_0x90f612=>{const _0x1e2997=_0x1617aa,_0x377f1c=_0x90f612[_0x1e2997(0x3b1)]['value']===_0x1e2997(0x2d9);_0x13293d['classList'][_0x1e2997(0x579)](_0x1e2997(0x4c1),!_0x377f1c),_0x26f2c8[_0x1e2997(0x200)][_0x1e2997(0x579)]('hidden',!_0x377f1c);});}),quizStatusModal[_0x4496fb(0x200)][_0x4496fb(0x1fd)](_0x4496fb(0x4c1));}}catch(_0x3bb847){console[_0x4496fb(0x567)](_0x4496fb(0x183),_0x3bb847),showMessage(_0x4496fb(0x5d6));}}async function confirmQuizStatus(){const _0x344890=_0x52e79a;if(!actionTargetId)return;const _0x22f9ce=doc(db,'artifacts/'+appId+_0x344890(0x46a),actionTargetId),_0x161c4d=document[_0x344890(0x2ad)](_0x344890(0x16b));if(!_0x161c4d){showMessage(_0x344890(0x5f8));return;}const _0x45c708=_0x161c4d[_0x344890(0x4d7)];let _0x4fbea3={};if(_0x45c708===_0x344890(0x553)||_0x45c708===_0x344890(0x164))_0x4fbea3={'status':_0x45c708,'startTime':null,'endTime':null};else{if(_0x45c708===_0x344890(0x2d9)){const _0x368fb5=document['getElementById'](_0x344890(0x193))[_0x344890(0x4d7)],_0x4c05e1=document['getElementById']('quiz-end-time')[_0x344890(0x4d7)];if(!_0x368fb5&&!_0x4c05e1){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x4fbea3={'status':_0x344890(0x67b),'startTime':_0x368fb5?new Date(_0x368fb5)['toISOString']():null,'endTime':_0x4c05e1?new Date(_0x4c05e1)[_0x344890(0x43b)]():null};}}try{await updateDoc(_0x22f9ce,_0x4fbea3),showMessage(_0x344890(0xe3)),quizStatusModal[_0x344890(0x200)][_0x344890(0x57b)]('hidden'),actionTargetId=null;}catch(_0x142993){console[_0x344890(0x567)](_0x344890(0x4d1),_0x142993),showMessage(_0x344890(0x2a1));}}function listenForStudentProfiles(_0x3d90a8){const _0x1f60eb=_0x52e79a,_0x551215=collection(db,_0x1f60eb(0x21f)+appId+'/public/data/projects/'+_0x3d90a8+_0x1f60eb(0x13b));unsubscribeStudentProfilesListener=onSnapshot(_0x551215,_0x2c6267=>{const _0x56aa9d=_0x1f60eb,_0x4651fd=_0x2c6267[_0x56aa9d(0x45c)]['map'](_0x92ac8a=>_0x92ac8a[_0x56aa9d(0x67a)]());renderLeaderboard(_0x4651fd,_0x56aa9d(0x427));},_0xfd0c77=>{const _0x5a3ca5=_0x1f60eb;console[_0x5a3ca5(0x567)](_0x5a3ca5(0x23c),_0xfd0c77),document['getElementById'](_0x5a3ca5(0x427))[_0x5a3ca5(0xeb)]=_0x5a3ca5(0x19b);});}function renderLeaderboard(_0x16d5e6,_0x37547f){const _0x1ef679=_0x52e79a,_0x348587=document[_0x1ef679(0x4eb)](_0x37547f);if(!_0x16d5e6||_0x16d5e6[_0x1ef679(0x665)]===0x0){_0x348587[_0x1ef679(0xeb)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x16d5e6['sort']((_0x206403,_0x330d8c)=>{const _0x45622d=_0x1ef679,_0x179484=(_0x330d8c['totalPoints']||0x0)-(_0x206403[_0x45622d(0x605)]||0x0);if(_0x179484!==0x0)return _0x179484;const _0x207dd1=(_0x330d8c[_0x45622d(0x100)]?.['specialist']||0x0)-(_0x206403['badgesCount']?.[_0x45622d(0x4dd)]||0x0);if(_0x207dd1!==0x0)return _0x207dd1;const _0x1cfe9a=(_0x330d8c[_0x45622d(0x100)]?.[_0x45622d(0x53c)]||0x0)-(_0x206403[_0x45622d(0x100)]?.[_0x45622d(0x53c)]||0x0);if(_0x1cfe9a!==0x0)return _0x1cfe9a;const _0x14e6bc=(_0x330d8c[_0x45622d(0x100)]?.['perfect_score']||0x0)-(_0x206403['badgesCount']?.[_0x45622d(0x361)]||0x0);if(_0x14e6bc!==0x0)return _0x14e6bc;const _0x4d5e55=(_0x330d8c[_0x45622d(0x100)]?.[_0x45622d(0x5a7)]||0x0)-(_0x206403[_0x45622d(0x100)]?.[_0x45622d(0x5a7)]||0x0);if(_0x4d5e55!==0x0)return _0x4d5e55;return _0x206403[_0x45622d(0x2eb)][_0x45622d(0x51c)](_0x330d8c[_0x45622d(0x2eb)],'th');});let _0x284a97='';_0x16d5e6[_0x1ef679(0x5bc)]((_0x20e36a,_0x520c01)=>{const _0x32a78e=_0x1ef679,_0x2f6d98=_0x520c01+0x1,_0x4c5762=_0x20e36a[_0x32a78e(0x100)]||{};let _0x3cd5d3='';const _0x43f88d=[_0x32a78e(0x4dd),_0x32a78e(0x361),'first_try_ace',_0x32a78e(0x5a7)];_0x43f88d['forEach'](_0x5c162b=>{const _0x587ea2=_0x32a78e;if(_0x4c5762[_0x5c162b]>0x0){const _0x179be0=Object['values'](BADGES)[_0x587ea2(0x298)](_0xb65450=>_0xb65450['id']===_0x5c162b);_0x179be0&&(_0x5c162b===_0x587ea2(0x4dd)?_0x3cd5d3+=_0x587ea2(0x63e)+_0x179be0['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x179be0[_0x587ea2(0x191)]+_0x587ea2(0x5d2):_0x3cd5d3+=_0x587ea2(0x63e)+_0x179be0['name']+'\x20('+_0x4c5762[_0x5c162b]+_0x587ea2(0x522)+_0x179be0[_0x587ea2(0x191)]+_0x587ea2(0x2d2)+_0x4c5762[_0x5c162b]+_0x587ea2(0x154));}}),_0x284a97+=_0x32a78e(0x33f)+_0x2f6d98+_0x32a78e(0x14d)+_0x20e36a[_0x32a78e(0x2eb)]+_0x32a78e(0x1f0)+(_0x20e36a[_0x32a78e(0x605)]||0x0)+_0x32a78e(0x14d)+(_0x3cd5d3||'-')+_0x32a78e(0x521);}),_0x348587['innerHTML']=_0x284a97;}function renderQuizLeaderboard(_0x48614d,_0x125295,_0x3abc67){const _0x1499d6=_0x52e79a,_0x53f6a2=document[_0x1499d6(0x4eb)](_0x3abc67),_0x1777e3=_0x3abc67===_0x1499d6(0x616),_0x5c2add=_0x125295[_0x1499d6(0x27f)]['length'],_0xe82ab9=document[_0x1499d6(0x4eb)](_0x3abc67)[_0x1499d6(0x334)](_0x1499d6(0x20e));if(_0xe82ab9&&!_0x1777e3){const _0xcc4f98=_0xe82ab9[_0x1499d6(0x2ad)](_0x1499d6(0x561));_0xcc4f98[_0x1499d6(0xeb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x48614d||_0x48614d[_0x1499d6(0x665)]===0x0){_0x53f6a2[_0x1499d6(0xeb)]='<tr><td\x20colspan=\x22'+(_0x1777e3?0x6:0x8)+_0x1499d6(0x195);return;}const _0x10c54c=[..._0x48614d];_0x10c54c[_0x1499d6(0x328)]((_0x58def2,_0x1d8551)=>{const _0x3a50be=_0x1499d6;let _0x10de66,_0x20682c;switch(quizLeaderboardSortBy){case _0x3a50be(0x2eb):_0x10de66=_0x58def2['studentName']||'',_0x20682c=_0x1d8551[_0x3a50be(0x2eb)]||'';return quizLeaderboardSortOrder===_0x3a50be(0x49c)?_0x10de66[_0x3a50be(0x51c)](_0x20682c,'th'):_0x20682c[_0x3a50be(0x51c)](_0x10de66,'th');case'points':_0x10de66=_0x58def2[_0x3a50be(0x643)]||0x0,_0x20682c=_0x1d8551[_0x3a50be(0x643)]||0x0;break;case _0x3a50be(0x51f):_0x10de66=_0x58def2[_0x3a50be(0x51f)]?.[_0x3a50be(0x665)]||0x1,_0x20682c=_0x1d8551[_0x3a50be(0x51f)]?.[_0x3a50be(0x665)]||0x1;break;case _0x3a50be(0xfe):_0x10de66=new Date(_0x58def2[_0x3a50be(0xfe)]),_0x20682c=new Date(_0x1d8551[_0x3a50be(0xfe)]);break;case'bestScore':default:_0x10de66=_0x58def2[_0x3a50be(0x4c3)],_0x20682c=_0x1d8551[_0x3a50be(0x4c3)];break;}if(_0x10de66<_0x20682c)return quizLeaderboardSortOrder===_0x3a50be(0x49c)?-0x1:0x1;if(_0x10de66>_0x20682c)return quizLeaderboardSortOrder===_0x3a50be(0x49c)?0x1:-0x1;return 0x0;});const _0x128e7e=_0x125295['isRemedial']===!![],_0x27a28b=_0x125295[_0x1499d6(0x1a2)]?.['passingScore']??-0x1;let _0x4b7f88='';_0x10c54c[_0x1499d6(0x5bc)]((_0x5e0b3a,_0x56e4a0)=>{const _0xbbbb5c=_0x1499d6,_0x1141e8=_0x56e4a0+0x1;let _0x1923f1=_0xbbbb5c(0x399);if(_0x128e7e||_0x27a28b!==-0x1){let _0x29abf2=_0x128e7e?_0x5e0b3a[_0xbbbb5c(0x4c3)]===_0x5c2add:_0x5e0b3a[_0xbbbb5c(0x4c3)]>=_0x27a28b;const _0x165f97=_0x29abf2?_0xbbbb5c(0x649):_0xbbbb5c(0xea),_0x8ca532=_0x29abf2?'ผ่าน':'ไม่ผ่าน';_0x1923f1=_0xbbbb5c(0x168)+_0x165f97+'\x22>'+_0x8ca532+_0xbbbb5c(0x2cf);}const _0x59bf38=_0x5e0b3a[_0xbbbb5c(0x51f)][_0x5e0b3a[_0xbbbb5c(0x51f)]['length']-0x1],_0x286bcd=(_0x59bf38[_0xbbbb5c(0x20a)]||[])[_0xbbbb5c(0x2ce)](_0x4acb8c=>{const _0x2731f0=_0xbbbb5c,_0x310e98=Object[_0x2731f0(0x1ee)](BADGES)[_0x2731f0(0x298)](_0x37aaf7=>_0x37aaf7['id']===_0x4acb8c);return _0x310e98?'<span\x20title=\x22'+_0x310e98[_0x2731f0(0x5b7)]+'\x22><i\x20class=\x22fas\x20'+_0x310e98[_0x2731f0(0x191)]+_0x2731f0(0x3da):'';})['join']('');_0x4b7f88+=_0xbbbb5c(0x65c)+_0x1141e8+_0xbbbb5c(0x256)+_0x5e0b3a[_0xbbbb5c(0x2eb)]+_0xbbbb5c(0x4fb)+_0x5e0b3a[_0xbbbb5c(0x4c3)]+'\x20/\x20'+_0x5c2add+_0xbbbb5c(0x671)+_0x1923f1+_0xbbbb5c(0x357)+(_0x5e0b3a[_0xbbbb5c(0x643)]||0x0)+_0xbbbb5c(0x671)+(_0x1777e3?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x5e0b3a[_0xbbbb5c(0x51f)]?.[_0xbbbb5c(0x665)]||0x1)+_0xbbbb5c(0x66c))+_0xbbbb5c(0x5fb)+(_0x1777e3?'':_0xbbbb5c(0x5e3)+new Date(_0x5e0b3a[_0xbbbb5c(0xfe)])['toLocaleString']('th-TH')+_0xbbbb5c(0x66c))+_0xbbbb5c(0x30b)+(_0x286bcd||'-')+_0xbbbb5c(0x173);}),_0x53f6a2[_0x1499d6(0xeb)]=_0x4b7f88,_0xe82ab9&&!_0x1777e3&&_0xe82ab9[_0x1499d6(0x574)]('thead\x20.sortable-header')[_0x1499d6(0x5bc)](_0x231f63=>{const _0x245f09=_0x1499d6,_0x4c0fd8=_0x231f63[_0x245f09(0x2ad)](_0x245f09(0x3e5));if(_0x4c0fd8)_0x4c0fd8[_0x245f09(0x1fd)]();_0x231f63[_0x245f09(0x3b5)][_0x245f09(0x328)]===quizLeaderboardSortBy&&(_0x231f63[_0x245f09(0xeb)]+=_0x245f09(0x3a8)+(quizLeaderboardSortOrder===_0x245f09(0x49c)?'▲':'▼')+_0x245f09(0x4e0));});}async function handleLoadQuiz(){const _0x2e1c6f=_0x52e79a,_0x36b0bb=document[_0x2e1c6f(0x4eb)](_0x2e1c6f(0x20c)),_0x49f498=_0x36b0bb[_0x2e1c6f(0x4d7)][_0x2e1c6f(0xfd)]();if(!_0x49f498){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x2e1c6f(0x5cb)]=!![],loadQuizBtn[_0x2e1c6f(0xeb)]=_0x2e1c6f(0x4a7);try{const _0x488970=doc(db,_0x2e1c6f(0x21f)+appId+_0x2e1c6f(0x46a),_0x49f498),_0x560490=await getDoc(_0x488970);if(!_0x560490['exists']()){showMessage(_0x2e1c6f(0x35d));return;}currentQuizData={'id':_0x560490['id'],..._0x560490[_0x2e1c6f(0x67a)]()};const _0x3a8575=currentQuizData['status']||_0x2e1c6f(0x553),_0x40c121=new Date();if(_0x3a8575==='inactive'){showMessage(_0x2e1c6f(0x4c4));return;}if(_0x3a8575===_0x2e1c6f(0x67b)){const _0x2c094b=currentQuizData['startTime']?new Date(currentQuizData[_0x2e1c6f(0x389)]):null,_0x17b70f=currentQuizData[_0x2e1c6f(0x3ac)]?new Date(currentQuizData[_0x2e1c6f(0x3ac)]):null;if(_0x2c094b&&_0x40c121<_0x2c094b){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x2c094b[_0x2e1c6f(0x43e)](_0x2e1c6f(0x3e7),{'hour12':![]}));return;}if(_0x17b70f&&_0x40c121>_0x17b70f){showMessage(_0x2e1c6f(0x5c6));return;}}const _0x2ec2a0=currentQuizData['projectId'];currentProjectId=_0x2ec2a0;const _0x542f2c=doc(db,_0x2e1c6f(0x21f)+appId+_0x2e1c6f(0x40c),_0x2ec2a0),_0x47ebdb=await getDoc(_0x542f2c);if(!_0x47ebdb['exists']()){showMessage(_0x2e1c6f(0x531));return;}const _0x1d9b26=_0x47ebdb['data']();currentStudentProjectData=_0x1d9b26,displayStudentNameSelector(_0x1d9b26['students'],currentQuizData[_0x2e1c6f(0x453)]);}catch(_0x560ebb){console[_0x2e1c6f(0x567)]('Error\x20loading\x20quiz\x20for\x20student:',_0x560ebb),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x2e1c6f(0x5cb)]=![],loadQuizBtn[_0x2e1c6f(0xeb)]=_0x2e1c6f(0x425);}}async function handleJoinLiveGame(){const _0x17bbec=_0x52e79a,_0x100f1f=document[_0x17bbec(0x4eb)]('game-pin-input'),_0x492be6=document[_0x17bbec(0x4eb)](_0x17bbec(0x60a)),_0x489437=document[_0x17bbec(0x4eb)](_0x17bbec(0x58e)),_0x492f9b=_0x100f1f[_0x17bbec(0x4d7)][_0x17bbec(0xfd)](),_0x4370af=_0x492be6[_0x17bbec(0x4d7)]['trim']();if(!_0x492f9b||!_0x4370af){showMessage(_0x17bbec(0x56f));return;}_0x489437[_0x17bbec(0x5cb)]=!![],_0x489437[_0x17bbec(0xeb)]=_0x17bbec(0x326);try{const _0x4280f3=collection(db,_0x17bbec(0x21f)+appId+_0x17bbec(0xe2)),_0x1ea226=query(_0x4280f3,where(_0x17bbec(0x46d),'==',_0x492f9b),where(_0x17bbec(0x657),'==',_0x17bbec(0x323))),_0x1b2270=await getDocs(_0x1ea226);if(_0x1b2270[_0x17bbec(0x633)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x12a34d=_0x1b2270[_0x17bbec(0x45c)][0x0],_0x585f95=_0x12a34d[_0x17bbec(0x67a)]();currentLiveGameId=_0x12a34d['id'];const _0x596fdb=_0x585f95[_0x17bbec(0x61e)],_0x429ff0=doc(db,_0x17bbec(0x21f)+appId+_0x17bbec(0x46a),_0x596fdb),_0x3b080e=await getDoc(_0x429ff0);if(!_0x3b080e[_0x17bbec(0x10e)]()){showMessage(_0x17bbec(0x5fe));return;}currentQuizData={'id':_0x3b080e['id'],..._0x3b080e[_0x17bbec(0x67a)]()};if(_0x585f95[_0x17bbec(0x163)]&&_0x585f95[_0x17bbec(0x163)][_0x4370af]){showMessage(_0x17bbec(0x437));return;}const _0x3ee6cb={};_0x3ee6cb[_0x17bbec(0x291)+_0x4370af]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x17bbec(0x21f)+appId+_0x17bbec(0xe2),currentLiveGameId),_0x3ee6cb),currentStudentName=_0x4370af,listenForLiveGameUpdates();}catch(_0x522fd6){console[_0x17bbec(0x567)](_0x17bbec(0x571),_0x522fd6),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x489437[_0x17bbec(0x5cb)]=![],_0x489437['innerHTML']=_0x17bbec(0x307);}}function displayStudentNameSelector(_0x40faf2,_0x1aa497){const _0x283fec=_0x52e79a,_0x2a7dbe=document[_0x283fec(0x4eb)](_0x283fec(0x30c));document[_0x283fec(0x4eb)](_0x283fec(0x449))[_0x283fec(0x3cd)]='แบบทดสอบ:\x20'+_0x1aa497,!_0x40faf2||_0x40faf2[_0x283fec(0x665)]===0x0?(_0x2a7dbe[_0x283fec(0xeb)]=_0x283fec(0x15c),startQuizBtn['disabled']=!![]):(_0x2a7dbe['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x40faf2[_0x283fec(0x5bc)](_0x4696c6=>{const _0x583ed8=_0x283fec,_0x1d529c=document[_0x583ed8(0x5a9)](_0x583ed8(0x631));_0x1d529c[_0x583ed8(0x4d7)]=_0x4696c6,_0x1d529c[_0x583ed8(0x3cd)]=_0x4696c6,_0x2a7dbe[_0x583ed8(0x223)](_0x1d529c);}),startQuizBtn[_0x283fec(0x5cb)]=![]),studentInitialView[_0x283fec(0x200)][_0x283fec(0x57b)](_0x283fec(0x4c1)),studentNameSelectionView[_0x283fec(0x200)][_0x283fec(0x1fd)](_0x283fec(0x4c1));}function shuffleArray(_0x1da3fc){const _0x422c3b=_0x52e79a;for(let _0x530540=_0x1da3fc[_0x422c3b(0x665)]-0x1;_0x530540>0x0;_0x530540--){const _0x94345=Math[_0x422c3b(0x634)](Math['random']()*(_0x530540+0x1));[_0x1da3fc[_0x530540],_0x1da3fc[_0x94345]]=[_0x1da3fc[_0x94345],_0x1da3fc[_0x530540]];}}function getShuffledQuiz(_0x36785a){const _0x30953a=_0x52e79a;let _0x4a7cbe=JSON['parse'](JSON[_0x30953a(0x508)](_0x36785a));const _0xd4bd6=_0x4a7cbe[_0x30953a(0x1a2)]?.['shuffle']||_0x30953a(0x364);if(_0xd4bd6===_0x30953a(0x364))return _0x4a7cbe;return(_0xd4bd6==='questions_only'||_0xd4bd6===_0x30953a(0x1d8))&&shuffleArray(_0x4a7cbe['questions']),(_0xd4bd6==='choices_only'||_0xd4bd6===_0x30953a(0x1d8))&&_0x4a7cbe['questions']['forEach'](_0x11b805=>{const _0x344f9d=_0x30953a,_0x3a584=_0x11b805[_0x344f9d(0x23d)]||_0x4a7cbe[_0x344f9d(0x3e6)];if(_0x11b805[_0x344f9d(0x5c5)]){let _0x5de5d8=_0x11b805['options']['map']((_0x151d1c,_0x45a300)=>({'text':_0x151d1c,'isCorrect':_0x45a300===_0x11b805[_0x344f9d(0x5e7)]}));shuffleArray(_0x5de5d8),_0x11b805['options']=_0x5de5d8['map'](_0xf405f4=>_0xf405f4[_0x344f9d(0x1cd)]),_0x11b805[_0x344f9d(0x5e7)]=_0x5de5d8[_0x344f9d(0x5bd)](_0x27e3b9=>_0x27e3b9[_0x344f9d(0x436)]);}_0x3a584===_0x344f9d(0x615)&&_0x11b805[_0x344f9d(0x2e6)]&&shuffleArray(_0x11b805[_0x344f9d(0x2e6)]);}),_0x4a7cbe;}function displayQuizForStudent(_0x1ff0a9){const _0x5a44ff=_0x52e79a;studentQuizArea[_0x5a44ff(0x200)][_0x5a44ff(0x1fd)](_0x5a44ff(0x4c1)),currentDisplayedQuiz=getShuffledQuiz(_0x1ff0a9);const _0x301431=currentDisplayedQuiz[_0x5a44ff(0x1a2)]?.[_0x5a44ff(0x247)]||_0x5a44ff(0x364);if(_0x301431===_0x5a44ff(0x5f5))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5a44ff(0x1a2)]['timerDuration']);else _0x301431===_0x5a44ff(0x547)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x33a489=_0x52e79a;let _0x417f3b=_0x33a489(0x30e)+currentDisplayedQuiz[_0x33a489(0x453)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x33a489(0x4a8)?_0x33a489(0x1f5):'')+_0x33a489(0x26f);currentDisplayedQuiz[_0x33a489(0x27f)]['forEach']((_0x1cf2f7,_0xc2ee9b)=>{const _0x3de985=_0x33a489,_0x1575fd=_0x1cf2f7[_0x3de985(0x23d)]||currentDisplayedQuiz[_0x3de985(0x3e6)];_0x417f3b+=_0x3de985(0x4af);_0x1575fd===_0x3de985(0x615)?_0x417f3b+=_0x3de985(0x653)+(_0xc2ee9b+0x1)+'.\x20'+_0x1cf2f7['stem']+_0x3de985(0x2ff)+_0xc2ee9b+_0x3de985(0x2f3)+_0x1cf2f7['allResponses'][_0x3de985(0x2ce)](_0x3d1c54=>'<option\x20value=\x22'+_0x3d1c54+'\x22>'+_0x3d1c54+'</option>')['join']('')+_0x3de985(0x2a0):(_0x417f3b+=_0x3de985(0x482)+(_0xc2ee9b+0x1)+'.\x20'+(_0x1cf2f7[_0x3de985(0x3bd)]||_0x1cf2f7[_0x3de985(0x2cb)])+'</p>',_0x1cf2f7[_0x3de985(0x26e)]&&(_0x417f3b+=_0x3de985(0x2b1)+_0x1cf2f7[_0x3de985(0x26e)]+_0x3de985(0x5ca)));_0x417f3b+=_0x3de985(0x5a4);switch(_0x1575fd){case'short_answer':_0x417f3b+=_0x3de985(0x463)+_0xc2ee9b+_0x3de985(0x36b);break;case _0x3de985(0x5a8):_0x417f3b+=_0x3de985(0x623)+_0xc2ee9b+'_opt0\x22\x20name=\x22question'+_0xc2ee9b+_0x3de985(0x1f6)+_0xc2ee9b+_0x3de985(0x49a),_0x417f3b+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0xc2ee9b+_0x3de985(0x5c0)+_0xc2ee9b+_0x3de985(0x613)+_0xc2ee9b+_0x3de985(0x110);break;case _0x3de985(0x615):break;case _0x3de985(0x16e):case _0x3de985(0xfa):default:_0x417f3b+=_0x1cf2f7[_0x3de985(0x5c5)][_0x3de985(0x2ce)]((_0xd77743,_0x5bf883)=>_0x3de985(0x4e4)+_0xc2ee9b+_0x3de985(0x150)+_0x5bf883+'\x22\x20name=\x22question'+_0xc2ee9b+_0x3de985(0x27a)+_0x5bf883+_0x3de985(0x2b3)+_0xc2ee9b+_0x3de985(0x150)+_0x5bf883+'\x22>'+_0xd77743+_0x3de985(0x252))['join']('');break;}_0x417f3b+=_0x3de985(0x212);}),_0x417f3b+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x417f3b+=_0x33a489(0x1e5),studentQuizArea[_0x33a489(0xeb)]=_0x417f3b;if(currentMode===_0x33a489(0x4a8)){const _0x2f10b2=document[_0x33a489(0x4eb)](_0x33a489(0x24b));if(_0x2f10b2)_0x2f10b2[_0x33a489(0x413)](_0x33a489(0x354),cancelAdminTest);}document[_0x33a489(0x4eb)](_0x33a489(0x391))[_0x33a489(0x413)]('submit',handleSubmitQuiz);if(window[_0x33a489(0x222)])window[_0x33a489(0x222)][_0x33a489(0x11e)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2c0c50){const _0x257579=_0x52e79a;if(_0x2c0c50)_0x2c0c50[_0x257579(0x2bf)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x334788=document[_0x257579(0x4eb)](_0x257579(0x391));if(!_0x334788)return;const _0x14a57c=_0x334788[_0x257579(0x2ad)](_0x257579(0x5ad)),_0xd3edf2=currentDisplayedQuiz[_0x257579(0x27f)]['some'](_0x3d6102=>_0x3d6102[_0x257579(0x23d)]===_0x257579(0x27d));_0x14a57c&&(_0x14a57c['disabled']=!![],_0xd3edf2?_0x14a57c[_0x257579(0xeb)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x14a57c[_0x257579(0xeb)]=_0x257579(0x4d9));const _0x174869=new FormData(_0x334788),_0x3797e2=currentDisplayedQuiz[_0x257579(0x27f)]['map']((_0x107637,_0x1b31d2)=>{const _0xfcba9d=_0x257579,_0x42148f=_0x107637[_0xfcba9d(0x23d)]||currentDisplayedQuiz['quizType'],_0x1b71f2=_0x174869[_0xfcba9d(0x512)](_0xfcba9d(0x524)+_0x1b31d2);if(_0x1b71f2!==null&&_0x1b71f2!==undefined){if(_0x42148f===_0xfcba9d(0xfa)||_0x42148f===_0xfcba9d(0x16e))return parseInt(_0x1b71f2);return _0x1b71f2;}return null;}),_0x28c6a9=currentQuizData['id'],_0x1dccc8=doc(db,_0x257579(0x21f)+appId+_0x257579(0x457)+_0x28c6a9+'/submissions',currentStudentName),_0x20200b=await getDoc(_0x1dccc8),_0x530acb=_0x20200b[_0x257579(0x10e)]()?_0x20200b[_0x257579(0x67a)]():{},_0x42a645=_0x530acb[_0x257579(0x51f)]||[];await processAndSubmitAnswers(_0x3797e2,_0x42a645);}async function gradeShortAnswerWithAI(_0x118aac,_0x37929f){const _0xba34d5=_0x52e79a;if(!_0x118aac||!_0x37929f)return![];try{const _0x1a7cc4=_0xba34d5(0x4c0)+_0x118aac+_0xba34d5(0x239)+_0x37929f+_0xba34d5(0x2b9),_0x11790a={'contents':[{'role':'user','parts':[{'text':_0x1a7cc4}]}]},_0x39058a=_0xba34d5(0x3ee),_0x17b18c=_0xba34d5(0x646)+_0x39058a,_0x1bc209=await fetch(_0x17b18c,{'method':_0xba34d5(0x410),'headers':{'Content-Type':'application/json'},'body':JSON[_0xba34d5(0x508)](_0x11790a)});if(!_0x1bc209['ok'])throw new Error('API\x20call\x20failed');const _0x411956=await _0x1bc209[_0xba34d5(0x654)](),_0x1c131f=_0x411956['candidates'][0x0][_0xba34d5(0x57c)][_0xba34d5(0x30a)][0x0][_0xba34d5(0x1cd)][_0xba34d5(0xfd)]()[_0xba34d5(0x177)]();return _0x1c131f===_0xba34d5(0x29b);}catch(_0x44f700){return console[_0xba34d5(0x567)](_0xba34d5(0x4bc),_0x44f700),![];}}async function processAndSubmitAnswers(_0x4a3429,_0x380413){const _0x20239b=_0x52e79a;let _0x607c60=0x0,_0x4e12a3=0x0,_0xef1179=[];const _0xf7efdb=[],_0x102e72=currentDisplayedQuiz[_0x20239b(0x27f)]['length'];let _0x2cb9d1=0x0;const _0x193494=currentDisplayedQuiz['questions'];for(let _0x109451=0x0;_0x109451<_0x193494[_0x20239b(0x665)];_0x109451++){const _0x1c1367=_0x193494[_0x109451],_0x1ef10d=_0x4a3429[_0x109451],_0x2bd1b2=_0x1c1367[_0x20239b(0x23d)]||currentDisplayedQuiz[_0x20239b(0x3e6)];let _0x19f7ab=![];if(_0x1ef10d!==null&&_0x1ef10d!=='')switch(_0x2bd1b2){case _0x20239b(0x615):_0x19f7ab=_0x1ef10d===_0x1c1367['correctResponse'];break;case _0x20239b(0x5a8):const _0x4acd4b=_0x1ef10d===!![]||_0x1ef10d===_0x20239b(0x29b);_0x19f7ab=_0x4acd4b===_0x1c1367[_0x20239b(0x1cb)];break;case _0x20239b(0x16e):case _0x20239b(0xfa):default:_0x19f7ab=Number(_0x1ef10d)===_0x1c1367[_0x20239b(0x5e7)];break;case _0x20239b(0x27d):_0x19f7ab=await gradeShortAnswer(_0x1ef10d,_0x1c1367);break;}_0x19f7ab?(_0x607c60++,_0x2cb9d1++,_0x2cb9d1===0x3&&(_0xef1179['push'](BADGES['ON_FIRE']['id']),_0x2cb9d1=0x0)):_0x2cb9d1=0x0,_0xf7efdb['push']({'answer':_0x1ef10d,'isCorrect':_0x19f7ab,'originalQuestionText':_0x1c1367['stem']||_0x1c1367[_0x20239b(0x2cb)]});}_0x4e12a3=_0x607c60*0xa;_0x607c60===_0x102e72&&_0x102e72>0x0&&!currentDisplayedQuiz[_0x20239b(0x4e3)]&&(_0x4e12a3+=0x32,_0xef1179[_0x20239b(0x2e0)](BADGES[_0x20239b(0x505)]['id']));const _0x45e9a1=currentDisplayedQuiz[_0x20239b(0x1a2)]?.['passingScore']??Math['floor'](_0x102e72/0x2),_0x2d8027=currentDisplayedQuiz[_0x20239b(0x1a2)]?.['timerMode'];if(_0x2d8027==='whole_quiz'&&quizStartTime){const _0x38ca64=(new Date()-quizStartTime)/0x3e8,_0x4c7ec6=currentDisplayedQuiz['settings'][_0x20239b(0x246)]*0x3c;_0x607c60>=_0x45e9a1&&_0x38ca64<_0x4c7ec6/0x2&&(_0x4e12a3+=0x14,_0xef1179[_0x20239b(0x2e0)](BADGES[_0x20239b(0x137)]['id']));}_0x380413[_0x20239b(0x665)]===0x0&&_0x607c60===_0x102e72&&_0x102e72>0x0&&_0xef1179[_0x20239b(0x2e0)](BADGES[_0x20239b(0x664)]['id']);if(_0x380413[_0x20239b(0x665)]>0x0){const _0x29254c=_0x380413[0x0][_0x20239b(0x53a)];if(_0x29254c<_0x45e9a1&&_0x607c60>=_0x45e9a1){const _0x3e2a18=_0x380413['some'](_0x135db8=>(_0x135db8[_0x20239b(0x20a)]||[])[_0x20239b(0x592)](BADGES[_0x20239b(0x23b)]['id']));!_0x3e2a18&&_0xef1179[_0x20239b(0x2e0)](BADGES['COMEBACK_KING']['id']);}}_0x380413[_0x20239b(0x665)]===0x4&&_0xef1179['push'](BADGES[_0x20239b(0x590)]['id']);const _0x1aa5dc=currentDisplayedQuiz[_0x20239b(0x1a2)][_0x20239b(0x4b7)];if(currentMode===_0x20239b(0x4a8)){handleResultDisplay(_0x1aa5dc,_0x607c60,_0x4e12a3,_0xef1179,_0xf7efdb,_0x102e72);return;}const _0x4fc8cd=currentQuizData['id'],_0x3e675f=doc(db,_0x20239b(0x21f)+appId+_0x20239b(0x457)+_0x4fc8cd+_0x20239b(0x480),currentStudentName);try{const _0x2c6c3d=[..._0x380413],_0x102edb={'score':_0x607c60,'points':_0x4e12a3,'badges':_0xef1179,'submittedAt':new Date()[_0x20239b(0x43b)](),'answers':_0xf7efdb};_0x2c6c3d[_0x20239b(0x2e0)](_0x102edb);const _0x4e57c5=_0x2c6c3d[0x0][_0x20239b(0x53a)],_0x2f51ee=Math['max'](..._0x2c6c3d['map'](_0x541080=>_0x541080[_0x20239b(0x53a)])),_0x5a7474=_0x607c60,_0x3163ed=_0x102edb[_0x20239b(0xf6)];await setDoc(_0x3e675f,{'studentName':currentStudentName,'totalQuestions':_0x102e72,'attempts':_0x2c6c3d,'firstScore':_0x4e57c5,'bestScore':_0x2f51ee,'latestScore':_0x5a7474,'points':_0x4e12a3,'latestSubmittedAt':_0x3163ed}),await updateStudentProfile(currentQuizData[_0x20239b(0x542)],currentStudentName),handleResultDisplay(_0x1aa5dc,_0x607c60,_0x4e12a3,_0xef1179,_0xf7efdb,_0x102e72);}catch(_0x3a8603){console[_0x20239b(0x567)](_0x20239b(0x1de),_0x3a8603),showMessage(_0x20239b(0x32b));}}async function updateStudentProfile(_0x548b8e,_0x42b4e7){const _0x560602=_0x52e79a,_0x107a94=doc(db,_0x560602(0x21f)+appId+'/public/data/projects/'+_0x548b8e+_0x560602(0x13b),_0x42b4e7);try{const _0x86fcec=query(collection(db,'artifacts/'+appId+_0x560602(0x46a)),where(_0x560602(0x542),'==',_0x548b8e)),_0x19e3cc=await getDocs(_0x86fcec),_0xb8649a=new Map(_0x19e3cc[_0x560602(0x45c)][_0x560602(0x2ce)](_0x26bd24=>[_0x26bd24['id'],_0x26bd24[_0x560602(0x67a)]()])),_0x1f9149=Array[_0x560602(0x1d0)](_0xb8649a['keys']());await runTransaction(db,async _0x387319=>{const _0x39ffe8=_0x560602;let _0xca2f67=0x0;const _0x44e776={};let _0x17a6e2=!![],_0x2d4439=0x0,_0x537751=0x0;for(const _0x5a0c7d of _0x1f9149){const _0x1dd209=_0xb8649a[_0x39ffe8(0x512)](_0x5a0c7d),_0x581d21=doc(db,'artifacts/'+appId+_0x39ffe8(0x457)+_0x5a0c7d+_0x39ffe8(0x480),_0x42b4e7),_0x4711af=await _0x387319[_0x39ffe8(0x512)](_0x581d21);if(_0x4711af[_0x39ffe8(0x10e)]()){const _0x4503ce=_0x4711af[_0x39ffe8(0x67a)](),_0x4719be=_0x4503ce['attempts']||[];if(_0x4719be[_0x39ffe8(0x665)]>0x0){const _0x2b091b=_0x4719be[_0x39ffe8(0x59d)]((_0x53fdbb,_0x545e26)=>{const _0x3c41d1=_0x39ffe8;if(_0x545e26[_0x3c41d1(0x53a)]>_0x53fdbb[_0x3c41d1(0x53a)])return _0x545e26;if(_0x545e26[_0x3c41d1(0x53a)]===_0x53fdbb[_0x3c41d1(0x53a)])return(_0x545e26['points']||0x0)>(_0x53fdbb[_0x3c41d1(0x643)]||0x0)?_0x545e26:_0x53fdbb;return _0x53fdbb;},{'score':-0x1,'points':-0x1});_0x2b091b[_0x39ffe8(0x53a)]>-0x1&&(_0xca2f67+=_0x2b091b[_0x39ffe8(0x643)]||0x0,(_0x2b091b[_0x39ffe8(0x20a)]||[])[_0x39ffe8(0x5bc)](_0x77f012=>{_0x44e776[_0x77f012]=(_0x44e776[_0x77f012]||0x0)+0x1;}));}}if(_0x1dd209[_0x39ffe8(0x453)]!==_0x39ffe8(0x62c)){_0x537751++;if(_0x4711af[_0x39ffe8(0x10e)]()){_0x2d4439++;const _0x55397b=_0x4711af[_0x39ffe8(0x67a)]();_0x55397b[_0x39ffe8(0x4c3)]!==_0x55397b[_0x39ffe8(0x2c5)]&&(_0x17a6e2=![]);}else _0x17a6e2=![];}}_0x537751>0x0&&_0x2d4439===_0x537751&&_0x17a6e2?_0x44e776[_0x39ffe8(0x4dd)]=0x1:_0x44e776[_0x39ffe8(0x4dd)]=0x0,_0x387319[_0x39ffe8(0x66b)](_0x107a94,{'studentName':_0x42b4e7,'totalPoints':_0xca2f67,'unlockedBadges':Object[_0x39ffe8(0x570)](_0x44e776)[_0x39ffe8(0x3d5)](_0x4ca1f0=>_0x44e776[_0x4ca1f0]>0x0),'badgesCount':_0x44e776},{'merge':!![]});});}catch(_0xfd07c0){console[_0x560602(0x567)](_0x560602(0xdf),_0xfd07c0),showMessage(_0x560602(0x28b));}}function startAdminTest(){const _0x43a5a2=_0x52e79a;if(!currentQuizData){showMessage(_0x43a5a2(0x60b));return;}let _0x1dfa58=JSON[_0x43a5a2(0x5ab)](JSON['stringify'](currentQuizData));currentMode='admin-testing',currentStudentName=_0x43a5a2(0x379),adminView[_0x43a5a2(0x200)]['add'](_0x43a5a2(0x4c1)),studentView[_0x43a5a2(0x200)][_0x43a5a2(0x1fd)](_0x43a5a2(0x4c1)),studentInitialView[_0x43a5a2(0x200)]['add'](_0x43a5a2(0x4c1)),studentNameSelectionView[_0x43a5a2(0x200)][_0x43a5a2(0x57b)]('hidden'),studentResultArea['classList'][_0x43a5a2(0x57b)]('hidden'),studentQuizArea[_0x43a5a2(0x200)]['remove'](_0x43a5a2(0x4c1)),quizStartTime=new Date(),displayQuizForStudent(_0x1dfa58);}function handleResultDisplay(_0x4c28e9,_0x3fee96,_0x540cc6,_0x250b10,_0x798b1d,_0x31e2c2){const _0x227f0e=_0x52e79a,_0x46e07a=currentDisplayedQuiz[_0x227f0e(0x1a2)]?.[_0x227f0e(0x62e)]??Math['floor'](_0x31e2c2/0x2),_0x4efd55=currentDisplayedQuiz[_0x227f0e(0x1a2)]?.[_0x227f0e(0x52f)]??![];if(_0x4efd55&&_0x3fee96<_0x46e07a){startAdaptiveFlow(_0x798b1d,_0x3fee96,_0x31e2c2);return;}switch(_0x4c28e9){case _0x227f0e(0x48c):displayResultsWithAnswers(_0x3fee96,_0x540cc6,_0x250b10,_0x798b1d,_0x31e2c2);break;case'show_results_only':displayResultsScoreOnly(_0x3fee96,_0x540cc6,_0x250b10,_0x31e2c2);break;case _0x227f0e(0x4df):displayPassFailOnly(_0x3fee96,_0x31e2c2);break;case _0x227f0e(0x5ec):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x40003b,_0x2410ba,_0x9d1deb){const _0x2564f9=_0x52e79a,_0x28e7cb=_0x40003b[_0x2564f9(0x2ce)]((_0x88fa4b,_0x3dad6d)=>({..._0x88fa4b,'originalQuestion':currentDisplayedQuiz['questions'][_0x3dad6d]}))[_0x2564f9(0x3d5)](_0xde0ff8=>!_0xde0ff8['isCorrect']&&_0xde0ff8[_0x2564f9(0x2ac)][_0x2564f9(0xd7)])[_0x2564f9(0x2ce)](_0x1ce749=>'-\x20'+_0x1ce749[_0x2564f9(0x2ac)][_0x2564f9(0xd7)])[_0x2564f9(0x42d)]('\x0a');if(!_0x28e7cb){displayResultsScoreOnly(_0x2410ba,0x0,[],_0x9d1deb);return;}studentQuizArea[_0x2564f9(0x200)][_0x2564f9(0x57b)](_0x2564f9(0x4c1)),studentReadingArea[_0x2564f9(0x200)][_0x2564f9(0x1fd)](_0x2564f9(0x4c1)),studentReadingArea[_0x2564f9(0xeb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x236cd4=_0x2564f9(0x160)+currentDisplayedQuiz[_0x2564f9(0x453)]+_0x2564f9(0x622)+_0x28e7cb+_0x2564f9(0x441),_0x12a22d={'type':_0x2564f9(0x12e),'properties':{'remedialContent':{'type':_0x2564f9(0x27c)}},'required':[_0x2564f9(0x4ec)]};try{const _0xf2d820=await callAnalysisApi(_0x236cd4,_0x12a22d),_0x824195=_0xf2d820[_0x2564f9(0x4ec)];studentReadingArea[_0x2564f9(0xeb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>'+_0x824195['replace'](/\n/g,_0x2564f9(0x130))+_0x2564f9(0x638),document[_0x2564f9(0x4eb)](_0x2564f9(0x677))[_0x2564f9(0x413)]('click',()=>generateRemedialQuiz(_0x28e7cb));}catch(_0x30856d){console[_0x2564f9(0x567)]('Adaptive\x20flow\x20failed:',_0x30856d),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x2410ba,0x0,[],_0x9d1deb);}}async function generateRemedialQuiz(_0x56a543){const _0x223633=_0x52e79a;studentReadingArea[_0x223633(0xeb)]=_0x223633(0x116);const _0x552834=_0x223633(0x455)+_0x56a543+_0x223633(0x376)+simpleMathPrompt+_0x223633(0x394),_0x44b140={'type':_0x223633(0x12e),'properties':{'questionText':{'type':_0x223633(0x27c)},'options':{'type':_0x223633(0x38f),'items':{'type':_0x223633(0x27c)}},'correctAnswerIndex':{'type':_0x223633(0x42c)},'explanation':{'type':_0x223633(0x27c)}},'required':[_0x223633(0x2cb),_0x223633(0x5c5),_0x223633(0x5e7),_0x223633(0xd7)]},_0x39f676={'type':'OBJECT','properties':{'topic':{'type':_0x223633(0x27c)},'questions':{'type':_0x223633(0x38f),'items':_0x44b140}},'required':[_0x223633(0x453),_0x223633(0x27f)]};try{const _0x4533aa=await callAnalysisApi(_0x552834,_0x39f676);_0x4533aa[_0x223633(0x4e3)]=!![],studentReadingArea[_0x223633(0x200)]['add']('hidden');const _0x9150d2={...currentDisplayedQuiz[_0x223633(0x1a2)],'isAdaptive':![],'resultsDisplay':_0x223633(0x48c)};_0x4533aa[_0x223633(0x1a2)]=_0x9150d2,displayQuizForStudent(_0x4533aa);}catch(_0x28071d){console[_0x223633(0x567)](_0x223633(0x214),_0x28071d),showMessage(_0x223633(0x269)),showView(_0x223633(0x322));}}function displayPassFailOnly(_0xe9088d,_0x2f0134){const _0xf252e0=_0x52e79a,_0xf2d74f=currentDisplayedQuiz[_0xf252e0(0x1a2)]?.['passingScore']??-0x1,_0x3675e9=currentDisplayedQuiz[_0xf252e0(0x4e3)]===!![];let _0x2f8d00='';if(_0x3675e9||_0xf2d74f!==-0x1){let _0x5da55f;_0x3675e9?_0x5da55f=_0xe9088d===_0x2f0134:_0x5da55f=_0xe9088d>=_0xf2d74f;const _0x3ff0fe=_0x5da55f?_0xf252e0(0x649):_0xf252e0(0xea),_0x250cc1=_0x5da55f?'ผ่าน':_0xf252e0(0x544);_0x2f8d00=_0xf252e0(0x362)+_0x3ff0fe+'\x22>'+_0x250cc1+_0xf252e0(0x318);}else _0x2f8d00='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x4e405e=_0xf252e0(0x32a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f8d00+_0xf252e0(0x5af);studentResultArea[_0xf252e0(0xeb)]=_0x4e405e,studentResultArea[_0xf252e0(0x200)][_0xf252e0(0x1fd)](_0xf252e0(0x4c1)),studentQuizArea[_0xf252e0(0x200)][_0xf252e0(0x57b)](_0xf252e0(0x4c1));const _0x41a6b9=_0xf252e0(0x64f),_0x43ed42=currentMode===_0xf252e0(0x4a8),_0x3a4b7b=_0x43ed42?_0xf252e0(0x34c):_0xf252e0(0x3c6),_0x454d75=_0xf252e0(0x333)+_0x41a6b9+'\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a4b7b+_0xf252e0(0x304);studentResultArea['insertAdjacentHTML'](_0xf252e0(0x50c),_0x454d75),document['getElementById'](_0x41a6b9)[_0xf252e0(0x413)](_0xf252e0(0x354),()=>{const _0x4ede3a=_0xf252e0;_0x43ed42?(currentMode=_0x4ede3a(0x33b),studentView['classList'][_0x4ede3a(0x57b)](_0x4ede3a(0x4c1)),adminView[_0x4ede3a(0x200)][_0x4ede3a(0x1fd)](_0x4ede3a(0x4c1)),showView(_0x4ede3a(0x559))):(showView(_0x4ede3a(0x322)),document[_0x4ede3a(0x4eb)]('quiz-id-input')[_0x4ede3a(0x4d7)]='');});}function cancelAdminTest(){const _0x31a71f=_0x52e79a;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x31a71f(0x33b),studentView[_0x31a71f(0x200)][_0x31a71f(0x57b)](_0x31a71f(0x4c1)),adminView['classList']['remove'](_0x31a71f(0x4c1)),showView(_0x31a71f(0x559));}function setupResultScreenBackButton(){const _0x4c012a=_0x52e79a,_0x308496=_0x4c012a(0x64f),_0x1532b6=currentMode===_0x4c012a(0x4a8),_0x42a006=_0x1532b6?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':_0x4c012a(0x3c6),_0x6a3908=_0x4c012a(0x3ce)+_0x308496+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42a006+_0x4c012a(0x37d);studentResultArea[_0x4c012a(0x21c)](_0x4c012a(0x50c),_0x6a3908),studentResultArea['querySelector']('#view-rankings-btn')[_0x4c012a(0x413)](_0x4c012a(0x354),handleShowStudentRankings),document[_0x4c012a(0x4eb)](_0x308496)[_0x4c012a(0x413)](_0x4c012a(0x354),()=>{const _0xaed23f=_0x4c012a;_0x1532b6?(currentMode=_0xaed23f(0x33b),studentView[_0xaed23f(0x200)][_0xaed23f(0x57b)](_0xaed23f(0x4c1)),adminView['classList']['remove'](_0xaed23f(0x4c1)),showView(_0xaed23f(0x559))):(showView(_0xaed23f(0x322)),document[_0xaed23f(0x4eb)]('quiz-id-input')['value']='');});}function _0x228e(_0x7177c2,_0x249107){const _0x45cf93=_0x45cf();return _0x228e=function(_0x228e2e,_0x28ae4b){_0x228e2e=_0x228e2e-0xcf;let _0x460d2f=_0x45cf93[_0x228e2e];return _0x460d2f;},_0x228e(_0x7177c2,_0x249107);}function displayResultsWithAnswers(_0x736536,_0x2ebf5c,_0x27ce89,_0x4ae3ba,_0x89ae6c){const _0xfb7232=_0x52e79a,_0x183bf4=_0x89ae6c>0x0?_0x736536/_0x89ae6c*0x64:0x0,_0x2c05cb=currentDisplayedQuiz['settings']?.[_0xfb7232(0x62e)]??-0x1,_0x32adb3=currentDisplayedQuiz[_0xfb7232(0x4e3)]===!![];let _0x316d1d='';if(_0x32adb3||_0x2c05cb!==-0x1){let _0x225cc5=_0x32adb3?_0x736536===_0x89ae6c:_0x736536>=_0x2c05cb;const _0x914746=_0x225cc5?_0xfb7232(0x649):_0xfb7232(0xea),_0x14d8be=_0x225cc5?_0xfb7232(0x380):'ไม่ผ่าน';_0x316d1d=_0xfb7232(0x47c)+_0x914746+'\x22>'+_0x14d8be+_0xfb7232(0x3ae);}let _0x2332c7=_0xfb7232(0x4aa)+currentStudentName+_0xfb7232(0x355)+_0x736536+_0xfb7232(0x679)+_0x89ae6c+_0xfb7232(0x514)+_0x316d1d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x2ebf5c+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x183bf4[_0xfb7232(0x220)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0xfb7232(0x5bc)]((_0x55769b,_0x3a32ac)=>{const _0x3fda02=_0xfb7232,_0x8594b2=_0x4ae3ba[_0x3a32ac],_0x5ae479=_0x8594b2[_0x3fda02(0x5a2)],_0x1df09a=_0x8594b2['isCorrect'],_0x2fdb15=_0x55769b['questionType']||currentDisplayedQuiz[_0x3fda02(0x3e6)];_0x2332c7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x1df09a?'border-green-300\x20bg-green-50':_0x3fda02(0x474))+_0x3fda02(0x5f4)+(_0x3a32ac+0x1)+'.\x20'+(_0x55769b['stem']||_0x55769b['questionText'])+_0x3fda02(0x365);switch(_0x2fdb15){case _0x3fda02(0x615):const _0x449f62=_0x5ae479||_0x3fda02(0x596),_0x40003a=_0x55769b[_0x3fda02(0x5a5)];_0x2332c7+=_0x3fda02(0x2f4)+(!_0x1df09a?'line-through\x20text-red-700':'')+'\x22>'+_0x449f62+_0x3fda02(0x538);!_0x1df09a&&(_0x2332c7+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x40003a+_0x3fda02(0x3ae));break;case'short_answer':_0x2332c7+=_0x3fda02(0x107)+(_0x5ae479||_0x3fda02(0x596))+'</p>',_0x2332c7+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x55769b['idealAnswer']+'</p>';break;case'true_false':_0x2332c7+=_0x3fda02(0x42a)+(_0x55769b[_0x3fda02(0x1cb)]===!![]?_0x3fda02(0x429):'')+'\x20'+(_0x5ae479===_0x3fda02(0x29b)&&!_0x1df09a?_0x3fda02(0x3db):'')+'\x22>ใช่</p>',_0x2332c7+=_0x3fda02(0x42a)+(_0x55769b[_0x3fda02(0x1cb)]===![]?_0x3fda02(0x429):'')+'\x20'+(_0x5ae479===_0x3fda02(0x5ff)&&!_0x1df09a?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;case _0x3fda02(0x16e):case'multiple_choice':default:_0x2332c7+=_0x55769b[_0x3fda02(0x5c5)][_0x3fda02(0x2ce)]((_0x30689e,_0x18bb94)=>{const _0x59c36c=_0x3fda02;let _0x2bea7c='',_0x16a394='';if(_0x18bb94===_0x55769b[_0x59c36c(0x5e7)])_0x2bea7c=_0x59c36c(0x429),_0x16a394=_0x59c36c(0x580);else _0x18bb94===_0x5ae479&&(_0x2bea7c=_0x59c36c(0x4b4),_0x16a394=_0x59c36c(0x2f9));return _0x59c36c(0x2dd)+_0x2bea7c+'\x22>'+_0x16a394+_0x30689e+'</div>';})[_0x3fda02(0x42d)]('');break;}_0x2332c7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x55769b[_0x3fda02(0xd7)]||_0x3fda02(0x2b6))+_0x3fda02(0x58c);}),studentResultArea[_0xfb7232(0xeb)]=_0x2332c7,renderEarnedBadges(_0x27ce89,'earned-badges-container'),studentResultArea[_0xfb7232(0x200)][_0xfb7232(0x1fd)](_0xfb7232(0x4c1)),studentQuizArea[_0xfb7232(0x200)]['add'](_0xfb7232(0x4c1)),setupResultScreenBackButton();if(window[_0xfb7232(0x222)])window[_0xfb7232(0x222)][_0xfb7232(0x11e)]([studentResultArea]);}function displayResultsScoreOnly(_0x3712ec,_0x236d2b,_0x324d0c,_0x47340f){const _0x2f0f8=_0x52e79a,_0x38fefd=_0x47340f>0x0?_0x3712ec/_0x47340f*0x64:0x0,_0x25c850=currentDisplayedQuiz[_0x2f0f8(0x1a2)]?.[_0x2f0f8(0x62e)]??-0x1,_0x103cad=currentDisplayedQuiz[_0x2f0f8(0x4e3)]===!![];let _0x3e65ed='';if(_0x103cad||_0x25c850!==-0x1){let _0x26662d;_0x103cad?_0x26662d=_0x3712ec===_0x47340f:_0x26662d=_0x3712ec>=_0x25c850;const _0x52625f=_0x26662d?_0x2f0f8(0x649):_0x2f0f8(0xea),_0x5c2cdd=_0x26662d?_0x2f0f8(0x380):'ไม่ผ่าน';_0x3e65ed=_0x2f0f8(0x47c)+_0x52625f+'\x22>'+_0x5c2cdd+_0x2f0f8(0x3ae);}let _0x2e6e4f=_0x2f0f8(0x1f1)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x3712ec+_0x2f0f8(0x341)+_0x47340f+_0x2f0f8(0x514)+_0x3e65ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x236d2b+_0x2f0f8(0x414)+_0x38fefd['toFixed'](0x0)+_0x2f0f8(0x4c9);studentResultArea[_0x2f0f8(0xeb)]=_0x2e6e4f,renderEarnedBadges(_0x324d0c,_0x2f0f8(0x1b7)),studentResultArea[_0x2f0f8(0x200)][_0x2f0f8(0x1fd)]('hidden'),studentQuizArea[_0x2f0f8(0x200)]['add'](_0x2f0f8(0x4c1)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x432f5c=_0x52e79a;let _0x325f8e=_0x432f5c(0x25e)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x432f5c(0xeb)]=_0x325f8e,studentResultArea[_0x432f5c(0x200)]['remove']('hidden'),studentQuizArea['classList'][_0x432f5c(0x57b)](_0x432f5c(0x4c1)),document['getElementById'](_0x432f5c(0x52c))[_0x432f5c(0x413)]('click',()=>{const _0x27b440=_0x432f5c;showView('student'),document[_0x27b440(0x4eb)](_0x27b440(0x20c))[_0x27b440(0x4d7)]='';});}function renderEarnedBadges(_0x4c5f77,_0x3f6da3){const _0x8c7f0b=_0x52e79a,_0x678cdb=document[_0x8c7f0b(0x4eb)](_0x3f6da3);if(!_0x678cdb||!_0x4c5f77||_0x4c5f77[_0x8c7f0b(0x665)]===0x0)return;let _0x52d5f9='';_0x4c5f77[_0x8c7f0b(0x5bc)]((_0x2e500f,_0x31b735)=>{const _0x350a2e=_0x8c7f0b,_0x499fa8=Object[_0x350a2e(0x1ee)](BADGES)['find'](_0x498afd=>_0x498afd['id']===_0x2e500f);_0x499fa8&&(_0x52d5f9+=_0x350a2e(0x4c2)+_0x31b735*0.2+'s;\x22\x20title=\x22'+_0x499fa8['description']+_0x350a2e(0x18f)+_0x499fa8[_0x350a2e(0x191)]+_0x350a2e(0x3e9)+_0x499fa8['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x678cdb[_0x8c7f0b(0xeb)]=_0x52d5f9;}function startPresentation(_0x7b9484){const _0x199df5=_0x52e79a;currentQuizData=getShuffledQuiz(_0x7b9484),currentPresentationSlide=0x0,presentationModal[_0x199df5(0x262)][_0x199df5(0x32c)]=_0x199df5(0x352),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2c3e6c=_0x52e79a;document[_0x2c3e6c(0x43d)]&&document[_0x2c3e6c(0x584)](),presentationModal[_0x2c3e6c(0x262)][_0x2c3e6c(0x32c)]=_0x2c3e6c(0x364);}function renderPresentationSlide(_0x59e15f){const _0x487af0=_0x52e79a,_0x5b9945=document[_0x487af0(0x4eb)](_0x487af0(0x4d3));if(!currentQuizData||!currentQuizData[_0x487af0(0x27f)]||!currentQuizData[_0x487af0(0x27f)][_0x59e15f]){_0x5b9945['innerHTML']=_0x487af0(0x49d);return;}const _0x571e0b=currentQuizData[_0x487af0(0x27f)][_0x59e15f],_0x45ca8d=_0x571e0b[_0x487af0(0x23d)]||currentQuizData['quizType'];_0x5b9945[_0x487af0(0xeb)]='';let _0x2f22d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x571e0b[_0x487af0(0x26e)]?_0x487af0(0x2b1)+_0x571e0b[_0x487af0(0x26e)]+_0x487af0(0x5ca):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x59e15f+0x1)+'.\x20'+(_0x571e0b[_0x487af0(0x55b)]||_0x571e0b['questionText'])+_0x487af0(0x1dc);switch(_0x45ca8d){case'matching_item':_0x2f22d0+=_0x571e0b['allResponses'][_0x487af0(0x2ce)](_0x4709a2=>_0x487af0(0x56b)+_0x4709a2+_0x487af0(0x407))[_0x487af0(0x42d)]('');break;case _0x487af0(0x5a8):_0x2f22d0+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x2f22d0+=_0x487af0(0x13f);break;case _0x487af0(0x5b4):case'short_answer':_0x2f22d0+=_0x487af0(0x5c8);break;case'fill_in_the_blank':case'multiple_choice':default:_0x2f22d0+=_0x571e0b['options'][_0x487af0(0x2ce)]((_0x210f7f,_0x50867a)=>_0x487af0(0x55c)+_0x50867a+_0x487af0(0x454)+_0x210f7f+_0x487af0(0x407))[_0x487af0(0x42d)]('');break;}_0x2f22d0+=_0x487af0(0x585)+(_0x571e0b[_0x487af0(0xd7)]||'ไม่มีคำอธิบาย')+_0x487af0(0x19c),_0x5b9945[_0x487af0(0xeb)]=_0x2f22d0;if(window['MathJax'])window[_0x487af0(0x222)]['typesetPromise']([_0x5b9945]);document['querySelectorAll']('.presentation-option')[_0x487af0(0x5bc)](_0x2dd254=>{const _0x592b7f=_0x487af0;_0x2dd254['addEventListener'](_0x592b7f(0x354),_0x52c0d0=>revealAnswerForPresentation(_0x59e15f,_0x52c0d0[_0x592b7f(0x321)]));});const _0x4c7e59=document[_0x487af0(0x4eb)](_0x487af0(0x1c7));_0x4c7e59&&_0x4c7e59['addEventListener'](_0x487af0(0x354),()=>checkShortAnswerForPresentation(_0x59e15f)),document[_0x487af0(0x4eb)](_0x487af0(0x495))[_0x487af0(0x3cd)]='ข้อที่\x20'+(_0x59e15f+0x1)+_0x487af0(0x5ee)+currentQuizData['questions'][_0x487af0(0x665)],document[_0x487af0(0x4eb)]('prev-question-btn')['disabled']=_0x59e15f===0x0,document['getElementById'](_0x487af0(0x47d))[_0x487af0(0x5cb)]=_0x59e15f===currentQuizData[_0x487af0(0x27f)][_0x487af0(0x665)]-0x1;}async function checkShortAnswerForPresentation(_0x290a9f){const _0x32b277=_0x52e79a,_0x2476c4=currentQuizData[_0x32b277(0x27f)][_0x290a9f],_0x6e10=document[_0x32b277(0x4eb)]('presentation-short-answer-input'),_0x2bd3de=document[_0x32b277(0x4eb)](_0x32b277(0x1c7)),_0x4979aa=document[_0x32b277(0x4eb)]('presentation-ai-result'),_0x4f513c=document[_0x32b277(0x4eb)](_0x32b277(0x3e1));if(!_0x6e10||!_0x2bd3de||!_0x4979aa||!_0x4f513c)return;const _0x144b01=_0x6e10[_0x32b277(0x4d7)]['trim']();if(_0x144b01==='')return;_0x2bd3de[_0x32b277(0x5cb)]=!![],_0x2bd3de[_0x32b277(0xeb)]=_0x32b277(0x5f0),_0x6e10[_0x32b277(0x5cb)]=!![];const _0x2295fa=await gradeShortAnswer(_0x144b01,_0x2476c4);_0x2295fa?_0x4979aa['innerHTML']=_0x32b277(0x2b8):_0x4979aa[_0x32b277(0xeb)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x2476c4[_0x32b277(0x19a)]+')',_0x4979aa[_0x32b277(0x200)][_0x32b277(0x1fd)](_0x32b277(0x4c1)),_0x4f513c['classList'][_0x32b277(0x1fd)](_0x32b277(0x4c1)),_0x2bd3de[_0x32b277(0x200)][_0x32b277(0x57b)](_0x32b277(0x4c1));}function revealAnswerForPresentation(_0x3891c4,_0x4f6dca){const _0x1face8=_0x52e79a,_0x39d7c7=currentQuizData[_0x1face8(0x27f)][_0x3891c4],_0x454b88=_0x39d7c7[_0x1face8(0x23d)]||currentQuizData['quizType'];document[_0x1face8(0x574)](_0x1face8(0x1e7))[_0x1face8(0x5bc)](_0x1f1e01=>{const _0x5b0a22=_0x1face8;_0x1f1e01[_0x5b0a22(0x5cb)]=!![],_0x1f1e01[_0x5b0a22(0x200)][_0x5b0a22(0x1fd)]('hover:bg-indigo-100');let _0x3aa191=![];if(_0x454b88===_0x5b0a22(0xfa)||_0x454b88===_0x5b0a22(0x16e)){const _0x4605f9=parseInt(_0x1f1e01['dataset'][_0x5b0a22(0x2bd)]);_0x3aa191=_0x4605f9===_0x39d7c7[_0x5b0a22(0x5e7)];}else{if(_0x454b88==='true_false'){const _0x218b3e=_0x1f1e01[_0x5b0a22(0x3b5)]['answer']===_0x5b0a22(0x29b);_0x3aa191=_0x218b3e===_0x39d7c7[_0x5b0a22(0x1cb)];}else _0x454b88==='matching_item'&&(_0x3aa191=_0x1f1e01['textContent']['trim']()===_0x39d7c7[_0x5b0a22(0x5a5)]);}_0x3aa191?_0x1f1e01[_0x5b0a22(0x200)][_0x5b0a22(0x57b)](_0x5b0a22(0x1c9),_0x5b0a22(0x2af),_0x5b0a22(0x17b)):_0x1f1e01[_0x5b0a22(0x200)][_0x5b0a22(0x57b)](_0x5b0a22(0x315));}),_0x4f6dca['classList'][_0x1face8(0x1fd)]('opacity-50');let _0x3cd6f8=![];if(_0x454b88===_0x1face8(0xfa))_0x3cd6f8=parseInt(_0x4f6dca[_0x1face8(0x3b5)][_0x1face8(0x2bd)])===_0x39d7c7[_0x1face8(0x5e7)];else{if(_0x454b88==='true_false')_0x3cd6f8=_0x4f6dca['dataset'][_0x1face8(0x5a2)]===_0x1face8(0x29b)===_0x39d7c7['correctAnswer'];else _0x454b88==='matching_item'&&(_0x3cd6f8=_0x4f6dca['textContent'][_0x1face8(0xfd)]()===_0x39d7c7['correctResponse']);}!_0x3cd6f8&&_0x4f6dca[_0x1face8(0x200)][_0x1face8(0x57b)](_0x1face8(0x111),_0x1face8(0x2af),_0x1face8(0x61a)),document[_0x1face8(0x4eb)](_0x1face8(0x3e1))[_0x1face8(0x200)][_0x1face8(0x1fd)](_0x1face8(0x4c1));}function startWholeQuizTimer(_0x33c7d6){const _0x5e4f8b=_0x52e79a,_0x6d5ed4=document[_0x5e4f8b(0x4eb)](_0x5e4f8b(0x5de));if(!_0x6d5ed4)return;const _0x13bbc6=Date[_0x5e4f8b(0x57f)]()+_0x33c7d6*0x3c*0x3e8;_0x6d5ed4[_0x5e4f8b(0xeb)]=_0x5e4f8b(0x255);const _0x21c96c=document[_0x5e4f8b(0x4eb)](_0x5e4f8b(0x342));quizTimerInterval=setInterval(()=>{const _0x4b1c1e=_0x5e4f8b,_0x7e08fa=_0x13bbc6-Date[_0x4b1c1e(0x57f)]();if(_0x7e08fa<=0x0)clearInterval(quizTimerInterval),_0x21c96c[_0x4b1c1e(0x3cd)]=_0x4b1c1e(0x65d),showMessage(_0x4b1c1e(0x2cc)),handleSubmitQuiz(null);else{const _0x2ecb30=Math[_0x4b1c1e(0x634)](_0x7e08fa/0x3e8/0x3c%0x3c)[_0x4b1c1e(0x29c)]()[_0x4b1c1e(0x1e8)](0x2,'0'),_0x528d01=Math['floor'](_0x7e08fa/0x3e8%0x3c)['toString']()[_0x4b1c1e(0x1e8)](0x2,'0');_0x21c96c[_0x4b1c1e(0x3cd)]=_0x2ecb30+':'+_0x528d01;}},0x3e8);}function renderPerQuestionView(){const _0x24b901=_0x52e79a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xfd08d8=currentDisplayedQuiz[_0x24b901(0x27f)][currentQuestionIndex],_0x23558d=_0xfd08d8[_0x24b901(0x23d)]||currentDisplayedQuiz[_0x24b901(0x3e6)];let _0x350aba='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x24b901(0x27f)][_0x24b901(0x665)]+_0x24b901(0x499)+(currentMode===_0x24b901(0x4a8)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x24b901(0x5ed)+currentDisplayedQuiz[_0x24b901(0x453)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x24b901(0x27f)][_0x24b901(0x665)]-0x1?_0x24b901(0x416):'คำถามถัดไป')+_0x24b901(0x142);studentQuizArea['innerHTML']=_0x350aba;let _0x1cf7d0='',_0x1a5096='';switch(_0x23558d){case'matching_item':_0x1cf7d0=currentQuestionIndex+0x1+'.\x20'+_0xfd08d8[_0x24b901(0x55b)],_0x1a5096='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfd08d8[_0x24b901(0x2e6)]['map'](_0x254408=>_0x24b901(0x13a)+_0x254408+'\x22>'+_0x254408+_0x24b901(0x3a1))[_0x24b901(0x42d)]('')+_0x24b901(0x378);break;case _0x24b901(0x5a8):_0x1cf7d0=currentQuestionIndex+0x1+'.\x20'+_0xfd08d8[_0x24b901(0x2cb)],_0x1a5096=_0x24b901(0x49b);break;case _0x24b901(0x27d):case _0x24b901(0x5b4):_0x1cf7d0=currentQuestionIndex+0x1+'.\x20'+_0xfd08d8['questionText'],_0x1a5096=_0x24b901(0x4f5);break;case _0x24b901(0xfa):case _0x24b901(0x2b4):default:_0x1cf7d0=currentQuestionIndex+0x1+'.\x20'+_0xfd08d8[_0x24b901(0x2cb)],_0x1a5096=_0xfd08d8['options'][_0x24b901(0x2ce)]((_0x564eb7,_0x487323)=>_0x24b901(0x58d)+_0x487323+_0x24b901(0x3c4)+_0x487323+_0x24b901(0x5ae)+_0x487323+'\x22>'+_0x564eb7+_0x24b901(0x4f4))[_0x24b901(0x42d)]('');break;}_0xfd08d8['imageCode']&&(_0x1cf7d0+=_0x24b901(0x2b1)+_0xfd08d8['imageCode']+'</div>');document[_0x24b901(0x4eb)](_0x24b901(0x473))['innerHTML']=_0x1cf7d0,document[_0x24b901(0x4eb)](_0x24b901(0x206))[_0x24b901(0xeb)]=_0x1a5096;if(currentMode===_0x24b901(0x4a8)){const _0x8f182e=document[_0x24b901(0x4eb)](_0x24b901(0x24b));if(_0x8f182e)_0x8f182e[_0x24b901(0x413)](_0x24b901(0x354),cancelAdminTest);}document['getElementById'](_0x24b901(0x647))[_0x24b901(0x413)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x24b901(0x11e)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1787a1=_0x52e79a,_0x3bb5b5=currentDisplayedQuiz['settings']['timerDuration'],_0xa6140c=document['getElementById'](_0x1787a1(0x65e));if(!_0xa6140c)return;let _0x59c461=_0x3bb5b5;_0xa6140c[_0x1787a1(0xeb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x59c461+_0x1787a1(0x148);const _0x53be1f=document['getElementById']('timer-bar'),_0x384d0c=document[_0x1787a1(0x4eb)](_0x1787a1(0x676));perQuestionTimerInterval=setInterval(()=>{const _0x3a9723=_0x1787a1;_0x59c461--;const _0x5b9c8=_0x59c461/_0x3bb5b5*0x64;_0x53be1f[_0x3a9723(0x262)][_0x3a9723(0x618)]=_0x5b9c8+'%',_0x384d0c[_0x3a9723(0x3cd)]=_0x59c461,_0x59c461<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3a9723(0x502)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x8a5865=![]){const _0x2a69c9=_0x52e79a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x291d2d=null;if(!_0x8a5865){const _0x5e5c70=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x301966=_0x5e5c70['questionType']||currentDisplayedQuiz[_0x2a69c9(0x3e6)];if(_0x301966===_0x2a69c9(0x27d)||_0x301966===_0x2a69c9(0x5b4)){const _0x294e0f=document[_0x2a69c9(0x2ad)](_0x2a69c9(0x43c));_0x291d2d=_0x294e0f?_0x294e0f[_0x2a69c9(0x4d7)][_0x2a69c9(0xfd)]():'';}else{if(_0x301966===_0x2a69c9(0x615)){const _0x3017d9=document[_0x2a69c9(0x2ad)]('#per-question-options\x20select');_0x291d2d=_0x3017d9?_0x3017d9[_0x2a69c9(0x4d7)]:'';}else{const _0x57b83f=document[_0x2a69c9(0x2ad)]('input[name=\x22question_single\x22]:checked');if(_0x57b83f){const _0x392312=_0x57b83f[_0x2a69c9(0x4d7)];_0x291d2d=!isNaN(parseInt(_0x392312,0xa))&&_0x392312[_0x2a69c9(0xfd)]()!==''?parseInt(_0x392312,0xa):_0x392312;}}}}studentAnswersPerQuestion[_0x2a69c9(0x2e0)](_0x291d2d),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2a69c9(0x665)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x23ba21=_0x52e79a,_0x4ecf99=currentDisplayedQuiz[_0x23ba21(0x27f)]['some'](_0x4298e0=>_0x4298e0['questionType']===_0x23ba21(0x27d));_0x4ecf99?showMessage(_0x23ba21(0x533)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x5bd92a=currentQuizData['id'],_0x3a0e41=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5bd92a+_0x23ba21(0x480),currentStudentName),_0x1e3848=await getDoc(_0x3a0e41),_0x8098e7=_0x1e3848[_0x23ba21(0x10e)]()?_0x1e3848['data']():{},_0x22b19c=_0x8098e7[_0x23ba21(0x51f)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x22b19c);}function getResultsFilename(){const _0x5735e1=_0x52e79a,_0x152d72=document[_0x5735e1(0x4eb)](_0x5735e1(0x176))[_0x5735e1(0x3cd)][_0x5735e1(0x235)](/[^a-z0-9]/gi,'_')[_0x5735e1(0x177)]();return _0x5735e1(0x418)+(_0x152d72||_0x5735e1(0x47b));}function exportResultsAsImage(){const _0x3be0de=_0x52e79a,_0x322a9d=document[_0x3be0de(0x4eb)]('results-table-container');showMessage(_0x3be0de(0x31d)),html2canvas(_0x322a9d)[_0x3be0de(0x2fd)](_0x2713a1=>{const _0x4e3667=_0x3be0de,_0xfbfbc8=document[_0x4e3667(0x5a9)]('a');_0xfbfbc8[_0x4e3667(0x3b8)]=getResultsFilename()+_0x4e3667(0x666),_0xfbfbc8[_0x4e3667(0xcf)]=_0x2713a1[_0x4e3667(0x56d)]('image/png'),_0xfbfbc8[_0x4e3667(0x354)](),messageModal[_0x4e3667(0x200)][_0x4e3667(0x57b)](_0x4e3667(0x4c1));});}function exportResultsAsPDF(){const _0x323360=_0x52e79a,{jsPDF:_0x2df680}=window[_0x323360(0x234)],_0x12009f=new _0x2df680();_0x12009f[_0x323360(0x224)](_0x323360(0x2c3),_0x323360(0x4b1)),_0x12009f[_0x323360(0x5d0)]({'html':_0x323360(0x5b5)}),_0x12009f['save'](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x5de30a=_0x52e79a,_0x120a1a=_0x5de30a(0x54a)+_0x5de30a(0x601)+_0x5de30a(0x2a3)+_0x5de30a(0x5b0),_0x1bf071=_0x5de30a(0x49f),_0x9f3d96=_0x120a1a+document[_0x5de30a(0x4eb)](_0x5de30a(0x141))['innerHTML']+_0x1bf071,_0x2d3b99='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x9f3d96),_0x1c7b71=document[_0x5de30a(0x5a9)]('a');document['body']['appendChild'](_0x1c7b71),_0x1c7b71['href']=_0x2d3b99,_0x1c7b71[_0x5de30a(0x3b8)]=getResultsFilename()+_0x5de30a(0x1c0),_0x1c7b71[_0x5de30a(0x354)](),document['body']['removeChild'](_0x1c7b71);}function exportResultsAsExcel(){const _0x56c508=_0x52e79a,_0x4cda9b=document[_0x56c508(0x4eb)](_0x56c508(0x46e));let _0x491851=[];for(let _0x3afece=0x0;_0x3afece<_0x4cda9b[_0x56c508(0x3f7)][_0x56c508(0x665)];_0x3afece++){let _0x3a84cf=[],_0x529228=_0x4cda9b[_0x56c508(0x3f7)][_0x3afece]['querySelectorAll']('td,\x20th');for(let _0x576f2d=0x0;_0x576f2d<_0x529228['length'];_0x576f2d++){_0x3a84cf[_0x56c508(0x2e0)]('\x22'+_0x529228[_0x576f2d][_0x56c508(0x40a)][_0x56c508(0x235)](/"/g,'\x22\x22')+'\x22');}_0x491851[_0x56c508(0x2e0)](_0x3a84cf[_0x56c508(0x42d)](','));}const _0x1859db=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x491851[_0x56c508(0x42d)]('\x0a')],{'type':_0x56c508(0x1ad)}),_0x485d5a=document['createElement']('a');_0x485d5a[_0x56c508(0xcf)]=URL[_0x56c508(0x17d)](_0x1859db),_0x485d5a[_0x56c508(0x3b8)]=getResultsFilename()+'.csv',_0x485d5a[_0x56c508(0x354)]();}function exportTableAsImage(_0x1f6b9d,_0x40c440){const _0x56cd1a=_0x52e79a,_0x23d0dd=document['getElementById'](_0x1f6b9d);if(!_0x23d0dd){showMessage(_0x56cd1a(0x331));return;}showMessage(_0x56cd1a(0x31d)),html2canvas(_0x23d0dd)[_0x56cd1a(0x2fd)](_0x5bb826=>{const _0x2004e6=_0x56cd1a,_0x2e6ffe=document[_0x2004e6(0x5a9)]('a');_0x2e6ffe[_0x2004e6(0x3b8)]=_0x40c440+_0x2004e6(0x666),_0x2e6ffe[_0x2004e6(0xcf)]=_0x5bb826[_0x2004e6(0x56d)](_0x2004e6(0x24c)),_0x2e6ffe[_0x2004e6(0x354)](),messageModal[_0x2004e6(0x200)]['add'](_0x2004e6(0x4c1));});}function exportTableAsPDF(_0x2e3140,_0x2f18f2){const _0x1f709b=_0x52e79a,{jsPDF:_0x57fbb4}=window[_0x1f709b(0x234)],_0x44a51f=new _0x57fbb4();_0x44a51f['setFont'](_0x1f709b(0x2c3),_0x1f709b(0x4b1)),_0x44a51f[_0x1f709b(0x5d0)]({'html':'#'+_0x2e3140}),_0x44a51f[_0x1f709b(0x67f)](_0x2f18f2+_0x1f709b(0x4e6));}function exportTableAsWord(_0x529976,_0x3d1670){const _0x1ba68f=_0x52e79a,_0x53e041=document[_0x1ba68f(0x4eb)](_0x529976);if(!_0x53e041){showMessage(_0x1ba68f(0x331));return;}const _0x573be7=_0x1ba68f(0x54a)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x1ba68f(0x2a3)+_0x1ba68f(0x5b0),_0x1dcdd9=_0x1ba68f(0x49f),_0x183582=_0x573be7+_0x53e041[_0x1ba68f(0xeb)]+_0x1dcdd9,_0x84c00=_0x1ba68f(0x3b0)+encodeURIComponent(_0x183582),_0x31204a=document['createElement']('a');document[_0x1ba68f(0x14f)][_0x1ba68f(0x223)](_0x31204a),_0x31204a[_0x1ba68f(0xcf)]=_0x84c00,_0x31204a[_0x1ba68f(0x3b8)]=_0x3d1670+_0x1ba68f(0x1c0),_0x31204a['click'](),document[_0x1ba68f(0x14f)][_0x1ba68f(0x369)](_0x31204a);}function exportTableAsExcel(_0x1fa7ee,_0x29058f){const _0xe0a647=_0x52e79a,_0x4c2c09=document[_0xe0a647(0x4eb)](_0x1fa7ee);if(!_0x4c2c09){showMessage(_0xe0a647(0x331));return;}let _0x594642=[];for(let _0x14cf82=0x0;_0x14cf82<_0x4c2c09[_0xe0a647(0x3f7)][_0xe0a647(0x665)];_0x14cf82++){let _0x4e13bf=[],_0x4da13e=_0x4c2c09[_0xe0a647(0x3f7)][_0x14cf82][_0xe0a647(0x574)](_0xe0a647(0x3a4));for(let _0x4f6aee=0x0;_0x4f6aee<_0x4da13e['length'];_0x4f6aee++){_0x4e13bf[_0xe0a647(0x2e0)]('\x22'+_0x4da13e[_0x4f6aee][_0xe0a647(0x40a)][_0xe0a647(0x235)](/"/g,'\x22\x22')+'\x22');}_0x594642[_0xe0a647(0x2e0)](_0x4e13bf[_0xe0a647(0x42d)](','));}const _0x1c55f7=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x594642[_0xe0a647(0x42d)]('\x0a')],{'type':_0xe0a647(0x1ad)}),_0x126245=document[_0xe0a647(0x5a9)]('a');_0x126245[_0xe0a647(0xcf)]=URL['createObjectURL'](_0x1c55f7),_0x126245[_0xe0a647(0x3b8)]=_0x29058f+'.csv',_0x126245[_0xe0a647(0x354)]();}function renderAnalytics(_0x1a79e3,_0x1ff8c6){const _0x441a9c=_0x52e79a,_0x43fd7b=currentProjectData['students'][_0x441a9c(0x665)],_0x5f4d8e=_0x1ff8c6[_0x441a9c(0x665)],_0x545fce=_0x43fd7b-_0x5f4d8e,_0x580788=_0x43fd7b>0x0?_0x5f4d8e/_0x43fd7b*0x64:0x0,_0x30b952=_0x1ff8c6[_0x441a9c(0x2ce)](_0x5f33d2=>_0x5f33d2[_0x441a9c(0x475)]),_0x1d487b=_0x30b952[_0x441a9c(0x665)]>0x0?_0x30b952[_0x441a9c(0x59d)]((_0x48591e,_0x168723)=>_0x48591e+_0x168723,0x0)/_0x30b952[_0x441a9c(0x665)]:0x0,_0x3eb592=_0x1a79e3[_0x441a9c(0x27f)]['length'],_0x293ed1=_0x3eb592>0x0?_0x1d487b/_0x3eb592*0x64:0x0,_0x284bf1=document[_0x441a9c(0x4eb)](_0x441a9c(0x645));_0x284bf1[_0x441a9c(0xeb)]=_0x441a9c(0x42b)+_0x580788[_0x441a9c(0x220)](0x0)+_0x441a9c(0x510)+_0x5f4d8e+'/'+_0x43fd7b+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x1d487b[_0x441a9c(0x220)](0x2)+_0x441a9c(0x3d1)+_0x293ed1[_0x441a9c(0x220)](0x0)+_0x441a9c(0x5f9)+(_0x30b952[_0x441a9c(0x665)]>0x0?Math[_0x441a9c(0x641)](..._0x30b952):'N/A')+_0x441a9c(0x4cc)+(_0x30b952[_0x441a9c(0x665)]>0x0?Math['min'](..._0x30b952):_0x441a9c(0x41f))+_0x441a9c(0x2a4);const _0x4ffc14=currentProjectData['students']||[];renderSubmissionChart(_0x5f4d8e,_0x545fce,_0x1ff8c6,_0x4ffc14),renderScoreDistributionChart(_0x1ff8c6,_0x3eb592),renderQuestionAnalytics(_0x1a79e3,_0x1ff8c6,_0x4ffc14);}function renderSubmissionChart(_0x485bd4,_0x596a60,_0x17ed30,_0x1c5fe4){const _0x5e706e=_0x52e79a,_0x2109bf=document[_0x5e706e(0x4eb)](_0x5e706e(0x2e9))[_0x5e706e(0x1b6)]('2d'),_0x31f6aa=_0x17ed30[_0x5e706e(0x2ce)](_0x14b5a2=>_0x14b5a2['studentName']),_0x13d37d=_0x1c5fe4[_0x5e706e(0x3d5)](_0x675dce=>!_0x31f6aa[_0x5e706e(0x592)](_0x675dce));chartInstances[_0x5e706e(0x395)]&&chartInstances[_0x5e706e(0x395)][_0x5e706e(0x36c)](),chartInstances[_0x5e706e(0x395)]=new Chart(_0x2109bf,{'type':_0x5e706e(0x1c8),'data':{'labels':[_0x5e706e(0x430),_0x5e706e(0x507)],'datasets':[{'data':[_0x485bd4,_0x596a60],'backgroundColor':[_0x5e706e(0x53e),'#F59E0B'],'borderColor':[_0x5e706e(0x604),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5e706e(0x1fe)},'tooltip':{'callbacks':{'label':function(_0x8ef373){const _0x2a3e46=_0x5e706e;let _0x259666=_0x8ef373['label']||'';return _0x259666&&(_0x259666+=':\x20'),_0x259666+=_0x8ef373[_0x2a3e46(0xe4)],_0x259666;},'afterLabel':function(_0x33d91b){const _0xbd9eaa=_0x5e706e;let _0x3bdf47;return _0x33d91b[_0xbd9eaa(0x663)]===0x0?_0x3bdf47=_0x31f6aa:_0x3bdf47=_0x13d37d,_0x3bdf47[_0xbd9eaa(0x665)]>0x0?_0x3bdf47[_0xbd9eaa(0x42d)]('\x0a'):_0xbd9eaa(0x4a3);}}}}}});}function renderScoreDistributionChart(_0xe08163,_0x18a812){const _0xe4ad34=_0x52e79a,_0xedc6e3=document[_0xe4ad34(0x4eb)](_0xe4ad34(0x35e))['getContext']('2d'),_0x2928a4={};for(let _0x4c9159=0x0;_0x4c9159<=_0x18a812;_0x4c9159++){_0x2928a4[_0x4c9159]=0x0;}_0xe08163['forEach'](_0x3b5f8c=>{const _0x51263a=_0xe4ad34;_0x2928a4[_0x3b5f8c[_0x51263a(0x475)]]!==undefined&&_0x2928a4[_0x3b5f8c[_0x51263a(0x475)]]++;}),chartInstances['score']&&chartInstances[_0xe4ad34(0x53a)][_0xe4ad34(0x36c)](),chartInstances[_0xe4ad34(0x53a)]=new Chart(_0xedc6e3,{'type':_0xe4ad34(0x4cf),'data':{'labels':Object['keys'](_0x2928a4),'datasets':[{'label':_0xe4ad34(0x5f1),'data':Object['values'](_0x2928a4),'backgroundColor':_0xe4ad34(0x294),'borderColor':_0xe4ad34(0x3fa),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0xe4ad34(0x447)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x17aac7){const _0x2e77c6=_0xe4ad34,_0x1d9f60=_0x17aac7[_0x2e77c6(0x248)],_0xd19f22=_0xe08163[_0x2e77c6(0x3d5)](_0x1a91b2=>_0x1a91b2[_0x2e77c6(0x475)]==_0x1d9f60)[_0x2e77c6(0x2ce)](_0x332bb3=>_0x332bb3[_0x2e77c6(0x2eb)]);return _0xd19f22[_0x2e77c6(0x665)]>0x0?_0xd19f22[_0x2e77c6(0x42d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4b5f61,_0x551349,_0x5e3c83){const _0x488b0f=_0x52e79a,_0x33df93=document[_0x488b0f(0x4eb)]('question-analytics-container');if(_0x5e3c83['length']===0x0){_0x33df93[_0x488b0f(0xeb)]=_0x488b0f(0x3d8);return;}let _0x38b280='';const _0x30e518=_0x551349[_0x488b0f(0x2ce)](_0x30e0a9=>_0x30e0a9[_0x488b0f(0x2eb)]);_0x4b5f61[_0x488b0f(0x27f)]['forEach']((_0xbba57a,_0x5e43e4)=>{const _0x32f858=_0x488b0f;let _0x31079c=0x0;const _0x3e3a0a=[],_0x297d1b=[],_0x19d090=_0xbba57a[_0x32f858(0x55b)]||_0xbba57a[_0x32f858(0x2cb)]||_0xbba57a[_0x32f858(0x3bd)];_0x551349[_0x32f858(0x5bc)](_0x5d8320=>{const _0x28bc29=_0x32f858,_0x6329be=_0x5d8320[_0x28bc29(0x51f)][_0x5d8320[_0x28bc29(0x51f)][_0x28bc29(0x665)]-0x1];if(_0x6329be&&_0x6329be[_0x28bc29(0x5fc)]){const _0x1c5460=_0x6329be['answers'][_0x28bc29(0x298)](_0xadce5b=>_0xadce5b['originalQuestionText']===_0x19d090)??_0x6329be[_0x28bc29(0x5fc)][_0x5e43e4]??null;_0x1c5460&&(_0x1c5460['isCorrect']?(_0x31079c++,_0x3e3a0a[_0x28bc29(0x2e0)](_0x5d8320[_0x28bc29(0x2eb)])):_0x297d1b[_0x28bc29(0x2e0)](_0x5d8320['studentName']));}});const _0x43e975=_0x5e3c83['filter'](_0x118ce4=>!_0x30e518[_0x32f858(0x592)](_0x118ce4)),_0xa4af7=_0x551349['length']>0x0?_0x31079c/_0x551349[_0x32f858(0x665)]*0x64:0x0;_0x38b280+=_0x32f858(0x655)+(_0x5e43e4+0x1)+':\x20'+_0x19d090+_0x32f858(0x48d)+(_0xa4af7>=0x46?_0x32f858(0x12b):_0xa4af7>=0x28?_0x32f858(0x1ce):_0x32f858(0x1bd))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20'+_0xa4af7[_0x32f858(0x220)](0x0)+_0x32f858(0x45f)+_0x19d090+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x31079c+_0x32f858(0x1ff)+_0x551349[_0x32f858(0x665)]+_0x32f858(0x2aa)+_0x3e3a0a[_0x32f858(0x665)]+_0x32f858(0x170)+(_0x3e3a0a[_0x32f858(0x665)]>0x0?_0x3e3a0a[_0x32f858(0x42d)](',\x20'):_0x32f858(0x4a3))+_0x32f858(0x302)+_0x297d1b[_0x32f858(0x665)]+_0x32f858(0x170)+(_0x297d1b[_0x32f858(0x665)]>0x0?_0x297d1b[_0x32f858(0x42d)](',\x20'):_0x32f858(0x4a3))+_0x32f858(0x4f6)+_0x43e975[_0x32f858(0x665)]+_0x32f858(0x170)+(_0x43e975['length']>0x0?_0x43e975[_0x32f858(0x42d)](',\x20'):_0x32f858(0x4a3))+_0x32f858(0x240);}),_0x33df93[_0x488b0f(0xeb)]=_0x38b280;try{window['MathJax']&&MathJax[_0x488b0f(0x11e)]&&MathJax[_0x488b0f(0x11e)]([_0x33df93]);}catch(_0x585521){console[_0x488b0f(0x567)](_0x488b0f(0x22e),_0x585521);}}async function handleAnalyzeClass(){const _0x28ab52=_0x52e79a;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x338ef8=collection(db,_0x28ab52(0x21f)+appId+_0x28ab52(0x457)+currentQuizData['id']+'/submissions'),_0x120ad6=await getDocs(_0x338ef8),_0x38c842=_0x120ad6[_0x28ab52(0x45c)][_0x28ab52(0x2ce)](_0x5dd9c4=>_0x5dd9c4[_0x28ab52(0x67a)]());if(_0x38c842[_0x28ab52(0x665)]<0x2){showMessage(_0x28ab52(0x62d));return;}const _0x5d43fd=document[_0x28ab52(0x4eb)](_0x28ab52(0x541));_0x5d43fd[_0x28ab52(0xeb)]=_0x28ab52(0x55f),document[_0x28ab52(0x4eb)](_0x28ab52(0x34a))[_0x28ab52(0x5cb)]=!![];const _0x2c2f3f=_0x38c842['map']((_0x487728,_0xc3bb01)=>{const _0x5b0f81=_0x28ab52,_0x29edb5=_0x487728[_0x5b0f81(0x51f)][_0x487728['attempts']['length']-0x1];if(!_0x29edb5)return'';return _0x5b0f81(0x265)+(_0xc3bb01+0x1)+'\x20('+_0x487728['studentName']+_0x5b0f81(0x42f)+_0x29edb5[_0x5b0f81(0x53a)]+'/'+_0x487728[_0x5b0f81(0x2c5)]+_0x5b0f81(0x670)+JSON[_0x5b0f81(0x508)](_0x29edb5['answers'])+_0x5b0f81(0x509);})[_0x28ab52(0x42d)]('\x0a---\x0a'),_0x285614=_0x28ab52(0x31c)+currentQuizData[_0x28ab52(0x453)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x28ab52(0x27f)])+_0x28ab52(0x3f6)+_0x2c2f3f+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0xf2aa6={'type':_0x28ab52(0x12e),'properties':{'classStrengths':{'type':_0x28ab52(0x38f),'items':{'type':_0x28ab52(0x27c)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x28ab52(0x38f),'items':{'type':_0x28ab52(0x27c)}}},'required':['classStrengths',_0x28ab52(0x398),_0x28ab52(0x466)]};try{const _0x41749f=await callAnalysisApi(_0x285614,_0xf2aa6);displayClassAnalysis(_0x41749f);}catch(_0x4825c2){console[_0x28ab52(0x567)](_0x28ab52(0x63a),_0x4825c2),_0x5d43fd['innerHTML']=_0x28ab52(0x4d0)+_0x4825c2[_0x28ab52(0xef)]+_0x28ab52(0x228);}finally{document[_0x28ab52(0x4eb)]('analyze-strengths-btn')[_0x28ab52(0x5cb)]=![];}}function displayClassAnalysis(_0x53645f){const _0x17ddfe=_0x52e79a,_0x52b037=document[_0x17ddfe(0x4eb)](_0x17ddfe(0x541));if(!_0x53645f){_0x52b037[_0x17ddfe(0xeb)]=_0x17ddfe(0x1a1);return;}_0x52b037[_0x17ddfe(0xeb)]=_0x17ddfe(0xfb)+_0x53645f[_0x17ddfe(0x39b)][_0x17ddfe(0x2ce)](_0xbf4417=>_0x17ddfe(0x346)+_0xbf4417+'</li>')['join']('')+_0x17ddfe(0x32f)+_0x53645f[_0x17ddfe(0x398)][_0x17ddfe(0x2ce)](_0xce71d9=>_0x17ddfe(0x346)+_0xce71d9+_0x17ddfe(0x33e))[_0x17ddfe(0x42d)]('')+_0x17ddfe(0x132)+_0x53645f[_0x17ddfe(0x466)][_0x17ddfe(0x2ce)](_0x499eba=>_0x17ddfe(0x346)+_0x499eba+_0x17ddfe(0x33e))['join']('')+_0x17ddfe(0x5c2);}function formatAndPrintWorksheet(_0x58a910,_0x11227a){const _0x33e42f=_0x52e79a,_0x366c38=_0x33e42f(0x65f)+_0x58a910['topic']+_0x33e42f(0x19e)+_0x58a910[_0x33e42f(0x453)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58a910[_0x33e42f(0x27f)][_0x33e42f(0x2ce)]((_0x2c8f9a,_0xe4f455)=>_0x33e42f(0x62b)+(_0xe4f455+0x1)+'.\x20'+_0x2c8f9a[_0x33e42f(0x2cb)]+_0x33e42f(0x56a)+(_0x2c8f9a[_0x33e42f(0x26e)]?_0x33e42f(0x2d8)+_0x2c8f9a[_0x33e42f(0x26e)]+_0x33e42f(0x5ca):'')+_0x33e42f(0x494))[_0x33e42f(0x42d)]('')+_0x33e42f(0x37e);_0x11227a[_0x33e42f(0x404)][_0x33e42f(0x286)](_0x366c38),_0x11227a['document'][_0x33e42f(0x17a)](),_0x11227a['onload']=function(){_0x11227a['print']();};}async function generateWorksheet(){const _0x15cf4d=_0x52e79a,_0x5b913b=document[_0x15cf4d(0x4eb)]('worksheet-topic-input')[_0x15cf4d(0x4d7)][_0x15cf4d(0xfd)]();if(!_0x5b913b){showMessage(_0x15cf4d(0x15b));return;}const _0x597d92=document[_0x15cf4d(0x4eb)]('force-math-checkbox')['checked'],_0x52bff5=_0x597d92?'':_0x15cf4d(0x188),_0x3bfbc6=window[_0x15cf4d(0x283)]('',_0x15cf4d(0x41e));_0x3bfbc6[_0x15cf4d(0x404)][_0x15cf4d(0x286)](_0x15cf4d(0x5db));const _0x2fa4ef=parseInt(document['getElementById'](_0x15cf4d(0x178))[_0x15cf4d(0x4d7)]),_0x2acbe9=document[_0x15cf4d(0x4eb)](_0x15cf4d(0x3bf))[_0x15cf4d(0x21b)],_0x35bcda=_0x2acbe9?_0x15cf4d(0x384):'',_0x424982=_0x15cf4d(0x261)+_0x52bff5+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x2fa4ef+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x5b913b+_0x15cf4d(0x1a8)+_0x35bcda+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20',_0x110f8c={'type':_0x15cf4d(0x12e),'properties':{'topic':{'type':_0x15cf4d(0x27c)},'questions':{'type':_0x15cf4d(0x38f),'items':{'type':_0x15cf4d(0x12e),'properties':{'questionText':{'type':_0x15cf4d(0x27c)},'imageCode':{'type':_0x15cf4d(0x27c)}},'required':[_0x15cf4d(0x2cb)]}}},'required':['topic',_0x15cf4d(0x27f)]};document[_0x15cf4d(0x4eb)](_0x15cf4d(0x3c5))['textContent']='',document[_0x15cf4d(0x4eb)]('loader')['classList']['remove'](_0x15cf4d(0x4c1)),document[_0x15cf4d(0x4eb)](_0x15cf4d(0x2d0))[_0x15cf4d(0x200)][_0x15cf4d(0x1fd)](_0x15cf4d(0x4c1)),generateWorksheetBtn['disabled']=!![];try{const _0x43096d=await callAnalysisApi(_0x424982,_0x110f8c);formatAndPrintWorksheet(_0x43096d,_0x3bfbc6);}catch(_0x2c3365){console[_0x15cf4d(0x567)](_0x15cf4d(0x227),_0x2c3365);if(_0x3bfbc6)_0x3bfbc6[_0x15cf4d(0x17a)]();showMessage(_0x15cf4d(0x674));}finally{document[_0x15cf4d(0x4eb)](_0x15cf4d(0x46b))['classList'][_0x15cf4d(0x57b)]('hidden'),document[_0x15cf4d(0x4eb)](_0x15cf4d(0x2d0))[_0x15cf4d(0x200)][_0x15cf4d(0x57b)](_0x15cf4d(0x4c1)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x2e0772,_0x3e94dd){const _0x39f8e6=_0x52e79a,_0x6e5e72={'contents':[{'role':_0x39f8e6(0x3e2),'parts':[{'text':_0x2e0772}]}],'generationConfig':{'responseMimeType':_0x39f8e6(0x115),'responseSchema':_0x3e94dd}},_0x27158c=_0x39f8e6(0x3ee),_0x279b41=_0x39f8e6(0x646)+_0x27158c,_0x38d5ed=await fetch(_0x279b41,{'method':_0x39f8e6(0x410),'headers':{'Content-Type':_0x39f8e6(0x115)},'body':JSON[_0x39f8e6(0x508)](_0x6e5e72)});if(!_0x38d5ed['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x38d5ed[_0x39f8e6(0x657)]);const _0x551938=await _0x38d5ed['json']();if(_0x551938['candidates']?.[0x0]?.['content']?.[_0x39f8e6(0x30a)]?.[0x0])return JSON[_0x39f8e6(0x5ab)](_0x551938[_0x39f8e6(0x3b3)][0x0][_0x39f8e6(0x57c)][_0x39f8e6(0x30a)][0x0]['text']);else{let _0x2ae2c7='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x551938[_0x39f8e6(0x37f)]?.[_0x39f8e6(0x25a)])_0x2ae2c7=_0x39f8e6(0x648)+_0x551938[_0x39f8e6(0x37f)]['blockReason']+'.';else _0x551938['candidates']?.[0x0]?.['finishReason']&&_0x551938[_0x39f8e6(0x3b3)][0x0][_0x39f8e6(0x2c2)]!==_0x39f8e6(0x368)&&(_0x2ae2c7='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x551938['candidates'][0x0][_0x39f8e6(0x2c2)]+'.');console[_0x39f8e6(0x567)](_0x2ae2c7,JSON[_0x39f8e6(0x508)](_0x551938));throw new Error(_0x2ae2c7);}}initialize();
